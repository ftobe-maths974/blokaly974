(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))a(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const $ of p.addedNodes)$.tagName==="LINK"&&$.rel==="modulepreload"&&a($)}).observe(document,{childList:!0,subtree:!0});function n(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function a(h){if(h.ep)return;h.ep=!0;const p=n(h);fetch(h.href,p)}})();var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function su(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var k6={exports:{}},W2={};var Hp;function P$(){if(Hp)return W2;Hp=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function n(a,h,p){var $=null;if(p!==void 0&&($=""+p),h.key!==void 0&&($=""+h.key),"key"in h){p={};for(var _ in h)_!=="key"&&(p[_]=h[_])}else p=h;return h=p.ref,{$$typeof:r,type:a,key:$,ref:h!==void 0?h:null,props:p}}return W2.Fragment=o,W2.jsx=n,W2.jsxs=n,W2}var Vp;function F$(){return Vp||(Vp=1,k6.exports=P$()),k6.exports}var ye=F$(),I6={exports:{}},Mr={};var Gp;function U$(){if(Gp)return Mr;Gp=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),$=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),H=Symbol.iterator;function F(Le){return Le===null||typeof Le!="object"?null:(Le=H&&Le[H]||Le["@@iterator"],typeof Le=="function"?Le:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},he=Object.assign,ce={};function K(Le,tt,_e){this.props=Le,this.context=tt,this.refs=ce,this.updater=_e||te}K.prototype.isReactComponent={},K.prototype.setState=function(Le,tt){if(typeof Le!="object"&&typeof Le!="function"&&Le!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Le,tt,"setState")},K.prototype.forceUpdate=function(Le){this.updater.enqueueForceUpdate(this,Le,"forceUpdate")};function se(){}se.prototype=K.prototype;function we(Le,tt,_e){this.props=Le,this.context=tt,this.refs=ce,this.updater=_e||te}var Oe=we.prototype=new se;Oe.constructor=we,he(Oe,K.prototype),Oe.isPureReactComponent=!0;var De=Array.isArray;function Se(){}var je={H:null,A:null,T:null,S:null},at=Object.prototype.hasOwnProperty;function Ze(Le,tt,_e){var Ft=_e.ref;return{$$typeof:r,type:Le,key:tt,ref:Ft!==void 0?Ft:null,props:_e}}function Ke(Le,tt){return Ze(Le.type,tt,Le.props)}function Pt(Le){return typeof Le=="object"&&Le!==null&&Le.$$typeof===r}function Ve(Le){var tt={"=":"=0",":":"=2"};return"$"+Le.replace(/[=:]/g,function(_e){return tt[_e]})}var Xt=/\/+/g;function Lt(Le,tt){return typeof Le=="object"&&Le!==null&&Le.key!=null?Ve(""+Le.key):tt.toString(36)}function Ot(Le){switch(Le.status){case"fulfilled":return Le.value;case"rejected":throw Le.reason;default:switch(typeof Le.status=="string"?Le.then(Se,Se):(Le.status="pending",Le.then(function(tt){Le.status==="pending"&&(Le.status="fulfilled",Le.value=tt)},function(tt){Le.status==="pending"&&(Le.status="rejected",Le.reason=tt)})),Le.status){case"fulfilled":return Le.value;case"rejected":throw Le.reason}}throw Le}function st(Le,tt,_e,Ft,It){var Qt=typeof Le;(Qt==="undefined"||Qt==="boolean")&&(Le=null);var cn=!1;if(Le===null)cn=!0;else switch(Qt){case"bigint":case"string":case"number":cn=!0;break;case"object":switch(Le.$$typeof){case r:case o:cn=!0;break;case w:return cn=Le._init,st(cn(Le._payload),tt,_e,Ft,It)}}if(cn)return It=It(Le),cn=Ft===""?"."+Lt(Le,0):Ft,De(It)?(_e="",cn!=null&&(_e=cn.replace(Xt,"$&/")+"/"),st(It,tt,_e,"",function(sn){return sn})):It!=null&&(Pt(It)&&(It=Ke(It,_e+(It.key==null||Le&&Le.key===It.key?"":(""+It.key).replace(Xt,"$&/")+"/")+cn)),tt.push(It)),1;cn=0;var Hn=Ft===""?".":Ft+":";if(De(Le))for(var mn=0;mn<Le.length;mn++)Ft=Le[mn],Qt=Hn+Lt(Ft,mn),cn+=st(Ft,tt,_e,Qt,It);else if(mn=F(Le),typeof mn=="function")for(Le=mn.call(Le),mn=0;!(Ft=Le.next()).done;)Ft=Ft.value,Qt=Hn+Lt(Ft,mn++),cn+=st(Ft,tt,_e,Qt,It);else if(Qt==="object"){if(typeof Le.then=="function")return st(Ot(Le),tt,_e,Ft,It);throw tt=String(Le),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(Le).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return cn}function St(Le,tt,_e){if(Le==null)return Le;var Ft=[],It=0;return st(Le,Ft,"","",function(Qt){return tt.call(_e,Qt,It++)}),Ft}function vt(Le){if(Le._status===-1){var tt=Le._result;tt=tt(),tt.then(function(_e){(Le._status===0||Le._status===-1)&&(Le._status=1,Le._result=_e)},function(_e){(Le._status===0||Le._status===-1)&&(Le._status=2,Le._result=_e)}),Le._status===-1&&(Le._status=0,Le._result=tt)}if(Le._status===1)return Le._result.default;throw Le._result}var an=typeof reportError=="function"?reportError:function(Le){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Le=="object"&&Le!==null&&typeof Le.message=="string"?String(Le.message):String(Le),error:Le});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Le);return}console.error(Le)},de={map:St,forEach:function(Le,tt,_e){St(Le,function(){tt.apply(this,arguments)},_e)},count:function(Le){var tt=0;return St(Le,function(){tt++}),tt},toArray:function(Le){return St(Le,function(tt){return tt})||[]},only:function(Le){if(!Pt(Le))throw Error("React.Children.only expected to receive a single React element child.");return Le}};return Mr.Activity=I,Mr.Children=de,Mr.Component=K,Mr.Fragment=n,Mr.Profiler=h,Mr.PureComponent=we,Mr.StrictMode=a,Mr.Suspense=y,Mr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=je,Mr.__COMPILER_RUNTIME={__proto__:null,c:function(Le){return je.H.useMemoCache(Le)}},Mr.cache=function(Le){return function(){return Le.apply(null,arguments)}},Mr.cacheSignal=function(){return null},Mr.cloneElement=function(Le,tt,_e){if(Le==null)throw Error("The argument must be a React element, but you passed "+Le+".");var Ft=he({},Le.props),It=Le.key;if(tt!=null)for(Qt in tt.key!==void 0&&(It=""+tt.key),tt)!at.call(tt,Qt)||Qt==="key"||Qt==="__self"||Qt==="__source"||Qt==="ref"&&tt.ref===void 0||(Ft[Qt]=tt[Qt]);var Qt=arguments.length-2;if(Qt===1)Ft.children=_e;else if(1<Qt){for(var cn=Array(Qt),Hn=0;Hn<Qt;Hn++)cn[Hn]=arguments[Hn+2];Ft.children=cn}return Ze(Le.type,It,Ft)},Mr.createContext=function(Le){return Le={$$typeof:$,_currentValue:Le,_currentValue2:Le,_threadCount:0,Provider:null,Consumer:null},Le.Provider=Le,Le.Consumer={$$typeof:p,_context:Le},Le},Mr.createElement=function(Le,tt,_e){var Ft,It={},Qt=null;if(tt!=null)for(Ft in tt.key!==void 0&&(Qt=""+tt.key),tt)at.call(tt,Ft)&&Ft!=="key"&&Ft!=="__self"&&Ft!=="__source"&&(It[Ft]=tt[Ft]);var cn=arguments.length-2;if(cn===1)It.children=_e;else if(1<cn){for(var Hn=Array(cn),mn=0;mn<cn;mn++)Hn[mn]=arguments[mn+2];It.children=Hn}if(Le&&Le.defaultProps)for(Ft in cn=Le.defaultProps,cn)It[Ft]===void 0&&(It[Ft]=cn[Ft]);return Ze(Le,Qt,It)},Mr.createRef=function(){return{current:null}},Mr.forwardRef=function(Le){return{$$typeof:_,render:Le}},Mr.isValidElement=Pt,Mr.lazy=function(Le){return{$$typeof:w,_payload:{_status:-1,_result:Le},_init:vt}},Mr.memo=function(Le,tt){return{$$typeof:E,type:Le,compare:tt===void 0?null:tt}},Mr.startTransition=function(Le){var tt=je.T,_e={};je.T=_e;try{var Ft=Le(),It=je.S;It!==null&&It(_e,Ft),typeof Ft=="object"&&Ft!==null&&typeof Ft.then=="function"&&Ft.then(Se,an)}catch(Qt){an(Qt)}finally{tt!==null&&_e.types!==null&&(tt.types=_e.types),je.T=tt}},Mr.unstable_useCacheRefresh=function(){return je.H.useCacheRefresh()},Mr.use=function(Le){return je.H.use(Le)},Mr.useActionState=function(Le,tt,_e){return je.H.useActionState(Le,tt,_e)},Mr.useCallback=function(Le,tt){return je.H.useCallback(Le,tt)},Mr.useContext=function(Le){return je.H.useContext(Le)},Mr.useDebugValue=function(){},Mr.useDeferredValue=function(Le,tt){return je.H.useDeferredValue(Le,tt)},Mr.useEffect=function(Le,tt){return je.H.useEffect(Le,tt)},Mr.useEffectEvent=function(Le){return je.H.useEffectEvent(Le)},Mr.useId=function(){return je.H.useId()},Mr.useImperativeHandle=function(Le,tt,_e){return je.H.useImperativeHandle(Le,tt,_e)},Mr.useInsertionEffect=function(Le,tt){return je.H.useInsertionEffect(Le,tt)},Mr.useLayoutEffect=function(Le,tt){return je.H.useLayoutEffect(Le,tt)},Mr.useMemo=function(Le,tt){return je.H.useMemo(Le,tt)},Mr.useOptimistic=function(Le,tt){return je.H.useOptimistic(Le,tt)},Mr.useReducer=function(Le,tt,_e){return je.H.useReducer(Le,tt,_e)},Mr.useRef=function(Le){return je.H.useRef(Le)},Mr.useState=function(Le){return je.H.useState(Le)},Mr.useSyncExternalStore=function(Le,tt,_e){return je.H.useSyncExternalStore(Le,tt,_e)},Mr.useTransition=function(){return je.H.useTransition()},Mr.version="19.2.0",Mr}var Wp;function D5(){return Wp||(Wp=1,I6.exports=U$()),I6.exports}var Tn=D5();const Fs=su(Tn);var A6={exports:{}},q2={},N6={exports:{}},M6={};var qp;function z$(){return qp||(qp=1,(function(r){function o(st,St){var vt=st.length;st.push(St);e:for(;0<vt;){var an=vt-1>>>1,de=st[an];if(0<h(de,St))st[an]=St,st[vt]=de,vt=an;else break e}}function n(st){return st.length===0?null:st[0]}function a(st){if(st.length===0)return null;var St=st[0],vt=st.pop();if(vt!==St){st[0]=vt;e:for(var an=0,de=st.length,Le=de>>>1;an<Le;){var tt=2*(an+1)-1,_e=st[tt],Ft=tt+1,It=st[Ft];if(0>h(_e,vt))Ft<de&&0>h(It,_e)?(st[an]=It,st[Ft]=vt,an=Ft):(st[an]=_e,st[tt]=vt,an=tt);else if(Ft<de&&0>h(It,vt))st[an]=It,st[Ft]=vt,an=Ft;else break e}}return St}function h(st,St){var vt=st.sortIndex-St.sortIndex;return vt!==0?vt:st.id-St.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;r.unstable_now=function(){return p.now()}}else{var $=Date,_=$.now();r.unstable_now=function(){return $.now()-_}}var y=[],E=[],w=1,I=null,H=3,F=!1,te=!1,he=!1,ce=!1,K=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,we=typeof setImmediate<"u"?setImmediate:null;function Oe(st){for(var St=n(E);St!==null;){if(St.callback===null)a(E);else if(St.startTime<=st)a(E),St.sortIndex=St.expirationTime,o(y,St);else break;St=n(E)}}function De(st){if(he=!1,Oe(st),!te)if(n(y)!==null)te=!0,Se||(Se=!0,Ve());else{var St=n(E);St!==null&&Ot(De,St.startTime-st)}}var Se=!1,je=-1,at=5,Ze=-1;function Ke(){return ce?!0:!(r.unstable_now()-Ze<at)}function Pt(){if(ce=!1,Se){var st=r.unstable_now();Ze=st;var St=!0;try{e:{te=!1,he&&(he=!1,se(je),je=-1),F=!0;var vt=H;try{t:{for(Oe(st),I=n(y);I!==null&&!(I.expirationTime>st&&Ke());){var an=I.callback;if(typeof an=="function"){I.callback=null,H=I.priorityLevel;var de=an(I.expirationTime<=st);if(st=r.unstable_now(),typeof de=="function"){I.callback=de,Oe(st),St=!0;break t}I===n(y)&&a(y),Oe(st)}else a(y);I=n(y)}if(I!==null)St=!0;else{var Le=n(E);Le!==null&&Ot(De,Le.startTime-st),St=!1}}break e}finally{I=null,H=vt,F=!1}St=void 0}}finally{St?Ve():Se=!1}}}var Ve;if(typeof we=="function")Ve=function(){we(Pt)};else if(typeof MessageChannel<"u"){var Xt=new MessageChannel,Lt=Xt.port2;Xt.port1.onmessage=Pt,Ve=function(){Lt.postMessage(null)}}else Ve=function(){K(Pt,0)};function Ot(st,St){je=K(function(){st(r.unstable_now())},St)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(st){st.callback=null},r.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):at=0<st?Math.floor(1e3/st):5},r.unstable_getCurrentPriorityLevel=function(){return H},r.unstable_next=function(st){switch(H){case 1:case 2:case 3:var St=3;break;default:St=H}var vt=H;H=St;try{return st()}finally{H=vt}},r.unstable_requestPaint=function(){ce=!0},r.unstable_runWithPriority=function(st,St){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var vt=H;H=st;try{return St()}finally{H=vt}},r.unstable_scheduleCallback=function(st,St,vt){var an=r.unstable_now();switch(typeof vt=="object"&&vt!==null?(vt=vt.delay,vt=typeof vt=="number"&&0<vt?an+vt:an):vt=an,st){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=vt+de,st={id:w++,callback:St,priorityLevel:st,startTime:vt,expirationTime:de,sortIndex:-1},vt>an?(st.sortIndex=vt,o(E,st),n(y)===null&&st===n(E)&&(he?(se(je),je=-1):he=!0,Ot(De,vt-an))):(st.sortIndex=de,o(y,st),te||F||(te=!0,Se||(Se=!0,Ve()))),st},r.unstable_shouldYield=Ke,r.unstable_wrapCallback=function(st){var St=H;return function(){var vt=H;H=St;try{return st.apply(this,arguments)}finally{H=vt}}}})(M6)),M6}var Xp;function H$(){return Xp||(Xp=1,N6.exports=z$()),N6.exports}var O6={exports:{}},kl={};var jp;function V$(){if(jp)return kl;jp=1;var r=D5();function o(y){var E="https://react.dev/errors/"+y;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)E+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+y+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(o(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},h=Symbol.for("react.portal");function p(y,E,w){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:I==null?null:""+I,children:y,containerInfo:E,implementation:w}}var $=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(y,E){if(y==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return kl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,kl.createPortal=function(y,E){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(o(299));return p(y,E,null,w)},kl.flushSync=function(y){var E=$.T,w=a.p;try{if($.T=null,a.p=2,y)return y()}finally{$.T=E,a.p=w,a.d.f()}},kl.preconnect=function(y,E){typeof y=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,a.d.C(y,E))},kl.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},kl.preinit=function(y,E){if(typeof y=="string"&&E&&typeof E.as=="string"){var w=E.as,I=_(w,E.crossOrigin),H=typeof E.integrity=="string"?E.integrity:void 0,F=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;w==="style"?a.d.S(y,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:I,integrity:H,fetchPriority:F}):w==="script"&&a.d.X(y,{crossOrigin:I,integrity:H,fetchPriority:F,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},kl.preinitModule=function(y,E){if(typeof y=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var w=_(E.as,E.crossOrigin);a.d.M(y,{crossOrigin:w,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&a.d.M(y)},kl.preload=function(y,E){if(typeof y=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var w=E.as,I=_(w,E.crossOrigin);a.d.L(y,w,{crossOrigin:I,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},kl.preloadModule=function(y,E){if(typeof y=="string")if(E){var w=_(E.as,E.crossOrigin);a.d.m(y,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:w,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else a.d.m(y)},kl.requestFormReset=function(y){a.d.r(y)},kl.unstable_batchedUpdates=function(y,E){return y(E)},kl.useFormState=function(y,E,w){return $.H.useFormState(y,E,w)},kl.useFormStatus=function(){return $.H.useHostTransitionStatus()},kl.version="19.2.0",kl}var Yp;function G$(){if(Yp)return O6.exports;Yp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),O6.exports=V$(),O6.exports}var Kp;function W$(){if(Kp)return q2;Kp=1;var r=H$(),o=D5(),n=G$();function a(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function p(i){var l=i,c=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(c=l.return),i=l.return;while(i)}return l.tag===3?c:null}function $(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function _(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function y(i){if(p(i)!==i)throw Error(a(188))}function E(i){var l=i.alternate;if(!l){if(l=p(i),l===null)throw Error(a(188));return l!==i?null:i}for(var c=i,m=l;;){var S=c.return;if(S===null)break;var A=S.alternate;if(A===null){if(m=S.return,m!==null){c=m;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===c)return y(S),i;if(A===m)return y(S),l;A=A.sibling}throw Error(a(188))}if(c.return!==m.return)c=S,m=A;else{for(var X=!1,$e=S.child;$e;){if($e===c){X=!0,c=S,m=A;break}if($e===m){X=!0,m=S,c=A;break}$e=$e.sibling}if(!X){for($e=A.child;$e;){if($e===c){X=!0,c=A,m=S;break}if($e===m){X=!0,m=A,c=S;break}$e=$e.sibling}if(!X)throw Error(a(189))}}if(c.alternate!==m)throw Error(a(190))}if(c.tag!==3)throw Error(a(188));return c.stateNode.current===c?i:l}function w(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=w(i),l!==null)return l;i=i.sibling}return null}var I=Object.assign,H=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),he=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),we=Symbol.for("react.context"),Oe=Symbol.for("react.forward_ref"),De=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),at=Symbol.for("react.lazy"),Ze=Symbol.for("react.activity"),Ke=Symbol.for("react.memo_cache_sentinel"),Pt=Symbol.iterator;function Ve(i){return i===null||typeof i!="object"?null:(i=Pt&&i[Pt]||i["@@iterator"],typeof i=="function"?i:null)}var Xt=Symbol.for("react.client.reference");function Lt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Xt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case he:return"Fragment";case K:return"Profiler";case ce:return"StrictMode";case De:return"Suspense";case Se:return"SuspenseList";case Ze:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case te:return"Portal";case we:return i.displayName||"Context";case se:return(i._context.displayName||"Context")+".Consumer";case Oe:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case je:return l=i.displayName||null,l!==null?l:Lt(i.type)||"Memo";case at:l=i._payload,i=i._init;try{return Lt(i(l))}catch{}}return null}var Ot=Array.isArray,st=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,St=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt={pending:!1,data:null,method:null,action:null},an=[],de=-1;function Le(i){return{current:i}}function tt(i){0>de||(i.current=an[de],an[de]=null,de--)}function _e(i,l){de++,an[de]=i.current,i.current=l}var Ft=Le(null),It=Le(null),Qt=Le(null),cn=Le(null);function Hn(i,l){switch(_e(Qt,l),_e(It,i),_e(Ft,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?zo(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=zo(l),i=r4(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}tt(Ft),_e(Ft,i)}function mn(){tt(Ft),tt(It),tt(Qt)}function sn(i){i.memoizedState!==null&&_e(cn,i);var l=Ft.current,c=r4(l,i.type);l!==c&&(_e(It,i),_e(Ft,c))}function qn(i){It.current===i&&(tt(Ft),tt(It)),cn.current===i&&(tt(cn),U1._currentValue=vt)}var ct,rn;function Br(i){if(ct===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);ct=l&&l[1]||"",rn=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ct+i+rn}var Zn=!1;function mr(i,l){if(!i||Zn)return"";Zn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Kt=function(){throw Error()};if(Object.defineProperty(Kt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Kt,[])}catch(Rt){var kt=Rt}Reflect.construct(i,[],Kt)}else{try{Kt.call()}catch(Rt){kt=Rt}i.call(Kt.prototype)}}else{try{throw Error()}catch(Rt){kt=Rt}(Kt=i())&&typeof Kt.catch=="function"&&Kt.catch(function(){})}}catch(Rt){if(Rt&&kt&&typeof Rt.stack=="string")return[Rt.stack,kt.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=m.DetermineComponentFrameRoot(),X=A[0],$e=A[1];if(X&&$e){var Xe=X.split(`
`),$t=$e.split(`
`);for(S=m=0;m<Xe.length&&!Xe[m].includes("DetermineComponentFrameRoot");)m++;for(;S<$t.length&&!$t[S].includes("DetermineComponentFrameRoot");)S++;if(m===Xe.length||S===$t.length)for(m=Xe.length-1,S=$t.length-1;1<=m&&0<=S&&Xe[m]!==$t[S];)S--;for(;1<=m&&0<=S;m--,S--)if(Xe[m]!==$t[S]){if(m!==1||S!==1)do if(m--,S--,0>S||Xe[m]!==$t[S]){var Vt=`
`+Xe[m].replace(" at new "," at ");return i.displayName&&Vt.includes("<anonymous>")&&(Vt=Vt.replace("<anonymous>",i.displayName)),Vt}while(1<=m&&0<=S);break}}}finally{Zn=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?Br(c):""}function un(i,l){switch(i.tag){case 26:case 27:case 5:return Br(i.type);case 16:return Br("Lazy");case 13:return i.child!==l&&l!==null?Br("Suspense Fallback"):Br("Suspense");case 19:return Br("SuspenseList");case 0:case 15:return mr(i.type,!1);case 11:return mr(i.type.render,!1);case 1:return mr(i.type,!0);case 31:return Br("Activity");default:return""}}function $i(i){try{var l="",c=null;do l+=un(i,c),c=i,i=i.return;while(i);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var wi=Object.prototype.hasOwnProperty,nr=r.unstable_scheduleCallback,es=r.unstable_cancelCallback,li=r.unstable_shouldYield,rr=r.unstable_requestPaint,Xn=r.unstable_now,O=r.unstable_getCurrentPriorityLevel,ne=r.unstable_ImmediatePriority,Ie=r.unstable_UserBlockingPriority,Be=r.unstable_NormalPriority,nt=r.unstable_LowPriority,Ye=r.unstable_IdlePriority,yt=r.log,xt=r.unstable_setDisableYieldValue,L=null,ae=null;function ze(i){if(typeof yt=="function"&&xt(i),ae&&typeof ae.setStrictMode=="function")try{ae.setStrictMode(L,i)}catch{}}var Pe=Math.clz32?Math.clz32:Ar,Dt=Math.log,Sn=Math.LN2;function Ar(i){return i>>>=0,i===0?32:31-(Dt(i)/Sn|0)|0}var Y=256,ve=262144,R=4194304;function j(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ee(i,l,c){var m=i.pendingLanes;if(m===0)return 0;var S=0,A=i.suspendedLanes,X=i.pingedLanes;i=i.warmLanes;var $e=m&134217727;return $e!==0?(m=$e&~A,m!==0?S=j(m):(X&=$e,X!==0?S=j(X):c||(c=$e&~i,c!==0&&(S=j(c))))):($e=m&~A,$e!==0?S=j($e):X!==0?S=j(X):c||(c=m&~i,c!==0&&(S=j(c)))),S===0?0:l!==0&&l!==S&&(l&A)===0&&(A=S&-S,c=l&-l,A>=c||A===32&&(c&4194048)!==0)?l:S}function Fe(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function Mt(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dn(){var i=R;return R<<=1,(R&62914560)===0&&(R=4194304),i}function Mn(i){for(var l=[],c=0;31>c;c++)l.push(i);return l}function hr(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function xs(i,l,c,m,S,A){var X=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var $e=i.entanglements,Xe=i.expirationTimes,$t=i.hiddenUpdates;for(c=X&~c;0<c;){var Vt=31-Pe(c),Kt=1<<Vt;$e[Vt]=0,Xe[Vt]=-1;var kt=$t[Vt];if(kt!==null)for($t[Vt]=null,Vt=0;Vt<kt.length;Vt++){var Rt=kt[Vt];Rt!==null&&(Rt.lane&=-536870913)}c&=~Kt}m!==0&&ts(i,m,0),A!==0&&S===0&&i.tag!==0&&(i.suspendedLanes|=A&~(X&~l))}function ts(i,l,c){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-Pe(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|c&261930}function _r(i,l){var c=i.entangledLanes|=l;for(i=i.entanglements;c;){var m=31-Pe(c),S=1<<m;S&l|i[m]&l&&(i[m]|=l),c&=~S}}function B(i,l){var c=l&-l;return c=(c&42)!==0?1:W(c),(c&(i.suspendedLanes|l))!==0?0:c}function W(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function en(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function x(){var i=St.p;return i!==0?i:(i=window.event,i===void 0?32:B2(i.type))}function U(i,l){var c=St.p;try{return St.p=i,l()}finally{St.p=c}}var Z=Math.random().toString(36).slice(2),J="__reactFiber$"+Z,ke="__reactProps$"+Z,ee="__reactContainer$"+Z,Ce="__reactEvents$"+Z,qe="__reactListeners$"+Z,rt="__reactHandles$"+Z,lt="__reactResources$"+Z,ie="__reactMarker$"+Z;function Bt(i){delete i[J],delete i[ke],delete i[Ce],delete i[qe],delete i[rt]}function Ae(i){var l=i[J];if(l)return l;for(var c=i.parentNode;c;){if(l=c[ee]||c[J]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(i=Ui(i);i!==null;){if(c=i[J])return c;i=Ui(i)}return l}i=c,c=i.parentNode}return null}function In(i){if(i=i[J]||i[ee]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function On(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(a(33))}function Pr(i){var l=i[lt];return l||(l=i[lt]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function pr(i){i[ie]=!0}var Pn=new Set,ns={};function ai(i,l){$n(i,l),$n(i+"Capture",l)}function $n(i,l){for(ns[i]=l,i=0;i<l.length;i++)Pn.add(l[i])}var kr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rs={},ui={};function Or(i){return wi.call(ui,i)?!0:wi.call(Rs,i)?!1:kr.test(i)?ui[i]=!0:(Rs[i]=!0,!1)}function tn(i,l,c){if(Or(l))if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+c)}}function me(i,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+c)}}function Ni(i,l,c,m){if(m===null)i.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(l,c,""+m)}}function ms(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function gr(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Fr(i,l,c){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,A=m.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return S.call(this)},set:function(X){c=""+X,A.call(this,X)}}),Object.defineProperty(i,l,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(X){c=""+X},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function _n(i){if(!i._valueTracker){var l=gr(i)?"checked":"value";i._valueTracker=Fr(i,l,""+i[l])}}function sr(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var c=l.getValue(),m="";return i&&(m=gr(i)?i.checked?"true":"false":i.value),i=m,i!==c?(l.setValue(i),!0):!1}function Wr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xa=/[\n"\\]/g;function Ks(i){return i.replace(xa,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Qn(i,l,c,m,S,A,X,$e){i.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?i.type=X:i.removeAttribute("type"),l!=null?X==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+ms(l)):i.value!==""+ms(l)&&(i.value=""+ms(l)):X!=="submit"&&X!=="reset"||i.removeAttribute("value"),l!=null?C(i,X,ms(l)):c!=null?C(i,X,ms(c)):m!=null&&i.removeAttribute("value"),S==null&&A!=null&&(i.defaultChecked=!!A),S!=null&&(i.checked=S&&typeof S!="function"&&typeof S!="symbol"),$e!=null&&typeof $e!="function"&&typeof $e!="symbol"&&typeof $e!="boolean"?i.name=""+ms($e):i.removeAttribute("name")}function d(i,l,c,m,S,A,X,$e){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.type=A),l!=null||c!=null){if(!(A!=="submit"&&A!=="reset"||l!=null)){_n(i);return}c=c!=null?""+ms(c):"",l=l!=null?""+ms(l):c,$e||l===i.value||(i.value=l),i.defaultValue=l}m=m??S,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=$e?i.checked:!!m,i.defaultChecked=!!m,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(i.name=X),_n(i)}function C(i,l,c){l==="number"&&Wr(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function P(i,l,c,m){if(i=i.options,l){l={};for(var S=0;S<c.length;S++)l["$"+c[S]]=!0;for(c=0;c<i.length;c++)S=l.hasOwnProperty("$"+i[c].value),i[c].selected!==S&&(i[c].selected=S),S&&m&&(i[c].defaultSelected=!0)}else{for(c=""+ms(c),l=null,S=0;S<i.length;S++){if(i[S].value===c){i[S].selected=!0,m&&(i[S].defaultSelected=!0);return}l!==null||i[S].disabled||(l=i[S])}l!==null&&(l.selected=!0)}}function V(i,l,c){if(l!=null&&(l=""+ms(l),l!==i.value&&(i.value=l),c==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=c!=null?""+ms(c):""}function oe(i,l,c,m){if(l==null){if(m!=null){if(c!=null)throw Error(a(92));if(Ot(m)){if(1<m.length)throw Error(a(93));m=m[0]}c=m}c==null&&(c=""),l=c}c=ms(l),i.defaultValue=c,m=i.textContent,m===c&&m!==""&&m!==null&&(i.value=m),_n(i)}function fe(i,l){if(l){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=l;return}}i.textContent=l}var Me=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function be(i,l,c){var m=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,c):typeof c!="number"||c===0||Me.has(l)?l==="float"?i.cssFloat=c:i[l]=(""+c).trim():i[l]=c+"px"}function pt(i,l,c){if(l!=null&&typeof l!="object")throw Error(a(62));if(i=i.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var S in l)m=l[S],l.hasOwnProperty(S)&&c[S]!==m&&be(i,S,m)}else for(var A in l)l.hasOwnProperty(A)&&be(i,A,l[A])}function At(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jt(i){return gn.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function on(){}var An=null;function yn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zt=null,or=null;function Vn(i){var l=In(i);if(l&&(i=l.stateNode)){var c=i[ke]||null;e:switch(i=l.stateNode,l.type){case"input":if(Qn(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ks(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var m=c[l];if(m!==i&&m.form===i.form){var S=m[ke]||null;if(!S)throw Error(a(90));Qn(m,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(l=0;l<c.length;l++)m=c[l],m.form===i.form&&sr(m)}break e;case"textarea":V(i,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&P(i,!!c.multiple,l,!1)}}}var er=!1;function Ur(i,l,c){if(er)return i(l,c);er=!0;try{var m=i(l);return m}finally{if(er=!1,(zt!==null||or!==null)&&(Ih(),zt&&(l=zt,i=or,or=zt=null,Vn(l),i)))for(l=0;l<i.length;l++)Vn(i[l])}}function ar(i,l){var c=i.stateNode;if(c===null)return null;var m=c[ke]||null;if(m===null)return null;c=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(a(231,l,typeof c));return c}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Js=!1;if(ni)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){Js=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{Js=!1}var Gn=null,ci=null,Mi=null;function Hi(){if(Mi)return Mi;var i,l=ci,c=l.length,m,S="value"in Gn?Gn.value:Gn.textContent,A=S.length;for(i=0;i<c&&l[i]===S[i];i++);var X=c-i;for(m=1;m<=X&&l[c-m]===S[A-m];m++);return Mi=S.slice(i,1<m?1-m:void 0)}function rs(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function ri(){return!0}function Kn(){return!1}function Zr(i){function l(c,m,S,A,X){this._reactName=c,this._targetInst=S,this.type=m,this.nativeEvent=A,this.target=X,this.currentTarget=null;for(var $e in i)i.hasOwnProperty($e)&&(c=i[$e],this[$e]=c?c(A):A[$e]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?ri:Kn,this.isPropagationStopped=Kn,this}return I(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),l}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},po=Zr(bi),ii=I({},bi,{view:0,detail:0}),Us=Zr(ii),wo,Jt,Oi,ji=I({},ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Oi&&(Oi&&i.type==="mousemove"?(wo=i.screenX-Oi.screenX,Jt=i.screenY-Oi.screenY):Jt=wo=0,Oi=i),wo)},movementY:function(i){return"movementY"in i?i.movementY:Jt}}),n0=Zr(ji),r0=I({},ji,{dataTransfer:0}),zs=Zr(r0),Ls=I({},ii,{relatedTarget:0}),Yr=Zr(Ls),Cs=I({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=Zr(Cs),Ol=I({},bi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Rl=Zr(Ol),Ll=I({},bi,{data:0}),ou=Zr(Ll),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sh(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Kc[i])?!!l[i]:!1}function Zu(){return sh}var cl=I({},ii,{key:function(i){if(i.key){var l=mo[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=rs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Yc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zu,charCode:function(i){return i.type==="keypress"?rs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?rs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),br=Zr(cl),lu=I({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W0=Zr(lu),Ca=I({},ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zu}),Qu=Zr(Ca),$0=I({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b0=Zr($0),Jc=I({},ji,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),v0=Zr(Jc),ka=I({},bi,{newState:0,oldState:0}),q0=Zr(ka),ec=[9,13,27,32],T0=ni&&"CompositionEvent"in window,Dl=null;ni&&"documentMode"in document&&(Dl=document.documentMode);var tc=ni&&"TextEvent"in window&&!Dl,nc=ni&&(!T0||Dl&&8<Dl&&11>=Dl),au=" ",Ia=!1;function Aa(i,l){switch(i){case"keyup":return ec.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Bl=!1;function Na(i,l){switch(i){case"compositionend":return X0(l);case"keypress":return l.which!==32?null:(Ia=!0,au);case"textInput":return i=l.data,i===au&&Ia?null:i;default:return null}}function uu(i,l){if(Bl)return i==="compositionend"||!T0&&Aa(i,l)?(i=Hi(),Mi=ci=Gn=null,Bl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return nc&&l.locale!=="ko"?null:l.data;default:return null}}var hl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!hl[i.type]:l==="textarea"}function N(i,l,c,m){zt?or?or.push(m):or=[m]:zt=m,l=M1(l,"onChange"),0<l.length&&(c=new po("onChange","change",null,c,m),i.push({event:c,listeners:l}))}var le=null,Te=null;function Ue(i){Sl(i,0)}function Qe(i){var l=On(i);if(sr(l))return i}function ht(i,l){if(i==="change")return l}var Ct=!1;if(ni){var Wt;if(ni){var Yt="oninput"in document;if(!Yt){var bn=document.createElement("div");bn.setAttribute("oninput","return;"),Yt=typeof bn.oninput=="function"}Wt=Yt}else Wt=!1;Ct=Wt&&(!document.documentMode||9<document.documentMode)}function Nt(){le&&(le.detachEvent("onpropertychange",jn),Te=le=null)}function jn(i){if(i.propertyName==="value"&&Qe(Te)){var l=[];N(l,Te,i,yn(i)),Ur(Ue,l)}}function Fn(i,l,c){i==="focusin"?(Nt(),le=l,Te=c,le.attachEvent("onpropertychange",jn)):i==="focusout"&&Nt()}function Yn(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Qe(Te)}function ir(i,l){if(i==="click")return Qe(l)}function Er(i,l){if(i==="input"||i==="change")return Qe(l)}function zr(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var nn=typeof Object.is=="function"?Object.is:zr;function Dn(i,l){if(nn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var c=Object.keys(i),m=Object.keys(l);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var S=c[m];if(!wi.call(l,S)||!nn(i[S],l[S]))return!1}return!0}function Rr(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ur(i,l){var c=Rr(i);i=0;for(var m;c;){if(c.nodeType===3){if(m=i+c.textContent.length,i<=l&&m>=l)return{node:c,offset:l-i};i=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Rr(c)}}function Kr(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Kr(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function hi(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Wr(i.document);l instanceof i.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)i=l.contentWindow;else break;l=Wr(i.document)}return l}function Qr(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var si=ni&&"documentMode"in document&&11>=document.documentMode,ei=null,Si=null,Hr=null,Vi=!1;function gs(i,l,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Vi||ei==null||ei!==Wr(m)||(m=ei,"selectionStart"in m&&Qr(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Hr&&Dn(Hr,m)||(Hr=m,m=M1(Si,"onSelect"),0<m.length&&(l=new po("onSelect","select",null,l,c),i.push({event:l,listeners:m}),l.target=ei)))}function ks(i,l){var c={};return c[i.toLowerCase()]=l.toLowerCase(),c["Webkit"+i]="webkit"+l,c["Moz"+i]="moz"+l,c}var xi={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Hs={},go={};ni&&(go=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function Is(i){if(Hs[i])return Hs[i];if(!xi[i])return i;var l=xi[i],c;for(c in l)if(l.hasOwnProperty(c)&&c in go)return Hs[i]=l[c];return i}var Nr=Is("animationend"),us=Is("animationiteration"),pe=Is("animationstart"),Ci=Is("transitionrun"),is=Is("transitionstart"),dl=Is("transitioncancel"),so=Is("transitionend"),$o=new Map,Zs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zs.push("scrollEnd");function cs(i,l){$o.set(i,l),ai(l,[i])}var cr=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Qs=[],Ri=0,bo=0;function i0(){for(var i=Ri,l=bo=Ri=0;l<i;){var c=Qs[l];Qs[l++]=null;var m=Qs[l];Qs[l++]=null;var S=Qs[l];Qs[l++]=null;var A=Qs[l];if(Qs[l++]=null,m!==null&&S!==null){var X=m.pending;X===null?S.next=S:(S.next=X.next,X.next=S),m.pending=S}A!==0&&rc(c,S,A)}}function Pl(i,l,c,m){Qs[Ri++]=i,Qs[Ri++]=l,Qs[Ri++]=c,Qs[Ri++]=m,bo|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function y0(i,l,c,m){return Pl(i,l,c,m),Fl(i)}function Zo(i,l){return Pl(i,null,null,l),Fl(i)}function rc(i,l,c){i.lanes|=c;var m=i.alternate;m!==null&&(m.lanes|=c);for(var S=!1,A=i.return;A!==null;)A.childLanes|=c,m=A.alternate,m!==null&&(m.childLanes|=c),A.tag===22&&(i=A.stateNode,i===null||i._visibility&1||(S=!0)),i=A,A=A.return;return i.tag===3?(A=i.stateNode,S&&l!==null&&(S=31-Pe(c),i=A.hiddenUpdates,m=i[S],m===null?i[S]=[l]:m.push(l),l.lane=c|536870912),A):null}function Fl(i){if(50<S1)throw S1=0,Ns=null,Error(a(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var fl={};function ic(i,l,c,m){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function So(i,l,c,m){return new ic(i,l,c,m)}function sc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ul(i,l){var c=i.alternate;return c===null?(c=So(i.tag,l,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=l,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,l=i.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function nd(i,l){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,l=c.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function j0(i,l,c,m,S,A){var X=0;if(m=i,typeof i=="function")sc(i)&&(X=1);else if(typeof i=="string")X=ba(i,c,Ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Ze:return i=So(31,c,l,S),i.elementType=Ze,i.lanes=A,i;case he:return _0(c.children,S,A,l);case ce:X=8,S|=24;break;case K:return i=So(12,c,l,S|2),i.elementType=K,i.lanes=A,i;case De:return i=So(13,c,l,S),i.elementType=De,i.lanes=A,i;case Se:return i=So(19,c,l,S),i.elementType=Se,i.lanes=A,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case we:X=10;break e;case se:X=9;break e;case Oe:X=11;break e;case je:X=14;break e;case at:X=16,m=null;break e}X=29,c=Error(a(130,i===null?"null":typeof i,"")),m=null}return l=So(X,c,l,S),l.elementType=i,l.type=m,l.lanes=A,l}function _0(i,l,c,m){return i=So(7,i,m,l),i.lanes=c,i}function cu(i,l,c){return i=So(6,i,null,l),i.lanes=c,i}function Y0(i){var l=So(18,null,null,0);return l.stateNode=i,l}function E0(i,l,c){return l=So(4,i.children!==null?i.children:[],i.key,l),l.lanes=c,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Ma=new WeakMap;function Qo(i,l){if(typeof i=="object"&&i!==null){var c=Ma.get(i);return c!==void 0?c:(l={value:i,source:l,stack:$i(l)},Ma.set(i,l),l)}return{value:i,source:l,stack:$i(l)}}var Oa=[],zl=0,oc=null,K0=0,xo=[],qo=0,s0=null,Xo=1,el="";function Bo(i,l){Oa[zl++]=K0,Oa[zl++]=oc,oc=i,K0=l}function lc(i,l,c){xo[qo++]=Xo,xo[qo++]=el,xo[qo++]=s0,s0=i;var m=Xo;i=el;var S=32-Pe(m)-1;m&=~(1<<S),c+=1;var A=32-Pe(l)+S;if(30<A){var X=S-S%5;A=(m&(1<<X)-1).toString(32),m>>=X,S-=X,Xo=1<<32-Pe(l)+S|c<<S|m,el=A+i}else Xo=1<<A|c<<S|m,el=i}function ac(i){i.return!==null&&(Bo(i,1),lc(i,1,0))}function Hl(i){for(;i===oc;)oc=Oa[--zl],Oa[zl]=null,K0=Oa[--zl],Oa[zl]=null;for(;i===s0;)s0=xo[--qo],xo[qo]=null,el=xo[--qo],xo[qo]=null,Xo=xo[--qo],xo[qo]=null}function uc(i,l){xo[qo++]=Xo,xo[qo++]=el,xo[qo++]=s0,Xo=l.id,el=l.overflow,s0=i}var ss=null,Yi=null,qr=!1,w0=null,Vs=!1,o0=Error(a(519));function l0(i){var l=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw La(Qo(l,i)),o0}function oh(i){var l=i.stateNode,c=i.type,m=i.memoizedProps;switch(l[J]=i,l[ke]=m,c){case"dialog":Gr("cancel",l),Gr("close",l);break;case"iframe":case"object":case"embed":Gr("load",l);break;case"video":case"audio":for(c=0;c<ma.length;c++)Gr(ma[c],l);break;case"source":Gr("error",l);break;case"img":case"image":case"link":Gr("error",l),Gr("load",l);break;case"details":Gr("toggle",l);break;case"input":Gr("invalid",l),d(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Gr("invalid",l);break;case"textarea":Gr("invalid",l),oe(l,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||m.suppressHydrationWarning===!0||Ph(l.textContent,c)?(m.popover!=null&&(Gr("beforetoggle",l),Gr("toggle",l)),m.onScroll!=null&&Gr("scroll",l),m.onScrollEnd!=null&&Gr("scrollend",l),m.onClick!=null&&(l.onclick=on),l=!0):l=!1,l||l0(i,!0)}function lh(i){for(ss=i.return;ss;)switch(ss.tag){case 5:case 31:case 13:Vs=!1;return;case 27:case 3:Vs=!0;return;default:ss=ss.return}}function Ra(i){if(i!==ss)return!1;if(!qr)return lh(i),qr=!0,!1;var l=i.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||y2(i.type,i.memoizedProps)),c=!c),c&&Yi&&l0(i),lh(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Yi=h0(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Yi=h0(i)}else l===27?(l=Yi,Mu(i.type)?(i=w2,w2=null,Yi=i):Yi=l):Yi=ss?Ho(i.stateNode.nextSibling):null;return!0}function a0(){Yi=ss=null,qr=!1}function Zc(){var i=w0;return i!==null&&(co===null?co=i:co.push.apply(co,i),w0=null),i}function La(i){w0===null?w0=[i]:w0.push(i)}var cc=Le(null),J0=null,Vl=null;function S0(i,l,c){_e(cc,l._currentValue),l._currentValue=c}function Gl(i){i._currentValue=cc.current,tt(cc)}function Da(i,l,c){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===c)break;i=i.return}}function tl(i,l,c,m){var S=i.child;for(S!==null&&(S.return=i);S!==null;){var A=S.dependencies;if(A!==null){var X=S.child;A=A.firstContext;e:for(;A!==null;){var $e=A;A=S;for(var Xe=0;Xe<l.length;Xe++)if($e.context===l[Xe]){A.lanes|=c,$e=A.alternate,$e!==null&&($e.lanes|=c),Da(A.return,c,i),m||(X=null);break e}A=$e.next}}else if(S.tag===18){if(X=S.return,X===null)throw Error(a(341));X.lanes|=c,A=X.alternate,A!==null&&(A.lanes|=c),Da(X,c,i),X=null}else X=S.child;if(X!==null)X.return=S;else for(X=S;X!==null;){if(X===i){X=null;break}if(S=X.sibling,S!==null){S.return=X.return,X=S;break}X=X.return}S=X}}function x0(i,l,c,m){i=null;for(var S=l,A=!1;S!==null;){if(!A){if((S.flags&524288)!==0)A=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var X=S.alternate;if(X===null)throw Error(a(387));if(X=X.memoizedProps,X!==null){var $e=S.type;nn(S.pendingProps.value,X.value)||(i!==null?i.push($e):i=[$e])}}else if(S===cn.current){if(X=S.alternate,X===null)throw Error(a(387));X.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(i!==null?i.push(U1):i=[U1])}S=S.return}i!==null&&tl(l,i,c,m),l.flags|=262144}function hu(i){for(i=i.firstContext;i!==null;){if(!nn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function nl(i){J0=i,Vl=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function eo(i){return fu(J0,i)}function du(i,l){return J0===null&&nl(i),fu(i,l)}function fu(i,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},Vl===null){if(i===null)throw Error(a(308));Vl=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else Vl=Vl.next=l;return c}var hc=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(c,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(c){return c()})}},Qc=r.unstable_scheduleCallback,ah=r.unstable_NormalPriority,as={$$typeof:we,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dc(){return{controller:new hc,data:new Map,refCount:0}}function C0(i){i.refCount--,i.refCount===0&&Qc(ah,function(){i.controller.abort()})}var k0=null,e1=0,Ba=0,Z0=null;function t1(i,l){if(k0===null){var c=k0=[];e1=0,Ba=wl(),Z0={status:"pending",value:void 0,then:function(m){c.push(m)}}}return e1++,l.then(Un,Un),l}function Un(){if(--e1===0&&k0!==null){Z0!==null&&(Z0.status="fulfilled");var i=k0;k0=null,Ba=0,Z0=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function rl(i,l){var c=[],m={status:"pending",value:null,reason:null,then:function(S){c.push(S)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var S=0;S<c.length;S++)(0,c[S])(l)},function(S){for(m.status="rejected",m.reason=S,S=0;S<c.length;S++)(0,c[S])(void 0)}),m}var oo=st.S;st.S=function(i,l){c2=Xn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&t1(i,l),oo!==null&&oo(i,l)};var Li=Le(null);function pl(){var i=Li.current;return i!==null?i:Bi.pooledCache}function g(i,l){l===null?_e(Li,Li.current):_e(Li,l.pool)}function f(){var i=pl();return i===null?null:{parent:as._currentValue,pool:i}}var b=Error(a(460)),k=Error(a(474)),D=Error(a(542)),G={then:function(){}};function Q(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ge(i,l,c){switch(c=i[c],c===void 0?i.push(l):c!==l&&(l.then(on,on),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,dt(i),i;default:if(typeof l.status=="string")l.then(on,on);else{if(i=Bi,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var S=l;S.status="fulfilled",S.value=m}},function(m){if(l.status==="pending"){var S=l;S.status="rejected",S.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,dt(i),i}throw We=l,b}}function Ne(i){try{var l=i._init;return l(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(We=c,b):c}}var We=null;function ot(){if(We===null)throw Error(a(459));var i=We;return We=null,i}function dt(i){if(i===b||i===D)throw Error(a(483))}var wt=null,Zt=0;function wn(i){var l=Zt;return Zt+=1,wt===null&&(wt=[]),ge(wt,i,l)}function Rn(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Lr(i,l){throw l.$$typeof===H?Error(a(525)):(i=Object.prototype.toString.call(l),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function vr(i){function l(ut,et){if(i){var gt=ut.deletions;gt===null?(ut.deletions=[et],ut.flags|=16):gt.push(et)}}function c(ut,et){if(!i)return null;for(;et!==null;)l(ut,et),et=et.sibling;return null}function m(ut){for(var et=new Map;ut!==null;)ut.key!==null?et.set(ut.key,ut):et.set(ut.index,ut),ut=ut.sibling;return et}function S(ut,et){return ut=Ul(ut,et),ut.index=0,ut.sibling=null,ut}function A(ut,et,gt){return ut.index=gt,i?(gt=ut.alternate,gt!==null?(gt=gt.index,gt<et?(ut.flags|=67108866,et):gt):(ut.flags|=67108866,et)):(ut.flags|=1048576,et)}function X(ut){return i&&ut.alternate===null&&(ut.flags|=67108866),ut}function $e(ut,et,gt,Gt){return et===null||et.tag!==6?(et=cu(gt,ut.mode,Gt),et.return=ut,et):(et=S(et,gt),et.return=ut,et)}function Xe(ut,et,gt,Gt){var Jn=gt.type;return Jn===he?Vt(ut,et,gt.props.children,Gt,gt.key):et!==null&&(et.elementType===Jn||typeof Jn=="object"&&Jn!==null&&Jn.$$typeof===at&&Ne(Jn)===et.type)?(et=S(et,gt.props),Rn(et,gt),et.return=ut,et):(et=j0(gt.type,gt.key,gt.props,null,ut.mode,Gt),Rn(et,gt),et.return=ut,et)}function $t(ut,et,gt,Gt){return et===null||et.tag!==4||et.stateNode.containerInfo!==gt.containerInfo||et.stateNode.implementation!==gt.implementation?(et=E0(gt,ut.mode,Gt),et.return=ut,et):(et=S(et,gt.children||[]),et.return=ut,et)}function Vt(ut,et,gt,Gt,Jn){return et===null||et.tag!==7?(et=_0(gt,ut.mode,Gt,Jn),et.return=ut,et):(et=S(et,gt),et.return=ut,et)}function Kt(ut,et,gt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return et=cu(""+et,ut.mode,gt),et.return=ut,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case F:return gt=j0(et.type,et.key,et.props,null,ut.mode,gt),Rn(gt,et),gt.return=ut,gt;case te:return et=E0(et,ut.mode,gt),et.return=ut,et;case at:return et=Ne(et),Kt(ut,et,gt)}if(Ot(et)||Ve(et))return et=_0(et,ut.mode,gt,null),et.return=ut,et;if(typeof et.then=="function")return Kt(ut,wn(et),gt);if(et.$$typeof===we)return Kt(ut,du(ut,et),gt);Lr(ut,et)}return null}function kt(ut,et,gt,Gt){var Jn=et!==null?et.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return Jn!==null?null:$e(ut,et,""+gt,Gt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case F:return gt.key===Jn?Xe(ut,et,gt,Gt):null;case te:return gt.key===Jn?$t(ut,et,gt,Gt):null;case at:return gt=Ne(gt),kt(ut,et,gt,Gt)}if(Ot(gt)||Ve(gt))return Jn!==null?null:Vt(ut,et,gt,Gt,null);if(typeof gt.then=="function")return kt(ut,et,wn(gt),Gt);if(gt.$$typeof===we)return kt(ut,et,du(ut,gt),Gt);Lr(ut,gt)}return null}function Rt(ut,et,gt,Gt,Jn){if(typeof Gt=="string"&&Gt!==""||typeof Gt=="number"||typeof Gt=="bigint")return ut=ut.get(gt)||null,$e(et,ut,""+Gt,Jn);if(typeof Gt=="object"&&Gt!==null){switch(Gt.$$typeof){case F:return ut=ut.get(Gt.key===null?gt:Gt.key)||null,Xe(et,ut,Gt,Jn);case te:return ut=ut.get(Gt.key===null?gt:Gt.key)||null,$t(et,ut,Gt,Jn);case at:return Gt=Ne(Gt),Rt(ut,et,gt,Gt,Jn)}if(Ot(Gt)||Ve(Gt))return ut=ut.get(gt)||null,Vt(et,ut,Gt,Jn,null);if(typeof Gt.then=="function")return Rt(ut,et,gt,wn(Gt),Jn);if(Gt.$$typeof===we)return Rt(ut,et,gt,du(et,Gt),Jn);Lr(et,Gt)}return null}function Nn(ut,et,gt,Gt){for(var Jn=null,mi=null,zn=et,Cn=et=0,ti=null;zn!==null&&Cn<gt.length;Cn++){zn.index>Cn?(ti=zn,zn=null):ti=zn.sibling;var Ei=kt(ut,zn,gt[Cn],Gt);if(Ei===null){zn===null&&(zn=ti);break}i&&zn&&Ei.alternate===null&&l(ut,zn),et=A(Ei,et,Cn),mi===null?Jn=Ei:mi.sibling=Ei,mi=Ei,zn=ti}if(Cn===gt.length)return c(ut,zn),qr&&Bo(ut,Cn),Jn;if(zn===null){for(;Cn<gt.length;Cn++)zn=Kt(ut,gt[Cn],Gt),zn!==null&&(et=A(zn,et,Cn),mi===null?Jn=zn:mi.sibling=zn,mi=zn);return qr&&Bo(ut,Cn),Jn}for(zn=m(zn);Cn<gt.length;Cn++)ti=Rt(zn,ut,Cn,gt[Cn],Gt),ti!==null&&(i&&ti.alternate!==null&&zn.delete(ti.key===null?Cn:ti.key),et=A(ti,et,Cn),mi===null?Jn=ti:mi.sibling=ti,mi=ti);return i&&zn.forEach(function(al){return l(ut,al)}),qr&&Bo(ut,Cn),Jn}function lr(ut,et,gt,Gt){if(gt==null)throw Error(a(151));for(var Jn=null,mi=null,zn=et,Cn=et=0,ti=null,Ei=gt.next();zn!==null&&!Ei.done;Cn++,Ei=gt.next()){zn.index>Cn?(ti=zn,zn=null):ti=zn.sibling;var al=kt(ut,zn,Ei.value,Gt);if(al===null){zn===null&&(zn=ti);break}i&&zn&&al.alternate===null&&l(ut,zn),et=A(al,et,Cn),mi===null?Jn=al:mi.sibling=al,mi=al,zn=ti}if(Ei.done)return c(ut,zn),qr&&Bo(ut,Cn),Jn;if(zn===null){for(;!Ei.done;Cn++,Ei=gt.next())Ei=Kt(ut,Ei.value,Gt),Ei!==null&&(et=A(Ei,et,Cn),mi===null?Jn=Ei:mi.sibling=Ei,mi=Ei);return qr&&Bo(ut,Cn),Jn}for(zn=m(zn);!Ei.done;Cn++,Ei=gt.next())Ei=Rt(zn,ut,Cn,Ei.value,Gt),Ei!==null&&(i&&Ei.alternate!==null&&zn.delete(Ei.key===null?Cn:Ei.key),et=A(Ei,et,Cn),mi===null?Jn=Ei:mi.sibling=Ei,mi=Ei);return i&&zn.forEach(function(q3){return l(ut,q3)}),qr&&Bo(ut,Cn),Jn}function Ai(ut,et,gt,Gt){if(typeof gt=="object"&&gt!==null&&gt.type===he&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case F:e:{for(var Jn=gt.key;et!==null;){if(et.key===Jn){if(Jn=gt.type,Jn===he){if(et.tag===7){c(ut,et.sibling),Gt=S(et,gt.props.children),Gt.return=ut,ut=Gt;break e}}else if(et.elementType===Jn||typeof Jn=="object"&&Jn!==null&&Jn.$$typeof===at&&Ne(Jn)===et.type){c(ut,et.sibling),Gt=S(et,gt.props),Rn(Gt,gt),Gt.return=ut,ut=Gt;break e}c(ut,et);break}else l(ut,et);et=et.sibling}gt.type===he?(Gt=_0(gt.props.children,ut.mode,Gt,gt.key),Gt.return=ut,ut=Gt):(Gt=j0(gt.type,gt.key,gt.props,null,ut.mode,Gt),Rn(Gt,gt),Gt.return=ut,ut=Gt)}return X(ut);case te:e:{for(Jn=gt.key;et!==null;){if(et.key===Jn)if(et.tag===4&&et.stateNode.containerInfo===gt.containerInfo&&et.stateNode.implementation===gt.implementation){c(ut,et.sibling),Gt=S(et,gt.children||[]),Gt.return=ut,ut=Gt;break e}else{c(ut,et);break}else l(ut,et);et=et.sibling}Gt=E0(gt,ut.mode,Gt),Gt.return=ut,ut=Gt}return X(ut);case at:return gt=Ne(gt),Ai(ut,et,gt,Gt)}if(Ot(gt))return Nn(ut,et,gt,Gt);if(Ve(gt)){if(Jn=Ve(gt),typeof Jn!="function")throw Error(a(150));return gt=Jn.call(gt),lr(ut,et,gt,Gt)}if(typeof gt.then=="function")return Ai(ut,et,wn(gt),Gt);if(gt.$$typeof===we)return Ai(ut,et,du(ut,gt),Gt);Lr(ut,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint"?(gt=""+gt,et!==null&&et.tag===6?(c(ut,et.sibling),Gt=S(et,gt),Gt.return=ut,ut=Gt):(c(ut,et),Gt=cu(gt,ut.mode,Gt),Gt.return=ut,ut=Gt),X(ut)):c(ut,et)}return function(ut,et,gt,Gt){try{Zt=0;var Jn=Ai(ut,et,gt,Gt);return wt=null,Jn}catch(zn){if(zn===b||zn===D)throw zn;var mi=So(29,zn,null,ut.mode);return mi.lanes=Gt,mi.return=ut,mi}finally{}}}var wr=vr(!0),di=vr(!1),Jr=!1;function Gi(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $s(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function hs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function bs(i,l,c){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Ii&2)!==0){var S=m.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),m.pending=l,l=Fl(i),rc(i,null,c),l}return Pl(i,m,l,c),Fl(i)}function Dr(i,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,c|=m,l.lanes=c,_r(i,c)}}function vi(i,l){var c=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var S=null,A=null;if(c=c.firstBaseUpdate,c!==null){do{var X={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};A===null?S=A=X:A=A.next=X,c=c.next}while(c!==null);A===null?S=A=l:A=A.next=l}else S=A=l;c={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:m.shared,callbacks:m.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=l:i.next=l,c.lastBaseUpdate=l}var Ti=!1;function Di(){if(Ti){var i=Z0;if(i!==null)throw i}}function fi(i,l,c,m){Ti=!1;var S=i.updateQueue;Jr=!1;var A=S.firstBaseUpdate,X=S.lastBaseUpdate,$e=S.shared.pending;if($e!==null){S.shared.pending=null;var Xe=$e,$t=Xe.next;Xe.next=null,X===null?A=$t:X.next=$t,X=Xe;var Vt=i.alternate;Vt!==null&&(Vt=Vt.updateQueue,$e=Vt.lastBaseUpdate,$e!==X&&($e===null?Vt.firstBaseUpdate=$t:$e.next=$t,Vt.lastBaseUpdate=Xe))}if(A!==null){var Kt=S.baseState;X=0,Vt=$t=Xe=null,$e=A;do{var kt=$e.lane&-536870913,Rt=kt!==$e.lane;if(Rt?($r&kt)===kt:(m&kt)===kt){kt!==0&&kt===Ba&&(Ti=!0),Vt!==null&&(Vt=Vt.next={lane:0,tag:$e.tag,payload:$e.payload,callback:null,next:null});e:{var Nn=i,lr=$e;kt=l;var Ai=c;switch(lr.tag){case 1:if(Nn=lr.payload,typeof Nn=="function"){Kt=Nn.call(Ai,Kt,kt);break e}Kt=Nn;break e;case 3:Nn.flags=Nn.flags&-65537|128;case 0:if(Nn=lr.payload,kt=typeof Nn=="function"?Nn.call(Ai,Kt,kt):Nn,kt==null)break e;Kt=I({},Kt,kt);break e;case 2:Jr=!0}}kt=$e.callback,kt!==null&&(i.flags|=64,Rt&&(i.flags|=8192),Rt=S.callbacks,Rt===null?S.callbacks=[kt]:Rt.push(kt))}else Rt={lane:kt,tag:$e.tag,payload:$e.payload,callback:$e.callback,next:null},Vt===null?($t=Vt=Rt,Xe=Kt):Vt=Vt.next=Rt,X|=kt;if($e=$e.next,$e===null){if($e=S.shared.pending,$e===null)break;Rt=$e,$e=Rt.next,Rt.next=null,S.lastBaseUpdate=Rt,S.shared.pending=null}}while(!0);Vt===null&&(Xe=Kt),S.baseState=Xe,S.firstBaseUpdate=$t,S.lastBaseUpdate=Vt,A===null&&(S.shared.lanes=0),L0|=X,i.lanes=X,i.memoizedState=Kt}}function Ki(i,l){if(typeof i!="function")throw Error(a(191,i));i.call(l)}function vo(i,l){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)Ki(c[i],l)}var Q0=Le(null),pu=Le(0);function fc(i,l){i=R0,_e(pu,i),_e(Q0,l),R0=i|l.baseLanes}function n1(){_e(pu,R0),_e(Q0,Q0.current)}function I0(){R0=pu.current,tt(Q0),tt(pu)}var il=Le(null),ml=null;function ea(i){var l=i.alternate;_e(Gs,Gs.current&1),_e(il,i),ml===null&&(l===null||Q0.current!==null||l.memoizedState!==null)&&(ml=i)}function rd(i){_e(Gs,Gs.current),_e(il,i),ml===null&&(ml=i)}function id(i){i.tag===22?(_e(Gs,Gs.current),_e(il,i),ml===null&&(ml=i)):Pa()}function Pa(){_e(Gs,Gs.current),_e(il,il.current)}function jo(i){tt(il),ml===i&&(ml=null),tt(Gs)}var Gs=Le(0);function uh(i){for(var l=i;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Mc(c)||R1(c)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Wl=0,Ir=null,Wi=null,Ds=null,pc=!1,Fa=!1,ta=!1,r1=0,i1=0,mu=null,sd=0;function vs(){throw Error(a(321))}function od(i,l){if(l===null)return!1;for(var c=0;c<l.length&&c<i.length;c++)if(!nn(i[c],l[c]))return!1;return!0}function s1(i,l,c,m,S,A){return Wl=A,Ir=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,st.H=i===null||i.memoizedState===null?G4:Cd,ta=!1,A=c(m,S),ta=!1,Fa&&(A=ld(l,c,m,S)),N4(i),A}function N4(i){st.H=bc;var l=Wi!==null&&Wi.next!==null;if(Wl=0,Ds=Wi=Ir=null,pc=!1,i1=0,mu=null,l)throw Error(a(300));i===null||to||(i=i.dependencies,i!==null&&hu(i)&&(to=!0))}function ld(i,l,c,m){Ir=i;var S=0;do{if(Fa&&(mu=null),i1=0,Fa=!1,25<=S)throw Error(a(301));if(S+=1,Ds=Wi=null,i.updateQueue!=null){var A=i.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}st.H=W4,A=l(c,m)}while(Fa);return A}function T3(){var i=st.H,l=i.useState()[0];return l=typeof l.then=="function"?$c(l):l,i=i.useState()[0],(Wi!==null?Wi.memoizedState:null)!==i&&(Ir.flags|=1024),l}function na(){var i=r1!==0;return r1=0,i}function ch(i,l,c){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~c}function mc(i){if(pc){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}pc=!1}Wl=0,Ds=Wi=Ir=null,Fa=!1,i1=r1=0,mu=null}function Po(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ds===null?Ir.memoizedState=Ds=i:Ds=Ds.next=i,Ds}function Bs(){if(Wi===null){var i=Ir.alternate;i=i!==null?i.memoizedState:null}else i=Wi.next;var l=Ds===null?Ir.memoizedState:Ds.next;if(l!==null)Ds=l,Wi=i;else{if(i===null)throw Ir.alternate===null?Error(a(467)):Error(a(310));Wi=i,i={memoizedState:Wi.memoizedState,baseState:Wi.baseState,baseQueue:Wi.baseQueue,queue:Wi.queue,next:null},Ds===null?Ir.memoizedState=Ds=i:Ds=Ds.next=i}return Ds}function gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $c(i){var l=i1;return i1+=1,mu===null&&(mu=[]),i=ge(mu,i,l),l=Ir,(Ds===null?l.memoizedState:Ds.next)===null&&(l=l.alternate,st.H=l===null||l.memoizedState===null?G4:Cd),i}function o1(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return $c(i);if(i.$$typeof===we)return eo(i)}throw Error(a(438,String(i)))}function hh(i){var l=null,c=Ir.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var m=Ir.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(S){return S.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=gc(),Ir.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(i),m=0;m<i;m++)c[m]=Ke;return l.index++,c}function A0(i,l){return typeof l=="function"?l(i):l}function l1(i){var l=Bs();return dh(l,Wi,i)}function dh(i,l,c){var m=i.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=c;var S=i.baseQueue,A=m.pending;if(A!==null){if(S!==null){var X=S.next;S.next=A.next,A.next=X}l.baseQueue=S=A,m.pending=null}if(A=i.baseState,S===null)i.memoizedState=A;else{l=S.next;var $e=X=null,Xe=null,$t=l,Vt=!1;do{var Kt=$t.lane&-536870913;if(Kt!==$t.lane?($r&Kt)===Kt:(Wl&Kt)===Kt){var kt=$t.revertLane;if(kt===0)Xe!==null&&(Xe=Xe.next={lane:0,revertLane:0,gesture:null,action:$t.action,hasEagerState:$t.hasEagerState,eagerState:$t.eagerState,next:null}),Kt===Ba&&(Vt=!0);else if((Wl&kt)===kt){$t=$t.next,kt===Ba&&(Vt=!0);continue}else Kt={lane:0,revertLane:$t.revertLane,gesture:null,action:$t.action,hasEagerState:$t.hasEagerState,eagerState:$t.eagerState,next:null},Xe===null?($e=Xe=Kt,X=A):Xe=Xe.next=Kt,Ir.lanes|=kt,L0|=kt;Kt=$t.action,ta&&c(A,Kt),A=$t.hasEagerState?$t.eagerState:c(A,Kt)}else kt={lane:Kt,revertLane:$t.revertLane,gesture:$t.gesture,action:$t.action,hasEagerState:$t.hasEagerState,eagerState:$t.eagerState,next:null},Xe===null?($e=Xe=kt,X=A):Xe=Xe.next=kt,Ir.lanes|=Kt,L0|=Kt;$t=$t.next}while($t!==null&&$t!==l);if(Xe===null?X=A:Xe.next=$e,!nn(A,i.memoizedState)&&(to=!0,Vt&&(c=Z0,c!==null)))throw c;i.memoizedState=A,i.baseState=X,i.baseQueue=Xe,m.lastRenderedState=A}return S===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function fh(i){var l=Bs(),c=l.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=i;var m=c.dispatch,S=c.pending,A=l.memoizedState;if(S!==null){c.pending=null;var X=S=S.next;do A=i(A,X.action),X=X.next;while(X!==S);nn(A,l.memoizedState)||(to=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),c.lastRenderedState=A}return[A,m]}function ad(i,l,c){var m=Ir,S=Bs(),A=qr;if(A){if(c===void 0)throw Error(a(407));c=c()}else c=l();var X=!nn((Wi||S).memoizedState,c);if(X&&(S.memoizedState=c,to=!0),S=S.queue,mh(O4.bind(null,m,S,i),[i]),S.getSnapshot!==l||X||Ds!==null&&Ds.memoizedState.tag&1){if(m.flags|=2048,gu(9,{destroy:void 0},M4.bind(null,m,S,c,l),null),Bi===null)throw Error(a(349));A||(Wl&127)!==0||ud(m,l,c)}return c}function ud(i,l,c){i.flags|=16384,i={getSnapshot:l,value:c},l=Ir.updateQueue,l===null?(l=gc(),Ir.updateQueue=l,l.stores=[i]):(c=l.stores,c===null?l.stores=[i]:c.push(i))}function M4(i,l,c,m){l.value=c,l.getSnapshot=m,R4(l)&&L4(i)}function O4(i,l,c){return c(function(){R4(l)&&L4(i)})}function R4(i){var l=i.getSnapshot;i=i.value;try{var c=l();return!nn(i,c)}catch{return!0}}function L4(i){var l=Zo(i,2);l!==null&&Ao(l,i,2)}function cd(i){var l=Po();if(typeof i=="function"){var c=i;if(i=c(),ta){ze(!0);try{c()}finally{ze(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A0,lastRenderedState:i},l}function D4(i,l,c,m){return i.baseState=c,dh(i,Wi,typeof m=="function"?m:A0)}function y3(i,l,c,m,S){if(ra(i))throw Error(a(485));if(i=l.action,i!==null){var A={payload:S,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){A.listeners.push(X)}};st.T!==null?c(!0):A.isTransition=!1,m(A),c=l.pending,c===null?(A.next=l.pending=A,B4(l,A)):(A.next=c.next,l.pending=c.next=A)}}function B4(i,l){var c=l.action,m=l.payload,S=i.state;if(l.isTransition){var A=st.T,X={};st.T=X;try{var $e=c(S,m),Xe=st.S;Xe!==null&&Xe(X,$e),P4(i,l,$e)}catch($t){ph(i,l,$t)}finally{A!==null&&X.types!==null&&(A.types=X.types),st.T=A}}else try{A=c(S,m),P4(i,l,A)}catch($t){ph(i,l,$t)}}function P4(i,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){hd(i,l,m)},function(m){return ph(i,l,m)}):hd(i,l,c)}function hd(i,l,c){l.status="fulfilled",l.value=c,dd(l),i.state=c,l=i.pending,l!==null&&(c=l.next,c===l?i.pending=null:(c=c.next,l.next=c,B4(i,c)))}function ph(i,l,c){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=c,dd(l),l=l.next;while(l!==m)}i.action=null}function dd(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function fd(i,l){return l}function pd(i,l){if(qr){var c=Bi.formState;if(c!==null){e:{var m=Ir;if(qr){if(Yi){t:{for(var S=Yi,A=Vs;S.nodeType!==8;){if(!A){S=null;break t}if(S=Ho(S.nextSibling),S===null){S=null;break t}}A=S.data,S=A==="F!"||A==="F"?S:null}if(S){Yi=Ho(S.nextSibling),m=S.data==="F!";break e}}l0(m)}m=!1}m&&(l=c[0])}}return c=Po(),c.memoizedState=c.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:l},c.queue=m,c=w3.bind(null,Ir,m),m.dispatch=c,m=cd(!1),A=f1.bind(null,Ir,!1,m.queue),m=Po(),S={state:l,dispatch:null,action:i,pending:null},m.queue=S,c=y3.bind(null,Ir,S,A,c),S.dispatch=c,m.memoizedState=i,[l,c,!1]}function md(i){var l=Bs();return gd(l,Wi,i)}function gd(i,l,c){if(l=dh(i,l,fd)[0],i=l1(A0)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=$c(l)}catch(X){throw X===b?D:X}else m=l;l=Bs();var S=l.queue,A=S.dispatch;return c!==l.memoizedState&&(Ir.flags|=2048,gu(9,{destroy:void 0},$d.bind(null,S,c),null)),[m,A,i]}function $d(i,l){i.action=l}function a1(i){var l=Bs(),c=Wi;if(c!==null)return gd(l,c,i);Bs(),l=l.memoizedState,c=Bs();var m=c.queue.dispatch;return c.memoizedState=i,[l,m,!1]}function gu(i,l,c,m){return i={tag:i,create:c,deps:m,inst:l,next:null},l=Ir.updateQueue,l===null&&(l=gc(),Ir.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=i.next=i:(m=c.next,c.next=i,i.next=m,l.lastEffect=i),i}function F4(){return Bs().memoizedState}function u1(i,l,c,m){var S=Po();Ir.flags|=i,S.memoizedState=gu(1|l,{destroy:void 0},c,m===void 0?null:m)}function c1(i,l,c,m){var S=Bs();m=m===void 0?null:m;var A=S.memoizedState.inst;Wi!==null&&m!==null&&od(m,Wi.memoizedState.deps)?S.memoizedState=gu(l,A,c,m):(Ir.flags|=i,S.memoizedState=gu(1|l,A,c,m))}function bd(i,l){u1(8390656,8,i,l)}function mh(i,l){c1(2048,8,i,l)}function U4(i){Ir.flags|=4;var l=Ir.updateQueue;if(l===null)l=gc(),Ir.updateQueue=l,l.events=[i];else{var c=l.events;c===null?l.events=[i]:c.push(i)}}function vd(i){var l=Bs().memoizedState;return U4({ref:l,nextImpl:i}),function(){if((Ii&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}function Td(i,l){return c1(4,2,i,l)}function yd(i,l){return c1(4,4,i,l)}function _d(i,l){if(typeof l=="function"){i=i();var c=l(i);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Ed(i,l,c){c=c!=null?c.concat([i]):null,c1(4,4,_d.bind(null,l,i),c)}function wd(){}function z4(i,l){var c=Bs();l=l===void 0?null:l;var m=c.memoizedState;return l!==null&&od(l,m[1])?m[0]:(c.memoizedState=[i,l],i)}function Sd(i,l){var c=Bs();l=l===void 0?null:l;var m=c.memoizedState;if(l!==null&&od(l,m[1]))return m[0];if(m=i(),ta){ze(!0);try{i()}finally{ze(!1)}}return c.memoizedState=[m,l],m}function xd(i,l,c){return c===void 0||(Wl&1073741824)!==0&&($r&261930)===0?i.memoizedState=l:(i.memoizedState=c,i=h2(),Ir.lanes|=i,L0|=i,c)}function H4(i,l,c,m){return nn(c,l)?c:Q0.current!==null?(i=xd(i,c,m),nn(i,l)||(to=!0),i):(Wl&42)===0||(Wl&1073741824)!==0&&($r&261930)===0?(to=!0,i.memoizedState=c):(i=h2(),Ir.lanes|=i,L0|=i,l)}function V4(i,l,c,m,S){var A=St.p;St.p=A!==0&&8>A?A:8;var X=st.T,$e={};st.T=$e,f1(i,!1,l,c);try{var Xe=S(),$t=st.S;if($t!==null&&$t($e,Xe),Xe!==null&&typeof Xe=="object"&&typeof Xe.then=="function"){var Vt=rl(Xe,m);d1(i,l,Vt,Io(i))}else d1(i,l,m,Io(i))}catch(Kt){d1(i,l,{then:function(){},status:"rejected",reason:Kt},Io())}finally{St.p=A,X!==null&&$e.types!==null&&(X.types=$e.types),st.T=X}}function _3(){}function _t(i,l,c,m){if(i.tag!==5)throw Error(a(476));var S=Ua(i).queue;V4(i,S,l,vt,c===null?_3:function(){return E3(i),c(m)})}function Ua(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:vt,baseState:vt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:A0,lastRenderedState:vt},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:A0,lastRenderedState:c},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function E3(i){var l=Ua(i);l.next===null&&(l=i.alternate.memoizedState),d1(i,l.next.queue,{},Io())}function h1(){return eo(U1)}function gl(){return Bs().memoizedState}function Ht(){return Bs().memoizedState}function za(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var c=Io();i=hs(c);var m=bs(l,i,c);m!==null&&(Ao(m,l,c),Dr(m,l,c)),l={cache:dc()},i.payload=l;return}l=l.return}}function Ts(i,l,c){var m=Io();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ra(i)?gh(l,c):(c=y0(i,l,c,m),c!==null&&(Ao(c,i,m),$u(c,l,m)))}function w3(i,l,c){var m=Io();d1(i,l,c,m)}function d1(i,l,c,m){var S={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(ra(i))gh(l,S);else{var A=i.alternate;if(i.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var X=l.lastRenderedState,$e=A(X,c);if(S.hasEagerState=!0,S.eagerState=$e,nn($e,X))return Pl(i,l,S,0),Bi===null&&i0(),!1}catch{}finally{}if(c=y0(i,l,S,m),c!==null)return Ao(c,i,m),$u(c,l,m),!0}return!1}function f1(i,l,c,m){if(m={lane:2,revertLane:wl(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},ra(i)){if(l)throw Error(a(479))}else l=y0(i,c,m,2),l!==null&&Ao(l,i,2)}function ra(i){var l=i.alternate;return i===Ir||l!==null&&l===Ir}function gh(i,l){Fa=pc=!0;var c=i.pending;c===null?l.next=l:(l.next=c.next,c.next=l),i.pending=l}function $u(i,l,c){if((c&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,c|=m,l.lanes=c,_r(i,c)}}var bc={readContext:eo,use:o1,useCallback:vs,useContext:vs,useEffect:vs,useImperativeHandle:vs,useLayoutEffect:vs,useInsertionEffect:vs,useMemo:vs,useReducer:vs,useRef:vs,useState:vs,useDebugValue:vs,useDeferredValue:vs,useTransition:vs,useSyncExternalStore:vs,useId:vs,useHostTransitionStatus:vs,useFormState:vs,useActionState:vs,useOptimistic:vs,useMemoCache:vs,useCacheRefresh:vs};bc.useEffectEvent=vs;var G4={readContext:eo,use:o1,useCallback:function(i,l){return Po().memoizedState=[i,l===void 0?null:l],i},useContext:eo,useEffect:bd,useImperativeHandle:function(i,l,c){c=c!=null?c.concat([i]):null,u1(4194308,4,_d.bind(null,l,i),c)},useLayoutEffect:function(i,l){return u1(4194308,4,i,l)},useInsertionEffect:function(i,l){u1(4,2,i,l)},useMemo:function(i,l){var c=Po();l=l===void 0?null:l;var m=i();if(ta){ze(!0);try{i()}finally{ze(!1)}}return c.memoizedState=[m,l],m},useReducer:function(i,l,c){var m=Po();if(c!==void 0){var S=c(l);if(ta){ze(!0);try{c(l)}finally{ze(!1)}}}else S=l;return m.memoizedState=m.baseState=S,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:S},m.queue=i,i=i.dispatch=Ts.bind(null,Ir,i),[m.memoizedState,i]},useRef:function(i){var l=Po();return i={current:i},l.memoizedState=i},useState:function(i){i=cd(i);var l=i.queue,c=w3.bind(null,Ir,l);return l.dispatch=c,[i.memoizedState,c]},useDebugValue:wd,useDeferredValue:function(i,l){var c=Po();return xd(c,i,l)},useTransition:function(){var i=cd(!1);return i=V4.bind(null,Ir,i.queue,!0,!1),Po().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,c){var m=Ir,S=Po();if(qr){if(c===void 0)throw Error(a(407));c=c()}else{if(c=l(),Bi===null)throw Error(a(349));($r&127)!==0||ud(m,l,c)}S.memoizedState=c;var A={value:c,getSnapshot:l};return S.queue=A,bd(O4.bind(null,m,A,i),[i]),m.flags|=2048,gu(9,{destroy:void 0},M4.bind(null,m,A,c,l),null),c},useId:function(){var i=Po(),l=Bi.identifierPrefix;if(qr){var c=el,m=Xo;c=(m&~(1<<32-Pe(m)-1)).toString(32)+c,l="_"+l+"R_"+c,c=r1++,0<c&&(l+="H"+c.toString(32)),l+="_"}else c=sd++,l="_"+l+"r_"+c.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:h1,useFormState:pd,useActionState:pd,useOptimistic:function(i){var l=Po();l.memoizedState=l.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=f1.bind(null,Ir,!0,c),c.dispatch=l,[i,l]},useMemoCache:hh,useCacheRefresh:function(){return Po().memoizedState=za.bind(null,Ir)},useEffectEvent:function(i){var l=Po(),c={impl:i};return l.memoizedState=c,function(){if((Ii&2)!==0)throw Error(a(440));return c.impl.apply(void 0,arguments)}}},Cd={readContext:eo,use:o1,useCallback:z4,useContext:eo,useEffect:mh,useImperativeHandle:Ed,useInsertionEffect:Td,useLayoutEffect:yd,useMemo:Sd,useReducer:l1,useRef:F4,useState:function(){return l1(A0)},useDebugValue:wd,useDeferredValue:function(i,l){var c=Bs();return H4(c,Wi.memoizedState,i,l)},useTransition:function(){var i=l1(A0)[0],l=Bs().memoizedState;return[typeof i=="boolean"?i:$c(i),l]},useSyncExternalStore:ad,useId:gl,useHostTransitionStatus:h1,useFormState:md,useActionState:md,useOptimistic:function(i,l){var c=Bs();return D4(c,Wi,i,l)},useMemoCache:hh,useCacheRefresh:Ht};Cd.useEffectEvent=vd;var W4={readContext:eo,use:o1,useCallback:z4,useContext:eo,useEffect:mh,useImperativeHandle:Ed,useInsertionEffect:Td,useLayoutEffect:yd,useMemo:Sd,useReducer:fh,useRef:F4,useState:function(){return fh(A0)},useDebugValue:wd,useDeferredValue:function(i,l){var c=Bs();return Wi===null?xd(c,i,l):H4(c,Wi.memoizedState,i,l)},useTransition:function(){var i=fh(A0)[0],l=Bs().memoizedState;return[typeof i=="boolean"?i:$c(i),l]},useSyncExternalStore:ad,useId:gl,useHostTransitionStatus:h1,useFormState:a1,useActionState:a1,useOptimistic:function(i,l){var c=Bs();return Wi!==null?D4(c,Wi,i,l):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:hh,useCacheRefresh:Ht};W4.useEffectEvent=vd;function p1(i,l,c,m){l=i.memoizedState,c=c(m,l),c=c==null?l:I({},l,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var m1={enqueueSetState:function(i,l,c){i=i._reactInternals;var m=Io(),S=hs(m);S.payload=l,c!=null&&(S.callback=c),l=bs(i,S,m),l!==null&&(Ao(l,i,m),Dr(l,i,m))},enqueueReplaceState:function(i,l,c){i=i._reactInternals;var m=Io(),S=hs(m);S.tag=1,S.payload=l,c!=null&&(S.callback=c),l=bs(i,S,m),l!==null&&(Ao(l,i,m),Dr(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var c=Io(),m=hs(c);m.tag=2,l!=null&&(m.callback=l),l=bs(i,m,c),l!==null&&(Ao(l,i,c),Dr(l,i,c))}};function kd(i,l,c,m,S,A,X){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,A,X):l.prototype&&l.prototype.isPureReactComponent?!Dn(c,m)||!Dn(S,A):!0}function q4(i,l,c,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,m),l.state!==i&&m1.enqueueReplaceState(l,l.state,null)}function bu(i,l){var c=l;if("ref"in l){c={};for(var m in l)m!=="ref"&&(c[m]=l[m])}if(i=i.defaultProps){c===l&&(c=I({},c));for(var S in i)c[S]===void 0&&(c[S]=i[S])}return c}function X4(i){cr(i)}function S3(i){console.error(i)}function j4(i){cr(i)}function $h(i,l){try{var c=i.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function Id(i,l,c){try{var m=i.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function g1(i,l,c){return c=hs(c),c.tag=3,c.payload={element:null},c.callback=function(){$h(i,l)},c}function Y4(i){return i=hs(i),i.tag=3,i}function Ad(i,l,c,m){var S=c.type.getDerivedStateFromError;if(typeof S=="function"){var A=m.value;i.payload=function(){return S(A)},i.callback=function(){Id(l,c,m)}}var X=c.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(i.callback=function(){Id(l,c,m),typeof S!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var $e=m.stack;this.componentDidCatch(m.value,{componentStack:$e!==null?$e:""})})}function x3(i,l,c,m,S){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=c.alternate,l!==null&&x0(l,c,S,!0),c=il.current,c!==null){switch(c.tag){case 31:case 13:return ml===null?Mh():c.alternate===null&&Ps===0&&(Ps=3),c.flags&=-257,c.flags|=65536,c.lanes=S,m===G?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([m]):l.add(m),C1(i,m,S)),!1;case 22:return c.flags|=65536,m===G?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([m]):c.add(m)),C1(i,m,S)),!1}throw Error(a(435,c.tag))}return C1(i,m,S),Mh(),!1}if(qr)return l=il.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=S,m!==o0&&(i=Error(a(422),{cause:m}),La(Qo(i,c)))):(m!==o0&&(l=Error(a(423),{cause:m}),La(Qo(l,c))),i=i.current.alternate,i.flags|=65536,S&=-S,i.lanes|=S,m=Qo(m,c),S=g1(i.stateNode,m,S),vi(i,S),Ps!==4&&(Ps=2)),!1;var A=Error(a(520),{cause:m});if(A=Qo(A,c),w1===null?w1=[A]:w1.push(A),Ps!==4&&(Ps=2),l===null)return!0;m=Qo(m,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,i=S&-S,c.lanes|=i,i=g1(c.stateNode,m,i),vi(c,i),!1;case 1:if(l=c.type,A=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Xa===null||!Xa.has(A))))return c.flags|=65536,S&=-S,c.lanes|=S,S=Y4(S),Ad(S,i,c,m),vi(c,S),!1}c=c.return}while(c!==null);return!1}var K4=Error(a(461)),to=!1;function Co(i,l,c,m){l.child=i===null?di(l,null,c,m):wr(l,i.child,c,m)}function ia(i,l,c,m,S){c=c.render;var A=l.ref;if("ref"in m){var X={};for(var $e in m)$e!=="ref"&&(X[$e]=m[$e])}else X=m;return nl(l),m=s1(i,l,c,X,A,S),$e=na(),i!==null&&!to?(ch(i,l,S),oa(i,l,S)):(qr&&$e&&ac(l),l.flags|=1,Co(i,l,m,S),l.child)}function mt(i,l,c,m,S){if(i===null){var A=c.type;return typeof A=="function"&&!sc(A)&&A.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=A,J4(i,l,A,m,S)):(i=j0(c.type,null,m,l,l.mode,S),i.ref=l.ref,i.return=l,l.child=i)}if(A=i.child,!qi(i,S)){var X=A.memoizedProps;if(c=c.compare,c=c!==null?c:Dn,c(X,m)&&i.ref===l.ref)return oa(i,l,S)}return l.flags|=1,i=Ul(A,m),i.ref=l.ref,i.return=l,l.child=i}function J4(i,l,c,m,S){if(i!==null){var A=i.memoizedProps;if(Dn(A,m)&&i.ref===l.ref)if(to=!1,l.pendingProps=m=A,qi(i,S))(i.flags&131072)!==0&&(to=!0);else return l.lanes=i.lanes,oa(i,l,S)}return vh(i,l,c,m,S)}function Z4(i,l,c,m){var S=m.children,A=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(A=A!==null?A.baseLanes|c:c,i!==null){for(m=l.child=i.child,S=0;m!==null;)S=S|m.lanes|m.childLanes,m=m.sibling;m=S&~A}else m=0,l.child=null;return C3(i,l,A,c,m)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&g(l,A!==null?A.cachePool:null),A!==null?fc(l,A):n1(),id(l);else return m=l.lanes=536870912,C3(i,l,A!==null?A.baseLanes|c:c,c,m)}else A!==null?(g(l,A.cachePool),fc(l,A),Pa(),l.memoizedState=null):(i!==null&&g(l,null),n1(),Pa());return Co(i,l,S,c),l.child}function $1(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function C3(i,l,c,m,S){var A=pl();return A=A===null?null:{parent:as._currentValue,pool:A},l.memoizedState={baseLanes:c,cachePool:A},i!==null&&g(l,null),n1(),id(l),i!==null&&x0(i,l,m,!0),l.childLanes=S,null}function b1(i,l){return l=vu({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function Q4(i,l,c){return wr(l,i.child,null,c),i=b1(l,l.pendingProps),i.flags|=2,jo(l),l.memoizedState=null,i}function bh(i,l,c){var m=l.pendingProps,S=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(qr){if(m.mode==="hidden")return i=b1(l,m),l.lanes=536870912,$1(null,i);if(rd(l),(i=Yi)?(i=ga(i,Vs),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:s0!==null?{id:Xo,overflow:el}:null,retryLane:536870912,hydrationErrors:null},c=Y0(i),c.return=l,l.child=c,ss=l,Yi=null)):i=null,i===null)throw l0(l);return l.lanes=536870912,null}return b1(l,m)}var A=i.memoizedState;if(A!==null){var X=A.dehydrated;if(rd(l),S)if(l.flags&256)l.flags&=-257,l=Q4(i,l,c);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(a(558));else if(to||x0(i,l,c,!1),S=(c&i.childLanes)!==0,to||S){if(m=Bi,m!==null&&(X=B(m,c),X!==0&&X!==A.retryLane))throw A.retryLane=X,Zo(i,X),Ao(m,i,X),K4;Mh(),l=Q4(i,l,c)}else i=A.treeContext,Yi=Ho(X.nextSibling),ss=l,qr=!0,w0=null,Vs=!1,i!==null&&uc(l,i),l=b1(l,m),l.flags|=4096;return l}return i=Ul(i.child,{mode:m.mode,children:m.children}),i.ref=l.ref,l.child=i,i.return=l,i}function v1(i,l){var c=l.ref;if(c===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(a(284));(i===null||i.ref!==c)&&(l.flags|=4194816)}}function vh(i,l,c,m,S){return nl(l),c=s1(i,l,c,m,void 0,S),m=na(),i!==null&&!to?(ch(i,l,S),oa(i,l,S)):(qr&&m&&ac(l),l.flags|=1,Co(i,l,c,S),l.child)}function sa(i,l,c,m,S,A){return nl(l),l.updateQueue=null,c=ld(l,m,c,S),N4(i),m=na(),i!==null&&!to?(ch(i,l,A),oa(i,l,A)):(qr&&m&&ac(l),l.flags|=1,Co(i,l,c,A),l.child)}function e2(i,l,c,m,S){if(nl(l),l.stateNode===null){var A=fl,X=c.contextType;typeof X=="object"&&X!==null&&(A=eo(X)),A=new c(m,A),l.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=m1,l.stateNode=A,A._reactInternals=l,A=l.stateNode,A.props=m,A.state=l.memoizedState,A.refs={},Gi(l),X=c.contextType,A.context=typeof X=="object"&&X!==null?eo(X):fl,A.state=l.memoizedState,X=c.getDerivedStateFromProps,typeof X=="function"&&(p1(l,c,X,m),A.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(X=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),X!==A.state&&m1.enqueueReplaceState(A,A.state,null),fi(l,m,A,S),Di(),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){A=l.stateNode;var $e=l.memoizedProps,Xe=bu(c,$e);A.props=Xe;var $t=A.context,Vt=c.contextType;X=fl,typeof Vt=="object"&&Vt!==null&&(X=eo(Vt));var Kt=c.getDerivedStateFromProps;Vt=typeof Kt=="function"||typeof A.getSnapshotBeforeUpdate=="function",$e=l.pendingProps!==$e,Vt||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||($e||$t!==X)&&q4(l,A,m,X),Jr=!1;var kt=l.memoizedState;A.state=kt,fi(l,m,A,S),Di(),$t=l.memoizedState,$e||kt!==$t||Jr?(typeof Kt=="function"&&(p1(l,c,Kt,m),$t=l.memoizedState),(Xe=Jr||kd(l,c,Xe,m,kt,$t,X))?(Vt||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=$t),A.props=m,A.state=$t,A.context=X,m=Xe):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{A=l.stateNode,$s(i,l),X=l.memoizedProps,Vt=bu(c,X),A.props=Vt,Kt=l.pendingProps,kt=A.context,$t=c.contextType,Xe=fl,typeof $t=="object"&&$t!==null&&(Xe=eo($t)),$e=c.getDerivedStateFromProps,($t=typeof $e=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(X!==Kt||kt!==Xe)&&q4(l,A,m,Xe),Jr=!1,kt=l.memoizedState,A.state=kt,fi(l,m,A,S),Di();var Rt=l.memoizedState;X!==Kt||kt!==Rt||Jr||i!==null&&i.dependencies!==null&&hu(i.dependencies)?(typeof $e=="function"&&(p1(l,c,$e,m),Rt=l.memoizedState),(Vt=Jr||kd(l,c,Vt,m,kt,Rt,Xe)||i!==null&&i.dependencies!==null&&hu(i.dependencies))?($t||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(m,Rt,Xe),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(m,Rt,Xe)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||X===i.memoizedProps&&kt===i.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||X===i.memoizedProps&&kt===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Rt),A.props=m,A.state=Rt,A.context=Xe,m=Vt):(typeof A.componentDidUpdate!="function"||X===i.memoizedProps&&kt===i.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||X===i.memoizedProps&&kt===i.memoizedState||(l.flags|=1024),m=!1)}return A=m,v1(i,l),m=(l.flags&128)!==0,A||m?(A=l.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:A.render(),l.flags|=1,i!==null&&m?(l.child=wr(l,i.child,null,S),l.child=wr(l,null,c,S)):Co(i,l,c,S),l.memoizedState=A.state,i=l.child):i=oa(i,l,S),i}function T1(i,l,c,m){return a0(),l.flags|=256,Co(i,l,c,m),l.child}var Ha={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sl(i){return{baseLanes:i,cachePool:f()}}function N0(i,l,c){return i=i!==null?i.childLanes&~c:0,l&&(i|=Fo),i}function u0(i,l,c){var m=l.pendingProps,S=!1,A=(l.flags&128)!==0,X;if((X=A)||(X=i!==null&&i.memoizedState===null?!1:(Gs.current&2)!==0),X&&(S=!0,l.flags&=-129),X=(l.flags&32)!==0,l.flags&=-33,i===null){if(qr){if(S?ea(l):Pa(),(i=Yi)?(i=ga(i,Vs),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:s0!==null?{id:Xo,overflow:el}:null,retryLane:536870912,hydrationErrors:null},c=Y0(i),c.return=l,l.child=c,ss=l,Yi=null)):i=null,i===null)throw l0(l);return R1(i)?l.lanes=32:l.lanes=536870912,null}var $e=m.children;return m=m.fallback,S?(Pa(),S=l.mode,$e=vu({mode:"hidden",children:$e},S),m=_0(m,S,c,null),$e.return=l,m.return=l,$e.sibling=m,l.child=$e,m=l.child,m.memoizedState=sl(c),m.childLanes=N0(i,X,c),l.memoizedState=Ha,$1(null,m)):(ea(l),Th(l,$e))}var Xe=i.memoizedState;if(Xe!==null&&($e=Xe.dehydrated,$e!==null)){if(A)l.flags&256?(ea(l),l.flags&=-257,l=lo(i,l,c)):l.memoizedState!==null?(Pa(),l.child=i.child,l.flags|=128,l=null):(Pa(),$e=m.fallback,S=l.mode,m=vu({mode:"visible",children:m.children},S),$e=_0($e,S,c,null),$e.flags|=2,m.return=l,$e.return=l,m.sibling=$e,l.child=m,wr(l,i.child,null,c),m=l.child,m.memoizedState=sl(c),m.childLanes=N0(i,X,c),l.memoizedState=Ha,l=$1(null,m));else if(ea(l),R1($e)){if(X=$e.nextSibling&&$e.nextSibling.dataset,X)var $t=X.dgst;X=$t,m=Error(a(419)),m.stack="",m.digest=X,La({value:m,source:null,stack:null}),l=lo(i,l,c)}else if(to||x0(i,l,c,!1),X=(c&i.childLanes)!==0,to||X){if(X=Bi,X!==null&&(m=B(X,c),m!==0&&m!==Xe.retryLane))throw Xe.retryLane=m,Zo(i,m),Ao(X,i,m),K4;Mc($e)||Mh(),l=lo(i,l,c)}else Mc($e)?(l.flags|=192,l.child=i.child,l=null):(i=Xe.treeContext,Yi=Ho($e.nextSibling),ss=l,qr=!0,w0=null,Vs=!1,i!==null&&uc(l,i),l=Th(l,m.children),l.flags|=4096);return l}return S?(Pa(),$e=m.fallback,S=l.mode,Xe=i.child,$t=Xe.sibling,m=Ul(Xe,{mode:"hidden",children:m.children}),m.subtreeFlags=Xe.subtreeFlags&65011712,$t!==null?$e=Ul($t,$e):($e=_0($e,S,c,null),$e.flags|=2),$e.return=l,m.return=l,m.sibling=$e,l.child=m,$1(null,m),m=l.child,$e=i.child.memoizedState,$e===null?$e=sl(c):(S=$e.cachePool,S!==null?(Xe=as._currentValue,S=S.parent!==Xe?{parent:Xe,pool:Xe}:S):S=f(),$e={baseLanes:$e.baseLanes|c,cachePool:S}),m.memoizedState=$e,m.childLanes=N0(i,X,c),l.memoizedState=Ha,$1(i.child,m)):(ea(l),c=i.child,i=c.sibling,c=Ul(c,{mode:"visible",children:m.children}),c.return=l,c.sibling=null,i!==null&&(X=l.deletions,X===null?(l.deletions=[i],l.flags|=16):X.push(i)),l.child=c,l.memoizedState=null,c)}function Th(i,l){return l=vu({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function vu(i,l){return i=So(22,i,null,l),i.lanes=0,i}function lo(i,l,c){return wr(l,i.child,null,c),i=Th(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function To(i,l,c){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),Da(i.return,l,c)}function t2(i,l,c,m,S,A){var X=i.memoizedState;X===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:S,treeForkCount:A}:(X.isBackwards=l,X.rendering=null,X.renderingStartTime=0,X.last=m,X.tail=c,X.tailMode=S,X.treeForkCount=A)}function ko(i,l,c){var m=l.pendingProps,S=m.revealOrder,A=m.tail;m=m.children;var X=Gs.current,$e=(X&2)!==0;if($e?(X=X&1|2,l.flags|=128):X&=1,_e(Gs,X),Co(i,l,m,c),m=qr?K0:0,!$e&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&To(i,c,l);else if(i.tag===19)To(i,c,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(S){case"forwards":for(c=l.child,S=null;c!==null;)i=c.alternate,i!==null&&uh(i)===null&&(S=c),c=c.sibling;c=S,c===null?(S=l.child,l.child=null):(S=c.sibling,c.sibling=null),t2(l,!1,S,c,A,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,S=l.child,l.child=null;S!==null;){if(i=S.alternate,i!==null&&uh(i)===null){l.child=S;break}i=S.sibling,S.sibling=c,c=S,S=i}t2(l,!0,c,null,A,m);break;case"together":t2(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function oa(i,l,c){if(i!==null&&(l.dependencies=i.dependencies),L0|=l.lanes,(c&l.childLanes)===0)if(i!==null){if(x0(i,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(a(153));if(l.child!==null){for(i=l.child,c=Ul(i,i.pendingProps),l.child=c,c.return=l;i.sibling!==null;)i=i.sibling,c=c.sibling=Ul(i,i.pendingProps),c.return=l;c.sibling=null}return l.child}function qi(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&hu(i)))}function yh(i,l,c){switch(l.tag){case 3:Hn(l,l.stateNode.containerInfo),S0(l,as,i.memoizedState.cache),a0();break;case 27:case 5:sn(l);break;case 4:Hn(l,l.stateNode.containerInfo);break;case 10:S0(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,rd(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(ea(l),l.flags|=128,null):(c&l.child.childLanes)!==0?u0(i,l,c):(ea(l),i=oa(i,l,c),i!==null?i.sibling:null);ea(l);break;case 19:var S=(i.flags&128)!==0;if(m=(c&l.childLanes)!==0,m||(x0(i,l,c,!1),m=(c&l.childLanes)!==0),S){if(m)return ko(i,l,c);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),_e(Gs,Gs.current),m)break;return null;case 22:return l.lanes=0,Z4(i,l,c,l.pendingProps);case 24:S0(l,as,i.memoizedState.cache)}return oa(i,l,c)}function n2(i,l,c){if(i!==null)if(i.memoizedProps!==l.pendingProps)to=!0;else{if(!qi(i,c)&&(l.flags&128)===0)return to=!1,yh(i,l,c);to=(i.flags&131072)!==0}else to=!1,qr&&(l.flags&1048576)!==0&&lc(l,K0,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(i=Ne(l.elementType),l.type=i,typeof i=="function")sc(i)?(m=bu(i,m),l.tag=1,l=e2(null,l,i,m,c)):(l.tag=0,l=vh(null,l,i,m,c));else{if(i!=null){var S=i.$$typeof;if(S===Oe){l.tag=11,l=ia(null,l,i,m,c);break e}else if(S===je){l.tag=14,l=mt(null,l,i,m,c);break e}}throw l=Lt(i)||i,Error(a(306,l,""))}}return l;case 0:return vh(i,l,l.type,l.pendingProps,c);case 1:return m=l.type,S=bu(m,l.pendingProps),e2(i,l,m,S,c);case 3:e:{if(Hn(l,l.stateNode.containerInfo),i===null)throw Error(a(387));m=l.pendingProps;var A=l.memoizedState;S=A.element,$s(i,l),fi(l,m,null,c);var X=l.memoizedState;if(m=X.cache,S0(l,as,m),m!==A.cache&&tl(l,[as],c,!0),Di(),m=X.element,A.isDehydrated)if(A={element:m,isDehydrated:!1,cache:X.cache},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){l=T1(i,l,m,c);break e}else if(m!==S){S=Qo(Error(a(424)),l),La(S),l=T1(i,l,m,c);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Yi=Ho(i.firstChild),ss=l,qr=!0,w0=null,Vs=!0,c=di(l,null,m,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(a0(),m===S){l=oa(i,l,c);break e}Co(i,l,m,c)}l=l.child}return l;case 26:return v1(i,l),i===null?(c=Dc(l.type,null,l.pendingProps,null))?l.memoizedState=c:qr||(c=l.type,i=l.pendingProps,m=c0(Qt.current).createElement(c),m[J]=l,m[ke]=i,yo(m,c,i),pr(m),l.stateNode=m):l.memoizedState=Dc(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return sn(l),i===null&&qr&&(m=l.stateNode=$a(l.type,l.pendingProps,Qt.current),ss=l,Vs=!0,S=Yi,Mu(l.type)?(w2=S,Yi=Ho(m.firstChild)):Yi=S),Co(i,l,l.pendingProps.children,c),v1(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&qr&&((S=m=Yi)&&(m=jl(m,l.type,l.pendingProps,Vs),m!==null?(l.stateNode=m,ss=l,Yi=Ho(m.firstChild),Vs=!1,S=!0):S=!1),S||l0(l)),sn(l),S=l.type,A=l.pendingProps,X=i!==null?i.memoizedProps:null,m=A.children,y2(S,A)?m=null:X!==null&&y2(S,X)&&(l.flags|=32),l.memoizedState!==null&&(S=s1(i,l,T3,null,null,c),U1._currentValue=S),v1(i,l),Co(i,l,m,c),l.child;case 6:return i===null&&qr&&((i=c=Yi)&&(c=Fi(c,l.pendingProps,Vs),c!==null?(l.stateNode=c,ss=l,Yi=null,i=!0):i=!1),i||l0(l)),null;case 13:return u0(i,l,c);case 4:return Hn(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=wr(l,null,m,c):Co(i,l,m,c),l.child;case 11:return ia(i,l,l.type,l.pendingProps,c);case 7:return Co(i,l,l.pendingProps,c),l.child;case 8:return Co(i,l,l.pendingProps.children,c),l.child;case 12:return Co(i,l,l.pendingProps.children,c),l.child;case 10:return m=l.pendingProps,S0(l,l.type,m.value),Co(i,l,m.children,c),l.child;case 9:return S=l.type._context,m=l.pendingProps.children,nl(l),S=eo(S),m=m(S),l.flags|=1,Co(i,l,m,c),l.child;case 14:return mt(i,l,l.type,l.pendingProps,c);case 15:return J4(i,l,l.type,l.pendingProps,c);case 19:return ko(i,l,c);case 31:return bh(i,l,c);case 22:return Z4(i,l,c,l.pendingProps);case 24:return nl(l),m=eo(as),i===null?(S=pl(),S===null&&(S=Bi,A=dc(),S.pooledCache=A,A.refCount++,A!==null&&(S.pooledCacheLanes|=c),S=A),l.memoizedState={parent:m,cache:S},Gi(l),S0(l,as,S)):((i.lanes&c)!==0&&($s(i,l),fi(l,null,null,c),Di()),S=i.memoizedState,A=l.memoizedState,S.parent!==m?(S={parent:m,cache:m},l.memoizedState=S,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=S),S0(l,as,m)):(m=A.cache,S0(l,as,m),m!==S.cache&&tl(l,[as],c,!0))),Co(i,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(a(156,l.tag))}function la(i){i.flags|=4}function vc(i,l,c,m,S){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(S&335544128)===S)if(i.stateNode.complete)i.flags|=8192;else if(Su())i.flags|=8192;else throw We=G,k}else i.flags&=-16777217}function r2(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Qi(l))if(Su())i.flags|=8192;else throw We=G,k}function Ws(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?dn():536870912,i.lanes|=l,Ec|=l)}function aa(i,l){if(!qr)switch(i.tailMode){case"hidden":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function yi(i){var l=i.alternate!==null&&i.alternate.child===i.child,c=0,m=0;if(l)for(var S=i.child;S!==null;)c|=S.lanes|S.childLanes,m|=S.subtreeFlags&65011712,m|=S.flags&65011712,S.return=i,S=S.sibling;else for(S=i.child;S!==null;)c|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=i,S=S.sibling;return i.subtreeFlags|=m,i.childLanes=c,l}function i2(i,l,c){var m=l.pendingProps;switch(Hl(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yi(l),null;case 1:return yi(l),null;case 3:return c=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Gl(as),mn(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Ra(l)?la(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Zc())),yi(l),null;case 26:var S=l.type,A=l.memoizedState;return i===null?(la(l),A!==null?(yi(l),r2(l,A)):(yi(l),vc(l,S,null,m,c))):A?A!==i.memoizedState?(la(l),yi(l),r2(l,A)):(yi(l),l.flags&=-16777217):(i=i.memoizedProps,i!==m&&la(l),yi(l),vc(l,S,i,m,c)),null;case 27:if(qn(l),c=Qt.current,S=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&la(l);else{if(!m){if(l.stateNode===null)throw Error(a(166));return yi(l),null}i=Ft.current,Ra(l)?oh(l):(i=$a(S,m,c),l.stateNode=i,la(l))}return yi(l),null;case 5:if(qn(l),S=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&la(l);else{if(!m){if(l.stateNode===null)throw Error(a(166));return yi(l),null}if(A=Ft.current,Ra(l))oh(l);else{var X=c0(Qt.current);switch(A){case 1:A=X.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:A=X.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":A=X.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":A=X.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":A=X.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof m.is=="string"?X.createElement("select",{is:m.is}):X.createElement("select"),m.multiple?A.multiple=!0:m.size&&(A.size=m.size);break;default:A=typeof m.is=="string"?X.createElement(S,{is:m.is}):X.createElement(S)}}A[J]=l,A[ke]=m;e:for(X=l.child;X!==null;){if(X.tag===5||X.tag===6)A.appendChild(X.stateNode);else if(X.tag!==4&&X.tag!==27&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===l)break e;for(;X.sibling===null;){if(X.return===null||X.return===l)break e;X=X.return}X.sibling.return=X.return,X=X.sibling}l.stateNode=A;e:switch(yo(A,S,m),S){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&la(l)}}return yi(l),vc(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,c),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&la(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(a(166));if(i=Qt.current,Ra(l)){if(i=l.stateNode,c=l.memoizedProps,m=null,S=ss,S!==null)switch(S.tag){case 27:case 5:m=S.memoizedProps}i[J]=l,i=!!(i.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||Ph(i.nodeValue,c)),i||l0(l,!0)}else i=c0(i).createTextNode(m),i[J]=l,l.stateNode=i}return yi(l),null;case 31:if(c=l.memoizedState,i===null||i.memoizedState!==null){if(m=Ra(l),c!==null){if(i===null){if(!m)throw Error(a(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(557));i[J]=l}else a0(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;yi(l),i=!1}else c=Zc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return l.flags&256?(jo(l),l):(jo(l),null);if((l.flags&128)!==0)throw Error(a(558))}return yi(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(S=Ra(l),m!==null&&m.dehydrated!==null){if(i===null){if(!S)throw Error(a(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(a(317));S[J]=l}else a0(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;yi(l),S=!1}else S=Zc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=S),S=!0;if(!S)return l.flags&256?(jo(l),l):(jo(l),null)}return jo(l),(l.flags&128)!==0?(l.lanes=c,l):(c=m!==null,i=i!==null&&i.memoizedState!==null,c&&(m=l.child,S=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(S=m.alternate.memoizedState.cachePool.pool),A=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(A=m.memoizedState.cachePool.pool),A!==S&&(m.flags|=2048)),c!==i&&c&&(l.child.flags|=8192),Ws(l,l.updateQueue),yi(l),null);case 4:return mn(),i===null&&e4(l.stateNode.containerInfo),yi(l),null;case 10:return Gl(l.type),yi(l),null;case 19:if(tt(Gs),m=l.memoizedState,m===null)return yi(l),null;if(S=(l.flags&128)!==0,A=m.rendering,A===null)if(S)aa(m,!1);else{if(Ps!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(A=uh(i),A!==null){for(l.flags|=128,aa(m,!1),i=A.updateQueue,l.updateQueue=i,Ws(l,i),l.subtreeFlags=0,i=c,c=l.child;c!==null;)nd(c,i),c=c.sibling;return _e(Gs,Gs.current&1|2),qr&&Bo(l,m.treeForkCount),l.child}i=i.sibling}m.tail!==null&&Xn()>xh&&(l.flags|=128,S=!0,aa(m,!1),l.lanes=4194304)}else{if(!S)if(i=uh(A),i!==null){if(l.flags|=128,S=!0,i=i.updateQueue,l.updateQueue=i,Ws(l,i),aa(m,!0),m.tail===null&&m.tailMode==="hidden"&&!A.alternate&&!qr)return yi(l),null}else 2*Xn()-m.renderingStartTime>xh&&c!==536870912&&(l.flags|=128,S=!0,aa(m,!1),l.lanes=4194304);m.isBackwards?(A.sibling=l.child,l.child=A):(i=m.last,i!==null?i.sibling=A:l.child=A,m.last=A)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Xn(),i.sibling=null,c=Gs.current,_e(Gs,S?c&1|2:c&1),qr&&Bo(l,m.treeForkCount),i):(yi(l),null);case 22:case 23:return jo(l),I0(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(c&536870912)!==0&&(l.flags&128)===0&&(yi(l),l.subtreeFlags&6&&(l.flags|=8192)):yi(l),c=l.updateQueue,c!==null&&Ws(l,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==c&&(l.flags|=2048),i!==null&&tt(Li),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),Gl(as),yi(l),null;case 25:return null;case 30:return null}throw Error(a(156,l.tag))}function s2(i,l){switch(Hl(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Gl(as),mn(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return qn(l),null;case 31:if(l.memoizedState!==null){if(jo(l),l.alternate===null)throw Error(a(340));a0()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(jo(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(a(340));a0()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return tt(Gs),null;case 4:return mn(),null;case 10:return Gl(l.type),null;case 22:case 23:return jo(l),I0(),i!==null&&tt(Li),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Gl(as),null;case 25:return null;default:return null}}function o2(i,l){switch(Hl(l),l.tag){case 3:Gl(as),mn();break;case 26:case 27:case 5:qn(l);break;case 4:mn();break;case 31:l.memoizedState!==null&&jo(l);break;case 13:jo(l);break;case 19:tt(Gs);break;case 10:Gl(l.type);break;case 22:case 23:jo(l),I0(),i!==null&&tt(Li);break;case 24:Gl(as)}}function ql(i,l){try{var c=l.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var S=m.next;c=S;do{if((c.tag&i)===i){m=void 0;var A=c.create,X=c.inst;m=A(),X.destroy=m}c=c.next}while(c!==S)}}catch($e){_i(l,l.return,$e)}}function ki(i,l,c){try{var m=l.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var A=S.next;m=A;do{if((m.tag&i)===i){var X=m.inst,$e=X.destroy;if($e!==void 0){X.destroy=void 0,S=l;var Xe=c,$t=$e;try{$t()}catch(Vt){_i(S,Xe,Vt)}}}m=m.next}while(m!==A)}}catch(Vt){_i(l,l.return,Vt)}}function Nd(i){var l=i.updateQueue;if(l!==null){var c=i.stateNode;try{vo(l,c)}catch(m){_i(i,i.return,m)}}}function Md(i,l,c){c.props=bu(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(m){_i(i,l,m)}}function Tc(i,l){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof c=="function"?i.refCleanup=c(m):c.current=m}}catch(S){_i(i,l,S)}}function qt(i,l){var c=i.ref,m=i.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(S){_i(i,l,S)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(S){_i(i,l,S)}else c.current=null}function ft(i){var l=i.type,c=i.memoizedProps,m=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(S){_i(i,i.return,S)}}function Tr(i,l,c){try{var m=i.stateNode;n4(m,i.type,c,l),m[ke]=l}catch(S){_i(i,i.return,S)}}function Sr(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Mu(i.type)||i.tag===4}function Od(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Sr(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Mu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ua(i,l,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(i),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=on));else if(m!==4&&(m===27&&Mu(i.type)&&(c=i.stateNode,l=null),i=i.child,i!==null))for(ua(i,l,c),i=i.sibling;i!==null;)ua(i,l,c),i=i.sibling}function _h(i,l,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?c.insertBefore(i,l):c.appendChild(i);else if(m!==4&&(m===27&&Mu(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(_h(i,l,c),i=i.sibling;i!==null;)_h(i,l,c),i=i.sibling}function l2(i){var l=i.stateNode,c=i.memoizedProps;try{for(var m=i.type,S=l.attributes;S.length;)l.removeAttributeNode(S[0]);yo(l,m,c),l[J]=i,l[ke]=c}catch(A){_i(i,i.return,A)}}var Va=!1,ds=!1,As=!1,Eh=typeof WeakSet=="function"?WeakSet:Set,ao=null;function Rd(i,l){if(i=i.containerInfo,Ac=z1,i=hi(i),Qr(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var S=m.anchorOffset,A=m.focusNode;m=m.focusOffset;try{c.nodeType,A.nodeType}catch{c=null;break e}var X=0,$e=-1,Xe=-1,$t=0,Vt=0,Kt=i,kt=null;t:for(;;){for(var Rt;Kt!==c||S!==0&&Kt.nodeType!==3||($e=X+S),Kt!==A||m!==0&&Kt.nodeType!==3||(Xe=X+m),Kt.nodeType===3&&(X+=Kt.nodeValue.length),(Rt=Kt.firstChild)!==null;)kt=Kt,Kt=Rt;for(;;){if(Kt===i)break t;if(kt===c&&++$t===S&&($e=X),kt===A&&++Vt===m&&(Xe=X),(Rt=Kt.nextSibling)!==null)break;Kt=kt,kt=Kt.parentNode}Kt=Rt}c=$e===-1||Xe===-1?null:{start:$e,end:Xe}}else c=null}c=c||{start:0,end:0}}else c=null;for(O1={focusedElem:i,selectionRange:c},z1=!1,ao=l;ao!==null;)if(l=ao,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,ao=i;else for(;ao!==null;){switch(l=ao,A=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)S=i[c],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&A!==null){i=void 0,c=l,S=A.memoizedProps,A=A.memoizedState,m=c.stateNode;try{var Nn=bu(c.type,S);i=m.getSnapshotBeforeUpdate(Nn,A),m.__reactInternalSnapshotBeforeUpdate=i}catch(lr){_i(c,c.return,lr)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,c=i.nodeType,c===9)s4(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":s4(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=l.sibling,i!==null){i.return=l.return,ao=i;break}ao=l.return}}function y1(i,l,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:ca(i,c),m&4&&ql(5,c);break;case 1:if(ca(i,c),m&4)if(i=c.stateNode,l===null)try{i.componentDidMount()}catch(X){_i(c,c.return,X)}else{var S=bu(c.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(S,l,i.__reactInternalSnapshotBeforeUpdate)}catch(X){_i(c,c.return,X)}}m&64&&Nd(c),m&512&&Tc(c,c.return);break;case 3:if(ca(i,c),m&64&&(i=c.updateQueue,i!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{vo(i,l)}catch(X){_i(c,c.return,X)}}break;case 27:l===null&&m&4&&l2(c);case 26:case 5:ca(i,c),l===null&&m&4&&ft(c),m&512&&Tc(c,c.return);break;case 12:ca(i,c);break;case 31:ca(i,c),m&4&&a2(i,c);break;case 13:ca(i,c),m&4&&xr(i,c),m&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=N3.bind(null,c),o4(i,c))));break;case 22:if(m=c.memoizedState!==null||Va,!m){l=l!==null&&l.memoizedState!==null||ds,S=Va;var A=ds;Va=m,(ds=l)&&!A?ha(i,c,(c.subtreeFlags&8772)!==0):ca(i,c),Va=S,ds=A}break;case 30:break;default:ca(i,c)}}function _1(i){var l=i.alternate;l!==null&&(i.alternate=null,_1(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Bt(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ys=null,$l=!1;function bl(i,l,c){for(c=c.child;c!==null;)Ld(i,l,c),c=c.sibling}function Ld(i,l,c){if(ae&&typeof ae.onCommitFiberUnmount=="function")try{ae.onCommitFiberUnmount(L,c)}catch{}switch(c.tag){case 26:ds||qt(c,l),bl(i,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:ds||qt(c,l);var m=ys,S=$l;Mu(c.type)&&(ys=c.stateNode,$l=!1),bl(i,l,c),os(c.stateNode),ys=m,$l=S;break;case 5:ds||qt(c,l);case 6:if(m=ys,S=$l,ys=null,bl(i,l,c),ys=m,$l=S,ys!==null)if($l)try{(ys.nodeType===9?ys.body:ys.nodeName==="HTML"?ys.ownerDocument.body:ys).removeChild(c.stateNode)}catch(A){_i(c,l,A)}else try{ys.removeChild(c.stateNode)}catch(A){_i(c,l,A)}break;case 18:ys!==null&&($l?(i=ys,Uh(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Pc(i)):Uh(ys,c.stateNode));break;case 4:m=ys,S=$l,ys=c.stateNode.containerInfo,$l=!0,bl(i,l,c),ys=m,$l=S;break;case 0:case 11:case 14:case 15:ki(2,c,l),ds||ki(4,c,l),bl(i,l,c);break;case 1:ds||(qt(c,l),m=c.stateNode,typeof m.componentWillUnmount=="function"&&Md(c,l,m)),bl(i,l,c);break;case 21:bl(i,l,c);break;case 22:ds=(m=ds)||c.memoizedState!==null,bl(i,l,c),ds=m;break;default:bl(i,l,c)}}function a2(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Pc(i)}catch(c){_i(l,l.return,c)}}}function xr(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Pc(i)}catch(c){_i(l,l.return,c)}}function k3(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new Eh),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new Eh),l;default:throw Error(a(435,i.tag))}}function M0(i,l){var c=k3(i);l.forEach(function(m){if(!c.has(m)){c.add(m);var S=M3.bind(null,i,m);m.then(S,S)}})}function qs(i,l){var c=l.deletions;if(c!==null)for(var m=0;m<c.length;m++){var S=c[m],A=i,X=l,$e=X;e:for(;$e!==null;){switch($e.tag){case 27:if(Mu($e.type)){ys=$e.stateNode,$l=!1;break e}break;case 5:ys=$e.stateNode,$l=!1;break e;case 3:case 4:ys=$e.stateNode.containerInfo,$l=!0;break e}$e=$e.return}if(ys===null)throw Error(a(160));Ld(A,X,S),ys=null,$l=!1,A=S.alternate,A!==null&&(A.return=null),S.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Ga(l,i),l=l.sibling}var Yo=null;function Ga(i,l){var c=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:qs(l,i),uo(i),m&4&&(ki(3,i,i.return),ql(3,i),ki(5,i,i.return));break;case 1:qs(l,i),uo(i),m&512&&(ds||c===null||qt(c,c.return)),m&64&&Va&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var S=Yo;if(qs(l,i),uo(i),m&512&&(ds||c===null||qt(c,c.return)),m&4){var A=c!==null?c.memoizedState:null;if(m=i.memoizedState,c===null)if(m===null)if(i.stateNode===null){e:{m=i.type,c=i.memoizedProps,S=S.ownerDocument||S;t:switch(m){case"title":A=S.getElementsByTagName("title")[0],(!A||A[ie]||A[J]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=S.createElement(m),S.head.insertBefore(A,S.querySelector("head > title"))),yo(A,m,c),A[J]=i,pr(A),m=A;break e;case"link":var X=I2("link","href",S).get(m+(c.href||""));if(X){for(var $e=0;$e<X.length;$e++)if(A=X[$e],A.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&A.getAttribute("rel")===(c.rel==null?null:c.rel)&&A.getAttribute("title")===(c.title==null?null:c.title)&&A.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){X.splice($e,1);break t}}A=S.createElement(m),yo(A,m,c),S.head.appendChild(A);break;case"meta":if(X=I2("meta","content",S).get(m+(c.content||""))){for($e=0;$e<X.length;$e++)if(A=X[$e],A.getAttribute("content")===(c.content==null?null:""+c.content)&&A.getAttribute("name")===(c.name==null?null:c.name)&&A.getAttribute("property")===(c.property==null?null:c.property)&&A.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&A.getAttribute("charset")===(c.charSet==null?null:c.charSet)){X.splice($e,1);break t}}A=S.createElement(m),yo(A,m,c),S.head.appendChild(A);break;default:throw Error(a(468,m))}A[J]=i,pr(A),m=A}i.stateNode=m}else l4(S,i.type,i.stateNode);else i.stateNode=L1(S,m,i.memoizedProps);else A!==m?(A===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):A.count--,m===null?l4(S,i.type,i.stateNode):L1(S,m,i.memoizedProps)):m===null&&i.stateNode!==null&&Tr(i,i.memoizedProps,c.memoizedProps)}break;case 27:qs(l,i),uo(i),m&512&&(ds||c===null||qt(c,c.return)),c!==null&&m&4&&Tr(i,i.memoizedProps,c.memoizedProps);break;case 5:if(qs(l,i),uo(i),m&512&&(ds||c===null||qt(c,c.return)),i.flags&32){S=i.stateNode;try{fe(S,"")}catch(Nn){_i(i,i.return,Nn)}}m&4&&i.stateNode!=null&&(S=i.memoizedProps,Tr(i,S,c!==null?c.memoizedProps:S)),m&1024&&(As=!0);break;case 6:if(qs(l,i),uo(i),m&4){if(i.stateNode===null)throw Error(a(162));m=i.memoizedProps,c=i.stateNode;try{c.nodeValue=m}catch(Nn){_i(i,i.return,Nn)}}break;case 3:if(zh=null,S=Yo,Yo=Ja(l.containerInfo),qs(l,i),Yo=S,uo(i),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Pc(l.containerInfo)}catch(Nn){_i(i,i.return,Nn)}As&&(As=!1,Ko(i));break;case 4:m=Yo,Yo=Ja(i.stateNode.containerInfo),qs(l,i),uo(i),Yo=m;break;case 12:qs(l,i),uo(i);break;case 31:qs(l,i),uo(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,M0(i,m)));break;case 13:qs(l,i),uo(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Sh=Xn()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,M0(i,m)));break;case 22:S=i.memoizedState!==null;var Xe=c!==null&&c.memoizedState!==null,$t=Va,Vt=ds;if(Va=$t||S,ds=Vt||Xe,qs(l,i),ds=Vt,Va=$t,uo(i),m&8192)e:for(l=i.stateNode,l._visibility=S?l._visibility&-2:l._visibility|1,S&&(c===null||Xe||Va||ds||Tu(i)),c=null,l=i;;){if(l.tag===5||l.tag===26){if(c===null){Xe=c=l;try{if(A=Xe.stateNode,S)X=A.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{$e=Xe.stateNode;var Kt=Xe.memoizedProps.style,kt=Kt!=null&&Kt.hasOwnProperty("display")?Kt.display:null;$e.style.display=kt==null||typeof kt=="boolean"?"":(""+kt).trim()}}catch(Nn){_i(Xe,Xe.return,Nn)}}}else if(l.tag===6){if(c===null){Xe=l;try{Xe.stateNode.nodeValue=S?"":Xe.memoizedProps}catch(Nn){_i(Xe,Xe.return,Nn)}}}else if(l.tag===18){if(c===null){Xe=l;try{var Rt=Xe.stateNode;S?B0(Rt,!0):B0(Xe.stateNode,!1)}catch(Nn){_i(Xe,Xe.return,Nn)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,M0(i,c))));break;case 19:qs(l,i),uo(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,M0(i,m)));break;case 30:break;case 21:break;default:qs(l,i),uo(i)}}function uo(i){var l=i.flags;if(l&2){try{for(var c,m=i.return;m!==null;){if(Sr(m)){c=m;break}m=m.return}if(c==null)throw Error(a(160));switch(c.tag){case 27:var S=c.stateNode,A=Od(i);_h(i,A,S);break;case 5:var X=c.stateNode;c.flags&32&&(fe(X,""),c.flags&=-33);var $e=Od(i);_h(i,$e,X);break;case 3:case 4:var Xe=c.stateNode.containerInfo,$t=Od(i);ua(i,$t,Xe);break;default:throw Error(a(161))}}catch(Vt){_i(i,i.return,Vt)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function Ko(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;Ko(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function ca(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)y1(i,l.alternate,l),l=l.sibling}function Tu(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:ki(4,l,l.return),Tu(l);break;case 1:qt(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&Md(l,l.return,c),Tu(l);break;case 27:os(l.stateNode);case 26:case 5:qt(l,l.return),Tu(l);break;case 22:l.memoizedState===null&&Tu(l);break;case 30:Tu(l);break;default:Tu(l)}i=i.sibling}}function ha(i,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,S=i,A=l,X=A.flags;switch(A.tag){case 0:case 11:case 15:ha(S,A,c),ql(4,A);break;case 1:if(ha(S,A,c),m=A,S=m.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch($t){_i(m,m.return,$t)}if(m=A,S=m.updateQueue,S!==null){var $e=m.stateNode;try{var Xe=S.shared.hiddenCallbacks;if(Xe!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Xe.length;S++)Ki(Xe[S],$e)}catch($t){_i(m,m.return,$t)}}c&&X&64&&Nd(A),Tc(A,A.return);break;case 27:l2(A);case 26:case 5:ha(S,A,c),c&&m===null&&X&4&&ft(A),Tc(A,A.return);break;case 12:ha(S,A,c);break;case 31:ha(S,A,c),c&&X&4&&a2(S,A);break;case 13:ha(S,A,c),c&&X&4&&xr(S,A);break;case 22:A.memoizedState===null&&ha(S,A,c),Tc(A,A.return);break;case 30:break;default:ha(S,A,c)}l=l.sibling}}function Dd(i,l){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&C0(c))}function Bd(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&C0(i))}function O0(i,l,c,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Pd(i,l,c,m),l=l.sibling}function Pd(i,l,c,m){var S=l.flags;switch(l.tag){case 0:case 11:case 15:O0(i,l,c,m),S&2048&&ql(9,l);break;case 1:O0(i,l,c,m);break;case 3:O0(i,l,c,m),S&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&C0(i)));break;case 12:if(S&2048){O0(i,l,c,m),i=l.stateNode;try{var A=l.memoizedProps,X=A.id,$e=A.onPostCommit;typeof $e=="function"&&$e(X,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Xe){_i(l,l.return,Xe)}}else O0(i,l,c,m);break;case 31:O0(i,l,c,m);break;case 13:O0(i,l,c,m);break;case 23:break;case 22:A=l.stateNode,X=l.alternate,l.memoizedState!==null?A._visibility&2?O0(i,l,c,m):yu(i,l):A._visibility&2?O0(i,l,c,m):(A._visibility|=2,yc(i,l,c,m,(l.subtreeFlags&10256)!==0||!1)),S&2048&&Dd(X,l);break;case 24:O0(i,l,c,m),S&2048&&Bd(l.alternate,l);break;default:O0(i,l,c,m)}}function yc(i,l,c,m,S){for(S=S&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var A=i,X=l,$e=c,Xe=m,$t=X.flags;switch(X.tag){case 0:case 11:case 15:yc(A,X,$e,Xe,S),ql(8,X);break;case 23:break;case 22:var Vt=X.stateNode;X.memoizedState!==null?Vt._visibility&2?yc(A,X,$e,Xe,S):yu(A,X):(Vt._visibility|=2,yc(A,X,$e,Xe,S)),S&&$t&2048&&Dd(X.alternate,X);break;case 24:yc(A,X,$e,Xe,S),S&&$t&2048&&Bd(X.alternate,X);break;default:yc(A,X,$e,Xe,S)}l=l.sibling}}function yu(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=i,m=l,S=m.flags;switch(m.tag){case 22:yu(c,m),S&2048&&Dd(m.alternate,m);break;case 24:yu(c,m),S&2048&&Bd(m.alternate,m);break;default:yu(c,m)}l=l.sibling}}var _c=8192;function Wa(i,l,c){if(i.subtreeFlags&_c)for(i=i.child;i!==null;)Fd(i,l,c),i=i.sibling}function Fd(i,l,c){switch(i.tag){case 26:Wa(i,l,c),i.flags&_c&&i.memoizedState!==null&&F3(c,Yo,i.memoizedState,i.memoizedProps);break;case 5:Wa(i,l,c);break;case 3:case 4:var m=Yo;Yo=Ja(i.stateNode.containerInfo),Wa(i,l,c),Yo=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=_c,_c=16777216,Wa(i,l,c),_c=m):Wa(i,l,c));break;default:Wa(i,l,c)}}function I3(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function wh(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var m=l[c];ao=m,E1(m,i)}I3(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)vl(i),i=i.sibling}function vl(i){switch(i.tag){case 0:case 11:case 15:wh(i),i.flags&2048&&ki(9,i,i.return);break;case 3:wh(i);break;case 12:wh(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,_s(i)):wh(i);break;default:wh(i)}}function _s(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var m=l[c];ao=m,E1(m,i)}I3(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:ki(8,l,l.return),_s(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,_s(l));break;default:_s(l)}i=i.sibling}}function E1(i,l){for(;ao!==null;){var c=ao;switch(c.tag){case 0:case 11:case 15:ki(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:C0(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,ao=m;else e:for(c=i;ao!==null;){m=ao;var S=m.sibling,A=m.return;if(_1(m),m===c){ao=null;break e}if(S!==null){S.return=A,ao=S;break e}ao=A}}}var Ud={getCacheForType:function(i){var l=eo(as),c=l.data.get(i);return c===void 0&&(c=i(),l.data.set(i,c)),c},cacheSignal:function(){return eo(as).controller.signal}},u2=typeof WeakMap=="function"?WeakMap:Map,Ii=0,Bi=null,Vr=null,$r=0,Ji=0,Jo=null,da=!1,_u=!1,Eu=!1,R0=0,Ps=0,L0=0,qa=0,zd=0,Fo=0,Ec=0,w1=null,co=null,Hd=!1,Sh=0,c2=0,xh=1/0,Ch=null,Xa=null,ho=0,ja=null,Tl=null,fa=0,Vd=0,kh=null,Gd=null,S1=0,Ns=null;function Io(){return(Ii&2)!==0&&$r!==0?$r&-$r:st.T!==null?wl():x()}function h2(){if(Fo===0)if(($r&536870912)===0||qr){var i=ve;ve<<=1,(ve&3932160)===0&&(ve=262144),Fo=i}else Fo=536870912;return i=il.current,i!==null&&(i.flags|=32),Fo}function Ao(i,l,c){(i===Bi&&(Ji===2||Ji===9)||i.cancelPendingCommit!==null)&&(Es(i,0),yl(i,$r,Fo,!1)),hr(i,c),((Ii&2)===0||i!==Bi)&&(i===Bi&&((Ii&2)===0&&(qa|=c),Ps===4&&yl(i,$r,Fo,!1)),D0(i))}function d2(i,l,c){if((Ii&6)!==0)throw Error(a(327));var m=!c&&(l&127)===0&&(l&i.expiredLanes)===0||Fe(i,l),S=m?qd(i,l):Wd(i,l,!0),A=m;do{if(S===0){_u&&!m&&yl(i,l,0,!1);break}else{if(c=i.current.alternate,A&&!A3(c)){S=Wd(i,l,!1),A=!1;continue}if(S===2){if(A=l,i.errorRecoveryDisabledLanes&A)var X=0;else X=i.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){l=X;e:{var $e=i;S=w1;var Xe=$e.current.memoizedState.isDehydrated;if(Xe&&(Es($e,X).flags|=256),X=Wd($e,X,!1),X!==2){if(Eu&&!Xe){$e.errorRecoveryDisabledLanes|=A,qa|=A,S=4;break e}A=co,co=S,A!==null&&(co===null?co=A:co.push.apply(co,A))}S=X}if(A=!1,S!==2)continue}}if(S===1){Es(i,0),yl(i,l,0,!0);break}e:{switch(m=i,A=S,A){case 0:case 1:throw Error(a(345));case 4:if((l&4194048)!==l)break;case 6:yl(m,l,Fo,!da);break e;case 2:co=null;break;case 3:case 5:break;default:throw Error(a(329))}if((l&62914560)===l&&(S=Sh+300-Xn(),10<S)){if(yl(m,l,Fo,!da),Ee(m,0,!0)!==0)break e;fa=l,m.timeoutHandle=E2(f2.bind(null,m,c,co,Ch,Hd,l,Fo,qa,Ec,da,A,"Throttled",-0,0),S);break e}f2(m,c,co,Ch,Hd,l,Fo,qa,Ec,da,A,null,-0,0)}}break}while(!0);D0(i)}function f2(i,l,c,m,S,A,X,$e,Xe,$t,Vt,Kt,kt,Rt){if(i.timeoutHandle=-1,Kt=l.subtreeFlags,Kt&8192||(Kt&16785408)===16785408){Kt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},Fd(l,A,Kt);var Nn=(A&62914560)===A?Sh-Xn():(A&4194048)===A?c2-Xn():0;if(Nn=P1(Kt,Nn),Nn!==null){fa=A,i.cancelPendingCommit=Nn(Cu.bind(null,i,l,A,c,m,S,X,$e,Xe,Vt,Kt,null,kt,Rt)),yl(i,A,X,!$t);return}}Cu(i,l,A,c,m,S,X,$e,Xe)}function A3(i){for(var l=i;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var S=c[m],A=S.getSnapshot;S=S.value;try{if(!nn(A(),S))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function yl(i,l,c,m){l&=~zd,l&=~qa,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var S=l;0<S;){var A=31-Pe(S),X=1<<A;m[A]=-1,S&=~X}c!==0&&ts(i,c,l)}function Ih(){return(Ii&6)===0?(I1(0),!1):!0}function wc(){if(Vr!==null){if(Ji===0)var i=Vr.return;else i=Vr,Vl=J0=null,mc(i),wt=null,Zt=0,i=Vr;for(;i!==null;)o2(i.alternate,i),i=i.return;Vr=null}}function Es(i,l){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,i4(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),fa=0,wc(),Bi=i,Vr=c=Ul(i.current,null),$r=l,Ji=0,Jo=null,da=!1,_u=Fe(i,l),Eu=!1,Ec=Fo=zd=qa=L0=Ps=0,co=w1=null,Hd=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var S=31-Pe(m),A=1<<S;l|=i[S],m&=~A}return R0=l,i0(),c}function wu(i,l){Ir=null,st.H=bc,l===b||l===D?(l=ot(),Ji=3):l===k?(l=ot(),Ji=4):Ji=l===K4?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Jo=l,Vr===null&&(Ps=1,$h(i,Qo(l,i.current)))}function Su(){var i=il.current;return i===null?!0:($r&4194048)===$r?ml===null:($r&62914560)===$r||($r&536870912)!==0?i===ml:!1}function Ah(){var i=st.H;return st.H=bc,i===null?bc:i}function Nh(){var i=st.A;return st.A=Ud,i}function Mh(){Ps=4,da||($r&4194048)!==$r&&il.current!==null||(_u=!0),(L0&134217727)===0&&(qa&134217727)===0||Bi===null||yl(Bi,$r,Fo,!1)}function Wd(i,l,c){var m=Ii;Ii|=2;var S=Ah(),A=Nh();(Bi!==i||$r!==l)&&(Ch=null,Es(i,l)),l=!1;var X=Ps;e:do try{if(Ji!==0&&Vr!==null){var $e=Vr,Xe=Jo;switch(Ji){case 8:wc(),X=6;break e;case 3:case 2:case 9:case 6:il.current===null&&(l=!0);var $t=Ji;if(Ji=0,Jo=null,Sc(i,$e,Xe,$t),c&&_u){X=0;break e}break;default:$t=Ji,Ji=0,Jo=null,Sc(i,$e,Xe,$t)}}p2(),X=Ps;break}catch(Vt){wu(i,Vt)}while(!0);return l&&i.shellSuspendCounter++,Vl=J0=null,Ii=m,st.H=S,st.A=A,Vr===null&&(Bi=null,$r=0,i0()),X}function p2(){for(;Vr!==null;)xu(Vr)}function qd(i,l){var c=Ii;Ii|=2;var m=Ah(),S=Nh();Bi!==i||$r!==l?(Ch=null,xh=Xn()+500,Es(i,l)):_u=Fe(i,l);e:do try{if(Ji!==0&&Vr!==null){l=Vr;var A=Jo;t:switch(Ji){case 1:Ji=0,Jo=null,Sc(i,l,A,1);break;case 2:case 9:if(Q(A)){Ji=0,Jo=null,g2(l);break}l=function(){Ji!==2&&Ji!==9||Bi!==i||(Ji=7),D0(i)},A.then(l,l);break e;case 3:Ji=7;break e;case 4:Ji=5;break e;case 7:Q(A)?(Ji=0,Jo=null,g2(l)):(Ji=0,Jo=null,Sc(i,l,A,7));break;case 5:var X=null;switch(Vr.tag){case 26:X=Vr.memoizedState;case 5:case 27:var $e=Vr;if(X?Qi(X):$e.stateNode.complete){Ji=0,Jo=null;var Xe=$e.sibling;if(Xe!==null)Vr=Xe;else{var $t=$e.return;$t!==null?(Vr=$t,fs($t)):Vr=null}break t}}Ji=0,Jo=null,Sc(i,l,A,5);break;case 6:Ji=0,Jo=null,Sc(i,l,A,6);break;case 8:wc(),Ps=6;break e;default:throw Error(a(462))}}m2();break}catch(Vt){wu(i,Vt)}while(!0);return Vl=J0=null,st.H=m,st.A=S,Ii=c,Vr!==null?0:(Bi=null,$r=0,i0(),Ps)}function m2(){for(;Vr!==null&&!li();)xu(Vr)}function xu(i){var l=n2(i.alternate,i,R0);i.memoizedProps=i.pendingProps,l===null?fs(i):Vr=l}function g2(i){var l=i,c=l.alternate;switch(l.tag){case 15:case 0:l=sa(c,l,l.pendingProps,l.type,void 0,$r);break;case 11:l=sa(c,l,l.pendingProps,l.type.render,l.ref,$r);break;case 5:mc(l);default:o2(c,l),l=Vr=nd(l,R0),l=n2(c,l,R0)}i.memoizedProps=i.pendingProps,l===null?fs(i):Vr=l}function Sc(i,l,c,m){Vl=J0=null,mc(l),wt=null,Zt=0;var S=l.return;try{if(x3(i,S,l,c,$r)){Ps=1,$h(i,Qo(c,i.current)),Vr=null;return}}catch(A){if(S!==null)throw Vr=S,A;Ps=1,$h(i,Qo(c,i.current)),Vr=null;return}l.flags&32768?(qr||m===1?i=!0:_u||($r&536870912)!==0?i=!1:(da=i=!0,(m===2||m===9||m===3||m===6)&&(m=il.current,m!==null&&m.tag===13&&(m.flags|=16384))),x1(l,i)):fs(l)}function fs(i){var l=i;do{if((l.flags&32768)!==0){x1(l,da);return}i=l.return;var c=i2(l.alternate,l,R0);if(c!==null){Vr=c;return}if(l=l.sibling,l!==null){Vr=l;return}Vr=l=i}while(l!==null);Ps===0&&(Ps=5)}function x1(i,l){do{var c=s2(i.alternate,i);if(c!==null){c.flags&=32767,Vr=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(i=i.sibling,i!==null)){Vr=i;return}Vr=i=c}while(i!==null);Ps=6,Vr=null}function Cu(i,l,c,m,S,A,X,$e,Xe){i.cancelPendingCommit=null;do xc();while(ho!==0);if((Ii&6)!==0)throw Error(a(327));if(l!==null){if(l===i.current)throw Error(a(177));if(A=l.lanes|l.childLanes,A|=bo,xs(i,c,A,X,$e,Xe),i===Bi&&(Vr=Bi=null,$r=0),Tl=l,ja=i,fa=c,Vd=A,kh=S,Gd=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,kc(Be,function(){return jd(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=st.T,st.T=null,S=St.p,St.p=2,X=Ii,Ii|=4;try{Rd(i,l,c)}finally{Ii=X,St.p=S,st.T=m}}ho=1,Xd(),Ya(),$2()}}function Xd(){if(ho===1){ho=0;var i=ja,l=Tl,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=st.T,st.T=null;var m=St.p;St.p=2;var S=Ii;Ii|=4;try{Ga(l,i);var A=O1,X=hi(i.containerInfo),$e=A.focusedElem,Xe=A.selectionRange;if(X!==$e&&$e&&$e.ownerDocument&&Kr($e.ownerDocument.documentElement,$e)){if(Xe!==null&&Qr($e)){var $t=Xe.start,Vt=Xe.end;if(Vt===void 0&&(Vt=$t),"selectionStart"in $e)$e.selectionStart=$t,$e.selectionEnd=Math.min(Vt,$e.value.length);else{var Kt=$e.ownerDocument||document,kt=Kt&&Kt.defaultView||window;if(kt.getSelection){var Rt=kt.getSelection(),Nn=$e.textContent.length,lr=Math.min(Xe.start,Nn),Ai=Xe.end===void 0?lr:Math.min(Xe.end,Nn);!Rt.extend&&lr>Ai&&(X=Ai,Ai=lr,lr=X);var ut=ur($e,lr),et=ur($e,Ai);if(ut&&et&&(Rt.rangeCount!==1||Rt.anchorNode!==ut.node||Rt.anchorOffset!==ut.offset||Rt.focusNode!==et.node||Rt.focusOffset!==et.offset)){var gt=Kt.createRange();gt.setStart(ut.node,ut.offset),Rt.removeAllRanges(),lr>Ai?(Rt.addRange(gt),Rt.extend(et.node,et.offset)):(gt.setEnd(et.node,et.offset),Rt.addRange(gt))}}}}for(Kt=[],Rt=$e;Rt=Rt.parentNode;)Rt.nodeType===1&&Kt.push({element:Rt,left:Rt.scrollLeft,top:Rt.scrollTop});for(typeof $e.focus=="function"&&$e.focus(),$e=0;$e<Kt.length;$e++){var Gt=Kt[$e];Gt.element.scrollLeft=Gt.left,Gt.element.scrollTop=Gt.top}}z1=!!Ac,O1=Ac=null}finally{Ii=S,St.p=m,st.T=c}}i.current=l,ho=2}}function Ya(){if(ho===2){ho=0;var i=ja,l=Tl,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=st.T,st.T=null;var m=St.p;St.p=2;var S=Ii;Ii|=4;try{y1(i,l.alternate,l)}finally{Ii=S,St.p=m,st.T=c}}ho=3}}function $2(){if(ho===4||ho===3){ho=0,rr();var i=ja,l=Tl,c=fa,m=Gd;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ho=5:(ho=0,Tl=ja=null,Oh(i,i.pendingLanes));var S=i.pendingLanes;if(S===0&&(Xa=null),en(c),l=l.stateNode,ae&&typeof ae.onCommitFiberRoot=="function")try{ae.onCommitFiberRoot(L,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=st.T,S=St.p,St.p=2,st.T=null;try{for(var A=i.onRecoverableError,X=0;X<m.length;X++){var $e=m[X];A($e.value,{componentStack:$e.stack})}}finally{st.T=l,St.p=S}}(fa&3)!==0&&xc(),D0(i),S=i.pendingLanes,(c&261930)!==0&&(S&42)!==0?i===Ns?S1++:(S1=0,Ns=i):S1=0,I1(0)}}function Oh(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,C0(l)))}function xc(){return Xd(),Ya(),$2(),jd()}function jd(){if(ho!==5)return!1;var i=ja,l=Vd;Vd=0;var c=en(fa),m=st.T,S=St.p;try{St.p=32>c?32:c,st.T=null,c=kh,kh=null;var A=ja,X=fa;if(ho=0,Tl=ja=null,fa=0,(Ii&6)!==0)throw Error(a(331));var $e=Ii;if(Ii|=4,vl(A.current),Pd(A,A.current,X,c),Ii=$e,I1(0,!1),ae&&typeof ae.onPostCommitFiberRoot=="function")try{ae.onPostCommitFiberRoot(L,A)}catch{}return!0}finally{St.p=S,st.T=m,Oh(i,l)}}function Uo(i,l,c){l=Qo(c,l),l=g1(i.stateNode,l,2),i=bs(i,l,2),i!==null&&(hr(i,2),D0(i))}function _i(i,l,c){if(i.tag===3)Uo(i,i,c);else for(;l!==null;){if(l.tag===3){Uo(l,i,c);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Xa===null||!Xa.has(m))){i=Qo(c,i),c=Y4(2),m=bs(l,c,2),m!==null&&(Ad(c,m,l,i),hr(m,2),D0(m));break}}l=l.return}}function C1(i,l,c){var m=i.pingCache;if(m===null){m=i.pingCache=new u2;var S=new Set;m.set(l,S)}else S=m.get(l),S===void 0&&(S=new Set,m.set(l,S));S.has(c)||(Eu=!0,S.add(c),i=Rh.bind(null,i,l,c),l.then(i,i))}function Rh(i,l,c){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Bi===i&&($r&c)===c&&(Ps===4||Ps===3&&($r&62914560)===$r&&300>Xn()-Sh?(Ii&2)===0&&Es(i,0):zd|=c,Ec===$r&&(Ec=0)),D0(i)}function Cc(i,l){l===0&&(l=dn()),i=Zo(i,l),i!==null&&(hr(i,l),D0(i))}function N3(i){var l=i.memoizedState,c=0;l!==null&&(c=l.retryLane),Cc(i,c)}function M3(i,l){var c=0;switch(i.tag){case 31:case 13:var m=i.stateNode,S=i.memoizedState;S!==null&&(c=S.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(a(314))}m!==null&&m.delete(l),Cc(i,c)}function kc(i,l){return nr(i,l)}var k1=null,ku=null,_l=!1,Iu=!1,Lh=!1,pa=0;function D0(i){i!==ku&&i.next===null&&(ku===null?k1=ku=i:ku=ku.next=i),Iu=!0,_l||(_l=!0,O3())}function I1(i,l){if(!Lh&&Iu){Lh=!0;do for(var c=!1,m=k1;m!==null;){if(i!==0){var S=m.pendingLanes;if(S===0)var A=0;else{var X=m.suspendedLanes,$e=m.pingedLanes;A=(1<<31-Pe(42|i)+1)-1,A&=S&~(X&~$e),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(c=!0,Jd(m,A))}else A=$r,A=Ee(m,m===Bi?A:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(A&3)===0||Fe(m,A)||(c=!0,Jd(m,A));m=m.next}while(c);Lh=!1}}function Yd(){no()}function no(){Iu=_l=!1;var i=0;pa!==0&&_2()&&(i=pa);for(var l=Xn(),c=null,m=k1;m!==null;){var S=m.next,A=El(m,l);A===0?(m.next=null,c===null?k1=S:c.next=S,S===null&&(ku=c)):(c=m,(i!==0||(A&3)!==0)&&(Iu=!0)),m=S}ho!==0&&ho!==5||I1(i),pa!==0&&(pa=0)}function El(i,l){for(var c=i.suspendedLanes,m=i.pingedLanes,S=i.expirationTimes,A=i.pendingLanes&-62914561;0<A;){var X=31-Pe(A),$e=1<<X,Xe=S[X];Xe===-1?(($e&c)===0||($e&m)!==0)&&(S[X]=Mt($e,l)):Xe<=l&&(i.expiredLanes|=$e),A&=~$e}if(l=Bi,c=$r,c=Ee(i,i===l?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,c===0||i===l&&(Ji===2||Ji===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&es(m),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Fe(i,c)){if(l=c&-c,l===i.callbackPriority)return l;switch(m!==null&&es(m),en(c)){case 2:case 8:c=Ie;break;case 32:c=Be;break;case 268435456:c=Ye;break;default:c=Be}return m=Kd.bind(null,i),c=nr(c,m),i.callbackPriority=l,i.callbackNode=c,l}return m!==null&&m!==null&&es(m),i.callbackPriority=2,i.callbackNode=null,2}function Kd(i,l){if(ho!==0&&ho!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(xc()&&i.callbackNode!==c)return null;var m=$r;return m=Ee(i,i===Bi?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(d2(i,m,l),El(i,Xn()),i.callbackNode!=null&&i.callbackNode===c?Kd.bind(null,i):null)}function Jd(i,l){if(xc())return null;d2(i,l,!0)}function O3(){Nc(function(){(Ii&6)!==0?nr(ne,Yd):no()})}function wl(){if(pa===0){var i=Ba;i===0&&(i=Y,Y<<=1,(Y&261888)===0&&(Y=256)),pa=i}return pa}function A1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:jt(""+i)}function Pi(i,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,i.id&&c.setAttribute("form",i.id),l.parentNode.insertBefore(c,l),i=new FormData(i),c.parentNode.removeChild(c),i}function Xs(i,l,c,m,S){if(l==="submit"&&c&&c.stateNode===S){var A=A1((S[ke]||null).action),X=m.submitter;X&&(l=(l=X[ke]||null)?A1(l.formAction):X.getAttribute("formAction"),l!==null&&(A=l,X=null));var $e=new po("action","action",null,m,S);i.push({event:$e,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(pa!==0){var Xe=X?Pi(S,X):new FormData(S);_t(c,{pending:!0,data:Xe,method:S.method,action:A},null,Xe)}}else typeof A=="function"&&($e.preventDefault(),Xe=X?Pi(S,X):new FormData(S),_t(c,{pending:!0,data:Xe,method:S.method,action:A},A,Xe))},currentTarget:S}]})}}for(var Au=0;Au<Zs.length;Au++){var Zd=Zs[Au],Qd=Zd.toLowerCase(),b2=Zd[0].toUpperCase()+Zd.slice(1);cs(Qd,"on"+b2)}cs(Nr,"onAnimationEnd"),cs(us,"onAnimationIteration"),cs(pe,"onAnimationStart"),cs("dblclick","onDoubleClick"),cs("focusin","onFocus"),cs("focusout","onBlur"),cs(Ci,"onTransitionRun"),cs(is,"onTransitionStart"),cs(dl,"onTransitionCancel"),cs(so,"onTransitionEnd"),$n("onMouseEnter",["mouseout","mouseover"]),$n("onMouseLeave",["mouseout","mouseover"]),$n("onPointerEnter",["pointerout","pointerover"]),$n("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ma));function Sl(i,l){l=(l&4)!==0;for(var c=0;c<i.length;c++){var m=i[c],S=m.event;m=m.listeners;e:{var A=void 0;if(l)for(var X=m.length-1;0<=X;X--){var $e=m[X],Xe=$e.instance,$t=$e.currentTarget;if($e=$e.listener,Xe!==A&&S.isPropagationStopped())break e;A=$e,S.currentTarget=$t;try{A(S)}catch(Vt){cr(Vt)}S.currentTarget=null,A=Xe}else for(X=0;X<m.length;X++){if($e=m[X],Xe=$e.instance,$t=$e.currentTarget,$e=$e.listener,Xe!==A&&S.isPropagationStopped())break e;A=$e,S.currentTarget=$t;try{A(S)}catch(Vt){cr(Vt)}S.currentTarget=null,A=Xe}}}}function Gr(i,l){var c=l[Ce];c===void 0&&(c=l[Ce]=new Set);var m=i+"__bubble";c.has(m)||(Dh(l,i,2,!1),c.add(m))}function Xl(i,l,c){var m=0;l&&(m|=4),Dh(c,i,m,l)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function e4(i){if(!i[Ic]){i[Ic]=!0,Pn.forEach(function(c){c!=="selectionchange"&&(N1.has(c)||Xl(c,!1,i),Xl(c,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Ic]||(l[Ic]=!0,Xl("selectionchange",!1,l))}}function Dh(i,l,c,m){switch(B2(l)){case 2:var S=L2;break;case 8:S=V3;break;default:S=u4}c=S.bind(null,l,c,i),S=void 0,!Js||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),m?S!==void 0?i.addEventListener(l,c,{capture:!0,passive:S}):i.addEventListener(l,c,!0):S!==void 0?i.addEventListener(l,c,{passive:S}):i.addEventListener(l,c,!1)}function Ka(i,l,c,m,S){var A=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var X=m.tag;if(X===3||X===4){var $e=m.stateNode.containerInfo;if($e===S)break;if(X===4)for(X=m.return;X!==null;){var Xe=X.tag;if((Xe===3||Xe===4)&&X.stateNode.containerInfo===S)return;X=X.return}for(;$e!==null;){if(X=Ae($e),X===null)return;if(Xe=X.tag,Xe===5||Xe===6||Xe===26||Xe===27){m=A=X;continue e}$e=$e.parentNode}}m=m.return}Ur(function(){var $t=A,Vt=yn(c),Kt=[];e:{var kt=$o.get(i);if(kt!==void 0){var Rt=po,Nn=i;switch(i){case"keypress":if(rs(c)===0)break e;case"keydown":case"keyup":Rt=br;break;case"focusin":Nn="focus",Rt=Yr;break;case"focusout":Nn="blur",Rt=Yr;break;case"beforeblur":case"afterblur":Rt=Yr;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rt=n0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rt=zs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rt=Qu;break;case Nr:case us:case pe:Rt=Wo;break;case so:Rt=b0;break;case"scroll":case"scrollend":Rt=Us;break;case"wheel":Rt=v0;break;case"copy":case"cut":case"paste":Rt=Rl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rt=W0;break;case"toggle":case"beforetoggle":Rt=q0}var lr=(l&4)!==0,Ai=!lr&&(i==="scroll"||i==="scrollend"),ut=lr?kt!==null?kt+"Capture":null:kt;lr=[];for(var et=$t,gt;et!==null;){var Gt=et;if(gt=Gt.stateNode,Gt=Gt.tag,Gt!==5&&Gt!==26&&Gt!==27||gt===null||ut===null||(Gt=ar(et,ut),Gt!=null&&lr.push(Cr(et,Gt,gt))),Ai)break;et=et.return}0<lr.length&&(kt=new Rt(kt,Nn,null,c,Vt),Kt.push({event:kt,listeners:lr}))}}if((l&7)===0){e:{if(kt=i==="mouseover"||i==="pointerover",Rt=i==="mouseout"||i==="pointerout",kt&&c!==An&&(Nn=c.relatedTarget||c.fromElement)&&(Ae(Nn)||Nn[ee]))break e;if((Rt||kt)&&(kt=Vt.window===Vt?Vt:(kt=Vt.ownerDocument)?kt.defaultView||kt.parentWindow:window,Rt?(Nn=c.relatedTarget||c.toElement,Rt=$t,Nn=Nn?Ae(Nn):null,Nn!==null&&(Ai=p(Nn),lr=Nn.tag,Nn!==Ai||lr!==5&&lr!==27&&lr!==6)&&(Nn=null)):(Rt=null,Nn=$t),Rt!==Nn)){if(lr=n0,Gt="onMouseLeave",ut="onMouseEnter",et="mouse",(i==="pointerout"||i==="pointerover")&&(lr=W0,Gt="onPointerLeave",ut="onPointerEnter",et="pointer"),Ai=Rt==null?kt:On(Rt),gt=Nn==null?kt:On(Nn),kt=new lr(Gt,et+"leave",Rt,c,Vt),kt.target=Ai,kt.relatedTarget=gt,Gt=null,Ae(Vt)===$t&&(lr=new lr(ut,et+"enter",Nn,c,Vt),lr.target=gt,lr.relatedTarget=Ai,Gt=lr),Ai=Gt,Rt&&Nn)t:{for(lr=Nu,ut=Rt,et=Nn,gt=0,Gt=ut;Gt;Gt=lr(Gt))gt++;Gt=0;for(var Jn=et;Jn;Jn=lr(Jn))Gt++;for(;0<gt-Gt;)ut=lr(ut),gt--;for(;0<Gt-gt;)et=lr(et),Gt--;for(;gt--;){if(ut===et||et!==null&&ut===et.alternate){lr=ut;break t}ut=lr(ut),et=lr(et)}lr=null}else lr=null;Rt!==null&&Bh(Kt,kt,Rt,lr,!1),Nn!==null&&Ai!==null&&Bh(Kt,Ai,Nn,lr,!0)}}e:{if(kt=$t?On($t):window,Rt=kt.nodeName&&kt.nodeName.toLowerCase(),Rt==="select"||Rt==="input"&&kt.type==="file")var mi=ht;else if(T(kt))if(Ct)mi=Er;else{mi=Yn;var zn=Fn}else Rt=kt.nodeName,!Rt||Rt.toLowerCase()!=="input"||kt.type!=="checkbox"&&kt.type!=="radio"?$t&&At($t.elementType)&&(mi=ht):mi=ir;if(mi&&(mi=mi(i,$t))){N(Kt,mi,c,Vt);break e}zn&&zn(i,kt,$t),i==="focusout"&&$t&&kt.type==="number"&&$t.memoizedProps.value!=null&&C(kt,"number",kt.value)}switch(zn=$t?On($t):window,i){case"focusin":(T(zn)||zn.contentEditable==="true")&&(ei=zn,Si=$t,Hr=null);break;case"focusout":Hr=Si=ei=null;break;case"mousedown":Vi=!0;break;case"contextmenu":case"mouseup":case"dragend":Vi=!1,gs(Kt,c,Vt);break;case"selectionchange":if(si)break;case"keydown":case"keyup":gs(Kt,c,Vt)}var Cn;if(T0)e:{switch(i){case"compositionstart":var ti="onCompositionStart";break e;case"compositionend":ti="onCompositionEnd";break e;case"compositionupdate":ti="onCompositionUpdate";break e}ti=void 0}else Bl?Aa(i,c)&&(ti="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(ti="onCompositionStart");ti&&(nc&&c.locale!=="ko"&&(Bl||ti!=="onCompositionStart"?ti==="onCompositionEnd"&&Bl&&(Cn=Hi()):(Gn=Vt,ci="value"in Gn?Gn.value:Gn.textContent,Bl=!0)),zn=M1($t,ti),0<zn.length&&(ti=new ou(ti,i,null,c,Vt),Kt.push({event:ti,listeners:zn}),Cn?ti.data=Cn:(Cn=X0(c),Cn!==null&&(ti.data=Cn)))),(Cn=tc?Na(i,c):uu(i,c))&&(ti=M1($t,"onBeforeInput"),0<ti.length&&(zn=new ou("onBeforeInput","beforeinput",null,c,Vt),Kt.push({event:zn,listeners:ti}),zn.data=Cn)),Xs(Kt,i,$t,c,Vt)}Sl(Kt,l)})}function Cr(i,l,c){return{instance:i,listener:l,currentTarget:c}}function M1(i,l){for(var c=l+"Capture",m=[];i!==null;){var S=i,A=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||A===null||(S=ar(i,c),S!=null&&m.unshift(Cr(i,S,A)),S=ar(i,l),S!=null&&m.push(Cr(i,S,A))),i.tag===3)return m;i=i.return}return[]}function Nu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Bh(i,l,c,m,S){for(var A=l._reactName,X=[];c!==null&&c!==m;){var $e=c,Xe=$e.alternate,$t=$e.stateNode;if($e=$e.tag,Xe!==null&&Xe===m)break;$e!==5&&$e!==26&&$e!==27||$t===null||(Xe=$t,S?($t=ar(c,A),$t!=null&&X.unshift(Cr(c,$t,Xe))):S||($t=ar(c,A),$t!=null&&X.push(Cr(c,$t,Xe)))),c=c.return}X.length!==0&&i.push({event:l,listeners:X})}var Y5=/\r\n?/g,R3=/\u0000|\uFFFD/g;function v2(i){return(typeof i=="string"?i:""+i).replace(Y5,`
`).replace(R3,"")}function Ph(i,l){return l=v2(l),v2(i)===l}function Zi(i,l,c,m,S,A){switch(c){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||fe(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&fe(i,""+m);break;case"className":me(i,"class",m);break;case"tabIndex":me(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":me(i,c,m);break;case"style":pt(i,m,A);break;case"data":if(l!=="object"){me(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||c!=="href")){i.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(c);break}m=jt(""+m),i.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(c==="formAction"?(l!=="input"&&Zi(i,l,"name",S.name,S,null),Zi(i,l,"formEncType",S.formEncType,S,null),Zi(i,l,"formMethod",S.formMethod,S,null),Zi(i,l,"formTarget",S.formTarget,S,null)):(Zi(i,l,"encType",S.encType,S,null),Zi(i,l,"method",S.method,S,null),Zi(i,l,"target",S.target,S,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(c);break}m=jt(""+m),i.setAttribute(c,m);break;case"onClick":m!=null&&(i.onclick=on);break;case"onScroll":m!=null&&Gr("scroll",i);break;case"onScrollEnd":m!=null&&Gr("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(c=m.__html,c!=null){if(S.children!=null)throw Error(a(60));i.innerHTML=c}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}c=jt(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(c,""+m):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":m===!0?i.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(c,m):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(c,m):i.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(c):i.setAttribute(c,m);break;case"popover":Gr("beforetoggle",i),Gr("toggle",i),tn(i,"popover",m);break;case"xlinkActuate":Ni(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ni(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ni(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ni(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ni(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ni(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ni(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ni(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ni(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":tn(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Tt.get(c)||c,tn(i,c,m))}}function t4(i,l,c,m,S,A){switch(c){case"style":pt(i,m,A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(c=m.__html,c!=null){if(S.children!=null)throw Error(a(60));i.innerHTML=c}}break;case"children":typeof m=="string"?fe(i,m):(typeof m=="number"||typeof m=="bigint")&&fe(i,""+m);break;case"onScroll":m!=null&&Gr("scroll",i);break;case"onScrollEnd":m!=null&&Gr("scrollend",i);break;case"onClick":m!=null&&(i.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ns.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(S=c.endsWith("Capture"),l=c.slice(2,S?c.length-7:void 0),A=i[ke]||null,A=A!=null?A[c]:null,typeof A=="function"&&i.removeEventListener(l,A,S),typeof m=="function")){typeof A!="function"&&A!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(l,m,S);break e}c in i?i[c]=m:m===!0?i.setAttribute(c,""):tn(i,c,m)}}}function yo(i,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gr("error",i),Gr("load",i);var m=!1,S=!1,A;for(A in c)if(c.hasOwnProperty(A)){var X=c[A];if(X!=null)switch(A){case"src":m=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:Zi(i,l,A,X,c,null)}}S&&Zi(i,l,"srcSet",c.srcSet,c,null),m&&Zi(i,l,"src",c.src,c,null);return;case"input":Gr("invalid",i);var $e=A=X=S=null,Xe=null,$t=null;for(m in c)if(c.hasOwnProperty(m)){var Vt=c[m];if(Vt!=null)switch(m){case"name":S=Vt;break;case"type":X=Vt;break;case"checked":Xe=Vt;break;case"defaultChecked":$t=Vt;break;case"value":A=Vt;break;case"defaultValue":$e=Vt;break;case"children":case"dangerouslySetInnerHTML":if(Vt!=null)throw Error(a(137,l));break;default:Zi(i,l,m,Vt,c,null)}}d(i,A,$e,Xe,$t,X,S,!1);return;case"select":Gr("invalid",i),m=X=A=null;for(S in c)if(c.hasOwnProperty(S)&&($e=c[S],$e!=null))switch(S){case"value":A=$e;break;case"defaultValue":X=$e;break;case"multiple":m=$e;default:Zi(i,l,S,$e,c,null)}l=A,c=X,i.multiple=!!m,l!=null?P(i,!!m,l,!1):c!=null&&P(i,!!m,c,!0);return;case"textarea":Gr("invalid",i),A=S=m=null;for(X in c)if(c.hasOwnProperty(X)&&($e=c[X],$e!=null))switch(X){case"value":m=$e;break;case"defaultValue":S=$e;break;case"children":A=$e;break;case"dangerouslySetInnerHTML":if($e!=null)throw Error(a(91));break;default:Zi(i,l,X,$e,c,null)}oe(i,m,S,A);return;case"option":for(Xe in c)if(c.hasOwnProperty(Xe)&&(m=c[Xe],m!=null))switch(Xe){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Zi(i,l,Xe,m,c,null)}return;case"dialog":Gr("beforetoggle",i),Gr("toggle",i),Gr("cancel",i),Gr("close",i);break;case"iframe":case"object":Gr("load",i);break;case"video":case"audio":for(m=0;m<ma.length;m++)Gr(ma[m],i);break;case"image":Gr("error",i),Gr("load",i);break;case"details":Gr("toggle",i);break;case"embed":case"source":case"link":Gr("error",i),Gr("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($t in c)if(c.hasOwnProperty($t)&&(m=c[$t],m!=null))switch($t){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:Zi(i,l,$t,m,c,null)}return;default:if(At(l)){for(Vt in c)c.hasOwnProperty(Vt)&&(m=c[Vt],m!==void 0&&t4(i,l,Vt,m,c,void 0));return}}for($e in c)c.hasOwnProperty($e)&&(m=c[$e],m!=null&&Zi(i,l,$e,m,c,null))}function n4(i,l,c,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,A=null,X=null,$e=null,Xe=null,$t=null,Vt=null;for(Rt in c){var Kt=c[Rt];if(c.hasOwnProperty(Rt)&&Kt!=null)switch(Rt){case"checked":break;case"value":break;case"defaultValue":Xe=Kt;default:m.hasOwnProperty(Rt)||Zi(i,l,Rt,null,m,Kt)}}for(var kt in m){var Rt=m[kt];if(Kt=c[kt],m.hasOwnProperty(kt)&&(Rt!=null||Kt!=null))switch(kt){case"type":A=Rt;break;case"name":S=Rt;break;case"checked":$t=Rt;break;case"defaultChecked":Vt=Rt;break;case"value":X=Rt;break;case"defaultValue":$e=Rt;break;case"children":case"dangerouslySetInnerHTML":if(Rt!=null)throw Error(a(137,l));break;default:Rt!==Kt&&Zi(i,l,kt,Rt,m,Kt)}}Qn(i,X,$e,Xe,$t,Vt,A,S);return;case"select":Rt=X=$e=kt=null;for(A in c)if(Xe=c[A],c.hasOwnProperty(A)&&Xe!=null)switch(A){case"value":break;case"multiple":Rt=Xe;default:m.hasOwnProperty(A)||Zi(i,l,A,null,m,Xe)}for(S in m)if(A=m[S],Xe=c[S],m.hasOwnProperty(S)&&(A!=null||Xe!=null))switch(S){case"value":kt=A;break;case"defaultValue":$e=A;break;case"multiple":X=A;default:A!==Xe&&Zi(i,l,S,A,m,Xe)}l=$e,c=X,m=Rt,kt!=null?P(i,!!c,kt,!1):!!m!=!!c&&(l!=null?P(i,!!c,l,!0):P(i,!!c,c?[]:"",!1));return;case"textarea":Rt=kt=null;for($e in c)if(S=c[$e],c.hasOwnProperty($e)&&S!=null&&!m.hasOwnProperty($e))switch($e){case"value":break;case"children":break;default:Zi(i,l,$e,null,m,S)}for(X in m)if(S=m[X],A=c[X],m.hasOwnProperty(X)&&(S!=null||A!=null))switch(X){case"value":kt=S;break;case"defaultValue":Rt=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:S!==A&&Zi(i,l,X,S,m,A)}V(i,kt,Rt);return;case"option":for(var Nn in c)if(kt=c[Nn],c.hasOwnProperty(Nn)&&kt!=null&&!m.hasOwnProperty(Nn))switch(Nn){case"selected":i.selected=!1;break;default:Zi(i,l,Nn,null,m,kt)}for(Xe in m)if(kt=m[Xe],Rt=c[Xe],m.hasOwnProperty(Xe)&&kt!==Rt&&(kt!=null||Rt!=null))switch(Xe){case"selected":i.selected=kt&&typeof kt!="function"&&typeof kt!="symbol";break;default:Zi(i,l,Xe,kt,m,Rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lr in c)kt=c[lr],c.hasOwnProperty(lr)&&kt!=null&&!m.hasOwnProperty(lr)&&Zi(i,l,lr,null,m,kt);for($t in m)if(kt=m[$t],Rt=c[$t],m.hasOwnProperty($t)&&kt!==Rt&&(kt!=null||Rt!=null))switch($t){case"children":case"dangerouslySetInnerHTML":if(kt!=null)throw Error(a(137,l));break;default:Zi(i,l,$t,kt,m,Rt)}return;default:if(At(l)){for(var Ai in c)kt=c[Ai],c.hasOwnProperty(Ai)&&kt!==void 0&&!m.hasOwnProperty(Ai)&&t4(i,l,Ai,void 0,m,kt);for(Vt in m)kt=m[Vt],Rt=c[Vt],!m.hasOwnProperty(Vt)||kt===Rt||kt===void 0&&Rt===void 0||t4(i,l,Vt,kt,m,Rt);return}}for(var ut in c)kt=c[ut],c.hasOwnProperty(ut)&&kt!=null&&!m.hasOwnProperty(ut)&&Zi(i,l,ut,null,m,kt);for(Kt in m)kt=m[Kt],Rt=c[Kt],!m.hasOwnProperty(Kt)||kt===Rt||kt==null&&Rt==null||Zi(i,l,Kt,kt,m,Rt)}function T2(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L3(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var S=c[m],A=S.transferSize,X=S.initiatorType,$e=S.duration;if(A&&$e&&T2(X)){for(X=0,$e=S.responseEnd,m+=1;m<c.length;m++){var Xe=c[m],$t=Xe.startTime;if($t>$e)break;var Vt=Xe.transferSize,Kt=Xe.initiatorType;Vt&&T2(Kt)&&(Xe=Xe.responseEnd,X+=Vt*(Xe<$e?1:($e-$t)/(Xe-$t)))}if(--m,l+=8*(A+X)/(S.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ac=null,O1=null;function c0(i){return i.nodeType===9?i:i.ownerDocument}function zo(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r4(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function y2(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Fh=null;function _2(){var i=window.event;return i&&i.type==="popstate"?i===Fh?!1:(Fh=i,!0):(Fh=null,!1)}var E2=typeof setTimeout=="function"?setTimeout:void 0,i4=typeof clearTimeout=="function"?clearTimeout:void 0,No=typeof Promise=="function"?Promise:void 0,Nc=typeof queueMicrotask=="function"?queueMicrotask:typeof No<"u"?function(i){return No.resolve(null).then(i).catch(K5)}:E2;function K5(i){setTimeout(function(){throw i})}function Mu(i){return i==="head"}function Uh(i,l){var c=l,m=0;do{var S=c.nextSibling;if(i.removeChild(c),S&&S.nodeType===8)if(c=S.data,c==="/$"||c==="/&"){if(m===0){i.removeChild(S),Pc(l);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")os(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,os(c);for(var A=c.firstChild;A;){var X=A.nextSibling,$e=A.nodeName;A[ie]||$e==="SCRIPT"||$e==="STYLE"||$e==="LINK"&&A.rel.toLowerCase()==="stylesheet"||c.removeChild(A),A=X}}else c==="body"&&os(i.ownerDocument.body);c=S}while(c);Pc(l)}function B0(i,l){var c=i;i=0;do{var m=c.nextSibling;if(c.nodeType===1?l?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(l?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=m}while(c)}function s4(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":s4(c),Bt(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function jl(i,l,c,m){for(;i.nodeType===1;){var S=c;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[ie])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(A=i.getAttribute("rel"),A==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(A!==S.rel||i.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||i.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||i.getAttribute("title")!==(S.title==null?null:S.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(A=i.getAttribute("src"),(A!==(S.src==null?null:S.src)||i.getAttribute("type")!==(S.type==null?null:S.type)||i.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&A&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var A=S.name==null?null:""+S.name;if(S.type==="hidden"&&i.getAttribute("name")===A)return i}else return i;if(i=Ho(i.nextSibling),i===null)break}return null}function Fi(i,l,c){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Ho(i.nextSibling),i===null))return null;return i}function ga(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ho(i.nextSibling),i===null))return null;return i}function Mc(i){return i.data==="$?"||i.data==="$~"}function R1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function o4(i,l){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||c.readyState!=="loading")l();else{var m=function(){l(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Ho(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var w2=null;function h0(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(l===0)return Ho(i.nextSibling);l--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||l++}i=i.nextSibling}return null}function Ui(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(l===0)return i;l--}else c!=="/$"&&c!=="/&"||l++}i=i.previousSibling}return null}function $a(i,l,c){switch(l=c0(c),i){case"html":if(i=l.documentElement,!i)throw Error(a(452));return i;case"head":if(i=l.head,!i)throw Error(a(453));return i;case"body":if(i=l.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function os(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Bt(i)}var ol=new Map,xn=new Set;function Ja(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var P0=St.d;St.d={f:S2,r:pi,D:Rc,C:D3,L:Lc,m:C2,X:B3,S:k2,M:Mo};function S2(){var i=P0.f(),l=Ih();return i||l}function pi(i){var l=In(i);l!==null&&l.tag===5&&l.type==="form"?E3(l):P0.r(i)}var Oc=typeof document>"u"?null:document;function x2(i,l,c){var m=Oc;if(m&&typeof l=="string"&&l){var S=Ks(l);S='link[rel="'+i+'"][href="'+S+'"]',typeof c=="string"&&(S+='[crossorigin="'+c+'"]'),xn.has(S)||(xn.add(S),i={rel:i,crossOrigin:c,href:l},m.querySelector(S)===null&&(l=m.createElement("link"),yo(l,"link",i),pr(l),m.head.appendChild(l)))}}function Rc(i){P0.D(i),x2("dns-prefetch",i,null)}function D3(i,l){P0.C(i,l),x2("preconnect",i,l)}function Lc(i,l,c){P0.L(i,l,c);var m=Oc;if(m&&i&&l){var S='link[rel="preload"][as="'+Ks(l)+'"]';l==="image"&&c&&c.imageSrcSet?(S+='[imagesrcset="'+Ks(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(S+='[imagesizes="'+Ks(c.imageSizes)+'"]')):S+='[href="'+Ks(i)+'"]';var A=S;switch(l){case"style":A=ll(i);break;case"script":A=F0(i)}ol.has(A)||(i=I({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:i,as:l},c),ol.set(A,i),m.querySelector(S)!==null||l==="style"&&m.querySelector(Yl(A))||l==="script"&&m.querySelector(Ou(A))||(l=m.createElement("link"),yo(l,"link",i),pr(l),m.head.appendChild(l)))}}function C2(i,l){P0.m(i,l);var c=Oc;if(c&&i){var m=l&&typeof l.as=="string"?l.as:"script",S='link[rel="modulepreload"][as="'+Ks(m)+'"][href="'+Ks(i)+'"]',A=S;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=F0(i)}if(!ol.has(A)&&(i=I({rel:"modulepreload",href:i},l),ol.set(A,i),c.querySelector(S)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Ou(A)))return}m=c.createElement("link"),yo(m,"link",i),pr(m),c.head.appendChild(m)}}}function k2(i,l,c){P0.S(i,l,c);var m=Oc;if(m&&i){var S=Pr(m).hoistableStyles,A=ll(i);l=l||"default";var X=S.get(A);if(!X){var $e={loading:0,preload:null};if(X=m.querySelector(Yl(A)))$e.loading=5;else{i=I({rel:"stylesheet",href:i,"data-precedence":l},c),(c=ol.get(A))&&Bc(i,c);var Xe=X=m.createElement("link");pr(Xe),yo(Xe,"link",i),Xe._p=new Promise(function($t,Vt){Xe.onload=$t,Xe.onerror=Vt}),Xe.addEventListener("load",function(){$e.loading|=1}),Xe.addEventListener("error",function(){$e.loading|=2}),$e.loading|=4,Ru(X,l,m)}X={type:"stylesheet",instance:X,count:1,state:$e},S.set(A,X)}}}function B3(i,l){P0.X(i,l);var c=Oc;if(c&&i){var m=Pr(c).hoistableScripts,S=F0(i),A=m.get(S);A||(A=c.querySelector(Ou(S)),A||(i=I({src:i,async:!0},l),(l=ol.get(S))&&D1(i,l),A=c.createElement("script"),pr(A),yo(A,"link",i),c.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(S,A))}}function Mo(i,l){P0.M(i,l);var c=Oc;if(c&&i){var m=Pr(c).hoistableScripts,S=F0(i),A=m.get(S);A||(A=c.querySelector(Ou(S)),A||(i=I({src:i,async:!0,type:"module"},l),(l=ol.get(S))&&D1(i,l),A=c.createElement("script"),pr(A),yo(A,"link",i),c.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(S,A))}}function Dc(i,l,c,m){var S=(S=Qt.current)?Ja(S):null;if(!S)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=ll(c.href),c=Pr(S).hoistableStyles,m=c.get(l),m||(m={type:"style",instance:null,count:0,state:null},c.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=ll(c.href);var A=Pr(S).hoistableStyles,X=A.get(i);if(X||(S=S.ownerDocument||S,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(i,X),(A=S.querySelector(Yl(i)))&&!A._p&&(X.instance=A,X.state.loading=5),ol.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ol.set(i,c),A||P3(S,i,c,X.state))),l&&m===null)throw Error(a(528,""));return X}if(l&&m!==null)throw Error(a(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=F0(c),c=Pr(S).hoistableScripts,m=c.get(l),m||(m={type:"script",instance:null,count:0,state:null},c.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function ll(i){return'href="'+Ks(i)+'"'}function Yl(i){return'link[rel="stylesheet"]['+i+"]"}function xl(i){return I({},i,{"data-precedence":i.precedence,precedence:null})}function P3(i,l,c,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),yo(l,"link",c),pr(l),i.head.appendChild(l))}function F0(i){return'[src="'+Ks(i)+'"]'}function Ou(i){return"script[async]"+i}function L1(i,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+Ks(c.href)+'"]');if(m)return l.instance=m,pr(m),m;var S=I({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),pr(m),yo(m,"style",S),Ru(m,c.precedence,i),l.instance=m;case"stylesheet":S=ll(c.href);var A=i.querySelector(Yl(S));if(A)return l.state.loading|=4,l.instance=A,pr(A),A;m=xl(c),(S=ol.get(S))&&Bc(m,S),A=(i.ownerDocument||i).createElement("link"),pr(A);var X=A;return X._p=new Promise(function($e,Xe){X.onload=$e,X.onerror=Xe}),yo(A,"link",m),l.state.loading|=4,Ru(A,c.precedence,i),l.instance=A;case"script":return A=F0(c.src),(S=i.querySelector(Ou(A)))?(l.instance=S,pr(S),S):(m=c,(S=ol.get(A))&&(m=I({},c),D1(m,S)),i=i.ownerDocument||i,S=i.createElement("script"),pr(S),yo(S,"link",m),i.head.appendChild(S),l.instance=S);case"void":return null;default:throw Error(a(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Ru(m,c.precedence,i));return l.instance}function Ru(i,l,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=m.length?m[m.length-1]:null,A=S,X=0;X<m.length;X++){var $e=m[X];if($e.dataset.precedence===l)A=$e;else if(A!==S)break}A?A.parentNode.insertBefore(i,A.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(i,l.firstChild))}function Bc(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function D1(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var zh=null;function I2(i,l,c){if(zh===null){var m=new Map,S=zh=new Map;S.set(c,m)}else S=zh,m=S.get(c),m||(m=new Map,S.set(c,m));if(m.has(i))return m;for(m.set(i,null),c=c.getElementsByTagName(i),S=0;S<c.length;S++){var A=c[S];if(!(A[ie]||A[J]||i==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var X=A.getAttribute(l)||"";X=i+X;var $e=m.get(X);$e?$e.push(A):m.set(X,[A])}}return m}function l4(i,l,c){i=i.ownerDocument||i,i.head.insertBefore(c,l==="title"?i.querySelector("head > title"):null)}function ba(i,l,c){if(c===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Qi(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function F3(i,l,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var S=ll(m.href),A=l.querySelector(Yl(S));if(A){l=A._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=F1.bind(i),l.then(i,i)),c.state.loading|=4,c.instance=A,pr(A);return}A=l.ownerDocument||l,m=xl(m),(S=ol.get(S))&&Bc(m,S),A=A.createElement("link"),pr(A);var X=A;X._p=new Promise(function($e,Xe){X.onload=$e,X.onerror=Xe}),yo(A,"link",m),c.instance=A}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=F1.bind(i),l.addEventListener("load",c),l.addEventListener("error",c))}}var B1=0;function P1(i,l){return i.stylesheets&&i.count===0&&Oo(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var m=setTimeout(function(){if(i.stylesheets&&Oo(i,i.stylesheets),i.unsuspend){var A=i.unsuspend;i.unsuspend=null,A()}},6e4+l);0<i.imgBytes&&B1===0&&(B1=62500*L3());var S=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Oo(i,i.stylesheets),i.unsuspend)){var A=i.unsuspend;i.unsuspend=null,A()}},(i.imgBytes>B1?50:800)+l);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(S)}}:null}function F1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oo(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Hh=null;function Oo(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Hh=new Map,l.forEach(U3,i),Hh=null,F1.call(i))}function U3(i,l){if(!(l.state.loading&4)){var c=Hh.get(i);if(c)var m=c.get(null);else{c=new Map,Hh.set(i,c);for(var S=i.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<S.length;A++){var X=S[A];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(c.set(X.dataset.precedence,X),m=X)}m&&c.set(null,m)}S=l.instance,X=S.getAttribute("data-precedence"),A=c.get(X)||m,A===m&&c.set(null,S),c.set(X,S),this.count++,m=F1.bind(this),S.addEventListener("load",m),S.addEventListener("error",m),A?A.parentNode.insertBefore(S,A.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(S,i.firstChild)),l.state.loading|=4}}var U1={$$typeof:we,Provider:null,Consumer:null,_currentValue:vt,_currentValue2:vt,_threadCount:0};function a4(i,l,c,m,S,A,X,$e,Xe){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mn(0),this.hiddenUpdates=Mn(null),this.identifierPrefix=m,this.onUncaughtError=S,this.onCaughtError=A,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Xe,this.incompleteTransitions=new Map}function A2(i,l,c,m,S,A,X,$e,Xe,$t,Vt,Kt){return i=new a4(i,l,c,X,Xe,$t,Vt,Kt,$e),l=1,A===!0&&(l|=24),A=So(3,null,null,l),i.current=A,A.stateNode=i,l=dc(),l.refCount++,i.pooledCache=l,l.refCount++,A.memoizedState={element:m,isDehydrated:c,cache:l},Gi(A),i}function z3(i){return i?(i=fl,i):fl}function N2(i,l,c,m,S,A){S=z3(S),m.context===null?m.context=S:m.pendingContext=S,m=hs(l),m.payload={element:c},A=A===void 0?null:A,A!==null&&(m.callback=A),c=bs(i,m,l),c!==null&&(Ao(c,i,l),Dr(c,i,l))}function H3(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<l?c:l}}function M2(i,l){H3(i,l),(i=i.alternate)&&H3(i,l)}function O2(i){if(i.tag===13||i.tag===31){var l=Zo(i,67108864);l!==null&&Ao(l,i,67108864),M2(i,67108864)}}function R2(i){if(i.tag===13||i.tag===31){var l=Io();l=W(l);var c=Zo(i,l);c!==null&&Ao(c,i,l),M2(i,l)}}var z1=!0;function L2(i,l,c,m){var S=st.T;st.T=null;var A=St.p;try{St.p=2,u4(i,l,c,m)}finally{St.p=A,st.T=S}}function V3(i,l,c,m){var S=st.T;st.T=null;var A=St.p;try{St.p=8,u4(i,l,c,m)}finally{St.p=A,st.T=S}}function u4(i,l,c,m){if(z1){var S=Kl(m);if(S===null)Ka(i,l,m,c4,c),P2(i,m);else if(J5(S,i,l,c,m))m.stopPropagation();else if(P2(i,m),l&4&&-1<h4.indexOf(i)){for(;S!==null;){var A=In(S);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var X=j(A.pendingLanes);if(X!==0){var $e=A;for($e.pendingLanes|=2,$e.entangledLanes|=2;X;){var Xe=1<<31-Pe(X);$e.entanglements[1]|=Xe,X&=~Xe}D0(A),(Ii&6)===0&&(xh=Xn()+500,I1(0))}}break;case 31:case 13:$e=Zo(A,2),$e!==null&&Ao($e,A,2),Ih(),M2(A,2)}if(A=Kl(m),A===null&&Ka(i,l,m,c4,c),A===S)break;S=A}S!==null&&m.stopPropagation()}else Ka(i,l,m,null,c)}}function Kl(i){return i=yn(i),D2(i)}var c4=null;function D2(i){if(c4=null,i=Ae(i),i!==null){var l=p(i);if(l===null)i=null;else{var c=l.tag;if(c===13){if(i=$(l),i!==null)return i;i=null}else if(c===31){if(i=_(l),i!==null)return i;i=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return c4=i,null}function B2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(O()){case ne:return 2;case Ie:return 8;case Be:case nt:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var Vh=!1,Za=null,va=null,Jl=null,H1=new Map,Lu=new Map,Qa=[],h4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P2(i,l){switch(i){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":Jl=null;break;case"pointerover":case"pointerout":H1.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(l.pointerId)}}function Gh(i,l,c,m,S,A){return i===null||i.nativeEvent!==A?(i={blockedOn:l,domEventName:c,eventSystemFlags:m,nativeEvent:A,targetContainers:[S]},l!==null&&(l=In(l),l!==null&&O2(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),i)}function J5(i,l,c,m,S){switch(l){case"focusin":return Za=Gh(Za,i,l,c,m,S),!0;case"dragenter":return va=Gh(va,i,l,c,m,S),!0;case"mouseover":return Jl=Gh(Jl,i,l,c,m,S),!0;case"pointerover":var A=S.pointerId;return H1.set(A,Gh(H1.get(A)||null,i,l,c,m,S)),!0;case"gotpointercapture":return A=S.pointerId,Lu.set(A,Gh(Lu.get(A)||null,i,l,c,m,S)),!0}return!1}function Wh(i){var l=Ae(i.target);if(l!==null){var c=p(l);if(c!==null){if(l=c.tag,l===13){if(l=$(c),l!==null){i.blockedOn=l,U(i.priority,function(){R2(c)});return}}else if(l===31){if(l=_(c),l!==null){i.blockedOn=l,U(i.priority,function(){R2(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function V1(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var c=Kl(i.nativeEvent);if(c===null){c=i.nativeEvent;var m=new c.constructor(c.type,c);An=m,c.target.dispatchEvent(m),An=null}else return l=In(c),l!==null&&O2(l),i.blockedOn=c,!1;l.shift()}return!0}function G3(i,l,c){V1(i)&&c.delete(l)}function W3(){Vh=!1,Za!==null&&V1(Za)&&(Za=null),va!==null&&V1(va)&&(va=null),Jl!==null&&V1(Jl)&&(Jl=null),H1.forEach(G3),Lu.forEach(G3)}function G1(i,l){i.blockedOn===l&&(i.blockedOn=null,Vh||(Vh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,W3)))}var W1=null;function eu(i){W1!==i&&(W1=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){W1===i&&(W1=null);for(var l=0;l<i.length;l+=3){var c=i[l],m=i[l+1],S=i[l+2];if(typeof m!="function"){if(D2(m||c)===null)continue;break}var A=In(c);A!==null&&(i.splice(l,3),l-=3,_t(A,{pending:!0,data:S,method:c.method,action:m},m,S))}}))}function Pc(i){function l(Xe){return G1(Xe,i)}Za!==null&&G1(Za,i),va!==null&&G1(va,i),Jl!==null&&G1(Jl,i),H1.forEach(l),Lu.forEach(l);for(var c=0;c<Qa.length;c++){var m=Qa[c];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Qa.length&&(c=Qa[0],c.blockedOn===null);)Wh(c),c.blockedOn===null&&Qa.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var S=c[m],A=c[m+1],X=S[ke]||null;if(typeof A=="function")X||eu(c);else if(X){var $e=null;if(A&&A.hasAttribute("formAction")){if(S=A,X=A[ke]||null)$e=X.formAction;else if(D2(S)!==null)continue}else $e=X.action;typeof $e=="function"?c[m+1]=$e:(c.splice(m,3),m-=3),eu(c)}}}function qh(){function i(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(X){return S=X})},focusReset:"manual",scroll:"manual"})}function l(){S!==null&&(S(),S=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,S=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),S!==null&&(S(),S=null)}}}function Ro(i){this._internalRoot=i}d4.prototype.render=Ro.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(a(409));var c=l.current,m=Io();N2(c,m,i,l,null,null)},d4.prototype.unmount=Ro.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;N2(i.current,2,null,i,null,null),Ih(),l[ee]=null}};function d4(i){this._internalRoot=i}d4.prototype.unstable_scheduleHydration=function(i){if(i){var l=x();i={blockedOn:null,target:i,priority:l};for(var c=0;c<Qa.length&&l!==0&&l<Qa[c].priority;c++);Qa.splice(c,0,i),c===0&&Wh(i)}};var Je=o.version;if(Je!=="19.2.0")throw Error(a(527,Je,"19.2.0"));St.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=E(l),i=i!==null?w(i):null,i=i===null?null:i.stateNode,i};var Ta={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:st,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{L=Du.inject(Ta),ae=Du}catch{}}return q2.createRoot=function(i,l){if(!h(i))throw Error(a(299));var c=!1,m="",S=X4,A=S3,X=j4;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(S=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(X=l.onRecoverableError)),l=A2(i,1,!1,null,null,c,m,null,S,A,X,qh),i[ee]=l.current,e4(i),new Ro(l)},q2.hydrateRoot=function(i,l,c){if(!h(i))throw Error(a(299));var m=!1,S="",A=X4,X=S3,$e=j4,Xe=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onUncaughtError!==void 0&&(A=c.onUncaughtError),c.onCaughtError!==void 0&&(X=c.onCaughtError),c.onRecoverableError!==void 0&&($e=c.onRecoverableError),c.formState!==void 0&&(Xe=c.formState)),l=A2(i,1,!0,l,c??null,m,S,Xe,A,X,$e,qh),l.context=z3(null),c=l.current,m=Io(),m=W(m),S=hs(m),S.callback=null,bs(c,S,m),c=m,l.current.lanes=c,hr(l,c),D0(l),i[ee]=l.current,e4(i),new d4(l)},q2.version="19.2.0",q2}var Jp;function q$(){if(Jp)return A6.exports;Jp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),A6.exports=W$(),A6.exports}var X$=q$();const j$=su(X$);var R6={exports:{}},Zp;function Y$(){return Zp||(Zp=1,(function(r){var o=(function(){var n=String.fromCharCode,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",p={};function $(y,E){if(!p[y]){p[y]={};for(var w=0;w<y.length;w++)p[y][y.charAt(w)]=w}return p[y][E]}var _={compressToBase64:function(y){if(y==null)return"";var E=_._compress(y,6,function(w){return a.charAt(w)});switch(E.length%4){default:case 0:return E;case 1:return E+"===";case 2:return E+"==";case 3:return E+"="}},decompressFromBase64:function(y){return y==null?"":y==""?null:_._decompress(y.length,32,function(E){return $(a,y.charAt(E))})},compressToUTF16:function(y){return y==null?"":_._compress(y,15,function(E){return n(E+32)})+" "},decompressFromUTF16:function(y){return y==null?"":y==""?null:_._decompress(y.length,16384,function(E){return y.charCodeAt(E)-32})},compressToUint8Array:function(y){for(var E=_.compress(y),w=new Uint8Array(E.length*2),I=0,H=E.length;I<H;I++){var F=E.charCodeAt(I);w[I*2]=F>>>8,w[I*2+1]=F%256}return w},decompressFromUint8Array:function(y){if(y==null)return _.decompress(y);for(var E=new Array(y.length/2),w=0,I=E.length;w<I;w++)E[w]=y[w*2]*256+y[w*2+1];var H=[];return E.forEach(function(F){H.push(n(F))}),_.decompress(H.join(""))},compressToEncodedURIComponent:function(y){return y==null?"":_._compress(y,6,function(E){return h.charAt(E)})},decompressFromEncodedURIComponent:function(y){return y==null?"":y==""?null:(y=y.replace(/ /g,"+"),_._decompress(y.length,32,function(E){return $(h,y.charAt(E))}))},compress:function(y){return _._compress(y,16,function(E){return n(E)})},_compress:function(y,E,w){if(y==null)return"";var I,H,F={},te={},he="",ce="",K="",se=2,we=3,Oe=2,De=[],Se=0,je=0,at;for(at=0;at<y.length;at+=1)if(he=y.charAt(at),Object.prototype.hasOwnProperty.call(F,he)||(F[he]=we++,te[he]=!0),ce=K+he,Object.prototype.hasOwnProperty.call(F,ce))K=ce;else{if(Object.prototype.hasOwnProperty.call(te,K)){if(K.charCodeAt(0)<256){for(I=0;I<Oe;I++)Se=Se<<1,je==E-1?(je=0,De.push(w(Se)),Se=0):je++;for(H=K.charCodeAt(0),I=0;I<8;I++)Se=Se<<1|H&1,je==E-1?(je=0,De.push(w(Se)),Se=0):je++,H=H>>1}else{for(H=1,I=0;I<Oe;I++)Se=Se<<1|H,je==E-1?(je=0,De.push(w(Se)),Se=0):je++,H=0;for(H=K.charCodeAt(0),I=0;I<16;I++)Se=Se<<1|H&1,je==E-1?(je=0,De.push(w(Se)),Se=0):je++,H=H>>1}se--,se==0&&(se=Math.pow(2,Oe),Oe++),delete te[K]}else for(H=F[K],I=0;I<Oe;I++)Se=Se<<1|H&1,je==E-1?(je=0,De.push(w(Se)),Se=0):je++,H=H>>1;se--,se==0&&(se=Math.pow(2,Oe),Oe++),F[ce]=we++,K=String(he)}if(K!==""){if(Object.prototype.hasOwnProperty.call(te,K)){if(K.charCodeAt(0)<256){for(I=0;I<Oe;I++)Se=Se<<1,je==E-1?(je=0,De.push(w(Se)),Se=0):je++;for(H=K.charCodeAt(0),I=0;I<8;I++)Se=Se<<1|H&1,je==E-1?(je=0,De.push(w(Se)),Se=0):je++,H=H>>1}else{for(H=1,I=0;I<Oe;I++)Se=Se<<1|H,je==E-1?(je=0,De.push(w(Se)),Se=0):je++,H=0;for(H=K.charCodeAt(0),I=0;I<16;I++)Se=Se<<1|H&1,je==E-1?(je=0,De.push(w(Se)),Se=0):je++,H=H>>1}se--,se==0&&(se=Math.pow(2,Oe),Oe++),delete te[K]}else for(H=F[K],I=0;I<Oe;I++)Se=Se<<1|H&1,je==E-1?(je=0,De.push(w(Se)),Se=0):je++,H=H>>1;se--,se==0&&(se=Math.pow(2,Oe),Oe++)}for(H=2,I=0;I<Oe;I++)Se=Se<<1|H&1,je==E-1?(je=0,De.push(w(Se)),Se=0):je++,H=H>>1;for(;;)if(Se=Se<<1,je==E-1){De.push(w(Se));break}else je++;return De.join("")},decompress:function(y){return y==null?"":y==""?null:_._decompress(y.length,32768,function(E){return y.charCodeAt(E)})},_decompress:function(y,E,w){var I=[],H=4,F=4,te=3,he="",ce=[],K,se,we,Oe,De,Se,je,at={val:w(0),position:E,index:1};for(K=0;K<3;K+=1)I[K]=K;for(we=0,De=Math.pow(2,2),Se=1;Se!=De;)Oe=at.val&at.position,at.position>>=1,at.position==0&&(at.position=E,at.val=w(at.index++)),we|=(Oe>0?1:0)*Se,Se<<=1;switch(we){case 0:for(we=0,De=Math.pow(2,8),Se=1;Se!=De;)Oe=at.val&at.position,at.position>>=1,at.position==0&&(at.position=E,at.val=w(at.index++)),we|=(Oe>0?1:0)*Se,Se<<=1;je=n(we);break;case 1:for(we=0,De=Math.pow(2,16),Se=1;Se!=De;)Oe=at.val&at.position,at.position>>=1,at.position==0&&(at.position=E,at.val=w(at.index++)),we|=(Oe>0?1:0)*Se,Se<<=1;je=n(we);break;case 2:return""}for(I[3]=je,se=je,ce.push(je);;){if(at.index>y)return"";for(we=0,De=Math.pow(2,te),Se=1;Se!=De;)Oe=at.val&at.position,at.position>>=1,at.position==0&&(at.position=E,at.val=w(at.index++)),we|=(Oe>0?1:0)*Se,Se<<=1;switch(je=we){case 0:for(we=0,De=Math.pow(2,8),Se=1;Se!=De;)Oe=at.val&at.position,at.position>>=1,at.position==0&&(at.position=E,at.val=w(at.index++)),we|=(Oe>0?1:0)*Se,Se<<=1;I[F++]=n(we),je=F-1,H--;break;case 1:for(we=0,De=Math.pow(2,16),Se=1;Se!=De;)Oe=at.val&at.position,at.position>>=1,at.position==0&&(at.position=E,at.val=w(at.index++)),we|=(Oe>0?1:0)*Se,Se<<=1;I[F++]=n(we),je=F-1,H--;break;case 2:return ce.join("")}if(H==0&&(H=Math.pow(2,te),te++),I[je])he=I[je];else if(je===F)he=se+se.charAt(0);else return null;ce.push(he),I[F++]=se+he.charAt(0),H--,se=he,H==0&&(H=Math.pow(2,te),te++)}}};return _})();r!=null?r.exports=o:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return o})})(R6)),R6.exports}var K$=Y$();const K8=su(K$),Al={defaultGrid:[[4,4,4,4,4,4,4,4],[4,2,1,1,1,1,3,4],[4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4]],THEME:{0:"",1:"",2:"",3:"",4:"",PLAYER:""},checkMove:(r,o,n)=>{if(!r||!r[n]||typeof r[n][o]>"u")return"WALL";const a=r[n][o];return a===4||a===0?"WALL":a===3?"WIN":"OK"},look:(r,o,n,a,h)=>{let p=a;h==="LEFT"?p=(a+3)%4:h==="RIGHT"&&(p=(a+1)%4);let $=o,_=n;return p===0?$++:p===1?_++:p===2?$--:p===3&&_--,Al.checkMove(r,$,_)!=="WALL"},resizeGrid:(r,o,n)=>{const a=[];for(let h=0;h<o;h++){const p=[];for(let $=0;$<n;$++)r[h]&&r[h][$]!==void 0?p.push(r[h][$]):p.push(4);a.push(p)}return a}};function J$({levelData:r,onUpdate:o}){const[n,a]=Tn.useState(4),h=r.startPos||{x:1,y:1,dir:1},p=r.grid||Al.defaultGrid,$=p.length,_=p[0]?.length||0,y=[{id:1,label:"Chemin",icon:""},{id:4,label:"Mur",icon:""},{id:3,label:"Arrive",icon:""}],E=(F,te)=>{const he=Math.max(3,Math.min(50,F)),ce=Math.max(3,Math.min(50,te));if(he===$&&ce===_)return;const K=Al.resizeGrid(p,he,ce);o({...r,grid:K})},w=(F,te)=>{const he=p.map(ce=>[...ce]);if(n===2){for(let ce=0;ce<he.length;ce++)for(let K=0;K<he[ce].length;K++)he[ce][K]===2&&(he[ce][K]=1);he[F][te]=2,o({...r,grid:he,startPos:{...h,x:te,y:F}})}else he[F][te]=n,o({...r,grid:he})},I=F=>{o({...r,startPos:{...h,dir:parseInt(F)}})},H=h.dir*90+90;return ye.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[ye.jsxs("div",{className:"bg-white border-b border-slate-200 px-4 py-3 shadow-sm z-10 flex flex-wrap items-center justify-between gap-4",children:[ye.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[ye.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 p-1.5 rounded-lg border border-slate-200",children:[ye.jsx("span",{className:"text-xs font-bold text-slate-400 px-1",children:"DIM"}),ye.jsx("input",{type:"number",min:"3",max:"50",value:_,onChange:F=>E($,parseInt(F.target.value)||3),className:"w-12 text-center text-sm font-bold bg-white border border-slate-300 rounded focus:ring-2 focus:ring-blue-500 outline-none"}),ye.jsx("span",{className:"text-slate-400 font-bold",children:""}),ye.jsx("input",{type:"number",min:"3",max:"50",value:$,onChange:F=>E(parseInt(F.target.value)||3,_),className:"w-12 text-center text-sm font-bold bg-white border border-slate-300 rounded focus:ring-2 focus:ring-blue-500 outline-none"})]}),ye.jsxs("div",{className:"flex items-center gap-3 bg-slate-100 p-1.5 rounded-lg border border-slate-200",children:[ye.jsx("span",{className:"text-xs font-bold text-slate-400 px-1",children:"DIR"}),ye.jsx("input",{type:"range",min:"0",max:"3",step:"1",value:h.dir,onChange:F=>I(F.target.value),className:"w-20 cursor-pointer accent-blue-600"}),ye.jsx("span",{className:"text-xl transition-transform duration-300",style:{transform:`rotate(${H}deg)`},children:""})]})]}),ye.jsxs("div",{className:"flex flex-wrap gap-2",children:[ye.jsx("button",{onClick:()=>a(2),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-bold transition-all border whitespace-nowrap
                    ${n===2?"bg-emerald-100 text-emerald-700 border-emerald-300 shadow-sm":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:" Dpart"}),y.map(F=>ye.jsxs("button",{onClick:()=>a(F.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-bold transition-all border whitespace-nowrap
                        ${n===F.id?"bg-blue-100 text-blue-700 border-blue-300 shadow-sm":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:[ye.jsx("span",{children:F.icon})," ",F.label]},F.id))]})]}),ye.jsx("div",{className:"flex-1 overflow-auto bg-slate-200/50 relative checkerboard-bg",children:ye.jsx("div",{className:"min-h-full min-w-full flex items-center justify-center p-8",children:ye.jsx("div",{className:"shadow-2xl border-4 border-slate-700 bg-slate-800",style:{display:"grid",gridTemplateColumns:`repeat(${_}, 1fr)`,gap:"1px",width:"fit-content",maxWidth:"100%"},children:p.map((F,te)=>F.map((he,ce)=>{const K=he===2,se="40px";return ye.jsxs("div",{onClick:()=>w(te,ce),style:{width:se,height:se},className:`relative flex items-center justify-center cursor-pointer transition-colors duration-100
                                    ${he===4?"bg-slate-700 hover:bg-slate-600":he===2?"bg-emerald-400":"bg-white hover:bg-blue-50"}
                                `,children:[ye.jsx("span",{style:{fontSize:"20px",opacity:K?.3:1,userSelect:"none"},children:he===2?"":Al.THEME[he]}),K&&ye.jsx("div",{style:{position:"absolute",transform:`rotate(${H}deg)`,fontSize:"20px",transition:"transform 0.2s",pointerEvents:"none"},children:Al.THEME.PLAYER})]},`${te}-${ce}`)}))})})}),ye.jsx("style",{children:`
        .checkerboard-bg {
            background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
            background-size: 20px 20px;
        }
      `})]})}function Z$({levelData:r,onUpdate:o}){const[n,a]=Tn.useState(""),[h,p]=Tn.useState(0),$=r.inputs||{},_=r.hiddenVars||[],y=r.lockedVars||[],E=r.targets||{};Tn.useEffect(()=>{const K=Object.keys($),we=Object.keys(E).filter(Oe=>!K.includes(Oe));if(we.length>0){console.log(" Nettoyage cibles orphelines :",we);const Oe={...E};we.forEach(De=>delete Oe[De]),o({...r,targets:Oe})}},[$,E]);const w=K=>{if(typeof K=="string"){const se=K.trim();if(se.startsWith("[")&&se.endsWith("]"))try{return JSON.parse(se)}catch{return K}if(se.startsWith("@")||se===""||se.endsWith(".")||se.endsWith(","))return K;const we=Number(se.replace(",","."));if(!isNaN(we))return we}return K},I=()=>{if(!n)return;const K={...$,[n]:w(h)};o({...r,inputs:K}),a(""),p(0)},H=K=>{const se={...$};delete se[K];const we=_.filter(Se=>Se!==K),Oe=y.filter(Se=>Se!==K),De={...E};delete De[K],o({...r,inputs:se,hiddenVars:we,lockedVars:Oe,targets:De})},F=K=>{let se=[..._],we=[...y];const Oe=_.includes(K),De=y.includes(K);!Oe&&!De?we.push(K):De?(we=we.filter(Se=>Se!==K),se.push(K)):se=se.filter(Se=>Se!==K),o({...r,hiddenVars:se,lockedVars:we})},te=(K,se)=>{const we={...$,[K]:w(se)};o({...r,inputs:we})},he=K=>{const se={...E};se[K]!==void 0?delete se[K]:se[K]=$[K],o({...r,targets:se})},ce=(K,se)=>{const we={...E,[K]:w(se)};o({...r,targets:we})};return ye.jsxs("div",{style:{padding:"15px",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #ddd"},children:[ye.jsx("h4",{style:{marginTop:0,color:"#2c3e50"},children:" Configuration Labo"}),ye.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[ye.jsxs("div",{children:[ye.jsx("h5",{style:{margin:"0 0 10px 0",borderBottom:"1px solid #eee"},children:"1. Variables (Mmoire)"}),ye.jsxs("div",{style:{display:"flex",gap:"5px",marginBottom:"10px"},children:[ye.jsx("input",{type:"text",placeholder:"Nom (x)",value:n,onChange:K=>a(K.target.value),style:{flex:1,padding:"5px",width:"50px"}}),ye.jsx("input",{type:"text",placeholder:"Val (0)",value:h,onChange:K=>p(K.target.value),style:{flex:1,padding:"5px",width:"50px"}}),ye.jsx("button",{onClick:I,style:{cursor:"pointer",background:"#27ae60",color:"white",border:"none",borderRadius:"4px",padding:"0 10px"},children:"ok"})]}),Object.entries($).map(([K,se])=>{const we=_.includes(K),Oe=y.includes(K);let De="",Se="white";Oe&&(De="",Se="#fff3cd"),we&&(De="",Se="#eee");const je=typeof se=="object"?JSON.stringify(se):se;return ye.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",marginBottom:"5px",background:Se,padding:"5px",borderRadius:"4px",border:"1px solid #ccc"},children:[ye.jsx("button",{onClick:()=>F(K),style:{border:"none",background:"none",cursor:"pointer"},children:De}),ye.jsx("span",{style:{fontWeight:"bold",width:"30px"},children:K}),ye.jsx("span",{style:{color:"#888"},children:"="}),ye.jsx("input",{type:"text",value:je,onChange:at=>te(K,at.target.value),style:{flex:1,border:"1px solid #ddd",borderRadius:"3px",padding:"2px"}}),ye.jsx("button",{onClick:()=>H(K),style:{color:"#e74c3c",border:"none",background:"none",cursor:"pointer"},children:""})]},K)})]}),ye.jsxs("div",{children:[ye.jsx("h5",{style:{margin:"0 0 10px 0",borderBottom:"1px solid #eee"},children:"2. Objectifs (Fin)"}),Object.keys($).map(K=>{const se=E[K]!==void 0,we=E[K],Oe=typeof we=="object"?JSON.stringify(we):we??"";return ye.jsxs("div",{style:{marginBottom:"5px",display:"flex",alignItems:"center",opacity:se?1:.5},children:[ye.jsx("input",{type:"checkbox",checked:se,onChange:()=>he(K),style:{marginRight:"8px"}}),ye.jsx("span",{style:{fontWeight:"bold",width:"30px"},children:K}),se&&ye.jsxs(ye.Fragment,{children:[ye.jsx("span",{style:{marginRight:"5px"},children:"="}),ye.jsx("input",{type:"text",value:Oe,onChange:De=>ce(K,De.target.value),style:{width:"80px",padding:"2px",borderColor:"#27ae60",borderStyle:"solid",borderWidth:"1px",borderRadius:"3px"}})]})]},K)})]})]})]})}const Vu=300;function Q$({levelData:r,onUpdate:o}){const n=r.startPos?.x??0,a=r.startPos?.y??0,h=r.startPos?.dir??0,p=(E,w)=>{let I=parseInt(w)||0;E==="dir"&&I===360&&(I=0);const H={x:n,y:a,dir:h,...r.startPos,[E]:I};o({...r,startPos:H})},$=E=>Vu/2+E,_=E=>Vu/2-E,y=h;return ye.jsx("div",{className:"h-full w-full bg-slate-50 overflow-y-auto custom-scrollbar relative",children:ye.jsxs("div",{className:"min-h-full flex flex-col lg:flex-row items-center justify-center p-8 gap-8 lg:gap-12",children:[ye.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden shrink-0 transition-all hover:shadow-2xl",style:{width:Vu,height:Vu},children:[ye.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0 opacity-20 pointer-events-none",children:[ye.jsx("defs",{children:ye.jsx("pattern",{id:"gridSmallTurtle",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:ye.jsx("path",{d:"M 50 0 L 0 0 0 50",fill:"none",stroke:"#94a3b8",strokeWidth:"1"})})}),ye.jsx("rect",{width:"100%",height:"100%",fill:"url(#gridSmallTurtle)"}),ye.jsx("line",{x1:Vu/2,y1:"0",x2:Vu/2,y2:Vu,stroke:"#ef4444",strokeWidth:"1",strokeDasharray:"4 4"}),ye.jsx("line",{x1:"0",y1:Vu/2,x2:Vu,y2:Vu/2,stroke:"#ef4444",strokeWidth:"1",strokeDasharray:"4 4"})]}),ye.jsx("div",{className:"absolute w-10 h-10 -ml-5 -mt-5 transition-transform duration-200 ease-out flex items-center justify-center",style:{left:$(n),top:_(a),transform:`rotate(${y}deg)`},children:ye.jsxs("svg",{viewBox:"0 0 40 40",fill:"none",className:"w-full h-full drop-shadow-md",children:[ye.jsx("circle",{cx:"20",cy:"20",r:"12",stroke:"#334155",strokeWidth:"3",fill:"rgba(255,255,255,0.9)"}),ye.jsx("path",{d:"M 34 20 L 26 15 L 26 25 Z",fill:"#334155"})]})})]}),ye.jsxs("div",{className:"w-full max-w-sm bg-white p-6 rounded-2xl border border-slate-200 shadow-md shrink-0",children:[ye.jsxs("h4",{className:"text-sm font-extrabold text-slate-600 uppercase tracking-widest mb-6 text-center flex items-center justify-center gap-2",children:[ye.jsx("span",{children:""})," Position de dpart"]}),ye.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[ye.jsxs("div",{className:"flex flex-col",children:[ye.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 ml-1",children:"Horizontal (X)"}),ye.jsx("input",{type:"number",value:n,onChange:E=>p("x",E.target.value),className:"w-full text-center font-mono text-lg bg-slate-50 border border-slate-200 rounded-lg py-2 focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all outline-none"})]}),ye.jsxs("div",{className:"flex flex-col",children:[ye.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 ml-1",children:"Vertical (Y)"}),ye.jsx("input",{type:"number",value:a,onChange:E=>p("y",E.target.value),className:"w-full text-center font-mono text-lg bg-slate-50 border border-slate-200 rounded-lg py-2 focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all outline-none"})]})]}),ye.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[ye.jsxs("div",{className:"flex justify-between items-center mb-3",children:[ye.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Direction"}),ye.jsxs("span",{className:"text-xl font-bold text-blue-600 font-mono",children:[h,""]})]}),ye.jsx("input",{type:"range",min:"0",max:"270",step:"90",value:h>=360?0:h,onChange:E=>p("dir",E.target.value),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600 mb-2"}),ye.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400",children:[ye.jsx("span",{children:"Est"}),ye.jsx("span",{children:"Sud"}),ye.jsx("span",{children:"Ouest"}),ye.jsx("span",{children:"Nord"})]})]})]})]})})}function eb({levelData:r,onUpdate:o}){const n=r.equation||{a:2,b:4,c:0,d:10,implicit:!1};Tn.useEffect(()=>{(!r.allowedBlocks||r.allowedBlocks.length===0)&&o({...r,equation:n,allowedBlocks:["equation_op_both","equation_term_x","math_number"]})},[]);const a=h=>{const p={...n,...h},$=`${p.a}*x + ${p.b}`,_=`${p.c}*x + ${p.d}`;o({...r,equation:{...p,lhs:$,rhs:_,sign:"="},allowedBlocks:["equation_op_both","equation_term_x","math_number"]})};return ye.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[ye.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 pb-4",children:[ye.jsx("h3",{className:"text-lg font-bold text-slate-700 flex items-center gap-2",children:" Gnrateur d'quation"}),ye.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-blue-50 px-3 py-1 rounded-lg border border-blue-100 hover:bg-blue-100 transition-colors",children:[ye.jsx("input",{type:"checkbox",checked:n.implicit||!1,onChange:h=>a({implicit:h.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),ye.jsx("span",{className:"text-xs font-bold text-blue-700",children:"Multiplication Implicite (2x)"})]})]}),ye.jsx("div",{className:"space-y-4",children:["a","b","c","d"].map(h=>ye.jsxs("div",{className:"flex items-center gap-4",children:[ye.jsx("label",{className:"w-6 font-bold text-slate-500 uppercase",children:h}),ye.jsx("input",{type:"range",min:"-20",max:"20",step:"1",value:n[h],onChange:p=>a({[h]:parseInt(p.target.value)}),className:"flex-1 h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),ye.jsx("span",{className:"w-8 text-right font-mono font-bold text-slate-700",children:n[h]})]},h))}),ye.jsxs("div",{className:"bg-slate-800 text-white p-4 rounded-xl text-center font-mono text-xl shadow-inner",children:[n.a,"x ",n.b>=0?"+":"",n.b," = ",n.c,"x ",n.d>=0?"+":"",n.d]})]})}var m5={exports:{}},tb=m5.exports,Qp;function h3(){return Qp||(Qp=1,(function(r,o){(function(n,a){r.exports=a()})(tb,function(){var n={},a,h,p,$,_,y,E,w,I,H,F,te,he,ce,K,se,we,Oe,De,Se,je,at,Ze,Ke,Pt,Ve,Xt,Lt,Ot,st,St,vt,an,de,Le,tt,_e,Ft,It,Qt,cn,Hn,mn,sn,qn,ct,rn,Br,Zn,mr,un,$i,wi,nr,es,li,rr,Xn,O,ne,Ie,Be,nt,Ye,yt,xt,L,ae,ze,Pe,Dt,Sn,Ar,Y,ve,R,j,Ee,Fe,Mt,dn,Mn,hr,xs,ts,_r,B,W,en,x,U,Z,J,ke,ee,Ce,qe,rt,lt,ie,Bt,Ae,In,On,Pr,pr,Pn,ns,ai,$n,kr,Rs,ui,Or,tn,me,Ni,ms,gr,Fr,_n,sr,Wr,xa,Ks,Qn,d,C,P,V,oe,fe,Me,be,pt,At,Tt,gn,jt,on,An,yn,zt,or,Vn,er,Ur,ar,ni,Js,ls,Gn,ci,Mi,Hi,rs,ri,Kn,Zr,bi,po,ii,Us,wo,Jt,Oi,ji,n0,r0,zs,Ls,Yr,Cs,Wo,Ol,Rl,Ll,ou,mo,Yc,Kc,sh,Zu,cl,br,lu,W0,Ca,Qu,$0,b0,Jc,v0,ka,q0,ec,T0,Dl,tc,nc,au,Ia,Aa,X0,Bl,Na,uu,hl,T,N,le,Te,Ue,Qe,ht,Ct,Wt,Yt,bn,Nt,jn,Fn,Yn,ir,Er,zr,nn,Dn,Rr,ur,Kr,hi,Qr,si,ei,Si,Hr,Vi,gs,ks,xi,Hs,go,Is,Nr,us,pe,Ci,is,dl,so,$o,Zs,cs,cr,Qs,Ri,bo,i0,Pl,y0,Zo,rc,Fl,fl,ic,So,sc,Ul,nd,j0,_0,cu,Y0,E0,Ma,Qo,Oa,zl,oc,K0,xo,qo,s0,Xo,el,Bo,lc,ac,Hl,uc,ss,Yi,qr,w0,Vs,o0,l0,oh,lh,Ra,a0,Zc,La,cc,J0,Vl,S0,Gl,Da,tl,x0,hu,nl,eo,du,fu,hc,Qc,ah,as,dc,C0,k0,e1,Ba,Z0,t1,Un,rl,oo,Li,pl,g,f,b,k,D,G,Q,ge,Ne,We,ot,dt,wt,Zt,wn,Rn,Lr,vr,wr,di,Jr,Gi,$s,hs,bs,Dr,vi,Ti,Di,fi,Ki,vo,Q0,pu,fc,n1,I0,il,ml,ea,rd,id,Pa,jo,Gs,uh,Wl,Ir,Wi,Ds,pc,Fa,ta,r1,i1,mu,sd,vs,od,s1,N4,ld,T3,na,ch,mc,Po,Bs,gc,$c,o1,hh,A0,l1,dh,fh,ad,ud,M4,O4,R4,L4,cd,D4,y3,B4,P4,hd,ph,dd,fd,pd,md,gd,$d,a1,gu,F4,u1,c1,bd,mh,U4,vd,Td,yd,_d,Ed,wd,z4,Sd,xd,H4,V4,_3,_t;a=function(e,t,s,u){if(!(e instanceof Ht)&&typeof e!="string"||`${e}`.trim()==="")throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=`${e}`.toLowerCase(),typeof t!="string"||t.trim()==="")throw Error('Invalid name "'+t+'". The name must be a non-empty string.');const v=t.toLowerCase();if(!s)throw Error("Can not register a null value");let M=Ua[e],re=h1[e];if(M||(M=Ua[e]=Object.create(null),re=h1[e]=Object.create(null)),h(e,s),!u&&M[v]&&M[v]!==s)throw Error('Name "'+v+'" with type "'+e+'" already registered.');M[v]=s,re[v]=t},h=function(e,t){switch(e){case String(Ht.FIELD):if(typeof t.fromJson!="function")throw Error('Type "'+e+'" must have a fromJson function')}},p=function(e,t){e=`${e}`.toLowerCase(),t=t.toLowerCase();const s=Ua[e];s&&s[t]?(delete Ua[e][t],delete h1[e][t]):console.warn("Unable to unregister ["+t+"]["+e+"] from the registry.")},$=function(e,t,s){e=`${e}`.toLowerCase(),t=t.toLowerCase();const u=Ua[e];if(!u||!u[t]){if(t="Unable to find ["+t+"]["+e+"] in the registry.",s)throw Error(t+" You must require or register a "+e+" plugin.");return console.warn(t),null}return u[t]},_=function(e,t){return e=`${e}`.toLowerCase(),t=t.toLowerCase(),(e=Ua[e])?!!e[t]:!1},y=function(e,t,s){return $(e,t,s)},E=function(e,t,s){return $(e,t,s)},w=function(e,t,s){e=`${e}`.toLowerCase();var u=Ua[e];if(!u){if(u=`Unable to find [${e}] in the registry.`,s)throw Error(`${u} You must require or register a ${e} plugin.`);return console.warn(u),null}if(!t)return u;e=h1[e],s=Object.create(null);for(const v of Object.keys(u))s[e[v]]=u[v];return s},I=function(e,t,s){return t=t.plugins[String(e)]||gl,typeof t=="function"?t:y(e,t,s)},H=function(e,t){F(),gh=setTimeout(function(){t&&t.handleRightClick(e)},w3)},F=function(){gh&&(clearTimeout(gh),gh=0)},te=function(){f1=null},he=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&K(e)},ce=function(e){return`${e.pointerId}`},K=function(e){const t=ce(e);return f1?f1===t:e.type==="pointerdown"?(f1=t,!0):!1},se=function(e,t,s,u,v){function M(Re){(v||he(Re))&&(s?u.call(s,Re):u(Re))}const re=[];if(t in ra)for(let Re=0;Re<ra[t].length;Re++){const Ut=ra[t][Re];e.addEventListener(Ut,M,!1),re.push([e,Ut,M])}else e.addEventListener(t,M,!1),re.push([e,t,M]);return re},we=function(e,t,s,u){function v(re){s?u.call(s,re):u(re)}const M=[];if(t in ra)for(let re=0;re<ra[t].length;re++){const Re=ra[t][re];e.addEventListener(Re,v,!1),M.push([e,Re,v])}else e.addEventListener(t,v,!1),M.push([e,t,v]);return M},Oe=function(e){const t=e[e.length-1][2];for(;e.length;){const[s,u,v]=e.pop();s.removeEventListener(u,v,!1)}return t},De=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||e.target.getAttribute("data-is-text-input")==="true")return!0;if(e.target instanceof HTMLInputElement)return e=e.target,e.type==="text"||e.type==="number"||e.type==="email"||e.type==="password"||e.type==="search"||e.type==="tel"||e.type==="url";if(e.target instanceof HTMLTextAreaElement)return!0}return!1},Se=function(e){return e.ctrlKey&&Ad?!0:e.button===2},je=function(e,t,s){const u=t.createSVGPoint();return u.x=e.clientX,u.y=e.clientY,s||(s=t.getScreenCTM().inverse()),u.matrixTransform(s)},at=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*to,y:e.deltaY*to};case 2:return{x:e.deltaX*Co,y:e.deltaY*Co}}},Ze=function(){return"blockly-"+(C3++).toString(36)},Ke=function(){return $1.genUid()},Pt=function(e){return e.type===mt.BLOCK_CREATE},Ve=function(e){return e.type===mt.BLOCK_DELETE},Xt=function(e){return e.type===mt.BLOCK_CHANGE},Lt=function(e){return e.type===mt.BLOCK_FIELD_INTERMEDIATE_CHANGE},Ot=function(e){return e.type===mt.BLOCK_MOVE},st=function(e){return e.type===mt.CLICK},St=function(e){return e.type===mt.BUBBLE_OPEN},vt=function(e){return e.type===mt.VIEWPORT_CHANGE},n.setRecordUndo$$module$build$src$core$events$utils=function(e){bh=e},an=function(){return bh},de=function(e){e2.fireInternal(e)},Le=function(e){if(Qt()){if(!sa.length)try{requestAnimationFrame(()=>{setTimeout(tt,0)})}catch{setTimeout(tt,0)}_e(e)}},tt=function(){const e=Ft(sa);sa.length=0;for(const t of e){if(!t.workspaceId)continue;let s;(s=nt(t.workspaceId))==null||s.fireChangeListener(t)}},_e=function(e){if(Xt(e)&&e.element==="mutation"){let t;for(t=sa.length;t>0;t--){const s=sa[t-1];if(s.group!==e.group||s.workspaceId!==e.workspaceId||!Ot(s)||s.newParentId!==e.blockId)break}sa.splice(t,0,e)}else sa.push(e)},Ft=function(e){const t=[];for(const s of e)if(e=t[t.length-1],!s.isNull())if(e&&e.workspaceId===s.workspaceId&&e.group===s.group)if(Ot(s)&&Ot(e)&&s.blockId===e.blockId){if(e.newParentId=s.newParentId,e.newInputName=s.newInputName,e.newCoordinate=s.newCoordinate,e.reason||s.reason){let u,v;e.reason=Array.from(new Set(((u=e.reason)!=null?u:[]).concat((v=s.reason)!=null?v:[])))}}else Xt(s)&&Xt(e)&&s.blockId===e.blockId&&s.element===e.element&&s.name===e.name?e.newValue=s.newValue:vt(s)&&vt(e)?(e.viewTop=s.viewTop,e.viewLeft=s.viewLeft,e.scale=s.scale,e.oldScale=s.oldScale):st(s)&&St(e)||t.push(s);else t.push(s);return e=t.filter(s=>!s.isNull())},It=function(){for(let e=0,t;t=sa[e];e++)t.recordUndo=!1},n.disable$$module$build$src$core$events$utils=function(){v1++},n.enable$$module$build$src$core$events$utils=function(){v1--},Qt=function(){return v1===0},n.getGroup$$module$build$src$core$events$utils=function(){return Q4},n.setGroup$$module$build$src$core$events$utils=function(e){e2.setGroupInternal(e)},cn=function(e){Q4=typeof e=="boolean"?e?Ke():"":e},Hn=function(e){const t=[];e=e.getDescendants(!1);for(let s=0,u;u=e[s];s++)t[s]=u.id;return t},mn=function(e,t){const s=sn(e.type);if(!s)throw Error("Unknown event type.");return s.fromJson(e,t)},sn=function(e){const t=y(Ht.EVENT,e);if(!t)throw Error(`Event type ${e} not found in registry.`);return t},qn=function(e){if((Ot(e)||Pt(e))&&e.workspaceId){var t=nt(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=t.getBlockById(e.blockId)){const s=bh;try{bh=!1;const u=e.getParent();if(u&&!u.hasDisabledReason(vh)){const v=e.getDescendants(!1);for(let M=0,re;re=v[M];M++)re.setDisabledReason(!1,vh)}else if((e.outputConnection||e.previousConnection)&&!t.isDragging())do e.setDisabledReason(!0,vh),e=e.getNextBlock();while(e)}finally{bh=s}}}},ct=function(e,t,s){e=document.createElementNS(T1,`${e}`);for(const u in t)e.setAttribute(u,`${t[u]}`);return s&&s.appendChild(e),e},rn=function(e,t){return t=t.split(" "),t.every(s=>e.classList.contains(s))?!1:(e.classList.add(...t),!0)},Br=function(e,t){e.classList.remove(...t.split(" "))},Zn=function(e,t){return t=t.split(" "),t.every(s=>!e.classList.contains(s))?!1:(e.classList.remove(...t),!0)},mr=function(e,t){return e.classList.contains(t)},un=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},$i=function(e,t){const s=t.nextSibling;if(t=t.parentNode,!t)throw Error("Reference node has no parent.");s?t.insertBefore(e,s):t.appendChild(e)},wi=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},nr=function(){Th++,u0||(u0=Object.create(null))},es=function(){Th--,Th||(u0=null)},li=function(e){const t=e.textContent+`
`+e.className.baseVal;var s;return u0&&(s=u0[t])||(s=window.getComputedStyle(e),s=Xn(e,s.fontSize,s.fontWeight,s.fontFamily),u0&&(u0[t]=s)),s},rr=function(e,t,s,u){return Xn(e,t+"pt",s,u)},Xn=function(e,t,s,u){const v=e.textContent;e=v+`
`+e.className.baseVal;var M;return u0&&(M=u0[e])||(vu||(M=document.createElement("canvas"),M.className="blocklyComputeCanvas",document.body.appendChild(M),vu=M.getContext("2d")),v&&vu?(vu.font=s+" "+t+" "+u,M=vu.measureText(v).width):M=0,u0&&(u0[e]=M)),M},O=function(e,t,s,u){const v=document.createElement("span");v.style.font=s+" "+t+" "+u,v.textContent=e,e=document.createElement("div"),e.style.width="1px",e.style.height="0",t=document.createElement("div"),t.style.display="flex",t.style.position="fixed",t.style.top="0",t.style.left="0",t.appendChild(v),t.appendChild(e),document.body.appendChild(t),s={height:0,baseline:0};try{t.style.alignItems="baseline",s.baseline=e.offsetTop-v.offsetTop,t.style.alignItems="flex-end",s.height=e.offsetTop-v.offsetTop}finally{document.body.removeChild(t)}return s},n.getFocusManager$$module$build$src$core$focus_manager=function(){return ko.getFocusManager()},ne=function(e){return e&&typeof e.getFocusableElement=="function"&&typeof e.getFocusableTree=="function"&&typeof e.onNodeFocus=="function"&&typeof e.onNodeBlur=="function"&&typeof e.canBeFocused=="function"},Ie=function(e){return ne(e)&&typeof e.id=="string"&&typeof e.workspace=="object"&&typeof e.select=="function"&&typeof e.unselect=="function"},Be=function(e,t){for(const s in t)t[s]!==null&&Array.isArray(t[s])?e[s]=Be(e[s]||[],t[s]):e[s]=t[s]!==null&&typeof t[s]=="object"?Be(e[s]||Object.create(null),t[s]):t[s];return e},nt=function(e){return yh[e]||null},Ye=function(){const e=[];for(const t in yh)e.push(yh[t]);return e},yt=function(e){yh[e.id]=e},xt=function(e){delete yh[e.id]},L=function(){return n2},ae=function(e){n2=e},ze=function(){const e=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();return e&&Ie(e)?e:null},Pe=function(e){n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)},Dt=function(e){const t=ze();let s,u,v,M;const re=new(sn(mt.SELECTED))((s=t?.id)!=null?s:null,(u=e?.id)!=null?u:null,(M=(v=e?.workspace.id)!=null?v:t?.workspace.id)!=null?M:"");de(re)},Sn=function(){return la},Ar=function(e){la=e},Y=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;const t=e.getParentSvg(),s=e.getCachedParentSvgSize();var u=t.parentElement;if(u instanceof HTMLElement){var v=u.offsetWidth;u=u.offsetHeight,s.width!==v&&(t.setAttribute("width",v+"px"),e.setCachedParentSvgSize(v,null)),s.height!==u&&(t.setAttribute("height",u+"px"),e.setCachedParentSvgSize(null,u)),e.resize()}},ve=function(e,t){const s=Object.create(null),u=e.getDescendants(!0);t&&(e=e.getNextBlock())&&(e=u.indexOf(e),u.splice(e,u.length-e));for(let v=0,M;M=u[v];v++)s[M.type]?s[M.type]++:s[M.type]=1;return s},R=function(e){return function(){this.jsonInit(e)}},j=function(e){r2.defineBlocksWithJsonArrayInternal(e)},Ee=function(e){n.defineBlocks$$module$build$src$core$common(n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(e))},n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(e){const t={};for(let s=0;s<e.length;s++){const u=e[s];if(!u){console.warn(`Block definition #${s} in JSON array is ${u}. Skipping`);continue}const v=u.type;v?t[v]={init:R(u)}:console.warn(`Block definition #${s} in JSON array is missing a type attribute. Skipping.`)}return t},n.defineBlocks$$module$build$src$core$common=function(e){for(const t of Object.keys(e)){const s=e[t];t in Ts&&console.warn(`Block definition "${t}" overwrites previous definition.`),Ts[t]=s}},Fe=function(e){let t=L();const s=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedTree();for(const u of Ye())if(s===u){t=u;break}!De(e)&&t&&(!t.rendered||t.isFlyout||t.isVisible())&&qi.registry.onKeyDown(t,e)},Mt=function(e,t){return t=e.indexOf(t),t===-1?!1:(e.splice(t,1),!0)},dn=function(e){if(Nd)throw Error("CSS already injected");Md+=`
`+e},Mn=function(e,t){Nd||(Nd=!0,e&&(e=t.replace(/[\\/]$/,""),t=Md.replace(/<<<PATH>>>/g,e),Md="",e=document.createElement("style"),e.id="blockly-common-style",t=document.createTextNode(t),e.appendChild(t),document.head.insertBefore(e,document.head.firstChild)))},hr=function(e){return Od.getSizeInternal(e)},xs=function(e){if(_r(e,"display")!=="none")return ts(e);const t=e.style,s=t.display,u=t.visibility,v=t.position;t.visibility="hidden",t.position="absolute",t.display="inline";const M=e.offsetWidth;return e=e.offsetHeight,t.display=s,t.position=v,t.visibility=u,new Sr(M,e)},ts=function(e){return new Sr(e.offsetWidth,e.offsetHeight)},_r=function(e,t){return e=window.getComputedStyle(e),e[t]||e.getPropertyValue(t)},B=function(e){const t=new qt(0,0);e=e.getBoundingClientRect();var s=document.documentElement;return s=new qt(window.pageXOffset||s.scrollLeft,window.pageYOffset||s.scrollTop),t.x=e.left+s.x,t.y=e.top+s.y,t},W=function(){const e=document.body,t=document.documentElement;return new qt(e.scrollLeft||t.scrollLeft,e.scrollTop||t.scrollTop)},en=function(e){const t=parseFloat(_r(e,"borderLeftWidth")),s=parseFloat(_r(e,"borderRightWidth")),u=parseFloat(_r(e,"borderTopWidth"));return e=parseFloat(_r(e,"borderBottomWidth")),new Tr(u,e,t,s)},x=function(e,t,s){e=U(e,t,s),t.scrollLeft=e.x,t.scrollTop=e.y},U=function(e,t,s){var u=B(e),v=B(t),M=en(t);const re=u.x-v.x-M.left;return u=u.y-v.y-M.top,v=ts(e),e=t.clientWidth-v.width,v=t.clientHeight-v.height,M=t.scrollLeft,t=t.scrollTop,s?(M+=re-e/2,t+=u-v/2):(M+=Math.min(re,Math.max(re-e,0)),t+=Math.min(u,Math.max(u-v,0))),new qt(M,t)},Z=function(e){const t=new qt(0,0);var s=e.x&&e.getAttribute("x");const u=e.y&&e.getAttribute("y");return s&&(t.x=parseInt(s)),u&&(t.y=parseInt(u)),(s=(s=e.getAttribute("transform"))&&s.match(_h))&&(t.x+=Number(s[1]),s[3]&&(t.y+=Number(s[3]))),(e=e.getAttribute("style"))&&e.includes("translate")&&(e=e.match(l2))&&(t.x+=Number(e[1]),e[3]&&(t.y+=Number(e[3]))),t},J=function(e){let t=0,s=0;for(;e;){const u=Z(e);if(t+=u.x,s+=u.y,(" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv "))break;e=e.parentNode}return new qt(t,s)},ke=function(){const e=W();return new Tr(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},ee=function(){const e=document.documentElement,t=window;return new qt(t.pageXOffset||e.scrollLeft,t.pageYOffset||e.scrollTop)},Ce=function(e,t){var s=t.x;t=t.y;const u=e.getInjectionDiv().getBoundingClientRect();return s=new qt(s-u.left,t-u.top),t=e.getOriginOffsetInPixels(),qt.difference(s,t).scale(1/e.scale)},qe=function(e,t){var s=t.scale(e.scale);t=s.x,s=s.y;const u=e.getInjectionDiv().getBoundingClientRect();return e=e.getOriginOffsetInPixels(),new qt(t+u.left+e.x,s+u.top+e.y)},rt=function(e){({document:Rd=Rd,DOMParser:y1=y1,XMLSerializer:_1=_1}=e),Eh=new y1,ao=new _1},n.createElement$$module$build$src$core$utils$xml=function(e){return Rd.createElementNS(ys,e)},n.createTextNode$$module$build$src$core$utils$xml=function(e){return Rd.createTextNode(e)},n.textToDom$$module$build$src$core$utils$xml=function(e){let t=Eh.parseFromString(e,"text/xml");if(t&&t.documentElement&&!t.getElementsByTagName("parsererror").length)return t.documentElement;if((t=Eh.parseFromString(e,"text/html"))&&t.body.firstChild&&t.body.firstChild.nodeName.toLowerCase()==="xml")return t.body.firstChild;throw Error(`DOMParser was unable to parse: ${e}`)},lt=function(e){return ie(ao.serializeToString(e))},ie=function(e){return e.replace($l,t=>`&#${t.charCodeAt(0)};`)},Bt=function(e){return e?((e instanceof Element||typeof e=="string")&&(e=$n(e),e=Pn(e)),Ae(e),e):null},Ae=function(e){const t=e.kind;if(e=e.contents,t&&t!==a2&&t!==Ld)throw Error("Invalid toolbox kind "+t+". Please supply either "+a2+" or "+Ld);if(!e)throw Error("Toolbox must have a contents attribute.")},In=function(e){return e?e.contents?e.contents:Array.isArray(e)&&e.length>0&&!e[0].nodeType?e:ns(e):[]},On=function(e){return k3.hasCategoriesInternal(e)},Pr=function(e){if(!e)return!1;const t=e.kind;return t?t===Ld:!!e.contents.filter(s=>s.kind.toUpperCase()==="CATEGORY").length},pr=function(e){return e&&e.contents?!!e.contents.filter(function(t){return t.kind.toUpperCase()==="CATEGORY"}).length:!1},Pn=function(e){const t={contents:ns(e)};return e instanceof Node&&ai(e,t),t},ns=function(e){const t=[];let s=e.childNodes;s||(s=e);for(let u=0,v;v=s[u];u++){if(!v.tagName)continue;e={};const M=v.tagName.toUpperCase();e.kind=M,M==="BLOCK"?e.blockxml=v:v.childNodes&&v.childNodes.length>0&&(e.contents=ns(v)),ai(v,e),t.push(e)}return t},ai=function(e,t){for(let s=0;s<e.attributes.length;s++){const u=e.attributes[s];u.nodeName.includes("css-")?(t.cssconfig=t.cssconfig||{},t.cssconfig[u.nodeName.replace("css-","")]=u.value):t[u.nodeName]=u.value}},$n=function(e){let t=null;if(e)if(typeof e=="string"){if(t=n.textToDom$$module$build$src$core$utils$xml(e),t.nodeName.toLowerCase()!=="xml")throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(t=e);return t},kr=function(e,t,s,u,v,M){const re=M.scrollbar&&M.scrollbar.canScrollVertically();return e.horizontal===Yo.LEFT?(s=v.absoluteMetrics.left+s,re&&M.RTL&&(s+=As.scrollbarThickness)):(s=v.absoluteMetrics.left+v.viewMetrics.width-t.width-s,re&&!M.RTL&&(s-=As.scrollbarThickness)),e.vertical===qs.TOP?e=v.absoluteMetrics.top+u:(e=v.absoluteMetrics.top+v.viewMetrics.height-t.height-u,M.scrollbar&&M.scrollbar.canScrollHorizontally()&&(e-=As.scrollbarThickness)),new Tr(e,e+t.height,s,s+t.width)},Rs=function(e,t){return{horizontal:t.toolboxMetrics.position===xr.LEFT||e.horizontalLayout&&!e.RTL?Yo.RIGHT:Yo.LEFT,vertical:t.toolboxMetrics.position===xr.BOTTOM?qs.TOP:qs.BOTTOM}},ui=function(e,t,s,u){const v=e.left,M=e.right-e.left,re=e.bottom-e.top;for(let Re=0;Re<u.length;Re++){const Ut=u[Re];e.intersects(Ut)&&(e=s===Ga.UP?Ut.top-re-t:Ut.bottom+t,e=new Tr(e,e+re,v,v+M),Re=-1)}return e},Or=function(e,t){a(Ht.SERIALIZER,e,t)},tn=function(e){p(Ht.SERIALIZER,e)},me=function(e,{addCoordinates:t=!1,saveIds:s=!0}={}){const u=e.workspace,v=Object.create(null);return v.height=e.getSize().height,v.width=e.getSize().width,s&&(v.id=e.id),t&&(t=e.getRelativeToSurfaceXY(),v.x=u.RTL?u.getWidth()-t.x:t.x,v.y=t.y),e.getText()&&(v.text=e.getText()),e.isCollapsed()&&(v.collapsed=!0),e.isOwnEditable()||(v.editable=!1),e.isOwnMovable()||(v.movable=!1),e.isOwnDeletable()||(v.deletable=!1),v},Ni=function(e,t,{recordUndo:s=!1}={}){const u=an();if(n.setRecordUndo$$module$build$src$core$events$utils(s),s=t.newComment(e.id),e.text!==void 0&&s.setText(e.text),e.x!==void 0||e.y!==void 0){const M=s.getRelativeToSurfaceXY();let re,Re=(re=e.x)!=null?re:M.x;Re=t.RTL?t.getWidth()-Re:Re;var v;t=(v=e.y)!=null?v:M.y,s.moveTo(new qt(Re,t))}if(e.width!==void 0||e.height){v=s.getSize();let M,re;s.setSize(new Sr((M=e.width)!=null?M:v.width,(re=e.height)!=null?re:v.height))}return e.collapsed!==void 0&&s.setCollapsed(e.collapsed),e.editable!==void 0&&s.setEditable(e.editable),e.movable!==void 0&&s.setMovable(e.movable),e.deletable!==void 0&&s.setDeletable(e.deletable),n.setRecordUndo$$module$build$src$core$events$utils(u),s},ms=function(e,t){a(Ht.PASTER,e,t)},gr=function(e){p(Ht.PASTER,e)},Fr=function(e){const t=e.workspace,s=e.getRelativeToSurfaceXY(),u=new qt(0,0),v=t.getTopComments(!1).filter(M=>M.id!==e.id).map(M=>M.getRelativeToSurfaceXY());for(;_n(qt.sum(s,u),v);)u.translate(t.RTL?-30:30,30);e.moveTo(qt.sum(s,u))},_n=function(e,t){return t.some(s=>Math.abs(s.x-e.x)<=1&&Math.abs(s.y-e.y)<=1)},sr=function(e,t){e.setAttribute(wh,t)},Wr=function(e,t,s){Array.isArray(s)&&(s=s.join(" ")),e.setAttribute(I3+t,`${s}`)},xa=function(e){return e&&typeof e.saveState=="function"&&typeof e.loadState=="function"},Ks=function(e){return P(e),C()?(V(),Promise.resolve()):(Eu||(Eu=new Promise(t=>{R0=t,Ps=window.requestAnimationFrame(()=>{V(),t()})})),Eu)},Qn=function(){return Eu||Promise.resolve()},d=function(e){e||window.cancelAnimationFrame(Ps),V(e),!e&&R0&&R0()},C=function(){return j4},P=function(e){da.add(e),_u.set(e,n.getGroup$$module$build$src$core$events$utils());const t=e.getParent();t?P(t):Jo.add(e)},V=function(e){const t=e?new Set([e]):new Set([...Jo].map(M=>M.workspace)),s=[...Jo].filter(fe).filter(M=>t.has(M.workspace));for(var u of s)Me(u);for(const M of t)M.resizeContents();for(var v of s)u=v.getRelativeToSurfaceXY(),v.updateComponentLocations(u);for(const M of s)v=n.getGroup$$module$build$src$core$events$utils(),(u=_u.get(M))&&n.setGroup$$module$build$src$core$events$utils(u),M.bumpNeighbours(),n.setGroup$$module$build$src$core$events$utils(v);for(const M of s)oe(M);e||(Eu=null)},oe=function(e){Jo.delete(e),da.delete(e),_u.delete(e);for(const t of e.getChildren(!1))oe(t)},fe=function(e){return!e.isDisposed()&&!e.getParent()},Me=function(e){if(da.has(e)&&e.initialized){for(const t of e.getChildren(!1))Me(t);e.renderEfficiently()}},be=function(e,t){Sh(e,t)},pt=function(e=Hd){Sh=e},At=function(e,t){xh(e,t)},Tt=function(e=c2){xh=e},gn=function(e,t,s){Xa(e,t,s)},jt=function(e=Ch){Xa=e},on=function(e,t){ja(e,t)},An=function(e=ho){ja=e},yn=function(e){return e&&typeof e.getProcedureDef=="function"},zt=function(e){return e&&typeof e.getProcedureCall=="function"&&typeof e.renameProcedure=="function"},or=function(e){return e.getVariableModel!==void 0},Vn=function(e,t,s,u){e=e+" was deprecated in "+t+" and will be deleted in "+s+".",u&&(e+=`
Use `+u+" instead."),fa.has(e)||(fa.add(e),console.warn(e))},n.allUsedVarModels$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let s=0;s<e.length;s++){const u=e[s].getVarModels();if(u)for(let v=0;v<u.length;v++){const M=u[v];M.getId()&&t.add(M)}}return Array.from(t.values())},n.allDeveloperVariables$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let u=0,v;v=e[u];u++){var s=v.getDeveloperVariables;if(s){s=s();for(let M=0;M<s.length;M++)t.add(s[M])}}return Array.from(t.values())},er=function(e){return Ur(e,!1)},Ur=function(e,t=!0){return Ts.variables_set||Ts.variables_get||console.warn("There are no variable blocks, but there is a variable category."),t?(Vn("The XML return value of Blockly.Variables.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),Js(e)):(e.registerButtonCallback("CREATE_VARIABLE",function(s){Hi(s.getTargetWorkspace())}),[{kind:"button",text:"%{BKY_NEW_VARIABLE}",callbackkey:"CREATE_VARIABLE"},...ni(e,e.getVariableMap().getVariablesOfType(""),!0)])},ar=function(e){return{VAR:{name:e.getName(),type:e.getType()}}},ni=function(e,t,s,u="variables_get",v="variables_set"){s&&(s=Ts.math_change),e=[];const M=t.slice(-1)[0];return M&&(Ts[v]&&e.push({kind:"block",type:v,gap:s?8:24,fields:ar(M)}),s&&e.push({kind:"block",type:"math_change",gap:Ts[u]?20:8,fields:ar(M),inputs:{DELTA:{shadow:{type:"math_number",fields:{NUM:1}}}}})),Ts[u]&&e.push(...t.sort(Jt).map(re=>({kind:"block",type:u,gap:8,fields:ar(re)}))),e},Js=function(e){let t=[];const s=document.createElement("button");return s.setAttribute("text","%{BKY_NEW_VARIABLE}"),s.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(u){Hi(u.getTargetWorkspace())}),t.push(s),e=ls(e),t=t.concat(e)},ls=function(e){e=e.getVariableMap().getVariablesOfType("");const t=[];if(e.length>0){var s=e[e.length-1];if(Ts.variables_set){var u=n.createElement$$module$build$src$core$utils$xml("block");u.setAttribute("type","variables_set"),u.setAttribute("gap",Ts.math_change?"8":"24"),u.appendChild(ii(s)),t.push(u)}if(Ts.math_change&&(u=n.createElement$$module$build$src$core$utils$xml("block"),u.setAttribute("type","math_change"),u.setAttribute("gap",Ts.variables_get?"20":"8"),u.appendChild(ii(s)),s=n.textToDom$$module$build$src$core$utils$xml('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),u.appendChild(s),t.push(u)),Ts.variables_get){e.sort(Jt);for(let v=0,M;M=e[v];v++)s=n.createElement$$module$build$src$core$utils$xml("block"),s.setAttribute("type","variables_get"),s.setAttribute("gap","8"),s.appendChild(ii(M)),t.push(s)}}return t},Gn=function(e){return S1.generateUniqueNameInternal(e)},ci=function(e){return Mi(Gd.charAt(0),e.getVariableMap().getAllVariables().map(t=>t.getName()))},Mi=function(e,t){if(!t.length)return e;const s=Gd;let u="",v=s.indexOf(e);for(;;){let M=!1;for(let re=0;re<t.length;re++)if(t[re].toLowerCase()===e){M=!0;break}if(!M)break;v++,v===s.length&&(v=0,u=`${Number(u)+1}`),e=s.charAt(v)+u}return e},Hi=function(e,t,s){function u(M){rs(n.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,M,function(re){if(re){var Re=Kn(re,e);if(Re){if(Re.getType()===v)var Ut=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace("%1",Re.getName());else Ut=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,Ut=Ut.replace("%1",Re.getName()).replace("%2",Re.getType());be(Ut,function(){u(re)})}else e.getVariableMap().createVariable(re,v),t&&t(re)}else t&&t(null)})}const v=s||"";u("")},n.renameVariable$$module$build$src$core$variables=function(e,t,s){function u(v){const M=n.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace("%1",t.getName());rs(M,v,function(re){if(re){var Re=ri(re,t.getType(),e),Ut=Zr(t.getName(),re,e);if(Re||Ut){var Wn="";Re?Wn=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",Re.getName()).replace("%2",Re.getType()):Ut&&(Wn=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",re).replace("%2",Ut)),be(Wn,function(){u(re)})}else e.getVariableMap().renameVariable(t,re),s&&s(re)}else s&&s(null)})}u("")},rs=function(e,t,s){gn(e,t,function(u){u&&(u=u.replace(/[\s\xa0]+/g," ").trim(),u===n.Msg$$module$build$src$core$msg.RENAME_VARIABLE||u===n.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(u=null),s(u)})},ri=function(e,t,s){s=s.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let u=0,v;v=s[u];u++)if(v.getName().toLowerCase()===e&&v.getType()!==t)return v;return null},Kn=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let s=0,u;u=t[s];s++)if(u.getName().toLowerCase()===e)return u;return null},Zr=function(e,t,s){return s.getProcedureMap().getProcedures().length?bi(e,t,s):po(e,t,s)},bi=function(e,t,s){e=e.toLowerCase(),t=t.toLowerCase(),s=s.getProcedureMap().getProcedures();for(const v of s){var u=v.getParameters().filter(or).map(M=>M.getVariableModel().getName());if(u&&(s=u.some(M=>M.toLowerCase()===e),u=u.some(M=>M.toLowerCase()===t),s&&u))return v.getName()}return null},po=function(e,t,s){e=e.toLowerCase(),t=t.toLowerCase(),s=s.getAllBlocks(!1);for(const v of s){if(!yn(v))continue;s=v.getProcedureDef();var u=s[1];const M=u.some(re=>re.toLowerCase()===e);if(u=u.some(re=>re.toLowerCase()===t),M&&u)return s[0]}return null},ii=function(e){const t=n.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name","VAR"),t.setAttribute("id",e.getId()),t.setAttribute("variabletype",e.getType()),e=n.createTextNode$$module$build$src$core$utils$xml(e.getName()),t.appendChild(e),t},n.getOrCreateVariablePackage$$module$build$src$core$variables=function(e,t,s,u){let v=n.getVariable$$module$build$src$core$variables(e,t,s,u);return v||(v=Us(e,t,s,u)),v},n.getVariable$$module$build$src$core$variables=function(e,t,s,u){const v=e.getPotentialVariableMap();let M=null;if(t&&(M=e.getVariableById(t),!M&&v&&(M=v.getVariableById(t)),M))return M;if(s){if(u===void 0)throw Error("Tried to look up a variable by name without a type");M=e.getVariable(s,u),!M&&v&&(M=v.getVariable(s,u))}return M},Us=function(e,t,s,u){const v=e.getVariableMap(),M=e.getPotentialVariableMap();return s||(s=Gn(e.isFlyout?e.targetWorkspace:e)),M?M.createVariable(s,u,t??void 0):v.createVariable(s,u,t)},wo=function(e,t){e=e.getAllVariables();const s=[];if(t.length!==e.length)for(let u=0;u<e.length;u++){const v=e[u];t.includes(v)||s.push(v)}return s},Jt=function(e,t){return e.getName().localeCompare(t.getName(),void 0,{sensitivity:"base"})},Oi=function(e,t){const s=[];e=e.getAllBlocks(!1);for(let u=0;u<e.length;u++){const v=e[u].getVarModels();if(v)for(let M=0;M<v.length;M++)v[M].getId()===t&&s.push(e[u])}return s},n.deleteVariable$$module$build$src$core$variables=function(e,t,s){var u=t.getName();const v=Oi(e,t.getId());for(let M=v.length-1;M>=0;M--){const re=v[M];if(re.type==="procedures_defnoreturn"||re.type==="procedures_defreturn"){s=String(re.getFieldValue("NAME")),u=n.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",u).replace("%2",s),be(u);return}re===s&&v.splice(M,1)}s&&v.length||v.length>1?(u=n.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(v.length+(s&&!s.workspace.isFlyout?1:0))).replace("%2",u),At(u,M=>{M&&t&&e.getVariableMap().deleteVariable(t)})):e.getVariableMap().deleteVariable(t)},ji=function(e,{addCoordinates:t=!1,addInputBlocks:s=!0,addNextBlocks:u=!0,doFullSerialization:v=!0,saveIds:M=!0}={}){if(e.isInsertionMarker())return null;const re={type:e.type,id:M?e.id:void 0};return t&&r0(e,re),n0(e,re),zs(e,re,v),Ls(e,re,v),Yr(e,re,v),s&&Cs(e,re,v,M),u&&Wo(e,re,v,M),re},n0=function(e,t){e.isCollapsed()&&(t.collapsed=!0),e.isEnabled()||(t.disabledReasons=Array.from(e.getDisabledReasons())),e.isOwnDeletable()||(t.deletable=!1),e.isOwnMovable()||(t.movable=!1),e.isOwnEditable()||(t.editable=!1),e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&(t.inline=e.inputsInline),e.data&&(t.data=e.data)},r0=function(e,t){const s=e.workspace;e=e.getRelativeToSurfaceXY(),t.x=Math.round(s.RTL?s.getWidth()-e.x:e.x),t.y=Math.round(e.y)},zs=function(e,t,s){e.saveExtraState?(e=e.saveExtraState(s),e!==null&&(t.extraState=e)):e.mutationToDom&&(e=e.mutationToDom(),e!==null&&(t.extraState=ss(e).replace(' xmlns="https://developers.google.com/blockly/xml"',"")))},Ls=function(e,t,s){const u=Object.create(null);for(const v of e.getIcons())xa(v)&&(e=v.saveState(s))&&(u[v.getType().toString()]=e);Object.keys(u).length&&(t.icons=u)},Yr=function(e,t,s){const u=Object.create(null);for(const v of e.getFields())v.isSerializable()&&(u[v.name]=v.saveState(s));Object.keys(u).length&&(t.fields=u)},Cs=function(e,t,s,u){const v=Object.create(null);for(let M=0;M<e.inputList.length;M++){const re=e.inputList[M];if(!re.connection)continue;const Re=Ol(re.connection,s,u);Re&&(v[re.name]=Re)}Object.keys(v).length&&(t.inputs=v)},Wo=function(e,t,s,u){e.nextConnection&&(e=Ol(e.nextConnection,s,u))&&(t.next=e)},Ol=function(e,t,s){const u=e.getShadowState(!0);if(e=e.targetBlock(),!u&&!e)return null;const v=Object.create(null);return u&&(v.shadow=u),e&&!e.isShadow()&&(v.block=ji(e,{doFullSerialization:t,saveIds:s})),v},Rl=function(e,t,{recordUndo:s=!1}={}){return e=Ll(e,t,{recordUndo:s}),t.rendered&&d(),e},Ll=function(e,t,{parentConnection:s,isShadow:u=!1,recordUndo:v=!1}={}){const M=an();n.setRecordUndo$$module$build$src$core$events$utils(v),(v=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0),n.disable$$module$build$src$core$events$utils();const re=t.getAllVariables();let Re;try{Re=ou(e,t,{parentConnection:s,isShadow:u})}finally{n.enable$$module$build$src$core$events$utils()}if(mo(t,re),Qt()&&de(new(sn(mt.BLOCK_CREATE))(Re)),n.setGroup$$module$build$src$core$events$utils(v),n.setRecordUndo$$module$build$src$core$events$utils(M),t.rendered){const Ut=Re;setTimeout(()=>{Ut.disposed||Ut.setConnectionTracking(!0)},1)}return Re},ou=function(e,t,{parentConnection:s,isShadow:u=!1}={}){if(!e.type)throw new h2(e);const v=t.newBlock(e.type,e.id);return v.setShadow(u),Yc(v,e),Kc(v,e),sh(v,e),Zu(s,v,e),cl(v,e),br(v,e),lu(v,e),W0(v,e),Qu(v,t.rendered),v},mo=function(e,t){if(Qt())for(e=wo(e,t),t=0;t<e.length;t++){const s=e[t];de(new(sn(mt.VAR_CREATE))(s))}},Yc=function(e,t){let s=t.x===void 0?0:t.x;t=t.y===void 0?0:t.y;const u=e.workspace;s=u.RTL?u.getWidth()-s:s,e.moveBy(s,t)},Kc=function(e,t){if(t.collapsed&&e.setCollapsed(!0),t.deletable===!1&&e.setDeletable(!1),t.movable===!1&&e.setMovable(!1),t.editable===!1&&e.setEditable(!1),t.enabled===!1&&e.setDisabledReason(!0,$r),Array.isArray(t.disabledReasons))for(const s of t.disabledReasons)e.setDisabledReason(!0,s);t.inline!==void 0&&e.setInputsInline(t.inline),t.data!==void 0&&(e.data=t.data)},sh=function(e,t){t.extraState&&(e.loadExtraState?e.loadExtraState(t.extraState):e.domToMutation&&e.domToMutation(n.textToDom$$module$build$src$core$utils$xml(t.extraState)))},Zu=function(e,t,s){if(e){if(e.getSourceBlock().isShadow()&&!t.isShadow())throw new f2(s);if(e.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var u=t.outputConnection;if(!u)throw new Ao("output",t,s)}else if(u=t.previousConnection,!u)throw new Ao("previous",t,s);if(!e.connect(u)){const v=t.workspace.connectionChecker;throw new d2(v.getErrorMessage(v.canConnectWithReason(u,e,!1),u,e),e.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE?"output connection":"previous connection",t,s)}}},cl=function(e,t){if(t.icons){var s=Object.keys(t.icons);for(const v of s){s=t.icons[v];var u=e.getIcon(v);if(!u){if(u=y(Ht.ICON,v,!1),!u)throw new A3(v,e,t);u=new u(e),e.addIcon(u)}xa(u)&&u.loadState(s)}}},br=function(e,t){if(t.fields){var s=Object.keys(t.fields);for(let u=0;u<s.length;u++){const v=s[u],M=t.fields[v],re=e.getField(v);re?re.loadState(M):console.warn(`Ignoring non-existant field ${v} in block ${e.type}`)}}},lu=function(e,t){if(t.inputs){var s=Object.keys(t.inputs);for(let u=0;u<s.length;u++){const v=s[u],M=e.getInput(v);if(!M||!M.connection)throw new Ao(v,e,t);Ca(M.connection,t.inputs[v])}}},W0=function(e,t){if(t.next){if(!e.nextConnection)throw new Ao("next",e,t);Ca(e.nextConnection,t.next)}},Ca=function(e,t){t.shadow&&e.setShadowState(t.shadow),t.block&&ou(t.block,e.getSourceBlock().workspace,{parentConnection:e})},Qu=function(e,t){if(t){e.setConnectionTracking(!1),e.initSvg(),e.queueRender();for(const s of e.getIcons())s.onLocationChange(e.getRelativeToSurfaceXY())}else e.initModel()},$0=function(e){return typeof e.bubbleIsVisible=="function"&&typeof e.setBubbleVisible=="function"&&typeof e.getBubble=="function"},b0=function(e){return e*Math.PI/180},Jc=function(e){return e*180/Math.PI},v0=function(e,t,s){if(s<e){const u=s;s=e,e=u}return Math.max(e,Math.min(t,s))},ka=function(){document.querySelector(".blocklyDropDownDiv")||(fs=document.createElement("div"),fs.className="blocklyDropDownDiv",fs.tabIndex=-1,(Sn()||document.body).appendChild(fs),x1=document.createElement("div"),x1.className="blocklyDropDownContent",fs.appendChild(x1),xc=se(x1,"keydown",null,Fe),Cu=document.createElement("div"),Cu.className="blocklyDropDownArrow",fs.appendChild(Cu),fs.style.opacity="0",fs.style.transition="transform "+qd+"s, opacity "+qd+"s")},q0=function(e){Xd=e},ec=function(){return Ya},T0=function(){return x1},Dl=function(){xc&&(Oe(xc),xc=null),fs.remove(),ka()},tc=function(e,t){fs.style.backgroundColor=e,fs.style.borderColor=t},nc=function(e,t,s,u,v=!0){return X0(Ia(t),e,v,s,u)},au=function(e,t,s,u=!0){return $2=!0,X0(Aa(e),e,u,t,s)},Ia=function(e){var t=e.getSvgRoot();const s=e.workspace.scale,u=e.height*s;return e=e.width*s,t=B(t),new Tr(t.y,t.y+u,t.x,t.x+e)},Aa=function(e){return e=e.getScaledBBox(),new Tr(e.top,e.bottom,e.left,e.right)},X0=function(e,t,s,u,v){const M=e.left+(e.right-e.left)/2,re=e.bottom;e=e.top,v&&(e+=v),v=t.getSourceBlock();let Re=v.workspace;for(;Re.options.parentWorkspace;)Re=Re.options.parentWorkspace;return q0(Re.getParentSvg().parentNode),Bl(t,v.RTL,M,re,M,e,s,u)},Bl=function(e,t,s,u,v,M,re,Re){return Ya=e,xu=Re||null,fs.style.direction=t?"rtl":"ltr",e=L(),g2=e.getRenderer().getClassName(),Sc=e.getTheme().getClassName(),rn(fs,g2),rn(fs,Sc),s=Qe(s,u,v,M),re&&(Oh=n.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(fs)),s},Na=function(e,t,s,u){return e=T(e,s.left,s.right,u.width),{initialX:e.divX,initialY:t,finalX:e.divX,finalY:t+p2,arrowX:e.arrowX,arrowY:-9,arrowAtTop:!0,arrowVisible:!0}},uu=function(e,t,s,u){return e=T(e,s.left,s.right,u.width),{initialX:e.divX,initialY:t-u.height,finalX:e.divX,finalY:t-u.height-p2,arrowX:e.arrowX,arrowY:u.height-Mh*2-Nh/2,arrowAtTop:!1,arrowVisible:!0}},hl=function(e,t,s){return e=T(e,t.left,t.right,s.width),{initialX:e.divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},T=function(e,t,s,u){return t=v0(t,e-u/2,s-u),e=e-Nh/2-t,s=Wd,e=v0(s,e,u-s-Nh),{arrowX:e,divX:t}},N=function(){return!!Ya},le=function(e,t){return Ya===e?(t?Ue():Te(),!0):!1},Te=function(){fs.style.transform="translate(0, 0)",fs.style.opacity="0",m2=setTimeout(function(){Ue()},qd*1e3),xu&&(xu(),xu=null)},Ue=function(){N()&&(m2&&clearTimeout(m2),xu&&(xu(),xu=null),Dl(),Ya=null,L().markFocused(),Oh&&(Oh(),Oh=null))},Qe=function(e,t,s,u){e=jd.getPositionMetrics(e,t,s,u),e.arrowVisible?(t=e.arrowX,s=e.arrowY,u=e.arrowAtTop?45:225,Cu.style.display="",Cu.style.transform=`translate(${t}px, ${s}px) rotate(${u}deg)`,Cu.setAttribute("class","blocklyDropDownArrow")):Cu.style.display="none",t=Math.floor(e.initialX),s=Math.floor(e.initialY),u=Math.floor(e.finalX);const v=Math.floor(e.finalY);return fs.style.left=t+"px",fs.style.top=s+"px",fs.style.display="block",fs.style.opacity="1",fs.style.transform="translate("+(u-t)+"px,"+(v-s)+"px)",!!e.arrowAtTop},ht=function(){if(Ya){var e=Ya.getSourceBlock();e=$2?Aa(Ya):Ia(e);const t=e.left+(e.right-e.left)/2;Qe(t,e.bottom,t,e.top)}else Te()},Ct=function(e){return e.length?e.reduce(function(t,s){return t.length<s.length?t:s}).length:0},Wt=function(e,t){if(!e.length)return 0;if(e.length===1)return e[0].length;let s=0;t=t||Ct(e);let u;for(u=0;u<t;u++){for(var v=e[0][u],M=1;M<e.length;M++)if(v!==e[M][u])return s;v===" "&&(s=u+1)}for(v=1;v<e.length;v++)if((M=e[v][u])&&M!==" ")return s;return t},Yt=function(e,t){if(!e.length)return 0;if(e.length===1)return e[0].length;let s=0;t=t||Ct(e);let u;for(u=0;u<t;u++){for(var v=e[0].substr(-u-1,1),M=1;M<e.length;M++)if(v!==e[M].substr(-u-1,1))return s;v===" "&&(s=u+1)}for(v=1;v<e.length;v++)if((M=e[v].charAt(e[v].length-u-1))&&M!==" ")return s;return t},n.wrap$$module$build$src$core$utils$string=function(e,t){e=e.split(`
`);for(let s=0;s<e.length;s++)e[s]=bn(e[s],t);return e.join(`
`)},bn=function(e,t){if(e.length<=t)return e;const s=e.trim().split(/\s+/);for(var u=0;u<s.length;u++)s[u].length>t&&(t=s[u].length);var v=-1/0;let M,re=1;do{u=v,M=e,e=[],v=s.length/re;let Re=1;for(let Ut=0;Ut<s.length-1;Ut++)Re<(Ut+1.5)/v?(Re++,e[Ut]=!0):e[Ut]=!1;e=jn(s,e,t),v=Nt(s,e,t),e=Fn(s,e),re++}while(v>u);return M},Nt=function(e,t,s){const u=[0],v=[];for(var M=0;M<e.length;M++)u[u.length-1]+=e[M].length,t[M]===!0?(u.push(0),v.push(e[M].charAt(e[M].length-1))):t[M]===!1&&u[u.length-1]++;for(e=Math.max(...u),t=0,M=0;M<u.length;M++)t-=Math.pow(Math.abs(s-u[M]),1.5)*2,t-=Math.pow(e-u[M],1.5),".?!".includes(v[M])?t+=s/3:",;)]}".includes(v[M])&&(t+=s/4);return u.length>1&&u[u.length-1]<=u[u.length-2]&&(t+=.5),t},jn=function(e,t,s){let u=Nt(e,t,s),v;for(let M=0;M<t.length-1;M++){if(t[M]===t[M+1])continue;const re=[].concat(t);re[M]=!re[M],re[M+1]=!re[M+1];const Re=Nt(e,re,s);Re>u&&(u=Re,v=re)}return v?jn(e,v,s):t},Fn=function(e,t){const s=[];for(let u=0;u<e.length;u++)s.push(e[u]),t[u]!==void 0&&s.push(t[u]?`
`:" ");return s.join("")},n.isNumber$$module$build$src$core$utils$string=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},Yn=function(e){C1=e},ir=function(){return C1},Er=function(){return Rh},zr=function(){return no},nn=function(e){if(e=Dn(e)){for(e=e.tooltip;typeof e=="function";)e=e();if(typeof e!="string")throw Error("Tooltip function must return a string.");return e}return""},Dn=function(e){for(;e&&e.tooltip;){if(typeof e.tooltip=="string"||typeof e.tooltip=="function")return e;e=e.tooltip}return null},Rr=function(){document.querySelector(".blocklyTooltipDiv")||(no=document.createElement("div"),no.className="blocklyTooltipDiv",(Sn()||document.body).appendChild(no))},ur=function(e){e.mouseOverWrapper_=we(e,"pointerover",null,hi),e.mouseOutWrapper_=we(e,"pointerout",null,Qr),e.addEventListener("pointermove",si,!1)},Kr=function(e){e&&(Oe(e.mouseOverWrapper_),Oe(e.mouseOutWrapper_),e.removeEventListener("pointermove",si))},hi=function(e){Cc||(e=Dn(e.currentTarget),_l!==e&&(Si(),Iu=null,_l=e),clearTimeout(M3))},Qr=function(e){Cc||(M3=setTimeout(function(){Iu=_l=null,Si()},1),clearTimeout(kc),kc=0)},si=function(e){if(_l&&_l.tooltip&&!Cc)if(Rh){const t=k1-e.pageX;e=ku-e.pageY,Math.sqrt(t*t+e*e)>D0&&Si()}else Iu!==_l&&(clearTimeout(kc),k1=e.pageX,ku=e.pageY,kc=setTimeout(Hs,I1))},ei=function(){Iu=_l=null,Si()},Si=function(){Rh&&(Rh=!1,no&&(no.style.display="none")),kc&&(clearTimeout(kc),kc=0)},Hr=function(){Si(),Cc=!0},Vi=function(){Cc=!1},gs=function(){no&&_l&&(typeof C1=="function"?C1(no,_l):ks())},ks=function(){var e=nn(_l);e=n.wrap$$module$build$src$core$utils$string(e,N3),e=e.split(`
`);for(let t=0;t<e.length;t++){const s=document.createElement("div");s.appendChild(document.createTextNode(e[t])),no.appendChild(s)}},xi=function(e){const t=document.documentElement.clientWidth,s=document.documentElement.clientHeight;let u=k1;u=e?u-(Lh+no.offsetWidth):u+Lh;let v=ku+pa;return v+no.offsetHeight>s+window.scrollY&&(v-=no.offsetHeight+2*pa),e?u=Math.max(Yd-window.scrollX,u):u+no.offsetWidth>t+window.scrollX-2*Yd&&(u=t-no.offsetWidth-2*Yd),{x:u,y:v}},Hs=function(){if(!Cc&&(Iu=_l,no)){no.textContent="",gs();var e=_l.RTL;no.style.direction=e?"rtl":"ltr",no.style.display="block",Rh=!0;var{x:t,y:s}=xi(e);no.style.left=t+"px",no.style.top=s+"px"}},go=function(){return Kd},Is=function(e){Kd=e},Nr=function(){return Jd},us=function(e){Jd=e},pe=function(e){e=`${e}`.toLowerCase().trim();var t=O3[e];if(t||(t=e.substring(0,2)==="0x"?"#"+e.substring(2):e,t=t[0]==="#"?t:"#"+t,/^#[0-9a-f]{6}$/.test(t)))return t;if(/^#[0-9a-f]{3}$/.test(t))return["#",t[1],t[1],t[2],t[2],t[3],t[3]].join("");var s=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return s&&(e=Number(s[1]),t=Number(s[2]),s=Number(s[3]),e>=0&&e<256&&t>=0&&t<256&&s>=0&&s<256)?Ci(e,t,s):null},Ci=function(e,t,s){return t=e<<16|t<<8|s,e<16?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},is=function(e){return e=pe(e),e?(e=parseInt(e.substr(1),16),[e>>16,e>>8&255,e&255]):[0,0,0]},dl=function(e,t,s){let u=0,v=0,M=0;if(t===0)M=v=u=s;else{const re=Math.floor(e/60),Re=e/60-re;e=s*(1-t);const Ut=s*(1-t*Re);switch(t=s*(1-t*(1-Re)),re){case 1:u=Ut,v=s,M=e;break;case 2:u=e,v=s,M=t;break;case 3:u=e,v=Ut,M=s;break;case 4:u=t,v=e,M=s;break;case 5:u=s,v=e,M=Ut;break;case 6:case 0:u=s,v=t,M=e}}return Ci(Math.floor(u),Math.floor(v),Math.floor(M))},so=function(e,t,s){return e=pe(e),!e||(t=pe(t),!t)?null:(e=is(e),t=is(t),Ci(Math.round(t[0]+s*(e[0]-t[0])),Math.round(t[1]+s*(e[1]-t[1])),Math.round(t[2]+s*(e[2]-t[2]))))},$o=function(e){return dl(e,Kd,Jd*255)},Zs=function(e,t,s){const u=[];var v=e.split("");v.push("");var M=0;e=[];let re=null;for(let Wn=0;Wn<v.length;Wn++){var Re=v[Wn];if(M===0)if(Re==="%")(M=e.join(""))&&u.push(M),e.length=0,M=1;else if(s&&Re===`
`){const js=e.join("");js&&u.push(js),e.length=0,u.push(Re)}else e.push(Re);else if(M===1)Re==="%"?(e.push(Re),M=0):t&&"0"<=Re&&Re<="9"?(M=2,re=Re,(Re=e.join(""))&&u.push(Re),e.length=0):Re==="{"?M=3:(e.push("%",Re),M=0);else if(M===2)if("0"<=Re&&Re<="9")re+=Re;else{var Ut=void 0;u.push(parseInt((Ut=re)!=null?Ut:"",10)),Wn--,M=0}else M===3&&(Re===""?(e.splice(0,0,"%{"),Wn--,M=0):Re!=="}"?e.push(Re):(M=e.join(""),/[A-Z]\w*/i.test(M)?(Re=M.toUpperCase(),(Re=Re.startsWith("BKY_")?Re.substring(4):null)&&Re in n.Msg$$module$build$src$core$msg?(M=n.Msg$$module$build$src$core$msg[Re],typeof M=="string"?Array.prototype.push.apply(u,Zs(M,t,s)):t?u.push(`${M}`):u.push(M)):u.push("%{"+M+"}")):u.push("%{"+M+"}"),M=e.length=0))}for((t=e.join(""))&&u.push(t),Ut=[],e.length=0,v=0;v<u.length;v++)typeof u[v]!="string"||s&&u[v]===`
`?((t=e.join(""))&&Ut.push(t),e.length=0,Ut.push(u[v])):e.push(u[v]);return(t=e.join(""))&&Ut.push(t),e.length=0,Ut},cs=function(e){return Zs(e,!0,!0)},cr=function(e){return typeof e!="string"?e:(e=Zs(e,!1,!1),e.length?String(e[0]):"")},Qs=function(e){let t=!0;const s=n.Msg$$module$build$src$core$msg,u=e.match(/%{BKY_[A-Z]\w*}/gi);if(u)for(let v=0;v<u.length;v++){const M=u[v].toUpperCase();s[M.slice(6,-1)]===void 0&&(console.warn("No message string for "+u[v]+" in "+e),t=!1)}return t},Ri=function(e){const t=typeof e=="string"?cr(e):e;var s=Number(t);if(!isNaN(s)&&0<=s&&s<=360)return{hue:s,hex:dl(s,go(),Nr()*255)};if(s=pe(t))return{hue:null,hex:s};throw s='Invalid colour: "'+t+'"',e!==t&&(s+=' (from "'+e+'")'),Error(s)},bo=function(){return Sl},i0=function(e){if(Sl=e,e===null){let t;(t=document.querySelector("."+b2))==null||t.remove()}},Pl=function(){const e=Sn()||document.body,t=document.querySelector("div."+b2);t?Sl=t:(Sl=document.createElement("div"),Sl.className=b2,Sl.tabIndex=-1),se(Sl,"keydown",null,Fe),e.appendChild(Sl)},y0=function(e,t,s,u,v=!0){if(Zo(),Au=e,Qd=s,s=Sl){if(s.style.direction=t?"rtl":"ltr",s.style.display="block",!u&&e instanceof Pi){let Re;u=(Re=e.getSourceBlock())==null?void 0:Re.workspace}var M;Zd=(M=u)!=null?M:null;var re;e=(re=u)!=null?re:L(),ma=e.getRenderer().getClassName(),N1=e.getTheme().getClassName(),ma&&rn(s,ma),N1&&rn(s,N1),v&&(Gr=n.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(s))}},Zo=function(){if(rc()){Au=null;var e=Sl;e&&(e.style.display="none",e.style.left="",e.style.top="",Qd&&(Qd(),Qd=null),e.textContent="",ma&&(Zn(e,ma),ma=""),N1&&(Zn(e,N1),N1=""),L().markFocused(),Gr&&(Gr(),Gr=null))}},rc=function(){return!!Au},Fl=function(e){Au===e&&Zo()},fl=function(e){let t=Zd===null,s=e;for(;!t&&s;){if(s===e){t=!0;break}s=e.options.parentWorkspace}t&&Zo()},ic=function(e,t,s){Sl.style.left=e+"px",Sl.style.top=t+"px",Sl.style.height=s+"px"},So=function(e,t,s,u){const v=Ul(e,t,s);e=sc(e,t,s,u),v<0?ic(e,0,s.height+v):ic(e,v,s.height)},sc=function(e,t,s,u){return u?Math.min(Math.max(t.right-s.width,e.left),e.right-s.width):Math.max(Math.min(t.left,e.right-s.width),e.left)},Ul=function(e,t,s){return t.bottom+s.height>=e.bottom?t.top-s.height:t.bottom},nd=function(e){return!(e==null||!e.repositionForWindowResize)},j0=function(){nd(Au)&&Au.repositionForWindowResize()||Zo()},_0=function(){return Ic},cu=function(e){Ic=e},Y0=function(e,t,s,u,v){if(y0(e4,s,oc,u),t.length){v||(e instanceof PointerEvent?v=new qt(e.clientX,e.clientY):(console.warn("Context menu opened with keyboard but no location given"),v=new qt(0,0)));var M=E0(t,s,e,v);Dh=M,Ma(M,s,v),setTimeout(function(){M.focus()},1),Ic=null}else zl()},E0=function(e,t,s,u){const v=new u2;v.setRole(vl.MENU);for(let M=0;M<e.length;M++){const re=e[M];if(re.separator){v.addChild(new Ii);continue}const Re=new Ud(re.text);Re.setRightToLeft(t),Re.setRole(vl.MENUITEM),v.addChild(Re),Re.setEnabled(re.enabled),re.enabled&&Re.onAction(function(Ut,Wn){zl(),requestAnimationFrame(()=>{setTimeout(()=>{re.callback(re.scope,s,Wn,u)},0)})},{})}return v},Ma=function(e,t,s){const u=ke();s=new Tr(s.y+u.top,s.y+u.top,s.x+u.left,s.x+u.left),Qo(e);const v=e.getSize();t&&(s.left+=v.width,s.right+=v.width,u.left+=v.width,u.right+=v.width),So(u,s,v,t),e.focus()},Qo=function(e){var t=bo();if(!t)throw Error("Attempting to create a context menu when widget div is null");t=e.render(t),rn(t,"blocklyContextMenu"),se(t,"contextmenu",null,Oa),e.focus()},Oa=function(e){e.preventDefault(),e.stopPropagation()},zl=function(){Fl(e4),Ic=null},oc=function(){Dh&&(Dh.dispose(),Dh=null)},n.callbackFactory$$module$build$src$core$contextmenu=function(e,t){return()=>{n.disable$$module$build$src$core$events$utils();let s;try{s=t instanceof Element?o0(t,e.workspace):Ll(t,e.workspace);const u=e.getRelativeToSurfaceXY();u.x=e.RTL?u.x-n.config$$module$build$src$core$config.snapRadius:u.x+n.config$$module$build$src$core$config.snapRadius,u.y+=n.config$$module$build$src$core$config.snapRadius*2,s.moveBy(u.x,u.y)}finally{n.enable$$module$build$src$core$events$utils()}return Qt()&&!s.isShadow()&&de(new(sn(mt.BLOCK_CREATE))(s)),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(s),s}},K0=function(e,t){return t=je(t,e.getParentSvg(),e.getInverseScreenCTM()),t.x/=e.scale,t.y/=e.scale,t},xo=function(e,t,s){t=K0(e,t),v2.set(e,qt.difference(s,t))},qo=function(e,t){if(t=K0(e,t),e=v2.get(e),!e)throw Error("Drag not initialized");return qt.sum(e,t)},s0=function(e,t=!1){const s=n.createElement$$module$build$src$core$utils$xml("xml");var u=el(n.allUsedVarModels$$module$build$src$core$variables(e));u.hasChildNodes()&&s.appendChild(u);for(const v of e.getTopComments())s.appendChild(Xo(v,t));for(e=e.getTopBlocks(!0),u=0;u<e.length;u++)s.appendChild(Bo(e[u],t));return s},Xo=function(e,t=!1){const s=n.createElement$$module$build$src$core$utils$xml("comment");t||s.setAttribute("id",e.id),t=e.workspace;const u=e.getRelativeToSurfaceXY().clone();return u.x=t.RTL?t.getWidth()-u.x:u.x,s.setAttribute("x",`${u.x}`),s.setAttribute("y",`${u.y}`),s.setAttribute("w",`${e.getSize().width}`),s.setAttribute("h",`${e.getSize().height}`),e.getText()&&(s.textContent=e.getText()),e.isCollapsed()&&s.setAttribute("collapsed","true"),e.isOwnEditable()||s.setAttribute("editable","false"),e.isOwnMovable()||s.setAttribute("movable","false"),e.isOwnDeletable()||s.setAttribute("deletable","false"),s},el=function(e){const t=n.createElement$$module$build$src$core$utils$xml("variables");for(let s=0;s<e.length;s++){const u=e[s],v=n.createElement$$module$build$src$core$utils$xml("variable");v.appendChild(n.createTextNode$$module$build$src$core$utils$xml(u.getName())),u.getType()&&v.setAttribute("type",u.getType()),v.id=u.getId(),t.appendChild(v)}return t},Bo=function(e,t){if(e.isInsertionMarker()&&(e=e.getChildren(!1)[0],!e))return new DocumentFragment;let s=0;if(e.workspace.RTL&&(s=e.workspace.getWidth()),t=Hl(e,t),Da(t)){const u=e.getRelativeToSurfaceXY();t.setAttribute("x",String(Math.round(e.workspace.RTL?s-u.x:u.x))),t.setAttribute("y",String(Math.round(u.y)))}return t},lc=function(e){if(e.isSerializable()){const t=n.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name",e.name||""),e.toXml(t)}return null},ac=function(e,t){for(const s of e.getFields())(e=lc(s))&&t.appendChild(e)},Hl=function(e,t){if(e.isInsertionMarker())return(t=e.getChildren(!1)[0])?Hl(t):new DocumentFragment;const s=n.createElement$$module$build$src$core$utils$xml(e.isShadow()?"shadow":"block");if(s.setAttribute("type",e.type),t||(s.id=e.id),e.mutationToDom){var u=e.mutationToDom();u&&(u.hasChildNodes()||u.hasAttributes())&&s.appendChild(u)}if(ac(e,s),u=e.getCommentText()){var v=e.getIcon(Es.COMMENT),M=v.getBubbleSize(),re=v.bubbleIsVisible();v=v.getBubbleLocation();var Re=n.createElement$$module$build$src$core$utils$xml("comment");Re.appendChild(n.createTextNode$$module$build$src$core$utils$xml(u)),Re.setAttribute("pinned",`${re}`),Re.setAttribute("h",`${M.height}`),Re.setAttribute("w",`${M.width}`),v&&(Re.setAttribute("x",`${e.workspace.RTL?e.workspace.getWidth()-(v.x+M.width):v.x}`),Re.setAttribute("y",`${v.y}`)),s.appendChild(Re)}for(e.data&&(u=n.createElement$$module$build$src$core$utils$xml("data"),u.appendChild(n.createTextNode$$module$build$src$core$utils$xml(e.data)),s.appendChild(u)),u=0;u<e.inputList.length;u++){M=e.inputList[u];var Ut=void 0;re=!0,M.type!==n.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&M.type!==n.inputTypes$$module$build$src$core$inputs$input_types.END_ROW&&(v=M.connection.targetBlock(),M.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE?Ut=n.createElement$$module$build$src$core$utils$xml("value"):M.type===n.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(Ut=n.createElement$$module$build$src$core$utils$xml("statement")),Re=M.connection.getShadowDom(),!Re||v&&v.isShadow()||Ut.appendChild(uc(Re,t)),v&&(v=Hl(v,t),v.nodeType===N0.ELEMENT_NODE&&(Ut.appendChild(v),re=!1)),Ut.setAttribute("name",M.name),re||s.appendChild(Ut))}e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&s.setAttribute("inline",String(e.inputsInline)),e.isCollapsed()&&s.setAttribute("collapsed","true"),e.isEnabled()||s.setAttribute("disabled-reasons",Array.from(e.getDisabledReasons()).map(encodeURIComponent).join(",")),e.isOwnDeletable()||s.setAttribute("deletable","false"),e.isOwnMovable()||s.setAttribute("movable","false"),e.isOwnEditable()||s.setAttribute("editable","false"),Ut=e.getNextBlock();let Wn;return Ut&&(u=Hl(Ut,t),u.nodeType===N0.ELEMENT_NODE&&(Wn=n.createElement$$module$build$src$core$utils$xml("next"),Wn.appendChild(u),s.appendChild(Wn))),e=e.nextConnection&&e.nextConnection.getShadowDom(),!e||Ut&&Ut.isShadow()||Wn.appendChild(uc(e,t)),s},uc=function(e,t){let s=e=e.cloneNode(!0),u;for(;s;)if(t&&s.nodeName==="shadow"&&s.removeAttribute("id"),s.firstChild)s=s.firstChild;else{for(;s&&!s.nextSibling;){u=s,s=s.parentNode;let v;u.nodeType===N0.TEXT_NODE&&u.data.trim()===""&&((v=s)==null?void 0:v.firstChild)!==u&&un(u)}s&&(u=s,s=s.nextSibling,u.nodeType===N0.TEXT_NODE&&u.data.trim()===""&&un(u))}return e},ss=function(e){return lt(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},Yi=function(e){e=ss(e).split("<");let t="";for(let s=1;s<e.length;s++){const u=e[s];u[0]==="/"&&(t=t.substring(2)),e[s]=t+"<"+u,u[0]!=="/"&&u.slice(-2)!=="/>"&&(t+="  ")}return e=e.join(`
`),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},qr=function(e,t){return t.setResizesEnabled(!1),t.clear(),e=n.domToWorkspace$$module$build$src$core$xml(e,t),t.setResizesEnabled(!0),e},n.domToWorkspace$$module$build$src$core$xml=function(e,t){let s=0;t.RTL&&(s=t.getWidth());const u=[];nr();const v=n.getGroup$$module$build$src$core$events$utils();v||n.setGroup$$module$build$src$core$events$utils(!0),t.setResizesEnabled&&t.setResizesEnabled(!1);let M=!0;try{for(let re=0,Re;Re=e.childNodes[re];re++){const Ut=Re.nodeName.toLowerCase(),Wn=Re;if(Ut==="block"||Ut==="shadow"&&!an()){const js=o0(Wn,t);u.push(js.id);let ps;const ul=parseInt((ps=Wn.getAttribute("x"))!=null?ps:"10",10);let Fc;const Hu=parseInt((Fc=Wn.getAttribute("y"))!=null?Fc:"10",10);isNaN(ul)||isNaN(Hu)||js.moveBy(t.RTL?s-ul:ul,Hu,["create"]),M=!1}else{if(Ut==="shadow")throw TypeError("Shadow block cannot be a top-level block.");if(Ut==="comment")w0(Wn,t);else if(Ut==="variables"){if(M)l0(Wn,t);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");M=!1}}}}finally{n.setGroup$$module$build$src$core$events$utils(v),t.setResizesEnabled&&t.setResizesEnabled(!0),t.rendered&&d(),es()}return de(new(sn(mt.FINISHED_LOADING))(t)),u},w0=function(e,t){var s;const u=(s=e.getAttribute("id"))!=null?s:void 0;s=t.rendered?new c0(t,u):new O1(t,u);var v;s.setText((v=e.textContent)!=null?v:"");var M;v=parseInt((M=e.getAttribute("x"))!=null?M:"",10);let re;M=parseInt((re=e.getAttribute("y"))!=null?re:"",10),isNaN(v)||isNaN(M)||(v=t.RTL?t.getWidth()-v:v,s.moveTo(new qt(v,M)));var Re;t=parseInt((Re=e.getAttribute("w"))!=null?Re:"",10);let Ut;return Re=parseInt((Ut=e.getAttribute("h"))!=null?Ut:"",10),isNaN(t)||isNaN(Re)||s.setSize(new Sr(t,Re)),e.getAttribute("collapsed")==="true"&&s.setCollapsed(!0),e.getAttribute("editable")==="false"&&s.setEditable(!1),e.getAttribute("movable")==="false"&&s.setMovable(!1),e.getAttribute("deletable")==="false"&&s.setDeletable(!1),s},Vs=function(e,t){if(!t.getBlocksBoundingBox)return n.domToWorkspace$$module$build$src$core$xml(e,t);var s=t.getBlocksBoundingBox();if(e=n.domToWorkspace$$module$build$src$core$xml(e,t),s&&s.top!==s.bottom){var u=s.bottom;s=t.RTL?s.right:s.left;var v=1/0;let M=-1/0,re=1/0;for(let Re=0;Re<e.length;Re++){const Ut=t.getBlockById(e[Re]).getRelativeToSurfaceXY();Ut.y<re&&(re=Ut.y),Ut.x<v&&(v=Ut.x),Ut.x>M&&(M=Ut.x)}for(u=u-re+10,s=t.RTL?s-M:s-v,v=0;v<e.length;v++)t.getBlockById(e[v]).moveBy(s,u,["create"])}return e},n.domToBlock$$module$build$src$core$xml=function(e,t){return e=o0(e,t),t.rendered&&d(),e},o0=function(e,t){n.disable$$module$build$src$core$events$utils();var s=t.getAllVariables();let u;try{if(u=Vl(e,t),t.rendered){const v=u,M=u.getDescendants(!1);v.setConnectionTracking(!1);for(let re=M.length-1;re>=0;re--)M[re].initSvg();for(let re=M.length-1;re>=0;re--)M[re].queueRender();setTimeout(function(){v.disposed||v.setConnectionTracking(!0)},1),t.resizeContents()}else{const v=u.getDescendants(!1);for(let M=v.length-1;M>=0;M--)v[M].initModel()}}finally{n.enable$$module$build$src$core$events$utils()}if(Qt()){for(e=wo(t,s),t=0;t<e.length;t++)s=e[t],de(new(sn(mt.VAR_CREATE))(s));de(new(sn(mt.BLOCK_CREATE))(u))}return u},l0=function(e,t){for(let u=0;u<e.children.length;u++){var s=e.children[u];const v=s.getAttribute("type"),M=s.getAttribute("id");if(s=s.textContent,!s)break;let re;t.getVariableMap().createVariable(s,(re=v)!=null?re:void 0,M)}},oh=function(e){const t={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let s=0;s<e.children.length;s++){const u=e.children[s];if(u.nodeType!==N0.TEXT_NODE)switch(u.nodeName.toLowerCase()){case"mutation":t.mutation.push(u);break;case"comment":t.comment.push(u);break;case"data":t.data.push(u);break;case"title":case"field":t.field.push(u);break;case"value":case"statement":t.input.push(u);break;case"next":t.next.push(u);break;default:console.warn("Ignoring unknown tag: "+u.nodeName)}}return t},lh=function(e,t){let s=!1;for(let u=0;u<e.length;u++){const v=e[u];t.domToMutation&&(t.domToMutation(v),t.initSvg&&(s=!0))}return s},Ra=function(e,t){for(let s=0;s<e.length;s++){const u=e[s],v=u.textContent,M=u.getAttribute("pinned")==="true";let re;const Re=parseInt((re=u.getAttribute("w"))!=null?re:"50",10);let Ut;const Wn=parseInt((Ut=u.getAttribute("h"))!=null?Ut:"50",10);let js,ps=parseInt((js=u.getAttribute("x"))!=null?js:"",10),ul;const Fc=parseInt((ul=u.getAttribute("y"))!=null?ul:"",10);t.setCommentText(v);const Hu=t.getIcon(Es.COMMENT);isNaN(Re)||isNaN(Wn)||Hu.setBubbleSize(new Sr(Re,Wn)),Hu.setBubbleVisible(M),setTimeout(()=>{isNaN(ps)||isNaN(Fc)||(ps=t.workspace.RTL?t.workspace.getWidth()-(ps+Re):ps,Hu.setBubbleLocation(new qt(ps,Fc))),Hu.setBubbleVisible(M)},1)}},a0=function(e,t){for(let s=0;s<e.length;s++)t.data=e[s].textContent},Zc=function(e,t){for(let s=0;s<e.length;s++){const u=e[s],v=u.getAttribute("name");v?S0(t,v,u):console.warn(`Ignoring unnamed field in block ${t.type}`)}},La=function(e){let t=null,s=null;for(let u=0;u<e.childNodes.length;u++){const v=e.childNodes[u];Da(v)&&(v.nodeName.toLowerCase()==="block"?t=v:v.nodeName.toLowerCase()==="shadow"&&(s=v))}return{childBlockElement:t,childShadowElement:s}},cc=function(e,t,s,u){for(let M=0;M<e.length;M++){var v=e[M];const re=v.getAttribute("name"),Re=re?s.getInput(re):null;if(!Re){console.warn("Ignoring non-existent input "+re+" in block "+u);break}if(v=La(v),v.childBlockElement){if(!Re.connection)throw TypeError("Input connection does not exist.");Vl(v.childBlockElement,t,Re.connection,!1)}if(v.childShadowElement){let Ut;(Ut=Re.connection)==null||Ut.setShadowDom(v.childShadowElement)}}},J0=function(e,t,s){for(let u=0;u<e.length;u++){const v=La(e[u]);if(v.childBlockElement){if(!s.nextConnection)throw TypeError("Next statement does not exist.");if(s.nextConnection.isConnected())throw TypeError("Next statement is already connected.");Vl(v.childBlockElement,t,s.nextConnection,!0)}v.childShadowElement&&s.nextConnection&&s.nextConnection.setShadowDom(v.childShadowElement)}},Vl=function(e,t,s,u){var v;const M=e.getAttribute("type");if(!M)throw TypeError("Block type unspecified: "+e.outerHTML);var re=(v=e.getAttribute("id"))!=null?v:void 0;v=t.newBlock(M,re),re=oh(e);const Re=lh(re.mutation,v);if(Ra(re.comment,v),a0(re.data,v),s)if(u)if(v.previousConnection)s.connect(v.previousConnection);else throw TypeError("Next block does not have previous statement.");else if(v.outputConnection)s.connect(v.outputConnection);else if(v.previousConnection)s.connect(v.previousConnection);else throw TypeError("Child block does not have output or previous statement.");if(Zc(re.field,v),cc(re.input,t,v,M),J0(re.next,t,v),Re&&v.initSvg(),(t=e.getAttribute("inline"))&&v.setInputsInline(t==="true"),(t=e.getAttribute("disabled"))&&v.setDisabledReason(t==="true"||t==="disabled",$r),t=e.getAttribute("disabled-reasons"),t!==null)for(var Ut of t.split(","))v.setDisabledReason(!0,decodeURIComponent(Ut));if((Ut=e.getAttribute("deletable"))&&v.setDeletable(Ut==="true"),(Ut=e.getAttribute("movable"))&&v.setMovable(Ut==="true"),(Ut=e.getAttribute("editable"))&&v.setEditable(Ut==="true"),(Ut=e.getAttribute("collapsed"))&&v.setCollapsed(Ut==="true"),e.nodeName.toLowerCase()==="shadow"){for(e=v.getChildren(!1),Ut=0;Ut<e.length;Ut++)if(!e[Ut].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");v.setShadow(!0)}return v},S0=function(e,t,s){const u=e.getField(t);u?u.fromXml(s):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},Gl=function(e){for(let t=0;t<e.childNodes.length;t++){const s=e.childNodes[t];if(s.nodeName.toLowerCase()==="next"){e.removeChild(s);break}}},Da=function(e){return e.nodeType===N0.ELEMENT_NODE},tl=function(e,t){a(Ht.FIELD,e,t,!0)},x0=function(e){p(Ht.FIELD,e)},n.fromJson$$module$build$src$core$field_registry=function(e){return E2.fromJsonInternal(e)},hu=function(e){const t=E(Ht.FIELD,e.type);return t?t.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},nl=function(e){return e&&typeof e=="object"&&"src"in e&&typeof e.src=="string"&&"alt"in e&&typeof e.alt=="string"&&"width"in e&&typeof e.width=="number"&&"height"in e&&typeof e.height=="number"},n.register$$module$build$src$core$extensions=function(e,t){if(typeof e!="string"||e.trim()==="")throw Error('Error: Invalid extension name "'+e+'"');if(Ho[e])throw Error('Error: Extension "'+e+'" is already registered.');if(typeof t!="function")throw Error('Error: Extension "'+e+'" must be a function');Ho[e]=t},n.registerMixin$$module$build$src$core$extensions=function(e,t){if(!t||typeof t!="object")throw Error('Error: Mixin "'+e+'" must be a object');n.register$$module$build$src$core$extensions(e,function(){this.mixin(t)})},n.registerMutator$$module$build$src$core$extensions=function(e,t,s,u){const v='Error when registering mutator "'+e+'": ';C0(v,t);const M=as(t,v);if(s&&typeof s!="function")throw Error(v+'Extension "'+e+'" is not a function');n.register$$module$build$src$core$extensions(e,function(){M&&this.setMutator(new n.MutatorIcon$$module$build$src$core$icons$mutator_icon(u||[],this)),this.mixin(t),s&&s.apply(this)})},eo=function(e){du(e)?delete Ho[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},du=function(e){return!!Ho[e]},fu=function(e,t,s){const u=Ho[e];if(typeof u!="function")throw Error('Error: Extension "'+e+'" not found.');let v;if(s?hc(e,t):v=k0(t),u.apply(t),s)C0('Error after applying mutator "'+e+'": ',t);else if(!e1(v,t))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},hc=function(e,t){if(k0(t).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+t.id)},Qc=function(e,t){return dc(e.mutationToDom,e.domToMutation,t+" mutationToDom/domToMutation")},ah=function(e,t){return dc(e.saveExtraState,e.loadExtraState,t+" saveExtraState/loadExtraState")},as=function(e,t){return dc(e.compose,e.decompose,t+" compose/decompose")},dc=function(e,t,s){if(e&&t){if(typeof e!="function"||typeof t!="function")throw Error(s+" must be a function");return!0}if(!e&&!t)return!1;throw Error(s+"Must have both or neither functions")},C0=function(e,t){const s=Qc(t,e),u=ah(t,e);if(!s&&!u)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");as(t,e)},k0=function(e){const t=[];return e.domToMutation!==void 0&&t.push(e.domToMutation),e.mutationToDom!==void 0&&t.push(e.mutationToDom),e.saveExtraState!==void 0&&t.push(e.saveExtraState),e.loadExtraState!==void 0&&t.push(e.loadExtraState),e.compose!==void 0&&t.push(e.compose),e.decompose!==void 0&&t.push(e.decompose),t},e1=function(e,t){if(t=k0(t),t.length!==e.length)return!1;for(let s=0;s<t.length;s++)if(e[s]!==t[s])return!1;return!0},Ba=function(e){if(typeof document!="object")throw Error("runAfterPageLoad() requires browser document.");if(document.readyState==="complete")e();else{const t=setInterval(function(){document.readyState==="complete"&&(clearInterval(t),e())},10)}},n.buildTooltipForDropdown$$module$build$src$core$extensions=function(e,t){const s=[];return function(){s.includes(this.type)||(Z0(this,e,t),s.push(this.type)),this.setTooltip((function(){const u=String(this.getFieldValue(e));return cr(t[u])}).bind(this))}},Z0=function(e,t,s){var u=e.getField(t);if(u instanceof No&&!u.isOptionListDynamic()){u=u.getOptions();for(const v of u)v!==No.SEPARATOR&&([,u]=v,s[u]===void 0&&console.warn(`No tooltip mapping for value ${u} of field ${t} of block type ${e.type}.`))}},n.buildTooltipWithFieldText$$module$build$src$core$extensions=function(e,t){return function(){this.setTooltip((function(){const s=this.getField(t);return cr(e).replace("%1",s?s.getText():"")}).bind(this))}},t1=function(){const e=this.tooltip;this.setTooltip((function(){const t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||e}).bind(this))},Un=function(e,t){return" "+e+","+t+" "},rl=function(e,t){return" "+e+t.join("")},oo=function(e,t){return" M "+e+","+t+" "},Li=function(e,t){return" m "+e+","+t+" "},pl=function(e,t){return" l "+e+","+t+" "},g=function(e){return" l"+e.join("")},f=function(e,t){return" "+e+" "+t+" "},b=function(e,t,s,u){return e+" "+s+" "+s+" "+t+u},k=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},D=function(e,t){let s=null;t=t.outputConnection;const u=t?.getConnectionChecker();for(let v=0,M;M=e.inputList[v];v++){const re=M.connection;let Re;if(re&&((Re=u)!=null&&Re.canConnect(t,re,!1))){if(s)return null;s=re}}return s},G=function(e,t){let s;for(;s=D(e,t);)if(e=s.targetBlock(),!e||e.isShadow())return s;return null},Q=function(e){return ne(e)&&typeof e.getType=="function"&&typeof e.initView=="function"&&typeof e.dispose=="function"&&typeof e.getWeight=="function"&&typeof e.getSize=="function"&&typeof e.applyColour=="function"&&typeof e.hideForInsertionMarker=="function"&&typeof e.updateEditable=="function"&&typeof e.updateCollapsed=="function"&&typeof e.isShownWhenCollapsed=="function"&&typeof e.setOffsetInBlock=="function"&&typeof e.onLocationChange=="function"&&typeof e.onClick=="function"},ge=function(e){return Q(e)&&$0(e)&&xa(e)&&typeof e.setText=="function"&&typeof e.getText=="function"&&typeof e.setBubbleSize=="function"&&typeof e.getBubbleSize=="function"&&typeof e.setBubbleLocation=="function"&&typeof e.getBubbleLocation=="function"&&e.getType()===Es.COMMENT},Ne=function(e){if(!(e.getDescendants(!1).length>100)){var t=e.workspace,s=e.getSvgRoot();t.getAudioManager().play("delete");var u=e.getRelativeToSurfaceXY(),v=s.cloneNode(!0);v.setAttribute("transform","translate("+u.x+","+u.y+")");var M;(M=t.getLayerManager())==null||M.appendToAnimationLayer({getSvgRoot:()=>v}),We(v,{x:u.x,y:u.y,width:e.width,height:e.height},t.RTL,new Date)}},We=function(e,t,s,u){const v=(new Date().getTime()-u.getTime())/150;v>1?un(e):(e.setAttribute("transform","translate("+(t.x+(s?-1:1)*t.width/2*v)+","+(t.y+t.height/2*v)+") scale("+(1-v)+")"),setTimeout(We,10,e,t,s,u))},ot=function(e){var t=e.workspace;const s=t.scale;if(t.getAudioManager().play("click"),!(s<1)){var u=t.getSvgXY(e.getSvgRoot());e.outputConnection?(u.x+=(e.RTL?3:-3)*s,u.y+=13*s):e.previousConnection&&(u.x+=(e.RTL?-23:23)*s,u.y+=3*s);var v=ct(ft.CIRCLE,{cx:u.x,cy:u.y,r:0,fill:"none",stroke:"#888","stroke-width":10},t.getParentSvg());e=ct(ft.ANIMATE,{id:"animationCircle",begin:"indefinite",attributeName:"r",dur:"150ms",from:0,to:25*s},v),t=ct(ft.ANIMATE,{id:"animationOpacity",begin:"indefinite",attributeName:"opacity",dur:"150ms",from:1,to:0},v),e.beginElement(),t.beginElement(),setTimeout(()=>void un(v),150)}},dt=function(e){if(Zt(),e.workspace.getAudioManager().play("disconnect"),!(e.workspace.scale<1)){var t=e.getHeightWidth().height;t=Math.atan(10/t)/Math.PI*180,e.RTL||(t*=-1),L1=e,wt(e,t,new Date,0)}},wt=function(e,t,s,u){const v=[.66,1,.66,0,-.66,-1,-.66,0];let M="";s.getTime()+200>new Date().getTime()&&(M=`skewX(${Math.round(v[u%v.length]*t)})`,Ou=setTimeout(wt,15,e,t,s,u+1)),e.getSvgRoot().setAttribute("transform",`${e.getTranslation()} ${M}`)},Zt=function(){L1&&(Ou&&(clearTimeout(Ou),Ou=null),L1.getSvgRoot().setAttribute("transform",L1.getTranslation()),L1=null)},wn=function(e,t){e.workspace.RTL&&(t.x=e.workspace.getWidth()-t.x);const s=e.workspace,u=n.config$$module$build$src$core$config.snapRadius,v=qt.difference(t,e.getRelativeToSurfaceXY()),M=new qt(0,0),re=s.getAllBlocks(!1).filter(Re=>Re.id!=e.id).map(Re=>Re.getRelativeToSurfaceXY());for(;Rn(qt.sum(t,M),re)||Lr(e,qt.sum(v,M),u);)s.RTL?M.translate(-u,u*2):M.translate(u,u*2);e.moveTo(qt.sum(t,M))},Rn=function(e,t){return t.some(s=>Math.abs(s.x-e.x)<=1&&Math.abs(s.y-e.y)<=1)},Lr=function(e,t,s){return e.getConnections_(!1).some(u=>!!u.closest(s,t).connection)},vr=function(e,t,s){const u=s.getBoundingRectangle(),v=u.right-u.left,M=v0(t.top,u.top,t.top+t.height-(u.bottom-u.top))-u.top;let re=t.left;return t=t.left+t.width-v,e.RTL?re=Math.min(t,re):t=Math.max(re,t),(e=v0(re,u.left,t)-u.left)||M?(s.moveBy(e,M,["inbounds"]),!0):!1},wr=function(e){return t=>{var s=e.getMetricsManager();if(s.hasFixedEdges()&&!e.isDragging()){var u;if(J4.includes((u=t.type)!=null?u:"")){u=s.getScrollMetrics(!0);const v=di(e,t);v&&(s=n.getGroup$$module$build$src$core$events$utils()||!1,n.setGroup$$module$build$src$core$events$utils(t.group),vr(e,u,v)&&!t.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),n.setGroup$$module$build$src$core$events$utils(s))}else vt(t)&&t.scale&&t.oldScale&&t.scale>t.oldScale&&Jr(e)}}},di=function(e,t){let s=null;switch(t.type){case mt.BLOCK_CREATE:case mt.BLOCK_MOVE:(s=e.getBlockById(t.blockId))&&(s=s.getRootBlock());break;case mt.COMMENT_CREATE:case mt.COMMENT_MOVE:case mt.COMMENT_RESIZE:s=e.getCommentById(t.commentId)}return s},Jr=function(e){var t=e.getMetricsManager();if(t.hasFixedEdges()&&!e.isDragging()){t=t.getScrollMetrics(!0);var s=e.getTopBoundedElements();for(let u=0,v;v=s[u];u++)vr(e,t,v)}},Gi=function(e){return e&&typeof e.isDeletable=="function"&&typeof e.dispose=="function"&&typeof e.setDeleteStyle=="function"},$s=function(e,t){const s=e.getIcons();for(const u of e.inputList){if(!u.isVisible())continue;s.push(...u.fieldRow);let v;if((v=u.connection)!=null&&v.targetBlock())if(e=u.connection.targetBlock(),u.connection.type!==xn.NEXT_STATEMENT||t)s.push(e);else{let M;(e=(M=e.lastConnectionInStack(!1))==null?void 0:M.getSourceBlock())&&s.push(e)}else{let M;((M=u.connection)==null?void 0:M.type)===xn.INPUT_VALUE&&s.push(u.connection)}}return s},hs=function(e,t){const s=e.workspace.getTopBoundedElements(!0).filter(v=>ne(v));e=s.indexOf(e instanceof Qi?e.getRootBlock():e)+t;let u=null;if(e>=0&&e<s.length?u=s[e]:e<0?u=s[s.length-1]:e>=s.length&&(u=s[0]),t<0&&u instanceof Qi){let v,M;return(M=(v=u.lastConnectionInStack(!1))==null?void 0:v.getSourceBlock())!=null?M:u}return u},bs=function(e,t){var s;let u;const v=e instanceof Qi?(u=(s=e.outputConnection)==null?void 0:s.targetBlock())!=null?u:e.getSurroundParent():e.getSourceBlock();return!(v instanceof Qi)||(s=$s(v,t>0),e=s.indexOf(e),e===-1)?null:(t=e+t,t>=0&&t<s.length?s[t]:null)},Dr=function(e,t){a(Ht.ICON,e.toString(),t)},vi=function(e){p(Ht.ICON,e)},Ti=function(e){return e&&typeof e.getRelativeToSurfaceXY=="function"&&typeof e.isMovable=="function"&&typeof e.startDrag=="function"&&typeof e.drag=="function"&&typeof e.endDrag=="function"&&typeof e.revertDrag=="function"},Di=function(e){return e&&typeof e.autoHide=="function"},fi=function(e){return typeof e.getProcedureModel=="function"&&typeof e.doProcedureUpdate=="function"&&typeof e.isProcedureDef=="function"},Ki=function(e){return e&&typeof e.startPublishing=="function"&&typeof e.stopPublishing=="function"},vo=function(e){const t=e.getProcedureMap().getProcedures().filter(u=>!u.getReturnTypes()).map(u=>[u.getName(),u.getParameters().map(v=>v.getName()),!1]);e.getBlocksByType("procedures_defnoreturn",!1).forEach(u=>{!fi(u)&&yn(u)&&t.push(u.getProcedureDef())});const s=e.getProcedureMap().getProcedures().filter(u=>!!u.getReturnTypes()).map(u=>[u.getName(),u.getParameters().map(v=>v.getName()),!0]);return e.getBlocksByType("procedures_defreturn",!1).forEach(u=>{!fi(u)&&yn(u)&&s.push(u.getProcedureDef())}),t.sort(Q0),s.sort(Q0),[t,s]},Q0=function(e,t){return e[0].localeCompare(t[0],void 0,{sensitivity:"base"})},n.findLegalName$$module$build$src$core$procedures=function(e,t){if(t.isInFlyout)return e;for(e=e||n.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";!pu(e,t.workspace,t);){const s=e.match(/^(.*?)(\d+)$/);e=s?s[1]+(parseInt(s[2])+1):e+"2"}return e},pu=function(e,t,s){return!fc(e,t,s)},fc=function(e,t,s){for(const u of t.getAllBlocks(!1))if(u!==s&&yn(u)&&n.Names$$module$build$src$core$names.equals(u.getProcedureDef()[0],e))return!0;s=s&&fi(s)?s?.getProcedureModel():void 0;for(const u of t.getProcedureMap().getProcedures())if(u!==s&&n.Names$$module$build$src$core$names.equals(u.getName(),e))return!0;return!1},n.rename$$module$build$src$core$procedures=function(e){var t=this.getSourceBlock();if(!t)throw new Xs;e=e.trim();const s=n.findLegalName$$module$build$src$core$procedures(e,t);fi(t)&&!t.isInsertionMarker()&&t.getProcedureModel().setName(s);const u=this.getValue();if(u!==e&&u!==s)for(e=t.workspace.getAllBlocks(!1),t=0;t<e.length;t++){const v=e[t];v.renameProcedure&&v.renameProcedure(u,s)}return s},n1=function(e){function t(M,re){for(let Ut=0;Ut<M.length;Ut++){var Re=M[Ut][0];const Wn=M[Ut][1],js=n.createElement$$module$build$src$core$utils$xml("block");js.setAttribute("type",re),js.setAttribute("gap","16");const ps=n.createElement$$module$build$src$core$utils$xml("mutation");for(ps.setAttribute("name",Re),js.appendChild(ps),Re=0;Re<Wn.length;Re++){const ul=n.createElement$$module$build$src$core$utils$xml("arg");ul.setAttribute("name",Wn[Re]),ps.appendChild(ul)}s.push(js)}}const s=[];if(Ts.procedures_defnoreturn){var u=n.createElement$$module$build$src$core$utils$xml("block");u.setAttribute("type","procedures_defnoreturn"),u.setAttribute("gap","16");var v=n.createElement$$module$build$src$core$utils$xml("field");v.setAttribute("name","NAME"),v.appendChild(n.createTextNode$$module$build$src$core$utils$xml(n.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE)),u.appendChild(v),s.push(u)}return Ts.procedures_defreturn&&(u=n.createElement$$module$build$src$core$utils$xml("block"),u.setAttribute("type","procedures_defreturn"),u.setAttribute("gap","16"),v=n.createElement$$module$build$src$core$utils$xml("field"),v.setAttribute("name","NAME"),v.appendChild(n.createTextNode$$module$build$src$core$utils$xml(n.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),u.appendChild(v),s.push(u)),Ts.procedures_ifreturn&&(u=n.createElement$$module$build$src$core$utils$xml("block"),u.setAttribute("type","procedures_ifreturn"),u.setAttribute("gap","16"),s.push(u)),s.length&&s[s.length-1].setAttribute("gap","24"),e=vo(e),t(e[0],"procedures_callnoreturn"),t(e[1],"procedures_callreturn"),s},I0=function(e){return il(e,!1)},il=function(e,t=!0){function s(v,M){for(const[re,Re]of v)u.push({kind:"block",type:M,gap:16,extraState:{name:re,params:Re}})}if(t)return Vn("The XML return value of Blockly.Procedures.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),n1(e);const u=[];return Ts.procedures_defnoreturn&&u.push({kind:"block",type:"procedures_defnoreturn",gap:16,fields:{NAME:n.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE}}),Ts.procedures_defreturn&&u.push({kind:"block",type:"procedures_defreturn",gap:16,fields:{NAME:n.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE}}),Ts.procedures_ifreturn&&u.push({kind:"block",type:"procedures_ifreturn",gap:16}),u.length&&(u[u.length-1].gap=24),e=vo(e),s(e[0],"procedures_callnoreturn"),s(e[1],"procedures_callreturn"),u},ml=function(e){var t=[],s=e.getBlocksByType("procedures_mutatorarg",!1);for(let M=0,re;re=s[M];M++)t.push(re.getFieldValue("NAME"));s=n.createElement$$module$build$src$core$utils$xml("xml");const u=n.createElement$$module$build$src$core$utils$xml("block");u.setAttribute("type","procedures_mutatorarg");const v=n.createElement$$module$build$src$core$utils$xml("field");v.setAttribute("name","NAME"),t=Mi(n.DEFAULT_ARG$$module$build$src$core$procedures,t),t=n.createTextNode$$module$build$src$core$utils$xml(t),v.appendChild(t),u.appendChild(v),s.appendChild(u),e.updateToolbox(s)},ea=function(e){if(St(e)&&e.bubbleType==="mutator"&&e.isOpen&&e.blockId){e=nt(e.workspaceId).getBlockById(e.blockId);var t=e.type;(t==="procedures_defnoreturn"||t==="procedures_defreturn")&&(e=e.getIcon(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),ml(e),e.addChangeListener(rd))}},rd=function(e){(Pt(e)||Ve(e)||Xt(e)||Lt(e))&&(e=nt(e.workspaceId),ml(e))},id=function(e,t){return t.getAllBlocks(!1).filter(s=>Pa(s,e)||zt(s)&&n.Names$$module$build$src$core$names.equals(s.getProcedureCall(),e))},Pa=function(e,t){return fi(e)&&!e.isProcedureDef()&&e.getProcedureModel()&&n.Names$$module$build$src$core$names.equals(e.getProcedureModel().getName(),t)},n.mutateCallers$$module$build$src$core$procedures=function(e){const t=an();var s=e.getProcedureDef()[0];const u=e.mutationToDom(!0);e=id(s,e.workspace);for(let M=0,re;re=e[M];M++){s=(s=re.mutationToDom())&&lt(s),re.domToMutation&&re.domToMutation(u);var v=re.mutationToDom();v=v&&lt(v),s!==v&&(n.setRecordUndo$$module$build$src$core$events$utils(!1),de(new(sn(mt.BLOCK_CHANGE))(re,"mutation",null,s,v)),n.setRecordUndo$$module$build$src$core$events$utils(t))}},n.getDefinition$$module$build$src$core$procedures=function(e,t){for(const s of t.getAllBlocks(!1))if(fi(s)&&s.isProcedureDef()&&n.Names$$module$build$src$core$names.equals(s.getProcedureModel().getName(),e)||yn(s)&&n.Names$$module$build$src$core$names.equals(s.getProcedureDef()[0],e))return s;return null},jo=function(e){return e.isDynamic},Gs=function(e){return e.pathDown!==void 0&&e.pathUp!==void 0},uh=function(e){return e.pathLeft!==void 0&&e.pathRight!==void 0},Wl=function(e,t){a(Ht.RENDERER,e,t)},Ir=function(e){p(Ht.RENDERER,e)},Wi=function(e,t,s){return e=new(y(Ht.RENDERER,e))(e),e.init(t,s),e},Ds=function(e){Hi(e.getTargetWorkspace(),void 0,"String")},pc=function(e){Hi(e.getTargetWorkspace(),void 0,"Number")},Fa=function(e){Hi(e.getTargetWorkspace(),void 0,"Colour")},ta=function(e){return r1(e,!1)},r1=function(e,t=!0){return Ts.variables_set_dynamic||Ts.variables_get_dynamic||console.warn("There are no dynamic variable blocks, but there is a dynamic variable category."),t?(Vn("The XML return value of Blockly.VariablesDynamic.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),i1(e)):(e.registerButtonCallback("CREATE_VARIABLE_STRING",Ds),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",pc),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",Fa),[{kind:"button",text:n.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE,callbackkey:"CREATE_VARIABLE_STRING"},{kind:"button",text:n.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE,callbackkey:"CREATE_VARIABLE_NUMBER"},{kind:"button",text:n.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE,callbackkey:"CREATE_VARIABLE_COLOUR"},...ni(e,e.getVariableMap().getAllVariables(),!1,"variables_get_dynamic","variables_set_dynamic")])},i1=function(e){let t=[],s=document.createElement("button");return s.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE),s.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),t.push(s),s=document.createElement("button"),s.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE),s.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),t.push(s),s=document.createElement("button"),s.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE),s.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),t.push(s),e.registerButtonCallback("CREATE_VARIABLE_STRING",Ds),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",pc),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",Fa),e=mu(e),t=t.concat(e)},mu=function(e){e=e.getVariableMap().getAllVariables();const t=[];if(e.length>0){if(Ts.variables_set_dynamic){var s=e[e.length-1];const u=n.createElement$$module$build$src$core$utils$xml("block");u.setAttribute("type","variables_set_dynamic"),u.setAttribute("gap","24"),u.appendChild(ii(s)),t.push(u)}if(Ts.variables_get_dynamic){e.sort(Jt);for(let u=0,v;v=e[u];u++)s=n.createElement$$module$build$src$core$utils$xml("block"),s.setAttribute("type","variables_get_dynamic"),s.setAttribute("gap","8"),s.appendChild(ii(v)),t.push(s)}}return t},sd=function(e,t){const s=e.toCopyData();return F2=s,U2=Ie(e)&&e.workspace instanceof Cl?e.workspace:null,Y3=t,s},vs=function(){return F2},od=function(e){F2=e},s1=function(){return U2},N4=function(e){U2=e},ld=function(){return Y3},T3=function(e){Y3=e},na=function(e,t,s){return e&&t?ch(e,t,s):F2&&U2?ch(F2,U2,Y3):null},ch=function(e,t,s){let u;t=t.isMutator?t:(u=t.options.parentWorkspace)!=null?u:t;let v,M;return(M=(v=E(Ht.PASTER,e.paster,!1))==null?void 0:v.paste(e,t,s))!=null?M:null},mc=function(e){return e&&typeof e.toCopyData=="function"},Po=function(){qi.registry.register({name:Bu.ESCAPE,preconditionFn(e){return!e.isReadOnly()},callback(e){return e.hideChaff(),!0},keyCodes:[Ui.ESC]})},Bs=function(){qi.registry.register({name:Bu.DELETE,preconditionFn(e,t){return t=t.focusedNode,!e.isReadOnly()&&t!=null&&Gi(t)&&t.isDeletable()&&!e.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(e,t,s,u){return t.preventDefault(),e=u.focusedNode,e instanceof Qi?e.checkAndDelete():Gi(e)&&e.isDeletable()&&(n.setGroup$$module$build$src$core$events$utils(!0),e.dispose(),n.setGroup$$module$build$src$core$events$utils(!1)),!0},keyCodes:[Ui.DELETE,Ui.BACKSPACE]})},gc=function(e){return mc(e)&&Gi(e)&&Ti(e)?e.isCopyable?e.isCopyable():e instanceof Qi||e instanceof c0?e.isOwnDeletable()&&e.isOwnMovable():e.isDeletable()&&e.isMovable():!1},$c=function(e){return gc(e)&&Gi(e)&&e.isDeletable()},o1=function(){const e=qi.registry.createSerializedKey(Ui.C,[Ui.CTRL]),t=qi.registry.createSerializedKey(Ui.C,[Ui.META]);qi.registry.register({name:Bu.COPY,preconditionFn(s,u){return u=u.focusedNode,s=s.isFlyout?s.targetWorkspace:s,!!u&&!!s&&!s.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&gc(u)},callback(s,u,v,M){return u.preventDefault(),u=M.focusedNode,!u||!mc(u)||!gc(u)||(s=s.isFlyout?s.targetWorkspace:s,!s)?!1:(u.workspace.isFlyout||s.hideChaff(),s=Ti(u)&&u.workspace==s?u.getRelativeToSurfaceXY():void 0,!!sd(u,s))},keyCodes:[e,t]})},hh=function(){const e=qi.registry.createSerializedKey(Ui.X,[Ui.CTRL]),t=qi.registry.createSerializedKey(Ui.X,[Ui.META]);qi.registry.register({name:Bu.CUT,preconditionFn(s,u){return u=u.focusedNode,!!u&&!s.isReadOnly()&&!s.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&$c(u)},callback(s,u,v,M){return s=M.focusedNode,!s||!$c(s)||!mc(s)?!1:(u=Ti(s)?s.getRelativeToSurfaceXY():void 0,u=sd(s,u),s instanceof Qi?s.checkAndDelete():Gi(s)&&s.dispose(),!!u)},keyCodes:[e,t]})},A0=function(){const e=qi.registry.createSerializedKey(Ui.V,[Ui.CTRL]),t=qi.registry.createSerializedKey(Ui.V,[Ui.META]);qi.registry.register({name:Bu.PASTE,preconditionFn(){var s=s1();return!s||!s.rendered?!1:(s=s.isFlyout?s.targetWorkspace:s,!!vs()&&!!s&&!s.isReadOnly()&&!s.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken())},callback(s,u){if(s=vs(),!s)return!1;var v=s1();if(!v||(v=v.isFlyout?v.targetWorkspace:v,!v||v.isReadOnly()))return!1;if(u instanceof PointerEvent)return u=Ce(v,new qt(u.clientX,u.clientY)),!!na(s,v,u);if(u=ld(),!u)return!!na(s,v);const{left:M,top:re,width:Re,height:Ut}=v.getMetricsManager().getViewMetrics(!0);return new Tr(re,re+Ut,M,M+Re).contains(u.x,u.y)?!!na(s,v):(u=new qt(M+Re/2,re+Ut/2),!!na(s,v,u))},keyCodes:[e,t]})},l1=function(){const e=qi.registry.createSerializedKey(Ui.Z,[Ui.CTRL]),t=qi.registry.createSerializedKey(Ui.Z,[Ui.META]);qi.registry.register({name:Bu.UNDO,preconditionFn(s){return!s.isReadOnly()&&!s.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(s,u){return s.hideChaff(),s.undo(!1),u.preventDefault(),!0},keyCodes:[e,t]})},dh=function(){const e=qi.registry.createSerializedKey(Ui.Z,[Ui.CTRL,Ui.SHIFT]),t=qi.registry.createSerializedKey(Ui.Z,[Ui.META,Ui.SHIFT]),s=qi.registry.createSerializedKey(Ui.Y,[Ui.CTRL]);qi.registry.register({name:Bu.REDO,preconditionFn(u){return!u.isDragging()&&!u.isReadOnly()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(u,v){return u.hideChaff(),u.undo(!0),v.preventDefault(),!0},keyCodes:[e,t,s]})},fh=function(){Po(),Bs(),o1(),hh(),A0(),l1(),dh()},ad=function(e){const t=e.saveState();return e.getParameters().length&&(t.parameters=e.getParameters().map(s=>s.saveState())),t},ud=function(e,t,s,u){if(e=e.loadState(s,u),!s.parameters)return e;for(const[v,M]of s.parameters.entries())e.insertParameter(t.loadState(M,u),v);return e},M4=function(e){const t=Object.create(null),s=w(Ht.SERIALIZER,!0);for(const u in s){let v;const M=(v=s[u])==null?void 0:v.save(e);M&&(t[u]=M)}return t},O4=function(e,t,{recordUndo:s=!1}={}){var u=w(Ht.SERIALIZER,!0);if(u){u=Object.entries(u).sort((M,re)=>re[1].priority-M[1].priority);var v=an();n.setRecordUndo$$module$build$src$core$events$utils(s),(s=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0),nr(),t instanceof Cl&&t.setResizesEnabled(!1);for(const[,M]of u.reverse()){let re;(re=M)==null||re.clear(t)}for(const[M,re]of u.reverse())if(e[M]){let Re;(Re=re)==null||Re.load(e[M],t)}t instanceof Cl&&t.setResizesEnabled(!0),es(),de(new(sn(mt.FINISHED_LOADING))(t)),n.setGroup$$module$build$src$core$events$utils(s),n.setRecordUndo$$module$build$src$core$events$utils(v)}},R4=function(e,t){let s=null;s=typeof e=="string"?document.getElementById(e)||document.querySelector(e):e;var u;if(!document.contains(s)&&document!==((u=s)==null?void 0:u.ownerDocument))throw Error("Error: container is not in current document");e=new B0(t||{}),u=document.createElement("div"),rn(u,"injectionDiv"),t!=null&&t.rtl&&rn(u,"blocklyRTL"),s.appendChild(u),t=L4(u,e);const v=cd(u,t,e);return D4(v),ae(v),Y(v),u.addEventListener("focusin",function(){ae(v)}),se(u,"keydown",null,Fe),v},L4=function(e,t){e.setAttribute("dir","LTR"),Mn(t.hasCss,t.pathToMedia);const s=ct(ft.SVG,{xmlns:T1,"xmlns:html":Ha,"xmlns:xlink":sl,version:"1.1",class:"blocklySvg"},e),u=ct(ft.DEFS,{},s),v=String(Math.random()).substring(2);return t.gridPattern=V1.createDom(v,t.gridOptions,u,e),s},cd=function(e,t,s){s.parentWorkspace=null,s=new Cl(s);const u=s.options;s.scale=u.zoomOptions.startScale,t.appendChild(s.createDom("blocklyMainBackground",e));var v=s.getRenderer().getClassName();return v&&rn(e,v),(v=s.getTheme().getClassName())&&rn(e,v),!u.hasCategories&&u.languageTree&&(e=s.addFlyout(ft.SVG),$i(e,t)),u.hasTrashcan&&s.addTrashcan(),u.zoomOptions&&u.zoomOptions.controls&&s.addZoomControls(),s.getThemeManager().subscribe(t,"workspaceBackgroundColour","background-color"),s.translate(0,0),s.addChangeListener(wr(s)),Y(s),Pl(),ka(),Rr(),s},D4=function(e){const t=e.options;var s=e.getParentSvg();if(se(s.parentNode,"contextmenu",null,function(u){De(u)||u.preventDefault()}),s=se(window,"resize",null,function(){Si(),e.hideComponents(!0),ht(),j0(),Y(e),Jr(e)}),e.setResizeHandlerWrapper(s),y3(),t.languageTree){s=e.getToolbox();const u=e.getFlyout(!0);s?s.init():u&&(u.init(e),u.show(t.languageTree),typeof u.scrollToStart=="function"&&u.scrollToStart())}t.hasTrashcan&&e.trashcan.init(),t.zoomOptions&&t.zoomOptions.controls&&e.zoomControls_.init(),t.moveOptions&&t.moveOptions.scrollbars?(e.scrollbar=new va(e,t.moveOptions.scrollbars===!0||!!t.moveOptions.scrollbars.horizontal,t.moveOptions.scrollbars===!0||!!t.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),t.hasSounds&&B4(t.pathToMedia,e)},y3=function(){X7||(se(document,"scroll",null,function(){const e=Ye();for(let t=0,s;s=e[t];t++)s instanceof Cl&&s.updateInverseScreenCTM()}),we(document,"touchend",null,F),we(document,"touchcancel",null,F)),X7=!0},B4=function(e,t){function s(){for(;v.length;){const M=v.pop();M&&Oe(M)}u.preload()}const u=t.getAudioManager();u.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),u.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),u.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");const v=[];v.push(se(document,"pointermove",null,s,!0)),v.push(se(document,"touchstart",null,s,!0))},P4=function(e){if(!e||!e.isSimpleReporter())return!1;let t;return(t=e.getFields().next().value)==null?void 0:t.isFullBlockField()},hd=function(){Cr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.UNDO},preconditionFn(e){return e.workspace.getUndoStack().length>0?"enabled":"disabled"},callback(e){e.workspace.undo(!1)},scopeType:Cr.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},ph=function(){Cr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.REDO},preconditionFn(e){return e.workspace.getRedoStack().length>0?"enabled":"disabled"},callback(e){e.workspace.undo(!0)},scopeType:Cr.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},dd=function(){Cr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.CLEAN_UP},preconditionFn(e){return e.workspace.isMovable()?e.workspace.getTopBlocks(!1).length>1?"enabled":"disabled":"hidden"},callback(e){e.workspace.cleanUp()},scopeType:Cr.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},fd=function(e,t){function s(M){v--,M.setCollapsed(e),v===0&&n.setGroup$$module$build$src$core$events$utils(!1)}let u=0,v=0;n.setGroup$$module$build$src$core$events$utils(!0);for(let M=0;M<t.length;M++){let re=t[M];for(;re;)v++,setTimeout(s.bind(null,re),u),re=re.getNextBlock(),u+=10}},pd=function(){Cr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.COLLAPSE_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let s=e[t];for(;s;){if(!s.isCollapsed())return"enabled";s=s.getNextBlock()}}return"disabled"}return"hidden"},callback(e){fd(!0,e.workspace.getTopBlocks(!0))},scopeType:Cr.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},md=function(){Cr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.EXPAND_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let s=e[t];for(;s;){if(s.isCollapsed())return"enabled";s=s.getNextBlock()}}return"disabled"}return"hidden"},callback(e){fd(!1,e.workspace.getTopBlocks(!0))},scopeType:Cr.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},gd=function(e,t){if(e.isDeletable())Array.prototype.push.apply(t,e.getDescendants(!1));else{e=e.getChildren(!1);for(let s=0;s<e.length;s++)gd(e[s],t)}},$d=function(e){const t=[];e=e.getTopBlocks(!0);for(let s=0;s<e.length;s++)gd(e[s],t);return t},a1=function(e,t){t?n.setGroup$$module$build$src$core$events$utils(t):(n.setGroup$$module$build$src$core$events$utils(!0),t=n.getGroup$$module$build$src$core$events$utils());const s=e.shift();s&&(s.isDeadOrDying()?a1(e,t):(s.dispose(!1,!0),setTimeout(a1,10,e,t))),n.setGroup$$module$build$src$core$events$utils(!1)},gu=function(){Cr.registry.register({displayText(e){return e.workspace?(e=$d(e.workspace).length,e===1?n.Msg$$module$build$src$core$msg.DELETE_BLOCK:n.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)):""},preconditionFn(e){return e.workspace&&$d(e.workspace).length>0?"enabled":"disabled"},callback(e){if(e.workspace){e.workspace.cancelCurrentGesture();var t=$d(e.workspace);t.length<2?a1(t):At(n.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace("%1",String(t.length)),function(s){s&&a1(t)})}},scopeType:Cr.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},F4=function(){hd(),ph(),dd(),pd(),md(),gu()},u1=function(){Cr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback(e){if(e.block){var t=e.block.toCopyData();t&&na(t,e.block.workspace)}},scopeType:Cr.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},c1=function(){Cr.registry.register({displayText(e){return e.block.hasIcon(Kl.TYPE)?n.Msg$$module$build$src$core$msg.REMOVE_COMMENT:n.Msg$$module$build$src$core$msg.ADD_COMMENT},preconditionFn(e){return e=e.block,!e||e.isInFlyout||!e.workspace.options.comments||e.isCollapsed()||!e.isEditable()||!e.hasIcon(Kl.TYPE)&&P4(e)?"hidden":"enabled"},callback(e){(e=e.block)&&e.hasIcon(Kl.TYPE)?e.setCommentText(null):e.setCommentText("")},scopeType:Cr.ScopeType.BLOCK,id:"blockComment",weight:2})},bd=function(){Cr.registry.register({displayText(e){return e.block.getInputsInline()?n.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:n.Msg$$module$build$src$core$msg.INLINE_INPUTS},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.isMovable()&&!e.isCollapsed()){for(let t=1;t<e.inputList.length;t++)if(!(e.inputList[t-1]instanceof Z3||e.inputList[t]instanceof Z3))return"enabled"}return"hidden"},callback(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:Cr.ScopeType.BLOCK,id:"blockInline",weight:3})},mh=function(){Cr.registry.register({displayText(e){return e.block.isCollapsed()?n.Msg$$module$build$src$core$msg.EXPAND_BLOCK:n.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:Cr.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},U4=function(){Cr.registry.register({displayText(e){return e.block.hasDisabledReason($r)?n.Msg$$module$build$src$core$msg.ENABLE_BLOCK:n.Msg$$module$build$src$core$msg.DISABLE_BLOCK},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.workspace.options.disable&&e.isEditable()){var t=e.getDisabledReasons();return t=t.size>(t.has($r)?1:0),e.getInheritedDisabled()||t?"disabled":"enabled"}return"hidden"},callback(e){e=e.block;const t=n.getGroup$$module$build$src$core$events$utils();t||n.setGroup$$module$build$src$core$events$utils(!0),e.setDisabledReason(!e.hasDisabledReason($r),$r),n.setGroup$$module$build$src$core$events$utils(t)},scopeType:Cr.ScopeType.BLOCK,id:"blockDisable",weight:5})},vd=function(){Cr.registry.register({displayText(e){var t=e.block;return e=t.getDescendants(!1).length,(t=t.getNextBlock())&&(e-=t.getDescendants(!1).length),e===1?n.Msg$$module$build$src$core$msg.DELETE_BLOCK:n.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)},preconditionFn(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback(e){e.block&&e.block.checkAndDelete()},scopeType:Cr.ScopeType.BLOCK,id:"blockDelete",weight:6})},Td=function(){Cr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.HELP},preconditionFn(e){return e=e.block,(typeof e.helpUrl=="function"?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback(e){e.block.showHelp()},scopeType:Cr.ScopeType.BLOCK,id:"blockHelp",weight:7})},yd=function(){Cr.registry.register({displayText:()=>n.Msg$$module$build$src$core$msg.REMOVE_COMMENT,preconditionFn(e){let t;return(t=e.comment)!=null&&t.isDeletable()?"enabled":"hidden"},callback(e){n.setGroup$$module$build$src$core$events$utils(!0);let t;(t=e.comment)==null||t.dispose(),n.setGroup$$module$build$src$core$events$utils(!1)},scopeType:Cr.ScopeType.COMMENT,id:"commentDelete",weight:6})},_d=function(){Cr.registry.register({displayText:()=>n.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,preconditionFn(e){let t;return(t=e.comment)!=null&&t.isMovable()?"enabled":"hidden"},callback(e){if(e.comment){var t=e.comment.toCopyData();t&&na(t,e.comment.workspace)}},scopeType:Cr.ScopeType.COMMENT,id:"commentDuplicate",weight:1})},Ed=function(){Cr.registry.register({displayText:()=>n.Msg$$module$build$src$core$msg.ADD_COMMENT,preconditionFn:e=>{let t;return(t=e.workspace)!=null&&t.isMutator?"hidden":"enabled"},callback:(e,t,s,u)=>{(e=e.workspace)&&(n.setGroup$$module$build$src$core$events$utils(!0),t=new c0(e),t.setPlaceholderText(n.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT),t.moveTo(Ce(e,new qt(u.x,u.y))),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(t),n.setGroup$$module$build$src$core$events$utils(!1))},scopeType:Cr.ScopeType.WORKSPACE,id:"commentCreate",weight:8})},wd=function(){u1(),c1(),bd(),mh(),U4(),vd(),Td()},z4=function(){_d(),yd(),Ed()},Sd=function(){F4(),wd()},xd=function(e){return e&&typeof e.paste=="function"},H4=function(e){return e&&typeof e.getSvgRoot=="function"},V4=function(e){return e.isSelectable()},_3=function(e){L().hideChaff(e)},_t=_t||{},_t.scope={},_t.ASSUME_ES5=!1,_t.ASSUME_ES6=!1,_t.ASSUME_ES2020=!1,_t.ASSUME_NO_NATIVE_MAP=!1,_t.ASSUME_NO_NATIVE_SET=!1,_t.ISOLATE_POLYFILLS=!1,_t.FORCE_POLYFILL_PROMISE=!1,_t.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,_t.INSTRUMENT_ASYNC_CONTEXT=!0,_t.objectCreate=_t.ASSUME_ES5||typeof Object.create=="function"?Object.create:function(e){var t=function(){};return t.prototype=e,new t},_t.defineProperty=_t.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,s){return e==Array.prototype||e==Object.prototype||(e[t]=s.value),e},_t.getGlobal=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof zp=="object"&&zp];for(var t=0;t<e.length;++t){var s=e[t];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")},_t.global=_t.ASSUME_ES2020?globalThis:_t.getGlobal(this),_t.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",_t.TRUST_ES6_POLYFILLS=!_t.ISOLATE_POLYFILLS||_t.IS_SYMBOL_NATIVE,_t.polyfills={},_t.propertyToPolyfillSymbol={},_t.POLYFILL_PREFIX="$jscp$",_t.polyfill=function(e,t,s,u){t&&(_t.ISOLATE_POLYFILLS?_t.polyfillIsolated(e,t,s,u):_t.polyfillUnisolated(e,t,s,u))},_t.polyfillUnisolated=function(e,t,s,u){for(s=_t.global,e=e.split("."),u=0;u<e.length-1;u++){var v=e[u];if(!(v in s))return;s=s[v]}e=e[e.length-1],u=s[e],t=t(u),t!=u&&t!=null&&_t.defineProperty(s,e,{configurable:!0,writable:!0,value:t})},_t.polyfillIsolated=function(e,t,s,u){var v=e.split(".");e=v.length===1,u=v[0],u=!e&&u in _t.polyfills?_t.polyfills:_t.global;for(var M=0;M<v.length-1;M++){var re=v[M];if(!(re in u))return;u=u[re]}v=v[v.length-1],s=_t.IS_SYMBOL_NATIVE&&s==="es6"?u[v]:null,t=t(s),t!=null&&(e?_t.defineProperty(_t.polyfills,v,{configurable:!0,writable:!0,value:t}):t!==s&&(_t.propertyToPolyfillSymbol[v]===void 0&&(s=Math.random()*1e9>>>0,_t.propertyToPolyfillSymbol[v]=_t.IS_SYMBOL_NATIVE?_t.global.Symbol(v):_t.POLYFILL_PREFIX+s+"$"+v),_t.defineProperty(u,_t.propertyToPolyfillSymbol[v],{configurable:!0,writable:!0,value:t})))},_t.getConstructImplementation=function(){function e(){function s(){}return Reflect.construct(s,[],function(){}),new s instanceof s}if(_t.TRUST_ES6_POLYFILLS&&typeof Reflect<"u"&&Reflect.construct){if(e())return Reflect.construct;var t=Reflect.construct;return function(s,u,v){return s=t(s,u),v&&Reflect.setPrototypeOf(s,v.prototype),s}}return function(s,u,v){return v===void 0&&(v=s),v=_t.objectCreate(v.prototype||Object.prototype),Function.prototype.apply.call(s,v,u)||v}},_t.construct={valueOf:_t.getConstructImplementation}.valueOf(),_t.underscoreProtoCanBeSet=function(){var e={a:!0},t={};try{return t.__proto__=e,t.a}catch{}return!1},_t.setPrototypeOf=_t.ASSUME_ES6||_t.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf:_t.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,_t.inherits=function(e,t){if(e.prototype=_t.objectCreate(t.prototype),e.prototype.constructor=e,_t.ASSUME_ES6||_t.setPrototypeOf){var s=_t.setPrototypeOf;s(e,t)}else for(s in t)if(s!="prototype")if(Object.defineProperties){var u=Object.getOwnPropertyDescriptor(t,s);u&&Object.defineProperty(e,s,u)}else e[s]=t[s];e.superClass_=t.prototype},_t.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},_t.arrayIterator=function(e){return{next:_t.arrayIteratorImpl(e)}},_t.makeIterator=function(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if(typeof e.length=="number")return _t.arrayIterator(e);throw Error(String(e)+" is not an iterable or ArrayLike")},_t.arrayFromIterator=function(e){for(var t,s=[];!(t=e.next()).done;)s.push(t.value);return s},_t.arrayFromIterable=function(e){return e instanceof Array?e:_t.arrayFromIterator(_t.makeIterator(e))},_t.generator={},_t.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},_t.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},_t.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},_t.generator.Context.prototype.stop_=function(){this.isRunning_=!1},_t.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},_t.generator.Context.prototype.next_=function(e){this.yieldResult=e},_t.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},_t.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},_t.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},_t.generator.Context.prototype.yield=function(e,t){return this.nextAddress=t,{value:e}},_t.generator.Context.prototype.yieldAll=function(e,t){e=_t.makeIterator(e);var s=e.next();if(_t.generator.ensureIteratorResultIsObject_(s),s.done)this.yieldResult=s.value,this.nextAddress=t;else return this.yieldAllIterator_=e,this.yield(s.value,t)},_t.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},_t.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},_t.generator.Context.prototype.setCatchFinallyBlocks=function(e,t){this.catchAddress_=e,t!=null&&(this.finallyAddress_=t)},_t.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},_t.generator.Context.prototype.leaveTryBlock=function(e,t){this.nextAddress=e,this.catchAddress_=t||0},_t.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e},_t.generator.Context.prototype.enterFinallyBlock=function(e,t,s){s?this.finallyContexts_[s]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=t||0},_t.generator.Context.prototype.leaveFinallyBlock=function(e,t){if(t=this.finallyContexts_.splice(t||0)[0],t=this.abruptCompletion_=this.abruptCompletion_||t){if(t.isException)return this.jumpToErrorHandler_();t.jumpTo!=null&&this.finallyAddress_<t.jumpTo?(this.nextAddress=t.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},_t.generator.Context.prototype.forIn=function(e){return new _t.generator.Context.PropertyIterator(e)},_t.generator.Context.PropertyIterator=function(e){this.object_=e,this.properties_=[];for(var t in e)this.properties_.push(t);this.properties_.reverse()},_t.generator.Context.PropertyIterator.prototype.getNext=function(){for(;this.properties_.length>0;){var e=this.properties_.pop();if(e in this.object_)return e}return null},_t.generator.Engine_=function(e){this.context_=new _t.generator.Context,this.program_=e},_t.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},_t.generator.Engine_.prototype.return_=function(e){this.context_.start_();var t=this.context_.yieldAllIterator_;return t?this.yieldAllStep_("return"in t?t.return:function(s){return{value:s,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},_t.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},_t.generator.Engine_.prototype.yieldAllStep_=function(e,t,s){try{var u=e.call(this.context_.yieldAllIterator_,t);if(_t.generator.ensureIteratorResultIsObject_(u),!u.done)return this.context_.stop_(),u;var v=u.value}catch(M){return this.context_.yieldAllIterator_=null,this.context_.throw_(M),this.nextStep_()}return this.context_.yieldAllIterator_=null,s.call(this.context_,v),this.nextStep_()},_t.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(t){this.context_.yieldResult=void 0,this.context_.throw_(t)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}},_t.generator.Generator_=function(e){this.next=function(t){return e.next_(t)},this.throw=function(t){return e.throw_(t)},this.return=function(t){return e.return_(t)},this[Symbol.iterator]=function(){return this}},_t.generator.createGenerator=function(e,t){return t=new _t.generator.Generator_(new _t.generator.Engine_(t)),_t.setPrototypeOf&&e.prototype&&_t.setPrototypeOf(t,e.prototype),t},_t.asyncExecutePromiseGenerator=function(e){function t(u){return e.next(u)}function s(u){return e.throw(u)}return new Promise(function(u,v){function M(re){re.done?u(re.value):Promise.resolve(re.value).then(t,s).then(M,v)}M(e.next())})},_t.asyncExecutePromiseGeneratorFunction=function(e){return _t.asyncExecutePromiseGenerator(e())},_t.asyncExecutePromiseGeneratorProgram=function(e){return _t.asyncExecutePromiseGenerator(new _t.generator.Generator_(new _t.generator.Engine_(e)))},_t.polyfill("globalThis",function(e){return e||_t.global},"es_2020","es3"),_t.polyfill("Array.prototype.includes",function(e){return e||function(t,s){var u=this;u instanceof String&&(u=String(u));var v=u.length;for(s=s||0,s<0&&(s=Math.max(s+v,0));s<v;s++){var M=u[s];if(M===t||Object.is(M,t))return!0}return!1}},"es7","es3"),_t.checkEs6ConformanceViaProxy=function(){try{var e={},t=Object.create(new _t.global.Proxy(e,{get:function(s,u,v){return s==e&&u=="q"&&v==t}}));return t.q===!0}catch{return!1}},_t.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,_t.ES6_CONFORMANCE=_t.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&_t.checkEs6ConformanceViaProxy(),_t.initSymbol=function(){},_t.iteratorPrototype=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},_t.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},_t.MapEntry=function(){},_t.polyfill("Set.prototype.difference",function(e){return e||function(t){_t.checkIsSetInstance(this),_t.checkIsSetLike(t);var s=_t.getSmallerAndLargerSets(this,t);t=new Set(this);var u=s.smallerSetIterator;s=s.largerSet;for(var v=u.next();!v.done;)s.has(v.value)&&t.delete(v.value),v=u.next();return t}},"es_next","es6"),_t.checkIsSetLike=function(e){if(typeof e!="object"||e===null||typeof e.size!="number"||e.size<0||typeof e.keys!="function"||typeof e.has!="function")throw new TypeError("Argument must be set-like")},_t.checkIsValidIterator=function(e){if(typeof e!="object"||e===null||typeof e.next!="function")throw new TypeError("Invalid iterator.");return e},_t.getSmallerAndLargerSets=function(e,t){return e.size<=t.size?{smallerSetIterator:e.keys(),largerSet:t}:{smallerSetIterator:_t.checkIsValidIterator(t.keys()),largerSet:e}},_t.checkIsSetInstance=function(e){if(!(e instanceof Set))throw new TypeError("Method must be called on an instance of Set.")},_t.iteratorFromArray=function(e,t){if(_t.ASSUME_ES6)return e[Symbol.iterator]();e instanceof String&&(e+="");var s=0,u=!1,v={next:function(){if(!u&&s<e.length){var M=s++;return{value:t(M,e[M]),done:!1}}return u=!0,{done:!0,value:void 0}}};return v[Symbol.iterator]=function(){return v},v},_t.polyfill("Array.prototype.values",function(e){return e||function(){return _t.iteratorFromArray(this,function(t,s){return s})}},"es8","es3"),_t.polyfill("Array.prototype.flatMap",function(e){return e||function(t,s){var u=[];return Array.prototype.forEach.call(this,function(v,M){v=t.call(s,v,M,this),Array.isArray(v)?u.push.apply(u,v):u.push(v)}),u}},"es9","es5"),_t.polyfill("Array.prototype.flat",function(e){return e||function(t){t=t===void 0?1:t;var s=[];return Array.prototype.forEach.call(this,function(u){Array.isArray(u)&&t>0?(u=Array.prototype.flat.call(u,t-1),s.push.apply(s,u)):s.push(u)}),s}},"es9","es5"),_t.polyfill("Object.entries",function(e){return e||function(t){var s=[],u;for(u in t)_t.owns(t,u)&&s.push([u,t[u]]);return s}},"es8","es3"),_t.polyfill("Object.values",function(e){return e||function(t){var s=[],u;for(u in t)_t.owns(t,u)&&s.push(t[u]);return s}},"es8","es3");var Ua=Object.create(null),E3={typeMap:Ua},h1=Object.create(null),gl="default",Ht=class{constructor(e){this.name=e}toString(){return this.name}};Ht.CONNECTION_CHECKER=new Ht("connectionChecker"),Ht.CONNECTION_PREVIEWER=new Ht("connectionPreviewer"),Ht.CURSOR=new Ht("cursor"),Ht.EVENT=new Ht("event"),Ht.FIELD=new Ht("field"),Ht.INPUT=new Ht("input"),Ht.RENDERER=new Ht("renderer"),Ht.TOOLBOX=new Ht("toolbox"),Ht.THEME=new Ht("theme"),Ht.TOOLBOX_ITEM=new Ht("toolboxItem"),Ht.FLYOUTS_VERTICAL_TOOLBOX=new Ht("flyoutsVerticalToolbox"),Ht.FLYOUTS_HORIZONTAL_TOOLBOX=new Ht("flyoutsHorizontalToolbox"),Ht.FLYOUT_INFLATER=new Ht("flyoutInflater"),Ht.METRICS_MANAGER=new Ht("metricsManager"),Ht.BLOCK_DRAGGER=new Ht("blockDragger"),Ht.SERIALIZER=new Ht("serializer"),Ht.ICON=new Ht("icon"),Ht.PASTER=new Ht("paster"),Ht.VARIABLE_MODEL=new Ht("variableModel"),Ht.VARIABLE_MAP=new Ht("variableMap");var za={DEFAULT:gl,TEST_ONLY:E3};za.Type=Ht,za.getAllItems=w,za.getClass=y,za.getClassFromOptions=I,za.getObject=E,za.hasItem=_,za.register=a,za.unregister=p;var Ts=Object.create(null),w3=750,d1="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),f1=null,ra={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},gh=0,$u={TOUCH_ENABLED:d1,TOUCH_MAP:ra};$u.checkTouchIdentifier=K,$u.clearTouchIdentifier=te,$u.getTouchIdentifierFromEvent=ce,$u.longStart=H,$u.longStop=F,$u.shouldHandleEvent=he;var bc,G4,Cd,W4,p1,m1,kd,q4,bu,X4;(function(e){function t(u){return s.includes(u.toUpperCase())}bc=e;const s=bc.toUpperCase();G4=t("JavaFX"),Cd=t("WebKit"),W4=t("Gecko")&&!Cd,p1=t("Android"),e=globalThis.navigator&&globalThis.navigator.maxTouchPoints,m1=t("iPad")||t("Macintosh")&&e>0,kd=t("iPhone")&&!m1,q4=t("Macintosh"),bu=m1||p1&&!t("Mobile")||t("Silk"),X4=!bu&&(kd||p1)})(globalThis.navigator&&globalThis.navigator.userAgent||"");var S3=bc,j4=G4,$h=W4,Id=p1,g1=m1,Y4=kd,Ad=q4,x3=X4,K4={ANDROID:Id,GECKO:$h,IPAD:g1,IPHONE:Y4,JavaFx:j4,MAC:Ad,MOBILE:x3,raw:S3},to=40,Co=125,ia={};ia.bind=we,ia.conditionalBind=se,ia.getScrollDeltaPixels=at,ia.isRightButton=Se,ia.isTargetInput=De,ia.mouseToSvg=je,ia.unbind=Oe;var mt;(function(e){e.BLOCK_CREATE="create",e.BLOCK_DELETE="delete",e.BLOCK_CHANGE="change",e.BLOCK_FIELD_INTERMEDIATE_CHANGE="block_field_intermediate_change",e.BLOCK_MOVE="move",e.VAR_CREATE="var_create",e.VAR_DELETE="var_delete",e.VAR_RENAME="var_rename",e.VAR_TYPE_CHANGE="var_type_change",e.UI="ui",e.BLOCK_DRAG="drag",e.SELECTED="selected",e.CLICK="click",e.MARKER_MOVE="marker_move",e.BUBBLE_OPEN="bubble_open",e.TRASHCAN_OPEN="trashcan_open",e.TOOLBOX_ITEM_SELECT="toolbox_item_select",e.THEME_CHANGE="theme_change",e.VIEWPORT_CHANGE="viewport_change",e.COMMENT_CREATE="comment_create",e.COMMENT_DELETE="comment_delete",e.COMMENT_CHANGE="comment_change",e.COMMENT_MOVE="comment_move",e.COMMENT_RESIZE="comment_resize",e.COMMENT_DRAG="comment_drag",e.COMMENT_COLLAPSE="comment_collapse",e.FINISHED_LOADING="finished_loading"})(mt||(mt={}));var J4=[mt.BLOCK_CREATE,mt.BLOCK_MOVE,mt.COMMENT_CREATE,mt.COMMENT_MOVE],Z4="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",$1={genUid:()=>{const e=Z4.length,t=[];for(let s=0;s<20;s++)t[s]=Z4.charAt(Math.random()*e);return t.join("")}},C3=0,b1={TEST_ONLY:$1};b1.genUid=Ke,b1.getNextUniqueId=Ze;var Q4="",bh=!0,v1=0,vh="ORPHANED_BLOCK",sa=[],e2={FIRE_QUEUE:sa,enqueueEvent:_e,fireNow:tt,fireInternal:Le,setGroupInternal:cn};n.disable$$module$build$src$core$events$utils,n.enable$$module$build$src$core$events$utils,n.getGroup$$module$build$src$core$events$utils,n.setGroup$$module$build$src$core$events$utils,n.setRecordUndo$$module$build$src$core$events$utils;var T1="http://www.w3.org/2000/svg",Ha="http://www.w3.org/1999/xhtml",sl="http://www.w3.org/1999/xlink",N0;(function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"})(N0||(N0={}));var u0=null,Th=0,vu=null,lo={HTML_NS:Ha};lo.NodeType=N0,lo.SVG_NS=T1,lo.XLINK_NS=sl,lo.addClass=rn,lo.createSvgElement=ct,lo.getFastTextWidth=rr,lo.getFastTextWidthWithSizeString=Xn,lo.getTextWidth=li,lo.hasClass=mr,lo.insertAfter=$i,lo.measureFontMetrics=O,lo.removeClass=Zn,lo.removeClasses=Br,lo.removeNode=un,lo.setCssTransform=wi,lo.startTextWidthCache=nr,lo.stopTextWidthCache=es;var To=class{static findFocusedNode(e){var t=e.getRootFocusableNode();if(!t.canBeFocused())return null;var s=t.getFocusableElement();return mr(s,To.ACTIVE_CLASS_NAME)||mr(s,To.PASSIVE_CSS_CLASS_NAME)||(t=s.querySelector(this.ACTIVE_FOCUS_NODE_CSS_SELECTOR),(t instanceof HTMLElement||t instanceof SVGElement)&&(t=To.findFocusableNodeFor(t,e)))?t:(s=s.querySelector(this.PASSIVE_FOCUS_NODE_CSS_SELECTOR),(s instanceof HTMLElement||s instanceof SVGElement)&&(e=To.findFocusableNodeFor(s,e))?e:null)}static findFocusableNodeFor(e,t){if(!e.id||e.id==="null"||t.getNestedTrees().map(v=>To.findFocusableNodeFor(e,v)).findIndex(v=>!!v)!==-1)return null;var s=t.getRootFocusableNode();if(s.canBeFocused()&&e===s.getFocusableElement())return s;var u;return(s=(u=t.lookUpFocusableNode(e.id))!=null?u:null)?s:(u=e.parentElement,!s&&u?To.findFocusableNodeFor(u,t):null)}};To.ACTIVE_CLASS_NAME="blocklyActiveFocus",To.PASSIVE_CSS_CLASS_NAME="blocklyPassiveFocus",To.ACTIVE_FOCUS_NODE_CSS_SELECTOR=`.${To.ACTIVE_CLASS_NAME}`,To.PASSIVE_FOCUS_NODE_CSS_SELECTOR=`.${To.PASSIVE_CSS_CLASS_NAME}`;var t2=class{constructor(e,t){this.tree=e,this.rootShouldBeAutoTabbable=t}},ko=class{constructor(e){this.previouslyFocusedNode=this.focusedNode=null,this.registeredTrees=[],this.isUpdatingFocusedNode=this.recentlyLostAllFocus=this.lockFocusStateChanges=this.currentlyHoldsEphemeralFocus=!1;const t=s=>{if(!this.isUpdatingFocusedNode){this.recentlyLostAllFocus=!s;var u=null;if(s instanceof HTMLElement||s instanceof SVGElement){for(var v of this.registeredTrees)if(u=To.findFocusableNodeFor(s,v.tree))break}if(u&&u.canBeFocused()){s=u.getFocusableTree();let M;v=(M=this.focusedNode)==null?void 0:M.getFocusableTree(),u===s.getRootFocusableNode()&&s!==v?this.focusTree(s):this.focusNode(u)}else this.defocusCurrentFocusedNode()}};e("focusin",s=>{s instanceof FocusEvent&&t(document.activeElement)}),e("focusout",s=>{s instanceof FocusEvent&&t(s.relatedTarget)})}registerTree(e,t=!1){if(this.ensureManagerIsUnlocked(),this.isRegistered(e))throw Error(`Attempted to re-register already registered tree: ${e}.`);this.registeredTrees.push(new t2(e,t));const s=e.getRootFocusableNode().getFocusableElement();if(!s.id||s.id==="null")throw Error(`Attempting to register a tree with a root element that has an invalid ID: ${e}.`);t&&(s.tabIndex=0)}isRegistered(e){return!!this.lookUpRegistration(e)}lookUpRegistration(e){let t;return(t=this.registeredTrees.find(s=>s.tree===e))!=null?t:null}unregisterTree(e){if(this.ensureManagerIsUnlocked(),!this.isRegistered(e))throw Error(`Attempted to unregister not registered tree: ${e}.`);var t=this.registeredTrees.findIndex(v=>v.tree===e);const s=this.registeredTrees[t];this.registeredTrees.splice(t,1),t=To.findFocusedNode(e);const u=e.getRootFocusableNode();t&&this.removeHighlight(t),this.focusedNode!==t&&this.focusedNode!==u||this.updateFocusedNode(null),this.removeHighlight(u),s.rootShouldBeAutoTabbable&&e.getRootFocusableNode().getFocusableElement().removeAttribute("tabindex")}getFocusedTree(){let e,t;return(t=(e=this.focusedNode)==null?void 0:e.getFocusableTree())!=null?t:null}getFocusedNode(){return this.focusedNode}focusTree(e){if(this.ensureManagerIsUnlocked(),!this.isRegistered(e))throw Error(`Attempted to focus unregistered tree: ${e}.`);const t=To.findFocusedNode(e),s=e.getRestoredFocusableNode(t);e=e.getRootFocusableNode();let u;this.focusNode((u=s??t)!=null?u:e)}focusNode(e){this.ensureManagerIsUnlocked();const t=!this.currentlyHoldsEphemeralFocus;t&&(this.isUpdatingFocusedNode=!0);var s,u=((s=this.focusedNode)==null?void 0:s.getFocusableElement())!==document.activeElement;if(this.focusedNode!==e||u)if(e.canBeFocused()){if(s=e.getFocusableTree(),!this.isRegistered(s))throw Error(`Attempted to focus unregistered node: ${e}.`);u=e.getFocusableElement(),u.id&&u.id!=="null"||console.warn("Trying to focus a node that has an invalid ID.");var v=To.findFocusableNodeFor(u,s);u=To.findFocusedNode(s);var M=e;if(v!==e){M=s.getRestoredFocusableNode(u),e=s.getRootFocusableNode();var re;M=(re=M??u)!=null?re:e}e=this.focusedNode,re=e?.getFocusableTree(),e&&this.passivelyFocusNode(e,s),s=s.getRootFocusableNode(),u&&this.removeHighlight(u),s!==M&&this.removeHighlight(s),this.currentlyHoldsEphemeralFocus||this.activelyFocusNode(M,re??null),this.updateFocusedNode(M)}else console.warn("Trying to focus a node that can't be focused.");t&&(this.isUpdatingFocusedNode=!1)}takeEphemeralFocus(e){if(this.ensureManagerIsUnlocked(),this.currentlyHoldsEphemeralFocus)throw Error(`Attempted to take ephemeral focus when it's already held, with new element: ${e}.`);this.currentlyHoldsEphemeralFocus=!0,this.focusedNode&&this.passivelyFocusNode(this.focusedNode,null),e.focus({preventScroll:!0});let t=!1;return()=>{if(t)throw Error(`Attempted to finish ephemeral focus twice for element: ${e}.`);if(t=!0,this.currentlyHoldsEphemeralFocus=!1,this.focusedNode){this.activelyFocusNode(this.focusedNode,null);const s=this.focusedNode;setTimeout(()=>{!this.focusedNode&&this.previouslyFocusedNode===s&&this.recentlyLostAllFocus&&this.focusNode(s)},0)}}}ephemeralFocusTaken(){return this.currentlyHoldsEphemeralFocus}ensureManagerIsUnlocked(){if(this.lockFocusStateChanges)throw Error("FocusManager state changes cannot happen in a tree/node focus/blur callback.")}updateFocusedNode(e){this.previouslyFocusedNode=this.focusedNode,this.focusedNode=e}defocusCurrentFocusedNode(){this.focusedNode&&!this.currentlyHoldsEphemeralFocus&&(this.passivelyFocusNode(this.focusedNode,null),this.updateFocusedNode(null))}activelyFocusNode(e,t){this.lockFocusStateChanges=!0;const s=e.getFocusableTree(),u=e.getFocusableElement();let v;const M=(v=this.lookUpRegistration(s))==null?void 0:v.rootShouldBeAutoTabbable;s!==t&&(s.onTreeFocus(e,t),M&&(s.getRootFocusableNode().getFocusableElement().tabIndex=-1)),e.onNodeFocus(),this.lockFocusStateChanges=!1,M&&e===s.getRootFocusableNode()||u.hasAttribute("tabindex")||(u.tabIndex=-1),this.setNodeToVisualActiveFocus(e),u.focus({preventScroll:!0})}passivelyFocusNode(e,t){this.lockFocusStateChanges=!0;const s=e.getFocusableTree();if(s!==t){s.onTreeBlur(t);let u;(u=this.lookUpRegistration(s))!=null&&u.rootShouldBeAutoTabbable&&(s.getRootFocusableNode().getFocusableElement().tabIndex=0)}e.onNodeBlur(),this.lockFocusStateChanges=!1,s!==t&&this.setNodeToVisualPassiveFocus(e)}setNodeToVisualActiveFocus(e){e=e.getFocusableElement(),rn(e,ko.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),Zn(e,ko.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}setNodeToVisualPassiveFocus(e){e=e.getFocusableElement(),Zn(e,ko.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),rn(e,ko.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}removeHighlight(e){e=e.getFocusableElement(),Zn(e,ko.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),Zn(e,ko.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}static getFocusManager(){return ko.focusManager||(ko.focusManager=new ko(document.addEventListener)),ko.focusManager}};ko.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME="blocklyActiveFocus",ko.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME="blocklyPassiveFocus",ko.focusManager=null,n.getFocusManager$$module$build$src$core$focus_manager;var oa={};oa.deepMerge=Be;var qi=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(e,t){if(this.shortcuts.get(e.name)&&!t)throw Error(`Shortcut named "${e.name}" already exists.`);if(this.shortcuts.set(e.name,e),t=e.keyCodes,t!=null&&t.length)for(const s of t)this.addKeyMapping(s,e.name,!!e.allowCollision)}unregister(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn(`Keyboard shortcut named "${e}" not found.`),!1)}addKeyMapping(e,t,s){e=`${e}`;const u=this.keyMap.get(e);if(u&&!s)throw Error(`Shortcut named "${t}" collides with shortcuts "${u}"`);u&&s?u.unshift(t):this.keyMap.set(e,[t])}removeKeyMapping(e,t,s){const u=this.keyMap.get(e);if(!u)return s||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1;const v=u.indexOf(t);return v>-1?(u.splice(v,1),u.length===0&&this.keyMap.delete(e),!0):(s||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1)}removeAllKeyMappings(e){for(const t of this.keyMap.keys())this.removeKeyMapping(t,e,!0)}setKeyMap(e){this.keyMap.clear();for(const t in e)this.keyMap.set(t,e[t])}getKeyMap(){const e=Object.create(null);for(const[t,s]of this.keyMap)e[t]=s;return e}getRegistry(){const e=Object.create(null);for(const[t,s]of this.shortcuts)e[t]=s;return Be(Object.create(null),e)}onKeyDown(e,t){var s=this.serializeKeyEvent(t);if(s=this.getShortcutNamesByKeyCode(s),!s)return!1;for(const u of s){s=this.shortcuts.get(u);let v;if(!s||s.preconditionFn&&!s.preconditionFn(e,{focusedNode:(v=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?v:void 0}))continue;let M,re,Re;if((re=(M=s).callback)!=null&&re.call(M,e,t,s,{focusedNode:(Re=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?Re:void 0}))return!0}return!1}getShortcutNamesByKeyCode(e){let t;return((t=this.keyMap.get(e))==null?void 0:t.slice())||[]}getKeyCodesByShortcutName(e){const t=[];for(const[s,u]of this.keyMap)u.indexOf(e)>-1&&t.push(s);return t}serializeKeyEvent(e){let t="";for(const s in qi.modifierKeys)e.getModifierState(s)&&(t!==""&&(t+="+"),t+=s);return t!==""&&e.keyCode?t+="+"+e.keyCode:e.keyCode&&(t=String(e.keyCode)),t}checkModifiers(e){for(const t of e)if(!(t in qi.modifierKeys))throw Error(t+" is not a valid modifier key.")}createSerializedKey(e,t){let s="";if(t){this.checkModifiers(t);for(const u in qi.modifierKeys)t.includes(qi.modifierKeys[u])&&(s!==""&&(s+="+"),s+=u)}return s!==""&&e?s+="+"+e:e&&(s=`${e}`),s}};qi.registry=new qi,(function(e){e=e.modifierKeys||(e.modifierKeys={}),e[e.Shift=16]="Shift",e[e.Control=17]="Control",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta"})(qi||(qi={}));var yh=Object.create(null),n2,la,vc=[],r2={defineBlocksWithJsonArrayInternal:Ee},Ws={TEST_ONLY:r2};Ws.createBlockDefinitionsFromJsonArray=n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common,Ws.defineBlocks=n.defineBlocks$$module$build$src$core$common,Ws.defineBlocksWithJsonArray=j,Ws.draggingConnections=vc,Ws.fireSelectedEvent=Dt,Ws.getAllWorkspaces=Ye,Ws.getBlockTypeCounts=ve,Ws.getMainWorkspace=L,Ws.getParentContainer=Sn,Ws.getSelected=ze,Ws.getWorkspaceById=nt,Ws.globalShortcutHandler=Fe,Ws.registerWorkspace=yt,Ws.setMainWorkspace=ae,Ws.setParentContainer=Ar,Ws.setSelected=Pe,Ws.svgResize=Y,Ws.unregisterWorkpace=xt;var aa=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=n.getGroup$$module$build$src$core$events$utils(),this.recordUndo=an()}toJson(){return{type:this.type,group:this.group}}static fromJson(e,t,s){return s.isBlank=!1,s.group=e.group||"",s.workspaceId=t.id,s}isNull(){return!1}run(e){}getEventWorkspace_(){let e;if(this.workspaceId&&(e=nt(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}},yi=class extends aa{constructor(e){super(),this.recordUndo=!1,this.isUiEvent=!0,this.isBlank=typeof e>"u",this.workspaceId=e||""}},i2=class extends yi{constructor(e,t,s){t=e?e.workspace.id:t,t===null&&(t=void 0),super(t),this.type=mt.CLICK,this.blockId=e?e.id:void 0,this.targetType=s}toJson(){const e=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new i2),t.targetType=e.targetType,t.blockId=e.blockId,t}},s2;(function(e){e.BLOCK="block",e.WORKSPACE="workspace",e.ZOOM_CONTROLS="zoom_controls"})(s2||(s2={})),a(Ht.EVENT,mt.CLICK,i2);var o2={};o2.removeElem=Mt;var ql=class{constructor(e){this.name=e}toString(){return this.name}};ql.POSITIONABLE=new ql("positionable"),ql.DRAG_TARGET=new ql("drag_target"),ql.DELETE_AREA=new ql("delete_area"),ql.AUTOHIDEABLE=new ql("autohideable");var ki=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(e,t){const s=e.component.id;if(!t&&this.componentData.has(s)){var u;throw Error('Plugin "'+s+'" with capabilities "'+((u=this.componentData.get(s))==null?void 0:u.capabilities)+'" already added.')}for(this.componentData.set(s,e),t=[],u=0;u<e.capabilities.length;u++){const v=String(e.capabilities[u]).toLowerCase();if(t.push(v),this.capabilityToComponentIds.has(v)){let M;(M=this.capabilityToComponentIds.get(v))==null||M.push(s)}else this.capabilityToComponentIds.set(v,[s])}this.componentData.get(s).capabilities=t}removeComponent(e){const t=this.componentData.get(e);if(t){for(let s=0;s<t.capabilities.length;s++){const u=String(t.capabilities[s]).toLowerCase();Mt(this.capabilityToComponentIds.get(u),e)}this.componentData.delete(e)}}addCapability(e,t){if(!this.getComponent(e))throw Error('Cannot add capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');if(this.hasCapability(e,t))console.warn('Plugin "'+e+'already has capability "'+t+'"');else{t=`${t}`.toLowerCase();var s;(s=this.componentData.get(e))==null||s.capabilities.push(t);var u;(u=this.capabilityToComponentIds.get(t))==null||u.push(e)}}removeCapability(e,t){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?(t=`${t}`.toLowerCase(),Mt(this.componentData.get(e).capabilities,t),Mt(this.capabilityToComponentIds.get(t),e)):console.warn('Plugin "'+e+`doesn't have capability "`+t+'" to remove')}hasCapability(e,t){return t=`${t}`.toLowerCase(),this.componentData.has(e)&&this.componentData.get(e).capabilities.includes(t)}getComponent(e){let t;return(t=this.componentData.get(e))==null?void 0:t.component}getComponents(e,t){if(e=`${e}`.toLowerCase(),e=this.capabilityToComponentIds.get(e),!e)return[];const s=[];if(t){const u=[];e.forEach(v=>{u.push(this.componentData.get(v))}),u.sort(function(v,M){return v.weight-M.weight}),u.forEach(function(v){s.push(v.component)})}else e.forEach(u=>{s.push(this.componentData.get(u).component)});return s}};ki.Capability=ql,(function(e){e=e.ComponentWeight||(e.ComponentWeight={}),e[e.TOOLBOX_WEIGHT=0]="TOOLBOX_WEIGHT",e[e.FLYOUT_WEIGHT=1]="FLYOUT_WEIGHT",e[e.TRASHCAN_WEIGHT=2]="TRASHCAN_WEIGHT",e[e.ZOOM_CONTROLS_WEIGHT=3]="ZOOM_CONTROLS_WEIGHT"})(ki||(ki={})),ki.ComponentWeight;var Nd=!1,Md=`
.blocklySvg {
  background-color: #fff;
  outline: none;
  overflow: hidden;  /* IE overflows by default. */
  position: absolute;
  display: block;
}

.blocklyWidgetDiv {
  display: none;
  position: absolute;
  z-index: 99999;  /* big value for bootstrap3 compatibility */
}

.injectionDiv {
  height: 100%;
  position: relative;
  overflow: hidden;  /* So blocks in drag surface disappear at edges */
  touch-action: none;
  user-select: none;
  -webkit-user-select: none;
}

.blocklyBlockCanvas.blocklyCanvasTransitioning,
.blocklyBubbleCanvas.blocklyCanvasTransitioning {
  transition: transform .5s;
}

.blocklyEmboss {
  filter: var(--blocklyEmbossFilter);
}

.blocklyTooltipDiv {
  background-color: #ffffc7;
  border: 1px solid #ddc;
  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);
  color: #000;
  display: none;
  font: 9pt sans-serif;
  opacity: .9;
  padding: 2px;
  position: absolute;
  z-index: 100000;  /* big value for bootstrap3 compatibility */
}

.blocklyDropDownDiv {
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1000;
  display: none;
  border: 1px solid;
  border-color: #dadce0;
  background-color: #fff;
  border-radius: 2px;
  padding: 4px;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv:focus {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownContent {
  max-height: 300px;  /* @todo: spec for maximum height. */
}

.blocklyDropDownArrow {
  position: absolute;
  left: 0;
  top: 0;
  width: 16px;
  height: 16px;
  z-index: -1;
  background-color: inherit;
  border-color: inherit;
  border-top: 1px solid;
  border-left: 1px solid;
  border-top-left-radius: 4px;
  border-color: inherit;
}

.blocklyHighlighted>.blocklyPath {
  filter: var(--blocklyEmbossFilter);
}

.blocklyHighlightedConnectionPath {
  fill: none;
  stroke: #fc3;
  stroke-width: 4px;
}

.blocklyPathLight {
  fill: none;
  stroke-linecap: round;
  stroke-width: 1;
}

.blocklySelected>.blocklyPathLight {
  display: none;
}

.blocklyDraggable {
  cursor: grab;
  cursor: -webkit-grab;
}

.blocklyDragging {
  cursor: grabbing;
  cursor: -webkit-grabbing;
  /* Drag surface disables events to not block the toolbox, so we have to
   * reenable them here for the cursor values to work. */
  pointer-events: auto;
}

  /* Changes cursor on mouse down. Not effective in Firefox because of
     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */
.blocklyDraggable:active {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

.blocklyDragging.blocklyDraggingDelete,
.blocklyDragging.blocklyDraggingDelete .blocklyField {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyDragging>.blocklyPath,
.blocklyDragging>.blocklyPathLight {
  fill-opacity: .8;
  stroke-opacity: .8;
}

.blocklyDragging>.blocklyPathDark {
  display: none;
}

.blocklyDisabledPattern>.blocklyPath {
  fill: var(--blocklyDisabledPattern);
  fill-opacity: .5;
  stroke-opacity: .5;
}

.blocklyDisabled>.blocklyPathLight,
.blocklyDisabled>.blocklyPathDark {
  display: none;
}

.blocklyInsertionMarker>.blocklyPath,
.blocklyInsertionMarker>.blocklyPathLight,
.blocklyInsertionMarker>.blocklyPathDark {
  fill-opacity: .2;
  stroke: none;
}

.blocklyNonEditableField>text {
  pointer-events: none;
}

.blocklyFlyout {
  position: absolute;
  z-index: 20;
}

.blocklyText text {
  cursor: default;
}

/*
  Don't allow users to select text.  It gets annoying when trying to
  drag a block and selected text moves instead.
*/
.blocklySvg text {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  cursor: inherit;
}

.blocklyIconGroup {
  cursor: default;
}

.blocklyIconGroup:not(:hover):not(:focus),
.blocklyIconGroupReadonly {
  opacity: .6;
}

.blocklyIconShape {
  fill: #00f;
  stroke: #fff;
  stroke-width: 1px;
}

.blocklyIconSymbol {
  fill: #fff;
}

.blocklyMinimalBody {
  margin: 0;
  padding: 0;
  height: 100%;
}

.blocklyHtmlInput {
  border: none;
  border-radius: 4px;
  height: 100%;
  margin: 0;
  outline: none;
  padding: 0;
  width: 100%;
  text-align: center;
  display: block;
  box-sizing: border-box;
}

/* Remove the increase and decrease arrows on the field number editor */
input.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,
input.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield;
}

.blocklyMainBackground {
  stroke-width: 1;
  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */
}

.blocklyMutatorBackground {
  fill: #fff;
  stroke: #ddd;
  stroke-width: 1;
}

.blocklyFlyoutBackground {
  fill: #ddd;
  fill-opacity: .8;
}

.blocklyMainWorkspaceScrollbar {
  z-index: 20;
}

.blocklyFlyoutScrollbar {
  z-index: 30;
}

.blocklyScrollbarHorizontal,
.blocklyScrollbarVertical {
  position: absolute;
  outline: none;
}

.blocklyScrollbarBackground {
  opacity: 0;
  pointer-events: none;
}

.blocklyScrollbarHandle {
  fill: #ccc;
}

.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyScrollbarHandle:hover {
  fill: #bbb;
}

/* Darken flyout scrollbars due to being on a grey background. */
/* By contrast, workspace scrollbars are on a white background. */
.blocklyFlyout .blocklyScrollbarHandle {
  fill: #bbb;
}

.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyFlyout .blocklyScrollbarHandle:hover {
  fill: #aaa;
}

.blocklyInvalidInput {
  background: #faa;
}

.blocklyVerticalMarker {
  stroke-width: 3px;
  fill: rgba(255,255,255,.5);
  pointer-events: none;
}

.blocklyComputeCanvas {
  position: absolute;
  width: 0;
  height: 0;
}

.blocklyNoPointerEvents {
  pointer-events: none;
}

.blocklyContextMenu {
  border-radius: 4px;
  max-height: 100%;
}

.blocklyDropdownMenu {
  border-radius: 2px;
  padding: 0 !important;
}

.blocklyDropdownMenu .blocklyMenuItem {
  /* 28px on the left for icon or checkbox. */
  padding-left: 28px;
}

/* BiDi override for the resting state. */
.blocklyDropdownMenu .blocklyMenuItemRtl {
  /* Flip left/right padding for BiDi. */
  padding-left: 5px;
  padding-right: 28px;
}

.blocklyWidgetDiv .blocklyMenu {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  background: #fff;
  border: 1px solid transparent;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
  font: normal 13px Arial, sans-serif;
  margin: 0;
  outline: none;
  padding: 4px 0;
  position: absolute;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

.blocklyWidgetDiv .blocklyMenu:focus {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv .blocklyMenu {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  background: inherit;  /* Compatibility with gapi, reset from goog-menu */
  border: inherit;  /* Compatibility with gapi, reset from goog-menu */
  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;
  outline: none;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

/* State: resting. */
.blocklyMenuItem {
  border: none;
  color: #000;
  cursor: pointer;
  list-style: none;
  margin: 0;
  /* 7em on the right for shortcut. */
  min-width: 7em;
  padding: 6px 15px;
  white-space: nowrap;
}

/* State: disabled. */
.blocklyMenuItemDisabled {
  color: #ccc;
  cursor: inherit;
}

/* State: hover. */
.blocklyMenuItemHighlight {
  background-color: rgba(0,0,0,.1);
}

/* State: selected/checked. */
.blocklyMenuItemCheckbox {
  height: 16px;
  position: absolute;
  width: 16px;
}

.blocklyMenuItemSelected .blocklyMenuItemCheckbox {
  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;
  float: left;
  margin-left: -24px;
  position: static;  /* Scroll with the menu. */
}

.blocklyMenuItemRtl .blocklyMenuItemCheckbox {
  float: right;
  margin-right: -24px;
}

.blocklyMenuSeparator {
  background-color: #ccc;
  height: 1px;
  border: 0;
  margin-left: 4px;
  margin-right: 4px;
}

.blocklyBlockDragSurface, .blocklyAnimationLayer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: visible !important;
  z-index: 80;
  pointer-events: none;
}

.blocklyField {
  cursor: default;
}

.blocklyInputField {
  cursor: text;
}

.blocklyDragging .blocklyField,
.blocklyDragging .blocklyIconGroup {
  cursor: grabbing;
}

.blocklyActiveFocus:is(
  .blocklyFlyout,
  .blocklyWorkspace,
  .blocklyField,
  .blocklyPath,
  .blocklyHighlightedConnectionPath,
  .blocklyComment,
  .blocklyBubble,
  .blocklyIconGroup,
  .blocklyTextarea
) {
  outline: none;
}
`,Tc={};Tc.inject=Mn,Tc.register=dn;var qt=class{constructor(e,t){this.x=e,this.y=t}clone(){return new qt(this.x,this.y)}scale(e){return this.x*=e,this.y*=e,this}translate(e,t){return this.x+=e,this.y+=t,this}static equals(e,t){return e===t?!0:e&&t?e.x===t.x&&e.y===t.y:!1}static distance(e,t){const s=e.x-t.x;return e=e.y-t.y,Math.sqrt(s*s+e*e)}static magnitude(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static difference(e,t){return new qt(e.x-t.x,e.y-t.y)}static sum(e,t){return new qt(e.x+t.x,e.y+t.y)}},ft=class{constructor(e){this.tagName=e}toString(){return this.tagName}};ft.ANIMATE=new ft("animate"),ft.CIRCLE=new ft("circle"),ft.CLIPPATH=new ft("clipPath"),ft.DEFS=new ft("defs"),ft.FECOMPOSITE=new ft("feComposite"),ft.FECOMPONENTTRANSFER=new ft("feComponentTransfer"),ft.FEFLOOD=new ft("feFlood"),ft.FEFUNCA=new ft("feFuncA"),ft.FEGAUSSIANBLUR=new ft("feGaussianBlur"),ft.FEPOINTLIGHT=new ft("fePointLight"),ft.FESPECULARLIGHTING=new ft("feSpecularLighting"),ft.FILTER=new ft("filter"),ft.FOREIGNOBJECT=new ft("foreignObject"),ft.G=new ft("g"),ft.IMAGE=new ft("image"),ft.LINE=new ft("line"),ft.PATH=new ft("path"),ft.PATTERN=new ft("pattern"),ft.POLYGON=new ft("polygon"),ft.RECT=new ft("rect"),ft.SVG=new ft("svg"),ft.TEXT=new ft("text"),ft.TSPAN=new ft("tspan");var Tr=class{constructor(e,t,s,u){this.top=e,this.bottom=t,this.left=s,this.right=u}static from(e){return new Tr(e.y,e.y+e.height,e.x,e.x+e.width)}clone(){return new Tr(this.top,this.bottom,this.left,this.right)}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}getOrigin(){return new qt(this.left,this.top)}contains(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom}intersects(e){return this.left<=e.right&&this.right>=e.left&&this.bottom>=e.top&&this.top<=e.bottom}static equals(e,t){return e===t?!0:e&&t?e.top===t.top&&e.bottom===t.bottom&&e.left===t.left&&e.right===t.right:!1}static createFromPoint(e,t,s){const u=e.x;return e=e.y,new Tr(e,e+s,u,u+t)}},Sr=class{constructor(e,t){this.width=e,this.height=t}static equals(e,t){return e===t?!0:e&&t?e.width===t.width&&e.height===t.height:!1}static max(e,t){return new Sr(Math.max(e.width,t.width),Math.max(e.height,t.height))}static min(e,t){return new Sr(Math.min(e.width,t.width),Math.min(e.height,t.height))}},Od={getSizeInternal:xs},ua={TEST_ONLY:Od};ua.getBorderBox=en,ua.getComputedStyle=_r,ua.getContainerOffsetToScrollInto=U,ua.getPageOffset=B,ua.getSize=hr,ua.getViewportPageOffset=W,ua.scrollIntoContainerView=x;var _h=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,l2=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,Va={XY_REGEX:_h,XY_STYLE_REGEX:l2},ds={TEST_ONLY:Va};ds.getDocumentScroll=ee,ds.getInjectionDivXY=J,ds.getRelativeXY=Z,ds.getViewportBBox=ke,ds.screenToWsCoordinates=Ce,ds.wsToScreenCoordinates=qe;var As=class{constructor(e,t,s,u,v){this.workspace=e,this.horizontal=t,this.oldHostMetrics=null,this.ratio=1,this.origin=new qt(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new qt(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=s||!1,this.margin=v!==void 0?v:As.DEFAULT_SCROLLBAR_MARGIN,e="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),u&&(e+=" "+u),this.outerSvg=ct(ft.SVG,{class:e}),u=ct(ft.G,{},this.outerSvg),this.svgBackground=ct(ft.RECT,{class:"blocklyScrollbarBackground"},u),e=Math.floor((As.scrollbarThickness-5)/2),this.svgHandle=ct(ft.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},u),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),$i(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),t?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=se(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=se(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){const e=As.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(e)),this.outerSvg.setAttribute("height",String(e)),this.svgHandle.setAttribute("height",String(e-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(e)),this.outerSvg.setAttribute("width",String(e)),this.svgHandle.setAttribute("width",String(e-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),Oe(this.onMouseDownBarWrapper_),Oe(this.onMouseDownHandleWrapper_),un(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(e){return e=e<=0||isNaN(e)?0:Math.min(e,this.scrollbarLength)}setHandleLength(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(e){return e=e<=0||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}setHandlePosition(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(e,t){this.position.x=e,this.position.y=t,wi(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(e){!e&&(e=this.workspace.getMetrics(),!e)||this.oldHostMetrics&&As.metricsAreEquivalent(e,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(e):this.resizeVertical(e),this.oldHostMetrics=e,this.updateMetrics())}requiresViewResize(e){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop:!0}resizeHorizontal(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}resizeViewHorizontal(e){var t=e.viewWidth-this.margin*2;this.pair&&(t-=As.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),t=e.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(t+=As.scrollbarThickness),this.setPosition(t,e.absoluteTop+e.viewHeight-As.scrollbarThickness-this.margin),this.resizeContentHorizontal(e)}resizeContentHorizontal(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewWidth/e.scrollWidth;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollWidth-e.viewWidth;var s=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/t*s,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=s/t}}resizeVertical(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}resizeViewVertical(e){let t=e.viewHeight-this.margin*2;this.pair&&(t-=As.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),this.setPosition(this.workspace.RTL?e.absoluteLeft+this.margin:e.absoluteLeft+e.viewWidth-As.scrollbarThickness-this.margin,e.absoluteTop+this.margin),this.resizeContentVertical(e)}resizeContentVertical(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewHeight/e.scrollHeight;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollHeight-e.viewHeight;var s=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/t*s,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=s/t}}isVisible(){return this.isHandleVisible}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay_()}setVisible(e){if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.setVisibleInternal(e)}setVisibleInternal(e){const t=e!==this.isVisible();this.isHandleVisible=e,t&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(e){if(this.workspace.markFocused(),te(),this.cleanUp(),Se(e))e.stopPropagation();else{var t=je(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());t=this.horizontal?t.x:t.y;var s=J(this.svgHandle);s=this.horizontal?s.x:s.y;var u=this.handlePosition,v=this.handleLength*.95;t<=s?u-=v:t>=s+this.handleLength&&(u+=v),this.setHandlePosition(this.constrainHandlePosition(u)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}onMouseDownHandle(e){this.workspace.markFocused(),this.cleanUp(),Se(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=se(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=se(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}onMouseMoveHandle(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){te(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(Oe(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(Oe(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}updateMetrics(){const e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}set(e,t){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(t||t===void 0)&&this.updateMetrics()}setOrigin(e,t){this.origin=new qt(e,t)}static metricsAreEquivalent(e,t){return e.viewWidth===t.viewWidth&&e.viewHeight===t.viewHeight&&e.viewLeft===t.viewLeft&&e.viewTop===t.viewTop&&e.absoluteTop===t.absoluteTop&&e.absoluteLeft===t.absoluteLeft&&e.scrollWidth===t.scrollWidth&&e.scrollHeight===t.scrollHeight&&e.scrollLeft===t.scrollLeft&&e.scrollTop===t.scrollTop}};As.scrollbarThickness=d1?25:15,As.DEFAULT_SCROLLBAR_MARGIN=.5;var Eh={parseFromString:function(){throw Error("DOMParser was not found in the global scope and was not properly injected using injectDependencies")}},ao={serializeToString:function(){throw Error("XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies")}},{document:Rd,DOMParser:y1,XMLSerializer:_1}=globalThis;y1&&(Eh=new y1),_1&&(ao=new _1);var ys="https://developers.google.com/blockly/xml",$l=/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,bl={NAME_SPACE:ys};bl.createElement=n.createElement$$module$build$src$core$utils$xml,bl.createTextNode=n.createTextNode$$module$build$src$core$utils$xml,bl.domToText=lt,bl.injectDependencies=rt,bl.textToDom=n.textToDom$$module$build$src$core$utils$xml;var Ld="categoryToolbox",a2="flyoutToolbox",xr;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"})(xr||(xr={}));var k3={hasCategoriesInternal:Pr},M0={};M0.Position=xr,M0.TEST_ONLY=k3,M0.convertFlyoutDefToJsonArray=In,M0.convertToolboxDefToJson=Bt,M0.hasCategories=On,M0.isCategoryCollapsible=pr,M0.parseToolboxTree=$n;var qs;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"})(qs||(qs={}));var Yo;(function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"})(Yo||(Yo={}));var Ga;(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"})(Ga||(Ga={}));var uo={};uo.bumpDirection=Ga,uo.bumpPositionRect=ui,uo.getCornerOppositeToolbox=Rs,uo.getStartPositionRect=kr,uo.horizontalPosition=Yo,uo.verticalPosition=qs;var Ko={width:96,height:124,url:"sprites.png"},ca=class{constructor(e){this.workspace=e,this.id="zoomControls",this.boundEvents=[],this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=ct(ft.G,{});const e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:ki.ComponentWeight.ZOOM_CONTROLS_WEIGHT,capabilities:[ki.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&un(this.svgGroup);for(const e of this.boundEvents)Oe(e);this.boundEvents.length=0}getBoundingRectangle(){let e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new Tr(this.top,this.top+e,this.left,this.left+this.WIDTH)}position(e,t){if(this.initialized){var s=Rs(this.workspace,e),u=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(u+=this.LARGE_SPACING+this.HEIGHT),e=kr(s,new Sr(this.WIDTH,u),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),s=s.vertical,t=ui(e,this.MARGIN_VERTICAL,s===qs.TOP?Ga.DOWN:Ga.UP,t),s===qs.TOP){var v=this.SMALL_SPACING+this.HEIGHT,M;(M=this.zoomInGroup)==null||M.setAttribute("transform","translate(0, "+v+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(v+this.LARGE_SPACING+this.HEIGHT)+")")}else{M=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;let Re;(Re=this.zoomInGroup)==null||Re.setAttribute("transform","translate(0, "+M+")"),M=M+this.SMALL_SPACING+this.HEIGHT,(v=this.zoomOutGroup)==null||v.setAttribute("transform","translate(0, "+M+")")}this.top=t.top,this.left=t.left;var re;(re=this.svgGroup)==null||re.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(e){this.zoomOutGroup=ct(ft.G,{class:"blocklyZoom blocklyZoomOut"},this.svgGroup);const t=ct(ft.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);ct(ft.RECT,{width:32,height:32},t),ct(ft.IMAGE,{width:Ko.width,height:Ko.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS(sl,"xlink:href",this.workspace.options.pathToMedia+Ko.url),this.boundEvents.push(se(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)))}createZoomInSvg(e){this.zoomInGroup=ct(ft.G,{class:"blocklyZoom blocklyZoomIn"},this.svgGroup);const t=ct(ft.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);ct(ft.RECT,{width:32,height:32},t),ct(ft.IMAGE,{width:Ko.width,height:Ko.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS(sl,"xlink:href",this.workspace.options.pathToMedia+Ko.url),this.boundEvents.push(se(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)))}zoom(e,t){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),te(),t.stopPropagation(),t.preventDefault()}createZoomResetSvg(e){this.zoomResetGroup=ct(ft.G,{class:"blocklyZoom blocklyZoomReset"},this.svgGroup);const t=ct(ft.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);ct(ft.RECT,{width:32,height:32},t),ct(ft.IMAGE,{width:Ko.width,height:Ko.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS(sl,"xlink:href",this.workspace.options.pathToMedia+Ko.url),this.boundEvents.push(se(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)))}resetZoom(e){this.workspace.markFocused();const t=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(t),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),te(),e.stopPropagation(),e.preventDefault()}fireZoomEvent(){const e=new(sn(mt.CLICK))(null,this.workspace.id,"zoom_controls");de(e)}};dn(`
.blocklyZoom>image, .blocklyZoom>svg>image {
  opacity: .4;
}

.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {
  opacity: .6;
}

.blocklyZoom>image:active, .blocklyZoom>svg>image:active {
  opacity: .8;
}
`);var Tu=100,ha=75,Dd=50,Bd=25,O0={BLOCKS:Dd,PROCEDURES:ha,VARIABLES:Tu,WORKSPACE_COMMENTS:Bd},Pd={};Pd.register=Or,Pd.unregister=tn;var yc=class{constructor(){this.priority=Bd}save(e){const t=[];for(const s of e.getTopComments())(e=me(s,{addCoordinates:!0,saveIds:!0}))&&t.push(e);return t.length?t:null}load(e,t){for(const s of e)Ni(s,t,{recordUndo:an()})}clear(e){for(const t of e.getTopComments())t.dispose()}};Or("workspaceComments",new yc);var yu={};yu.WorkspaceCommentSerializer=yc,yu.append=Ni,yu.save=me;var _c={};_c.register=ms,_c.unregister=gr;var Wa=class{paste(e,t,s){e=e.commentState,s&&(e.x=s.x,e.y=s.y),n.disable$$module$build$src$core$events$utils();let u;try{u=Ni(e,t),Fr(u)}finally{n.enable$$module$build$src$core$events$utils()}return u?(Qt()&&de(new(sn(mt.COMMENT_CREATE))(u)),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(u),u):null}};Wa.TYPE="workspace-comment",ms(Wa.TYPE,new Wa);var Fd;Fd=28,n.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:Fd,connectingSnapRadius:Fd,currentConnectionPreference:8,bumpDelay:250},n.config$$module$build$src$core$config;var I3="aria-",wh="role",vl;(function(e){e.GRID="grid",e.GRIDCELL="gridcell",e.GROUP="group",e.LISTBOX="listbox",e.MENU="menu",e.MENUITEM="menuitem",e.MENUITEMCHECKBOX="menuitemcheckbox",e.OPTION="option",e.PRESENTATION="presentation",e.ROW="row",e.TREE="tree",e.TREEITEM="treeitem",e.SEPARATOR="separator",e.STATUS="status"})(vl||(vl={}));var _s;(function(e){e.ACTIVEDESCENDANT="activedescendant",e.COLCOUNT="colcount",e.DISABLED="disabled",e.EXPANDED="expanded",e.INVALID="invalid",e.LABEL="label",e.LABELLEDBY="labelledby",e.LEVEL="level",e.ORIENTATION="orientation",e.POSINSET="posinset",e.ROWCOUNT="rowcount",e.SELECTED="selected",e.SETSIZE="setsize",e.VALUEMAX="valuemax",e.VALUEMIN="valuemin",e.LIVE="live",e.HIDDEN="hidden"})(_s||(_s={}));var E1={};E1.Role=vl,E1.State=_s,E1.setRole=sr,E1.setState=Wr;var Ud=class{constructor(e,t){this.content=e,this.opt_value=t,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){const e=document.createElement("div");e.id=Ze(),this.element=e,e.className="blocklyMenuItem "+(this.enabled?"":"blocklyMenuItemDisabled ")+(this.checked?"blocklyMenuItemSelected ":"")+(this.highlight?"blocklyMenuItemHighlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl ":"");const t=document.createElement("div");if(t.className="blocklyMenuItemContent",this.checkable){var s=document.createElement("div");s.className="blocklyMenuItemCheckbox ",t.appendChild(s)}return s=this.content,typeof this.content=="string"&&(s=document.createTextNode(this.content)),t.appendChild(s),e.appendChild(t),this.roleName&&sr(e,this.roleName),Wr(e,_s.SELECTED,this.checkable&&this.checked||!1),Wr(e,_s.DISABLED,!this.enabled),e}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let e;return(e=this.opt_value)!=null?e:null}setRightToLeft(e){this.rightToLeft=e}setRole(e){this.roleName=e}setCheckable(e){this.checkable=e}setChecked(e){this.checked=e}setHighlighted(e){this.highlight=e;const t=this.getElement();t&&this.isEnabled()&&(e?rn(t,"blocklyMenuItemHighlight"):Zn(t,"blocklyMenuItemHighlight"))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}performAction(e){this.isEnabled()&&this.actionHandler&&this.actionHandler(this,e)}onAction(e,t){this.actionHandler=e.bind(t)}},u2=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.pointerLeaveHandler=this.pointerEnterHandler=this.clickHandler=this.pointerMoveHandler=this.highlightedItem=this.openingCoords=null}addChild(e){this.menuItems.push(e)}render(e){const t=document.createElement("div");t.className="blocklyMenu",t.tabIndex=0,this.roleName&&sr(t,this.roleName),this.element=t;for(let s=0,u;u=this.menuItems[s];s++)t.appendChild(u.createDom());return this.pointerMoveHandler=se(t,"pointermove",this,this.handlePointerMove,!0),this.clickHandler=se(t,"pointerup",this,this.handleClick,!0),this.pointerEnterHandler=se(t,"pointerenter",this,this.handlePointerEnter,!0),this.pointerLeaveHandler=se(t,"pointerleave",this,this.handlePointerLeave,!0),this.onKeyDownHandler=se(t,"keydown",this,this.handleKeyEvent),e.appendChild(t),t}getElement(){return this.element}focus(){const e=this.getElement();e&&e.focus({preventScroll:!0})}blur(){const e=this.getElement();e&&e.blur()}setRole(e){this.roleName=e}dispose(){this.pointerMoveHandler&&(Oe(this.pointerMoveHandler),this.pointerMoveHandler=null),this.clickHandler&&(Oe(this.clickHandler),this.clickHandler=null),this.pointerEnterHandler&&(Oe(this.pointerEnterHandler),this.pointerEnterHandler=null),this.pointerLeaveHandler&&(Oe(this.pointerLeaveHandler),this.pointerLeaveHandler=null),this.onKeyDownHandler&&(Oe(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let e=0,t;t=this.menuItems[e];e++)t.dispose();this.element=null}getMenuItem(e){const t=this.getElement();for(;e&&e!==t;){if(e.classList.contains("blocklyMenuItem")){const s=this.getMenuItems();for(let u=0,v;v=s[u];u++)if(v.getElement()===e)return v}e=e.parentElement}return null}setHighlighted(e){var t=this.highlightedItem;if(t&&(t.setHighlighted(!1),this.highlightedItem=null),e){e.setHighlighted(!0),this.highlightedItem=e,t=this.getElement();const s=e.getElement();t&&s&&(x(s,t),Wr(t,_s.ACTIVEDESCENDANT,e.getId()))}}highlightNext(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}highlightPrevious(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e<0?this.menuItems.length:e,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(e,t){e+=t;let s;const u=this.getMenuItems();for(;s=u[e];){if(s.isEnabled()){this.setHighlighted(s);break}e+=t}}handlePointerMove(e){Math.max(Math.abs(e.movementX),Math.abs(e.movementY))!==0&&(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}handleClick(e){var t=this.openingCoords;if(this.openingCoords=null,t&&typeof e.clientX=="number"){const s=new qt(e.clientX,e.clientY);if(qt.distance(t,s)<1)return}(t=this.getMenuItem(e.target))&&t.performAction(e)}handlePointerEnter(e){this.focus()}handlePointerLeave(e){this.getElement()&&this.setHighlighted(null)}handleKeyEvent(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var t=this.highlightedItem;switch(e.key){case"Enter":case" ":t&&t.performAction(e);break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}getSize(){const e=this.getElement(),t=hr(e);return t.height=e.scrollHeight,t}getMenuItems(){return this.menuItems.filter(e=>e instanceof Ud)}},Ii=class{constructor(){this.element=null}createDom(){return this.element=document.createElement("hr"),this.element.className="blocklyMenuSeparator",sr(this.element,vl.SEPARATOR),this.element}dispose(){let e;(e=this.element)==null||e.remove(),this.element=null}},Bi="_TEMP_COLLAPSED_INPUT",Vr="_TEMP_COLLAPSED_FIELD",$r="MANUALLY_DISABLED",Ji={COLLAPSED_FIELD_NAME:Vr,COLLAPSED_INPUT_NAME:Bi,MANUALLY_DISABLED:$r};(function(e){e[e.VALUE=1]="VALUE",e[e.STATEMENT=3]="STATEMENT",e[e.DUMMY=5]="DUMMY",e[e.CUSTOM=6]="CUSTOM",e[e.END_ROW=7]="END_ROW"})(n.inputTypes$$module$build$src$core$inputs$input_types||(n.inputTypes$$module$build$src$core$inputs$input_types={})),n.inputTypes$$module$build$src$core$inputs$input_types;var Jo=new Set,da=new WeakSet,_u=new WeakMap,Eu=null,R0=null,Ps=0,L0={};L0.finishQueuedRenders=Qn,L0.queueRender=Ks,L0.triggerQueuedRenders=d;var qa,zd;n.Msg$$module$build$src$core$msg=Object.create(null),qa=function(e){Object.keys(e).forEach(function(t){n.Msg$$module$build$src$core$msg[t]=e[t]})},zd={Msg:n.Msg$$module$build$src$core$msg,setLocale:qa};var Fo="blocklyToast",Ec="blocklyToastMessage",w1="blocklyToastCloseButton",co=class{static show(e,t){if(t.oncePerSession&&t.id){if(this.shownIds.has(t.id))return;this.shownIds.add(t.id)}this.hide(e);const s=this.createDom(e,t);requestAnimationFrame(()=>{s.style.bottom="2rem"})}static createDom(e,t){const{message:s,duration:u=5,assertiveness:v=co.Assertiveness.POLITE}=t,M=document.createElement("div");e.getInjectionDiv().appendChild(M),M.dataset.toastId=t.id,M.className=Fo,sr(M,vl.STATUS),Wr(M,_s.LIVE,v),t=M.appendChild(document.createElement("div")),t.className=Ec,t.innerText=s,t=M.appendChild(document.createElement("button")),t.className=w1,Wr(t,_s.LABEL,n.Msg$$module$build$src$core$msg.CLOSE);var re=ct(ft.SVG,{width:24,height:24,viewBox:"0 0 24 24",fill:"none"},t);Wr(re,_s.HIDDEN,!0),ct(ft.RECT,{x:19.7782,y:2.80762,width:2,height:24,transform:"rotate(45, 19.7782, 2.80762)",fill:"black"},re),ct(ft.RECT,{x:2.80762,y:4.22183,width:2,height:24,transform:"rotate(-45, 2.80762, 4.22183)",fill:"black"},re),t.addEventListener("click",()=>{M.remove(),e.markFocused()});let Re;return t=()=>{Re=setTimeout(()=>M.remove(),u*1e3)},re=()=>clearTimeout(Re),M.addEventListener("focusin",re),M.addEventListener("focusout",t),M.addEventListener("mouseenter",re),M.addEventListener("mousemove",re),M.addEventListener("mouseleave",t),t(),M}static hide(e,t){e=e.getInjectionDiv().querySelector(`.${Fo}`),e instanceof HTMLElement&&(!t||t===e.dataset.toastId)&&e.remove()}};co.shownIds=new Set,(function(e){e=e.Assertiveness||(e.Assertiveness={}),e.ASSERTIVE="assertive",e.POLITE="polite"})(co||(co={})),dn(`
.${Fo} {
  font-size: 1.2rem;
  position: absolute;
  bottom: -10rem;
  right: 2rem;
  padding: 1rem;
  color: black;
  background-color: white;
  border: 2px solid black;
  border-radius: 0.4rem;
  z-index: 999;
  display: flex;
  align-items: center;
  gap: 0.8rem;
  line-height: 1.5;
  transition: bottom 0.3s ease-out;
}

.${Fo} .${Ec} {
  maxWidth: 18rem;
}

.${Fo} .${w1} {
  margin: 0;
  padding: 0.2rem;
  background-color: transparent;
  color: black;
  border: none;
  cursor: pointer;
}
`);var Hd=function(e,t){window.alert(e),t&&t()},Sh=Hd,c2=function(e,t){t(window.confirm(e))},xh=c2,Ch=function(e,t,s){s(window.prompt(e,t))},Xa=Ch,ho=co.show.bind(co),ja=ho,Tl={};Tl.alert=be,Tl.confirm=At,Tl.prompt=gn,Tl.setAlert=pt,Tl.setConfirm=Tt,Tl.setPrompt=jt,Tl.setToast=An,Tl.toast=on;var fa=new Set,Vd={};Vd.warn=Vn;var kh="VARIABLE",Gd="ijkmnopqrstuvwxyzabcdefgh",S1={generateUniqueNameInternal:ci},Ns={CATEGORY_NAME:kh,TEST_ONLY:S1,VAR_LETTER_OPTIONS:Gd};Ns.allDeveloperVariables=n.allDeveloperVariables$$module$build$src$core$variables,Ns.allUsedVarModels=n.allUsedVarModels$$module$build$src$core$variables,Ns.compareByName=Jt,Ns.createVariableButtonHandler=Hi,Ns.deleteVariable=n.deleteVariable$$module$build$src$core$variables,Ns.flyoutCategory=Ur,Ns.flyoutCategoryBlocks=ls,Ns.generateUniqueName=Gn,Ns.generateUniqueNameFromOptions=Mi,Ns.generateVariableFieldDom=ii,Ns.getAddedVariables=wo,Ns.getOrCreateVariablePackage=n.getOrCreateVariablePackage$$module$build$src$core$variables,Ns.getVariable=n.getVariable$$module$build$src$core$variables,Ns.getVariableUsesById=Oi,Ns.internalFlyoutCategory=er,Ns.jsonFlyoutCategoryBlocks=ni,Ns.nameUsedWithAnyType=Kn,Ns.nameUsedWithConflictingParam=Zr,Ns.promptName=rs,Ns.renameVariable=n.renameVariable$$module$build$src$core$variables;var Io=class extends Error{},h2=class extends Io{constructor(e){super("Expected to find a 'type' property, defining the block type"),this.state=e}},Ao=class extends Io{constructor(e,t,s){super(`The block ${t.toDevString()} is missing a(n) ${e}
connection`),this.block=t,this.state=s}},d2=class extends Io{constructor(e,t,s,u){super(`The block ${s.toDevString()} could not connect its
${t} to its parent, because: ${e}`),this.childBlock=s,this.childState=u}},f2=class extends Io{constructor(e){super(`Encountered a real block which is defined as a child of a shadow
block. It is an invariant of Blockly that shadow blocks only have shadow
children`),this.state=e}},A3=class extends Io{constructor(e,t,s){super(`Cannot add an icon of type '${e}' to the block ${t.toDevString()}, because there is no icon registered with type '${e}'. Make sure that all of your icons have been registered.`),this.block=t,this.state=s}},yl={};yl.BadConnectionCheck=d2,yl.DeserializationError=Io,yl.MissingBlockType=h2,yl.MissingConnection=Ao,yl.RealChildOfShadow=f2,yl.UnregisteredIcon=A3;var Ih=class{constructor(){this.priority=Dd}save(e){const t=[];for(const s of e.getTopBlocks(!1))(e=ji(s,{addCoordinates:!0,doFullSerialization:!1}))&&t.push(e);return t.length?{languageVersion:0,blocks:t}:null}load(e,t){e=e.blocks;for(const s of e)Rl(s,t,{recordUndo:an()})}clear(e){for(const t of e.getTopBlocks(!1))t.dispose(!1)}};Or("blocks",new Ih);var wc={};wc.BlockSerializer=Ih,wc.append=Rl,wc.appendInternal=Ll,wc.save=ji;var Es=class{constructor(e){this.name=e}toString(){return this.name}equals(e){return this.name===e.toString()}};Es.MUTATOR=new Es("mutator"),Es.WARNING=new Es("warning"),Es.COMMENT=new Es("comment");var wu=class extends aa{constructor(e){super(),this.isBlank=!e,e&&(this.blockId=e.id,this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new wu),t.blockId=e.blockId,t}},Su=class extends wu{constructor(e,t,s,u,v){super(e),this.type=mt.BLOCK_CHANGE,e&&(this.element=t,this.name=s||void 0,this.oldValue=u,this.newValue=v)}toJson(){const e=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,this.disabledReason&&(e.disabledReason=this.disabledReason),e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new Su),t.element=e.element,t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,e.disabledReason!==void 0&&(t.disabledReason=e.disabledReason),t}setDisabledReason(e){if(this.element!=="disabled")throw Error('Cannot set the disabled reason for a BlockChange event if the element is not "disabled".');this.disabledReason=e}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(t=t.getBlockById(this.blockId),!t)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");const s=t.getIcon(Es.MUTATOR);switch(s&&$0(s)&&s.bubbleIsVisible()&&s.setBubbleVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":t.setCommentText(e||null);break;case"collapsed":t.setCollapsed(!!e);break;case"disabled":var u;t.setDisabledReason(!!e,(u=this.disabledReason)!=null?u:$r);break;case"inline":t.setInputsInline(!!e);break;case"mutation":u=Su.getExtraBlockState_(t),t.loadExtraState?t.loadExtraState(JSON.parse(e||"{}")):t.domToMutation&&t.domToMutation(n.textToDom$$module$build$src$core$utils$xml(e||"<mutation/>")),de(new Su(t,"mutation",null,u,e));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(e){return e.saveExtraState?(e=e.saveExtraState(!0))?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?ss(e):""}};a(Ht.EVENT,mt.BLOCK_CHANGE,Su);var Ah={};Ah.clamp=v0,Ah.toDegrees=Jc,Ah.toRadians=b0;var Nh=16,Mh=1,Wd=12,p2=16,qd=.25,m2=null,xu=null,g2="",Sc="",fs,x1,Cu,Xd=null,Ya=null,$2=null,Oh=null,xc=null,jd={getBoundsInfo:function(){const e=B(Xd),t=hr(Xd);return{left:e.x,right:e.x+t.width,top:e.y,bottom:e.y+t.height,width:t.width,height:t.height}},getPositionMetrics:function(e,t,s,u){const v=jd.getBoundsInfo(),M=hr(fs);return t+M.height<v.bottom?Na(e,t,v,M):u-M.height>v.top?uu(s,u,v,M):t+M.height<document.documentElement.clientHeight?Na(e,t,v,M):u-M.height>document.documentElement.clientTop?uu(s,u,v,M):hl(e,v,M)}},Uo={ANIMATION_TIME:qd,ARROW_HORIZONTAL_PADDING:Wd,ARROW_SIZE:Nh,BORDER_SIZE:Mh,PADDING_Y:p2,TEST_ONLY:jd};Uo.clearContent=Dl,Uo.createDom=ka,Uo.getContentDiv=T0,Uo.getOwner=ec,Uo.getPositionX=T,Uo.hide=Te,Uo.hideIfOwner=le,Uo.hideWithoutAnimation=Ue,Uo.isVisible=N,Uo.repositionForWindowResize=ht,Uo.setBoundsElement=q0,Uo.setColour=tc,Uo.show=Bl,Uo.showPositionedByBlock=nc,Uo.showPositionedByField=au;var _i={};_i.commonWordPrefix=Wt,_i.commonWordSuffix=Yt,_i.isNumber=n.isNumber$$module$build$src$core$utils$string,_i.shortestStringLength=Ct,_i.wrap=n.wrap$$module$build$src$core$utils$string;var C1=void 0,Rh=!1,Cc=!1,N3=50,M3=0,kc=0,k1=0,ku=0,_l=null,Iu=null,Lh=0,pa=10,D0=10,I1=750,Yd=5,no=null,El={HOVER_MS:I1,LIMIT:N3,MARGINS:Yd,OFFSET_X:Lh,OFFSET_Y:pa,RADIUS_OK:D0};El.bindMouseEvents=ur,El.block=Hr,El.createDom=Rr,El.dispose=ei,El.getCustomTooltip=ir,El.getDiv=zr,El.getTooltipOfObject=nn,El.hide=Si,El.isVisible=Er,El.setCustomTooltip=Yn,El.unbindMouseEvents=Kr,El.unblock=Vi;var Kd=.45,Jd=.65,O3={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},wl={};wl.blend=so,wl.getHsvSaturation=go,wl.getHsvValue=Nr,wl.hexToRgb=is,wl.hsvToHex=dl,wl.hueToHex=$o,wl.names=O3,wl.parse=pe,wl.rgbToHex=Ci,wl.setHsvSaturation=Is,wl.setHsvValue=us;var A1={};A1.checkMessageReferences=Qs,A1.parseBlockColour=Ri,A1.replaceMessageReferences=cr,A1.tokenizeInterpolation=cs;var Pi=class{get size_(){return this.size}set size_(e){this.size=e}constructor(e,t,s){this.DEFAULT_VALUE=null,this.name=void 0,this.tooltip=this.validator_=null,this.size=new Sr(0,0),this.constants_=this.mouseDownWrapper=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.id_=null,this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new Sr(0,0),e!==Pi.SKIP_SETUP&&(s&&this.configure_(s),this.setValue(e),t&&this.setValidator(t))}configure_(e){e.tooltip&&this.setTooltip(cr(e.tooltip))}setSourceBlock(e){if(this.sourceBlock_)throw Error("Field already bound to a block");if(this.sourceBlock_=e,e.id.includes("_field"))throw Error(`Field ID indicator is contained in block ID. This may cause problems with focus: ${e.id}.`);this.id_=`${e.id}_field_${Ze()}`}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){if(!this.fieldGroup_){var e=this.id_;if(!e)throw Error("Expected ID to be defined prior to init.");this.fieldGroup_=ct(ft.G,{id:e}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip),this.bindEvents_(),this.initModel(),this.applyColour()}}initView(){this.createBorderRect_(),this.createTextElement_(),this.fieldGroup_&&rn(this.fieldGroup_,"blocklyField")}initModel(){}isFullBlockField(){return!this.borderRect_}createBorderRect_(){this.borderRect_=ct(ft.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=ct(ft.TEXT,{class:"blocklyText blocklyFieldText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){const e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");ur(e),this.mouseDownWrapper=se(e,"pointerdown",this,this.onMouseDown_)}fromXml(e){this.setValue(e.textContent)}toXml(e){return e.textContent=this.getValue(),e}saveState(e){return e=this.saveLegacyState(Pi),e!==null?e:this.getValue()}loadState(e){this.loadLegacyState(Pi,e)||this.setValue(e)}saveLegacyState(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?(e=n.createElement$$module$build$src$core$utils$xml("field"),e.setAttribute("name",this.name||""),lt(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(e,t){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml?(this.fromXml(n.textToDom$$module$build$src$core$utils$xml(t)),!0):!1}dispose(){le(this),Fl(this);let e;(e=this.getSourceBlock())!=null&&e.isDeadOrDying()||un(this.fieldGroup_),this.disposed=!0}updateEditable(){const e=this.fieldGroup_,t=this.getSourceBlock();this.EDITABLE&&e&&t&&(this.enabled_&&t.isEditable()?(rn(e,"blocklyEditableField"),Zn(e,"blocklyNonEditableField")):(rn(e,"blocklyNonEditableField"),Zn(e,"blocklyEditableField")))}setEnabled(e){this.enabled_=e,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==Pi.prototype.showEditor_}isClickableInFlyout(e){return!e}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}isVisible(){return this.visible_}setVisible(e){if(this.visible_!==e){this.visible_=e;var t=this.fieldGroup_;t&&(t.style.display=e?"block":"none")}}setValidator(e){this.validator_=e}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(e){this.isClickable()&&this.showEditor_(e)}showEditor_(e){}repositionForWindowResize(){return!1}updateSize_(e){const t=this.getConstants();e=e!==void 0?e:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let s=e*2,u=t.FIELD_TEXT_HEIGHT,v=0;this.textElement_&&(v=li(this.textElement_),s+=v),this.isFullBlockField()||(u=Math.max(u,t.FIELD_BORDER_RECT_HEIGHT)),this.size_=new Sr(s,u),this.positionTextElement_(e,v),this.positionBorderRect_()}positionTextElement_(e,t){if(this.textElement_){var s=this.getConstants(),u=this.size_.height/2,v;this.textElement_.setAttribute("x",String((v=this.getSourceBlock())!=null&&v.RTL?this.size_.width-t-e:e)),this.textElement_.setAttribute("y",String(s.FIELD_TEXT_BASELINE_CENTER?u:u-s.FIELD_TEXT_HEIGHT/2+s.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){return this.isVisible()?(this.isDirty_&&(this.render_(),this.isDirty_=!1),this.size_):new Sr(0,0)}getScaledBBox(){let e;var t=this.getSourceBlock();if(!t)throw new Xs;if(this.isFullBlockField()){var s=this.sourceBlock_.getHeightWidth();const u=t.workspace.scale;e=this.getAbsoluteXY_(),t=(s.width+1)*u,s=(s.height+1)*u,$h?(e.x+=1.5*u,e.y+=1.5*u):(e.x-=.5*u,e.y-=.5*u)}else s=this.borderRect_.getBoundingClientRect(),e=B(this.borderRect_),t=s.width,s=s.height;return new Tr(e.y,e.y+s,e.x,e.x+t)}onLocationChange(e){}getDisplayText_(){let e=this.getText();return e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+""),e=e.replace(/\s/g,Pi.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+=""),e}getText(){const e=this.getText_();return String(e!==null?e:this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&this.sourceBlock_.queueRender()}setValue(e,t=!0){if(e!==null){var s=n.getGroup$$module$build$src$core$events$utils();s||n.setGroup$$module$build$src$core$events$utils(!0);try{const Ut=this.doClassValidation_(e),Wn=this.processValidation(e,Ut,t);if(!(Wn instanceof Error)){var u,v=(u=this.getValidator())==null?void 0:u.call(this,Wn),M=this.processValidation(Wn,v,t);if(!(M instanceof Error)){var re=this.sourceBlock_;if(!re||!re.disposed){var Re=this.getValue();Re===M?this.doValueUpdate_(M):(this.doValueUpdate_(M),t&&re&&Qt()&&de(new(sn(mt.BLOCK_CHANGE))(re,"field",this.name||null,Re,M)),this.isDirty_&&this.forceRerender())}}}}finally{n.setGroup$$module$build$src$core$events$utils(s)}}}processValidation(e,t,s){return t===null?(this.doValueInvalid_(e,s),this.isDirty_&&this.forceRerender(),Error()):t===void 0?e:t}getValue(){return this.value_}doClassValidation_(e){return e??null}doValueUpdate_(e){this.value_=e,this.isDirty_=!0}doValueInvalid_(e,t){}onMouseDown_(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}setTooltip(e){e||e===""||(e=this.sourceBlock_);const t=this.getClickTarget_();t?t.tooltip=e:this.tooltip=e}getTooltip(){const e=this.getClickTarget_();return nn(e||{tooltip:this.tooltip})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return B(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let e=null;const t=this.getSourceBlock();if(!t)throw new Xs;const s=t.inputList;for(let u=0;u<t.inputList.length;u++){const v=s[u],M=v.fieldRow;for(let re=0;re<M.length;re++)if(M[re]===this){e=v;break}}return e}getFlipRtl(){return!1}onShortcut(e){return!1}getFocusableElement(){if(!this.fieldGroup_)throw Error("This field currently has no representative DOM element.");return this.fieldGroup_}getFocusableTree(){const e=this.getSourceBlock();if(!e)throw new Xs;return e.workspace}onNodeFocus(){const e=this.getSourceBlock();e.workspace.scrollBoundsIntoView(e.getBoundingRectangleWithoutChildren())}onNodeBlur(){}canBeFocused(){return!0}static fromJson(e){throw Error("Attempted to instantiate a field from the registry that hasn't defined a 'fromJson' method.")}};Pi.NBSP="",Pi.SKIP_SETUP=Symbol("SKIP_SETUP");var Xs=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}},Au=null,Zd=null,Qd=null,b2="blocklyWidgetDiv",ma="",N1="",Sl,Gr=null,Xl={};Xl.createDom=Pl,Xl.getDiv=bo,Xl.hide=Zo,Xl.hideIfOwner=Fl,Xl.hideIfOwnerIsInWorkspace=fl,Xl.isVisible=rc,Xl.positionWithAnchor=So,Xl.repositionForWindowResize=j0,Xl.show=y0,Xl.testOnly_setDiv=i0;var Ic=null,e4={},Dh=null,Ka={};Ka.callbackFactory=n.callbackFactory$$module$build$src$core$contextmenu,Ka.dispose=oc,Ka.getCurrentBlock=_0,Ka.hide=zl,Ka.setCurrentBlock=cu,Ka.show=Y0;var Cr=class{constructor(){this.registeredItems=new Map,this.reset()}reset(){this.registeredItems.clear()}register(e){if(this.registeredItems.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registeredItems.set(e.id,e)}unregister(e){if(!this.registeredItems.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registeredItems.delete(e)}getItem(e){let t;return(t=this.registeredItems.get(e))!=null?t:null}getContextMenuOptions(e,t){const s=[];for(const u of this.registeredItems.values()){if(u.scopeType&&(u.scopeType===M1.BLOCK&&!e.block||u.scopeType===M1.COMMENT&&!e.comment||u.scopeType===M1.WORKSPACE&&!e.workspace))continue;let v;if(v={scope:e,weight:u.weight},u.separator)v=Object.assign({},v,{separator:!0});else{const M=u.preconditionFn(e,t);if(M==="hidden")continue;const re=typeof u.displayText=="function"?u.displayText(e):u.displayText;v=Object.assign({},v,{text:re,callback:u.callback,enabled:M==="enabled"})}s.push(v)}return s.sort(function(u,v){return u.weight-v.weight}),s}};(function(e){var t=e.ScopeType||(e.ScopeType={});t.BLOCK="block",t.WORKSPACE="workspace",t.COMMENT="comment",e.registry=new e})(Cr||(Cr={}));var M1=Cr.ScopeType,Nu=50,Bh=100,Y5={BLOCK:Nu,BUBBLE:Bh},R3=class{constructor(e){this.comment=e,this.startLoc=null,this.workspace=e.workspace}isMovable(){return this.comment.isOwnMovable()&&!this.comment.isDeadOrDying()&&!this.workspace.isReadOnly()}startDrag(){this.fireDragStartEvent(),this.startLoc=this.comment.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.comment),this.comment.setDragging(!0)}drag(e){this.comment.moveDuringDrag(e)}endDrag(){this.fireDragEndEvent(),this.fireMoveEvent();let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.comment,Nu),this.comment.setDragging(!1),this.comment.snapToGrid(),this.workspace.setResizesEnabled(!0)}fireDragStartEvent(){const e=new(sn(mt.COMMENT_DRAG))(this.comment,!0);de(e)}fireDragEndEvent(){const e=new(sn(mt.COMMENT_DRAG))(this.comment,!1);de(e)}fireMoveEvent(){if(!this.comment.isDeadOrDying()){var e=new(sn(mt.COMMENT_MOVE))(this.comment);e.setReason(["drag"]),e.oldCoordinate_=this.startLoc,e.recordNew(),de(e)}}revertDrag(){this.startLoc&&this.comment.moveDuringDrag(this.startLoc)}},v2=new WeakMap,Ph=class{constructor(e,t,s,u){this.id=e,this.workspace=t,this.container=s,this.commentView=u}isVisible(){return this.icon.checkVisibility()}getCommentView(){return this.commentView}getSize(e=!1){var t=this.icon.getBBox();return t=Tr.from(t),e&&(e=this.getMargin(),t.left-=e,t.top-=e,t.bottom+=e,t.right+=e),t}getMargin(){return(this.container.getBBox().height-this.icon.getBBox().height)/2}getFocusableElement(){return this.icon}getFocusableTree(){return this.workspace}onNodeFocus(){const e=this.getCommentView();var t=e.getRelativeToSurfaceXY();const s=e.getSize();t=new Tr(t.y,t.y+s.height,t.x,t.x+s.width),e.workspace.scrollBoundsIntoView(t)}onNodeBlur(){}canBeFocused(){return this.isVisible()}},Zi="_collapse_bar_button",t4=class extends Ph{constructor(e,t,s,u){super(e,t,s,u),this.id=e,this.workspace=t,this.container=s,this.commentView=u,this.icon=ct(ft.IMAGE,{class:"blocklyFoldoutIcon",href:`${this.workspace.options.pathToMedia}foldout-icon.svg`,id:`${this.id}${Zi}`},this.container),this.bindId=se(this.icon,"pointerdown",this,this.performAction.bind(this))}dispose(){Oe(this.bindId)}reposition(){const e=this.getMargin();this.icon.setAttribute("y",`${e}`),this.icon.setAttribute("x",`${e}`)}performAction(e){te(),this.getCommentView().bringToFront(),e&&e instanceof PointerEvent&&Se(e)?e.stopPropagation():(this.getCommentView().setCollapsed(!this.getCommentView().isCollapsed()),this.workspace.hideChaff(),e?.stopPropagation())}},yo="_comment_textarea_",n4=class{constructor(e,t,s){this.workspace=e,this.onFinishEditing=s,this.textChangeListeners=[],this.text="",this.foreignObject=ct(ft.FOREIGNOBJECT,{class:"blocklyCommentForeignObject"}),e=document.createElementNS(Ha,"body"),e.setAttribute("xmlns",Ha),e.className="blocklyMinimalBody",this.textArea=document.createElementNS(Ha,"textarea"),this.textArea.setAttribute("tabindex","-1"),this.textArea.setAttribute("dir",this.workspace.RTL?"RTL":"LTR"),rn(this.textArea,"blocklyCommentText"),rn(this.textArea,"blocklyTextarea"),rn(this.textArea,"blocklyText"),e.appendChild(this.textArea),this.foreignObject.appendChild(e),t&&(this.id=t+yo,this.textArea.setAttribute("id",this.id)),se(this.textArea,"change",this,this.onTextChange),se(this.textArea,"pointerdown",this,u=>{u.stopPropagation(),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this),te()}),se(this.textArea,"wheel",this,u=>{u.stopPropagation()}),se(this.textArea,"keydown",this,this.handleKeyDown)}getDom(){return this.foreignObject}getText(){return this.text}setText(e){this.textArea.value=e,this.onTextChange()}onTextChange(){const e=this.text;this.text=this.textArea.value;for(let t=this.textChangeListeners.length-1;t>=0;t--)this.textChangeListeners[t](e,this.text)}handleKeyDown(e){(e.key==="Escape"||e.key==="Enter"&&(e.ctrlKey||e.metaKey))&&(this.onFinishEditing&&this.onFinishEditing(),e.stopPropagation())}addTextChangeListener(e){this.textChangeListeners.push(e)}removeTextChangeListener(e){this.textChangeListeners.splice(this.textChangeListeners.indexOf(e),1)}setPlaceholderText(e){this.textArea.placeholder=e}setEditable(e){e?this.textArea.removeAttribute("readonly"):this.textArea.setAttribute("readonly","true")}updateSize(e,t){this.foreignObject.setAttribute("height",`${e.height-t.height}`),this.foreignObject.setAttribute("width",`${e.width}`),this.foreignObject.setAttribute("y",`${t.height}`),this.workspace.RTL&&this.foreignObject.setAttribute("x",`${-e.width}`)}getFocusableElement(){return this.textArea}getFocusableTree(){return this.workspace}onNodeFocus(){const e=Tr.from(this.foreignObject.getBoundingClientRect());this.workspace.scrollBoundsIntoView(Tr.createFromPoint(Ce(this.workspace,e.getOrigin()),e.getWidth(),e.getHeight()))}onNodeBlur(){}canBeFocused(){return!!this.id}},T2="_delete_bar_button",L3=class extends Ph{constructor(e,t,s,u){super(e,t,s,u),this.id=e,this.workspace=t,this.container=s,this.commentView=u,this.icon=ct(ft.IMAGE,{class:"blocklyDeleteIcon",href:`${this.workspace.options.pathToMedia}delete-icon.svg`,id:`${this.id}${T2}`},s),this.bindId=se(this.icon,"pointerdown",this,this.performAction.bind(this))}dispose(){Oe(this.bindId)}reposition(){const e=this.getMargin();this.icon.setAttribute("x","0");const t=this.container.getBBox();this.icon.setAttribute("y",`${e}`),this.icon.setAttribute("x",`${t.width-this.getSize(!0).getWidth()}`)}performAction(e){te(),e&&e instanceof PointerEvent&&Se(e)?e.stopPropagation():(this.getCommentView().dispose(),e?.stopPropagation(),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.workspace))}},Ac=class{constructor(e,t){this.workspace=e,this.commentId=t,this.collapsed=!1,this.editable=!0,this.location=new qt(0,0),this.sizeChangeListeners=[],this.disposeListeners=[],this.collapseChangeListeners=[],this.resizePointerMoveListener=this.resizePointerUpListener=null,this.disposed=this.disposing=!1,this.svgRoot=ct(ft.G,{class:"blocklyComment blocklyEditable blocklyDraggable"}),this.highlightRect=this.createHighlightRect(this.svgRoot),{topBarGroup:this.topBarGroup,topBarBackground:this.topBarBackground,deleteButton:this.deleteButton,foldoutButton:this.foldoutButton,textPreview:this.textPreview,textPreviewNode:this.textPreviewNode}=this.createTopBar(this.svgRoot),this.commentEditor=this.createTextArea(),this.resizeHandle=this.createResizeHandle(this.svgRoot,e);let s;(s=e.getLayerManager())==null||s.append(this,Nu),this.size=Ac.defaultCommentSize,this.setSizeWithoutFiringEvents(this.size),this.moveTo(new qt(0,0))}createHighlightRect(e){return ct(ft.RECT,{class:"blocklyCommentHighlight"},e)}createTopBar(e){e=ct(ft.G,{class:"blocklyCommentTopbar"},e);const t=ct(ft.RECT,{class:"blocklyCommentTopbarBackground"},e),s=new L3(this.commentId,this.workspace,e,this),u=new t4(this.commentId,this.workspace,e,this);this.addDisposeListener(()=>{s.dispose(),u.dispose()});const v=ct(ft.TEXT,{class:"blocklyCommentPreview blocklyCommentText blocklyText"},e),M=document.createTextNode("");return v.appendChild(M),{topBarGroup:e,topBarBackground:t,deleteButton:s,foldoutButton:u,textPreview:v,textPreviewNode:M}}createTextArea(){const e=new n4(this.workspace,this.commentId,()=>this.svgRoot.focus());return this.svgRoot.appendChild(e.getDom()),e.addTextChangeListener((t,s)=>{this.updateTextPreview(s),this.setSize(this.size)}),e}getEditorFocusableNode(){return this.commentEditor}createResizeHandle(e,t){return e=ct(ft.IMAGE,{class:"blocklyResizeHandle",href:`${t.options.pathToMedia}resize-handle.svg`},e),se(e,"pointerdown",this,this.onResizePointerDown),e}getSvgRoot(){return this.svgRoot}getSize(){return this.collapsed?this.topBarBackground.getBBox():this.size}setSizeWithoutFiringEvents(e){const t=this.topBarBackground.getBBox(),s=this.textPreview.getBBox(),u=this.resizeHandle.getBBox();this.size=e=Sr.max(e,this.calcMinSize(t)),this.svgRoot.setAttribute("height",`${e.height}`),this.svgRoot.setAttribute("width",`${e.width}`),this.updateHighlightRect(e),this.updateTopBarSize(e),this.commentEditor.updateSize(e,t),this.deleteButton.reposition(),this.foldoutButton.reposition(),this.updateTextPreviewSize(e,t,s),this.updateResizeHandlePosition(e,u)}setSize(e){const t=this.preResizeSize||this.size;this.setSizeWithoutFiringEvents(e),this.onSizeChange(t,this.size)}calcMinSize(e){var t;this.updateTextPreview((t=this.commentEditor.getText())!=null?t:"");let s=t=li(this.textPreview);return this.foldoutButton.isVisible()?s+=this.foldoutButton.getSize(!0).getWidth():t&&(s+=4),this.deleteButton.isVisible()?s+=this.deleteButton.getSize(!0).getWidth():t&&(s+=4),new Sr(s,e.height+20)}updateHighlightRect(e){this.highlightRect.setAttribute("height",`${e.height}`),this.highlightRect.setAttribute("width",`${e.width}`),this.workspace.RTL&&this.highlightRect.setAttribute("x",`${-e.width}`)}updateTopBarSize(e){this.topBarBackground.setAttribute("width",`${e.width}`)}updateTextPreviewSize(e,t,s){t=(t.height-s.height)/2;const u=this.foldoutButton.getSize(!0),v=this.deleteButton.getSize(!0);e=e.width-u.getWidth()-v.getWidth(),this.textPreview.setAttribute("x",`${(this.workspace.RTL?-1:1)*u.getWidth()}`),this.textPreview.setAttribute("y",`${t+s.height/2}`),this.textPreview.setAttribute("width",`${e}`)}updateResizeHandlePosition(e,t){this.resizeHandle.setAttribute("y",`${e.height-t.height}`),this.resizeHandle.setAttribute("x",`${e.width-t.width}`)}onSizeChange(e,t){for(let s=this.sizeChangeListeners.length-1;s>=0;s--)this.sizeChangeListeners[s](e,t)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}removeSizeChangeListener(e){this.sizeChangeListeners.splice(this.sizeChangeListeners.indexOf(e),1)}onResizePointerDown(e){this.isEditable()&&(this.bringToFront(),Se(e)||(this.preResizeSize=this.getSize(),xo(this.workspace,e,new qt(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=se(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=se(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation())}onResizePointerUp(e){te(),this.resizePointerUpListener&&(Oe(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(Oe(this.resizePointerMoveListener),this.resizePointerMoveListener=null),this.setSize(this.size),this.preResizeSize=void 0}onResizePointerMove(e){e=qo(this.workspace,e),this.setSizeWithoutFiringEvents(new Sr(this.workspace.RTL?-e.x:e.x,e.y))}isCollapsed(){return this.collapsed}setCollapsed(e){(this.collapsed=e)?rn(this.svgRoot,"blocklyCollapsed"):Zn(this.svgRoot,"blocklyCollapsed"),this.setSizeWithoutFiringEvents(this.size),this.onCollapse()}onCollapse(){for(let e=this.collapseChangeListeners.length-1;e>=0;e--)this.collapseChangeListeners[e](this.collapsed)}addOnCollapseListener(e){this.collapseChangeListeners.push(e)}removeOnCollapseListener(e){this.collapseChangeListeners.splice(this.collapseChangeListeners.indexOf(e),1)}isEditable(){return this.editable}setEditable(e){(this.editable=e)?(rn(this.svgRoot,"blocklyEditable"),Zn(this.svgRoot,"blocklyReadonly")):(Zn(this.svgRoot,"blocklyEditable"),rn(this.svgRoot,"blocklyReadonly")),this.commentEditor.setEditable(e)}getRelativeToSurfaceXY(){return this.location}moveTo(e){this.location=e,this.svgRoot.setAttribute("transform",`translate(${e.x}, ${e.y})`)}getText(){return this.commentEditor.getText()}setText(e){this.commentEditor.setText(e)}setPlaceholderText(e){this.commentEditor.setPlaceholderText(e)}addTextChangeListener(e){this.commentEditor.addTextChangeListener(e)}removeTextChangeListener(e){this.commentEditor.removeTextChangeListener(e)}updateTextPreview(e){this.textPreviewNode.textContent=this.truncateText(e)}truncateText(e){return e.length>=12?`${e.substring(0,9)}...`:e}bringToFront(){const e=this.svgRoot.parentNode,t=e.childNodes;t[t.length-1]!==this.svgRoot&&e.appendChild(this.svgRoot)}onDeleteDown(e){te(),Se(e)||this.dispose(),e.stopPropagation()}dispose(){this.disposing=!0,un(this.svgRoot);for(let e=this.disposeListeners.length-1;e>=0;e--)this.disposeListeners[e]();this.disposeListeners.length=0,this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}addDisposeListener(e){this.disposeListeners.push(e)}removeDisposeListener(e){this.disposeListeners.splice(this.disposeListeners.indexOf(e),1)}getCommentBarButtons(){return[this.foldoutButton,this.deleteButton]}};Ac.defaultCommentSize=new Sr(120,100),dn(`
.injectionDiv {
  --commentFillColour: #FFFCC7;
  --commentBorderColour: #F2E49B;
}

.blocklyComment .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 1px solid var(--commentBorderColour);
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}

.blocklyReadonly.blocklyComment .blocklyTextarea {
  cursor: inherit;
}

.blocklyDeleteIcon {
  width: 20px;
  height: 20px;
  display: none;
  cursor: pointer;
}

.blocklyFoldoutIcon {
  width: 20px;
  height: 20px;
  transform-origin: 12px 12px;
  cursor: pointer;
}
.blocklyResizeHandle {
  width: 12px;
  height: 12px;
  cursor: se-resize;
}
.blocklyReadonly.blocklyComment .blocklyResizeHandle {
  cursor: inherit;
}

.blocklyCommentTopbarBackground {
  fill: var(--commentBorderColour);
  height: 24px;
}

.blocklyComment .blocklyCommentPreview.blocklyText {
  fill: #000;
  dominant-baseline: middle;
  visibility: hidden;
}

.blocklyCollapsed.blocklyComment .blocklyCommentPreview {
  visibility: visible;
}

.blocklyCollapsed.blocklyComment .blocklyCommentForeignObject,
.blocklyCollapsed.blocklyComment .blocklyResizeHandle {
  display: none;
}

.blocklyCollapsed.blocklyComment .blocklyFoldoutIcon {
  transform: rotate(-90deg);
}

.blocklyRTL .blocklyCommentTopbar {
  transform: scale(-1, 1);
}

.blocklyRTL .blocklyCommentForeignObject {
  direction: rtl;
}

.blocklyRTL .blocklyCommentPreview {
  /* Revert the scale and control RTL using direction instead. */
  transform: scale(-1, 1);
  direction: rtl;
}

.blocklyRTL .blocklyResizeHandle {
  transform: scale(-1, 1);
  cursor: sw-resize;
}

.blocklyCommentHighlight {
  fill: none;
}

.blocklyCommentText.blocklyActiveFocus {
  border-color: #fc3;
  border-width: 2px;
}

.blocklySelected .blocklyCommentHighlight {
  stroke: #fc3;
  stroke-width: 3px;
}

.blocklyCollapsed.blocklySelected .blocklyCommentHighlight {
  stroke: none;
}

.blocklyCollapsed.blocklySelected .blocklyCommentTopbarBackground {
  stroke: #fc3;
  stroke-width: 3px;
}
`);var O1=class{constructor(e,t){this.workspace=e,this.text="",this.collapsed=!1,this.deletable=this.movable=this.editable=!0,this.location=new qt(0,0),this.disposing=this.disposed=!1,this.id=t&&!e.getCommentById(t)?t:Ke(),this.size=Ac.defaultCommentSize,e.addTopComment(this),this.fireCreateEvent()}fireCreateEvent(){Qt()&&de(new(sn(mt.COMMENT_CREATE))(this))}fireDeleteEvent(){Qt()&&de(new(sn(mt.COMMENT_DELETE))(this))}fireChangeEvent(e,t){Qt()&&de(new(sn(mt.COMMENT_CHANGE))(this,e,t))}fireCollapseEvent(e){Qt()&&de(new(sn(mt.COMMENT_COLLAPSE))(this,e))}setText(e){const t=this.text;this.text=e,this.fireChangeEvent(t,e)}getText(){return this.text}setSize(e){const t=new(sn(mt.COMMENT_RESIZE))(this);this.size=e,t.recordCurrentSizeAsNewSize(),de(t)}getSize(){return this.size}setCollapsed(e){this.collapsed=e,this.fireCollapseEvent(e)}isCollapsed(){return this.collapsed}setEditable(e){this.editable=e}isEditable(){return this.isOwnEditable()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setMovable(e){this.movable=e}isMovable(){return this.isOwnMovable()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnMovable(){return this.movable}setDeletable(e){this.deletable=e}isDeletable(){return this.isOwnDeletable()&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnDeletable(){return this.deletable}moveTo(e,t){const s=new(sn(mt.COMMENT_MOVE))(this);t&&s.setReason(t),this.location=e,s.recordNew(),de(s)}getRelativeToSurfaceXY(){return this.location}dispose(){this.disposing=!0,this.fireDeleteEvent(),this.workspace.removeTopComment(this),this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}},c0=class extends O1{constructor(e,t){super(e,t),this.dragStrategy=new R3(this),this.workspace=e,this.view=new Ac(e,this.id),this.view.setSize(this.getSize()),this.view.setEditable(this.isEditable()),this.view.getSvgRoot().setAttribute("data-id",this.id),this.view.getSvgRoot().setAttribute("id",this.id),this.addModelUpdateBindings(),se(this.view.getSvgRoot(),"pointerdown",this,this.startGesture)}addModelUpdateBindings(){this.view.addTextChangeListener((e,t)=>void super.setText(t)),this.view.addSizeChangeListener((e,t)=>void super.setSize(t)),this.view.addOnCollapseListener(()=>void super.setCollapsed(this.view.isCollapsed())),this.view.addDisposeListener(()=>{this.isDeadOrDying()||this.dispose()})}setText(e){this.view.setText(e)}setPlaceholderText(e){this.view.setPlaceholderText(e)}setSize(e){this.view.setSize(e)}setCollapsed(e){this.view.setCollapsed(e)}setEditable(e){super.setEditable(e),this.view.setEditable(this.isEditable())}getSvgRoot(){return this.view.getSvgRoot()}getSize(){return super.getSize()}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY();var t,s;const u=(s=(t=this.view)==null?void 0:t.getSize())!=null?s:this.getSize();return this.workspace.RTL?(t=e.x-u.width,s=e.x):(t=e.x,s=e.x+u.width),new Tr(e.y,e.y+u.height,t,s)}moveBy(e,t,s){const u=this.getRelativeToSurfaceXY();e=new qt(u.x+e,u.y+t),this.moveTo(e,s)}moveTo(e,t){super.moveTo(e,t),this.view.moveTo(e)}moveDuringDrag(e){this.location=e,this.view.moveTo(e)}setDragging(e){e?rn(this.getSvgRoot(),"blocklyDragging"):Zn(this.getSvgRoot(),"blocklyDragging")}dispose(){this.disposing=!0;const e=n.getFocusManager$$module$build$src$core$focus_manager();e.getFocusedNode()===this&&setTimeout(()=>e.focusTree(this.workspace),0),this.view.isDeadOrDying()||this.view.dispose(),super.dispose()}startGesture(e){const t=this.workspace.getGesture(e);t&&(t.handleCommentStart(e,this),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this))}setDeleteStyle(e){e?rn(this.getSvgRoot(),"blocklyDraggingDelete"):Zn(this.getSvgRoot(),"blocklyDraggingDelete")}isCopyable(){return this.isOwnMovable()&&this.isOwnDeletable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){rn(this.getSvgRoot(),"blocklySelected"),Dt(this)}unselect(){Zn(this.getSvgRoot(),"blocklySelected"),Dt(null)}toCopyData(){return{paster:Wa.TYPE,commentState:me(this,{addCoordinates:!0,saveIds:!1})}}showContextMenu(e){const t=Cr.registry.getContextMenuOptions({comment:this,focusedNode:this},e);let s;s=e instanceof PointerEvent?new qt(e.clientX,e.clientY):qe(this.workspace,this.getRelativeToSurfaceXY()).translate(10,10),Y0(e,t,this.workspace.RTL,this.workspace,s)}snapToGrid(){if(!this.isDeadOrDying()){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var t=this.getRelativeToSurfaceXY();e=e.alignXY(t),e!==t&&this.moveTo(e,["snap"])}}}getEditorFocusableNode(){return this.view.getEditorFocusableNode()}getFocusableElement(){return this.getSvgRoot()}getFocusableTree(){return this.workspace}onNodeFocus(){this.select();let e;(e=this.workspace.getLayerManager())==null||e.append(this,Nu),this.workspace.scrollBoundsIntoView(this.getBoundingRectangle())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}},zo={};zo.appendDomToWorkspace=Vs,zo.blockToDom=Hl,zo.blockToDomWithXY=Bo,zo.clearWorkspaceAndLoadFromXml=qr,zo.deleteNext=Gl,zo.domToBlock=n.domToBlock$$module$build$src$core$xml,zo.domToBlockInternal=o0,zo.domToPrettyText=Yi,zo.domToText=ss,zo.domToVariables=l0,zo.domToWorkspace=n.domToWorkspace$$module$build$src$core$xml,zo.loadWorkspaceComment=w0,zo.saveWorkspaceComment=Xo,zo.variablesToDom=el,zo.workspaceToDom=s0;var r4=class extends wu{constructor(e){super(e),this.type=mt.BLOCK_CREATE,e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=Bo(e),this.ids=Hn(e),this.json=ji(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=ss(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new r4),t.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),t.ids=e.ids,t.json=e.json,e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!y2(t,this.ids))if(e)Rl(this.json,t);else for(e=0;e<this.ids.length;e++){const s=this.ids[e],u=t.getBlockById(s);u?u.dispose(!1):s===this.blockId&&console.warn("Can't uncreate non-existent block: "+s)}}},y2=function(e,t){return t.map(s=>e.getBlockById(s)).filter(s=>s&&s.isShadow()).length===t.length};a(Ht.EVENT,mt.BLOCK_CREATE,r4);var Fh=class extends yi{constructor(e,t){super(t),this.type=mt.THEME_CHANGE,this.themeName=e}toJson(){const e=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new Fh),t.themeName=e.themeName,t}};a(Ht.EVENT,mt.THEME_CHANGE,Fh);var _2=class extends yi{constructor(e,t,s,u,v){super(u),this.type=mt.VIEWPORT_CHANGE,this.viewTop=e,this.viewLeft=t,this.scale=s,this.oldScale=v}toJson(){const e=super.toJson();if(this.viewTop===void 0)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(this.viewLeft===void 0)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(this.scale===void 0)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(this.oldScale===void 0)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new _2),t.viewTop=e.viewTop,t.viewLeft=e.viewLeft,t.scale=e.scale,t.oldScale=e.oldScale,t}};a(Ht.EVENT,mt.VIEWPORT_CHANGE,_2);var E2={fromJsonInternal:hu},i4={TEST_ONLY:E2};i4.fromJson=n.fromJson$$module$build$src$core$field_registry,i4.register=tl,i4.unregister=x0;var No=class extends Pi{constructor(e,t,s){super(Pi.SKIP_SETUP),this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null,this.SERIALIZABLE=!0,this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null,e!==Pi.SKIP_SETUP&&(this.setOptions(e),s&&this.configure_(s),t&&this.setValidator(t))}fromXml(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}loadState(e){this.loadLegacyState(No,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement=ct(ft.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&rn(this.borderRect_,"blocklyDropdownRect"),this.fieldGroup_&&(rn(this.fieldGroup_,"blocklyField"),rn(this.fieldGroup_,"blocklyDropdownField"))}shouldAddBorderRect_(){let e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!((e=this.getSourceBlock())!=null&&e.isShadow())}createTextArrow_(){this.arrow=ct(ft.TSPAN,{},this.textElement_);let e;this.arrow.appendChild(document.createTextNode((e=this.getSourceBlock())!=null&&e.RTL?No.ARROW_CHAR+" ":" "+No.ARROW_CHAR)),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.arrow.setAttribute("dominant-baseline","central");let t;(t=this.getSourceBlock())!=null&&t.RTL?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=ct(ft.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow.setAttributeNS(sl,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(e){var t=this.getSourceBlock();if(!t)throw new Xs;this.dropdownCreate(),this.menu_&&(this.menu_.openingCoords=e&&typeof e.clientX=="number"?new qt(e.clientX,e.clientY):null,Dl(),e=this.menu_.render(T0()),rn(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(t=t.getColour(),e=this.sourceBlock_.getColourTertiary(),tc(t,e)),au(this,this.dropdownDispose_.bind(this)),T0().style.height=`${this.menu_.getSize().height}px`,this.menu_.focus(),this.selectedMenuItem&&this.menu_.setHighlighted(this.selectedMenuItem),this.applyColour())}dropdownCreate(){const e=this.getSourceBlock();if(!e)throw new Xs;const t=new u2;t.setRole(vl.LISTBOX),this.menu_=t;const s=this.getOptions(!1);this.selectedMenuItem=null;for(let v=0;v<s.length;v++){var u=s[v];if(u===No.SEPARATOR){t.addChild(new Ii);continue}const[M,re]=u;nl(M)?(u=new Image(M.width,M.height),u.src=M.src,u.alt=M.alt):u=M,u=new Ud(u,re),u.setRole(vl.OPTION),u.setRightToLeft(e.RTL),u.setCheckable(!0),t.addChild(u),u.setChecked(re===this.value_),re===this.value_&&(this.selectedMenuItem=u),u.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem=this.menu_=null,this.applyColour()}handleMenuActionEvent(e){le(this,!0),this.onItemSelected_(this.menu_,e)}onItemSelected_(e,t){this.setValue(t.getValue())}isOptionListDynamic(){return typeof this.menuGenerator_=="function"}getOptions(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:e&&this.generatedOptions?this.generatedOptions:(this.generatedOptions=this.menuGenerator_(),this.validateOptions(this.generatedOptions),this.generatedOptions)}setOptions(e){Array.isArray(e)?(this.validateOptions(e),e=this.trimOptions(e),this.menuGenerator_=e.options,this.prefixField=e.prefix||null,this.suffixField=e.suffix||null):this.menuGenerator_=e,this.selectedOption=this.getOptions(!1)[0],this.setValue(this.selectedOption[1])}doClassValidation_(e){return this.getOptions(!0).some(t=>t[1]===e)?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}doValueUpdate_(e){super.doValueUpdate_(e),e=this.getOptions(!0);for(let t=0,s;s=e[t];t++)s[1]===this.value_&&(this.selectedOption=s)}applyColour(){const e=this.sourceBlock_;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.getColourTertiary()),this.menu_?this.borderRect_.setAttribute("fill",e.getColourTertiary()):this.borderRect_.setAttribute("fill","transparent")),e&&this.arrow&&(e.isShadow()?this.arrow.style.fill=e.getColourSecondary():this.arrow.style.fill=e.getColour())}render_(){this.getTextContent().nodeValue="",this.imageElement.style.display="none";const e=this.selectedOption&&this.selectedOption[0];nl(e)?this.renderSelectedImage(e):this.renderSelectedText(),this.positionBorderRect_()}renderSelectedImage(e){const t=this.getSourceBlock();if(!t)throw new Xs;this.imageElement.style.display="",this.imageElement.setAttributeNS(sl,"xlink:href",e.src),this.imageElement.setAttribute("height",String(e.height)),this.imageElement.setAttribute("width",String(e.width));const s=Number(e.height);e=Number(e.width);var u=!!this.borderRect_;const v=Math.max(u?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,s+No.IMAGE_Y_PADDING);u=u?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let M;M=this.svgArrow?this.positionSVGArrow(e+u,v/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):li(this.arrow),this.size_=new Sr(e+M+u*2,v);let re=0;t.RTL?this.imageElement.setAttribute("x",`${u+M}`):(re=e+M,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement.setAttribute("x",`${u}`)),this.imageElement.setAttribute("y",String(v/2-s/2)),this.positionTextElement_(re+u,e+M)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();rn(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var t=!!this.borderRect_;e=Math.max(t?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const s=li(this.getTextElement());t=t?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let u=0;this.svgArrow&&(u=this.positionSVGArrow(s+t,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_=new Sr(s+u+t*2,e),this.positionTextElement_(t,s)}positionSVGArrow(e,t){if(!this.svgArrow)return 0;const s=this.getSourceBlock();if(!s)throw new Xs;const u=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,v=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,M=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow.setAttribute("transform","translate("+(s.RTL?u:e+v)+","+t+")"),M+v}getText_(){if(!this.selectedOption)return null;const e=this.selectedOption[0];if(nl(e))return e.alt;if(typeof HTMLElement<"u"&&e instanceof HTMLElement){let t,s;return(s=(t=e.title)!=null?t:e.ariaLabel)!=null?s:e.innerText}return typeof e=="string"?e:(console.warn("Can't get text for existing dropdown option. If you're using HTMLElement dropdown options in node, ensure you're using jsdom-global or similar."),null)}static fromJson(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}trimOptions(e){let t=!1;const s=e.map(re=>{if(re===No.SEPARATOR)return t=!0,re;const[Re,Ut]=re;return typeof Re=="string"?[cr(Re),Ut]:(t=!0,[nl(Re)?Object.assign({},Re,{alt:cr(Re.alt)}):Re,Ut])});if(t||e.length<2)return{options:s};var u=s.map(([re])=>re),v=Ct(u);e=Wt(u,v);const M=Yt(u,v);return!e&&!M||v<=e+M?{options:s}:(v=e?u[0].substring(0,e-1):void 0,u=M?u[0].substr(1-M):void 0,{options:this.applyTrim(s,e,M),prefix:v,suffix:u})}applyTrim(e,t,s){return e.map(([u,v])=>[u.substring(t,u.length-s),v])}validateOptions(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");let t=!1;for(let s=0;s<e.length;s++){const u=e[s];Array.isArray(u)||u===No.SEPARATOR?typeof u[1]!="string"?(t=!0,console.error(`Invalid option[${s}]: Each FieldDropdown option id must be a string.
          Found ${u[1]} in: ${u}`)):!u[0]||typeof u[0]=="string"||nl(u[0])||typeof HTMLElement<"u"&&u[0]instanceof HTMLElement||(t=!0,console.error(`Invalid option[${s}]: Each FieldDropdown option must have a string
          label, image description, or HTML element. Found ${u[0]} in: ${u}`)):(t=!0,console.error(`Invalid option[${s}]: Each FieldDropdown option must be an array or
          the string literal 'separator'. Found: ${u}`))}if(t)throw TypeError("Found invalid FieldDropdown options.")}};No.SEPARATOR="separator",No.ARROW_CHAR="",No.IMAGE_Y_OFFSET=5,No.IMAGE_Y_PADDING=No.IMAGE_Y_OFFSET*2,tl("field_dropdown",No);var Nc=class{constructor(e,t,s,u){this.name=e,this.startHats=!1,this.blockStyles=t||Object.create(null),this.categoryStyles=s||Object.create(null),this.componentStyles=u||Object.create(null),this.fontStyle=Object.create(null),a(Ht.THEME,e,this,!0)}getClassName(){return this.name+"-theme"}setBlockStyle(e,t){this.blockStyles[e]=t}setCategoryStyle(e,t){this.categoryStyles[e]=t}getComponentStyle(e){if(e=this.componentStyles[e],!e)return null;if(typeof e=="string"){const t=this.getComponentStyle(e);if(t)return t}return`${e}`}setComponentStyle(e,t){this.componentStyles[e]=t}setFontStyle(e){this.fontStyle=e}setStartHats(e){this.startHats=e}static defineTheme(e,t){e=e.toLowerCase();const s=new Nc(e);let u=t.base;if(u){if(typeof u=="string"){let v;u=(v=E(Ht.THEME,u))!=null?v:void 0}u instanceof Nc&&(Be(s,u),s.name=e)}return Be(s.blockStyles,t.blockStyles),Be(s.categoryStyles,t.categoryStyles),Be(s.componentStyles,t.componentStyles),Be(s.fontStyle,t.fontStyle),t.startHats!==null&&(s.startHats=t.startHats),s}},K5={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},Mu={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},Uh=new Nc("classic",K5,Mu),B0=class{constructor(e){this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let t=null,s=!1;var u=!1,v=!1,M=!1,re=!1,Re=!1;const Ut=!!e.readOnly;if(!Ut){var Wn;t=Bt((Wn=e.toolbox)!=null?Wn:null),s=On(t),u=e.trashcan,u=u===void 0?s:u,v=e.collapse,v=v===void 0?s:v,M=e.comments,M=M===void 0?s:M,re=e.disable,re=re===void 0?s:re,Re=e.sounds,Re=Re===void 0?!0:Re}Wn=e.maxTrashcanContents,u?Wn===void 0&&(Wn=32):Wn=0;const js=!!e.rtl;let ps=e.horizontalLayout;ps===void 0&&(ps=!1);var ul=e.toolboxPosition!=="end";ul=ps?ul?xr.TOP:xr.BOTTOM:ul===js?xr.RIGHT:xr.LEFT;let Fc=e.css;Fc===void 0&&(Fc=!0);let Hu="https://blockly-demo.appspot.com/static/media/";e.media&&(Hu=e.media.endsWith("/")?e.media:e.media+"/");const Bp=e.oneBasedIndex,D$=e.renderer||"geras",B$=e.plugins||{};let C6=e.modalInputs;C6===void 0&&(C6=!0),this.RTL=js,this.oneBasedIndex=Bp===void 0?!0:Bp,this.collapse=v,this.comments=M,this.disable=re,this.readOnly=Ut,this.maxBlocks=e.maxBlocks||1/0;let Pp;this.maxInstances=(Pp=e.maxInstances)!=null?Pp:null,this.modalInputs=C6,this.pathToMedia=Hu,this.hasCategories=s,this.moveOptions=B0.parseMoveOptions(e,s),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=u,this.maxTrashcanContents=Wn,this.hasSounds=Re,this.hasCss=Fc,this.horizontalLayout=ps,this.languageTree=t,this.gridOptions=B0.parseGridOptions(e),this.zoomOptions=B0.parseZoomOptions(e),this.toolboxPosition=ul,this.theme=B0.parseThemeOptions(e),this.renderer=D$;let Fp;this.rendererOverrides=(Fp=e.rendererOverrides)!=null?Fp:null;let Up;this.parentWorkspace=(Up=e.parentWorkspace)!=null?Up:null,this.plugins=B$}static parseMoveOptions(e,t){const s=e.move||{},u={};return s.scrollbars===void 0&&e.scrollbars===void 0?u.scrollbars=t:typeof s.scrollbars=="object"?(u.scrollbars={horizontal:!!s.scrollbars.horizontal,vertical:!!s.scrollbars.vertical},u.scrollbars.horizontal&&u.scrollbars.vertical?u.scrollbars=!0:u.scrollbars.horizontal||u.scrollbars.vertical||(u.scrollbars=!1)):u.scrollbars=!!s.scrollbars||!!e.scrollbars,u.wheel=u.scrollbars&&s.wheel!==void 0?!!s.wheel:typeof u.scrollbars=="object",u.drag=u.scrollbars?s.drag===void 0?!0:!!s.drag:!1,u}static parseZoomOptions(e){e=e.zoom||{};const t={};return t.controls=e.controls===void 0?!1:!!e.controls,t.wheel=e.wheel===void 0?!1:!!e.wheel,t.startScale=e.startScale===void 0?1:Number(e.startScale),t.maxScale=e.maxScale===void 0?3:Number(e.maxScale),t.minScale=e.minScale===void 0?.3:Number(e.minScale),t.scaleSpeed=e.scaleSpeed===void 0?1.2:Number(e.scaleSpeed),t.pinch=e.pinch===void 0?t.wheel||t.controls:!!e.pinch,t}static parseGridOptions(e){e=e.grid||{};const t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=e.length===void 0?1:Number(e.length),t.snap=t.spacing>0&&!!e.snap,t}static parseThemeOptions(e){return e=e.theme||Uh,typeof e=="string"?E(Ht.THEME,e):e instanceof Nc?e:Nc.defineTheme(e.name||"builtin"+Ze(),e)}},s4=class{constructor(e,t){this.bubble=e,this.workspace=t,this.startLoc=null}isMovable(){return!0}startDrag(){this.startLoc=this.bubble.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.bubble),this.bubble.setDragging&&this.bubble.setDragging(!0)}drag(e){this.bubble.moveDuringDrag(e)}endDrag(){this.workspace.setResizesEnabled(!0);let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.bubble,Bh),this.bubble.setDragging(!1)}revertDrag(){this.startLoc&&this.bubble.moveDuringDrag(this.startLoc)}},jl,Fi=class{constructor(e,t,s,u,v){this.workspace=e,this.anchor=t,this.ownerRect=s,this.owner=v,this.size=new Sr(0,0),this.colour="#ffffff",this.disposed=!1,this.relativeLeft=this.relativeTop=0,this.dragStrategy=new s4(this,this.workspace),this.id=Ze(),this.svgRoot=ct(ft.G,{class:"blocklyBubble"},e.getBubbleCanvas()),e=ct(ft.G,{class:"blocklyEmboss"},this.svgRoot),this.tail=ct(ft.PATH,{class:"blocklyBubbleTail"},e),this.background=ct(ft.RECT,{class:"blocklyDraggable",x:0,y:0,rx:jl.BORDER_WIDTH,ry:jl.BORDER_WIDTH},e),this.contentContainer=ct(ft.G,{},this.svgRoot),this.focusableElement=u??this.svgRoot,this.focusableElement.setAttribute("id",this.id),se(this.background,"pointerdown",this,this.onMouseDown),se(this.focusableElement,"keydown",this,this.onKeyDown)}dispose(){un(this.svgRoot),this.disposed=!0}setAnchorLocation(e,t=!1){this.anchor=e,t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}setPositionRelativeToAnchor(e,t){this.relativeLeft=e,this.relativeTop=t,this.positionRelativeToAnchor(),this.renderTail()}getSize(){return this.size}setSize(e,t=!1){e.width=Math.max(e.width,jl.MIN_SIZE),e.height=Math.max(e.height,jl.MIN_SIZE),this.size=e,this.background.setAttribute("width",`${e.width}`),this.background.setAttribute("height",`${e.height}`),t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}getColour(){return this.colour}setColour(e){this.colour=e,this.tail.setAttribute("fill",e),this.background.setAttribute("fill",e)}onMouseDown(e){let t;(t=this.workspace.getGesture(e))==null||t.handleBubbleStart(e,this),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)}onKeyDown(e){e.key==="Escape"&&this.owner&&(this.owner.setBubbleVisible(!1),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.owner))}positionRelativeToAnchor(){let e=this.anchor.x;e=this.workspace.RTL?e-(this.relativeLeft+this.size.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchor.y)}moveTo(e,t){this.svgRoot.setAttribute("transform",`translate(${e}, ${t})`)}positionByRect(e=new Tr(0,0,0,0)){var t=this.workspace.getMetricsManager().getViewMetrics(!0),s=this.getOptimalRelativeLeft(t),u=this.getOptimalRelativeTop(t);const v={x:s,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},M={x:-this.size.width-30,y:u};u={x:e.getWidth(),y:u};var re={x:s,y:e.getHeight()};s=e.getWidth()<e.getHeight()?u:re,e=e.getWidth()<e.getHeight()?re:u,u=this.getOverlap(v,t),re=this.getOverlap(M,t);const Re=this.getOverlap(s,t);t=this.getOverlap(e,t),t=Math.max(u,re,Re,t),u===t?(this.relativeLeft=v.x,this.relativeTop=v.y):re===t?(this.relativeLeft=M.x,this.relativeTop=M.y):Re===t?(this.relativeLeft=s.x,this.relativeTop=s.y):(this.relativeLeft=e.x,this.relativeTop=e.y),this.positionRelativeToAnchor()}getOverlap(e,t){var s=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x+this.anchor.x;return e=e.y+this.anchor.y,Math.max(0,Math.min(1,(Math.min(s+this.size.width,t.left+t.width)-Math.max(s,t.left))*(Math.min(e+this.size.height,t.top+t.height)-Math.max(e,t.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(e){let t=-this.size.width/4;if(this.size.width>e.width)return t;if(e=this.getWorkspaceViewRect(e),this.workspace.RTL){var s=this.anchor.x-t;s-this.size.width<e.left?t=-(e.left-this.anchor.x+this.size.width):s>e.right&&(t=-(e.right-this.anchor.x))}else{s=t+this.anchor.x;const u=s+this.size.width;s<e.left?t=e.left-this.anchor.x:u>e.right&&(t=e.right-this.anchor.x-this.size.width)}return t}getOptimalRelativeTop(e){let t=-this.size.height/4;if(this.size.height>e.height)return t;const s=this.anchor.y+t,u=s+this.size.height;return e=this.getWorkspaceViewRect(e),s<e.top?t=e.top-this.anchor.y:u>e.bottom&&(t=e.bottom-this.anchor.y-this.size.height),t}getWorkspaceViewRect(e){const t=e.top;let s=e.top+e.height,u=e.left;return e=e.left+e.width,s-=this.getScrollbarThickness(),this.workspace.RTL?u-=this.getScrollbarThickness():e-=this.getScrollbarThickness(),new Tr(t,s,u,e)}getScrollbarThickness(){return As.scrollbarThickness/this.workspace.scale}renderTail(){const e=[];var t=this.size.width/2,s=this.size.height/2,u=-this.relativeLeft,v=-this.relativeTop;if(t===u&&s===v)e.push("M "+t+","+s);else{v-=s,u-=t,this.workspace.RTL&&(u*=-1);var M=Math.sqrt(v*v+u*u),re=Math.acos(u/M);v<0&&(re=2*Math.PI-re);var Re=re+Math.PI/2;Re>Math.PI*2&&(Re-=Math.PI*2);var Ut=Math.sin(Re);const js=Math.cos(Re);let ps=(this.size.width+this.size.height)/jl.TAIL_THICKNESS;ps=Math.min(ps,this.size.width,this.size.height)/4,Re=1-jl.ANCHOR_RADIUS/M,u=t+Re*u,v=s+Re*v,Re=t+ps*js;const ul=s+ps*Ut;t-=ps*js,s-=ps*Ut,Ut=b0(this.workspace.RTL?-jl.TAIL_ANGLE:jl.TAIL_ANGLE),Ut=re+Ut,Ut>Math.PI*2&&(Ut-=Math.PI*2),re=Math.sin(Ut)*M/jl.TAIL_BEND,M=Math.cos(Ut)*M/jl.TAIL_BEND,e.push("M"+Re+","+ul),e.push("C"+(Re+M)+","+(ul+re)+" "+u+","+v+" "+u+","+v),e.push("C"+u+","+v+" "+(t+M)+","+(s+re)+" "+t+","+s)}e.push("z");let Wn;(Wn=this.tail)==null||Wn.setAttribute("d",e.join(" "))}bringToFront(){let e;const t=(e=this.svgRoot)==null?void 0:e.parentNode;return this.svgRoot&&t?.lastChild!==this.svgRoot?(t?.appendChild(this.svgRoot),!0):!1}getRelativeToSurfaceXY(){return new qt(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(e){this.moveTo(e.x,e.y),this.relativeLeft=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x-this.anchor.x,this.relativeTop=e.y-this.anchor.y,this.renderTail()}setDragging(e){}setDeleteStyle(e){}isDeletable(){return!1}showContextMenu(e){}isMovable(){return!0}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){Dt(this)}unselect(){Dt(null)}getFocusableElement(){return this.focusableElement}getFocusableTree(){return this.workspace}onNodeFocus(){this.select(),this.bringToFront();var e=this.getRelativeToSurfaceXY();const t=this.getSize();e=new Tr(e.y,e.y+t.height,e.x,e.x+t.width),this.workspace.scrollBoundsIntoView(e)}onNodeBlur(){this.unselect()}canBeFocused(){return!0}getOwner(){return this.owner}};jl=Fi,Fi.BORDER_WIDTH=6,Fi.DOUBLE_BORDER=jl.BORDER_WIDTH*2,Fi.MIN_SIZE=jl.DOUBLE_BORDER,Fi.TAIL_THICKNESS=1,Fi.TAIL_ANGLE=20,Fi.TAIL_BEND=4,Fi.ANCHOR_RADIUS=8;var ga=class extends Fi{constructor(e,t,s,u){super(t,s,u),this.workspace=t,this.anchor=s,this.ownerRect=u,this.autoLayout=!0,t=new B0(e),this.validateWorkspaceOptions(t),this.svgDialog=ct(ft.SVG,{x:Fi.BORDER_WIDTH,y:Fi.BORDER_WIDTH},this.contentContainer),e.parentWorkspace=this.workspace,this.miniWorkspace=this.newWorkspaceSvg(new B0(e)),this.miniWorkspace.internalIsMutator=!0,e=this.miniWorkspace.createDom("blocklyMutatorBackground"),this.svgDialog.appendChild(e),t.languageTree&&(e.insertBefore(this.miniWorkspace.addFlyout(ft.G),this.miniWorkspace.getCanvas()),e=this.miniWorkspace.getFlyout(),e?.init(this.miniWorkspace),e?.show(t.languageTree)),rn(this.svgRoot,"blocklyMiniWorkspaceBubble"),this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this));let v,M;(v=this.miniWorkspace.getFlyout())==null||(M=v.getWorkspace())==null||M.addChangeListener(this.onWorkspaceChange.bind(this)),this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose(),super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(e){this.miniWorkspace.addChangeListener(e)}validateWorkspaceOptions(e){if(e.hasCategories)throw Error("The miniworkspace bubble does not support toolboxes with categories");if(e.hasTrashcan)throw Error("The miniworkspace bubble does not support trashcans");if(e.zoomOptions.controls||e.zoomOptions.wheel||e.zoomOptions.pinch)throw Error("The miniworkspace bubble does not support zooming");if(e.moveOptions.scrollbars||e.moveOptions.wheel||e.moveOptions.drag)throw Error("The miniworkspace bubble does not scrolling/moving the workspace");if(e.horizontalLayout)throw Error("The miniworkspace bubble does not support horizontal layouts")}onWorkspaceChange(){this.bumpBlocksIntoBounds(),this.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress)for(const e of this.miniWorkspace.getTopBlocks(!1)){const t=e.getRelativeToSurfaceXY();if(t.y<20&&e.moveBy(0,20-t.y),e.RTL){let s=-20;const u=this.miniWorkspace.getFlyout();u&&(s-=u.getWidth()),t.x>s&&e.moveBy(s-t.x,0)}else t.x<20&&e.moveBy(20-t.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress){this.autoLayout&&(this.autoLayout=!this.miniWorkspace.keyboardMoveInProgress);var e=this.getSize(),t=this.calculateWorkspaceSize();Math.abs(e.width-t.width)<ga.MINIMUM_VIEW_CHANGE&&Math.abs(e.height-t.height)<ga.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute("width",`${t.width}px`),this.svgDialog.setAttribute("height",`${t.height}px`),this.miniWorkspace.setCachedParentSvgSize(t.width,t.height),this.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute("transform",`translate(${t.width}, 0)`),this.setSize(new Sr(t.width+Fi.DOUBLE_BORDER,t.height+Fi.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){var e=this.miniWorkspace.getCanvas().getBBox();let t=e.width+ga.MARGIN;e=e.height+ga.MARGIN;const s=this.miniWorkspace.getFlyout();if(s){const u=s.getWorkspace().getMetricsManager().getScrollMetrics();e=Math.max(e,u.height+20),t+=s.getWidth()}return new Sr(t,e)}updateBlockStyles(){for(var e of this.miniWorkspace.getAllBlocks(!1))e.setStyle(e.getStyleName());let t;if(e=(t=this.miniWorkspace.getFlyout())==null?void 0:t.getWorkspace())for(const s of e.getAllBlocks(!1))s.setStyle(s.getStyleName())}moveDuringDrag(e){super.moveDuringDrag(e),this.autoLayout=!1}moveTo(e,t){super.moveTo(e,t),this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}};ga.MINIMUM_VIEW_CHANGE=10,ga.MARGIN=Fi.DOUBLE_BORDER*3;var Mc=class{constructor(e){this.sourceBlock=e,this.offsetInBlock=new qt(0,0),this.workspaceLocation=new qt(0,0),this.svgRoot=null,this.tooltip=e,this.id=Ze()}getType(){throw Error("Icons must implement getType")}initView(e){if(!this.svgRoot){var t=this.sourceBlock;this.svgRoot=ct(ft.G,{class:"blocklyIconGroup",id:this.id}),t.getSvgRoot().appendChild(this.svgRoot),this.updateSvgRootOffset(),se(this.svgRoot,"pointerdown",this,e),this.svgRoot.tooltip=this,ur(this.svgRoot)}}dispose(){Kr(this.svgRoot),un(this.svgRoot)}getWeight(){return-1}getSize(){return new Sr(0,0)}setTooltip(e){this.tooltip=e??this.sourceBlock}getTooltip(){return this.tooltip}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display="none":this.svgRoot.style.display="block",$0(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display="none")}isShownWhenCollapsed(){return!1}setOffsetInBlock(e){this.offsetInBlock=e,this.updateSvgRootOffset()}updateSvgRootOffset(){let e;(e=this.svgRoot)==null||e.setAttribute("transform",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`)}onLocationChange(e){this.workspaceLocation=qt.sum(e,this.offsetInBlock)}onClick(){}isClickableInFlyout(e){return!0}getFocusableElement(){const e=this.svgRoot;if(!e)throw Error("Attempting to focus uninitialized icon.");return e}getFocusableTree(){return this.sourceBlock.workspace}onNodeFocus(){var e=this.sourceBlock.getBoundingRectangle();e=new Tr(e.top+this.offsetInBlock.y,e.top+this.offsetInBlock.y+this.getSize().height,e.left+this.offsetInBlock.x,e.left+this.offsetInBlock.x+this.getSize().width),this.sourceBlock.workspace.scrollBoundsIntoView(e)}onNodeBlur(){}canBeFocused(){return!0}getSourceBlock(){return this.sourceBlock}},R1,o4;R1=17,o4=16,n.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends Mc{constructor(e,t){super(t),this.flyoutBlockTypes=e,this.sourceBlock=t,this.saveConnectionsListener=this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(e){this.svgRoot||(super.initView(e),ct(ft.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},this.svgRoot),ct(ft.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},this.svgRoot),ct(ft.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},this.svgRoot),rn(this.svgRoot,"blocklyMutatorIcon"))}dispose(){super.dispose();let e;(e=this.miniWorkspaceBubble)==null||e.dispose()}getWeight(){return n.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new Sr(R1,R1)}applyColour(){super.applyColour();let e;(e=this.miniWorkspaceBubble)==null||e.setColour(this.sourceBlock.getColour());let t;(t=this.miniWorkspaceBubble)==null||t.updateBlockStyles()}updateCollapsed(){super.updateCollapsed(),this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(e){super.onLocationChange(e);let t;(t=this.miniWorkspaceBubble)==null||t.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick(),this.sourceBlock.isEditable()&&this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(e){const t=this;return(0,_t.asyncExecutePromiseGeneratorFunction)(function*(){if(t.bubbleIsVisible()!==e){if(yield Qn(),e){t.miniWorkspaceBubble=new ga(t.getMiniWorkspaceConfig(),t.sourceBlock.workspace,t.getAnchorLocation(),t.getBubbleOwnerRect()),t.applyColour(),t.createRootBlock(),t.addSaveConnectionsListener();let s;(s=t.miniWorkspaceBubble)==null||s.addWorkspaceChangeListener(t.createMiniWorkspaceChangeListener())}else{let s;(s=t.miniWorkspaceBubble)==null||s.dispose(),t.miniWorkspaceBubble=null,t.saveConnectionsListener&&t.sourceBlock.workspace.removeChangeListener(t.saveConnectionsListener),t.saveConnectionsListener=null}de(new(sn(mt.BUBBLE_OPEN))(t.sourceBlock,e,"mutator"))}})}getBubble(){return this.miniWorkspaceBubble}getMiniWorkspaceConfig(){let e;const t={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:(e=this.sourceBlock.workspace.options.rendererOverrides)!=null?e:void 0};return this.flyoutBlockTypes.length&&(t.toolbox={kind:"flyoutToolbox",contents:this.flyoutBlockTypes.map(s=>({kind:"block",type:s}))}),t}getAnchorLocation(){const e=R1/2;return qt.sum(this.workspaceLocation,new qt(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new Tr(e.y,e.y+e.height,e.x,e.x+e.width)}createRootBlock(){if(!this.sourceBlock.decompose)throw Error("Blocks with mutator icons must include a decompose method");this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());for(var e of this.rootBlock.getDescendants(!1))e.queueRender();this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1);let t,s,u,v;e=(v=(t=this.miniWorkspaceBubble)==null||(s=t.getWorkspace())==null||(u=s.getFlyout())==null?void 0:u.getWidth())!=null?v:0,this.rootBlock.moveBy(this.rootBlock.RTL?-(e+o4):o4,o4)}addSaveConnectionsListener(){this.sourceBlock.saveConnections&&this.rootBlock&&(this.saveConnectionsListener=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}createMiniWorkspaceChangeListener(){return e=>{n.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(e)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null,this.recomposeSourceBlock()},0))}}static isIgnorableMutatorEvent(e){return e.isUiEvent||Pt(e)||Xt(e)&&e.element==="disabled"}recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error("Blocks with mutator icons must include a compose method");var e=n.getGroup$$module$build$src$core$events$utils();e||n.setGroup$$module$build$src$core$events$utils(!0);var t=Su.getExtraBlockState_(this.sourceBlock);this.sourceBlock.compose(this.rootBlock);var s=Su.getExtraBlockState_(this.sourceBlock);t!==s&&de(new(sn(mt.BLOCK_CHANGE))(this.sourceBlock,"mutation",null,t,s)),n.setGroup$$module$build$src$core$events$utils(e)}}getWorkspace(){let e;return(e=this.miniWorkspaceBubble)==null?void 0:e.getWorkspace()}},n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=Es.MUTATOR,n.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1,n.MutatorIcon$$module$build$src$core$icons$mutator_icon;var Ho=Object.create(null),w2={allExtensions:Ho};n.register$$module$build$src$core$extensions("parent_tooltip_when_inline",t1);var h0={TEST_ONLY:w2};h0.apply=fu,h0.buildTooltipForDropdown=n.buildTooltipForDropdown$$module$build$src$core$extensions,h0.buildTooltipWithFieldText=n.buildTooltipWithFieldText$$module$build$src$core$extensions,h0.isRegistered=du,h0.register=n.register$$module$build$src$core$extensions,h0.registerMixin=n.registerMixin$$module$build$src$core$extensions,h0.registerMutator=n.registerMutator$$module$build$src$core$extensions,h0.runAfterPageLoad=Ba,h0.unregister=eo;var Ui;(function(e){e[e.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",e[e.MAC_ENTER=3]="MAC_ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.NUM_CENTER=12]="NUM_CENTER",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.FF_SEMICOLON=59]="FF_SEMICOLON",e[e.FF_EQUALS=61]="FF_EQUALS",e[e.FF_DASH=173]="FF_DASH",e[e.FF_HASH=163]="FF_HASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.AT_SIGN=64]="AT_SIGN",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META=91]="META",e[e.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",e[e.CONTEXT_MENU=93]="CONTEXT_MENU",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_MULTIPLY=106]="NUM_MULTIPLY",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_PERIOD=110]="NUM_PERIOD",e[e.NUM_DIVISION=111]="NUM_DIVISION",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUMLOCK=144]="NUMLOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",e[e.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",e[e.SEMICOLON=186]="SEMICOLON",e[e.DASH=189]="DASH",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.APOSTROPHE=192]="APOSTROPHE",e[e.TILDE=192]="TILDE",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE",e[e.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",e[e.BACKSLASH=220]="BACKSLASH",e[e.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",e[e.WIN_KEY=224]="WIN_KEY",e[e.MAC_FF_META=224]="MAC_FF_META",e[e.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",e[e.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",e[e.WIN_IME=229]="WIN_IME",e[e.VK_NONAME=252]="VK_NONAME",e[e.PHANTOM=255]="PHANTOM"})(Ui||(Ui={}));var $a={};$a.arc=b,$a.curve=rl,$a.line=g,$a.lineOnAxis=f,$a.lineTo=pl,$a.moveBy=Li,$a.moveTo=oo,$a.point=Un;var os={};os.Coordinate=qt,os.KeyCodes=Ui,os.Rect=Tr,os.Size=Sr,os.Svg=ft,os.aria=E1,os.array=o2,os.browserEvents=ia,os.colour=wl,os.deprecation=Vd,os.dom=lo,os.extensions=h0,os.idGenerator=b1,os.math=Ah,os.object=oa,os.parsing=A1,os.string=_i,os.style=ua,os.svgMath=ds,os.svgPaths=$a,os.toolbox=M0,os.userAgent=K4,os.xml=bl;var ol=class extends Fi{constructor(e,t,s,u){super(e,t,s,void 0,u),this.workspace=e,this.anchor=t,this.ownerRect=s,this.owner=u,this.resizePointerMoveListener=this.resizePointerUpListener=null,this.sizeChangeListeners=[],this.locationChangeListeners=[],this.DEFAULT_SIZE=new Sr(160+Fi.DOUBLE_BORDER,80+Fi.DOUBLE_BORDER),this.MIN_SIZE=new Sr(45+Fi.DOUBLE_BORDER,20+Fi.DOUBLE_BORDER),this.editable=!0,rn(this.svgRoot,"blocklyTextInputBubble"),this.editor=new n4(e,this.id,()=>{n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)}),this.contentContainer.appendChild(this.editor.getDom()),this.resizeGroup=this.createResizeHandle(this.svgRoot,e),this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.editor.getText()}setText(e){this.editor.setText(e)}setEditable(e){this.editable=e,this.editor.setEditable(e)}isEditable(){return this.editable}addTextChangeListener(e){this.editor.addTextChangeListener(e)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}addLocationChangeListener(e){this.locationChangeListeners.push(e)}createResizeHandle(e,t){return e=ct(ft.IMAGE,{class:"blocklyResizeHandle",href:`${t.options.pathToMedia}resize-handle.svg`},e),se(e,"pointerdown",this,this.onResizePointerDown),e}setSize(e,t=!1){e.width=Math.max(e.width,this.MIN_SIZE.width),e.height=Math.max(e.height,this.MIN_SIZE.height);const s=e.width-Fi.DOUBLE_BORDER,u=e.height-Fi.DOUBLE_BORDER;this.editor.updateSize(new Sr(s,u),new Sr(0,0)),this.editor.getDom().setAttribute("x",`${Fi.DOUBLE_BORDER/2}`),this.editor.getDom().setAttribute("y",`${Fi.DOUBLE_BORDER/2}`),this.resizeGroup.setAttribute("y",`${u}`),this.workspace.RTL?this.resizeGroup.setAttribute("x",`${-Fi.DOUBLE_BORDER}`):this.resizeGroup.setAttribute("x",`${s}`),super.setSize(e,t),this.onSizeChange()}getSize(){return super.getSize()}moveDuringDrag(e){super.moveDuringDrag(e),this.onLocationChange()}setPositionRelativeToAnchor(e,t){super.setPositionRelativeToAnchor(e,t),this.onLocationChange()}positionByRect(e=new Tr(0,0,0,0)){super.positionByRect(e),this.onLocationChange()}onResizePointerDown(e){this.bringToFront(),Se(e)||(xo(this.workspace,e,new qt(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=se(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=se(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation()}onResizePointerUp(e){te(),this.resizePointerUpListener&&(Oe(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(Oe(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(e){e=qo(this.workspace,e),this.setSize(new Sr(this.workspace.RTL?-e.x:e.x,e.y),!1),this.onSizeChange()}onSizeChange(){for(const e of this.sizeChangeListeners)e()}onLocationChange(){for(const e of this.locationChangeListeners)e()}getEditor(){return this.editor}};dn(`
.blocklyTextInputBubble .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 0;
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}
`);var xn;(function(e){e[e.INPUT_VALUE=1]="INPUT_VALUE",e[e.OUTPUT_VALUE=2]="OUTPUT_VALUE",e[e.NEXT_STATEMENT=3]="NEXT_STATEMENT",e[e.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"})(xn||(xn={}));var Ja=class{constructor(e){this.connectionChecker=e,this.connections=[]}addConnection(e,t){t=this.calculateIndexForYPos(t),this.connections.splice(t,0,e)}findIndexOfConnection(e,t){if(!this.connections.length)return-1;const s=this.calculateIndexForYPos(t);if(s>=this.connections.length)return-1;t=e.y;let u=s;for(;u>=0&&this.connections[u].y===t;){if(this.connections[u]===e)return u;u--}for(u=s;u<this.connections.length&&this.connections[u].y===t;){if(this.connections[u]===e)return u;u++}return-1}calculateIndexForYPos(e){if(!this.connections.length)return 0;let t=0,s=this.connections.length;for(;t<s;){const u=Math.floor((t+s)/2);if(this.connections[u].y<e)t=u+1;else if(this.connections[u].y>e)s=u;else{t=u;break}}return t}removeConnection(e,t){if(e=this.findIndexOfConnection(e,t),e===-1)throw Error("Unable to find connection in connectionDB.");this.connections.splice(e,1)}getNeighbours(e,t){function s(Wn){const js=v-u[Wn].x,ps=M-u[Wn].y;return Math.sqrt(js*js+ps*ps)<=t&&Ut.push(u[Wn]),ps<t}const u=this.connections,v=e.x,M=e.y;e=0;let re=u.length-2,Re=re;for(;e<Re;)u[Re].y<M?e=Re:re=Re,Re=Math.floor((e+re)/2);const Ut=[];if(re=e=Re,u.length){for(;e>=0&&s(e);)e--;do re++;while(re<u.length&&s(re))}return Ut}isInYRange(e,t,s){return Math.abs(this.connections[e].y-t)<=s}searchForClosest(e,t,s){if(!this.connections.length)return{connection:null,radius:t};const u=e.y,v=e.x;e.x=v+s.x,e.y=u+s.y;var M=this.calculateIndexForYPos(e.y);s=null;let re=t,Re,Ut=M-1;for(;Ut>=0&&this.isInYRange(Ut,e.y,t);)Re=this.connections[Ut],this.connectionChecker.canConnect(e,Re,!0,re)&&(s=Re,re=Re.distanceFrom(e)),Ut--;for(;M<this.connections.length&&this.isInYRange(M,e.y,t);)Re=this.connections[M],this.connectionChecker.canConnect(e,Re,!0,re)&&(s=Re,re=Re.distanceFrom(e)),M++;return e.x=v,e.y=u,{connection:s,radius:re}}static init(e){const t=[];return t[xn.INPUT_VALUE]=new Ja(e),t[xn.OUTPUT_VALUE]=new Ja(e),t[xn.NEXT_STATEMENT]=new Ja(e),t[xn.PREVIOUS_STATEMENT]=new Ja(e),t}},P0=class extends yi{constructor(e,t,s){super(s),this.type=mt.SELECTED,this.oldElementId=e??void 0,this.newElementId=t??void 0}toJson(){const e=super.toJson();return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new P0),t.oldElementId=e.oldElementId,t.newElementId=e.newElementId,t}};a(Ht.EVENT,mt.SELECTED,P0);var S2=class extends wu{constructor(e){if(super(e),this.type=mt.BLOCK_DELETE,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=Bo(e),this.ids=Hn(e),this.wasShadow=e.isShadow(),this.oldJson=ji(e,{addCoordinates:!0})}}toJson(){const e=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(this.wasShadow===void 0)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=ss(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new S2),t.oldXml=n.textToDom$$module$build$src$core$utils$xml(e.oldXml),t.ids=e.ids,t.wasShadow=e.wasShadow||t.oldXml.tagName.toLowerCase()==="shadow",t.oldJson=e.oldJson,e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){const s=this.ids[e],u=t.getBlockById(s);u?u.dispose(!1):s===this.blockId&&console.warn("Can't delete non-existent block: "+s)}else Rl(this.oldJson,t)}};a(Ht.EVENT,mt.BLOCK_DELETE,S2);var pi=class{constructor(e,t){if(this.type=t,this.targetConnection=null,this.disposed=!1,this.shadowDom=this.check=null,this.y=this.x=0,this.shadowState=null,this.sourceBlock_=e,e.id.includes("_connection"))throw Error(`Connection ID indicator is contained in block ID. This will cause problems with focus: ${e.id}.`);this.id=`${e.id}_connection_${Ze()}`}connect_(e){const t=xn.INPUT_VALUE,s=this.getSourceBlock();var u=e.getSourceBlock();e.isConnected()&&e.disconnectInternal(!1);let v;if(this.isConnected()){const re=this.stashShadowState(),Re=this.targetBlock();Re.isShadow()?Re.dispose(!1):(this.disconnectInternal(),v=Re),this.applyShadowState(re)}let M;Qt()&&(M=new(sn(mt.BLOCK_MOVE))(u),M.setReason(["connect"])),k(this,e),u.setParent(s),M&&(M.recordNew(),de(M)),v&&(e=this.type===t?v.outputConnection:v.previousConnection)&&((u=pi.getConnectionForOrphanedConnection(u,e))?e.connect(u):e.onFailedConnect(this))}dispose(){if(this.isConnected()){this.isSuperior()&&this.setShadowStateInternal();const e=this.targetBlock();e&&!e.isDeadOrDying()&&e.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===xn.INPUT_VALUE||this.type===xn.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(e){}connect(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){const t=n.getGroup$$module$build$src$core$events$utils();t||n.setGroup$$module$build$src$core$events$utils(!0),this.isSuperior()?this.connect_(e):e.connect_(this),n.setGroup$$module$build$src$core$events$utils(t)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(e=!0){const{parentConnection:t,childConnection:s}=this.getParentAndChildConnections();if(!t||!s)throw Error("Source connection not connected.");const u=n.getGroup$$module$build$src$core$events$utils();u||n.setGroup$$module$build$src$core$events$utils(!0);let v;Qt()&&(v=new(sn(mt.BLOCK_MOVE))(s.getSourceBlock()),v.setReason(["disconnect"]));const M=this.targetConnection;M&&(M.targetConnection=null),this.targetConnection=null,e&&s.getSourceBlock().setParent(null),v&&(v.recordNew(),de(v)),s.getSourceBlock().isShadow()||t.respawnShadow_(),n.setGroup$$module$build$src$core$events$utils(u)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(e,t){if(this.getSourceBlock().isDeadOrDying())return!1;var s;return t=(s=e.getInput(t))==null?void 0:s.connection,s=this.targetBlock(),s&&s!==e||!t||t.targetConnection===this?!1:(t.isConnected()&&t.disconnect(),t.connect(this),!0)}targetBlock(){if(this.isConnected()){let e,t;return(t=(e=this.targetConnection)==null?void 0:e.getSourceBlock())!=null?t:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return e?(Array.isArray(e)||(e=[e]),this.check=e,this.onCheckChanged_()):this.check=null,this}getCheck(){return this.check}setShadowDom(e){this.setShadowStateInternal({shadowDom:e})}getShadowDom(e){return e&&this.targetBlock().isShadow()?Hl(this.targetBlock()):this.shadowDom}setShadowState(e){this.setShadowStateInternal({shadowState:e})}getShadowState(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?ji(this.targetBlock()):this.shadowState}neighbours(e){return[]}getParentInput(){let e=null;const t=this.sourceBlock_.inputList;for(let s=0;s<t.length;s++)if(t[s].connection===this){e=t[s];break}return e}toString(){const e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var t="Output Connection of ";else if(e.previousConnection===this)t="Previous Connection of ";else if(e.nextConnection===this)t="Next Connection of ";else{t=null;for(let s=0,u;u=e.inputList[s];s++)if(u.connection===this){t=u;break}if(t)t='Input "'+t.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}return t+e.toDevString()}stashShadowState(){const e=this.getShadowDom(!0),t=this.getShadowState(!0);return this.shadowState=this.shadowDom=null,{shadowDom:e,shadowState:t}}applyShadowState({shadowDom:e,shadowState:t}){this.shadowDom=e,this.shadowState=t}setShadowStateInternal({shadowDom:e=null,shadowState:t=null}={}){this.shadowDom=e,this.shadowState=t,this.getSourceBlock().isDeadOrDying()||((e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())):(e=this.createShadowBlock(!1),this.serializeShadow(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())))}createShadowBlock(e){var t=this.getSourceBlock();const s=this.getShadowState(),u=this.getShadowDom();if(t.isDeadOrDying()||!s&&!u)return null;if(s)return t=Ll(s,t.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(u){if(t=o0(u,t.workspace),e)if(this.type===xn.INPUT_VALUE){if(!t.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(t.outputConnection))throw Error("Could not connect shadow block to connection")}else if(this.type===xn.NEXT_STATEMENT){if(!t.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(t.previousConnection))throw Error("Could not connect shadow block to connection")}else throw Error("Cannot connect a shadow block to a previous/output connection");return t}return null}serializeShadow(e){e&&(this.shadowDom=Hl(e),this.shadowState=ji(e))}static getConnectionForOrphanedConnection(e,t){if(t.type===xn.OUTPUT_VALUE)return G(e,t.getSourceBlock());e=e.lastConnectionInStack(!0);const s=t.getConnectionChecker();return e&&s.canConnect(t,e,!1)?e:null}};pi.CAN_CONNECT=0,pi.REASON_SELF_CONNECTION=1,pi.REASON_WRONG_TYPE=2,pi.REASON_TARGET_NULL=3,pi.REASON_CHECKS_FAILED=4,pi.REASON_DIFFERENT_WORKSPACES=5,pi.REASON_SHADOW_PARENT=6,pi.REASON_DRAG_CHECKS_FAILED=7,pi.REASON_PREVIOUS_AND_OUTPUT=8;var Oc=class extends Error{constructor(e){super(`Tried to append an icon of type ${e.getType()} when an icon of that type already exists on the block. Use getIcon to access the existing icon.`),this.icon=e}},x2={};x2.DuplicateIconType=Oc,(function(e){e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(n.Align$$module$build$src$core$inputs$align||(n.Align$$module$build$src$core$inputs$align={})),n.Align$$module$build$src$core$inputs$align;var Rc=class extends Pi{constructor(e,t,s){super(Pi.SKIP_SETUP),this.class=null,this.EDITABLE=!1,this.maxDisplayLength=1/0,e!==Pi.SKIP_SETUP&&(s?this.configure_(s):this.class=t||null,this.setValue(e))}configure_(e){super.configure_(e),e.class&&(this.class=e.class)}initView(){this.createTextElement_(),this.class&&rn(this.getTextElement(),this.class),this.fieldGroup_&&rn(this.fieldGroup_,"blocklyLabelField")}doClassValidation_(e){return e==null?null:`${e}`}setClass(e){this.textElement_&&(this.class&&Zn(this.textElement_,this.class),e&&rn(this.textElement_,e)),this.class=e}static fromJson(e){return new this(cr(e.text),void 0,e)}};tl("field_label",Rc),Rc.prototype.DEFAULT_VALUE="";var D3=30,Lc=[];Lc[xn.INPUT_VALUE]=xn.OUTPUT_VALUE,Lc[xn.OUTPUT_VALUE]=xn.INPUT_VALUE,Lc[xn.NEXT_STATEMENT]=xn.PREVIOUS_STATEMENT,Lc[xn.PREVIOUS_STATEMENT]=xn.NEXT_STATEMENT;var C2="RENAME_VARIABLE_ID",k2="DELETE_VARIABLE_ID",B3=10,Mo=class extends pi{constructor(e,t){super(e,t),this.highlighted=!1,this.targetConnection=null,this.db=e.workspace.connectionDBList[t],this.dbOpposite=e.workspace.connectionDBList[Lc[t]],this.offsetInBlock=new qt(0,0),this.trackedState=Mo.TrackedState.WILL_TRACK}dispose(){super.dispose(),this.trackedState===Mo.TrackedState.TRACKED&&this.db.removeConnection(this,this.y);let e,t;(t=(e=this.sourceBlock_.pathObject).removeConnectionHighlight)==null||t.call(e,this)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(e){const t=this.x-e.x;return e=this.y-e.y,Math.sqrt(t*t+e*e)}bumpAwayFrom(e,t=!1){if(!this.sourceBlock_.workspace.isDragging()){var s=n.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*B3),u=n.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*B3),v=e.sourceBlock_.getRootBlock(),M=this.sourceBlock_.getRootBlock();if(!v.isInFlyout&&!M.isInFlyout){var re=!0;if(M.isMovable())v.isMovable()&&t&&(u=-u);else if(v.isMovable())re=!1,s=-s,u=-u;else return;t=re?e:this,e=re?this:e,v=re?M:v,v.RTL&&(s=-s),v.moveBy(t.x+s-e.x,t.y+u-e.y,["bump"])}}}moveTo(e,t){let s=!1;return this.trackedState===Mo.TrackedState.WILL_TRACK?(this.db.addConnection(this,t),this.trackedState=Mo.TrackedState.TRACKED,s=!0):this.trackedState===Mo.TrackedState.TRACKED&&(this.db.removeConnection(this,this.y),this.db.addConnection(this,t),s=!0),this.x=e,this.y=t,s}moveBy(e,t){return this.moveTo(this.x+e,this.y+t)}moveToOffset(e){return this.moveTo(e.x+this.offsetInBlock.x,e.y+this.offsetInBlock.y)}setOffsetInBlock(e,t){this.offsetInBlock.x=e,this.offsetInBlock.y=t}getOffsetInBlock(){return this.offsetInBlock}tightenEfficiently(){var e=this.targetConnection;const t=this.targetBlock();e&&t&&(e=qt.difference(this.offsetInBlock,e.offsetInBlock),t.translate(e.x,e.y))}closest(e,t){return this.dbOpposite.searchForClosest(this,e,t)}highlight(){this.highlighted=!0;const e=this.findHighlightSvg();e&&(e.style.display="")}unhighlight(){this.highlighted=!1;const e=this.findHighlightSvg();e&&(e.style.display="none")}isHighlighted(){return this.highlighted}setTracking(e){e&&this.trackedState===Mo.TrackedState.TRACKED||!e&&this.trackedState===Mo.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db.addConnection(this,this.y),this.trackedState=Mo.TrackedState.TRACKED):(this.trackedState===Mo.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=Mo.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){const e=this.targetBlock().getDescendants(!1);for(let t=0;t<e.length;t++){const s=e[t],u=s.getConnections_(!0);for(let v=0;v<u.length;v++)u[v].setTracking(!1);for(const v of s.getIcons())$0(v)&&v.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let e=[];if(this.type!==xn.INPUT_VALUE&&this.type!==xn.NEXT_STATEMENT)return e;const t=this.targetBlock();if(t){let s;t.isCollapsed()?(s=[],t.outputConnection&&s.push(t.outputConnection),t.nextConnection&&s.push(t.nextConnection),t.previousConnection&&s.push(t.previousConnection)):s=t.getConnections_(!0);for(let u=0;u<s.length;u++)e.push(...s[u].startTrackingAll());e.length||(e=[t])}return e}onFailedConnect(e){const t=this.getSourceBlock();if(an()){const s=n.getGroup$$module$build$src$core$events$utils();setTimeout((function(){t.isDisposed()||t.getParent()||(n.setGroup$$module$build$src$core$events$utils(s),this.bumpAwayFrom(e),n.setGroup$$module$build$src$core$events$utils(!1))}).bind(this),n.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(e=!0){const{parentConnection:t,childConnection:s}=this.getParentAndChildConnections();if(t&&s){var u=n.getGroup$$module$build$src$core$events$utils();u||n.setGroup$$module$build$src$core$events$utils(!0);var v=t.getSourceBlock(),M=s.getSourceBlock();super.disconnectInternal(e),v.queueRender(),M.updateDisabled(),M.queueRender(),M.getSvgRoot().style.display="block",n.setGroup$$module$build$src$core$events$utils(u)}}respawnShadow_(){super.respawnShadow_();const e=this.targetBlock();e&&(e.initSvg(),e.queueRender())}neighbours(e){return this.dbOpposite.getNeighbours(this,e)}connect_(e){super.connect_(e);var t=this.getSourceBlock();e=e.getSourceBlock(),t.updateDisabled(),e.updateDisabled(),e.queueRender(),(t=t.getInputWithBlock(e))&&(t=t.isVisible(),e.getSvgRoot().style.display=t?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return super.setCheck(e),this.sourceBlock_.queueRender(),this}showContextMenu(e){const t=Cr.registry.getContextMenuOptions({focusedNode:this},e);if(t.length){var s=this.getSourceBlock(),u=s.workspace;if(e instanceof PointerEvent)var v=new qt(e.clientX,e.clientY);else v=new qt(this.x,this.y),v=qe(u,v).translate(s.RTL?-5:5,5);Y0(e,t,s.RTL,u,v)}}getFocusableElement(){const e=this.findHighlightSvg();if(e)return e;throw Error("No highlight SVG found corresponding to this connection.")}getFocusableTree(){return this.getSourceBlock().workspace}onNodeFocus(){this.highlight(),this.getSourceBlock().workspace.scrollBoundsIntoView(this.getSourceBlock().getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unhighlight()}canBeFocused(){return!0}findHighlightSvg(){return document.getElementById(this.id)}};(function(e){e=e.TrackedState||(e.TrackedState={}),e[e.WILL_TRACK=-1]="WILL_TRACK",e[e.UNTRACKED=0]="UNTRACKED",e[e.TRACKED=1]="TRACKED"})(Mo||(Mo={})),Mo.TrackedState;var Dc=class{constructor(e,t){this.name=e,this.sourceBlock=t,this.fieldRow=[],this.align=n.Align$$module$build$src$core$inputs$align.LEFT,this.visible=!0,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM,this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this}insertFieldAt(e,t,s){if(e<0||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(t||t===""&&s)&&(typeof t=="string"&&(t=n.fromJson$$module$build$src$core$field_registry({type:"field_label",text:t})),t.setSourceBlock(this.sourceBlock),this.sourceBlock.initialized&&this.initField(t),t.name=s,t.setVisible(this.isVisible()),t.prefixField&&(e=this.insertFieldAt(e,t.prefixField)),this.fieldRow.splice(e,0,t),e++,t.suffixField&&(e=this.insertFieldAt(e,t.suffixField)),this.sourceBlock.rendered&&this.sourceBlock.queueRender()),e}removeField(e,t){for(let s=0,u;u=this.fieldRow[s];s++)if(u.name===e)return u.dispose(),this.fieldRow.splice(s,1),this.sourceBlock.rendered&&this.sourceBlock.queueRender(),!0;if(t)return!1;throw Error('Field "'+e+'" not found.')}isVisible(){return this.visible}setVisible(e){let t=[];if(this.visible===e)return t;this.visible=e;for(let s=0,u;u=this.fieldRow[s];s++)u.setVisible(e);if(this.connection&&this.connection instanceof Mo){e?t=this.connection.startTrackingAll():this.connection.stopTrackingAll();const s=this.connection.targetBlock();s&&(s.getSvgRoot().style.display=e?"block":"none")}return t}markDirty(){for(let e=0,t;t=this.fieldRow[e];e++)t.markDirty()}setCheck(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}setAlign(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}setShadowDom(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){for(const e of this.fieldRow)e.init()}initModel(){for(const e of this.fieldRow)e.initModel()}initField(e){this.sourceBlock.rendered?e.init():e.initModel()}dispose(){for(let e=0,t;t=this.fieldRow[e];e++)t.dispose();this.connection&&this.connection.dispose()}makeConnection(e){return this.sourceBlock.makeConnection_(e)}},ll=class extends Dc{constructor(e,t){super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},Yl=class extends Dc{constructor(e,t){super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.END_ROW}},xl=class extends Dc{constructor(e,t){if(!e)throw Error("Statement inputs must have a non-empty name");super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT,this.connection=this.makeConnection(xn.NEXT_STATEMENT)}},P3;n.ValueInput$$module$build$src$core$inputs$value_input=class extends Dc{constructor(e,t){if(!e)throw Error("Value inputs must have a non-empty name");super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.VALUE,this.connection=this.makeConnection(xn.INPUT_VALUE)}},P3={},P3.ValueInput=n.ValueInput$$module$build$src$core$inputs$value_input;var F0=class{constructor(e,t,s){if(this.data=null,this.disposed=!1,this.hue=null,this.colour_="#000000",this.styleName_="",this.suppressPrefixSuffix=!1,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.icons=[],this.disabledReasons=new Set,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable=this.movable=this.deletable=!0,this.collapsed_=this.shadow=!1,this.outputShape_=null,this.rendered=this.isInsertionMarker_=this.initialized=this.disposing=!1,this.onchangeWrapper=this.helpUrl=null,this.statementInputCount=0,this.workspace=e,this.id=s&&!e.getBlockById(s)?s:Ke(),e.setBlockById(this.id,this),this.xy=new qt(0,0),this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,t){if(this.type=t,s=Ts[t],!s||typeof s!="object")throw TypeError("Invalid block definition for type: "+t);Object.assign(this,s)}e.addTopBlock(this),e.addTypedBlock(this),new.target===F0&&this.doInit_()}doInit_(){const e=n.getGroup$$module$build$src$core$events$utils();e||n.setGroup$$module$build$src$core$events$utils(!0);const t=an();try{typeof this.init=="function"&&(n.setRecordUndo$$module$build$src$core$events$utils(!1),this.init(),n.setRecordUndo$$module$build$src$core$events$utils(t)),Qt()&&de(new(sn(mt.BLOCK_CREATE))(this))}finally{n.setGroup$$module$build$src$core$events$utils(e),n.setRecordUndo$$module$build$src$core$events$utils(t)}this.inputsInlineDefault=this.inputsInline,typeof this.onchange=="function"&&this.setOnChange(this.onchange)}dispose(e=!1){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.unplug(e),Qt()&&de(new(sn(mt.BLOCK_DELETE))(this)),this.workspace.removeTopBlock(this),this.disposeInternal()}disposeInternal(){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),typeof this.destroy=="function"&&this.destroy(),this.childBlocks_.forEach(e=>e.disposeInternal()),this.inputList.forEach(e=>e.dispose()),this.inputList.length=0,this.getConnections_(!0).forEach(e=>e.dispose()),this.disposed=!0}isDeadOrDying(){return this.disposing||this.disposed}initModel(){if(!this.initialized){for(const e of this.inputList)e.initModel();this.initialized=!0}}unplug(e){this.outputConnection&&this.unplugFromRow(e),this.previousConnection&&this.unplugFromStack(e)}unplugFromRow(e){let t=null,s;(s=this.outputConnection)!=null&&s.isConnected()&&(t=this.outputConnection.targetConnection,this.outputConnection.disconnect()),t&&e&&(e=this.getOnlyValueConnection())&&e.isConnected()&&!e.targetBlock().isShadow()&&(e=e.targetConnection,e?.disconnect(),this.workspace.connectionChecker.canConnect(e,t,!1)?t.connect(e):e?.onFailedConnect(t))}getOnlyValueConnection(){let e=null;for(let t=0;t<this.inputList.length;t++){const s=this.inputList[t].connection;if(s&&s.type===xn.INPUT_VALUE&&s.targetConnection){if(e)return null;e=s}}return e}unplugFromStack(e){let t=null,s;if((s=this.previousConnection)!=null&&s.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect()),e){for(e=this.getNextBlock();e&&(e.isShadow()||!e.isMovable());)e=e.getNextBlock();if(e){var u,v,M,re;e=(re=(u=e.previousConnection)==null||(v=u.targetBlock())==null||(M=v.nextConnection)==null?void 0:M.targetConnection)!=null?re:null,e?.disconnect(),t&&this.workspace.connectionChecker.canConnect(t,e,!1)&&t.connect(e)}}}getConnections_(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(let t=0,s;s=this.inputList[t];t++)s.connection&&e.push(s.connection);return e}lastConnectionInStack(e){let t=this.nextConnection;for(;t;){const s=t.targetBlock();if(!s||e&&s.isShadow())return t;t=s.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(e){for(let t=0,s;s=this.inputList[t];t++)if(s.connection&&s.connection.targetBlock()===e)return s;return null}getSurroundParent(){let e=this,t;do if(t=e,e=e.getParent(),!e)return null;while(e.getNextBlock()===t);return e}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getRootBlock(){let e,t=this;do e=t,t=e.parentBlock_;while(t);return e}getTopStackBlock(){let e=this,t;do t=e.getPreviousBlock();while(t&&t.getNextBlock()===e&&(e=t));return e}getChildren(e){if(!e)return this.childBlocks_;e=[];for(let s=0,u;u=this.inputList[s];s++)if(u.connection){var t=u.connection.targetBlock();t&&e.push(t)}return(t=this.getNextBlock())&&e.push(t),e}setParent(e){if(e!==this.parentBlock_){var t=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),s=!!t;if(s&&e&&t!==e)throw Error("Block connected to superior one that is not new parent.");if(!s&&e)throw Error("Block not connected to new parent.");if(s&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?Mt(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(e){const t=[this],s=this.getChildren(e);for(let u,v=0;u=s[v];v++)t.push(...u.getDescendants(e));return t}isDeletable(){return this.deletable&&!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnDeletable(){return this.deletable}setDeletable(e){this.deletable=e}isMovable(){return this.movable&&!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnMovable(){return this.movable}setMovable(e){this.movable=e}isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable(ve(this,!0)):!0}isShadow(){return this.shadow}setShadow(e){this.shadow=e}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(e){this.isInsertionMarker_=e}isEditable(){return this.editable&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setEditable(e){this.editable=e;for(const t of this.getFields())t.updateEditable()}isDisposed(){return this.disposed}isSimpleReporter(){if(!this.outputConnection)return!1;for(const e of this.inputList)if(e.connection||e.fieldRow.length>1)return!1;return!0}getMatchingConnection(e,t){const s=this.getConnections_(!0);if(e=e.getConnections_(!0),s.length!==e.length)throw Error("Connection lists did not match in length.");for(let u=0;u<e.length;u++)if(e[u]===t)return s[u];return null}setHelpUrl(e){this.helpUrl=e}setTooltip(e){this.tooltip=e}getTooltip(){return nn(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue}setColour(e){e=Ri(e),this.hue=e.hue,this.colour_=e.hex}setStyle(e){this.styleName_=e}setOnChange(e){if(e&&typeof e!="function")throw Error("onchange must be a function.");this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.onchange=e,this.onchangeWrapper=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper)}getField(e){if(typeof e!="string")throw TypeError("Block.prototype.getField expects a string with the field name but received "+(e===void 0?"nothing":e+" of type "+typeof e)+" instead");for(const t of this.getFields())if(t.name===e)return t;return null}*getFields(){for(const e of this.inputList)for(const t of e.fieldRow)yield t}getVars(){const e=[];for(const t of this.getFields())t.referencesVariables()&&e.push(t.getValue());return e}getVarModels(){const e=[];for(const t of this.getFields())if(t.referencesVariables()){const s=this.workspace.getVariableById(t.getValue());s&&e.push(s)}return e}updateVarName(e){for(const t of this.getFields())t.referencesVariables()&&e.getId()===t.getValue()&&t.refreshVariableName()}renameVarById(e,t){for(const s of this.getFields())s.referencesVariables()&&e===s.getValue()&&s.setValue(t)}getFieldValue(e){return(e=this.getField(e))?e.getValue():null}setFieldValue(e,t){const s=this.getField(t);if(!s)throw Error('Field "'+t+'" not found.');s.setValue(e)}setPreviousStatement(e,t){if(e)t===void 0&&(t=null),this.previousConnection||(this.previousConnection=this.makeConnection_(xn.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(t);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(e,t){if(e)t===void 0&&(t=null),this.nextConnection||(this.nextConnection=this.makeConnection_(xn.NEXT_STATEMENT)),this.nextConnection.setCheck(t);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(e,t){if(e)t===void 0&&(t=null),this.outputConnection||(this.outputConnection=this.makeConnection_(xn.OUTPUT_VALUE)),this.outputConnection.setCheck(t);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(e){this.inputsInline!==e&&(de(new(sn(mt.BLOCK_CHANGE))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}getInputsInline(){if(this.inputsInline!==void 0)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof ll&&this.inputList[e]instanceof ll)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof n.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[e]instanceof ll)return!0;for(e=0;e<this.inputList.length;e++)if(this.inputList[e]instanceof Yl)return!0;return!1}setOutputShape(e){this.outputShape_=e}getOutputShape(){return this.outputShape_}isEnabled(){return this.disabledReasons.size===0}setDisabledReason(e,t){e||this.workspace.options.disable||!this.hasDisabledReason($r)||t==$r||this.setDisabledReason(!1,$r),this.disabledReasons.has(t)!==e&&(e?this.disabledReasons.add(t):this.disabledReasons.delete(t),e=new(sn(mt.BLOCK_CHANGE))(this,"disabled",null,!e,e),e.setDisabledReason(t),de(e))}getInheritedDisabled(){let e=this.getSurroundParent();for(;e;){if(!e.isEnabled())return!0;e=e.getSurroundParent()}return!1}hasDisabledReason(e){return this.disabledReasons.has(e)}getDisabledReasons(){return this.disabledReasons}isCollapsed(){return this.collapsed_}setCollapsed(e){this.collapsed_!==e&&(de(new(sn(mt.BLOCK_CHANGE))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}toString(e,t){t=this.toTokens(t);for(let u=2;u<t.length;u++)t[u-2]==="("&&t[u]===")"&&(t[u-2]=t[u-1],t.splice(u-1,2));let s="";return t=t.reduce((u,v)=>(u=u+(s==="("||v===")"?"":" ")+v,s=v[v.length-1],u),""),t=t.trim()||"???",e&&t.length>e&&(t=t.substring(0,e-3)+"..."),t}toTokens(e="?"){const t=[];for(const u of this.inputList)if(u.name!=Bi){for(const v of u.fieldRow)t.push(v.getText());if(u.connection){const v=u.connection.targetBlock();if(v){var s=u.connection;let M=s.getCheck();!M&&s.targetConnection&&(M=s.targetConnection.getCheck()),(s=!!M&&(M.includes("Boolean")||M.includes("Number")))&&t.push("("),t.push(...v.toTokens(e)),s&&t.push(")")}else t.push(e)}}return t}appendValueInput(e){return this.appendInput(new n.ValueInput$$module$build$src$core$inputs$value_input(e,this))}appendStatementInput(e){return this.statementInputCount++,this.appendInput(new xl(e,this))}appendDummyInput(e=""){return this.appendInput(new ll(e,this))}appendEndRowInput(e=""){return this.appendInput(new Yl(e,this))}appendInput(e){return this.inputList.push(e),e}appendInputFromRegistry(e,t){return(e=y(Ht.INPUT,e,!1))?this.appendInput(new e(t,this)):null}jsonInit(e){var t=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(t+"Must not have both an output and a previousStatement.");for(var s=0;e["args"+s];){if(e["message"+s]===void 0)throw Error(t+`args${s} must have a corresponding message (message${s}).`);s++}if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(t+"Must not have both a colour and a style.");for(e.style?this.jsonInitStyle(e,t):this.jsonInitColour(e,t),s=0;e["message"+s]!==void 0;)this.interpolate(e["message"+s],e["args"+s]||[],e["implicitAlign"+s]||e["lastDummyAlign"+s],t),s++;if(e.inputsInline!==void 0&&(n.disable$$module$build$src$core$events$utils(),this.setInputsInline(e.inputsInline),n.enable$$module$build$src$core$events$utils()),e.output!==void 0&&this.setOutput(!0,e.output),e.outputShape!==void 0&&this.setOutputShape(e.outputShape),e.previousStatement!==void 0&&this.setPreviousStatement(!0,e.previousStatement),e.nextStatement!==void 0&&this.setNextStatement(!0,e.nextStatement),e.tooltip!==void 0&&(s=cr(e.tooltip),this.setTooltip(s)),e.enableContextMenu!==void 0&&(this.contextMenu=!!e.enableContextMenu),e.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),e.helpUrl!==void 0&&(s=cr(e.helpUrl),this.setHelpUrl(s)),typeof e.extensions=="string"&&(console.warn(t+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),e.mutator!==void 0&&fu(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(t=0;t<e.length;t++)fu(e[t],this,!1)}jsonInitColour(e,t){if("colour"in e)if(e.colour===void 0)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch{console.warn(t+"Illegal colour value: ",e)}}}jsonInitStyle(e,t){e=e.style;try{this.setStyle(e)}catch{console.warn(t+"Style does not exist: ",e)}}mixin(e,t){if(t!==void 0&&typeof t!="boolean")throw Error("opt_disableCheck must be a boolean if provided");if(!t){t=[];for(const s in e)this[s]!==void 0&&t.push(s);if(t.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(t))}Object.assign(this,e)}interpolate(e,t,s,u){e=cs(e),this.validateTokens(e,t.length),t=this.interpolateArguments(e,t,s),s=[];for(let v=0,M;M=t[v];v++)if(this.isInputKeyword(M.type)){if(e=this.inputFromJson(M,u)){for(let re=0,Re;Re=s[re];re++)e.appendField(Re[0],Re[1]);s.length=0}}else(e=this.fieldFromJson(M))&&s.push([e,M.name])}validateTokens(e,t){const s=[];let u=0;for(let v=0;v<e.length;v++){const M=e[v];if(typeof M=="number"){if(M<1||M>t)throw Error('Block "'+this.type+'": Message index %'+M+" out of range.");if(s[M])throw Error('Block "'+this.type+'": Message index %'+M+" duplicated.");s[M]=!0,u++}}if(u!==t)throw Error('Block "'+this.type+'": Message does not reference all '+t+" arg(s).")}interpolateArguments(e,t,s){const u=[];for(let M=0;M<e.length;M++){var v=e[M];if(typeof v=="number"&&(v=t[v-1]),typeof v=="string"){if(v===`
`)v={type:"input_end_row"},s&&(v.align=s);else if(v=this.stringToFieldJson(v),!v)continue}u.push(v)}return(e=u.length)&&!this.isInputKeyword(u[e-1].type)&&(e={type:"input_dummy"},s&&(e.align=s),u.push(e)),u}fieldFromJson(e){const t=n.fromJson$$module$build$src$core$field_registry(e);return!t&&e.alt?typeof e.alt=="string"?(e=this.stringToFieldJson(e.alt))?this.fieldFromJson(e):null:this.fieldFromJson(e.alt):t}inputFromJson(e,t){var s={LEFT:n.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:n.Align$$module$build$src$core$inputs$align.RIGHT,CENTRE:n.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:n.Align$$module$build$src$core$inputs$align.CENTRE};let u;switch(e.type){case"input_value":u=this.appendValueInput(e.name);break;case"input_statement":u=this.appendStatementInput(e.name);break;case"input_dummy":u=this.appendDummyInput(e.name);break;case"input_end_row":u=this.appendEndRowInput(e.name);break;default:u=this.appendInputFromRegistry(e.type,e.name)}return u?(e.check&&u.setCheck(e.check),e.align&&(s=s[e.align.toUpperCase()],s===void 0?console.warn(t+"Illegal align value: ",e.align):u.setAlign(s)),u):null}isInputKeyword(e){return e==="input_value"||e==="input_statement"||e==="input_dummy"||e==="input_end_row"||_(Ht.INPUT,e)}stringToFieldJson(e){return(e=e.trim())?{type:"field_label",text:e}:null}moveInputBefore(e,t){if(e!==t){var s=-1,u=t?-1:this.inputList.length;for(let v=0,M;M=this.inputList[v];v++)if(M.name===e){if(s=v,u!==-1)break}else if(t&&M.name===t&&(u=v,s!==-1))break;if(s===-1)throw Error('Named input "'+e+'" not found.');if(u===-1)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(s,u)}}moveNumberedInputBefore(e,t){if(e===t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");const s=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,s)}removeInput(e,t){for(let s=0,u;u=this.inputList[s];s++)if(u.name===e)return u instanceof xl&&this.statementInputCount--,u.dispose(),this.inputList.splice(s,1),!0;if(t)return!1;throw Error("Input not found: "+e)}getInput(e){for(let t=0,s;s=this.inputList[t];t++)if(s.name===e)return s;return null}getInputTargetBlock(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}getCommentText(){let e,t;return(t=(e=this.getIcon(Es.COMMENT))==null?void 0:e.getText())!=null?t:null}setCommentText(e){var t;let s;const u=(s=(t=this.getIcon(Es.COMMENT))==null?void 0:t.getText())!=null?s:null;if(u!==e){if(e!==null){if(t=this.getIcon(Es.COMMENT),!t){if(t=y(Ht.ICON,Es.COMMENT.toString(),!1),!t)throw Error("No comment icon class is registered, so a comment cannot be set");if(t=new t(this),!ge(t))throw Error("The class registered as a comment icon does not conform to the ICommentIcon interface");t=this.addIcon(t)}n.disable$$module$build$src$core$events$utils(),t.setText(e),n.enable$$module$build$src$core$events$utils()}else this.removeIcon(Es.COMMENT);de(new(sn(mt.BLOCK_CHANGE))(this,"comment",null,u,e))}}setWarningText(e,t){}setMutator(e){}addIcon(e){if(this.hasIcon(e.getType()))throw new Oc(e);return this.icons.push(e),this.icons.sort((t,s)=>t.getWeight()-s.getWeight()),e}removeIcon(e){if(!this.hasIcon(e))return!1;let t;return(t=this.getIcon(e))==null||t.dispose(),this.icons=this.icons.filter(s=>!s.getType().equals(e)),!0}hasIcon(e){return this.icons.some(t=>t.getType().equals(e))}getIcon(e){return e instanceof Es?this.icons.find(t=>t.getType().equals(e)):this.icons.find(t=>t.getType().toString()===e)}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy}moveBy(e,t,s){if(this.parentBlock_)throw Error("Block has parent");const u=new(sn(mt.BLOCK_MOVE))(this);s&&u.setReason(s),this.xy.translate(e,t),u.recordNew(),de(u)}makeConnection_(e){return new pi(this,e)}allInputsFilled(e){if(e===void 0&&(e=!0),!e&&this.isShadow())return!1;for(let s=0,u;u=this.inputList[s];s++)if(u.connection){var t=u.connection.targetBlock();if(!t||!t.allInputsFilled(e))return!1}return(t=this.getNextBlock())?t.allInputsFilled(e):!0}toDevString(){let e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}};F0.COLLAPSED_INPUT_NAME=Bi,F0.COLLAPSED_FIELD_NAME=Vr;var Ou=null,L1=null,Ru={};Ru.connectionUiEffect=ot,Ru.disconnectUiEffect=dt,Ru.disconnectUiStop=Zt,Ru.disposeUiEffect=Ne;var Bc=class{paste(e,t,s){if(!t.isCapacityAvailable(e.typeCounts))return null;s&&(e.blockState.x=s.x,e.blockState.y=s.y),s=s||new qt(e.blockState.x||0,e.blockState.y||0),n.disable$$module$build$src$core$events$utils();let u;try{u=Rl(e.blockState,t),wn(u,s)}finally{n.enable$$module$build$src$core$events$utils()}if(!u)return u;Qt()&&!u.isShadow()&&de(new(sn(mt.BLOCK_CREATE))(u));const v=u;return Qn().then(()=>n.getFocusManager$$module$build$src$core$focus_manager().focusNode(v)),u}};Bc.TYPE="block",ms(Bc.TYPE,new Bc);var D1={};D1.bumpIntoBounds=vr,D1.bumpIntoBoundsHandler=wr,D1.bumpTopObjectsIntoBounds=Jr;var zh=class{constructor(e){this.block=e,this.connectionPreviewer=this.connectionCandidate=this.startLoc=this.startChildConn=this.startParentConn=null,this.dragging=!1,this.dragOffset=new qt(0,0),this.originalEventGroup="",this.workspace=e.workspace}isMovable(){if(this.block.isShadow()){let e,t;return(t=(e=this.block.getParent())==null?void 0:e.isMovable())!=null?t:!1}return this.block.isOwnMovable()&&!this.block.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.block.isInFlyout}startDrag(e){if(this.block.isShadow())this.startDraggingShadow(e);else{this.dragging=!0,this.fireDragStartEvent(),this.startLoc=this.block.getRelativeToSurfaceXY(),this.connectionCandidate=null,this.connectionPreviewer=new(I(Ht.CONNECTION_PREVIEWER,this.workspace.options))(this.block),nr(),this.workspace.setResizesEnabled(!1),Zt(),e=this.shouldHealStack(e),this.shouldDisconnect(e)&&this.disconnectBlock(e),this.block.setDragging(!0);var t;(t=this.workspace.getLayerManager())==null||t.moveToDragLayer(this.block)}}shouldHealStack(e){return!!e&&(e.altKey||e.ctrlKey||e.metaKey)}startDraggingShadow(e){const t=this.block.getParent();if(!t)throw Error("Tried to drag a shadow block with no parent. Shadow blocks should always have parents.");this.dragOffset=qt.difference(t.getRelativeToSurfaceXY(),this.block.getRelativeToSurfaceXY()),t.startDrag(e)}shouldDisconnect(e){return!!(this.block.getParent()||e&&this.block.nextConnection&&this.block.nextConnection.targetBlock())}disconnectBlock(e){let t,s,u;if(this.startParentConn=(u=(t=this.block.outputConnection)==null?void 0:t.targetConnection)!=null?u:(s=this.block.previousConnection)==null?void 0:s.targetConnection,e){let v;this.startChildConn=(v=this.block.nextConnection)==null?void 0:v.targetConnection}this.block.unplug(e),dt(this.block)}fireDragStartEvent(){const e=new(sn(mt.BLOCK_DRAG))(this.block,!0,this.block.getDescendants(!1));de(e)}fireDragEndEvent(){const e=new(sn(mt.BLOCK_DRAG))(this.block,!1,this.block.getDescendants(!1));de(e)}fireMoveEvent(){if(!this.block.isDeadOrDying()){var e=new(sn(mt.BLOCK_MOVE))(this.block);e.setReason(["drag"]),e.oldCoordinate=this.startLoc,e.recordNew(),de(e)}}drag(e){if(this.block.isShadow()){let t;(t=this.block.getParent())==null||t.drag(qt.sum(e,this.dragOffset))}else this.block.moveDuringDrag(e),this.updateConnectionPreview(this.block,qt.difference(e,this.startLoc))}updateConnectionPreview(e,t){var s=this.connectionCandidate;const u=this.getConnectionCandidate(e,t);if(u){this.connectionCandidate=t=s&&this.currCandidateIsBetter(s,t,u)?s:u;var{local:v,neighbour:M}=t;t=v.type===xn.OUTPUT_VALUE||v.type===xn.PREVIOUS_STATEMENT;var re;if(s=M.isConnected()&&!((re=M.targetBlock())!=null&&re.isInsertionMarker()),t&&s&&!this.orphanCanConnectAtEnd(e,M.targetBlock(),v.type)){let Ut;(Ut=this.connectionPreviewer)==null||Ut.previewReplacement(v,M,M.targetBlock())}else{var Re;(Re=this.connectionPreviewer)==null||Re.previewConnection(v,M)}}else{let Ut;(Ut=this.connectionPreviewer)==null||Ut.hidePreview(),this.connectionCandidate=null}}orphanCanConnectAtEnd(e,t,s){return!!pi.getConnectionForOrphanedConnection(e,s===xn.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}currCandidateIsBetter(e,t,s){const{local:u,neighbour:v}=e;e=new qt(u.x,u.y);const M=new qt(v.x,v.y);return t=qt.distance(qt.sum(e,t),M),s.distance>t-n.config$$module$build$src$core$config.currentConnectionPreference}getConnectionCandidate(e,t){e=this.getLocalConnections(e);let s=this.getSearchRadius(),u=null;for(const v of e){const{connection:M,radius:re}=v.closest(s,t);M&&(u={local:v,neighbour:M,distance:re},s=re)}return u}getSearchRadius(){return this.connectionCandidate?n.config$$module$build$src$core$config.connectingSnapRadius:n.config$$module$build$src$core$config.snapRadius}getLocalConnections(e){const t=e.getConnections_(!1),s=e.lastConnectionInStack(!0);return s&&s!==e.nextConnection&&t.push(s),t}endDrag(e){if(this.block.isShadow()){let s;(s=this.block.getParent())==null||s.endDrag(e)}else{this.originalEventGroup=n.getGroup$$module$build$src$core$events$utils(),this.fireDragEndEvent(),this.fireMoveEvent(),es(),Zt();var t;if((t=this.connectionPreviewer)==null||t.hidePreview(),!this.block.isDeadOrDying()&&this.dragging){let s;(s=this.workspace.getLayerManager())==null||s.moveOffDragLayer(this.block,Nu),this.block.setDragging(!1)}this.connectionCandidate?(this.applyConnections(this.connectionCandidate),this.disposeStep()):this.block.queueRender().then(()=>this.disposeStep())}}disposeStep(){const e=n.getGroup$$module$build$src$core$events$utils();n.setGroup$$module$build$src$core$events$utils(this.originalEventGroup),this.block.snapToGrid();let t;(t=this.connectionPreviewer)==null||t.dispose(),this.workspace.setResizesEnabled(!0),n.setGroup$$module$build$src$core$events$utils(e)}applyConnections(e){const{local:t,neighbour:s}=e;t.connect(s);const u=t.isSuperior()?s:t,v=this.block.getRootBlock();Qn().then(()=>{ot(u.getSourceBlock()),setTimeout(()=>{v.bringToFront()},0)})}revertDrag(){if(this.block.isShadow()){let s;(s=this.block.getParent())==null||s.revertDrag()}else{var e;(e=this.connectionPreviewer)==null||e.hidePreview(),this.connectionCandidate=null;var t;if((t=this.startChildConn)==null||t.connect(this.block.nextConnection),this.startParentConn)switch(this.startParentConn.type){case xn.INPUT_VALUE:this.startParentConn.connect(this.block.outputConnection);break;case xn.NEXT_STATEMENT:this.startParentConn.connect(this.block.previousConnection)}else{this.block.moveTo(this.startLoc,["drag"]);let s;(s=this.workspace.getLayerManager())==null||s.moveOffDragLayer(this.block,Nu),vr(this.workspace,this.workspace.getMetricsManager().getScrollMetrics(!0),this.block)}this.startParentConn=this.startChildConn=null,this.block.setDragging(!1),this.dragging=!1}}},I2=class extends Fi{constructor(e,t,s,u){super(t,s,u),this.text=e,this.workspace=t,this.anchor=s,this.ownerRect=u,this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize(),rn(this.svgRoot,"blocklyTextBubble")}getText(){return this.text}setText(e){this.text=e,un(this.paragraph),this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}stringToSvg(e,t){return t=this.createParagraph(t),e=this.createTextFragments(t,e),this.workspace.RTL&&this.rightAlignTextFragments(t.getBBox().width,e),t}createParagraph(e){return ct(ft.G,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",transform:`translate(0,${Fi.BORDER_WIDTH})`,style:`direction: ${this.workspace.RTL?"rtl":"ltr"}`},e)}createTextFragments(e,t){let s=1;return t.split(`
`).map(u=>{const v=ct(ft.TEXT,{y:`${s}em`,x:Fi.BORDER_WIDTH},e);return u=document.createTextNode(u),v.appendChild(u),s+=1,v})}rightAlignTextFragments(e,t){for(const s of t)s.setAttribute("text-anchor","start"),s.setAttribute("x",`${e+Fi.BORDER_WIDTH}`)}updateBubbleSize(){const e=this.paragraph.getBBox();this.setSize(new Sr(e.width+Fi.BORDER_WIDTH*2,e.height+Fi.BORDER_WIDTH*2),!0)}},l4=17,ba=class extends Mc{constructor(e){super(e),this.sourceBlock=e,this.textMap=new Map,this.textBubble=null}getType(){return ba.TYPE}initView(e){this.svgRoot||(super.initView(e),ct(ft.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},this.svgRoot),ct(ft.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},this.svgRoot),ct(ft.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},this.svgRoot),rn(this.svgRoot,"blocklyWarningIcon"))}dispose(){super.dispose();let e;(e=this.textBubble)==null||e.dispose()}getWeight(){return ba.WEIGHT}getSize(){return new Sr(l4,l4)}applyColour(){super.applyColour();let e;(e=this.textBubble)==null||e.setColour(this.sourceBlock.getColour())}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(e){super.onLocationChange(e);let t;(t=this.textBubble)==null||t.setAnchorLocation(this.getAnchorLocation())}addMessage(e,t){if(this.textMap.get(t)===e)return this;e?this.textMap.set(t,e):this.textMap.delete(t);let s;return(s=this.textBubble)==null||s.setText(this.getText()),this}getText(){return[...this.textMap.values()].join(`
`)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(e){const t=this;return(0,_t.asyncExecutePromiseGeneratorFunction)(function*(){if(t.bubbleIsVisible()!==e){if(yield Qn(),e)t.textBubble=new I2(t.getText(),t.sourceBlock.workspace,t.getAnchorLocation(),t.getBubbleOwnerRect()),t.applyColour();else{let s;(s=t.textBubble)==null||s.dispose(),t.textBubble=null}de(new(sn(mt.BUBBLE_OPEN))(t.sourceBlock,e,"warning"))}})}getBubble(){return this.textBubble}getAnchorLocation(){const e=l4/2;return qt.sum(this.workspaceLocation,new qt(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new Tr(e.y,e.y+e.height,e.x,e.x+e.width)}};ba.TYPE=Es.WARNING,ba.WEIGHT=2;var Qi=class extends F0{constructor(e,t,s){if(super(e,t,s),this.childlessWidth=this.width=this.height=0,this.warningTextDb=new Map,this.mutator=null,this.rendered=!0,this.visuallyDisabled=!1,this.translation="",this.dragging=!1,this.relativeCoords=new qt(0,0),this.dragStrategy=new zh(this),!e.rendered)throw TypeError("Cannot create a rendered block in a headless workspace");this.workspace=e,this.svgGroup=ct(ft.G,{}),t&&rn(this.svgGroup,t),this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup,this.style),e=this.pathObject.svgPath,e.tooltip=this,ur(e),this.svgGroup.setAttribute("data-id",this.id),e.id=Ze(),this.doInit_()}initSvg(){if(!this.initialized){for(var e of this.inputList)e.init();for(const t of this.getIcons())t.initView(this.createIconPointerDownListener(t)),t.updateEditable();this.applyColour(),this.pathObject.updateMovable(this.isMovable()||this.isInFlyout),(e=this.getSvgRoot())&&se(e,"pointerdown",this,this.onMouseDown),e.parentNode||this.workspace.getCanvas().appendChild(e),this.initialized=!0}}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){this.addSelect(),Dt(this)}unselect(){this.removeSelect(),Dt(null)}setParent(e){var t=this.parentBlock_;if(e!==t){nr(),super.setParent(e),es();var s=this.getSvgRoot();if(!this.workspace.isClearing&&s){var u=this.getRelativeToSurfaceXY(),v=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode(),M,re=this.getSvgRoot().contains((M=v?.getFocusableElement())!=null?M:null);e?(e.getSvgRoot().appendChild(s),re&&v&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(v)):t&&(e=this.workspace.getCanvas().querySelector(".blocklyDragging"),t=e?.parentElement,M=this.workspace.getCanvas(),t===M?M.insertBefore(s,e):(M.appendChild(s),re&&v&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(v)),this.translate(u.x,u.y)),this.applyColour()}}}getRelativeToSurfaceXY(){const e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");let t=0,s=0,u=this.getSvgRoot();if(u)do{const v=Z(u);t+=v.x,s+=v.y,u=u.parentNode}while(u&&!e.hasLayer(u));return new qt(t,s)}moveBy(e,t,s){if(this.parentBlock_)throw Error("Block has parent");const u=Qt();let v=null;u&&(v=new(sn(mt.BLOCK_MOVE))(this),s&&v.setReason(s)),e=new qt(e,t),t=this.getRelativeToSurfaceXY(),e=qt.sum(t,e),this.translate(e.x,e.y),this.updateComponentLocations(e),u&&v&&(v.recordNew(),de(v)),this.workspace.resizeContents()}translate(e,t){this.translation=`translate(${e}, ${t})`,this.relativeCoords=new qt(e,t),this.getSvgRoot().setAttribute("transform",this.getTranslation())}getTranslation(){return this.translation}moveTo(e,t){const s=this.getRelativeToSurfaceXY();this.moveBy(e.x-s.x,e.y-s.y,t)}moveDuringDrag(e){this.translate(e.x,e.y),this.getSvgRoot().setAttribute("transform",this.getTranslation()),this.updateComponentLocations(e)}snapToGrid(){if(!this.isDeadOrDying()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var t=this.getRelativeToSurfaceXY();e=e.alignXY(t),e!==t&&this.moveTo(e,["snap"])}}}getBoundingRectangle(){return this.getBoundingRectangleWithDimensions(this.getHeightWidth())}getBoundingRectangleWithoutChildren(){return this.getBoundingRectangleWithDimensions({height:this.height,width:this.childlessWidth})}getBoundingRectangleWithDimensions(e){const t=this.getRelativeToSurfaceXY();let s,u;return this.RTL?(s=t.x-e.width,u=t.x):(s=t.x,u=t.x+e.width),new Tr(t.y,t.y+e.height,s,u)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let e=0,t;t=this.inputList[e];e++)t.markDirty()}setCollapsed(e){this.collapsed_!==e&&(super.setCollapsed(e),this.updateCollapsed())}childHasWarning(){const e=this.getChildren(!1);for(const t of e)if(t.getIcon(ba.TYPE)||t.childHasWarning())return!0;return!1}updateCollapsed(){var e=this.isCollapsed();const t=Bi,s=Vr;for(let v=0,M;M=this.inputList[v];v++)M.name!==t&&M.setVisible(!e);for(var u of this.getIcons())u.updateCollapsed();e?(rn(this.svgGroup,"blocklyCollapsed"),this.childHasWarning()&&this.setWarningText(n.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,Qi.COLLAPSED_WARNING_ID),e=this.toString(D3),(u=this.getField(s))?u.setValue(e):(this.getInput(t)||this.appendDummyInput(t)).appendField(new Rc(e),s)):(this.updateDisabled(),this.removeInput(t),Zn(this.svgGroup,"blocklyCollapsed"),this.setWarningText(null,Qi.COLLAPSED_WARNING_ID))}onMouseDown(e){if(!this.workspace.isReadOnly()){var t=this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)}}showHelp(){const e=typeof this.helpUrl=="function"?this.helpUrl():this.helpUrl;e&&window.open(e)}generateContextMenu(e){return this.workspace.isReadOnly()||!this.contextMenu?null:(e=Cr.registry.getContextMenuOptions({block:this,focusedNode:this},e),this.customContextMenu&&this.customContextMenu(e),e)}calculateContextMenuLocation(e){if(e instanceof PointerEvent)return new qt(e.clientX,e.clientY);e=qe(this.workspace,this.getRelativeToSurfaceXY());let t,s;const u=(t=this.inputList.filter(v=>v.isVisible()).flatMap(v=>v.fieldRow).find(v=>v.isVisible()))==null||(s=t.getSvgRoot())==null?void 0:s.getBoundingClientRect();return new qt(this.RTL?e.x-5:e.x+5,(u&&u.height?u.y+u.height:e.y+this.height)+5)}showContextMenu(e){const t=this.generateContextMenu(e),s=this.calculateContextMenuLocation(e);t&&t.length&&(Y0(e,t,this.RTL,this.workspace,s),cu(this))}updateComponentLocations(e){this.dragging||this.updateConnectionLocations(e),this.updateIconLocations(e),this.updateFieldLocations(e);for(const t of this.getChildren(!1))t.updateComponentLocations(qt.sum(e,t.relativeCoords))}updateConnectionLocations(e){for(const t of this.getConnections_(!1))t.moveToOffset(e)}updateIconLocations(e){for(const t of this.getIcons())t.onLocationChange(e)}updateFieldLocations(e){for(const t of this.inputList)for(const s of t.fieldRow)s.onLocationChange(e)}addClass(e){rn(this.svgGroup,e)}removeClass(e){Zn(this.svgGroup,e)}setDragging(e){(this.dragging=e)?(this.translation="",vc.push(...this.getConnections_(!0)),this.addClass("blocklyDragging")):(vc.length=0,this.removeClass("blocklyDragging"));for(let t=0;t<this.childBlocks_.length;t++)this.childBlocks_[t].setDragging(e)}setMovable(e){super.setMovable(e),this.pathObject.updateMovable(e)}setEditable(e){super.setEditable(e),e?Zn(this.svgGroup,"blocklyNotEditable"):rn(this.svgGroup,"blocklyNotEditable"),e=this.getIcons();for(let t=0;t<e.length;t++)e[t].updateEditable()}setShadow(e){super.setShadow(e),this.applyColour()}setInsertionMarker(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup}dispose(e,t){this.disposing=!0,ei(),zl();const s=n.getFocusManager$$module$build$src$core$focus_manager();var u,v;if(this.getSvgRoot().contains((v=(u=s.getFocusedNode())==null?void 0:u.getFocusableElement())!=null?v:null)){if(u=this.getParent(),!u){let M;if(v=(M=this.outputConnection)!=null?M:this.previousConnection){let re;u=(re=v.closest(0,new qt(0,0)).connection)==null?void 0:re.getSourceBlock()}}u?s.focusNode(u):setTimeout(()=>s.focusTree(this.workspace),0)}t&&(this.unplug(e),Ne(this)),super.dispose(!!e),un(this.svgGroup)}disposeInternal(){this.disposing=!0,super.disposeInternal(),n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===this&&this.workspace.cancelCurrentGesture(),[...this.warningTextDb.values()].forEach(e=>clearTimeout(e)),this.warningTextDb.clear(),this.getIcons().forEach(e=>e.dispose())}checkAndDelete(){this.workspace.isFlyout||(n.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),n.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(e=!1){return this.isInsertionMarker_?null:{paster:Bc.TYPE,blockState:ji(this,{addCoordinates:!0,addNextBlocks:e,saveIds:!1}),typeCounts:ve(this,!0)}}applyColour(){var e,t;for((t=(e=this.pathObject).applyColour)==null||t.call(e,this),e=this.getIcons(),t=0;t<e.length;t++)e[t].applyColour();for(const s of this.getFields())s.applyColour()}updateDisabled(){const e=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===e){let t;(t=this.getNextBlock())==null||t.updateDisabled()}else{this.applyColour(),this.visuallyDisabled=e;for(const t of this.getChildren(!1))t.updateDisabled()}}setWarningText(e,t=""){if(t)this.warningTextDb.has(t)&&(clearTimeout(this.warningTextDb.get(t)),this.warningTextDb.delete(t));else{for(var s of this.warningTextDb.values())clearTimeout(s);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(t,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(t),this.setWarningText(e,t))},100));else if(this.isInFlyout&&(e=null),s=this.getIcon(ba.TYPE),e){let u=this.getSurroundParent(),v=null;for(;u;)u.isCollapsed()&&(v=u),u=u.getSurroundParent();v&&v.setWarningText(n.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,Qi.COLLAPSED_WARNING_ID),s?s.addMessage(e,t):this.addIcon(new ba(this).addMessage(e,t))}else s&&(t?(s.addMessage("",t),s.getText()||this.removeIcon(ba.TYPE)):this.removeIcon(ba.TYPE))}setMutator(e){this.removeIcon(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE),e&&this.addIcon(e)}addIcon(e){return super.addIcon(e),e instanceof n.MutatorIcon$$module$build$src$core$icons$mutator_icon&&(this.mutator=e),e.initView(this.createIconPointerDownListener(e)),e.applyColour(),e.updateEditable(),this.queueRender(),e}createIconPointerDownListener(e){return t=>{this.isDeadOrDying()||(t=this.workspace.getGesture(t))&&t.setStartIcon(e)}}removeIcon(e){const t=super.removeIcon(e);return e.equals(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null),this.queueRender(),t}setDisabledReason(e,t){const s=this.isEnabled();super.setDisabledReason(e,t),this.isEnabled()===s||this.getInheritedDisabled()||this.updateDisabled()}setDeletable(e){super.setDeletable(e),e?Zn(this.svgGroup,"blocklyNotDeletable"):rn(this.svgGroup,"blocklyNotDeletable")}setHighlighted(e){this.pathObject.updateHighlighted(e)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(e){this.pathObject.updateDraggingDelete(e)}getColour(){return this.style.colourPrimary}setColour(e){super.setColour(e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_);let t,s;(s=(t=this.pathObject).setStyle)==null||s.call(t,e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}setStyle(e){const t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_&&Zn(this.svgGroup,this.styleName_),t){this.hat=t.hat;let s,u;(u=(s=this.pathObject).setStyle)==null||u.call(s,t),this.colour_=t.colourPrimary,this.style=t,this.applyColour(),rn(this.svgGroup,e),this.styleName_=e}else throw Error("Invalid style name: "+e)}getStyle(){return this.style}bringToFront(e=!1){const t=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();let s=this;if(!s.isDeadOrDying()){do{const u=s.getSvgRoot(),v=u.parentNode,M=v.childNodes;if(M[M.length-1]!==u&&v.appendChild(u),e)break;s=s.getParent()}while(s);t&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(t)}}setPreviousStatement(e,t){super.setPreviousStatement(e,t),this.queueRender()}setNextStatement(e,t){super.setNextStatement(e,t),this.queueRender()}setOutput(e,t){super.setOutput(e,t),this.queueRender()}setInputsInline(e){super.setInputsInline(e),this.queueRender()}removeInput(e,t){return e=super.removeInput(e,t),this.queueRender(),e}moveNumberedInputBefore(e,t){super.moveNumberedInputBefore(e,t),this.queueRender()}appendInput(e){return super.appendInput(e),this.queueRender(),e}setConnectionTracking(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var s=this.inputList[t].connection;s&&(s.setTracking(e),(s=s.targetBlock())&&s.setConnectionTracking(e))}}getConnections_(e){const t=[];if(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_)for(let s=0,u;u=this.inputList[s];s++)u.connection&&t.push(u.connection);return t}lastConnectionInStack(e){return super.lastConnectionInStack(e)}getMatchingConnection(e,t){return super.getMatchingConnection(e,t)}makeConnection_(e){return new Mo(this,e)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){const e=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||e.isInFlyout))for(const t of this.getConnections_(!1)){if(t.isSuperior()){let s;(s=t.targetBlock())==null||s.bumpNeighbours()}for(const s of t.neighbours(n.config$$module$build$src$core$config.snapRadius))s.getSourceBlock().getRootBlock()!==e&&(t.isConnected()&&s.isConnected()||(t.isSuperior()?s.bumpAwayFrom(t,!1):t.bumpAwayFrom(s,!0)))}}scheduleSnapAndBump(){this.snapToGrid(),this.bumpNeighbours()}positionNearConnection(e,t,s){if(e.type===xn.NEXT_STATEMENT||e.type===xn.INPUT_VALUE){let u=t.x;t=t.y,u+=s.x-e.getOffsetInBlock().x,t+=s.y-e.getOffsetInBlock().y,this.moveBy(u,t)}}getChildren(e){return super.getChildren(e)}queueRender(){return Ks(this)}render(){this.queueRender(),d()}renderEfficiently(){nr(),this.isCollapsed()&&this.updateCollapsed(),this.isEnabled()||this.updateDisabled(),this.workspace.getRenderer().render(this),this.tightenChildrenEfficiently(),es()}tightenChildrenEfficiently(){for(const e of this.inputList){const t=e.connection;t&&t.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}getHeightWidth(){let e=this.height,t=this.width;var s=this.getNextBlock();if(s){s=s.getHeightWidth();const u=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=s.height-u,t=Math.max(t,s.width)}return{height:e,width:t}}fadeForReplacement(e){this.pathObject.updateReplacementFade(e)}highlightShapeForInput(e,t){this.pathObject.updateShapeForInputHighlight(e,t)}getDragStrategy(){return this.dragStrategy}setDragStrategy(e){this.dragStrategy=e}isCopyable(){return this.isOwnDeletable()&&this.isOwnMovable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(e){this.dragStrategy.startDrag(e)}drag(e,t){this.dragStrategy.drag(e,t)}endDrag(e){this.dragStrategy.endDrag(e)}revertDrag(){this.dragStrategy.revertDrag()}toFlyoutInfo(){const e=Object.assign({},{kind:"BLOCK"},ji(this)),t=new Set(["id","height","width","pinned","enabled"]),s=function(u){for(const v in u)t.has(v)?delete u[v]:typeof u[v]=="object"&&s(u[v])};return s(e),[e]}jsonInit(e){super.jsonInit(e),e.classes&&this.addClass(Array.isArray(e.classes)?e.classes.join(" "):e.classes)}getFocusableElement(){return this.pathObject.svgPath}getFocusableTree(){return this.workspace}onNodeFocus(){this.select(),this.workspace.scrollBoundsIntoView(this.getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}};Qi.INLINE=-1,Qi.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var F3=class{constructor(){}onDragEnter(e){}onDragOver(e){}onDragExit(e){}onDrop(e){}getClientRect(){return null}shouldPreventMove(e){return!1}},B1=class extends F3{constructor(){super(),this.wouldDelete_=!1}wouldDelete(e){return e instanceof Qi?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e)):this.updateWouldDelete_(Gi(e)&&e.isDeletable()),this.wouldDelete_}updateWouldDelete_(e){this.wouldDelete_=e}},P1=class{constructor(e,t){this.element=e,this.type=t}getElement(){return this.element}getType(){return this.type}},F1=class{constructor(e){this.workspace_=e}getDimensionsPx_(e){let t=0,s=0;return e&&(t=e.getWidth(),s=e.getHeight()),new Sr(t,s)}getFlyoutMetrics(e){return e=this.getDimensionsPx_(this.workspace_.getFlyout(e)),{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let e=0,t=0;const s=this.getToolboxMetrics(),u=this.getFlyoutMetrics(),v=!!this.workspace_.getToolbox();var M;const re=!((M=this.workspace_.getFlyout())!=null&&M.autoClose);M=v?s.position:u.position;const Re=M===xr.TOP;return M===xr.LEFT&&(v&&(e+=s.width),re&&(e+=u.width)),Re&&(v&&(t+=s.height),re&&(t+=u.height)),{top:t,left:e}}getViewMetrics(e){e=e?this.workspace_.scale:1;const t=this.getSvgMetrics(),s=this.getToolboxMetrics(),u=this.getFlyoutMetrics(),v=!!this.workspace_.getToolbox();var M;const re=!((M=this.workspace_.getFlyout())!=null&&M.autoClose);M=v?s.position:u.position;const Re=M===xr.LEFT||M===xr.RIGHT;return(M===xr.TOP||M===xr.BOTTOM)&&(v&&(t.height-=s.height),re&&(t.height-=u.height)),Re&&(v&&(t.width-=s.width),re&&(t.width-=u.width)),{height:t.height/e,width:t.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}getContentMetrics(e){e=e?1:this.workspace_.scale;const t=this.workspace_.getBlocksBoundingBox();return{height:(t.bottom-t.top)*e,width:(t.right-t.left)*e,top:t.top*e,left:t.left*e}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(e){if(!this.hasFixedEdges())return{};const t=this.workspace_.isMovableHorizontally(),s=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);const u={};return s||(u.top=e.top,u.bottom=e.top+e.height),t||(u.left=e.left,u.right=e.left+e.width),u}getPaddedContent_(e,t){const s=t.top+t.height,u=t.left+t.width,v=e.width;e=e.height;const M=v/2,re=e/2;return{top:Math.min(t.top-re,s-e),bottom:Math.max(s+re,t.top+e),left:Math.min(t.left-M,u-v),right:Math.max(u+M,t.left+v)}}getScrollMetrics(e,t,s){e=e?this.workspace_.scale:1,t=t||this.getViewMetrics(!1);var u=s||this.getContentMetrics();s=this.getComputedFixedEdges_(t),t=this.getPaddedContent_(t,u),u=s.top!==void 0?s.top:t.top;const v=s.left!==void 0?s.left:t.left;return{top:u/e,left:v/e,width:((s.right!==void 0?s.right:t.right)-v)/e,height:((s.bottom!==void 0?s.bottom:t.bottom)-u)/e}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const e=this.getToolboxMetrics(),t=this.getFlyoutMetrics(!0),s=this.getSvgMetrics(),u=this.getAbsoluteMetrics(),v=this.getViewMetrics(),M=this.getContentMetrics(),re=this.getScrollMetrics(!1,v,M);return{contentHeight:M.height,contentWidth:M.width,contentTop:M.top,contentLeft:M.left,scrollHeight:re.height,scrollWidth:re.width,scrollTop:re.top,scrollLeft:re.left,viewHeight:v.height,viewWidth:v.width,viewTop:v.top,viewLeft:v.left,absoluteTop:u.top,absoluteLeft:u.left,svgHeight:s.height,svgWidth:s.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:t.width,flyoutHeight:t.height}}};a(Ht.METRICS_MANAGER,gl,F1);var Hh=class extends F1{constructor(e,t){super(e),this.flyout_=t}getBoundingBox(){let e;try{e=this.workspace_.getCanvas().getBBox()}catch{e={height:0,y:0,width:0,x:0}}return e}getContentMetrics(e){const t=this.getBoundingBox();return e=e?1:this.workspace_.scale,{height:t.height*e,width:t.width*e,top:t.y*e,left:t.x*e}}getScrollMetrics(e,t,s){return t=s||this.getContentMetrics(),s=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(t.height+2*s)/e,width:(t.width+t.left+s)/e,top:0,left:0}}},Oo=class{constructor(e,t,s,u){this.workspace=e,this.targetWorkspace=t,this.isFlyoutLabel=u,this.height=this.width=0,this.cursorSvg=this.svgText=null,this.text=s.text,this.position=new qt(0,0),this.callbackKey=s.callbackKey||s.callbackkey,this.cssClass=s["web-class"]||null,this.info=s,e=this.isFlyoutLabel?"blocklyFlyoutLabel":"blocklyFlyoutButton",this.cssClass&&(e+=" "+this.cssClass),this.id=Ze(),this.svgGroup=ct(ft.G,{id:this.id,class:e},this.workspace.getCanvas());let v;this.isFlyoutLabel||(v=ct(ft.RECT,{class:"blocklyFlyoutButtonShadow",rx:Oo.BORDER_RADIUS,ry:Oo.BORDER_RADIUS,x:1,y:1},this.svgGroup)),e=ct(ft.RECT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:Oo.BORDER_RADIUS,ry:Oo.BORDER_RADIUS},this.svgGroup),t=ct(ft.TEXT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup),s=cr(this.text),this.workspace.RTL&&(s+=""),t.textContent=s,this.isFlyoutLabel&&(this.svgText=t,this.workspace.getThemeManager().subscribe(this.svgText,"flyoutForegroundColour","fill")),u=_r(t,"fontSize");const M=_r(t,"fontWeight"),re=_r(t,"fontFamily");if(this.width=Xn(t,u,M,re),s=O(s,u,M,re),this.height=this.height||s.height,!this.isFlyoutLabel){this.width+=2*Oo.TEXT_MARGIN_X,this.height+=2*Oo.TEXT_MARGIN_Y;let Re;(Re=v)==null||Re.setAttribute("width",String(this.width));let Ut;(Ut=v)==null||Ut.setAttribute("height",String(this.height))}e.setAttribute("width",String(this.width)),e.setAttribute("height",String(this.height)),t.setAttribute("x",String(this.width/2)),t.setAttribute("y",String(this.height/2-s.height/2+s.baseline)),this.updateTransform(),this.onMouseDownWrapper=se(this.svgGroup,"pointerdown",this,this.onMouseDown),this.onMouseUpWrapper=se(this.svgGroup,"pointerup",this,this.onMouseUp)}createDom(){return this.svgGroup}show(){this.updateTransform(),this.svgGroup.setAttribute("display","block")}updateTransform(){this.svgGroup.setAttribute("transform","translate("+this.position.x+","+this.position.y+")")}moveTo(e,t){this.position.x=e,this.position.y=t,this.updateTransform()}moveBy(e,t,s){this.moveTo(this.position.x+e,this.position.y+t)}isLabel(){return this.isFlyoutLabel}getPosition(){return this.position}getBoundingRectangle(){return new Tr(this.position.y,this.position.y+this.height,this.position.x,this.position.x+this.width)}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}getWorkspace(){return this.workspace}dispose(){Oe(this.onMouseDownWrapper),Oe(this.onMouseUpWrapper),this.svgGroup&&un(this.svgGroup),this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}setCursorSvg(e){e?this.svgGroup&&(this.svgGroup.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}onMouseUp(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isFlyoutLabel&&this.callbackKey?console.warn("Labels should not have callbacks. Label text: "+this.text):this.isFlyoutLabel||this.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isFlyoutLabel||(e=this.targetWorkspace.getButtonCallback(this.callbackKey))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text)}onMouseDown(e){const t=this.targetWorkspace.getGesture(e),s=this.targetWorkspace.getFlyout();t&&s&&t.handleFlyoutStart(e,s)}getSvgRoot(){return this.svgGroup}getFocusableElement(){return this.svgGroup}getFocusableTree(){return this.workspace}onNodeFocus(){var e=this.getPosition();e=new Tr(e.y,e.y+this.height,e.x,e.x+this.width),this.workspace.scrollBoundsIntoView(e)}onNodeBlur(){}canBeFocused(){return!0}};Oo.TEXT_MARGIN_X=5,Oo.TEXT_MARGIN_Y=2,Oo.BORDER_RADIUS=4,dn(`
.blocklyFlyoutButton {
  fill: #888;
  cursor: default;
}

.blocklyFlyoutButtonShadow {
  fill: #666;
}

.blocklyFlyoutButton:hover {
  fill: #aaa;
}

.blocklyFlyoutLabel {
  cursor: default;
}

.blocklyFlyoutLabelBackground {
  opacity: 0;
}
`);var U3=class{getFirstChild(e){return null}getParent(e){return e.getWorkspace()}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Oo}},U1=class{constructor(e,t){this.policy=e,this.flyout=t}getFirstChild(e){return null}getParent(e){return this.policy.getParent(e)}getNextSibling(e){const t=this.flyout.getContents();if(!t)return null;let s=t.findIndex(u=>u.getElement()===e);return s===-1?null:(s++,s>=t.length&&(s=0),t[s].getElement())}getPreviousSibling(e){const t=this.flyout.getContents();if(!t)return null;let s=t.findIndex(u=>u.getElement()===e);return s===-1?null:(s--,s<0&&(s=t.length-1),t[s].getElement())}isNavigable(e){return this.policy.isNavigable(e)}isApplicable(e){return this.policy.isApplicable(e)}},a4=class{constructor(e,t){this.gap=e,this.axis=t,this.y=this.x=0}getBoundingRectangle(){switch(this.axis){case"x":return new Tr(this.y,this.y,this.x,this.x+this.gap);case"y":return new Tr(this.y,this.y+this.gap,this.x,this.x)}}moveBy(e,t,s){this.x+=e,this.y+=t}isNavigable(){return!1}getFocusableElement(){throw Error("Cannot be focused")}getFocusableTree(){throw Error("Cannot be focused")}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}},A2=class{getFirstChild(e){return null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return!1}isApplicable(e){return e instanceof a4}},z3=class{getFirstChild(e){return e.getEditor()}getParent(e){let t;return(t=e.getOwner())!=null?t:null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof ol}},N2=class{getFirstChild(e){return $s(e,!0)[0]}getParent(e){var t;if((t=e.previousConnection)!=null&&t.targetBlock()){if(t=e.getSurroundParent())return t}else{let s;if((s=e.outputConnection)!=null&&s.targetBlock())return e.outputConnection.targetBlock()}return e.workspace}getNextSibling(e){let t;if((t=e.nextConnection)!=null&&t.targetBlock()){let u;return(u=e.nextConnection)==null?void 0:u.targetBlock()}let s;return(s=e.outputConnection)!=null&&s.targetBlock()?bs(e,1):e.getSurroundParent()?bs(e.getTopStackBlock(),1):this.getParent(e)instanceof Cl?hs(e,1):null}getPreviousSibling(e){let t;if((t=e.previousConnection)!=null&&t.targetBlock()){let u;return(u=e.previousConnection)==null?void 0:u.targetBlock()}let s;return(s=e.outputConnection)!=null&&s.targetBlock()?bs(e,-1):this.getParent(e)instanceof Cl?hs(e,-1):null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Qi}},H3=class{getFirstChild(e){return null}getParent(e){return e.getCommentView().workspace.getCommentById(e.getCommentView().commentId)}getNextSibling(e){const t=e.getCommentView().getCommentBarButtons();return e=t.indexOf(e),e>=0&&e+1<t.length?t[e+1]:null}getPreviousSibling(e){const t=e.getCommentView().getCommentBarButtons();return e=t.indexOf(e),e>0?t[e-1]:null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Ph}},M2=class{getFirstChild(e){return null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof n4}},O2=class{getFirstChild(e){return e.getParentInput()?e.targetConnection:null}getParent(e){return e.getSourceBlock()}getNextSibling(e){if(e.getParentInput())return bs(e,1);if(e.type===xn.NEXT_STATEMENT){const s=e.targetConnection;var t=e.getSourceBlock();if(!s&&t.getRootBlock().lastConnectionInStack(!1)===e){e=t.workspace.getTopBlocks(!0),t=e.indexOf(t.getRootBlock())+1,t>=e.length&&(t=0),t=e[t];let u;return(u=this.getParentConnection(t))!=null?u:t}return s}return e.getSourceBlock()}getPreviousSibling(e){if(e.getParentInput())return bs(e,-1);if(e.type===xn.PREVIOUS_STATEMENT||e.type===xn.OUTPUT_VALUE){const s=e.targetConnection&&!e.targetConnection.getParentInput()?e.targetConnection:null;var t=e.getSourceBlock();if(!s&&this.getParentConnection(t.getRootBlock())===e){e=t.workspace.getTopBlocks(!0),t=e.indexOf(t.getRootBlock())-1,t<0&&(t=e.length-1),t=e[t];let u;return(u=t.lastConnectionInStack(!1))!=null?u:t}return s}return e.type===xn.NEXT_STATEMENT?e.getSourceBlock():null}getParentConnection(e){let t;return!e.outputConnection||(t=e.previousConnection)!=null&&t.isConnected()?e.previousConnection:e.outputConnection}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Mo}},R2=class{getFirstChild(e){return null}getParent(e){return e.getSourceBlock()}getNextSibling(e){return bs(e,1)}getPreviousSibling(e){return bs(e,-1)}isNavigable(e){let t;return e.canBeFocused()&&e.isVisible()&&(e.isClickable()||e.isCurrentlyEditable())&&!((t=e.getSourceBlock())!=null&&t.isSimpleReporter()&&e.isFullBlockField())&&e.getParentInput().isVisible()}isApplicable(e){return e instanceof Pi}},z1={};z1.register=Dr,z1.unregister=vi;var L2=17,V3=160,u4=80,Kl=class extends Mc{constructor(e){super(e),this.sourceBlock=e,this.textInputBubble=null,this.text="",this.bubbleSize=new Sr(V3,u4),this.bubbleVisiblity=!1}getType(){return Kl.TYPE}initView(e){this.svgRoot||(super.initView(e),ct(ft.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},this.svgRoot),ct(ft.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},this.svgRoot),ct(ft.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},this.svgRoot),rn(this.svgRoot,"blocklyCommentIcon"))}dispose(){super.dispose();let e;(e=this.textInputBubble)==null||e.dispose()}getWeight(){return Kl.WEIGHT}getSize(){return new Sr(L2,L2)}applyColour(){super.applyColour();const e=this.sourceBlock.getColour();let t;(t=this.textInputBubble)==null||t.setColour(e)}updateEditable(){const e=this,t=()=>super.updateEditable;return(0,_t.asyncExecutePromiseGeneratorFunction)(function*(){t().call(e),e.bubbleIsVisible()&&(yield e.setBubbleVisible(!1),yield e.setBubbleVisible(!0))})}onLocationChange(e){const t=this.workspaceLocation;super.onLocationChange(e),this.bubbleLocation&&(e=qt.difference(this.workspaceLocation,t),this.bubbleLocation=qt.sum(this.bubbleLocation,e)),e=this.getAnchorLocation();let s;(s=this.textInputBubble)==null||s.setAnchorLocation(e)}setText(e){const t=this.text;de(new(sn(mt.BLOCK_CHANGE))(this.sourceBlock,"comment",null,t,e)),this.text=e;let s;(s=this.textInputBubble)==null||s.setText(this.text)}getText(){return this.text}setBubbleSize(e){this.bubbleSize=e;let t;(t=this.textInputBubble)==null||t.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}setBubbleLocation(e){this.bubbleLocation=e;let t;(t=this.textInputBubble)==null||t.moveDuringDrag(e)}getBubbleLocation(){return this.bubbleLocation}saveState(){if(this.text){const e={text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width},t=this.getBubbleLocation();return t&&(e.x=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(t.x+this.bubbleSize.width):t.x,e.y=t.y),e}return null}loadState(e){let t;this.text=(t=e.text)!=null?t:"";let s,u;this.bubbleSize=new Sr((s=e.width)!=null?s:V3,(u=e.height)!=null?u:u4);let v;this.bubbleVisiblity=(v=e.pinned)!=null?v:!1,this.setBubbleVisible(this.bubbleVisiblity);let M=e.x;const re=e.y;Qn().then(()=>{M&&re&&(M=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(M+this.bubbleSize.width):M,this.setBubbleLocation(new qt(M,re)))})}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}onTextChange(){if(this.textInputBubble){var e=this.textInputBubble.getText();this.text!==e&&(de(new(sn(mt.BLOCK_CHANGE))(this.sourceBlock,"comment",null,this.text,e)),this.text=e)}}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}onBubbleLocationChange(){this.textInputBubble&&(this.bubbleLocation=this.textInputBubble.getRelativeToSurfaceXY())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(e){const t=this;return(0,_t.asyncExecutePromiseGeneratorFunction)(function*(){t.bubbleVisiblity!==e&&(t.bubbleVisiblity=e,yield Qn(),!t.sourceBlock.rendered||t.sourceBlock.isInFlyout||t.sourceBlock.isInsertionMarker()||(e?(t.sourceBlock.isEditable()?t.showEditableBubble():t.showNonEditableBubble(),t.applyColour()):t.hideBubble(),de(new(sn(mt.BUBBLE_OPEN))(t.sourceBlock,e,"comment"))))})}getBubble(){return this.textInputBubble}showEditableBubble(){this.createBubble();let e;(e=this.textInputBubble)==null||e.addTextChangeListener(()=>this.onTextChange());let t;(t=this.textInputBubble)==null||t.addSizeChangeListener(()=>this.onSizeChange())}showNonEditableBubble(){this.createBubble();let e;(e=this.textInputBubble)==null||e.setEditable(!1)}createBubble(){this.textInputBubble=new ol(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect(),this),this.textInputBubble.setText(this.getText()),this.textInputBubble.setSize(this.bubbleSize,!0),this.bubbleLocation&&this.textInputBubble.moveDuringDrag(this.bubbleLocation),this.textInputBubble.addTextChangeListener(()=>this.onTextChange()),this.textInputBubble.addSizeChangeListener(()=>this.onSizeChange()),this.textInputBubble.addLocationChangeListener(()=>this.onBubbleLocationChange())}hideBubble(){let e;(e=this.textInputBubble)==null||e.dispose(),this.textInputBubble=null}getAnchorLocation(){const e=L2/2;return qt.sum(this.workspaceLocation,new qt(e,e))}getBubbleOwnerRect(){return this.sourceBlock.getBoundingRectangleWithoutChildren()}};Kl.TYPE=Es.COMMENT,Kl.WEIGHT=3,Dr(Kl.TYPE,Kl);var c4=class{getFirstChild(e){if(e instanceof n.MutatorIcon$$module$build$src$core$icons$mutator_icon&&e.bubbleIsVisible()&&n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===e){let t,s;return(s=(t=e.getBubble())==null?void 0:t.getWorkspace())!=null?s:null}if(e instanceof Kl&&e.bubbleIsVisible()&&n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===e){let t,s;return(s=(t=e.getBubble())==null?void 0:t.getEditor())!=null?s:null}return null}getParent(e){return e.getSourceBlock()}getNextSibling(e){return bs(e,1)}getPreviousSibling(e){return bs(e,-1)}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Mc}},D2=class{getFirstChild(e){return e.view.getCommentBarButtons()[0]}getParent(e){return e.workspace}getNextSibling(e){return hs(e,1)}getPreviousSibling(e){return hs(e,-1)}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof c0}},B2=class{getFirstChild(e){return e=e.getTopBlocks(!0),e.length?e[0]:null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()&&!e.isMutator}isApplicable(e){return e instanceof Cl}},Vh=class{constructor(){this.rules=[new N2,new R2,new O2,new B2,new c4,new D2,new H3,new z3,new M2]}addNavigationPolicy(e){this.rules.push(e)}get(e){return this.rules.find(t=>t.isApplicable(e))}getFirstChild(e){let t;const s=(t=this.get(e))==null?void 0:t.getFirstChild(e);if(!s)return null;let u;return(u=this.get(s))!=null&&u.isNavigable(s)?s:this.getFirstChild(s)||this.getNextSibling(s)}getParent(e){let t;const s=(t=this.get(e))==null?void 0:t.getParent(e);if(!s)return null;let u;return(u=this.get(s))!=null&&u.isNavigable(s)?s:this.getParent(s)}getNextSibling(e){let t;const s=(t=this.get(e))==null?void 0:t.getNextSibling(e);if(!s)return null;let u;return(u=this.get(s))!=null&&u.isNavigable(s)?s:this.getNextSibling(s)}getPreviousSibling(e){let t;const s=(t=this.get(e))==null?void 0:t.getPreviousSibling(e);if(!s)return null;let u;return(u=this.get(s))!=null&&u.isNavigable(s)?s:this.getPreviousSibling(s)}},Za=class extends Vh{constructor(e){super(),this.rules.push(new U3,new A2),this.rules=this.rules.map(t=>new U1(t,e))}},va=class{constructor(e,t,s,u,v){this.workspace=e,this.oldHostMetrics=this.corner_=this.vScroll=this.hScroll=null,t=t===void 0?!0:t,s=s===void 0?!0:s;const M=t&&s;t&&(this.hScroll=new As(e,!0,M,u,v)),s&&(this.vScroll=new As(e,!1,M,u,v)),M&&(this.corner_=ct(ft.RECT,{height:As.scrollbarThickness,width:As.scrollbarThickness,class:"blocklyScrollbarBackground"}),$i(this.corner_,e.getBubbleCanvas()))}dispose(){un(this.corner_),this.oldHostMetrics=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const e=this.workspace.getMetrics();if(e){var t=!1,s=!1;if(this.oldHostMetrics&&this.oldHostMetrics.viewWidth===e.viewWidth&&this.oldHostMetrics.viewHeight===e.viewHeight&&this.oldHostMetrics.absoluteTop===e.absoluteTop&&this.oldHostMetrics.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics&&this.oldHostMetrics.scrollWidth===e.scrollWidth&&this.oldHostMetrics.viewLeft===e.viewLeft&&this.oldHostMetrics.scrollLeft===e.scrollLeft||(t=!0),this.oldHostMetrics&&this.oldHostMetrics.scrollHeight===e.scrollHeight&&this.oldHostMetrics.viewTop===e.viewTop&&this.oldHostMetrics.scrollTop===e.scrollTop||(s=!0)):s=t=!0,t||s){try{n.disable$$module$build$src$core$events$utils(),this.hScroll&&t&&this.hScroll.resize(e),this.vScroll&&s&&this.vScroll.resize(e)}finally{n.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics||this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft){let u;(u=this.corner_)==null||u.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteTop!==e.absoluteTop){let u;(u=this.corner_)==null||u.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics=e}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(e,t){this.hScroll&&this.hScroll.setOrigin(e,t),this.vScroll&&this.vScroll.setOrigin(e,t)}set(e,t,s){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(t,!1),(s||s===void 0)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}setX(e){this.hScroll&&this.hScroll.set(e,!0)}setY(e){this.vScroll&&this.vScroll.set(e,!0)}setContainerVisible(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}isVisible(){let e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}setVisible(e){this.hScroll&&this.hScroll.setVisibleInternal(e),this.vScroll&&this.vScroll.setVisibleInternal(e)}resizeContent(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}resizeView(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}},Jl="sep",H1=class{load(e,t){return e=new a4(0,t.horizontalLayout?"x":"y"),new P1(e,Jl)}gapForItem(e,t){let s;return(s=parseInt(String(e.gap)))!=null?s:t}disposeItem(e){}getType(){return Jl}};a(Ht.FLYOUT_INFLATER,Jl,H1);var Lu=class extends B1{constructor(e){super(),this.horizontalLayout=!1,this.boundEvents=[],this.reflowWrapper=null,this.contents=[],this.autoClose=!0,this.visible=!1,this.containerVisible=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,this.inflaters=new Map,e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new Cl(e),this.workspace_.setMetricsManager(new Hh(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.visible),this.workspace_.setNavigator(new Za(this)),this.id=Ke(),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=this.MARGIN*3,this.GAP_Y=this.MARGIN*3}createDom(e){return this.svgGroup_=ct(e,{class:"blocklyFlyout"}),this.svgGroup_.style.display="none",this.svgBackground_=ct(ft.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new va(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),this.boundEvents.push(se(this.svgGroup_,"wheel",this,this.wheel_)),this.boundEvents.push(se(this.svgBackground_,"pointerdown",this,this.onMouseDown)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:ki.ComponentWeight.FLYOUT_WEIGHT,capabilities:[ki.Capability.AUTOHIDEABLE,ki.Capability.DELETE_AREA,ki.Capability.DRAG_TARGET]})}dispose(){this.hide(),this.targetWorkspace.getComponentManager().removeComponent(this.id);for(const e of this.boundEvents)Oe(e);this.boundEvents.length=0,this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&un(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}setAutoClose(e){this.autoClose=e,this.targetWorkspace.recordDragTargets(),this.targetWorkspace.resizeContents()}autoHide(e){!e&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}getTargetWorkspace(){return this.targetWorkspace}isVisible(){return this.visible}setVisible(e){const t=e!==this.isVisible();this.visible=e,t&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay()}getContents(){return this.contents}setContents(e){this.contents=e}updateDisplay(){let e;e=this.containerVisible?this.isVisible():!1,this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none");let t;(t=this.workspace_.scrollbar)==null||t.setContainerVisible(e)}positionAt_(e,t,s,u){let v;(v=this.svgGroup_)==null||v.setAttribute("width",`${e}`);let M;(M=this.svgGroup_)==null||M.setAttribute("height",`${t}`),this.workspace_.setCachedParentSvgSize(e,t),this.svgGroup_&&wi(this.svgGroup_,"translate("+s+"px,"+u+"px)"),(e=this.workspace_.scrollbar)&&(e.setOrigin(s,u),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}hide(){this.isVisible()&&(this.setVisible(!1),this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null))}show(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks(),typeof e=="string"&&(e=this.getDynamicCategoryContents(e)),this.setVisible(!0),e=In(e),e=this.createFlyoutInfo(e),d(this.workspace_),this.setContents(e),this.layout_(e),this.horizontalLayout?this.height_=0:this.width_=0,this.reflow(),this.workspace_.setResizesEnabled(!0),this.reflowWrapper=t=>{t.type!==mt.BLOCK_CHANGE&&t.type!==mt.BLOCK_FIELD_INTERMEDIATE_CHANGE||this.reflow()},this.workspace_.addChangeListener(this.reflowWrapper)}createFlyoutInfo(e){const t=[],s=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const u of e)"custom"in u&&(e=this.getDynamicCategoryContents(u.custom),e=In(e),t.push(...this.createFlyoutInfo(e))),e=u.kind.toLowerCase(),(e=this.getInflaterForType(e))&&(t.push(e.load(u,this)),(e=e.gapForItem(u,s))&&t.push(new P1(new a4(e,this.horizontalLayout?"x":"y"),Jl)));return this.normalizeSeparators(t)}normalizeSeparators(e){for(let t=e.length-1;t>0;t--){const s=e[t].getType().toLowerCase(),u=e[t-1].getType().toLowerCase();s===Jl&&u===Jl&&e.splice(t-1,1)}return e}getDynamicCategoryContents(e){if(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e),typeof e!="function")throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}clearOldBlocks(){this.getContents().forEach(t=>{let s;(s=this.getInflaterForType(t.getType()))==null||s.disposeItem(t)});let e;(e=this.workspace_.getPotentialVariableMap())==null||e.clear()}onMouseDown(e){const t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)}isBlockCreatable(e){return e.isEnabled()&&!this.getTargetWorkspace().isReadOnly()}createBlock(e){let t=null;n.disable$$module$build$src$core$events$utils();var s=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{t=this.placeNewBlock(e)}finally{n.enable$$module$build$src$core$events$utils()}if(this.targetWorkspace.hideChaff(),e=wo(this.targetWorkspace,s),Qt()){for(n.setGroup$$module$build$src$core$events$utils(!0),s=0;s<e.length;s++){const u=e[s];de(new(sn(mt.VAR_CREATE))(u))}de(new(sn(mt.BLOCK_CREATE))(t))}return this.autoClose&&this.hide(),t}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowInternal_(),this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1}placeNewBlock(e){var t=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered");const s=this.serializeBlock(e);return t.setResizesEnabled(!1),t=Rl(s,t),this.positionNewBlock(e,t),t}serializeBlock(e){return ji(e)}positionNewBlock(e,t){const s=this.targetWorkspace;var u=s.getOriginOffsetInPixels(),v=this.workspace_.getOriginOffsetInPixels();e=e.getRelativeToSurfaceXY(),e.scale(this.workspace_.scale),v=qt.sum(v,e),u=qt.difference(v,u),u.scale(1/s.scale),t.moveTo(new qt(u.x,u.y))}getInflaterForType(e){if(this.inflaters.has(e)){var t;return(t=this.inflaters.get(e))!=null?t:null}return(t=y(Ht.FLYOUT_INFLATER,e))?(t=new t,this.inflaters.set(e,t),t):null}getFocusableElement(){throw Error("Flyouts are not directly focusable.")}getFocusableTree(){throw Error("Flyouts are not directly focusable.")}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}getRootFocusableNode(){throw Error("Flyouts are not directly focusable.")}getRestoredFocusableNode(e){throw Error("Flyouts are not directly focusable.")}getNestedTrees(){throw Error("Flyouts are not directly focusable.")}lookUpFocusableNode(e){throw Error("Flyouts are not directly focusable.")}onTreeFocus(e,t){}onTreeBlur(e){throw Error("Flyouts are not directly focusable.")}},Qa=class{constructor(){this.isActive=!1,this.activeClassName="blocklyKeyboardNavigation"}setIsActive(e=!0){this.isActive=e,this.updateActiveVisualization()}getIsActive(){return this.isActive}updateActiveVisualization(){this.isActive?document.body.classList.add(this.activeClassName):document.body.classList.remove(this.activeClassName)}},h4=new Qa,P2=class{constructor(e){this.workspace=e,this.horizontalScrollEnabled=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled=this.workspace.isMovableVertically(),this.startScrollXY_=new qt(e.scrollX,e.scrollY)}dispose(){this.workspace=null}startDrag(){}endDrag(e){this.drag(e)}drag(e){if(e=qt.sum(this.startScrollXY_,e),this.horizontalScrollEnabled&&this.verticalScrollEnabled)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled)this.workspace.scroll(e.x,this.workspace.scrollY);else if(this.verticalScrollEnabled)this.workspace.scroll(this.workspace.scrollX,e.y);else throw new TypeError("Invalid state.")}},Gh=5,J5=6,Wh=class{constructor(e,t){this.creatorWorkspace=t,this.mouseDownXY=new qt(0,0),this.startWorkspace_=this.targetBlock=this.startComment=this.startBlock=this.startIcon=this.startField=this.startBubble=null,this.hasExceededDragRadius=!1,this.boundEvents=[],this.workspaceDragger=this.dragger=null,this.dragging=!1,this.flyout=null,this.multiTouch=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1,this.cachedPoints=new Map,this.startDistance=this.previousScale=0,this.currentDropdownOwner=this.isPinchZoomEnabled=null,this.mostRecentEvent=e,this.currentDragDeltaXY=new qt(0,0)}dispose(){te(),Vi(),this.creatorWorkspace.clearGesture();for(const e of this.boundEvents)Oe(e);this.boundEvents.length=0,this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(e){const t=new qt(e.clientX,e.clientY);this.updateDragDelta(t)&&(this.updateIsDragging(e),F()),this.mostRecentEvent=e}updateDragDelta(e){return this.currentDragDeltaXY=qt.difference(e,this.mouseDownXY),this.hasExceededDragRadius?!1:this.hasExceededDragRadius=qt.magnitude(this.currentDragDeltaXY)>(this.flyout?n.config$$module$build$src$core$config.flyoutDragRadius:n.config$$module$build$src$core$config.dragRadius)}updateIsDraggingFromFlyout(){let e;if(!this.targetBlock||(e=this.flyout)==null||!e.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error(`Cannot update dragging from the flyout because the ' +
          'flyout's target workspace is undefined`);return!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)?(this.startWorkspace_=this.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),!0):!1}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.dragging=!0,this.workspaceDragger=new P2(this.startWorkspace_),this.workspaceDragger.startDrag())}updateIsDragging(e){if(!this.startWorkspace_)throw Error("Cannot update dragging because the start workspace is undefined");if(this.calledUpdateIsDragging)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging=!0,this.flyout&&this.updateIsDraggingFromFlyout();const t=ze();t&&Ti(t)&&t.isMovable()?(this.dragging=!0,this.dragger=this.createDragger(t,this.startWorkspace_),this.dragger.onDragStart(e),this.dragger.onDrag(e,this.currentDragDeltaXY)):this.updateIsDraggingWorkspace()}createDragger(e,t){return new(I(Ht.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(e,t)}doStart(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,De(e)?this.cancel():(this.gestureHasStarted=!0,Zt(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=ec(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=e,Hr(),Se(e)?this.handleRightClick(e):(e.type.toLowerCase()==="pointerdown"&&e.pointerType!=="mouse"&&H(e,this),this.mouseDownXY=new qt(e.clientX,e.clientY),this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}bindMouseEvents(e){this.boundEvents.push(se(document,"pointerdown",null,this.handleStart.bind(this),!0)),this.boundEvents.push(se(document,"pointermove",null,this.handleMove.bind(this),!0)),this.boundEvents.push(se(document,"pointerup",null,this.handleUp.bind(this),!0)),this.boundEvents.push(se(document,"pointercancel",null,this.handleUp.bind(this),!0)),e.preventDefault(),e.stopPropagation()}handleStart(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&F())}handleMove(e){this.isDragging()&&he(e)||!this.isMultiTouch()?(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),F())}handleUp(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!he(e))return;if(this.updateFromEvent(e),F(),this.isEnding_){console.log("Trying to end a gesture recursively.");return}this.isEnding_=!0,this.dragger?(h4.setIsActive(!1),this.dragger.onDragEnd(e,this.currentDragDeltaXY)):this.workspaceDragger?(h4.setIsActive(!1),this.workspaceDragger.endDrag(this.currentDragDeltaXY)):this.isBubbleClick()||this.isCommentClick()||(this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(e))}e.preventDefault(),e.stopPropagation(),this.dispose()}handleTouchStart(e){var t=ce(e);this.cachedPoints.set(t,this.getTouchPoint(e));var s=Array.from(this.cachedPoints.keys());s.length===2&&(t=this.cachedPoints.get(s[0]),s=this.cachedPoints.get(s[1]),this.startDistance=qt.distance(t,s),this.multiTouch=!0,e.preventDefault())}handleTouchMove(e){const t=ce(e);this.cachedPoints.set(t,this.getTouchPoint(e)),this.isPinchZoomEnabled&&this.cachedPoints.size===2?this.handlePinch(e):(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation())}handlePinch(e){var t=Array.from(this.cachedPoints.keys()),s=this.cachedPoints.get(t[0]);if(t=this.cachedPoints.get(t[1]),s=qt.distance(s,t)/this.startDistance,this.previousScale>0&&this.previousScale<1/0){if(t=s-this.previousScale,t=t>0?t*Gh:t*J5,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");const u=this.startWorkspace_,v=je(e,u.getParentSvg(),u.getInverseScreenCTM());u.zoom(v.x,v.y,t)}this.previousScale=s,e.preventDefault()}handleTouchEnd(e){e=ce(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),this.cachedPoints.size<2&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(e){return this.startWorkspace_?new qt(e.pageX,e.pageY):null}isMultiTouch(){return this.multiTouch}cancel(){this.isEnding_||(F(),this.dragger?this.dragger.onDragEnd(this.mostRecentEvent,this.currentDragDeltaXY):this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY),this.dispose())}handleRightClick(e){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(e)):this.startBubble?this.startBubble.showContextMenu(e):this.startComment?(this.startComment.workspace.hideChaff(),this.startComment.showContextMenu(e)):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startWorkspace_),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),h4.setIsActive(!1),this.dispose()}handleWsStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace(t),this.mostRecentEvent=e,this.startBlock||this.startBubble||this.startComment?this.startBlock&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startBlock):n.getFocusManager$$module$build$src$core$focus_manager().focusNode(t),this.doStart(e)}fireWorkspaceClick(e){de(new(sn(mt.CLICK))(null,e.id,"workspace"))}handleFlyoutStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout(t),this.handleWsStart(e,t.getWorkspace())}handleBlockStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent=e}handleBubbleStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent=e}handleCommentStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleCommentStart, but the gesture had already been started.");this.setStartComment(t),this.mostRecentEvent=e}doFieldClick(){if(!this.startField)throw Error("Cannot do a field click because the start field is undefined");this.bringBlockToFront(),this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent)}doIconClick(){if(!this.startIcon)throw Error("Cannot do an icon click because the start icon is undefined");this.bringBlockToFront(),this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error("Cannot do a block click because the target block is undefined");if(this.flyout.isBlockCreatable(this.targetBlock)){n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0);var e=this.flyout.createBlock(this.targetBlock);e.snapToGrid(),e.bumpNeighbours(),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");e=new(sn(mt.CLICK))(this.startBlock,this.startWorkspace_.id,"block"),de(e)}this.bringBlockToFront(),n.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(e){this.fireWorkspaceClick(this.startWorkspace_||this.creatorWorkspace)}bringBlockToFront(){this.targetBlock&&!this.flyout&&(n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),this.targetBlock.bringToFront())}setStartField(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField||(this.startField=e)}setStartIcon(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartIcon, but the gesture had already been started.");this.startIcon||(this.startIcon=e)}setStartBubble(e){this.startBubble||(this.startBubble=e)}setStartComment(e){this.startComment||(this.startComment=e)}setStartBlock(e){this.startBlock||this.startBubble||(this.startBlock=e,e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock(e.getRootBlock()):this.setTargetBlock(e))}setTargetBlock(e){e.isShadow()?this.setTargetBlock(e.getParent()):(this.targetBlock=e,n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e))}setStartWorkspace(e){this.startWorkspace_||(this.startWorkspace_=e)}setStartFlyout(e){this.flyout||(this.flyout=e)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isCommentClick(){return!!this.startComment&&!this.hasExceededDragRadius}isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}isFieldClick(){return this.startField?this.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose)):!1}isIconClick(){if(!this.startIcon)return!1;const e=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&e}isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}getCurrentDragger(){let e,t;return(t=(e=this.workspaceDragger)!=null?e:this.dragger)!=null?t:null}isDragging(){return this.dragging}hasStarted(){return this.gestureHasStarted}static inProgress(){const e=Ye();for(let t=0,s;s=e[t];t++)if(s.currentGesture_)return!0;return!1}},V1=class{constructor(e,t){this.pattern=e,this.scale=1;let s;this.spacing=(s=t.spacing)!=null?s:0;let u;this.length=(u=t.length)!=null?u:1,this.line2=(this.line1=e.firstChild)&&this.line1.nextSibling;let v;this.snapToGrid=(v=t.snap)!=null?v:!1}setSpacing(e){this.spacing=e,this.update(this.scale)}getSpacing(){return this.spacing}setLength(e){this.length=e,this.update(this.scale)}getLength(){return this.length}setSnapToGrid(e){this.snapToGrid=e}shouldSnap(){return this.snapToGrid}getPatternId(){return this.pattern.id}update(e){this.scale=e;var t=this.spacing*e;this.pattern.setAttribute("width",`${t}`),this.pattern.setAttribute("height",`${t}`),t=Math.floor(this.spacing/2)+.5;let s=t-this.length/2,u=t+this.length/2;t*=e,s*=e,u*=e,this.setLineAttributes(this.line1,e,s,u,t,t),this.setLineAttributes(this.line2,e,t,t,s,u)}setLineAttributes(e,t,s,u,v,M){e&&(e.setAttribute("stroke-width",`${t}`),e.setAttribute("x1",`${s}`),e.setAttribute("y1",`${v}`),e.setAttribute("x2",`${u}`),e.setAttribute("y2",`${M}`))}moveTo(e,t){this.pattern.setAttribute("x",`${e}`),this.pattern.setAttribute("y",`${t}`)}alignXY(e){var t=this.getSpacing();const s=t/2,u=Math.round(Math.round((e.x-s)/t)*t+s);return t=Math.round(Math.round((e.y-s)/t)*t+s),u===e.x&&t===e.y?e:new qt(u,t)}static createDom(e,t,s,u){e=ct(ft.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},s);let v,M;if(((v=t.length)!=null?v:1)>0&&((M=t.spacing)!=null?M:0)>0){ct(ft.LINE,{stroke:t.colour},e);let re;(re=t.length)!=null&&re&&ct(ft.LINE,{stroke:t.colour},e)}else ct(ft.LINE,{},e);return u&&u.style.setProperty("--blocklyGridPattern",`url(#${e.id})`),e}},G3=class{constructor(e){this.workspace=e,this.layers=new Map,(e=e.getInjectionDiv())&&(this.dragLayer=this.createDragLayer(e),this.animationLayer=this.createAnimationLayer(e)),e=this.createLayer(Nu),rn(e,"blocklyBlockCanvas"),e=this.createLayer(Bh),rn(e,"blocklyBubbleCanvas")}createDragLayer(e){const t=ct(ft.SVG,{class:"blocklyBlockDragSurface",xmlns:T1,"xmlns:html":Ha,"xmlns:xlink":sl,version:"1.1"});return e.append(t),ct(ft.G,{},t)}createAnimationLayer(e){const t=ct(ft.SVG,{class:"blocklyAnimationLayer",xmlns:T1,"xmlns:html":Ha,"xmlns:xlink":sl,version:"1.1"});return e.append(t),ct(ft.G,{},t)}appendToAnimationLayer(e){let t;const s=(t=this.dragLayer)==null?void 0:t.getAttribute("transform");if(s){let v;(v=this.animationLayer)==null||v.setAttribute("transform",s)}let u;(u=this.animationLayer)==null||u.appendChild(e.getSvgRoot())}translateLayers(e,t){e=`translate(${e.x}, ${e.y}) scale(${t})`;let s;(s=this.dragLayer)==null||s.setAttribute("transform",e);for(const[,u]of this.layers)u.setAttribute("transform",e)}moveToDragLayer(e){let t;(t=this.dragLayer)==null||t.appendChild(e.getSvgRoot()),e.canBeFocused()&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}moveOffDragLayer(e,t){this.append(e,t),e.canBeFocused()&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}append(e,t){this.layers.has(t)||this.createLayer(t),e=e.getSvgRoot();let s;if(((s=this.layers.get(t))==null?void 0:s.lastChild)!==e){let u;(u=this.layers.get(t))==null||u.appendChild(e)}}createLayer(e){const t=this.workspace.getSvgGroup(),s=ct(ft.G,{});let u=!1;const v=[...this.layers].sort((M,re)=>M[0]-re[0]);for(const[M,re]of v)if(e<M){t.insertBefore(s,re),u=!0;break}return u||t.appendChild(s),this.layers.set(e,s),s}hasLayer(e){return e===this.dragLayer||new Set(this.layers.values()).has(e)}getBlockLayer(){return this.layers.get(Nu)}getBubbleLayer(){return this.layers.get(Bh)}},W3=class{constructor(){this.curNode=this.colour=null,this.type="marker"}getCurNode(){return this.curNode}setCurNode(e){this.curNode=e}dispose(){this.curNode=null}getSourceBlockFromNode(e){return e instanceof Qi?e:e instanceof Pi||e instanceof Mo?e.getSourceBlock():null}getSourceBlock(){return this.getSourceBlockFromNode(this.getCurNode())}},G1=class extends W3{constructor(e){super(),this.workspace=e,this.type="cursor",this.potentialNodes=null}next(){var e=this.getCurNode();return e?((e=this.getNextNode(e,t=>{let s;return t instanceof Qi&&!((s=t.outputConnection)!=null&&s.targetBlock())||t instanceof c0},!0))&&this.setCurNode(e),e):null}in(){var e=this.getCurNode();return e?((e=this.getNextNode(e,()=>!0,!0))&&this.setCurNode(e),e):null}prev(){var e=this.getCurNode();return e?((e=this.getPreviousNode(e,t=>{let s;return t instanceof Qi&&!((s=t.outputConnection)!=null&&s.targetBlock())||t instanceof c0},!0))&&this.setCurNode(e),e):null}out(){var e=this.getCurNode();return e?((e=this.getPreviousNode(e,()=>!0,!0))&&this.setCurNode(e),e):null}atEndOfLine(){var e=this.getCurNode();if(!e)return!1;const t=this.getNextNode(e,()=>!0,!0);return e=this.getNextNode(e,s=>{let u;return s instanceof Qi&&!((u=s.outputConnection)!=null&&u.targetBlock())},!0),t===e}getNextNodeImpl(e,t,s=new Set){if(!e||s.has(e))return null;let u=this.workspace.getNavigator().getFirstChild(e)||this.workspace.getNavigator().getNextSibling(e);for(var v=e;v&&!u&&(v=this.workspace.getNavigator().getParent(v),!!v);)u=this.workspace.getNavigator().getNextSibling(v);return t(u)?u:u?(s.add(e),this.getNextNodeImpl(u,t,s)):null}getNextNode(e,t,s){return!e||!s&&this.getLastNode()===e?null:this.getNextNodeImpl(e,t)}getPreviousNodeImpl(e,t,s=new Set){if(!e||s.has(e))return null;const u=this.getRightMostChild(this.workspace.getNavigator().getPreviousSibling(e),e)||this.workspace.getNavigator().getParent(e);return t(u)?u:u?(s.add(e),this.getPreviousNodeImpl(u,t,s)):null}getPreviousNode(e,t,s){return!e||!s&&this.getFirstNode()===e?null:this.getPreviousNodeImpl(e,t)}getRightMostChild(e,t){if(!e)return e;let s=this.workspace.getNavigator().getFirstChild(e);if(!s||s===t)return e;for(e=s;e&&e!==t;e=this.workspace.getNavigator().getNextSibling(s))s=e;return this.getRightMostChild(s,t)}preDelete(e){var t=this.getCurNode();t=t?[t]:[];var s;let u,v;const M=(v=(s=e.previousConnection)==null?void 0:s.targetConnection)!=null?v:(u=e.outputConnection)==null?void 0:u.targetConnection;M&&t.push(M),(s=e.getNextBlock())&&t.push(s),(e=e.getParent())&&t.push(e),t.push(this.workspace),this.potentialNodes=t}postDelete(){const e=this.potentialNodes;if(this.potentialNodes=null,!e)throw Error("must call preDelete first");for(const t of e){let s;if((s=this.getSourceBlockFromNode(t))==null||!s.disposed){this.setCurNode(t);return}}throw Error("no valid nodes in this.potentialNodes")}getCurNode(){return n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()}setCurNode(e){n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}getFirstNode(){return this.workspace.getNavigator().getFirstChild(this.workspace)}getLastNode(){const e=this.getFirstNode();return this.getPreviousNode(e,()=>!0,!0)}};a(Ht.CURSOR,gl,G1);var W1=class{constructor(e){this.workspace=e,this.markers=new Map,this.cursor=new G1(this.workspace)}registerMarker(e,t){this.markers.has(e)&&this.unregisterMarker(e),this.markers.set(e,t)}unregisterMarker(e){const t=this.markers.get(e);if(t)t.dispose(),this.markers.delete(e);else throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.")}getCursor(){return this.cursor}getMarker(e){return this.markers.get(e)||null}setCursor(e){this.cursor=e}dispose(){const e=Object.keys(this.markers);for(let t=0,s;s=e[t];t++)this.unregisterMarker(s);this.markers.clear(),this.cursor.dispose()}};W1.LOCAL_MARKER="local_marker_1";var eu={};eu.CommentIcon=Kl,eu.Icon=Mc,eu.IconType=Es,eu.MutatorIcon=n.MutatorIcon$$module$build$src$core$icons$mutator_icon,eu.WarningIcon=ba,eu.exceptions=x2,eu.registry=z1,n.Names$$module$build$src$core$names=class{constructor(e,t){this.db=new Map,this.dbReverse=new Set,this.variableMap=null,this.variablePrefix=t||"",this.reservedWords=new Set(e?e.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap=null}setVariableMap(e){this.variableMap=e}getNameForUserVariable(e){return this.variableMap?(e=this.variableMap.getVariableById(e))?e.getName():null:(console.warn(`Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:
Blockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());`),null)}populateVariables(e){e=n.allUsedVarModels$$module$build$src$core$variables(e);for(let t=0;t<e.length;t++)this.getName(e[t].getId(),n.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(e,t){let s=e;t===n.NameType$$module$build$src$core$names.VARIABLE&&(e=this.getNameForUserVariable(e))&&(s=e),e=s.toLowerCase();const u=t===n.NameType$$module$build$src$core$names.VARIABLE||t===n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"";this.db.has(t)||this.db.set(t,new Map);const v=this.db.get(t);return v.has(e)?u+v.get(e):(t=this.getDistinctName(s,t),v.set(e,t.substr(u.length)),t)}getUserNames(e){let t;return(e=(t=this.db.get(e))==null?void 0:t.keys())?Array.from(e):[]}getDistinctName(e,t){e=this.safeName(e);let s=null,u,v;for(;this.dbReverse.has(e+((u=s)!=null?u:""))||this.reservedWords.has(e+((v=s)!=null?v:""));)s=s?s+1:2;let M;return e+=(M=s)!=null?M:"",this.dbReverse.add(e),(t===n.NameType$$module$build$src$core$names.VARIABLE||t===n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"")+e}safeName(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),"0123456789".includes(e[0])&&(e="my_"+e)):e=n.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed",e}static equals(e,t){return e.toLowerCase()===t.toLowerCase()}},(function(e){e=e.NameType||(e.NameType={}),e.DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",e.VARIABLE="VARIABLE",e.PROCEDURE="PROCEDURE"})(n.Names$$module$build$src$core$names||(n.Names$$module$build$src$core$names={})),n.NameType$$module$build$src$core$names=n.Names$$module$build$src$core$names.NameType,n.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,n.NameType$$module$build$src$core$names,n.Names$$module$build$src$core$names;var Pc=class extends Map{constructor(){super()}set(e,t){return this.get(e)===t?this:(super.set(e,t),Ki(t)&&t.startPublishing(),this)}delete(e){const t=this.get(e);return e=super.delete(e),e&&(Ki(t)&&t.stopPublishing(),e)}clear(){if(this.size)for(const e of this.keys())this.delete(e)}add(e){return this.set(e.getId(),e)}getProcedures(){return[...this.values()]}},qh,Ro;qh="PROCEDURE",n.DEFAULT_ARG$$module$build$src$core$procedures="x",Ro={CATEGORY_NAME:qh,DEFAULT_ARG:n.DEFAULT_ARG$$module$build$src$core$procedures},Ro.ObservableProcedureMap=Pc,Ro.allProcedures=vo,Ro.findLegalName=n.findLegalName$$module$build$src$core$procedures,Ro.flyoutCategory=il,Ro.getCallers=id,Ro.getDefinition=n.getDefinition$$module$build$src$core$procedures,Ro.internalFlyoutCategory=I0,Ro.isNameUsed=fc,Ro.isProcedureBlock=fi,Ro.mutateCallers=n.mutateCallers$$module$build$src$core$procedures,Ro.mutatorOpenListener=ea,Ro.rename=n.rename$$module$build$src$core$procedures;var d4=class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}getType(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}isField(e){return(e.type&this.FIELD)>=1}isHat(e){return(e.type&this.HAT)>=1}isIcon(e){return(e.type&this.ICON)>=1}isSpacer(e){return(e.type&this.SPACER)>=1}isInRowSpacer(e){return(e.type&this.IN_ROW_SPACER)>=1}isSpacerRow(e){return(e.type&this.BETWEEN_ROW_SPACER)>=1}isInput(e){return(e.type&this.INPUT)>=1}isExternalInput(e){return(e.type&this.EXTERNAL_VALUE_INPUT)>=1}isInlineInput(e){return(e.type&this.INLINE_INPUT)>=1}isStatementInput(e){return(e.type&this.STATEMENT_INPUT)>=1}isPreviousConnection(e){return(e.type&this.PREVIOUS_CONNECTION)>=1}isNextConnection(e){return(e.type&this.NEXT_CONNECTION)>=1}isPreviousOrNextConnection(e){return this.isPreviousConnection(e)||this.isNextConnection(e)}isRoundCorner(e){return(e.type&this.LEFT_ROUND_CORNER)>=1||(e.type&this.RIGHT_ROUND_CORNER)>=1}isLeftRoundedCorner(e){return this.isRoundCorner(e)&&(e.type&this.LEFT_ROUND_CORNER)>=1}isRightRoundedCorner(e){return this.isRoundCorner(e)&&(e.type&this.RIGHT_ROUND_CORNER)>=1}isLeftSquareCorner(e){return(e.type&this.LEFT_SQUARE_CORNER)>=1}isRightSquareCorner(e){return(e.type&this.RIGHT_SQUARE_CORNER)>=1}isCorner(e){return(e.type&this.CORNER)>=1}isJaggedEdge(e){return(e.type&this.JAGGED_EDGE)>=1}isRow(e){return(e.type&this.ROW)>=1}isBetweenRowSpacer(e){return(e.type&this.BETWEEN_ROW_SPACER)>=1}isTopRow(e){return(e.type&this.TOP_ROW)>=1}isBottomRow(e){return(e.type&this.BOTTOM_ROW)>=1}isTopOrBottomRow(e){return this.isTopRow(e)||this.isBottomRow(e)}isInputRow(e){return(e.type&this.INPUT_ROW)>=1}},Je=new d4,Ta=class{constructor(e){this.centerline=this.xPos=this.height=this.width=0,this.constants_=e,this.type=Je.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},Du=class{constructor(e){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=e,this.type=Je.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let e=this.elements.length-1;e>=0;e--){const t=this.elements[e];if(Je.isInput(t))return t}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let e=0;e<this.elements.length;e++){const t=this.elements[e];if(Je.isInRowSpacer(t))return t}return null}getLastSpacer(){for(let e=this.elements.length-1;e>=0;e--){const t=this.elements[e];if(Je.isInRowSpacer(t))return t}return null}},i=class extends Du{constructor(e){super(e),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=Je.BOTTOM_ROW}hasLeftSquareCorner(e){return!!e.outputConnection||!!e.getNextBlock()}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,s=0;for(let u=0;u<this.elements.length;u++){const v=this.elements[u];t+=v.width,Je.isSpacer(v)||(Je.isNextConnection(v)?s=Math.max(s,v.height):e=Math.max(e,v.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+s,this.descenderHeight=s,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},l=class extends Ta{constructor(e,t){super(e),this.connectionModel=t,this.type|=Je.CONNECTION,this.shape=this.constants_.shapeFor(t),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.highlighted=t.isHighlighted()}},c=class extends l{constructor(e,t){super(e,t.connection),this.input=t,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=Je.INPUT,this.align=t.align,(this.connectedBlock=t.connection&&t.connection.targetBlock()?t.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},m=class extends c{constructor(e,t){super(e,t),this.height=0,this.type|=Je.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},S=class extends Ta{constructor(e,t,s){super(e),this.field=t,this.parentInput=s,this.isEditable=t.EDITABLE,this.flipRtl=t.getFlipRtl(),this.type|=Je.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width}},A=class extends Ta{constructor(e){super(e),this.type|=Je.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},X=class extends Ta{constructor(e,t){super(e),this.icon=t,this.flipRtl=!1,this.type|=Je.ICON,e=t.getSize(),this.height=e.height,this.width=e.width}},$e=class extends Ta{constructor(e,t){super(e),this.type|=Je.SPACER|Je.IN_ROW_SPACER,this.width=t,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},Xe=class extends c{constructor(e,t){super(e,t),this.type|=Je.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},$t=class extends Du{constructor(e){super(e),this.connectedBlockWidths=0,this.type|=Je.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let e=0;for(let t=0;t<this.elements.length;t++){const s=this.elements[t];this.width+=s.width,Je.isInput(s)&&(Je.isStatementInput(s)?e+=s.connectedBlockWidth:Je.isExternalInput(s)&&s.connectedBlockWidth!==0&&(e+=s.connectedBlockWidth-s.connectionWidth)),Je.isSpacer(s)||(this.height=Math.max(this.height,s.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},Vt=class extends Ta{constructor(e){super(e),this.type|=Je.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},Kt=class extends l{constructor(e,t){super(e,t),this.type|=Je.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},kt=class extends l{constructor(e,t){super(e,t),this.connectionOffsetX=0,this.type|=Je.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},Rt=class extends l{constructor(e,t){super(e,t),this.type|=Je.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},Nn=class extends Ta{constructor(e,t){super(e),this.type=(t&&t!=="left"?Je.RIGHT_ROUND_CORNER:Je.LEFT_ROUND_CORNER)|Je.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},lr=class extends Du{constructor(e,t,s){super(e),this.height=t,this.width=s,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type|=Je.SPACER|Je.BETWEEN_ROW_SPACER,this.elements=[new $e(this.constants_,s)]}measure(){}},Ai=class extends Ta{constructor(e,t){super(e),this.type=(t&&t!=="left"?Je.RIGHT_SQUARE_CORNER:Je.LEFT_SQUARE_CORNER)|Je.CORNER,this.width=this.height=this.constants_.NO_PADDING}},ut=class extends c{constructor(e,t){super(e,t),this.type|=Je.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},et=class extends Du{constructor(e){super(e),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=Je.TOP_ROW}hasLeftSquareCorner(e){const t=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,s=e.getPreviousBlock();return!!e.outputConnection||t||(s?s.getNextBlock()===e:!1)}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,s=0;for(let u=0;u<this.elements.length;u++){const v=this.elements[u];t+=v.width,Je.isSpacer(v)||(Je.isHat(v)?s=Math.max(s,v.ascenderHeight):e=Math.max(e,v.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+s,this.capline=this.ascenderHeight=s,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},gt=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs=null,this.embossFilterId="",this.embossFilter=null,this.disabledPatternId="",this.disabledPattern=null,this.debugFilterId="",this.cssNode=this.debugFilter=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=Li(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(e){this.blockStyles=Object.create(null);const t=e.blockStyles;for(const s in t)this.blockStyles[s]=this.validatedBlockStyle_(t[s]);this.setDynamicProperties_(e)}setDynamicProperties_(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=e.startHats!==void 0?e.startHats:this.ADD_START_HATS}setFontConstants_(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=O("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}setComponentConstants_(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(e){const t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}}getBlockStyle(e){return this.blockStyles[e||""]||(e&&e.startsWith("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(e){return this.validatedBlockStyle_({colourPrimary:e})}validatedBlockStyle_(e){const t={};return e&&Object.assign(t,e),e=Ri(t.colourPrimary||"#000"),t.colourPrimary=e.hex,t.colourSecondary=t.colourSecondary?Ri(t.colourSecondary).hex:this.generateSecondaryColour_(t.colourPrimary),t.colourTertiary=t.colourTertiary?Ri(t.colourTertiary).hex:this.generateTertiaryColour_(t.colourPrimary),t.hat=t.hat||"",t}generateSecondaryColour_(e){return so("#fff",e,.6)||e}generateTertiaryColour_(e){return so("#fff",e,.3)||e}dispose(){this.embossFilter&&un(this.embossFilter),this.disabledPattern&&un(this.disabledPattern),this.debugFilter&&un(this.debugFilter),this.cssNode=null}makeJaggedTeeth(){const e=this.JAGGED_TEETH_HEIGHT,t=this.JAGGED_TEETH_WIDTH,s=g([Un(t,e/4),Un(-t*2,e/2),Un(t,e/4)]);return{height:e,width:t,path:s}}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,s=rl("c",[Un(30,-e),Un(70,-e),Un(t,0)]);return{height:e*.75,width:t,path:s}}makePuzzleTab(){function e(M){M=M?-1:1;const re=-M;var Re=s/2;const Ut=Re+2.5,Wn=Re+.5,js=Un(-t,M*Re);return Re=Un(t,M*Re),rl("c",[Un(0,M*Ut),Un(-t,re*Wn),js])+rl("s",[Un(t,re*2.5),Re])}const t=this.TAB_WIDTH,s=this.TAB_HEIGHT,u=e(!0),v=e(!1);return{type:this.SHAPES.PUZZLE,width:t,height:s,pathDown:v,pathUp:u}}makeNotch(){function e(re){return g([Un(re*u,s),Un(re*3,0),Un(re*u,-s)])}const t=this.NOTCH_WIDTH,s=this.NOTCH_HEIGHT,u=(t-3)/2,v=e(1),M=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:s,pathLeft:v,pathRight:M}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=b("a","0 0,0",e,Un(-e,e)),s=b("a","0 0,0",e,Un(e,e));return{width:e,height:e,pathTop:t,pathBottom:s}}makeOutsideCorners(){const e=this.CORNER_RADIUS,t=Li(0,e)+b("a","0 0,1",e,Un(e,-e)),s=b("a","0 0,1",e,Un(e,e)),u=b("a","0 0,1",e,Un(-e,-e)),v=b("a","0 0,1",e,Un(-e,e));return{topLeft:t,topRight:s,bottomRight:v,bottomLeft:u,rightHeight:e}}shapeFor(e){switch(e.type){case xn.INPUT_VALUE:case xn.OUTPUT_VALUE:return this.PUZZLE_TAB;case xn.PREVIOUS_STATEMENT:case xn.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(e,t,s,u){this.injectCSS_(t,s),this.defs=ct(ft.DEFS,{},e),e=ct(ft.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs),ct(ft.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),t=ct(ft.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),ct(ft.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},t),ct(ft.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),ct(ft.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter=e,e=ct(ft.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs),ct(ft.RECT,{width:10,height:10,fill:"#aaa"},e),ct(ft.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern=e,this.createDebugFilter(),u&&(u.style.setProperty("--blocklyEmbossFilter",`url(#${this.embossFilterId})`),u.style.setProperty("--blocklyDisabledPattern",`url(#${this.disabledPatternId})`),u.style.setProperty("--blocklyDebugFilter",`url(#${this.debugFilterId})`))}createDebugFilter(){if(!this.debugFilter){const e=ct(ft.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs),t=ct(ft.FECOMPONENTTRANSFER,{result:"outBlur"},e);ct(ft.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),ct(ft.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),ct(ft.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter=e}}injectCSS_(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode=document.getElementById(e);const s=t.join(`
`);this.cssNode?this.cssNode.firstChild.textContent=s:(t=document.createElement("style"),t.id=e,e=document.createTextNode(s),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode=t)}getCSS_(e){return[`${e} .blocklyText, `,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableField>rect,`,`${e} .blocklyEditableField>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",`${e} .blocklyNonEditableField>text,`,`${e} .blocklyEditableField>text {`,"fill: #000;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #000;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #000;","}",`${e} .blocklyEditableField:not(.blocklyEditing):hover>rect {`,"stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",`${e} .blocklySelected>.blocklyPath {`,"stroke: #fc3;","stroke-width: 3px;","}",`${e} .blocklyHighlightedConnectionPath {`,"stroke: #fc3;","}",`${e} .blocklyReplaceable .blocklyPath {`,"fill-opacity: .5;","}",`${e} .blocklyReplaceable .blocklyPathLight,`,`${e} .blocklyReplaceable .blocklyPathDark {`,"display: none;","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},Gt=class{constructor(e,t){this.inlinePath_=this.outlinePath_="",this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.constants_=t.getRenderer().getConstants()}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),this.block_.pathObject.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),this.recordSizeOnBlock_()}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren,this.block_.childlessWidth=this.info_.width}drawOutline_(){this.drawTop_();for(let e=1;e<this.info_.rows.length-1;e++){const t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()}drawTop_(){const e=this.info_.topRow,t=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=Li(e.xPos,this.info_.startY);for(let s=0,u;u=t[s];s++)Je.isLeftRoundedCorner(u)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:Je.isRightRoundedCorner(u)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:Je.isPreviousConnection(u)?this.outlinePath_+=u.shape.pathLeft:Je.isHat(u)?this.outlinePath_+=this.constants_.START_HAT.path:Je.isSpacer(u)&&(this.outlinePath_+=f("h",u.width));this.outlinePath_+=f("v",e.height-e.ascenderHeight)}drawJaggedEdge_(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+f("v",e.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(e){const t=e.getLastInput();this.positionExternalValueConnection_(e);const s=jo(t.shape)?t.shape.pathDown(t.height):t.shape.pathDown;this.outlinePath_+=f("H",t.xPos+t.width)+s+f("v",e.height-t.connectionHeight)}drawStatementInput_(e){var t=e.getLastInput();if(t){var s=t.xPos+t.notchOffset+t.shape.width;t=t.shape.pathRight+f("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var u=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=f("H",s)+t+f("v",u)+this.constants_.INSIDE_CORNERS.pathBottom+f("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}drawRightSideRow_(e){this.outlinePath_+=f("V",e.yPos+e.height)}drawBottom_(){const e=this.info_.bottomRow,t=e.elements;this.positionNextConnection_();let s=0,u="";for(let v=t.length-1,M;M=t[v];v--)Je.isNextConnection(M)?u+=M.shape.pathRight:Je.isLeftSquareCorner(M)?u+=f("H",e.xPos):Je.isLeftRoundedCorner(M)?u+=this.constants_.OUTSIDE_CORNERS.bottomLeft:Je.isRightRoundedCorner(M)?(u+=this.constants_.OUTSIDE_CORNERS.bottomRight,s=this.constants_.OUTSIDE_CORNERS.rightHeight):Je.isSpacer(M)&&(u+=f("h",M.width*-1));this.outlinePath_+=f("V",e.baseline-s),this.outlinePath_+=u}drawLeft_(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){const t=e.connectionOffsetY+e.height;e=jo(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=f("V",t)+e}this.outlinePath_+="z"}drawInternals_(){for(let e=0,t;t=this.info_.rows[e];e++)for(let s=0,u;u=t.elements[s];s++)Je.isInlineInput(u)?this.drawInlineInput_(u):(Je.isIcon(u)||Je.isField(u))&&this.layoutField_(u)}layoutField_(e){const t=e.centerline-e.height/2;let s=e.xPos;var u="";this.info_.RTL&&(s=-(s+e.width),e.flipRtl&&(s+=e.width,u="scale(-1 1)")),Je.isIcon(e)?(u=e.icon,u.setOffsetInBlock(new qt(s,t)),this.info_.isInsertionMarker&&u.hideForInsertionMarker()):(e=e.field.getSvgRoot(),e.setAttribute("transform","translate("+s+","+t+")"+u),this.info_.isInsertionMarker&&e.setAttribute("display","none"))}drawInlineInput_(e){const t=e.width,s=e.height,u=e.connectionOffsetY,v=e.connectionHeight+u;this.inlinePath_+=oo(e.xPos+e.connectionWidth,e.centerline-s/2)+f("v",u)+e.shape.pathDown+f("v",s-v)+f("h",t-e.connectionWidth)+f("v",-s)+"z",this.positionInlineInputConnection_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let s=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(s*=-1),e.connectionModel.setOffsetInBlock(s,t+e.connectionOffsetY)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(t!=null&&t.connectionModel){let s=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(s*=-1),t.connectionModel.setOffsetInBlock(s,e.yPos)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let s=e.xPos+e.width;this.info_.RTL&&(s*=-1),t.connectionModel.setOffsetInBlock(s,e.yPos)}}positionPreviousConnection_(){const e=this.info_.topRow;if(e.connection){const t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,s=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-s:s,e.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}updateConnectionHighlights(){for(const e of this.info_.rows)for(const t of e.elements){if(!(t instanceof l))continue;const s=this.drawConnectionHighlightPath(t);s&&(s.style.display=t.highlighted?"":"none")}}drawConnectionHighlightPath(e){const t=e.connectionModel;e=t.type===xn.INPUT_VALUE||t.type===xn.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(e):this.getStatementConnectionHighlightPath(e);const s=t.getSourceBlock();let u,v;return(v=(u=s.pathObject).addConnectionHighlight)==null?void 0:v.call(u,t,e,t.getOffsetInBlock(),s.RTL)}getExpressionConnectionHighlightPath(e){let t="";return jo(e.shape)?t=e.shape.pathDown(e.height):Gs(e.shape)&&(t=e.shape.pathDown),e=this.constants_.TAB_OFFSET_FROM_TOP,Li(0,-e)+f("v",e)+t+f("v",e)}getStatementConnectionHighlightPath(e){if(!uh(e.shape))throw Error("Statement connections should have notch shapes");const t=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return Li(-t,0)+f("h",t)+e.shape.pathLeft+f("h",t)}},Jn=class{constructor(e,t){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.startY=this.startX=0,this.renderer_=e,this.block_=t,this.constants_=this.renderer_.getConstants(),this.outputConnection=t.outputConnection?new kt(this.constants_,t.outputConnection):null,this.isInline=t.getInputsInline()&&!t.isCollapsed(),this.isCollapsed=t.isCollapsed(),this.isInsertionMarker=t.isInsertionMarker(),this.RTL=t.RTL,this.topRow=new et(this.constants_),this.bottomRow=new i(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let e=new $t(this.constants_);this.inputRows.push(e);var t=this.block_.getIcons();for(let s=0,u;u=t[s];s++){const v=new X(this.constants_,u);this.isCollapsed&&!u.isShownWhenCollapsed()||e.elements.push(v)}t=void 0;for(let s=0,u;u=this.block_.inputList[s];s++)if(u.isVisible()){this.shouldStartNewRow_(u,t)&&(this.rows.push(e),e=new $t(this.constants_),this.inputRows.push(e));for(let v=0,M;M=u.fieldRow[v];v++)e.elements.push(new S(this.constants_,M,u));this.addInput_(u,e),t=u}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new Vt(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var e=!!this.block_.previousConnection;const t=(this.block_.hat?this.block_.hat==="cap":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;let s=this.topRow.hasLeftSquareCorner(this.block_)?Ai:Nn;this.topRow.elements.push(new s(this.constants_)),t?(e=new A(this.constants_),this.topRow.elements.push(e)):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new Rt(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0]instanceof xl&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,s=this.topRow.hasRightSquareCorner(this.block_)?Ai:Nn,this.topRow.elements.push(new s(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof xl?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new Ai(this.constants_)):this.bottomRow.elements.push(new Nn(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new Kt(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new Ai(this.constants_,"right")):this.bottomRow.elements.push(new Nn(this.constants_,"right"))}addInput_(e,t){this.isInline&&e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new Xe(this.constants_,e)),t.hasInlineInput=!0):e instanceof xl?(t.elements.push(new ut(this.constants_,e)),t.hasStatement=!0):e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new m(this.constants_,e)),t.hasExternalInput=!0):(e instanceof ll||e instanceof Yl)&&(t.minHeight=Math.max(t.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),t.align===null&&(t.align=e.align)}shouldStartNewRow_(e,t){return t?t instanceof Yl||e instanceof xl||t instanceof xl?!0:e instanceof n.ValueInput$$module$build$src$core$inputs$value_input||e instanceof ll||t instanceof n.ValueInput$$module$build$src$core$inputs$value_input?!this.isInline:!1:!1}addElemSpacing_(){for(let e=0,t;t=this.rows[e];e++){const s=t.elements;if(t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new $e(this.constants_,this.getInRowSpacing_(null,s[0]))),s.length){for(let u=0;u<s.length-1;u++){t.elements.push(s[u]);const v=this.getInRowSpacing_(s[u],s[u+1]);t.elements.push(new $e(this.constants_,v))}t.elements.push(s[s.length-1]),t.endsWithElemSpacer()&&t.elements.push(new $e(this.constants_,this.getInRowSpacing_(s[s.length-1],null)))}}}getInRowSpacing_(e,t){if(!e&&t&&Je.isStatementInput(t))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&Je.isInput(e)&&!t){if(Je.isExternalInput(e))return this.constants_.NO_PADDING;if(Je.isInlineInput(e))return this.constants_.LARGE_PADDING;if(Je.isStatementInput(e))return this.constants_.NO_PADDING}return e&&Je.isLeftSquareCorner(e)&&t&&(Je.isPreviousConnection(t)||Je.isNextConnection(t))?t.notchOffset:e&&Je.isLeftRoundedCorner(e)&&t&&(Je.isPreviousConnection(t)||Je.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&Je.isField(e)&&e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING}computeBounds_(){let e=0,t=0,s=0;for(let v=0,M;M=this.rows[v];v++){if(M.measure(),t=Math.max(t,M.width),M.hasStatement){var u=M.getLastInput();let re,Re;u=M.width-((Re=(re=u)==null?void 0:re.width)!=null?Re:0),e=Math.max(e,u)}s=Math.max(s,M.widthWithConnectedBlocks)}this.statementEdge=e,this.width=t;for(let v=0,M;M=this.rows[v];v++)M.hasStatement&&(M.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(t,s),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let t=0,s;s=this.rows[t];t++)if(s.hasStatement)this.alignStatementRow_(s);else{var e=s.width;e=this.getDesiredRowWidth_(s)-e,e>0&&this.addAlignmentPadding_(s,e),Je.isTopOrBottomRow(s)&&(s.widthWithConnectedBlocks=s.width)}}getDesiredRowWidth_(e){return this.width-this.startX}addAlignmentPadding_(e,t){const s=e.getFirstSpacer(),u=e.getLastSpacer();if((e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=t),e.align===n.Align$$module$build$src$core$inputs$align.LEFT&&u)u.width+=t;else if(e.align===n.Align$$module$build$src$core$inputs$align.CENTRE&&s&&u)s.width+=t/2,u.width+=t/2;else if(e.align===n.Align$$module$build$src$core$inputs$align.RIGHT&&s)s.width+=t;else if(u)u.width+=t;else return;e.width+=t}alignStatementRow_(e){const t=e.getLastInput();if(t){var s=e.width-t.width,u=this.statementEdge;s=u-s,s>0&&this.addAlignmentPadding_(e,s),s=e.width,u=this.getDesiredRowWidth_(e),t.width+=u-s,t.height=Math.max(t.height,e.height),e.width+=u-s,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}addRowSpacing_(){const e=this.rows;this.rows=[];for(let t=0;t<e.length;t++)this.rows.push(e[t]),t!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))}makeSpacerRow_(e,t){var s=this.getSpacerRowHeight_(e,t);const u=this.getSpacerRowWidth_(e,t);return s=new lr(this.constants_,s,u),e.hasStatement&&(s.followsStatement=!0),t.hasStatement&&(s.precedesStatement=!0),s}getSpacerRowWidth_(e,t){return this.width-this.startX}getSpacerRowHeight_(e,t){return this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){return Je.isSpacer(t)?e.yPos+t.height/2:Je.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,Je.isNextConnection(t)?e+t.height/2:e-t.height/2):Je.isTopRow(e)?Je.isHat(t)?e.capline-t.height/2:e.capline+t.height/2:e.yPos+e.height/2}recordElemPositions_(e){let t=e.xPos;for(let s=0,u;u=e.elements[s];s++)Je.isSpacer(u)&&(u.height=e.height),u.xPos=t,u.centerline=this.getElemCenterline_(e,u),t+=u.width}finalize_(){let e=0,t=0;for(let s=0,u;u=this.rows[s];s++)u.yPos=t,u.xPos=this.startX,t+=u.height,e=Math.max(e,u.widthWithConnectedBlocks),this.recordElemPositions_(u);if(this.outputConnection&&this.block_.nextConnection){const s=this.block_.nextConnection.targetBlock();s&&(e=Math.max(e,s.getHeightWidth().width))}this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline,this.bottomRow.baseline=t-this.bottomRow.descenderHeight}getMeasureableForConnection(e){let t;if(((t=this.outputConnection)==null?void 0:t.connectionModel)===e)return this.outputConnection;for(const s of this.rows)for(const u of s.elements)if(u instanceof l&&u.connectionModel===e)return u;return null}},mi=class{constructor(e,t,s){this.connectionHighlights=new WeakMap,this.highlightOffsets=new WeakMap,this.constants=s,this.style=t,this.svgRoot=e,this.svgPath=ct(ft.PATH,{class:"blocklyPath"},this.svgRoot),this.setClass_("blocklyBlock",!0)}setPath(e){this.svgPath.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}applyColour(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}setStyle(e){this.style=e}setClass_(e,t){e&&(t?rn(this.svgRoot,e):Zn(this.svgRoot,e))}updateHighlighted(e){e?this.setClass_("blocklyHighlighted",!0):this.setClass_("blocklyHighlighted",!1)}updateShadow_(e){e?(this.setClass_("blocklyShadow",!0),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)):this.setClass_("blocklyShadow",!1)}updateDisabled_(e){this.setClass_("blocklyDisabled",e),this.setClass_("blocklyDisabledPattern",e)}updateSelected(e){this.setClass_("blocklySelected",e)}updateDraggingDelete(e){this.setClass_("blocklyDraggingDelete",e)}updateInsertionMarker(e){this.setClass_("blocklyInsertionMarker",e)}updateMovable(e){this.setClass_("blocklyDraggable",e)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,t){}addConnectionHighlight(e,t,s,u){return s=`translate(${s.x}, ${s.y})`+(u?" scale(-1 1)":""),(u=this.connectionHighlights.get(e))?(u.setAttribute("d",t),u.setAttribute("transform",s),u):(t=ct(ft.PATH,{id:e.id,class:"blocklyHighlightedConnectionPath",style:"display: none;",d:t,transform:s},this.svgRoot),this.connectionHighlights.set(e,t),t)}removeConnectionHighlight(e){const t=this.connectionHighlights.get(e);t&&(un(t),this.connectionHighlights.delete(e))}},zn=class{constructor(e){this.overrides=null,this.name=e}getClassName(){return this.name+"-renderer"}init(e,t){this.constants_=this.makeConstants_(),t&&(this.overrides=t,Object.assign(this.constants_,t)),this.constants_.setTheme(e),this.constants_.init()}createDom(e,t,s){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName(),s)}refreshDom(e,t,s){const u=this.getConstants();u.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=u.randomIdentifier,this.constants_.setTheme(t),this.constants_.init(),this.createDom(e,t,s)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new gt}makeRenderInfo_(e){return new Jn(this,e)}makeDrawer_(e,t){return new Gt(e,t)}makePathObject(e,t){return new mi(e,t,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(e){return!0}orphanCanConnectAtEnd(e,t,s){return!!pi.getConnectionForOrphanedConnection(e,s===xn.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}render(e){const t=this.makeRenderInfo_(e);t.measure(),this.makeDrawer_(e,t).draw()}},Cn={};Cn.BottomRow=i,Cn.Connection=l,Cn.ConstantProvider=gt,Cn.Drawer=Gt,Cn.ExternalValueInput=m,Cn.Field=S,Cn.Hat=A,Cn.Icon=X,Cn.InRowSpacer=$e,Cn.InlineInput=Xe,Cn.InputConnection=c,Cn.InputRow=$t,Cn.JaggedEdge=Vt,Cn.Measurable=Ta,Cn.NextConnection=Kt,Cn.OutputConnection=kt,Cn.PathObject=mi,Cn.PreviousConnection=Rt,Cn.RenderInfo=Jn,Cn.Renderer=zn,Cn.RoundCorner=Nn,Cn.Row=Du,Cn.SpacerRow=lr,Cn.SquareCorner=Ai,Cn.StatementInput=ut,Cn.TopRow=et,Cn.Types=Je,Cn.init=Wi,Cn.register=Wl,Cn.unregister=Ir;var ti=class{constructor(e,t){this.workspace=e,this.theme=t,this.subscribedWorkspaces=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(e){var t=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(t&&(t=t.getClassName())&&Zn(e,t),(t=this.theme.getClassName())&&rn(e,t));for(let s=0,u;u=this.subscribedWorkspaces[s];s++)u.refreshTheme();for(const[s,u]of this.componentDB)for(const v of u){e=v.element,t=v.propertyName;const M=this.theme&&this.theme.getComponentStyle(s);e.style.setProperty(t,M||"")}for(const s of this.subscribedWorkspaces)s.hideChaff()}subscribeWorkspace(e){this.subscribedWorkspaces.push(e)}unsubscribeWorkspace(e){if(!Mt(this.subscribedWorkspaces,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(e,t,s){this.componentDB.has(t)||this.componentDB.set(t,[]),this.componentDB.get(t).push({element:e,propertyName:s}),t=this.theme&&this.theme.getComponentStyle(t),e.style.setProperty(s,t||"")}unsubscribe(e){if(e)for(const[t,s]of this.componentDB){for(let u=s.length-1;u>=0;u--)s[u].element===e&&s.splice(u,1);s.length||this.componentDB.delete(t)}}dispose(){this.subscribedWorkspaces.length=0,this.componentDB.clear()}},Ei="VARIABLE_DYNAMIC",al={CATEGORY_NAME:Ei};al.flyoutCategory=r1,al.flyoutCategoryBlocks=mu,al.internalFlyoutCategory=ta,al.onCreateVariableButtonClick_Colour=Fa,al.onCreateVariableButtonClick_Number=pc,al.onCreateVariableButtonClick_String=Ds;var q3=class{canConnect(e,t,s,u){return this.canConnectWithReason(e,t,s,u)===pi.CAN_CONNECT}canConnectWithReason(e,t,s,u){const v=this.doSafetyChecks(e,t);return v!==pi.CAN_CONNECT?v:this.doTypeChecks(e,t)?s&&!this.doDragChecks(e,t,u||0)?pi.REASON_DRAG_CHECKS_FAILED:pi.CAN_CONNECT:pi.REASON_CHECKS_FAILED}getErrorMessage(e,t,s){switch(e){case pi.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case pi.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case pi.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case pi.REASON_TARGET_NULL:return"Target connection is null.";case pi.REASON_CHECKS_FAILED:return"Connection checks failed. "+(t+" expected "+t.getCheck()+", found "+s.getCheck());case pi.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case pi.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case pi.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(e,t){if(!e||!t)return pi.REASON_TARGET_NULL;let s,u,v;return e.isSuperior()?(s=e.getSourceBlock(),u=t.getSourceBlock(),v=t):(u=e.getSourceBlock(),s=t.getSourceBlock(),v=e,e=t),s===u?pi.REASON_SELF_CONNECTION:v.type!==Lc[e.type]?pi.REASON_WRONG_TYPE:s.workspace!==u.workspace?pi.REASON_DIFFERENT_WORKSPACES:s.isShadow()&&!u.isShadow()?pi.REASON_SHADOW_PARENT:v.type===xn.OUTPUT_VALUE&&u.previousConnection&&u.previousConnection.isConnected()||v.type===xn.PREVIOUS_STATEMENT&&u.outputConnection&&u.outputConnection.isConnected()?pi.REASON_PREVIOUS_AND_OUTPUT:pi.CAN_CONNECT}doTypeChecks(e,t){if(e=e.getCheck(),t=t.getCheck(),!e||!t)return!0;for(let s=0;s<e.length;s++)if(t.includes(e[s]))return!0;return!1}doDragChecks(e,t,s){if(e.distanceFrom(t)>s||t.getSourceBlock().isInsertionMarker())return!1;switch(t.type){case xn.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,t);case xn.OUTPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case xn.INPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;case xn.NEXT_STATEMENT:if(t.isConnected()&&!e.getSourceBlock().nextConnection&&!t.targetBlock().isShadow()&&t.targetBlock().nextConnection||t.targetBlock()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;default:return!1}return!vc.includes(t)}canConnectToPrevious_(e,t){return e.targetConnection||vc.includes(t)?!1:t.targetConnection?(e=t.targetBlock(),e.isInsertionMarker()?!e.getPreviousBlock():!1):!0}};a(Ht.CONNECTION_CHECKER,gl,q3);var f4=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(e){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new Pc,this.readOnly=!1,this.potentialVariableMap=null,this.id=Ke(),yt(this),this.options=e||new B0({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(I(Ht.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new(this.getVariableMapClass())(this),this.setIsReadOnly(this.options.readOnly)}dispose(){this.listeners.length=0,this.clear(),xt(this)}sortObjects(e,t){const s=u=>({getBoundingRectangle:()=>{const v=u.getRelativeToSurfaceXY();return new Tr(v.y,v.y,v.x,v.x)},moveBy:()=>{}});return this.sortByOrigin(s(e),s(t))}sortByOrigin(e,t){const s=Math.sin(b0(f4.SCAN_ANGLE))*(this.RTL?-1:1);return e=e.getBoundingRectangle().getOrigin(),t=t.getBoundingRectangle().getOrigin(),e.y+s*e.x-(t.y+s*t.x)}addTopBlock(e){this.topBlocks.push(e)}removeTopBlock(e){if(!Mt(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(e=!1){const t=[].concat(this.topBlocks);return e&&t.length>1&&t.sort(this.sortObjects.bind(this)),t}addTypedBlock(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}removeTypedBlock(e){Mt(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}getBlocksByType(e,t=!1){return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),t&&e&&e.length>1&&e.sort(this.sortObjects.bind(this)),e.filter(s=>!s.isInsertionMarker())):[]}addTopComment(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}removeTopComment(e){if(!Mt(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}getTopComments(e=!1){const t=[].concat(this.topComments);return e&&t.length>1&&t.sort(this.sortObjects.bind(this)),t}getAllBlocks(e=!1){if(e){var t=this.getTopBlocks(!0);e=[];for(let s=0;s<t.length;s++)e.push(...t[s].getDescendants(!0))}else for(e=this.getTopBlocks(!1),t=0;t<e.length;t++)e.push(...e[t].getChildren(!1));return e.filter(s=>!s.isInsertionMarker())}clear(){this.isClearing=!0;try{const e=n.getGroup$$module$build$src$core$events$utils();for(e||n.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();n.setGroup$$module$build$src$core$events$utils(e),this.isFlyout||this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(e,t){Vn("Blockly.Workspace.renameVariableById","v12","v13","Blockly.Workspace.getVariableMap().renameVariable"),(e=this.variableMap.getVariableById(e))&&this.variableMap.renameVariable(e,t)}createVariable(e,t,s){return Vn("Blockly.Workspace.createVariable","v12","v13","Blockly.Workspace.getVariableMap().createVariable"),this.variableMap.createVariable(e,t??void 0,s??void 0)}getVariableUsesById(e){return Vn("Blockly.Workspace.getVariableUsesById","v12","v13","Blockly.Variables.getVariableUsesById"),Oi(this,e)}deleteVariableById(e){Vn("Blockly.Workspace.deleteVariableById","v12","v13","Blockly.Workspace.getVariableMap().deleteVariable");const t=this.variableMap.getVariableById(e);t?n.deleteVariable$$module$build$src$core$variables(this,t):console.warn(`Can't delete non-existent variable: ${e}`)}getVariable(e,t){return Vn("Blockly.Workspace.getVariable","v12","v13","Blockly.Workspace.getVariableMap().getVariable"),this.variableMap.getVariable(e,t)}getVariableById(e){return Vn("Blockly.Workspace.getVariableById","v12","v13","Blockly.Workspace.getVariableMap().getVariableById"),this.variableMap.getVariableById(e)}getVariablesOfType(e){return Vn("Blockly.Workspace.getVariablesOfType","v12","v13","Blockly.Workspace.getVariableMap().getVariablesOfType"),this.variableMap.getVariablesOfType(e??"")}getAllVariables(){return Vn("Blockly.Workspace.getAllVariables","v12","v13","Blockly.Workspace.getVariableMap().getAllVariables"),this.variableMap.getAllVariables()}getAllVariableNames(){return Vn("Blockly.Workspace.getAllVariableNames","v12","v13","Blockly.Workspace.getVariableMap().getAllVariables"),this.variableMap.getAllVariables().map(e=>e.getName())}getWidth(){return 0}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(e){return this.options.maxInstances?(this.options.maxInstances[e]!==void 0?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}isCapacityAvailable(e){if(!this.hasBlockLimits())return!0;let t=0;for(const s in e){if(e[s]>this.remainingCapacityOfType(s))return!1;t+=e[s]}return!(t>this.remainingCapacity())}hasBlockLimits(){return this.options.maxBlocks!==1/0||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(e){var t=e?this.redoStack_:this.undoStack_,s=e?this.undoStack_:this.redoStack_;const u=t.pop();if(u){for(var v=[u];t.length&&u.group&&u.group===t[t.length-1].group;){const M=t.pop();M&&v.push(M)}for(t=0;t<v.length;t++)s.push(v[t]);n.setRecordUndo$$module$build$src$core$events$utils(!1);try{for(s=0;s<v.length;s++)v[s].run(e)}finally{n.setRecordUndo$$module$build$src$core$events$utils(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,It()}addChangeListener(e){return this.listeners.push(e),e}removeChangeListener(e){Mt(this.listeners,e)}fireChangeListener(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&this.MAX_UNDO>=0;)this.undoStack_.shift();for(let t=0;t<this.listeners.length;t++)(0,this.listeners[t])(e)}getBlockById(e){return this.blockDB.get(e)||null}setBlockById(e,t){this.blockDB.set(e,t)}removeBlockById(e){this.blockDB.delete(e)}getCommentById(e){let t;return(t=this.commentDB.get(e))!=null?t:null}allInputsFilled(e){const t=this.getTopBlocks(!1);for(let s=0;s<t.length;s++)if(!t[s].allInputsFilled(e))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new(this.getVariableMapClass())(this,!0)}getVariableMap(){return this.variableMap}setVariableMap(e){this.variableMap=e}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let e=null;const t=this.options.parentWorkspace;return this.isFlyout?t&&t.options&&(e=t.options.parentWorkspace):t&&(e=t),e}static getById(e){return nt(e)}static getAll(){return Ye()}getVariableMapClass(){const e=I(Ht.VARIABLE_MAP,this.options,!0);if(!e)throw Error("No variable map is registered.");return e}isReadOnly(){return this.readOnly}setIsReadOnly(e){this.readOnly=e,this.options.readOnly=e}};f4.SCAN_ANGLE=3;var f$=100,I7=class{constructor(e){this.parentWorkspace=e,this.sounds=new Map,this.lastSound=null,this.muted=!1}dispose(){this.sounds.clear()}load(e,t){if(e.length){try{var s=new globalThis.Audio}catch{return}for(let v=0;v<e.length;v++){const M=e[v],re=M.match(/\.(\w+)$/);if(re&&s.canPlayType("audio/"+re[1])){var u=new globalThis.Audio(M);break}}u&&this.sounds.set(t,u)}}preload(){for(const e of this.sounds.values()){e.volume=.01;const t=e.play();if(t!==void 0?t.then(e.pause).catch(function(){}):e.pause(),g1||Y4)break}}play(e,t){if(!this.muted){var s=this.sounds.get(e);s?(e=new Date,this.lastSound!==null&&e.getTime()-this.lastSound.getTime()<f$||(this.lastSound=e,s=g1||Id?s:s.cloneNode(),s.volume=t===void 0?1:t,s.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,t)}}setMuted(e){this.muted=e}getMuted(){return this.muted}},p$=20,Cl=class extends f4{constructor(e){super(e),this.resizeHandlerWrapper=null,this.resizesEnabled=this.visible=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.inverseScreenCTM=this.targetWorkspace=this.dummyWheelListener=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=this.currentGesture_=this.toolbox=this.flyout=this.scrollbar=this.trashcan=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardMoveInProgress=this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=this.layerManager=null,this.navigator=new Vh,this.metricsManager=new(I(Ht.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=e.setMetrics||Cl.setTopLevelWorkspaceMetrics,this.componentManager=new ki,this.connectionDBList=Ja.init(this.connectionChecker),this.audioManager=new I7(e.parentWorkspace),this.grid=this.options.gridPattern?new V1(this.options.gridPattern,e.gridOptions):null,this.markerManager=new W1(this),Ns&&er&&this.registerToolboxCategoryCallback(kh,er),al&&ta&&this.registerToolboxCategoryCallback(Ei,ta),Ro&&I0&&(this.registerToolboxCategoryCallback(qh,I0),this.addChangeListener(ea)),this.addChangeListener(this.variableChangeCallback.bind(this)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new ti(this,this.options.theme||Uh),this.themeManager_.subscribeWorkspace(this);let t;this.renderer=Wi(this.options.renderer||"geras",this.getTheme(),(t=this.options.rendererOverrides)!=null?t:void 0),this.cachedParentSvgSize=new Sr(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}getMarker(e){return this.markerManager.getMarker(e)}getCursor(){return this.markerManager.getCursor()}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(e){e||(e=Uh),this.themeManager_.setTheme(e)}refreshTheme(){if(this.svgGroup_){var e=this.options.parentWorkspace===null;this.renderer.refreshDom(this.svgGroup_,this.getTheme(),e?this.getInjectionDiv():void 0)}this.updateBlockStyles(this.getAllBlocks(!1).filter(t=>!!t.getStyleName())),this.refreshToolboxSelection(),this.toolbox&&this.toolbox.refreshTheme(),this.isVisible()&&this.setVisible(!0),e=new(sn(mt.THEME_CHANGE))(this.getTheme().name,this.id),de(e)}updateBlockStyles(e){for(let t=0,s;s=e[t];t++){const u=s.getStyleName();u&&s.setStyle(u)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.visible}getSvgXY(e){let t=0,s=0,u=1;(this.getCanvas().contains(e)||this.getBubbleCanvas().contains(e))&&(u=this.scale);do{const v=Z(e);(e===this.getCanvas()||e===this.getBubbleCanvas())&&(u=1),t+=v.x*u,s+=v.y*u,e=e.parentNode}while(e&&e!==this.getParentSvg()&&e!==this.getInjectionDiv());return new qt(t,s)}getCachedParentSvgSize(){const e=this.cachedParentSvgSize;return new Sr(e.width,e.height)}getOriginOffsetInPixels(){return J(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let e=this.svgGroup_;for(;e;){if((" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv ")){this.injectionDiv=e;break}e=e.parentNode}}return this.injectionDiv}getSvgGroup(){return this.svgGroup_}getBlockCanvas(){return this.getCanvas()}setResizeHandlerWrapper(e){this.resizeHandlerWrapper=e}createDom(e,t){return this.injectionDiv||(this.injectionDiv=t??null),this.svgGroup_=ct(ft.G,{class:"blocklyWorkspace",id:this.id}),t&&Wr(this.svgGroup_,_s.LABEL,n.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL),e&&(this.svgBackground_=ct(ft.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),e==="blocklyMainBackground"&&this.grid?this.svgBackground_.style.fill="var(--blocklyGridPattern)":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.layerManager=new G3(this),this.svgBlockCanvas_=this.layerManager.getBlockLayer(),this.svgBubbleCanvas_=this.layerManager.getBubbleLayer(),this.isFlyout||(se(this.svgGroup_,"pointerdown",this,this.onMouseDown,!1),this.dummyWheelListener=()=>{},document.body.addEventListener("wheel",this.dummyWheelListener),se(this.svgGroup_,"wheel",this,this.onMouseWheel)),this.options.hasCategories&&(this.toolbox=new(I(Ht.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=I(Ht.CURSOR,this.options))&&this.markerManager.setCursor(new e(this)),e=this.options.parentWorkspace===null,this.renderer.createDom(this.svgGroup_,this.getTheme(),e?this.getInjectionDiv():void 0),n.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,!!this.injectionDiv||this.isFlyout),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&un(this.svgGroup_),this.toolbox&&(this.toolbox.dispose(),this.toolbox=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){const e=this.getParentSvg();e&&e.parentNode&&un(e.parentNode)}this.resizeHandlerWrapper&&(Oe(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null),this.dummyWheelListener&&(document.body.removeEventListener("wheel",this.dummyWheelListener),this.dummyWheelListener=null),n.getFocusManager$$module$build$src$core$focus_manager().isRegistered(this)&&n.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}addTrashcan(){this.trashcan=Cl.newTrashcan(this);const e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.getCanvas())}static newTrashcan(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new ca(this);const e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}copyOptionsForFlyout(){return new B0({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,plugins:this.options.plugins,modalInputs:this.options.modalInputs,move:{scrollbars:!0}})}addFlyout(e){const t=this.copyOptionsForFlyout();return t.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(I(Ht.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(t):new(I(Ht.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(t),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}getFlyout(e){return this.flyout||e?this.flyout:this.toolbox?this.toolbox.getFlyout():null}getToolbox(){return this.toolbox}updateScreenCalculations(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox?this.toolbox.position():this.flyout&&this.flyout.position();const e=this.componentManager.getComponents(ki.Capability.POSITIONABLE,!0),t=this.getMetricsManager().getUiMetrics(),s=[];for(let u=0,v;v=e[u];u++){v.position(t,s);const M=v.getBoundingRectangle();M&&s.push(M)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations()}updateScreenCalculationsIfScrolled(){const e=ee();qt.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations())}getLayerManager(){return this.layerManager}getCanvas(){return this.layerManager.getBlockLayer()}setCachedParentSvgSize(e,t){const s=this.getParentSvg();e!=null&&(this.cachedParentSvgSize.width=e,s.setAttribute("data-cached-width",`${e}`)),t!=null&&(this.cachedParentSvgSize.height=t,s.setAttribute("data-cached-height",`${t}`))}getBubbleCanvas(){return this.layerManager.getBubbleLayer()}getParentSvg(){if(!this.cachedParentSvg){let e=this.svgGroup_;for(;e;){if(e.tagName==="svg"){this.cachedParentSvg=e;break}e=e.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(Qt()){var e=this.scale,t=-this.scrollY,s=-this.scrollX;if(!(e===this.oldScale&&Math.abs(t-this.oldTop)<1&&Math.abs(s-this.oldLeft)<1)){var u=new(sn(mt.VIEWPORT_CHANGE))(t,s,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=t,this.oldLeft=s,de(u)}}}translate(e,t){let s;(s=this.layerManager)==null||s.translateLayers(new qt(e,t),this.scale);let u;(u=this.grid)==null||u.moveTo(e,t),this.maybeFireViewportChangeEvent()}getWidth(){const e=this.getMetrics();return e?e.viewWidth/this.scale:0}setVisible(e){this.visible=e,this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox&&this.toolbox.setVisible(e),e||this.hideChaff(!0))}render(){const e=this.getAllBlocks(!1);for(let t=e.length-1;t>=0;t--)e[t].queueRender();this.getTopBlocks().flatMap(t=>t.getDescendants(!1)).filter(t=>t.isInsertionMarker()).forEach(t=>t.queueRender())}highlightBlock(e,t){if(t===void 0){for(let s=0,u;u=this.highlightedBlocks[s];s++)u.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((t=t===void 0||t)?this.highlightedBlocks.includes(e)||this.highlightedBlocks.push(e):Mt(this.highlightedBlocks,e),e.setHighlighted(t))}variableChangeCallback(e){switch(e.type){case mt.VAR_CREATE:case mt.VAR_DELETE:case mt.VAR_RENAME:case mt.VAR_TYPE_CHANGE:this.refreshToolboxSelection()}}refreshToolboxSelection(){const e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox&&e.toolbox.getFlyout()&&e.toolbox.refreshSelection()}recordDragTargets(){const e=this.componentManager.getComponents(ki.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let t=0,s;s=e[t];t++){const u=s.getClientRect();u&&this.dragTargetAreas.push({component:s,clientRect:u})}}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}getDragTarget(e){for(let t=0,s;s=this.dragTargetAreas[t];t++)if(s.clientRect.contains(e.clientX,e.clientY))return s.component;return null}onMouseDown(e){const t=this.getGesture(e);t&&t.handleWsStart(e,this)}startDrag(e,t){xo(this,e,t)}moveDrag(e){return qo(this,e)}setKeyboardMoveInProgress(e){this.keyboardMoveInProgress=e}isDragging(){return this.keyboardMoveInProgress||this.currentGesture_!==null&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}onMouseWheel(e){if(Wh.inProgress())e.preventDefault(),e.stopPropagation();else{var t=this.options.zoomOptions&&this.options.zoomOptions.wheel,s=this.options.moveOptions&&this.options.moveOptions.wheel;if(t||s){var u=at(e);if(Ad)var v=e.metaKey;t&&(e.ctrlKey||v||!s)?(u=-u.y/50,t=je(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(t.x,t.y,u)):(t=this.scrollX-u.x,s=this.scrollY-u.y,e.shiftKey&&!u.x&&(t=this.scrollX-u.y,s=this.scrollY),this.scroll(t,s)),e.preventDefault()}}}getBlocksBoundingBox(){const e=this.getTopBoundedElements();if(!e.length)return new Tr(0,0,0,0);const t=e[0].getBoundingRectangle();for(let u=1;u<e.length;u++){var s=e[u];s.isInsertionMarker&&s.isInsertionMarker()||(s=s.getBoundingRectangle(),s.top<t.top&&(t.top=s.top),s.bottom>t.bottom&&(t.bottom=s.bottom),s.left<t.left&&(t.left=s.left),s.right>t.right&&(t.right=s.right))}return t}cleanUp(){this.setResizesEnabled(!1);const e=n.getGroup$$module$build$src$core$events$utils();e||n.setGroup$$module$build$src$core$events$utils(!0);var t=this.getTopBlocks(!0),s=t.filter(re=>re.isMovable());const u=t.filter(re=>!re.isMovable()).map(re=>re.getBoundingRectangle());t=function(re){for(const Re of u)if(re.intersects(Re))return Re;return null};var v=0;const M=this.renderer.getConstants().MIN_BLOCK_HEIGHT;for(const re of s){for(s=re.getBoundingRectangle(),re.moveBy(-s.left,v-s.top,["cleanup"]),re.snapToGrid(),s=re.getBoundingRectangle(),v=t(s);v!=null;)v=v.top+v.getHeight()+M,re.moveBy(0,v-s.top,["cleanup"]),re.snapToGrid(),s=re.getBoundingRectangle(),v=t(s);v=re.getRelativeToSurfaceXY().y+re.getHeightWidth().height+M}n.setGroup$$module$build$src$core$events$utils(e),this.setResizesEnabled(!0)}showContextMenu(e){if(!this.isReadOnly()&&!this.isFlyout){var t=Cr.registry.getContextMenuOptions({workspace:this,focusedNode:this},e);this.configureContextMenu&&this.configureContextMenu(t,e);var s=e instanceof PointerEvent?new qt(e.clientX,e.clientY):qe(this,new qt(5,5));Y0(e,t,this.RTL,this,s)}}updateToolbox(e){if(e=Bt(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(On(e)){if(!this.toolbox)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(ae(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(e,t,s){s=Math.pow(this.options.zoomOptions.scaleSpeed,s);const u=this.scale*s;if(this.scale!==u){u>this.options.zoomOptions.maxScale?s=this.options.zoomOptions.maxScale/this.scale:u<this.options.zoomOptions.minScale&&(s=this.options.zoomOptions.minScale/this.scale);var v=this.getCanvas().getCTM(),M=this.getParentSvg().createSVGPoint();M.x=e,M.y=t,M=M.matrixTransform(v.inverse()),e=M.x,t=M.y,v=v.translate(e*(1-s),t*(1-s)).scale(s),this.scrollX=v.e,this.scrollY=v.f,this.setScale(u)}}zoomCenter(e){var t=this.getMetrics();let s;this.flyout?(s=t.svgWidth?t.svgWidth/2:0,t=t.svgHeight?t.svgHeight/2:0):(s=t.viewWidth/2+t.absoluteLeft,t=t.viewHeight/2+t.absoluteTop),this.zoom(s,t,e)}zoomToFit(){if(this.isMovable()){var e=this.getMetrics(),t=e.viewWidth;e=e.viewHeight;var s=this.getBlocksBoundingBox(),u=p$*2,v=s.right-s.left+u;if(s=s.bottom-s.top+u,v){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),s+=this.flyout.getHeight()/this.scale):(t+=this.flyout.getWidth(),v+=this.flyout.getWidth()/this.scale)),t/=v,e/=s,n.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(t,e)),this.scrollCenter()}finally{n.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){rn(this.getCanvas(),"blocklyCanvasTransitioning"),rn(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}endCanvasTransition(){Zn(this.getCanvas(),"blocklyCanvasTransitioning"),Zn(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var e=this.getMetrics(),t=(e.scrollWidth-e.viewWidth)/2,s=(e.scrollHeight-e.viewHeight)/2;t=-t-e.scrollLeft,s=-s-e.scrollTop,this.scroll(t,s)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(e,t){if(this.isMovable()){var s=e?this.getBlockById(e):null;if(s){e=s.getRelativeToSurfaceXY(),s=t?{height:s.height,width:s.width}:s.getHeightWidth();var u=this.scale;t=(e.x+(this.RTL?-1:1)*s.width/2)*u,e=(e.y+s.height/2)*u,s=this.getMetrics(),this.scroll(-(t-s.viewWidth/2),-(e-s.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}getScale(){return this.scale}getAbsoluteScale(){const e=s=>{if(s.isFlyout){let u;const v=(u=s.targetWorkspace)==null?void 0:u.getFlyout();if(v instanceof Lu)return v.getFlyoutScale()}return s.getScale()},t=(s,u)=>s.options.parentWorkspace&&s.options.parentWorkspace.getSvgGroup().contains(s.getSvgGroup())?t(s.options.parentWorkspace,u*e(s)):u*e(s);return t(this,1)}scroll(e,t){this.hideChaff(!0);const s=this.getMetrics();e=Math.min(e,-s.scrollLeft),t=Math.min(t,-s.scrollTop);const u=s.scrollTop+Math.max(0,s.scrollHeight-s.viewHeight);e=Math.max(e,-(s.scrollLeft+Math.max(0,s.scrollWidth-s.viewWidth))),t=Math.max(t,-u),this.scrollX=e,this.scrollY=t,this.scrollbar&&this.scrollbar.set(-(e+s.scrollLeft),-(t+s.scrollTop),!1),e+=s.absoluteLeft,t+=s.absoluteTop,this.translate(e,t)}getBlockById(e){return super.getBlockById(e)}getAllBlocks(e=!1){return super.getAllBlocks(e)}getTopBlocks(e=!1){return super.getTopBlocks(e)}addTopBlock(e){this.addTopBoundedElement(e),super.addTopBlock(e)}removeTopBlock(e){this.removeTopBoundedElement(e),super.removeTopBlock(e)}addTopComment(e){this.addTopBoundedElement(e),super.addTopComment(e)}removeTopComment(e){this.removeTopBoundedElement(e),super.removeTopComment(e)}getTopComments(e=!1){return super.getTopComments(e)}getCommentById(e){return super.getCommentById(e)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(e){this.topBoundedElements.push(e)}removeTopBoundedElement(e){Mt(this.topBoundedElements,e)}getTopBoundedElements(e=!1){const t=[].concat(this.topBoundedElements);return e&&t.sort(this.sortByOrigin.bind(this)),t}setResizesEnabled(e){const t=!this.resizesEnabled&&e;this.resizesEnabled=e,t&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(e,t){if(typeof t!="function")throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,t)}getButtonCallback(e){let t;return(t=this.flyoutButtonCallbacks.get(e))!=null?t:null}removeButtonCallback(e){this.flyoutButtonCallbacks.delete(e)}registerToolboxCategoryCallback(e,t){if(typeof t!="function")throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,t)}getToolboxCategoryCallback(e){return this.toolboxCategoryCallbacks.get(e)||null}removeToolboxCategoryCallback(e){this.toolboxCategoryCallbacks.delete(e)}getGesture(e){if(this.keyboardMoveInProgress)return e.preventDefault(),e.stopPropagation(),null;const t=e.type==="pointerdown";let s;return t&&((s=this.currentGesture_)!=null&&s.hasStarted())&&(console.warn("Tried to start the same gesture twice."),this.currentGesture_.cancel()),!this.currentGesture_&&t&&(this.currentGesture_=new Wh(e,this)),this.currentGesture_}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(e=!1){Si(),fl(this),Ue(),this.hideComponents(e)}hideComponents(e=!1){this.getComponentManager().getComponents(ki.Capability.AUTOHIDEABLE,!0).forEach(t=>t.autoHide(e))}static setTopLevelWorkspaceMetrics(e){const t=this.getMetrics();typeof e.x=="number"&&(this.scrollX=-(t.scrollLeft+(t.scrollWidth-t.viewWidth)*e.x)),typeof e.y=="number"&&(this.scrollY=-(t.scrollTop+(t.scrollHeight-t.viewHeight)*e.y)),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)}addClass(e){this.injectionDiv&&rn(this.injectionDiv,e)}removeClass(e){this.injectionDiv&&Zn(this.injectionDiv,e)}setIsReadOnly(e){super.setIsReadOnly(e),e?this.addClass("blocklyReadOnly"):this.removeClass("blocklyReadOnly")}scrollBoundsIntoView(e,t=10){if(!Wh.inProgress()){var s=this.getScale(),u=this.getMetricsManager().getViewMetrics(!0);if(u=new Tr(u.top,u.top+u.height,u.left,u.left+u.width),!(e.left>=u.left&&e.top>=u.top&&e.right<=u.right&&e.bottom<=u.bottom)){e=e.clone(),e.top-=t,e.bottom+=t,e.left-=t,e.right+=t;var v=t=0;e.left<u.left?t=this.RTL?Math.min(u.left-e.left,u.right-e.right):u.left-e.left:e.right>u.right&&(t=this.RTL?u.right-e.right:Math.max(u.right-e.right,u.left-e.left)),e.top<u.top?v=u.top-e.top:e.bottom>u.bottom&&(v=Math.max(u.bottom-e.bottom,u.top-e.top)),this.scroll(this.scrollX+t*s,this.scrollY+v*s)}}}getFocusableElement(){return this.svgGroup_}getFocusableTree(){return this.isMutator&&this.options.parentWorkspace||this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(e){if(e)return null;let t;if(e=(t=this.targetWorkspace)==null?void 0:t.getFlyout(),this.isFlyout&&e){let u,v;return(v=(u=e.getContents().find(M=>(M=M.getElement(),ne(M)&&M.canBeFocused())))==null?void 0:u.getElement())!=null?v:null}let s;return(s=this.getTopBlocks(!0)[0])!=null?s:null}getNestedTrees(){const e=this.getAllBlocks().map(s=>s.getIcons()).flat().filter(s=>s instanceof n.MutatorIcon$$module$build$src$core$icons$mutator_icon&&s.bubbleIsVisible()).map(s=>{let u;return(u=s.getBubble())==null?void 0:u.getWorkspace()}).filter(s=>!!s),t=this.getFlyout(!0);return t&&e.push(t.getWorkspace()),e}searchForWorkspaceComment(e){for(const t of this.getTopComments())if(t instanceof c0&&t.canBeFocused()&&t.getFocusableElement().id===e)return t}lookUpFocusableNode(e){var t;const s=(t=this.targetWorkspace)==null?void 0:t.getFlyout();if(this.isFlyout&&s){for(var u of s.getContents())if(t=u.getElement(),ne(t)&&t.canBeFocused()&&t.getFocusableElement().id===e)return t}if(u=e.indexOf("_field_"),t=e.indexOf("_connection_"),u!==-1){var v=e.substring(0,u);if(v=this.getBlockById(v)){for(var M of v.getFields())if(M.canBeFocused()&&M.getFocusableElement().id===e)return M}return null}if(t!==-1){if(v=e.substring(0,t),v=this.getBlockById(v)){for(const Re of v.getConnections_(!0))if(Re.id===e)return Re}return null}if(M=Math.max(e.indexOf(yo),e.indexOf(Zi),e.indexOf(T2)),M!==-1&&(M=e.substring(0,M),M=this.searchForWorkspaceComment(M))){if(e.indexOf(yo)>-1)return M.getEditorFocusableNode();var re;return(re=M.view.getCommentBarButtons().find(Re=>Re.getFocusableElement().id.includes(e)))!=null?re:null}if((re=this.getAllBlocks(!1).find(Re=>Re.getFocusableElement().id===e))||(re=this.searchForWorkspaceComment(e)))return re;re=this.getAllBlocks().map(Re=>Re.getIcons()).flat();for(v of re){if(v.canBeFocused()&&v.getFocusableElement().id===e)return v;if($0(v)){if((re=v.getBubble())&&re.canBeFocused()&&re.getFocusableElement().id===e)return re;if(re instanceof ol&&re.getEditor().getFocusableElement().id===e)return re.getEditor()}}return null}onTreeFocus(e,t){}onTreeBlur(e){if(this.isFlyout&&this.targetWorkspace&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()){var t=this.targetWorkspace.getToolbox();t&&e===t||Di(t)&&t.autoHide(!1)}}getNavigator(){return this.navigator}setNavigator(e){this.navigator=e}},p4=class extends aa{constructor(e){super(),this.isBlank=typeof e>"u",e&&(this.varId=e.getId(),this.workspaceId=e.getWorkspace().id)}toJson(){const e=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new p4),t.varId=e.varId,t}},Z5=class extends p4{constructor(e){super(e),this.type=mt.VAR_CREATE,e&&(this.varType=e.getType(),this.varName=e.getName())}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new Z5),t.varType=e.varType,t.varName=e.varName,t}run(e){var t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");t=t.getVariableMap(),e?t.createVariable(this.varName,this.varType,this.varId):(e=t.getVariableById(this.varId))&&t.deleteVariable(e)}};a(Ht.EVENT,mt.VAR_CREATE,Z5);var A7=class{constructor(e,t,s,u){this.workspace=e,this.name=t,this.type=s||"",this.id=u||Ke()}getId(){return this.id}getName(){return this.name}setName(e){return this.name=e,this}getType(){return this.type}setType(e){return this.type=e,this}getWorkspace(){return this.workspace}save(){const e={name:this.getName(),id:this.getId()},t=this.getType();return t&&(e.type=t),e}static load(e,t){e=new this(t,e.name,e.type,e.id),t.getVariableMap().addVariable(e),de(new(sn(mt.VAR_CREATE))(e))}};a(Ht.VARIABLE_MODEL,gl,A7);var Q5=class extends p4{constructor(e){super(e),this.type=mt.VAR_DELETE,e&&(this.varType=e.getType(),this.varName=e.getName())}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new Q5),t.varType=e.varType,t.varName=e.varName,t}run(e){var t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");t=t.getVariableMap(),e?(e=t.getVariableById(this.varId))&&t.deleteVariable(e):t.createVariable(this.varName,this.varType,this.varId)}};a(Ht.EVENT,mt.VAR_DELETE,Q5);var e6=class extends p4{constructor(e,t){super(e),this.type=mt.VAR_RENAME,e&&(this.oldName=e.getName(),this.newName=typeof t>"u"?"":t)}toJson(){const e=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new e6),t.oldName=e.oldName,t.newName=e.newName,t}run(e){var t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");t=t.getVariableMap();const s=t.getVariableById(this.varId);e?s&&t.renameVariable(s,this.newName):s&&t.renameVariable(s,this.oldName)}};a(Ht.EVENT,mt.VAR_RENAME,e6);var N7=class{constructor(e,t=!1){this.workspace=e,this.potentialMap=t,this.variableMap=new Map}clear(){for(const e of this.variableMap.values())for(const t of e.values())this.deleteVariable(t);if(this.variableMap.size!==0)throw Error("Non-empty variable map")}renameVariable(e,t){if(e.getName()===t)return e;var s=e.getType();s=this.getVariable(t,s);const u=this.workspace.getAllBlocks(!1);let v="";this.potentialMap||(v=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0);try{s&&s.getId()!==e.getId()?this.renameVariableWithConflict(e,t,s,u):this.renameVariableAndUses(e,t,u)}finally{this.potentialMap||n.setGroup$$module$build$src$core$events$utils(v)}return e}changeVariableType(e,t){const s=e.getType();if(s===t)return e;var u=this.variableMap.get(s);u?.delete(e.getId()),u?.size===0&&this.variableMap.delete(s),e.setType(t);let v;return u=(v=this.variableMap.get(t))!=null?v:new Map,u.set(e.getId(),e),this.variableMap.has(t)||this.variableMap.set(t,u),de(new(sn(mt.VAR_TYPE_CHANGE))(e,s,t)),e}renameVariableById(e,t){Vn("VariableMap.renameVariableById","v12","v13","VariableMap.renameVariable");const s=this.getVariableById(e);if(!s)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(s,t)}renameVariableAndUses(e,t,s){for(this.potentialMap||de(new(sn(mt.VAR_RENAME))(e,t)),e.setName(t),t=0;t<s.length;t++)s[t].updateVarName(e)}renameVariableWithConflict(e,t,s,u){const v=e.getType(),M=s.getName();for(t!==M&&this.renameVariableAndUses(s,t,u),t=0;t<u.length;t++)u[t].renameVarById(e.getId(),s.getId());this.potentialMap||de(new(sn(mt.VAR_DELETE))(e));let re;(re=this.variableMap.get(v))==null||re.delete(e.getId())}createVariable(e,t,s){var u=this.getVariable(e,t);if(u){if(s&&u.getId()!==s)throw Error('Variable "'+e+'" is already in use and its id is "'+u.getId()+'" which conflicts with the passed in id, "'+s+'".');return u}if(s&&this.getVariableById(s))throw Error('Variable id, "'+s+'", is already in use.');if(u=s||Ke(),t=t||"",s=I(Ht.VARIABLE_MODEL,this.workspace.options,!0),!s)throw Error("No variable model is registered.");u=new s(this.workspace,e,t,u);let v;return e=(v=this.variableMap.get(t))!=null?v:new Map,e.set(u.getId(),u),this.variableMap.has(t)||this.variableMap.set(t,e),this.potentialMap||de(new(sn(mt.VAR_CREATE))(u)),u}addVariable(e){const t=e.getType();this.variableMap.has(t)||this.variableMap.set(t,new Map);let s;(s=this.variableMap.get(t))==null||s.set(e.getId(),e)}deleteVariable(e){const t=Oi(this.workspace,e.getId());let s="";this.potentialMap||(s=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0);try{for(let v=0;v<t.length;v++)t[v].dispose(!0);const u=this.variableMap.get(e.getType());u&&u.has(e.getId())&&(u.delete(e.getId()),this.potentialMap||de(new(sn(mt.VAR_DELETE))(e)),u.size===0&&this.variableMap.delete(e.getType()))}finally{this.potentialMap||n.setGroup$$module$build$src$core$events$utils(s)}}deleteVariableById(e){Vn("VariableMap.deleteVariableById","v12","v13","Blockly.Variables.deleteVariable"),(e=this.getVariableById(e))&&n.deleteVariable$$module$build$src$core$variables(this.workspace,e)}getVariable(e,t){if(t=this.variableMap.get(t||""),!t)return null;let s;return(s=[...t.values()].find(u=>n.Names$$module$build$src$core$names.equals(u.getName(),e)))!=null?s:null}getVariableById(e){for(const t of this.variableMap.values())if(t.has(e)){let s;return(s=t.get(e))!=null?s:null}return null}getVariablesOfType(e){return(e=this.variableMap.get(e||""))?[...e.values()]:[]}getTypes(){return[...this.variableMap.keys()]}getAllVariables(){let e=[];for(const t of this.variableMap.values())e=e.concat(...t.values());return e}getAllVariableNames(){Vn("VariableMap.getAllVariableNames","v12","v13","Blockly.Variables.getAllVariables");const e=[];for(const t of this.variableMap.values())for(const s of t.values())e.push(s.getName());return e}getVariableUsesById(e){return Vn("VariableMap.getVariableUsesById","v12","v13","Blockly.Variables.getVariableUsesById"),Oi(this.workspace,e)}};a(Ht.VARIABLE_MAP,gl,N7);var t6=class extends yi{constructor(e,t){super(t),this.type=mt.TRASHCAN_OPEN,this.isOpen=e}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new t6),t.isOpen=e.isOpen,t}};a(Ht.EVENT,mt.TRASHCAN_OPEN,t6);var M7=class extends B1{constructor(e){super(),this.workspace=e,this.id="trashcan",this.contents=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness=0,this.lidTask=this.svgLid=this.svgGroup=null,this.top=this.left=this.lidOpen=0,this.initialized=!1,this.workspace.options.maxTrashcanContents<=0||(e=this.workspace.copyOptionsForFlyout(),this.workspace.horizontalLayout?(e.toolboxPosition=this.workspace.toolboxPosition===xr.TOP?xr.BOTTOM:xr.TOP,this.flyout=new(I(Ht.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(e)):(e.toolboxPosition=this.workspace.toolboxPosition===xr.RIGHT?xr.LEFT:xr.RIGHT,this.flyout=new(I(Ht.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(e)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){this.svgGroup=ct(ft.G,{class:"blocklyTrash"});let e;const t=String(Math.random()).substring(2);e=ct(ft.CLIPPATH,{id:"blocklyTrashBodyClipPath"+t},this.svgGroup),ct(ft.RECT,{width:m4,height:X3,y:g4},e);const s=ct(ft.IMAGE,{width:Ko.width,x:-n6,height:Ko.height,y:-r6,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup);return s.setAttributeNS(sl,"xlink:href",this.workspace.options.pathToMedia+Ko.url),e=ct(ft.CLIPPATH,{id:"blocklyTrashLidClipPath"+t},this.svgGroup),ct(ft.RECT,{width:m4,height:g4},e),this.svgLid=ct(ft.IMAGE,{width:Ko.width,x:-n6,height:Ko.height,y:-r6,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup),this.svgLid.setAttributeNS(sl,"xlink:href",this.workspace.options.pathToMedia+Ko.url),we(this.svgGroup,"pointerdown",this,this.blockMouseDownWhenOpenable),we(this.svgGroup,"pointerup",this,this.click),we(s,"pointerover",this,this.mouseOver),we(s,"pointerout",this,this.mouseOut),this.animateLid(),this.svgGroup}init(){if(this.workspace.options.maxTrashcanContents>0){const e=this.flyout.createDom(ft.SVG);rn(e,"blocklyTrashcanFlyout"),$i(e,this.workspace.getParentSvg()),this.flyout.init(this.workspace)}this.workspace.getComponentManager().addComponent({component:this,weight:ki.ComponentWeight.TRASHCAN_WEIGHT,capabilities:[ki.Capability.AUTOHIDEABLE,ki.Capability.DELETE_AREA,ki.Capability.DRAG_TARGET,ki.Capability.POSITIONABLE]}),this.initialized=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup&&un(this.svgGroup),this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var e=this.contents.map(function(s){return JSON.parse(s)}),t=this.workspace.getParentSvg().style;t.cursor="wait",setTimeout(()=>{let s;(s=this.flyout)==null||s.show(e),t.cursor="";let u;(u=this.workspace.scrollbar)==null||u.setVisible(!1)},10),this.fireUiEvent(!0)}}closeFlyout(){if(this.contentsIsOpen()){var e;(e=this.flyout)==null||e.hide();var t;(t=this.workspace.scrollbar)==null||t.setVisible(!0),this.fireUiEvent(!1),this.workspace.recordDragTargets()}}autoHide(e){!e&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(e,t){if(this.initialized){var s=Rs(this.workspace,e);e=kr(s,new Sr(m4,X3+g4),m$,O7,e,this.workspace),t=ui(e,O7,s.vertical===qs.TOP?Ga.DOWN:Ga.UP,t),this.top=t.top,this.left=t.left;var u;(u=this.svgGroup)==null||u.setAttribute("transform","translate("+this.left+","+this.top+")");var v;(v=this.flyout)==null||v.position()}}getBoundingRectangle(){return new Tr(this.top,this.top+X3+g4,this.left,this.left+m4)}getClientRect(){if(!this.svgGroup)return null;var e=this.svgGroup.getBoundingClientRect();const t=e.top+r6-j3;return e=e.left+n6-j3,new Tr(t,t+g4+X3+2*j3,e,e+m4+2*j3)}onDragOver(e){this.setLidOpen(this.wouldDelete_)}onDragExit(e){this.setLidOpen(!1)}onDrop(e){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(e){this.isLidOpen!==e&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=e,this.animateLid())}animateLid(){const e=b$;var t=1/(e+1);this.lidOpen+=this.isLidOpen?t:-t,this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1),this.setLidAngle(this.lidOpen*L7),t=R7+this.lidOpen*(v$-R7),this.svgGroup&&(this.svgGroup.style.opacity=`${t}`),this.lidOpen>this.minOpenness&&this.lidOpen<1&&(this.lidTask=setTimeout(this.animateLid.bind(this),$$/e))}setLidAngle(e){const t=this.workspace.toolboxPosition===xr.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let s;(s=this.svgLid)==null||s.setAttribute("transform","rotate("+(t?-e:e)+","+(t?4:m4-4)+","+(g4-2)+")")}setMinOpenness(e){this.minOpenness=e,this.isLidOpen||this.setLidAngle(e*L7)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}fireUiEvent(e){e=new(sn(mt.TRASHCAN_OPEN))(e,this.workspace.id),de(e)}blockMouseDownWhenOpenable(e){!this.contentsIsOpen()&&this.hasContents()&&e.stopPropagation()}mouseOver(){this.hasContents()&&this.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(e){if(!(this.workspace.options.maxTrashcanContents<=0||!Ve(e)||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson(e.oldJson)),!this.contents.includes(e)){for(this.contents.unshift(e);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(g$)}}}cleanBlockJson(e){function t(s){if(s){if(delete s.id,delete s.x,delete s.y,delete s.enabled,delete s.disabledReasons,s.icons&&s.icons.comment){var u=s.icons.comment;delete u.height,delete u.width,delete u.pinned}u=s.inputs;for(var v in u){var M=u[v];const re=M.block;M=M.shadow,re&&t(re),M&&t(M)}s.next&&(v=s.next,s=v.block,v=v.shadow,s&&t(s),v&&t(v))}}return e=JSON.parse(JSON.stringify(e)),t(e),Object.assign({},{kind:"BLOCK"},e)}},m4=47,X3=44,g4=16,O7=20,m$=20,j3=10,n6=0,r6=32,g$=.1,$$=80,b$=4,R7=.4,v$=.8,L7=45,F2=null,U2=null,Y3=void 0,tu={};tu.BlockPaster=Bc,tu.copy=sd,tu.getLastCopiedData=vs,tu.getLastCopiedLocation=ld,tu.getLastCopiedWorkspace=s1,tu.paste=na,tu.registry=_c,tu.setLastCopiedData=od,tu.setLastCopiedLocation=T3,tu.setLastCopiedWorkspace=N4;var q1={};q1.CollapseCommentBarButton=t4,q1.CommentBarButton=Ph,q1.CommentEditor=n4,q1.CommentView=Ac,q1.DeleteCommentBarButton=L3,q1.RenderedWorkspaceComment=c0,q1.WorkspaceComment=O1;var Bu;(function(e){e.ESCAPE="escape",e.DELETE="delete",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.UNDO="undo",e.REDO="redo"})(Bu||(Bu={})),fh();var Pu={};Pu.names=Bu,Pu.registerCopy=o1,Pu.registerCut=hh,Pu.registerDefaultShortcuts=fh,Pu.registerDelete=Bs,Pu.registerEscape=Po,Pu.registerPaste=A0,Pu.registerRedo=dh,Pu.registerUndo=l1;var T$=class{constructor(e,t){this.procedureModelClass=e,this.parameterModelClass=t,this.priority=ha}save(e){return e=e.getProcedureMap().getProcedures().map(t=>ad(t)),e.length?e:null}load(e,t){const s=t.getProcedureMap();for(const u of e)s.add(ud(this.procedureModelClass,this.parameterModelClass,u,t))}clear(e){e.getProcedureMap().clear()}},K3={};K3.ProcedureSerializer=T$,K3.loadProcedure=ud,K3.saveProcedure=ad;var D7=class{constructor(){this.priority=Tu}save(e){return e=e.getAllVariables().map(t=>t.save()),e.length?e:null}load(e,t){const s=E(Ht.VARIABLE_MODEL,gl);e.forEach(u=>{s?.load(u,t)})}clear(e){e.getVariableMap().clear()}};Or("variables",new D7);var B7={};B7.VariableSerializer=D7;var i6={};i6.load=O4,i6.save=M4;var y$={blocks:wc,exceptions:yl,priorities:O0,procedures:K3,registry:Pd,variables:B7,workspaceComments:yu,workspaces:i6};"Blockly"in globalThis||(globalThis.Blockly={Msg:zd});var s6="label",P7=class{load(e,t){return e=new Oo(t.getWorkspace(),t.targetWorkspace,e,!0),e.show(),new P1(e,s6)}gapForItem(e,t){return t}disposeItem(e){e=e.getElement(),e instanceof Oo&&e.dispose()}getType(){return s6}};a(Ht.FLYOUT_INFLATER,s6,P7);var F7=class extends gt{constructor(e){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null,e&&(this.GRID_UNIT=e),this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=6*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=8*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(e){super.setFontConstants_(e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+this.FIELD_BORDER_RECT_Y_PADDING*2}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(e){super.setDynamicProperties_(e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const t=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=t&&!isNaN(t)?t:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter&&un(this.selectedGlowFilter),this.replacementGlowFilter&&un(this.replacementGlowFilter)}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,s=rl("c",[Un(25,-e),Un(71,-e),Un(t,0)]);return{height:e*.75,width:t,path:s}}makeHexagonal(){function e(s,u,v){var M=s/2;return M=M>t?t:M,v=v?-1:1,s=(u?-1:1)*s/2,pl(-v*M,s)+pl(v*M,s)}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(s){return s/=2,s>t?t:s},height(s){return s},connectionOffsetY(s){return s/2},connectionOffsetX(s){return-s},pathDown(s){return e(s,!1,!1)},pathUp(s){return e(s,!0,!1)},pathRightDown(s){return e(s,!1,!0)},pathRightUp(s){return e(s,!1,!0)}}}makeRounded(){function e(u,v,M){const re=u>s?u-s:0;u=(u>s?s:u)/2;const Re=M===v?"0":"1";return b("a","0 0,"+Re,u,Un((M?1:-1)*u,(v?-1:1)*u))+f("v",(v?-1:1)*re)+b("a","0 0,"+Re,u,Un((M?-1:1)*u,(v?-1:1)*u))}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,s=t*2;return{type:this.SHAPES.ROUND,isDynamic:!0,width(u){return u/=2,u>t?t:u},height(u){return u},connectionOffsetY(u){return u/2},connectionOffsetX(u){return-u},pathDown(u){return e(u,!1,!1)},pathUp(u){return e(u,!0,!1)},pathRightDown(u){return e(u,!1,!0)},pathRightUp(u){return e(u,!1,!0)}}}makeSquared(){function e(s,u,v){s-=t*2;const M=v===u?"0":"1";return b("a","0 0,"+M,t,Un((v?1:-1)*t,(u?-1:1)*t))+f("v",(u?-1:1)*s)+b("a","0 0,"+M,t,Un((v?-1:1)*t,(u?-1:1)*t))}const t=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(s){return t},height(s){return s},connectionOffsetY(s){return s/2},connectionOffsetX(s){return-s},pathDown(s){return e(s,!1,!1)},pathUp(s){return e(s,!0,!1)},pathRightDown(s){return e(s,!1,!0)},pathRightUp(s){return e(s,!1,!0)}}}shapeFor(e){let t=e.getCheck();switch(!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),e.type){case xn.INPUT_VALUE:case xn.OUTPUT_VALUE:if(e=e.getSourceBlock().getOutputShape(),e!==null)switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return t&&t.includes("Boolean")?this.HEXAGONAL:t&&t.includes("Number")?this.ROUNDED:(t&&t.includes("String"),this.ROUNDED);case xn.PREVIOUS_STATEMENT:case xn.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function e(Wn){return rl("c",[Un(Wn*v/2,0),Un(Wn*v*3/4,re/2),Un(Wn*v,re)])+g([Un(Wn*v,M)])+rl("c",[Un(Wn*v/4,re/2),Un(Wn*v/2,re),Un(Wn*v,re)])+f("h",Wn*u)+rl("c",[Un(Wn*v/2,0),Un(Wn*v*3/4,-(re/2)),Un(Wn*v,-re)])+g([Un(Wn*v,-M)])+rl("c",[Un(Wn*v/4,-(re/2)),Un(Wn*v/2,-re),Un(Wn*v,-re)])}const t=this.NOTCH_WIDTH,s=this.NOTCH_HEIGHT,u=t/3,v=u/3,M=s/2,re=M/2,Re=e(1),Ut=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:s,pathLeft:Re,pathRight:Ut}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=b("a","0 0,0",e,Un(-e,e)),s=b("a","0 0,1",e,Un(-e,e)),u=b("a","0 0,0",e,Un(e,e)),v=b("a","0 0,1",e,Un(e,e));return{width:e,height:e,pathTop:t,pathBottom:u,rightWidth:e,rightHeight:e,pathTopRight:s,pathBottomRight:v}}generateSecondaryColour_(e){return so("#000",e,.15)||e}generateTertiaryColour_(e){return so("#000",e,.25)||e}createDom(e,t,s,u){super.createDom(e,t,s,u),e=ct(ft.DEFS,{},e),t=ct(ft.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),ct(ft.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},t),s=ct(ft.FECOMPONENTTRANSFER,{result:"outBlur"},t),ct(ft.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},s),ct(ft.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),ct(ft.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.selectedGlowFilterId=t.id,this.selectedGlowFilter=t,e=ct(ft.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),ct(ft.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),t=ct(ft.FECOMPONENTTRANSFER,{result:"outBlur"},e),ct(ft.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),ct(ft.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),ct(ft.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),ct(ft.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter=e,u&&(u.style.setProperty("--blocklySelectedGlowFilter",`url(#${this.selectedGlowFilterId})`),u.style.setProperty("--blocklyReplacementGlowFilter",`url(#${this.replacementGlowFilterId})`))}getCSS_(e){return[`${e} .blocklyText,`,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyTextInputBubble textarea {`,"font-weight: normal;","}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableField>rect:not(.blocklyDropdownRect),`,`${e} .blocklyEditableField>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",`${e} .blocklyNonEditableField>text,`,`${e} .blocklyEditableField>text,`,`${e} .blocklyNonEditableField>g>text,`,`${e} .blocklyEditableField>g>text {`,"fill: #575E75;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #575E75;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #575E75;","}",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableField:not(.blocklyEditing):hover>rect,",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableField:not(.blocklyEditing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",`${e} .blocklyDropdownText {`,"fill: #fff !important;","}",`${e}.blocklyWidgetDiv .blocklyMenuItem,`,`${e}.blocklyDropDownDiv .blocklyMenuItem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e}.blocklyDropDownDiv .blocklyMenuItemContent {`,"color: #fff;","}",`${e} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",`${e} .blocklyDisabledPattern > .blocklyOutlinePath {`,"fill: var(--blocklyDisabledPattern)","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}",`${e} .blocklySelected>.blocklyPath.blocklyPathSelected {`,"fill: none;","filter: var(--blocklySelectedGlowFilter);","}",`${e} .blocklyReplaceable>.blocklyPath {`,"filter: var(--blocklyReplacementGlowFilter);","}"]}},U7=class extends Gt{constructor(e,t){super(e,t)}draw(){const e=this.block_.pathObject;e.beginDrawing(),this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),e.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(e){if(!(e.height<=0)){if(Je.isSpacer(e)){const u=e.precedesStatement;var t=e.followsStatement;if(u||t){const v=this.constants_.INSIDE_CORNERS;var s=v.rightHeight;s=e.height-(u?s:0),t=t?v.pathBottomRight:"",e=s>0?f("V",e.yPos+s):"",this.outlinePath_+=t+e+(u?v.pathTopRight:"");return}}this.outlinePath_+=f("V",e.yPos+e.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){const e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=Li(e.xPos,this.info_.startY),this.outlinePath_+=f("h",e.width)}drawFlatBottom_(){const e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=f("V",e.baseline),this.outlinePath_+=f("h",-e.width)}drawInlineInput_(e){this.positionInlineInputConnection_(e);const t=e.input.name;e.connectedBlock||this.info_.isInsertionMarker||(e=oo(e.xPos+e.connectionWidth,e.centerline-e.height/2)+this.getInlineInputPath(e),this.block_.pathObject.setOutlinePath(t,e))}getInlineInputPath(e){const t=e.width-e.connectionWidth*2,s=e.height;return f("h",t)+e.shape.pathRightDown(s)+f("h",-t)+e.shape.pathUp(s)+"z"}drawStatementInput_(e){var t=e.getLastInput();const s=t.xPos+t.notchOffset+t.shape.width,u=this.constants_.INSIDE_CORNERS,v=t.shape.pathRight+f("h",-(t.notchOffset-u.width))+u.pathTop,M=e.height-2*u.height;t=u.pathBottom+f("h",t.notchOffset-u.width)+(t.connectedBottomNextConnection?"":t.shape.pathLeft),this.outlinePath_+=f("H",s)+v+f("v",M)+t+f("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}drawConnectionHighlightPath(e){const t=e.connectionModel;if(t.type===xn.NEXT_STATEMENT||t.type===xn.PREVIOUS_STATEMENT||t.type===xn.OUTPUT_VALUE&&!e.isDynamicShape)return super.drawConnectionHighlightPath(e);e=t.type===xn.INPUT_VALUE?oo(e.connectionWidth,-e.height/2)+this.getInlineInputPath(e):oo(e.width,-e.height/2)+e.shape.pathDown(e.height);const s=t.getSourceBlock();let u,v;return(v=(u=s.pathObject).addConnectionHighlight)==null?void 0:v.call(u,t,e,t.getOffsetInBlock(),s.RTL)}},Xh=class extends Pi{constructor(e,t,s,u,v,M,re){if(super(Pi.SKIP_SETUP),this.imageElement=this.clickHandler=null,this.flipRtl=this.isDirty_=this.EDITABLE=!1,this.altText="",s=Number(cr(s)),t=Number(cr(t)),isNaN(s)||isNaN(t))throw Error("Height and width values of an image field must cast to numbers.");if(s<=0||t<=0)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new Sr(t,s+Xh.Y_PADDING),this.imageHeight=s,typeof v=="function"&&(this.clickHandler=v),e!==Pi.SKIP_SETUP&&(re?this.configure_(re):(this.flipRtl=!!M,this.altText=cr(u)||""),this.setValue(cr(e)))}configure_(e){super.configure_(e),e.flipRtl&&(this.flipRtl=e.flipRtl),e.alt&&(this.altText=cr(e.alt))}initView(){this.imageElement=ct(ft.IMAGE,{height:this.imageHeight+"px",width:this.size_.width+"px",alt:this.altText},this.fieldGroup_),this.imageElement.setAttributeNS(sl,"xlink:href",this.value_),this.fieldGroup_&&rn(this.fieldGroup_,"blocklyImageField"),this.clickHandler&&(this.imageElement.style.cursor="pointer")}updateSize_(){}doClassValidation_(e){return typeof e!="string"?null:e}doValueUpdate_(e){this.value_=e,this.imageElement&&this.imageElement.setAttributeNS(sl,"xlink:href",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(e){e!==this.altText&&(this.altText=e||"",this.imageElement&&this.imageElement.setAttribute("alt",this.altText))}isClickable(){return super.isClickable()&&!!this.clickHandler}showEditor_(){this.clickHandler&&this.clickHandler(this)}setOnClickHandler(e){this.clickHandler=e}getText_(){return this.altText}static fromJson(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}};Xh.Y_PADDING=1,tl("field_image",Xh),Xh.prototype.DEFAULT_VALUE="";var J3=14,$4=class extends Pi{set size_(e){super.size_=e}get size_(){const e=super.size_;return e.width<J3&&(e.width=J3),e}constructor(e,t,s){super(Pi.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onInputWrapper=this.onKeyDownWrapper=this.valueWhenEditorWasOpened_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,e!==Pi.SKIP_SETUP&&(s&&this.configure_(s),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.spellcheck!==void 0&&(this.spellcheck_=e.spellcheck)}initView(){if(!this.getSourceBlock())throw new Xs;super.initView(),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot()),this.fieldGroup_&&rn(this.fieldGroup_,"blocklyInputField")}isFullBlockField(){const e=this.getSourceBlock();if(!e)throw new Xs;let t;return this.fullBlockClickTarget_=!((t=this.getConstants())==null||!t.FULL_BLOCK_FIELDS)&&e.isSimpleReporter()}doValueInvalid_(e,t=!0){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.valueWhenEditorWasOpened_,this.sourceBlock_&&Qt()&&this.value_!==e&&t&&de(new(sn(mt.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}doValueUpdate_(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}applyColour(){const e=this.getSourceBlock();if(!e)throw new Xs;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?(this.borderRect_.style.display="block",this.borderRect_.setAttribute("stroke",e.getColourTertiary())):(this.borderRect_.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}getSize(){let e;return(e=this.getConstants())!=null&&e.FULL_BLOCK_FIELDS&&(this.render_(),this.isDirty_=!1),super.getSize()}onLocationChange(){this.isBeingEdited_&&this.resizeEditor_()}render_(){if(super.render_(),this.isBeingEdited_){var e=this.htmlInput_;this.isTextValid_?(Zn(e,"blocklyInvalidInput"),Wr(e,_s.INVALID,!1)):(rn(e,"blocklyInvalidInput"),Wr(e,_s.INVALID,!0))}if(e=this.getSourceBlock(),!e)throw new Xs;this.getConstants().FULL_BLOCK_FIELDS&&e.applyColour()}setSpellcheck(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(e,t=!1,s=!0){this.workspace_=this.sourceBlock_.workspace,!t&&this.workspace_.options.modalInputs&&(x3||Id||g1)?this.showPromptEditor():this.showInlineEditor(t,s)}showPromptEditor(){gn(n.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,this.getText(),e=>{e!==null&&this.setValue(this.getValueFromEditorText_(e)),this.onFinishEditing_(this.value_)})}showInlineEditor(e,t){const s=this.getSourceBlock();if(!s)throw new Xs;y0(this,s.RTL,this.widgetDispose_.bind(this),this.workspace_,t),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,this.valueWhenEditorWasOpened_=this.value_,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var e=this.getSourceBlock();if(!e)throw new Xs;n.setGroup$$module$build$src$core$events$utils(!0);const t=bo();var s=this.getClickTarget_();if(!s)throw Error("A click target has not been set.");rn(s,"blocklyEditing"),s=document.createElement("input"),s.className="blocklyHtmlInput",s.setAttribute("spellcheck",this.spellcheck_);const u=this.workspace_.getAbsoluteScale();var v=this.getConstants().FIELD_TEXT_FONTSIZE*u+"pt";return t.style.fontSize=v,s.style.fontSize=v,v=$4.BORDERRADIUS*u+"px",this.isFullBlockField()&&(v=this.getScaledBBox(),v=(v.bottom-v.top)/2+"px",e=e.getParent()?e.getParent().getColourTertiary():this.sourceBlock_.getColourTertiary(),s.style.border=1*u+"px solid "+e,t.style.borderRadius=v,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*u+"px")),s.style.borderRadius=v,t.appendChild(s),s.value=s.defaultValue=this.getEditorText_(this.value_),s.setAttribute("data-untyped-default-value",String(this.value_)),this.resizeEditor_(),this.bindInputEvents_(s),s}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),this.sourceBlock_&&Qt()&&this.valueWhenEditorWasOpened_!==null&&this.valueWhenEditorWasOpened_!==this.value_&&(de(new(sn(mt.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null),n.setGroup$$module$build$src$core$events$utils(!1),this.unbindInputEvents_();var e=bo().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,e=this.getClickTarget_(),!e)throw Error("A click target has not been set.");Zn(e,"blocklyEditing")}onFinishEditing_(e){}bindInputEvents_(e){this.onKeyDownWrapper=se(e,"keydown",this,this.onHtmlInputKeyDown_),this.onInputWrapper=se(e,"input",this,this.onHtmlInputChange)}unbindInputEvents_(){this.onKeyDownWrapper&&(Oe(this.onKeyDownWrapper),this.onKeyDownWrapper=null),this.onInputWrapper&&(Oe(this.onInputWrapper),this.onInputWrapper=null)}onHtmlInputKeyDown_(e){if(e.key==="Enter")Fl(this),Ue();else if(e.key==="Escape")this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value"),!1),Fl(this),Ue();else if(e.key==="Tab"){e.preventDefault();var t,s=(t=this.workspace_)==null?void 0:t.getCursor();t=u=>(u instanceof $4||u instanceof Qi&&u.isSimpleReporter())&&u!==this.getSourceBlock(),e=e.shiftKey?s?.getPreviousNode(this,t,!1):s?.getNextNode(this,t,!1),e=e instanceof Qi&&e.isSimpleReporter()?e.getFields().next().value:e,e instanceof $4&&(Fl(this),Ue(),s=e.getSourceBlock(),e.isFullBlockField()&&s&&s instanceof Qi?n.getFocusManager$$module$build$src$core$focus_manager().focusNode(s):n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e),e.showEditor())}}onHtmlInputChange(e){e=this.value_,this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1),this.sourceBlock_&&Qt()&&this.value_!==e&&de(new(sn(mt.BLOCK_FIELD_INTERMEDIATE_CHANGE))(this.sourceBlock_,this.name||null,e,this.value_))}setEditorValue_(e,t=!0){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e,t)}resizeEditor_(){Qn().then(()=>{const e=this.getSourceBlock();if(!e)throw new Xs;const t=bo(),s=this.getScaledBBox();t.style.width=s.right-s.left+"px",t.style.height=s.bottom-s.top+"px";const u=s.top;t.style.left=`${e.RTL?s.right-t.offsetWidth:s.left}px`,t.style.top=`${u}px`})}repositionForWindowResize(){let e;const t=(e=this.getSourceBlock())==null?void 0:e.getRootBlock();return t instanceof Qi?(vr(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),t)||this.resizeEditor_(),!0):!1}positionTextElement_(e,t){const s=e*2+t;super.positionTextElement_(e+(s<J3?(J3-s)/2:0),t)}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(e){return`${e}`}getValueFromEditorText_(e){return e}};$4.BORDERRADIUS=4,n.FieldTextInput$$module$build$src$core$field_textinput=class extends $4{constructor(e,t,s){super(e,t,s)}initView(){super.initView(),this.fieldGroup_&&rn(this.fieldGroup_,"blocklyTextInputField")}doClassValidation_(e){return e===void 0?null:`${e}`}static fromJson(e){return new this(cr(e.text),void 0,e)}},tl("field_input",n.FieldTextInput$$module$build$src$core$field_textinput),n.FieldTextInput$$module$build$src$core$field_textinput.prototype.DEFAULT_VALUE="",n.FieldTextInput$$module$build$src$core$field_textinput;var z7=class extends i{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){return!!e.outputConnection}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},Z3=class extends ut{constructor(e,t){if(super(e,t),this.connectedBottomNextConnection=!1,this.connectedBlock){for(e=this.connectedBlock;t=e.getNextBlock();)e=t;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},H7=class extends Ta{constructor(e){super(e),this.width=this.height=0,this.type|=Je.getType("RIGHT_CONNECTION")}},V7=class extends et{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){const t=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},G7=class extends Jn{constructor(e,t){super(e,t),this.isInline=!0,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.topRow=new V7(this.constants_),this.bottomRow=new z7(this.constants_),this.isMultiRow=!t.getInputsInline()||t.isCollapsed(),this.hasStatementInput=t.statementInputCount>0,this.rightSide=this.outputConnection?new H7(this.constants_):null,this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(e,t){return t?t instanceof Yl||e instanceof xl||t instanceof xl?!0:e instanceof n.ValueInput$$module$build$src$core$inputs$value_input||e instanceof ll||e instanceof Yl?!this.isInline||this.isMultiRow:!1:!1}getDesiredRowWidth_(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(e)}getInRowSpacing_(e,t){return e&&t||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&t&&Je.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&Je.isLeftRoundedCorner(e)&&t&&(Je.isPreviousConnection(t)||Je.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&Je.isLeftSquareCorner(e)&&t&&Je.isHat(t)||e&&Je.isField(e)&&e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(e,t){if(Je.isTopRow(e)&&Je.isBottomRow(t))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;const s=Je.isInputRow(e)&&e.hasStatement,u=Je.isInputRow(t)&&t.hasStatement;return u||s?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),u&&s?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):Je.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):Je.isBottomRow(t)?this.outputConnection?!t.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(e,t){const s=this.width-this.startX;return Je.isInputRow(e)&&e.hasStatement||Je.isInputRow(t)&&t.hasStatement?Math.max(s,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):s}getElemCenterline_(e,t){if(e.hasStatement&&!Je.isSpacer(t)&&!Je.isStatementInput(t))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(Je.isInlineInput(t)){const s=t.connectedBlock;if(s&&s.outputConnection&&s.nextConnection)return e.yPos+s.height/2}return super.getElemCenterline_(e,t)}addInput_(e,t){if((e instanceof ll||e instanceof Yl)&&t.hasDummyInput&&t.align===n.Align$$module$build$src$core$inputs$align.LEFT&&e.align===n.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(t,e);else if(e instanceof xl){t.elements.push(new Z3(this.constants_,e)),t.hasStatement=!0,t.align===null&&(t.align=e.align);return}super.addInput_(e,t)}addAlignmentPadding_(e,t){if(this.rightAlignedDummyInputs.get(e)){let s;for(let u=0;u<e.elements.length;u++){const v=e.elements[u];if(Je.isSpacer(v)&&(s=v),Je.isField(v)&&v.parentInput===this.rightAlignedDummyInputs.get(e))break}if(s){s.width+=t,e.width+=t;return}}super.addAlignmentPadding_(e,t)}adjustXPosition_(){const e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let t=e;for(let v=2;v<this.rows.length-1;v+=2){var s=this.rows[v-1];const M=this.rows[v];var u=this.rows[v+1];if(s=v===2?!!this.topRow.hasPreviousConnection:!!s.followsStatement,u=v+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!u.precedesStatement,Je.isInputRow(M)&&M.hasStatement){M.measure();let re,Re;t=M.width-((Re=(re=M.getLastInput())==null?void 0:re.width)!=null?Re:0)+e}else if(s&&(v===2||u)&&Je.isInputRow(M)&&!M.hasStatement){u=M.xPos,s=null;for(let re=0;re<M.elements.length;re++){const Re=M.elements[re];Je.isSpacer(Re)&&(s=Re),!(s&&(Je.isField(Re)||Je.isInput(Re))&&u<t)||Je.isField(Re)&&(Re.field instanceof Rc||Re.field instanceof Xh)||(s.width+=t-u),u+=Re.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var t=0,s=0;s<this.rows.length;s++){const u=this.rows[s];u.yPos=t,t+=u.height}this.height=t,s=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,t=e.height(s),s=e.width(s),this.outputConnection.height=t,this.outputConnection.width=s,this.outputConnection.startX=s,this.outputConnection.connectionOffsetY=e.connectionOffsetY(t),this.outputConnection.connectionOffsetX=e.connectionOffsetX(s),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=s,this.rightSide.height=t,this.rightSide.width=e,this.rightSide.centerline=t/2,this.rightSide.xPos=this.width+e),this.startX=s,this.width+=s+e,this.widthWithChildren+=s+e}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,t=0;t<this.rows.length;t++){var s=this.rows[t];if(!Je.isInputRow(s))continue;e=s.elements[s.elements.length-2];let u=this.getNegativeSpacing_(s.elements[1]),v=this.getNegativeSpacing_(e);e=u+v;const M=this.constants_.MIN_BLOCK_WIDTH+this.outputConnection.width*2;this.width-e<M&&(e=this.width-M,u=e/2,v=e/2),s.elements.unshift(new $e(this.constants_,-u)),s.elements.push(new $e(this.constants_,-v))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,t=0;t<this.rows.length;t++)s=this.rows[t],Je.isTopOrBottomRow(s)&&(s.elements[1].width-=e),s.width-=e,s.widthWithConnectedBlocks-=e}}getNegativeSpacing_(e){if(!e||!this.outputConnection)return 0;const t=this.outputConnection.width;var s=this.outputConnection.shape.type;const u=this.constants_;if(this.inputRows.length>1)switch(s){case u.SHAPES.ROUND:return s=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,s=this.height/2>s?s:this.height/2,t-s*(1-Math.sin(Math.acos((s-this.constants_.SMALL_PADDING)/s)));default:return 0}if(Je.isInlineInput(e)){const v=e.connectedBlock;return e=v?v.pathObject.outputShapeType:e.shape.type,e==null||v&&v.outputConnection&&(v.statementInputCount||v.nextConnection)||s===u.SHAPES.HEXAGONAL&&s!==e?0:t-this.constants_.SHAPE_IN_SHAPE_PADDING[s][e]}return Je.isField(e)?s===u.SHAPES.ROUND&&e.field instanceof n.FieldTextInput$$module$build$src$core$field_textinput?t-2.75*u.GRID_UNIT:t-this.constants_.SHAPE_IN_SHAPE_PADDING[s][0]:Je.isIcon(e)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let u=2;u<this.rows.length-1;u+=2){const v=this.rows[u-1],M=this.rows[u],re=this.rows[u+1];var e=u===2,t=u+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!re.precedesStatement;if(e?this.topRow.hasPreviousConnection:v.followsStatement){var s=M.elements[1];if(s=M.elements.length===3&&s instanceof S&&(s.field instanceof Rc||s.field instanceof Xh),!e&&s)v.height-=this.constants_.SMALL_PADDING,re.height-=this.constants_.SMALL_PADDING,M.height-=this.constants_.MEDIUM_PADDING;else if(!e&&!t)v.height+=this.constants_.SMALL_PADDING;else if(t){for(e=!1,t=0;t<M.elements.length;t++)if(s=M.elements[t],Je.isInlineInput(s)&&s.connectedBlock&&!s.connectedBlock.isShadow()&&s.connectedBlock.getHeightWidth().height>=40){e=!0;break}e&&(v.height-=this.constants_.SMALL_PADDING,re.height-=this.constants_.SMALL_PADDING)}}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},W7=class extends mi{constructor(e,t,s){super(e,t,s),this.svgPathSelected=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=s}setPath(e){super.setPath(e),this.svgPathSelected&&this.svgPathSelected.setAttribute("d",e)}applyColour(e){super.applyColour(e);const t=e.getParent();e.isShadow()&&t&&this.svgPath.setAttribute("stroke",t.getColourTertiary());for(const s of this.outlines.values())s.setAttribute("fill",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const e of this.outlines.values())e.setAttribute("transform","scale(-1 1)")}updateSelected(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.classList.add("blocklyPathSelected"),Zn(this.svgPathSelected,ko.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),Zn(this.svgPathSelected,ko.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME),this.svgPathSelected.removeAttribute("tabindex"),this.svgPathSelected.removeAttribute("id"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,t){e=e.getParentInput().name,(e=this.getOutlinePath(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}beginDrawing(){this.remainingOutlines.clear();for(const e of this.outlines.keys())this.remainingOutlines.add(e)}endDrawing(){if(this.remainingOutlines.size)for(const e of this.remainingOutlines)this.removeOutlinePath(e);this.remainingOutlines.clear()}setOutlinePath(e,t){e=this.getOutlinePath(e),e.setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)}getOutlinePath(e){return this.outlines.has(e)||this.outlines.set(e,ct(ft.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}removeOutlinePath(e){let t,s;(t=this.outlines.get(e))==null||(s=t.parentNode)==null||s.removeChild(this.outlines.get(e)),this.outlines.delete(e)}},o6=class extends zn{constructor(e){super(e)}makeConstants_(){return new F7}makeRenderInfo_(e){return new G7(this,e)}makeDrawer_(e,t){return new U7(e,t)}makePathObject(e,t){return new W7(e,t,this.getConstants())}getConstants(){return this.constants_}};Wl("zelos",o6);var q7=class{constructor(e){this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null,this.workspace=e.workspace}previewReplacement(e,t,s){n.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=s,s.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(t)&&(t.highlight(),this.staticConn=t)}finally{n.enable$$module$build$src$core$events$utils()}}previewConnection(e,t){if(e!==this.draggedConn||t!==this.staticConn){n.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(e,t)&&(this.markerConn=this.previewMarker(e,t)),this.workspace.getRenderer().shouldHighlightConnection(t)&&t.highlight(),this.draggedConn=e,this.staticConn=t}finally{n.enable$$module$build$src$core$events$utils()}}}shouldUseMarkerPreview(e,t){return t.type===xn.PREVIOUS_STATEMENT||t.type===xn.NEXT_STATEMENT||!(this.workspace.getRenderer()instanceof o6)}previewMarker(e,t){const s=e.getSourceBlock(),u=this.createInsertionMarker(s),v=this.getMatchingConnection(s,u,e);if(!v)return null;u.queueRender(),d(),v.connect(t);const M={x:t.x-v.x,y:t.y-v.y},re=v.getOffsetInBlock().clone();return Qn().then(()=>{if(!u.isDeadOrDying()){n.disable$$module$build$src$core$events$utils();try{u?.positionNearConnection(v,M,re),u?.getSvgRoot().setAttribute("visibility","visible")}finally{n.enable$$module$build$src$core$events$utils()}}}),v}serializeBlockToInsertionMarker(e){const t=ji(e,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!t)throw Error(`Failed to serialize source block. ${e.toDevString()}`);return t}createInsertionMarker(e){e=this.serializeBlockToInsertionMarker(e),e=Rl(e,this.workspace);for(const t of e.getDescendants(!1))t.setInsertionMarker(!0);return e.initSvg(),e.getSvgRoot().setAttribute("visibility","hidden"),e}getMatchingConnection(e,t,s){if(e=e.getConnections_(!0),t=t.getConnections_(!0),e.length!==t.length)return null;for(let u=0;u<e.length;u++)if(e[u]===s)return t[u];return null}hidePreview(){n.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{n.enable$$module$build$src$core$events$utils()}}hideInsertionMarker(e){const t=e.getSourceBlock(),s=t.outputConnection;let u;if((u=t.previousConnection)!=null&&u.targetConnection||s!=null&&s.targetConnection)t.unplug(!0);else{let v;(v=e.targetBlock())==null||v.unplug(!1)}t.dispose()}dispose(){this.hidePreview()}};a(Ht.CONNECTION_PREVIEWER,gl,q7);var X1={};X1.Align=n.Align$$module$build$src$core$inputs$align,X1.DummyInput=ll,X1.EndRowInput=Yl,X1.Input=Dc,X1.StatementInput=xl,X1.ValueInput=n.ValueInput$$module$build$src$core$inputs$value_input,X1.inputTypes=n.inputTypes$$module$build$src$core$inputs$input_types;var X7=!1,j7;n.CodeGenerator$$module$build$src$core$generator=class{constructor(e){this.forBlock=Object.create(null),this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=L());var t=[];this.init(e),e=e.getTopBlocks(!0);for(let s=0,u;u=e[s];s++){let v=this.blockToCode(u);Array.isArray(v)&&(v=v[0]),v&&(u.outputConnection&&(v=this.scrubNakedValue(v),this.STATEMENT_PREFIX&&!u.suppressPrefixSuffix&&(v=this.injectId(this.STATEMENT_PREFIX,u)+v),this.STATEMENT_SUFFIX&&!u.suppressPrefixSuffix&&(v+=this.injectId(this.STATEMENT_SUFFIX,u))),t.push(v))}return t=t.join(`
`),t=this.finish(t),t=t.replace(/^\s+\n/,""),t=t.replace(/\n\s+$/,`
`),t=t.replace(/[ \t]+\n/g,`
`)}prefixLines(e,t){return t+e.replace(/(?!\n$)\n/g,`
`+t)}allNestedComments(e){const t=[];e=e.getDescendants(!0);for(let s=0;s<e.length;s++){const u=e[s].getCommentText();u&&t.push(u)}return t.length&&t.push(""),t.join(`
`)}blockToCode(e,t){if(this.isInitialized===!1&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var s=this.forBlock[e.type];if(typeof s!="function")throw Error(`${this.name_} generator does not know how to generate code for block type "${e.type}".`);if(s=s.call(e,e,this),Array.isArray(s)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,s[0],t),s[1]]}if(typeof s=="string")return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(s=this.injectId(this.STATEMENT_PREFIX,e)+s),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(s+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,s,t);if(s===null)return"";throw SyntaxError("Invalid code generated: "+s)}valueToCode(e,t,s){if(isNaN(s))throw TypeError("Expecting valid order from block: "+e.type);var u=e.getInputTargetBlock(t);if(!u&&!e.getInput(t))throw ReferenceError(`Input "${t}" doesn't exist on "${e.type}"`);if(!u||(t=this.blockToCode(u),t===""))return"";if(!Array.isArray(t))throw TypeError(`Expecting tuple from value block: ${u.type} See developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information`);if(e=t[0],t=t[1],isNaN(t))throw TypeError("Expecting valid order from value block: "+u.type);if(!e)return"";u=!1;var v=Math.floor(s);const M=Math.floor(t);if(v<=M&&(v!==M||v!==0&&v!==99)){for(u=!0,v=0;v<this.ORDER_OVERRIDES.length;v++)if(this.ORDER_OVERRIDES[v][0]===s&&this.ORDER_OVERRIDES[v][1]===t){u=!1;break}}return u&&(e="("+e+")"),e}statementToCode(e,t){const s=e.getInputTargetBlock(t);if(!s&&!e.getInput(t))throw ReferenceError(`Input "${t}" doesn't exist on "${e.type}"`);if(e=this.blockToCode(s),typeof e!="string")throw TypeError("Expecting code from statement block: "+(s&&s.type));return e&&(e=this.prefixLines(e,this.INDENT)),e}addLoopTrap(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e}injectId(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")}addReservedWords(e){this.RESERVED_WORDS_+=e+","}provideFunction_(e,t){if(!this.definitions_[e]){const s=this.nameDB_.getDistinctName(e,n.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[e]=s,Array.isArray(t)&&(t=t.join(`
`)),t=t.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,s);let u;for(;u!==t;)u=t,t=t.replace(/^(( {2})*) {2}/gm,"$1\0");t=t.replace(/\0/g,this.INDENT),this.definitions_[e]=t}return this.functionNames_[e]}getVariableName(e){return this.getName(e,n.NameType$$module$build$src$core$names.VARIABLE)}getProcedureName(e){return this.getName(e,n.NameType$$module$build$src$core$names.PROCEDURE)}getName(e,t){if(!this.nameDB_)throw Error("Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.");return this.nameDB_.getName(e,t)}init(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(e,t,s){return t}finish(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}scrubNakedValue(e){return e}},j7={},j7.CodeGenerator=n.CodeGenerator$$module$build$src$core$generator;var l6=class extends Lu{constructor(e){super(e)}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),s=t.getScrollMetrics(),u=t.getViewMetrics();t=t.getAbsoluteMetrics(),typeof e.y=="number"&&(this.workspace_.scrollY=-(s.top+(s.height-u.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),s=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===xr.LEFT?e.width:s.width-this.getWidth():this.toolboxPosition_===xr.LEFT?0:s.width:this.toolboxPosition_===xr.LEFT?0:s.width+t.left-this.getWidth()}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height;var t=this.getWidth()-this.CORNER_RADIUS;this.setBackgroundPath(t,e.height-2*this.CORNER_RADIUS),e=this.getX(),t=this.getY(),this.positionAt_(this.getWidth(),this.getHeight(),e,t)}}setBackgroundPath(e,t){const s=this.toolboxPosition_===xr.RIGHT;var u=e+this.CORNER_RADIUS;u=["M "+(s?u:0)+",0"],u.push("h",s?-e:e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,s?0:1,s?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("v",Math.max(0,t)),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,s?0:1,s?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("h",s?e:-e),u.push("z"),this.svgBackground_.setAttribute("d",u.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setY(0)}wheel_(e){var t=at(e);if(t.y){const s=this.workspace_.getMetricsManager(),u=s.getScrollMetrics();t=s.getViewMetrics().top-u.top+t.y;let v;(v=this.workspace_.scrollbar)==null||v.setY(t),fl(this.workspace_),Ue()}e.preventDefault(),e.stopPropagation()}layout_(e){this.workspace_.scale=this.targetWorkspace.scale;var t=this.MARGIN;const s=this.RTL?t:t+this.tabWidth_;for(const u of e)u.getElement().moveBy(s,t),t+=u.getElement().getBoundingRectangle().getHeight()}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.left;return this.toolboxPosition_===xr.LEFT?new Tr(-1e9,1e9,-1e9,t+e.width):new Tr(-1e9,1e9,t,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=this.getContents().reduce((t,s)=>Math.max(t,s.getElement().getBoundingRectangle().getWidth()),0);if(e+=this.MARGIN*1.5+this.tabWidth_,e*=this.workspace_.scale,e+=As.scrollbarThickness,this.getWidth()!==e){if(this.RTL)for(const t of this.getContents()){const s=t.getElement().getBoundingRectangle().left,u=e/this.workspace_.scale-t.getElement().getBoundingRectangle().getWidth()-this.MARGIN-this.tabWidth_;t.getElement().moveBy(u-s,0)}this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==xr.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};l6.registryName="verticalFlyout",a(Ht.FLYOUTS_VERTICAL_TOOLBOX,gl,l6);var Y7=class extends Lu{constructor(e){super(e),this.horizontalLayout=!0}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),s=t.getScrollMetrics(),u=t.getViewMetrics();t=t.getAbsoluteMetrics(),typeof e.x=="number"&&(this.workspace_.scrollX=-(s.left+(s.width-u.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),s=e.getViewMetrics();e=e.getToolboxMetrics();const u=this.toolboxPosition_===xr.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?u?e.height:s.height-this.getHeight():u?0:s.height:u?0:s.height+t.top-this.getHeight()}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,e=e.width-2*this.CORNER_RADIUS;var t=this.getHeight()-this.CORNER_RADIUS;this.setBackgroundPath(e,t),e=this.getX(),t=this.getY(),this.positionAt_(this.getWidth(),this.getHeight(),e,t)}}setBackgroundPath(e,t){const s=this.toolboxPosition_===xr.TOP,u=["M 0,"+(s?0:this.CORNER_RADIUS)];s?(u.push("h",e+2*this.CORNER_RADIUS),u.push("v",t),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("h",-e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),u.push("h",e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("v",t),u.push("h",-e-2*this.CORNER_RADIUS)),u.push("z"),this.svgBackground_.setAttribute("d",u.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setX(this.RTL?1/0:0)}wheel_(e){var t=at(e);if(t=t.x||t.y){const s=this.workspace_.getMetricsManager(),u=s.getScrollMetrics();t=s.getViewMetrics().left-u.left+t;let v;(v=this.workspace_.scrollbar)==null||v.setX(t),fl(this.workspace_),Ue()}e.preventDefault(),e.stopPropagation()}layout_(e){this.workspace_.scale=this.targetWorkspace.scale;const t=this.MARGIN;let s=t+this.tabWidth_;this.RTL&&(e=e.reverse());for(const u of e)e=u.getElement().getBoundingRectangle(),e=this.RTL?s+e.getWidth():s,u.getElement().moveBy(e,t),s+=u.getElement().getBoundingRectangle().getWidth()}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.top;return this.toolboxPosition_===xr.TOP?new Tr(-1e9,t+e.height,-1e9,1e9):new Tr(t,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=this.getContents().reduce((t,s)=>Math.max(t,s.getElement().getBoundingRectangle().getHeight()),0);e+=this.MARGIN*1.5,e*=this.workspace_.scale,e+=As.scrollbarThickness,this.getHeight()!==e&&(this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==xr.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets())}};a(Ht.FLYOUTS_HORIZONTAL_TOOLBOX,gl,Y7);var z2=class extends No{constructor(e,t,s,u,v){super(Pi.SKIP_SETUP),this.defaultType="",this.variableTypes=[],this.variable=null,this.SERIALIZABLE=!0,this.menuGenerator_=z2.dropdownCreate,this.defaultVariableName=typeof e=="string"?e:"",this.size_=new Sr(0,0),e!==Pi.SKIP_SETUP&&(v?this.configure_(v):this.setTypes(s,u),t&&this.setValidator(t))}configure_(e){super.configure_(e),this.setTypes(e.variableTypes,e.defaultType)}initModel(){var e=this.getSourceBlock();if(!e)throw new Xs;this.variable||(e=n.getOrCreateVariablePackage$$module$build$src$core$variables(e.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(e.getId()))}initView(){super.initView(),rn(this.fieldGroup_,"blocklyVariableField")}shouldAddBorderRect_(){const e=this.getSourceBlock();if(!e)throw new Xs;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||e.type!=="variables_get")}fromXml(e){var t=this.getSourceBlock();if(!t)throw new Xs;const s=e.getAttribute("id"),u=e.textContent,v=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(t=n.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,s,u,v),v!==null&&v!==t.getType())throw Error("Serialized variable type with id '"+t.getId()+"' had type "+t.getType()+", and does not match variable field that references it: "+ss(e)+".");this.setValue(t.getId())}toXml(e){return this.initModel(),e.id=this.variable.getId(),e.textContent=this.variable.getName(),this.variable.getType()&&e.setAttribute("variabletype",this.variable.getType()),e}saveState(e){var t=this.saveLegacyState(z2);return t!==null||(this.initModel(),t={id:this.variable.getId()},e&&(t.name=this.variable.getName(),t.type=this.variable.getType())),t}loadState(e){const t=this.getSourceBlock();if(!t)throw new Xs;this.loadLegacyState(z2,e)||(e=n.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}setSourceBlock(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(e)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.getName():""}getVariable(){return this.variable}getDefaultType(){return this.defaultType}getValidator(){return this.variable?this.validator_:null}doClassValidation_(e){if(e===null)return null;var t=this.getSourceBlock();if(!t)throw new Xs;return t=n.getVariable$$module$build$src$core$variables(t.workspace,e),t?(t=t.getType(),this.typeIsAllowed(t)?e:(console.warn("Variable type doesn't match this field!  Type was "+t),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}doValueUpdate_(e){const t=this.getSourceBlock();if(!t)throw new Xs;this.variable=n.getVariable$$module$build$src$core$variables(t.workspace,e),super.doValueUpdate_(e)}typeIsAllowed(e){const t=this.getVariableTypes();if(!t)return!0;for(let s=0;s<t.length;s++)if(e===t[s])return!0;return!1}getVariableTypes(){if(this.variableTypes)return this.variableTypes;if(!this.sourceBlock_||this.sourceBlock_.isDeadOrDying())return[""];let e=this.sourceBlock_.workspace.getVariableMap().getTypes();if(this.sourceBlock_.isInFlyout){const t=this.sourceBlock_.workspace.getPotentialVariableMap();if(!t)return e;e=Array.from(new Set([...e,...t.getTypes()]))}return e}setTypes(e=null,t=""){var s=this.getText();if(Array.isArray(e)){if(e.length===0)throw Error(`'variableTypes' of field variable ${s} was an empty list. If you want to include all variable types, pass 'null' instead.`);s=!1;for(let u=0;u<e.length;u++)e[u]===t&&(s=!0);if(!s)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}else if(e!==null)throw Error(`'variableTypes' was not an array or null in the definition of FieldVariable ${s}`);this.defaultType=t,this.variableTypes=e}refreshVariableName(){this.forceRerender()}onItemSelected_(e,t){if(e=t.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===C2&&this.variable){n.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,this.variable);return}if(e===k2&&this.variable){e=this.variable.getWorkspace(),n.deleteVariable$$module$build$src$core$variables(e,this.variable,this.sourceBlock_);return}}this.setValue(e)}referencesVariables(){return!0}static fromJson(e){return new this(cr(e.variable),void 0,void 0,void 0,e)}static dropdownCreate(){if(!this.variable)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const e=this.getText();let t=[];var s=this.getSourceBlock();if(s&&!s.isDeadOrDying()){s=s.workspace;const M=this.getVariableTypes();for(let re=0;re<M.length;re++){const Re=M[re],Ut=s.getVariableMap().getVariablesOfType(Re);if(t=t.concat(Ut),s.isFlyout){var u=void 0,v=void 0;t=t.concat((v=(u=s.getPotentialVariableMap())==null?void 0:u.getVariablesOfType(Re))!=null?v:[])}}}for(t.sort(Jt),u=[],v=0;v<t.length;v++)u[v]=[t[v].getName(),t[v].getId()];return u.push([n.Msg$$module$build$src$core$msg.RENAME_VARIABLE,C2]),n.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&u.push([n.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",e),k2]),u}};tl("field_variable",z2);var a6=class extends $4{constructor(e,t,s,u,v,M){super(Pi.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces=null,this.spellcheck_=!1,e!==Pi.SKIP_SETUP&&(M?this.configure_(M):this.setConstraints(t,s,u),this.setValue(e),v&&this.setValidator(v))}configure_(e){super.configure_(e),this.setMinInternal(e.min),this.setMaxInternal(e.max),this.setPrecisionInternal(e.precision)}setConstraints(e,t,s){this.setMinInternal(e),this.setMaxInternal(t),this.setPrecisionInternal(s),this.setValue(this.getValue())}setMin(e){this.setMinInternal(e),this.setValue(this.getValue())}setMinInternal(e){e==null?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))}getMin(){return this.min_}setMax(e){this.setMaxInternal(e),this.setValue(this.getValue())}setMaxInternal(e){e==null?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))}getMax(){return this.max_}setPrecision(e){this.setPrecisionInternal(e),this.setValue(this.getValue())}setPrecisionInternal(e){this.precision_=Number(e)||0;let t=String(this.precision_);t.includes("e")&&(t=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));const s=t.indexOf(".");this.decimalPlaces=s===-1?e?0:null:t.length-s-1}getPrecision(){return this.precision_}doClassValidation_(e){return e===null||(e=`${e}`.replace(/O/gi,"0"),e=e.replace(/,/g,""),e=e.replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e))?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),this.decimalPlaces!==null&&(e=Number(e.toFixed(this.decimalPlaces))),e)}widgetCreate_(){const e=super.widgetCreate_();return this.min_>-1/0&&(e.min=`${this.min_}`,Wr(e,_s.VALUEMIN,this.min_)),this.max_<1/0&&(e.max=`${this.max_}`,Wr(e,_s.VALUEMAX,this.max_)),e}initView(){super.initView(),this.fieldGroup_&&rn(this.fieldGroup_,"blocklyNumberField")}static fromJson(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}};tl("field_number",a6),a6.prototype.DEFAULT_VALUE=0;var K7=class extends Rc{constructor(e,t,s){super(String(e??""),t,s),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(e){return new this(cr(e.text),void 0,e)}};tl("field_label_serializable",K7);var jh=class extends Pi{constructor(e,t,s){super(Pi.SKIP_SETUP),this.SERIALIZABLE=!0,this.value_=this.value_,this.checkChar=jh.CHECK_CHAR,e!==Pi.SKIP_SETUP&&(s&&this.configure_(s),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.checkCharacter&&(this.checkChar=e.checkCharacter)}saveState(){const e=this.saveLegacyState(jh);return e!==null?e:this.getValueBoolean()}initView(){super.initView();const e=this.getTextElement();rn(this.fieldGroup_,"blocklyCheckboxField"),e.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(e){this.checkChar=e||jh.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(e){return e===!0||e==="TRUE"?"TRUE":e===!1||e==="FALSE"?"FALSE":null}doValueUpdate_(e){this.value_=this.convertValueToBool(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool(this.value_))}convertValueToBool(e){return typeof e=="string"?e==="TRUE":!!e}static fromJson(e){return new this(e.checked,void 0,e)}};jh.CHECK_CHAR="",tl("field_checkbox",jh),jh.prototype.DEFAULT_VALUE=!1;var J7=class{constructor(e,t){this.draggable=e,this.workspace=t,this.dragTarget=null,this.startLoc=e.getRelativeToSurfaceXY()}onDragStart(e){n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.draggable.startDrag(e)}onDrag(e,t){this.moveDraggable(e,t),t=this.getRoot(this.draggable),Gi(t)&&t.setDeleteStyle(this.wouldDeleteDraggable(e,t)),this.updateDragTarget(e)}updateDragTarget(e){e=this.workspace.getDragTarget(e);const t=this.getRoot(this.draggable);if(this.dragTarget!==e){let s;(s=this.dragTarget)==null||s.onDragExit(t),e?.onDragEnter(t)}e?.onDragOver(t),this.dragTarget=e}moveDraggable(e,t){t=this.pixelsToWorkspaceUnits(t),t=qt.sum(this.startLoc,t),this.draggable.drag(t,e)}wouldDeleteDraggable(e,t){return(e=this.workspace.getDragTarget(e))&&this.workspace.getComponentManager().hasCapability(e.id,ki.Capability.DELETE_AREA)?e.wouldDelete(t):!1}onDragEnd(e){const t=n.getGroup$$module$build$src$core$events$utils();var s=this.workspace.getDragTarget(e);const u=this.getRoot(this.draggable);if(s){let v;(v=this.dragTarget)==null||v.onDrop(u)}this.shouldReturnToStart(e,u)&&this.draggable.revertDrag(),(s=Gi(u)&&this.wouldDeleteDraggable(e,u))&&this.draggable instanceof Qi&&Ne(this.draggable.getRootBlock()),this.draggable.endDrag(e),s&&Gi(u)&&(n.setGroup$$module$build$src$core$events$utils(t),u.dispose()),n.setGroup$$module$build$src$core$events$utils(!1),!s&&ne(this.draggable)&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.draggable)}getRoot(e){return e instanceof Qi?e.getRootBlock():e}shouldReturnToStart(e,t){return(e=this.workspace.getDragTarget(e))?e.shouldPreventMove(t):!1}pixelsToWorkspaceUnits(e){return e=new qt(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}};a(Ht.BLOCK_DRAGGER,gl,J7);var H2={};H2.BlockDragStrategy=zh,H2.BubbleDragStrategy=s4,H2.CommentDragStrategy=R3,H2.Dragger=J7;var u6=class extends yi{constructor(e,t,s){super(e?e.workspace.id:void 0),this.type=mt.BLOCK_DRAG,e&&(this.blockId=e.id,this.isStart=t,this.blocks=s)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.blockId===void 0)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new u6),t.isStart=e.isStart,t.blockId=e.blockId,t.blocks=e.blocks,t}};a(Ht.EVENT,mt.BLOCK_DRAG,u6);var c6=class extends wu{constructor(e,t,s,u){super(e),this.type=mt.BLOCK_FIELD_INTERMEDIATE_CHANGE,this.recordUndo=!1,e&&(this.name=t,this.oldValue=s,this.newValue=u)}toJson(){const e=super.toJson();if(!this.name)throw Error("The changed field name is undefined. Either pass a name to the constructor, or call fromJson.");return e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new c6),t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,t}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(t=t.getBlockById(this.blockId),!t)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");e=e?this.newValue:this.oldValue,(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name)}};a(Ht.EVENT,mt.BLOCK_FIELD_INTERMEDIATE_CHANGE,c6);var h6=class extends wu{constructor(e){super(e),this.type=mt.BLOCK_MOVE,e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}toJson(){const e=super.toJson();return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate=`${Math.round(this.oldCoordinate.x)}, ${Math.round(this.oldCoordinate.y)}`),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate=`${Math.round(this.newCoordinate.x)}, ${Math.round(this.newCoordinate.y)}`),this.reason&&(e.reason=this.reason),this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new h6),t.oldParentId=e.oldParentId,t.oldInputName=e.oldInputName,e.oldCoordinate&&(s=e.oldCoordinate.split(","),t.oldCoordinate=new qt(Number(s[0]),Number(s[1]))),t.newParentId=e.newParentId,t.newInputName=e.newInputName,e.newCoordinate&&(s=e.newCoordinate.split(","),t.newCoordinate=new qt(Number(s[0]),Number(s[1]))),e.reason!==void 0&&(t.reason=e.reason),e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}recordNew(){const e=this.currentLocation();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}setReason(e){this.reason=e}currentLocation(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var t=e.getBlockById(this.blockId);if(!t)throw Error("The block associated with the block move event could not be found");e={};const s=t.getParent();return s?(e.parentId=s.id,(t=s.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&qt.equals(this.oldCoordinate,this.newCoordinate)}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var s=t.getBlockById(this.blockId);if(s){var u=e?this.newParentId:this.oldParentId,v=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,u){var M=t.getBlockById(u);if(!M){console.warn("Can't connect to non-existent block: "+u);return}}if(s.getParent()&&s.unplug(),e)v=s.getRelativeToSurfaceXY(),s.moveBy(e.x-v.x,e.y-v.y,this.reason);else{t=s.outputConnection,(!t||s.previousConnection&&s.previousConnection.isConnected())&&(t=s.previousConnection);let re,Re;s=(Re=t)==null?void 0:Re.type,v?(s=M.getInput(v))&&(re=s.connection):s===xn.PREVIOUS_STATEMENT&&(re=M.nextConnection),re&&t?t.connect(re):console.warn("Can't connect to non-existent input: "+v)}}else console.warn("Can't move non-existent block: "+this.blockId)}};a(Ht.EVENT,mt.BLOCK_MOVE,h6);var d6=class extends yi{constructor(e,t,s){super(e?e.workspace.id:void 0),this.type=mt.BUBBLE_OPEN,e&&(this.blockId=e.id,this.isOpen=t,this.bubbleType=s)}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new d6),t.isOpen=e.isOpen,t.bubbleType=e.bubbleType,t.blockId=e.blockId,t}},f6;(function(e){e.MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning"})(f6||(f6={})),a(Ht.EVENT,mt.BUBBLE_OPEN,d6);var Fu=class extends aa{constructor(e){super(),this.isBlank=!e,e&&(this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=n.getGroup$$module$build$src$core$events$utils(),this.recordUndo=an())}toJson(){const e=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new Fu),t.commentId=e.commentId,t}static CommentCreateDeleteHelper(e,t){const s=e.getEventWorkspace_();if(t){if(!e.json)throw Error("Encountered a comment event without proper json");Ni(e.json,s)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(t=s.getCommentById(e.commentId))?t.dispose():console.warn("Can't delete non-existent comment: "+e.commentId)}}},p6=class extends Fu{constructor(e,t,s){super(e),this.type=mt.COMMENT_CHANGE,e&&(this.oldContents_=typeof t>"u"?"":t,this.newContents_=typeof s>"u"?"":s)}toJson(){const e=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new p6),t.oldContents_=e.oldContents,t.newContents_=e.newContents,t}isNull(){return this.oldContents_===this.newContents_}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){var s=e?this.newContents_:this.oldContents_;if(s===void 0)throw Error(e?"The new contents is undefined. Either pass a value to the constructor, or call fromJson":"The old contents is undefined. Either pass a value to the constructor, or call fromJson");t.setText(s)}else console.warn("Can't change non-existent comment: "+this.commentId)}};a(Ht.EVENT,mt.COMMENT_CHANGE,p6);var m6=class extends Fu{constructor(e,t){super(e),this.newCollapsed=t,this.type=mt.COMMENT_COLLAPSE}toJson(){const e=super.toJson();if(this.newCollapsed===void 0)throw Error("The new collapse value undefined. Either call recordNew, or call fromJson");return e.newCollapsed=this.newCollapsed,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new m6),t.newCollapsed=e.newCollapsed,t}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(t=t.getCommentById(this.commentId))?t.setCollapsed(e?!!this.newCollapsed:!this.newCollapsed):console.warn("Can't collapse or uncollapse non-existent comment: "+this.commentId)}};a(Ht.EVENT,mt.COMMENT_COLLAPSE,m6);var g6=class extends Fu{constructor(e){super(e),this.type=mt.COMMENT_CREATE,e&&(this.xml=Xo(e),this.json=me(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=ss(this.xml),e.json=this.json,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new g6),t.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),t.json=e.json,t}run(e){Fu.CommentCreateDeleteHelper(this,e)}};a(Ht.EVENT,mt.COMMENT_CREATE,g6);var $6=class extends Fu{constructor(e){super(e),this.type=mt.COMMENT_DELETE,e&&(this.xml=Xo(e),this.json=me(e,{addCoordinates:!0}))}run(e){Fu.CommentCreateDeleteHelper(this,!e)}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=ss(this.xml),e.json=this.json,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new $6),t.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),t.json=e.json,t}};a(Ht.EVENT,mt.COMMENT_DELETE,$6);var b6=class extends yi{constructor(e,t){super(e?e.workspace.id:void 0),this.type=mt.COMMENT_DRAG,e&&(this.commentId=e.id,this.isStart=t)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.commentId===void 0)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.isStart=this.isStart,e.commentId=this.commentId,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new b6),t.isStart=e.isStart,t.commentId=e.commentId,t}};a(Ht.EVENT,mt.COMMENT_DRAG,b6);var v6=class extends Fu{constructor(e){super(e),this.type=mt.COMMENT_MOVE,e&&(this.comment_=e,this.oldCoordinate_=e.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setReason(e){this.reason=e}setOldCoordinate(e){this.oldCoordinate_=e}toJson(){const e=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, ${Math.round(this.oldCoordinate_.y)}`,e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new v6),s=e.oldCoordinate.split(","),t.oldCoordinate_=new qt(Number(s[0]),Number(s[1])),s=e.newCoordinate.split(","),t.newCoordinate_=new qt(Number(s[0]),Number(s[1])),t}isNull(){return qt.equals(this.oldCoordinate_,this.newCoordinate_)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(e=e?this.newCoordinate_:this.oldCoordinate_,!e)throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");t.moveTo(e)}else console.warn("Can't move non-existent comment: "+this.commentId)}};a(Ht.EVENT,mt.COMMENT_MOVE,v6);var T6=class extends Fu{constructor(e){super(e),this.type=mt.COMMENT_RESIZE,e&&(this.oldSize=e.getSize())}recordCurrentSizeAsNewSize(){if(this.newSize)throw Error("Tried to record the new size of a comment on the same event twice.");var e=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(e=e.getCommentById(this.commentId),!e)throw Error("The comment associated with the comment resize event could not be found");this.newSize=e.getSize()}toJson(){const e=super.toJson();if(!this.oldSize)throw Error("The old comment size is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newSize)throw Error("The new comment size is undefined. Either call recordCurrentSizeAsNewSize, or call fromJson");return e.oldWidth=Math.round(this.oldSize.width),e.oldHeight=Math.round(this.oldSize.height),e.newWidth=Math.round(this.newSize.width),e.newHeight=Math.round(this.newSize.height),e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new T6),t.oldSize=new Sr(e.oldWidth,e.oldHeight),t.newSize=new Sr(e.newWidth,e.newHeight),t}isNull(){return Sr.equals(this.oldSize,this.newSize)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(e=e?this.newSize:this.oldSize,!e)throw Error("Either oldSize or newSize is undefined. Either pass a comment to the constructor and call recordCurrentSizeAsNewSize, or call fromJson");t.setSize(e)}else console.warn("Can't resize non-existent comment: "+this.commentId)}};a(Ht.EVENT,mt.COMMENT_RESIZE,T6);var y6=class extends yi{constructor(e,t,s){super(s),this.type=mt.TOOLBOX_ITEM_SELECT,this.oldItem=e??void 0,this.newItem=t??void 0}toJson(){const e=super.toJson();return e.oldItem=this.oldItem,e.newItem=this.newItem,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new y6),t.oldItem=e.oldItem,t.newItem=e.newItem,t}};a(Ht.EVENT,mt.TOOLBOX_ITEM_SELECT,y6);var _6=class extends p4{constructor(e,t,s){super(e),this.oldType=t,this.newType=s,this.type=mt.VAR_TYPE_CHANGE}toJson(){const e=super.toJson();if(!this.oldType||!this.newType)throw Error("The variable's types are undefined. Either pass them to the constructor, or call fromJson");return e.oldType=this.oldType,e.newType=this.newType,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new _6),t.oldType=e.oldType,t.newType=e.newType,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldType||!this.newType)throw Error("The variable's types are undefined. Either pass them to the constructor, or call fromJson");const s=t.getVariableMap().getVariableById(this.varId);s&&(e?t.getVariableMap().changeVariableType(s,this.newType):t.getVariableMap().changeVariableType(s,this.oldType))}};a(Ht.EVENT,mt.VAR_TYPE_CHANGE,_6);var Z7=class extends aa{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.type=mt.FINISHED_LOADING,this.isBlank=!!e,e&&(this.workspaceId=e.id)}};a(Ht.EVENT,mt.FINISHED_LOADING,Z7);var Q7,ep,tp,np,rp,ip,sp,op,lp,ap,up,cp,hp,dp,fp,pp,mp,gp,$p,bp,vp,Tp,yp,_p,En;n.BLOCK_CHANGE$$module$build$src$core$events$events=mt.BLOCK_CHANGE,n.BLOCK_CREATE$$module$build$src$core$events$events=mt.BLOCK_CREATE,n.BLOCK_DELETE$$module$build$src$core$events$events=mt.BLOCK_DELETE,Q7=mt.BLOCK_DRAG,n.BLOCK_MOVE$$module$build$src$core$events$events=mt.BLOCK_MOVE,ep=mt.BLOCK_FIELD_INTERMEDIATE_CHANGE,tp=mt.BUBBLE_OPEN,np=mt.BLOCK_CHANGE,rp=mt.CLICK,ip=mt.COMMENT_CHANGE,sp=mt.COMMENT_CREATE,op=mt.COMMENT_DELETE,lp=mt.COMMENT_MOVE,ap=mt.COMMENT_RESIZE,up=mt.COMMENT_DRAG,cp=mt.BLOCK_CREATE,hp=mt.BLOCK_DELETE,dp=mt.FINISHED_LOADING,fp=mt.BLOCK_MOVE,pp=mt.SELECTED,mp=mt.THEME_CHANGE,gp=mt.TOOLBOX_ITEM_SELECT,$p=mt.TRASHCAN_OPEN,bp=mt.UI,vp=mt.VAR_CREATE,Tp=mt.VAR_DELETE,yp=mt.VAR_RENAME,_p=mt.VIEWPORT_CHANGE,En={},En.Abstract=aa,En.BLOCK_CHANGE=n.BLOCK_CHANGE$$module$build$src$core$events$events,En.BLOCK_CREATE=n.BLOCK_CREATE$$module$build$src$core$events$events,En.BLOCK_DELETE=n.BLOCK_DELETE$$module$build$src$core$events$events,En.BLOCK_DRAG=Q7,En.BLOCK_FIELD_INTERMEDIATE_CHANGE=ep,En.BLOCK_MOVE=n.BLOCK_MOVE$$module$build$src$core$events$events,En.BUBBLE_OPEN=tp,En.BUMP_EVENTS=J4,En.BlockBase=wu,En.BlockChange=Su,En.BlockCreate=r4,En.BlockDelete=S2,En.BlockDrag=u6,En.BlockFieldIntermediateChange=c6,En.BlockMove=h6,En.BubbleOpen=d6,En.BubbleType=f6,En.CHANGE=np,En.CLICK=rp,En.COMMENT_CHANGE=ip,En.COMMENT_CREATE=sp,En.COMMENT_DELETE=op,En.COMMENT_DRAG=up,En.COMMENT_MOVE=lp,En.COMMENT_RESIZE=ap,En.CREATE=cp,En.Click=i2,En.ClickTarget=s2,En.CommentBase=Fu,En.CommentChange=p6,En.CommentCollapse=m6,En.CommentCreate=g6,En.CommentDelete=$6,En.CommentDrag=b6,En.CommentMove=v6,En.CommentResize=T6,En.DELETE=hp,En.FINISHED_LOADING=dp,En.FinishedLoading=Z7,En.MOVE=fp,En.SELECTED=pp,En.Selected=P0,En.THEME_CHANGE=mp,En.TOOLBOX_ITEM_SELECT=gp,En.TRASHCAN_OPEN=$p,En.ThemeChange=Fh,En.ToolboxItemSelect=y6,En.TrashcanOpen=t6,En.UI=bp,En.UiBase=yi,En.VAR_CREATE=vp,En.VAR_DELETE=Tp,En.VAR_RENAME=yp,En.VIEWPORT_CHANGE=_p,En.VarBase=p4,En.VarCreate=Z5,En.VarDelete=Q5,En.VarRename=e6,En.VarTypeChange=_6,En.ViewportChange=_2,En.clearPendingUndo=It,En.disable=n.disable$$module$build$src$core$events$utils,En.disableOrphans=qn,En.enable=n.enable$$module$build$src$core$events$utils,En.filter=Ft,En.fire=de,En.fromJson=mn,En.get=sn,En.getDescendantIds=Hn,En.getGroup=n.getGroup$$module$build$src$core$events$utils,En.getRecordUndo=an,En.isEnabled=Qt,En.setGroup=n.setGroup$$module$build$src$core$events$utils,En.setRecordUndo=n.setRecordUndo$$module$build$src$core$events$utils;var Uu={};Uu.BottomRow=z7,Uu.ConstantProvider=F7,Uu.Drawer=U7,Uu.PathObject=W7,Uu.RenderInfo=G7,Uu.Renderer=o6,Uu.RightConnectionShape=H7,Uu.StatementInput=Z3,Uu.TopRow=V7,Sd();var Vo={};Vo.registerCleanup=dd,Vo.registerCollapse=pd,Vo.registerCollapseExpandBlock=mh,Vo.registerComment=c1,Vo.registerCommentCreate=Ed,Vo.registerCommentDelete=yd,Vo.registerCommentDuplicate=_d,Vo.registerCommentOptions=z4,Vo.registerDefaultOptions=Sd,Vo.registerDelete=vd,Vo.registerDeleteAll=gu,Vo.registerDisable=U4,Vo.registerDuplicate=u1,Vo.registerExpand=md,Vo.registerHelp=Td,Vo.registerInline=bd,Vo.registerRedo=ph,Vo.registerUndo=hd;var E6="button",Ep=class{load(e,t){return e=new Oo(t.getWorkspace(),t.targetWorkspace,e,!1),e.show(),new P1(e,E6)}gapForItem(e,t){return t}disposeItem(e){e=e.getElement(),e instanceof Oo&&e.dispose()}getType(){return E6}};a(Ht.FLYOUT_INFLATER,E6,Ep);var V2={};V2.Bubble=Fi,V2.MiniWorkspaceBubble=ga,V2.TextBubble=I2,V2.TextInputBubble=ol;var _$="WORKSPACE_AT_BLOCK_CAPACITY",w6="block",wp=class{constructor(){this.permanentlyDisabledBlocks=new Set,this.listeners=new Map,this.capacityWrapper=this.filterFlyoutBasedOnCapacity.bind(this)}load(e,t){return this.setFlyout(t),e=this.createBlock(e,t.getWorkspace()),e.isEnabled()?this.updateStateBasedOnCapacity(e):this.permanentlyDisabledBlocks.add(e),e.getDescendants(!1).forEach(s=>s.isInFlyout=!0),this.addBlockListeners(e),new P1(e,w6)}createBlock(e,t){return e.blockxml?(e=typeof e.blockxml=="string"?n.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,t=o0(e,t)):(e.enabled===void 0&&(e.enabled=e.disabled!=="true"&&e.disabled!==!0),e.disabledReasons===void 0&&e.enabled===!1&&(e.disabledReasons=[$r]),"x"in e&&delete e.x,"y"in e&&delete e.y,t=Ll(e,t)),t}gapForItem(e,t){let s;return e.gap?s=parseInt(String(e.gap)):e.blockxml&&(e=typeof e.blockxml=="string"?n.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,s=parseInt(e.getAttribute("gap"))),!s||isNaN(s)?t:s}disposeItem(e){e=e.getElement(),e instanceof Qi&&(this.removeListeners(e.id),e.dispose(!1,!1))}removeListeners(e){let t;((t=this.listeners.get(e))!=null?t:[]).forEach(s=>Oe(s)),this.listeners.delete(e)}setFlyout(e){if(this.flyout!==e){if(this.flyout){let s;(s=this.flyout.targetWorkspace)==null||s.removeChangeListener(this.capacityWrapper)}this.flyout=e;var t;(t=this.flyout.targetWorkspace)==null||t.addChangeListener(this.capacityWrapper)}}updateStateBasedOnCapacity(e){let t,s;const u=(t=this.flyout)==null||(s=t.targetWorkspace)==null?void 0:s.isCapacityAvailable(ve(e));for(;e;)e.setDisabledReason(!u,_$),e=e.getNextBlock()}addBlockListeners(e){const t=[];t.push(se(e.getSvgRoot(),"pointerdown",e,s=>{let u,v;const M=(u=this.flyout)==null||(v=u.targetWorkspace)==null?void 0:v.getGesture(s);M&&this.flyout&&(M.setStartBlock(e),M.handleFlyoutStart(s,this.flyout))})),t.push(we(e.getSvgRoot(),"pointermove",null,()=>{let s,u;!((s=this.flyout)==null||(u=s.targetWorkspace)==null)&&u.isDragging()||e.addSelect()})),t.push(we(e.getSvgRoot(),"pointerleave",null,()=>{let s,u;!((s=this.flyout)==null||(u=s.targetWorkspace)==null)&&u.isDragging()||e.removeSelect()})),this.listeners.set(e.id,t)}filterFlyoutBasedOnCapacity(e){!this.flyout||e&&e.type!==mt.BLOCK_CREATE&&e.type!==mt.BLOCK_DELETE||this.flyout.getWorkspace().getTopBlocks(!1).forEach(t=>{this.permanentlyDisabledBlocks.has(t)||this.updateStateBasedOnCapacity(t)})}getType(){return w6}};a(Ht.FLYOUT_INFLATER,w6,wp);var Sp=class extends gt{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(e){return super.getCSS_(e).concat([`${e} .blocklyInsertionMarker>.blocklyPathLight,`,`${e} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"])}},xp=class{constructor(e){this.inlineSteps_=this.steps_="",this.info_=e,this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+`
`+this.inlineSteps_}drawTopCorner(e){this.steps_+=Li(e.xPos,this.info_.startY);for(let t=0,s;s=e.elements[t];t++)Je.isLeftSquareCorner(s)?this.steps_+=this.highlightConstants_.START_POINT:Je.isLeftRoundedCorner(s)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):Je.isPreviousConnection(s)?this.steps_+=this.notchPaths_.pathLeft:Je.isHat(s)?this.steps_+=this.startPaths_.path(this.RTL_):Je.isSpacer(s)&&s.width!==0&&(this.steps_+=f("H",s.xPos+s.width-this.highlightOffset));this.steps_+=f("H",e.xPos+e.width-this.highlightOffset)}drawJaggedEdge_(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+f("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(e){const t=e.getLastInput();if(this.RTL_){const s=e.height-t.connectionHeight;this.steps_+=oo(t.xPos+t.width-this.highlightOffset,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+f("v",s)}else this.steps_+=oo(t.xPos+t.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(e){const t=e.getLastInput();if(t)if(this.RTL_){const s=e.height-2*this.insideCornerPaths_.height;this.steps_+=oo(t.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+f("v",s)+this.insideCornerPaths_.pathBottom(this.RTL_)+pl(e.width-t.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=oo(t.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+pl(e.width-t.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(e){const t=e.xPos+e.width-this.highlightOffset;e instanceof lr&&e.followsStatement&&(this.steps_+=f("H",t)),this.RTL_&&(this.steps_+=f("H",t),e.height>this.highlightOffset&&(this.steps_+=f("V",e.yPos+e.height-this.highlightOffset)))}drawBottomRow(e){if(this.RTL_)this.steps_+=f("V",e.baseline-this.highlightOffset);else{const t=this.info_.bottomRow.elements[0];Je.isLeftSquareCorner(t)?this.steps_+=oo(e.xPos+this.highlightOffset,e.baseline-this.highlightOffset):Je.isLeftRoundedCorner(t)&&(this.steps_+=oo(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=oo(this.info_.startX,e):(this.steps_+=oo(this.info_.startX+this.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=f("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,Je.isLeftRoundedCorner(e.elements[0])?this.steps_+=f("V",this.outsideCornerPaths_.height):this.steps_+=f("V",e.capline+this.highlightOffset))}drawInlineInput(e){const t=this.highlightOffset,s=e.xPos+e.connectionWidth;var u=e.centerline-e.height/2;const v=e.width-e.connectionWidth,M=u+t;this.RTL_?(u=e.connectionOffsetY-t,e=e.height-(e.connectionOffsetY+e.connectionHeight)+t,this.inlineSteps_+=oo(s-t,M)+f("v",u)+this.puzzleTabPaths_.pathDown(this.RTL_)+f("v",e)+f("h",v)):this.inlineSteps_+=oo(e.xPos+e.width+t,M)+f("v",e.height)+f("h",-v)+oo(s,u+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},Cp=class extends Gt{constructor(e,t){super(e,t),this.highlighter_=new xp(t)}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights();const e=this.block_.pathObject;e.setPath(this.outlinePath_+`
`+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(e){this.highlighter_.drawJaggedEdge_(e),super.drawJaggedEdge_(e)}drawValueInput_(e){this.highlighter_.drawValueInput(e),super.drawValueInput_(e)}drawStatementInput_(e){this.highlighter_.drawStatementInput(e),super.drawStatementInput_(e)}drawRightSideRow_(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=f("H",e.xPos+e.width)+f("V",e.yPos+e.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(e){this.highlighter_.drawInlineInput(e),super.drawInlineInput_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let s=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(s*=-1),e.connectionModel.setOffsetInBlock(s,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(t!=null&&t.connectionModel){let s=e.xPos+e.statementEdge+t.notchOffset;s=this.info_.RTL?s*-1:s+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(s,e.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let s=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(s*=-1),t.connectionModel.setOffsetInBlock(s,e.yPos)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,s=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-s:s)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}},kp=class{constructor(e){this.OFFSET=.5,this.constantProvider=e,this.START_POINT=Li(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,s=(1-Math.SQRT1_2)*(e+t)-t,u=Li(s,s)+b("a","0 0,0",e,Un(-s-t,e-s)),v=b("a","0 0,0",e+t,Un(e+t,e+t)),M=Li(s,-s)+b("a","0 0,0",e+t,Un(e-s,s+t));return{width:e+t,height:e,pathTop(re){return re?u:""},pathBottom(re){return re?v:M}}}makeOutsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,s=(1-Math.SQRT1_2)*(e-t)+t,u=Li(s,s)+b("a","0 0,1",e-t,Un(e-s,-s+t)),v=Li(t,e)+b("a","0 0,1",e-t,Un(e,-e+t)),M=-s,re=Li(s,M)+b("a","0 0,1",e-t,Un(-s+t,-M-e));return{height:e,topLeft(Re){return Re?u:v},bottomLeft(){return re}}}makePuzzleTab(){const e=this.constantProvider.TAB_WIDTH,t=this.constantProvider.TAB_HEIGHT,s=Li(-2,-t+2.5+.9)+pl(e*-.45,-2.1),u=f("v",2.5)+Li(-e*.97,2.5)+rl("q",[Un(-e*.05,10),Un(e*.3,9.5)])+Li(e*.67,-1.9)+f("v",2.5),v=f("v",-1.5)+Li(e*-.92,-.5)+rl("q",[Un(e*-.19,-5.5),Un(0,-11)])+Li(e*.92,1),M=Li(-5,t-.7)+pl(e*.46,-2.1);return{width:e,height:t,pathUp(re){return re?s:v},pathDown(re){return re?u:M}}}makeNotch(){return{pathLeft:f("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:pl(5.1,2.6)+Li(-10.2,6.8)+pl(5.1,2.6),height:12,width:10.2}}makeStartHat(){const e=this.constantProvider.START_HAT.height,t=Li(25,-8.7)+rl("c",[Un(29.7,-6.2),Un(57.2,-.5),Un(75,8.7)]),s=rl("c",[Un(17.8,-9.2),Un(45.3,-14.9),Un(75,-8.7)])+oo(100.5,e+.5);return{path(u){return u?t:s}}}},Ip=class extends Xe{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},Ap=class extends ut{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},Np=class extends Jn{constructor(e,t){super(e,t),this.renderer_=e}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof xl||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(e,t){this.isInline&&e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new Ip(this.constants_,e)),t.hasInlineInput=!0):e instanceof xl?(t.elements.push(new Ap(this.constants_,e)),t.hasStatement=!0):e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new m(this.constants_,e)),t.hasExternalInput=!0):(e instanceof ll||e instanceof Yl)&&(t.minHeight=Math.max(t.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),this.isInline||t.align!==null||(t.align=e.align)}addElemSpacing_(){let e=!1;for(let s=0,u;u=this.rows[s];s++)u.hasExternalInput&&(e=!0);for(let s=0,u;u=this.rows[s];s++){var t=u.elements;if(u.elements=[],u.startsWithElemSpacer()&&u.elements.push(new $e(this.constants_,this.getInRowSpacing_(null,t[0]))),t.length){for(let v=0;v<t.length-1;v++){u.elements.push(t[v]);const M=this.getInRowSpacing_(t[v],t[v+1]);u.elements.push(new $e(this.constants_,M))}u.elements.push(t[t.length-1]),u.endsWithElemSpacer()&&(t=this.getInRowSpacing_(t[t.length-1],null),e&&u.hasDummyInput&&(t+=this.constants_.TAB_WIDTH),u.elements.push(new $e(this.constants_,t)))}}}getInRowSpacing_(e,t){if(!e)return t&&Je.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&Je.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&Je.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Je.isInput(e)&&(!t||Je.isStatementInput(t)))return Je.isField(e)&&e.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:Je.isIcon(e)?this.constants_.LARGE_PADDING*2+1:Je.isHat(e)?this.constants_.NO_PADDING:Je.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:Je.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:Je.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Je.isInput(e)&&!t){if(Je.isExternalInput(e))return this.constants_.NO_PADDING;if(Je.isInlineInput(e))return this.constants_.LARGE_PADDING;if(Je.isStatementInput(e))return this.constants_.NO_PADDING}if(!Je.isInput(e)&&t&&Je.isInput(t)){if(Je.isField(e)&&e.isEditable){if(Je.isInlineInput(t)||Je.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(Je.isInlineInput(t)||Je.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(Je.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Je.isIcon(e)&&t&&!Je.isInput(t))return this.constants_.LARGE_PADDING;if(Je.isInlineInput(e)&&t&&Je.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Je.isLeftSquareCorner(e)&&t){if(Je.isHat(t))return this.constants_.NO_PADDING;if(Je.isPreviousConnection(t))return t.notchOffset;if(Je.isNextConnection(t))return t.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(Je.isLeftRoundedCorner(e)&&t){if(Je.isPreviousConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS;if(Je.isNextConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return Je.isField(e)&&t&&Je.isField(t)&&e.isEditable===t.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:t&&Je.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return Je.isTopRow(e)&&Je.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Je.isTopRow(e)||Je.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||!e.hasStatement&&t.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(Je.isSpacer(t))return e.yPos+t.height/2;if(Je.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,Je.isNextConnection(t)?e+t.height/2:e-t.height/2;if(Je.isTopRow(e))return Je.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let s=e.yPos;return Je.isField(t)||Je.isIcon(t)?(s+=t.height/2,(e.hasInlineInput||e.hasStatement)&&t.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(s+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):s=Je.isInlineInput(t)?s+t.height/2:s+e.height/2,s}alignRowElements_(){if(this.isInline){var e=0,t=new WeakMap,s=null;for(let u=this.rows.length-1,v;v=this.rows[u];u--)t.set(v,e),Je.isInputRow(v)&&(v.hasStatement&&this.alignStatementRow_(v),s&&s.hasStatement&&v.width<s.width?t.set(v,s.width):e=v.hasStatement?v.width:Math.max(e,v.width),s=v);e=0;for(let u=0,v;v=this.rows[u];u++)v.hasStatement?e=this.getDesiredRowWidth_(v):Je.isSpacer(v)?v.width=Math.max(e,t.get(v)):(s=v.width,e=Math.max(e,t.get(v))-s,e>0&&this.addAlignmentPadding_(v,e),e=v.width)}else super.alignRowElements_()}getDesiredRowWidth_(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(e)}finalize_(){let e=0,t=0;for(let u=0,v;v=this.rows[u];u++){v.yPos=t,v.xPos=this.startX,t+=v.height,e=Math.max(e,v.widthWithConnectedBlocks);var s=t-this.topRow.ascenderHeight;v===this.bottomRow&&s<this.constants_.MIN_BLOCK_HEIGHT&&(s=this.constants_.MIN_BLOCK_HEIGHT-s,this.bottomRow.height+=s,t+=s),this.recordElemPositions_(v)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(s=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,s.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=t+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},Mp=class extends mi{constructor(e,t,s){super(e,t,s),this.constants=s,this.colourDark="#000000",this.svgPathDark=ct(ft.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=ct(ft.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}setHighlightPath(e){this.svgPathLight.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(e),this.svgPath.setAttribute("stroke","none")}setStyle(e){this.style=e,this.colourDark=so("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(e){super.updateHighlighted(e),this.svgPathLight.style.display=e?"none":"inline"}updateShadow_(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(e){super.updateDisabled_(e),e&&this.svgPath.setAttribute("stroke","none")}},Op=class extends zn{constructor(e){super(e),this.highlightConstants=null}init(e,t){super.init(e,t),this.highlightConstants=this.makeHighlightConstants_(),this.highlightConstants.init()}refreshDom(e,t,s){super.refreshDom(e,t,s),this.getHighlightConstants().init()}makeConstants_(){return new Sp}makeRenderInfo_(e){return new Np(this,e)}makeDrawer_(e,t){return new Cp(e,t)}makePathObject(e,t){return new Mp(e,t,this.getConstants())}makeHighlightConstants_(){return new kp(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants}};Wl("geras",Op);var zu={};zu.ConstantProvider=Sp,zu.Drawer=Cp,zu.HighlightConstantProvider=kp,zu.Highlighter=xp,zu.InlineInput=Ip,zu.PathObject=Mp,zu.RenderInfo=Np,zu.Renderer=Op,zu.StatementInput=Ap;var Rp=class extends Jn{constructor(e,t){super(e,t)}getRenderer(){return this.renderer_}addElemSpacing_(){let e=!1;for(var t=0;t<this.rows.length;t++)if(this.rows[t].hasExternalInput){e=!0;break}for(t=0;t<this.rows.length;t++){const u=this.rows[t];var s=u.elements;if(u.elements=[],u.startsWithElemSpacer()&&u.elements.push(new $e(this.constants_,this.getInRowSpacing_(null,s[0]))),s.length){for(let v=0;v<s.length-1;v++){u.elements.push(s[v]);const M=this.getInRowSpacing_(s[v],s[v+1]);u.elements.push(new $e(this.constants_,M))}u.elements.push(s[s.length-1]),u.endsWithElemSpacer()&&(s=this.getInRowSpacing_(s[s.length-1],null),e&&u.hasDummyInput&&(s+=this.constants_.TAB_WIDTH),u.elements.push(new $e(this.constants_,s)))}}}getInRowSpacing_(e,t){if(!e)return t&&Je.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&Je.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&Je.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Je.isInput(e)&&!t)return Je.isField(e)&&e.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:Je.isIcon(e)?this.constants_.LARGE_PADDING*2+1:Je.isHat(e)?this.constants_.NO_PADDING:Je.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:Je.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:Je.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Je.isInput(e)&&!t){if(Je.isExternalInput(e))return this.constants_.NO_PADDING;if(Je.isInlineInput(e))return this.constants_.LARGE_PADDING;if(Je.isStatementInput(e))return this.constants_.NO_PADDING}if(!Je.isInput(e)&&t&&Je.isInput(t)){if(Je.isField(e)&&e.isEditable){if(Je.isInlineInput(t)||Je.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(Je.isInlineInput(t)||Je.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(Je.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Je.isIcon(e)&&t&&!Je.isInput(t))return this.constants_.LARGE_PADDING;if(Je.isInlineInput(e)&&t&&Je.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Je.isLeftSquareCorner(e)&&t){if(Je.isHat(t))return this.constants_.NO_PADDING;if(Je.isPreviousConnection(t)||Je.isNextConnection(t))return t.notchOffset}return Je.isLeftRoundedCorner(e)&&t?t.notchOffset-this.constants_.CORNER_RADIUS:Je.isField(e)&&t&&Je.isField(t)&&e.isEditable===t.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:t&&Je.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return Je.isTopRow(e)&&Je.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Je.isTopRow(e)||Je.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||e.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(Je.isSpacer(t))return e.yPos+t.height/2;if(Je.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,Je.isNextConnection(t)?e+t.height/2:e-t.height/2;if(Je.isTopRow(e))return Je.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let s=e.yPos;return s=Je.isField(t)&&e.hasStatement?s+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+t.height/2):s+e.height/2}finalize_(){let e=0,t=0;for(var s=0;s<this.rows.length;s++){const v=this.rows[s];v.yPos=t,v.xPos=this.startX,t+=v.height,e=Math.max(e,v.widthWithConnectedBlocks);var u=t-this.topRow.ascenderHeight;v===this.bottomRow&&u<this.constants_.MIN_BLOCK_HEIGHT&&(u=this.constants_.MIN_BLOCK_HEIGHT-u,this.bottomRow.height+=u,t+=u),this.recordElemPositions_(v)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(s=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,s.getHeightWidth().width)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline}},Lp=class extends zn{constructor(e){super(e)}makeRenderInfo_(e){return new Rp(this,e)}};Wl("thrasos",Lp);var S6={};S6.RenderInfo=Rp,S6.Renderer=Lp;var E$={colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},w$={colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}},S$=new Nc("zelos",E$,w$),x$={Classic:Uh,Zelos:S$},x6=class{constructor(e,t,s){this.id_=e.toolboxitemid||Ze(),this.level_=(this.parent_=s||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=t,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(e){}getFocusableElement(){const e=this.getDiv();if(!e)throw Error("Trying to access toolbox item before DOM is initialized.");if(!(e instanceof HTMLElement))throw Error("Toolbox item div is unexpectedly not an HTML element.");return e}getFocusableTree(){return this.parentToolbox_}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}},nu=class extends x6{constructor(e,t,s){super(e,t,s),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),this.toolboxItemDef_.hidden==="true"&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategoryContainer",row:"blocklyToolboxCategory",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyToolboxCategoryIcon",label:"blocklyToolboxCategoryLabel",contents:"blocklyToolboxCategoryGroup",selected:"blocklyToolboxSelected",openicon:"blocklyToolboxCategoryIconOpen",closedicon:"blocklyToolboxCategoryIconClosed"}}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(let t=0;t<e.length;t++){const s=e[t];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(s)}}parseCategoryDef_(e){this.name_="name"in e?cr(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),sr(this.htmlDiv_,vl.TREEITEM),Wr(this.htmlDiv_,_s.SELECTED,!1),Wr(this.htmlDiv_,_s.LEVEL,this.level_+1),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),sr(this.iconDom_,vl.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);const e=this.labelDom_.getAttribute("id");return e&&Wr(this.htmlDiv_,_s.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){const e=document.createElement("div");e.tabIndex=-1,e.id=this.getId();const t=this.cssConfig_.container;return t&&rn(e,t),e}createRowContainer_(){const e=document.createElement("div");var t=this.cssConfig_.row;return t&&rn(e,t),t=`${nu.nestedPadding*this.getLevel()}px`,this.workspace_.RTL?e.style.paddingRight=t:e.style.paddingLeft=t,e}createRowContentsContainer_(){const e=document.createElement("div"),t=this.cssConfig_.rowcontentcontainer;return t&&rn(e,t),e}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&rn(e,t)}return e.style.display="inline-block",e}createLabelDom_(e){const t=document.createElement("span");return t.setAttribute("id",this.getId()+".label"),t.textContent=e,(e=this.cssConfig_.label)&&rn(t,e),t}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(e){e&&(e=nu.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}getColour_(e){const t=e.categorystyle||e.categoryStyle;if((e=e.colour)&&t)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(t)return this.getColourfromStyle(t);if(e)return this.parseColour(e)}return""}getColourfromStyle(e){var t=this.workspace_.getTheme();if(e&&t){if((t=t.categoryStyles[e])&&t.colour)return this.parseColour(t.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour(e){if(e=cr(e),e==null||e==="")return"";var t=Number(e);return isNaN(t)?(t=pe(e))?t:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):$o(t)}openIcon_(e){if(e){var t=this.cssConfig_.closedicon;t&&Br(e,t),(t=this.cssConfig_.openicon)&&rn(e,t)}}closeIcon_(e){if(e){var t=this.cssConfig_.openicon;t&&Br(e,t),(t=this.cssConfig_.closedicon)&&rn(e,t)}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let e=this;for(;e.getParent();)if(e=e.getParent(),!e.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(e){}setSelected(e){if(this.rowDiv_){var t=this.cssConfig_.selected;if(e){const s=this.parseColour(nu.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||s,t&&rn(this.rowDiv_,t)}else this.rowDiv_.style.backgroundColor="",t&&Zn(this.rowDiv_,t);Wr(this.htmlDiv_,_s.SELECTED,e)}}setDisabled(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",`${e}`),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(e){this.flyoutItems_=[],this.toolboxItemDef_=typeof e=="string"?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:In(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){un(this.htmlDiv_)}};nu.registrationName="category",nu.nestedPadding=19,nu.borderWidth=8,nu.defaultBackgroundColour="#57e",dn(`
.blocklyToolboxCategory:not(.blocklyToolboxSelected):hover {
  background-color: rgba(255, 255, 255, .2);
}

.blocklyToolbox[layout="h"] .blocklyToolboxCategoryContainer {
  margin: 1px 5px 1px 0;
}

.blocklyToolbox[dir="RTL"][layout="h"] .blocklyToolboxCategoryContainer {
  margin: 1px 0 1px 5px;
}

.blocklyToolboxCategory {
  height: 22px;
  line-height: 22px;
  margin-bottom: 3px;
  padding-right: 8px;
  white-space: nowrap;
}

.blocklyToolbox[dir="RTL"] .blocklyToolboxCategory {
  margin-left: 8px;
  padding-right: 0;
}

.blocklyToolboxCategoryIcon {
  background-image: url(<<<PATH>>>/sprites.png);
  height: 16px;
  vertical-align: middle;
  visibility: hidden;
  width: 16px;
}

.blocklyToolboxCategoryIconClosed {
  background-position: -32px -1px;
}

.blocklyToolbox[dir="RTL"] .blocklyToolboxCategoryIconClosed {
  background-position: 0 -1px;
}

.blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {
  background-position: -32px -17px;
}

.blocklyToolbox[dir="RTL"] .blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {
  background-position: 0 -17px;
}

.blocklyToolboxCategoryIconOpen {
  background-position: -16px -1px;
}

.blocklyToolboxSelected>.blocklyToolboxCategoryIconOpen {
  background-position: -16px -17px;
}

.blocklyToolboxCategoryLabel {
  cursor: default;
  font: 16px sans-serif;
  padding: 0 3px;
  vertical-align: middle;
}

.blocklyToolboxDelete .blocklyToolboxCategoryLabel {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxSelected .blocklyToolboxCategoryLabel {
  color: #fff;
}
`),a(Ht.TOOLBOX_ITEM,nu.registrationName,nu);var G2=class extends x6{constructor(e,t){super(e,t),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv=null,Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}init(){this.createDom_()}createDom_(){const e=document.createElement("div");e.tabIndex=-1,e.id=this.getId();const t=this.cssConfig_.container;return t&&rn(e,t),this.htmlDiv=e}getDiv(){return this.htmlDiv}dispose(){un(this.htmlDiv)}};G2.registrationName="sep",dn(`
.blocklyTreeSeparator {
  border-bottom: solid #e5e5e5 1px;
  height: 0;
  margin: 5px 0;
}

.blocklyToolbox[layout="h"] .blocklyTreeSeparator {
  border-right: solid #e5e5e5 1px;
  border-bottom: none;
  height: auto;
  margin: 0 5px 0 5px;
  padding: 5px 0;
  width: 0;
}
`),a(Ht.TOOLBOX_ITEM,G2.registrationName,G2);var b4=class extends nu{constructor(e,t,s){super(e,t,s),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){const e=super.makeDefaultCssConfig_();return e.contents="blocklyToolboxCategoryGroup",e}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else{const t=e.contents;if(t){this.flyoutItems_=[],e=!0;for(let s=0;s<t.length;s++){const u=t[s];!_(Ht.TOOLBOX_ITEM,u.kind)||u.kind.toLowerCase()===G2.registrationName&&e?(this.flyoutItems_.push(u),e=!0):(this.createToolboxItem(u),e=!1)}}}}createToolboxItem(e){let t=e.kind;t.toUpperCase()==="CATEGORY"&&pr(e)&&(t=b4.registrationName),e=new(y(Ht.TOOLBOX_ITEM,t))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}init(){super.init(),this.setExpanded(this.toolboxItemDef_.expanded==="true"||this.toolboxItemDef_.expanded===!0)}createDom_(){super.createDom_();const e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),sr(this.subcategoriesDiv_,vl.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.closeIcon_(this.iconDom_),Wr(this.htmlDiv_,_s.EXPANDED,!1),this.htmlDiv_}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&rn(e,t),e.style.visibility="visible"}return e.style.display="inline-block",e}createSubCategoriesDom_(e){const t=document.createElement("div");t.style.display="none";var s=this.cssConfig_.contents;for(s&&rn(t,s),s=0;s<e.length;s++){const u=e[s];u.init();const v=u.getDiv();if(t.appendChild(v),u.getClickTarget){let M;(M=u.getClickTarget())==null||M.setAttribute("id",u.getId())}}return t}setExpanded(e){if(this.expanded_!==e){if(this.expanded_=e)this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_);else{let t;(t=this.parentToolbox_.getFlyout())==null||t.setVisible(!1),this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)}Wr(this.htmlDiv_,_s.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize()}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none";const t=this.getChildToolboxItems();for(let s=0;s<t.length;s++)t[s].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(e){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};b4.registrationName="collapsibleCategory",a(Ht.TOOLBOX_ITEM,b4.registrationName,b4);var Dp=class extends B1{constructor(e){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.height_=this.width_=0,this.flyout=null,this.contents=new Map,this.previouslySelectedItem_=this.selectedItem_=null,this.boundEvents_=[],this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout=e.options.horizontalLayout,this.RTL=e.options.RTL,this.toolboxPosition=e.options.toolboxPosition}onShortcut(e){return!1}init(){var e=this.workspace_;const t=e.getParentSvg();this.flyout=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_);const s=this.flyout.createDom("svg");rn(s,"blocklyToolboxFlyout"),$i(s,t),this.setVisible(!0),this.flyout.init(e),this.render(this.toolboxDef_),e=e.getThemeManager(),e.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:ki.ComponentWeight.TOOLBOX_WEIGHT,capabilities:[ki.Capability.AUTOHIDEABLE,ki.Capability.DELETE_AREA,ki.Capability.DRAG_TARGET]}),n.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,!0)}createDom_(e){e=e.getParentSvg();const t=this.createContainer_();return t.id=Ze(),this.contentsDiv_=this.createContentsContainer_(),sr(this.contentsDiv_,vl.TREE),t.appendChild(this.contentsDiv_),e.parentNode.insertBefore(t,e),this.attachEvents_(t,this.contentsDiv_),t}createContainer_(){const e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),rn(e,"blocklyToolbox"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}createContentsContainer_(){const e=document.createElement("div");return rn(e,"blocklyToolboxCategoryGroup"),this.isHorizontal()&&(e.style.flexDirection="row"),e}attachEvents_(e,t){e=se(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),t=se(t,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(t)}onClick_(e){if(Se(e)||e.target===this.HtmlDiv)L().hideChaff(!1);else{var t=e.target.getAttribute("id");t&&(t=this.getToolboxItemById(t),t.isSelectable()&&(this.setSelectedItem(t),t.onClick(e))),L().hideChaff(!0)}te()}onKeyDown_(e){let t=!1;switch(e.key){case"ArrowDown":t=this.selectNext();break;case"ArrowUp":t=this.selectPrevious();break;case"ArrowLeft":t=this.selectParent();break;case"ArrowRight":t=this.selectChild();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),t=!0);break;default:t=!1}!t&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(t=this.selectedItem_.onKeyDown(e)),t&&e.preventDefault()}createFlyout_(){const e=this.workspace_,t=e.copyOptionsForFlyout();return t.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?I(Ht.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):I(Ht.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(t)}render(e){this.toolboxDef_=e,this.contents.forEach(t=>t.dispose()),this.contents.clear(),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}renderContents_(e){const t=document.createDocumentFragment();for(let s=0;s<e.length;s++)this.createToolboxItem(e[s],t);this.contentsDiv_.appendChild(t)}createToolboxItem(e,t){var s=e.kind;s.toUpperCase()==="CATEGORY"&&pr(e)&&(s=b4.registrationName),(s=y(Ht.TOOLBOX_ITEM,s.toLowerCase()))&&(e=new s(e,this),e.init(),this.addToolboxItem_(e),(s=e.getDiv())&&t.appendChild(s),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}addToolboxItem_(e){if(this.contents.set(e.getId(),e),e.isCollapsible()){e=e.getChildToolboxItems();for(let t=0;t<e.length;t++)this.addToolboxItem_(e[t])}}getToolboxItems(){return[...this.contents.values()]}addStyle(e){e&&this.HtmlDiv&&rn(this.HtmlDiv,e)}removeStyle(e){e&&this.HtmlDiv&&Zn(this.HtmlDiv,e)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect();const t=e.top,s=t+e.height,u=e.left;return e=u+e.width,this.toolboxPosition===xr.TOP?new Tr(-1e7,s,-1e7,1e7):this.toolboxPosition===xr.BOTTOM?new Tr(t,1e7,-1e7,1e7):this.toolboxPosition===xr.LEFT?new Tr(-1e7,1e7,-1e7,e):new Tr(-1e7,1e7,u,1e7)}wouldDelete(e){return e instanceof Qi?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(Gi(e)&&e.isDeletable()),this.wouldDelete_}onDragEnter(e){this.updateCursorDeleteStyle_(!0)}onDragExit(e){this.updateCursorDeleteStyle_(!1)}onDrop(e){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(e){const t=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(t):this.removeStyle(t)}getToolboxItemById(e){return this.contents.get(e)||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout}position(){const e=this.workspace_.getMetrics(),t=this.HtmlDiv;t&&(this.horizontalLayout?(t.style.left="0",t.style.height="auto",t.style.width="100%",this.height_=t.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===xr.TOP?t.style.top="0":t.style.bottom="0"):(this.toolboxPosition===xr.RIGHT?t.style.right="0":t.style.left="0",t.style.height="100%",this.width_=t.offsetWidth,this.height_=e.viewHeight),this.flyout.position())}handleToolboxItemResize(){const e=this.workspace_;var t=this.HtmlDiv.getBoundingClientRect();const s=this.getFlyout(),u=this.toolboxPosition===xr.LEFT?e.scrollX+t.width+(s!=null&&s.isVisible()?s.getWidth():0):e.scrollX;t=this.toolboxPosition===xr.TOP?e.scrollY+t.height+(s!=null&&s.isVisible()?s.getHeight():0):e.scrollY,e.translate(u,t),Y(e)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){this.contents.forEach(e=>{e.refreshTheme&&e.refreshTheme()})}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout.show(this.selectedItem_.getContents())}setVisible(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}autoHide(e){!e&&this.flyout&&this.flyout.autoClose&&this.clearSelection()}setSelectedItem(e){const t=this.selectedItem_;!e&&!t||e&&!V4(e)||(this.shouldDeselectItem_(t,e)&&t!==null&&this.deselectItem_(t),this.shouldSelectItem_(t,e)&&e!==null&&this.selectItem_(t,e),this.updateFlyout_(t,e),this.fireSelectEvent(t,e))}shouldDeselectItem_(e,t){return e!==null&&(!e.isCollapsible()||e!==t)}shouldSelectItem_(e,t){return t!==null&&t!==e}deselectItem_(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),Wr(this.contentsDiv_,_s.ACTIVEDESCENDANT,"")}selectItem_(e,t){this.selectedItem_=t,this.previouslySelectedItem_=e,t.setSelected(!0),Wr(this.contentsDiv_,_s.ACTIVEDESCENDANT,t.getId())}selectItemByPosition(e){(e=this.getToolboxItems()[e])&&this.setSelectedItem(e)}updateFlyout_(e,t){t&&(e!==t||t.isCollapsible())&&t.getContents().length?(this.flyout.show(t.getContents()),this.flyout.scrollToStart()):this.flyout.hide()}fireSelectEvent(e,t){const s=e&&e.getName();let u=t&&t.getName();e===t&&(u=null),e=new(sn(mt.TOOLBOX_ITEM_SELECT))(s,u,this.workspace_.id),de(e)}selectParent(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1}selectChild(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;const e=this.selectedItem_;return e.isExpanded()?this.selectNext():e.toggleExpanded(),!0}selectNext(){if(!this.selectedItem_)return!1;const e=[...this.contents.values()];let t=e.indexOf(this.selectedItem_)+1;if(t>-1&&t<e.length){let s=e[t];for(;s&&!s.isSelectable();)s=e[++t];if(s&&s.isSelectable())return this.setSelectedItem(s),!0}return!1}selectPrevious(){if(!this.selectedItem_)return!1;const e=[...this.contents.values()];let t=e.indexOf(this.selectedItem_)-1;if(t>-1&&t<e.length){let s=e[t];for(;s&&!s.isSelectable();)s=e[--t];if(s&&s.isSelectable())return this.setSelectedItem(s),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout.dispose(),this.contents.forEach(e=>e.dispose());for(let e=0;e<this.boundEvents_.length;e++)Oe(this.boundEvents_[e]);this.boundEvents_=[],this.contents.clear(),this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),un(this.HtmlDiv)),n.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}getFocusableElement(){if(!this.HtmlDiv)throw Error("Toolbox DOM has not yet been created.");return this.HtmlDiv}getFocusableTree(){return this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(e){if(!e||e===this){let t;return(t=this.getToolboxItems().find(s=>s.isSelectable()))!=null?t:null}return null}getNestedTrees(){return[]}lookUpFocusableNode(e){return this.getToolboxItemById(e)}onTreeFocus(e,t){e!==this?this.getSelectedItem()!==e&&this.setSelectedItem(e):this.clearSelection()}onTreeBlur(e){let t;e&&e===((t=this.flyout)==null?void 0:t.getWorkspace())||this.autoHide(!1)}};dn(`
.blocklyToolboxDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxGrab {
  cursor: url("<<<PATH>>>/handclosed.cur"), auto;
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* Category tree in Toolbox. */
.blocklyToolbox {
  box-sizing: border-box;
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  background-color: #ddd;
  overflow-x: visible;
  overflow-y: auto;
  padding: 4px 0 4px 0;
  position: absolute;
  z-index: 70;  /* so blocks go under toolbox when dragging */
  -webkit-tap-highlight-color: transparent;  /* issue #1345 */
}

.blocklyToolboxCategoryGroup {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
}

.blocklyToolboxCategoryGroup:focus {
  outline: none;
}
`),a(Ht.TOOLBOX,gl,Dp);var C$="12.3.1",k$=xn.INPUT_VALUE,I$=xn.OUTPUT_VALUE,A$=xn.NEXT_STATEMENT,N$=xn.PREVIOUS_STATEMENT,M$=xr.TOP,O$=xr.BOTTOM,R$=xr.LEFT,L$=xr.RIGHT;f4.prototype.newBlock=function(e,t){return new F0(this,e,t)},Cl.prototype.newBlock=function(e,t){return new Qi(this,e,t)},f4.prototype.newComment=function(e){return new O1(this,e)},Cl.prototype.newComment=function(e){return new c0(this,e)},Cl.newTrashcan=function(e){return new M7(e)},ga.prototype.newWorkspaceSvg=function(e){return new Cl(e)},n.Names$$module$build$src$core$names.prototype.populateProcedures=function(e){e=vo(e),e=e[0].concat(e[1]);for(let t=0;t<e.length;t++)this.getName(e[t][0],n.Names$$module$build$src$core$names.NameType.PROCEDURE)};var bt={};return bt.Block=F0,bt.BlockFlyoutInflater=wp,bt.BlockNavigationPolicy=N2,bt.BlockSvg=Qi,bt.Blocks=Ts,bt.ButtonFlyoutInflater=Ep,bt.COLLAPSED_FIELD_NAME=Vr,bt.COLLAPSED_INPUT_NAME=Bi,bt.COLLAPSE_CHARS=D3,bt.CodeGenerator=n.CodeGenerator$$module$build$src$core$generator,bt.CollapsibleToolboxCategory=b4,bt.ComponentManager=ki,bt.Connection=pi,bt.ConnectionChecker=q3,bt.ConnectionDB=Ja,bt.ConnectionNavigationPolicy=O2,bt.ConnectionType=xn,bt.ContextMenu=Ka,bt.ContextMenuItems=Vo,bt.ContextMenuRegistry=Cr,bt.Css=Tc,bt.DELETE_VARIABLE_ID=k2,bt.DeleteArea=B1,bt.DragTarget=F3,bt.DropDownDiv=Uo,bt.Events=En,bt.Extensions=h0,bt.Field=Pi,bt.FieldCheckbox=jh,bt.FieldDropdown=No,bt.FieldImage=Xh,bt.FieldLabel=Rc,bt.FieldLabelSerializable=K7,bt.FieldNavigationPolicy=R2,bt.FieldNumber=a6,bt.FieldTextInput=n.FieldTextInput$$module$build$src$core$field_textinput,bt.FieldVariable=z2,bt.Flyout=Lu,bt.FlyoutButton=Oo,bt.FlyoutButtonNavigationPolicy=U3,bt.FlyoutItem=P1,bt.FlyoutMetricsManager=Hh,bt.FlyoutNavigationPolicy=U1,bt.FlyoutNavigator=Za,bt.FlyoutSeparator=a4,bt.FlyoutSeparatorNavigationPolicy=A2,bt.FocusManager=ko,bt.FocusableTreeTraverser=To,bt.Generator=n.CodeGenerator$$module$build$src$core$generator,bt.Gesture=Wh,bt.Grid=V1,bt.HorizontalFlyout=Y7,bt.INPUT_VALUE=k$,bt.Input=Dc,bt.InsertionMarkerPreviewer=q7,bt.KeyboardNavigationController=Qa,bt.LabelFlyoutInflater=P7,bt.LineCursor=G1,bt.Marker=W3,bt.MarkerManager=W1,bt.Menu=u2,bt.MenuItem=Ud,bt.MetricsManager=F1,bt.Msg=n.Msg$$module$build$src$core$msg,bt.NEXT_STATEMENT=A$,bt.Names=n.Names$$module$build$src$core$names,bt.Navigator=Vh,bt.OPPOSITE_TYPE=Lc,bt.OUTPUT_VALUE=I$,bt.Options=B0,bt.PREVIOUS_STATEMENT=N$,bt.PROCEDURE_CATEGORY_NAME=qh,bt.Procedures=Ro,bt.RENAME_VARIABLE_ID=C2,bt.RenderedConnection=Mo,bt.Scrollbar=As,bt.ScrollbarPair=va,bt.SeparatorFlyoutInflater=H1,bt.ShortcutItems=Pu,bt.ShortcutRegistry=qi,bt.TOOLBOX_AT_BOTTOM=O$,bt.TOOLBOX_AT_LEFT=R$,bt.TOOLBOX_AT_RIGHT=L$,bt.TOOLBOX_AT_TOP=M$,bt.Theme=Nc,bt.ThemeManager=ti,bt.Themes=x$,bt.Toast=co,bt.Toolbox=Dp,bt.ToolboxCategory=nu,bt.ToolboxItem=x6,bt.ToolboxSeparator=G2,bt.Tooltip=El,bt.Touch=$u,bt.Trashcan=M7,bt.UnattachedFieldError=Xs,bt.VARIABLE_CATEGORY_NAME=kh,bt.VARIABLE_DYNAMIC_CATEGORY_NAME=Ei,bt.VERSION=C$,bt.VariableMap=N7,bt.VariableModel=A7,bt.Variables=Ns,bt.VariablesDynamic=al,bt.VerticalFlyout=l6,bt.WidgetDiv=Xl,bt.Workspace=f4,bt.WorkspaceAudio=I7,bt.WorkspaceDragger=P2,bt.WorkspaceNavigationPolicy=B2,bt.WorkspaceSvg=Cl,bt.Xml=zo,bt.ZoomControls=ca,bt.blockAnimations=Ru,bt.blockRendering=Cn,bt.browserEvents=ia,bt.bubbles=V2,bt.bumpObjects=D1,bt.clipboard=tu,bt.comments=q1,bt.common=Ws,bt.config=n.config$$module$build$src$core$config,bt.constants=Ji,bt.defineBlocksWithJsonArray=j,bt.dialog=Tl,bt.dragging=H2,bt.fieldRegistry=i4,bt.geras=zu,bt.getFocusManager=n.getFocusManager$$module$build$src$core$focus_manager,bt.getMainWorkspace=L,bt.getSelected=ze,bt.hasBubble=$0,bt.hideChaff=_3,bt.icons=eu,bt.inject=R4,bt.inputs=X1,bt.isCopyable=mc,bt.isDeletable=Gi,bt.isDraggable=Ti,bt.isIcon=Q,bt.isObservable=Ki,bt.isPaster=xd,bt.isRenderedElement=H4,bt.isSelectable=Ie,bt.isSerializable=xa,bt.isVariableBackedParameterModel=or,bt.keyboardNavigationController=h4,bt.layers=Y5,bt.navigateBlock=bs,bt.navigateStacks=hs,bt.procedures=Ro,bt.registry=za,bt.renderManagement=L0,bt.serialization=y$,bt.setLocale=qa,bt.setParentContainer=Ar,bt.svgResize=Y,bt.thrasos=S6,bt.uiPosition=uo,bt.utils=os,bt.zelos=Uu,bt.__namespace__=n,bt})})(m5)),m5.exports}var nb=h3();const rb=su(nb),{Block:vk,BlockFlyoutInflater:Tk,BlockNavigationPolicy:yk,BlockSvg:_k,Blocks:Ek,ButtonFlyoutInflater:wk,COLLAPSED_FIELD_NAME:Sk,COLLAPSED_INPUT_NAME:xk,COLLAPSE_CHARS:Ck,CodeGenerator:kk,CollapsibleToolboxCategory:Ik,ComponentManager:Ak,Connection:Nk,ConnectionChecker:Mk,ConnectionDB:Ok,ConnectionNavigationPolicy:Rk,ConnectionType:Lk,ContextMenu:Dk,ContextMenuItems:Bk,ContextMenuRegistry:Pk,Css:Fk,DELETE_VARIABLE_ID:Uk,DeleteArea:zk,DragTarget:Hk,DropDownDiv:Vk,Events:Gk,Extensions:Wk,Field:qk,FieldCheckbox:Xk,FieldDropdown:jk,FieldImage:Yk,FieldLabel:Kk,FieldLabelSerializable:Jk,FieldNavigationPolicy:Zk,FieldNumber:Qk,FieldTextInput:eI,FieldVariable:tI,Flyout:nI,FlyoutButton:rI,FlyoutButtonNavigationPolicy:iI,FlyoutItem:sI,FlyoutMetricsManager:oI,FlyoutNavigationPolicy:lI,FlyoutNavigator:aI,FlyoutSeparator:uI,FlyoutSeparatorNavigationPolicy:cI,FocusManager:hI,FocusableTreeTraverser:dI,Generator:fI,Gesture:pI,Grid:mI,HorizontalFlyout:gI,INPUT_VALUE:$I,Input:bI,InsertionMarkerPreviewer:vI,KeyboardNavigationController:TI,LabelFlyoutInflater:yI,LineCursor:_I,Marker:EI,MarkerManager:wI,Menu:SI,MenuItem:xI,MetricsManager:CI,Msg:kI,NEXT_STATEMENT:II,Names:AI,Navigator:NI,OPPOSITE_TYPE:MI,OUTPUT_VALUE:OI,Options:RI,PREVIOUS_STATEMENT:LI,PROCEDURE_CATEGORY_NAME:DI,Procedures:BI,RENAME_VARIABLE_ID:PI,RenderedConnection:FI,Scrollbar:UI,ScrollbarPair:zI,SeparatorFlyoutInflater:HI,ShortcutItems:VI,ShortcutRegistry:GI,TOOLBOX_AT_BOTTOM:WI,TOOLBOX_AT_LEFT:qI,TOOLBOX_AT_RIGHT:XI,TOOLBOX_AT_TOP:jI,Theme:YI,ThemeManager:KI,Themes:JI,Toast:ZI,Toolbox:QI,ToolboxCategory:eA,ToolboxItem:tA,ToolboxSeparator:nA,Tooltip:rA,Touch:iA,Trashcan:sA,UnattachedFieldError:oA,VARIABLE_CATEGORY_NAME:lA,VARIABLE_DYNAMIC_CATEGORY_NAME:aA,VERSION:uA,VariableMap:cA,VariableModel:hA,Variables:dA,VariablesDynamic:fA,VerticalFlyout:pA,WidgetDiv:mA,Workspace:gA,WorkspaceAudio:$A,WorkspaceDragger:bA,WorkspaceNavigationPolicy:vA,WorkspaceSvg:TA,Xml:Z2,ZoomControls:yA,blockAnimations:_A,blockRendering:EA,browserEvents:wA,bubbles:SA,bumpObjects:xA,clipboard:CA,comments:kA,common:IA,config:AA,constants:NA,defineBlocksWithJsonArray:MA,dialog:OA,dragging:RA,fieldRegistry:LA,geras:DA,getFocusManager:BA,getMainWorkspace:PA,getSelected:FA,hasBubble:UA,hideChaff:zA,icons:HA,inject:ib,inputs:VA,isCopyable:GA,isDeletable:WA,isDraggable:qA,isIcon:XA,isObservable:jA,isPaster:YA,isRenderedElement:KA,isSelectable:JA,isSerializable:ZA,isVariableBackedParameterModel:QA,keyboardNavigationController:eN,layers:tN,navigateBlock:nN,navigateStacks:rN,procedures:iN,registry:sN,renderManagement:oN,serialization:J8,setLocale:lN,setParentContainer:aN,svgResize:uN,thrasos:cN,uiPosition:hN,utils:sb,zelos:dN}=rb;function ob(r,o){var n=null,a=null,h=function(){for(var $=[],_=0;_<arguments.length;_++)$[_]=arguments[_];a=function(){n=null,r.apply(void 0,$)},n!=null&&clearTimeout(n),n=window.setTimeout(a,o)},p=function(){n!=null&&(clearTimeout(n),a&&a())};return[h,p]}var x5=function(){return x5=Object.assign||function(r){for(var o,n=1,a=arguments.length;n<a;n++){o=arguments[n];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(r[h]=o[h])}return r},x5.apply(this,arguments)};function lb(r,o,n){try{return o.getAllBlocks(!1).length>0?void 0:(Z2.domToWorkspace(sb.xml.textToDom(r),o),!0)}catch(a){return n&&n(a),!1}}function ab(r,o,n){try{return J8.workspaces.load(r,o),!0}catch(a){return n&&n(a),!1}}var ub=function(r){var o=r.ref,n=r.initialXml,a=r.initialJson,h=r.toolboxConfiguration,p=r.workspaceConfiguration,$=r.onWorkspaceChange,_=r.onImportXmlError,y=r.onImportError,E=r.onInject,w=r.onDispose;y=y??_;var I=Fs.useState(null),H=I[0],F=I[1],te=Fs.useState(n||null),he=te[0],ce=te[1],K=Fs.useState(a||null),se=K[0],we=K[1],Oe=Fs.useState(!1),De=Oe[0],Se=Oe[1],je=Fs.useState(!1),at=je[0],Ze=je[1],Ke=Fs.useRef(p);Fs.useEffect(function(){Ke.current=p},[p]);var Pt=Fs.useRef(h);Fs.useEffect(function(){Pt.current=h,h&&H&&!p?.readOnly&&H.updateToolbox(h)},[h,H,p]);var Ve=Fs.useRef(E),Xt=Fs.useRef(w);Fs.useEffect(function(){Ve.current=E},[E]),Fs.useEffect(function(){Xt.current=w},[w]);var Lt=Fs.useCallback(function(Ot){$&&$(Ot)},[$]);return Fs.useEffect(function(){if(o.current){var Ot=ib(o.current,x5(x5({},Ke.current),{toolbox:Pt.current}));F(Ot),Se(!1),Ze(!1),Ve.current&&Ve.current(Ot);var st=Xt.current;return function(){Ot.dispose(),st&&st(Ot)}}},[o]),Fs.useEffect(function(){H&&!at&&Lt(H)},[Lt,at,H]),Fs.useEffect(function(){if(H!=null){var Ot=function(){Lt(H)};return H.addChangeListener(Ot),function(){H.removeChangeListener(Ot)}}},[H,Lt]),Fs.useEffect(function(){if(H!=null){var Ot=ob(function(){var vt=Z2.domToText(Z2.workspaceToDom(H));if(vt!==he){var an=J8.workspaces.save(H);we(an),ce(vt)}},200),st=Ot[0],St=Ot[1];return H.addChangeListener(st),function(){H.removeChangeListener(st),St()}}},[H,he]),Fs.useEffect(function(){if(he&&H&&!De){var Ot=lb(he,H,y);Ot||ce(null),Se(!0)}else if(se&&H&&!De){var Ot=ab(se,H,y);Ot||we(null);var st=Z2.domToText(Z2.workspaceToDom(H));ce(st),Se(!0)}},[se,he,H,De,y]),{workspace:H,xml:he,json:se}},L6={exports:{}},D6,em;function cb(){if(em)return D6;em=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return D6=r,D6}var B6,tm;function hb(){if(tm)return B6;tm=1;var r=cb();function o(){}function n(){}return n.resetWarningCache=o,B6=function(){function a($,_,y,E,w,I){if(I!==r){var H=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw H.name="Invariant Violation",H}}a.isRequired=a;function h(){return a}var p={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:h,element:a,elementType:a,instanceOf:h,node:a,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:n,resetWarningCache:o};return p.PropTypes=p,p},B6}var nm;function Z8(){return nm||(nm=1,L6.exports=hb()()),L6.exports}var db=Z8();const ya=su(db);var fb={initialXml:ya.string,initialJson:ya.object,toolboxConfiguration:ya.object,workspaceConfiguration:ya.object,className:ya.string,onWorkspaceChange:ya.func,onImportXmlError:ya.func,onImportError:ya.func,onXmlChange:ya.func,onJsonChange:ya.func,onInject:ya.func,onDispose:ya.func};function Hf(r){var o=r.initialXml,n=r.initialJson,a=r.toolboxConfiguration,h=r.workspaceConfiguration,p=r.className,$=r.onWorkspaceChange,_=r.onXmlChange,y=r.onJsonChange,E=r.onImportXmlError,w=r.onImportError,I=r.onInject,H=r.onDispose,F=Fs.useRef(null),te=ub({ref:F,initialXml:o,initialJson:n,toolboxConfiguration:a,workspaceConfiguration:h,onWorkspaceChange:$,onImportXmlError:E,onImportError:w,onInject:I,onDispose:H}),he=te.xml,ce=te.json,K=Fs.useRef(_);Fs.useEffect(function(){K.current=_},[_]);var se=Fs.useRef(y);return Fs.useEffect(function(){se.current=y},[y]),Fs.useEffect(function(){K.current&&he&&K.current(he),se.current&&ce&&se.current(ce)},[he,ce]),ye.jsx("div",{className:p,ref:F})}Hf.propTypes=fb;var g5={exports:{}},$5={exports:{}},pb=$5.exports,rm;function mb(){return rm||(rm=1,(function(r,o){(function(n,a){r.exports=a()})(pb,function(){var n=n||{Msg:Object.create(null)};return n.Msg.ADD_COMMENT="Add Comment",n.Msg.ALT_KEY="Alt",n.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",n.Msg.CHANGE_VALUE_TITLE="Change value:",n.Msg.CHROME_OS="ChromeOS",n.Msg.CLEAN_UP="Clean up Blocks",n.Msg.CLOSE="Close",n.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",n.Msg.COLLAPSE_ALL="Collapse Blocks",n.Msg.COLLAPSE_BLOCK="Collapse Block",n.Msg.COLOUR_BLEND_COLOUR1="colour 1",n.Msg.COLOUR_BLEND_COLOUR2="colour 2",n.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",n.Msg.COLOUR_BLEND_RATIO="ratio",n.Msg.COLOUR_BLEND_TITLE="blend",n.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",n.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",n.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",n.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",n.Msg.COLOUR_RANDOM_TITLE="random colour",n.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",n.Msg.COLOUR_RGB_BLUE="blue",n.Msg.COLOUR_RGB_GREEN="green",n.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",n.Msg.COLOUR_RGB_RED="red",n.Msg.COLOUR_RGB_TITLE="colour with",n.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",n.Msg.COMMAND_KEY=" Command",n.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",n.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",n.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",n.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",n.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",n.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",n.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",n.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",n.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",n.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",n.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",n.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",n.Msg.CONTROLS_IF_MSG_ELSE="else",n.Msg.CONTROLS_IF_MSG_ELSEIF="else if",n.Msg.CONTROLS_IF_MSG_IF="if",n.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",n.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",n.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",n.Msg.CONTROLS_REPEAT_INPUT_DO="do",n.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",n.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",n.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",n.Msg.CONTROL_KEY="Ctrl",n.Msg.COPY_SHORTCUT="Copy",n.Msg.CUT_SHORTCUT="Cut",n.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",n.Msg.DELETE_BLOCK="Delete Block",n.Msg.DELETE_VARIABLE="Delete the '%1' variable",n.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",n.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",n.Msg.DIALOG_CANCEL="Cancel",n.Msg.DIALOG_OK="OK",n.Msg.DISABLE_BLOCK="Disable Block",n.Msg.DUPLICATE_BLOCK="Duplicate",n.Msg.DUPLICATE_COMMENT="Duplicate Comment",n.Msg.EDIT_BLOCK_CONTENTS="Edit Block contents",n.Msg.ENABLE_BLOCK="Enable Block",n.Msg.EXPAND_ALL="Expand Blocks",n.Msg.EXPAND_BLOCK="Expand Block",n.Msg.EXTERNAL_INPUTS="External Inputs",n.Msg.HELP="Help",n.Msg.HELP_PROMPT="Press %1 for help on keyboard controls",n.Msg.INLINE_INPUTS="Inline Inputs",n.Msg.KEYBOARD_NAV_CONSTRAINED_MOVE_HINT="Use the arrow keys to move, then %1 to accept the position",n.Msg.KEYBOARD_NAV_COPIED_HINT="Copied. Press %1 to paste.",n.Msg.KEYBOARD_NAV_CUT_HINT="Cut. Press %1 to paste.",n.Msg.KEYBOARD_NAV_UNCONSTRAINED_MOVE_HINT="Hold %1 and use arrow keys to move freely, then %2 to accept the position",n.Msg.LINUX="Linux",n.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",n.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",n.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",n.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",n.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",n.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",n.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",n.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",n.Msg.LISTS_GET_INDEX_FIRST="first",n.Msg.LISTS_GET_INDEX_FROM_END="# from end",n.Msg.LISTS_GET_INDEX_FROM_START="#",n.Msg.LISTS_GET_INDEX_GET="get",n.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",n.Msg.LISTS_GET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",n.Msg.LISTS_GET_INDEX_LAST="last",n.Msg.LISTS_GET_INDEX_RANDOM="random",n.Msg.LISTS_GET_INDEX_REMOVE="remove",n.Msg.LISTS_GET_INDEX_TAIL="",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",n.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",n.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",n.Msg.LISTS_GET_SUBLIST_END_LAST="to last",n.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",n.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",n.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",n.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",n.Msg.LISTS_GET_SUBLIST_TAIL="",n.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",n.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",n.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",n.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",n.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#finding-items-in-a-list",n.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",n.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",n.Msg.LISTS_INLIST="in list",n.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",n.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",n.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",n.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",n.Msg.LISTS_LENGTH_TITLE="length of %1",n.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",n.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",n.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",n.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",n.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",n.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",n.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",n.Msg.LISTS_SET_INDEX_INPUT_TO="as",n.Msg.LISTS_SET_INDEX_INSERT="insert at",n.Msg.LISTS_SET_INDEX_SET="set",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",n.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",n.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",n.Msg.LISTS_SORT_ORDER_DESCENDING="descending",n.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",n.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",n.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",n.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",n.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",n.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",n.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",n.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",n.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",n.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",n.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",n.Msg.LOGIC_BOOLEAN_FALSE="false",n.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",n.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",n.Msg.LOGIC_BOOLEAN_TRUE="true",n.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",n.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",n.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",n.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",n.Msg.LOGIC_NEGATE_TITLE="not %1",n.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",n.Msg.LOGIC_NULL="null",n.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",n.Msg.LOGIC_NULL_TOOLTIP="Returns null.",n.Msg.LOGIC_OPERATION_AND="and",n.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",n.Msg.LOGIC_OPERATION_OR="or",n.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",n.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",n.Msg.LOGIC_TERNARY_CONDITION="test",n.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",n.Msg.LOGIC_TERNARY_IF_FALSE="if false",n.Msg.LOGIC_TERNARY_IF_TRUE="if true",n.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",n.Msg.MAC_OS="macOS",n.Msg.MATH_ADDITION_SYMBOL="+",n.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",n.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",n.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",n.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",n.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",n.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",n.Msg.MATH_CHANGE_TITLE="change %1 by %2",n.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",n.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",n.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants:  (3.141), e (2.718),  (1.618), sqrt(2) (1.414), sqrt() (0.707), or  (infinity).",n.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",n.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",n.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",n.Msg.MATH_DIVISION_SYMBOL="",n.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",n.Msg.MATH_IS_EVEN="is even",n.Msg.MATH_IS_NEGATIVE="is negative",n.Msg.MATH_IS_ODD="is odd",n.Msg.MATH_IS_POSITIVE="is positive",n.Msg.MATH_IS_PRIME="is prime",n.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",n.Msg.MATH_IS_WHOLE="is whole",n.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",n.Msg.MATH_MODULO_TITLE="remainder of %1  %2",n.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",n.Msg.MATH_MULTIPLICATION_SYMBOL="",n.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",n.Msg.MATH_NUMBER_TOOLTIP="A number.",n.Msg.MATH_ONLIST_HELPURL="",n.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",n.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",n.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",n.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",n.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",n.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",n.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",n.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",n.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",n.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",n.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",n.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",n.Msg.MATH_POWER_SYMBOL="^",n.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",n.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",n.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",n.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",n.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",n.Msg.MATH_ROUND_OPERATOR_ROUND="round",n.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",n.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",n.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",n.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",n.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",n.Msg.MATH_SINGLE_OP_ROOT="square root",n.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",n.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",n.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",n.Msg.MATH_SUBTRACTION_SYMBOL="-",n.Msg.MATH_TRIG_ACOS="acos",n.Msg.MATH_TRIG_ASIN="asin",n.Msg.MATH_TRIG_ATAN="atan",n.Msg.MATH_TRIG_COS="cos",n.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",n.Msg.MATH_TRIG_SIN="sin",n.Msg.MATH_TRIG_TAN="tan",n.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",n.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",n.Msg.MOVE_BLOCK="Move Block",n.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",n.Msg.NEW_NUMBER_VARIABLE="Create number variable...",n.Msg.NEW_STRING_VARIABLE="Create string variable...",n.Msg.NEW_VARIABLE="Create variable...",n.Msg.NEW_VARIABLE_TITLE="New variable name:",n.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",n.Msg.OPTION_KEY=" Option",n.Msg.ORDINAL_NUMBER_SUFFIX="",n.Msg.PASTE_SHORTCUT="Paste",n.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",n.Msg.PROCEDURES_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",n.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",n.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CALL_DISABLED_DEF_WARNING="Can't run the user-defined function '%1' because the definition block is disabled.",n.Msg.PROCEDURES_CREATE_DO="Create '%1'",n.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",n.Msg.PROCEDURES_DEFNORETURN_DO="",n.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",n.Msg.PROCEDURES_DEFNORETURN_TITLE="to",n.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",n.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFRETURN_RETURN="return",n.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",n.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",n.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",n.Msg.PROCEDURES_IFRETURN_HELPURL="https://c2.com/cgi/wiki?GuardClause",n.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",n.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",n.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",n.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",n.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",n.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",n.Msg.REDO="Redo",n.Msg.REMOVE_COMMENT="Remove Comment",n.Msg.RENAME_VARIABLE="Rename variable...",n.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",n.Msg.SHORTCUTS_CODE_NAVIGATION="Code navigation",n.Msg.SHORTCUTS_EDITING="Editing",n.Msg.SHORTCUTS_GENERAL="General",n.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_APPEND_TITLE="to %1 append text %2",n.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",n.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",n.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",n.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",n.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",n.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",n.Msg.TEXT_CHARAT_FIRST="get first letter",n.Msg.TEXT_CHARAT_FROM_END="get letter # from end",n.Msg.TEXT_CHARAT_FROM_START="get letter #",n.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",n.Msg.TEXT_CHARAT_LAST="get last letter",n.Msg.TEXT_CHARAT_RANDOM="get random letter",n.Msg.TEXT_CHARAT_TAIL="",n.Msg.TEXT_CHARAT_TITLE="in text %1 %2",n.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",n.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",n.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",n.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",n.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",n.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",n.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",n.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",n.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",n.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",n.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",n.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",n.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",n.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",n.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",n.Msg.TEXT_GET_SUBSTRING_TAIL="",n.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",n.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",n.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",n.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",n.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",n.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",n.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",n.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",n.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",n.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",n.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",n.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",n.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_LENGTH_TITLE="length of %1",n.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",n.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",n.Msg.TEXT_PRINT_TITLE="print %1",n.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",n.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",n.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",n.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",n.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",n.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",n.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",n.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",n.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",n.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",n.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",n.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",n.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",n.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",n.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",n.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",n.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",n.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",n.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",n.Msg.TODAY="Today",n.Msg.UNDO="Undo",n.Msg.UNKNOWN="Unknown",n.Msg.UNNAMED_KEY="unnamed",n.Msg.VARIABLES_DEFAULT_NAME="item",n.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",n.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",n.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",n.Msg.VARIABLES_SET="set %1 to %2",n.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",n.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",n.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",n.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER="A variable named '%1' already exists as a parameter in the procedure '%2'.",n.Msg.WINDOWS="Windows",n.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",n.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",n.Msg.CONTROLS_FOREACH_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_FOR_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=n.Msg.CONTROLS_IF_MSG_ELSEIF,n.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=n.Msg.CONTROLS_IF_MSG_ELSE,n.Msg.CONTROLS_IF_IF_TITLE_IF=n.Msg.CONTROLS_IF_MSG_IF,n.Msg.CONTROLS_IF_MSG_THEN=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.LISTS_CREATE_WITH_ITEM_TITLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.MATH_CHANGE_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.PROCEDURES_DEFRETURN_COMMENT=n.Msg.PROCEDURES_DEFNORETURN_COMMENT,n.Msg.PROCEDURES_DEFRETURN_DO=n.Msg.PROCEDURES_DEFNORETURN_DO,n.Msg.PROCEDURES_DEFRETURN_PROCEDURE=n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,n.Msg.PROCEDURES_DEFRETURN_TITLE=n.Msg.PROCEDURES_DEFNORETURN_TITLE,n.Msg.TEXT_APPEND_VARIABLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.COLOUR_HUE="20",n.Msg.LISTS_HUE="260",n.Msg.LOGIC_HUE="210",n.Msg.LOOPS_HUE="120",n.Msg.MATH_HUE="230",n.Msg.PROCEDURES_HUE="290",n.Msg.TEXTS_HUE="160",n.Msg.VARIABLES_DYNAMIC_HUE="310",n.Msg.VARIABLES_HUE="330",n.Msg})})($5)),$5.exports}var b5={exports:{}},gb=b5.exports,im;function $b(){return im||(im=1,(function(r,o){(function(n,a){r.exports=a(h3())})(gb,function(n){var a=n.__namespace__,h=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),p={customContextMenu:function(L){if(this.isInFlyout)(this.type==="variables_get_dynamic"||this.type==="variables_get_reporter_dynamic")&&(ze={text:a.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:$(this)},Pe=this.getField("VAR").getText(),Pe={text:a.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",Pe),enabled:!0,callback:_(this)},L.unshift(ze),L.unshift(Pe));else{if(this.type==="variables_get_dynamic")var ae="variables_set_dynamic",ze=a.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else ae="variables_get_dynamic",ze=a.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var Pe=this.getField("VAR");ae={type:ae,fields:{VAR:Pe.saveState(!0)}},L.push({enabled:this.workspace.remainingCapacity()>0,text:ze.replace("%1",Pe.getText()),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,ae)})}},onchange:function(L){L=this.getFieldValue("VAR"),L=a.getVariable$$module$build$src$core$variables(this.workspace,L),this.type==="variables_get_dynamic"?this.outputConnection.setCheck(L.getType()):this.getInput("VALUE").connection.setCheck(L.getType())}},$=function(L){return function(){const ae=L.workspace,ze=L.getField("VAR").getVariable();a.renameVariable$$module$build$src$core$variables(ae,ze)}},_=function(L){return function(){const ae=L.getField("VAR").getVariable();ae&&a.deleteVariable$$module$build$src$core$variables(ae.getWorkspace(),ae,L)}};a.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter",p),a.defineBlocks$$module$build$src$core$common(h);var y={blocks:h},E=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),w={customContextMenu:function(L){if(this.isInFlyout)(this.type==="variables_get"||this.type==="variables_get_reporter")&&(ze={text:a.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:I(this)},Pe=this.getField("VAR").getText(),Pe={text:a.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",Pe),enabled:!0,callback:H(this)},L.unshift(ze),L.unshift(Pe));else{if(this.type==="variables_get")var ae="variables_set",ze=a.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else ae="variables_get",ze=a.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var Pe=this.getField("VAR");ae={type:ae,fields:{VAR:Pe.saveState(!0)}},L.push({enabled:this.workspace.remainingCapacity()>0,text:ze.replace("%1",Pe.getText()),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,ae)})}}},I=function(L){return function(){const ae=L.workspace,ze=L.getField("VAR").getVariable();a.renameVariable$$module$build$src$core$variables(ae,ze)}},H=function(L){return function(){const ae=L.getField("VAR").getVariable();ae&&a.deleteVariable$$module$build$src$core$variables(ae.getWorkspace(),ae,L)}};a.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter",w),a.defineBlocks$$module$build$src$core$common(E);var F={blocks:E},te=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),he={init:function(){this.WHERE_OPTIONS_1=[[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);const L=ae=>{const ze=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+ae]});return ze.setValidator(function(Pe){const Dt=this.getValue();Pe=Pe==="FROM_START"||Pe==="FROM_END",Pe!==(Dt==="FROM_START"||Dt==="FROM_END")&&this.getSourceBlock().updateAt_(ae,Pe)}),ze};this.appendDummyInput("WHERE1_INPUT").appendField(L(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(L(2),"WHERE2"),this.appendDummyInput("AT2"),a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const L=a.createElement$$module$build$src$core$utils$xml("mutation");var ae=this.getInput("AT1")instanceof a.ValueInput$$module$build$src$core$inputs$value_input;return L.setAttribute("at1",`${ae}`),ae=this.getInput("AT2")instanceof a.ValueInput$$module$build$src$core$inputs$value_input,L.setAttribute("at2",`${ae}`),L},domToMutation:function(L){const ae=L.getAttribute("at1")==="true";L=L.getAttribute("at2")==="true",this.updateAt_(1,ae),this.updateAt_(2,L)},updateAt_:function(L,ae){this.removeInput("AT"+L),this.removeInput("ORDINAL"+L,!0),ae?(this.appendValueInput("AT"+L).setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+L).appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+L),L===2&&a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL)),L===1&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT"))}};te.text_getSubstring=he,te.text_changeCase={init:function(){const L=[[a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:L}),"CASE"),this.setOutput(!0,"String"),this.setTooltip(a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}},te.text_trim={init:function(){const L=[[a.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[a.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[a.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:L}),"MODE"),this.setOutput(!0,"String"),this.setTooltip(a.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}},te.text_print={init:function(){this.jsonInit({message0:a.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:a.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:a.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};var ce={updateType_:function(L){this.outputConnection.setCheck(L==="NUMBER"?"Number":"String")},mutationToDom:function(){const L=a.createElement$$module$build$src$core$utils$xml("mutation");return L.setAttribute("type",this.getFieldValue("TYPE")),L},domToMutation:function(L){this.updateType_(L.getAttribute("type"))}};te.text_prompt_ext=Object.assign({},ce,{init:function(){var L=[[a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),L=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:L}),L.setValidator(ae=>{this.updateType_(ae)}),this.appendValueInput("TEXT").appendField(L,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),te.text_prompt=Object.assign({},ce,{init:function(){this.mixin(K);var L=[[a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),L=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:L}),L.setValidator(ae=>{this.updateType_(ae)}),this.appendDummyInput().appendField(L,"TYPE").appendField(this.newQuote_(!0)).appendField(a.fromJson$$module$build$src$core$field_registry({type:"field_input",text:""}),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),te.text_count={init:function(){this.jsonInit({message0:a.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:a.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:a.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}},te.text_replace={init:function(){this.jsonInit({message0:a.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:a.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:a.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}},te.text_reverse={init:function(){this.jsonInit({message0:a.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:a.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:a.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};var K={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(L){for(let ae=0,ze;ze=this.inputList[ae];ae++)for(let Pe=0,Dt;Dt=ze.fieldRow[Pe];Pe++)if(L===Dt.name){ze.insertFieldAt(Pe,this.newQuote_(!0)),ze.insertFieldAt(Pe+2,this.newQuote_(!1));return}console.warn('field named "'+L+'" not found in '+this.toDevString())},newQuote_:function(L){return L=this.RTL?!L:L,a.fromJson$$module$build$src$core$field_registry({type:"field_image",src:L?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,height:this.QUOTE_IMAGE_HEIGHT,alt:L?"":""})}},se=function(){this.mixin(K),this.quoteField_("TEXT")},we={itemCount_:0,mutationToDom:function(){const L=a.createElement$$module$build$src$core$utils$xml("mutation");return L.setAttribute("items",`${this.itemCount_}`),L},domToMutation:function(L){this.itemCount_=parseInt(L.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(L){this.itemCount_=L.itemCount,this.updateShape_()},decompose:function(L){const ae=L.newBlock("text_create_join_container");ae.initSvg();let ze=ae.getInput("STACK").connection;for(let Pe=0;Pe<this.itemCount_;Pe++){const Dt=L.newBlock("text_create_join_item");Dt.initSvg(),ze.connect(Dt.previousConnection),ze=Dt.nextConnection}return ae},compose:function(L){var ae=L.getInputTargetBlock("STACK");for(L=[];ae;)ae.isInsertionMarker()||L.push(ae.valueConnection_),ae=ae.getNextBlock();for(ae=0;ae<this.itemCount_;ae++){const ze=this.getInput("ADD"+ae).connection.targetConnection;ze&&!L.includes(ze)&&ze.disconnect()}for(this.itemCount_=L.length,this.updateShape_(),ae=0;ae<this.itemCount_;ae++){let ze;(ze=L[ae])==null||ze.reconnect(this,"ADD"+ae)}},saveConnections:function(L){L=L.getInputTargetBlock("STACK");let ae=0;for(;L;){if(L.isInsertionMarker()){L=L.getNextBlock();continue}const ze=this.getInput("ADD"+ae);L.valueConnection_=ze&&ze.connection.targetConnection,L=L.getNextBlock(),ae++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var L=0;L<this.itemCount_;L++)if(!this.getInput("ADD"+L)){const ae=this.appendValueInput("ADD"+L).setAlign(a.Align$$module$build$src$core$inputs$align.RIGHT);L===0&&ae.appendField(a.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(L=this.itemCount_;this.getInput("ADD"+L);L++)this.removeInput("ADD"+L)}},Oe=function(){this.mixin(K),this.itemCount_=2,this.updateShape_(),this.setMutator(new a.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"],this))};a.register$$module$build$src$core$extensions("text_append_tooltip",a.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var De=function(){this.setTooltip(()=>a.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))},Se={isAt_:!1,mutationToDom:function(){const L=a.createElement$$module$build$src$core$utils$xml("mutation");return L.setAttribute("at",`${this.isAt_}`),L},domToMutation:function(L){L=L.getAttribute("at")!=="false",this.updateAt_(L)},updateAt_:function(L){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),L&&(this.appendValueInput("AT").setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)),a.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL)),this.isAt_=L}},je=function(){this.getField("WHERE").setValidator(function(L){L=L==="FROM_START"||L==="FROM_END";const ae=this.getSourceBlock();L!==ae.isAt_&&ae.updateAt_(L)}),this.updateAt_(!0),this.setTooltip(()=>{var L=this.getFieldValue("WHERE");let ae=a.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;return(L==="FROM_START"||L==="FROM_END")&&(L=L==="FROM_START"?a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(ae+="  "+L.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),ae})};a.register$$module$build$src$core$extensions("text_indexOf_tooltip",De),a.register$$module$build$src$core$extensions("text_quotes",se),a.registerMixin$$module$build$src$core$extensions("quote_image_mixin",K),a.registerMutator$$module$build$src$core$extensions("text_join_mutator",we,Oe),a.registerMutator$$module$build$src$core$extensions("text_charAt_mutator",Se,je),a.defineBlocks$$module$build$src$core$common(te);var at={blocks:te},Ze={},Ke={setStatements_:function(L){this.hasStatements_!==L&&(L?(this.appendStatementInput("STACK").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=L)},updateParams_:function(){let L="";this.arguments_.length&&(L=a.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),a.disable$$module$build$src$core$events$utils();try{this.setFieldValue(L,"PARAMS")}finally{a.enable$$module$build$src$core$events$utils()}},mutationToDom:function(L){const ae=a.createElement$$module$build$src$core$utils$xml("mutation");L&&ae.setAttribute("name",this.getFieldValue("NAME"));for(let ze=0;ze<this.argumentVarModels_.length;ze++){const Pe=a.createElement$$module$build$src$core$utils$xml("arg"),Dt=this.argumentVarModels_[ze];Pe.setAttribute("name",Dt.getName()),Pe.setAttribute("varid",Dt.getId()),L&&this.paramIds_&&Pe.setAttribute("paramId",this.paramIds_[ze]),ae.appendChild(Pe)}return this.hasStatements_||ae.setAttribute("statements","false"),ae},domToMutation:function(L){this.arguments_=[],this.argumentVarModels_=[];for(let ze=0,Pe;Pe=L.childNodes[ze];ze++)if(Pe.nodeName.toLowerCase()==="arg"){var ae=Pe;const Dt=ae.getAttribute("name");ae=ae.getAttribute("varid")||ae.getAttribute("varId"),this.arguments_.push(Dt),ae=a.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,ae,Dt,""),ae!==null?this.argumentVarModels_.push(ae):console.log(`Failed to create a variable named "${Dt}", ignoring.`)}this.updateParams_(),a.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(L.getAttribute("statements")!=="false")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const L=Object.create(null);if(this.argumentVarModels_.length){L.params=[];for(let ae=0;ae<this.argumentVarModels_.length;ae++)L.params.push({name:this.argumentVarModels_[ae].getName(),id:this.argumentVarModels_[ae].getId()})}return this.hasStatements_||(L.hasStatements=!1),L},loadExtraState:function(L){if(this.arguments_=[],this.argumentVarModels_=[],L.params)for(let ze=0;ze<L.params.length;ze++){var ae=L.params[ze];ae=a.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,ae.id,ae.name,""),this.arguments_.push(ae.getName()),this.argumentVarModels_.push(ae)}this.updateParams_(),a.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(L.hasStatements!==!1)},decompose:function(L){const ae=a.createElement$$module$build$src$core$utils$xml("block");ae.setAttribute("type","procedures_mutatorcontainer");var ze=a.createElement$$module$build$src$core$utils$xml("statement");ze.setAttribute("name","STACK"),ae.appendChild(ze);for(let Dt=0;Dt<this.arguments_.length;Dt++){const Sn=a.createElement$$module$build$src$core$utils$xml("block");Sn.setAttribute("type","procedures_mutatorarg");var Pe=a.createElement$$module$build$src$core$utils$xml("field");Pe.setAttribute("name","NAME");const Ar=a.createTextNode$$module$build$src$core$utils$xml(this.arguments_[Dt]);Pe.appendChild(Ar),Sn.appendChild(Pe),Pe=a.createElement$$module$build$src$core$utils$xml("next"),Sn.appendChild(Pe),ze.appendChild(Sn),ze=Pe}return L=a.domToBlock$$module$build$src$core$xml(ae,L),this.type==="procedures_defreturn"?L.setFieldValue(this.hasStatements_,"STATEMENTS"):L.removeInput("STATEMENT_INPUT"),a.mutateCallers$$module$build$src$core$procedures(this),L},compose:function(L){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let ae=L.getInputTargetBlock("STACK");for(;ae&&!ae.isInsertionMarker();){var ze=ae.getFieldValue("NAME");this.arguments_.push(ze),ze=this.workspace.getVariable(ze,""),this.argumentVarModels_.push(ze),this.paramIds_.push(ae.id),ae=ae.nextConnection&&ae.nextConnection.targetBlock()}if(this.updateParams_(),a.mutateCallers$$module$build$src$core$procedures(this),L=L.getFieldValue("STATEMENTS"),L!==null&&(L=L==="TRUE",this.hasStatements_!==L))if(L){this.setStatements_(!0);var Pe;(Pe=this.statementConnection_)==null||Pe.reconnect(this,"STACK"),this.statementConnection_=null}else Pe=this.getInput("STACK").connection,(this.statementConnection_=Pe.targetConnection)&&(Pe=Pe.targetBlock(),Pe.unplug(),Pe.bumpNeighbours()),this.setStatements_(!1)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(L,ae){var ze=this.workspace.getVariableById(L);if(ze.getType()===""){ze=ze.getName(),ae=this.workspace.getVariableById(ae);var Pe=!1;for(let Dt=0;Dt<this.argumentVarModels_.length;Dt++)this.argumentVarModels_[Dt].getId()===L&&(this.arguments_[Dt]=ae.getName(),this.argumentVarModels_[Dt]=ae,Pe=!0);Pe&&(this.displayRenamedVar_(ze,ae.getName()),a.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(L){const ae=L.getName();let ze=!1,Pe;for(let Dt=0;Dt<this.argumentVarModels_.length;Dt++)this.argumentVarModels_[Dt].getId()===L.getId()&&(Pe=this.arguments_[Dt],this.arguments_[Dt]=ae,ze=!0);ze&&(this.displayRenamedVar_(Pe,ae),a.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(L,ae){this.updateParams_();var ze=this.getIcon(a.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(ze&&ze.bubbleIsVisible()){ze=ze.getWorkspace().getAllBlocks(!1);for(let Pe=0,Dt;Dt=ze[Pe];Pe++)Dt.type==="procedures_mutatorarg"&&a.Names$$module$build$src$core$names.equals(L,Dt.getFieldValue("NAME"))&&Dt.setFieldValue(ae,"NAME")}},customContextMenu:function(L){if(!this.isInFlyout){var ae=this.getFieldValue("NAME"),ze={type:this.callType_,extraState:{name:ae,params:this.arguments_}};if(L.push({enabled:!0,text:a.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1",ae),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,ze)}),!this.isCollapsed())for(ae=0;ae<this.argumentVarModels_.length;ae++){ze=this.argumentVarModels_[ae];const Pe={type:"variables_get",fields:{VAR:{name:ze.getName(),id:ze.getId(),type:ze.getType()}}};L.push({enabled:!0,text:a.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",ze.getName()),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,Pe)})}}}};Ze.procedures_defnoreturn=Object.assign({},Ke,{init:function(){var L=a.findLegalName$$module$build$src$core$procedures("",this);L=a.fromJson$$module$build$src$core$field_registry({type:"field_input",text:L}),L.setValidator(a.rename$$module$build$src$core$procedures),L.setSpellcheck(!1),this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(L,"NAME").appendField("","PARAMS"),this.setMutator(new a.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),Ze.procedures_defreturn=Object.assign({},Ke,{init:function(){var L=a.findLegalName$$module$build$src$core$procedures("",this);L=a.fromJson$$module$build$src$core$field_registry({type:"field_input",text:L}),L.setValidator(a.rename$$module$build$src$core$procedures),L.setSpellcheck(!1),this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(L,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(a.Align$$module$build$src$core$inputs$align.RIGHT).appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new a.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"});var Pt={init:function(){this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField(a.fromJson$$module$build$src$core$field_registry({type:"field_checkbox",checked:!0}),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}};Ze.procedures_mutatorcontainer=Pt;var Ve=class extends a.FieldTextInput$$module$build$src$core$field_textinput{constructor(){super(...arguments),this.editingInteractively=!1}showEditor_(L){super.showEditor_(L),this.editingInteractively=!0,this.editingVariable=void 0}onFinishEditing_(L){super.onFinishEditing_(L),this.editingInteractively=!1}},Xt={init:function(){const L=new Ve(a.DEFAULT_ARG$$module$build$src$core$procedures,this.validator_);this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(L,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1},validator_:function(L){var ae=this.getSourceBlock();const ze=ae.workspace.getRootWorkspace();if(L=L.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!L)return null;const Pe=(ae.workspace.targetWorkspace||ae.workspace).getAllBlocks(!1),Dt=L.toLowerCase();for(let Sn=0;Sn<Pe.length;Sn++){if(Pe[Sn].id===this.getSourceBlock().id)continue;const Ar=Pe[Sn].getFieldValue("NAME");if(Ar&&Ar.toLowerCase()===Dt)return null}return ae.isInFlyout||((ae=ze.getVariable(L,""))&&ae.getName()!==L&&ze.renameVariableById(ae.getId(),L),ae||(this.editingInteractively?this.editingVariable?ze.renameVariableById(this.editingVariable.getId(),L):this.editingVariable=ze.createVariable(L,""):ze.createVariable(L,""))),L}};Ze.procedures_mutatorarg=Xt;var Lt="DISABLED_PROCEDURE_DEFINITION",Ot={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(L,ae){a.Names$$module$build$src$core$names.equals(L,this.getProcedureCall())&&(this.setFieldValue(ae,"NAME"),this.setTooltip((this.outputConnection?a.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:a.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",ae)))},setProcedureParameters_:function(L,ae){var ze=a.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);if((ze=(ze=ze&&ze.getIcon(a.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&ze.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),L.join(`
`)===this.arguments_.join(`
`))this.quarkIds_=ae;else{if(ae.length!==L.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);for(let Dt=0;Dt<this.arguments_.length;Dt++){var Pe=this.getInput("ARG"+Dt);Pe&&(Pe=Pe.connection.targetConnection,this.quarkConnections_[this.quarkIds_[Dt]]=Pe,ze&&Pe&&!ae.includes(this.quarkIds_[Dt])&&(Pe.disconnect(),Pe.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(L),this.argumentVarModels_=[],L=0;L<this.arguments_.length;L++)ze=a.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[L],""),this.argumentVarModels_.push(ze);if(this.updateShape_(),this.quarkIds_=ae){for(ae=0;ae<this.arguments_.length;ae++)if(L=this.quarkIds_[ae],L in this.quarkConnections_){let Dt;(Dt=this.quarkConnections_[L])!=null&&Dt.reconnect(this,"ARG"+ae)||delete this.quarkConnections_[L]}}}},updateShape_:function(){for(var L=0;L<this.arguments_.length;L++){var ae=this.getField("ARGNAME"+L);if(ae){a.disable$$module$build$src$core$events$utils();try{ae.setValue(this.arguments_[L])}finally{a.enable$$module$build$src$core$events$utils()}}else ae=a.fromJson$$module$build$src$core$field_registry({type:"field_label",text:this.arguments_[L]}),this.appendValueInput("ARG"+L).setAlign(a.Align$$module$build$src$core$inputs$align.RIGHT).appendField(ae,"ARGNAME"+L)}for(L=this.arguments_.length;this.getInput("ARG"+L);L++)this.removeInput("ARG"+L);(L=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||L.appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"):this.getField("WITH")&&L.removeField("WITH"))},mutationToDom:function(){const L=a.createElement$$module$build$src$core$utils$xml("mutation");L.setAttribute("name",this.getProcedureCall());for(let ae=0;ae<this.arguments_.length;ae++){const ze=a.createElement$$module$build$src$core$utils$xml("arg");ze.setAttribute("name",this.arguments_[ae]),L.appendChild(ze)}return L},domToMutation:function(L){var ae=L.getAttribute("name");this.renameProcedure(this.getProcedureCall(),ae),ae=[];const ze=[];for(let Pe=0,Dt;Dt=L.childNodes[Pe];Pe++)Dt.nodeName.toLowerCase()==="arg"&&(ae.push(Dt.getAttribute("name")),ze.push(Dt.getAttribute("paramId")));this.setProcedureParameters_(ae,ze)},saveExtraState:function(){const L=Object.create(null);return L.name=this.getProcedureCall(),this.arguments_.length&&(L.params=this.arguments_),L},loadExtraState:function(L){if(this.renameProcedure(this.getProcedureCall(),L.name),L=L.params){const ae=[];ae.length=L.length,ae.fill(null),this.setProcedureParameters_(L,ae)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(L){if(this.workspace&&!this.workspace.isFlyout&&L.recordUndo)if(L.type===a.BLOCK_CREATE$$module$build$src$core$events$events&&L.ids.includes(this.id)){var ae=this.getProcedureCall(),ze=a.getDefinition$$module$build$src$core$procedures(ae,this.workspace);if(!ze||ze.type===this.defType_&&JSON.stringify(ze.getVars())===JSON.stringify(this.arguments_)||(ze=null),ze)ze.isEnabled()||(this.setDisabledReason(!0,Lt),this.setWarningText(a.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",ae)));else{a.setGroup$$module$build$src$core$events$utils(L.group),L=a.createElement$$module$build$src$core$utils$xml("xml"),ae=a.createElement$$module$build$src$core$utils$xml("block"),ae.setAttribute("type",this.defType_),ze=this.getRelativeToSurfaceXY();var Pe=ze.y+a.config$$module$build$src$core$config.snapRadius*2;ae.setAttribute("x",`${ze.x+a.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`),ae.setAttribute("y",`${Pe}`),ze=this.mutationToDom(),ae.appendChild(ze),ze=a.createElement$$module$build$src$core$utils$xml("field"),ze.setAttribute("name","NAME"),Pe=this.getProcedureCall();const Dt=a.findLegalName$$module$build$src$core$procedures(Pe,this);Pe!==Dt&&this.renameProcedure(Pe,Dt),ze.appendChild(a.createTextNode$$module$build$src$core$utils$xml(Pe)),ae.appendChild(ze),L.appendChild(ae),a.domToWorkspace$$module$build$src$core$xml(L,this.workspace),a.setGroup$$module$build$src$core$events$utils(!1)}}else L.type===a.BLOCK_DELETE$$module$build$src$core$events$events?(ae=this.getProcedureCall(),a.getDefinition$$module$build$src$core$procedures(ae,this.workspace)||(a.setGroup$$module$build$src$core$events$utils(L.group),this.dispose(!0),a.setGroup$$module$build$src$core$events$utils(!1))):L.type===a.BLOCK_CHANGE$$module$build$src$core$events$events&&L.element==="disabled"&&(ae=this.getProcedureCall(),(Pe=a.getDefinition$$module$build$src$core$procedures(ae,this.workspace))&&Pe.id===L.blockId&&((ze=a.getGroup$$module$build$src$core$events$utils())&&console.log("Saw an existing group while responding to a definition change"),a.setGroup$$module$build$src$core$events$utils(L.group),L=Pe.isEnabled(),this.setDisabledReason(!L,Lt),this.setWarningText(L?null:a.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",ae)),a.setGroup$$module$build$src$core$events$utils(ze)))},customContextMenu:function(L){if(this.workspace.isMovable()){var ae=this.getProcedureCall(),ze=this.workspace;L.push({enabled:!0,text:a.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const Pe=a.getDefinition$$module$build$src$core$procedures(ae,ze);Pe&&(ze.centerOnBlock(Pe.id),a.getFocusManager$$module$build$src$core$focus_manager().focusNode(Pe))}})}}};Ze.procedures_callnoreturn=Object.assign({},Ot,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defnoreturn"}),Ze.procedures_callreturn=Object.assign({},Ot,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defreturn"});var st="UNPARENTED_IFRETURN",St={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(a.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){const L=a.createElement$$module$build$src$core$utils$xml("mutation");return L.setAttribute("value",String(Number(this.hasReturnValue_))),L},domToMutation:function(L){this.hasReturnValue_=L.getAttribute("value")==="1",this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(L){if(!(this.workspace.isDragging&&this.workspace.isDragging()||L.type!==a.BLOCK_MOVE$$module$build$src$core$events$events&&L.type!==a.BLOCK_CREATE$$module$build$src$core$events$events)){L=!1;var ae=this;do{if(this.FUNCTION_TYPES.includes(ae.type)){L=!0;break}ae=ae.getSurroundParent()}while(ae);if(L?(ae.type==="procedures_defnoreturn"&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):ae.type!=="procedures_defreturn"||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(a.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING),!this.isInFlyout)try{a.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!L,st)}finally{a.setRecordUndo$$module$build$src$core$events$utils(!0)}}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};Ze.procedures_ifreturn=St,a.defineBlocks$$module$build$src$core$common(Ze);var vt={blocks:Ze},an=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["","PI"],["e","E"],["","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt()","SQRT1_2"],["","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),de={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};a.register$$module$build$src$core$extensions("math_op_tooltip",a.buildTooltipForDropdown$$module$build$src$core$extensions("OP",de));var Le={mutationToDom:function(){const L=a.createElement$$module$build$src$core$utils$xml("mutation"),ae=this.getFieldValue("PROPERTY")==="DIVISIBLE_BY";return L.setAttribute("divisor_input",String(ae)),L},domToMutation:function(L){L=L.getAttribute("divisor_input")==="true",this.updateShape_(L)},updateShape_:function(L){const ae=this.getInput("DIVISOR");L?ae||this.appendValueInput("DIVISOR").setCheck("Number"):ae&&this.removeInput("DIVISOR")}},tt=function(){this.getField("PROPERTY").setValidator(function(L){L=L==="DIVISIBLE_BY",this.getSourceBlock().updateShape_(L)})};a.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator",Le,tt),a.register$$module$build$src$core$extensions("math_change_tooltip",a.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var _e={updateType_:function(L){L==="MODE"?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){const L=a.createElement$$module$build$src$core$utils$xml("mutation");return L.setAttribute("op",this.getFieldValue("OP")),L},domToMutation:function(L){if(L=L.getAttribute("op"),L===null)throw new TypeError("xmlElement had no op attribute");this.updateType_(L)}},Ft=function(){this.getField("OP").setValidator((function(L){this.updateType_(L)}).bind(this))};a.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator",_e,Ft),a.defineBlocks$$module$build$src$core$common(an);var It={blocks:an},Qt=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),cn={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};a.register$$module$build$src$core$extensions("controls_whileUntil_tooltip",a.buildTooltipForDropdown$$module$build$src$core$extensions("MODE",cn));var Hn={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};a.register$$module$build$src$core$extensions("controls_flow_tooltip",a.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW",Hn));var mn={customContextMenu:function(L){if(!this.isInFlyout){var ae=this.getField("VAR"),ze=ae.getVariable().getName();this.isCollapsed()||ze===null||(ae={type:"variables_get",fields:{VAR:ae.saveState(!0)}},L.push({enabled:!0,text:a.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",ze),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,ae)}))}}};a.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock",mn),a.register$$module$build$src$core$extensions("controls_for_tooltip",a.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),a.register$$module$build$src$core$extensions("controls_forEach_tooltip",a.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));var sn=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]),qn="CONTROL_FLOW_NOT_IN_LOOP",ct={getSurroundLoop:function(){let L=this;do{if(sn.has(L.type))return L;L=L.getSurroundParent()}while(L);return null},onchange:function(L){const ae=this.workspace;if(ae.isDragging&&!ae.isDragging()&&(L.type===a.BLOCK_MOVE$$module$build$src$core$events$events||L.type===a.BLOCK_CREATE$$module$build$src$core$events$events)&&(L=!!this.getSurroundLoop(),this.setWarningText(L?null:a.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout))try{a.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!L,qn)}finally{a.setRecordUndo$$module$build$src$core$events$utils(!0)}}};a.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check",ct),a.defineBlocks$$module$build$src$core$common(Qt);var rn={blocks:Qt,loopTypes:sn},Br=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["","NEQ"],["<","LT"],["","LTE"],[">","GT"],["","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),Zn={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};a.register$$module$build$src$core$extensions("logic_op_tooltip",a.buildTooltipForDropdown$$module$build$src$core$extensions("OP",Zn));var mr={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const L=a.createElement$$module$build$src$core$utils$xml("mutation");return this.elseifCount_&&L.setAttribute("elseif",String(this.elseifCount_)),this.elseCount_&&L.setAttribute("else","1"),L},domToMutation:function(L){this.elseifCount_=parseInt(L.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(L.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const L=Object.create(null);return this.elseifCount_&&(L.elseIfCount=this.elseifCount_),this.elseCount_&&(L.hasElse=!0),L},loadExtraState:function(L){this.elseifCount_=L.elseIfCount||0,this.elseCount_=L.hasElse?1:0,this.updateShape_()},decompose:function(L){const ae=L.newBlock("controls_if_if");ae.initSvg();let ze=ae.nextConnection;for(let Pe=1;Pe<=this.elseifCount_;Pe++){const Dt=L.newBlock("controls_if_elseif");Dt.initSvg(),ze.connect(Dt.previousConnection),ze=Dt.nextConnection}return this.elseCount_&&(L=L.newBlock("controls_if_else"),L.initSvg(),ze.connect(L.previousConnection)),ae},compose:function(L){L=L.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;const ae=[null],ze=[null];let Pe=null;for(;L;){if(!L.isInsertionMarker())switch(L.type){case"controls_if_elseif":this.elseifCount_++,ae.push(L.valueConnection_),ze.push(L.statementConnection_);break;case"controls_if_else":this.elseCount_++,Pe=L.statementConnection_;break;default:throw TypeError("Unknown block type: "+L.type)}L=L.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(ae,ze,Pe)},saveConnections:function(L){L=L.nextConnection.targetBlock();let ae=1;for(;L;){if(!L.isInsertionMarker())switch(L.type){case"controls_if_elseif":var ze=this.getInput("IF"+ae);const Pe=this.getInput("DO"+ae);L.valueConnection_=ze&&ze.connection.targetConnection,L.statementConnection_=Pe&&Pe.connection.targetConnection,ae++;break;case"controls_if_else":ze=this.getInput("ELSE"),L.statementConnection_=ze&&ze.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+L.type)}L=L.getNextBlock()}},rebuildShape_:function(){const L=[null],ae=[null];let ze=null;this.getInput("ELSE")&&(ze=this.getInput("ELSE").connection.targetConnection);for(let Pe=1;this.getInput("IF"+Pe);Pe++){const Dt=this.getInput("IF"+Pe),Sn=this.getInput("DO"+Pe);L.push(Dt.connection.targetConnection),ae.push(Sn.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(L,ae,ze)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var L=1;this.getInput("IF"+L);L++)this.removeInput("IF"+L),this.removeInput("DO"+L);for(L=1;L<=this.elseifCount_;L++)this.appendValueInput("IF"+L).setCheck("Boolean").appendField(a.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+L).appendField(a.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(a.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(L,ae,ze){for(let Pe=1;Pe<=this.elseifCount_;Pe++){let Dt;(Dt=L[Pe])==null||Dt.reconnect(this,"IF"+Pe);let Sn;(Sn=ae[Pe])==null||Sn.reconnect(this,"DO"+Pe)}ze?.reconnect(this,"ELSE")}};a.registerMutator$$module$build$src$core$extensions("controls_if_mutator",mr,null,["controls_if_elseif","controls_if_else"]);var un=function(){this.setTooltip((function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return a.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return a.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return a.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return a.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;return""}).bind(this))};a.register$$module$build$src$core$extensions("controls_if_tooltip",un);var $i={onchange:function(L){this.prevBlocks_||(this.prevBlocks_=[null,null]);var ae=this.getInputTargetBlock("A");const ze=this.getInputTargetBlock("B");ae&&ze&&!this.workspace.connectionChecker.doTypeChecks(ae.outputConnection,ze.outputConnection)&&(a.setGroup$$module$build$src$core$events$utils(L.group),L=this.prevBlocks_[0],L!==ae&&(ae.unplug(),!L||L.isDisposed()||L.isShadow()||this.getInput("A").connection.connect(L.outputConnection)),ae=this.prevBlocks_[1],ae!==ze&&(ze.unplug(),!ae||ae.isDisposed()||ae.isShadow()||this.getInput("B").connection.connect(ae.outputConnection)),this.bumpNeighbours(),a.setGroup$$module$build$src$core$events$utils(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},wi=function(){this.mixin($i)};a.register$$module$build$src$core$extensions("logic_compare",wi);var nr={prevParentConnection_:null,onchange:function(L){const ae=this.getInputTargetBlock("THEN"),ze=this.getInputTargetBlock("ELSE"),Pe=this.outputConnection.targetConnection;if((ae||ze)&&Pe)for(let Dt=0;Dt<2;Dt++){const Sn=Dt===1?ae:ze;Sn&&!Sn.workspace.connectionChecker.doTypeChecks(Sn.outputConnection,Pe)&&(a.setGroup$$module$build$src$core$events$utils(L.group),Pe===this.prevParentConnection_?(this.unplug(),Pe.getSourceBlock().bumpNeighbours()):(Sn.unplug(),Sn.bumpNeighbours()),a.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=Pe}};a.registerMixin$$module$build$src$core$extensions("logic_ternary",nr),a.defineBlocks$$module$build$src$core$common(Br);var es={blocks:Br},li=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),rr={init:function(){this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new a.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"],this)),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const L=a.createElement$$module$build$src$core$utils$xml("mutation");return L.setAttribute("items",String(this.itemCount_)),L},domToMutation:function(L){if(L=L.getAttribute("items"),!L)throw new TypeError("element did not have items");this.itemCount_=parseInt(L,10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(L){this.itemCount_=L.itemCount,this.updateShape_()},decompose:function(L){const ae=L.newBlock("lists_create_with_container");ae.initSvg();let ze=ae.getInput("STACK").connection;for(let Pe=0;Pe<this.itemCount_;Pe++){const Dt=L.newBlock("lists_create_with_item");if(Dt.initSvg(),!Dt.previousConnection)throw Error("itemBlock has no previousConnection");ze.connect(Dt.previousConnection),ze=Dt.nextConnection}return ae},compose:function(L){var ae=L.getInputTargetBlock("STACK");for(L=[];ae;)ae.isInsertionMarker()||L.push(ae.valueConnection_),ae=ae.getNextBlock();for(ae=0;ae<this.itemCount_;ae++){const ze=this.getInput("ADD"+ae).connection.targetConnection;ze&&!L.includes(ze)&&ze.disconnect()}for(this.itemCount_=L.length,this.updateShape_(),ae=0;ae<this.itemCount_;ae++){let ze;(ze=L[ae])==null||ze.reconnect(this,"ADD"+ae)}},saveConnections:function(L){L=L.getInputTargetBlock("STACK");let ae=0;for(;L;){if(L.isInsertionMarker()){L=L.getNextBlock();continue}const ze=this.getInput("ADD"+ae);let Pe;L.valueConnection_=(Pe=ze)==null?void 0:Pe.connection.targetConnection,L=L.getNextBlock(),ae++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(a.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var L=0;L<this.itemCount_;L++)if(!this.getInput("ADD"+L)){const ae=this.appendValueInput("ADD"+L).setAlign(a.Align$$module$build$src$core$inputs$align.RIGHT);L===0&&ae.appendField(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(L=this.itemCount_;this.getInput("ADD"+L);L++)this.removeInput("ADD"+L)}};li.lists_create_with=rr;var Xn={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}};li.lists_create_with_container=Xn;var O={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}};li.lists_create_with_item=O;var ne={init:function(){var L=[[a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,"FIRST"],[a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,"LAST"]];if(this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST),L=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:L}),!L)throw Error("field_dropdown not found");this.appendValueInput("FIND").appendField(L,"END"),this.setInputsInline(!0),this.setTooltip(()=>a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))}};li.lists_indexOf=ne;var Ie={init:function(){var L=[[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,"GET"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),L=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:L}),L.setValidator(function(ae){ae=ae==="REMOVE",this.getSourceBlock().updateStatement_(ae)}),this.appendValueInput("VALUE").setCheck("Array").appendField(a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(L,"MODE").appendField("","SPACE"),L=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS}),L.setValidator(function(ae){const ze=this.getValue();ae=ae==="FROM_START"||ae==="FROM_END",ae!==(ze==="FROM_START"||ze==="FROM_END")&&this.getSourceBlock().updateAt_(ae)}),this.appendDummyInput().appendField(L,"WHERE"),this.appendDummyInput("AT"),a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0),this.setTooltip(()=>{const ae=this.getFieldValue("MODE"),ze=this.getFieldValue("WHERE");let Pe="";switch(ae+" "+ze){case"GET FROM_START":case"GET FROM_END":Pe=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":Pe=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":Pe=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":Pe=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":Pe=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":Pe=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":Pe=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":Pe=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":Pe=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":Pe=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":Pe=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":Pe=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return(ze==="FROM_START"||ze==="FROM_END")&&(Pe+="  "+(ze==="FROM_START"?a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),Pe})},mutationToDom:function(){const L=a.createElement$$module$build$src$core$utils$xml("mutation");L.setAttribute("statement",String(!this.outputConnection));const ae=this.getInput("AT")instanceof a.ValueInput$$module$build$src$core$inputs$value_input;return L.setAttribute("at",String(ae)),L},domToMutation:function(L){const ae=L.getAttribute("statement")==="true";this.updateStatement_(ae),L=L.getAttribute("at")!=="false",this.updateAt_(L)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(L){L.isStatement?this.updateStatement_(!0):typeof L=="string"&&this.domToMutation(a.textToDom$$module$build$src$core$utils$xml(L))},updateStatement_:function(L){L!==!this.outputConnection&&(this.unplug(!0,!0),L?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(L){this.removeInput("AT"),this.removeInput("ORDINAL",!0),L?(this.appendValueInput("AT").setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};li.lists_getIndex=Ie;var Be={init:function(){var L=[[a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,"SET"],[a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST),L=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:L}),this.appendDummyInput().appendField(L,"MODE").appendField("","SPACE"),L=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS}),L.setValidator(function(ae){const ze=this.getValue();ae=ae==="FROM_START"||ae==="FROM_END",ae!==(ze==="FROM_START"||ze==="FROM_END")&&this.getSourceBlock().updateAt_(ae)}),this.appendDummyInput().appendField(L,"WHERE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0),this.setTooltip(()=>{const ae=this.getFieldValue("MODE"),ze=this.getFieldValue("WHERE");let Pe="";switch(ae+" "+ze){case"SET FROM_START":case"SET FROM_END":Pe=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":Pe=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":Pe=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":Pe=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":Pe=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":Pe=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":Pe=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":Pe=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return(ze==="FROM_START"||ze==="FROM_END")&&(Pe+="  "+a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),Pe})},mutationToDom:function(){const L=a.createElement$$module$build$src$core$utils$xml("mutation"),ae=this.getInput("AT")instanceof a.ValueInput$$module$build$src$core$inputs$value_input;return L.setAttribute("at",String(ae)),L},domToMutation:function(L){L=L.getAttribute("at")!=="false",this.updateAt_(L)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(L){this.removeInput("AT"),this.removeInput("ORDINAL",!0),L?(this.appendValueInput("AT").setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO")}};li.lists_setIndex=Be;var nt={init:function(){this.WHERE_OPTIONS_1=[[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);const L=ae=>{const ze=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+ae]});return ze.setValidator(function(Pe){const Dt=this.getValue();Pe=Pe==="FROM_START"||Pe==="FROM_END",Pe!==(Dt==="FROM_START"||Dt==="FROM_END")&&this.getSourceBlock().updateAt_(ae,Pe)}),ze};this.appendDummyInput("WHERE1_INPUT").appendField(L(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(L(2),"WHERE2"),this.appendDummyInput("AT2"),a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const L=a.createElement$$module$build$src$core$utils$xml("mutation");var ae=this.getInput("AT1")instanceof a.ValueInput$$module$build$src$core$inputs$value_input;return L.setAttribute("at1",String(ae)),ae=this.getInput("AT2")instanceof a.ValueInput$$module$build$src$core$inputs$value_input,L.setAttribute("at2",String(ae)),L},domToMutation:function(L){const ae=L.getAttribute("at1")==="true";L=L.getAttribute("at2")==="true",this.updateAt_(1,ae),this.updateAt_(2,L)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(L,ae){this.removeInput("AT"+L),this.removeInput("ORDINAL"+L,!0),ae?(this.appendValueInput("AT"+L).setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+L).appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+L),L===1&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT")),a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};li.lists_getSublist=nt,li.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},li.lists_split={init:function(){const L=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:[[a.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[a.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]]});if(!L)throw Error("field_dropdown not found");L.setValidator(ae=>{this.updateType_(ae)}),this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(L,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(a.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(()=>{const ae=this.getFieldValue("MODE");if(ae==="SPLIT")return a.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(ae==="JOIN")return a.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+ae)})},updateType_:function(L){if(this.getFieldValue("MODE")!==L){const ae=this.getInput("INPUT").connection;ae.setShadowDom(null);const ze=ae.targetBlock();ze&&(ae.disconnect(),ze.isShadow()?ze.dispose(!1):this.bumpNeighbours())}L==="SPLIT"?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){const L=a.createElement$$module$build$src$core$utils$xml("mutation");return L.setAttribute("mode",this.getFieldValue("MODE")),L},domToMutation:function(L){this.updateType_(L.getAttribute("mode"))},saveExtraState:function(){return{mode:this.getFieldValue("MODE")}},loadExtraState:function(L){this.updateType_(L.mode)}},a.defineBlocks$$module$build$src$core$common(li);var Ye={blocks:li},yt=Object.assign({},li,Br,Qt,an,Ze,te,E,h),xt={blocks:yt,lists:Ye,logic:es,loops:rn,math:It,procedures:vt,texts:at,variables:F,variablesDynamic:y};return xt.__namespace__=a,xt})})(b5)),b5.exports}var bb=g5.exports,sm;function vb(){return sm||(sm=1,(function(r,o){(function(n,a){r.exports=a(h3(),mb(),$b())})(bb,function(n,a,h){return n.setLocale(a),n})})(g5)),g5.exports}var Tb=vb();const yb=su(Tb),{Block:fN,BlockFlyoutInflater:pN,BlockNavigationPolicy:mN,BlockSvg:gN,Blocks:P6,ButtonFlyoutInflater:$N,COLLAPSED_FIELD_NAME:bN,COLLAPSED_INPUT_NAME:vN,COLLAPSE_CHARS:TN,CodeGenerator:yN,CollapsibleToolboxCategory:_N,ComponentManager:EN,Connection:wN,ConnectionChecker:SN,ConnectionDB:xN,ConnectionNavigationPolicy:CN,ConnectionType:kN,ContextMenu:IN,ContextMenuItems:AN,ContextMenuRegistry:NN,Css:MN,DELETE_VARIABLE_ID:ON,DeleteArea:RN,DragTarget:LN,DropDownDiv:DN,Events:om,Extensions:BN,Field:PN,FieldCheckbox:FN,FieldDropdown:UN,FieldImage:zN,FieldLabel:HN,FieldLabelSerializable:VN,FieldNavigationPolicy:GN,FieldNumber:WN,FieldTextInput:qN,FieldVariable:XN,Flyout:jN,FlyoutButton:YN,FlyoutButtonNavigationPolicy:KN,FlyoutItem:JN,FlyoutMetricsManager:ZN,FlyoutNavigationPolicy:QN,FlyoutNavigator:eM,FlyoutSeparator:tM,FlyoutSeparatorNavigationPolicy:nM,FocusManager:rM,FocusableTreeTraverser:iM,Generator:sM,Gesture:oM,Grid:lM,HorizontalFlyout:aM,INPUT_VALUE:uM,Input:cM,InsertionMarkerPreviewer:hM,KeyboardNavigationController:dM,LabelFlyoutInflater:fM,LineCursor:pM,Marker:mM,MarkerManager:gM,Menu:$M,MenuItem:bM,MetricsManager:vM,Msg:TM,NEXT_STATEMENT:yM,Names:_M,Navigator:EM,OPPOSITE_TYPE:wM,OUTPUT_VALUE:SM,Options:xM,PREVIOUS_STATEMENT:CM,PROCEDURE_CATEGORY_NAME:kM,Procedures:IM,RENAME_VARIABLE_ID:AM,RenderedConnection:NM,Scrollbar:MM,ScrollbarPair:OM,SeparatorFlyoutInflater:RM,ShortcutItems:LM,ShortcutRegistry:DM,TOOLBOX_AT_BOTTOM:BM,TOOLBOX_AT_LEFT:PM,TOOLBOX_AT_RIGHT:FM,TOOLBOX_AT_TOP:UM,Theme:zM,ThemeManager:HM,Themes:VM,Toast:GM,Toolbox:WM,ToolboxCategory:qM,ToolboxItem:XM,ToolboxSeparator:jM,Tooltip:YM,Touch:KM,Trashcan:JM,UnattachedFieldError:ZM,VARIABLE_CATEGORY_NAME:QM,VARIABLE_DYNAMIC_CATEGORY_NAME:eO,VERSION:tO,VariableMap:nO,VariableModel:rO,Variables:iO,VariablesDynamic:sO,VerticalFlyout:oO,WidgetDiv:lO,Workspace:_b,WorkspaceAudio:aO,WorkspaceDragger:uO,WorkspaceNavigationPolicy:cO,WorkspaceSvg:hO,Xml:Q8,ZoomControls:dO,blockAnimations:fO,blockRendering:pO,browserEvents:mO,bubbles:gO,bumpObjects:$O,clipboard:bO,comments:vO,common:TO,config:yO,constants:_O,defineBlocksWithJsonArray:X2,dialog:EO,dragging:wO,fieldRegistry:SO,geras:xO,getFocusManager:CO,getMainWorkspace:kO,getSelected:IO,hasBubble:AO,hideChaff:NO,icons:MO,inject:OO,inputs:RO,isCopyable:LO,isDeletable:DO,isDraggable:BO,isIcon:PO,isObservable:FO,isPaster:UO,isRenderedElement:zO,isSelectable:HO,isSerializable:VO,isVariableBackedParameterModel:GO,keyboardNavigationController:WO,layers:qO,navigateBlock:XO,navigateStacks:jO,procedures:YO,registry:KO,renderManagement:JO,serialization:ZO,setLocale:QO,setParentContainer:eR,svgResize:Tf,thrasos:tR,uiPosition:nR,utils:e9,zelos:rR}=yb;var v5={exports:{}},Eb=v5.exports,lm;function wb(){return lm||(lm=1,(function(r,o){(function(n,a){r.exports=a(h3())})(Eb,function(n){var a=n.__namespace__,h=function(R,j){return["[]",O.ATOMIC]},p=function(R,j){const Ee=Array(R.itemCount_);for(let Fe=0;Fe<R.itemCount_;Fe++)Ee[Fe]=j.valueToCode(R,"ADD"+Fe,O.NONE)||"null";return["["+Ee.join(", ")+"]",O.ATOMIC]},$=function(R,j){const Ee=j.provideFunction_("listsRepeat",`
function ${j.FUNCTION_NAME_PLACEHOLDER_}(value, n) {
  var array = [];
  for (var i = 0; i < n; i++) {
    array[i] = value;
  }
  return array;
}
`),Fe=j.valueToCode(R,"ITEM",O.NONE)||"null";return R=j.valueToCode(R,"NUM",O.NONE)||"0",[Ee+"("+Fe+", "+R+")",O.FUNCTION_CALL]},_=function(R,j){return[(j.valueToCode(R,"VALUE",O.MEMBER)||"[]")+".length",O.MEMBER]},y=function(R,j){return["!"+(j.valueToCode(R,"VALUE",O.MEMBER)||"[]")+".length",O.LOGICAL_NOT]},E=function(R,j){const Ee=R.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",Fe=j.valueToCode(R,"FIND",O.NONE)||"''";return j=(j.valueToCode(R,"VALUE",O.MEMBER)||"[]")+"."+Ee+"("+Fe+")",R.workspace.options.oneBasedIndex?[j+" + 1",O.ADDITION]:[j,O.FUNCTION_CALL]},w=function(R,j){const Ee=R.getFieldValue("MODE")||"GET",Fe=R.getFieldValue("WHERE")||"FROM_START";var Mt=j.valueToCode(R,"VALUE",Fe==="RANDOM"?O.NONE:O.MEMBER)||"[]";switch(Fe){case"FIRST":if(Ee==="GET")return[Mt+"[0]",O.MEMBER];if(Ee==="GET_REMOVE")return[Mt+".shift()",O.MEMBER];if(Ee==="REMOVE")return Mt+`.shift();
`;break;case"LAST":if(Ee==="GET")return[Mt+".slice(-1)[0]",O.MEMBER];if(Ee==="GET_REMOVE")return[Mt+".pop()",O.MEMBER];if(Ee==="REMOVE")return Mt+`.pop();
`;break;case"FROM_START":if(R=j.getAdjusted(R,"AT"),Ee==="GET")return[Mt+"["+R+"]",O.MEMBER];if(Ee==="GET_REMOVE")return[Mt+".splice("+R+", 1)[0]",O.FUNCTION_CALL];if(Ee==="REMOVE")return Mt+".splice("+R+`, 1);
`;break;case"FROM_END":if(R=j.getAdjusted(R,"AT",1,!0),Ee==="GET")return[Mt+".slice("+R+")[0]",O.FUNCTION_CALL];if(Ee==="GET_REMOVE")return[Mt+".splice("+R+", 1)[0]",O.FUNCTION_CALL];if(Ee==="REMOVE")return Mt+".splice("+R+", 1);";break;case"RANDOM":if(Mt=j.provideFunction_("listsGetRandomItem",`
function ${j.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {
  var x = Math.floor(Math.random() * list.length);
  if (remove) {
    return list.splice(x, 1)[0];
  } else {
    return list[x];
  }
}
`)+"("+Mt+", "+(Ee!=="GET")+")",Ee==="GET"||Ee==="GET_REMOVE")return[Mt,O.FUNCTION_CALL];if(Ee==="REMOVE")return Mt+`;
`}throw Error("Unhandled combination (lists_getIndex).")},I=function(R,j){function Ee(){if(Fe.match(/^\w+$/))return"";const hr=j.nameDB_.getDistinctName("tmpList",a.NameType$$module$build$src$core$names.VARIABLE),xs="var "+hr+" = "+Fe+`;
`;return Fe=hr,xs}let Fe=j.valueToCode(R,"LIST",O.MEMBER)||"[]";const Mt=R.getFieldValue("MODE")||"GET";var dn=R.getFieldValue("WHERE")||"FROM_START";const Mn=j.valueToCode(R,"TO",O.ASSIGNMENT)||"null";switch(dn){case"FIRST":if(Mt==="SET")return Fe+"[0] = "+Mn+`;
`;if(Mt==="INSERT")return Fe+".unshift("+Mn+`);
`;break;case"LAST":if(Mt==="SET")return Ee()+(Fe+"["+Fe+".length - 1] = "+Mn+`;
`);if(Mt==="INSERT")return Fe+".push("+Mn+`);
`;break;case"FROM_START":if(R=j.getAdjusted(R,"AT"),Mt==="SET")return Fe+"["+R+"] = "+Mn+`;
`;if(Mt==="INSERT")return Fe+".splice("+R+", 0, "+Mn+`);
`;break;case"FROM_END":if(R=j.getAdjusted(R,"AT",1,!1,O.SUBTRACTION),dn=Ee(),Mt==="SET")return dn+(Fe+"["+Fe+".length - "+R+"] = "+Mn+`;
`);if(Mt==="INSERT")return dn+(Fe+".splice("+Fe+".length - "+R+", 0, "+Mn+`);
`);break;case"RANDOM":if(R=Ee(),dn=j.nameDB_.getDistinctName("tmpX",a.NameType$$module$build$src$core$names.VARIABLE),R+="var "+dn+" = Math.floor(Math.random() * "+Fe+`.length);
`,Mt==="SET")return R+(Fe+"["+dn+"] = "+Mn+`;
`);if(Mt==="INSERT")return R+(Fe+".splice("+dn+", 0, "+Mn+`);
`)}throw Error("Unhandled combination (lists_setIndex).")},H=function(R,j){var Ee={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"},Fe=j.valueToCode(R,"LIST",O.MEMBER)||"[]";const Mt=R.getFieldValue("WHERE1"),dn=R.getFieldValue("WHERE2");if(Mt==="FIRST"&&dn==="LAST")Fe+=".slice(0)";else if(Fe.match(/^\w+$/)||Mt!=="FROM_END"&&dn==="FROM_START"){switch(Mt){case"FROM_START":Ee=j.getAdjusted(R,"AT1");break;case"FROM_END":Ee=j.getAdjusted(R,"AT1",1,!1,O.SUBTRACTION),Ee=Fe+".length - "+Ee;break;case"FIRST":Ee="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(dn){case"FROM_START":j=j.getAdjusted(R,"AT2",1);break;case"FROM_END":j=j.getAdjusted(R,"AT2",0,!1,O.SUBTRACTION),j=Fe+".length - "+j;break;case"LAST":j=Fe+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}Fe=Fe+".slice("+Ee+", "+j+")"}else{const Mn=j.getAdjusted(R,"AT1");R=j.getAdjusted(R,"AT2"),Fe=j.provideFunction_("subsequence"+Ee[Mt]+Ee[dn],`
function ${j.FUNCTION_NAME_PLACEHOLDER_}(sequence${Mt==="FROM_END"||Mt==="FROM_START"?", at1":""}${dn==="FROM_END"||dn==="FROM_START"?", at2":""}) {
  var start = ${Ie("sequence",Mt,"at1")};
  var end = ${Ie("sequence",dn,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+Fe+(Mt==="FROM_END"||Mt==="FROM_START"?", "+Mn:"")+(dn==="FROM_END"||dn==="FROM_START"?", "+R:"")+")"}return[Fe,O.FUNCTION_CALL]},F=function(R,j){const Ee=j.valueToCode(R,"LIST",O.FUNCTION_CALL)||"[]",Fe=R.getFieldValue("DIRECTION")==="1"?1:-1;return R=R.getFieldValue("TYPE"),j=j.provideFunction_("listsGetSortCompare",`
function ${j.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {
  var compareFuncs = {
    'NUMERIC': function(a, b) {
        return Number(a) - Number(b); },
    'TEXT': function(a, b) {
        return String(a) > String(b) ? 1 : -1; },
    'IGNORE_CASE': function(a, b) {
        return String(a).toLowerCase() > String(b).toLowerCase() ? 1 : -1; },
  };
  var compare = compareFuncs[type];
  return function(a, b) { return compare(a, b) * direction; };
}
      `),[Ee+".slice().sort("+j+'("'+R+'", '+Fe+"))",O.FUNCTION_CALL]},te=function(R,j){let Ee=j.valueToCode(R,"INPUT",O.MEMBER);if(j=j.valueToCode(R,"DELIM",O.NONE)||"''",R=R.getFieldValue("MODE"),R==="SPLIT")Ee||(Ee="''"),R="split";else if(R==="JOIN")Ee||(Ee="[]"),R="join";else throw Error("Unknown mode: "+R);return[Ee+"."+R+"("+j+")",O.FUNCTION_CALL]},he=function(R,j){return[(j.valueToCode(R,"LIST",O.FUNCTION_CALL)||"[]")+".slice().reverse()",O.FUNCTION_CALL]},ce=function(R,j){var Ee=0;let Fe="";j.STATEMENT_PREFIX&&(Fe+=j.injectId(j.STATEMENT_PREFIX,R));do{const Mt=j.valueToCode(R,"IF"+Ee,O.NONE)||"false";let dn=j.statementToCode(R,"DO"+Ee);j.STATEMENT_SUFFIX&&(dn=j.prefixLines(j.injectId(j.STATEMENT_SUFFIX,R),j.INDENT)+dn),Fe+=(Ee>0?" else ":"")+"if ("+Mt+`) {
`+dn+"}",Ee++}while(R.getInput("IF"+Ee));return(R.getInput("ELSE")||j.STATEMENT_SUFFIX)&&(Ee=R.getInput("ELSE")?j.statementToCode(R,"ELSE"):"",j.STATEMENT_SUFFIX&&(Ee=j.prefixLines(j.injectId(j.STATEMENT_SUFFIX,R),j.INDENT)+Ee),Fe+=` else {
`+Ee+"}"),Fe+`
`},K=function(R,j){const Ee={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[R.getFieldValue("OP")],Fe=Ee==="=="||Ee==="!="?O.EQUALITY:O.RELATIONAL,Mt=j.valueToCode(R,"A",Fe)||"0";return R=j.valueToCode(R,"B",Fe)||"0",[Mt+" "+Ee+" "+R,Fe]},se=function(R,j){const Ee=R.getFieldValue("OP")==="AND"?"&&":"||",Fe=Ee==="&&"?O.LOGICAL_AND:O.LOGICAL_OR;let Mt=j.valueToCode(R,"A",Fe);return R=j.valueToCode(R,"B",Fe),Mt||R?(j=Ee==="&&"?"true":"false",Mt||(Mt=j),R||(R=j)):R=Mt="false",[Mt+" "+Ee+" "+R,Fe]},we=function(R,j){const Ee=O.LOGICAL_NOT;return["!"+(j.valueToCode(R,"BOOL",Ee)||"true"),Ee]},Oe=function(R,j){return[R.getFieldValue("BOOL")==="TRUE"?"true":"false",O.ATOMIC]},De=function(R,j){return["null",O.ATOMIC]},Se=function(R,j){const Ee=j.valueToCode(R,"IF",O.CONDITIONAL)||"false",Fe=j.valueToCode(R,"THEN",O.CONDITIONAL)||"null";return R=j.valueToCode(R,"ELSE",O.CONDITIONAL)||"null",[Ee+" ? "+Fe+" : "+R,O.CONDITIONAL]},je=function(R,j){let Ee;Ee=R.getField("TIMES")?String(Number(R.getFieldValue("TIMES"))):j.valueToCode(R,"TIMES",O.ASSIGNMENT)||"0";let Fe=j.statementToCode(R,"DO");Fe=j.addLoopTrap(Fe,R),R="";const Mt=j.nameDB_.getDistinctName("count",a.NameType$$module$build$src$core$names.VARIABLE);let dn=Ee;return Ee.match(/^\w+$/)||a.isNumber$$module$build$src$core$utils$string(Ee)||(dn=j.nameDB_.getDistinctName("repeat_end",a.NameType$$module$build$src$core$names.VARIABLE),R+="var "+dn+" = "+Ee+`;
`),R+("for (var "+Mt+" = 0; "+Mt+" < "+dn+"; "+Mt+`++) {
`+Fe+`}
`)},at=function(R,j){const Ee=R.getFieldValue("MODE")==="UNTIL";let Fe=j.valueToCode(R,"BOOL",Ee?O.LOGICAL_NOT:O.NONE)||"false",Mt=j.statementToCode(R,"DO");return Mt=j.addLoopTrap(Mt,R),Ee&&(Fe="!"+Fe),"while ("+Fe+`) {
`+Mt+`}
`},Ze=function(R,j){var Ee=j.getVariableName(R.getFieldValue("VAR")),Fe=j.valueToCode(R,"FROM",O.ASSIGNMENT)||"0",Mt=j.valueToCode(R,"TO",O.ASSIGNMENT)||"0";const dn=j.valueToCode(R,"BY",O.ASSIGNMENT)||"1";let Mn=j.statementToCode(R,"DO");if(Mn=j.addLoopTrap(Mn,R),a.isNumber$$module$build$src$core$utils$string(Fe)&&a.isNumber$$module$build$src$core$utils$string(Mt)&&a.isNumber$$module$build$src$core$utils$string(dn))j=Number(Fe)<=Number(Mt),R="for ("+Ee+" = "+Fe+"; "+Ee+(j?" <= ":" >= ")+Mt+"; "+Ee,Ee=Math.abs(Number(dn)),R=Ee===1?R+(j?"++":"--"):R+((j?" += ":" -= ")+Ee),R+=`) {
`+Mn+`}
`;else{R="";let hr=Fe;Fe.match(/^\w+$/)||a.isNumber$$module$build$src$core$utils$string(Fe)||(hr=j.nameDB_.getDistinctName(Ee+"_start",a.NameType$$module$build$src$core$names.VARIABLE),R+="var "+hr+" = "+Fe+`;
`),Fe=Mt,Mt.match(/^\w+$/)||a.isNumber$$module$build$src$core$utils$string(Mt)||(Fe=j.nameDB_.getDistinctName(Ee+"_end",a.NameType$$module$build$src$core$names.VARIABLE),R+="var "+Fe+" = "+Mt+`;
`),Mt=j.nameDB_.getDistinctName(Ee+"_inc",a.NameType$$module$build$src$core$names.VARIABLE),R+="var "+Mt+" = ",R=a.isNumber$$module$build$src$core$utils$string(dn)?R+(Math.abs(Number(dn))+`;
`):R+("Math.abs("+dn+`);
`),R+="if ("+hr+" > "+Fe+`) {
`,R+=j.INDENT+Mt+" = -"+Mt+`;
`,R=R+`}
for (`+(Ee+" = "+hr+"; "+Mt+" >= 0 ? "+Ee+" <= "+Fe+" : "+Ee+" >= "+Fe+"; "+Ee+" += "+Mt+`) {
`+Mn+`}
`)}return R},Ke=function(R,j){const Ee=j.getVariableName(R.getFieldValue("VAR"));var Fe=j.valueToCode(R,"LIST",O.ASSIGNMENT)||"[]";let Mt=j.statementToCode(R,"DO");Mt=j.addLoopTrap(Mt,R),R="";let dn=Fe;return Fe.match(/^\w+$/)||(dn=j.nameDB_.getDistinctName(Ee+"_list",a.NameType$$module$build$src$core$names.VARIABLE),R+="var "+dn+" = "+Fe+`;
`),Fe=j.nameDB_.getDistinctName(Ee+"_index",a.NameType$$module$build$src$core$names.VARIABLE),Mt=j.INDENT+Ee+" = "+dn+"["+Fe+`];
`+Mt,R+("for (var "+Fe+" in "+dn+`) {
`+Mt+`}
`)},Pt=function(R,j){let Ee="";if(j.STATEMENT_PREFIX&&(Ee+=j.injectId(j.STATEMENT_PREFIX,R)),j.STATEMENT_SUFFIX&&(Ee+=j.injectId(j.STATEMENT_SUFFIX,R)),j.STATEMENT_PREFIX){const Fe=R.getSurroundLoop();Fe&&!Fe.suppressPrefixSuffix&&(Ee+=j.injectId(j.STATEMENT_PREFIX,Fe))}switch(R.getFieldValue("FLOW")){case"BREAK":return Ee+`break;
`;case"CONTINUE":return Ee+`continue;
`}throw Error("Unknown flow statement.")},Ve=function(R,j){return R=Number(R.getFieldValue("NUM")),[String(R),R>=0?O.ATOMIC:O.UNARY_NEGATION]},Xt=function(R,j){var Ee={ADD:[" + ",O.ADDITION],MINUS:[" - ",O.SUBTRACTION],MULTIPLY:[" * ",O.MULTIPLICATION],DIVIDE:[" / ",O.DIVISION],POWER:[null,O.NONE]}[R.getFieldValue("OP")];const Fe=Ee[0];Ee=Ee[1];const Mt=j.valueToCode(R,"A",Ee)||"0";return R=j.valueToCode(R,"B",Ee)||"0",Fe?[Mt+Fe+R,Ee]:["Math.pow("+Mt+", "+R+")",O.FUNCTION_CALL]},Lt=function(R,j){const Ee=R.getFieldValue("OP");let Fe;if(Ee==="NEG")return R=j.valueToCode(R,"NUM",O.UNARY_NEGATION)||"0",R[0]==="-"&&(R=" "+R),["-"+R,O.UNARY_NEGATION];switch(R=Ee==="SIN"||Ee==="COS"||Ee==="TAN"?j.valueToCode(R,"NUM",O.DIVISION)||"0":j.valueToCode(R,"NUM",O.NONE)||"0",Ee){case"ABS":Fe="Math.abs("+R+")";break;case"ROOT":Fe="Math.sqrt("+R+")";break;case"LN":Fe="Math.log("+R+")";break;case"EXP":Fe="Math.exp("+R+")";break;case"POW10":Fe="Math.pow(10,"+R+")";break;case"ROUND":Fe="Math.round("+R+")";break;case"ROUNDUP":Fe="Math.ceil("+R+")";break;case"ROUNDDOWN":Fe="Math.floor("+R+")";break;case"SIN":Fe="Math.sin("+R+" / 180 * Math.PI)";break;case"COS":Fe="Math.cos("+R+" / 180 * Math.PI)";break;case"TAN":Fe="Math.tan("+R+" / 180 * Math.PI)"}if(Fe)return[Fe,O.FUNCTION_CALL];switch(Ee){case"LOG10":Fe="Math.log("+R+") / Math.log(10)";break;case"ASIN":Fe="Math.asin("+R+") / Math.PI * 180";break;case"ACOS":Fe="Math.acos("+R+") / Math.PI * 180";break;case"ATAN":Fe="Math.atan("+R+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+Ee)}return[Fe,O.DIVISION]},Ot=function(R,j){return{PI:["Math.PI",O.MEMBER],E:["Math.E",O.MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",O.DIVISION],SQRT2:["Math.SQRT2",O.MEMBER],SQRT1_2:["Math.SQRT1_2",O.MEMBER],INFINITY:["Infinity",O.ATOMIC]}[R.getFieldValue("CONSTANT")]},st=function(R,j){var Ee={EVEN:[" % 2 === 0",O.MODULUS,O.EQUALITY],ODD:[" % 2 === 1",O.MODULUS,O.EQUALITY],WHOLE:[" % 1 === 0",O.MODULUS,O.EQUALITY],POSITIVE:[" > 0",O.RELATIONAL,O.RELATIONAL],NEGATIVE:[" < 0",O.RELATIONAL,O.RELATIONAL],DIVISIBLE_BY:[null,O.MODULUS,O.EQUALITY],PRIME:[null,O.NONE,O.FUNCTION_CALL]};const Fe=R.getFieldValue("PROPERTY"),[Mt,dn,Mn]=Ee[Fe];return Ee=j.valueToCode(R,"NUMBER_TO_CHECK",dn)||"0",Fe==="PRIME"?R=j.provideFunction_("mathIsPrime",`
function ${j.FUNCTION_NAME_PLACEHOLDER_}(n) {
  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  if (n == 2 || n == 3) {
    return true;
  }
  // False if n is NaN, negative, is 1, or not whole.
  // And false if n is divisible by 2 or 3.
  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {
    return false;
  }
  // Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {
    if (n % (x - 1) === 0 || n % (x + 1) === 0) {
      return false;
    }
  }
  return true;
}
`)+"("+Ee+")":Fe==="DIVISIBLE_BY"?(R=j.valueToCode(R,"DIVISOR",O.MODULUS)||"0",R=Ee+" % "+R+" === 0"):R=Ee+Mt,[R,Mn]},St=function(R,j){const Ee=j.valueToCode(R,"DELTA",O.ADDITION)||"0";return R=j.getVariableName(R.getFieldValue("VAR")),R+" = (typeof "+R+" === 'number' ? "+R+" : 0) + "+Ee+`;
`},vt=function(R,j){var Ee=R.getFieldValue("OP");switch(Ee){case"SUM":R=j.valueToCode(R,"LIST",O.MEMBER)||"[]",R+=".reduce(function(x, y) {return x + y;}, 0)";break;case"MIN":R=j.valueToCode(R,"LIST",O.NONE)||"[]",R="Math.min.apply(null, "+R+")";break;case"MAX":R=j.valueToCode(R,"LIST",O.NONE)||"[]",R="Math.max.apply(null, "+R+")";break;case"AVERAGE":Ee=j.provideFunction_("mathMean",`
function ${j.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;
}
`),R=j.valueToCode(R,"LIST",O.NONE)||"[]",R=Ee+"("+R+")";break;case"MEDIAN":Ee=j.provideFunction_("mathMedian",`
function ${j.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  var localList = myList.filter(function (x) {return typeof x === 'number';});
  if (!localList.length) return null;
  localList.sort(function(a, b) {return b - a;});
  if (localList.length % 2 === 0) {
    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;
  } else {
    return localList[(localList.length - 1) / 2];
  }
}
`),R=j.valueToCode(R,"LIST",O.NONE)||"[]",R=Ee+"("+R+")";break;case"MODE":Ee=j.provideFunction_("mathModes",`
function ${j.FUNCTION_NAME_PLACEHOLDER_}(values) {
  var modes = [];
  var counts = [];
  var maxCount = 0;
  for (var i = 0; i < values.length; i++) {
    var value = values[i];
    var found = false;
    var thisCount;
    for (var j = 0; j < counts.length; j++) {
      if (counts[j][0] === value) {
        thisCount = ++counts[j][1];
        found = true;
        break;
      }
    }
    if (!found) {
      counts.push([value, 1]);
      thisCount = 1;
    }
    maxCount = Math.max(thisCount, maxCount);
  }
  for (var j = 0; j < counts.length; j++) {
    if (counts[j][1] === maxCount) {
      modes.push(counts[j][0]);
    }
  }
  return modes;
}
`),R=j.valueToCode(R,"LIST",O.NONE)||"[]",R=Ee+"("+R+")";break;case"STD_DEV":Ee=j.provideFunction_("mathStandardDeviation",`
function ${j.FUNCTION_NAME_PLACEHOLDER_}(numbers) {
  var n = numbers.length;
  if (!n) return null;
  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;
  var variance = 0;
  for (var j = 0; j < n; j++) {
    variance += Math.pow(numbers[j] - mean, 2);
  }
  variance /= n;
  return Math.sqrt(variance);
}
`),R=j.valueToCode(R,"LIST",O.NONE)||"[]",R=Ee+"("+R+")";break;case"RANDOM":Ee=j.provideFunction_("mathRandomList",`
function ${j.FUNCTION_NAME_PLACEHOLDER_}(list) {
  var x = Math.floor(Math.random() * list.length);
  return list[x];
}
`),R=j.valueToCode(R,"LIST",O.NONE)||"[]",R=Ee+"("+R+")";break;default:throw Error("Unknown operator: "+Ee)}return[R,O.FUNCTION_CALL]},an=function(R,j){const Ee=j.valueToCode(R,"DIVIDEND",O.MODULUS)||"0";return R=j.valueToCode(R,"DIVISOR",O.MODULUS)||"0",[Ee+" % "+R,O.MODULUS]},de=function(R,j){const Ee=j.valueToCode(R,"VALUE",O.NONE)||"0",Fe=j.valueToCode(R,"LOW",O.NONE)||"0";return R=j.valueToCode(R,"HIGH",O.NONE)||"Infinity",["Math.min(Math.max("+Ee+", "+Fe+"), "+R+")",O.FUNCTION_CALL]},Le=function(R,j){const Ee=j.valueToCode(R,"FROM",O.NONE)||"0";return R=j.valueToCode(R,"TO",O.NONE)||"0",[j.provideFunction_("mathRandomInt",`
function ${j.FUNCTION_NAME_PLACEHOLDER_}(a, b) {
  if (a > b) {
    // Swap a and b to ensure a is smaller.
    var c = a;
    a = b;
    b = c;
  }
  return Math.floor(Math.random() * (b - a + 1) + a);
}
`)+"("+Ee+", "+R+")",O.FUNCTION_CALL]},tt=function(R,j){return["Math.random()",O.FUNCTION_CALL]},_e=function(R,j){const Ee=j.valueToCode(R,"X",O.NONE)||"0";return["Math.atan2("+(j.valueToCode(R,"Y",O.NONE)||"0")+", "+Ee+") / Math.PI * 180",O.DIVISION]},Ft=function(R,j){const Ee=j.getProcedureName(R.getFieldValue("NAME"));var Fe="";j.STATEMENT_PREFIX&&(Fe+=j.injectId(j.STATEMENT_PREFIX,R)),j.STATEMENT_SUFFIX&&(Fe+=j.injectId(j.STATEMENT_SUFFIX,R)),Fe&&(Fe=j.prefixLines(Fe,j.INDENT));let Mt="";j.INFINITE_LOOP_TRAP&&(Mt=j.prefixLines(j.injectId(j.INFINITE_LOOP_TRAP,R),j.INDENT));let dn="";R.getInput("STACK")&&(dn=j.statementToCode(R,"STACK"));let Mn="";R.getInput("RETURN")&&(Mn=j.valueToCode(R,"RETURN",O.NONE)||"");let hr="";dn&&Mn&&(hr=Fe),Mn&&(Mn=j.INDENT+"return "+Mn+`;
`);const xs=[],ts=R.getVars();for(let _r=0;_r<ts.length;_r++)xs[_r]=j.getVariableName(ts[_r]);return Fe="function "+Ee+"("+xs.join(", ")+`) {
`+Fe+Mt+dn+hr+Mn+"}",Fe=j.scrub_(R,Fe),j.definitions_["%"+Ee]=Fe,null},It=function(R,j){const Ee=j.getProcedureName(R.getFieldValue("NAME")),Fe=[],Mt=R.getVars();for(let dn=0;dn<Mt.length;dn++)Fe[dn]=j.valueToCode(R,"ARG"+dn,O.NONE)||"null";return[Ee+"("+Fe.join(", ")+")",O.FUNCTION_CALL]},Qt=function(R,j){return j.forBlock.procedures_callreturn(R,j)[0]+`;
`},cn=function(R,j){let Ee="if ("+(j.valueToCode(R,"CONDITION",O.NONE)||"false")+`) {
`;return j.STATEMENT_SUFFIX&&(Ee+=j.prefixLines(j.injectId(j.STATEMENT_SUFFIX,R),j.INDENT)),R.hasReturnValue_?(R=j.valueToCode(R,"VALUE",O.NONE)||"null",Ee+=j.INDENT+"return "+R+`;
`):Ee+=j.INDENT+`return;
`,Ee+`}
`},Hn=function(R,j){return[j.quote_(R.getFieldValue("TEXT")),O.ATOMIC]},mn=function(R,j){switch(R.itemCount_){case 0:return["''",O.ATOMIC];case 1:return R=j.valueToCode(R,"ADD0",O.NONE)||"''",ae(R);case 2:var Ee=j.valueToCode(R,"ADD0",O.NONE)||"''";return R=j.valueToCode(R,"ADD1",O.NONE)||"''",[ae(Ee)[0]+" + "+ae(R)[0],O.ADDITION];default:Ee=Array(R.itemCount_);for(let Fe=0;Fe<R.itemCount_;Fe++)Ee[Fe]=j.valueToCode(R,"ADD"+Fe,O.NONE)||"''";return["["+Ee.join(",")+"].join('')",O.FUNCTION_CALL]}},sn=function(R,j){const Ee=j.getVariableName(R.getFieldValue("VAR"));return R=j.valueToCode(R,"TEXT",O.NONE)||"''",Ee+" += "+ae(R)[0]+`;
`},qn=function(R,j){return[(j.valueToCode(R,"VALUE",O.MEMBER)||"''")+".length",O.MEMBER]},ct=function(R,j){return["!"+(j.valueToCode(R,"VALUE",O.MEMBER)||"''")+".length",O.LOGICAL_NOT]},rn=function(R,j){const Ee=R.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",Fe=j.valueToCode(R,"FIND",O.NONE)||"''";return j=(j.valueToCode(R,"VALUE",O.MEMBER)||"''")+"."+Ee+"("+Fe+")",R.workspace.options.oneBasedIndex?[j+" + 1",O.ADDITION]:[j,O.FUNCTION_CALL]},Br=function(R,j){const Ee=R.getFieldValue("WHERE")||"FROM_START",Fe=j.valueToCode(R,"VALUE",Ee==="RANDOM"?O.NONE:O.MEMBER)||"''";switch(Ee){case"FIRST":return[Fe+".charAt(0)",O.FUNCTION_CALL];case"LAST":return[Fe+".slice(-1)",O.FUNCTION_CALL];case"FROM_START":return R=j.getAdjusted(R,"AT"),[Fe+".charAt("+R+")",O.FUNCTION_CALL];case"FROM_END":return R=j.getAdjusted(R,"AT",1,!0),[Fe+".slice("+R+").charAt(0)",O.FUNCTION_CALL];case"RANDOM":return[j.provideFunction_("textRandomLetter",`
function ${j.FUNCTION_NAME_PLACEHOLDER_}(text) {
  var x = Math.floor(Math.random() * text.length);
  return text[x];
}
`)+"("+Fe+")",O.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},Zn=function(R,j){var Ee={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};const Fe=R.getFieldValue("WHERE1"),Mt=R.getFieldValue("WHERE2");var dn=Fe!=="FROM_END"&&Fe!=="LAST"&&Mt!=="FROM_END"&&Mt!=="LAST",Mn=j.valueToCode(R,"STRING",dn?O.MEMBER:O.NONE)||"''";if(Fe==="FIRST"&&Mt==="LAST")return[Mn,O.NONE];if(Mn.match(/^'?\w+'?$/)||dn){switch(Fe){case"FROM_START":Ee=j.getAdjusted(R,"AT1");break;case"FROM_END":Ee=j.getAdjusted(R,"AT1",1,!1,O.SUBTRACTION),Ee=Mn+".length - "+Ee;break;case"FIRST":Ee="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(Mt){case"FROM_START":j=j.getAdjusted(R,"AT2",1);break;case"FROM_END":j=j.getAdjusted(R,"AT2",0,!1,O.SUBTRACTION),j=Mn+".length - "+j;break;case"LAST":j=Mn+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}Mn=Mn+".slice("+Ee+", "+j+")"}else dn=j.getAdjusted(R,"AT1"),R=j.getAdjusted(R,"AT2"),Mn=j.provideFunction_("subsequence"+Ee[Fe]+Ee[Mt],`
function ${j.FUNCTION_NAME_PLACEHOLDER_}(sequence${Fe==="FROM_END"||Fe==="FROM_START"?", at1":""}${Mt==="FROM_END"||Mt==="FROM_START"?", at2":""}) {
  var start = ${ze("sequence",Fe,"at1")};
  var end = ${ze("sequence",Mt,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+Mn+(Fe==="FROM_END"||Fe==="FROM_START"?", "+dn:"")+(Mt==="FROM_END"||Mt==="FROM_START"?", "+R:"")+")";return[Mn,O.FUNCTION_CALL]},mr=function(R,j){const Ee={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[R.getFieldValue("CASE")];return R=j.valueToCode(R,"TEXT",Ee?O.MEMBER:O.NONE)||"''",[Ee?R+Ee:j.provideFunction_("textToTitleCase",`
function ${j.FUNCTION_NAME_PLACEHOLDER_}(str) {
  return str.replace(/\\S+/g,
      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});
}
`)+"("+R+")",O.FUNCTION_CALL]},un=function(R,j){const Ee={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[R.getFieldValue("MODE")];return[(j.valueToCode(R,"TEXT",O.MEMBER)||"''")+Ee,O.FUNCTION_CALL]},$i=function(R,j){return"window.alert("+(j.valueToCode(R,"TEXT",O.NONE)||"''")+`);
`},wi=function(R,j){return j="window.prompt("+(R.getField("TEXT")?j.quote_(R.getFieldValue("TEXT")):j.valueToCode(R,"TEXT",O.NONE)||"''")+")",R.getFieldValue("TYPE")==="NUMBER"&&(j="Number("+j+")"),[j,O.FUNCTION_CALL]},nr=function(R,j){const Ee=j.valueToCode(R,"TEXT",O.NONE)||"''";return R=j.valueToCode(R,"SUB",O.NONE)||"''",[j.provideFunction_("textCount",`
function ${j.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle) {
  if (needle.length === 0) {
    return haystack.length + 1;
  } else {
    return haystack.split(needle).length - 1;
  }
}
`)+"("+Ee+", "+R+")",O.FUNCTION_CALL]},es=function(R,j){const Ee=j.valueToCode(R,"TEXT",O.NONE)||"''",Fe=j.valueToCode(R,"FROM",O.NONE)||"''";return R=j.valueToCode(R,"TO",O.NONE)||"''",[j.provideFunction_("textReplace",`
function ${j.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle, replacement) {
  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')
                 .replace(/\\x08/g, '\\\\x08');
  return haystack.replace(new RegExp(needle, 'g'), replacement);
}
`)+"("+Ee+", "+Fe+", "+R+")",O.FUNCTION_CALL]},li=function(R,j){return[(j.valueToCode(R,"TEXT",O.MEMBER)||"''")+".split('').reverse().join('')",O.FUNCTION_CALL]},rr=function(R,j){return[j.getVariableName(R.getFieldValue("VAR")),O.ATOMIC]},Xn=function(R,j){const Ee=j.valueToCode(R,"VALUE",O.ASSIGNMENT)||"0";return j.getVariableName(R.getFieldValue("VAR"))+" = "+Ee+`;
`},O;(function(R){R[R.ATOMIC=0]="ATOMIC",R[R.NEW=1.1]="NEW",R[R.MEMBER=1.2]="MEMBER",R[R.FUNCTION_CALL=2]="FUNCTION_CALL",R[R.INCREMENT=3]="INCREMENT",R[R.DECREMENT=3]="DECREMENT",R[R.BITWISE_NOT=4.1]="BITWISE_NOT",R[R.UNARY_PLUS=4.2]="UNARY_PLUS",R[R.UNARY_NEGATION=4.3]="UNARY_NEGATION",R[R.LOGICAL_NOT=4.4]="LOGICAL_NOT",R[R.TYPEOF=4.5]="TYPEOF",R[R.VOID=4.6]="VOID",R[R.DELETE=4.7]="DELETE",R[R.AWAIT=4.8]="AWAIT",R[R.EXPONENTIATION=5]="EXPONENTIATION",R[R.MULTIPLICATION=5.1]="MULTIPLICATION",R[R.DIVISION=5.2]="DIVISION",R[R.MODULUS=5.3]="MODULUS",R[R.SUBTRACTION=6.1]="SUBTRACTION",R[R.ADDITION=6.2]="ADDITION",R[R.BITWISE_SHIFT=7]="BITWISE_SHIFT",R[R.RELATIONAL=8]="RELATIONAL",R[R.IN=8]="IN",R[R.INSTANCEOF=8]="INSTANCEOF",R[R.EQUALITY=9]="EQUALITY",R[R.BITWISE_AND=10]="BITWISE_AND",R[R.BITWISE_XOR=11]="BITWISE_XOR",R[R.BITWISE_OR=12]="BITWISE_OR",R[R.LOGICAL_AND=13]="LOGICAL_AND",R[R.LOGICAL_OR=14]="LOGICAL_OR",R[R.CONDITIONAL=15]="CONDITIONAL",R[R.ASSIGNMENT=16]="ASSIGNMENT",R[R.YIELD=17]="YIELD",R[R.COMMA=18]="COMMA",R[R.NONE=99]="NONE"})(O||(O={}));var ne=class extends a.CodeGenerator$$module$build$src$core$generator{constructor(R="JavaScript"){super(R),this.ORDER_OVERRIDES=[[O.FUNCTION_CALL,O.MEMBER],[O.FUNCTION_CALL,O.FUNCTION_CALL],[O.MEMBER,O.MEMBER],[O.MEMBER,O.FUNCTION_CALL],[O.LOGICAL_NOT,O.LOGICAL_NOT],[O.MULTIPLICATION,O.MULTIPLICATION],[O.ADDITION,O.ADDITION],[O.LOGICAL_AND,O.LOGICAL_AND],[O.LOGICAL_OR,O.LOGICAL_OR]],this.isInitialized=!1;for(const j in O)R=O[j],typeof R!="string"&&(this["ORDER_"+j]=R);this.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(globalThis).join(","))}init(R){super.init(R),this.nameDB_?this.nameDB_.reset():this.nameDB_=new a.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(R.getVariableMap()),this.nameDB_.populateVariables(R),this.nameDB_.populateProcedures(R);const j=[];var Ee=a.allDeveloperVariables$$module$build$src$core$variables(R);for(let Fe=0;Fe<Ee.length;Fe++)j.push(this.nameDB_.getName(Ee[Fe],a.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));for(R=a.allUsedVarModels$$module$build$src$core$variables(R),Ee=0;Ee<R.length;Ee++)j.push(this.nameDB_.getName(R[Ee].getId(),a.NameType$$module$build$src$core$names.VARIABLE));j.length&&(this.definitions_.variables="var "+j.join(", ")+";"),this.isInitialized=!0}finish(R){const j=Object.values(this.definitions_);return super.finish(R),this.isInitialized=!1,this.nameDB_.reset(),j.join(`

`)+`


`+R}scrubNakedValue(R){return R+`;
`}quote_(R){return R=R.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`).replace(/'/g,"\\'"),"'"+R+"'"}multiline_quote_(R){return R.split(/\n/g).map(this.quote_).join(` + '\\n' +
`)}scrub_(R,j,Ee=!1){let Fe="";if(!R.outputConnection||!R.outputConnection.targetConnection){var Mt=R.getCommentText();Mt&&(Mt=a.wrap$$module$build$src$core$utils$string(Mt,this.COMMENT_WRAP-3),Fe+=this.prefixLines(Mt+`
`,"// "));for(let dn=0;dn<R.inputList.length;dn++)R.inputList[dn].type===a.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(Mt=R.inputList[dn].connection.targetBlock())&&(Mt=this.allNestedComments(Mt))&&(Fe+=this.prefixLines(Mt,"// "))}return R=R.nextConnection&&R.nextConnection.targetBlock(),Ee=Ee?"":this.blockToCode(R),Fe+j+Ee}getAdjusted(R,j,Ee=0,Fe=!1,Mt=O.NONE){R.workspace.options.oneBasedIndex&&Ee--;const dn=R.workspace.options.oneBasedIndex?"1":"0";let Mn=Mt;return Ee>0?Mn=O.ADDITION:Ee<0?Mn=O.SUBTRACTION:Fe&&(Mn=O.UNARY_NEGATION),R=this.valueToCode(R,j,Mn)||dn,Ee===0&&!Fe?R:a.isNumber$$module$build$src$core$utils$string(R)?(R=String(Number(R)+Ee),Fe&&(R=String(-Number(R))),R):(Ee>0?R=`${R} + ${Ee}`:Ee<0&&(R=`${R} - ${-Ee}`),Fe&&(R=Ee?`-(${R})`:`-${R}`),Math.floor(Mt)>=Math.floor(Mn)&&(R=`(${R})`),R)}},Ie=function(R,j,Ee){return j==="FIRST"?"0":j==="FROM_END"?R+".length - 1 - "+Ee:j==="LAST"?R+".length - 1":Ee},Be={};Be.lists_create_empty=h,Be.lists_create_with=p,Be.lists_getIndex=w,Be.lists_getSublist=H,Be.lists_indexOf=E,Be.lists_isEmpty=y,Be.lists_length=_,Be.lists_repeat=$,Be.lists_reverse=he,Be.lists_setIndex=I,Be.lists_sort=F,Be.lists_split=te;var nt={};nt.controls_if=ce,nt.controls_ifelse=ce,nt.logic_boolean=Oe,nt.logic_compare=K,nt.logic_negate=we,nt.logic_null=De,nt.logic_operation=se,nt.logic_ternary=Se;var Ye={};Ye.controls_flow_statements=Pt,Ye.controls_for=Ze,Ye.controls_forEach=Ke,Ye.controls_repeat=je,Ye.controls_repeat_ext=je,Ye.controls_whileUntil=at;var yt={};yt.math_arithmetic=Xt,yt.math_atan2=_e,yt.math_change=St,yt.math_constant=Ot,yt.math_constrain=de,yt.math_modulo=an,yt.math_number=Ve,yt.math_number_property=st,yt.math_on_list=vt,yt.math_random_float=tt,yt.math_random_int=Le,yt.math_round=Lt,yt.math_single=Lt,yt.math_trig=Lt;var xt={};xt.procedures_callnoreturn=Qt,xt.procedures_callreturn=It,xt.procedures_defnoreturn=Ft,xt.procedures_defreturn=Ft,xt.procedures_ifreturn=cn;var L=/^\s*'([^']|\\')*'\s*$/,ae=function(R){return L.test(R)?[R,O.ATOMIC]:["String("+R+")",O.FUNCTION_CALL]},ze=function(R,j,Ee){return j==="FIRST"?"0":j==="FROM_END"?R+".length - 1 - "+Ee:j==="LAST"?R+".length - 1":Ee},Pe={};Pe.text=Hn,Pe.text_append=sn,Pe.text_changeCase=mr,Pe.text_charAt=Br,Pe.text_count=nr,Pe.text_getSubstring=Zn,Pe.text_indexOf=rn,Pe.text_isEmpty=ct,Pe.text_join=mn,Pe.text_length=qn,Pe.text_print=$i,Pe.text_prompt=wi,Pe.text_prompt_ext=wi,Pe.text_replace=es,Pe.text_reverse=li,Pe.text_trim=un;var Dt={};Dt.variables_get=rr,Dt.variables_set=Xn;var Sn={};Sn.variables_get_dynamic=rr,Sn.variables_set_dynamic=Xn;var Ar=new ne,Y=Object.assign({},Be,nt,Ye,yt,xt,Pe,Dt,Sn);for(const R in Y)Ar.forBlock[R]=Y[R];var ve={};return ve.JavascriptGenerator=ne,ve.Order=O,ve.javascriptGenerator=Ar,ve.__namespace__=a,ve})})(v5)),v5.exports}var Sb=wb();const xb=su(Sb),{JavascriptGenerator:iR,Order:sR,javascriptGenerator:Bn}=xb,am="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIj48Y2lyY2xlIGN4PSIxMCIgY3k9IjEwIiByPSIzIiBmaWxsPSJ3aGl0ZSIvPjxjaXJjbGUgY3g9IjEwIiBjeT0iMTAiIHI9IjEwIiBmaWxsPSJub25lIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIG9wYWNpdHk9IjAuNSI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgZnJvbT0iMyIgdG89IjEwIiBkdXI9IjEuNXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIi8+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgZnJvbT0iMSIgdG89IjAiIGR1cj0iMS41cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiLz48L2NpcmNsZT48L3N2Zz4=";let um=!1;const Vf=()=>{if(um)return;um=!0,console.log(" Enregistrement global des blocs (V4)..."),X2([{type:"maze_move_forward",message0:"Avancer ",previousStatement:null,nextStatement:null,colour:160},{type:"maze_turn",message0:"Pivoter %1 ",args0:[{type:"field_dropdown",name:"DIR",options:[[" gauche ","LEFT"],[" droite ","RIGHT"]]}],previousStatement:null,nextStatement:null,colour:160},{type:"maze_forever",message0:"Rpter jusqu'  %1",args0:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:120},{type:"maze_if",message0:"Si chemin %1 %2 %3 faire %4",args0:[{type:"field_dropdown",name:"DIR",options:[["devant ","AHEAD"],[" gauche ","LEFT"],[" droite ","RIGHT"]]},{type:"field_image",src:am,width:15,height:15,alt:"Radar"},{type:"input_dummy"},{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:210},{type:"maze_if_else",message0:"Si chemin %1 %2 %3 faire %4 sinon %5",args0:[{type:"field_dropdown",name:"DIR",options:[["devant ","AHEAD"],[" gauche ","LEFT"],[" droite ","RIGHT"]]},{type:"field_image",src:am,width:15,height:15,alt:"Radar"},{type:"input_dummy"},{type:"input_statement",name:"DO"},{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,colour:210}]),Bn.forBlock.maze_move_forward=o=>`actions.push({type: "MOVE", id: "${o.id}"}); api.move();
`,Bn.forBlock.maze_turn=o=>{const n=o.getFieldValue("DIR");return`actions.push({type: "TURN_${n}", id: "${o.id}"}); api.turn('${n}');
`},Bn.forBlock.maze_forever=o=>{const n=Bn.statementToCode(o,"DO");return`while (!api.isDone() && api.safeCheck()) {
      actions.push({type: "LOOP_CHECK", id: "${o.id}"}); 
      ${n}
    }
`},Bn.forBlock.maze_if=o=>{const n=o.getFieldValue("DIR"),a=Bn.statementToCode(o,"DO");return`actions.push({type: "SCAN", dir: "${n}", id: "${o.id}"}); if (api.isPath('${n}')) {
${a}}
`},Bn.forBlock.maze_if_else=o=>{const n=o.getFieldValue("DIR"),a=Bn.statementToCode(o,"DO"),h=Bn.statementToCode(o,"ELSE");return`actions.push({type: "SCAN", dir: "${n}", id: "${o.id}"}); if (api.isPath('${n}')) {
${a}} else {
${h}}
`},X2([{type:"turtle_move",message0:"avancer  de %1 pas",args0:[{type:"input_value",name:"VALUE",check:"Number"}],previousStatement:null,nextStatement:null,colour:160},{type:"turtle_turn",message0:"pivoter %1 de %2 degrs ",args0:[{type:"field_dropdown",name:"DIR",options:[[" gauche","LEFT"],[" droite","RIGHT"]]},{type:"input_value",name:"VALUE",check:"Number"}],previousStatement:null,nextStatement:null,colour:160},{type:"turtle_pen",message0:"stylo %1",args0:[{type:"field_dropdown",name:"STATE",options:[["lev ","UP"],["baiss ","DOWN"]]}],previousStatement:null,nextStatement:null,colour:160},{type:"turtle_color",message0:"couleur %1",args0:[{type:"field_colour",name:"COLOR",colour:"#ff0000"}],previousStatement:null,nextStatement:null,colour:160}]),Bn.forBlock.turtle_move=o=>`actions.push({type: 'MOVE', id: "${o.id}", dist: ${Bn.valueToCode(o,"VALUE",Bn.ORDER_ATOMIC)||"0"}});
`,Bn.forBlock.turtle_turn=o=>{const n=o.getFieldValue("DIR"),a=Bn.valueToCode(o,"VALUE",Bn.ORDER_ATOMIC)||"0",h=n==="LEFT"?`-${a}`:a;return`actions.push({type: 'TURN', id: "${o.id}", angle: ${h}});
`},Bn.forBlock.turtle_pen=o=>`actions.push({type: 'PEN', id: "${o.id}", state: '${o.getFieldValue("STATE")}'});
`,Bn.forBlock.turtle_color=o=>`actions.push({type: 'COLOR', id: "${o.id}", color: '${o.getFieldValue("COLOR")}'});
`,Bn.forBlock.variables_set=o=>{const n=Bn.valueToCode(o,"VALUE",Bn.ORDER_ATOMIC)||"0",a=o.getField("VAR").getText();return`try { ${a} = ${n}; actions.push({type: 'SET', id: "${o.id}", var: '${a}', val: ${a}}); } catch(e) { console.error(e); }
`},P6.text_print||X2([{type:"text_print",message0:"afficher %1",args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,colour:160}]),Bn.forBlock.text_print=o=>{const n=Bn.valueToCode(o,"TEXT",Bn.ORDER_NONE)||"''";return`actions.push({type: 'PRINT', id: "${o.id}", msg: ${n}});
`},P6.system_var_get||(P6.system_var_get={init:function(){this.jsonInit({message0:"%1",args0:[{type:"field_label_serializable",name:"VAR_NAME",text:"VAR"}],output:null,colour:60,editable:!1})}}),Bn.forBlock.system_var_get=o=>[o.getField("VAR_NAME").getText(),Bn.ORDER_ATOMIC],X2([{type:"equation_op_both",message0:"Aux deux cts %1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["Ajouter +","ADD"],["Soustraire -","SUB"],["Multiplier ","MUL"],["Diviser /","DIV"]]},{type:"input_value",name:"VAL"}],previousStatement:null,nextStatement:null,colour:230,tooltip:"Applique une opration aux deux membres de l'quation"}]),Bn.forBlock.equation_op_both=o=>{const n=o.getFieldValue("OP"),a=Bn.valueToCode(o,"VAL",Bn.ORDER_ATOMIC)||"0";return`actions.push({ type: 'OP_BOTH', operator: '${{ADD:"+",SUB:"-",MUL:"*",DIV:"/"}[n]}', value: ${a} });
`},X2([{type:"equation_term_x",message0:"%1 x",args0:[{type:"field_number",name:"COEFF",value:1,precision:1}],output:null,colour:230,tooltip:"Reprsente une inconnue (ex: 2x, -x...)"}]),Bn.forBlock.equation_term_x=o=>[`"${o.getFieldValue("COEFF")}*x"`,Bn.ORDER_ATOMIC];const r=(o,n)=>{const a=o.getFieldValue("WHERE")||"FROM_START";let h="0";switch(a){case"FIRST":h="0";break;case"LAST":h=`${n}.length - 1`;break;case"FROM_START":h=String(Bn.valueToCode(o,"AT",Bn.ORDER_NONE)||"1").match(/^\d+$/)?parseInt(Bn.valueToCode(o,"AT",Bn.ORDER_NONE)||"1",10)-1:`(${Bn.valueToCode(o,"AT",Bn.ORDER_NONE)||"1"} - 1)`;break;case"FROM_END":h=`${n}.length - ${Bn.valueToCode(o,"AT",Bn.ORDER_NONE)||"1"}`;break;case"RANDOM":h=`Math.floor(Math.random() * ${n}.length)`;break}return h};Bn.forBlock.lists_create_with=o=>{const n=new Array(o.itemCount_);for(let a=0;a<o.itemCount_;a++)n[a]=Bn.valueToCode(o,"ADD"+a,Bn.ORDER_NONE)||"0";return["["+n.join(", ")+"]",Bn.ORDER_ATOMIC]},Bn.forBlock.lists_getIndex=o=>[`${Bn.valueToCode(o,"VALUE",Bn.ORDER_MEMBER)||"[]"}[${r(o,Bn.valueToCode(o,"VALUE",Bn.ORDER_MEMBER)||"[]")}]`,Bn.ORDER_MEMBER],Bn.forBlock.lists_setIndex=o=>`${Bn.valueToCode(o,"LIST",Bn.ORDER_MEMBER)||"[]"}[${r(o,Bn.valueToCode(o,"LIST",Bn.ORDER_MEMBER)||"[]")}] = ${Bn.valueToCode(o,"TO",Bn.ORDER_ASSIGNMENT)||"null"};
actions.push({type: 'SET', id: "${o.id}", var: '${Bn.valueToCode(o,"LIST",Bn.ORDER_MEMBER)||"[]"}', val: ${Bn.valueToCode(o,"LIST",Bn.ORDER_MEMBER)||"[]"}});
`,Bn.forBlock.lists_length=o=>[`${Bn.valueToCode(o,"VALUE",Bn.ORDER_MEMBER)||"[]"}.length`,Bn.ORDER_MEMBER]},Q3={maze_move_forward:'<block type="maze_move_forward"></block>',maze_forever:'<block type="maze_forever"></block>',maze_if:'<block type="maze_if"></block>',maze_if_else:'<block type="maze_if_else"></block>',maze_turn:`
    <block type="maze_turn"><field name="DIR">LEFT</field></block>
    <block type="maze_turn"><field name="DIR">RIGHT</field></block>
  `,turtle_move:`
    <block type="turtle_move">
      <value name="VALUE"><shadow type="math_number"><field name="NUM">50</field></shadow></value>
    </block>
  `,turtle_turn:`
    <block type="turtle_turn">
      <value name="VALUE"><shadow type="math_number"><field name="NUM">90</field></shadow></value>
    </block>
  `,turtle_pen:`
    <block type="turtle_pen"><field name="STATE">UP</field></block>
    <block type="turtle_pen"><field name="STATE">DOWN</field></block>
  `,turtle_color:`
    <block type="turtle_color"><field name="COLOR">#ff0000</field></block>
  `,equation_op_both:`
    <block type="equation_op_both">
      <value name="VAL"><shadow type="math_number"><field name="NUM">1</field></shadow></value>
    </block>
  `,equation_term_x:`
    <block type="equation_term_x">
      <field name="COEFF">1</field>
    </block>
  `,controls_repeat_ext:`
    <block type="controls_repeat_ext">
      <value name="TIMES">
        <shadow type="math_number"><field name="NUM">5</field></shadow>
      </value>
    </block>
  `,controls_whileUntil:'<block type="controls_whileUntil"></block>',controls_if:'<block type="controls_if"></block>',logic_compare:'<block type="logic_compare"></block>',logic_operation:'<block type="logic_operation"></block>',math_number:'<block type="math_number"></block>',math_arithmetic:`
    <block type="math_arithmetic">
      <value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow></value>
      <value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value>
    </block>
  `,math_modulo:`
    <block type="math_modulo">
      <value name="DIVIDEND"><shadow type="math_number"><field name="NUM">10</field></shadow></value>
      <value name="DIVISOR"><shadow type="math_number"><field name="NUM">2</field></shadow></value>
    </block>
  `,math_random_int:`
    <block type="math_random_int">
      <value name="FROM"><shadow type="math_number"><field name="NUM">1</field></shadow></value>
      <value name="TO"><shadow type="math_number"><field name="NUM">100</field></shadow></value>
    </block>
  `,lists_create_with:'<block type="lists_create_with"><mutation items="3"></mutation></block>',lists_getIndex:'<block type="lists_getIndex"></block>',lists_setIndex:'<block type="lists_setIndex"></block>',lists_length:'<block type="lists_length"></block>',text_print:'<block type="text_print"></block>',text_prompt_ext:'<block type="text_prompt_ext"><value name="TEXT"><shadow type="text"><field name="TEXT">?</field></shadow></value></block>',variables_get:'<block type="variables_get"></block>',variables_set:'<block type="variables_set"></block>'},Cb={maze_move_forward:"Avancer ",maze_turn:"Pivoter ",maze_if:"Si chemin... ",maze_if_else:"Si... Sinon... ",maze_forever:"Rpter jusqu' ",turtle_move:"Avancer ",turtle_turn:"Pivoter ",turtle_pen:"Stylo ",turtle_color:"Couleur ",controls_repeat_ext:"Rpter N fois",controls_whileUntil:"Rpter tant que",controls_if:"Si... Alors",logic_compare:"Comparaison",logic_operation:"Oprateur",math_number:"Nombre",math_arithmetic:"Calcul",math_modulo:"Reste",math_random_int:"Alatoire",equation_op_both:"Opration quation",equation_term_x:"Terme X (ax)",text_print:"Afficher",text_prompt_ext:"Demander",lists_create_with:"Crer liste",lists_getIndex:"Lire lment",lists_setIndex:"Modifier lment",lists_length:"Longueur liste",variables_set:"Dfinir variable",variables_get:"Lire variable"},t9={MAZE:["Mouvements","Capteurs","Logique"],TURTLE:["Tortue","Logique","Mathmatiques","Variables"],MATH:["Mathmatiques","Listes","Variables","Interactions","Logique"],EQUATION:["Algbre"]},s3={Mouvements:["maze_move_forward","maze_turn"],Capteurs:["maze_if","maze_if_else","maze_forever"],Tortue:["turtle_move","turtle_turn","turtle_pen","turtle_color"],Logique:["controls_repeat_ext","controls_whileUntil","controls_if","logic_compare","logic_operation"],Mathmatiques:["math_number","math_arithmetic","math_modulo","math_random_int"],Listes:["lists_create_with","lists_getIndex","lists_setIndex","lists_length"],Variables:["variables_set"],Interactions:["text_print","text_prompt_ext"],Algbre:["equation_op_both","equation_term_x","math_number"]},d3=(r,o,n=[],a=[])=>n9(r,o,n,a),kb=(r,o,n=[],a=[])=>{const h=t9[r]||[];let p=[];return h.forEach($=>{s3[$]&&(p=[...p,...s3[$]])}),n9(p,o,n,a,!0)},n9=(r,o,n,a,h=!1)=>{let p="",$=new Set(r||[]);const _=(r||[]).length,y=h||_>=6;let E=!1,w="";if(o&&Object.keys(o).length>0){const H=Object.keys(o).filter(F=>!n.includes(F));H.length>0&&(H.forEach(F=>{a.includes(F)?w+=`<block type="system_var_get"><field name="VAR_NAME">${F}</field></block>`:(w+=`<block type="variables_get"><field name="VAR">${F}</field></block>`,$.has("variables_set")&&(w+=`<block type="variables_set"><field name="VAR">${F}</field></block>`))}),w&&(y?(p+=`<category name="Variables" colour="330">${w}</category>`,E=!0):p+=w,w="",$.delete("variables_set"),$.delete("variables_get")))}Object.entries(s3).forEach(([H,F])=>{const te=F.filter(ce=>$.has(ce));if(te.length===0&&!h)return;const he=h?F:te;if(he.length>0){let ce="";if(he.forEach(K=>{Q3[K]&&(ce+=Q3[K],$.delete(K))}),y){let K="0";H==="Mouvements"&&(K="120"),H==="Tortue"&&(K="160"),H==="Logique"&&(K="210"),H==="Mathmatiques"&&(K="230"),H==="Listes"&&(K="260"),H==="Interactions"&&(K="160"),H==="Algbre"&&(K="290"),p+=`<category name="${H}" colour="${K}">${ce}</category>`,E=!0}else p+=ce}});let I=w;return $.forEach(H=>{Q3[H]&&(I+=Q3[H])}),E?I&&(p+=`<category name=" Divers" colour="0">${I}</category>`):p+=I,{xml:`<xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">${p}</xml>`,hasCategories:E}};function Ib({levelData:r,onUpdate:o}){const n=Tn.useRef(null),[a,h]=Tn.useState("START"),[p,$]=Tn.useState(!1);Tn.useEffect(()=>{const K=setTimeout(()=>{try{Vf(),$(!0)}catch(se){console.error(se)}},10);return()=>clearTimeout(K)},[]);const _={scrollbars:!0,trashcan:!0,readOnly:!1,zoom:{controls:!0,wheel:!0,startScale:.9}},y=r.type||"MAZE",E=Tn.useMemo(()=>d3(r.allowedBlocks,r.inputs,r.hiddenVars,r.lockedVars),[r.allowedBlocks,r.inputs,r.hiddenVars,r.lockedVars]),w=Tn.useMemo(()=>kb(y,r.inputs,r.hiddenVars,r.lockedVars),[y,r.inputs,r.hiddenVars,r.lockedVars]),I=a==="SOLUTION"?w:E,H=`${r.id}-${y}-${a}-${I.hasCategories?"CAT":"FLY"}`,F=K=>{n.current=K,window.setTimeout(()=>Tf(K),0)};Tn.useEffect(()=>{n.current&&p&&n.current.updateToolbox(I.xml)},[I,p]);const te=K=>{const se=r.allowedBlocks||[],we=se.includes(K)?se.filter(Oe=>Oe!==K):[...se,K];o({...r,allowedBlocks:we})},he=K=>{const se=s3[K]||[],we=r.allowedBlocks||[],De=se.every(Se=>we.includes(Se))?we.filter(Se=>!se.includes(Se)):[...we,...se.filter(Se=>!we.includes(Se))];o({...r,allowedBlocks:De})},ce=t9[y]||[];return p?ye.jsxs("div",{className:"flex flex-col h-full gap-4",children:[ye.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 h-[55%] min-h-[400px]",children:[ye.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden relative flex flex-col",children:[y==="MAZE"&&ye.jsx(J$,{levelData:r,onUpdate:o}),y==="TURTLE"&&ye.jsx(Q$,{levelData:r,onUpdate:o}),y==="MATH"&&ye.jsx(Z$,{levelData:r,onUpdate:o}),y==="EQUATION"&&ye.jsx(eb,{levelData:r,onUpdate:o})]}),ye.jsxs("div",{className:"w-full lg:w-80 flex-shrink-0 bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col overflow-hidden",children:[ye.jsx("div",{className:"p-3 border-b border-slate-100 bg-slate-50/50",children:ye.jsxs("h4",{className:"m-0 text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[ye.jsx("span",{children:""})," Configuration"]})}),ye.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar space-y-5",children:[ye.jsxs("div",{children:[ye.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase",children:"Consigne"}),ye.jsx("textarea",{value:r.instruction||"",onChange:K=>o({...r,instruction:K.target.value}),className:"w-full h-24 p-2 text-sm text-slate-700 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none bg-slate-50 focus:bg-white",placeholder:"Instructions en Markdown..."})]}),ye.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100 flex justify-between items-center",children:[ye.jsx("label",{className:"text-xs font-bold text-emerald-600",children:" Objectif (Par)"}),ye.jsxs("div",{className:"flex items-center gap-2",children:[ye.jsx("input",{type:"number",min:"1",value:r.maxBlocks||5,onChange:K=>o({...r,maxBlocks:parseInt(K.target.value)}),className:"w-14 p-1 text-center font-bold text-sm text-slate-700 border border-slate-200 rounded focus:ring-2 focus:ring-emerald-500"}),ye.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"blocs"})]})]}),ye.jsxs("div",{children:[ye.jsx("h4",{className:"text-[10px] font-bold text-slate-400 mb-2 uppercase border-t border-slate-100 pt-3",children:" Blocs autoriss"}),ye.jsx("div",{className:"space-y-1",children:ce.map(K=>{const se=s3[K]||[],we=r.allowedBlocks||[],Oe=se.every(Se=>we.includes(Se)),De=se.some(Se=>we.includes(Se))&&!Oe;return K==="Variables"&&(!r.inputs||Object.keys(r.inputs).length===0)?null:ye.jsxs("details",{open:Oe||De,className:"group border border-slate-100 rounded-lg overflow-hidden bg-white",children:[ye.jsxs("summary",{className:"flex items-center justify-between p-2 bg-slate-50/80 cursor-pointer select-none hover:bg-slate-100",children:[ye.jsx("span",{className:"text-xs font-bold text-slate-600",children:K}),ye.jsx("input",{type:"checkbox",checked:Oe,ref:Se=>{Se&&(Se.indeterminate=De)},onChange:Se=>{Se.stopPropagation(),he(K)},className:"w-3.5 h-3.5 rounded text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"})]}),ye.jsx("div",{className:"p-2 space-y-1",children:se.map(Se=>ye.jsx("div",{className:"flex items-center hover:bg-blue-50/50 p-1 rounded transition-colors",children:ye.jsxs("label",{className:"flex-1 cursor-pointer flex items-center text-[11px] text-slate-500 gap-2",children:[ye.jsx("input",{type:"checkbox",checked:we.includes(Se),onChange:()=>te(Se),className:"w-3.5 h-3.5 rounded text-blue-600 focus:ring-blue-500 border-gray-300"}),Cb[Se]||Se]})},Se))})]},K)})})]})]})]})]}),ye.jsxs("div",{className:"flex-1 flex flex-col bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden min-h-[300px]",children:[ye.jsx("div",{className:"flex border-b border-slate-100 bg-slate-50",children:[{id:"START",label:" Code lve (Dpart)",color:"blue"},{id:"SOLUTION",label:" Solution Prof",color:"emerald"}].map(K=>ye.jsx("button",{onClick:()=>h(K.id),className:`
                        flex-1 py-2 text-xs font-bold uppercase tracking-wider transition-all
                        ${a===K.id?`text-${K.color}-600 bg-white border-t-2 border-${K.color}-500`:"text-slate-400 hover:text-slate-600 hover:bg-slate-100"}
                    `,children:K.label},K.id))}),ye.jsx("div",{className:`flex-1 relative ${a==="SOLUTION"?"bg-emerald-50/30":"bg-white"}`,children:ye.jsx("div",{className:"absolute inset-0 blockly-container-custom",children:ye.jsx(Hf,{className:"blockly-div w-full h-full",toolboxConfiguration:I.xml,workspaceConfiguration:_,initialXml:a==="START"?r.startBlocks||"<xml></xml>":r.solutionBlocks||"<xml></xml>",onXmlChange:K=>{o(a==="START"?{...r,startBlocks:K}:{...r,solutionBlocks:K})},onInject:F},H)})})]})]}):ye.jsx("div",{className:"p-10 text-center text-slate-400 animate-pulse",children:"Chargement..."})}const e5=[{id:"MAZE",label:"Labyrinthe",icon:"",defaultBlocks:["maze_move_forward","maze_turn","maze_forever","maze_if"]},{id:"TURTLE",label:"Tortue",icon:"",defaultBlocks:["turtle_move","turtle_turn","turtle_pen","turtle_color","controls_repeat_ext"]},{id:"MATH",label:"Labo",icon:"",defaultBlocks:["variables_set","math_number","math_arithmetic","text_print"]},{id:"EQUATION",label:"quation",icon:"",defaultBlocks:["equation_op_both","math_number"]}],Ab={MAZE:"",TURTLE:"",MATH:"",EQUATION:""};function Nb(){const[r,o]=Tn.useState(()=>{const we=localStorage.getItem("blokaly_builder_autosave");if(we)try{return JSON.parse(we)}catch(Oe){console.error(Oe)}return{title:"Ma Nouvelle Campagne",levels:[{id:1,type:"MAZE",grid:Al.defaultGrid,startPos:{x:1,y:1},maxBlocks:5,allowedBlocks:e5[0].defaultBlocks}]}}),[n,a]=Tn.useState(0),h=Tn.useRef(null),p=Tn.useRef(null),$=Tn.useRef(null);Tn.useEffect(()=>{localStorage.setItem("blokaly_builder_autosave",JSON.stringify(r))},[r]);const _=we=>{const Oe=[...r.levels];Oe[n]=we,o({...r,levels:Oe})},y=we=>{const Oe=r.levels[n];if(Oe.type===we)return;const De=e5.find(je=>je.id===we);let Se={};we==="MAZE"?Se={grid:Al.defaultGrid,startPos:{x:1,y:1,dir:1},maxBlocks:10}:we==="TURTLE"?Se={startPos:{x:0,y:0,dir:0},maxBlocks:10,grid:void 0}:we==="MATH"?Se={maxBlocks:20,startPos:void 0}:we==="EQUATION"&&(Se={equation:{a:2,b:4,c:0,d:10,lhs:"2*x+4",rhs:"10"},maxBlocks:5}),confirm(`Passer en mode ${De.label} ? Cela rinitialisera ce niveau.`)&&_({...Oe,type:we,allowedBlocks:De.defaultBlocks,startBlocks:"<xml></xml>",solutionBlocks:"<xml></xml>",...Se})},E=(we,Oe)=>{h.current=Oe},w=(we,Oe)=>{p.current=Oe,we.preventDefault()},I=()=>{const we=h.current,Oe=p.current;if(we!==null&&Oe!==null&&we!==Oe){const De=[...r.levels],Se=De[we];De.splice(we,1),De.splice(Oe,0,Se),o({...r,levels:De}),a(Oe)}h.current=null,p.current=null},H=()=>{const we=e5[0],Oe={id:Date.now(),type:we.id,grid:Al.defaultGrid,startPos:{x:1,y:1},maxBlocks:10,allowedBlocks:we.defaultBlocks};o({...r,levels:[...r.levels,Oe]}),a(r.levels.length)},F=we=>{const Oe={...JSON.parse(JSON.stringify(r.levels[we])),id:Date.now()},De=[...r.levels];De.splice(we+1,0,Oe),o({...r,levels:De}),a(we+1)},te=we=>{if(r.levels.length<=1)return alert("Impossible de supprimer le dernier niveau !");const Oe=r.levels.filter((De,Se)=>Se!==we);o({...r,levels:Oe}),we<=n&&a(Math.max(0,n-1))},he=()=>{const we=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),Oe=document.createElement("a");Oe.href=URL.createObjectURL(we),Oe.download=`${r.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.blokaly.json`,Oe.click()},ce=we=>{const Oe=we.target.files[0];if(!Oe)return;const De=new FileReader;De.onload=Se=>{try{const je=JSON.parse(Se.target.result);if(!je.levels||!Array.isArray(je.levels))throw new Error("Format invalide (pas de niveaux)");confirm(`Charger la campagne "${je.title||"Sans titre"}" ?`)&&(o(je),a(0))}catch(je){alert("Erreur lors du chargement : "+je.message)}},De.readAsText(Oe),we.target.value=null},K=()=>{const we=new URL(window.location.href);we.search=`?data=${K8.compressToEncodedURIComponent(JSON.stringify(r))}&preview=1`,window.open(we.toString(),"_blank")},se=r.levels[n];return ye.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-50 font-sans",children:[ye.jsxs("div",{className:"w-64 bg-slate-900 text-white flex flex-col border-r border-slate-800 flex-shrink-0 z-20",children:[ye.jsxs("div",{className:"p-6 bg-slate-950 border-b border-slate-800",children:[ye.jsx("label",{className:"text-xs uppercase font-bold text-slate-500 tracking-wider mb-1 block",children:"Campagne"}),ye.jsx("input",{type:"text",value:r.title,onChange:we=>o({...r,title:we.target.value}),className:"bg-transparent border-none text-lg font-bold text-white w-full focus:ring-0 placeholder-slate-600 p-0",placeholder:"Titre..."})]}),ye.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-1",children:r.levels.map((we,Oe)=>ye.jsxs("div",{draggable:!0,onDragStart:De=>E(De,Oe),onDragEnter:De=>w(De,Oe),onDragEnd:I,onDragOver:De=>De.preventDefault(),onClick:()=>a(Oe),className:`group flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all border border-transparent ${Oe===n?"bg-blue-600 text-white shadow-md":"text-slate-400 hover:bg-slate-800"}`,children:[ye.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[ye.jsx("span",{className:"cursor-grab opacity-50",children:""}),ye.jsx("span",{className:"text-lg",children:Ab[we.type]||""}),ye.jsxs("span",{className:"truncate text-sm font-medium",children:["Niveau ",Oe+1]})]}),ye.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100",children:[ye.jsx("button",{onClick:De=>{De.stopPropagation(),F(Oe)},className:"p-1 hover:bg-white/20 rounded",title:"Dupliquer",children:""}),r.levels.length>1&&ye.jsx("button",{onClick:De=>{De.stopPropagation(),te(Oe)},className:"p-1 hover:bg-red-500/20 text-red-400 rounded",title:"Supprimer",children:""})]})]},we.id))}),ye.jsxs("div",{className:"p-4 bg-slate-950 border-t border-slate-800 flex flex-col gap-2",children:[ye.jsxs("button",{onClick:H,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded font-bold text-xs flex justify-center gap-2",children:[ye.jsx("span",{children:"+"})," Nouveau Niveau"]}),ye.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[ye.jsx("button",{onClick:he,className:"py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded text-xs transition-colors",children:" Export"}),ye.jsx("button",{onClick:()=>$.current.click(),className:"py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded text-xs transition-colors",children:" Import"})]}),ye.jsx("input",{type:"file",ref:$,className:"hidden",onChange:ce,accept:".json"})]})]}),ye.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[ye.jsxs("div",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 shadow-sm z-10 shrink-0",children:[ye.jsxs("div",{className:"flex items-center gap-6",children:[ye.jsxs("h2",{className:"text-lg font-bold text-slate-700 whitespace-nowrap",children:["Niveau ",n+1]}),ye.jsx("div",{className:"flex bg-slate-100 p-1 rounded-lg border border-slate-200",children:e5.map(we=>{const Oe=se?.type===we.id;return ye.jsxs("button",{onClick:()=>y(we.id),className:`
                                flex items-center gap-2 px-3 py-1.5 rounded-md text-xs font-bold transition-all
                                ${Oe?"bg-white text-blue-600 shadow-sm ring-1 ring-black/5":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"}
                            `,children:[ye.jsx("span",{children:we.icon}),ye.jsx("span",{className:"hidden xl:inline",children:we.label})]},we.id)})})]}),ye.jsx("button",{onClick:K,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-bold text-xs shadow transition-all flex items-center gap-2",children:" TESTER"})]}),ye.jsx("div",{className:"flex-1 overflow-hidden p-6 bg-slate-50",children:se?ye.jsx(Ib,{levelData:se,onUpdate:_},se.id):ye.jsx("div",{className:"flex h-full items-center justify-center text-slate-400",children:"Slectionnez un niveau..."})})]})]})}var T5={exports:{}},Mb=T5.exports,cm;function Ob(){return cm||(cm=1,(function(r,o){(function(n,a){r.exports=a(h3())})(Mb,function(n){var a=n.__namespace__,h=function(Y,ve){return["[]",O.ATOMIC]},p=function(Y,ve){const R=Array(Y.itemCount_);for(let j=0;j<Y.itemCount_;j++)R[j]=ve.valueToCode(Y,"ADD"+j,O.NONE)||"None";return["["+R.join(", ")+"]",O.ATOMIC]},$=function(Y,ve){const R=ve.valueToCode(Y,"ITEM",O.NONE)||"None";return Y=ve.valueToCode(Y,"NUM",O.MULTIPLICATIVE)||"0",["["+R+"] * "+Y,O.MULTIPLICATIVE]},_=function(Y,ve){return["len("+(ve.valueToCode(Y,"VALUE",O.NONE)||"[]")+")",O.FUNCTION_CALL]},y=function(Y,ve){return["not len("+(ve.valueToCode(Y,"VALUE",O.NONE)||"[]")+")",O.LOGICAL_NOT]},E=function(Y,ve){const R=ve.valueToCode(Y,"FIND",O.NONE)||"[]",j=ve.valueToCode(Y,"VALUE",O.NONE)||"''";let Ee=" -1",Fe="",Mt=" - 1";return Y.workspace.options.oneBasedIndex&&(Ee=" 0",Fe=" + 1",Mt=""),[(Y.getFieldValue("END")==="FIRST"?ve.provideFunction_("first_index",`
def ${ve.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):
  try: index = my_list.index(elem)${Fe}
  except: index =${Ee}
  return index
`):ve.provideFunction_("last_index",`
def ${ve.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):
  try: index = len(my_list) - my_list[::-1].index(elem)${Mt}
  except: index =${Ee}
  return index
`))+"("+j+", "+R+")",O.FUNCTION_CALL]},w=function(Y,ve){const R=Y.getFieldValue("MODE")||"GET",j=Y.getFieldValue("WHERE")||"FROM_START";var Ee=ve.valueToCode(Y,"VALUE",j==="RANDOM"?O.NONE:O.MEMBER)||"[]";switch(j){case"FIRST":if(R==="GET")return[Ee+"[0]",O.MEMBER];if(R==="GET_REMOVE")return[Ee+".pop(0)",O.FUNCTION_CALL];if(R==="REMOVE")return Ee+`.pop(0)
`;break;case"LAST":if(R==="GET")return[Ee+"[-1]",O.MEMBER];if(R==="GET_REMOVE")return[Ee+".pop()",O.FUNCTION_CALL];if(R==="REMOVE")return Ee+`.pop()
`;break;case"FROM_START":if(Y=ve.getAdjustedInt(Y,"AT"),R==="GET")return[Ee+"["+Y+"]",O.MEMBER];if(R==="GET_REMOVE")return[Ee+".pop("+Y+")",O.FUNCTION_CALL];if(R==="REMOVE")return Ee+".pop("+Y+`)
`;break;case"FROM_END":if(Y=ve.getAdjustedInt(Y,"AT",1,!0),R==="GET")return[Ee+"["+Y+"]",O.MEMBER];if(R==="GET_REMOVE")return[Ee+".pop("+Y+")",O.FUNCTION_CALL];if(R==="REMOVE")return Ee+".pop("+Y+`)
`;break;case"RANDOM":if(ve.definitions_.import_random="import random",R==="GET")return["random.choice("+Ee+")",O.FUNCTION_CALL];if(Ee=ve.provideFunction_("lists_remove_random_item",`
def ${ve.FUNCTION_NAME_PLACEHOLDER_}(myList):
  x = int(random.random() * len(myList))
  return myList.pop(x)
`)+"("+Ee+")",R==="GET_REMOVE")return[Ee,O.FUNCTION_CALL];if(R==="REMOVE")return Ee+`
`}throw Error("Unhandled combination (lists_getIndex).")},I=function(Y,ve){let R=ve.valueToCode(Y,"LIST",O.MEMBER)||"[]";const j=Y.getFieldValue("MODE")||"GET";var Ee=Y.getFieldValue("WHERE")||"FROM_START";const Fe=ve.valueToCode(Y,"TO",O.NONE)||"None";switch(Ee){case"FIRST":if(j==="SET")return R+"[0] = "+Fe+`
`;if(j==="INSERT")return R+".insert(0, "+Fe+`)
`;break;case"LAST":if(j==="SET")return R+"[-1] = "+Fe+`
`;if(j==="INSERT")return R+".append("+Fe+`)
`;break;case"FROM_START":if(ve=ve.getAdjustedInt(Y,"AT"),j==="SET")return R+"["+ve+"] = "+Fe+`
`;if(j==="INSERT")return R+".insert("+ve+", "+Fe+`)
`;break;case"FROM_END":if(ve=ve.getAdjustedInt(Y,"AT",1,!0),j==="SET")return R+"["+ve+"] = "+Fe+`
`;if(j==="INSERT")return R+".insert("+ve+", "+Fe+`)
`;break;case"RANDOM":if(ve.definitions_.import_random="import random",R.match(/^\w+$/)?Y="":(Y=ve.nameDB_.getDistinctName("tmp_list",a.NameType$$module$build$src$core$names.VARIABLE),Ee=Y+" = "+R+`
`,R=Y,Y=Ee),ve=ve.nameDB_.getDistinctName("tmp_x",a.NameType$$module$build$src$core$names.VARIABLE),Y+=ve+" = int(random.random() * len("+R+`))
`,j==="SET")return Y+(R+"["+ve+"] = "+Fe+`
`);if(j==="INSERT")return Y+(R+".insert("+ve+", "+Fe+`)
`)}throw Error("Unhandled combination (lists_setIndex).")},H=function(Y,ve){const R=ve.valueToCode(Y,"LIST",O.MEMBER)||"[]";var j=Y.getFieldValue("WHERE1");const Ee=Y.getFieldValue("WHERE2");switch(j){case"FROM_START":j=ve.getAdjustedInt(Y,"AT1"),j===0&&(j="");break;case"FROM_END":j=ve.getAdjustedInt(Y,"AT1",1,!0);break;case"FIRST":j="";break;default:throw Error("Unhandled option (lists_getSublist)")}switch(Ee){case"FROM_START":Y=ve.getAdjustedInt(Y,"AT2",1);break;case"FROM_END":Y=ve.getAdjustedInt(Y,"AT2",0,!0),a.isNumber$$module$build$src$core$utils$string(String(Y))?Y===0&&(Y=""):(ve.definitions_.import_sys="import sys",Y+=" or sys.maxsize");break;case"LAST":Y="";break;default:throw Error("Unhandled option (lists_getSublist)")}return[R+"["+j+" : "+Y+"]",O.MEMBER]},F=function(Y,ve){const R=ve.valueToCode(Y,"LIST",O.NONE)||"[]",j=Y.getFieldValue("TYPE");return Y=Y.getFieldValue("DIRECTION")==="1"?"False":"True",[ve.provideFunction_("lists_sort",`
def ${ve.FUNCTION_NAME_PLACEHOLDER_}(my_list, type, reverse):
  def try_float(s):
    try:
      return float(s)
    except:
      return 0
  key_funcs = {
    "NUMERIC": try_float,
    "TEXT": str,
    "IGNORE_CASE": lambda s: str(s).lower()
  }
  key_func = key_funcs[type]
  list_cpy = list(my_list)
  return sorted(list_cpy, key=key_func, reverse=reverse)
`)+"("+R+', "'+j+'", '+Y+")",O.FUNCTION_CALL]},te=function(Y,ve){var R=Y.getFieldValue("MODE");if(R==="SPLIT")R=ve.valueToCode(Y,"INPUT",O.MEMBER)||"''",Y=ve.valueToCode(Y,"DELIM",O.NONE),Y=R+".split("+Y+")";else if(R==="JOIN")R=ve.valueToCode(Y,"INPUT",O.NONE)||"[]",Y=(ve.valueToCode(Y,"DELIM",O.MEMBER)||"''")+".join("+R+")";else throw Error("Unknown mode: "+R);return[Y,O.FUNCTION_CALL]},he=function(Y,ve){return["list(reversed("+(ve.valueToCode(Y,"LIST",O.NONE)||"[]")+"))",O.FUNCTION_CALL]},ce=function(Y,ve){let R=0,j="",Ee,Fe;ve.STATEMENT_PREFIX&&(j+=ve.injectId(ve.STATEMENT_PREFIX,Y));do Fe=ve.valueToCode(Y,"IF"+R,O.NONE)||"False",Ee=ve.statementToCode(Y,"DO"+R)||ve.PASS,ve.STATEMENT_SUFFIX&&(Ee=ve.prefixLines(ve.injectId(ve.STATEMENT_SUFFIX,Y),ve.INDENT)+Ee),j+=(R===0?"if ":"elif ")+Fe+`:
`+Ee,R++;while(Y.getInput("IF"+R));return(Y.getInput("ELSE")||ve.STATEMENT_SUFFIX)&&(Ee=Y.getInput("ELSE")&&ve.statementToCode(Y,"ELSE")||ve.PASS,ve.STATEMENT_SUFFIX&&(Ee=ve.prefixLines(ve.injectId(ve.STATEMENT_SUFFIX,Y),ve.INDENT)+Ee),j+=`else:
`+Ee),j},K=function(Y,ve){const R={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[Y.getFieldValue("OP")],j=O.RELATIONAL,Ee=ve.valueToCode(Y,"A",j)||"0";return Y=ve.valueToCode(Y,"B",j)||"0",[Ee+" "+R+" "+Y,j]},se=function(Y,ve){const R=Y.getFieldValue("OP")==="AND"?"and":"or",j=R==="and"?O.LOGICAL_AND:O.LOGICAL_OR;let Ee=ve.valueToCode(Y,"A",j);return Y=ve.valueToCode(Y,"B",j),Ee||Y?(ve=R==="and"?"True":"False",Ee||(Ee=ve),Y||(Y=ve)):Y=Ee="False",[Ee+" "+R+" "+Y,j]},we=function(Y,ve){return["not "+(ve.valueToCode(Y,"BOOL",O.LOGICAL_NOT)||"True"),O.LOGICAL_NOT]},Oe=function(Y,ve){return[Y.getFieldValue("BOOL")==="TRUE"?"True":"False",O.ATOMIC]},De=function(Y,ve){return["None",O.ATOMIC]},Se=function(Y,ve){const R=ve.valueToCode(Y,"IF",O.CONDITIONAL)||"False",j=ve.valueToCode(Y,"THEN",O.CONDITIONAL)||"None";return Y=ve.valueToCode(Y,"ELSE",O.CONDITIONAL)||"None",[j+" if "+R+" else "+Y,O.CONDITIONAL]},je=function(Y,ve){let R;R=Y.getField("TIMES")?String(parseInt(Y.getFieldValue("TIMES"),10)):ve.valueToCode(Y,"TIMES",O.NONE)||"0",R=a.isNumber$$module$build$src$core$utils$string(R)?parseInt(R,10):"int("+R+")";let j=ve.statementToCode(Y,"DO");return j=ve.addLoopTrap(j,Y)||ve.PASS,"for "+ve.nameDB_.getDistinctName("count",a.NameType$$module$build$src$core$names.VARIABLE)+" in range("+R+`):
`+j},at=function(Y,ve){const R=Y.getFieldValue("MODE")==="UNTIL";let j=ve.valueToCode(Y,"BOOL",R?O.LOGICAL_NOT:O.NONE)||"False",Ee=ve.statementToCode(Y,"DO");return Ee=ve.addLoopTrap(Ee,Y)||ve.PASS,R&&(j="not "+j),"while "+j+`:
`+Ee},Ze=function(Y,ve){const R=ve.getVariableName(Y.getFieldValue("VAR"));var j=ve.valueToCode(Y,"FROM",O.NONE)||"0",Ee=ve.valueToCode(Y,"TO",O.NONE)||"0",Fe=ve.valueToCode(Y,"BY",O.NONE)||"1";let Mt=ve.statementToCode(Y,"DO");Mt=ve.addLoopTrap(Mt,Y)||ve.PASS;let dn="";Y=function(){return ve.provideFunction_("upRange",`
def ${ve.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):
  while start <= stop:
    yield start
    start += abs(step)
`)};const Mn=function(){return ve.provideFunction_("downRange",`
def ${ve.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):
  while start >= stop:
    yield start
    start -= abs(step)
`)};if(a.isNumber$$module$build$src$core$utils$string(j)&&a.isNumber$$module$build$src$core$utils$string(Ee)&&a.isNumber$$module$build$src$core$utils$string(Fe))j=Number(j),Ee=Number(Ee),Fe=Math.abs(Number(Fe)),j%1===0&&Ee%1===0&&Fe%1===0?(j<=Ee?(Ee++,Y=j===0&&Fe===1?Ee:j+", "+Ee,Fe!==1&&(Y+=", "+Fe)):(Ee--,Y=j+", "+Ee+", -"+Fe),Y="range("+Y+")"):(Y=j<Ee?Y():Mn(),Y+="("+j+", "+Ee+", "+Fe+")");else{const hr=function(xs,ts){return a.isNumber$$module$build$src$core$utils$string(xs)?xs=String(Number(xs)):xs.match(/^\w+$/)||(ts=ve.nameDB_.getDistinctName(R+ts,a.NameType$$module$build$src$core$names.VARIABLE),dn+=ts+" = "+xs+`
`,xs=ts),xs};j=hr(j,"_start"),Ee=hr(Ee,"_end"),Fe=hr(Fe,"_inc"),typeof j=="number"&&typeof Ee=="number"?(Y=j<Ee?Y():Mn(),Y+="("+j+", "+Ee+", "+Fe+")"):Y="("+j+" <= "+Ee+") and "+Y()+"("+j+", "+Ee+", "+Fe+") or "+Mn()+"("+j+", "+Ee+", "+Fe+")"}return dn+="for "+R+" in "+Y+`:
`+Mt},Ke=function(Y,ve){const R=ve.getVariableName(Y.getFieldValue("VAR")),j=ve.valueToCode(Y,"LIST",O.RELATIONAL)||"[]";let Ee=ve.statementToCode(Y,"DO");return Ee=ve.addLoopTrap(Ee,Y)||ve.PASS,"for "+R+" in "+j+`:
`+Ee},Pt=function(Y,ve){let R="";if(ve.STATEMENT_PREFIX&&(R+=ve.injectId(ve.STATEMENT_PREFIX,Y)),ve.STATEMENT_SUFFIX&&(R+=ve.injectId(ve.STATEMENT_SUFFIX,Y)),ve.STATEMENT_PREFIX){const j=Y.getSurroundLoop();j&&!j.suppressPrefixSuffix&&(R+=ve.injectId(ve.STATEMENT_PREFIX,j))}switch(Y.getFieldValue("FLOW")){case"BREAK":return R+`break
`;case"CONTINUE":return R+`continue
`}throw Error("Unknown flow statement.")},Ve=function(Y,ve){return Y=Number(Y.getFieldValue("NUM")),Y===1/0?['float("inf")',O.FUNCTION_CALL]:Y===-1/0?['-float("inf")',O.UNARY_SIGN]:[String(Y),Y<0?O.UNARY_SIGN:O.ATOMIC]},Xt=function(Y,ve){var R={ADD:[" + ",O.ADDITIVE],MINUS:[" - ",O.ADDITIVE],MULTIPLY:[" * ",O.MULTIPLICATIVE],DIVIDE:[" / ",O.MULTIPLICATIVE],POWER:[" ** ",O.EXPONENTIATION]}[Y.getFieldValue("OP")];const j=R[0];R=R[1];const Ee=ve.valueToCode(Y,"A",R)||"0";return Y=ve.valueToCode(Y,"B",R)||"0",[Ee+j+Y,R]},Lt=function(Y,ve){const R=Y.getFieldValue("OP");let j;if(R==="NEG")return j=ve.valueToCode(Y,"NUM",O.UNARY_SIGN)||"0",["-"+j,O.UNARY_SIGN];switch(ve.definitions_.import_math="import math",Y=R==="SIN"||R==="COS"||R==="TAN"?ve.valueToCode(Y,"NUM",O.MULTIPLICATIVE)||"0":ve.valueToCode(Y,"NUM",O.NONE)||"0",R){case"ABS":j="math.fabs("+Y+")";break;case"ROOT":j="math.sqrt("+Y+")";break;case"LN":j="math.log("+Y+")";break;case"LOG10":j="math.log10("+Y+")";break;case"EXP":j="math.exp("+Y+")";break;case"POW10":j="math.pow(10,"+Y+")";break;case"ROUND":j="round("+Y+")";break;case"ROUNDUP":j="math.ceil("+Y+")";break;case"ROUNDDOWN":j="math.floor("+Y+")";break;case"SIN":j="math.sin("+Y+" / 180.0 * math.pi)";break;case"COS":j="math.cos("+Y+" / 180.0 * math.pi)";break;case"TAN":j="math.tan("+Y+" / 180.0 * math.pi)"}if(j)return[j,O.FUNCTION_CALL];switch(R){case"ASIN":j="math.asin("+Y+") / math.pi * 180";break;case"ACOS":j="math.acos("+Y+") / math.pi * 180";break;case"ATAN":j="math.atan("+Y+") / math.pi * 180";break;default:throw Error("Unknown math operator: "+R)}return[j,O.MULTIPLICATIVE]},Ot=function(Y,ve){const R={PI:["math.pi",O.MEMBER],E:["math.e",O.MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",O.MULTIPLICATIVE],SQRT2:["math.sqrt(2)",O.MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",O.MEMBER],INFINITY:["float('inf')",O.ATOMIC]};return Y=Y.getFieldValue("CONSTANT"),Y!=="INFINITY"&&(ve.definitions_.import_math="import math"),R[Y]},st=function(Y,ve){var R={EVEN:[" % 2 == 0",O.MULTIPLICATIVE,O.RELATIONAL],ODD:[" % 2 == 1",O.MULTIPLICATIVE,O.RELATIONAL],WHOLE:[" % 1 == 0",O.MULTIPLICATIVE,O.RELATIONAL],POSITIVE:[" > 0",O.RELATIONAL,O.RELATIONAL],NEGATIVE:[" < 0",O.RELATIONAL,O.RELATIONAL],DIVISIBLE_BY:[null,O.MULTIPLICATIVE,O.RELATIONAL],PRIME:[null,O.NONE,O.FUNCTION_CALL]};const j=Y.getFieldValue("PROPERTY"),[Ee,Fe,Mt]=R[j];if(R=ve.valueToCode(Y,"NUMBER_TO_CHECK",Fe)||"0",j==="PRIME")ve.definitions_.import_math="import math",ve.definitions_.from_numbers_import_Number="from numbers import Number",Y=ve.provideFunction_("math_isPrime",`
def ${ve.FUNCTION_NAME_PLACEHOLDER_}(n):
  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  # If n is not a number but a string, try parsing it.
  if not isinstance(n, Number):
    try:
      n = float(n)
    except:
      return False
  if n == 2 or n == 3:
    return True
  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.
  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:
    return False
  # Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for x in range(6, int(math.sqrt(n)) + 2, 6):
    if n % (x - 1) == 0 or n % (x + 1) == 0:
      return False
  return True
`)+"("+R+")";else if(j==="DIVISIBLE_BY"){if(Y=ve.valueToCode(Y,"DIVISOR",O.MULTIPLICATIVE)||"0",Y==="0")return["False",O.ATOMIC];Y=R+" % "+Y+" == 0"}else Y=R+Ee;return[Y,Mt]},St=function(Y,ve){ve.definitions_.from_numbers_import_Number="from numbers import Number";const R=ve.valueToCode(Y,"DELTA",O.ADDITIVE)||"0";return Y=ve.getVariableName(Y.getFieldValue("VAR")),Y+" = ("+Y+" if isinstance("+Y+", Number) else 0) + "+R+`
`},vt=function(Y,ve){const R=Y.getFieldValue("OP");switch(Y=ve.valueToCode(Y,"LIST",O.NONE)||"[]",R){case"SUM":ve="sum("+Y+")";break;case"MIN":ve="min("+Y+")";break;case"MAX":ve="max("+Y+")";break;case"AVERAGE":ve.definitions_.from_numbers_import_Number="from numbers import Number",ve=ve.provideFunction_("math_mean",`
def ${ve.FUNCTION_NAME_PLACEHOLDER_}(myList):
  localList = [e for e in myList if isinstance(e, Number)]
  if not localList: return
  return float(sum(localList)) / len(localList)
`)+"("+Y+")";break;case"MEDIAN":ve.definitions_.from_numbers_import_Number="from numbers import Number",ve=ve.provideFunction_("math_median",`
def ${ve.FUNCTION_NAME_PLACEHOLDER_}(myList):
  localList = sorted([e for e in myList if isinstance(e, Number)])
  if not localList: return
  if len(localList) % 2 == 0:
    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0
  else:
    return localList[(len(localList) - 1) // 2]
`)+"("+Y+")";break;case"MODE":ve=ve.provideFunction_("math_modes",`
def ${ve.FUNCTION_NAME_PLACEHOLDER_}(some_list):
  modes = []
  # Using a lists of [item, count] to keep count rather than dict
  # to avoid "unhashable" errors when the counted item is itself a list or dict.
  counts = []
  maxCount = 1
  for item in some_list:
    found = False
    for count in counts:
      if count[0] == item:
        count[1] += 1
        maxCount = max(maxCount, count[1])
        found = True
    if not found:
      counts.append([item, 1])
  for counted_item, item_count in counts:
    if item_count == maxCount:
      modes.append(counted_item)
  return modes
`)+"("+Y+")";break;case"STD_DEV":ve.definitions_.import_math="import math",ve=ve.provideFunction_("math_standard_deviation",`
def ${ve.FUNCTION_NAME_PLACEHOLDER_}(numbers):
  n = len(numbers)
  if n == 0: return
  mean = float(sum(numbers)) / n
  variance = sum((x - mean) ** 2 for x in numbers) / n
  return math.sqrt(variance)
`)+"("+Y+")";break;case"RANDOM":ve.definitions_.import_random="import random",ve="random.choice("+Y+")";break;default:throw Error("Unknown operator: "+R)}return[ve,O.FUNCTION_CALL]},an=function(Y,ve){const R=ve.valueToCode(Y,"DIVIDEND",O.MULTIPLICATIVE)||"0";return Y=ve.valueToCode(Y,"DIVISOR",O.MULTIPLICATIVE)||"0",[R+" % "+Y,O.MULTIPLICATIVE]},de=function(Y,ve){const R=ve.valueToCode(Y,"VALUE",O.NONE)||"0",j=ve.valueToCode(Y,"LOW",O.NONE)||"0";return Y=ve.valueToCode(Y,"HIGH",O.NONE)||"float('inf')",["min(max("+R+", "+j+"), "+Y+")",O.FUNCTION_CALL]},Le=function(Y,ve){ve.definitions_.import_random="import random";const R=ve.valueToCode(Y,"FROM",O.NONE)||"0";return Y=ve.valueToCode(Y,"TO",O.NONE)||"0",["random.randint("+R+", "+Y+")",O.FUNCTION_CALL]},tt=function(Y,ve){return ve.definitions_.import_random="import random",["random.random()",O.FUNCTION_CALL]},_e=function(Y,ve){ve.definitions_.import_math="import math";const R=ve.valueToCode(Y,"X",O.NONE)||"0";return["math.atan2("+(ve.valueToCode(Y,"Y",O.NONE)||"0")+", "+R+") / math.pi * 180",O.MULTIPLICATIVE]},Ft=function(Y,ve){var R=[],j=Y.workspace,Ee=a.allUsedVarModels$$module$build$src$core$variables(j)||[];for(var Fe of Ee)Ee=Fe.getName(),Y.getVars().includes(Ee)||R.push(ve.getVariableName(Ee));for(j=a.allDeveloperVariables$$module$build$src$core$variables(j),Fe=0;Fe<j.length;Fe++)R.push(ve.nameDB_.getName(j[Fe],a.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));j=R.length?ve.INDENT+"global "+R.join(", ")+`
`:"",R=ve.getProcedureName(Y.getFieldValue("NAME")),Fe="",ve.STATEMENT_PREFIX&&(Fe+=ve.injectId(ve.STATEMENT_PREFIX,Y)),ve.STATEMENT_SUFFIX&&(Fe+=ve.injectId(ve.STATEMENT_SUFFIX,Y)),Fe&&(Fe=ve.prefixLines(Fe,ve.INDENT)),Ee="",ve.INFINITE_LOOP_TRAP&&(Ee=ve.prefixLines(ve.injectId(ve.INFINITE_LOOP_TRAP,Y),ve.INDENT));let Mt="";Y.getInput("STACK")&&(Mt=ve.statementToCode(Y,"STACK"));let dn="";Y.getInput("RETURN")&&(dn=ve.valueToCode(Y,"RETURN",O.NONE)||"");let Mn="";Mt&&dn&&(Mn=Fe),dn?dn=ve.INDENT+"return "+dn+`
`:Mt||(Mt=ve.PASS);const hr=[],xs=Y.getVars();for(let ts=0;ts<xs.length;ts++)hr[ts]=ve.getVariableName(xs[ts]);return j="def "+R+"("+hr.join(", ")+`):
`+j+Fe+Ee+Mt+Mn+dn,j=ve.scrub_(Y,j),ve.definitions_["%"+R]=j,null},It=function(Y,ve){const R=ve.getProcedureName(Y.getFieldValue("NAME")),j=[],Ee=Y.getVars();for(let Fe=0;Fe<Ee.length;Fe++)j[Fe]=ve.valueToCode(Y,"ARG"+Fe,O.NONE)||"None";return[R+"("+j.join(", ")+")",O.FUNCTION_CALL]},Qt=function(Y,ve){return ve.forBlock.procedures_callreturn(Y,ve)[0]+`
`},cn=function(Y,ve){let R="if "+(ve.valueToCode(Y,"CONDITION",O.NONE)||"False")+`:
`;return ve.STATEMENT_SUFFIX&&(R+=ve.prefixLines(ve.injectId(ve.STATEMENT_SUFFIX,Y),ve.INDENT)),Y.hasReturnValue_?(Y=ve.valueToCode(Y,"VALUE",O.NONE)||"None",R+=ve.INDENT+"return "+Y+`
`):R+=ve.INDENT+`return
`,R},Hn=function(Y,ve){return[ve.quote_(Y.getFieldValue("TEXT")),O.ATOMIC]},mn=function(Y,ve){switch(Y.itemCount_){case 0:return["''",O.ATOMIC];case 1:return Y=ve.valueToCode(Y,"ADD0",O.NONE)||"''",L(Y);case 2:var R=ve.valueToCode(Y,"ADD0",O.NONE)||"''";return Y=ve.valueToCode(Y,"ADD1",O.NONE)||"''",[L(R)[0]+" + "+L(Y)[0],O.ADDITIVE];default:R=[];for(let j=0;j<Y.itemCount_;j++)R[j]=ve.valueToCode(Y,"ADD"+j,O.NONE)||"''";return Y=ve.nameDB_.getDistinctName("x",a.NameType$$module$build$src$core$names.VARIABLE),["''.join([str("+Y+") for "+Y+" in ["+R.join(", ")+"]])",O.FUNCTION_CALL]}},sn=function(Y,ve){const R=ve.getVariableName(Y.getFieldValue("VAR"));return Y=ve.valueToCode(Y,"TEXT",O.NONE)||"''",R+" = str("+R+") + "+L(Y)[0]+`
`},qn=function(Y,ve){return["len("+(ve.valueToCode(Y,"VALUE",O.NONE)||"''")+")",O.FUNCTION_CALL]},ct=function(Y,ve){return["not len("+(ve.valueToCode(Y,"VALUE",O.NONE)||"''")+")",O.LOGICAL_NOT]},rn=function(Y,ve){const R=Y.getFieldValue("END")==="FIRST"?"find":"rfind",j=ve.valueToCode(Y,"FIND",O.NONE)||"''";return ve=(ve.valueToCode(Y,"VALUE",O.MEMBER)||"''")+"."+R+"("+j+")",Y.workspace.options.oneBasedIndex?[ve+" + 1",O.ADDITIVE]:[ve,O.FUNCTION_CALL]},Br=function(Y,ve){const R=Y.getFieldValue("WHERE")||"FROM_START",j=ve.valueToCode(Y,"VALUE",R==="RANDOM"?O.NONE:O.MEMBER)||"''";switch(R){case"FIRST":return[j+"[0]",O.MEMBER];case"LAST":return[j+"[-1]",O.MEMBER];case"FROM_START":return Y=ve.getAdjustedInt(Y,"AT"),[j+"["+Y+"]",O.MEMBER];case"FROM_END":return Y=ve.getAdjustedInt(Y,"AT",1,!0),[j+"["+Y+"]",O.MEMBER];case"RANDOM":return ve.definitions_.import_random="import random",[ve.provideFunction_("text_random_letter",`
def ${ve.FUNCTION_NAME_PLACEHOLDER_}(text):
  x = int(random.random() * len(text))
  return text[x]
`)+"("+j+")",O.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},Zn=function(Y,ve){var R=Y.getFieldValue("WHERE1");const j=Y.getFieldValue("WHERE2"),Ee=ve.valueToCode(Y,"STRING",O.MEMBER)||"''";switch(R){case"FROM_START":R=ve.getAdjustedInt(Y,"AT1"),R===0&&(R="");break;case"FROM_END":R=ve.getAdjustedInt(Y,"AT1",1,!0);break;case"FIRST":R="";break;default:throw Error("Unhandled option (text_getSubstring)")}switch(j){case"FROM_START":Y=ve.getAdjustedInt(Y,"AT2",1);break;case"FROM_END":Y=ve.getAdjustedInt(Y,"AT2",0,!0),a.isNumber$$module$build$src$core$utils$string(String(Y))?Y===0&&(Y=""):(ve.definitions_.import_sys="import sys",Y+=" or sys.maxsize");break;case"LAST":Y="";break;default:throw Error("Unhandled option (text_getSubstring)")}return[Ee+"["+R+" : "+Y+"]",O.MEMBER]},mr=function(Y,ve){const R={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[Y.getFieldValue("CASE")];return[(ve.valueToCode(Y,"TEXT",O.MEMBER)||"''")+R,O.FUNCTION_CALL]},un=function(Y,ve){const R={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[Y.getFieldValue("MODE")];return[(ve.valueToCode(Y,"TEXT",O.MEMBER)||"''")+R,O.FUNCTION_CALL]},$i=function(Y,ve){return"print("+(ve.valueToCode(Y,"TEXT",O.NONE)||"''")+`)
`},wi=function(Y,ve){var R=ve.provideFunction_("text_prompt",`
def ${ve.FUNCTION_NAME_PLACEHOLDER_}(msg):
  try:
    return raw_input(msg)
  except NameError:
    return input(msg)
`);return ve=Y.getField("TEXT")?ve.quote_(Y.getFieldValue("TEXT")):ve.valueToCode(Y,"TEXT",O.NONE)||"''",R=R+"("+ve+")",Y.getFieldValue("TYPE")==="NUMBER"&&(R="float("+R+")"),[R,O.FUNCTION_CALL]},nr=function(Y,ve){const R=ve.valueToCode(Y,"TEXT",O.MEMBER)||"''";return Y=ve.valueToCode(Y,"SUB",O.NONE)||"''",[R+".count("+Y+")",O.FUNCTION_CALL]},es=function(Y,ve){const R=ve.valueToCode(Y,"TEXT",O.MEMBER)||"''",j=ve.valueToCode(Y,"FROM",O.NONE)||"''";return Y=ve.valueToCode(Y,"TO",O.NONE)||"''",[R+".replace("+j+", "+Y+")",O.MEMBER]},li=function(Y,ve){return[(ve.valueToCode(Y,"TEXT",O.MEMBER)||"''")+"[::-1]",O.MEMBER]},rr=function(Y,ve){return[ve.getVariableName(Y.getFieldValue("VAR")),O.ATOMIC]},Xn=function(Y,ve){const R=ve.valueToCode(Y,"VALUE",O.NONE)||"0";return ve.getVariableName(Y.getFieldValue("VAR"))+" = "+R+`
`},O;(function(Y){Y[Y.ATOMIC=0]="ATOMIC",Y[Y.COLLECTION=1]="COLLECTION",Y[Y.STRING_CONVERSION=1]="STRING_CONVERSION",Y[Y.MEMBER=2.1]="MEMBER",Y[Y.FUNCTION_CALL=2.2]="FUNCTION_CALL",Y[Y.EXPONENTIATION=3]="EXPONENTIATION",Y[Y.UNARY_SIGN=4]="UNARY_SIGN",Y[Y.BITWISE_NOT=4]="BITWISE_NOT",Y[Y.MULTIPLICATIVE=5]="MULTIPLICATIVE",Y[Y.ADDITIVE=6]="ADDITIVE",Y[Y.BITWISE_SHIFT=7]="BITWISE_SHIFT",Y[Y.BITWISE_AND=8]="BITWISE_AND",Y[Y.BITWISE_XOR=9]="BITWISE_XOR",Y[Y.BITWISE_OR=10]="BITWISE_OR",Y[Y.RELATIONAL=11]="RELATIONAL",Y[Y.LOGICAL_NOT=12]="LOGICAL_NOT",Y[Y.LOGICAL_AND=13]="LOGICAL_AND",Y[Y.LOGICAL_OR=14]="LOGICAL_OR",Y[Y.CONDITIONAL=15]="CONDITIONAL",Y[Y.LAMBDA=16]="LAMBDA",Y[Y.NONE=99]="NONE"})(O||(O={}));var ne=class extends a.CodeGenerator$$module$build$src$core$generator{constructor(Y="Python"){super(Y),this.ORDER_OVERRIDES=[[O.FUNCTION_CALL,O.MEMBER],[O.FUNCTION_CALL,O.FUNCTION_CALL],[O.MEMBER,O.MEMBER],[O.MEMBER,O.FUNCTION_CALL],[O.LOGICAL_NOT,O.LOGICAL_NOT],[O.LOGICAL_AND,O.LOGICAL_AND],[O.LOGICAL_OR,O.LOGICAL_OR]],this.PASS="",this.isInitialized=!1;for(const ve in O)Y=O[ve],typeof Y!="string"&&(this["ORDER_"+ve]=Y);this.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip")}init(Y){super.init(Y),this.PASS=this.INDENT+`pass
`,this.nameDB_?this.nameDB_.reset():this.nameDB_=new a.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(Y.getVariableMap()),this.nameDB_.populateVariables(Y),this.nameDB_.populateProcedures(Y);const ve=[];var R=a.allDeveloperVariables$$module$build$src$core$variables(Y);for(let j=0;j<R.length;j++)ve.push(this.nameDB_.getName(R[j],a.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE)+" = None");for(Y=a.allUsedVarModels$$module$build$src$core$variables(Y),R=0;R<Y.length;R++)ve.push(this.getVariableName(Y[R].getId())+" = None");this.definitions_.variables=ve.join(`
`),this.isInitialized=!0}finish(Y){const ve=[],R=[];for(let j in this.definitions_){const Ee=this.definitions_[j];Ee.match(/^(from\s+\S+\s+)?import\s+\S+/)?ve.push(Ee):R.push(Ee)}return Y=super.finish(Y),this.isInitialized=!1,this.nameDB_.reset(),(ve.join(`
`)+`

`+R.join(`

`)).replace(/\n\n+/g,`

`).replace(/\n*$/,`


`)+Y}scrubNakedValue(Y){return Y+`
`}quote_(Y){Y=Y.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`);let ve="'";return Y.includes("'")&&(Y.includes('"')?Y=Y.replace(/'/g,"\\'"):ve='"'),ve+Y+ve}multiline_quote_(Y){return Y.split(/\n/g).map(this.quote_).join(` + '\\n' + 
`)}scrub_(Y,ve,R=!1){let j="";if(!Y.outputConnection||!Y.outputConnection.targetConnection){var Ee=Y.getCommentText();Ee&&(Ee=a.wrap$$module$build$src$core$utils$string(Ee,this.COMMENT_WRAP-3),j+=this.prefixLines(Ee+`
`,"# "));for(let Fe=0;Fe<Y.inputList.length;Fe++)Y.inputList[Fe].type===a.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(Ee=Y.inputList[Fe].connection.targetBlock())&&(Ee=this.allNestedComments(Ee))&&(j+=this.prefixLines(Ee,"# "))}return Y=Y.nextConnection&&Y.nextConnection.targetBlock(),R=R?"":this.blockToCode(Y),j+ve+R}getAdjustedInt(Y,ve,R=0,j=!1){Y.workspace.options.oneBasedIndex&&R--;const Ee=Y.workspace.options.oneBasedIndex?"1":"0";return Y=this.valueToCode(Y,ve,R?O.ADDITIVE:O.NONE)||Ee,a.isNumber$$module$build$src$core$utils$string(Y)?(Y=parseInt(Y,10)+R,j&&(Y=-Y)):(Y=R>0?"int("+Y+" + "+R+")":R<0?"int("+Y+" - "+-R+")":"int("+Y+")",j&&(Y="-"+Y)),Y}},Ie={};Ie.lists_create_empty=h,Ie.lists_create_with=p,Ie.lists_getIndex=w,Ie.lists_getSublist=H,Ie.lists_indexOf=E,Ie.lists_isEmpty=y,Ie.lists_length=_,Ie.lists_repeat=$,Ie.lists_reverse=he,Ie.lists_setIndex=I,Ie.lists_sort=F,Ie.lists_split=te;var Be={};Be.controls_if=ce,Be.controls_ifelse=ce,Be.logic_boolean=Oe,Be.logic_compare=K,Be.logic_negate=we,Be.logic_null=De,Be.logic_operation=se,Be.logic_ternary=Se;var nt={};nt.controls_flow_statements=Pt,nt.controls_for=Ze,nt.controls_forEach=Ke,nt.controls_repeat=je,nt.controls_repeat_ext=je,nt.controls_whileUntil=at;var Ye={};Ye.math_arithmetic=Xt,Ye.math_atan2=_e,Ye.math_change=St,Ye.math_constant=Ot,Ye.math_constrain=de,Ye.math_modulo=an,Ye.math_number=Ve,Ye.math_number_property=st,Ye.math_on_list=vt,Ye.math_random_float=tt,Ye.math_random_int=Le,Ye.math_round=Lt,Ye.math_single=Lt,Ye.math_trig=Lt;var yt={};yt.procedures_callnoreturn=Qt,yt.procedures_callreturn=It,yt.procedures_defnoreturn=Ft,yt.procedures_defreturn=Ft,yt.procedures_ifreturn=cn;var xt=/^\s*'([^']|\\')*'\s*$/,L=function(Y){return xt.test(Y)?[Y,O.ATOMIC]:["str("+Y+")",O.FUNCTION_CALL]},ae={};ae.text=Hn,ae.text_append=sn,ae.text_changeCase=mr,ae.text_charAt=Br,ae.text_count=nr,ae.text_getSubstring=Zn,ae.text_indexOf=rn,ae.text_isEmpty=ct,ae.text_join=mn,ae.text_length=qn,ae.text_print=$i,ae.text_prompt=wi,ae.text_prompt_ext=wi,ae.text_replace=es,ae.text_reverse=li,ae.text_trim=un;var ze={};ze.variables_get=rr,ze.variables_set=Xn;var Pe={};Pe.variables_get_dynamic=rr,Pe.variables_set_dynamic=Xn;var Dt=new ne;Dt.addReservedWords("math,random,Number");var Sn=Object.assign({},Ie,Be,nt,Ye,yt,ae,ze,Pe);for(const Y in Sn)Dt.forBlock[Y]=Sn[Y];var Ar={};return Ar.Order=O,Ar.PythonGenerator=ne,Ar.pythonGenerator=Dt,Ar.__namespace__=a,Ar})})(T5)),T5.exports}var Rb=Ob();const Lb=su(Rb),{Order:oR,PythonGenerator:lR,pythonGenerator:_o}=Lb,Db={position:"absolute",width:"100%",height:"100%",top:0,left:0,backgroundColor:"rgba(46, 204, 113, 0.5)",borderRadius:"50%",animation:"radarPing 0.5s ease-out forwards",zIndex:5},Bb=`
@keyframes radarPing {
  0% { transform: scale(0.2); opacity: 0.8; }
  100% { transform: scale(1.5); opacity: 0; }
}
`;function Pb({grid:r,playerPos:o,playerDir:n,lastAction:a}){const h=n*90+90,p=r.length,$=r[0].length,_=a&&a.type==="SCAN";let y=null;const E=w=>(w%4+4)%4;if(_)if(a.dir==="SELF")y={x:o.x,y:o.y};else{const w=E(n);let I=w;a.dir==="LEFT"&&(I=(w+3)%4),a.dir==="RIGHT"&&(I=(w+1)%4);let H=0,F=0;I===0&&(H=1),I===1&&(F=1),I===2&&(H=-1),I===3&&(F=-1),y={x:o.x+H,y:o.y+F}}return ye.jsxs("div",{style:t5.container,children:[ye.jsx("style",{children:Bb}),ye.jsx("div",{style:{...t5.grid,gridTemplateColumns:`repeat(${$}, 1fr)`,aspectRatio:`${$} / ${p}`},children:r.map((w,I)=>w.map((H,F)=>{const te=o.x===F&&o.y===I,he=y&&y.x===F&&y.y===I,ce=`min(40px, ${60/Math.max(p,$)}vmin)`;return ye.jsxs("div",{style:t5.cell,children:[ye.jsx("span",{style:{zIndex:1,fontSize:ce},children:Al.THEME[H]||""}),te&&ye.jsx("div",{style:{...t5.player,transform:`rotate(${h}deg)`,fontSize:ce},children:Al.THEME.PLAYER}),he&&ye.jsx("div",{style:Db},a._uid)]},`${I}-${F}`)}))})]})}const t5={container:{display:"flex",justifyContent:"center",alignItems:"center",background:"#2c3e50",padding:"10px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.3)",width:"100%",height:"100%",overflow:"hidden"},grid:{display:"grid",gap:"1px",backgroundColor:"#34495e",border:"4px solid #34495e",width:"auto",height:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"},cell:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",background:"#ecf0f1",overflow:"visible"},player:{position:"absolute",zIndex:10,transition:"transform 0.2s ease, top 0.2s ease, left 0.2s ease",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"}},r9={id:"MAZE",RenderComponent:Pb,registerBlocks:()=>{},getToolboxXML:(r,o,n,a)=>d3(r,o,n,a),executeStep:(r,o,n)=>{const a=r||{x:n.startPos?.x||0,y:n.startPos?.y||1,dir:n.startPos?.dir!==void 0?n.startPos.dir:0};if(!o)return{newState:a,status:"RUNNING"};let{x:h,y:p,dir:$}=a,_="RUNNING";const y=typeof o=="object"&&o.type?o.type:o,E=w=>(w%4+4)%4;if(y==="MOVE"){let w=h,I=p;const H=E($);H===0?w++:H===1?I++:H===2?w--:H===3&&I--;const F=Al.checkMove(n.grid||Al.defaultGrid,w,I);F==="OK"||F==="WIN"?(h=w,p=I,F==="WIN"&&(_="WIN")):_="LOST"}else y&&y.startsWith("TURN_")&&($=y.split("_")[1]==="LEFT"?$-1:$+1);return{newState:{x:h,y:p,dir:$},status:_}}};function Fb({state:r,history:o,hiddenVars:n}){const a=r?.variables||{},h=o||[],p=n||[],$=Object.entries(a).filter(([y])=>!p.includes(y)),_=({value:y})=>Array.isArray(y)?ye.jsxs("div",{style:{display:"flex",gap:"2px",marginTop:"5px"},children:[y.map((E,w)=>ye.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[ye.jsx("div",{style:{border:"1px solid #2c3e50",padding:"4px 8px",minWidth:"20px",textAlign:"center",background:"#fff",fontSize:"1.2rem",fontWeight:"bold"},children:E}),ye.jsx("div",{style:{fontSize:"0.6rem",color:"#7f8c8d"},children:w})]},w)),y.length===0&&ye.jsx("span",{style:{fontStyle:"italic",color:"#aaa"},children:"Vide []"})]}):ye.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#2c3e50"},children:y});return ye.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",padding:"10px",boxSizing:"border-box",gap:"15px",background:"#2c3e50"},children:[ye.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",justifyContent:"center",alignContent:"flex-start",minHeight:"130px"},children:[$.map(([y,E])=>{const w=Array.isArray(E);return ye.jsxs("div",{style:{background:"white",borderRadius:"8px",minWidth:w?"160px":"100px",height:"auto",minHeight:"120px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",padding:"10px",boxShadow:"0 4px 0 #bdc3c7",animation:"popIn 0.3s"},children:[ye.jsx("div",{style:{fontWeight:"bold",color:"#7f8c8d",borderBottom:"2px solid #eee",width:"100%",textAlign:"center",marginBottom:"5px"},children:y}),ye.jsx(_,{value:E}),ye.jsx("div",{style:{fontSize:"0.6rem",color:"#ccc",textTransform:"uppercase",marginTop:"5px"},children:w?`LISTE (${E.length})`:typeof E})]},y)}),$.length===0&&ye.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontStyle:"italic",marginTop:"20px"},children:Object.keys(a).length>0?"Mmoire masque ":"Mmoire vide"})]}),ye.jsxs("div",{style:{flex:1,background:"#ecf0f1",borderRadius:"8px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[ye.jsx("div",{style:{padding:"8px 15px",background:"#bdc3c7",fontWeight:"bold",color:"#2c3e50",fontSize:"0.9rem",borderBottom:"1px solid #95a5a6"},children:">_ Terminal / Historique"}),ye.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"10px",fontFamily:"monospace",fontSize:"0.9rem",background:"#222",color:"#2ecc71"},children:[h.map((y,E)=>ye.jsxs("div",{style:{marginBottom:"4px"},children:[ye.jsxs("span",{style:{color:"#555",marginRight:"10px"},children:[E+1,"."]}),y]},E)),ye.jsx("div",{style:{animation:"blink 1s infinite",display:"inline-block"},children:""})]})]}),ye.jsx("style",{children:"@keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } } @keyframes blink { 50% { opacity: 0; } }"})]})}const Ub=(r,o)=>{if(Array.isArray(r)||Array.isArray(o))return JSON.stringify(r)===JSON.stringify(o);const n=String(r).replace(",",".").trim(),a=String(o).replace(",",".").trim(),h=parseFloat(n),p=parseFloat(a);return!isNaN(h)&&!isNaN(p)&&n!==""&&a!==""?Math.abs(h-p)<1e-6:n===a},zb={id:"MATH",RenderComponent:Fb,registerBlocks:()=>{},getToolboxXML:(r,o,n,a)=>d3(r,o,n,a),executeStep:(r,o,n)=>{const a=r||{variables:{...n.inputs},logs:[]};if(!o)return{newState:a,status:"RUNNING"};const h={...a.variables},p=[...a.logs],$=n.hiddenVars||[],_=n.lockedVars||[];if(o.type==="SET")if($.includes(o.var)||_.includes(o.var))p.push(` ERREUR : ${o.var} est protge.`);else{console.log(`[MathPlugin] SET ${o.var} =`,o.val),h[o.var]=o.val;let y=o.val;Array.isArray(o.val)&&(y=JSON.stringify(o.val)),p.push(` ${o.var} <- ${y}`)}else o.type==="PRINT"&&p.push(` ${o.msg}`);return{newState:{variables:h,logs:p},status:"RUNNING"}},checkVictory:(r,o)=>{const n=o.targets||{},a=Object.keys(n),h=r?.variables||{};return a.length===0?!1:a.map($=>{const _=h[$];let y=n[$];if(typeof y=="string"&&y.startsWith("@")){const E=y.substring(1);o.inputs&&o.inputs[E]!==void 0&&(y=o.inputs[E])}return Ub(_,y)}).every($=>$===!0)}},j1=400,Y1=400;function Hb({state:r,playerPos:o,playerDir:n,modelLines:a}){const h=Tn.useRef(null),p=Tn.useRef(null),$=r?.x!==void 0?r.x:o?.x,_=r?.y!==void 0?r.y:o?.y,y=r?.dir!==void 0?r.dir:n,E=Number.isFinite(Number($))?Number($):0,w=Number.isFinite(Number(_))?Number(_):0,I=Number.isFinite(Number(y))?Number(y):0,H=r?.lines||[],F=K=>j1/2+K,te=K=>Y1/2-K,he=(K,se,we=null)=>{K.clearRect(0,0,j1,Y1),K.lineCap="round",K.lineJoin="round",se&&se.forEach(Oe=>{K.beginPath(),K.strokeStyle=we||Oe.color||"#2c3e50",K.lineWidth=we?4:Oe.width||2,we&&(K.globalAlpha=.3),K.moveTo(F(Oe.x1),te(Oe.y1)),K.lineTo(F(Oe.x2),te(Oe.y2)),K.stroke(),we&&(K.globalAlpha=1)})};Tn.useEffect(()=>{if(p.current&&a){const K=p.current.getContext("2d");he(K,a,"#95a5a6")}},[a]),Tn.useEffect(()=>{if(h.current){const K=h.current.getContext("2d");he(K,H)}},[H]);const ce=I;return ye.jsxs("div",{style:{position:"relative",width:j1,height:Y1,background:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[ye.jsxs("svg",{width:"100%",height:"100%",style:{position:"absolute",top:0,left:0,zIndex:1},children:[ye.jsx("defs",{children:ye.jsx("pattern",{id:"grid",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:ye.jsx("path",{d:"M 50 0 L 0 0 0 50",fill:"none",stroke:"#f4f4f4",strokeWidth:"1"})})}),ye.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),ye.jsx("line",{x1:j1/2,y1:"0",x2:j1/2,y2:Y1,stroke:"#ddd",strokeWidth:"1"}),ye.jsx("line",{x1:"0",y1:Y1/2,x2:j1,y2:Y1/2,stroke:"#ddd",strokeWidth:"1"})]}),ye.jsx("canvas",{ref:p,width:j1,height:Y1,style:{position:"absolute",top:0,left:0,zIndex:2,pointerEvents:"none"}}),ye.jsx("canvas",{ref:h,width:j1,height:Y1,style:{position:"absolute",top:0,left:0,zIndex:3}}),ye.jsx("div",{style:{position:"absolute",left:F(E),top:te(w),width:"40px",height:"40px",marginLeft:"-20px",marginTop:"-20px",transform:`rotate(${ce}deg)`,transformOrigin:"center center",zIndex:4,transition:"all 0.1s linear",pointerEvents:"none"},children:ye.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[ye.jsx("circle",{cx:"20",cy:"20",r:"12",stroke:"#2c3e50",strokeWidth:"3",fill:"rgba(255,255,255,0.8)"}),ye.jsx("path",{d:"M 34 20 L 26 15 L 26 25 Z",fill:"#2c3e50"})]})})]})}const Vb={id:"TURTLE",RenderComponent:Hb,registerBlocks:()=>{},getToolboxXML:r=>d3(r,null,[],[]),executeStep:(r,o,n)=>{const a=r||{x:n.startPos?.x||0,y:n.startPos?.y||0,dir:n.startPos?.dir!==void 0?n.startPos.dir:0,penDown:!0,color:"#2c3e50",lines:[]};if(!o)return{newState:a,status:"RUNNING"};let{x:h,y:p,dir:$,penDown:_,color:y,lines:E}=a;const w=[...E];if(o.type==="MOVE"){const I=parseFloat(o.dist),H=$*(Math.PI/180),F=h+I*Math.cos(H),te=p-I*Math.sin(H);_&&w.push({x1:h,y1:p,x2:F,y2:te,color:y}),h=F,p=te}else o.type==="TURN"?$+=parseFloat(o.angle):o.type==="PEN"?_=o.state==="DOWN":o.type==="COLOR"&&(y=o.color);return{newState:{x:h,y:p,dir:$,penDown:_,color:y,lines:w},status:"RUNNING"}},checkVictory:(r,o,n)=>{if(!n||n.length===0)return!1;const a=r?.lines||[],h=400,p=400,$=document.createElement("canvas");$.width=h,$.height=p;const _=$.getContext("2d"),y=document.createElement("canvas");y.width=h,y.height=p;const E=y.getContext("2d"),w=(ce,K)=>{ce.lineWidth=6,ce.lineCap="round",ce.strokeStyle="#000",K.forEach(se=>{ce.beginPath();const we=De=>h/2+De,Oe=De=>p/2-De;ce.moveTo(we(se.x1),Oe(se.y1)),ce.lineTo(we(se.x2),Oe(se.y2)),ce.stroke()})};w(_,n),w(E,a);const I=_.getImageData(0,0,h,p).data,H=E.getImageData(0,0,h,p).data;let F=0,te=0;for(let ce=3;ce<I.length;ce+=4)I[ce]>50&&(te++,H[ce]<50&&F++);return 1-F/(te||1)>.85}};var Q2={exports:{}},y5={exports:{}},Gb=y5.exports,hm;function Wb(){return hm||(hm=1,(function(r,o){(function(a,h){r.exports=h()})(typeof self<"u"?self:Gb,function(){return(function(){var n={};(function(){n.d=function(g,f){for(var b in f)n.o(f,b)&&!n.o(g,b)&&Object.defineProperty(g,b,{enumerable:!0,get:f[b]})}})(),(function(){n.o=function(g,f){return Object.prototype.hasOwnProperty.call(g,f)}})();var a={};n.d(a,{default:function(){return pl}});class h{constructor(f,b){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let k="KaTeX parse error: "+f,D,G;const Q=b&&b.loc;if(Q&&Q.start<=Q.end){const Ne=Q.lexer.input;D=Q.start,G=Q.end,D===Ne.length?k+=" at end of input: ":k+=" at position "+(D+1)+": ";const We=Ne.slice(D,G).replace(/[^]/g,"$&");let ot;D>15?ot=""+Ne.slice(D-15,D):ot=Ne.slice(0,D);let dt;G+15<Ne.length?dt=Ne.slice(G,G+15)+"":dt=Ne.slice(G),k+=ot+We+dt}const ge=new Error(k);return ge.name="ParseError",ge.__proto__=h.prototype,ge.position=D,D!=null&&G!=null&&(ge.length=G-D),ge.rawMessage=f,ge}}h.prototype.__proto__=Error.prototype;var p=h;const $=function(g,f){return g===void 0?f:g},_=/([A-Z])/g,y=function(g){return g.replace(_,"-$1").toLowerCase()},E={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},w=/[&><"']/g;function I(g){return String(g).replace(w,f=>E[f])}const H=function(g){return g.type==="ordgroup"||g.type==="color"?g.body.length===1?H(g.body[0]):g:g.type==="font"?H(g.body):g},F=function(g){const f=H(g);return f.type==="mathord"||f.type==="textord"||f.type==="atom"},te=function(g){if(!g)throw new Error("Expected non-null, but got "+String(g));return g};var ce={deflt:$,escape:I,hyphenate:y,getBaseElem:H,isCharacterBox:F,protocolFromUrl:function(g){const f=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(g);return f?f[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(f[1])?null:f[1].toLowerCase():"_relative"}};const K={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:g=>"#"+g},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(g,f)=>(f.push(g),f)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:g=>Math.max(0,g),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:g=>Math.max(0,g),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:g=>Math.max(0,g),cli:"-e, --max-expand <n>",cliProcessor:g=>g==="Infinity"?1/0:parseInt(g)},globalGroup:{type:"boolean",cli:!1}};function se(g){if(g.default)return g.default;const f=g.type,b=Array.isArray(f)?f[0]:f;if(typeof b!="string")return b.enum[0];switch(b){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class we{constructor(f){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,f=f||{};for(const b in K)if(K.hasOwnProperty(b)){const k=K[b];this[b]=f[b]!==void 0?k.processor?k.processor(f[b]):f[b]:se(k)}}reportNonstrict(f,b,k){let D=this.strict;if(typeof D=="function"&&(D=D(f,b,k)),!(!D||D==="ignore")){if(D===!0||D==="error")throw new p("LaTeX-incompatible input and strict mode is set to 'error': "+(b+" ["+f+"]"),k);D==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(b+" ["+f+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+D+"': "+b+" ["+f+"]"))}}useStrictBehavior(f,b,k){let D=this.strict;if(typeof D=="function")try{D=D(f,b,k)}catch{D="error"}return!D||D==="ignore"?!1:D===!0||D==="error"?!0:D==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(b+" ["+f+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+D+"': "+b+" ["+f+"]")),!1)}isTrusted(f){if(f.url&&!f.protocol){const k=ce.protocolFromUrl(f.url);if(k==null)return!1;f.protocol=k}return!!(typeof this.trust=="function"?this.trust(f):this.trust)}}class Oe{constructor(f,b,k){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=f,this.size=b,this.cramped=k}sup(){return Xt[Lt[this.id]]}sub(){return Xt[Ot[this.id]]}fracNum(){return Xt[st[this.id]]}fracDen(){return Xt[St[this.id]]}cramp(){return Xt[vt[this.id]]}text(){return Xt[an[this.id]]}isTight(){return this.size>=2}}const De=0,Se=1,je=2,at=3,Ze=4,Ke=5,Pt=6,Ve=7,Xt=[new Oe(De,0,!1),new Oe(Se,0,!0),new Oe(je,1,!1),new Oe(at,1,!0),new Oe(Ze,2,!1),new Oe(Ke,2,!0),new Oe(Pt,3,!1),new Oe(Ve,3,!0)],Lt=[Ze,Ke,Ze,Ke,Pt,Ve,Pt,Ve],Ot=[Ke,Ke,Ke,Ke,Ve,Ve,Ve,Ve],st=[je,at,Ze,Ke,Pt,Ve,Pt,Ve],St=[at,at,Ke,Ke,Ve,Ve,Ve,Ve],vt=[Se,Se,at,at,Ke,Ke,Ve,Ve],an=[De,Se,je,at,je,at,je,at];var de={DISPLAY:Xt[De],TEXT:Xt[je],SCRIPT:Xt[Ze],SCRIPTSCRIPT:Xt[Pt]};const Le=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function tt(g){for(let f=0;f<Le.length;f++){const b=Le[f];for(let k=0;k<b.blocks.length;k++){const D=b.blocks[k];if(g>=D[0]&&g<=D[1])return b.name}}return null}const _e=[];Le.forEach(g=>g.blocks.forEach(f=>_e.push(...f)));function Ft(g){for(let f=0;f<_e.length;f+=2)if(g>=_e[f]&&g<=_e[f+1])return!0;return!1}const It=80,Qt=function(g,f){return"M95,"+(622+g+f)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+g/2.075+" -"+g+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+g)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+g)+" "+f+"h400000v"+(40+g)+"h-400000z"},cn=function(g,f){return"M263,"+(601+g+f)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+g/2.084+" -"+g+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+g)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+g)+" "+f+"h400000v"+(40+g)+"h-400000z"},Hn=function(g,f){return"M983 "+(10+g+f)+`
l`+g/3.13+" -"+g+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+g)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+g)+" "+f+"h400000v"+(40+g)+"h-400000z"},mn=function(g,f){return"M424,"+(2398+g+f)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+g/4.223+" -"+g+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+g)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+g)+" "+f+`
h400000v`+(40+g)+"h-400000z"},sn=function(g,f){return"M473,"+(2713+g+f)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+g/5.298+" -"+g+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+g)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+g)+" "+f+"h400000v"+(40+g)+"H1017.7z"},qn=function(g){const f=g/2;return"M400000 "+g+" H0 L"+f+" 0 l65 45 L145 "+(g-80)+" H400000z"},ct=function(g,f,b){const k=b-54-f-g;return"M702 "+(g+f)+"H400000"+(40+g)+`
H742v`+k+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+f+"H400000v"+(40+g)+"H742z"},rn=function(g,f,b){f=1e3*f;let k="";switch(g){case"sqrtMain":k=Qt(f,It);break;case"sqrtSize1":k=cn(f,It);break;case"sqrtSize2":k=Hn(f,It);break;case"sqrtSize3":k=mn(f,It);break;case"sqrtSize4":k=sn(f,It);break;case"sqrtTall":k=ct(f,It,b)}return k},Br=function(g,f){switch(g){case"":return"M291 0 H417 V"+f+" H291z M291 0 H417 V"+f+" H291z";case"":return"M145 0 H188 V"+f+" H145z M145 0 H188 V"+f+" H145z";case"":return"M145 0 H188 V"+f+" H145z M145 0 H188 V"+f+" H145z"+("M367 0 H410 V"+f+" H367z M367 0 H410 V"+f+" H367z");case"":return"M457 0 H583 V"+f+" H457z M457 0 H583 V"+f+" H457z";case"":return"M319 0 H403 V"+f+" H319z M319 0 H403 V"+f+" H319z";case"":return"M263 0 H347 V"+f+" H263z M263 0 H347 V"+f+" H263z";case"":return"M384 0 H504 V"+f+" H384z M384 0 H504 V"+f+" H384z";case"":return"M312 0 H355 V"+f+" H312z M312 0 H355 V"+f+" H312z";case"":return"M257 0 H300 V"+f+" H257z M257 0 H300 V"+f+" H257z"+("M478 0 H521 V"+f+" H478z M478 0 H521 V"+f+" H478z");default:return""}},Zn={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},mr=function(g,f){switch(g){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+f+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+f+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+f+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+f+" v1759 h84z";case"vert":return"M145 15 v585 v"+f+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-f+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+f+" v585 h43z";case"doublevert":return"M145 15 v585 v"+f+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-f+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+f+` v585 h43z
M367 15 v585 v`+f+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-f+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+f+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+f+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+f+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+f+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+f+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+f+` v602 h84z
M403 1759 V0 H319 V1759 v`+f+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+f+` v602 h84z
M347 1759 V0 h-84 V1759 v`+f+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(f+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(f+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(f+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(f+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};var un={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const $i={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},wi={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function nr(g,f){un[g]=f}function es(g,f,b){if(!un[f])throw new Error("Font metrics not found for font: "+f+".");let k=g.charCodeAt(0),D=un[f][k];if(!D&&g[0]in wi&&(k=wi[g[0]].charCodeAt(0),D=un[f][k]),!D&&b==="text"&&Ft(k)&&(D=un[f][77]),D)return{depth:D[0],height:D[1],italic:D[2],skew:D[3],width:D[4]}}const li={};function rr(g){let f;if(g>=5?f=0:g>=3?f=1:f=2,!li[f]){const b=li[f]={cssEmPerMu:$i.quad[f]/18};for(const k in $i)$i.hasOwnProperty(k)&&(b[k]=$i[k][f])}return li[f]}const Xn=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],O=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],ne=function(g,f){return f.size<2?g:Xn[g-1][f.size-1]};class Ie{constructor(f){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=f.style,this.color=f.color,this.size=f.size||Ie.BASESIZE,this.textSize=f.textSize||this.size,this.phantom=!!f.phantom,this.font=f.font||"",this.fontFamily=f.fontFamily||"",this.fontWeight=f.fontWeight||"",this.fontShape=f.fontShape||"",this.sizeMultiplier=O[this.size-1],this.maxSize=f.maxSize,this.minRuleThickness=f.minRuleThickness,this._fontMetrics=void 0}extend(f){const b={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const k in f)f.hasOwnProperty(k)&&(b[k]=f[k]);return new Ie(b)}havingStyle(f){return this.style===f?this:this.extend({style:f,size:ne(this.textSize,f)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(f){return this.size===f&&this.textSize===f?this:this.extend({style:this.style.text(),size:f,textSize:f,sizeMultiplier:O[f-1]})}havingBaseStyle(f){f=f||this.style.text();const b=ne(Ie.BASESIZE,f);return this.size===b&&this.textSize===Ie.BASESIZE&&this.style===f?this:this.extend({style:f,size:b})}havingBaseSizing(){let f;switch(this.style.id){case 4:case 5:f=3;break;case 6:case 7:f=1;break;default:f=6}return this.extend({style:this.style.text(),size:f})}withColor(f){return this.extend({color:f})}withPhantom(){return this.extend({phantom:!0})}withFont(f){return this.extend({font:f})}withTextFontFamily(f){return this.extend({fontFamily:f,font:""})}withTextFontWeight(f){return this.extend({fontWeight:f,font:""})}withTextFontShape(f){return this.extend({fontShape:f,font:""})}sizingClasses(f){return f.size!==this.size?["sizing","reset-size"+f.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ie.BASESIZE?["sizing","reset-size"+this.size,"size"+Ie.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=rr(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ie.BASESIZE=6;var Be=Ie;const nt={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Ye={ex:!0,em:!0,mu:!0},yt=function(g){return typeof g!="string"&&(g=g.unit),g in nt||g in Ye||g==="ex"},xt=function(g,f){let b;if(g.unit in nt)b=nt[g.unit]/f.fontMetrics().ptPerEm/f.sizeMultiplier;else if(g.unit==="mu")b=f.fontMetrics().cssEmPerMu;else{let k;if(f.style.isTight()?k=f.havingStyle(f.style.text()):k=f,g.unit==="ex")b=k.fontMetrics().xHeight;else if(g.unit==="em")b=k.fontMetrics().quad;else throw new p("Invalid unit: '"+g.unit+"'");k!==f&&(b*=k.sizeMultiplier/f.sizeMultiplier)}return Math.min(g.number*b,f.maxSize)},L=function(g){return+g.toFixed(4)+"em"},ae=function(g){return g.filter(f=>f).join(" ")},ze=function(g,f,b){if(this.classes=g||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=b||{},f){f.style.isTight()&&this.classes.push("mtight");const k=f.getColor();k&&(this.style.color=k)}},Pe=function(g){const f=document.createElement(g);f.className=ae(this.classes);for(const b in this.style)this.style.hasOwnProperty(b)&&(f.style[b]=this.style[b]);for(const b in this.attributes)this.attributes.hasOwnProperty(b)&&f.setAttribute(b,this.attributes[b]);for(let b=0;b<this.children.length;b++)f.appendChild(this.children[b].toNode());return f},Dt=/[\s"'>/=\x00-\x1f]/,Sn=function(g){let f="<"+g;this.classes.length&&(f+=' class="'+ce.escape(ae(this.classes))+'"');let b="";for(const k in this.style)this.style.hasOwnProperty(k)&&(b+=ce.hyphenate(k)+":"+this.style[k]+";");b&&(f+=' style="'+ce.escape(b)+'"');for(const k in this.attributes)if(this.attributes.hasOwnProperty(k)){if(Dt.test(k))throw new p("Invalid attribute name '"+k+"'");f+=" "+k+'="'+ce.escape(this.attributes[k])+'"'}f+=">";for(let k=0;k<this.children.length;k++)f+=this.children[k].toMarkup();return f+="</"+g+">",f};class Ar{constructor(f,b,k,D){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,ze.call(this,f,k,D),this.children=b||[]}setAttribute(f,b){this.attributes[f]=b}hasClass(f){return this.classes.includes(f)}toNode(){return Pe.call(this,"span")}toMarkup(){return Sn.call(this,"span")}}class Y{constructor(f,b,k,D){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,ze.call(this,b,D),this.children=k||[],this.setAttribute("href",f)}setAttribute(f,b){this.attributes[f]=b}hasClass(f){return this.classes.includes(f)}toNode(){return Pe.call(this,"a")}toMarkup(){return Sn.call(this,"a")}}class ve{constructor(f,b,k){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=b,this.src=f,this.classes=["mord"],this.style=k}hasClass(f){return this.classes.includes(f)}toNode(){const f=document.createElement("img");f.src=this.src,f.alt=this.alt,f.className="mord";for(const b in this.style)this.style.hasOwnProperty(b)&&(f.style[b]=this.style[b]);return f}toMarkup(){let f='<img src="'+ce.escape(this.src)+'"'+(' alt="'+ce.escape(this.alt)+'"'),b="";for(const k in this.style)this.style.hasOwnProperty(k)&&(b+=ce.hyphenate(k)+":"+this.style[k]+";");return b&&(f+=' style="'+ce.escape(b)+'"'),f+="'/>",f}}const R={:"",:"",:"",:""};class j{constructor(f,b,k,D,G,Q,ge,Ne){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=f,this.height=b||0,this.depth=k||0,this.italic=D||0,this.skew=G||0,this.width=Q||0,this.classes=ge||[],this.style=Ne||{},this.maxFontSize=0;const We=tt(this.text.charCodeAt(0));We&&this.classes.push(We+"_fallback"),/[]/.test(this.text)&&(this.text=R[this.text])}hasClass(f){return this.classes.includes(f)}toNode(){const f=document.createTextNode(this.text);let b=null;this.italic>0&&(b=document.createElement("span"),b.style.marginRight=L(this.italic)),this.classes.length>0&&(b=b||document.createElement("span"),b.className=ae(this.classes));for(const k in this.style)this.style.hasOwnProperty(k)&&(b=b||document.createElement("span"),b.style[k]=this.style[k]);return b?(b.appendChild(f),b):f}toMarkup(){let f=!1,b="<span";this.classes.length&&(f=!0,b+=' class="',b+=ce.escape(ae(this.classes)),b+='"');let k="";this.italic>0&&(k+="margin-right:"+this.italic+"em;");for(const G in this.style)this.style.hasOwnProperty(G)&&(k+=ce.hyphenate(G)+":"+this.style[G]+";");k&&(f=!0,b+=' style="'+ce.escape(k)+'"');const D=ce.escape(this.text);return f?(b+=">",b+=D,b+="</span>",b):D}}class Ee{constructor(f,b){this.children=void 0,this.attributes=void 0,this.children=f||[],this.attributes=b||{}}toNode(){const b=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const k in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,k)&&b.setAttribute(k,this.attributes[k]);for(let k=0;k<this.children.length;k++)b.appendChild(this.children[k].toNode());return b}toMarkup(){let f='<svg xmlns="http://www.w3.org/2000/svg"';for(const b in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,b)&&(f+=" "+b+'="'+ce.escape(this.attributes[b])+'"');f+=">";for(let b=0;b<this.children.length;b++)f+=this.children[b].toMarkup();return f+="</svg>",f}}class Fe{constructor(f,b){this.pathName=void 0,this.alternate=void 0,this.pathName=f,this.alternate=b}toNode(){const b=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?b.setAttribute("d",this.alternate):b.setAttribute("d",Zn[this.pathName]),b}toMarkup(){return this.alternate?'<path d="'+ce.escape(this.alternate)+'"/>':'<path d="'+ce.escape(Zn[this.pathName])+'"/>'}}class Mt{constructor(f){this.attributes=void 0,this.attributes=f||{}}toNode(){const b=document.createElementNS("http://www.w3.org/2000/svg","line");for(const k in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,k)&&b.setAttribute(k,this.attributes[k]);return b}toMarkup(){let f="<line";for(const b in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,b)&&(f+=" "+b+'="'+ce.escape(this.attributes[b])+'"');return f+="/>",f}}function dn(g){if(g instanceof j)return g;throw new Error("Expected symbolNode but got "+String(g)+".")}function Mn(g){if(g instanceof Ar)return g;throw new Error("Expected span<HtmlDomNode> but got "+String(g)+".")}const hr={bin:1,close:1,inner:1,open:1,punct:1,rel:1},xs={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ts={math:{},text:{}};var _r=ts;function B(g,f,b,k,D,G){ts[g][D]={font:f,group:b,replace:k},G&&k&&(ts[g][k]=ts[g][D])}const W="math",en="text",x="main",U="ams",Z="accent-token",J="bin",ke="close",ee="inner",Ce="mathord",qe="op-token",rt="open",lt="punct",ie="rel",Bt="spacing",Ae="textord";B(W,x,ie,"","\\equiv",!0),B(W,x,ie,"","\\prec",!0),B(W,x,ie,"","\\succ",!0),B(W,x,ie,"","\\sim",!0),B(W,x,ie,"","\\perp"),B(W,x,ie,"","\\preceq",!0),B(W,x,ie,"","\\succeq",!0),B(W,x,ie,"","\\simeq",!0),B(W,x,ie,"","\\mid",!0),B(W,x,ie,"","\\ll",!0),B(W,x,ie,"","\\gg",!0),B(W,x,ie,"","\\asymp",!0),B(W,x,ie,"","\\parallel"),B(W,x,ie,"","\\bowtie",!0),B(W,x,ie,"","\\smile",!0),B(W,x,ie,"","\\sqsubseteq",!0),B(W,x,ie,"","\\sqsupseteq",!0),B(W,x,ie,"","\\doteq",!0),B(W,x,ie,"","\\frown",!0),B(W,x,ie,"","\\ni",!0),B(W,x,ie,"","\\propto",!0),B(W,x,ie,"","\\vdash",!0),B(W,x,ie,"","\\dashv",!0),B(W,x,ie,"","\\owns"),B(W,x,lt,".","\\ldotp"),B(W,x,lt,"","\\cdotp"),B(W,x,Ae,"#","\\#"),B(en,x,Ae,"#","\\#"),B(W,x,Ae,"&","\\&"),B(en,x,Ae,"&","\\&"),B(W,x,Ae,"","\\aleph",!0),B(W,x,Ae,"","\\forall",!0),B(W,x,Ae,"","\\hbar",!0),B(W,x,Ae,"","\\exists",!0),B(W,x,Ae,"","\\nabla",!0),B(W,x,Ae,"","\\flat",!0),B(W,x,Ae,"","\\ell",!0),B(W,x,Ae,"","\\natural",!0),B(W,x,Ae,"","\\clubsuit",!0),B(W,x,Ae,"","\\wp",!0),B(W,x,Ae,"","\\sharp",!0),B(W,x,Ae,"","\\diamondsuit",!0),B(W,x,Ae,"","\\Re",!0),B(W,x,Ae,"","\\heartsuit",!0),B(W,x,Ae,"","\\Im",!0),B(W,x,Ae,"","\\spadesuit",!0),B(W,x,Ae,"","\\S",!0),B(en,x,Ae,"","\\S"),B(W,x,Ae,"","\\P",!0),B(en,x,Ae,"","\\P"),B(W,x,Ae,"","\\dag"),B(en,x,Ae,"","\\dag"),B(en,x,Ae,"","\\textdagger"),B(W,x,Ae,"","\\ddag"),B(en,x,Ae,"","\\ddag"),B(en,x,Ae,"","\\textdaggerdbl"),B(W,x,ke,"","\\rmoustache",!0),B(W,x,rt,"","\\lmoustache",!0),B(W,x,ke,"","\\rgroup",!0),B(W,x,rt,"","\\lgroup",!0),B(W,x,J,"","\\mp",!0),B(W,x,J,"","\\ominus",!0),B(W,x,J,"","\\uplus",!0),B(W,x,J,"","\\sqcap",!0),B(W,x,J,"","\\ast"),B(W,x,J,"","\\sqcup",!0),B(W,x,J,"","\\bigcirc",!0),B(W,x,J,"","\\bullet",!0),B(W,x,J,"","\\ddagger"),B(W,x,J,"","\\wr",!0),B(W,x,J,"","\\amalg"),B(W,x,J,"&","\\And"),B(W,x,ie,"","\\longleftarrow",!0),B(W,x,ie,"","\\Leftarrow",!0),B(W,x,ie,"","\\Longleftarrow",!0),B(W,x,ie,"","\\longrightarrow",!0),B(W,x,ie,"","\\Rightarrow",!0),B(W,x,ie,"","\\Longrightarrow",!0),B(W,x,ie,"","\\leftrightarrow",!0),B(W,x,ie,"","\\longleftrightarrow",!0),B(W,x,ie,"","\\Leftrightarrow",!0),B(W,x,ie,"","\\Longleftrightarrow",!0),B(W,x,ie,"","\\mapsto",!0),B(W,x,ie,"","\\longmapsto",!0),B(W,x,ie,"","\\nearrow",!0),B(W,x,ie,"","\\hookleftarrow",!0),B(W,x,ie,"","\\hookrightarrow",!0),B(W,x,ie,"","\\searrow",!0),B(W,x,ie,"","\\leftharpoonup",!0),B(W,x,ie,"","\\rightharpoonup",!0),B(W,x,ie,"","\\swarrow",!0),B(W,x,ie,"","\\leftharpoondown",!0),B(W,x,ie,"","\\rightharpoondown",!0),B(W,x,ie,"","\\nwarrow",!0),B(W,x,ie,"","\\rightleftharpoons",!0),B(W,U,ie,"","\\nless",!0),B(W,U,ie,"","\\@nleqslant"),B(W,U,ie,"","\\@nleqq"),B(W,U,ie,"","\\lneq",!0),B(W,U,ie,"","\\lneqq",!0),B(W,U,ie,"","\\@lvertneqq"),B(W,U,ie,"","\\lnsim",!0),B(W,U,ie,"","\\lnapprox",!0),B(W,U,ie,"","\\nprec",!0),B(W,U,ie,"","\\npreceq",!0),B(W,U,ie,"","\\precnsim",!0),B(W,U,ie,"","\\precnapprox",!0),B(W,U,ie,"","\\nsim",!0),B(W,U,ie,"","\\@nshortmid"),B(W,U,ie,"","\\nmid",!0),B(W,U,ie,"","\\nvdash",!0),B(W,U,ie,"","\\nvDash",!0),B(W,U,ie,"","\\ntriangleleft"),B(W,U,ie,"","\\ntrianglelefteq",!0),B(W,U,ie,"","\\subsetneq",!0),B(W,U,ie,"","\\@varsubsetneq"),B(W,U,ie,"","\\subsetneqq",!0),B(W,U,ie,"","\\@varsubsetneqq"),B(W,U,ie,"","\\ngtr",!0),B(W,U,ie,"","\\@ngeqslant"),B(W,U,ie,"","\\@ngeqq"),B(W,U,ie,"","\\gneq",!0),B(W,U,ie,"","\\gneqq",!0),B(W,U,ie,"","\\@gvertneqq"),B(W,U,ie,"","\\gnsim",!0),B(W,U,ie,"","\\gnapprox",!0),B(W,U,ie,"","\\nsucc",!0),B(W,U,ie,"","\\nsucceq",!0),B(W,U,ie,"","\\succnsim",!0),B(W,U,ie,"","\\succnapprox",!0),B(W,U,ie,"","\\ncong",!0),B(W,U,ie,"","\\@nshortparallel"),B(W,U,ie,"","\\nparallel",!0),B(W,U,ie,"","\\nVDash",!0),B(W,U,ie,"","\\ntriangleright"),B(W,U,ie,"","\\ntrianglerighteq",!0),B(W,U,ie,"","\\@nsupseteqq"),B(W,U,ie,"","\\supsetneq",!0),B(W,U,ie,"","\\@varsupsetneq"),B(W,U,ie,"","\\supsetneqq",!0),B(W,U,ie,"","\\@varsupsetneqq"),B(W,U,ie,"","\\nVdash",!0),B(W,U,ie,"","\\precneqq",!0),B(W,U,ie,"","\\succneqq",!0),B(W,U,ie,"","\\@nsubseteqq"),B(W,U,J,"","\\unlhd"),B(W,U,J,"","\\unrhd"),B(W,U,ie,"","\\nleftarrow",!0),B(W,U,ie,"","\\nrightarrow",!0),B(W,U,ie,"","\\nLeftarrow",!0),B(W,U,ie,"","\\nRightarrow",!0),B(W,U,ie,"","\\nleftrightarrow",!0),B(W,U,ie,"","\\nLeftrightarrow",!0),B(W,U,ie,"","\\vartriangle"),B(W,U,Ae,"","\\hslash"),B(W,U,Ae,"","\\triangledown"),B(W,U,Ae,"","\\lozenge"),B(W,U,Ae,"","\\circledS"),B(W,U,Ae,"","\\circledR"),B(en,U,Ae,"","\\circledR"),B(W,U,Ae,"","\\measuredangle",!0),B(W,U,Ae,"","\\nexists"),B(W,U,Ae,"","\\mho"),B(W,U,Ae,"","\\Finv",!0),B(W,U,Ae,"","\\Game",!0),B(W,U,Ae,"","\\backprime"),B(W,U,Ae,"","\\blacktriangle"),B(W,U,Ae,"","\\blacktriangledown"),B(W,U,Ae,"","\\blacksquare"),B(W,U,Ae,"","\\blacklozenge"),B(W,U,Ae,"","\\bigstar"),B(W,U,Ae,"","\\sphericalangle",!0),B(W,U,Ae,"","\\complement",!0),B(W,U,Ae,"","\\eth",!0),B(en,x,Ae,"",""),B(W,U,Ae,"","\\diagup"),B(W,U,Ae,"","\\diagdown"),B(W,U,Ae,"","\\square"),B(W,U,Ae,"","\\Box"),B(W,U,Ae,"","\\Diamond"),B(W,U,Ae,"","\\yen",!0),B(en,U,Ae,"","\\yen",!0),B(W,U,Ae,"","\\checkmark",!0),B(en,U,Ae,"","\\checkmark"),B(W,U,Ae,"","\\beth",!0),B(W,U,Ae,"","\\daleth",!0),B(W,U,Ae,"","\\gimel",!0),B(W,U,Ae,"","\\digamma",!0),B(W,U,Ae,"","\\varkappa"),B(W,U,rt,"","\\@ulcorner",!0),B(W,U,ke,"","\\@urcorner",!0),B(W,U,rt,"","\\@llcorner",!0),B(W,U,ke,"","\\@lrcorner",!0),B(W,U,ie,"","\\leqq",!0),B(W,U,ie,"","\\leqslant",!0),B(W,U,ie,"","\\eqslantless",!0),B(W,U,ie,"","\\lesssim",!0),B(W,U,ie,"","\\lessapprox",!0),B(W,U,ie,"","\\approxeq",!0),B(W,U,J,"","\\lessdot"),B(W,U,ie,"","\\lll",!0),B(W,U,ie,"","\\lessgtr",!0),B(W,U,ie,"","\\lesseqgtr",!0),B(W,U,ie,"","\\lesseqqgtr",!0),B(W,U,ie,"","\\doteqdot"),B(W,U,ie,"","\\risingdotseq",!0),B(W,U,ie,"","\\fallingdotseq",!0),B(W,U,ie,"","\\backsim",!0),B(W,U,ie,"","\\backsimeq",!0),B(W,U,ie,"","\\subseteqq",!0),B(W,U,ie,"","\\Subset",!0),B(W,U,ie,"","\\sqsubset",!0),B(W,U,ie,"","\\preccurlyeq",!0),B(W,U,ie,"","\\curlyeqprec",!0),B(W,U,ie,"","\\precsim",!0),B(W,U,ie,"","\\precapprox",!0),B(W,U,ie,"","\\vartriangleleft"),B(W,U,ie,"","\\trianglelefteq"),B(W,U,ie,"","\\vDash",!0),B(W,U,ie,"","\\Vvdash",!0),B(W,U,ie,"","\\smallsmile"),B(W,U,ie,"","\\smallfrown"),B(W,U,ie,"","\\bumpeq",!0),B(W,U,ie,"","\\Bumpeq",!0),B(W,U,ie,"","\\geqq",!0),B(W,U,ie,"","\\geqslant",!0),B(W,U,ie,"","\\eqslantgtr",!0),B(W,U,ie,"","\\gtrsim",!0),B(W,U,ie,"","\\gtrapprox",!0),B(W,U,J,"","\\gtrdot"),B(W,U,ie,"","\\ggg",!0),B(W,U,ie,"","\\gtrless",!0),B(W,U,ie,"","\\gtreqless",!0),B(W,U,ie,"","\\gtreqqless",!0),B(W,U,ie,"","\\eqcirc",!0),B(W,U,ie,"","\\circeq",!0),B(W,U,ie,"","\\triangleq",!0),B(W,U,ie,"","\\thicksim"),B(W,U,ie,"","\\thickapprox"),B(W,U,ie,"","\\supseteqq",!0),B(W,U,ie,"","\\Supset",!0),B(W,U,ie,"","\\sqsupset",!0),B(W,U,ie,"","\\succcurlyeq",!0),B(W,U,ie,"","\\curlyeqsucc",!0),B(W,U,ie,"","\\succsim",!0),B(W,U,ie,"","\\succapprox",!0),B(W,U,ie,"","\\vartriangleright"),B(W,U,ie,"","\\trianglerighteq"),B(W,U,ie,"","\\Vdash",!0),B(W,U,ie,"","\\shortmid"),B(W,U,ie,"","\\shortparallel"),B(W,U,ie,"","\\between",!0),B(W,U,ie,"","\\pitchfork",!0),B(W,U,ie,"","\\varpropto"),B(W,U,ie,"","\\blacktriangleleft"),B(W,U,ie,"","\\therefore",!0),B(W,U,ie,"","\\backepsilon"),B(W,U,ie,"","\\blacktriangleright"),B(W,U,ie,"","\\because",!0),B(W,U,ie,"","\\llless"),B(W,U,ie,"","\\gggtr"),B(W,U,J,"","\\lhd"),B(W,U,J,"","\\rhd"),B(W,U,ie,"","\\eqsim",!0),B(W,x,ie,"","\\Join"),B(W,U,ie,"","\\Doteq",!0),B(W,U,J,"","\\dotplus",!0),B(W,U,J,"","\\smallsetminus"),B(W,U,J,"","\\Cap",!0),B(W,U,J,"","\\Cup",!0),B(W,U,J,"","\\doublebarwedge",!0),B(W,U,J,"","\\boxminus",!0),B(W,U,J,"","\\boxplus",!0),B(W,U,J,"","\\divideontimes",!0),B(W,U,J,"","\\ltimes",!0),B(W,U,J,"","\\rtimes",!0),B(W,U,J,"","\\leftthreetimes",!0),B(W,U,J,"","\\rightthreetimes",!0),B(W,U,J,"","\\curlywedge",!0),B(W,U,J,"","\\curlyvee",!0),B(W,U,J,"","\\circleddash",!0),B(W,U,J,"","\\circledast",!0),B(W,U,J,"","\\centerdot"),B(W,U,J,"","\\intercal",!0),B(W,U,J,"","\\doublecap"),B(W,U,J,"","\\doublecup"),B(W,U,J,"","\\boxtimes",!0),B(W,U,ie,"","\\dashrightarrow",!0),B(W,U,ie,"","\\dashleftarrow",!0),B(W,U,ie,"","\\leftleftarrows",!0),B(W,U,ie,"","\\leftrightarrows",!0),B(W,U,ie,"","\\Lleftarrow",!0),B(W,U,ie,"","\\twoheadleftarrow",!0),B(W,U,ie,"","\\leftarrowtail",!0),B(W,U,ie,"","\\looparrowleft",!0),B(W,U,ie,"","\\leftrightharpoons",!0),B(W,U,ie,"","\\curvearrowleft",!0),B(W,U,ie,"","\\circlearrowleft",!0),B(W,U,ie,"","\\Lsh",!0),B(W,U,ie,"","\\upuparrows",!0),B(W,U,ie,"","\\upharpoonleft",!0),B(W,U,ie,"","\\downharpoonleft",!0),B(W,x,ie,"","\\origof",!0),B(W,x,ie,"","\\imageof",!0),B(W,U,ie,"","\\multimap",!0),B(W,U,ie,"","\\leftrightsquigarrow",!0),B(W,U,ie,"","\\rightrightarrows",!0),B(W,U,ie,"","\\rightleftarrows",!0),B(W,U,ie,"","\\twoheadrightarrow",!0),B(W,U,ie,"","\\rightarrowtail",!0),B(W,U,ie,"","\\looparrowright",!0),B(W,U,ie,"","\\curvearrowright",!0),B(W,U,ie,"","\\circlearrowright",!0),B(W,U,ie,"","\\Rsh",!0),B(W,U,ie,"","\\downdownarrows",!0),B(W,U,ie,"","\\upharpoonright",!0),B(W,U,ie,"","\\downharpoonright",!0),B(W,U,ie,"","\\rightsquigarrow",!0),B(W,U,ie,"","\\leadsto"),B(W,U,ie,"","\\Rrightarrow",!0),B(W,U,ie,"","\\restriction"),B(W,x,Ae,"","`"),B(W,x,Ae,"$","\\$"),B(en,x,Ae,"$","\\$"),B(en,x,Ae,"$","\\textdollar"),B(W,x,Ae,"%","\\%"),B(en,x,Ae,"%","\\%"),B(W,x,Ae,"_","\\_"),B(en,x,Ae,"_","\\_"),B(en,x,Ae,"_","\\textunderscore"),B(W,x,Ae,"","\\angle",!0),B(W,x,Ae,"","\\infty",!0),B(W,x,Ae,"","\\prime"),B(W,x,Ae,"","\\triangle"),B(W,x,Ae,"","\\Gamma",!0),B(W,x,Ae,"","\\Delta",!0),B(W,x,Ae,"","\\Theta",!0),B(W,x,Ae,"","\\Lambda",!0),B(W,x,Ae,"","\\Xi",!0),B(W,x,Ae,"","\\Pi",!0),B(W,x,Ae,"","\\Sigma",!0),B(W,x,Ae,"","\\Upsilon",!0),B(W,x,Ae,"","\\Phi",!0),B(W,x,Ae,"","\\Psi",!0),B(W,x,Ae,"","\\Omega",!0),B(W,x,Ae,"A",""),B(W,x,Ae,"B",""),B(W,x,Ae,"E",""),B(W,x,Ae,"Z",""),B(W,x,Ae,"H",""),B(W,x,Ae,"I",""),B(W,x,Ae,"K",""),B(W,x,Ae,"M",""),B(W,x,Ae,"N",""),B(W,x,Ae,"O",""),B(W,x,Ae,"P",""),B(W,x,Ae,"T",""),B(W,x,Ae,"X",""),B(W,x,Ae,"","\\neg",!0),B(W,x,Ae,"","\\lnot"),B(W,x,Ae,"","\\top"),B(W,x,Ae,"","\\bot"),B(W,x,Ae,"","\\emptyset"),B(W,U,Ae,"","\\varnothing"),B(W,x,Ce,"","\\alpha",!0),B(W,x,Ce,"","\\beta",!0),B(W,x,Ce,"","\\gamma",!0),B(W,x,Ce,"","\\delta",!0),B(W,x,Ce,"","\\epsilon",!0),B(W,x,Ce,"","\\zeta",!0),B(W,x,Ce,"","\\eta",!0),B(W,x,Ce,"","\\theta",!0),B(W,x,Ce,"","\\iota",!0),B(W,x,Ce,"","\\kappa",!0),B(W,x,Ce,"","\\lambda",!0),B(W,x,Ce,"","\\mu",!0),B(W,x,Ce,"","\\nu",!0),B(W,x,Ce,"","\\xi",!0),B(W,x,Ce,"","\\omicron",!0),B(W,x,Ce,"","\\pi",!0),B(W,x,Ce,"","\\rho",!0),B(W,x,Ce,"","\\sigma",!0),B(W,x,Ce,"","\\tau",!0),B(W,x,Ce,"","\\upsilon",!0),B(W,x,Ce,"","\\phi",!0),B(W,x,Ce,"","\\chi",!0),B(W,x,Ce,"","\\psi",!0),B(W,x,Ce,"","\\omega",!0),B(W,x,Ce,"","\\varepsilon",!0),B(W,x,Ce,"","\\vartheta",!0),B(W,x,Ce,"","\\varpi",!0),B(W,x,Ce,"","\\varrho",!0),B(W,x,Ce,"","\\varsigma",!0),B(W,x,Ce,"","\\varphi",!0),B(W,x,J,"","*",!0),B(W,x,J,"+","+"),B(W,x,J,"","-",!0),B(W,x,J,"","\\cdot",!0),B(W,x,J,"","\\circ",!0),B(W,x,J,"","\\div",!0),B(W,x,J,"","\\pm",!0),B(W,x,J,"","\\times",!0),B(W,x,J,"","\\cap",!0),B(W,x,J,"","\\cup",!0),B(W,x,J,"","\\setminus",!0),B(W,x,J,"","\\land"),B(W,x,J,"","\\lor"),B(W,x,J,"","\\wedge",!0),B(W,x,J,"","\\vee",!0),B(W,x,Ae,"","\\surd"),B(W,x,rt,"","\\langle",!0),B(W,x,rt,"","\\lvert"),B(W,x,rt,"","\\lVert"),B(W,x,ke,"?","?"),B(W,x,ke,"!","!"),B(W,x,ke,"","\\rangle",!0),B(W,x,ke,"","\\rvert"),B(W,x,ke,"","\\rVert"),B(W,x,ie,"=","="),B(W,x,ie,":",":"),B(W,x,ie,"","\\approx",!0),B(W,x,ie,"","\\cong",!0),B(W,x,ie,"","\\ge"),B(W,x,ie,"","\\geq",!0),B(W,x,ie,"","\\gets"),B(W,x,ie,">","\\gt",!0),B(W,x,ie,"","\\in",!0),B(W,x,ie,"","\\@not"),B(W,x,ie,"","\\subset",!0),B(W,x,ie,"","\\supset",!0),B(W,x,ie,"","\\subseteq",!0),B(W,x,ie,"","\\supseteq",!0),B(W,U,ie,"","\\nsubseteq",!0),B(W,U,ie,"","\\nsupseteq",!0),B(W,x,ie,"","\\models"),B(W,x,ie,"","\\leftarrow",!0),B(W,x,ie,"","\\le"),B(W,x,ie,"","\\leq",!0),B(W,x,ie,"<","\\lt",!0),B(W,x,ie,"","\\rightarrow",!0),B(W,x,ie,"","\\to"),B(W,U,ie,"","\\ngeq",!0),B(W,U,ie,"","\\nleq",!0),B(W,x,Bt,"","\\ "),B(W,x,Bt,"","\\space"),B(W,x,Bt,"","\\nobreakspace"),B(en,x,Bt,"","\\ "),B(en,x,Bt,""," "),B(en,x,Bt,"","\\space"),B(en,x,Bt,"","\\nobreakspace"),B(W,x,Bt,null,"\\nobreak"),B(W,x,Bt,null,"\\allowbreak"),B(W,x,lt,",",","),B(W,x,lt,";",";"),B(W,U,J,"","\\barwedge",!0),B(W,U,J,"","\\veebar",!0),B(W,x,J,"","\\odot",!0),B(W,x,J,"","\\oplus",!0),B(W,x,J,"","\\otimes",!0),B(W,x,Ae,"","\\partial",!0),B(W,x,J,"","\\oslash",!0),B(W,U,J,"","\\circledcirc",!0),B(W,U,J,"","\\boxdot",!0),B(W,x,J,"","\\bigtriangleup"),B(W,x,J,"","\\bigtriangledown"),B(W,x,J,"","\\dagger"),B(W,x,J,"","\\diamond"),B(W,x,J,"","\\star"),B(W,x,J,"","\\triangleleft"),B(W,x,J,"","\\triangleright"),B(W,x,rt,"{","\\{"),B(en,x,Ae,"{","\\{"),B(en,x,Ae,"{","\\textbraceleft"),B(W,x,ke,"}","\\}"),B(en,x,Ae,"}","\\}"),B(en,x,Ae,"}","\\textbraceright"),B(W,x,rt,"{","\\lbrace"),B(W,x,ke,"}","\\rbrace"),B(W,x,rt,"[","\\lbrack",!0),B(en,x,Ae,"[","\\lbrack",!0),B(W,x,ke,"]","\\rbrack",!0),B(en,x,Ae,"]","\\rbrack",!0),B(W,x,rt,"(","\\lparen",!0),B(W,x,ke,")","\\rparen",!0),B(en,x,Ae,"<","\\textless",!0),B(en,x,Ae,">","\\textgreater",!0),B(W,x,rt,"","\\lfloor",!0),B(W,x,ke,"","\\rfloor",!0),B(W,x,rt,"","\\lceil",!0),B(W,x,ke,"","\\rceil",!0),B(W,x,Ae,"\\","\\backslash"),B(W,x,Ae,"","|"),B(W,x,Ae,"","\\vert"),B(en,x,Ae,"|","\\textbar",!0),B(W,x,Ae,"","\\|"),B(W,x,Ae,"","\\Vert"),B(en,x,Ae,"","\\textbardbl"),B(en,x,Ae,"~","\\textasciitilde"),B(en,x,Ae,"\\","\\textbackslash"),B(en,x,Ae,"^","\\textasciicircum"),B(W,x,ie,"","\\uparrow",!0),B(W,x,ie,"","\\Uparrow",!0),B(W,x,ie,"","\\downarrow",!0),B(W,x,ie,"","\\Downarrow",!0),B(W,x,ie,"","\\updownarrow",!0),B(W,x,ie,"","\\Updownarrow",!0),B(W,x,qe,"","\\coprod"),B(W,x,qe,"","\\bigvee"),B(W,x,qe,"","\\bigwedge"),B(W,x,qe,"","\\biguplus"),B(W,x,qe,"","\\bigcap"),B(W,x,qe,"","\\bigcup"),B(W,x,qe,"","\\int"),B(W,x,qe,"","\\intop"),B(W,x,qe,"","\\iint"),B(W,x,qe,"","\\iiint"),B(W,x,qe,"","\\prod"),B(W,x,qe,"","\\sum"),B(W,x,qe,"","\\bigotimes"),B(W,x,qe,"","\\bigoplus"),B(W,x,qe,"","\\bigodot"),B(W,x,qe,"","\\oint"),B(W,x,qe,"","\\oiint"),B(W,x,qe,"","\\oiiint"),B(W,x,qe,"","\\bigsqcup"),B(W,x,qe,"","\\smallint"),B(en,x,ee,"","\\textellipsis"),B(W,x,ee,"","\\mathellipsis"),B(en,x,ee,"","\\ldots",!0),B(W,x,ee,"","\\ldots",!0),B(W,x,ee,"","\\@cdots",!0),B(W,x,ee,"","\\ddots",!0),B(W,x,Ae,"","\\varvdots"),B(en,x,Ae,"","\\varvdots"),B(W,x,Z,"","\\acute"),B(W,x,Z,"","\\grave"),B(W,x,Z,"","\\ddot"),B(W,x,Z,"~","\\tilde"),B(W,x,Z,"","\\bar"),B(W,x,Z,"","\\breve"),B(W,x,Z,"","\\check"),B(W,x,Z,"^","\\hat"),B(W,x,Z,"","\\vec"),B(W,x,Z,"","\\dot"),B(W,x,Z,"","\\mathring"),B(W,x,Ce,"","\\@imath"),B(W,x,Ce,"","\\@jmath"),B(W,x,Ae,"",""),B(W,x,Ae,"",""),B(en,x,Ae,"","\\i",!0),B(en,x,Ae,"","\\j",!0),B(en,x,Ae,"","\\ss",!0),B(en,x,Ae,"","\\ae",!0),B(en,x,Ae,"","\\oe",!0),B(en,x,Ae,"","\\o",!0),B(en,x,Ae,"","\\AE",!0),B(en,x,Ae,"","\\OE",!0),B(en,x,Ae,"","\\O",!0),B(en,x,Z,"","\\'"),B(en,x,Z,"","\\`"),B(en,x,Z,"","\\^"),B(en,x,Z,"","\\~"),B(en,x,Z,"","\\="),B(en,x,Z,"","\\u"),B(en,x,Z,"","\\."),B(en,x,Z,"","\\c"),B(en,x,Z,"","\\r"),B(en,x,Z,"","\\v"),B(en,x,Z,"",'\\"'),B(en,x,Z,"","\\H"),B(en,x,Z,"","\\textcircled");const In={"--":!0,"---":!0,"``":!0,"''":!0};B(en,x,Ae,"","--",!0),B(en,x,Ae,"","\\textendash"),B(en,x,Ae,"","---",!0),B(en,x,Ae,"","\\textemdash"),B(en,x,Ae,"","`",!0),B(en,x,Ae,"","\\textquoteleft"),B(en,x,Ae,"","'",!0),B(en,x,Ae,"","\\textquoteright"),B(en,x,Ae,"","``",!0),B(en,x,Ae,"","\\textquotedblleft"),B(en,x,Ae,"","''",!0),B(en,x,Ae,"","\\textquotedblright"),B(W,x,Ae,"","\\degree",!0),B(en,x,Ae,"","\\degree"),B(en,x,Ae,"","\\textdegree",!0),B(W,x,Ae,"","\\pounds"),B(W,x,Ae,"","\\mathsterling",!0),B(en,x,Ae,"","\\pounds"),B(en,x,Ae,"","\\textsterling",!0),B(W,U,Ae,"","\\maltese"),B(en,U,Ae,"","\\maltese");const On='0123456789/@."';for(let g=0;g<On.length;g++){const f=On.charAt(g);B(W,x,Ae,f,f)}const Pr='0123456789!@*()-=+";:?/.,';for(let g=0;g<Pr.length;g++){const f=Pr.charAt(g);B(en,x,Ae,f,f)}const pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let g=0;g<pr.length;g++){const f=pr.charAt(g);B(W,x,Ce,f,f),B(en,x,Ae,f,f)}B(W,U,Ae,"C",""),B(en,U,Ae,"C",""),B(W,U,Ae,"H",""),B(en,U,Ae,"H",""),B(W,U,Ae,"N",""),B(en,U,Ae,"N",""),B(W,U,Ae,"P",""),B(en,U,Ae,"P",""),B(W,U,Ae,"Q",""),B(en,U,Ae,"Q",""),B(W,U,Ae,"R",""),B(en,U,Ae,"R",""),B(W,U,Ae,"Z",""),B(en,U,Ae,"Z",""),B(W,x,Ce,"h",""),B(en,x,Ce,"h","");let Pn="";for(let g=0;g<pr.length;g++){const f=pr.charAt(g);Pn=String.fromCharCode(55349,56320+g),B(W,x,Ce,f,Pn),B(en,x,Ae,f,Pn),Pn=String.fromCharCode(55349,56372+g),B(W,x,Ce,f,Pn),B(en,x,Ae,f,Pn),Pn=String.fromCharCode(55349,56424+g),B(W,x,Ce,f,Pn),B(en,x,Ae,f,Pn),Pn=String.fromCharCode(55349,56580+g),B(W,x,Ce,f,Pn),B(en,x,Ae,f,Pn),Pn=String.fromCharCode(55349,56684+g),B(W,x,Ce,f,Pn),B(en,x,Ae,f,Pn),Pn=String.fromCharCode(55349,56736+g),B(W,x,Ce,f,Pn),B(en,x,Ae,f,Pn),Pn=String.fromCharCode(55349,56788+g),B(W,x,Ce,f,Pn),B(en,x,Ae,f,Pn),Pn=String.fromCharCode(55349,56840+g),B(W,x,Ce,f,Pn),B(en,x,Ae,f,Pn),Pn=String.fromCharCode(55349,56944+g),B(W,x,Ce,f,Pn),B(en,x,Ae,f,Pn),g<26&&(Pn=String.fromCharCode(55349,56632+g),B(W,x,Ce,f,Pn),B(en,x,Ae,f,Pn),Pn=String.fromCharCode(55349,56476+g),B(W,x,Ce,f,Pn),B(en,x,Ae,f,Pn))}Pn="",B(W,x,Ce,"k",Pn),B(en,x,Ae,"k",Pn);for(let g=0;g<10;g++){const f=g.toString();Pn=String.fromCharCode(55349,57294+g),B(W,x,Ce,f,Pn),B(en,x,Ae,f,Pn),Pn=String.fromCharCode(55349,57314+g),B(W,x,Ce,f,Pn),B(en,x,Ae,f,Pn),Pn=String.fromCharCode(55349,57324+g),B(W,x,Ce,f,Pn),B(en,x,Ae,f,Pn),Pn=String.fromCharCode(55349,57334+g),B(W,x,Ce,f,Pn),B(en,x,Ae,f,Pn)}const ns="";for(let g=0;g<ns.length;g++){const f=ns.charAt(g);B(W,x,Ce,f,f),B(en,x,Ae,f,f)}const ai=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],$n=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],kr=function(g,f){const b=g.charCodeAt(0),k=g.charCodeAt(1),D=(b-55296)*1024+(k-56320)+65536,G=f==="math"?0:1;if(119808<=D&&D<120484){const Q=Math.floor((D-119808)/26);return[ai[Q][2],ai[Q][G]]}else if(120782<=D&&D<=120831){const Q=Math.floor((D-120782)/10);return[$n[Q][2],$n[Q][G]]}else{if(D===120485||D===120486)return[ai[0][2],ai[0][G]];if(120486<D&&D<120782)return["",""];throw new p("Unsupported character: "+g)}};class Rs{constructor(f){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=f,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(f){return this.classes.includes(f)}toNode(){const f=document.createDocumentFragment();for(let b=0;b<this.children.length;b++)f.appendChild(this.children[b].toNode());return f}toMarkup(){let f="";for(let b=0;b<this.children.length;b++)f+=this.children[b].toMarkup();return f}toText(){const f=b=>b.toText();return this.children.map(f).join("")}}const ui=function(g,f,b){return _r[b][g]&&_r[b][g].replace&&(g=_r[b][g].replace),{value:g,metrics:es(g,f,b)}},Or=function(g,f,b,k,D){const G=ui(g,f,b),Q=G.metrics;g=G.value;let ge;if(Q){let Ne=Q.italic;(b==="text"||k&&k.font==="mathit")&&(Ne=0),ge=new j(g,Q.height,Q.depth,Ne,Q.skew,Q.width,D)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+g+"' in style '"+f+"' and mode '"+b+"'")),ge=new j(g,0,0,0,0,0,D);if(k){ge.maxFontSize=k.sizeMultiplier,k.style.isTight()&&ge.classes.push("mtight");const Ne=k.getColor();Ne&&(ge.style.color=Ne)}return ge},tn=function(g,f,b,k){return k===void 0&&(k=[]),b.font==="boldsymbol"&&ui(g,"Main-Bold",f).metrics?Or(g,"Main-Bold",f,b,k.concat(["mathbf"])):g==="\\"||_r[f][g].font==="main"?Or(g,"Main-Regular",f,b,k):Or(g,"AMS-Regular",f,b,k.concat(["amsrm"]))},me=function(g,f,b,k,D){return D!=="textord"&&ui(g,"Math-BoldItalic",f).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Ni=function(g,f,b){const k=g.mode,D=g.text,G=["mord"],Q=k==="math"||k==="text"&&f.font,ge=Q?f.font:f.fontFamily;let Ne="",We="";if(D.charCodeAt(0)===55349&&([Ne,We]=kr(D,k)),Ne.length>0)return Or(D,Ne,k,f,G.concat(We));if(ge){let ot,dt;if(ge==="boldsymbol"){const wt=me(D,k,f,G,b);ot=wt.fontName,dt=[wt.fontClass]}else Q?(ot=oe[ge].fontName,dt=[ge]):(ot=V(ge,f.fontWeight,f.fontShape),dt=[ge,f.fontWeight,f.fontShape]);if(ui(D,ot,k).metrics)return Or(D,ot,k,f,G.concat(dt));if(In.hasOwnProperty(D)&&ot.slice(0,10)==="Typewriter"){const wt=[];for(let Zt=0;Zt<D.length;Zt++)wt.push(Or(D[Zt],ot,k,f,G.concat(dt)));return Ks(wt)}}if(b==="mathord")return Or(D,"Math-Italic",k,f,G.concat(["mathnormal"]));if(b==="textord"){const ot=_r[k][D]&&_r[k][D].font;if(ot==="ams"){const dt=V("amsrm",f.fontWeight,f.fontShape);return Or(D,dt,k,f,G.concat("amsrm",f.fontWeight,f.fontShape))}else if(ot==="main"||!ot){const dt=V("textrm",f.fontWeight,f.fontShape);return Or(D,dt,k,f,G.concat(f.fontWeight,f.fontShape))}else{const dt=V(ot,f.fontWeight,f.fontShape);return Or(D,dt,k,f,G.concat(dt,f.fontWeight,f.fontShape))}}else throw new Error("unexpected type: "+b+" in makeOrd")},ms=(g,f)=>{if(ae(g.classes)!==ae(f.classes)||g.skew!==f.skew||g.maxFontSize!==f.maxFontSize)return!1;if(g.classes.length===1){const b=g.classes[0];if(b==="mbin"||b==="mord")return!1}for(const b in g.style)if(g.style.hasOwnProperty(b)&&g.style[b]!==f.style[b])return!1;for(const b in f.style)if(f.style.hasOwnProperty(b)&&g.style[b]!==f.style[b])return!1;return!0},gr=g=>{for(let f=0;f<g.length-1;f++){const b=g[f],k=g[f+1];b instanceof j&&k instanceof j&&ms(b,k)&&(b.text+=k.text,b.height=Math.max(b.height,k.height),b.depth=Math.max(b.depth,k.depth),b.italic=k.italic,g.splice(f+1,1),f--)}return g},Fr=function(g){let f=0,b=0,k=0;for(let D=0;D<g.children.length;D++){const G=g.children[D];G.height>f&&(f=G.height),G.depth>b&&(b=G.depth),G.maxFontSize>k&&(k=G.maxFontSize)}g.height=f,g.depth=b,g.maxFontSize=k},_n=function(g,f,b,k){const D=new Ar(g,f,b,k);return Fr(D),D},sr=(g,f,b,k)=>new Ar(g,f,b,k),Wr=function(g,f,b){const k=_n([g],[],f);return k.height=Math.max(b||f.fontMetrics().defaultRuleThickness,f.minRuleThickness),k.style.borderBottomWidth=L(k.height),k.maxFontSize=1,k},xa=function(g,f,b,k){const D=new Y(g,f,b,k);return Fr(D),D},Ks=function(g){const f=new Rs(g);return Fr(f),f},Qn=function(g,f){return g instanceof Rs?_n([],[g],f):g},d=function(g){if(g.positionType==="individualShift"){const b=g.children,k=[b[0]],D=-b[0].shift-b[0].elem.depth;let G=D;for(let Q=1;Q<b.length;Q++){const ge=-b[Q].shift-G-b[Q].elem.depth,Ne=ge-(b[Q-1].elem.height+b[Q-1].elem.depth);G=G+ge,k.push({type:"kern",size:Ne}),k.push(b[Q])}return{children:k,depth:D}}let f;if(g.positionType==="top"){let b=g.positionData;for(let k=0;k<g.children.length;k++){const D=g.children[k];b-=D.type==="kern"?D.size:D.elem.height+D.elem.depth}f=b}else if(g.positionType==="bottom")f=-g.positionData;else{const b=g.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(g.positionType==="shift")f=-b.elem.depth-g.positionData;else if(g.positionType==="firstBaseline")f=-b.elem.depth;else throw new Error("Invalid positionType "+g.positionType+".")}return{children:g.children,depth:f}},C=function(g,f){const{children:b,depth:k}=d(g);let D=0;for(let Zt=0;Zt<b.length;Zt++){const wn=b[Zt];if(wn.type==="elem"){const Rn=wn.elem;D=Math.max(D,Rn.maxFontSize,Rn.height)}}D+=2;const G=_n(["pstrut"],[]);G.style.height=L(D);const Q=[];let ge=k,Ne=k,We=k;for(let Zt=0;Zt<b.length;Zt++){const wn=b[Zt];if(wn.type==="kern")We+=wn.size;else{const Rn=wn.elem,Lr=wn.wrapperClasses||[],vr=wn.wrapperStyle||{},wr=_n(Lr,[G,Rn],void 0,vr);wr.style.top=L(-D-We-Rn.depth),wn.marginLeft&&(wr.style.marginLeft=wn.marginLeft),wn.marginRight&&(wr.style.marginRight=wn.marginRight),Q.push(wr),We+=Rn.height+Rn.depth}ge=Math.min(ge,We),Ne=Math.max(Ne,We)}const ot=_n(["vlist"],Q);ot.style.height=L(Ne);let dt;if(ge<0){const Zt=_n([],[]),wn=_n(["vlist"],[Zt]);wn.style.height=L(-ge);const Rn=_n(["vlist-s"],[new j("")]);dt=[_n(["vlist-r"],[ot,Rn]),_n(["vlist-r"],[wn])]}else dt=[_n(["vlist-r"],[ot])];const wt=_n(["vlist-t"],dt);return dt.length===2&&wt.classes.push("vlist-t2"),wt.height=Ne,wt.depth=-ge,wt},P=(g,f)=>{const b=_n(["mspace"],[],f),k=xt(g,f);return b.style.marginRight=L(k),b},V=function(g,f,b){let k="";switch(g){case"amsrm":k="AMS";break;case"textrm":k="Main";break;case"textsf":k="SansSerif";break;case"texttt":k="Typewriter";break;default:k=g}let D;return f==="textbf"&&b==="textit"?D="BoldItalic":f==="textbf"?D="Bold":f==="textit"?D="Italic":D="Regular",k+"-"+D},oe={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},fe={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var be={fontMap:oe,makeSymbol:Or,mathsym:tn,makeSpan:_n,makeSvgSpan:sr,makeLineSpan:Wr,makeAnchor:xa,makeFragment:Ks,wrapFragment:Qn,makeVList:C,makeOrd:Ni,makeGlue:P,staticSvg:function(g,f){const[b,k,D]=fe[g],G=new Fe(b),Q=new Ee([G],{width:L(k),height:L(D),style:"width:"+L(k),viewBox:"0 0 "+1e3*k+" "+1e3*D,preserveAspectRatio:"xMinYMin"}),ge=sr(["overlay"],[Q],f);return ge.height=D,ge.style.height=L(D),ge.style.width=L(k),ge},svgData:fe,tryCombineChars:gr};const pt={number:3,unit:"mu"},At={number:4,unit:"mu"},Tt={number:5,unit:"mu"},gn={mord:{mop:pt,mbin:At,mrel:Tt,minner:pt},mop:{mord:pt,mop:pt,mrel:Tt,minner:pt},mbin:{mord:At,mop:At,mopen:At,minner:At},mrel:{mord:Tt,mop:Tt,mopen:Tt,minner:Tt},mopen:{},mclose:{mop:pt,mbin:At,mrel:Tt,minner:pt},mpunct:{mord:pt,mop:pt,mrel:Tt,mopen:pt,mclose:pt,mpunct:pt,minner:pt},minner:{mord:pt,mop:pt,mbin:At,mrel:Tt,mopen:pt,mpunct:pt,minner:pt}},jt={mord:{mop:pt},mop:{mord:pt,mop:pt},mbin:{},mrel:{},mopen:{},mclose:{mop:pt},mpunct:{},minner:{mop:pt}},on={},An={},yn={};function zt(g){let{type:f,names:b,props:k,handler:D,htmlBuilder:G,mathmlBuilder:Q}=g;const ge={type:f,numArgs:k.numArgs,argTypes:k.argTypes,allowedInArgument:!!k.allowedInArgument,allowedInText:!!k.allowedInText,allowedInMath:k.allowedInMath===void 0?!0:k.allowedInMath,numOptionalArgs:k.numOptionalArgs||0,infix:!!k.infix,primitive:!!k.primitive,handler:D};for(let Ne=0;Ne<b.length;++Ne)on[b[Ne]]=ge;f&&(G&&(An[f]=G),Q&&(yn[f]=Q))}function or(g){let{type:f,htmlBuilder:b,mathmlBuilder:k}=g;zt({type:f,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:b,mathmlBuilder:k})}const Vn=function(g){return g.type==="ordgroup"&&g.body.length===1?g.body[0]:g},er=function(g){return g.type==="ordgroup"?g.body:[g]},Ur=be.makeSpan,ar=["leftmost","mbin","mopen","mrel","mop","mpunct"],ni=["rightmost","mrel","mclose","mpunct"],Js={display:de.DISPLAY,text:de.TEXT,script:de.SCRIPT,scriptscript:de.SCRIPTSCRIPT},ls={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Gn=function(g,f,b,k){k===void 0&&(k=[null,null]);const D=[];for(let We=0;We<g.length;We++){const ot=Kn(g[We],f);if(ot instanceof Rs){const dt=ot.children;D.push(...dt)}else D.push(ot)}if(be.tryCombineChars(D),!b)return D;let G=f;if(g.length===1){const We=g[0];We.type==="sizing"?G=f.havingSize(We.size):We.type==="styling"&&(G=f.havingStyle(Js[We.style]))}const Q=Ur([k[0]||"leftmost"],[],f),ge=Ur([k[1]||"rightmost"],[],f),Ne=b==="root";return ci(D,(We,ot)=>{const dt=ot.classes[0],wt=We.classes[0];dt==="mbin"&&ni.includes(wt)?ot.classes[0]="mord":wt==="mbin"&&ar.includes(dt)&&(We.classes[0]="mord")},{node:Q},ge,Ne),ci(D,(We,ot)=>{const dt=rs(ot),wt=rs(We),Zt=dt&&wt?We.hasClass("mtight")?jt[dt][wt]:gn[dt][wt]:null;if(Zt)return be.makeGlue(Zt,G)},{node:Q},ge,Ne),D},ci=function(g,f,b,k,D){k&&g.push(k);let G=0;for(;G<g.length;G++){const Q=g[G],ge=Mi(Q);if(ge){ci(ge.children,f,b,null,D);continue}const Ne=!Q.hasClass("mspace");if(Ne){const We=f(Q,b.node);We&&(b.insertAfter?b.insertAfter(We):(g.unshift(We),G++))}Ne?b.node=Q:D&&Q.hasClass("newline")&&(b.node=Ur(["leftmost"])),b.insertAfter=(We=>ot=>{g.splice(We+1,0,ot),G++})(G)}k&&g.pop()},Mi=function(g){return g instanceof Rs||g instanceof Y||g instanceof Ar&&g.hasClass("enclosing")?g:null},Hi=function(g,f){const b=Mi(g);if(b){const k=b.children;if(k.length){if(f==="right")return Hi(k[k.length-1],"right");if(f==="left")return Hi(k[0],"left")}}return g},rs=function(g,f){return g?(f&&(g=Hi(g,f)),ls[g.classes[0]]||null):null},ri=function(g,f){const b=["nulldelimiter"].concat(g.baseSizingClasses());return Ur(f.concat(b))},Kn=function(g,f,b){if(!g)return Ur();if(An[g.type]){let k=An[g.type](g,f);if(b&&f.size!==b.size){k=Ur(f.sizingClasses(b),[k],f);const D=f.sizeMultiplier/b.sizeMultiplier;k.height*=D,k.depth*=D}return k}else throw new p("Got group of unknown type: '"+g.type+"'")};function Zr(g,f){const b=Ur(["base"],g,f),k=Ur(["strut"]);return k.style.height=L(b.height+b.depth),b.depth&&(k.style.verticalAlign=L(-b.depth)),b.children.unshift(k),b}function bi(g,f){let b=null;g.length===1&&g[0].type==="tag"&&(b=g[0].tag,g=g[0].body);const k=Gn(g,f,"root");let D;k.length===2&&k[1].hasClass("tag")&&(D=k.pop());const G=[];let Q=[];for(let We=0;We<k.length;We++)if(Q.push(k[We]),k[We].hasClass("mbin")||k[We].hasClass("mrel")||k[We].hasClass("allowbreak")){let ot=!1;for(;We<k.length-1&&k[We+1].hasClass("mspace")&&!k[We+1].hasClass("newline");)We++,Q.push(k[We]),k[We].hasClass("nobreak")&&(ot=!0);ot||(G.push(Zr(Q,f)),Q=[])}else k[We].hasClass("newline")&&(Q.pop(),Q.length>0&&(G.push(Zr(Q,f)),Q=[]),G.push(k[We]));Q.length>0&&G.push(Zr(Q,f));let ge;b?(ge=Zr(Gn(b,f,!0)),ge.classes=["tag"],G.push(ge)):D&&G.push(D);const Ne=Ur(["katex-html"],G);if(Ne.setAttribute("aria-hidden","true"),ge){const We=ge.children[0];We.style.height=L(Ne.height+Ne.depth),Ne.depth&&(We.style.verticalAlign=L(-Ne.depth))}return Ne}function po(g){return new Rs(g)}class ii{constructor(f,b,k){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=f,this.attributes={},this.children=b||[],this.classes=k||[]}setAttribute(f,b){this.attributes[f]=b}getAttribute(f){return this.attributes[f]}toNode(){const f=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const b in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,b)&&f.setAttribute(b,this.attributes[b]);this.classes.length>0&&(f.className=ae(this.classes));for(let b=0;b<this.children.length;b++)if(this.children[b]instanceof Us&&this.children[b+1]instanceof Us){let k=this.children[b].toText()+this.children[++b].toText();for(;this.children[b+1]instanceof Us;)k+=this.children[++b].toText();f.appendChild(new Us(k).toNode())}else f.appendChild(this.children[b].toNode());return f}toMarkup(){let f="<"+this.type;for(const b in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,b)&&(f+=" "+b+'="',f+=ce.escape(this.attributes[b]),f+='"');this.classes.length>0&&(f+=' class ="'+ce.escape(ae(this.classes))+'"'),f+=">";for(let b=0;b<this.children.length;b++)f+=this.children[b].toMarkup();return f+="</"+this.type+">",f}toText(){return this.children.map(f=>f.toText()).join("")}}class Us{constructor(f){this.text=void 0,this.text=f}toNode(){return document.createTextNode(this.text)}toMarkup(){return ce.escape(this.toText())}toText(){return this.text}}class wo{constructor(f){this.width=void 0,this.character=void 0,this.width=f,f>=.05555&&f<=.05556?this.character="":f>=.1666&&f<=.1667?this.character="":f>=.2222&&f<=.2223?this.character="":f>=.2777&&f<=.2778?this.character="":f>=-.05556&&f<=-.05555?this.character="":f>=-.1667&&f<=-.1666?this.character="":f>=-.2223&&f<=-.2222?this.character="":f>=-.2778&&f<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const f=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return f.setAttribute("width",L(this.width)),f}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+L(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Jt={MathNode:ii,TextNode:Us,SpaceNode:wo,newDocumentFragment:po};const Oi=function(g,f,b){return _r[f][g]&&_r[f][g].replace&&g.charCodeAt(0)!==55349&&!(In.hasOwnProperty(g)&&b&&(b.fontFamily&&b.fontFamily.slice(4,6)==="tt"||b.font&&b.font.slice(4,6)==="tt"))&&(g=_r[f][g].replace),new Jt.TextNode(g)},ji=function(g){return g.length===1?g[0]:new Jt.MathNode("mrow",g)},n0=function(g,f){if(f.fontFamily==="texttt")return"monospace";if(f.fontFamily==="textsf")return f.fontShape==="textit"&&f.fontWeight==="textbf"?"sans-serif-bold-italic":f.fontShape==="textit"?"sans-serif-italic":f.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(f.fontShape==="textit"&&f.fontWeight==="textbf")return"bold-italic";if(f.fontShape==="textit")return"italic";if(f.fontWeight==="textbf")return"bold";const b=f.font;if(!b||b==="mathnormal")return null;const k=g.mode;if(b==="mathit")return"italic";if(b==="boldsymbol")return g.type==="textord"?"bold":"bold-italic";if(b==="mathbf")return"bold";if(b==="mathbb")return"double-struck";if(b==="mathsfit")return"sans-serif-italic";if(b==="mathfrak")return"fraktur";if(b==="mathscr"||b==="mathcal")return"script";if(b==="mathsf")return"sans-serif";if(b==="mathtt")return"monospace";let D=g.text;if(["\\imath","\\jmath"].includes(D))return null;_r[k][D]&&_r[k][D].replace&&(D=_r[k][D].replace);const G=be.fontMap[b].fontName;return es(D,G,k)?be.fontMap[b].variant:null};function r0(g){if(!g)return!1;if(g.type==="mi"&&g.children.length===1){const f=g.children[0];return f instanceof Us&&f.text==="."}else if(g.type==="mo"&&g.children.length===1&&g.getAttribute("separator")==="true"&&g.getAttribute("lspace")==="0em"&&g.getAttribute("rspace")==="0em"){const f=g.children[0];return f instanceof Us&&f.text===","}else return!1}const zs=function(g,f,b){if(g.length===1){const G=Yr(g[0],f);return b&&G instanceof ii&&G.type==="mo"&&(G.setAttribute("lspace","0em"),G.setAttribute("rspace","0em")),[G]}const k=[];let D;for(let G=0;G<g.length;G++){const Q=Yr(g[G],f);if(Q instanceof ii&&D instanceof ii){if(Q.type==="mtext"&&D.type==="mtext"&&Q.getAttribute("mathvariant")===D.getAttribute("mathvariant")){D.children.push(...Q.children);continue}else if(Q.type==="mn"&&D.type==="mn"){D.children.push(...Q.children);continue}else if(r0(Q)&&D.type==="mn"){D.children.push(...Q.children);continue}else if(Q.type==="mn"&&r0(D))Q.children=[...D.children,...Q.children],k.pop();else if((Q.type==="msup"||Q.type==="msub")&&Q.children.length>=1&&(D.type==="mn"||r0(D))){const ge=Q.children[0];ge instanceof ii&&ge.type==="mn"&&(ge.children=[...D.children,...ge.children],k.pop())}else if(D.type==="mi"&&D.children.length===1){const ge=D.children[0];if(ge instanceof Us&&ge.text===""&&(Q.type==="mo"||Q.type==="mi"||Q.type==="mn")){const Ne=Q.children[0];Ne instanceof Us&&Ne.text.length>0&&(Ne.text=Ne.text.slice(0,1)+""+Ne.text.slice(1),k.pop())}}}k.push(Q),D=Q}return k},Ls=function(g,f,b){return ji(zs(g,f,b))},Yr=function(g,f){if(!g)return new Jt.MathNode("mrow");if(yn[g.type])return yn[g.type](g,f);throw new p("Got group of unknown type: '"+g.type+"'")};function Cs(g,f,b,k,D){const G=zs(g,b);let Q;G.length===1&&G[0]instanceof ii&&["mrow","mtable"].includes(G[0].type)?Q=G[0]:Q=new Jt.MathNode("mrow",G);const ge=new Jt.MathNode("annotation",[new Jt.TextNode(f)]);ge.setAttribute("encoding","application/x-tex");const Ne=new Jt.MathNode("semantics",[Q,ge]),We=new Jt.MathNode("math",[Ne]);We.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),k&&We.setAttribute("display","block");const ot=D?"katex":"katex-mathml";return be.makeSpan([ot],[We])}const Wo=function(g){return new Be({style:g.displayMode?de.DISPLAY:de.TEXT,maxSize:g.maxSize,minRuleThickness:g.minRuleThickness})},Ol=function(g,f){if(f.displayMode){const b=["katex-display"];f.leqno&&b.push("leqno"),f.fleqn&&b.push("fleqn"),g=be.makeSpan(b,[g])}return g},Rl=function(g,f,b){const k=Wo(b);let D;if(b.output==="mathml")return Cs(g,f,k,b.displayMode,!0);if(b.output==="html"){const G=bi(g,k);D=be.makeSpan(["katex"],[G])}else{const G=Cs(g,f,k,b.displayMode,!1),Q=bi(g,k);D=be.makeSpan(["katex"],[G,Q])}return Ol(D,b)},Ll=function(g,f,b){const k=Wo(b),D=bi(g,k),G=be.makeSpan(["katex"],[D]);return Ol(G,b)},ou={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},mo=function(g){const f=new Jt.MathNode("mo",[new Jt.TextNode(ou[g.replace(/^\\/,"")])]);return f.setAttribute("stretchy","true"),f},Yc={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Kc=function(g){return g.type==="ordgroup"?g.body.length:1};var cl={encloseSpan:function(g,f,b,k,D){let G;const Q=g.height+g.depth+b+k;if(/fbox|color|angl/.test(f)){if(G=be.makeSpan(["stretchy",f],[],D),f==="fbox"){const ge=D.color&&D.getColor();ge&&(G.style.borderColor=ge)}}else{const ge=[];/^[bx]cancel$/.test(f)&&ge.push(new Mt({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(f)&&ge.push(new Mt({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const Ne=new Ee(ge,{width:"100%",height:L(Q)});G=be.makeSvgSpan([],[Ne],D)}return G.height=Q,G.style.height=L(Q),G},mathMLnode:mo,svgSpan:function(g,f){function b(){let Q=4e5;const ge=g.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(ge)){const We=Kc(g.base);let ot,dt,wt;if(We>5)ge==="widehat"||ge==="widecheck"?(ot=420,Q=2364,wt=.42,dt=ge+"4"):(ot=312,Q=2340,wt=.34,dt="tilde4");else{const Rn=[1,1,2,2,3,3][We];ge==="widehat"||ge==="widecheck"?(Q=[0,1062,2364,2364,2364][Rn],ot=[0,239,300,360,420][Rn],wt=[0,.24,.3,.3,.36,.42][Rn],dt=ge+Rn):(Q=[0,600,1033,2339,2340][Rn],ot=[0,260,286,306,312][Rn],wt=[0,.26,.286,.3,.306,.34][Rn],dt="tilde"+Rn)}const Zt=new Fe(dt),wn=new Ee([Zt],{width:"100%",height:L(wt),viewBox:"0 0 "+Q+" "+ot,preserveAspectRatio:"none"});return{span:be.makeSvgSpan([],[wn],f),minWidth:0,height:wt}}else{const Ne=[],We=Yc[ge],[ot,dt,wt]=We,Zt=wt/1e3,wn=ot.length;let Rn,Lr;if(wn===1){const vr=We[3];Rn=["hide-tail"],Lr=[vr]}else if(wn===2)Rn=["halfarrow-left","halfarrow-right"],Lr=["xMinYMin","xMaxYMin"];else if(wn===3)Rn=["brace-left","brace-center","brace-right"],Lr=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+wn+" children.");for(let vr=0;vr<wn;vr++){const wr=new Fe(ot[vr]),di=new Ee([wr],{width:"400em",height:L(Zt),viewBox:"0 0 "+Q+" "+wt,preserveAspectRatio:Lr[vr]+" slice"}),Jr=be.makeSvgSpan([Rn[vr]],[di],f);if(wn===1)return{span:Jr,minWidth:dt,height:Zt};Jr.style.height=L(Zt),Ne.push(Jr)}return{span:be.makeSpan(["stretchy"],Ne,f),minWidth:dt,height:Zt}}}const{span:k,minWidth:D,height:G}=b();return k.height=G,k.style.height=L(G),D>0&&(k.style.minWidth=L(D)),k}};function br(g,f){if(!g||g.type!==f)throw new Error("Expected node of type "+f+", but got "+(g?"node of type "+g.type:String(g)));return g}function lu(g){const f=W0(g);if(!f)throw new Error("Expected node of symbol group type, but got "+(g?"node of type "+g.type:String(g)));return f}function W0(g){return g&&(g.type==="atom"||xs.hasOwnProperty(g.type))?g:null}const Ca=(g,f)=>{let b,k,D;g&&g.type==="supsub"?(k=br(g.base,"accent"),b=k.base,g.base=b,D=Mn(Kn(g,f)),g.base=k):(k=br(g,"accent"),b=k.base);const G=Kn(b,f.havingCrampedStyle()),Q=k.isShifty&&ce.isCharacterBox(b);let ge=0;if(Q){const wt=ce.getBaseElem(b),Zt=Kn(wt,f.havingCrampedStyle());ge=dn(Zt).skew}const Ne=k.label==="\\c";let We=Ne?G.height+G.depth:Math.min(G.height,f.fontMetrics().xHeight),ot;if(k.isStretchy)ot=cl.svgSpan(k,f),ot=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:G},{type:"elem",elem:ot,wrapperClasses:["svg-align"],wrapperStyle:ge>0?{width:"calc(100% - "+L(2*ge)+")",marginLeft:L(2*ge)}:void 0}]},f);else{let wt,Zt;k.label==="\\vec"?(wt=be.staticSvg("vec",f),Zt=be.svgData.vec[1]):(wt=be.makeOrd({mode:k.mode,text:k.label},f,"textord"),wt=dn(wt),wt.italic=0,Zt=wt.width,Ne&&(We+=wt.depth)),ot=be.makeSpan(["accent-body"],[wt]);const wn=k.label==="\\textcircled";wn&&(ot.classes.push("accent-full"),We=G.height);let Rn=ge;wn||(Rn-=Zt/2),ot.style.left=L(Rn),k.label==="\\textcircled"&&(ot.style.top=".2em"),ot=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:G},{type:"kern",size:-We},{type:"elem",elem:ot}]},f)}const dt=be.makeSpan(["mord","accent"],[ot],f);return D?(D.children[0]=dt,D.height=Math.max(dt.height,D.height),D.classes[0]="mord",D):dt},Qu=(g,f)=>{const b=g.isStretchy?cl.mathMLnode(g.label):new Jt.MathNode("mo",[Oi(g.label,g.mode)]),k=new Jt.MathNode("mover",[Yr(g.base,f),b]);return k.setAttribute("accent","true"),k},$0=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(g=>"\\"+g).join("|"));zt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(g,f)=>{const b=Vn(f[0]),k=!$0.test(g.funcName),D=!k||g.funcName==="\\widehat"||g.funcName==="\\widetilde"||g.funcName==="\\widecheck";return{type:"accent",mode:g.parser.mode,label:g.funcName,isStretchy:k,isShifty:D,base:b}},htmlBuilder:Ca,mathmlBuilder:Qu}),zt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(g,f)=>{const b=f[0];let k=g.parser.mode;return k==="math"&&(g.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+g.funcName+" works only in text mode"),k="text"),{type:"accent",mode:k,label:g.funcName,isStretchy:!1,isShifty:!0,base:b}},htmlBuilder:Ca,mathmlBuilder:Qu}),zt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(g,f)=>{let{parser:b,funcName:k}=g;const D=f[0];return{type:"accentUnder",mode:b.mode,label:k,base:D}},htmlBuilder:(g,f)=>{const b=Kn(g.base,f),k=cl.svgSpan(g,f),D=g.label==="\\utilde"?.12:0,G=be.makeVList({positionType:"top",positionData:b.height,children:[{type:"elem",elem:k,wrapperClasses:["svg-align"]},{type:"kern",size:D},{type:"elem",elem:b}]},f);return be.makeSpan(["mord","accentunder"],[G],f)},mathmlBuilder:(g,f)=>{const b=cl.mathMLnode(g.label),k=new Jt.MathNode("munder",[Yr(g.base,f),b]);return k.setAttribute("accentunder","true"),k}});const b0=g=>{const f=new Jt.MathNode("mpadded",g?[g]:[]);return f.setAttribute("width","+0.6em"),f.setAttribute("lspace","0.3em"),f};zt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(g,f,b){let{parser:k,funcName:D}=g;return{type:"xArrow",mode:k.mode,label:D,body:f[0],below:b[0]}},htmlBuilder(g,f){const b=f.style;let k=f.havingStyle(b.sup());const D=be.wrapFragment(Kn(g.body,k,f),f),G=g.label.slice(0,2)==="\\x"?"x":"cd";D.classes.push(G+"-arrow-pad");let Q;g.below&&(k=f.havingStyle(b.sub()),Q=be.wrapFragment(Kn(g.below,k,f),f),Q.classes.push(G+"-arrow-pad"));const ge=cl.svgSpan(g,f),Ne=-f.fontMetrics().axisHeight+.5*ge.height;let We=-f.fontMetrics().axisHeight-.5*ge.height-.111;(D.depth>.25||g.label==="\\xleftequilibrium")&&(We-=D.depth);let ot;if(Q){const dt=-f.fontMetrics().axisHeight+Q.height+.5*ge.height+.111;ot=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:D,shift:We},{type:"elem",elem:ge,shift:Ne},{type:"elem",elem:Q,shift:dt}]},f)}else ot=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:D,shift:We},{type:"elem",elem:ge,shift:Ne}]},f);return ot.children[0].children[0].children[1].classes.push("svg-align"),be.makeSpan(["mrel","x-arrow"],[ot],f)},mathmlBuilder(g,f){const b=cl.mathMLnode(g.label);b.setAttribute("minsize",g.label.charAt(0)==="x"?"1.75em":"3.0em");let k;if(g.body){const D=b0(Yr(g.body,f));if(g.below){const G=b0(Yr(g.below,f));k=new Jt.MathNode("munderover",[b,G,D])}else k=new Jt.MathNode("mover",[b,D])}else if(g.below){const D=b0(Yr(g.below,f));k=new Jt.MathNode("munder",[b,D])}else k=b0(),k=new Jt.MathNode("mover",[b,k]);return k}});const Jc=be.makeSpan;function v0(g,f){const b=Gn(g.body,f,!0);return Jc([g.mclass],b,f)}function ka(g,f){let b;const k=zs(g.body,f);return g.mclass==="minner"?b=new Jt.MathNode("mpadded",k):g.mclass==="mord"?g.isCharacterBox?(b=k[0],b.type="mi"):b=new Jt.MathNode("mi",k):(g.isCharacterBox?(b=k[0],b.type="mo"):b=new Jt.MathNode("mo",k),g.mclass==="mbin"?(b.attributes.lspace="0.22em",b.attributes.rspace="0.22em"):g.mclass==="mpunct"?(b.attributes.lspace="0em",b.attributes.rspace="0.17em"):g.mclass==="mopen"||g.mclass==="mclose"?(b.attributes.lspace="0em",b.attributes.rspace="0em"):g.mclass==="minner"&&(b.attributes.lspace="0.0556em",b.attributes.width="+0.1111em")),b}zt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(g,f){let{parser:b,funcName:k}=g;const D=f[0];return{type:"mclass",mode:b.mode,mclass:"m"+k.slice(5),body:er(D),isCharacterBox:ce.isCharacterBox(D)}},htmlBuilder:v0,mathmlBuilder:ka});const q0=g=>{const f=g.type==="ordgroup"&&g.body.length?g.body[0]:g;return f.type==="atom"&&(f.family==="bin"||f.family==="rel")?"m"+f.family:"mord"};zt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(g,f){let{parser:b}=g;return{type:"mclass",mode:b.mode,mclass:q0(f[0]),body:er(f[1]),isCharacterBox:ce.isCharacterBox(f[1])}}}),zt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(g,f){let{parser:b,funcName:k}=g;const D=f[1],G=f[0];let Q;k!=="\\stackrel"?Q=q0(D):Q="mrel";const ge={type:"op",mode:D.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:k!=="\\stackrel",body:er(D)},Ne={type:"supsub",mode:G.mode,base:ge,sup:k==="\\underset"?null:G,sub:k==="\\underset"?G:null};return{type:"mclass",mode:b.mode,mclass:Q,body:[Ne],isCharacterBox:ce.isCharacterBox(Ne)}},htmlBuilder:v0,mathmlBuilder:ka}),zt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(g,f){let{parser:b}=g;return{type:"pmb",mode:b.mode,mclass:q0(f[0]),body:er(f[0])}},htmlBuilder(g,f){const b=Gn(g.body,f,!0),k=be.makeSpan([g.mclass],b,f);return k.style.textShadow="0.02em 0.01em 0.04px",k},mathmlBuilder(g,f){const b=zs(g.body,f),k=new Jt.MathNode("mstyle",b);return k.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),k}});const ec={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},T0=()=>({type:"styling",body:[],mode:"math",style:"display"}),Dl=g=>g.type==="textord"&&g.text==="@",tc=(g,f)=>(g.type==="mathord"||g.type==="atom")&&g.text===f;function nc(g,f,b){const k=ec[g];switch(k){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return b.callFunction(k,[f[0]],[f[1]]);case"\\uparrow":case"\\downarrow":{const D=b.callFunction("\\\\cdleft",[f[0]],[]),G={type:"atom",text:k,mode:"math",family:"rel"},Q=b.callFunction("\\Big",[G],[]),ge=b.callFunction("\\\\cdright",[f[1]],[]),Ne={type:"ordgroup",mode:"math",body:[D,Q,ge]};return b.callFunction("\\\\cdparent",[Ne],[])}case"\\\\cdlongequal":return b.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const D={type:"textord",text:"\\Vert",mode:"math"};return b.callFunction("\\Big",[D],[])}default:return{type:"textord",text:" ",mode:"math"}}}function au(g){const f=[];for(g.gullet.beginGroup(),g.gullet.macros.set("\\cr","\\\\\\relax"),g.gullet.beginGroup();;){f.push(g.parseExpression(!1,"\\\\")),g.gullet.endGroup(),g.gullet.beginGroup();const G=g.fetch().text;if(G==="&"||G==="\\\\")g.consume();else if(G==="\\end"){f[f.length-1].length===0&&f.pop();break}else throw new p("Expected \\\\ or \\cr or \\end",g.nextToken)}let b=[];const k=[b];for(let G=0;G<f.length;G++){const Q=f[G];let ge=T0();for(let Ne=0;Ne<Q.length;Ne++)if(!Dl(Q[Ne]))ge.body.push(Q[Ne]);else{b.push(ge),Ne+=1;const We=lu(Q[Ne]).text,ot=new Array(2);if(ot[0]={type:"ordgroup",mode:"math",body:[]},ot[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(We)>-1))if("<>AV".indexOf(We)>-1)for(let Zt=0;Zt<2;Zt++){let wn=!0;for(let Rn=Ne+1;Rn<Q.length;Rn++){if(tc(Q[Rn],We)){wn=!1,Ne=Rn;break}if(Dl(Q[Rn]))throw new p("Missing a "+We+" character to complete a CD arrow.",Q[Rn]);ot[Zt].body.push(Q[Rn])}if(wn)throw new p("Missing a "+We+" character to complete a CD arrow.",Q[Ne])}else throw new p('Expected one of "<>AV=|." after @',Q[Ne]);const wt={type:"styling",body:[nc(We,ot,g)],mode:"math",style:"display"};b.push(wt),ge=T0()}G%2===0?b.push(ge):b.shift(),b=[],k.push(b)}g.gullet.endGroup(),g.gullet.endGroup();const D=new Array(k[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:k,arraystretch:1,addJot:!0,rowGaps:[null],cols:D,colSeparationType:"CD",hLinesBeforeRow:new Array(k.length+1).fill([])}}zt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(g,f){let{parser:b,funcName:k}=g;return{type:"cdlabel",mode:b.mode,side:k.slice(4),label:f[0]}},htmlBuilder(g,f){const b=f.havingStyle(f.style.sup()),k=be.wrapFragment(Kn(g.label,b,f),f);return k.classes.push("cd-label-"+g.side),k.style.bottom=L(.8-k.depth),k.height=0,k.depth=0,k},mathmlBuilder(g,f){let b=new Jt.MathNode("mrow",[Yr(g.label,f)]);return b=new Jt.MathNode("mpadded",[b]),b.setAttribute("width","0"),g.side==="left"&&b.setAttribute("lspace","-1width"),b.setAttribute("voffset","0.7em"),b=new Jt.MathNode("mstyle",[b]),b.setAttribute("displaystyle","false"),b.setAttribute("scriptlevel","1"),b}}),zt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(g,f){let{parser:b}=g;return{type:"cdlabelparent",mode:b.mode,fragment:f[0]}},htmlBuilder(g,f){const b=be.wrapFragment(Kn(g.fragment,f),f);return b.classes.push("cd-vert-arrow"),b},mathmlBuilder(g,f){return new Jt.MathNode("mrow",[Yr(g.fragment,f)])}}),zt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(g,f){let{parser:b}=g;const D=br(f[0],"ordgroup").body;let G="";for(let Ne=0;Ne<D.length;Ne++){const We=br(D[Ne],"textord");G+=We.text}let Q=parseInt(G),ge;if(isNaN(Q))throw new p("\\@char has non-numeric argument "+G);if(Q<0||Q>=1114111)throw new p("\\@char with invalid code point "+G);return Q<=65535?ge=String.fromCharCode(Q):(Q-=65536,ge=String.fromCharCode((Q>>10)+55296,(Q&1023)+56320)),{type:"textord",mode:b.mode,text:ge}}});const Ia=(g,f)=>{const b=Gn(g.body,f.withColor(g.color),!1);return be.makeFragment(b)},Aa=(g,f)=>{const b=zs(g.body,f.withColor(g.color)),k=new Jt.MathNode("mstyle",b);return k.setAttribute("mathcolor",g.color),k};zt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(g,f){let{parser:b}=g;const k=br(f[0],"color-token").color,D=f[1];return{type:"color",mode:b.mode,color:k,body:er(D)}},htmlBuilder:Ia,mathmlBuilder:Aa}),zt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(g,f){let{parser:b,breakOnTokenText:k}=g;const D=br(f[0],"color-token").color;b.gullet.macros.set("\\current@color",D);const G=b.parseExpression(!0,k);return{type:"color",mode:b.mode,color:D,body:G}},htmlBuilder:Ia,mathmlBuilder:Aa}),zt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(g,f,b){let{parser:k}=g;const D=k.gullet.future().text==="["?k.parseSizeGroup(!0):null,G=!k.settings.displayMode||!k.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:k.mode,newLine:G,size:D&&br(D,"size").value}},htmlBuilder(g,f){const b=be.makeSpan(["mspace"],[],f);return g.newLine&&(b.classes.push("newline"),g.size&&(b.style.marginTop=L(xt(g.size,f)))),b},mathmlBuilder(g,f){const b=new Jt.MathNode("mspace");return g.newLine&&(b.setAttribute("linebreak","newline"),g.size&&b.setAttribute("height",L(xt(g.size,f)))),b}});const X0={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Bl=g=>{const f=g.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(f))throw new p("Expected a control sequence",g);return f},Na=g=>{let f=g.gullet.popToken();return f.text==="="&&(f=g.gullet.popToken(),f.text===" "&&(f=g.gullet.popToken())),f},uu=(g,f,b,k)=>{let D=g.gullet.macros.get(b.text);D==null&&(b.noexpand=!0,D={tokens:[b],numArgs:0,unexpandable:!g.gullet.isExpandable(b.text)}),g.gullet.macros.set(f,D,k)};zt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(g){let{parser:f,funcName:b}=g;f.consumeSpaces();const k=f.fetch();if(X0[k.text])return(b==="\\global"||b==="\\\\globallong")&&(k.text=X0[k.text]),br(f.parseFunction(),"internal");throw new p("Invalid token after macro prefix",k)}}),zt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(g){let{parser:f,funcName:b}=g,k=f.gullet.popToken();const D=k.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(D))throw new p("Expected a control sequence",k);let G=0,Q;const ge=[[]];for(;f.gullet.future().text!=="{";)if(k=f.gullet.popToken(),k.text==="#"){if(f.gullet.future().text==="{"){Q=f.gullet.future(),ge[G].push("{");break}if(k=f.gullet.popToken(),!/^[1-9]$/.test(k.text))throw new p('Invalid argument number "'+k.text+'"');if(parseInt(k.text)!==G+1)throw new p('Argument number "'+k.text+'" out of order');G++,ge.push([])}else{if(k.text==="EOF")throw new p("Expected a macro definition");ge[G].push(k.text)}let{tokens:Ne}=f.gullet.consumeArg();return Q&&Ne.unshift(Q),(b==="\\edef"||b==="\\xdef")&&(Ne=f.gullet.expandTokens(Ne),Ne.reverse()),f.gullet.macros.set(D,{tokens:Ne,numArgs:G,delimiters:ge},b===X0[b]),{type:"internal",mode:f.mode}}}),zt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(g){let{parser:f,funcName:b}=g;const k=Bl(f.gullet.popToken());f.gullet.consumeSpaces();const D=Na(f);return uu(f,k,D,b==="\\\\globallet"),{type:"internal",mode:f.mode}}}),zt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(g){let{parser:f,funcName:b}=g;const k=Bl(f.gullet.popToken()),D=f.gullet.popToken(),G=f.gullet.popToken();return uu(f,k,G,b==="\\\\globalfuture"),f.gullet.pushToken(G),f.gullet.pushToken(D),{type:"internal",mode:f.mode}}});const hl=function(g,f,b){const k=_r.math[g]&&_r.math[g].replace,D=es(k||g,f,b);if(!D)throw new Error("Unsupported symbol "+g+" and font size "+f+".");return D},T=function(g,f,b,k){const D=b.havingBaseStyle(f),G=be.makeSpan(k.concat(D.sizingClasses(b)),[g],b),Q=D.sizeMultiplier/b.sizeMultiplier;return G.height*=Q,G.depth*=Q,G.maxFontSize=D.sizeMultiplier,G},N=function(g,f,b){const k=f.havingBaseStyle(b),D=(1-f.sizeMultiplier/k.sizeMultiplier)*f.fontMetrics().axisHeight;g.classes.push("delimcenter"),g.style.top=L(D),g.height-=D,g.depth+=D},le=function(g,f,b,k,D,G){const Q=be.makeSymbol(g,"Main-Regular",D,k),ge=T(Q,f,k,G);return b&&N(ge,k,f),ge},Te=function(g,f,b,k){return be.makeSymbol(g,"Size"+f+"-Regular",b,k)},Ue=function(g,f,b,k,D,G){const Q=Te(g,f,D,k),ge=T(be.makeSpan(["delimsizing","size"+f],[Q],k),de.TEXT,k,G);return b&&N(ge,k,de.TEXT),ge},Qe=function(g,f,b){let k;return f==="Size1-Regular"?k="delim-size1":k="delim-size4",{type:"elem",elem:be.makeSpan(["delimsizinginner",k],[be.makeSpan([],[be.makeSymbol(g,f,b)])])}},ht=function(g,f,b){const k=un["Size4-Regular"][g.charCodeAt(0)]?un["Size4-Regular"][g.charCodeAt(0)][4]:un["Size1-Regular"][g.charCodeAt(0)][4],D=new Fe("inner",Br(g,Math.round(1e3*f))),G=new Ee([D],{width:L(k),height:L(f),style:"width:"+L(k),viewBox:"0 0 "+1e3*k+" "+Math.round(1e3*f),preserveAspectRatio:"xMinYMin"}),Q=be.makeSvgSpan([],[G],b);return Q.height=f,Q.style.height=L(f),Q.style.width=L(k),{type:"elem",elem:Q}},Ct=.008,Wt={type:"kern",size:-1*Ct},Yt=["|","\\lvert","\\rvert","\\vert"],bn=["\\|","\\lVert","\\rVert","\\Vert"],Nt=function(g,f,b,k,D,G){let Q,ge,Ne,We,ot="",dt=0;Q=Ne=We=g,ge=null;let wt="Size1-Regular";g==="\\uparrow"?Ne=We="":g==="\\Uparrow"?Ne=We="":g==="\\downarrow"?Q=Ne="":g==="\\Downarrow"?Q=Ne="":g==="\\updownarrow"?(Q="\\uparrow",Ne="",We="\\downarrow"):g==="\\Updownarrow"?(Q="\\Uparrow",Ne="",We="\\Downarrow"):Yt.includes(g)?(Ne="",ot="vert",dt=333):bn.includes(g)?(Ne="",ot="doublevert",dt=556):g==="["||g==="\\lbrack"?(Q="",Ne="",We="",wt="Size4-Regular",ot="lbrack",dt=667):g==="]"||g==="\\rbrack"?(Q="",Ne="",We="",wt="Size4-Regular",ot="rbrack",dt=667):g==="\\lfloor"||g===""?(Ne=Q="",We="",wt="Size4-Regular",ot="lfloor",dt=667):g==="\\lceil"||g===""?(Q="",Ne=We="",wt="Size4-Regular",ot="lceil",dt=667):g==="\\rfloor"||g===""?(Ne=Q="",We="",wt="Size4-Regular",ot="rfloor",dt=667):g==="\\rceil"||g===""?(Q="",Ne=We="",wt="Size4-Regular",ot="rceil",dt=667):g==="("||g==="\\lparen"?(Q="",Ne="",We="",wt="Size4-Regular",ot="lparen",dt=875):g===")"||g==="\\rparen"?(Q="",Ne="",We="",wt="Size4-Regular",ot="rparen",dt=875):g==="\\{"||g==="\\lbrace"?(Q="",ge="",We="",Ne="",wt="Size4-Regular"):g==="\\}"||g==="\\rbrace"?(Q="",ge="",We="",Ne="",wt="Size4-Regular"):g==="\\lgroup"||g===""?(Q="",We="",Ne="",wt="Size4-Regular"):g==="\\rgroup"||g===""?(Q="",We="",Ne="",wt="Size4-Regular"):g==="\\lmoustache"||g===""?(Q="",We="",Ne="",wt="Size4-Regular"):(g==="\\rmoustache"||g==="")&&(Q="",We="",Ne="",wt="Size4-Regular");const Zt=hl(Q,wt,D),wn=Zt.height+Zt.depth,Rn=hl(Ne,wt,D),Lr=Rn.height+Rn.depth,vr=hl(We,wt,D),wr=vr.height+vr.depth;let di=0,Jr=1;if(ge!==null){const fi=hl(ge,wt,D);di=fi.height+fi.depth,Jr=2}const Gi=wn+wr+di,$s=Math.max(0,Math.ceil((f-Gi)/(Jr*Lr))),hs=Gi+$s*Jr*Lr;let bs=k.fontMetrics().axisHeight;b&&(bs*=k.sizeMultiplier);const Dr=hs/2-bs,vi=[];if(ot.length>0){const fi=hs-wn-wr,Ki=Math.round(hs*1e3),vo=mr(ot,Math.round(fi*1e3)),Q0=new Fe(ot,vo),pu=(dt/1e3).toFixed(3)+"em",fc=(Ki/1e3).toFixed(3)+"em",n1=new Ee([Q0],{width:pu,height:fc,viewBox:"0 0 "+dt+" "+Ki}),I0=be.makeSvgSpan([],[n1],k);I0.height=Ki/1e3,I0.style.width=pu,I0.style.height=fc,vi.push({type:"elem",elem:I0})}else{if(vi.push(Qe(We,wt,D)),vi.push(Wt),ge===null){const fi=hs-wn-wr+2*Ct;vi.push(ht(Ne,fi,k))}else{const fi=(hs-wn-wr-di)/2+2*Ct;vi.push(ht(Ne,fi,k)),vi.push(Wt),vi.push(Qe(ge,wt,D)),vi.push(Wt),vi.push(ht(Ne,fi,k))}vi.push(Wt),vi.push(Qe(Q,wt,D))}const Ti=k.havingBaseStyle(de.TEXT),Di=be.makeVList({positionType:"bottom",positionData:Dr,children:vi},Ti);return T(be.makeSpan(["delimsizing","mult"],[Di],Ti),de.TEXT,k,G)},jn=80,Fn=.08,Yn=function(g,f,b,k,D){const G=rn(g,k,b),Q=new Fe(g,G),ge=new Ee([Q],{width:"400em",height:L(f),viewBox:"0 0 400000 "+b,preserveAspectRatio:"xMinYMin slice"});return be.makeSvgSpan(["hide-tail"],[ge],D)},ir=function(g,f){const b=f.havingBaseSizing(),k=si("\\surd",g*b.sizeMultiplier,hi,b);let D=b.sizeMultiplier;const G=Math.max(0,f.minRuleThickness-f.fontMetrics().sqrtRuleThickness);let Q,ge=0,Ne=0,We=0,ot;return k.type==="small"?(We=1e3+1e3*G+jn,g<1?D=1:g<1.4&&(D=.7),ge=(1+G+Fn)/D,Ne=(1+G)/D,Q=Yn("sqrtMain",ge,We,G,f),Q.style.minWidth="0.853em",ot=.833/D):k.type==="large"?(We=(1e3+jn)*Dn[k.size],Ne=(Dn[k.size]+G)/D,ge=(Dn[k.size]+G+Fn)/D,Q=Yn("sqrtSize"+k.size,ge,We,G,f),Q.style.minWidth="1.02em",ot=1/D):(ge=g+G+Fn,Ne=g+G,We=Math.floor(1e3*g+G)+jn,Q=Yn("sqrtTall",ge,We,G,f),Q.style.minWidth="0.742em",ot=1.056),Q.height=Ne,Q.style.height=L(ge),{span:Q,advanceWidth:ot,ruleWidth:(f.fontMetrics().sqrtRuleThickness+G)*D}},Er=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],zr=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],nn=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Dn=[0,1.2,1.8,2.4,3],Rr=function(g,f,b,k,D){if(g==="<"||g==="\\lt"||g===""?g="\\langle":(g===">"||g==="\\gt"||g==="")&&(g="\\rangle"),Er.includes(g)||nn.includes(g))return Ue(g,f,!1,b,k,D);if(zr.includes(g))return Nt(g,Dn[f],!1,b,k,D);throw new p("Illegal delimiter: '"+g+"'")},ur=[{type:"small",style:de.SCRIPTSCRIPT},{type:"small",style:de.SCRIPT},{type:"small",style:de.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Kr=[{type:"small",style:de.SCRIPTSCRIPT},{type:"small",style:de.SCRIPT},{type:"small",style:de.TEXT},{type:"stack"}],hi=[{type:"small",style:de.SCRIPTSCRIPT},{type:"small",style:de.SCRIPT},{type:"small",style:de.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Qr=function(g){if(g.type==="small")return"Main-Regular";if(g.type==="large")return"Size"+g.size+"-Regular";if(g.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+g.type+"' here.")},si=function(g,f,b,k){const D=Math.min(2,3-k.style.size);for(let G=D;G<b.length&&b[G].type!=="stack";G++){const Q=hl(g,Qr(b[G]),"math");let ge=Q.height+Q.depth;if(b[G].type==="small"){const Ne=k.havingBaseStyle(b[G].style);ge*=Ne.sizeMultiplier}if(ge>f)return b[G]}return b[b.length-1]},ei=function(g,f,b,k,D,G){g==="<"||g==="\\lt"||g===""?g="\\langle":(g===">"||g==="\\gt"||g==="")&&(g="\\rangle");let Q;nn.includes(g)?Q=ur:Er.includes(g)?Q=hi:Q=Kr;const ge=si(g,f,Q,k);return ge.type==="small"?le(g,ge.style,b,k,D,G):ge.type==="large"?Ue(g,ge.size,b,k,D,G):Nt(g,f,b,k,D,G)};var Hr={sqrtImage:ir,sizedDelim:Rr,sizeToMaxHeight:Dn,customSizedDelim:ei,leftRightDelim:function(g,f,b,k,D,G){const Q=k.fontMetrics().axisHeight*k.sizeMultiplier,ge=901,Ne=5/k.fontMetrics().ptPerEm,We=Math.max(f-Q,b+Q),ot=Math.max(We/500*ge,2*We-Ne);return ei(g,ot,!0,k,D,G)}};const Vi={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},gs=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function ks(g,f){const b=W0(g);if(b&&gs.includes(b.text))return b;throw b?new p("Invalid delimiter '"+b.text+"' after '"+f.funcName+"'",g):new p("Invalid delimiter type '"+g.type+"'",g)}zt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(g,f)=>{const b=ks(f[0],g);return{type:"delimsizing",mode:g.parser.mode,size:Vi[g.funcName].size,mclass:Vi[g.funcName].mclass,delim:b.text}},htmlBuilder:(g,f)=>g.delim==="."?be.makeSpan([g.mclass]):Hr.sizedDelim(g.delim,g.size,f,g.mode,[g.mclass]),mathmlBuilder:g=>{const f=[];g.delim!=="."&&f.push(Oi(g.delim,g.mode));const b=new Jt.MathNode("mo",f);g.mclass==="mopen"||g.mclass==="mclose"?b.setAttribute("fence","true"):b.setAttribute("fence","false"),b.setAttribute("stretchy","true");const k=L(Hr.sizeToMaxHeight[g.size]);return b.setAttribute("minsize",k),b.setAttribute("maxsize",k),b}});function xi(g){if(!g.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}zt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(g,f)=>{const b=g.parser.gullet.macros.get("\\current@color");if(b&&typeof b!="string")throw new p("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:g.parser.mode,delim:ks(f[0],g).text,color:b}}}),zt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(g,f)=>{const b=ks(f[0],g),k=g.parser;++k.leftrightDepth;const D=k.parseExpression(!1);--k.leftrightDepth,k.expect("\\right",!1);const G=br(k.parseFunction(),"leftright-right");return{type:"leftright",mode:k.mode,body:D,left:b.text,right:G.delim,rightColor:G.color}},htmlBuilder:(g,f)=>{xi(g);const b=Gn(g.body,f,!0,["mopen","mclose"]);let k=0,D=0,G=!1;for(let Ne=0;Ne<b.length;Ne++)b[Ne].isMiddle?G=!0:(k=Math.max(b[Ne].height,k),D=Math.max(b[Ne].depth,D));k*=f.sizeMultiplier,D*=f.sizeMultiplier;let Q;if(g.left==="."?Q=ri(f,["mopen"]):Q=Hr.leftRightDelim(g.left,k,D,f,g.mode,["mopen"]),b.unshift(Q),G)for(let Ne=1;Ne<b.length;Ne++){const ot=b[Ne].isMiddle;ot&&(b[Ne]=Hr.leftRightDelim(ot.delim,k,D,ot.options,g.mode,[]))}let ge;if(g.right===".")ge=ri(f,["mclose"]);else{const Ne=g.rightColor?f.withColor(g.rightColor):f;ge=Hr.leftRightDelim(g.right,k,D,Ne,g.mode,["mclose"])}return b.push(ge),be.makeSpan(["minner"],b,f)},mathmlBuilder:(g,f)=>{xi(g);const b=zs(g.body,f);if(g.left!=="."){const k=new Jt.MathNode("mo",[Oi(g.left,g.mode)]);k.setAttribute("fence","true"),b.unshift(k)}if(g.right!=="."){const k=new Jt.MathNode("mo",[Oi(g.right,g.mode)]);k.setAttribute("fence","true"),g.rightColor&&k.setAttribute("mathcolor",g.rightColor),b.push(k)}return ji(b)}}),zt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(g,f)=>{const b=ks(f[0],g);if(!g.parser.leftrightDepth)throw new p("\\middle without preceding \\left",b);return{type:"middle",mode:g.parser.mode,delim:b.text}},htmlBuilder:(g,f)=>{let b;if(g.delim===".")b=ri(f,[]);else{b=Hr.sizedDelim(g.delim,1,f,g.mode,[]);const k={delim:g.delim,options:f};b.isMiddle=k}return b},mathmlBuilder:(g,f)=>{const b=g.delim==="\\vert"||g.delim==="|"?Oi("|","text"):Oi(g.delim,g.mode),k=new Jt.MathNode("mo",[b]);return k.setAttribute("fence","true"),k.setAttribute("lspace","0.05em"),k.setAttribute("rspace","0.05em"),k}});const Hs=(g,f)=>{const b=be.wrapFragment(Kn(g.body,f),f),k=g.label.slice(1);let D=f.sizeMultiplier,G,Q=0;const ge=ce.isCharacterBox(g.body);if(k==="sout")G=be.makeSpan(["stretchy","sout"]),G.height=f.fontMetrics().defaultRuleThickness/D,Q=-.5*f.fontMetrics().xHeight;else if(k==="phase"){const We=xt({number:.6,unit:"pt"},f),ot=xt({number:.35,unit:"ex"},f),dt=f.havingBaseSizing();D=D/dt.sizeMultiplier;const wt=b.height+b.depth+We+ot;b.style.paddingLeft=L(wt/2+We);const Zt=Math.floor(1e3*wt*D),wn=qn(Zt),Rn=new Ee([new Fe("phase",wn)],{width:"400em",height:L(Zt/1e3),viewBox:"0 0 400000 "+Zt,preserveAspectRatio:"xMinYMin slice"});G=be.makeSvgSpan(["hide-tail"],[Rn],f),G.style.height=L(wt),Q=b.depth+We+ot}else{/cancel/.test(k)?ge||b.classes.push("cancel-pad"):k==="angl"?b.classes.push("anglpad"):b.classes.push("boxpad");let We=0,ot=0,dt=0;/box/.test(k)?(dt=Math.max(f.fontMetrics().fboxrule,f.minRuleThickness),We=f.fontMetrics().fboxsep+(k==="colorbox"?0:dt),ot=We):k==="angl"?(dt=Math.max(f.fontMetrics().defaultRuleThickness,f.minRuleThickness),We=4*dt,ot=Math.max(0,.25-b.depth)):(We=ge?.2:0,ot=We),G=cl.encloseSpan(b,k,We,ot,f),/fbox|boxed|fcolorbox/.test(k)?(G.style.borderStyle="solid",G.style.borderWidth=L(dt)):k==="angl"&&dt!==.049&&(G.style.borderTopWidth=L(dt),G.style.borderRightWidth=L(dt)),Q=b.depth+ot,g.backgroundColor&&(G.style.backgroundColor=g.backgroundColor,g.borderColor&&(G.style.borderColor=g.borderColor))}let Ne;if(g.backgroundColor)Ne=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:G,shift:Q},{type:"elem",elem:b,shift:0}]},f);else{const We=/cancel|phase/.test(k)?["svg-align"]:[];Ne=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:0},{type:"elem",elem:G,shift:Q,wrapperClasses:We}]},f)}return/cancel/.test(k)&&(Ne.height=b.height,Ne.depth=b.depth),/cancel/.test(k)&&!ge?be.makeSpan(["mord","cancel-lap"],[Ne],f):be.makeSpan(["mord"],[Ne],f)},go=(g,f)=>{let b=0;const k=new Jt.MathNode(g.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Yr(g.body,f)]);switch(g.label){case"\\cancel":k.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":k.setAttribute("notation","downdiagonalstrike");break;case"\\phase":k.setAttribute("notation","phasorangle");break;case"\\sout":k.setAttribute("notation","horizontalstrike");break;case"\\fbox":k.setAttribute("notation","box");break;case"\\angl":k.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(b=f.fontMetrics().fboxsep*f.fontMetrics().ptPerEm,k.setAttribute("width","+"+2*b+"pt"),k.setAttribute("height","+"+2*b+"pt"),k.setAttribute("lspace",b+"pt"),k.setAttribute("voffset",b+"pt"),g.label==="\\fcolorbox"){const D=Math.max(f.fontMetrics().fboxrule,f.minRuleThickness);k.setAttribute("style","border: "+D+"em solid "+String(g.borderColor))}break;case"\\xcancel":k.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return g.backgroundColor&&k.setAttribute("mathbackground",g.backgroundColor),k};zt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(g,f,b){let{parser:k,funcName:D}=g;const G=br(f[0],"color-token").color,Q=f[1];return{type:"enclose",mode:k.mode,label:D,backgroundColor:G,body:Q}},htmlBuilder:Hs,mathmlBuilder:go}),zt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(g,f,b){let{parser:k,funcName:D}=g;const G=br(f[0],"color-token").color,Q=br(f[1],"color-token").color,ge=f[2];return{type:"enclose",mode:k.mode,label:D,backgroundColor:Q,borderColor:G,body:ge}},htmlBuilder:Hs,mathmlBuilder:go}),zt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(g,f){let{parser:b}=g;return{type:"enclose",mode:b.mode,label:"\\fbox",body:f[0]}}}),zt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(g,f){let{parser:b,funcName:k}=g;const D=f[0];return{type:"enclose",mode:b.mode,label:k,body:D}},htmlBuilder:Hs,mathmlBuilder:go}),zt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(g,f){let{parser:b}=g;return{type:"enclose",mode:b.mode,label:"\\angl",body:f[0]}}});const Is={};function Nr(g){let{type:f,names:b,props:k,handler:D,htmlBuilder:G,mathmlBuilder:Q}=g;const ge={type:f,numArgs:k.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:D};for(let Ne=0;Ne<b.length;++Ne)Is[b[Ne]]=ge;G&&(An[f]=G),Q&&(yn[f]=Q)}const us={};function pe(g,f){us[g]=f}class Ci{constructor(f,b,k){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=f,this.start=b,this.end=k}static range(f,b){return b?!f||!f.loc||!b.loc||f.loc.lexer!==b.loc.lexer?null:new Ci(f.loc.lexer,f.loc.start,b.loc.end):f&&f.loc}}class is{constructor(f,b){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=f,this.loc=b}range(f,b){return new is(b,Ci.range(this,f))}}function dl(g){const f=[];g.consumeSpaces();let b=g.fetch().text;for(b==="\\relax"&&(g.consume(),g.consumeSpaces(),b=g.fetch().text);b==="\\hline"||b==="\\hdashline";)g.consume(),f.push(b==="\\hdashline"),g.consumeSpaces(),b=g.fetch().text;return f}const so=g=>{if(!g.parser.settings.displayMode)throw new p("{"+g.envName+"} can be used only in display mode.")};function $o(g){if(g.indexOf("ed")===-1)return g.indexOf("*")===-1}function Zs(g,f,b){let{hskipBeforeAndAfter:k,addJot:D,cols:G,arraystretch:Q,colSeparationType:ge,autoTag:Ne,singleRow:We,emptySingleRow:ot,maxNumCols:dt,leqno:wt}=f;if(g.gullet.beginGroup(),We||g.gullet.macros.set("\\cr","\\\\\\relax"),!Q){const Jr=g.gullet.expandMacroAsText("\\arraystretch");if(Jr==null)Q=1;else if(Q=parseFloat(Jr),!Q||Q<0)throw new p("Invalid \\arraystretch: "+Jr)}g.gullet.beginGroup();let Zt=[];const wn=[Zt],Rn=[],Lr=[],vr=Ne!=null?[]:void 0;function wr(){Ne&&g.gullet.macros.set("\\@eqnsw","1",!0)}function di(){vr&&(g.gullet.macros.get("\\df@tag")?(vr.push(g.subparse([new is("\\df@tag")])),g.gullet.macros.set("\\df@tag",void 0,!0)):vr.push(!!Ne&&g.gullet.macros.get("\\@eqnsw")==="1"))}for(wr(),Lr.push(dl(g));;){let Jr=g.parseExpression(!1,We?"\\end":"\\\\");g.gullet.endGroup(),g.gullet.beginGroup(),Jr={type:"ordgroup",mode:g.mode,body:Jr},b&&(Jr={type:"styling",mode:g.mode,style:b,body:[Jr]}),Zt.push(Jr);const Gi=g.fetch().text;if(Gi==="&"){if(dt&&Zt.length===dt){if(We||ge)throw new p("Too many tab characters: &",g.nextToken);g.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}g.consume()}else if(Gi==="\\end"){di(),Zt.length===1&&Jr.type==="styling"&&Jr.body[0].body.length===0&&(wn.length>1||!ot)&&wn.pop(),Lr.length<wn.length+1&&Lr.push([]);break}else if(Gi==="\\\\"){g.consume();let $s;g.gullet.future().text!==" "&&($s=g.parseSizeGroup(!0)),Rn.push($s?$s.value:null),di(),Lr.push(dl(g)),Zt=[],wn.push(Zt),wr()}else throw new p("Expected & or \\\\ or \\cr or \\end",g.nextToken)}return g.gullet.endGroup(),g.gullet.endGroup(),{type:"array",mode:g.mode,addJot:D,arraystretch:Q,body:wn,cols:G,rowGaps:Rn,hskipBeforeAndAfter:k,hLinesBeforeRow:Lr,colSeparationType:ge,tags:vr,leqno:wt}}function cs(g){return g.slice(0,1)==="d"?"display":"text"}const cr=function(g,f){let b,k;const D=g.body.length,G=g.hLinesBeforeRow;let Q=0,ge=new Array(D);const Ne=[],We=Math.max(f.fontMetrics().arrayRuleWidth,f.minRuleThickness),ot=1/f.fontMetrics().ptPerEm;let dt=5*ot;g.colSeparationType&&g.colSeparationType==="small"&&(dt=.2778*(f.havingStyle(de.SCRIPT).sizeMultiplier/f.sizeMultiplier));const wt=g.colSeparationType==="CD"?xt({number:3,unit:"ex"},f):12*ot,Zt=3*ot,wn=g.arraystretch*wt,Rn=.7*wn,Lr=.3*wn;let vr=0;function wr(Dr){for(let vi=0;vi<Dr.length;++vi)vi>0&&(vr+=.25),Ne.push({pos:vr,isDashed:Dr[vi]})}for(wr(G[0]),b=0;b<g.body.length;++b){const Dr=g.body[b];let vi=Rn,Ti=Lr;Q<Dr.length&&(Q=Dr.length);const Di=new Array(Dr.length);for(k=0;k<Dr.length;++k){const vo=Kn(Dr[k],f);Ti<vo.depth&&(Ti=vo.depth),vi<vo.height&&(vi=vo.height),Di[k]=vo}const fi=g.rowGaps[b];let Ki=0;fi&&(Ki=xt(fi,f),Ki>0&&(Ki+=Lr,Ti<Ki&&(Ti=Ki),Ki=0)),g.addJot&&(Ti+=Zt),Di.height=vi,Di.depth=Ti,vr+=vi,Di.pos=vr,vr+=Ti+Ki,ge[b]=Di,wr(G[b+1])}const di=vr/2+f.fontMetrics().axisHeight,Jr=g.cols||[],Gi=[];let $s,hs;const bs=[];if(g.tags&&g.tags.some(Dr=>Dr))for(b=0;b<D;++b){const Dr=ge[b],vi=Dr.pos-di,Ti=g.tags[b];let Di;Ti===!0?Di=be.makeSpan(["eqn-num"],[],f):Ti===!1?Di=be.makeSpan([],[],f):Di=be.makeSpan([],Gn(Ti,f,!0),f),Di.depth=Dr.depth,Di.height=Dr.height,bs.push({type:"elem",elem:Di,shift:vi})}for(k=0,hs=0;k<Q||hs<Jr.length;++k,++hs){let Dr=Jr[hs]||{},vi=!0;for(;Dr.type==="separator";){if(vi||($s=be.makeSpan(["arraycolsep"],[]),$s.style.width=L(f.fontMetrics().doubleRuleSep),Gi.push($s)),Dr.separator==="|"||Dr.separator===":"){const fi=Dr.separator==="|"?"solid":"dashed",Ki=be.makeSpan(["vertical-separator"],[],f);Ki.style.height=L(vr),Ki.style.borderRightWidth=L(We),Ki.style.borderRightStyle=fi,Ki.style.margin="0 "+L(-We/2);const vo=vr-di;vo&&(Ki.style.verticalAlign=L(-vo)),Gi.push(Ki)}else throw new p("Invalid separator type: "+Dr.separator);hs++,Dr=Jr[hs]||{},vi=!1}if(k>=Q)continue;let Ti;(k>0||g.hskipBeforeAndAfter)&&(Ti=ce.deflt(Dr.pregap,dt),Ti!==0&&($s=be.makeSpan(["arraycolsep"],[]),$s.style.width=L(Ti),Gi.push($s)));let Di=[];for(b=0;b<D;++b){const fi=ge[b],Ki=fi[k];if(!Ki)continue;const vo=fi.pos-di;Ki.depth=fi.depth,Ki.height=fi.height,Di.push({type:"elem",elem:Ki,shift:vo})}Di=be.makeVList({positionType:"individualShift",children:Di},f),Di=be.makeSpan(["col-align-"+(Dr.align||"c")],[Di]),Gi.push(Di),(k<Q-1||g.hskipBeforeAndAfter)&&(Ti=ce.deflt(Dr.postgap,dt),Ti!==0&&($s=be.makeSpan(["arraycolsep"],[]),$s.style.width=L(Ti),Gi.push($s)))}if(ge=be.makeSpan(["mtable"],Gi),Ne.length>0){const Dr=be.makeLineSpan("hline",f,We),vi=be.makeLineSpan("hdashline",f,We),Ti=[{type:"elem",elem:ge,shift:0}];for(;Ne.length>0;){const Di=Ne.pop(),fi=Di.pos-di;Di.isDashed?Ti.push({type:"elem",elem:vi,shift:fi}):Ti.push({type:"elem",elem:Dr,shift:fi})}ge=be.makeVList({positionType:"individualShift",children:Ti},f)}if(bs.length===0)return be.makeSpan(["mord"],[ge],f);{let Dr=be.makeVList({positionType:"individualShift",children:bs},f);return Dr=be.makeSpan(["tag"],[Dr],f),be.makeFragment([ge,Dr])}},Qs={c:"center ",l:"left ",r:"right "},Ri=function(g,f){const b=[],k=new Jt.MathNode("mtd",[],["mtr-glue"]),D=new Jt.MathNode("mtd",[],["mml-eqn-num"]);for(let dt=0;dt<g.body.length;dt++){const wt=g.body[dt],Zt=[];for(let wn=0;wn<wt.length;wn++)Zt.push(new Jt.MathNode("mtd",[Yr(wt[wn],f)]));g.tags&&g.tags[dt]&&(Zt.unshift(k),Zt.push(k),g.leqno?Zt.unshift(D):Zt.push(D)),b.push(new Jt.MathNode("mtr",Zt))}let G=new Jt.MathNode("mtable",b);const Q=g.arraystretch===.5?.1:.16+g.arraystretch-1+(g.addJot?.09:0);G.setAttribute("rowspacing",L(Q));let ge="",Ne="";if(g.cols&&g.cols.length>0){const dt=g.cols;let wt="",Zt=!1,wn=0,Rn=dt.length;dt[0].type==="separator"&&(ge+="top ",wn=1),dt[dt.length-1].type==="separator"&&(ge+="bottom ",Rn-=1);for(let Lr=wn;Lr<Rn;Lr++)dt[Lr].type==="align"?(Ne+=Qs[dt[Lr].align],Zt&&(wt+="none "),Zt=!0):dt[Lr].type==="separator"&&Zt&&(wt+=dt[Lr].separator==="|"?"solid ":"dashed ",Zt=!1);G.setAttribute("columnalign",Ne.trim()),/[sd]/.test(wt)&&G.setAttribute("columnlines",wt.trim())}if(g.colSeparationType==="align"){const dt=g.cols||[];let wt="";for(let Zt=1;Zt<dt.length;Zt++)wt+=Zt%2?"0em ":"1em ";G.setAttribute("columnspacing",wt.trim())}else g.colSeparationType==="alignat"||g.colSeparationType==="gather"?G.setAttribute("columnspacing","0em"):g.colSeparationType==="small"?G.setAttribute("columnspacing","0.2778em"):g.colSeparationType==="CD"?G.setAttribute("columnspacing","0.5em"):G.setAttribute("columnspacing","1em");let We="";const ot=g.hLinesBeforeRow;ge+=ot[0].length>0?"left ":"",ge+=ot[ot.length-1].length>0?"right ":"";for(let dt=1;dt<ot.length-1;dt++)We+=ot[dt].length===0?"none ":ot[dt][0]?"dashed ":"solid ";return/[sd]/.test(We)&&G.setAttribute("rowlines",We.trim()),ge!==""&&(G=new Jt.MathNode("menclose",[G]),G.setAttribute("notation",ge.trim())),g.arraystretch&&g.arraystretch<1&&(G=new Jt.MathNode("mstyle",[G]),G.setAttribute("scriptlevel","1")),G},bo=function(g,f){g.envName.indexOf("ed")===-1&&so(g);const b=[],k=g.envName.indexOf("at")>-1?"alignat":"align",D=g.envName==="split",G=Zs(g.parser,{cols:b,addJot:!0,autoTag:D?void 0:$o(g.envName),emptySingleRow:!0,colSeparationType:k,maxNumCols:D?2:void 0,leqno:g.parser.settings.leqno},"display");let Q,ge=0;const Ne={type:"ordgroup",mode:g.mode,body:[]};if(f[0]&&f[0].type==="ordgroup"){let ot="";for(let dt=0;dt<f[0].body.length;dt++){const wt=br(f[0].body[dt],"textord");ot+=wt.text}Q=Number(ot),ge=Q*2}const We=!ge;G.body.forEach(function(ot){for(let dt=1;dt<ot.length;dt+=2){const wt=br(ot[dt],"styling");br(wt.body[0],"ordgroup").body.unshift(Ne)}if(We)ge<ot.length&&(ge=ot.length);else{const dt=ot.length/2;if(Q<dt)throw new p("Too many math in a row: "+("expected "+Q+", but got "+dt),ot[0])}});for(let ot=0;ot<ge;++ot){let dt="r",wt=0;ot%2===1?dt="l":ot>0&&We&&(wt=1),b[ot]={type:"align",align:dt,pregap:wt,postgap:0}}return G.colSeparationType=We?"align":"alignat",G};Nr({type:"array",names:["array","darray"],props:{numArgs:1},handler(g,f){const D=(W0(f[0])?[f[0]]:br(f[0],"ordgroup").body).map(function(Q){const Ne=lu(Q).text;if("lcr".indexOf(Ne)!==-1)return{type:"align",align:Ne};if(Ne==="|")return{type:"separator",separator:"|"};if(Ne===":")return{type:"separator",separator:":"};throw new p("Unknown column alignment: "+Ne,Q)}),G={cols:D,hskipBeforeAndAfter:!0,maxNumCols:D.length};return Zs(g.parser,G,cs(g.envName))},htmlBuilder:cr,mathmlBuilder:Ri}),Nr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(g){const f={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[g.envName.replace("*","")];let b="c";const k={hskipBeforeAndAfter:!1,cols:[{type:"align",align:b}]};if(g.envName.charAt(g.envName.length-1)==="*"){const Q=g.parser;if(Q.consumeSpaces(),Q.fetch().text==="["){if(Q.consume(),Q.consumeSpaces(),b=Q.fetch().text,"lcr".indexOf(b)===-1)throw new p("Expected l or c or r",Q.nextToken);Q.consume(),Q.consumeSpaces(),Q.expect("]"),Q.consume(),k.cols=[{type:"align",align:b}]}}const D=Zs(g.parser,k,cs(g.envName)),G=Math.max(0,...D.body.map(Q=>Q.length));return D.cols=new Array(G).fill({type:"align",align:b}),f?{type:"leftright",mode:g.mode,body:[D],left:f[0],right:f[1],rightColor:void 0}:D},htmlBuilder:cr,mathmlBuilder:Ri}),Nr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(g){const f={arraystretch:.5},b=Zs(g.parser,f,"script");return b.colSeparationType="small",b},htmlBuilder:cr,mathmlBuilder:Ri}),Nr({type:"array",names:["subarray"],props:{numArgs:1},handler(g,f){const D=(W0(f[0])?[f[0]]:br(f[0],"ordgroup").body).map(function(Q){const Ne=lu(Q).text;if("lc".indexOf(Ne)!==-1)return{type:"align",align:Ne};throw new p("Unknown column alignment: "+Ne,Q)});if(D.length>1)throw new p("{subarray} can contain only one column");let G={cols:D,hskipBeforeAndAfter:!1,arraystretch:.5};if(G=Zs(g.parser,G,"script"),G.body.length>0&&G.body[0].length>1)throw new p("{subarray} can contain only one column");return G},htmlBuilder:cr,mathmlBuilder:Ri}),Nr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(g){const f={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},b=Zs(g.parser,f,cs(g.envName));return{type:"leftright",mode:g.mode,body:[b],left:g.envName.indexOf("r")>-1?".":"\\{",right:g.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:cr,mathmlBuilder:Ri}),Nr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:bo,htmlBuilder:cr,mathmlBuilder:Ri}),Nr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(g){["gather","gather*"].includes(g.envName)&&so(g);const f={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:$o(g.envName),emptySingleRow:!0,leqno:g.parser.settings.leqno};return Zs(g.parser,f,"display")},htmlBuilder:cr,mathmlBuilder:Ri}),Nr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:bo,htmlBuilder:cr,mathmlBuilder:Ri}),Nr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(g){so(g);const f={autoTag:$o(g.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:g.parser.settings.leqno};return Zs(g.parser,f,"display")},htmlBuilder:cr,mathmlBuilder:Ri}),Nr({type:"array",names:["CD"],props:{numArgs:0},handler(g){return so(g),au(g.parser)},htmlBuilder:cr,mathmlBuilder:Ri}),pe("\\nonumber","\\gdef\\@eqnsw{0}"),pe("\\notag","\\nonumber"),zt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(g,f){throw new p(g.funcName+" valid only within array environment")}});var Pl=Is;zt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(g,f){let{parser:b,funcName:k}=g;const D=f[0];if(D.type!=="ordgroup")throw new p("Invalid environment name",D);let G="";for(let Q=0;Q<D.body.length;++Q)G+=br(D.body[Q],"textord").text;if(k==="\\begin"){if(!Pl.hasOwnProperty(G))throw new p("No such environment: "+G,D);const Q=Pl[G],{args:ge,optArgs:Ne}=b.parseArguments("\\begin{"+G+"}",Q),We={mode:b.mode,envName:G,parser:b},ot=Q.handler(We,ge,Ne);b.expect("\\end",!1);const dt=b.nextToken,wt=br(b.parseFunction(),"environment");if(wt.name!==G)throw new p("Mismatch: \\begin{"+G+"} matched by \\end{"+wt.name+"}",dt);return ot}return{type:"environment",mode:b.mode,name:G,nameGroup:D}}});const y0=(g,f)=>{const b=g.font,k=f.withFont(b);return Kn(g.body,k)},Zo=(g,f)=>{const b=g.font,k=f.withFont(b);return Yr(g.body,k)},rc={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};zt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(g,f)=>{let{parser:b,funcName:k}=g;const D=Vn(f[0]);let G=k;return G in rc&&(G=rc[G]),{type:"font",mode:b.mode,font:G.slice(1),body:D}},htmlBuilder:y0,mathmlBuilder:Zo}),zt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(g,f)=>{let{parser:b}=g;const k=f[0],D=ce.isCharacterBox(k);return{type:"mclass",mode:b.mode,mclass:q0(k),body:[{type:"font",mode:b.mode,font:"boldsymbol",body:k}],isCharacterBox:D}}}),zt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(g,f)=>{let{parser:b,funcName:k,breakOnTokenText:D}=g;const{mode:G}=b,Q=b.parseExpression(!0,D),ge="math"+k.slice(1);return{type:"font",mode:G,font:ge,body:{type:"ordgroup",mode:b.mode,body:Q}}},htmlBuilder:y0,mathmlBuilder:Zo});const Fl=(g,f)=>{let b=f;return g==="display"?b=b.id>=de.SCRIPT.id?b.text():de.DISPLAY:g==="text"&&b.size===de.DISPLAY.size?b=de.TEXT:g==="script"?b=de.SCRIPT:g==="scriptscript"&&(b=de.SCRIPTSCRIPT),b},fl=(g,f)=>{const b=Fl(g.size,f.style),k=b.fracNum(),D=b.fracDen();let G;G=f.havingStyle(k);const Q=Kn(g.numer,G,f);if(g.continued){const wr=8.5/f.fontMetrics().ptPerEm,di=3.5/f.fontMetrics().ptPerEm;Q.height=Q.height<wr?wr:Q.height,Q.depth=Q.depth<di?di:Q.depth}G=f.havingStyle(D);const ge=Kn(g.denom,G,f);let Ne,We,ot;g.hasBarLine?(g.barSize?(We=xt(g.barSize,f),Ne=be.makeLineSpan("frac-line",f,We)):Ne=be.makeLineSpan("frac-line",f),We=Ne.height,ot=Ne.height):(Ne=null,We=0,ot=f.fontMetrics().defaultRuleThickness);let dt,wt,Zt;b.size===de.DISPLAY.size||g.size==="display"?(dt=f.fontMetrics().num1,We>0?wt=3*ot:wt=7*ot,Zt=f.fontMetrics().denom1):(We>0?(dt=f.fontMetrics().num2,wt=ot):(dt=f.fontMetrics().num3,wt=3*ot),Zt=f.fontMetrics().denom2);let wn;if(Ne){const wr=f.fontMetrics().axisHeight;dt-Q.depth-(wr+.5*We)<wt&&(dt+=wt-(dt-Q.depth-(wr+.5*We))),wr-.5*We-(ge.height-Zt)<wt&&(Zt+=wt-(wr-.5*We-(ge.height-Zt)));const di=-(wr-.5*We);wn=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ge,shift:Zt},{type:"elem",elem:Ne,shift:di},{type:"elem",elem:Q,shift:-dt}]},f)}else{const wr=dt-Q.depth-(ge.height-Zt);wr<wt&&(dt+=.5*(wt-wr),Zt+=.5*(wt-wr)),wn=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ge,shift:Zt},{type:"elem",elem:Q,shift:-dt}]},f)}G=f.havingStyle(b),wn.height*=G.sizeMultiplier/f.sizeMultiplier,wn.depth*=G.sizeMultiplier/f.sizeMultiplier;let Rn;b.size===de.DISPLAY.size?Rn=f.fontMetrics().delim1:b.size===de.SCRIPTSCRIPT.size?Rn=f.havingStyle(de.SCRIPT).fontMetrics().delim2:Rn=f.fontMetrics().delim2;let Lr,vr;return g.leftDelim==null?Lr=ri(f,["mopen"]):Lr=Hr.customSizedDelim(g.leftDelim,Rn,!0,f.havingStyle(b),g.mode,["mopen"]),g.continued?vr=be.makeSpan([]):g.rightDelim==null?vr=ri(f,["mclose"]):vr=Hr.customSizedDelim(g.rightDelim,Rn,!0,f.havingStyle(b),g.mode,["mclose"]),be.makeSpan(["mord"].concat(G.sizingClasses(f)),[Lr,be.makeSpan(["mfrac"],[wn]),vr],f)},ic=(g,f)=>{let b=new Jt.MathNode("mfrac",[Yr(g.numer,f),Yr(g.denom,f)]);if(!g.hasBarLine)b.setAttribute("linethickness","0px");else if(g.barSize){const D=xt(g.barSize,f);b.setAttribute("linethickness",L(D))}const k=Fl(g.size,f.style);if(k.size!==f.style.size){b=new Jt.MathNode("mstyle",[b]);const D=k.size===de.DISPLAY.size?"true":"false";b.setAttribute("displaystyle",D),b.setAttribute("scriptlevel","0")}if(g.leftDelim!=null||g.rightDelim!=null){const D=[];if(g.leftDelim!=null){const G=new Jt.MathNode("mo",[new Jt.TextNode(g.leftDelim.replace("\\",""))]);G.setAttribute("fence","true"),D.push(G)}if(D.push(b),g.rightDelim!=null){const G=new Jt.MathNode("mo",[new Jt.TextNode(g.rightDelim.replace("\\",""))]);G.setAttribute("fence","true"),D.push(G)}return ji(D)}return b};zt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(g,f)=>{let{parser:b,funcName:k}=g;const D=f[0],G=f[1];let Q,ge=null,Ne=null,We="auto";switch(k){case"\\dfrac":case"\\frac":case"\\tfrac":Q=!0;break;case"\\\\atopfrac":Q=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":Q=!1,ge="(",Ne=")";break;case"\\\\bracefrac":Q=!1,ge="\\{",Ne="\\}";break;case"\\\\brackfrac":Q=!1,ge="[",Ne="]";break;default:throw new Error("Unrecognized genfrac command")}switch(k){case"\\dfrac":case"\\dbinom":We="display";break;case"\\tfrac":case"\\tbinom":We="text";break}return{type:"genfrac",mode:b.mode,continued:!1,numer:D,denom:G,hasBarLine:Q,leftDelim:ge,rightDelim:Ne,size:We,barSize:null}},htmlBuilder:fl,mathmlBuilder:ic}),zt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(g,f)=>{let{parser:b,funcName:k}=g;const D=f[0],G=f[1];return{type:"genfrac",mode:b.mode,continued:!0,numer:D,denom:G,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),zt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(g){let{parser:f,funcName:b,token:k}=g,D;switch(b){case"\\over":D="\\frac";break;case"\\choose":D="\\binom";break;case"\\atop":D="\\\\atopfrac";break;case"\\brace":D="\\\\bracefrac";break;case"\\brack":D="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:f.mode,replaceWith:D,token:k}}});const So=["display","text","script","scriptscript"],sc=function(g){let f=null;return g.length>0&&(f=g,f=f==="."?null:f),f};zt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(g,f){let{parser:b}=g;const k=f[4],D=f[5],G=Vn(f[0]),Q=G.type==="atom"&&G.family==="open"?sc(G.text):null,ge=Vn(f[1]),Ne=ge.type==="atom"&&ge.family==="close"?sc(ge.text):null,We=br(f[2],"size");let ot,dt=null;We.isBlank?ot=!0:(dt=We.value,ot=dt.number>0);let wt="auto",Zt=f[3];if(Zt.type==="ordgroup"){if(Zt.body.length>0){const wn=br(Zt.body[0],"textord");wt=So[Number(wn.text)]}}else Zt=br(Zt,"textord"),wt=So[Number(Zt.text)];return{type:"genfrac",mode:b.mode,numer:k,denom:D,continued:!1,hasBarLine:ot,barSize:dt,leftDelim:Q,rightDelim:Ne,size:wt}},htmlBuilder:fl,mathmlBuilder:ic}),zt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(g,f){let{parser:b,funcName:k,token:D}=g;return{type:"infix",mode:b.mode,replaceWith:"\\\\abovefrac",size:br(f[0],"size").value,token:D}}}),zt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(g,f)=>{let{parser:b,funcName:k}=g;const D=f[0],G=te(br(f[1],"infix").size),Q=f[2],ge=G.number>0;return{type:"genfrac",mode:b.mode,numer:D,denom:Q,continued:!1,hasBarLine:ge,barSize:G,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:fl,mathmlBuilder:ic});const Ul=(g,f)=>{const b=f.style;let k,D;g.type==="supsub"?(k=g.sup?Kn(g.sup,f.havingStyle(b.sup()),f):Kn(g.sub,f.havingStyle(b.sub()),f),D=br(g.base,"horizBrace")):D=br(g,"horizBrace");const G=Kn(D.base,f.havingBaseStyle(de.DISPLAY)),Q=cl.svgSpan(D,f);let ge;if(D.isOver?(ge=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:G},{type:"kern",size:.1},{type:"elem",elem:Q}]},f),ge.children[0].children[0].children[1].classes.push("svg-align")):(ge=be.makeVList({positionType:"bottom",positionData:G.depth+.1+Q.height,children:[{type:"elem",elem:Q},{type:"kern",size:.1},{type:"elem",elem:G}]},f),ge.children[0].children[0].children[0].classes.push("svg-align")),k){const Ne=be.makeSpan(["mord",D.isOver?"mover":"munder"],[ge],f);D.isOver?ge=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Ne},{type:"kern",size:.2},{type:"elem",elem:k}]},f):ge=be.makeVList({positionType:"bottom",positionData:Ne.depth+.2+k.height+k.depth,children:[{type:"elem",elem:k},{type:"kern",size:.2},{type:"elem",elem:Ne}]},f)}return be.makeSpan(["mord",D.isOver?"mover":"munder"],[ge],f)};zt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(g,f){let{parser:b,funcName:k}=g;return{type:"horizBrace",mode:b.mode,label:k,isOver:/^\\over/.test(k),base:f[0]}},htmlBuilder:Ul,mathmlBuilder:(g,f)=>{const b=cl.mathMLnode(g.label);return new Jt.MathNode(g.isOver?"mover":"munder",[Yr(g.base,f),b])}}),zt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(g,f)=>{let{parser:b}=g;const k=f[1],D=br(f[0],"url").url;return b.settings.isTrusted({command:"\\href",url:D})?{type:"href",mode:b.mode,href:D,body:er(k)}:b.formatUnsupportedCmd("\\href")},htmlBuilder:(g,f)=>{const b=Gn(g.body,f,!1);return be.makeAnchor(g.href,[],b,f)},mathmlBuilder:(g,f)=>{let b=Ls(g.body,f);return b instanceof ii||(b=new ii("mrow",[b])),b.setAttribute("href",g.href),b}}),zt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(g,f)=>{let{parser:b}=g;const k=br(f[0],"url").url;if(!b.settings.isTrusted({command:"\\url",url:k}))return b.formatUnsupportedCmd("\\url");const D=[];for(let Q=0;Q<k.length;Q++){let ge=k[Q];ge==="~"&&(ge="\\textasciitilde"),D.push({type:"textord",mode:"text",text:ge})}const G={type:"text",mode:b.mode,font:"\\texttt",body:D};return{type:"href",mode:b.mode,href:k,body:er(G)}}}),zt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(g,f){let{parser:b}=g;return{type:"hbox",mode:b.mode,body:er(f[0])}},htmlBuilder(g,f){const b=Gn(g.body,f,!1);return be.makeFragment(b)},mathmlBuilder(g,f){return new Jt.MathNode("mrow",zs(g.body,f))}}),zt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(g,f)=>{let{parser:b,funcName:k,token:D}=g;const G=br(f[0],"raw").string,Q=f[1];b.settings.strict&&b.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let ge;const Ne={};switch(k){case"\\htmlClass":Ne.class=G,ge={command:"\\htmlClass",class:G};break;case"\\htmlId":Ne.id=G,ge={command:"\\htmlId",id:G};break;case"\\htmlStyle":Ne.style=G,ge={command:"\\htmlStyle",style:G};break;case"\\htmlData":{const We=G.split(",");for(let ot=0;ot<We.length;ot++){const dt=We[ot].split("=");if(dt.length!==2)throw new p("Error parsing key-value for \\htmlData");Ne["data-"+dt[0].trim()]=dt[1].trim()}ge={command:"\\htmlData",attributes:Ne};break}default:throw new Error("Unrecognized html command")}return b.settings.isTrusted(ge)?{type:"html",mode:b.mode,attributes:Ne,body:er(Q)}:b.formatUnsupportedCmd(k)},htmlBuilder:(g,f)=>{const b=Gn(g.body,f,!1),k=["enclosing"];g.attributes.class&&k.push(...g.attributes.class.trim().split(/\s+/));const D=be.makeSpan(k,b,f);for(const G in g.attributes)G!=="class"&&g.attributes.hasOwnProperty(G)&&D.setAttribute(G,g.attributes[G]);return D},mathmlBuilder:(g,f)=>Ls(g.body,f)}),zt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(g,f)=>{let{parser:b}=g;return{type:"htmlmathml",mode:b.mode,html:er(f[0]),mathml:er(f[1])}},htmlBuilder:(g,f)=>{const b=Gn(g.html,f,!1);return be.makeFragment(b)},mathmlBuilder:(g,f)=>Ls(g.mathml,f)});const j0=function(g){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(g))return{number:+g,unit:"bp"};{const f=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(g);if(!f)throw new p("Invalid size: '"+g+"' in \\includegraphics");const b={number:+(f[1]+f[2]),unit:f[3]};if(!yt(b))throw new p("Invalid unit: '"+b.unit+"' in \\includegraphics.");return b}};zt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(g,f,b)=>{let{parser:k}=g,D={number:0,unit:"em"},G={number:.9,unit:"em"},Q={number:0,unit:"em"},ge="";if(b[0]){const ot=br(b[0],"raw").string.split(",");for(let dt=0;dt<ot.length;dt++){const wt=ot[dt].split("=");if(wt.length===2){const Zt=wt[1].trim();switch(wt[0].trim()){case"alt":ge=Zt;break;case"width":D=j0(Zt);break;case"height":G=j0(Zt);break;case"totalheight":Q=j0(Zt);break;default:throw new p("Invalid key: '"+wt[0]+"' in \\includegraphics.")}}}}const Ne=br(f[0],"url").url;return ge===""&&(ge=Ne,ge=ge.replace(/^.*[\\/]/,""),ge=ge.substring(0,ge.lastIndexOf("."))),k.settings.isTrusted({command:"\\includegraphics",url:Ne})?{type:"includegraphics",mode:k.mode,alt:ge,width:D,height:G,totalheight:Q,src:Ne}:k.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(g,f)=>{const b=xt(g.height,f);let k=0;g.totalheight.number>0&&(k=xt(g.totalheight,f)-b);let D=0;g.width.number>0&&(D=xt(g.width,f));const G={height:L(b+k)};D>0&&(G.width=L(D)),k>0&&(G.verticalAlign=L(-k));const Q=new ve(g.src,g.alt,G);return Q.height=b,Q.depth=k,Q},mathmlBuilder:(g,f)=>{const b=new Jt.MathNode("mglyph",[]);b.setAttribute("alt",g.alt);const k=xt(g.height,f);let D=0;if(g.totalheight.number>0&&(D=xt(g.totalheight,f)-k,b.setAttribute("valign",L(-D))),b.setAttribute("height",L(k+D)),g.width.number>0){const G=xt(g.width,f);b.setAttribute("width",L(G))}return b.setAttribute("src",g.src),b}}),zt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(g,f){let{parser:b,funcName:k}=g;const D=br(f[0],"size");if(b.settings.strict){const G=k[1]==="m",Q=D.value.unit==="mu";G?(Q||b.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+k+" supports only mu units, "+("not "+D.value.unit+" units")),b.mode!=="math"&&b.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+k+" works only in math mode")):Q&&b.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+k+" doesn't support mu units")}return{type:"kern",mode:b.mode,dimension:D.value}},htmlBuilder(g,f){return be.makeGlue(g.dimension,f)},mathmlBuilder(g,f){const b=xt(g.dimension,f);return new Jt.SpaceNode(b)}}),zt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(g,f)=>{let{parser:b,funcName:k}=g;const D=f[0];return{type:"lap",mode:b.mode,alignment:k.slice(5),body:D}},htmlBuilder:(g,f)=>{let b;g.alignment==="clap"?(b=be.makeSpan([],[Kn(g.body,f)]),b=be.makeSpan(["inner"],[b],f)):b=be.makeSpan(["inner"],[Kn(g.body,f)]);const k=be.makeSpan(["fix"],[]);let D=be.makeSpan([g.alignment],[b,k],f);const G=be.makeSpan(["strut"]);return G.style.height=L(D.height+D.depth),D.depth&&(G.style.verticalAlign=L(-D.depth)),D.children.unshift(G),D=be.makeSpan(["thinbox"],[D],f),be.makeSpan(["mord","vbox"],[D],f)},mathmlBuilder:(g,f)=>{const b=new Jt.MathNode("mpadded",[Yr(g.body,f)]);if(g.alignment!=="rlap"){const k=g.alignment==="llap"?"-1":"-0.5";b.setAttribute("lspace",k+"width")}return b.setAttribute("width","0px"),b}}),zt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(g,f){let{funcName:b,parser:k}=g;const D=k.mode;k.switchMode("math");const G=b==="\\("?"\\)":"$",Q=k.parseExpression(!1,G);return k.expect(G),k.switchMode(D),{type:"styling",mode:k.mode,style:"text",body:Q}}}),zt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(g,f){throw new p("Mismatched "+g.funcName)}});const _0=(g,f)=>{switch(f.style.size){case de.DISPLAY.size:return g.display;case de.TEXT.size:return g.text;case de.SCRIPT.size:return g.script;case de.SCRIPTSCRIPT.size:return g.scriptscript;default:return g.text}};zt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(g,f)=>{let{parser:b}=g;return{type:"mathchoice",mode:b.mode,display:er(f[0]),text:er(f[1]),script:er(f[2]),scriptscript:er(f[3])}},htmlBuilder:(g,f)=>{const b=_0(g,f),k=Gn(b,f,!1);return be.makeFragment(k)},mathmlBuilder:(g,f)=>{const b=_0(g,f);return Ls(b,f)}});const cu=(g,f,b,k,D,G,Q)=>{g=be.makeSpan([],[g]);const ge=b&&ce.isCharacterBox(b);let Ne,We;if(f){const wt=Kn(f,k.havingStyle(D.sup()),k);We={elem:wt,kern:Math.max(k.fontMetrics().bigOpSpacing1,k.fontMetrics().bigOpSpacing3-wt.depth)}}if(b){const wt=Kn(b,k.havingStyle(D.sub()),k);Ne={elem:wt,kern:Math.max(k.fontMetrics().bigOpSpacing2,k.fontMetrics().bigOpSpacing4-wt.height)}}let ot;if(We&&Ne){const wt=k.fontMetrics().bigOpSpacing5+Ne.elem.height+Ne.elem.depth+Ne.kern+g.depth+Q;ot=be.makeVList({positionType:"bottom",positionData:wt,children:[{type:"kern",size:k.fontMetrics().bigOpSpacing5},{type:"elem",elem:Ne.elem,marginLeft:L(-G)},{type:"kern",size:Ne.kern},{type:"elem",elem:g},{type:"kern",size:We.kern},{type:"elem",elem:We.elem,marginLeft:L(G)},{type:"kern",size:k.fontMetrics().bigOpSpacing5}]},k)}else if(Ne){const wt=g.height-Q;ot=be.makeVList({positionType:"top",positionData:wt,children:[{type:"kern",size:k.fontMetrics().bigOpSpacing5},{type:"elem",elem:Ne.elem,marginLeft:L(-G)},{type:"kern",size:Ne.kern},{type:"elem",elem:g}]},k)}else if(We){const wt=g.depth+Q;ot=be.makeVList({positionType:"bottom",positionData:wt,children:[{type:"elem",elem:g},{type:"kern",size:We.kern},{type:"elem",elem:We.elem,marginLeft:L(G)},{type:"kern",size:k.fontMetrics().bigOpSpacing5}]},k)}else return g;const dt=[ot];if(Ne&&G!==0&&!ge){const wt=be.makeSpan(["mspace"],[],k);wt.style.marginRight=L(G),dt.unshift(wt)}return be.makeSpan(["mop","op-limits"],dt,k)},Y0=["\\smallint"],E0=(g,f)=>{let b,k,D=!1,G;g.type==="supsub"?(b=g.sup,k=g.sub,G=br(g.base,"op"),D=!0):G=br(g,"op");const Q=f.style;let ge=!1;Q.size===de.DISPLAY.size&&G.symbol&&!Y0.includes(G.name)&&(ge=!0);let Ne;if(G.symbol){const dt=ge?"Size2-Regular":"Size1-Regular";let wt="";if((G.name==="\\oiint"||G.name==="\\oiiint")&&(wt=G.name.slice(1),G.name=wt==="oiint"?"\\iint":"\\iiint"),Ne=be.makeSymbol(G.name,dt,"math",f,["mop","op-symbol",ge?"large-op":"small-op"]),wt.length>0){const Zt=Ne.italic,wn=be.staticSvg(wt+"Size"+(ge?"2":"1"),f);Ne=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ne,shift:0},{type:"elem",elem:wn,shift:ge?.08:0}]},f),G.name="\\"+wt,Ne.classes.unshift("mop"),Ne.italic=Zt}}else if(G.body){const dt=Gn(G.body,f,!0);dt.length===1&&dt[0]instanceof j?(Ne=dt[0],Ne.classes[0]="mop"):Ne=be.makeSpan(["mop"],dt,f)}else{const dt=[];for(let wt=1;wt<G.name.length;wt++)dt.push(be.mathsym(G.name[wt],G.mode,f));Ne=be.makeSpan(["mop"],dt,f)}let We=0,ot=0;return(Ne instanceof j||G.name==="\\oiint"||G.name==="\\oiiint")&&!G.suppressBaseShift&&(We=(Ne.height-Ne.depth)/2-f.fontMetrics().axisHeight,ot=Ne.italic),D?cu(Ne,b,k,f,Q,ot,We):(We&&(Ne.style.position="relative",Ne.style.top=L(We)),Ne)},Ma=(g,f)=>{let b;if(g.symbol)b=new ii("mo",[Oi(g.name,g.mode)]),Y0.includes(g.name)&&b.setAttribute("largeop","false");else if(g.body)b=new ii("mo",zs(g.body,f));else{b=new ii("mi",[new Us(g.name.slice(1))]);const k=new ii("mo",[Oi("","text")]);g.parentIsSupSub?b=new ii("mrow",[b,k]):b=po([b,k])}return b},Qo={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};zt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(g,f)=>{let{parser:b,funcName:k}=g,D=k;return D.length===1&&(D=Qo[D]),{type:"op",mode:b.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:D}},htmlBuilder:E0,mathmlBuilder:Ma}),zt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(g,f)=>{let{parser:b}=g;const k=f[0];return{type:"op",mode:b.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:er(k)}},htmlBuilder:E0,mathmlBuilder:Ma});const Oa={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};zt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(g){let{parser:f,funcName:b}=g;return{type:"op",mode:f.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:b}},htmlBuilder:E0,mathmlBuilder:Ma}),zt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(g){let{parser:f,funcName:b}=g;return{type:"op",mode:f.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:b}},htmlBuilder:E0,mathmlBuilder:Ma}),zt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(g){let{parser:f,funcName:b}=g,k=b;return k.length===1&&(k=Oa[k]),{type:"op",mode:f.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:k}},htmlBuilder:E0,mathmlBuilder:Ma});const zl=(g,f)=>{let b,k,D=!1,G;g.type==="supsub"?(b=g.sup,k=g.sub,G=br(g.base,"operatorname"),D=!0):G=br(g,"operatorname");let Q;if(G.body.length>0){const ge=G.body.map(We=>{const ot=We.text;return typeof ot=="string"?{type:"textord",mode:We.mode,text:ot}:We}),Ne=Gn(ge,f.withFont("mathrm"),!0);for(let We=0;We<Ne.length;We++){const ot=Ne[We];ot instanceof j&&(ot.text=ot.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}Q=be.makeSpan(["mop"],Ne,f)}else Q=be.makeSpan(["mop"],[],f);return D?cu(Q,b,k,f,f.style,0,0):Q};zt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(g,f)=>{let{parser:b,funcName:k}=g;const D=f[0];return{type:"operatorname",mode:b.mode,body:er(D),alwaysHandleSupSub:k==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:zl,mathmlBuilder:(g,f)=>{let b=zs(g.body,f.withFont("mathrm")),k=!0;for(let Q=0;Q<b.length;Q++){const ge=b[Q];if(!(ge instanceof Jt.SpaceNode))if(ge instanceof Jt.MathNode)switch(ge.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const Ne=ge.children[0];ge.children.length===1&&Ne instanceof Jt.TextNode?Ne.text=Ne.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):k=!1;break}default:k=!1}else k=!1}if(k){const Q=b.map(ge=>ge.toText()).join("");b=[new Jt.TextNode(Q)]}const D=new Jt.MathNode("mi",b);D.setAttribute("mathvariant","normal");const G=new Jt.MathNode("mo",[Oi("","text")]);return g.parentIsSupSub?new Jt.MathNode("mrow",[D,G]):Jt.newDocumentFragment([D,G])}}),pe("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),or({type:"ordgroup",htmlBuilder(g,f){return g.semisimple?be.makeFragment(Gn(g.body,f,!1)):be.makeSpan(["mord"],Gn(g.body,f,!0),f)},mathmlBuilder(g,f){return Ls(g.body,f,!0)}}),zt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(g,f){let{parser:b}=g;const k=f[0];return{type:"overline",mode:b.mode,body:k}},htmlBuilder(g,f){const b=Kn(g.body,f.havingCrampedStyle()),k=be.makeLineSpan("overline-line",f),D=f.fontMetrics().defaultRuleThickness,G=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:b},{type:"kern",size:3*D},{type:"elem",elem:k},{type:"kern",size:D}]},f);return be.makeSpan(["mord","overline"],[G],f)},mathmlBuilder(g,f){const b=new Jt.MathNode("mo",[new Jt.TextNode("")]);b.setAttribute("stretchy","true");const k=new Jt.MathNode("mover",[Yr(g.body,f),b]);return k.setAttribute("accent","true"),k}}),zt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(g,f)=>{let{parser:b}=g;const k=f[0];return{type:"phantom",mode:b.mode,body:er(k)}},htmlBuilder:(g,f)=>{const b=Gn(g.body,f.withPhantom(),!1);return be.makeFragment(b)},mathmlBuilder:(g,f)=>{const b=zs(g.body,f);return new Jt.MathNode("mphantom",b)}}),zt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(g,f)=>{let{parser:b}=g;const k=f[0];return{type:"hphantom",mode:b.mode,body:k}},htmlBuilder:(g,f)=>{let b=be.makeSpan([],[Kn(g.body,f.withPhantom())]);if(b.height=0,b.depth=0,b.children)for(let k=0;k<b.children.length;k++)b.children[k].height=0,b.children[k].depth=0;return b=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:b}]},f),be.makeSpan(["mord"],[b],f)},mathmlBuilder:(g,f)=>{const b=zs(er(g.body),f),k=new Jt.MathNode("mphantom",b),D=new Jt.MathNode("mpadded",[k]);return D.setAttribute("height","0px"),D.setAttribute("depth","0px"),D}}),zt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(g,f)=>{let{parser:b}=g;const k=f[0];return{type:"vphantom",mode:b.mode,body:k}},htmlBuilder:(g,f)=>{const b=be.makeSpan(["inner"],[Kn(g.body,f.withPhantom())]),k=be.makeSpan(["fix"],[]);return be.makeSpan(["mord","rlap"],[b,k],f)},mathmlBuilder:(g,f)=>{const b=zs(er(g.body),f),k=new Jt.MathNode("mphantom",b),D=new Jt.MathNode("mpadded",[k]);return D.setAttribute("width","0px"),D}}),zt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(g,f){let{parser:b}=g;const k=br(f[0],"size").value,D=f[1];return{type:"raisebox",mode:b.mode,dy:k,body:D}},htmlBuilder(g,f){const b=Kn(g.body,f),k=xt(g.dy,f);return be.makeVList({positionType:"shift",positionData:-k,children:[{type:"elem",elem:b}]},f)},mathmlBuilder(g,f){const b=new Jt.MathNode("mpadded",[Yr(g.body,f)]),k=g.dy.number+g.dy.unit;return b.setAttribute("voffset",k),b}}),zt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(g){let{parser:f}=g;return{type:"internal",mode:f.mode}}}),zt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(g,f,b){let{parser:k}=g;const D=b[0],G=br(f[0],"size"),Q=br(f[1],"size");return{type:"rule",mode:k.mode,shift:D&&br(D,"size").value,width:G.value,height:Q.value}},htmlBuilder(g,f){const b=be.makeSpan(["mord","rule"],[],f),k=xt(g.width,f),D=xt(g.height,f),G=g.shift?xt(g.shift,f):0;return b.style.borderRightWidth=L(k),b.style.borderTopWidth=L(D),b.style.bottom=L(G),b.width=k,b.height=D+G,b.depth=-G,b.maxFontSize=D*1.125*f.sizeMultiplier,b},mathmlBuilder(g,f){const b=xt(g.width,f),k=xt(g.height,f),D=g.shift?xt(g.shift,f):0,G=f.color&&f.getColor()||"black",Q=new Jt.MathNode("mspace");Q.setAttribute("mathbackground",G),Q.setAttribute("width",L(b)),Q.setAttribute("height",L(k));const ge=new Jt.MathNode("mpadded",[Q]);return D>=0?ge.setAttribute("height",L(D)):(ge.setAttribute("height",L(D)),ge.setAttribute("depth",L(-D))),ge.setAttribute("voffset",L(D)),ge}});function K0(g,f,b){const k=Gn(g,f,!1),D=f.sizeMultiplier/b.sizeMultiplier;for(let G=0;G<k.length;G++){const Q=k[G].classes.indexOf("sizing");Q<0?Array.prototype.push.apply(k[G].classes,f.sizingClasses(b)):k[G].classes[Q+1]==="reset-size"+f.size&&(k[G].classes[Q+1]="reset-size"+b.size),k[G].height*=D,k[G].depth*=D}return be.makeFragment(k)}const xo=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];zt({type:"sizing",names:xo,props:{numArgs:0,allowedInText:!0},handler:(g,f)=>{let{breakOnTokenText:b,funcName:k,parser:D}=g;const G=D.parseExpression(!1,b);return{type:"sizing",mode:D.mode,size:xo.indexOf(k)+1,body:G}},htmlBuilder:(g,f)=>{const b=f.havingSize(g.size);return K0(g.body,b,f)},mathmlBuilder:(g,f)=>{const b=f.havingSize(g.size),k=zs(g.body,b),D=new Jt.MathNode("mstyle",k);return D.setAttribute("mathsize",L(b.sizeMultiplier)),D}}),zt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(g,f,b)=>{let{parser:k}=g,D=!1,G=!1;const Q=b[0]&&br(b[0],"ordgroup");if(Q){let Ne="";for(let We=0;We<Q.body.length;++We)if(Ne=Q.body[We].text,Ne==="t")D=!0;else if(Ne==="b")G=!0;else{D=!1,G=!1;break}}else D=!0,G=!0;const ge=f[0];return{type:"smash",mode:k.mode,body:ge,smashHeight:D,smashDepth:G}},htmlBuilder:(g,f)=>{const b=be.makeSpan([],[Kn(g.body,f)]);if(!g.smashHeight&&!g.smashDepth)return b;if(g.smashHeight&&(b.height=0,b.children))for(let D=0;D<b.children.length;D++)b.children[D].height=0;if(g.smashDepth&&(b.depth=0,b.children))for(let D=0;D<b.children.length;D++)b.children[D].depth=0;const k=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:b}]},f);return be.makeSpan(["mord"],[k],f)},mathmlBuilder:(g,f)=>{const b=new Jt.MathNode("mpadded",[Yr(g.body,f)]);return g.smashHeight&&b.setAttribute("height","0px"),g.smashDepth&&b.setAttribute("depth","0px"),b}}),zt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(g,f,b){let{parser:k}=g;const D=b[0],G=f[0];return{type:"sqrt",mode:k.mode,body:G,index:D}},htmlBuilder(g,f){let b=Kn(g.body,f.havingCrampedStyle());b.height===0&&(b.height=f.fontMetrics().xHeight),b=be.wrapFragment(b,f);const D=f.fontMetrics().defaultRuleThickness;let G=D;f.style.id<de.TEXT.id&&(G=f.fontMetrics().xHeight);let Q=D+G/4;const ge=b.height+b.depth+Q+D,{span:Ne,ruleWidth:We,advanceWidth:ot}=Hr.sqrtImage(ge,f),dt=Ne.height-We;dt>b.height+b.depth+Q&&(Q=(Q+dt-b.height-b.depth)/2);const wt=Ne.height-b.height-Q-We;b.style.paddingLeft=L(ot);const Zt=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:b,wrapperClasses:["svg-align"]},{type:"kern",size:-(b.height+wt)},{type:"elem",elem:Ne},{type:"kern",size:We}]},f);if(g.index){const wn=f.havingStyle(de.SCRIPTSCRIPT),Rn=Kn(g.index,wn,f),Lr=.6*(Zt.height-Zt.depth),vr=be.makeVList({positionType:"shift",positionData:-Lr,children:[{type:"elem",elem:Rn}]},f),wr=be.makeSpan(["root"],[vr]);return be.makeSpan(["mord","sqrt"],[wr,Zt],f)}else return be.makeSpan(["mord","sqrt"],[Zt],f)},mathmlBuilder(g,f){const{body:b,index:k}=g;return k?new Jt.MathNode("mroot",[Yr(b,f),Yr(k,f)]):new Jt.MathNode("msqrt",[Yr(b,f)])}});const s0={display:de.DISPLAY,text:de.TEXT,script:de.SCRIPT,scriptscript:de.SCRIPTSCRIPT};zt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(g,f){let{breakOnTokenText:b,funcName:k,parser:D}=g;const G=D.parseExpression(!0,b),Q=k.slice(1,k.length-5);return{type:"styling",mode:D.mode,style:Q,body:G}},htmlBuilder(g,f){const b=s0[g.style],k=f.havingStyle(b).withFont("");return K0(g.body,k,f)},mathmlBuilder(g,f){const b=s0[g.style],k=f.havingStyle(b),D=zs(g.body,k),G=new Jt.MathNode("mstyle",D),ge={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[g.style];return G.setAttribute("scriptlevel",ge[0]),G.setAttribute("displaystyle",ge[1]),G}});const Xo=function(g,f){const b=g.base;return b?b.type==="op"?b.limits&&(f.style.size===de.DISPLAY.size||b.alwaysHandleSupSub)?E0:null:b.type==="operatorname"?b.alwaysHandleSupSub&&(f.style.size===de.DISPLAY.size||b.limits)?zl:null:b.type==="accent"?ce.isCharacterBox(b.base)?Ca:null:b.type==="horizBrace"&&!g.sub===b.isOver?Ul:null:null};or({type:"supsub",htmlBuilder(g,f){const b=Xo(g,f);if(b)return b(g,f);const{base:k,sup:D,sub:G}=g,Q=Kn(k,f);let ge,Ne;const We=f.fontMetrics();let ot=0,dt=0;const wt=k&&ce.isCharacterBox(k);if(D){const di=f.havingStyle(f.style.sup());ge=Kn(D,di,f),wt||(ot=Q.height-di.fontMetrics().supDrop*di.sizeMultiplier/f.sizeMultiplier)}if(G){const di=f.havingStyle(f.style.sub());Ne=Kn(G,di,f),wt||(dt=Q.depth+di.fontMetrics().subDrop*di.sizeMultiplier/f.sizeMultiplier)}let Zt;f.style===de.DISPLAY?Zt=We.sup1:f.style.cramped?Zt=We.sup3:Zt=We.sup2;const wn=f.sizeMultiplier,Rn=L(.5/We.ptPerEm/wn);let Lr=null;if(Ne){const di=g.base&&g.base.type==="op"&&g.base.name&&(g.base.name==="\\oiint"||g.base.name==="\\oiiint");(Q instanceof j||di)&&(Lr=L(-Q.italic))}let vr;if(ge&&Ne){ot=Math.max(ot,Zt,ge.depth+.25*We.xHeight),dt=Math.max(dt,We.sub2);const Jr=4*We.defaultRuleThickness;if(ot-ge.depth-(Ne.height-dt)<Jr){dt=Jr-(ot-ge.depth)+Ne.height;const $s=.8*We.xHeight-(ot-ge.depth);$s>0&&(ot+=$s,dt-=$s)}const Gi=[{type:"elem",elem:Ne,shift:dt,marginRight:Rn,marginLeft:Lr},{type:"elem",elem:ge,shift:-ot,marginRight:Rn}];vr=be.makeVList({positionType:"individualShift",children:Gi},f)}else if(Ne){dt=Math.max(dt,We.sub1,Ne.height-.8*We.xHeight);const di=[{type:"elem",elem:Ne,marginLeft:Lr,marginRight:Rn}];vr=be.makeVList({positionType:"shift",positionData:dt,children:di},f)}else if(ge)ot=Math.max(ot,Zt,ge.depth+.25*We.xHeight),vr=be.makeVList({positionType:"shift",positionData:-ot,children:[{type:"elem",elem:ge,marginRight:Rn}]},f);else throw new Error("supsub must have either sup or sub.");const wr=rs(Q,"right")||"mord";return be.makeSpan([wr],[Q,be.makeSpan(["msupsub"],[vr])],f)},mathmlBuilder(g,f){let b=!1,k,D;g.base&&g.base.type==="horizBrace"&&(D=!!g.sup,D===g.base.isOver&&(b=!0,k=g.base.isOver)),g.base&&(g.base.type==="op"||g.base.type==="operatorname")&&(g.base.parentIsSupSub=!0);const G=[Yr(g.base,f)];g.sub&&G.push(Yr(g.sub,f)),g.sup&&G.push(Yr(g.sup,f));let Q;if(b)Q=k?"mover":"munder";else if(g.sub)if(g.sup){const ge=g.base;ge&&ge.type==="op"&&ge.limits&&f.style===de.DISPLAY||ge&&ge.type==="operatorname"&&ge.alwaysHandleSupSub&&(f.style===de.DISPLAY||ge.limits)?Q="munderover":Q="msubsup"}else{const ge=g.base;ge&&ge.type==="op"&&ge.limits&&(f.style===de.DISPLAY||ge.alwaysHandleSupSub)||ge&&ge.type==="operatorname"&&ge.alwaysHandleSupSub&&(ge.limits||f.style===de.DISPLAY)?Q="munder":Q="msub"}else{const ge=g.base;ge&&ge.type==="op"&&ge.limits&&(f.style===de.DISPLAY||ge.alwaysHandleSupSub)||ge&&ge.type==="operatorname"&&ge.alwaysHandleSupSub&&(ge.limits||f.style===de.DISPLAY)?Q="mover":Q="msup"}return new Jt.MathNode(Q,G)}}),or({type:"atom",htmlBuilder(g,f){return be.mathsym(g.text,g.mode,f,["m"+g.family])},mathmlBuilder(g,f){const b=new Jt.MathNode("mo",[Oi(g.text,g.mode)]);if(g.family==="bin"){const k=n0(g,f);k==="bold-italic"&&b.setAttribute("mathvariant",k)}else g.family==="punct"?b.setAttribute("separator","true"):(g.family==="open"||g.family==="close")&&b.setAttribute("stretchy","false");return b}});const el={mi:"italic",mn:"normal",mtext:"normal"};or({type:"mathord",htmlBuilder(g,f){return be.makeOrd(g,f,"mathord")},mathmlBuilder(g,f){const b=new Jt.MathNode("mi",[Oi(g.text,g.mode,f)]),k=n0(g,f)||"italic";return k!==el[b.type]&&b.setAttribute("mathvariant",k),b}}),or({type:"textord",htmlBuilder(g,f){return be.makeOrd(g,f,"textord")},mathmlBuilder(g,f){const b=Oi(g.text,g.mode,f),k=n0(g,f)||"normal";let D;return g.mode==="text"?D=new Jt.MathNode("mtext",[b]):/[0-9]/.test(g.text)?D=new Jt.MathNode("mn",[b]):g.text==="\\prime"?D=new Jt.MathNode("mo",[b]):D=new Jt.MathNode("mi",[b]),k!==el[D.type]&&D.setAttribute("mathvariant",k),D}});const Bo={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},lc={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};or({type:"spacing",htmlBuilder(g,f){if(lc.hasOwnProperty(g.text)){const b=lc[g.text].className||"";if(g.mode==="text"){const k=be.makeOrd(g,f,"textord");return k.classes.push(b),k}else return be.makeSpan(["mspace",b],[be.mathsym(g.text,g.mode,f)],f)}else{if(Bo.hasOwnProperty(g.text))return be.makeSpan(["mspace",Bo[g.text]],[],f);throw new p('Unknown type of space "'+g.text+'"')}},mathmlBuilder(g,f){let b;if(lc.hasOwnProperty(g.text))b=new Jt.MathNode("mtext",[new Jt.TextNode("")]);else{if(Bo.hasOwnProperty(g.text))return new Jt.MathNode("mspace");throw new p('Unknown type of space "'+g.text+'"')}return b}});const ac=()=>{const g=new Jt.MathNode("mtd",[]);return g.setAttribute("width","50%"),g};or({type:"tag",mathmlBuilder(g,f){const b=new Jt.MathNode("mtable",[new Jt.MathNode("mtr",[ac(),new Jt.MathNode("mtd",[Ls(g.body,f)]),ac(),new Jt.MathNode("mtd",[Ls(g.tag,f)])])]);return b.setAttribute("width","100%"),b}});const Hl={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},uc={"\\textbf":"textbf","\\textmd":"textmd"},ss={"\\textit":"textit","\\textup":"textup"},Yi=(g,f)=>{const b=g.font;if(b){if(Hl[b])return f.withTextFontFamily(Hl[b]);if(uc[b])return f.withTextFontWeight(uc[b]);if(b==="\\emph")return f.fontShape==="textit"?f.withTextFontShape("textup"):f.withTextFontShape("textit")}else return f;return f.withTextFontShape(ss[b])};zt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(g,f){let{parser:b,funcName:k}=g;const D=f[0];return{type:"text",mode:b.mode,body:er(D),font:k}},htmlBuilder(g,f){const b=Yi(g,f),k=Gn(g.body,b,!0);return be.makeSpan(["mord","text"],k,b)},mathmlBuilder(g,f){const b=Yi(g,f);return Ls(g.body,b)}}),zt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(g,f){let{parser:b}=g;return{type:"underline",mode:b.mode,body:f[0]}},htmlBuilder(g,f){const b=Kn(g.body,f),k=be.makeLineSpan("underline-line",f),D=f.fontMetrics().defaultRuleThickness,G=be.makeVList({positionType:"top",positionData:b.height,children:[{type:"kern",size:D},{type:"elem",elem:k},{type:"kern",size:3*D},{type:"elem",elem:b}]},f);return be.makeSpan(["mord","underline"],[G],f)},mathmlBuilder(g,f){const b=new Jt.MathNode("mo",[new Jt.TextNode("")]);b.setAttribute("stretchy","true");const k=new Jt.MathNode("munder",[Yr(g.body,f),b]);return k.setAttribute("accentunder","true"),k}}),zt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(g,f){let{parser:b}=g;return{type:"vcenter",mode:b.mode,body:f[0]}},htmlBuilder(g,f){const b=Kn(g.body,f),k=f.fontMetrics().axisHeight,D=.5*(b.height-k-(b.depth+k));return be.makeVList({positionType:"shift",positionData:D,children:[{type:"elem",elem:b}]},f)},mathmlBuilder(g,f){return new Jt.MathNode("mpadded",[Yr(g.body,f)],["vcenter"])}}),zt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(g,f,b){throw new p("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(g,f){const b=qr(g),k=[],D=f.havingStyle(f.style.text());for(let G=0;G<b.length;G++){let Q=b[G];Q==="~"&&(Q="\\textasciitilde"),k.push(be.makeSymbol(Q,"Typewriter-Regular",g.mode,D,["mord","texttt"]))}return be.makeSpan(["mord","text"].concat(D.sizingClasses(f)),be.tryCombineChars(k),D)},mathmlBuilder(g,f){const b=new Jt.TextNode(qr(g)),k=new Jt.MathNode("mtext",[b]);return k.setAttribute("mathvariant","monospace"),k}});const qr=g=>g.body.replace(/ /g,g.star?"":"");var Vs=on;const o0=`[ \r
	]`,l0="\\\\[a-zA-Z@]+",oh="\\\\[^\uD800-\uDFFF]",lh="("+l0+")"+o0+"*",Ra=`\\\\(
|[ \r	]+
?)[ \r	]*`,a0="[-]",Zc=new RegExp(a0+"+$"),La="("+o0+"+)|"+(Ra+"|")+"([!-\\[\\]---]"+(a0+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(a0+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+lh)+("|"+oh+")");class cc{constructor(f,b){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=f,this.settings=b,this.tokenRegex=new RegExp(La,"g"),this.catcodes={"%":14,"~":13}}setCatcode(f,b){this.catcodes[f]=b}lex(){const f=this.input,b=this.tokenRegex.lastIndex;if(b===f.length)return new is("EOF",new Ci(this,b,b));const k=this.tokenRegex.exec(f);if(k===null||k.index!==b)throw new p("Unexpected character: '"+f[b]+"'",new is(f[b],new Ci(this,b,b+1)));const D=k[6]||k[3]||(k[2]?"\\ ":" ");if(this.catcodes[D]===14){const G=f.indexOf(`
`,this.tokenRegex.lastIndex);return G===-1?(this.tokenRegex.lastIndex=f.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=G+1,this.lex()}return new is(D,new Ci(this,b,this.tokenRegex.lastIndex))}}class J0{constructor(f,b){f===void 0&&(f={}),b===void 0&&(b={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=b,this.builtins=f,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new p("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const f=this.undefStack.pop();for(const b in f)f.hasOwnProperty(b)&&(f[b]==null?delete this.current[b]:this.current[b]=f[b])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(f){return this.current.hasOwnProperty(f)||this.builtins.hasOwnProperty(f)}get(f){return this.current.hasOwnProperty(f)?this.current[f]:this.builtins[f]}set(f,b,k){if(k===void 0&&(k=!1),k){for(let D=0;D<this.undefStack.length;D++)delete this.undefStack[D][f];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][f]=b)}else{const D=this.undefStack[this.undefStack.length-1];D&&!D.hasOwnProperty(f)&&(D[f]=this.current[f])}b==null?delete this.current[f]:this.current[f]=b}}var S0=us;pe("\\noexpand",function(g){const f=g.popToken();return g.isExpandable(f.text)&&(f.noexpand=!0,f.treatAsRelax=!0),{tokens:[f],numArgs:0}}),pe("\\expandafter",function(g){const f=g.popToken();return g.expandOnce(!0),{tokens:[f],numArgs:0}}),pe("\\@firstoftwo",function(g){return{tokens:g.consumeArgs(2)[0],numArgs:0}}),pe("\\@secondoftwo",function(g){return{tokens:g.consumeArgs(2)[1],numArgs:0}}),pe("\\@ifnextchar",function(g){const f=g.consumeArgs(3);g.consumeSpaces();const b=g.future();return f[0].length===1&&f[0][0].text===b.text?{tokens:f[1],numArgs:0}:{tokens:f[2],numArgs:0}}),pe("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),pe("\\TextOrMath",function(g){const f=g.consumeArgs(2);return g.mode==="text"?{tokens:f[0],numArgs:0}:{tokens:f[1],numArgs:0}});const Gl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};pe("\\char",function(g){let f=g.popToken(),b,k="";if(f.text==="'")b=8,f=g.popToken();else if(f.text==='"')b=16,f=g.popToken();else if(f.text==="`")if(f=g.popToken(),f.text[0]==="\\")k=f.text.charCodeAt(1);else{if(f.text==="EOF")throw new p("\\char` missing argument");k=f.text.charCodeAt(0)}else b=10;if(b){if(k=Gl[f.text],k==null||k>=b)throw new p("Invalid base-"+b+" digit "+f.text);let D;for(;(D=Gl[g.future().text])!=null&&D<b;)k*=b,k+=D,g.popToken()}return"\\@char{"+k+"}"});const Da=(g,f,b,k)=>{let D=g.consumeArg().tokens;if(D.length!==1)throw new p("\\newcommand's first argument must be a macro name");const G=D[0].text,Q=g.isDefined(G);if(Q&&!f)throw new p("\\newcommand{"+G+"} attempting to redefine "+(G+"; use \\renewcommand"));if(!Q&&!b)throw new p("\\renewcommand{"+G+"} when command "+G+" does not yet exist; use \\newcommand");let ge=0;if(D=g.consumeArg().tokens,D.length===1&&D[0].text==="["){let Ne="",We=g.expandNextToken();for(;We.text!=="]"&&We.text!=="EOF";)Ne+=We.text,We=g.expandNextToken();if(!Ne.match(/^\s*[0-9]+\s*$/))throw new p("Invalid number of arguments: "+Ne);ge=parseInt(Ne),D=g.consumeArg().tokens}return Q&&k||g.macros.set(G,{tokens:D,numArgs:ge}),""};pe("\\newcommand",g=>Da(g,!1,!0,!1)),pe("\\renewcommand",g=>Da(g,!0,!1,!1)),pe("\\providecommand",g=>Da(g,!0,!0,!0)),pe("\\message",g=>{const f=g.consumeArgs(1)[0];return console.log(f.reverse().map(b=>b.text).join("")),""}),pe("\\errmessage",g=>{const f=g.consumeArgs(1)[0];return console.error(f.reverse().map(b=>b.text).join("")),""}),pe("\\show",g=>{const f=g.popToken(),b=f.text;return console.log(f,g.macros.get(b),Vs[b],_r.math[b],_r.text[b]),""}),pe("\\bgroup","{"),pe("\\egroup","}"),pe("~","\\nobreakspace"),pe("\\lq","`"),pe("\\rq","'"),pe("\\aa","\\r a"),pe("\\AA","\\r A"),pe("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),pe("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),pe("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),pe("","\\mathscr{B}"),pe("","\\mathscr{E}"),pe("","\\mathscr{F}"),pe("","\\mathscr{H}"),pe("","\\mathscr{I}"),pe("","\\mathscr{L}"),pe("","\\mathscr{M}"),pe("","\\mathscr{R}"),pe("","\\mathfrak{C}"),pe("","\\mathfrak{H}"),pe("","\\mathfrak{Z}"),pe("\\Bbbk","\\Bbb{k}"),pe("","\\cdotp"),pe("\\llap","\\mathllap{\\textrm{#1}}"),pe("\\rlap","\\mathrlap{\\textrm{#1}}"),pe("\\clap","\\mathclap{\\textrm{#1}}"),pe("\\mathstrut","\\vphantom{(}"),pe("\\underbar","\\underline{\\text{#1}}"),pe("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),pe("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),pe("\\ne","\\neq"),pe("","\\neq"),pe("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),pe("","\\notin"),pe("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),pe("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),pe("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),pe("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),pe("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),pe("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),pe("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),pe("","\\perp"),pe("","\\mathclose{!\\mkern-0.8mu!}"),pe("","\\notni"),pe("","\\ulcorner"),pe("","\\urcorner"),pe("","\\llcorner"),pe("","\\lrcorner"),pe("","\\copyright"),pe("","\\textregistered"),pe("","\\textregistered"),pe("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),pe("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),pe("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),pe("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),pe("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),pe("","\\vdots"),pe("\\varGamma","\\mathit{\\Gamma}"),pe("\\varDelta","\\mathit{\\Delta}"),pe("\\varTheta","\\mathit{\\Theta}"),pe("\\varLambda","\\mathit{\\Lambda}"),pe("\\varXi","\\mathit{\\Xi}"),pe("\\varPi","\\mathit{\\Pi}"),pe("\\varSigma","\\mathit{\\Sigma}"),pe("\\varUpsilon","\\mathit{\\Upsilon}"),pe("\\varPhi","\\mathit{\\Phi}"),pe("\\varPsi","\\mathit{\\Psi}"),pe("\\varOmega","\\mathit{\\Omega}"),pe("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),pe("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),pe("\\boxed","\\fbox{$\\displaystyle{#1}$}"),pe("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),pe("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),pe("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),pe("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),pe("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");const tl={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};pe("\\dots",function(g){let f="\\dotso";const b=g.expandAfterFuture().text;return b in tl?f=tl[b]:(b.slice(0,4)==="\\not"||b in _r.math&&["bin","rel"].includes(_r.math[b].group))&&(f="\\dotsb"),f});const x0={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};pe("\\dotso",function(g){return g.future().text in x0?"\\ldots\\,":"\\ldots"}),pe("\\dotsc",function(g){const f=g.future().text;return f in x0&&f!==","?"\\ldots\\,":"\\ldots"}),pe("\\cdots",function(g){return g.future().text in x0?"\\@cdots\\,":"\\@cdots"}),pe("\\dotsb","\\cdots"),pe("\\dotsm","\\cdots"),pe("\\dotsi","\\!\\cdots"),pe("\\dotsx","\\ldots\\,"),pe("\\DOTSI","\\relax"),pe("\\DOTSB","\\relax"),pe("\\DOTSX","\\relax"),pe("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),pe("\\,","\\tmspace+{3mu}{.1667em}"),pe("\\thinspace","\\,"),pe("\\>","\\mskip{4mu}"),pe("\\:","\\tmspace+{4mu}{.2222em}"),pe("\\medspace","\\:"),pe("\\;","\\tmspace+{5mu}{.2777em}"),pe("\\thickspace","\\;"),pe("\\!","\\tmspace-{3mu}{.1667em}"),pe("\\negthinspace","\\!"),pe("\\negmedspace","\\tmspace-{4mu}{.2222em}"),pe("\\negthickspace","\\tmspace-{5mu}{.277em}"),pe("\\enspace","\\kern.5em "),pe("\\enskip","\\hskip.5em\\relax"),pe("\\quad","\\hskip1em\\relax"),pe("\\qquad","\\hskip2em\\relax"),pe("\\tag","\\@ifstar\\tag@literal\\tag@paren"),pe("\\tag@paren","\\tag@literal{({#1})}"),pe("\\tag@literal",g=>{if(g.macros.get("\\df@tag"))throw new p("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),pe("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),pe("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),pe("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),pe("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),pe("\\newline","\\\\\\relax"),pe("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const hu=L(un["Main-Regular"][84][1]-.7*un["Main-Regular"][65][1]);pe("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+hu+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),pe("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+hu+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),pe("\\hspace","\\@ifstar\\@hspacer\\@hspace"),pe("\\@hspace","\\hskip #1\\relax"),pe("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),pe("\\ordinarycolon",":"),pe("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),pe("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),pe("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),pe("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),pe("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),pe("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),pe("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),pe("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),pe("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),pe("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),pe("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),pe("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),pe("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),pe("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),pe("","\\dblcolon"),pe("","\\eqcolon"),pe("","\\coloneqq"),pe("","\\eqqcolon"),pe("","\\Coloneqq"),pe("\\ratio","\\vcentcolon"),pe("\\coloncolon","\\dblcolon"),pe("\\colonequals","\\coloneqq"),pe("\\coloncolonequals","\\Coloneqq"),pe("\\equalscolon","\\eqqcolon"),pe("\\equalscoloncolon","\\Eqqcolon"),pe("\\colonminus","\\coloneq"),pe("\\coloncolonminus","\\Coloneq"),pe("\\minuscolon","\\eqcolon"),pe("\\minuscoloncolon","\\Eqcolon"),pe("\\coloncolonapprox","\\Colonapprox"),pe("\\coloncolonsim","\\Colonsim"),pe("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),pe("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),pe("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),pe("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),pe("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),pe("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),pe("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),pe("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),pe("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),pe("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),pe("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),pe("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),pe("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),pe("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}"),pe("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}"),pe("\\ngeqq","\\html@mathml{\\@ngeqq}{}"),pe("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}"),pe("\\nleqq","\\html@mathml{\\@nleqq}{}"),pe("\\nleqslant","\\html@mathml{\\@nleqslant}{}"),pe("\\nshortmid","\\html@mathml{\\@nshortmid}{}"),pe("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}"),pe("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}"),pe("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}"),pe("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}"),pe("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}"),pe("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}"),pe("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}"),pe("\\imath","\\html@mathml{\\@imath}{}"),pe("\\jmath","\\html@mathml{\\@jmath}{}"),pe("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),pe("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),pe("","\\llbracket"),pe("","\\rrbracket"),pe("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),pe("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),pe("","\\lBrace"),pe("","\\rBrace"),pe("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),pe("","\\minuso"),pe("\\darr","\\downarrow"),pe("\\dArr","\\Downarrow"),pe("\\Darr","\\Downarrow"),pe("\\lang","\\langle"),pe("\\rang","\\rangle"),pe("\\uarr","\\uparrow"),pe("\\uArr","\\Uparrow"),pe("\\Uarr","\\Uparrow"),pe("\\N","\\mathbb{N}"),pe("\\R","\\mathbb{R}"),pe("\\Z","\\mathbb{Z}"),pe("\\alef","\\aleph"),pe("\\alefsym","\\aleph"),pe("\\Alpha","\\mathrm{A}"),pe("\\Beta","\\mathrm{B}"),pe("\\bull","\\bullet"),pe("\\Chi","\\mathrm{X}"),pe("\\clubs","\\clubsuit"),pe("\\cnums","\\mathbb{C}"),pe("\\Complex","\\mathbb{C}"),pe("\\Dagger","\\ddagger"),pe("\\diamonds","\\diamondsuit"),pe("\\empty","\\emptyset"),pe("\\Epsilon","\\mathrm{E}"),pe("\\Eta","\\mathrm{H}"),pe("\\exist","\\exists"),pe("\\harr","\\leftrightarrow"),pe("\\hArr","\\Leftrightarrow"),pe("\\Harr","\\Leftrightarrow"),pe("\\hearts","\\heartsuit"),pe("\\image","\\Im"),pe("\\infin","\\infty"),pe("\\Iota","\\mathrm{I}"),pe("\\isin","\\in"),pe("\\Kappa","\\mathrm{K}"),pe("\\larr","\\leftarrow"),pe("\\lArr","\\Leftarrow"),pe("\\Larr","\\Leftarrow"),pe("\\lrarr","\\leftrightarrow"),pe("\\lrArr","\\Leftrightarrow"),pe("\\Lrarr","\\Leftrightarrow"),pe("\\Mu","\\mathrm{M}"),pe("\\natnums","\\mathbb{N}"),pe("\\Nu","\\mathrm{N}"),pe("\\Omicron","\\mathrm{O}"),pe("\\plusmn","\\pm"),pe("\\rarr","\\rightarrow"),pe("\\rArr","\\Rightarrow"),pe("\\Rarr","\\Rightarrow"),pe("\\real","\\Re"),pe("\\reals","\\mathbb{R}"),pe("\\Reals","\\mathbb{R}"),pe("\\Rho","\\mathrm{P}"),pe("\\sdot","\\cdot"),pe("\\sect","\\S"),pe("\\spades","\\spadesuit"),pe("\\sub","\\subset"),pe("\\sube","\\subseteq"),pe("\\supe","\\supseteq"),pe("\\Tau","\\mathrm{T}"),pe("\\thetasym","\\vartheta"),pe("\\weierp","\\wp"),pe("\\Zeta","\\mathrm{Z}"),pe("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),pe("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),pe("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),pe("\\bra","\\mathinner{\\langle{#1}|}"),pe("\\ket","\\mathinner{|{#1}\\rangle}"),pe("\\braket","\\mathinner{\\langle{#1}\\rangle}"),pe("\\Bra","\\left\\langle#1\\right|"),pe("\\Ket","\\left|#1\\right\\rangle");const nl=g=>f=>{const b=f.consumeArg().tokens,k=f.consumeArg().tokens,D=f.consumeArg().tokens,G=f.consumeArg().tokens,Q=f.macros.get("|"),ge=f.macros.get("\\|");f.macros.beginGroup();const Ne=dt=>wt=>{g&&(wt.macros.set("|",Q),D.length&&wt.macros.set("\\|",ge));let Zt=dt;return!dt&&D.length&&wt.future().text==="|"&&(wt.popToken(),Zt=!0),{tokens:Zt?D:k,numArgs:0}};f.macros.set("|",Ne(!1)),D.length&&f.macros.set("\\|",Ne(!0));const We=f.consumeArg().tokens,ot=f.expandTokens([...G,...We,...b]);return f.macros.endGroup(),{tokens:ot.reverse(),numArgs:0}};pe("\\bra@ket",nl(!1)),pe("\\bra@set",nl(!0)),pe("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),pe("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),pe("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),pe("\\angln","{\\angl n}"),pe("\\blue","\\textcolor{##6495ed}{#1}"),pe("\\orange","\\textcolor{##ffa500}{#1}"),pe("\\pink","\\textcolor{##ff00af}{#1}"),pe("\\red","\\textcolor{##df0030}{#1}"),pe("\\green","\\textcolor{##28ae7b}{#1}"),pe("\\gray","\\textcolor{gray}{#1}"),pe("\\purple","\\textcolor{##9d38bd}{#1}"),pe("\\blueA","\\textcolor{##ccfaff}{#1}"),pe("\\blueB","\\textcolor{##80f6ff}{#1}"),pe("\\blueC","\\textcolor{##63d9ea}{#1}"),pe("\\blueD","\\textcolor{##11accd}{#1}"),pe("\\blueE","\\textcolor{##0c7f99}{#1}"),pe("\\tealA","\\textcolor{##94fff5}{#1}"),pe("\\tealB","\\textcolor{##26edd5}{#1}"),pe("\\tealC","\\textcolor{##01d1c1}{#1}"),pe("\\tealD","\\textcolor{##01a995}{#1}"),pe("\\tealE","\\textcolor{##208170}{#1}"),pe("\\greenA","\\textcolor{##b6ffb0}{#1}"),pe("\\greenB","\\textcolor{##8af281}{#1}"),pe("\\greenC","\\textcolor{##74cf70}{#1}"),pe("\\greenD","\\textcolor{##1fab54}{#1}"),pe("\\greenE","\\textcolor{##0d923f}{#1}"),pe("\\goldA","\\textcolor{##ffd0a9}{#1}"),pe("\\goldB","\\textcolor{##ffbb71}{#1}"),pe("\\goldC","\\textcolor{##ff9c39}{#1}"),pe("\\goldD","\\textcolor{##e07d10}{#1}"),pe("\\goldE","\\textcolor{##a75a05}{#1}"),pe("\\redA","\\textcolor{##fca9a9}{#1}"),pe("\\redB","\\textcolor{##ff8482}{#1}"),pe("\\redC","\\textcolor{##f9685d}{#1}"),pe("\\redD","\\textcolor{##e84d39}{#1}"),pe("\\redE","\\textcolor{##bc2612}{#1}"),pe("\\maroonA","\\textcolor{##ffbde0}{#1}"),pe("\\maroonB","\\textcolor{##ff92c6}{#1}"),pe("\\maroonC","\\textcolor{##ed5fa6}{#1}"),pe("\\maroonD","\\textcolor{##ca337c}{#1}"),pe("\\maroonE","\\textcolor{##9e034e}{#1}"),pe("\\purpleA","\\textcolor{##ddd7ff}{#1}"),pe("\\purpleB","\\textcolor{##c6b9fc}{#1}"),pe("\\purpleC","\\textcolor{##aa87ff}{#1}"),pe("\\purpleD","\\textcolor{##7854ab}{#1}"),pe("\\purpleE","\\textcolor{##543b78}{#1}"),pe("\\mintA","\\textcolor{##f5f9e8}{#1}"),pe("\\mintB","\\textcolor{##edf2df}{#1}"),pe("\\mintC","\\textcolor{##e0e5cc}{#1}"),pe("\\grayA","\\textcolor{##f6f7f7}{#1}"),pe("\\grayB","\\textcolor{##f0f1f2}{#1}"),pe("\\grayC","\\textcolor{##e3e5e6}{#1}"),pe("\\grayD","\\textcolor{##d6d8da}{#1}"),pe("\\grayE","\\textcolor{##babec2}{#1}"),pe("\\grayF","\\textcolor{##888d93}{#1}"),pe("\\grayG","\\textcolor{##626569}{#1}"),pe("\\grayH","\\textcolor{##3b3e40}{#1}"),pe("\\grayI","\\textcolor{##21242c}{#1}"),pe("\\kaBlue","\\textcolor{##314453}{#1}"),pe("\\kaGreen","\\textcolor{##71B307}{#1}");const eo={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class du{constructor(f,b,k){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=b,this.expansionCount=0,this.feed(f),this.macros=new J0(S0,b.macros),this.mode=k,this.stack=[]}feed(f){this.lexer=new cc(f,this.settings)}switchMode(f){this.mode=f}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(f){this.stack.push(f)}pushTokens(f){this.stack.push(...f)}scanArgument(f){let b,k,D;if(f){if(this.consumeSpaces(),this.future().text!=="[")return null;b=this.popToken(),{tokens:D,end:k}=this.consumeArg(["]"])}else({tokens:D,start:b,end:k}=this.consumeArg());return this.pushToken(new is("EOF",k.loc)),this.pushTokens(D),new is("",Ci.range(b,k))}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(f){const b=[],k=f&&f.length>0;k||this.consumeSpaces();const D=this.future();let G,Q=0,ge=0;do{if(G=this.popToken(),b.push(G),G.text==="{")++Q;else if(G.text==="}"){if(--Q,Q===-1)throw new p("Extra }",G)}else if(G.text==="EOF")throw new p("Unexpected end of input in a macro argument, expected '"+(f&&k?f[ge]:"}")+"'",G);if(f&&k)if((Q===0||Q===1&&f[ge]==="{")&&G.text===f[ge]){if(++ge,ge===f.length){b.splice(-ge,ge);break}}else ge=0}while(Q!==0||k);return D.text==="{"&&b[b.length-1].text==="}"&&(b.pop(),b.shift()),b.reverse(),{tokens:b,start:D,end:G}}consumeArgs(f,b){if(b){if(b.length!==f+1)throw new p("The length of delimiters doesn't match the number of args!");const D=b[0];for(let G=0;G<D.length;G++){const Q=this.popToken();if(D[G]!==Q.text)throw new p("Use of the macro doesn't match its definition",Q)}}const k=[];for(let D=0;D<f;D++)k.push(this.consumeArg(b&&b[D+1]).tokens);return k}countExpansion(f){if(this.expansionCount+=f,this.expansionCount>this.settings.maxExpand)throw new p("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(f){const b=this.popToken(),k=b.text,D=b.noexpand?null:this._getExpansion(k);if(D==null||f&&D.unexpandable){if(f&&D==null&&k[0]==="\\"&&!this.isDefined(k))throw new p("Undefined control sequence: "+k);return this.pushToken(b),!1}this.countExpansion(1);let G=D.tokens;const Q=this.consumeArgs(D.numArgs,D.delimiters);if(D.numArgs){G=G.slice();for(let ge=G.length-1;ge>=0;--ge){let Ne=G[ge];if(Ne.text==="#"){if(ge===0)throw new p("Incomplete placeholder at end of macro body",Ne);if(Ne=G[--ge],Ne.text==="#")G.splice(ge+1,1);else if(/^[1-9]$/.test(Ne.text))G.splice(ge,2,...Q[+Ne.text-1]);else throw new p("Not a valid argument number",Ne)}}}return this.pushTokens(G),G.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const f=this.stack.pop();return f.treatAsRelax&&(f.text="\\relax"),f}throw new Error}expandMacro(f){return this.macros.has(f)?this.expandTokens([new is(f)]):void 0}expandTokens(f){const b=[],k=this.stack.length;for(this.pushTokens(f);this.stack.length>k;)if(this.expandOnce(!0)===!1){const D=this.stack.pop();D.treatAsRelax&&(D.noexpand=!1,D.treatAsRelax=!1),b.push(D)}return this.countExpansion(b.length),b}expandMacroAsText(f){const b=this.expandMacro(f);return b&&b.map(k=>k.text).join("")}_getExpansion(f){const b=this.macros.get(f);if(b==null)return b;if(f.length===1){const D=this.lexer.catcodes[f];if(D!=null&&D!==13)return}const k=typeof b=="function"?b(this):b;if(typeof k=="string"){let D=0;if(k.indexOf("#")!==-1){const We=k.replace(/##/g,"");for(;We.indexOf("#"+(D+1))!==-1;)++D}const G=new cc(k,this.settings),Q=[];let ge=G.lex();for(;ge.text!=="EOF";)Q.push(ge),ge=G.lex();return Q.reverse(),{tokens:Q,numArgs:D}}return k}isDefined(f){return this.macros.has(f)||Vs.hasOwnProperty(f)||_r.math.hasOwnProperty(f)||_r.text.hasOwnProperty(f)||eo.hasOwnProperty(f)}isExpandable(f){const b=this.macros.get(f);return b!=null?typeof b=="string"||typeof b=="function"||!b.unexpandable:Vs.hasOwnProperty(f)&&!Vs[f].primitive}}const fu=/^[]/,hc=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Qc={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},ah={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class as{constructor(f,b){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new du(f,b,this.mode),this.settings=b,this.leftrightDepth=0}expect(f,b){if(b===void 0&&(b=!0),this.fetch().text!==f)throw new p("Expected '"+f+"', got '"+this.fetch().text+"'",this.fetch());b&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(f){this.mode=f,this.gullet.switchMode(f)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const f=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),f}finally{this.gullet.endGroups()}}subparse(f){const b=this.nextToken;this.consume(),this.gullet.pushToken(new is("}")),this.gullet.pushTokens(f);const k=this.parseExpression(!1);return this.expect("}"),this.nextToken=b,k}parseExpression(f,b){const k=[];for(;;){this.mode==="math"&&this.consumeSpaces();const D=this.fetch();if(as.endOfExpression.indexOf(D.text)!==-1||b&&D.text===b||f&&Vs[D.text]&&Vs[D.text].infix)break;const G=this.parseAtom(b);if(G){if(G.type==="internal")continue}else break;k.push(G)}return this.mode==="text"&&this.formLigatures(k),this.handleInfixNodes(k)}handleInfixNodes(f){let b=-1,k;for(let D=0;D<f.length;D++)if(f[D].type==="infix"){if(b!==-1)throw new p("only one infix operator per group",f[D].token);b=D,k=f[D].replaceWith}if(b!==-1&&k){let D,G;const Q=f.slice(0,b),ge=f.slice(b+1);Q.length===1&&Q[0].type==="ordgroup"?D=Q[0]:D={type:"ordgroup",mode:this.mode,body:Q},ge.length===1&&ge[0].type==="ordgroup"?G=ge[0]:G={type:"ordgroup",mode:this.mode,body:ge};let Ne;return k==="\\\\abovefrac"?Ne=this.callFunction(k,[D,f[b],G],[]):Ne=this.callFunction(k,[D,G],[]),[Ne]}else return f}handleSupSubscript(f){const b=this.fetch(),k=b.text;this.consume(),this.consumeSpaces();let D;do{var G;D=this.parseGroup(f)}while(((G=D)==null?void 0:G.type)==="internal");if(!D)throw new p("Expected group after '"+k+"'",b);return D}formatUnsupportedCmd(f){const b=[];for(let G=0;G<f.length;G++)b.push({type:"textord",mode:"text",text:f[G]});const k={type:"text",mode:this.mode,body:b};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[k]}}parseAtom(f){const b=this.parseGroup("atom",f);if(b?.type==="internal"||this.mode==="text")return b;let k,D;for(;;){this.consumeSpaces();const G=this.fetch();if(G.text==="\\limits"||G.text==="\\nolimits"){if(b&&b.type==="op"){const Q=G.text==="\\limits";b.limits=Q,b.alwaysHandleSupSub=!0}else if(b&&b.type==="operatorname")b.alwaysHandleSupSub&&(b.limits=G.text==="\\limits");else throw new p("Limit controls must follow a math operator",G);this.consume()}else if(G.text==="^"){if(k)throw new p("Double superscript",G);k=this.handleSupSubscript("superscript")}else if(G.text==="_"){if(D)throw new p("Double subscript",G);D=this.handleSupSubscript("subscript")}else if(G.text==="'"){if(k)throw new p("Double superscript",G);const Q={type:"textord",mode:this.mode,text:"\\prime"},ge=[Q];for(this.consume();this.fetch().text==="'";)ge.push(Q),this.consume();this.fetch().text==="^"&&ge.push(this.handleSupSubscript("superscript")),k={type:"ordgroup",mode:this.mode,body:ge}}else if(hc[G.text]){const Q=fu.test(G.text),ge=[];for(ge.push(new is(hc[G.text])),this.consume();;){const We=this.fetch().text;if(!hc[We]||fu.test(We)!==Q)break;ge.unshift(new is(hc[We])),this.consume()}const Ne=this.subparse(ge);Q?D={type:"ordgroup",mode:"math",body:Ne}:k={type:"ordgroup",mode:"math",body:Ne}}else break}return k||D?{type:"supsub",mode:this.mode,base:b,sup:k,sub:D}:b}parseFunction(f,b){const k=this.fetch(),D=k.text,G=Vs[D];if(!G)return null;if(this.consume(),b&&b!=="atom"&&!G.allowedInArgument)throw new p("Got function '"+D+"' with no arguments"+(b?" as "+b:""),k);if(this.mode==="text"&&!G.allowedInText)throw new p("Can't use function '"+D+"' in text mode",k);if(this.mode==="math"&&G.allowedInMath===!1)throw new p("Can't use function '"+D+"' in math mode",k);const{args:Q,optArgs:ge}=this.parseArguments(D,G);return this.callFunction(D,Q,ge,k,f)}callFunction(f,b,k,D,G){const Q={funcName:f,parser:this,token:D,breakOnTokenText:G},ge=Vs[f];if(ge&&ge.handler)return ge.handler(Q,b,k);throw new p("No function handler for "+f)}parseArguments(f,b){const k=b.numArgs+b.numOptionalArgs;if(k===0)return{args:[],optArgs:[]};const D=[],G=[];for(let Q=0;Q<k;Q++){let ge=b.argTypes&&b.argTypes[Q];const Ne=Q<b.numOptionalArgs;(b.primitive&&ge==null||b.type==="sqrt"&&Q===1&&G[0]==null)&&(ge="primitive");const We=this.parseGroupOfType("argument to '"+f+"'",ge,Ne);if(Ne)G.push(We);else if(We!=null)D.push(We);else throw new p("Null argument, please report this as a bug")}return{args:D,optArgs:G}}parseGroupOfType(f,b,k){switch(b){case"color":return this.parseColorGroup(k);case"size":return this.parseSizeGroup(k);case"url":return this.parseUrlGroup(k);case"math":case"text":return this.parseArgumentGroup(k,b);case"hbox":{const D=this.parseArgumentGroup(k,"text");return D!=null?{type:"styling",mode:D.mode,body:[D],style:"text"}:null}case"raw":{const D=this.parseStringGroup("raw",k);return D!=null?{type:"raw",mode:"text",string:D.text}:null}case"primitive":{if(k)throw new p("A primitive argument cannot be optional");const D=this.parseGroup(f);if(D==null)throw new p("Expected group as "+f,this.fetch());return D}case"original":case null:case void 0:return this.parseArgumentGroup(k);default:throw new p("Unknown group type as "+f,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(f,b){const k=this.gullet.scanArgument(b);if(k==null)return null;let D="",G;for(;(G=this.fetch()).text!=="EOF";)D+=G.text,this.consume();return this.consume(),k.text=D,k}parseRegexGroup(f,b){const k=this.fetch();let D=k,G="",Q;for(;(Q=this.fetch()).text!=="EOF"&&f.test(G+Q.text);)D=Q,G+=D.text,this.consume();if(G==="")throw new p("Invalid "+b+": '"+k.text+"'",k);return k.range(D,G)}parseColorGroup(f){const b=this.parseStringGroup("color",f);if(b==null)return null;const k=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(b.text);if(!k)throw new p("Invalid color: '"+b.text+"'",b);let D=k[0];return/^[0-9a-f]{6}$/i.test(D)&&(D="#"+D),{type:"color-token",mode:this.mode,color:D}}parseSizeGroup(f){let b,k=!1;if(this.gullet.consumeSpaces(),!f&&this.gullet.future().text!=="{"?b=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):b=this.parseStringGroup("size",f),!b)return null;!f&&b.text.length===0&&(b.text="0pt",k=!0);const D=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(b.text);if(!D)throw new p("Invalid size: '"+b.text+"'",b);const G={number:+(D[1]+D[2]),unit:D[3]};if(!yt(G))throw new p("Invalid unit: '"+G.unit+"'",b);return{type:"size",mode:this.mode,value:G,isBlank:k}}parseUrlGroup(f){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const b=this.parseStringGroup("url",f);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),b==null)return null;const k=b.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:k}}parseArgumentGroup(f,b){const k=this.gullet.scanArgument(f);if(k==null)return null;const D=this.mode;b&&this.switchMode(b),this.gullet.beginGroup();const G=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const Q={type:"ordgroup",mode:this.mode,loc:k.loc,body:G};return b&&this.switchMode(D),Q}parseGroup(f,b){const k=this.fetch(),D=k.text;let G;if(D==="{"||D==="\\begingroup"){this.consume();const Q=D==="{"?"}":"\\endgroup";this.gullet.beginGroup();const ge=this.parseExpression(!1,Q),Ne=this.fetch();this.expect(Q),this.gullet.endGroup(),G={type:"ordgroup",mode:this.mode,loc:Ci.range(k,Ne),body:ge,semisimple:D==="\\begingroup"||void 0}}else if(G=this.parseFunction(b,f)||this.parseSymbol(),G==null&&D[0]==="\\"&&!eo.hasOwnProperty(D)){if(this.settings.throwOnError)throw new p("Undefined control sequence: "+D,k);G=this.formatUnsupportedCmd(D),this.consume()}return G}formLigatures(f){let b=f.length-1;for(let k=0;k<b;++k){const D=f[k],G=D.text;G==="-"&&f[k+1].text==="-"&&(k+1<b&&f[k+2].text==="-"?(f.splice(k,3,{type:"textord",mode:"text",loc:Ci.range(D,f[k+2]),text:"---"}),b-=2):(f.splice(k,2,{type:"textord",mode:"text",loc:Ci.range(D,f[k+1]),text:"--"}),b-=1)),(G==="'"||G==="`")&&f[k+1].text===G&&(f.splice(k,2,{type:"textord",mode:"text",loc:Ci.range(D,f[k+1]),text:G+G}),b-=1)}}parseSymbol(){const f=this.fetch();let b=f.text;if(/^\\verb[^a-zA-Z]/.test(b)){this.consume();let G=b.slice(5);const Q=G.charAt(0)==="*";if(Q&&(G=G.slice(1)),G.length<2||G.charAt(0)!==G.slice(-1))throw new p(`\\verb assertion failed --
                    please report what input caused this bug`);return G=G.slice(1,-1),{type:"verb",mode:"text",body:G,star:Q}}ah.hasOwnProperty(b[0])&&!_r[this.mode][b[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+b[0]+'" used in math mode',f),b=ah[b[0]]+b.slice(1));const k=Zc.exec(b);k&&(b=b.substring(0,k.index),b==="i"?b="":b==="j"&&(b=""));let D;if(_r[this.mode][b]){this.settings.strict&&this.mode==="math"&&ns.indexOf(b)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+b[0]+'" used in math mode',f);const G=_r[this.mode][b].group,Q=Ci.range(f);let ge;if(hr.hasOwnProperty(G)){const Ne=G;ge={type:"atom",mode:this.mode,family:Ne,loc:Q,text:b}}else ge={type:G,mode:this.mode,loc:Q,text:b};D=ge}else if(b.charCodeAt(0)>=128)this.settings.strict&&(Ft(b.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+b[0]+'" used in math mode',f):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+b[0]+'"'+(" ("+b.charCodeAt(0)+")"),f)),D={type:"textord",mode:"text",loc:Ci.range(f),text:b};else return null;if(this.consume(),k)for(let G=0;G<k[0].length;G++){const Q=k[0][G];if(!Qc[Q])throw new p("Unknown accent ' "+Q+"'",f);const ge=Qc[Q][this.mode]||Qc[Q].text;if(!ge)throw new p("Accent "+Q+" unsupported in "+this.mode+" mode",f);D={type:"accent",mode:this.mode,loc:Ci.range(f),label:ge,isStretchy:!1,isShifty:!0,base:D}}return D}}as.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var C0=function(g,f){if(!(typeof g=="string"||g instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const b=new as(g,f);delete b.gullet.macros.current["\\df@tag"];let k=b.parse();if(delete b.gullet.macros.current["\\current@color"],delete b.gullet.macros.current["\\color"],b.gullet.macros.get("\\df@tag")){if(!f.displayMode)throw new p("\\tag works only in display equations");k=[{type:"tag",mode:"text",body:k,tag:b.subparse([new is("\\df@tag")])}]}return k};let k0=function(g,f,b){f.textContent="";const k=t1(g,b).toNode();f.appendChild(k)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),k0=function(){throw new p("KaTeX doesn't work in quirks mode.")});const e1=function(g,f){return t1(g,f).toMarkup()},Ba=function(g,f){const b=new we(f);return C0(g,b)},Z0=function(g,f,b){if(b.throwOnError||!(g instanceof p))throw g;const k=be.makeSpan(["katex-error"],[new j(f)]);return k.setAttribute("title",g.toString()),k.setAttribute("style","color:"+b.errorColor),k},t1=function(g,f){const b=new we(f);try{const k=C0(g,b);return Rl(k,g,b)}catch(k){return Z0(k,g,b)}};var Li={version:"0.16.25",render:k0,renderToString:e1,ParseError:p,SETTINGS_SCHEMA:K,__parse:Ba,__renderToDomTree:t1,__renderToHTMLTree:function(g,f){const b=new we(f);try{const k=C0(g,b);return Ll(k,g,b)}catch(k){return Z0(k,g,b)}},__setFontMetrics:nr,__defineSymbol:B,__defineFunction:zt,__defineMacro:pe,__domTree:{Span:Ar,Anchor:Y,SymbolNode:j,SvgNode:Ee,PathNode:Fe,LineNode:Mt}},pl=Li;return a=a.default,a})()})})(y5)),y5.exports}var qb=Q2.exports,dm;function Xb(){return dm||(dm=1,(function(r,o){(function(n,a){a(o,D5(),Z8(),Wb())})(qb,function(n,a,h,p){Object.defineProperty(n,"__esModule",{value:!0});function $(ce,K){for(var se in K)Object.defineProperty(ce,se,{enumerable:!0,get:K[se]})}$(n,{BlockMath:()=>te,InlineMath:()=>he}),a=E(a),h=_(h),p=_(p);function _(ce){return ce&&ce.__esModule?ce:{default:ce}}function y(ce){if(typeof WeakMap!="function")return null;var K=new WeakMap,se=new WeakMap;return(y=function(we){return we?se:K})(ce)}function E(ce,K){if(ce&&ce.__esModule)return ce;if(ce===null||typeof ce!="object"&&typeof ce!="function")return{default:ce};var se=y(K);if(se&&se.has(ce))return se.get(ce);var we={},Oe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var De in ce)if(De!=="default"&&Object.prototype.hasOwnProperty.call(ce,De)){var Se=Oe?Object.getOwnPropertyDescriptor(ce,De):null;Se&&(Se.get||Se.set)?Object.defineProperty(we,De,Se):we[De]=ce[De]}return we.default=ce,se&&se.set(ce,we),we}const w=(ce,{displayMode:K})=>{const se=({children:we,errorColor:Oe,math:De,renderError:Se})=>{const je=De??we,{html:at,error:Ze}=(0,a.useMemo)(()=>{try{return{html:p.default.renderToString(je,{displayMode:K,errorColor:Oe,throwOnError:!!Se}),error:void 0}}catch(Ke){if(Ke instanceof p.default.ParseError||Ke instanceof TypeError)return{error:Ke};throw Ke}},[je,Oe,Se]);return Ze?Se?Se(Ze):a.default.createElement(ce,{html:`${Ze.message}`}):a.default.createElement(ce,{html:at})};return se.propTypes={children:h.default.string,errorColor:h.default.string,math:h.default.string,renderError:h.default.func},se},I={html:h.default.string.isRequired},H=({html:ce})=>a.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:ce}});H.propTypes=I;const F=({html:ce})=>a.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:ce}});F.propTypes=I;const te=w(H,{displayMode:!0}),he=w(F,{displayMode:!1})})})(Q2,Q2.exports)),Q2.exports}var F6=Xb();function jb({state:r}){const o=r||{lhs:"",rhs:"",sign:"="},[n,a]=Tn.useState(o),[h,p]=Tn.useState(!1),$=r?.implicit===!0,_=H=>{if(!H)return"";let F=String(H);return $?(F=F.replace(/(\d)\s*\*\s*([a-zA-Z])/g,"$1$2"),F=F.replace(/\b1([a-zA-Z])/g,"$1"),F=F.replace(/\*/g,"\\times ")):F=F.replace(/\*/g,"\\times "),F},y=H=>H==="*"?"\\times":H==="/"?"\\div":H;Tn.useEffect(()=>{if(r&&r.lastOp){p(!0);const H=setTimeout(()=>{p(!1),a(r)},2500);return()=>clearTimeout(H)}else r&&a(r)},[r]);let E=_(n.lhs),w=_(n.rhs);const I=String(n.sign||"=");if(h&&r.lastOp){const H=_(r.lastOp.val),F=`{\\color{#e74c3c} \\quad ${y(r.lastOp.op)} \\; ${H}}`;E=`${E} ${F}`,w=`${w} ${F}`}return ye.jsxs("div",{className:"w-full h-full bg-white flex flex-col justify-center items-center font-sans relative overflow-hidden",children:[ye.jsx("div",{className:"w-full overflow-x-auto flex justify-center p-4 custom-scrollbar",children:ye.jsxs("div",{className:"flex items-center gap-4 text-3xl md:text-4xl text-slate-700 animate-in fade-in duration-500 whitespace-nowrap",children:[ye.jsx("div",{className:"bg-slate-50 px-6 py-4 rounded-2xl border-b-4 border-slate-200 shadow-sm min-w-[120px] text-center flex items-center justify-center",children:E?ye.jsx(F6.InlineMath,{math:E}):ye.jsx("span",{className:"text-slate-300 text-2xl",children:"?"})}),ye.jsx("div",{className:"text-slate-400 font-bold text-2xl",children:ye.jsx(F6.InlineMath,{math:I})}),ye.jsx("div",{className:"bg-slate-50 px-6 py-4 rounded-2xl border-b-4 border-slate-200 shadow-sm min-w-[120px] text-center flex items-center justify-center",children:w?ye.jsx(F6.InlineMath,{math:w}):ye.jsx("span",{className:"text-slate-300 text-2xl",children:"?"})})]})}),ye.jsx("div",{className:"mt-8 text-slate-400 italic text-sm font-medium h-6",children:h?"Calcul en cours...":"En attente d'instructions"})]})}var _5={exports:{}},Yb=_5.exports,fm;function Kb(){return fm||(fm=1,(function(r){var o=(function(n){var a="1.1.13",h=new Ni,p=n.bigInt,$=n.bigDec;$.set({precision:250});var _={},y=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083],E={},w={callPeekers:!1,init_primes:1e3,exclude:[],suppress_errors:!1,PARSE2NUMBER:!1,SAFE:!1,IMAGINARY:"i",FUNCTION_MODULES:[Math],ALLOW_CHARS:[""],USE_MULTICHARACTER_VARS:!0,POWER_OPERATOR:"^",VALIDATION_REGEX:/^[a-z_ABEZHIKMNoOPTX][0-9a-z_ABEZHIKMNoOPTX]*$/i,IMPLIED_MULTIPLICATION_REGEX:/([\+\-\/\*]*[0-9]+)([a-z_ABEZHIKMNoOPTX]+[\+\-\/\*]*)/gi,ALIASES:{:"pi","":"Infinity"},POSITIVE_MULTIPLIERS:!1,CACHE:{},SILENCE_WARNINGS:!1,PRECISION:21,EXPRESSION_DECP:19,DEFAULT_DECP:16,VECTOR:"vector",PARENTHESIS:"parens",SQRT:"sqrt",ABS:"abs",FACTORIAL:"factorial",DOUBLEFACTORIAL:"dfactorial",LONG_PI:"3.14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196",LONG_E:"2.71828182845904523536028747135266249775724709369995957496696762772407663035354759457138217852516642742746639193200305992181741359662904357290033429526059563073813232862794349076323382988075319525101901",PI:Math.PI,E:Math.E,LOG:"log",LOG10:"log10",LOG10_LATEX:"log_{10}",MAX_EXP:2e5,SCIENTIFIC_MAX_DECIMAL_PLACES:14,SCIENTIFIC_IGNORE_ZERO_EXPONENTS:!0};(function(){w.CACHE.roots={};for(var d=40,C=40,P=2;P<=d;P++)for(var V=2;V<=C;V++){var oe=p(P).pow(V);w.CACHE.roots[oe+"-"+V]=P}})();var I=_.N=1,H=_.P=2,F=_.S=3,te=_.EX=4,he=_.FN=5,ce=_.PL=6,K=_.CB=7,se=_.CP=8,we=w.CONST_HASH="#",Oe=w.PARENTHESIS,De=w.SQRT,Se=w.ABS,je=w.FACTORIAL,at=w.DOUBLEFACTORIAL,Ze=[],Ke={},Pt=[],Ve=[],Xt=function(d,C){if(!w.suppress_errors)throw C?new C(d):new Error(d)},Lt=function(d){var C=function(P){this.name=d,this.message=P!==void 0?P:"";var V=new Error(this.message);V.name=this.name,this.stack=V.stack};return C.prototype=Object.create(Error.prototype),C},Ot=function(d){return Pt.indexOf(d)!==-1},st=function(d){for(var C=d[0],P=1,V=d.length;P<V;P++)if(!d[P].equals(C))return!1;return!0},St=function(d){Ve.push(d),w.SHOW_WARNINGS&&console&&console.warn&&console.warn(d)},vt=function(d,C){if(C=C||"variable",w.ALLOW_CHARS.indexOf(d)===-1){var P=w.VALIDATION_REGEX;if(!P.test(d))throw new In(d+" is not a valid "+C+" name")}},an=function(d){var C=Math.sign(d);if(d=Math.abs(d),/\d+\.?\d*e[\+\-]*\d+/i.test(d)){var P="0",V=String(d).toLowerCase().split("e"),oe=V.pop(),fe=Math.abs(oe),Me=oe/fe,be=V[0].split(".");if(Me===-1)fe=fe-be[0].length,fe<0?d=be[0].slice(0,fe)+"."+be[0].slice(fe)+(be.length===2?be[1]:""):d=P+"."+new Array(fe+1).join(P)+be.join("");else{var pt=be[1];pt&&(fe=fe-pt.length),fe<0?d=be[0]+pt.slice(0,fe)+"."+pt.slice(fe):d=be.join("")+new Array(fe+1).join(P)}}return C<0?"-"+d:d},de=function(d){for(var C=Math.floor(Math.sqrt(d)),P=2;P<=C;P++)if(d%P===0)return!1;return!0},Le=function(d,C){var P={};return P[d]=C,P},tt=function(d){return/^\d+\.?\d*$/.test(d)},_e=function(d){for(var C=0;C<d.length;C++)if(!tt(d[C]))return!1;return!0},Ft=function(d){return It(d)?Ft(d.multiplier.toDecimal()):d%1!==0},It=function(d){return d instanceof me},Qt=function(d){return d instanceof ui},cn=function(d,C,P){if(P=P||{c:[],add:function(be){this.c.indexOf(be)===-1&&isNaN(be)&&this.c.push(be)}},It(d)){var V=d.group,oe=d.previousGroup;if(V===te&&cn(d.power,C,P),V===se||V===K||oe===se||oe===K)for(var fe in d.symbols)cn(d.symbols[fe],C,P);else if(V===F||oe===F)d.value==="e"||d.value==="pi"||d.value===w.IMAGINARY||P.add(d.value);else if(V===ce||oe===ce)cn(Ie(d.symbols),C,P);else if(V===te)isNaN(d.value)||P.add(d.value),cn(d.power,C,P);else if(V===he&&!C)for(var Me=0;Me<d.args.length;Me++)cn(d.args[Me],C,P)}return P.c.sort()},Hn=function(d,C){for(var P=new me(0),V=0;V<d.length;V++){var oe=d[V];P=h.add(P,It(oe)?oe:h.parse(oe))}return C?Number(P):P},mn=function(d,C){d=h.expand(d),C=C||{};var P=function(V,oe){C[V]||(C[V]=new me(0)),C[V]=h.add(C[V],oe.clone())};return d.each(function(V){if(V.isConstant("all"))P("constants",V);else if(V.group===F)P(V.value,V);else if(V.group===he&&(V.fname===Se||V.fname===""))mn(V.args[0]);else{if(V.group===te||V.group===he)throw new Error("Unable to separate. Term cannot be a function!");P(cn(V).join(" "),V)}}),C},sn=function(d,C){C=C||d.length;for(var P=0;P<C;P++){var V=d[P];V||(d[P]=new me(0))}return d},qn=function(d){return d instanceof Fr},ct=function(d){return d instanceof _n},rn=function(d){return d instanceof sr},Br=function(d){return d.group===I||d.group===H},Zn=function(d){return d.group===F&&d.multiplier.equals(1)&&d.power.equals(1)},mr=function(d){return Array.isArray(d)},un=function(d){return/^[-+]?\d+e?\+?\d*$/gim.test(d.toString())},$i=function(d){return It(d)&&(d=d.multiplier),d.lessThan(0)},wi=function(d){return d&&String(d)},nr=function(d){return"("+d+")"},es=function(d,C,P,V){return d.substr(0,C)+V+d.substr(P,d.length)},li=function(d){return d!==void 0&&d.custom},rr=function(d,C){return d<0==C<0},Xn=function(){var d=[].slice.call(arguments),C=d.shift(),P=C.replace(/{(\d+)}/g,function(V,oe){var fe=d[oe];return typeof fe=="function"?fe():fe});return P},O=function(d,C,P){var V=[];P=P||1;for(var oe=d;oe<=C;oe++)V.push(oe*P);return V},ne=Object.keys,Ie=function(d,C,P){for(var V in d)break;return C?V:P?{key:V,obj:d[V]}:d[V]},Be=function(d,C,P){for(var V=5,oe={},fe,Me=0;Me<P.length;Me++)oe[P[Me]]=new me(Math.floor(Math.random()*V)+1);return hr("PARSE2NUMBER",function(){fe=h.parse(d,oe).equals(h.parse(C,oe))}),fe},nt=function(d,C,P){return vt(d),Ot(d)?null:(C=C||cn(h.parse(P)),h.functions[d]=[h.mapped_function,C.length,{name:d,params:C,body:P}],P)},Ye=function(d){return Math.max.apply(void 0,d)},yt=function(d){return Math.min.apply(void 0,d)},xt=function(d,C){if(d.sort(),C.sort(),d.length===C.length){for(var P=0;P<d.length;P++)if(d[P]!==C[P])return!1;return!0}return!1},L=function(d){for(var C=[],P=d.length,V=0;V<P;V++)C[V]=d[V].clone();return C},ae=function(d,C){C=C||20;var P=[],V,oe,fe;P.push(d[0]);for(var Me=0;Me<d.length-1;Me++){V=d[Me],oe=d[Me+1]-V,fe=oe/C;for(var be=0;be<C;be++)V+=fe,P.push(V)}return P},ze=function(d){var C,P;if(d.group===he&&d.fname===""?(C=me.unwrapPARENS(h.parse(d).toLinear()),P=h.parse(d.power)):d.group===H&&(C=h.parse(d.value),P=h.parse(d.power)),C&&P&&C.group===I&&P.group===I&&C.multiplier.isNegative()){for(var V=[],oe=me.toPolarFormArray(B(d)),fe=oe[0],Me=h.arg(C),be=P.multiplier.den.toString(),pt=P.multiplier.num.toString(),At="(({0})^({1})*(cos({3})+({2})*sin({3})))^({4})",Tt=0;Tt<be;Tt++){var gn=B(h.parse(Xn("(({0})+2*pi*({1}))/({2})",Me,Tt,be))).multiplier.toDecimal();V.push(B(h.parse(Xn(At,fe,be,w.IMAGINARY,gn,pt))))}return Fr.fromArray(V)}else if(d.isConstant(!0,!0)){var jt=d.sign(),Me=B(d.abs()),on=h.sqrt(Me),V=[on.clone(),on.negate()];jt<0&&(V=V.map(function(zt){return h.multiply(zt,me.imaginary())}))}else V=[h.parse(d)];return Fr.fromArray(V)},Pe=function(d,C){for(var P=d.length,V=[],oe=0;oe<d.length;oe++)V.push([d[oe],C[oe]]);V.sort(function(be,pt){return be[0]-pt[0]});var fe=[],Me=[];for(oe=0;oe<P;oe++)fe.push(V[oe][0]),Me.push(V[oe][1]);return[fe,Me]},Dt=function(d,C,P){C=String(C);var V,oe,fe,Me;if(d.group===se){var be=h.expand(d.clone()).stripVar(C);V=h.subtract(d.clone(),be.clone()),Me=be}else V=d.clone();return oe=V.stripVar(C),fe=h.divide(V.clone(),oe.clone()),Me=Me||new me(0),P?{a:oe,x:fe,ax:V,b:Me}:[oe,fe,V,Me]},Sn=function(d,C){return un(d)?d>=Number.MAX_VALUE?d.toString():Number(d):(C=typeof C>"u"?14:C,Math.round(d*Math.pow(10,C))/Math.pow(10,C))},Ar=function(d){for(var C="u",P=C,V=0,oe=cn(d);!(Pt.indexOf(P)===-1&&oe.indexOf(P)===-1);)P=C+V++;for(var fe=0,Me=Pt.length;fe<=Me;fe++)if(!Pt[fe]){Pt[fe]=P;break}return P},Y=function(d){var C=Pt.indexOf(d);C!==-1&&(Pt[C]=void 0)},ve=function(d,C){if(mr(d))for(var P=d.length,V=0;V<P;V++)C.call(d,V);else for(var oe in d)d.hasOwnProperty(oe)&&C.call(d,oe)},R=function(d){return d%2===0},j=function(d){return 1/(d%1)%2===0},Ee=function(d){for(var C=d.length,P=[],V=0;V<C;V++){var oe=d[V];P.indexOf(oe)===-1&&P.push(oe)}return P},Fe=function(d){for(var C=cn(d[0],null,null),P=1,V=d.length;P<V;P++)C=C.concat(cn(d[P]));return C=Ee(C).sort(),C},Mt=function(d,C){var P=typeof C;(P!=="function"||P==="undefined")&&(C=function(pt,At){return pt===At});for(var V=[];d.length;){var oe=d[0];if(d.length===1){V.push(oe);break}var fe=[];V.push(oe);for(var Me=1;Me<d.length;Me++){var be=d[Me];C(oe,be)||fe.push(be)}d=fe}return V},dn=function(d){var C=function(P){Pt.indexOf(P)===-1&&Pt.push(P)};typeof d=="string"?C(d):ve(d,function(P){C(P)})},Mn=function(d,C){var P;return mr(d)?P=d.splice(C,1)[0]:(P=d[C],delete d[C]),P},hr=function(d,C,P,V){var oe=w[d];w[d]=P===void 0?!0:!!P;var fe=C.call(V);return w[d]=oe,fe},xs=function(){var d={};for(var C in h.functions)d[C]=h.functions[C][0];return d},ts=function(d){return[].slice.call(d)},_r=function(d,C,P){var V=[];d.each(function(fe){if(fe.contains(C))var Me=fe.stripVar(C),be=h.divide(fe.clone(),Me.clone()),pt=be.power.toDecimal();else Me=fe,pt=0;var At=V[pt];V[pt]=At?h.add(At,Me):Me},!0);for(var oe=0;oe<V.length;oe++)V[oe]||(V[oe]=new me(0));return V},B=function(d,C){return hr("PARSE2NUMBER",function(){return h.parse(d,C)},!0)},W=function(d){if(mr(d)){for(var C=new Fr([]),P=0;P<d.length;P++)C.elements.push(W(d[P]));return C}return It(d)?d:h.parse(d)},en=function(d){for(var C=y[y.length-1]||2,P=C;P<d;P++)de(P)&&y.push(P)},x=function(d){for(var C=0;C<d.length;C++)if(d[C].group!==I)return!1;return!0},U=function(d){for(var C=0;C<d.length;C++)if(!(d[C].isPi()||d[C].isE())&&!d[C].isConstant(!0))return!1;return!0},Z=function(d,C,P){(C.isComposite()&&!d.isComposite()||C.isLinear()&&!d.isLinear())&&([d,C]=[C,d]);var V=new me(0);return d.isLinear()?d.each(function(oe){if(C.isComposite())C.isLinear()?C.each(function(Me){var be=h.multiply(h.parse(oe),h.parse(Me)),pt=h.expand(h.parse(be),P);V=h.add(V,pt)},!0):V=h.add(V,h.multiply(oe,h.parse(C)));else{var fe=h.multiply(h.parse(oe),h.parse(C));V=h.add(V,h.expand(fe,P))}},!0):V=h.multiply(d,C),V},J=Lt("DivisionByZero"),ke=Lt("ParseError"),ee=Lt("UndefinedError"),Ce=Lt("OutOfFunctionDomainError"),qe=Lt("MaximumIterationsReached"),rt=Lt("NerdamerTypeError"),lt=Lt("ParityError"),ie=Lt("OperatorError"),Bt=Lt("OutOfRangeError"),Ae=Lt("DimensionError"),In=Lt("InvalidVariableNameError"),On=Lt("ValueLimitExceededError"),Pr=Lt("NerdamerValueError"),pr=Lt("SolveError"),Pn=Lt("InfiniteLoopError"),ns=Lt("UnexpectedTokenError"),ai={DivisionByZero:J,ParseError:ke,OutOfFunctionDomainError:Ce,UndefinedError:ee,MaximumIterationsReached:qe,NerdamerTypeError:rt,ParityError:lt,OperatorError:ie,OutOfRangeError:Bt,DimensionError:Ae,InvalidVariableNameError:In,ValueLimitExceededError:On,NerdamerValueError:Pr,SolveError:pr,InfiniteLoopError:Pn,UnexpectedTokenError:ns},$n={csc:function(d){return 1/Math.sin(d)},sec:function(d){return 1/Math.cos(d)},cot:function(d){return 1/Math.tan(d)},acsc:function(d){return Math.asin(1/d)},asec:function(d){return Math.acos(1/d)},acot:function(d){return Math.PI/2-Math.atan(d)},erf:function(d){var C=1/(1+.5*Math.abs(d)),P=1-C*Math.exp(-d*d-1.26551223+C*(1.00002368+C*(.37409196+C*(.09678418+C*(-.18628806+C*(.27886807+C*(-1.13520398+C*(1.48851587+C*(-.82215223+C*.17087277)))))))));return d>=0?P:-P},diff:function(d){var C=.001,P=function(V){return(d(V+C)-d(V-C))/(2*C)};return P},median:function(...d){d.sort(function(P,V){return P-V});var C=Math.floor(d.length/2);return d.length%2?d[C]:(d[C-1]+d[C])/2},fromContinued:function(d){for(var C=d.fractions.slice(),P=1/C.pop(),V=0,oe=C.length;V<oe;V++)P=1/(C.pop()+P);return d.sign*(d.whole+P)},continuedFraction:function(d,C){C=C||20;for(var P=Math.sign(d),V=Math.abs(d),oe=Math.floor(V),fe=V-oe,Me=0,be=!1,pt=1e-14,At=1e7,Tt,gn,jt={whole:oe,sign:P,fractions:[]};!be&&fe!==0;){if(Tt=1/fe,gn=Math.floor(Tt),gn>At){var on=$n.fromContinued(jt)-d;if(on<=Number.EPSILON)break}jt.fractions.push(gn),fe=Tt-gn,(fe<=pt||Me>=C-1)&&(be=!0),Me++}var An=jt.fractions.length-1;return jt.fractions[An]===1&&(jt.fractions.pop(),jt.fractions[--An]++),jt},bigpow:function(d,C){d instanceof tn||(d=tn.create(d)),C instanceof tn||(C=tn.create(C));var P=new tn(0);if(C.isInteger())P.num=d.num.pow(C.toString()),P.den=d.den.pow(C.toString());else{var V=tn.create(Math.pow(d.num,C.num)),oe=tn.create(Math.pow(d.den,C.num));P.num=$n.nthroot(V,C.den.toString()),P.den=$n.nthroot(oe,C.den)}return P},gamma:function(d){var C=7,P=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(d<.5)return Math.PI/(Math.sin(Math.PI*d)*$n.gamma(1-d));d-=1;for(var V=P[0],oe=1;oe<C+2;oe++)V+=P[oe]/(d+oe);var fe=d+C+.5;return Math.sqrt(2*Math.PI)*Math.pow(fe,d+.5)*Math.exp(-fe)*V},bigfactorial:function(d){for(var C=new p(1),P=2;P<=d;P++)C=C.times(P);return new tn(C)},bigLog:function(d){var C=["-253631954333118718762629409109262279926288908775918712466601196032/39970093576053625963957478139049824030906352922262642968060706375","0","24553090145869607172412918483124184864289170814122579923404694986469653261608528681589949629750677407356463601998534945057511664951799678336/35422621391945757431676178435630229283255250779216421054188228659061954317501699707236864189383591478024245495110561124597124995986978302375","369017335340917140706044240090243368728616279239227943871048759140274862131699550043150713059889196223917527172547/335894053932612728969975338549993764554481173661218585876475837409922537622385232776657791604345125227005476864000","24606853025626737903121303930100462245506322607985779603220820323211395607931699126390918477501325805513849611930008427268176602460462988972957593458726734897129954728102144/17750092415977639787139561330326170936321452137635322313122938207611787444311735251389066106937796085669460151963285086542745859461943369606018450213014148175716400146484375","399073568781976806715759409052286641738926636328983929439450824555613704676637191564699164303012247386095942144825603522401740680808466858044/247958349743620302021733249049411604982786755454514947379317600613433680222511897950658049325685140346169718465773927872179874971908848116625","1468102989495846944084741146947295378041808701256909016224309866143294556551407470861354311593351276612463858816796714569499021375899793849136855085849133702029337910502448189055357182595424959360/819363879309286303497217527375463120404739098260200279520788950777458900438307356738082930586032462601215802636320993648007907724899611296693997216938989854861043298494990214825163523387600982777","5896704855274661767824574093605344871722790278354431422729640950821239030785642943033153793245906863203822369276271050164634206965056233097479117980782641839669/3030306850569309344013726745100070601277982132543905537366562638553198167007159067544789592089960911065181606283478843359856123992707598685058297067179343872000","76631772943534985713873427262830314617912556928476573358548256872141516989538374761909611879922349479420014771499018155447198112155515453671128814488139633810493264352294560043912066253026059140653027326566801398784/36852092933388988649396042883218509607503204211148493545892849595498822817623842579026942621098851631842754395231561679671400197056377380063233740202370686144673585955581403046886083948450136247134308381940165804875","3159076083816399509754948610929467278257473888282947311280653574634802580912280940686954763313882823327077171624015737719617373932318151594325834524000275847475866299387913048/1437757485694188822758304467756419845842037623148461107362957994816554782989250555362514354661961482939226272309026092009962414616417412938087494467254146002233028411865234375","22266067259907364984531611601870291368272674573653403965630628996687370994139884833897773468149149664829922302484782423514167405397665098388400450149078982462318781750661005833037235183394221496186539779712428265837926417581952/9670030144664428565128962309657100138096047028794689249320859276197340398920725569428532293373676415359965773460364494998334259893079003125373872108770534788283842907318071170285038777091588292539102269617376180390982915567375","14604654564989239958569331443385369522850975185358647132770022716433280072271007767111036877803328768910274400515590151934676819262085211828028638417329558229123989556376108454497813055/6090614019162516693013973409650613208227889078878781039105047015752493519149314227721984436973374032279421344818329285207124280297611253861173835238379831004010748379874393292231671808","1901241885407696031217292877862925220917660047127261026827869027159993239567933534052663335498281439239753018507182016153657409777749792228538380379703411298411623469292891476969894084838876001545818141543890273256985768690847587711270930688/765116019778838839812655402103512685695769161212360553099732689795578904762091216998790589926057819838537805856579109910198553330075924857419395160755642371550113347465300208422126945265887065434116781678702741657275181694851670325469434625","139459806786604751793737926146840623607010208216289543036026206208962059593900745886202214788747453279179283344350478734275973878932538430194363355795823581315329311220701640235653288975569812161436/54371368534412517053056101353618694718215711767266376573138772968257303578467926450212293233332401067673270853953399269852376592855992724934941173346260129257754416412476202526978443681584633116375","1045669091124493070709683241190022970908640501171378776604126771144008324358233819560649021940145166254659028524319517244711645162132513416238958170819347361185944945680269442845829390112062101255500836072082817820950448463314034677353723256969344/396228259004446234921310936915931611736815598535963504660076315228798989932959459406702091180060429080345146735173591749448509810270759531977278642135591672189002006272326131885315743181289970885337574780897529347356567086535505950450897216796875","9912919238915437302006264477931031611447467070103973106567538528951878797932559935860738745374437522819124347510590800370471910492338584284092534264608801221235029062881964101996762011296996851893455828946521/3660537472668264151218961634689665210933936249986285290553357254224360417386515311493310199319523687171757653216994741150377508234317025158302057758196429623723072084157928224798322861732880034847243894784000","9263710175433181746575186369318246002919895649622127410824041370079225200282403368319370743363303164313395723904510539050157032684710468364067204876434546848634842333436957245275217583248805993142227630297924119330553308466662488683624783307023014909360640/3341177182697517248552428837661919299725031035849865632511882688786226888137634168024976033652753689210700218163621739078534353578510364301481093730054725078138658805025014615651043313990684347632166030359086885561104034510990826655289288319840595753002771","5116082230713622171832327542439052727465114322479570603905499496221224653983960598946033081212909066917137546065542953865612718836914393275681318667667521726785633638189373998191090501201427906618075889744489190209584/1805752553736060443820406101277706970767657006346276183748749630179442318063568286372320188433843729960294965366346522303898609655762491623098453269916163621089005711823488749297418113474056676109581110715068124438875","246569125619713282434448566970352231845414317018379160824176638351574938993535464763890962336882760882398479702237564384291290459961036068916857265499633061660562532011248501476114401629839742058389195725393702000011860799793778295606988057303225493814005789533570432/85307063020836305797178273029353623060860009152114361453434032434699636078115114412588719432277441055049132559782203988387794711585368296817222565434951256788867244687081233632650953850383220864394261763844194948389861147622944651546912394593164406926489862036343375","133672026303452911046163998480860917119290576658330909785707604886881155606725822685088929236266583416708668502760907677019598002175122453170574729028452721476464728566191464897928696630979863154661704374206171469014225143/45398130975270785045482567762871405072140548998125471025451666500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","6041693953360002800224091673336562508913199995987479264605216252220579740134601435770085920869376641180763419907442721705887169884230643795126568815123647603047739799302562095542459344811429882053086550900803768964612193941424128649976704727183797495759082741166938351872/2016766992122395667828553277997478570503475626107286343497917705446132017125079612756035254750822860815515899557855166824523851779156336235294914777307802256439645525835223691751931866188957324792276149549076500784191791380803500156776088683900346065830066370370083309875","705868391597244582764749229356331441978820024796066870551110486625729826111158236686696326058778874201639006234449557592353247542995871491078308187261304930042019640830629526023972693107193897009168955674240659026247094657679060/231848642748474339277532000336338632910990823562381469441716922006107433404523316252618490265927265734670539384485699132080062215196462178933963957679882342083893417545858074378754089719547920901917516016346211301054206383643383","101832160604157943093944673541651013907278188571533075311673249923948856034633446617630054761681006062910980371900782781226979391765818325065031889334563981235894369036439929651260587335544056975715076598739977065390678221999918899003881778449092038750712969437519295878491018112/32944277910571666002449086492515464541550138004002141571670657643770713783329063548790202120805341989608877739811787937782240802963962520261844114327432160788193314874913687387269408387417806176202979244637915812905426565263196954203487934225589622864145960079736633434831996625","10655703119271468913597640479490594180964700448340778168715956712130636958373270202484276402718566314881119559090842449610957974112230306343486091910217340665146602598568991520563987490686996746558858366002301982443029430290679385551/3398412687366638541233365137084722368200311117891192348532156645374786104142009695796409107380345795998400850838706661851176885183144928701608654514812261697598380070746520197171576610572921007069104300695592751543563472456384512000","1903039332876763837419920240543738799531131775028971323439870868730321221615515008394327723508670975623498588291298064320786970626232668956372004004897872810230178526101184611242511193415796638694370503100219710864543168952682617801833318493436174387568067811938490953495819438108686336/598806534367503338307287246320963280558134937382149405305466709787179429317914803617527827862441615350396864359976273212272586892074799651088317544101755361439294687323233086696182687664637422796995789967075271448560870681210580691574924544896656175563265378514188341796398162841796875","525573915563826130963525826191411949262846916750432019596028344808298471293378917508549164993368392834023782480702893643486699787870059946429810070222126260200026332874480239090370088123833491499400991181659445914352500247596757005142623368/163278727324937389095822405034435687776345799835442022795533783889356344755225815267819508608559076191292900367982490827396869405536484846115955581043091229202052407483776587687967125885665493681707461345895999542381476164157058393971431375","9263815657177858787273494705338516861045771674838057329170239610953039987023429736752079544014780707408666628475997291124805562998227296677616204140605356257712022384368492575381355563976330347792504605666631512343447560301417325154003481040250148561839861837778597346623630046623751094400/2843321709948499955095590862256744532227698001408929142548057792217790532624003190447363578048562448168721539177458065482170148482375585867230123873178100117094533143052886527452665480614620123764036974180917207421482431983407742154634391264619615289225747664532332469783301704643254076601","407959339726114455622180187758753007349209016396248763075759257357925636039752474207685682218422721827857994768023399625060206708378433960993946156803948655098667156937949174400873748557248801874735834957795040139401560494087476967548060208243867/123780218751812156744401121690996305978134694678934447237402511116731459214498784497436358160964198336874043702652746834763131444030185151143987331404604087778514863973633941401826334750268416015224906056576641018962863645043976537664227639296000","2547676391598917379516698439971914695230548782904479778605691338364453606537643088857116141939170899135026552016969320061900926954008522781162186995856580955090548471448276736878300717869625651893741316530109438876067419826217901657017506157997588944233677467357220316084583383623602865379325184/764562034757392298786420374672266498815021229519853724850874576419885380830752931701831256959159800764672605004880389358601658343203513177084389490286723240185146570925957286083025676875197029662038213216541352875570101363668917766225709569356861275434470568767077844675593176178611021135573625","186545352286463730559933346565311535598243666022232037054735807289501173444103692309735768703898330430135399033529355360391658728987379385732098960609744313878477967971557204207043802935782878745271859468248704012618254203101767841517569443555143252/55399179641621656233589820996143825959365789093262978988289445625153099592463372579496245442338653053662134699646413817866770218574795378644415019944304868289119443774932782235638737888469746745621382139263856603239588594078668393194675445556640625","664884440164786473344854955309049113269357314957985265728106924238588705533437169796551912202931185746193155801905841712503407258166135075966280435780812714252670362202091663287095423712596462690753468682634261029392794173636943978404002804413009590005984736612421172979101972556772005594499779860608/195485517776407145286424460448995460754674039560651791192647586550615878988380153730602665795647187884543361218962125172808792176382956599256188706636727418572541254480798303566840010217729386905041217793614214518363859058348249961790104618910877813067510758225302884815410347238200133693756493703875","2614957283934314904315471338485451166053664494383241929385424599389309215073267052860464009981063483440201193771607520572077231889699858482582363845275452280606276949653970992719332472370351170732899676316967244504534154616036371979031399425846100527685/761493664432749089312665480773496290658029971027686543404885407644062485746072719559288231362060149626237939029641098328278650939665665969011529293869562636656650999759724704272743235210867676873525147820749560155294022488994426729939894753293900972032","124843380518493746761140367283007507854364503961156704095198010255465940085534099747297600085903814014415830785663764373057896014399822131175202342399536439284123918855893825207202244831315575594886675813256448846863723093240955901916229136393454605455444105444987028391748121054399538064686074523506176/36022228212051654395480210378626648518430280334458144892889271272122662467638331091863215146548048144675657239846337165813938424387499358852301016926312083940212100001220180762189978024821166744964908871443681332664798940660421469519997746775275873085770018269706847741064037876137315001228315806659875","827992369063043155578730871896750570951766628472810506926098505028264552046829097082095665194000002802661600196840639204300804225352337632259980703832713031790922485730615305441309917696044954289187837653933158950774246017223571461858939407386087081525130831392/236805932823686534991153393869288530368011574665859226704279685567723830696754821658770176385138917722808377962346690757191122309876922069867472518117628639913077442806147910884267694879089753138429767401700283014143248445966474839193628309668702223994071394625","17347276886878323736540051321582548724378497839789943634071026331001588645519865992773157565595886250230140452154269197770615097377486013097979087647774513500701793885978192218455687078883766086309728287172567466406449372659680040183273634701092561727514713494914793425407149186041796935055187281744386432/4919325621804683623339606849970832094714371903709195539440424738973575902329797546592497378000858196173718145883783709223158260700365224756081275272021856393735663399552166737690038832550853145831185979094979556715294990257315369124065787473707136464772247917156232366320267601622617803514003753662109375","137984231830526866236186357461458917020538108058615632801298091031540729111527734872044790487396302545910108285921421417358113055522725197998483383380192391312304647004240060970929072498293210057120617332323445379424867965764749534125081131327565507524502163460761/38810445792642817561168950890315210470940006613819790543653745327778579787694809782601777514116858514049585074667085399925278459138508514838268321349069481334967221455722811414399738756151414906092225265355449011152267068726417045644222323488445626292574879744000","746567120547823334914136339633766098626636643449144032626270358619125402826113269699709721071135471625588981126637674402048519990010499180844665151971356149292818375448504122545400227696621572263621729512461528550588108384619064912224884465737417596190735966915167530332762203074440688676123756162572829692160/208334337057923929636884170505570363171441147899816815785150954417598643614152856767186132467069365605496210036171429712485182162940460120834349006784956522600679357307849981862006710239311750261522832996877712350330290831638640913932265004107623954913155144975252743257846945609734368518424172846119306643431","64649371728330695076928013661001819989330953381731372450140483779536126948957993261299287753791770622512248630224724990234903928056275080682537641377393210728546364176267034339221558641084730052304770498929958838997239635790469536857863963589118888238069738647239076/17903951498200212327802847425913723358452100686246224008745414214690047078122925247086521362329833307849817944645647750649290248110509395628305970523384831671737569872597295947593410067364379687588919135621621162007748635920864926867870502568935739725312687094047375","2454918942158003099688922026016393688092399295166304634317616773083386087532869193458590448918958337530406410803840837646465522656670050113548208618655070231274778592766244282964463702354872753657766121825196898916725498553882689210280080206627916046484942827487726300822318764058084323314109595329304407466188383616/674880185931325925966586583820010578979699141814417326552629206140252348822939845006845669570885271576698771404162512001549922909048916000017837898649100825976232784446638776021483802989797501705685620612986771521390439936066527738682396560462899753657942715306792783283782238662155922082005591512296007820682995125","74018558041066162916454010680594042518462756234254788158141115244349044958441521749277686851928706433556285971088455226217644009628399441967508838553345152310730562224910795446341601049647392069373970101491741830623078126344928804029524181578945586663110848142571149861/20204153620006780689923328634586091101021423979622170579036140596085566172775051595588438592742563923428900864000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","2127032036758045513335690185608563023954009095206088224487365541995326714285119384743928987635752931664240752323937321097955456543854943206092931247498833001499955456190701695430459583885125382086777607021670447795321669948733328973350279846928613949120929250312666393359442423066212311060931469017737106028339882830848/576612418511902928757340062840968526862381326698309578771238715462180282212422302261044980131594522407066369222998903808960617461164985318633518680304995784614308979881735537678182134128319596636920719106506829571072447362052319438091347699720147003209417806230149598345068078717948025207635448205253184540936478445125","35289653975561083576641954928762116897061274899517309102784750384002335187117263273488751066569234386120759866204372398611196356888479036949053282301027789530999737306501029700128744408015642211359442183943916106790666114870974212159410284751571905275610921784716184508440/9503006066880728386808143045924119024212377150217533250562188228062174064693375135306438120385877320162710918716613546077156389583384656340709638430674364232343609717735574035535102953482366914421205216675248471695111720986346092738728929878538430662191272737183832556131","102633551023964794485575491065909467125458972250222581133681080524371507544152979467328048718122409841060527545925136196267751819689935599599321090571687632103850847605493223603751038996548520557330016046032671961857623066292962260173840972332108111505971231021442896036760967107060309991355545554631003681544611731245475968/27459658121882266328752886605529964804078316737648012166874496015808620265471203512606463219297059547428855195782384236337998738233668399173746663289852416697917397644234441300570212555870401420579737973722145663287124151049692290432756231390864184491891697469874600345958989433125942336757049639797225309327019275689074625","10034393558388390065766795008210457368713365491566387292163814915435906649268119060550511145023450790393353937124495488860451123302412204483570913557762460385297770427946219119911920640306914453207097103853766023934602534502476962159682750262143380527529536498215384467975023/2667919902603322771586358077760621955455470781865624844984169443739075976572061827709528710108877015489050369589117491611045518221354793418884447632063538994046714401229510497599783726376490260140723032102883617341970952663947646017489439179953454964374887388652792446976000","248528145263843375390386172800048509380966183384567983242213959113927668429802237067505890436957693495616107089384741585283620097982859345081736730899912519273262934785992235852866637878831878448348444611412764161078458068549719800733237024285525816723480868704742804077255242682077291713092790250511567621735004237450946304/65676865669148624809340872151906045781446981664561196686217551358486802274698228825404698950974939545099727242259547145392352658637333562345477931951890984276718673618736565926663528625796412420753961231404680876558659735251469326707567479071881966875336951133475135427640218972722939427821842173216282390058040618896484375","7805448718805635696495809414501206964843262114470109146341305656318015059743127114324245035489577134938579856003956861881125856595981500593426840968087618241785931128978516340812066502964561231235073012672356530509663384739132686548934288703179479011016719045530855033205271548/2050525178024039744126592505352202216905491833360272553169520915020715464206141942151086176509423406413311520838568324134077402841030113427309725873344806030836314500267104070131451720947531994814710189000076651895520222646974590481497382830325485174899169093049299764813276375","3355325071293197839434119105039673324264765809771192815982246040415580387729382404624613875653005261578877047405365032178619450963731719777167015959920645055600439987161800547901539269321100559393048973255388860193948274255340335876890491746900991668165565729269698196233805991206691196045182214641935483083662356666996922240/876402579119117579582569839757462461050855174353108858954282915644790659429341853404829661899850841645529640454766173209897510988090318303454542547519850473808789222552969933222203420847859171250332350076509996295844203965564448154484566493395403967626596213792922784509892086361572955175655987334882030766001799867659814117","218871061991045868372866381545267589365410350294028138778572466235486397478028823720846191998825628156716190463263492304639890659254282445466806224943413446008645087186307985343574807361972238230520975439736199291019544576443791916302825193643774360055545186783819367378492631806297/56849560726416896431557940314760680962653658127458002233782028041537121216487790008085876994020812492987733987414743604239935223783349870516284048368761617736127892160849065895223288023531930411718807065209903593668117085505482007061969339237404945180379460053180570404846043136000","5008685108365226931582937964451700746853986170633433728409171904803795018146152804690759530990140552460596075588463394200510044617816085275660078502126507209302951286606953039953843685800941558212440519542602092919776366067720586295390886070120828199562643208637974347390938772070049344991272621102622931576339988103674070876518912/1293888539680354282541277646947380627241979967611883341823378331667976045287311988103163380651334828012840330710760757271860219584371109472132211215957402251594055009937397184768184517621978947384029376766290498101728971145633139541827544539988344772578184316843734267915665730981857376872622787627370859411909330227080697966353375","15388340113525711660227566446101909585796746979396093776960989868457211684028149502578116456785221720682202816140911944661051001675127262774824593420825587319436537346311831003212424497488485098543512314062112948777572038731823948224734505930748371522309451168088057190162878224801232/3954220582960831691377435160890656173654063611768428458807273708040518769541211737927975894584024448193835165167801976423275767590502552964407494549049777006346189436817215329891530811451811864579644894987864267389290848598289794977382504890216219362031324635609053075313568115234375","5099039333987561374222193551155323470675617979816941646196895589439391685938046865391119484510329634015275893520725135141878751153360264368353595348921951280561029028912953500944814771064409611917475818956659775131751121312316084465321917769679881052144364834485866477379437705913911371481828140817759401117780199246301705600020671104/1303503600297679371136943454060319958680553228879031326679449263682048703103464872914972900105569835004878963701599765030590097739639045890060548760692125546754294514068052902543220382104483822438283040090444827980927544440984823535260277595466339403795403200720622852069244768910603820007632395190204569927612348189089161551951106625","4902837141334073026145827027361937996261324349722726869116185158777439337041263482852376194988371853413467559557923410949898048139830183335197992754748294810838187068126867611615800383834975563313220497573778480109264178673389149671194149749735833378557143135481387904961537942569904075/1247045310545991266291285730016853118981099516935251861146038369985109288084420528171217942065832292739130145780833406014673689119563698528225048800794718789218267628507713621235056538202070171596177775095071513194885568843375526804796016261173388452184505503341132236719484809714335744","38114743522716832107917466438257616720476488812538316101658139632867788464381862291240727309611460187159930652186486096300862388591521625093237019662273764387591494074792574929490381910446287947994150655077877204446864004067956087975012773988833339521775463977233068498404144221045837190392670308437391686081418318624745039402145439223552/9647001083383999453668111809775451078976046488746916070976218645431946648087171586252172936600115032316383427265217993193444199863138429602138841976586190525451324093772097241349417938578878934577091671046050326087898259692917931230974174799815198493279413438192301437068820185757869608523761456160341754512329264442115351926967120404125","573695055225225727008803730767518906490704995929177617646275646884555707960986625481944101622708415415988844740028718027554452662358957933526173824325955904005404113684003841990198157072540659184995738719040024647370869010473254071681533880576462368600901824622431045529064651675640055917092/144509482511118816399089096021290587489594541280398871255876563615464628718527634679330291741479135415168539765887291789615790513527330600394937614433502341116068305347468133950204152174094704092402978083370792135432486240914953928188835819767755172666693219213868545854371103120604946200875","23876960329653589647925126180903391687666378233201794403339630995420215267415575142266707357255726330536094448314199602616026935251126469221925945960901748679919435908556550271504767784553484434363646489174587463466333864577705745452492395785557425904735048180164697040313528831173448025400634629163795223739061661461986923675833880378496/5986312408594306954013526197465608559068621248896320652512228238115589875514604632230098997609482248000888567135685167138762172475788060284232459813998201719590208742091697294562538265829954186149162974972471533202880368317237508987477069872431064075005305838801862900501819963793062041081601844759452202282545840716920793056488037109375","58168289917567723171226992383559866214094157894992327555495441698028867727845766488121900626912848698952863438654895252811583144479300382761129433911280049009362667380001406579175563745824368613319103673817094498117944856004415812877213722455299491145649879676787079744410765053845551958756701/14517067289347903655500020160671113450349743650636953726251191692074385521975132268313263723831804150872238173602847065423463131917373356798750100313145228608894881457107689499956903046984443545789053438946050974567665049237414588435796381674590098629779384355275820782532479708807512981504000","728621890568281859295409481422447012528302594365693410763821707074444799793690738137592101239862736313347273167450056625929591960610208335290882047413011571781161008296084630072829079783328937418641417642857196346026366370059522990813537731394823630207433267854616768658990289454635793326766697884798538576055949457122067828153655416688640/181030730759516991863708593747964787874073354051675597050399087612142539517308720603687322924426591889179726492403913356461908748733972707460063017057809060190437917851790767968877215795679844983288935075688219234885360839984681619084834228226744165610073685719017596630302462070188937998558312507638434329299017584329479516410907786681093","86855946923438322218622470067224691860808273886184997065663554841573982963995340977083049132518812923329423480393306918856650577072525633920456721265953575424233701929892019410099166322511413146891121248381648145391642571638857576890568882512129960291171866772665863159474602604647289052079991768/21485753507365901947528588896402264670781310878547726104482740647554738151100954835784115119035980523529677083504495839730499664052882400915208251594384038810917282207449860876251558307288700200910747338758723324686939379138206117634546981163355060740270734146780942696291669461182599512320099625","2158989152301022938148680102142188531448821359505188055264665167313418619665693092337665573150374231484840948447637297247277576415460889296724813940128955070240137590073233263168835678714131062764247434144994737610229909964847568491446606012581370840699582055341626266533733744293929658949697805855362114229666626620766245630122333733703618176/531794915405164005613733454597931482878479882704956110685223892325074211694837836221759995948610212818642789132749082430059593652854659130217225506942675608692701447738732031302987802196501895840510235161825501235133794449421919927396142470196961877376701957829921152848178076410141813926924749057304222282687697297216661687583257901415465125","139432548574396829074586704387656697097760057897628994548358619815052936481650396157428747411173567801047221928593253479330480454469358220685854351236980383914223693722868233819483137401339800304943891968050399345430243790898955416907228948287367356990263740207046902209563417267686591994743547621/34201151688775214071963206765436083445901621442002061707492082843232231754829227303539041286301398668437202547003300396162741375435703188500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","11008517174872833286150985180322584448162884832099344969609291070844193524816852920942383850580217443209402836100467940651581092350600329145627967515818684442171571156446321228596914355704205623857871497315955269266498229823278800717909321269179839084452384509142712677235552103459737790674103994445173074670347080506698168482564009465276165824768/2689223396936080856855299215659204161946704205931885125148201643087176556822542895325191478283706585400237901215485150928036895428721912118467760766508162631903585126377676412573187912443878232521444786090510891599171741773242011017926658231638022943018461086517502584854390836347781674626615709751386455292026775663545470794167629144456268750125","16108638074211260588800537540680707641986073914251424878121255234668558067988171568946079848860335948991834525552515669040163026131919804987340113244760738846884911038097907756220945883750502673899084880578229601870882631165510396775126850307838505063922101682333806284668762825609556049426829531780/3919363961344261777100658318137884299575193089462944554282218278496298610828757650104922583359642384253066896538203596057302203635134833545580869871333892935330950583664400555463557735723364497947986885146043017010159347046389604172186788902608216894094289769850517098027486468084407618748895626853","34420755849180279597302103726180110022640946692592540634353734157479505420320000324260530767186132260970572450489530034440214259559325114511265075416512316229177952140217732655405289808326341696986755141965043719344169685611217958619102774617224847284122901023774956887687026904767714958090256282893003000752947427857703259704682455375442735857024/8342030311716679826889917494957593165464748884572298173556257652389845294530325764837124998293398445804458613956489096007564811101361266196542129764287084823604897187311540561857741285793447174119667215803837719660675298308873496219385226998078648428368061868944322478384684509466965129972030932418920415308276430355882329457342937549162000252625","345888075261020004071220843714060353763382280664960929903544964118831237876694384053904571498830068831026644303797377762345709976595360421502594656308937649239978525713471393570536680412814805076323426256584504251728507416368609420882442293831684681071553766603478479006495757222912500012444787804577811/83505703731469734628961395063481893801938371516752417759131774530720075262459158384433785006689548434701904106312038822969658455364219435022841597243178757423598248565463985786213156556523685666430799283870548238467817226915680747412191245046634279766450629886904716776719219698922088211154187845632000","1061717830619177527082296723099890392273896386613997004874669053445943252046748251883532634529759169500795452576392700472771365240996842610207274128102329096619028487369622001737128463631016494371635687841733644339636164570819431573829173533941056258744442930643735587780907310433371453992062647737259587563398111688659657406089003293576961475848704/255359631537215747979895955806995352799574790340218399351168178555478073997876110889483456972687438702262017800167048243754141722496276537685853311434069991222324039005160057724073156957530106623908696241268268096879569794431919729620178375212905203484165745866913773304319069321426245521467122472046370356725530914587807274074293673038482666015625","274122944106300296738399632684955400761495830361663966466225652918683099779465438024846903286816813856490888796372134557295699980528187779624865098445756013563535339056233912394908544185885547842235097677765325396255649207317018754967666450708249125316192200151505568416495274671679500594656671785202496/65687592621976546250581560102201535533608158256953087745856906437400149205693427285162333502528793675585022025602144243543064185647792948495372442630333800126269123531636800213405254045262127593759539706750242430153456891792533267948231185296091297979933562727112487057234422009426868531651634706262125","7842680480716516803148821198697967237136721860017131244266974996267074742248599085253569637183007740566941125452215834642683053334607896723447140851344501084122965014242091312411884985569341166545074688756440728922408743841592658677792796881188604773469108807869960161395759837407978596679911066586626885830991556090978327508459276025943279064965688960/1872528612245648675720382138045071131304652050696842872529163720558126655075937845539792108048310219395746259570506175902206215101518698490144716531697689534559827422735649881381597761684154409796315455445459537515308174919488497154409643876490472215352056502193150125644288086294418253309947229151074464928874881827227706992859640236086417889990541889","5300824422251242070074569186825929119848111723012841627275830216301188228660779008353049603527567784119877706984722171178137272986345560485784907345500893648715341273841147320288851034078863843374665850852481747000237834238703248634174397792745914847774297223176674917912406659831206869442510948965571661/1261140476013707338477604677428573831791396352814802149994640617701773078174882455512668089072441176857892331468691160991310474734143842336092636848492066592397892638052212250229129355009939118431643425836944282456647571558383755315238500832868535816144280088644939696339160092963629012001958205063168000","2220223718762215584659309059880106334425515875615107369399767892051551634000614327272260081056973863669004224981561870246078120862256383581012183852291444462730018546753183156982897386563561418424093883164027305254176874653780425452987066512563140531367766900610414277825262239199580925879453806414860409441845631158680721091621460775043562065815179617536/526383206607841251253861841374779803798480623722760367843070466043030228662340154304405180907941079883976168609082254331465595267209149963786388600028701073430773581228212441424400748220833542964971495005714483235359479470452593264280645360131482713147116366500300066771223383007216182988263355451923333319170174755334598973202740108032097242475554128875","521891797109626296684891455959263713257353500867652268541535940159815152120871142196535233326890353914761242025931373491906127275561002910157909306979093246574207104081108188995072105948138299097848175016082947174156278439986705241571619793059501724269644447572323501261424770743329858038040685313621446524/123310256826873923765604825413207481739886340225713108649758575106598510022338480189649787216845041382860899099250547657534972156328080736149239332330143771138115695598493059325064119176038137294863053148618656356436332991079150723235214278848602671333076219529535123842212129829931654967367649078369140625","66086044538329677372986118727999622900471937619891337714357792768200341519193500393739322894033303245376225584865369486696276607060432449792893028061817203932068085863800494054274423512956136695211796751845295921015953538329385253280866669403169919614982155350899648626481405781514434761541281229159396787287553493046927448595964103589100429722948913403008/15562137339474350565671240515273666798063901504051979980452491653975250630723677279081058884163396938548780856293034775459223871281049026140999055923743471466471830572672766633086347312178711643724485955576579988182546105048041649947277672869613992334541438784737993706482731696809943027528882927942967419447250586964258807454003775693567366165507144866375","335377615394100148751647837967017467711612297170079949298328061159559939969228226474615711044891085626519877634842694983669611974807129333052471799687426665556738316626171408219730853872410792831871526174987402129691897433888027072807302411474690613948951673562473758814664346259109886876538510453475290967835/78715592752271462306588358880337347638000605031000575876214116610339827495261512281635361568951675037834544811575026718101166562072917855004822606752296233435017284127594847656529606648345533195437635894948829857913798336356647286032372695130461573940500785137424365840081503133157308796505622439791698116608","20090879701618729602554170716780970848925039917987945471322994867171660307998603515745066411687983450400412739285577269751603921163835619296822801840348319742203974023505186187060251544248644338412667631232247108675504629538319425769464277309915502144443973397371136256151336255138506001292355330875114245901820438821732843540725116728866301271466614762497024/4700223519410528857298732096729483544820841497820611795617923063440946097326817340637303431283005509904481323205480729806879570430868897342398783028649633951362398196137429076844504529051072393709154483678349272930361110568616112723747726853614661953537957117231900032044221535502745676310313569997665352252492568100075191900969170979460298189170486601502625","2904778979985524171206573028445379872240558084236464200857594814631031581387804621371822074061289363372523364167184697785570324832815972970658633551879143187709707164796663015180877412717910872234647704536817108676736661804878068078543241390828229923424191204586313620612539678930999769543756218765870513049986792/677408099044823641581658869221044375312077929976719183424865834811543737800956896926637625166844372424044003929341361734886232742770909683021563822987505236295727478159938135467975522336774471915167606673489722102077041330652185811196423400701795791669780695158730756241178262962515917389382302757366325768069625","31270155809329751863885224732454397292230969002004953832354065319735530624996254695453061851449600345977646455072512400760539747054003851289540339425848681804190284451253462663731135337775088379954403740058084949675460445909826322297817535400604180338201322667139062500269285493417563095365899631360901732684124930296643108551710704785906431324876072470231424/7269578038000504017073007978844992319987411732848567116655821196644382777088703228960020894756722675887473977480537577509061256138261063926845643360849217556370868752909531088361229374467207196928745673402380473721018157327193509586295879051411183657185176812738231456253321187419224704301236205478184115996135940848503487199394612616742961108684539794921875","432538822079707760382094121020421735679118830363764570640789368235407853152380328891350816400541189148550353337874309885334920995713154225799660601389784410911658967499100610376065640785585342035058364676314084595283850213942576431310823836792440218271879354669291052589804956435743500204185107215929849054782893113/100246574739326291035824954677502591279343311051719151327066341370995390423713403739043396503785261917771859220535505691760472395306543276314938287868734009582906895763073519374099272340577921671298878837400921045252035507925021904954445172372479744465666760762909731237634082051855588025732494461939980856983552000","1914333673689206389116942789116917579088664511118582610293383428712902211612554212779880638065888518488492298586641997844141510832940409501694726851666478650414191249534733087933879981733561565249818572204932715347752949087800778646065986244657260832234479202201129845117955957242616947361016603702640821256099895469088229339240402478576285854783063612307200/442333801076281757298117784528962837115323835962460661601905131618341609371649347131724700192551574625400701487125984359494804828935577124602622582550626336986871791407398609915208114339012374456785705161994343348351473385887949809051796407340988735853810174589261300681030826392672282630613354461927208579993042968520650313621522933214063366558703422757071","5704691626402072213006354545292364761246893919997531024861408248746241619817955824682639582830486790618668221530365426203424888737658778881721063941495350237419723855000515747725926735319471480027293210991869255971365522170749568996651406002311020883635577590045650037569906001924971041810547543163363976464780729932/1314240362076792592671773873754757443276256223533339004339330559325754574023619698171225777585408160438834449576526997055649849875516310105297894855264038450585295422343454458568152668980131977005808840141079502436391909349182185596381509091427752151860204235071122788499996991078935216686010888734471173124487937875","451219364084386208718456142329444023337343409261545444643031014769484085278440612677813682892926852469540118625738238137458321112005189595703619178533263706811689687213128887082197330137502064260105387500552856851972124172206996205919556553246133218441769325133725631665593372188755090094541462474970525820334385058333756591222492801647110594428922046641945259392/103648250172203340865458115839764297558925693061798169434516001775068769911768281084188883278842546791612199025413573394167639925287068809631958006622842716869211374513136766899877504136929177267362862319748507372147243911522667591375015611312165464514308451222180272935398828092646393830572838772085366567154646425598388620105539619174837489536378605144891769625","1591076564577634575701791393842535460875733974464805197283632670013516183281542903377750304419996681222758401497321278555686661981435637461350320471258386388843198706277657208526372100698700615835733712519332548607115875288787602084336341594576426630670911478276101702119972195558314357975365863803265163991961173/364433108410193393847203348728981296285742202617988970384277162225847256295865554341611171460436362780497179090329831885853324392923449579538286804729856000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","5307507148709435807261229345132535134848030343901300324623409721698217134932866488937772986386501538026693956121121771089740095760486362654754229904633476234090792827930433598453200536551779789049352131005222659995845427680686677324963223653949277037520711609343166926627713758990384011274777087968799793410506391884872456420041494598273703914689586637995139580794368/1212244290381524115082005575105703496583315188540177702780216570265159923654197746388568151706509243638302707511238539845531608313334248788980188054651601536067740709977678222790481348003085034888244447626347312094586389347535167903408519024105748523384932942441843118813819781347089702286481924493361058339731949844620763272778960860509570622673048786968660129650125","3046577098843580578619955603029073328361298436129791931304665777036152915858575282362742008136721284817899542475666054101957899858138590963789072530710775790433466847100422875906866496318804986202089528198912098377828580031852152997907433335176267300286466072997014023120087988748396598176622765923059385876855303940720/693911859077752895978833241338902695755528613729508555938416419864772385336777924892434701804078893822446727762077537955240605927550548046309823051841326355655848406646248595628715185413852040295631448250459076043816328082561248420925930431777502622148019371383254316636979070731427737764160145097293260938978413488819","155310926743873343426312607182060072939030765297630534544899230213054714482456829198485999782086944271490229412707980997432528653509945301574794242118433868747172279224118534460563400440670015323324602117517342201640016853927923976796453577048995243600967202462466681112804476672348206491490513419336308575442086511015101999847896197546900512764233674747415844045184/35278162986589659300679088538176070649273991865663041616088851923111175518405117391134863644540911005782372831496121355954470744169969774540892096320978686548284501139861783292226140413769665461494668479430833892857992401391262903582109993838728281915806394747833588629467613308837196269424421131934859079260185052081536487462257809987002198437182539441349474426375","46729591025621874782758519074451728476386657576036360734358719976400940301493939192083339293779149127132651616972817165172116269307276487158069293114860391502484125554406945249728802484128756924044633825692779783425628292959170597009935305429239702926898931975023598456207165067568919757902764815108751735753431153581849/10585868084079030838651390738371141142245086465033459640458366146849314274285871375459898014414833295804139979016362796357043372316321872357817727821559232353993714062535883074661734509440994664726425399880995133711038483607773782532430879196405793694658185175583691180757783597895616920432527125993118171361116684288000","3736372348124144720852190769710129461145889011598636925228657393934132828633132357232883470466940330848177425542748100211498184494252714616379450272611850068867816250209867530921278645286769418080018709947826876461419654782341309127709703626401211996255743831998918894661053669189312375159058718767082163156988766821194002596331826150321864927832618126580509732359424/844176851007504003627016945212023239308348428094023437269532743221937069345682900884618378849283002998220513307273333096775669556093005637615012750733216460458689282791632437851364674879152695438589692227159038555722539345972833161146108367329370564838671791241431125003401861887477969954740544092178721327724620450947646209914621007186497081420384347438812255859375","1258774755828991281578968023382624723772927642002016270484090409043454336040857926581316994594109169123354553321469500848146015719851609220423736153365139804086413284787598253618361769125996755159571523632747129480387254164008968993734442164892486441152227433281625391753702577143985047832519062595123255569172968685060844/283659859661671181526547833415653453506477950678651675193210969173130116121017723360258249430884213011988678011357458727603413521688184521573094783291496368005697481333739504490647194454695504722542014845706216224432373442438242355188461951883454664693262684873988061018976711201351382163527093784753398257094429403691625","84932063355292829988908961192574710493098897148701473172754949846455626381329456661808566365329266898990829247446356970454502007127269708487563279536825277374133681167235811080298134899629580318813382668399644553111080625918213250223197440426147821225593304993621451053135332451997633132772608233430131400186571793929377129211228689703376067763625568623535588709576320/19089978133324852910950469658566458037096027722326716800113107848115231563787455584278193954518442601810776347091253561956877155673550458955562102935555510392954425196165785410319126098393353878286400877305164869548380670204577544630353859009177051698096136470072137579698473017257397949994722015089768745013713383769765609613514021200888647472804720456494757423299627","802638881530832431828249604040579750916118423833791608589560402449036920165704012070349537114920882938466635598602387718300074733476150548724726460209016834416094317724261857969955414000155807312852092720310159572547644569797512233899495300028159721348599816083166712365215075728968005941610056018023633235372936903015771583/179951197386119079732438617407921535065140503043429174394605652913879982486051627760652197484142547447000508189455126493868229565647284332735552462525598465192073558793335913005459266977086104359621022691931002488052727597513413492393525660272900161375677499228252863529934576881596384036401784035248649026076581302370304000","25208742399375362881099811032135575360109715964024747212026245529087599633280142314962581193303683759605084995818253124445773115574470717199218828756449187055537877478033129862600982068782249943150019637186466260707552416433010545437321814115233841687700051830170191107127799355485920046505591193770164750886037885397478191534797655616745528343172318318678405576430544896/5637713398995569614196397857525646325234056219513202928587580534159596897880731043336790273040813044077153051260989730372846713618900145444802234629922717464041261370803598799826604841654608724727320798324006129524610666235998113655193642594744544226880944882342204407750193512869672849910003246504052298022468012594459974209940607450480609190841893267203392880360823875","732332637178584560220688900268566130246820235956768724845747830959547501950765063982943061181526237061809052444110437930100210105274824607344902764184151030827266142225894655531497849161692760385938786736436977268616029862577293984376170905024712952813234949508186306774257035535805330366742322777611063402455261391021097128/163377988152179636922409938163005948596822656868040662831003991395905185823836089887990201522673196719628247106777881741843786365701135555917263285268753605514812568258179391272113405920369587922702002732667842511108732068683407168090725712401954314293193572654347237716691784386690948494003094992876867763698101043701171875","22391374854299462107923583267570593886002658786775211597896252879708753450794332301142909715845151746786016535157797023153041007263258732991465037648536702217273897876864351559736449481285518249846264600935543582562018874574655740660800634883403597181876364712521253650744197321080655028374602772696770227741610874399454362583980465225235674816785988164157351243193265401728/4983275997188967758382167867656806681565521964135131710678447245984239733544941881418957694612909599261843693554043504855207170782744518943778096768859337980470219783210191765678908537645270392500777411134164918803949155037581108678968701961544979451081836872425574123683574475790997414488641534074873248802450108535183413970057319247033379016606809226547805269752123746375","21252344995592269775107236774689012760750850598567799560343535731251766780016530978663079386453430272698006977668063208502408607227544322945446079708000304179073184745623740466334127867464883762843346619853325415963062181018736410570113171387891518398846617197097407612852037905687899800932343156979591740310928257766081697645/4718515378484509142377558412184183991357747235892194234377932213613746008373918923611236346330189287336493794499188640380975364991548794341177060325509698404571318037298112293926833877103554546466055612498927474225619680186119313129604319096374924037870803554153458104225741255753314955115645304948564151765516183663634546688","76703085666560609319365659209445044957052359500745196718269665234646121134787807938680787341023203786904308047981099228357850016602203539979246579454229078497537148799349353250167621935384193502383187510928609818011142642954550330069991570983902841318203794113898871515702445720207144863877026526025447819537396146822201819435536435835285098485990260677737192230985069824/16989892821104122916312992616665764943723222199277412857053896319814438961475117951904867066845412639236790762432996309717924037467863024360211163971190006272168845197000304328480920483651558672879967350982199768255256753110375467976246339260326422891913564151453729285191351273342206198366624882195135056176502724912849575385576554208844814085228696838834665339811027625","40153831166521391225489894857551838468150576827129133168972859441122728710165233865309084872159583787083130713473702296122465319276461991457173085312407612757280915853584698420083436946976844240063731333638150599017886937783470942007376523947840104246927580254612991191040951001539641947153847776050138532219595746056076776809812/8873576113581065493273519627544307418139908640325227196912114520903505426722086265723900326735989771660987609604507503750212298754414472822477243293638486047313990878348820573874809636084574108909615044524663712495422565151340037564156235745628465172219286664653343193162657374410926171153516871765680561505768223660055617934625","200736374277835272485186523480177159453030082779872429648449412313247640312479214261681899286513818912991945046297334418102711629933437654377760028476767482162031641781499114859553677502002901248124750539270235098492377826240319766677856465093871367817683734079621359186477306173620331748496369122143019303740252461824523590096923561928354020960176605008889579578495073283712/44259440065125442964014453739391594153290923937737136823355312892557975399035370631521014554980129291582486968083228888083079118116286312583989433037097397252506140224404130371160608365777625538148303917306340620019882928744151294738308047800711028158277500317134537540772759486365658024194428796846364486187105343266398338060080611643110071184992193593643605709075927734375","488459049325494693259159444507437983381645757291858092983371672334043029615965882574409808932509285079401239403272414271652617474184321852388397021836909585659327974611273820676128650810907598106588433939541654215766888212287311943387232664417347883717203611092450971786083806323404432266197250919880225892099146722474124874256523/107455855466267410923480140898552598306699341366032095904938430084768624148829473848763761936703072253841751966906142283640379336131083461646777390874405323298406517250231389493084918065243079819898691146841695350589992171102939046740169198394671965069747042621265775948217054519855346617967866614303497258042439052681849864192000","8430374068596413768975326329313648683222744787097373111477788794692418932056901235174019333392845529821722488982447683794746518712070635063397464904489452840169472596494433874412726723065560358405027764015273789053064830528919091414531400589850704395887250756457780868677553068164933299802944396576360356896758745030955907258232257358056931680617626606715393885378887657377280/1850480358582748412767893656294669486390769246349349706200869446679212812264400876685764762211659843658541567071977813110496329850010288179702589501255367345935389050373021591572539260951149696801665953123597521983257852207280970577287472932167362521740230973547070264273850381896786822127290397075758780174083415923482640313277341120938690594859118603017930500014640169211239","58273615882491925540881784328370957720539797010816130007322211512070634295154626813477498607761260613353633996451797686143131893884559909668805628269959901044961666535533876340116728982072626875010391195372759135469446048394835148654407846242721443845351855234347422256700864370273092971804207514736924787577569355949601385705517152/12763172138328432984573837529764902730448666594097466544652830703737195804747682450548488162227364538052585484418491914323658215406327363805353540266048943197822838925184942600367647278764952826664684839953902567694832690683467635727409976388280092262839126779730168889686628630302519063225007497707028600865624133968363921915016625","2685278694947152969468407055109959900160804835228466214479525891103128459065131221736713585038130737099067040196326815283171857977706979990467444622550497565521863441617001097354649972660183038850033950647594754644997436624623325003537308428828750008305464174443210079059253920383411910911594636045517662796811001285984447671371943267419151220518726940455756833040934506414133888/586864816044968996825907488721678304211296267371936463272955488077666796280028127333229453342355554450708284934221461946991556216095213627059047984199091625921432110913096253352065238765240063555347292393427726758010888546427415276046238297382474708612526770055488323003698641493939145624184943388159614111350839555141202024991876221874110644879676602924730506882384603409121625","27700345710264347957758638741952394530538598225904772664391173119594616680996031886665218221392453628824570256438960349220263575741495285780845399187013582169907518462437966962923592601721119258663490655013419675469864809004562272799012227293974254329929404036071055528766397079743200179924243479370594973626764330855493789112414191/6040997839051213541001279276287478343874107660287651711609067205111574718442229224212245187655300348484144001298428958025052162253854676210451657425437588244676589965820312500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","80160269787574270953020489212619791839643207793889009503234879683494928396231769167082355143564723274576166638869430572977442020236299319718643894871736539109822173538266278165276591962215927816541165548699380129014840956895931285215480350321259054359835472320394089646764361802445068798451796525897304221529850133401768027469126408090577121172238802281079916258951770135485696/17444957084936455555074876721808241311651668802091828589911310253709517226715880722948267977560381436307152342821304525073651379763144281678911047276389231713860392794975453518107055568765009486973017341479560154792340888780337029481646046233967923289468141293699236815196553819373828280398488966665994092877680860643266914861837639322607761804740256920429518434353839878280875","2352816897072623416220002134476921108405735955266703519252095150412419264317091785317803024028565851487861978477208755211589867803009700996828082850796103789009194767813611798769297617674631277847910238088040257037678126316866517601388289837575778165301828137259948173292658462765645645868094197736382683775415645307647043205988394700/510973411316690313485681833991645423802776865720580280058344111363363091616558230182669376841383375321912553771027107891991318313938505988903735114191313214327683449514676737796942389784957658395806951715454372568523597420866050825822028817422805046287798054682484158011143949412956697442991898914560191411624040490122951328364833797","6403295584873165688372907494046202150046769667837790834896334486679541887567517050446119511695248926941383207478170182650927368177009669717288184903306689332746127845953193587519575304974203099873732502605739219028995266139383163062837007982999189114810534856227848568800302527760100163350814120545587074865568436789021082619398126713943637898657861949091545516403987546145915409024/1387794272010111535893205703999712437783041553900341112488641528986385462810448493444968969845352401058333929711237978223214186693177251566069419805757440174840170213159651962686467523533938145629444468366235554597245713128812532716616087753947246800626006504878203666972651384731498770435755225220796872155249202960801768048854869001310722927230237083418017482134588865244642658875","82993247683514419570466529457059660634483860665557779709153549045427987672829778520201315148149878525274005978368939092115193636113741972236218502664881450367443614971109677363668874484696543982239492409231870942414193419634675024621942196087473557914167832058111113476295926250739099284241826553737074679953551191767148712684157318697/17950946423927357725787689855263532224005643859095168852729513034456208872420513601894508438640531171097082516559962755244698695622824386001219435651555513795509616906355363573638916895074349491513539093024980575852693293474288638209680085037286354050958859425647536735341886663074581909148323105020337857959651624760873736590065664000","584891611376763781852144397260140844977346305541197362434227194779766612939978629636198589818106137319267243431810481928639442343946346034433828599323416877248326356345631611148749005937144684862502198147087702668524450709118588741606955966569427636630159793409544653944608958808602551061186799401212712216156799273254257486955348236914237644151956226336750212957092204830385441792/126256710861549838395499078249922986417488985866522660521294610280820007499099176190820291214370699289977888813109514854178180265382471972583921477022411657285850911270389720508719377071949050253246021921916685716353393018411683757067093259101151481189635423399611625009617884983318141463140199839724797412514785751549277231259345923662499623640886881048572831787168979644775390625","4743054867460856425399742072925732465660626340183690464743217147109403130730445842673866624947360862438925194786600531200056131309608642363389833474026007798643235346104937733349791667694862514383520689594596660275306247615314272223660862212527346572811422915223417783887717426641317921972456913534338708745549252254865615725859881457906376/1021840037832289788284691535543138164288462770384961802287250236519983887262771944174557087207566030730743075334169628971336358708580124427857321953981475719503574867471090607795242192417162791762511940848493176847925838738242153177311649130718886794249673254183907621449520415060660496225939963471753122766421338241291756892571824984344625","3784664074155769467702999785016514468281913375341134899878893061325465790589101335015569840325786070795267055386681356241209412947116340524588831510768864231937929260236754881829005065056310226407358204278658699999612596866156294195316867934035877283950841910726224355461522065773816109849107487214275801829843762482082803559183694631856772777313673086715631547326400170962722842240/813783281473223559981291694175087508812520505931454895884442580280342455516154674683217348039336712901850738745276445107477919518905155156380620466135946654952837573797479076027688866326359448543065305071605591497778941561986579230698384305536224430794233462949056326864499827444363206162251104552740175503996670997705423888382328014210171324376593090187604268086334796245552762333","1946671258536842642381655747294621776070051525209940130115769153666368932042152311477746728678182920842238801763565726086459485050237860693394471644023999467670017470376746609892484192072297938254898880354014176373253875722410186683852253828299669530022166361304397631667133689128358365296701757782382475692465977794960109690362462330857/417774039698408581013003883929127512062321623871486379101498968145670269174833505080260389860863417408848209525427705249526516766731427603641806256289098209429110794311660844125377702016056984573671024035213045475132134896835814746425864304907974005950155657789157496389234919107772201305672421982198984613601511388413381215220924416000","328578487723377153600821813410631465225159589727320893988991729306688663770697528156625398176929288628930496338036815910669579019719633124832162035588583242320537435554101841406566009219059042888412893352417446437227440076869427577701706713564212185163005644118869496869980925214424591264870388237079776503547314587137721633918824664946974571838634860386893404364499977966899068777016064/70382695927096628347637455030970644630942872888311870124896575877585692281624151103204551947776906510366521972834357031777287506848887607457751667816514216907338309372900327919413372044625602555866294337672022362865161523684052940126509854895320132828009551012639156341878073682501185688461720664801829933689280752623773789373199210473995823367199793407048741191786377993390965297664875","2617201476921368517857942326432090876874414269689140439151907982631768946799200744678055980827789859579196832718849393046147656447672531861353456343821196812881882023188898815179947651274131166835133965629115749368441605680383605331300030886676081418867305170012032824011912531673468215561506423833911621270680104083533917562622600478548/559567121085534865189976875600841717161617153776904752351231210970240323460800785728739412474960421770806162360125774000625035522428160837855944215417821324758873127567654244465281354654299068546570789547691342609793050301258532586131013585959164719533123826201937801986942606844854123769532447570107525081084531848318874835968017578125","636225736038986537559880265988431731529837451289737542395494683393492040808565905376235074534207026537145408562785279823547657299565440309510931336394031904920056464959974743525662459433889398003683078967642651812081450227654478095420306880762753401111260630654049389197602389949892636943971690212484981672010398108426002137114819838399222096538921225458913266993881960732663394566024064/135776510176793971074115131648637508758953050390591773574951317807919051619690313331192027871176160424663811116849856489187562728496099757910540362703888937768555824513740118941387831822900198029266206334350448626733139136083404404120210893986654422850183837974770675600952078956326317698998103770833069712616832650406225828969036781514645731022616236082175582937900731419575337473384125","266695771933124633677367149389643417608461366874310588884377151539325854547826373711099517873721616543570605935954334944030816383858485296542260152894035979141266909050267414072982042090341712035518685997484257326212454742816979806460287972757626105526907510197321350895873473656215941034605746494172316089636216915825022339855304925515685/56811706665210352283362623728191218698295056176625217939528332247537278605113496147630185544004654583441448319260578659922931798845493756189402805173037491645434052737405379674607517658118427614090338938517963215812444779184193933749520313676564187507594274551791388039139409235056119788261689087831209441779870873305232021728002651979776","3511806683161697708497547617957719390189982761002154386881580160856792742952365159764830433511949678304281539875366378131195670004345568047690216126001067194904446295336734931691743477531830892015690816210752795806120303198745685394015161323982229908105397857791180342330098240702332072396030780386362735967021055250450666535422528637737695053315137238368787607412459874094164027214953984/746741569878639983491390741637813989978804202898438708743258000150996080386381281307609038830698579358879333079215327202911977568726258527646560497079622703052765164031089590965199628534477381843079892123440214378949632707668935001371616475282883095939750704292616758568964786737752325652839226013335092148777788733453702438432279149298482004122593243860829060557386699231448957232420125","499543951252504651717279461487337168721376180441322735807713499521878076780205427598086756686061009718016175215146305489885835839673419698751530207404115002383180054704927695269921072232395828258826213554806570423602966743337801741633869267620843626804016742412046844770601322513184123515405692795346790813502805238635003099976693786012816/106032986203682550514602969462803214831559442358811656484036951559991322084935692953211120289352600484987931812632505499612220494311324679562152078883141464406938524087376964935494245010636163705698220308243980789514815579319533341929989455211613890905485981353837321342730307819060825125980500975023479813757024395422041501208805339176375","8540849722242122835873311629952985285477986765819584558233324868363310302206006773828897816547299245727087876984857726652932481899766510637403577175623031467933486823994040576431755172220921921877192006685053572215922347418846423419683723609799729359551828522978186208983138345476801247634773975311405913274552616037005854836040162212761099347518242200807692224460514057530656658616850816/1809694575992816440924165741094996511361288430727981159314194000585536832192004274726651828760263522962868944612215633976203596150606503849595633388319338251977160257979846235995654357082321611719654136058257458753105122024859078420173515189641515736029725847315662215778251370398007468665986604529263071981040014321717598469319370651877296085250322599247141397427185438573360443115234375","51377057693118720457387330519321684810411289582445982078756989158447711080414032055843805733348558621949380554029375294451303430269197115810494758213980833379214402452992657502777067850631862453239349835215260705131864911194740832694498014048717871429797341104227759557199716944554347879767916801106279081864127192611546757627038037780244683/10867246748205139797826516105458406878398263495890048637741584969144406206902037615496936724683237700974333817527350121106320991054058406504571347680049945745432432384570515723033245430148177097144850158758462968940525568041926860856763884474605057056550146491001458649244094211354153171337463406192651150028767064600270112838159624568832000","2517199821548153657910904242290029026229621935918771922146425373057248090467388430999870036608278542449661971830076845113363443421757278612394167195431759807908413353743377586893872930828548256216510734912027450642648789925142482023713336937258932978503310551945630359646777080073329099268529064437120002567758664419443374110941824106727218341795100740316967386497091058915066147604481280/531524260324016969370728057738851340792702640911631807178654723224511108065633433027773388768889035083734041289308124943130099580765995149865288328550751289346866467755881013217287175392101334538392596956248952430438673292186779006015549928829953979591250274457658042926539541422697852390294886719770034058916886894408015624288115732154492554105512936468520265305162358665491880968652687","937159485027553069020805864547349554547661693803137696125140510201297417077233061462068930061915381468160677500445535971818609631674361074587732183297775728389124966713749450996643183965795829780345678634356741756033039293590264355732129789110416943789326482663579413229893878422643110852069225671783017610387570935863228248464396615988222968188/197552642195166614912991396771845374656891854357948006221100585931656016640982345159207601253599235265353060942313995345483862152489766993442419668492877390774016299878943454249209917002169480134131612530977452579520564400124908392339263545911443803619972765231094502745980083350567509014991735227390978850048088378721210219321877150756855372125","5119346675109082499980756672052066247676641510661024682574296075659671743397880591881419516307292610449161239233139088348510165442597278965718490070997173182184417648987611422446347235659085092530927312760229499083348217392125906851921500360553758600756698605047197529446594606336369425040236883171542367713951500007600355406492128741649090501989105696576697387613035366083536629358444229248/1077349190930018641197987339365056771667455373500846354778079878558146320193384166982231171317419356136237346389570422332278447217033773023556383420372685049620361481309067017697564760747047839930422553324681218253359586320952896352245366885171583221864112040038531116947187482413031483309534553461613717398523132176948321964066833901215878133594739833910960843185464241840039390204295097875","58469980853327028628854378052548435225264353747414624620847476036979290604604988637469977624105451959796142112200285366199247075503424204044884512269071061176877225315884188402954249683107639777479663275428465242905314418930053869461904934138752031124685541853599407727446896558064252696813370692668496452783003306386669962110734257851955001481/12284458784412533668960387046583440199646081362484321078872891438551639470826582933879934711861551014258493898870867541349962531447724393381011633785884743889445407749238183080941846528000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","632694338036291086868292541736272151517212971647680989553388199374739841494700315711180961760384484042159533979873604395621016272772109619401112452105475906812313548587880899058905419220497456502543971131226430775692744506047039958551641270070996110661036371362526401525207493270590999387476275629412687473362310414634469788979236895300129227082421021999210841384596617452097273320509348159488/132710874087075221626157136110978536488168313127228703025408943153782802265472978945703742152954881438058373686972477195846162708986982742647038014147903817539418442869011995988024638278746664230046452545499722614320284478925059527086663455478374200352375121910000967044366831275681254530914306064535110528723482282501358749001657608122307686482720926189537227492041135055090784059994118192625","2022422468242151190347511883185841333968390991430363660248687284021524206079162212007263606819387821055183192871951076644707111802972354128011904720586729919826758651167984507804867954970064938022106484656560866447290934136610214175516487579122328055482392137619829739560923807880779865442016530712986750711199998190148885726144596663143651240/423528009127070458603837580844559347493775236970253513203186912091140251858605354218715508091394564000304400858761758838182654201653901408046974668599216804223721114331085507752600832390227068985693006017591304916519540245902645712532993889000048992026931475754508248265356181099817467608863068068953756055334213584649136541490530849577363647","150542201776735231618709653388506394887777837646651406023174643241783006776019388336318216053045300417086929061565868663031237502137150880313922488106751241006715449458736723129545400133450376339156062387859536289694727635468338235084533552501618659272047966040838509286942825414463511175531001410923014751124732748099355476332649458471135027773371541572374016038525336728276024676601778299264/31475618522527975728853391146702172347290819252268551219771201846701658848754300838383637247014705706066050673096278897933831272607774110183488615338021656923433335661890414740664480671162459271850877855521869741833030384682549648626038314686632195158507693321505500888988183270276134667071014075017317692121986144742473139078857816578133693776368882596780120407949076129685719314703426278875","162664351499283182546788129866259011542529017155637405328005084357078048074065548349602626724265307733005745244338982661090506394708170105916177679714664432754153795772811389612700051002336719842784098507498286260450939289109123759859710248621544296008356071415713931721102824434964336667980062728653562369697289761913925215639430496443820411811651/33956433298509232632327667206936379248172049619640091186698677954874297837764235300806836350019565970550533206216590639008637925266405524715041372407701947953283803854153876844320283735281209725651036513491246238622967031979233265136280687995181375582844780830517825595245506321879177965868747546127685256867456319112247572348416655367667187712000","27228583713734183629451808889147559240254570554044667607519238865891084165382075658707675405673276615039702916443152954157535195508033284355580742761569101934821088036084480297442018005972653124248838420021440899368869744141698556359295489470499243402799483082406238128875386939389123336303631993557844565927960009744780823166462314116039469622216263221278402673028225214534859076857413557466368/5675134787340359276387085910732530678163604187009567576895331134521132071092293139167824957253050637085885426100206370974479279292804959049999647539684766632278449357893560561608633329561385765035738071726214510832066885156767060324427330401967034889966727638276371320401053302413136551142103678412692111973028587922399670456670380189570979581674699102934733563330382821732200682163238525390625","1340937726818688387636018677960518622106989311577445614347061615417831160296369500704524022869612973331444242000788110133157689786976834913297544087249593601420972111789552905846168933014570399562460789075871112224533723259660967481288525220689577290386781169316008987012566216235876842757183233207943071523447855623001920854571597886491163165150556/279054368814522483241446594911968519760869180429079780837994812436395792594449929617293503975169489945136244602350941695478861584261665582123038340824700224583170270427163469762789603657025958695551448477050958557681299495041994050951692916032501884523150972841782658389836059236040091605838583126400660344344601879969354053137568588338096589095875","8910951660339249479517731530773509037034977353457185453617569046885132434552771722727442649095007828468878374139001808825741829728375370140505088133244952288239619141544661695065318568074863317054989982620944602245967155400712702259180443238473885690297281525960618905625084639870407113029712510345262279507055197024677292523214467306898573956604928730377318210588837126450942086527893437954864000/1851573255256476362977604759655284263358595254392797078730401113550522214182030016660458780180636930591149034499142464357511158868625309442843792189394292787657774627425816694628839987456477799348874853555586931850788645677998004186437300173080088839930384424797706381282430208961565555953254145002318893188197561315855286173276564036402546798318351229978103276843822345004757661005876638005274037","84997663352987536417038496128111159210386455419431137931308301989414462311135708114322046234708053448098538629166672456703651524480738219822858469100454933583774404032968304328859365484249897913676382909050450855222567147661842184538302991526635974158862033287154321908483007506326807469239745851379559259262425675035790574846229470041596801343087041/17634687575122715507915388096857069366146981156897230620371714518707518105157483283253374797127075689236298114335734874553183291806268149747826050838089931351158483980735336772879045027213982661634865556129548356487722537193914986994283729746578044621115589195066212043187229606921062007047940293972381121200723292297716621231320254309060321476608000","1648849257486312935416274009474520589799750757877252390543329851029437452988499485179026845292068377957697884739052491455807688429630524210823560524122596610276957537756142278585091315141096146341773982302888007751632401090642472506538817998043326415693840862261701364114923327286462650797963969289743571514890723145251583881752876340628073395708716735192690808352188867334842743895738955762067968/341580411902962140529547622267381834425264893226447658723654120920549166416114849731588552578626041597847002946105459812230979900480135423787717825697955152193526724029890829615845314765605770060975538542976523177976182401820926854406945392167140347444433885786340415437006775075196031433365827874254477351374236932624514469241634422312990555534789607377023339236417434574755566856489013828206625","4899626659231633406569362199187192352933567344960498139854460545644210119722856870634652562532083546344965166340063297647520613455037240144734014575196764021102614748218834054157165781057405100578668000290493431869797883155764963238760612333048336953434663867580862692267574574465371615023999531030446250351305046572267686566999209229202587258144318592/1013522377571209303732207048597964555261512342860326827024786500686692475697570284120359840724596444209277948648863014479460188496587721578075151793081823795161404110811480269106846359964436993190293615381593756076515012514100289406862487971220020752628653845345780766244842386136740768474703009091552043945843632199999007070800871588289737701416015625","362903847358088423032098939589019598036593525722040887883164115981767777873860799955715587436566233010543937498922435963385091400670303956612881974450548904906949032005878241638546734597308786514086678561900713741746905742866635779432216761799371793260025549698865319760786921444505323758235164807966277024031605673481480590193724980659448692487108892154809490199414370023696404259691299614147712/74959603173756091922435708504751461448318819548943586676159545028063979695880930926805574951275602951047845904770828900645717477098988124553474616764040938121171776556999069351772286262529729056288451037717198273521810585868307402693261479298923209587143468206907278220909447483738730657438961435587752873879244136801168836767273934997417156543866722171766794171623224855358640156858606843576125","8521348154958613550574095745596657249924328336262127244827955886474742319277424381360677655239017583606851483318951440691757875270001283229585075137091617073509041644097526047127618954293881264113694362598157456878784814696577083997902588926421675843291157049153701100218784481406086810264243143337016042301806376864424632290226377881206765051896745/1757584673254145109614914862134217345456065873908262753169404848658913774363650863904627183104777337461445063704655164325930891269843669860409763569362863600932267319335889540453302785099532688264425988677082044905948179153286276609910158854349711054144968131934713419772852663860893241364433872853338630216232313607969790083448433666334742108176384","1802461420562646993856730082999823508145602238125054717836501201545920604020389361370931345491160549787411668288359013059160331370751496329806488246135100776263777863399096485894306306621852596694700845918608199329091852956315870664531614358379176680326508877329862713333336188556181470928613423972314983964578645688876556351433429494008513812136152576866650152623510296911708111085518974142728903424/371238439252064016214448115231139360835481920731625321084601566992497057371416121407293286027832357816257507287295719261141426130159269433199862002841433235955835172774430690352481806933860390015899973299268361513643524088242973968537595085600335021120523852420135081643310663869327371821064862449426404044951571585406092523478861879148545678639697679215289523234342337347529225543852787599016265125","88795280670112240977945082069219541902481768504536167808816453021962616596410396813316064685579412429940019071114917828928080181638058444302439626425155946562362550070187433083541414569447612195370911498321149367969974762244140788494955146280201020345849385865084095189982291190135293114489407801749533448443222584092575861096946605418438181411489276/18262596223069549313969288693970246663726147886364354584825624311486557881239003216971630599389642752648815377795018130449384513824927138566203714891090017787258920529990523519479383032564209629983810866231367438270859421572641494420831435563580050954867101292568399107965982704216434467243223964964535464624988344342084084237484262612100980519602625","752911409358158070688133336918078236438086521781731735123294741731669530734909563155732092406099003582749182967246236657021875488130304108082404134004381196925042617909108654109138702993903561036987511410396567636331465803949049946947888490287210013788802287247422993384874670368649616782837096233384279817294778916419067404863458318451722971117669642134894906235066332205740872938406767767019265664/154635332883086377656813458754577288834216641577439356891585125701020579768315520324293435008561626926046988056302745604248220408154454267643222328696606367409715369481567213640103076112146615938180089303294709009813772509602954514391675152597458428326644988225555987883250642389550531163153338541870029415077982539614784206119074702022117790679351778993541426110436276530890609137713909149169921875","15286089077439918584953144558775765002061832952090847117286473868694909713791678395221438112006475047633028543501632631679316850512797978594476229228325228403849089079675681042224057234415951253954044235099139983386056610384489202589484570852048157272551098909455253037561994944665563291526597323199530997923272894119350512727802414680772513760081360291/3135161418037836259442831302977219750614726139657718770206960776514822107155928800694375522572523712277389679035632531727155957120566617736817225541673148354829212969778664144907503411589126111888917929495106029890532891919001138770210977012708107496187227751496980000137223047079127096028939624830654227758737339725345681745847598157538483308068864000","17723482381737693269787076798246423310802126092500438681864673375704464394105734049099094818738115345706100191580982712146882034618103161268453808819471603805345990162762722549964406042295355916458624836894291267553138041035528315839108252422478610879301656207772491548742981990469454529537049123948604931661837539943536878260665617524824604291547373872716194154198824107266275716083848262625068958720/3630091565725887087605600771358216927099748013831912080380983545872077197366172619225751217619097657405660172801849926220948413919823038425519006413005998509677472226729295278652284861834178791332630676772284971762683579047508016687969040658592436230062049051143001484384767836353233324570686249824980508520186643477313941054900197268584495128610811273834192099099592687485176400539748616360799518357","39160514032490258389003214587901781721548011632821053230881239001436341012396166857515197251499460842954863342641015306304854226194551189224721257664420778416733889030680295206179109679627522113592373938602737416822981698362363553492610842201005420727750505681358595340127099855823746410663750133019743170700888375554918213182862789028531284364877435896/8009919337434786244380818390213546866794958389603666737562053423775386173149395943310276429895991903753441584557917565343673605019989336264748588735390182130334278887642569515202100870042209261561001627386525182096090194076839370589780431326097965428311786635366819094633651297179987340498215947144870164066409654464551017761658775207392803825996394875","18188388167811476762477659006849121912679763597132233588170406666718758511478154418948855160838212151370453213943784067796172102916618102024199200086478021533171984254799008541948973652219533819511807681148179806051835318645591102296256347927018942348574774821478499092054497390790734798143983945096982240517058861467440217558586822663985584775920517755909444876443211404222400335500608733284461685888/3715278241795087610941547133490827711133909145414878217965273061493740719983191775105550559905283733134189195190321643965858771461560130864714477448011225816210219450040558581571206711791272284197614810026220745160693898421068168630870850392739817340370146186703867097982858560347971281142766235850971837330222970900661653800041795020382847588362774677568059355238174402415384788280852059532958121625","46353430636874284402376008361176880938798775506236714098123916668545331718677407145199311191108199195405139575147933283523305343027297808443653460575141799729554209181454676876263582758919969948546918471128299522715691694855904535448703118221685887195383025133924852224568922999317583667985459047407473419196367812949579858081181660610155317911318937349/9455890179897829052705408931064120820559254220394152447502395298827357144081378513080398823188243663943177539817982481713456798757563952162598464929784370305696420245648035222083207596797327498500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","13607414211126412689435920170832779523235279308039712294681570127241403406455725064605210473923965685858012114332021572088551127762628892611459785625407107300355287623761046438724706918300976102581928643740596336865698485838431972050267114940079353996100620311097561405192365496385584164725035842307146351211183443267583872067352881387294766804298681841402861626441205037637282007810811602289501477350144/2772205947240095684743358245950494400934136973845543049938212403703005150954425087866758842625041409060217562878157900197951382737615822655863548356735553650755342108183641353142157728364469706919993519071329069805875834057743793434164720370026073143626055293058601124362130539040404491770346043977106988100969901297669523170508321703496903672333781306743488573086901583022550356345156457496396749797875","23264350093315690507131500726914401771633259602904894387312742275462601574788485574913195967854009886824436237740789910851843045306673524324611130536719802717912615609109285261163220007241492964833933975789257681755002054890453747803418465119567389315754801791950553304034666399677630030683759466627797123971742061866928213780452325847848901682792886840980/4733430508316851445525799359992627142007028326865116523033957869609125212251136452396410236930025876982265915963089597825393317909648054808274488356887197933393799241941120691826916741647173843634076299630884655997401370400734954098249519111198509015387869462198674657171808841005212058822254513429836457539629035675822719720295352508916898476137111981397","538960934807826161927564251064896730663918579817797131801326848839524373936888402762331254883505157846659830555799909822861853145306547699817986010353774500545305596630924815657016569444824389893996399550343022444937690798126189162954188680257730893424775303801562327757655350002001080811866451425665301674688928515041429654624970707803336800125648742168380676815769457467038849213225206824671025803392/109517448833211208909213522579666376007937648875042608355810687327424621469323788799169718267715808580775296460944943658428295481347915131091297305260674731651980547668762317138753250458639043477453950774629862540017034566407286963562574188172753764978963685535201028286359818524519980885827473904574840285411260037264057197155527809916623487144493019982419606308144576939532055057697567269576800542875","24451481554350251656598350124163983489544445991992661049829014268366250968046589127810466483349378560701491445658725080497078590986743512397927747885285095846398852574219367580068049729894667374214861939897557930527646930793431512683750733092448862551580494245486308114129295467976874843852138144539250235632985676953662288536669286915983261820949386845806781/4962240683851186225340479316959605207278948397833849899236383273145853045488131674290332609876751222112917095096150531825255611911377071887145019702433883343849119017643117746273523770961304609989779231048095665388209125939879595509516490230961558353074751312876252070889983946768175488341370453053495319823381943793679003096504200440997908071027962806272000","166591964685609920525429719961758335887941461052357297159523350448241484106515158310298216150030768812873781356326923214637847449893575074813991141092681107583183275003570804134461187213143832123628701876041315736048451374824101256980832991214945762266748755723551899001458245164317581617731332466039757786839492869211248064662857987111284518155462148044812626055842061283907063784492325693994911811072/33765943466859756347231737285768516240749714264564410814839966011490233598006227246396923594069488496368994857718734549787000213944990695920130591750377483911116845697231074543526982580529937081378303555262933800375576494067959129682770065443667091668104132884375840812635624862495548888467575848428463895756394050252457592540570490061561616914443009224917652440212112452400106121785938739776611328125","142464729519206642943985715465196065680101634264787375740459792619754842396453535646509170066091478069799080172299369994438836484938378991283020978342879057271045033903518255546705211647900945143546293360496661466657600494787228476009216508124736254967761901224547269496682078470378676865981855568197705507111970901389105723589666709580851611656838285777566736/28839643075889294346635430272525349651555039807615358795334663734940126053968249608601725991946342449660829847322517564370606746964714098508298705743689729306507554363954348780144675937510900983622836770223945538844314468550644543502501484521561567788992156632892028591678742014134130878101553633195551605796158103033794695984958987367799607407626319024034625","380457154857422076784416625436182734840012277442496600178664323821064977485271288502806124740204295811759917468598315932331219906040253463960961995849761235911145436552991677050565022181516596464968316292789048809559129516930574340710998611088996508613850407294743457197519091160170604426002924022923388338999324182261954685794522778833029950214443271526469607532589775916381786492089432407550224137344640/76922142291839859196033215395526448408989799722090330866256930898223012427332209054699494033511478050536463051459450844520020426942553107946282832072826069342120835351421637970462054707566481086202287686453371483126873188020538661871147778312986131920021929455276187425940666580158173676284545586944833678819622895550345083175685846944633982680908505900099388037050135210936852210263717185637166725605577","79999800708369666670693340813609265988600461251844239982904928629083975986385235816587497657678297663151298709076884516168798694292862559083730259839524968813932151813233366175091317046758260934357096757322369138747731224414176608247605314668045838769433811781490030635374856042786947109101585097035794969502111354126773165391577217071956928171336060247633607/16154850265413610119312596299635391433380319311682208755390341659152160578366244774029302281068833963848811596545791104919556346810193385001196395489740571188884873246131813864782581356887110499639544662322008824704830818136660544673293865921754569356583698951612797219776290835161780326945625621758204931298948625885081325268123344406261740843197232316416000","26517014004241498798848003208133111307300592620947908933072661812816683085261359696887064436611747292468717739609776825664344064024535028242737616786238200200498291226984541942836459188328346609549239724653950302145388877472274074665166631509490297630344351573245265440164082334092997307729007429218385933622623935704482371360985836659823269511115937443161532987660855490906546130131716829909388620539153152/5348257529530073524280989257577050878033239486885664777340947102417077875628238501791711336803418503616042922880218860266611595594400020206192599559925169589023339295256084579966533260861249529670141854632965231468533448709363477120437277477668173149958267956654411822360053335695956270719680086524322530514249891157439878407417971839744392044064720476417844056346174795601710447583861127956455406902139625","71197348290771978405602732839537012310626009318133570890482364371056186523989330157966045289127980687764218363064941391483781008265266963537623770685390148810455244349859354857421474277963009857011653865476081389968122418691934354122230780300833008753686234433642072919923583176333668289998661499146617277981691372057042930131717336250309680764289256080895092/14342680993892886303954853579883363225921109635079605392320944523109187641283117181461662846411912306480691901515655220490850586434947504504317080144378185989596578890875561336496479576651516902048606328604696610314441229321219627021610788398730173161473456954861916116391687748151443335513249810808309201830214153565966339609616397865465842187404632568359375","342401018754023891059352629509715357053454506037284788725127073168445189422181540408896452651232759821766616850264122591225331120588918865882061344322996688880669665450231982002597398732201789017495427566260651180470635467002453249479483900268320570004293679361696197905823690145326531180324429318916092471863347575533714871355651558610515931373080997536792242278529575700808878786732127630024064418468916608/68894647682461956089382461406499759613691148650738957016015844830333168307020284281532026442272618372290646283794122772122665531108484704223311663270836645399554940741928358317884620420886609705267248656765357348477857852684140561714900614303731786621656041881975328169543884661780531057279582784036689401206706069028229798913082362331334839997133771880514515972024899408556517159759907883793675672065360125","190286571838805495686895463752492174798162827967490343625540320679760700551286395956241059969689020885714190883323266375067607282890063444652926151862650426323339187596278760962390404656342309737428214493422028545912504503974763216230927196187743439226243880933947417760147785405444976177822143722569696182520826218120595298059020305548681823408268556482981325/38242608291912408815838081993045123864617058390583394828737640036167893859507494091864963383596867701436244007905770284939991912884465101575490548813894148831966132970730263562113961685364216989999844961688441914455435934703797359360780356482629495214859917249465567846934284121032247250332634283689409883499295469118485912489058982596725212975311140618764288","15345379701153714436938289567639102307887273898834051456693981514956329731572600026866162286097662958712922836383881840211072389867463987895894067288699955858337488812343674818565432780224654423872618380928462939482247900055572079914753652915184313685270722583926261499687728814560680092231526501970431280783177357735398580700300402036873780385926225005561766822479878280891130232036389707452005183370152749056/3080426623087819678602049171756961824196425548529619576972793653585089380165862889092832375934535464160425580449193072125955685099151500755278763306599307218302635233595329082702148677300945556130106197481236122437978375963261172524503625593066102601042060541617791008722569799735202779005407381267021641545644264334109052258081225159748043792288699674153722046659880085850980843460715080965607434114275256125","36443601662144279337033484452272105547257065463167427418525882851507989449375452076227652634440476502702584889057376829320548464677623038648843251719168810701744338735202853412651160681259533015293997501525430222870696235141468274274064390273214484922080219643095978640300874086585386991338440415203863901714217818222666715642467237183267303214471854472286478344/7307237990148312451155090506264642657872224684879860008436735430879314349554023096366846856470375025555139219961666754780864835035902856314981482268319886395881809659368275720375576152008289949085453326722156553603358879420820012964006978808113307340321824660484441618487292138631579616351777191144073820686595597986548374588839763719082323114663844043046087375","1575294930860663922843149113097927168024893739962464327016763741314068438447271326302129681931564068796631337571133444163024224071270063174829664848259482066723104251718808936762938249028582992557822551950212098797718627418782376027133576209718376784834456568694813577764300716139817031545408608110880973380162736536313173329973171844528083756524804574267826691156368696436273087171467254161930265910972517504/315498546654512047637461608750018349421492986465373840347519942494904200733840189483934245529561231604050629653992944140351106887747105945984325466452136415067807666316202346895657914393512001212656936450425268507235863153258769360296536050028695266363553141327896064944506216017933135251875087069031098099192325817395958019524956320840925176589616439477134480262100237057953933117460110224783420562744140625","7692057599553133417225997786980128299372439542315125030077404519679450372805989755158000864378924877036225189784045171045139667691524763609840822628706422918926410377185494048355128046783294954373197082851501927410350313585640237550107070936498164597231431242858771457898152684298047446530220873884022213114819556822050178579707210264243087257050468000092842761/1538814487241112760739561704846381585063002784795057066438330325566843108114787083741788078680861495340026117682606689156065008672344707615420501964123121620401073675430690541617930520947170306763541251152854304975131871537939618684186766168376514664494488691311397307418298556185724993104760692216619178358268934740746932420562664234738576394742559349407744000","15190836470550557926140012263310230378455340797095100474720776113765300081463960235506950799869073894127884189857505951314428810423734978025409205413789025720642609035117121385453856877706229778165533034683130064865256448444765902482146676668197546098809055341050873494446231793312407516463576380102073171090898973046611572020564659042146465345334273595086941562425006763960197801018796906114925005810069684480/3035556598829526968124942916297025416522606357010637652635799096498208643970273828496655227572100159414352020909846298817521082538898702393916708804775798552206401718323929157863173504795127180177622667376867235806208021329981136637175570409791442328468473111768140746895005561471574356889047981458002257872092408771959478275534098789982899056118498417649167444480913552548249005268380838457505944462494874581","2923754549090941424546974281011770689534961442264350984393235983189168024079617848190236639328676436485460311093391982825027512234467853098757486086492333410753919927528867817406389678461354257841007722472106464785557179844602277350411593959136520732862935740433163383885526249897183805981219416420390137516812715245569037561966929572448247077578419534651990827044/583599691615378545100950777601104007812792435102945248411439102112424251478512952087517463400054567832353967731887062349496616445419782499817548928078665212077449420216892583997505908858360011413290038645573504472422610780073975450391707084016931661068694024023083417126286468909117254531307085545768412513447197205482285022417611018126886491416133665625891075125","441922815213568908489589193556560586318864326425397702047965372289295962228254658331201274291697626694859414786292266008476137667843874780506886929181835469302142365772763129838217316953835831059616268288399119642314758261677639945004547833810080700127847214666763863338091523753898362699222880772298183760217731228628442782431573977490761665091005756534420789258276075174436091798475838370152192077494553263232/88113527373573049332749294663402406454524640221866407165839162576979477138694653404281889227416977618913249275712917582743426231744980461918772793673202077716234026090308791893409200158969108910565467273725064769890443408324386897017825489615600787634985397885230455168591240328585041836771921929567914891379235573982442311269392541694564675053636078990836491104116280492254795616055818375774141667319774630875","91197133767962483852278456285591810579974783077874307589555559715577599604626819245000672929518645004771085106770784762994476973842713035791487204122653245797126906189270204029735872508462106527240320932458036231707311992868347221176460407003487373754014365881209649632547685657666691589606571865740595829983849941049450471212387808617247938941417000965198123059467/18163679611214677813643455199979098261849405189805364986036911945012016248297645596270602508015864371788974684317239728239847888960155365342460843559658233069613218442910226128113196984801126248862273503232000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","733396724434554481470656964167233690851279923085197144879644750437402627936723531635898542414136943003236478432848965516925891956615111678444586384493883113385335463639674699443808084827715994137410743992130712903997815471369201406683862985677774155704267039224546352414417632475628136460919900347977754644214725932476856018335195927604771408949980634142255497812566866795799230501026066145434755838336990365184/145912495644159810313026420025053989609942265686388630266226856650796088768164358961644113076809511566125145395699271530802891523741636707532676065833327082092521989958971154798465784847092870457944857590623097781956884297103961713362268264159015928554707158239398721416218953003215109202771651993622244788505649098445109438104466256408060944298437033058380804126574878377874459371251056800895394904459469832875","167606423853658713615749101123336326908381619586838606922565378505211386185130407423587264776519589295420758009764678759213587906216543160801059029133457062067529468464636376639307690657945597847080706144898920305379653754920571797771178341550808041652360635584401789901525709166172283390177673009483341826911179861584213314395893323035527116283758445038413646757280/33310364848744488727470761889861069993071965180756187311178124887286133554324042422503263994717993129539448310743598138364172889305532401505890384806078790034557049074169245078416704866867380089103064821732673967120808611636618526737138435792818828990403374766228037003927569643972203993263329403469747342204808360947840103843317533210523853631711601450617095736473","22466735478643771803624909352181817912387732117378538284107485621001246177152644141853604633676939694208131243081227668237716194316732125445041260568403752325416203858329469477774720998849334961751541191761521224644520742691981372782009394826739249604257098248751626957528543558542443122470657230835176462612530464044652140581367666271771882198747182114685116336512604038833327707163107207664705120728068987996560512/4460342260599110071819142535903990817893424192972341872394014748315090430999224107274777695306032783105944721337053156074851240201179902835353097683269298594190456286888326067932777720561181760369783486872666974623910515795208353605697065447942804414120030678603538761538385793829787734830129764152263691296719726909633580318897787729004972323599773548689272008712427926734258913271101899780538635213826239542884125","1972862002066252798837977155272535342727415329632252213508267781390870646909686724955861608046325765650407340102472833428905279473185818898693854344138403744757857928883601637909604082588338869612221777263582365745419719805587946558326048087138197694016224613118304623864709183681172362693106460535117459192992832969130895829916210933710820035479169562970982784580861/391262854245936198649509275719624152305206807261382621390946060636032376057385723427601113233050260359684153963520782285097664628279596618521963444574543409076428660874564026651742234728997339844161514273669735686516761239076529088145208958938384732800586298943281728435207452253170935715239392534815683367114290676180839217919539381651841151674859715992309727232000","25408691426286653276004556426513401767718328640048945917745783225459709487487356095164164652218100925888847689099153320777389381851598236046402124684511968385325107497047025485302333503075085562533472482645023963717347867696861885363417595298751490212495932766872748125111115039311507374363000062513977436921772096443948159289707996749061007112458126301618769295162649600673247799961118662602756889448152517364992/5033870770817104909025512331238419776407331281944565644457345507262881100618908405924951559853352841154730802006750688581603270849880756026262217651685813584900300357685874044482329601894134443542753690048962260914642678445058891387041919581376195543193199307524572671344323361282633828144708683536721118910549933336800461248338059209853766305058943888965279863852107507075916981165164543199352920055389404296875","616565940481577765011174617619124841631603944267256178093555235591208387588894068005162766513720546626399308168923904625210748051788652328072241494243040185611373035059619136712559505023703153194815611268503291295059648269772663939137446253437248541496631852986499688052678961495116210133458596866684413931188348798244969797973846568160999564540652111599082181871436/122025682149627484528651507368051367620578469392233875493556828623437869650284356703295836998178256875766319508797903923638967073687991229708051285605187358616531926112736402511567721889845693991963610192161413692928378708223712791930113386840109729368772998347036090902364801014045328348830748307179590755723160142468563977011700764517880467116766150322736003147125","979882056834583241477188686550561625289337025747787132773853690143359657519481397575561812727394470125172272246774578404543257210124412718725081536309818383310896102958167337333430555168671327992395916735022711297435263157670501117734412587691271084981140167017421900852550822579410636184333142944411060788723653596377015359036101170054828623669169047118551010102258802465554033173968468183492058271365801755986560/193732066620504775981759812703028757608600125742477178751189607602983198559778039141192492589734277739017909889924488699372940787977794555519474807920198944109549023547259912324279741006975129518191081373554817584214941629021088206977532599055014150433581544599721903881284581257812850697423350805715586436114842183295730680490110793225514602133304729484547181740290534056445482186430729398701311563285494964645419","1138059441890428903336718712159907364975959482163004276901676063186939296217569849990951930955270849692775077813359573394435924934540269310629731801376134549169322946310756738187834128956671195358413024062230774111935109203207768898525882417078119314003162592087920755572050993355843681931139257303484526223461840939880759908449181135029327442039666513325916729112853/224777393704985303260433439401503507705148576727364388720387174977154204629336985298082893443205223017966145098064861566754244624732671470935725326043491911142467178027013112527668183783450932992534517827863293825061296257420183669383719043873666284378647952385401303733274771042385666436214517205678674213118374889121542369996042313879258622144464565403138392064000","614262617634904509410555695398092190166323289787703954329113412647342230855826568873946233136303566178604275296873234926652080462259552775254755109931312516616838091852915397846984381183732773411263828600108443070778861986849272794442105107285234729077818614332155890946804257724112143631642663084660012362691100872465148864413343598067567142977134846266425075195546265101720326272502009234689388355365794889444257557504/121200854655310345878069155190734381476914416893031941761756379148622591310152793328910334357724762079139509813381997287954319983165971628429295803162563856219211627796200599196263868781937234015821367575512548522790158101892507996780675863234181700253545912643548466256938936835469646114659598727592390628209362096738343417775009361678599075671154405137663077798419897932404104579113056038271753988669813988076515476125","106893445531995430131837569895703697604978445859412739331042151546083234373443601923983714252801103551874986033841637079479794895452077803182698291822629713500021995241940133037200268381793282318691568234728329378829301282121562652452936297422136961147432559766896143081059518238234777055931999714973999553456547746825617168005650221542417216291412324174772893635832/21070287546583154895102927029203125577385528350171457634203261197137238923923245382493868134869009844094435068284335909266152042903157700510534904847257436666980671067329084409346149729385625108233234542133838924281113454526471855573271066865534480974484196644173270141056470857666632902827625475719738076524047736123182255306429677688129231682978570461273193359375","1112742798776748551928744983308584493817112400536084744850969025063360679785378789764875076529575583792571198510306186417773101346425704969671256564494135750783642910394213727189639661184379341961737135764570942961692159177189753139209638929302928699705042832922774012622017270172331722295881412111812933593370743210214549038212395941675257558442878012136484052827439007483777859391215222647499741572327725689840850048/219121905514652575155579185322367175400669386131891843382447432851122462422992147756333729893028362013318264155489537138133372703295804002840920402482110260590055749843170064921843460498824128274420925357547023876488939786863662801268798987685503391058250902634999352652063668663245829496836853509616873246554292796823779397317819134891873583857621623143253788854530146303641400986028503534408870194989478421253057625","983995170259637497940121707857673268620603982844439610076334749792119502557380361624096960070148627663305171311646851566811683351232268240169848810658089698606409195744471343416197434926513684882439596141368794175162315633192028977211909698595778839497844847281262559899914504080092844816319298286511436690429175757804604673752838786852277255064434365401871903307643705/193579499709739777577893639665643417521924510242119561765932078835121983190401762561436208758210519231103767232899529457440602166918701550386152070813526760823513884391055054076485295945972185402977095815609448651316824455250005505410192101148149284756928250258632031981439345164037318129987999546683113483700660879431801728391911161900686707231543216283304182063038464","30691013076836380319652884848585431917439358375118437035944950498156836885409110087616602043242747413728866747975631727566613593257623099549583001362246649928075859944695060947434885707102684568632559339383409378997568182445019183928058902445738702610436187907199482604867148445903921474846103586253320950728989228898324829144701782792767763794895137313050381112872972806712570559942583906619373159053654481250809168128/6031936190594376585238407905469035598668211679521553144958053099463931217856780171872253258738635531385711702176347575597387389685526098889278278029314982721284691198967204664771178761416891317672705719303088746953644978471289001577698554025410820041497108311270431130911021653860874238212040640737171103823631718483572464361276703378587106311153455557896527384426327053165214814954154328483257657424873929502112904625","33633002641218571027682690377239300567277297301791434890431645909447040830457253186262970747405514897340315490970846553666201190386457221846694126637998462873786334837901001833771510353365825087187582807843940479192544772559118293851131234910638705258664901225494129023244916125545283621607920983287799648992632814461828998517949449887522866259724675318233522060729654796/6603800575190864815125307817934327053530311915572323544225173935830559756077637251538096164499112411672913910767032482188570876526606118068929913515497400397562722669603861813453418621246538114872330536044519242663538662076583511078523573320035084744399535581216815034837553165853576616422592790103728141443697362408727056813977234078214386771115586436985105038873998875","9090550743395453237608373761422705922989356346696677314277463900103283296889488490217663400349361962695279888433677856471792856853109469433355422802663947305503479561493033851081993247556828544308258821557994512133708656174864544457143793106703578476914924328960109390350040954158797845288786321215010324565010420734044059968931558099077932776525974187717655105951506223649947806568984848883258144616897526257038550656/1783219994432430133950472014582130883873515063182143523712063859964133099770763874744121895885645346884371273930727450069430704145915261127061538288702855011220545530326588799412076879985026006593893648911637986337776174555198865379578424838210466703683642106934154603710587408512357351455891557594977191641529451749437270208258072920514602243985184744955476557012910446023911358037761232253615162335336208343505859375","396226087129511787616470716244996965529391571019620342657409150252952330537366537352182763477820160355931003174946109480036915624974500187179367618457008802667089004678925595775249725629495848146669773574395699032785024522882892752987825063933573399691764866816284097232869198405981830106568826923407996367321353003569052419999880089180418759265274331299787468134974811/77651132902382550540201641628906752945078964002822585000619340261128555048628863996784740469908853602590877726845475670110127527874088625214912598995012971630852593597027649154487264595100300180591016581254965295280089902497540043916128232871685159131211213497239568483141031137909208031392464815187505714066235868748950184065923236670418822911614780061752905170944000","1288523130900767412477856952035690867153496584747510253984686336382980221603917538996138294311274357713893956725672062832264871415025750136690143411884111580335458539824573239771267043414225271729141508235839982033182605445173050590151912297720800168687369852280323356691345317649445843078291369394324862039143247087442309135074453265658730028145500871559458519282433012494054724678302957276371418936282902434203225600/252284450515080370603949213084529993395050575951188044032908270470514999880554862449223347761507020354321422785760279154913310488296485989979706208254206974075438570521939826124860483842758137231373182496438568202110337751291106165654945352183167578675508602832478752400011567482434301614269579368882858973850914513870297071866544875650189106576672289734326492492059816669288907018095832842249738081022227281715919357","559506782175368748187145067236900803925823792088293851453005882621173124590368101213652371965740365119375069053747415415684193092607523211636912074219215053809881814859129515591479780669511533619258835199715146655774919418434080807837587396115955105126806762961292429904380132116986984435528307613054828929294602185927322238461491059740342387266084431988727321711184308176/109446188216864405154936682374609448082436347600301765944233278303643744736544109262794383069197271409398615846380701459882784547857821831816863216080069944818453908760476475874319791512782445408136169878207358663250499628002971644430164185578966399908622640732411885568638054229180673755690889471388585521113862492432946110902070139679164884208988489955874131206343597375","365842109776085256207829452385781129402656684569922320812625438296958174120084800064669048017227033185969596458778213306152397766619692644694641677223213185977626940193107608138827771259334379895020377700759789774994800008933137569543592829220611543060189849601828342989023692876182148818363689293009174358168826340010491728715549904988196347316703985894355217235339548078187164176255405596310602921647203428200269666176/71497266937783826306774367225149833789788300609530680399994804704196212252148324552193149332755057982662844988588678159610516634667597707204818296457616315484973288944637139939912166034691155272078609876888919170894915224022982785138928008133003473320018151370486895637936102520353951511525996197267572355782608352075229547764732602557133494648237258900273354364050662921889937355682486287799239363976556848320046933875","59378684894605773397070783936113244261297966863668546282887298999811950599772732377979382620766180662159460666220894896896564357533604962977968843474062092083279165837424210591042655271577974272394203253875965589611493384384257117088518521598379301169916060951350650621757237206805037261878212424267780312614942173870651684587166691539909068452932891649554575072205080763/11593916877920131260484148322810317629326850763057953025674154928920977965095141485536566217873796019006709247938019404840440511433467040918770165456925609124166970862430104329357419669175323763143377917913760028500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","440706629842402075137926797732405268015915199334341565218443748798479563505125605478061664327658137598204192554352688830679475840386882350034150077506804799859586772904929402683276898098601814091430598259347980573084686932949502809068565420937301632494387691284902026088950093888426872222813857928092871267130505744095697172494119689779474840037266295586359244899477781345249657455186847452249040895151288114085352974933708544/85971876318334010542313048056773419567285701852816309711738644074302467763075671531248793080425349570584102078764464196653843973936119037322000695949209283327606280423406302517302874806092835694196353778161663338667091195199032831587897410329509487165187753418615356836636352319310103639079123698118997500068644500893282438137614420288839230827096109835206605385673197123994357393257304049093683934224826006704198171592304125","13220371178312284248107863849287558696210741535280184003301555188086761767176560823174196915070378763091889333203635784037294769747641959860810039816533609140662043493962707445564057197150603226797446933532133956054671103942520142568674339411250001585991743608723150284270101326419464088290151483823061613403673956918458456165552482913079283537536214967294211244361353060/2576683013797055224377707713704899315377379548630511095136568220145808780162671473907260623503552385384482723173913562423316997528913651044277418227616447815609873991028073011738113927961824632868956802271260292075825561646156680740323686126811928372672670917332613490241615850953660246271541592056143611581223295045062157404996958100136358649109693659623847024011265147","1538372578072246705266078247950089219881197139399081643650271348770110178217959856819170325400476655944115553238940541695152110949081675985299189913515975242840473616169775880272489805123124548256666658584129873597192213080038937409046114908719298170078476325423466734429870048697383304265342125425087105698152643145531760853127801123272389134514333752173173161562273487752064850461823726948588221913540799816489566883798912/299566102446745552813544808169323270315327122249327394279467999308669285416179486075255023523726449428151807672528368606071047812907935426406886253284580296349349558797128593446316786243666290649442956134448480598303527795996222703837663605600624271807461605295956674925277658331760000117761013381199880905748188151556184620779667670278558839116983636972680749836497346863752662521197700717702790359162307617024566689271625","281696937222363685333688097915539146272117417024070728031063821781398985795813333650547982965341298894634762289669256129805545549280355643122501181852136332529515756074502902204877664395456278205770206019663082511098956468724829475220996427130295010430751942126263620206886404244432409164651524408198286831329682605959881993845189585640874220032515465014097345759490750307207/54806274927935495596891312029173862473687610099325998583092091915101265393157631244775387832621032230434007486602816972765210205596482942091518459849775458089575743699797096697542306049628939919466378189656065461708686421130956996965004776108499273871055615413566043083634090083096967567965373203683231171594922347812966905149873265654962896456451681332216735396249206784000","228506238533410805238253122961471637501498406104430046727793420497895852412513560203475440156216063574654372726194215013407325207763369075250819386897086702757125418327084312933061738392406321003231853349865003322697360659712771167066453430309997639548320673279964210730701373707765051246595806673865646607841876463608039111252607452843372970797479959213447237540830563469297144446069689149549515457318899981763489792/44418759813188470246596822974281932219088697005123285598909329328419879212164564561558656547678211265529803086702843380128457744445765859393426675396393053094588240457569380155526179040891009717323059641035189017918495485630657360525410506453554255734005459614858972904374739673834145083512160883402151636664208253116362089211658645312778404886460203600762546810897889629330022309705583438699250109493732452392578125","2396110297187570506257836426251930521245117960980667897194680897478996322590925380310917400763581787981992131769075961259393685331523600287377841990678117113566991100720996059187144934569703045966210306282348527729533806882408323961336166190162075154579344185244957673138372347997134388801085788353482276257401005734929059700346687783400772331280644647089520646562669857652648/465370154262863030800729180763091967573522779260407615567563274096037297593764955820626213827962697601334935773802201919483657310282236100250543992334865461800976838791035335861420892967699843608855185710753433852279737724446294443337363478679601049432404435672469098850676302728116369979460222148206944323730586138087862719386327396334468302608499235112520318322763857676375","1188272888075247520453568790651819187486389546755745961952033150576243575862120569399808467067800830890874391487822723879717525264875722720416173276963170672622214121308038530968291758445510982186014289745026439477197148445087614813262170975056866881909056450023324743409114115141145340480846088869807540798073417035168139476153897066325127540609756310068558610112731607522096096821938163134080426356894899245575410494080/230586762395914863625709048789913840511134004337945700368117795195769576856434588144361459740833007125516905017415184787078710001969815416281381427387949263792200577791644278234661952852149216540491852757174842146376788280677956350901082838474705227642420261641783722891948710833898248566893322144435457967452449965772543077421407816225704952270697016152452032506898311260979594550143344971416786595888053149375287120733","1072184299258468249004114536023934869518152618369895613271618698908405514630154819453979477077738526673716264830106745031385951736108376866253955319711026042389282009348594845497252059906901748860111986811345742998968284077119165082435598381810306691078037018432766116865792677955520465319184311529667642995217214507658693259694586107847099911341219913576038605872218680562047/207882129535607118520818565811162643811811563516006836924341123976848022970024793004700710992938987476728640943834012473687892481059618823520721737479364352887178017866425027953255856440099446112508663603319745066750522936408781591578321031173620445865113295407603090322283539974563690157418931060565698315406021569491751612761888641141446406531645379264720684248398299136000","158094023904374464057702010126993231151433474361820266584020400101533651587072432728050776506672527718975042616651177034635188178967462982926261516748842073587981953038445977514446838733557926696939591069712397947055261777416704028506441173540338327591514650398349069348381309688677335132100441905603664282735310299686268721634369502296867409514777359935022301425165750780988231639828675424239931533849896744198012747670272/30626384366513923671063955469537776291182594080083494737341604579575446319190916924682809546024369330706012653799783122328775875399363759308193432327358837772825609356553955350401725689682838701996446404559005896479618311357573203081153855961484398360670837599853294627153740224543175497655414585918231215639906924313779933211774291565425360415684556655021031131349317390382320286092667852173815259422737956767922154798375","12216278924286401897470540169822542417611356797676160128176706721343511598951866107858729405615631246003458062949723290192242594609994613705183460814797527214549142043573863947658832694800184691222426521703728394203722420336773310908687071670107794543022567943478843065246011544888390757810534211554666736239506503613750756246364621509359804902243487113673014588325806249988332/2364584127734680580481708368927921125934330000162935118371174269642831409084634375654239735054363928748162229294829526339927907778510530444646754603322373712788147193691037688552857183116332292048731726305451516954679277320777955342295564000586923227775208580772868590742136150431152495718132142742153643081187691849828217592954519485869135930755646768375299870967864990234375","578939195017447864385837341975558679292903716580114421030538728778491606282153588930983966100514147976321305616196463174070345884292672842497715966933722088536619333912687108737657068701352918582656105418491672377271304970407730786932913490869797471081081431072836814581099271832696990064828717287258860166842791984158634684078346453202928137987930328826212011774670396356151265781053547412633310327737900786639842674288716416/111966291649651600701875186827360807558960817589719096407887999108024557254221008849510152469119211567152616745769256123968832250104006560061907741567034087109512483357851919402017950812795426393415409198268246337542639470834168040295134130657073201020340432236723824670803498949071870597039309004562024033656488150406105175401372709011082725359382691270659245312133919518760328422827067578306005644825927050994860723405473375","8041514821545833865350873212853873042112343327573364523948780030849543753072688526717886590013028227714585965095216381829914996539132359247488639692828639170075726301411777307168737667077730792892326979446426349813642680537699905651125068091362135055902152994216233622733424128982011248923051410141033146604688083721413402395290842738021365861670415833356403364696759583009635/1553937833499559104910551811592138833189892464446761247731330672284191313590708439680460540329836344767557599746234213006493842842879398684745864919973051635127080738612248150108793397855113122368507483429209127035263504194847798809612278864438287815470711036548695032421148125849669175729331459149833945183228413961985381338162155596008680906676498435954178226973272371625984","12059659399309169167301353842123191409306995788633965680414620302285606896146667751472818541537183787935352700725982053536032930866708413010971856856768384974849695774437178790890015242323873769697407411558706626105140596160049735605389301414460825674631122462760014451298494875244754354054447697502521388381253293175367558014453865905104467382184997528879171136492277222127399012368677604910497789360212571238146627048080568400384/2328494054002703067219004484782931471919751585969487160602269605916676223315055450845942763690581877771159615428854802721943114463834992106300185328876910271612375509166975628540839858771078495267566008071532876816826751069408153323840515037497664871689085370699991860738368371510578076683395101062439493831773194498579620513073693022191702398601471237166387045790480861932005012807234071429628725981935147069738988682858417182625","683009426705008850682549700382901603742691705123356866338951397347368059105140826655486518416578697931244347554322654428162554903861783227680935341690740579867651545205562690172425016836559678937794312287639193745517811234257062356826622207475918293015140472942579713388671782202262396642735640315948612572908444501108579457520714632371056288874351015666995549139003946314085696/131769214246522869780429817236150406548549044658474416909806179734873399109656411633488099249198882165279745627038984487365589625562901914030850178330133080409420340227179447548044572594184601425691821617928130423410997853384425373999967759499571890326740433081063424903098252502791477854302204200941376983295622430177445507316706609802292121282957519571162158620971952084486375","1418116259749091420309271913909337143756589314597557128553117870573928055109322864794169592355058370891251425125187770724828108988587888087023982451205475980371440423992838481547236638456717520835668859093413956339261802305597694403381021863258753441889536361061407579332570493634254542013337999844407181346815549594836374497512447969751514466481466717590255369810506813543577735080228718660747940956248427356785784199073569408/273368882980516556922532339653303822104510203916024760371844491705599093435133738774975538364241630079468712981056336655766117378160822393876348755370711942273876284944422610974149712212944211513462921649872232656449940987552227525504529710373144228818606127541937831103642415534318303187393593236209298242574677293352798419428712873685798636474667204083938875672934235816396371477146089168375198141802684403955936431884765625","546411077581845999248238069684194831621691193366466972898628141511422317954477211865167402284211971296286346492698354214043840080181702652132835681239302798339667835439189275457116051279366194551632712819028177402221815140045210690908631767786711675029194359998826252332434573121740830827417293557234891406021102083555472155479148332697839972702631641910213821827820374586459319/105246945889799140338072754365901705544530661781295362563214285953881890233987516230568663143342952799036341701952267011236663118111226623815975847494372076420199418712941018288738590264475520229651370015377608638075866459684692488079223686296541020897904588347083045723167762682959422858996673894180805702299907478685374065593161226849447131100462022089783265346597553176576000","2398330640958841474772606439916070050977544535580605737383995160447105736276950196885906408317628083110923322157113892928963237845914017845444295040924101784423382681801754191301860383927129006953354739240926643562987838836997453985855576402628166875869041032631651591871962852884189548538272285387092843044669499688035134181859376665409767886188304314888753894905317929877238322615838524354191263502347881033855441181420399360/461588070868590122892265681879734295007029130965626060552783760068897000195207878227714842617470320231527222074701444349530952699708435668339712860464533455345665068841333232359698449088497137068713309811942968433868609329301082001752617420002377892756821532220676085014874112083615054550278903960627185675459015343606391094523511117705747842645927349130302549554534056269331809016770715819934970200483161548527932617036185253","6041015879424725383006424536130409209607854044642113747266098198777011981328765528361630516108680392500990580908509403483891763219659726090675140672989657743882183951954294745396417829943469201306594018454995862321821016087416840247422350906412007336103086620396467456181771583200365740253389107968122850063607085957109965406634738740996318415514360956028575560979203447735121436/1161752799109428422288020947061281540989708937450568100764830251908850596717606701047413407636907934320789870175907792017513896999208892282137299070761467096211814586909598705615312819596495636017728313513520193786266452836805291464826226833593878504804389728477191170027729963773716267868284479768397603444919008915279522376004326398403851684761808785381609370767169521034383625","13240077436443988749179508462267267187169441948722358165090554769250505713747934643200804819418670147225695324432684266924694524337920816452346599774452681831320005286326986675907899608537972384924882996757503264622991355949039882526389342174307168805166215838138277557052303430492669193939212362638263582899713198716541723383138016564027766560215944409353427176135895982596327685665844815618402881202645610620284792793420780517248/2544223084468158291883698813309541801455311468982232546872485444308211415529998472787377800559884210837213042932180479090277285630234238711851480232520137856848809986631784843528381778520727465146661792797924458540957133423665746229799675650290296217658444899605236550972043549278128087645211909479009099766619355677984218929672461506691980442071860591767266913041147587815452007726513853820116629482732060593116624596368806566625","1953999166296955830935495158735359200362904181792947794529339487489730042568305997099959302322956898299616194932283060554261566410988618045107398092345476532371402134206635235570281738377188438407703089325315446371127042537576093536896282955524842632708645655481028161471313608974238110718242273935956977555610147714316158486553633871312187084618154014921190595222799283957140353/375191165084882521037046014569185165885459082629136124177286500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"];if(C[d])return tn.quick.apply(null,C[d].split("/"));d=new tn(d);for(var P=80,V=new tn(0),oe=d.subtract(new tn(1)),fe=d.add(new tn(1)),Me=0;Me<P;Me++){var be=new tn(2*Me+1),pt=$n.bigpow(oe.divide(fe),be),At=be.clone().invert().multiply(pt);V=V.add(At)}return V.multiply(new tn(2))},factorial:function(d){var C=d%1===0;if(C&&d<0)return NaN;if(!C)return $n.gamma(d+1);for(var P=1,V=2;V<=d;V++)P=P*V;return P},dfactorial:function(d){if(un(d)){var C=d%2===0,P=C?d/2:(d+1)/2,V=new tn(1);if(C)for(var oe=1;oe<=P;oe++)V=V.multiply(new tn(2).multiply(new tn(oe)));else for(var oe=1;oe<=P;oe++)V=V.multiply(new tn(2).multiply(new tn(oe)).subtract(new tn(1)))}else V=Math.pow(2,(1+2*d-Math.cos(Math.PI*d))/4)*Math.pow(Math.PI,(Math.cos(Math.PI*d)-1)/4)*$n.gamma(1+d/2);return V},GCD:function(){for(var d=Ee([].slice.call(arguments).map(function(oe){return Math.abs(oe)})).sort(),C=Math.abs(d.shift()),P=d.length;P-- >0;)for(var V=Math.abs(d.shift());;){if(C%=V,C===0){C=V;break}if(V%=C,V===0)break}return C},QGCD:function(){for(var d=[].slice.call(arguments),C=d[0],P=1;P<d.length;P++){var V=d[P],oe=C.isNegative()&&V.isNegative()?-1:1;C=V.gcd(C),oe<0&&C.negate()}return C},LCM:function(d,C){return d*C/$n.GCD(d,C)},pow:function(d,C){return d<0&&Math.abs(C)<1?1/C%2===0?NaN:-Math.pow(Math.abs(d),C):Math.pow(d,C)},factor:function(d){d=Number(d);var C=Math.sign(d);d=Math.abs(d);var P=$n.ifactor(d),V=new me;V.symbols={},V.group=K;for(var oe in P){var fe=new me(1);fe.group=H,fe.value=oe,fe.power=new me(P[oe]),V.symbols[oe]=fe}return V.updateHash(),d===1&&(V=new me(d)),C<0&&V.negate(),V},sfactor:function(d,C){C=C||{};var P=Math.floor(Math.sqrt(d)),V=y[y.length-1];P>V&&d<1e6&&en(P);for(var oe=y.length,fe=0;fe<oe;fe++)for(var Me=y[fe];d%Me===0;)d=d/Me,C[Me]=(C[Me]||0)+1;return d>1&&(C[d]=1),C},ifactor:function(d){var C=new p(d);if(d=String(d),d==="0")return{0:1};d=new p(d);var P=d.sign?-1:1;d=d.abs();var V={};if(d.lt("65536"))V=$n.sfactor(d,V);else{var oe=function(Tt){Tt.isPrime()?V[Tt]=(V[Tt]||0)+1:V=$n.sfactor(Tt,V)};try{for(var fe=1e3,Me=0;!d.abs().equals(1);)if(d.isPrime()){oe(d);break}else{let Tt=function(gn){for(var jt=new p(gn),on=2,An=new p(gn),yn=new p(1);yn.equals(1);){for(var zt=0;zt<=on&&yn.equals(1);zt++){if(Me++>fe)throw new Error("stopping");An=An.pow(2).add(1).mod(d),yn=p.gcd(An.minus(jt).abs(),d)}on=on*2,jt=An}return yn.equals(d)?Tt(gn+1):yn};var At=Tt,be=Tt(2);oe(be),d=d.divide(be)}}catch{V={},oe(C)}}if(P===-1){var pt=yt(ne(V));V["-"+pt]=V[pt],delete V[pt]}return V},boxfactor:function(d,C){C=C||200;for(var P,V,oe=Math.floor(5/12*d),fe=0,Me=!1;P=Math.floor(d/oe),V=d%oe,V!==0;){if(Me)return[d,1];oe=Math.max(V,oe-V),fe++,Me=fe>C}return[P,oe,fe]},fib:function(d){var C=Math.sign(d);d=Math.abs(d),C=R(d)?C:Math.abs(C);for(var P=0,V=1,oe=1,fe=2;fe<=d;fe++)oe=P+V,P=V,V=oe;return oe*C},mod:function(d,C){return d%C},integer_part:function(d){var C=Math.sign(d);return C*Math.floor(Math.abs(d))},simpson:function(d,C,P,V){var oe=function(on,An,yn){var zt=on(An),or=1e-12;return isNaN(zt)&&(zt=on(yn===1?An+or:An-or)),zt};V=V||1e-4;var fe=Math.abs(Math.floor((P-C)/V));fe%2!==0&&fe++;for(var Me=(P-C)/fe,be=oe(d,C,1),pt=!1,At=C+Me,Tt,gn,jt=1;jt<fe;jt++)Tt=pt?2:4,gn=Tt*oe(d,At,1),be+=gn,pt=!pt,At+=Me;return(be+oe(d,At,2))*(Me/3)},num_integrate:function(d,C,P,V,oe){if(oe<0)throw new Error("max depth cannot be negative");function fe(pt,At,Tt,gn,jt,on,An,yn,zt,or,Vn){if(Vn.nanEncountered)return NaN;var er,Ur,ar,ni,Js,ls,Gn,ci,Mi,Hi;if(er=Tt-At,Ur=pt(At+er*.25),ar=pt(Tt-er*.25),isNaN(Ur)){Vn.nanEncountered=!0;return}if(isNaN(ar)){Vn.nanEncountered=!0;return}if(ni=er*(gn+4*Ur+jt)/12,Js=er*(jt+4*ar+on)/12,ls=ni+Js,Hi=(ls-An)/15,!(Vn.maxDepthCount>1e3*zt))return or>zt?(Vn.maxDepthCount++,ls+Hi):Math.abs(Hi)<yn?ls+Hi:(Gn=At+er*.5,ci=fe(pt,At,Gn,gn,Ur,jt,ni,yn*.5,zt,or+1,Vn),isNaN(ci)?(Vn.nanEncountered=!0,NaN):(Mi=fe(pt,Gn,Tt,jt,ar,on,Js,yn*.5,zt,or+1,Vn),isNaN(Mi)?(Vn.nanEncountered=!0,NaN):ci+Mi))}function Me(pt,At,Tt,gn,jt){var on={maxDepthCount:0,nanEncountered:!1};gn===void 0&&(gn=1e-9),jt===void 0&&(jt=45);var An=pt(At),yn=pt(.5*(At+Tt)),zt=pt(Tt),or=(An+4*yn+zt)*(Tt-At)/6,Vn=fe(pt,At,Tt,An,yn,zt,or,gn,jt,1,on);if(on.maxDepthCount>0&&St("integrate-adaptive-simpson: Warning: maximum recursion depth ("+jt+") reached "+on.maxDepthCount+" times"),on.nanEncountered)throw new Error("Function does not converge over interval!");return Vn}var be;try{be=Me(d,C,P,V,oe)}catch{return $n.simpson(d,C,P)}return Sn(be,12)},Ci:function(d){for(var C=20,P=.5772156649015329,V=0,oe=1;oe<C;oe++){var fe=2*oe;V+=Math.pow(-1,oe)*Math.pow(d,fe)/(fe*$n.factorial(fe))}return Math.log(d)+P+V},Si:function(d){for(var C=20,P=0,V=0;V<C;V++){var oe=2*V;P+=Math.pow(-1,V)*Math.pow(d,oe+1)/((oe+1)*$n.factorial(oe+1))}return P},Ei:function(d){if(Number(d)===0)return-1/0;for(var C=30,P=.5772156649015329,V=0,oe=1;oe<C;oe++)V+=Math.pow(d,oe)/(oe*$n.factorial(oe));return P+Math.abs(Math.log(d))+V},Shi:function(d){for(var C=30,P=0,V,oe,fe=0;fe<C;fe++)V=2*fe,oe=V+1,P+=Math.pow(d,oe)/(oe*oe*$n.factorial(V));return P},Chi:function(d){var C,P,V;return C=.001,P=.5772156649015329,V=function(oe){return(Math.cosh(oe)-1)/oe},Math.log(d)+P+$n.num_integrate(V,.002,d,C)},Li:function(d){return $n.Ei($n.bigLog(d))},gamma_incomplete:function(d,oe){for(var P=d-1,V=0,oe=oe||0,fe=0;fe<P;fe++)V+=Math.pow(oe,fe)/$n.factorial(fe);return $n.factorial(P)*Math.exp(-oe)*V},step:function(d){return d>0?1:d<0?0:.5},rect:function(C){var C=Math.abs(C);return C===.5?C:C>.5?0:1},sinc:function(d){return d.equals(0)?1:Math.sin(d)/d},tri:function(d){return d=Math.abs(d),d>=1?0:1-d},nthroot:function(d,C){if(d instanceof tn||(d=new tn(d.toString())),C instanceof tn||(C=new tn(C.toString())),C.equals(1))return d;var P=d.divide(new tn(2)),V=new tn(1e-15),oe,fe,Me,be=C.clone().invert(),pt=C.subtract(new tn(1));do{var At=$n.bigpow(P,pt),Tt=be.multiply(d.divide(At).subtract(P)).toDecimal(25);if(oe=tn.create(Tt),Me)break;P=P.add(oe);var Tt=oe.toDecimal();Me=fe?fe===Tt:!1,fe=Tt}while(oe.abs().gte(V));return P},sqrt:function(d){d instanceof tn||(d=new tn(d));var C,P,V,oe,fe=0,Me=!1,be=new tn(1e-20);C=d.divide(new tn(2));var pt=1e3;do{if(fe>pt)throw new Error("Unable to calculate square root for "+d);C=C.add(d.divide(C)).divide(new tn(2)),C=new tn(C.decimal(30)),P=d.subtract(C.multiply(C)),oe=V?V.equals(P):!1,(P.clone().abs().lessThan(be)||oe)&&(Me=!0),V=P,fe++}while(!Me);return C}};w.FUNCTION_MODULES.push($n),dn($n),Math.sign=Math.sign||function(d){return d=+d,d===0||isNaN(d)?d:d>0?1:-1},Math.cosh=Math.cosh||function(d){var C=Math.exp(d);return(C+1/C)/2},Math.sech=Math.sech||function(d){return 1/Math.cosh(d)},Math.csch=Math.csch||function(d){return 1/Math.sinh(d)},Math.coth=Math.coth||function(d){return 1/Math.tanh(d)},Math.sinh=Math.sinh||function(d){var C=Math.exp(d);return(C-1/C)/2},Math.tanh=Math.tanh||function(d){if(d===1/0)return 1;if(d===-1/0)return-1;var C=Math.exp(2*d);return(C-1)/(C+1)},Math.asinh=Math.asinh||function(d){return d===-1/0?d:Math.log(d+Math.sqrt(d*d+1))},Math.acosh=Math.acosh||function(d){return Math.log(d+Math.sqrt(d*d-1))},Math.atanh=Math.atanh||function(d){return Math.log((1+d)/(1-d))/2},Math.log10=Math.log10||function(d){return Math.log(d)*Math.LOG10E},Math.trunc=Math.trunc||function(d){return isNaN(d)?NaN:d>0?Math.floor(d):Math.ceil(d)};function kr(d,C,P,V){var oe=C==="hash",fe=void 0,Me=oe?void 0:C,be=Me==="decimal"||Me==="decimals";be&&typeof V>"u"&&(V=w.DEFAULT_DECP);function pt(Gn){switch(C){case"decimals":case"decimal":return fe=fe||function(Wo){return!1},Gn.valueOf();case"recurring":fe=fe||function(Wo){return Wo.indexOf("'")!==-1};var Jt=Gn.toString(),Oi=/^-?\d+(?:\/\d+)?$/.exec(Jt);if(Oi.length===0)return Jt;var ji=Oi[0].split("/"),ci=!1,Mi=Number(ji[0]);Mi<0&&(Mi=-Mi,ci=!0);var Hi=Number(ji[1]);Hi||(Hi=1);var Ls=Math.floor(Mi/Hi),rs=10*(Mi-Ls*Hi);for(Ls=Ls.toString()+".";rs&&rs<Hi;)rs*=10,Ls+="0";for(var ri="",Kn=[],Zr=0;;){if(typeof Kn[rs]<"u"){var bi=ri.slice(0,Kn[rs]),po=ri.slice(Kn[rs]),ii=Ls+bi+"'"+po+"'";return(ci?"-":"")+ii.replace("'0'","").replace(/\.$/,"")}var Us=Math.floor(rs/Hi),wo=rs-Us*Hi;Kn[rs]=Zr,ri+=Us.toString(),Zr+=1,rs=10*wo}case"mixed":fe=fe||function(Wo){return Wo.indexOf("/")!==-1};var Jt=Gn.toString(),Oi=/^-?\d+(?:\/\d+)?$/.exec(Jt);if(Oi.length===0)return Jt;var ji=Oi[0].split("/"),n0=new p(ji[0]),r0=new p(ji[1]);r0.equals(0)&&(r0=new p(1));var zs=n0.divmod(r0),Ls=zs.quotient,Yr=zs.remainder,Cs=ji[0][0]==="-"||Ls.equals(0)||Yr.equals(0)?"":"+";return(Ls.equals(0)?"":Ls.toString())+Cs+(Yr.equals(0)?"":Yr.toString()+"/"+ji[1]);case"scientific":return fe=fe||function(Wo){return!1},new Or(Gn.valueOf()).toString(w.SCIENTIFIC_MAX_DECIMAL_PLACES);default:return fe=fe||function(Wo){return Wo.indexOf("/")!==-1},Gn.toString()}}if(It(d)){var At="",Tt="",gn="",jt=d.group||P,on=d.value;if(!oe){var An=pt(d.multiplier);An=="-1"&&String(d.multiplier)==="-1"&&(gn="-",An="1"),An!="1"&&(At=An);var yn=d.power?pt(d.power):"";yn!="1"&&(It(yn)?Tt=kr(yn,Me):Tt=yn)}switch(jt){case I:At="";var zt=V&&be?d.multiplier.toDecimal(V):pt(d.multiplier);on=String(d.multiplier)=="-1"?"1":zt,Tt="";break;case ce:on=d.collectSymbols().map(function(Gn){var ci=kr(Gn,Me,P,V);return ci=="0"&&(ci=""),ci}).sort().join("+").replace(/\+\-/g,"-");break;case se:on=d.collectSymbols().map(function(Gn){var ci=kr(Gn,Me,P,V);return ci=="0"&&(ci=""),ci}).sort().join("+").replace(/\+\-/g,"-");break;case K:on=d.collectSymbols(function(Gn){var ci=Gn.group;return(ci===ce||ci===se)&&Gn.power.equals(1)&&Gn.multiplier.equals(1)?nr(kr(Gn,Me)):kr(Gn,Me)}).join("*");break;case te:var or=d.previousGroup,Vn=d.power.group;or===ce&&(on=d.collectSymbols(kr,Me).join("+").replace("+-","-")),!(or===I||or===F||or===he)&&!oe&&(on=nr(on)),(Vn===se||Vn===K||Vn===ce||d.power.multiplier.toString()!="1")&&Tt&&(Tt=nr(Tt));break}if(jt===he&&(on=d.fname+nr(d.args.map(function(Gn){return kr(Gn,Me)}).join(","))),jt===he&&d.fname in E){var er=kr(d.args[0]),Ur=kr(d.args[1]);d.args[0].isComposite()&&(er=nr(er)),d.args[1].isComposite()&&(Ur=nr(Ur)),on=er+E[d.fname]+Ur}Tt&&jt!==te&&fe(Tt)&&(Tt=nr(Tt)),((jt===se||jt===ce)&&(At&&At!="1"||gn==="-")||(jt===K||jt===se||jt===ce)&&Tt&&Tt!="1"||!oe&&jt===H&&on==-1||d.fname===Oe)&&(on=nr(on)),V&&(C==="decimal"||C==="decimals"&&At)&&(At=Sn(At,V));var ar=gn+At;if(At&&fe(At)&&(ar=nr(ar)),Tt<0&&(Tt=nr(Tt)),At&&(ar=ar+"*"),Tt){if(on==="e"&&w.E_TO_EXP)return ar+"exp"+nr(Tt);Tt=w.POWER_OPERATOR+Tt}jt===te&&on.charAt(0)==="-"&&(on=nr(on));var ni=ar+on;return d.parens&&(ni=nr(ni)),ni+Tt}else if(qn(d)){for(var Js=d.elements.length,ar=[],ls=0;ls<Js;ls++)ar.push(d.elements[ls].text(C));return"["+ar.join(",")+"]"}else try{return d.toString()}catch{return""}}function Rs(d){if(de(d))return[d];for(var C=d,P=1,V=[],oe=2220446049250313e-31;P<C;){var fe=d/P,Me=Math.floor(fe),be=fe-Me;if(be<=oe&&P>1){if(de(P)&&(y.indexOf(P)===-1&&y.push(P),V.push(P)),de(Me)){V.push(Me);break}C=Me}P++}return V.sort(function(pt,At){return pt-At})}Rs(314146179365);function ui(d){this.symbol=d}ui.getExpression=function(d,C){(d==="last"||!d)&&(d=Ze.length),d==="first"&&(d=1);var P=d-1,V=Ze[P],oe=V&&new ui(V);return oe},ui.prototype={text:function(d,C){return C=C||w.EXPRESSION_DECP,d=d||"decimals",this.symbol.text_?this.symbol.text_(d):kr(this.symbol,d,void 0,C)},latex:function(d){return this.symbol.latex?this.symbol.latex(d):gr.latex(this.symbol,d)},valueOf:function(){return this.symbol.valueOf()},evaluate:function(){if(qn(this.symbol)&&this.symbol.dimensions()===0)return this;var d=arguments[0],C,P=1;typeof d=="string"?C=d.charAt(0)==="%"?ui.getExpression(d.substr(1)).text():d:d instanceof ui||It(d)?C=d.text():(C=this.symbol.text(),P--);var V=arguments[P]||{},oe=new ui(hr("PARSE2NUMBER",function(){return h.parse(C,V)},!0));return oe},buildFunction:function(d){return Wr.build(this.symbol,d)},isNumber:function(){return Br(this.symbol)},isInfinity:function(){return Math.abs(this.symbol.multiplier)===1/0},isImaginary:function(){return B(h.parse(this.symbol)).isImaginary()},variables:function(){return cn(this.symbol)},toString:function(){try{return mr(this.symbol)?"["+this.symbol.toString()+"]":this.symbol.toString()}catch{return""}},toDecimal:function(d){w.precision=d;var C=kr(this.symbol,"decimals");return w.precision=void 0,C},isFraction:function(){return Ft(this.symbol)},isPolynomial:function(){return this.symbol.isPoly()},sub:function(d,C){return new ui(this.symbol.sub(h.parse(d),h.parse(C)))},operation:function(d,C){return Qt(C)?C=C.symbol:It(C)||(C=h.parse(C)),new ui(h[d](this.symbol.clone(),C.clone()))},add:function(d){return this.operation("add",d)},subtract:function(d){return this.operation("subtract",d)},multiply:function(d){return this.operation("multiply",d)},divide:function(d){return this.operation("divide",d)},pow:function(d){return this.operation("pow",d)},expand:function(){return new ui(h.expand(this.symbol))},each:function(d,C){if(this.symbol.each)this.symbol.each(d,C);else if(mr(this.symbol))for(var C=0;C<this.symbol.length;C++)d.call(this.symbol,this.symbol[C],C);else d.call(this.symbol)},eq:function(d){It(d)||(d=h.parse(d));try{var C=h.subtract(this.symbol.clone(),d);return C.equals(0)}catch{return!1}},lt:function(d){It(d)||(d=h.parse(d));try{var C=B(h.subtract(this.symbol.clone(),d));return C.lessThan(0)}catch{return!1}},gt:function(d){It(d)||(d=h.parse(d));try{var C=B(h.subtract(this.symbol.clone(),d));return C.greaterThan(0)}catch{return!1}},gte:function(d){return this.gt(d)||this.eq(d)},lte:function(d){return this.lt(d)||this.eq(d)},numerator:function(){return new ui(this.symbol.getNum())},denominator:function(){return new ui(this.symbol.getDenom())},hasFunction:function(d){return this.symbol.containsFunction(d)},contains:function(d){return this.symbol.contains(d)}},ui.prototype.toTeX=ui.prototype.latex;function Or(d){return this instanceof Or?(d=String(typeof d>"u"?0:d),d.startsWith("-")?(this.sign=-1,d=d.substr(1,d.length)):this.sign=1,Or.isScientific(d)?this.fromScientific(d):this.convert(d),this):new Or(d)}Or.prototype={fromScientific:function(d){var C=String(d).toLowerCase().split("e");return this.coeff=C[0],this.exponent=C[1],this},convert:function(d){var C=d.split("."),P=C[0]||"",V=C[1]||"";P=Or.removeLeadingZeroes(P),V=Or.removeTrailingZeroes(V);var oe=P.length,fe=P+V,Me=Or.leadingZeroes(fe).length;this.exponent=oe-(Me+1);var be=Or.removeLeadingZeroes(fe);this.coeff=be.charAt(0)+"."+(be.substr(1,be.length)||"0");var pt=this.coeff.split(".")[1]||"";return this.decp=pt==="0"?0:pt.length,this.dec=V,this.wholes=P,this},round:function(d){var C=this.copy();if(d=Number(d),d===0)C.coeff=C.coeff.charAt(0);else{var P=this.coeff.substring(0,d+1),V=this.coeff.substring(d+1,d+3),oe=V.charAt(0);V.charAt(1)>4&&oe++,C.coeff=P+oe}return C},copy:function(){var d=new Or(0);return d.coeff=this.coeff,d.exponent=this.exponent,d.sign=this.sign,d},toString:function(d){var C;if(w.SCIENTIFIC_IGNORE_ZERO_EXPONENTS&&this.exponent===0&&this.decp<d)this.decp===0?C=this.wholes:C=this.coeff;else{var P=typeof d>"u"?this.coeff:Or.round(this.coeff,Math.min(d,this.decp||1));C=this.exponent===0?P:P+"e"+this.exponent}return(this.sign===-1?"-":"")+C}},Or.isScientific=function(d){return/\d+\.?\d*e[\+\-]*\d+/i.test(d)},Or.leadingZeroes=function(d){var C=d.match(/^(0*).*$/);return C?C[1]:""},Or.removeLeadingZeroes=function(d){var C=d.match(/^0*(.*)$/);return C?C[1]:""},Or.removeTrailingZeroes=function(d){var C=d.match(/0*$/);return C?d.substring(0,d.length-C[0].length):""},Or.round=function(d,C){var P=Sn(d,C),V=String(P).split(".").pop(),oe=C-V.length;return oe>0&&(P=P+new Array(oe+1).join(0)),P};function tn(d){if(d instanceof tn)return d;if(d===void 0)return this;try{if(un(d))try{this.num=p(d),this.den=p(1)}catch{return tn.simple(d)}else{var C=d instanceof $?ms.quickConversion(d):ms.convert(d);this.num=new p(C[0]),this.den=new p(C[1])}}catch{return tn.simple(d)}}tn.create=function(d){if(d instanceof tn)return d;d=d.toString();var C=d.charAt(0)==="-";C&&(d=d.substr(1,d.length-1));var P=new tn(d);return C&&P.negate(),P},tn.isFrac=function(d){return d instanceof tn},tn.quick=function(d,C){var P=new tn;return P.num=new p(d),P.den=new p(C),P},tn.simple=function(d){for(var C=String(an(d)),P=C.split("."),V=P.join(""),oe=1,fe=(P[1]||"").length,Me=0;Me<fe;Me++)oe+="0";var be=tn.quick(V,oe);return be.simplify()},tn.prototype={multiply:function(d){if(this.isOne())return d.clone();if(d.isOne())return this.clone();var C=this.clone();return C.num=C.num.multiply(d.num),C.den=C.den.multiply(d.den),C.simplify()},divide:function(d){if(d.equals(0))throw new J("Division by zero not allowed!");return this.clone().multiply(d.clone().invert()).simplify()},subtract:function(d){return this.clone().add(d.clone().neg())},neg:function(){return this.num=this.num.multiply(-1),this},add:function(d){var C=this.den,P=d.den,V=this.clone(),oe=V.num,fe=d.num;return C.equals(P)?V.num=oe.add(fe):(V.num=oe.multiply(P).add(fe.multiply(C)),V.den=C.multiply(P)),V.simplify()},mod:function(d){var C=this.clone(),P=d.clone();return C.num=C.num.multiply(P.den),C.den=C.den.multiply(P.den),P.num=P.num.multiply(this.den),P.den=P.den.multiply(this.den),C.num=C.num.mod(P.num),C.simplify()},simplify:function(){var d=p.gcd(this.num,this.den);return this.num=this.num.divide(d),this.den=this.den.divide(d),this},clone:function(){var d=new tn;return d.num=new p(this.num),d.den=new p(this.den),d},decimal:function(d){var C=this.num.isNegative()?"-":"";if(this.num.equals(this.den))return"1";d=d||w.PRECISION,d++;for(var P=[],V=this.num.abs(),oe=this.den,fe=0;fe<d;fe++){var Me=V.divide(oe),be=V.subtract(Me.multiply(oe));if(P.push(Me),be.equals(0))break;V=be.times(10)}var pt=P.shift();if(P.length===0)return C+pt.toString();if(fe===d){for(var At=[],fe=0;fe<2;fe++)At.unshift(P.pop());P.push(Math.round(At.join(".")))}var Tt=pt.toString()+"."+P.join("");return C+Tt},toDecimal:function(d){return d=d||w.PRECISION,d?this.decimal(d):this.num/this.den},qcompare:function(d){return[this.num.multiply(d.den),d.num.multiply(this.den)]},equals:function(d){isNaN(d)||(d=new tn(d));var C=this.qcompare(d);return C[0].equals(C[1])},absEquals:function(d){isNaN(d)||(d=new tn(d));var C=this.qcompare(d);return C[0].abs().equals(C[1])},greaterThan:function(d){isNaN(d)||(d=new tn(d));var C=this.qcompare(d);return C[0].gt(C[1])},gte:function(d){return this.greaterThan(d)||this.equals(d)},lte:function(d){return this.lessThan(d)||this.equals(d)},lessThan:function(d){isNaN(d)||(d=new tn(d));var C=this.qcompare(d);return C[0].lt(C[1])},isInteger:function(){return this.den.equals(1)},negate:function(){return this.num=this.num.multiply(-1),this},invert:function(){var d=this.den;if(!this.num.equals(0)){var C=this.num.isNegative();this.den=this.num.abs(),this.num=d,C&&(this.num=this.num.multiply(-1))}return this},isOne:function(){return this.num.equals(1)&&this.den.equals(1)},sign:function(){return this.num.isNegative()?-1:1},abs:function(){return this.num=this.num.abs(),this},gcd:function(d){return tn.quick(p.gcd(d.num,this.num),p.lcm(d.den,this.den))},toString:function(){return this.den.equals(1)?this.num.toString():this.num.toString()+"/"+this.den.toString()},valueOf:function(){if(w.USE_BIG)return new $(this.num.toString()).div(new $(this.den.toString()));var d=this.num/this.den;return d},isNegative:function(){return this.toDecimal()<0}};function me(d){var C=d==="Infinity";return this instanceof me?(d instanceof $&&(d=d.toString()),/^(\-?\+?\d+)\.?\d*e?\-?\+?\d*/i.test(d)||d instanceof $?(this.group=I,this.value=we,this.multiplier=new tn(d)):(this.group=F,vt(d),this.value=d,this.multiplier=new tn(1),this.imaginary=d===w.IMAGINARY,this.isInfinity=C),this.power=new tn(1),this):new me(d)}me.imaginary=function(){var d=new me(w.IMAGINARY);return d.imaginary=!0,d},me.infinity=function(d){var C=new me("Infinity");return d===-1&&C.negate(),C},me.shell=function(d,C){var P=new me(C);return P.group=d,P.symbols={},P.length=0,P},me.unwrapSQRT=function(d,C){var P=d.power;if(d.fname===De&&(d.isLinear()||C)){var V=d.args[0].clone();V.power=V.power.multiply(new tn(.5)),V.multiplier=V.multiplier.multiply(d.multiplier),d=V,C&&(d.power=P.multiply(new tn(.5)))}return d},me.hyp=function(d,C){return d=d||new me(0),C=C||new me(0),h.sqrt(h.add(h.pow(d.clone(),new me(2)),h.pow(C.clone(),new me(2))))},me.toPolarFormArray=function(d){var C,P,V,oe;return C=d.realpart(),P=d.imagpart(),V=me.hyp(C,P),oe=C.equals(0)?h.parse("pi/2"):h.trig.atan(h.divide(P,C)),[V,oe]},me.unwrapPARENS=function(d){if(d.fname===""){var C=d.args[0];return C.power=C.power.multiply(d.power),C.multiplier=C.multiplier.multiply(d.multiplier),d.fname===""?me.unwrapPARENS(C):C}return d},me.create=function(d,C){return C=C===void 0?1:C,h.parse("("+d+")^("+C+")")},me.prototype={getNth:function(d){var C=B(h.pow(h.parse(this.multiplier),h.parse(d).invert())),P=h.parse(Sn(C)),V=B(h.pow(P,h.parse(d)));return V.equals(h.parse(this.multiplier))?P:C},isToNth:function(d){var C=this.getNth(d),P=un(C),V;return this.group===K?(V=!0,this.each(function(oe){var fe=oe.isToNth(d);fe||(V=!1)})):V=this.group===I?!0:un(h.divide(h.parse(this.power),h.parse(d))),P&&V},isSquare:function(){return this.isToNth(2)},isCube:function(){return this.isToNth(3)},isSimple:function(){return this.power.equals(1)&&this.multiplier.equals(1)},powSimp:function(){if(this.group===K){var d=[],P=this.multiplier.sign();this.each(function(gn){var jt=gn.power;if(It(jt)||jt.equals(1))return this.clone();d.push(jt)});var C=new tn(yt(d)),P=this.multiplier.sign(),V=this.multiplier.clone().abs(),oe=$n.ifactor(V),fe=new tn(1),Me=new tn(1);for(var be in oe){var pt=new tn(oe[be]);pt.lessThan(C)||(pt=pt.divide(C).subtract(new tn(1)),Me=Me.multiply(new tn(be))),fe=fe.multiply(h.parse(nr(be)+"^"+nr(pt)).multiplier)}var At=new me(Me);this.each(function(gn){gn=gn.clone(),gn.power=gn.power.divide(C),At=h.multiply(At,gn)});var Tt=h.symfunction(Oe,[At]);return Tt.power=C,Tt.multiplier=P<0?fe.negate():fe,Tt}return this.clone()},equals:function(d){return It(d)||(d=new me(d)),this.value===d.value&&this.power.equals(d.power)&&this.multiplier.equals(d.multiplier)&&this.group===d.group},abs:function(){var d=this.clone();return d.multiplier.abs(),d},gt:function(d){return It(d)||(d=new me(d)),this.isConstant()&&d.isConstant()&&this.multiplier.greaterThan(d.multiplier)},gte:function(d){return It(d)||(d=new me(d)),this.equals(d)||this.isConstant()&&d.isConstant()&&this.multiplier.greaterThan(d.multiplier)},lt:function(d){return It(d)||(d=new me(d)),this.isConstant()&&d.isConstant()&&this.multiplier.lessThan(d.multiplier)},lte:function(d){return It(d)||(d=new me(d)),this.equals(d)||this.isConstant()&&d.isConstant()&&this.multiplier.lessThan(d.multiplier)},isPoly:function(d){var C=this.group,P=this.power;if(!un(P)||P<0)return!1;if(C===I||C===F||this.isConstant(!0))return!0;var V=cn(this);if(C===K&&V.length===1){var oe=V[0];if(!oe)return!0;for(var fe in this.symbols){var Me=this.symbols[fe];if(Me.group===he&&!Me.args[0].isConstant()||!Me.contains(oe)&&!Me.isConstant(!0))return!1}return!0}if(this.isComposite()||C===K&&d){if(!d&&V.length>1)return!1;for(var fe in this.symbols)if(!this.symbols[fe].isPoly(d))return!1;return!0}else return!1},stripVar:function(d,C){var P;return(this.group===ce||this.group===F)&&this.value===d?P=new me(C?0:this.multiplier):this.group===K&&this.isLinear()?(P=new me(1),this.each(function(V){V.contains(d,!0)||(P=h.multiply(P,V.clone()))}),P.multiplier=P.multiplier.multiply(this.multiplier)):this.group===se&&!this.isLinear()?P=new me(this.multiplier):this.group===se&&this.isLinear()?(P=new me(0),this.each(function(V){if(!V.contains(d)){var oe=V.clone();oe.multiplier=oe.multiplier.multiply(this.multiplier),P=h.add(P,oe)}}),P.equals(0)&&(P=new me(this.multiplier))):this.group===te&&this.power.contains(d,!0)?P=new me(this.multiplier):this.group===he&&this.contains(d)?P=new me(this.multiplier):P=this.clone(),P},toArray:function(d,C){C=C||{arr:[],add:function(be,pt){var At=this.arr[pt];this.arr[pt]=At?h.add(At,be):be}};var P=this.group;if(P===F&&this.contains(d))C.add(new me(this.multiplier),this.power);else if(P===K){var V=this.stripVar(d),oe=h.divide(this.clone(),V.clone()),fe=oe.isConstant()?0:oe.power;C.add(V,fe)}else if(P===ce&&this.value===d)this.each(function(be,pt){C.add(be.stripVar(d),pt)});else if(P===se)this.each(function(be){be.toArray(d,C)});else{if(this.contains(d))throw new rt("Cannot convert to array! Exiting");C.add(this.clone(),0)}C=C.arr;for(var Me=0;Me<C.length;Me++)C[Me]||(C[Me]=new me(0));return C},hasFunc:function(d){var C=this.group===he||this.group===te;if(C&&!d||C&&this.contains(d))return!0;if(this.symbols){for(var P in this.symbols)if(this.symbols[P].hasFunc(d))return!0}return!1},sub:function(d,C){d=It(d)?d.clone():h.parse(d),C=It(C)?C.clone():h.parse(C),(d.group===I||d.group===H)&&Xt("Cannot substitute a number. Must be a variable");var P=!1,V=d.multiplier.equals(1),oe=this.multiplier.clone(),fe;if(this.value===d.value&&(this.group!==ce&&d.group!==ce||this.group===ce&&d.group===ce))(V||d.multiplier.equals(this.multiplier))&&(d.isLinear()?fe=C:d.power.equals(this.power)&&(fe=C,P=!0),d.multiplier.equals(this.multiplier)&&(oe=new tn(1)));else if(this.group===K||this.previousGroup===K)fe=new me(1),this.each(function(on){var An=h.parse(on.sub(d,C));fe=h.multiply(fe,An)});else if(this.isComposite()){var Me=this.clone();if(d.isComposite()&&Me.isComposite()&&Me.isLinear()&&d.isLinear()){var be=function(on,An){for(var yn in on.symbols){var zt=on.symbols[yn];if(zt.isComposite()&&be(zt,An)||zt.equals(An))return!0}return!1};for(var pt in d.symbols)if(!be(Me,d.symbols[pt]))return Me.clone();fe=h.add(h.subtract(Me.clone(),d),C)}else fe=new me(0),Me.each(function(on){fe=h.add(fe,on.sub(d,C))})}else if(this.group===te)fe=h.parse(this.value).sub(d,C);else if(this.group===he){for(var At=[],Tt=0;Tt<this.args.length;Tt++){var gn=this.args[Tt];It(gn)||(gn=h.parse(gn)),At.push(gn.sub(d,C))}fe=h.symfunction(this.fname,At)}if(fe){if(!P){var jt=this.group===te?this.power.sub(d,C):h.parse(this.power);fe=h.pow(fe,jt)}return fe.multiplier=fe.multiplier.multiply(oe),fe}return this.clone()},isMonomial:function(){if(this.group===F)return!0;if(this.group===K){for(var d in this.symbols)if(this.symbols[d].group!==F)return!1}else return!1;return!0},isPi:function(){return this.group===F&&this.value==="pi"},sign:function(){return this.multiplier.sign()},isE:function(){return this.value==="e"},isSQRT:function(){return this.fname===De},isConstant:function(d,C){if(C&&this.group===K){for(var P in this.symbols)if(this.symbols[P].isConstant(!0))return!0}if(d==="functions"&&this.isComposite()){var V=!0;return this.each(function(fe){fe.isConstant(d,C)||(V=!1)},!0),V}if(d==="all"&&(this.isPi()||this.isE()))return!0;if(d&&this.group===he){for(var oe=0;oe<this.args.length;oe++)if(!this.args[oe].isConstant(d))return!1;return!0}return d?Br(this):this.value===we},isImaginary:function(){if(this.imaginary)return!0;if(this.symbols){for(var d in this.symbols)if(this.symbols[d].isImaginary())return!0}return!1},realpart:function(){if(this.isConstant())return this.clone();if(this.imaginary)return new me(0);if(this.isComposite()){var d=new me(0);return this.each(function(C){d=h.add(d,C.realpart())}),d}else if(this.isImaginary())return new me(0);return this.clone()},imagpart:function(){if(this.group===F&&this.isImaginary())return new me(this.multiplier);if(this.isComposite()){var d=new me(0);return this.each(function(C){d=h.add(d,C.imagpart())}),d}return this.group===K?this.stripVar(w.IMAGINARY):new me(0)},isInteger:function(){return this.isConstant()&&this.multiplier.isInteger()},isLinear:function(d){if(d){if(this.isConstant())return!0;if(this.group===F)return this.value===d?this.power.equals(1):!0;if(this.isComposite()&&this.power.equals(1)){for(var C in this.symbols)if(!this.symbols[C].isLinear(d))return!1;return!0}return this.group===K&&this.symbols[d]?this.symbols[d].isLinear(d):!1}else return this.power.equals(1)},containsFunction:function(d){if(typeof d=="string"&&(d=[d]),this.group===he&&d.indexOf(this.fname)!==-1)return!0;if(this.symbols){for(var C in this.symbols)if(this.symbols[C].containsFunction(d))return!0}return!1},multiplyPower:function(d){if(this.group===I&&this.multiplier.equals(1))return this;var C=this.power;if(this.group!==te&&d.group===I){var P=d.multiplier;this.group===I&&!P.isInteger()&&this.convert(H),this.power=C.equals(1)?P.clone():C.multiply(P),this.group===H&&un(this.power)&&(this.value=Math.pow(this.value,this.power),this.toLinear(),this.convert(I))}else this.group!==te&&(C=new me(C),this.convert(te)),this.power=h.multiply(C,d);return this},setPower:function(d,C){if(this.group===I&&this.multiplier.equals(1))return this;if(this.group===te&&!It(d))this.group=this.previousGroup,delete this.previousGroup,this.group===I?(this.multiplier=new tn(this.value),this.value=we):this.power=d;else{var P=!1;It(d)&&(d.group===I?d=d.multiplier:P=!0);var V=P?te:H;this.power=d,this.group===I&&V&&this.convert(V,C)}return this},isInverse:function(){return this.group===te?this.power.multiplier.lessThan(0):this.power<0},clone:function(d){var C=d||new me(0),P=["value","group","length","previousGroup","imaginary","fname","args","isInfinity","scientific"],V=P.length,oe;if(this.symbols){C.symbols={};for(var fe in this.symbols)C.symbols[fe]=this.symbols[fe].clone()}for(oe=0;oe<V;oe++)this[P[oe]]!==void 0&&(C[P[oe]]=this[P[oe]]);return C.power=this.power.clone(),C.multiplier=this.multiplier.clone(),this.isConversion&&(C.isConversion=this.isConversion),this.isUnit&&(C.isUnit=this.isUnit),C},toUnitMultiplier:function(d){return this.multiplier.num=new p(this.multiplier.num.isNegative()&&d?-1:1),this.multiplier.den=new p(1),this},toLinear:function(){return this.power.equals(1)?this:(this.setPower(new tn(1)),this)},each:function(d,C){if(!this.symbols)d.call(this,this,this.value);else for(var P in this.symbols){var V=this.symbols[P];if(V.group===ce&&C)for(var oe in V.symbols)d.call(P,V.symbols[oe],oe);else d.call(this,V,P)}},valueOf:function(){return this.group===I?this.multiplier.valueOf():this.power===0?1:this.multiplier===0?0:kr(this,"decimals")},contains:function(d,C){d=String(d);var P=this.group;if(this.value===d)return!0;if(this.symbols){for(var V in this.symbols)if(this.symbols[V].contains(d,C))return!0}if(P===he||this.previousGroup===he){for(var oe=0;oe<this.args.length;oe++)if(this.args[oe].contains(d,C))return!0}return P===te&&(C&&this.power.contains(d,C)||this.value===d)?!0:this.value===d},negate:function(){return this.multiplier.negate(),(this.group===se||this.group===ce)&&this.distributeMultiplier(),this},invert:function(d,C){return d||(this.multiplier=this.multiplier.invert()),It(this.power)?this.power.negate():this.group===K&&C?this.each(function(P){return P.invert()}):this.power&&this.group!==I&&this.power.negate(),this},distributeMultiplier:function(d){var C=d?this.power.absEquals(1):this.power.equals(1);if(this.symbols&&C&&this.group!==K&&!this.multiplier.equals(1)){for(var P in this.symbols){var V=this.symbols[P];V.multiplier=V.multiplier.multiply(this.multiplier),V.distributeMultiplier()}this.toUnitMultiplier()}return this},distributeExponent:function(){if(!this.power.equals(1)){var d=this.power;for(var C in this.symbols){var P=this.symbols[C];P.group===te?P.power=h.multiply(P.power,new me(d)):this.symbols[C].power=this.symbols[C].power.multiply(d)}this.toLinear()}return this},convert:function(d,C){if(d>he){var P=this.clone();this.symbols={},d===K?P.toUnitMultiplier():this.toUnitMultiplier(),this.group===he&&(P.args=this.args,delete this.args,delete this.fname),this.isImgSymbol&&delete this.isImgSymbol,this.toLinear(),this.symbols[P.keyForGroup(d)]=P,this.group=d,this.length=1}else if(d===te)this.group===I&&this.multiplier.equals(1)||(this.group!==te&&(this.previousGroup=this.group),this.group===I?(this.value=this.multiplier.num.toString(),this.toUnitMultiplier()):this.value=kr(this,"hash"),this.group=te);else if(d===I){var V=this.multiplier.toDecimal();this.symbols&&(this.symbols=void 0),new me(this.group===H?V*Math.pow(this.value,this.power):V).clone(this)}else d===H&&this.group===I&&(this.value=C?this.multiplier.num.toString():Math.abs(this.multiplier.num.toString()),this.toUnitMultiplier(!C),this.group=H);return this},insert:function(d,C){if(It(d)||Xt("Object "+d+" is not of type Symbol!"),this.symbols){var P=this.group;if(P>he){var V=d.keyForGroup(P),oe=V in this.symbols?this.symbols[V]:!1;if(C==="add"){var fe=V;oe?(this.symbols[fe]=h.add(oe,d),this.symbols[fe].multiplier.equals(0)&&(delete this.symbols[fe],this.length--,this.length===0&&(this.convert(I),this.multiplier=new tn(0)))):(this.symbols[V]=d,this.length++)}else d.group===H&&un(d.power)&&d.convert(I),d.group!==te?(this.multiplier=this.multiplier.multiply(d.multiplier),d.toUnitMultiplier()):(d.parens=d.multiplier.lessThan(0),this.multiplier=this.multiplier.multiply(d.multiplier.clone().abs()),d.toUnitMultiplier(!0)),oe&&(d=h.multiply(Mn(this.symbols,V),d),d.isConstant()&&(this.multiplier=this.multiplier.multiply(d.multiplier),d=new me(1)),this.length--),d.isOne(!0)?d.multiplier.lessThan(0)&&this.negate():(this.symbols[V]=d,this.length++);this.length===0&&this.convert(I),(this.group===se||this.group===K)&&this.updateHash()}}return this},attach:function(d){if(mr(d)){for(var C=0;C<d.length;C++)this.insert(d[C],"add");return this}return this.insert(d,"add")},combine:function(d){if(mr(d)){for(var C=0;C<d.length;C++)this.insert(d[C],"multiply");return this}return this.insert(d,"multiply")},updateHash:function(){if(this.group!==I)if(this.group===he){for(var d="",C=this.args,P=this.fname===Oe,V=0;V<C.length;V++)d+=(V===0?"":",")+kr(C[V]);var oe=P?"":this.fname;this.value=oe+(P?d:nr(d))}else this.group===F||this.group===ce||(this.value=kr(this,"hash"))},keyForGroup:function(d){var C=this.group,P;if(C===I)P=this.value;else if(C===F||C===H)d===ce?P=this.power.toDecimal():P=this.value;else if(C===he)d===ce?P=this.power.toDecimal():P=kr(this,"hash");else{if(C===ce)return d===K?P=kr(this,"hash"):d===se?this.power.equals(1)?P=this.value:P=nr(kr(this,"hash"))+w.POWER_OPERATOR+this.power.toDecimal():d===ce?P=this.power.toString():P=this.value,P;C===se?(d===se&&(P=kr(this,"hash")),d===ce?P=this.power.toDecimal():P=this.value):C===K?d===ce?P=this.power.toDecimal():P=kr(this,"hash"):C===te&&(d===ce?P=kr(this.power):P=kr(this,"hash"))}return P},collectSymbols:function(d,C,P,V){var oe=[];if(!this.symbols)oe.push(this);else for(var fe in this.symbols){var Me=this.symbols[fe];V&&(Me.group===ce||Me.group===se)?oe=oe.concat(Me.collectSymbols()):oe.push(d?d(Me,C):Me)}return P===null&&(P=void 0),oe.sort(P)},latex:function(d){return gr.latex(this,d)},text:function(d){return kr(this,d)},isOne:function(d){var C=d?"absEquals":"equals";return this.group===I?this.multiplier[C](1):this.power.equals(0)},isComposite:function(){var d=this.group,C=this.previousGroup;return d===se||d===ce||C===ce||C===se},isCombination:function(){var d=this.group,C=this.previousGroup;return d===K||C===K},lessThan:function(d){return this.multiplier.lessThan(d)},greaterThan:function(d){return It(d)||(d=new me(d)),!this.isConstant(!0)||!d.isConstant(!0)?!1:this.multiplier.greaterThan(d.multiplier)},getDenom:function(){var d,C;if(C=this.clone(),this.group===K&&this.power.lessThan(0)&&(C=h.expand(C)),C.power.lessThan(0)||C.group===te&&C.power.multiplier.lessThan(0)){var P=h.parse(C.multiplier.den);d=C.toUnitMultiplier(),d.power.negate(),d=h.multiply(P,d)}else if(C.group===K){d=h.parse(C.multiplier.den);for(var V in C.symbols){var oe=C.symbols[V];(oe.power<0||oe.group===te&&oe.power.multiplier.lessThan(0))&&(d=h.multiply(d,C.symbols[V].clone().invert()))}}else d=h.parse(C.multiplier.den);return d},getNum:function(){var d,C;return C=this.clone(),C.group===K&&C.power.lessThan(0)&&(C=h.expand(C)),C.power.greaterThan(0)&&C.group!==K||C.group===te&&C.power.multiplier.greaterThan(0)?d=h.multiply(h.parse(C.multiplier.num),C.toUnitMultiplier()):C.group===K?(d=h.parse(C.multiplier.num),C.each(function(P){(P.power>0||P.group===te&&P.power.multiplier>0)&&(d=h.multiply(d,P.clone()))})):d=h.parse(C.multiplier.num),d},toString:function(){return this.text()}};function Ni(){var d=this,C={},P={names:[],actions:[]};function V(T,N){this.start=T,this.end=N}V.prototype.isConstant=function(){return this.start.isConstant()&&this.end.isConstant()},V.prototype.text=function(){return kr(this.start)+":"+kr(this.end)};function oe(){this.elements=[]}oe.prototype.append=function(T){this.elements.push(T)},oe.prototype.getItems=function(){return this.elements},oe.prototype.toString=function(){return d.pretty_print(this.elements)},oe.create=function(T){var N=new oe;return T&&N.append(T),N};function fe(T,N,le){if(this.type=N,this.value=T,le!==void 0&&(this.column=le+1),N===fe.OPERATOR){var Te=At[T];for(var Ue in Te)this[Ue]=Te[Ue]}else N===fe.FUNCTION&&(this.precedence=fe.MAX_PRECEDENCE,this.leftAssoc=!1)}fe.prototype.toString=function(){return this.value},fe.prototype.toString=function(){return this.is_prefix?"`"+this.value:this.value},fe.OPERATOR="OPERATOR",fe.VARIABLE_OR_LITERAL="VARIABLE_OR_LITERAL",fe.FUNCTION="FUNCTION",fe.UNIT="UNIT",fe.KEYWORD="KEYWORD",fe.MAX_PRECEDENCE=999,this.classes={Collection:oe,Slice:V,Token:fe};var Me={prec:void 0,cos:function(T,N){var le,Te;return le=d.parse(Math.cos(T)*Math.cosh(N)),Te=d.parse(Math.sin(T)*Math.sinh(N)),d.subtract(le,d.multiply(Te,me.imaginary()))},sin:function(T,N){var le,Te;return le=d.parse(Math.sin(T)*Math.cosh(N)),Te=d.parse(Math.cos(T)*Math.sinh(N)),d.subtract(le,d.multiply(Te,me.imaginary()))},tan:function(T,N){var le,Te;return le=d.parse(Math.sin(2*T)/(Math.cos(2*T)+Math.cosh(2*N))),Te=d.parse(Math.sinh(2*N)/(Math.cos(2*T)+Math.cosh(2*N))),d.add(le,d.multiply(Te,me.imaginary()))},sec:function(T,N){var le=this.removeDen(this.cos(T,N));return d.subtract(le[0],d.multiply(le[1],me.imaginary()))},csc:function(T,N){var le=this.removeDen(this.sin(T,N));return d.add(le[0],d.multiply(le[1],me.imaginary()))},cot:function(T,N){var le=this.removeDen(this.tan(T,N));return d.subtract(le[0],d.multiply(le[1],me.imaginary()))},acos:function(T,N){var le,Te,Ue,Qe,ht,Ct;return le=this.fromArray([T,N]),Ct=d.pow(le.clone(),new me(2)),Te=d.expand(Ct),Ue=d.multiply(ri(d.subtract(new me(1),Te)),me.imaginary()),Qe=d.expand(d.add(le.clone(),Ue)),ht=Cs(Qe),d.expand(d.multiply(me.imaginary().negate(),ht))},asin:function(T,N){return d.subtract(d.parse("pi/2"),this.acos(T,N))},atan:function(T,N){if(T.equals(0)&&(N.equals(1)||N.equals(-1)))return d.parse(`${me.infinity()}*${w.IMAGINARY}*${N}`);var le,Te,Ue,Qe;return Qe=Me.fromArray([T,N]),le=d.expand(d.multiply(me.imaginary(),Qe.clone())),Te=Cs(d.expand(d.subtract(new me(1),le.clone()))),Ue=Cs(d.expand(d.add(new me(1),le.clone()))),d.expand(d.multiply(d.divide(me.imaginary(),new me(2)),d.subtract(Te,Ue)))},asec:function(T,N){var le=this.removeDen([T,N]);return le[1].negate(),this.acos.apply(this,le)},acsc:function(T,N){var le=this.removeDen([T,N]);return le[1].negate(),this.asin.apply(this,le)},acot:function(T,N){var le=this.removeDen([T,N]);return le[1].negate(),this.atan.apply(this,le)},cosh:function(T,N){var le,Te;return le=d.parse(Math.cosh(T)*Math.cos(N)),Te=d.parse(Math.sinh(T)*Math.sin(N)),d.add(le,d.multiply(Te,me.imaginary()))},sinh:function(T,N){var le,Te;return le=d.parse(Math.sinh(T)*Math.cos(N)),Te=d.parse(Math.cosh(T)*Math.sin(N)),d.add(le,d.multiply(Te,me.imaginary()))},tanh:function(T,N){var le,Te;return le=d.parse(Math.sinh(2*T)/(Math.cos(2*N)+Math.cosh(2*T))),Te=d.parse(Math.sin(2*N)/(Math.cos(2*N)+Math.cosh(2*T))),d.subtract(le,d.multiply(Te,me.imaginary()))},sech:function(T,N){var le=this.removeDen(this.cosh(T,N));return d.subtract(le[0],d.multiply(le[1],me.imaginary()))},csch:function(T,N){var le=this.removeDen(this.sinh(T,N));return d.subtract(le[0],d.multiply(le[1],me.imaginary()))},coth:function(T,N){var le=this.removeDen(this.tanh(T,N));return d.add(le[0],d.multiply(le[1],me.imaginary()))},acosh:function(T,N){var le,Te,Ue;return Ue=this.fromArray([T,N]),le=ri(d.add(Ue.clone(),new me(1))),Te=ri(d.subtract(Ue.clone(),new me(1))),d.expand(Cs(d.add(Ue,d.expand(d.multiply(le,Te)))))},asinh:function(T,N){var le,Te;return Te=this.fromArray([T,N]),le=ri(d.add(new me(1),d.expand(d.pow(Te.clone(),new me(2))))),d.expand(Cs(d.add(Te,le)))},atanh:function(T,N){var le,Te,Ue;return Ue=this.fromArray([T,N]),le=Cs(d.add(Ue.clone(),new me(1))),Te=Cs(d.subtract(new me(1),Ue)),d.expand(d.divide(d.subtract(le,Te),new me(2)))},asech:function(T,N){var le=this.removeDen([T,N]);return le[1].negate(),this.acosh.apply(this,le)},acsch:function(T,N){var le=this.removeDen([T,N]);return le[1].negate(),this.asinh.apply(this,le)},acoth:function(T,N){var le=this.removeDen([T,N]);return le[1].negate(),this.atanh.apply(this,le)},sqrt:function(T){var N,le,Te,Ue,Qe;return N=T.realpart(),le=T.imagpart(),Te=me.hyp(N,le),Ue=d.add(N.clone(),Te),Qe=ri(d.multiply(new me(2),Ue.clone())),d.add(d.divide(Ue.clone(),Qe.clone()),d.multiply(d.divide(le,Qe),me.imaginary()))},log:function(T,N){var le,Te,Ue;return le=Cs(me.hyp(T,N)),Ue=w.USE_BIG?me($.atan2(N.multiplier.toDecimal(),T.multiplier.toDecimal())):Math.atan2(N,T),Te=d.parse(Ue),d.add(le,d.multiply(me.imaginary(),Te))},erf(T,N){return d.symfunction("erf",[T])},removeDen:function(T){var N,le,Te,Ue,Qe;return mr(T)?(le=T[0],Te=T[1]):(le=T.realpart(),Te=T.imagpart()),N=Math.pow(le,2)+Math.pow(Te,2),Ue=d.parse(le/N),Qe=d.parse(Te/N),[Ue,Qe]},fromArray:function(T){return d.add(T[0],d.multiply(me.imaginary(),T[1]))},evaluate:function(T,N){var le,Te,Ue;if(Ue=T.power.sign(),T.power=T.power.abs(),T.power.greaterThan(1)&&(T=d.expand(T)),Ue<0){var Qe=this.removeDen(T);le=Qe[0],Te=Qe[1]}else le=T.realpart(),Te=T.imagpart();return le.isConstant("all")&&Te.isConstant("all")?this[N].call(this,le,Te):d.symfunction(N,[T])}},be=this.trig={cos:function(T){if(T.equals("pi")&&T.multiplier.den.equals(2))return new me(0);if(w.PARSE2NUMBER){if(T.equals(new me(w.PI/2)))return new me(0);if(T.isConstant())return w.USE_BIG?new me($.cos(T.multiplier.toDecimal())):new me(Math.cos(T.valueOf()));if(T.isImaginary())return Me.evaluate(T,"cos")}if(T.equals(0))return new me(1);var N,le=!1,Te=Ol(T.multiplier.toDecimal()),Ue=T.multiplier.abs();if(T.multiplier=Ue,T.isPi()&&T.isLinear())if(un(Ue))N=new me(R(Ue)?1:-1);else{Number(Ue.num);var Qe=Number(Ue.den);Qe===2?N=new me(0):Qe===3?(N=d.parse("1/2"),le=!0):Qe===4?(N=d.parse("1/sqrt(2)"),le=!0):Qe===6?(N=d.parse("sqrt(3)/2"),le=!0):N=d.symfunction("cos",[T])}return le&&(Te===2||Te===3)&&N.negate(),N||(N=d.symfunction("cos",[T])),N},sin:function(T){if(w.PARSE2NUMBER){if(T.isConstant())return T%Math.PI===0?new me(0):w.USE_BIG?new me($.sin(T.multiplier.toDecimal())):new me(Math.sin(T.valueOf()));if(T.isImaginary())return Me.evaluate(T,"sin")}if(T.equals(0))return new me(0);var N,le=!1,Te=Ol(T.multiplier.toDecimal()),Ue=T.multiplier.sign(),Qe=T.multiplier.abs();if(T.multiplier=Qe,T.equals("pi"))N=new me(0);else if(T.isPi()&&T.isLinear())if(un(Qe))N=new me(0);else{Qe.num;var ht=Qe.den;ht==2?(N=new me(1),le=!0):ht==3?(N=d.parse("sqrt(3)/2"),le=!0):ht==4?(N=d.parse("1/sqrt(2)"),le=!0):ht==6?(N=d.parse("1/2"),le=!0):N=d.multiply(new me(Ue),d.symfunction("sin",[T]))}return N||(N=d.multiply(new me(Ue),d.symfunction("sin",[T]))),le&&(Te===3||Te===4)&&N.negate(),N},tan:function(T){if(w.PARSE2NUMBER){if(T%Math.PI===0&&T.isLinear())return new me(0);if(T.isConstant())return w.USE_BIG?new me($.tan(T.multiplier.toDecimal())):new me(Math.tan(T.valueOf()));if(T.isImaginary())return Me.evaluate(T,"tan")}var N,le=!1,Te=Ol(T.multiplier.toDecimal()),Ue=T.multiplier;if(T.multiplier=Ue,T.isPi()&&T.isLinear())if(un(Ue))N=new me(0);else{Ue.num;var Qe=Ue.den;if(Qe==2)throw new ee("tan is undefined for "+T.toString());Qe==3?(N=d.parse("sqrt(3)"),le=!0):Qe==4?(N=new me(1),le=!0):Qe==6?(N=d.parse("1/sqrt(3)"),le=!0):N=d.symfunction("tan",[T])}return N||(N=d.symfunction("tan",[T])),le&&(Te===2||Te===4)&&N.negate(),N},sec:function(T){if(w.PARSE2NUMBER)return T.isConstant()?w.USE_BIG?new me(new $(1).dividedBy($.cos(T.multiplier.toDecimal()))):new me($n.sec(T.valueOf())):T.isImaginary()?Me.evaluate(T,"sec"):d.parse(Xn("1/cos({0})",T));var N,le=!1,Te=Ol(T.multiplier.toDecimal()),Ue=T.multiplier.abs();if(T.multiplier=Ue,T.isPi()&&T.isLinear())if(un(Ue))N=new me(R(Ue)?1:-1);else{Ue.num;var Qe=Ue.den;if(Qe==2)throw new ee("sec is undefined for "+T.toString());Qe==3?(N=new me(2),le=!0):Qe==4?(N=d.parse("sqrt(2)"),le=!0):Qe==6?(N=d.parse("2/sqrt(3)"),le=!0):N=d.symfunction("sec",[T])}return le&&(Te===2||Te===3)&&N.negate(),N||(N=d.symfunction("sec",[T])),N},csc:function(T){if(w.PARSE2NUMBER)return T.isConstant()?w.USE_BIG?new me(new $(1).dividedBy($.sin(T.multiplier.toDecimal()))):new me($n.csc(T.valueOf())):T.isImaginary()?Me.evaluate(T,"csc"):d.parse(Xn("1/sin({0})",T));var N,le=!1,Te=Ol(T.multiplier.toDecimal()),Ue=T.multiplier.sign(),Qe=T.multiplier.abs();if(T.multiplier=Qe,T.isPi()&&T.isLinear()){if(un(Qe))throw new ee("csc is undefined for "+T.toString());Qe.num;var ht=Qe.den;ht==2?(N=new me(1),le=!0):ht==3?(N=d.parse("2/sqrt(3)"),le=!0):ht==4?(N=d.parse("sqrt(2)"),le=!0):ht==6?(N=new me(2),le=!0):N=d.multiply(new me(Ue),d.symfunction("csc",[T]))}return N||(N=d.multiply(new me(Ue),d.symfunction("csc",[T]))),le&&(Te===3||Te===4)&&N.negate(),N},cot:function(T){if(w.PARSE2NUMBER)return T%(Math.PI/2)===0?new me(0):T.isConstant()?w.USE_BIG?new me(new $(1).dividedBy($.tan(T.multiplier.toDecimal()))):new me($n.cot(T.valueOf())):T.isImaginary()?Me.evaluate(T,"cot"):d.parse(Xn("1/tan({0})",T));var N,le=!1,Te=Ol(T.multiplier.toDecimal()),Ue=T.multiplier;if(T.multiplier=Ue,T.isPi()&&T.isLinear()){if(un(Ue))throw new ee("cot is undefined for "+T.toString());Ue.num;var Qe=Ue.den;Qe==2?N=new me(0):Qe==3?(N=d.parse("1/sqrt(3)"),le=!0):Qe==4?(N=new me(1),le=!0):Qe==6?(N=d.parse("sqrt(3)"),le=!0):N=d.symfunction("cot",[T])}return N||(N=d.symfunction("cot",[T])),le&&(Te===2||Te===4)&&N.negate(),N},acos:function(T){if(w.PARSE2NUMBER){if(T.isConstant()){if(T.gt(1)||T.lt(-1)){var N=T.toString();return mo(B(`pi/2-asin(${N})`))}return w.USE_BIG?new me($.acos(T.multiplier.toDecimal())):new me(Math.acos(T.valueOf()))}if(T.isImaginary())return Me.evaluate(T,"acos")}return d.symfunction("acos",arguments)},asin:function(T){if(w.PARSE2NUMBER){if(T.isConstant()){if(T.gt(1)||T.lt(-1)){var N=w.IMAGINARY,le=T.multiplier.toDecimal();return mo(B(`${N}*log(sqrt(1-${le}^2)-${N}*${le})`))}return w.USE_BIG?new me($.asin(T.multiplier.toDecimal())):new me(Math.asin(T.valueOf()))}if(T.isImaginary())return Me.evaluate(T,"asin")}return d.symfunction("asin",arguments)},atan:function(T){var N;if(T.equals(0))N=new me(0);else{if(w.PARSE2NUMBER)return T.isConstant()?w.USE_BIG?new me($.atan(T.multiplier.toDecimal())):new me(Math.atan(T.valueOf())):T.isImaginary()?Me.evaluate(T,"atan"):d.symfunction("atan",arguments);T.equals(-1)?N=d.parse("-pi/4"):N=d.symfunction("atan",arguments)}return N},asec:function(T){if(w.PARSE2NUMBER){if(T.equals(0))throw new Ce("Input is out of the domain of sec!");if(T.isConstant())return be.acos(T.invert());if(T.isImaginary())return Me.evaluate(T,"asec")}return d.symfunction("asec",arguments)},acsc:function(T){if(w.PARSE2NUMBER){if(T.isConstant())return be.asin(T.invert());if(T.isImaginary())return Me.evaluate(T,"acsc")}return d.symfunction("acsc",arguments)},acot:function(T){if(w.PARSE2NUMBER){if(T.isConstant())return new d.add(d.parse("pi/2"),be.atan(T).negate());if(T.isImaginary())return Me.evaluate(T,"acot")}return d.symfunction("acot",arguments)},atan2:function(T,N){if(T.equals(0)&&N.equals(0))throw new ee("atan2 is undefined for 0, 0");return w.PARSE2NUMBER&&T.isConstant()&&N.isConstant()?new me(Math.atan2(T,N)):d.symfunction("atan2",arguments)}},pt=this.trigh={cosh:function(T){if(w.PARSE2NUMBER){if(T.isConstant())return new me(Math.cosh(T.valueOf()));if(T.isImaginary())return Me.evaluate(T,"cosh")}return d.symfunction("cosh",arguments)},sinh:function(T){if(w.PARSE2NUMBER){if(T.isConstant())return new me(Math.sinh(T.valueOf()));if(T.isImaginary())return Me.evaluate(T,"sinh")}return d.symfunction("sinh",arguments)},tanh:function(T){if(w.PARSE2NUMBER){if(T.isConstant())return new me(Math.tanh(T.valueOf()));if(T.isImaginary())return Me.evaluate(T,"tanh")}return d.symfunction("tanh",arguments)},sech:function(T){return w.PARSE2NUMBER?T.isConstant()?new me(Math.sech(T.valueOf())):T.isImaginary()?Me.evaluate(T,"sech"):d.parse(Xn("1/cosh({0})",T)):d.symfunction("sech",arguments)},csch:function(T){return w.PARSE2NUMBER?T.isConstant()?new me(Math.csch(T.valueOf())):T.isImaginary()?Me.evaluate(T,"csch"):d.parse(Xn("1/sinh({0})",T)):d.symfunction("csch",arguments)},coth:function(T){return w.PARSE2NUMBER?T.isConstant()?new me(Math.coth(T.valueOf())):T.isImaginary()?Me.evaluate(T,"coth"):d.parse(Xn("1/tanh({0})",T)):d.symfunction("coth",arguments)},acosh:function(T){var N;return w.PARSE2NUMBER&&T.isImaginary()?N=Me.evaluate(T,"acosh"):w.PARSE2NUMBER?N=B(d.parse(Xn(w.LOG+"(({0})+sqrt(({0})^2-1))",T.toString()))):N=d.symfunction("acosh",arguments),N},asinh:function(T){var N;return w.PARSE2NUMBER&&T.isImaginary()?N=Me.evaluate(T,"asinh"):w.PARSE2NUMBER?N=B(d.parse(Xn(w.LOG+"(({0})+sqrt(({0})^2+1))",T.toString()))):N=d.symfunction("asinh",arguments),N},atanh:function(T){var N;return w.PARSE2NUMBER&&T.isImaginary()?N=Me.evaluate(T,"atanh"):w.PARSE2NUMBER?N=B(d.parse(Xn("(1/2)*"+w.LOG+"((1+({0}))/(1-({0})))",T.toString()))):N=d.symfunction("atanh",arguments),N},asech:function(T){var N;return w.PARSE2NUMBER&&T.isImaginary()?N=Me.evaluate(T,"asech"):w.PARSE2NUMBER?N=B(Cs(d.add(T.clone().invert(),ri(d.subtract(d.pow(T,new me(-2)),new me(1)))))):N=d.symfunction("asech",arguments),N},acsch:function(T){var N;return w.PARSE2NUMBER&&T.isImaginary()?N=Me.evaluate(T,"acsch"):w.PARSE2NUMBER?N=B(d.parse(Xn(w.LOG+"((1+sqrt(1+({0})^2))/({0}))",T.toString()))):N=d.symfunction("acsch",arguments),N},acoth:function(T){var N;return w.PARSE2NUMBER&&T.isImaginary()?N=Me.evaluate(T,"acoth"):w.PARSE2NUMBER?T.equals(1)?N=me.infinity():N=B(d.divide(Cs(d.divide(d.add(T.clone(),new me(1)),d.subtract(T.clone(),new me(1)))),new me(2))):N=d.symfunction("acoth",arguments),N}};this.units={};var At={"\\":{precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(T){return T}},"!!":{precedence:7,operator:"!!",action:"dfactorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(T){return d.symfunction(w.DOUBLEFACTORIAL,[T])}},"!":{precedence:7,operator:"!",action:"factorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(T){return Ur(T)}},"^":{precedence:6,operator:"^",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"**":{precedence:6,operator:"**",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"%":{precedence:4,operator:"%",action:"percent",prefix:!1,postfix:!0,leftAssoc:!0,overloaded:!0,overloadAction:"mod",overloadLeftAssoc:!1,operation:function(T){return d.divide(T,new me(100))}},"*":{precedence:4,operator:"*",action:"multiply",prefix:!1,postfix:!1,leftAssoc:!1},"/":{precedence:4,operator:"/",action:"divide",prefix:!1,postfix:!1,leftAssoc:!1},"+":{precedence:3,operator:"+",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(T){return T}},plus:{precedence:3,operator:"plus",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(T){return T}},"-":{precedence:3,operator:"-",action:"subtract",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(T){return T.negate()}},"=":{precedence:2,operator:"=",action:"equals",prefix:!1,postfix:!1,leftAssoc:!1},"==":{precedence:1,operator:"==",action:"eq",prefix:!1,postfix:!1,leftAssoc:!1},"<":{precedence:1,operator:"<",action:"lt",prefix:!1,postfix:!1,leftAssoc:!1},"<=":{precedence:1,operator:"<=",action:"lte",prefix:!1,postfix:!1,leftAssoc:!1},">":{precedence:1,operator:">",action:"gt",prefix:!1,postfix:!1,leftAssoc:!1},"=>":{precedence:1,operator:"=>",action:"gte",prefix:!1,postfix:!1,leftAssoc:!1},",":{precedence:0,operator:",",action:"comma",prefix:!1,postfix:!1,leftAssoc:!1},":":{precedence:0,operator:",",action:"assign",prefix:!1,postfix:!1,leftAssoc:!1,vectorFn:"slice"},":=":{precedence:0,operator:",",action:"function_assign",prefix:!1,postfix:!1,leftAssoc:!0}},Tt={"(":{type:"round",id:1,is_open:!0,is_close:!1},")":{type:"round",id:2,is_open:!1,is_close:!0},"[":{type:"square",id:3,is_open:!0,is_close:!1,maps_to:"vector"},"]":{type:"square",id:4,is_open:!1,is_close:!0},"{":{type:"curly",id:5,is_open:!0,is_close:!1,maps_to:"Set"},"}":{type:"curly",id:6,is_open:!1,is_close:!0}},gn=this.functions={cos:[be.cos,1],sin:[be.sin,1],tan:[be.tan,1],sec:[be.sec,1],csc:[be.csc,1],cot:[be.cot,1],acos:[be.acos,1],asin:[be.asin,1],atan:[be.atan,1],arccos:[be.acos,1],arcsin:[be.asin,1],arctan:[be.atan,1],asec:[be.asec,1],acsc:[be.acsc,1],acot:[be.acot,1],atan2:[be.atan2,2],acoth:[pt.acoth,1],asech:[pt.asech,1],acsch:[pt.acsch,1],sinh:[pt.sinh,1],cosh:[pt.cosh,1],tanh:[pt.tanh,1],asinh:[pt.asinh,1],sech:[pt.sech,1],csch:[pt.csch,1],coth:[pt.coth,1],acosh:[pt.acosh,1],atanh:[pt.atanh,1],log10:[,1],exp:[ci,1],radians:[Mi,1],degrees:[Hi,1],min:[zs,-1],max:[r0,-1],erf:[,1],floor:[,1],ceil:[,1],trunc:[,1],Si:[,1],step:[,1],rect:[,1],sinc:[Gn,1],tri:[,1],sign:[Ls,1],Ci:[,1],Ei:[,1],Shi:[,1],Chi:[,1],Li:[,1],fib:[,1],fact:[Ur,1],factorial:[Ur,1],continued_fraction:[ar,[1,2]],dfactorial:[,1],gamma_incomplete:[,[1,2]],round:[Wo,[1,2]],scientific:[Zr,[1,2]],mod:[ni,2],pfactor:[po,1],vector:[$0,-1],matrix:[b0,-1],Set:[Jc,-1],imatrix:[Yc,-1],parens:[Vn,-1],sqrt:[ri,1],cbrt:[Kn,1],nthroot:[bi,2],log:[Cs,[1,2]],expand:[ou,1],abs:[er,1],invert:[Dl,1],determinant:[v0,1],size:[ka,1],transpose:[T0,1],dot:[q0,2],cross:[ec,2],vecget:[Kc,2],vecset:[Zu,3],vectrim:[sh,[1,2]],matget:[cl,3],matset:[Qu,4],matgetrow:[br,2],matsetrow:[lu,3],matgetcol:[W0,2],matsetcol:[Ca,3],rationalize:[rs,1],IF:[Js,3],is_in:[ls,2],realpart:[ii,1],imagpart:[Us,1],conjugate:[wo,1],arg:[Jt,1],polarform:[Oi,1],rectform:[ji,1],sort:[Yr,[1,2]],integer_part:[,1],union:[tc,2],contains:[au,2],intersection:[nc,2],difference:[Ia,2],intersects:[Aa,2],is_subset:[X0,2],print:[Bl,-1]};this.error=Xt;var jt=function(T){for(var N=w.FUNCTION_MODULES,le=N.length,Te=0;Te<le;Te++){var Ue=N[Te];if(T in Ue)return Ue[T]}Xt("The function "+T+" is undefined!")};this.override=function(T,N){C[T]||(C[T]=[]),C[T].push(this[T]),this[T]=N},this.restore=function(T){this[T]&&(this[T]=C[T].pop())},this.extend=function(T,N,le){var Te=this,Ue=this[T];if(typeof Ue=="function"&&typeof N=="function"){var Qe=this[T];this[T]=function(ht,Ct){return It(ht)&&It(Ct)&&!le?Qe.call(Te,ht,Ct):N.call(Te,ht,Ct,Qe)}}},this.symfunction=function(T,N){var le=new me(T);return le.group=he,typeof N=="object"&&(N=[].slice.call(N)),le.args=N,le.fname=T===Oe?"":T,le.updateHash(),le},this.callfunction=function(T,N,le){var Te=gn[T];Te||Xt("Nerdamer currently does not support the function "+T);var Ue=Te[1]||le,Qe=Te[0],ht;if(N instanceof Array||(N=N!==void 0?[N]:[]),Ue!==-1){var Ct=mr(Ue),Wt=Ct?Ue[0]:Ue,Yt=Ct?Ue[1]:Ue,bn=N.length,Nt=T+" requires a {0} of {1} arguments. {2} provided!";bn<Wt&&Xt(Xn(Nt,"minimum",Wt,bn)),bn>Yt&&Xt(Xn(Nt,"maximum",Yt,bn))}var jn=x(N);return Qe?ht=Qe.apply(Te[2],N):(Qe=jt(T),w.PARSE2NUMBER&&jn?ht=Rl(Qe.apply(Qe,N)):ht=d.symfunction(T,N)),ht},this.operator_filter_regex=(function(){var T="^\\"+Object.keys(At).filter(function(N){if(N.length===1)return N}).join("\\");return new RegExp("(["+T+"])\\s+(["+T+"])")})(),this.setOperator=function(T,N,le){var Te=T.operator;if(At[Te]=T,N&&(this[T.action]=N),d[Te]=T.operation,!T.action&&!(T.prefix||T.postif)&&(T.action=Te),le==="over"||le==="under"){var Ue=T.precedence;for(var Qe in At){var ht=At[Qe],Ct=le==="over"?ht.precedence>=Ue:ht.precedence>Ue;Ct&&ht.precedence++}}},this.getOperator=function(T){return At[T]},this.aliasOperator=function(T,N){var le={},Te=At[T];for(var Ue in Te)le[Ue]=Te[Ue];le.operator=N,this.setOperator(le)},this.getOperators=function(){return At},this.getBrackets=function(){return Tt};var on=function(T){T=String(T);for(var N=0;N<P.actions.length;N++)T=P.actions[N].call(this,T);for(T=T.replace(/\s+/g," "),/e/gi.test(T)&&(T=T.replace(/\-*\d+\.*\d*e\+?\-?\d+/gi,function(Te){return an(Te)})),T=T.replace(w.IMPLIED_MULTIPLICATION_REGEX,function(){var Te=arguments[4],Ue=arguments[1],Qe=arguments[2],ht=arguments[3],Ct=Te.charAt(ht),Wt="",Yt="*";return Ct.match(/[\+\-\/\*]/)||(Wt=Te.charAt(ht-1)),Wt.match(/[a-z]/i)&&(Yt=""),Ue+Yt+Qe}).replace(/([a-z0-9_]+)/gi,function(Te,Ue){return w.USE_MULTICHARACTER_VARS===!1&&!(Ue in gn)&&isNaN(Ue)?Ue.split("").join("*"):Ue}).replace(/\)\(/g,")*(")||"0";;){var le=T;if(T=T.replace(/([a-z0-9_]+)(\()|(\))([a-z0-9]+)/gi,function(Te,Ue,Qe,ht,Ct){var Wt=Ue||ht,Yt=Qe||Ct;return Wt in gn?Wt+Yt:Wt+"*"+Yt}),le===T)break}return T};this.initConstants=function(){this.CONSTANTS={E:new me(w.E),PI:new me(w.PI)}},this.pretty_print=function(T){if(Array.isArray(T)){var N=T.map(le=>d.pretty_print(le)).join(", ");return T.type==="vector"?"vector<"+N+">":"("+N+")"}return T.toString()},this.peekers={pre_operator:[],post_operator:[],pre_function:[],post_function:[]},this.callPeekers=function(T){if(w.callPeekers)for(var N=this.peekers[T],le=ts(arguments).slice(1).map(wi),Te=0;Te<N.length;Te++)N[Te].apply(null,le)},this.tokenize=function(T){T=String(T),T=T.trim().replace(/\s+/g," ");for(var N in Tt){var le=new RegExp(Tt[N].is_close?"\\s+\\"+N:"\\"+N+"\\s+","g");T=T.replace(le,N)}for(var Te=0,Ue=T.length,Qe=0,ht=[],Ct=[ht],Wt=Ct[0],Yt=0,bn=[],Nt=!1,jn=" ",Fn="",Yn=",",ir="-",Er="*",zr=function(Nr,us){var pe=[];Nr!==void 0&&(pe.type=Nr),pe.column=us,Ct.push(pe),Wt.push(pe),Wt=pe,Yt++},nn=function(){Ct.pop(),Wt=Ct[--Yt]},Dn=function(Nr){Nr=Nr!==void 0?Nr:Te;for(var us=Nr+1;T.charAt(us++)in At;);return T.substring(Nr,us-1)},Rr=function(Nr){for(var us=Te-Nr.length,pe=[],Ci=Nr.charAt(0),is=1,dl=Nr.length;is<dl;is++){var so=Nr.charAt(is),$o=Ci+so;$o in At?Ci=$o:(pe.push(new fe(Ci,fe.OPERATOR,us+is)),Ci=so)}return pe.push(new fe(Ci,fe.OPERATOR,us+is)),pe},ur=function(Nr,us){us===void 0&&(us=T.substring(Qe,Nr)),us in d.units?Wt.push(new fe(us,fe.UNIT,Qe)):us!==""&&Wt.push(new fe(us,fe.VARIABLE_OR_LITERAL,Qe))},Kr=function(Nr){Wt.push(new fe(Nr,fe.FUNCTION,Qe))},hi=function(Nr){Qe=Nr+1},Qr=function(){Qe=Qe+Hr.length-2,Te=Qe-1};Te<Ue;Te++){var si=T.charAt(Te);if(si in At){ur(Te);var ei=Wt[0]&&tt(Wt[0]),Si=ei&&si===Er;Nt&&Qe<Te&&!(si===Yn||Si)&&(Nt=!1,nn()),hi(Te+1);var Hr=Dn(Te);Qr(),Wt.push.apply(Wt,Rr(Hr))}else if(si in Tt){var Vi=Tt[si];if(Vi.is_open){bn.push([Vi,Qe]);var gs=T.substring(Qe,Te);gs in gn?Kr(gs):gs!==""&&Wt.push(new fe(gs,fe.VARIABLE_OR_LITERAL,Qe)),zr(Vi.maps_to,Te)}else if(Vi.is_close){var ks=bn.pop();if(ks){if(ks[0].id!==Vi.id-1)throw new lt("Parity error")}else throw new lt("Missing open bracket for bracket at: "+(Te+1));ur(Te),nn()}hi(Te)}else if(si===jn){var xi=T.substring(Qe,Te),Hs=T.charAt(Te+1);if(Nt){if(xi in At)Wt.push(new fe(xi,fe.OPERATOR,Te));else{ur(void 0,xi),nn();var go=Hs in At;(go&&At[Hs].value===ir||!go)&&Wt.push(new fe(Er,fe.OPERATOR,Te))}Nt=!1}else{var gs=T.substring(Qe,Te);if(gs in gn)Nt=!0,Kr(gs),zr();else if(gs in At)Wt.push(new fe(gs,fe.OPERATOR,Te));else{ur(void 0,gs);var Hs=T.charAt(Te+1);xi!==Fn&&Hs!==Fn&&!(xi in At)&&!(Hs in At)&&Wt.push(new fe(Er,fe.OPERATOR,Te))}}hi(Te)}}if(bn.length){var Is=bn.pop();throw new lt("Missing closed bracket for bracket at "+(Is[1]+1))}return ur(Te),ht},this.toRPN=function(T){var N=T.type,le=T.length,Te,Ue=[],Qe=[],ht=[],Ct=function(Er,zr){for(;Er.length;)zr.push(Er.pop())};for(Te=0;Te<le;Te++){var Wt=T[Te];if(Wt.type!==fe.OPERATOR)break;if(!Wt.prefix)throw new ie("Not a prefix operator");Wt.is_prefix=!0,Qe.push(Wt)}for(;Te<le;Te++){var Yt=T[Te];if(Yt.type===fe.OPERATOR){var bn=Yt;if(bn.overloaded){var Nt=T[Te+1];Nt&&Nt.type===fe.VARIABLE_OR_LITERAL&&(bn.postfix=!1,bn.action=bn.overloadAction,bn.leftAssoc=bn.overloadLeftAssoc)}for(;Qe.length;){var jn=Qe[Qe.length-1];if(!(jn.precedence>bn.precedence||!bn.leftAssoc&&jn.precedence===bn.precedence))break;Ue.push(Qe.pop())}if((N==="vector"||N==="set")&&"vectorFn"in bn&&(bn.action=bn.vectorFn),bn.postfix){var Fn=T[Te-1];if(Fn){if(Fn.type===fe.OPERATOR&&!Fn.postfix)throw new ie("Unexpected prefix operator '"+Fn.value+"'! at "+Fn.column)}else throw new ie("Unexpected prefix operator '"+Yt.value+"'! at "+Yt.column)}else do{var Nt=T[Te+1],Yn=Nt?Nt.type===fe.OPERATOR:!1;if(Yn){if(!Nt.prefix)throw new ie("A prefix operator was expected at "+Nt.column);Nt.is_prefix=!0,ht.push(Nt),Te++}}while(Yn);for(bn.is_prefix?ht.push(bn):Qe.push(bn);ht.length&&(bn.leftAssoc||!bn.leftAssoc&&ht[ht.length-1].precedence>=bn.precedence);)Qe.push(ht.pop())}else if(Yt.type===fe.VARIABLE_OR_LITERAL){Ue.length===0&&Ct(ht,Qe),Ue.push(Yt);var ir=Qe[Qe.length-1];(!ir||!ir.leftAssoc)&&Ct(ht,Ue)}else Yt.type===fe.FUNCTION?Qe.push(Yt):Yt.type===fe.UNIT&&Ue.push(Yt);Array.isArray(Yt)&&(Ue.push(this.toRPN(Yt)),Yt.type&&Ue.push(new fe(Yt.type,fe.FUNCTION,Yt.column)))}return Ct(Qe,Ue),Ct(ht,Ue),Ue},this.parseRPN=function(T,N){try{N=N||{};for(var le in N)N[le]=d.parse(N[le],{});w.PARSE2NUMBER&&("e"in N||(N.e=new me(w.E)),"pi"in N||(N.pi=new me(w.PI)));for(var Te=[],Ue=0,Qe=T.length;Ue<Qe;Ue++){var ht=T[Ue];if(Array.isArray(ht)&&(ht=this.parseRPN(ht,N)),ht)if(ht.type===fe.OPERATOR)if(ht.is_prefix||ht.postfix)Te.push(ht.operation(Te.pop()));else{var Ct=Te.pop(),Wt=Te.pop();if(typeof Wt>"u")throw new ie(ht+" is not a valid postfix operator at "+ht.column);var Yt=ht.action==="comma";Wt instanceof sr&&!Yt&&(Wt=Fr.fromSet(Wt)),Ct instanceof sr&&!Yt&&(Ct=Fr.fromSet(Ct)),this.callPeekers("pre_operator",Wt,Ct,ht);var bn=d[ht.action](Wt,Ct);this.callPeekers("post_operator",bn,Wt,Ct,ht),Te.push(bn)}else if(ht.type===fe.FUNCTION){var Nt=Te.pop(),jn=Nt.parent;Nt instanceof oe||(Nt=oe.create(Nt));var Fn=ht.value,Yn=Nt.getItems();this.callPeekers("pre_function",Fn,Yn);var ir=d.callfunction(Fn,Yn);this.callPeekers("post_function",ir,Fn,Yn);var Er=Te[Te.length-1],zr=T[Ue+1],nn=zr&&zr.type===fe.OPERATOR&&zr.value===",";if(!nn&&ir instanceof Fr&&Er&&Er.elements&&!(Er instanceof oe)){var Dn=Te.pop(),Rr=ir.elements[0];if(!Rr.isConstant())Dn.getter=Rr,Te.push(Dn),Te.push(ir);else if(Rr instanceof V)Te.push(Fr.fromArray(Dn.elements.slice(Rr.start,Rr.end)));else{var ur=Number(Rr),Kr=Dn.elements.length;if(ur<0&&(ur=Kr+ur),ur<0||ur>=Kr)throw new Bt("Index out of range "+(ht.column+1));var hi=Dn.elements[ur];Dn.getter=ur,hi.parent=Dn,Te.push(hi)}}else jn&&(ir.parent=jn),Te.push(ir)}else{var Qr,si=ht.value;si in w.ALIASES?ht=d.parse(w.ALIASES[ht]):ht.type===fe.VARIABLE_OR_LITERAL?ht=new me(si):ht.type===fe.UNIT&&(ht=new me(si),ht.isUnit=!0),si in d.CONSTANTS?(Qr=ht,ht=new me(d.CONSTANTS[si])):si in N&&si!==N[si].toString()?(Qr=ht,ht=N[si].clone()):si in Ke&&(Qr=ht,ht=Ke[si].clone()),Qr&&(ht.subbed=Qr),Te.push(ht)}}var ei=Te[0];if(["undefined","string","number"].indexOf(typeof ei)!==-1)throw new ns("Unexpected token!");return ei}catch(Hr){var Si=[Ce];throw Si.forEach(function(Vi){if(Hr instanceof Vi)throw new Vi(Hr.message+": "+ht.column)}),new ke(Hr.message+": "+ht.column)}};function An(T){this.type=T.type,this.value=T.value,this.left=T.left,this.right=T.right}An.prototype.toString=function(){var T=this.left?this.left.toString()+"---":"",N=this.right?"---"+this.right.toString():"";return T+"("+this.value+")"+N},An.prototype.toHTML=function(T,N){T=T||0,N=typeof N>"u"?4:N;var le=function(ht){return" ".repeat(N*ht)},Qe="",Te=this.left?le(T+1)+`<li>
`+this.left.toHTML(T+2,N)+le(T+1)+`</li> 
`:"",Ue=this.right?le(T+1)+`<li>
`+this.right.toHTML(T+2,N)+le(T+1)+`</li>
`:"",Qe=le(T)+'<div class="'+this.type.toLowerCase()+'"><span>'+this.value+"</span></div>"+le(T)+`
`;return(Te||Ue)&&(Qe+=le(T)+`<ul>
`+Te+Ue+le(T)+`</ul>
`),Qe+="",Qe},this.tree=function(T){for(var N=[],le=0;le<T.length;le++){var Te=T[le];if(Array.isArray(Te)){Te=this.tree(Te),N.push(Te);continue}if(Te.type===fe.OPERATOR)if(Te.is_prefix||Te.postfix){var Ue=Te.is_prefix?"left":"right",Qe=N.pop();Te=new An(Te),Te[Ue]=Qe,N.push(Te)}else Te=new An(Te),Te.right=N.pop(),Te.left=N.pop(),N.push(Te);else if(Te.type===fe.FUNCTION){Te=new An(Te);var ht=N.pop();if(Te.right=ht,Te.value==="object"){var Qe=N[N.length-1];if(Qe){for(;Qe.right;)Qe=Qe.right;Qe.right=Te;continue}}N.push(Te)}else N.push(new An(Te))}return N[0]},this.parse=function(T,N){T=on(T),N=N||{};var le=this.tokenize(T),Te=this.toRPN(le);return this.parseRPN(Te,N)},this.toObject=function(T){var N=function(le){for(var Te=[],Ue=0,Qe=le.length;Ue<Qe;Ue++){var ht=le[Ue],Ct=ht.value;if(ht.type===fe.VARIABLE_OR_LITERAL)Te.push(new me(Ct));else if(ht.type===fe.FUNCTION){Ue++;var Wt=d.symfunction(Ct,N(le[Ue]));Wt.isConversion=!0,Te.push(Wt)}else ht.type===fe.OPERATOR?Te.push(Ct):Te.push(N(ht))}return Te};return N(d.tokenize(T))};var yn=function(T){for(var N,le=0,Te=[[]],N=0,Ue=T.length;N<Ue;N++)T[N]===","?(le++,Te[le]=[]):Te[le].push(T[N]);return Te},zt=function(T){return T.replace(/^\\left\((.+)\\right\)$/g,function(N,le){return le||N})},or=function(T){for(var N=[];T.length;){var le=T.shift(),Te=T[0],Ue=mr(Te),Qe=Te==="-";if(le==="^"&&(Te==="+"?T.shift():Ue&&Te[0]==="+"&&Te.shift(),Ue&&Te.length===1&&T.unshift(T.shift()[0])),le==="^"&&(Ue&&Te[0]==="-"||Qe)){var ht=N.pop(),Ct=N[N.length-1],Wt="1";Ct==="*"?(N.pop(),Wt=N.pop()):mr(Ct)&&(Wt=N.pop()),N.push(Wt,"/",ht,le),Ue?Te.shift():T.shift(),Ue&&Te.length===1&&N.push(T.shift()[0])}else N.push(le)}return N};this.toTeX=function(T,N){N=N||{};var le=N.decimals===!0?"decimals":void 0,Te=typeof T=="string"?this.toObject(T):T,Ue=[],Qe=typeof N.cdot>"u"?"\\cdot":N.cdot;if(Te=or(Te),mr(Te)){for(var ht=[],Ct,Wt,Yt=0;Yt<Te.length;Yt++)Ct=Te[Yt],Te[Yt+1]==="^"?(Wt=Te[Yt+2],ht.push(gr.braces(this.toTeX([Ct]))+"^"+gr.braces(this.toTeX([Wt]))),Yt+=2):ht.push(Ct);Te=ht}for(var Yt=0,bn=Te.length;Yt<bn;Yt++){var Nt=Te[Yt];if(Nt==="*"&&(Nt=Qe),It(Nt))if(Nt.group===he){var jn=Nt.fname,Fn;if(jn===De)Fn="\\sqrt"+gr.braces(this.toTeX(Nt.args));else if(jn===Se)Fn=gr.brackets(this.toTeX(Nt.args),"abs");else if(jn===Oe)Fn=gr.brackets(this.toTeX(Nt.args),"parens");else if(jn===w.LOG10)Fn="\\"+w.LOG10_LATEX+"\\left( "+this.toTeX(Nt.args)+"\\right)";else if(jn==="integrate"){var Yn=yn(Nt.args),ir=gr.braces(this.toTeX(Yn[0])),Er=this.toTeX(Yn[1]);Fn="\\int "+ir+"\\, d"+Er}else if(jn==="defint"){var Yn=yn(Nt.args),ir=gr.braces(this.toTeX(Yn[0])),Er=this.toTeX(Yn[3]),zr=this.toTeX(Yn[1]),nn=this.toTeX(Yn[2]);Fn="\\int\\limits_{"+zr+"}^{"+nn+"} "+ir+"\\, d"+Er}else if(jn==="diff"){var Yn=yn(Nt.args),Er="",ir=gr.braces(this.toTeX(Yn[0]));if(Yn.length===1){var Dn=[];for(ur=0;ur<Yn[0].length;ur++)Yn[0][ur].group===3&&Dn.push(Yn[0][ur].value);Dn.sort(),Er=Dn.length>0?"\\frac{d}{d "+Dn[0]+"}":"\\frac{d}{d x}"}else Yn.length===2?Er="\\frac{d}{d "+Yn[1]+"}":Er="\\frac{d^{"+Yn[2]+"}}{d "+this.toTeX(Yn[1])+"^{"+Yn[2]+"}}";Fn=Er+"\\left("+ir+"\\right)"}else if(jn==="sum"||jn==="product"){var Rr=[[],[],[],[]],ur=0,Yt;for(Yt=0;Yt<Nt.args.length;Yt++){if(Nt.args[Yt]===","){ur++;continue}Rr[ur].push(Nt.args[Yt])}Fn=(jn==="sum"?"\\sum_":"\\prod_")+gr.braces(this.toTeX(Rr[1])+" = "+this.toTeX(Rr[2])),Fn+="^"+gr.braces(this.toTeX(Rr[3]))+gr.braces(this.toTeX(Rr[0]))}else if(jn==="limit"){var Kr=yn(Nt.args).map(function(Qr){return Array.isArray(Qr)?d.toTeX(Qr.join("")):d.toTeX(String(Qr))});Fn="\\lim_"+gr.braces(Kr[1]+"\\to "+Kr[2])+" "+gr.braces(Kr[0])}else jn===je||jn===at?Fn=this.toTeX(Nt.args)+(jn===je?"!":"!!"):Fn=gr.latex(Nt,le);Ue.push(Fn)}else Ue.push(gr.latex(Nt,le));else mr(Nt)?Ue.push(gr.brackets(this.toTeX(Nt))):Nt==="/"?Ue.push(gr.frac(zt(Ue.pop()),zt(this.toTeX([Te[++Yt]])))):Ue.push(Nt)}return Ue.join(" ")};function Vn(T){return w.PARSE2NUMBER?T:d.symfunction("parens",[T])}function er(T){if(T.isInfinity)return me.infinity();if(T.multiplier.lessThan(0)&&T.multiplier.negate(),T.isImaginary()){var N=T.realpart(),le=T.imagpart();if(N.isConstant()&&le.isConstant())return ri(d.add(d.pow(N,new me(2)),d.pow(le,new me(2))))}else if(Br(T)||R(T.power))return T;if(T.isComposite()){var Te=[];T.each(function(ht){Te.push(ht.multiplier)});var Ue=$n.QGCD.apply(null,Te);Ue.lessThan(0)&&(T.multiplier=T.multiplier.multiply(new tn(-1)),T.distributeMultiplier())}var Qe=d.parse(T.multiplier);return T.toUnitMultiplier(),d.multiply(Qe,d.symfunction(Se,[T]))}function Ur(T){var N;if(qn(T)){var le=new Fr;return T.each(function(bn,Nt){le.set(Nt-1,Ur(bn))}),le}if(ct(T)){var Te=new _n;return T.each(function(bn,Nt,jn){Te.set(Nt,jn,Ur(bn))}),Te}if(w.PARSE2NUMBER&&T.isConstant())return un(T)?N=$n.bigfactorial(T):N=$n.gamma(T.multiplier.add(new tn(1)).toDecimal()),N=Rl(N),N;if(T.isConstant()){var Ue=T.getDenom();if(Ue.equals(2)){var Qe=T.getNum(),ht,Ct,Wt,Yt;return T.multiplier.isNegative()?(Yt=d.subtract(Qe.negate(),new me(1)).multiplier.divide(new tn(2)),ht=d.pow(new me(-4),new me(Yt)).multiplier.multiply($n.bigfactorial(Yt)),Ct=$n.bigfactorial(new tn(2).multiply(Yt))):(Yt=d.add(Qe,new me(1)).multiplier.divide(new tn(2)),ht=$n.bigfactorial(new tn(2).multiply(Yt)),Ct=d.pow(new me(4),new me(Yt)).multiplier.multiply($n.bigfactorial(Yt))),Wt=ht.divide(Ct),d.multiply(d.parse("sqrt(pi)"),new me(Wt))}}return d.symfunction(je,[T])}function ar(T,N){var le=B(T);if(le.isConstant()){var Te=$n.continuedFraction(le,N),Ue=Fr.fromArray(Te.fractions.map(function(Qe){return new me(Qe)}));return Fr.fromArray([new me(Te.sign),new me(Te.whole),Ue])}return d.symfunction("continued_fraction",arguments)}function ni(T,N){if(T.isConstant()&&N.isConstant()){var le=new me(1);return le.multiplier=le.multiplier.multiply(T.multiplier.mod(N.multiplier)),le}var Te=d.divide(T.clone(),N.clone());return un(Te)?new me(0):d.symfunction("mod",[T,N])}function Js(T,N,le){return typeof T!="boolean"&&Br(T)&&(T=!!Number(T)),T?N:le}function ls(T,N){if(ct(T))for(var le=0,Te=T.rows();le<Te;le++)for(var Ue=0,Qe=T.cols();Ue<Qe;Ue++){var ht=T.elements[le][Ue];if(ht.equals(N))return new me(1)}else if(T.elements){for(var le=0,Te=T.elements.length;le<Te;le++)if(T.elements[le].equals(N))return new me(1)}return new me(0)}function Gn(T){return w.PARSE2NUMBER?T.isConstant()?new me($n.sinc(T)):d.parse(Xn("sin({0})/({0})",T)):d.symfunction("sinc",[T])}function ci(T){return T.fname===w.LOG&&T.isLinear()?d.pow(T.args[0],me.create(T.multiplier)):d.parse(Xn("e^({0})",T))}function Mi(T){return d.parse(Xn("({0})*pi/180",T))}function Hi(T){return d.parse(Xn("({0})*180/pi",T))}function rs(T){if(T.isComposite()){var N=new me(0),le,Te,Ue,Qe,ht,Ct,Wt,Yt;return T.each(function(bn){le=bn.getNum(),Te=bn.getDenom(),Ue=N.getNum(),Qe=N.getDenom(),ht=d.multiply(Te,Ue),Ct=d.multiply(le,Qe),Wt=d.expand(d.add(ht,Ct)),Yt=d.multiply(Qe,Te),N=d.divide(Wt,Yt)},!0),N}return T}function ri(T){if(It(T)||(T=d.parse(T)),T.group===te)return d.symfunction(De,[T]);T.fname===""&&T.power.equals(1)&&(T=T.args[0]);var N=T.multiplier.sign()<0;if(w.PARSE2NUMBER){if(T.isConstant()&&!N)return new me($.sqrt(T.multiplier.toDecimal()));if(T.isImaginary())return Me.sqrt(T);if(T.group===F)return d.symfunction("sqrt",[T])}var le,Te,Ue=T.isConstant();if(T.group===K&&T.isLinear()){var Qe=ri(me(T.multiplier));for(var ht in T.symbols){var Ct=T.symbols[ht];Qe=d.multiply(Qe,ri(Ct))}Te=Qe}else if(T.fname===De){var ht=T.args[0],Wt=T.multiplier;ht.setPower(T.power.multiply(new tn(.25))),Te=ht,Wt.equals(1)||(Te=d.multiply(ri(d.parse(Wt)),Te))}else if(!T.power.isInteger())T.setPower(T.power.multiply(new tn(.5))),Te=T;else if(T.multiplier<0&&T.group===F){var Yt=d.parse(T.multiplier).negate(),bn=d.parse(T).toUnitMultiplier().negate();Te=d.multiply(d.symfunction(w.SQRT,[bn]),ri(Yt))}else{var Nt=T.power.sign();T.power=T.power.abs(),Ue&&T.multiplier.lessThan(0)&&(le=me.imaginary(),T.multiplier=T.multiplier.abs());var jn=T.multiplier.toDecimal(),Fn=Math.abs(jn),Yn=Math.sqrt(Fn),Qe;if(un(Yn))Qe=new me(Yn);else if(un(jn)){var ir=$n.ifactor(jn),Er=1;for(var Ct in ir){var zr=ir[Ct],nn=zr-zr%2;if(nn){var Dn=Math.pow(Ct,nn);Er*=Math.pow(Ct,nn/2),jn/=Dn}}Qe=d.multiply(d.symfunction(De,[new me(jn)]),new me(Er))}else{for(var Rr=[new me(T.multiplier.num),new me(T.multiplier.den)],ur=[new me(1),new me(1)],Kr=[new me(1),new me(1)],hi=0;hi<2;hi++){var zr=Rr[hi];po(zr).each(function(ei){ei=me.unwrapPARENS(ei);var Si=ei.clone().toLinear(),Hr=Number(ei.power),Vi=Hr%2,gs=(Hr-Vi)/2;ur[hi]=d.multiply(ur[hi],d.pow(Si,new me(gs))),Kr[hi]=d.multiply(Kr[hi],ri(d.pow(Si,new me(Vi))))})}Qe=d.divide(d.multiply(ur[0],Kr[0]),d.multiply(ur[1],Kr[1]))}T=T.toUnitMultiplier(!0),T.isOne()?Te=T:R(T.power.toString())?Te=d.pow(T.clone(),new me(.5)):Te=d.symfunction(De,[T]),Nt<0&&Te.power.negate(),Qe&&(Te=d.multiply(Qe,Te)),le&&(Te=d.multiply(le,Te))}return N&&w.PARSE2NUMBER?d.parse(Te):Te}function Kn(T){if(!T.isConstant(!0)){var N,le=T.power/3,Te=d.pow(d.parse(T.multiplier),new me(1/3)),Ue=T.toUnitMultiplier();return un(le)?N=d.pow(Ue.toLinear(),d.parse(le)):Ue.group===K?(N=new me(1),Ue.each(function(Qe){N=d.multiply(N,Kn(Qe))})):N=d.symfunction("cbrt",[Ue]),d.multiply(Te,N)}return bi(T,new me(3))}function Zr(T,N){return T.scientific=N||10,T}function bi(T,N,le,Te){if(N=B(d.parse(N)),N.equals(0))throw new ee("Unable to calculate nthroots of zero");if(T<0&&R(N))throw new Error("Cannot calculate nthroot of negative number for even powers");if(!T.isConstant(!0))return d.symfunction("nthroot",arguments);T.group!==I&&(T=B(T)),typeof Te>"u"&&(Te=!0),le=le||25;var Ue=T.sign(),Qe,ht;if(Ue<0&&(T=er(T)),un(T)&&N.isConstant()){T<18446744073709552e3?ht=tn.create(Math.pow(T,1/N)):ht=$n.nthroot(T,N);var Qe;return Te&&(Qe=new me(ht)),Qe=new me(ht.toDecimal(le)),d.multiply(new me(Ue),Qe)}}function po(T){if(T.greaterThan(9999999999998891e26)||T.equals(-1))return T;if(T.equals(Math.PI))return new me(Math.PI);if(T=B(T.clone()),T.isConstant()){var N=new me(1),le=T.toString();if(un(le)){var Te=$n.ifactor(le);for(var Ue in Te){var Qe=Te[Ue];N=d.multiply(N,d.symfunction("parens",[new me(Ue).setPower(new tn(Qe))]))}}else{var ht=po(new me(T.multiplier.num)),Ct=po(new me(T.multiplier.den));N=d.multiply(d.symfunction("parens",[ht]),d.symfunction("parens",[Ct]).invert())}}else N=d.symfunction("pfactor",arguments);return N}function ii(T){return T.realpart()}function Us(T){return T.imagpart()}function wo(T){var N=T.realpart(),le=T.imagpart();return d.add(N,d.multiply(le.negate(),me.imaginary()))}function Jt(T){var N=T.realpart(),le=T.imagpart();return N.isConstant()&&le.isConstant()?le.equals(0)&&N.equals(-1)?d.parse("pi"):le.equals(1)&&N.equals(0)?d.parse("pi/2"):le.equals(1)&&N.equals(1)?d.parse("pi/4"):new me(Math.atan2(le,N)):d.symfunction("atan2",[le,N])}function Oi(T){var N,le,Te,Ue;return N=me.toPolarFormArray(T),Ue=N[1],le=N[0],Te=d.parse(Xn("e^({0}*({1}))",w.IMAGINARY,Ue)),d.multiply(le,Te)}function ji(T){var N=T.clone();try{var le,Te,Ue,Qe,ht,Ct,Wt;return le=Dt(T,"e",!0),Te=d.divide(le.x.power,me.imaginary()),Ue=B(be.tan(Te)),Qe=d.pow(le.a,new me(2)),Ct=Ue.getDenom(!0),Wt=Ue.getNum(),ht=me.hyp(Wt,Ct),ht.equals(le.a)?d.add(Ct,d.multiply(me.imaginary(),Wt)):N}catch{return N}}function n0(T,N){N.map(function(Qe){Qe.numVal=B(Qe).multiplier});for(var le,Te,Ue;;){if(le=N.length,le<2)return N[0];Te=N.pop(),Ue=N[le-2],(T==="min"?Te.numVal<Ue.numVal:Te.numVal>Ue.numVal)&&(N.pop(),N.push(Te))}}function r0(){var T=[].slice.call(arguments);return st(T)?T[0]:x(T)?new me(Math.max.apply(null,T)):w.SYMBOLIC_MIN_MAX&&U(T)?n0("max",T):d.symfunction("max",T)}function zs(){var T=[].slice.call(arguments);return st(T)?T[0]:x(T)?new me(Math.min.apply(null,T)):w.SYMBOLIC_MIN_MAX&&U(T)?n0("min",T):d.symfunction("min",T)}function Ls(T){return T.isConstant(!0)?new me(Math.sign(B(T))):d.symfunction("sign",arguments)}function Yr(T,N){N=N?N.toString():"asc";var le=function(Ue){return Ue.group===I?Ue.multiplier:Ue.group===he?Ue.fname===""?le(Ue.args[0]):Ue.fname:Ue.group===F?Ue.power:Ue.value},Te=qn(T)?T.elements:T.collectSymbols();return new Fr(Te.sort(function(Ue,Qe){var ht=le(Ue),Ct=le(Qe);return N==="desc"?Ct-ht:ht-Ct}))}function Cs(T,N){if(T.equals(1))return new me(0);var le;if(T.fname===De&&T.multiplier.equals(1))return le=d.divide(Cs(T.args[0]),new me(2)),T.power.sign()<0&&le.negate(),le;if(T.equals(0))throw new ee(w.LOG+"(0) is undefined!");if(T.isImaginary())return Me.evaluate(T,w.LOG);if(T.isConstant()&&typeof N<"u"&&N.isConstant()){var Te=Math.log(T),Ue=Math.log(N);le=new me(Te/Ue)}else if(T.group===te&&T.power.multiplier.lessThan(0)||T.power.toString()==="-1")T.power.negate(),le=Cs(T).negate();else if(T.value==="e"&&T.multiplier.equals(1)){var Qe=T.power;le=It(Qe)?Qe:new me(Qe)}else if(T.group===he&&T.fname==="exp"){var ht=T.args[0];T.multiplier.equals(1)?le=d.multiply(ht,new me(T.power)):le=d.symfunction(w.LOG,[T])}else if(w.PARSE2NUMBER&&Br(T)){T=d.parse(T);var Ct;T.multiplier.lessThan(0)&&(T.negate(),Ct=d.multiply(new me(Math.PI),new me("i"))),le=new me(Math.log(T.multiplier.toDecimal())),Ct&&(le=d.add(le,Ct))}else{var ht;!T.power.equals(1)&&!T.contains("e")&&(ht=T.group===te?T.power:new me(T.power),T.toLinear()),arguments.length>1&&st(arguments)?le=new me(1):le=d.symfunction(w.LOG,arguments),ht&&(le=d.multiply(ht,le))}return le}function Wo(T,N){var le=N&&N.isConstant()||typeof N>"u";if(T.isConstant()&&le){var Te,Ue,Qe,ht;return Te=T,N&&N.lessThan(0)&&(N=er(N),Ue=Number(T).toExponential().toString().split("e"),Te=Ue[0],Qe=Ue[1]),ht=new me(Sn(Te,Number(N||0))),d.multiply(ht,d.pow(new me(10),new me(Qe||0)))}return d.symfunction("round",arguments)}function Ol(T){var N=T%2,le;return N<0&&(N=2+N),N>=0&&N<=.5?le=1:N>.5&&N<=1?le=2:N>1&&N<=1.5?le=3:le=4,le}function Rl(T){if(!isFinite(T)){var N=Math.sign(T),le=new me(String(Math.abs(T)));return le.multiplier=le.multiplier.multiply(new tn(N)),le}if(It(T))return T;if(typeof T=="number")try{T=tn.simple(T)}catch{T=new tn(T)}var Te=new me(0);return Te.multiplier=T,Te}function Ll(T){var N=T.group,le;if(N===se){var Te=T.getNum(),Ue=T.getDenom()||new me(1),Qe=Number(T.power),ht=new me(1);if(Math.abs(Qe)===1){Ue.each(function(Yt){Yt.group===K?ht=d.multiply(ht,Ll(Yt.getDenom())):Yt.power.lessThan(0)&&(ht=d.multiply(ht,Ll(Yt.clone().toUnitMultiplier())))});var Ct=new me(0);Ue.each(function(Yt){Ct=d.add(d.divide(Yt,ht.clone()),Ct)}),ht.invert();var Wt;Te.isComposite()?(Wt=new me(0),Te.each(function(Yt){Wt=d.add(d.multiply(Ll(Yt),ht.clone()),Wt)})):Wt=d.multiply(ht,Te),le=d.divide(Wt,Ct)}}else N===K?(le=new me(1),T.each(function(Yt){le=d.multiply(le,d.clean(Yt))})):N===he&&T.args.length===1&&T.args[0].isConstant()&&(le=hr("PARSE2NUMBER",function(){return d.parse(T)},!0));return le||(le=T),le}function ou(T,N){return N=N||{expand_denominator:!0,expand_functions:!0},mo(T,N)}function mo(T,N){if(Array.isArray(T))return T.map(function(Yn){return mo(Yn,N)});if(N=N||{},T.group===he&&T.fname===""){var le=mo(T.args[0],N),Te=mo(d.pow(le,d.parse(T.power)),N);return d.multiply(d.parse(T.multiplier),Te).distributeMultiplier()}if([I,H,F].indexOf(T.group)!==-1)return T;var Ue=T.clone();try{var Qe=T.multiplier.toString(),ht=Number(T.power),Ct=T;if(T.isComposite()&&un(T.power)&&T.power>0){var Wt=ht-1,le=new me(0);T.each(function(ir){le=d.add(le,mo(d.parse(ir),N))});for(var Yt=d.parse(le),bn=0;bn<Wt;bn++)Yt=Z(Yt,le,N);Ct=d.multiply(d.parse(Qe),Yt).distributeMultiplier()}else if(T.group===he&&N.expand_functions===!0){var Nt=[];T.args.forEach(function(Yn){Nt.push(mo(Yn,N))}),Ct=d.pow(d.symfunction(T.fname,Nt),d.parse(T.power)),Ct=d.multiply(Ct,d.parse(T.multiplier))}else if(T.isComposite()&&un(T.power)&&T.power<0&&N.expand_denominator===!0)T=T.invert(),Ct=mo(T,N),Ct.invert();else if(T.group===K){var jn=function(ir){switch(ir.group){case se:return 0;case ce:return 1;case K:return 2;case he:return 3;default:return 4}},Fn=T.collectSymbols().sort(function(ir,Er){return jn(Er)-jn(ir)}).map(function(ir){var Er=d.pow(ir,d.parse(ht)),zr=mo(Er,N);return zr}),le=Fn.pop();le.isComposite()&&le.isLinear()?(Fn.forEach(function(ir){le=Z(le,ir,N)}),le.isComposite()?(le.power>1&&(le=mo(d.pow(le,d.parse(le.power)),N)),Ct=d.multiply(d.parse(Qe),le).distributeMultiplier()):Ct=le):(Ct=le,Fn.forEach(function(ir){Ct=d.multiply(Ct,ir)}),Ct=d.multiply(Ct,d.parse(Qe)).distributeMultiplier()),Ct.group===K&&(Ct=d.parse(Ct))}else Ct=T;return Ct}catch{return Ue}return Ue}function Yc(T){return _n.identity(T)}function Kc(T,N){return N.isConstant()&&un(N)?T.elements[N]:d.symfunction("vecget",arguments)}function sh(T,N){return N=typeof N>"u"?1e-14:N,T=T.clone(),N=Number(N),T.elements.sort(function(le,Te){return Te.group-le.group}),T.elements=Mt(T.elements,function(le,Te){var Ue=Number(d.subtract(B(le),B(Te)).abs());return Ue<=N}),T}function Zu(T,N,le){return N.isConstant?(T.elements[N]=le,T):d.symfunction("vecset",arguments)}function cl(T,N,le){return N.isConstant()&&le.isConstant()?T.elements[N][le]:d.symfunction("matget",arguments)}function br(T,N){return N.isConstant()?new _n(T.elements[N]):d.symfunction("matgetrow",arguments)}function lu(T,N,le){if(!N.isConstant())return d.symfunction("matsetrow",arguments);if(T.elements[N].length!==le.elements.length)throw new Ae("Matrix row must match row dimensions!");var Te=T.clone();return Te.elements[N]=le.clone().elements,Te}function W0(T,N){if(!N.isConstant())return d.symfunction("matgetcol",arguments);N=Number(N);var le=_n.fromArray([]);return T.each(function(Te,Ue,Qe){Qe===N&&le.elements.push([Te.clone()])}),le}function Ca(T,N,le){if(!N.isConstant())return d.symfunction("matsetcol",arguments);if(N=Number(N),T.rows()!==le.elements.length)throw new Ae("Matrix columns must match number of columns!");return le.each(function(Te,Ue){T.set(Ue-1,N,Te.elements[0].clone())}),T}function Qu(T,N,le,Te){return T.elements[N][le]=Te,T}function $0(){return new Fr([].slice.call(arguments))}function b0(){return _n.fromArray(arguments)}function Jc(){return sr.fromArray(arguments)}function v0(T){return ct(T)?T.determinant():T}function ka(T){var N;return ct(T)?N=[new me(T.cols()),new me(T.rows())]:qn(T)||rn(T)?N=new me(T.elements.length):Xt("size expects a matrix or a vector"),N}function q0(T,N){if(qn(T)&&qn(N))return T.dot(N);Xt("function dot expects 2 vectors")}function ec(T,N){if(qn(T)&&qn(N))return T.cross(N);Xt("function cross expects 2 vectors")}function T0(T){if(ct(T))return T.transpose();Xt("function transpose expects a matrix")}function Dl(T){if(ct(T))return T.invert();Xt("invert expects a matrix")}function tc(T,N){return T.union(N)}function nc(T,N){return T.intersection(N)}function au(T,N){return T.contains(N)}function Ia(T,N){return T.difference(N)}function Aa(T,N){return new me(Number(T.intersects(N)))}function X0(T,N){return new me(Number(T.is_subset(N)))}function Bl(){ts(arguments).map(function(T){console.log(T.toString())})}function Na(T){if(!It(T.power)&&T.power.absEquals(.5)){var N=T.power.sign(),le=ri(T.group===H?new me(T.value):T.toLinear());return N<0&&le.invert(),le}return T}function uu(T){if(T.group===H){var N=T.value,le=Rs(N)[0];if(!le)return St("Unable to compute prime factors. This should not happen. Please review and report."),T;var Te=new tn(Math.log(N)/Math.log(le)),Ue=Te.multiply(T.power);if(Ue.den>T.power.den)return T;un(Ue)?T=me(Math.pow(le,Ue)):T=new me(le).setPower(Ue)}return T}this.expand=mo,this.round=Wo,this.clean=Ll,this.sqrt=ri,this.cbrt=Kn,this.abs=er,this.log=Cs,this.rationalize=rs,this.nthroot=bi,this.arg=Jt,this.conjugate=wo,this.imagpart=Us,this.realpart=ii,this.getFunction=function(T){return gn[T][0]},this.addPreprocessor=function(T,N,le,Te){var Ue=P.names,Qe=P.actions;if(typeof N!="function")throw new PreprocessorError("Incorrect parameters. Function expected!");le?Te?(Ue.splice(le,0,T),Qe.splice(le,0,N)):(Ue[le]=T,Qe[le]=N):(Ue.push(T),Qe.push(N))},this.getPreprocessors=function(){for(var T={},N=0,le=T.names.length;N<le;N++){var Te=T.names[N];T[Te]={order:N,action:T.actions[N]}}return T},this.removePreprocessor=function(T,N){var le=P.names.indexOf(T);N?(Mn(P.names,le),Mn(P.actions,le)):(P.names[le]=void 0,P.actions[le]=void 0)},this.mapped_function=function(){for(var T={},N=this.params,le=0;le<N.length;le++)T[N[le]]=String(arguments[le]);return d.parse(this.body,T)},this.add=function(T,N){var le=It(T),Te=It(N);if(le&&Te){if(T.unit||N.unit)return d.Unit.add(T,N);if(T.isInfinity||N.isInfinity){var Ue=T.multiplier.lessThan(0),Qe=N.multiplier.lessThan(0);if(T.isInfinity&&N.isInfinity&&Ue!==Qe)throw new ee("("+T+")+("+N+") is not defined!");var ht=me.infinity();return Qe&&ht.negate(),ht}if(T.isComposite()&&T.isLinear()&&N.isComposite()&&N.isLinear()&&(T.distributeMultiplier(),N.distributeMultiplier(),N.length>T.length&&T.group===N.group&&([T,N]=[N,T])),T.multiplier.equals(0))return N;if(N.multiplier.equals(0))return T;if(T.isConstant()&&N.isConstant()&&w.PARSE2NUMBER){var Dn=new me(T.multiplier.add(N.multiplier).toDecimal(w.PRECISION));return Dn}var Ct=T.group,Wt=N.group,Yt=T.power.toString(),bn=N.power.toString();if(Ct<Wt||Ct===Wt&&Yt>bn&&bn>0)return this.add(N,T);if(Ct===K&&Wt===ce&&T.value===N.value){var Nt=T;T=N,N=Nt,Ct=T.group,Wt=N.group,Yt=T.power.toString(),bn=N.power.toString()}var jn=Yt===bn,Fn=T.value,Yn=N.value,ir=T.isComposite(),Er=N.isComposite(),zr,nn,Dn;if(ir&&(zr=kr(T,"hash")),Er&&(nn=kr(N,"hash")),Ct===se&&Wt===se&&N.isLinear()&&!T.isLinear()&&zr!==nn)return this.add(N,T);Ct===ce&&Wt===ce&&(Fn=zr,Yn=nn);var Rr=Ct===H&&Wt===I,ur=T.value===N.multiplier.toString(),Kr=Fn===Yn||zr===nn&&zr!==void 0||Rr&&ur;if(Kr&&jn&&Ct===Wt)if(Rr&&(N=N.convert(H)),Ct===ce&&(Wt===F||Wt===H))T.distributeMultiplier(),Dn=T.attach(N);else if(Dn=T,T.multiplier.isOne()&&N.multiplier.isOne()&&Ct===se&&T.isLinear()&&N.isLinear())for(var hi in N.symbols){var Qr=N.symbols[hi];Dn.attach(Qr)}else Dn.multiplier=Dn.multiplier.add(N.multiplier);else if(Kr&&Ct!==ce)Ct===se&&Wt===ce?(N.insert(T,"add"),Dn=N):(Dn=me.shell(ce).attach([T,N]),Dn.value=Ct===ce?zr:Fn);else if(ir&&T.isLinear()){var si=Ct===Wt,ei=Ct===ce&&Wt===ce;if(ei&&(si=T.value===N.value),T.distributeMultiplier(),N.isComposite()&&N.isLinear()&&si){N.distributeMultiplier();for(var hi in N.symbols){var Qr=N.symbols[hi];T.attach(Qr)}Dn=T}else ei&&T.value!==nn||Ct===ce&&!Kr?(Dn=me.shell(se).attach([T,N]),Dn.updateHash()):Dn=T.attach(N)}else{if(Ct===he&&T.fname===De&&Wt!==te&&N.power.equals(.5)){var Si=N.multiplier.clone();N=ri(N.toUnitMultiplier().toLinear()),N.multiplier=Si}T.length===2&&N.length===2&&R(T.power)&&R(N.power)?Dn=d.add(mo(T),mo(N)):(Dn=me.shell(se).attach([T,N]),Dn.updateHash())}if(Dn.multiplier.equals(0)&&(Dn=new me(0)),Dn.length===1){var Si=Dn.multiplier;Dn=Ie(Dn.symbols),Dn.multiplier=Dn.multiplier.multiply(Si)}return Dn}else{if(Te&&!le){var Nt=T;T=N,N=Nt,Nt=Te,Te=le,le=Nt}var Hr=ct(N);if(le&&Hr){var Vi=new _n;N.eachElement(function(ks,xi,Hs){Vi.set(xi,Hs,d.add(T.clone(),ks))}),N=Vi}else if(ct(T)&&Hr)N=T.add(N);else if(le&&qn(N))N.each(function(ks,xi){xi--,N.elements[xi]=d.add(T.clone(),N.elements[xi])});else if(qn(T)&&qn(N))N.each(function(ks,xi){xi--,N.elements[xi]=d.add(T.elements[xi],N.elements[xi])});else{if(qn(T)&&ct(N))return d.add(N,T);if(ct(T)&&qn(N))if(N.elements.length===T.rows()){var Vi=new _n,gs=T.cols();return N.each(function(xi,Hs){for(var go=[],Is=0;Is<gs;Is++)go.push(d.add(T.elements[Hs-1][Is].clone(),xi.clone()));Vi.elements.push(go)}),Vi}else Xt("Dimensions must match!")}return N}},this.subtract=function(T,N){var le=le=It(T),Te=It(N);if(le&&Te)return T.unit||N.unit?d.Unit.subtract(T,N):this.add(T,N.negate());if(Te&&qn(T))N=T.map(function(ht){return d.subtract(ht,N.clone())});else if(le&&qn(N))N=N.map(function(ht){return d.subtract(T.clone(),ht)});else if(qn(T)&&qn(N))T.dimensions()===N.dimensions()?N=T.subtract(N):d.error("Unable to subtract vectors. Dimensions do not match.");else if(ct(T)&&qn(N))if(N.elements.length===T.rows()){var Ue=new _n,Qe=T.cols();return N.each(function(ht,Ct){for(var Wt=[],Yt=0;Yt<Qe;Yt++)Wt.push(d.subtract(T.elements[Ct-1][Yt].clone(),ht.clone()));Ue.elements.push(Wt)}),Ue}else Xt("Dimensions must match!");else if(qn(T)&&ct(N)){var Ue=N.clone().negate();return d.add(Ue,T)}else if(ct(T)&&ct(N))N=T.subtract(N);else if(ct(T)&&Te){var Ue=new _n;T.each(function(Ct,Wt,Yt){Ue.set(Wt,Yt,d.subtract(Ct,N.clone()))}),N=Ue}else if(le&&ct(N)){var Ue=new _n;N.each(function(Ct,Wt,Yt){Ue.set(Wt,Yt,d.subtract(T.clone(),Ct))}),N=Ue}return N},this.multiply=function(T,N){var le=It(T),Te=It(N);if(le&&N instanceof oe)return N.elements.push(T),N;if(le&&Te){if(N.isUnit){var nn=T.clone();return T.unit=N,nn}if(T.unit||N.unit)return d.Unit.multiply(T,N);if(T.isInfinity||N.isInfinity){if(T.equals(0)||N.equals(0))throw new ee(T+"*"+N+" is undefined!");if(N.power.lessThan(0)){if(T.isInfinity)throw new ee("Infinity/Infinity is not defined!");return new me(0)}var ir=T.multiplier.multiply(N.multiplier).sign(),Ue=me.infinity();if(T.isConstant()||N.isConstant()||T.isInfinity&&N.isInfinity)return ir<0&&Ue.negate(),Ue}if(T.isConstant()&&N.isConstant()&&w.PARSE2NUMBER){var Qe=new $(T.multiplier.toDecimal()).times(new $(N.multiplier.toDecimal())).toFixed(),ht=new me(Qe);return ht}if(T.isOne())return N.clone();if(N.isOne())return T.clone();if(T.multiplier.equals(0)||N.multiplier.equals(0))return new me(0);if(N.group>T.group&&N.group!==se)return this.multiply(N,T);if(T.group===K&&N.group===ce&&T.value===N.value){var Qe=T;T=N,N=Qe}var Ct=T.group,Wt=N.group,Yt=N.multiplier.num,bn=N.multiplier.den;if(Ct===he&&T.fname===De&&!N.isConstant()&&T.args[0].value===N.value&&!T.args[0].multiplier.lessThan(0)){var Nt=T.power,jn=d.parse(T.multiplier);T=d.multiply(jn,T.args[0].clone()),T.setPower(new tn(.5).multiply(Nt)),Ct=T.group}else Ct===he&&T.fname===De&&T.multiplier.equals(1)&&T.power.equals(-1)&&N.isConstant()&&T.args[0].equals(N)&&(T=d.symfunction(De,[N.clone()]),N=new me(1));var Fn=T.value,Yn=N.value,ir=new tn(T.sign()),Er=Ct===H&&Wt===I&&N.multiplier.equals(T.value),zr=Er?new tn(1).multiply(T.multiplier).abs():T.multiplier.multiply(N.multiplier).abs(),nn=T.clone().toUnitMultiplier();if(N=N.clone().toUnitMultiplier(!0),Ct===he&&Wt===he){var Dn=T.args[0].clone(),Rr=N.args[0].clone();if(T.fname===De&&N.fname===De&&T.isLinear()&&N.isLinear()){var ur=d.divide(Dn,Rr).invert();ur.gt(1)&&un(ur)&&(nn=d.multiply(T.args[0].clone(),ri(ur.clone())),N=new me(1))}else if(T.fname===je&&N.fname===je&&!Dn.isConstant()&&!Rr.isConstant()&&N.power<0){var Kr=d.subtract(Dn.clone(),Rr.clone());if(Kr.isConstant())if(Qe=new me(1),Kr<0){for(var hi=0,Qr=Math.abs(Kr);hi<=Qr;hi++){var si=d.add(Dn.clone(),new me(hi));Qe=d.multiply(Qe,si)}nn=d.multiply(d.pow(Dn,new me(T.power)),d.pow(Qe,new me(N.power))),N=new me(1)}else{for(var hi=0,Qr=Math.abs(Kr);hi<=Qr;hi++){var si=d.add(Rr.clone(),new me(hi));Qe=d.multiply(Qe,si)}nn=d.multiply(d.pow(Qe,new me(T.power)),d.pow(Rr,new me(N.power))),N=new me(1)}}}if(Fn===Yn&&Ct===ce&&Ct===Wt&&(Fn=T.text("hash"),Yn=N.text("hash")),Wt===te&&N.previousGroup===ce&&Ct===ce&&(Fn=kr(T,"hash",te)),(Fn===Yn||Er)&&!(Ct===ce&&(Wt===F||Wt===H||Wt===he))&&!(Ct===ce&&Wt===K)){var ei=T.power,Si=N.power,Hr=It(ei),Vi=It(Si),gs=Hr||Vi;if(Ct===ce&&Wt!==ce&&N.previousGroup!==ce&&ei.equals(1))nn=new me(0),T.each(function(cs){nn=d.add(nn,d.multiply(cs,N.clone()))},!0);else{if(nn.power=gs?d.add(It(ei)?ei:new me(ei),It(Si)?Si:new me(Si)):Ct===I?ei:ei.add(Si),nn.power.equals(0)&&(nn=nn.convert(I)),gs&&nn.convert(te),T.imaginary&&N.imaginary){var ks=R(nn.power%2);ks&&(nn=new me(1),zr.negate())}nn.group!==te&&nn.previousGroup&&(nn.previousGroup=void 0),nn.multiplier=nn.multiplier.multiply(N.multiplier)}}else if(Ct===K&&T.isLinear())if(Wt===K&&N.distributeExponent(),Wt===K&&N.isLinear()){for(var si in N.symbols){var xi=N.symbols[si];nn=nn.combine(xi)}nn.multiplier=nn.multiplier.multiply(N.multiplier)}else nn.combine(N);else if(Ct!==I){if(Ct===K)nn.distributeExponent(),nn.combine(N);else if(!N.isOne()){var Hs=N.multiplier.clone();N.toUnitMultiplier(),nn=me.shell(K).combine([nn,N]),nn.multiplier=nn.multiplier.multiply(Hs)}}else nn=N.clone().toUnitMultiplier();if(nn.group===H){var go=Math.log(nn.value),Is=Math.log(Yt)/go,Nr=Math.log(bn)/go,us=zr.num/Yt,pe=zr.den/bn;Is!==0&&un(Is)&&un(us)&&(nn.power=nn.power.add(new tn(Is)),zr.num/=Yt),Nr!==0&&un(Nr)&&un(pe)&&(nn.power=nn.power.subtract(new tn(Nr)),zr.den/=bn)}if(nn.length===1){var Qe=nn.multiplier;nn=Ie(nn.symbols),nn.multiplier=nn.multiplier.multiply(Qe)}var Ci=nn.power.toString();if(R(Ci)&&nn.fname===De){ir=ir*nn.sign();var is=nn.power;nn=nn.args[0],nn=d.multiply(new me(zr),d.pow(nn,new me(is.divide(new tn(2))))),ir<0&&nn.negate()}else nn.multiplier=nn.multiplier.multiply(zr).multiply(ir),nn.group===se&&nn.isImaginary()&&nn.distributeMultiplier();return nn.group===H&&un(nn.power.toDecimal())&&(nn=nn.convert(I)),nn}else{Te&&!le&&(Qe=T,T=N,N=Qe,Qe=Te,Te=le,le=Qe);var dl=ct(N),so=ct(T);if(le&&dl){var $o=new _n;N.eachElement(function(cs,cr,Qs){$o.set(cr,Qs,d.multiply(T.clone(),cs))}),N=$o}else if(so&&dl)N=T.multiply(N);else if(le&&qn(N))N.each(function(cs,cr){cr--,N.elements[cr]=d.multiply(T.clone(),N.elements[cr])});else if(qn(T)&&qn(N))N.each(function(cs,cr){cr--,N.elements[cr]=d.multiply(T.elements[cr],N.elements[cr])});else{if(qn(T)&&ct(N))return this.multiply(N,T);if(ct(T)&&qn(N))if(N.elements.length===T.rows()){var $o=new _n,Zs=T.cols();return N.each(function(cr,Qs){for(var Ri=[],bo=0;bo<Zs;bo++)Ri.push(d.multiply(T.elements[Qs-1][bo].clone(),cr.clone()));$o.elements.push(Ri)}),$o}else Xt("Dimensions must match!")}return N}},this.divide=function(T,N){var le=It(T),Te=It(N);if(le&&Te){if(T.unit||N.unit)return d.Unit.divide(T,N);var Ue;if(N.equals(0))throw new J("Division by zero not allowed!");return T.isConstant()&&N.isConstant()?(Ue=T.clone(),Ue.multiplier=Ue.multiplier.divide(N.multiplier)):(N.invert(),Ue=d.multiply(T,N)),Ue}else{var Qe=qn(T),ht=qn(N);if(le&&ht)N=N.map(function(bn){return d.divide(T.clone(),bn)});else if(Qe&&Te)N=T.map(function(bn){return d.divide(bn,N.clone())});else if(Qe&&ht)T.dimensions()===N.dimensions()?N=N.map(function(bn,Nt){return d.divide(T.elements[--Nt],bn)}):d.error("Cannot divide vectors. Dimensions do not match!");else{var Ct=ct(T),Wt=ct(N);if(Ct&&Te){var Yt=new _n;T.eachElement(function(bn,Nt,jn){Yt.set(Nt,jn,d.divide(bn,N.clone()))}),N=Yt}else if(le&&Wt){var Yt=new _n;N.eachElement(function(Nt,jn,Fn){Yt.set(jn,Fn,d.divide(T.clone(),Nt))}),N=Yt}else if(Ct&&Wt){var Yt=new _n;T.rows()===N.rows()&&T.cols()===N.cols()?(T.eachElement(function(Nt,jn,Fn){Yt.set(jn,Fn,d.divide(Nt,N.elements[jn][Fn]))}),N=Yt):d.error("Dimensions do not match!")}else if(Ct&&ht)if(T.cols()===N.dimensions()){var Yt=new _n;T.eachElement(function(Nt,jn,Fn){Yt.set(jn,Fn,d.divide(Nt,N.elements[jn].clone()))}),N=Yt}else d.error("Unable to divide matrix by vector.")}return N}},this.pow=function(T,N){var le=It(T),Te=It(N);if(le&&Te){if(T.unit||N.unit)return d.Unit.pow(T,N);if(T.group===he&&T.fname===Se&&R(N)){var bn=T.multiplier.clone(),Ue=d.pow(T.args[0],N);return Ue.multiplier=bn,Ue}if(T.isInfinity||N.isInfinity){if(T.isInfinity&&N.isInfinity)throw new ee("("+T+")^("+N+") is undefined!");if(T.isConstant()&&N.isInfinity){if(T.equals(0)){if(N.lessThan(0))throw new ee("0^Infinity is undefined!");return new me(0)}if(T.equals(1))throw new ee("1^"+N.toString()+" is undefined!");if(N.lessThan(0))return new me(0);if(!T.lessThan(0))return me.infinity()}if(T.isInfinity&&N.isConstant()){if(N.equals(0))throw new ee(T+"^0 is undefined!");return N.lessThan(0)?new me(0):d.multiply(me.infinity(),d.pow(new me(T.sign()),N.clone()))}}var Qe=T.equals(0),ht=N.equals(0);if(Qe&&ht)throw new ee("0^0 is undefined!");if(Qe&&N.isConstant()&&N.multiplier.greaterThan(0))return new me(0);if(ht)return new me(1);var Ct=N.isConstant(),Wt=T.isConstant(),Yt=N.isInteger(),bn=T.multiplier,Nt=T.clone();if(Wt&&Ct&&T.equals(0)&&N.lessThan(0))throw new ee("Division by zero is not allowed!");if(w.PARSE2NUMBER&&Wt&&Ct&&T.sign()<0&&j(N)){var jn,Fn,Yn;return jn=Math.PI*N,Fn=new me(Math.cos(jn)),Yn=d.multiply(me.imaginary(),new me(Math.sin(jn))),d.add(Fn,Yn)}if(w.PARSE2NUMBER&&T.isImaginary()&&Ct&&un(N)&&!N.lessThan(0)){var Fn,Yn,ir,Er,zr,nn,Dn;if(Fn=T.realpart(),Yn=T.imagpart(),Fn.isConstant("all")&&Yn.isConstant("all"))return Dn=w.USE_BIG?me($.atan2(Si.multiplier.toDecimal(),ir.multiplier.toDecimal()).times(N.toString())):Math.atan2(Yn,Fn)*N,Er=new me(Dn),ir=d.pow(me.hyp(Fn,Yn),N),zr=d.multiply(ir.clone(),d.trig.cos(Er.clone())),nn=d.multiply(ir,d.trig.sin(Er)),d.add(zr,d.multiply(me.imaginary(),nn))}if(Nt.toUnitMultiplier(),Nt.group===he&&Nt.fname===De&&!Ct){var Rr=Nt.args[0];Rr.multiplyPower(new me(.5)),Rr.multiplier.multiply(Nt.multiplier),Rr.multiplyPower(N),Nt=Rr}else{var ur=bn.sign();j(N)&&ur<0&&(Nt.negate(),Nt=d.symfunction(Oe,[Nt]),Nt.negate()),Nt.multiplyPower(N)}if(Wt&&Ct&&w.PARSE2NUMBER){var Kr;ur<0&&(T.negate(),N.multiplier.den.equals(2)?Kr=new me(w.IMAGINARY):un(N.multiplier)?R(N.multiplier)?Kr=new me(1):Kr=new me(-1):R(N.multiplier.den)?Kr=d.pow(d.symfunction(Oe,[new me(ur)]),N.clone()):Kr=new me(Math.pow(ur,N.multiplier.num))),Nt=new me(Math.pow(T.multiplier.toDecimal(),N.multiplier.toDecimal())),Kr&&(Nt=d.multiply(Nt,Kr))}else if(Yt&&!bn.equals(1)){var hi=N.abs();if(hi.gt(w.MAX_EXP))return N.sign()<0?new me(0):me.infinity();var Qr=N.multiplier.toDecimal(),si=Math.sign(Qr);Qr=Math.abs(Qr);var ei=new tn(1);ei.num=bn.num.pow(Qr),ei.den=bn.den.pow(Qr),si<0&&ei.invert(),Nt.multiplier=Nt.multiplier.multiply(ei)}else{var ur=T.sign();if(N.isConstant()&&T.isConstant()&&!N.multiplier.den.equals(1)&&ur<0)if(N.multiplier.den.equals(2)){var Si=new me(w.IMAGINARY);T.negate(),N.lessThan(0)&&(Si.negate(),N.negate()),Nt=d.multiply(d.pow(T,N),Si)}else{var Hr=T.clone();Hr.multiplier.negate(),Nt=d.pow(d.symfunction(Oe,[new me(ur)]),N.clone());var Vi=d.pow(new me(Hr.multiplier.num),N.clone()),gs=d.pow(new me(Hr.multiplier.den),N.clone()),ir=d.divide(Vi,gs);Nt=d.multiply(Nt,ir)}else if(w.PARSE2NUMBER&&N.isImaginary()){var Fn=N.realpart(),Yn=N.imagpart(),Hr=T.clone().toLinear(),ks=d.pow(Hr.clone(),Fn),xi=Cs(Hr.clone()),Hs=be.cos(d.multiply(Yn.clone(),xi)),go=d.multiply(be.sin(d.multiply(Yn,Cs(Hr))),me.imaginary());Nt=d.multiply(ks,d.add(Hs,go)),Nt=d.expand(d.parse(Nt))}else{var Is=T.group===I&&ur<0,Nr=Na(new me(Is?bn.num:Math.abs(bn.num)).setPower(N.clone())),us=Na(new me(bn.den).setPower(N.clone()).invert());if(T.imaginary)if(Yt){var Rr,Qr,pe;Rr=Math.sign(N),Qr=er(N),pe=Qr%4,Nt=new me(R(pe)?-1:w.IMAGINARY),(pe===0||Rr<0&&pe===1||Rr>0&&pe===3)&&Nt.negate()}else{var Ci=N.multiplier.multiply(tn.quick(1,2)),is=Math.pow(-1,Ci.num);Nt=R(Ci.den)?new me(-1).setPower(Ci,!0):new me(is)}if(ur<0&&!Is&&Nt.negate(),Ct&&T.group!==te){var dl=R(N.multiplier.den),so=R(T.power),pe=Nt.power.toDecimal(),$o=R(pe);if(dl&&so&&!$o){if(pe===1)Nt=d.symfunction(Se,[Nt]);else if(un(pe))Nt=d.multiply(d.symfunction(Se,[Nt.clone().toLinear()]),Nt.clone().setPower(new tn(pe-1)));else{var Qr=Nt.power;Nt=d.symfunction(Se,[Nt.toLinear()]).setPower(Qr)}w.POSITIVE_MULTIPLIERS&&Nt.fname===Se&&(Nt=Nt.args[0])}}if(N.equals(2)&&Nt.group===K){var Zs=new me(1);Nt.each(function(i0){Zs=d.multiply(Zs,d.pow(i0,N))}),Nt=Zs}}}if(Nt=Na(Nt),Nr&&us&&(Nt=d.multiply(Nt,uu(d.multiply(Nr,us)))),Nt.fname===De){var cs=Nt.group===te,cr=cs?Nt.power.multiplier.toString():Nt.power.toString();if(R(cr)){var Qs=cs?d.divide(Nt.power,new me(2)):new me(Nt.power.divide(new tn(2))),bn=Nt.multiplier;Nt=d.pow(Nt.args[0],Qs),Nt.multiplier=Nt.multiplier.multiply(bn)}}else if(!w.IGNORE_E&&Nt.isE()&&Nt.group===te&&Nt.power.contains("pi")&&Nt.power.contains(w.IMAGINARY)&&N.group===K){var Er=N.stripVar(w.IMAGINARY);Nt=d.add(be.cos(Er),d.multiply(me.imaginary(),be.sin(Er)))}return Nt}else{if(qn(T)&&Te)T=T.map(function(bo){return d.pow(bo,N.clone())});else if(ct(T)&&Te){var Ri=new _n;T.eachElement(function(bo,i0,Pl){Ri.set(i0,Pl,d.pow(bo,N.clone()))}),T=Ri}else if(le&&ct(N)){var Ri=new _n;N.eachElement(function(i0,Pl,y0){Ri.set(Pl,y0,d.pow(T.clone(),i0))}),T=Ri}return T}},this.comma=function(T,N){return T instanceof oe||(T=oe.create(T)),T.append(N),T},this.mod=function(T,N){return ni(T,N)},this.slice=function(T,N){return new V(T,N)},this.equals=function(T,N){return T.group!==F&&!T.isLinear()&&Xt("Cannot set equality for "+T.toString()),Ke[T.value]=N.clone(),N},this.percent=function(T){return d.divide(T,new me(100))},this.assign=function(T,N){if(T instanceof oe&&N instanceof oe)return T.elements.map(function(Te,Ue){return d.assign(Te,N.elements[Ue])}),Fr.fromArray(N.elements);if(T.parent){var le=T.parent;return le.elements[le.getter]=N,delete le.getter,le}if(T.group!==F)throw new Pr("Cannot complete operation. Incorrect LH value for "+T);return Ke[T.value]=N,N},this.function_assign=function(T,N){var le=T.elements.pop();return nt(le,T.elements,N)};var hl=function(T){return new me(T===!0?1:0)};this.eq=function(T,N){return hl(T.equals(N))},this.gt=function(T,N){return hl(T.gt(N))},this.gte=function(T,N){return hl(T.gte(N))},this.lt=function(T,N){return hl(T.lt(N))},this.lte=function(T,N){return hl(T.lte(N))},this.factorial=function(T){return this.symfunction(je,[T])},this.dfactorial=function(T){return this.symfunction(at,[T])}}var ms={convert:function(d,C){var P;if(d===0)P=[0,1];else if(d<1e-6||d>1e20){var V=this.quickConversion(Number(d));if(V[1]<=1e20){var oe=Math.abs(d),fe=d/oe;P=this.fullConversion(oe.toFixed((V[1]+"").length-1)),P[0]=P[0]*fe}else P=V}else P=this.fullConversion(d);return P},quickConversion:function(d){var C=function(V){typeof V!="string"&&(V=V.toString());var oe="",fe=V.charAt(0);return fe==="-"?(V=V.substr(1,V.length),oe="-"):fe==="+"&&(V=V.substr(1,V.length)),{sign:oe,value:V}};function P(V){Or.isScientific(V)&&(V=an(V));var oe=C(V),fe=oe.value.split("."),Me;fe.length===1?Me=fe[0]:Me=fe[0]+fe[1];var be=fe[1]?fe[1].length:0,pt=`1${"0".repeat(be)}`;return Me!=="0"&&(Me=Me.replace(/^0+/,"")),[oe.sign+Me,pt]}return P(d)},fullConversion:function(d){for(var C=!1,P=0,V=1,oe=1,fe=0,Me=0,be=d,pt=1e-16;!C;){Me++,Me>1e4&&(C=!0);var At=Math.floor(be),Tt=P+At*oe,gn=V+At*fe,jt=be-At;jt<pt&&(C=!0),be=1/jt,P=oe,V=fe,oe=Tt,fe=gn,(Math.abs(Tt/gn-d)<pt||Me>30)&&(C=!0)}return[Tt,gn]}},gr={parser:(function(){var d=["classes","setOperator","getOperators","getBrackets","tokenize","toRPN","tree","units"],C=new Ni;for(var P in C)d.indexOf(P)===-1&&delete C[P];C.setOperator({precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(oe){return oe}}),C.setOperator({precedence:8,operator:"\\,",action:"slash_comma",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(oe){return oe}});var V=C.getBrackets();return V["{"].maps_to=void 0,C})(),space:"~",dot:" \\cdot ",latex:function(d,C){if(d.clone&&(d=d.clone()),d instanceof h.classes.Collection&&(d=d.elements),mr(d)){for(var P=[],V=0;V<d.length;V++){var oe=d[V];It(oe)||(oe=h.parse(oe)),P.push(this.latex(oe,C))}return this.brackets(P.join(", "),"square")}else if(ct(d)){for(var fe=`\\begin{pmatrix}
`,V=0;V<d.elements.length;V++){for(var Me=[],be=d.elements[V],pt=0;pt<be.length;pt++)Me.push(this.latex(be[pt],C));fe+=Me.join(" & "),V<d.elements.length-1&&(fe+=`\\\\
`)}return fe+="\\end{pmatrix}",fe}else if(qn(d)){for(var fe="\\left[",V=0;V<d.elements.length;V++)fe+=this.latex(d.elements[V],C)+" "+(V!==d.elements.length-1?",\\,":"");return fe+="\\right]",fe}else if(rn(d)){for(var fe="\\{",V=0;V<d.elements.length;V++)fe+=this.latex(d.elements[V],C)+" "+(V!==d.elements.length-1?",\\,":"");return fe+="\\}",fe}d=d.clone();var At=C==="decimal"||C==="decimals",Tt=d.power,gn=$i(Tt),jt=d.multiplier.lessThan(0);if(d.group===H&&At)return String(d.multiplier.toDecimal()*Math.pow(d.value,d.power.toDecimal()));d.multiplier=d.multiplier.abs();var on;if(At){var An=String(d.multiplier.toDecimal());on=[An,""]}else on=[d.multiplier.num,d.multiplier.den];var yn=this.value(d,gn,C,jt),zt;gn&&Tt.negate(),At?(zt=It(Tt)?gr.latex(Tt,C):String(Tt.toDecimal()),String(zt)==="1"&&(zt="")):It(Tt)?zt=this.latex(Tt,C):zt=this.formatFrac(Tt,!0);var or=["",""],Vn=gn?1:0;or[Vn]=zt;var er=(jt?"-":"")+this.set(on,yn,or,d.group===K);return er.replace(/\+\-/gi,"-")},greek:{alpha:"\\alpha",beta:"\\beta",gamma:"\\gamma",delta:"\\delta",epsilon:"\\epsilon",zeta:"\\zeta",eta:"\\eta",theta:"\\theta",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",mu:"\\mu",nu:"\\nu",xi:"\\xi",omnikron:"\\omnikron",pi:"\\pi",rho:"\\rho",sigma:"\\sigma",tau:"\\tau",upsilon:"\\upsilon",phi:"\\phi",chi:"\\chi",psi:"\\psi",omega:"\\omega",Gamma:"\\Gamma",Delta:"\\Delta",Epsilon:"\\Epsilon",Theta:"\\Theta",Lambda:"\\Lambda",Xi:"\\Xi",Pi:"\\Pi",Sigma:"\\Sigma",Phi:"\\Phi",Psi:"\\Psi",Omega:"\\Omega"},symbols:{arccos:"\\arccos",cos:"\\cos",csc:"\\csc",exp:"\\exp",ker:"\\ker",limsup:"\\limsup",min:"\\min",sinh:"\\sinh",arcsin:"\\arcsin",cosh:"\\cosh",deg:"\\deg",gcd:"\\gcd",lg:"\\lg",ln:"\\ln",Pr:"\\Pr",sqrt:"\\sqrt",sup:"\\sup",arctan:"\\arctan",cot:"\\cot",det:"\\det",hom:"\\hom",lim:"\\lim",log:"\\log",LN:"\\LN",sec:"\\sec",tan:"\\tan",arg:"\\arg",coth:"\\coth",dim:"\\dim",inf:"\\inf",liminf:"\\liminf",max:"\\max",sin:"\\sin",tanh:"\\tanh"},value:function(d,C,P,V){var oe=d.group,fe=d.previousGroup,Me=["",""],be=C?1:0;if(d.isInfinity)Me[be]="\\infty";else if(oe===F||oe===H||fe===F||fe===H||fe===I){var pt=this.formatSubscripts(d.value);pt.replace&&(pt=pt.replace(/(.+)_$/,"$1\\_"));var At=String(pt).split("_"),Tt=this.greek[At[0]];Tt&&(At[0]=Tt,pt=At.join("_"));var d=this.symbols[At[0]];d&&(At[0]=d,pt=At.join("_")),Me[be]=pt}else if(oe===he||fe===he){for(var gn,jt=[],on=d.fname,An=0;An<d.args.length;An++){var yn=d.args[An],zt;typeof yn=="string"?zt=yn:zt=this.latex(yn,P),jt.push(zt)}if(on===De)Me[be]="\\sqrt"+this.braces(jt.join(","));else if(on===Se)Me[be]=this.brackets(jt.join(","),"abs");else if(on===Oe)Me[be]=this.brackets(jt.join(","),"parens");else if(on==="limit")Me[be]=" \\lim\\limits_{"+jt[1]+" \\to "+jt[2]+"} "+jt[0];else if(on==="integrate")Me[be]="\\int"+this.braces(jt[0])+this.braces("d"+jt[1]);else if(on==="defint")Me[be]="\\int\\limits_"+this.braces(jt[1])+"^"+this.braces(jt[2])+" "+jt[0]+" d"+jt[3];else if(on===je||on===at){var yn=d.args[0];yn.power.equals(1)&&(yn.isComposite()||yn.isCombination())&&(jt[0]=this.brackets(jt[0])),Me[be]=jt[0]+(on===je?"!":"!!")}else if(on==="floor")Me[be]="\\left \\lfloor"+this.braces(jt[0])+"\\right \\rfloor";else if(on==="ceil")Me[be]="\\left \\lceil"+this.braces(jt[0])+"\\right \\rceil";else if(on===w.LOG&&jt.length>1)Me[be]="\\mathrm"+this.braces(w.LOG)+"_"+this.braces(jt[1])+this.brackets(jt[0]);else if(on===w.LOG10)Me[be]="\\mathrm"+this.braces(w.LOG)+"_"+this.braces(10)+this.brackets(jt[0]);else if(on==="sum"){var or=jt[0],Vn=jt[1],er=jt[2],Ur=jt[3];Me[be]="\\sum\\limits_{"+this.braces(Vn)+"="+this.braces(er)+"}^"+this.braces(Ur)+" "+this.braces(or)}else if(on==="product"){var or=jt[0],Vn=jt[1],er=jt[2],Ur=jt[3];Me[be]="\\prod\\limits_{"+this.braces(Vn)+"="+this.braces(er)+"}^"+this.braces(Ur)+" "+this.braces(or)}else if(on==="nthroot")Me[be]="\\sqrt["+jt[1]+"]"+this.braces(jt[0]);else if(on==="mod")Me[be]=jt[0]+" \\bmod "+jt[1];else if(on==="realpart")Me[be]="\\operatorname{Re}"+this.brackets(jt[0]);else if(on==="imagpart")Me[be]="\\operatorname{Im}"+this.brackets(jt[0]);else{var gn=on!==""?"\\mathrm"+this.braces(on.replace(/_/g,"\\_")):"";d.isConversion?Me[be]=gn+this.brackets(jt.join(""),"parens"):Me[be]=gn+this.brackets(jt.join(","),"parens")}}else if(d.isComposite()){for(var ar=d.collectSymbols().sort(oe===se||fe===se?function(Zr,bi){return bi.group-Zr.group}:function(Zr,bi){var po=It(Zr.power)?-1:Zr.power,ii=It(bi.power)?-1:bi.power;return ii-po}),ni=[],Js=ar.length,An=0;An<Js;An++)ni.push(gr.latex(ar[An],P));var pt=ni.join("+");Me[be]=!(d.isLinear()&&d.multiplier.equals(1))||V?this.brackets(pt,"parens"):pt}else if(oe===K||fe===te||fe===K){oe===K&&d.distributeExponent();var ls=[],Gn=[],ci=[],Mi=[],Hi=0,rs=0,ri=function(Kn,Zr,bi){if(bi>1&&Zr.length>0)for(var po=Zr.length,ii=0;ii<po;ii++){var Us=Zr[ii],wo=Kn[Us];/^\\left\(.+\\right\)\^\{.+\}$/g.test(wo)||/^\\left\(.+\\right\)$/g.test(wo)||(Kn[Us]=gr.brackets(wo,"parens"))}return Kn};d.each(function(Kn){var Zr=$i(Kn.power),bi;Zr?(bi=gr.latex(Kn.invert(),P),rs++,Kn.isComposite()&&(d.multiplier.den!=1&&Math.abs(Kn.power)==1&&(bi=gr.brackets(bi,"parens")),ci.push(ls.length)),ls.push(bi)):(bi=gr.latex(Kn,P),Hi++,Kn.isComposite()&&(d.multiplier.num!=1&&Math.abs(Kn.power)==1&&(bi=gr.brackets(bi,"parens")),Mi.push(Gn.length)),Gn.push(bi))}),ri(Gn,Mi,Hi),Me[0]=Gn.join(this.dot),ri(ls,ci,rs),Me[1]=ls.join(this.dot)}return Me},set:function(d,C,P,V){var oe=function(on){return/^\\left\(.+\\right\)$/.test(on)};if(P&&(P=this.formatP(P)),V){var fe=P[0];P[0]=""}C=this.merge(C,P);var Me=d[0],be=d[1],pt=C[0],At=C[1];pt&&Number(Me)===1&&(Me=""),Number(be)===1&&(be="");var Tt=this.join(Me,pt,oe(pt)?"":this.dot),gn=this.join(be,At,oe(At)?"":this.dot);if(Tt&&gn){var jt=this.frac(Tt,gn);return V&&fe&&(jt=this.brackets(jt)+fe),jt}else return Tt},merge:function(d,C){for(var P=[],V=0;V<2;V++)P[V]=d[V]+C[V];return P},join:function(d,C,P){return!d&&!C?"":d&&!C?d:C&&!d?C:d+P+C},formatSubscripts:function(d){for(var C=d.toString().split("_"),P="";C.length>1;)C.length>0&&(P="_"+this.braces(C.pop()+P));return C[0]+P},formatP:function(d){for(var C=0;C<2;C++){var P=d[C];P&&(d[C]="^"+this.braces(P))}return d},formatFrac:function(d,C){var P=d.num.toString(),V=d.den.toString();return C&&P==="1"&&V==="1"?"":V==="1"?P:this.frac(P,V)},frac:function(d,C){return"\\frac"+this.braces(d)+this.braces(C)},braces:function(d){return"{"+d+"}"},brackets:function(d,C){C=C||"parens";var P={parens:["(",")"],square:["[","]"],brace:["{","}"],abs:["|","|"],angle:["\\langle","\\rangle"]},V=P[C];return"\\left"+V[0]+d+"\\right"+V[1]},filterTokens:function(d){var C=[];mr(d)&&(C.type=d.type);for(var P=["\\","left","right","big","Big","large","Large"],V=0,oe=d.length;V<oe;V++){var fe=d[V],Me=d[V+1];fe.value==="\\"&&Me.value==="\\"?C.push(fe):mr(fe)?C.push(gr.filterTokens(fe)):P.indexOf(fe.value)===-1&&C.push(fe)}return C},parse:function(d){var C,P,V="",oe=this.filterTokens(d),fe={cdot:"",times:"",infty:"Infinity"},Me=function(ar){return oe[typeof ar>"u"?++C:C+=ar]},be=function(){return gr.parse(Me())},pt=function(ar){return ar in fe?fe[ar]:ar==="*"&&oe[C+1].value==="&"?(Me(2),","):ar==="&"?(Me(),","):ar==="\\"?"],[":ar};for(C=0,P=oe.length;C<P;C++){var At=oe[C];if(At.value==="frac"){var Tt=be(),gn=be();V+=Tt+"/"+gn}else if(At.value in gr.symbols)if(At.value===De&&oe[C+1].type==="vector"&&oe[C+2].type==="Set"){var jt=be(),on=be();V+=on+"^"+nr("1/"+jt)}else V+=At.value+be();else if(At.value==="int"){var An=be();C++;var yn=Me().value;yn=pt(yn.substring(1,yn.length)),V+="integrate"+nr(An+","+yn)}else if(At.value==="int_"){var P=be();C++;var zt=Me().value;if(zt===void 0){C--;var zt=be()}var An=be(),yn=Me().value;if(yn===",")var yn=Me().value;if(yn==="differentialD"){C++;var yn=Me().value}if(yn==="mathrm"){C++;var yn=Me().value}V+="defint"+nr(An+","+P+","+zt+","+yn)}else if(At.value&&At.value.startsWith("int_")){var P=At.value.replace("int_","");console.log("uppernow"),C++;var zt=Me().value;if(zt===void 0){C--;var zt=be()}var An=be(),yn=Me().value;if(yn===",")var yn=Me().value;if(yn==="differentialD"){C++;var yn=Me().value}if(yn==="mathrm"){C++;var yn=Me().value}V+="defint"+nr(An+","+P+","+zt+","+yn)}else if(At.value==="mathrm"){var An=oe[++C][0].value;V+=An+be()}else if(At.value==="sum_"||At.value==="prod_"){var or=At.value==="sum_"?"sum":"product",Vn=Me();C++;var er=be(),An=be();V+=or+nr([An,pt(Vn[0]),pt(Vn[2]),pt(er)].join(","))}else if(At.value==="lim_"){var Vn=Me();V+="limit"+nr([be(),pt(Vn[0]),pt(Vn[2])].join(","))}else if(At.value==="begin"){var Vn=Me();if(Array.isArray(Vn)){var Ur=Vn[0].value;Ur==="matrix"&&(V+="matrix([")}}else if(At.value==="end"){var Vn=Me();if(Array.isArray(Vn)){var Ur=Vn[0].value;Ur==="matrix"&&(V+="])")}}else Array.isArray(At)?V+=pt(gr.parse(At)):V+=pt(At.value.toString())}return nr(V)}};function Fr(d){qn(d)?this.elements=d.items.slice(0):mr(d)?this.elements=d.slice(0):this.elements=[].slice.call(arguments)}Fr.arrayPrefill=function(d,C){var P=[];C=C||0;for(var V=0;V<d;V++)P[V]=C;return P},Fr.fromArray=function(d){var C=new Fr;return C.elements=d,C},Fr.fromSet=function(d){return Fr.fromArray(d.elements)},Fr.prototype={custom:!0,e:function(d){return d<1||d>this.elements.length?null:this.elements[d-1]},set:function(d,C){It(C)||(C=new me(C)),this.elements[d]=C},dimensions:function(){return this.elements.length},modulus:function(){return hr("SAFE",function(){return h.pow(this.dot(this.clone()),new me(.5))},void 0,this)},eql:function(d){var C=this.elements.length,P=d.elements||d;if(C!==P.length)return!1;do if(Math.abs(h.subtract(this.elements[C-1],P[C-1]).valueOf())>PRECISION)return!1;while(--C);return!0},clone:function(){for(var d=new Fr,C=this.elements.length,P=0;P<C;P++)d.elements.push(this.elements[P].clone());return this.getter&&(d.getter=this.getter.clone()),d},map:function(d){var C=[];return this.each(function(P,V){C.push(d(P,V))}),new Fr(C)},each:function(d){var C=this.elements.length,P=C,V;do V=P-C,d(this.elements[V],V+1);while(--C)},toUnitVector:function(){return hr("SAFE",function(){var d=this.modulus();return d.valueOf()===0?this.clone():this.map(function(C){return h.divide(C,d)})},void 0,this)},angleFrom:function(d){return hr("SAFE",function(){var C=d.elements||d,P=this.elements.length;if(P!==C.length)return null;var V=new me(0),oe=new me(0),fe=new me(0);this.each(function(At,Tt){V=h.add(V,h.multiply(At,C[Tt-1])),oe=h.add(oe,h.multiply(At,At)),fe=h.add(fe,h.multiply(C[Tt-1],C[Tt-1]))}),oe=h.pow(oe,new me(.5)),fe=h.pow(fe,new me(.5));var Me=h.multiply(oe,fe);if(Me.valueOf()===0)return null;var be=h.divide(V,Me),pt=be.valueOf();return pt<-1&&(be=-1),pt>1&&(be=1),new me(Math.acos(be))},void 0,this)},isParallelTo:function(d){var C=this.angleFrom(d).valueOf();return C===null?null:C<=PRECISION},isAntiparallelTo:function(d){var C=this.angleFrom(d).valueOf();return C===null?null:Math.abs(C-Math.PI)<=PRECISION},isPerpendicularTo:function(d){var C=this.dot(d);return C===null?null:Math.abs(C)<=PRECISION},add:function(d){return hr("SAFE",function(){var C=d.elements||d;return this.elements.length!==C.length?null:this.map(function(P,V){return h.add(P,C[V-1])})},void 0,this)},subtract:function(d){return hr("SAFE",function(){var C=d.elements||d;return this.elements.length!==C.length?null:this.map(function(P,V){return h.subtract(P,C[V-1])})},void 0,this)},multiply:function(d){return this.map(function(C){return C.clone()*d.clone()})},x:function(d){return this.multiply(d)},dot:function(d){return hr("SAFE",function(){var C=d.elements||d,P=new me(0),V=this.elements.length;if(V!==C.length)return null;do P=h.add(P,h.multiply(this.elements[V-1],C[V-1]));while(--V);return P},void 0,this)},cross:function(d){var C=d.elements||d;if(this.elements.length!==3||C.length!==3)return null;var P=this.elements;return hr("SAFE",function(){return new Fr([h.subtract(h.multiply(P[1],C[2]),h.multiply(P[2],C[1])),h.subtract(h.multiply(P[2],C[0]),h.multiply(P[0],C[2])),h.subtract(h.multiply(P[0],C[1]),h.multiply(P[1],C[0]))])},void 0,this)},max:function(){var d=0,C=this.elements.length,P=C,V;do V=P-C,Math.abs(this.elements[V].valueOf())>Math.abs(d.valueOf())&&(d=this.elements[V]);while(--C);return d},magnitude:function(){var d=new me(0);return this.each(function(C){d=h.add(d,h.pow(C,new me(2)))}),h.sqrt(d)},indexOf:function(d){var C=null,P=this.elements.length,V=P,oe;do oe=V-P,C===null&&this.elements[oe].valueOf()===d.valueOf()&&(C=oe+1);while(--P);return C},text:function(d){return kr(this)},toString:function(){return this.text()},latex:function(d){for(var C=[],P=0;P<this.elements.length;P++)C.push(gr.latex.call(gr,this.elements[P],d));return"["+C.join(", ")+"]"}};function _n(){var d=arguments,C=d.length,P,V=[];if(ct(d))for(P=0;P<C;P++)V.push(d[P].slice(0));else{var oe,fe,Me;for(P=0;P<C;P++)oe=d[P],qn(oe)&&(oe=oe.elements),mr(oe)||(oe=[oe]),Me=oe.length,fe&&fe!==Me&&Xt("Unable to create Matrix. Row dimensions do not match!"),V.push(oe),fe=Me}this.elements=V}_n.identity=function(d){for(var C=new _n,P=0;P<d;P++){C.elements.push([]);for(var V=0;V<d;V++)C.set(P,V,P===V?new me(1):new me(0))}return C},_n.fromArray=function(d){function C(P){return _n.apply(this,P)}return C.prototype=_n.prototype,new C(d)},_n.zeroMatrix=function(d,C){for(var P=new _n,V=0;V<d;V++)P.elements.push(Fr.arrayPrefill(C,new me(0)));return P},_n.prototype={custom:!0,get:function(d,C){if(this.elements[d])return this.elements[d][C]},map:function(d,C){var P=new _n;return this.each(function(V,oe,fe){P.set(oe,fe,d.call(P,V),C)}),P},set:function(d,C,P,V){this.elements[d]||(this.elements[d]=[]),this.elements[d][C]=V||It(P)?P:new me(P)},cols:function(){return this.elements[0].length},rows:function(){return this.elements.length},row:function(d){return!d||d>this.cols()?[]:this.elements[d-1]},col:function(d){var C=this.rows(),P=[];if(d>this.cols()||!d)return P;for(var V=0;V<C;V++)P.push(this.elements[V][d-1]);return P},eachElement:function(d){var C=this.rows(),P=this.cols(),V,oe;for(V=0;V<C;V++)for(oe=0;oe<P;oe++)d.call(this,this.elements[V][oe],V,oe)},determinant:function(){if(!this.isSquare())return null;var d=this.toRightTriangular(),C=d.elements[0][0],P=d.elements.length-1,V=P,oe;do oe=V-P+1,C=h.multiply(C,d.elements[oe][oe]);while(--P);return C},isSquare:function(){return this.elements.length===this.elements[0].length},isSingular:function(){return this.isSquare()&&this.determinant()===0},augment:function(d){var C=this.rows(),P=d.rows();C!==P&&Xt("Cannot augment matrix. Rows don't match.");for(var V=0;V<C;V++)this.elements[V]=this.elements[V].concat(d.elements[V]);return this},clone:function(){for(var d=this.rows(),C=this.cols(),P=new _n,V=0;V<d;V++){P.elements[V]=[];for(var oe=0;oe<C;oe++){var fe=this.elements[V][oe];P.elements[V][oe]=It(fe)?fe.clone():fe}}return P},invert:function(){return this.isSquare()||Xt("Matrix is not square!"),hr("SAFE",function(){var d=this.elements.length,C=d,P,V,oe=_n.identity(d),fe=this.augment(oe).toRightTriangular(),Me,be=fe.elements[0].length,pt,At,Tt,gn=[],jt;do{P=d-1,At=[],Me=be,gn[P]=[],Tt=fe.elements[P][P];do pt=be-Me,jt=h.divide(fe.elements[P][pt],Tt.clone()),At.push(jt),pt>=C&&gn[P].push(jt);while(--Me);for(fe.elements[P]=At,V=0;V<P;V++){At=[],Me=be;do pt=be-Me,At.push(h.subtract(fe.elements[V][pt].clone(),h.multiply(fe.elements[P][pt].clone(),fe.elements[V][P].clone())));while(--Me);fe.elements[V]=At}}while(--d);return _n.fromArray(gn)},void 0,this)},toRightTriangular:function(){return hr("SAFE",function(){var d=this.clone(),C,P,V,oe=this.elements.length,fe=oe,Me,be,pt=this.elements[0].length,At;do{if(Me=fe-oe,P=d.elements[Me][Me],P.valueOf()===0){for(var Tt=Me+1;Tt<fe;Tt++)if(V=d.elements[Tt][Me],V&&V.valueOf()!==0){C=[],be=pt;do At=pt-be,C.push(h.add(d.elements[Me][At].clone(),d.elements[Tt][At].clone()));while(--be);d.elements[Me]=C;break}}var P=d.elements[Me][Me];if(P.valueOf()!==0)for(Tt=Me+1;Tt<fe;Tt++){var gn=h.divide(d.elements[Tt][Me].clone(),d.elements[Me][Me].clone());C=[],be=pt;do At=pt-be,C.push(At<=Me?new me(0):h.subtract(d.elements[Tt][At].clone(),h.multiply(d.elements[Me][At].clone(),gn.clone())));while(--be);d.elements[Tt]=C}}while(--oe);return d},void 0,this)},transpose:function(){var d=this.elements.length,C=this.elements[0].length,P=new _n,V=C,oe,fe,Me;do{oe=C-V,P.elements[oe]=[],fe=d;do Me=d-fe,P.elements[oe][Me]=this.elements[Me][oe].clone();while(--fe)}while(--V);return P},canMultiplyFromLeft:function(d){var C=ct(d)?d.elements.length:d.length;return this.elements[0].length===C},sameSize:function(d){return this.rows()===d.rows()&&this.cols()===d.cols()},multiply:function(d){return hr("SAFE",function(){var C=d.elements||d;if(!this.canMultiplyFromLeft(C)){if(this.sameSize(d)){for(var P=new _n,V=this.rows(),be=0;be<V;be++){var oe=h.multiply(new Fr(this.elements[be]),new Fr(d.elements[be]));P.elements[be]=oe.elements}return P}return null}var fe=this.elements.length,Me=fe,be,pt,At=C[0].length,Tt,gn=this.elements[0].length,jt=[],on,An,yn;do{be=Me-fe,jt[be]=[],pt=At;do{Tt=At-pt,on=new me(0),An=gn;do yn=gn-An,on=h.add(on,h.multiply(this.elements[be][yn],C[yn][Tt]));while(--An);jt[be][Tt]=on}while(--pt)}while(--fe);return _n.fromArray(jt)},void 0,this)},add:function(d,C){var P=new _n;return this.sameSize(d)&&this.eachElement(function(V,oe,fe){var Me=h.add(V.clone(),d.elements[oe][fe].clone());C&&(Me=C.call(P,Me,V,d.elements[oe][fe])),P.set(oe,fe,Me)}),P},subtract:function(d,C){var P=new _n;return this.sameSize(d)&&this.eachElement(function(V,oe,fe){var Me=h.subtract(V.clone(),d.elements[oe][fe].clone());C&&(Me=C.call(P,Me,V,d.elements[oe][fe])),P.set(oe,fe,Me)}),P},negate:function(){return this.each(function(d){return d.negate()}),this},toVector:function(){if(this.rows()===1||this.cols()===1){var d=new Fr;return d.elements=this.elements,d}return this},toString:function(d,C){for(var P=this.rows(),V=[],oe=0;oe<P;oe++)V.push("["+this.elements[oe].map(function(fe){var Me=C?fe.multiplier.toDecimal():fe.toString();return fe!==void 0?Me:""}).join(",")+"]");return"matrix"+nr(V.join(","))},text:function(){return"matrix("+this.elements.toString("")+")"},latex:function(d){var C=this.cols(),P=this.elements;return Xn("\\begin{vmatrix}{0}\\end{vmatrix}",function(){var V=[];for(var oe in P){for(var fe=[],Me=0;Me<C;Me++)fe.push(gr.latex.call(gr,P[oe][Me],d));V.push(fe.join(" & "))}return V.join(" \\cr ")})}},_n.prototype.each=_n.prototype.eachElement;function sr(d){if(this.elements=[],qn(d)||(d=Fr.fromArray(arguments)),d)for(var C=d.elements,P=0,V=C.length;P<V;P++)this.add(C[P])}sr.fromArray=function(d){function C(P){return sr.apply(this,P)}return C.prototype=sr.prototype,new C(d)},sr.prototype={add:function(d){this.contains(d)||this.elements.push(d.clone())},contains:function(d){for(var C=0;C<this.elements.length;C++){var P=this.elements[C];if(d.equals(P))return!0}return!1},each:function(d){for(var C=this.elements,P=new sr,V=0,oe=C.length;V<oe;V++){var fe=C[V];d.call(this,fe,P,V)}return P},clone:function(){var d=new sr;return this.each(function(C){d.add(C.clone())}),d},union:function(d){var C=this.clone();return d.each(function(P){C.add(P)}),C},difference:function(d){var C=this.clone();return d.each(function(P){C.remove(P)}),C},remove:function(d){for(var C=0,P=this.elements.length;C<P;C++){var V=this.elements[C];if(V.equals(d))return Mn(this.elements,C),!0}return!1},intersection:function(d){var C=new sr,P=this;return d.each(function(V){P.contains(V)&&C.add(V)}),C},intersects:function(d){return this.intersection(d).elements.length>0},is_subset:function(d){for(var C=d.elements,P=0,V=C.length;P<V;P++)if(!this.contains(C[P]))return!1;return!0},toString:function(){return"{"+this.elements.join(",")+"}"}};var Wr={dependencies:{_rename:{"Math2.factorial":"factorial"},factorial:{"Math2.gamma":$n.gamma},gamma_incomplete:{"Math2.factorial":$n.factorial},Li:{"Math2.Ei":$n.Ei,"Math2.bigLog":$n.bigLog,Frac:tn},Ci:{"Math2.factorial":$n.factorial},Ei:{"Math2.factorial":$n.factorial},Si:{"Math2.factorial":$n.factorial},Shi:{"Math2.factorial":$n.factorial},Chi:{isInt:un,nround:Sn,"Math2.num_integrate":$n.num_integrate},factor:{"Math2.ifactor":$n.ifactor,Symbol:me},num_integrate:{"Math2.simpson":$n.simpson,nround:Sn},fib:{even:R}},reformat:{diff:function(d,C){var P=d.args[1].toString(),V="var f = "+Wr.build(d.args[0].toString(),[P])+";";return C[1]+="var diff = "+$n.diff.toString()+";",C[1]+=V,["diff(f)("+P+")",C]}},getProperName:function(d){var C={continued_fraction:"continuedFraction"};return C[d]||d},compileDependencies:function(d,C){var P=Wr.dependencies[d],V=C&&C[1]?C[1]:"",oe=C&&C[0]?C[0]:{};for(var fe in P)if(typeof P[fe]!="object"){var Me=fe.split(".");V+="var "+(Me.length>1?Me[1]:Me[0])+"="+P[fe]+";",oe[fe]=Me.pop()}return[oe,V]},getArgsDeps:function(d,C){for(var P=d.args,V=0;V<P.length;V++)d.args[V].each(function(oe){oe.group===he&&(C=Wr.compileDependencies(oe.fname,C))});return C},build:function(d,C){d=hr("PARSE2NUMBER",function(){return h.parse(d)},!0);var P=cn(d),V=[],oe=[],fe=function(Tt,gn){Tt.fname===""&&(Tt=me.unwrapPARENS(Tt)),gn=gn||[];var jt=[],on=Tt.group,An="",yn=function(ar){var ni=ar===K?"*":"+",Js=[];for(var ls in Tt.symbols){var Gn=Tt.symbols[ls],ci=fe(Gn,gn)[0];Gn.isComposite()&&(ci=nr(ci)),Js.push(ci)}var Mi=Js.join(ni);return Mi=Mi&&!Tt.multiplier.equals(1)?nr(Mi):Mi,Mi},zt=function(ar){var ni;return ar in Math?ni="Math."+ar:(ar=Wr.getProperName(ar),V.indexOf(ar)===-1&&(gn.push("var "+ar+" = "+$n[ar].toString()+"; "),V.push(ar)),ni=ar),ni=ni+nr(Tt.args.map(function(Js){return fe(Js,gn)[0]}).join(",")),ni};on===I?jt.push(Tt.multiplier.toDecimal()):Tt.multiplier.equals(-1)?An="-":Tt.multiplier.equals(1)||jt.push(Tt.multiplier.toDecimal());var or;if(on===F||on===H)or=Tt.value;else if(on===he)if(oe=Wr.compileDependencies(Tt.fname,oe),oe=Wr.getArgsDeps(Tt,oe),Wr.reformat[Tt.fname]){var Vn=Wr.reformat[Tt.fname](Tt,oe);oe=Vn[1],or=Vn[0]}else or=zt(Tt.fname);else if(on===te){var er=Tt.previousGroup;er===I||er===F?or=Tt.value:er===he?(or=zt(Tt.fname),oe=Wr.compileDependencies(Tt.fname,oe),oe=Wr.getArgsDeps(Tt,oe)):or=yn(Tt.previousGroup)}else or=yn(Tt.group);if(Tt.group!==I&&!Tt.power.equals(1)){var Ur=fe(h.parse(Tt.power));gn.push(Ur[1]),or="Math.pow"+nr(or+","+Ur[0])}return or&&jt.push(An+or),[jt.join("*"),gn.join("").replace(/\n+\s+/g," ")]};C&&(P=C);var Me=fe(d);for(var be in oe[0]){var pt=oe[0][be];Me[1]=Me[1].replace(be,pt),oe[1]=oe[1].replace(be,pt)}var At=new Function(P,(oe[1]||"")+Me[1]+" return "+Me[0]+";");return At}};(function(){dn(h.CONSTANTS),dn(h.functions),h.initConstants(),h.error||(h.error=Xt),w.LOG_FNS={log:h.functions.log,log10:h.functions.log10}})();var xa={allSame:st,allNumeric:_e,arguments2Array:ts,arrayAddSlices:ae,arrayClone:L,arrayMax:Ye,arrayMin:yt,arrayEqual:xt,arrayUnique:Ee,arrayGetVariables:Fe,arraySum:Hn,block:hr,build:Wr.build,clearU:Y,comboSort:Pe,compare:Be,convertToVector:W,customError:Lt,customType:li,decompose_fn:Dt,each:ve,evaluate:B,even:R,evenFraction:j,fillHoles:sn,firstObject:Ie,format:Xn,generatePrimes:en,getCoeffs:_r,getU:Ar,importFunctions:xs,inBrackets:nr,isArray:mr,isExpression:Qt,isFraction:Ft,isInt:un,isMatrix:ct,isNegative:$i,isNumericSymbol:Br,isPrime:de,isReserved:Ot,isSymbol:It,isVariableSymbol:Zn,isVector:qn,keys:ne,knownVariable:Le,nroots:ze,remove:Mn,reserveNames:dn,range:O,round:Sn,sameSign:rr,scientificToDecimal:an,separate:mn,stringReplace:es,text:kr,validateName:vt,variables:cn,warn:St},Ks={groups:_,Symbol:me,Expression:ui,Frac:tn,Vector:Fr,Matrix:_n,Parser:Ni,Scientific:Or,Fraction:ms,Math2:$n,LaTeX:gr,Utils:xa,PARSER:h,PARENTHESIS:Oe,Settings:w,err:Xt,bigInt:p,bigDec:$,exceptions:ai},Qn=function(d,C,P,V){var oe=!1,fe=/^([a-z_][a-z\d\_]*)\(([a-z_,\s]*)\):=(.+)$/gi.exec(d);if(fe)return o.setFunction(fe[1],fe[2].split(","),fe[3]);d instanceof ui&&(d=d.toString()),mr(P)||(P=typeof P>"u"?[]:[P]),P.forEach(function(be){if(be==="numer"){oe=!0;return}var pt=h.functions[P];pt&&pt[1]===1&&(d=`${be}(${d})`)});var Me=hr("PARSE2NUMBER",function(){return h.parse(d,C)},oe||w.PARSE2NUMBER);return V?Ze[V-1]=Me:Ze.push(Me),new ui(Me)};return Qn.rpn=function(d){return h.tokenize(h.toRPN(d))},Qn.convertToLaTeX=function(d,C){return h.toTeX(d,C)},Qn.convertFromLaTeX=function(d){var C=gr.parse(h.tokenize(d));return new ui(h.parse(C))},Qn.version=function(d){if(d)try{return Ks[d].version}catch{return"No module named "+d+" found!"}return a},Qn.getWarnings=function(){return Ve},Qn.setConstant=function(d,C){if(vt(d),!Ot(d))if(C==="delete"||C==="")delete h.CONSTANTS[d];else{if(isNaN(C))throw new rt("Constant must be a number!");h.CONSTANTS[d]=C}return this},Qn.getConstant=function(d){return String(h.constant[d])},Qn.setFunction=nt,Qn.getCore=function(){return Ks},Qn.getExpression=Qn.getEquation=ui.getExpression,Qn.reserved=function(d){return d?Pt:Pt.join(", ")},Qn.clear=function(d,C){if(d==="all")Ze=[];else if(d==="last")Ze.pop();else if(d==="first")Ze.shift();else{var P=d?d-1:Ze.length;C===!0?Ze[P]=void 0:Mn(Ze,P)}return this},Qn.flush=function(){return this.clear("all"),this},Qn.expressions=function(d,C,P){for(var V=d?{}:[],oe=0;oe<Ze.length;oe++){var fe=C?gr.latex(Ze[oe],P):kr(Ze[oe],P);d?V[oe+1]=fe:V.push(fe)}return V},Qn.register=function(d){var C=this.getCore();if(mr(d))for(var P=0;P<d.length;P++)d&&this.register(d[P]);else if(d&&w.exclude.indexOf(d.name)===-1){if(d.dependencies){for(var P=0;P<d.dependencies.length;P++)if(!C[d.dependencies[P]])throw new Error(Xn("{0} requires {1} to be loaded!",d.name,d.dependencies[P]))}var V=d.parent,oe=d.build.call(C);if(V){C[V]||(C[d.parent]={});var fe=V==="nerdamer"?this:C[V];fe[d.name]=oe}d.visible&&(h.functions[d.name]=[oe,d.numargs])}},Qn.validateName=vt,Qn.validVarName=function(d){try{return vt(d),Pt.indexOf(d)===-1}catch{return!1}},Qn.supported=function(){return ne(h.functions)},Qn.numEquations=Qn.numExpressions=function(){return Ze.length},Qn.setVar=function(d,C){return vt(d),d in h.CONSTANTS&&Xt("Cannot set value for constant "+d),C==="delete"||C===""?delete Ke[d]:Ke[d]=It(C)?C:h.parse(C),this},Qn.getVar=function(d){return Ke[d]},Qn.clearVars=function(){return Ke={},this},Qn.load=function(d){return d.call(this),this},Qn.getVars=function(d,C){d=d||"text";var P={};if(d==="object")P=Ke;else for(var V in Ke)d==="latex"?P[V]=Ke[V].latex(C):d==="text"&&(P[V]=Ke[V].text(C));return P},Qn.set=function(d,C){if(typeof d=="object")for(var P in d)Qn.set(P,d[P]);var V=["SAFE"];V.indexOf(d)!==-1&&Xt("Cannot modify setting: "+d),d==="PRECISION"?($.set({precision:C}),w.PRECISION=C,C>21&&this.set("USE_BIG",!0)):d==="USE_LN"&&C===!0?(w.LOG="LN",w.LOG10="log",h.functions.log=w.LOG_FNS.log10,h.functions.log[0]=function(oe){return oe.isConstant()?new me(Math.log10(oe)):h.symfunction(w.LOG10,[oe])},h.functions.LN=w.LOG_FNS.log,delete h.functions.log10):w[d]=C},Qn.get=function(d){return w[d]},Qn.updateAPI=function(d){var C=function(V){return function(){for(var oe=[].slice.call(arguments),fe=0;fe<oe.length;fe++)oe[fe]=h.parse(oe[fe]);return new ui(hr("PARSE2NUMBER",function(){return h.callfunction(V,oe)}))}};for(var P in h.functions)(!(P in Qn)||d)&&(Qn[P]=C(P))},Qn.replaceFunction=function(d,C,P){var V=h.functions[d],oe=typeof P>"u"?V[1]:P;h.functions[d]=[C.call(void 0,V[0],Ks),oe]},Qn.setOperator=function(d,C){h.setOperator(d,C)},Qn.getOperator=function(d){return h.getOperator(d)},Qn.aliasOperator=function(d,C){h.aliasOperator(d,C)},Qn.tree=function(d){return h.tree(h.toRPN(h.tokenize(d)))},Qn.htmlTree=function(d,C){var P=this.tree(d);return`<div class="tree">
    <ul>
        <li>
`+P.toHTML(3,C)+`
        </li>
    </ul>
</div>`},Qn.addPeeker=function(d,C){h.peekers[d]&&h.peekers[d].push(C)},Qn.removePeeker=function(d,C){Mn(h.peekers[d],C)},Qn.parse=function(d){return String(d).split(";").map(function(C){return h.parse(C)})},Qn.updateAPI(),Qn})({bigInt:(function(){var n=(function(a){var h=1e7,p=7,$=9007199254740992,_=F($),y=Math.log($);function E(O,ne){return typeof O>"u"?E[0]:typeof ne<"u"?+ne==10?rr(O):mr(O,ne):rr(O)}function w(O,ne){this.value=O,this.sign=ne,this.isSmall=!1}w.prototype=Object.create(E.prototype);function I(O){this.value=O,this.sign=O<0,this.isSmall=!0}I.prototype=Object.create(E.prototype);function H(O){return-$<O&&O<$}function F(O){return O<1e7?[O]:O<1e14?[O%1e7,Math.floor(O/1e7)]:[O%1e7,Math.floor(O/1e7)%1e7,Math.floor(O/1e14)]}function te(O){he(O);var ne=O.length;if(ne<4&&an(O,_)<0)switch(ne){case 0:return 0;case 1:return O[0];case 2:return O[0]+O[1]*h;default:return O[0]+(O[1]+O[2]*h)*h}return O}function he(O){for(var ne=O.length;O[--ne]===0;);O.length=ne+1}function ce(O){for(var ne=new Array(O),Ie=-1;++Ie<O;)ne[Ie]=0;return ne}function K(O){return O>0?Math.floor(O):Math.ceil(O)}function se(O,ne){var Ie=O.length,Be=ne.length,nt=new Array(Ie),Ye=0,yt=h,xt,L;for(L=0;L<Be;L++)xt=O[L]+ne[L]+Ye,Ye=xt>=yt?1:0,nt[L]=xt-Ye*yt;for(;L<Ie;)xt=O[L]+Ye,Ye=xt===yt?1:0,nt[L++]=xt-Ye*yt;return Ye>0&&nt.push(Ye),nt}function we(O,ne){return O.length>=ne.length?se(O,ne):se(ne,O)}function Oe(O,ne){var Ie=O.length,Be=new Array(Ie),nt=h,Ye,yt;for(yt=0;yt<Ie;yt++)Ye=O[yt]-nt+ne,ne=Math.floor(Ye/nt),Be[yt]=Ye-ne*nt,ne+=1;for(;ne>0;)Be[yt++]=ne%nt,ne=Math.floor(ne/nt);return Be}w.prototype.add=function(O){var ne=rr(O);if(this.sign!==ne.sign)return this.subtract(ne.negate());var Ie=this.value,Be=ne.value;return ne.isSmall?new w(Oe(Ie,Math.abs(Be)),this.sign):new w(we(Ie,Be),this.sign)},w.prototype.plus=w.prototype.add,I.prototype.add=function(O){var ne=rr(O),Ie=this.value;if(Ie<0!==ne.sign)return this.subtract(ne.negate());var Be=ne.value;if(ne.isSmall){if(H(Ie+Be))return new I(Ie+Be);Be=F(Math.abs(Be))}return new w(Oe(Be,Math.abs(Ie)),Ie<0)},I.prototype.plus=I.prototype.add;function De(O,ne){var Ie=O.length,Be=ne.length,nt=new Array(Ie),Ye=0,yt=h,xt,L;for(xt=0;xt<Be;xt++)L=O[xt]-Ye-ne[xt],L<0?(L+=yt,Ye=1):Ye=0,nt[xt]=L;for(xt=Be;xt<Ie;xt++){if(L=O[xt]-Ye,L<0)L+=yt;else{nt[xt++]=L;break}nt[xt]=L}for(;xt<Ie;xt++)nt[xt]=O[xt];return he(nt),nt}function Se(O,ne,Ie){var Be;return an(O,ne)>=0?Be=De(O,ne):(Be=De(ne,O),Ie=!Ie),Be=te(Be),typeof Be=="number"?(Ie&&(Be=-Be),new I(Be)):new w(Be,Ie)}function je(O,ne,Ie){var Be=O.length,nt=new Array(Be),Ye=-ne,yt=h,xt,L;for(xt=0;xt<Be;xt++)L=O[xt]+Ye,Ye=Math.floor(L/yt),L%=yt,nt[xt]=L<0?L+yt:L;return nt=te(nt),typeof nt=="number"?(Ie&&(nt=-nt),new I(nt)):new w(nt,Ie)}w.prototype.subtract=function(O){var ne=rr(O);if(this.sign!==ne.sign)return this.add(ne.negate());var Ie=this.value,Be=ne.value;return ne.isSmall?je(Ie,Math.abs(Be),this.sign):Se(Ie,Be,this.sign)},w.prototype.minus=w.prototype.subtract,I.prototype.subtract=function(O){var ne=rr(O),Ie=this.value;if(Ie<0!==ne.sign)return this.add(ne.negate());var Be=ne.value;return ne.isSmall?new I(Ie-Be):je(Be,Math.abs(Ie),Ie>=0)},I.prototype.minus=I.prototype.subtract,w.prototype.negate=function(){return new w(this.value,!this.sign)},I.prototype.negate=function(){var O=this.sign,ne=new I(-this.value);return ne.sign=!O,ne},w.prototype.abs=function(){return new w(this.value,!1)},I.prototype.abs=function(){return new I(Math.abs(this.value))};function at(O,ne){var Ie=O.length,Be=ne.length,nt=Ie+Be,Ye=ce(nt),yt=h,xt,L,ae,ze,Pe;for(ae=0;ae<Ie;++ae){ze=O[ae];for(var Dt=0;Dt<Be;++Dt)Pe=ne[Dt],xt=ze*Pe+Ye[ae+Dt],L=Math.floor(xt/yt),Ye[ae+Dt]=xt-L*yt,Ye[ae+Dt+1]+=L}return he(Ye),Ye}function Ze(O,ne){var Ie=O.length,Be=new Array(Ie),nt=h,Ye=0,yt,xt;for(xt=0;xt<Ie;xt++)yt=O[xt]*ne+Ye,Ye=Math.floor(yt/nt),Be[xt]=yt-Ye*nt;for(;Ye>0;)Be[xt++]=Ye%nt,Ye=Math.floor(Ye/nt);return Be}function Ke(O,ne){for(var Ie=[];ne-- >0;)Ie.push(0);return Ie.concat(O)}function Pt(O,ne){var Ie=Math.max(O.length,ne.length);if(Ie<=30)return at(O,ne);Ie=Math.ceil(Ie/2);var Be=O.slice(Ie),nt=O.slice(0,Ie),Ye=ne.slice(Ie),yt=ne.slice(0,Ie),xt=Pt(nt,yt),L=Pt(Be,Ye),ae=Pt(we(nt,Be),we(yt,Ye)),ze=we(we(xt,Ke(De(De(ae,xt),L),Ie)),Ke(L,2*Ie));return he(ze),ze}function Ve(O,ne){return-.012*O-.012*ne+15e-6*O*ne>0}w.prototype.multiply=function(O){var ne=rr(O),Ie=this.value,Be=ne.value,nt=this.sign!==ne.sign,Ye;if(ne.isSmall){if(Be===0)return E[0];if(Be===1)return this;if(Be===-1)return this.negate();if(Ye=Math.abs(Be),Ye<h)return new w(Ze(Ie,Ye),nt);Be=F(Ye)}return Ve(Ie.length,Be.length)?new w(Pt(Ie,Be),nt):new w(at(Ie,Be),nt)},w.prototype.times=w.prototype.multiply;function Xt(O,ne,Ie){return O<h?new w(Ze(ne,O),Ie):new w(at(ne,F(O)),Ie)}I.prototype._multiplyBySmall=function(O){return H(O.value*this.value)?new I(O.value*this.value):Xt(Math.abs(O.value),F(Math.abs(this.value)),this.sign!==O.sign)},w.prototype._multiplyBySmall=function(O){return O.value===0?E[0]:O.value===1?this:O.value===-1?this.negate():Xt(Math.abs(O.value),this.value,this.sign!==O.sign)},I.prototype.multiply=function(O){return rr(O)._multiplyBySmall(this)},I.prototype.times=I.prototype.multiply;function Lt(O){var ne=O.length,Ie=ce(ne+ne),Be=h,nt,Ye,yt,xt,L;for(yt=0;yt<ne;yt++){xt=O[yt],Ye=0-xt*xt;for(var ae=yt;ae<ne;ae++)L=O[ae],nt=2*(xt*L)+Ie[yt+ae]+Ye,Ye=Math.floor(nt/Be),Ie[yt+ae]=nt-Ye*Be;Ie[yt+ne]=Ye}return he(Ie),Ie}w.prototype.square=function(){return new w(Lt(this.value),!1)},I.prototype.square=function(){var O=this.value*this.value;return H(O)?new I(O):new w(Lt(F(Math.abs(this.value))),!1)};function Ot(O,ne){var Ie=O.length,Be=ne.length,nt=h,Ye=ce(ne.length),yt=ne[Be-1],xt=Math.ceil(nt/(2*yt)),L=Ze(O,xt),ae=Ze(ne,xt),ze,Pe,Dt,Sn,Ar,Y,ve;for(L.length<=Ie&&L.push(0),ae.push(0),yt=ae[Be-1],Pe=Ie-Be;Pe>=0;Pe--){for(ze=nt-1,L[Pe+Be]!==yt&&(ze=Math.floor((L[Pe+Be]*nt+L[Pe+Be-1])/yt)),Dt=0,Sn=0,Y=ae.length,Ar=0;Ar<Y;Ar++)Dt+=ze*ae[Ar],ve=Math.floor(Dt/nt),Sn+=L[Pe+Ar]-(Dt-ve*nt),Dt=ve,Sn<0?(L[Pe+Ar]=Sn+nt,Sn=-1):(L[Pe+Ar]=Sn,Sn=0);for(;Sn!==0;){for(ze-=1,Dt=0,Ar=0;Ar<Y;Ar++)Dt+=L[Pe+Ar]-nt+ae[Ar],Dt<0?(L[Pe+Ar]=Dt+nt,Dt=0):(L[Pe+Ar]=Dt,Dt=1);Sn+=Dt}Ye[Pe]=ze}return L=St(L,xt)[0],[te(Ye),te(L)]}function st(O,ne){for(var Ie=O.length,Be=ne.length,nt=[],Ye=[],yt=h,xt,L,ae,ze,Pe;Ie;){if(Ye.unshift(O[--Ie]),he(Ye),an(Ye,ne)<0){nt.push(0);continue}L=Ye.length,ae=Ye[L-1]*yt+Ye[L-2],ze=ne[Be-1]*yt+ne[Be-2],L>Be&&(ae=(ae+1)*yt),xt=Math.ceil(ae/ze);do{if(Pe=Ze(ne,xt),an(Pe,Ye)<=0)break;xt--}while(xt);nt.push(xt),Ye=De(Ye,Pe)}return nt.reverse(),[te(nt),te(Ye)]}function St(O,ne){var Ie=O.length,Be=ce(Ie),nt=h,Ye,yt,xt,L;for(xt=0,Ye=Ie-1;Ye>=0;--Ye)L=xt*nt+O[Ye],yt=K(L/ne),xt=L-yt*ne,Be[Ye]=yt|0;return[Be,xt|0]}function vt(O,ne){var Ie,Be=rr(ne),nt=O.value,Ye=Be.value,yt;if(Ye===0)throw new Error("Cannot divide by zero");if(O.isSmall)return Be.isSmall?[new I(K(nt/Ye)),new I(nt%Ye)]:[E[0],O];if(Be.isSmall){if(Ye===1)return[O,E[0]];if(Ye==-1)return[O.negate(),E[0]];var xt=Math.abs(Ye);if(xt<h){Ie=St(nt,xt),yt=te(Ie[0]);var L=Ie[1];return O.sign&&(L=-L),typeof yt=="number"?(O.sign!==Be.sign&&(yt=-yt),[new I(yt),new I(L)]):[new w(yt,O.sign!==Be.sign),new I(L)]}Ye=F(xt)}var ae=an(nt,Ye);if(ae===-1)return[E[0],O];if(ae===0)return[E[O.sign===Be.sign?1:-1],E[0]];nt.length+Ye.length<=200?Ie=Ot(nt,Ye):Ie=st(nt,Ye),yt=Ie[0];var ze=O.sign!==Be.sign,Pe=Ie[1],Dt=O.sign;return typeof yt=="number"?(ze&&(yt=-yt),yt=new I(yt)):yt=new w(yt,ze),typeof Pe=="number"?(Dt&&(Pe=-Pe),Pe=new I(Pe)):Pe=new w(Pe,Dt),[yt,Pe]}w.prototype.divmod=function(O){var ne=vt(this,O);return{quotient:ne[0],remainder:ne[1]}},I.prototype.divmod=w.prototype.divmod,w.prototype.divide=function(O){return vt(this,O)[0]},I.prototype.over=I.prototype.divide=w.prototype.over=w.prototype.divide,w.prototype.mod=function(O){return vt(this,O)[1]},I.prototype.remainder=I.prototype.mod=w.prototype.remainder=w.prototype.mod,w.prototype.pow=function(O){var ne=rr(O),Ie=this.value,Be=ne.value,nt,Ye,yt;if(Be===0)return E[1];if(Ie===0)return E[0];if(Ie===1)return E[1];if(Ie===-1)return ne.isEven()?E[1]:E[-1];if(ne.sign)return E[0];if(!ne.isSmall)throw new Error("The exponent "+ne.toString()+" is too large.");if(this.isSmall&&H(nt=Math.pow(Ie,Be)))return new I(K(nt));for(Ye=this,yt=E[1];Be&!0&&(yt=yt.times(Ye),--Be),Be!==0;)Be/=2,Ye=Ye.square();return yt},I.prototype.pow=w.prototype.pow,w.prototype.modPow=function(O,ne){if(O=rr(O),ne=rr(ne),ne.isZero())throw new Error("Cannot take modPow with modulus 0");for(var Ie=E[1],Be=this.mod(ne);O.isPositive();){if(Be.isZero())return E[0];O.isOdd()&&(Ie=Ie.multiply(Be).mod(ne)),O=O.divide(2),Be=Be.square().mod(ne)}return Ie},I.prototype.modPow=w.prototype.modPow;function an(O,ne){if(O.length!==ne.length)return O.length>ne.length?1:-1;for(var Ie=O.length-1;Ie>=0;Ie--)if(O[Ie]!==ne[Ie])return O[Ie]>ne[Ie]?1:-1;return 0}w.prototype.compareAbs=function(O){var ne=rr(O),Ie=this.value,Be=ne.value;return ne.isSmall?1:an(Ie,Be)},I.prototype.compareAbs=function(O){var ne=rr(O),Ie=Math.abs(this.value),Be=ne.value;return ne.isSmall?(Be=Math.abs(Be),Ie===Be?0:Ie>Be?1:-1):-1},w.prototype.compare=function(O){if(O===1/0)return-1;if(O===-1/0)return 1;var ne=rr(O),Ie=this.value,Be=ne.value;return this.sign!==ne.sign?ne.sign?1:-1:ne.isSmall?this.sign?-1:1:an(Ie,Be)*(this.sign?-1:1)},w.prototype.compareTo=w.prototype.compare,I.prototype.compare=function(O){if(O===1/0)return-1;if(O===-1/0)return 1;var ne=rr(O),Ie=this.value,Be=ne.value;return ne.isSmall?Ie==Be?0:Ie>Be?1:-1:Ie<0!==ne.sign?Ie<0?-1:1:Ie<0?1:-1},I.prototype.compareTo=I.prototype.compare,w.prototype.equals=function(O){return this.compare(O)===0},I.prototype.eq=I.prototype.equals=w.prototype.eq=w.prototype.equals,w.prototype.notEquals=function(O){return this.compare(O)!==0},I.prototype.neq=I.prototype.notEquals=w.prototype.neq=w.prototype.notEquals,w.prototype.greater=function(O){return this.compare(O)>0},I.prototype.gt=I.prototype.greater=w.prototype.gt=w.prototype.greater,w.prototype.lesser=function(O){return this.compare(O)<0},I.prototype.lt=I.prototype.lesser=w.prototype.lt=w.prototype.lesser,w.prototype.greaterOrEquals=function(O){return this.compare(O)>=0},I.prototype.geq=I.prototype.greaterOrEquals=w.prototype.geq=w.prototype.greaterOrEquals,w.prototype.lesserOrEquals=function(O){return this.compare(O)<=0},I.prototype.leq=I.prototype.lesserOrEquals=w.prototype.leq=w.prototype.lesserOrEquals,w.prototype.isEven=function(){return(this.value[0]&1)===0},I.prototype.isEven=function(){return(this.value&1)===0},w.prototype.isOdd=function(){return(this.value[0]&1)===1},I.prototype.isOdd=function(){return(this.value&1)===1},w.prototype.isPositive=function(){return!this.sign},I.prototype.isPositive=function(){return this.value>0},w.prototype.isNegative=function(){return this.sign},I.prototype.isNegative=function(){return this.value<0},w.prototype.isUnit=function(){return!1},I.prototype.isUnit=function(){return Math.abs(this.value)===1},w.prototype.isZero=function(){return!1},I.prototype.isZero=function(){return this.value===0},w.prototype.isDivisibleBy=function(O){var ne=rr(O),Ie=ne.value;return Ie===0?!1:Ie===1?!0:Ie===2?this.isEven():this.mod(ne).equals(E[0])},I.prototype.isDivisibleBy=w.prototype.isDivisibleBy;function de(O){var ne=O.abs();if(ne.isUnit())return!1;if(ne.equals(2)||ne.equals(3)||ne.equals(5))return!0;if(ne.isEven()||ne.isDivisibleBy(3)||ne.isDivisibleBy(5))return!1;if(ne.lesser(49))return!0}function Le(O,ne){for(var Ie=O.prev(),Be=Ie,nt=0,Ye,yt,xt;Be.isEven();)Be=Be.divide(2),nt++;e:for(yt=0;yt<ne.length;yt++)if(!O.lesser(ne[yt])&&(xt=n(ne[yt]).modPow(Be,O),!(xt.equals(E[1])||xt.equals(Ie)))){for(Ye=nt-1;Ye!=0;Ye--){if(xt=xt.square().mod(O),xt.isUnit())return!1;if(xt.equals(Ie))continue e}return!1}return!0}w.prototype.isPrime=function(O){var ne=de(this);if(ne!==a)return ne;var Ie=this.abs(),Be=Ie.bitLength();if(Be<=64)return Le(Ie,[2,325,9375,28178,450775,9780504,1795265022]);for(var nt=Math.log(2)*Be,Ye=Math.ceil(O===!0?2*Math.pow(nt,2):nt),yt=[],xt=0;xt<Ye;xt++)yt.push(n(xt+2));return Le(Ie,yt)},I.prototype.isPrime=w.prototype.isPrime,w.prototype.isProbablePrime=function(O){var ne=de(this);if(ne!==a)return ne;for(var Ie=this.abs(),Be=O===a?5:O,nt=[],Ye=0;Ye<Be;Ye++)nt.push(n.randBetween(2,Ie.minus(2)));return Le(Ie,nt)},I.prototype.isProbablePrime=w.prototype.isProbablePrime,w.prototype.modInv=function(O){for(var ne=n.zero,Ie=n.one,Be=rr(O),nt=this.abs(),Ye,yt,xt;!nt.equals(n.zero);)Ye=Be.divide(nt),yt=ne,xt=Be,ne=Ie,Be=nt,Ie=yt.subtract(Ye.multiply(Ie)),nt=xt.subtract(Ye.multiply(nt));if(!Be.equals(1))throw new Error(this.toString()+" and "+O.toString()+" are not co-prime");return ne.compare(0)===-1&&(ne=ne.add(O)),this.isNegative()?ne.negate():ne},I.prototype.modInv=w.prototype.modInv,w.prototype.next=function(){var O=this.value;return this.sign?je(O,1,this.sign):new w(Oe(O,1),this.sign)},I.prototype.next=function(){var O=this.value;return O+1<$?new I(O+1):new w(_,!1)},w.prototype.prev=function(){var O=this.value;return this.sign?new w(Oe(O,1),!0):je(O,1,this.sign)},I.prototype.prev=function(){var O=this.value;return O-1>-$?new I(O-1):new w(_,!0)};for(var tt=[1];2*tt[tt.length-1]<=h;)tt.push(2*tt[tt.length-1]);var _e=tt.length,Ft=tt[_e-1];function It(O){return(typeof O=="number"||typeof O=="string")&&+Math.abs(O)<=h||O instanceof w&&O.value.length<=1}w.prototype.shiftLeft=function(O){if(!It(O))throw new Error(String(O)+" is too large for shifting.");if(O=+O,O<0)return this.shiftRight(-O);var ne=this;if(ne.isZero())return ne;for(;O>=_e;)ne=ne.multiply(Ft),O-=_e-1;return ne.multiply(tt[O])},I.prototype.shiftLeft=w.prototype.shiftLeft,w.prototype.shiftRight=function(O){var ne;if(!It(O))throw new Error(String(O)+" is too large for shifting.");if(O=+O,O<0)return this.shiftLeft(-O);for(var Ie=this;O>=_e;){if(Ie.isZero()||Ie.isNegative()&&Ie.isUnit())return Ie;ne=vt(Ie,Ft),Ie=ne[1].isNegative()?ne[0].prev():ne[0],O-=_e-1}return ne=vt(Ie,tt[O]),ne[1].isNegative()?ne[0].prev():ne[0]},I.prototype.shiftRight=w.prototype.shiftRight;function Qt(O,ne,Ie){ne=rr(ne);for(var Be=O.isNegative(),nt=ne.isNegative(),Ye=Be?O.not():O,yt=nt?ne.not():ne,xt=0,L=0,ae=null,ze=null,Pe=[];!Ye.isZero()||!yt.isZero();)ae=vt(Ye,Ft),xt=ae[1].toJSNumber(),Be&&(xt=Ft-1-xt),ze=vt(yt,Ft),L=ze[1].toJSNumber(),nt&&(L=Ft-1-L),Ye=ae[0],yt=ze[0],Pe.push(Ie(xt,L));for(var Dt=Ie(Be?1:0,nt?1:0)!==0?n(-1):n(0),Sn=Pe.length-1;Sn>=0;Sn-=1)Dt=Dt.multiply(Ft).add(n(Pe[Sn]));return Dt}w.prototype.not=function(){return this.negate().prev()},I.prototype.not=w.prototype.not,w.prototype.and=function(O){return Qt(this,O,function(ne,Ie){return ne&Ie})},I.prototype.and=w.prototype.and,w.prototype.or=function(O){return Qt(this,O,function(ne,Ie){return ne|Ie})},I.prototype.or=w.prototype.or,w.prototype.xor=function(O){return Qt(this,O,function(ne,Ie){return ne^Ie})},I.prototype.xor=w.prototype.xor;var cn=1<<30,Hn=(h&-h)*(h&-h)|cn;function mn(O){var ne=O.value,Ie=typeof ne=="number"?ne|cn:ne[0]+ne[1]*h|Hn;return Ie&-Ie}function sn(O,ne){if(ne.compareTo(O)<=0){var Ie=sn(O,ne.square(ne)),Be=Ie.p,nt=Ie.e,Ye=Be.multiply(ne);return Ye.compareTo(O)<=0?{p:Ye,e:nt*2+1}:{p:Be,e:nt*2}}return{p:n(1),e:0}}w.prototype.bitLength=function(){var O=this;return O.compareTo(n(0))<0&&(O=O.negate().subtract(n(1))),O.compareTo(n(0))===0?n(0):n(sn(O,n(2)).e).add(n(1))},I.prototype.bitLength=w.prototype.bitLength;function qn(O,ne){return O=rr(O),ne=rr(ne),O.greater(ne)?O:ne}function ct(O,ne){return O=rr(O),ne=rr(ne),O.lesser(ne)?O:ne}function rn(O,ne){if(O=rr(O).abs(),ne=rr(ne).abs(),O.equals(ne))return O;if(O.isZero())return ne;if(ne.isZero())return O;for(var Ie=E[1],Be,nt;O.isEven()&&ne.isEven();)Be=Math.min(mn(O),mn(ne)),O=O.divide(Be),ne=ne.divide(Be),Ie=Ie.multiply(Be);for(;O.isEven();)O=O.divide(mn(O));do{for(;ne.isEven();)ne=ne.divide(mn(ne));O.greater(ne)&&(nt=ne,ne=O,O=nt),ne=ne.subtract(O)}while(!ne.isZero());return Ie.isUnit()?O:O.multiply(Ie)}function Br(O,ne){return O=rr(O).abs(),ne=rr(ne).abs(),O.divide(rn(O,ne)).multiply(ne)}function Zn(O,ne){O=rr(O),ne=rr(ne);var Ie=ct(O,ne),Be=qn(O,ne),nt=Be.subtract(Ie).add(1);if(nt.isSmall)return Ie.add(Math.floor(Math.random()*nt));for(var Ye=nt.value.length-1,yt=[],xt=!0,L=Ye;L>=0;L--){var ae=xt?nt.value[L]:h,ze=K(Math.random()*ae);yt.unshift(ze),ze<ae&&(xt=!1)}return yt=te(yt),Ie.add(typeof yt=="number"?new I(yt):new w(yt,!1))}var mr=function(O,ne){for(var Ie=O.length,Be,nt=Math.abs(ne),Be=0;Be<Ie;Be++){var Ye=O[Be].toLowerCase();if(Ye!=="-"&&/[a-z0-9]/.test(Ye)){if(/[0-9]/.test(Ye)&&+Ye>=nt){if(Ye==="1"&&nt===1)continue;throw new Error(Ye+" is not a valid digit in base "+ne+".")}else if(Ye.charCodeAt(0)-87>=nt)throw new Error(Ye+" is not a valid digit in base "+ne+".")}}if(2<=ne&&ne<=36&&Ie<=y/Math.log(ne)){var yt=parseInt(O,ne);if(isNaN(yt))throw new Error(Ye+" is not a valid digit in base "+ne+".");return new I(parseInt(O,ne))}ne=rr(ne);var xt=[],L=O[0]==="-";for(Be=L?1:0;Be<O.length;Be++){var Ye=O[Be].toLowerCase(),ae=Ye.charCodeAt(0);if(48<=ae&&ae<=57)xt.push(rr(Ye));else if(97<=ae&&ae<=122)xt.push(rr(Ye.charCodeAt(0)-87));else if(Ye==="<"){var ze=Be;do Be++;while(O[Be]!==">");xt.push(rr(O.slice(ze+1,Be)))}else throw new Error(Ye+" is not a valid character")}return un(xt,ne,L)};function un(O,ne,Ie){var Be=E[0],nt=E[1],Ye;for(Ye=O.length-1;Ye>=0;Ye--)Be=Be.add(O[Ye].times(nt)),nt=nt.times(ne);return Ie?Be.negate():Be}function $i(O){return O<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(O):"<"+O+">"}function wi(O,ne){if(ne=n(ne),ne.isZero()){if(O.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(ne.equals(-1)){if(O.isZero())return{value:[0],isNegative:!1};if(O.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-O)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var Ie=Array.apply(null,Array(+O-1)).map(Array.prototype.valueOf,[0,1]);return Ie.unshift([1]),{value:[].concat.apply([],Ie),isNegative:!1}}var Be=!1;if(O.isNegative()&&ne.isPositive()&&(Be=!0,O=O.abs()),ne.equals(1))return O.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+O)).map(Number.prototype.valueOf,1),isNegative:Be};for(var nt=[],Ye=O,yt;Ye.isNegative()||Ye.compareAbs(ne)>=0;){yt=Ye.divmod(ne),Ye=yt.quotient;var xt=yt.remainder;xt.isNegative()&&(xt=ne.minus(xt).abs(),Ye=Ye.next()),nt.push(xt.toJSNumber())}return nt.push(Ye.toJSNumber()),{value:nt.reverse(),isNegative:Be}}function nr(O,ne){var Ie=wi(O,ne);return(Ie.isNegative?"-":"")+Ie.value.map($i).join("")}w.prototype.toArray=function(O){return wi(this,O)},I.prototype.toArray=function(O){return wi(this,O)},w.prototype.toString=function(O){if(O===a&&(O=10),O!==10)return nr(this,O);for(var ne=this.value,Ie=ne.length,Be=String(ne[--Ie]),nt="0000000",Ye;--Ie>=0;)Ye=String(ne[Ie]),Be+=nt.slice(Ye.length)+Ye;var yt=this.sign?"-":"";return yt+Be},I.prototype.toString=function(O){return O===a&&(O=10),O!=10?nr(this,O):String(this.value)},w.prototype.toJSON=I.prototype.toJSON=function(){return this.toString()},w.prototype.valueOf=function(){return parseInt(this.toString(),10)},w.prototype.toJSNumber=w.prototype.valueOf,I.prototype.valueOf=function(){return this.value},I.prototype.toJSNumber=I.prototype.valueOf;function es(O){if(H(+O)){var ne=+O;if(ne===K(ne))return new I(ne);throw new Error("Invalid integer: "+O)}var Ie=O[0]==="-";Ie&&(O=O.slice(1));var Be=O.split(/e/i);if(Be.length>2)throw new Error("Invalid integer: "+Be.join("e"));if(Be.length===2){var nt=Be[1];if(nt[0]==="+"&&(nt=nt.slice(1)),nt=+nt,nt!==K(nt)||!H(nt))throw new Error("Invalid integer: "+nt+" is not a valid exponent.");var Ye=Be[0],yt=Ye.indexOf(".");if(yt>=0&&(nt-=Ye.length-yt-1,Ye=Ye.slice(0,yt)+Ye.slice(yt+1)),nt<0)throw new Error("Cannot include negative exponent part for integers");Ye+=new Array(nt+1).join("0"),O=Ye}var xt=/^([0-9][0-9]*)$/.test(O);if(!xt)throw new Error("Invalid integer: "+O);for(var L=[],ae=O.length,ze=p,Pe=ae-ze;ae>0;)L.push(+O.slice(Pe,ae)),Pe-=ze,Pe<0&&(Pe=0),ae-=ze;return he(L),new w(L,Ie)}function li(O){if(H(O)){if(O!==K(O))throw new Error(O+" is not an integer.");return new I(O)}return es(O.toString())}function rr(O){return typeof O=="number"?li(O):typeof O=="string"?es(O):O}for(var Xn=0;Xn<1e3;Xn++)E[Xn]=new I(Xn),Xn>0&&(E[-Xn]=new I(-Xn));return E.one=E[1],E.zero=E[0],E.minusOne=E[-1],E.max=qn,E.min=ct,E.gcd=rn,E.lcm=Br,E.isInstance=function(O){return O instanceof w||O instanceof I},E.randBetween=Zn,E.fromArray=function(O,ne,Ie){return un(O.map(rr),rr(ne||10),Ie)},E})();return r.hasOwnProperty("exports")&&(r.exports=n),n})(),bigDec:(function(n){var a,h,p,$,_=9e15,y=1e9,E="0123456789abcdef",w="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",I="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",H={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-_,maxE:_,crypto:!1},F=!0,te="[DecimalError] ",he=te+"Invalid argument: ",ce=te+"Precision limit exceeded",K=te+"crypto unavailable",se=Math.floor,we=Math.pow,Oe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,De=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Se=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,je=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,at=1e7,Ze=7,Ke=w.length-1,Pt=I.length-1,Ve={name:"[object Decimal]"};function Xt(x){var U,Z,J,ke=x.length-1,ee="",Ce=x[0];if(ke>0){for(ee+=Ce,U=1;U<ke;U++)J=x[U]+"",(Z=Ze-J.length)&&(ee+=Ft(Z)),ee+=J;Ce=x[U],(Z=Ze-(J=Ce+"").length)&&(ee+=Ft(Z))}else if(Ce===0)return"0";for(;Ce%10==0;)Ce/=10;return ee+Ce}function Lt(x,U,Z){if(x!==~~x||x<U||x>Z)throw Error(he+x)}function Ot(x,U,Z,J){var ke,ee,Ce,qe;for(ee=x[0];ee>=10;ee/=10)--U;return--U<0?(U+=Ze,ke=0):(ke=Math.ceil((U+1)/Ze),U%=Ze),ee=we(10,Ze-U),qe=x[ke]%ee|0,J==null?U<3?(U==0?qe=qe/100|0:U==1&&(qe=qe/10|0),Ce=Z<4&&qe==99999||Z>3&&qe==49999||qe==5e4||qe==0):Ce=(Z<4&&qe+1==ee||Z>3&&qe+1==ee/2)&&(x[ke+1]/ee/100|0)==we(10,U-2)-1||(qe==ee/2||qe==0)&&(x[ke+1]/ee/100|0)==0:U<4?(U==0?qe=qe/1e3|0:U==1?qe=qe/100|0:U==2&&(qe=qe/10|0),Ce=(J||Z<4)&&qe==9999||!J&&Z>3&&qe==4999):Ce=((J||Z<4)&&qe+1==ee||!J&&Z>3&&qe+1==ee/2)&&(x[ke+1]/ee/1e3|0)==we(10,U-3)-1,Ce}function st(x,U,Z){for(var J,ke,ee=[0],Ce=0,qe=x.length;Ce<qe;){for(ke=ee.length;ke--;)ee[ke]*=U;for(ee[0]+=E.indexOf(x.charAt(Ce++)),J=0;J<ee.length;J++)ee[J]>Z-1&&(ee[J+1]===void 0&&(ee[J+1]=0),ee[J+1]+=ee[J]/Z|0,ee[J]%=Z)}return ee.reverse()}Ve.absoluteValue=Ve.abs=function(){var x=new this.constructor(this);return x.s<0&&(x.s=1),vt(x)},Ve.ceil=function(){return vt(new this.constructor(this),this.e+1,2)},Ve.comparedTo=Ve.cmp=function(x){var U,Z,J,ke,ee=this,Ce=ee.d,qe=(x=new ee.constructor(x)).d,rt=ee.s,lt=x.s;if(!Ce||!qe)return rt&&lt?rt!==lt?rt:Ce===qe?0:!Ce^rt<0?1:-1:NaN;if(!Ce[0]||!qe[0])return Ce[0]?rt:qe[0]?-lt:0;if(rt!==lt)return rt;if(ee.e!==x.e)return ee.e>x.e^rt<0?1:-1;for(U=0,Z=(J=Ce.length)<(ke=qe.length)?J:ke;U<Z;++U)if(Ce[U]!==qe[U])return Ce[U]>qe[U]^rt<0?1:-1;return J===ke?0:J>ke^rt<0?1:-1},Ve.cosine=Ve.cos=function(){var x,U,Z=this,J=Z.constructor;return Z.d?Z.d[0]?(x=J.precision,U=J.rounding,J.precision=x+Math.max(Z.e,Z.sd())+Ze,J.rounding=1,Z=(function(ke,ee){var Ce,qe,rt=ee.d.length;rt<32?(Ce=Math.ceil(rt/3),qe=(1/Br(4,Ce)).toString()):(Ce=16,qe="2.3283064365386962890625e-10"),ke.precision+=Ce,ee=rn(ke,1,ee.times(qe),new ke(1));for(var lt=Ce;lt--;){var ie=ee.times(ee);ee=ie.times(ie).minus(ie).times(8).plus(1)}return ke.precision-=Ce,ee})(J,Zn(J,Z)),J.precision=x,J.rounding=U,vt($==2||$==3?Z.neg():Z,x,U,!0)):new J(1):new J(NaN)},Ve.cubeRoot=Ve.cbrt=function(){var x,U,Z,J,ke,ee,Ce,qe,rt,lt,ie=this,Bt=ie.constructor;if(!ie.isFinite()||ie.isZero())return new Bt(ie);for(F=!1,(ee=ie.s*we(ie.s*ie,.3333333333333333))&&Math.abs(ee)!=1/0?J=new Bt(ee.toString()):(Z=Xt(ie.d),(ee=((x=ie.e)-Z.length+1)%3)&&(Z+=ee==1||ee==-2?"0":"00"),ee=we(Z,.3333333333333333),x=se((x+1)/3)-(x%3==(x<0?-1:2)),(J=new Bt(Z=ee==1/0?"5e"+x:(Z=ee.toExponential()).slice(0,Z.indexOf("e")+1)+x)).s=ie.s),Ce=(x=Bt.precision)+3;;)if(lt=(rt=(qe=J).times(qe).times(qe)).plus(ie),J=St(lt.plus(ie).times(qe),lt.plus(rt),Ce+2,1),Xt(qe.d).slice(0,Ce)===(Z=Xt(J.d)).slice(0,Ce)){if((Z=Z.slice(Ce-3,Ce+1))!="9999"&&(ke||Z!="4999")){+Z&&(+Z.slice(1)||Z.charAt(0)!="5")||(vt(J,x+1,1),U=!J.times(J).times(J).eq(ie));break}if(!ke&&(vt(qe,x+1,0),qe.times(qe).times(qe).eq(ie))){J=qe;break}Ce+=4,ke=1}return F=!0,vt(J,x,Bt.rounding,U)},Ve.decimalPlaces=Ve.dp=function(){var x,U=this.d,Z=NaN;if(U){if(Z=((x=U.length-1)-se(this.e/Ze))*Ze,x=U[x])for(;x%10==0;x/=10)Z--;Z<0&&(Z=0)}return Z},Ve.dividedBy=Ve.div=function(x){return St(this,new this.constructor(x))},Ve.dividedToIntegerBy=Ve.divToInt=function(x){var U=this.constructor;return vt(St(this,new U(x),0,1,1),U.precision,U.rounding)},Ve.equals=Ve.eq=function(x){return this.cmp(x)===0},Ve.floor=function(){return vt(new this.constructor(this),this.e+1,3)},Ve.greaterThan=Ve.gt=function(x){return this.cmp(x)>0},Ve.greaterThanOrEqualTo=Ve.gte=function(x){var U=this.cmp(x);return U==1||U===0},Ve.hyperbolicCosine=Ve.cosh=function(){var x,U,Z,J,ke,ee=this,Ce=ee.constructor,qe=new Ce(1);if(!ee.isFinite())return new Ce(ee.s?1/0:NaN);if(ee.isZero())return qe;Z=Ce.precision,J=Ce.rounding,Ce.precision=Z+Math.max(ee.e,ee.sd())+4,Ce.rounding=1,(ke=ee.d.length)<32?U=(1/Br(4,x=Math.ceil(ke/3))).toString():(x=16,U="2.3283064365386962890625e-10"),ee=rn(Ce,1,ee.times(U),new Ce(1),!0);for(var rt,lt=x,ie=new Ce(8);lt--;)rt=ee.times(ee),ee=qe.minus(rt.times(ie.minus(rt.times(ie))));return vt(ee,Ce.precision=Z,Ce.rounding=J,!0)},Ve.hyperbolicSine=Ve.sinh=function(){var x,U,Z,J,ke=this,ee=ke.constructor;if(!ke.isFinite()||ke.isZero())return new ee(ke);if(U=ee.precision,Z=ee.rounding,ee.precision=U+Math.max(ke.e,ke.sd())+4,ee.rounding=1,(J=ke.d.length)<3)ke=rn(ee,2,ke,ke,!0);else{x=(x=1.4*Math.sqrt(J))>16?16:0|x,ke=rn(ee,2,ke=ke.times(1/Br(5,x)),ke,!0);for(var Ce,qe=new ee(5),rt=new ee(16),lt=new ee(20);x--;)Ce=ke.times(ke),ke=ke.times(qe.plus(Ce.times(rt.times(Ce).plus(lt))))}return ee.precision=U,ee.rounding=Z,vt(ke,U,Z,!0)},Ve.hyperbolicTangent=Ve.tanh=function(){var x,U,Z=this,J=Z.constructor;return Z.isFinite()?Z.isZero()?new J(Z):(x=J.precision,U=J.rounding,J.precision=x+7,J.rounding=1,St(Z.sinh(),Z.cosh(),J.precision=x,J.rounding=U)):new J(Z.s)},Ve.inverseCosine=Ve.acos=function(){var x,U=this,Z=U.constructor,J=U.abs().cmp(1),ke=Z.precision,ee=Z.rounding;return J!==-1?J===0?U.isNeg()?tt(Z,ke,ee):new Z(0):new Z(NaN):U.isZero()?tt(Z,ke+4,ee).times(.5):(Z.precision=ke+6,Z.rounding=1,U=U.asin(),x=tt(Z,ke+4,ee).times(.5),Z.precision=ke,Z.rounding=ee,x.minus(U))},Ve.inverseHyperbolicCosine=Ve.acosh=function(){var x,U,Z=this,J=Z.constructor;return Z.lte(1)?new J(Z.eq(1)?0:NaN):Z.isFinite()?(x=J.precision,U=J.rounding,J.precision=x+Math.max(Math.abs(Z.e),Z.sd())+4,J.rounding=1,F=!1,Z=Z.times(Z).minus(1).sqrt().plus(Z),F=!0,J.precision=x,J.rounding=U,Z.ln()):new J(Z)},Ve.inverseHyperbolicSine=Ve.asinh=function(){var x,U,Z=this,J=Z.constructor;return!Z.isFinite()||Z.isZero()?new J(Z):(x=J.precision,U=J.rounding,J.precision=x+2*Math.max(Math.abs(Z.e),Z.sd())+6,J.rounding=1,F=!1,Z=Z.times(Z).plus(1).sqrt().plus(Z),F=!0,J.precision=x,J.rounding=U,Z.ln())},Ve.inverseHyperbolicTangent=Ve.atanh=function(){var x,U,Z,J,ke=this,ee=ke.constructor;return ke.isFinite()?ke.e>=0?new ee(ke.abs().eq(1)?ke.s/0:ke.isZero()?ke:NaN):(x=ee.precision,U=ee.rounding,J=ke.sd(),Math.max(J,x)<2*-ke.e-1?vt(new ee(ke),x,U,!0):(ee.precision=Z=J-ke.e,ke=St(ke.plus(1),new ee(1).minus(ke),Z+x,1),ee.precision=x+4,ee.rounding=1,ke=ke.ln(),ee.precision=x,ee.rounding=U,ke.times(.5))):new ee(NaN)},Ve.inverseSine=Ve.asin=function(){var x,U,Z,J,ke=this,ee=ke.constructor;return ke.isZero()?new ee(ke):(U=ke.abs().cmp(1),Z=ee.precision,J=ee.rounding,U!==-1?U===0?((x=tt(ee,Z+4,J).times(.5)).s=ke.s,x):new ee(NaN):(ee.precision=Z+6,ee.rounding=1,ke=ke.div(new ee(1).minus(ke.times(ke)).sqrt().plus(1)).atan(),ee.precision=Z,ee.rounding=J,ke.times(2)))},Ve.inverseTangent=Ve.atan=function(){var x,U,Z,J,ke,ee,Ce,qe,rt,lt=this,ie=lt.constructor,Bt=ie.precision,Ae=ie.rounding;if(lt.isFinite()){if(lt.isZero())return new ie(lt);if(lt.abs().eq(1)&&Bt+4<=Pt)return(Ce=tt(ie,Bt+4,Ae).times(.25)).s=lt.s,Ce}else{if(!lt.s)return new ie(NaN);if(Bt+4<=Pt)return(Ce=tt(ie,Bt+4,Ae).times(.5)).s=lt.s,Ce}for(ie.precision=qe=Bt+10,ie.rounding=1,x=Z=Math.min(28,qe/Ze+2|0);x;--x)lt=lt.div(lt.times(lt).plus(1).sqrt().plus(1));for(F=!1,U=Math.ceil(qe/Ze),J=1,rt=lt.times(lt),Ce=new ie(lt),ke=lt;x!==-1;)if(ke=ke.times(rt),ee=Ce.minus(ke.div(J+=2)),ke=ke.times(rt),(Ce=ee.plus(ke.div(J+=2))).d[U]!==void 0)for(x=U;Ce.d[x]===ee.d[x]&&x--;);return Z&&(Ce=Ce.times(2<<Z-1)),F=!0,vt(Ce,ie.precision=Bt,ie.rounding=Ae,!0)},Ve.isFinite=function(){return!!this.d},Ve.isInteger=Ve.isInt=function(){return!!this.d&&se(this.e/Ze)>this.d.length-2},Ve.isNaN=function(){return!this.s},Ve.isNegative=Ve.isNeg=function(){return this.s<0},Ve.isPositive=Ve.isPos=function(){return this.s>0},Ve.isZero=function(){return!!this.d&&this.d[0]===0},Ve.lessThan=Ve.lt=function(x){return this.cmp(x)<0},Ve.lessThanOrEqualTo=Ve.lte=function(x){return this.cmp(x)<1},Ve.logarithm=Ve.log=function(x){var U,Z,J,ke,ee,Ce,qe,rt,lt=this.constructor,ie=lt.precision,Bt=lt.rounding;if(x==null)x=new lt(10),U=!0;else{if(Z=(x=new lt(x)).d,x.s<0||!Z||!Z[0]||x.eq(1))return new lt(NaN);U=x.eq(10)}if(Z=this.d,this.s<0||!Z||!Z[0]||this.eq(1))return new lt(Z&&!Z[0]?-1/0:this.s!=1?NaN:Z?0:1/0);if(U)if(Z.length>1)ee=!0;else{for(ke=Z[0];ke%10==0;)ke/=10;ee=ke!==1}if(F=!1,Ce=mn(this,qe=ie+5),J=U?Le(lt,qe+10):mn(x,qe),Ot((rt=St(Ce,J,qe,1)).d,ke=ie,Bt))do if(Ce=mn(this,qe+=10),J=U?Le(lt,qe+10):mn(x,qe),rt=St(Ce,J,qe,1),!ee){+Xt(rt.d).slice(ke+1,ke+15)+1==1e14&&(rt=vt(rt,ie+1,0));break}while(Ot(rt.d,ke+=10,Bt));return F=!0,vt(rt,ie,Bt)},Ve.minus=Ve.sub=function(x){var U,Z,J,ke,ee,Ce,qe,rt,lt,ie,Bt,Ae,In=this,On=In.constructor;if(x=new On(x),!In.d||!x.d)return In.s&&x.s?In.d?x.s=-x.s:x=new On(x.d||In.s!==x.s?In:NaN):x=new On(NaN),x;if(In.s!=x.s)return x.s=-x.s,In.plus(x);if(lt=In.d,Ae=x.d,qe=On.precision,rt=On.rounding,!lt[0]||!Ae[0]){if(Ae[0])x.s=-x.s;else{if(!lt[0])return new On(rt===3?-0:0);x=new On(In)}return F?vt(x,qe,rt):x}if(Z=se(x.e/Ze),ie=se(In.e/Ze),lt=lt.slice(),ee=ie-Z){for((Bt=ee<0)?(U=lt,ee=-ee,Ce=Ae.length):(U=Ae,Z=ie,Ce=lt.length),ee>(J=Math.max(Math.ceil(qe/Ze),Ce)+2)&&(ee=J,U.length=1),U.reverse(),J=ee;J--;)U.push(0);U.reverse()}else{for((Bt=(J=lt.length)<(Ce=Ae.length))&&(Ce=J),J=0;J<Ce;J++)if(lt[J]!=Ae[J]){Bt=lt[J]<Ae[J];break}ee=0}for(Bt&&(U=lt,lt=Ae,Ae=U,x.s=-x.s),Ce=lt.length,J=Ae.length-Ce;J>0;--J)lt[Ce++]=0;for(J=Ae.length;J>ee;){if(lt[--J]<Ae[J]){for(ke=J;ke&&lt[--ke]===0;)lt[ke]=at-1;--lt[ke],lt[J]+=at}lt[J]-=Ae[J]}for(;lt[--Ce]===0;)lt.pop();for(;lt[0]===0;lt.shift())--Z;return lt[0]?(x.d=lt,x.e=de(lt,Z),F?vt(x,qe,rt):x):new On(rt===3?-0:0)},Ve.modulo=Ve.mod=function(x){var U,Z=this,J=Z.constructor;return x=new J(x),!Z.d||!x.s||x.d&&!x.d[0]?new J(NaN):!x.d||Z.d&&!Z.d[0]?vt(new J(Z),J.precision,J.rounding):(F=!1,J.modulo==9?(U=St(Z,x.abs(),0,3,1)).s*=x.s:U=St(Z,x,0,J.modulo,1),U=U.times(x),F=!0,Z.minus(U))},Ve.naturalExponential=Ve.exp=function(){return Hn(this)},Ve.naturalLogarithm=Ve.ln=function(){return mn(this)},Ve.negated=Ve.neg=function(){var x=new this.constructor(this);return x.s=-x.s,vt(x)},Ve.plus=Ve.add=function(x){var U,Z,J,ke,ee,Ce,qe,rt,lt,ie,Bt=this,Ae=Bt.constructor;if(x=new Ae(x),!Bt.d||!x.d)return Bt.s&&x.s?Bt.d||(x=new Ae(x.d||Bt.s===x.s?Bt:NaN)):x=new Ae(NaN),x;if(Bt.s!=x.s)return x.s=-x.s,Bt.minus(x);if(lt=Bt.d,ie=x.d,qe=Ae.precision,rt=Ae.rounding,!lt[0]||!ie[0])return ie[0]||(x=new Ae(Bt)),F?vt(x,qe,rt):x;if(ee=se(Bt.e/Ze),J=se(x.e/Ze),lt=lt.slice(),ke=ee-J){for(ke<0?(Z=lt,ke=-ke,Ce=ie.length):(Z=ie,J=ee,Ce=lt.length),ke>(Ce=(ee=Math.ceil(qe/Ze))>Ce?ee+1:Ce+1)&&(ke=Ce,Z.length=1),Z.reverse();ke--;)Z.push(0);Z.reverse()}for((Ce=lt.length)-(ke=ie.length)<0&&(ke=Ce,Z=ie,ie=lt,lt=Z),U=0;ke;)U=(lt[--ke]=lt[ke]+ie[ke]+U)/at|0,lt[ke]%=at;for(U&&(lt.unshift(U),++J),Ce=lt.length;lt[--Ce]==0;)lt.pop();return x.d=lt,x.e=de(lt,J),F?vt(x,qe,rt):x},Ve.precision=Ve.sd=function(x){var U,Z=this;if(x!==void 0&&x!==!!x&&x!==1&&x!==0)throw Error(he+x);return Z.d?(U=_e(Z.d),x&&Z.e+1>U&&(U=Z.e+1)):U=NaN,U},Ve.round=function(){var x=this,U=x.constructor;return vt(new U(x),x.e+1,U.rounding)},Ve.sine=Ve.sin=function(){var x,U,Z=this,J=Z.constructor;return Z.isFinite()?Z.isZero()?new J(Z):(x=J.precision,U=J.rounding,J.precision=x+Math.max(Z.e,Z.sd())+Ze,J.rounding=1,Z=(function(ke,ee){var Ce,qe=ee.d.length;if(qe<3)return rn(ke,2,ee,ee);Ce=(Ce=1.4*Math.sqrt(qe))>16?16:0|Ce,ee=ee.times(1/Br(5,Ce)),ee=rn(ke,2,ee,ee);for(var rt,lt=new ke(5),ie=new ke(16),Bt=new ke(20);Ce--;)rt=ee.times(ee),ee=ee.times(lt.plus(rt.times(ie.times(rt).minus(Bt))));return ee})(J,Zn(J,Z)),J.precision=x,J.rounding=U,vt($>2?Z.neg():Z,x,U,!0)):new J(NaN)},Ve.squareRoot=Ve.sqrt=function(){var x,U,Z,J,ke,ee,Ce=this,qe=Ce.d,rt=Ce.e,lt=Ce.s,ie=Ce.constructor;if(lt!==1||!qe||!qe[0])return new ie(!lt||lt<0&&(!qe||qe[0])?NaN:qe?Ce:1/0);for(F=!1,(lt=Math.sqrt(+Ce))==0||lt==1/0?(((U=Xt(qe)).length+rt)%2==0&&(U+="0"),lt=Math.sqrt(U),rt=se((rt+1)/2)-(rt<0||rt%2),J=new ie(U=lt==1/0?"5e"+rt:(U=lt.toExponential()).slice(0,U.indexOf("e")+1)+rt)):J=new ie(lt.toString()),Z=(rt=ie.precision)+3;;)if(J=(ee=J).plus(St(Ce,ee,Z+2,1)).times(.5),Xt(ee.d).slice(0,Z)===(U=Xt(J.d)).slice(0,Z)){if((U=U.slice(Z-3,Z+1))!="9999"&&(ke||U!="4999")){+U&&(+U.slice(1)||U.charAt(0)!="5")||(vt(J,rt+1,1),x=!J.times(J).eq(Ce));break}if(!ke&&(vt(ee,rt+1,0),ee.times(ee).eq(Ce))){J=ee;break}Z+=4,ke=1}return F=!0,vt(J,rt,ie.rounding,x)},Ve.tangent=Ve.tan=function(){var x,U,Z=this,J=Z.constructor;return Z.isFinite()?Z.isZero()?new J(Z):(x=J.precision,U=J.rounding,J.precision=x+10,J.rounding=1,(Z=Z.sin()).s=1,Z=St(Z,new J(1).minus(Z.times(Z)).sqrt(),x+10,0),J.precision=x,J.rounding=U,vt($==2||$==4?Z.neg():Z,x,U,!0)):new J(NaN)},Ve.times=Ve.mul=function(x){var U,Z,J,ke,ee,Ce,qe,rt,lt,ie=this,Bt=ie.constructor,Ae=ie.d,In=(x=new Bt(x)).d;if(x.s*=ie.s,!(Ae&&Ae[0]&&In&&In[0]))return new Bt(!x.s||Ae&&!Ae[0]&&!In||In&&!In[0]&&!Ae?NaN:Ae&&In?0*x.s:x.s/0);for(Z=se(ie.e/Ze)+se(x.e/Ze),(rt=Ae.length)<(lt=In.length)&&(ee=Ae,Ae=In,In=ee,Ce=rt,rt=lt,lt=Ce),ee=[],J=Ce=rt+lt;J--;)ee.push(0);for(J=lt;--J>=0;){for(U=0,ke=rt+J;ke>J;)qe=ee[ke]+In[J]*Ae[ke-J-1]+U,ee[ke--]=qe%at|0,U=qe/at|0;ee[ke]=(ee[ke]+U)%at|0}for(;!ee[--Ce];)ee.pop();return U?++Z:ee.shift(),x.d=ee,x.e=de(ee,Z),F?vt(x,Bt.precision,Bt.rounding):x},Ve.toBinary=function(x,U){return mr(this,2,x,U)},Ve.toDecimalPlaces=Ve.toDP=function(x,U){var Z=this,J=Z.constructor;return Z=new J(Z),x===void 0?Z:(Lt(x,0,y),U===void 0?U=J.rounding:Lt(U,0,8),vt(Z,x+Z.e+1,U))},Ve.toExponential=function(x,U){var Z,J=this,ke=J.constructor;return x===void 0?Z=an(J,!0):(Lt(x,0,y),U===void 0?U=ke.rounding:Lt(U,0,8),Z=an(J=vt(new ke(J),x+1,U),!0,x+1)),J.isNeg()&&!J.isZero()?"-"+Z:Z},Ve.toFixed=function(x,U){var Z,J,ke=this,ee=ke.constructor;return x===void 0?Z=an(ke):(Lt(x,0,y),U===void 0?U=ee.rounding:Lt(U,0,8),Z=an(J=vt(new ee(ke),x+ke.e+1,U),!1,x+J.e+1)),ke.isNeg()&&!ke.isZero()?"-"+Z:Z},Ve.toFraction=function(x){var U,Z,J,ke,ee,Ce,qe,rt,lt,ie,Bt,Ae,In=this,On=In.d,Pr=In.constructor;if(!On)return new Pr(In);if(lt=Z=new Pr(1),J=rt=new Pr(0),Ce=(ee=(U=new Pr(J)).e=_e(On)-In.e-1)%Ze,U.d[0]=we(10,Ce<0?Ze+Ce:Ce),x==null)x=ee>0?U:lt;else{if(!(qe=new Pr(x)).isInt()||qe.lt(lt))throw Error(he+qe);x=qe.gt(U)?ee>0?U:lt:qe}for(F=!1,qe=new Pr(Xt(On)),ie=Pr.precision,Pr.precision=ee=On.length*Ze*2;Bt=St(qe,U,0,1,1),(ke=Z.plus(Bt.times(J))).cmp(x)!=1;)Z=J,J=ke,ke=lt,lt=rt.plus(Bt.times(ke)),rt=ke,ke=U,U=qe.minus(Bt.times(ke)),qe=ke;return ke=St(x.minus(Z),J,0,1,1),rt=rt.plus(ke.times(lt)),Z=Z.plus(ke.times(J)),rt.s=lt.s=In.s,Ae=St(lt,J,ee,1).minus(In).abs().cmp(St(rt,Z,ee,1).minus(In).abs())<1?[lt,J]:[rt,Z],Pr.precision=ie,F=!0,Ae},Ve.toHexadecimal=Ve.toHex=function(x,U){return mr(this,16,x,U)},Ve.toNearest=function(x,U){var Z=this,J=Z.constructor;if(Z=new J(Z),x==null){if(!Z.d)return Z;x=new J(1),U=J.rounding}else{if(x=new J(x),U===void 0?U=J.rounding:Lt(U,0,8),!Z.d)return x.s?Z:x;if(!x.d)return x.s&&(x.s=Z.s),x}return x.d[0]?(F=!1,Z=St(Z,x,0,U,1).times(x),F=!0,vt(Z)):(x.s=Z.s,Z=x),Z},Ve.toNumber=function(){return+this},Ve.toOctal=function(x,U){return mr(this,8,x,U)},Ve.toPower=Ve.pow=function(x){var U,Z,J,ke,ee,Ce,qe=this,rt=qe.constructor,lt=+(x=new rt(x));if(!(qe.d&&x.d&&qe.d[0]&&x.d[0]))return new rt(we(+qe,lt));if((qe=new rt(qe)).eq(1))return qe;if(J=rt.precision,ee=rt.rounding,x.eq(1))return vt(qe,J,ee);if((U=se(x.e/Ze))>=x.d.length-1&&(Z=lt<0?-lt:lt)<=9007199254740991)return ke=It(rt,qe,Z,J),x.s<0?new rt(1).div(ke):vt(ke,J,ee);if((Ce=qe.s)<0){if(U<x.d.length-1)return new rt(NaN);if((1&x.d[U])==0&&(Ce=1),qe.e==0&&qe.d[0]==1&&qe.d.length==1)return qe.s=Ce,qe}return(U=(Z=we(+qe,lt))!=0&&isFinite(Z)?new rt(Z+"").e:se(lt*(Math.log("0."+Xt(qe.d))/Math.LN10+qe.e+1)))>rt.maxE+1||U<rt.minE-1?new rt(U>0?Ce/0:0):(F=!1,rt.rounding=qe.s=1,Z=Math.min(12,(U+"").length),(ke=Hn(x.times(mn(qe,J+Z)),J)).d&&Ot((ke=vt(ke,J+5,1)).d,J,ee)&&(U=J+10,+Xt((ke=vt(Hn(x.times(mn(qe,U+Z)),U),U+5,1)).d).slice(J+1,J+15)+1==1e14&&(ke=vt(ke,J+1,0))),ke.s=Ce,F=!0,rt.rounding=ee,vt(ke,J,ee))},Ve.toPrecision=function(x,U){var Z,J=this,ke=J.constructor;return x===void 0?Z=an(J,J.e<=ke.toExpNeg||J.e>=ke.toExpPos):(Lt(x,1,y),U===void 0?U=ke.rounding:Lt(U,0,8),Z=an(J=vt(new ke(J),x,U),x<=J.e||J.e<=ke.toExpNeg,x)),J.isNeg()&&!J.isZero()?"-"+Z:Z},Ve.toSignificantDigits=Ve.toSD=function(x,U){var Z=this.constructor;return x===void 0?(x=Z.precision,U=Z.rounding):(Lt(x,1,y),U===void 0?U=Z.rounding:Lt(U,0,8)),vt(new Z(this),x,U)},Ve.toString=function(){var x=this,U=x.constructor,Z=an(x,x.e<=U.toExpNeg||x.e>=U.toExpPos);return x.isNeg()&&!x.isZero()?"-"+Z:Z},Ve.truncated=Ve.trunc=function(){return vt(new this.constructor(this),this.e+1,1)},Ve.valueOf=Ve.toJSON=function(){var x=this,U=x.constructor,Z=an(x,x.e<=U.toExpNeg||x.e>=U.toExpPos);return x.isNeg()?"-"+Z:Z};var St=(function(){function x(J,ke,ee){var Ce,qe=0,rt=J.length;for(J=J.slice();rt--;)Ce=J[rt]*ke+qe,J[rt]=Ce%ee|0,qe=Ce/ee|0;return qe&&J.unshift(qe),J}function U(J,ke,ee,Ce){var qe,rt;if(ee!=Ce)rt=ee>Ce?1:-1;else for(qe=rt=0;qe<ee;qe++)if(J[qe]!=ke[qe]){rt=J[qe]>ke[qe]?1:-1;break}return rt}function Z(J,ke,ee,Ce){for(var qe=0;ee--;)J[ee]-=qe,qe=J[ee]<ke[ee]?1:0,J[ee]=qe*Ce+J[ee]-ke[ee];for(;!J[0]&&J.length>1;)J.shift()}return function(J,ke,ee,Ce,qe,rt){var lt,ie,Bt,Ae,In,On,Pr,pr,Pn,ns,ai,$n,kr,Rs,ui,Or,tn,me,Ni,ms,gr=J.constructor,Fr=J.s==ke.s?1:-1,_n=J.d,sr=ke.d;if(!(_n&&_n[0]&&sr&&sr[0]))return new gr(J.s&&ke.s&&(_n?!sr||_n[0]!=sr[0]:sr)?_n&&_n[0]==0||!sr?0*Fr:Fr/0:NaN);for(rt?(In=1,ie=J.e-ke.e):(rt=at,In=Ze,ie=se(J.e/In)-se(ke.e/In)),Ni=sr.length,tn=_n.length,ns=(Pn=new gr(Fr)).d=[],Bt=0;sr[Bt]==(_n[Bt]||0);Bt++);if(sr[Bt]>(_n[Bt]||0)&&ie--,ee==null?(Rs=ee=gr.precision,Ce=gr.rounding):Rs=qe?ee+(J.e-ke.e)+1:ee,Rs<0)ns.push(1),On=!0;else{if(Rs=Rs/In+2|0,Bt=0,Ni==1){for(Ae=0,sr=sr[0],Rs++;(Bt<tn||Ae)&&Rs--;Bt++)ui=Ae*rt+(_n[Bt]||0),ns[Bt]=ui/sr|0,Ae=ui%sr|0;On=Ae||Bt<tn}else{for((Ae=rt/(sr[0]+1)|0)>1&&(sr=x(sr,Ae,rt),_n=x(_n,Ae,rt),Ni=sr.length,tn=_n.length),Or=Ni,$n=(ai=_n.slice(0,Ni)).length;$n<Ni;)ai[$n++]=0;(ms=sr.slice()).unshift(0),me=sr[0],sr[1]>=rt/2&&++me;do Ae=0,(lt=U(sr,ai,Ni,$n))<0?(kr=ai[0],Ni!=$n&&(kr=kr*rt+(ai[1]||0)),(Ae=kr/me|0)>1?(Ae>=rt&&(Ae=rt-1),(lt=U(Pr=x(sr,Ae,rt),ai,pr=Pr.length,$n=ai.length))==1&&(Ae--,Z(Pr,Ni<pr?ms:sr,pr,rt))):(Ae==0&&(lt=Ae=1),Pr=sr.slice()),(pr=Pr.length)<$n&&Pr.unshift(0),Z(ai,Pr,$n,rt),lt==-1&&(lt=U(sr,ai,Ni,$n=ai.length))<1&&(Ae++,Z(ai,Ni<$n?ms:sr,$n,rt)),$n=ai.length):lt===0&&(Ae++,ai=[0]),ns[Bt++]=Ae,lt&&ai[0]?ai[$n++]=_n[Or]||0:(ai=[_n[Or]],$n=1);while((Or++<tn||ai[0]!==void 0)&&Rs--);On=ai[0]!==void 0}ns[0]||ns.shift()}if(In==1)Pn.e=ie,h=On;else{for(Bt=1,Ae=ns[0];Ae>=10;Ae/=10)Bt++;Pn.e=Bt+ie*In-1,vt(Pn,qe?ee+Pn.e+1:ee,Ce,On)}return Pn}})();function vt(x,U,Z,J){var ke,ee,Ce,qe,rt,lt,ie,Bt,Ae,In=x.constructor;e:if(U!=null){if(!(Bt=x.d))return x;for(ke=1,qe=Bt[0];qe>=10;qe/=10)ke++;if((ee=U-ke)<0)ee+=Ze,Ce=U,rt=(ie=Bt[Ae=0])/we(10,ke-Ce-1)%10|0;else if((Ae=Math.ceil((ee+1)/Ze))>=(qe=Bt.length)){if(!J)break e;for(;qe++<=Ae;)Bt.push(0);ie=rt=0,ke=1,Ce=(ee%=Ze)-Ze+1}else{for(ie=qe=Bt[Ae],ke=1;qe>=10;qe/=10)ke++;rt=(Ce=(ee%=Ze)-Ze+ke)<0?0:ie/we(10,ke-Ce-1)%10|0}if(J=J||U<0||Bt[Ae+1]!==void 0||(Ce<0?ie:ie%we(10,ke-Ce-1)),lt=Z<4?(rt||J)&&(Z==0||Z==(x.s<0?3:2)):rt>5||rt==5&&(Z==4||J||Z==6&&(ee>0?Ce>0?ie/we(10,ke-Ce):0:Bt[Ae-1])%10&1||Z==(x.s<0?8:7)),U<1||!Bt[0])return Bt.length=0,lt?(U-=x.e+1,Bt[0]=we(10,(Ze-U%Ze)%Ze),x.e=-U||0):Bt[0]=x.e=0,x;if(ee==0?(Bt.length=Ae,qe=1,Ae--):(Bt.length=Ae+1,qe=we(10,Ze-ee),Bt[Ae]=Ce>0?(ie/we(10,ke-Ce)%we(10,Ce)|0)*qe:0),lt)for(;;){if(Ae==0){for(ee=1,Ce=Bt[0];Ce>=10;Ce/=10)ee++;for(Ce=Bt[0]+=qe,qe=1;Ce>=10;Ce/=10)qe++;ee!=qe&&(x.e++,Bt[0]==at&&(Bt[0]=1));break}if(Bt[Ae]+=qe,Bt[Ae]!=at)break;Bt[Ae--]=0,qe=1}for(ee=Bt.length;Bt[--ee]===0;)Bt.pop()}return F&&(x.e>In.maxE?(x.d=null,x.e=NaN):x.e<In.minE&&(x.e=0,x.d=[0])),x}function an(x,U,Z){if(!x.isFinite())return sn(x);var J,ke=x.e,ee=Xt(x.d),Ce=ee.length;return U?(Z&&(J=Z-Ce)>0?ee=ee.charAt(0)+"."+ee.slice(1)+Ft(J):Ce>1&&(ee=ee.charAt(0)+"."+ee.slice(1)),ee=ee+(x.e<0?"e":"e+")+x.e):ke<0?(ee="0."+Ft(-ke-1)+ee,Z&&(J=Z-Ce)>0&&(ee+=Ft(J))):ke>=Ce?(ee+=Ft(ke+1-Ce),Z&&(J=Z-ke-1)>0&&(ee=ee+"."+Ft(J))):((J=ke+1)<Ce&&(ee=ee.slice(0,J)+"."+ee.slice(J)),Z&&(J=Z-Ce)>0&&(ke+1===Ce&&(ee+="."),ee+=Ft(J))),ee}function de(x,U){var Z=x[0];for(U*=Ze;Z>=10;Z/=10)U++;return U}function Le(x,U,Z){if(U>Ke)throw F=!0,Z&&(x.precision=Z),Error(ce);return vt(new x(w),U,1,!0)}function tt(x,U,Z){if(U>Pt)throw Error(ce);return vt(new x(I),U,Z,!0)}function _e(x){var U=x.length-1,Z=U*Ze+1;if(U=x[U]){for(;U%10==0;U/=10)Z--;for(U=x[0];U>=10;U/=10)Z++}return Z}function Ft(x){for(var U="";x--;)U+="0";return U}function It(x,U,Z,J){var ke,ee=new x(1),Ce=Math.ceil(J/Ze+4);for(F=!1;;){if(Z%2&&un((ee=ee.times(U)).d,Ce)&&(ke=!0),(Z=se(Z/2))===0){Z=ee.d.length-1,ke&&ee.d[Z]===0&&++ee.d[Z];break}un((U=U.times(U)).d,Ce)}return F=!0,ee}function Qt(x){return 1&x.d[x.d.length-1]}function cn(x,U,Z){for(var J,ke=new x(U[0]),ee=0;++ee<U.length;){if(!(J=new x(U[ee])).s){ke=J;break}ke[Z](J)&&(ke=J)}return ke}function Hn(x,U){var Z,J,ke,ee,Ce,qe,rt,lt=0,ie=0,Bt=0,Ae=x.constructor,In=Ae.rounding,On=Ae.precision;if(!x.d||!x.d[0]||x.e>17)return new Ae(x.d?x.d[0]?x.s<0?0:1/0:1:x.s?x.s<0?0:x:NaN);for(U==null?(F=!1,rt=On):rt=U,qe=new Ae(.03125);x.e>-2;)x=x.times(qe),Bt+=5;for(rt+=J=Math.log(we(2,Bt))/Math.LN10*2+5|0,Z=ee=Ce=new Ae(1),Ae.precision=rt;;){if(ee=vt(ee.times(x),rt,1),Z=Z.times(++ie),Xt((qe=Ce.plus(St(ee,Z,rt,1))).d).slice(0,rt)===Xt(Ce.d).slice(0,rt)){for(ke=Bt;ke--;)Ce=vt(Ce.times(Ce),rt,1);if(U!=null)return Ae.precision=On,Ce;if(!(lt<3&&Ot(Ce.d,rt-J,In,lt)))return vt(Ce,Ae.precision=On,In,F=!0);Ae.precision=rt+=10,Z=ee=qe=new Ae(1),ie=0,lt++}Ce=qe}}function mn(x,U){var Z,J,ke,ee,Ce,qe,rt,lt,ie,Bt,Ae,In=1,On=x,Pr=On.d,pr=On.constructor,Pn=pr.rounding,ns=pr.precision;if(On.s<0||!Pr||!Pr[0]||!On.e&&Pr[0]==1&&Pr.length==1)return new pr(Pr&&!Pr[0]?-1/0:On.s!=1?NaN:Pr?0:On);if(U==null?(F=!1,ie=ns):ie=U,pr.precision=ie+=10,J=(Z=Xt(Pr)).charAt(0),!(Math.abs(ee=On.e)<15e14))return lt=Le(pr,ie+2,ns).times(ee+""),On=mn(new pr(J+"."+Z.slice(1)),ie-10).plus(lt),pr.precision=ns,U==null?vt(On,ns,Pn,F=!0):On;for(;J<7&&J!=1||J==1&&Z.charAt(1)>3;)J=(Z=Xt((On=On.times(x)).d)).charAt(0),In++;for(ee=On.e,J>1?(On=new pr("0."+Z),ee++):On=new pr(J+"."+Z.slice(1)),Bt=On,rt=Ce=On=St(On.minus(1),On.plus(1),ie,1),Ae=vt(On.times(On),ie,1),ke=3;;){if(Ce=vt(Ce.times(Ae),ie,1),Xt((lt=rt.plus(St(Ce,new pr(ke),ie,1))).d).slice(0,ie)===Xt(rt.d).slice(0,ie)){if(rt=rt.times(2),ee!==0&&(rt=rt.plus(Le(pr,ie+2,ns).times(ee+""))),rt=St(rt,new pr(In),ie,1),U!=null)return pr.precision=ns,rt;if(!Ot(rt.d,ie-10,Pn,qe))return vt(rt,pr.precision=ns,Pn,F=!0);pr.precision=ie+=10,lt=Ce=On=St(Bt.minus(1),Bt.plus(1),ie,1),Ae=vt(On.times(On),ie,1),ke=qe=1}rt=lt,ke+=2}}function sn(x){return String(x.s*x.s/0)}function qn(x,U){var Z,J,ke;for((Z=U.indexOf("."))>-1&&(U=U.replace(".","")),(J=U.search(/e/i))>0?(Z<0&&(Z=J),Z+=+U.slice(J+1),U=U.substring(0,J)):Z<0&&(Z=U.length),J=0;U.charCodeAt(J)===48;J++);for(ke=U.length;U.charCodeAt(ke-1)===48;--ke);if(U=U.slice(J,ke)){if(ke-=J,x.e=Z=Z-J-1,x.d=[],J=(Z+1)%Ze,Z<0&&(J+=Ze),J<ke){for(J&&x.d.push(+U.slice(0,J)),ke-=Ze;J<ke;)x.d.push(+U.slice(J,J+=Ze));U=U.slice(J),J=Ze-U.length}else J-=ke;for(;J--;)U+="0";x.d.push(+U),F&&(x.e>x.constructor.maxE?(x.d=null,x.e=NaN):x.e<x.constructor.minE&&(x.e=0,x.d=[0]))}else x.e=0,x.d=[0];return x}function ct(x,U){var Z,J,ke,ee,Ce,qe,rt,lt,ie;if(U==="Infinity"||U==="NaN")return+U||(x.s=NaN),x.e=NaN,x.d=null,x;if(De.test(U))Z=16,U=U.toLowerCase();else if(Oe.test(U))Z=2;else{if(!Se.test(U))throw Error(he+U);Z=8}for((ee=U.search(/p/i))>0?(rt=+U.slice(ee+1),U=U.substring(2,ee)):U=U.slice(2),Ce=(ee=U.indexOf("."))>=0,J=x.constructor,Ce&&(ee=(qe=(U=U.replace(".","")).length)-ee,ke=It(J,new J(Z),ee,2*ee)),ee=ie=(lt=st(U,Z,at)).length-1;lt[ee]===0;--ee)lt.pop();return ee<0?new J(0*x.s):(x.e=de(lt,ie),x.d=lt,F=!1,Ce&&(x=St(x,ke,4*qe)),rt&&(x=x.times(Math.abs(rt)<54?we(2,rt):a.pow(2,rt))),F=!0,x)}function rn(x,U,Z,J,ke){var ee,Ce,qe,rt,lt=x.precision,ie=Math.ceil(lt/Ze);for(F=!1,rt=Z.times(Z),qe=new x(J);;){if(Ce=St(qe.times(rt),new x(U++*U++),lt,1),qe=ke?J.plus(Ce):J.minus(Ce),J=St(Ce.times(rt),new x(U++*U++),lt,1),(Ce=qe.plus(J)).d[ie]!==void 0){for(ee=ie;Ce.d[ee]===qe.d[ee]&&ee--;);if(ee==-1)break}ee=qe,qe=J,J=Ce,Ce=ee}return F=!0,Ce.d.length=ie+1,Ce}function Br(x,U){for(var Z=x;--U;)Z*=x;return Z}function Zn(x,U){var Z,J=U.s<0,ke=tt(x,x.precision,1),ee=ke.times(.5);if((U=U.abs()).lte(ee))return $=J?4:1,U;if((Z=U.divToInt(ke)).isZero())$=J?3:2;else{if((U=U.minus(Z.times(ke))).lte(ee))return $=Qt(Z)?J?2:3:J?4:1,U;$=Qt(Z)?J?1:4:J?3:2}return U.minus(ke).abs()}function mr(x,U,Z,J){var ke,ee,Ce,qe,rt,lt,ie,Bt,Ae,In=x.constructor,On=Z!==void 0;if(On?(Lt(Z,1,y),J===void 0?J=In.rounding:Lt(J,0,8)):(Z=In.precision,J=In.rounding),x.isFinite()){for(On?(ke=2,U==16?Z=4*Z-3:U==8&&(Z=3*Z-2)):ke=U,(Ce=(ie=an(x)).indexOf("."))>=0&&(ie=ie.replace(".",""),(Ae=new In(1)).e=ie.length-Ce,Ae.d=st(an(Ae),10,ke),Ae.e=Ae.d.length),ee=rt=(Bt=st(ie,10,ke)).length;Bt[--rt]==0;)Bt.pop();if(Bt[0]){if(Ce<0?ee--:((x=new In(x)).d=Bt,x.e=ee,Bt=(x=St(x,Ae,Z,J,0,ke)).d,ee=x.e,lt=h),Ce=Bt[Z],qe=ke/2,lt=lt||Bt[Z+1]!==void 0,lt=J<4?(Ce!==void 0||lt)&&(J===0||J===(x.s<0?3:2)):Ce>qe||Ce===qe&&(J===4||lt||J===6&&1&Bt[Z-1]||J===(x.s<0?8:7)),Bt.length=Z,lt)for(;++Bt[--Z]>ke-1;)Bt[Z]=0,Z||(++ee,Bt.unshift(1));for(rt=Bt.length;!Bt[rt-1];--rt);for(Ce=0,ie="";Ce<rt;Ce++)ie+=E.charAt(Bt[Ce]);if(On){if(rt>1)if(U==16||U==8){for(Ce=U==16?4:3,--rt;rt%Ce;rt++)ie+="0";for(rt=(Bt=st(ie,ke,U)).length;!Bt[rt-1];--rt);for(Ce=1,ie="1.";Ce<rt;Ce++)ie+=E.charAt(Bt[Ce])}else ie=ie.charAt(0)+"."+ie.slice(1);ie=ie+(ee<0?"p":"p+")+ee}else if(ee<0){for(;++ee;)ie="0"+ie;ie="0."+ie}else if(++ee>rt)for(ee-=rt;ee--;)ie+="0";else ee<rt&&(ie=ie.slice(0,ee)+"."+ie.slice(ee))}else ie=On?"0p+0":"0";ie=(U==16?"0x":U==2?"0b":U==8?"0o":"")+ie}else ie=sn(x);return x.s<0?"-"+ie:ie}function un(x,U){if(x.length>U)return x.length=U,!0}function $i(x){return new this(x).abs()}function wi(x){return new this(x).acos()}function nr(x){return new this(x).acosh()}function es(x,U){return new this(x).plus(U)}function li(x){return new this(x).asin()}function rr(x){return new this(x).asinh()}function Xn(x){return new this(x).atan()}function O(x){return new this(x).atanh()}function ne(x,U){x=new this(x),U=new this(U);var Z,J=this.precision,ke=this.rounding,ee=J+4;return x.s&&U.s?x.d||U.d?!U.d||x.isZero()?(Z=U.s<0?tt(this,J,ke):new this(0)).s=x.s:!x.d||U.isZero()?(Z=tt(this,ee,1).times(.5)).s=x.s:U.s<0?(this.precision=ee,this.rounding=1,Z=this.atan(St(x,U,ee,1)),U=tt(this,ee,1),this.precision=J,this.rounding=ke,Z=x.s<0?Z.minus(U):Z.plus(U)):Z=this.atan(St(x,U,ee,1)):(Z=tt(this,ee,1).times(U.s>0?.25:.75)).s=x.s:Z=new this(NaN),Z}function Ie(x){return new this(x).cbrt()}function Be(x){return vt(x=new this(x),x.e+1,2)}function nt(x){if(!x||typeof x!="object")throw Error(te+"Object expected");var U,Z,J,ke=x.defaults===!0,ee=["precision",1,y,"rounding",0,8,"toExpNeg",-_,0,"toExpPos",0,_,"maxE",0,_,"minE",-_,0,"modulo",0,9];for(U=0;U<ee.length;U+=3)if(Z=ee[U],ke&&(this[Z]=H[Z]),(J=x[Z])!==void 0){if(!(se(J)===J&&J>=ee[U+1]&&J<=ee[U+2]))throw Error(he+Z+": "+J);this[Z]=J}if(Z="crypto",ke&&(this[Z]=H[Z]),(J=x[Z])!==void 0){if(J!==!0&&J!==!1&&J!==0&&J!==1)throw Error(he+Z+": "+J);if(J){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(K);this[Z]=!0}else this[Z]=!1}return this}function Ye(x){return new this(x).cos()}function yt(x){return new this(x).cosh()}function xt(x,U){return new this(x).div(U)}function L(x){return new this(x).exp()}function ae(x){return vt(x=new this(x),x.e+1,3)}function ze(){var x,U,Z=new this(0);for(F=!1,x=0;x<arguments.length;)if((U=new this(arguments[x++])).d)Z.d&&(Z=Z.plus(U.times(U)));else{if(U.s)return F=!0,new this(1/0);Z=U}return F=!0,Z.sqrt()}function Pe(x){return x instanceof a||x&&x.name==="[object Decimal]"||!1}function Dt(x){return new this(x).ln()}function Sn(x,U){return new this(x).log(U)}function Ar(x){return new this(x).log(2)}function Y(x){return new this(x).log(10)}function ve(){return cn(this,arguments,"lt")}function R(){return cn(this,arguments,"gt")}function j(x,U){return new this(x).mod(U)}function Ee(x,U){return new this(x).mul(U)}function Fe(x,U){return new this(x).pow(U)}function Mt(x){var U,Z,J,ke,ee=0,Ce=new this(1),qe=[];if(x===void 0?x=this.precision:Lt(x,1,y),J=Math.ceil(x/Ze),this.crypto)if(crypto.getRandomValues)for(U=crypto.getRandomValues(new Uint32Array(J));ee<J;)(ke=U[ee])>=429e7?U[ee]=crypto.getRandomValues(new Uint32Array(1))[0]:qe[ee++]=ke%1e7;else{if(!crypto.randomBytes)throw Error(K);for(U=crypto.randomBytes(J*=4);ee<J;)(ke=U[ee]+(U[ee+1]<<8)+(U[ee+2]<<16)+((127&U[ee+3])<<24))>=214e7?crypto.randomBytes(4).copy(U,ee):(qe.push(ke%1e7),ee+=4);ee=J/4}else for(;ee<J;)qe[ee++]=1e7*Math.random()|0;for(J=qe[--ee],x%=Ze,J&&x&&(ke=we(10,Ze-x),qe[ee]=(J/ke|0)*ke);qe[ee]===0;ee--)qe.pop();if(ee<0)Z=0,qe=[0];else{for(Z=-1;qe[0]===0;Z-=Ze)qe.shift();for(J=1,ke=qe[0];ke>=10;ke/=10)J++;J<Ze&&(Z-=Ze-J)}return Ce.e=Z,Ce.d=qe,Ce}function dn(x){return vt(x=new this(x),x.e+1,this.rounding)}function Mn(x){return(x=new this(x)).d?x.d[0]?x.s:0*x.s:x.s||NaN}function hr(x){return new this(x).sin()}function xs(x){return new this(x).sinh()}function ts(x){return new this(x).sqrt()}function _r(x,U){return new this(x).sub(U)}function B(x){return new this(x).tan()}function W(x){return new this(x).tanh()}function en(x){return vt(x=new this(x),x.e+1,1)}return(a=(function x(U){var Z,J,ke;function ee(Ce){var qe,rt,lt,ie=this;if(!(ie instanceof ee))return new ee(Ce);if(ie.constructor=ee,Ce instanceof ee)return ie.s=Ce.s,void(F?!Ce.d||Ce.e>ee.maxE?(ie.e=NaN,ie.d=null):Ce.e<ee.minE?(ie.e=0,ie.d=[0]):(ie.e=Ce.e,ie.d=Ce.d.slice()):(ie.e=Ce.e,ie.d=Ce.d?Ce.d.slice():Ce.d));if((lt=typeof Ce)=="number"){if(Ce===0)return ie.s=1/Ce<0?-1:1,ie.e=0,void(ie.d=[0]);if(Ce<0?(Ce=-Ce,ie.s=-1):ie.s=1,Ce===~~Ce&&Ce<1e7){for(qe=0,rt=Ce;rt>=10;rt/=10)qe++;return void(F?qe>ee.maxE?(ie.e=NaN,ie.d=null):qe<ee.minE?(ie.e=0,ie.d=[0]):(ie.e=qe,ie.d=[Ce]):(ie.e=qe,ie.d=[Ce]))}return 0*Ce!=0?(Ce||(ie.s=NaN),ie.e=NaN,void(ie.d=null)):qn(ie,Ce.toString())}if(lt!=="string")throw Error(he+Ce);return(rt=Ce.charCodeAt(0))===45?(Ce=Ce.slice(1),ie.s=-1):(rt===43&&(Ce=Ce.slice(1)),ie.s=1),je.test(Ce)?qn(ie,Ce):ct(ie,Ce)}if(ee.prototype=Ve,ee.ROUND_UP=0,ee.ROUND_DOWN=1,ee.ROUND_CEIL=2,ee.ROUND_FLOOR=3,ee.ROUND_HALF_UP=4,ee.ROUND_HALF_DOWN=5,ee.ROUND_HALF_EVEN=6,ee.ROUND_HALF_CEIL=7,ee.ROUND_HALF_FLOOR=8,ee.EUCLID=9,ee.config=ee.set=nt,ee.clone=x,ee.isDecimal=Pe,ee.abs=$i,ee.acos=wi,ee.acosh=nr,ee.add=es,ee.asin=li,ee.asinh=rr,ee.atan=Xn,ee.atanh=O,ee.atan2=ne,ee.cbrt=Ie,ee.ceil=Be,ee.cos=Ye,ee.cosh=yt,ee.div=xt,ee.exp=L,ee.floor=ae,ee.hypot=ze,ee.ln=Dt,ee.log=Sn,ee.log10=Y,ee.log2=Ar,ee.max=ve,ee.min=R,ee.mod=j,ee.mul=Ee,ee.pow=Fe,ee.random=Mt,ee.round=dn,ee.sign=Mn,ee.sin=hr,ee.sinh=xs,ee.sqrt=ts,ee.sub=_r,ee.tan=B,ee.tanh=W,ee.trunc=en,U===void 0&&(U={}),U&&U.defaults!==!0)for(ke=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],Z=0;Z<ke.length;)U.hasOwnProperty(J=ke[Z++])||(U[J]=this[J]);return ee.config(U),ee})(H)).default=a.Decimal=a,w=new a(w),I=new a(I),r.exports?(typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(Ve[Symbol.for("nodejs.util.inspect.custom")]=Ve.toString,Ve[Symbol.toStringTag]="Decimal"),r.exports=a):(n||(n=typeof self<"u"&&self&&self.self==self?self:window),p=n.Decimal,a.noConflict=function(){return n.Decimal=p,a},n.Decimal=a),a})(Yb)});r.exports=o})(_5)),_5.exports}var Jb=Kb();const pm=su(Jb),Zb={id:"EQUATION",RenderComponent:jb,getToolboxXML:r=>d3(r),executeStep:(r,o,n)=>{const a=r||{lhs:n.equation?.lhs||"x",rhs:n.equation?.rhs||"0",sign:n.equation?.sign||"=",implicit:n.equation?.implicit||!1,history:[]};if(!o)return{newState:a,status:"RUNNING"};let{lhs:h,rhs:p}=a;if(o.type==="OP_BOTH"){const $=o.value,_=o.operator,y=`(${h}) ${_} (${$})`,E=`(${p}) ${_} (${$})`,w=pm(y).text(),I=pm(E).text();return{newState:{lhs:w,rhs:I,sign:a.sign,implicit:a.implicit,lastOp:{op:_,val:$,rawLhs:y,rawRhs:E}},status:"RUNNING"}}return{newState:a,status:"RUNNING"}},checkVictory:r=>{if(!r)return!1;const o=r.lhs.replace(/\s/g,""),n=r.rhs.replace(/\s/g,""),a=o==="x"&&!isNaN(parseFloat(n)),h=n==="x"&&!isNaN(parseFloat(o));return a||h}};function Qb({isOpen:r,stats:o,token:n,status:a,onReplay:h,onMenu:p,onNext:$}){if(!r)return null;const _=a==="WON",y=a==="FAILED",E=a==="LOST";let w="Niveau Termin !",I=o.stars===3?" Code Parfait !":" Tu peux optimiser...",H="text-emerald-600",F="";y?(w="Presque...",I="Le rsultat ne correspond pas au modle.",H="text-amber-500",F=""):E&&(w="Ae !",I="Le robot a rencontr un obstacle.",H="text-red-500",F="");const te=()=>_?ye.jsx("div",{className:"flex justify-center gap-2 mb-6",children:[0,1,2].map(he=>ye.jsx("span",{className:`text-5xl transition-all duration-500 ${he<o.stars?"text-yellow-400 drop-shadow-lg scale-110":"text-slate-200"}`,children:""},he))}):ye.jsx("div",{className:"text-6xl mb-4 grayscale opacity-50",children:F});return ye.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:ye.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md text-center transform transition-all scale-100 border border-white/20",children:[ye.jsx("h1",{className:`text-3xl font-extrabold mb-2 ${H} drop-shadow-sm`,children:w}),ye.jsx("div",{className:"my-4",children:te()}),ye.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-100 mb-6",children:[_?ye.jsxs("p",{className:"text-slate-600 font-medium",children:[" Blocs utiliss : ",ye.jsx("strong",{className:"text-slate-900 text-lg",children:o.blockCount})," ",ye.jsxs("span",{className:"text-slate-400",children:["/ ",o.target]})]}):ye.jsx("p",{className:"font-bold text-slate-500",children:"Essaie encore !"}),ye.jsx("p",{className:"text-sm text-slate-400 mt-1",children:I})]}),_&&ye.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-100 rounded-lg text-left",children:[ye.jsx("p",{className:"text-xs font-bold text-blue-400 uppercase mb-2",children:" Code de preuve :"}),ye.jsx("div",{className:"font-mono text-xs bg-white p-2 rounded border border-blue-200 text-slate-600 break-all select-all",children:n})]}),ye.jsxs("div",{className:"flex gap-3 justify-center",children:[ye.jsx("button",{onClick:h,className:"flex-1 py-3 px-4 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-xl font-bold transition-colors",children:" Rejouer"}),ye.jsx("button",{onClick:p,className:"flex-1 py-3 px-4 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-xl font-bold transition-colors",children:" Menu"}),_&&$&&ye.jsx("button",{onClick:$,className:"flex-[1.5] py-3 px-4 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl font-bold shadow-lg shadow-emerald-200 transition-all hover:-translate-y-0.5",children:" Suivant"})]})]})})}function mm(r){const o=[],n=String(r||"");let a=n.indexOf(","),h=0,p=!1;for(;!p;){a===-1&&(a=n.length,p=!0);const $=n.slice(h,a).trim();($||!p)&&o.push($),h=a+1,a=n.indexOf(",",h)}return o}function ev(r,o){const n={};return(r[r.length-1]===""?[...r,""]:r).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const tv=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nv=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rv={};function gm(r,o){return(rv.jsx?nv:tv).test(r)}const iv=/[ \t\n\f\r]/g;function sv(r){return typeof r=="object"?r.type==="text"?$m(r.value):!1:$m(r)}function $m(r){return r.replace(iv,"")===""}class f3{constructor(o,n,a){this.normal=n,this.property=o,a&&(this.space=a)}}f3.prototype.normal={};f3.prototype.property={};f3.prototype.space=void 0;function i9(r,o){const n={},a={};for(const h of r)Object.assign(n,h.property),Object.assign(a,h.normal);return new f3(n,a,o)}function o3(r){return r.toLowerCase()}class m0{constructor(o,n){this.attribute=n,this.property=o}}m0.prototype.attribute="";m0.prototype.booleanish=!1;m0.prototype.boolean=!1;m0.prototype.commaOrSpaceSeparated=!1;m0.prototype.commaSeparated=!1;m0.prototype.defined=!1;m0.prototype.mustUseProperty=!1;m0.prototype.number=!1;m0.prototype.overloadedBoolean=!1;m0.prototype.property="";m0.prototype.spaceSeparated=!1;m0.prototype.space=void 0;let ov=0;const Xr=Qh(),Lo=Qh(),yf=Qh(),pn=Qh(),Ms=Qh(),E4=Qh(),U0=Qh();function Qh(){return 2**++ov}const _f=Object.freeze(Object.defineProperty({__proto__:null,boolean:Xr,booleanish:Lo,commaOrSpaceSeparated:U0,commaSeparated:E4,number:pn,overloadedBoolean:yf,spaceSeparated:Ms},Symbol.toStringTag,{value:"Module"})),U6=Object.keys(_f);class Gf extends m0{constructor(o,n,a,h){let p=-1;if(super(o,n),bm(this,"space",h),typeof a=="number")for(;++p<U6.length;){const $=U6[p];bm(this,U6[p],(a&_f[$])===_f[$])}}}Gf.prototype.defined=!0;function bm(r,o,n){n&&(r[o]=n)}function C4(r){const o={},n={};for(const[a,h]of Object.entries(r.properties)){const p=new Gf(a,r.transform(r.attributes||{},a),h,r.space);r.mustUseProperty&&r.mustUseProperty.includes(a)&&(p.mustUseProperty=!0),o[a]=p,n[o3(a)]=a,n[o3(p.attribute)]=a}return new f3(o,n,r.space)}const s9=C4({properties:{ariaActiveDescendant:null,ariaAtomic:Lo,ariaAutoComplete:null,ariaBusy:Lo,ariaChecked:Lo,ariaColCount:pn,ariaColIndex:pn,ariaColSpan:pn,ariaControls:Ms,ariaCurrent:null,ariaDescribedBy:Ms,ariaDetails:null,ariaDisabled:Lo,ariaDropEffect:Ms,ariaErrorMessage:null,ariaExpanded:Lo,ariaFlowTo:Ms,ariaGrabbed:Lo,ariaHasPopup:null,ariaHidden:Lo,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ms,ariaLevel:pn,ariaLive:null,ariaModal:Lo,ariaMultiLine:Lo,ariaMultiSelectable:Lo,ariaOrientation:null,ariaOwns:Ms,ariaPlaceholder:null,ariaPosInSet:pn,ariaPressed:Lo,ariaReadOnly:Lo,ariaRelevant:null,ariaRequired:Lo,ariaRoleDescription:Ms,ariaRowCount:pn,ariaRowIndex:pn,ariaRowSpan:pn,ariaSelected:Lo,ariaSetSize:pn,ariaSort:null,ariaValueMax:pn,ariaValueMin:pn,ariaValueNow:pn,ariaValueText:null,role:null},transform(r,o){return o==="role"?o:"aria-"+o.slice(4).toLowerCase()}});function o9(r,o){return o in r?r[o]:o}function l9(r,o){return o9(r,o.toLowerCase())}const lv=C4({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:E4,acceptCharset:Ms,accessKey:Ms,action:null,allow:null,allowFullScreen:Xr,allowPaymentRequest:Xr,allowUserMedia:Xr,alt:null,as:null,async:Xr,autoCapitalize:null,autoComplete:Ms,autoFocus:Xr,autoPlay:Xr,blocking:Ms,capture:null,charSet:null,checked:Xr,cite:null,className:Ms,cols:pn,colSpan:null,content:null,contentEditable:Lo,controls:Xr,controlsList:Ms,coords:pn|E4,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Xr,defer:Xr,dir:null,dirName:null,disabled:Xr,download:yf,draggable:Lo,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Xr,formTarget:null,headers:Ms,height:pn,hidden:yf,high:pn,href:null,hrefLang:null,htmlFor:Ms,httpEquiv:Ms,id:null,imageSizes:null,imageSrcSet:null,inert:Xr,inputMode:null,integrity:null,is:null,isMap:Xr,itemId:null,itemProp:Ms,itemRef:Ms,itemScope:Xr,itemType:Ms,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Xr,low:pn,manifest:null,max:null,maxLength:pn,media:null,method:null,min:null,minLength:pn,multiple:Xr,muted:Xr,name:null,nonce:null,noModule:Xr,noValidate:Xr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Xr,optimum:pn,pattern:null,ping:Ms,placeholder:null,playsInline:Xr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Xr,referrerPolicy:null,rel:Ms,required:Xr,reversed:Xr,rows:pn,rowSpan:pn,sandbox:Ms,scope:null,scoped:Xr,seamless:Xr,selected:Xr,shadowRootClonable:Xr,shadowRootDelegatesFocus:Xr,shadowRootMode:null,shape:null,size:pn,sizes:null,slot:null,span:pn,spellCheck:Lo,src:null,srcDoc:null,srcLang:null,srcSet:null,start:pn,step:null,style:null,tabIndex:pn,target:null,title:null,translate:null,type:null,typeMustMatch:Xr,useMap:null,value:Lo,width:pn,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ms,axis:null,background:null,bgColor:null,border:pn,borderColor:null,bottomMargin:pn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Xr,declare:Xr,event:null,face:null,frame:null,frameBorder:null,hSpace:pn,leftMargin:pn,link:null,longDesc:null,lowSrc:null,marginHeight:pn,marginWidth:pn,noResize:Xr,noHref:Xr,noShade:Xr,noWrap:Xr,object:null,profile:null,prompt:null,rev:null,rightMargin:pn,rules:null,scheme:null,scrolling:Lo,standby:null,summary:null,text:null,topMargin:pn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:pn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Xr,disableRemotePlayback:Xr,prefix:null,property:null,results:pn,security:null,unselectable:null},space:"html",transform:l9}),av=C4({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:U0,accentHeight:pn,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:pn,amplitude:pn,arabicForm:null,ascent:pn,attributeName:null,attributeType:null,azimuth:pn,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:pn,by:null,calcMode:null,capHeight:pn,className:Ms,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:pn,diffuseConstant:pn,direction:null,display:null,dur:null,divisor:pn,dominantBaseline:null,download:Xr,dx:null,dy:null,edgeMode:null,editable:null,elevation:pn,enableBackground:null,end:null,event:null,exponent:pn,externalResourcesRequired:null,fill:null,fillOpacity:pn,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:E4,g2:E4,glyphName:E4,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:pn,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:pn,horizOriginX:pn,horizOriginY:pn,id:null,ideographic:pn,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:pn,k:pn,k1:pn,k2:pn,k3:pn,k4:pn,kernelMatrix:U0,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:pn,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:pn,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:pn,overlineThickness:pn,paintOrder:null,panose1:null,path:null,pathLength:pn,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ms,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:pn,pointsAtY:pn,pointsAtZ:pn,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:U0,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:U0,rev:U0,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:U0,requiredFeatures:U0,requiredFonts:U0,requiredFormats:U0,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:pn,specularExponent:pn,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:pn,strikethroughThickness:pn,string:null,stroke:null,strokeDashArray:U0,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:pn,strokeOpacity:pn,strokeWidth:null,style:null,surfaceScale:pn,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:U0,tabIndex:pn,tableValues:null,target:null,targetX:pn,targetY:pn,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:U0,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:pn,underlineThickness:pn,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:pn,values:null,vAlphabetic:pn,vMathematical:pn,vectorEffect:null,vHanging:pn,vIdeographic:pn,version:null,vertAdvY:pn,vertOriginX:pn,vertOriginY:pn,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:pn,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:o9}),a9=C4({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(r,o){return"xlink:"+o.slice(5).toLowerCase()}}),u9=C4({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:l9}),c9=C4({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(r,o){return"xml:"+o.slice(3).toLowerCase()}}),uv={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cv=/[A-Z]/g,vm=/-[a-z]/g,hv=/^data[-\w.:]+$/i;function h9(r,o){const n=o3(o);let a=o,h=m0;if(n in r.normal)return r.property[r.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&hv.test(o)){if(o.charAt(4)==="-"){const p=o.slice(5).replace(vm,fv);a="data"+p.charAt(0).toUpperCase()+p.slice(1)}else{const p=o.slice(4);if(!vm.test(p)){let $=p.replace(cv,dv);$.charAt(0)!=="-"&&($="-"+$),o="data"+$}}h=Gf}return new h(a,o)}function dv(r){return"-"+r.toLowerCase()}function fv(r){return r.charAt(1).toUpperCase()}const d9=i9([s9,lv,a9,u9,c9],"html"),B5=i9([s9,av,a9,u9,c9],"svg");function Tm(r){const o=String(r||"").trim();return o?o.split(/[ \t\n\r\f]+/g):[]}function pv(r){return r.join(" ").trim()}var v4={},z6,ym;function mv(){if(ym)return z6;ym=1;var r=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,o=/\n/g,n=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,h=/^:\s*/,p=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,$=/^[;\s]*/,_=/^\s+|\s+$/g,y=`
`,E="/",w="*",I="",H="comment",F="declaration";function te(ce,K){if(typeof ce!="string")throw new TypeError("First argument must be a string");if(!ce)return[];K=K||{};var se=1,we=1;function Oe(Lt){var Ot=Lt.match(o);Ot&&(se+=Ot.length);var st=Lt.lastIndexOf(y);we=~st?Lt.length-st:we+Lt.length}function De(){var Lt={line:se,column:we};return function(Ot){return Ot.position=new Se(Lt),Ze(),Ot}}function Se(Lt){this.start=Lt,this.end={line:se,column:we},this.source=K.source}Se.prototype.content=ce;function je(Lt){var Ot=new Error(K.source+":"+se+":"+we+": "+Lt);if(Ot.reason=Lt,Ot.filename=K.source,Ot.line=se,Ot.column=we,Ot.source=ce,!K.silent)throw Ot}function at(Lt){var Ot=Lt.exec(ce);if(Ot){var st=Ot[0];return Oe(st),ce=ce.slice(st.length),Ot}}function Ze(){at(n)}function Ke(Lt){var Ot;for(Lt=Lt||[];Ot=Pt();)Ot!==!1&&Lt.push(Ot);return Lt}function Pt(){var Lt=De();if(!(E!=ce.charAt(0)||w!=ce.charAt(1))){for(var Ot=2;I!=ce.charAt(Ot)&&(w!=ce.charAt(Ot)||E!=ce.charAt(Ot+1));)++Ot;if(Ot+=2,I===ce.charAt(Ot-1))return je("End of comment missing");var st=ce.slice(2,Ot-2);return we+=2,Oe(st),ce=ce.slice(Ot),we+=2,Lt({type:H,comment:st})}}function Ve(){var Lt=De(),Ot=at(a);if(Ot){if(Pt(),!at(h))return je("property missing ':'");var st=at(p),St=Lt({type:F,property:he(Ot[0].replace(r,I)),value:st?he(st[0].replace(r,I)):I});return at($),St}}function Xt(){var Lt=[];Ke(Lt);for(var Ot;Ot=Ve();)Ot!==!1&&(Lt.push(Ot),Ke(Lt));return Lt}return Ze(),Xt()}function he(ce){return ce?ce.replace(_,I):I}return z6=te,z6}var _m;function gv(){if(_m)return v4;_m=1;var r=v4&&v4.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(v4,"__esModule",{value:!0}),v4.default=n;const o=r(mv());function n(a,h){let p=null;if(!a||typeof a!="string")return p;const $=(0,o.default)(a),_=typeof h=="function";return $.forEach(y=>{if(y.type!=="declaration")return;const{property:E,value:w}=y;_?h(E,w,y):w&&(p=p||{},p[E]=w)}),p}return v4}var j2={},Em;function $v(){if(Em)return j2;Em=1,Object.defineProperty(j2,"__esModule",{value:!0}),j2.camelCase=void 0;var r=/^--[a-zA-Z0-9_-]+$/,o=/-([a-z])/g,n=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,h=/^-(ms)-/,p=function(E){return!E||n.test(E)||r.test(E)},$=function(E,w){return w.toUpperCase()},_=function(E,w){return"".concat(w,"-")},y=function(E,w){return w===void 0&&(w={}),p(E)?E:(E=E.toLowerCase(),w.reactCompat?E=E.replace(h,_):E=E.replace(a,_),E.replace(o,$))};return j2.camelCase=y,j2}var Y2,wm;function bv(){if(wm)return Y2;wm=1;var r=Y2&&Y2.__importDefault||function(h){return h&&h.__esModule?h:{default:h}},o=r(gv()),n=$v();function a(h,p){var $={};return!h||typeof h!="string"||(0,o.default)(h,function(_,y){_&&y&&($[(0,n.camelCase)(_,p)]=y)}),$}return a.default=a,Y2=a,Y2}var vv=bv();const Tv=su(vv),f9=p9("end"),Wf=p9("start");function p9(r){return o;function o(n){const a=n&&n.position&&n.position[r]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function yv(r){const o=Wf(r),n=f9(r);if(o&&n)return{start:o,end:n}}function t3(r){return!r||typeof r!="object"?"":"position"in r||"type"in r?Sm(r.position):"start"in r||"end"in r?Sm(r):"line"in r||"column"in r?Ef(r):""}function Ef(r){return xm(r&&r.line)+":"+xm(r&&r.column)}function Sm(r){return Ef(r&&r.start)+"-"+Ef(r&&r.end)}function xm(r){return r&&typeof r=="number"?r:1}class Ml extends Error{constructor(o,n,a){super(),typeof n=="string"&&(a=n,n=void 0);let h="",p={},$=!1;if(n&&("line"in n&&"column"in n?p={place:n}:"start"in n&&"end"in n?p={place:n}:"type"in n?p={ancestors:[n],place:n.position}:p={...n}),typeof o=="string"?h=o:!p.cause&&o&&($=!0,h=o.message,p.cause=o),!p.ruleId&&!p.source&&typeof a=="string"){const y=a.indexOf(":");y===-1?p.ruleId=a:(p.source=a.slice(0,y),p.ruleId=a.slice(y+1))}if(!p.place&&p.ancestors&&p.ancestors){const y=p.ancestors[p.ancestors.length-1];y&&(p.place=y.position)}const _=p.place&&"start"in p.place?p.place.start:p.place;this.ancestors=p.ancestors||void 0,this.cause=p.cause||void 0,this.column=_?_.column:void 0,this.fatal=void 0,this.file="",this.message=h,this.line=_?_.line:void 0,this.name=t3(p.place)||"1:1",this.place=p.place||void 0,this.reason=this.message,this.ruleId=p.ruleId||void 0,this.source=p.source||void 0,this.stack=$&&p.cause&&typeof p.cause.stack=="string"?p.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ml.prototype.file="";Ml.prototype.name="";Ml.prototype.reason="";Ml.prototype.message="";Ml.prototype.stack="";Ml.prototype.column=void 0;Ml.prototype.line=void 0;Ml.prototype.ancestors=void 0;Ml.prototype.cause=void 0;Ml.prototype.fatal=void 0;Ml.prototype.place=void 0;Ml.prototype.ruleId=void 0;Ml.prototype.source=void 0;const qf={}.hasOwnProperty,_v=new Map,Ev=/[A-Z]/g,wv=new Set(["table","tbody","thead","tfoot","tr"]),Sv=new Set(["td","th"]),m9="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xv(r,o){if(!o||o.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=o.filePath||void 0;let a;if(o.development){if(typeof o.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=Rv(n,o.jsxDEV)}else{if(typeof o.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof o.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=Ov(n,o.jsx,o.jsxs)}const h={Fragment:o.Fragment,ancestors:[],components:o.components||{},create:a,elementAttributeNameCase:o.elementAttributeNameCase||"react",evaluater:o.createEvaluater?o.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:o.ignoreInvalidStyle||!1,passKeys:o.passKeys!==!1,passNode:o.passNode||!1,schema:o.space==="svg"?B5:d9,stylePropertyNameCase:o.stylePropertyNameCase||"dom",tableCellAlignToStyle:o.tableCellAlignToStyle!==!1},p=g9(h,r,void 0);return p&&typeof p!="string"?p:h.create(r,h.Fragment,{children:p||void 0},void 0)}function g9(r,o,n){if(o.type==="element")return Cv(r,o,n);if(o.type==="mdxFlowExpression"||o.type==="mdxTextExpression")return kv(r,o);if(o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement")return Av(r,o,n);if(o.type==="mdxjsEsm")return Iv(r,o);if(o.type==="root")return Nv(r,o,n);if(o.type==="text")return Mv(r,o)}function Cv(r,o,n){const a=r.schema;let h=a;o.tagName.toLowerCase()==="svg"&&a.space==="html"&&(h=B5,r.schema=h),r.ancestors.push(o);const p=b9(r,o.tagName,!1),$=Lv(r,o);let _=jf(r,o);return wv.has(o.tagName)&&(_=_.filter(function(y){return typeof y=="string"?!sv(y):!0})),$9(r,$,p,o),Xf($,_),r.ancestors.pop(),r.schema=a,r.create(o,p,$,n)}function kv(r,o){if(o.data&&o.data.estree&&r.evaluater){const a=o.data.estree.body[0];return a.type,r.evaluater.evaluateExpression(a.expression)}l3(r,o.position)}function Iv(r,o){if(o.data&&o.data.estree&&r.evaluater)return r.evaluater.evaluateProgram(o.data.estree);l3(r,o.position)}function Av(r,o,n){const a=r.schema;let h=a;o.name==="svg"&&a.space==="html"&&(h=B5,r.schema=h),r.ancestors.push(o);const p=o.name===null?r.Fragment:b9(r,o.name,!0),$=Dv(r,o),_=jf(r,o);return $9(r,$,p,o),Xf($,_),r.ancestors.pop(),r.schema=a,r.create(o,p,$,n)}function Nv(r,o,n){const a={};return Xf(a,jf(r,o)),r.create(o,r.Fragment,a,n)}function Mv(r,o){return o.value}function $9(r,o,n,a){typeof n!="string"&&n!==r.Fragment&&r.passNode&&(o.node=a)}function Xf(r,o){if(o.length>0){const n=o.length>1?o:o[0];n&&(r.children=n)}}function Ov(r,o,n){return a;function a(h,p,$,_){const E=Array.isArray($.children)?n:o;return _?E(p,$,_):E(p,$)}}function Rv(r,o){return n;function n(a,h,p,$){const _=Array.isArray(p.children),y=Wf(a);return o(h,p,$,_,{columnNumber:y?y.column-1:void 0,fileName:r,lineNumber:y?y.line:void 0},void 0)}}function Lv(r,o){const n={};let a,h;for(h in o.properties)if(h!=="children"&&qf.call(o.properties,h)){const p=Bv(r,h,o.properties[h]);if(p){const[$,_]=p;r.tableCellAlignToStyle&&$==="align"&&typeof _=="string"&&Sv.has(o.tagName)?a=_:n[$]=_}}if(a){const p=n.style||(n.style={});p[r.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return n}function Dv(r,o){const n={};for(const a of o.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&r.evaluater){const p=a.data.estree.body[0];p.type;const $=p.expression;$.type;const _=$.properties[0];_.type,Object.assign(n,r.evaluater.evaluateExpression(_.argument))}else l3(r,o.position);else{const h=a.name;let p;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&r.evaluater){const _=a.value.data.estree.body[0];_.type,p=r.evaluater.evaluateExpression(_.expression)}else l3(r,o.position);else p=a.value===null?!0:a.value;n[h]=p}return n}function jf(r,o){const n=[];let a=-1;const h=r.passKeys?new Map:_v;for(;++a<o.children.length;){const p=o.children[a];let $;if(r.passKeys){const y=p.type==="element"?p.tagName:p.type==="mdxJsxFlowElement"||p.type==="mdxJsxTextElement"?p.name:void 0;if(y){const E=h.get(y)||0;$=y+"-"+E,h.set(y,E+1)}}const _=g9(r,p,$);_!==void 0&&n.push(_)}return n}function Bv(r,o,n){const a=h9(r.schema,o);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=a.commaSeparated?ev(n):pv(n)),a.property==="style"){let h=typeof n=="object"?n:Pv(r,String(n));return r.stylePropertyNameCase==="css"&&(h=Fv(h)),["style",h]}return[r.elementAttributeNameCase==="react"&&a.space?uv[a.property]||a.property:a.attribute,n]}}function Pv(r,o){try{return Tv(o,{reactCompat:!0})}catch(n){if(r.ignoreInvalidStyle)return{};const a=n,h=new Ml("Cannot parse `style` attribute",{ancestors:r.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw h.file=r.filePath||void 0,h.url=m9+"#cannot-parse-style-attribute",h}}function b9(r,o,n){let a;if(!n)a={type:"Literal",value:o};else if(o.includes(".")){const h=o.split(".");let p=-1,$;for(;++p<h.length;){const _=gm(h[p])?{type:"Identifier",name:h[p]}:{type:"Literal",value:h[p]};$=$?{type:"MemberExpression",object:$,property:_,computed:!!(p&&_.type==="Literal"),optional:!1}:_}a=$}else a=gm(o)&&!/^[a-z]/.test(o)?{type:"Identifier",name:o}:{type:"Literal",value:o};if(a.type==="Literal"){const h=a.value;return qf.call(r.components,h)?r.components[h]:h}if(r.evaluater)return r.evaluater.evaluateExpression(a);l3(r)}function l3(r,o){const n=new Ml("Cannot handle MDX estrees without `createEvaluater`",{ancestors:r.ancestors,place:o,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=r.filePath||void 0,n.url=m9+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Fv(r){const o={};let n;for(n in r)qf.call(r,n)&&(o[Uv(n)]=r[n]);return o}function Uv(r){let o=r.replace(Ev,zv);return o.slice(0,3)==="ms-"&&(o="-"+o),o}function zv(r){return"-"+r.toLowerCase()}const H6={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Hv={};function Yf(r,o){const n=Hv,a=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,h=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return v9(r,a,h)}function v9(r,o,n){if(Vv(r)){if("value"in r)return r.type==="html"&&!n?"":r.value;if(o&&"alt"in r&&r.alt)return r.alt;if("children"in r)return Cm(r.children,o,n)}return Array.isArray(r)?Cm(r,o,n):""}function Cm(r,o,n){const a=[];let h=-1;for(;++h<r.length;)a[h]=v9(r[h],o,n);return a.join("")}function Vv(r){return!!(r&&typeof r=="object")}const km=document.createElement("i");function Kf(r){const o="&"+r+";";km.innerHTML=o;const n=km.textContent;return n.charCodeAt(n.length-1)===59&&r!=="semi"||n===o?!1:n}function H0(r,o,n,a){const h=r.length;let p=0,$;if(o<0?o=-o>h?0:h+o:o=o>h?h:o,n=n>0?n:0,a.length<1e4)$=Array.from(a),$.unshift(o,n),r.splice(...$);else for(n&&r.splice(o,n);p<a.length;)$=a.slice(p,p+1e4),$.unshift(o,0),r.splice(...$),p+=1e4,o+=1e4}function _a(r,o){return r.length>0?(H0(r,r.length,0,o),r):o}const Im={}.hasOwnProperty;function T9(r){const o={};let n=-1;for(;++n<r.length;)Gv(o,r[n]);return o}function Gv(r,o){let n;for(n in o){const h=(Im.call(r,n)?r[n]:void 0)||(r[n]={}),p=o[n];let $;if(p)for($ in p){Im.call(h,$)||(h[$]=[]);const _=p[$];Wv(h[$],Array.isArray(_)?_:_?[_]:[])}}}function Wv(r,o){let n=-1;const a=[];for(;++n<o.length;)(o[n].add==="after"?r:a).push(o[n]);H0(r,0,0,a)}function y9(r,o){const n=Number.parseInt(r,o);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function iu(r){return r.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ql=rh(/[A-Za-z]/),Nl=rh(/[\dA-Za-z]/),qv=rh(/[#-'*+\--9=?A-Z^-~]/);function C5(r){return r!==null&&(r<32||r===127)}const wf=rh(/\d/),Xv=rh(/[\dA-Fa-f]/),jv=rh(/[!-/:-@[-`{-~]/);function tr(r){return r!==null&&r<-2}function ws(r){return r!==null&&(r<0||r===32)}function gi(r){return r===-2||r===-1||r===32}const P5=rh(new RegExp("\\p{P}|\\p{S}","u")),Zh=rh(/\s/);function rh(r){return o;function o(n){return n!==null&&n>-1&&r.test(String.fromCharCode(n))}}function k4(r){const o=[];let n=-1,a=0,h=0;for(;++n<r.length;){const p=r.charCodeAt(n);let $="";if(p===37&&Nl(r.charCodeAt(n+1))&&Nl(r.charCodeAt(n+2)))h=2;else if(p<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(p))||($=String.fromCharCode(p));else if(p>55295&&p<57344){const _=r.charCodeAt(n+1);p<56320&&_>56319&&_<57344?($=String.fromCharCode(p,_),h=1):$=""}else $=String.fromCharCode(p);$&&(o.push(r.slice(a,n),encodeURIComponent($)),a=n+h+1,$=""),h&&(n+=h,h=0)}return o.join("")+r.slice(a)}function oi(r,o,n,a){const h=a?a-1:Number.POSITIVE_INFINITY;let p=0;return $;function $(y){return gi(y)?(r.enter(n),_(y)):o(y)}function _(y){return gi(y)&&p++<h?(r.consume(y),_):(r.exit(n),o(y))}}const Yv={tokenize:Kv};function Kv(r){const o=r.attempt(this.parser.constructs.contentInitial,a,h);let n;return o;function a(_){if(_===null){r.consume(_);return}return r.enter("lineEnding"),r.consume(_),r.exit("lineEnding"),oi(r,o,"linePrefix")}function h(_){return r.enter("paragraph"),p(_)}function p(_){const y=r.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=y),n=y,$(_)}function $(_){if(_===null){r.exit("chunkText"),r.exit("paragraph"),r.consume(_);return}return tr(_)?(r.consume(_),r.exit("chunkText"),p):(r.consume(_),$)}}const Jv={tokenize:Zv},Am={tokenize:Qv};function Zv(r){const o=this,n=[];let a=0,h,p,$;return _;function _(we){if(a<n.length){const Oe=n[a];return o.containerState=Oe[1],r.attempt(Oe[0].continuation,y,E)(we)}return E(we)}function y(we){if(a++,o.containerState._closeFlow){o.containerState._closeFlow=void 0,h&&se();const Oe=o.events.length;let De=Oe,Se;for(;De--;)if(o.events[De][0]==="exit"&&o.events[De][1].type==="chunkFlow"){Se=o.events[De][1].end;break}K(a);let je=Oe;for(;je<o.events.length;)o.events[je][1].end={...Se},je++;return H0(o.events,De+1,0,o.events.slice(Oe)),o.events.length=je,E(we)}return _(we)}function E(we){if(a===n.length){if(!h)return H(we);if(h.currentConstruct&&h.currentConstruct.concrete)return te(we);o.interrupt=!!(h.currentConstruct&&!h._gfmTableDynamicInterruptHack)}return o.containerState={},r.check(Am,w,I)(we)}function w(we){return h&&se(),K(a),H(we)}function I(we){return o.parser.lazy[o.now().line]=a!==n.length,$=o.now().offset,te(we)}function H(we){return o.containerState={},r.attempt(Am,F,te)(we)}function F(we){return a++,n.push([o.currentConstruct,o.containerState]),H(we)}function te(we){if(we===null){h&&se(),K(0),r.consume(we);return}return h=h||o.parser.flow(o.now()),r.enter("chunkFlow",{_tokenizer:h,contentType:"flow",previous:p}),he(we)}function he(we){if(we===null){ce(r.exit("chunkFlow"),!0),K(0),r.consume(we);return}return tr(we)?(r.consume(we),ce(r.exit("chunkFlow")),a=0,o.interrupt=void 0,_):(r.consume(we),he)}function ce(we,Oe){const De=o.sliceStream(we);if(Oe&&De.push(null),we.previous=p,p&&(p.next=we),p=we,h.defineSkip(we.start),h.write(De),o.parser.lazy[we.start.line]){let Se=h.events.length;for(;Se--;)if(h.events[Se][1].start.offset<$&&(!h.events[Se][1].end||h.events[Se][1].end.offset>$))return;const je=o.events.length;let at=je,Ze,Ke;for(;at--;)if(o.events[at][0]==="exit"&&o.events[at][1].type==="chunkFlow"){if(Ze){Ke=o.events[at][1].end;break}Ze=!0}for(K(a),Se=je;Se<o.events.length;)o.events[Se][1].end={...Ke},Se++;H0(o.events,at+1,0,o.events.slice(je)),o.events.length=Se}}function K(we){let Oe=n.length;for(;Oe-- >we;){const De=n[Oe];o.containerState=De[1],De[0].exit.call(o,r)}n.length=we}function se(){h.write([null]),p=void 0,h=void 0,o.containerState._closeFlow=void 0}}function Qv(r,o,n){return oi(r,r.attempt(this.parser.constructs.document,o,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function S4(r){if(r===null||ws(r)||Zh(r))return 1;if(P5(r))return 2}function F5(r,o,n){const a=[];let h=-1;for(;++h<r.length;){const p=r[h].resolveAll;p&&!a.includes(p)&&(o=p(o,n),a.push(p))}return o}const Sf={name:"attention",resolveAll:eT,tokenize:tT};function eT(r,o){let n=-1,a,h,p,$,_,y,E,w;for(;++n<r.length;)if(r[n][0]==="enter"&&r[n][1].type==="attentionSequence"&&r[n][1]._close){for(a=n;a--;)if(r[a][0]==="exit"&&r[a][1].type==="attentionSequence"&&r[a][1]._open&&o.sliceSerialize(r[a][1]).charCodeAt(0)===o.sliceSerialize(r[n][1]).charCodeAt(0)){if((r[a][1]._close||r[n][1]._open)&&(r[n][1].end.offset-r[n][1].start.offset)%3&&!((r[a][1].end.offset-r[a][1].start.offset+r[n][1].end.offset-r[n][1].start.offset)%3))continue;y=r[a][1].end.offset-r[a][1].start.offset>1&&r[n][1].end.offset-r[n][1].start.offset>1?2:1;const I={...r[a][1].end},H={...r[n][1].start};Nm(I,-y),Nm(H,y),$={type:y>1?"strongSequence":"emphasisSequence",start:I,end:{...r[a][1].end}},_={type:y>1?"strongSequence":"emphasisSequence",start:{...r[n][1].start},end:H},p={type:y>1?"strongText":"emphasisText",start:{...r[a][1].end},end:{...r[n][1].start}},h={type:y>1?"strong":"emphasis",start:{...$.start},end:{..._.end}},r[a][1].end={...$.start},r[n][1].start={..._.end},E=[],r[a][1].end.offset-r[a][1].start.offset&&(E=_a(E,[["enter",r[a][1],o],["exit",r[a][1],o]])),E=_a(E,[["enter",h,o],["enter",$,o],["exit",$,o],["enter",p,o]]),E=_a(E,F5(o.parser.constructs.insideSpan.null,r.slice(a+1,n),o)),E=_a(E,[["exit",p,o],["enter",_,o],["exit",_,o],["exit",h,o]]),r[n][1].end.offset-r[n][1].start.offset?(w=2,E=_a(E,[["enter",r[n][1],o],["exit",r[n][1],o]])):w=0,H0(r,a-1,n-a+3,E),n=a+E.length-w-2;break}}for(n=-1;++n<r.length;)r[n][1].type==="attentionSequence"&&(r[n][1].type="data");return r}function tT(r,o){const n=this.parser.constructs.attentionMarkers.null,a=this.previous,h=S4(a);let p;return $;function $(y){return p=y,r.enter("attentionSequence"),_(y)}function _(y){if(y===p)return r.consume(y),_;const E=r.exit("attentionSequence"),w=S4(y),I=!w||w===2&&h||n.includes(y),H=!h||h===2&&w||n.includes(a);return E._open=!!(p===42?I:I&&(h||!H)),E._close=!!(p===42?H:H&&(w||!I)),o(y)}}function Nm(r,o){r.column+=o,r.offset+=o,r._bufferIndex+=o}const nT={name:"autolink",tokenize:rT};function rT(r,o,n){let a=0;return h;function h(F){return r.enter("autolink"),r.enter("autolinkMarker"),r.consume(F),r.exit("autolinkMarker"),r.enter("autolinkProtocol"),p}function p(F){return Ql(F)?(r.consume(F),$):F===64?n(F):E(F)}function $(F){return F===43||F===45||F===46||Nl(F)?(a=1,_(F)):E(F)}function _(F){return F===58?(r.consume(F),a=0,y):(F===43||F===45||F===46||Nl(F))&&a++<32?(r.consume(F),_):(a=0,E(F))}function y(F){return F===62?(r.exit("autolinkProtocol"),r.enter("autolinkMarker"),r.consume(F),r.exit("autolinkMarker"),r.exit("autolink"),o):F===null||F===32||F===60||C5(F)?n(F):(r.consume(F),y)}function E(F){return F===64?(r.consume(F),w):qv(F)?(r.consume(F),E):n(F)}function w(F){return Nl(F)?I(F):n(F)}function I(F){return F===46?(r.consume(F),a=0,w):F===62?(r.exit("autolinkProtocol").type="autolinkEmail",r.enter("autolinkMarker"),r.consume(F),r.exit("autolinkMarker"),r.exit("autolink"),o):H(F)}function H(F){if((F===45||Nl(F))&&a++<63){const te=F===45?H:I;return r.consume(F),te}return n(F)}}const p3={partial:!0,tokenize:iT};function iT(r,o,n){return a;function a(p){return gi(p)?oi(r,h,"linePrefix")(p):h(p)}function h(p){return p===null||tr(p)?o(p):n(p)}}const _9={continuation:{tokenize:oT},exit:lT,name:"blockQuote",tokenize:sT};function sT(r,o,n){const a=this;return h;function h($){if($===62){const _=a.containerState;return _.open||(r.enter("blockQuote",{_container:!0}),_.open=!0),r.enter("blockQuotePrefix"),r.enter("blockQuoteMarker"),r.consume($),r.exit("blockQuoteMarker"),p}return n($)}function p($){return gi($)?(r.enter("blockQuotePrefixWhitespace"),r.consume($),r.exit("blockQuotePrefixWhitespace"),r.exit("blockQuotePrefix"),o):(r.exit("blockQuotePrefix"),o($))}}function oT(r,o,n){const a=this;return h;function h($){return gi($)?oi(r,p,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):p($)}function p($){return r.attempt(_9,o,n)($)}}function lT(r){r.exit("blockQuote")}const E9={name:"characterEscape",tokenize:aT};function aT(r,o,n){return a;function a(p){return r.enter("characterEscape"),r.enter("escapeMarker"),r.consume(p),r.exit("escapeMarker"),h}function h(p){return jv(p)?(r.enter("characterEscapeValue"),r.consume(p),r.exit("characterEscapeValue"),r.exit("characterEscape"),o):n(p)}}const w9={name:"characterReference",tokenize:uT};function uT(r,o,n){const a=this;let h=0,p,$;return _;function _(I){return r.enter("characterReference"),r.enter("characterReferenceMarker"),r.consume(I),r.exit("characterReferenceMarker"),y}function y(I){return I===35?(r.enter("characterReferenceMarkerNumeric"),r.consume(I),r.exit("characterReferenceMarkerNumeric"),E):(r.enter("characterReferenceValue"),p=31,$=Nl,w(I))}function E(I){return I===88||I===120?(r.enter("characterReferenceMarkerHexadecimal"),r.consume(I),r.exit("characterReferenceMarkerHexadecimal"),r.enter("characterReferenceValue"),p=6,$=Xv,w):(r.enter("characterReferenceValue"),p=7,$=wf,w(I))}function w(I){if(I===59&&h){const H=r.exit("characterReferenceValue");return $===Nl&&!Kf(a.sliceSerialize(H))?n(I):(r.enter("characterReferenceMarker"),r.consume(I),r.exit("characterReferenceMarker"),r.exit("characterReference"),o)}return $(I)&&h++<p?(r.consume(I),w):n(I)}}const Mm={partial:!0,tokenize:hT},Om={concrete:!0,name:"codeFenced",tokenize:cT};function cT(r,o,n){const a=this,h={partial:!0,tokenize:De};let p=0,$=0,_;return y;function y(Se){return E(Se)}function E(Se){const je=a.events[a.events.length-1];return p=je&&je[1].type==="linePrefix"?je[2].sliceSerialize(je[1],!0).length:0,_=Se,r.enter("codeFenced"),r.enter("codeFencedFence"),r.enter("codeFencedFenceSequence"),w(Se)}function w(Se){return Se===_?($++,r.consume(Se),w):$<3?n(Se):(r.exit("codeFencedFenceSequence"),gi(Se)?oi(r,I,"whitespace")(Se):I(Se))}function I(Se){return Se===null||tr(Se)?(r.exit("codeFencedFence"),a.interrupt?o(Se):r.check(Mm,he,Oe)(Se)):(r.enter("codeFencedFenceInfo"),r.enter("chunkString",{contentType:"string"}),H(Se))}function H(Se){return Se===null||tr(Se)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),I(Se)):gi(Se)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),oi(r,F,"whitespace")(Se)):Se===96&&Se===_?n(Se):(r.consume(Se),H)}function F(Se){return Se===null||tr(Se)?I(Se):(r.enter("codeFencedFenceMeta"),r.enter("chunkString",{contentType:"string"}),te(Se))}function te(Se){return Se===null||tr(Se)?(r.exit("chunkString"),r.exit("codeFencedFenceMeta"),I(Se)):Se===96&&Se===_?n(Se):(r.consume(Se),te)}function he(Se){return r.attempt(h,Oe,ce)(Se)}function ce(Se){return r.enter("lineEnding"),r.consume(Se),r.exit("lineEnding"),K}function K(Se){return p>0&&gi(Se)?oi(r,se,"linePrefix",p+1)(Se):se(Se)}function se(Se){return Se===null||tr(Se)?r.check(Mm,he,Oe)(Se):(r.enter("codeFlowValue"),we(Se))}function we(Se){return Se===null||tr(Se)?(r.exit("codeFlowValue"),se(Se)):(r.consume(Se),we)}function Oe(Se){return r.exit("codeFenced"),o(Se)}function De(Se,je,at){let Ze=0;return Ke;function Ke(Ot){return Se.enter("lineEnding"),Se.consume(Ot),Se.exit("lineEnding"),Pt}function Pt(Ot){return Se.enter("codeFencedFence"),gi(Ot)?oi(Se,Ve,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ot):Ve(Ot)}function Ve(Ot){return Ot===_?(Se.enter("codeFencedFenceSequence"),Xt(Ot)):at(Ot)}function Xt(Ot){return Ot===_?(Ze++,Se.consume(Ot),Xt):Ze>=$?(Se.exit("codeFencedFenceSequence"),gi(Ot)?oi(Se,Lt,"whitespace")(Ot):Lt(Ot)):at(Ot)}function Lt(Ot){return Ot===null||tr(Ot)?(Se.exit("codeFencedFence"),je(Ot)):at(Ot)}}}function hT(r,o,n){const a=this;return h;function h($){return $===null?n($):(r.enter("lineEnding"),r.consume($),r.exit("lineEnding"),p)}function p($){return a.parser.lazy[a.now().line]?n($):o($)}}const V6={name:"codeIndented",tokenize:fT},dT={partial:!0,tokenize:pT};function fT(r,o,n){const a=this;return h;function h(E){return r.enter("codeIndented"),oi(r,p,"linePrefix",5)(E)}function p(E){const w=a.events[a.events.length-1];return w&&w[1].type==="linePrefix"&&w[2].sliceSerialize(w[1],!0).length>=4?$(E):n(E)}function $(E){return E===null?y(E):tr(E)?r.attempt(dT,$,y)(E):(r.enter("codeFlowValue"),_(E))}function _(E){return E===null||tr(E)?(r.exit("codeFlowValue"),$(E)):(r.consume(E),_)}function y(E){return r.exit("codeIndented"),o(E)}}function pT(r,o,n){const a=this;return h;function h($){return a.parser.lazy[a.now().line]?n($):tr($)?(r.enter("lineEnding"),r.consume($),r.exit("lineEnding"),h):oi(r,p,"linePrefix",5)($)}function p($){const _=a.events[a.events.length-1];return _&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?o($):tr($)?h($):n($)}}const mT={name:"codeText",previous:$T,resolve:gT,tokenize:bT};function gT(r){let o=r.length-4,n=3,a,h;if((r[n][1].type==="lineEnding"||r[n][1].type==="space")&&(r[o][1].type==="lineEnding"||r[o][1].type==="space")){for(a=n;++a<o;)if(r[a][1].type==="codeTextData"){r[n][1].type="codeTextPadding",r[o][1].type="codeTextPadding",n+=2,o-=2;break}}for(a=n-1,o++;++a<=o;)h===void 0?a!==o&&r[a][1].type!=="lineEnding"&&(h=a):(a===o||r[a][1].type==="lineEnding")&&(r[h][1].type="codeTextData",a!==h+2&&(r[h][1].end=r[a-1][1].end,r.splice(h+2,a-h-2),o-=a-h-2,a=h+2),h=void 0);return r}function $T(r){return r!==96||this.events[this.events.length-1][1].type==="characterEscape"}function bT(r,o,n){let a=0,h,p;return $;function $(I){return r.enter("codeText"),r.enter("codeTextSequence"),_(I)}function _(I){return I===96?(r.consume(I),a++,_):(r.exit("codeTextSequence"),y(I))}function y(I){return I===null?n(I):I===32?(r.enter("space"),r.consume(I),r.exit("space"),y):I===96?(p=r.enter("codeTextSequence"),h=0,w(I)):tr(I)?(r.enter("lineEnding"),r.consume(I),r.exit("lineEnding"),y):(r.enter("codeTextData"),E(I))}function E(I){return I===null||I===32||I===96||tr(I)?(r.exit("codeTextData"),y(I)):(r.consume(I),E)}function w(I){return I===96?(r.consume(I),h++,w):h===a?(r.exit("codeTextSequence"),r.exit("codeText"),o(I)):(p.type="codeTextData",E(I))}}class vT{constructor(o){this.left=o?[...o]:[],this.right=[]}get(o){if(o<0||o>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+o+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return o<this.left.length?this.left[o]:this.right[this.right.length-o+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(o,n){const a=n??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(o,a):o>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-o+this.left.length).reverse():this.left.slice(o).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(o,n,a){const h=n||0;this.setCursor(Math.trunc(o));const p=this.right.splice(this.right.length-h,Number.POSITIVE_INFINITY);return a&&K2(this.left,a),p.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(o){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(o)}pushMany(o){this.setCursor(Number.POSITIVE_INFINITY),K2(this.left,o)}unshift(o){this.setCursor(0),this.right.push(o)}unshiftMany(o){this.setCursor(0),K2(this.right,o.reverse())}setCursor(o){if(!(o===this.left.length||o>this.left.length&&this.right.length===0||o<0&&this.left.length===0))if(o<this.left.length){const n=this.left.splice(o,Number.POSITIVE_INFINITY);K2(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-o,Number.POSITIVE_INFINITY);K2(this.left,n.reverse())}}}function K2(r,o){let n=0;if(o.length<1e4)r.push(...o);else for(;n<o.length;)r.push(...o.slice(n,n+1e4)),n+=1e4}function S9(r){const o={};let n=-1,a,h,p,$,_,y,E;const w=new vT(r);for(;++n<w.length;){for(;n in o;)n=o[n];if(a=w.get(n),n&&a[1].type==="chunkFlow"&&w.get(n-1)[1].type==="listItemPrefix"&&(y=a[1]._tokenizer.events,p=0,p<y.length&&y[p][1].type==="lineEndingBlank"&&(p+=2),p<y.length&&y[p][1].type==="content"))for(;++p<y.length&&y[p][1].type!=="content";)y[p][1].type==="chunkText"&&(y[p][1]._isInFirstContentOfListItem=!0,p++);if(a[0]==="enter")a[1].contentType&&(Object.assign(o,TT(w,n)),n=o[n],E=!0);else if(a[1]._container){for(p=n,h=void 0;p--;)if($=w.get(p),$[1].type==="lineEnding"||$[1].type==="lineEndingBlank")$[0]==="enter"&&(h&&(w.get(h)[1].type="lineEndingBlank"),$[1].type="lineEnding",h=p);else if(!($[1].type==="linePrefix"||$[1].type==="listItemIndent"))break;h&&(a[1].end={...w.get(h)[1].start},_=w.slice(h,n),_.unshift(a),w.splice(h,n-h+1,_))}}return H0(r,0,Number.POSITIVE_INFINITY,w.slice(0)),!E}function TT(r,o){const n=r.get(o)[1],a=r.get(o)[2];let h=o-1;const p=[];let $=n._tokenizer;$||($=a.parser[n.contentType](n.start),n._contentTypeTextTrailing&&($._contentTypeTextTrailing=!0));const _=$.events,y=[],E={};let w,I,H=-1,F=n,te=0,he=0;const ce=[he];for(;F;){for(;r.get(++h)[1]!==F;);p.push(h),F._tokenizer||(w=a.sliceStream(F),F.next||w.push(null),I&&$.defineSkip(F.start),F._isInFirstContentOfListItem&&($._gfmTasklistFirstContentOfListItem=!0),$.write(w),F._isInFirstContentOfListItem&&($._gfmTasklistFirstContentOfListItem=void 0)),I=F,F=F.next}for(F=n;++H<_.length;)_[H][0]==="exit"&&_[H-1][0]==="enter"&&_[H][1].type===_[H-1][1].type&&_[H][1].start.line!==_[H][1].end.line&&(he=H+1,ce.push(he),F._tokenizer=void 0,F.previous=void 0,F=F.next);for($.events=[],F?(F._tokenizer=void 0,F.previous=void 0):ce.pop(),H=ce.length;H--;){const K=_.slice(ce[H],ce[H+1]),se=p.pop();y.push([se,se+K.length-1]),r.splice(se,2,K)}for(y.reverse(),H=-1;++H<y.length;)E[te+y[H][0]]=te+y[H][1],te+=y[H][1]-y[H][0]-1;return E}const yT={resolve:ET,tokenize:wT},_T={partial:!0,tokenize:ST};function ET(r){return S9(r),r}function wT(r,o){let n;return a;function a(_){return r.enter("content"),n=r.enter("chunkContent",{contentType:"content"}),h(_)}function h(_){return _===null?p(_):tr(_)?r.check(_T,$,p)(_):(r.consume(_),h)}function p(_){return r.exit("chunkContent"),r.exit("content"),o(_)}function $(_){return r.consume(_),r.exit("chunkContent"),n.next=r.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,h}}function ST(r,o,n){const a=this;return h;function h($){return r.exit("chunkContent"),r.enter("lineEnding"),r.consume($),r.exit("lineEnding"),oi(r,p,"linePrefix")}function p($){if($===null||tr($))return n($);const _=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&_&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?o($):r.interrupt(a.parser.constructs.flow,n,o)($)}}function x9(r,o,n,a,h,p,$,_,y){const E=y||Number.POSITIVE_INFINITY;let w=0;return I;function I(K){return K===60?(r.enter(a),r.enter(h),r.enter(p),r.consume(K),r.exit(p),H):K===null||K===32||K===41||C5(K)?n(K):(r.enter(a),r.enter($),r.enter(_),r.enter("chunkString",{contentType:"string"}),he(K))}function H(K){return K===62?(r.enter(p),r.consume(K),r.exit(p),r.exit(h),r.exit(a),o):(r.enter(_),r.enter("chunkString",{contentType:"string"}),F(K))}function F(K){return K===62?(r.exit("chunkString"),r.exit(_),H(K)):K===null||K===60||tr(K)?n(K):(r.consume(K),K===92?te:F)}function te(K){return K===60||K===62||K===92?(r.consume(K),F):F(K)}function he(K){return!w&&(K===null||K===41||ws(K))?(r.exit("chunkString"),r.exit(_),r.exit($),r.exit(a),o(K)):w<E&&K===40?(r.consume(K),w++,he):K===41?(r.consume(K),w--,he):K===null||K===32||K===40||C5(K)?n(K):(r.consume(K),K===92?ce:he)}function ce(K){return K===40||K===41||K===92?(r.consume(K),he):he(K)}}function C9(r,o,n,a,h,p){const $=this;let _=0,y;return E;function E(F){return r.enter(a),r.enter(h),r.consume(F),r.exit(h),r.enter(p),w}function w(F){return _>999||F===null||F===91||F===93&&!y||F===94&&!_&&"_hiddenFootnoteSupport"in $.parser.constructs?n(F):F===93?(r.exit(p),r.enter(h),r.consume(F),r.exit(h),r.exit(a),o):tr(F)?(r.enter("lineEnding"),r.consume(F),r.exit("lineEnding"),w):(r.enter("chunkString",{contentType:"string"}),I(F))}function I(F){return F===null||F===91||F===93||tr(F)||_++>999?(r.exit("chunkString"),w(F)):(r.consume(F),y||(y=!gi(F)),F===92?H:I)}function H(F){return F===91||F===92||F===93?(r.consume(F),_++,I):I(F)}}function k9(r,o,n,a,h,p){let $;return _;function _(H){return H===34||H===39||H===40?(r.enter(a),r.enter(h),r.consume(H),r.exit(h),$=H===40?41:H,y):n(H)}function y(H){return H===$?(r.enter(h),r.consume(H),r.exit(h),r.exit(a),o):(r.enter(p),E(H))}function E(H){return H===$?(r.exit(p),y($)):H===null?n(H):tr(H)?(r.enter("lineEnding"),r.consume(H),r.exit("lineEnding"),oi(r,E,"linePrefix")):(r.enter("chunkString",{contentType:"string"}),w(H))}function w(H){return H===$||H===null||tr(H)?(r.exit("chunkString"),E(H)):(r.consume(H),H===92?I:w)}function I(H){return H===$||H===92?(r.consume(H),w):w(H)}}function n3(r,o){let n;return a;function a(h){return tr(h)?(r.enter("lineEnding"),r.consume(h),r.exit("lineEnding"),n=!0,a):gi(h)?oi(r,a,n?"linePrefix":"lineSuffix")(h):o(h)}}const xT={name:"definition",tokenize:kT},CT={partial:!0,tokenize:IT};function kT(r,o,n){const a=this;let h;return p;function p(F){return r.enter("definition"),$(F)}function $(F){return C9.call(a,r,_,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(F)}function _(F){return h=iu(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),F===58?(r.enter("definitionMarker"),r.consume(F),r.exit("definitionMarker"),y):n(F)}function y(F){return ws(F)?n3(r,E)(F):E(F)}function E(F){return x9(r,w,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(F)}function w(F){return r.attempt(CT,I,I)(F)}function I(F){return gi(F)?oi(r,H,"whitespace")(F):H(F)}function H(F){return F===null||tr(F)?(r.exit("definition"),a.parser.defined.push(h),o(F)):n(F)}}function IT(r,o,n){return a;function a(_){return ws(_)?n3(r,h)(_):n(_)}function h(_){return k9(r,p,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(_)}function p(_){return gi(_)?oi(r,$,"whitespace")(_):$(_)}function $(_){return _===null||tr(_)?o(_):n(_)}}const AT={name:"hardBreakEscape",tokenize:NT};function NT(r,o,n){return a;function a(p){return r.enter("hardBreakEscape"),r.consume(p),h}function h(p){return tr(p)?(r.exit("hardBreakEscape"),o(p)):n(p)}}const MT={name:"headingAtx",resolve:OT,tokenize:RT};function OT(r,o){let n=r.length-2,a=3,h,p;return r[a][1].type==="whitespace"&&(a+=2),n-2>a&&r[n][1].type==="whitespace"&&(n-=2),r[n][1].type==="atxHeadingSequence"&&(a===n-1||n-4>a&&r[n-2][1].type==="whitespace")&&(n-=a+1===n?2:4),n>a&&(h={type:"atxHeadingText",start:r[a][1].start,end:r[n][1].end},p={type:"chunkText",start:r[a][1].start,end:r[n][1].end,contentType:"text"},H0(r,a,n-a+1,[["enter",h,o],["enter",p,o],["exit",p,o],["exit",h,o]])),r}function RT(r,o,n){let a=0;return h;function h(w){return r.enter("atxHeading"),p(w)}function p(w){return r.enter("atxHeadingSequence"),$(w)}function $(w){return w===35&&a++<6?(r.consume(w),$):w===null||ws(w)?(r.exit("atxHeadingSequence"),_(w)):n(w)}function _(w){return w===35?(r.enter("atxHeadingSequence"),y(w)):w===null||tr(w)?(r.exit("atxHeading"),o(w)):gi(w)?oi(r,_,"whitespace")(w):(r.enter("atxHeadingText"),E(w))}function y(w){return w===35?(r.consume(w),y):(r.exit("atxHeadingSequence"),_(w))}function E(w){return w===null||w===35||ws(w)?(r.exit("atxHeadingText"),_(w)):(r.consume(w),E)}}const LT=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Rm=["pre","script","style","textarea"],DT={concrete:!0,name:"htmlFlow",resolveTo:FT,tokenize:UT},BT={partial:!0,tokenize:HT},PT={partial:!0,tokenize:zT};function FT(r){let o=r.length;for(;o--&&!(r[o][0]==="enter"&&r[o][1].type==="htmlFlow"););return o>1&&r[o-2][1].type==="linePrefix"&&(r[o][1].start=r[o-2][1].start,r[o+1][1].start=r[o-2][1].start,r.splice(o-2,2)),r}function UT(r,o,n){const a=this;let h,p,$,_,y;return E;function E(_e){return w(_e)}function w(_e){return r.enter("htmlFlow"),r.enter("htmlFlowData"),r.consume(_e),I}function I(_e){return _e===33?(r.consume(_e),H):_e===47?(r.consume(_e),p=!0,he):_e===63?(r.consume(_e),h=3,a.interrupt?o:de):Ql(_e)?(r.consume(_e),$=String.fromCharCode(_e),ce):n(_e)}function H(_e){return _e===45?(r.consume(_e),h=2,F):_e===91?(r.consume(_e),h=5,_=0,te):Ql(_e)?(r.consume(_e),h=4,a.interrupt?o:de):n(_e)}function F(_e){return _e===45?(r.consume(_e),a.interrupt?o:de):n(_e)}function te(_e){const Ft="CDATA[";return _e===Ft.charCodeAt(_++)?(r.consume(_e),_===Ft.length?a.interrupt?o:Ve:te):n(_e)}function he(_e){return Ql(_e)?(r.consume(_e),$=String.fromCharCode(_e),ce):n(_e)}function ce(_e){if(_e===null||_e===47||_e===62||ws(_e)){const Ft=_e===47,It=$.toLowerCase();return!Ft&&!p&&Rm.includes(It)?(h=1,a.interrupt?o(_e):Ve(_e)):LT.includes($.toLowerCase())?(h=6,Ft?(r.consume(_e),K):a.interrupt?o(_e):Ve(_e)):(h=7,a.interrupt&&!a.parser.lazy[a.now().line]?n(_e):p?se(_e):we(_e))}return _e===45||Nl(_e)?(r.consume(_e),$+=String.fromCharCode(_e),ce):n(_e)}function K(_e){return _e===62?(r.consume(_e),a.interrupt?o:Ve):n(_e)}function se(_e){return gi(_e)?(r.consume(_e),se):Ke(_e)}function we(_e){return _e===47?(r.consume(_e),Ke):_e===58||_e===95||Ql(_e)?(r.consume(_e),Oe):gi(_e)?(r.consume(_e),we):Ke(_e)}function Oe(_e){return _e===45||_e===46||_e===58||_e===95||Nl(_e)?(r.consume(_e),Oe):De(_e)}function De(_e){return _e===61?(r.consume(_e),Se):gi(_e)?(r.consume(_e),De):we(_e)}function Se(_e){return _e===null||_e===60||_e===61||_e===62||_e===96?n(_e):_e===34||_e===39?(r.consume(_e),y=_e,je):gi(_e)?(r.consume(_e),Se):at(_e)}function je(_e){return _e===y?(r.consume(_e),y=null,Ze):_e===null||tr(_e)?n(_e):(r.consume(_e),je)}function at(_e){return _e===null||_e===34||_e===39||_e===47||_e===60||_e===61||_e===62||_e===96||ws(_e)?De(_e):(r.consume(_e),at)}function Ze(_e){return _e===47||_e===62||gi(_e)?we(_e):n(_e)}function Ke(_e){return _e===62?(r.consume(_e),Pt):n(_e)}function Pt(_e){return _e===null||tr(_e)?Ve(_e):gi(_e)?(r.consume(_e),Pt):n(_e)}function Ve(_e){return _e===45&&h===2?(r.consume(_e),st):_e===60&&h===1?(r.consume(_e),St):_e===62&&h===4?(r.consume(_e),Le):_e===63&&h===3?(r.consume(_e),de):_e===93&&h===5?(r.consume(_e),an):tr(_e)&&(h===6||h===7)?(r.exit("htmlFlowData"),r.check(BT,tt,Xt)(_e)):_e===null||tr(_e)?(r.exit("htmlFlowData"),Xt(_e)):(r.consume(_e),Ve)}function Xt(_e){return r.check(PT,Lt,tt)(_e)}function Lt(_e){return r.enter("lineEnding"),r.consume(_e),r.exit("lineEnding"),Ot}function Ot(_e){return _e===null||tr(_e)?Xt(_e):(r.enter("htmlFlowData"),Ve(_e))}function st(_e){return _e===45?(r.consume(_e),de):Ve(_e)}function St(_e){return _e===47?(r.consume(_e),$="",vt):Ve(_e)}function vt(_e){if(_e===62){const Ft=$.toLowerCase();return Rm.includes(Ft)?(r.consume(_e),Le):Ve(_e)}return Ql(_e)&&$.length<8?(r.consume(_e),$+=String.fromCharCode(_e),vt):Ve(_e)}function an(_e){return _e===93?(r.consume(_e),de):Ve(_e)}function de(_e){return _e===62?(r.consume(_e),Le):_e===45&&h===2?(r.consume(_e),de):Ve(_e)}function Le(_e){return _e===null||tr(_e)?(r.exit("htmlFlowData"),tt(_e)):(r.consume(_e),Le)}function tt(_e){return r.exit("htmlFlow"),o(_e)}}function zT(r,o,n){const a=this;return h;function h($){return tr($)?(r.enter("lineEnding"),r.consume($),r.exit("lineEnding"),p):n($)}function p($){return a.parser.lazy[a.now().line]?n($):o($)}}function HT(r,o,n){return a;function a(h){return r.enter("lineEnding"),r.consume(h),r.exit("lineEnding"),r.attempt(p3,o,n)}}const VT={name:"htmlText",tokenize:GT};function GT(r,o,n){const a=this;let h,p,$;return _;function _(de){return r.enter("htmlText"),r.enter("htmlTextData"),r.consume(de),y}function y(de){return de===33?(r.consume(de),E):de===47?(r.consume(de),De):de===63?(r.consume(de),we):Ql(de)?(r.consume(de),at):n(de)}function E(de){return de===45?(r.consume(de),w):de===91?(r.consume(de),p=0,te):Ql(de)?(r.consume(de),se):n(de)}function w(de){return de===45?(r.consume(de),F):n(de)}function I(de){return de===null?n(de):de===45?(r.consume(de),H):tr(de)?($=I,St(de)):(r.consume(de),I)}function H(de){return de===45?(r.consume(de),F):I(de)}function F(de){return de===62?st(de):de===45?H(de):I(de)}function te(de){const Le="CDATA[";return de===Le.charCodeAt(p++)?(r.consume(de),p===Le.length?he:te):n(de)}function he(de){return de===null?n(de):de===93?(r.consume(de),ce):tr(de)?($=he,St(de)):(r.consume(de),he)}function ce(de){return de===93?(r.consume(de),K):he(de)}function K(de){return de===62?st(de):de===93?(r.consume(de),K):he(de)}function se(de){return de===null||de===62?st(de):tr(de)?($=se,St(de)):(r.consume(de),se)}function we(de){return de===null?n(de):de===63?(r.consume(de),Oe):tr(de)?($=we,St(de)):(r.consume(de),we)}function Oe(de){return de===62?st(de):we(de)}function De(de){return Ql(de)?(r.consume(de),Se):n(de)}function Se(de){return de===45||Nl(de)?(r.consume(de),Se):je(de)}function je(de){return tr(de)?($=je,St(de)):gi(de)?(r.consume(de),je):st(de)}function at(de){return de===45||Nl(de)?(r.consume(de),at):de===47||de===62||ws(de)?Ze(de):n(de)}function Ze(de){return de===47?(r.consume(de),st):de===58||de===95||Ql(de)?(r.consume(de),Ke):tr(de)?($=Ze,St(de)):gi(de)?(r.consume(de),Ze):st(de)}function Ke(de){return de===45||de===46||de===58||de===95||Nl(de)?(r.consume(de),Ke):Pt(de)}function Pt(de){return de===61?(r.consume(de),Ve):tr(de)?($=Pt,St(de)):gi(de)?(r.consume(de),Pt):Ze(de)}function Ve(de){return de===null||de===60||de===61||de===62||de===96?n(de):de===34||de===39?(r.consume(de),h=de,Xt):tr(de)?($=Ve,St(de)):gi(de)?(r.consume(de),Ve):(r.consume(de),Lt)}function Xt(de){return de===h?(r.consume(de),h=void 0,Ot):de===null?n(de):tr(de)?($=Xt,St(de)):(r.consume(de),Xt)}function Lt(de){return de===null||de===34||de===39||de===60||de===61||de===96?n(de):de===47||de===62||ws(de)?Ze(de):(r.consume(de),Lt)}function Ot(de){return de===47||de===62||ws(de)?Ze(de):n(de)}function st(de){return de===62?(r.consume(de),r.exit("htmlTextData"),r.exit("htmlText"),o):n(de)}function St(de){return r.exit("htmlTextData"),r.enter("lineEnding"),r.consume(de),r.exit("lineEnding"),vt}function vt(de){return gi(de)?oi(r,an,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(de):an(de)}function an(de){return r.enter("htmlTextData"),$(de)}}const Jf={name:"labelEnd",resolveAll:jT,resolveTo:YT,tokenize:KT},WT={tokenize:JT},qT={tokenize:ZT},XT={tokenize:QT};function jT(r){let o=-1;const n=[];for(;++o<r.length;){const a=r[o][1];if(n.push(r[o]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const h=a.type==="labelImage"?4:2;a.type="data",o+=h}}return r.length!==n.length&&H0(r,0,r.length,n),r}function YT(r,o){let n=r.length,a=0,h,p,$,_;for(;n--;)if(h=r[n][1],p){if(h.type==="link"||h.type==="labelLink"&&h._inactive)break;r[n][0]==="enter"&&h.type==="labelLink"&&(h._inactive=!0)}else if($){if(r[n][0]==="enter"&&(h.type==="labelImage"||h.type==="labelLink")&&!h._balanced&&(p=n,h.type!=="labelLink")){a=2;break}}else h.type==="labelEnd"&&($=n);const y={type:r[p][1].type==="labelLink"?"link":"image",start:{...r[p][1].start},end:{...r[r.length-1][1].end}},E={type:"label",start:{...r[p][1].start},end:{...r[$][1].end}},w={type:"labelText",start:{...r[p+a+2][1].end},end:{...r[$-2][1].start}};return _=[["enter",y,o],["enter",E,o]],_=_a(_,r.slice(p+1,p+a+3)),_=_a(_,[["enter",w,o]]),_=_a(_,F5(o.parser.constructs.insideSpan.null,r.slice(p+a+4,$-3),o)),_=_a(_,[["exit",w,o],r[$-2],r[$-1],["exit",E,o]]),_=_a(_,r.slice($+1)),_=_a(_,[["exit",y,o]]),H0(r,p,r.length,_),r}function KT(r,o,n){const a=this;let h=a.events.length,p,$;for(;h--;)if((a.events[h][1].type==="labelImage"||a.events[h][1].type==="labelLink")&&!a.events[h][1]._balanced){p=a.events[h][1];break}return _;function _(H){return p?p._inactive?I(H):($=a.parser.defined.includes(iu(a.sliceSerialize({start:p.end,end:a.now()}))),r.enter("labelEnd"),r.enter("labelMarker"),r.consume(H),r.exit("labelMarker"),r.exit("labelEnd"),y):n(H)}function y(H){return H===40?r.attempt(WT,w,$?w:I)(H):H===91?r.attempt(qT,w,$?E:I)(H):$?w(H):I(H)}function E(H){return r.attempt(XT,w,I)(H)}function w(H){return o(H)}function I(H){return p._balanced=!0,n(H)}}function JT(r,o,n){return a;function a(I){return r.enter("resource"),r.enter("resourceMarker"),r.consume(I),r.exit("resourceMarker"),h}function h(I){return ws(I)?n3(r,p)(I):p(I)}function p(I){return I===41?w(I):x9(r,$,_,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(I)}function $(I){return ws(I)?n3(r,y)(I):w(I)}function _(I){return n(I)}function y(I){return I===34||I===39||I===40?k9(r,E,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(I):w(I)}function E(I){return ws(I)?n3(r,w)(I):w(I)}function w(I){return I===41?(r.enter("resourceMarker"),r.consume(I),r.exit("resourceMarker"),r.exit("resource"),o):n(I)}}function ZT(r,o,n){const a=this;return h;function h(_){return C9.call(a,r,p,$,"reference","referenceMarker","referenceString")(_)}function p(_){return a.parser.defined.includes(iu(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?o(_):n(_)}function $(_){return n(_)}}function QT(r,o,n){return a;function a(p){return r.enter("reference"),r.enter("referenceMarker"),r.consume(p),r.exit("referenceMarker"),h}function h(p){return p===93?(r.enter("referenceMarker"),r.consume(p),r.exit("referenceMarker"),r.exit("reference"),o):n(p)}}const ey={name:"labelStartImage",resolveAll:Jf.resolveAll,tokenize:ty};function ty(r,o,n){const a=this;return h;function h(_){return r.enter("labelImage"),r.enter("labelImageMarker"),r.consume(_),r.exit("labelImageMarker"),p}function p(_){return _===91?(r.enter("labelMarker"),r.consume(_),r.exit("labelMarker"),r.exit("labelImage"),$):n(_)}function $(_){return _===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(_):o(_)}}const ny={name:"labelStartLink",resolveAll:Jf.resolveAll,tokenize:ry};function ry(r,o,n){const a=this;return h;function h($){return r.enter("labelLink"),r.enter("labelMarker"),r.consume($),r.exit("labelMarker"),r.exit("labelLink"),p}function p($){return $===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n($):o($)}}const G6={name:"lineEnding",tokenize:iy};function iy(r,o){return n;function n(a){return r.enter("lineEnding"),r.consume(a),r.exit("lineEnding"),oi(r,o,"linePrefix")}}const E5={name:"thematicBreak",tokenize:sy};function sy(r,o,n){let a=0,h;return p;function p(E){return r.enter("thematicBreak"),$(E)}function $(E){return h=E,_(E)}function _(E){return E===h?(r.enter("thematicBreakSequence"),y(E)):a>=3&&(E===null||tr(E))?(r.exit("thematicBreak"),o(E)):n(E)}function y(E){return E===h?(r.consume(E),a++,y):(r.exit("thematicBreakSequence"),gi(E)?oi(r,_,"whitespace")(E):_(E))}}const d0={continuation:{tokenize:uy},exit:hy,name:"list",tokenize:ay},oy={partial:!0,tokenize:dy},ly={partial:!0,tokenize:cy};function ay(r,o,n){const a=this,h=a.events[a.events.length-1];let p=h&&h[1].type==="linePrefix"?h[2].sliceSerialize(h[1],!0).length:0,$=0;return _;function _(F){const te=a.containerState.type||(F===42||F===43||F===45?"listUnordered":"listOrdered");if(te==="listUnordered"?!a.containerState.marker||F===a.containerState.marker:wf(F)){if(a.containerState.type||(a.containerState.type=te,r.enter(te,{_container:!0})),te==="listUnordered")return r.enter("listItemPrefix"),F===42||F===45?r.check(E5,n,E)(F):E(F);if(!a.interrupt||F===49)return r.enter("listItemPrefix"),r.enter("listItemValue"),y(F)}return n(F)}function y(F){return wf(F)&&++$<10?(r.consume(F),y):(!a.interrupt||$<2)&&(a.containerState.marker?F===a.containerState.marker:F===41||F===46)?(r.exit("listItemValue"),E(F)):n(F)}function E(F){return r.enter("listItemMarker"),r.consume(F),r.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||F,r.check(p3,a.interrupt?n:w,r.attempt(oy,H,I))}function w(F){return a.containerState.initialBlankLine=!0,p++,H(F)}function I(F){return gi(F)?(r.enter("listItemPrefixWhitespace"),r.consume(F),r.exit("listItemPrefixWhitespace"),H):n(F)}function H(F){return a.containerState.size=p+a.sliceSerialize(r.exit("listItemPrefix"),!0).length,o(F)}}function uy(r,o,n){const a=this;return a.containerState._closeFlow=void 0,r.check(p3,h,p);function h(_){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,oi(r,o,"listItemIndent",a.containerState.size+1)(_)}function p(_){return a.containerState.furtherBlankLines||!gi(_)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,$(_)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,r.attempt(ly,o,$)(_))}function $(_){return a.containerState._closeFlow=!0,a.interrupt=void 0,oi(r,r.attempt(d0,o,n),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_)}}function cy(r,o,n){const a=this;return oi(r,h,"listItemIndent",a.containerState.size+1);function h(p){const $=a.events[a.events.length-1];return $&&$[1].type==="listItemIndent"&&$[2].sliceSerialize($[1],!0).length===a.containerState.size?o(p):n(p)}}function hy(r){r.exit(this.containerState.type)}function dy(r,o,n){const a=this;return oi(r,h,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function h(p){const $=a.events[a.events.length-1];return!gi(p)&&$&&$[1].type==="listItemPrefixWhitespace"?o(p):n(p)}}const Lm={name:"setextUnderline",resolveTo:fy,tokenize:py};function fy(r,o){let n=r.length,a,h,p;for(;n--;)if(r[n][0]==="enter"){if(r[n][1].type==="content"){a=n;break}r[n][1].type==="paragraph"&&(h=n)}else r[n][1].type==="content"&&r.splice(n,1),!p&&r[n][1].type==="definition"&&(p=n);const $={type:"setextHeading",start:{...r[a][1].start},end:{...r[r.length-1][1].end}};return r[h][1].type="setextHeadingText",p?(r.splice(h,0,["enter",$,o]),r.splice(p+1,0,["exit",r[a][1],o]),r[a][1].end={...r[p][1].end}):r[a][1]=$,r.push(["exit",$,o]),r}function py(r,o,n){const a=this;let h;return p;function p(E){let w=a.events.length,I;for(;w--;)if(a.events[w][1].type!=="lineEnding"&&a.events[w][1].type!=="linePrefix"&&a.events[w][1].type!=="content"){I=a.events[w][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||I)?(r.enter("setextHeadingLine"),h=E,$(E)):n(E)}function $(E){return r.enter("setextHeadingLineSequence"),_(E)}function _(E){return E===h?(r.consume(E),_):(r.exit("setextHeadingLineSequence"),gi(E)?oi(r,y,"lineSuffix")(E):y(E))}function y(E){return E===null||tr(E)?(r.exit("setextHeadingLine"),o(E)):n(E)}}const my={tokenize:gy};function gy(r){const o=this,n=r.attempt(p3,a,r.attempt(this.parser.constructs.flowInitial,h,oi(r,r.attempt(this.parser.constructs.flow,h,r.attempt(yT,h)),"linePrefix")));return n;function a(p){if(p===null){r.consume(p);return}return r.enter("lineEndingBlank"),r.consume(p),r.exit("lineEndingBlank"),o.currentConstruct=void 0,n}function h(p){if(p===null){r.consume(p);return}return r.enter("lineEnding"),r.consume(p),r.exit("lineEnding"),o.currentConstruct=void 0,n}}const $y={resolveAll:A9()},by=I9("string"),vy=I9("text");function I9(r){return{resolveAll:A9(r==="text"?Ty:void 0),tokenize:o};function o(n){const a=this,h=this.parser.constructs[r],p=n.attempt(h,$,_);return $;function $(w){return E(w)?p(w):_(w)}function _(w){if(w===null){n.consume(w);return}return n.enter("data"),n.consume(w),y}function y(w){return E(w)?(n.exit("data"),p(w)):(n.consume(w),y)}function E(w){if(w===null)return!0;const I=h[w];let H=-1;if(I)for(;++H<I.length;){const F=I[H];if(!F.previous||F.previous.call(a,a.previous))return!0}return!1}}}function A9(r){return o;function o(n,a){let h=-1,p;for(;++h<=n.length;)p===void 0?n[h]&&n[h][1].type==="data"&&(p=h,h++):(!n[h]||n[h][1].type!=="data")&&(h!==p+2&&(n[p][1].end=n[h-1][1].end,n.splice(p+2,h-p-2),h=p+2),p=void 0);return r?r(n,a):n}}function Ty(r,o){let n=0;for(;++n<=r.length;)if((n===r.length||r[n][1].type==="lineEnding")&&r[n-1][1].type==="data"){const a=r[n-1][1],h=o.sliceStream(a);let p=h.length,$=-1,_=0,y;for(;p--;){const E=h[p];if(typeof E=="string"){for($=E.length;E.charCodeAt($-1)===32;)_++,$--;if($)break;$=-1}else if(E===-2)y=!0,_++;else if(E!==-1){p++;break}}if(o._contentTypeTextTrailing&&n===r.length&&(_=0),_){const E={type:n===r.length||y||_<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:p?$:a.start._bufferIndex+$,_index:a.start._index+p,line:a.end.line,column:a.end.column-_,offset:a.end.offset-_},end:{...a.end}};a.end={...E.start},a.start.offset===a.end.offset?Object.assign(a,E):(r.splice(n,0,["enter",E,o],["exit",E,o]),n+=2)}n++}return r}const yy={42:d0,43:d0,45:d0,48:d0,49:d0,50:d0,51:d0,52:d0,53:d0,54:d0,55:d0,56:d0,57:d0,62:_9},_y={91:xT},Ey={[-2]:V6,[-1]:V6,32:V6},wy={35:MT,42:E5,45:[Lm,E5],60:DT,61:Lm,95:E5,96:Om,126:Om},Sy={38:w9,92:E9},xy={[-5]:G6,[-4]:G6,[-3]:G6,33:ey,38:w9,42:Sf,60:[nT,VT],91:ny,92:[AT,E9],93:Jf,95:Sf,96:mT},Cy={null:[Sf,$y]},ky={null:[42,95]},Iy={null:[]},Ay=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ky,contentInitial:_y,disable:Iy,document:yy,flow:wy,flowInitial:Ey,insideSpan:Cy,string:Sy,text:xy},Symbol.toStringTag,{value:"Module"}));function Ny(r,o,n){let a={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const h={},p=[];let $=[],_=[];const y={attempt:je(De),check:je(Se),consume:se,enter:we,exit:Oe,interrupt:je(Se,{interrupt:!0})},E={code:null,containerState:{},defineSkip:he,events:[],now:te,parser:r,previous:null,sliceSerialize:H,sliceStream:F,write:I};let w=o.tokenize.call(E,y);return o.resolveAll&&p.push(o),E;function I(Pt){return $=_a($,Pt),ce(),$[$.length-1]!==null?[]:(at(o,0),E.events=F5(p,E.events,E),E.events)}function H(Pt,Ve){return Oy(F(Pt),Ve)}function F(Pt){return My($,Pt)}function te(){const{_bufferIndex:Pt,_index:Ve,line:Xt,column:Lt,offset:Ot}=a;return{_bufferIndex:Pt,_index:Ve,line:Xt,column:Lt,offset:Ot}}function he(Pt){h[Pt.line]=Pt.column,Ke()}function ce(){let Pt;for(;a._index<$.length;){const Ve=$[a._index];if(typeof Ve=="string")for(Pt=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===Pt&&a._bufferIndex<Ve.length;)K(Ve.charCodeAt(a._bufferIndex));else K(Ve)}}function K(Pt){w=w(Pt)}function se(Pt){tr(Pt)?(a.line++,a.column=1,a.offset+=Pt===-3?2:1,Ke()):Pt!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===$[a._index].length&&(a._bufferIndex=-1,a._index++)),E.previous=Pt}function we(Pt,Ve){const Xt=Ve||{};return Xt.type=Pt,Xt.start=te(),E.events.push(["enter",Xt,E]),_.push(Xt),Xt}function Oe(Pt){const Ve=_.pop();return Ve.end=te(),E.events.push(["exit",Ve,E]),Ve}function De(Pt,Ve){at(Pt,Ve.from)}function Se(Pt,Ve){Ve.restore()}function je(Pt,Ve){return Xt;function Xt(Lt,Ot,st){let St,vt,an,de;return Array.isArray(Lt)?tt(Lt):"tokenize"in Lt?tt([Lt]):Le(Lt);function Le(Qt){return cn;function cn(Hn){const mn=Hn!==null&&Qt[Hn],sn=Hn!==null&&Qt.null,qn=[...Array.isArray(mn)?mn:mn?[mn]:[],...Array.isArray(sn)?sn:sn?[sn]:[]];return tt(qn)(Hn)}}function tt(Qt){return St=Qt,vt=0,Qt.length===0?st:_e(Qt[vt])}function _e(Qt){return cn;function cn(Hn){return de=Ze(),an=Qt,Qt.partial||(E.currentConstruct=Qt),Qt.name&&E.parser.constructs.disable.null.includes(Qt.name)?It():Qt.tokenize.call(Ve?Object.assign(Object.create(E),Ve):E,y,Ft,It)(Hn)}}function Ft(Qt){return Pt(an,de),Ot}function It(Qt){return de.restore(),++vt<St.length?_e(St[vt]):st}}}function at(Pt,Ve){Pt.resolveAll&&!p.includes(Pt)&&p.push(Pt),Pt.resolve&&H0(E.events,Ve,E.events.length-Ve,Pt.resolve(E.events.slice(Ve),E)),Pt.resolveTo&&(E.events=Pt.resolveTo(E.events,E))}function Ze(){const Pt=te(),Ve=E.previous,Xt=E.currentConstruct,Lt=E.events.length,Ot=Array.from(_);return{from:Lt,restore:st};function st(){a=Pt,E.previous=Ve,E.currentConstruct=Xt,E.events.length=Lt,_=Ot,Ke()}}function Ke(){a.line in h&&a.column<2&&(a.column=h[a.line],a.offset+=h[a.line]-1)}}function My(r,o){const n=o.start._index,a=o.start._bufferIndex,h=o.end._index,p=o.end._bufferIndex;let $;if(n===h)$=[r[n].slice(a,p)];else{if($=r.slice(n,h),a>-1){const _=$[0];typeof _=="string"?$[0]=_.slice(a):$.shift()}p>0&&$.push(r[h].slice(0,p))}return $}function Oy(r,o){let n=-1;const a=[];let h;for(;++n<r.length;){const p=r[n];let $;if(typeof p=="string")$=p;else switch(p){case-5:{$="\r";break}case-4:{$=`
`;break}case-3:{$=`\r
`;break}case-2:{$=o?" ":"	";break}case-1:{if(!o&&h)continue;$=" ";break}default:$=String.fromCharCode(p)}h=p===-2,a.push($)}return a.join("")}function Ry(r){const a={constructs:T9([Ay,...(r||{}).extensions||[]]),content:h(Yv),defined:[],document:h(Jv),flow:h(my),lazy:{},string:h(by),text:h(vy)};return a;function h(p){return $;function $(_){return Ny(a,p,_)}}}function Ly(r){for(;!S9(r););return r}const Dm=/[\0\t\n\r]/g;function Dy(){let r=1,o="",n=!0,a;return h;function h(p,$,_){const y=[];let E,w,I,H,F;for(p=o+(typeof p=="string"?p.toString():new TextDecoder($||void 0).decode(p)),I=0,o="",n&&(p.charCodeAt(0)===65279&&I++,n=void 0);I<p.length;){if(Dm.lastIndex=I,E=Dm.exec(p),H=E&&E.index!==void 0?E.index:p.length,F=p.charCodeAt(H),!E){o=p.slice(I);break}if(F===10&&I===H&&a)y.push(-3),a=void 0;else switch(a&&(y.push(-5),a=void 0),I<H&&(y.push(p.slice(I,H)),r+=H-I),F){case 0:{y.push(65533),r++;break}case 9:{for(w=Math.ceil(r/4)*4,y.push(-2);r++<w;)y.push(-1);break}case 10:{y.push(-4),r=1;break}default:a=!0,r=1}I=H+1}return _&&(a&&y.push(-5),o&&y.push(o),y.push(null)),y}}const By=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Py(r){return r.replace(By,Fy)}function Fy(r,o,n){if(o)return o;if(n.charCodeAt(0)===35){const h=n.charCodeAt(1),p=h===120||h===88;return y9(n.slice(p?2:1),p?16:10)}return Kf(n)||r}const N9={}.hasOwnProperty;function Uy(r,o,n){return typeof o!="string"&&(n=o,o=void 0),zy(n)(Ly(Ry(n).document().write(Dy()(r,o,!0))))}function zy(r){const o={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:p(wi),autolinkProtocol:Ze,autolinkEmail:Ze,atxHeading:p(Zn),blockQuote:p(sn),characterEscape:Ze,characterReference:Ze,codeFenced:p(qn),codeFencedFenceInfo:$,codeFencedFenceMeta:$,codeIndented:p(qn,$),codeText:p(ct,$),codeTextData:Ze,data:Ze,codeFlowValue:Ze,definition:p(rn),definitionDestinationString:$,definitionLabelString:$,definitionTitleString:$,emphasis:p(Br),hardBreakEscape:p(mr),hardBreakTrailing:p(mr),htmlFlow:p(un,$),htmlFlowData:Ze,htmlText:p(un,$),htmlTextData:Ze,image:p($i),label:$,link:p(wi),listItem:p(es),listItemValue:H,listOrdered:p(nr,I),listUnordered:p(nr),paragraph:p(li),reference:_e,referenceString:$,resourceDestinationString:$,resourceTitleString:$,setextHeading:p(Zn),strong:p(rr),thematicBreak:p(O)},exit:{atxHeading:y(),atxHeadingSequence:De,autolink:y(),autolinkEmail:mn,autolinkProtocol:Hn,blockQuote:y(),characterEscapeValue:Ke,characterReferenceMarkerHexadecimal:It,characterReferenceMarkerNumeric:It,characterReferenceValue:Qt,characterReference:cn,codeFenced:y(ce),codeFencedFence:he,codeFencedFenceInfo:F,codeFencedFenceMeta:te,codeFlowValue:Ke,codeIndented:y(K),codeText:y(Ot),codeTextData:Ke,data:Ke,definition:y(),definitionDestinationString:Oe,definitionLabelString:se,definitionTitleString:we,emphasis:y(),hardBreakEscape:y(Ve),hardBreakTrailing:y(Ve),htmlFlow:y(Xt),htmlFlowData:Ke,htmlText:y(Lt),htmlTextData:Ke,image:y(St),label:an,labelText:vt,lineEnding:Pt,link:y(st),listItem:y(),listOrdered:y(),listUnordered:y(),paragraph:y(),referenceString:Ft,resourceDestinationString:de,resourceTitleString:Le,resource:tt,setextHeading:y(at),setextHeadingLineSequence:je,setextHeadingText:Se,strong:y(),thematicBreak:y()}};M9(o,(r||{}).mdastExtensions||[]);const n={};return a;function a(ne){let Ie={type:"root",children:[]};const Be={stack:[Ie],tokenStack:[],config:o,enter:_,exit:E,buffer:$,resume:w,data:n},nt=[];let Ye=-1;for(;++Ye<ne.length;)if(ne[Ye][1].type==="listOrdered"||ne[Ye][1].type==="listUnordered")if(ne[Ye][0]==="enter")nt.push(Ye);else{const yt=nt.pop();Ye=h(ne,yt,Ye)}for(Ye=-1;++Ye<ne.length;){const yt=o[ne[Ye][0]];N9.call(yt,ne[Ye][1].type)&&yt[ne[Ye][1].type].call(Object.assign({sliceSerialize:ne[Ye][2].sliceSerialize},Be),ne[Ye][1])}if(Be.tokenStack.length>0){const yt=Be.tokenStack[Be.tokenStack.length-1];(yt[1]||Bm).call(Be,void 0,yt[0])}for(Ie.position={start:K1(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:K1(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},Ye=-1;++Ye<o.transforms.length;)Ie=o.transforms[Ye](Ie)||Ie;return Ie}function h(ne,Ie,Be){let nt=Ie-1,Ye=-1,yt=!1,xt,L,ae,ze;for(;++nt<=Be;){const Pe=ne[nt];switch(Pe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Pe[0]==="enter"?Ye++:Ye--,ze=void 0;break}case"lineEndingBlank":{Pe[0]==="enter"&&(xt&&!ze&&!Ye&&!ae&&(ae=nt),ze=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ze=void 0}if(!Ye&&Pe[0]==="enter"&&Pe[1].type==="listItemPrefix"||Ye===-1&&Pe[0]==="exit"&&(Pe[1].type==="listUnordered"||Pe[1].type==="listOrdered")){if(xt){let Dt=nt;for(L=void 0;Dt--;){const Sn=ne[Dt];if(Sn[1].type==="lineEnding"||Sn[1].type==="lineEndingBlank"){if(Sn[0]==="exit")continue;L&&(ne[L][1].type="lineEndingBlank",yt=!0),Sn[1].type="lineEnding",L=Dt}else if(!(Sn[1].type==="linePrefix"||Sn[1].type==="blockQuotePrefix"||Sn[1].type==="blockQuotePrefixWhitespace"||Sn[1].type==="blockQuoteMarker"||Sn[1].type==="listItemIndent"))break}ae&&(!L||ae<L)&&(xt._spread=!0),xt.end=Object.assign({},L?ne[L][1].start:Pe[1].end),ne.splice(L||nt,0,["exit",xt,Pe[2]]),nt++,Be++}if(Pe[1].type==="listItemPrefix"){const Dt={type:"listItem",_spread:!1,start:Object.assign({},Pe[1].start),end:void 0};xt=Dt,ne.splice(nt,0,["enter",Dt,Pe[2]]),nt++,Be++,ae=void 0,ze=!0}}}return ne[Ie][1]._spread=yt,Be}function p(ne,Ie){return Be;function Be(nt){_.call(this,ne(nt),nt),Ie&&Ie.call(this,nt)}}function $(){this.stack.push({type:"fragment",children:[]})}function _(ne,Ie,Be){this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([Ie,Be||void 0]),ne.position={start:K1(Ie.start),end:void 0}}function y(ne){return Ie;function Ie(Be){ne&&ne.call(this,Be),E.call(this,Be)}}function E(ne,Ie){const Be=this.stack.pop(),nt=this.tokenStack.pop();if(nt)nt[0].type!==ne.type&&(Ie?Ie.call(this,ne,nt[0]):(nt[1]||Bm).call(this,ne,nt[0]));else throw new Error("Cannot close `"+ne.type+"` ("+t3({start:ne.start,end:ne.end})+"): its not open");Be.position.end=K1(ne.end)}function w(){return Yf(this.stack.pop())}function I(){this.data.expectingFirstListItemValue=!0}function H(ne){if(this.data.expectingFirstListItemValue){const Ie=this.stack[this.stack.length-2];Ie.start=Number.parseInt(this.sliceSerialize(ne),10),this.data.expectingFirstListItemValue=void 0}}function F(){const ne=this.resume(),Ie=this.stack[this.stack.length-1];Ie.lang=ne}function te(){const ne=this.resume(),Ie=this.stack[this.stack.length-1];Ie.meta=ne}function he(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function ce(){const ne=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function K(){const ne=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=ne.replace(/(\r?\n|\r)$/g,"")}function se(ne){const Ie=this.resume(),Be=this.stack[this.stack.length-1];Be.label=Ie,Be.identifier=iu(this.sliceSerialize(ne)).toLowerCase()}function we(){const ne=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=ne}function Oe(){const ne=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=ne}function De(ne){const Ie=this.stack[this.stack.length-1];if(!Ie.depth){const Be=this.sliceSerialize(ne).length;Ie.depth=Be}}function Se(){this.data.setextHeadingSlurpLineEnding=!0}function je(ne){const Ie=this.stack[this.stack.length-1];Ie.depth=this.sliceSerialize(ne).codePointAt(0)===61?1:2}function at(){this.data.setextHeadingSlurpLineEnding=void 0}function Ze(ne){const Be=this.stack[this.stack.length-1].children;let nt=Be[Be.length-1];(!nt||nt.type!=="text")&&(nt=Xn(),nt.position={start:K1(ne.start),end:void 0},Be.push(nt)),this.stack.push(nt)}function Ke(ne){const Ie=this.stack.pop();Ie.value+=this.sliceSerialize(ne),Ie.position.end=K1(ne.end)}function Pt(ne){const Ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Be=Ie.children[Ie.children.length-1];Be.position.end=K1(ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&o.canContainEols.includes(Ie.type)&&(Ze.call(this,ne),Ke.call(this,ne))}function Ve(){this.data.atHardBreak=!0}function Xt(){const ne=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=ne}function Lt(){const ne=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=ne}function Ot(){const ne=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=ne}function st(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const Ie=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=Ie,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function St(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const Ie=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=Ie,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function vt(ne){const Ie=this.sliceSerialize(ne),Be=this.stack[this.stack.length-2];Be.label=Py(Ie),Be.identifier=iu(Ie).toLowerCase()}function an(){const ne=this.stack[this.stack.length-1],Ie=this.resume(),Be=this.stack[this.stack.length-1];if(this.data.inReference=!0,Be.type==="link"){const nt=ne.children;Be.children=nt}else Be.alt=Ie}function de(){const ne=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=ne}function Le(){const ne=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=ne}function tt(){this.data.inReference=void 0}function _e(){this.data.referenceType="collapsed"}function Ft(ne){const Ie=this.resume(),Be=this.stack[this.stack.length-1];Be.label=Ie,Be.identifier=iu(this.sliceSerialize(ne)).toLowerCase(),this.data.referenceType="full"}function It(ne){this.data.characterReferenceType=ne.type}function Qt(ne){const Ie=this.sliceSerialize(ne),Be=this.data.characterReferenceType;let nt;Be?(nt=y9(Ie,Be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):nt=Kf(Ie);const Ye=this.stack[this.stack.length-1];Ye.value+=nt}function cn(ne){const Ie=this.stack.pop();Ie.position.end=K1(ne.end)}function Hn(ne){Ke.call(this,ne);const Ie=this.stack[this.stack.length-1];Ie.url=this.sliceSerialize(ne)}function mn(ne){Ke.call(this,ne);const Ie=this.stack[this.stack.length-1];Ie.url="mailto:"+this.sliceSerialize(ne)}function sn(){return{type:"blockquote",children:[]}}function qn(){return{type:"code",lang:null,meta:null,value:""}}function ct(){return{type:"inlineCode",value:""}}function rn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Br(){return{type:"emphasis",children:[]}}function Zn(){return{type:"heading",depth:0,children:[]}}function mr(){return{type:"break"}}function un(){return{type:"html",value:""}}function $i(){return{type:"image",title:null,url:"",alt:null}}function wi(){return{type:"link",title:null,url:"",children:[]}}function nr(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function es(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function li(){return{type:"paragraph",children:[]}}function rr(){return{type:"strong",children:[]}}function Xn(){return{type:"text",value:""}}function O(){return{type:"thematicBreak"}}}function K1(r){return{line:r.line,column:r.column,offset:r.offset}}function M9(r,o){let n=-1;for(;++n<o.length;){const a=o[n];Array.isArray(a)?M9(r,a):Hy(r,a)}}function Hy(r,o){let n;for(n in o)if(N9.call(o,n))switch(n){case"canContainEols":{const a=o[n];a&&r[n].push(...a);break}case"transforms":{const a=o[n];a&&r[n].push(...a);break}case"enter":case"exit":{const a=o[n];a&&Object.assign(r[n],a);break}}}function Bm(r,o){throw r?new Error("Cannot close `"+r.type+"` ("+t3({start:r.start,end:r.end})+"): a different token (`"+o.type+"`, "+t3({start:o.start,end:o.end})+") is open"):new Error("Cannot close document, a token (`"+o.type+"`, "+t3({start:o.start,end:o.end})+") is still open")}function Vy(r){const o=this;o.parser=n;function n(a){return Uy(a,{...o.data("settings"),...r,extensions:o.data("micromarkExtensions")||[],mdastExtensions:o.data("fromMarkdownExtensions")||[]})}}function Gy(r,o){const n={type:"element",tagName:"blockquote",properties:{},children:r.wrap(r.all(o),!0)};return r.patch(o,n),r.applyData(o,n)}function Wy(r,o){const n={type:"element",tagName:"br",properties:{},children:[]};return r.patch(o,n),[r.applyData(o,n),{type:"text",value:`
`}]}function qy(r,o){const n=o.value?o.value+`
`:"",a={};o.lang&&(a.className=["language-"+o.lang]);let h={type:"element",tagName:"code",properties:a,children:[{type:"text",value:n}]};return o.meta&&(h.data={meta:o.meta}),r.patch(o,h),h=r.applyData(o,h),h={type:"element",tagName:"pre",properties:{},children:[h]},r.patch(o,h),h}function Xy(r,o){const n={type:"element",tagName:"del",properties:{},children:r.all(o)};return r.patch(o,n),r.applyData(o,n)}function jy(r,o){const n={type:"element",tagName:"em",properties:{},children:r.all(o)};return r.patch(o,n),r.applyData(o,n)}function Yy(r,o){const n=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",a=String(o.identifier).toUpperCase(),h=k4(a.toLowerCase()),p=r.footnoteOrder.indexOf(a);let $,_=r.footnoteCounts.get(a);_===void 0?(_=0,r.footnoteOrder.push(a),$=r.footnoteOrder.length):$=p+1,_+=1,r.footnoteCounts.set(a,_);const y={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+h,id:n+"fnref-"+h+(_>1?"-"+_:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String($)}]};r.patch(o,y);const E={type:"element",tagName:"sup",properties:{},children:[y]};return r.patch(o,E),r.applyData(o,E)}function Ky(r,o){const n={type:"element",tagName:"h"+o.depth,properties:{},children:r.all(o)};return r.patch(o,n),r.applyData(o,n)}function Jy(r,o){if(r.options.allowDangerousHtml){const n={type:"raw",value:o.value};return r.patch(o,n),r.applyData(o,n)}}function O9(r,o){const n=o.referenceType;let a="]";if(n==="collapsed"?a+="[]":n==="full"&&(a+="["+(o.label||o.identifier)+"]"),o.type==="imageReference")return[{type:"text",value:"!["+o.alt+a}];const h=r.all(o),p=h[0];p&&p.type==="text"?p.value="["+p.value:h.unshift({type:"text",value:"["});const $=h[h.length-1];return $&&$.type==="text"?$.value+=a:h.push({type:"text",value:a}),h}function Zy(r,o){const n=String(o.identifier).toUpperCase(),a=r.definitionById.get(n);if(!a)return O9(r,o);const h={src:k4(a.url||""),alt:o.alt};a.title!==null&&a.title!==void 0&&(h.title=a.title);const p={type:"element",tagName:"img",properties:h,children:[]};return r.patch(o,p),r.applyData(o,p)}function Qy(r,o){const n={src:k4(o.url)};o.alt!==null&&o.alt!==void 0&&(n.alt=o.alt),o.title!==null&&o.title!==void 0&&(n.title=o.title);const a={type:"element",tagName:"img",properties:n,children:[]};return r.patch(o,a),r.applyData(o,a)}function e_(r,o){const n={type:"text",value:o.value.replace(/\r?\n|\r/g," ")};r.patch(o,n);const a={type:"element",tagName:"code",properties:{},children:[n]};return r.patch(o,a),r.applyData(o,a)}function t_(r,o){const n=String(o.identifier).toUpperCase(),a=r.definitionById.get(n);if(!a)return O9(r,o);const h={href:k4(a.url||"")};a.title!==null&&a.title!==void 0&&(h.title=a.title);const p={type:"element",tagName:"a",properties:h,children:r.all(o)};return r.patch(o,p),r.applyData(o,p)}function n_(r,o){const n={href:k4(o.url)};o.title!==null&&o.title!==void 0&&(n.title=o.title);const a={type:"element",tagName:"a",properties:n,children:r.all(o)};return r.patch(o,a),r.applyData(o,a)}function r_(r,o,n){const a=r.all(o),h=n?i_(n):R9(o),p={},$=[];if(typeof o.checked=="boolean"){const w=a[0];let I;w&&w.type==="element"&&w.tagName==="p"?I=w:(I={type:"element",tagName:"p",properties:{},children:[]},a.unshift(I)),I.children.length>0&&I.children.unshift({type:"text",value:" "}),I.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:o.checked,disabled:!0},children:[]}),p.className=["task-list-item"]}let _=-1;for(;++_<a.length;){const w=a[_];(h||_!==0||w.type!=="element"||w.tagName!=="p")&&$.push({type:"text",value:`
`}),w.type==="element"&&w.tagName==="p"&&!h?$.push(...w.children):$.push(w)}const y=a[a.length-1];y&&(h||y.type!=="element"||y.tagName!=="p")&&$.push({type:"text",value:`
`});const E={type:"element",tagName:"li",properties:p,children:$};return r.patch(o,E),r.applyData(o,E)}function i_(r){let o=!1;if(r.type==="list"){o=r.spread||!1;const n=r.children;let a=-1;for(;!o&&++a<n.length;)o=R9(n[a])}return o}function R9(r){const o=r.spread;return o??r.children.length>1}function s_(r,o){const n={},a=r.all(o);let h=-1;for(typeof o.start=="number"&&o.start!==1&&(n.start=o.start);++h<a.length;){const $=a[h];if($.type==="element"&&$.tagName==="li"&&$.properties&&Array.isArray($.properties.className)&&$.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const p={type:"element",tagName:o.ordered?"ol":"ul",properties:n,children:r.wrap(a,!0)};return r.patch(o,p),r.applyData(o,p)}function o_(r,o){const n={type:"element",tagName:"p",properties:{},children:r.all(o)};return r.patch(o,n),r.applyData(o,n)}function l_(r,o){const n={type:"root",children:r.wrap(r.all(o))};return r.patch(o,n),r.applyData(o,n)}function a_(r,o){const n={type:"element",tagName:"strong",properties:{},children:r.all(o)};return r.patch(o,n),r.applyData(o,n)}function u_(r,o){const n=r.all(o),a=n.shift(),h=[];if(a){const $={type:"element",tagName:"thead",properties:{},children:r.wrap([a],!0)};r.patch(o.children[0],$),h.push($)}if(n.length>0){const $={type:"element",tagName:"tbody",properties:{},children:r.wrap(n,!0)},_=Wf(o.children[1]),y=f9(o.children[o.children.length-1]);_&&y&&($.position={start:_,end:y}),h.push($)}const p={type:"element",tagName:"table",properties:{},children:r.wrap(h,!0)};return r.patch(o,p),r.applyData(o,p)}function c_(r,o,n){const a=n?n.children:void 0,p=(a?a.indexOf(o):1)===0?"th":"td",$=n&&n.type==="table"?n.align:void 0,_=$?$.length:o.children.length;let y=-1;const E=[];for(;++y<_;){const I=o.children[y],H={},F=$?$[y]:void 0;F&&(H.align=F);let te={type:"element",tagName:p,properties:H,children:[]};I&&(te.children=r.all(I),r.patch(I,te),te=r.applyData(I,te)),E.push(te)}const w={type:"element",tagName:"tr",properties:{},children:r.wrap(E,!0)};return r.patch(o,w),r.applyData(o,w)}function h_(r,o){const n={type:"element",tagName:"td",properties:{},children:r.all(o)};return r.patch(o,n),r.applyData(o,n)}const Pm=9,Fm=32;function d_(r){const o=String(r),n=/\r?\n|\r/g;let a=n.exec(o),h=0;const p=[];for(;a;)p.push(Um(o.slice(h,a.index),h>0,!0),a[0]),h=a.index+a[0].length,a=n.exec(o);return p.push(Um(o.slice(h),h>0,!1)),p.join("")}function Um(r,o,n){let a=0,h=r.length;if(o){let p=r.codePointAt(a);for(;p===Pm||p===Fm;)a++,p=r.codePointAt(a)}if(n){let p=r.codePointAt(h-1);for(;p===Pm||p===Fm;)h--,p=r.codePointAt(h-1)}return h>a?r.slice(a,h):""}function f_(r,o){const n={type:"text",value:d_(String(o.value))};return r.patch(o,n),r.applyData(o,n)}function p_(r,o){const n={type:"element",tagName:"hr",properties:{},children:[]};return r.patch(o,n),r.applyData(o,n)}const m_={blockquote:Gy,break:Wy,code:qy,delete:Xy,emphasis:jy,footnoteReference:Yy,heading:Ky,html:Jy,imageReference:Zy,image:Qy,inlineCode:e_,linkReference:t_,link:n_,listItem:r_,list:s_,paragraph:o_,root:l_,strong:a_,table:u_,tableCell:h_,tableRow:c_,text:f_,thematicBreak:p_,toml:n5,yaml:n5,definition:n5,footnoteDefinition:n5};function n5(){}const L9=-1,U5=0,r3=1,k5=2,Zf=3,Qf=4,e7=5,t7=6,D9=7,B9=8,zm=typeof self=="object"?self:globalThis,g_=(r,o)=>{const n=(h,p)=>(r.set(p,h),h),a=h=>{if(r.has(h))return r.get(h);const[p,$]=o[h];switch(p){case U5:case L9:return n($,h);case r3:{const _=n([],h);for(const y of $)_.push(a(y));return _}case k5:{const _=n({},h);for(const[y,E]of $)_[a(y)]=a(E);return _}case Zf:return n(new Date($),h);case Qf:{const{source:_,flags:y}=$;return n(new RegExp(_,y),h)}case e7:{const _=n(new Map,h);for(const[y,E]of $)_.set(a(y),a(E));return _}case t7:{const _=n(new Set,h);for(const y of $)_.add(a(y));return _}case D9:{const{name:_,message:y}=$;return n(new zm[_](y),h)}case B9:return n(BigInt($),h);case"BigInt":return n(Object(BigInt($)),h);case"ArrayBuffer":return n(new Uint8Array($).buffer,$);case"DataView":{const{buffer:_}=new Uint8Array($);return n(new DataView(_),$)}}return n(new zm[p]($),h)};return a},Hm=r=>g_(new Map,r)(0),T4="",{toString:$_}={},{keys:b_}=Object,J2=r=>{const o=typeof r;if(o!=="object"||!r)return[U5,o];const n=$_.call(r).slice(8,-1);switch(n){case"Array":return[r3,T4];case"Object":return[k5,T4];case"Date":return[Zf,T4];case"RegExp":return[Qf,T4];case"Map":return[e7,T4];case"Set":return[t7,T4];case"DataView":return[r3,n]}return n.includes("Array")?[r3,n]:n.includes("Error")?[D9,n]:[k5,n]},r5=([r,o])=>r===U5&&(o==="function"||o==="symbol"),v_=(r,o,n,a)=>{const h=($,_)=>{const y=a.push($)-1;return n.set(_,y),y},p=$=>{if(n.has($))return n.get($);let[_,y]=J2($);switch(_){case U5:{let w=$;switch(y){case"bigint":_=B9,w=$.toString();break;case"function":case"symbol":if(r)throw new TypeError("unable to serialize "+y);w=null;break;case"undefined":return h([L9],$)}return h([_,w],$)}case r3:{if(y){let H=$;return y==="DataView"?H=new Uint8Array($.buffer):y==="ArrayBuffer"&&(H=new Uint8Array($)),h([y,[...H]],$)}const w=[],I=h([_,w],$);for(const H of $)w.push(p(H));return I}case k5:{if(y)switch(y){case"BigInt":return h([y,$.toString()],$);case"Boolean":case"Number":case"String":return h([y,$.valueOf()],$)}if(o&&"toJSON"in $)return p($.toJSON());const w=[],I=h([_,w],$);for(const H of b_($))(r||!r5(J2($[H])))&&w.push([p(H),p($[H])]);return I}case Zf:return h([_,$.toISOString()],$);case Qf:{const{source:w,flags:I}=$;return h([_,{source:w,flags:I}],$)}case e7:{const w=[],I=h([_,w],$);for(const[H,F]of $)(r||!(r5(J2(H))||r5(J2(F))))&&w.push([p(H),p(F)]);return I}case t7:{const w=[],I=h([_,w],$);for(const H of $)(r||!r5(J2(H)))&&w.push(p(H));return I}}const{message:E}=$;return h([_,{name:y,message:E}],$)};return p},Vm=(r,{json:o,lossy:n}={})=>{const a=[];return v_(!(o||n),!!o,new Map,a)(r),a},I5=typeof structuredClone=="function"?(r,o)=>o&&("json"in o||"lossy"in o)?Hm(Vm(r,o)):structuredClone(r):(r,o)=>Hm(Vm(r,o));function T_(r,o){const n=[{type:"text",value:""}];return o>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(o)}]}),n}function y_(r,o){return"Back to reference "+(r+1)+(o>1?"-"+o:"")}function __(r){const o=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",n=r.options.footnoteBackContent||T_,a=r.options.footnoteBackLabel||y_,h=r.options.footnoteLabel||"Footnotes",p=r.options.footnoteLabelTagName||"h2",$=r.options.footnoteLabelProperties||{className:["sr-only"]},_=[];let y=-1;for(;++y<r.footnoteOrder.length;){const E=r.footnoteById.get(r.footnoteOrder[y]);if(!E)continue;const w=r.all(E),I=String(E.identifier).toUpperCase(),H=k4(I.toLowerCase());let F=0;const te=[],he=r.footnoteCounts.get(I);for(;he!==void 0&&++F<=he;){te.length>0&&te.push({type:"text",value:" "});let se=typeof n=="string"?n:n(y,F);typeof se=="string"&&(se={type:"text",value:se}),te.push({type:"element",tagName:"a",properties:{href:"#"+o+"fnref-"+H+(F>1?"-"+F:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(y,F),className:["data-footnote-backref"]},children:Array.isArray(se)?se:[se]})}const ce=w[w.length-1];if(ce&&ce.type==="element"&&ce.tagName==="p"){const se=ce.children[ce.children.length-1];se&&se.type==="text"?se.value+=" ":ce.children.push({type:"text",value:" "}),ce.children.push(...te)}else w.push(...te);const K={type:"element",tagName:"li",properties:{id:o+"fn-"+H},children:r.wrap(w,!0)};r.patch(E,K),_.push(K)}if(_.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:p,properties:{...I5($),id:"footnote-label"},children:[{type:"text",value:h}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:r.wrap(_,!0)},{type:"text",value:`
`}]}}const m3=(function(r){if(r==null)return x_;if(typeof r=="function")return z5(r);if(typeof r=="object")return Array.isArray(r)?E_(r):w_(r);if(typeof r=="string")return S_(r);throw new Error("Expected function, string, or object as test")});function E_(r){const o=[];let n=-1;for(;++n<r.length;)o[n]=m3(r[n]);return z5(a);function a(...h){let p=-1;for(;++p<o.length;)if(o[p].apply(this,h))return!0;return!1}}function w_(r){const o=r;return z5(n);function n(a){const h=a;let p;for(p in r)if(h[p]!==o[p])return!1;return!0}}function S_(r){return z5(o);function o(n){return n&&n.type===r}}function z5(r){return o;function o(n,a,h){return!!(C_(n)&&r.call(this,n,typeof a=="number"?a:void 0,h||void 0))}}function x_(){return!0}function C_(r){return r!==null&&typeof r=="object"&&"type"in r}const P9=[],k_=!0,xf=!1,F9="skip";function n7(r,o,n,a){let h;typeof o=="function"&&typeof n!="function"?(a=n,n=o):h=o;const p=m3(h),$=a?-1:1;_(r,void 0,[])();function _(y,E,w){const I=y&&typeof y=="object"?y:{};if(typeof I.type=="string"){const F=typeof I.tagName=="string"?I.tagName:typeof I.name=="string"?I.name:void 0;Object.defineProperty(H,"name",{value:"node ("+(y.type+(F?"<"+F+">":""))+")"})}return H;function H(){let F=P9,te,he,ce;if((!o||p(y,E,w[w.length-1]||void 0))&&(F=I_(n(y,w)),F[0]===xf))return F;if("children"in y&&y.children){const K=y;if(K.children&&F[0]!==F9)for(he=(a?K.children.length:-1)+$,ce=w.concat(K);he>-1&&he<K.children.length;){const se=K.children[he];if(te=_(se,he,ce)(),te[0]===xf)return te;he=typeof te[1]=="number"?te[1]:he+$}}return F}}}function I_(r){return Array.isArray(r)?r:typeof r=="number"?[k_,r]:r==null?P9:[r]}function r7(r,o,n,a){let h,p,$;typeof o=="function"&&typeof n!="function"?(p=void 0,$=o,h=n):(p=o,$=n,h=a),n7(r,p,_,h);function _(y,E){const w=E[E.length-1],I=w?w.children.indexOf(y):void 0;return $(y,I,w)}}const Cf={}.hasOwnProperty,A_={};function N_(r,o){const n=o||A_,a=new Map,h=new Map,p=new Map,$={...m_,...n.handlers},_={all:E,applyData:O_,definitionById:a,footnoteById:h,footnoteCounts:p,footnoteOrder:[],handlers:$,one:y,options:n,patch:M_,wrap:L_};return r7(r,function(w){if(w.type==="definition"||w.type==="footnoteDefinition"){const I=w.type==="definition"?a:h,H=String(w.identifier).toUpperCase();I.has(H)||I.set(H,w)}}),_;function y(w,I){const H=w.type,F=_.handlers[H];if(Cf.call(_.handlers,H)&&F)return F(_,w,I);if(_.options.passThrough&&_.options.passThrough.includes(H)){if("children"in w){const{children:he,...ce}=w,K=I5(ce);return K.children=_.all(w),K}return I5(w)}return(_.options.unknownHandler||R_)(_,w,I)}function E(w){const I=[];if("children"in w){const H=w.children;let F=-1;for(;++F<H.length;){const te=_.one(H[F],w);if(te){if(F&&H[F-1].type==="break"&&(!Array.isArray(te)&&te.type==="text"&&(te.value=Gm(te.value)),!Array.isArray(te)&&te.type==="element")){const he=te.children[0];he&&he.type==="text"&&(he.value=Gm(he.value))}Array.isArray(te)?I.push(...te):I.push(te)}}}return I}}function M_(r,o){r.position&&(o.position=yv(r))}function O_(r,o){let n=o;if(r&&r.data){const a=r.data.hName,h=r.data.hChildren,p=r.data.hProperties;if(typeof a=="string")if(n.type==="element")n.tagName=a;else{const $="children"in n?n.children:[n];n={type:"element",tagName:a,properties:{},children:$}}n.type==="element"&&p&&Object.assign(n.properties,I5(p)),"children"in n&&n.children&&h!==null&&h!==void 0&&(n.children=h)}return n}function R_(r,o){const n=o.data||{},a="value"in o&&!(Cf.call(n,"hProperties")||Cf.call(n,"hChildren"))?{type:"text",value:o.value}:{type:"element",tagName:"div",properties:{},children:r.all(o)};return r.patch(o,a),r.applyData(o,a)}function L_(r,o){const n=[];let a=-1;for(o&&n.push({type:"text",value:`
`});++a<r.length;)a&&n.push({type:"text",value:`
`}),n.push(r[a]);return o&&r.length>0&&n.push({type:"text",value:`
`}),n}function Gm(r){let o=0,n=r.charCodeAt(o);for(;n===9||n===32;)o++,n=r.charCodeAt(o);return r.slice(o)}function Wm(r,o){const n=N_(r,o),a=n.one(r,void 0),h=__(n),p=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return h&&p.children.push({type:"text",value:`
`},h),p}function D_(r,o){return r&&"run"in r?async function(n,a){const h=Wm(n,{file:a,...o});await r.run(h,a)}:function(n,a){return Wm(n,{file:a,...r||o})}}function qm(r){if(r)throw r}var W6,Xm;function B_(){if(Xm)return W6;Xm=1;var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,h=function(E){return typeof Array.isArray=="function"?Array.isArray(E):o.call(E)==="[object Array]"},p=function(E){if(!E||o.call(E)!=="[object Object]")return!1;var w=r.call(E,"constructor"),I=E.constructor&&E.constructor.prototype&&r.call(E.constructor.prototype,"isPrototypeOf");if(E.constructor&&!w&&!I)return!1;var H;for(H in E);return typeof H>"u"||r.call(E,H)},$=function(E,w){n&&w.name==="__proto__"?n(E,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):E[w.name]=w.newValue},_=function(E,w){if(w==="__proto__")if(r.call(E,w)){if(a)return a(E,w).value}else return;return E[w]};return W6=function y(){var E,w,I,H,F,te,he=arguments[0],ce=1,K=arguments.length,se=!1;for(typeof he=="boolean"&&(se=he,he=arguments[1]||{},ce=2),(he==null||typeof he!="object"&&typeof he!="function")&&(he={});ce<K;++ce)if(E=arguments[ce],E!=null)for(w in E)I=_(he,w),H=_(E,w),he!==H&&(se&&H&&(p(H)||(F=h(H)))?(F?(F=!1,te=I&&h(I)?I:[]):te=I&&p(I)?I:{},$(he,{name:w,newValue:y(se,te,H)})):typeof H<"u"&&$(he,{name:w,newValue:H}));return he},W6}var P_=B_();const q6=su(P_);function kf(r){if(typeof r!="object"||r===null)return!1;const o=Object.getPrototypeOf(r);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function F_(){const r=[],o={run:n,use:a};return o;function n(...h){let p=-1;const $=h.pop();if(typeof $!="function")throw new TypeError("Expected function as last argument, not "+$);_(null,...h);function _(y,...E){const w=r[++p];let I=-1;if(y){$(y);return}for(;++I<h.length;)(E[I]===null||E[I]===void 0)&&(E[I]=h[I]);h=E,w?U_(w,_)(...E):$(null,...E)}}function a(h){if(typeof h!="function")throw new TypeError("Expected `middelware` to be a function, not "+h);return r.push(h),o}}function U_(r,o){let n;return a;function a(...$){const _=r.length>$.length;let y;_&&$.push(h);try{y=r.apply(this,$)}catch(E){const w=E;if(_&&n)throw w;return h(w)}_||(y&&y.then&&typeof y.then=="function"?y.then(p,h):y instanceof Error?h(y):p(y))}function h($,..._){n||(n=!0,o($,..._))}function p($){h(null,$)}}const Gu={basename:z_,dirname:H_,extname:V_,join:G_,sep:"/"};function z_(r,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');g3(r);let n=0,a=-1,h=r.length,p;if(o===void 0||o.length===0||o.length>r.length){for(;h--;)if(r.codePointAt(h)===47){if(p){n=h+1;break}}else a<0&&(p=!0,a=h+1);return a<0?"":r.slice(n,a)}if(o===r)return"";let $=-1,_=o.length-1;for(;h--;)if(r.codePointAt(h)===47){if(p){n=h+1;break}}else $<0&&(p=!0,$=h+1),_>-1&&(r.codePointAt(h)===o.codePointAt(_--)?_<0&&(a=h):(_=-1,a=$));return n===a?a=$:a<0&&(a=r.length),r.slice(n,a)}function H_(r){if(g3(r),r.length===0)return".";let o=-1,n=r.length,a;for(;--n;)if(r.codePointAt(n)===47){if(a){o=n;break}}else a||(a=!0);return o<0?r.codePointAt(0)===47?"/":".":o===1&&r.codePointAt(0)===47?"//":r.slice(0,o)}function V_(r){g3(r);let o=r.length,n=-1,a=0,h=-1,p=0,$;for(;o--;){const _=r.codePointAt(o);if(_===47){if($){a=o+1;break}continue}n<0&&($=!0,n=o+1),_===46?h<0?h=o:p!==1&&(p=1):h>-1&&(p=-1)}return h<0||n<0||p===0||p===1&&h===n-1&&h===a+1?"":r.slice(h,n)}function G_(...r){let o=-1,n;for(;++o<r.length;)g3(r[o]),r[o]&&(n=n===void 0?r[o]:n+"/"+r[o]);return n===void 0?".":W_(n)}function W_(r){g3(r);const o=r.codePointAt(0)===47;let n=q_(r,!o);return n.length===0&&!o&&(n="."),n.length>0&&r.codePointAt(r.length-1)===47&&(n+="/"),o?"/"+n:n}function q_(r,o){let n="",a=0,h=-1,p=0,$=-1,_,y;for(;++$<=r.length;){if($<r.length)_=r.codePointAt($);else{if(_===47)break;_=47}if(_===47){if(!(h===$-1||p===1))if(h!==$-1&&p===2){if(n.length<2||a!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(y=n.lastIndexOf("/"),y!==n.length-1){y<0?(n="",a=0):(n=n.slice(0,y),a=n.length-1-n.lastIndexOf("/")),h=$,p=0;continue}}else if(n.length>0){n="",a=0,h=$,p=0;continue}}o&&(n=n.length>0?n+"/..":"..",a=2)}else n.length>0?n+="/"+r.slice(h+1,$):n=r.slice(h+1,$),a=$-h-1;h=$,p=0}else _===46&&p>-1?p++:p=-1}return n}function g3(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}const X_={cwd:j_};function j_(){return"/"}function If(r){return!!(r!==null&&typeof r=="object"&&"href"in r&&r.href&&"protocol"in r&&r.protocol&&r.auth===void 0)}function Y_(r){if(typeof r=="string")r=new URL(r);else if(!If(r)){const o=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+r+"`");throw o.code="ERR_INVALID_ARG_TYPE",o}if(r.protocol!=="file:"){const o=new TypeError("The URL must be of scheme file");throw o.code="ERR_INVALID_URL_SCHEME",o}return K_(r)}function K_(r){if(r.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const o=r.pathname;let n=-1;for(;++n<o.length;)if(o.codePointAt(n)===37&&o.codePointAt(n+1)===50){const a=o.codePointAt(n+2);if(a===70||a===102){const h=new TypeError("File URL path must not include encoded / characters");throw h.code="ERR_INVALID_FILE_URL_PATH",h}}return decodeURIComponent(o)}const X6=["history","path","basename","stem","extname","dirname"];class U9{constructor(o){let n;o?If(o)?n={path:o}:typeof o=="string"||J_(o)?n={value:o}:n=o:n={},this.cwd="cwd"in n?"":X_.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<X6.length;){const p=X6[a];p in n&&n[p]!==void 0&&n[p]!==null&&(this[p]=p==="history"?[...n[p]]:n[p])}let h;for(h in n)X6.includes(h)||(this[h]=n[h])}get basename(){return typeof this.path=="string"?Gu.basename(this.path):void 0}set basename(o){Y6(o,"basename"),j6(o,"basename"),this.path=Gu.join(this.dirname||"",o)}get dirname(){return typeof this.path=="string"?Gu.dirname(this.path):void 0}set dirname(o){jm(this.basename,"dirname"),this.path=Gu.join(o||"",this.basename)}get extname(){return typeof this.path=="string"?Gu.extname(this.path):void 0}set extname(o){if(j6(o,"extname"),jm(this.dirname,"extname"),o){if(o.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(o.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Gu.join(this.dirname,this.stem+(o||""))}get path(){return this.history[this.history.length-1]}set path(o){If(o)&&(o=Y_(o)),Y6(o,"path"),this.path!==o&&this.history.push(o)}get stem(){return typeof this.path=="string"?Gu.basename(this.path,this.extname):void 0}set stem(o){Y6(o,"stem"),j6(o,"stem"),this.path=Gu.join(this.dirname||"",o+(this.extname||""))}fail(o,n,a){const h=this.message(o,n,a);throw h.fatal=!0,h}info(o,n,a){const h=this.message(o,n,a);return h.fatal=void 0,h}message(o,n,a){const h=new Ml(o,n,a);return this.path&&(h.name=this.path+":"+h.name,h.file=this.path),h.fatal=!1,this.messages.push(h),h}toString(o){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(o||void 0).decode(this.value)}}function j6(r,o){if(r&&r.includes(Gu.sep))throw new Error("`"+o+"` cannot be a path: did not expect `"+Gu.sep+"`")}function Y6(r,o){if(!r)throw new Error("`"+o+"` cannot be empty")}function jm(r,o){if(!r)throw new Error("Setting `"+o+"` requires `path` to be set too")}function J_(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const Z_=(function(r){const a=this.constructor.prototype,h=a[r],p=function(){return h.apply(p,arguments)};return Object.setPrototypeOf(p,a),p}),Q_={}.hasOwnProperty;class i7 extends Z_{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=F_()}copy(){const o=new i7;let n=-1;for(;++n<this.attachers.length;){const a=this.attachers[n];o.use(...a)}return o.data(q6(!0,{},this.namespace)),o}data(o,n){return typeof o=="string"?arguments.length===2?(Z6("data",this.frozen),this.namespace[o]=n,this):Q_.call(this.namespace,o)&&this.namespace[o]||void 0:o?(Z6("data",this.frozen),this.namespace=o,this):this.namespace}freeze(){if(this.frozen)return this;const o=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const h=n.call(o,...a);typeof h=="function"&&this.transformers.use(h)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(o){this.freeze();const n=i5(o),a=this.parser||this.Parser;return K6("parse",a),a(String(n),n)}process(o,n){const a=this;return this.freeze(),K6("process",this.parser||this.Parser),J6("process",this.compiler||this.Compiler),n?h(void 0,n):new Promise(h);function h(p,$){const _=i5(o),y=a.parse(_);a.run(y,_,function(w,I,H){if(w||!I||!H)return E(w);const F=I,te=a.stringify(F,H);nE(te)?H.value=te:H.result=te,E(w,H)});function E(w,I){w||!I?$(w):p?p(I):n(void 0,I)}}}processSync(o){let n=!1,a;return this.freeze(),K6("processSync",this.parser||this.Parser),J6("processSync",this.compiler||this.Compiler),this.process(o,h),Km("processSync","process",n),a;function h(p,$){n=!0,qm(p),a=$}}run(o,n,a){Ym(o),this.freeze();const h=this.transformers;return!a&&typeof n=="function"&&(a=n,n=void 0),a?p(void 0,a):new Promise(p);function p($,_){const y=i5(n);h.run(o,y,E);function E(w,I,H){const F=I||o;w?_(w):$?$(F):a(void 0,F,H)}}}runSync(o,n){let a=!1,h;return this.run(o,n,p),Km("runSync","run",a),h;function p($,_){qm($),h=_,a=!0}}stringify(o,n){this.freeze();const a=i5(n),h=this.compiler||this.Compiler;return J6("stringify",h),Ym(o),h(o,a)}use(o,...n){const a=this.attachers,h=this.namespace;if(Z6("use",this.frozen),o!=null)if(typeof o=="function")y(o,n);else if(typeof o=="object")Array.isArray(o)?_(o):$(o);else throw new TypeError("Expected usable value, not `"+o+"`");return this;function p(E){if(typeof E=="function")y(E,[]);else if(typeof E=="object")if(Array.isArray(E)){const[w,...I]=E;y(w,I)}else $(E);else throw new TypeError("Expected usable value, not `"+E+"`")}function $(E){if(!("plugins"in E)&&!("settings"in E))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");_(E.plugins),E.settings&&(h.settings=q6(!0,h.settings,E.settings))}function _(E){let w=-1;if(E!=null)if(Array.isArray(E))for(;++w<E.length;){const I=E[w];p(I)}else throw new TypeError("Expected a list of plugins, not `"+E+"`")}function y(E,w){let I=-1,H=-1;for(;++I<a.length;)if(a[I][0]===E){H=I;break}if(H===-1)a.push([E,...w]);else if(w.length>0){let[F,...te]=w;const he=a[H][1];kf(he)&&kf(F)&&(F=q6(!0,he,F)),a[H]=[E,F,...te]}}}}const eE=new i7().freeze();function K6(r,o){if(typeof o!="function")throw new TypeError("Cannot `"+r+"` without `parser`")}function J6(r,o){if(typeof o!="function")throw new TypeError("Cannot `"+r+"` without `compiler`")}function Z6(r,o){if(o)throw new Error("Cannot call `"+r+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Ym(r){if(!kf(r)||typeof r.type!="string")throw new TypeError("Expected node, got `"+r+"`")}function Km(r,o,n){if(!n)throw new Error("`"+r+"` finished async. Use `"+o+"` instead")}function i5(r){return tE(r)?r:new U9(r)}function tE(r){return!!(r&&typeof r=="object"&&"message"in r&&"messages"in r)}function nE(r){return typeof r=="string"||rE(r)}function rE(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const iE="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Jm=[],Zm={allowDangerousHtml:!0},sE=/^(https?|ircs?|mailto|xmpp)$/i,oE=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function lE(r){const o=aE(r),n=uE(r);return cE(o.runSync(o.parse(n),n),r)}function aE(r){const o=r.rehypePlugins||Jm,n=r.remarkPlugins||Jm,a=r.remarkRehypeOptions?{...r.remarkRehypeOptions,...Zm}:Zm;return eE().use(Vy).use(n).use(D_,a).use(o)}function uE(r){const o=r.children||"",n=new U9;return typeof o=="string"&&(n.value=o),n}function cE(r,o){const n=o.allowedElements,a=o.allowElement,h=o.components,p=o.disallowedElements,$=o.skipHtml,_=o.unwrapDisallowed,y=o.urlTransform||hE;for(const w of oE)Object.hasOwn(o,w.from)&&(""+w.from+(w.to?"use `"+w.to+"` instead":"remove it")+iE+w.id,void 0);return r7(r,E),xv(r,{Fragment:ye.Fragment,components:h,ignoreInvalidStyle:!0,jsx:ye.jsx,jsxs:ye.jsxs,passKeys:!0,passNode:!0});function E(w,I,H){if(w.type==="raw"&&H&&typeof I=="number")return $?H.children.splice(I,1):H.children[I]={type:"text",value:w.value},I;if(w.type==="element"){let F;for(F in H6)if(Object.hasOwn(H6,F)&&Object.hasOwn(w.properties,F)){const te=w.properties[F],he=H6[F];(he===null||he.includes(w.tagName))&&(w.properties[F]=y(String(te||""),F,w))}}if(w.type==="element"){let F=n?!n.includes(w.tagName):p?p.includes(w.tagName):!1;if(!F&&a&&typeof I=="number"&&(F=!a(w,I,H)),F&&H&&typeof I=="number")return _&&w.children?H.children.splice(I,1,...w.children):H.children.splice(I,1),I}}}function hE(r){const o=r.indexOf(":"),n=r.indexOf("?"),a=r.indexOf("#"),h=r.indexOf("/");return o===-1||h!==-1&&o>h||n!==-1&&o>n||a!==-1&&o>a||sE.test(r.slice(0,o))?r:""}function z9(r,o){const n=String(r);let a=n.indexOf(o),h=a,p=0,$=0;if(typeof o!="string")throw new TypeError("Expected substring");for(;a!==-1;)a===h?++p>$&&($=p):p=1,h=a+o.length,a=n.indexOf(o,h);return $}function dE(){return{enter:{mathFlow:r,mathFlowFenceMeta:o,mathText:p},exit:{mathFlow:h,mathFlowFence:a,mathFlowFenceMeta:n,mathFlowValue:_,mathText:$,mathTextData:_}};function r(y){const E={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[E]}},y)}function o(){this.buffer()}function n(){const y=this.resume(),E=this.stack[this.stack.length-1];E.type,E.meta=y}function a(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function h(y){const E=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),w=this.stack[this.stack.length-1];w.type,this.exit(y),w.value=E;const I=w.data.hChildren[0];I.type,I.tagName,I.children.push({type:"text",value:E}),this.data.mathFlowInside=void 0}function p(y){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},y),this.buffer()}function $(y){const E=this.resume(),w=this.stack[this.stack.length-1];w.type,this.exit(y),w.value=E,w.data.hChildren.push({type:"text",value:E})}function _(y){this.config.enter.data.call(this,y),this.config.exit.data.call(this,y)}}function fE(r){let o=(r||{}).singleDollarTextMath;return o==null&&(o=!0),a.peek=h,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:o?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:a}};function n(p,$,_,y){const E=p.value||"",w=_.createTracker(y),I="$".repeat(Math.max(z9(E,"$")+1,2)),H=_.enter("mathFlow");let F=w.move(I);if(p.meta){const te=_.enter("mathFlowMeta");F+=w.move(_.safe(p.meta,{after:`
`,before:F,encode:["$"],...w.current()})),te()}return F+=w.move(`
`),E&&(F+=w.move(E+`
`)),F+=w.move(I),H(),F}function a(p,$,_){let y=p.value||"",E=1;for(o||E++;new RegExp("(^|[^$])"+"\\$".repeat(E)+"([^$]|$)").test(y);)E++;const w="$".repeat(E);/[^ \r\n]/.test(y)&&(/^[ \r\n]/.test(y)&&/[ \r\n]$/.test(y)||/^\$|\$$/.test(y))&&(y=" "+y+" ");let I=-1;for(;++I<_.unsafe.length;){const H=_.unsafe[I];if(!H.atBreak)continue;const F=_.compilePattern(H);let te;for(;te=F.exec(y);){let he=te.index;y.codePointAt(he)===10&&y.codePointAt(he-1)===13&&he--,y=y.slice(0,he)+" "+y.slice(te.index+1)}}return w+y+w}function h(){return"$"}}const pE={tokenize:mE,concrete:!0,name:"mathFlow"},Qm={tokenize:gE,partial:!0};function mE(r,o,n){const a=this,h=a.events[a.events.length-1],p=h&&h[1].type==="linePrefix"?h[2].sliceSerialize(h[1],!0).length:0;let $=0;return _;function _(se){return r.enter("mathFlow"),r.enter("mathFlowFence"),r.enter("mathFlowFenceSequence"),y(se)}function y(se){return se===36?(r.consume(se),$++,y):$<2?n(se):(r.exit("mathFlowFenceSequence"),oi(r,E,"whitespace")(se))}function E(se){return se===null||tr(se)?I(se):(r.enter("mathFlowFenceMeta"),r.enter("chunkString",{contentType:"string"}),w(se))}function w(se){return se===null||tr(se)?(r.exit("chunkString"),r.exit("mathFlowFenceMeta"),I(se)):se===36?n(se):(r.consume(se),w)}function I(se){return r.exit("mathFlowFence"),a.interrupt?o(se):r.attempt(Qm,H,ce)(se)}function H(se){return r.attempt({tokenize:K,partial:!0},ce,F)(se)}function F(se){return(p?oi(r,te,"linePrefix",p+1):te)(se)}function te(se){return se===null?ce(se):tr(se)?r.attempt(Qm,H,ce)(se):(r.enter("mathFlowValue"),he(se))}function he(se){return se===null||tr(se)?(r.exit("mathFlowValue"),te(se)):(r.consume(se),he)}function ce(se){return r.exit("mathFlow"),o(se)}function K(se,we,Oe){let De=0;return oi(se,Se,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function Se(Ze){return se.enter("mathFlowFence"),se.enter("mathFlowFenceSequence"),je(Ze)}function je(Ze){return Ze===36?(De++,se.consume(Ze),je):De<$?Oe(Ze):(se.exit("mathFlowFenceSequence"),oi(se,at,"whitespace")(Ze))}function at(Ze){return Ze===null||tr(Ze)?(se.exit("mathFlowFence"),we(Ze)):Oe(Ze)}}}function gE(r,o,n){const a=this;return h;function h($){return $===null?o($):(r.enter("lineEnding"),r.consume($),r.exit("lineEnding"),p)}function p($){return a.parser.lazy[a.now().line]?n($):o($)}}function $E(r){let n=(r||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:a,resolve:bE,previous:vE,name:"mathText"};function a(h,p,$){let _=0,y,E;return w;function w(he){return h.enter("mathText"),h.enter("mathTextSequence"),I(he)}function I(he){return he===36?(h.consume(he),_++,I):_<2&&!n?$(he):(h.exit("mathTextSequence"),H(he))}function H(he){return he===null?$(he):he===36?(E=h.enter("mathTextSequence"),y=0,te(he)):he===32?(h.enter("space"),h.consume(he),h.exit("space"),H):tr(he)?(h.enter("lineEnding"),h.consume(he),h.exit("lineEnding"),H):(h.enter("mathTextData"),F(he))}function F(he){return he===null||he===32||he===36||tr(he)?(h.exit("mathTextData"),H(he)):(h.consume(he),F)}function te(he){return he===36?(h.consume(he),y++,te):y===_?(h.exit("mathTextSequence"),h.exit("mathText"),p(he)):(E.type="mathTextData",F(he))}}}function bE(r){let o=r.length-4,n=3,a,h;if((r[n][1].type==="lineEnding"||r[n][1].type==="space")&&(r[o][1].type==="lineEnding"||r[o][1].type==="space")){for(a=n;++a<o;)if(r[a][1].type==="mathTextData"){r[o][1].type="mathTextPadding",r[n][1].type="mathTextPadding",n+=2,o-=2;break}}for(a=n-1,o++;++a<=o;)h===void 0?a!==o&&r[a][1].type!=="lineEnding"&&(h=a):(a===o||r[a][1].type==="lineEnding")&&(r[h][1].type="mathTextData",a!==h+2&&(r[h][1].end=r[a-1][1].end,r.splice(h+2,a-h-2),o-=a-h-2,a=h+2),h=void 0);return r}function vE(r){return r!==36||this.events[this.events.length-1][1].type==="characterEscape"}function TE(r){return{flow:{36:pE},text:{36:$E(r)}}}class p0{constructor(o,n,a){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=o,this.start=n,this.end=a}static range(o,n){return n?!o||!o.loc||!n.loc||o.loc.lexer!==n.loc.lexer?null:new p0(o.loc.lexer,o.loc.start,n.loc.end):o&&o.loc}}class V0{constructor(o,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=o,this.loc=n}range(o,n){return new V0(n,p0.range(this,o))}}class fn{constructor(o,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var a="KaTeX parse error: "+o,h,p,$=n&&n.loc;if($&&$.start<=$.end){var _=$.lexer.input;h=$.start,p=$.end,h===_.length?a+=" at end of input: ":a+=" at position "+(h+1)+": ";var y=_.slice(h,p).replace(/[^]/g,"$&"),E;h>15?E=""+_.slice(h-15,h):E=_.slice(0,h);var w;p+15<_.length?w=_.slice(p,p+15)+"":w=_.slice(p),a+=E+y+w}var I=new Error(a);return I.name="ParseError",I.__proto__=fn.prototype,I.position=h,h!=null&&p!=null&&(I.length=p-h),I.rawMessage=o,I}}fn.prototype.__proto__=Error.prototype;var yE=function(o,n){return o===void 0?n:o},_E=/([A-Z])/g,EE=function(o){return o.replace(_E,"-$1").toLowerCase()},wE={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},SE=/[&><"']/g;function xE(r){return String(r).replace(SE,o=>wE[o])}var H9=function r(o){return o.type==="ordgroup"||o.type==="color"?o.body.length===1?r(o.body[0]):o:o.type==="font"?r(o.body):o},CE=function(o){var n=H9(o);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},kE=function(o){if(!o)throw new Error("Expected non-null, but got "+String(o));return o},IE=function(o){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(o);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Xi={deflt:yE,escape:xE,hyphenate:EE,getBaseElem:H9,isCharacterBox:CE,protocolFromUrl:IE},w5={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:r=>"#"+r},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(r,o)=>(o.push(r),o)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:r=>Math.max(0,r),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:r=>Math.max(0,r),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:r=>Math.max(0,r),cli:"-e, --max-expand <n>",cliProcessor:r=>r==="Infinity"?1/0:parseInt(r)},globalGroup:{type:"boolean",cli:!1}};function AE(r){if(r.default)return r.default;var o=r.type,n=Array.isArray(o)?o[0]:o;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class s7{constructor(o){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,o=o||{};for(var n in w5)if(w5.hasOwnProperty(n)){var a=w5[n];this[n]=o[n]!==void 0?a.processor?a.processor(o[n]):o[n]:AE(a)}}reportNonstrict(o,n,a){var h=this.strict;if(typeof h=="function"&&(h=h(o,n,a)),!(!h||h==="ignore")){if(h===!0||h==="error")throw new fn("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+o+"]"),a);h==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+o+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+h+"': "+n+" ["+o+"]"))}}useStrictBehavior(o,n,a){var h=this.strict;if(typeof h=="function")try{h=h(o,n,a)}catch{h="error"}return!h||h==="ignore"?!1:h===!0||h==="error"?!0:h==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+o+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+h+"': "+n+" ["+o+"]")),!1)}isTrusted(o){if(o.url&&!o.protocol){var n=Xi.protocolFromUrl(o.url);if(n==null)return!1;o.protocol=n}var a=typeof this.trust=="function"?this.trust(o):this.trust;return!!a}}class J1{constructor(o,n,a){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=o,this.size=n,this.cramped=a}sup(){return Wu[NE[this.id]]}sub(){return Wu[ME[this.id]]}fracNum(){return Wu[OE[this.id]]}fracDen(){return Wu[RE[this.id]]}cramp(){return Wu[LE[this.id]]}text(){return Wu[DE[this.id]]}isTight(){return this.size>=2}}var o7=0,A5=1,w4=2,Hc=3,a3=4,Ea=5,x4=6,e0=7,Wu=[new J1(o7,0,!1),new J1(A5,0,!0),new J1(w4,1,!1),new J1(Hc,1,!0),new J1(a3,2,!1),new J1(Ea,2,!0),new J1(x4,3,!1),new J1(e0,3,!0)],NE=[a3,Ea,a3,Ea,x4,e0,x4,e0],ME=[Ea,Ea,Ea,Ea,e0,e0,e0,e0],OE=[w4,Hc,a3,Ea,x4,e0,x4,e0],RE=[Hc,Hc,Ea,Ea,e0,e0,e0,e0],LE=[A5,A5,Hc,Hc,Ea,Ea,e0,e0],DE=[o7,A5,w4,Hc,w4,Hc,w4,Hc],fr={DISPLAY:Wu[o7],TEXT:Wu[w4],SCRIPT:Wu[a3],SCRIPTSCRIPT:Wu[x4]},Af=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function BE(r){for(var o=0;o<Af.length;o++)for(var n=Af[o],a=0;a<n.blocks.length;a++){var h=n.blocks[a];if(r>=h[0]&&r<=h[1])return n.name}return null}var S5=[];Af.forEach(r=>r.blocks.forEach(o=>S5.push(...o)));function V9(r){for(var o=0;o<S5.length;o+=2)if(r>=S5[o]&&r<=S5[o+1])return!0;return!1}var y4=80,PE=function(o,n){return"M95,"+(622+o+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+o/2.075+" -"+o+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+o)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+o)+" "+n+"h400000v"+(40+o)+"h-400000z"},FE=function(o,n){return"M263,"+(601+o+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+o/2.084+" -"+o+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+o)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+o)+" "+n+"h400000v"+(40+o)+"h-400000z"},UE=function(o,n){return"M983 "+(10+o+n)+`
l`+o/3.13+" -"+o+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+o)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+o)+" "+n+"h400000v"+(40+o)+"h-400000z"},zE=function(o,n){return"M424,"+(2398+o+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+o/4.223+" -"+o+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+o)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+o)+" "+n+`
h400000v`+(40+o)+"h-400000z"},HE=function(o,n){return"M473,"+(2713+o+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+o/5.298+" -"+o+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+o)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+o)+" "+n+"h400000v"+(40+o)+"H1017.7z"},VE=function(o){var n=o/2;return"M400000 "+o+" H0 L"+n+" 0 l65 45 L145 "+(o-80)+" H400000z"},GE=function(o,n,a){var h=a-54-n-o;return"M702 "+(o+n)+"H400000"+(40+o)+`
H742v`+h+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+o)+"H742z"},WE=function(o,n,a){n=1e3*n;var h="";switch(o){case"sqrtMain":h=PE(n,y4);break;case"sqrtSize1":h=FE(n,y4);break;case"sqrtSize2":h=UE(n,y4);break;case"sqrtSize3":h=zE(n,y4);break;case"sqrtSize4":h=HE(n,y4);break;case"sqrtTall":h=GE(n,y4,a)}return h},qE=function(o,n){switch(o){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},e8={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},XE=function(o,n){switch(o){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let $3=class{constructor(o){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=o,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(o){return this.classes.includes(o)}toNode(){for(var o=document.createDocumentFragment(),n=0;n<this.children.length;n++)o.appendChild(this.children[n].toNode());return o}toMarkup(){for(var o="",n=0;n<this.children.length;n++)o+=this.children[n].toMarkup();return o}toText(){var o=n=>n.toText();return this.children.map(o).join("")}};var qu={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},s5={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},t8={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function jE(r,o){qu[r]=o}function l7(r,o,n){if(!qu[o])throw new Error("Font metrics not found for font: "+o+".");var a=r.charCodeAt(0),h=qu[o][a];if(!h&&r[0]in t8&&(a=t8[r[0]].charCodeAt(0),h=qu[o][a]),!h&&n==="text"&&V9(a)&&(h=qu[o][77]),h)return{depth:h[0],height:h[1],italic:h[2],skew:h[3],width:h[4]}}var Q6={};function YE(r){var o;if(r>=5?o=0:r>=3?o=1:o=2,!Q6[o]){var n=Q6[o]={cssEmPerMu:s5.quad[o]/18};for(var a in s5)s5.hasOwnProperty(a)&&(n[a]=s5[a][o])}return Q6[o]}var KE=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],n8=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],r8=function(o,n){return n.size<2?o:KE[o-1][n.size-1]};class zc{constructor(o){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=o.style,this.color=o.color,this.size=o.size||zc.BASESIZE,this.textSize=o.textSize||this.size,this.phantom=!!o.phantom,this.font=o.font||"",this.fontFamily=o.fontFamily||"",this.fontWeight=o.fontWeight||"",this.fontShape=o.fontShape||"",this.sizeMultiplier=n8[this.size-1],this.maxSize=o.maxSize,this.minRuleThickness=o.minRuleThickness,this._fontMetrics=void 0}extend(o){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a]);return new zc(n)}havingStyle(o){return this.style===o?this:this.extend({style:o,size:r8(this.textSize,o)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(o){return this.size===o&&this.textSize===o?this:this.extend({style:this.style.text(),size:o,textSize:o,sizeMultiplier:n8[o-1]})}havingBaseStyle(o){o=o||this.style.text();var n=r8(zc.BASESIZE,o);return this.size===n&&this.textSize===zc.BASESIZE&&this.style===o?this:this.extend({style:o,size:n})}havingBaseSizing(){var o;switch(this.style.id){case 4:case 5:o=3;break;case 6:case 7:o=1;break;default:o=6}return this.extend({style:this.style.text(),size:o})}withColor(o){return this.extend({color:o})}withPhantom(){return this.extend({phantom:!0})}withFont(o){return this.extend({font:o})}withTextFontFamily(o){return this.extend({fontFamily:o,font:""})}withTextFontWeight(o){return this.extend({fontWeight:o,font:""})}withTextFontShape(o){return this.extend({fontShape:o,font:""})}sizingClasses(o){return o.size!==this.size?["sizing","reset-size"+o.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==zc.BASESIZE?["sizing","reset-size"+this.size,"size"+zc.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=YE(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}zc.BASESIZE=6;var Nf={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},JE={ex:!0,em:!0,mu:!0},G9=function(o){return typeof o!="string"&&(o=o.unit),o in Nf||o in JE||o==="ex"},io=function(o,n){var a;if(o.unit in Nf)a=Nf[o.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(o.unit==="mu")a=n.fontMetrics().cssEmPerMu;else{var h;if(n.style.isTight()?h=n.havingStyle(n.style.text()):h=n,o.unit==="ex")a=h.fontMetrics().xHeight;else if(o.unit==="em")a=h.fontMetrics().quad;else throw new fn("Invalid unit: '"+o.unit+"'");h!==n&&(a*=h.sizeMultiplier/n.sizeMultiplier)}return Math.min(o.number*a,n.maxSize)},vn=function(o){return+o.toFixed(4)+"em"},eh=function(o){return o.filter(n=>n).join(" ")},W9=function(o,n,a){if(this.classes=o||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=a||{},n){n.style.isTight()&&this.classes.push("mtight");var h=n.getColor();h&&(this.style.color=h)}},q9=function(o){var n=document.createElement(o);n.className=eh(this.classes);for(var a in this.style)this.style.hasOwnProperty(a)&&(n.style[a]=this.style[a]);for(var h in this.attributes)this.attributes.hasOwnProperty(h)&&n.setAttribute(h,this.attributes[h]);for(var p=0;p<this.children.length;p++)n.appendChild(this.children[p].toNode());return n},ZE=/[\s"'>/=\x00-\x1f]/,X9=function(o){var n="<"+o;this.classes.length&&(n+=' class="'+Xi.escape(eh(this.classes))+'"');var a="";for(var h in this.style)this.style.hasOwnProperty(h)&&(a+=Xi.hyphenate(h)+":"+this.style[h]+";");a&&(n+=' style="'+Xi.escape(a)+'"');for(var p in this.attributes)if(this.attributes.hasOwnProperty(p)){if(ZE.test(p))throw new fn("Invalid attribute name '"+p+"'");n+=" "+p+'="'+Xi.escape(this.attributes[p])+'"'}n+=">";for(var $=0;$<this.children.length;$++)n+=this.children[$].toMarkup();return n+="</"+o+">",n};class b3{constructor(o,n,a,h){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,W9.call(this,o,a,h),this.children=n||[]}setAttribute(o,n){this.attributes[o]=n}hasClass(o){return this.classes.includes(o)}toNode(){return q9.call(this,"span")}toMarkup(){return X9.call(this,"span")}}class a7{constructor(o,n,a,h){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,W9.call(this,n,h),this.children=a||[],this.setAttribute("href",o)}setAttribute(o,n){this.attributes[o]=n}hasClass(o){return this.classes.includes(o)}toNode(){return q9.call(this,"a")}toMarkup(){return X9.call(this,"a")}}class QE{constructor(o,n,a){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=o,this.classes=["mord"],this.style=a}hasClass(o){return this.classes.includes(o)}toNode(){var o=document.createElement("img");o.src=this.src,o.alt=this.alt,o.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(o.style[n]=this.style[n]);return o}toMarkup(){var o='<img src="'+Xi.escape(this.src)+'"'+(' alt="'+Xi.escape(this.alt)+'"'),n="";for(var a in this.style)this.style.hasOwnProperty(a)&&(n+=Xi.hyphenate(a)+":"+this.style[a]+";");return n&&(o+=' style="'+Xi.escape(n)+'"'),o+="'/>",o}}var ew={:"",:"",:"",:""};class wa{constructor(o,n,a,h,p,$,_,y){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=o,this.height=n||0,this.depth=a||0,this.italic=h||0,this.skew=p||0,this.width=$||0,this.classes=_||[],this.style=y||{},this.maxFontSize=0;var E=BE(this.text.charCodeAt(0));E&&this.classes.push(E+"_fallback"),/[]/.test(this.text)&&(this.text=ew[this.text])}hasClass(o){return this.classes.includes(o)}toNode(){var o=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=vn(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=eh(this.classes));for(var a in this.style)this.style.hasOwnProperty(a)&&(n=n||document.createElement("span"),n.style[a]=this.style[a]);return n?(n.appendChild(o),n):o}toMarkup(){var o=!1,n="<span";this.classes.length&&(o=!0,n+=' class="',n+=Xi.escape(eh(this.classes)),n+='"');var a="";this.italic>0&&(a+="margin-right:"+this.italic+"em;");for(var h in this.style)this.style.hasOwnProperty(h)&&(a+=Xi.hyphenate(h)+":"+this.style[h]+";");a&&(o=!0,n+=' style="'+Xi.escape(a)+'"');var p=Xi.escape(this.text);return o?(n+=">",n+=p,n+="</span>",n):p}}class Gc{constructor(o,n){this.children=void 0,this.attributes=void 0,this.children=o||[],this.attributes=n||{}}toNode(){var o="http://www.w3.org/2000/svg",n=document.createElementNS(o,"svg");for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&n.setAttribute(a,this.attributes[a]);for(var h=0;h<this.children.length;h++)n.appendChild(this.children[h].toNode());return n}toMarkup(){var o='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(o+=" "+n+'="'+Xi.escape(this.attributes[n])+'"');o+=">";for(var a=0;a<this.children.length;a++)o+=this.children[a].toMarkup();return o+="</svg>",o}}class th{constructor(o,n){this.pathName=void 0,this.alternate=void 0,this.pathName=o,this.alternate=n}toNode(){var o="http://www.w3.org/2000/svg",n=document.createElementNS(o,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",e8[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Xi.escape(this.alternate)+'"/>':'<path d="'+Xi.escape(e8[this.pathName])+'"/>'}}class Mf{constructor(o){this.attributes=void 0,this.attributes=o||{}}toNode(){var o="http://www.w3.org/2000/svg",n=document.createElementNS(o,"line");for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&n.setAttribute(a,this.attributes[a]);return n}toMarkup(){var o="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(o+=" "+n+'="'+Xi.escape(this.attributes[n])+'"');return o+="/>",o}}function i8(r){if(r instanceof wa)return r;throw new Error("Expected symbolNode but got "+String(r)+".")}function tw(r){if(r instanceof b3)return r;throw new Error("Expected span<HtmlDomNode> but got "+String(r)+".")}var nw={bin:1,close:1,inner:1,open:1,punct:1,rel:1},rw={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Os={math:{},text:{}};function z(r,o,n,a,h,p){Os[r][h]={font:o,group:n,replace:a},p&&a&&(Os[r][a]=Os[r][h])}var q="math",ln="text",ue="main",He="ams",Ys="accent-token",Ln="bin",t0="close",I4="inner",dr="mathord",Do="op-token",G0="open",H5="punct",Ge="rel",Xc="spacing",it="textord";z(q,ue,Ge,"","\\equiv",!0);z(q,ue,Ge,"","\\prec",!0);z(q,ue,Ge,"","\\succ",!0);z(q,ue,Ge,"","\\sim",!0);z(q,ue,Ge,"","\\perp");z(q,ue,Ge,"","\\preceq",!0);z(q,ue,Ge,"","\\succeq",!0);z(q,ue,Ge,"","\\simeq",!0);z(q,ue,Ge,"","\\mid",!0);z(q,ue,Ge,"","\\ll",!0);z(q,ue,Ge,"","\\gg",!0);z(q,ue,Ge,"","\\asymp",!0);z(q,ue,Ge,"","\\parallel");z(q,ue,Ge,"","\\bowtie",!0);z(q,ue,Ge,"","\\smile",!0);z(q,ue,Ge,"","\\sqsubseteq",!0);z(q,ue,Ge,"","\\sqsupseteq",!0);z(q,ue,Ge,"","\\doteq",!0);z(q,ue,Ge,"","\\frown",!0);z(q,ue,Ge,"","\\ni",!0);z(q,ue,Ge,"","\\propto",!0);z(q,ue,Ge,"","\\vdash",!0);z(q,ue,Ge,"","\\dashv",!0);z(q,ue,Ge,"","\\owns");z(q,ue,H5,".","\\ldotp");z(q,ue,H5,"","\\cdotp");z(q,ue,it,"#","\\#");z(ln,ue,it,"#","\\#");z(q,ue,it,"&","\\&");z(ln,ue,it,"&","\\&");z(q,ue,it,"","\\aleph",!0);z(q,ue,it,"","\\forall",!0);z(q,ue,it,"","\\hbar",!0);z(q,ue,it,"","\\exists",!0);z(q,ue,it,"","\\nabla",!0);z(q,ue,it,"","\\flat",!0);z(q,ue,it,"","\\ell",!0);z(q,ue,it,"","\\natural",!0);z(q,ue,it,"","\\clubsuit",!0);z(q,ue,it,"","\\wp",!0);z(q,ue,it,"","\\sharp",!0);z(q,ue,it,"","\\diamondsuit",!0);z(q,ue,it,"","\\Re",!0);z(q,ue,it,"","\\heartsuit",!0);z(q,ue,it,"","\\Im",!0);z(q,ue,it,"","\\spadesuit",!0);z(q,ue,it,"","\\S",!0);z(ln,ue,it,"","\\S");z(q,ue,it,"","\\P",!0);z(ln,ue,it,"","\\P");z(q,ue,it,"","\\dag");z(ln,ue,it,"","\\dag");z(ln,ue,it,"","\\textdagger");z(q,ue,it,"","\\ddag");z(ln,ue,it,"","\\ddag");z(ln,ue,it,"","\\textdaggerdbl");z(q,ue,t0,"","\\rmoustache",!0);z(q,ue,G0,"","\\lmoustache",!0);z(q,ue,t0,"","\\rgroup",!0);z(q,ue,G0,"","\\lgroup",!0);z(q,ue,Ln,"","\\mp",!0);z(q,ue,Ln,"","\\ominus",!0);z(q,ue,Ln,"","\\uplus",!0);z(q,ue,Ln,"","\\sqcap",!0);z(q,ue,Ln,"","\\ast");z(q,ue,Ln,"","\\sqcup",!0);z(q,ue,Ln,"","\\bigcirc",!0);z(q,ue,Ln,"","\\bullet",!0);z(q,ue,Ln,"","\\ddagger");z(q,ue,Ln,"","\\wr",!0);z(q,ue,Ln,"","\\amalg");z(q,ue,Ln,"&","\\And");z(q,ue,Ge,"","\\longleftarrow",!0);z(q,ue,Ge,"","\\Leftarrow",!0);z(q,ue,Ge,"","\\Longleftarrow",!0);z(q,ue,Ge,"","\\longrightarrow",!0);z(q,ue,Ge,"","\\Rightarrow",!0);z(q,ue,Ge,"","\\Longrightarrow",!0);z(q,ue,Ge,"","\\leftrightarrow",!0);z(q,ue,Ge,"","\\longleftrightarrow",!0);z(q,ue,Ge,"","\\Leftrightarrow",!0);z(q,ue,Ge,"","\\Longleftrightarrow",!0);z(q,ue,Ge,"","\\mapsto",!0);z(q,ue,Ge,"","\\longmapsto",!0);z(q,ue,Ge,"","\\nearrow",!0);z(q,ue,Ge,"","\\hookleftarrow",!0);z(q,ue,Ge,"","\\hookrightarrow",!0);z(q,ue,Ge,"","\\searrow",!0);z(q,ue,Ge,"","\\leftharpoonup",!0);z(q,ue,Ge,"","\\rightharpoonup",!0);z(q,ue,Ge,"","\\swarrow",!0);z(q,ue,Ge,"","\\leftharpoondown",!0);z(q,ue,Ge,"","\\rightharpoondown",!0);z(q,ue,Ge,"","\\nwarrow",!0);z(q,ue,Ge,"","\\rightleftharpoons",!0);z(q,He,Ge,"","\\nless",!0);z(q,He,Ge,"","\\@nleqslant");z(q,He,Ge,"","\\@nleqq");z(q,He,Ge,"","\\lneq",!0);z(q,He,Ge,"","\\lneqq",!0);z(q,He,Ge,"","\\@lvertneqq");z(q,He,Ge,"","\\lnsim",!0);z(q,He,Ge,"","\\lnapprox",!0);z(q,He,Ge,"","\\nprec",!0);z(q,He,Ge,"","\\npreceq",!0);z(q,He,Ge,"","\\precnsim",!0);z(q,He,Ge,"","\\precnapprox",!0);z(q,He,Ge,"","\\nsim",!0);z(q,He,Ge,"","\\@nshortmid");z(q,He,Ge,"","\\nmid",!0);z(q,He,Ge,"","\\nvdash",!0);z(q,He,Ge,"","\\nvDash",!0);z(q,He,Ge,"","\\ntriangleleft");z(q,He,Ge,"","\\ntrianglelefteq",!0);z(q,He,Ge,"","\\subsetneq",!0);z(q,He,Ge,"","\\@varsubsetneq");z(q,He,Ge,"","\\subsetneqq",!0);z(q,He,Ge,"","\\@varsubsetneqq");z(q,He,Ge,"","\\ngtr",!0);z(q,He,Ge,"","\\@ngeqslant");z(q,He,Ge,"","\\@ngeqq");z(q,He,Ge,"","\\gneq",!0);z(q,He,Ge,"","\\gneqq",!0);z(q,He,Ge,"","\\@gvertneqq");z(q,He,Ge,"","\\gnsim",!0);z(q,He,Ge,"","\\gnapprox",!0);z(q,He,Ge,"","\\nsucc",!0);z(q,He,Ge,"","\\nsucceq",!0);z(q,He,Ge,"","\\succnsim",!0);z(q,He,Ge,"","\\succnapprox",!0);z(q,He,Ge,"","\\ncong",!0);z(q,He,Ge,"","\\@nshortparallel");z(q,He,Ge,"","\\nparallel",!0);z(q,He,Ge,"","\\nVDash",!0);z(q,He,Ge,"","\\ntriangleright");z(q,He,Ge,"","\\ntrianglerighteq",!0);z(q,He,Ge,"","\\@nsupseteqq");z(q,He,Ge,"","\\supsetneq",!0);z(q,He,Ge,"","\\@varsupsetneq");z(q,He,Ge,"","\\supsetneqq",!0);z(q,He,Ge,"","\\@varsupsetneqq");z(q,He,Ge,"","\\nVdash",!0);z(q,He,Ge,"","\\precneqq",!0);z(q,He,Ge,"","\\succneqq",!0);z(q,He,Ge,"","\\@nsubseteqq");z(q,He,Ln,"","\\unlhd");z(q,He,Ln,"","\\unrhd");z(q,He,Ge,"","\\nleftarrow",!0);z(q,He,Ge,"","\\nrightarrow",!0);z(q,He,Ge,"","\\nLeftarrow",!0);z(q,He,Ge,"","\\nRightarrow",!0);z(q,He,Ge,"","\\nleftrightarrow",!0);z(q,He,Ge,"","\\nLeftrightarrow",!0);z(q,He,Ge,"","\\vartriangle");z(q,He,it,"","\\hslash");z(q,He,it,"","\\triangledown");z(q,He,it,"","\\lozenge");z(q,He,it,"","\\circledS");z(q,He,it,"","\\circledR");z(ln,He,it,"","\\circledR");z(q,He,it,"","\\measuredangle",!0);z(q,He,it,"","\\nexists");z(q,He,it,"","\\mho");z(q,He,it,"","\\Finv",!0);z(q,He,it,"","\\Game",!0);z(q,He,it,"","\\backprime");z(q,He,it,"","\\blacktriangle");z(q,He,it,"","\\blacktriangledown");z(q,He,it,"","\\blacksquare");z(q,He,it,"","\\blacklozenge");z(q,He,it,"","\\bigstar");z(q,He,it,"","\\sphericalangle",!0);z(q,He,it,"","\\complement",!0);z(q,He,it,"","\\eth",!0);z(ln,ue,it,"","");z(q,He,it,"","\\diagup");z(q,He,it,"","\\diagdown");z(q,He,it,"","\\square");z(q,He,it,"","\\Box");z(q,He,it,"","\\Diamond");z(q,He,it,"","\\yen",!0);z(ln,He,it,"","\\yen",!0);z(q,He,it,"","\\checkmark",!0);z(ln,He,it,"","\\checkmark");z(q,He,it,"","\\beth",!0);z(q,He,it,"","\\daleth",!0);z(q,He,it,"","\\gimel",!0);z(q,He,it,"","\\digamma",!0);z(q,He,it,"","\\varkappa");z(q,He,G0,"","\\@ulcorner",!0);z(q,He,t0,"","\\@urcorner",!0);z(q,He,G0,"","\\@llcorner",!0);z(q,He,t0,"","\\@lrcorner",!0);z(q,He,Ge,"","\\leqq",!0);z(q,He,Ge,"","\\leqslant",!0);z(q,He,Ge,"","\\eqslantless",!0);z(q,He,Ge,"","\\lesssim",!0);z(q,He,Ge,"","\\lessapprox",!0);z(q,He,Ge,"","\\approxeq",!0);z(q,He,Ln,"","\\lessdot");z(q,He,Ge,"","\\lll",!0);z(q,He,Ge,"","\\lessgtr",!0);z(q,He,Ge,"","\\lesseqgtr",!0);z(q,He,Ge,"","\\lesseqqgtr",!0);z(q,He,Ge,"","\\doteqdot");z(q,He,Ge,"","\\risingdotseq",!0);z(q,He,Ge,"","\\fallingdotseq",!0);z(q,He,Ge,"","\\backsim",!0);z(q,He,Ge,"","\\backsimeq",!0);z(q,He,Ge,"","\\subseteqq",!0);z(q,He,Ge,"","\\Subset",!0);z(q,He,Ge,"","\\sqsubset",!0);z(q,He,Ge,"","\\preccurlyeq",!0);z(q,He,Ge,"","\\curlyeqprec",!0);z(q,He,Ge,"","\\precsim",!0);z(q,He,Ge,"","\\precapprox",!0);z(q,He,Ge,"","\\vartriangleleft");z(q,He,Ge,"","\\trianglelefteq");z(q,He,Ge,"","\\vDash",!0);z(q,He,Ge,"","\\Vvdash",!0);z(q,He,Ge,"","\\smallsmile");z(q,He,Ge,"","\\smallfrown");z(q,He,Ge,"","\\bumpeq",!0);z(q,He,Ge,"","\\Bumpeq",!0);z(q,He,Ge,"","\\geqq",!0);z(q,He,Ge,"","\\geqslant",!0);z(q,He,Ge,"","\\eqslantgtr",!0);z(q,He,Ge,"","\\gtrsim",!0);z(q,He,Ge,"","\\gtrapprox",!0);z(q,He,Ln,"","\\gtrdot");z(q,He,Ge,"","\\ggg",!0);z(q,He,Ge,"","\\gtrless",!0);z(q,He,Ge,"","\\gtreqless",!0);z(q,He,Ge,"","\\gtreqqless",!0);z(q,He,Ge,"","\\eqcirc",!0);z(q,He,Ge,"","\\circeq",!0);z(q,He,Ge,"","\\triangleq",!0);z(q,He,Ge,"","\\thicksim");z(q,He,Ge,"","\\thickapprox");z(q,He,Ge,"","\\supseteqq",!0);z(q,He,Ge,"","\\Supset",!0);z(q,He,Ge,"","\\sqsupset",!0);z(q,He,Ge,"","\\succcurlyeq",!0);z(q,He,Ge,"","\\curlyeqsucc",!0);z(q,He,Ge,"","\\succsim",!0);z(q,He,Ge,"","\\succapprox",!0);z(q,He,Ge,"","\\vartriangleright");z(q,He,Ge,"","\\trianglerighteq");z(q,He,Ge,"","\\Vdash",!0);z(q,He,Ge,"","\\shortmid");z(q,He,Ge,"","\\shortparallel");z(q,He,Ge,"","\\between",!0);z(q,He,Ge,"","\\pitchfork",!0);z(q,He,Ge,"","\\varpropto");z(q,He,Ge,"","\\blacktriangleleft");z(q,He,Ge,"","\\therefore",!0);z(q,He,Ge,"","\\backepsilon");z(q,He,Ge,"","\\blacktriangleright");z(q,He,Ge,"","\\because",!0);z(q,He,Ge,"","\\llless");z(q,He,Ge,"","\\gggtr");z(q,He,Ln,"","\\lhd");z(q,He,Ln,"","\\rhd");z(q,He,Ge,"","\\eqsim",!0);z(q,ue,Ge,"","\\Join");z(q,He,Ge,"","\\Doteq",!0);z(q,He,Ln,"","\\dotplus",!0);z(q,He,Ln,"","\\smallsetminus");z(q,He,Ln,"","\\Cap",!0);z(q,He,Ln,"","\\Cup",!0);z(q,He,Ln,"","\\doublebarwedge",!0);z(q,He,Ln,"","\\boxminus",!0);z(q,He,Ln,"","\\boxplus",!0);z(q,He,Ln,"","\\divideontimes",!0);z(q,He,Ln,"","\\ltimes",!0);z(q,He,Ln,"","\\rtimes",!0);z(q,He,Ln,"","\\leftthreetimes",!0);z(q,He,Ln,"","\\rightthreetimes",!0);z(q,He,Ln,"","\\curlywedge",!0);z(q,He,Ln,"","\\curlyvee",!0);z(q,He,Ln,"","\\circleddash",!0);z(q,He,Ln,"","\\circledast",!0);z(q,He,Ln,"","\\centerdot");z(q,He,Ln,"","\\intercal",!0);z(q,He,Ln,"","\\doublecap");z(q,He,Ln,"","\\doublecup");z(q,He,Ln,"","\\boxtimes",!0);z(q,He,Ge,"","\\dashrightarrow",!0);z(q,He,Ge,"","\\dashleftarrow",!0);z(q,He,Ge,"","\\leftleftarrows",!0);z(q,He,Ge,"","\\leftrightarrows",!0);z(q,He,Ge,"","\\Lleftarrow",!0);z(q,He,Ge,"","\\twoheadleftarrow",!0);z(q,He,Ge,"","\\leftarrowtail",!0);z(q,He,Ge,"","\\looparrowleft",!0);z(q,He,Ge,"","\\leftrightharpoons",!0);z(q,He,Ge,"","\\curvearrowleft",!0);z(q,He,Ge,"","\\circlearrowleft",!0);z(q,He,Ge,"","\\Lsh",!0);z(q,He,Ge,"","\\upuparrows",!0);z(q,He,Ge,"","\\upharpoonleft",!0);z(q,He,Ge,"","\\downharpoonleft",!0);z(q,ue,Ge,"","\\origof",!0);z(q,ue,Ge,"","\\imageof",!0);z(q,He,Ge,"","\\multimap",!0);z(q,He,Ge,"","\\leftrightsquigarrow",!0);z(q,He,Ge,"","\\rightrightarrows",!0);z(q,He,Ge,"","\\rightleftarrows",!0);z(q,He,Ge,"","\\twoheadrightarrow",!0);z(q,He,Ge,"","\\rightarrowtail",!0);z(q,He,Ge,"","\\looparrowright",!0);z(q,He,Ge,"","\\curvearrowright",!0);z(q,He,Ge,"","\\circlearrowright",!0);z(q,He,Ge,"","\\Rsh",!0);z(q,He,Ge,"","\\downdownarrows",!0);z(q,He,Ge,"","\\upharpoonright",!0);z(q,He,Ge,"","\\downharpoonright",!0);z(q,He,Ge,"","\\rightsquigarrow",!0);z(q,He,Ge,"","\\leadsto");z(q,He,Ge,"","\\Rrightarrow",!0);z(q,He,Ge,"","\\restriction");z(q,ue,it,"","`");z(q,ue,it,"$","\\$");z(ln,ue,it,"$","\\$");z(ln,ue,it,"$","\\textdollar");z(q,ue,it,"%","\\%");z(ln,ue,it,"%","\\%");z(q,ue,it,"_","\\_");z(ln,ue,it,"_","\\_");z(ln,ue,it,"_","\\textunderscore");z(q,ue,it,"","\\angle",!0);z(q,ue,it,"","\\infty",!0);z(q,ue,it,"","\\prime");z(q,ue,it,"","\\triangle");z(q,ue,it,"","\\Gamma",!0);z(q,ue,it,"","\\Delta",!0);z(q,ue,it,"","\\Theta",!0);z(q,ue,it,"","\\Lambda",!0);z(q,ue,it,"","\\Xi",!0);z(q,ue,it,"","\\Pi",!0);z(q,ue,it,"","\\Sigma",!0);z(q,ue,it,"","\\Upsilon",!0);z(q,ue,it,"","\\Phi",!0);z(q,ue,it,"","\\Psi",!0);z(q,ue,it,"","\\Omega",!0);z(q,ue,it,"A","");z(q,ue,it,"B","");z(q,ue,it,"E","");z(q,ue,it,"Z","");z(q,ue,it,"H","");z(q,ue,it,"I","");z(q,ue,it,"K","");z(q,ue,it,"M","");z(q,ue,it,"N","");z(q,ue,it,"O","");z(q,ue,it,"P","");z(q,ue,it,"T","");z(q,ue,it,"X","");z(q,ue,it,"","\\neg",!0);z(q,ue,it,"","\\lnot");z(q,ue,it,"","\\top");z(q,ue,it,"","\\bot");z(q,ue,it,"","\\emptyset");z(q,He,it,"","\\varnothing");z(q,ue,dr,"","\\alpha",!0);z(q,ue,dr,"","\\beta",!0);z(q,ue,dr,"","\\gamma",!0);z(q,ue,dr,"","\\delta",!0);z(q,ue,dr,"","\\epsilon",!0);z(q,ue,dr,"","\\zeta",!0);z(q,ue,dr,"","\\eta",!0);z(q,ue,dr,"","\\theta",!0);z(q,ue,dr,"","\\iota",!0);z(q,ue,dr,"","\\kappa",!0);z(q,ue,dr,"","\\lambda",!0);z(q,ue,dr,"","\\mu",!0);z(q,ue,dr,"","\\nu",!0);z(q,ue,dr,"","\\xi",!0);z(q,ue,dr,"","\\omicron",!0);z(q,ue,dr,"","\\pi",!0);z(q,ue,dr,"","\\rho",!0);z(q,ue,dr,"","\\sigma",!0);z(q,ue,dr,"","\\tau",!0);z(q,ue,dr,"","\\upsilon",!0);z(q,ue,dr,"","\\phi",!0);z(q,ue,dr,"","\\chi",!0);z(q,ue,dr,"","\\psi",!0);z(q,ue,dr,"","\\omega",!0);z(q,ue,dr,"","\\varepsilon",!0);z(q,ue,dr,"","\\vartheta",!0);z(q,ue,dr,"","\\varpi",!0);z(q,ue,dr,"","\\varrho",!0);z(q,ue,dr,"","\\varsigma",!0);z(q,ue,dr,"","\\varphi",!0);z(q,ue,Ln,"","*",!0);z(q,ue,Ln,"+","+");z(q,ue,Ln,"","-",!0);z(q,ue,Ln,"","\\cdot",!0);z(q,ue,Ln,"","\\circ",!0);z(q,ue,Ln,"","\\div",!0);z(q,ue,Ln,"","\\pm",!0);z(q,ue,Ln,"","\\times",!0);z(q,ue,Ln,"","\\cap",!0);z(q,ue,Ln,"","\\cup",!0);z(q,ue,Ln,"","\\setminus",!0);z(q,ue,Ln,"","\\land");z(q,ue,Ln,"","\\lor");z(q,ue,Ln,"","\\wedge",!0);z(q,ue,Ln,"","\\vee",!0);z(q,ue,it,"","\\surd");z(q,ue,G0,"","\\langle",!0);z(q,ue,G0,"","\\lvert");z(q,ue,G0,"","\\lVert");z(q,ue,t0,"?","?");z(q,ue,t0,"!","!");z(q,ue,t0,"","\\rangle",!0);z(q,ue,t0,"","\\rvert");z(q,ue,t0,"","\\rVert");z(q,ue,Ge,"=","=");z(q,ue,Ge,":",":");z(q,ue,Ge,"","\\approx",!0);z(q,ue,Ge,"","\\cong",!0);z(q,ue,Ge,"","\\ge");z(q,ue,Ge,"","\\geq",!0);z(q,ue,Ge,"","\\gets");z(q,ue,Ge,">","\\gt",!0);z(q,ue,Ge,"","\\in",!0);z(q,ue,Ge,"","\\@not");z(q,ue,Ge,"","\\subset",!0);z(q,ue,Ge,"","\\supset",!0);z(q,ue,Ge,"","\\subseteq",!0);z(q,ue,Ge,"","\\supseteq",!0);z(q,He,Ge,"","\\nsubseteq",!0);z(q,He,Ge,"","\\nsupseteq",!0);z(q,ue,Ge,"","\\models");z(q,ue,Ge,"","\\leftarrow",!0);z(q,ue,Ge,"","\\le");z(q,ue,Ge,"","\\leq",!0);z(q,ue,Ge,"<","\\lt",!0);z(q,ue,Ge,"","\\rightarrow",!0);z(q,ue,Ge,"","\\to");z(q,He,Ge,"","\\ngeq",!0);z(q,He,Ge,"","\\nleq",!0);z(q,ue,Xc,"","\\ ");z(q,ue,Xc,"","\\space");z(q,ue,Xc,"","\\nobreakspace");z(ln,ue,Xc,"","\\ ");z(ln,ue,Xc,""," ");z(ln,ue,Xc,"","\\space");z(ln,ue,Xc,"","\\nobreakspace");z(q,ue,Xc,null,"\\nobreak");z(q,ue,Xc,null,"\\allowbreak");z(q,ue,H5,",",",");z(q,ue,H5,";",";");z(q,He,Ln,"","\\barwedge",!0);z(q,He,Ln,"","\\veebar",!0);z(q,ue,Ln,"","\\odot",!0);z(q,ue,Ln,"","\\oplus",!0);z(q,ue,Ln,"","\\otimes",!0);z(q,ue,it,"","\\partial",!0);z(q,ue,Ln,"","\\oslash",!0);z(q,He,Ln,"","\\circledcirc",!0);z(q,He,Ln,"","\\boxdot",!0);z(q,ue,Ln,"","\\bigtriangleup");z(q,ue,Ln,"","\\bigtriangledown");z(q,ue,Ln,"","\\dagger");z(q,ue,Ln,"","\\diamond");z(q,ue,Ln,"","\\star");z(q,ue,Ln,"","\\triangleleft");z(q,ue,Ln,"","\\triangleright");z(q,ue,G0,"{","\\{");z(ln,ue,it,"{","\\{");z(ln,ue,it,"{","\\textbraceleft");z(q,ue,t0,"}","\\}");z(ln,ue,it,"}","\\}");z(ln,ue,it,"}","\\textbraceright");z(q,ue,G0,"{","\\lbrace");z(q,ue,t0,"}","\\rbrace");z(q,ue,G0,"[","\\lbrack",!0);z(ln,ue,it,"[","\\lbrack",!0);z(q,ue,t0,"]","\\rbrack",!0);z(ln,ue,it,"]","\\rbrack",!0);z(q,ue,G0,"(","\\lparen",!0);z(q,ue,t0,")","\\rparen",!0);z(ln,ue,it,"<","\\textless",!0);z(ln,ue,it,">","\\textgreater",!0);z(q,ue,G0,"","\\lfloor",!0);z(q,ue,t0,"","\\rfloor",!0);z(q,ue,G0,"","\\lceil",!0);z(q,ue,t0,"","\\rceil",!0);z(q,ue,it,"\\","\\backslash");z(q,ue,it,"","|");z(q,ue,it,"","\\vert");z(ln,ue,it,"|","\\textbar",!0);z(q,ue,it,"","\\|");z(q,ue,it,"","\\Vert");z(ln,ue,it,"","\\textbardbl");z(ln,ue,it,"~","\\textasciitilde");z(ln,ue,it,"\\","\\textbackslash");z(ln,ue,it,"^","\\textasciicircum");z(q,ue,Ge,"","\\uparrow",!0);z(q,ue,Ge,"","\\Uparrow",!0);z(q,ue,Ge,"","\\downarrow",!0);z(q,ue,Ge,"","\\Downarrow",!0);z(q,ue,Ge,"","\\updownarrow",!0);z(q,ue,Ge,"","\\Updownarrow",!0);z(q,ue,Do,"","\\coprod");z(q,ue,Do,"","\\bigvee");z(q,ue,Do,"","\\bigwedge");z(q,ue,Do,"","\\biguplus");z(q,ue,Do,"","\\bigcap");z(q,ue,Do,"","\\bigcup");z(q,ue,Do,"","\\int");z(q,ue,Do,"","\\intop");z(q,ue,Do,"","\\iint");z(q,ue,Do,"","\\iiint");z(q,ue,Do,"","\\prod");z(q,ue,Do,"","\\sum");z(q,ue,Do,"","\\bigotimes");z(q,ue,Do,"","\\bigoplus");z(q,ue,Do,"","\\bigodot");z(q,ue,Do,"","\\oint");z(q,ue,Do,"","\\oiint");z(q,ue,Do,"","\\oiiint");z(q,ue,Do,"","\\bigsqcup");z(q,ue,Do,"","\\smallint");z(ln,ue,I4,"","\\textellipsis");z(q,ue,I4,"","\\mathellipsis");z(ln,ue,I4,"","\\ldots",!0);z(q,ue,I4,"","\\ldots",!0);z(q,ue,I4,"","\\@cdots",!0);z(q,ue,I4,"","\\ddots",!0);z(q,ue,it,"","\\varvdots");z(ln,ue,it,"","\\varvdots");z(q,ue,Ys,"","\\acute");z(q,ue,Ys,"","\\grave");z(q,ue,Ys,"","\\ddot");z(q,ue,Ys,"~","\\tilde");z(q,ue,Ys,"","\\bar");z(q,ue,Ys,"","\\breve");z(q,ue,Ys,"","\\check");z(q,ue,Ys,"^","\\hat");z(q,ue,Ys,"","\\vec");z(q,ue,Ys,"","\\dot");z(q,ue,Ys,"","\\mathring");z(q,ue,dr,"","\\@imath");z(q,ue,dr,"","\\@jmath");z(q,ue,it,"","");z(q,ue,it,"","");z(ln,ue,it,"","\\i",!0);z(ln,ue,it,"","\\j",!0);z(ln,ue,it,"","\\ss",!0);z(ln,ue,it,"","\\ae",!0);z(ln,ue,it,"","\\oe",!0);z(ln,ue,it,"","\\o",!0);z(ln,ue,it,"","\\AE",!0);z(ln,ue,it,"","\\OE",!0);z(ln,ue,it,"","\\O",!0);z(ln,ue,Ys,"","\\'");z(ln,ue,Ys,"","\\`");z(ln,ue,Ys,"","\\^");z(ln,ue,Ys,"","\\~");z(ln,ue,Ys,"","\\=");z(ln,ue,Ys,"","\\u");z(ln,ue,Ys,"","\\.");z(ln,ue,Ys,"","\\c");z(ln,ue,Ys,"","\\r");z(ln,ue,Ys,"","\\v");z(ln,ue,Ys,"",'\\"');z(ln,ue,Ys,"","\\H");z(ln,ue,Ys,"","\\textcircled");var j9={"--":!0,"---":!0,"``":!0,"''":!0};z(ln,ue,it,"","--",!0);z(ln,ue,it,"","\\textendash");z(ln,ue,it,"","---",!0);z(ln,ue,it,"","\\textemdash");z(ln,ue,it,"","`",!0);z(ln,ue,it,"","\\textquoteleft");z(ln,ue,it,"","'",!0);z(ln,ue,it,"","\\textquoteright");z(ln,ue,it,"","``",!0);z(ln,ue,it,"","\\textquotedblleft");z(ln,ue,it,"","''",!0);z(ln,ue,it,"","\\textquotedblright");z(q,ue,it,"","\\degree",!0);z(ln,ue,it,"","\\degree");z(ln,ue,it,"","\\textdegree",!0);z(q,ue,it,"","\\pounds");z(q,ue,it,"","\\mathsterling",!0);z(ln,ue,it,"","\\pounds");z(ln,ue,it,"","\\textsterling",!0);z(q,He,it,"","\\maltese");z(ln,He,it,"","\\maltese");var s8='0123456789/@."';for(var ef=0;ef<s8.length;ef++){var o8=s8.charAt(ef);z(q,ue,it,o8,o8)}var l8='0123456789!@*()-=+";:?/.,';for(var tf=0;tf<l8.length;tf++){var a8=l8.charAt(tf);z(ln,ue,it,a8,a8)}var N5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var nf=0;nf<N5.length;nf++){var o5=N5.charAt(nf);z(q,ue,dr,o5,o5),z(ln,ue,it,o5,o5)}z(q,He,it,"C","");z(ln,He,it,"C","");z(q,He,it,"H","");z(ln,He,it,"H","");z(q,He,it,"N","");z(ln,He,it,"N","");z(q,He,it,"P","");z(ln,He,it,"P","");z(q,He,it,"Q","");z(ln,He,it,"Q","");z(q,He,it,"R","");z(ln,He,it,"R","");z(q,He,it,"Z","");z(ln,He,it,"Z","");z(q,ue,dr,"h","");z(ln,ue,dr,"h","");var yr="";for(var Zl=0;Zl<N5.length;Zl++){var fo=N5.charAt(Zl);yr=String.fromCharCode(55349,56320+Zl),z(q,ue,dr,fo,yr),z(ln,ue,it,fo,yr),yr=String.fromCharCode(55349,56372+Zl),z(q,ue,dr,fo,yr),z(ln,ue,it,fo,yr),yr=String.fromCharCode(55349,56424+Zl),z(q,ue,dr,fo,yr),z(ln,ue,it,fo,yr),yr=String.fromCharCode(55349,56580+Zl),z(q,ue,dr,fo,yr),z(ln,ue,it,fo,yr),yr=String.fromCharCode(55349,56684+Zl),z(q,ue,dr,fo,yr),z(ln,ue,it,fo,yr),yr=String.fromCharCode(55349,56736+Zl),z(q,ue,dr,fo,yr),z(ln,ue,it,fo,yr),yr=String.fromCharCode(55349,56788+Zl),z(q,ue,dr,fo,yr),z(ln,ue,it,fo,yr),yr=String.fromCharCode(55349,56840+Zl),z(q,ue,dr,fo,yr),z(ln,ue,it,fo,yr),yr=String.fromCharCode(55349,56944+Zl),z(q,ue,dr,fo,yr),z(ln,ue,it,fo,yr),Zl<26&&(yr=String.fromCharCode(55349,56632+Zl),z(q,ue,dr,fo,yr),z(ln,ue,it,fo,yr),yr=String.fromCharCode(55349,56476+Zl),z(q,ue,dr,fo,yr),z(ln,ue,it,fo,yr))}yr="";z(q,ue,dr,"k",yr);z(ln,ue,it,"k",yr);for(var Yh=0;Yh<10;Yh++){var Z1=Yh.toString();yr=String.fromCharCode(55349,57294+Yh),z(q,ue,dr,Z1,yr),z(ln,ue,it,Z1,yr),yr=String.fromCharCode(55349,57314+Yh),z(q,ue,dr,Z1,yr),z(ln,ue,it,Z1,yr),yr=String.fromCharCode(55349,57324+Yh),z(q,ue,dr,Z1,yr),z(ln,ue,it,Z1,yr),yr=String.fromCharCode(55349,57334+Yh),z(q,ue,dr,Z1,yr),z(ln,ue,it,Z1,yr)}var Of="";for(var rf=0;rf<Of.length;rf++){var l5=Of.charAt(rf);z(q,ue,dr,l5,l5),z(ln,ue,it,l5,l5)}var a5=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],u8=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],iw=function(o,n){var a=o.charCodeAt(0),h=o.charCodeAt(1),p=(a-55296)*1024+(h-56320)+65536,$=n==="math"?0:1;if(119808<=p&&p<120484){var _=Math.floor((p-119808)/26);return[a5[_][2],a5[_][$]]}else if(120782<=p&&p<=120831){var y=Math.floor((p-120782)/10);return[u8[y][2],u8[y][$]]}else{if(p===120485||p===120486)return[a5[0][2],a5[0][$]];if(120486<p&&p<120782)return["",""];throw new fn("Unsupported character: "+o)}},V5=function(o,n,a){return Os[a][o]&&Os[a][o].replace&&(o=Os[a][o].replace),{value:o,metrics:l7(o,n,a)}},ru=function(o,n,a,h,p){var $=V5(o,n,a),_=$.metrics;o=$.value;var y;if(_){var E=_.italic;(a==="text"||h&&h.font==="mathit")&&(E=0),y=new wa(o,_.height,_.depth,E,_.skew,_.width,p)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+o+"' in style '"+n+"' and mode '"+a+"'")),y=new wa(o,0,0,0,0,0,p);if(h){y.maxFontSize=h.sizeMultiplier,h.style.isTight()&&y.classes.push("mtight");var w=h.getColor();w&&(y.style.color=w)}return y},sw=function(o,n,a,h){return h===void 0&&(h=[]),a.font==="boldsymbol"&&V5(o,"Main-Bold",n).metrics?ru(o,"Main-Bold",n,a,h.concat(["mathbf"])):o==="\\"||Os[n][o].font==="main"?ru(o,"Main-Regular",n,a,h):ru(o,"AMS-Regular",n,a,h.concat(["amsrm"]))},ow=function(o,n,a,h,p){return p!=="textord"&&V5(o,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},lw=function(o,n,a){var h=o.mode,p=o.text,$=["mord"],_=h==="math"||h==="text"&&n.font,y=_?n.font:n.fontFamily,E="",w="";if(p.charCodeAt(0)===55349&&([E,w]=iw(p,h)),E.length>0)return ru(p,E,h,n,$.concat(w));if(y){var I,H;if(y==="boldsymbol"){var F=ow(p,h,n,$,a);I=F.fontName,H=[F.fontClass]}else _?(I=J9[y].fontName,H=[y]):(I=u5(y,n.fontWeight,n.fontShape),H=[y,n.fontWeight,n.fontShape]);if(V5(p,I,h).metrics)return ru(p,I,h,n,$.concat(H));if(j9.hasOwnProperty(p)&&I.slice(0,10)==="Typewriter"){for(var te=[],he=0;he<p.length;he++)te.push(ru(p[he],I,h,n,$.concat(H)));return K9(te)}}if(a==="mathord")return ru(p,"Math-Italic",h,n,$.concat(["mathnormal"]));if(a==="textord"){var ce=Os[h][p]&&Os[h][p].font;if(ce==="ams"){var K=u5("amsrm",n.fontWeight,n.fontShape);return ru(p,K,h,n,$.concat("amsrm",n.fontWeight,n.fontShape))}else if(ce==="main"||!ce){var se=u5("textrm",n.fontWeight,n.fontShape);return ru(p,se,h,n,$.concat(n.fontWeight,n.fontShape))}else{var we=u5(ce,n.fontWeight,n.fontShape);return ru(p,we,h,n,$.concat(we,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+a+" in makeOrd")},aw=(r,o)=>{if(eh(r.classes)!==eh(o.classes)||r.skew!==o.skew||r.maxFontSize!==o.maxFontSize)return!1;if(r.classes.length===1){var n=r.classes[0];if(n==="mbin"||n==="mord")return!1}for(var a in r.style)if(r.style.hasOwnProperty(a)&&r.style[a]!==o.style[a])return!1;for(var h in o.style)if(o.style.hasOwnProperty(h)&&r.style[h]!==o.style[h])return!1;return!0},uw=r=>{for(var o=0;o<r.length-1;o++){var n=r[o],a=r[o+1];n instanceof wa&&a instanceof wa&&aw(n,a)&&(n.text+=a.text,n.height=Math.max(n.height,a.height),n.depth=Math.max(n.depth,a.depth),n.italic=a.italic,r.splice(o+1,1),o--)}return r},u7=function(o){for(var n=0,a=0,h=0,p=0;p<o.children.length;p++){var $=o.children[p];$.height>n&&(n=$.height),$.depth>a&&(a=$.depth),$.maxFontSize>h&&(h=$.maxFontSize)}o.height=n,o.depth=a,o.maxFontSize=h},f0=function(o,n,a,h){var p=new b3(o,n,a,h);return u7(p),p},Y9=(r,o,n,a)=>new b3(r,o,n,a),cw=function(o,n,a){var h=f0([o],[],n);return h.height=Math.max(a||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),h.style.borderBottomWidth=vn(h.height),h.maxFontSize=1,h},hw=function(o,n,a,h){var p=new a7(o,n,a,h);return u7(p),p},K9=function(o){var n=new $3(o);return u7(n),n},dw=function(o,n){return o instanceof $3?f0([],[o],n):o},fw=function(o){if(o.positionType==="individualShift"){for(var n=o.children,a=[n[0]],h=-n[0].shift-n[0].elem.depth,p=h,$=1;$<n.length;$++){var _=-n[$].shift-p-n[$].elem.depth,y=_-(n[$-1].elem.height+n[$-1].elem.depth);p=p+_,a.push({type:"kern",size:y}),a.push(n[$])}return{children:a,depth:h}}var E;if(o.positionType==="top"){for(var w=o.positionData,I=0;I<o.children.length;I++){var H=o.children[I];w-=H.type==="kern"?H.size:H.elem.height+H.elem.depth}E=w}else if(o.positionType==="bottom")E=-o.positionData;else{var F=o.children[0];if(F.type!=="elem")throw new Error('First child must have type "elem".');if(o.positionType==="shift")E=-F.elem.depth-o.positionData;else if(o.positionType==="firstBaseline")E=-F.elem.depth;else throw new Error("Invalid positionType "+o.positionType+".")}return{children:o.children,depth:E}},pw=function(o,n){for(var{children:a,depth:h}=fw(o),p=0,$=0;$<a.length;$++){var _=a[$];if(_.type==="elem"){var y=_.elem;p=Math.max(p,y.maxFontSize,y.height)}}p+=2;var E=f0(["pstrut"],[]);E.style.height=vn(p);for(var w=[],I=h,H=h,F=h,te=0;te<a.length;te++){var he=a[te];if(he.type==="kern")F+=he.size;else{var ce=he.elem,K=he.wrapperClasses||[],se=he.wrapperStyle||{},we=f0(K,[E,ce],void 0,se);we.style.top=vn(-p-F-ce.depth),he.marginLeft&&(we.style.marginLeft=he.marginLeft),he.marginRight&&(we.style.marginRight=he.marginRight),w.push(we),F+=ce.height+ce.depth}I=Math.min(I,F),H=Math.max(H,F)}var Oe=f0(["vlist"],w);Oe.style.height=vn(H);var De;if(I<0){var Se=f0([],[]),je=f0(["vlist"],[Se]);je.style.height=vn(-I);var at=f0(["vlist-s"],[new wa("")]);De=[f0(["vlist-r"],[Oe,at]),f0(["vlist-r"],[je])]}else De=[f0(["vlist-r"],[Oe])];var Ze=f0(["vlist-t"],De);return De.length===2&&Ze.classes.push("vlist-t2"),Ze.height=H,Ze.depth=-I,Ze},mw=(r,o)=>{var n=f0(["mspace"],[],o),a=io(r,o);return n.style.marginRight=vn(a),n},u5=function(o,n,a){var h="";switch(o){case"amsrm":h="AMS";break;case"textrm":h="Main";break;case"textsf":h="SansSerif";break;case"texttt":h="Typewriter";break;default:h=o}var p;return n==="textbf"&&a==="textit"?p="BoldItalic":n==="textbf"?p="Bold":n==="textit"?p="Italic":p="Regular",h+"-"+p},J9={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Z9={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},gw=function(o,n){var[a,h,p]=Z9[o],$=new th(a),_=new Gc([$],{width:vn(h),height:vn(p),style:"width:"+vn(h),viewBox:"0 0 "+1e3*h+" "+1e3*p,preserveAspectRatio:"xMinYMin"}),y=Y9(["overlay"],[_],n);return y.height=p,y.style.height=vn(p),y.style.width=vn(h),y},Et={fontMap:J9,makeSymbol:ru,mathsym:sw,makeSpan:f0,makeSvgSpan:Y9,makeLineSpan:cw,makeAnchor:hw,makeFragment:K9,wrapFragment:dw,makeVList:pw,makeOrd:lw,makeGlue:mw,staticSvg:gw,svgData:Z9,tryCombineChars:uw},ro={number:3,unit:"mu"},Kh={number:4,unit:"mu"},Uc={number:5,unit:"mu"},$w={mord:{mop:ro,mbin:Kh,mrel:Uc,minner:ro},mop:{mord:ro,mop:ro,mrel:Uc,minner:ro},mbin:{mord:Kh,mop:Kh,mopen:Kh,minner:Kh},mrel:{mord:Uc,mop:Uc,mopen:Uc,minner:Uc},mopen:{},mclose:{mop:ro,mbin:Kh,mrel:Uc,minner:ro},mpunct:{mord:ro,mop:ro,mrel:Uc,mopen:ro,mclose:ro,mpunct:ro,minner:ro},minner:{mord:ro,mop:ro,mbin:Kh,mrel:Uc,mopen:ro,mpunct:ro,minner:ro}},bw={mord:{mop:ro},mop:{mord:ro,mop:ro},mbin:{},mrel:{},mopen:{},mclose:{mop:ro},mpunct:{},minner:{mop:ro}},Q9={},M5={},O5={};function kn(r){for(var{type:o,names:n,props:a,handler:h,htmlBuilder:p,mathmlBuilder:$}=r,_={type:o,numArgs:a.numArgs,argTypes:a.argTypes,allowedInArgument:!!a.allowedInArgument,allowedInText:!!a.allowedInText,allowedInMath:a.allowedInMath===void 0?!0:a.allowedInMath,numOptionalArgs:a.numOptionalArgs||0,infix:!!a.infix,primitive:!!a.primitive,handler:h},y=0;y<n.length;++y)Q9[n[y]]=_;o&&(p&&(M5[o]=p),$&&(O5[o]=$))}function ed(r){var{type:o,htmlBuilder:n,mathmlBuilder:a}=r;kn({type:o,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:a})}var R5=function(o){return o.type==="ordgroup"&&o.body.length===1?o.body[0]:o},Eo=function(o){return o.type==="ordgroup"?o.body:[o]},Wc=Et.makeSpan,vw=["leftmost","mbin","mopen","mrel","mop","mpunct"],Tw=["rightmost","mrel","mclose","mpunct"],yw={display:fr.DISPLAY,text:fr.TEXT,script:fr.SCRIPT,scriptscript:fr.SCRIPTSCRIPT},_w={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Go=function(o,n,a,h){h===void 0&&(h=[null,null]);for(var p=[],$=0;$<o.length;$++){var _=zi(o[$],n);if(_ instanceof $3){var y=_.children;p.push(...y)}else p.push(_)}if(Et.tryCombineChars(p),!a)return p;var E=n;if(o.length===1){var w=o[0];w.type==="sizing"?E=n.havingSize(w.size):w.type==="styling"&&(E=n.havingStyle(yw[w.style]))}var I=Wc([h[0]||"leftmost"],[],n),H=Wc([h[1]||"rightmost"],[],n),F=a==="root";return c8(p,(te,he)=>{var ce=he.classes[0],K=te.classes[0];ce==="mbin"&&Tw.includes(K)?he.classes[0]="mord":K==="mbin"&&vw.includes(ce)&&(te.classes[0]="mord")},{node:I},H,F),c8(p,(te,he)=>{var ce=Rf(he),K=Rf(te),se=ce&&K?te.hasClass("mtight")?bw[ce][K]:$w[ce][K]:null;if(se)return Et.makeGlue(se,E)},{node:I},H,F),p},c8=function r(o,n,a,h,p){h&&o.push(h);for(var $=0;$<o.length;$++){var _=o[$],y=eg(_);if(y){r(y.children,n,a,null,p);continue}var E=!_.hasClass("mspace");if(E){var w=n(_,a.node);w&&(a.insertAfter?a.insertAfter(w):(o.unshift(w),$++))}E?a.node=_:p&&_.hasClass("newline")&&(a.node=Wc(["leftmost"])),a.insertAfter=(I=>H=>{o.splice(I+1,0,H),$++})($)}h&&o.pop()},eg=function(o){return o instanceof $3||o instanceof a7||o instanceof b3&&o.hasClass("enclosing")?o:null},Ew=function r(o,n){var a=eg(o);if(a){var h=a.children;if(h.length){if(n==="right")return r(h[h.length-1],"right");if(n==="left")return r(h[0],"left")}}return o},Rf=function(o,n){return o?(n&&(o=Ew(o,n)),_w[o.classes[0]]||null):null},u3=function(o,n){var a=["nulldelimiter"].concat(o.baseSizingClasses());return Wc(n.concat(a))},zi=function(o,n,a){if(!o)return Wc();if(M5[o.type]){var h=M5[o.type](o,n);if(a&&n.size!==a.size){h=Wc(n.sizingClasses(a),[h],n);var p=n.sizeMultiplier/a.sizeMultiplier;h.height*=p,h.depth*=p}return h}else throw new fn("Got group of unknown type: '"+o.type+"'")};function c5(r,o){var n=Wc(["base"],r,o),a=Wc(["strut"]);return a.style.height=vn(n.height+n.depth),n.depth&&(a.style.verticalAlign=vn(-n.depth)),n.children.unshift(a),n}function Lf(r,o){var n=null;r.length===1&&r[0].type==="tag"&&(n=r[0].tag,r=r[0].body);var a=Go(r,o,"root"),h;a.length===2&&a[1].hasClass("tag")&&(h=a.pop());for(var p=[],$=[],_=0;_<a.length;_++)if($.push(a[_]),a[_].hasClass("mbin")||a[_].hasClass("mrel")||a[_].hasClass("allowbreak")){for(var y=!1;_<a.length-1&&a[_+1].hasClass("mspace")&&!a[_+1].hasClass("newline");)_++,$.push(a[_]),a[_].hasClass("nobreak")&&(y=!0);y||(p.push(c5($,o)),$=[])}else a[_].hasClass("newline")&&($.pop(),$.length>0&&(p.push(c5($,o)),$=[]),p.push(a[_]));$.length>0&&p.push(c5($,o));var E;n?(E=c5(Go(n,o,!0)),E.classes=["tag"],p.push(E)):h&&p.push(h);var w=Wc(["katex-html"],p);if(w.setAttribute("aria-hidden","true"),E){var I=E.children[0];I.style.height=vn(w.height+w.depth),w.depth&&(I.style.verticalAlign=vn(-w.depth))}return w}function tg(r){return new $3(r)}class z0{constructor(o,n,a){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=o,this.attributes={},this.children=n||[],this.classes=a||[]}setAttribute(o,n){this.attributes[o]=n}getAttribute(o){return this.attributes[o]}toNode(){var o=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&o.setAttribute(n,this.attributes[n]);this.classes.length>0&&(o.className=eh(this.classes));for(var a=0;a<this.children.length;a++)if(this.children[a]instanceof Xu&&this.children[a+1]instanceof Xu){for(var h=this.children[a].toText()+this.children[++a].toText();this.children[a+1]instanceof Xu;)h+=this.children[++a].toText();o.appendChild(new Xu(h).toNode())}else o.appendChild(this.children[a].toNode());return o}toMarkup(){var o="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(o+=" "+n+'="',o+=Xi.escape(this.attributes[n]),o+='"');this.classes.length>0&&(o+=' class ="'+Xi.escape(eh(this.classes))+'"'),o+=">";for(var a=0;a<this.children.length;a++)o+=this.children[a].toMarkup();return o+="</"+this.type+">",o}toText(){return this.children.map(o=>o.toText()).join("")}}class Xu{constructor(o){this.text=void 0,this.text=o}toNode(){return document.createTextNode(this.text)}toMarkup(){return Xi.escape(this.toText())}toText(){return this.text}}class ww{constructor(o){this.width=void 0,this.character=void 0,this.width=o,o>=.05555&&o<=.05556?this.character="":o>=.1666&&o<=.1667?this.character="":o>=.2222&&o<=.2223?this.character="":o>=.2777&&o<=.2778?this.character="":o>=-.05556&&o<=-.05555?this.character="":o>=-.1667&&o<=-.1666?this.character="":o>=-.2223&&o<=-.2222?this.character="":o>=-.2778&&o<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var o=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return o.setAttribute("width",vn(this.width)),o}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+vn(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var hn={MathNode:z0,TextNode:Xu,SpaceNode:ww,newDocumentFragment:tg},Sa=function(o,n,a){return Os[n][o]&&Os[n][o].replace&&o.charCodeAt(0)!==55349&&!(j9.hasOwnProperty(o)&&a&&(a.fontFamily&&a.fontFamily.slice(4,6)==="tt"||a.font&&a.font.slice(4,6)==="tt"))&&(o=Os[n][o].replace),new hn.TextNode(o)},c7=function(o){return o.length===1?o[0]:new hn.MathNode("mrow",o)},h7=function(o,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var a=n.font;if(!a||a==="mathnormal")return null;var h=o.mode;if(a==="mathit")return"italic";if(a==="boldsymbol")return o.type==="textord"?"bold":"bold-italic";if(a==="mathbf")return"bold";if(a==="mathbb")return"double-struck";if(a==="mathsfit")return"sans-serif-italic";if(a==="mathfrak")return"fraktur";if(a==="mathscr"||a==="mathcal")return"script";if(a==="mathsf")return"sans-serif";if(a==="mathtt")return"monospace";var p=o.text;if(["\\imath","\\jmath"].includes(p))return null;Os[h][p]&&Os[h][p].replace&&(p=Os[h][p].replace);var $=Et.fontMap[a].fontName;return l7(p,$,h)?Et.fontMap[a].variant:null};function sf(r){if(!r)return!1;if(r.type==="mi"&&r.children.length===1){var o=r.children[0];return o instanceof Xu&&o.text==="."}else if(r.type==="mo"&&r.children.length===1&&r.getAttribute("separator")==="true"&&r.getAttribute("lspace")==="0em"&&r.getAttribute("rspace")==="0em"){var n=r.children[0];return n instanceof Xu&&n.text===","}else return!1}var g0=function(o,n,a){if(o.length===1){var h=Ss(o[0],n);return a&&h instanceof z0&&h.type==="mo"&&(h.setAttribute("lspace","0em"),h.setAttribute("rspace","0em")),[h]}for(var p=[],$,_=0;_<o.length;_++){var y=Ss(o[_],n);if(y instanceof z0&&$ instanceof z0){if(y.type==="mtext"&&$.type==="mtext"&&y.getAttribute("mathvariant")===$.getAttribute("mathvariant")){$.children.push(...y.children);continue}else if(y.type==="mn"&&$.type==="mn"){$.children.push(...y.children);continue}else if(sf(y)&&$.type==="mn"){$.children.push(...y.children);continue}else if(y.type==="mn"&&sf($))y.children=[...$.children,...y.children],p.pop();else if((y.type==="msup"||y.type==="msub")&&y.children.length>=1&&($.type==="mn"||sf($))){var E=y.children[0];E instanceof z0&&E.type==="mn"&&(E.children=[...$.children,...E.children],p.pop())}else if($.type==="mi"&&$.children.length===1){var w=$.children[0];if(w instanceof Xu&&w.text===""&&(y.type==="mo"||y.type==="mi"||y.type==="mn")){var I=y.children[0];I instanceof Xu&&I.text.length>0&&(I.text=I.text.slice(0,1)+""+I.text.slice(1),p.pop())}}}p.push(y),$=y}return p},nh=function(o,n,a){return c7(g0(o,n,a))},Ss=function(o,n){if(!o)return new hn.MathNode("mrow");if(O5[o.type]){var a=O5[o.type](o,n);return a}else throw new fn("Got group of unknown type: '"+o.type+"'")};function h8(r,o,n,a,h){var p=g0(r,n),$;p.length===1&&p[0]instanceof z0&&["mrow","mtable"].includes(p[0].type)?$=p[0]:$=new hn.MathNode("mrow",p);var _=new hn.MathNode("annotation",[new hn.TextNode(o)]);_.setAttribute("encoding","application/x-tex");var y=new hn.MathNode("semantics",[$,_]),E=new hn.MathNode("math",[y]);E.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),a&&E.setAttribute("display","block");var w=h?"katex":"katex-mathml";return Et.makeSpan([w],[E])}var ng=function(o){return new zc({style:o.displayMode?fr.DISPLAY:fr.TEXT,maxSize:o.maxSize,minRuleThickness:o.minRuleThickness})},rg=function(o,n){if(n.displayMode){var a=["katex-display"];n.leqno&&a.push("leqno"),n.fleqn&&a.push("fleqn"),o=Et.makeSpan(a,[o])}return o},Sw=function(o,n,a){var h=ng(a),p;if(a.output==="mathml")return h8(o,n,h,a.displayMode,!0);if(a.output==="html"){var $=Lf(o,h);p=Et.makeSpan(["katex"],[$])}else{var _=h8(o,n,h,a.displayMode,!1),y=Lf(o,h);p=Et.makeSpan(["katex"],[_,y])}return rg(p,a)},xw=function(o,n,a){var h=ng(a),p=Lf(o,h),$=Et.makeSpan(["katex"],[p]);return rg($,a)},Cw={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},kw=function(o){var n=new hn.MathNode("mo",[new hn.TextNode(Cw[o.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},Iw={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Aw=function(o){return o.type==="ordgroup"?o.body.length:1},Nw=function(o,n){function a(){var _=4e5,y=o.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(y)){var E=o,w=Aw(E.base),I,H,F;if(w>5)y==="widehat"||y==="widecheck"?(I=420,_=2364,F=.42,H=y+"4"):(I=312,_=2340,F=.34,H="tilde4");else{var te=[1,1,2,2,3,3][w];y==="widehat"||y==="widecheck"?(_=[0,1062,2364,2364,2364][te],I=[0,239,300,360,420][te],F=[0,.24,.3,.3,.36,.42][te],H=y+te):(_=[0,600,1033,2339,2340][te],I=[0,260,286,306,312][te],F=[0,.26,.286,.3,.306,.34][te],H="tilde"+te)}var he=new th(H),ce=new Gc([he],{width:"100%",height:vn(F),viewBox:"0 0 "+_+" "+I,preserveAspectRatio:"none"});return{span:Et.makeSvgSpan([],[ce],n),minWidth:0,height:F}}else{var K=[],se=Iw[y],[we,Oe,De]=se,Se=De/1e3,je=we.length,at,Ze;if(je===1){var Ke=se[3];at=["hide-tail"],Ze=[Ke]}else if(je===2)at=["halfarrow-left","halfarrow-right"],Ze=["xMinYMin","xMaxYMin"];else if(je===3)at=["brace-left","brace-center","brace-right"],Ze=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+je+" children.");for(var Pt=0;Pt<je;Pt++){var Ve=new th(we[Pt]),Xt=new Gc([Ve],{width:"400em",height:vn(Se),viewBox:"0 0 "+_+" "+De,preserveAspectRatio:Ze[Pt]+" slice"}),Lt=Et.makeSvgSpan([at[Pt]],[Xt],n);if(je===1)return{span:Lt,minWidth:Oe,height:Se};Lt.style.height=vn(Se),K.push(Lt)}return{span:Et.makeSpan(["stretchy"],K,n),minWidth:Oe,height:Se}}}var{span:h,minWidth:p,height:$}=a();return h.height=$,h.style.height=vn($),p>0&&(h.style.minWidth=vn(p)),h},Mw=function(o,n,a,h,p){var $,_=o.height+o.depth+a+h;if(/fbox|color|angl/.test(n)){if($=Et.makeSpan(["stretchy",n],[],p),n==="fbox"){var y=p.color&&p.getColor();y&&($.style.borderColor=y)}}else{var E=[];/^[bx]cancel$/.test(n)&&E.push(new Mf({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&E.push(new Mf({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var w=new Gc(E,{width:"100%",height:vn(_)});$=Et.makeSvgSpan([],[w],p)}return $.height=_,$.style.height=vn(_),$},qc={encloseSpan:Mw,mathMLnode:kw,svgSpan:Nw};function jr(r,o){if(!r||r.type!==o)throw new Error("Expected node of type "+o+", but got "+(r?"node of type "+r.type:String(r)));return r}function d7(r){var o=G5(r);if(!o)throw new Error("Expected node of symbol group type, but got "+(r?"node of type "+r.type:String(r)));return o}function G5(r){return r&&(r.type==="atom"||rw.hasOwnProperty(r.type))?r:null}var f7=(r,o)=>{var n,a,h;r&&r.type==="supsub"?(a=jr(r.base,"accent"),n=a.base,r.base=n,h=tw(zi(r,o)),r.base=a):(a=jr(r,"accent"),n=a.base);var p=zi(n,o.havingCrampedStyle()),$=a.isShifty&&Xi.isCharacterBox(n),_=0;if($){var y=Xi.getBaseElem(n),E=zi(y,o.havingCrampedStyle());_=i8(E).skew}var w=a.label==="\\c",I=w?p.height+p.depth:Math.min(p.height,o.fontMetrics().xHeight),H;if(a.isStretchy)H=qc.svgSpan(a,o),H=Et.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:p},{type:"elem",elem:H,wrapperClasses:["svg-align"],wrapperStyle:_>0?{width:"calc(100% - "+vn(2*_)+")",marginLeft:vn(2*_)}:void 0}]},o);else{var F,te;a.label==="\\vec"?(F=Et.staticSvg("vec",o),te=Et.svgData.vec[1]):(F=Et.makeOrd({mode:a.mode,text:a.label},o,"textord"),F=i8(F),F.italic=0,te=F.width,w&&(I+=F.depth)),H=Et.makeSpan(["accent-body"],[F]);var he=a.label==="\\textcircled";he&&(H.classes.push("accent-full"),I=p.height);var ce=_;he||(ce-=te/2),H.style.left=vn(ce),a.label==="\\textcircled"&&(H.style.top=".2em"),H=Et.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:p},{type:"kern",size:-I},{type:"elem",elem:H}]},o)}var K=Et.makeSpan(["mord","accent"],[H],o);return h?(h.children[0]=K,h.height=Math.max(K.height,h.height),h.classes[0]="mord",h):K},ig=(r,o)=>{var n=r.isStretchy?qc.mathMLnode(r.label):new hn.MathNode("mo",[Sa(r.label,r.mode)]),a=new hn.MathNode("mover",[Ss(r.base,o),n]);return a.setAttribute("accent","true"),a},Ow=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(r=>"\\"+r).join("|"));kn({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(r,o)=>{var n=R5(o[0]),a=!Ow.test(r.funcName),h=!a||r.funcName==="\\widehat"||r.funcName==="\\widetilde"||r.funcName==="\\widecheck";return{type:"accent",mode:r.parser.mode,label:r.funcName,isStretchy:a,isShifty:h,base:n}},htmlBuilder:f7,mathmlBuilder:ig});kn({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(r,o)=>{var n=o[0],a=r.parser.mode;return a==="math"&&(r.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+r.funcName+" works only in text mode"),a="text"),{type:"accent",mode:a,label:r.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:f7,mathmlBuilder:ig});kn({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(r,o)=>{var{parser:n,funcName:a}=r,h=o[0];return{type:"accentUnder",mode:n.mode,label:a,base:h}},htmlBuilder:(r,o)=>{var n=zi(r.base,o),a=qc.svgSpan(r,o),h=r.label==="\\utilde"?.12:0,p=Et.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:a,wrapperClasses:["svg-align"]},{type:"kern",size:h},{type:"elem",elem:n}]},o);return Et.makeSpan(["mord","accentunder"],[p],o)},mathmlBuilder:(r,o)=>{var n=qc.mathMLnode(r.label),a=new hn.MathNode("munder",[Ss(r.base,o),n]);return a.setAttribute("accentunder","true"),a}});var h5=r=>{var o=new hn.MathNode("mpadded",r?[r]:[]);return o.setAttribute("width","+0.6em"),o.setAttribute("lspace","0.3em"),o};kn({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(r,o,n){var{parser:a,funcName:h}=r;return{type:"xArrow",mode:a.mode,label:h,body:o[0],below:n[0]}},htmlBuilder(r,o){var n=o.style,a=o.havingStyle(n.sup()),h=Et.wrapFragment(zi(r.body,a,o),o),p=r.label.slice(0,2)==="\\x"?"x":"cd";h.classes.push(p+"-arrow-pad");var $;r.below&&(a=o.havingStyle(n.sub()),$=Et.wrapFragment(zi(r.below,a,o),o),$.classes.push(p+"-arrow-pad"));var _=qc.svgSpan(r,o),y=-o.fontMetrics().axisHeight+.5*_.height,E=-o.fontMetrics().axisHeight-.5*_.height-.111;(h.depth>.25||r.label==="\\xleftequilibrium")&&(E-=h.depth);var w;if($){var I=-o.fontMetrics().axisHeight+$.height+.5*_.height+.111;w=Et.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:E},{type:"elem",elem:_,shift:y},{type:"elem",elem:$,shift:I}]},o)}else w=Et.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:E},{type:"elem",elem:_,shift:y}]},o);return w.children[0].children[0].children[1].classes.push("svg-align"),Et.makeSpan(["mrel","x-arrow"],[w],o)},mathmlBuilder(r,o){var n=qc.mathMLnode(r.label);n.setAttribute("minsize",r.label.charAt(0)==="x"?"1.75em":"3.0em");var a;if(r.body){var h=h5(Ss(r.body,o));if(r.below){var p=h5(Ss(r.below,o));a=new hn.MathNode("munderover",[n,p,h])}else a=new hn.MathNode("mover",[n,h])}else if(r.below){var $=h5(Ss(r.below,o));a=new hn.MathNode("munder",[n,$])}else a=h5(),a=new hn.MathNode("mover",[n,a]);return a}});var Rw=Et.makeSpan;function sg(r,o){var n=Go(r.body,o,!0);return Rw([r.mclass],n,o)}function og(r,o){var n,a=g0(r.body,o);return r.mclass==="minner"?n=new hn.MathNode("mpadded",a):r.mclass==="mord"?r.isCharacterBox?(n=a[0],n.type="mi"):n=new hn.MathNode("mi",a):(r.isCharacterBox?(n=a[0],n.type="mo"):n=new hn.MathNode("mo",a),r.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):r.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):r.mclass==="mopen"||r.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):r.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}kn({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(r,o){var{parser:n,funcName:a}=r,h=o[0];return{type:"mclass",mode:n.mode,mclass:"m"+a.slice(5),body:Eo(h),isCharacterBox:Xi.isCharacterBox(h)}},htmlBuilder:sg,mathmlBuilder:og});var W5=r=>{var o=r.type==="ordgroup"&&r.body.length?r.body[0]:r;return o.type==="atom"&&(o.family==="bin"||o.family==="rel")?"m"+o.family:"mord"};kn({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(r,o){var{parser:n}=r;return{type:"mclass",mode:n.mode,mclass:W5(o[0]),body:Eo(o[1]),isCharacterBox:Xi.isCharacterBox(o[1])}}});kn({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(r,o){var{parser:n,funcName:a}=r,h=o[1],p=o[0],$;a!=="\\stackrel"?$=W5(h):$="mrel";var _={type:"op",mode:h.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:a!=="\\stackrel",body:Eo(h)},y={type:"supsub",mode:p.mode,base:_,sup:a==="\\underset"?null:p,sub:a==="\\underset"?p:null};return{type:"mclass",mode:n.mode,mclass:$,body:[y],isCharacterBox:Xi.isCharacterBox(y)}},htmlBuilder:sg,mathmlBuilder:og});kn({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(r,o){var{parser:n}=r;return{type:"pmb",mode:n.mode,mclass:W5(o[0]),body:Eo(o[0])}},htmlBuilder(r,o){var n=Go(r.body,o,!0),a=Et.makeSpan([r.mclass],n,o);return a.style.textShadow="0.02em 0.01em 0.04px",a},mathmlBuilder(r,o){var n=g0(r.body,o),a=new hn.MathNode("mstyle",n);return a.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),a}});var Lw={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},d8=()=>({type:"styling",body:[],mode:"math",style:"display"}),f8=r=>r.type==="textord"&&r.text==="@",Dw=(r,o)=>(r.type==="mathord"||r.type==="atom")&&r.text===o;function Bw(r,o,n){var a=Lw[r];switch(a){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(a,[o[0]],[o[1]]);case"\\uparrow":case"\\downarrow":{var h=n.callFunction("\\\\cdleft",[o[0]],[]),p={type:"atom",text:a,mode:"math",family:"rel"},$=n.callFunction("\\Big",[p],[]),_=n.callFunction("\\\\cdright",[o[1]],[]),y={type:"ordgroup",mode:"math",body:[h,$,_]};return n.callFunction("\\\\cdparent",[y],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var E={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[E],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Pw(r){var o=[];for(r.gullet.beginGroup(),r.gullet.macros.set("\\cr","\\\\\\relax"),r.gullet.beginGroup();;){o.push(r.parseExpression(!1,"\\\\")),r.gullet.endGroup(),r.gullet.beginGroup();var n=r.fetch().text;if(n==="&"||n==="\\\\")r.consume();else if(n==="\\end"){o[o.length-1].length===0&&o.pop();break}else throw new fn("Expected \\\\ or \\cr or \\end",r.nextToken)}for(var a=[],h=[a],p=0;p<o.length;p++){for(var $=o[p],_=d8(),y=0;y<$.length;y++)if(!f8($[y]))_.body.push($[y]);else{a.push(_),y+=1;var E=d7($[y]).text,w=new Array(2);if(w[0]={type:"ordgroup",mode:"math",body:[]},w[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(E)>-1))if("<>AV".indexOf(E)>-1)for(var I=0;I<2;I++){for(var H=!0,F=y+1;F<$.length;F++){if(Dw($[F],E)){H=!1,y=F;break}if(f8($[F]))throw new fn("Missing a "+E+" character to complete a CD arrow.",$[F]);w[I].body.push($[F])}if(H)throw new fn("Missing a "+E+" character to complete a CD arrow.",$[y])}else throw new fn('Expected one of "<>AV=|." after @',$[y]);var te=Bw(E,w,r),he={type:"styling",body:[te],mode:"math",style:"display"};a.push(he),_=d8()}p%2===0?a.push(_):a.shift(),a=[],h.push(a)}r.gullet.endGroup(),r.gullet.endGroup();var ce=new Array(h[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:h,arraystretch:1,addJot:!0,rowGaps:[null],cols:ce,colSeparationType:"CD",hLinesBeforeRow:new Array(h.length+1).fill([])}}kn({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(r,o){var{parser:n,funcName:a}=r;return{type:"cdlabel",mode:n.mode,side:a.slice(4),label:o[0]}},htmlBuilder(r,o){var n=o.havingStyle(o.style.sup()),a=Et.wrapFragment(zi(r.label,n,o),o);return a.classes.push("cd-label-"+r.side),a.style.bottom=vn(.8-a.depth),a.height=0,a.depth=0,a},mathmlBuilder(r,o){var n=new hn.MathNode("mrow",[Ss(r.label,o)]);return n=new hn.MathNode("mpadded",[n]),n.setAttribute("width","0"),r.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new hn.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});kn({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(r,o){var{parser:n}=r;return{type:"cdlabelparent",mode:n.mode,fragment:o[0]}},htmlBuilder(r,o){var n=Et.wrapFragment(zi(r.fragment,o),o);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(r,o){return new hn.MathNode("mrow",[Ss(r.fragment,o)])}});kn({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(r,o){for(var{parser:n}=r,a=jr(o[0],"ordgroup"),h=a.body,p="",$=0;$<h.length;$++){var _=jr(h[$],"textord");p+=_.text}var y=parseInt(p),E;if(isNaN(y))throw new fn("\\@char has non-numeric argument "+p);if(y<0||y>=1114111)throw new fn("\\@char with invalid code point "+p);return y<=65535?E=String.fromCharCode(y):(y-=65536,E=String.fromCharCode((y>>10)+55296,(y&1023)+56320)),{type:"textord",mode:n.mode,text:E}}});var lg=(r,o)=>{var n=Go(r.body,o.withColor(r.color),!1);return Et.makeFragment(n)},ag=(r,o)=>{var n=g0(r.body,o.withColor(r.color)),a=new hn.MathNode("mstyle",n);return a.setAttribute("mathcolor",r.color),a};kn({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(r,o){var{parser:n}=r,a=jr(o[0],"color-token").color,h=o[1];return{type:"color",mode:n.mode,color:a,body:Eo(h)}},htmlBuilder:lg,mathmlBuilder:ag});kn({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(r,o){var{parser:n,breakOnTokenText:a}=r,h=jr(o[0],"color-token").color;n.gullet.macros.set("\\current@color",h);var p=n.parseExpression(!0,a);return{type:"color",mode:n.mode,color:h,body:p}},htmlBuilder:lg,mathmlBuilder:ag});kn({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(r,o,n){var{parser:a}=r,h=a.gullet.future().text==="["?a.parseSizeGroup(!0):null,p=!a.settings.displayMode||!a.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:a.mode,newLine:p,size:h&&jr(h,"size").value}},htmlBuilder(r,o){var n=Et.makeSpan(["mspace"],[],o);return r.newLine&&(n.classes.push("newline"),r.size&&(n.style.marginTop=vn(io(r.size,o)))),n},mathmlBuilder(r,o){var n=new hn.MathNode("mspace");return r.newLine&&(n.setAttribute("linebreak","newline"),r.size&&n.setAttribute("height",vn(io(r.size,o)))),n}});var Df={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},ug=r=>{var o=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(o))throw new fn("Expected a control sequence",r);return o},Fw=r=>{var o=r.gullet.popToken();return o.text==="="&&(o=r.gullet.popToken(),o.text===" "&&(o=r.gullet.popToken())),o},cg=(r,o,n,a)=>{var h=r.gullet.macros.get(n.text);h==null&&(n.noexpand=!0,h={tokens:[n],numArgs:0,unexpandable:!r.gullet.isExpandable(n.text)}),r.gullet.macros.set(o,h,a)};kn({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(r){var{parser:o,funcName:n}=r;o.consumeSpaces();var a=o.fetch();if(Df[a.text])return(n==="\\global"||n==="\\\\globallong")&&(a.text=Df[a.text]),jr(o.parseFunction(),"internal");throw new fn("Invalid token after macro prefix",a)}});kn({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:o,funcName:n}=r,a=o.gullet.popToken(),h=a.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(h))throw new fn("Expected a control sequence",a);for(var p=0,$,_=[[]];o.gullet.future().text!=="{";)if(a=o.gullet.popToken(),a.text==="#"){if(o.gullet.future().text==="{"){$=o.gullet.future(),_[p].push("{");break}if(a=o.gullet.popToken(),!/^[1-9]$/.test(a.text))throw new fn('Invalid argument number "'+a.text+'"');if(parseInt(a.text)!==p+1)throw new fn('Argument number "'+a.text+'" out of order');p++,_.push([])}else{if(a.text==="EOF")throw new fn("Expected a macro definition");_[p].push(a.text)}var{tokens:y}=o.gullet.consumeArg();return $&&y.unshift($),(n==="\\edef"||n==="\\xdef")&&(y=o.gullet.expandTokens(y),y.reverse()),o.gullet.macros.set(h,{tokens:y,numArgs:p,delimiters:_},n===Df[n]),{type:"internal",mode:o.mode}}});kn({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:o,funcName:n}=r,a=ug(o.gullet.popToken());o.gullet.consumeSpaces();var h=Fw(o);return cg(o,a,h,n==="\\\\globallet"),{type:"internal",mode:o.mode}}});kn({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:o,funcName:n}=r,a=ug(o.gullet.popToken()),h=o.gullet.popToken(),p=o.gullet.popToken();return cg(o,a,p,n==="\\\\globalfuture"),o.gullet.pushToken(p),o.gullet.pushToken(h),{type:"internal",mode:o.mode}}});var e3=function(o,n,a){var h=Os.math[o]&&Os.math[o].replace,p=l7(h||o,n,a);if(!p)throw new Error("Unsupported symbol "+o+" and font size "+n+".");return p},p7=function(o,n,a,h){var p=a.havingBaseStyle(n),$=Et.makeSpan(h.concat(p.sizingClasses(a)),[o],a),_=p.sizeMultiplier/a.sizeMultiplier;return $.height*=_,$.depth*=_,$.maxFontSize=p.sizeMultiplier,$},hg=function(o,n,a){var h=n.havingBaseStyle(a),p=(1-n.sizeMultiplier/h.sizeMultiplier)*n.fontMetrics().axisHeight;o.classes.push("delimcenter"),o.style.top=vn(p),o.height-=p,o.depth+=p},Uw=function(o,n,a,h,p,$){var _=Et.makeSymbol(o,"Main-Regular",p,h),y=p7(_,n,h,$);return a&&hg(y,h,n),y},zw=function(o,n,a,h){return Et.makeSymbol(o,"Size"+n+"-Regular",a,h)},dg=function(o,n,a,h,p,$){var _=zw(o,n,p,h),y=p7(Et.makeSpan(["delimsizing","size"+n],[_],h),fr.TEXT,h,$);return a&&hg(y,h,fr.TEXT),y},of=function(o,n,a){var h;n==="Size1-Regular"?h="delim-size1":h="delim-size4";var p=Et.makeSpan(["delimsizinginner",h],[Et.makeSpan([],[Et.makeSymbol(o,n,a)])]);return{type:"elem",elem:p}},lf=function(o,n,a){var h=qu["Size4-Regular"][o.charCodeAt(0)]?qu["Size4-Regular"][o.charCodeAt(0)][4]:qu["Size1-Regular"][o.charCodeAt(0)][4],p=new th("inner",qE(o,Math.round(1e3*n))),$=new Gc([p],{width:vn(h),height:vn(n),style:"width:"+vn(h),viewBox:"0 0 "+1e3*h+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),_=Et.makeSvgSpan([],[$],a);return _.height=n,_.style.height=vn(n),_.style.width=vn(h),{type:"elem",elem:_}},Bf=.008,d5={type:"kern",size:-1*Bf},Hw=["|","\\lvert","\\rvert","\\vert"],Vw=["\\|","\\lVert","\\rVert","\\Vert"],fg=function(o,n,a,h,p,$){var _,y,E,w,I="",H=0;_=E=w=o,y=null;var F="Size1-Regular";o==="\\uparrow"?E=w="":o==="\\Uparrow"?E=w="":o==="\\downarrow"?_=E="":o==="\\Downarrow"?_=E="":o==="\\updownarrow"?(_="\\uparrow",E="",w="\\downarrow"):o==="\\Updownarrow"?(_="\\Uparrow",E="",w="\\Downarrow"):Hw.includes(o)?(E="",I="vert",H=333):Vw.includes(o)?(E="",I="doublevert",H=556):o==="["||o==="\\lbrack"?(_="",E="",w="",F="Size4-Regular",I="lbrack",H=667):o==="]"||o==="\\rbrack"?(_="",E="",w="",F="Size4-Regular",I="rbrack",H=667):o==="\\lfloor"||o===""?(E=_="",w="",F="Size4-Regular",I="lfloor",H=667):o==="\\lceil"||o===""?(_="",E=w="",F="Size4-Regular",I="lceil",H=667):o==="\\rfloor"||o===""?(E=_="",w="",F="Size4-Regular",I="rfloor",H=667):o==="\\rceil"||o===""?(_="",E=w="",F="Size4-Regular",I="rceil",H=667):o==="("||o==="\\lparen"?(_="",E="",w="",F="Size4-Regular",I="lparen",H=875):o===")"||o==="\\rparen"?(_="",E="",w="",F="Size4-Regular",I="rparen",H=875):o==="\\{"||o==="\\lbrace"?(_="",y="",w="",E="",F="Size4-Regular"):o==="\\}"||o==="\\rbrace"?(_="",y="",w="",E="",F="Size4-Regular"):o==="\\lgroup"||o===""?(_="",w="",E="",F="Size4-Regular"):o==="\\rgroup"||o===""?(_="",w="",E="",F="Size4-Regular"):o==="\\lmoustache"||o===""?(_="",w="",E="",F="Size4-Regular"):(o==="\\rmoustache"||o==="")&&(_="",w="",E="",F="Size4-Regular");var te=e3(_,F,p),he=te.height+te.depth,ce=e3(E,F,p),K=ce.height+ce.depth,se=e3(w,F,p),we=se.height+se.depth,Oe=0,De=1;if(y!==null){var Se=e3(y,F,p);Oe=Se.height+Se.depth,De=2}var je=he+we+Oe,at=Math.max(0,Math.ceil((n-je)/(De*K))),Ze=je+at*De*K,Ke=h.fontMetrics().axisHeight;a&&(Ke*=h.sizeMultiplier);var Pt=Ze/2-Ke,Ve=[];if(I.length>0){var Xt=Ze-he-we,Lt=Math.round(Ze*1e3),Ot=XE(I,Math.round(Xt*1e3)),st=new th(I,Ot),St=(H/1e3).toFixed(3)+"em",vt=(Lt/1e3).toFixed(3)+"em",an=new Gc([st],{width:St,height:vt,viewBox:"0 0 "+H+" "+Lt}),de=Et.makeSvgSpan([],[an],h);de.height=Lt/1e3,de.style.width=St,de.style.height=vt,Ve.push({type:"elem",elem:de})}else{if(Ve.push(of(w,F,p)),Ve.push(d5),y===null){var Le=Ze-he-we+2*Bf;Ve.push(lf(E,Le,h))}else{var tt=(Ze-he-we-Oe)/2+2*Bf;Ve.push(lf(E,tt,h)),Ve.push(d5),Ve.push(of(y,F,p)),Ve.push(d5),Ve.push(lf(E,tt,h))}Ve.push(d5),Ve.push(of(_,F,p))}var _e=h.havingBaseStyle(fr.TEXT),Ft=Et.makeVList({positionType:"bottom",positionData:Pt,children:Ve},_e);return p7(Et.makeSpan(["delimsizing","mult"],[Ft],_e),fr.TEXT,h,$)},af=80,uf=.08,cf=function(o,n,a,h,p){var $=WE(o,h,a),_=new th(o,$),y=new Gc([_],{width:"400em",height:vn(n),viewBox:"0 0 400000 "+a,preserveAspectRatio:"xMinYMin slice"});return Et.makeSvgSpan(["hide-tail"],[y],p)},Gw=function(o,n){var a=n.havingBaseSizing(),h=$g("\\surd",o*a.sizeMultiplier,gg,a),p=a.sizeMultiplier,$=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),_,y=0,E=0,w=0,I;return h.type==="small"?(w=1e3+1e3*$+af,o<1?p=1:o<1.4&&(p=.7),y=(1+$+uf)/p,E=(1+$)/p,_=cf("sqrtMain",y,w,$,n),_.style.minWidth="0.853em",I=.833/p):h.type==="large"?(w=(1e3+af)*i3[h.size],E=(i3[h.size]+$)/p,y=(i3[h.size]+$+uf)/p,_=cf("sqrtSize"+h.size,y,w,$,n),_.style.minWidth="1.02em",I=1/p):(y=o+$+uf,E=o+$,w=Math.floor(1e3*o+$)+af,_=cf("sqrtTall",y,w,$,n),_.style.minWidth="0.742em",I=1.056),_.height=E,_.style.height=vn(y),{span:_,advanceWidth:I,ruleWidth:(n.fontMetrics().sqrtRuleThickness+$)*p}},pg=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],Ww=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],mg=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],i3=[0,1.2,1.8,2.4,3],qw=function(o,n,a,h,p){if(o==="<"||o==="\\lt"||o===""?o="\\langle":(o===">"||o==="\\gt"||o==="")&&(o="\\rangle"),pg.includes(o)||mg.includes(o))return dg(o,n,!1,a,h,p);if(Ww.includes(o))return fg(o,i3[n],!1,a,h,p);throw new fn("Illegal delimiter: '"+o+"'")},Xw=[{type:"small",style:fr.SCRIPTSCRIPT},{type:"small",style:fr.SCRIPT},{type:"small",style:fr.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],jw=[{type:"small",style:fr.SCRIPTSCRIPT},{type:"small",style:fr.SCRIPT},{type:"small",style:fr.TEXT},{type:"stack"}],gg=[{type:"small",style:fr.SCRIPTSCRIPT},{type:"small",style:fr.SCRIPT},{type:"small",style:fr.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Yw=function(o){if(o.type==="small")return"Main-Regular";if(o.type==="large")return"Size"+o.size+"-Regular";if(o.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+o.type+"' here.")},$g=function(o,n,a,h){for(var p=Math.min(2,3-h.style.size),$=p;$<a.length&&a[$].type!=="stack";$++){var _=e3(o,Yw(a[$]),"math"),y=_.height+_.depth;if(a[$].type==="small"){var E=h.havingBaseStyle(a[$].style);y*=E.sizeMultiplier}if(y>n)return a[$]}return a[a.length-1]},bg=function(o,n,a,h,p,$){o==="<"||o==="\\lt"||o===""?o="\\langle":(o===">"||o==="\\gt"||o==="")&&(o="\\rangle");var _;mg.includes(o)?_=Xw:pg.includes(o)?_=gg:_=jw;var y=$g(o,n,_,h);return y.type==="small"?Uw(o,y.style,a,h,p,$):y.type==="large"?dg(o,y.size,a,h,p,$):fg(o,n,a,h,p,$)},Kw=function(o,n,a,h,p,$){var _=h.fontMetrics().axisHeight*h.sizeMultiplier,y=901,E=5/h.fontMetrics().ptPerEm,w=Math.max(n-_,a+_),I=Math.max(w/500*y,2*w-E);return bg(o,I,!0,h,p,$)},Vc={sqrtImage:Gw,sizedDelim:qw,sizeToMaxHeight:i3,customSizedDelim:bg,leftRightDelim:Kw},p8={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Jw=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function q5(r,o){var n=G5(r);if(n&&Jw.includes(n.text))return n;throw n?new fn("Invalid delimiter '"+n.text+"' after '"+o.funcName+"'",r):new fn("Invalid delimiter type '"+r.type+"'",r)}kn({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(r,o)=>{var n=q5(o[0],r);return{type:"delimsizing",mode:r.parser.mode,size:p8[r.funcName].size,mclass:p8[r.funcName].mclass,delim:n.text}},htmlBuilder:(r,o)=>r.delim==="."?Et.makeSpan([r.mclass]):Vc.sizedDelim(r.delim,r.size,o,r.mode,[r.mclass]),mathmlBuilder:r=>{var o=[];r.delim!=="."&&o.push(Sa(r.delim,r.mode));var n=new hn.MathNode("mo",o);r.mclass==="mopen"||r.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var a=vn(Vc.sizeToMaxHeight[r.size]);return n.setAttribute("minsize",a),n.setAttribute("maxsize",a),n}});function m8(r){if(!r.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}kn({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(r,o)=>{var n=r.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new fn("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:r.parser.mode,delim:q5(o[0],r).text,color:n}}});kn({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(r,o)=>{var n=q5(o[0],r),a=r.parser;++a.leftrightDepth;var h=a.parseExpression(!1);--a.leftrightDepth,a.expect("\\right",!1);var p=jr(a.parseFunction(),"leftright-right");return{type:"leftright",mode:a.mode,body:h,left:n.text,right:p.delim,rightColor:p.color}},htmlBuilder:(r,o)=>{m8(r);for(var n=Go(r.body,o,!0,["mopen","mclose"]),a=0,h=0,p=!1,$=0;$<n.length;$++)n[$].isMiddle?p=!0:(a=Math.max(n[$].height,a),h=Math.max(n[$].depth,h));a*=o.sizeMultiplier,h*=o.sizeMultiplier;var _;if(r.left==="."?_=u3(o,["mopen"]):_=Vc.leftRightDelim(r.left,a,h,o,r.mode,["mopen"]),n.unshift(_),p)for(var y=1;y<n.length;y++){var E=n[y],w=E.isMiddle;w&&(n[y]=Vc.leftRightDelim(w.delim,a,h,w.options,r.mode,[]))}var I;if(r.right===".")I=u3(o,["mclose"]);else{var H=r.rightColor?o.withColor(r.rightColor):o;I=Vc.leftRightDelim(r.right,a,h,H,r.mode,["mclose"])}return n.push(I),Et.makeSpan(["minner"],n,o)},mathmlBuilder:(r,o)=>{m8(r);var n=g0(r.body,o);if(r.left!=="."){var a=new hn.MathNode("mo",[Sa(r.left,r.mode)]);a.setAttribute("fence","true"),n.unshift(a)}if(r.right!=="."){var h=new hn.MathNode("mo",[Sa(r.right,r.mode)]);h.setAttribute("fence","true"),r.rightColor&&h.setAttribute("mathcolor",r.rightColor),n.push(h)}return c7(n)}});kn({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(r,o)=>{var n=q5(o[0],r);if(!r.parser.leftrightDepth)throw new fn("\\middle without preceding \\left",n);return{type:"middle",mode:r.parser.mode,delim:n.text}},htmlBuilder:(r,o)=>{var n;if(r.delim===".")n=u3(o,[]);else{n=Vc.sizedDelim(r.delim,1,o,r.mode,[]);var a={delim:r.delim,options:o};n.isMiddle=a}return n},mathmlBuilder:(r,o)=>{var n=r.delim==="\\vert"||r.delim==="|"?Sa("|","text"):Sa(r.delim,r.mode),a=new hn.MathNode("mo",[n]);return a.setAttribute("fence","true"),a.setAttribute("lspace","0.05em"),a.setAttribute("rspace","0.05em"),a}});var m7=(r,o)=>{var n=Et.wrapFragment(zi(r.body,o),o),a=r.label.slice(1),h=o.sizeMultiplier,p,$=0,_=Xi.isCharacterBox(r.body);if(a==="sout")p=Et.makeSpan(["stretchy","sout"]),p.height=o.fontMetrics().defaultRuleThickness/h,$=-.5*o.fontMetrics().xHeight;else if(a==="phase"){var y=io({number:.6,unit:"pt"},o),E=io({number:.35,unit:"ex"},o),w=o.havingBaseSizing();h=h/w.sizeMultiplier;var I=n.height+n.depth+y+E;n.style.paddingLeft=vn(I/2+y);var H=Math.floor(1e3*I*h),F=VE(H),te=new Gc([new th("phase",F)],{width:"400em",height:vn(H/1e3),viewBox:"0 0 400000 "+H,preserveAspectRatio:"xMinYMin slice"});p=Et.makeSvgSpan(["hide-tail"],[te],o),p.style.height=vn(I),$=n.depth+y+E}else{/cancel/.test(a)?_||n.classes.push("cancel-pad"):a==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var he=0,ce=0,K=0;/box/.test(a)?(K=Math.max(o.fontMetrics().fboxrule,o.minRuleThickness),he=o.fontMetrics().fboxsep+(a==="colorbox"?0:K),ce=he):a==="angl"?(K=Math.max(o.fontMetrics().defaultRuleThickness,o.minRuleThickness),he=4*K,ce=Math.max(0,.25-n.depth)):(he=_?.2:0,ce=he),p=qc.encloseSpan(n,a,he,ce,o),/fbox|boxed|fcolorbox/.test(a)?(p.style.borderStyle="solid",p.style.borderWidth=vn(K)):a==="angl"&&K!==.049&&(p.style.borderTopWidth=vn(K),p.style.borderRightWidth=vn(K)),$=n.depth+ce,r.backgroundColor&&(p.style.backgroundColor=r.backgroundColor,r.borderColor&&(p.style.borderColor=r.borderColor))}var se;if(r.backgroundColor)se=Et.makeVList({positionType:"individualShift",children:[{type:"elem",elem:p,shift:$},{type:"elem",elem:n,shift:0}]},o);else{var we=/cancel|phase/.test(a)?["svg-align"]:[];se=Et.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:p,shift:$,wrapperClasses:we}]},o)}return/cancel/.test(a)&&(se.height=n.height,se.depth=n.depth),/cancel/.test(a)&&!_?Et.makeSpan(["mord","cancel-lap"],[se],o):Et.makeSpan(["mord"],[se],o)},g7=(r,o)=>{var n=0,a=new hn.MathNode(r.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ss(r.body,o)]);switch(r.label){case"\\cancel":a.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":a.setAttribute("notation","downdiagonalstrike");break;case"\\phase":a.setAttribute("notation","phasorangle");break;case"\\sout":a.setAttribute("notation","horizontalstrike");break;case"\\fbox":a.setAttribute("notation","box");break;case"\\angl":a.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=o.fontMetrics().fboxsep*o.fontMetrics().ptPerEm,a.setAttribute("width","+"+2*n+"pt"),a.setAttribute("height","+"+2*n+"pt"),a.setAttribute("lspace",n+"pt"),a.setAttribute("voffset",n+"pt"),r.label==="\\fcolorbox"){var h=Math.max(o.fontMetrics().fboxrule,o.minRuleThickness);a.setAttribute("style","border: "+h+"em solid "+String(r.borderColor))}break;case"\\xcancel":a.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return r.backgroundColor&&a.setAttribute("mathbackground",r.backgroundColor),a};kn({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(r,o,n){var{parser:a,funcName:h}=r,p=jr(o[0],"color-token").color,$=o[1];return{type:"enclose",mode:a.mode,label:h,backgroundColor:p,body:$}},htmlBuilder:m7,mathmlBuilder:g7});kn({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(r,o,n){var{parser:a,funcName:h}=r,p=jr(o[0],"color-token").color,$=jr(o[1],"color-token").color,_=o[2];return{type:"enclose",mode:a.mode,label:h,backgroundColor:$,borderColor:p,body:_}},htmlBuilder:m7,mathmlBuilder:g7});kn({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(r,o){var{parser:n}=r;return{type:"enclose",mode:n.mode,label:"\\fbox",body:o[0]}}});kn({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(r,o){var{parser:n,funcName:a}=r,h=o[0];return{type:"enclose",mode:n.mode,label:a,body:h}},htmlBuilder:m7,mathmlBuilder:g7});kn({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(r,o){var{parser:n}=r;return{type:"enclose",mode:n.mode,label:"\\angl",body:o[0]}}});var vg={};function ju(r){for(var{type:o,names:n,props:a,handler:h,htmlBuilder:p,mathmlBuilder:$}=r,_={type:o,numArgs:a.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:h},y=0;y<n.length;++y)vg[n[y]]=_;p&&(M5[o]=p),$&&(O5[o]=$)}var Tg={};function xe(r,o){Tg[r]=o}function g8(r){var o=[];r.consumeSpaces();var n=r.fetch().text;for(n==="\\relax"&&(r.consume(),r.consumeSpaces(),n=r.fetch().text);n==="\\hline"||n==="\\hdashline";)r.consume(),o.push(n==="\\hdashline"),r.consumeSpaces(),n=r.fetch().text;return o}var X5=r=>{var o=r.parser.settings;if(!o.displayMode)throw new fn("{"+r.envName+"} can be used only in display mode.")};function $7(r){if(r.indexOf("ed")===-1)return r.indexOf("*")===-1}function ih(r,o,n){var{hskipBeforeAndAfter:a,addJot:h,cols:p,arraystretch:$,colSeparationType:_,autoTag:y,singleRow:E,emptySingleRow:w,maxNumCols:I,leqno:H}=o;if(r.gullet.beginGroup(),E||r.gullet.macros.set("\\cr","\\\\\\relax"),!$){var F=r.gullet.expandMacroAsText("\\arraystretch");if(F==null)$=1;else if($=parseFloat(F),!$||$<0)throw new fn("Invalid \\arraystretch: "+F)}r.gullet.beginGroup();var te=[],he=[te],ce=[],K=[],se=y!=null?[]:void 0;function we(){y&&r.gullet.macros.set("\\@eqnsw","1",!0)}function Oe(){se&&(r.gullet.macros.get("\\df@tag")?(se.push(r.subparse([new V0("\\df@tag")])),r.gullet.macros.set("\\df@tag",void 0,!0)):se.push(!!y&&r.gullet.macros.get("\\@eqnsw")==="1"))}for(we(),K.push(g8(r));;){var De=r.parseExpression(!1,E?"\\end":"\\\\");r.gullet.endGroup(),r.gullet.beginGroup(),De={type:"ordgroup",mode:r.mode,body:De},n&&(De={type:"styling",mode:r.mode,style:n,body:[De]}),te.push(De);var Se=r.fetch().text;if(Se==="&"){if(I&&te.length===I){if(E||_)throw new fn("Too many tab characters: &",r.nextToken);r.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}r.consume()}else if(Se==="\\end"){Oe(),te.length===1&&De.type==="styling"&&De.body[0].body.length===0&&(he.length>1||!w)&&he.pop(),K.length<he.length+1&&K.push([]);break}else if(Se==="\\\\"){r.consume();var je=void 0;r.gullet.future().text!==" "&&(je=r.parseSizeGroup(!0)),ce.push(je?je.value:null),Oe(),K.push(g8(r)),te=[],he.push(te),we()}else throw new fn("Expected & or \\\\ or \\cr or \\end",r.nextToken)}return r.gullet.endGroup(),r.gullet.endGroup(),{type:"array",mode:r.mode,addJot:h,arraystretch:$,body:he,cols:p,rowGaps:ce,hskipBeforeAndAfter:a,hLinesBeforeRow:K,colSeparationType:_,tags:se,leqno:H}}function b7(r){return r.slice(0,1)==="d"?"display":"text"}var Yu=function(o,n){var a,h,p=o.body.length,$=o.hLinesBeforeRow,_=0,y=new Array(p),E=[],w=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),I=1/n.fontMetrics().ptPerEm,H=5*I;if(o.colSeparationType&&o.colSeparationType==="small"){var F=n.havingStyle(fr.SCRIPT).sizeMultiplier;H=.2778*(F/n.sizeMultiplier)}var te=o.colSeparationType==="CD"?io({number:3,unit:"ex"},n):12*I,he=3*I,ce=o.arraystretch*te,K=.7*ce,se=.3*ce,we=0;function Oe($i){for(var wi=0;wi<$i.length;++wi)wi>0&&(we+=.25),E.push({pos:we,isDashed:$i[wi]})}for(Oe($[0]),a=0;a<o.body.length;++a){var De=o.body[a],Se=K,je=se;_<De.length&&(_=De.length);var at=new Array(De.length);for(h=0;h<De.length;++h){var Ze=zi(De[h],n);je<Ze.depth&&(je=Ze.depth),Se<Ze.height&&(Se=Ze.height),at[h]=Ze}var Ke=o.rowGaps[a],Pt=0;Ke&&(Pt=io(Ke,n),Pt>0&&(Pt+=se,je<Pt&&(je=Pt),Pt=0)),o.addJot&&(je+=he),at.height=Se,at.depth=je,we+=Se,at.pos=we,we+=je+Pt,y[a]=at,Oe($[a+1])}var Ve=we/2+n.fontMetrics().axisHeight,Xt=o.cols||[],Lt=[],Ot,st,St=[];if(o.tags&&o.tags.some($i=>$i))for(a=0;a<p;++a){var vt=y[a],an=vt.pos-Ve,de=o.tags[a],Le=void 0;de===!0?Le=Et.makeSpan(["eqn-num"],[],n):de===!1?Le=Et.makeSpan([],[],n):Le=Et.makeSpan([],Go(de,n,!0),n),Le.depth=vt.depth,Le.height=vt.height,St.push({type:"elem",elem:Le,shift:an})}for(h=0,st=0;h<_||st<Xt.length;++h,++st){for(var tt=Xt[st]||{},_e=!0;tt.type==="separator";){if(_e||(Ot=Et.makeSpan(["arraycolsep"],[]),Ot.style.width=vn(n.fontMetrics().doubleRuleSep),Lt.push(Ot)),tt.separator==="|"||tt.separator===":"){var Ft=tt.separator==="|"?"solid":"dashed",It=Et.makeSpan(["vertical-separator"],[],n);It.style.height=vn(we),It.style.borderRightWidth=vn(w),It.style.borderRightStyle=Ft,It.style.margin="0 "+vn(-w/2);var Qt=we-Ve;Qt&&(It.style.verticalAlign=vn(-Qt)),Lt.push(It)}else throw new fn("Invalid separator type: "+tt.separator);st++,tt=Xt[st]||{},_e=!1}if(!(h>=_)){var cn=void 0;(h>0||o.hskipBeforeAndAfter)&&(cn=Xi.deflt(tt.pregap,H),cn!==0&&(Ot=Et.makeSpan(["arraycolsep"],[]),Ot.style.width=vn(cn),Lt.push(Ot)));var Hn=[];for(a=0;a<p;++a){var mn=y[a],sn=mn[h];if(sn){var qn=mn.pos-Ve;sn.depth=mn.depth,sn.height=mn.height,Hn.push({type:"elem",elem:sn,shift:qn})}}Hn=Et.makeVList({positionType:"individualShift",children:Hn},n),Hn=Et.makeSpan(["col-align-"+(tt.align||"c")],[Hn]),Lt.push(Hn),(h<_-1||o.hskipBeforeAndAfter)&&(cn=Xi.deflt(tt.postgap,H),cn!==0&&(Ot=Et.makeSpan(["arraycolsep"],[]),Ot.style.width=vn(cn),Lt.push(Ot)))}}if(y=Et.makeSpan(["mtable"],Lt),E.length>0){for(var ct=Et.makeLineSpan("hline",n,w),rn=Et.makeLineSpan("hdashline",n,w),Br=[{type:"elem",elem:y,shift:0}];E.length>0;){var Zn=E.pop(),mr=Zn.pos-Ve;Zn.isDashed?Br.push({type:"elem",elem:rn,shift:mr}):Br.push({type:"elem",elem:ct,shift:mr})}y=Et.makeVList({positionType:"individualShift",children:Br},n)}if(St.length===0)return Et.makeSpan(["mord"],[y],n);var un=Et.makeVList({positionType:"individualShift",children:St},n);return un=Et.makeSpan(["tag"],[un],n),Et.makeFragment([y,un])},Zw={c:"center ",l:"left ",r:"right "},Ku=function(o,n){for(var a=[],h=new hn.MathNode("mtd",[],["mtr-glue"]),p=new hn.MathNode("mtd",[],["mml-eqn-num"]),$=0;$<o.body.length;$++){for(var _=o.body[$],y=[],E=0;E<_.length;E++)y.push(new hn.MathNode("mtd",[Ss(_[E],n)]));o.tags&&o.tags[$]&&(y.unshift(h),y.push(h),o.leqno?y.unshift(p):y.push(p)),a.push(new hn.MathNode("mtr",y))}var w=new hn.MathNode("mtable",a),I=o.arraystretch===.5?.1:.16+o.arraystretch-1+(o.addJot?.09:0);w.setAttribute("rowspacing",vn(I));var H="",F="";if(o.cols&&o.cols.length>0){var te=o.cols,he="",ce=!1,K=0,se=te.length;te[0].type==="separator"&&(H+="top ",K=1),te[te.length-1].type==="separator"&&(H+="bottom ",se-=1);for(var we=K;we<se;we++)te[we].type==="align"?(F+=Zw[te[we].align],ce&&(he+="none "),ce=!0):te[we].type==="separator"&&ce&&(he+=te[we].separator==="|"?"solid ":"dashed ",ce=!1);w.setAttribute("columnalign",F.trim()),/[sd]/.test(he)&&w.setAttribute("columnlines",he.trim())}if(o.colSeparationType==="align"){for(var Oe=o.cols||[],De="",Se=1;Se<Oe.length;Se++)De+=Se%2?"0em ":"1em ";w.setAttribute("columnspacing",De.trim())}else o.colSeparationType==="alignat"||o.colSeparationType==="gather"?w.setAttribute("columnspacing","0em"):o.colSeparationType==="small"?w.setAttribute("columnspacing","0.2778em"):o.colSeparationType==="CD"?w.setAttribute("columnspacing","0.5em"):w.setAttribute("columnspacing","1em");var je="",at=o.hLinesBeforeRow;H+=at[0].length>0?"left ":"",H+=at[at.length-1].length>0?"right ":"";for(var Ze=1;Ze<at.length-1;Ze++)je+=at[Ze].length===0?"none ":at[Ze][0]?"dashed ":"solid ";return/[sd]/.test(je)&&w.setAttribute("rowlines",je.trim()),H!==""&&(w=new hn.MathNode("menclose",[w]),w.setAttribute("notation",H.trim())),o.arraystretch&&o.arraystretch<1&&(w=new hn.MathNode("mstyle",[w]),w.setAttribute("scriptlevel","1")),w},yg=function(o,n){o.envName.indexOf("ed")===-1&&X5(o);var a=[],h=o.envName.indexOf("at")>-1?"alignat":"align",p=o.envName==="split",$=ih(o.parser,{cols:a,addJot:!0,autoTag:p?void 0:$7(o.envName),emptySingleRow:!0,colSeparationType:h,maxNumCols:p?2:void 0,leqno:o.parser.settings.leqno},"display"),_,y=0,E={type:"ordgroup",mode:o.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var w="",I=0;I<n[0].body.length;I++){var H=jr(n[0].body[I],"textord");w+=H.text}_=Number(w),y=_*2}var F=!y;$.body.forEach(function(K){for(var se=1;se<K.length;se+=2){var we=jr(K[se],"styling"),Oe=jr(we.body[0],"ordgroup");Oe.body.unshift(E)}if(F)y<K.length&&(y=K.length);else{var De=K.length/2;if(_<De)throw new fn("Too many math in a row: "+("expected "+_+", but got "+De),K[0])}});for(var te=0;te<y;++te){var he="r",ce=0;te%2===1?he="l":te>0&&F&&(ce=1),a[te]={type:"align",align:he,pregap:ce,postgap:0}}return $.colSeparationType=F?"align":"alignat",$};ju({type:"array",names:["array","darray"],props:{numArgs:1},handler(r,o){var n=G5(o[0]),a=n?[o[0]]:jr(o[0],"ordgroup").body,h=a.map(function($){var _=d7($),y=_.text;if("lcr".indexOf(y)!==-1)return{type:"align",align:y};if(y==="|")return{type:"separator",separator:"|"};if(y===":")return{type:"separator",separator:":"};throw new fn("Unknown column alignment: "+y,$)}),p={cols:h,hskipBeforeAndAfter:!0,maxNumCols:h.length};return ih(r.parser,p,b7(r.envName))},htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(r){var o={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[r.envName.replace("*","")],n="c",a={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(r.envName.charAt(r.envName.length-1)==="*"){var h=r.parser;if(h.consumeSpaces(),h.fetch().text==="["){if(h.consume(),h.consumeSpaces(),n=h.fetch().text,"lcr".indexOf(n)===-1)throw new fn("Expected l or c or r",h.nextToken);h.consume(),h.consumeSpaces(),h.expect("]"),h.consume(),a.cols=[{type:"align",align:n}]}}var p=ih(r.parser,a,b7(r.envName)),$=Math.max(0,...p.body.map(_=>_.length));return p.cols=new Array($).fill({type:"align",align:n}),o?{type:"leftright",mode:r.mode,body:[p],left:o[0],right:o[1],rightColor:void 0}:p},htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(r){var o={arraystretch:.5},n=ih(r.parser,o,"script");return n.colSeparationType="small",n},htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["subarray"],props:{numArgs:1},handler(r,o){var n=G5(o[0]),a=n?[o[0]]:jr(o[0],"ordgroup").body,h=a.map(function($){var _=d7($),y=_.text;if("lc".indexOf(y)!==-1)return{type:"align",align:y};throw new fn("Unknown column alignment: "+y,$)});if(h.length>1)throw new fn("{subarray} can contain only one column");var p={cols:h,hskipBeforeAndAfter:!1,arraystretch:.5};if(p=ih(r.parser,p,"script"),p.body.length>0&&p.body[0].length>1)throw new fn("{subarray} can contain only one column");return p},htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(r){var o={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=ih(r.parser,o,b7(r.envName));return{type:"leftright",mode:r.mode,body:[n],left:r.envName.indexOf("r")>-1?".":"\\{",right:r.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:yg,htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(r){["gather","gather*"].includes(r.envName)&&X5(r);var o={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:$7(r.envName),emptySingleRow:!0,leqno:r.parser.settings.leqno};return ih(r.parser,o,"display")},htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:yg,htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(r){X5(r);var o={autoTag:$7(r.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:r.parser.settings.leqno};return ih(r.parser,o,"display")},htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["CD"],props:{numArgs:0},handler(r){return X5(r),Pw(r.parser)},htmlBuilder:Yu,mathmlBuilder:Ku});xe("\\nonumber","\\gdef\\@eqnsw{0}");xe("\\notag","\\nonumber");kn({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(r,o){throw new fn(r.funcName+" valid only within array environment")}});var $8=vg;kn({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(r,o){var{parser:n,funcName:a}=r,h=o[0];if(h.type!=="ordgroup")throw new fn("Invalid environment name",h);for(var p="",$=0;$<h.body.length;++$)p+=jr(h.body[$],"textord").text;if(a==="\\begin"){if(!$8.hasOwnProperty(p))throw new fn("No such environment: "+p,h);var _=$8[p],{args:y,optArgs:E}=n.parseArguments("\\begin{"+p+"}",_),w={mode:n.mode,envName:p,parser:n},I=_.handler(w,y,E);n.expect("\\end",!1);var H=n.nextToken,F=jr(n.parseFunction(),"environment");if(F.name!==p)throw new fn("Mismatch: \\begin{"+p+"} matched by \\end{"+F.name+"}",H);return I}return{type:"environment",mode:n.mode,name:p,nameGroup:h}}});var _g=(r,o)=>{var n=r.font,a=o.withFont(n);return zi(r.body,a)},Eg=(r,o)=>{var n=r.font,a=o.withFont(n);return Ss(r.body,a)},b8={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};kn({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(r,o)=>{var{parser:n,funcName:a}=r,h=R5(o[0]),p=a;return p in b8&&(p=b8[p]),{type:"font",mode:n.mode,font:p.slice(1),body:h}},htmlBuilder:_g,mathmlBuilder:Eg});kn({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(r,o)=>{var{parser:n}=r,a=o[0],h=Xi.isCharacterBox(a);return{type:"mclass",mode:n.mode,mclass:W5(a),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:a}],isCharacterBox:h}}});kn({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(r,o)=>{var{parser:n,funcName:a,breakOnTokenText:h}=r,{mode:p}=n,$=n.parseExpression(!0,h),_="math"+a.slice(1);return{type:"font",mode:p,font:_,body:{type:"ordgroup",mode:n.mode,body:$}}},htmlBuilder:_g,mathmlBuilder:Eg});var wg=(r,o)=>{var n=o;return r==="display"?n=n.id>=fr.SCRIPT.id?n.text():fr.DISPLAY:r==="text"&&n.size===fr.DISPLAY.size?n=fr.TEXT:r==="script"?n=fr.SCRIPT:r==="scriptscript"&&(n=fr.SCRIPTSCRIPT),n},v7=(r,o)=>{var n=wg(r.size,o.style),a=n.fracNum(),h=n.fracDen(),p;p=o.havingStyle(a);var $=zi(r.numer,p,o);if(r.continued){var _=8.5/o.fontMetrics().ptPerEm,y=3.5/o.fontMetrics().ptPerEm;$.height=$.height<_?_:$.height,$.depth=$.depth<y?y:$.depth}p=o.havingStyle(h);var E=zi(r.denom,p,o),w,I,H;r.hasBarLine?(r.barSize?(I=io(r.barSize,o),w=Et.makeLineSpan("frac-line",o,I)):w=Et.makeLineSpan("frac-line",o),I=w.height,H=w.height):(w=null,I=0,H=o.fontMetrics().defaultRuleThickness);var F,te,he;n.size===fr.DISPLAY.size||r.size==="display"?(F=o.fontMetrics().num1,I>0?te=3*H:te=7*H,he=o.fontMetrics().denom1):(I>0?(F=o.fontMetrics().num2,te=H):(F=o.fontMetrics().num3,te=3*H),he=o.fontMetrics().denom2);var ce;if(w){var se=o.fontMetrics().axisHeight;F-$.depth-(se+.5*I)<te&&(F+=te-(F-$.depth-(se+.5*I))),se-.5*I-(E.height-he)<te&&(he+=te-(se-.5*I-(E.height-he)));var we=-(se-.5*I);ce=Et.makeVList({positionType:"individualShift",children:[{type:"elem",elem:E,shift:he},{type:"elem",elem:w,shift:we},{type:"elem",elem:$,shift:-F}]},o)}else{var K=F-$.depth-(E.height-he);K<te&&(F+=.5*(te-K),he+=.5*(te-K)),ce=Et.makeVList({positionType:"individualShift",children:[{type:"elem",elem:E,shift:he},{type:"elem",elem:$,shift:-F}]},o)}p=o.havingStyle(n),ce.height*=p.sizeMultiplier/o.sizeMultiplier,ce.depth*=p.sizeMultiplier/o.sizeMultiplier;var Oe;n.size===fr.DISPLAY.size?Oe=o.fontMetrics().delim1:n.size===fr.SCRIPTSCRIPT.size?Oe=o.havingStyle(fr.SCRIPT).fontMetrics().delim2:Oe=o.fontMetrics().delim2;var De,Se;return r.leftDelim==null?De=u3(o,["mopen"]):De=Vc.customSizedDelim(r.leftDelim,Oe,!0,o.havingStyle(n),r.mode,["mopen"]),r.continued?Se=Et.makeSpan([]):r.rightDelim==null?Se=u3(o,["mclose"]):Se=Vc.customSizedDelim(r.rightDelim,Oe,!0,o.havingStyle(n),r.mode,["mclose"]),Et.makeSpan(["mord"].concat(p.sizingClasses(o)),[De,Et.makeSpan(["mfrac"],[ce]),Se],o)},T7=(r,o)=>{var n=new hn.MathNode("mfrac",[Ss(r.numer,o),Ss(r.denom,o)]);if(!r.hasBarLine)n.setAttribute("linethickness","0px");else if(r.barSize){var a=io(r.barSize,o);n.setAttribute("linethickness",vn(a))}var h=wg(r.size,o.style);if(h.size!==o.style.size){n=new hn.MathNode("mstyle",[n]);var p=h.size===fr.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",p),n.setAttribute("scriptlevel","0")}if(r.leftDelim!=null||r.rightDelim!=null){var $=[];if(r.leftDelim!=null){var _=new hn.MathNode("mo",[new hn.TextNode(r.leftDelim.replace("\\",""))]);_.setAttribute("fence","true"),$.push(_)}if($.push(n),r.rightDelim!=null){var y=new hn.MathNode("mo",[new hn.TextNode(r.rightDelim.replace("\\",""))]);y.setAttribute("fence","true"),$.push(y)}return c7($)}return n};kn({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(r,o)=>{var{parser:n,funcName:a}=r,h=o[0],p=o[1],$,_=null,y=null,E="auto";switch(a){case"\\dfrac":case"\\frac":case"\\tfrac":$=!0;break;case"\\\\atopfrac":$=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":$=!1,_="(",y=")";break;case"\\\\bracefrac":$=!1,_="\\{",y="\\}";break;case"\\\\brackfrac":$=!1,_="[",y="]";break;default:throw new Error("Unrecognized genfrac command")}switch(a){case"\\dfrac":case"\\dbinom":E="display";break;case"\\tfrac":case"\\tbinom":E="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:h,denom:p,hasBarLine:$,leftDelim:_,rightDelim:y,size:E,barSize:null}},htmlBuilder:v7,mathmlBuilder:T7});kn({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(r,o)=>{var{parser:n,funcName:a}=r,h=o[0],p=o[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:h,denom:p,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});kn({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(r){var{parser:o,funcName:n,token:a}=r,h;switch(n){case"\\over":h="\\frac";break;case"\\choose":h="\\binom";break;case"\\atop":h="\\\\atopfrac";break;case"\\brace":h="\\\\bracefrac";break;case"\\brack":h="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:o.mode,replaceWith:h,token:a}}});var v8=["display","text","script","scriptscript"],T8=function(o){var n=null;return o.length>0&&(n=o,n=n==="."?null:n),n};kn({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(r,o){var{parser:n}=r,a=o[4],h=o[5],p=R5(o[0]),$=p.type==="atom"&&p.family==="open"?T8(p.text):null,_=R5(o[1]),y=_.type==="atom"&&_.family==="close"?T8(_.text):null,E=jr(o[2],"size"),w,I=null;E.isBlank?w=!0:(I=E.value,w=I.number>0);var H="auto",F=o[3];if(F.type==="ordgroup"){if(F.body.length>0){var te=jr(F.body[0],"textord");H=v8[Number(te.text)]}}else F=jr(F,"textord"),H=v8[Number(F.text)];return{type:"genfrac",mode:n.mode,numer:a,denom:h,continued:!1,hasBarLine:w,barSize:I,leftDelim:$,rightDelim:y,size:H}},htmlBuilder:v7,mathmlBuilder:T7});kn({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(r,o){var{parser:n,funcName:a,token:h}=r;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:jr(o[0],"size").value,token:h}}});kn({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(r,o)=>{var{parser:n,funcName:a}=r,h=o[0],p=kE(jr(o[1],"infix").size),$=o[2],_=p.number>0;return{type:"genfrac",mode:n.mode,numer:h,denom:$,continued:!1,hasBarLine:_,barSize:p,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:v7,mathmlBuilder:T7});var Sg=(r,o)=>{var n=o.style,a,h;r.type==="supsub"?(a=r.sup?zi(r.sup,o.havingStyle(n.sup()),o):zi(r.sub,o.havingStyle(n.sub()),o),h=jr(r.base,"horizBrace")):h=jr(r,"horizBrace");var p=zi(h.base,o.havingBaseStyle(fr.DISPLAY)),$=qc.svgSpan(h,o),_;if(h.isOver?(_=Et.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:p},{type:"kern",size:.1},{type:"elem",elem:$}]},o),_.children[0].children[0].children[1].classes.push("svg-align")):(_=Et.makeVList({positionType:"bottom",positionData:p.depth+.1+$.height,children:[{type:"elem",elem:$},{type:"kern",size:.1},{type:"elem",elem:p}]},o),_.children[0].children[0].children[0].classes.push("svg-align")),a){var y=Et.makeSpan(["mord",h.isOver?"mover":"munder"],[_],o);h.isOver?_=Et.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y},{type:"kern",size:.2},{type:"elem",elem:a}]},o):_=Et.makeVList({positionType:"bottom",positionData:y.depth+.2+a.height+a.depth,children:[{type:"elem",elem:a},{type:"kern",size:.2},{type:"elem",elem:y}]},o)}return Et.makeSpan(["mord",h.isOver?"mover":"munder"],[_],o)},Qw=(r,o)=>{var n=qc.mathMLnode(r.label);return new hn.MathNode(r.isOver?"mover":"munder",[Ss(r.base,o),n])};kn({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(r,o){var{parser:n,funcName:a}=r;return{type:"horizBrace",mode:n.mode,label:a,isOver:/^\\over/.test(a),base:o[0]}},htmlBuilder:Sg,mathmlBuilder:Qw});kn({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(r,o)=>{var{parser:n}=r,a=o[1],h=jr(o[0],"url").url;return n.settings.isTrusted({command:"\\href",url:h})?{type:"href",mode:n.mode,href:h,body:Eo(a)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(r,o)=>{var n=Go(r.body,o,!1);return Et.makeAnchor(r.href,[],n,o)},mathmlBuilder:(r,o)=>{var n=nh(r.body,o);return n instanceof z0||(n=new z0("mrow",[n])),n.setAttribute("href",r.href),n}});kn({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(r,o)=>{var{parser:n}=r,a=jr(o[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:a}))return n.formatUnsupportedCmd("\\url");for(var h=[],p=0;p<a.length;p++){var $=a[p];$==="~"&&($="\\textasciitilde"),h.push({type:"textord",mode:"text",text:$})}var _={type:"text",mode:n.mode,font:"\\texttt",body:h};return{type:"href",mode:n.mode,href:a,body:Eo(_)}}});kn({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(r,o){var{parser:n}=r;return{type:"hbox",mode:n.mode,body:Eo(o[0])}},htmlBuilder(r,o){var n=Go(r.body,o,!1);return Et.makeFragment(n)},mathmlBuilder(r,o){return new hn.MathNode("mrow",g0(r.body,o))}});kn({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(r,o)=>{var{parser:n,funcName:a,token:h}=r,p=jr(o[0],"raw").string,$=o[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var _,y={};switch(a){case"\\htmlClass":y.class=p,_={command:"\\htmlClass",class:p};break;case"\\htmlId":y.id=p,_={command:"\\htmlId",id:p};break;case"\\htmlStyle":y.style=p,_={command:"\\htmlStyle",style:p};break;case"\\htmlData":{for(var E=p.split(","),w=0;w<E.length;w++){var I=E[w].split("=");if(I.length!==2)throw new fn("Error parsing key-value for \\htmlData");y["data-"+I[0].trim()]=I[1].trim()}_={command:"\\htmlData",attributes:y};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(_)?{type:"html",mode:n.mode,attributes:y,body:Eo($)}:n.formatUnsupportedCmd(a)},htmlBuilder:(r,o)=>{var n=Go(r.body,o,!1),a=["enclosing"];r.attributes.class&&a.push(...r.attributes.class.trim().split(/\s+/));var h=Et.makeSpan(a,n,o);for(var p in r.attributes)p!=="class"&&r.attributes.hasOwnProperty(p)&&h.setAttribute(p,r.attributes[p]);return h},mathmlBuilder:(r,o)=>nh(r.body,o)});kn({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(r,o)=>{var{parser:n}=r;return{type:"htmlmathml",mode:n.mode,html:Eo(o[0]),mathml:Eo(o[1])}},htmlBuilder:(r,o)=>{var n=Go(r.html,o,!1);return Et.makeFragment(n)},mathmlBuilder:(r,o)=>nh(r.mathml,o)});var hf=function(o){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(o))return{number:+o,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(o);if(!n)throw new fn("Invalid size: '"+o+"' in \\includegraphics");var a={number:+(n[1]+n[2]),unit:n[3]};if(!G9(a))throw new fn("Invalid unit: '"+a.unit+"' in \\includegraphics.");return a};kn({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(r,o,n)=>{var{parser:a}=r,h={number:0,unit:"em"},p={number:.9,unit:"em"},$={number:0,unit:"em"},_="";if(n[0])for(var y=jr(n[0],"raw").string,E=y.split(","),w=0;w<E.length;w++){var I=E[w].split("=");if(I.length===2){var H=I[1].trim();switch(I[0].trim()){case"alt":_=H;break;case"width":h=hf(H);break;case"height":p=hf(H);break;case"totalheight":$=hf(H);break;default:throw new fn("Invalid key: '"+I[0]+"' in \\includegraphics.")}}}var F=jr(o[0],"url").url;return _===""&&(_=F,_=_.replace(/^.*[\\/]/,""),_=_.substring(0,_.lastIndexOf("."))),a.settings.isTrusted({command:"\\includegraphics",url:F})?{type:"includegraphics",mode:a.mode,alt:_,width:h,height:p,totalheight:$,src:F}:a.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(r,o)=>{var n=io(r.height,o),a=0;r.totalheight.number>0&&(a=io(r.totalheight,o)-n);var h=0;r.width.number>0&&(h=io(r.width,o));var p={height:vn(n+a)};h>0&&(p.width=vn(h)),a>0&&(p.verticalAlign=vn(-a));var $=new QE(r.src,r.alt,p);return $.height=n,$.depth=a,$},mathmlBuilder:(r,o)=>{var n=new hn.MathNode("mglyph",[]);n.setAttribute("alt",r.alt);var a=io(r.height,o),h=0;if(r.totalheight.number>0&&(h=io(r.totalheight,o)-a,n.setAttribute("valign",vn(-h))),n.setAttribute("height",vn(a+h)),r.width.number>0){var p=io(r.width,o);n.setAttribute("width",vn(p))}return n.setAttribute("src",r.src),n}});kn({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(r,o){var{parser:n,funcName:a}=r,h=jr(o[0],"size");if(n.settings.strict){var p=a[1]==="m",$=h.value.unit==="mu";p?($||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" supports only mu units, "+("not "+h.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" works only in math mode")):$&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:h.value}},htmlBuilder(r,o){return Et.makeGlue(r.dimension,o)},mathmlBuilder(r,o){var n=io(r.dimension,o);return new hn.SpaceNode(n)}});kn({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(r,o)=>{var{parser:n,funcName:a}=r,h=o[0];return{type:"lap",mode:n.mode,alignment:a.slice(5),body:h}},htmlBuilder:(r,o)=>{var n;r.alignment==="clap"?(n=Et.makeSpan([],[zi(r.body,o)]),n=Et.makeSpan(["inner"],[n],o)):n=Et.makeSpan(["inner"],[zi(r.body,o)]);var a=Et.makeSpan(["fix"],[]),h=Et.makeSpan([r.alignment],[n,a],o),p=Et.makeSpan(["strut"]);return p.style.height=vn(h.height+h.depth),h.depth&&(p.style.verticalAlign=vn(-h.depth)),h.children.unshift(p),h=Et.makeSpan(["thinbox"],[h],o),Et.makeSpan(["mord","vbox"],[h],o)},mathmlBuilder:(r,o)=>{var n=new hn.MathNode("mpadded",[Ss(r.body,o)]);if(r.alignment!=="rlap"){var a=r.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",a+"width")}return n.setAttribute("width","0px"),n}});kn({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,o){var{funcName:n,parser:a}=r,h=a.mode;a.switchMode("math");var p=n==="\\("?"\\)":"$",$=a.parseExpression(!1,p);return a.expect(p),a.switchMode(h),{type:"styling",mode:a.mode,style:"text",body:$}}});kn({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,o){throw new fn("Mismatched "+r.funcName)}});var y8=(r,o)=>{switch(o.style.size){case fr.DISPLAY.size:return r.display;case fr.TEXT.size:return r.text;case fr.SCRIPT.size:return r.script;case fr.SCRIPTSCRIPT.size:return r.scriptscript;default:return r.text}};kn({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(r,o)=>{var{parser:n}=r;return{type:"mathchoice",mode:n.mode,display:Eo(o[0]),text:Eo(o[1]),script:Eo(o[2]),scriptscript:Eo(o[3])}},htmlBuilder:(r,o)=>{var n=y8(r,o),a=Go(n,o,!1);return Et.makeFragment(a)},mathmlBuilder:(r,o)=>{var n=y8(r,o);return nh(n,o)}});var xg=(r,o,n,a,h,p,$)=>{r=Et.makeSpan([],[r]);var _=n&&Xi.isCharacterBox(n),y,E;if(o){var w=zi(o,a.havingStyle(h.sup()),a);E={elem:w,kern:Math.max(a.fontMetrics().bigOpSpacing1,a.fontMetrics().bigOpSpacing3-w.depth)}}if(n){var I=zi(n,a.havingStyle(h.sub()),a);y={elem:I,kern:Math.max(a.fontMetrics().bigOpSpacing2,a.fontMetrics().bigOpSpacing4-I.height)}}var H;if(E&&y){var F=a.fontMetrics().bigOpSpacing5+y.elem.height+y.elem.depth+y.kern+r.depth+$;H=Et.makeVList({positionType:"bottom",positionData:F,children:[{type:"kern",size:a.fontMetrics().bigOpSpacing5},{type:"elem",elem:y.elem,marginLeft:vn(-p)},{type:"kern",size:y.kern},{type:"elem",elem:r},{type:"kern",size:E.kern},{type:"elem",elem:E.elem,marginLeft:vn(p)},{type:"kern",size:a.fontMetrics().bigOpSpacing5}]},a)}else if(y){var te=r.height-$;H=Et.makeVList({positionType:"top",positionData:te,children:[{type:"kern",size:a.fontMetrics().bigOpSpacing5},{type:"elem",elem:y.elem,marginLeft:vn(-p)},{type:"kern",size:y.kern},{type:"elem",elem:r}]},a)}else if(E){var he=r.depth+$;H=Et.makeVList({positionType:"bottom",positionData:he,children:[{type:"elem",elem:r},{type:"kern",size:E.kern},{type:"elem",elem:E.elem,marginLeft:vn(p)},{type:"kern",size:a.fontMetrics().bigOpSpacing5}]},a)}else return r;var ce=[H];if(y&&p!==0&&!_){var K=Et.makeSpan(["mspace"],[],a);K.style.marginRight=vn(p),ce.unshift(K)}return Et.makeSpan(["mop","op-limits"],ce,a)},Cg=["\\smallint"],A4=(r,o)=>{var n,a,h=!1,p;r.type==="supsub"?(n=r.sup,a=r.sub,p=jr(r.base,"op"),h=!0):p=jr(r,"op");var $=o.style,_=!1;$.size===fr.DISPLAY.size&&p.symbol&&!Cg.includes(p.name)&&(_=!0);var y;if(p.symbol){var E=_?"Size2-Regular":"Size1-Regular",w="";if((p.name==="\\oiint"||p.name==="\\oiiint")&&(w=p.name.slice(1),p.name=w==="oiint"?"\\iint":"\\iiint"),y=Et.makeSymbol(p.name,E,"math",o,["mop","op-symbol",_?"large-op":"small-op"]),w.length>0){var I=y.italic,H=Et.staticSvg(w+"Size"+(_?"2":"1"),o);y=Et.makeVList({positionType:"individualShift",children:[{type:"elem",elem:y,shift:0},{type:"elem",elem:H,shift:_?.08:0}]},o),p.name="\\"+w,y.classes.unshift("mop"),y.italic=I}}else if(p.body){var F=Go(p.body,o,!0);F.length===1&&F[0]instanceof wa?(y=F[0],y.classes[0]="mop"):y=Et.makeSpan(["mop"],F,o)}else{for(var te=[],he=1;he<p.name.length;he++)te.push(Et.mathsym(p.name[he],p.mode,o));y=Et.makeSpan(["mop"],te,o)}var ce=0,K=0;return(y instanceof wa||p.name==="\\oiint"||p.name==="\\oiiint")&&!p.suppressBaseShift&&(ce=(y.height-y.depth)/2-o.fontMetrics().axisHeight,K=y.italic),h?xg(y,n,a,o,$,K,ce):(ce&&(y.style.position="relative",y.style.top=vn(ce)),y)},v3=(r,o)=>{var n;if(r.symbol)n=new z0("mo",[Sa(r.name,r.mode)]),Cg.includes(r.name)&&n.setAttribute("largeop","false");else if(r.body)n=new z0("mo",g0(r.body,o));else{n=new z0("mi",[new Xu(r.name.slice(1))]);var a=new z0("mo",[Sa("","text")]);r.parentIsSupSub?n=new z0("mrow",[n,a]):n=tg([n,a])}return n},eS={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};kn({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(r,o)=>{var{parser:n,funcName:a}=r,h=a;return h.length===1&&(h=eS[h]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:h}},htmlBuilder:A4,mathmlBuilder:v3});kn({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(r,o)=>{var{parser:n}=r,a=o[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Eo(a)}},htmlBuilder:A4,mathmlBuilder:v3});var tS={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};kn({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(r){var{parser:o,funcName:n}=r;return{type:"op",mode:o.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:A4,mathmlBuilder:v3});kn({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(r){var{parser:o,funcName:n}=r;return{type:"op",mode:o.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:A4,mathmlBuilder:v3});kn({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(r){var{parser:o,funcName:n}=r,a=n;return a.length===1&&(a=tS[a]),{type:"op",mode:o.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:A4,mathmlBuilder:v3});var kg=(r,o)=>{var n,a,h=!1,p;r.type==="supsub"?(n=r.sup,a=r.sub,p=jr(r.base,"operatorname"),h=!0):p=jr(r,"operatorname");var $;if(p.body.length>0){for(var _=p.body.map(I=>{var H=I.text;return typeof H=="string"?{type:"textord",mode:I.mode,text:H}:I}),y=Go(_,o.withFont("mathrm"),!0),E=0;E<y.length;E++){var w=y[E];w instanceof wa&&(w.text=w.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}$=Et.makeSpan(["mop"],y,o)}else $=Et.makeSpan(["mop"],[],o);return h?xg($,n,a,o,o.style,0,0):$},nS=(r,o)=>{for(var n=g0(r.body,o.withFont("mathrm")),a=!0,h=0;h<n.length;h++){var p=n[h];if(!(p instanceof hn.SpaceNode))if(p instanceof hn.MathNode)switch(p.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var $=p.children[0];p.children.length===1&&$ instanceof hn.TextNode?$.text=$.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):a=!1;break}default:a=!1}else a=!1}if(a){var _=n.map(w=>w.toText()).join("");n=[new hn.TextNode(_)]}var y=new hn.MathNode("mi",n);y.setAttribute("mathvariant","normal");var E=new hn.MathNode("mo",[Sa("","text")]);return r.parentIsSupSub?new hn.MathNode("mrow",[y,E]):hn.newDocumentFragment([y,E])};kn({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(r,o)=>{var{parser:n,funcName:a}=r,h=o[0];return{type:"operatorname",mode:n.mode,body:Eo(h),alwaysHandleSupSub:a==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:kg,mathmlBuilder:nS});xe("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");ed({type:"ordgroup",htmlBuilder(r,o){return r.semisimple?Et.makeFragment(Go(r.body,o,!1)):Et.makeSpan(["mord"],Go(r.body,o,!0),o)},mathmlBuilder(r,o){return nh(r.body,o,!0)}});kn({type:"overline",names:["\\overline"],props:{numArgs:1},handler(r,o){var{parser:n}=r,a=o[0];return{type:"overline",mode:n.mode,body:a}},htmlBuilder(r,o){var n=zi(r.body,o.havingCrampedStyle()),a=Et.makeLineSpan("overline-line",o),h=o.fontMetrics().defaultRuleThickness,p=Et.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*h},{type:"elem",elem:a},{type:"kern",size:h}]},o);return Et.makeSpan(["mord","overline"],[p],o)},mathmlBuilder(r,o){var n=new hn.MathNode("mo",[new hn.TextNode("")]);n.setAttribute("stretchy","true");var a=new hn.MathNode("mover",[Ss(r.body,o),n]);return a.setAttribute("accent","true"),a}});kn({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(r,o)=>{var{parser:n}=r,a=o[0];return{type:"phantom",mode:n.mode,body:Eo(a)}},htmlBuilder:(r,o)=>{var n=Go(r.body,o.withPhantom(),!1);return Et.makeFragment(n)},mathmlBuilder:(r,o)=>{var n=g0(r.body,o);return new hn.MathNode("mphantom",n)}});kn({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,o)=>{var{parser:n}=r,a=o[0];return{type:"hphantom",mode:n.mode,body:a}},htmlBuilder:(r,o)=>{var n=Et.makeSpan([],[zi(r.body,o.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var a=0;a<n.children.length;a++)n.children[a].height=0,n.children[a].depth=0;return n=Et.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},o),Et.makeSpan(["mord"],[n],o)},mathmlBuilder:(r,o)=>{var n=g0(Eo(r.body),o),a=new hn.MathNode("mphantom",n),h=new hn.MathNode("mpadded",[a]);return h.setAttribute("height","0px"),h.setAttribute("depth","0px"),h}});kn({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,o)=>{var{parser:n}=r,a=o[0];return{type:"vphantom",mode:n.mode,body:a}},htmlBuilder:(r,o)=>{var n=Et.makeSpan(["inner"],[zi(r.body,o.withPhantom())]),a=Et.makeSpan(["fix"],[]);return Et.makeSpan(["mord","rlap"],[n,a],o)},mathmlBuilder:(r,o)=>{var n=g0(Eo(r.body),o),a=new hn.MathNode("mphantom",n),h=new hn.MathNode("mpadded",[a]);return h.setAttribute("width","0px"),h}});kn({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(r,o){var{parser:n}=r,a=jr(o[0],"size").value,h=o[1];return{type:"raisebox",mode:n.mode,dy:a,body:h}},htmlBuilder(r,o){var n=zi(r.body,o),a=io(r.dy,o);return Et.makeVList({positionType:"shift",positionData:-a,children:[{type:"elem",elem:n}]},o)},mathmlBuilder(r,o){var n=new hn.MathNode("mpadded",[Ss(r.body,o)]),a=r.dy.number+r.dy.unit;return n.setAttribute("voffset",a),n}});kn({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(r){var{parser:o}=r;return{type:"internal",mode:o.mode}}});kn({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(r,o,n){var{parser:a}=r,h=n[0],p=jr(o[0],"size"),$=jr(o[1],"size");return{type:"rule",mode:a.mode,shift:h&&jr(h,"size").value,width:p.value,height:$.value}},htmlBuilder(r,o){var n=Et.makeSpan(["mord","rule"],[],o),a=io(r.width,o),h=io(r.height,o),p=r.shift?io(r.shift,o):0;return n.style.borderRightWidth=vn(a),n.style.borderTopWidth=vn(h),n.style.bottom=vn(p),n.width=a,n.height=h+p,n.depth=-p,n.maxFontSize=h*1.125*o.sizeMultiplier,n},mathmlBuilder(r,o){var n=io(r.width,o),a=io(r.height,o),h=r.shift?io(r.shift,o):0,p=o.color&&o.getColor()||"black",$=new hn.MathNode("mspace");$.setAttribute("mathbackground",p),$.setAttribute("width",vn(n)),$.setAttribute("height",vn(a));var _=new hn.MathNode("mpadded",[$]);return h>=0?_.setAttribute("height",vn(h)):(_.setAttribute("height",vn(h)),_.setAttribute("depth",vn(-h))),_.setAttribute("voffset",vn(h)),_}});function Ig(r,o,n){for(var a=Go(r,o,!1),h=o.sizeMultiplier/n.sizeMultiplier,p=0;p<a.length;p++){var $=a[p].classes.indexOf("sizing");$<0?Array.prototype.push.apply(a[p].classes,o.sizingClasses(n)):a[p].classes[$+1]==="reset-size"+o.size&&(a[p].classes[$+1]="reset-size"+n.size),a[p].height*=h,a[p].depth*=h}return Et.makeFragment(a)}var _8=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],rS=(r,o)=>{var n=o.havingSize(r.size);return Ig(r.body,n,o)};kn({type:"sizing",names:_8,props:{numArgs:0,allowedInText:!0},handler:(r,o)=>{var{breakOnTokenText:n,funcName:a,parser:h}=r,p=h.parseExpression(!1,n);return{type:"sizing",mode:h.mode,size:_8.indexOf(a)+1,body:p}},htmlBuilder:rS,mathmlBuilder:(r,o)=>{var n=o.havingSize(r.size),a=g0(r.body,n),h=new hn.MathNode("mstyle",a);return h.setAttribute("mathsize",vn(n.sizeMultiplier)),h}});kn({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(r,o,n)=>{var{parser:a}=r,h=!1,p=!1,$=n[0]&&jr(n[0],"ordgroup");if($)for(var _="",y=0;y<$.body.length;++y){var E=$.body[y];if(_=E.text,_==="t")h=!0;else if(_==="b")p=!0;else{h=!1,p=!1;break}}else h=!0,p=!0;var w=o[0];return{type:"smash",mode:a.mode,body:w,smashHeight:h,smashDepth:p}},htmlBuilder:(r,o)=>{var n=Et.makeSpan([],[zi(r.body,o)]);if(!r.smashHeight&&!r.smashDepth)return n;if(r.smashHeight&&(n.height=0,n.children))for(var a=0;a<n.children.length;a++)n.children[a].height=0;if(r.smashDepth&&(n.depth=0,n.children))for(var h=0;h<n.children.length;h++)n.children[h].depth=0;var p=Et.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},o);return Et.makeSpan(["mord"],[p],o)},mathmlBuilder:(r,o)=>{var n=new hn.MathNode("mpadded",[Ss(r.body,o)]);return r.smashHeight&&n.setAttribute("height","0px"),r.smashDepth&&n.setAttribute("depth","0px"),n}});kn({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(r,o,n){var{parser:a}=r,h=n[0],p=o[0];return{type:"sqrt",mode:a.mode,body:p,index:h}},htmlBuilder(r,o){var n=zi(r.body,o.havingCrampedStyle());n.height===0&&(n.height=o.fontMetrics().xHeight),n=Et.wrapFragment(n,o);var a=o.fontMetrics(),h=a.defaultRuleThickness,p=h;o.style.id<fr.TEXT.id&&(p=o.fontMetrics().xHeight);var $=h+p/4,_=n.height+n.depth+$+h,{span:y,ruleWidth:E,advanceWidth:w}=Vc.sqrtImage(_,o),I=y.height-E;I>n.height+n.depth+$&&($=($+I-n.height-n.depth)/2);var H=y.height-n.height-$-E;n.style.paddingLeft=vn(w);var F=Et.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+H)},{type:"elem",elem:y},{type:"kern",size:E}]},o);if(r.index){var te=o.havingStyle(fr.SCRIPTSCRIPT),he=zi(r.index,te,o),ce=.6*(F.height-F.depth),K=Et.makeVList({positionType:"shift",positionData:-ce,children:[{type:"elem",elem:he}]},o),se=Et.makeSpan(["root"],[K]);return Et.makeSpan(["mord","sqrt"],[se,F],o)}else return Et.makeSpan(["mord","sqrt"],[F],o)},mathmlBuilder(r,o){var{body:n,index:a}=r;return a?new hn.MathNode("mroot",[Ss(n,o),Ss(a,o)]):new hn.MathNode("msqrt",[Ss(n,o)])}});var E8={display:fr.DISPLAY,text:fr.TEXT,script:fr.SCRIPT,scriptscript:fr.SCRIPTSCRIPT};kn({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r,o){var{breakOnTokenText:n,funcName:a,parser:h}=r,p=h.parseExpression(!0,n),$=a.slice(1,a.length-5);return{type:"styling",mode:h.mode,style:$,body:p}},htmlBuilder(r,o){var n=E8[r.style],a=o.havingStyle(n).withFont("");return Ig(r.body,a,o)},mathmlBuilder(r,o){var n=E8[r.style],a=o.havingStyle(n),h=g0(r.body,a),p=new hn.MathNode("mstyle",h),$={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},_=$[r.style];return p.setAttribute("scriptlevel",_[0]),p.setAttribute("displaystyle",_[1]),p}});var iS=function(o,n){var a=o.base;if(a)if(a.type==="op"){var h=a.limits&&(n.style.size===fr.DISPLAY.size||a.alwaysHandleSupSub);return h?A4:null}else if(a.type==="operatorname"){var p=a.alwaysHandleSupSub&&(n.style.size===fr.DISPLAY.size||a.limits);return p?kg:null}else{if(a.type==="accent")return Xi.isCharacterBox(a.base)?f7:null;if(a.type==="horizBrace"){var $=!o.sub;return $===a.isOver?Sg:null}else return null}else return null};ed({type:"supsub",htmlBuilder(r,o){var n=iS(r,o);if(n)return n(r,o);var{base:a,sup:h,sub:p}=r,$=zi(a,o),_,y,E=o.fontMetrics(),w=0,I=0,H=a&&Xi.isCharacterBox(a);if(h){var F=o.havingStyle(o.style.sup());_=zi(h,F,o),H||(w=$.height-F.fontMetrics().supDrop*F.sizeMultiplier/o.sizeMultiplier)}if(p){var te=o.havingStyle(o.style.sub());y=zi(p,te,o),H||(I=$.depth+te.fontMetrics().subDrop*te.sizeMultiplier/o.sizeMultiplier)}var he;o.style===fr.DISPLAY?he=E.sup1:o.style.cramped?he=E.sup3:he=E.sup2;var ce=o.sizeMultiplier,K=vn(.5/E.ptPerEm/ce),se=null;if(y){var we=r.base&&r.base.type==="op"&&r.base.name&&(r.base.name==="\\oiint"||r.base.name==="\\oiiint");($ instanceof wa||we)&&(se=vn(-$.italic))}var Oe;if(_&&y){w=Math.max(w,he,_.depth+.25*E.xHeight),I=Math.max(I,E.sub2);var De=E.defaultRuleThickness,Se=4*De;if(w-_.depth-(y.height-I)<Se){I=Se-(w-_.depth)+y.height;var je=.8*E.xHeight-(w-_.depth);je>0&&(w+=je,I-=je)}var at=[{type:"elem",elem:y,shift:I,marginRight:K,marginLeft:se},{type:"elem",elem:_,shift:-w,marginRight:K}];Oe=Et.makeVList({positionType:"individualShift",children:at},o)}else if(y){I=Math.max(I,E.sub1,y.height-.8*E.xHeight);var Ze=[{type:"elem",elem:y,marginLeft:se,marginRight:K}];Oe=Et.makeVList({positionType:"shift",positionData:I,children:Ze},o)}else if(_)w=Math.max(w,he,_.depth+.25*E.xHeight),Oe=Et.makeVList({positionType:"shift",positionData:-w,children:[{type:"elem",elem:_,marginRight:K}]},o);else throw new Error("supsub must have either sup or sub.");var Ke=Rf($,"right")||"mord";return Et.makeSpan([Ke],[$,Et.makeSpan(["msupsub"],[Oe])],o)},mathmlBuilder(r,o){var n=!1,a,h;r.base&&r.base.type==="horizBrace"&&(h=!!r.sup,h===r.base.isOver&&(n=!0,a=r.base.isOver)),r.base&&(r.base.type==="op"||r.base.type==="operatorname")&&(r.base.parentIsSupSub=!0);var p=[Ss(r.base,o)];r.sub&&p.push(Ss(r.sub,o)),r.sup&&p.push(Ss(r.sup,o));var $;if(n)$=a?"mover":"munder";else if(r.sub)if(r.sup){var E=r.base;E&&E.type==="op"&&E.limits&&o.style===fr.DISPLAY||E&&E.type==="operatorname"&&E.alwaysHandleSupSub&&(o.style===fr.DISPLAY||E.limits)?$="munderover":$="msubsup"}else{var y=r.base;y&&y.type==="op"&&y.limits&&(o.style===fr.DISPLAY||y.alwaysHandleSupSub)||y&&y.type==="operatorname"&&y.alwaysHandleSupSub&&(y.limits||o.style===fr.DISPLAY)?$="munder":$="msub"}else{var _=r.base;_&&_.type==="op"&&_.limits&&(o.style===fr.DISPLAY||_.alwaysHandleSupSub)||_&&_.type==="operatorname"&&_.alwaysHandleSupSub&&(_.limits||o.style===fr.DISPLAY)?$="mover":$="msup"}return new hn.MathNode($,p)}});ed({type:"atom",htmlBuilder(r,o){return Et.mathsym(r.text,r.mode,o,["m"+r.family])},mathmlBuilder(r,o){var n=new hn.MathNode("mo",[Sa(r.text,r.mode)]);if(r.family==="bin"){var a=h7(r,o);a==="bold-italic"&&n.setAttribute("mathvariant",a)}else r.family==="punct"?n.setAttribute("separator","true"):(r.family==="open"||r.family==="close")&&n.setAttribute("stretchy","false");return n}});var Ag={mi:"italic",mn:"normal",mtext:"normal"};ed({type:"mathord",htmlBuilder(r,o){return Et.makeOrd(r,o,"mathord")},mathmlBuilder(r,o){var n=new hn.MathNode("mi",[Sa(r.text,r.mode,o)]),a=h7(r,o)||"italic";return a!==Ag[n.type]&&n.setAttribute("mathvariant",a),n}});ed({type:"textord",htmlBuilder(r,o){return Et.makeOrd(r,o,"textord")},mathmlBuilder(r,o){var n=Sa(r.text,r.mode,o),a=h7(r,o)||"normal",h;return r.mode==="text"?h=new hn.MathNode("mtext",[n]):/[0-9]/.test(r.text)?h=new hn.MathNode("mn",[n]):r.text==="\\prime"?h=new hn.MathNode("mo",[n]):h=new hn.MathNode("mi",[n]),a!==Ag[h.type]&&h.setAttribute("mathvariant",a),h}});var df={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},ff={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ed({type:"spacing",htmlBuilder(r,o){if(ff.hasOwnProperty(r.text)){var n=ff[r.text].className||"";if(r.mode==="text"){var a=Et.makeOrd(r,o,"textord");return a.classes.push(n),a}else return Et.makeSpan(["mspace",n],[Et.mathsym(r.text,r.mode,o)],o)}else{if(df.hasOwnProperty(r.text))return Et.makeSpan(["mspace",df[r.text]],[],o);throw new fn('Unknown type of space "'+r.text+'"')}},mathmlBuilder(r,o){var n;if(ff.hasOwnProperty(r.text))n=new hn.MathNode("mtext",[new hn.TextNode("")]);else{if(df.hasOwnProperty(r.text))return new hn.MathNode("mspace");throw new fn('Unknown type of space "'+r.text+'"')}return n}});var w8=()=>{var r=new hn.MathNode("mtd",[]);return r.setAttribute("width","50%"),r};ed({type:"tag",mathmlBuilder(r,o){var n=new hn.MathNode("mtable",[new hn.MathNode("mtr",[w8(),new hn.MathNode("mtd",[nh(r.body,o)]),w8(),new hn.MathNode("mtd",[nh(r.tag,o)])])]);return n.setAttribute("width","100%"),n}});var S8={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},x8={"\\textbf":"textbf","\\textmd":"textmd"},sS={"\\textit":"textit","\\textup":"textup"},C8=(r,o)=>{var n=r.font;if(n){if(S8[n])return o.withTextFontFamily(S8[n]);if(x8[n])return o.withTextFontWeight(x8[n]);if(n==="\\emph")return o.fontShape==="textit"?o.withTextFontShape("textup"):o.withTextFontShape("textit")}else return o;return o.withTextFontShape(sS[n])};kn({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(r,o){var{parser:n,funcName:a}=r,h=o[0];return{type:"text",mode:n.mode,body:Eo(h),font:a}},htmlBuilder(r,o){var n=C8(r,o),a=Go(r.body,n,!0);return Et.makeSpan(["mord","text"],a,n)},mathmlBuilder(r,o){var n=C8(r,o);return nh(r.body,n)}});kn({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(r,o){var{parser:n}=r;return{type:"underline",mode:n.mode,body:o[0]}},htmlBuilder(r,o){var n=zi(r.body,o),a=Et.makeLineSpan("underline-line",o),h=o.fontMetrics().defaultRuleThickness,p=Et.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:h},{type:"elem",elem:a},{type:"kern",size:3*h},{type:"elem",elem:n}]},o);return Et.makeSpan(["mord","underline"],[p],o)},mathmlBuilder(r,o){var n=new hn.MathNode("mo",[new hn.TextNode("")]);n.setAttribute("stretchy","true");var a=new hn.MathNode("munder",[Ss(r.body,o),n]);return a.setAttribute("accentunder","true"),a}});kn({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(r,o){var{parser:n}=r;return{type:"vcenter",mode:n.mode,body:o[0]}},htmlBuilder(r,o){var n=zi(r.body,o),a=o.fontMetrics().axisHeight,h=.5*(n.height-a-(n.depth+a));return Et.makeVList({positionType:"shift",positionData:h,children:[{type:"elem",elem:n}]},o)},mathmlBuilder(r,o){return new hn.MathNode("mpadded",[Ss(r.body,o)],["vcenter"])}});kn({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(r,o,n){throw new fn("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(r,o){for(var n=k8(r),a=[],h=o.havingStyle(o.style.text()),p=0;p<n.length;p++){var $=n[p];$==="~"&&($="\\textasciitilde"),a.push(Et.makeSymbol($,"Typewriter-Regular",r.mode,h,["mord","texttt"]))}return Et.makeSpan(["mord","text"].concat(h.sizingClasses(o)),Et.tryCombineChars(a),h)},mathmlBuilder(r,o){var n=new hn.TextNode(k8(r)),a=new hn.MathNode("mtext",[n]);return a.setAttribute("mathvariant","monospace"),a}});var k8=r=>r.body.replace(/ /g,r.star?"":""),Q1=Q9,Ng=`[ \r
	]`,oS="\\\\[a-zA-Z@]+",lS="\\\\[^\uD800-\uDFFF]",aS="("+oS+")"+Ng+"*",uS=`\\\\(
|[ \r	]+
?)[ \r	]*`,Pf="[-]",cS=new RegExp(Pf+"+$"),hS="("+Ng+"+)|"+(uS+"|")+"([!-\\[\\]---]"+(Pf+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Pf+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+aS)+("|"+lS+")");class I8{constructor(o,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=o,this.settings=n,this.tokenRegex=new RegExp(hS,"g"),this.catcodes={"%":14,"~":13}}setCatcode(o,n){this.catcodes[o]=n}lex(){var o=this.input,n=this.tokenRegex.lastIndex;if(n===o.length)return new V0("EOF",new p0(this,n,n));var a=this.tokenRegex.exec(o);if(a===null||a.index!==n)throw new fn("Unexpected character: '"+o[n]+"'",new V0(o[n],new p0(this,n,n+1)));var h=a[6]||a[3]||(a[2]?"\\ ":" ");if(this.catcodes[h]===14){var p=o.indexOf(`
`,this.tokenRegex.lastIndex);return p===-1?(this.tokenRegex.lastIndex=o.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=p+1,this.lex()}return new V0(h,new p0(this,n,this.tokenRegex.lastIndex))}}class dS{constructor(o,n){o===void 0&&(o={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=o,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new fn("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var o=this.undefStack.pop();for(var n in o)o.hasOwnProperty(n)&&(o[n]==null?delete this.current[n]:this.current[n]=o[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(o){return this.current.hasOwnProperty(o)||this.builtins.hasOwnProperty(o)}get(o){return this.current.hasOwnProperty(o)?this.current[o]:this.builtins[o]}set(o,n,a){if(a===void 0&&(a=!1),a){for(var h=0;h<this.undefStack.length;h++)delete this.undefStack[h][o];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][o]=n)}else{var p=this.undefStack[this.undefStack.length-1];p&&!p.hasOwnProperty(o)&&(p[o]=this.current[o])}n==null?delete this.current[o]:this.current[o]=n}}var fS=Tg;xe("\\noexpand",function(r){var o=r.popToken();return r.isExpandable(o.text)&&(o.noexpand=!0,o.treatAsRelax=!0),{tokens:[o],numArgs:0}});xe("\\expandafter",function(r){var o=r.popToken();return r.expandOnce(!0),{tokens:[o],numArgs:0}});xe("\\@firstoftwo",function(r){var o=r.consumeArgs(2);return{tokens:o[0],numArgs:0}});xe("\\@secondoftwo",function(r){var o=r.consumeArgs(2);return{tokens:o[1],numArgs:0}});xe("\\@ifnextchar",function(r){var o=r.consumeArgs(3);r.consumeSpaces();var n=r.future();return o[0].length===1&&o[0][0].text===n.text?{tokens:o[1],numArgs:0}:{tokens:o[2],numArgs:0}});xe("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");xe("\\TextOrMath",function(r){var o=r.consumeArgs(2);return r.mode==="text"?{tokens:o[0],numArgs:0}:{tokens:o[1],numArgs:0}});var A8={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};xe("\\char",function(r){var o=r.popToken(),n,a="";if(o.text==="'")n=8,o=r.popToken();else if(o.text==='"')n=16,o=r.popToken();else if(o.text==="`")if(o=r.popToken(),o.text[0]==="\\")a=o.text.charCodeAt(1);else{if(o.text==="EOF")throw new fn("\\char` missing argument");a=o.text.charCodeAt(0)}else n=10;if(n){if(a=A8[o.text],a==null||a>=n)throw new fn("Invalid base-"+n+" digit "+o.text);for(var h;(h=A8[r.future().text])!=null&&h<n;)a*=n,a+=h,r.popToken()}return"\\@char{"+a+"}"});var y7=(r,o,n,a)=>{var h=r.consumeArg().tokens;if(h.length!==1)throw new fn("\\newcommand's first argument must be a macro name");var p=h[0].text,$=r.isDefined(p);if($&&!o)throw new fn("\\newcommand{"+p+"} attempting to redefine "+(p+"; use \\renewcommand"));if(!$&&!n)throw new fn("\\renewcommand{"+p+"} when command "+p+" does not yet exist; use \\newcommand");var _=0;if(h=r.consumeArg().tokens,h.length===1&&h[0].text==="["){for(var y="",E=r.expandNextToken();E.text!=="]"&&E.text!=="EOF";)y+=E.text,E=r.expandNextToken();if(!y.match(/^\s*[0-9]+\s*$/))throw new fn("Invalid number of arguments: "+y);_=parseInt(y),h=r.consumeArg().tokens}return $&&a||r.macros.set(p,{tokens:h,numArgs:_}),""};xe("\\newcommand",r=>y7(r,!1,!0,!1));xe("\\renewcommand",r=>y7(r,!0,!1,!1));xe("\\providecommand",r=>y7(r,!0,!0,!0));xe("\\message",r=>{var o=r.consumeArgs(1)[0];return console.log(o.reverse().map(n=>n.text).join("")),""});xe("\\errmessage",r=>{var o=r.consumeArgs(1)[0];return console.error(o.reverse().map(n=>n.text).join("")),""});xe("\\show",r=>{var o=r.popToken(),n=o.text;return console.log(o,r.macros.get(n),Q1[n],Os.math[n],Os.text[n]),""});xe("\\bgroup","{");xe("\\egroup","}");xe("~","\\nobreakspace");xe("\\lq","`");xe("\\rq","'");xe("\\aa","\\r a");xe("\\AA","\\r A");xe("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");xe("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");xe("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");xe("","\\mathscr{B}");xe("","\\mathscr{E}");xe("","\\mathscr{F}");xe("","\\mathscr{H}");xe("","\\mathscr{I}");xe("","\\mathscr{L}");xe("","\\mathscr{M}");xe("","\\mathscr{R}");xe("","\\mathfrak{C}");xe("","\\mathfrak{H}");xe("","\\mathfrak{Z}");xe("\\Bbbk","\\Bbb{k}");xe("","\\cdotp");xe("\\llap","\\mathllap{\\textrm{#1}}");xe("\\rlap","\\mathrlap{\\textrm{#1}}");xe("\\clap","\\mathclap{\\textrm{#1}}");xe("\\mathstrut","\\vphantom{(}");xe("\\underbar","\\underline{\\text{#1}}");xe("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');xe("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");xe("\\ne","\\neq");xe("","\\neq");xe("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");xe("","\\notin");xe("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");xe("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");xe("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");xe("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");xe("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");xe("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");xe("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");xe("","\\perp");xe("","\\mathclose{!\\mkern-0.8mu!}");xe("","\\notni");xe("","\\ulcorner");xe("","\\urcorner");xe("","\\llcorner");xe("","\\lrcorner");xe("","\\copyright");xe("","\\textregistered");xe("","\\textregistered");xe("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');xe("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');xe("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');xe("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');xe("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");xe("","\\vdots");xe("\\varGamma","\\mathit{\\Gamma}");xe("\\varDelta","\\mathit{\\Delta}");xe("\\varTheta","\\mathit{\\Theta}");xe("\\varLambda","\\mathit{\\Lambda}");xe("\\varXi","\\mathit{\\Xi}");xe("\\varPi","\\mathit{\\Pi}");xe("\\varSigma","\\mathit{\\Sigma}");xe("\\varUpsilon","\\mathit{\\Upsilon}");xe("\\varPhi","\\mathit{\\Phi}");xe("\\varPsi","\\mathit{\\Psi}");xe("\\varOmega","\\mathit{\\Omega}");xe("\\substack","\\begin{subarray}{c}#1\\end{subarray}");xe("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");xe("\\boxed","\\fbox{$\\displaystyle{#1}$}");xe("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");xe("\\implies","\\DOTSB\\;\\Longrightarrow\\;");xe("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");xe("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");xe("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var N8={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};xe("\\dots",function(r){var o="\\dotso",n=r.expandAfterFuture().text;return n in N8?o=N8[n]:(n.slice(0,4)==="\\not"||n in Os.math&&["bin","rel"].includes(Os.math[n].group))&&(o="\\dotsb"),o});var _7={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};xe("\\dotso",function(r){var o=r.future().text;return o in _7?"\\ldots\\,":"\\ldots"});xe("\\dotsc",function(r){var o=r.future().text;return o in _7&&o!==","?"\\ldots\\,":"\\ldots"});xe("\\cdots",function(r){var o=r.future().text;return o in _7?"\\@cdots\\,":"\\@cdots"});xe("\\dotsb","\\cdots");xe("\\dotsm","\\cdots");xe("\\dotsi","\\!\\cdots");xe("\\dotsx","\\ldots\\,");xe("\\DOTSI","\\relax");xe("\\DOTSB","\\relax");xe("\\DOTSX","\\relax");xe("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");xe("\\,","\\tmspace+{3mu}{.1667em}");xe("\\thinspace","\\,");xe("\\>","\\mskip{4mu}");xe("\\:","\\tmspace+{4mu}{.2222em}");xe("\\medspace","\\:");xe("\\;","\\tmspace+{5mu}{.2777em}");xe("\\thickspace","\\;");xe("\\!","\\tmspace-{3mu}{.1667em}");xe("\\negthinspace","\\!");xe("\\negmedspace","\\tmspace-{4mu}{.2222em}");xe("\\negthickspace","\\tmspace-{5mu}{.277em}");xe("\\enspace","\\kern.5em ");xe("\\enskip","\\hskip.5em\\relax");xe("\\quad","\\hskip1em\\relax");xe("\\qquad","\\hskip2em\\relax");xe("\\tag","\\@ifstar\\tag@literal\\tag@paren");xe("\\tag@paren","\\tag@literal{({#1})}");xe("\\tag@literal",r=>{if(r.macros.get("\\df@tag"))throw new fn("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});xe("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");xe("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");xe("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");xe("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");xe("\\newline","\\\\\\relax");xe("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Mg=vn(qu["Main-Regular"][84][1]-.7*qu["Main-Regular"][65][1]);xe("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Mg+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");xe("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Mg+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");xe("\\hspace","\\@ifstar\\@hspacer\\@hspace");xe("\\@hspace","\\hskip #1\\relax");xe("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");xe("\\ordinarycolon",":");xe("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");xe("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');xe("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');xe("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');xe("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');xe("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');xe("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');xe("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');xe("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');xe("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');xe("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');xe("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');xe("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');xe("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');xe("","\\dblcolon");xe("","\\eqcolon");xe("","\\coloneqq");xe("","\\eqqcolon");xe("","\\Coloneqq");xe("\\ratio","\\vcentcolon");xe("\\coloncolon","\\dblcolon");xe("\\colonequals","\\coloneqq");xe("\\coloncolonequals","\\Coloneqq");xe("\\equalscolon","\\eqqcolon");xe("\\equalscoloncolon","\\Eqqcolon");xe("\\colonminus","\\coloneq");xe("\\coloncolonminus","\\Coloneq");xe("\\minuscolon","\\eqcolon");xe("\\minuscoloncolon","\\Eqcolon");xe("\\coloncolonapprox","\\Colonapprox");xe("\\coloncolonsim","\\Colonsim");xe("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");xe("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");xe("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");xe("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");xe("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");xe("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");xe("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");xe("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");xe("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");xe("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");xe("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");xe("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");xe("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");xe("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");xe("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");xe("\\ngeqq","\\html@mathml{\\@ngeqq}{}");xe("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");xe("\\nleqq","\\html@mathml{\\@nleqq}{}");xe("\\nleqslant","\\html@mathml{\\@nleqslant}{}");xe("\\nshortmid","\\html@mathml{\\@nshortmid}{}");xe("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");xe("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");xe("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");xe("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");xe("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");xe("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");xe("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");xe("\\imath","\\html@mathml{\\@imath}{}");xe("\\jmath","\\html@mathml{\\@jmath}{}");xe("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");xe("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");xe("","\\llbracket");xe("","\\rrbracket");xe("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");xe("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");xe("","\\lBrace");xe("","\\rBrace");xe("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");xe("","\\minuso");xe("\\darr","\\downarrow");xe("\\dArr","\\Downarrow");xe("\\Darr","\\Downarrow");xe("\\lang","\\langle");xe("\\rang","\\rangle");xe("\\uarr","\\uparrow");xe("\\uArr","\\Uparrow");xe("\\Uarr","\\Uparrow");xe("\\N","\\mathbb{N}");xe("\\R","\\mathbb{R}");xe("\\Z","\\mathbb{Z}");xe("\\alef","\\aleph");xe("\\alefsym","\\aleph");xe("\\Alpha","\\mathrm{A}");xe("\\Beta","\\mathrm{B}");xe("\\bull","\\bullet");xe("\\Chi","\\mathrm{X}");xe("\\clubs","\\clubsuit");xe("\\cnums","\\mathbb{C}");xe("\\Complex","\\mathbb{C}");xe("\\Dagger","\\ddagger");xe("\\diamonds","\\diamondsuit");xe("\\empty","\\emptyset");xe("\\Epsilon","\\mathrm{E}");xe("\\Eta","\\mathrm{H}");xe("\\exist","\\exists");xe("\\harr","\\leftrightarrow");xe("\\hArr","\\Leftrightarrow");xe("\\Harr","\\Leftrightarrow");xe("\\hearts","\\heartsuit");xe("\\image","\\Im");xe("\\infin","\\infty");xe("\\Iota","\\mathrm{I}");xe("\\isin","\\in");xe("\\Kappa","\\mathrm{K}");xe("\\larr","\\leftarrow");xe("\\lArr","\\Leftarrow");xe("\\Larr","\\Leftarrow");xe("\\lrarr","\\leftrightarrow");xe("\\lrArr","\\Leftrightarrow");xe("\\Lrarr","\\Leftrightarrow");xe("\\Mu","\\mathrm{M}");xe("\\natnums","\\mathbb{N}");xe("\\Nu","\\mathrm{N}");xe("\\Omicron","\\mathrm{O}");xe("\\plusmn","\\pm");xe("\\rarr","\\rightarrow");xe("\\rArr","\\Rightarrow");xe("\\Rarr","\\Rightarrow");xe("\\real","\\Re");xe("\\reals","\\mathbb{R}");xe("\\Reals","\\mathbb{R}");xe("\\Rho","\\mathrm{P}");xe("\\sdot","\\cdot");xe("\\sect","\\S");xe("\\spades","\\spadesuit");xe("\\sub","\\subset");xe("\\sube","\\subseteq");xe("\\supe","\\supseteq");xe("\\Tau","\\mathrm{T}");xe("\\thetasym","\\vartheta");xe("\\weierp","\\wp");xe("\\Zeta","\\mathrm{Z}");xe("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");xe("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");xe("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");xe("\\bra","\\mathinner{\\langle{#1}|}");xe("\\ket","\\mathinner{|{#1}\\rangle}");xe("\\braket","\\mathinner{\\langle{#1}\\rangle}");xe("\\Bra","\\left\\langle#1\\right|");xe("\\Ket","\\left|#1\\right\\rangle");var Og=r=>o=>{var n=o.consumeArg().tokens,a=o.consumeArg().tokens,h=o.consumeArg().tokens,p=o.consumeArg().tokens,$=o.macros.get("|"),_=o.macros.get("\\|");o.macros.beginGroup();var y=I=>H=>{r&&(H.macros.set("|",$),h.length&&H.macros.set("\\|",_));var F=I;if(!I&&h.length){var te=H.future();te.text==="|"&&(H.popToken(),F=!0)}return{tokens:F?h:a,numArgs:0}};o.macros.set("|",y(!1)),h.length&&o.macros.set("\\|",y(!0));var E=o.consumeArg().tokens,w=o.expandTokens([...p,...E,...n]);return o.macros.endGroup(),{tokens:w.reverse(),numArgs:0}};xe("\\bra@ket",Og(!1));xe("\\bra@set",Og(!0));xe("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");xe("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");xe("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");xe("\\angln","{\\angl n}");xe("\\blue","\\textcolor{##6495ed}{#1}");xe("\\orange","\\textcolor{##ffa500}{#1}");xe("\\pink","\\textcolor{##ff00af}{#1}");xe("\\red","\\textcolor{##df0030}{#1}");xe("\\green","\\textcolor{##28ae7b}{#1}");xe("\\gray","\\textcolor{gray}{#1}");xe("\\purple","\\textcolor{##9d38bd}{#1}");xe("\\blueA","\\textcolor{##ccfaff}{#1}");xe("\\blueB","\\textcolor{##80f6ff}{#1}");xe("\\blueC","\\textcolor{##63d9ea}{#1}");xe("\\blueD","\\textcolor{##11accd}{#1}");xe("\\blueE","\\textcolor{##0c7f99}{#1}");xe("\\tealA","\\textcolor{##94fff5}{#1}");xe("\\tealB","\\textcolor{##26edd5}{#1}");xe("\\tealC","\\textcolor{##01d1c1}{#1}");xe("\\tealD","\\textcolor{##01a995}{#1}");xe("\\tealE","\\textcolor{##208170}{#1}");xe("\\greenA","\\textcolor{##b6ffb0}{#1}");xe("\\greenB","\\textcolor{##8af281}{#1}");xe("\\greenC","\\textcolor{##74cf70}{#1}");xe("\\greenD","\\textcolor{##1fab54}{#1}");xe("\\greenE","\\textcolor{##0d923f}{#1}");xe("\\goldA","\\textcolor{##ffd0a9}{#1}");xe("\\goldB","\\textcolor{##ffbb71}{#1}");xe("\\goldC","\\textcolor{##ff9c39}{#1}");xe("\\goldD","\\textcolor{##e07d10}{#1}");xe("\\goldE","\\textcolor{##a75a05}{#1}");xe("\\redA","\\textcolor{##fca9a9}{#1}");xe("\\redB","\\textcolor{##ff8482}{#1}");xe("\\redC","\\textcolor{##f9685d}{#1}");xe("\\redD","\\textcolor{##e84d39}{#1}");xe("\\redE","\\textcolor{##bc2612}{#1}");xe("\\maroonA","\\textcolor{##ffbde0}{#1}");xe("\\maroonB","\\textcolor{##ff92c6}{#1}");xe("\\maroonC","\\textcolor{##ed5fa6}{#1}");xe("\\maroonD","\\textcolor{##ca337c}{#1}");xe("\\maroonE","\\textcolor{##9e034e}{#1}");xe("\\purpleA","\\textcolor{##ddd7ff}{#1}");xe("\\purpleB","\\textcolor{##c6b9fc}{#1}");xe("\\purpleC","\\textcolor{##aa87ff}{#1}");xe("\\purpleD","\\textcolor{##7854ab}{#1}");xe("\\purpleE","\\textcolor{##543b78}{#1}");xe("\\mintA","\\textcolor{##f5f9e8}{#1}");xe("\\mintB","\\textcolor{##edf2df}{#1}");xe("\\mintC","\\textcolor{##e0e5cc}{#1}");xe("\\grayA","\\textcolor{##f6f7f7}{#1}");xe("\\grayB","\\textcolor{##f0f1f2}{#1}");xe("\\grayC","\\textcolor{##e3e5e6}{#1}");xe("\\grayD","\\textcolor{##d6d8da}{#1}");xe("\\grayE","\\textcolor{##babec2}{#1}");xe("\\grayF","\\textcolor{##888d93}{#1}");xe("\\grayG","\\textcolor{##626569}{#1}");xe("\\grayH","\\textcolor{##3b3e40}{#1}");xe("\\grayI","\\textcolor{##21242c}{#1}");xe("\\kaBlue","\\textcolor{##314453}{#1}");xe("\\kaGreen","\\textcolor{##71B307}{#1}");var Rg={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class pS{constructor(o,n,a){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(o),this.macros=new dS(fS,n.macros),this.mode=a,this.stack=[]}feed(o){this.lexer=new I8(o,this.settings)}switchMode(o){this.mode=o}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(o){this.stack.push(o)}pushTokens(o){this.stack.push(...o)}scanArgument(o){var n,a,h;if(o){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:h,end:a}=this.consumeArg(["]"])}else({tokens:h,start:n,end:a}=this.consumeArg());return this.pushToken(new V0("EOF",a.loc)),this.pushTokens(h),new V0("",p0.range(n,a))}consumeSpaces(){for(;;){var o=this.future();if(o.text===" ")this.stack.pop();else break}}consumeArg(o){var n=[],a=o&&o.length>0;a||this.consumeSpaces();var h=this.future(),p,$=0,_=0;do{if(p=this.popToken(),n.push(p),p.text==="{")++$;else if(p.text==="}"){if(--$,$===-1)throw new fn("Extra }",p)}else if(p.text==="EOF")throw new fn("Unexpected end of input in a macro argument, expected '"+(o&&a?o[_]:"}")+"'",p);if(o&&a)if(($===0||$===1&&o[_]==="{")&&p.text===o[_]){if(++_,_===o.length){n.splice(-_,_);break}}else _=0}while($!==0||a);return h.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:h,end:p}}consumeArgs(o,n){if(n){if(n.length!==o+1)throw new fn("The length of delimiters doesn't match the number of args!");for(var a=n[0],h=0;h<a.length;h++){var p=this.popToken();if(a[h]!==p.text)throw new fn("Use of the macro doesn't match its definition",p)}}for(var $=[],_=0;_<o;_++)$.push(this.consumeArg(n&&n[_+1]).tokens);return $}countExpansion(o){if(this.expansionCount+=o,this.expansionCount>this.settings.maxExpand)throw new fn("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(o){var n=this.popToken(),a=n.text,h=n.noexpand?null:this._getExpansion(a);if(h==null||o&&h.unexpandable){if(o&&h==null&&a[0]==="\\"&&!this.isDefined(a))throw new fn("Undefined control sequence: "+a);return this.pushToken(n),!1}this.countExpansion(1);var p=h.tokens,$=this.consumeArgs(h.numArgs,h.delimiters);if(h.numArgs){p=p.slice();for(var _=p.length-1;_>=0;--_){var y=p[_];if(y.text==="#"){if(_===0)throw new fn("Incomplete placeholder at end of macro body",y);if(y=p[--_],y.text==="#")p.splice(_+1,1);else if(/^[1-9]$/.test(y.text))p.splice(_,2,...$[+y.text-1]);else throw new fn("Not a valid argument number",y)}}}return this.pushTokens(p),p.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var o=this.stack.pop();return o.treatAsRelax&&(o.text="\\relax"),o}throw new Error}expandMacro(o){return this.macros.has(o)?this.expandTokens([new V0(o)]):void 0}expandTokens(o){var n=[],a=this.stack.length;for(this.pushTokens(o);this.stack.length>a;)if(this.expandOnce(!0)===!1){var h=this.stack.pop();h.treatAsRelax&&(h.noexpand=!1,h.treatAsRelax=!1),n.push(h)}return this.countExpansion(n.length),n}expandMacroAsText(o){var n=this.expandMacro(o);return n&&n.map(a=>a.text).join("")}_getExpansion(o){var n=this.macros.get(o);if(n==null)return n;if(o.length===1){var a=this.lexer.catcodes[o];if(a!=null&&a!==13)return}var h=typeof n=="function"?n(this):n;if(typeof h=="string"){var p=0;if(h.indexOf("#")!==-1)for(var $=h.replace(/##/g,"");$.indexOf("#"+(p+1))!==-1;)++p;for(var _=new I8(h,this.settings),y=[],E=_.lex();E.text!=="EOF";)y.push(E),E=_.lex();y.reverse();var w={tokens:y,numArgs:p};return w}return h}isDefined(o){return this.macros.has(o)||Q1.hasOwnProperty(o)||Os.math.hasOwnProperty(o)||Os.text.hasOwnProperty(o)||Rg.hasOwnProperty(o)}isExpandable(o){var n=this.macros.get(o);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Q1.hasOwnProperty(o)&&!Q1[o].primitive}}var M8=/^[]/,f5=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),pf={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},O8={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class j5{constructor(o,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new pS(o,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(o,n){if(n===void 0&&(n=!0),this.fetch().text!==o)throw new fn("Expected '"+o+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(o){this.mode=o,this.gullet.switchMode(o)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var o=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),o}finally{this.gullet.endGroups()}}subparse(o){var n=this.nextToken;this.consume(),this.gullet.pushToken(new V0("}")),this.gullet.pushTokens(o);var a=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,a}parseExpression(o,n){for(var a=[];;){this.mode==="math"&&this.consumeSpaces();var h=this.fetch();if(j5.endOfExpression.indexOf(h.text)!==-1||n&&h.text===n||o&&Q1[h.text]&&Q1[h.text].infix)break;var p=this.parseAtom(n);if(p){if(p.type==="internal")continue}else break;a.push(p)}return this.mode==="text"&&this.formLigatures(a),this.handleInfixNodes(a)}handleInfixNodes(o){for(var n=-1,a,h=0;h<o.length;h++)if(o[h].type==="infix"){if(n!==-1)throw new fn("only one infix operator per group",o[h].token);n=h,a=o[h].replaceWith}if(n!==-1&&a){var p,$,_=o.slice(0,n),y=o.slice(n+1);_.length===1&&_[0].type==="ordgroup"?p=_[0]:p={type:"ordgroup",mode:this.mode,body:_},y.length===1&&y[0].type==="ordgroup"?$=y[0]:$={type:"ordgroup",mode:this.mode,body:y};var E;return a==="\\\\abovefrac"?E=this.callFunction(a,[p,o[n],$],[]):E=this.callFunction(a,[p,$],[]),[E]}else return o}handleSupSubscript(o){var n=this.fetch(),a=n.text;this.consume(),this.consumeSpaces();var h;do{var p;h=this.parseGroup(o)}while(((p=h)==null?void 0:p.type)==="internal");if(!h)throw new fn("Expected group after '"+a+"'",n);return h}formatUnsupportedCmd(o){for(var n=[],a=0;a<o.length;a++)n.push({type:"textord",mode:"text",text:o[a]});var h={type:"text",mode:this.mode,body:n},p={type:"color",mode:this.mode,color:this.settings.errorColor,body:[h]};return p}parseAtom(o){var n=this.parseGroup("atom",o);if(n?.type==="internal"||this.mode==="text")return n;for(var a,h;;){this.consumeSpaces();var p=this.fetch();if(p.text==="\\limits"||p.text==="\\nolimits"){if(n&&n.type==="op"){var $=p.text==="\\limits";n.limits=$,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=p.text==="\\limits");else throw new fn("Limit controls must follow a math operator",p);this.consume()}else if(p.text==="^"){if(a)throw new fn("Double superscript",p);a=this.handleSupSubscript("superscript")}else if(p.text==="_"){if(h)throw new fn("Double subscript",p);h=this.handleSupSubscript("subscript")}else if(p.text==="'"){if(a)throw new fn("Double superscript",p);var _={type:"textord",mode:this.mode,text:"\\prime"},y=[_];for(this.consume();this.fetch().text==="'";)y.push(_),this.consume();this.fetch().text==="^"&&y.push(this.handleSupSubscript("superscript")),a={type:"ordgroup",mode:this.mode,body:y}}else if(f5[p.text]){var E=M8.test(p.text),w=[];for(w.push(new V0(f5[p.text])),this.consume();;){var I=this.fetch().text;if(!f5[I]||M8.test(I)!==E)break;w.unshift(new V0(f5[I])),this.consume()}var H=this.subparse(w);E?h={type:"ordgroup",mode:"math",body:H}:a={type:"ordgroup",mode:"math",body:H}}else break}return a||h?{type:"supsub",mode:this.mode,base:n,sup:a,sub:h}:n}parseFunction(o,n){var a=this.fetch(),h=a.text,p=Q1[h];if(!p)return null;if(this.consume(),n&&n!=="atom"&&!p.allowedInArgument)throw new fn("Got function '"+h+"' with no arguments"+(n?" as "+n:""),a);if(this.mode==="text"&&!p.allowedInText)throw new fn("Can't use function '"+h+"' in text mode",a);if(this.mode==="math"&&p.allowedInMath===!1)throw new fn("Can't use function '"+h+"' in math mode",a);var{args:$,optArgs:_}=this.parseArguments(h,p);return this.callFunction(h,$,_,a,o)}callFunction(o,n,a,h,p){var $={funcName:o,parser:this,token:h,breakOnTokenText:p},_=Q1[o];if(_&&_.handler)return _.handler($,n,a);throw new fn("No function handler for "+o)}parseArguments(o,n){var a=n.numArgs+n.numOptionalArgs;if(a===0)return{args:[],optArgs:[]};for(var h=[],p=[],$=0;$<a;$++){var _=n.argTypes&&n.argTypes[$],y=$<n.numOptionalArgs;(n.primitive&&_==null||n.type==="sqrt"&&$===1&&p[0]==null)&&(_="primitive");var E=this.parseGroupOfType("argument to '"+o+"'",_,y);if(y)p.push(E);else if(E!=null)h.push(E);else throw new fn("Null argument, please report this as a bug")}return{args:h,optArgs:p}}parseGroupOfType(o,n,a){switch(n){case"color":return this.parseColorGroup(a);case"size":return this.parseSizeGroup(a);case"url":return this.parseUrlGroup(a);case"math":case"text":return this.parseArgumentGroup(a,n);case"hbox":{var h=this.parseArgumentGroup(a,"text");return h!=null?{type:"styling",mode:h.mode,body:[h],style:"text"}:null}case"raw":{var p=this.parseStringGroup("raw",a);return p!=null?{type:"raw",mode:"text",string:p.text}:null}case"primitive":{if(a)throw new fn("A primitive argument cannot be optional");var $=this.parseGroup(o);if($==null)throw new fn("Expected group as "+o,this.fetch());return $}case"original":case null:case void 0:return this.parseArgumentGroup(a);default:throw new fn("Unknown group type as "+o,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(o,n){var a=this.gullet.scanArgument(n);if(a==null)return null;for(var h="",p;(p=this.fetch()).text!=="EOF";)h+=p.text,this.consume();return this.consume(),a.text=h,a}parseRegexGroup(o,n){for(var a=this.fetch(),h=a,p="",$;($=this.fetch()).text!=="EOF"&&o.test(p+$.text);)h=$,p+=h.text,this.consume();if(p==="")throw new fn("Invalid "+n+": '"+a.text+"'",a);return a.range(h,p)}parseColorGroup(o){var n=this.parseStringGroup("color",o);if(n==null)return null;var a=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!a)throw new fn("Invalid color: '"+n.text+"'",n);var h=a[0];return/^[0-9a-f]{6}$/i.test(h)&&(h="#"+h),{type:"color-token",mode:this.mode,color:h}}parseSizeGroup(o){var n,a=!1;if(this.gullet.consumeSpaces(),!o&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",o),!n)return null;!o&&n.text.length===0&&(n.text="0pt",a=!0);var h=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!h)throw new fn("Invalid size: '"+n.text+"'",n);var p={number:+(h[1]+h[2]),unit:h[3]};if(!G9(p))throw new fn("Invalid unit: '"+p.unit+"'",n);return{type:"size",mode:this.mode,value:p,isBlank:a}}parseUrlGroup(o){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",o);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var a=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:a}}parseArgumentGroup(o,n){var a=this.gullet.scanArgument(o);if(a==null)return null;var h=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var p=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var $={type:"ordgroup",mode:this.mode,loc:a.loc,body:p};return n&&this.switchMode(h),$}parseGroup(o,n){var a=this.fetch(),h=a.text,p;if(h==="{"||h==="\\begingroup"){this.consume();var $=h==="{"?"}":"\\endgroup";this.gullet.beginGroup();var _=this.parseExpression(!1,$),y=this.fetch();this.expect($),this.gullet.endGroup(),p={type:"ordgroup",mode:this.mode,loc:p0.range(a,y),body:_,semisimple:h==="\\begingroup"||void 0}}else if(p=this.parseFunction(n,o)||this.parseSymbol(),p==null&&h[0]==="\\"&&!Rg.hasOwnProperty(h)){if(this.settings.throwOnError)throw new fn("Undefined control sequence: "+h,a);p=this.formatUnsupportedCmd(h),this.consume()}return p}formLigatures(o){for(var n=o.length-1,a=0;a<n;++a){var h=o[a],p=h.text;p==="-"&&o[a+1].text==="-"&&(a+1<n&&o[a+2].text==="-"?(o.splice(a,3,{type:"textord",mode:"text",loc:p0.range(h,o[a+2]),text:"---"}),n-=2):(o.splice(a,2,{type:"textord",mode:"text",loc:p0.range(h,o[a+1]),text:"--"}),n-=1)),(p==="'"||p==="`")&&o[a+1].text===p&&(o.splice(a,2,{type:"textord",mode:"text",loc:p0.range(h,o[a+1]),text:p+p}),n-=1)}}parseSymbol(){var o=this.fetch(),n=o.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var a=n.slice(5),h=a.charAt(0)==="*";if(h&&(a=a.slice(1)),a.length<2||a.charAt(0)!==a.slice(-1))throw new fn(`\\verb assertion failed --
                    please report what input caused this bug`);return a=a.slice(1,-1),{type:"verb",mode:"text",body:a,star:h}}O8.hasOwnProperty(n[0])&&!Os[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',o),n=O8[n[0]]+n.slice(1));var p=cS.exec(n);p&&(n=n.substring(0,p.index),n==="i"?n="":n==="j"&&(n=""));var $;if(Os[this.mode][n]){this.settings.strict&&this.mode==="math"&&Of.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',o);var _=Os[this.mode][n].group,y=p0.range(o),E;if(nw.hasOwnProperty(_)){var w=_;E={type:"atom",mode:this.mode,family:w,loc:y,text:n}}else E={type:_,mode:this.mode,loc:y,text:n};$=E}else if(n.charCodeAt(0)>=128)this.settings.strict&&(V9(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',o):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),o)),$={type:"textord",mode:"text",loc:p0.range(o),text:n};else return null;if(this.consume(),p)for(var I=0;I<p[0].length;I++){var H=p[0][I];if(!pf[H])throw new fn("Unknown accent ' "+H+"'",o);var F=pf[H][this.mode]||pf[H].text;if(!F)throw new fn("Accent "+H+" unsupported in "+this.mode+" mode",o);$={type:"accent",mode:this.mode,loc:p0.range(o),label:F,isStretchy:!1,isShifty:!0,base:$}}return $}}j5.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var E7=function(o,n){if(!(typeof o=="string"||o instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var a=new j5(o,n);delete a.gullet.macros.current["\\df@tag"];var h=a.parse();if(delete a.gullet.macros.current["\\current@color"],delete a.gullet.macros.current["\\color"],a.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new fn("\\tag works only in display equations");h=[{type:"tag",mode:"text",body:h,tag:a.subparse([new V0("\\df@tag")])}]}return h},Lg=function(o,n,a){n.textContent="";var h=w7(o,a).toNode();n.appendChild(h)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Lg=function(){throw new fn("KaTeX doesn't work in quirks mode.")});var mS=function(o,n){var a=w7(o,n).toMarkup();return a},gS=function(o,n){var a=new s7(n);return E7(o,a)},Dg=function(o,n,a){if(a.throwOnError||!(o instanceof fn))throw o;var h=Et.makeSpan(["katex-error"],[new wa(n)]);return h.setAttribute("title",o.toString()),h.setAttribute("style","color:"+a.errorColor),h},w7=function(o,n){var a=new s7(n);try{var h=E7(o,a);return Sw(h,o,a)}catch(p){return Dg(p,o,a)}},$S=function(o,n){var a=new s7(n);try{var h=E7(o,a);return xw(h,o,a)}catch(p){return Dg(p,o,a)}},bS="0.16.25",vS={Span:b3,Anchor:a7,SymbolNode:wa,SvgNode:Gc,PathNode:th,LineNode:Mf},R8={version:bS,render:Lg,renderToString:mS,ParseError:fn,SETTINGS_SCHEMA:w5,__parse:gS,__renderToDomTree:w7,__renderToHTMLTree:$S,__setFontMetrics:jE,__defineSymbol:z,__defineFunction:kn,__defineMacro:xe,__domTree:vS};const TS={};function yS(r){const o=this,n=r||TS,a=o.data(),h=a.micromarkExtensions||(a.micromarkExtensions=[]),p=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),$=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);h.push(TE(n)),p.push(dE()),$.push(fE(n))}const L8=/[#.]/g;function _S(r,o){const n=r||"",a={};let h=0,p,$;for(;h<n.length;){L8.lastIndex=h;const _=L8.exec(n),y=n.slice(h,_?_.index:n.length);y&&(p?p==="#"?a.id=y:Array.isArray(a.className)?a.className.push(y):a.className=[y]:$=y,h+=y.length),_&&(p=_[0],h++)}return{type:"element",tagName:$||o||"div",properties:a,children:[]}}function Bg(r,o,n){const a=n?xS(n):void 0;function h(p,$,..._){let y;if(p==null){y={type:"root",children:[]};const E=$;_.unshift(E)}else{y=_S(p,o);const E=y.tagName.toLowerCase(),w=a?a.get(E):void 0;if(y.tagName=w||E,ES($))_.unshift($);else for(const[I,H]of Object.entries($))wS(r,y.properties,I,H)}for(const E of _)Ff(y.children,E);return y.type==="element"&&y.tagName==="template"&&(y.content={type:"root",children:y.children},y.children=[]),y}return h}function ES(r){if(r===null||typeof r!="object"||Array.isArray(r))return!0;if(typeof r.type!="string")return!1;const o=r,n=Object.keys(r);for(const a of n){const h=o[a];if(h&&typeof h=="object"){if(!Array.isArray(h))return!0;const p=h;for(const $ of p)if(typeof $!="number"&&typeof $!="string")return!0}}return!!("children"in r&&Array.isArray(r.children))}function wS(r,o,n,a){const h=h9(r,n);let p;if(a!=null){if(typeof a=="number"){if(Number.isNaN(a))return;p=a}else typeof a=="boolean"?p=a:typeof a=="string"?h.spaceSeparated?p=Tm(a):h.commaSeparated?p=mm(a):h.commaOrSpaceSeparated?p=Tm(mm(a).join(" ")):p=D8(h,h.property,a):Array.isArray(a)?p=[...a]:p=h.property==="style"?SS(a):String(a);if(Array.isArray(p)){const $=[];for(const _ of p)$.push(D8(h,h.property,_));p=$}h.property==="className"&&Array.isArray(o.className)&&(p=o.className.concat(p)),o[h.property]=p}}function Ff(r,o){if(o!=null)if(typeof o=="number"||typeof o=="string")r.push({type:"text",value:String(o)});else if(Array.isArray(o))for(const n of o)Ff(r,n);else if(typeof o=="object"&&"type"in o)o.type==="root"?Ff(r,o.children):r.push(o);else throw new Error("Expected node, nodes, or string, got `"+o+"`")}function D8(r,o,n){if(typeof n=="string"){if(r.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((r.boolean||r.overloadedBoolean)&&(n===""||o3(n)===o3(o)))return!0}return n}function SS(r){const o=[];for(const[n,a]of Object.entries(r))o.push([n,a].join(": "));return o.join("; ")}function xS(r){const o=new Map;for(const n of r)o.set(n.toLowerCase(),n);return o}const CS=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],kS=Bg(d9,"div"),IS=Bg(B5,"g",CS),mf={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function AS(r,o){return Pg(r,{})||{type:"root",children:[]}}function Pg(r,o){const n=NS(r,o);return n&&o.afterTransform&&o.afterTransform(r,n),n}function NS(r,o){switch(r.nodeType){case 1:return LS(r,o);case 3:return OS(r);case 8:return RS(r);case 9:return B8(r,o);case 10:return MS();case 11:return B8(r,o);default:return}}function B8(r,o){return{type:"root",children:Fg(r,o)}}function MS(){return{type:"doctype"}}function OS(r){return{type:"text",value:r.nodeValue||""}}function RS(r){return{type:"comment",value:r.nodeValue||""}}function LS(r,o){const n=r.namespaceURI,a=n===mf.svg?IS:kS,h=n===mf.html?r.tagName.toLowerCase():r.tagName,p=n===mf.html&&h==="template"?r.content:r,$=r.getAttributeNames(),_={};let y=-1;for(;++y<$.length;)_[$[y]]=r.getAttribute($[y])||"";return a(h,_,Fg(p,o))}function Fg(r,o){const n=r.childNodes,a=[];let h=-1;for(;++h<n.length;){const p=Pg(n[h],o);p!==void 0&&a.push(p)}return a}new DOMParser;function DS(r,o){const n=BS(r);return AS(n)}function BS(r){const o=document.createElement("template");return o.innerHTML=r,o.content}const P8=(function(r,o,n){const a=m3(n);if(!r||!r.type||!r.children)throw new Error("Expected parent node");if(typeof o=="number"){if(o<0||o===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(o=r.children.indexOf(o),o<0)throw new Error("Expected child node or index");for(;++o<r.children.length;)if(a(r.children[o],o,r))return r.children[o]}),td=(function(r){if(r==null)return US;if(typeof r=="string")return FS(r);if(typeof r=="object")return PS(r);if(typeof r=="function")return S7(r);throw new Error("Expected function, string, or array as `test`")});function PS(r){const o=[];let n=-1;for(;++n<r.length;)o[n]=td(r[n]);return S7(a);function a(...h){let p=-1;for(;++p<o.length;)if(o[p].apply(this,h))return!0;return!1}}function FS(r){return S7(o);function o(n){return n.tagName===r}}function S7(r){return o;function o(n,a,h){return!!(zS(n)&&r.call(this,n,typeof a=="number"?a:void 0,h||void 0))}}function US(r){return!!(r&&typeof r=="object"&&"type"in r&&r.type==="element"&&"tagName"in r&&typeof r.tagName=="string")}function zS(r){return r!==null&&typeof r=="object"&&"type"in r&&"tagName"in r}const F8=/\n/g,U8=/[\t ]+/g,Uf=td("br"),z8=td(YS),HS=td("p"),H8=td("tr"),VS=td(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",jS,KS]),Ug=td(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function GS(r,o){const n=o||{},a="children"in r?r.children:[],h=Ug(r),p=Vg(r,{whitespace:n.whitespace||"normal"}),$=[];(r.type==="text"||r.type==="comment")&&$.push(...Hg(r,{breakBefore:!0,breakAfter:!0}));let _=-1;for(;++_<a.length;)$.push(...zg(a[_],r,{whitespace:p,breakBefore:_?void 0:h,breakAfter:_<a.length-1?Uf(a[_+1]):h}));const y=[];let E;for(_=-1;++_<$.length;){const w=$[_];typeof w=="number"?E!==void 0&&w>E&&(E=w):w&&(E!==void 0&&E>-1&&y.push(`
`.repeat(E)||" "),E=-1,y.push(w))}return y.join("")}function zg(r,o,n){return r.type==="element"?WS(r,o,n):r.type==="text"?n.whitespace==="normal"?Hg(r,n):qS(r):[]}function WS(r,o,n){const a=Vg(r,n),h=r.children||[];let p=-1,$=[];if(VS(r))return $;let _,y;for(Uf(r)||H8(r)&&P8(o,r,H8)?y=`
`:HS(r)?(_=2,y=2):Ug(r)&&(_=1,y=1);++p<h.length;)$=$.concat(zg(h[p],r,{whitespace:a,breakBefore:p?void 0:_,breakAfter:p<h.length-1?Uf(h[p+1]):y}));return z8(r)&&P8(o,r,z8)&&$.push("	"),_&&$.unshift(_),y&&$.push(y),$}function Hg(r,o){const n=String(r.value),a=[],h=[];let p=0;for(;p<=n.length;){F8.lastIndex=p;const y=F8.exec(n),E=y&&"index"in y?y.index:n.length;a.push(XS(n.slice(p,E).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),p===0?o.breakBefore:!0,E===n.length?o.breakAfter:!0)),p=E+1}let $=-1,_;for(;++$<a.length;)a[$].charCodeAt(a[$].length-1)===8203||$<a.length-1&&a[$+1].charCodeAt(0)===8203?(h.push(a[$]),_=void 0):a[$]?(typeof _=="number"&&h.push(_),h.push(a[$]),_=0):($===0||$===a.length-1)&&h.push(0);return h}function qS(r){return[String(r.value)]}function XS(r,o,n){const a=[];let h=0,p;for(;h<r.length;){U8.lastIndex=h;const $=U8.exec(r);p=$?$.index:r.length,!h&&!p&&$&&!o&&a.push(""),h!==p&&a.push(r.slice(h,p)),h=$?p+$[0].length:p}return h!==p&&!n&&a.push(""),a.join(" ")}function Vg(r,o){if(r.type==="element"){const n=r.properties||{};switch(r.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":o.whitespace;case"textarea":return"pre-wrap"}}return o.whitespace}function jS(r){return!!(r.properties||{}).hidden}function YS(r){return r.tagName==="td"||r.tagName==="th"}function KS(r){return r.tagName==="dialog"&&!(r.properties||{}).open}const JS={},ZS=[];function QS(r){const o=r||JS;return function(n,a){n7(n,"element",function(h,p){const $=Array.isArray(h.properties.className)?h.properties.className:ZS,_=$.includes("language-math"),y=$.includes("math-display"),E=$.includes("math-inline");let w=y;if(!_&&!y&&!E)return;let I=p[p.length-1],H=h;if(h.tagName==="code"&&_&&I&&I.type==="element"&&I.tagName==="pre"&&(H=I,I=p[p.length-2],w=!0),!I)return;const F=GS(H,{whitespace:"pre"});let te;try{te=R8.renderToString(F,{...o,displayMode:w,throwOnError:!0})}catch(ce){const K=ce,se=K.name.toLowerCase();a.message("Could not render math with KaTeX",{ancestors:[...p,h],cause:K,place:h.position,ruleId:se,source:"rehype-katex"});try{te=R8.renderToString(F,{...o,displayMode:w,strict:"ignore",throwOnError:!1})}catch{te=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(o.errorColor||"#cc0000"),title:String(ce)},children:[{type:"text",value:F}]}]}}typeof te=="string"&&(te=DS(te).children);const he=I.children.indexOf(H);return I.children.splice(he,1,...te),F9})}}function V8(r,o){const n=String(r);if(typeof o!="string")throw new TypeError("Expected character");let a=0,h=n.indexOf(o);for(;h!==-1;)a++,h=n.indexOf(o,h+o.length);return a}function ex(r){if(typeof r!="string")throw new TypeError("Expected a string");return r.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function tx(r,o,n){const h=m3((n||{}).ignore||[]),p=nx(o);let $=-1;for(;++$<p.length;)n7(r,"text",_);function _(E,w){let I=-1,H;for(;++I<w.length;){const F=w[I],te=H?H.children:void 0;if(h(F,te?te.indexOf(F):void 0,H))return;H=F}if(H)return y(E,w)}function y(E,w){const I=w[w.length-1],H=p[$][0],F=p[$][1];let te=0;const ce=I.children.indexOf(E);let K=!1,se=[];H.lastIndex=0;let we=H.exec(E.value);for(;we;){const Oe=we.index,De={index:we.index,input:we.input,stack:[...w,E]};let Se=F(...we,De);if(typeof Se=="string"&&(Se=Se.length>0?{type:"text",value:Se}:void 0),Se===!1?H.lastIndex=Oe+1:(te!==Oe&&se.push({type:"text",value:E.value.slice(te,Oe)}),Array.isArray(Se)?se.push(...Se):Se&&se.push(Se),te=Oe+we[0].length,K=!0),!H.global)break;we=H.exec(E.value)}return K?(te<E.value.length&&se.push({type:"text",value:E.value.slice(te)}),I.children.splice(ce,1,...se)):se=[E],ce+se.length}}function nx(r){const o=[];if(!Array.isArray(r))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!r[0]||Array.isArray(r[0])?r:[r];let a=-1;for(;++a<n.length;){const h=n[a];o.push([rx(h[0]),ix(h[1])])}return o}function rx(r){return typeof r=="string"?new RegExp(ex(r),"g"):r}function ix(r){return typeof r=="function"?r:function(){return r}}const gf="phrasing",$f=["autolink","link","image","label"];function sx(){return{transforms:[dx],enter:{literalAutolink:lx,literalAutolinkEmail:bf,literalAutolinkHttp:bf,literalAutolinkWww:bf},exit:{literalAutolink:hx,literalAutolinkEmail:cx,literalAutolinkHttp:ax,literalAutolinkWww:ux}}}function ox(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:gf,notInConstruct:$f},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:gf,notInConstruct:$f},{character:":",before:"[ps]",after:"\\/",inConstruct:gf,notInConstruct:$f}]}}function lx(r){this.enter({type:"link",title:null,url:"",children:[]},r)}function bf(r){this.config.enter.autolinkProtocol.call(this,r)}function ax(r){this.config.exit.autolinkProtocol.call(this,r)}function ux(r){this.config.exit.data.call(this,r);const o=this.stack[this.stack.length-1];o.type,o.url="http://"+this.sliceSerialize(r)}function cx(r){this.config.exit.autolinkEmail.call(this,r)}function hx(r){this.exit(r)}function dx(r){tx(r,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,fx],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),px]],{ignore:["link","linkReference"]})}function fx(r,o,n,a,h){let p="";if(!Gg(h)||(/^w/i.test(o)&&(n=o+n,o="",p="http://"),!mx(n)))return!1;const $=gx(n+a);if(!$[0])return!1;const _={type:"link",title:null,url:p+o+$[0],children:[{type:"text",value:o+$[0]}]};return $[1]?[_,{type:"text",value:$[1]}]:_}function px(r,o,n,a){return!Gg(a,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+o+"@"+n,children:[{type:"text",value:o+"@"+n}]}}function mx(r){const o=r.split(".");return!(o.length<2||o[o.length-1]&&(/_/.test(o[o.length-1])||!/[a-zA-Z\d]/.test(o[o.length-1]))||o[o.length-2]&&(/_/.test(o[o.length-2])||!/[a-zA-Z\d]/.test(o[o.length-2])))}function gx(r){const o=/[!"&'),.:;<>?\]}]+$/.exec(r);if(!o)return[r,void 0];r=r.slice(0,o.index);let n=o[0],a=n.indexOf(")");const h=V8(r,"(");let p=V8(r,")");for(;a!==-1&&h>p;)r+=n.slice(0,a+1),n=n.slice(a+1),a=n.indexOf(")"),p++;return[r,n]}function Gg(r,o){const n=r.input.charCodeAt(r.index-1);return(r.index===0||Zh(n)||P5(n))&&(!o||n!==47)}Wg.peek=Sx;function $x(){this.buffer()}function bx(r){this.enter({type:"footnoteReference",identifier:"",label:""},r)}function vx(){this.buffer()}function Tx(r){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},r)}function yx(r){const o=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=iu(this.sliceSerialize(r)).toLowerCase(),n.label=o}function _x(r){this.exit(r)}function Ex(r){const o=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=iu(this.sliceSerialize(r)).toLowerCase(),n.label=o}function wx(r){this.exit(r)}function Sx(){return"["}function Wg(r,o,n,a){const h=n.createTracker(a);let p=h.move("[^");const $=n.enter("footnoteReference"),_=n.enter("reference");return p+=h.move(n.safe(n.associationId(r),{after:"]",before:p})),_(),$(),p+=h.move("]"),p}function xx(){return{enter:{gfmFootnoteCallString:$x,gfmFootnoteCall:bx,gfmFootnoteDefinitionLabelString:vx,gfmFootnoteDefinition:Tx},exit:{gfmFootnoteCallString:yx,gfmFootnoteCall:_x,gfmFootnoteDefinitionLabelString:Ex,gfmFootnoteDefinition:wx}}}function Cx(r){let o=!1;return r&&r.firstLineBlank&&(o=!0),{handlers:{footnoteDefinition:n,footnoteReference:Wg},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(a,h,p,$){const _=p.createTracker($);let y=_.move("[^");const E=p.enter("footnoteDefinition"),w=p.enter("label");return y+=_.move(p.safe(p.associationId(a),{before:y,after:"]"})),w(),y+=_.move("]:"),a.children&&a.children.length>0&&(_.shift(4),y+=_.move((o?`
`:" ")+p.indentLines(p.containerFlow(a,_.current()),o?qg:kx))),E(),y}}function kx(r,o,n){return o===0?r:qg(r,o,n)}function qg(r,o,n){return(n?"":"    ")+r}const Ix=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Xg.peek=Rx;function Ax(){return{canContainEols:["delete"],enter:{strikethrough:Mx},exit:{strikethrough:Ox}}}function Nx(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Ix}],handlers:{delete:Xg}}}function Mx(r){this.enter({type:"delete",children:[]},r)}function Ox(r){this.exit(r)}function Xg(r,o,n,a){const h=n.createTracker(a),p=n.enter("strikethrough");let $=h.move("~~");return $+=n.containerPhrasing(r,{...h.current(),before:$,after:"~"}),$+=h.move("~~"),p(),$}function Rx(){return"~"}function Lx(r){return r.length}function Dx(r,o){const n=o||{},a=(n.align||[]).concat(),h=n.stringLength||Lx,p=[],$=[],_=[],y=[];let E=0,w=-1;for(;++w<r.length;){const he=[],ce=[];let K=-1;for(r[w].length>E&&(E=r[w].length);++K<r[w].length;){const se=Bx(r[w][K]);if(n.alignDelimiters!==!1){const we=h(se);ce[K]=we,(y[K]===void 0||we>y[K])&&(y[K]=we)}he.push(se)}$[w]=he,_[w]=ce}let I=-1;if(typeof a=="object"&&"length"in a)for(;++I<E;)p[I]=G8(a[I]);else{const he=G8(a);for(;++I<E;)p[I]=he}I=-1;const H=[],F=[];for(;++I<E;){const he=p[I];let ce="",K="";he===99?(ce=":",K=":"):he===108?ce=":":he===114&&(K=":");let se=n.alignDelimiters===!1?1:Math.max(1,y[I]-ce.length-K.length);const we=ce+"-".repeat(se)+K;n.alignDelimiters!==!1&&(se=ce.length+se+K.length,se>y[I]&&(y[I]=se),F[I]=se),H[I]=we}$.splice(1,0,H),_.splice(1,0,F),w=-1;const te=[];for(;++w<$.length;){const he=$[w],ce=_[w];I=-1;const K=[];for(;++I<E;){const se=he[I]||"";let we="",Oe="";if(n.alignDelimiters!==!1){const De=y[I]-(ce[I]||0),Se=p[I];Se===114?we=" ".repeat(De):Se===99?De%2?(we=" ".repeat(De/2+.5),Oe=" ".repeat(De/2-.5)):(we=" ".repeat(De/2),Oe=we):Oe=" ".repeat(De)}n.delimiterStart!==!1&&!I&&K.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&se==="")&&(n.delimiterStart!==!1||I)&&K.push(" "),n.alignDelimiters!==!1&&K.push(we),K.push(se),n.alignDelimiters!==!1&&K.push(Oe),n.padding!==!1&&K.push(" "),(n.delimiterEnd!==!1||I!==E-1)&&K.push("|")}te.push(n.delimiterEnd===!1?K.join("").replace(/ +$/,""):K.join(""))}return te.join(`
`)}function Bx(r){return r==null?"":String(r)}function G8(r){const o=typeof r=="string"?r.codePointAt(0):0;return o===67||o===99?99:o===76||o===108?108:o===82||o===114?114:0}function Px(r,o,n,a){const h=n.enter("blockquote"),p=n.createTracker(a);p.move("> "),p.shift(2);const $=n.indentLines(n.containerFlow(r,p.current()),Fx);return h(),$}function Fx(r,o,n){return">"+(n?"":" ")+r}function Ux(r,o){return W8(r,o.inConstruct,!0)&&!W8(r,o.notInConstruct,!1)}function W8(r,o,n){if(typeof o=="string"&&(o=[o]),!o||o.length===0)return n;let a=-1;for(;++a<o.length;)if(r.includes(o[a]))return!0;return!1}function q8(r,o,n,a){let h=-1;for(;++h<n.unsafe.length;)if(n.unsafe[h].character===`
`&&Ux(n.stack,n.unsafe[h]))return/[ \t]/.test(a.before)?"":" ";return`\\
`}function zx(r,o){return!!(o.options.fences===!1&&r.value&&!r.lang&&/[^ \r\n]/.test(r.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(r.value))}function Hx(r){const o=r.options.fence||"`";if(o!=="`"&&o!=="~")throw new Error("Cannot serialize code with `"+o+"` for `options.fence`, expected `` ` `` or `~`");return o}function Vx(r,o,n,a){const h=Hx(n),p=r.value||"",$=h==="`"?"GraveAccent":"Tilde";if(zx(r,n)){const I=n.enter("codeIndented"),H=n.indentLines(p,Gx);return I(),H}const _=n.createTracker(a),y=h.repeat(Math.max(z9(p,h)+1,3)),E=n.enter("codeFenced");let w=_.move(y);if(r.lang){const I=n.enter(`codeFencedLang${$}`);w+=_.move(n.safe(r.lang,{before:w,after:" ",encode:["`"],..._.current()})),I()}if(r.lang&&r.meta){const I=n.enter(`codeFencedMeta${$}`);w+=_.move(" "),w+=_.move(n.safe(r.meta,{before:w,after:`
`,encode:["`"],..._.current()})),I()}return w+=_.move(`
`),p&&(w+=_.move(p+`
`)),w+=_.move(y),E(),w}function Gx(r,o,n){return(n?"":"    ")+r}function x7(r){const o=r.options.quote||'"';if(o!=='"'&&o!=="'")throw new Error("Cannot serialize title with `"+o+"` for `options.quote`, expected `\"`, or `'`");return o}function Wx(r,o,n,a){const h=x7(n),p=h==='"'?"Quote":"Apostrophe",$=n.enter("definition");let _=n.enter("label");const y=n.createTracker(a);let E=y.move("[");return E+=y.move(n.safe(n.associationId(r),{before:E,after:"]",...y.current()})),E+=y.move("]: "),_(),!r.url||/[\0- \u007F]/.test(r.url)?(_=n.enter("destinationLiteral"),E+=y.move("<"),E+=y.move(n.safe(r.url,{before:E,after:">",...y.current()})),E+=y.move(">")):(_=n.enter("destinationRaw"),E+=y.move(n.safe(r.url,{before:E,after:r.title?" ":`
`,...y.current()}))),_(),r.title&&(_=n.enter(`title${p}`),E+=y.move(" "+h),E+=y.move(n.safe(r.title,{before:E,after:h,...y.current()})),E+=y.move(h),_()),$(),E}function qx(r){const o=r.options.emphasis||"*";if(o!=="*"&&o!=="_")throw new Error("Cannot serialize emphasis with `"+o+"` for `options.emphasis`, expected `*`, or `_`");return o}function c3(r){return"&#x"+r.toString(16).toUpperCase()+";"}function L5(r,o,n){const a=S4(r),h=S4(o);return a===void 0?h===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:h===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:a===1?h===void 0?{inside:!1,outside:!1}:h===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:h===void 0?{inside:!1,outside:!1}:h===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}jg.peek=Xx;function jg(r,o,n,a){const h=qx(n),p=n.enter("emphasis"),$=n.createTracker(a),_=$.move(h);let y=$.move(n.containerPhrasing(r,{after:h,before:_,...$.current()}));const E=y.charCodeAt(0),w=L5(a.before.charCodeAt(a.before.length-1),E,h);w.inside&&(y=c3(E)+y.slice(1));const I=y.charCodeAt(y.length-1),H=L5(a.after.charCodeAt(0),I,h);H.inside&&(y=y.slice(0,-1)+c3(I));const F=$.move(h);return p(),n.attentionEncodeSurroundingInfo={after:H.outside,before:w.outside},_+y+F}function Xx(r,o,n){return n.options.emphasis||"*"}function jx(r,o){let n=!1;return r7(r,function(a){if("value"in a&&/\r?\n|\r/.test(a.value)||a.type==="break")return n=!0,xf}),!!((!r.depth||r.depth<3)&&Yf(r)&&(o.options.setext||n))}function Yx(r,o,n,a){const h=Math.max(Math.min(6,r.depth||1),1),p=n.createTracker(a);if(jx(r,n)){const w=n.enter("headingSetext"),I=n.enter("phrasing"),H=n.containerPhrasing(r,{...p.current(),before:`
`,after:`
`});return I(),w(),H+`
`+(h===1?"=":"-").repeat(H.length-(Math.max(H.lastIndexOf("\r"),H.lastIndexOf(`
`))+1))}const $="#".repeat(h),_=n.enter("headingAtx"),y=n.enter("phrasing");p.move($+" ");let E=n.containerPhrasing(r,{before:"# ",after:`
`,...p.current()});return/^[\t ]/.test(E)&&(E=c3(E.charCodeAt(0))+E.slice(1)),E=E?$+" "+E:$,n.options.closeAtx&&(E+=" "+$),y(),_(),E}Yg.peek=Kx;function Yg(r){return r.value||""}function Kx(){return"<"}Kg.peek=Jx;function Kg(r,o,n,a){const h=x7(n),p=h==='"'?"Quote":"Apostrophe",$=n.enter("image");let _=n.enter("label");const y=n.createTracker(a);let E=y.move("![");return E+=y.move(n.safe(r.alt,{before:E,after:"]",...y.current()})),E+=y.move("]("),_(),!r.url&&r.title||/[\0- \u007F]/.test(r.url)?(_=n.enter("destinationLiteral"),E+=y.move("<"),E+=y.move(n.safe(r.url,{before:E,after:">",...y.current()})),E+=y.move(">")):(_=n.enter("destinationRaw"),E+=y.move(n.safe(r.url,{before:E,after:r.title?" ":")",...y.current()}))),_(),r.title&&(_=n.enter(`title${p}`),E+=y.move(" "+h),E+=y.move(n.safe(r.title,{before:E,after:h,...y.current()})),E+=y.move(h),_()),E+=y.move(")"),$(),E}function Jx(){return"!"}Jg.peek=Zx;function Jg(r,o,n,a){const h=r.referenceType,p=n.enter("imageReference");let $=n.enter("label");const _=n.createTracker(a);let y=_.move("![");const E=n.safe(r.alt,{before:y,after:"]",..._.current()});y+=_.move(E+"]["),$();const w=n.stack;n.stack=[],$=n.enter("reference");const I=n.safe(n.associationId(r),{before:y,after:"]",..._.current()});return $(),n.stack=w,p(),h==="full"||!E||E!==I?y+=_.move(I+"]"):h==="shortcut"?y=y.slice(0,-1):y+=_.move("]"),y}function Zx(){return"!"}Zg.peek=Qx;function Zg(r,o,n){let a=r.value||"",h="`",p=-1;for(;new RegExp("(^|[^`])"+h+"([^`]|$)").test(a);)h+="`";for(/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^`|`$/.test(a))&&(a=" "+a+" ");++p<n.unsafe.length;){const $=n.unsafe[p],_=n.compilePattern($);let y;if($.atBreak)for(;y=_.exec(a);){let E=y.index;a.charCodeAt(E)===10&&a.charCodeAt(E-1)===13&&E--,a=a.slice(0,E)+" "+a.slice(y.index+1)}}return h+a+h}function Qx(){return"`"}function Qg(r,o){const n=Yf(r);return!!(!o.options.resourceLink&&r.url&&!r.title&&r.children&&r.children.length===1&&r.children[0].type==="text"&&(n===r.url||"mailto:"+n===r.url)&&/^[a-z][a-z+.-]+:/i.test(r.url)&&!/[\0- <>\u007F]/.test(r.url))}e$.peek=eC;function e$(r,o,n,a){const h=x7(n),p=h==='"'?"Quote":"Apostrophe",$=n.createTracker(a);let _,y;if(Qg(r,n)){const w=n.stack;n.stack=[],_=n.enter("autolink");let I=$.move("<");return I+=$.move(n.containerPhrasing(r,{before:I,after:">",...$.current()})),I+=$.move(">"),_(),n.stack=w,I}_=n.enter("link"),y=n.enter("label");let E=$.move("[");return E+=$.move(n.containerPhrasing(r,{before:E,after:"](",...$.current()})),E+=$.move("]("),y(),!r.url&&r.title||/[\0- \u007F]/.test(r.url)?(y=n.enter("destinationLiteral"),E+=$.move("<"),E+=$.move(n.safe(r.url,{before:E,after:">",...$.current()})),E+=$.move(">")):(y=n.enter("destinationRaw"),E+=$.move(n.safe(r.url,{before:E,after:r.title?" ":")",...$.current()}))),y(),r.title&&(y=n.enter(`title${p}`),E+=$.move(" "+h),E+=$.move(n.safe(r.title,{before:E,after:h,...$.current()})),E+=$.move(h),y()),E+=$.move(")"),_(),E}function eC(r,o,n){return Qg(r,n)?"<":"["}t$.peek=tC;function t$(r,o,n,a){const h=r.referenceType,p=n.enter("linkReference");let $=n.enter("label");const _=n.createTracker(a);let y=_.move("[");const E=n.containerPhrasing(r,{before:y,after:"]",..._.current()});y+=_.move(E+"]["),$();const w=n.stack;n.stack=[],$=n.enter("reference");const I=n.safe(n.associationId(r),{before:y,after:"]",..._.current()});return $(),n.stack=w,p(),h==="full"||!E||E!==I?y+=_.move(I+"]"):h==="shortcut"?y=y.slice(0,-1):y+=_.move("]"),y}function tC(){return"["}function C7(r){const o=r.options.bullet||"*";if(o!=="*"&&o!=="+"&&o!=="-")throw new Error("Cannot serialize items with `"+o+"` for `options.bullet`, expected `*`, `+`, or `-`");return o}function nC(r){const o=C7(r),n=r.options.bulletOther;if(!n)return o==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===o)throw new Error("Expected `bullet` (`"+o+"`) and `bulletOther` (`"+n+"`) to be different");return n}function rC(r){const o=r.options.bulletOrdered||".";if(o!=="."&&o!==")")throw new Error("Cannot serialize items with `"+o+"` for `options.bulletOrdered`, expected `.` or `)`");return o}function n$(r){const o=r.options.rule||"*";if(o!=="*"&&o!=="-"&&o!=="_")throw new Error("Cannot serialize rules with `"+o+"` for `options.rule`, expected `*`, `-`, or `_`");return o}function iC(r,o,n,a){const h=n.enter("list"),p=n.bulletCurrent;let $=r.ordered?rC(n):C7(n);const _=r.ordered?$==="."?")":".":nC(n);let y=o&&n.bulletLastUsed?$===n.bulletLastUsed:!1;if(!r.ordered){const w=r.children?r.children[0]:void 0;if(($==="*"||$==="-")&&w&&(!w.children||!w.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(y=!0),n$(n)===$&&w){let I=-1;for(;++I<r.children.length;){const H=r.children[I];if(H&&H.type==="listItem"&&H.children&&H.children[0]&&H.children[0].type==="thematicBreak"){y=!0;break}}}}y&&($=_),n.bulletCurrent=$;const E=n.containerFlow(r,a);return n.bulletLastUsed=$,n.bulletCurrent=p,h(),E}function sC(r){const o=r.options.listItemIndent||"one";if(o!=="tab"&&o!=="one"&&o!=="mixed")throw new Error("Cannot serialize items with `"+o+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return o}function oC(r,o,n,a){const h=sC(n);let p=n.bulletCurrent||C7(n);o&&o.type==="list"&&o.ordered&&(p=(typeof o.start=="number"&&o.start>-1?o.start:1)+(n.options.incrementListMarker===!1?0:o.children.indexOf(r))+p);let $=p.length+1;(h==="tab"||h==="mixed"&&(o&&o.type==="list"&&o.spread||r.spread))&&($=Math.ceil($/4)*4);const _=n.createTracker(a);_.move(p+" ".repeat($-p.length)),_.shift($);const y=n.enter("listItem"),E=n.indentLines(n.containerFlow(r,_.current()),w);return y(),E;function w(I,H,F){return H?(F?"":" ".repeat($))+I:(F?p:p+" ".repeat($-p.length))+I}}function lC(r,o,n,a){const h=n.enter("paragraph"),p=n.enter("phrasing"),$=n.containerPhrasing(r,a);return p(),h(),$}const aC=m3(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function uC(r,o,n,a){return(r.children.some(function($){return aC($)})?n.containerPhrasing:n.containerFlow).call(n,r,a)}function cC(r){const o=r.options.strong||"*";if(o!=="*"&&o!=="_")throw new Error("Cannot serialize strong with `"+o+"` for `options.strong`, expected `*`, or `_`");return o}r$.peek=hC;function r$(r,o,n,a){const h=cC(n),p=n.enter("strong"),$=n.createTracker(a),_=$.move(h+h);let y=$.move(n.containerPhrasing(r,{after:h,before:_,...$.current()}));const E=y.charCodeAt(0),w=L5(a.before.charCodeAt(a.before.length-1),E,h);w.inside&&(y=c3(E)+y.slice(1));const I=y.charCodeAt(y.length-1),H=L5(a.after.charCodeAt(0),I,h);H.inside&&(y=y.slice(0,-1)+c3(I));const F=$.move(h+h);return p(),n.attentionEncodeSurroundingInfo={after:H.outside,before:w.outside},_+y+F}function hC(r,o,n){return n.options.strong||"*"}function dC(r,o,n,a){return n.safe(r.value,a)}function fC(r){const o=r.options.ruleRepetition||3;if(o<3)throw new Error("Cannot serialize rules with repetition `"+o+"` for `options.ruleRepetition`, expected `3` or more");return o}function pC(r,o,n){const a=(n$(n)+(n.options.ruleSpaces?" ":"")).repeat(fC(n));return n.options.ruleSpaces?a.slice(0,-1):a}const i$={blockquote:Px,break:q8,code:Vx,definition:Wx,emphasis:jg,hardBreak:q8,heading:Yx,html:Yg,image:Kg,imageReference:Jg,inlineCode:Zg,link:e$,linkReference:t$,list:iC,listItem:oC,paragraph:lC,root:uC,strong:r$,text:dC,thematicBreak:pC};function mC(){return{enter:{table:gC,tableData:X8,tableHeader:X8,tableRow:bC},exit:{codeText:vC,table:$C,tableData:vf,tableHeader:vf,tableRow:vf}}}function gC(r){const o=r._align;this.enter({type:"table",align:o.map(function(n){return n==="none"?null:n}),children:[]},r),this.data.inTable=!0}function $C(r){this.exit(r),this.data.inTable=void 0}function bC(r){this.enter({type:"tableRow",children:[]},r)}function vf(r){this.exit(r)}function X8(r){this.enter({type:"tableCell",children:[]},r)}function vC(r){let o=this.resume();this.data.inTable&&(o=o.replace(/\\([\\|])/g,TC));const n=this.stack[this.stack.length-1];n.type,n.value=o,this.exit(r)}function TC(r,o){return o==="|"?o:r}function yC(r){const o=r||{},n=o.tableCellPadding,a=o.tablePipeAlign,h=o.stringLength,p=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:H,table:$,tableCell:y,tableRow:_}};function $(F,te,he,ce){return E(w(F,he,ce),F.align)}function _(F,te,he,ce){const K=I(F,he,ce),se=E([K]);return se.slice(0,se.indexOf(`
`))}function y(F,te,he,ce){const K=he.enter("tableCell"),se=he.enter("phrasing"),we=he.containerPhrasing(F,{...ce,before:p,after:p});return se(),K(),we}function E(F,te){return Dx(F,{align:te,alignDelimiters:a,padding:n,stringLength:h})}function w(F,te,he){const ce=F.children;let K=-1;const se=[],we=te.enter("table");for(;++K<ce.length;)se[K]=I(ce[K],te,he);return we(),se}function I(F,te,he){const ce=F.children;let K=-1;const se=[],we=te.enter("tableRow");for(;++K<ce.length;)se[K]=y(ce[K],F,te,he);return we(),se}function H(F,te,he){let ce=i$.inlineCode(F,te,he);return he.stack.includes("tableCell")&&(ce=ce.replace(/\|/g,"\\$&")),ce}}function _C(){return{exit:{taskListCheckValueChecked:j8,taskListCheckValueUnchecked:j8,paragraph:wC}}}function EC(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:SC}}}function j8(r){const o=this.stack[this.stack.length-2];o.type,o.checked=r.type==="taskListCheckValueChecked"}function wC(r){const o=this.stack[this.stack.length-2];if(o&&o.type==="listItem"&&typeof o.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const a=n.children[0];if(a&&a.type==="text"){const h=o.children;let p=-1,$;for(;++p<h.length;){const _=h[p];if(_.type==="paragraph"){$=_;break}}$===n&&(a.value=a.value.slice(1),a.value.length===0?n.children.shift():n.position&&a.position&&typeof a.position.start.offset=="number"&&(a.position.start.column++,a.position.start.offset++,n.position.start=Object.assign({},a.position.start)))}}this.exit(r)}function SC(r,o,n,a){const h=r.children[0],p=typeof r.checked=="boolean"&&h&&h.type==="paragraph",$="["+(r.checked?"x":" ")+"] ",_=n.createTracker(a);p&&_.move($);let y=i$.listItem(r,o,n,{...a,..._.current()});return p&&(y=y.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,E)),y;function E(w){return w+$}}function xC(){return[sx(),xx(),Ax(),mC(),_C()]}function CC(r){return{extensions:[ox(),Cx(r),Nx(),yC(r),EC()]}}const kC={tokenize:RC,partial:!0},s$={tokenize:LC,partial:!0},o$={tokenize:DC,partial:!0},l$={tokenize:BC,partial:!0},IC={tokenize:PC,partial:!0},a$={name:"wwwAutolink",tokenize:MC,previous:c$},u$={name:"protocolAutolink",tokenize:OC,previous:h$},jc={name:"emailAutolink",tokenize:NC,previous:d$},Ju={};function AC(){return{text:Ju}}let Jh=48;for(;Jh<123;)Ju[Jh]=jc,Jh++,Jh===58?Jh=65:Jh===91&&(Jh=97);Ju[43]=jc;Ju[45]=jc;Ju[46]=jc;Ju[95]=jc;Ju[72]=[jc,u$];Ju[104]=[jc,u$];Ju[87]=[jc,a$];Ju[119]=[jc,a$];function NC(r,o,n){const a=this;let h,p;return $;function $(I){return!zf(I)||!d$.call(a,a.previous)||k7(a.events)?n(I):(r.enter("literalAutolink"),r.enter("literalAutolinkEmail"),_(I))}function _(I){return zf(I)?(r.consume(I),_):I===64?(r.consume(I),y):n(I)}function y(I){return I===46?r.check(IC,w,E)(I):I===45||I===95||Nl(I)?(p=!0,r.consume(I),y):w(I)}function E(I){return r.consume(I),h=!0,y}function w(I){return p&&h&&Ql(a.previous)?(r.exit("literalAutolinkEmail"),r.exit("literalAutolink"),o(I)):n(I)}}function MC(r,o,n){const a=this;return h;function h($){return $!==87&&$!==119||!c$.call(a,a.previous)||k7(a.events)?n($):(r.enter("literalAutolink"),r.enter("literalAutolinkWww"),r.check(kC,r.attempt(s$,r.attempt(o$,p),n),n)($))}function p($){return r.exit("literalAutolinkWww"),r.exit("literalAutolink"),o($)}}function OC(r,o,n){const a=this;let h="",p=!1;return $;function $(I){return(I===72||I===104)&&h$.call(a,a.previous)&&!k7(a.events)?(r.enter("literalAutolink"),r.enter("literalAutolinkHttp"),h+=String.fromCodePoint(I),r.consume(I),_):n(I)}function _(I){if(Ql(I)&&h.length<5)return h+=String.fromCodePoint(I),r.consume(I),_;if(I===58){const H=h.toLowerCase();if(H==="http"||H==="https")return r.consume(I),y}return n(I)}function y(I){return I===47?(r.consume(I),p?E:(p=!0,y)):n(I)}function E(I){return I===null||C5(I)||ws(I)||Zh(I)||P5(I)?n(I):r.attempt(s$,r.attempt(o$,w),n)(I)}function w(I){return r.exit("literalAutolinkHttp"),r.exit("literalAutolink"),o(I)}}function RC(r,o,n){let a=0;return h;function h($){return($===87||$===119)&&a<3?(a++,r.consume($),h):$===46&&a===3?(r.consume($),p):n($)}function p($){return $===null?n($):o($)}}function LC(r,o,n){let a,h,p;return $;function $(E){return E===46||E===95?r.check(l$,y,_)(E):E===null||ws(E)||Zh(E)||E!==45&&P5(E)?y(E):(p=!0,r.consume(E),$)}function _(E){return E===95?a=!0:(h=a,a=void 0),r.consume(E),$}function y(E){return h||a||!p?n(E):o(E)}}function DC(r,o){let n=0,a=0;return h;function h($){return $===40?(n++,r.consume($),h):$===41&&a<n?p($):$===33||$===34||$===38||$===39||$===41||$===42||$===44||$===46||$===58||$===59||$===60||$===63||$===93||$===95||$===126?r.check(l$,o,p)($):$===null||ws($)||Zh($)?o($):(r.consume($),h)}function p($){return $===41&&a++,r.consume($),h}}function BC(r,o,n){return a;function a(_){return _===33||_===34||_===39||_===41||_===42||_===44||_===46||_===58||_===59||_===63||_===95||_===126?(r.consume(_),a):_===38?(r.consume(_),p):_===93?(r.consume(_),h):_===60||_===null||ws(_)||Zh(_)?o(_):n(_)}function h(_){return _===null||_===40||_===91||ws(_)||Zh(_)?o(_):a(_)}function p(_){return Ql(_)?$(_):n(_)}function $(_){return _===59?(r.consume(_),a):Ql(_)?(r.consume(_),$):n(_)}}function PC(r,o,n){return a;function a(p){return r.consume(p),h}function h(p){return Nl(p)?n(p):o(p)}}function c$(r){return r===null||r===40||r===42||r===95||r===91||r===93||r===126||ws(r)}function h$(r){return!Ql(r)}function d$(r){return!(r===47||zf(r))}function zf(r){return r===43||r===45||r===46||r===95||Nl(r)}function k7(r){let o=r.length,n=!1;for(;o--;){const a=r[o][1];if((a.type==="labelLink"||a.type==="labelImage")&&!a._balanced){n=!0;break}if(a._gfmAutolinkLiteralWalkedInto){n=!1;break}}return r.length>0&&!n&&(r[r.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const FC={tokenize:XC,partial:!0};function UC(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:GC,continuation:{tokenize:WC},exit:qC}},text:{91:{name:"gfmFootnoteCall",tokenize:VC},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:zC,resolveTo:HC}}}}function zC(r,o,n){const a=this;let h=a.events.length;const p=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let $;for(;h--;){const y=a.events[h][1];if(y.type==="labelImage"){$=y;break}if(y.type==="gfmFootnoteCall"||y.type==="labelLink"||y.type==="label"||y.type==="image"||y.type==="link")break}return _;function _(y){if(!$||!$._balanced)return n(y);const E=iu(a.sliceSerialize({start:$.end,end:a.now()}));return E.codePointAt(0)!==94||!p.includes(E.slice(1))?n(y):(r.enter("gfmFootnoteCallLabelMarker"),r.consume(y),r.exit("gfmFootnoteCallLabelMarker"),o(y))}}function HC(r,o){let n=r.length;for(;n--;)if(r[n][1].type==="labelImage"&&r[n][0]==="enter"){r[n][1];break}r[n+1][1].type="data",r[n+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},r[n+3][1].start),end:Object.assign({},r[r.length-1][1].end)},h={type:"gfmFootnoteCallMarker",start:Object.assign({},r[n+3][1].end),end:Object.assign({},r[n+3][1].end)};h.end.column++,h.end.offset++,h.end._bufferIndex++;const p={type:"gfmFootnoteCallString",start:Object.assign({},h.end),end:Object.assign({},r[r.length-1][1].start)},$={type:"chunkString",contentType:"string",start:Object.assign({},p.start),end:Object.assign({},p.end)},_=[r[n+1],r[n+2],["enter",a,o],r[n+3],r[n+4],["enter",h,o],["exit",h,o],["enter",p,o],["enter",$,o],["exit",$,o],["exit",p,o],r[r.length-2],r[r.length-1],["exit",a,o]];return r.splice(n,r.length-n+1,..._),r}function VC(r,o,n){const a=this,h=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let p=0,$;return _;function _(I){return r.enter("gfmFootnoteCall"),r.enter("gfmFootnoteCallLabelMarker"),r.consume(I),r.exit("gfmFootnoteCallLabelMarker"),y}function y(I){return I!==94?n(I):(r.enter("gfmFootnoteCallMarker"),r.consume(I),r.exit("gfmFootnoteCallMarker"),r.enter("gfmFootnoteCallString"),r.enter("chunkString").contentType="string",E)}function E(I){if(p>999||I===93&&!$||I===null||I===91||ws(I))return n(I);if(I===93){r.exit("chunkString");const H=r.exit("gfmFootnoteCallString");return h.includes(iu(a.sliceSerialize(H)))?(r.enter("gfmFootnoteCallLabelMarker"),r.consume(I),r.exit("gfmFootnoteCallLabelMarker"),r.exit("gfmFootnoteCall"),o):n(I)}return ws(I)||($=!0),p++,r.consume(I),I===92?w:E}function w(I){return I===91||I===92||I===93?(r.consume(I),p++,E):E(I)}}function GC(r,o,n){const a=this,h=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let p,$=0,_;return y;function y(te){return r.enter("gfmFootnoteDefinition")._container=!0,r.enter("gfmFootnoteDefinitionLabel"),r.enter("gfmFootnoteDefinitionLabelMarker"),r.consume(te),r.exit("gfmFootnoteDefinitionLabelMarker"),E}function E(te){return te===94?(r.enter("gfmFootnoteDefinitionMarker"),r.consume(te),r.exit("gfmFootnoteDefinitionMarker"),r.enter("gfmFootnoteDefinitionLabelString"),r.enter("chunkString").contentType="string",w):n(te)}function w(te){if($>999||te===93&&!_||te===null||te===91||ws(te))return n(te);if(te===93){r.exit("chunkString");const he=r.exit("gfmFootnoteDefinitionLabelString");return p=iu(a.sliceSerialize(he)),r.enter("gfmFootnoteDefinitionLabelMarker"),r.consume(te),r.exit("gfmFootnoteDefinitionLabelMarker"),r.exit("gfmFootnoteDefinitionLabel"),H}return ws(te)||(_=!0),$++,r.consume(te),te===92?I:w}function I(te){return te===91||te===92||te===93?(r.consume(te),$++,w):w(te)}function H(te){return te===58?(r.enter("definitionMarker"),r.consume(te),r.exit("definitionMarker"),h.includes(p)||h.push(p),oi(r,F,"gfmFootnoteDefinitionWhitespace")):n(te)}function F(te){return o(te)}}function WC(r,o,n){return r.check(p3,o,r.attempt(FC,o,n))}function qC(r){r.exit("gfmFootnoteDefinition")}function XC(r,o,n){const a=this;return oi(r,h,"gfmFootnoteDefinitionIndent",5);function h(p){const $=a.events[a.events.length-1];return $&&$[1].type==="gfmFootnoteDefinitionIndent"&&$[2].sliceSerialize($[1],!0).length===4?o(p):n(p)}}function jC(r){let n=(r||{}).singleTilde;const a={name:"strikethrough",tokenize:p,resolveAll:h};return n==null&&(n=!0),{text:{126:a},insideSpan:{null:[a]},attentionMarkers:{null:[126]}};function h($,_){let y=-1;for(;++y<$.length;)if($[y][0]==="enter"&&$[y][1].type==="strikethroughSequenceTemporary"&&$[y][1]._close){let E=y;for(;E--;)if($[E][0]==="exit"&&$[E][1].type==="strikethroughSequenceTemporary"&&$[E][1]._open&&$[y][1].end.offset-$[y][1].start.offset===$[E][1].end.offset-$[E][1].start.offset){$[y][1].type="strikethroughSequence",$[E][1].type="strikethroughSequence";const w={type:"strikethrough",start:Object.assign({},$[E][1].start),end:Object.assign({},$[y][1].end)},I={type:"strikethroughText",start:Object.assign({},$[E][1].end),end:Object.assign({},$[y][1].start)},H=[["enter",w,_],["enter",$[E][1],_],["exit",$[E][1],_],["enter",I,_]],F=_.parser.constructs.insideSpan.null;F&&H0(H,H.length,0,F5(F,$.slice(E+1,y),_)),H0(H,H.length,0,[["exit",I,_],["enter",$[y][1],_],["exit",$[y][1],_],["exit",w,_]]),H0($,E-1,y-E+3,H),y=E+H.length-2;break}}for(y=-1;++y<$.length;)$[y][1].type==="strikethroughSequenceTemporary"&&($[y][1].type="data");return $}function p($,_,y){const E=this.previous,w=this.events;let I=0;return H;function H(te){return E===126&&w[w.length-1][1].type!=="characterEscape"?y(te):($.enter("strikethroughSequenceTemporary"),F(te))}function F(te){const he=S4(E);if(te===126)return I>1?y(te):($.consume(te),I++,F);if(I<2&&!n)return y(te);const ce=$.exit("strikethroughSequenceTemporary"),K=S4(te);return ce._open=!K||K===2&&!!he,ce._close=!he||he===2&&!!K,_(te)}}}class YC{constructor(){this.map=[]}add(o,n,a){KC(this,o,n,a)}consume(o){if(this.map.sort(function(p,$){return p[0]-$[0]}),this.map.length===0)return;let n=this.map.length;const a=[];for(;n>0;)n-=1,a.push(o.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),o.length=this.map[n][0];a.push(o.slice()),o.length=0;let h=a.pop();for(;h;){for(const p of h)o.push(p);h=a.pop()}this.map.length=0}}function KC(r,o,n,a){let h=0;if(!(n===0&&a.length===0)){for(;h<r.map.length;){if(r.map[h][0]===o){r.map[h][1]+=n,r.map[h][2].push(...a);return}h+=1}r.map.push([o,n,a])}}function JC(r,o){let n=!1;const a=[];for(;o<r.length;){const h=r[o];if(n){if(h[0]==="enter")h[1].type==="tableContent"&&a.push(r[o+1][1].type==="tableDelimiterMarker"?"left":"none");else if(h[1].type==="tableContent"){if(r[o-1][1].type==="tableDelimiterMarker"){const p=a.length-1;a[p]=a[p]==="left"?"center":"right"}}else if(h[1].type==="tableDelimiterRow")break}else h[0]==="enter"&&h[1].type==="tableDelimiterRow"&&(n=!0);o+=1}return a}function ZC(){return{flow:{null:{name:"table",tokenize:QC,resolveAll:ek}}}}function QC(r,o,n){const a=this;let h=0,p=0,$;return _;function _(Ke){let Pt=a.events.length-1;for(;Pt>-1;){const Lt=a.events[Pt][1].type;if(Lt==="lineEnding"||Lt==="linePrefix")Pt--;else break}const Ve=Pt>-1?a.events[Pt][1].type:null,Xt=Ve==="tableHead"||Ve==="tableRow"?Se:y;return Xt===Se&&a.parser.lazy[a.now().line]?n(Ke):Xt(Ke)}function y(Ke){return r.enter("tableHead"),r.enter("tableRow"),E(Ke)}function E(Ke){return Ke===124||($=!0,p+=1),w(Ke)}function w(Ke){return Ke===null?n(Ke):tr(Ke)?p>1?(p=0,a.interrupt=!0,r.exit("tableRow"),r.enter("lineEnding"),r.consume(Ke),r.exit("lineEnding"),F):n(Ke):gi(Ke)?oi(r,w,"whitespace")(Ke):(p+=1,$&&($=!1,h+=1),Ke===124?(r.enter("tableCellDivider"),r.consume(Ke),r.exit("tableCellDivider"),$=!0,w):(r.enter("data"),I(Ke)))}function I(Ke){return Ke===null||Ke===124||ws(Ke)?(r.exit("data"),w(Ke)):(r.consume(Ke),Ke===92?H:I)}function H(Ke){return Ke===92||Ke===124?(r.consume(Ke),I):I(Ke)}function F(Ke){return a.interrupt=!1,a.parser.lazy[a.now().line]?n(Ke):(r.enter("tableDelimiterRow"),$=!1,gi(Ke)?oi(r,te,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ke):te(Ke))}function te(Ke){return Ke===45||Ke===58?ce(Ke):Ke===124?($=!0,r.enter("tableCellDivider"),r.consume(Ke),r.exit("tableCellDivider"),he):De(Ke)}function he(Ke){return gi(Ke)?oi(r,ce,"whitespace")(Ke):ce(Ke)}function ce(Ke){return Ke===58?(p+=1,$=!0,r.enter("tableDelimiterMarker"),r.consume(Ke),r.exit("tableDelimiterMarker"),K):Ke===45?(p+=1,K(Ke)):Ke===null||tr(Ke)?Oe(Ke):De(Ke)}function K(Ke){return Ke===45?(r.enter("tableDelimiterFiller"),se(Ke)):De(Ke)}function se(Ke){return Ke===45?(r.consume(Ke),se):Ke===58?($=!0,r.exit("tableDelimiterFiller"),r.enter("tableDelimiterMarker"),r.consume(Ke),r.exit("tableDelimiterMarker"),we):(r.exit("tableDelimiterFiller"),we(Ke))}function we(Ke){return gi(Ke)?oi(r,Oe,"whitespace")(Ke):Oe(Ke)}function Oe(Ke){return Ke===124?te(Ke):Ke===null||tr(Ke)?!$||h!==p?De(Ke):(r.exit("tableDelimiterRow"),r.exit("tableHead"),o(Ke)):De(Ke)}function De(Ke){return n(Ke)}function Se(Ke){return r.enter("tableRow"),je(Ke)}function je(Ke){return Ke===124?(r.enter("tableCellDivider"),r.consume(Ke),r.exit("tableCellDivider"),je):Ke===null||tr(Ke)?(r.exit("tableRow"),o(Ke)):gi(Ke)?oi(r,je,"whitespace")(Ke):(r.enter("data"),at(Ke))}function at(Ke){return Ke===null||Ke===124||ws(Ke)?(r.exit("data"),je(Ke)):(r.consume(Ke),Ke===92?Ze:at)}function Ze(Ke){return Ke===92||Ke===124?(r.consume(Ke),at):at(Ke)}}function ek(r,o){let n=-1,a=!0,h=0,p=[0,0,0,0],$=[0,0,0,0],_=!1,y=0,E,w,I;const H=new YC;for(;++n<r.length;){const F=r[n],te=F[1];F[0]==="enter"?te.type==="tableHead"?(_=!1,y!==0&&(Y8(H,o,y,E,w),w=void 0,y=0),E={type:"table",start:Object.assign({},te.start),end:Object.assign({},te.end)},H.add(n,0,[["enter",E,o]])):te.type==="tableRow"||te.type==="tableDelimiterRow"?(a=!0,I=void 0,p=[0,0,0,0],$=[0,n+1,0,0],_&&(_=!1,w={type:"tableBody",start:Object.assign({},te.start),end:Object.assign({},te.end)},H.add(n,0,[["enter",w,o]])),h=te.type==="tableDelimiterRow"?2:w?3:1):h&&(te.type==="data"||te.type==="tableDelimiterMarker"||te.type==="tableDelimiterFiller")?(a=!1,$[2]===0&&(p[1]!==0&&($[0]=$[1],I=p5(H,o,p,h,void 0,I),p=[0,0,0,0]),$[2]=n)):te.type==="tableCellDivider"&&(a?a=!1:(p[1]!==0&&($[0]=$[1],I=p5(H,o,p,h,void 0,I)),p=$,$=[p[1],n,0,0])):te.type==="tableHead"?(_=!0,y=n):te.type==="tableRow"||te.type==="tableDelimiterRow"?(y=n,p[1]!==0?($[0]=$[1],I=p5(H,o,p,h,n,I)):$[1]!==0&&(I=p5(H,o,$,h,n,I)),h=0):h&&(te.type==="data"||te.type==="tableDelimiterMarker"||te.type==="tableDelimiterFiller")&&($[3]=n)}for(y!==0&&Y8(H,o,y,E,w),H.consume(o.events),n=-1;++n<o.events.length;){const F=o.events[n];F[0]==="enter"&&F[1].type==="table"&&(F[1]._align=JC(o.events,n))}return r}function p5(r,o,n,a,h,p){const $=a===1?"tableHeader":a===2?"tableDelimiter":"tableData",_="tableContent";n[0]!==0&&(p.end=Object.assign({},_4(o.events,n[0])),r.add(n[0],0,[["exit",p,o]]));const y=_4(o.events,n[1]);if(p={type:$,start:Object.assign({},y),end:Object.assign({},y)},r.add(n[1],0,[["enter",p,o]]),n[2]!==0){const E=_4(o.events,n[2]),w=_4(o.events,n[3]),I={type:_,start:Object.assign({},E),end:Object.assign({},w)};if(r.add(n[2],0,[["enter",I,o]]),a!==2){const H=o.events[n[2]],F=o.events[n[3]];if(H[1].end=Object.assign({},F[1].end),H[1].type="chunkText",H[1].contentType="text",n[3]>n[2]+1){const te=n[2]+1,he=n[3]-n[2]-1;r.add(te,he,[])}}r.add(n[3]+1,0,[["exit",I,o]])}return h!==void 0&&(p.end=Object.assign({},_4(o.events,h)),r.add(h,0,[["exit",p,o]]),p=void 0),p}function Y8(r,o,n,a,h){const p=[],$=_4(o.events,n);h&&(h.end=Object.assign({},$),p.push(["exit",h,o])),a.end=Object.assign({},$),p.push(["exit",a,o]),r.add(n+1,0,p)}function _4(r,o){const n=r[o],a=n[0]==="enter"?"start":"end";return n[1][a]}const tk={name:"tasklistCheck",tokenize:rk};function nk(){return{text:{91:tk}}}function rk(r,o,n){const a=this;return h;function h(y){return a.previous!==null||!a._gfmTasklistFirstContentOfListItem?n(y):(r.enter("taskListCheck"),r.enter("taskListCheckMarker"),r.consume(y),r.exit("taskListCheckMarker"),p)}function p(y){return ws(y)?(r.enter("taskListCheckValueUnchecked"),r.consume(y),r.exit("taskListCheckValueUnchecked"),$):y===88||y===120?(r.enter("taskListCheckValueChecked"),r.consume(y),r.exit("taskListCheckValueChecked"),$):n(y)}function $(y){return y===93?(r.enter("taskListCheckMarker"),r.consume(y),r.exit("taskListCheckMarker"),r.exit("taskListCheck"),_):n(y)}function _(y){return tr(y)?o(y):gi(y)?r.check({tokenize:ik},o,n)(y):n(y)}}function ik(r,o,n){return oi(r,a,"whitespace");function a(h){return h===null?n(h):o(h)}}function sk(r){return T9([AC(),UC(),jC(r),ZC(),nk()])}const ok={};function lk(r){const o=this,n=r||ok,a=o.data(),h=a.micromarkExtensions||(a.micromarkExtensions=[]),p=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),$=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);h.push(sk(n)),p.push(xC()),$.push(CC(n))}function ak({title:r,content:o,isCollapsed:n,onToggle:a}){return ye.jsxs("div",{className:`
        relative flex flex-col flex-shrink-0 bg-white border-r border-slate-200 shadow-[4px_0_24px_rgba(0,0,0,0.05)]
        transition-all duration-300 ease-in-out 
        z-50  /* <--- Augmentation drastique du z-index pour passer au-dessus de Blockly */
        ${n?"w-12":"w-96"}
      `,children:[ye.jsx("button",{onClick:a,className:`absolute -right-3 top-6 z-50 w-6 h-6 flex items-center justify-center 
                   bg-white border border-slate-200 rounded-full shadow-md text-slate-500 
                   hover:text-blue-600 hover:scale-110 transition-all cursor-pointer`,title:n?"Ouvrir":"Fermer",children:ye.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:`w-3 h-3 transition-transform ${n?"rotate-180":""}`,children:ye.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),!n&&ye.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[ye.jsx("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 backdrop-blur-sm",children:ye.jsxs("h2",{className:"m-0 text-xl font-bold text-slate-800 flex items-center gap-2",children:[ye.jsx("span",{className:"text-2xl",children:""})," ",r||"Mission"]})}),ye.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:ye.jsxs("div",{className:"prose prose-slate prose-p:text-slate-600 prose-headings:text-slate-800 prose-strong:text-indigo-600 prose-code:text-pink-500 prose-code:bg-pink-50 prose-code:px-1 prose-code:rounded prose-table:border-collapse prose-th:border prose-th:border-slate-200 prose-th:p-2 prose-td:border prose-td:border-slate-200 prose-td:p-2 text-sm leading-relaxed",children:["              ",o?ye.jsx(lE,{remarkPlugins:[yS,lk],rehypePlugins:[QS],children:o}):ye.jsx("p",{className:"text-slate-400 italic text-center mt-10",children:"Aucune consigne pour ce niveau."})]})})]}),n&&ye.jsx("div",{onClick:a,className:"h-full flex items-center justify-center cursor-pointer hover:bg-slate-50 transition-colors",children:ye.jsxs("div",{className:"writing-vertical-rl rotate-180 font-bold text-slate-400 tracking-widest text-xs uppercase flex items-center gap-2",children:[ye.jsx("span",{children:"CONSIGNE"}),ye.jsx("span",{className:"text-lg",children:""})]})}),ye.jsx("style",{children:`
        .writing-vertical-rl { writing-mode: vertical-rl; }
        /* Scrollbar fine pour Chrome/Safari/Edge */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 20px; }
      `})]})}const uk=()=>{_o.forBlock.maze_move_forward=()=>`robot.avancer()
`,_o.forBlock.maze_turn=r=>`robot.pivoter('${r.getFieldValue("DIR")}')
`,_o.forBlock.maze_forever=r=>`while not robot.est_arrive():
${_o.statementToCode(r,"DO")||`  pass
`}`,_o.forBlock.maze_if=r=>{const o=r.getFieldValue("DIR"),n=_o.statementToCode(r,"DO")||`  pass
`;return`if robot.chemin_disponible('${o}'):
${n}`},_o.forBlock.maze_if_else=r=>{const o=r.getFieldValue("DIR"),n=_o.statementToCode(r,"DO")||`  pass
`,a=_o.statementToCode(r,"ELSE")||`  pass
`;return`if robot.chemin_disponible('${o}'):
${n}else:
${a}`},_o.forBlock.turtle_move=r=>`tortue.avancer(${_o.valueToCode(r,"VALUE",_o.ORDER_NONE)||"0"})
`,_o.forBlock.turtle_turn=r=>{const o=r.getFieldValue("DIR"),n=_o.valueToCode(r,"VALUE",_o.ORDER_NONE)||"0";return o==="LEFT"?`tortue.gauche(${n})
`:`tortue.droite(${n})
`},_o.forBlock.turtle_pen=r=>r.getFieldValue("STATE")==="UP"?`tortue.lever_stylo()
`:`tortue.baisser_stylo()
`,_o.forBlock.turtle_color=r=>`tortue.couleur('${r.getFieldValue("COLOR")}')
`,_o.forBlock.text_print=r=>`print(${_o.valueToCode(r,"TEXT",_o.ORDER_NONE)||"''"})
`},ck=(r,o)=>{const n=new Date().getHours(),a=`LVL:${r}|ST:${o.stars}|BL:${o.blocks}`;let h=0;for(let p=0;p<a.length;p++){const $=a.charCodeAt(p);h=(h<<5)-h+$+n,h=h&h}return`${a}|#${Math.abs(h).toString(16)}`};function hk(r,o,n){const[a,h]=Tn.useState(50),[p,$]=Tn.useState(null),[_,y]=Tn.useState("IDLE"),[E,w]=Tn.useState([]),[I,H]=Tn.useState({stars:0,blockCount:0,target:0}),[F,te]=Tn.useState(""),[he,ce]=Tn.useState(null),[K,se]=Tn.useState(0),[we,Oe]=Tn.useState(0),De=Tn.useRef(null),Se=Tn.useRef([]),je=Tn.useRef(0),at=Tn.useRef(null);Tn.useEffect(()=>{if(!n.solutionBlocks||o.id!=="TURTLE"){w([]);return}const Le=setTimeout(()=>{try{const tt=new _b,_e=e9.xml.textToDom(n.solutionBlocks);Q8.domToWorkspace(_e,tt),Bn.init(tt);const Ft=Bn.workspaceToCode(tt),It=[];new Function("actions",Ft)(It);let Qt=null;It.forEach(cn=>{Qt=o.executeStep(Qt,cn,n).newState}),Qt?.lines&&w(Qt.lines),tt.dispose()}catch(tt){console.error("Erreur modle:",tt)}},50);return()=>clearTimeout(Le)},[n.solutionBlocks,o,n]);const Ze=Tn.useCallback(()=>o.executeStep(null,null,n).newState,[o,n]),Ke=Tn.useCallback(Le=>{const tt=n.maxBlocks||5;let _e=1;Le<=tt?_e=3:Le<=Math.ceil(tt*1.5)&&(_e=2),H({stars:_e,blockCount:Le,target:tt});const Ft=ck(n.id||1,{stars:_e,blocks:Le});te(Ft),y("WON")},[n]),Pt=Tn.useCallback(()=>{H({stars:0,blockCount:r.current?.getAllBlocks(!1).length||0,target:n.maxBlocks}),y("FAILED")},[n]),Ve=Tn.useCallback(()=>{De.current&&clearTimeout(De.current),y("IDLE"),$(null),ce(null),at.current=null,je.current=0,se(0),r.current&&r.current.highlightBlock(null)},[r]),Xt=Tn.useCallback(()=>{Se.current=[],Oe(0),Ve()},[Ve]),Lt=Tn.useCallback(()=>{const Le=Se.current,tt=je.current;if(tt>=Le.length)return!1;const _e=Le[tt];if(ce({..._e,_uid:tt}),se(tt+1),_e.id&&r.current&&r.current.highlightBlock(_e.id),_e.type==="SCAN")return je.current+=1,!0;const Ft=o.executeStep(at.current,_e,n);if(at.current=Ft.newState,$(Ft.newState),je.current+=1,Ft.status==="WIN"){const It=n.type==="EQUATION"?3e3:500;return setTimeout(()=>Ke(r.current.getAllBlocks(!1).length),It),!1}else if(Ft.status==="LOST")return setTimeout(()=>y("LOST"),500),!1;if(je.current>=Le.length){r.current&&r.current.highlightBlock(null);const It=n.type==="EQUATION"?3e3:500;return setTimeout(()=>{let Qt=!1;o.checkVictory&&(Qt=o.checkVictory(at.current,n,E)),Qt?Ke(r.current.getAllBlocks(!1).length):Pt()},It),!1}return!0},[o,n,E,Ke,Pt,r]),Ot=Tn.useCallback(()=>{if(Lt()){let tt=Math.max(5,(100-a)*10);n.type==="EQUATION"&&(tt=Math.max(tt,2500));const _e=Se.current[je.current-1];_e&&_e.type==="SCAN"&&(tt=Math.max(tt,500)),De.current=setTimeout(Ot,tt)}},[Lt,a,n.type]),st=Tn.useCallback(Le=>{if(De.current&&clearTimeout(De.current),y("PAUSED"),Le<=0){$(null),ce(null),at.current=null,je.current=0,se(0),r.current&&r.current.highlightBlock(null);return}let tt=Ze();const _e=Se.current;for(let Ft=0;Ft<Le&&!(Ft>=_e.length);Ft++){const It=_e[Ft];tt=o.executeStep(tt,It,n).newState,Ft===Le-1&&(It.id&&r.current&&r.current.highlightBlock(It.id),ce(It))}at.current=tt,$(tt),je.current=Le,se(Le)},[Ze,o,n,r]),St=Tn.useCallback(()=>{if(!r.current)return!1;Bn.init(r.current);const Le=Bn.workspaceToCode(r.current);let tt="";n.inputs&&Object.entries(n.inputs).forEach(([cn,Hn])=>tt+=`var ${cn} = ${JSON.stringify(Hn)};
`);let _e={x:n.startPos.x,y:n.startPos.y,dir:n.startPos.dir!==void 0?n.startPos.dir:0},Ft=0;const It=1e3,Qt={move:()=>{let cn=_e.x,Hn=_e.y;_e.dir===0?cn++:_e.dir===1?Hn++:_e.dir===2?cn--:_e.dir===3&&Hn--,Al.checkMove(n.grid,cn,Hn)!=="WALL"&&(_e.x=cn,_e.y=Hn)},turn:cn=>{const Hn=cn;_e.dir=Hn==="LEFT"?(_e.dir+3)%4:(_e.dir+1)%4},isPath:cn=>Al.look(n.grid,_e.x,_e.y,_e.dir,cn),isDone:()=>Al.checkMove(n.grid,_e.x,_e.y)==="WIN",safeCheck:()=>(Ft++,!(Ft>It))};try{const cn=[];return new Function("actions","api",tt+Le)(cn,Qt),Se.current=cn,Oe(cn.length),!0}catch(cn){return alert("Erreur excution : "+cn.message),!1}},[r,n]),vt=Tn.useCallback(()=>{if(_==="PAUSED"){y("RUNNING"),Ot();return}Ve(),setTimeout(()=>{St()&&(y("RUNNING"),Ot())},0)},[Ot,Ve,_,St]),an=Tn.useCallback(()=>{De.current&&clearTimeout(De.current),y("PAUSED")},[]),de=Tn.useCallback(()=>{_==="IDLE"||_==="WON"||_==="FAILED"||_==="LOST"?(Ve(),setTimeout(()=>{St()&&(y("PAUSED"),Lt())},0)):(_==="RUNNING"&&an(),Lt(),_!=="WON"&&_!=="FAILED"&&_!=="LOST"&&y("PAUSED"))},[_,Lt,an,St,Ve]);return{speed:a,setSpeed:h,engineState:p,gameState:_,solutionLines:E,gameStats:I,proofToken:F,run:vt,reset:Ve,pause:an,stepForward:de,lastAction:he,currentStep:K,totalSteps:we,goToStep:st,clearSimulation:Xt}}const dk={MAZE:r9,MATH:zb,TURTLE:Vb,EQUATION:Zb},fk={collapse:!0,comments:!0,disable:!0,maxBlocks:1/0,trashcan:!0,horizontalLayout:!1,toolboxPosition:"start",css:!0,media:"https://blockly-demo.appspot.com/static/media/",rtl:!1,scrollbars:!0,oneBasedIndex:!0,zoom:{controls:!0,wheel:!0,startScale:1}};function pk({levelData:r,onWin:o,levelIndex:n,onNextLevel:a}){const h=dk[r?.type]||r9,p=h.RenderComponent,[$,_]=Tn.useState(!0),[y,E]=Tn.useState(!1),[w,I]=Tn.useState(""),[H,F]=Tn.useState(!1),[te,he]=Tn.useState(40),[ce,K]=Tn.useState(!1),se=Tn.useRef(null),we=Tn.useRef(null),Oe=Tn.useRef(null),De=Tn.useMemo(()=>({...r,grid:r?.grid||Al.defaultGrid,startPos:{x:Number(r?.startPos?.x)||0,y:Number(r?.startPos?.y)||0,dir:Number(r?.startPos?.dir)||0},solutionBlocks:r?.solutionBlocks||null,allowedBlocks:r?.allowedBlocks,inputs:r?.inputs,hiddenVars:r?.hiddenVars,lockedVars:r?.lockedVars,id:r?.id,instruction:r?.instruction,startBlocks:r?.startBlocks,maxBlocks:r?.maxBlocks}),[r]),{speed:Se,setSpeed:je,engineState:at,gameState:Ze,solutionLines:Ke,gameStats:Pt,proofToken:Ve,run:Xt,reset:Lt,pause:Ot,stepForward:st,lastAction:St,currentStep:vt,totalSteps:an,goToStep:de,clearSimulation:Le}=hk(se,h,De),tt=Tn.useMemo(()=>({x:De.startPos.x,y:De.startPos.y,dir:De.startPos.dir}),[De.startPos]);Tn.useEffect(()=>{Ze==="WON"&&o&&o(Pt)},[Ze,o,Pt]),Tn.useEffect(()=>{const mn=setTimeout(()=>{try{Vf(),uk(),F(!0)}catch{}},10);return()=>clearTimeout(mn)},[]);const _e=Tn.useMemo(()=>{const mn=h.getToolboxXML(De.allowedBlocks,De.inputs,De.hiddenVars,De.lockedVars);return mn.xml||mn},[h,De]),Ft=()=>{if(se.current)try{const mn=_o.workspaceToCode(se.current);I(mn||"# Ajoute des blocs pour voir le code...")}catch(mn){I("# Erreur gnration : "+mn.message)}},It=mn=>{if(se.current=mn,Bn.init(mn),mn.addChangeListener(sn=>{sn.type===om.UI||sn.type===om.FINISHED_LOADING||(Le(),y&&Ft())}),mn.updateToolbox(_e),De.startBlocks)try{const sn=e9.xml.textToDom(De.startBlocks);Q8.domToWorkspace(sn,mn)}catch{}window.setTimeout(()=>Tf(mn),0)};Tn.useEffect(()=>{y&&Ft()},[y]),Tn.useEffect(()=>{se.current&&H&&se.current.updateToolbox(_e)},[_e,H]),Tn.useEffect(()=>{if(!Oe.current)return;const mn=new ResizeObserver(()=>{se.current&&Tf(se.current)});return mn.observe(Oe.current),()=>mn.disconnect()},[H]);const Qt=mn=>{K(!0),mn.preventDefault()};Tn.useEffect(()=>{const mn=qn=>{if(!ce||!we.current)return;const ct=we.current.getBoundingClientRect(),rn=(ct.right-qn.clientX)/ct.width*100;he(Math.min(70,Math.max(20,rn)))},sn=()=>{K(!1)};return ce&&(window.addEventListener("mousemove",mn),window.addEventListener("mouseup",sn)),()=>{window.removeEventListener("mousemove",mn),window.removeEventListener("mouseup",sn)}},[ce]);const cn={grid:De.grid,playerPos:at?{x:at.x,y:at.y}:tt,playerDir:at?at.dir:tt.dir,state:at||{variables:De.inputs,...De.equation||{}},history:at?.logs,hiddenVars:De.hiddenVars||[],modelLines:Ke,lastAction:St};if(!H)return ye.jsx("div",{className:"flex h-full items-center justify-center text-slate-400",children:"Chargement..."});const Hn=n!==void 0?`Niveau ${n+1}`:`Niveau ${De.id}`;return ye.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[ye.jsxs("div",{className:"h-16 bg-white border-b border-slate-200 px-6 flex items-center justify-between shadow-sm z-20 flex-shrink-0",children:[ye.jsxs("div",{className:"flex items-center gap-3",children:[Ze==="RUNNING"?ye.jsxs("button",{onClick:Ot,className:"flex items-center gap-2 px-4 py-2 bg-amber-100 text-amber-700 hover:bg-amber-200 rounded-lg font-bold transition-colors",children:[ye.jsx("span",{children:""})," Pause"]}):ye.jsxs("button",{onClick:Xt,className:"flex items-center gap-2 px-4 py-2 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 rounded-lg font-bold transition-colors shadow-sm hover:shadow-md",children:[ye.jsx("span",{children:""})," ",Ze==="PAUSED"?"Reprendre":"Excuter"]}),ye.jsxs("button",{onClick:st,className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-lg font-medium transition-colors",title:"Pas  pas",children:[" ",ye.jsx("span",{className:"hidden sm:inline",children:"Pas  pas"})]}),ye.jsx("button",{onClick:Lt,className:"flex items-center gap-2 px-4 py-2 text-slate-500 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Rinitialiser",children:""})]}),ye.jsxs("div",{className:"flex items-center gap-4",children:[ye.jsxs("button",{onClick:()=>E(!y),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-bold border transition-all
                    ${y?"bg-yellow-50 border-yellow-300 text-yellow-700 shadow-inner":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}
                `,children:[ye.jsx("span",{children:""})," ",ye.jsx("span",{className:"hidden md:inline",children:"Code Python"})]}),ye.jsxs("div",{className:"flex items-center gap-3 bg-slate-100 px-4 py-2 rounded-full",children:[ye.jsx("span",{className:"text-lg",children:""}),ye.jsx("input",{type:"range",min:"0",max:"100",value:Se,onChange:mn=>je(Number(mn.target.value)),className:"w-24 h-2 bg-slate-300 rounded-lg appearance-none cursor-pointer accent-blue-600"}),ye.jsx("span",{className:"text-lg",children:""})]})]})]}),ye.jsxs("div",{ref:we,className:"flex flex-1 overflow-hidden relative",style:{cursor:ce?"col-resize":"auto"},children:[ye.jsx(ak,{title:Hn,content:De.instruction,isCollapsed:!$,onToggle:()=>_(!$)}),ye.jsx("div",{ref:Oe,className:"flex-1 min-w-0 bg-slate-50 relative flex flex-col",children:ye.jsxs("div",{className:"flex-1 relative",children:[ye.jsx(Hf,{className:"blockly-div absolute inset-0",toolboxConfiguration:_e,workspaceConfiguration:fk,onInject:It},`${De.id}-${h.id}-${JSON.stringify(De.allowedBlocks||[])}`),ce&&ye.jsx("div",{className:"absolute inset-0 z-50 bg-transparent"})]})}),ye.jsx("div",{onMouseDown:Qt,className:"w-2 bg-slate-200 hover:bg-blue-400 cursor-col-resize z-30 flex items-center justify-center transition-colors flex-shrink-0",children:ye.jsx("div",{className:"h-8 w-1 bg-slate-400 rounded-full"})}),ye.jsxs("div",{style:{width:`${te}%`},className:"bg-slate-800 flex flex-col shadow-inner flex-shrink-0 relative border-l border-slate-700",children:[ye.jsx("div",{className:"flex-1 relative overflow-hidden",children:y?ye.jsxs("div",{className:"absolute inset-0 bg-[#1e1e1e] p-6 overflow-auto font-mono text-sm text-gray-300",children:[ye.jsxs("h3",{className:"text-yellow-500 font-bold mb-4 flex items-center gap-2 border-b border-gray-700 pb-2",children:[ye.jsx("span",{children:""})," Code Python gnr"]}),ye.jsx("pre",{className:"whitespace-pre-wrap font-mono leading-relaxed",children:w})]}):ye.jsx("div",{className:"w-full h-full flex items-center justify-center",children:ye.jsx(p,{...cn})})}),!y&&an>0&&ye.jsxs("div",{className:"h-16 bg-slate-900 border-t border-slate-700 px-4 flex items-center gap-4 shrink-0 animate-in slide-in-from-bottom duration-300",children:[ye.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase w-12",children:"Temps"}),ye.jsx("input",{type:"range",min:"0",max:an,value:vt,onChange:mn=>de(parseInt(mn.target.value)),className:"flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500",title:`tape ${vt} / ${an}`}),ye.jsxs("span",{className:"text-xs font-mono text-blue-400 font-bold w-12 text-right",children:[vt,"/",an]})]}),ce&&ye.jsx("div",{className:"absolute inset-0 z-50 bg-transparent"})]}),ye.jsx(Qb,{isOpen:Ze==="WON"||Ze==="LOST"||Ze==="FAILED",status:Ze,stats:Pt,token:Ve,onReplay:()=>{Lt()},onMenu:()=>window.location.reload(),onNext:a})]})]})}function mk({campaign:r,progress:o,onSelectLevel:n}){return ye.jsxs("div",{style:{padding:"40px",maxWidth:"800px",margin:"0 auto",fontFamily:"sans-serif"},children:[ye.jsxs("h1",{style:{textAlign:"center",color:"#2c3e50",fontSize:"2.5rem"},children:[" ",r.title||"Aventure Blokaly"]}),ye.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"20px",marginTop:"40px"},children:r.levels.map((a,h)=>{const p=o[h-1],$=h===0||p&&p.stars>0,_=o[h],y=_?_.stars:0;return ye.jsxs("button",{disabled:!$,onClick:()=>n(h),style:{aspectRatio:"1/1",background:$?y===3?"#2ecc71":"#f1c40f":"#bdc3c7",border:"none",borderRadius:"15px",cursor:$?"pointer":"not-allowed",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",opacity:$?1:.6,transition:"transform 0.2s"},children:[ye.jsx("span",{style:{fontSize:"2rem",marginBottom:"10px"},children:$?y>0?"":"":""}),ye.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"white"},children:["Niveau ",h+1]}),$&&ye.jsxs("div",{style:{marginTop:"10px",color:"white",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:["".repeat(y),"".repeat(3-y)]})]},h)})})]})}const Il={api:null,isActive:!1,findAPI:r=>{let o=0;for(;r.API==null&&r.parent!=null&&r.parent!=r&&o<10;)o++,r=r.parent;return r.API},init:()=>{try{const r=Il.findAPI(window);if(r&&(Il.api=r,r.LMSInitialize("")==="true"))return console.log(" SCORM: Connect !"),Il.isActive=!0,r.LMSSetValue("cmi.core.score.min","0"),r.LMSSetValue("cmi.core.score.max","100"),r.LMSSetValue("cmi.core.lesson_status","incomplete"),r.LMSCommit(""),!0}catch{console.warn("SCORM introuvable (Mode local ?)")}return!1},setScore:r=>{if(!Il.isActive||!Il.api)return;const o=Math.round(r*100);console.log(` SCORM: Envoi note ${o}/100`),Il.api.LMSSetValue("cmi.core.score.raw",o),o>=100?Il.api.LMSSetValue("cmi.core.lesson_status","passed"):Il.api.LMSSetValue("cmi.core.lesson_status","incomplete"),Il.api.LMSCommit("")},terminate:()=>{Il.isActive&&Il.api&&(console.log(" SCORM: Dconnexion."),Il.api.LMSFinish(""),Il.isActive=!1)}};function gk({campaign:r,ltiConfig:o,isTeacherMode:n}){const a=r.levels?r:{title:"Campagne",levels:[r]},[h,p]=Tn.useState(-1),[$,_]=Tn.useState(()=>{const I=localStorage.getItem("blokaly_progress");if(I)try{return JSON.parse(I)}catch(H){console.error("Erreur lecture sauvegarde",H)}return{}});Tn.useEffect(()=>(!o&&!n&&Il.init(),()=>Il.terminate()),[o,n]);const y=Tn.useCallback(I=>{_(H=>{const F={...H,[h]:{stars:I.stars}};localStorage.setItem("blokaly_progress",JSON.stringify(F));const te=a.levels.length;let he=0;Object.values(F).forEach(se=>he+=se.stars);const ce=te*3,K=ce>0?he/ce:0;return Il.setScore(K),F})},[h,a]),E=Tn.useCallback(()=>{h<a.levels.length-1?p(I=>I+1):p(-1)},[h,a]),w=()=>p(-1);return h===-1?ye.jsxs("div",{className:"min-h-screen bg-slate-100 font-sans",children:[ye.jsxs("div",{className:"bg-slate-800 text-white p-4 flex justify-between items-center shadow-md",children:[n?ye.jsx("button",{onClick:()=>window.location.href=window.location.pathname,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm font-bold transition-colors",children:" Retour diteur"}):ye.jsx("span",{className:"font-bold text-slate-400",children:"Blokaly 974"}),o&&ye.jsx("span",{className:"bg-emerald-600 px-2 py-1 rounded text-xs font-bold",children:"Mode Not (LTI)"})]}),ye.jsx(mk,{campaign:a,progress:$,onSelectLevel:p})]}):ye.jsxs("div",{className:"h-screen flex flex-col font-sans bg-slate-50",children:[ye.jsxs("div",{className:"h-14 bg-slate-900 text-white flex items-center justify-between px-6 shadow-md z-30",children:[ye.jsxs("div",{className:"flex items-center gap-4",children:[ye.jsxs("button",{onClick:w,className:"text-slate-400 hover:text-white transition-colors flex items-center gap-2 text-sm font-bold",children:[ye.jsx("span",{children:""})," Menu"]}),ye.jsx("div",{className:"h-4 w-px bg-slate-700 mx-2"}),ye.jsxs("span",{className:"font-bold text-lg tracking-wide",children:["Niveau ",h+1]})]}),ye.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wider font-bold",children:o?" Suivi Activ":"Mode Entranement"})]}),ye.jsx(pk,{levelData:a.levels[h],levelIndex:h,onWin:y,onNextLevel:E},h)]})}function $k({onFileLoaded:r}){const o=Tn.useRef(null),n=a=>{const h=a.target.files[0];if(!h)return;const p=new FileReader;p.onload=$=>{try{const _=JSON.parse($.target.result);r(_)}catch(_){alert("Fichier invalide : "+_.message)}},p.readAsText(h)};return ye.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-100 via-blue-50 to-indigo-100 font-sans p-4",children:[ye.jsxs("div",{className:"bg-white/80 backdrop-blur-lg border border-white/50 p-10 rounded-2xl shadow-2xl max-w-lg w-full text-center transition-all hover:shadow-indigo-200/50",children:[ye.jsxs("h1",{className:"text-5xl font-extrabold text-slate-800 mb-2 tracking-tight",children:[" Blokaly ",ye.jsx("span",{className:"text-blue-600",children:"974"})]}),ye.jsx("p",{className:"text-slate-500 text-lg mb-10 font-medium",children:"La plateforme d'algorithmique pour le collge."}),ye.jsxs("div",{className:"mb-8",children:[ye.jsx("h3",{className:"text-sm uppercase tracking-wide text-slate-400 font-bold mb-3",children:"J'ai un fichier d'exercice"}),ye.jsxs("button",{onClick:()=>o.current.click(),className:`w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold py-4 px-6 rounded-xl shadow-lg 
                       transform transition-all duration-200 hover:scale-[1.02] hover:shadow-blue-500/30 active:scale-95 flex items-center justify-center gap-2`,children:[ye.jsx("span",{className:"text-xl",children:""})," Charger un fichier .blokaly"]}),ye.jsx("input",{type:"file",accept:".json",ref:o,style:{display:"none"},onChange:n})]}),ye.jsxs("div",{className:"mb-8",children:[ye.jsx("h3",{className:"text-sm uppercase tracking-wide text-slate-400 font-bold mb-3",children:"Dcouvrir"}),ye.jsx("div",{className:"flex flex-col gap-3",children:ye.jsx("button",{onClick:()=>window.location.href="?url=examples/campagne_de_tests.blokaly.json",className:`w-full bg-white border border-slate-200 text-slate-700 font-semibold py-3 px-4 rounded-xl
                           hover:bg-slate-50 hover:border-blue-300 transition-colors duration-200 flex items-center justify-center gap-2`,children:" Campagne Dmo (Maze & Tortue)"})})]}),ye.jsx("div",{className:"mt-12 pt-6 border-t border-slate-100",children:ye.jsxs("details",{className:"group",children:[ye.jsx("summary",{className:"text-xs text-slate-300 cursor-pointer list-none select-none transition-colors hover:text-slate-400",children:"( Accs Enseignant )"}),ye.jsxs("div",{className:"mt-4 pb-2 animate-in fade-in slide-in-from-top-2 duration-300",children:[ye.jsx("p",{className:"text-xs text-slate-400 mb-3",children:"Crer ou modifier des parcours pdagogiques :"}),ye.jsx("button",{onClick:()=>window.location.href="?mode=editor",className:`bg-slate-100 text-slate-500 border border-slate-200 py-2 px-6 rounded-lg text-sm font-bold
                               hover:bg-slate-200 hover:text-slate-700 transition-colors`,children:" Ouvrir l'Atelier"})]})]})})]}),ye.jsx("style",{children:`
        details > summary::-webkit-details-marker { display: none; }
      `})]})}function bk(){const[r,o]=Tn.useState("loading"),[n,a]=Tn.useState(null),[h,p]=Tn.useState(null),[$,_]=Tn.useState(!1),y=E=>{a(E),o("runner")};return Tn.useEffect(()=>{const E=new URLSearchParams(window.location.search),w=E.get("data"),I=E.get("url"),H=E.get("lti_token"),F=E.get("api_grade"),te=E.get("preview"),he=E.get("mode")==="editor";(async()=>{try{if(te&&_(!0),H&&I){console.log(" Mode LTI"),p({token:H,apiUrl:F});const K=await fetch(I);if(!K.ok)throw new Error("URL campagne invalide");a(await K.json()),o("runner")}else if(I){console.log(" Mode Lien JSON");const K=await fetch(I);if(!K.ok)throw new Error("Fichier introuvable");a(await K.json()),o("runner")}else if(w){console.log(" Mode LZString");const K=K8.decompressFromEncodedURIComponent(w);a(JSON.parse(K)),o("runner")}else he?(console.log(" Mode diteur"),o("builder")):(console.log(" Accueil"),o("home"))}catch(K){console.error("Erreur init:",K),alert("Erreur : "+K.message),o("home")}})()},[]),r==="loading"?ye.jsx("div",{style:{padding:20,textAlign:"center"},children:"Chargement..."}):ye.jsxs("div",{className:"App",children:[r==="home"&&ye.jsx($k,{onFileLoaded:y}),r==="builder"&&ye.jsx(Nb,{}),r==="runner"&&ye.jsx(gk,{campaign:n,ltiConfig:h,isTeacherMode:$})]})}Vf();j$.createRoot(document.getElementById("root")).render(ye.jsx(bk,{}));
