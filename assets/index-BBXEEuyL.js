(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();var lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function l0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ph(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var n=t.default;if(typeof n=="function"){var r=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),r}var v7={exports:{}},Fp={};var lb;function IA(){if(lb)return Fp;lb=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(s,a,c){var d=null;if(c!==void 0&&(d=""+c),a.key!==void 0&&(d=""+a.key),"key"in a){c={};for(var m in a)m!=="key"&&(c[m]=a[m])}else c=a;return a=c.ref,{$$typeof:t,type:s,key:d,ref:a!==void 0?a:null,props:c}}return Fp.Fragment=n,Fp.jsx=r,Fp.jsxs=r,Fp}var ab;function MA(){return ab||(ab=1,v7.exports=IA()),v7.exports}var ge=MA(),b7={exports:{}},Br={};var ub;function NA(){if(ub)return Br;ub=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function k(Fe){return Fe===null||typeof Fe!="object"?null:(Fe=S&&Fe[S]||Fe["@@iterator"],typeof Fe=="function"?Fe:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,X={};function R(Fe,et,_e){this.props=Fe,this.context=et,this.refs=X,this.updater=_e||P}R.prototype.isReactComponent={},R.prototype.setState=function(Fe,et){if(typeof Fe!="object"&&typeof Fe!="function"&&Fe!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Fe,et,"setState")},R.prototype.forceUpdate=function(Fe){this.updater.enqueueForceUpdate(this,Fe,"forceUpdate")};function W(){}W.prototype=R.prototype;function te(Fe,et,_e){this.props=Fe,this.context=et,this.refs=X,this.updater=_e||P}var ie=te.prototype=new W;ie.constructor=te,G(ie,R.prototype),ie.isPureReactComponent=!0;var se=Array.isArray;function Y(){}var fe={H:null,A:null,T:null,S:null},Ie=Object.prototype.hasOwnProperty;function De(Fe,et,_e){var Ct=_e.ref;return{$$typeof:t,type:Fe,key:et,ref:Ct!==void 0?Ct:null,props:_e}}function Ue(Fe,et){return De(Fe.type,et,Fe.props)}function it(Fe){return typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===t}function ze(Fe){var et={"=":"=0",":":"=2"};return"$"+Fe.replace(/[=:]/g,function(_e){return et[_e]})}var dt=/\/+/g;function Oe(Fe,et){return typeof Fe=="object"&&Fe!==null&&Fe.key!=null?ze(""+Fe.key):et.toString(36)}function rt(Fe){switch(Fe.status){case"fulfilled":return Fe.value;case"rejected":throw Fe.reason;default:switch(typeof Fe.status=="string"?Fe.then(Y,Y):(Fe.status="pending",Fe.then(function(et){Fe.status==="pending"&&(Fe.status="fulfilled",Fe.value=et)},function(et){Fe.status==="pending"&&(Fe.status="rejected",Fe.reason=et)})),Fe.status){case"fulfilled":return Fe.value;case"rejected":throw Fe.reason}}throw Fe}function Pe(Fe,et,_e,Ct,$t){var qt=typeof Fe;(qt==="undefined"||qt==="boolean")&&(Fe=null);var ln=!1;if(Fe===null)ln=!0;else switch(qt){case"bigint":case"string":case"number":ln=!0;break;case"object":switch(Fe.$$typeof){case t:case n:ln=!0;break;case _:return ln=Fe._init,Pe(ln(Fe._payload),et,_e,Ct,$t)}}if(ln)return $t=$t(Fe),ln=Ct===""?"."+Oe(Fe,0):Ct,se($t)?(_e="",ln!=null&&(_e=ln.replace(dt,"$&/")+"/"),Pe($t,et,_e,"",function(Ut){return Ut})):$t!=null&&(it($t)&&($t=Ue($t,_e+($t.key==null||Fe&&Fe.key===$t.key?"":(""+$t.key).replace(dt,"$&/")+"/")+ln)),et.push($t)),1;ln=0;var En=Ct===""?".":Ct+":";if(se(Fe))for(var St=0;St<Fe.length;St++)Ct=Fe[St],qt=En+Oe(Ct,St),ln+=Pe(Ct,et,_e,qt,$t);else if(St=k(Fe),typeof St=="function")for(Fe=St.call(Fe),St=0;!(Ct=Fe.next()).done;)Ct=Ct.value,qt=En+Oe(Ct,St++),ln+=Pe(Ct,et,_e,qt,$t);else if(qt==="object"){if(typeof Fe.then=="function")return Pe(rt(Fe),et,_e,Ct,$t);throw et=String(Fe),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(Fe).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return ln}function nt(Fe,et,_e){if(Fe==null)return Fe;var Ct=[],$t=0;return Pe(Fe,Ct,"","",function(qt){return et.call(_e,qt,$t++)}),Ct}function ot(Fe){if(Fe._status===-1){var et=Fe._result;et=et(),et.then(function(_e){(Fe._status===0||Fe._status===-1)&&(Fe._status=1,Fe._result=_e)},function(_e){(Fe._status===0||Fe._status===-1)&&(Fe._status=2,Fe._result=_e)}),Fe._status===-1&&(Fe._status=0,Fe._result=et)}if(Fe._status===1)return Fe._result.default;throw Fe._result}var Lt=typeof reportError=="function"?reportError:function(Fe){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Fe=="object"&&Fe!==null&&typeof Fe.message=="string"?String(Fe.message):String(Fe),error:Fe});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Fe);return}console.error(Fe)},de={map:nt,forEach:function(Fe,et,_e){nt(Fe,function(){et.apply(this,arguments)},_e)},count:function(Fe){var et=0;return nt(Fe,function(){et++}),et},toArray:function(Fe){return nt(Fe,function(et){return et})||[]},only:function(Fe){if(!it(Fe))throw Error("React.Children.only expected to receive a single React element child.");return Fe}};return Br.Activity=T,Br.Children=de,Br.Component=R,Br.Fragment=r,Br.Profiler=a,Br.PureComponent=te,Br.StrictMode=s,Br.Suspense=$,Br.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Br.__COMPILER_RUNTIME={__proto__:null,c:function(Fe){return fe.H.useMemoCache(Fe)}},Br.cache=function(Fe){return function(){return Fe.apply(null,arguments)}},Br.cacheSignal=function(){return null},Br.cloneElement=function(Fe,et,_e){if(Fe==null)throw Error("The argument must be a React element, but you passed "+Fe+".");var Ct=G({},Fe.props),$t=Fe.key;if(et!=null)for(qt in et.key!==void 0&&($t=""+et.key),et)!Ie.call(et,qt)||qt==="key"||qt==="__self"||qt==="__source"||qt==="ref"&&et.ref===void 0||(Ct[qt]=et[qt]);var qt=arguments.length-2;if(qt===1)Ct.children=_e;else if(1<qt){for(var ln=Array(qt),En=0;En<qt;En++)ln[En]=arguments[En+2];Ct.children=ln}return De(Fe.type,$t,Ct)},Br.createContext=function(Fe){return Fe={$$typeof:d,_currentValue:Fe,_currentValue2:Fe,_threadCount:0,Provider:null,Consumer:null},Fe.Provider=Fe,Fe.Consumer={$$typeof:c,_context:Fe},Fe},Br.createElement=function(Fe,et,_e){var Ct,$t={},qt=null;if(et!=null)for(Ct in et.key!==void 0&&(qt=""+et.key),et)Ie.call(et,Ct)&&Ct!=="key"&&Ct!=="__self"&&Ct!=="__source"&&($t[Ct]=et[Ct]);var ln=arguments.length-2;if(ln===1)$t.children=_e;else if(1<ln){for(var En=Array(ln),St=0;St<ln;St++)En[St]=arguments[St+2];$t.children=En}if(Fe&&Fe.defaultProps)for(Ct in ln=Fe.defaultProps,ln)$t[Ct]===void 0&&($t[Ct]=ln[Ct]);return De(Fe,qt,$t)},Br.createRef=function(){return{current:null}},Br.forwardRef=function(Fe){return{$$typeof:m,render:Fe}},Br.isValidElement=it,Br.lazy=function(Fe){return{$$typeof:_,_payload:{_status:-1,_result:Fe},_init:ot}},Br.memo=function(Fe,et){return{$$typeof:v,type:Fe,compare:et===void 0?null:et}},Br.startTransition=function(Fe){var et=fe.T,_e={};fe.T=_e;try{var Ct=Fe(),$t=fe.S;$t!==null&&$t(_e,Ct),typeof Ct=="object"&&Ct!==null&&typeof Ct.then=="function"&&Ct.then(Y,Lt)}catch(qt){Lt(qt)}finally{et!==null&&_e.types!==null&&(et.types=_e.types),fe.T=et}},Br.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Br.use=function(Fe){return fe.H.use(Fe)},Br.useActionState=function(Fe,et,_e){return fe.H.useActionState(Fe,et,_e)},Br.useCallback=function(Fe,et){return fe.H.useCallback(Fe,et)},Br.useContext=function(Fe){return fe.H.useContext(Fe)},Br.useDebugValue=function(){},Br.useDeferredValue=function(Fe,et){return fe.H.useDeferredValue(Fe,et)},Br.useEffect=function(Fe,et){return fe.H.useEffect(Fe,et)},Br.useEffectEvent=function(Fe){return fe.H.useEffectEvent(Fe)},Br.useId=function(){return fe.H.useId()},Br.useImperativeHandle=function(Fe,et,_e){return fe.H.useImperativeHandle(Fe,et,_e)},Br.useInsertionEffect=function(Fe,et){return fe.H.useInsertionEffect(Fe,et)},Br.useLayoutEffect=function(Fe,et){return fe.H.useLayoutEffect(Fe,et)},Br.useMemo=function(Fe,et){return fe.H.useMemo(Fe,et)},Br.useOptimistic=function(Fe,et){return fe.H.useOptimistic(Fe,et)},Br.useReducer=function(Fe,et,_e){return fe.H.useReducer(Fe,et,_e)},Br.useRef=function(Fe){return fe.H.useRef(Fe)},Br.useState=function(Fe){return fe.H.useState(Fe)},Br.useSyncExternalStore=function(Fe,et,_e){return fe.H.useSyncExternalStore(Fe,et,_e)},Br.useTransition=function(){return fe.H.useTransition()},Br.version="19.2.0",Br}var cb;function j5(){return cb||(cb=1,b7.exports=NA()),b7.exports}var vn=j5();const Ws=l0(vn);var y7={exports:{}},Up={},_7={exports:{}},T7={};var hb;function OA(){return hb||(hb=1,(function(t){function n(Pe,nt){var ot=Pe.length;Pe.push(nt);e:for(;0<ot;){var Lt=ot-1>>>1,de=Pe[Lt];if(0<a(de,nt))Pe[Lt]=nt,Pe[ot]=de,ot=Lt;else break e}}function r(Pe){return Pe.length===0?null:Pe[0]}function s(Pe){if(Pe.length===0)return null;var nt=Pe[0],ot=Pe.pop();if(ot!==nt){Pe[0]=ot;e:for(var Lt=0,de=Pe.length,Fe=de>>>1;Lt<Fe;){var et=2*(Lt+1)-1,_e=Pe[et],Ct=et+1,$t=Pe[Ct];if(0>a(_e,ot))Ct<de&&0>a($t,_e)?(Pe[Lt]=$t,Pe[Ct]=ot,Lt=Ct):(Pe[Lt]=_e,Pe[et]=ot,Lt=et);else if(Ct<de&&0>a($t,ot))Pe[Lt]=$t,Pe[Ct]=ot,Lt=Ct;else break e}}return nt}function a(Pe,nt){var ot=Pe.sortIndex-nt.sortIndex;return ot!==0?ot:Pe.id-nt.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();t.unstable_now=function(){return d.now()-m}}var $=[],v=[],_=1,T=null,S=3,k=!1,P=!1,G=!1,X=!1,R=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ie(Pe){for(var nt=r(v);nt!==null;){if(nt.callback===null)s(v);else if(nt.startTime<=Pe)s(v),nt.sortIndex=nt.expirationTime,n($,nt);else break;nt=r(v)}}function se(Pe){if(G=!1,ie(Pe),!P)if(r($)!==null)P=!0,Y||(Y=!0,ze());else{var nt=r(v);nt!==null&&rt(se,nt.startTime-Pe)}}var Y=!1,fe=-1,Ie=5,De=-1;function Ue(){return X?!0:!(t.unstable_now()-De<Ie)}function it(){if(X=!1,Y){var Pe=t.unstable_now();De=Pe;var nt=!0;try{e:{P=!1,G&&(G=!1,W(fe),fe=-1),k=!0;var ot=S;try{t:{for(ie(Pe),T=r($);T!==null&&!(T.expirationTime>Pe&&Ue());){var Lt=T.callback;if(typeof Lt=="function"){T.callback=null,S=T.priorityLevel;var de=Lt(T.expirationTime<=Pe);if(Pe=t.unstable_now(),typeof de=="function"){T.callback=de,ie(Pe),nt=!0;break t}T===r($)&&s($),ie(Pe)}else s($);T=r($)}if(T!==null)nt=!0;else{var Fe=r(v);Fe!==null&&rt(se,Fe.startTime-Pe),nt=!1}}break e}finally{T=null,S=ot,k=!1}nt=void 0}}finally{nt?ze():Y=!1}}}var ze;if(typeof te=="function")ze=function(){te(it)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,Oe=dt.port2;dt.port1.onmessage=it,ze=function(){Oe.postMessage(null)}}else ze=function(){R(it,0)};function rt(Pe,nt){fe=R(function(){Pe(t.unstable_now())},nt)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Pe){Pe.callback=null},t.unstable_forceFrameRate=function(Pe){0>Pe||125<Pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<Pe?Math.floor(1e3/Pe):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(Pe){switch(S){case 1:case 2:case 3:var nt=3;break;default:nt=S}var ot=S;S=nt;try{return Pe()}finally{S=ot}},t.unstable_requestPaint=function(){X=!0},t.unstable_runWithPriority=function(Pe,nt){switch(Pe){case 1:case 2:case 3:case 4:case 5:break;default:Pe=3}var ot=S;S=Pe;try{return nt()}finally{S=ot}},t.unstable_scheduleCallback=function(Pe,nt,ot){var Lt=t.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Lt+ot:Lt):ot=Lt,Pe){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ot+de,Pe={id:_++,callback:nt,priorityLevel:Pe,startTime:ot,expirationTime:de,sortIndex:-1},ot>Lt?(Pe.sortIndex=ot,n(v,Pe),r($)===null&&Pe===r(v)&&(G?(W(fe),fe=-1):G=!0,rt(se,ot-Lt))):(Pe.sortIndex=de,n($,Pe),P||k||(P=!0,Y||(Y=!0,ze()))),Pe},t.unstable_shouldYield=Ue,t.unstable_wrapCallback=function(Pe){var nt=S;return function(){var ot=S;S=nt;try{return Pe.apply(this,arguments)}finally{S=ot}}}})(T7)),T7}var db;function RA(){return db||(db=1,_7.exports=OA()),_7.exports}var E7={exports:{}},Fl={};var fb;function LA(){if(fb)return Fl;fb=1;var t=j5();function n($){var v="https://react.dev/errors/"+$;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)v+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+$+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c($,v,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:$,containerInfo:v,implementation:_}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m($,v){if($==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Fl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fl.createPortal=function($,v){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return c($,v,null,_)},Fl.flushSync=function($){var v=d.T,_=s.p;try{if(d.T=null,s.p=2,$)return $()}finally{d.T=v,s.p=_,s.d.f()}},Fl.preconnect=function($,v){typeof $=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C($,v))},Fl.prefetchDNS=function($){typeof $=="string"&&s.d.D($)},Fl.preinit=function($,v){if(typeof $=="string"&&v&&typeof v.as=="string"){var _=v.as,T=m(_,v.crossOrigin),S=typeof v.integrity=="string"?v.integrity:void 0,k=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;_==="style"?s.d.S($,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:k}):_==="script"&&s.d.X($,{crossOrigin:T,integrity:S,fetchPriority:k,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Fl.preinitModule=function($,v){if(typeof $=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var _=m(v.as,v.crossOrigin);s.d.M($,{crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M($)},Fl.preload=function($,v){if(typeof $=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var _=v.as,T=m(_,v.crossOrigin);s.d.L($,_,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Fl.preloadModule=function($,v){if(typeof $=="string")if(v){var _=m(v.as,v.crossOrigin);s.d.m($,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m($)},Fl.requestFormReset=function($){s.d.r($)},Fl.unstable_batchedUpdates=function($,v){return $(v)},Fl.useFormState=function($,v,_){return d.H.useFormState($,v,_)},Fl.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fl.version="19.2.0",Fl}var pb;function DA(){if(pb)return E7.exports;pb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),E7.exports=LA(),E7.exports}var mb;function BA(){if(mb)return Up;mb=1;var t=RA(),n=j5(),r=DA();function s(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function c(o){var u=o,f=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(f=u.return),o=u.return;while(o)}return u.tag===3?f:null}function d(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function m(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function $(o){if(c(o)!==o)throw Error(s(188))}function v(o){var u=o.alternate;if(!u){if(u=c(o),u===null)throw Error(s(188));return u!==o?null:o}for(var f=o,b=u;;){var C=f.return;if(C===null)break;var N=C.alternate;if(N===null){if(b=C.return,b!==null){f=b;continue}break}if(C.child===N.child){for(N=C.child;N;){if(N===f)return $(C),o;if(N===b)return $(C),u;N=N.sibling}throw Error(s(188))}if(f.return!==b.return)f=C,b=N;else{for(var Q=!1,we=C.child;we;){if(we===f){Q=!0,f=C,b=N;break}if(we===b){Q=!0,b=C,f=N;break}we=we.sibling}if(!Q){for(we=N.child;we;){if(we===f){Q=!0,f=N,b=C;break}if(we===b){Q=!0,b=N,f=C;break}we=we.sibling}if(!Q)throw Error(s(189))}}if(f.alternate!==b)throw Error(s(190))}if(f.tag!==3)throw Error(s(188));return f.stateNode.current===f?o:u}function _(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=_(o),u!==null)return u;o=o.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),te=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),De=Symbol.for("react.activity"),Ue=Symbol.for("react.memo_cache_sentinel"),it=Symbol.iterator;function ze(o){return o===null||typeof o!="object"?null:(o=it&&o[it]||o["@@iterator"],typeof o=="function"?o:null)}var dt=Symbol.for("react.client.reference");function Oe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===dt?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case G:return"Fragment";case R:return"Profiler";case X:return"StrictMode";case se:return"Suspense";case Y:return"SuspenseList";case De:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case P:return"Portal";case te:return o.displayName||"Context";case W:return(o._context.displayName||"Context")+".Consumer";case ie:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case fe:return u=o.displayName||null,u!==null?u:Oe(o.type)||"Memo";case Ie:u=o._payload,o=o._init;try{return Oe(o(u))}catch{}}return null}var rt=Array.isArray,Pe=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Lt=[],de=-1;function Fe(o){return{current:o}}function et(o){0>de||(o.current=Lt[de],Lt[de]=null,de--)}function _e(o,u){de++,Lt[de]=o.current,o.current=u}var Ct=Fe(null),$t=Fe(null),qt=Fe(null),ln=Fe(null);function En(o,u){switch(_e(qt,u),_e($t,o),_e(Ct,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?Xo(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=Xo(u),o=y4(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}et(Ct),_e(Ct,o)}function St(){et(Ct),et($t),et(qt)}function Ut(o){o.memoizedState!==null&&_e(ln,o);var u=Ct.current,f=y4(u,o.type);u!==f&&(_e($t,o),_e(Ct,f))}function fn(o){$t.current===o&&(et(Ct),et($t)),ln.current===o&&(et(ln),R1._currentValue=ot)}var Ge,Qt;function Pn(o){if(Ge===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);Ge=u&&u[1]||"",Qt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ge+o+Qt}var Cn=!1;function Jn(o,u){if(!o||Cn)return"";Cn=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(u){var nn=function(){throw Error()};if(Object.defineProperty(nn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nn,[])}catch(zt){var Dt=zt}Reflect.construct(o,[],nn)}else{try{nn.call()}catch(zt){Dt=zt}o.call(nn.prototype)}}else{try{throw Error()}catch(zt){Dt=zt}(nn=o())&&typeof nn.catch=="function"&&nn.catch(function(){})}}catch(zt){if(zt&&Dt&&typeof zt.stack=="string")return[zt.stack,Dt.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=b.DetermineComponentFrameRoot(),Q=N[0],we=N[1];if(Q&&we){var tt=Q.split(`
`),wt=we.split(`
`);for(C=b=0;b<tt.length&&!tt[b].includes("DetermineComponentFrameRoot");)b++;for(;C<wt.length&&!wt[C].includes("DetermineComponentFrameRoot");)C++;if(b===tt.length||C===wt.length)for(b=tt.length-1,C=wt.length-1;1<=b&&0<=C&&tt[b]!==wt[C];)C--;for(;1<=b&&0<=C;b--,C--)if(tt[b]!==wt[C]){if(b!==1||C!==1)do if(b--,C--,0>C||tt[b]!==wt[C]){var Yt=`
`+tt[b].replace(" at new "," at ");return o.displayName&&Yt.includes("<anonymous>")&&(Yt=Yt.replace("<anonymous>",o.displayName)),Yt}while(1<=b&&0<=C);break}}}finally{Cn=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Pn(f):""}function cn(o,u){switch(o.tag){case 26:case 27:case 5:return Pn(o.type);case 16:return Pn("Lazy");case 13:return o.child!==u&&u!==null?Pn("Suspense Fallback"):Pn("Suspense");case 19:return Pn("SuspenseList");case 0:case 15:return Jn(o.type,!1);case 11:return Jn(o.type.render,!1);case 1:return Jn(o.type,!0);case 31:return Pn("Activity");default:return""}}function ri(o){try{var u="",f=null;do u+=cn(o,f),f=o,o=o.return;while(o);return u}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var Ai=Object.prototype.hasOwnProperty,lr=t.unstable_scheduleCallback,ls=t.unstable_cancelCallback,fi=t.unstable_shouldYield,ar=t.unstable_requestPaint,Zn=t.unstable_now,D=t.unstable_getCurrentPriorityLevel,ue=t.unstable_ImmediatePriority,Re=t.unstable_UserBlockingPriority,qe=t.unstable_NormalPriority,ct=t.unstable_LowPriority,st=t.unstable_IdlePriority,At=t.log,Ot=t.unstable_setDisableYieldValue,F=null,$e=null;function Ye(o){if(typeof At=="function"&&Ot(o),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(F,o)}catch{}}var We=Math.clz32?Math.clz32:Lr,Ht=Math.log,An=Math.LN2;function Lr(o){return o>>>=0,o===0?32:31-(Ht(o)/An|0)|0}var ne=256,Se=262144,B=4194304;function ee(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ce(o,u,f){var b=o.pendingLanes;if(b===0)return 0;var C=0,N=o.suspendedLanes,Q=o.pingedLanes;o=o.warmLanes;var we=b&134217727;return we!==0?(b=we&~N,b!==0?C=ee(b):(Q&=we,Q!==0?C=ee(Q):f||(f=we&~o,f!==0&&(C=ee(f))))):(we=b&~N,we!==0?C=ee(we):Q!==0?C=ee(Q):f||(f=b&~o,f!==0&&(C=ee(f)))),C===0?0:u!==0&&u!==C&&(u&N)===0&&(N=C&-C,f=u&-u,N>=f||N===32&&(f&4194048)!==0)?u:C}function je(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function Ft(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mn(){var o=B;return B<<=1,(B&62914560)===0&&(B=4194304),o}function Bn(o){for(var u=[],f=0;31>f;f++)u.push(o);return u}function $r(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Os(o,u,f,b,C,N){var Q=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var we=o.entanglements,tt=o.expirationTimes,wt=o.hiddenUpdates;for(f=Q&~f;0<f;){var Yt=31-We(f),nn=1<<Yt;we[Yt]=0,tt[Yt]=-1;var Dt=wt[Yt];if(Dt!==null)for(wt[Yt]=null,Yt=0;Yt<Dt.length;Yt++){var zt=Dt[Yt];zt!==null&&(zt.lane&=-536870913)}f&=~nn}b!==0&&as(o,b,0),N!==0&&C===0&&o.tag!==0&&(o.suspendedLanes|=N&~(Q&~u))}function as(o,u,f){o.pendingLanes|=u,o.suspendedLanes&=~u;var b=31-We(u);o.entangledLanes|=u,o.entanglements[b]=o.entanglements[b]|1073741824|f&261930}function kr(o,u){var f=o.entangledLanes|=u;for(o=o.entanglements;f;){var b=31-We(f),C=1<<b;C&u|o[b]&u&&(o[b]|=u),f&=~C}}function z(o,u){var f=u&-u;return f=(f&42)!==0?1:J(f),(f&(o.suspendedLanes|u))!==0?0:f}function J(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function on(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function A(){var o=nt.p;return o!==0?o:(o=window.event,o===void 0?32:Mp(o.type))}function V(o,u){var f=nt.p;try{return nt.p=o,u()}finally{nt.p=f}}var oe=Math.random().toString(36).slice(2),re="__reactFiber$"+oe,Ne="__reactProps$"+oe,ae="__reactContainer$"+oe,Me="__reactEvents$"+oe,Qe="__reactListeners$"+oe,ht="__reactHandles$"+oe,mt="__reactResources$"+oe,he="__reactMarker$"+oe;function Vt(o){delete o[re],delete o[Ne],delete o[Me],delete o[Qe],delete o[ht]}function Le(o){var u=o[re];if(u)return u;for(var f=o.parentNode;f;){if(u=f[ae]||f[re]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(o=qi(o);o!==null;){if(f=o[re])return f;o=qi(o)}return u}o=f,f=o.parentNode}return null}function On(o){if(o=o[re]||o[ae]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function Fn(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(s(33))}function Vr(o){var u=o[mt];return u||(u=o[mt]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function yr(o){o[he]=!0}var Vn=new Set,us={};function pi(o,u){yn(o,u),yn(o+"Capture",u)}function yn(o,u){for(us[o]=u,o=0;o<u.length;o++)Vn.add(u[o])}var Or=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zs={},mi={};function Pr(o){return Ai.call(mi,o)?!0:Ai.call(zs,o)?!1:Or.test(o)?mi[o]=!0:(zs[o]=!0,!1)}function an(o,u,f){if(Pr(u))if(f===null)o.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var b=u.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+f)}}function Te(o,u,f){if(f===null)o.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+f)}}function Di(o,u,f,b){if(b===null)o.removeAttribute(f);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(u,f,""+b)}}function Ts(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function _r(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Gr(o,u,f){var b=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var C=b.get,N=b.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return C.call(this)},set:function(Q){f=""+Q,N.call(this,Q)}}),Object.defineProperty(o,u,{enumerable:b.enumerable}),{getValue:function(){return f},setValue:function(Q){f=""+Q},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function xn(o){if(!o._valueTracker){var u=_r(o)?"checked":"value";o._valueTracker=Gr(o,u,""+o[u])}}function cr(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var f=u.getValue(),b="";return o&&(b=_r(o)?o.checked?"true":"false":o.value),o=b,o!==f?(u.setValue(o),!0):!1}function Kr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var K0=/[\n"\\]/g;function io(o){return o.replace(K0,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function ir(o,u,f,b,C,N,Q,we){o.name="",Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?o.type=Q:o.removeAttribute("type"),u!=null?Q==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+Ts(u)):o.value!==""+Ts(u)&&(o.value=""+Ts(u)):Q!=="submit"&&Q!=="reset"||o.removeAttribute("value"),u!=null?I(o,Q,Ts(u)):f!=null?I(o,Q,Ts(f)):b!=null&&o.removeAttribute("value"),C==null&&N!=null&&(o.defaultChecked=!!N),C!=null&&(o.checked=C&&typeof C!="function"&&typeof C!="symbol"),we!=null&&typeof we!="function"&&typeof we!="symbol"&&typeof we!="boolean"?o.name=""+Ts(we):o.removeAttribute("name")}function p(o,u,f,b,C,N,Q,we){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.type=N),u!=null||f!=null){if(!(N!=="submit"&&N!=="reset"||u!=null)){xn(o);return}f=f!=null?""+Ts(f):"",u=u!=null?""+Ts(u):f,we||u===o.value||(o.value=u),o.defaultValue=u}b=b??C,b=typeof b!="function"&&typeof b!="symbol"&&!!b,o.checked=we?o.checked:!!b,o.defaultChecked=!!b,Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"&&(o.name=Q),xn(o)}function I(o,u,f){u==="number"&&Kr(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function H(o,u,f,b){if(o=o.options,u){u={};for(var C=0;C<f.length;C++)u["$"+f[C]]=!0;for(f=0;f<o.length;f++)C=u.hasOwnProperty("$"+o[f].value),o[f].selected!==C&&(o[f].selected=C),C&&b&&(o[f].defaultSelected=!0)}else{for(f=""+Ts(f),u=null,C=0;C<o.length;C++){if(o[C].value===f){o[C].selected=!0,b&&(o[C].defaultSelected=!0);return}u!==null||o[C].disabled||(u=o[C])}u!==null&&(u.selected=!0)}}function j(o,u,f){if(u!=null&&(u=""+Ts(u),u!==o.value&&(o.value=u),f==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=f!=null?""+Ts(f):""}function pe(o,u,f,b){if(u==null){if(b!=null){if(f!=null)throw Error(s(92));if(rt(b)){if(1<b.length)throw Error(s(93));b=b[0]}f=b}f==null&&(f=""),u=f}f=Ts(u),o.defaultValue=f,b=o.textContent,b===f&&b!==""&&b!==null&&(o.value=b),xn(o)}function be(o,u){if(u){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=u;return}}o.textContent=u}var He=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xe(o,u,f){var b=u.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?b?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":b?o.setProperty(u,f):typeof f!="number"||f===0||He.has(u)?u==="float"?o.cssFloat=f:o[u]=(""+f).trim():o[u]=f+"px"}function _t(o,u,f){if(u!=null&&typeof u!="object")throw Error(s(62));if(o=o.style,f!=null){for(var b in f)!f.hasOwnProperty(b)||u!=null&&u.hasOwnProperty(b)||(b.indexOf("--")===0?o.setProperty(b,""):b==="float"?o.cssFloat="":o[b]="");for(var C in u)b=u[C],u.hasOwnProperty(C)&&f[C]!==b&&xe(o,C,b)}else for(var N in u)u.hasOwnProperty(N)&&xe(o,N,u[N])}function Bt(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function en(o){return bn.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function hn(){}var Rn=null;function wn(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var jt=null,hr=null;function jn(o){var u=On(o);if(u&&(o=u.stateNode)){var f=o[Ne]||null;e:switch(o=u.stateNode,u.type){case"input":if(ir(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),u=f.name,f.type==="radio"&&u!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+io(""+u)+'"][type="radio"]'),u=0;u<f.length;u++){var b=f[u];if(b!==o&&b.form===o.form){var C=b[Ne]||null;if(!C)throw Error(s(90));ir(b,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(u=0;u<f.length;u++)b=f[u],b.form===o.form&&cr(b)}break e;case"textarea":j(o,f.value,f.defaultValue);break e;case"select":u=f.value,u!=null&&H(o,!!f.multiple,u,!1)}}}var sr=!1;function qr(o,u,f){if(sr)return o(u,f);sr=!0;try{var b=o(u);return b}finally{if(sr=!1,(jt!==null||hr!==null)&&(Md(),jt&&(u=jt,o=hr,hr=jt=null,jn(u),o)))for(u=0;u<o.length;u++)jn(o[u])}}function fr(o,u){var f=o.stateNode;if(f===null)return null;var b=f[Ne]||null;if(b===null)return null;f=b[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(o=o.type,b=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!b;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(s(231,u,typeof f));return f}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),so=!1;if(ai)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){so=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{so=!1}var Xn=null,gi=null,Bi=null;function ji(){if(Bi)return Bi;var o,u=gi,f=u.length,b,C="value"in Xn?Xn.value:Xn.textContent,N=C.length;for(o=0;o<f&&u[o]===C[o];o++);var Q=f-o;for(b=1;b<=Q&&u[f-b]===C[N-b];b++);return Bi=C.slice(o,1<b?1-b:void 0)}function cs(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function ui(){return!0}function tr(){return!1}function ii(o){function u(f,b,C,N,Q){this._reactName=f,this._targetInst=C,this.type=b,this.nativeEvent=N,this.target=Q,this.currentTarget=null;for(var we in o)o.hasOwnProperty(we)&&(f=o[we],this[we]=f?f(N):N[we]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?ui:tr,this.isPropagationStopped=tr,this}return T(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),u}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=ii(Ei),ci=T({},Ei,{view:0,detail:0}),Xs=ii(ci),Mo,rn,Pi,ts=T({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mc,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Pi&&(Pi&&o.type==="mousemove"?(Mo=o.screenX-Pi.screenX,rn=o.screenY-Pi.screenY):rn=Mo=0,Pi=o),Mo)},movementY:function(o){return"movementY"in o?o.movementY:rn}}),$a=ii(ts),va=T({},ts,{dataTransfer:0}),Ys=ii(va),Hs=T({},ci,{relatedTarget:0}),ei=ii(Hs),Rs=T({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Qo=ii(Rs),Wl=T({},Ei,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),jl=ii(Wl),Xl=T({},Ei,{data:0}),Ou=ii(Xl),Eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ld(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=Gh[o])?!!u[o]:!1}function Mc(){return ld}var _l=T({},ci,{key:function(o){if(o.key){var u=Eo[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=cs(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Vh[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mc,charCode:function(o){return o.type==="keypress"?cs(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?cs(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Er=ii(_l),Ru=T({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u0=ii(Ru),J0=T({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mc}),Nc=ii(J0),Oa=T({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ra=ii(Oa),qh=T({},ts,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),La=ii(qh),Z0=T({},Ei,{newState:0,oldState:0}),c0=ii(Z0),Oc=[9,13,27,32],Da=ai&&"CompositionEvent"in window,Yl=null;ai&&"documentMode"in document&&(Yl=document.documentMode);var Rc=ai&&"TextEvent"in window&&!Yl,Lc=ai&&(!Da||Yl&&8<Yl&&11>=Yl),Lu=" ",Q0=!1;function eu(o,u){switch(o){case"keyup":return Oc.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h0(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Kl=!1;function tu(o,u){switch(o){case"compositionend":return h0(u);case"keypress":return u.which!==32?null:(Q0=!0,Lu);case"textInput":return o=u.data,o===Lu&&Q0?null:o;default:return null}}function Du(o,u){if(Kl)return o==="compositionend"||!Da&&eu(o,u)?(o=ji(),Bi=gi=Xn=null,Kl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Lc&&u.locale!=="ko"?null:u.data;default:return null}}var Tl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Tl[o.type]:u==="textarea"}function O(o,u,f,b){jt?hr?hr.push(b):hr=[b]:jt=b,u=S1(u,"onChange"),0<u.length&&(f=new To("onChange","change",null,f,b),o.push({event:f,listeners:u}))}var me=null,ke=null;function Xe(o){Dl(o,0)}function at(o){var u=Fn(o);if(cr(u))return o}function vt(o,u){if(o==="change")return u}var Rt=!1;if(ai){var Jt;if(ai){var tn="oninput"in document;if(!tn){var _n=document.createElement("div");_n.setAttribute("oninput","return;"),tn=typeof _n.oninput=="function"}Jt=tn}else Jt=!1;Rt=Jt&&(!document.documentMode||9<document.documentMode)}function Pt(){me&&(me.detachEvent("onpropertychange",Qn),ke=me=null)}function Qn(o){if(o.propertyName==="value"&&at(ke)){var u=[];O(u,ke,o,wn(o)),qr(Xe,u)}}function Gn(o,u,f){o==="focusin"?(Pt(),me=u,ke=f,me.attachEvent("onpropertychange",Qn)):o==="focusout"&&Pt()}function er(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return at(ke)}function ur(o,u){if(o==="click")return at(u)}function Cr(o,u){if(o==="input"||o==="change")return at(u)}function Wr(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var un=typeof Object.is=="function"?Object.is:Wr;function Hn(o,u){if(un(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var f=Object.keys(o),b=Object.keys(u);if(f.length!==b.length)return!1;for(b=0;b<f.length;b++){var C=f[b];if(!Ai.call(u,C)||!un(o[C],u[C]))return!1}return!0}function Fr(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function mr(o,u){var f=Fr(o);o=0;for(var b;f;){if(f.nodeType===3){if(b=o+f.textContent.length,o<=u&&b>=u)return{node:f,offset:u-o};o=b}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Fr(f)}}function ti(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?ti(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function $i(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Kr(o.document);u instanceof o.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)o=u.contentWindow;else break;u=Kr(o.document)}return u}function si(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var hi=ai&&"documentMode"in document&&11>=document.documentMode,oi=null,Ii=null,jr=null,Xi=!1;function Es(o,u,f){var b=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Xi||oi==null||oi!==Kr(b)||(b=oi,"selectionStart"in b&&si(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),jr&&Hn(jr,b)||(jr=b,b=S1(Ii,"onSelect"),0<b.length&&(u=new To("onSelect","select",null,u,f),o.push({event:u,listeners:b}),u.target=oi)))}function Ls(o,u){var f={};return f[o.toLowerCase()]=u.toLowerCase(),f["Webkit"+o]="webkit"+u,f["Moz"+o]="moz"+u,f}var Mi={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},Ks={},wo={};ai&&(wo=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function Ds(o){if(Ks[o])return Ks[o];if(!Mi[o])return o;var u=Mi[o],f;for(f in u)if(u.hasOwnProperty(f)&&f in wo)return Ks[o]=u[f];return o}var Dr=Ds("animationend"),gs=Ds("animationiteration"),ye=Ds("animationstart"),Ni=Ds("transitionrun"),hs=Ds("transitionstart"),El=Ds("transitioncancel"),po=Ds("transitionend"),xo=new Map,oo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oo.push("scrollEnd");function $s(o,u){xo.set(o,u),pi(u,[o])}var gr=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},lo=[],Fi=0,So=0;function ba(){for(var o=Fi,u=So=Fi=0;u<o;){var f=lo[u];lo[u++]=null;var b=lo[u];lo[u++]=null;var C=lo[u];lo[u++]=null;var N=lo[u];if(lo[u++]=null,b!==null&&C!==null){var Q=b.pending;Q===null?C.next=C:(C.next=Q.next,Q.next=C),b.pending=C}N!==0&&Dc(f,C,N)}}function Jl(o,u,f,b){lo[Fi++]=o,lo[Fi++]=u,lo[Fi++]=f,lo[Fi++]=b,So|=b,o.lanes|=b,o=o.alternate,o!==null&&(o.lanes|=b)}function Ba(o,u,f,b){return Jl(o,u,f,b),Zl(o)}function ul(o,u){return Jl(o,null,null,u),Zl(o)}function Dc(o,u,f){o.lanes|=f;var b=o.alternate;b!==null&&(b.lanes|=f);for(var C=!1,N=o.return;N!==null;)N.childLanes|=f,b=N.alternate,b!==null&&(b.childLanes|=f),N.tag===22&&(o=N.stateNode,o===null||o._visibility&1||(C=!0)),o=N,N=N.return;return o.tag===3?(N=o.stateNode,C&&u!==null&&(C=31-We(f),o=N.hiddenUpdates,b=o[C],b===null?o[C]=[u]:b.push(u),u.lane=f|536870912),N):null}function Zl(o){if(50<b1)throw b1=0,Ps=null,Error(s(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var wl={};function Bc(o,u,f,b){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function No(o,u,f,b){return new Bc(o,u,f,b)}function Pc(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ql(o,u){var f=o.alternate;return f===null?(f=No(o.tag,u,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=u,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,u=o.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function bf(o,u){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,u=f.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function d0(o,u,f,b,C,N){var Q=0;if(b=o,typeof o=="function")Pc(o)&&(Q=1);else if(typeof o=="string")Q=D0(o,f,Ct.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case De:return o=No(31,f,u,C),o.elementType=De,o.lanes=N,o;case G:return Pa(f.children,C,N,u);case X:Q=8,C|=24;break;case R:return o=No(12,f,u,C|2),o.elementType=R,o.lanes=N,o;case se:return o=No(13,f,u,C),o.elementType=se,o.lanes=N,o;case Y:return o=No(19,f,u,C),o.elementType=Y,o.lanes=N,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case te:Q=10;break e;case W:Q=9;break e;case ie:Q=11;break e;case fe:Q=14;break e;case Ie:Q=16,b=null;break e}Q=29,f=Error(s(130,o===null?"null":typeof o,"")),b=null}return u=No(Q,f,u,C),u.elementType=o,u.type=b,u.lanes=N,u}function Pa(o,u,f,b){return o=No(7,o,b,u),o.lanes=f,o}function Bu(o,u,f){return o=No(6,o,null,u),o.lanes=f,o}function f0(o){var u=No(18,null,null,0);return u.stateNode=o,u}function Fa(o,u,f){return u=No(4,o.children!==null?o.children:[],o.key,u),u.lanes=f,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var nu=new WeakMap;function cl(o,u){if(typeof o=="object"&&o!==null){var f=nu.get(o);return f!==void 0?f:(u={value:o,source:u,stack:ri(u)},nu.set(o,u),u)}return{value:o,source:u,stack:ri(u)}}var ru=[],ea=0,Fc=null,p0=0,Oo=[],el=0,ya=null,tl=1,hl="";function Go(o,u){ru[ea++]=p0,ru[ea++]=Fc,Fc=o,p0=u}function Uc(o,u,f){Oo[el++]=tl,Oo[el++]=hl,Oo[el++]=ya,ya=o;var b=tl;o=hl;var C=32-We(b)-1;b&=~(1<<C),f+=1;var N=32-We(u)+C;if(30<N){var Q=C-C%5;N=(b&(1<<Q)-1).toString(32),b>>=Q,C-=Q,tl=1<<32-We(u)+C|f<<C|b,hl=N+o}else tl=1<<N|f<<C|b,hl=o}function zc(o){o.return!==null&&(Go(o,1),Uc(o,1,0))}function ta(o){for(;o===Fc;)Fc=ru[--ea],ru[ea]=null,p0=ru[--ea],ru[ea]=null;for(;o===ya;)ya=Oo[--el],Oo[el]=null,hl=Oo[--el],Oo[el]=null,tl=Oo[--el],Oo[el]=null}function Hc(o,u){Oo[el++]=tl,Oo[el++]=hl,Oo[el++]=ya,tl=u.id,hl=u.overflow,ya=o}var ds=null,ns=null,Jr=!1,Ua=null,Js=!1,_a=Error(s(519));function Ta(o){var u=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw su(cl(u,o)),_a}function ad(o){var u=o.stateNode,f=o.type,b=o.memoizedProps;switch(u[re]=o,u[Ne]=b,f){case"dialog":Yr("cancel",u),Yr("close",u);break;case"iframe":case"object":case"embed":Yr("load",u);break;case"video":case"audio":for(f=0;f<O0.length;f++)Yr(O0[f],u);break;case"source":Yr("error",u);break;case"img":case"image":case"link":Yr("error",u),Yr("load",u);break;case"details":Yr("toggle",u);break;case"input":Yr("invalid",u),p(u,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":Yr("invalid",u);break;case"textarea":Yr("invalid",u),pe(u,b.value,b.defaultValue,b.children)}f=b.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||u.textContent===""+f||b.suppressHydrationWarning===!0||Ud(u.textContent,f)?(b.popover!=null&&(Yr("beforetoggle",u),Yr("toggle",u)),b.onScroll!=null&&Yr("scroll",u),b.onScrollEnd!=null&&Yr("scrollend",u),b.onClick!=null&&(u.onclick=hn),u=!0):u=!1,u||Ta(o,!0)}function ud(o){for(ds=o.return;ds;)switch(ds.tag){case 5:case 31:case 13:Js=!1;return;case 27:case 3:Js=!0;return;default:ds=ds.return}}function iu(o){if(o!==ds)return!1;if(!Jr)return ud(o),Jr=!0,!1;var u=o.tag,f;if((f=u!==3&&u!==27)&&((f=u===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||mp(o.type,o.memoizedProps)),f=!f),f&&ns&&Ta(o),ud(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));ns=Sa(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));ns=Sa(o)}else u===27?(u=ns,sc(o.type)?(o=vp,vp=null,ns=o):ns=u):ns=ds?Yo(o.stateNode.nextSibling):null;return!0}function Ea(){ns=ds=null,Jr=!1}function Wh(){var o=Ua;return o!==null&&(bo===null?bo=o:bo.push.apply(bo,o),Ua=null),o}function su(o){Ua===null?Ua=[o]:Ua.push(o)}var Vc=Fe(null),m0=null,na=null;function za(o,u,f){_e(Vc,u._currentValue),u._currentValue=f}function ra(o){o._currentValue=Vc.current,et(Vc)}function ou(o,u,f){for(;o!==null;){var b=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),o===f)break;o=o.return}}function dl(o,u,f,b){var C=o.child;for(C!==null&&(C.return=o);C!==null;){var N=C.dependencies;if(N!==null){var Q=C.child;N=N.firstContext;e:for(;N!==null;){var we=N;N=C;for(var tt=0;tt<u.length;tt++)if(we.context===u[tt]){N.lanes|=f,we=N.alternate,we!==null&&(we.lanes|=f),ou(N.return,f,o),b||(Q=null);break e}N=we.next}}else if(C.tag===18){if(Q=C.return,Q===null)throw Error(s(341));Q.lanes|=f,N=Q.alternate,N!==null&&(N.lanes|=f),ou(Q,f,o),Q=null}else Q=C.child;if(Q!==null)Q.return=C;else for(Q=C;Q!==null;){if(Q===o){Q=null;break}if(C=Q.sibling,C!==null){C.return=Q.return,Q=C;break}Q=Q.return}C=Q}}function Ha(o,u,f,b){o=null;for(var C=u,N=!1;C!==null;){if(!N){if((C.flags&524288)!==0)N=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var Q=C.alternate;if(Q===null)throw Error(s(387));if(Q=Q.memoizedProps,Q!==null){var we=C.type;un(C.pendingProps.value,Q.value)||(o!==null?o.push(we):o=[we])}}else if(C===ln.current){if(Q=C.alternate,Q===null)throw Error(s(387));Q.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(o!==null?o.push(R1):o=[R1])}C=C.return}o!==null&&dl(u,o,f,b),u.flags|=262144}function Pu(o){for(o=o.firstContext;o!==null;){if(!un(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function fl(o){m0=o,na=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ao(o){return Uu(m0,o)}function Fu(o,u){return m0===null&&fl(o),Uu(o,u)}function Uu(o,u){var f=u._currentValue;if(u={context:u,memoizedValue:f,next:null},na===null){if(o===null)throw Error(s(308));na=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else na=na.next=u;return f}var Gc=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(f,b){o.push(b)}};this.abort=function(){u.aborted=!0,o.forEach(function(f){return f()})}},jh=t.unstable_scheduleCallback,cd=t.unstable_NormalPriority,ms={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qc(){return{controller:new Gc,data:new Map,refCount:0}}function Va(o){o.refCount--,o.refCount===0&&jh(cd,function(){o.controller.abort()})}var Ga=null,Xh=0,lu=0,g0=null;function Yh(o,u){if(Ga===null){var f=Ga=[];Xh=0,lu=Ll(),g0={status:"pending",value:void 0,then:function(b){f.push(b)}}}return Xh++,u.then(qn,qn),u}function qn(){if(--Xh===0&&Ga!==null){g0!==null&&(g0.status="fulfilled");var o=Ga;Ga=null,lu=0,g0=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function pl(o,u){var f=[],b={status:"pending",value:null,reason:null,then:function(C){f.push(C)}};return o.then(function(){b.status="fulfilled",b.value=u;for(var C=0;C<f.length;C++)(0,f[C])(u)},function(C){for(b.status="rejected",b.reason=C,C=0;C<f.length;C++)(0,f[C])(void 0)}),b}var mo=Pe.S;Pe.S=function(o,u){ip=Zn(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&Yh(o,u),mo!==null&&mo(o,u)};var Ui=Fe(null);function xl(){var o=Ui.current;return o!==null?o:Hi.pooledCache}function y(o,u){u===null?_e(Ui,Ui.current):_e(Ui,u.pool)}function g(){var o=xl();return o===null?null:{parent:ms._currentValue,pool:o}}var E=Error(s(460)),M=Error(s(474)),U=Error(s(542)),K={then:function(){}};function le(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Ee(o,u,f){switch(f=o[f],f===void 0?o.push(u):f!==u&&(u.then(hn,hn),u=f),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,bt(o),o;default:if(typeof u.status=="string")u.then(hn,hn);else{if(o=Hi,o!==null&&100<o.shellSuspendCounter)throw Error(s(482));o=u,o.status="pending",o.then(function(b){if(u.status==="pending"){var C=u;C.status="fulfilled",C.value=b}},function(b){if(u.status==="pending"){var C=u;C.status="rejected",C.reason=b}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,bt(o),o}throw Ze=u,E}}function Be(o){try{var u=o._init;return u(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Ze=f,E):f}}var Ze=null;function pt(){if(Ze===null)throw Error(s(459));var o=Ze;return Ze=null,o}function bt(o){if(o===E||o===U)throw Error(s(483))}var Nt=null,sn=0;function kn(o){var u=sn;return sn+=1,Nt===null&&(Nt=[]),Ee(Nt,o,u)}function Un(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function Ur(o,u){throw u.$$typeof===S?Error(s(525)):(o=Object.prototype.toString.call(u),Error(s(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function wr(o){function u(gt,ut){if(o){var Et=gt.deletions;Et===null?(gt.deletions=[ut],gt.flags|=16):Et.push(ut)}}function f(gt,ut){if(!o)return null;for(;ut!==null;)u(gt,ut),ut=ut.sibling;return null}function b(gt){for(var ut=new Map;gt!==null;)gt.key!==null?ut.set(gt.key,gt):ut.set(gt.index,gt),gt=gt.sibling;return ut}function C(gt,ut){return gt=Ql(gt,ut),gt.index=0,gt.sibling=null,gt}function N(gt,ut,Et){return gt.index=Et,o?(Et=gt.alternate,Et!==null?(Et=Et.index,Et<ut?(gt.flags|=67108866,ut):Et):(gt.flags|=67108866,ut)):(gt.flags|=1048576,ut)}function Q(gt){return o&&gt.alternate===null&&(gt.flags|=67108866),gt}function we(gt,ut,Et,Kt){return ut===null||ut.tag!==6?(ut=Bu(Et,gt.mode,Kt),ut.return=gt,ut):(ut=C(ut,Et),ut.return=gt,ut)}function tt(gt,ut,Et,Kt){var nr=Et.type;return nr===G?Yt(gt,ut,Et.props.children,Kt,Et.key):ut!==null&&(ut.elementType===nr||typeof nr=="object"&&nr!==null&&nr.$$typeof===Ie&&Be(nr)===ut.type)?(ut=C(ut,Et.props),Un(ut,Et),ut.return=gt,ut):(ut=d0(Et.type,Et.key,Et.props,null,gt.mode,Kt),Un(ut,Et),ut.return=gt,ut)}function wt(gt,ut,Et,Kt){return ut===null||ut.tag!==4||ut.stateNode.containerInfo!==Et.containerInfo||ut.stateNode.implementation!==Et.implementation?(ut=Fa(Et,gt.mode,Kt),ut.return=gt,ut):(ut=C(ut,Et.children||[]),ut.return=gt,ut)}function Yt(gt,ut,Et,Kt,nr){return ut===null||ut.tag!==7?(ut=Pa(Et,gt.mode,Kt,nr),ut.return=gt,ut):(ut=C(ut,Et),ut.return=gt,ut)}function nn(gt,ut,Et){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return ut=Bu(""+ut,gt.mode,Et),ut.return=gt,ut;if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case k:return Et=d0(ut.type,ut.key,ut.props,null,gt.mode,Et),Un(Et,ut),Et.return=gt,Et;case P:return ut=Fa(ut,gt.mode,Et),ut.return=gt,ut;case Ie:return ut=Be(ut),nn(gt,ut,Et)}if(rt(ut)||ze(ut))return ut=Pa(ut,gt.mode,Et,null),ut.return=gt,ut;if(typeof ut.then=="function")return nn(gt,kn(ut),Et);if(ut.$$typeof===te)return nn(gt,Fu(gt,ut),Et);Ur(gt,ut)}return null}function Dt(gt,ut,Et,Kt){var nr=ut!==null?ut.key:null;if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return nr!==null?null:we(gt,ut,""+Et,Kt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case k:return Et.key===nr?tt(gt,ut,Et,Kt):null;case P:return Et.key===nr?wt(gt,ut,Et,Kt):null;case Ie:return Et=Be(Et),Dt(gt,ut,Et,Kt)}if(rt(Et)||ze(Et))return nr!==null?null:Yt(gt,ut,Et,Kt,null);if(typeof Et.then=="function")return Dt(gt,ut,kn(Et),Kt);if(Et.$$typeof===te)return Dt(gt,ut,Fu(gt,Et),Kt);Ur(gt,Et)}return null}function zt(gt,ut,Et,Kt,nr){if(typeof Kt=="string"&&Kt!==""||typeof Kt=="number"||typeof Kt=="bigint")return gt=gt.get(Et)||null,we(ut,gt,""+Kt,nr);if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case k:return gt=gt.get(Kt.key===null?Et:Kt.key)||null,tt(ut,gt,Kt,nr);case P:return gt=gt.get(Kt.key===null?Et:Kt.key)||null,wt(ut,gt,Kt,nr);case Ie:return Kt=Be(Kt),zt(gt,ut,Et,Kt,nr)}if(rt(Kt)||ze(Kt))return gt=gt.get(Et)||null,Yt(ut,gt,Kt,nr,null);if(typeof Kt.then=="function")return zt(gt,ut,Et,kn(Kt),nr);if(Kt.$$typeof===te)return zt(gt,ut,Et,Fu(ut,Kt),nr);Ur(ut,Kt)}return null}function Dn(gt,ut,Et,Kt){for(var nr=null,_i=null,Wn=ut,Mn=ut=0,li=null;Wn!==null&&Mn<Et.length;Mn++){Wn.index>Mn?(li=Wn,Wn=null):li=Wn.sibling;var Ci=Dt(gt,Wn,Et[Mn],Kt);if(Ci===null){Wn===null&&(Wn=li);break}o&&Wn&&Ci.alternate===null&&u(gt,Wn),ut=N(Ci,ut,Mn),_i===null?nr=Ci:_i.sibling=Ci,_i=Ci,Wn=li}if(Mn===Et.length)return f(gt,Wn),Jr&&Go(gt,Mn),nr;if(Wn===null){for(;Mn<Et.length;Mn++)Wn=nn(gt,Et[Mn],Kt),Wn!==null&&(ut=N(Wn,ut,Mn),_i===null?nr=Wn:_i.sibling=Wn,_i=Wn);return Jr&&Go(gt,Mn),nr}for(Wn=b(Wn);Mn<Et.length;Mn++)li=zt(Wn,gt,Mn,Et[Mn],Kt),li!==null&&(o&&li.alternate!==null&&Wn.delete(li.key===null?Mn:li.key),ut=N(li,ut,Mn),_i===null?nr=li:_i.sibling=li,_i=li);return o&&Wn.forEach(function(bl){return u(gt,bl)}),Jr&&Go(gt,Mn),nr}function dr(gt,ut,Et,Kt){if(Et==null)throw Error(s(151));for(var nr=null,_i=null,Wn=ut,Mn=ut=0,li=null,Ci=Et.next();Wn!==null&&!Ci.done;Mn++,Ci=Et.next()){Wn.index>Mn?(li=Wn,Wn=null):li=Wn.sibling;var bl=Dt(gt,Wn,Ci.value,Kt);if(bl===null){Wn===null&&(Wn=li);break}o&&Wn&&bl.alternate===null&&u(gt,Wn),ut=N(bl,ut,Mn),_i===null?nr=bl:_i.sibling=bl,_i=bl,Wn=li}if(Ci.done)return f(gt,Wn),Jr&&Go(gt,Mn),nr;if(Wn===null){for(;!Ci.done;Mn++,Ci=Et.next())Ci=nn(gt,Ci.value,Kt),Ci!==null&&(ut=N(Ci,ut,Mn),_i===null?nr=Ci:_i.sibling=Ci,_i=Ci);return Jr&&Go(gt,Mn),nr}for(Wn=b(Wn);!Ci.done;Mn++,Ci=Et.next())Ci=zt(Wn,gt,Mn,Ci.value,Kt),Ci!==null&&(o&&Ci.alternate!==null&&Wn.delete(Ci.key===null?Mn:Ci.key),ut=N(Ci,ut,Mn),_i===null?nr=Ci:_i.sibling=Ci,_i=Ci);return o&&Wn.forEach(function(f3){return u(gt,f3)}),Jr&&Go(gt,Mn),nr}function Li(gt,ut,Et,Kt){if(typeof Et=="object"&&Et!==null&&Et.type===G&&Et.key===null&&(Et=Et.props.children),typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case k:e:{for(var nr=Et.key;ut!==null;){if(ut.key===nr){if(nr=Et.type,nr===G){if(ut.tag===7){f(gt,ut.sibling),Kt=C(ut,Et.props.children),Kt.return=gt,gt=Kt;break e}}else if(ut.elementType===nr||typeof nr=="object"&&nr!==null&&nr.$$typeof===Ie&&Be(nr)===ut.type){f(gt,ut.sibling),Kt=C(ut,Et.props),Un(Kt,Et),Kt.return=gt,gt=Kt;break e}f(gt,ut);break}else u(gt,ut);ut=ut.sibling}Et.type===G?(Kt=Pa(Et.props.children,gt.mode,Kt,Et.key),Kt.return=gt,gt=Kt):(Kt=d0(Et.type,Et.key,Et.props,null,gt.mode,Kt),Un(Kt,Et),Kt.return=gt,gt=Kt)}return Q(gt);case P:e:{for(nr=Et.key;ut!==null;){if(ut.key===nr)if(ut.tag===4&&ut.stateNode.containerInfo===Et.containerInfo&&ut.stateNode.implementation===Et.implementation){f(gt,ut.sibling),Kt=C(ut,Et.children||[]),Kt.return=gt,gt=Kt;break e}else{f(gt,ut);break}else u(gt,ut);ut=ut.sibling}Kt=Fa(Et,gt.mode,Kt),Kt.return=gt,gt=Kt}return Q(gt);case Ie:return Et=Be(Et),Li(gt,ut,Et,Kt)}if(rt(Et))return Dn(gt,ut,Et,Kt);if(ze(Et)){if(nr=ze(Et),typeof nr!="function")throw Error(s(150));return Et=nr.call(Et),dr(gt,ut,Et,Kt)}if(typeof Et.then=="function")return Li(gt,ut,kn(Et),Kt);if(Et.$$typeof===te)return Li(gt,ut,Fu(gt,Et),Kt);Ur(gt,Et)}return typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint"?(Et=""+Et,ut!==null&&ut.tag===6?(f(gt,ut.sibling),Kt=C(ut,Et),Kt.return=gt,gt=Kt):(f(gt,ut),Kt=Bu(Et,gt.mode,Kt),Kt.return=gt,gt=Kt),Q(gt)):f(gt,ut)}return function(gt,ut,Et,Kt){try{sn=0;var nr=Li(gt,ut,Et,Kt);return Nt=null,nr}catch(Wn){if(Wn===E||Wn===U)throw Wn;var _i=No(29,Wn,null,gt.mode);return _i.lanes=Kt,_i.return=gt,_i}finally{}}}var Ar=wr(!0),vi=wr(!1),ni=!1;function Yi(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ws(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function vs(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function xs(o,u,f){var b=o.updateQueue;if(b===null)return null;if(b=b.shared,(Ri&2)!==0){var C=b.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),b.pending=u,u=Zl(o),Dc(o,null,f),u}return Jl(o,b,u,f),Zl(o)}function zr(o,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194048)!==0)){var b=u.lanes;b&=o.pendingLanes,f|=b,u.lanes=f,kr(o,f)}}function wi(o,u){var f=o.updateQueue,b=o.alternate;if(b!==null&&(b=b.updateQueue,f===b)){var C=null,N=null;if(f=f.firstBaseUpdate,f!==null){do{var Q={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};N===null?C=N=Q:N=N.next=Q,f=f.next}while(f!==null);N===null?C=N=u:N=N.next=u}else C=N=u;f={baseState:b.baseState,firstBaseUpdate:C,lastBaseUpdate:N,shared:b.shared,callbacks:b.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=u}var xi=!1;function zi(){if(xi){var o=g0;if(o!==null)throw o}}function bi(o,u,f,b){xi=!1;var C=o.updateQueue;ni=!1;var N=C.firstBaseUpdate,Q=C.lastBaseUpdate,we=C.shared.pending;if(we!==null){C.shared.pending=null;var tt=we,wt=tt.next;tt.next=null,Q===null?N=wt:Q.next=wt,Q=tt;var Yt=o.alternate;Yt!==null&&(Yt=Yt.updateQueue,we=Yt.lastBaseUpdate,we!==Q&&(we===null?Yt.firstBaseUpdate=wt:we.next=wt,Yt.lastBaseUpdate=tt))}if(N!==null){var nn=C.baseState;Q=0,Yt=wt=tt=null,we=N;do{var Dt=we.lane&-536870913,zt=Dt!==we.lane;if(zt?(Tr&Dt)===Dt:(b&Dt)===Dt){Dt!==0&&Dt===lu&&(xi=!0),Yt!==null&&(Yt=Yt.next={lane:0,tag:we.tag,payload:we.payload,callback:null,next:null});e:{var Dn=o,dr=we;Dt=u;var Li=f;switch(dr.tag){case 1:if(Dn=dr.payload,typeof Dn=="function"){nn=Dn.call(Li,nn,Dt);break e}nn=Dn;break e;case 3:Dn.flags=Dn.flags&-65537|128;case 0:if(Dn=dr.payload,Dt=typeof Dn=="function"?Dn.call(Li,nn,Dt):Dn,Dt==null)break e;nn=T({},nn,Dt);break e;case 2:ni=!0}}Dt=we.callback,Dt!==null&&(o.flags|=64,zt&&(o.flags|=8192),zt=C.callbacks,zt===null?C.callbacks=[Dt]:zt.push(Dt))}else zt={lane:Dt,tag:we.tag,payload:we.payload,callback:we.callback,next:null},Yt===null?(wt=Yt=zt,tt=nn):Yt=Yt.next=zt,Q|=Dt;if(we=we.next,we===null){if(we=C.shared.pending,we===null)break;zt=we,we=zt.next,zt.next=null,C.lastBaseUpdate=zt,C.shared.pending=null}}while(!0);Yt===null&&(tt=nn),C.baseState=tt,C.firstBaseUpdate=wt,C.lastBaseUpdate=Yt,N===null&&(C.shared.lanes=0),Ja|=Q,o.lanes=Q,o.memoizedState=nn}}function rs(o,u){if(typeof o!="function")throw Error(s(191,o));o.call(u)}function ko(o,u){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)rs(f[o],u)}var $0=Fe(null),zu=Fe(0);function Wc(o,u){o=Ka,_e(zu,o),_e($0,u),Ka=o|u.baseLanes}function Kh(){_e(zu,Ka),_e($0,$0.current)}function qa(){Ka=zu.current,et($0),et(zu)}var ml=Fe(null),Sl=null;function v0(o){var u=o.alternate;_e(Zs,Zs.current&1),_e(ml,o),Sl===null&&(u===null||$0.current!==null||u.memoizedState!==null)&&(Sl=o)}function yf(o){_e(Zs,Zs.current),_e(ml,o),Sl===null&&(Sl=o)}function _f(o){o.tag===22?(_e(Zs,Zs.current),_e(ml,o),Sl===null&&(Sl=o)):au()}function au(){_e(Zs,Zs.current),_e(ml,ml.current)}function nl(o){et(ml),Sl===o&&(Sl=null),et(Zs)}var Zs=Fe(0);function hd(o){for(var u=o;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||hh(f)||C1(f)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var ia=0,Rr=null,Ki=null,Vs=null,jc=!1,uu=!1,b0=!1,Jh=0,Zh=0,Hu=null,Tf=0;function Ss(){throw Error(s(321))}function Ef(o,u){if(u===null)return!1;for(var f=0;f<u.length&&f<o.length;f++)if(!un(o[f],u[f]))return!1;return!0}function Qh(o,u,f,b,C,N){return ia=N,Rr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Pe.H=o===null||o.memoizedState===null?P2:Gf,b0=!1,N=f(b,C),b0=!1,uu&&(N=wf(u,f,b,C)),x2(o),N}function x2(o){Pe.H=Jc;var u=Ki!==null&&Ki.next!==null;if(ia=0,Vs=Ki=Rr=null,jc=!1,Zh=0,Hu=null,u)throw Error(s(300));o===null||uo||(o=o.dependencies,o!==null&&Pu(o)&&(uo=!0))}function wf(o,u,f,b){Rr=o;var C=0;do{if(uu&&(Hu=null),Zh=0,uu=!1,25<=C)throw Error(s(301));if(C+=1,Vs=Ki=null,o.updateQueue!=null){var N=o.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Pe.H=F2,N=u(f,b)}while(uu);return N}function zm(){var o=Pe.H,u=o.useState()[0];return u=typeof u.then=="function"?Kc(u):u,o=o.useState()[0],(Ki!==null?Ki.memoizedState:null)!==o&&(Rr.flags|=1024),u}function y0(){var o=Jh!==0;return Jh=0,o}function dd(o,u,f){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~f}function Xc(o){if(jc){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}jc=!1}ia=0,Vs=Ki=Rr=null,uu=!1,Zh=Jh=0,Hu=null}function qo(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vs===null?Rr.memoizedState=Vs=o:Vs=Vs.next=o,Vs}function Gs(){if(Ki===null){var o=Rr.alternate;o=o!==null?o.memoizedState:null}else o=Ki.next;var u=Vs===null?Rr.memoizedState:Vs.next;if(u!==null)Vs=u,Ki=o;else{if(o===null)throw Rr.alternate===null?Error(s(467)):Error(s(310));Ki=o,o={memoizedState:Ki.memoizedState,baseState:Ki.baseState,baseQueue:Ki.baseQueue,queue:Ki.queue,next:null},Vs===null?Rr.memoizedState=Vs=o:Vs=Vs.next=o}return Vs}function Yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kc(o){var u=Zh;return Zh+=1,Hu===null&&(Hu=[]),o=Ee(Hu,o,u),u=Rr,(Vs===null?u.memoizedState:Vs.next)===null&&(u=u.alternate,Pe.H=u===null||u.memoizedState===null?P2:Gf),o}function e1(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Kc(o);if(o.$$typeof===te)return ao(o)}throw Error(s(438,String(o)))}function fd(o){var u=null,f=Rr.updateQueue;if(f!==null&&(u=f.memoCache),u==null){var b=Rr.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(u={data:b.data.map(function(C){return C.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),f===null&&(f=Yc(),Rr.updateQueue=f),f.memoCache=u,f=u.data[u.index],f===void 0)for(f=u.data[u.index]=Array(o),b=0;b<o;b++)f[b]=Ue;return u.index++,f}function Wa(o,u){return typeof u=="function"?u(o):u}function t1(o){var u=Gs();return pd(u,Ki,o)}function pd(o,u,f){var b=o.queue;if(b===null)throw Error(s(311));b.lastRenderedReducer=f;var C=o.baseQueue,N=b.pending;if(N!==null){if(C!==null){var Q=C.next;C.next=N.next,N.next=Q}u.baseQueue=C=N,b.pending=null}if(N=o.baseState,C===null)o.memoizedState=N;else{u=C.next;var we=Q=null,tt=null,wt=u,Yt=!1;do{var nn=wt.lane&-536870913;if(nn!==wt.lane?(Tr&nn)===nn:(ia&nn)===nn){var Dt=wt.revertLane;if(Dt===0)tt!==null&&(tt=tt.next={lane:0,revertLane:0,gesture:null,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null}),nn===lu&&(Yt=!0);else if((ia&Dt)===Dt){wt=wt.next,Dt===lu&&(Yt=!0);continue}else nn={lane:0,revertLane:wt.revertLane,gesture:null,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},tt===null?(we=tt=nn,Q=N):tt=tt.next=nn,Rr.lanes|=Dt,Ja|=Dt;nn=wt.action,b0&&f(N,nn),N=wt.hasEagerState?wt.eagerState:f(N,nn)}else Dt={lane:nn,revertLane:wt.revertLane,gesture:wt.gesture,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},tt===null?(we=tt=Dt,Q=N):tt=tt.next=Dt,Rr.lanes|=nn,Ja|=nn;wt=wt.next}while(wt!==null&&wt!==u);if(tt===null?Q=N:tt.next=we,!un(N,o.memoizedState)&&(uo=!0,Yt&&(f=g0,f!==null)))throw f;o.memoizedState=N,o.baseState=Q,o.baseQueue=tt,b.lastRenderedState=N}return C===null&&(b.lanes=0),[o.memoizedState,b.dispatch]}function md(o){var u=Gs(),f=u.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=o;var b=f.dispatch,C=f.pending,N=u.memoizedState;if(C!==null){f.pending=null;var Q=C=C.next;do N=o(N,Q.action),Q=Q.next;while(Q!==C);un(N,u.memoizedState)||(uo=!0),u.memoizedState=N,u.baseQueue===null&&(u.baseState=N),f.lastRenderedState=N}return[N,b]}function xf(o,u,f){var b=Rr,C=Gs(),N=Jr;if(N){if(f===void 0)throw Error(s(407));f=f()}else f=u();var Q=!un((Ki||C).memoizedState,f);if(Q&&(C.memoizedState=f,uo=!0),C=C.queue,$d(k2.bind(null,b,C,o),[o]),C.getSnapshot!==u||Q||Vs!==null&&Vs.memoizedState.tag&1){if(b.flags|=2048,Vu(9,{destroy:void 0},S2.bind(null,b,C,f,u),null),Hi===null)throw Error(s(349));N||(ia&127)!==0||Sf(b,u,f)}return f}function Sf(o,u,f){o.flags|=16384,o={getSnapshot:u,value:f},u=Rr.updateQueue,u===null?(u=Yc(),Rr.updateQueue=u,u.stores=[o]):(f=u.stores,f===null?u.stores=[o]:f.push(o))}function S2(o,u,f,b){u.value=f,u.getSnapshot=b,C2(u)&&A2(o)}function k2(o,u,f){return f(function(){C2(u)&&A2(o)})}function C2(o){var u=o.getSnapshot;o=o.value;try{var f=u();return!un(o,f)}catch{return!0}}function A2(o){var u=ul(o,2);u!==null&&Bo(u,o,2)}function kf(o){var u=qo();if(typeof o=="function"){var f=o;if(o=f(),b0){Ye(!0);try{f()}finally{Ye(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:o},u}function I2(o,u,f,b){return o.baseState=f,pd(o,Ki,typeof b=="function"?b:Wa)}function Hm(o,u,f,b,C){if(_0(o))throw Error(s(485));if(o=u.action,o!==null){var N={payload:C,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Q){N.listeners.push(Q)}};Pe.T!==null?f(!0):N.isTransition=!1,b(N),f=u.pending,f===null?(N.next=u.pending=N,M2(u,N)):(N.next=f.next,u.pending=f.next=N)}}function M2(o,u){var f=u.action,b=u.payload,C=o.state;if(u.isTransition){var N=Pe.T,Q={};Pe.T=Q;try{var we=f(C,b),tt=Pe.S;tt!==null&&tt(Q,we),N2(o,u,we)}catch(wt){gd(o,u,wt)}finally{N!==null&&Q.types!==null&&(N.types=Q.types),Pe.T=N}}else try{N=f(C,b),N2(o,u,N)}catch(wt){gd(o,u,wt)}}function N2(o,u,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(b){Cf(o,u,b)},function(b){return gd(o,u,b)}):Cf(o,u,f)}function Cf(o,u,f){u.status="fulfilled",u.value=f,Af(u),o.state=f,u=o.pending,u!==null&&(f=u.next,f===u?o.pending=null:(f=f.next,u.next=f,M2(o,f)))}function gd(o,u,f){var b=o.pending;if(o.pending=null,b!==null){b=b.next;do u.status="rejected",u.reason=f,Af(u),u=u.next;while(u!==b)}o.action=null}function Af(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function If(o,u){return u}function Mf(o,u){if(Jr){var f=Hi.formState;if(f!==null){e:{var b=Rr;if(Jr){if(ns){t:{for(var C=ns,N=Js;C.nodeType!==8;){if(!N){C=null;break t}if(C=Yo(C.nextSibling),C===null){C=null;break t}}N=C.data,C=N==="F!"||N==="F"?C:null}if(C){ns=Yo(C.nextSibling),b=C.data==="F!";break e}}Ta(b)}b=!1}b&&(u=f[0])}}return f=qo(),f.memoizedState=f.baseState=u,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:If,lastRenderedState:u},f.queue=b,f=qm.bind(null,Rr,b),b.dispatch=f,b=kf(!1),N=l1.bind(null,Rr,!1,b.queue),b=qo(),C={state:u,dispatch:null,action:o,pending:null},b.queue=C,f=Hm.bind(null,Rr,C,N,f),C.dispatch=f,b.memoizedState=o,[u,f,!1]}function Nf(o){var u=Gs();return Of(u,Ki,o)}function Of(o,u,f){if(u=pd(o,u,If)[0],o=t1(Wa)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var b=Kc(u)}catch(Q){throw Q===E?U:Q}else b=u;u=Gs();var C=u.queue,N=C.dispatch;return f!==u.memoizedState&&(Rr.flags|=2048,Vu(9,{destroy:void 0},Rf.bind(null,C,f),null)),[b,N,o]}function Rf(o,u){o.action=u}function n1(o){var u=Gs(),f=Ki;if(f!==null)return Of(u,f,o);Gs(),u=u.memoizedState,f=Gs();var b=f.queue.dispatch;return f.memoizedState=o,[u,b,!1]}function Vu(o,u,f,b){return o={tag:o,create:f,deps:b,inst:u,next:null},u=Rr.updateQueue,u===null&&(u=Yc(),Rr.updateQueue=u),f=u.lastEffect,f===null?u.lastEffect=o.next=o:(b=f.next,f.next=o,o.next=b,u.lastEffect=o),o}function O2(){return Gs().memoizedState}function r1(o,u,f,b){var C=qo();Rr.flags|=o,C.memoizedState=Vu(1|u,{destroy:void 0},f,b===void 0?null:b)}function i1(o,u,f,b){var C=Gs();b=b===void 0?null:b;var N=C.memoizedState.inst;Ki!==null&&b!==null&&Ef(b,Ki.memoizedState.deps)?C.memoizedState=Vu(u,N,f,b):(Rr.flags|=o,C.memoizedState=Vu(1|u,N,f,b))}function Lf(o,u){r1(8390656,8,o,u)}function $d(o,u){i1(2048,8,o,u)}function R2(o){Rr.flags|=4;var u=Rr.updateQueue;if(u===null)u=Yc(),Rr.updateQueue=u,u.events=[o];else{var f=u.events;f===null?u.events=[o]:f.push(o)}}function Df(o){var u=Gs().memoizedState;return R2({ref:u,nextImpl:o}),function(){if((Ri&2)!==0)throw Error(s(440));return u.impl.apply(void 0,arguments)}}function Bf(o,u){return i1(4,2,o,u)}function Pf(o,u){return i1(4,4,o,u)}function Ff(o,u){if(typeof u=="function"){o=o();var f=u(o);return function(){typeof f=="function"?f():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function Uf(o,u,f){f=f!=null?f.concat([o]):null,i1(4,4,Ff.bind(null,u,o),f)}function zf(){}function L2(o,u){var f=Gs();u=u===void 0?null:u;var b=f.memoizedState;return u!==null&&Ef(u,b[1])?b[0]:(f.memoizedState=[o,u],o)}function Hf(o,u){var f=Gs();u=u===void 0?null:u;var b=f.memoizedState;if(u!==null&&Ef(u,b[1]))return b[0];if(b=o(),b0){Ye(!0);try{o()}finally{Ye(!1)}}return f.memoizedState=[b,u],b}function Vf(o,u,f){return f===void 0||(ia&1073741824)!==0&&(Tr&261930)===0?o.memoizedState=u:(o.memoizedState=f,o=sp(),Rr.lanes|=o,Ja|=o,f)}function D2(o,u,f,b){return un(f,u)?f:$0.current!==null?(o=Vf(o,f,b),un(o,u)||(uo=!0),o):(ia&42)===0||(ia&1073741824)!==0&&(Tr&261930)===0?(uo=!0,o.memoizedState=f):(o=sp(),Rr.lanes|=o,Ja|=o,u)}function B2(o,u,f,b,C){var N=nt.p;nt.p=N!==0&&8>N?N:8;var Q=Pe.T,we={};Pe.T=we,l1(o,!1,u,f);try{var tt=C(),wt=Pe.S;if(wt!==null&&wt(we,tt),tt!==null&&typeof tt=="object"&&typeof tt.then=="function"){var Yt=pl(tt,b);o1(o,u,Yt,Do(o))}else o1(o,u,b,Do(o))}catch(nn){o1(o,u,{then:function(){},status:"rejected",reason:nn},Do())}finally{nt.p=N,Q!==null&&we.types!==null&&(Q.types=we.types),Pe.T=Q}}function Vm(){}function It(o,u,f,b){if(o.tag!==5)throw Error(s(476));var C=cu(o).queue;B2(o,C,u,ot,f===null?Vm:function(){return Gm(o),f(b)})}function cu(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:ot},next:null};var f={};return u.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:f},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function Gm(o){var u=cu(o);u.next===null&&(u=o.alternate.memoizedState),o1(o,u.next.queue,{},Do())}function s1(){return ao(R1)}function kl(){return Gs().memoizedState}function Xt(){return Gs().memoizedState}function hu(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var f=Do();o=vs(f);var b=xs(u,o,f);b!==null&&(Bo(b,u,f),zr(b,u,f)),u={cache:qc()},o.payload=u;return}u=u.return}}function ks(o,u,f){var b=Do();f={lane:b,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},_0(o)?vd(u,f):(f=Ba(o,u,f,b),f!==null&&(Bo(f,o,b),Gu(f,u,b)))}function qm(o,u,f){var b=Do();o1(o,u,f,b)}function o1(o,u,f,b){var C={lane:b,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(_0(o))vd(u,C);else{var N=o.alternate;if(o.lanes===0&&(N===null||N.lanes===0)&&(N=u.lastRenderedReducer,N!==null))try{var Q=u.lastRenderedState,we=N(Q,f);if(C.hasEagerState=!0,C.eagerState=we,un(we,Q))return Jl(o,u,C,0),Hi===null&&ba(),!1}catch{}finally{}if(f=Ba(o,u,C,b),f!==null)return Bo(f,o,b),Gu(f,u,b),!0}return!1}function l1(o,u,f,b){if(b={lane:2,revertLane:Ll(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},_0(o)){if(u)throw Error(s(479))}else u=Ba(o,f,b,2),u!==null&&Bo(u,o,2)}function _0(o){var u=o.alternate;return o===Rr||u!==null&&u===Rr}function vd(o,u){uu=jc=!0;var f=o.pending;f===null?u.next=u:(u.next=f.next,f.next=u),o.pending=u}function Gu(o,u,f){if((f&4194048)!==0){var b=u.lanes;b&=o.pendingLanes,f|=b,u.lanes=f,kr(o,f)}}var Jc={readContext:ao,use:e1,useCallback:Ss,useContext:Ss,useEffect:Ss,useImperativeHandle:Ss,useLayoutEffect:Ss,useInsertionEffect:Ss,useMemo:Ss,useReducer:Ss,useRef:Ss,useState:Ss,useDebugValue:Ss,useDeferredValue:Ss,useTransition:Ss,useSyncExternalStore:Ss,useId:Ss,useHostTransitionStatus:Ss,useFormState:Ss,useActionState:Ss,useOptimistic:Ss,useMemoCache:Ss,useCacheRefresh:Ss};Jc.useEffectEvent=Ss;var P2={readContext:ao,use:e1,useCallback:function(o,u){return qo().memoizedState=[o,u===void 0?null:u],o},useContext:ao,useEffect:Lf,useImperativeHandle:function(o,u,f){f=f!=null?f.concat([o]):null,r1(4194308,4,Ff.bind(null,u,o),f)},useLayoutEffect:function(o,u){return r1(4194308,4,o,u)},useInsertionEffect:function(o,u){r1(4,2,o,u)},useMemo:function(o,u){var f=qo();u=u===void 0?null:u;var b=o();if(b0){Ye(!0);try{o()}finally{Ye(!1)}}return f.memoizedState=[b,u],b},useReducer:function(o,u,f){var b=qo();if(f!==void 0){var C=f(u);if(b0){Ye(!0);try{f(u)}finally{Ye(!1)}}}else C=u;return b.memoizedState=b.baseState=C,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:C},b.queue=o,o=o.dispatch=ks.bind(null,Rr,o),[b.memoizedState,o]},useRef:function(o){var u=qo();return o={current:o},u.memoizedState=o},useState:function(o){o=kf(o);var u=o.queue,f=qm.bind(null,Rr,u);return u.dispatch=f,[o.memoizedState,f]},useDebugValue:zf,useDeferredValue:function(o,u){var f=qo();return Vf(f,o,u)},useTransition:function(){var o=kf(!1);return o=B2.bind(null,Rr,o.queue,!0,!1),qo().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,f){var b=Rr,C=qo();if(Jr){if(f===void 0)throw Error(s(407));f=f()}else{if(f=u(),Hi===null)throw Error(s(349));(Tr&127)!==0||Sf(b,u,f)}C.memoizedState=f;var N={value:f,getSnapshot:u};return C.queue=N,Lf(k2.bind(null,b,N,o),[o]),b.flags|=2048,Vu(9,{destroy:void 0},S2.bind(null,b,N,f,u),null),f},useId:function(){var o=qo(),u=Hi.identifierPrefix;if(Jr){var f=hl,b=tl;f=(b&~(1<<32-We(b)-1)).toString(32)+f,u="_"+u+"R_"+f,f=Jh++,0<f&&(u+="H"+f.toString(32)),u+="_"}else f=Tf++,u="_"+u+"r_"+f.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:s1,useFormState:Mf,useActionState:Mf,useOptimistic:function(o){var u=qo();u.memoizedState=u.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=f,u=l1.bind(null,Rr,!0,f),f.dispatch=u,[o,u]},useMemoCache:fd,useCacheRefresh:function(){return qo().memoizedState=hu.bind(null,Rr)},useEffectEvent:function(o){var u=qo(),f={impl:o};return u.memoizedState=f,function(){if((Ri&2)!==0)throw Error(s(440));return f.impl.apply(void 0,arguments)}}},Gf={readContext:ao,use:e1,useCallback:L2,useContext:ao,useEffect:$d,useImperativeHandle:Uf,useInsertionEffect:Bf,useLayoutEffect:Pf,useMemo:Hf,useReducer:t1,useRef:O2,useState:function(){return t1(Wa)},useDebugValue:zf,useDeferredValue:function(o,u){var f=Gs();return D2(f,Ki.memoizedState,o,u)},useTransition:function(){var o=t1(Wa)[0],u=Gs().memoizedState;return[typeof o=="boolean"?o:Kc(o),u]},useSyncExternalStore:xf,useId:kl,useHostTransitionStatus:s1,useFormState:Nf,useActionState:Nf,useOptimistic:function(o,u){var f=Gs();return I2(f,Ki,o,u)},useMemoCache:fd,useCacheRefresh:Xt};Gf.useEffectEvent=Df;var F2={readContext:ao,use:e1,useCallback:L2,useContext:ao,useEffect:$d,useImperativeHandle:Uf,useInsertionEffect:Bf,useLayoutEffect:Pf,useMemo:Hf,useReducer:md,useRef:O2,useState:function(){return md(Wa)},useDebugValue:zf,useDeferredValue:function(o,u){var f=Gs();return Ki===null?Vf(f,o,u):D2(f,Ki.memoizedState,o,u)},useTransition:function(){var o=md(Wa)[0],u=Gs().memoizedState;return[typeof o=="boolean"?o:Kc(o),u]},useSyncExternalStore:xf,useId:kl,useHostTransitionStatus:s1,useFormState:n1,useActionState:n1,useOptimistic:function(o,u){var f=Gs();return Ki!==null?I2(f,Ki,o,u):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:fd,useCacheRefresh:Xt};F2.useEffectEvent=Df;function a1(o,u,f,b){u=o.memoizedState,f=f(b,u),f=f==null?u:T({},u,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var u1={enqueueSetState:function(o,u,f){o=o._reactInternals;var b=Do(),C=vs(b);C.payload=u,f!=null&&(C.callback=f),u=xs(o,C,b),u!==null&&(Bo(u,o,b),zr(u,o,b))},enqueueReplaceState:function(o,u,f){o=o._reactInternals;var b=Do(),C=vs(b);C.tag=1,C.payload=u,f!=null&&(C.callback=f),u=xs(o,C,b),u!==null&&(Bo(u,o,b),zr(u,o,b))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var f=Do(),b=vs(f);b.tag=2,u!=null&&(b.callback=u),u=xs(o,b,f),u!==null&&(Bo(u,o,f),zr(u,o,f))}};function qf(o,u,f,b,C,N,Q){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(b,N,Q):u.prototype&&u.prototype.isPureReactComponent?!Hn(f,b)||!Hn(C,N):!0}function U2(o,u,f,b){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,b),u.state!==o&&u1.enqueueReplaceState(u,u.state,null)}function qu(o,u){var f=u;if("ref"in u){f={};for(var b in u)b!=="ref"&&(f[b]=u[b])}if(o=o.defaultProps){f===u&&(f=T({},f));for(var C in o)f[C]===void 0&&(f[C]=o[C])}return f}function z2(o){gr(o)}function Wm(o){console.error(o)}function H2(o){gr(o)}function bd(o,u){try{var f=o.onUncaughtError;f(u.value,{componentStack:u.stack})}catch(b){setTimeout(function(){throw b})}}function Wf(o,u,f){try{var b=o.onCaughtError;b(f.value,{componentStack:f.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function c1(o,u,f){return f=vs(f),f.tag=3,f.payload={element:null},f.callback=function(){bd(o,u)},f}function V2(o){return o=vs(o),o.tag=3,o}function jf(o,u,f,b){var C=f.type.getDerivedStateFromError;if(typeof C=="function"){var N=b.value;o.payload=function(){return C(N)},o.callback=function(){Wf(u,f,b)}}var Q=f.stateNode;Q!==null&&typeof Q.componentDidCatch=="function"&&(o.callback=function(){Wf(u,f,b),typeof C!="function"&&($u===null?$u=new Set([this]):$u.add(this));var we=b.stack;this.componentDidCatch(b.value,{componentStack:we!==null?we:""})})}function jm(o,u,f,b,C){if(f.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(u=f.alternate,u!==null&&Ha(u,f,C,!0),f=ml.current,f!==null){switch(f.tag){case 31:case 13:return Sl===null?Rd():f.alternate===null&&qs===0&&(qs=3),f.flags&=-257,f.flags|=65536,f.lanes=C,b===K?f.flags|=16384:(u=f.updateQueue,u===null?f.updateQueue=new Set([b]):u.add(b),_1(o,b,C)),!1;case 22:return f.flags|=65536,b===K?f.flags|=16384:(u=f.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([b])},f.updateQueue=u):(f=u.retryQueue,f===null?u.retryQueue=new Set([b]):f.add(b)),_1(o,b,C)),!1}throw Error(s(435,f.tag))}return _1(o,b,C),Rd(),!1}if(Jr)return u=ml.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=C,b!==_a&&(o=Error(s(422),{cause:b}),su(cl(o,f)))):(b!==_a&&(u=Error(s(423),{cause:b}),su(cl(u,f))),o=o.current.alternate,o.flags|=65536,C&=-C,o.lanes|=C,b=cl(b,f),C=c1(o.stateNode,b,C),wi(o,C),qs!==4&&(qs=2)),!1;var N=Error(s(520),{cause:b});if(N=cl(N,f),v1===null?v1=[N]:v1.push(N),qs!==4&&(qs=2),u===null)return!0;b=cl(b,f),f=u;do{switch(f.tag){case 3:return f.flags|=65536,o=C&-C,f.lanes|=o,o=c1(f.stateNode,b,o),wi(f,o),!1;case 1:if(u=f.type,N=f.stateNode,(f.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&($u===null||!$u.has(N))))return f.flags|=65536,C&=-C,f.lanes|=C,C=V2(C),jf(C,o,f,b),wi(f,C),!1}f=f.return}while(f!==null);return!1}var G2=Error(s(461)),uo=!1;function Ro(o,u,f,b){u.child=o===null?vi(u,null,f,b):Ar(u,o.child,f,b)}function T0(o,u,f,b,C){f=f.render;var N=u.ref;if("ref"in b){var Q={};for(var we in b)we!=="ref"&&(Q[we]=b[we])}else Q=b;return fl(u),b=Qh(o,u,f,Q,N,C),we=y0(),o!==null&&!uo?(dd(o,u,C),w0(o,u,C)):(Jr&&we&&zc(u),u.flags|=1,Ro(o,u,b,C),u.child)}function Tt(o,u,f,b,C){if(o===null){var N=f.type;return typeof N=="function"&&!Pc(N)&&N.defaultProps===void 0&&f.compare===null?(u.tag=15,u.type=N,q2(o,u,N,b,C)):(o=d0(f.type,null,b,u,u.mode,C),o.ref=u.ref,o.return=u,u.child=o)}if(N=o.child,!Ji(o,C)){var Q=N.memoizedProps;if(f=f.compare,f=f!==null?f:Hn,f(Q,b)&&o.ref===u.ref)return w0(o,u,C)}return u.flags|=1,o=Ql(N,b),o.ref=u.ref,o.return=u,u.child=o}function q2(o,u,f,b,C){if(o!==null){var N=o.memoizedProps;if(Hn(N,b)&&o.ref===u.ref)if(uo=!1,u.pendingProps=b=N,Ji(o,C))(o.flags&131072)!==0&&(uo=!0);else return u.lanes=o.lanes,w0(o,u,C)}return _d(o,u,f,b,C)}function W2(o,u,f,b){var C=b.children,N=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((u.flags&128)!==0){if(N=N!==null?N.baseLanes|f:f,o!==null){for(b=u.child=o.child,C=0;b!==null;)C=C|b.lanes|b.childLanes,b=b.sibling;b=C&~N}else b=0,u.child=null;return Xm(o,u,N,f,b)}if((f&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&y(u,N!==null?N.cachePool:null),N!==null?Wc(u,N):Kh(),_f(u);else return b=u.lanes=536870912,Xm(o,u,N!==null?N.baseLanes|f:f,f,b)}else N!==null?(y(u,N.cachePool),Wc(u,N),au(),u.memoizedState=null):(o!==null&&y(u,null),Kh(),au());return Ro(o,u,C,f),u.child}function h1(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function Xm(o,u,f,b,C){var N=xl();return N=N===null?null:{parent:ms._currentValue,pool:N},u.memoizedState={baseLanes:f,cachePool:N},o!==null&&y(u,null),Kh(),_f(u),o!==null&&Ha(o,u,b,!0),u.childLanes=C,null}function d1(o,u){return u=Wu({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function j2(o,u,f){return Ar(u,o.child,null,f),o=d1(u,u.pendingProps),o.flags|=2,nl(u),u.memoizedState=null,o}function yd(o,u,f){var b=u.pendingProps,C=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(Jr){if(b.mode==="hidden")return o=d1(u,b),u.lanes=536870912,h1(null,o);if(yf(u),(o=ns)?(o=R0(o,Js),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:ya!==null?{id:tl,overflow:hl}:null,retryLane:536870912,hydrationErrors:null},f=f0(o),f.return=u,u.child=f,ds=u,ns=null)):o=null,o===null)throw Ta(u);return u.lanes=536870912,null}return d1(u,b)}var N=o.memoizedState;if(N!==null){var Q=N.dehydrated;if(yf(u),C)if(u.flags&256)u.flags&=-257,u=j2(o,u,f);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(s(558));else if(uo||Ha(o,u,f,!1),C=(f&o.childLanes)!==0,uo||C){if(b=Hi,b!==null&&(Q=z(b,f),Q!==0&&Q!==N.retryLane))throw N.retryLane=Q,ul(o,Q),Bo(b,o,Q),G2;Rd(),u=j2(o,u,f)}else o=N.treeContext,ns=Yo(Q.nextSibling),ds=u,Jr=!0,Ua=null,Js=!1,o!==null&&Hc(u,o),u=d1(u,b),u.flags|=4096;return u}return o=Ql(o.child,{mode:b.mode,children:b.children}),o.ref=u.ref,u.child=o,o.return=u,o}function f1(o,u){var f=u.ref;if(f===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(s(284));(o===null||o.ref!==f)&&(u.flags|=4194816)}}function _d(o,u,f,b,C){return fl(u),f=Qh(o,u,f,b,void 0,C),b=y0(),o!==null&&!uo?(dd(o,u,C),w0(o,u,C)):(Jr&&b&&zc(u),u.flags|=1,Ro(o,u,f,C),u.child)}function E0(o,u,f,b,C,N){return fl(u),u.updateQueue=null,f=wf(u,b,f,C),x2(o),b=y0(),o!==null&&!uo?(dd(o,u,N),w0(o,u,N)):(Jr&&b&&zc(u),u.flags|=1,Ro(o,u,f,N),u.child)}function X2(o,u,f,b,C){if(fl(u),u.stateNode===null){var N=wl,Q=f.contextType;typeof Q=="object"&&Q!==null&&(N=ao(Q)),N=new f(b,N),u.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=u1,u.stateNode=N,N._reactInternals=u,N=u.stateNode,N.props=b,N.state=u.memoizedState,N.refs={},Yi(u),Q=f.contextType,N.context=typeof Q=="object"&&Q!==null?ao(Q):wl,N.state=u.memoizedState,Q=f.getDerivedStateFromProps,typeof Q=="function"&&(a1(u,f,Q,b),N.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(Q=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),Q!==N.state&&u1.enqueueReplaceState(N,N.state,null),bi(u,b,N,C),zi(),N.state=u.memoizedState),typeof N.componentDidMount=="function"&&(u.flags|=4194308),b=!0}else if(o===null){N=u.stateNode;var we=u.memoizedProps,tt=qu(f,we);N.props=tt;var wt=N.context,Yt=f.contextType;Q=wl,typeof Yt=="object"&&Yt!==null&&(Q=ao(Yt));var nn=f.getDerivedStateFromProps;Yt=typeof nn=="function"||typeof N.getSnapshotBeforeUpdate=="function",we=u.pendingProps!==we,Yt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(we||wt!==Q)&&U2(u,N,b,Q),ni=!1;var Dt=u.memoizedState;N.state=Dt,bi(u,b,N,C),zi(),wt=u.memoizedState,we||Dt!==wt||ni?(typeof nn=="function"&&(a1(u,f,nn,b),wt=u.memoizedState),(tt=ni||qf(u,f,tt,b,Dt,wt,Q))?(Yt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(u.flags|=4194308)):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=wt),N.props=b,N.state=wt,N.context=Q,b=tt):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{N=u.stateNode,ws(o,u),Q=u.memoizedProps,Yt=qu(f,Q),N.props=Yt,nn=u.pendingProps,Dt=N.context,wt=f.contextType,tt=wl,typeof wt=="object"&&wt!==null&&(tt=ao(wt)),we=f.getDerivedStateFromProps,(wt=typeof we=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Q!==nn||Dt!==tt)&&U2(u,N,b,tt),ni=!1,Dt=u.memoizedState,N.state=Dt,bi(u,b,N,C),zi();var zt=u.memoizedState;Q!==nn||Dt!==zt||ni||o!==null&&o.dependencies!==null&&Pu(o.dependencies)?(typeof we=="function"&&(a1(u,f,we,b),zt=u.memoizedState),(Yt=ni||qf(u,f,Yt,b,Dt,zt,tt)||o!==null&&o.dependencies!==null&&Pu(o.dependencies))?(wt||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(b,zt,tt),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(b,zt,tt)),typeof N.componentDidUpdate=="function"&&(u.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof N.componentDidUpdate!="function"||Q===o.memoizedProps&&Dt===o.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Q===o.memoizedProps&&Dt===o.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=zt),N.props=b,N.state=zt,N.context=tt,b=Yt):(typeof N.componentDidUpdate!="function"||Q===o.memoizedProps&&Dt===o.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Q===o.memoizedProps&&Dt===o.memoizedState||(u.flags|=1024),b=!1)}return N=b,f1(o,u),b=(u.flags&128)!==0,N||b?(N=u.stateNode,f=b&&typeof f.getDerivedStateFromError!="function"?null:N.render(),u.flags|=1,o!==null&&b?(u.child=Ar(u,o.child,null,C),u.child=Ar(u,null,f,C)):Ro(o,u,f,C),u.memoizedState=N.state,o=u.child):o=w0(o,u,C),o}function p1(o,u,f,b){return Ea(),u.flags|=256,Ro(o,u,f,b),u.child}var du={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gl(o){return{baseLanes:o,cachePool:g()}}function ja(o,u,f){return o=o!==null?o.childLanes&~f:0,u&&(o|=Wo),o}function wa(o,u,f){var b=u.pendingProps,C=!1,N=(u.flags&128)!==0,Q;if((Q=N)||(Q=o!==null&&o.memoizedState===null?!1:(Zs.current&2)!==0),Q&&(C=!0,u.flags&=-129),Q=(u.flags&32)!==0,u.flags&=-33,o===null){if(Jr){if(C?v0(u):au(),(o=ns)?(o=R0(o,Js),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:ya!==null?{id:tl,overflow:hl}:null,retryLane:536870912,hydrationErrors:null},f=f0(o),f.return=u,u.child=f,ds=u,ns=null)):o=null,o===null)throw Ta(u);return C1(o)?u.lanes=32:u.lanes=536870912,null}var we=b.children;return b=b.fallback,C?(au(),C=u.mode,we=Wu({mode:"hidden",children:we},C),b=Pa(b,C,f,null),we.return=u,b.return=u,we.sibling=b,u.child=we,b=u.child,b.memoizedState=gl(f),b.childLanes=ja(o,Q,f),u.memoizedState=du,h1(null,b)):(v0(u),Td(u,we))}var tt=o.memoizedState;if(tt!==null&&(we=tt.dehydrated,we!==null)){if(N)u.flags&256?(v0(u),u.flags&=-257,u=go(o,u,f)):u.memoizedState!==null?(au(),u.child=o.child,u.flags|=128,u=null):(au(),we=b.fallback,C=u.mode,b=Wu({mode:"visible",children:b.children},C),we=Pa(we,C,f,null),we.flags|=2,b.return=u,we.return=u,b.sibling=we,u.child=b,Ar(u,o.child,null,f),b=u.child,b.memoizedState=gl(f),b.childLanes=ja(o,Q,f),u.memoizedState=du,u=h1(null,b));else if(v0(u),C1(we)){if(Q=we.nextSibling&&we.nextSibling.dataset,Q)var wt=Q.dgst;Q=wt,b=Error(s(419)),b.stack="",b.digest=Q,su({value:b,source:null,stack:null}),u=go(o,u,f)}else if(uo||Ha(o,u,f,!1),Q=(f&o.childLanes)!==0,uo||Q){if(Q=Hi,Q!==null&&(b=z(Q,f),b!==0&&b!==tt.retryLane))throw tt.retryLane=b,ul(o,b),Bo(Q,o,b),G2;hh(we)||Rd(),u=go(o,u,f)}else hh(we)?(u.flags|=192,u.child=o.child,u=null):(o=tt.treeContext,ns=Yo(we.nextSibling),ds=u,Jr=!0,Ua=null,Js=!1,o!==null&&Hc(u,o),u=Td(u,b.children),u.flags|=4096);return u}return C?(au(),we=b.fallback,C=u.mode,tt=o.child,wt=tt.sibling,b=Ql(tt,{mode:"hidden",children:b.children}),b.subtreeFlags=tt.subtreeFlags&65011712,wt!==null?we=Ql(wt,we):(we=Pa(we,C,f,null),we.flags|=2),we.return=u,b.return=u,b.sibling=we,u.child=b,h1(null,b),b=u.child,we=o.child.memoizedState,we===null?we=gl(f):(C=we.cachePool,C!==null?(tt=ms._currentValue,C=C.parent!==tt?{parent:tt,pool:tt}:C):C=g(),we={baseLanes:we.baseLanes|f,cachePool:C}),b.memoizedState=we,b.childLanes=ja(o,Q,f),u.memoizedState=du,h1(o.child,b)):(v0(u),f=o.child,o=f.sibling,f=Ql(f,{mode:"visible",children:b.children}),f.return=u,f.sibling=null,o!==null&&(Q=u.deletions,Q===null?(u.deletions=[o],u.flags|=16):Q.push(o)),u.child=f,u.memoizedState=null,f)}function Td(o,u){return u=Wu({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Wu(o,u){return o=No(22,o,null,u),o.lanes=0,o}function go(o,u,f){return Ar(u,o.child,null,f),o=Td(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function Co(o,u,f){o.lanes|=u;var b=o.alternate;b!==null&&(b.lanes|=u),ou(o.return,u,f)}function Y2(o,u,f,b,C,N){var Q=o.memoizedState;Q===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:f,tailMode:C,treeForkCount:N}:(Q.isBackwards=u,Q.rendering=null,Q.renderingStartTime=0,Q.last=b,Q.tail=f,Q.tailMode=C,Q.treeForkCount=N)}function Lo(o,u,f){var b=u.pendingProps,C=b.revealOrder,N=b.tail;b=b.children;var Q=Zs.current,we=(Q&2)!==0;if(we?(Q=Q&1|2,u.flags|=128):Q&=1,_e(Zs,Q),Ro(o,u,b,f),b=Jr?p0:0,!we&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Co(o,f,u);else if(o.tag===19)Co(o,f,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(C){case"forwards":for(f=u.child,C=null;f!==null;)o=f.alternate,o!==null&&hd(o)===null&&(C=f),f=f.sibling;f=C,f===null?(C=u.child,u.child=null):(C=f.sibling,f.sibling=null),Y2(u,!1,C,f,N,b);break;case"backwards":case"unstable_legacy-backwards":for(f=null,C=u.child,u.child=null;C!==null;){if(o=C.alternate,o!==null&&hd(o)===null){u.child=C;break}o=C.sibling,C.sibling=f,f=C,C=o}Y2(u,!0,f,null,N,b);break;case"together":Y2(u,!1,null,null,void 0,b);break;default:u.memoizedState=null}return u.child}function w0(o,u,f){if(o!==null&&(u.dependencies=o.dependencies),Ja|=u.lanes,(f&u.childLanes)===0)if(o!==null){if(Ha(o,u,f,!1),(f&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(s(153));if(u.child!==null){for(o=u.child,f=Ql(o,o.pendingProps),u.child=f,f.return=u;o.sibling!==null;)o=o.sibling,f=f.sibling=Ql(o,o.pendingProps),f.return=u;f.sibling=null}return u.child}function Ji(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Pu(o)))}function Ed(o,u,f){switch(u.tag){case 3:En(u,u.stateNode.containerInfo),za(u,ms,o.memoizedState.cache),Ea();break;case 27:case 5:Ut(u);break;case 4:En(u,u.stateNode.containerInfo);break;case 10:za(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,yf(u),null;break;case 13:var b=u.memoizedState;if(b!==null)return b.dehydrated!==null?(v0(u),u.flags|=128,null):(f&u.child.childLanes)!==0?wa(o,u,f):(v0(u),o=w0(o,u,f),o!==null?o.sibling:null);v0(u);break;case 19:var C=(o.flags&128)!==0;if(b=(f&u.childLanes)!==0,b||(Ha(o,u,f,!1),b=(f&u.childLanes)!==0),C){if(b)return Lo(o,u,f);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),_e(Zs,Zs.current),b)break;return null;case 22:return u.lanes=0,W2(o,u,f,u.pendingProps);case 24:za(u,ms,o.memoizedState.cache)}return w0(o,u,f)}function K2(o,u,f){if(o!==null)if(o.memoizedProps!==u.pendingProps)uo=!0;else{if(!Ji(o,f)&&(u.flags&128)===0)return uo=!1,Ed(o,u,f);uo=(o.flags&131072)!==0}else uo=!1,Jr&&(u.flags&1048576)!==0&&Uc(u,p0,u.index);switch(u.lanes=0,u.tag){case 16:e:{var b=u.pendingProps;if(o=Be(u.elementType),u.type=o,typeof o=="function")Pc(o)?(b=qu(o,b),u.tag=1,u=X2(null,u,o,b,f)):(u.tag=0,u=_d(null,u,o,b,f));else{if(o!=null){var C=o.$$typeof;if(C===ie){u.tag=11,u=T0(null,u,o,b,f);break e}else if(C===fe){u.tag=14,u=Tt(null,u,o,b,f);break e}}throw u=Oe(o)||o,Error(s(306,u,""))}}return u;case 0:return _d(o,u,u.type,u.pendingProps,f);case 1:return b=u.type,C=qu(b,u.pendingProps),X2(o,u,b,C,f);case 3:e:{if(En(u,u.stateNode.containerInfo),o===null)throw Error(s(387));b=u.pendingProps;var N=u.memoizedState;C=N.element,ws(o,u),bi(u,b,null,f);var Q=u.memoizedState;if(b=Q.cache,za(u,ms,b),b!==N.cache&&dl(u,[ms],f,!0),zi(),b=Q.element,N.isDehydrated)if(N={element:b,isDehydrated:!1,cache:Q.cache},u.updateQueue.baseState=N,u.memoizedState=N,u.flags&256){u=p1(o,u,b,f);break e}else if(b!==C){C=cl(Error(s(424)),u),su(C),u=p1(o,u,b,f);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(ns=Yo(o.firstChild),ds=u,Jr=!0,Ua=null,Js=!0,f=vi(u,null,b,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Ea(),b===C){u=w0(o,u,f);break e}Ro(o,u,b,f)}u=u.child}return u;case 26:return f1(o,u),o===null?(f=mh(u.type,null,u.pendingProps,null))?u.memoizedState=f:Jr||(f=u.type,o=u.pendingProps,b=xa(qt.current).createElement(f),b[re]=u,b[Ne]=o,Ao(b,f,o),yr(b),u.stateNode=b):u.memoizedState=mh(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Ut(u),o===null&&Jr&&(b=u.stateNode=L0(u.type,u.pendingProps,qt.current),ds=u,Js=!0,C=ns,sc(u.type)?(vp=C,ns=Yo(b.firstChild)):ns=C),Ro(o,u,u.pendingProps.children,f),f1(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Jr&&((C=b=ns)&&(b=la(b,u.type,u.pendingProps,Js),b!==null?(u.stateNode=b,ds=u,ns=Yo(b.firstChild),Js=!1,C=!0):C=!1),C||Ta(u)),Ut(u),C=u.type,N=u.pendingProps,Q=o!==null?o.memoizedProps:null,b=N.children,mp(C,N)?b=null:Q!==null&&mp(C,Q)&&(u.flags|=32),u.memoizedState!==null&&(C=Qh(o,u,zm,null,null,f),R1._currentValue=C),f1(o,u),Ro(o,u,b,f),u.child;case 6:return o===null&&Jr&&((o=f=ns)&&(f=Gi(f,u.pendingProps,Js),f!==null?(u.stateNode=f,ds=u,ns=null,o=!0):o=!1),o||Ta(u)),null;case 13:return wa(o,u,f);case 4:return En(u,u.stateNode.containerInfo),b=u.pendingProps,o===null?u.child=Ar(u,null,b,f):Ro(o,u,b,f),u.child;case 11:return T0(o,u,u.type,u.pendingProps,f);case 7:return Ro(o,u,u.pendingProps,f),u.child;case 8:return Ro(o,u,u.pendingProps.children,f),u.child;case 12:return Ro(o,u,u.pendingProps.children,f),u.child;case 10:return b=u.pendingProps,za(u,u.type,b.value),Ro(o,u,b.children,f),u.child;case 9:return C=u.type._context,b=u.pendingProps.children,fl(u),C=ao(C),b=b(C),u.flags|=1,Ro(o,u,b,f),u.child;case 14:return Tt(o,u,u.type,u.pendingProps,f);case 15:return q2(o,u,u.type,u.pendingProps,f);case 19:return Lo(o,u,f);case 31:return yd(o,u,f);case 22:return W2(o,u,f,u.pendingProps);case 24:return fl(u),b=ao(ms),o===null?(C=xl(),C===null&&(C=Hi,N=qc(),C.pooledCache=N,N.refCount++,N!==null&&(C.pooledCacheLanes|=f),C=N),u.memoizedState={parent:b,cache:C},Yi(u),za(u,ms,C)):((o.lanes&f)!==0&&(ws(o,u),bi(u,null,null,f),zi()),C=o.memoizedState,N=u.memoizedState,C.parent!==b?(C={parent:b,cache:b},u.memoizedState=C,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=C),za(u,ms,b)):(b=N.cache,za(u,ms,b),b!==C.cache&&dl(u,[ms],f,!0))),Ro(o,u,u.pendingProps.children,f),u.child;case 29:throw u.pendingProps}throw Error(s(156,u.tag))}function x0(o){o.flags|=4}function Zc(o,u,f,b,C){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(C&335544128)===C)if(o.stateNode.complete)o.flags|=8192;else if(Zu())o.flags|=8192;else throw Ze=K,M}else o.flags&=-16777217}function J2(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!os(u))if(Zu())o.flags|=8192;else throw Ze=K,M}function Qs(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?mn():536870912,o.lanes|=u,nh|=u)}function S0(o,u){if(!Jr)switch(o.tailMode){case"hidden":u=o.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var b=null;f!==null;)f.alternate!==null&&(b=f),f=f.sibling;b===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:b.sibling=null}}function Si(o){var u=o.alternate!==null&&o.alternate.child===o.child,f=0,b=0;if(u)for(var C=o.child;C!==null;)f|=C.lanes|C.childLanes,b|=C.subtreeFlags&65011712,b|=C.flags&65011712,C.return=o,C=C.sibling;else for(C=o.child;C!==null;)f|=C.lanes|C.childLanes,b|=C.subtreeFlags,b|=C.flags,C.return=o,C=C.sibling;return o.subtreeFlags|=b,o.childLanes=f,u}function Z2(o,u,f){var b=u.pendingProps;switch(ta(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Si(u),null;case 1:return Si(u),null;case 3:return f=u.stateNode,b=null,o!==null&&(b=o.memoizedState.cache),u.memoizedState.cache!==b&&(u.flags|=2048),ra(ms),St(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(iu(u)?x0(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Wh())),Si(u),null;case 26:var C=u.type,N=u.memoizedState;return o===null?(x0(u),N!==null?(Si(u),J2(u,N)):(Si(u),Zc(u,C,null,b,f))):N?N!==o.memoizedState?(x0(u),Si(u),J2(u,N)):(Si(u),u.flags&=-16777217):(o=o.memoizedProps,o!==b&&x0(u),Si(u),Zc(u,C,o,b,f)),null;case 27:if(fn(u),f=qt.current,C=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==b&&x0(u);else{if(!b){if(u.stateNode===null)throw Error(s(166));return Si(u),null}o=Ct.current,iu(u)?ad(u):(o=L0(C,b,f),u.stateNode=o,x0(u))}return Si(u),null;case 5:if(fn(u),C=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==b&&x0(u);else{if(!b){if(u.stateNode===null)throw Error(s(166));return Si(u),null}if(N=Ct.current,iu(u))ad(u);else{var Q=xa(qt.current);switch(N){case 1:N=Q.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:N=Q.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":N=Q.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":N=Q.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":N=Q.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof b.is=="string"?Q.createElement("select",{is:b.is}):Q.createElement("select"),b.multiple?N.multiple=!0:b.size&&(N.size=b.size);break;default:N=typeof b.is=="string"?Q.createElement(C,{is:b.is}):Q.createElement(C)}}N[re]=u,N[Ne]=b;e:for(Q=u.child;Q!==null;){if(Q.tag===5||Q.tag===6)N.appendChild(Q.stateNode);else if(Q.tag!==4&&Q.tag!==27&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===u)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===u)break e;Q=Q.return}Q.sibling.return=Q.return,Q=Q.sibling}u.stateNode=N;e:switch(Ao(N,C,b),C){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&x0(u)}}return Si(u),Zc(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,f),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==b&&x0(u);else{if(typeof b!="string"&&u.stateNode===null)throw Error(s(166));if(o=qt.current,iu(u)){if(o=u.stateNode,f=u.memoizedProps,b=null,C=ds,C!==null)switch(C.tag){case 27:case 5:b=C.memoizedProps}o[re]=u,o=!!(o.nodeValue===f||b!==null&&b.suppressHydrationWarning===!0||Ud(o.nodeValue,f)),o||Ta(u,!0)}else o=xa(o).createTextNode(b),o[re]=u,u.stateNode=o}return Si(u),null;case 31:if(f=u.memoizedState,o===null||o.memoizedState!==null){if(b=iu(u),f!==null){if(o===null){if(!b)throw Error(s(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(557));o[re]=u}else Ea(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Si(u),o=!1}else f=Wh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return u.flags&256?(nl(u),u):(nl(u),null);if((u.flags&128)!==0)throw Error(s(558))}return Si(u),null;case 13:if(b=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(C=iu(u),b!==null&&b.dehydrated!==null){if(o===null){if(!C)throw Error(s(318));if(C=u.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(s(317));C[re]=u}else Ea(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Si(u),C=!1}else C=Wh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=C),C=!0;if(!C)return u.flags&256?(nl(u),u):(nl(u),null)}return nl(u),(u.flags&128)!==0?(u.lanes=f,u):(f=b!==null,o=o!==null&&o.memoizedState!==null,f&&(b=u.child,C=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(C=b.alternate.memoizedState.cachePool.pool),N=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(N=b.memoizedState.cachePool.pool),N!==C&&(b.flags|=2048)),f!==o&&f&&(u.child.flags|=8192),Qs(u,u.updateQueue),Si(u),null);case 4:return St(),o===null&&$4(u.stateNode.containerInfo),Si(u),null;case 10:return ra(u.type),Si(u),null;case 19:if(et(Zs),b=u.memoizedState,b===null)return Si(u),null;if(C=(u.flags&128)!==0,N=b.rendering,N===null)if(C)S0(b,!1);else{if(qs!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(N=hd(o),N!==null){for(u.flags|=128,S0(b,!1),o=N.updateQueue,u.updateQueue=o,Qs(u,o),u.subtreeFlags=0,o=f,f=u.child;f!==null;)bf(f,o),f=f.sibling;return _e(Zs,Zs.current&1|2),Jr&&Go(u,b.treeForkCount),u.child}o=o.sibling}b.tail!==null&&Zn()>Cd&&(u.flags|=128,C=!0,S0(b,!1),u.lanes=4194304)}else{if(!C)if(o=hd(N),o!==null){if(u.flags|=128,C=!0,o=o.updateQueue,u.updateQueue=o,Qs(u,o),S0(b,!0),b.tail===null&&b.tailMode==="hidden"&&!N.alternate&&!Jr)return Si(u),null}else 2*Zn()-b.renderingStartTime>Cd&&f!==536870912&&(u.flags|=128,C=!0,S0(b,!1),u.lanes=4194304);b.isBackwards?(N.sibling=u.child,u.child=N):(o=b.last,o!==null?o.sibling=N:u.child=N,b.last=N)}return b.tail!==null?(o=b.tail,b.rendering=o,b.tail=o.sibling,b.renderingStartTime=Zn(),o.sibling=null,f=Zs.current,_e(Zs,C?f&1|2:f&1),Jr&&Go(u,b.treeForkCount),o):(Si(u),null);case 22:case 23:return nl(u),qa(),b=u.memoizedState!==null,o!==null?o.memoizedState!==null!==b&&(u.flags|=8192):b&&(u.flags|=8192),b?(f&536870912)!==0&&(u.flags&128)===0&&(Si(u),u.subtreeFlags&6&&(u.flags|=8192)):Si(u),f=u.updateQueue,f!==null&&Qs(u,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==f&&(u.flags|=2048),o!==null&&et(Ui),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),u.memoizedState.cache!==f&&(u.flags|=2048),ra(ms),Si(u),null;case 25:return null;case 30:return null}throw Error(s(156,u.tag))}function Q2(o,u){switch(ta(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return ra(ms),St(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return fn(u),null;case 31:if(u.memoizedState!==null){if(nl(u),u.alternate===null)throw Error(s(340));Ea()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(nl(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(s(340));Ea()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return et(Zs),null;case 4:return St(),null;case 10:return ra(u.type),null;case 22:case 23:return nl(u),qa(),o!==null&&et(Ui),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return ra(ms),null;case 25:return null;default:return null}}function ep(o,u){switch(ta(u),u.tag){case 3:ra(ms),St();break;case 26:case 27:case 5:fn(u);break;case 4:St();break;case 31:u.memoizedState!==null&&nl(u);break;case 13:nl(u);break;case 19:et(Zs);break;case 10:ra(u.type);break;case 22:case 23:nl(u),qa(),o!==null&&et(Ui);break;case 24:ra(ms)}}function sa(o,u){try{var f=u.updateQueue,b=f!==null?f.lastEffect:null;if(b!==null){var C=b.next;f=C;do{if((f.tag&o)===o){b=void 0;var N=f.create,Q=f.inst;b=N(),Q.destroy=b}f=f.next}while(f!==C)}}catch(we){ki(u,u.return,we)}}function Oi(o,u,f){try{var b=u.updateQueue,C=b!==null?b.lastEffect:null;if(C!==null){var N=C.next;b=N;do{if((b.tag&o)===o){var Q=b.inst,we=Q.destroy;if(we!==void 0){Q.destroy=void 0,C=u;var tt=f,wt=we;try{wt()}catch(Yt){ki(C,tt,Yt)}}}b=b.next}while(b!==N)}}catch(Yt){ki(u,u.return,Yt)}}function Xf(o){var u=o.updateQueue;if(u!==null){var f=o.stateNode;try{ko(u,f)}catch(b){ki(o,o.return,b)}}}function Yf(o,u,f){f.props=qu(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(b){ki(o,u,b)}}function Qc(o,u){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var b=o.stateNode;break;case 30:b=o.stateNode;break;default:b=o.stateNode}typeof f=="function"?o.refCleanup=f(b):f.current=b}}catch(C){ki(o,u,C)}}function Zt(o,u){var f=o.ref,b=o.refCleanup;if(f!==null)if(typeof b=="function")try{b()}catch(C){ki(o,u,C)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(C){ki(o,u,C)}else f.current=null}function yt(o){var u=o.type,f=o.memoizedProps,b=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":f.autoFocus&&b.focus();break e;case"img":f.src?b.src=f.src:f.srcSet&&(b.srcset=f.srcSet)}}catch(C){ki(o,o.return,C)}}function xr(o,u,f){try{var b=o.stateNode;b4(b,o.type,f,u),b[Ne]=u}catch(C){ki(o,o.return,C)}}function Ir(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&sc(o.type)||o.tag===4}function Kf(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Ir(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&sc(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function k0(o,u,f){var b=o.tag;if(b===5||b===6)o=o.stateNode,u?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,u):(u=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,u.appendChild(o),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=hn));else if(b!==4&&(b===27&&sc(o.type)&&(f=o.stateNode,u=null),o=o.child,o!==null))for(k0(o,u,f),o=o.sibling;o!==null;)k0(o,u,f),o=o.sibling}function wd(o,u,f){var b=o.tag;if(b===5||b===6)o=o.stateNode,u?f.insertBefore(o,u):f.appendChild(o);else if(b!==4&&(b===27&&sc(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(wd(o,u,f),o=o.sibling;o!==null;)wd(o,u,f),o=o.sibling}function tp(o){var u=o.stateNode,f=o.memoizedProps;try{for(var b=o.type,C=u.attributes;C.length;)u.removeAttributeNode(C[0]);Ao(u,b,f),u[re]=o,u[Ne]=f}catch(N){ki(o,o.return,N)}}var fu=!1,bs=!1,Bs=!1,xd=typeof WeakSet=="function"?WeakSet:Set,$o=null;function Jf(o,u){if(o=o.containerInfo,uh=L1,o=$i(o),si(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var b=f.getSelection&&f.getSelection();if(b&&b.rangeCount!==0){f=b.anchorNode;var C=b.anchorOffset,N=b.focusNode;b=b.focusOffset;try{f.nodeType,N.nodeType}catch{f=null;break e}var Q=0,we=-1,tt=-1,wt=0,Yt=0,nn=o,Dt=null;t:for(;;){for(var zt;nn!==f||C!==0&&nn.nodeType!==3||(we=Q+C),nn!==N||b!==0&&nn.nodeType!==3||(tt=Q+b),nn.nodeType===3&&(Q+=nn.nodeValue.length),(zt=nn.firstChild)!==null;)Dt=nn,nn=zt;for(;;){if(nn===o)break t;if(Dt===f&&++wt===C&&(we=Q),Dt===N&&++Yt===b&&(tt=Q),(zt=nn.nextSibling)!==null)break;nn=Dt,Dt=nn.parentNode}nn=zt}f=we===-1||tt===-1?null:{start:we,end:tt}}else f=null}f=f||{start:0,end:0}}else f=null;for(k1={focusedElem:o,selectionRange:f},L1=!1,$o=u;$o!==null;)if(u=$o,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,$o=o;else for(;$o!==null;){switch(u=$o,N=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)C=o[f],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&N!==null){o=void 0,f=u,C=N.memoizedProps,N=N.memoizedState,b=f.stateNode;try{var Dn=qu(f.type,C);o=b.getSnapshotBeforeUpdate(Dn,N),b.__reactInternalSnapshotBeforeUpdate=o}catch(dr){ki(f,f.return,dr)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,f=o.nodeType,f===9)T4(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":T4(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(s(163))}if(o=u.sibling,o!==null){o.return=u.return,$o=o;break}$o=u.return}}function m1(o,u,f){var b=f.flags;switch(f.tag){case 0:case 11:case 15:C0(o,f),b&4&&sa(5,f);break;case 1:if(C0(o,f),b&4)if(o=f.stateNode,u===null)try{o.componentDidMount()}catch(Q){ki(f,f.return,Q)}else{var C=qu(f.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(C,u,o.__reactInternalSnapshotBeforeUpdate)}catch(Q){ki(f,f.return,Q)}}b&64&&Xf(f),b&512&&Qc(f,f.return);break;case 3:if(C0(o,f),b&64&&(o=f.updateQueue,o!==null)){if(u=null,f.child!==null)switch(f.child.tag){case 27:case 5:u=f.child.stateNode;break;case 1:u=f.child.stateNode}try{ko(o,u)}catch(Q){ki(f,f.return,Q)}}break;case 27:u===null&&b&4&&tp(f);case 26:case 5:C0(o,f),u===null&&b&4&&yt(f),b&512&&Qc(f,f.return);break;case 12:C0(o,f);break;case 31:C0(o,f),b&4&&np(o,f);break;case 13:C0(o,f),b&4&&Mr(o,f),b&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=Zm.bind(null,f),E4(o,f))));break;case 22:if(b=f.memoizedState!==null||fu,!b){u=u!==null&&u.memoizedState!==null||bs,C=fu;var N=bs;fu=b,(bs=u)&&!N?A0(o,f,(f.subtreeFlags&8772)!==0):C0(o,f),fu=C,bs=N}break;case 30:break;default:C0(o,f)}}function g1(o){var u=o.alternate;u!==null&&(o.alternate=null,g1(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&Vt(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Cs=null,Cl=!1;function Al(o,u,f){for(f=f.child;f!==null;)Zf(o,u,f),f=f.sibling}function Zf(o,u,f){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(F,f)}catch{}switch(f.tag){case 26:bs||Zt(f,u),Al(o,u,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:bs||Zt(f,u);var b=Cs,C=Cl;sc(f.type)&&(Cs=f.stateNode,Cl=!1),Al(o,u,f),fs(f.stateNode),Cs=b,Cl=C;break;case 5:bs||Zt(f,u);case 6:if(b=Cs,C=Cl,Cs=null,Al(o,u,f),Cs=b,Cl=C,Cs!==null)if(Cl)try{(Cs.nodeType===9?Cs.body:Cs.nodeName==="HTML"?Cs.ownerDocument.body:Cs).removeChild(f.stateNode)}catch(N){ki(f,u,N)}else try{Cs.removeChild(f.stateNode)}catch(N){ki(f,u,N)}break;case 18:Cs!==null&&(Cl?(o=Cs,Hd(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),$h(o)):Hd(Cs,f.stateNode));break;case 4:b=Cs,C=Cl,Cs=f.stateNode.containerInfo,Cl=!0,Al(o,u,f),Cs=b,Cl=C;break;case 0:case 11:case 14:case 15:Oi(2,f,u),bs||Oi(4,f,u),Al(o,u,f);break;case 1:bs||(Zt(f,u),b=f.stateNode,typeof b.componentWillUnmount=="function"&&Yf(f,u,b)),Al(o,u,f);break;case 21:Al(o,u,f);break;case 22:bs=(b=bs)||f.memoizedState!==null,Al(o,u,f),bs=b;break;default:Al(o,u,f)}}function np(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{$h(o)}catch(f){ki(u,u.return,f)}}}function Mr(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{$h(o)}catch(f){ki(u,u.return,f)}}function Ym(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new xd),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new xd),u;default:throw Error(s(435,o.tag))}}function Xa(o,u){var f=Ym(o);u.forEach(function(b){if(!f.has(b)){f.add(b);var C=Qm.bind(null,o,b);b.then(C,C)}})}function eo(o,u){var f=u.deletions;if(f!==null)for(var b=0;b<f.length;b++){var C=f[b],N=o,Q=u,we=Q;e:for(;we!==null;){switch(we.tag){case 27:if(sc(we.type)){Cs=we.stateNode,Cl=!1;break e}break;case 5:Cs=we.stateNode,Cl=!1;break e;case 3:case 4:Cs=we.stateNode.containerInfo,Cl=!0;break e}we=we.return}if(Cs===null)throw Error(s(160));Zf(N,Q,C),Cs=null,Cl=!1,N=C.alternate,N!==null&&(N.return=null),C.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)pu(u,o),u=u.sibling}var rl=null;function pu(o,u){var f=o.alternate,b=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:eo(u,o),vo(o),b&4&&(Oi(3,o,o.return),sa(3,o),Oi(5,o,o.return));break;case 1:eo(u,o),vo(o),b&512&&(bs||f===null||Zt(f,f.return)),b&64&&fu&&(o=o.updateQueue,o!==null&&(b=o.callbacks,b!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?b:f.concat(b))));break;case 26:var C=rl;if(eo(u,o),vo(o),b&512&&(bs||f===null||Zt(f,f.return)),b&4){var N=f!==null?f.memoizedState:null;if(b=o.memoizedState,f===null)if(b===null)if(o.stateNode===null){e:{b=o.type,f=o.memoizedProps,C=C.ownerDocument||C;t:switch(b){case"title":N=C.getElementsByTagName("title")[0],(!N||N[he]||N[re]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=C.createElement(b),C.head.insertBefore(N,C.querySelector("head > title"))),Ao(N,b,f),N[re]=o,yr(N),b=N;break e;case"link":var Q=Ep("link","href",C).get(b+(f.href||""));if(Q){for(var we=0;we<Q.length;we++)if(N=Q[we],N.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&N.getAttribute("rel")===(f.rel==null?null:f.rel)&&N.getAttribute("title")===(f.title==null?null:f.title)&&N.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){Q.splice(we,1);break t}}N=C.createElement(b),Ao(N,b,f),C.head.appendChild(N);break;case"meta":if(Q=Ep("meta","content",C).get(b+(f.content||""))){for(we=0;we<Q.length;we++)if(N=Q[we],N.getAttribute("content")===(f.content==null?null:""+f.content)&&N.getAttribute("name")===(f.name==null?null:f.name)&&N.getAttribute("property")===(f.property==null?null:f.property)&&N.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&N.getAttribute("charset")===(f.charSet==null?null:f.charSet)){Q.splice(we,1);break t}}N=C.createElement(b),Ao(N,b,f),C.head.appendChild(N);break;default:throw Error(s(468,b))}N[re]=o,yr(N),b=N}o.stateNode=b}else w4(C,o.type,o.stateNode);else o.stateNode=A1(C,b,o.memoizedProps);else N!==b?(N===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):N.count--,b===null?w4(C,o.type,o.stateNode):A1(C,b,o.memoizedProps)):b===null&&o.stateNode!==null&&xr(o,o.memoizedProps,f.memoizedProps)}break;case 27:eo(u,o),vo(o),b&512&&(bs||f===null||Zt(f,f.return)),f!==null&&b&4&&xr(o,o.memoizedProps,f.memoizedProps);break;case 5:if(eo(u,o),vo(o),b&512&&(bs||f===null||Zt(f,f.return)),o.flags&32){C=o.stateNode;try{be(C,"")}catch(Dn){ki(o,o.return,Dn)}}b&4&&o.stateNode!=null&&(C=o.memoizedProps,xr(o,C,f!==null?f.memoizedProps:C)),b&1024&&(Bs=!0);break;case 6:if(eo(u,o),vo(o),b&4){if(o.stateNode===null)throw Error(s(162));b=o.memoizedProps,f=o.stateNode;try{f.nodeValue=b}catch(Dn){ki(o,o.return,Dn)}}break;case 3:if(Vd=null,C=rl,rl=_u(u.containerInfo),eo(u,o),rl=C,vo(o),b&4&&f!==null&&f.memoizedState.isDehydrated)try{$h(u.containerInfo)}catch(Dn){ki(o,o.return,Dn)}Bs&&(Bs=!1,il(o));break;case 4:b=rl,rl=_u(o.stateNode.containerInfo),eo(u,o),vo(o),rl=b;break;case 12:eo(u,o),vo(o);break;case 31:eo(u,o),vo(o),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,Xa(o,b)));break;case 13:eo(u,o),vo(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(kd=Zn()),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,Xa(o,b)));break;case 22:C=o.memoizedState!==null;var tt=f!==null&&f.memoizedState!==null,wt=fu,Yt=bs;if(fu=wt||C,bs=Yt||tt,eo(u,o),bs=Yt,fu=wt,vo(o),b&8192)e:for(u=o.stateNode,u._visibility=C?u._visibility&-2:u._visibility|1,C&&(f===null||tt||fu||bs||ju(o)),f=null,u=o;;){if(u.tag===5||u.tag===26){if(f===null){tt=f=u;try{if(N=tt.stateNode,C)Q=N.style,typeof Q.setProperty=="function"?Q.setProperty("display","none","important"):Q.display="none";else{we=tt.stateNode;var nn=tt.memoizedProps.style,Dt=nn!=null&&nn.hasOwnProperty("display")?nn.display:null;we.style.display=Dt==null||typeof Dt=="boolean"?"":(""+Dt).trim()}}catch(Dn){ki(tt,tt.return,Dn)}}}else if(u.tag===6){if(f===null){tt=u;try{tt.stateNode.nodeValue=C?"":tt.memoizedProps}catch(Dn){ki(tt,tt.return,Dn)}}}else if(u.tag===18){if(f===null){tt=u;try{var zt=tt.stateNode;C?Qa(zt,!0):Qa(tt.stateNode,!1)}catch(Dn){ki(tt,tt.return,Dn)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;f===u&&(f=null),u=u.return}f===u&&(f=null),u.sibling.return=u.return,u=u.sibling}b&4&&(b=o.updateQueue,b!==null&&(f=b.retryQueue,f!==null&&(b.retryQueue=null,Xa(o,f))));break;case 19:eo(u,o),vo(o),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,Xa(o,b)));break;case 30:break;case 21:break;default:eo(u,o),vo(o)}}function vo(o){var u=o.flags;if(u&2){try{for(var f,b=o.return;b!==null;){if(Ir(b)){f=b;break}b=b.return}if(f==null)throw Error(s(160));switch(f.tag){case 27:var C=f.stateNode,N=Kf(o);wd(o,N,C);break;case 5:var Q=f.stateNode;f.flags&32&&(be(Q,""),f.flags&=-33);var we=Kf(o);wd(o,we,Q);break;case 3:case 4:var tt=f.stateNode.containerInfo,wt=Kf(o);k0(o,wt,tt);break;default:throw Error(s(161))}}catch(Yt){ki(o,o.return,Yt)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function il(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;il(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function C0(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)m1(o,u.alternate,u),u=u.sibling}function ju(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Oi(4,u,u.return),ju(u);break;case 1:Zt(u,u.return);var f=u.stateNode;typeof f.componentWillUnmount=="function"&&Yf(u,u.return,f),ju(u);break;case 27:fs(u.stateNode);case 26:case 5:Zt(u,u.return),ju(u);break;case 22:u.memoizedState===null&&ju(u);break;case 30:ju(u);break;default:ju(u)}o=o.sibling}}function A0(o,u,f){for(f=f&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var b=u.alternate,C=o,N=u,Q=N.flags;switch(N.tag){case 0:case 11:case 15:A0(C,N,f),sa(4,N);break;case 1:if(A0(C,N,f),b=N,C=b.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(wt){ki(b,b.return,wt)}if(b=N,C=b.updateQueue,C!==null){var we=b.stateNode;try{var tt=C.shared.hiddenCallbacks;if(tt!==null)for(C.shared.hiddenCallbacks=null,C=0;C<tt.length;C++)rs(tt[C],we)}catch(wt){ki(b,b.return,wt)}}f&&Q&64&&Xf(N),Qc(N,N.return);break;case 27:tp(N);case 26:case 5:A0(C,N,f),f&&b===null&&Q&4&&yt(N),Qc(N,N.return);break;case 12:A0(C,N,f);break;case 31:A0(C,N,f),f&&Q&4&&np(C,N);break;case 13:A0(C,N,f),f&&Q&4&&Mr(C,N);break;case 22:N.memoizedState===null&&A0(C,N,f),Qc(N,N.return);break;case 30:break;default:A0(C,N,f)}u=u.sibling}}function Qf(o,u){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Va(f))}function e4(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Va(o))}function Ya(o,u,f,b){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)t4(o,u,f,b),u=u.sibling}function t4(o,u,f,b){var C=u.flags;switch(u.tag){case 0:case 11:case 15:Ya(o,u,f,b),C&2048&&sa(9,u);break;case 1:Ya(o,u,f,b);break;case 3:Ya(o,u,f,b),C&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Va(o)));break;case 12:if(C&2048){Ya(o,u,f,b),o=u.stateNode;try{var N=u.memoizedProps,Q=N.id,we=N.onPostCommit;typeof we=="function"&&we(Q,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(tt){ki(u,u.return,tt)}}else Ya(o,u,f,b);break;case 31:Ya(o,u,f,b);break;case 13:Ya(o,u,f,b);break;case 23:break;case 22:N=u.stateNode,Q=u.alternate,u.memoizedState!==null?N._visibility&2?Ya(o,u,f,b):Xu(o,u):N._visibility&2?Ya(o,u,f,b):(N._visibility|=2,eh(o,u,f,b,(u.subtreeFlags&10256)!==0||!1)),C&2048&&Qf(Q,u);break;case 24:Ya(o,u,f,b),C&2048&&e4(u.alternate,u);break;default:Ya(o,u,f,b)}}function eh(o,u,f,b,C){for(C=C&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var N=o,Q=u,we=f,tt=b,wt=Q.flags;switch(Q.tag){case 0:case 11:case 15:eh(N,Q,we,tt,C),sa(8,Q);break;case 23:break;case 22:var Yt=Q.stateNode;Q.memoizedState!==null?Yt._visibility&2?eh(N,Q,we,tt,C):Xu(N,Q):(Yt._visibility|=2,eh(N,Q,we,tt,C)),C&&wt&2048&&Qf(Q.alternate,Q);break;case 24:eh(N,Q,we,tt,C),C&&wt&2048&&e4(Q.alternate,Q);break;default:eh(N,Q,we,tt,C)}u=u.sibling}}function Xu(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var f=o,b=u,C=b.flags;switch(b.tag){case 22:Xu(f,b),C&2048&&Qf(b.alternate,b);break;case 24:Xu(f,b),C&2048&&e4(b.alternate,b);break;default:Xu(f,b)}u=u.sibling}}var th=8192;function mu(o,u,f){if(o.subtreeFlags&th)for(o=o.child;o!==null;)n4(o,u,f),o=o.sibling}function n4(o,u,f){switch(o.tag){case 26:mu(o,u,f),o.flags&th&&o.memoizedState!==null&&o3(f,rl,o.memoizedState,o.memoizedProps);break;case 5:mu(o,u,f);break;case 3:case 4:var b=rl;rl=_u(o.stateNode.containerInfo),mu(o,u,f),rl=b;break;case 22:o.memoizedState===null&&(b=o.alternate,b!==null&&b.memoizedState!==null?(b=th,th=16777216,mu(o,u,f),th=b):mu(o,u,f));break;default:mu(o,u,f)}}function Km(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Sd(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var f=0;f<u.length;f++){var b=u[f];$o=b,$1(b,o)}Km(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Il(o),o=o.sibling}function Il(o){switch(o.tag){case 0:case 11:case 15:Sd(o),o.flags&2048&&Oi(9,o,o.return);break;case 3:Sd(o);break;case 12:Sd(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,As(o)):Sd(o);break;default:Sd(o)}}function As(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var f=0;f<u.length;f++){var b=u[f];$o=b,$1(b,o)}Km(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Oi(8,u,u.return),As(u);break;case 22:f=u.stateNode,f._visibility&2&&(f._visibility&=-3,As(u));break;default:As(u)}o=o.sibling}}function $1(o,u){for(;$o!==null;){var f=$o;switch(f.tag){case 0:case 11:case 15:Oi(8,f,u);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var b=f.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Va(f.memoizedState.cache)}if(b=f.child,b!==null)b.return=f,$o=b;else e:for(f=o;$o!==null;){b=$o;var C=b.sibling,N=b.return;if(g1(b),b===f){$o=null;break e}if(C!==null){C.return=N,$o=C;break e}$o=N}}}var r4={getCacheForType:function(o){var u=ao(ms),f=u.data.get(o);return f===void 0&&(f=o(),u.data.set(o,f)),f},cacheSignal:function(){return ao(ms).controller.signal}},rp=typeof WeakMap=="function"?WeakMap:Map,Ri=0,Hi=null,Xr=null,Tr=0,is=0,sl=null,I0=!1,Yu=!1,Ku=!1,Ka=0,qs=0,Ja=0,gu=0,i4=0,Wo=0,nh=0,v1=null,bo=null,s4=!1,kd=0,ip=0,Cd=1/0,Ad=null,$u=null,yo=0,vu=null,Ml=null,M0=0,o4=0,Id=null,l4=null,b1=0,Ps=null;function Do(){return(Ri&2)!==0&&Tr!==0?Tr&-Tr:Pe.T!==null?Ll():A()}function sp(){if(Wo===0)if((Tr&536870912)===0||Jr){var o=Se;Se<<=1,(Se&3932160)===0&&(Se=262144),Wo=o}else Wo=536870912;return o=ml.current,o!==null&&(o.flags|=32),Wo}function Bo(o,u,f){(o===Hi&&(is===2||is===9)||o.cancelPendingCommit!==null)&&(Is(o,0),Nl(o,Tr,Wo,!1)),$r(o,f),((Ri&2)===0||o!==Hi)&&(o===Hi&&((Ri&2)===0&&(gu|=f),qs===4&&Nl(o,Tr,Wo,!1)),Za(o))}function op(o,u,f){if((Ri&6)!==0)throw Error(s(327));var b=!f&&(u&127)===0&&(u&o.expiredLanes)===0||je(o,u),C=b?u4(o,u):a4(o,u,!0),N=b;do{if(C===0){Yu&&!b&&Nl(o,u,0,!1);break}else{if(f=o.current.alternate,N&&!Jm(f)){C=a4(o,u,!1),N=!1;continue}if(C===2){if(N=u,o.errorRecoveryDisabledLanes&N)var Q=0;else Q=o.pendingLanes&-536870913,Q=Q!==0?Q:Q&536870912?536870912:0;if(Q!==0){u=Q;e:{var we=o;C=v1;var tt=we.current.memoizedState.isDehydrated;if(tt&&(Is(we,Q).flags|=256),Q=a4(we,Q,!1),Q!==2){if(Ku&&!tt){we.errorRecoveryDisabledLanes|=N,gu|=N,C=4;break e}N=bo,bo=C,N!==null&&(bo===null?bo=N:bo.push.apply(bo,N))}C=Q}if(N=!1,C!==2)continue}}if(C===1){Is(o,0),Nl(o,u,0,!0);break}e:{switch(b=o,N=C,N){case 0:case 1:throw Error(s(345));case 4:if((u&4194048)!==u)break;case 6:Nl(b,u,Wo,!I0);break e;case 2:bo=null;break;case 3:case 5:break;default:throw Error(s(329))}if((u&62914560)===u&&(C=kd+300-Zn(),10<C)){if(Nl(b,u,Wo,!I0),Ce(b,0,!0)!==0)break e;M0=u,b.timeoutHandle=$p(lp.bind(null,b,f,bo,Ad,s4,u,Wo,gu,nh,I0,N,"Throttled",-0,0),C);break e}lp(b,f,bo,Ad,s4,u,Wo,gu,nh,I0,N,null,-0,0)}}break}while(!0);Za(o)}function lp(o,u,f,b,C,N,Q,we,tt,wt,Yt,nn,Dt,zt){if(o.timeoutHandle=-1,nn=u.subtreeFlags,nn&8192||(nn&16785408)===16785408){nn={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hn},n4(u,N,nn);var Dn=(N&62914560)===N?kd-Zn():(N&4194048)===N?ip-Zn():0;if(Dn=N1(nn,Dn),Dn!==null){M0=N,o.cancelPendingCommit=Dn(ec.bind(null,o,u,N,f,b,C,Q,we,tt,Yt,nn,null,Dt,zt)),Nl(o,N,Q,!wt);return}}ec(o,u,N,f,b,C,Q,we,tt)}function Jm(o){for(var u=o;;){var f=u.tag;if((f===0||f===11||f===15)&&u.flags&16384&&(f=u.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var b=0;b<f.length;b++){var C=f[b],N=C.getSnapshot;C=C.value;try{if(!un(N(),C))return!1}catch{return!1}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Nl(o,u,f,b){u&=~i4,u&=~gu,o.suspendedLanes|=u,o.pingedLanes&=~u,b&&(o.warmLanes|=u),b=o.expirationTimes;for(var C=u;0<C;){var N=31-We(C),Q=1<<N;b[N]=-1,C&=~Q}f!==0&&as(o,f,u)}function Md(){return(Ri&6)===0?(E1(0),!1):!0}function rh(){if(Xr!==null){if(is===0)var o=Xr.return;else o=Xr,na=m0=null,Xc(o),Nt=null,sn=0,o=Xr;for(;o!==null;)ep(o.alternate,o),o=o.return;Xr=null}}function Is(o,u){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,_4(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),M0=0,rh(),Hi=o,Xr=f=Ql(o.current,null),Tr=u,is=0,sl=null,I0=!1,Yu=je(o,u),Ku=!1,nh=Wo=i4=gu=Ja=qs=0,bo=v1=null,s4=!1,(u&8)!==0&&(u|=u&32);var b=o.entangledLanes;if(b!==0)for(o=o.entanglements,b&=u;0<b;){var C=31-We(b),N=1<<C;u|=o[C],b&=~N}return Ka=u,ba(),f}function Ju(o,u){Rr=null,Pe.H=Jc,u===E||u===U?(u=pt(),is=3):u===M?(u=pt(),is=4):is=u===G2?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,sl=u,Xr===null&&(qs=1,bd(o,cl(u,o.current)))}function Zu(){var o=ml.current;return o===null?!0:(Tr&4194048)===Tr?Sl===null:(Tr&62914560)===Tr||(Tr&536870912)!==0?o===Sl:!1}function Nd(){var o=Pe.H;return Pe.H=Jc,o===null?Jc:o}function Od(){var o=Pe.A;return Pe.A=r4,o}function Rd(){qs=4,I0||(Tr&4194048)!==Tr&&ml.current!==null||(Yu=!0),(Ja&134217727)===0&&(gu&134217727)===0||Hi===null||Nl(Hi,Tr,Wo,!1)}function a4(o,u,f){var b=Ri;Ri|=2;var C=Nd(),N=Od();(Hi!==o||Tr!==u)&&(Ad=null,Is(o,u)),u=!1;var Q=qs;e:do try{if(is!==0&&Xr!==null){var we=Xr,tt=sl;switch(is){case 8:rh(),Q=6;break e;case 3:case 2:case 9:case 6:ml.current===null&&(u=!0);var wt=is;if(is=0,sl=null,ih(o,we,tt,wt),f&&Yu){Q=0;break e}break;default:wt=is,is=0,sl=null,ih(o,we,tt,wt)}}ap(),Q=qs;break}catch(Yt){Ju(o,Yt)}while(!0);return u&&o.shellSuspendCounter++,na=m0=null,Ri=b,Pe.H=C,Pe.A=N,Xr===null&&(Hi=null,Tr=0,ba()),Q}function ap(){for(;Xr!==null;)Qu(Xr)}function u4(o,u){var f=Ri;Ri|=2;var b=Nd(),C=Od();Hi!==o||Tr!==u?(Ad=null,Cd=Zn()+500,Is(o,u)):Yu=je(o,u);e:do try{if(is!==0&&Xr!==null){u=Xr;var N=sl;t:switch(is){case 1:is=0,sl=null,ih(o,u,N,1);break;case 2:case 9:if(le(N)){is=0,sl=null,cp(u);break}u=function(){is!==2&&is!==9||Hi!==o||(is=7),Za(o)},N.then(u,u);break e;case 3:is=7;break e;case 4:is=5;break e;case 7:le(N)?(is=0,sl=null,cp(u)):(is=0,sl=null,ih(o,u,N,7));break;case 5:var Q=null;switch(Xr.tag){case 26:Q=Xr.memoizedState;case 5:case 27:var we=Xr;if(Q?os(Q):we.stateNode.complete){is=0,sl=null;var tt=we.sibling;if(tt!==null)Xr=tt;else{var wt=we.return;wt!==null?(Xr=wt,ys(wt)):Xr=null}break t}}is=0,sl=null,ih(o,u,N,5);break;case 6:is=0,sl=null,ih(o,u,N,6);break;case 8:rh(),qs=6;break e;default:throw Error(s(462))}}up();break}catch(Yt){Ju(o,Yt)}while(!0);return na=m0=null,Pe.H=b,Pe.A=C,Ri=f,Xr!==null?0:(Hi=null,Tr=0,ba(),qs)}function up(){for(;Xr!==null&&!fi();)Qu(Xr)}function Qu(o){var u=K2(o.alternate,o,Ka);o.memoizedProps=o.pendingProps,u===null?ys(o):Xr=u}function cp(o){var u=o,f=u.alternate;switch(u.tag){case 15:case 0:u=E0(f,u,u.pendingProps,u.type,void 0,Tr);break;case 11:u=E0(f,u,u.pendingProps,u.type.render,u.ref,Tr);break;case 5:Xc(u);default:ep(f,u),u=Xr=bf(u,Ka),u=K2(f,u,Ka)}o.memoizedProps=o.pendingProps,u===null?ys(o):Xr=u}function ih(o,u,f,b){na=m0=null,Xc(u),Nt=null,sn=0;var C=u.return;try{if(jm(o,C,u,f,Tr)){qs=1,bd(o,cl(f,o.current)),Xr=null;return}}catch(N){if(C!==null)throw Xr=C,N;qs=1,bd(o,cl(f,o.current)),Xr=null;return}u.flags&32768?(Jr||b===1?o=!0:Yu||(Tr&536870912)!==0?o=!1:(I0=o=!0,(b===2||b===9||b===3||b===6)&&(b=ml.current,b!==null&&b.tag===13&&(b.flags|=16384))),y1(u,o)):ys(u)}function ys(o){var u=o;do{if((u.flags&32768)!==0){y1(u,I0);return}o=u.return;var f=Z2(u.alternate,u,Ka);if(f!==null){Xr=f;return}if(u=u.sibling,u!==null){Xr=u;return}Xr=u=o}while(u!==null);qs===0&&(qs=5)}function y1(o,u){do{var f=Q2(o.alternate,o);if(f!==null){f.flags&=32767,Xr=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!u&&(o=o.sibling,o!==null)){Xr=o;return}Xr=o=f}while(o!==null);qs=6,Xr=null}function ec(o,u,f,b,C,N,Q,we,tt){o.cancelPendingCommit=null;do sh();while(yo!==0);if((Ri&6)!==0)throw Error(s(327));if(u!==null){if(u===o.current)throw Error(s(177));if(N=u.lanes|u.childLanes,N|=So,Os(o,f,N,Q,we,tt),o===Hi&&(Xr=Hi=null,Tr=0),Ml=u,vu=o,M0=f,o4=N,Id=C,l4=b,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,lh(qe,function(){return h4(),null})):(o.callbackNode=null,o.callbackPriority=0),b=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||b){b=Pe.T,Pe.T=null,C=nt.p,nt.p=2,Q=Ri,Ri|=4;try{Jf(o,u,f)}finally{Ri=Q,nt.p=C,Pe.T=b}}yo=1,c4(),bu(),hp()}}function c4(){if(yo===1){yo=0;var o=vu,u=Ml,f=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||f){f=Pe.T,Pe.T=null;var b=nt.p;nt.p=2;var C=Ri;Ri|=4;try{pu(u,o);var N=k1,Q=$i(o.containerInfo),we=N.focusedElem,tt=N.selectionRange;if(Q!==we&&we&&we.ownerDocument&&ti(we.ownerDocument.documentElement,we)){if(tt!==null&&si(we)){var wt=tt.start,Yt=tt.end;if(Yt===void 0&&(Yt=wt),"selectionStart"in we)we.selectionStart=wt,we.selectionEnd=Math.min(Yt,we.value.length);else{var nn=we.ownerDocument||document,Dt=nn&&nn.defaultView||window;if(Dt.getSelection){var zt=Dt.getSelection(),Dn=we.textContent.length,dr=Math.min(tt.start,Dn),Li=tt.end===void 0?dr:Math.min(tt.end,Dn);!zt.extend&&dr>Li&&(Q=Li,Li=dr,dr=Q);var gt=mr(we,dr),ut=mr(we,Li);if(gt&&ut&&(zt.rangeCount!==1||zt.anchorNode!==gt.node||zt.anchorOffset!==gt.offset||zt.focusNode!==ut.node||zt.focusOffset!==ut.offset)){var Et=nn.createRange();Et.setStart(gt.node,gt.offset),zt.removeAllRanges(),dr>Li?(zt.addRange(Et),zt.extend(ut.node,ut.offset)):(Et.setEnd(ut.node,ut.offset),zt.addRange(Et))}}}}for(nn=[],zt=we;zt=zt.parentNode;)zt.nodeType===1&&nn.push({element:zt,left:zt.scrollLeft,top:zt.scrollTop});for(typeof we.focus=="function"&&we.focus(),we=0;we<nn.length;we++){var Kt=nn[we];Kt.element.scrollLeft=Kt.left,Kt.element.scrollTop=Kt.top}}L1=!!uh,k1=uh=null}finally{Ri=C,nt.p=b,Pe.T=f}}o.current=u,yo=2}}function bu(){if(yo===2){yo=0;var o=vu,u=Ml,f=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||f){f=Pe.T,Pe.T=null;var b=nt.p;nt.p=2;var C=Ri;Ri|=4;try{m1(o,u.alternate,u)}finally{Ri=C,nt.p=b,Pe.T=f}}yo=3}}function hp(){if(yo===4||yo===3){yo=0,ar();var o=vu,u=Ml,f=M0,b=l4;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?yo=5:(yo=0,Ml=vu=null,Ld(o,o.pendingLanes));var C=o.pendingLanes;if(C===0&&($u=null),on(f),u=u.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(F,u,void 0,(u.current.flags&128)===128)}catch{}if(b!==null){u=Pe.T,C=nt.p,nt.p=2,Pe.T=null;try{for(var N=o.onRecoverableError,Q=0;Q<b.length;Q++){var we=b[Q];N(we.value,{componentStack:we.stack})}}finally{Pe.T=u,nt.p=C}}(M0&3)!==0&&sh(),Za(o),C=o.pendingLanes,(f&261930)!==0&&(C&42)!==0?o===Ps?b1++:(b1=0,Ps=o):b1=0,E1(0)}}function Ld(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Va(u)))}function sh(){return c4(),bu(),hp(),h4()}function h4(){if(yo!==5)return!1;var o=vu,u=o4;o4=0;var f=on(M0),b=Pe.T,C=nt.p;try{nt.p=32>f?32:f,Pe.T=null,f=Id,Id=null;var N=vu,Q=M0;if(yo=0,Ml=vu=null,M0=0,(Ri&6)!==0)throw Error(s(331));var we=Ri;if(Ri|=4,Il(N.current),t4(N,N.current,Q,f),Ri=we,E1(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(F,N)}catch{}return!0}finally{nt.p=C,Pe.T=b,Ld(o,u)}}function jo(o,u,f){u=cl(f,u),u=c1(o.stateNode,u,2),o=xs(o,u,2),o!==null&&($r(o,2),Za(o))}function ki(o,u,f){if(o.tag===3)jo(o,o,f);else for(;u!==null;){if(u.tag===3){jo(u,o,f);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&($u===null||!$u.has(b))){o=cl(f,o),f=V2(2),b=xs(u,f,2),b!==null&&(jf(f,b,u,o),$r(b,2),Za(b));break}}u=u.return}}function _1(o,u,f){var b=o.pingCache;if(b===null){b=o.pingCache=new rp;var C=new Set;b.set(u,C)}else C=b.get(u),C===void 0&&(C=new Set,b.set(u,C));C.has(f)||(Ku=!0,C.add(f),o=Dd.bind(null,o,u,f),u.then(o,o))}function Dd(o,u,f){var b=o.pingCache;b!==null&&b.delete(u),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Hi===o&&(Tr&f)===f&&(qs===4||qs===3&&(Tr&62914560)===Tr&&300>Zn()-kd?(Ri&2)===0&&Is(o,0):i4|=f,nh===Tr&&(nh=0)),Za(o)}function oh(o,u){u===0&&(u=mn()),o=ul(o,u),o!==null&&($r(o,u),Za(o))}function Zm(o){var u=o.memoizedState,f=0;u!==null&&(f=u.retryLane),oh(o,f)}function Qm(o,u){var f=0;switch(o.tag){case 31:case 13:var b=o.stateNode,C=o.memoizedState;C!==null&&(f=C.retryLane);break;case 19:b=o.stateNode;break;case 22:b=o.stateNode._retryCache;break;default:throw Error(s(314))}b!==null&&b.delete(u),oh(o,f)}function lh(o,u){return lr(o,u)}var T1=null,tc=null,Ol=!1,nc=!1,Bd=!1,N0=0;function Za(o){o!==tc&&o.next===null&&(tc===null?T1=tc=o:tc=tc.next=o),nc=!0,Ol||(Ol=!0,e3())}function E1(o,u){if(!Bd&&nc){Bd=!0;do for(var f=!1,b=T1;b!==null;){if(o!==0){var C=b.pendingLanes;if(C===0)var N=0;else{var Q=b.suspendedLanes,we=b.pingedLanes;N=(1<<31-We(42|o)+1)-1,N&=C&~(Q&~we),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(f=!0,p4(b,N))}else N=Tr,N=Ce(b,b===Hi?N:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(N&3)===0||je(b,N)||(f=!0,p4(b,N));b=b.next}while(f);Bd=!1}}function d4(){co()}function co(){nc=Ol=!1;var o=0;N0!==0&&gp()&&(o=N0);for(var u=Zn(),f=null,b=T1;b!==null;){var C=b.next,N=Rl(b,u);N===0?(b.next=null,f===null?T1=C:f.next=C,C===null&&(tc=f)):(f=b,(o!==0||(N&3)!==0)&&(nc=!0)),b=C}yo!==0&&yo!==5||E1(o),N0!==0&&(N0=0)}function Rl(o,u){for(var f=o.suspendedLanes,b=o.pingedLanes,C=o.expirationTimes,N=o.pendingLanes&-62914561;0<N;){var Q=31-We(N),we=1<<Q,tt=C[Q];tt===-1?((we&f)===0||(we&b)!==0)&&(C[Q]=Ft(we,u)):tt<=u&&(o.expiredLanes|=we),N&=~we}if(u=Hi,f=Tr,f=Ce(o,o===u?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),b=o.callbackNode,f===0||o===u&&(is===2||is===9)||o.cancelPendingCommit!==null)return b!==null&&b!==null&&ls(b),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||je(o,f)){if(u=f&-f,u===o.callbackPriority)return u;switch(b!==null&&ls(b),on(f)){case 2:case 8:f=Re;break;case 32:f=qe;break;case 268435456:f=st;break;default:f=qe}return b=f4.bind(null,o),f=lr(f,b),o.callbackPriority=u,o.callbackNode=f,u}return b!==null&&b!==null&&ls(b),o.callbackPriority=2,o.callbackNode=null,2}function f4(o,u){if(yo!==0&&yo!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(sh()&&o.callbackNode!==f)return null;var b=Tr;return b=Ce(o,o===Hi?b:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),b===0?null:(op(o,b,u),Rl(o,Zn()),o.callbackNode!=null&&o.callbackNode===f?f4.bind(null,o):null)}function p4(o,u){if(sh())return null;op(o,u,!0)}function e3(){ch(function(){(Ri&6)!==0?lr(ue,d4):co()})}function Ll(){if(N0===0){var o=lu;o===0&&(o=ne,ne<<=1,(ne&261888)===0&&(ne=256)),N0=o}return N0}function w1(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:en(""+o)}function Vi(o,u){var f=u.ownerDocument.createElement("input");return f.name=u.name,f.value=u.value,o.id&&f.setAttribute("form",o.id),u.parentNode.insertBefore(f,u),o=new FormData(o),f.parentNode.removeChild(f),o}function to(o,u,f,b,C){if(u==="submit"&&f&&f.stateNode===C){var N=w1((C[Ne]||null).action),Q=b.submitter;Q&&(u=(u=Q[Ne]||null)?w1(u.formAction):Q.getAttribute("formAction"),u!==null&&(N=u,Q=null));var we=new To("action","action",null,b,C);o.push({event:we,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(N0!==0){var tt=Q?Vi(C,Q):new FormData(C);It(f,{pending:!0,data:tt,method:C.method,action:N},null,tt)}}else typeof N=="function"&&(we.preventDefault(),tt=Q?Vi(C,Q):new FormData(C),It(f,{pending:!0,data:tt,method:C.method,action:N},N,tt))},currentTarget:C}]})}}for(var rc=0;rc<oo.length;rc++){var m4=oo[rc],g4=m4.toLowerCase(),dp=m4[0].toUpperCase()+m4.slice(1);$s(g4,"on"+dp)}$s(Dr,"onAnimationEnd"),$s(gs,"onAnimationIteration"),$s(ye,"onAnimationStart"),$s("dblclick","onDoubleClick"),$s("focusin","onFocus"),$s("focusout","onBlur"),$s(Ni,"onTransitionRun"),$s(hs,"onTransitionStart"),$s(El,"onTransitionCancel"),$s(po,"onTransitionEnd"),yn("onMouseEnter",["mouseout","mouseover"]),yn("onMouseLeave",["mouseout","mouseover"]),yn("onPointerEnter",["pointerout","pointerover"]),yn("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var O0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(O0));function Dl(o,u){u=(u&4)!==0;for(var f=0;f<o.length;f++){var b=o[f],C=b.event;b=b.listeners;e:{var N=void 0;if(u)for(var Q=b.length-1;0<=Q;Q--){var we=b[Q],tt=we.instance,wt=we.currentTarget;if(we=we.listener,tt!==N&&C.isPropagationStopped())break e;N=we,C.currentTarget=wt;try{N(C)}catch(Yt){gr(Yt)}C.currentTarget=null,N=tt}else for(Q=0;Q<b.length;Q++){if(we=b[Q],tt=we.instance,wt=we.currentTarget,we=we.listener,tt!==N&&C.isPropagationStopped())break e;N=we,C.currentTarget=wt;try{N(C)}catch(Yt){gr(Yt)}C.currentTarget=null,N=tt}}}}function Yr(o,u){var f=u[Me];f===void 0&&(f=u[Me]=new Set);var b=o+"__bubble";f.has(b)||(Pd(u,o,2,!1),f.add(b))}function oa(o,u,f){var b=0;u&&(b|=4),Pd(f,o,b,u)}var ah="_reactListening"+Math.random().toString(36).slice(2);function $4(o){if(!o[ah]){o[ah]=!0,Vn.forEach(function(f){f!=="selectionchange"&&(x1.has(f)||oa(f,!1,o),oa(f,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[ah]||(u[ah]=!0,oa("selectionchange",!1,u))}}function Pd(o,u,f,b){switch(Mp(u)){case 2:var C=Ap;break;case 8:C=c3;break;default:C=S4}f=C.bind(null,u,f,o),C=void 0,!so||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),b?C!==void 0?o.addEventListener(u,f,{capture:!0,passive:C}):o.addEventListener(u,f,!0):C!==void 0?o.addEventListener(u,f,{passive:C}):o.addEventListener(u,f,!1)}function yu(o,u,f,b,C){var N=b;if((u&1)===0&&(u&2)===0&&b!==null)e:for(;;){if(b===null)return;var Q=b.tag;if(Q===3||Q===4){var we=b.stateNode.containerInfo;if(we===C)break;if(Q===4)for(Q=b.return;Q!==null;){var tt=Q.tag;if((tt===3||tt===4)&&Q.stateNode.containerInfo===C)return;Q=Q.return}for(;we!==null;){if(Q=Le(we),Q===null)return;if(tt=Q.tag,tt===5||tt===6||tt===26||tt===27){b=N=Q;continue e}we=we.parentNode}}b=b.return}qr(function(){var wt=N,Yt=wn(f),nn=[];e:{var Dt=xo.get(o);if(Dt!==void 0){var zt=To,Dn=o;switch(o){case"keypress":if(cs(f)===0)break e;case"keydown":case"keyup":zt=Er;break;case"focusin":Dn="focus",zt=ei;break;case"focusout":Dn="blur",zt=ei;break;case"beforeblur":case"afterblur":zt=ei;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":zt=$a;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":zt=Ys;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":zt=Nc;break;case Dr:case gs:case ye:zt=Qo;break;case po:zt=Ra;break;case"scroll":case"scrollend":zt=Xs;break;case"wheel":zt=La;break;case"copy":case"cut":case"paste":zt=jl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":zt=u0;break;case"toggle":case"beforetoggle":zt=c0}var dr=(u&4)!==0,Li=!dr&&(o==="scroll"||o==="scrollend"),gt=dr?Dt!==null?Dt+"Capture":null:Dt;dr=[];for(var ut=wt,Et;ut!==null;){var Kt=ut;if(Et=Kt.stateNode,Kt=Kt.tag,Kt!==5&&Kt!==26&&Kt!==27||Et===null||gt===null||(Kt=fr(ut,gt),Kt!=null&&dr.push(Nr(ut,Kt,Et))),Li)break;ut=ut.return}0<dr.length&&(Dt=new zt(Dt,Dn,null,f,Yt),nn.push({event:Dt,listeners:dr}))}}if((u&7)===0){e:{if(Dt=o==="mouseover"||o==="pointerover",zt=o==="mouseout"||o==="pointerout",Dt&&f!==Rn&&(Dn=f.relatedTarget||f.fromElement)&&(Le(Dn)||Dn[ae]))break e;if((zt||Dt)&&(Dt=Yt.window===Yt?Yt:(Dt=Yt.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,zt?(Dn=f.relatedTarget||f.toElement,zt=wt,Dn=Dn?Le(Dn):null,Dn!==null&&(Li=c(Dn),dr=Dn.tag,Dn!==Li||dr!==5&&dr!==27&&dr!==6)&&(Dn=null)):(zt=null,Dn=wt),zt!==Dn)){if(dr=$a,Kt="onMouseLeave",gt="onMouseEnter",ut="mouse",(o==="pointerout"||o==="pointerover")&&(dr=u0,Kt="onPointerLeave",gt="onPointerEnter",ut="pointer"),Li=zt==null?Dt:Fn(zt),Et=Dn==null?Dt:Fn(Dn),Dt=new dr(Kt,ut+"leave",zt,f,Yt),Dt.target=Li,Dt.relatedTarget=Et,Kt=null,Le(Yt)===wt&&(dr=new dr(gt,ut+"enter",Dn,f,Yt),dr.target=Et,dr.relatedTarget=Li,Kt=dr),Li=Kt,zt&&Dn)t:{for(dr=ic,gt=zt,ut=Dn,Et=0,Kt=gt;Kt;Kt=dr(Kt))Et++;Kt=0;for(var nr=ut;nr;nr=dr(nr))Kt++;for(;0<Et-Kt;)gt=dr(gt),Et--;for(;0<Kt-Et;)ut=dr(ut),Kt--;for(;Et--;){if(gt===ut||ut!==null&&gt===ut.alternate){dr=gt;break t}gt=dr(gt),ut=dr(ut)}dr=null}else dr=null;zt!==null&&Fd(nn,Dt,zt,dr,!1),Dn!==null&&Li!==null&&Fd(nn,Li,Dn,dr,!0)}}e:{if(Dt=wt?Fn(wt):window,zt=Dt.nodeName&&Dt.nodeName.toLowerCase(),zt==="select"||zt==="input"&&Dt.type==="file")var _i=vt;else if(x(Dt))if(Rt)_i=Cr;else{_i=er;var Wn=Gn}else zt=Dt.nodeName,!zt||zt.toLowerCase()!=="input"||Dt.type!=="checkbox"&&Dt.type!=="radio"?wt&&Bt(wt.elementType)&&(_i=vt):_i=ur;if(_i&&(_i=_i(o,wt))){O(nn,_i,f,Yt);break e}Wn&&Wn(o,Dt,wt),o==="focusout"&&wt&&Dt.type==="number"&&wt.memoizedProps.value!=null&&I(Dt,"number",Dt.value)}switch(Wn=wt?Fn(wt):window,o){case"focusin":(x(Wn)||Wn.contentEditable==="true")&&(oi=Wn,Ii=wt,jr=null);break;case"focusout":jr=Ii=oi=null;break;case"mousedown":Xi=!0;break;case"contextmenu":case"mouseup":case"dragend":Xi=!1,Es(nn,f,Yt);break;case"selectionchange":if(hi)break;case"keydown":case"keyup":Es(nn,f,Yt)}var Mn;if(Da)e:{switch(o){case"compositionstart":var li="onCompositionStart";break e;case"compositionend":li="onCompositionEnd";break e;case"compositionupdate":li="onCompositionUpdate";break e}li=void 0}else Kl?eu(o,f)&&(li="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(li="onCompositionStart");li&&(Lc&&f.locale!=="ko"&&(Kl||li!=="onCompositionStart"?li==="onCompositionEnd"&&Kl&&(Mn=ji()):(Xn=Yt,gi="value"in Xn?Xn.value:Xn.textContent,Kl=!0)),Wn=S1(wt,li),0<Wn.length&&(li=new Ou(li,o,null,f,Yt),nn.push({event:li,listeners:Wn}),Mn?li.data=Mn:(Mn=h0(f),Mn!==null&&(li.data=Mn)))),(Mn=Rc?tu(o,f):Du(o,f))&&(li=S1(wt,"onBeforeInput"),0<li.length&&(Wn=new Ou("onBeforeInput","beforeinput",null,f,Yt),nn.push({event:Wn,listeners:li}),Wn.data=Mn)),to(nn,o,wt,f,Yt)}Dl(nn,u)})}function Nr(o,u,f){return{instance:o,listener:u,currentTarget:f}}function S1(o,u){for(var f=u+"Capture",b=[];o!==null;){var C=o,N=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||N===null||(C=fr(o,f),C!=null&&b.unshift(Nr(o,C,N)),C=fr(o,u),C!=null&&b.push(Nr(o,C,N))),o.tag===3)return b;o=o.return}return[]}function ic(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Fd(o,u,f,b,C){for(var N=u._reactName,Q=[];f!==null&&f!==b;){var we=f,tt=we.alternate,wt=we.stateNode;if(we=we.tag,tt!==null&&tt===b)break;we!==5&&we!==26&&we!==27||wt===null||(tt=wt,C?(wt=fr(f,N),wt!=null&&Q.unshift(Nr(f,wt,tt))):C||(wt=fr(f,N),wt!=null&&Q.push(Nr(f,wt,tt)))),f=f.return}Q.length!==0&&o.push({event:u,listeners:Q})}var F6=/\r\n?/g,t3=/\u0000|\uFFFD/g;function fp(o){return(typeof o=="string"?o:""+o).replace(F6,`
`).replace(t3,"")}function Ud(o,u){return u=fp(u),fp(o)===u}function ss(o,u,f,b,C,N){switch(f){case"children":typeof b=="string"?u==="body"||u==="textarea"&&b===""||be(o,b):(typeof b=="number"||typeof b=="bigint")&&u!=="body"&&be(o,""+b);break;case"className":Te(o,"class",b);break;case"tabIndex":Te(o,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Te(o,f,b);break;case"style":_t(o,b,N);break;case"data":if(u!=="object"){Te(o,"data",b);break}case"src":case"href":if(b===""&&(u!=="a"||f!=="href")){o.removeAttribute(f);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){o.removeAttribute(f);break}b=en(""+b),o.setAttribute(f,b);break;case"action":case"formAction":if(typeof b=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(f==="formAction"?(u!=="input"&&ss(o,u,"name",C.name,C,null),ss(o,u,"formEncType",C.formEncType,C,null),ss(o,u,"formMethod",C.formMethod,C,null),ss(o,u,"formTarget",C.formTarget,C,null)):(ss(o,u,"encType",C.encType,C,null),ss(o,u,"method",C.method,C,null),ss(o,u,"target",C.target,C,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){o.removeAttribute(f);break}b=en(""+b),o.setAttribute(f,b);break;case"onClick":b!=null&&(o.onclick=hn);break;case"onScroll":b!=null&&Yr("scroll",o);break;case"onScrollEnd":b!=null&&Yr("scrollend",o);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(s(61));if(f=b.__html,f!=null){if(C.children!=null)throw Error(s(60));o.innerHTML=f}}break;case"multiple":o.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":o.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){o.removeAttribute("xlink:href");break}f=en(""+b),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?o.setAttribute(f,""+b):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":b===!0?o.setAttribute(f,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?o.setAttribute(f,b):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?o.setAttribute(f,b):o.removeAttribute(f);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?o.removeAttribute(f):o.setAttribute(f,b);break;case"popover":Yr("beforetoggle",o),Yr("toggle",o),an(o,"popover",b);break;case"xlinkActuate":Di(o,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Di(o,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Di(o,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Di(o,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Di(o,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Di(o,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Di(o,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Di(o,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Di(o,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":an(o,"is",b);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=kt.get(f)||f,an(o,f,b))}}function v4(o,u,f,b,C,N){switch(f){case"style":_t(o,b,N);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(s(61));if(f=b.__html,f!=null){if(C.children!=null)throw Error(s(60));o.innerHTML=f}}break;case"children":typeof b=="string"?be(o,b):(typeof b=="number"||typeof b=="bigint")&&be(o,""+b);break;case"onScroll":b!=null&&Yr("scroll",o);break;case"onScrollEnd":b!=null&&Yr("scrollend",o);break;case"onClick":b!=null&&(o.onclick=hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!us.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(C=f.endsWith("Capture"),u=f.slice(2,C?f.length-7:void 0),N=o[Ne]||null,N=N!=null?N[f]:null,typeof N=="function"&&o.removeEventListener(u,N,C),typeof b=="function")){typeof N!="function"&&N!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(u,b,C);break e}f in o?o[f]=b:b===!0?o.setAttribute(f,""):an(o,f,b)}}}function Ao(o,u,f){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yr("error",o),Yr("load",o);var b=!1,C=!1,N;for(N in f)if(f.hasOwnProperty(N)){var Q=f[N];if(Q!=null)switch(N){case"src":b=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,u));default:ss(o,u,N,Q,f,null)}}C&&ss(o,u,"srcSet",f.srcSet,f,null),b&&ss(o,u,"src",f.src,f,null);return;case"input":Yr("invalid",o);var we=N=Q=C=null,tt=null,wt=null;for(b in f)if(f.hasOwnProperty(b)){var Yt=f[b];if(Yt!=null)switch(b){case"name":C=Yt;break;case"type":Q=Yt;break;case"checked":tt=Yt;break;case"defaultChecked":wt=Yt;break;case"value":N=Yt;break;case"defaultValue":we=Yt;break;case"children":case"dangerouslySetInnerHTML":if(Yt!=null)throw Error(s(137,u));break;default:ss(o,u,b,Yt,f,null)}}p(o,N,we,tt,wt,Q,C,!1);return;case"select":Yr("invalid",o),b=Q=N=null;for(C in f)if(f.hasOwnProperty(C)&&(we=f[C],we!=null))switch(C){case"value":N=we;break;case"defaultValue":Q=we;break;case"multiple":b=we;default:ss(o,u,C,we,f,null)}u=N,f=Q,o.multiple=!!b,u!=null?H(o,!!b,u,!1):f!=null&&H(o,!!b,f,!0);return;case"textarea":Yr("invalid",o),N=C=b=null;for(Q in f)if(f.hasOwnProperty(Q)&&(we=f[Q],we!=null))switch(Q){case"value":b=we;break;case"defaultValue":C=we;break;case"children":N=we;break;case"dangerouslySetInnerHTML":if(we!=null)throw Error(s(91));break;default:ss(o,u,Q,we,f,null)}pe(o,b,C,N);return;case"option":for(tt in f)if(f.hasOwnProperty(tt)&&(b=f[tt],b!=null))switch(tt){case"selected":o.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:ss(o,u,tt,b,f,null)}return;case"dialog":Yr("beforetoggle",o),Yr("toggle",o),Yr("cancel",o),Yr("close",o);break;case"iframe":case"object":Yr("load",o);break;case"video":case"audio":for(b=0;b<O0.length;b++)Yr(O0[b],o);break;case"image":Yr("error",o),Yr("load",o);break;case"details":Yr("toggle",o);break;case"embed":case"source":case"link":Yr("error",o),Yr("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(wt in f)if(f.hasOwnProperty(wt)&&(b=f[wt],b!=null))switch(wt){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,u));default:ss(o,u,wt,b,f,null)}return;default:if(Bt(u)){for(Yt in f)f.hasOwnProperty(Yt)&&(b=f[Yt],b!==void 0&&v4(o,u,Yt,b,f,void 0));return}}for(we in f)f.hasOwnProperty(we)&&(b=f[we],b!=null&&ss(o,u,we,b,f,null))}function b4(o,u,f,b){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,N=null,Q=null,we=null,tt=null,wt=null,Yt=null;for(zt in f){var nn=f[zt];if(f.hasOwnProperty(zt)&&nn!=null)switch(zt){case"checked":break;case"value":break;case"defaultValue":tt=nn;default:b.hasOwnProperty(zt)||ss(o,u,zt,null,b,nn)}}for(var Dt in b){var zt=b[Dt];if(nn=f[Dt],b.hasOwnProperty(Dt)&&(zt!=null||nn!=null))switch(Dt){case"type":N=zt;break;case"name":C=zt;break;case"checked":wt=zt;break;case"defaultChecked":Yt=zt;break;case"value":Q=zt;break;case"defaultValue":we=zt;break;case"children":case"dangerouslySetInnerHTML":if(zt!=null)throw Error(s(137,u));break;default:zt!==nn&&ss(o,u,Dt,zt,b,nn)}}ir(o,Q,we,tt,wt,Yt,N,C);return;case"select":zt=Q=we=Dt=null;for(N in f)if(tt=f[N],f.hasOwnProperty(N)&&tt!=null)switch(N){case"value":break;case"multiple":zt=tt;default:b.hasOwnProperty(N)||ss(o,u,N,null,b,tt)}for(C in b)if(N=b[C],tt=f[C],b.hasOwnProperty(C)&&(N!=null||tt!=null))switch(C){case"value":Dt=N;break;case"defaultValue":we=N;break;case"multiple":Q=N;default:N!==tt&&ss(o,u,C,N,b,tt)}u=we,f=Q,b=zt,Dt!=null?H(o,!!f,Dt,!1):!!b!=!!f&&(u!=null?H(o,!!f,u,!0):H(o,!!f,f?[]:"",!1));return;case"textarea":zt=Dt=null;for(we in f)if(C=f[we],f.hasOwnProperty(we)&&C!=null&&!b.hasOwnProperty(we))switch(we){case"value":break;case"children":break;default:ss(o,u,we,null,b,C)}for(Q in b)if(C=b[Q],N=f[Q],b.hasOwnProperty(Q)&&(C!=null||N!=null))switch(Q){case"value":Dt=C;break;case"defaultValue":zt=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:C!==N&&ss(o,u,Q,C,b,N)}j(o,Dt,zt);return;case"option":for(var Dn in f)if(Dt=f[Dn],f.hasOwnProperty(Dn)&&Dt!=null&&!b.hasOwnProperty(Dn))switch(Dn){case"selected":o.selected=!1;break;default:ss(o,u,Dn,null,b,Dt)}for(tt in b)if(Dt=b[tt],zt=f[tt],b.hasOwnProperty(tt)&&Dt!==zt&&(Dt!=null||zt!=null))switch(tt){case"selected":o.selected=Dt&&typeof Dt!="function"&&typeof Dt!="symbol";break;default:ss(o,u,tt,Dt,b,zt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dr in f)Dt=f[dr],f.hasOwnProperty(dr)&&Dt!=null&&!b.hasOwnProperty(dr)&&ss(o,u,dr,null,b,Dt);for(wt in b)if(Dt=b[wt],zt=f[wt],b.hasOwnProperty(wt)&&Dt!==zt&&(Dt!=null||zt!=null))switch(wt){case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(s(137,u));break;default:ss(o,u,wt,Dt,b,zt)}return;default:if(Bt(u)){for(var Li in f)Dt=f[Li],f.hasOwnProperty(Li)&&Dt!==void 0&&!b.hasOwnProperty(Li)&&v4(o,u,Li,void 0,b,Dt);for(Yt in b)Dt=b[Yt],zt=f[Yt],!b.hasOwnProperty(Yt)||Dt===zt||Dt===void 0&&zt===void 0||v4(o,u,Yt,Dt,b,zt);return}}for(var gt in f)Dt=f[gt],f.hasOwnProperty(gt)&&Dt!=null&&!b.hasOwnProperty(gt)&&ss(o,u,gt,null,b,Dt);for(nn in b)Dt=b[nn],zt=f[nn],!b.hasOwnProperty(nn)||Dt===zt||Dt==null&&zt==null||ss(o,u,nn,Dt,b,zt)}function pp(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function n3(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,f=performance.getEntriesByType("resource"),b=0;b<f.length;b++){var C=f[b],N=C.transferSize,Q=C.initiatorType,we=C.duration;if(N&&we&&pp(Q)){for(Q=0,we=C.responseEnd,b+=1;b<f.length;b++){var tt=f[b],wt=tt.startTime;if(wt>we)break;var Yt=tt.transferSize,nn=tt.initiatorType;Yt&&pp(nn)&&(tt=tt.responseEnd,Q+=Yt*(tt<we?1:(we-wt)/(tt-wt)))}if(--b,u+=8*(N+Q)/(C.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var uh=null,k1=null;function xa(o){return o.nodeType===9?o:o.ownerDocument}function Xo(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y4(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function mp(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var zd=null;function gp(){var o=window.event;return o&&o.type==="popstate"?o===zd?!1:(zd=o,!0):(zd=null,!1)}var $p=typeof setTimeout=="function"?setTimeout:void 0,_4=typeof clearTimeout=="function"?clearTimeout:void 0,Po=typeof Promise=="function"?Promise:void 0,ch=typeof queueMicrotask=="function"?queueMicrotask:typeof Po<"u"?function(o){return Po.resolve(null).then(o).catch(U6)}:$p;function U6(o){setTimeout(function(){throw o})}function sc(o){return o==="head"}function Hd(o,u){var f=u,b=0;do{var C=f.nextSibling;if(o.removeChild(f),C&&C.nodeType===8)if(f=C.data,f==="/$"||f==="/&"){if(b===0){o.removeChild(C),$h(u);return}b--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")b++;else if(f==="html")fs(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,fs(f);for(var N=f.firstChild;N;){var Q=N.nextSibling,we=N.nodeName;N[he]||we==="SCRIPT"||we==="STYLE"||we==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=Q}}else f==="body"&&fs(o.ownerDocument.body);f=C}while(f);$h(u)}function Qa(o,u){var f=o;o=0;do{var b=f.nextSibling;if(f.nodeType===1?u?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(u?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=b}while(f)}function T4(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var f=u;switch(u=u.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":T4(f),Vt(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function la(o,u,f,b){for(;o.nodeType===1;){var C=f;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!b&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(b){if(!o[he])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(N=o.getAttribute("rel"),N==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(N!==C.rel||o.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||o.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||o.getAttribute("title")!==(C.title==null?null:C.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(N=o.getAttribute("src"),(N!==(C.src==null?null:C.src)||o.getAttribute("type")!==(C.type==null?null:C.type)||o.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&N&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var N=C.name==null?null:""+C.name;if(C.type==="hidden"&&o.getAttribute("name")===N)return o}else return o;if(o=Yo(o.nextSibling),o===null)break}return null}function Gi(o,u,f){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=Yo(o.nextSibling),o===null))return null;return o}function R0(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=Yo(o.nextSibling),o===null))return null;return o}function hh(o){return o.data==="$?"||o.data==="$~"}function C1(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function E4(o,u){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||f.readyState!=="loading")u();else{var b=function(){u(),f.removeEventListener("DOMContentLoaded",b)};f.addEventListener("DOMContentLoaded",b),o._reactRetry=b}}function Yo(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var vp=null;function Sa(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(u===0)return Yo(o.nextSibling);u--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||u++}o=o.nextSibling}return null}function qi(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(u===0)return o;u--}else f!=="/$"&&f!=="/&"||u++}o=o.previousSibling}return null}function L0(o,u,f){switch(u=xa(f),o){case"html":if(o=u.documentElement,!o)throw Error(s(452));return o;case"head":if(o=u.head,!o)throw Error(s(453));return o;case"body":if(o=u.body,!o)throw Error(s(454));return o;default:throw Error(s(451))}}function fs(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);Vt(o)}var $l=new Map,In=new Set;function _u(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var e0=nt.d;nt.d={f:bp,r:yi,D:fh,C:r3,L:ph,m:_p,X:i3,S:Tp,M:Fo};function bp(){var o=e0.f(),u=Md();return o||u}function yi(o){var u=On(o);u!==null&&u.tag===5&&u.type==="form"?Gm(u):e0.r(o)}var dh=typeof document>"u"?null:document;function yp(o,u,f){var b=dh;if(b&&typeof u=="string"&&u){var C=io(u);C='link[rel="'+o+'"][href="'+C+'"]',typeof f=="string"&&(C+='[crossorigin="'+f+'"]'),In.has(C)||(In.add(C),o={rel:o,crossOrigin:f,href:u},b.querySelector(C)===null&&(u=b.createElement("link"),Ao(u,"link",o),yr(u),b.head.appendChild(u)))}}function fh(o){e0.D(o),yp("dns-prefetch",o,null)}function r3(o,u){e0.C(o,u),yp("preconnect",o,u)}function ph(o,u,f){e0.L(o,u,f);var b=dh;if(b&&o&&u){var C='link[rel="preload"][as="'+io(u)+'"]';u==="image"&&f&&f.imageSrcSet?(C+='[imagesrcset="'+io(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(C+='[imagesizes="'+io(f.imageSizes)+'"]')):C+='[href="'+io(o)+'"]';var N=C;switch(u){case"style":N=vl(o);break;case"script":N=t0(o)}$l.has(N)||(o=T({rel:"preload",href:u==="image"&&f&&f.imageSrcSet?void 0:o,as:u},f),$l.set(N,o),b.querySelector(C)!==null||u==="style"&&b.querySelector(aa(N))||u==="script"&&b.querySelector(oc(N))||(u=b.createElement("link"),Ao(u,"link",o),yr(u),b.head.appendChild(u)))}}function _p(o,u){e0.m(o,u);var f=dh;if(f&&o){var b=u&&typeof u.as=="string"?u.as:"script",C='link[rel="modulepreload"][as="'+io(b)+'"][href="'+io(o)+'"]',N=C;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=t0(o)}if(!$l.has(N)&&(o=T({rel:"modulepreload",href:o},u),$l.set(N,o),f.querySelector(C)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(oc(N)))return}b=f.createElement("link"),Ao(b,"link",o),yr(b),f.head.appendChild(b)}}}function Tp(o,u,f){e0.S(o,u,f);var b=dh;if(b&&o){var C=Vr(b).hoistableStyles,N=vl(o);u=u||"default";var Q=C.get(N);if(!Q){var we={loading:0,preload:null};if(Q=b.querySelector(aa(N)))we.loading=5;else{o=T({rel:"stylesheet",href:o,"data-precedence":u},f),(f=$l.get(N))&&gh(o,f);var tt=Q=b.createElement("link");yr(tt),Ao(tt,"link",o),tt._p=new Promise(function(wt,Yt){tt.onload=wt,tt.onerror=Yt}),tt.addEventListener("load",function(){we.loading|=1}),tt.addEventListener("error",function(){we.loading|=2}),we.loading|=4,lc(Q,u,b)}Q={type:"stylesheet",instance:Q,count:1,state:we},C.set(N,Q)}}}function i3(o,u){e0.X(o,u);var f=dh;if(f&&o){var b=Vr(f).hoistableScripts,C=t0(o),N=b.get(C);N||(N=f.querySelector(oc(C)),N||(o=T({src:o,async:!0},u),(u=$l.get(C))&&I1(o,u),N=f.createElement("script"),yr(N),Ao(N,"link",o),f.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},b.set(C,N))}}function Fo(o,u){e0.M(o,u);var f=dh;if(f&&o){var b=Vr(f).hoistableScripts,C=t0(o),N=b.get(C);N||(N=f.querySelector(oc(C)),N||(o=T({src:o,async:!0,type:"module"},u),(u=$l.get(C))&&I1(o,u),N=f.createElement("script"),yr(N),Ao(N,"link",o),f.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},b.set(C,N))}}function mh(o,u,f,b){var C=(C=qt.current)?_u(C):null;if(!C)throw Error(s(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(u=vl(f.href),f=Vr(C).hoistableStyles,b=f.get(u),b||(b={type:"style",instance:null,count:0,state:null},f.set(u,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=vl(f.href);var N=Vr(C).hoistableStyles,Q=N.get(o);if(Q||(C=C.ownerDocument||C,Q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(o,Q),(N=C.querySelector(aa(o)))&&!N._p&&(Q.instance=N,Q.state.loading=5),$l.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},$l.set(o,f),N||s3(C,o,f,Q.state))),u&&b===null)throw Error(s(528,""));return Q}if(u&&b!==null)throw Error(s(529,""));return null;case"script":return u=f.async,f=f.src,typeof f=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=t0(f),f=Vr(C).hoistableScripts,b=f.get(u),b||(b={type:"script",instance:null,count:0,state:null},f.set(u,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,o))}}function vl(o){return'href="'+io(o)+'"'}function aa(o){return'link[rel="stylesheet"]['+o+"]"}function Bl(o){return T({},o,{"data-precedence":o.precedence,precedence:null})}function s3(o,u,f,b){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?b.loading=1:(u=o.createElement("link"),b.preload=u,u.addEventListener("load",function(){return b.loading|=1}),u.addEventListener("error",function(){return b.loading|=2}),Ao(u,"link",f),yr(u),o.head.appendChild(u))}function t0(o){return'[src="'+io(o)+'"]'}function oc(o){return"script[async]"+o}function A1(o,u,f){if(u.count++,u.instance===null)switch(u.type){case"style":var b=o.querySelector('style[data-href~="'+io(f.href)+'"]');if(b)return u.instance=b,yr(b),b;var C=T({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return b=(o.ownerDocument||o).createElement("style"),yr(b),Ao(b,"style",C),lc(b,f.precedence,o),u.instance=b;case"stylesheet":C=vl(f.href);var N=o.querySelector(aa(C));if(N)return u.state.loading|=4,u.instance=N,yr(N),N;b=Bl(f),(C=$l.get(C))&&gh(b,C),N=(o.ownerDocument||o).createElement("link"),yr(N);var Q=N;return Q._p=new Promise(function(we,tt){Q.onload=we,Q.onerror=tt}),Ao(N,"link",b),u.state.loading|=4,lc(N,f.precedence,o),u.instance=N;case"script":return N=t0(f.src),(C=o.querySelector(oc(N)))?(u.instance=C,yr(C),C):(b=f,(C=$l.get(N))&&(b=T({},f),I1(b,C)),o=o.ownerDocument||o,C=o.createElement("script"),yr(C),Ao(C,"link",b),o.head.appendChild(C),u.instance=C);case"void":return null;default:throw Error(s(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(b=u.instance,u.state.loading|=4,lc(b,f.precedence,o));return u.instance}function lc(o,u,f){for(var b=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=b.length?b[b.length-1]:null,N=C,Q=0;Q<b.length;Q++){var we=b[Q];if(we.dataset.precedence===u)N=we;else if(N!==C)break}N?N.parentNode.insertBefore(o,N.nextSibling):(u=f.nodeType===9?f.head:f,u.insertBefore(o,u.firstChild))}function gh(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function I1(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var Vd=null;function Ep(o,u,f){if(Vd===null){var b=new Map,C=Vd=new Map;C.set(f,b)}else C=Vd,b=C.get(f),b||(b=new Map,C.set(f,b));if(b.has(o))return b;for(b.set(o,null),f=f.getElementsByTagName(o),C=0;C<f.length;C++){var N=f[C];if(!(N[he]||N[re]||o==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var Q=N.getAttribute(u)||"";Q=o+Q;var we=b.get(Q);we?we.push(N):b.set(Q,[N])}}return b}function w4(o,u,f){o=o.ownerDocument||o,o.head.insertBefore(f,u==="title"?o.querySelector("head > title"):null)}function D0(o,u,f){if(f===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function os(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function o3(o,u,f,b){if(f.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var C=vl(b.href),N=u.querySelector(aa(C));if(N){u=N._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=O1.bind(o),u.then(o,o)),f.state.loading|=4,f.instance=N,yr(N);return}N=u.ownerDocument||u,b=Bl(b),(C=$l.get(C))&&gh(b,C),N=N.createElement("link"),yr(N);var Q=N;Q._p=new Promise(function(we,tt){Q.onload=we,Q.onerror=tt}),Ao(N,"link",b),f.instance=N}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,u),(u=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=O1.bind(o),u.addEventListener("load",f),u.addEventListener("error",f))}}var M1=0;function N1(o,u){return o.stylesheets&&o.count===0&&Uo(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var b=setTimeout(function(){if(o.stylesheets&&Uo(o,o.stylesheets),o.unsuspend){var N=o.unsuspend;o.unsuspend=null,N()}},6e4+u);0<o.imgBytes&&M1===0&&(M1=62500*n3());var C=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Uo(o,o.stylesheets),o.unsuspend)){var N=o.unsuspend;o.unsuspend=null,N()}},(o.imgBytes>M1?50:800)+u);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(b),clearTimeout(C)}}:null}function O1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uo(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Gd=null;function Uo(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Gd=new Map,u.forEach(l3,o),Gd=null,O1.call(o))}function l3(o,u){if(!(u.state.loading&4)){var f=Gd.get(o);if(f)var b=f.get(null);else{f=new Map,Gd.set(o,f);for(var C=o.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<C.length;N++){var Q=C[N];(Q.nodeName==="LINK"||Q.getAttribute("media")!=="not all")&&(f.set(Q.dataset.precedence,Q),b=Q)}b&&f.set(null,b)}C=u.instance,Q=C.getAttribute("data-precedence"),N=f.get(Q)||b,N===b&&f.set(null,C),f.set(Q,C),this.count++,b=O1.bind(this),C.addEventListener("load",b),C.addEventListener("error",b),N?N.parentNode.insertBefore(C,N.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(C,o.firstChild)),u.state.loading|=4}}var R1={$$typeof:te,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function x4(o,u,f,b,C,N,Q,we,tt){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bn(0),this.hiddenUpdates=Bn(null),this.identifierPrefix=b,this.onUncaughtError=C,this.onCaughtError=N,this.onRecoverableError=Q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=tt,this.incompleteTransitions=new Map}function wp(o,u,f,b,C,N,Q,we,tt,wt,Yt,nn){return o=new x4(o,u,f,Q,tt,wt,Yt,nn,we),u=1,N===!0&&(u|=24),N=No(3,null,null,u),o.current=N,N.stateNode=o,u=qc(),u.refCount++,o.pooledCache=u,u.refCount++,N.memoizedState={element:b,isDehydrated:f,cache:u},Yi(N),o}function a3(o){return o?(o=wl,o):wl}function xp(o,u,f,b,C,N){C=a3(C),b.context===null?b.context=C:b.pendingContext=C,b=vs(u),b.payload={element:f},N=N===void 0?null:N,N!==null&&(b.callback=N),f=xs(o,b,u),f!==null&&(Bo(f,o,u),zr(f,o,u))}function u3(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<u?f:u}}function Sp(o,u){u3(o,u),(o=o.alternate)&&u3(o,u)}function kp(o){if(o.tag===13||o.tag===31){var u=ul(o,67108864);u!==null&&Bo(u,o,67108864),Sp(o,67108864)}}function Cp(o){if(o.tag===13||o.tag===31){var u=Do();u=J(u);var f=ul(o,u);f!==null&&Bo(f,o,u),Sp(o,u)}}var L1=!0;function Ap(o,u,f,b){var C=Pe.T;Pe.T=null;var N=nt.p;try{nt.p=2,S4(o,u,f,b)}finally{nt.p=N,Pe.T=C}}function c3(o,u,f,b){var C=Pe.T;Pe.T=null;var N=nt.p;try{nt.p=8,S4(o,u,f,b)}finally{nt.p=N,Pe.T=C}}function S4(o,u,f,b){if(L1){var C=ua(b);if(C===null)yu(o,u,b,k4,f),Np(o,b);else if(z6(C,o,u,f,b))b.stopPropagation();else if(Np(o,b),u&4&&-1<C4.indexOf(o)){for(;C!==null;){var N=On(C);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var Q=ee(N.pendingLanes);if(Q!==0){var we=N;for(we.pendingLanes|=2,we.entangledLanes|=2;Q;){var tt=1<<31-We(Q);we.entanglements[1]|=tt,Q&=~tt}Za(N),(Ri&6)===0&&(Cd=Zn()+500,E1(0))}}break;case 31:case 13:we=ul(N,2),we!==null&&Bo(we,N,2),Md(),Sp(N,2)}if(N=ua(b),N===null&&yu(o,u,b,k4,f),N===C)break;C=N}C!==null&&b.stopPropagation()}else yu(o,u,b,null,f)}}function ua(o){return o=wn(o),Ip(o)}var k4=null;function Ip(o){if(k4=null,o=Le(o),o!==null){var u=c(o);if(u===null)o=null;else{var f=u.tag;if(f===13){if(o=d(u),o!==null)return o;o=null}else if(f===31){if(o=m(u),o!==null)return o;o=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return k4=o,null}function Mp(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(D()){case ue:return 2;case Re:return 8;case qe:case ct:return 32;case st:return 268435456;default:return 32}default:return 32}}var qd=!1,Tu=null,B0=null,ca=null,D1=new Map,ac=new Map,Eu=[],C4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Np(o,u){switch(o){case"focusin":case"focusout":Tu=null;break;case"dragenter":case"dragleave":B0=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":D1.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(u.pointerId)}}function Wd(o,u,f,b,C,N){return o===null||o.nativeEvent!==N?(o={blockedOn:u,domEventName:f,eventSystemFlags:b,nativeEvent:N,targetContainers:[C]},u!==null&&(u=On(u),u!==null&&kp(u)),o):(o.eventSystemFlags|=b,u=o.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),o)}function z6(o,u,f,b,C){switch(u){case"focusin":return Tu=Wd(Tu,o,u,f,b,C),!0;case"dragenter":return B0=Wd(B0,o,u,f,b,C),!0;case"mouseover":return ca=Wd(ca,o,u,f,b,C),!0;case"pointerover":var N=C.pointerId;return D1.set(N,Wd(D1.get(N)||null,o,u,f,b,C)),!0;case"gotpointercapture":return N=C.pointerId,ac.set(N,Wd(ac.get(N)||null,o,u,f,b,C)),!0}return!1}function jd(o){var u=Le(o.target);if(u!==null){var f=c(u);if(f!==null){if(u=f.tag,u===13){if(u=d(f),u!==null){o.blockedOn=u,V(o.priority,function(){Cp(f)});return}}else if(u===31){if(u=m(f),u!==null){o.blockedOn=u,V(o.priority,function(){Cp(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function B1(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var f=ua(o.nativeEvent);if(f===null){f=o.nativeEvent;var b=new f.constructor(f.type,f);Rn=b,f.target.dispatchEvent(b),Rn=null}else return u=On(f),u!==null&&kp(u),o.blockedOn=f,!1;u.shift()}return!0}function h3(o,u,f){B1(o)&&f.delete(u)}function d3(){qd=!1,Tu!==null&&B1(Tu)&&(Tu=null),B0!==null&&B1(B0)&&(B0=null),ca!==null&&B1(ca)&&(ca=null),D1.forEach(h3),ac.forEach(h3)}function P1(o,u){o.blockedOn===u&&(o.blockedOn=null,qd||(qd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,d3)))}var F1=null;function wu(o){F1!==o&&(F1=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){F1===o&&(F1=null);for(var u=0;u<o.length;u+=3){var f=o[u],b=o[u+1],C=o[u+2];if(typeof b!="function"){if(Ip(b||f)===null)continue;break}var N=On(f);N!==null&&(o.splice(u,3),u-=3,It(N,{pending:!0,data:C,method:f.method,action:b},b,C))}}))}function $h(o){function u(tt){return P1(tt,o)}Tu!==null&&P1(Tu,o),B0!==null&&P1(B0,o),ca!==null&&P1(ca,o),D1.forEach(u),ac.forEach(u);for(var f=0;f<Eu.length;f++){var b=Eu[f];b.blockedOn===o&&(b.blockedOn=null)}for(;0<Eu.length&&(f=Eu[0],f.blockedOn===null);)jd(f),f.blockedOn===null&&Eu.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(b=0;b<f.length;b+=3){var C=f[b],N=f[b+1],Q=C[Ne]||null;if(typeof N=="function")Q||wu(f);else if(Q){var we=null;if(N&&N.hasAttribute("formAction")){if(C=N,Q=N[Ne]||null)we=Q.formAction;else if(Ip(C)!==null)continue}else we=Q.action;typeof we=="function"?f[b+1]=we:(f.splice(b,3),b-=3),wu(f)}}}function Xd(){function o(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(Q){return C=Q})},focusReset:"manual",scroll:"manual"})}function u(){C!==null&&(C(),C=null),b||setTimeout(f,20)}function f(){if(!b&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,C=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(f,100),function(){b=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),C!==null&&(C(),C=null)}}}function zo(o){this._internalRoot=o}A4.prototype.render=zo.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(s(409));var f=u.current,b=Do();xp(f,b,o,u,null,null)},A4.prototype.unmount=zo.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;xp(o.current,2,null,o,null,null),Md(),u[ae]=null}};function A4(o){this._internalRoot=o}A4.prototype.unstable_scheduleHydration=function(o){if(o){var u=A();o={blockedOn:null,target:o,priority:u};for(var f=0;f<Eu.length&&u!==0&&u<Eu[f].priority;f++);Eu.splice(f,0,o),f===0&&jd(o)}};var lt=n.version;if(lt!=="19.2.0")throw Error(s(527,lt,"19.2.0"));nt.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(s(188)):(o=Object.keys(o).join(","),Error(s(268,o)));return o=v(u),o=o!==null?_(o):null,o=o===null?null:o.stateNode,o};var P0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Pe,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{F=uc.inject(P0),$e=uc}catch{}}return Up.createRoot=function(o,u){if(!a(o))throw Error(s(299));var f=!1,b="",C=z2,N=Wm,Q=H2;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(Q=u.onRecoverableError)),u=wp(o,1,!1,null,null,f,b,null,C,N,Q,Xd),o[ae]=u.current,$4(o),new zo(u)},Up.hydrateRoot=function(o,u,f){if(!a(o))throw Error(s(299));var b=!1,C="",N=z2,Q=Wm,we=H2,tt=null;return f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(C=f.identifierPrefix),f.onUncaughtError!==void 0&&(N=f.onUncaughtError),f.onCaughtError!==void 0&&(Q=f.onCaughtError),f.onRecoverableError!==void 0&&(we=f.onRecoverableError),f.formState!==void 0&&(tt=f.formState)),u=wp(o,1,!0,u,f??null,b,C,tt,N,Q,we,Xd),u.context=a3(null),f=u.current,b=Do(),b=J(b),C=vs(b),C.callback=null,xs(f,C,b),f=b,u.current.lanes=f,$r(u,f),Za(u),o[ae]=u.current,$4(o),new A4(u)},Up.version="19.2.0",Up}var gb;function PA(){if(gb)return y7.exports;gb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),y7.exports=BA(),y7.exports}var FA=PA();const UA=l0(FA);var w7={exports:{}},$b;function zA(){return $b||($b=1,(function(t){var n=(function(){var r=String.fromCharCode,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",c={};function d($,v){if(!c[$]){c[$]={};for(var _=0;_<$.length;_++)c[$][$.charAt(_)]=_}return c[$][v]}var m={compressToBase64:function($){if($==null)return"";var v=m._compress($,6,function(_){return s.charAt(_)});switch(v.length%4){default:case 0:return v;case 1:return v+"===";case 2:return v+"==";case 3:return v+"="}},decompressFromBase64:function($){return $==null?"":$==""?null:m._decompress($.length,32,function(v){return d(s,$.charAt(v))})},compressToUTF16:function($){return $==null?"":m._compress($,15,function(v){return r(v+32)})+" "},decompressFromUTF16:function($){return $==null?"":$==""?null:m._decompress($.length,16384,function(v){return $.charCodeAt(v)-32})},compressToUint8Array:function($){for(var v=m.compress($),_=new Uint8Array(v.length*2),T=0,S=v.length;T<S;T++){var k=v.charCodeAt(T);_[T*2]=k>>>8,_[T*2+1]=k%256}return _},decompressFromUint8Array:function($){if($==null)return m.decompress($);for(var v=new Array($.length/2),_=0,T=v.length;_<T;_++)v[_]=$[_*2]*256+$[_*2+1];var S=[];return v.forEach(function(k){S.push(r(k))}),m.decompress(S.join(""))},compressToEncodedURIComponent:function($){return $==null?"":m._compress($,6,function(v){return a.charAt(v)})},decompressFromEncodedURIComponent:function($){return $==null?"":$==""?null:($=$.replace(/ /g,"+"),m._decompress($.length,32,function(v){return d(a,$.charAt(v))}))},compress:function($){return m._compress($,16,function(v){return r(v)})},_compress:function($,v,_){if($==null)return"";var T,S,k={},P={},G="",X="",R="",W=2,te=3,ie=2,se=[],Y=0,fe=0,Ie;for(Ie=0;Ie<$.length;Ie+=1)if(G=$.charAt(Ie),Object.prototype.hasOwnProperty.call(k,G)||(k[G]=te++,P[G]=!0),X=R+G,Object.prototype.hasOwnProperty.call(k,X))R=X;else{if(Object.prototype.hasOwnProperty.call(P,R)){if(R.charCodeAt(0)<256){for(T=0;T<ie;T++)Y=Y<<1,fe==v-1?(fe=0,se.push(_(Y)),Y=0):fe++;for(S=R.charCodeAt(0),T=0;T<8;T++)Y=Y<<1|S&1,fe==v-1?(fe=0,se.push(_(Y)),Y=0):fe++,S=S>>1}else{for(S=1,T=0;T<ie;T++)Y=Y<<1|S,fe==v-1?(fe=0,se.push(_(Y)),Y=0):fe++,S=0;for(S=R.charCodeAt(0),T=0;T<16;T++)Y=Y<<1|S&1,fe==v-1?(fe=0,se.push(_(Y)),Y=0):fe++,S=S>>1}W--,W==0&&(W=Math.pow(2,ie),ie++),delete P[R]}else for(S=k[R],T=0;T<ie;T++)Y=Y<<1|S&1,fe==v-1?(fe=0,se.push(_(Y)),Y=0):fe++,S=S>>1;W--,W==0&&(W=Math.pow(2,ie),ie++),k[X]=te++,R=String(G)}if(R!==""){if(Object.prototype.hasOwnProperty.call(P,R)){if(R.charCodeAt(0)<256){for(T=0;T<ie;T++)Y=Y<<1,fe==v-1?(fe=0,se.push(_(Y)),Y=0):fe++;for(S=R.charCodeAt(0),T=0;T<8;T++)Y=Y<<1|S&1,fe==v-1?(fe=0,se.push(_(Y)),Y=0):fe++,S=S>>1}else{for(S=1,T=0;T<ie;T++)Y=Y<<1|S,fe==v-1?(fe=0,se.push(_(Y)),Y=0):fe++,S=0;for(S=R.charCodeAt(0),T=0;T<16;T++)Y=Y<<1|S&1,fe==v-1?(fe=0,se.push(_(Y)),Y=0):fe++,S=S>>1}W--,W==0&&(W=Math.pow(2,ie),ie++),delete P[R]}else for(S=k[R],T=0;T<ie;T++)Y=Y<<1|S&1,fe==v-1?(fe=0,se.push(_(Y)),Y=0):fe++,S=S>>1;W--,W==0&&(W=Math.pow(2,ie),ie++)}for(S=2,T=0;T<ie;T++)Y=Y<<1|S&1,fe==v-1?(fe=0,se.push(_(Y)),Y=0):fe++,S=S>>1;for(;;)if(Y=Y<<1,fe==v-1){se.push(_(Y));break}else fe++;return se.join("")},decompress:function($){return $==null?"":$==""?null:m._decompress($.length,32768,function(v){return $.charCodeAt(v)})},_decompress:function($,v,_){var T=[],S=4,k=4,P=3,G="",X=[],R,W,te,ie,se,Y,fe,Ie={val:_(0),position:v,index:1};for(R=0;R<3;R+=1)T[R]=R;for(te=0,se=Math.pow(2,2),Y=1;Y!=se;)ie=Ie.val&Ie.position,Ie.position>>=1,Ie.position==0&&(Ie.position=v,Ie.val=_(Ie.index++)),te|=(ie>0?1:0)*Y,Y<<=1;switch(te){case 0:for(te=0,se=Math.pow(2,8),Y=1;Y!=se;)ie=Ie.val&Ie.position,Ie.position>>=1,Ie.position==0&&(Ie.position=v,Ie.val=_(Ie.index++)),te|=(ie>0?1:0)*Y,Y<<=1;fe=r(te);break;case 1:for(te=0,se=Math.pow(2,16),Y=1;Y!=se;)ie=Ie.val&Ie.position,Ie.position>>=1,Ie.position==0&&(Ie.position=v,Ie.val=_(Ie.index++)),te|=(ie>0?1:0)*Y,Y<<=1;fe=r(te);break;case 2:return""}for(T[3]=fe,W=fe,X.push(fe);;){if(Ie.index>$)return"";for(te=0,se=Math.pow(2,P),Y=1;Y!=se;)ie=Ie.val&Ie.position,Ie.position>>=1,Ie.position==0&&(Ie.position=v,Ie.val=_(Ie.index++)),te|=(ie>0?1:0)*Y,Y<<=1;switch(fe=te){case 0:for(te=0,se=Math.pow(2,8),Y=1;Y!=se;)ie=Ie.val&Ie.position,Ie.position>>=1,Ie.position==0&&(Ie.position=v,Ie.val=_(Ie.index++)),te|=(ie>0?1:0)*Y,Y<<=1;T[k++]=r(te),fe=k-1,S--;break;case 1:for(te=0,se=Math.pow(2,16),Y=1;Y!=se;)ie=Ie.val&Ie.position,Ie.position>>=1,Ie.position==0&&(Ie.position=v,Ie.val=_(Ie.index++)),te|=(ie>0?1:0)*Y,Y<<=1;T[k++]=r(te),fe=k-1,S--;break;case 2:return X.join("")}if(S==0&&(S=Math.pow(2,P),P++),T[fe])G=T[fe];else if(fe===k)G=W+W.charAt(0);else return null;X.push(G),T[k++]=W+G.charAt(0),S--,W=G,S==0&&(S=Math.pow(2,P),P++)}}};return m})();t!=null?t.exports=n:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return n})})(w7)),w7.exports}var HA=zA();const UE=l0(HA),Vl={defaultGrid:[[4,4,4,4,4,4,4,4],[4,2,1,1,1,1,3,4],[4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4]],THEME:{0:"",1:"",2:"",3:"",4:"",PLAYER:""},checkMove:(t,n,r)=>{if(!t||!t[r]||typeof t[r][n]>"u")return"WALL";const s=t[r][n];return s===4||s===0?"WALL":s===3?"WIN":"OK"},look:(t,n,r,s,a)=>{let c=s;a==="LEFT"?c=(s+3)%4:a==="RIGHT"&&(c=(s+1)%4);let d=n,m=r;return c===0?d++:c===1?m++:c===2?d--:c===3&&m--,Vl.checkMove(t,d,m)!=="WALL"},resizeGrid:(t,n,r)=>{const s=[];for(let a=0;a<n;a++){const c=[];for(let d=0;d<r;d++)t[a]&&t[a][d]!==void 0?c.push(t[a][d]):c.push(4);s.push(c)}return s}};function VA({levelData:t,onUpdate:n}){const[r,s]=vn.useState(4),a=t.startPos||{x:1,y:1,dir:1},c=t.grid||Vl.defaultGrid,d=c.length,m=c[0]?.length||0,$=[{id:1,label:"Chemin",icon:""},{id:4,label:"Mur",icon:""},{id:3,label:"Arrive",icon:""}],v=(k,P)=>{const G=Math.max(3,Math.min(50,k)),X=Math.max(3,Math.min(50,P));if(G===d&&X===m)return;const R=Vl.resizeGrid(c,G,X);n({...t,grid:R})},_=(k,P)=>{const G=c.map(X=>[...X]);if(r===2){for(let X=0;X<G.length;X++)for(let R=0;R<G[X].length;R++)G[X][R]===2&&(G[X][R]=1);G[k][P]=2,n({...t,grid:G,startPos:{...a,x:P,y:k}})}else G[k][P]=r,n({...t,grid:G})},T=k=>{n({...t,startPos:{...a,dir:parseInt(k)}})},S=a.dir*90+90;return ge.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[ge.jsxs("div",{className:"bg-white border-b border-slate-200 px-4 py-3 shadow-sm z-10 flex flex-wrap items-center justify-between gap-4",children:[ge.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[ge.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 p-1.5 rounded-lg border border-slate-200",children:[ge.jsx("span",{className:"text-xs font-bold text-slate-400 px-1",children:"DIM"}),ge.jsx("input",{type:"number",min:"3",max:"50",value:m,onChange:k=>v(d,parseInt(k.target.value)||3),className:"w-12 text-center text-sm font-bold bg-white border border-slate-300 rounded focus:ring-2 focus:ring-blue-500 outline-none"}),ge.jsx("span",{className:"text-slate-400 font-bold",children:""}),ge.jsx("input",{type:"number",min:"3",max:"50",value:d,onChange:k=>v(parseInt(k.target.value)||3,m),className:"w-12 text-center text-sm font-bold bg-white border border-slate-300 rounded focus:ring-2 focus:ring-blue-500 outline-none"})]}),ge.jsxs("div",{className:"flex items-center gap-3 bg-slate-100 p-1.5 rounded-lg border border-slate-200",children:[ge.jsx("span",{className:"text-xs font-bold text-slate-400 px-1",children:"DIR"}),ge.jsx("input",{type:"range",min:"0",max:"3",step:"1",value:a.dir,onChange:k=>T(k.target.value),className:"w-20 cursor-pointer accent-blue-600"}),ge.jsx("span",{className:"text-xl transition-transform duration-300",style:{transform:`rotate(${S}deg)`},children:""})]})]}),ge.jsxs("div",{className:"flex flex-wrap gap-2",children:[ge.jsx("button",{onClick:()=>s(2),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-bold transition-all border whitespace-nowrap
                    ${r===2?"bg-emerald-100 text-emerald-700 border-emerald-300 shadow-sm":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:" Dpart"}),$.map(k=>ge.jsxs("button",{onClick:()=>s(k.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-bold transition-all border whitespace-nowrap
                        ${r===k.id?"bg-blue-100 text-blue-700 border-blue-300 shadow-sm":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:[ge.jsx("span",{children:k.icon})," ",k.label]},k.id))]})]}),ge.jsx("div",{className:"flex-1 overflow-auto bg-slate-200/50 relative checkerboard-bg",children:ge.jsx("div",{className:"min-h-full min-w-full flex items-center justify-center p-8",children:ge.jsx("div",{className:"shadow-2xl border-4 border-slate-700 bg-slate-800",style:{display:"grid",gridTemplateColumns:`repeat(${m}, 1fr)`,gap:"1px",width:"fit-content",maxWidth:"100%"},children:c.map((k,P)=>k.map((G,X)=>{const R=G===2,W="40px";return ge.jsxs("div",{onClick:()=>_(P,X),style:{width:W,height:W},className:`relative flex items-center justify-center cursor-pointer transition-colors duration-100
                                    ${G===4?"bg-slate-700 hover:bg-slate-600":G===2?"bg-emerald-400":"bg-white hover:bg-blue-50"}
                                `,children:[ge.jsx("span",{style:{fontSize:"20px",opacity:R?.3:1,userSelect:"none"},children:G===2?"":Vl.THEME[G]}),R&&ge.jsx("div",{style:{position:"absolute",transform:`rotate(${S}deg)`,fontSize:"20px",transition:"transform 0.2s",pointerEvents:"none"},children:Vl.THEME.PLAYER})]},`${P}-${X}`)}))})})}),ge.jsx("style",{children:`
        .checkerboard-bg {
            background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
            background-size: 20px 20px;
        }
      `})]})}function GA({levelData:t,onUpdate:n}){const[r,s]=vn.useState(""),[a,c]=vn.useState(0),d=t.inputs||{},m=t.hiddenVars||[],$=t.lockedVars||[],v=t.targets||{};vn.useEffect(()=>{const R=Object.keys(d),te=Object.keys(v).filter(ie=>!R.includes(ie));if(te.length>0){console.log(" Nettoyage cibles orphelines :",te);const ie={...v};te.forEach(se=>delete ie[se]),n({...t,targets:ie})}},[d,v]);const _=R=>{if(typeof R=="string"){const W=R.trim();if(W.startsWith("[")&&W.endsWith("]"))try{return JSON.parse(W)}catch{return R}if(W.startsWith("@")||W===""||W.endsWith(".")||W.endsWith(","))return R;const te=Number(W.replace(",","."));if(!isNaN(te))return te}return R},T=()=>{if(!r)return;const R={...d,[r]:_(a)};n({...t,inputs:R}),s(""),c(0)},S=R=>{const W={...d};delete W[R];const te=m.filter(Y=>Y!==R),ie=$.filter(Y=>Y!==R),se={...v};delete se[R],n({...t,inputs:W,hiddenVars:te,lockedVars:ie,targets:se})},k=R=>{let W=[...m],te=[...$];const ie=m.includes(R),se=$.includes(R);!ie&&!se?te.push(R):se?(te=te.filter(Y=>Y!==R),W.push(R)):W=W.filter(Y=>Y!==R),n({...t,hiddenVars:W,lockedVars:te})},P=(R,W)=>{const te={...d,[R]:_(W)};n({...t,inputs:te})},G=R=>{const W={...v};W[R]!==void 0?delete W[R]:W[R]=d[R],n({...t,targets:W})},X=(R,W)=>{const te={...v,[R]:_(W)};n({...t,targets:te})};return ge.jsxs("div",{style:{padding:"15px",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #ddd"},children:[ge.jsx("h4",{style:{marginTop:0,color:"#2c3e50"},children:" Configuration Labo"}),ge.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[ge.jsxs("div",{children:[ge.jsx("h5",{style:{margin:"0 0 10px 0",borderBottom:"1px solid #eee"},children:"1. Variables (Mmoire)"}),ge.jsxs("div",{style:{display:"flex",gap:"5px",marginBottom:"10px"},children:[ge.jsx("input",{type:"text",placeholder:"Nom (x)",value:r,onChange:R=>s(R.target.value),style:{flex:1,padding:"5px",width:"50px"}}),ge.jsx("input",{type:"text",placeholder:"Val (0)",value:a,onChange:R=>c(R.target.value),style:{flex:1,padding:"5px",width:"50px"}}),ge.jsx("button",{onClick:T,style:{cursor:"pointer",background:"#27ae60",color:"white",border:"none",borderRadius:"4px",padding:"0 10px"},children:"ok"})]}),Object.entries(d).map(([R,W])=>{const te=m.includes(R),ie=$.includes(R);let se="",Y="white";ie&&(se="",Y="#fff3cd"),te&&(se="",Y="#eee");const fe=typeof W=="object"?JSON.stringify(W):W;return ge.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",marginBottom:"5px",background:Y,padding:"5px",borderRadius:"4px",border:"1px solid #ccc"},children:[ge.jsx("button",{onClick:()=>k(R),style:{border:"none",background:"none",cursor:"pointer"},children:se}),ge.jsx("span",{style:{fontWeight:"bold",width:"30px"},children:R}),ge.jsx("span",{style:{color:"#888"},children:"="}),ge.jsx("input",{type:"text",value:fe,onChange:Ie=>P(R,Ie.target.value),style:{flex:1,border:"1px solid #ddd",borderRadius:"3px",padding:"2px"}}),ge.jsx("button",{onClick:()=>S(R),style:{color:"#e74c3c",border:"none",background:"none",cursor:"pointer"},children:""})]},R)})]}),ge.jsxs("div",{children:[ge.jsx("h5",{style:{margin:"0 0 10px 0",borderBottom:"1px solid #eee"},children:"2. Objectifs (Fin)"}),Object.keys(d).map(R=>{const W=v[R]!==void 0,te=v[R],ie=typeof te=="object"?JSON.stringify(te):te??"";return ge.jsxs("div",{style:{marginBottom:"5px",display:"flex",alignItems:"center",opacity:W?1:.5},children:[ge.jsx("input",{type:"checkbox",checked:W,onChange:()=>G(R),style:{marginRight:"8px"}}),ge.jsx("span",{style:{fontWeight:"bold",width:"30px"},children:R}),W&&ge.jsxs(ge.Fragment,{children:[ge.jsx("span",{style:{marginRight:"5px"},children:"="}),ge.jsx("input",{type:"text",value:ie,onChange:se=>X(R,se.target.value),style:{width:"80px",padding:"2px",borderColor:"#27ae60",borderStyle:"solid",borderWidth:"1px",borderRadius:"3px"}})]})]},R)})]})]})]})}const gc=300;function qA({levelData:t,onUpdate:n}){const r=t.startPos?.x??0,s=t.startPos?.y??0,a=t.startPos?.dir??0,c=(v,_)=>{let T=parseInt(_)||0;v==="dir"&&T===360&&(T=0);const S={x:r,y:s,dir:a,...t.startPos,[v]:T};n({...t,startPos:S})},d=v=>gc/2+v,m=v=>gc/2-v,$=a;return ge.jsx("div",{className:"h-full w-full bg-slate-50 overflow-y-auto custom-scrollbar relative",children:ge.jsxs("div",{className:"min-h-full flex flex-col lg:flex-row items-center justify-center p-8 gap-8 lg:gap-12",children:[ge.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden shrink-0 transition-all hover:shadow-2xl",style:{width:gc,height:gc},children:[ge.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0 opacity-20 pointer-events-none",children:[ge.jsx("defs",{children:ge.jsx("pattern",{id:"gridSmallTurtle",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:ge.jsx("path",{d:"M 50 0 L 0 0 0 50",fill:"none",stroke:"#94a3b8",strokeWidth:"1"})})}),ge.jsx("rect",{width:"100%",height:"100%",fill:"url(#gridSmallTurtle)"}),ge.jsx("line",{x1:gc/2,y1:"0",x2:gc/2,y2:gc,stroke:"#ef4444",strokeWidth:"1",strokeDasharray:"4 4"}),ge.jsx("line",{x1:"0",y1:gc/2,x2:gc,y2:gc/2,stroke:"#ef4444",strokeWidth:"1",strokeDasharray:"4 4"})]}),ge.jsx("div",{className:"absolute w-10 h-10 -ml-5 -mt-5 transition-transform duration-200 ease-out flex items-center justify-center",style:{left:d(r),top:m(s),transform:`rotate(${$}deg)`},children:ge.jsxs("svg",{viewBox:"0 0 40 40",fill:"none",className:"w-full h-full drop-shadow-md",children:[ge.jsx("circle",{cx:"20",cy:"20",r:"12",stroke:"#334155",strokeWidth:"3",fill:"rgba(255,255,255,0.9)"}),ge.jsx("path",{d:"M 34 20 L 26 15 L 26 25 Z",fill:"#334155"})]})})]}),ge.jsxs("div",{className:"w-full max-w-sm bg-white p-6 rounded-2xl border border-slate-200 shadow-md shrink-0",children:[ge.jsxs("h4",{className:"text-sm font-extrabold text-slate-600 uppercase tracking-widest mb-6 text-center flex items-center justify-center gap-2",children:[ge.jsx("span",{children:""})," Position de dpart"]}),ge.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[ge.jsxs("div",{className:"flex flex-col",children:[ge.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 ml-1",children:"Horizontal (X)"}),ge.jsx("input",{type:"number",value:r,onChange:v=>c("x",v.target.value),className:"w-full text-center font-mono text-lg bg-slate-50 border border-slate-200 rounded-lg py-2 focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all outline-none"})]}),ge.jsxs("div",{className:"flex flex-col",children:[ge.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 ml-1",children:"Vertical (Y)"}),ge.jsx("input",{type:"number",value:s,onChange:v=>c("y",v.target.value),className:"w-full text-center font-mono text-lg bg-slate-50 border border-slate-200 rounded-lg py-2 focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all outline-none"})]})]}),ge.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[ge.jsxs("div",{className:"flex justify-between items-center mb-3",children:[ge.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Direction"}),ge.jsxs("span",{className:"text-xl font-bold text-blue-600 font-mono",children:[a,""]})]}),ge.jsx("input",{type:"range",min:"0",max:"270",step:"90",value:a>=360?0:a,onChange:v=>c("dir",v.target.value),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600 mb-2"}),ge.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400",children:[ge.jsx("span",{children:"Est"}),ge.jsx("span",{children:"Sud"}),ge.jsx("span",{children:"Ouest"}),ge.jsx("span",{children:"Nord"})]})]})]})]})})}var K3={exports:{}},WA=K3.exports,vb;function jA(){return vb||(vb=1,(function(t){var n=(function(r){var s="1.1.13",a=new Di,c=r.bigInt,d=r.bigDec;d.set({precision:250});var m={},$=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083],v={},_={callPeekers:!1,init_primes:1e3,exclude:[],suppress_errors:!1,PARSE2NUMBER:!1,SAFE:!1,IMAGINARY:"i",FUNCTION_MODULES:[Math],ALLOW_CHARS:[""],USE_MULTICHARACTER_VARS:!0,POWER_OPERATOR:"^",VALIDATION_REGEX:/^[a-z_ABEZHIKMNoOPTX][0-9a-z_ABEZHIKMNoOPTX]*$/i,IMPLIED_MULTIPLICATION_REGEX:/([\+\-\/\*]*[0-9]+)([a-z_ABEZHIKMNoOPTX]+[\+\-\/\*]*)/gi,ALIASES:{:"pi","":"Infinity"},POSITIVE_MULTIPLIERS:!1,CACHE:{},SILENCE_WARNINGS:!1,PRECISION:21,EXPRESSION_DECP:19,DEFAULT_DECP:16,VECTOR:"vector",PARENTHESIS:"parens",SQRT:"sqrt",ABS:"abs",FACTORIAL:"factorial",DOUBLEFACTORIAL:"dfactorial",LONG_PI:"3.14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196",LONG_E:"2.71828182845904523536028747135266249775724709369995957496696762772407663035354759457138217852516642742746639193200305992181741359662904357290033429526059563073813232862794349076323382988075319525101901",PI:Math.PI,E:Math.E,LOG:"log",LOG10:"log10",LOG10_LATEX:"log_{10}",MAX_EXP:2e5,SCIENTIFIC_MAX_DECIMAL_PLACES:14,SCIENTIFIC_IGNORE_ZERO_EXPONENTS:!0};(function(){_.CACHE.roots={};for(var p=40,I=40,H=2;H<=p;H++)for(var j=2;j<=I;j++){var pe=c(H).pow(j);_.CACHE.roots[pe+"-"+j]=H}})();var T=m.N=1,S=m.P=2,k=m.S=3,P=m.EX=4,G=m.FN=5,X=m.PL=6,R=m.CB=7,W=m.CP=8,te=_.CONST_HASH="#",ie=_.PARENTHESIS,se=_.SQRT,Y=_.ABS,fe=_.FACTORIAL,Ie=_.DOUBLEFACTORIAL,De=[],Ue={},it=[],ze=[],dt=function(p,I){if(!_.suppress_errors)throw I?new I(p):new Error(p)},Oe=function(p){var I=function(H){this.name=p,this.message=H!==void 0?H:"";var j=new Error(this.message);j.name=this.name,this.stack=j.stack};return I.prototype=Object.create(Error.prototype),I},rt=function(p){return it.indexOf(p)!==-1},Pe=function(p){for(var I=p[0],H=1,j=p.length;H<j;H++)if(!p[H].equals(I))return!1;return!0},nt=function(p){ze.push(p),_.SHOW_WARNINGS&&console&&console.warn&&console.warn(p)},ot=function(p,I){if(I=I||"variable",_.ALLOW_CHARS.indexOf(p)===-1){var H=_.VALIDATION_REGEX;if(!H.test(p))throw new On(p+" is not a valid "+I+" name")}},Lt=function(p){var I=Math.sign(p);if(p=Math.abs(p),/\d+\.?\d*e[\+\-]*\d+/i.test(p)){var H="0",j=String(p).toLowerCase().split("e"),pe=j.pop(),be=Math.abs(pe),He=pe/be,xe=j[0].split(".");if(He===-1)be=be-xe[0].length,be<0?p=xe[0].slice(0,be)+"."+xe[0].slice(be)+(xe.length===2?xe[1]:""):p=H+"."+new Array(be+1).join(H)+xe.join("");else{var _t=xe[1];_t&&(be=be-_t.length),be<0?p=xe[0]+_t.slice(0,be)+"."+_t.slice(be):p=xe.join("")+new Array(be+1).join(H)}}return I<0?"-"+p:p},de=function(p){for(var I=Math.floor(Math.sqrt(p)),H=2;H<=I;H++)if(p%H===0)return!1;return!0},Fe=function(p,I){var H={};return H[p]=I,H},et=function(p){return/^\d+\.?\d*$/.test(p)},_e=function(p){for(var I=0;I<p.length;I++)if(!et(p[I]))return!1;return!0},Ct=function(p){return $t(p)?Ct(p.multiplier.toDecimal()):p%1!==0},$t=function(p){return p instanceof Te},qt=function(p){return p instanceof mi},ln=function(p,I,H){if(H=H||{c:[],add:function(xe){this.c.indexOf(xe)===-1&&isNaN(xe)&&this.c.push(xe)}},$t(p)){var j=p.group,pe=p.previousGroup;if(j===P&&ln(p.power,I,H),j===W||j===R||pe===W||pe===R)for(var be in p.symbols)ln(p.symbols[be],I,H);else if(j===k||pe===k)p.value==="e"||p.value==="pi"||p.value===_.IMAGINARY||H.add(p.value);else if(j===X||pe===X)ln(Re(p.symbols),I,H);else if(j===P)isNaN(p.value)||H.add(p.value),ln(p.power,I,H);else if(j===G&&!I)for(var He=0;He<p.args.length;He++)ln(p.args[He],I,H)}return H.c.sort()},En=function(p,I){for(var H=new Te(0),j=0;j<p.length;j++){var pe=p[j];H=a.add(H,$t(pe)?pe:a.parse(pe))}return I?Number(H):H},St=function(p,I){p=a.expand(p),I=I||{};var H=function(j,pe){I[j]||(I[j]=new Te(0)),I[j]=a.add(I[j],pe.clone())};return p.each(function(j){if(j.isConstant("all"))H("constants",j);else if(j.group===k)H(j.value,j);else if(j.group===G&&(j.fname===Y||j.fname===""))St(j.args[0]);else{if(j.group===P||j.group===G)throw new Error("Unable to separate. Term cannot be a function!");H(ln(j).join(" "),j)}}),I},Ut=function(p,I){I=I||p.length;for(var H=0;H<I;H++){var j=p[H];j||(p[H]=new Te(0))}return p},fn=function(p){return p instanceof Gr},Ge=function(p){return p instanceof xn},Qt=function(p){return p instanceof cr},Pn=function(p){return p.group===T||p.group===S},Cn=function(p){return p.group===k&&p.multiplier.equals(1)&&p.power.equals(1)},Jn=function(p){return Array.isArray(p)},cn=function(p){return/^[-+]?\d+e?\+?\d*$/gim.test(p.toString())},ri=function(p){return $t(p)&&(p=p.multiplier),p.lessThan(0)},Ai=function(p){return p&&String(p)},lr=function(p){return"("+p+")"},ls=function(p,I,H,j){return p.substr(0,I)+j+p.substr(H,p.length)},fi=function(p){return p!==void 0&&p.custom},ar=function(p,I){return p<0==I<0},Zn=function(){var p=[].slice.call(arguments),I=p.shift(),H=I.replace(/{(\d+)}/g,function(j,pe){var be=p[pe];return typeof be=="function"?be():be});return H},D=function(p,I,H){var j=[];H=H||1;for(var pe=p;pe<=I;pe++)j.push(pe*H);return j},ue=Object.keys,Re=function(p,I,H){for(var j in p)break;return I?j:H?{key:j,obj:p[j]}:p[j]},qe=function(p,I,H){for(var j=5,pe={},be,He=0;He<H.length;He++)pe[H[He]]=new Te(Math.floor(Math.random()*j)+1);return $r("PARSE2NUMBER",function(){be=a.parse(p,pe).equals(a.parse(I,pe))}),be},ct=function(p,I,H){return ot(p),rt(p)?null:(I=I||ln(a.parse(H)),a.functions[p]=[a.mapped_function,I.length,{name:p,params:I,body:H}],H)},st=function(p){return Math.max.apply(void 0,p)},At=function(p){return Math.min.apply(void 0,p)},Ot=function(p,I){if(p.sort(),I.sort(),p.length===I.length){for(var H=0;H<p.length;H++)if(p[H]!==I[H])return!1;return!0}return!1},F=function(p){for(var I=[],H=p.length,j=0;j<H;j++)I[j]=p[j].clone();return I},$e=function(p,I){I=I||20;var H=[],j,pe,be;H.push(p[0]);for(var He=0;He<p.length-1;He++){j=p[He],pe=p[He+1]-j,be=pe/I;for(var xe=0;xe<I;xe++)j+=be,H.push(j)}return H},Ye=function(p){var I,H;if(p.group===G&&p.fname===""?(I=Te.unwrapPARENS(a.parse(p).toLinear()),H=a.parse(p.power)):p.group===S&&(I=a.parse(p.value),H=a.parse(p.power)),I&&H&&I.group===T&&H.group===T&&I.multiplier.isNegative()){for(var j=[],pe=Te.toPolarFormArray(z(p)),be=pe[0],He=a.arg(I),xe=H.multiplier.den.toString(),_t=H.multiplier.num.toString(),Bt="(({0})^({1})*(cos({3})+({2})*sin({3})))^({4})",kt=0;kt<xe;kt++){var bn=z(a.parse(Zn("(({0})+2*pi*({1}))/({2})",He,kt,xe))).multiplier.toDecimal();j.push(z(a.parse(Zn(Bt,be,xe,_.IMAGINARY,bn,_t))))}return Gr.fromArray(j)}else if(p.isConstant(!0,!0)){var en=p.sign(),He=z(p.abs()),hn=a.sqrt(He),j=[hn.clone(),hn.negate()];en<0&&(j=j.map(function(jt){return a.multiply(jt,Te.imaginary())}))}else j=[a.parse(p)];return Gr.fromArray(j)},We=function(p,I){for(var H=p.length,j=[],pe=0;pe<p.length;pe++)j.push([p[pe],I[pe]]);j.sort(function(xe,_t){return xe[0]-_t[0]});var be=[],He=[];for(pe=0;pe<H;pe++)be.push(j[pe][0]),He.push(j[pe][1]);return[be,He]},Ht=function(p,I,H){I=String(I);var j,pe,be,He;if(p.group===W){var xe=a.expand(p.clone()).stripVar(I);j=a.subtract(p.clone(),xe.clone()),He=xe}else j=p.clone();return pe=j.stripVar(I),be=a.divide(j.clone(),pe.clone()),He=He||new Te(0),H?{a:pe,x:be,ax:j,b:He}:[pe,be,j,He]},An=function(p,I){return cn(p)?p>=Number.MAX_VALUE?p.toString():Number(p):(I=typeof I>"u"?14:I,Math.round(p*Math.pow(10,I))/Math.pow(10,I))},Lr=function(p){for(var I="u",H=I,j=0,pe=ln(p);!(it.indexOf(H)===-1&&pe.indexOf(H)===-1);)H=I+j++;for(var be=0,He=it.length;be<=He;be++)if(!it[be]){it[be]=H;break}return H},ne=function(p){var I=it.indexOf(p);I!==-1&&(it[I]=void 0)},Se=function(p,I){if(Jn(p))for(var H=p.length,j=0;j<H;j++)I.call(p,j);else for(var pe in p)p.hasOwnProperty(pe)&&I.call(p,pe)},B=function(p){return p%2===0},ee=function(p){return 1/(p%1)%2===0},Ce=function(p){for(var I=p.length,H=[],j=0;j<I;j++){var pe=p[j];H.indexOf(pe)===-1&&H.push(pe)}return H},je=function(p){for(var I=ln(p[0],null,null),H=1,j=p.length;H<j;H++)I=I.concat(ln(p[H]));return I=Ce(I).sort(),I},Ft=function(p,I){var H=typeof I;(H!=="function"||H==="undefined")&&(I=function(_t,Bt){return _t===Bt});for(var j=[];p.length;){var pe=p[0];if(p.length===1){j.push(pe);break}var be=[];j.push(pe);for(var He=1;He<p.length;He++){var xe=p[He];I(pe,xe)||be.push(xe)}p=be}return j},mn=function(p){var I=function(H){it.indexOf(H)===-1&&it.push(H)};typeof p=="string"?I(p):Se(p,function(H){I(H)})},Bn=function(p,I){var H;return Jn(p)?H=p.splice(I,1)[0]:(H=p[I],delete p[I]),H},$r=function(p,I,H,j){var pe=_[p];_[p]=H===void 0?!0:!!H;var be=I.call(j);return _[p]=pe,be},Os=function(){var p={};for(var I in a.functions)p[I]=a.functions[I][0];return p},as=function(p){return[].slice.call(p)},kr=function(p,I,H){var j=[];p.each(function(be){if(be.contains(I))var He=be.stripVar(I),xe=a.divide(be.clone(),He.clone()),_t=xe.power.toDecimal();else He=be,_t=0;var Bt=j[_t];j[_t]=Bt?a.add(Bt,He):He},!0);for(var pe=0;pe<j.length;pe++)j[pe]||(j[pe]=new Te(0));return j},z=function(p,I){return $r("PARSE2NUMBER",function(){return a.parse(p,I)},!0)},J=function(p){if(Jn(p)){for(var I=new Gr([]),H=0;H<p.length;H++)I.elements.push(J(p[H]));return I}return $t(p)?p:a.parse(p)},on=function(p){for(var I=$[$.length-1]||2,H=I;H<p;H++)de(H)&&$.push(H)},A=function(p){for(var I=0;I<p.length;I++)if(p[I].group!==T)return!1;return!0},V=function(p){for(var I=0;I<p.length;I++)if(!(p[I].isPi()||p[I].isE())&&!p[I].isConstant(!0))return!1;return!0},oe=function(p,I,H){(I.isComposite()&&!p.isComposite()||I.isLinear()&&!p.isLinear())&&([p,I]=[I,p]);var j=new Te(0);return p.isLinear()?p.each(function(pe){if(I.isComposite())I.isLinear()?I.each(function(He){var xe=a.multiply(a.parse(pe),a.parse(He)),_t=a.expand(a.parse(xe),H);j=a.add(j,_t)},!0):j=a.add(j,a.multiply(pe,a.parse(I)));else{var be=a.multiply(a.parse(pe),a.parse(I));j=a.add(j,a.expand(be,H))}},!0):j=a.multiply(p,I),j},re=Oe("DivisionByZero"),Ne=Oe("ParseError"),ae=Oe("UndefinedError"),Me=Oe("OutOfFunctionDomainError"),Qe=Oe("MaximumIterationsReached"),ht=Oe("NerdamerTypeError"),mt=Oe("ParityError"),he=Oe("OperatorError"),Vt=Oe("OutOfRangeError"),Le=Oe("DimensionError"),On=Oe("InvalidVariableNameError"),Fn=Oe("ValueLimitExceededError"),Vr=Oe("NerdamerValueError"),yr=Oe("SolveError"),Vn=Oe("InfiniteLoopError"),us=Oe("UnexpectedTokenError"),pi={DivisionByZero:re,ParseError:Ne,OutOfFunctionDomainError:Me,UndefinedError:ae,MaximumIterationsReached:Qe,NerdamerTypeError:ht,ParityError:mt,OperatorError:he,OutOfRangeError:Vt,DimensionError:Le,InvalidVariableNameError:On,ValueLimitExceededError:Fn,NerdamerValueError:Vr,SolveError:yr,InfiniteLoopError:Vn,UnexpectedTokenError:us},yn={csc:function(p){return 1/Math.sin(p)},sec:function(p){return 1/Math.cos(p)},cot:function(p){return 1/Math.tan(p)},acsc:function(p){return Math.asin(1/p)},asec:function(p){return Math.acos(1/p)},acot:function(p){return Math.PI/2-Math.atan(p)},erf:function(p){var I=1/(1+.5*Math.abs(p)),H=1-I*Math.exp(-p*p-1.26551223+I*(1.00002368+I*(.37409196+I*(.09678418+I*(-.18628806+I*(.27886807+I*(-1.13520398+I*(1.48851587+I*(-.82215223+I*.17087277)))))))));return p>=0?H:-H},diff:function(p){var I=.001,H=function(j){return(p(j+I)-p(j-I))/(2*I)};return H},median:function(...p){p.sort(function(H,j){return H-j});var I=Math.floor(p.length/2);return p.length%2?p[I]:(p[I-1]+p[I])/2},fromContinued:function(p){for(var I=p.fractions.slice(),H=1/I.pop(),j=0,pe=I.length;j<pe;j++)H=1/(I.pop()+H);return p.sign*(p.whole+H)},continuedFraction:function(p,I){I=I||20;for(var H=Math.sign(p),j=Math.abs(p),pe=Math.floor(j),be=j-pe,He=0,xe=!1,_t=1e-14,Bt=1e7,kt,bn,en={whole:pe,sign:H,fractions:[]};!xe&&be!==0;){if(kt=1/be,bn=Math.floor(kt),bn>Bt){var hn=yn.fromContinued(en)-p;if(hn<=Number.EPSILON)break}en.fractions.push(bn),be=kt-bn,(be<=_t||He>=I-1)&&(xe=!0),He++}var Rn=en.fractions.length-1;return en.fractions[Rn]===1&&(en.fractions.pop(),en.fractions[--Rn]++),en},bigpow:function(p,I){p instanceof an||(p=an.create(p)),I instanceof an||(I=an.create(I));var H=new an(0);if(I.isInteger())H.num=p.num.pow(I.toString()),H.den=p.den.pow(I.toString());else{var j=an.create(Math.pow(p.num,I.num)),pe=an.create(Math.pow(p.den,I.num));H.num=yn.nthroot(j,I.den.toString()),H.den=yn.nthroot(pe,I.den)}return H},gamma:function(p){var I=7,H=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(p<.5)return Math.PI/(Math.sin(Math.PI*p)*yn.gamma(1-p));p-=1;for(var j=H[0],pe=1;pe<I+2;pe++)j+=H[pe]/(p+pe);var be=p+I+.5;return Math.sqrt(2*Math.PI)*Math.pow(be,p+.5)*Math.exp(-be)*j},bigfactorial:function(p){for(var I=new c(1),H=2;H<=p;H++)I=I.times(H);return new an(I)},bigLog:function(p){var I=["-253631954333118718762629409109262279926288908775918712466601196032/39970093576053625963957478139049824030906352922262642968060706375","0","24553090145869607172412918483124184864289170814122579923404694986469653261608528681589949629750677407356463601998534945057511664951799678336/35422621391945757431676178435630229283255250779216421054188228659061954317501699707236864189383591478024245495110561124597124995986978302375","369017335340917140706044240090243368728616279239227943871048759140274862131699550043150713059889196223917527172547/335894053932612728969975338549993764554481173661218585876475837409922537622385232776657791604345125227005476864000","24606853025626737903121303930100462245506322607985779603220820323211395607931699126390918477501325805513849611930008427268176602460462988972957593458726734897129954728102144/17750092415977639787139561330326170936321452137635322313122938207611787444311735251389066106937796085669460151963285086542745859461943369606018450213014148175716400146484375","399073568781976806715759409052286641738926636328983929439450824555613704676637191564699164303012247386095942144825603522401740680808466858044/247958349743620302021733249049411604982786755454514947379317600613433680222511897950658049325685140346169718465773927872179874971908848116625","1468102989495846944084741146947295378041808701256909016224309866143294556551407470861354311593351276612463858816796714569499021375899793849136855085849133702029337910502448189055357182595424959360/819363879309286303497217527375463120404739098260200279520788950777458900438307356738082930586032462601215802636320993648007907724899611296693997216938989854861043298494990214825163523387600982777","5896704855274661767824574093605344871722790278354431422729640950821239030785642943033153793245906863203822369276271050164634206965056233097479117980782641839669/3030306850569309344013726745100070601277982132543905537366562638553198167007159067544789592089960911065181606283478843359856123992707598685058297067179343872000","76631772943534985713873427262830314617912556928476573358548256872141516989538374761909611879922349479420014771499018155447198112155515453671128814488139633810493264352294560043912066253026059140653027326566801398784/36852092933388988649396042883218509607503204211148493545892849595498822817623842579026942621098851631842754395231561679671400197056377380063233740202370686144673585955581403046886083948450136247134308381940165804875","3159076083816399509754948610929467278257473888282947311280653574634802580912280940686954763313882823327077171624015737719617373932318151594325834524000275847475866299387913048/1437757485694188822758304467756419845842037623148461107362957994816554782989250555362514354661961482939226272309026092009962414616417412938087494467254146002233028411865234375","22266067259907364984531611601870291368272674573653403965630628996687370994139884833897773468149149664829922302484782423514167405397665098388400450149078982462318781750661005833037235183394221496186539779712428265837926417581952/9670030144664428565128962309657100138096047028794689249320859276197340398920725569428532293373676415359965773460364494998334259893079003125373872108770534788283842907318071170285038777091588292539102269617376180390982915567375","14604654564989239958569331443385369522850975185358647132770022716433280072271007767111036877803328768910274400515590151934676819262085211828028638417329558229123989556376108454497813055/6090614019162516693013973409650613208227889078878781039105047015752493519149314227721984436973374032279421344818329285207124280297611253861173835238379831004010748379874393292231671808","1901241885407696031217292877862925220917660047127261026827869027159993239567933534052663335498281439239753018507182016153657409777749792228538380379703411298411623469292891476969894084838876001545818141543890273256985768690847587711270930688/765116019778838839812655402103512685695769161212360553099732689795578904762091216998790589926057819838537805856579109910198553330075924857419395160755642371550113347465300208422126945265887065434116781678702741657275181694851670325469434625","139459806786604751793737926146840623607010208216289543036026206208962059593900745886202214788747453279179283344350478734275973878932538430194363355795823581315329311220701640235653288975569812161436/54371368534412517053056101353618694718215711767266376573138772968257303578467926450212293233332401067673270853953399269852376592855992724934941173346260129257754416412476202526978443681584633116375","1045669091124493070709683241190022970908640501171378776604126771144008324358233819560649021940145166254659028524319517244711645162132513416238958170819347361185944945680269442845829390112062101255500836072082817820950448463314034677353723256969344/396228259004446234921310936915931611736815598535963504660076315228798989932959459406702091180060429080345146735173591749448509810270759531977278642135591672189002006272326131885315743181289970885337574780897529347356567086535505950450897216796875","9912919238915437302006264477931031611447467070103973106567538528951878797932559935860738745374437522819124347510590800370471910492338584284092534264608801221235029062881964101996762011296996851893455828946521/3660537472668264151218961634689665210933936249986285290553357254224360417386515311493310199319523687171757653216994741150377508234317025158302057758196429623723072084157928224798322861732880034847243894784000","9263710175433181746575186369318246002919895649622127410824041370079225200282403368319370743363303164313395723904510539050157032684710468364067204876434546848634842333436957245275217583248805993142227630297924119330553308466662488683624783307023014909360640/3341177182697517248552428837661919299725031035849865632511882688786226888137634168024976033652753689210700218163621739078534353578510364301481093730054725078138658805025014615651043313990684347632166030359086885561104034510990826655289288319840595753002771","5116082230713622171832327542439052727465114322479570603905499496221224653983960598946033081212909066917137546065542953865612718836914393275681318667667521726785633638189373998191090501201427906618075889744489190209584/1805752553736060443820406101277706970767657006346276183748749630179442318063568286372320188433843729960294965366346522303898609655762491623098453269916163621089005711823488749297418113474056676109581110715068124438875","246569125619713282434448566970352231845414317018379160824176638351574938993535464763890962336882760882398479702237564384291290459961036068916857265499633061660562532011248501476114401629839742058389195725393702000011860799793778295606988057303225493814005789533570432/85307063020836305797178273029353623060860009152114361453434032434699636078115114412588719432277441055049132559782203988387794711585368296817222565434951256788867244687081233632650953850383220864394261763844194948389861147622944651546912394593164406926489862036343375","133672026303452911046163998480860917119290576658330909785707604886881155606725822685088929236266583416708668502760907677019598002175122453170574729028452721476464728566191464897928696630979863154661704374206171469014225143/45398130975270785045482567762871405072140548998125471025451666500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","6041693953360002800224091673336562508913199995987479264605216252220579740134601435770085920869376641180763419907442721705887169884230643795126568815123647603047739799302562095542459344811429882053086550900803768964612193941424128649976704727183797495759082741166938351872/2016766992122395667828553277997478570503475626107286343497917705446132017125079612756035254750822860815515899557855166824523851779156336235294914777307802256439645525835223691751931866188957324792276149549076500784191791380803500156776088683900346065830066370370083309875","705868391597244582764749229356331441978820024796066870551110486625729826111158236686696326058778874201639006234449557592353247542995871491078308187261304930042019640830629526023972693107193897009168955674240659026247094657679060/231848642748474339277532000336338632910990823562381469441716922006107433404523316252618490265927265734670539384485699132080062215196462178933963957679882342083893417545858074378754089719547920901917516016346211301054206383643383","101832160604157943093944673541651013907278188571533075311673249923948856034633446617630054761681006062910980371900782781226979391765818325065031889334563981235894369036439929651260587335544056975715076598739977065390678221999918899003881778449092038750712969437519295878491018112/32944277910571666002449086492515464541550138004002141571670657643770713783329063548790202120805341989608877739811787937782240802963962520261844114327432160788193314874913687387269408387417806176202979244637915812905426565263196954203487934225589622864145960079736633434831996625","10655703119271468913597640479490594180964700448340778168715956712130636958373270202484276402718566314881119559090842449610957974112230306343486091910217340665146602598568991520563987490686996746558858366002301982443029430290679385551/3398412687366638541233365137084722368200311117891192348532156645374786104142009695796409107380345795998400850838706661851176885183144928701608654514812261697598380070746520197171576610572921007069104300695592751543563472456384512000","1903039332876763837419920240543738799531131775028971323439870868730321221615515008394327723508670975623498588291298064320786970626232668956372004004897872810230178526101184611242511193415796638694370503100219710864543168952682617801833318493436174387568067811938490953495819438108686336/598806534367503338307287246320963280558134937382149405305466709787179429317914803617527827862441615350396864359976273212272586892074799651088317544101755361439294687323233086696182687664637422796995789967075271448560870681210580691574924544896656175563265378514188341796398162841796875","525573915563826130963525826191411949262846916750432019596028344808298471293378917508549164993368392834023782480702893643486699787870059946429810070222126260200026332874480239090370088123833491499400991181659445914352500247596757005142623368/163278727324937389095822405034435687776345799835442022795533783889356344755225815267819508608559076191292900367982490827396869405536484846115955581043091229202052407483776587687967125885665493681707461345895999542381476164157058393971431375","9263815657177858787273494705338516861045771674838057329170239610953039987023429736752079544014780707408666628475997291124805562998227296677616204140605356257712022384368492575381355563976330347792504605666631512343447560301417325154003481040250148561839861837778597346623630046623751094400/2843321709948499955095590862256744532227698001408929142548057792217790532624003190447363578048562448168721539177458065482170148482375585867230123873178100117094533143052886527452665480614620123764036974180917207421482431983407742154634391264619615289225747664532332469783301704643254076601","407959339726114455622180187758753007349209016396248763075759257357925636039752474207685682218422721827857994768023399625060206708378433960993946156803948655098667156937949174400873748557248801874735834957795040139401560494087476967548060208243867/123780218751812156744401121690996305978134694678934447237402511116731459214498784497436358160964198336874043702652746834763131444030185151143987331404604087778514863973633941401826334750268416015224906056576641018962863645043976537664227639296000","2547676391598917379516698439971914695230548782904479778605691338364453606537643088857116141939170899135026552016969320061900926954008522781162186995856580955090548471448276736878300717869625651893741316530109438876067419826217901657017506157997588944233677467357220316084583383623602865379325184/764562034757392298786420374672266498815021229519853724850874576419885380830752931701831256959159800764672605004880389358601658343203513177084389490286723240185146570925957286083025676875197029662038213216541352875570101363668917766225709569356861275434470568767077844675593176178611021135573625","186545352286463730559933346565311535598243666022232037054735807289501173444103692309735768703898330430135399033529355360391658728987379385732098960609744313878477967971557204207043802935782878745271859468248704012618254203101767841517569443555143252/55399179641621656233589820996143825959365789093262978988289445625153099592463372579496245442338653053662134699646413817866770218574795378644415019944304868289119443774932782235638737888469746745621382139263856603239588594078668393194675445556640625","664884440164786473344854955309049113269357314957985265728106924238588705533437169796551912202931185746193155801905841712503407258166135075966280435780812714252670362202091663287095423712596462690753468682634261029392794173636943978404002804413009590005984736612421172979101972556772005594499779860608/195485517776407145286424460448995460754674039560651791192647586550615878988380153730602665795647187884543361218962125172808792176382956599256188706636727418572541254480798303566840010217729386905041217793614214518363859058348249961790104618910877813067510758225302884815410347238200133693756493703875","2614957283934314904315471338485451166053664494383241929385424599389309215073267052860464009981063483440201193771607520572077231889699858482582363845275452280606276949653970992719332472370351170732899676316967244504534154616036371979031399425846100527685/761493664432749089312665480773496290658029971027686543404885407644062485746072719559288231362060149626237939029641098328278650939665665969011529293869562636656650999759724704272743235210867676873525147820749560155294022488994426729939894753293900972032","124843380518493746761140367283007507854364503961156704095198010255465940085534099747297600085903814014415830785663764373057896014399822131175202342399536439284123918855893825207202244831315575594886675813256448846863723093240955901916229136393454605455444105444987028391748121054399538064686074523506176/36022228212051654395480210378626648518430280334458144892889271272122662467638331091863215146548048144675657239846337165813938424387499358852301016926312083940212100001220180762189978024821166744964908871443681332664798940660421469519997746775275873085770018269706847741064037876137315001228315806659875","827992369063043155578730871896750570951766628472810506926098505028264552046829097082095665194000002802661600196840639204300804225352337632259980703832713031790922485730615305441309917696044954289187837653933158950774246017223571461858939407386087081525130831392/236805932823686534991153393869288530368011574665859226704279685567723830696754821658770176385138917722808377962346690757191122309876922069867472518117628639913077442806147910884267694879089753138429767401700283014143248445966474839193628309668702223994071394625","17347276886878323736540051321582548724378497839789943634071026331001588645519865992773157565595886250230140452154269197770615097377486013097979087647774513500701793885978192218455687078883766086309728287172567466406449372659680040183273634701092561727514713494914793425407149186041796935055187281744386432/4919325621804683623339606849970832094714371903709195539440424738973575902329797546592497378000858196173718145883783709223158260700365224756081275272021856393735663399552166737690038832550853145831185979094979556715294990257315369124065787473707136464772247917156232366320267601622617803514003753662109375","137984231830526866236186357461458917020538108058615632801298091031540729111527734872044790487396302545910108285921421417358113055522725197998483383380192391312304647004240060970929072498293210057120617332323445379424867965764749534125081131327565507524502163460761/38810445792642817561168950890315210470940006613819790543653745327778579787694809782601777514116858514049585074667085399925278459138508514838268321349069481334967221455722811414399738756151414906092225265355449011152267068726417045644222323488445626292574879744000","746567120547823334914136339633766098626636643449144032626270358619125402826113269699709721071135471625588981126637674402048519990010499180844665151971356149292818375448504122545400227696621572263621729512461528550588108384619064912224884465737417596190735966915167530332762203074440688676123756162572829692160/208334337057923929636884170505570363171441147899816815785150954417598643614152856767186132467069365605496210036171429712485182162940460120834349006784956522600679357307849981862006710239311750261522832996877712350330290831638640913932265004107623954913155144975252743257846945609734368518424172846119306643431","64649371728330695076928013661001819989330953381731372450140483779536126948957993261299287753791770622512248630224724990234903928056275080682537641377393210728546364176267034339221558641084730052304770498929958838997239635790469536857863963589118888238069738647239076/17903951498200212327802847425913723358452100686246224008745414214690047078122925247086521362329833307849817944645647750649290248110509395628305970523384831671737569872597295947593410067364379687588919135621621162007748635920864926867870502568935739725312687094047375","2454918942158003099688922026016393688092399295166304634317616773083386087532869193458590448918958337530406410803840837646465522656670050113548208618655070231274778592766244282964463702354872753657766121825196898916725498553882689210280080206627916046484942827487726300822318764058084323314109595329304407466188383616/674880185931325925966586583820010578979699141814417326552629206140252348822939845006845669570885271576698771404162512001549922909048916000017837898649100825976232784446638776021483802989797501705685620612986771521390439936066527738682396560462899753657942715306792783283782238662155922082005591512296007820682995125","74018558041066162916454010680594042518462756234254788158141115244349044958441521749277686851928706433556285971088455226217644009628399441967508838553345152310730562224910795446341601049647392069373970101491741830623078126344928804029524181578945586663110848142571149861/20204153620006780689923328634586091101021423979622170579036140596085566172775051595588438592742563923428900864000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","2127032036758045513335690185608563023954009095206088224487365541995326714285119384743928987635752931664240752323937321097955456543854943206092931247498833001499955456190701695430459583885125382086777607021670447795321669948733328973350279846928613949120929250312666393359442423066212311060931469017737106028339882830848/576612418511902928757340062840968526862381326698309578771238715462180282212422302261044980131594522407066369222998903808960617461164985318633518680304995784614308979881735537678182134128319596636920719106506829571072447362052319438091347699720147003209417806230149598345068078717948025207635448205253184540936478445125","35289653975561083576641954928762116897061274899517309102784750384002335187117263273488751066569234386120759866204372398611196356888479036949053282301027789530999737306501029700128744408015642211359442183943916106790666114870974212159410284751571905275610921784716184508440/9503006066880728386808143045924119024212377150217533250562188228062174064693375135306438120385877320162710918716613546077156389583384656340709638430674364232343609717735574035535102953482366914421205216675248471695111720986346092738728929878538430662191272737183832556131","102633551023964794485575491065909467125458972250222581133681080524371507544152979467328048718122409841060527545925136196267751819689935599599321090571687632103850847605493223603751038996548520557330016046032671961857623066292962260173840972332108111505971231021442896036760967107060309991355545554631003681544611731245475968/27459658121882266328752886605529964804078316737648012166874496015808620265471203512606463219297059547428855195782384236337998738233668399173746663289852416697917397644234441300570212555870401420579737973722145663287124151049692290432756231390864184491891697469874600345958989433125942336757049639797225309327019275689074625","10034393558388390065766795008210457368713365491566387292163814915435906649268119060550511145023450790393353937124495488860451123302412204483570913557762460385297770427946219119911920640306914453207097103853766023934602534502476962159682750262143380527529536498215384467975023/2667919902603322771586358077760621955455470781865624844984169443739075976572061827709528710108877015489050369589117491611045518221354793418884447632063538994046714401229510497599783726376490260140723032102883617341970952663947646017489439179953454964374887388652792446976000","248528145263843375390386172800048509380966183384567983242213959113927668429802237067505890436957693495616107089384741585283620097982859345081736730899912519273262934785992235852866637878831878448348444611412764161078458068549719800733237024285525816723480868704742804077255242682077291713092790250511567621735004237450946304/65676865669148624809340872151906045781446981664561196686217551358486802274698228825404698950974939545099727242259547145392352658637333562345477931951890984276718673618736565926663528625796412420753961231404680876558659735251469326707567479071881966875336951133475135427640218972722939427821842173216282390058040618896484375","7805448718805635696495809414501206964843262114470109146341305656318015059743127114324245035489577134938579856003956861881125856595981500593426840968087618241785931128978516340812066502964561231235073012672356530509663384739132686548934288703179479011016719045530855033205271548/2050525178024039744126592505352202216905491833360272553169520915020715464206141942151086176509423406413311520838568324134077402841030113427309725873344806030836314500267104070131451720947531994814710189000076651895520222646974590481497382830325485174899169093049299764813276375","3355325071293197839434119105039673324264765809771192815982246040415580387729382404624613875653005261578877047405365032178619450963731719777167015959920645055600439987161800547901539269321100559393048973255388860193948274255340335876890491746900991668165565729269698196233805991206691196045182214641935483083662356666996922240/876402579119117579582569839757462461050855174353108858954282915644790659429341853404829661899850841645529640454766173209897510988090318303454542547519850473808789222552969933222203420847859171250332350076509996295844203965564448154484566493395403967626596213792922784509892086361572955175655987334882030766001799867659814117","218871061991045868372866381545267589365410350294028138778572466235486397478028823720846191998825628156716190463263492304639890659254282445466806224943413446008645087186307985343574807361972238230520975439736199291019544576443791916302825193643774360055545186783819367378492631806297/56849560726416896431557940314760680962653658127458002233782028041537121216487790008085876994020812492987733987414743604239935223783349870516284048368761617736127892160849065895223288023531930411718807065209903593668117085505482007061969339237404945180379460053180570404846043136000","5008685108365226931582937964451700746853986170633433728409171904803795018146152804690759530990140552460596075588463394200510044617816085275660078502126507209302951286606953039953843685800941558212440519542602092919776366067720586295390886070120828199562643208637974347390938772070049344991272621102622931576339988103674070876518912/1293888539680354282541277646947380627241979967611883341823378331667976045287311988103163380651334828012840330710760757271860219584371109472132211215957402251594055009937397184768184517621978947384029376766290498101728971145633139541827544539988344772578184316843734267915665730981857376872622787627370859411909330227080697966353375","15388340113525711660227566446101909585796746979396093776960989868457211684028149502578116456785221720682202816140911944661051001675127262774824593420825587319436537346311831003212424497488485098543512314062112948777572038731823948224734505930748371522309451168088057190162878224801232/3954220582960831691377435160890656173654063611768428458807273708040518769541211737927975894584024448193835165167801976423275767590502552964407494549049777006346189436817215329891530811451811864579644894987864267389290848598289794977382504890216219362031324635609053075313568115234375","5099039333987561374222193551155323470675617979816941646196895589439391685938046865391119484510329634015275893520725135141878751153360264368353595348921951280561029028912953500944814771064409611917475818956659775131751121312316084465321917769679881052144364834485866477379437705913911371481828140817759401117780199246301705600020671104/1303503600297679371136943454060319958680553228879031326679449263682048703103464872914972900105569835004878963701599765030590097739639045890060548760692125546754294514068052902543220382104483822438283040090444827980927544440984823535260277595466339403795403200720622852069244768910603820007632395190204569927612348189089161551951106625","4902837141334073026145827027361937996261324349722726869116185158777439337041263482852376194988371853413467559557923410949898048139830183335197992754748294810838187068126867611615800383834975563313220497573778480109264178673389149671194149749735833378557143135481387904961537942569904075/1247045310545991266291285730016853118981099516935251861146038369985109288084420528171217942065832292739130145780833406014673689119563698528225048800794718789218267628507713621235056538202070171596177775095071513194885568843375526804796016261173388452184505503341132236719484809714335744","38114743522716832107917466438257616720476488812538316101658139632867788464381862291240727309611460187159930652186486096300862388591521625093237019662273764387591494074792574929490381910446287947994150655077877204446864004067956087975012773988833339521775463977233068498404144221045837190392670308437391686081418318624745039402145439223552/9647001083383999453668111809775451078976046488746916070976218645431946648087171586252172936600115032316383427265217993193444199863138429602138841976586190525451324093772097241349417938578878934577091671046050326087898259692917931230974174799815198493279413438192301437068820185757869608523761456160341754512329264442115351926967120404125","573695055225225727008803730767518906490704995929177617646275646884555707960986625481944101622708415415988844740028718027554452662358957933526173824325955904005404113684003841990198157072540659184995738719040024647370869010473254071681533880576462368600901824622431045529064651675640055917092/144509482511118816399089096021290587489594541280398871255876563615464628718527634679330291741479135415168539765887291789615790513527330600394937614433502341116068305347468133950204152174094704092402978083370792135432486240914953928188835819767755172666693219213868545854371103120604946200875","23876960329653589647925126180903391687666378233201794403339630995420215267415575142266707357255726330536094448314199602616026935251126469221925945960901748679919435908556550271504767784553484434363646489174587463466333864577705745452492395785557425904735048180164697040313528831173448025400634629163795223739061661461986923675833880378496/5986312408594306954013526197465608559068621248896320652512228238115589875514604632230098997609482248000888567135685167138762172475788060284232459813998201719590208742091697294562538265829954186149162974972471533202880368317237508987477069872431064075005305838801862900501819963793062041081601844759452202282545840716920793056488037109375","58168289917567723171226992383559866214094157894992327555495441698028867727845766488121900626912848698952863438654895252811583144479300382761129433911280049009362667380001406579175563745824368613319103673817094498117944856004415812877213722455299491145649879676787079744410765053845551958756701/14517067289347903655500020160671113450349743650636953726251191692074385521975132268313263723831804150872238173602847065423463131917373356798750100313145228608894881457107689499956903046984443545789053438946050974567665049237414588435796381674590098629779384355275820782532479708807512981504000","728621890568281859295409481422447012528302594365693410763821707074444799793690738137592101239862736313347273167450056625929591960610208335290882047413011571781161008296084630072829079783328937418641417642857196346026366370059522990813537731394823630207433267854616768658990289454635793326766697884798538576055949457122067828153655416688640/181030730759516991863708593747964787874073354051675597050399087612142539517308720603687322924426591889179726492403913356461908748733972707460063017057809060190437917851790767968877215795679844983288935075688219234885360839984681619084834228226744165610073685719017596630302462070188937998558312507638434329299017584329479516410907786681093","86855946923438322218622470067224691860808273886184997065663554841573982963995340977083049132518812923329423480393306918856650577072525633920456721265953575424233701929892019410099166322511413146891121248381648145391642571638857576890568882512129960291171866772665863159474602604647289052079991768/21485753507365901947528588896402264670781310878547726104482740647554738151100954835784115119035980523529677083504495839730499664052882400915208251594384038810917282207449860876251558307288700200910747338758723324686939379138206117634546981163355060740270734146780942696291669461182599512320099625","2158989152301022938148680102142188531448821359505188055264665167313418619665693092337665573150374231484840948447637297247277576415460889296724813940128955070240137590073233263168835678714131062764247434144994737610229909964847568491446606012581370840699582055341626266533733744293929658949697805855362114229666626620766245630122333733703618176/531794915405164005613733454597931482878479882704956110685223892325074211694837836221759995948610212818642789132749082430059593652854659130217225506942675608692701447738732031302987802196501895840510235161825501235133794449421919927396142470196961877376701957829921152848178076410141813926924749057304222282687697297216661687583257901415465125","139432548574396829074586704387656697097760057897628994548358619815052936481650396157428747411173567801047221928593253479330480454469358220685854351236980383914223693722868233819483137401339800304943891968050399345430243790898955416907228948287367356990263740207046902209563417267686591994743547621/34201151688775214071963206765436083445901621442002061707492082843232231754829227303539041286301398668437202547003300396162741375435703188500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","11008517174872833286150985180322584448162884832099344969609291070844193524816852920942383850580217443209402836100467940651581092350600329145627967515818684442171571156446321228596914355704205623857871497315955269266498229823278800717909321269179839084452384509142712677235552103459737790674103994445173074670347080506698168482564009465276165824768/2689223396936080856855299215659204161946704205931885125148201643087176556822542895325191478283706585400237901215485150928036895428721912118467760766508162631903585126377676412573187912443878232521444786090510891599171741773242011017926658231638022943018461086517502584854390836347781674626615709751386455292026775663545470794167629144456268750125","16108638074211260588800537540680707641986073914251424878121255234668558067988171568946079848860335948991834525552515669040163026131919804987340113244760738846884911038097907756220945883750502673899084880578229601870882631165510396775126850307838505063922101682333806284668762825609556049426829531780/3919363961344261777100658318137884299575193089462944554282218278496298610828757650104922583359642384253066896538203596057302203635134833545580869871333892935330950583664400555463557735723364497947986885146043017010159347046389604172186788902608216894094289769850517098027486468084407618748895626853","34420755849180279597302103726180110022640946692592540634353734157479505420320000324260530767186132260970572450489530034440214259559325114511265075416512316229177952140217732655405289808326341696986755141965043719344169685611217958619102774617224847284122901023774956887687026904767714958090256282893003000752947427857703259704682455375442735857024/8342030311716679826889917494957593165464748884572298173556257652389845294530325764837124998293398445804458613956489096007564811101361266196542129764287084823604897187311540561857741285793447174119667215803837719660675298308873496219385226998078648428368061868944322478384684509466965129972030932418920415308276430355882329457342937549162000252625","345888075261020004071220843714060353763382280664960929903544964118831237876694384053904571498830068831026644303797377762345709976595360421502594656308937649239978525713471393570536680412814805076323426256584504251728507416368609420882442293831684681071553766603478479006495757222912500012444787804577811/83505703731469734628961395063481893801938371516752417759131774530720075262459158384433785006689548434701904106312038822969658455364219435022841597243178757423598248565463985786213156556523685666430799283870548238467817226915680747412191245046634279766450629886904716776719219698922088211154187845632000","1061717830619177527082296723099890392273896386613997004874669053445943252046748251883532634529759169500795452576392700472771365240996842610207274128102329096619028487369622001737128463631016494371635687841733644339636164570819431573829173533941056258744442930643735587780907310433371453992062647737259587563398111688659657406089003293576961475848704/255359631537215747979895955806995352799574790340218399351168178555478073997876110889483456972687438702262017800167048243754141722496276537685853311434069991222324039005160057724073156957530106623908696241268268096879569794431919729620178375212905203484165745866913773304319069321426245521467122472046370356725530914587807274074293673038482666015625","274122944106300296738399632684955400761495830361663966466225652918683099779465438024846903286816813856490888796372134557295699980528187779624865098445756013563535339056233912394908544185885547842235097677765325396255649207317018754967666450708249125316192200151505568416495274671679500594656671785202496/65687592621976546250581560102201535533608158256953087745856906437400149205693427285162333502528793675585022025602144243543064185647792948495372442630333800126269123531636800213405254045262127593759539706750242430153456891792533267948231185296091297979933562727112487057234422009426868531651634706262125","7842680480716516803148821198697967237136721860017131244266974996267074742248599085253569637183007740566941125452215834642683053334607896723447140851344501084122965014242091312411884985569341166545074688756440728922408743841592658677792796881188604773469108807869960161395759837407978596679911066586626885830991556090978327508459276025943279064965688960/1872528612245648675720382138045071131304652050696842872529163720558126655075937845539792108048310219395746259570506175902206215101518698490144716531697689534559827422735649881381597761684154409796315455445459537515308174919488497154409643876490472215352056502193150125644288086294418253309947229151074464928874881827227706992859640236086417889990541889","5300824422251242070074569186825929119848111723012841627275830216301188228660779008353049603527567784119877706984722171178137272986345560485784907345500893648715341273841147320288851034078863843374665850852481747000237834238703248634174397792745914847774297223176674917912406659831206869442510948965571661/1261140476013707338477604677428573831791396352814802149994640617701773078174882455512668089072441176857892331468691160991310474734143842336092636848492066592397892638052212250229129355009939118431643425836944282456647571558383755315238500832868535816144280088644939696339160092963629012001958205063168000","2220223718762215584659309059880106334425515875615107369399767892051551634000614327272260081056973863669004224981561870246078120862256383581012183852291444462730018546753183156982897386563561418424093883164027305254176874653780425452987066512563140531367766900610414277825262239199580925879453806414860409441845631158680721091621460775043562065815179617536/526383206607841251253861841374779803798480623722760367843070466043030228662340154304405180907941079883976168609082254331465595267209149963786388600028701073430773581228212441424400748220833542964971495005714483235359479470452593264280645360131482713147116366500300066771223383007216182988263355451923333319170174755334598973202740108032097242475554128875","521891797109626296684891455959263713257353500867652268541535940159815152120871142196535233326890353914761242025931373491906127275561002910157909306979093246574207104081108188995072105948138299097848175016082947174156278439986705241571619793059501724269644447572323501261424770743329858038040685313621446524/123310256826873923765604825413207481739886340225713108649758575106598510022338480189649787216845041382860899099250547657534972156328080736149239332330143771138115695598493059325064119176038137294863053148618656356436332991079150723235214278848602671333076219529535123842212129829931654967367649078369140625","66086044538329677372986118727999622900471937619891337714357792768200341519193500393739322894033303245376225584865369486696276607060432449792893028061817203932068085863800494054274423512956136695211796751845295921015953538329385253280866669403169919614982155350899648626481405781514434761541281229159396787287553493046927448595964103589100429722948913403008/15562137339474350565671240515273666798063901504051979980452491653975250630723677279081058884163396938548780856293034775459223871281049026140999055923743471466471830572672766633086347312178711643724485955576579988182546105048041649947277672869613992334541438784737993706482731696809943027528882927942967419447250586964258807454003775693567366165507144866375","335377615394100148751647837967017467711612297170079949298328061159559939969228226474615711044891085626519877634842694983669611974807129333052471799687426665556738316626171408219730853872410792831871526174987402129691897433888027072807302411474690613948951673562473758814664346259109886876538510453475290967835/78715592752271462306588358880337347638000605031000575876214116610339827495261512281635361568951675037834544811575026718101166562072917855004822606752296233435017284127594847656529606648345533195437635894948829857913798336356647286032372695130461573940500785137424365840081503133157308796505622439791698116608","20090879701618729602554170716780970848925039917987945471322994867171660307998603515745066411687983450400412739285577269751603921163835619296822801840348319742203974023505186187060251544248644338412667631232247108675504629538319425769464277309915502144443973397371136256151336255138506001292355330875114245901820438821732843540725116728866301271466614762497024/4700223519410528857298732096729483544820841497820611795617923063440946097326817340637303431283005509904481323205480729806879570430868897342398783028649633951362398196137429076844504529051072393709154483678349272930361110568616112723747726853614661953537957117231900032044221535502745676310313569997665352252492568100075191900969170979460298189170486601502625","2904778979985524171206573028445379872240558084236464200857594814631031581387804621371822074061289363372523364167184697785570324832815972970658633551879143187709707164796663015180877412717910872234647704536817108676736661804878068078543241390828229923424191204586313620612539678930999769543756218765870513049986792/677408099044823641581658869221044375312077929976719183424865834811543737800956896926637625166844372424044003929341361734886232742770909683021563822987505236295727478159938135467975522336774471915167606673489722102077041330652185811196423400701795791669780695158730756241178262962515917389382302757366325768069625","31270155809329751863885224732454397292230969002004953832354065319735530624996254695453061851449600345977646455072512400760539747054003851289540339425848681804190284451253462663731135337775088379954403740058084949675460445909826322297817535400604180338201322667139062500269285493417563095365899631360901732684124930296643108551710704785906431324876072470231424/7269578038000504017073007978844992319987411732848567116655821196644382777088703228960020894756722675887473977480537577509061256138261063926845643360849217556370868752909531088361229374467207196928745673402380473721018157327193509586295879051411183657185176812738231456253321187419224704301236205478184115996135940848503487199394612616742961108684539794921875","432538822079707760382094121020421735679118830363764570640789368235407853152380328891350816400541189148550353337874309885334920995713154225799660601389784410911658967499100610376065640785585342035058364676314084595283850213942576431310823836792440218271879354669291052589804956435743500204185107215929849054782893113/100246574739326291035824954677502591279343311051719151327066341370995390423713403739043396503785261917771859220535505691760472395306543276314938287868734009582906895763073519374099272340577921671298878837400921045252035507925021904954445172372479744465666760762909731237634082051855588025732494461939980856983552000","1914333673689206389116942789116917579088664511118582610293383428712902211612554212779880638065888518488492298586641997844141510832940409501694726851666478650414191249534733087933879981733561565249818572204932715347752949087800778646065986244657260832234479202201129845117955957242616947361016603702640821256099895469088229339240402478576285854783063612307200/442333801076281757298117784528962837115323835962460661601905131618341609371649347131724700192551574625400701487125984359494804828935577124602622582550626336986871791407398609915208114339012374456785705161994343348351473385887949809051796407340988735853810174589261300681030826392672282630613354461927208579993042968520650313621522933214063366558703422757071","5704691626402072213006354545292364761246893919997531024861408248746241619817955824682639582830486790618668221530365426203424888737658778881721063941495350237419723855000515747725926735319471480027293210991869255971365522170749568996651406002311020883635577590045650037569906001924971041810547543163363976464780729932/1314240362076792592671773873754757443276256223533339004339330559325754574023619698171225777585408160438834449576526997055649849875516310105297894855264038450585295422343454458568152668980131977005808840141079502436391909349182185596381509091427752151860204235071122788499996991078935216686010888734471173124487937875","451219364084386208718456142329444023337343409261545444643031014769484085278440612677813682892926852469540118625738238137458321112005189595703619178533263706811689687213128887082197330137502064260105387500552856851972124172206996205919556553246133218441769325133725631665593372188755090094541462474970525820334385058333756591222492801647110594428922046641945259392/103648250172203340865458115839764297558925693061798169434516001775068769911768281084188883278842546791612199025413573394167639925287068809631958006622842716869211374513136766899877504136929177267362862319748507372147243911522667591375015611312165464514308451222180272935398828092646393830572838772085366567154646425598388620105539619174837489536378605144891769625","1591076564577634575701791393842535460875733974464805197283632670013516183281542903377750304419996681222758401497321278555686661981435637461350320471258386388843198706277657208526372100698700615835733712519332548607115875288787602084336341594576426630670911478276101702119972195558314357975365863803265163991961173/364433108410193393847203348728981296285742202617988970384277162225847256295865554341611171460436362780497179090329831885853324392923449579538286804729856000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","5307507148709435807261229345132535134848030343901300324623409721698217134932866488937772986386501538026693956121121771089740095760486362654754229904633476234090792827930433598453200536551779789049352131005222659995845427680686677324963223653949277037520711609343166926627713758990384011274777087968799793410506391884872456420041494598273703914689586637995139580794368/1212244290381524115082005575105703496583315188540177702780216570265159923654197746388568151706509243638302707511238539845531608313334248788980188054651601536067740709977678222790481348003085034888244447626347312094586389347535167903408519024105748523384932942441843118813819781347089702286481924493361058339731949844620763272778960860509570622673048786968660129650125","3046577098843580578619955603029073328361298436129791931304665777036152915858575282362742008136721284817899542475666054101957899858138590963789072530710775790433466847100422875906866496318804986202089528198912098377828580031852152997907433335176267300286466072997014023120087988748396598176622765923059385876855303940720/693911859077752895978833241338902695755528613729508555938416419864772385336777924892434701804078893822446727762077537955240605927550548046309823051841326355655848406646248595628715185413852040295631448250459076043816328082561248420925930431777502622148019371383254316636979070731427737764160145097293260938978413488819","155310926743873343426312607182060072939030765297630534544899230213054714482456829198485999782086944271490229412707980997432528653509945301574794242118433868747172279224118534460563400440670015323324602117517342201640016853927923976796453577048995243600967202462466681112804476672348206491490513419336308575442086511015101999847896197546900512764233674747415844045184/35278162986589659300679088538176070649273991865663041616088851923111175518405117391134863644540911005782372831496121355954470744169969774540892096320978686548284501139861783292226140413769665461494668479430833892857992401391262903582109993838728281915806394747833588629467613308837196269424421131934859079260185052081536487462257809987002198437182539441349474426375","46729591025621874782758519074451728476386657576036360734358719976400940301493939192083339293779149127132651616972817165172116269307276487158069293114860391502484125554406945249728802484128756924044633825692779783425628292959170597009935305429239702926898931975023598456207165067568919757902764815108751735753431153581849/10585868084079030838651390738371141142245086465033459640458366146849314274285871375459898014414833295804139979016362796357043372316321872357817727821559232353993714062535883074661734509440994664726425399880995133711038483607773782532430879196405793694658185175583691180757783597895616920432527125993118171361116684288000","3736372348124144720852190769710129461145889011598636925228657393934132828633132357232883470466940330848177425542748100211498184494252714616379450272611850068867816250209867530921278645286769418080018709947826876461419654782341309127709703626401211996255743831998918894661053669189312375159058718767082163156988766821194002596331826150321864927832618126580509732359424/844176851007504003627016945212023239308348428094023437269532743221937069345682900884618378849283002998220513307273333096775669556093005637615012750733216460458689282791632437851364674879152695438589692227159038555722539345972833161146108367329370564838671791241431125003401861887477969954740544092178721327724620450947646209914621007186497081420384347438812255859375","1258774755828991281578968023382624723772927642002016270484090409043454336040857926581316994594109169123354553321469500848146015719851609220423736153365139804086413284787598253618361769125996755159571523632747129480387254164008968993734442164892486441152227433281625391753702577143985047832519062595123255569172968685060844/283659859661671181526547833415653453506477950678651675193210969173130116121017723360258249430884213011988678011357458727603413521688184521573094783291496368005697481333739504490647194454695504722542014845706216224432373442438242355188461951883454664693262684873988061018976711201351382163527093784753398257094429403691625","84932063355292829988908961192574710493098897148701473172754949846455626381329456661808566365329266898990829247446356970454502007127269708487563279536825277374133681167235811080298134899629580318813382668399644553111080625918213250223197440426147821225593304993621451053135332451997633132772608233430131400186571793929377129211228689703376067763625568623535588709576320/19089978133324852910950469658566458037096027722326716800113107848115231563787455584278193954518442601810776347091253561956877155673550458955562102935555510392954425196165785410319126098393353878286400877305164869548380670204577544630353859009177051698096136470072137579698473017257397949994722015089768745013713383769765609613514021200888647472804720456494757423299627","802638881530832431828249604040579750916118423833791608589560402449036920165704012070349537114920882938466635598602387718300074733476150548724726460209016834416094317724261857969955414000155807312852092720310159572547644569797512233899495300028159721348599816083166712365215075728968005941610056018023633235372936903015771583/179951197386119079732438617407921535065140503043429174394605652913879982486051627760652197484142547447000508189455126493868229565647284332735552462525598465192073558793335913005459266977086104359621022691931002488052727597513413492393525660272900161375677499228252863529934576881596384036401784035248649026076581302370304000","25208742399375362881099811032135575360109715964024747212026245529087599633280142314962581193303683759605084995818253124445773115574470717199218828756449187055537877478033129862600982068782249943150019637186466260707552416433010545437321814115233841687700051830170191107127799355485920046505591193770164750886037885397478191534797655616745528343172318318678405576430544896/5637713398995569614196397857525646325234056219513202928587580534159596897880731043336790273040813044077153051260989730372846713618900145444802234629922717464041261370803598799826604841654608724727320798324006129524610666235998113655193642594744544226880944882342204407750193512869672849910003246504052298022468012594459974209940607450480609190841893267203392880360823875","732332637178584560220688900268566130246820235956768724845747830959547501950765063982943061181526237061809052444110437930100210105274824607344902764184151030827266142225894655531497849161692760385938786736436977268616029862577293984376170905024712952813234949508186306774257035535805330366742322777611063402455261391021097128/163377988152179636922409938163005948596822656868040662831003991395905185823836089887990201522673196719628247106777881741843786365701135555917263285268753605514812568258179391272113405920369587922702002732667842511108732068683407168090725712401954314293193572654347237716691784386690948494003094992876867763698101043701171875","22391374854299462107923583267570593886002658786775211597896252879708753450794332301142909715845151746786016535157797023153041007263258732991465037648536702217273897876864351559736449481285518249846264600935543582562018874574655740660800634883403597181876364712521253650744197321080655028374602772696770227741610874399454362583980465225235674816785988164157351243193265401728/4983275997188967758382167867656806681565521964135131710678447245984239733544941881418957694612909599261843693554043504855207170782744518943778096768859337980470219783210191765678908537645270392500777411134164918803949155037581108678968701961544979451081836872425574123683574475790997414488641534074873248802450108535183413970057319247033379016606809226547805269752123746375","21252344995592269775107236774689012760750850598567799560343535731251766780016530978663079386453430272698006977668063208502408607227544322945446079708000304179073184745623740466334127867464883762843346619853325415963062181018736410570113171387891518398846617197097407612852037905687899800932343156979591740310928257766081697645/4718515378484509142377558412184183991357747235892194234377932213613746008373918923611236346330189287336493794499188640380975364991548794341177060325509698404571318037298112293926833877103554546466055612498927474225619680186119313129604319096374924037870803554153458104225741255753314955115645304948564151765516183663634546688","76703085666560609319365659209445044957052359500745196718269665234646121134787807938680787341023203786904308047981099228357850016602203539979246579454229078497537148799349353250167621935384193502383187510928609818011142642954550330069991570983902841318203794113898871515702445720207144863877026526025447819537396146822201819435536435835285098485990260677737192230985069824/16989892821104122916312992616665764943723222199277412857053896319814438961475117951904867066845412639236790762432996309717924037467863024360211163971190006272168845197000304328480920483651558672879967350982199768255256753110375467976246339260326422891913564151453729285191351273342206198366624882195135056176502724912849575385576554208844814085228696838834665339811027625","40153831166521391225489894857551838468150576827129133168972859441122728710165233865309084872159583787083130713473702296122465319276461991457173085312407612757280915853584698420083436946976844240063731333638150599017886937783470942007376523947840104246927580254612991191040951001539641947153847776050138532219595746056076776809812/8873576113581065493273519627544307418139908640325227196912114520903505426722086265723900326735989771660987609604507503750212298754414472822477243293638486047313990878348820573874809636084574108909615044524663712495422565151340037564156235745628465172219286664653343193162657374410926171153516871765680561505768223660055617934625","200736374277835272485186523480177159453030082779872429648449412313247640312479214261681899286513818912991945046297334418102711629933437654377760028476767482162031641781499114859553677502002901248124750539270235098492377826240319766677856465093871367817683734079621359186477306173620331748496369122143019303740252461824523590096923561928354020960176605008889579578495073283712/44259440065125442964014453739391594153290923937737136823355312892557975399035370631521014554980129291582486968083228888083079118116286312583989433037097397252506140224404130371160608365777625538148303917306340620019882928744151294738308047800711028158277500317134537540772759486365658024194428796846364486187105343266398338060080611643110071184992193593643605709075927734375","488459049325494693259159444507437983381645757291858092983371672334043029615965882574409808932509285079401239403272414271652617474184321852388397021836909585659327974611273820676128650810907598106588433939541654215766888212287311943387232664417347883717203611092450971786083806323404432266197250919880225892099146722474124874256523/107455855466267410923480140898552598306699341366032095904938430084768624148829473848763761936703072253841751966906142283640379336131083461646777390874405323298406517250231389493084918065243079819898691146841695350589992171102939046740169198394671965069747042621265775948217054519855346617967866614303497258042439052681849864192000","8430374068596413768975326329313648683222744787097373111477788794692418932056901235174019333392845529821722488982447683794746518712070635063397464904489452840169472596494433874412726723065560358405027764015273789053064830528919091414531400589850704395887250756457780868677553068164933299802944396576360356896758745030955907258232257358056931680617626606715393885378887657377280/1850480358582748412767893656294669486390769246349349706200869446679212812264400876685764762211659843658541567071977813110496329850010288179702589501255367345935389050373021591572539260951149696801665953123597521983257852207280970577287472932167362521740230973547070264273850381896786822127290397075758780174083415923482640313277341120938690594859118603017930500014640169211239","58273615882491925540881784328370957720539797010816130007322211512070634295154626813477498607761260613353633996451797686143131893884559909668805628269959901044961666535533876340116728982072626875010391195372759135469446048394835148654407846242721443845351855234347422256700864370273092971804207514736924787577569355949601385705517152/12763172138328432984573837529764902730448666594097466544652830703737195804747682450548488162227364538052585484418491914323658215406327363805353540266048943197822838925184942600367647278764952826664684839953902567694832690683467635727409976388280092262839126779730168889686628630302519063225007497707028600865624133968363921915016625","2685278694947152969468407055109959900160804835228466214479525891103128459065131221736713585038130737099067040196326815283171857977706979990467444622550497565521863441617001097354649972660183038850033950647594754644997436624623325003537308428828750008305464174443210079059253920383411910911594636045517662796811001285984447671371943267419151220518726940455756833040934506414133888/586864816044968996825907488721678304211296267371936463272955488077666796280028127333229453342355554450708284934221461946991556216095213627059047984199091625921432110913096253352065238765240063555347292393427726758010888546427415276046238297382474708612526770055488323003698641493939145624184943388159614111350839555141202024991876221874110644879676602924730506882384603409121625","27700345710264347957758638741952394530538598225904772664391173119594616680996031886665218221392453628824570256438960349220263575741495285780845399187013582169907518462437966962923592601721119258663490655013419675469864809004562272799012227293974254329929404036071055528766397079743200179924243479370594973626764330855493789112414191/6040997839051213541001279276287478343874107660287651711609067205111574718442229224212245187655300348484144001298428958025052162253854676210451657425437588244676589965820312500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","80160269787574270953020489212619791839643207793889009503234879683494928396231769167082355143564723274576166638869430572977442020236299319718643894871736539109822173538266278165276591962215927816541165548699380129014840956895931285215480350321259054359835472320394089646764361802445068798451796525897304221529850133401768027469126408090577121172238802281079916258951770135485696/17444957084936455555074876721808241311651668802091828589911310253709517226715880722948267977560381436307152342821304525073651379763144281678911047276389231713860392794975453518107055568765009486973017341479560154792340888780337029481646046233967923289468141293699236815196553819373828280398488966665994092877680860643266914861837639322607761804740256920429518434353839878280875","2352816897072623416220002134476921108405735955266703519252095150412419264317091785317803024028565851487861978477208755211589867803009700996828082850796103789009194767813611798769297617674631277847910238088040257037678126316866517601388289837575778165301828137259948173292658462765645645868094197736382683775415645307647043205988394700/510973411316690313485681833991645423802776865720580280058344111363363091616558230182669376841383375321912553771027107891991318313938505988903735114191313214327683449514676737796942389784957658395806951715454372568523597420866050825822028817422805046287798054682484158011143949412956697442991898914560191411624040490122951328364833797","6403295584873165688372907494046202150046769667837790834896334486679541887567517050446119511695248926941383207478170182650927368177009669717288184903306689332746127845953193587519575304974203099873732502605739219028995266139383163062837007982999189114810534856227848568800302527760100163350814120545587074865568436789021082619398126713943637898657861949091545516403987546145915409024/1387794272010111535893205703999712437783041553900341112488641528986385462810448493444968969845352401058333929711237978223214186693177251566069419805757440174840170213159651962686467523533938145629444468366235554597245713128812532716616087753947246800626006504878203666972651384731498770435755225220796872155249202960801768048854869001310722927230237083418017482134588865244642658875","82993247683514419570466529457059660634483860665557779709153549045427987672829778520201315148149878525274005978368939092115193636113741972236218502664881450367443614971109677363668874484696543982239492409231870942414193419634675024621942196087473557914167832058111113476295926250739099284241826553737074679953551191767148712684157318697/17950946423927357725787689855263532224005643859095168852729513034456208872420513601894508438640531171097082516559962755244698695622824386001219435651555513795509616906355363573638916895074349491513539093024980575852693293474288638209680085037286354050958859425647536735341886663074581909148323105020337857959651624760873736590065664000","584891611376763781852144397260140844977346305541197362434227194779766612939978629636198589818106137319267243431810481928639442343946346034433828599323416877248326356345631611148749005937144684862502198147087702668524450709118588741606955966569427636630159793409544653944608958808602551061186799401212712216156799273254257486955348236914237644151956226336750212957092204830385441792/126256710861549838395499078249922986417488985866522660521294610280820007499099176190820291214370699289977888813109514854178180265382471972583921477022411657285850911270389720508719377071949050253246021921916685716353393018411683757067093259101151481189635423399611625009617884983318141463140199839724797412514785751549277231259345923662499623640886881048572831787168979644775390625","4743054867460856425399742072925732465660626340183690464743217147109403130730445842673866624947360862438925194786600531200056131309608642363389833474026007798643235346104937733349791667694862514383520689594596660275306247615314272223660862212527346572811422915223417783887717426641317921972456913534338708745549252254865615725859881457906376/1021840037832289788284691535543138164288462770384961802287250236519983887262771944174557087207566030730743075334169628971336358708580124427857321953981475719503574867471090607795242192417162791762511940848493176847925838738242153177311649130718886794249673254183907621449520415060660496225939963471753122766421338241291756892571824984344625","3784664074155769467702999785016514468281913375341134899878893061325465790589101335015569840325786070795267055386681356241209412947116340524588831510768864231937929260236754881829005065056310226407358204278658699999612596866156294195316867934035877283950841910726224355461522065773816109849107487214275801829843762482082803559183694631856772777313673086715631547326400170962722842240/813783281473223559981291694175087508812520505931454895884442580280342455516154674683217348039336712901850738745276445107477919518905155156380620466135946654952837573797479076027688866326359448543065305071605591497778941561986579230698384305536224430794233462949056326864499827444363206162251104552740175503996670997705423888382328014210171324376593090187604268086334796245552762333","1946671258536842642381655747294621776070051525209940130115769153666368932042152311477746728678182920842238801763565726086459485050237860693394471644023999467670017470376746609892484192072297938254898880354014176373253875722410186683852253828299669530022166361304397631667133689128358365296701757782382475692465977794960109690362462330857/417774039698408581013003883929127512062321623871486379101498968145670269174833505080260389860863417408848209525427705249526516766731427603641806256289098209429110794311660844125377702016056984573671024035213045475132134896835814746425864304907974005950155657789157496389234919107772201305672421982198984613601511388413381215220924416000","328578487723377153600821813410631465225159589727320893988991729306688663770697528156625398176929288628930496338036815910669579019719633124832162035588583242320537435554101841406566009219059042888412893352417446437227440076869427577701706713564212185163005644118869496869980925214424591264870388237079776503547314587137721633918824664946974571838634860386893404364499977966899068777016064/70382695927096628347637455030970644630942872888311870124896575877585692281624151103204551947776906510366521972834357031777287506848887607457751667816514216907338309372900327919413372044625602555866294337672022362865161523684052940126509854895320132828009551012639156341878073682501185688461720664801829933689280752623773789373199210473995823367199793407048741191786377993390965297664875","2617201476921368517857942326432090876874414269689140439151907982631768946799200744678055980827789859579196832718849393046147656447672531861353456343821196812881882023188898815179947651274131166835133965629115749368441605680383605331300030886676081418867305170012032824011912531673468215561506423833911621270680104083533917562622600478548/559567121085534865189976875600841717161617153776904752351231210970240323460800785728739412474960421770806162360125774000625035522428160837855944215417821324758873127567654244465281354654299068546570789547691342609793050301258532586131013585959164719533123826201937801986942606844854123769532447570107525081084531848318874835968017578125","636225736038986537559880265988431731529837451289737542395494683393492040808565905376235074534207026537145408562785279823547657299565440309510931336394031904920056464959974743525662459433889398003683078967642651812081450227654478095420306880762753401111260630654049389197602389949892636943971690212484981672010398108426002137114819838399222096538921225458913266993881960732663394566024064/135776510176793971074115131648637508758953050390591773574951317807919051619690313331192027871176160424663811116849856489187562728496099757910540362703888937768555824513740118941387831822900198029266206334350448626733139136083404404120210893986654422850183837974770675600952078956326317698998103770833069712616832650406225828969036781514645731022616236082175582937900731419575337473384125","266695771933124633677367149389643417608461366874310588884377151539325854547826373711099517873721616543570605935954334944030816383858485296542260152894035979141266909050267414072982042090341712035518685997484257326212454742816979806460287972757626105526907510197321350895873473656215941034605746494172316089636216915825022339855304925515685/56811706665210352283362623728191218698295056176625217939528332247537278605113496147630185544004654583441448319260578659922931798845493756189402805173037491645434052737405379674607517658118427614090338938517963215812444779184193933749520313676564187507594274551791388039139409235056119788261689087831209441779870873305232021728002651979776","3511806683161697708497547617957719390189982761002154386881580160856792742952365159764830433511949678304281539875366378131195670004345568047690216126001067194904446295336734931691743477531830892015690816210752795806120303198745685394015161323982229908105397857791180342330098240702332072396030780386362735967021055250450666535422528637737695053315137238368787607412459874094164027214953984/746741569878639983491390741637813989978804202898438708743258000150996080386381281307609038830698579358879333079215327202911977568726258527646560497079622703052765164031089590965199628534477381843079892123440214378949632707668935001371616475282883095939750704292616758568964786737752325652839226013335092148777788733453702438432279149298482004122593243860829060557386699231448957232420125","499543951252504651717279461487337168721376180441322735807713499521878076780205427598086756686061009718016175215146305489885835839673419698751530207404115002383180054704927695269921072232395828258826213554806570423602966743337801741633869267620843626804016742412046844770601322513184123515405692795346790813502805238635003099976693786012816/106032986203682550514602969462803214831559442358811656484036951559991322084935692953211120289352600484987931812632505499612220494311324679562152078883141464406938524087376964935494245010636163705698220308243980789514815579319533341929989455211613890905485981353837321342730307819060825125980500975023479813757024395422041501208805339176375","8540849722242122835873311629952985285477986765819584558233324868363310302206006773828897816547299245727087876984857726652932481899766510637403577175623031467933486823994040576431755172220921921877192006685053572215922347418846423419683723609799729359551828522978186208983138345476801247634773975311405913274552616037005854836040162212761099347518242200807692224460514057530656658616850816/1809694575992816440924165741094996511361288430727981159314194000585536832192004274726651828760263522962868944612215633976203596150606503849595633388319338251977160257979846235995654357082321611719654136058257458753105122024859078420173515189641515736029725847315662215778251370398007468665986604529263071981040014321717598469319370651877296085250322599247141397427185438573360443115234375","51377057693118720457387330519321684810411289582445982078756989158447711080414032055843805733348558621949380554029375294451303430269197115810494758213980833379214402452992657502777067850631862453239349835215260705131864911194740832694498014048717871429797341104227759557199716944554347879767916801106279081864127192611546757627038037780244683/10867246748205139797826516105458406878398263495890048637741584969144406206902037615496936724683237700974333817527350121106320991054058406504571347680049945745432432384570515723033245430148177097144850158758462968940525568041926860856763884474605057056550146491001458649244094211354153171337463406192651150028767064600270112838159624568832000","2517199821548153657910904242290029026229621935918771922146425373057248090467388430999870036608278542449661971830076845113363443421757278612394167195431759807908413353743377586893872930828548256216510734912027450642648789925142482023713336937258932978503310551945630359646777080073329099268529064437120002567758664419443374110941824106727218341795100740316967386497091058915066147604481280/531524260324016969370728057738851340792702640911631807178654723224511108065633433027773388768889035083734041289308124943130099580765995149865288328550751289346866467755881013217287175392101334538392596956248952430438673292186779006015549928829953979591250274457658042926539541422697852390294886719770034058916886894408015624288115732154492554105512936468520265305162358665491880968652687","937159485027553069020805864547349554547661693803137696125140510201297417077233061462068930061915381468160677500445535971818609631674361074587732183297775728389124966713749450996643183965795829780345678634356741756033039293590264355732129789110416943789326482663579413229893878422643110852069225671783017610387570935863228248464396615988222968188/197552642195166614912991396771845374656891854357948006221100585931656016640982345159207601253599235265353060942313995345483862152489766993442419668492877390774016299878943454249209917002169480134131612530977452579520564400124908392339263545911443803619972765231094502745980083350567509014991735227390978850048088378721210219321877150756855372125","5119346675109082499980756672052066247676641510661024682574296075659671743397880591881419516307292610449161239233139088348510165442597278965718490070997173182184417648987611422446347235659085092530927312760229499083348217392125906851921500360553758600756698605047197529446594606336369425040236883171542367713951500007600355406492128741649090501989105696576697387613035366083536629358444229248/1077349190930018641197987339365056771667455373500846354778079878558146320193384166982231171317419356136237346389570422332278447217033773023556383420372685049620361481309067017697564760747047839930422553324681218253359586320952896352245366885171583221864112040038531116947187482413031483309534553461613717398523132176948321964066833901215878133594739833910960843185464241840039390204295097875","58469980853327028628854378052548435225264353747414624620847476036979290604604988637469977624105451959796142112200285366199247075503424204044884512269071061176877225315884188402954249683107639777479663275428465242905314418930053869461904934138752031124685541853599407727446896558064252696813370692668496452783003306386669962110734257851955001481/12284458784412533668960387046583440199646081362484321078872891438551639470826582933879934711861551014258493898870867541349962531447724393381011633785884743889445407749238183080941846528000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","632694338036291086868292541736272151517212971647680989553388199374739841494700315711180961760384484042159533979873604395621016272772109619401112452105475906812313548587880899058905419220497456502543971131226430775692744506047039958551641270070996110661036371362526401525207493270590999387476275629412687473362310414634469788979236895300129227082421021999210841384596617452097273320509348159488/132710874087075221626157136110978536488168313127228703025408943153782802265472978945703742152954881438058373686972477195846162708986982742647038014147903817539418442869011995988024638278746664230046452545499722614320284478925059527086663455478374200352375121910000967044366831275681254530914306064535110528723482282501358749001657608122307686482720926189537227492041135055090784059994118192625","2022422468242151190347511883185841333968390991430363660248687284021524206079162212007263606819387821055183192871951076644707111802972354128011904720586729919826758651167984507804867954970064938022106484656560866447290934136610214175516487579122328055482392137619829739560923807880779865442016530712986750711199998190148885726144596663143651240/423528009127070458603837580844559347493775236970253513203186912091140251858605354218715508091394564000304400858761758838182654201653901408046974668599216804223721114331085507752600832390227068985693006017591304916519540245902645712532993889000048992026931475754508248265356181099817467608863068068953756055334213584649136541490530849577363647","150542201776735231618709653388506394887777837646651406023174643241783006776019388336318216053045300417086929061565868663031237502137150880313922488106751241006715449458736723129545400133450376339156062387859536289694727635468338235084533552501618659272047966040838509286942825414463511175531001410923014751124732748099355476332649458471135027773371541572374016038525336728276024676601778299264/31475618522527975728853391146702172347290819252268551219771201846701658848754300838383637247014705706066050673096278897933831272607774110183488615338021656923433335661890414740664480671162459271850877855521869741833030384682549648626038314686632195158507693321505500888988183270276134667071014075017317692121986144742473139078857816578133693776368882596780120407949076129685719314703426278875","162664351499283182546788129866259011542529017155637405328005084357078048074065548349602626724265307733005745244338982661090506394708170105916177679714664432754153795772811389612700051002336719842784098507498286260450939289109123759859710248621544296008356071415713931721102824434964336667980062728653562369697289761913925215639430496443820411811651/33956433298509232632327667206936379248172049619640091186698677954874297837764235300806836350019565970550533206216590639008637925266405524715041372407701947953283803854153876844320283735281209725651036513491246238622967031979233265136280687995181375582844780830517825595245506321879177965868747546127685256867456319112247572348416655367667187712000","27228583713734183629451808889147559240254570554044667607519238865891084165382075658707675405673276615039702916443152954157535195508033284355580742761569101934821088036084480297442018005972653124248838420021440899368869744141698556359295489470499243402799483082406238128875386939389123336303631993557844565927960009744780823166462314116039469622216263221278402673028225214534859076857413557466368/5675134787340359276387085910732530678163604187009567576895331134521132071092293139167824957253050637085885426100206370974479279292804959049999647539684766632278449357893560561608633329561385765035738071726214510832066885156767060324427330401967034889966727638276371320401053302413136551142103678412692111973028587922399670456670380189570979581674699102934733563330382821732200682163238525390625","1340937726818688387636018677960518622106989311577445614347061615417831160296369500704524022869612973331444242000788110133157689786976834913297544087249593601420972111789552905846168933014570399562460789075871112224533723259660967481288525220689577290386781169316008987012566216235876842757183233207943071523447855623001920854571597886491163165150556/279054368814522483241446594911968519760869180429079780837994812436395792594449929617293503975169489945136244602350941695478861584261665582123038340824700224583170270427163469762789603657025958695551448477050958557681299495041994050951692916032501884523150972841782658389836059236040091605838583126400660344344601879969354053137568588338096589095875","8910951660339249479517731530773509037034977353457185453617569046885132434552771722727442649095007828468878374139001808825741829728375370140505088133244952288239619141544661695065318568074863317054989982620944602245967155400712702259180443238473885690297281525960618905625084639870407113029712510345262279507055197024677292523214467306898573956604928730377318210588837126450942086527893437954864000/1851573255256476362977604759655284263358595254392797078730401113550522214182030016660458780180636930591149034499142464357511158868625309442843792189394292787657774627425816694628839987456477799348874853555586931850788645677998004186437300173080088839930384424797706381282430208961565555953254145002318893188197561315855286173276564036402546798318351229978103276843822345004757661005876638005274037","84997663352987536417038496128111159210386455419431137931308301989414462311135708114322046234708053448098538629166672456703651524480738219822858469100454933583774404032968304328859365484249897913676382909050450855222567147661842184538302991526635974158862033287154321908483007506326807469239745851379559259262425675035790574846229470041596801343087041/17634687575122715507915388096857069366146981156897230620371714518707518105157483283253374797127075689236298114335734874553183291806268149747826050838089931351158483980735336772879045027213982661634865556129548356487722537193914986994283729746578044621115589195066212043187229606921062007047940293972381121200723292297716621231320254309060321476608000","1648849257486312935416274009474520589799750757877252390543329851029437452988499485179026845292068377957697884739052491455807688429630524210823560524122596610276957537756142278585091315141096146341773982302888007751632401090642472506538817998043326415693840862261701364114923327286462650797963969289743571514890723145251583881752876340628073395708716735192690808352188867334842743895738955762067968/341580411902962140529547622267381834425264893226447658723654120920549166416114849731588552578626041597847002946105459812230979900480135423787717825697955152193526724029890829615845314765605770060975538542976523177976182401820926854406945392167140347444433885786340415437006775075196031433365827874254477351374236932624514469241634422312990555534789607377023339236417434574755566856489013828206625","4899626659231633406569362199187192352933567344960498139854460545644210119722856870634652562532083546344965166340063297647520613455037240144734014575196764021102614748218834054157165781057405100578668000290493431869797883155764963238760612333048336953434663867580862692267574574465371615023999531030446250351305046572267686566999209229202587258144318592/1013522377571209303732207048597964555261512342860326827024786500686692475697570284120359840724596444209277948648863014479460188496587721578075151793081823795161404110811480269106846359964436993190293615381593756076515012514100289406862487971220020752628653845345780766244842386136740768474703009091552043945843632199999007070800871588289737701416015625","362903847358088423032098939589019598036593525722040887883164115981767777873860799955715587436566233010543937498922435963385091400670303956612881974450548904906949032005878241638546734597308786514086678561900713741746905742866635779432216761799371793260025549698865319760786921444505323758235164807966277024031605673481480590193724980659448692487108892154809490199414370023696404259691299614147712/74959603173756091922435708504751461448318819548943586676159545028063979695880930926805574951275602951047845904770828900645717477098988124553474616764040938121171776556999069351772286262529729056288451037717198273521810585868307402693261479298923209587143468206907278220909447483738730657438961435587752873879244136801168836767273934997417156543866722171766794171623224855358640156858606843576125","8521348154958613550574095745596657249924328336262127244827955886474742319277424381360677655239017583606851483318951440691757875270001283229585075137091617073509041644097526047127618954293881264113694362598157456878784814696577083997902588926421675843291157049153701100218784481406086810264243143337016042301806376864424632290226377881206765051896745/1757584673254145109614914862134217345456065873908262753169404848658913774363650863904627183104777337461445063704655164325930891269843669860409763569362863600932267319335889540453302785099532688264425988677082044905948179153286276609910158854349711054144968131934713419772852663860893241364433872853338630216232313607969790083448433666334742108176384","1802461420562646993856730082999823508145602238125054717836501201545920604020389361370931345491160549787411668288359013059160331370751496329806488246135100776263777863399096485894306306621852596694700845918608199329091852956315870664531614358379176680326508877329862713333336188556181470928613423972314983964578645688876556351433429494008513812136152576866650152623510296911708111085518974142728903424/371238439252064016214448115231139360835481920731625321084601566992497057371416121407293286027832357816257507287295719261141426130159269433199862002841433235955835172774430690352481806933860390015899973299268361513643524088242973968537595085600335021120523852420135081643310663869327371821064862449426404044951571585406092523478861879148545678639697679215289523234342337347529225543852787599016265125","88795280670112240977945082069219541902481768504536167808816453021962616596410396813316064685579412429940019071114917828928080181638058444302439626425155946562362550070187433083541414569447612195370911498321149367969974762244140788494955146280201020345849385865084095189982291190135293114489407801749533448443222584092575861096946605418438181411489276/18262596223069549313969288693970246663726147886364354584825624311486557881239003216971630599389642752648815377795018130449384513824927138566203714891090017787258920529990523519479383032564209629983810866231367438270859421572641494420831435563580050954867101292568399107965982704216434467243223964964535464624988344342084084237484262612100980519602625","752911409358158070688133336918078236438086521781731735123294741731669530734909563155732092406099003582749182967246236657021875488130304108082404134004381196925042617909108654109138702993903561036987511410396567636331465803949049946947888490287210013788802287247422993384874670368649616782837096233384279817294778916419067404863458318451722971117669642134894906235066332205740872938406767767019265664/154635332883086377656813458754577288834216641577439356891585125701020579768315520324293435008561626926046988056302745604248220408154454267643222328696606367409715369481567213640103076112146615938180089303294709009813772509602954514391675152597458428326644988225555987883250642389550531163153338541870029415077982539614784206119074702022117790679351778993541426110436276530890609137713909149169921875","15286089077439918584953144558775765002061832952090847117286473868694909713791678395221438112006475047633028543501632631679316850512797978594476229228325228403849089079675681042224057234415951253954044235099139983386056610384489202589484570852048157272551098909455253037561994944665563291526597323199530997923272894119350512727802414680772513760081360291/3135161418037836259442831302977219750614726139657718770206960776514822107155928800694375522572523712277389679035632531727155957120566617736817225541673148354829212969778664144907503411589126111888917929495106029890532891919001138770210977012708107496187227751496980000137223047079127096028939624830654227758737339725345681745847598157538483308068864000","17723482381737693269787076798246423310802126092500438681864673375704464394105734049099094818738115345706100191580982712146882034618103161268453808819471603805345990162762722549964406042295355916458624836894291267553138041035528315839108252422478610879301656207772491548742981990469454529537049123948604931661837539943536878260665617524824604291547373872716194154198824107266275716083848262625068958720/3630091565725887087605600771358216927099748013831912080380983545872077197366172619225751217619097657405660172801849926220948413919823038425519006413005998509677472226729295278652284861834178791332630676772284971762683579047508016687969040658592436230062049051143001484384767836353233324570686249824980508520186643477313941054900197268584495128610811273834192099099592687485176400539748616360799518357","39160514032490258389003214587901781721548011632821053230881239001436341012396166857515197251499460842954863342641015306304854226194551189224721257664420778416733889030680295206179109679627522113592373938602737416822981698362363553492610842201005420727750505681358595340127099855823746410663750133019743170700888375554918213182862789028531284364877435896/8009919337434786244380818390213546866794958389603666737562053423775386173149395943310276429895991903753441584557917565343673605019989336264748588735390182130334278887642569515202100870042209261561001627386525182096090194076839370589780431326097965428311786635366819094633651297179987340498215947144870164066409654464551017761658775207392803825996394875","18188388167811476762477659006849121912679763597132233588170406666718758511478154418948855160838212151370453213943784067796172102916618102024199200086478021533171984254799008541948973652219533819511807681148179806051835318645591102296256347927018942348574774821478499092054497390790734798143983945096982240517058861467440217558586822663985584775920517755909444876443211404222400335500608733284461685888/3715278241795087610941547133490827711133909145414878217965273061493740719983191775105550559905283733134189195190321643965858771461560130864714477448011225816210219450040558581571206711791272284197614810026220745160693898421068168630870850392739817340370146186703867097982858560347971281142766235850971837330222970900661653800041795020382847588362774677568059355238174402415384788280852059532958121625","46353430636874284402376008361176880938798775506236714098123916668545331718677407145199311191108199195405139575147933283523305343027297808443653460575141799729554209181454676876263582758919969948546918471128299522715691694855904535448703118221685887195383025133924852224568922999317583667985459047407473419196367812949579858081181660610155317911318937349/9455890179897829052705408931064120820559254220394152447502395298827357144081378513080398823188243663943177539817982481713456798757563952162598464929784370305696420245648035222083207596797327498500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","13607414211126412689435920170832779523235279308039712294681570127241403406455725064605210473923965685858012114332021572088551127762628892611459785625407107300355287623761046438724706918300976102581928643740596336865698485838431972050267114940079353996100620311097561405192365496385584164725035842307146351211183443267583872067352881387294766804298681841402861626441205037637282007810811602289501477350144/2772205947240095684743358245950494400934136973845543049938212403703005150954425087866758842625041409060217562878157900197951382737615822655863548356735553650755342108183641353142157728364469706919993519071329069805875834057743793434164720370026073143626055293058601124362130539040404491770346043977106988100969901297669523170508321703496903672333781306743488573086901583022550356345156457496396749797875","23264350093315690507131500726914401771633259602904894387312742275462601574788485574913195967854009886824436237740789910851843045306673524324611130536719802717912615609109285261163220007241492964833933975789257681755002054890453747803418465119567389315754801791950553304034666399677630030683759466627797123971742061866928213780452325847848901682792886840980/4733430508316851445525799359992627142007028326865116523033957869609125212251136452396410236930025876982265915963089597825393317909648054808274488356887197933393799241941120691826916741647173843634076299630884655997401370400734954098249519111198509015387869462198674657171808841005212058822254513429836457539629035675822719720295352508916898476137111981397","538960934807826161927564251064896730663918579817797131801326848839524373936888402762331254883505157846659830555799909822861853145306547699817986010353774500545305596630924815657016569444824389893996399550343022444937690798126189162954188680257730893424775303801562327757655350002001080811866451425665301674688928515041429654624970707803336800125648742168380676815769457467038849213225206824671025803392/109517448833211208909213522579666376007937648875042608355810687327424621469323788799169718267715808580775296460944943658428295481347915131091297305260674731651980547668762317138753250458639043477453950774629862540017034566407286963562574188172753764978963685535201028286359818524519980885827473904574840285411260037264057197155527809916623487144493019982419606308144576939532055057697567269576800542875","24451481554350251656598350124163983489544445991992661049829014268366250968046589127810466483349378560701491445658725080497078590986743512397927747885285095846398852574219367580068049729894667374214861939897557930527646930793431512683750733092448862551580494245486308114129295467976874843852138144539250235632985676953662288536669286915983261820949386845806781/4962240683851186225340479316959605207278948397833849899236383273145853045488131674290332609876751222112917095096150531825255611911377071887145019702433883343849119017643117746273523770961304609989779231048095665388209125939879595509516490230961558353074751312876252070889983946768175488341370453053495319823381943793679003096504200440997908071027962806272000","166591964685609920525429719961758335887941461052357297159523350448241484106515158310298216150030768812873781356326923214637847449893575074813991141092681107583183275003570804134461187213143832123628701876041315736048451374824101256980832991214945762266748755723551899001458245164317581617731332466039757786839492869211248064662857987111284518155462148044812626055842061283907063784492325693994911811072/33765943466859756347231737285768516240749714264564410814839966011490233598006227246396923594069488496368994857718734549787000213944990695920130591750377483911116845697231074543526982580529937081378303555262933800375576494067959129682770065443667091668104132884375840812635624862495548888467575848428463895756394050252457592540570490061561616914443009224917652440212112452400106121785938739776611328125","142464729519206642943985715465196065680101634264787375740459792619754842396453535646509170066091478069799080172299369994438836484938378991283020978342879057271045033903518255546705211647900945143546293360496661466657600494787228476009216508124736254967761901224547269496682078470378676865981855568197705507111970901389105723589666709580851611656838285777566736/28839643075889294346635430272525349651555039807615358795334663734940126053968249608601725991946342449660829847322517564370606746964714098508298705743689729306507554363954348780144675937510900983622836770223945538844314468550644543502501484521561567788992156632892028591678742014134130878101553633195551605796158103033794695984958987367799607407626319024034625","380457154857422076784416625436182734840012277442496600178664323821064977485271288502806124740204295811759917468598315932331219906040253463960961995849761235911145436552991677050565022181516596464968316292789048809559129516930574340710998611088996508613850407294743457197519091160170604426002924022923388338999324182261954685794522778833029950214443271526469607532589775916381786492089432407550224137344640/76922142291839859196033215395526448408989799722090330866256930898223012427332209054699494033511478050536463051459450844520020426942553107946282832072826069342120835351421637970462054707566481086202287686453371483126873188020538661871147778312986131920021929455276187425940666580158173676284545586944833678819622895550345083175685846944633982680908505900099388037050135210936852210263717185637166725605577","79999800708369666670693340813609265988600461251844239982904928629083975986385235816587497657678297663151298709076884516168798694292862559083730259839524968813932151813233366175091317046758260934357096757322369138747731224414176608247605314668045838769433811781490030635374856042786947109101585097035794969502111354126773165391577217071956928171336060247633607/16154850265413610119312596299635391433380319311682208755390341659152160578366244774029302281068833963848811596545791104919556346810193385001196395489740571188884873246131813864782581356887110499639544662322008824704830818136660544673293865921754569356583698951612797219776290835161780326945625621758204931298948625885081325268123344406261740843197232316416000","26517014004241498798848003208133111307300592620947908933072661812816683085261359696887064436611747292468717739609776825664344064024535028242737616786238200200498291226984541942836459188328346609549239724653950302145388877472274074665166631509490297630344351573245265440164082334092997307729007429218385933622623935704482371360985836659823269511115937443161532987660855490906546130131716829909388620539153152/5348257529530073524280989257577050878033239486885664777340947102417077875628238501791711336803418503616042922880218860266611595594400020206192599559925169589023339295256084579966533260861249529670141854632965231468533448709363477120437277477668173149958267956654411822360053335695956270719680086524322530514249891157439878407417971839744392044064720476417844056346174795601710447583861127956455406902139625","71197348290771978405602732839537012310626009318133570890482364371056186523989330157966045289127980687764218363064941391483781008265266963537623770685390148810455244349859354857421474277963009857011653865476081389968122418691934354122230780300833008753686234433642072919923583176333668289998661499146617277981691372057042930131717336250309680764289256080895092/14342680993892886303954853579883363225921109635079605392320944523109187641283117181461662846411912306480691901515655220490850586434947504504317080144378185989596578890875561336496479576651516902048606328604696610314441229321219627021610788398730173161473456954861916116391687748151443335513249810808309201830214153565966339609616397865465842187404632568359375","342401018754023891059352629509715357053454506037284788725127073168445189422181540408896452651232759821766616850264122591225331120588918865882061344322996688880669665450231982002597398732201789017495427566260651180470635467002453249479483900268320570004293679361696197905823690145326531180324429318916092471863347575533714871355651558610515931373080997536792242278529575700808878786732127630024064418468916608/68894647682461956089382461406499759613691148650738957016015844830333168307020284281532026442272618372290646283794122772122665531108484704223311663270836645399554940741928358317884620420886609705267248656765357348477857852684140561714900614303731786621656041881975328169543884661780531057279582784036689401206706069028229798913082362331334839997133771880514515972024899408556517159759907883793675672065360125","190286571838805495686895463752492174798162827967490343625540320679760700551286395956241059969689020885714190883323266375067607282890063444652926151862650426323339187596278760962390404656342309737428214493422028545912504503974763216230927196187743439226243880933947417760147785405444976177822143722569696182520826218120595298059020305548681823408268556482981325/38242608291912408815838081993045123864617058390583394828737640036167893859507494091864963383596867701436244007905770284939991912884465101575490548813894148831966132970730263562113961685364216989999844961688441914455435934703797359360780356482629495214859917249465567846934284121032247250332634283689409883499295469118485912489058982596725212975311140618764288","15345379701153714436938289567639102307887273898834051456693981514956329731572600026866162286097662958712922836383881840211072389867463987895894067288699955858337488812343674818565432780224654423872618380928462939482247900055572079914753652915184313685270722583926261499687728814560680092231526501970431280783177357735398580700300402036873780385926225005561766822479878280891130232036389707452005183370152749056/3080426623087819678602049171756961824196425548529619576972793653585089380165862889092832375934535464160425580449193072125955685099151500755278763306599307218302635233595329082702148677300945556130106197481236122437978375963261172524503625593066102601042060541617791008722569799735202779005407381267021641545644264334109052258081225159748043792288699674153722046659880085850980843460715080965607434114275256125","36443601662144279337033484452272105547257065463167427418525882851507989449375452076227652634440476502702584889057376829320548464677623038648843251719168810701744338735202853412651160681259533015293997501525430222870696235141468274274064390273214484922080219643095978640300874086585386991338440415203863901714217818222666715642467237183267303214471854472286478344/7307237990148312451155090506264642657872224684879860008436735430879314349554023096366846856470375025555139219961666754780864835035902856314981482268319886395881809659368275720375576152008289949085453326722156553603358879420820012964006978808113307340321824660484441618487292138631579616351777191144073820686595597986548374588839763719082323114663844043046087375","1575294930860663922843149113097927168024893739962464327016763741314068438447271326302129681931564068796631337571133444163024224071270063174829664848259482066723104251718808936762938249028582992557822551950212098797718627418782376027133576209718376784834456568694813577764300716139817031545408608110880973380162736536313173329973171844528083756524804574267826691156368696436273087171467254161930265910972517504/315498546654512047637461608750018349421492986465373840347519942494904200733840189483934245529561231604050629653992944140351106887747105945984325466452136415067807666316202346895657914393512001212656936450425268507235863153258769360296536050028695266363553141327896064944506216017933135251875087069031098099192325817395958019524956320840925176589616439477134480262100237057953933117460110224783420562744140625","7692057599553133417225997786980128299372439542315125030077404519679450372805989755158000864378924877036225189784045171045139667691524763609840822628706422918926410377185494048355128046783294954373197082851501927410350313585640237550107070936498164597231431242858771457898152684298047446530220873884022213114819556822050178579707210264243087257050468000092842761/1538814487241112760739561704846381585063002784795057066438330325566843108114787083741788078680861495340026117682606689156065008672344707615420501964123121620401073675430690541617930520947170306763541251152854304975131871537939618684186766168376514664494488691311397307418298556185724993104760692216619178358268934740746932420562664234738576394742559349407744000","15190836470550557926140012263310230378455340797095100474720776113765300081463960235506950799869073894127884189857505951314428810423734978025409205413789025720642609035117121385453856877706229778165533034683130064865256448444765902482146676668197546098809055341050873494446231793312407516463576380102073171090898973046611572020564659042146465345334273595086941562425006763960197801018796906114925005810069684480/3035556598829526968124942916297025416522606357010637652635799096498208643970273828496655227572100159414352020909846298817521082538898702393916708804775798552206401718323929157863173504795127180177622667376867235806208021329981136637175570409791442328468473111768140746895005561471574356889047981458002257872092408771959478275534098789982899056118498417649167444480913552548249005268380838457505944462494874581","2923754549090941424546974281011770689534961442264350984393235983189168024079617848190236639328676436485460311093391982825027512234467853098757486086492333410753919927528867817406389678461354257841007722472106464785557179844602277350411593959136520732862935740433163383885526249897183805981219416420390137516812715245569037561966929572448247077578419534651990827044/583599691615378545100950777601104007812792435102945248411439102112424251478512952087517463400054567832353967731887062349496616445419782499817548928078665212077449420216892583997505908858360011413290038645573504472422610780073975450391707084016931661068694024023083417126286468909117254531307085545768412513447197205482285022417611018126886491416133665625891075125","441922815213568908489589193556560586318864326425397702047965372289295962228254658331201274291697626694859414786292266008476137667843874780506886929181835469302142365772763129838217316953835831059616268288399119642314758261677639945004547833810080700127847214666763863338091523753898362699222880772298183760217731228628442782431573977490761665091005756534420789258276075174436091798475838370152192077494553263232/88113527373573049332749294663402406454524640221866407165839162576979477138694653404281889227416977618913249275712917582743426231744980461918772793673202077716234026090308791893409200158969108910565467273725064769890443408324386897017825489615600787634985397885230455168591240328585041836771921929567914891379235573982442311269392541694564675053636078990836491104116280492254795616055818375774141667319774630875","91197133767962483852278456285591810579974783077874307589555559715577599604626819245000672929518645004771085106770784762994476973842713035791487204122653245797126906189270204029735872508462106527240320932458036231707311992868347221176460407003487373754014365881209649632547685657666691589606571865740595829983849941049450471212387808617247938941417000965198123059467/18163679611214677813643455199979098261849405189805364986036911945012016248297645596270602508015864371788974684317239728239847888960155365342460843559658233069613218442910226128113196984801126248862273503232000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","733396724434554481470656964167233690851279923085197144879644750437402627936723531635898542414136943003236478432848965516925891956615111678444586384493883113385335463639674699443808084827715994137410743992130712903997815471369201406683862985677774155704267039224546352414417632475628136460919900347977754644214725932476856018335195927604771408949980634142255497812566866795799230501026066145434755838336990365184/145912495644159810313026420025053989609942265686388630266226856650796088768164358961644113076809511566125145395699271530802891523741636707532676065833327082092521989958971154798465784847092870457944857590623097781956884297103961713362268264159015928554707158239398721416218953003215109202771651993622244788505649098445109438104466256408060944298437033058380804126574878377874459371251056800895394904459469832875","167606423853658713615749101123336326908381619586838606922565378505211386185130407423587264776519589295420758009764678759213587906216543160801059029133457062067529468464636376639307690657945597847080706144898920305379653754920571797771178341550808041652360635584401789901525709166172283390177673009483341826911179861584213314395893323035527116283758445038413646757280/33310364848744488727470761889861069993071965180756187311178124887286133554324042422503263994717993129539448310743598138364172889305532401505890384806078790034557049074169245078416704866867380089103064821732673967120808611636618526737138435792818828990403374766228037003927569643972203993263329403469747342204808360947840103843317533210523853631711601450617095736473","22466735478643771803624909352181817912387732117378538284107485621001246177152644141853604633676939694208131243081227668237716194316732125445041260568403752325416203858329469477774720998849334961751541191761521224644520742691981372782009394826739249604257098248751626957528543558542443122470657230835176462612530464044652140581367666271771882198747182114685116336512604038833327707163107207664705120728068987996560512/4460342260599110071819142535903990817893424192972341872394014748315090430999224107274777695306032783105944721337053156074851240201179902835353097683269298594190456286888326067932777720561181760369783486872666974623910515795208353605697065447942804414120030678603538761538385793829787734830129764152263691296719726909633580318897787729004972323599773548689272008712427926734258913271101899780538635213826239542884125","1972862002066252798837977155272535342727415329632252213508267781390870646909686724955861608046325765650407340102472833428905279473185818898693854344138403744757857928883601637909604082588338869612221777263582365745419719805587946558326048087138197694016224613118304623864709183681172362693106460535117459192992832969130895829916210933710820035479169562970982784580861/391262854245936198649509275719624152305206807261382621390946060636032376057385723427601113233050260359684153963520782285097664628279596618521963444574543409076428660874564026651742234728997339844161514273669735686516761239076529088145208958938384732800586298943281728435207452253170935715239392534815683367114290676180839217919539381651841151674859715992309727232000","25408691426286653276004556426513401767718328640048945917745783225459709487487356095164164652218100925888847689099153320777389381851598236046402124684511968385325107497047025485302333503075085562533472482645023963717347867696861885363417595298751490212495932766872748125111115039311507374363000062513977436921772096443948159289707996749061007112458126301618769295162649600673247799961118662602756889448152517364992/5033870770817104909025512331238419776407331281944565644457345507262881100618908405924951559853352841154730802006750688581603270849880756026262217651685813584900300357685874044482329601894134443542753690048962260914642678445058891387041919581376195543193199307524572671344323361282633828144708683536721118910549933336800461248338059209853766305058943888965279863852107507075916981165164543199352920055389404296875","616565940481577765011174617619124841631603944267256178093555235591208387588894068005162766513720546626399308168923904625210748051788652328072241494243040185611373035059619136712559505023703153194815611268503291295059648269772663939137446253437248541496631852986499688052678961495116210133458596866684413931188348798244969797973846568160999564540652111599082181871436/122025682149627484528651507368051367620578469392233875493556828623437869650284356703295836998178256875766319508797903923638967073687991229708051285605187358616531926112736402511567721889845693991963610192161413692928378708223712791930113386840109729368772998347036090902364801014045328348830748307179590755723160142468563977011700764517880467116766150322736003147125","979882056834583241477188686550561625289337025747787132773853690143359657519481397575561812727394470125172272246774578404543257210124412718725081536309818383310896102958167337333430555168671327992395916735022711297435263157670501117734412587691271084981140167017421900852550822579410636184333142944411060788723653596377015359036101170054828623669169047118551010102258802465554033173968468183492058271365801755986560/193732066620504775981759812703028757608600125742477178751189607602983198559778039141192492589734277739017909889924488699372940787977794555519474807920198944109549023547259912324279741006975129518191081373554817584214941629021088206977532599055014150433581544599721903881284581257812850697423350805715586436114842183295730680490110793225514602133304729484547181740290534056445482186430729398701311563285494964645419","1138059441890428903336718712159907364975959482163004276901676063186939296217569849990951930955270849692775077813359573394435924934540269310629731801376134549169322946310756738187834128956671195358413024062230774111935109203207768898525882417078119314003162592087920755572050993355843681931139257303484526223461840939880759908449181135029327442039666513325916729112853/224777393704985303260433439401503507705148576727364388720387174977154204629336985298082893443205223017966145098064861566754244624732671470935725326043491911142467178027013112527668183783450932992534517827863293825061296257420183669383719043873666284378647952385401303733274771042385666436214517205678674213118374889121542369996042313879258622144464565403138392064000","614262617634904509410555695398092190166323289787703954329113412647342230855826568873946233136303566178604275296873234926652080462259552775254755109931312516616838091852915397846984381183732773411263828600108443070778861986849272794442105107285234729077818614332155890946804257724112143631642663084660012362691100872465148864413343598067567142977134846266425075195546265101720326272502009234689388355365794889444257557504/121200854655310345878069155190734381476914416893031941761756379148622591310152793328910334357724762079139509813381997287954319983165971628429295803162563856219211627796200599196263868781937234015821367575512548522790158101892507996780675863234181700253545912643548466256938936835469646114659598727592390628209362096738343417775009361678599075671154405137663077798419897932404104579113056038271753988669813988076515476125","106893445531995430131837569895703697604978445859412739331042151546083234373443601923983714252801103551874986033841637079479794895452077803182698291822629713500021995241940133037200268381793282318691568234728329378829301282121562652452936297422136961147432559766896143081059518238234777055931999714973999553456547746825617168005650221542417216291412324174772893635832/21070287546583154895102927029203125577385528350171457634203261197137238923923245382493868134869009844094435068284335909266152042903157700510534904847257436666980671067329084409346149729385625108233234542133838924281113454526471855573271066865534480974484196644173270141056470857666632902827625475719738076524047736123182255306429677688129231682978570461273193359375","1112742798776748551928744983308584493817112400536084744850969025063360679785378789764875076529575583792571198510306186417773101346425704969671256564494135750783642910394213727189639661184379341961737135764570942961692159177189753139209638929302928699705042832922774012622017270172331722295881412111812933593370743210214549038212395941675257558442878012136484052827439007483777859391215222647499741572327725689840850048/219121905514652575155579185322367175400669386131891843382447432851122462422992147756333729893028362013318264155489537138133372703295804002840920402482110260590055749843170064921843460498824128274420925357547023876488939786863662801268798987685503391058250902634999352652063668663245829496836853509616873246554292796823779397317819134891873583857621623143253788854530146303641400986028503534408870194989478421253057625","983995170259637497940121707857673268620603982844439610076334749792119502557380361624096960070148627663305171311646851566811683351232268240169848810658089698606409195744471343416197434926513684882439596141368794175162315633192028977211909698595778839497844847281262559899914504080092844816319298286511436690429175757804604673752838786852277255064434365401871903307643705/193579499709739777577893639665643417521924510242119561765932078835121983190401762561436208758210519231103767232899529457440602166918701550386152070813526760823513884391055054076485295945972185402977095815609448651316824455250005505410192101148149284756928250258632031981439345164037318129987999546683113483700660879431801728391911161900686707231543216283304182063038464","30691013076836380319652884848585431917439358375118437035944950498156836885409110087616602043242747413728866747975631727566613593257623099549583001362246649928075859944695060947434885707102684568632559339383409378997568182445019183928058902445738702610436187907199482604867148445903921474846103586253320950728989228898324829144701782792767763794895137313050381112872972806712570559942583906619373159053654481250809168128/6031936190594376585238407905469035598668211679521553144958053099463931217856780171872253258738635531385711702176347575597387389685526098889278278029314982721284691198967204664771178761416891317672705719303088746953644978471289001577698554025410820041497108311270431130911021653860874238212040640737171103823631718483572464361276703378587106311153455557896527384426327053165214814954154328483257657424873929502112904625","33633002641218571027682690377239300567277297301791434890431645909447040830457253186262970747405514897340315490970846553666201190386457221846694126637998462873786334837901001833771510353365825087187582807843940479192544772559118293851131234910638705258664901225494129023244916125545283621607920983287799648992632814461828998517949449887522866259724675318233522060729654796/6603800575190864815125307817934327053530311915572323544225173935830559756077637251538096164499112411672913910767032482188570876526606118068929913515497400397562722669603861813453418621246538114872330536044519242663538662076583511078523573320035084744399535581216815034837553165853576616422592790103728141443697362408727056813977234078214386771115586436985105038873998875","9090550743395453237608373761422705922989356346696677314277463900103283296889488490217663400349361962695279888433677856471792856853109469433355422802663947305503479561493033851081993247556828544308258821557994512133708656174864544457143793106703578476914924328960109390350040954158797845288786321215010324565010420734044059968931558099077932776525974187717655105951506223649947806568984848883258144616897526257038550656/1783219994432430133950472014582130883873515063182143523712063859964133099770763874744121895885645346884371273930727450069430704145915261127061538288702855011220545530326588799412076879985026006593893648911637986337776174555198865379578424838210466703683642106934154603710587408512357351455891557594977191641529451749437270208258072920514602243985184744955476557012910446023911358037761232253615162335336208343505859375","396226087129511787616470716244996965529391571019620342657409150252952330537366537352182763477820160355931003174946109480036915624974500187179367618457008802667089004678925595775249725629495848146669773574395699032785024522882892752987825063933573399691764866816284097232869198405981830106568826923407996367321353003569052419999880089180418759265274331299787468134974811/77651132902382550540201641628906752945078964002822585000619340261128555048628863996784740469908853602590877726845475670110127527874088625214912598995012971630852593597027649154487264595100300180591016581254965295280089902497540043916128232871685159131211213497239568483141031137909208031392464815187505714066235868748950184065923236670418822911614780061752905170944000","1288523130900767412477856952035690867153496584747510253984686336382980221603917538996138294311274357713893956725672062832264871415025750136690143411884111580335458539824573239771267043414225271729141508235839982033182605445173050590151912297720800168687369852280323356691345317649445843078291369394324862039143247087442309135074453265658730028145500871559458519282433012494054724678302957276371418936282902434203225600/252284450515080370603949213084529993395050575951188044032908270470514999880554862449223347761507020354321422785760279154913310488296485989979706208254206974075438570521939826124860483842758137231373182496438568202110337751291106165654945352183167578675508602832478752400011567482434301614269579368882858973850914513870297071866544875650189106576672289734326492492059816669288907018095832842249738081022227281715919357","559506782175368748187145067236900803925823792088293851453005882621173124590368101213652371965740365119375069053747415415684193092607523211636912074219215053809881814859129515591479780669511533619258835199715146655774919418434080807837587396115955105126806762961292429904380132116986984435528307613054828929294602185927322238461491059740342387266084431988727321711184308176/109446188216864405154936682374609448082436347600301765944233278303643744736544109262794383069197271409398615846380701459882784547857821831816863216080069944818453908760476475874319791512782445408136169878207358663250499628002971644430164185578966399908622640732411885568638054229180673755690889471388585521113862492432946110902070139679164884208988489955874131206343597375","365842109776085256207829452385781129402656684569922320812625438296958174120084800064669048017227033185969596458778213306152397766619692644694641677223213185977626940193107608138827771259334379895020377700759789774994800008933137569543592829220611543060189849601828342989023692876182148818363689293009174358168826340010491728715549904988196347316703985894355217235339548078187164176255405596310602921647203428200269666176/71497266937783826306774367225149833789788300609530680399994804704196212252148324552193149332755057982662844988588678159610516634667597707204818296457616315484973288944637139939912166034691155272078609876888919170894915224022982785138928008133003473320018151370486895637936102520353951511525996197267572355782608352075229547764732602557133494648237258900273354364050662921889937355682486287799239363976556848320046933875","59378684894605773397070783936113244261297966863668546282887298999811950599772732377979382620766180662159460666220894896896564357533604962977968843474062092083279165837424210591042655271577974272394203253875965589611493384384257117088518521598379301169916060951350650621757237206805037261878212424267780312614942173870651684587166691539909068452932891649554575072205080763/11593916877920131260484148322810317629326850763057953025674154928920977965095141485536566217873796019006709247938019404840440511433467040918770165456925609124166970862430104329357419669175323763143377917913760028500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","440706629842402075137926797732405268015915199334341565218443748798479563505125605478061664327658137598204192554352688830679475840386882350034150077506804799859586772904929402683276898098601814091430598259347980573084686932949502809068565420937301632494387691284902026088950093888426872222813857928092871267130505744095697172494119689779474840037266295586359244899477781345249657455186847452249040895151288114085352974933708544/85971876318334010542313048056773419567285701852816309711738644074302467763075671531248793080425349570584102078764464196653843973936119037322000695949209283327606280423406302517302874806092835694196353778161663338667091195199032831587897410329509487165187753418615356836636352319310103639079123698118997500068644500893282438137614420288839230827096109835206605385673197123994357393257304049093683934224826006704198171592304125","13220371178312284248107863849287558696210741535280184003301555188086761767176560823174196915070378763091889333203635784037294769747641959860810039816533609140662043493962707445564057197150603226797446933532133956054671103942520142568674339411250001585991743608723150284270101326419464088290151483823061613403673956918458456165552482913079283537536214967294211244361353060/2576683013797055224377707713704899315377379548630511095136568220145808780162671473907260623503552385384482723173913562423316997528913651044277418227616447815609873991028073011738113927961824632868956802271260292075825561646156680740323686126811928372672670917332613490241615850953660246271541592056143611581223295045062157404996958100136358649109693659623847024011265147","1538372578072246705266078247950089219881197139399081643650271348770110178217959856819170325400476655944115553238940541695152110949081675985299189913515975242840473616169775880272489805123124548256666658584129873597192213080038937409046114908719298170078476325423466734429870048697383304265342125425087105698152643145531760853127801123272389134514333752173173161562273487752064850461823726948588221913540799816489566883798912/299566102446745552813544808169323270315327122249327394279467999308669285416179486075255023523726449428151807672528368606071047812907935426406886253284580296349349558797128593446316786243666290649442956134448480598303527795996222703837663605600624271807461605295956674925277658331760000117761013381199880905748188151556184620779667670278558839116983636972680749836497346863752662521197700717702790359162307617024566689271625","281696937222363685333688097915539146272117417024070728031063821781398985795813333650547982965341298894634762289669256129805545549280355643122501181852136332529515756074502902204877664395456278205770206019663082511098956468724829475220996427130295010430751942126263620206886404244432409164651524408198286831329682605959881993845189585640874220032515465014097345759490750307207/54806274927935495596891312029173862473687610099325998583092091915101265393157631244775387832621032230434007486602816972765210205596482942091518459849775458089575743699797096697542306049628939919466378189656065461708686421130956996965004776108499273871055615413566043083634090083096967567965373203683231171594922347812966905149873265654962896456451681332216735396249206784000","228506238533410805238253122961471637501498406104430046727793420497895852412513560203475440156216063574654372726194215013407325207763369075250819386897086702757125418327084312933061738392406321003231853349865003322697360659712771167066453430309997639548320673279964210730701373707765051246595806673865646607841876463608039111252607452843372970797479959213447237540830563469297144446069689149549515457318899981763489792/44418759813188470246596822974281932219088697005123285598909329328419879212164564561558656547678211265529803086702843380128457744445765859393426675396393053094588240457569380155526179040891009717323059641035189017918495485630657360525410506453554255734005459614858972904374739673834145083512160883402151636664208253116362089211658645312778404886460203600762546810897889629330022309705583438699250109493732452392578125","2396110297187570506257836426251930521245117960980667897194680897478996322590925380310917400763581787981992131769075961259393685331523600287377841990678117113566991100720996059187144934569703045966210306282348527729533806882408323961336166190162075154579344185244957673138372347997134388801085788353482276257401005734929059700346687783400772331280644647089520646562669857652648/465370154262863030800729180763091967573522779260407615567563274096037297593764955820626213827962697601334935773802201919483657310282236100250543992334865461800976838791035335861420892967699843608855185710753433852279737724446294443337363478679601049432404435672469098850676302728116369979460222148206944323730586138087862719386327396334468302608499235112520318322763857676375","1188272888075247520453568790651819187486389546755745961952033150576243575862120569399808467067800830890874391487822723879717525264875722720416173276963170672622214121308038530968291758445510982186014289745026439477197148445087614813262170975056866881909056450023324743409114115141145340480846088869807540798073417035168139476153897066325127540609756310068558610112731607522096096821938163134080426356894899245575410494080/230586762395914863625709048789913840511134004337945700368117795195769576856434588144361459740833007125516905017415184787078710001969815416281381427387949263792200577791644278234661952852149216540491852757174842146376788280677956350901082838474705227642420261641783722891948710833898248566893322144435457967452449965772543077421407816225704952270697016152452032506898311260979594550143344971416786595888053149375287120733","1072184299258468249004114536023934869518152618369895613271618698908405514630154819453979477077738526673716264830106745031385951736108376866253955319711026042389282009348594845497252059906901748860111986811345742998968284077119165082435598381810306691078037018432766116865792677955520465319184311529667642995217214507658693259694586107847099911341219913576038605872218680562047/207882129535607118520818565811162643811811563516006836924341123976848022970024793004700710992938987476728640943834012473687892481059618823520721737479364352887178017866425027953255856440099446112508663603319745066750522936408781591578321031173620445865113295407603090322283539974563690157418931060565698315406021569491751612761888641141446406531645379264720684248398299136000","158094023904374464057702010126993231151433474361820266584020400101533651587072432728050776506672527718975042616651177034635188178967462982926261516748842073587981953038445977514446838733557926696939591069712397947055261777416704028506441173540338327591514650398349069348381309688677335132100441905603664282735310299686268721634369502296867409514777359935022301425165750780988231639828675424239931533849896744198012747670272/30626384366513923671063955469537776291182594080083494737341604579575446319190916924682809546024369330706012653799783122328775875399363759308193432327358837772825609356553955350401725689682838701996446404559005896479618311357573203081153855961484398360670837599853294627153740224543175497655414585918231215639906924313779933211774291565425360415684556655021031131349317390382320286092667852173815259422737956767922154798375","12216278924286401897470540169822542417611356797676160128176706721343511598951866107858729405615631246003458062949723290192242594609994613705183460814797527214549142043573863947658832694800184691222426521703728394203722420336773310908687071670107794543022567943478843065246011544888390757810534211554666736239506503613750756246364621509359804902243487113673014588325806249988332/2364584127734680580481708368927921125934330000162935118371174269642831409084634375654239735054363928748162229294829526339927907778510530444646754603322373712788147193691037688552857183116332292048731726305451516954679277320777955342295564000586923227775208580772868590742136150431152495718132142742153643081187691849828217592954519485869135930755646768375299870967864990234375","578939195017447864385837341975558679292903716580114421030538728778491606282153588930983966100514147976321305616196463174070345884292672842497715966933722088536619333912687108737657068701352918582656105418491672377271304970407730786932913490869797471081081431072836814581099271832696990064828717287258860166842791984158634684078346453202928137987930328826212011774670396356151265781053547412633310327737900786639842674288716416/111966291649651600701875186827360807558960817589719096407887999108024557254221008849510152469119211567152616745769256123968832250104006560061907741567034087109512483357851919402017950812795426393415409198268246337542639470834168040295134130657073201020340432236723824670803498949071870597039309004562024033656488150406105175401372709011082725359382691270659245312133919518760328422827067578306005644825927050994860723405473375","8041514821545833865350873212853873042112343327573364523948780030849543753072688526717886590013028227714585965095216381829914996539132359247488639692828639170075726301411777307168737667077730792892326979446426349813642680537699905651125068091362135055902152994216233622733424128982011248923051410141033146604688083721413402395290842738021365861670415833356403364696759583009635/1553937833499559104910551811592138833189892464446761247731330672284191313590708439680460540329836344767557599746234213006493842842879398684745864919973051635127080738612248150108793397855113122368507483429209127035263504194847798809612278864438287815470711036548695032421148125849669175729331459149833945183228413961985381338162155596008680906676498435954178226973272371625984","12059659399309169167301353842123191409306995788633965680414620302285606896146667751472818541537183787935352700725982053536032930866708413010971856856768384974849695774437178790890015242323873769697407411558706626105140596160049735605389301414460825674631122462760014451298494875244754354054447697502521388381253293175367558014453865905104467382184997528879171136492277222127399012368677604910497789360212571238146627048080568400384/2328494054002703067219004484782931471919751585969487160602269605916676223315055450845942763690581877771159615428854802721943114463834992106300185328876910271612375509166975628540839858771078495267566008071532876816826751069408153323840515037497664871689085370699991860738368371510578076683395101062439493831773194498579620513073693022191702398601471237166387045790480861932005012807234071429628725981935147069738988682858417182625","683009426705008850682549700382901603742691705123356866338951397347368059105140826655486518416578697931244347554322654428162554903861783227680935341690740579867651545205562690172425016836559678937794312287639193745517811234257062356826622207475918293015140472942579713388671782202262396642735640315948612572908444501108579457520714632371056288874351015666995549139003946314085696/131769214246522869780429817236150406548549044658474416909806179734873399109656411633488099249198882165279745627038984487365589625562901914030850178330133080409420340227179447548044572594184601425691821617928130423410997853384425373999967759499571890326740433081063424903098252502791477854302204200941376983295622430177445507316706609802292121282957519571162158620971952084486375","1418116259749091420309271913909337143756589314597557128553117870573928055109322864794169592355058370891251425125187770724828108988587888087023982451205475980371440423992838481547236638456717520835668859093413956339261802305597694403381021863258753441889536361061407579332570493634254542013337999844407181346815549594836374497512447969751514466481466717590255369810506813543577735080228718660747940956248427356785784199073569408/273368882980516556922532339653303822104510203916024760371844491705599093435133738774975538364241630079468712981056336655766117378160822393876348755370711942273876284944422610974149712212944211513462921649872232656449940987552227525504529710373144228818606127541937831103642415534318303187393593236209298242574677293352798419428712873685798636474667204083938875672934235816396371477146089168375198141802684403955936431884765625","546411077581845999248238069684194831621691193366466972898628141511422317954477211865167402284211971296286346492698354214043840080181702652132835681239302798339667835439189275457116051279366194551632712819028177402221815140045210690908631767786711675029194359998826252332434573121740830827417293557234891406021102083555472155479148332697839972702631641910213821827820374586459319/105246945889799140338072754365901705544530661781295362563214285953881890233987516230568663143342952799036341701952267011236663118111226623815975847494372076420199418712941018288738590264475520229651370015377608638075866459684692488079223686296541020897904588347083045723167762682959422858996673894180805702299907478685374065593161226849447131100462022089783265346597553176576000","2398330640958841474772606439916070050977544535580605737383995160447105736276950196885906408317628083110923322157113892928963237845914017845444295040924101784423382681801754191301860383927129006953354739240926643562987838836997453985855576402628166875869041032631651591871962852884189548538272285387092843044669499688035134181859376665409767886188304314888753894905317929877238322615838524354191263502347881033855441181420399360/461588070868590122892265681879734295007029130965626060552783760068897000195207878227714842617470320231527222074701444349530952699708435668339712860464533455345665068841333232359698449088497137068713309811942968433868609329301082001752617420002377892756821532220676085014874112083615054550278903960627185675459015343606391094523511117705747842645927349130302549554534056269331809016770715819934970200483161548527932617036185253","6041015879424725383006424536130409209607854044642113747266098198777011981328765528361630516108680392500990580908509403483891763219659726090675140672989657743882183951954294745396417829943469201306594018454995862321821016087416840247422350906412007336103086620396467456181771583200365740253389107968122850063607085957109965406634738740996318415514360956028575560979203447735121436/1161752799109428422288020947061281540989708937450568100764830251908850596717606701047413407636907934320789870175907792017513896999208892282137299070761467096211814586909598705615312819596495636017728313513520193786266452836805291464826226833593878504804389728477191170027729963773716267868284479768397603444919008915279522376004326398403851684761808785381609370767169521034383625","13240077436443988749179508462267267187169441948722358165090554769250505713747934643200804819418670147225695324432684266924694524337920816452346599774452681831320005286326986675907899608537972384924882996757503264622991355949039882526389342174307168805166215838138277557052303430492669193939212362638263582899713198716541723383138016564027766560215944409353427176135895982596327685665844815618402881202645610620284792793420780517248/2544223084468158291883698813309541801455311468982232546872485444308211415529998472787377800559884210837213042932180479090277285630234238711851480232520137856848809986631784843528381778520727465146661792797924458540957133423665746229799675650290296217658444899605236550972043549278128087645211909479009099766619355677984218929672461506691980442071860591767266913041147587815452007726513853820116629482732060593116624596368806566625","1953999166296955830935495158735359200362904181792947794529339487489730042568305997099959302322956898299616194932283060554261566410988618045107398092345476532371402134206635235570281738377188438407703089325315446371127042537576093536896282955524842632708645655481028161471313608974238110718242273935956977555610147714316158486553633871312187084618154014921190595222799283957140353/375191165084882521037046014569185165885459082629136124177286500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"];if(I[p])return an.quick.apply(null,I[p].split("/"));p=new an(p);for(var H=80,j=new an(0),pe=p.subtract(new an(1)),be=p.add(new an(1)),He=0;He<H;He++){var xe=new an(2*He+1),_t=yn.bigpow(pe.divide(be),xe),Bt=xe.clone().invert().multiply(_t);j=j.add(Bt)}return j.multiply(new an(2))},factorial:function(p){var I=p%1===0;if(I&&p<0)return NaN;if(!I)return yn.gamma(p+1);for(var H=1,j=2;j<=p;j++)H=H*j;return H},dfactorial:function(p){if(cn(p)){var I=p%2===0,H=I?p/2:(p+1)/2,j=new an(1);if(I)for(var pe=1;pe<=H;pe++)j=j.multiply(new an(2).multiply(new an(pe)));else for(var pe=1;pe<=H;pe++)j=j.multiply(new an(2).multiply(new an(pe)).subtract(new an(1)))}else j=Math.pow(2,(1+2*p-Math.cos(Math.PI*p))/4)*Math.pow(Math.PI,(Math.cos(Math.PI*p)-1)/4)*yn.gamma(1+p/2);return j},GCD:function(){for(var p=Ce([].slice.call(arguments).map(function(pe){return Math.abs(pe)})).sort(),I=Math.abs(p.shift()),H=p.length;H-- >0;)for(var j=Math.abs(p.shift());;){if(I%=j,I===0){I=j;break}if(j%=I,j===0)break}return I},QGCD:function(){for(var p=[].slice.call(arguments),I=p[0],H=1;H<p.length;H++){var j=p[H],pe=I.isNegative()&&j.isNegative()?-1:1;I=j.gcd(I),pe<0&&I.negate()}return I},LCM:function(p,I){return p*I/yn.GCD(p,I)},pow:function(p,I){return p<0&&Math.abs(I)<1?1/I%2===0?NaN:-Math.pow(Math.abs(p),I):Math.pow(p,I)},factor:function(p){p=Number(p);var I=Math.sign(p);p=Math.abs(p);var H=yn.ifactor(p),j=new Te;j.symbols={},j.group=R;for(var pe in H){var be=new Te(1);be.group=S,be.value=pe,be.power=new Te(H[pe]),j.symbols[pe]=be}return j.updateHash(),p===1&&(j=new Te(p)),I<0&&j.negate(),j},sfactor:function(p,I){I=I||{};var H=Math.floor(Math.sqrt(p)),j=$[$.length-1];H>j&&p<1e6&&on(H);for(var pe=$.length,be=0;be<pe;be++)for(var He=$[be];p%He===0;)p=p/He,I[He]=(I[He]||0)+1;return p>1&&(I[p]=1),I},ifactor:function(p){var I=new c(p);if(p=String(p),p==="0")return{0:1};p=new c(p);var H=p.sign?-1:1;p=p.abs();var j={};if(p.lt("65536"))j=yn.sfactor(p,j);else{var pe=function(kt){kt.isPrime()?j[kt]=(j[kt]||0)+1:j=yn.sfactor(kt,j)};try{for(var be=1e3,He=0;!p.abs().equals(1);)if(p.isPrime()){pe(p);break}else{let kt=function(bn){for(var en=new c(bn),hn=2,Rn=new c(bn),wn=new c(1);wn.equals(1);){for(var jt=0;jt<=hn&&wn.equals(1);jt++){if(He++>be)throw new Error("stopping");Rn=Rn.pow(2).add(1).mod(p),wn=c.gcd(Rn.minus(en).abs(),p)}hn=hn*2,en=Rn}return wn.equals(p)?kt(bn+1):wn};var Bt=kt,xe=kt(2);pe(xe),p=p.divide(xe)}}catch{j={},pe(I)}}if(H===-1){var _t=At(ue(j));j["-"+_t]=j[_t],delete j[_t]}return j},boxfactor:function(p,I){I=I||200;for(var H,j,pe=Math.floor(5/12*p),be=0,He=!1;H=Math.floor(p/pe),j=p%pe,j!==0;){if(He)return[p,1];pe=Math.max(j,pe-j),be++,He=be>I}return[H,pe,be]},fib:function(p){var I=Math.sign(p);p=Math.abs(p),I=B(p)?I:Math.abs(I);for(var H=0,j=1,pe=1,be=2;be<=p;be++)pe=H+j,H=j,j=pe;return pe*I},mod:function(p,I){return p%I},integer_part:function(p){var I=Math.sign(p);return I*Math.floor(Math.abs(p))},simpson:function(p,I,H,j){var pe=function(hn,Rn,wn){var jt=hn(Rn),hr=1e-12;return isNaN(jt)&&(jt=hn(wn===1?Rn+hr:Rn-hr)),jt};j=j||1e-4;var be=Math.abs(Math.floor((H-I)/j));be%2!==0&&be++;for(var He=(H-I)/be,xe=pe(p,I,1),_t=!1,Bt=I+He,kt,bn,en=1;en<be;en++)kt=_t?2:4,bn=kt*pe(p,Bt,1),xe+=bn,_t=!_t,Bt+=He;return(xe+pe(p,Bt,2))*(He/3)},num_integrate:function(p,I,H,j,pe){if(pe<0)throw new Error("max depth cannot be negative");function be(_t,Bt,kt,bn,en,hn,Rn,wn,jt,hr,jn){if(jn.nanEncountered)return NaN;var sr,qr,fr,ai,so,ps,Xn,gi,Bi,ji;if(sr=kt-Bt,qr=_t(Bt+sr*.25),fr=_t(kt-sr*.25),isNaN(qr)){jn.nanEncountered=!0;return}if(isNaN(fr)){jn.nanEncountered=!0;return}if(ai=sr*(bn+4*qr+en)/12,so=sr*(en+4*fr+hn)/12,ps=ai+so,ji=(ps-Rn)/15,!(jn.maxDepthCount>1e3*jt))return hr>jt?(jn.maxDepthCount++,ps+ji):Math.abs(ji)<wn?ps+ji:(Xn=Bt+sr*.5,gi=be(_t,Bt,Xn,bn,qr,en,ai,wn*.5,jt,hr+1,jn),isNaN(gi)?(jn.nanEncountered=!0,NaN):(Bi=be(_t,Xn,kt,en,fr,hn,so,wn*.5,jt,hr+1,jn),isNaN(Bi)?(jn.nanEncountered=!0,NaN):gi+Bi))}function He(_t,Bt,kt,bn,en){var hn={maxDepthCount:0,nanEncountered:!1};bn===void 0&&(bn=1e-9),en===void 0&&(en=45);var Rn=_t(Bt),wn=_t(.5*(Bt+kt)),jt=_t(kt),hr=(Rn+4*wn+jt)*(kt-Bt)/6,jn=be(_t,Bt,kt,Rn,wn,jt,hr,bn,en,1,hn);if(hn.maxDepthCount>0&&nt("integrate-adaptive-simpson: Warning: maximum recursion depth ("+en+") reached "+hn.maxDepthCount+" times"),hn.nanEncountered)throw new Error("Function does not converge over interval!");return jn}var xe;try{xe=He(p,I,H,j,pe)}catch{return yn.simpson(p,I,H)}return An(xe,12)},Ci:function(p){for(var I=20,H=.5772156649015329,j=0,pe=1;pe<I;pe++){var be=2*pe;j+=Math.pow(-1,pe)*Math.pow(p,be)/(be*yn.factorial(be))}return Math.log(p)+H+j},Si:function(p){for(var I=20,H=0,j=0;j<I;j++){var pe=2*j;H+=Math.pow(-1,j)*Math.pow(p,pe+1)/((pe+1)*yn.factorial(pe+1))}return H},Ei:function(p){if(Number(p)===0)return-1/0;for(var I=30,H=.5772156649015329,j=0,pe=1;pe<I;pe++)j+=Math.pow(p,pe)/(pe*yn.factorial(pe));return H+Math.abs(Math.log(p))+j},Shi:function(p){for(var I=30,H=0,j,pe,be=0;be<I;be++)j=2*be,pe=j+1,H+=Math.pow(p,pe)/(pe*pe*yn.factorial(j));return H},Chi:function(p){var I,H,j;return I=.001,H=.5772156649015329,j=function(pe){return(Math.cosh(pe)-1)/pe},Math.log(p)+H+yn.num_integrate(j,.002,p,I)},Li:function(p){return yn.Ei(yn.bigLog(p))},gamma_incomplete:function(p,pe){for(var H=p-1,j=0,pe=pe||0,be=0;be<H;be++)j+=Math.pow(pe,be)/yn.factorial(be);return yn.factorial(H)*Math.exp(-pe)*j},step:function(p){return p>0?1:p<0?0:.5},rect:function(I){var I=Math.abs(I);return I===.5?I:I>.5?0:1},sinc:function(p){return p.equals(0)?1:Math.sin(p)/p},tri:function(p){return p=Math.abs(p),p>=1?0:1-p},nthroot:function(p,I){if(p instanceof an||(p=new an(p.toString())),I instanceof an||(I=new an(I.toString())),I.equals(1))return p;var H=p.divide(new an(2)),j=new an(1e-15),pe,be,He,xe=I.clone().invert(),_t=I.subtract(new an(1));do{var Bt=yn.bigpow(H,_t),kt=xe.multiply(p.divide(Bt).subtract(H)).toDecimal(25);if(pe=an.create(kt),He)break;H=H.add(pe);var kt=pe.toDecimal();He=be?be===kt:!1,be=kt}while(pe.abs().gte(j));return H},sqrt:function(p){p instanceof an||(p=new an(p));var I,H,j,pe,be=0,He=!1,xe=new an(1e-20);I=p.divide(new an(2));var _t=1e3;do{if(be>_t)throw new Error("Unable to calculate square root for "+p);I=I.add(p.divide(I)).divide(new an(2)),I=new an(I.decimal(30)),H=p.subtract(I.multiply(I)),pe=j?j.equals(H):!1,(H.clone().abs().lessThan(xe)||pe)&&(He=!0),j=H,be++}while(!He);return I}};_.FUNCTION_MODULES.push(yn),mn(yn),Math.sign=Math.sign||function(p){return p=+p,p===0||isNaN(p)?p:p>0?1:-1},Math.cosh=Math.cosh||function(p){var I=Math.exp(p);return(I+1/I)/2},Math.sech=Math.sech||function(p){return 1/Math.cosh(p)},Math.csch=Math.csch||function(p){return 1/Math.sinh(p)},Math.coth=Math.coth||function(p){return 1/Math.tanh(p)},Math.sinh=Math.sinh||function(p){var I=Math.exp(p);return(I-1/I)/2},Math.tanh=Math.tanh||function(p){if(p===1/0)return 1;if(p===-1/0)return-1;var I=Math.exp(2*p);return(I-1)/(I+1)},Math.asinh=Math.asinh||function(p){return p===-1/0?p:Math.log(p+Math.sqrt(p*p+1))},Math.acosh=Math.acosh||function(p){return Math.log(p+Math.sqrt(p*p-1))},Math.atanh=Math.atanh||function(p){return Math.log((1+p)/(1-p))/2},Math.log10=Math.log10||function(p){return Math.log(p)*Math.LOG10E},Math.trunc=Math.trunc||function(p){return isNaN(p)?NaN:p>0?Math.floor(p):Math.ceil(p)};function Or(p,I,H,j){var pe=I==="hash",be=void 0,He=pe?void 0:I,xe=He==="decimal"||He==="decimals";xe&&typeof j>"u"&&(j=_.DEFAULT_DECP);function _t(Xn){switch(I){case"decimals":case"decimal":return be=be||function(Qo){return!1},Xn.valueOf();case"recurring":be=be||function(Qo){return Qo.indexOf("'")!==-1};var rn=Xn.toString(),Pi=/^-?\d+(?:\/\d+)?$/.exec(rn);if(Pi.length===0)return rn;var ts=Pi[0].split("/"),gi=!1,Bi=Number(ts[0]);Bi<0&&(Bi=-Bi,gi=!0);var ji=Number(ts[1]);ji||(ji=1);var Hs=Math.floor(Bi/ji),cs=10*(Bi-Hs*ji);for(Hs=Hs.toString()+".";cs&&cs<ji;)cs*=10,Hs+="0";for(var ui="",tr=[],ii=0;;){if(typeof tr[cs]<"u"){var Ei=ui.slice(0,tr[cs]),To=ui.slice(tr[cs]),ci=Hs+Ei+"'"+To+"'";return(gi?"-":"")+ci.replace("'0'","").replace(/\.$/,"")}var Xs=Math.floor(cs/ji),Mo=cs-Xs*ji;tr[cs]=ii,ui+=Xs.toString(),ii+=1,cs=10*Mo}case"mixed":be=be||function(Qo){return Qo.indexOf("/")!==-1};var rn=Xn.toString(),Pi=/^-?\d+(?:\/\d+)?$/.exec(rn);if(Pi.length===0)return rn;var ts=Pi[0].split("/"),$a=new c(ts[0]),va=new c(ts[1]);va.equals(0)&&(va=new c(1));var Ys=$a.divmod(va),Hs=Ys.quotient,ei=Ys.remainder,Rs=ts[0][0]==="-"||Hs.equals(0)||ei.equals(0)?"":"+";return(Hs.equals(0)?"":Hs.toString())+Rs+(ei.equals(0)?"":ei.toString()+"/"+ts[1]);case"scientific":return be=be||function(Qo){return!1},new Pr(Xn.valueOf()).toString(_.SCIENTIFIC_MAX_DECIMAL_PLACES);default:return be=be||function(Qo){return Qo.indexOf("/")!==-1},Xn.toString()}}if($t(p)){var Bt="",kt="",bn="",en=p.group||H,hn=p.value;if(!pe){var Rn=_t(p.multiplier);Rn=="-1"&&String(p.multiplier)==="-1"&&(bn="-",Rn="1"),Rn!="1"&&(Bt=Rn);var wn=p.power?_t(p.power):"";wn!="1"&&($t(wn)?kt=Or(wn,He):kt=wn)}switch(en){case T:Bt="";var jt=j&&xe?p.multiplier.toDecimal(j):_t(p.multiplier);hn=String(p.multiplier)=="-1"?"1":jt,kt="";break;case X:hn=p.collectSymbols().map(function(Xn){var gi=Or(Xn,He,H,j);return gi=="0"&&(gi=""),gi}).sort().join("+").replace(/\+\-/g,"-");break;case W:hn=p.collectSymbols().map(function(Xn){var gi=Or(Xn,He,H,j);return gi=="0"&&(gi=""),gi}).sort().join("+").replace(/\+\-/g,"-");break;case R:hn=p.collectSymbols(function(Xn){var gi=Xn.group;return(gi===X||gi===W)&&Xn.power.equals(1)&&Xn.multiplier.equals(1)?lr(Or(Xn,He)):Or(Xn,He)}).join("*");break;case P:var hr=p.previousGroup,jn=p.power.group;hr===X&&(hn=p.collectSymbols(Or,He).join("+").replace("+-","-")),!(hr===T||hr===k||hr===G)&&!pe&&(hn=lr(hn)),(jn===W||jn===R||jn===X||p.power.multiplier.toString()!="1")&&kt&&(kt=lr(kt));break}if(en===G&&(hn=p.fname+lr(p.args.map(function(Xn){return Or(Xn,He)}).join(","))),en===G&&p.fname in v){var sr=Or(p.args[0]),qr=Or(p.args[1]);p.args[0].isComposite()&&(sr=lr(sr)),p.args[1].isComposite()&&(qr=lr(qr)),hn=sr+v[p.fname]+qr}kt&&en!==P&&be(kt)&&(kt=lr(kt)),((en===W||en===X)&&(Bt&&Bt!="1"||bn==="-")||(en===R||en===W||en===X)&&kt&&kt!="1"||!pe&&en===S&&hn==-1||p.fname===ie)&&(hn=lr(hn)),j&&(I==="decimal"||I==="decimals"&&Bt)&&(Bt=An(Bt,j));var fr=bn+Bt;if(Bt&&be(Bt)&&(fr=lr(fr)),kt<0&&(kt=lr(kt)),Bt&&(fr=fr+"*"),kt){if(hn==="e"&&_.E_TO_EXP)return fr+"exp"+lr(kt);kt=_.POWER_OPERATOR+kt}en===P&&hn.charAt(0)==="-"&&(hn=lr(hn));var ai=fr+hn;return p.parens&&(ai=lr(ai)),ai+kt}else if(fn(p)){for(var so=p.elements.length,fr=[],ps=0;ps<so;ps++)fr.push(p.elements[ps].text(I));return"["+fr.join(",")+"]"}else try{return p.toString()}catch{return""}}function zs(p){if(de(p))return[p];for(var I=p,H=1,j=[],pe=2220446049250313e-31;H<I;){var be=p/H,He=Math.floor(be),xe=be-He;if(xe<=pe&&H>1){if(de(H)&&($.indexOf(H)===-1&&$.push(H),j.push(H)),de(He)){j.push(He);break}I=He}H++}return j.sort(function(_t,Bt){return _t-Bt})}zs(314146179365);function mi(p){this.symbol=p}mi.getExpression=function(p,I){(p==="last"||!p)&&(p=De.length),p==="first"&&(p=1);var H=p-1,j=De[H],pe=j&&new mi(j);return pe},mi.prototype={text:function(p,I){return I=I||_.EXPRESSION_DECP,p=p||"decimals",this.symbol.text_?this.symbol.text_(p):Or(this.symbol,p,void 0,I)},latex:function(p){return this.symbol.latex?this.symbol.latex(p):_r.latex(this.symbol,p)},valueOf:function(){return this.symbol.valueOf()},evaluate:function(){if(fn(this.symbol)&&this.symbol.dimensions()===0)return this;var p=arguments[0],I,H=1;typeof p=="string"?I=p.charAt(0)==="%"?mi.getExpression(p.substr(1)).text():p:p instanceof mi||$t(p)?I=p.text():(I=this.symbol.text(),H--);var j=arguments[H]||{},pe=new mi($r("PARSE2NUMBER",function(){return a.parse(I,j)},!0));return pe},buildFunction:function(p){return Kr.build(this.symbol,p)},isNumber:function(){return Pn(this.symbol)},isInfinity:function(){return Math.abs(this.symbol.multiplier)===1/0},isImaginary:function(){return z(a.parse(this.symbol)).isImaginary()},variables:function(){return ln(this.symbol)},toString:function(){try{return Jn(this.symbol)?"["+this.symbol.toString()+"]":this.symbol.toString()}catch{return""}},toDecimal:function(p){_.precision=p;var I=Or(this.symbol,"decimals");return _.precision=void 0,I},isFraction:function(){return Ct(this.symbol)},isPolynomial:function(){return this.symbol.isPoly()},sub:function(p,I){return new mi(this.symbol.sub(a.parse(p),a.parse(I)))},operation:function(p,I){return qt(I)?I=I.symbol:$t(I)||(I=a.parse(I)),new mi(a[p](this.symbol.clone(),I.clone()))},add:function(p){return this.operation("add",p)},subtract:function(p){return this.operation("subtract",p)},multiply:function(p){return this.operation("multiply",p)},divide:function(p){return this.operation("divide",p)},pow:function(p){return this.operation("pow",p)},expand:function(){return new mi(a.expand(this.symbol))},each:function(p,I){if(this.symbol.each)this.symbol.each(p,I);else if(Jn(this.symbol))for(var I=0;I<this.symbol.length;I++)p.call(this.symbol,this.symbol[I],I);else p.call(this.symbol)},eq:function(p){$t(p)||(p=a.parse(p));try{var I=a.subtract(this.symbol.clone(),p);return I.equals(0)}catch{return!1}},lt:function(p){$t(p)||(p=a.parse(p));try{var I=z(a.subtract(this.symbol.clone(),p));return I.lessThan(0)}catch{return!1}},gt:function(p){$t(p)||(p=a.parse(p));try{var I=z(a.subtract(this.symbol.clone(),p));return I.greaterThan(0)}catch{return!1}},gte:function(p){return this.gt(p)||this.eq(p)},lte:function(p){return this.lt(p)||this.eq(p)},numerator:function(){return new mi(this.symbol.getNum())},denominator:function(){return new mi(this.symbol.getDenom())},hasFunction:function(p){return this.symbol.containsFunction(p)},contains:function(p){return this.symbol.contains(p)}},mi.prototype.toTeX=mi.prototype.latex;function Pr(p){return this instanceof Pr?(p=String(typeof p>"u"?0:p),p.startsWith("-")?(this.sign=-1,p=p.substr(1,p.length)):this.sign=1,Pr.isScientific(p)?this.fromScientific(p):this.convert(p),this):new Pr(p)}Pr.prototype={fromScientific:function(p){var I=String(p).toLowerCase().split("e");return this.coeff=I[0],this.exponent=I[1],this},convert:function(p){var I=p.split("."),H=I[0]||"",j=I[1]||"";H=Pr.removeLeadingZeroes(H),j=Pr.removeTrailingZeroes(j);var pe=H.length,be=H+j,He=Pr.leadingZeroes(be).length;this.exponent=pe-(He+1);var xe=Pr.removeLeadingZeroes(be);this.coeff=xe.charAt(0)+"."+(xe.substr(1,xe.length)||"0");var _t=this.coeff.split(".")[1]||"";return this.decp=_t==="0"?0:_t.length,this.dec=j,this.wholes=H,this},round:function(p){var I=this.copy();if(p=Number(p),p===0)I.coeff=I.coeff.charAt(0);else{var H=this.coeff.substring(0,p+1),j=this.coeff.substring(p+1,p+3),pe=j.charAt(0);j.charAt(1)>4&&pe++,I.coeff=H+pe}return I},copy:function(){var p=new Pr(0);return p.coeff=this.coeff,p.exponent=this.exponent,p.sign=this.sign,p},toString:function(p){var I;if(_.SCIENTIFIC_IGNORE_ZERO_EXPONENTS&&this.exponent===0&&this.decp<p)this.decp===0?I=this.wholes:I=this.coeff;else{var H=typeof p>"u"?this.coeff:Pr.round(this.coeff,Math.min(p,this.decp||1));I=this.exponent===0?H:H+"e"+this.exponent}return(this.sign===-1?"-":"")+I}},Pr.isScientific=function(p){return/\d+\.?\d*e[\+\-]*\d+/i.test(p)},Pr.leadingZeroes=function(p){var I=p.match(/^(0*).*$/);return I?I[1]:""},Pr.removeLeadingZeroes=function(p){var I=p.match(/^0*(.*)$/);return I?I[1]:""},Pr.removeTrailingZeroes=function(p){var I=p.match(/0*$/);return I?p.substring(0,p.length-I[0].length):""},Pr.round=function(p,I){var H=An(p,I),j=String(H).split(".").pop(),pe=I-j.length;return pe>0&&(H=H+new Array(pe+1).join(0)),H};function an(p){if(p instanceof an)return p;if(p===void 0)return this;try{if(cn(p))try{this.num=c(p),this.den=c(1)}catch{return an.simple(p)}else{var I=p instanceof d?Ts.quickConversion(p):Ts.convert(p);this.num=new c(I[0]),this.den=new c(I[1])}}catch{return an.simple(p)}}an.create=function(p){if(p instanceof an)return p;p=p.toString();var I=p.charAt(0)==="-";I&&(p=p.substr(1,p.length-1));var H=new an(p);return I&&H.negate(),H},an.isFrac=function(p){return p instanceof an},an.quick=function(p,I){var H=new an;return H.num=new c(p),H.den=new c(I),H},an.simple=function(p){for(var I=String(Lt(p)),H=I.split("."),j=H.join(""),pe=1,be=(H[1]||"").length,He=0;He<be;He++)pe+="0";var xe=an.quick(j,pe);return xe.simplify()},an.prototype={multiply:function(p){if(this.isOne())return p.clone();if(p.isOne())return this.clone();var I=this.clone();return I.num=I.num.multiply(p.num),I.den=I.den.multiply(p.den),I.simplify()},divide:function(p){if(p.equals(0))throw new re("Division by zero not allowed!");return this.clone().multiply(p.clone().invert()).simplify()},subtract:function(p){return this.clone().add(p.clone().neg())},neg:function(){return this.num=this.num.multiply(-1),this},add:function(p){var I=this.den,H=p.den,j=this.clone(),pe=j.num,be=p.num;return I.equals(H)?j.num=pe.add(be):(j.num=pe.multiply(H).add(be.multiply(I)),j.den=I.multiply(H)),j.simplify()},mod:function(p){var I=this.clone(),H=p.clone();return I.num=I.num.multiply(H.den),I.den=I.den.multiply(H.den),H.num=H.num.multiply(this.den),H.den=H.den.multiply(this.den),I.num=I.num.mod(H.num),I.simplify()},simplify:function(){var p=c.gcd(this.num,this.den);return this.num=this.num.divide(p),this.den=this.den.divide(p),this},clone:function(){var p=new an;return p.num=new c(this.num),p.den=new c(this.den),p},decimal:function(p){var I=this.num.isNegative()?"-":"";if(this.num.equals(this.den))return"1";p=p||_.PRECISION,p++;for(var H=[],j=this.num.abs(),pe=this.den,be=0;be<p;be++){var He=j.divide(pe),xe=j.subtract(He.multiply(pe));if(H.push(He),xe.equals(0))break;j=xe.times(10)}var _t=H.shift();if(H.length===0)return I+_t.toString();if(be===p){for(var Bt=[],be=0;be<2;be++)Bt.unshift(H.pop());H.push(Math.round(Bt.join(".")))}var kt=_t.toString()+"."+H.join("");return I+kt},toDecimal:function(p){return p=p||_.PRECISION,p?this.decimal(p):this.num/this.den},qcompare:function(p){return[this.num.multiply(p.den),p.num.multiply(this.den)]},equals:function(p){isNaN(p)||(p=new an(p));var I=this.qcompare(p);return I[0].equals(I[1])},absEquals:function(p){isNaN(p)||(p=new an(p));var I=this.qcompare(p);return I[0].abs().equals(I[1])},greaterThan:function(p){isNaN(p)||(p=new an(p));var I=this.qcompare(p);return I[0].gt(I[1])},gte:function(p){return this.greaterThan(p)||this.equals(p)},lte:function(p){return this.lessThan(p)||this.equals(p)},lessThan:function(p){isNaN(p)||(p=new an(p));var I=this.qcompare(p);return I[0].lt(I[1])},isInteger:function(){return this.den.equals(1)},negate:function(){return this.num=this.num.multiply(-1),this},invert:function(){var p=this.den;if(!this.num.equals(0)){var I=this.num.isNegative();this.den=this.num.abs(),this.num=p,I&&(this.num=this.num.multiply(-1))}return this},isOne:function(){return this.num.equals(1)&&this.den.equals(1)},sign:function(){return this.num.isNegative()?-1:1},abs:function(){return this.num=this.num.abs(),this},gcd:function(p){return an.quick(c.gcd(p.num,this.num),c.lcm(p.den,this.den))},toString:function(){return this.den.equals(1)?this.num.toString():this.num.toString()+"/"+this.den.toString()},valueOf:function(){if(_.USE_BIG)return new d(this.num.toString()).div(new d(this.den.toString()));var p=this.num/this.den;return p},isNegative:function(){return this.toDecimal()<0}};function Te(p){var I=p==="Infinity";return this instanceof Te?(p instanceof d&&(p=p.toString()),/^(\-?\+?\d+)\.?\d*e?\-?\+?\d*/i.test(p)||p instanceof d?(this.group=T,this.value=te,this.multiplier=new an(p)):(this.group=k,ot(p),this.value=p,this.multiplier=new an(1),this.imaginary=p===_.IMAGINARY,this.isInfinity=I),this.power=new an(1),this):new Te(p)}Te.imaginary=function(){var p=new Te(_.IMAGINARY);return p.imaginary=!0,p},Te.infinity=function(p){var I=new Te("Infinity");return p===-1&&I.negate(),I},Te.shell=function(p,I){var H=new Te(I);return H.group=p,H.symbols={},H.length=0,H},Te.unwrapSQRT=function(p,I){var H=p.power;if(p.fname===se&&(p.isLinear()||I)){var j=p.args[0].clone();j.power=j.power.multiply(new an(.5)),j.multiplier=j.multiplier.multiply(p.multiplier),p=j,I&&(p.power=H.multiply(new an(.5)))}return p},Te.hyp=function(p,I){return p=p||new Te(0),I=I||new Te(0),a.sqrt(a.add(a.pow(p.clone(),new Te(2)),a.pow(I.clone(),new Te(2))))},Te.toPolarFormArray=function(p){var I,H,j,pe;return I=p.realpart(),H=p.imagpart(),j=Te.hyp(I,H),pe=I.equals(0)?a.parse("pi/2"):a.trig.atan(a.divide(H,I)),[j,pe]},Te.unwrapPARENS=function(p){if(p.fname===""){var I=p.args[0];return I.power=I.power.multiply(p.power),I.multiplier=I.multiplier.multiply(p.multiplier),p.fname===""?Te.unwrapPARENS(I):I}return p},Te.create=function(p,I){return I=I===void 0?1:I,a.parse("("+p+")^("+I+")")},Te.prototype={getNth:function(p){var I=z(a.pow(a.parse(this.multiplier),a.parse(p).invert())),H=a.parse(An(I)),j=z(a.pow(H,a.parse(p)));return j.equals(a.parse(this.multiplier))?H:I},isToNth:function(p){var I=this.getNth(p),H=cn(I),j;return this.group===R?(j=!0,this.each(function(pe){var be=pe.isToNth(p);be||(j=!1)})):j=this.group===T?!0:cn(a.divide(a.parse(this.power),a.parse(p))),H&&j},isSquare:function(){return this.isToNth(2)},isCube:function(){return this.isToNth(3)},isSimple:function(){return this.power.equals(1)&&this.multiplier.equals(1)},powSimp:function(){if(this.group===R){var p=[],H=this.multiplier.sign();this.each(function(bn){var en=bn.power;if($t(en)||en.equals(1))return this.clone();p.push(en)});var I=new an(At(p)),H=this.multiplier.sign(),j=this.multiplier.clone().abs(),pe=yn.ifactor(j),be=new an(1),He=new an(1);for(var xe in pe){var _t=new an(pe[xe]);_t.lessThan(I)||(_t=_t.divide(I).subtract(new an(1)),He=He.multiply(new an(xe))),be=be.multiply(a.parse(lr(xe)+"^"+lr(_t)).multiplier)}var Bt=new Te(He);this.each(function(bn){bn=bn.clone(),bn.power=bn.power.divide(I),Bt=a.multiply(Bt,bn)});var kt=a.symfunction(ie,[Bt]);return kt.power=I,kt.multiplier=H<0?be.negate():be,kt}return this.clone()},equals:function(p){return $t(p)||(p=new Te(p)),this.value===p.value&&this.power.equals(p.power)&&this.multiplier.equals(p.multiplier)&&this.group===p.group},abs:function(){var p=this.clone();return p.multiplier.abs(),p},gt:function(p){return $t(p)||(p=new Te(p)),this.isConstant()&&p.isConstant()&&this.multiplier.greaterThan(p.multiplier)},gte:function(p){return $t(p)||(p=new Te(p)),this.equals(p)||this.isConstant()&&p.isConstant()&&this.multiplier.greaterThan(p.multiplier)},lt:function(p){return $t(p)||(p=new Te(p)),this.isConstant()&&p.isConstant()&&this.multiplier.lessThan(p.multiplier)},lte:function(p){return $t(p)||(p=new Te(p)),this.equals(p)||this.isConstant()&&p.isConstant()&&this.multiplier.lessThan(p.multiplier)},isPoly:function(p){var I=this.group,H=this.power;if(!cn(H)||H<0)return!1;if(I===T||I===k||this.isConstant(!0))return!0;var j=ln(this);if(I===R&&j.length===1){var pe=j[0];if(!pe)return!0;for(var be in this.symbols){var He=this.symbols[be];if(He.group===G&&!He.args[0].isConstant()||!He.contains(pe)&&!He.isConstant(!0))return!1}return!0}if(this.isComposite()||I===R&&p){if(!p&&j.length>1)return!1;for(var be in this.symbols)if(!this.symbols[be].isPoly(p))return!1;return!0}else return!1},stripVar:function(p,I){var H;return(this.group===X||this.group===k)&&this.value===p?H=new Te(I?0:this.multiplier):this.group===R&&this.isLinear()?(H=new Te(1),this.each(function(j){j.contains(p,!0)||(H=a.multiply(H,j.clone()))}),H.multiplier=H.multiplier.multiply(this.multiplier)):this.group===W&&!this.isLinear()?H=new Te(this.multiplier):this.group===W&&this.isLinear()?(H=new Te(0),this.each(function(j){if(!j.contains(p)){var pe=j.clone();pe.multiplier=pe.multiplier.multiply(this.multiplier),H=a.add(H,pe)}}),H.equals(0)&&(H=new Te(this.multiplier))):this.group===P&&this.power.contains(p,!0)?H=new Te(this.multiplier):this.group===G&&this.contains(p)?H=new Te(this.multiplier):H=this.clone(),H},toArray:function(p,I){I=I||{arr:[],add:function(xe,_t){var Bt=this.arr[_t];this.arr[_t]=Bt?a.add(Bt,xe):xe}};var H=this.group;if(H===k&&this.contains(p))I.add(new Te(this.multiplier),this.power);else if(H===R){var j=this.stripVar(p),pe=a.divide(this.clone(),j.clone()),be=pe.isConstant()?0:pe.power;I.add(j,be)}else if(H===X&&this.value===p)this.each(function(xe,_t){I.add(xe.stripVar(p),_t)});else if(H===W)this.each(function(xe){xe.toArray(p,I)});else{if(this.contains(p))throw new ht("Cannot convert to array! Exiting");I.add(this.clone(),0)}I=I.arr;for(var He=0;He<I.length;He++)I[He]||(I[He]=new Te(0));return I},hasFunc:function(p){var I=this.group===G||this.group===P;if(I&&!p||I&&this.contains(p))return!0;if(this.symbols){for(var H in this.symbols)if(this.symbols[H].hasFunc(p))return!0}return!1},sub:function(p,I){p=$t(p)?p.clone():a.parse(p),I=$t(I)?I.clone():a.parse(I),(p.group===T||p.group===S)&&dt("Cannot substitute a number. Must be a variable");var H=!1,j=p.multiplier.equals(1),pe=this.multiplier.clone(),be;if(this.value===p.value&&(this.group!==X&&p.group!==X||this.group===X&&p.group===X))(j||p.multiplier.equals(this.multiplier))&&(p.isLinear()?be=I:p.power.equals(this.power)&&(be=I,H=!0),p.multiplier.equals(this.multiplier)&&(pe=new an(1)));else if(this.group===R||this.previousGroup===R)be=new Te(1),this.each(function(hn){var Rn=a.parse(hn.sub(p,I));be=a.multiply(be,Rn)});else if(this.isComposite()){var He=this.clone();if(p.isComposite()&&He.isComposite()&&He.isLinear()&&p.isLinear()){var xe=function(hn,Rn){for(var wn in hn.symbols){var jt=hn.symbols[wn];if(jt.isComposite()&&xe(jt,Rn)||jt.equals(Rn))return!0}return!1};for(var _t in p.symbols)if(!xe(He,p.symbols[_t]))return He.clone();be=a.add(a.subtract(He.clone(),p),I)}else be=new Te(0),He.each(function(hn){be=a.add(be,hn.sub(p,I))})}else if(this.group===P)be=a.parse(this.value).sub(p,I);else if(this.group===G){for(var Bt=[],kt=0;kt<this.args.length;kt++){var bn=this.args[kt];$t(bn)||(bn=a.parse(bn)),Bt.push(bn.sub(p,I))}be=a.symfunction(this.fname,Bt)}if(be){if(!H){var en=this.group===P?this.power.sub(p,I):a.parse(this.power);be=a.pow(be,en)}return be.multiplier=be.multiplier.multiply(pe),be}return this.clone()},isMonomial:function(){if(this.group===k)return!0;if(this.group===R){for(var p in this.symbols)if(this.symbols[p].group!==k)return!1}else return!1;return!0},isPi:function(){return this.group===k&&this.value==="pi"},sign:function(){return this.multiplier.sign()},isE:function(){return this.value==="e"},isSQRT:function(){return this.fname===se},isConstant:function(p,I){if(I&&this.group===R){for(var H in this.symbols)if(this.symbols[H].isConstant(!0))return!0}if(p==="functions"&&this.isComposite()){var j=!0;return this.each(function(be){be.isConstant(p,I)||(j=!1)},!0),j}if(p==="all"&&(this.isPi()||this.isE()))return!0;if(p&&this.group===G){for(var pe=0;pe<this.args.length;pe++)if(!this.args[pe].isConstant(p))return!1;return!0}return p?Pn(this):this.value===te},isImaginary:function(){if(this.imaginary)return!0;if(this.symbols){for(var p in this.symbols)if(this.symbols[p].isImaginary())return!0}return!1},realpart:function(){if(this.isConstant())return this.clone();if(this.imaginary)return new Te(0);if(this.isComposite()){var p=new Te(0);return this.each(function(I){p=a.add(p,I.realpart())}),p}else if(this.isImaginary())return new Te(0);return this.clone()},imagpart:function(){if(this.group===k&&this.isImaginary())return new Te(this.multiplier);if(this.isComposite()){var p=new Te(0);return this.each(function(I){p=a.add(p,I.imagpart())}),p}return this.group===R?this.stripVar(_.IMAGINARY):new Te(0)},isInteger:function(){return this.isConstant()&&this.multiplier.isInteger()},isLinear:function(p){if(p){if(this.isConstant())return!0;if(this.group===k)return this.value===p?this.power.equals(1):!0;if(this.isComposite()&&this.power.equals(1)){for(var I in this.symbols)if(!this.symbols[I].isLinear(p))return!1;return!0}return this.group===R&&this.symbols[p]?this.symbols[p].isLinear(p):!1}else return this.power.equals(1)},containsFunction:function(p){if(typeof p=="string"&&(p=[p]),this.group===G&&p.indexOf(this.fname)!==-1)return!0;if(this.symbols){for(var I in this.symbols)if(this.symbols[I].containsFunction(p))return!0}return!1},multiplyPower:function(p){if(this.group===T&&this.multiplier.equals(1))return this;var I=this.power;if(this.group!==P&&p.group===T){var H=p.multiplier;this.group===T&&!H.isInteger()&&this.convert(S),this.power=I.equals(1)?H.clone():I.multiply(H),this.group===S&&cn(this.power)&&(this.value=Math.pow(this.value,this.power),this.toLinear(),this.convert(T))}else this.group!==P&&(I=new Te(I),this.convert(P)),this.power=a.multiply(I,p);return this},setPower:function(p,I){if(this.group===T&&this.multiplier.equals(1))return this;if(this.group===P&&!$t(p))this.group=this.previousGroup,delete this.previousGroup,this.group===T?(this.multiplier=new an(this.value),this.value=te):this.power=p;else{var H=!1;$t(p)&&(p.group===T?p=p.multiplier:H=!0);var j=H?P:S;this.power=p,this.group===T&&j&&this.convert(j,I)}return this},isInverse:function(){return this.group===P?this.power.multiplier.lessThan(0):this.power<0},clone:function(p){var I=p||new Te(0),H=["value","group","length","previousGroup","imaginary","fname","args","isInfinity","scientific"],j=H.length,pe;if(this.symbols){I.symbols={};for(var be in this.symbols)I.symbols[be]=this.symbols[be].clone()}for(pe=0;pe<j;pe++)this[H[pe]]!==void 0&&(I[H[pe]]=this[H[pe]]);return I.power=this.power.clone(),I.multiplier=this.multiplier.clone(),this.isConversion&&(I.isConversion=this.isConversion),this.isUnit&&(I.isUnit=this.isUnit),I},toUnitMultiplier:function(p){return this.multiplier.num=new c(this.multiplier.num.isNegative()&&p?-1:1),this.multiplier.den=new c(1),this},toLinear:function(){return this.power.equals(1)?this:(this.setPower(new an(1)),this)},each:function(p,I){if(!this.symbols)p.call(this,this,this.value);else for(var H in this.symbols){var j=this.symbols[H];if(j.group===X&&I)for(var pe in j.symbols)p.call(H,j.symbols[pe],pe);else p.call(this,j,H)}},valueOf:function(){return this.group===T?this.multiplier.valueOf():this.power===0?1:this.multiplier===0?0:Or(this,"decimals")},contains:function(p,I){p=String(p);var H=this.group;if(this.value===p)return!0;if(this.symbols){for(var j in this.symbols)if(this.symbols[j].contains(p,I))return!0}if(H===G||this.previousGroup===G){for(var pe=0;pe<this.args.length;pe++)if(this.args[pe].contains(p,I))return!0}return H===P&&(I&&this.power.contains(p,I)||this.value===p)?!0:this.value===p},negate:function(){return this.multiplier.negate(),(this.group===W||this.group===X)&&this.distributeMultiplier(),this},invert:function(p,I){return p||(this.multiplier=this.multiplier.invert()),$t(this.power)?this.power.negate():this.group===R&&I?this.each(function(H){return H.invert()}):this.power&&this.group!==T&&this.power.negate(),this},distributeMultiplier:function(p){var I=p?this.power.absEquals(1):this.power.equals(1);if(this.symbols&&I&&this.group!==R&&!this.multiplier.equals(1)){for(var H in this.symbols){var j=this.symbols[H];j.multiplier=j.multiplier.multiply(this.multiplier),j.distributeMultiplier()}this.toUnitMultiplier()}return this},distributeExponent:function(){if(!this.power.equals(1)){var p=this.power;for(var I in this.symbols){var H=this.symbols[I];H.group===P?H.power=a.multiply(H.power,new Te(p)):this.symbols[I].power=this.symbols[I].power.multiply(p)}this.toLinear()}return this},convert:function(p,I){if(p>G){var H=this.clone();this.symbols={},p===R?H.toUnitMultiplier():this.toUnitMultiplier(),this.group===G&&(H.args=this.args,delete this.args,delete this.fname),this.isImgSymbol&&delete this.isImgSymbol,this.toLinear(),this.symbols[H.keyForGroup(p)]=H,this.group=p,this.length=1}else if(p===P)this.group===T&&this.multiplier.equals(1)||(this.group!==P&&(this.previousGroup=this.group),this.group===T?(this.value=this.multiplier.num.toString(),this.toUnitMultiplier()):this.value=Or(this,"hash"),this.group=P);else if(p===T){var j=this.multiplier.toDecimal();this.symbols&&(this.symbols=void 0),new Te(this.group===S?j*Math.pow(this.value,this.power):j).clone(this)}else p===S&&this.group===T&&(this.value=I?this.multiplier.num.toString():Math.abs(this.multiplier.num.toString()),this.toUnitMultiplier(!I),this.group=S);return this},insert:function(p,I){if($t(p)||dt("Object "+p+" is not of type Symbol!"),this.symbols){var H=this.group;if(H>G){var j=p.keyForGroup(H),pe=j in this.symbols?this.symbols[j]:!1;if(I==="add"){var be=j;pe?(this.symbols[be]=a.add(pe,p),this.symbols[be].multiplier.equals(0)&&(delete this.symbols[be],this.length--,this.length===0&&(this.convert(T),this.multiplier=new an(0)))):(this.symbols[j]=p,this.length++)}else p.group===S&&cn(p.power)&&p.convert(T),p.group!==P?(this.multiplier=this.multiplier.multiply(p.multiplier),p.toUnitMultiplier()):(p.parens=p.multiplier.lessThan(0),this.multiplier=this.multiplier.multiply(p.multiplier.clone().abs()),p.toUnitMultiplier(!0)),pe&&(p=a.multiply(Bn(this.symbols,j),p),p.isConstant()&&(this.multiplier=this.multiplier.multiply(p.multiplier),p=new Te(1)),this.length--),p.isOne(!0)?p.multiplier.lessThan(0)&&this.negate():(this.symbols[j]=p,this.length++);this.length===0&&this.convert(T),(this.group===W||this.group===R)&&this.updateHash()}}return this},attach:function(p){if(Jn(p)){for(var I=0;I<p.length;I++)this.insert(p[I],"add");return this}return this.insert(p,"add")},combine:function(p){if(Jn(p)){for(var I=0;I<p.length;I++)this.insert(p[I],"multiply");return this}return this.insert(p,"multiply")},updateHash:function(){if(this.group!==T)if(this.group===G){for(var p="",I=this.args,H=this.fname===ie,j=0;j<I.length;j++)p+=(j===0?"":",")+Or(I[j]);var pe=H?"":this.fname;this.value=pe+(H?p:lr(p))}else this.group===k||this.group===X||(this.value=Or(this,"hash"))},keyForGroup:function(p){var I=this.group,H;if(I===T)H=this.value;else if(I===k||I===S)p===X?H=this.power.toDecimal():H=this.value;else if(I===G)p===X?H=this.power.toDecimal():H=Or(this,"hash");else{if(I===X)return p===R?H=Or(this,"hash"):p===W?this.power.equals(1)?H=this.value:H=lr(Or(this,"hash"))+_.POWER_OPERATOR+this.power.toDecimal():p===X?H=this.power.toString():H=this.value,H;I===W?(p===W&&(H=Or(this,"hash")),p===X?H=this.power.toDecimal():H=this.value):I===R?p===X?H=this.power.toDecimal():H=Or(this,"hash"):I===P&&(p===X?H=Or(this.power):H=Or(this,"hash"))}return H},collectSymbols:function(p,I,H,j){var pe=[];if(!this.symbols)pe.push(this);else for(var be in this.symbols){var He=this.symbols[be];j&&(He.group===X||He.group===W)?pe=pe.concat(He.collectSymbols()):pe.push(p?p(He,I):He)}return H===null&&(H=void 0),pe.sort(H)},latex:function(p){return _r.latex(this,p)},text:function(p){return Or(this,p)},isOne:function(p){var I=p?"absEquals":"equals";return this.group===T?this.multiplier[I](1):this.power.equals(0)},isComposite:function(){var p=this.group,I=this.previousGroup;return p===W||p===X||I===X||I===W},isCombination:function(){var p=this.group,I=this.previousGroup;return p===R||I===R},lessThan:function(p){return this.multiplier.lessThan(p)},greaterThan:function(p){return $t(p)||(p=new Te(p)),!this.isConstant(!0)||!p.isConstant(!0)?!1:this.multiplier.greaterThan(p.multiplier)},getDenom:function(){var p,I;if(I=this.clone(),this.group===R&&this.power.lessThan(0)&&(I=a.expand(I)),I.power.lessThan(0)||I.group===P&&I.power.multiplier.lessThan(0)){var H=a.parse(I.multiplier.den);p=I.toUnitMultiplier(),p.power.negate(),p=a.multiply(H,p)}else if(I.group===R){p=a.parse(I.multiplier.den);for(var j in I.symbols){var pe=I.symbols[j];(pe.power<0||pe.group===P&&pe.power.multiplier.lessThan(0))&&(p=a.multiply(p,I.symbols[j].clone().invert()))}}else p=a.parse(I.multiplier.den);return p},getNum:function(){var p,I;return I=this.clone(),I.group===R&&I.power.lessThan(0)&&(I=a.expand(I)),I.power.greaterThan(0)&&I.group!==R||I.group===P&&I.power.multiplier.greaterThan(0)?p=a.multiply(a.parse(I.multiplier.num),I.toUnitMultiplier()):I.group===R?(p=a.parse(I.multiplier.num),I.each(function(H){(H.power>0||H.group===P&&H.power.multiplier>0)&&(p=a.multiply(p,H.clone()))})):p=a.parse(I.multiplier.num),p},toString:function(){return this.text()}};function Di(){var p=this,I={},H={names:[],actions:[]};function j(x,O){this.start=x,this.end=O}j.prototype.isConstant=function(){return this.start.isConstant()&&this.end.isConstant()},j.prototype.text=function(){return Or(this.start)+":"+Or(this.end)};function pe(){this.elements=[]}pe.prototype.append=function(x){this.elements.push(x)},pe.prototype.getItems=function(){return this.elements},pe.prototype.toString=function(){return p.pretty_print(this.elements)},pe.create=function(x){var O=new pe;return x&&O.append(x),O};function be(x,O,me){if(this.type=O,this.value=x,me!==void 0&&(this.column=me+1),O===be.OPERATOR){var ke=Bt[x];for(var Xe in ke)this[Xe]=ke[Xe]}else O===be.FUNCTION&&(this.precedence=be.MAX_PRECEDENCE,this.leftAssoc=!1)}be.prototype.toString=function(){return this.value},be.prototype.toString=function(){return this.is_prefix?"`"+this.value:this.value},be.OPERATOR="OPERATOR",be.VARIABLE_OR_LITERAL="VARIABLE_OR_LITERAL",be.FUNCTION="FUNCTION",be.UNIT="UNIT",be.KEYWORD="KEYWORD",be.MAX_PRECEDENCE=999,this.classes={Collection:pe,Slice:j,Token:be};var He={prec:void 0,cos:function(x,O){var me,ke;return me=p.parse(Math.cos(x)*Math.cosh(O)),ke=p.parse(Math.sin(x)*Math.sinh(O)),p.subtract(me,p.multiply(ke,Te.imaginary()))},sin:function(x,O){var me,ke;return me=p.parse(Math.sin(x)*Math.cosh(O)),ke=p.parse(Math.cos(x)*Math.sinh(O)),p.subtract(me,p.multiply(ke,Te.imaginary()))},tan:function(x,O){var me,ke;return me=p.parse(Math.sin(2*x)/(Math.cos(2*x)+Math.cosh(2*O))),ke=p.parse(Math.sinh(2*O)/(Math.cos(2*x)+Math.cosh(2*O))),p.add(me,p.multiply(ke,Te.imaginary()))},sec:function(x,O){var me=this.removeDen(this.cos(x,O));return p.subtract(me[0],p.multiply(me[1],Te.imaginary()))},csc:function(x,O){var me=this.removeDen(this.sin(x,O));return p.add(me[0],p.multiply(me[1],Te.imaginary()))},cot:function(x,O){var me=this.removeDen(this.tan(x,O));return p.subtract(me[0],p.multiply(me[1],Te.imaginary()))},acos:function(x,O){var me,ke,Xe,at,vt,Rt;return me=this.fromArray([x,O]),Rt=p.pow(me.clone(),new Te(2)),ke=p.expand(Rt),Xe=p.multiply(ui(p.subtract(new Te(1),ke)),Te.imaginary()),at=p.expand(p.add(me.clone(),Xe)),vt=Rs(at),p.expand(p.multiply(Te.imaginary().negate(),vt))},asin:function(x,O){return p.subtract(p.parse("pi/2"),this.acos(x,O))},atan:function(x,O){if(x.equals(0)&&(O.equals(1)||O.equals(-1)))return p.parse(`${Te.infinity()}*${_.IMAGINARY}*${O}`);var me,ke,Xe,at;return at=He.fromArray([x,O]),me=p.expand(p.multiply(Te.imaginary(),at.clone())),ke=Rs(p.expand(p.subtract(new Te(1),me.clone()))),Xe=Rs(p.expand(p.add(new Te(1),me.clone()))),p.expand(p.multiply(p.divide(Te.imaginary(),new Te(2)),p.subtract(ke,Xe)))},asec:function(x,O){var me=this.removeDen([x,O]);return me[1].negate(),this.acos.apply(this,me)},acsc:function(x,O){var me=this.removeDen([x,O]);return me[1].negate(),this.asin.apply(this,me)},acot:function(x,O){var me=this.removeDen([x,O]);return me[1].negate(),this.atan.apply(this,me)},cosh:function(x,O){var me,ke;return me=p.parse(Math.cosh(x)*Math.cos(O)),ke=p.parse(Math.sinh(x)*Math.sin(O)),p.add(me,p.multiply(ke,Te.imaginary()))},sinh:function(x,O){var me,ke;return me=p.parse(Math.sinh(x)*Math.cos(O)),ke=p.parse(Math.cosh(x)*Math.sin(O)),p.add(me,p.multiply(ke,Te.imaginary()))},tanh:function(x,O){var me,ke;return me=p.parse(Math.sinh(2*x)/(Math.cos(2*O)+Math.cosh(2*x))),ke=p.parse(Math.sin(2*O)/(Math.cos(2*O)+Math.cosh(2*x))),p.subtract(me,p.multiply(ke,Te.imaginary()))},sech:function(x,O){var me=this.removeDen(this.cosh(x,O));return p.subtract(me[0],p.multiply(me[1],Te.imaginary()))},csch:function(x,O){var me=this.removeDen(this.sinh(x,O));return p.subtract(me[0],p.multiply(me[1],Te.imaginary()))},coth:function(x,O){var me=this.removeDen(this.tanh(x,O));return p.add(me[0],p.multiply(me[1],Te.imaginary()))},acosh:function(x,O){var me,ke,Xe;return Xe=this.fromArray([x,O]),me=ui(p.add(Xe.clone(),new Te(1))),ke=ui(p.subtract(Xe.clone(),new Te(1))),p.expand(Rs(p.add(Xe,p.expand(p.multiply(me,ke)))))},asinh:function(x,O){var me,ke;return ke=this.fromArray([x,O]),me=ui(p.add(new Te(1),p.expand(p.pow(ke.clone(),new Te(2))))),p.expand(Rs(p.add(ke,me)))},atanh:function(x,O){var me,ke,Xe;return Xe=this.fromArray([x,O]),me=Rs(p.add(Xe.clone(),new Te(1))),ke=Rs(p.subtract(new Te(1),Xe)),p.expand(p.divide(p.subtract(me,ke),new Te(2)))},asech:function(x,O){var me=this.removeDen([x,O]);return me[1].negate(),this.acosh.apply(this,me)},acsch:function(x,O){var me=this.removeDen([x,O]);return me[1].negate(),this.asinh.apply(this,me)},acoth:function(x,O){var me=this.removeDen([x,O]);return me[1].negate(),this.atanh.apply(this,me)},sqrt:function(x){var O,me,ke,Xe,at;return O=x.realpart(),me=x.imagpart(),ke=Te.hyp(O,me),Xe=p.add(O.clone(),ke),at=ui(p.multiply(new Te(2),Xe.clone())),p.add(p.divide(Xe.clone(),at.clone()),p.multiply(p.divide(me,at),Te.imaginary()))},log:function(x,O){var me,ke,Xe;return me=Rs(Te.hyp(x,O)),Xe=_.USE_BIG?Te(d.atan2(O.multiplier.toDecimal(),x.multiplier.toDecimal())):Math.atan2(O,x),ke=p.parse(Xe),p.add(me,p.multiply(Te.imaginary(),ke))},erf(x,O){return p.symfunction("erf",[x])},removeDen:function(x){var O,me,ke,Xe,at;return Jn(x)?(me=x[0],ke=x[1]):(me=x.realpart(),ke=x.imagpart()),O=Math.pow(me,2)+Math.pow(ke,2),Xe=p.parse(me/O),at=p.parse(ke/O),[Xe,at]},fromArray:function(x){return p.add(x[0],p.multiply(Te.imaginary(),x[1]))},evaluate:function(x,O){var me,ke,Xe;if(Xe=x.power.sign(),x.power=x.power.abs(),x.power.greaterThan(1)&&(x=p.expand(x)),Xe<0){var at=this.removeDen(x);me=at[0],ke=at[1]}else me=x.realpart(),ke=x.imagpart();return me.isConstant("all")&&ke.isConstant("all")?this[O].call(this,me,ke):p.symfunction(O,[x])}},xe=this.trig={cos:function(x){if(x.equals("pi")&&x.multiplier.den.equals(2))return new Te(0);if(_.PARSE2NUMBER){if(x.equals(new Te(_.PI/2)))return new Te(0);if(x.isConstant())return _.USE_BIG?new Te(d.cos(x.multiplier.toDecimal())):new Te(Math.cos(x.valueOf()));if(x.isImaginary())return He.evaluate(x,"cos")}if(x.equals(0))return new Te(1);var O,me=!1,ke=Wl(x.multiplier.toDecimal()),Xe=x.multiplier.abs();if(x.multiplier=Xe,x.isPi()&&x.isLinear())if(cn(Xe))O=new Te(B(Xe)?1:-1);else{Number(Xe.num);var at=Number(Xe.den);at===2?O=new Te(0):at===3?(O=p.parse("1/2"),me=!0):at===4?(O=p.parse("1/sqrt(2)"),me=!0):at===6?(O=p.parse("sqrt(3)/2"),me=!0):O=p.symfunction("cos",[x])}return me&&(ke===2||ke===3)&&O.negate(),O||(O=p.symfunction("cos",[x])),O},sin:function(x){if(_.PARSE2NUMBER){if(x.isConstant())return x%Math.PI===0?new Te(0):_.USE_BIG?new Te(d.sin(x.multiplier.toDecimal())):new Te(Math.sin(x.valueOf()));if(x.isImaginary())return He.evaluate(x,"sin")}if(x.equals(0))return new Te(0);var O,me=!1,ke=Wl(x.multiplier.toDecimal()),Xe=x.multiplier.sign(),at=x.multiplier.abs();if(x.multiplier=at,x.equals("pi"))O=new Te(0);else if(x.isPi()&&x.isLinear())if(cn(at))O=new Te(0);else{at.num;var vt=at.den;vt==2?(O=new Te(1),me=!0):vt==3?(O=p.parse("sqrt(3)/2"),me=!0):vt==4?(O=p.parse("1/sqrt(2)"),me=!0):vt==6?(O=p.parse("1/2"),me=!0):O=p.multiply(new Te(Xe),p.symfunction("sin",[x]))}return O||(O=p.multiply(new Te(Xe),p.symfunction("sin",[x]))),me&&(ke===3||ke===4)&&O.negate(),O},tan:function(x){if(_.PARSE2NUMBER){if(x%Math.PI===0&&x.isLinear())return new Te(0);if(x.isConstant())return _.USE_BIG?new Te(d.tan(x.multiplier.toDecimal())):new Te(Math.tan(x.valueOf()));if(x.isImaginary())return He.evaluate(x,"tan")}var O,me=!1,ke=Wl(x.multiplier.toDecimal()),Xe=x.multiplier;if(x.multiplier=Xe,x.isPi()&&x.isLinear())if(cn(Xe))O=new Te(0);else{Xe.num;var at=Xe.den;if(at==2)throw new ae("tan is undefined for "+x.toString());at==3?(O=p.parse("sqrt(3)"),me=!0):at==4?(O=new Te(1),me=!0):at==6?(O=p.parse("1/sqrt(3)"),me=!0):O=p.symfunction("tan",[x])}return O||(O=p.symfunction("tan",[x])),me&&(ke===2||ke===4)&&O.negate(),O},sec:function(x){if(_.PARSE2NUMBER)return x.isConstant()?_.USE_BIG?new Te(new d(1).dividedBy(d.cos(x.multiplier.toDecimal()))):new Te(yn.sec(x.valueOf())):x.isImaginary()?He.evaluate(x,"sec"):p.parse(Zn("1/cos({0})",x));var O,me=!1,ke=Wl(x.multiplier.toDecimal()),Xe=x.multiplier.abs();if(x.multiplier=Xe,x.isPi()&&x.isLinear())if(cn(Xe))O=new Te(B(Xe)?1:-1);else{Xe.num;var at=Xe.den;if(at==2)throw new ae("sec is undefined for "+x.toString());at==3?(O=new Te(2),me=!0):at==4?(O=p.parse("sqrt(2)"),me=!0):at==6?(O=p.parse("2/sqrt(3)"),me=!0):O=p.symfunction("sec",[x])}return me&&(ke===2||ke===3)&&O.negate(),O||(O=p.symfunction("sec",[x])),O},csc:function(x){if(_.PARSE2NUMBER)return x.isConstant()?_.USE_BIG?new Te(new d(1).dividedBy(d.sin(x.multiplier.toDecimal()))):new Te(yn.csc(x.valueOf())):x.isImaginary()?He.evaluate(x,"csc"):p.parse(Zn("1/sin({0})",x));var O,me=!1,ke=Wl(x.multiplier.toDecimal()),Xe=x.multiplier.sign(),at=x.multiplier.abs();if(x.multiplier=at,x.isPi()&&x.isLinear()){if(cn(at))throw new ae("csc is undefined for "+x.toString());at.num;var vt=at.den;vt==2?(O=new Te(1),me=!0):vt==3?(O=p.parse("2/sqrt(3)"),me=!0):vt==4?(O=p.parse("sqrt(2)"),me=!0):vt==6?(O=new Te(2),me=!0):O=p.multiply(new Te(Xe),p.symfunction("csc",[x]))}return O||(O=p.multiply(new Te(Xe),p.symfunction("csc",[x]))),me&&(ke===3||ke===4)&&O.negate(),O},cot:function(x){if(_.PARSE2NUMBER)return x%(Math.PI/2)===0?new Te(0):x.isConstant()?_.USE_BIG?new Te(new d(1).dividedBy(d.tan(x.multiplier.toDecimal()))):new Te(yn.cot(x.valueOf())):x.isImaginary()?He.evaluate(x,"cot"):p.parse(Zn("1/tan({0})",x));var O,me=!1,ke=Wl(x.multiplier.toDecimal()),Xe=x.multiplier;if(x.multiplier=Xe,x.isPi()&&x.isLinear()){if(cn(Xe))throw new ae("cot is undefined for "+x.toString());Xe.num;var at=Xe.den;at==2?O=new Te(0):at==3?(O=p.parse("1/sqrt(3)"),me=!0):at==4?(O=new Te(1),me=!0):at==6?(O=p.parse("sqrt(3)"),me=!0):O=p.symfunction("cot",[x])}return O||(O=p.symfunction("cot",[x])),me&&(ke===2||ke===4)&&O.negate(),O},acos:function(x){if(_.PARSE2NUMBER){if(x.isConstant()){if(x.gt(1)||x.lt(-1)){var O=x.toString();return Eo(z(`pi/2-asin(${O})`))}return _.USE_BIG?new Te(d.acos(x.multiplier.toDecimal())):new Te(Math.acos(x.valueOf()))}if(x.isImaginary())return He.evaluate(x,"acos")}return p.symfunction("acos",arguments)},asin:function(x){if(_.PARSE2NUMBER){if(x.isConstant()){if(x.gt(1)||x.lt(-1)){var O=_.IMAGINARY,me=x.multiplier.toDecimal();return Eo(z(`${O}*log(sqrt(1-${me}^2)-${O}*${me})`))}return _.USE_BIG?new Te(d.asin(x.multiplier.toDecimal())):new Te(Math.asin(x.valueOf()))}if(x.isImaginary())return He.evaluate(x,"asin")}return p.symfunction("asin",arguments)},atan:function(x){var O;if(x.equals(0))O=new Te(0);else{if(_.PARSE2NUMBER)return x.isConstant()?_.USE_BIG?new Te(d.atan(x.multiplier.toDecimal())):new Te(Math.atan(x.valueOf())):x.isImaginary()?He.evaluate(x,"atan"):p.symfunction("atan",arguments);x.equals(-1)?O=p.parse("-pi/4"):O=p.symfunction("atan",arguments)}return O},asec:function(x){if(_.PARSE2NUMBER){if(x.equals(0))throw new Me("Input is out of the domain of sec!");if(x.isConstant())return xe.acos(x.invert());if(x.isImaginary())return He.evaluate(x,"asec")}return p.symfunction("asec",arguments)},acsc:function(x){if(_.PARSE2NUMBER){if(x.isConstant())return xe.asin(x.invert());if(x.isImaginary())return He.evaluate(x,"acsc")}return p.symfunction("acsc",arguments)},acot:function(x){if(_.PARSE2NUMBER){if(x.isConstant())return new p.add(p.parse("pi/2"),xe.atan(x).negate());if(x.isImaginary())return He.evaluate(x,"acot")}return p.symfunction("acot",arguments)},atan2:function(x,O){if(x.equals(0)&&O.equals(0))throw new ae("atan2 is undefined for 0, 0");return _.PARSE2NUMBER&&x.isConstant()&&O.isConstant()?new Te(Math.atan2(x,O)):p.symfunction("atan2",arguments)}},_t=this.trigh={cosh:function(x){if(_.PARSE2NUMBER){if(x.isConstant())return new Te(Math.cosh(x.valueOf()));if(x.isImaginary())return He.evaluate(x,"cosh")}return p.symfunction("cosh",arguments)},sinh:function(x){if(_.PARSE2NUMBER){if(x.isConstant())return new Te(Math.sinh(x.valueOf()));if(x.isImaginary())return He.evaluate(x,"sinh")}return p.symfunction("sinh",arguments)},tanh:function(x){if(_.PARSE2NUMBER){if(x.isConstant())return new Te(Math.tanh(x.valueOf()));if(x.isImaginary())return He.evaluate(x,"tanh")}return p.symfunction("tanh",arguments)},sech:function(x){return _.PARSE2NUMBER?x.isConstant()?new Te(Math.sech(x.valueOf())):x.isImaginary()?He.evaluate(x,"sech"):p.parse(Zn("1/cosh({0})",x)):p.symfunction("sech",arguments)},csch:function(x){return _.PARSE2NUMBER?x.isConstant()?new Te(Math.csch(x.valueOf())):x.isImaginary()?He.evaluate(x,"csch"):p.parse(Zn("1/sinh({0})",x)):p.symfunction("csch",arguments)},coth:function(x){return _.PARSE2NUMBER?x.isConstant()?new Te(Math.coth(x.valueOf())):x.isImaginary()?He.evaluate(x,"coth"):p.parse(Zn("1/tanh({0})",x)):p.symfunction("coth",arguments)},acosh:function(x){var O;return _.PARSE2NUMBER&&x.isImaginary()?O=He.evaluate(x,"acosh"):_.PARSE2NUMBER?O=z(p.parse(Zn(_.LOG+"(({0})+sqrt(({0})^2-1))",x.toString()))):O=p.symfunction("acosh",arguments),O},asinh:function(x){var O;return _.PARSE2NUMBER&&x.isImaginary()?O=He.evaluate(x,"asinh"):_.PARSE2NUMBER?O=z(p.parse(Zn(_.LOG+"(({0})+sqrt(({0})^2+1))",x.toString()))):O=p.symfunction("asinh",arguments),O},atanh:function(x){var O;return _.PARSE2NUMBER&&x.isImaginary()?O=He.evaluate(x,"atanh"):_.PARSE2NUMBER?O=z(p.parse(Zn("(1/2)*"+_.LOG+"((1+({0}))/(1-({0})))",x.toString()))):O=p.symfunction("atanh",arguments),O},asech:function(x){var O;return _.PARSE2NUMBER&&x.isImaginary()?O=He.evaluate(x,"asech"):_.PARSE2NUMBER?O=z(Rs(p.add(x.clone().invert(),ui(p.subtract(p.pow(x,new Te(-2)),new Te(1)))))):O=p.symfunction("asech",arguments),O},acsch:function(x){var O;return _.PARSE2NUMBER&&x.isImaginary()?O=He.evaluate(x,"acsch"):_.PARSE2NUMBER?O=z(p.parse(Zn(_.LOG+"((1+sqrt(1+({0})^2))/({0}))",x.toString()))):O=p.symfunction("acsch",arguments),O},acoth:function(x){var O;return _.PARSE2NUMBER&&x.isImaginary()?O=He.evaluate(x,"acoth"):_.PARSE2NUMBER?x.equals(1)?O=Te.infinity():O=z(p.divide(Rs(p.divide(p.add(x.clone(),new Te(1)),p.subtract(x.clone(),new Te(1)))),new Te(2))):O=p.symfunction("acoth",arguments),O}};this.units={};var Bt={"\\":{precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(x){return x}},"!!":{precedence:7,operator:"!!",action:"dfactorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(x){return p.symfunction(_.DOUBLEFACTORIAL,[x])}},"!":{precedence:7,operator:"!",action:"factorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(x){return qr(x)}},"^":{precedence:6,operator:"^",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"**":{precedence:6,operator:"**",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"%":{precedence:4,operator:"%",action:"percent",prefix:!1,postfix:!0,leftAssoc:!0,overloaded:!0,overloadAction:"mod",overloadLeftAssoc:!1,operation:function(x){return p.divide(x,new Te(100))}},"*":{precedence:4,operator:"*",action:"multiply",prefix:!1,postfix:!1,leftAssoc:!1},"/":{precedence:4,operator:"/",action:"divide",prefix:!1,postfix:!1,leftAssoc:!1},"+":{precedence:3,operator:"+",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(x){return x}},plus:{precedence:3,operator:"plus",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(x){return x}},"-":{precedence:3,operator:"-",action:"subtract",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(x){return x.negate()}},"=":{precedence:2,operator:"=",action:"equals",prefix:!1,postfix:!1,leftAssoc:!1},"==":{precedence:1,operator:"==",action:"eq",prefix:!1,postfix:!1,leftAssoc:!1},"<":{precedence:1,operator:"<",action:"lt",prefix:!1,postfix:!1,leftAssoc:!1},"<=":{precedence:1,operator:"<=",action:"lte",prefix:!1,postfix:!1,leftAssoc:!1},">":{precedence:1,operator:">",action:"gt",prefix:!1,postfix:!1,leftAssoc:!1},"=>":{precedence:1,operator:"=>",action:"gte",prefix:!1,postfix:!1,leftAssoc:!1},",":{precedence:0,operator:",",action:"comma",prefix:!1,postfix:!1,leftAssoc:!1},":":{precedence:0,operator:",",action:"assign",prefix:!1,postfix:!1,leftAssoc:!1,vectorFn:"slice"},":=":{precedence:0,operator:",",action:"function_assign",prefix:!1,postfix:!1,leftAssoc:!0}},kt={"(":{type:"round",id:1,is_open:!0,is_close:!1},")":{type:"round",id:2,is_open:!1,is_close:!0},"[":{type:"square",id:3,is_open:!0,is_close:!1,maps_to:"vector"},"]":{type:"square",id:4,is_open:!1,is_close:!0},"{":{type:"curly",id:5,is_open:!0,is_close:!1,maps_to:"Set"},"}":{type:"curly",id:6,is_open:!1,is_close:!0}},bn=this.functions={cos:[xe.cos,1],sin:[xe.sin,1],tan:[xe.tan,1],sec:[xe.sec,1],csc:[xe.csc,1],cot:[xe.cot,1],acos:[xe.acos,1],asin:[xe.asin,1],atan:[xe.atan,1],arccos:[xe.acos,1],arcsin:[xe.asin,1],arctan:[xe.atan,1],asec:[xe.asec,1],acsc:[xe.acsc,1],acot:[xe.acot,1],atan2:[xe.atan2,2],acoth:[_t.acoth,1],asech:[_t.asech,1],acsch:[_t.acsch,1],sinh:[_t.sinh,1],cosh:[_t.cosh,1],tanh:[_t.tanh,1],asinh:[_t.asinh,1],sech:[_t.sech,1],csch:[_t.csch,1],coth:[_t.coth,1],acosh:[_t.acosh,1],atanh:[_t.atanh,1],log10:[,1],exp:[gi,1],radians:[Bi,1],degrees:[ji,1],min:[Ys,-1],max:[va,-1],erf:[,1],floor:[,1],ceil:[,1],trunc:[,1],Si:[,1],step:[,1],rect:[,1],sinc:[Xn,1],tri:[,1],sign:[Hs,1],Ci:[,1],Ei:[,1],Shi:[,1],Chi:[,1],Li:[,1],fib:[,1],fact:[qr,1],factorial:[qr,1],continued_fraction:[fr,[1,2]],dfactorial:[,1],gamma_incomplete:[,[1,2]],round:[Qo,[1,2]],scientific:[ii,[1,2]],mod:[ai,2],pfactor:[To,1],vector:[Oa,-1],matrix:[Ra,-1],Set:[qh,-1],imatrix:[Vh,-1],parens:[jn,-1],sqrt:[ui,1],cbrt:[tr,1],nthroot:[Ei,2],log:[Rs,[1,2]],expand:[Ou,1],abs:[sr,1],invert:[Yl,1],determinant:[La,1],size:[Z0,1],transpose:[Da,1],dot:[c0,2],cross:[Oc,2],vecget:[Gh,2],vecset:[Mc,3],vectrim:[ld,[1,2]],matget:[_l,3],matset:[Nc,4],matgetrow:[Er,2],matsetrow:[Ru,3],matgetcol:[u0,2],matsetcol:[J0,3],rationalize:[cs,1],IF:[so,3],is_in:[ps,2],realpart:[ci,1],imagpart:[Xs,1],conjugate:[Mo,1],arg:[rn,1],polarform:[Pi,1],rectform:[ts,1],sort:[ei,[1,2]],integer_part:[,1],union:[Rc,2],contains:[Lu,2],intersection:[Lc,2],difference:[Q0,2],intersects:[eu,2],is_subset:[h0,2],print:[Kl,-1]};this.error=dt;var en=function(x){for(var O=_.FUNCTION_MODULES,me=O.length,ke=0;ke<me;ke++){var Xe=O[ke];if(x in Xe)return Xe[x]}dt("The function "+x+" is undefined!")};this.override=function(x,O){I[x]||(I[x]=[]),I[x].push(this[x]),this[x]=O},this.restore=function(x){this[x]&&(this[x]=I[x].pop())},this.extend=function(x,O,me){var ke=this,Xe=this[x];if(typeof Xe=="function"&&typeof O=="function"){var at=this[x];this[x]=function(vt,Rt){return $t(vt)&&$t(Rt)&&!me?at.call(ke,vt,Rt):O.call(ke,vt,Rt,at)}}},this.symfunction=function(x,O){var me=new Te(x);return me.group=G,typeof O=="object"&&(O=[].slice.call(O)),me.args=O,me.fname=x===ie?"":x,me.updateHash(),me},this.callfunction=function(x,O,me){var ke=bn[x];ke||dt("Nerdamer currently does not support the function "+x);var Xe=ke[1]||me,at=ke[0],vt;if(O instanceof Array||(O=O!==void 0?[O]:[]),Xe!==-1){var Rt=Jn(Xe),Jt=Rt?Xe[0]:Xe,tn=Rt?Xe[1]:Xe,_n=O.length,Pt=x+" requires a {0} of {1} arguments. {2} provided!";_n<Jt&&dt(Zn(Pt,"minimum",Jt,_n)),_n>tn&&dt(Zn(Pt,"maximum",tn,_n))}var Qn=A(O);return at?vt=at.apply(ke[2],O):(at=en(x),_.PARSE2NUMBER&&Qn?vt=jl(at.apply(at,O)):vt=p.symfunction(x,O)),vt},this.operator_filter_regex=(function(){var x="^\\"+Object.keys(Bt).filter(function(O){if(O.length===1)return O}).join("\\");return new RegExp("(["+x+"])\\s+(["+x+"])")})(),this.setOperator=function(x,O,me){var ke=x.operator;if(Bt[ke]=x,O&&(this[x.action]=O),p[ke]=x.operation,!x.action&&!(x.prefix||x.postif)&&(x.action=ke),me==="over"||me==="under"){var Xe=x.precedence;for(var at in Bt){var vt=Bt[at],Rt=me==="over"?vt.precedence>=Xe:vt.precedence>Xe;Rt&&vt.precedence++}}},this.getOperator=function(x){return Bt[x]},this.aliasOperator=function(x,O){var me={},ke=Bt[x];for(var Xe in ke)me[Xe]=ke[Xe];me.operator=O,this.setOperator(me)},this.getOperators=function(){return Bt},this.getBrackets=function(){return kt};var hn=function(x){x=String(x);for(var O=0;O<H.actions.length;O++)x=H.actions[O].call(this,x);for(x=x.replace(/\s+/g," "),/e/gi.test(x)&&(x=x.replace(/\-*\d+\.*\d*e\+?\-?\d+/gi,function(ke){return Lt(ke)})),x=x.replace(_.IMPLIED_MULTIPLICATION_REGEX,function(){var ke=arguments[4],Xe=arguments[1],at=arguments[2],vt=arguments[3],Rt=ke.charAt(vt),Jt="",tn="*";return Rt.match(/[\+\-\/\*]/)||(Jt=ke.charAt(vt-1)),Jt.match(/[a-z]/i)&&(tn=""),Xe+tn+at}).replace(/([a-z0-9_]+)/gi,function(ke,Xe){return _.USE_MULTICHARACTER_VARS===!1&&!(Xe in bn)&&isNaN(Xe)?Xe.split("").join("*"):Xe}).replace(/\)\(/g,")*(")||"0";;){var me=x;if(x=x.replace(/([a-z0-9_]+)(\()|(\))([a-z0-9]+)/gi,function(ke,Xe,at,vt,Rt){var Jt=Xe||vt,tn=at||Rt;return Jt in bn?Jt+tn:Jt+"*"+tn}),me===x)break}return x};this.initConstants=function(){this.CONSTANTS={E:new Te(_.E),PI:new Te(_.PI)}},this.pretty_print=function(x){if(Array.isArray(x)){var O=x.map(me=>p.pretty_print(me)).join(", ");return x.type==="vector"?"vector<"+O+">":"("+O+")"}return x.toString()},this.peekers={pre_operator:[],post_operator:[],pre_function:[],post_function:[]},this.callPeekers=function(x){if(_.callPeekers)for(var O=this.peekers[x],me=as(arguments).slice(1).map(Ai),ke=0;ke<O.length;ke++)O[ke].apply(null,me)},this.tokenize=function(x){x=String(x),x=x.trim().replace(/\s+/g," ");for(var O in kt){var me=new RegExp(kt[O].is_close?"\\s+\\"+O:"\\"+O+"\\s+","g");x=x.replace(me,O)}for(var ke=0,Xe=x.length,at=0,vt=[],Rt=[vt],Jt=Rt[0],tn=0,_n=[],Pt=!1,Qn=" ",Gn="",er=",",ur="-",Cr="*",Wr=function(Dr,gs){var ye=[];Dr!==void 0&&(ye.type=Dr),ye.column=gs,Rt.push(ye),Jt.push(ye),Jt=ye,tn++},un=function(){Rt.pop(),Jt=Rt[--tn]},Hn=function(Dr){Dr=Dr!==void 0?Dr:ke;for(var gs=Dr+1;x.charAt(gs++)in Bt;);return x.substring(Dr,gs-1)},Fr=function(Dr){for(var gs=ke-Dr.length,ye=[],Ni=Dr.charAt(0),hs=1,El=Dr.length;hs<El;hs++){var po=Dr.charAt(hs),xo=Ni+po;xo in Bt?Ni=xo:(ye.push(new be(Ni,be.OPERATOR,gs+hs)),Ni=po)}return ye.push(new be(Ni,be.OPERATOR,gs+hs)),ye},mr=function(Dr,gs){gs===void 0&&(gs=x.substring(at,Dr)),gs in p.units?Jt.push(new be(gs,be.UNIT,at)):gs!==""&&Jt.push(new be(gs,be.VARIABLE_OR_LITERAL,at))},ti=function(Dr){Jt.push(new be(Dr,be.FUNCTION,at))},$i=function(Dr){at=Dr+1},si=function(){at=at+jr.length-2,ke=at-1};ke<Xe;ke++){var hi=x.charAt(ke);if(hi in Bt){mr(ke);var oi=Jt[0]&&et(Jt[0]),Ii=oi&&hi===Cr;Pt&&at<ke&&!(hi===er||Ii)&&(Pt=!1,un()),$i(ke+1);var jr=Hn(ke);si(),Jt.push.apply(Jt,Fr(jr))}else if(hi in kt){var Xi=kt[hi];if(Xi.is_open){_n.push([Xi,at]);var Es=x.substring(at,ke);Es in bn?ti(Es):Es!==""&&Jt.push(new be(Es,be.VARIABLE_OR_LITERAL,at)),Wr(Xi.maps_to,ke)}else if(Xi.is_close){var Ls=_n.pop();if(Ls){if(Ls[0].id!==Xi.id-1)throw new mt("Parity error")}else throw new mt("Missing open bracket for bracket at: "+(ke+1));mr(ke),un()}$i(ke)}else if(hi===Qn){var Mi=x.substring(at,ke),Ks=x.charAt(ke+1);if(Pt){if(Mi in Bt)Jt.push(new be(Mi,be.OPERATOR,ke));else{mr(void 0,Mi),un();var wo=Ks in Bt;(wo&&Bt[Ks].value===ur||!wo)&&Jt.push(new be(Cr,be.OPERATOR,ke))}Pt=!1}else{var Es=x.substring(at,ke);if(Es in bn)Pt=!0,ti(Es),Wr();else if(Es in Bt)Jt.push(new be(Es,be.OPERATOR,ke));else{mr(void 0,Es);var Ks=x.charAt(ke+1);Mi!==Gn&&Ks!==Gn&&!(Mi in Bt)&&!(Ks in Bt)&&Jt.push(new be(Cr,be.OPERATOR,ke))}}$i(ke)}}if(_n.length){var Ds=_n.pop();throw new mt("Missing closed bracket for bracket at "+(Ds[1]+1))}return mr(ke),vt},this.toRPN=function(x){var O=x.type,me=x.length,ke,Xe=[],at=[],vt=[],Rt=function(Cr,Wr){for(;Cr.length;)Wr.push(Cr.pop())};for(ke=0;ke<me;ke++){var Jt=x[ke];if(Jt.type!==be.OPERATOR)break;if(!Jt.prefix)throw new he("Not a prefix operator");Jt.is_prefix=!0,at.push(Jt)}for(;ke<me;ke++){var tn=x[ke];if(tn.type===be.OPERATOR){var _n=tn;if(_n.overloaded){var Pt=x[ke+1];Pt&&Pt.type===be.VARIABLE_OR_LITERAL&&(_n.postfix=!1,_n.action=_n.overloadAction,_n.leftAssoc=_n.overloadLeftAssoc)}for(;at.length;){var Qn=at[at.length-1];if(!(Qn.precedence>_n.precedence||!_n.leftAssoc&&Qn.precedence===_n.precedence))break;Xe.push(at.pop())}if((O==="vector"||O==="set")&&"vectorFn"in _n&&(_n.action=_n.vectorFn),_n.postfix){var Gn=x[ke-1];if(Gn){if(Gn.type===be.OPERATOR&&!Gn.postfix)throw new he("Unexpected prefix operator '"+Gn.value+"'! at "+Gn.column)}else throw new he("Unexpected prefix operator '"+tn.value+"'! at "+tn.column)}else do{var Pt=x[ke+1],er=Pt?Pt.type===be.OPERATOR:!1;if(er){if(!Pt.prefix)throw new he("A prefix operator was expected at "+Pt.column);Pt.is_prefix=!0,vt.push(Pt),ke++}}while(er);for(_n.is_prefix?vt.push(_n):at.push(_n);vt.length&&(_n.leftAssoc||!_n.leftAssoc&&vt[vt.length-1].precedence>=_n.precedence);)at.push(vt.pop())}else if(tn.type===be.VARIABLE_OR_LITERAL){Xe.length===0&&Rt(vt,at),Xe.push(tn);var ur=at[at.length-1];(!ur||!ur.leftAssoc)&&Rt(vt,Xe)}else tn.type===be.FUNCTION?at.push(tn):tn.type===be.UNIT&&Xe.push(tn);Array.isArray(tn)&&(Xe.push(this.toRPN(tn)),tn.type&&Xe.push(new be(tn.type,be.FUNCTION,tn.column)))}return Rt(at,Xe),Rt(vt,Xe),Xe},this.parseRPN=function(x,O){try{O=O||{};for(var me in O)O[me]=p.parse(O[me],{});_.PARSE2NUMBER&&("e"in O||(O.e=new Te(_.E)),"pi"in O||(O.pi=new Te(_.PI)));for(var ke=[],Xe=0,at=x.length;Xe<at;Xe++){var vt=x[Xe];if(Array.isArray(vt)&&(vt=this.parseRPN(vt,O)),vt)if(vt.type===be.OPERATOR)if(vt.is_prefix||vt.postfix)ke.push(vt.operation(ke.pop()));else{var Rt=ke.pop(),Jt=ke.pop();if(typeof Jt>"u")throw new he(vt+" is not a valid postfix operator at "+vt.column);var tn=vt.action==="comma";Jt instanceof cr&&!tn&&(Jt=Gr.fromSet(Jt)),Rt instanceof cr&&!tn&&(Rt=Gr.fromSet(Rt)),this.callPeekers("pre_operator",Jt,Rt,vt);var _n=p[vt.action](Jt,Rt);this.callPeekers("post_operator",_n,Jt,Rt,vt),ke.push(_n)}else if(vt.type===be.FUNCTION){var Pt=ke.pop(),Qn=Pt.parent;Pt instanceof pe||(Pt=pe.create(Pt));var Gn=vt.value,er=Pt.getItems();this.callPeekers("pre_function",Gn,er);var ur=p.callfunction(Gn,er);this.callPeekers("post_function",ur,Gn,er);var Cr=ke[ke.length-1],Wr=x[Xe+1],un=Wr&&Wr.type===be.OPERATOR&&Wr.value===",";if(!un&&ur instanceof Gr&&Cr&&Cr.elements&&!(Cr instanceof pe)){var Hn=ke.pop(),Fr=ur.elements[0];if(!Fr.isConstant())Hn.getter=Fr,ke.push(Hn),ke.push(ur);else if(Fr instanceof j)ke.push(Gr.fromArray(Hn.elements.slice(Fr.start,Fr.end)));else{var mr=Number(Fr),ti=Hn.elements.length;if(mr<0&&(mr=ti+mr),mr<0||mr>=ti)throw new Vt("Index out of range "+(vt.column+1));var $i=Hn.elements[mr];Hn.getter=mr,$i.parent=Hn,ke.push($i)}}else Qn&&(ur.parent=Qn),ke.push(ur)}else{var si,hi=vt.value;hi in _.ALIASES?vt=p.parse(_.ALIASES[vt]):vt.type===be.VARIABLE_OR_LITERAL?vt=new Te(hi):vt.type===be.UNIT&&(vt=new Te(hi),vt.isUnit=!0),hi in p.CONSTANTS?(si=vt,vt=new Te(p.CONSTANTS[hi])):hi in O&&hi!==O[hi].toString()?(si=vt,vt=O[hi].clone()):hi in Ue&&(si=vt,vt=Ue[hi].clone()),si&&(vt.subbed=si),ke.push(vt)}}var oi=ke[0];if(["undefined","string","number"].indexOf(typeof oi)!==-1)throw new us("Unexpected token!");return oi}catch(jr){var Ii=[Me];throw Ii.forEach(function(Xi){if(jr instanceof Xi)throw new Xi(jr.message+": "+vt.column)}),new Ne(jr.message+": "+vt.column)}};function Rn(x){this.type=x.type,this.value=x.value,this.left=x.left,this.right=x.right}Rn.prototype.toString=function(){var x=this.left?this.left.toString()+"---":"",O=this.right?"---"+this.right.toString():"";return x+"("+this.value+")"+O},Rn.prototype.toHTML=function(x,O){x=x||0,O=typeof O>"u"?4:O;var me=function(vt){return" ".repeat(O*vt)},at="",ke=this.left?me(x+1)+`<li>
`+this.left.toHTML(x+2,O)+me(x+1)+`</li> 
`:"",Xe=this.right?me(x+1)+`<li>
`+this.right.toHTML(x+2,O)+me(x+1)+`</li>
`:"",at=me(x)+'<div class="'+this.type.toLowerCase()+'"><span>'+this.value+"</span></div>"+me(x)+`
`;return(ke||Xe)&&(at+=me(x)+`<ul>
`+ke+Xe+me(x)+`</ul>
`),at+="",at},this.tree=function(x){for(var O=[],me=0;me<x.length;me++){var ke=x[me];if(Array.isArray(ke)){ke=this.tree(ke),O.push(ke);continue}if(ke.type===be.OPERATOR)if(ke.is_prefix||ke.postfix){var Xe=ke.is_prefix?"left":"right",at=O.pop();ke=new Rn(ke),ke[Xe]=at,O.push(ke)}else ke=new Rn(ke),ke.right=O.pop(),ke.left=O.pop(),O.push(ke);else if(ke.type===be.FUNCTION){ke=new Rn(ke);var vt=O.pop();if(ke.right=vt,ke.value==="object"){var at=O[O.length-1];if(at){for(;at.right;)at=at.right;at.right=ke;continue}}O.push(ke)}else O.push(new Rn(ke))}return O[0]},this.parse=function(x,O){x=hn(x),O=O||{};var me=this.tokenize(x),ke=this.toRPN(me);return this.parseRPN(ke,O)},this.toObject=function(x){var O=function(me){for(var ke=[],Xe=0,at=me.length;Xe<at;Xe++){var vt=me[Xe],Rt=vt.value;if(vt.type===be.VARIABLE_OR_LITERAL)ke.push(new Te(Rt));else if(vt.type===be.FUNCTION){Xe++;var Jt=p.symfunction(Rt,O(me[Xe]));Jt.isConversion=!0,ke.push(Jt)}else vt.type===be.OPERATOR?ke.push(Rt):ke.push(O(vt))}return ke};return O(p.tokenize(x))};var wn=function(x){for(var O,me=0,ke=[[]],O=0,Xe=x.length;O<Xe;O++)x[O]===","?(me++,ke[me]=[]):ke[me].push(x[O]);return ke},jt=function(x){return x.replace(/^\\left\((.+)\\right\)$/g,function(O,me){return me||O})},hr=function(x){for(var O=[];x.length;){var me=x.shift(),ke=x[0],Xe=Jn(ke),at=ke==="-";if(me==="^"&&(ke==="+"?x.shift():Xe&&ke[0]==="+"&&ke.shift(),Xe&&ke.length===1&&x.unshift(x.shift()[0])),me==="^"&&(Xe&&ke[0]==="-"||at)){var vt=O.pop(),Rt=O[O.length-1],Jt="1";Rt==="*"?(O.pop(),Jt=O.pop()):Jn(Rt)&&(Jt=O.pop()),O.push(Jt,"/",vt,me),Xe?ke.shift():x.shift(),Xe&&ke.length===1&&O.push(x.shift()[0])}else O.push(me)}return O};this.toTeX=function(x,O){O=O||{};var me=O.decimals===!0?"decimals":void 0,ke=typeof x=="string"?this.toObject(x):x,Xe=[],at=typeof O.cdot>"u"?"\\cdot":O.cdot;if(ke=hr(ke),Jn(ke)){for(var vt=[],Rt,Jt,tn=0;tn<ke.length;tn++)Rt=ke[tn],ke[tn+1]==="^"?(Jt=ke[tn+2],vt.push(_r.braces(this.toTeX([Rt]))+"^"+_r.braces(this.toTeX([Jt]))),tn+=2):vt.push(Rt);ke=vt}for(var tn=0,_n=ke.length;tn<_n;tn++){var Pt=ke[tn];if(Pt==="*"&&(Pt=at),$t(Pt))if(Pt.group===G){var Qn=Pt.fname,Gn;if(Qn===se)Gn="\\sqrt"+_r.braces(this.toTeX(Pt.args));else if(Qn===Y)Gn=_r.brackets(this.toTeX(Pt.args),"abs");else if(Qn===ie)Gn=_r.brackets(this.toTeX(Pt.args),"parens");else if(Qn===_.LOG10)Gn="\\"+_.LOG10_LATEX+"\\left( "+this.toTeX(Pt.args)+"\\right)";else if(Qn==="integrate"){var er=wn(Pt.args),ur=_r.braces(this.toTeX(er[0])),Cr=this.toTeX(er[1]);Gn="\\int "+ur+"\\, d"+Cr}else if(Qn==="defint"){var er=wn(Pt.args),ur=_r.braces(this.toTeX(er[0])),Cr=this.toTeX(er[3]),Wr=this.toTeX(er[1]),un=this.toTeX(er[2]);Gn="\\int\\limits_{"+Wr+"}^{"+un+"} "+ur+"\\, d"+Cr}else if(Qn==="diff"){var er=wn(Pt.args),Cr="",ur=_r.braces(this.toTeX(er[0]));if(er.length===1){var Hn=[];for(mr=0;mr<er[0].length;mr++)er[0][mr].group===3&&Hn.push(er[0][mr].value);Hn.sort(),Cr=Hn.length>0?"\\frac{d}{d "+Hn[0]+"}":"\\frac{d}{d x}"}else er.length===2?Cr="\\frac{d}{d "+er[1]+"}":Cr="\\frac{d^{"+er[2]+"}}{d "+this.toTeX(er[1])+"^{"+er[2]+"}}";Gn=Cr+"\\left("+ur+"\\right)"}else if(Qn==="sum"||Qn==="product"){var Fr=[[],[],[],[]],mr=0,tn;for(tn=0;tn<Pt.args.length;tn++){if(Pt.args[tn]===","){mr++;continue}Fr[mr].push(Pt.args[tn])}Gn=(Qn==="sum"?"\\sum_":"\\prod_")+_r.braces(this.toTeX(Fr[1])+" = "+this.toTeX(Fr[2])),Gn+="^"+_r.braces(this.toTeX(Fr[3]))+_r.braces(this.toTeX(Fr[0]))}else if(Qn==="limit"){var ti=wn(Pt.args).map(function(si){return Array.isArray(si)?p.toTeX(si.join("")):p.toTeX(String(si))});Gn="\\lim_"+_r.braces(ti[1]+"\\to "+ti[2])+" "+_r.braces(ti[0])}else Qn===fe||Qn===Ie?Gn=this.toTeX(Pt.args)+(Qn===fe?"!":"!!"):Gn=_r.latex(Pt,me);Xe.push(Gn)}else Xe.push(_r.latex(Pt,me));else Jn(Pt)?Xe.push(_r.brackets(this.toTeX(Pt))):Pt==="/"?Xe.push(_r.frac(jt(Xe.pop()),jt(this.toTeX([ke[++tn]])))):Xe.push(Pt)}return Xe.join(" ")};function jn(x){return _.PARSE2NUMBER?x:p.symfunction("parens",[x])}function sr(x){if(x.isInfinity)return Te.infinity();if(x.multiplier.lessThan(0)&&x.multiplier.negate(),x.isImaginary()){var O=x.realpart(),me=x.imagpart();if(O.isConstant()&&me.isConstant())return ui(p.add(p.pow(O,new Te(2)),p.pow(me,new Te(2))))}else if(Pn(x)||B(x.power))return x;if(x.isComposite()){var ke=[];x.each(function(vt){ke.push(vt.multiplier)});var Xe=yn.QGCD.apply(null,ke);Xe.lessThan(0)&&(x.multiplier=x.multiplier.multiply(new an(-1)),x.distributeMultiplier())}var at=p.parse(x.multiplier);return x.toUnitMultiplier(),p.multiply(at,p.symfunction(Y,[x]))}function qr(x){var O;if(fn(x)){var me=new Gr;return x.each(function(_n,Pt){me.set(Pt-1,qr(_n))}),me}if(Ge(x)){var ke=new xn;return x.each(function(_n,Pt,Qn){ke.set(Pt,Qn,qr(_n))}),ke}if(_.PARSE2NUMBER&&x.isConstant())return cn(x)?O=yn.bigfactorial(x):O=yn.gamma(x.multiplier.add(new an(1)).toDecimal()),O=jl(O),O;if(x.isConstant()){var Xe=x.getDenom();if(Xe.equals(2)){var at=x.getNum(),vt,Rt,Jt,tn;return x.multiplier.isNegative()?(tn=p.subtract(at.negate(),new Te(1)).multiplier.divide(new an(2)),vt=p.pow(new Te(-4),new Te(tn)).multiplier.multiply(yn.bigfactorial(tn)),Rt=yn.bigfactorial(new an(2).multiply(tn))):(tn=p.add(at,new Te(1)).multiplier.divide(new an(2)),vt=yn.bigfactorial(new an(2).multiply(tn)),Rt=p.pow(new Te(4),new Te(tn)).multiplier.multiply(yn.bigfactorial(tn))),Jt=vt.divide(Rt),p.multiply(p.parse("sqrt(pi)"),new Te(Jt))}}return p.symfunction(fe,[x])}function fr(x,O){var me=z(x);if(me.isConstant()){var ke=yn.continuedFraction(me,O),Xe=Gr.fromArray(ke.fractions.map(function(at){return new Te(at)}));return Gr.fromArray([new Te(ke.sign),new Te(ke.whole),Xe])}return p.symfunction("continued_fraction",arguments)}function ai(x,O){if(x.isConstant()&&O.isConstant()){var me=new Te(1);return me.multiplier=me.multiplier.multiply(x.multiplier.mod(O.multiplier)),me}var ke=p.divide(x.clone(),O.clone());return cn(ke)?new Te(0):p.symfunction("mod",[x,O])}function so(x,O,me){return typeof x!="boolean"&&Pn(x)&&(x=!!Number(x)),x?O:me}function ps(x,O){if(Ge(x))for(var me=0,ke=x.rows();me<ke;me++)for(var Xe=0,at=x.cols();Xe<at;Xe++){var vt=x.elements[me][Xe];if(vt.equals(O))return new Te(1)}else if(x.elements){for(var me=0,ke=x.elements.length;me<ke;me++)if(x.elements[me].equals(O))return new Te(1)}return new Te(0)}function Xn(x){return _.PARSE2NUMBER?x.isConstant()?new Te(yn.sinc(x)):p.parse(Zn("sin({0})/({0})",x)):p.symfunction("sinc",[x])}function gi(x){return x.fname===_.LOG&&x.isLinear()?p.pow(x.args[0],Te.create(x.multiplier)):p.parse(Zn("e^({0})",x))}function Bi(x){return p.parse(Zn("({0})*pi/180",x))}function ji(x){return p.parse(Zn("({0})*180/pi",x))}function cs(x){if(x.isComposite()){var O=new Te(0),me,ke,Xe,at,vt,Rt,Jt,tn;return x.each(function(_n){me=_n.getNum(),ke=_n.getDenom(),Xe=O.getNum(),at=O.getDenom(),vt=p.multiply(ke,Xe),Rt=p.multiply(me,at),Jt=p.expand(p.add(vt,Rt)),tn=p.multiply(at,ke),O=p.divide(Jt,tn)},!0),O}return x}function ui(x){if($t(x)||(x=p.parse(x)),x.group===P)return p.symfunction(se,[x]);x.fname===""&&x.power.equals(1)&&(x=x.args[0]);var O=x.multiplier.sign()<0;if(_.PARSE2NUMBER){if(x.isConstant()&&!O)return new Te(d.sqrt(x.multiplier.toDecimal()));if(x.isImaginary())return He.sqrt(x);if(x.group===k)return p.symfunction("sqrt",[x])}var me,ke,Xe=x.isConstant();if(x.group===R&&x.isLinear()){var at=ui(Te(x.multiplier));for(var vt in x.symbols){var Rt=x.symbols[vt];at=p.multiply(at,ui(Rt))}ke=at}else if(x.fname===se){var vt=x.args[0],Jt=x.multiplier;vt.setPower(x.power.multiply(new an(.25))),ke=vt,Jt.equals(1)||(ke=p.multiply(ui(p.parse(Jt)),ke))}else if(!x.power.isInteger())x.setPower(x.power.multiply(new an(.5))),ke=x;else if(x.multiplier<0&&x.group===k){var tn=p.parse(x.multiplier).negate(),_n=p.parse(x).toUnitMultiplier().negate();ke=p.multiply(p.symfunction(_.SQRT,[_n]),ui(tn))}else{var Pt=x.power.sign();x.power=x.power.abs(),Xe&&x.multiplier.lessThan(0)&&(me=Te.imaginary(),x.multiplier=x.multiplier.abs());var Qn=x.multiplier.toDecimal(),Gn=Math.abs(Qn),er=Math.sqrt(Gn),at;if(cn(er))at=new Te(er);else if(cn(Qn)){var ur=yn.ifactor(Qn),Cr=1;for(var Rt in ur){var Wr=ur[Rt],un=Wr-Wr%2;if(un){var Hn=Math.pow(Rt,un);Cr*=Math.pow(Rt,un/2),Qn/=Hn}}at=p.multiply(p.symfunction(se,[new Te(Qn)]),new Te(Cr))}else{for(var Fr=[new Te(x.multiplier.num),new Te(x.multiplier.den)],mr=[new Te(1),new Te(1)],ti=[new Te(1),new Te(1)],$i=0;$i<2;$i++){var Wr=Fr[$i];To(Wr).each(function(oi){oi=Te.unwrapPARENS(oi);var Ii=oi.clone().toLinear(),jr=Number(oi.power),Xi=jr%2,Es=(jr-Xi)/2;mr[$i]=p.multiply(mr[$i],p.pow(Ii,new Te(Es))),ti[$i]=p.multiply(ti[$i],ui(p.pow(Ii,new Te(Xi))))})}at=p.divide(p.multiply(mr[0],ti[0]),p.multiply(mr[1],ti[1]))}x=x.toUnitMultiplier(!0),x.isOne()?ke=x:B(x.power.toString())?ke=p.pow(x.clone(),new Te(.5)):ke=p.symfunction(se,[x]),Pt<0&&ke.power.negate(),at&&(ke=p.multiply(at,ke)),me&&(ke=p.multiply(me,ke))}return O&&_.PARSE2NUMBER?p.parse(ke):ke}function tr(x){if(!x.isConstant(!0)){var O,me=x.power/3,ke=p.pow(p.parse(x.multiplier),new Te(1/3)),Xe=x.toUnitMultiplier();return cn(me)?O=p.pow(Xe.toLinear(),p.parse(me)):Xe.group===R?(O=new Te(1),Xe.each(function(at){O=p.multiply(O,tr(at))})):O=p.symfunction("cbrt",[Xe]),p.multiply(ke,O)}return Ei(x,new Te(3))}function ii(x,O){return x.scientific=O||10,x}function Ei(x,O,me,ke){if(O=z(p.parse(O)),O.equals(0))throw new ae("Unable to calculate nthroots of zero");if(x<0&&B(O))throw new Error("Cannot calculate nthroot of negative number for even powers");if(!x.isConstant(!0))return p.symfunction("nthroot",arguments);x.group!==T&&(x=z(x)),typeof ke>"u"&&(ke=!0),me=me||25;var Xe=x.sign(),at,vt;if(Xe<0&&(x=sr(x)),cn(x)&&O.isConstant()){x<18446744073709552e3?vt=an.create(Math.pow(x,1/O)):vt=yn.nthroot(x,O);var at;return ke&&(at=new Te(vt)),at=new Te(vt.toDecimal(me)),p.multiply(new Te(Xe),at)}}function To(x){if(x.greaterThan(9999999999998891e26)||x.equals(-1))return x;if(x.equals(Math.PI))return new Te(Math.PI);if(x=z(x.clone()),x.isConstant()){var O=new Te(1),me=x.toString();if(cn(me)){var ke=yn.ifactor(me);for(var Xe in ke){var at=ke[Xe];O=p.multiply(O,p.symfunction("parens",[new Te(Xe).setPower(new an(at))]))}}else{var vt=To(new Te(x.multiplier.num)),Rt=To(new Te(x.multiplier.den));O=p.multiply(p.symfunction("parens",[vt]),p.symfunction("parens",[Rt]).invert())}}else O=p.symfunction("pfactor",arguments);return O}function ci(x){return x.realpart()}function Xs(x){return x.imagpart()}function Mo(x){var O=x.realpart(),me=x.imagpart();return p.add(O,p.multiply(me.negate(),Te.imaginary()))}function rn(x){var O=x.realpart(),me=x.imagpart();return O.isConstant()&&me.isConstant()?me.equals(0)&&O.equals(-1)?p.parse("pi"):me.equals(1)&&O.equals(0)?p.parse("pi/2"):me.equals(1)&&O.equals(1)?p.parse("pi/4"):new Te(Math.atan2(me,O)):p.symfunction("atan2",[me,O])}function Pi(x){var O,me,ke,Xe;return O=Te.toPolarFormArray(x),Xe=O[1],me=O[0],ke=p.parse(Zn("e^({0}*({1}))",_.IMAGINARY,Xe)),p.multiply(me,ke)}function ts(x){var O=x.clone();try{var me,ke,Xe,at,vt,Rt,Jt;return me=Ht(x,"e",!0),ke=p.divide(me.x.power,Te.imaginary()),Xe=z(xe.tan(ke)),at=p.pow(me.a,new Te(2)),Rt=Xe.getDenom(!0),Jt=Xe.getNum(),vt=Te.hyp(Jt,Rt),vt.equals(me.a)?p.add(Rt,p.multiply(Te.imaginary(),Jt)):O}catch{return O}}function $a(x,O){O.map(function(at){at.numVal=z(at).multiplier});for(var me,ke,Xe;;){if(me=O.length,me<2)return O[0];ke=O.pop(),Xe=O[me-2],(x==="min"?ke.numVal<Xe.numVal:ke.numVal>Xe.numVal)&&(O.pop(),O.push(ke))}}function va(){var x=[].slice.call(arguments);return Pe(x)?x[0]:A(x)?new Te(Math.max.apply(null,x)):_.SYMBOLIC_MIN_MAX&&V(x)?$a("max",x):p.symfunction("max",x)}function Ys(){var x=[].slice.call(arguments);return Pe(x)?x[0]:A(x)?new Te(Math.min.apply(null,x)):_.SYMBOLIC_MIN_MAX&&V(x)?$a("min",x):p.symfunction("min",x)}function Hs(x){return x.isConstant(!0)?new Te(Math.sign(z(x))):p.symfunction("sign",arguments)}function ei(x,O){O=O?O.toString():"asc";var me=function(Xe){return Xe.group===T?Xe.multiplier:Xe.group===G?Xe.fname===""?me(Xe.args[0]):Xe.fname:Xe.group===k?Xe.power:Xe.value},ke=fn(x)?x.elements:x.collectSymbols();return new Gr(ke.sort(function(Xe,at){var vt=me(Xe),Rt=me(at);return O==="desc"?Rt-vt:vt-Rt}))}function Rs(x,O){if(x.equals(1))return new Te(0);var me;if(x.fname===se&&x.multiplier.equals(1))return me=p.divide(Rs(x.args[0]),new Te(2)),x.power.sign()<0&&me.negate(),me;if(x.equals(0))throw new ae(_.LOG+"(0) is undefined!");if(x.isImaginary())return He.evaluate(x,_.LOG);if(x.isConstant()&&typeof O<"u"&&O.isConstant()){var ke=Math.log(x),Xe=Math.log(O);me=new Te(ke/Xe)}else if(x.group===P&&x.power.multiplier.lessThan(0)||x.power.toString()==="-1")x.power.negate(),me=Rs(x).negate();else if(x.value==="e"&&x.multiplier.equals(1)){var at=x.power;me=$t(at)?at:new Te(at)}else if(x.group===G&&x.fname==="exp"){var vt=x.args[0];x.multiplier.equals(1)?me=p.multiply(vt,new Te(x.power)):me=p.symfunction(_.LOG,[x])}else if(_.PARSE2NUMBER&&Pn(x)){x=p.parse(x);var Rt;x.multiplier.lessThan(0)&&(x.negate(),Rt=p.multiply(new Te(Math.PI),new Te("i"))),me=new Te(Math.log(x.multiplier.toDecimal())),Rt&&(me=p.add(me,Rt))}else{var vt;!x.power.equals(1)&&!x.contains("e")&&(vt=x.group===P?x.power:new Te(x.power),x.toLinear()),arguments.length>1&&Pe(arguments)?me=new Te(1):me=p.symfunction(_.LOG,arguments),vt&&(me=p.multiply(vt,me))}return me}function Qo(x,O){var me=O&&O.isConstant()||typeof O>"u";if(x.isConstant()&&me){var ke,Xe,at,vt;return ke=x,O&&O.lessThan(0)&&(O=sr(O),Xe=Number(x).toExponential().toString().split("e"),ke=Xe[0],at=Xe[1]),vt=new Te(An(ke,Number(O||0))),p.multiply(vt,p.pow(new Te(10),new Te(at||0)))}return p.symfunction("round",arguments)}function Wl(x){var O=x%2,me;return O<0&&(O=2+O),O>=0&&O<=.5?me=1:O>.5&&O<=1?me=2:O>1&&O<=1.5?me=3:me=4,me}function jl(x){if(!isFinite(x)){var O=Math.sign(x),me=new Te(String(Math.abs(x)));return me.multiplier=me.multiplier.multiply(new an(O)),me}if($t(x))return x;if(typeof x=="number")try{x=an.simple(x)}catch{x=new an(x)}var ke=new Te(0);return ke.multiplier=x,ke}function Xl(x){var O=x.group,me;if(O===W){var ke=x.getNum(),Xe=x.getDenom()||new Te(1),at=Number(x.power),vt=new Te(1);if(Math.abs(at)===1){Xe.each(function(tn){tn.group===R?vt=p.multiply(vt,Xl(tn.getDenom())):tn.power.lessThan(0)&&(vt=p.multiply(vt,Xl(tn.clone().toUnitMultiplier())))});var Rt=new Te(0);Xe.each(function(tn){Rt=p.add(p.divide(tn,vt.clone()),Rt)}),vt.invert();var Jt;ke.isComposite()?(Jt=new Te(0),ke.each(function(tn){Jt=p.add(p.multiply(Xl(tn),vt.clone()),Jt)})):Jt=p.multiply(vt,ke),me=p.divide(Jt,Rt)}}else O===R?(me=new Te(1),x.each(function(tn){me=p.multiply(me,p.clean(tn))})):O===G&&x.args.length===1&&x.args[0].isConstant()&&(me=$r("PARSE2NUMBER",function(){return p.parse(x)},!0));return me||(me=x),me}function Ou(x,O){return O=O||{expand_denominator:!0,expand_functions:!0},Eo(x,O)}function Eo(x,O){if(Array.isArray(x))return x.map(function(er){return Eo(er,O)});if(O=O||{},x.group===G&&x.fname===""){var me=Eo(x.args[0],O),ke=Eo(p.pow(me,p.parse(x.power)),O);return p.multiply(p.parse(x.multiplier),ke).distributeMultiplier()}if([T,S,k].indexOf(x.group)!==-1)return x;var Xe=x.clone();try{var at=x.multiplier.toString(),vt=Number(x.power),Rt=x;if(x.isComposite()&&cn(x.power)&&x.power>0){var Jt=vt-1,me=new Te(0);x.each(function(ur){me=p.add(me,Eo(p.parse(ur),O))});for(var tn=p.parse(me),_n=0;_n<Jt;_n++)tn=oe(tn,me,O);Rt=p.multiply(p.parse(at),tn).distributeMultiplier()}else if(x.group===G&&O.expand_functions===!0){var Pt=[];x.args.forEach(function(er){Pt.push(Eo(er,O))}),Rt=p.pow(p.symfunction(x.fname,Pt),p.parse(x.power)),Rt=p.multiply(Rt,p.parse(x.multiplier))}else if(x.isComposite()&&cn(x.power)&&x.power<0&&O.expand_denominator===!0)x=x.invert(),Rt=Eo(x,O),Rt.invert();else if(x.group===R){var Qn=function(ur){switch(ur.group){case W:return 0;case X:return 1;case R:return 2;case G:return 3;default:return 4}},Gn=x.collectSymbols().sort(function(ur,Cr){return Qn(Cr)-Qn(ur)}).map(function(ur){var Cr=p.pow(ur,p.parse(vt)),Wr=Eo(Cr,O);return Wr}),me=Gn.pop();me.isComposite()&&me.isLinear()?(Gn.forEach(function(ur){me=oe(me,ur,O)}),me.isComposite()?(me.power>1&&(me=Eo(p.pow(me,p.parse(me.power)),O)),Rt=p.multiply(p.parse(at),me).distributeMultiplier()):Rt=me):(Rt=me,Gn.forEach(function(ur){Rt=p.multiply(Rt,ur)}),Rt=p.multiply(Rt,p.parse(at)).distributeMultiplier()),Rt.group===R&&(Rt=p.parse(Rt))}else Rt=x;return Rt}catch{return Xe}return Xe}function Vh(x){return xn.identity(x)}function Gh(x,O){return O.isConstant()&&cn(O)?x.elements[O]:p.symfunction("vecget",arguments)}function ld(x,O){return O=typeof O>"u"?1e-14:O,x=x.clone(),O=Number(O),x.elements.sort(function(me,ke){return ke.group-me.group}),x.elements=Ft(x.elements,function(me,ke){var Xe=Number(p.subtract(z(me),z(ke)).abs());return Xe<=O}),x}function Mc(x,O,me){return O.isConstant?(x.elements[O]=me,x):p.symfunction("vecset",arguments)}function _l(x,O,me){return O.isConstant()&&me.isConstant()?x.elements[O][me]:p.symfunction("matget",arguments)}function Er(x,O){return O.isConstant()?new xn(x.elements[O]):p.symfunction("matgetrow",arguments)}function Ru(x,O,me){if(!O.isConstant())return p.symfunction("matsetrow",arguments);if(x.elements[O].length!==me.elements.length)throw new Le("Matrix row must match row dimensions!");var ke=x.clone();return ke.elements[O]=me.clone().elements,ke}function u0(x,O){if(!O.isConstant())return p.symfunction("matgetcol",arguments);O=Number(O);var me=xn.fromArray([]);return x.each(function(ke,Xe,at){at===O&&me.elements.push([ke.clone()])}),me}function J0(x,O,me){if(!O.isConstant())return p.symfunction("matsetcol",arguments);if(O=Number(O),x.rows()!==me.elements.length)throw new Le("Matrix columns must match number of columns!");return me.each(function(ke,Xe){x.set(Xe-1,O,ke.elements[0].clone())}),x}function Nc(x,O,me,ke){return x.elements[O][me]=ke,x}function Oa(){return new Gr([].slice.call(arguments))}function Ra(){return xn.fromArray(arguments)}function qh(){return cr.fromArray(arguments)}function La(x){return Ge(x)?x.determinant():x}function Z0(x){var O;return Ge(x)?O=[new Te(x.cols()),new Te(x.rows())]:fn(x)||Qt(x)?O=new Te(x.elements.length):dt("size expects a matrix or a vector"),O}function c0(x,O){if(fn(x)&&fn(O))return x.dot(O);dt("function dot expects 2 vectors")}function Oc(x,O){if(fn(x)&&fn(O))return x.cross(O);dt("function cross expects 2 vectors")}function Da(x){if(Ge(x))return x.transpose();dt("function transpose expects a matrix")}function Yl(x){if(Ge(x))return x.invert();dt("invert expects a matrix")}function Rc(x,O){return x.union(O)}function Lc(x,O){return x.intersection(O)}function Lu(x,O){return x.contains(O)}function Q0(x,O){return x.difference(O)}function eu(x,O){return new Te(Number(x.intersects(O)))}function h0(x,O){return new Te(Number(x.is_subset(O)))}function Kl(){as(arguments).map(function(x){console.log(x.toString())})}function tu(x){if(!$t(x.power)&&x.power.absEquals(.5)){var O=x.power.sign(),me=ui(x.group===S?new Te(x.value):x.toLinear());return O<0&&me.invert(),me}return x}function Du(x){if(x.group===S){var O=x.value,me=zs(O)[0];if(!me)return nt("Unable to compute prime factors. This should not happen. Please review and report."),x;var ke=new an(Math.log(O)/Math.log(me)),Xe=ke.multiply(x.power);if(Xe.den>x.power.den)return x;cn(Xe)?x=Te(Math.pow(me,Xe)):x=new Te(me).setPower(Xe)}return x}this.expand=Eo,this.round=Qo,this.clean=Xl,this.sqrt=ui,this.cbrt=tr,this.abs=sr,this.log=Rs,this.rationalize=cs,this.nthroot=Ei,this.arg=rn,this.conjugate=Mo,this.imagpart=Xs,this.realpart=ci,this.getFunction=function(x){return bn[x][0]},this.addPreprocessor=function(x,O,me,ke){var Xe=H.names,at=H.actions;if(typeof O!="function")throw new PreprocessorError("Incorrect parameters. Function expected!");me?ke?(Xe.splice(me,0,x),at.splice(me,0,O)):(Xe[me]=x,at[me]=O):(Xe.push(x),at.push(O))},this.getPreprocessors=function(){for(var x={},O=0,me=x.names.length;O<me;O++){var ke=x.names[O];x[ke]={order:O,action:x.actions[O]}}return x},this.removePreprocessor=function(x,O){var me=H.names.indexOf(x);O?(Bn(H.names,me),Bn(H.actions,me)):(H.names[me]=void 0,H.actions[me]=void 0)},this.mapped_function=function(){for(var x={},O=this.params,me=0;me<O.length;me++)x[O[me]]=String(arguments[me]);return p.parse(this.body,x)},this.add=function(x,O){var me=$t(x),ke=$t(O);if(me&&ke){if(x.unit||O.unit)return p.Unit.add(x,O);if(x.isInfinity||O.isInfinity){var Xe=x.multiplier.lessThan(0),at=O.multiplier.lessThan(0);if(x.isInfinity&&O.isInfinity&&Xe!==at)throw new ae("("+x+")+("+O+") is not defined!");var vt=Te.infinity();return at&&vt.negate(),vt}if(x.isComposite()&&x.isLinear()&&O.isComposite()&&O.isLinear()&&(x.distributeMultiplier(),O.distributeMultiplier(),O.length>x.length&&x.group===O.group&&([x,O]=[O,x])),x.multiplier.equals(0))return O;if(O.multiplier.equals(0))return x;if(x.isConstant()&&O.isConstant()&&_.PARSE2NUMBER){var Hn=new Te(x.multiplier.add(O.multiplier).toDecimal(_.PRECISION));return Hn}var Rt=x.group,Jt=O.group,tn=x.power.toString(),_n=O.power.toString();if(Rt<Jt||Rt===Jt&&tn>_n&&_n>0)return this.add(O,x);if(Rt===R&&Jt===X&&x.value===O.value){var Pt=x;x=O,O=Pt,Rt=x.group,Jt=O.group,tn=x.power.toString(),_n=O.power.toString()}var Qn=tn===_n,Gn=x.value,er=O.value,ur=x.isComposite(),Cr=O.isComposite(),Wr,un,Hn;if(ur&&(Wr=Or(x,"hash")),Cr&&(un=Or(O,"hash")),Rt===W&&Jt===W&&O.isLinear()&&!x.isLinear()&&Wr!==un)return this.add(O,x);Rt===X&&Jt===X&&(Gn=Wr,er=un);var Fr=Rt===S&&Jt===T,mr=x.value===O.multiplier.toString(),ti=Gn===er||Wr===un&&Wr!==void 0||Fr&&mr;if(ti&&Qn&&Rt===Jt)if(Fr&&(O=O.convert(S)),Rt===X&&(Jt===k||Jt===S))x.distributeMultiplier(),Hn=x.attach(O);else if(Hn=x,x.multiplier.isOne()&&O.multiplier.isOne()&&Rt===W&&x.isLinear()&&O.isLinear())for(var $i in O.symbols){var si=O.symbols[$i];Hn.attach(si)}else Hn.multiplier=Hn.multiplier.add(O.multiplier);else if(ti&&Rt!==X)Rt===W&&Jt===X?(O.insert(x,"add"),Hn=O):(Hn=Te.shell(X).attach([x,O]),Hn.value=Rt===X?Wr:Gn);else if(ur&&x.isLinear()){var hi=Rt===Jt,oi=Rt===X&&Jt===X;if(oi&&(hi=x.value===O.value),x.distributeMultiplier(),O.isComposite()&&O.isLinear()&&hi){O.distributeMultiplier();for(var $i in O.symbols){var si=O.symbols[$i];x.attach(si)}Hn=x}else oi&&x.value!==un||Rt===X&&!ti?(Hn=Te.shell(W).attach([x,O]),Hn.updateHash()):Hn=x.attach(O)}else{if(Rt===G&&x.fname===se&&Jt!==P&&O.power.equals(.5)){var Ii=O.multiplier.clone();O=ui(O.toUnitMultiplier().toLinear()),O.multiplier=Ii}x.length===2&&O.length===2&&B(x.power)&&B(O.power)?Hn=p.add(Eo(x),Eo(O)):(Hn=Te.shell(W).attach([x,O]),Hn.updateHash())}if(Hn.multiplier.equals(0)&&(Hn=new Te(0)),Hn.length===1){var Ii=Hn.multiplier;Hn=Re(Hn.symbols),Hn.multiplier=Hn.multiplier.multiply(Ii)}return Hn}else{if(ke&&!me){var Pt=x;x=O,O=Pt,Pt=ke,ke=me,me=Pt}var jr=Ge(O);if(me&&jr){var Xi=new xn;O.eachElement(function(Ls,Mi,Ks){Xi.set(Mi,Ks,p.add(x.clone(),Ls))}),O=Xi}else if(Ge(x)&&jr)O=x.add(O);else if(me&&fn(O))O.each(function(Ls,Mi){Mi--,O.elements[Mi]=p.add(x.clone(),O.elements[Mi])});else if(fn(x)&&fn(O))O.each(function(Ls,Mi){Mi--,O.elements[Mi]=p.add(x.elements[Mi],O.elements[Mi])});else{if(fn(x)&&Ge(O))return p.add(O,x);if(Ge(x)&&fn(O))if(O.elements.length===x.rows()){var Xi=new xn,Es=x.cols();return O.each(function(Mi,Ks){for(var wo=[],Ds=0;Ds<Es;Ds++)wo.push(p.add(x.elements[Ks-1][Ds].clone(),Mi.clone()));Xi.elements.push(wo)}),Xi}else dt("Dimensions must match!")}return O}},this.subtract=function(x,O){var me=me=$t(x),ke=$t(O);if(me&&ke)return x.unit||O.unit?p.Unit.subtract(x,O):this.add(x,O.negate());if(ke&&fn(x))O=x.map(function(vt){return p.subtract(vt,O.clone())});else if(me&&fn(O))O=O.map(function(vt){return p.subtract(x.clone(),vt)});else if(fn(x)&&fn(O))x.dimensions()===O.dimensions()?O=x.subtract(O):p.error("Unable to subtract vectors. Dimensions do not match.");else if(Ge(x)&&fn(O))if(O.elements.length===x.rows()){var Xe=new xn,at=x.cols();return O.each(function(vt,Rt){for(var Jt=[],tn=0;tn<at;tn++)Jt.push(p.subtract(x.elements[Rt-1][tn].clone(),vt.clone()));Xe.elements.push(Jt)}),Xe}else dt("Dimensions must match!");else if(fn(x)&&Ge(O)){var Xe=O.clone().negate();return p.add(Xe,x)}else if(Ge(x)&&Ge(O))O=x.subtract(O);else if(Ge(x)&&ke){var Xe=new xn;x.each(function(Rt,Jt,tn){Xe.set(Jt,tn,p.subtract(Rt,O.clone()))}),O=Xe}else if(me&&Ge(O)){var Xe=new xn;O.each(function(Rt,Jt,tn){Xe.set(Jt,tn,p.subtract(x.clone(),Rt))}),O=Xe}return O},this.multiply=function(x,O){var me=$t(x),ke=$t(O);if(me&&O instanceof pe)return O.elements.push(x),O;if(me&&ke){if(O.isUnit){var un=x.clone();return x.unit=O,un}if(x.unit||O.unit)return p.Unit.multiply(x,O);if(x.isInfinity||O.isInfinity){if(x.equals(0)||O.equals(0))throw new ae(x+"*"+O+" is undefined!");if(O.power.lessThan(0)){if(x.isInfinity)throw new ae("Infinity/Infinity is not defined!");return new Te(0)}var ur=x.multiplier.multiply(O.multiplier).sign(),Xe=Te.infinity();if(x.isConstant()||O.isConstant()||x.isInfinity&&O.isInfinity)return ur<0&&Xe.negate(),Xe}if(x.isConstant()&&O.isConstant()&&_.PARSE2NUMBER){var at=new d(x.multiplier.toDecimal()).times(new d(O.multiplier.toDecimal())).toFixed(),vt=new Te(at);return vt}if(x.isOne())return O.clone();if(O.isOne())return x.clone();if(x.multiplier.equals(0)||O.multiplier.equals(0))return new Te(0);if(O.group>x.group&&O.group!==W)return this.multiply(O,x);if(x.group===R&&O.group===X&&x.value===O.value){var at=x;x=O,O=at}var Rt=x.group,Jt=O.group,tn=O.multiplier.num,_n=O.multiplier.den;if(Rt===G&&x.fname===se&&!O.isConstant()&&x.args[0].value===O.value&&!x.args[0].multiplier.lessThan(0)){var Pt=x.power,Qn=p.parse(x.multiplier);x=p.multiply(Qn,x.args[0].clone()),x.setPower(new an(.5).multiply(Pt)),Rt=x.group}else Rt===G&&x.fname===se&&x.multiplier.equals(1)&&x.power.equals(-1)&&O.isConstant()&&x.args[0].equals(O)&&(x=p.symfunction(se,[O.clone()]),O=new Te(1));var Gn=x.value,er=O.value,ur=new an(x.sign()),Cr=Rt===S&&Jt===T&&O.multiplier.equals(x.value),Wr=Cr?new an(1).multiply(x.multiplier).abs():x.multiplier.multiply(O.multiplier).abs(),un=x.clone().toUnitMultiplier();if(O=O.clone().toUnitMultiplier(!0),Rt===G&&Jt===G){var Hn=x.args[0].clone(),Fr=O.args[0].clone();if(x.fname===se&&O.fname===se&&x.isLinear()&&O.isLinear()){var mr=p.divide(Hn,Fr).invert();mr.gt(1)&&cn(mr)&&(un=p.multiply(x.args[0].clone(),ui(mr.clone())),O=new Te(1))}else if(x.fname===fe&&O.fname===fe&&!Hn.isConstant()&&!Fr.isConstant()&&O.power<0){var ti=p.subtract(Hn.clone(),Fr.clone());if(ti.isConstant())if(at=new Te(1),ti<0){for(var $i=0,si=Math.abs(ti);$i<=si;$i++){var hi=p.add(Hn.clone(),new Te($i));at=p.multiply(at,hi)}un=p.multiply(p.pow(Hn,new Te(x.power)),p.pow(at,new Te(O.power))),O=new Te(1)}else{for(var $i=0,si=Math.abs(ti);$i<=si;$i++){var hi=p.add(Fr.clone(),new Te($i));at=p.multiply(at,hi)}un=p.multiply(p.pow(at,new Te(x.power)),p.pow(Fr,new Te(O.power))),O=new Te(1)}}}if(Gn===er&&Rt===X&&Rt===Jt&&(Gn=x.text("hash"),er=O.text("hash")),Jt===P&&O.previousGroup===X&&Rt===X&&(Gn=Or(x,"hash",P)),(Gn===er||Cr)&&!(Rt===X&&(Jt===k||Jt===S||Jt===G))&&!(Rt===X&&Jt===R)){var oi=x.power,Ii=O.power,jr=$t(oi),Xi=$t(Ii),Es=jr||Xi;if(Rt===X&&Jt!==X&&O.previousGroup!==X&&oi.equals(1))un=new Te(0),x.each(function($s){un=p.add(un,p.multiply($s,O.clone()))},!0);else{if(un.power=Es?p.add($t(oi)?oi:new Te(oi),$t(Ii)?Ii:new Te(Ii)):Rt===T?oi:oi.add(Ii),un.power.equals(0)&&(un=un.convert(T)),Es&&un.convert(P),x.imaginary&&O.imaginary){var Ls=B(un.power%2);Ls&&(un=new Te(1),Wr.negate())}un.group!==P&&un.previousGroup&&(un.previousGroup=void 0),un.multiplier=un.multiplier.multiply(O.multiplier)}}else if(Rt===R&&x.isLinear())if(Jt===R&&O.distributeExponent(),Jt===R&&O.isLinear()){for(var hi in O.symbols){var Mi=O.symbols[hi];un=un.combine(Mi)}un.multiplier=un.multiplier.multiply(O.multiplier)}else un.combine(O);else if(Rt!==T){if(Rt===R)un.distributeExponent(),un.combine(O);else if(!O.isOne()){var Ks=O.multiplier.clone();O.toUnitMultiplier(),un=Te.shell(R).combine([un,O]),un.multiplier=un.multiplier.multiply(Ks)}}else un=O.clone().toUnitMultiplier();if(un.group===S){var wo=Math.log(un.value),Ds=Math.log(tn)/wo,Dr=Math.log(_n)/wo,gs=Wr.num/tn,ye=Wr.den/_n;Ds!==0&&cn(Ds)&&cn(gs)&&(un.power=un.power.add(new an(Ds)),Wr.num/=tn),Dr!==0&&cn(Dr)&&cn(ye)&&(un.power=un.power.subtract(new an(Dr)),Wr.den/=_n)}if(un.length===1){var at=un.multiplier;un=Re(un.symbols),un.multiplier=un.multiplier.multiply(at)}var Ni=un.power.toString();if(B(Ni)&&un.fname===se){ur=ur*un.sign();var hs=un.power;un=un.args[0],un=p.multiply(new Te(Wr),p.pow(un,new Te(hs.divide(new an(2))))),ur<0&&un.negate()}else un.multiplier=un.multiplier.multiply(Wr).multiply(ur),un.group===W&&un.isImaginary()&&un.distributeMultiplier();return un.group===S&&cn(un.power.toDecimal())&&(un=un.convert(T)),un}else{ke&&!me&&(at=x,x=O,O=at,at=ke,ke=me,me=at);var El=Ge(O),po=Ge(x);if(me&&El){var xo=new xn;O.eachElement(function($s,gr,lo){xo.set(gr,lo,p.multiply(x.clone(),$s))}),O=xo}else if(po&&El)O=x.multiply(O);else if(me&&fn(O))O.each(function($s,gr){gr--,O.elements[gr]=p.multiply(x.clone(),O.elements[gr])});else if(fn(x)&&fn(O))O.each(function($s,gr){gr--,O.elements[gr]=p.multiply(x.elements[gr],O.elements[gr])});else{if(fn(x)&&Ge(O))return this.multiply(O,x);if(Ge(x)&&fn(O))if(O.elements.length===x.rows()){var xo=new xn,oo=x.cols();return O.each(function(gr,lo){for(var Fi=[],So=0;So<oo;So++)Fi.push(p.multiply(x.elements[lo-1][So].clone(),gr.clone()));xo.elements.push(Fi)}),xo}else dt("Dimensions must match!")}return O}},this.divide=function(x,O){var me=$t(x),ke=$t(O);if(me&&ke){if(x.unit||O.unit)return p.Unit.divide(x,O);var Xe;if(O.equals(0))throw new re("Division by zero not allowed!");return x.isConstant()&&O.isConstant()?(Xe=x.clone(),Xe.multiplier=Xe.multiplier.divide(O.multiplier)):(O.invert(),Xe=p.multiply(x,O)),Xe}else{var at=fn(x),vt=fn(O);if(me&&vt)O=O.map(function(_n){return p.divide(x.clone(),_n)});else if(at&&ke)O=x.map(function(_n){return p.divide(_n,O.clone())});else if(at&&vt)x.dimensions()===O.dimensions()?O=O.map(function(_n,Pt){return p.divide(x.elements[--Pt],_n)}):p.error("Cannot divide vectors. Dimensions do not match!");else{var Rt=Ge(x),Jt=Ge(O);if(Rt&&ke){var tn=new xn;x.eachElement(function(_n,Pt,Qn){tn.set(Pt,Qn,p.divide(_n,O.clone()))}),O=tn}else if(me&&Jt){var tn=new xn;O.eachElement(function(Pt,Qn,Gn){tn.set(Qn,Gn,p.divide(x.clone(),Pt))}),O=tn}else if(Rt&&Jt){var tn=new xn;x.rows()===O.rows()&&x.cols()===O.cols()?(x.eachElement(function(Pt,Qn,Gn){tn.set(Qn,Gn,p.divide(Pt,O.elements[Qn][Gn]))}),O=tn):p.error("Dimensions do not match!")}else if(Rt&&vt)if(x.cols()===O.dimensions()){var tn=new xn;x.eachElement(function(Pt,Qn,Gn){tn.set(Qn,Gn,p.divide(Pt,O.elements[Qn].clone()))}),O=tn}else p.error("Unable to divide matrix by vector.")}return O}},this.pow=function(x,O){var me=$t(x),ke=$t(O);if(me&&ke){if(x.unit||O.unit)return p.Unit.pow(x,O);if(x.group===G&&x.fname===Y&&B(O)){var _n=x.multiplier.clone(),Xe=p.pow(x.args[0],O);return Xe.multiplier=_n,Xe}if(x.isInfinity||O.isInfinity){if(x.isInfinity&&O.isInfinity)throw new ae("("+x+")^("+O+") is undefined!");if(x.isConstant()&&O.isInfinity){if(x.equals(0)){if(O.lessThan(0))throw new ae("0^Infinity is undefined!");return new Te(0)}if(x.equals(1))throw new ae("1^"+O.toString()+" is undefined!");if(O.lessThan(0))return new Te(0);if(!x.lessThan(0))return Te.infinity()}if(x.isInfinity&&O.isConstant()){if(O.equals(0))throw new ae(x+"^0 is undefined!");return O.lessThan(0)?new Te(0):p.multiply(Te.infinity(),p.pow(new Te(x.sign()),O.clone()))}}var at=x.equals(0),vt=O.equals(0);if(at&&vt)throw new ae("0^0 is undefined!");if(at&&O.isConstant()&&O.multiplier.greaterThan(0))return new Te(0);if(vt)return new Te(1);var Rt=O.isConstant(),Jt=x.isConstant(),tn=O.isInteger(),_n=x.multiplier,Pt=x.clone();if(Jt&&Rt&&x.equals(0)&&O.lessThan(0))throw new ae("Division by zero is not allowed!");if(_.PARSE2NUMBER&&Jt&&Rt&&x.sign()<0&&ee(O)){var Qn,Gn,er;return Qn=Math.PI*O,Gn=new Te(Math.cos(Qn)),er=p.multiply(Te.imaginary(),new Te(Math.sin(Qn))),p.add(Gn,er)}if(_.PARSE2NUMBER&&x.isImaginary()&&Rt&&cn(O)&&!O.lessThan(0)){var Gn,er,ur,Cr,Wr,un,Hn;if(Gn=x.realpart(),er=x.imagpart(),Gn.isConstant("all")&&er.isConstant("all"))return Hn=_.USE_BIG?Te(d.atan2(Ii.multiplier.toDecimal(),ur.multiplier.toDecimal()).times(O.toString())):Math.atan2(er,Gn)*O,Cr=new Te(Hn),ur=p.pow(Te.hyp(Gn,er),O),Wr=p.multiply(ur.clone(),p.trig.cos(Cr.clone())),un=p.multiply(ur,p.trig.sin(Cr)),p.add(Wr,p.multiply(Te.imaginary(),un))}if(Pt.toUnitMultiplier(),Pt.group===G&&Pt.fname===se&&!Rt){var Fr=Pt.args[0];Fr.multiplyPower(new Te(.5)),Fr.multiplier.multiply(Pt.multiplier),Fr.multiplyPower(O),Pt=Fr}else{var mr=_n.sign();ee(O)&&mr<0&&(Pt.negate(),Pt=p.symfunction(ie,[Pt]),Pt.negate()),Pt.multiplyPower(O)}if(Jt&&Rt&&_.PARSE2NUMBER){var ti;mr<0&&(x.negate(),O.multiplier.den.equals(2)?ti=new Te(_.IMAGINARY):cn(O.multiplier)?B(O.multiplier)?ti=new Te(1):ti=new Te(-1):B(O.multiplier.den)?ti=p.pow(p.symfunction(ie,[new Te(mr)]),O.clone()):ti=new Te(Math.pow(mr,O.multiplier.num))),Pt=new Te(Math.pow(x.multiplier.toDecimal(),O.multiplier.toDecimal())),ti&&(Pt=p.multiply(Pt,ti))}else if(tn&&!_n.equals(1)){var $i=O.abs();if($i.gt(_.MAX_EXP))return O.sign()<0?new Te(0):Te.infinity();var si=O.multiplier.toDecimal(),hi=Math.sign(si);si=Math.abs(si);var oi=new an(1);oi.num=_n.num.pow(si),oi.den=_n.den.pow(si),hi<0&&oi.invert(),Pt.multiplier=Pt.multiplier.multiply(oi)}else{var mr=x.sign();if(O.isConstant()&&x.isConstant()&&!O.multiplier.den.equals(1)&&mr<0)if(O.multiplier.den.equals(2)){var Ii=new Te(_.IMAGINARY);x.negate(),O.lessThan(0)&&(Ii.negate(),O.negate()),Pt=p.multiply(p.pow(x,O),Ii)}else{var jr=x.clone();jr.multiplier.negate(),Pt=p.pow(p.symfunction(ie,[new Te(mr)]),O.clone());var Xi=p.pow(new Te(jr.multiplier.num),O.clone()),Es=p.pow(new Te(jr.multiplier.den),O.clone()),ur=p.divide(Xi,Es);Pt=p.multiply(Pt,ur)}else if(_.PARSE2NUMBER&&O.isImaginary()){var Gn=O.realpart(),er=O.imagpart(),jr=x.clone().toLinear(),Ls=p.pow(jr.clone(),Gn),Mi=Rs(jr.clone()),Ks=xe.cos(p.multiply(er.clone(),Mi)),wo=p.multiply(xe.sin(p.multiply(er,Rs(jr))),Te.imaginary());Pt=p.multiply(Ls,p.add(Ks,wo)),Pt=p.expand(p.parse(Pt))}else{var Ds=x.group===T&&mr<0,Dr=tu(new Te(Ds?_n.num:Math.abs(_n.num)).setPower(O.clone())),gs=tu(new Te(_n.den).setPower(O.clone()).invert());if(x.imaginary)if(tn){var Fr,si,ye;Fr=Math.sign(O),si=sr(O),ye=si%4,Pt=new Te(B(ye)?-1:_.IMAGINARY),(ye===0||Fr<0&&ye===1||Fr>0&&ye===3)&&Pt.negate()}else{var Ni=O.multiplier.multiply(an.quick(1,2)),hs=Math.pow(-1,Ni.num);Pt=B(Ni.den)?new Te(-1).setPower(Ni,!0):new Te(hs)}if(mr<0&&!Ds&&Pt.negate(),Rt&&x.group!==P){var El=B(O.multiplier.den),po=B(x.power),ye=Pt.power.toDecimal(),xo=B(ye);if(El&&po&&!xo){if(ye===1)Pt=p.symfunction(Y,[Pt]);else if(cn(ye))Pt=p.multiply(p.symfunction(Y,[Pt.clone().toLinear()]),Pt.clone().setPower(new an(ye-1)));else{var si=Pt.power;Pt=p.symfunction(Y,[Pt.toLinear()]).setPower(si)}_.POSITIVE_MULTIPLIERS&&Pt.fname===Y&&(Pt=Pt.args[0])}}if(O.equals(2)&&Pt.group===R){var oo=new Te(1);Pt.each(function(ba){oo=p.multiply(oo,p.pow(ba,O))}),Pt=oo}}}if(Pt=tu(Pt),Dr&&gs&&(Pt=p.multiply(Pt,Du(p.multiply(Dr,gs)))),Pt.fname===se){var $s=Pt.group===P,gr=$s?Pt.power.multiplier.toString():Pt.power.toString();if(B(gr)){var lo=$s?p.divide(Pt.power,new Te(2)):new Te(Pt.power.divide(new an(2))),_n=Pt.multiplier;Pt=p.pow(Pt.args[0],lo),Pt.multiplier=Pt.multiplier.multiply(_n)}}else if(!_.IGNORE_E&&Pt.isE()&&Pt.group===P&&Pt.power.contains("pi")&&Pt.power.contains(_.IMAGINARY)&&O.group===R){var Cr=O.stripVar(_.IMAGINARY);Pt=p.add(xe.cos(Cr),p.multiply(Te.imaginary(),xe.sin(Cr)))}return Pt}else{if(fn(x)&&ke)x=x.map(function(So){return p.pow(So,O.clone())});else if(Ge(x)&&ke){var Fi=new xn;x.eachElement(function(So,ba,Jl){Fi.set(ba,Jl,p.pow(So,O.clone()))}),x=Fi}else if(me&&Ge(O)){var Fi=new xn;O.eachElement(function(ba,Jl,Ba){Fi.set(Jl,Ba,p.pow(x.clone(),ba))}),x=Fi}return x}},this.comma=function(x,O){return x instanceof pe||(x=pe.create(x)),x.append(O),x},this.mod=function(x,O){return ai(x,O)},this.slice=function(x,O){return new j(x,O)},this.equals=function(x,O){return x.group!==k&&!x.isLinear()&&dt("Cannot set equality for "+x.toString()),Ue[x.value]=O.clone(),O},this.percent=function(x){return p.divide(x,new Te(100))},this.assign=function(x,O){if(x instanceof pe&&O instanceof pe)return x.elements.map(function(ke,Xe){return p.assign(ke,O.elements[Xe])}),Gr.fromArray(O.elements);if(x.parent){var me=x.parent;return me.elements[me.getter]=O,delete me.getter,me}if(x.group!==k)throw new Vr("Cannot complete operation. Incorrect LH value for "+x);return Ue[x.value]=O,O},this.function_assign=function(x,O){var me=x.elements.pop();return ct(me,x.elements,O)};var Tl=function(x){return new Te(x===!0?1:0)};this.eq=function(x,O){return Tl(x.equals(O))},this.gt=function(x,O){return Tl(x.gt(O))},this.gte=function(x,O){return Tl(x.gte(O))},this.lt=function(x,O){return Tl(x.lt(O))},this.lte=function(x,O){return Tl(x.lte(O))},this.factorial=function(x){return this.symfunction(fe,[x])},this.dfactorial=function(x){return this.symfunction(Ie,[x])}}var Ts={convert:function(p,I){var H;if(p===0)H=[0,1];else if(p<1e-6||p>1e20){var j=this.quickConversion(Number(p));if(j[1]<=1e20){var pe=Math.abs(p),be=p/pe;H=this.fullConversion(pe.toFixed((j[1]+"").length-1)),H[0]=H[0]*be}else H=j}else H=this.fullConversion(p);return H},quickConversion:function(p){var I=function(j){typeof j!="string"&&(j=j.toString());var pe="",be=j.charAt(0);return be==="-"?(j=j.substr(1,j.length),pe="-"):be==="+"&&(j=j.substr(1,j.length)),{sign:pe,value:j}};function H(j){Pr.isScientific(j)&&(j=Lt(j));var pe=I(j),be=pe.value.split("."),He;be.length===1?He=be[0]:He=be[0]+be[1];var xe=be[1]?be[1].length:0,_t=`1${"0".repeat(xe)}`;return He!=="0"&&(He=He.replace(/^0+/,"")),[pe.sign+He,_t]}return H(p)},fullConversion:function(p){for(var I=!1,H=0,j=1,pe=1,be=0,He=0,xe=p,_t=1e-16;!I;){He++,He>1e4&&(I=!0);var Bt=Math.floor(xe),kt=H+Bt*pe,bn=j+Bt*be,en=xe-Bt;en<_t&&(I=!0),xe=1/en,H=pe,j=be,pe=kt,be=bn,(Math.abs(kt/bn-p)<_t||He>30)&&(I=!0)}return[kt,bn]}},_r={parser:(function(){var p=["classes","setOperator","getOperators","getBrackets","tokenize","toRPN","tree","units"],I=new Di;for(var H in I)p.indexOf(H)===-1&&delete I[H];I.setOperator({precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(pe){return pe}}),I.setOperator({precedence:8,operator:"\\,",action:"slash_comma",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(pe){return pe}});var j=I.getBrackets();return j["{"].maps_to=void 0,I})(),space:"~",dot:" \\cdot ",latex:function(p,I){if(p.clone&&(p=p.clone()),p instanceof a.classes.Collection&&(p=p.elements),Jn(p)){for(var H=[],j=0;j<p.length;j++){var pe=p[j];$t(pe)||(pe=a.parse(pe)),H.push(this.latex(pe,I))}return this.brackets(H.join(", "),"square")}else if(Ge(p)){for(var be=`\\begin{pmatrix}
`,j=0;j<p.elements.length;j++){for(var He=[],xe=p.elements[j],_t=0;_t<xe.length;_t++)He.push(this.latex(xe[_t],I));be+=He.join(" & "),j<p.elements.length-1&&(be+=`\\\\
`)}return be+="\\end{pmatrix}",be}else if(fn(p)){for(var be="\\left[",j=0;j<p.elements.length;j++)be+=this.latex(p.elements[j],I)+" "+(j!==p.elements.length-1?",\\,":"");return be+="\\right]",be}else if(Qt(p)){for(var be="\\{",j=0;j<p.elements.length;j++)be+=this.latex(p.elements[j],I)+" "+(j!==p.elements.length-1?",\\,":"");return be+="\\}",be}p=p.clone();var Bt=I==="decimal"||I==="decimals",kt=p.power,bn=ri(kt),en=p.multiplier.lessThan(0);if(p.group===S&&Bt)return String(p.multiplier.toDecimal()*Math.pow(p.value,p.power.toDecimal()));p.multiplier=p.multiplier.abs();var hn;if(Bt){var Rn=String(p.multiplier.toDecimal());hn=[Rn,""]}else hn=[p.multiplier.num,p.multiplier.den];var wn=this.value(p,bn,I,en),jt;bn&&kt.negate(),Bt?(jt=$t(kt)?_r.latex(kt,I):String(kt.toDecimal()),String(jt)==="1"&&(jt="")):$t(kt)?jt=this.latex(kt,I):jt=this.formatFrac(kt,!0);var hr=["",""],jn=bn?1:0;hr[jn]=jt;var sr=(en?"-":"")+this.set(hn,wn,hr,p.group===R);return sr.replace(/\+\-/gi,"-")},greek:{alpha:"\\alpha",beta:"\\beta",gamma:"\\gamma",delta:"\\delta",epsilon:"\\epsilon",zeta:"\\zeta",eta:"\\eta",theta:"\\theta",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",mu:"\\mu",nu:"\\nu",xi:"\\xi",omnikron:"\\omnikron",pi:"\\pi",rho:"\\rho",sigma:"\\sigma",tau:"\\tau",upsilon:"\\upsilon",phi:"\\phi",chi:"\\chi",psi:"\\psi",omega:"\\omega",Gamma:"\\Gamma",Delta:"\\Delta",Epsilon:"\\Epsilon",Theta:"\\Theta",Lambda:"\\Lambda",Xi:"\\Xi",Pi:"\\Pi",Sigma:"\\Sigma",Phi:"\\Phi",Psi:"\\Psi",Omega:"\\Omega"},symbols:{arccos:"\\arccos",cos:"\\cos",csc:"\\csc",exp:"\\exp",ker:"\\ker",limsup:"\\limsup",min:"\\min",sinh:"\\sinh",arcsin:"\\arcsin",cosh:"\\cosh",deg:"\\deg",gcd:"\\gcd",lg:"\\lg",ln:"\\ln",Pr:"\\Pr",sqrt:"\\sqrt",sup:"\\sup",arctan:"\\arctan",cot:"\\cot",det:"\\det",hom:"\\hom",lim:"\\lim",log:"\\log",LN:"\\LN",sec:"\\sec",tan:"\\tan",arg:"\\arg",coth:"\\coth",dim:"\\dim",inf:"\\inf",liminf:"\\liminf",max:"\\max",sin:"\\sin",tanh:"\\tanh"},value:function(p,I,H,j){var pe=p.group,be=p.previousGroup,He=["",""],xe=I?1:0;if(p.isInfinity)He[xe]="\\infty";else if(pe===k||pe===S||be===k||be===S||be===T){var _t=this.formatSubscripts(p.value);_t.replace&&(_t=_t.replace(/(.+)_$/,"$1\\_"));var Bt=String(_t).split("_"),kt=this.greek[Bt[0]];kt&&(Bt[0]=kt,_t=Bt.join("_"));var p=this.symbols[Bt[0]];p&&(Bt[0]=p,_t=Bt.join("_")),He[xe]=_t}else if(pe===G||be===G){for(var bn,en=[],hn=p.fname,Rn=0;Rn<p.args.length;Rn++){var wn=p.args[Rn],jt;typeof wn=="string"?jt=wn:jt=this.latex(wn,H),en.push(jt)}if(hn===se)He[xe]="\\sqrt"+this.braces(en.join(","));else if(hn===Y)He[xe]=this.brackets(en.join(","),"abs");else if(hn===ie)He[xe]=this.brackets(en.join(","),"parens");else if(hn==="limit")He[xe]=" \\lim\\limits_{"+en[1]+" \\to "+en[2]+"} "+en[0];else if(hn==="integrate")He[xe]="\\int"+this.braces(en[0])+this.braces("d"+en[1]);else if(hn==="defint")He[xe]="\\int\\limits_"+this.braces(en[1])+"^"+this.braces(en[2])+" "+en[0]+" d"+en[3];else if(hn===fe||hn===Ie){var wn=p.args[0];wn.power.equals(1)&&(wn.isComposite()||wn.isCombination())&&(en[0]=this.brackets(en[0])),He[xe]=en[0]+(hn===fe?"!":"!!")}else if(hn==="floor")He[xe]="\\left \\lfloor"+this.braces(en[0])+"\\right \\rfloor";else if(hn==="ceil")He[xe]="\\left \\lceil"+this.braces(en[0])+"\\right \\rceil";else if(hn===_.LOG&&en.length>1)He[xe]="\\mathrm"+this.braces(_.LOG)+"_"+this.braces(en[1])+this.brackets(en[0]);else if(hn===_.LOG10)He[xe]="\\mathrm"+this.braces(_.LOG)+"_"+this.braces(10)+this.brackets(en[0]);else if(hn==="sum"){var hr=en[0],jn=en[1],sr=en[2],qr=en[3];He[xe]="\\sum\\limits_{"+this.braces(jn)+"="+this.braces(sr)+"}^"+this.braces(qr)+" "+this.braces(hr)}else if(hn==="product"){var hr=en[0],jn=en[1],sr=en[2],qr=en[3];He[xe]="\\prod\\limits_{"+this.braces(jn)+"="+this.braces(sr)+"}^"+this.braces(qr)+" "+this.braces(hr)}else if(hn==="nthroot")He[xe]="\\sqrt["+en[1]+"]"+this.braces(en[0]);else if(hn==="mod")He[xe]=en[0]+" \\bmod "+en[1];else if(hn==="realpart")He[xe]="\\operatorname{Re}"+this.brackets(en[0]);else if(hn==="imagpart")He[xe]="\\operatorname{Im}"+this.brackets(en[0]);else{var bn=hn!==""?"\\mathrm"+this.braces(hn.replace(/_/g,"\\_")):"";p.isConversion?He[xe]=bn+this.brackets(en.join(""),"parens"):He[xe]=bn+this.brackets(en.join(","),"parens")}}else if(p.isComposite()){for(var fr=p.collectSymbols().sort(pe===W||be===W?function(ii,Ei){return Ei.group-ii.group}:function(ii,Ei){var To=$t(ii.power)?-1:ii.power,ci=$t(Ei.power)?-1:Ei.power;return ci-To}),ai=[],so=fr.length,Rn=0;Rn<so;Rn++)ai.push(_r.latex(fr[Rn],H));var _t=ai.join("+");He[xe]=!(p.isLinear()&&p.multiplier.equals(1))||j?this.brackets(_t,"parens"):_t}else if(pe===R||be===P||be===R){pe===R&&p.distributeExponent();var ps=[],Xn=[],gi=[],Bi=[],ji=0,cs=0,ui=function(tr,ii,Ei){if(Ei>1&&ii.length>0)for(var To=ii.length,ci=0;ci<To;ci++){var Xs=ii[ci],Mo=tr[Xs];/^\\left\(.+\\right\)\^\{.+\}$/g.test(Mo)||/^\\left\(.+\\right\)$/g.test(Mo)||(tr[Xs]=_r.brackets(Mo,"parens"))}return tr};p.each(function(tr){var ii=ri(tr.power),Ei;ii?(Ei=_r.latex(tr.invert(),H),cs++,tr.isComposite()&&(p.multiplier.den!=1&&Math.abs(tr.power)==1&&(Ei=_r.brackets(Ei,"parens")),gi.push(ps.length)),ps.push(Ei)):(Ei=_r.latex(tr,H),ji++,tr.isComposite()&&(p.multiplier.num!=1&&Math.abs(tr.power)==1&&(Ei=_r.brackets(Ei,"parens")),Bi.push(Xn.length)),Xn.push(Ei))}),ui(Xn,Bi,ji),He[0]=Xn.join(this.dot),ui(ps,gi,cs),He[1]=ps.join(this.dot)}return He},set:function(p,I,H,j){var pe=function(hn){return/^\\left\(.+\\right\)$/.test(hn)};if(H&&(H=this.formatP(H)),j){var be=H[0];H[0]=""}I=this.merge(I,H);var He=p[0],xe=p[1],_t=I[0],Bt=I[1];_t&&Number(He)===1&&(He=""),Number(xe)===1&&(xe="");var kt=this.join(He,_t,pe(_t)?"":this.dot),bn=this.join(xe,Bt,pe(Bt)?"":this.dot);if(kt&&bn){var en=this.frac(kt,bn);return j&&be&&(en=this.brackets(en)+be),en}else return kt},merge:function(p,I){for(var H=[],j=0;j<2;j++)H[j]=p[j]+I[j];return H},join:function(p,I,H){return!p&&!I?"":p&&!I?p:I&&!p?I:p+H+I},formatSubscripts:function(p){for(var I=p.toString().split("_"),H="";I.length>1;)I.length>0&&(H="_"+this.braces(I.pop()+H));return I[0]+H},formatP:function(p){for(var I=0;I<2;I++){var H=p[I];H&&(p[I]="^"+this.braces(H))}return p},formatFrac:function(p,I){var H=p.num.toString(),j=p.den.toString();return I&&H==="1"&&j==="1"?"":j==="1"?H:this.frac(H,j)},frac:function(p,I){return"\\frac"+this.braces(p)+this.braces(I)},braces:function(p){return"{"+p+"}"},brackets:function(p,I){I=I||"parens";var H={parens:["(",")"],square:["[","]"],brace:["{","}"],abs:["|","|"],angle:["\\langle","\\rangle"]},j=H[I];return"\\left"+j[0]+p+"\\right"+j[1]},filterTokens:function(p){var I=[];Jn(p)&&(I.type=p.type);for(var H=["\\","left","right","big","Big","large","Large"],j=0,pe=p.length;j<pe;j++){var be=p[j],He=p[j+1];be.value==="\\"&&He.value==="\\"?I.push(be):Jn(be)?I.push(_r.filterTokens(be)):H.indexOf(be.value)===-1&&I.push(be)}return I},parse:function(p){var I,H,j="",pe=this.filterTokens(p),be={cdot:"",times:"",infty:"Infinity"},He=function(fr){return pe[typeof fr>"u"?++I:I+=fr]},xe=function(){return _r.parse(He())},_t=function(fr){return fr in be?be[fr]:fr==="*"&&pe[I+1].value==="&"?(He(2),","):fr==="&"?(He(),","):fr==="\\"?"],[":fr};for(I=0,H=pe.length;I<H;I++){var Bt=pe[I];if(Bt.value==="frac"){var kt=xe(),bn=xe();j+=kt+"/"+bn}else if(Bt.value in _r.symbols)if(Bt.value===se&&pe[I+1].type==="vector"&&pe[I+2].type==="Set"){var en=xe(),hn=xe();j+=hn+"^"+lr("1/"+en)}else j+=Bt.value+xe();else if(Bt.value==="int"){var Rn=xe();I++;var wn=He().value;wn=_t(wn.substring(1,wn.length)),j+="integrate"+lr(Rn+","+wn)}else if(Bt.value==="int_"){var H=xe();I++;var jt=He().value;if(jt===void 0){I--;var jt=xe()}var Rn=xe(),wn=He().value;if(wn===",")var wn=He().value;if(wn==="differentialD"){I++;var wn=He().value}if(wn==="mathrm"){I++;var wn=He().value}j+="defint"+lr(Rn+","+H+","+jt+","+wn)}else if(Bt.value&&Bt.value.startsWith("int_")){var H=Bt.value.replace("int_","");console.log("uppernow"),I++;var jt=He().value;if(jt===void 0){I--;var jt=xe()}var Rn=xe(),wn=He().value;if(wn===",")var wn=He().value;if(wn==="differentialD"){I++;var wn=He().value}if(wn==="mathrm"){I++;var wn=He().value}j+="defint"+lr(Rn+","+H+","+jt+","+wn)}else if(Bt.value==="mathrm"){var Rn=pe[++I][0].value;j+=Rn+xe()}else if(Bt.value==="sum_"||Bt.value==="prod_"){var hr=Bt.value==="sum_"?"sum":"product",jn=He();I++;var sr=xe(),Rn=xe();j+=hr+lr([Rn,_t(jn[0]),_t(jn[2]),_t(sr)].join(","))}else if(Bt.value==="lim_"){var jn=He();j+="limit"+lr([xe(),_t(jn[0]),_t(jn[2])].join(","))}else if(Bt.value==="begin"){var jn=He();if(Array.isArray(jn)){var qr=jn[0].value;qr==="matrix"&&(j+="matrix([")}}else if(Bt.value==="end"){var jn=He();if(Array.isArray(jn)){var qr=jn[0].value;qr==="matrix"&&(j+="])")}}else Array.isArray(Bt)?j+=_t(_r.parse(Bt)):j+=_t(Bt.value.toString())}return lr(j)}};function Gr(p){fn(p)?this.elements=p.items.slice(0):Jn(p)?this.elements=p.slice(0):this.elements=[].slice.call(arguments)}Gr.arrayPrefill=function(p,I){var H=[];I=I||0;for(var j=0;j<p;j++)H[j]=I;return H},Gr.fromArray=function(p){var I=new Gr;return I.elements=p,I},Gr.fromSet=function(p){return Gr.fromArray(p.elements)},Gr.prototype={custom:!0,e:function(p){return p<1||p>this.elements.length?null:this.elements[p-1]},set:function(p,I){$t(I)||(I=new Te(I)),this.elements[p]=I},dimensions:function(){return this.elements.length},modulus:function(){return $r("SAFE",function(){return a.pow(this.dot(this.clone()),new Te(.5))},void 0,this)},eql:function(p){var I=this.elements.length,H=p.elements||p;if(I!==H.length)return!1;do if(Math.abs(a.subtract(this.elements[I-1],H[I-1]).valueOf())>PRECISION)return!1;while(--I);return!0},clone:function(){for(var p=new Gr,I=this.elements.length,H=0;H<I;H++)p.elements.push(this.elements[H].clone());return this.getter&&(p.getter=this.getter.clone()),p},map:function(p){var I=[];return this.each(function(H,j){I.push(p(H,j))}),new Gr(I)},each:function(p){var I=this.elements.length,H=I,j;do j=H-I,p(this.elements[j],j+1);while(--I)},toUnitVector:function(){return $r("SAFE",function(){var p=this.modulus();return p.valueOf()===0?this.clone():this.map(function(I){return a.divide(I,p)})},void 0,this)},angleFrom:function(p){return $r("SAFE",function(){var I=p.elements||p,H=this.elements.length;if(H!==I.length)return null;var j=new Te(0),pe=new Te(0),be=new Te(0);this.each(function(Bt,kt){j=a.add(j,a.multiply(Bt,I[kt-1])),pe=a.add(pe,a.multiply(Bt,Bt)),be=a.add(be,a.multiply(I[kt-1],I[kt-1]))}),pe=a.pow(pe,new Te(.5)),be=a.pow(be,new Te(.5));var He=a.multiply(pe,be);if(He.valueOf()===0)return null;var xe=a.divide(j,He),_t=xe.valueOf();return _t<-1&&(xe=-1),_t>1&&(xe=1),new Te(Math.acos(xe))},void 0,this)},isParallelTo:function(p){var I=this.angleFrom(p).valueOf();return I===null?null:I<=PRECISION},isAntiparallelTo:function(p){var I=this.angleFrom(p).valueOf();return I===null?null:Math.abs(I-Math.PI)<=PRECISION},isPerpendicularTo:function(p){var I=this.dot(p);return I===null?null:Math.abs(I)<=PRECISION},add:function(p){return $r("SAFE",function(){var I=p.elements||p;return this.elements.length!==I.length?null:this.map(function(H,j){return a.add(H,I[j-1])})},void 0,this)},subtract:function(p){return $r("SAFE",function(){var I=p.elements||p;return this.elements.length!==I.length?null:this.map(function(H,j){return a.subtract(H,I[j-1])})},void 0,this)},multiply:function(p){return this.map(function(I){return I.clone()*p.clone()})},x:function(p){return this.multiply(p)},dot:function(p){return $r("SAFE",function(){var I=p.elements||p,H=new Te(0),j=this.elements.length;if(j!==I.length)return null;do H=a.add(H,a.multiply(this.elements[j-1],I[j-1]));while(--j);return H},void 0,this)},cross:function(p){var I=p.elements||p;if(this.elements.length!==3||I.length!==3)return null;var H=this.elements;return $r("SAFE",function(){return new Gr([a.subtract(a.multiply(H[1],I[2]),a.multiply(H[2],I[1])),a.subtract(a.multiply(H[2],I[0]),a.multiply(H[0],I[2])),a.subtract(a.multiply(H[0],I[1]),a.multiply(H[1],I[0]))])},void 0,this)},max:function(){var p=0,I=this.elements.length,H=I,j;do j=H-I,Math.abs(this.elements[j].valueOf())>Math.abs(p.valueOf())&&(p=this.elements[j]);while(--I);return p},magnitude:function(){var p=new Te(0);return this.each(function(I){p=a.add(p,a.pow(I,new Te(2)))}),a.sqrt(p)},indexOf:function(p){var I=null,H=this.elements.length,j=H,pe;do pe=j-H,I===null&&this.elements[pe].valueOf()===p.valueOf()&&(I=pe+1);while(--H);return I},text:function(p){return Or(this)},toString:function(){return this.text()},latex:function(p){for(var I=[],H=0;H<this.elements.length;H++)I.push(_r.latex.call(_r,this.elements[H],p));return"["+I.join(", ")+"]"}};function xn(){var p=arguments,I=p.length,H,j=[];if(Ge(p))for(H=0;H<I;H++)j.push(p[H].slice(0));else{var pe,be,He;for(H=0;H<I;H++)pe=p[H],fn(pe)&&(pe=pe.elements),Jn(pe)||(pe=[pe]),He=pe.length,be&&be!==He&&dt("Unable to create Matrix. Row dimensions do not match!"),j.push(pe),be=He}this.elements=j}xn.identity=function(p){for(var I=new xn,H=0;H<p;H++){I.elements.push([]);for(var j=0;j<p;j++)I.set(H,j,H===j?new Te(1):new Te(0))}return I},xn.fromArray=function(p){function I(H){return xn.apply(this,H)}return I.prototype=xn.prototype,new I(p)},xn.zeroMatrix=function(p,I){for(var H=new xn,j=0;j<p;j++)H.elements.push(Gr.arrayPrefill(I,new Te(0)));return H},xn.prototype={custom:!0,get:function(p,I){if(this.elements[p])return this.elements[p][I]},map:function(p,I){var H=new xn;return this.each(function(j,pe,be){H.set(pe,be,p.call(H,j),I)}),H},set:function(p,I,H,j){this.elements[p]||(this.elements[p]=[]),this.elements[p][I]=j||$t(H)?H:new Te(H)},cols:function(){return this.elements[0].length},rows:function(){return this.elements.length},row:function(p){return!p||p>this.cols()?[]:this.elements[p-1]},col:function(p){var I=this.rows(),H=[];if(p>this.cols()||!p)return H;for(var j=0;j<I;j++)H.push(this.elements[j][p-1]);return H},eachElement:function(p){var I=this.rows(),H=this.cols(),j,pe;for(j=0;j<I;j++)for(pe=0;pe<H;pe++)p.call(this,this.elements[j][pe],j,pe)},determinant:function(){if(!this.isSquare())return null;var p=this.toRightTriangular(),I=p.elements[0][0],H=p.elements.length-1,j=H,pe;do pe=j-H+1,I=a.multiply(I,p.elements[pe][pe]);while(--H);return I},isSquare:function(){return this.elements.length===this.elements[0].length},isSingular:function(){return this.isSquare()&&this.determinant()===0},augment:function(p){var I=this.rows(),H=p.rows();I!==H&&dt("Cannot augment matrix. Rows don't match.");for(var j=0;j<I;j++)this.elements[j]=this.elements[j].concat(p.elements[j]);return this},clone:function(){for(var p=this.rows(),I=this.cols(),H=new xn,j=0;j<p;j++){H.elements[j]=[];for(var pe=0;pe<I;pe++){var be=this.elements[j][pe];H.elements[j][pe]=$t(be)?be.clone():be}}return H},invert:function(){return this.isSquare()||dt("Matrix is not square!"),$r("SAFE",function(){var p=this.elements.length,I=p,H,j,pe=xn.identity(p),be=this.augment(pe).toRightTriangular(),He,xe=be.elements[0].length,_t,Bt,kt,bn=[],en;do{H=p-1,Bt=[],He=xe,bn[H]=[],kt=be.elements[H][H];do _t=xe-He,en=a.divide(be.elements[H][_t],kt.clone()),Bt.push(en),_t>=I&&bn[H].push(en);while(--He);for(be.elements[H]=Bt,j=0;j<H;j++){Bt=[],He=xe;do _t=xe-He,Bt.push(a.subtract(be.elements[j][_t].clone(),a.multiply(be.elements[H][_t].clone(),be.elements[j][H].clone())));while(--He);be.elements[j]=Bt}}while(--p);return xn.fromArray(bn)},void 0,this)},toRightTriangular:function(){return $r("SAFE",function(){var p=this.clone(),I,H,j,pe=this.elements.length,be=pe,He,xe,_t=this.elements[0].length,Bt;do{if(He=be-pe,H=p.elements[He][He],H.valueOf()===0){for(var kt=He+1;kt<be;kt++)if(j=p.elements[kt][He],j&&j.valueOf()!==0){I=[],xe=_t;do Bt=_t-xe,I.push(a.add(p.elements[He][Bt].clone(),p.elements[kt][Bt].clone()));while(--xe);p.elements[He]=I;break}}var H=p.elements[He][He];if(H.valueOf()!==0)for(kt=He+1;kt<be;kt++){var bn=a.divide(p.elements[kt][He].clone(),p.elements[He][He].clone());I=[],xe=_t;do Bt=_t-xe,I.push(Bt<=He?new Te(0):a.subtract(p.elements[kt][Bt].clone(),a.multiply(p.elements[He][Bt].clone(),bn.clone())));while(--xe);p.elements[kt]=I}}while(--pe);return p},void 0,this)},transpose:function(){var p=this.elements.length,I=this.elements[0].length,H=new xn,j=I,pe,be,He;do{pe=I-j,H.elements[pe]=[],be=p;do He=p-be,H.elements[pe][He]=this.elements[He][pe].clone();while(--be)}while(--j);return H},canMultiplyFromLeft:function(p){var I=Ge(p)?p.elements.length:p.length;return this.elements[0].length===I},sameSize:function(p){return this.rows()===p.rows()&&this.cols()===p.cols()},multiply:function(p){return $r("SAFE",function(){var I=p.elements||p;if(!this.canMultiplyFromLeft(I)){if(this.sameSize(p)){for(var H=new xn,j=this.rows(),xe=0;xe<j;xe++){var pe=a.multiply(new Gr(this.elements[xe]),new Gr(p.elements[xe]));H.elements[xe]=pe.elements}return H}return null}var be=this.elements.length,He=be,xe,_t,Bt=I[0].length,kt,bn=this.elements[0].length,en=[],hn,Rn,wn;do{xe=He-be,en[xe]=[],_t=Bt;do{kt=Bt-_t,hn=new Te(0),Rn=bn;do wn=bn-Rn,hn=a.add(hn,a.multiply(this.elements[xe][wn],I[wn][kt]));while(--Rn);en[xe][kt]=hn}while(--_t)}while(--be);return xn.fromArray(en)},void 0,this)},add:function(p,I){var H=new xn;return this.sameSize(p)&&this.eachElement(function(j,pe,be){var He=a.add(j.clone(),p.elements[pe][be].clone());I&&(He=I.call(H,He,j,p.elements[pe][be])),H.set(pe,be,He)}),H},subtract:function(p,I){var H=new xn;return this.sameSize(p)&&this.eachElement(function(j,pe,be){var He=a.subtract(j.clone(),p.elements[pe][be].clone());I&&(He=I.call(H,He,j,p.elements[pe][be])),H.set(pe,be,He)}),H},negate:function(){return this.each(function(p){return p.negate()}),this},toVector:function(){if(this.rows()===1||this.cols()===1){var p=new Gr;return p.elements=this.elements,p}return this},toString:function(p,I){for(var H=this.rows(),j=[],pe=0;pe<H;pe++)j.push("["+this.elements[pe].map(function(be){var He=I?be.multiplier.toDecimal():be.toString();return be!==void 0?He:""}).join(",")+"]");return"matrix"+lr(j.join(","))},text:function(){return"matrix("+this.elements.toString("")+")"},latex:function(p){var I=this.cols(),H=this.elements;return Zn("\\begin{vmatrix}{0}\\end{vmatrix}",function(){var j=[];for(var pe in H){for(var be=[],He=0;He<I;He++)be.push(_r.latex.call(_r,H[pe][He],p));j.push(be.join(" & "))}return j.join(" \\cr ")})}},xn.prototype.each=xn.prototype.eachElement;function cr(p){if(this.elements=[],fn(p)||(p=Gr.fromArray(arguments)),p)for(var I=p.elements,H=0,j=I.length;H<j;H++)this.add(I[H])}cr.fromArray=function(p){function I(H){return cr.apply(this,H)}return I.prototype=cr.prototype,new I(p)},cr.prototype={add:function(p){this.contains(p)||this.elements.push(p.clone())},contains:function(p){for(var I=0;I<this.elements.length;I++){var H=this.elements[I];if(p.equals(H))return!0}return!1},each:function(p){for(var I=this.elements,H=new cr,j=0,pe=I.length;j<pe;j++){var be=I[j];p.call(this,be,H,j)}return H},clone:function(){var p=new cr;return this.each(function(I){p.add(I.clone())}),p},union:function(p){var I=this.clone();return p.each(function(H){I.add(H)}),I},difference:function(p){var I=this.clone();return p.each(function(H){I.remove(H)}),I},remove:function(p){for(var I=0,H=this.elements.length;I<H;I++){var j=this.elements[I];if(j.equals(p))return Bn(this.elements,I),!0}return!1},intersection:function(p){var I=new cr,H=this;return p.each(function(j){H.contains(j)&&I.add(j)}),I},intersects:function(p){return this.intersection(p).elements.length>0},is_subset:function(p){for(var I=p.elements,H=0,j=I.length;H<j;H++)if(!this.contains(I[H]))return!1;return!0},toString:function(){return"{"+this.elements.join(",")+"}"}};var Kr={dependencies:{_rename:{"Math2.factorial":"factorial"},factorial:{"Math2.gamma":yn.gamma},gamma_incomplete:{"Math2.factorial":yn.factorial},Li:{"Math2.Ei":yn.Ei,"Math2.bigLog":yn.bigLog,Frac:an},Ci:{"Math2.factorial":yn.factorial},Ei:{"Math2.factorial":yn.factorial},Si:{"Math2.factorial":yn.factorial},Shi:{"Math2.factorial":yn.factorial},Chi:{isInt:cn,nround:An,"Math2.num_integrate":yn.num_integrate},factor:{"Math2.ifactor":yn.ifactor,Symbol:Te},num_integrate:{"Math2.simpson":yn.simpson,nround:An},fib:{even:B}},reformat:{diff:function(p,I){var H=p.args[1].toString(),j="var f = "+Kr.build(p.args[0].toString(),[H])+";";return I[1]+="var diff = "+yn.diff.toString()+";",I[1]+=j,["diff(f)("+H+")",I]}},getProperName:function(p){var I={continued_fraction:"continuedFraction"};return I[p]||p},compileDependencies:function(p,I){var H=Kr.dependencies[p],j=I&&I[1]?I[1]:"",pe=I&&I[0]?I[0]:{};for(var be in H)if(typeof H[be]!="object"){var He=be.split(".");j+="var "+(He.length>1?He[1]:He[0])+"="+H[be]+";",pe[be]=He.pop()}return[pe,j]},getArgsDeps:function(p,I){for(var H=p.args,j=0;j<H.length;j++)p.args[j].each(function(pe){pe.group===G&&(I=Kr.compileDependencies(pe.fname,I))});return I},build:function(p,I){p=$r("PARSE2NUMBER",function(){return a.parse(p)},!0);var H=ln(p),j=[],pe=[],be=function(kt,bn){kt.fname===""&&(kt=Te.unwrapPARENS(kt)),bn=bn||[];var en=[],hn=kt.group,Rn="",wn=function(fr){var ai=fr===R?"*":"+",so=[];for(var ps in kt.symbols){var Xn=kt.symbols[ps],gi=be(Xn,bn)[0];Xn.isComposite()&&(gi=lr(gi)),so.push(gi)}var Bi=so.join(ai);return Bi=Bi&&!kt.multiplier.equals(1)?lr(Bi):Bi,Bi},jt=function(fr){var ai;return fr in Math?ai="Math."+fr:(fr=Kr.getProperName(fr),j.indexOf(fr)===-1&&(bn.push("var "+fr+" = "+yn[fr].toString()+"; "),j.push(fr)),ai=fr),ai=ai+lr(kt.args.map(function(so){return be(so,bn)[0]}).join(",")),ai};hn===T?en.push(kt.multiplier.toDecimal()):kt.multiplier.equals(-1)?Rn="-":kt.multiplier.equals(1)||en.push(kt.multiplier.toDecimal());var hr;if(hn===k||hn===S)hr=kt.value;else if(hn===G)if(pe=Kr.compileDependencies(kt.fname,pe),pe=Kr.getArgsDeps(kt,pe),Kr.reformat[kt.fname]){var jn=Kr.reformat[kt.fname](kt,pe);pe=jn[1],hr=jn[0]}else hr=jt(kt.fname);else if(hn===P){var sr=kt.previousGroup;sr===T||sr===k?hr=kt.value:sr===G?(hr=jt(kt.fname),pe=Kr.compileDependencies(kt.fname,pe),pe=Kr.getArgsDeps(kt,pe)):hr=wn(kt.previousGroup)}else hr=wn(kt.group);if(kt.group!==T&&!kt.power.equals(1)){var qr=be(a.parse(kt.power));bn.push(qr[1]),hr="Math.pow"+lr(hr+","+qr[0])}return hr&&en.push(Rn+hr),[en.join("*"),bn.join("").replace(/\n+\s+/g," ")]};I&&(H=I);var He=be(p);for(var xe in pe[0]){var _t=pe[0][xe];He[1]=He[1].replace(xe,_t),pe[1]=pe[1].replace(xe,_t)}var Bt=new Function(H,(pe[1]||"")+He[1]+" return "+He[0]+";");return Bt}};(function(){mn(a.CONSTANTS),mn(a.functions),a.initConstants(),a.error||(a.error=dt),_.LOG_FNS={log:a.functions.log,log10:a.functions.log10}})();var K0={allSame:Pe,allNumeric:_e,arguments2Array:as,arrayAddSlices:$e,arrayClone:F,arrayMax:st,arrayMin:At,arrayEqual:Ot,arrayUnique:Ce,arrayGetVariables:je,arraySum:En,block:$r,build:Kr.build,clearU:ne,comboSort:We,compare:qe,convertToVector:J,customError:Oe,customType:fi,decompose_fn:Ht,each:Se,evaluate:z,even:B,evenFraction:ee,fillHoles:Ut,firstObject:Re,format:Zn,generatePrimes:on,getCoeffs:kr,getU:Lr,importFunctions:Os,inBrackets:lr,isArray:Jn,isExpression:qt,isFraction:Ct,isInt:cn,isMatrix:Ge,isNegative:ri,isNumericSymbol:Pn,isPrime:de,isReserved:rt,isSymbol:$t,isVariableSymbol:Cn,isVector:fn,keys:ue,knownVariable:Fe,nroots:Ye,remove:Bn,reserveNames:mn,range:D,round:An,sameSign:ar,scientificToDecimal:Lt,separate:St,stringReplace:ls,text:Or,validateName:ot,variables:ln,warn:nt},io={groups:m,Symbol:Te,Expression:mi,Frac:an,Vector:Gr,Matrix:xn,Parser:Di,Scientific:Pr,Fraction:Ts,Math2:yn,LaTeX:_r,Utils:K0,PARSER:a,PARENTHESIS:ie,Settings:_,err:dt,bigInt:c,bigDec:d,exceptions:pi},ir=function(p,I,H,j){var pe=!1,be=/^([a-z_][a-z\d\_]*)\(([a-z_,\s]*)\):=(.+)$/gi.exec(p);if(be)return n.setFunction(be[1],be[2].split(","),be[3]);p instanceof mi&&(p=p.toString()),Jn(H)||(H=typeof H>"u"?[]:[H]),H.forEach(function(xe){if(xe==="numer"){pe=!0;return}var _t=a.functions[H];_t&&_t[1]===1&&(p=`${xe}(${p})`)});var He=$r("PARSE2NUMBER",function(){return a.parse(p,I)},pe||_.PARSE2NUMBER);return j?De[j-1]=He:De.push(He),new mi(He)};return ir.rpn=function(p){return a.tokenize(a.toRPN(p))},ir.convertToLaTeX=function(p,I){return a.toTeX(p,I)},ir.convertFromLaTeX=function(p){var I=_r.parse(a.tokenize(p));return new mi(a.parse(I))},ir.version=function(p){if(p)try{return io[p].version}catch{return"No module named "+p+" found!"}return s},ir.getWarnings=function(){return ze},ir.setConstant=function(p,I){if(ot(p),!rt(p))if(I==="delete"||I==="")delete a.CONSTANTS[p];else{if(isNaN(I))throw new ht("Constant must be a number!");a.CONSTANTS[p]=I}return this},ir.getConstant=function(p){return String(a.constant[p])},ir.setFunction=ct,ir.getCore=function(){return io},ir.getExpression=ir.getEquation=mi.getExpression,ir.reserved=function(p){return p?it:it.join(", ")},ir.clear=function(p,I){if(p==="all")De=[];else if(p==="last")De.pop();else if(p==="first")De.shift();else{var H=p?p-1:De.length;I===!0?De[H]=void 0:Bn(De,H)}return this},ir.flush=function(){return this.clear("all"),this},ir.expressions=function(p,I,H){for(var j=p?{}:[],pe=0;pe<De.length;pe++){var be=I?_r.latex(De[pe],H):Or(De[pe],H);p?j[pe+1]=be:j.push(be)}return j},ir.register=function(p){var I=this.getCore();if(Jn(p))for(var H=0;H<p.length;H++)p&&this.register(p[H]);else if(p&&_.exclude.indexOf(p.name)===-1){if(p.dependencies){for(var H=0;H<p.dependencies.length;H++)if(!I[p.dependencies[H]])throw new Error(Zn("{0} requires {1} to be loaded!",p.name,p.dependencies[H]))}var j=p.parent,pe=p.build.call(I);if(j){I[j]||(I[p.parent]={});var be=j==="nerdamer"?this:I[j];be[p.name]=pe}p.visible&&(a.functions[p.name]=[pe,p.numargs])}},ir.validateName=ot,ir.validVarName=function(p){try{return ot(p),it.indexOf(p)===-1}catch{return!1}},ir.supported=function(){return ue(a.functions)},ir.numEquations=ir.numExpressions=function(){return De.length},ir.setVar=function(p,I){return ot(p),p in a.CONSTANTS&&dt("Cannot set value for constant "+p),I==="delete"||I===""?delete Ue[p]:Ue[p]=$t(I)?I:a.parse(I),this},ir.getVar=function(p){return Ue[p]},ir.clearVars=function(){return Ue={},this},ir.load=function(p){return p.call(this),this},ir.getVars=function(p,I){p=p||"text";var H={};if(p==="object")H=Ue;else for(var j in Ue)p==="latex"?H[j]=Ue[j].latex(I):p==="text"&&(H[j]=Ue[j].text(I));return H},ir.set=function(p,I){if(typeof p=="object")for(var H in p)ir.set(H,p[H]);var j=["SAFE"];j.indexOf(p)!==-1&&dt("Cannot modify setting: "+p),p==="PRECISION"?(d.set({precision:I}),_.PRECISION=I,I>21&&this.set("USE_BIG",!0)):p==="USE_LN"&&I===!0?(_.LOG="LN",_.LOG10="log",a.functions.log=_.LOG_FNS.log10,a.functions.log[0]=function(pe){return pe.isConstant()?new Te(Math.log10(pe)):a.symfunction(_.LOG10,[pe])},a.functions.LN=_.LOG_FNS.log,delete a.functions.log10):_[p]=I},ir.get=function(p){return _[p]},ir.updateAPI=function(p){var I=function(j){return function(){for(var pe=[].slice.call(arguments),be=0;be<pe.length;be++)pe[be]=a.parse(pe[be]);return new mi($r("PARSE2NUMBER",function(){return a.callfunction(j,pe)}))}};for(var H in a.functions)(!(H in ir)||p)&&(ir[H]=I(H))},ir.replaceFunction=function(p,I,H){var j=a.functions[p],pe=typeof H>"u"?j[1]:H;a.functions[p]=[I.call(void 0,j[0],io),pe]},ir.setOperator=function(p,I){a.setOperator(p,I)},ir.getOperator=function(p){return a.getOperator(p)},ir.aliasOperator=function(p,I){a.aliasOperator(p,I)},ir.tree=function(p){return a.tree(a.toRPN(a.tokenize(p)))},ir.htmlTree=function(p,I){var H=this.tree(p);return`<div class="tree">
    <ul>
        <li>
`+H.toHTML(3,I)+`
        </li>
    </ul>
</div>`},ir.addPeeker=function(p,I){a.peekers[p]&&a.peekers[p].push(I)},ir.removePeeker=function(p,I){Bn(a.peekers[p],I)},ir.parse=function(p){return String(p).split(";").map(function(I){return a.parse(I)})},ir.updateAPI(),ir})({bigInt:(function(){var r=(function(s){var a=1e7,c=7,d=9007199254740992,m=k(d),$=Math.log(d);function v(D,ue){return typeof D>"u"?v[0]:typeof ue<"u"?+ue==10?ar(D):Jn(D,ue):ar(D)}function _(D,ue){this.value=D,this.sign=ue,this.isSmall=!1}_.prototype=Object.create(v.prototype);function T(D){this.value=D,this.sign=D<0,this.isSmall=!0}T.prototype=Object.create(v.prototype);function S(D){return-d<D&&D<d}function k(D){return D<1e7?[D]:D<1e14?[D%1e7,Math.floor(D/1e7)]:[D%1e7,Math.floor(D/1e7)%1e7,Math.floor(D/1e14)]}function P(D){G(D);var ue=D.length;if(ue<4&&Lt(D,m)<0)switch(ue){case 0:return 0;case 1:return D[0];case 2:return D[0]+D[1]*a;default:return D[0]+(D[1]+D[2]*a)*a}return D}function G(D){for(var ue=D.length;D[--ue]===0;);D.length=ue+1}function X(D){for(var ue=new Array(D),Re=-1;++Re<D;)ue[Re]=0;return ue}function R(D){return D>0?Math.floor(D):Math.ceil(D)}function W(D,ue){var Re=D.length,qe=ue.length,ct=new Array(Re),st=0,At=a,Ot,F;for(F=0;F<qe;F++)Ot=D[F]+ue[F]+st,st=Ot>=At?1:0,ct[F]=Ot-st*At;for(;F<Re;)Ot=D[F]+st,st=Ot===At?1:0,ct[F++]=Ot-st*At;return st>0&&ct.push(st),ct}function te(D,ue){return D.length>=ue.length?W(D,ue):W(ue,D)}function ie(D,ue){var Re=D.length,qe=new Array(Re),ct=a,st,At;for(At=0;At<Re;At++)st=D[At]-ct+ue,ue=Math.floor(st/ct),qe[At]=st-ue*ct,ue+=1;for(;ue>0;)qe[At++]=ue%ct,ue=Math.floor(ue/ct);return qe}_.prototype.add=function(D){var ue=ar(D);if(this.sign!==ue.sign)return this.subtract(ue.negate());var Re=this.value,qe=ue.value;return ue.isSmall?new _(ie(Re,Math.abs(qe)),this.sign):new _(te(Re,qe),this.sign)},_.prototype.plus=_.prototype.add,T.prototype.add=function(D){var ue=ar(D),Re=this.value;if(Re<0!==ue.sign)return this.subtract(ue.negate());var qe=ue.value;if(ue.isSmall){if(S(Re+qe))return new T(Re+qe);qe=k(Math.abs(qe))}return new _(ie(qe,Math.abs(Re)),Re<0)},T.prototype.plus=T.prototype.add;function se(D,ue){var Re=D.length,qe=ue.length,ct=new Array(Re),st=0,At=a,Ot,F;for(Ot=0;Ot<qe;Ot++)F=D[Ot]-st-ue[Ot],F<0?(F+=At,st=1):st=0,ct[Ot]=F;for(Ot=qe;Ot<Re;Ot++){if(F=D[Ot]-st,F<0)F+=At;else{ct[Ot++]=F;break}ct[Ot]=F}for(;Ot<Re;Ot++)ct[Ot]=D[Ot];return G(ct),ct}function Y(D,ue,Re){var qe;return Lt(D,ue)>=0?qe=se(D,ue):(qe=se(ue,D),Re=!Re),qe=P(qe),typeof qe=="number"?(Re&&(qe=-qe),new T(qe)):new _(qe,Re)}function fe(D,ue,Re){var qe=D.length,ct=new Array(qe),st=-ue,At=a,Ot,F;for(Ot=0;Ot<qe;Ot++)F=D[Ot]+st,st=Math.floor(F/At),F%=At,ct[Ot]=F<0?F+At:F;return ct=P(ct),typeof ct=="number"?(Re&&(ct=-ct),new T(ct)):new _(ct,Re)}_.prototype.subtract=function(D){var ue=ar(D);if(this.sign!==ue.sign)return this.add(ue.negate());var Re=this.value,qe=ue.value;return ue.isSmall?fe(Re,Math.abs(qe),this.sign):Y(Re,qe,this.sign)},_.prototype.minus=_.prototype.subtract,T.prototype.subtract=function(D){var ue=ar(D),Re=this.value;if(Re<0!==ue.sign)return this.add(ue.negate());var qe=ue.value;return ue.isSmall?new T(Re-qe):fe(qe,Math.abs(Re),Re>=0)},T.prototype.minus=T.prototype.subtract,_.prototype.negate=function(){return new _(this.value,!this.sign)},T.prototype.negate=function(){var D=this.sign,ue=new T(-this.value);return ue.sign=!D,ue},_.prototype.abs=function(){return new _(this.value,!1)},T.prototype.abs=function(){return new T(Math.abs(this.value))};function Ie(D,ue){var Re=D.length,qe=ue.length,ct=Re+qe,st=X(ct),At=a,Ot,F,$e,Ye,We;for($e=0;$e<Re;++$e){Ye=D[$e];for(var Ht=0;Ht<qe;++Ht)We=ue[Ht],Ot=Ye*We+st[$e+Ht],F=Math.floor(Ot/At),st[$e+Ht]=Ot-F*At,st[$e+Ht+1]+=F}return G(st),st}function De(D,ue){var Re=D.length,qe=new Array(Re),ct=a,st=0,At,Ot;for(Ot=0;Ot<Re;Ot++)At=D[Ot]*ue+st,st=Math.floor(At/ct),qe[Ot]=At-st*ct;for(;st>0;)qe[Ot++]=st%ct,st=Math.floor(st/ct);return qe}function Ue(D,ue){for(var Re=[];ue-- >0;)Re.push(0);return Re.concat(D)}function it(D,ue){var Re=Math.max(D.length,ue.length);if(Re<=30)return Ie(D,ue);Re=Math.ceil(Re/2);var qe=D.slice(Re),ct=D.slice(0,Re),st=ue.slice(Re),At=ue.slice(0,Re),Ot=it(ct,At),F=it(qe,st),$e=it(te(ct,qe),te(At,st)),Ye=te(te(Ot,Ue(se(se($e,Ot),F),Re)),Ue(F,2*Re));return G(Ye),Ye}function ze(D,ue){return-.012*D-.012*ue+15e-6*D*ue>0}_.prototype.multiply=function(D){var ue=ar(D),Re=this.value,qe=ue.value,ct=this.sign!==ue.sign,st;if(ue.isSmall){if(qe===0)return v[0];if(qe===1)return this;if(qe===-1)return this.negate();if(st=Math.abs(qe),st<a)return new _(De(Re,st),ct);qe=k(st)}return ze(Re.length,qe.length)?new _(it(Re,qe),ct):new _(Ie(Re,qe),ct)},_.prototype.times=_.prototype.multiply;function dt(D,ue,Re){return D<a?new _(De(ue,D),Re):new _(Ie(ue,k(D)),Re)}T.prototype._multiplyBySmall=function(D){return S(D.value*this.value)?new T(D.value*this.value):dt(Math.abs(D.value),k(Math.abs(this.value)),this.sign!==D.sign)},_.prototype._multiplyBySmall=function(D){return D.value===0?v[0]:D.value===1?this:D.value===-1?this.negate():dt(Math.abs(D.value),this.value,this.sign!==D.sign)},T.prototype.multiply=function(D){return ar(D)._multiplyBySmall(this)},T.prototype.times=T.prototype.multiply;function Oe(D){var ue=D.length,Re=X(ue+ue),qe=a,ct,st,At,Ot,F;for(At=0;At<ue;At++){Ot=D[At],st=0-Ot*Ot;for(var $e=At;$e<ue;$e++)F=D[$e],ct=2*(Ot*F)+Re[At+$e]+st,st=Math.floor(ct/qe),Re[At+$e]=ct-st*qe;Re[At+ue]=st}return G(Re),Re}_.prototype.square=function(){return new _(Oe(this.value),!1)},T.prototype.square=function(){var D=this.value*this.value;return S(D)?new T(D):new _(Oe(k(Math.abs(this.value))),!1)};function rt(D,ue){var Re=D.length,qe=ue.length,ct=a,st=X(ue.length),At=ue[qe-1],Ot=Math.ceil(ct/(2*At)),F=De(D,Ot),$e=De(ue,Ot),Ye,We,Ht,An,Lr,ne,Se;for(F.length<=Re&&F.push(0),$e.push(0),At=$e[qe-1],We=Re-qe;We>=0;We--){for(Ye=ct-1,F[We+qe]!==At&&(Ye=Math.floor((F[We+qe]*ct+F[We+qe-1])/At)),Ht=0,An=0,ne=$e.length,Lr=0;Lr<ne;Lr++)Ht+=Ye*$e[Lr],Se=Math.floor(Ht/ct),An+=F[We+Lr]-(Ht-Se*ct),Ht=Se,An<0?(F[We+Lr]=An+ct,An=-1):(F[We+Lr]=An,An=0);for(;An!==0;){for(Ye-=1,Ht=0,Lr=0;Lr<ne;Lr++)Ht+=F[We+Lr]-ct+$e[Lr],Ht<0?(F[We+Lr]=Ht+ct,Ht=0):(F[We+Lr]=Ht,Ht=1);An+=Ht}st[We]=Ye}return F=nt(F,Ot)[0],[P(st),P(F)]}function Pe(D,ue){for(var Re=D.length,qe=ue.length,ct=[],st=[],At=a,Ot,F,$e,Ye,We;Re;){if(st.unshift(D[--Re]),G(st),Lt(st,ue)<0){ct.push(0);continue}F=st.length,$e=st[F-1]*At+st[F-2],Ye=ue[qe-1]*At+ue[qe-2],F>qe&&($e=($e+1)*At),Ot=Math.ceil($e/Ye);do{if(We=De(ue,Ot),Lt(We,st)<=0)break;Ot--}while(Ot);ct.push(Ot),st=se(st,We)}return ct.reverse(),[P(ct),P(st)]}function nt(D,ue){var Re=D.length,qe=X(Re),ct=a,st,At,Ot,F;for(Ot=0,st=Re-1;st>=0;--st)F=Ot*ct+D[st],At=R(F/ue),Ot=F-At*ue,qe[st]=At|0;return[qe,Ot|0]}function ot(D,ue){var Re,qe=ar(ue),ct=D.value,st=qe.value,At;if(st===0)throw new Error("Cannot divide by zero");if(D.isSmall)return qe.isSmall?[new T(R(ct/st)),new T(ct%st)]:[v[0],D];if(qe.isSmall){if(st===1)return[D,v[0]];if(st==-1)return[D.negate(),v[0]];var Ot=Math.abs(st);if(Ot<a){Re=nt(ct,Ot),At=P(Re[0]);var F=Re[1];return D.sign&&(F=-F),typeof At=="number"?(D.sign!==qe.sign&&(At=-At),[new T(At),new T(F)]):[new _(At,D.sign!==qe.sign),new T(F)]}st=k(Ot)}var $e=Lt(ct,st);if($e===-1)return[v[0],D];if($e===0)return[v[D.sign===qe.sign?1:-1],v[0]];ct.length+st.length<=200?Re=rt(ct,st):Re=Pe(ct,st),At=Re[0];var Ye=D.sign!==qe.sign,We=Re[1],Ht=D.sign;return typeof At=="number"?(Ye&&(At=-At),At=new T(At)):At=new _(At,Ye),typeof We=="number"?(Ht&&(We=-We),We=new T(We)):We=new _(We,Ht),[At,We]}_.prototype.divmod=function(D){var ue=ot(this,D);return{quotient:ue[0],remainder:ue[1]}},T.prototype.divmod=_.prototype.divmod,_.prototype.divide=function(D){return ot(this,D)[0]},T.prototype.over=T.prototype.divide=_.prototype.over=_.prototype.divide,_.prototype.mod=function(D){return ot(this,D)[1]},T.prototype.remainder=T.prototype.mod=_.prototype.remainder=_.prototype.mod,_.prototype.pow=function(D){var ue=ar(D),Re=this.value,qe=ue.value,ct,st,At;if(qe===0)return v[1];if(Re===0)return v[0];if(Re===1)return v[1];if(Re===-1)return ue.isEven()?v[1]:v[-1];if(ue.sign)return v[0];if(!ue.isSmall)throw new Error("The exponent "+ue.toString()+" is too large.");if(this.isSmall&&S(ct=Math.pow(Re,qe)))return new T(R(ct));for(st=this,At=v[1];qe&!0&&(At=At.times(st),--qe),qe!==0;)qe/=2,st=st.square();return At},T.prototype.pow=_.prototype.pow,_.prototype.modPow=function(D,ue){if(D=ar(D),ue=ar(ue),ue.isZero())throw new Error("Cannot take modPow with modulus 0");for(var Re=v[1],qe=this.mod(ue);D.isPositive();){if(qe.isZero())return v[0];D.isOdd()&&(Re=Re.multiply(qe).mod(ue)),D=D.divide(2),qe=qe.square().mod(ue)}return Re},T.prototype.modPow=_.prototype.modPow;function Lt(D,ue){if(D.length!==ue.length)return D.length>ue.length?1:-1;for(var Re=D.length-1;Re>=0;Re--)if(D[Re]!==ue[Re])return D[Re]>ue[Re]?1:-1;return 0}_.prototype.compareAbs=function(D){var ue=ar(D),Re=this.value,qe=ue.value;return ue.isSmall?1:Lt(Re,qe)},T.prototype.compareAbs=function(D){var ue=ar(D),Re=Math.abs(this.value),qe=ue.value;return ue.isSmall?(qe=Math.abs(qe),Re===qe?0:Re>qe?1:-1):-1},_.prototype.compare=function(D){if(D===1/0)return-1;if(D===-1/0)return 1;var ue=ar(D),Re=this.value,qe=ue.value;return this.sign!==ue.sign?ue.sign?1:-1:ue.isSmall?this.sign?-1:1:Lt(Re,qe)*(this.sign?-1:1)},_.prototype.compareTo=_.prototype.compare,T.prototype.compare=function(D){if(D===1/0)return-1;if(D===-1/0)return 1;var ue=ar(D),Re=this.value,qe=ue.value;return ue.isSmall?Re==qe?0:Re>qe?1:-1:Re<0!==ue.sign?Re<0?-1:1:Re<0?1:-1},T.prototype.compareTo=T.prototype.compare,_.prototype.equals=function(D){return this.compare(D)===0},T.prototype.eq=T.prototype.equals=_.prototype.eq=_.prototype.equals,_.prototype.notEquals=function(D){return this.compare(D)!==0},T.prototype.neq=T.prototype.notEquals=_.prototype.neq=_.prototype.notEquals,_.prototype.greater=function(D){return this.compare(D)>0},T.prototype.gt=T.prototype.greater=_.prototype.gt=_.prototype.greater,_.prototype.lesser=function(D){return this.compare(D)<0},T.prototype.lt=T.prototype.lesser=_.prototype.lt=_.prototype.lesser,_.prototype.greaterOrEquals=function(D){return this.compare(D)>=0},T.prototype.geq=T.prototype.greaterOrEquals=_.prototype.geq=_.prototype.greaterOrEquals,_.prototype.lesserOrEquals=function(D){return this.compare(D)<=0},T.prototype.leq=T.prototype.lesserOrEquals=_.prototype.leq=_.prototype.lesserOrEquals,_.prototype.isEven=function(){return(this.value[0]&1)===0},T.prototype.isEven=function(){return(this.value&1)===0},_.prototype.isOdd=function(){return(this.value[0]&1)===1},T.prototype.isOdd=function(){return(this.value&1)===1},_.prototype.isPositive=function(){return!this.sign},T.prototype.isPositive=function(){return this.value>0},_.prototype.isNegative=function(){return this.sign},T.prototype.isNegative=function(){return this.value<0},_.prototype.isUnit=function(){return!1},T.prototype.isUnit=function(){return Math.abs(this.value)===1},_.prototype.isZero=function(){return!1},T.prototype.isZero=function(){return this.value===0},_.prototype.isDivisibleBy=function(D){var ue=ar(D),Re=ue.value;return Re===0?!1:Re===1?!0:Re===2?this.isEven():this.mod(ue).equals(v[0])},T.prototype.isDivisibleBy=_.prototype.isDivisibleBy;function de(D){var ue=D.abs();if(ue.isUnit())return!1;if(ue.equals(2)||ue.equals(3)||ue.equals(5))return!0;if(ue.isEven()||ue.isDivisibleBy(3)||ue.isDivisibleBy(5))return!1;if(ue.lesser(49))return!0}function Fe(D,ue){for(var Re=D.prev(),qe=Re,ct=0,st,At,Ot;qe.isEven();)qe=qe.divide(2),ct++;e:for(At=0;At<ue.length;At++)if(!D.lesser(ue[At])&&(Ot=r(ue[At]).modPow(qe,D),!(Ot.equals(v[1])||Ot.equals(Re)))){for(st=ct-1;st!=0;st--){if(Ot=Ot.square().mod(D),Ot.isUnit())return!1;if(Ot.equals(Re))continue e}return!1}return!0}_.prototype.isPrime=function(D){var ue=de(this);if(ue!==s)return ue;var Re=this.abs(),qe=Re.bitLength();if(qe<=64)return Fe(Re,[2,325,9375,28178,450775,9780504,1795265022]);for(var ct=Math.log(2)*qe,st=Math.ceil(D===!0?2*Math.pow(ct,2):ct),At=[],Ot=0;Ot<st;Ot++)At.push(r(Ot+2));return Fe(Re,At)},T.prototype.isPrime=_.prototype.isPrime,_.prototype.isProbablePrime=function(D){var ue=de(this);if(ue!==s)return ue;for(var Re=this.abs(),qe=D===s?5:D,ct=[],st=0;st<qe;st++)ct.push(r.randBetween(2,Re.minus(2)));return Fe(Re,ct)},T.prototype.isProbablePrime=_.prototype.isProbablePrime,_.prototype.modInv=function(D){for(var ue=r.zero,Re=r.one,qe=ar(D),ct=this.abs(),st,At,Ot;!ct.equals(r.zero);)st=qe.divide(ct),At=ue,Ot=qe,ue=Re,qe=ct,Re=At.subtract(st.multiply(Re)),ct=Ot.subtract(st.multiply(ct));if(!qe.equals(1))throw new Error(this.toString()+" and "+D.toString()+" are not co-prime");return ue.compare(0)===-1&&(ue=ue.add(D)),this.isNegative()?ue.negate():ue},T.prototype.modInv=_.prototype.modInv,_.prototype.next=function(){var D=this.value;return this.sign?fe(D,1,this.sign):new _(ie(D,1),this.sign)},T.prototype.next=function(){var D=this.value;return D+1<d?new T(D+1):new _(m,!1)},_.prototype.prev=function(){var D=this.value;return this.sign?new _(ie(D,1),!0):fe(D,1,this.sign)},T.prototype.prev=function(){var D=this.value;return D-1>-d?new T(D-1):new _(m,!0)};for(var et=[1];2*et[et.length-1]<=a;)et.push(2*et[et.length-1]);var _e=et.length,Ct=et[_e-1];function $t(D){return(typeof D=="number"||typeof D=="string")&&+Math.abs(D)<=a||D instanceof _&&D.value.length<=1}_.prototype.shiftLeft=function(D){if(!$t(D))throw new Error(String(D)+" is too large for shifting.");if(D=+D,D<0)return this.shiftRight(-D);var ue=this;if(ue.isZero())return ue;for(;D>=_e;)ue=ue.multiply(Ct),D-=_e-1;return ue.multiply(et[D])},T.prototype.shiftLeft=_.prototype.shiftLeft,_.prototype.shiftRight=function(D){var ue;if(!$t(D))throw new Error(String(D)+" is too large for shifting.");if(D=+D,D<0)return this.shiftLeft(-D);for(var Re=this;D>=_e;){if(Re.isZero()||Re.isNegative()&&Re.isUnit())return Re;ue=ot(Re,Ct),Re=ue[1].isNegative()?ue[0].prev():ue[0],D-=_e-1}return ue=ot(Re,et[D]),ue[1].isNegative()?ue[0].prev():ue[0]},T.prototype.shiftRight=_.prototype.shiftRight;function qt(D,ue,Re){ue=ar(ue);for(var qe=D.isNegative(),ct=ue.isNegative(),st=qe?D.not():D,At=ct?ue.not():ue,Ot=0,F=0,$e=null,Ye=null,We=[];!st.isZero()||!At.isZero();)$e=ot(st,Ct),Ot=$e[1].toJSNumber(),qe&&(Ot=Ct-1-Ot),Ye=ot(At,Ct),F=Ye[1].toJSNumber(),ct&&(F=Ct-1-F),st=$e[0],At=Ye[0],We.push(Re(Ot,F));for(var Ht=Re(qe?1:0,ct?1:0)!==0?r(-1):r(0),An=We.length-1;An>=0;An-=1)Ht=Ht.multiply(Ct).add(r(We[An]));return Ht}_.prototype.not=function(){return this.negate().prev()},T.prototype.not=_.prototype.not,_.prototype.and=function(D){return qt(this,D,function(ue,Re){return ue&Re})},T.prototype.and=_.prototype.and,_.prototype.or=function(D){return qt(this,D,function(ue,Re){return ue|Re})},T.prototype.or=_.prototype.or,_.prototype.xor=function(D){return qt(this,D,function(ue,Re){return ue^Re})},T.prototype.xor=_.prototype.xor;var ln=1<<30,En=(a&-a)*(a&-a)|ln;function St(D){var ue=D.value,Re=typeof ue=="number"?ue|ln:ue[0]+ue[1]*a|En;return Re&-Re}function Ut(D,ue){if(ue.compareTo(D)<=0){var Re=Ut(D,ue.square(ue)),qe=Re.p,ct=Re.e,st=qe.multiply(ue);return st.compareTo(D)<=0?{p:st,e:ct*2+1}:{p:qe,e:ct*2}}return{p:r(1),e:0}}_.prototype.bitLength=function(){var D=this;return D.compareTo(r(0))<0&&(D=D.negate().subtract(r(1))),D.compareTo(r(0))===0?r(0):r(Ut(D,r(2)).e).add(r(1))},T.prototype.bitLength=_.prototype.bitLength;function fn(D,ue){return D=ar(D),ue=ar(ue),D.greater(ue)?D:ue}function Ge(D,ue){return D=ar(D),ue=ar(ue),D.lesser(ue)?D:ue}function Qt(D,ue){if(D=ar(D).abs(),ue=ar(ue).abs(),D.equals(ue))return D;if(D.isZero())return ue;if(ue.isZero())return D;for(var Re=v[1],qe,ct;D.isEven()&&ue.isEven();)qe=Math.min(St(D),St(ue)),D=D.divide(qe),ue=ue.divide(qe),Re=Re.multiply(qe);for(;D.isEven();)D=D.divide(St(D));do{for(;ue.isEven();)ue=ue.divide(St(ue));D.greater(ue)&&(ct=ue,ue=D,D=ct),ue=ue.subtract(D)}while(!ue.isZero());return Re.isUnit()?D:D.multiply(Re)}function Pn(D,ue){return D=ar(D).abs(),ue=ar(ue).abs(),D.divide(Qt(D,ue)).multiply(ue)}function Cn(D,ue){D=ar(D),ue=ar(ue);var Re=Ge(D,ue),qe=fn(D,ue),ct=qe.subtract(Re).add(1);if(ct.isSmall)return Re.add(Math.floor(Math.random()*ct));for(var st=ct.value.length-1,At=[],Ot=!0,F=st;F>=0;F--){var $e=Ot?ct.value[F]:a,Ye=R(Math.random()*$e);At.unshift(Ye),Ye<$e&&(Ot=!1)}return At=P(At),Re.add(typeof At=="number"?new T(At):new _(At,!1))}var Jn=function(D,ue){for(var Re=D.length,qe,ct=Math.abs(ue),qe=0;qe<Re;qe++){var st=D[qe].toLowerCase();if(st!=="-"&&/[a-z0-9]/.test(st)){if(/[0-9]/.test(st)&&+st>=ct){if(st==="1"&&ct===1)continue;throw new Error(st+" is not a valid digit in base "+ue+".")}else if(st.charCodeAt(0)-87>=ct)throw new Error(st+" is not a valid digit in base "+ue+".")}}if(2<=ue&&ue<=36&&Re<=$/Math.log(ue)){var At=parseInt(D,ue);if(isNaN(At))throw new Error(st+" is not a valid digit in base "+ue+".");return new T(parseInt(D,ue))}ue=ar(ue);var Ot=[],F=D[0]==="-";for(qe=F?1:0;qe<D.length;qe++){var st=D[qe].toLowerCase(),$e=st.charCodeAt(0);if(48<=$e&&$e<=57)Ot.push(ar(st));else if(97<=$e&&$e<=122)Ot.push(ar(st.charCodeAt(0)-87));else if(st==="<"){var Ye=qe;do qe++;while(D[qe]!==">");Ot.push(ar(D.slice(Ye+1,qe)))}else throw new Error(st+" is not a valid character")}return cn(Ot,ue,F)};function cn(D,ue,Re){var qe=v[0],ct=v[1],st;for(st=D.length-1;st>=0;st--)qe=qe.add(D[st].times(ct)),ct=ct.times(ue);return Re?qe.negate():qe}function ri(D){return D<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(D):"<"+D+">"}function Ai(D,ue){if(ue=r(ue),ue.isZero()){if(D.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(ue.equals(-1)){if(D.isZero())return{value:[0],isNegative:!1};if(D.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-D)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var Re=Array.apply(null,Array(+D-1)).map(Array.prototype.valueOf,[0,1]);return Re.unshift([1]),{value:[].concat.apply([],Re),isNegative:!1}}var qe=!1;if(D.isNegative()&&ue.isPositive()&&(qe=!0,D=D.abs()),ue.equals(1))return D.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+D)).map(Number.prototype.valueOf,1),isNegative:qe};for(var ct=[],st=D,At;st.isNegative()||st.compareAbs(ue)>=0;){At=st.divmod(ue),st=At.quotient;var Ot=At.remainder;Ot.isNegative()&&(Ot=ue.minus(Ot).abs(),st=st.next()),ct.push(Ot.toJSNumber())}return ct.push(st.toJSNumber()),{value:ct.reverse(),isNegative:qe}}function lr(D,ue){var Re=Ai(D,ue);return(Re.isNegative?"-":"")+Re.value.map(ri).join("")}_.prototype.toArray=function(D){return Ai(this,D)},T.prototype.toArray=function(D){return Ai(this,D)},_.prototype.toString=function(D){if(D===s&&(D=10),D!==10)return lr(this,D);for(var ue=this.value,Re=ue.length,qe=String(ue[--Re]),ct="0000000",st;--Re>=0;)st=String(ue[Re]),qe+=ct.slice(st.length)+st;var At=this.sign?"-":"";return At+qe},T.prototype.toString=function(D){return D===s&&(D=10),D!=10?lr(this,D):String(this.value)},_.prototype.toJSON=T.prototype.toJSON=function(){return this.toString()},_.prototype.valueOf=function(){return parseInt(this.toString(),10)},_.prototype.toJSNumber=_.prototype.valueOf,T.prototype.valueOf=function(){return this.value},T.prototype.toJSNumber=T.prototype.valueOf;function ls(D){if(S(+D)){var ue=+D;if(ue===R(ue))return new T(ue);throw new Error("Invalid integer: "+D)}var Re=D[0]==="-";Re&&(D=D.slice(1));var qe=D.split(/e/i);if(qe.length>2)throw new Error("Invalid integer: "+qe.join("e"));if(qe.length===2){var ct=qe[1];if(ct[0]==="+"&&(ct=ct.slice(1)),ct=+ct,ct!==R(ct)||!S(ct))throw new Error("Invalid integer: "+ct+" is not a valid exponent.");var st=qe[0],At=st.indexOf(".");if(At>=0&&(ct-=st.length-At-1,st=st.slice(0,At)+st.slice(At+1)),ct<0)throw new Error("Cannot include negative exponent part for integers");st+=new Array(ct+1).join("0"),D=st}var Ot=/^([0-9][0-9]*)$/.test(D);if(!Ot)throw new Error("Invalid integer: "+D);for(var F=[],$e=D.length,Ye=c,We=$e-Ye;$e>0;)F.push(+D.slice(We,$e)),We-=Ye,We<0&&(We=0),$e-=Ye;return G(F),new _(F,Re)}function fi(D){if(S(D)){if(D!==R(D))throw new Error(D+" is not an integer.");return new T(D)}return ls(D.toString())}function ar(D){return typeof D=="number"?fi(D):typeof D=="string"?ls(D):D}for(var Zn=0;Zn<1e3;Zn++)v[Zn]=new T(Zn),Zn>0&&(v[-Zn]=new T(-Zn));return v.one=v[1],v.zero=v[0],v.minusOne=v[-1],v.max=fn,v.min=Ge,v.gcd=Qt,v.lcm=Pn,v.isInstance=function(D){return D instanceof _||D instanceof T},v.randBetween=Cn,v.fromArray=function(D,ue,Re){return cn(D.map(ar),ar(ue||10),Re)},v})();return t.hasOwnProperty("exports")&&(t.exports=r),r})(),bigDec:(function(r){var s,a,c,d,m=9e15,$=1e9,v="0123456789abcdef",_="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",T="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",S={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-m,maxE:m,crypto:!1},k=!0,P="[DecimalError] ",G=P+"Invalid argument: ",X=P+"Precision limit exceeded",R=P+"crypto unavailable",W=Math.floor,te=Math.pow,ie=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,se=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Y=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,fe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ie=1e7,De=7,Ue=_.length-1,it=T.length-1,ze={name:"[object Decimal]"};function dt(A){var V,oe,re,Ne=A.length-1,ae="",Me=A[0];if(Ne>0){for(ae+=Me,V=1;V<Ne;V++)re=A[V]+"",(oe=De-re.length)&&(ae+=Ct(oe)),ae+=re;Me=A[V],(oe=De-(re=Me+"").length)&&(ae+=Ct(oe))}else if(Me===0)return"0";for(;Me%10==0;)Me/=10;return ae+Me}function Oe(A,V,oe){if(A!==~~A||A<V||A>oe)throw Error(G+A)}function rt(A,V,oe,re){var Ne,ae,Me,Qe;for(ae=A[0];ae>=10;ae/=10)--V;return--V<0?(V+=De,Ne=0):(Ne=Math.ceil((V+1)/De),V%=De),ae=te(10,De-V),Qe=A[Ne]%ae|0,re==null?V<3?(V==0?Qe=Qe/100|0:V==1&&(Qe=Qe/10|0),Me=oe<4&&Qe==99999||oe>3&&Qe==49999||Qe==5e4||Qe==0):Me=(oe<4&&Qe+1==ae||oe>3&&Qe+1==ae/2)&&(A[Ne+1]/ae/100|0)==te(10,V-2)-1||(Qe==ae/2||Qe==0)&&(A[Ne+1]/ae/100|0)==0:V<4?(V==0?Qe=Qe/1e3|0:V==1?Qe=Qe/100|0:V==2&&(Qe=Qe/10|0),Me=(re||oe<4)&&Qe==9999||!re&&oe>3&&Qe==4999):Me=((re||oe<4)&&Qe+1==ae||!re&&oe>3&&Qe+1==ae/2)&&(A[Ne+1]/ae/1e3|0)==te(10,V-3)-1,Me}function Pe(A,V,oe){for(var re,Ne,ae=[0],Me=0,Qe=A.length;Me<Qe;){for(Ne=ae.length;Ne--;)ae[Ne]*=V;for(ae[0]+=v.indexOf(A.charAt(Me++)),re=0;re<ae.length;re++)ae[re]>oe-1&&(ae[re+1]===void 0&&(ae[re+1]=0),ae[re+1]+=ae[re]/oe|0,ae[re]%=oe)}return ae.reverse()}ze.absoluteValue=ze.abs=function(){var A=new this.constructor(this);return A.s<0&&(A.s=1),ot(A)},ze.ceil=function(){return ot(new this.constructor(this),this.e+1,2)},ze.comparedTo=ze.cmp=function(A){var V,oe,re,Ne,ae=this,Me=ae.d,Qe=(A=new ae.constructor(A)).d,ht=ae.s,mt=A.s;if(!Me||!Qe)return ht&&mt?ht!==mt?ht:Me===Qe?0:!Me^ht<0?1:-1:NaN;if(!Me[0]||!Qe[0])return Me[0]?ht:Qe[0]?-mt:0;if(ht!==mt)return ht;if(ae.e!==A.e)return ae.e>A.e^ht<0?1:-1;for(V=0,oe=(re=Me.length)<(Ne=Qe.length)?re:Ne;V<oe;++V)if(Me[V]!==Qe[V])return Me[V]>Qe[V]^ht<0?1:-1;return re===Ne?0:re>Ne^ht<0?1:-1},ze.cosine=ze.cos=function(){var A,V,oe=this,re=oe.constructor;return oe.d?oe.d[0]?(A=re.precision,V=re.rounding,re.precision=A+Math.max(oe.e,oe.sd())+De,re.rounding=1,oe=(function(Ne,ae){var Me,Qe,ht=ae.d.length;ht<32?(Me=Math.ceil(ht/3),Qe=(1/Pn(4,Me)).toString()):(Me=16,Qe="2.3283064365386962890625e-10"),Ne.precision+=Me,ae=Qt(Ne,1,ae.times(Qe),new Ne(1));for(var mt=Me;mt--;){var he=ae.times(ae);ae=he.times(he).minus(he).times(8).plus(1)}return Ne.precision-=Me,ae})(re,Cn(re,oe)),re.precision=A,re.rounding=V,ot(d==2||d==3?oe.neg():oe,A,V,!0)):new re(1):new re(NaN)},ze.cubeRoot=ze.cbrt=function(){var A,V,oe,re,Ne,ae,Me,Qe,ht,mt,he=this,Vt=he.constructor;if(!he.isFinite()||he.isZero())return new Vt(he);for(k=!1,(ae=he.s*te(he.s*he,.3333333333333333))&&Math.abs(ae)!=1/0?re=new Vt(ae.toString()):(oe=dt(he.d),(ae=((A=he.e)-oe.length+1)%3)&&(oe+=ae==1||ae==-2?"0":"00"),ae=te(oe,.3333333333333333),A=W((A+1)/3)-(A%3==(A<0?-1:2)),(re=new Vt(oe=ae==1/0?"5e"+A:(oe=ae.toExponential()).slice(0,oe.indexOf("e")+1)+A)).s=he.s),Me=(A=Vt.precision)+3;;)if(mt=(ht=(Qe=re).times(Qe).times(Qe)).plus(he),re=nt(mt.plus(he).times(Qe),mt.plus(ht),Me+2,1),dt(Qe.d).slice(0,Me)===(oe=dt(re.d)).slice(0,Me)){if((oe=oe.slice(Me-3,Me+1))!="9999"&&(Ne||oe!="4999")){+oe&&(+oe.slice(1)||oe.charAt(0)!="5")||(ot(re,A+1,1),V=!re.times(re).times(re).eq(he));break}if(!Ne&&(ot(Qe,A+1,0),Qe.times(Qe).times(Qe).eq(he))){re=Qe;break}Me+=4,Ne=1}return k=!0,ot(re,A,Vt.rounding,V)},ze.decimalPlaces=ze.dp=function(){var A,V=this.d,oe=NaN;if(V){if(oe=((A=V.length-1)-W(this.e/De))*De,A=V[A])for(;A%10==0;A/=10)oe--;oe<0&&(oe=0)}return oe},ze.dividedBy=ze.div=function(A){return nt(this,new this.constructor(A))},ze.dividedToIntegerBy=ze.divToInt=function(A){var V=this.constructor;return ot(nt(this,new V(A),0,1,1),V.precision,V.rounding)},ze.equals=ze.eq=function(A){return this.cmp(A)===0},ze.floor=function(){return ot(new this.constructor(this),this.e+1,3)},ze.greaterThan=ze.gt=function(A){return this.cmp(A)>0},ze.greaterThanOrEqualTo=ze.gte=function(A){var V=this.cmp(A);return V==1||V===0},ze.hyperbolicCosine=ze.cosh=function(){var A,V,oe,re,Ne,ae=this,Me=ae.constructor,Qe=new Me(1);if(!ae.isFinite())return new Me(ae.s?1/0:NaN);if(ae.isZero())return Qe;oe=Me.precision,re=Me.rounding,Me.precision=oe+Math.max(ae.e,ae.sd())+4,Me.rounding=1,(Ne=ae.d.length)<32?V=(1/Pn(4,A=Math.ceil(Ne/3))).toString():(A=16,V="2.3283064365386962890625e-10"),ae=Qt(Me,1,ae.times(V),new Me(1),!0);for(var ht,mt=A,he=new Me(8);mt--;)ht=ae.times(ae),ae=Qe.minus(ht.times(he.minus(ht.times(he))));return ot(ae,Me.precision=oe,Me.rounding=re,!0)},ze.hyperbolicSine=ze.sinh=function(){var A,V,oe,re,Ne=this,ae=Ne.constructor;if(!Ne.isFinite()||Ne.isZero())return new ae(Ne);if(V=ae.precision,oe=ae.rounding,ae.precision=V+Math.max(Ne.e,Ne.sd())+4,ae.rounding=1,(re=Ne.d.length)<3)Ne=Qt(ae,2,Ne,Ne,!0);else{A=(A=1.4*Math.sqrt(re))>16?16:0|A,Ne=Qt(ae,2,Ne=Ne.times(1/Pn(5,A)),Ne,!0);for(var Me,Qe=new ae(5),ht=new ae(16),mt=new ae(20);A--;)Me=Ne.times(Ne),Ne=Ne.times(Qe.plus(Me.times(ht.times(Me).plus(mt))))}return ae.precision=V,ae.rounding=oe,ot(Ne,V,oe,!0)},ze.hyperbolicTangent=ze.tanh=function(){var A,V,oe=this,re=oe.constructor;return oe.isFinite()?oe.isZero()?new re(oe):(A=re.precision,V=re.rounding,re.precision=A+7,re.rounding=1,nt(oe.sinh(),oe.cosh(),re.precision=A,re.rounding=V)):new re(oe.s)},ze.inverseCosine=ze.acos=function(){var A,V=this,oe=V.constructor,re=V.abs().cmp(1),Ne=oe.precision,ae=oe.rounding;return re!==-1?re===0?V.isNeg()?et(oe,Ne,ae):new oe(0):new oe(NaN):V.isZero()?et(oe,Ne+4,ae).times(.5):(oe.precision=Ne+6,oe.rounding=1,V=V.asin(),A=et(oe,Ne+4,ae).times(.5),oe.precision=Ne,oe.rounding=ae,A.minus(V))},ze.inverseHyperbolicCosine=ze.acosh=function(){var A,V,oe=this,re=oe.constructor;return oe.lte(1)?new re(oe.eq(1)?0:NaN):oe.isFinite()?(A=re.precision,V=re.rounding,re.precision=A+Math.max(Math.abs(oe.e),oe.sd())+4,re.rounding=1,k=!1,oe=oe.times(oe).minus(1).sqrt().plus(oe),k=!0,re.precision=A,re.rounding=V,oe.ln()):new re(oe)},ze.inverseHyperbolicSine=ze.asinh=function(){var A,V,oe=this,re=oe.constructor;return!oe.isFinite()||oe.isZero()?new re(oe):(A=re.precision,V=re.rounding,re.precision=A+2*Math.max(Math.abs(oe.e),oe.sd())+6,re.rounding=1,k=!1,oe=oe.times(oe).plus(1).sqrt().plus(oe),k=!0,re.precision=A,re.rounding=V,oe.ln())},ze.inverseHyperbolicTangent=ze.atanh=function(){var A,V,oe,re,Ne=this,ae=Ne.constructor;return Ne.isFinite()?Ne.e>=0?new ae(Ne.abs().eq(1)?Ne.s/0:Ne.isZero()?Ne:NaN):(A=ae.precision,V=ae.rounding,re=Ne.sd(),Math.max(re,A)<2*-Ne.e-1?ot(new ae(Ne),A,V,!0):(ae.precision=oe=re-Ne.e,Ne=nt(Ne.plus(1),new ae(1).minus(Ne),oe+A,1),ae.precision=A+4,ae.rounding=1,Ne=Ne.ln(),ae.precision=A,ae.rounding=V,Ne.times(.5))):new ae(NaN)},ze.inverseSine=ze.asin=function(){var A,V,oe,re,Ne=this,ae=Ne.constructor;return Ne.isZero()?new ae(Ne):(V=Ne.abs().cmp(1),oe=ae.precision,re=ae.rounding,V!==-1?V===0?((A=et(ae,oe+4,re).times(.5)).s=Ne.s,A):new ae(NaN):(ae.precision=oe+6,ae.rounding=1,Ne=Ne.div(new ae(1).minus(Ne.times(Ne)).sqrt().plus(1)).atan(),ae.precision=oe,ae.rounding=re,Ne.times(2)))},ze.inverseTangent=ze.atan=function(){var A,V,oe,re,Ne,ae,Me,Qe,ht,mt=this,he=mt.constructor,Vt=he.precision,Le=he.rounding;if(mt.isFinite()){if(mt.isZero())return new he(mt);if(mt.abs().eq(1)&&Vt+4<=it)return(Me=et(he,Vt+4,Le).times(.25)).s=mt.s,Me}else{if(!mt.s)return new he(NaN);if(Vt+4<=it)return(Me=et(he,Vt+4,Le).times(.5)).s=mt.s,Me}for(he.precision=Qe=Vt+10,he.rounding=1,A=oe=Math.min(28,Qe/De+2|0);A;--A)mt=mt.div(mt.times(mt).plus(1).sqrt().plus(1));for(k=!1,V=Math.ceil(Qe/De),re=1,ht=mt.times(mt),Me=new he(mt),Ne=mt;A!==-1;)if(Ne=Ne.times(ht),ae=Me.minus(Ne.div(re+=2)),Ne=Ne.times(ht),(Me=ae.plus(Ne.div(re+=2))).d[V]!==void 0)for(A=V;Me.d[A]===ae.d[A]&&A--;);return oe&&(Me=Me.times(2<<oe-1)),k=!0,ot(Me,he.precision=Vt,he.rounding=Le,!0)},ze.isFinite=function(){return!!this.d},ze.isInteger=ze.isInt=function(){return!!this.d&&W(this.e/De)>this.d.length-2},ze.isNaN=function(){return!this.s},ze.isNegative=ze.isNeg=function(){return this.s<0},ze.isPositive=ze.isPos=function(){return this.s>0},ze.isZero=function(){return!!this.d&&this.d[0]===0},ze.lessThan=ze.lt=function(A){return this.cmp(A)<0},ze.lessThanOrEqualTo=ze.lte=function(A){return this.cmp(A)<1},ze.logarithm=ze.log=function(A){var V,oe,re,Ne,ae,Me,Qe,ht,mt=this.constructor,he=mt.precision,Vt=mt.rounding;if(A==null)A=new mt(10),V=!0;else{if(oe=(A=new mt(A)).d,A.s<0||!oe||!oe[0]||A.eq(1))return new mt(NaN);V=A.eq(10)}if(oe=this.d,this.s<0||!oe||!oe[0]||this.eq(1))return new mt(oe&&!oe[0]?-1/0:this.s!=1?NaN:oe?0:1/0);if(V)if(oe.length>1)ae=!0;else{for(Ne=oe[0];Ne%10==0;)Ne/=10;ae=Ne!==1}if(k=!1,Me=St(this,Qe=he+5),re=V?Fe(mt,Qe+10):St(A,Qe),rt((ht=nt(Me,re,Qe,1)).d,Ne=he,Vt))do if(Me=St(this,Qe+=10),re=V?Fe(mt,Qe+10):St(A,Qe),ht=nt(Me,re,Qe,1),!ae){+dt(ht.d).slice(Ne+1,Ne+15)+1==1e14&&(ht=ot(ht,he+1,0));break}while(rt(ht.d,Ne+=10,Vt));return k=!0,ot(ht,he,Vt)},ze.minus=ze.sub=function(A){var V,oe,re,Ne,ae,Me,Qe,ht,mt,he,Vt,Le,On=this,Fn=On.constructor;if(A=new Fn(A),!On.d||!A.d)return On.s&&A.s?On.d?A.s=-A.s:A=new Fn(A.d||On.s!==A.s?On:NaN):A=new Fn(NaN),A;if(On.s!=A.s)return A.s=-A.s,On.plus(A);if(mt=On.d,Le=A.d,Qe=Fn.precision,ht=Fn.rounding,!mt[0]||!Le[0]){if(Le[0])A.s=-A.s;else{if(!mt[0])return new Fn(ht===3?-0:0);A=new Fn(On)}return k?ot(A,Qe,ht):A}if(oe=W(A.e/De),he=W(On.e/De),mt=mt.slice(),ae=he-oe){for((Vt=ae<0)?(V=mt,ae=-ae,Me=Le.length):(V=Le,oe=he,Me=mt.length),ae>(re=Math.max(Math.ceil(Qe/De),Me)+2)&&(ae=re,V.length=1),V.reverse(),re=ae;re--;)V.push(0);V.reverse()}else{for((Vt=(re=mt.length)<(Me=Le.length))&&(Me=re),re=0;re<Me;re++)if(mt[re]!=Le[re]){Vt=mt[re]<Le[re];break}ae=0}for(Vt&&(V=mt,mt=Le,Le=V,A.s=-A.s),Me=mt.length,re=Le.length-Me;re>0;--re)mt[Me++]=0;for(re=Le.length;re>ae;){if(mt[--re]<Le[re]){for(Ne=re;Ne&&mt[--Ne]===0;)mt[Ne]=Ie-1;--mt[Ne],mt[re]+=Ie}mt[re]-=Le[re]}for(;mt[--Me]===0;)mt.pop();for(;mt[0]===0;mt.shift())--oe;return mt[0]?(A.d=mt,A.e=de(mt,oe),k?ot(A,Qe,ht):A):new Fn(ht===3?-0:0)},ze.modulo=ze.mod=function(A){var V,oe=this,re=oe.constructor;return A=new re(A),!oe.d||!A.s||A.d&&!A.d[0]?new re(NaN):!A.d||oe.d&&!oe.d[0]?ot(new re(oe),re.precision,re.rounding):(k=!1,re.modulo==9?(V=nt(oe,A.abs(),0,3,1)).s*=A.s:V=nt(oe,A,0,re.modulo,1),V=V.times(A),k=!0,oe.minus(V))},ze.naturalExponential=ze.exp=function(){return En(this)},ze.naturalLogarithm=ze.ln=function(){return St(this)},ze.negated=ze.neg=function(){var A=new this.constructor(this);return A.s=-A.s,ot(A)},ze.plus=ze.add=function(A){var V,oe,re,Ne,ae,Me,Qe,ht,mt,he,Vt=this,Le=Vt.constructor;if(A=new Le(A),!Vt.d||!A.d)return Vt.s&&A.s?Vt.d||(A=new Le(A.d||Vt.s===A.s?Vt:NaN)):A=new Le(NaN),A;if(Vt.s!=A.s)return A.s=-A.s,Vt.minus(A);if(mt=Vt.d,he=A.d,Qe=Le.precision,ht=Le.rounding,!mt[0]||!he[0])return he[0]||(A=new Le(Vt)),k?ot(A,Qe,ht):A;if(ae=W(Vt.e/De),re=W(A.e/De),mt=mt.slice(),Ne=ae-re){for(Ne<0?(oe=mt,Ne=-Ne,Me=he.length):(oe=he,re=ae,Me=mt.length),Ne>(Me=(ae=Math.ceil(Qe/De))>Me?ae+1:Me+1)&&(Ne=Me,oe.length=1),oe.reverse();Ne--;)oe.push(0);oe.reverse()}for((Me=mt.length)-(Ne=he.length)<0&&(Ne=Me,oe=he,he=mt,mt=oe),V=0;Ne;)V=(mt[--Ne]=mt[Ne]+he[Ne]+V)/Ie|0,mt[Ne]%=Ie;for(V&&(mt.unshift(V),++re),Me=mt.length;mt[--Me]==0;)mt.pop();return A.d=mt,A.e=de(mt,re),k?ot(A,Qe,ht):A},ze.precision=ze.sd=function(A){var V,oe=this;if(A!==void 0&&A!==!!A&&A!==1&&A!==0)throw Error(G+A);return oe.d?(V=_e(oe.d),A&&oe.e+1>V&&(V=oe.e+1)):V=NaN,V},ze.round=function(){var A=this,V=A.constructor;return ot(new V(A),A.e+1,V.rounding)},ze.sine=ze.sin=function(){var A,V,oe=this,re=oe.constructor;return oe.isFinite()?oe.isZero()?new re(oe):(A=re.precision,V=re.rounding,re.precision=A+Math.max(oe.e,oe.sd())+De,re.rounding=1,oe=(function(Ne,ae){var Me,Qe=ae.d.length;if(Qe<3)return Qt(Ne,2,ae,ae);Me=(Me=1.4*Math.sqrt(Qe))>16?16:0|Me,ae=ae.times(1/Pn(5,Me)),ae=Qt(Ne,2,ae,ae);for(var ht,mt=new Ne(5),he=new Ne(16),Vt=new Ne(20);Me--;)ht=ae.times(ae),ae=ae.times(mt.plus(ht.times(he.times(ht).minus(Vt))));return ae})(re,Cn(re,oe)),re.precision=A,re.rounding=V,ot(d>2?oe.neg():oe,A,V,!0)):new re(NaN)},ze.squareRoot=ze.sqrt=function(){var A,V,oe,re,Ne,ae,Me=this,Qe=Me.d,ht=Me.e,mt=Me.s,he=Me.constructor;if(mt!==1||!Qe||!Qe[0])return new he(!mt||mt<0&&(!Qe||Qe[0])?NaN:Qe?Me:1/0);for(k=!1,(mt=Math.sqrt(+Me))==0||mt==1/0?(((V=dt(Qe)).length+ht)%2==0&&(V+="0"),mt=Math.sqrt(V),ht=W((ht+1)/2)-(ht<0||ht%2),re=new he(V=mt==1/0?"5e"+ht:(V=mt.toExponential()).slice(0,V.indexOf("e")+1)+ht)):re=new he(mt.toString()),oe=(ht=he.precision)+3;;)if(re=(ae=re).plus(nt(Me,ae,oe+2,1)).times(.5),dt(ae.d).slice(0,oe)===(V=dt(re.d)).slice(0,oe)){if((V=V.slice(oe-3,oe+1))!="9999"&&(Ne||V!="4999")){+V&&(+V.slice(1)||V.charAt(0)!="5")||(ot(re,ht+1,1),A=!re.times(re).eq(Me));break}if(!Ne&&(ot(ae,ht+1,0),ae.times(ae).eq(Me))){re=ae;break}oe+=4,Ne=1}return k=!0,ot(re,ht,he.rounding,A)},ze.tangent=ze.tan=function(){var A,V,oe=this,re=oe.constructor;return oe.isFinite()?oe.isZero()?new re(oe):(A=re.precision,V=re.rounding,re.precision=A+10,re.rounding=1,(oe=oe.sin()).s=1,oe=nt(oe,new re(1).minus(oe.times(oe)).sqrt(),A+10,0),re.precision=A,re.rounding=V,ot(d==2||d==4?oe.neg():oe,A,V,!0)):new re(NaN)},ze.times=ze.mul=function(A){var V,oe,re,Ne,ae,Me,Qe,ht,mt,he=this,Vt=he.constructor,Le=he.d,On=(A=new Vt(A)).d;if(A.s*=he.s,!(Le&&Le[0]&&On&&On[0]))return new Vt(!A.s||Le&&!Le[0]&&!On||On&&!On[0]&&!Le?NaN:Le&&On?0*A.s:A.s/0);for(oe=W(he.e/De)+W(A.e/De),(ht=Le.length)<(mt=On.length)&&(ae=Le,Le=On,On=ae,Me=ht,ht=mt,mt=Me),ae=[],re=Me=ht+mt;re--;)ae.push(0);for(re=mt;--re>=0;){for(V=0,Ne=ht+re;Ne>re;)Qe=ae[Ne]+On[re]*Le[Ne-re-1]+V,ae[Ne--]=Qe%Ie|0,V=Qe/Ie|0;ae[Ne]=(ae[Ne]+V)%Ie|0}for(;!ae[--Me];)ae.pop();return V?++oe:ae.shift(),A.d=ae,A.e=de(ae,oe),k?ot(A,Vt.precision,Vt.rounding):A},ze.toBinary=function(A,V){return Jn(this,2,A,V)},ze.toDecimalPlaces=ze.toDP=function(A,V){var oe=this,re=oe.constructor;return oe=new re(oe),A===void 0?oe:(Oe(A,0,$),V===void 0?V=re.rounding:Oe(V,0,8),ot(oe,A+oe.e+1,V))},ze.toExponential=function(A,V){var oe,re=this,Ne=re.constructor;return A===void 0?oe=Lt(re,!0):(Oe(A,0,$),V===void 0?V=Ne.rounding:Oe(V,0,8),oe=Lt(re=ot(new Ne(re),A+1,V),!0,A+1)),re.isNeg()&&!re.isZero()?"-"+oe:oe},ze.toFixed=function(A,V){var oe,re,Ne=this,ae=Ne.constructor;return A===void 0?oe=Lt(Ne):(Oe(A,0,$),V===void 0?V=ae.rounding:Oe(V,0,8),oe=Lt(re=ot(new ae(Ne),A+Ne.e+1,V),!1,A+re.e+1)),Ne.isNeg()&&!Ne.isZero()?"-"+oe:oe},ze.toFraction=function(A){var V,oe,re,Ne,ae,Me,Qe,ht,mt,he,Vt,Le,On=this,Fn=On.d,Vr=On.constructor;if(!Fn)return new Vr(On);if(mt=oe=new Vr(1),re=ht=new Vr(0),Me=(ae=(V=new Vr(re)).e=_e(Fn)-On.e-1)%De,V.d[0]=te(10,Me<0?De+Me:Me),A==null)A=ae>0?V:mt;else{if(!(Qe=new Vr(A)).isInt()||Qe.lt(mt))throw Error(G+Qe);A=Qe.gt(V)?ae>0?V:mt:Qe}for(k=!1,Qe=new Vr(dt(Fn)),he=Vr.precision,Vr.precision=ae=Fn.length*De*2;Vt=nt(Qe,V,0,1,1),(Ne=oe.plus(Vt.times(re))).cmp(A)!=1;)oe=re,re=Ne,Ne=mt,mt=ht.plus(Vt.times(Ne)),ht=Ne,Ne=V,V=Qe.minus(Vt.times(Ne)),Qe=Ne;return Ne=nt(A.minus(oe),re,0,1,1),ht=ht.plus(Ne.times(mt)),oe=oe.plus(Ne.times(re)),ht.s=mt.s=On.s,Le=nt(mt,re,ae,1).minus(On).abs().cmp(nt(ht,oe,ae,1).minus(On).abs())<1?[mt,re]:[ht,oe],Vr.precision=he,k=!0,Le},ze.toHexadecimal=ze.toHex=function(A,V){return Jn(this,16,A,V)},ze.toNearest=function(A,V){var oe=this,re=oe.constructor;if(oe=new re(oe),A==null){if(!oe.d)return oe;A=new re(1),V=re.rounding}else{if(A=new re(A),V===void 0?V=re.rounding:Oe(V,0,8),!oe.d)return A.s?oe:A;if(!A.d)return A.s&&(A.s=oe.s),A}return A.d[0]?(k=!1,oe=nt(oe,A,0,V,1).times(A),k=!0,ot(oe)):(A.s=oe.s,oe=A),oe},ze.toNumber=function(){return+this},ze.toOctal=function(A,V){return Jn(this,8,A,V)},ze.toPower=ze.pow=function(A){var V,oe,re,Ne,ae,Me,Qe=this,ht=Qe.constructor,mt=+(A=new ht(A));if(!(Qe.d&&A.d&&Qe.d[0]&&A.d[0]))return new ht(te(+Qe,mt));if((Qe=new ht(Qe)).eq(1))return Qe;if(re=ht.precision,ae=ht.rounding,A.eq(1))return ot(Qe,re,ae);if((V=W(A.e/De))>=A.d.length-1&&(oe=mt<0?-mt:mt)<=9007199254740991)return Ne=$t(ht,Qe,oe,re),A.s<0?new ht(1).div(Ne):ot(Ne,re,ae);if((Me=Qe.s)<0){if(V<A.d.length-1)return new ht(NaN);if((1&A.d[V])==0&&(Me=1),Qe.e==0&&Qe.d[0]==1&&Qe.d.length==1)return Qe.s=Me,Qe}return(V=(oe=te(+Qe,mt))!=0&&isFinite(oe)?new ht(oe+"").e:W(mt*(Math.log("0."+dt(Qe.d))/Math.LN10+Qe.e+1)))>ht.maxE+1||V<ht.minE-1?new ht(V>0?Me/0:0):(k=!1,ht.rounding=Qe.s=1,oe=Math.min(12,(V+"").length),(Ne=En(A.times(St(Qe,re+oe)),re)).d&&rt((Ne=ot(Ne,re+5,1)).d,re,ae)&&(V=re+10,+dt((Ne=ot(En(A.times(St(Qe,V+oe)),V),V+5,1)).d).slice(re+1,re+15)+1==1e14&&(Ne=ot(Ne,re+1,0))),Ne.s=Me,k=!0,ht.rounding=ae,ot(Ne,re,ae))},ze.toPrecision=function(A,V){var oe,re=this,Ne=re.constructor;return A===void 0?oe=Lt(re,re.e<=Ne.toExpNeg||re.e>=Ne.toExpPos):(Oe(A,1,$),V===void 0?V=Ne.rounding:Oe(V,0,8),oe=Lt(re=ot(new Ne(re),A,V),A<=re.e||re.e<=Ne.toExpNeg,A)),re.isNeg()&&!re.isZero()?"-"+oe:oe},ze.toSignificantDigits=ze.toSD=function(A,V){var oe=this.constructor;return A===void 0?(A=oe.precision,V=oe.rounding):(Oe(A,1,$),V===void 0?V=oe.rounding:Oe(V,0,8)),ot(new oe(this),A,V)},ze.toString=function(){var A=this,V=A.constructor,oe=Lt(A,A.e<=V.toExpNeg||A.e>=V.toExpPos);return A.isNeg()&&!A.isZero()?"-"+oe:oe},ze.truncated=ze.trunc=function(){return ot(new this.constructor(this),this.e+1,1)},ze.valueOf=ze.toJSON=function(){var A=this,V=A.constructor,oe=Lt(A,A.e<=V.toExpNeg||A.e>=V.toExpPos);return A.isNeg()?"-"+oe:oe};var nt=(function(){function A(re,Ne,ae){var Me,Qe=0,ht=re.length;for(re=re.slice();ht--;)Me=re[ht]*Ne+Qe,re[ht]=Me%ae|0,Qe=Me/ae|0;return Qe&&re.unshift(Qe),re}function V(re,Ne,ae,Me){var Qe,ht;if(ae!=Me)ht=ae>Me?1:-1;else for(Qe=ht=0;Qe<ae;Qe++)if(re[Qe]!=Ne[Qe]){ht=re[Qe]>Ne[Qe]?1:-1;break}return ht}function oe(re,Ne,ae,Me){for(var Qe=0;ae--;)re[ae]-=Qe,Qe=re[ae]<Ne[ae]?1:0,re[ae]=Qe*Me+re[ae]-Ne[ae];for(;!re[0]&&re.length>1;)re.shift()}return function(re,Ne,ae,Me,Qe,ht){var mt,he,Vt,Le,On,Fn,Vr,yr,Vn,us,pi,yn,Or,zs,mi,Pr,an,Te,Di,Ts,_r=re.constructor,Gr=re.s==Ne.s?1:-1,xn=re.d,cr=Ne.d;if(!(xn&&xn[0]&&cr&&cr[0]))return new _r(re.s&&Ne.s&&(xn?!cr||xn[0]!=cr[0]:cr)?xn&&xn[0]==0||!cr?0*Gr:Gr/0:NaN);for(ht?(On=1,he=re.e-Ne.e):(ht=Ie,On=De,he=W(re.e/On)-W(Ne.e/On)),Di=cr.length,an=xn.length,us=(Vn=new _r(Gr)).d=[],Vt=0;cr[Vt]==(xn[Vt]||0);Vt++);if(cr[Vt]>(xn[Vt]||0)&&he--,ae==null?(zs=ae=_r.precision,Me=_r.rounding):zs=Qe?ae+(re.e-Ne.e)+1:ae,zs<0)us.push(1),Fn=!0;else{if(zs=zs/On+2|0,Vt=0,Di==1){for(Le=0,cr=cr[0],zs++;(Vt<an||Le)&&zs--;Vt++)mi=Le*ht+(xn[Vt]||0),us[Vt]=mi/cr|0,Le=mi%cr|0;Fn=Le||Vt<an}else{for((Le=ht/(cr[0]+1)|0)>1&&(cr=A(cr,Le,ht),xn=A(xn,Le,ht),Di=cr.length,an=xn.length),Pr=Di,yn=(pi=xn.slice(0,Di)).length;yn<Di;)pi[yn++]=0;(Ts=cr.slice()).unshift(0),Te=cr[0],cr[1]>=ht/2&&++Te;do Le=0,(mt=V(cr,pi,Di,yn))<0?(Or=pi[0],Di!=yn&&(Or=Or*ht+(pi[1]||0)),(Le=Or/Te|0)>1?(Le>=ht&&(Le=ht-1),(mt=V(Vr=A(cr,Le,ht),pi,yr=Vr.length,yn=pi.length))==1&&(Le--,oe(Vr,Di<yr?Ts:cr,yr,ht))):(Le==0&&(mt=Le=1),Vr=cr.slice()),(yr=Vr.length)<yn&&Vr.unshift(0),oe(pi,Vr,yn,ht),mt==-1&&(mt=V(cr,pi,Di,yn=pi.length))<1&&(Le++,oe(pi,Di<yn?Ts:cr,yn,ht)),yn=pi.length):mt===0&&(Le++,pi=[0]),us[Vt++]=Le,mt&&pi[0]?pi[yn++]=xn[Pr]||0:(pi=[xn[Pr]],yn=1);while((Pr++<an||pi[0]!==void 0)&&zs--);Fn=pi[0]!==void 0}us[0]||us.shift()}if(On==1)Vn.e=he,a=Fn;else{for(Vt=1,Le=us[0];Le>=10;Le/=10)Vt++;Vn.e=Vt+he*On-1,ot(Vn,Qe?ae+Vn.e+1:ae,Me,Fn)}return Vn}})();function ot(A,V,oe,re){var Ne,ae,Me,Qe,ht,mt,he,Vt,Le,On=A.constructor;e:if(V!=null){if(!(Vt=A.d))return A;for(Ne=1,Qe=Vt[0];Qe>=10;Qe/=10)Ne++;if((ae=V-Ne)<0)ae+=De,Me=V,ht=(he=Vt[Le=0])/te(10,Ne-Me-1)%10|0;else if((Le=Math.ceil((ae+1)/De))>=(Qe=Vt.length)){if(!re)break e;for(;Qe++<=Le;)Vt.push(0);he=ht=0,Ne=1,Me=(ae%=De)-De+1}else{for(he=Qe=Vt[Le],Ne=1;Qe>=10;Qe/=10)Ne++;ht=(Me=(ae%=De)-De+Ne)<0?0:he/te(10,Ne-Me-1)%10|0}if(re=re||V<0||Vt[Le+1]!==void 0||(Me<0?he:he%te(10,Ne-Me-1)),mt=oe<4?(ht||re)&&(oe==0||oe==(A.s<0?3:2)):ht>5||ht==5&&(oe==4||re||oe==6&&(ae>0?Me>0?he/te(10,Ne-Me):0:Vt[Le-1])%10&1||oe==(A.s<0?8:7)),V<1||!Vt[0])return Vt.length=0,mt?(V-=A.e+1,Vt[0]=te(10,(De-V%De)%De),A.e=-V||0):Vt[0]=A.e=0,A;if(ae==0?(Vt.length=Le,Qe=1,Le--):(Vt.length=Le+1,Qe=te(10,De-ae),Vt[Le]=Me>0?(he/te(10,Ne-Me)%te(10,Me)|0)*Qe:0),mt)for(;;){if(Le==0){for(ae=1,Me=Vt[0];Me>=10;Me/=10)ae++;for(Me=Vt[0]+=Qe,Qe=1;Me>=10;Me/=10)Qe++;ae!=Qe&&(A.e++,Vt[0]==Ie&&(Vt[0]=1));break}if(Vt[Le]+=Qe,Vt[Le]!=Ie)break;Vt[Le--]=0,Qe=1}for(ae=Vt.length;Vt[--ae]===0;)Vt.pop()}return k&&(A.e>On.maxE?(A.d=null,A.e=NaN):A.e<On.minE&&(A.e=0,A.d=[0])),A}function Lt(A,V,oe){if(!A.isFinite())return Ut(A);var re,Ne=A.e,ae=dt(A.d),Me=ae.length;return V?(oe&&(re=oe-Me)>0?ae=ae.charAt(0)+"."+ae.slice(1)+Ct(re):Me>1&&(ae=ae.charAt(0)+"."+ae.slice(1)),ae=ae+(A.e<0?"e":"e+")+A.e):Ne<0?(ae="0."+Ct(-Ne-1)+ae,oe&&(re=oe-Me)>0&&(ae+=Ct(re))):Ne>=Me?(ae+=Ct(Ne+1-Me),oe&&(re=oe-Ne-1)>0&&(ae=ae+"."+Ct(re))):((re=Ne+1)<Me&&(ae=ae.slice(0,re)+"."+ae.slice(re)),oe&&(re=oe-Me)>0&&(Ne+1===Me&&(ae+="."),ae+=Ct(re))),ae}function de(A,V){var oe=A[0];for(V*=De;oe>=10;oe/=10)V++;return V}function Fe(A,V,oe){if(V>Ue)throw k=!0,oe&&(A.precision=oe),Error(X);return ot(new A(_),V,1,!0)}function et(A,V,oe){if(V>it)throw Error(X);return ot(new A(T),V,oe,!0)}function _e(A){var V=A.length-1,oe=V*De+1;if(V=A[V]){for(;V%10==0;V/=10)oe--;for(V=A[0];V>=10;V/=10)oe++}return oe}function Ct(A){for(var V="";A--;)V+="0";return V}function $t(A,V,oe,re){var Ne,ae=new A(1),Me=Math.ceil(re/De+4);for(k=!1;;){if(oe%2&&cn((ae=ae.times(V)).d,Me)&&(Ne=!0),(oe=W(oe/2))===0){oe=ae.d.length-1,Ne&&ae.d[oe]===0&&++ae.d[oe];break}cn((V=V.times(V)).d,Me)}return k=!0,ae}function qt(A){return 1&A.d[A.d.length-1]}function ln(A,V,oe){for(var re,Ne=new A(V[0]),ae=0;++ae<V.length;){if(!(re=new A(V[ae])).s){Ne=re;break}Ne[oe](re)&&(Ne=re)}return Ne}function En(A,V){var oe,re,Ne,ae,Me,Qe,ht,mt=0,he=0,Vt=0,Le=A.constructor,On=Le.rounding,Fn=Le.precision;if(!A.d||!A.d[0]||A.e>17)return new Le(A.d?A.d[0]?A.s<0?0:1/0:1:A.s?A.s<0?0:A:NaN);for(V==null?(k=!1,ht=Fn):ht=V,Qe=new Le(.03125);A.e>-2;)A=A.times(Qe),Vt+=5;for(ht+=re=Math.log(te(2,Vt))/Math.LN10*2+5|0,oe=ae=Me=new Le(1),Le.precision=ht;;){if(ae=ot(ae.times(A),ht,1),oe=oe.times(++he),dt((Qe=Me.plus(nt(ae,oe,ht,1))).d).slice(0,ht)===dt(Me.d).slice(0,ht)){for(Ne=Vt;Ne--;)Me=ot(Me.times(Me),ht,1);if(V!=null)return Le.precision=Fn,Me;if(!(mt<3&&rt(Me.d,ht-re,On,mt)))return ot(Me,Le.precision=Fn,On,k=!0);Le.precision=ht+=10,oe=ae=Qe=new Le(1),he=0,mt++}Me=Qe}}function St(A,V){var oe,re,Ne,ae,Me,Qe,ht,mt,he,Vt,Le,On=1,Fn=A,Vr=Fn.d,yr=Fn.constructor,Vn=yr.rounding,us=yr.precision;if(Fn.s<0||!Vr||!Vr[0]||!Fn.e&&Vr[0]==1&&Vr.length==1)return new yr(Vr&&!Vr[0]?-1/0:Fn.s!=1?NaN:Vr?0:Fn);if(V==null?(k=!1,he=us):he=V,yr.precision=he+=10,re=(oe=dt(Vr)).charAt(0),!(Math.abs(ae=Fn.e)<15e14))return mt=Fe(yr,he+2,us).times(ae+""),Fn=St(new yr(re+"."+oe.slice(1)),he-10).plus(mt),yr.precision=us,V==null?ot(Fn,us,Vn,k=!0):Fn;for(;re<7&&re!=1||re==1&&oe.charAt(1)>3;)re=(oe=dt((Fn=Fn.times(A)).d)).charAt(0),On++;for(ae=Fn.e,re>1?(Fn=new yr("0."+oe),ae++):Fn=new yr(re+"."+oe.slice(1)),Vt=Fn,ht=Me=Fn=nt(Fn.minus(1),Fn.plus(1),he,1),Le=ot(Fn.times(Fn),he,1),Ne=3;;){if(Me=ot(Me.times(Le),he,1),dt((mt=ht.plus(nt(Me,new yr(Ne),he,1))).d).slice(0,he)===dt(ht.d).slice(0,he)){if(ht=ht.times(2),ae!==0&&(ht=ht.plus(Fe(yr,he+2,us).times(ae+""))),ht=nt(ht,new yr(On),he,1),V!=null)return yr.precision=us,ht;if(!rt(ht.d,he-10,Vn,Qe))return ot(ht,yr.precision=us,Vn,k=!0);yr.precision=he+=10,mt=Me=Fn=nt(Vt.minus(1),Vt.plus(1),he,1),Le=ot(Fn.times(Fn),he,1),Ne=Qe=1}ht=mt,Ne+=2}}function Ut(A){return String(A.s*A.s/0)}function fn(A,V){var oe,re,Ne;for((oe=V.indexOf("."))>-1&&(V=V.replace(".","")),(re=V.search(/e/i))>0?(oe<0&&(oe=re),oe+=+V.slice(re+1),V=V.substring(0,re)):oe<0&&(oe=V.length),re=0;V.charCodeAt(re)===48;re++);for(Ne=V.length;V.charCodeAt(Ne-1)===48;--Ne);if(V=V.slice(re,Ne)){if(Ne-=re,A.e=oe=oe-re-1,A.d=[],re=(oe+1)%De,oe<0&&(re+=De),re<Ne){for(re&&A.d.push(+V.slice(0,re)),Ne-=De;re<Ne;)A.d.push(+V.slice(re,re+=De));V=V.slice(re),re=De-V.length}else re-=Ne;for(;re--;)V+="0";A.d.push(+V),k&&(A.e>A.constructor.maxE?(A.d=null,A.e=NaN):A.e<A.constructor.minE&&(A.e=0,A.d=[0]))}else A.e=0,A.d=[0];return A}function Ge(A,V){var oe,re,Ne,ae,Me,Qe,ht,mt,he;if(V==="Infinity"||V==="NaN")return+V||(A.s=NaN),A.e=NaN,A.d=null,A;if(se.test(V))oe=16,V=V.toLowerCase();else if(ie.test(V))oe=2;else{if(!Y.test(V))throw Error(G+V);oe=8}for((ae=V.search(/p/i))>0?(ht=+V.slice(ae+1),V=V.substring(2,ae)):V=V.slice(2),Me=(ae=V.indexOf("."))>=0,re=A.constructor,Me&&(ae=(Qe=(V=V.replace(".","")).length)-ae,Ne=$t(re,new re(oe),ae,2*ae)),ae=he=(mt=Pe(V,oe,Ie)).length-1;mt[ae]===0;--ae)mt.pop();return ae<0?new re(0*A.s):(A.e=de(mt,he),A.d=mt,k=!1,Me&&(A=nt(A,Ne,4*Qe)),ht&&(A=A.times(Math.abs(ht)<54?te(2,ht):s.pow(2,ht))),k=!0,A)}function Qt(A,V,oe,re,Ne){var ae,Me,Qe,ht,mt=A.precision,he=Math.ceil(mt/De);for(k=!1,ht=oe.times(oe),Qe=new A(re);;){if(Me=nt(Qe.times(ht),new A(V++*V++),mt,1),Qe=Ne?re.plus(Me):re.minus(Me),re=nt(Me.times(ht),new A(V++*V++),mt,1),(Me=Qe.plus(re)).d[he]!==void 0){for(ae=he;Me.d[ae]===Qe.d[ae]&&ae--;);if(ae==-1)break}ae=Qe,Qe=re,re=Me,Me=ae}return k=!0,Me.d.length=he+1,Me}function Pn(A,V){for(var oe=A;--V;)oe*=A;return oe}function Cn(A,V){var oe,re=V.s<0,Ne=et(A,A.precision,1),ae=Ne.times(.5);if((V=V.abs()).lte(ae))return d=re?4:1,V;if((oe=V.divToInt(Ne)).isZero())d=re?3:2;else{if((V=V.minus(oe.times(Ne))).lte(ae))return d=qt(oe)?re?2:3:re?4:1,V;d=qt(oe)?re?1:4:re?3:2}return V.minus(Ne).abs()}function Jn(A,V,oe,re){var Ne,ae,Me,Qe,ht,mt,he,Vt,Le,On=A.constructor,Fn=oe!==void 0;if(Fn?(Oe(oe,1,$),re===void 0?re=On.rounding:Oe(re,0,8)):(oe=On.precision,re=On.rounding),A.isFinite()){for(Fn?(Ne=2,V==16?oe=4*oe-3:V==8&&(oe=3*oe-2)):Ne=V,(Me=(he=Lt(A)).indexOf("."))>=0&&(he=he.replace(".",""),(Le=new On(1)).e=he.length-Me,Le.d=Pe(Lt(Le),10,Ne),Le.e=Le.d.length),ae=ht=(Vt=Pe(he,10,Ne)).length;Vt[--ht]==0;)Vt.pop();if(Vt[0]){if(Me<0?ae--:((A=new On(A)).d=Vt,A.e=ae,Vt=(A=nt(A,Le,oe,re,0,Ne)).d,ae=A.e,mt=a),Me=Vt[oe],Qe=Ne/2,mt=mt||Vt[oe+1]!==void 0,mt=re<4?(Me!==void 0||mt)&&(re===0||re===(A.s<0?3:2)):Me>Qe||Me===Qe&&(re===4||mt||re===6&&1&Vt[oe-1]||re===(A.s<0?8:7)),Vt.length=oe,mt)for(;++Vt[--oe]>Ne-1;)Vt[oe]=0,oe||(++ae,Vt.unshift(1));for(ht=Vt.length;!Vt[ht-1];--ht);for(Me=0,he="";Me<ht;Me++)he+=v.charAt(Vt[Me]);if(Fn){if(ht>1)if(V==16||V==8){for(Me=V==16?4:3,--ht;ht%Me;ht++)he+="0";for(ht=(Vt=Pe(he,Ne,V)).length;!Vt[ht-1];--ht);for(Me=1,he="1.";Me<ht;Me++)he+=v.charAt(Vt[Me])}else he=he.charAt(0)+"."+he.slice(1);he=he+(ae<0?"p":"p+")+ae}else if(ae<0){for(;++ae;)he="0"+he;he="0."+he}else if(++ae>ht)for(ae-=ht;ae--;)he+="0";else ae<ht&&(he=he.slice(0,ae)+"."+he.slice(ae))}else he=Fn?"0p+0":"0";he=(V==16?"0x":V==2?"0b":V==8?"0o":"")+he}else he=Ut(A);return A.s<0?"-"+he:he}function cn(A,V){if(A.length>V)return A.length=V,!0}function ri(A){return new this(A).abs()}function Ai(A){return new this(A).acos()}function lr(A){return new this(A).acosh()}function ls(A,V){return new this(A).plus(V)}function fi(A){return new this(A).asin()}function ar(A){return new this(A).asinh()}function Zn(A){return new this(A).atan()}function D(A){return new this(A).atanh()}function ue(A,V){A=new this(A),V=new this(V);var oe,re=this.precision,Ne=this.rounding,ae=re+4;return A.s&&V.s?A.d||V.d?!V.d||A.isZero()?(oe=V.s<0?et(this,re,Ne):new this(0)).s=A.s:!A.d||V.isZero()?(oe=et(this,ae,1).times(.5)).s=A.s:V.s<0?(this.precision=ae,this.rounding=1,oe=this.atan(nt(A,V,ae,1)),V=et(this,ae,1),this.precision=re,this.rounding=Ne,oe=A.s<0?oe.minus(V):oe.plus(V)):oe=this.atan(nt(A,V,ae,1)):(oe=et(this,ae,1).times(V.s>0?.25:.75)).s=A.s:oe=new this(NaN),oe}function Re(A){return new this(A).cbrt()}function qe(A){return ot(A=new this(A),A.e+1,2)}function ct(A){if(!A||typeof A!="object")throw Error(P+"Object expected");var V,oe,re,Ne=A.defaults===!0,ae=["precision",1,$,"rounding",0,8,"toExpNeg",-m,0,"toExpPos",0,m,"maxE",0,m,"minE",-m,0,"modulo",0,9];for(V=0;V<ae.length;V+=3)if(oe=ae[V],Ne&&(this[oe]=S[oe]),(re=A[oe])!==void 0){if(!(W(re)===re&&re>=ae[V+1]&&re<=ae[V+2]))throw Error(G+oe+": "+re);this[oe]=re}if(oe="crypto",Ne&&(this[oe]=S[oe]),(re=A[oe])!==void 0){if(re!==!0&&re!==!1&&re!==0&&re!==1)throw Error(G+oe+": "+re);if(re){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(R);this[oe]=!0}else this[oe]=!1}return this}function st(A){return new this(A).cos()}function At(A){return new this(A).cosh()}function Ot(A,V){return new this(A).div(V)}function F(A){return new this(A).exp()}function $e(A){return ot(A=new this(A),A.e+1,3)}function Ye(){var A,V,oe=new this(0);for(k=!1,A=0;A<arguments.length;)if((V=new this(arguments[A++])).d)oe.d&&(oe=oe.plus(V.times(V)));else{if(V.s)return k=!0,new this(1/0);oe=V}return k=!0,oe.sqrt()}function We(A){return A instanceof s||A&&A.name==="[object Decimal]"||!1}function Ht(A){return new this(A).ln()}function An(A,V){return new this(A).log(V)}function Lr(A){return new this(A).log(2)}function ne(A){return new this(A).log(10)}function Se(){return ln(this,arguments,"lt")}function B(){return ln(this,arguments,"gt")}function ee(A,V){return new this(A).mod(V)}function Ce(A,V){return new this(A).mul(V)}function je(A,V){return new this(A).pow(V)}function Ft(A){var V,oe,re,Ne,ae=0,Me=new this(1),Qe=[];if(A===void 0?A=this.precision:Oe(A,1,$),re=Math.ceil(A/De),this.crypto)if(crypto.getRandomValues)for(V=crypto.getRandomValues(new Uint32Array(re));ae<re;)(Ne=V[ae])>=429e7?V[ae]=crypto.getRandomValues(new Uint32Array(1))[0]:Qe[ae++]=Ne%1e7;else{if(!crypto.randomBytes)throw Error(R);for(V=crypto.randomBytes(re*=4);ae<re;)(Ne=V[ae]+(V[ae+1]<<8)+(V[ae+2]<<16)+((127&V[ae+3])<<24))>=214e7?crypto.randomBytes(4).copy(V,ae):(Qe.push(Ne%1e7),ae+=4);ae=re/4}else for(;ae<re;)Qe[ae++]=1e7*Math.random()|0;for(re=Qe[--ae],A%=De,re&&A&&(Ne=te(10,De-A),Qe[ae]=(re/Ne|0)*Ne);Qe[ae]===0;ae--)Qe.pop();if(ae<0)oe=0,Qe=[0];else{for(oe=-1;Qe[0]===0;oe-=De)Qe.shift();for(re=1,Ne=Qe[0];Ne>=10;Ne/=10)re++;re<De&&(oe-=De-re)}return Me.e=oe,Me.d=Qe,Me}function mn(A){return ot(A=new this(A),A.e+1,this.rounding)}function Bn(A){return(A=new this(A)).d?A.d[0]?A.s:0*A.s:A.s||NaN}function $r(A){return new this(A).sin()}function Os(A){return new this(A).sinh()}function as(A){return new this(A).sqrt()}function kr(A,V){return new this(A).sub(V)}function z(A){return new this(A).tan()}function J(A){return new this(A).tanh()}function on(A){return ot(A=new this(A),A.e+1,1)}return(s=(function A(V){var oe,re,Ne;function ae(Me){var Qe,ht,mt,he=this;if(!(he instanceof ae))return new ae(Me);if(he.constructor=ae,Me instanceof ae)return he.s=Me.s,void(k?!Me.d||Me.e>ae.maxE?(he.e=NaN,he.d=null):Me.e<ae.minE?(he.e=0,he.d=[0]):(he.e=Me.e,he.d=Me.d.slice()):(he.e=Me.e,he.d=Me.d?Me.d.slice():Me.d));if((mt=typeof Me)=="number"){if(Me===0)return he.s=1/Me<0?-1:1,he.e=0,void(he.d=[0]);if(Me<0?(Me=-Me,he.s=-1):he.s=1,Me===~~Me&&Me<1e7){for(Qe=0,ht=Me;ht>=10;ht/=10)Qe++;return void(k?Qe>ae.maxE?(he.e=NaN,he.d=null):Qe<ae.minE?(he.e=0,he.d=[0]):(he.e=Qe,he.d=[Me]):(he.e=Qe,he.d=[Me]))}return 0*Me!=0?(Me||(he.s=NaN),he.e=NaN,void(he.d=null)):fn(he,Me.toString())}if(mt!=="string")throw Error(G+Me);return(ht=Me.charCodeAt(0))===45?(Me=Me.slice(1),he.s=-1):(ht===43&&(Me=Me.slice(1)),he.s=1),fe.test(Me)?fn(he,Me):Ge(he,Me)}if(ae.prototype=ze,ae.ROUND_UP=0,ae.ROUND_DOWN=1,ae.ROUND_CEIL=2,ae.ROUND_FLOOR=3,ae.ROUND_HALF_UP=4,ae.ROUND_HALF_DOWN=5,ae.ROUND_HALF_EVEN=6,ae.ROUND_HALF_CEIL=7,ae.ROUND_HALF_FLOOR=8,ae.EUCLID=9,ae.config=ae.set=ct,ae.clone=A,ae.isDecimal=We,ae.abs=ri,ae.acos=Ai,ae.acosh=lr,ae.add=ls,ae.asin=fi,ae.asinh=ar,ae.atan=Zn,ae.atanh=D,ae.atan2=ue,ae.cbrt=Re,ae.ceil=qe,ae.cos=st,ae.cosh=At,ae.div=Ot,ae.exp=F,ae.floor=$e,ae.hypot=Ye,ae.ln=Ht,ae.log=An,ae.log10=ne,ae.log2=Lr,ae.max=Se,ae.min=B,ae.mod=ee,ae.mul=Ce,ae.pow=je,ae.random=Ft,ae.round=mn,ae.sign=Bn,ae.sin=$r,ae.sinh=Os,ae.sqrt=as,ae.sub=kr,ae.tan=z,ae.tanh=J,ae.trunc=on,V===void 0&&(V={}),V&&V.defaults!==!0)for(Ne=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],oe=0;oe<Ne.length;)V.hasOwnProperty(re=Ne[oe++])||(V[re]=this[re]);return ae.config(V),ae})(S)).default=s.Decimal=s,_=new s(_),T=new s(T),t.exports?(typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(ze[Symbol.for("nodejs.util.inspect.custom")]=ze.toString,ze[Symbol.toStringTag]="Decimal"),t.exports=s):(r||(r=typeof self<"u"&&self&&self.self==self?self:window),c=r.Decimal,s.noConflict=function(){return r.Decimal=c,s},r.Decimal=s),s})(WA)});t.exports=n})(K3)),K3.exports}var XA=jA();const xh=l0(XA);function YA({levelData:t,onUpdate:n}){const r=t.equation||{a:2,b:4,c:0,d:10,implicit:!1,showGraph:!1},[s,a]=vn.useState(!1),[c,d]=vn.useState("");vn.useEffect(()=>{(!t.allowedBlocks||t.allowedBlocks.length===0)&&m({...r},!0);const T=`${r.a}*x + ${r.b} = ${r.c}*x + ${r.d}`;d(T)},[]);const m=(T,S=!1)=>{const k=T.manualLhs||`${T.a}*x + ${T.b}`,P=T.manualRhs||`${T.c}*x + ${T.d}`,G={...t,equation:{...T,lhs:k,rhs:P,sign:"="}};S&&(G.allowedBlocks=["equation_op_both","equation_term_x","equation_verify","equation_solution_state","math_number"]),n(G)},$=T=>{const S={...r,...T,manualLhs:null,manualRhs:null};m(S),d(`${S.a}*x + ${S.b} = ${S.c}*x + ${S.d}`)},v=()=>{const T=Math.floor(Math.random()*10)-5,S=Math.floor(Math.random()*5)+2,k=Math.floor(Math.random()*S),P=Math.floor(Math.random()*10),G=S*T+P-k*T;$({a:S,b:P,c:k,d:G})},_=T=>{const S=T.target.value;d(S);const k=S.split("=");if(k.length===2)try{xh(k[0]),xh(k[1]),m({...r,manualLhs:k[0],manualRhs:k[1]})}catch{}};return ge.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[ge.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 pb-4",children:[ge.jsx("h3",{className:"text-sm font-bold text-slate-700 flex items-center gap-2 uppercase tracking-wider",children:" Gnrateur"}),ge.jsxs("div",{className:"flex gap-2",children:[ge.jsxs("button",{onClick:v,className:"text-xs bg-purple-100 text-purple-700 px-3 py-1.5 rounded-lg font-bold hover:bg-purple-200 transition-colors flex items-center gap-1",children:[ge.jsx("span",{children:""})," Alatoire"]}),ge.jsx("button",{onClick:()=>a(!s),className:`text-xs px-3 py-1.5 rounded-lg font-bold transition-colors ${s?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:s?"Mode Sliders":"Mode Texte"})]})]}),s?ge.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-300",children:[ge.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase",children:"quation Libre"}),ge.jsx("input",{type:"text",value:c,onChange:_,className:"w-full p-3 font-mono text-lg border-2 border-slate-200 rounded-xl focus:border-blue-500 outline-none text-center text-slate-700",placeholder:"3*x + 5 = 2*x - 1"}),ge.jsxs("p",{className:"text-[10px] text-slate-400 mt-2 text-center",children:["Utilisez ",ge.jsx("code",{className:"bg-slate-100 px-1 rounded",children:"*"})," pour multiplier (ex: 3*x)."]})]}):ge.jsx("div",{className:"space-y-5 animate-in fade-in slide-in-from-top-2 duration-300",children:["a","b","c","d"].map(T=>ge.jsxs("div",{className:"flex items-center gap-4 group",children:[ge.jsx("label",{className:"w-4 text-xs font-bold text-slate-400 uppercase",children:T}),ge.jsx("input",{type:"range",min:"-20",max:"20",step:"1",value:r[T],onChange:S=>$({[T]:parseInt(S.target.value)}),className:"flex-1 h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-500 group-hover:accent-blue-400"}),ge.jsx("span",{className:"w-8 text-right font-mono font-bold text-slate-700",children:r[T]})]},T))}),ge.jsxs("div",{className:"space-y-3 border-t border-slate-100 pt-4",children:[ge.jsxs("div",{className:"flex justify-between gap-2",children:[ge.jsxs("label",{className:"flex-1 flex items-center gap-2 cursor-pointer bg-slate-50 px-3 py-2 rounded-lg border border-slate-100 hover:bg-slate-100 transition-colors",children:[ge.jsx("input",{type:"checkbox",checked:r.implicit||!1,onChange:T=>$({implicit:T.target.checked}),className:"w-4 h-4 text-blue-600 rounded"}),ge.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Implicit (2x)"})]}),ge.jsxs("label",{className:"flex-1 flex items-center gap-2 cursor-pointer bg-slate-50 px-3 py-2 rounded-lg border border-slate-100 hover:bg-slate-100 transition-colors",children:[ge.jsx("input",{type:"checkbox",checked:r.showGraph||!1,onChange:T=>$({showGraph:T.target.checked}),className:"w-4 h-4 text-emerald-600 rounded"}),ge.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Graphique"})]})]}),ge.jsxs("div",{className:"bg-slate-800 text-white p-4 rounded-xl text-center font-mono text-lg shadow-inner overflow-hidden text-ellipsis whitespace-nowrap",children:[t.equation?.lhs," = ",t.equation?.rhs]})]})]})}var J3={exports:{}},KA=J3.exports,bb;function wm(){return bb||(bb=1,(function(t,n){(function(r,s){t.exports=s()})(KA,function(){var r={},s,a,c,d,m,$,v,_,T,S,k,P,G,X,R,W,te,ie,se,Y,fe,Ie,De,Ue,it,ze,dt,Oe,rt,Pe,nt,ot,Lt,de,Fe,et,_e,Ct,$t,qt,ln,En,St,Ut,fn,Ge,Qt,Pn,Cn,Jn,cn,ri,Ai,lr,ls,fi,ar,Zn,D,ue,Re,qe,ct,st,At,Ot,F,$e,Ye,We,Ht,An,Lr,ne,Se,B,ee,Ce,je,Ft,mn,Bn,$r,Os,as,kr,z,J,on,A,V,oe,re,Ne,ae,Me,Qe,ht,mt,he,Vt,Le,On,Fn,Vr,yr,Vn,us,pi,yn,Or,zs,mi,Pr,an,Te,Di,Ts,_r,Gr,xn,cr,Kr,K0,io,ir,p,I,H,j,pe,be,He,xe,_t,Bt,kt,bn,en,hn,Rn,wn,jt,hr,jn,sr,qr,fr,ai,so,ps,Xn,gi,Bi,ji,cs,ui,tr,ii,Ei,To,ci,Xs,Mo,rn,Pi,ts,$a,va,Ys,Hs,ei,Rs,Qo,Wl,jl,Xl,Ou,Eo,Vh,Gh,ld,Mc,_l,Er,Ru,u0,J0,Nc,Oa,Ra,qh,La,Z0,c0,Oc,Da,Yl,Rc,Lc,Lu,Q0,eu,h0,Kl,tu,Du,Tl,x,O,me,ke,Xe,at,vt,Rt,Jt,tn,_n,Pt,Qn,Gn,er,ur,Cr,Wr,un,Hn,Fr,mr,ti,$i,si,hi,oi,Ii,jr,Xi,Es,Ls,Mi,Ks,wo,Ds,Dr,gs,ye,Ni,hs,El,po,xo,oo,$s,gr,lo,Fi,So,ba,Jl,Ba,ul,Dc,Zl,wl,Bc,No,Pc,Ql,bf,d0,Pa,Bu,f0,Fa,nu,cl,ru,ea,Fc,p0,Oo,el,ya,tl,hl,Go,Uc,zc,ta,Hc,ds,ns,Jr,Ua,Js,_a,Ta,ad,ud,iu,Ea,Wh,su,Vc,m0,na,za,ra,ou,dl,Ha,Pu,fl,ao,Fu,Uu,Gc,jh,cd,ms,qc,Va,Ga,Xh,lu,g0,Yh,qn,pl,mo,Ui,xl,y,g,E,M,U,K,le,Ee,Be,Ze,pt,bt,Nt,sn,kn,Un,Ur,wr,Ar,vi,ni,Yi,ws,vs,xs,zr,wi,xi,zi,bi,rs,ko,$0,zu,Wc,Kh,qa,ml,Sl,v0,yf,_f,au,nl,Zs,hd,ia,Rr,Ki,Vs,jc,uu,b0,Jh,Zh,Hu,Tf,Ss,Ef,Qh,x2,wf,zm,y0,dd,Xc,qo,Gs,Yc,Kc,e1,fd,Wa,t1,pd,md,xf,Sf,S2,k2,C2,A2,kf,I2,Hm,M2,N2,Cf,gd,Af,If,Mf,Nf,Of,Rf,n1,Vu,O2,r1,i1,Lf,$d,R2,Df,Bf,Pf,Ff,Uf,zf,L2,Hf,Vf,D2,B2,Vm,It;s=function(e,i,l,h){if(!(e instanceof Xt)&&typeof e!="string"||`${e}`.trim()==="")throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=`${e}`.toLowerCase(),typeof i!="string"||i.trim()==="")throw Error('Invalid name "'+i+'". The name must be a non-empty string.');const w=i.toLowerCase();if(!l)throw Error("Can not register a null value");let L=cu[e],ce=s1[e];if(L||(L=cu[e]=Object.create(null),ce=s1[e]=Object.create(null)),a(e,l),!h&&L[w]&&L[w]!==l)throw Error('Name "'+w+'" with type "'+e+'" already registered.');L[w]=l,ce[w]=i},a=function(e,i){switch(e){case String(Xt.FIELD):if(typeof i.fromJson!="function")throw Error('Type "'+e+'" must have a fromJson function')}},c=function(e,i){e=`${e}`.toLowerCase(),i=i.toLowerCase();const l=cu[e];l&&l[i]?(delete cu[e][i],delete s1[e][i]):console.warn("Unable to unregister ["+i+"]["+e+"] from the registry.")},d=function(e,i,l){e=`${e}`.toLowerCase(),i=i.toLowerCase();const h=cu[e];if(!h||!h[i]){if(i="Unable to find ["+i+"]["+e+"] in the registry.",l)throw Error(i+" You must require or register a "+e+" plugin.");return console.warn(i),null}return h[i]},m=function(e,i){return e=`${e}`.toLowerCase(),i=i.toLowerCase(),(e=cu[e])?!!e[i]:!1},$=function(e,i,l){return d(e,i,l)},v=function(e,i,l){return d(e,i,l)},_=function(e,i,l){e=`${e}`.toLowerCase();var h=cu[e];if(!h){if(h=`Unable to find [${e}] in the registry.`,l)throw Error(`${h} You must require or register a ${e} plugin.`);return console.warn(h),null}if(!i)return h;e=s1[e],l=Object.create(null);for(const w of Object.keys(h))l[e[w]]=h[w];return l},T=function(e,i,l){return i=i.plugins[String(e)]||kl,typeof i=="function"?i:$(e,i,l)},S=function(e,i){k(),vd=setTimeout(function(){i&&i.handleRightClick(e)},qm)},k=function(){vd&&(clearTimeout(vd),vd=0)},P=function(){l1=null},G=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&R(e)},X=function(e){return`${e.pointerId}`},R=function(e){const i=X(e);return l1?l1===i:e.type==="pointerdown"?(l1=i,!0):!1},W=function(e,i,l,h,w){function L(Ve){(w||G(Ve))&&(l?h.call(l,Ve):h(Ve))}const ce=[];if(i in _0)for(let Ve=0;Ve<_0[i].length;Ve++){const Gt=_0[i][Ve];e.addEventListener(Gt,L,!1),ce.push([e,Gt,L])}else e.addEventListener(i,L,!1),ce.push([e,i,L]);return ce},te=function(e,i,l,h){function w(ce){l?h.call(l,ce):h(ce)}const L=[];if(i in _0)for(let ce=0;ce<_0[i].length;ce++){const Ve=_0[i][ce];e.addEventListener(Ve,w,!1),L.push([e,Ve,w])}else e.addEventListener(i,w,!1),L.push([e,i,w]);return L},ie=function(e){const i=e[e.length-1][2];for(;e.length;){const[l,h,w]=e.pop();l.removeEventListener(h,w,!1)}return i},se=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||e.target.getAttribute("data-is-text-input")==="true")return!0;if(e.target instanceof HTMLInputElement)return e=e.target,e.type==="text"||e.type==="number"||e.type==="email"||e.type==="password"||e.type==="search"||e.type==="tel"||e.type==="url";if(e.target instanceof HTMLTextAreaElement)return!0}return!1},Y=function(e){return e.ctrlKey&&jf?!0:e.button===2},fe=function(e,i,l){const h=i.createSVGPoint();return h.x=e.clientX,h.y=e.clientY,l||(l=i.getScreenCTM().inverse()),h.matrixTransform(l)},Ie=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*uo,y:e.deltaY*uo};case 2:return{x:e.deltaX*Ro,y:e.deltaY*Ro}}},De=function(){return"blockly-"+(Xm++).toString(36)},Ue=function(){return h1.genUid()},it=function(e){return e.type===Tt.BLOCK_CREATE},ze=function(e){return e.type===Tt.BLOCK_DELETE},dt=function(e){return e.type===Tt.BLOCK_CHANGE},Oe=function(e){return e.type===Tt.BLOCK_FIELD_INTERMEDIATE_CHANGE},rt=function(e){return e.type===Tt.BLOCK_MOVE},Pe=function(e){return e.type===Tt.CLICK},nt=function(e){return e.type===Tt.BUBBLE_OPEN},ot=function(e){return e.type===Tt.VIEWPORT_CHANGE},r.setRecordUndo$$module$build$src$core$events$utils=function(e){yd=e},Lt=function(){return yd},de=function(e){X2.fireInternal(e)},Fe=function(e){if(qt()){if(!E0.length)try{requestAnimationFrame(()=>{setTimeout(et,0)})}catch{setTimeout(et,0)}_e(e)}},et=function(){const e=Ct(E0);E0.length=0;for(const i of e){if(!i.workspaceId)continue;let l;(l=ct(i.workspaceId))==null||l.fireChangeListener(i)}},_e=function(e){if(dt(e)&&e.element==="mutation"){let i;for(i=E0.length;i>0;i--){const l=E0[i-1];if(l.group!==e.group||l.workspaceId!==e.workspaceId||!rt(l)||l.newParentId!==e.blockId)break}E0.splice(i,0,e)}else E0.push(e)},Ct=function(e){const i=[];for(const l of e)if(e=i[i.length-1],!l.isNull())if(e&&e.workspaceId===l.workspaceId&&e.group===l.group)if(rt(l)&&rt(e)&&l.blockId===e.blockId){if(e.newParentId=l.newParentId,e.newInputName=l.newInputName,e.newCoordinate=l.newCoordinate,e.reason||l.reason){let h,w;e.reason=Array.from(new Set(((h=e.reason)!=null?h:[]).concat((w=l.reason)!=null?w:[])))}}else dt(l)&&dt(e)&&l.blockId===e.blockId&&l.element===e.element&&l.name===e.name?e.newValue=l.newValue:ot(l)&&ot(e)?(e.viewTop=l.viewTop,e.viewLeft=l.viewLeft,e.scale=l.scale,e.oldScale=l.oldScale):Pe(l)&&nt(e)||i.push(l);else i.push(l);return e=i.filter(l=>!l.isNull())},$t=function(){for(let e=0,i;i=E0[e];e++)i.recordUndo=!1},r.disable$$module$build$src$core$events$utils=function(){f1++},r.enable$$module$build$src$core$events$utils=function(){f1--},qt=function(){return f1===0},r.getGroup$$module$build$src$core$events$utils=function(){return j2},r.setGroup$$module$build$src$core$events$utils=function(e){X2.setGroupInternal(e)},ln=function(e){j2=typeof e=="boolean"?e?Ue():"":e},En=function(e){const i=[];e=e.getDescendants(!1);for(let l=0,h;h=e[l];l++)i[l]=h.id;return i},St=function(e,i){const l=Ut(e.type);if(!l)throw Error("Unknown event type.");return l.fromJson(e,i)},Ut=function(e){const i=$(Xt.EVENT,e);if(!i)throw Error(`Event type ${e} not found in registry.`);return i},fn=function(e){if((rt(e)||it(e))&&e.workspaceId){var i=ct(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=i.getBlockById(e.blockId)){const l=yd;try{yd=!1;const h=e.getParent();if(h&&!h.hasDisabledReason(_d)){const w=e.getDescendants(!1);for(let L=0,ce;ce=w[L];L++)ce.setDisabledReason(!1,_d)}else if((e.outputConnection||e.previousConnection)&&!i.isDragging())do e.setDisabledReason(!0,_d),e=e.getNextBlock();while(e)}finally{yd=l}}}},Ge=function(e,i,l){e=document.createElementNS(p1,`${e}`);for(const h in i)e.setAttribute(h,`${i[h]}`);return l&&l.appendChild(e),e},Qt=function(e,i){return i=i.split(" "),i.every(l=>e.classList.contains(l))?!1:(e.classList.add(...i),!0)},Pn=function(e,i){e.classList.remove(...i.split(" "))},Cn=function(e,i){return i=i.split(" "),i.every(l=>!e.classList.contains(l))?!1:(e.classList.remove(...i),!0)},Jn=function(e,i){return e.classList.contains(i)},cn=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},ri=function(e,i){const l=i.nextSibling;if(i=i.parentNode,!i)throw Error("Reference node has no parent.");l?i.insertBefore(e,l):i.appendChild(e)},Ai=function(e,i){e.style.transform=i,e.style["-webkit-transform"]=i},lr=function(){Td++,wa||(wa=Object.create(null))},ls=function(){Td--,Td||(wa=null)},fi=function(e){const i=e.textContent+`
`+e.className.baseVal;var l;return wa&&(l=wa[i])||(l=window.getComputedStyle(e),l=Zn(e,l.fontSize,l.fontWeight,l.fontFamily),wa&&(wa[i]=l)),l},ar=function(e,i,l,h){return Zn(e,i+"pt",l,h)},Zn=function(e,i,l,h){const w=e.textContent;e=w+`
`+e.className.baseVal;var L;return wa&&(L=wa[e])||(Wu||(L=document.createElement("canvas"),L.className="blocklyComputeCanvas",document.body.appendChild(L),Wu=L.getContext("2d")),w&&Wu?(Wu.font=l+" "+i+" "+h,L=Wu.measureText(w).width):L=0,wa&&(wa[e]=L)),L},D=function(e,i,l,h){const w=document.createElement("span");w.style.font=l+" "+i+" "+h,w.textContent=e,e=document.createElement("div"),e.style.width="1px",e.style.height="0",i=document.createElement("div"),i.style.display="flex",i.style.position="fixed",i.style.top="0",i.style.left="0",i.appendChild(w),i.appendChild(e),document.body.appendChild(i),l={height:0,baseline:0};try{i.style.alignItems="baseline",l.baseline=e.offsetTop-w.offsetTop,i.style.alignItems="flex-end",l.height=e.offsetTop-w.offsetTop}finally{document.body.removeChild(i)}return l},r.getFocusManager$$module$build$src$core$focus_manager=function(){return Lo.getFocusManager()},ue=function(e){return e&&typeof e.getFocusableElement=="function"&&typeof e.getFocusableTree=="function"&&typeof e.onNodeFocus=="function"&&typeof e.onNodeBlur=="function"&&typeof e.canBeFocused=="function"},Re=function(e){return ue(e)&&typeof e.id=="string"&&typeof e.workspace=="object"&&typeof e.select=="function"&&typeof e.unselect=="function"},qe=function(e,i){for(const l in i)i[l]!==null&&Array.isArray(i[l])?e[l]=qe(e[l]||[],i[l]):e[l]=i[l]!==null&&typeof i[l]=="object"?qe(e[l]||Object.create(null),i[l]):i[l];return e},ct=function(e){return Ed[e]||null},st=function(){const e=[];for(const i in Ed)e.push(Ed[i]);return e},At=function(e){Ed[e.id]=e},Ot=function(e){delete Ed[e.id]},F=function(){return K2},$e=function(e){K2=e},Ye=function(){const e=r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();return e&&Re(e)?e:null},We=function(e){r.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)},Ht=function(e){const i=Ye();let l,h,w,L;const ce=new(Ut(Tt.SELECTED))((l=i?.id)!=null?l:null,(h=e?.id)!=null?h:null,(L=(w=e?.workspace.id)!=null?w:i?.workspace.id)!=null?L:"");de(ce)},An=function(){return x0},Lr=function(e){x0=e},ne=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;const i=e.getParentSvg(),l=e.getCachedParentSvgSize();var h=i.parentElement;if(h instanceof HTMLElement){var w=h.offsetWidth;h=h.offsetHeight,l.width!==w&&(i.setAttribute("width",w+"px"),e.setCachedParentSvgSize(w,null)),l.height!==h&&(i.setAttribute("height",h+"px"),e.setCachedParentSvgSize(null,h)),e.resize()}},Se=function(e,i){const l=Object.create(null),h=e.getDescendants(!0);i&&(e=e.getNextBlock())&&(e=h.indexOf(e),h.splice(e,h.length-e));for(let w=0,L;L=h[w];w++)l[L.type]?l[L.type]++:l[L.type]=1;return l},B=function(e){return function(){this.jsonInit(e)}},ee=function(e){J2.defineBlocksWithJsonArrayInternal(e)},Ce=function(e){r.defineBlocks$$module$build$src$core$common(r.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(e))},r.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(e){const i={};for(let l=0;l<e.length;l++){const h=e[l];if(!h){console.warn(`Block definition #${l} in JSON array is ${h}. Skipping`);continue}const w=h.type;w?i[w]={init:B(h)}:console.warn(`Block definition #${l} in JSON array is missing a type attribute. Skipping.`)}return i},r.defineBlocks$$module$build$src$core$common=function(e){for(const i of Object.keys(e)){const l=e[i];i in ks&&console.warn(`Block definition "${i}" overwrites previous definition.`),ks[i]=l}},je=function(e){let i=F();const l=r.getFocusManager$$module$build$src$core$focus_manager().getFocusedTree();for(const h of st())if(l===h){i=h;break}!se(e)&&i&&(!i.rendered||i.isFlyout||i.isVisible())&&Ji.registry.onKeyDown(i,e)},Ft=function(e,i){return i=e.indexOf(i),i===-1?!1:(e.splice(i,1),!0)},mn=function(e){if(Xf)throw Error("CSS already injected");Yf+=`
`+e},Bn=function(e,i){Xf||(Xf=!0,e&&(e=i.replace(/[\\/]$/,""),i=Yf.replace(/<<<PATH>>>/g,e),Yf="",e=document.createElement("style"),e.id="blockly-common-style",i=document.createTextNode(i),e.appendChild(i),document.head.insertBefore(e,document.head.firstChild)))},$r=function(e){return Kf.getSizeInternal(e)},Os=function(e){if(kr(e,"display")!=="none")return as(e);const i=e.style,l=i.display,h=i.visibility,w=i.position;i.visibility="hidden",i.position="absolute",i.display="inline";const L=e.offsetWidth;return e=e.offsetHeight,i.display=l,i.position=w,i.visibility=h,new Ir(L,e)},as=function(e){return new Ir(e.offsetWidth,e.offsetHeight)},kr=function(e,i){return e=window.getComputedStyle(e),e[i]||e.getPropertyValue(i)},z=function(e){const i=new Zt(0,0);e=e.getBoundingClientRect();var l=document.documentElement;return l=new Zt(window.pageXOffset||l.scrollLeft,window.pageYOffset||l.scrollTop),i.x=e.left+l.x,i.y=e.top+l.y,i},J=function(){const e=document.body,i=document.documentElement;return new Zt(e.scrollLeft||i.scrollLeft,e.scrollTop||i.scrollTop)},on=function(e){const i=parseFloat(kr(e,"borderLeftWidth")),l=parseFloat(kr(e,"borderRightWidth")),h=parseFloat(kr(e,"borderTopWidth"));return e=parseFloat(kr(e,"borderBottomWidth")),new xr(h,e,i,l)},A=function(e,i,l){e=V(e,i,l),i.scrollLeft=e.x,i.scrollTop=e.y},V=function(e,i,l){var h=z(e),w=z(i),L=on(i);const ce=h.x-w.x-L.left;return h=h.y-w.y-L.top,w=as(e),e=i.clientWidth-w.width,w=i.clientHeight-w.height,L=i.scrollLeft,i=i.scrollTop,l?(L+=ce-e/2,i+=h-w/2):(L+=Math.min(ce,Math.max(ce-e,0)),i+=Math.min(h,Math.max(h-w,0))),new Zt(L,i)},oe=function(e){const i=new Zt(0,0);var l=e.x&&e.getAttribute("x");const h=e.y&&e.getAttribute("y");return l&&(i.x=parseInt(l)),h&&(i.y=parseInt(h)),(l=(l=e.getAttribute("transform"))&&l.match(wd))&&(i.x+=Number(l[1]),l[3]&&(i.y+=Number(l[3]))),(e=e.getAttribute("style"))&&e.includes("translate")&&(e=e.match(tp))&&(i.x+=Number(e[1]),e[3]&&(i.y+=Number(e[3]))),i},re=function(e){let i=0,l=0;for(;e;){const h=oe(e);if(i+=h.x,l+=h.y,(" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv "))break;e=e.parentNode}return new Zt(i,l)},Ne=function(){const e=J();return new xr(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},ae=function(){const e=document.documentElement,i=window;return new Zt(i.pageXOffset||e.scrollLeft,i.pageYOffset||e.scrollTop)},Me=function(e,i){var l=i.x;i=i.y;const h=e.getInjectionDiv().getBoundingClientRect();return l=new Zt(l-h.left,i-h.top),i=e.getOriginOffsetInPixels(),Zt.difference(l,i).scale(1/e.scale)},Qe=function(e,i){var l=i.scale(e.scale);i=l.x,l=l.y;const h=e.getInjectionDiv().getBoundingClientRect();return e=e.getOriginOffsetInPixels(),new Zt(i+h.left+e.x,l+h.top+e.y)},ht=function(e){({document:Jf=Jf,DOMParser:m1=m1,XMLSerializer:g1=g1}=e),xd=new m1,$o=new g1},r.createElement$$module$build$src$core$utils$xml=function(e){return Jf.createElementNS(Cs,e)},r.createTextNode$$module$build$src$core$utils$xml=function(e){return Jf.createTextNode(e)},r.textToDom$$module$build$src$core$utils$xml=function(e){let i=xd.parseFromString(e,"text/xml");if(i&&i.documentElement&&!i.getElementsByTagName("parsererror").length)return i.documentElement;if((i=xd.parseFromString(e,"text/html"))&&i.body.firstChild&&i.body.firstChild.nodeName.toLowerCase()==="xml")return i.body.firstChild;throw Error(`DOMParser was unable to parse: ${e}`)},mt=function(e){return he($o.serializeToString(e))},he=function(e){return e.replace(Cl,i=>`&#${i.charCodeAt(0)};`)},Vt=function(e){return e?((e instanceof Element||typeof e=="string")&&(e=yn(e),e=Vn(e)),Le(e),e):null},Le=function(e){const i=e.kind;if(e=e.contents,i&&i!==np&&i!==Zf)throw Error("Invalid toolbox kind "+i+". Please supply either "+np+" or "+Zf);if(!e)throw Error("Toolbox must have a contents attribute.")},On=function(e){return e?e.contents?e.contents:Array.isArray(e)&&e.length>0&&!e[0].nodeType?e:us(e):[]},Fn=function(e){return Ym.hasCategoriesInternal(e)},Vr=function(e){if(!e)return!1;const i=e.kind;return i?i===Zf:!!e.contents.filter(l=>l.kind.toUpperCase()==="CATEGORY").length},yr=function(e){return e&&e.contents?!!e.contents.filter(function(i){return i.kind.toUpperCase()==="CATEGORY"}).length:!1},Vn=function(e){const i={contents:us(e)};return e instanceof Node&&pi(e,i),i},us=function(e){const i=[];let l=e.childNodes;l||(l=e);for(let h=0,w;w=l[h];h++){if(!w.tagName)continue;e={};const L=w.tagName.toUpperCase();e.kind=L,L==="BLOCK"?e.blockxml=w:w.childNodes&&w.childNodes.length>0&&(e.contents=us(w)),pi(w,e),i.push(e)}return i},pi=function(e,i){for(let l=0;l<e.attributes.length;l++){const h=e.attributes[l];h.nodeName.includes("css-")?(i.cssconfig=i.cssconfig||{},i.cssconfig[h.nodeName.replace("css-","")]=h.value):i[h.nodeName]=h.value}},yn=function(e){let i=null;if(e)if(typeof e=="string"){if(i=r.textToDom$$module$build$src$core$utils$xml(e),i.nodeName.toLowerCase()!=="xml")throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(i=e);return i},Or=function(e,i,l,h,w,L){const ce=L.scrollbar&&L.scrollbar.canScrollVertically();return e.horizontal===rl.LEFT?(l=w.absoluteMetrics.left+l,ce&&L.RTL&&(l+=Bs.scrollbarThickness)):(l=w.absoluteMetrics.left+w.viewMetrics.width-i.width-l,ce&&!L.RTL&&(l-=Bs.scrollbarThickness)),e.vertical===eo.TOP?e=w.absoluteMetrics.top+h:(e=w.absoluteMetrics.top+w.viewMetrics.height-i.height-h,L.scrollbar&&L.scrollbar.canScrollHorizontally()&&(e-=Bs.scrollbarThickness)),new xr(e,e+i.height,l,l+i.width)},zs=function(e,i){return{horizontal:i.toolboxMetrics.position===Mr.LEFT||e.horizontalLayout&&!e.RTL?rl.RIGHT:rl.LEFT,vertical:i.toolboxMetrics.position===Mr.BOTTOM?eo.TOP:eo.BOTTOM}},mi=function(e,i,l,h){const w=e.left,L=e.right-e.left,ce=e.bottom-e.top;for(let Ve=0;Ve<h.length;Ve++){const Gt=h[Ve];e.intersects(Gt)&&(e=l===pu.UP?Gt.top-ce-i:Gt.bottom+i,e=new xr(e,e+ce,w,w+L),Ve=-1)}return e},Pr=function(e,i){s(Xt.SERIALIZER,e,i)},an=function(e){c(Xt.SERIALIZER,e)},Te=function(e,{addCoordinates:i=!1,saveIds:l=!0}={}){const h=e.workspace,w=Object.create(null);return w.height=e.getSize().height,w.width=e.getSize().width,l&&(w.id=e.id),i&&(i=e.getRelativeToSurfaceXY(),w.x=h.RTL?h.getWidth()-i.x:i.x,w.y=i.y),e.getText()&&(w.text=e.getText()),e.isCollapsed()&&(w.collapsed=!0),e.isOwnEditable()||(w.editable=!1),e.isOwnMovable()||(w.movable=!1),e.isOwnDeletable()||(w.deletable=!1),w},Di=function(e,i,{recordUndo:l=!1}={}){const h=Lt();if(r.setRecordUndo$$module$build$src$core$events$utils(l),l=i.newComment(e.id),e.text!==void 0&&l.setText(e.text),e.x!==void 0||e.y!==void 0){const L=l.getRelativeToSurfaceXY();let ce,Ve=(ce=e.x)!=null?ce:L.x;Ve=i.RTL?i.getWidth()-Ve:Ve;var w;i=(w=e.y)!=null?w:L.y,l.moveTo(new Zt(Ve,i))}if(e.width!==void 0||e.height){w=l.getSize();let L,ce;l.setSize(new Ir((L=e.width)!=null?L:w.width,(ce=e.height)!=null?ce:w.height))}return e.collapsed!==void 0&&l.setCollapsed(e.collapsed),e.editable!==void 0&&l.setEditable(e.editable),e.movable!==void 0&&l.setMovable(e.movable),e.deletable!==void 0&&l.setDeletable(e.deletable),r.setRecordUndo$$module$build$src$core$events$utils(h),l},Ts=function(e,i){s(Xt.PASTER,e,i)},_r=function(e){c(Xt.PASTER,e)},Gr=function(e){const i=e.workspace,l=e.getRelativeToSurfaceXY(),h=new Zt(0,0),w=i.getTopComments(!1).filter(L=>L.id!==e.id).map(L=>L.getRelativeToSurfaceXY());for(;xn(Zt.sum(l,h),w);)h.translate(i.RTL?-30:30,30);e.moveTo(Zt.sum(l,h))},xn=function(e,i){return i.some(l=>Math.abs(l.x-e.x)<=1&&Math.abs(l.y-e.y)<=1)},cr=function(e,i){e.setAttribute(Sd,i)},Kr=function(e,i,l){Array.isArray(l)&&(l=l.join(" ")),e.setAttribute(Km+i,`${l}`)},K0=function(e){return e&&typeof e.saveState=="function"&&typeof e.loadState=="function"},io=function(e){return H(e),I()?(j(),Promise.resolve()):(Ku||(Ku=new Promise(i=>{Ka=i,qs=window.requestAnimationFrame(()=>{j(),i()})})),Ku)},ir=function(){return Ku||Promise.resolve()},p=function(e){e||window.cancelAnimationFrame(qs),j(e),!e&&Ka&&Ka()},I=function(){return H2},H=function(e){I0.add(e),Yu.set(e,r.getGroup$$module$build$src$core$events$utils());const i=e.getParent();i?H(i):sl.add(e)},j=function(e){const i=e?new Set([e]):new Set([...sl].map(L=>L.workspace)),l=[...sl].filter(be).filter(L=>i.has(L.workspace));for(var h of l)He(h);for(const L of i)L.resizeContents();for(var w of l)h=w.getRelativeToSurfaceXY(),w.updateComponentLocations(h);for(const L of l)w=r.getGroup$$module$build$src$core$events$utils(),(h=Yu.get(L))&&r.setGroup$$module$build$src$core$events$utils(h),L.bumpNeighbours(),r.setGroup$$module$build$src$core$events$utils(w);for(const L of l)pe(L);e||(Ku=null)},pe=function(e){sl.delete(e),I0.delete(e),Yu.delete(e);for(const i of e.getChildren(!1))pe(i)},be=function(e){return!e.isDisposed()&&!e.getParent()},He=function(e){if(I0.has(e)&&e.initialized){for(const i of e.getChildren(!1))He(i);e.renderEfficiently()}},xe=function(e,i){kd(e,i)},_t=function(e=s4){kd=e},Bt=function(e,i){Cd(e,i)},kt=function(e=ip){Cd=e},bn=function(e,i,l){$u(e,i,l)},en=function(e=Ad){$u=e},hn=function(e,i){vu(e,i)},Rn=function(e=yo){vu=e},wn=function(e){return e&&typeof e.getProcedureDef=="function"},jt=function(e){return e&&typeof e.getProcedureCall=="function"&&typeof e.renameProcedure=="function"},hr=function(e){return e.getVariableModel!==void 0},jn=function(e,i,l,h){e=e+" was deprecated in "+i+" and will be deleted in "+l+".",h&&(e+=`
Use `+h+" instead."),M0.has(e)||(M0.add(e),console.warn(e))},r.allUsedVarModels$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const i=new Set;for(let l=0;l<e.length;l++){const h=e[l].getVarModels();if(h)for(let w=0;w<h.length;w++){const L=h[w];L.getId()&&i.add(L)}}return Array.from(i.values())},r.allDeveloperVariables$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const i=new Set;for(let h=0,w;w=e[h];h++){var l=w.getDeveloperVariables;if(l){l=l();for(let L=0;L<l.length;L++)i.add(l[L])}}return Array.from(i.values())},sr=function(e){return qr(e,!1)},qr=function(e,i=!0){return ks.variables_set||ks.variables_get||console.warn("There are no variable blocks, but there is a variable category."),i?(jn("The XML return value of Blockly.Variables.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),so(e)):(e.registerButtonCallback("CREATE_VARIABLE",function(l){ji(l.getTargetWorkspace())}),[{kind:"button",text:"%{BKY_NEW_VARIABLE}",callbackkey:"CREATE_VARIABLE"},...ai(e,e.getVariableMap().getVariablesOfType(""),!0)])},fr=function(e){return{VAR:{name:e.getName(),type:e.getType()}}},ai=function(e,i,l,h="variables_get",w="variables_set"){l&&(l=ks.math_change),e=[];const L=i.slice(-1)[0];return L&&(ks[w]&&e.push({kind:"block",type:w,gap:l?8:24,fields:fr(L)}),l&&e.push({kind:"block",type:"math_change",gap:ks[h]?20:8,fields:fr(L),inputs:{DELTA:{shadow:{type:"math_number",fields:{NUM:1}}}}})),ks[h]&&e.push(...i.sort(rn).map(ce=>({kind:"block",type:h,gap:8,fields:fr(ce)}))),e},so=function(e){let i=[];const l=document.createElement("button");return l.setAttribute("text","%{BKY_NEW_VARIABLE}"),l.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(h){ji(h.getTargetWorkspace())}),i.push(l),e=ps(e),i=i.concat(e)},ps=function(e){e=e.getVariableMap().getVariablesOfType("");const i=[];if(e.length>0){var l=e[e.length-1];if(ks.variables_set){var h=r.createElement$$module$build$src$core$utils$xml("block");h.setAttribute("type","variables_set"),h.setAttribute("gap",ks.math_change?"8":"24"),h.appendChild(ci(l)),i.push(h)}if(ks.math_change&&(h=r.createElement$$module$build$src$core$utils$xml("block"),h.setAttribute("type","math_change"),h.setAttribute("gap",ks.variables_get?"20":"8"),h.appendChild(ci(l)),l=r.textToDom$$module$build$src$core$utils$xml('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),h.appendChild(l),i.push(h)),ks.variables_get){e.sort(rn);for(let w=0,L;L=e[w];w++)l=r.createElement$$module$build$src$core$utils$xml("block"),l.setAttribute("type","variables_get"),l.setAttribute("gap","8"),l.appendChild(ci(L)),i.push(l)}}return i},Xn=function(e){return b1.generateUniqueNameInternal(e)},gi=function(e){return Bi(l4.charAt(0),e.getVariableMap().getAllVariables().map(i=>i.getName()))},Bi=function(e,i){if(!i.length)return e;const l=l4;let h="",w=l.indexOf(e);for(;;){let L=!1;for(let ce=0;ce<i.length;ce++)if(i[ce].toLowerCase()===e){L=!0;break}if(!L)break;w++,w===l.length&&(w=0,h=`${Number(h)+1}`),e=l.charAt(w)+h}return e},ji=function(e,i,l){function h(L){cs(r.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,L,function(ce){if(ce){var Ve=tr(ce,e);if(Ve){if(Ve.getType()===w)var Gt=r.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace("%1",Ve.getName());else Gt=r.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,Gt=Gt.replace("%1",Ve.getName()).replace("%2",Ve.getType());xe(Gt,function(){h(ce)})}else e.getVariableMap().createVariable(ce,w),i&&i(ce)}else i&&i(null)})}const w=l||"";h("")},r.renameVariable$$module$build$src$core$variables=function(e,i,l){function h(w){const L=r.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace("%1",i.getName());cs(L,w,function(ce){if(ce){var Ve=ui(ce,i.getType(),e),Gt=ii(i.getName(),ce,e);if(Ve||Gt){var Yn="";Ve?Yn=r.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",Ve.getName()).replace("%2",Ve.getType()):Gt&&(Yn=r.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",ce).replace("%2",Gt)),xe(Yn,function(){h(ce)})}else e.getVariableMap().renameVariable(i,ce),l&&l(ce)}else l&&l(null)})}h("")},cs=function(e,i,l){bn(e,i,function(h){h&&(h=h.replace(/[\s\xa0]+/g," ").trim(),h===r.Msg$$module$build$src$core$msg.RENAME_VARIABLE||h===r.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(h=null),l(h)})},ui=function(e,i,l){l=l.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let h=0,w;w=l[h];h++)if(w.getName().toLowerCase()===e&&w.getType()!==i)return w;return null},tr=function(e,i){i=i.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let l=0,h;h=i[l];l++)if(h.getName().toLowerCase()===e)return h;return null},ii=function(e,i,l){return l.getProcedureMap().getProcedures().length?Ei(e,i,l):To(e,i,l)},Ei=function(e,i,l){e=e.toLowerCase(),i=i.toLowerCase(),l=l.getProcedureMap().getProcedures();for(const w of l){var h=w.getParameters().filter(hr).map(L=>L.getVariableModel().getName());if(h&&(l=h.some(L=>L.toLowerCase()===e),h=h.some(L=>L.toLowerCase()===i),l&&h))return w.getName()}return null},To=function(e,i,l){e=e.toLowerCase(),i=i.toLowerCase(),l=l.getAllBlocks(!1);for(const w of l){if(!wn(w))continue;l=w.getProcedureDef();var h=l[1];const L=h.some(ce=>ce.toLowerCase()===e);if(h=h.some(ce=>ce.toLowerCase()===i),L&&h)return l[0]}return null},ci=function(e){const i=r.createElement$$module$build$src$core$utils$xml("field");return i.setAttribute("name","VAR"),i.setAttribute("id",e.getId()),i.setAttribute("variabletype",e.getType()),e=r.createTextNode$$module$build$src$core$utils$xml(e.getName()),i.appendChild(e),i},r.getOrCreateVariablePackage$$module$build$src$core$variables=function(e,i,l,h){let w=r.getVariable$$module$build$src$core$variables(e,i,l,h);return w||(w=Xs(e,i,l,h)),w},r.getVariable$$module$build$src$core$variables=function(e,i,l,h){const w=e.getPotentialVariableMap();let L=null;if(i&&(L=e.getVariableById(i),!L&&w&&(L=w.getVariableById(i)),L))return L;if(l){if(h===void 0)throw Error("Tried to look up a variable by name without a type");L=e.getVariable(l,h),!L&&w&&(L=w.getVariable(l,h))}return L},Xs=function(e,i,l,h){const w=e.getVariableMap(),L=e.getPotentialVariableMap();return l||(l=Xn(e.isFlyout?e.targetWorkspace:e)),L?L.createVariable(l,h,i??void 0):w.createVariable(l,h,i)},Mo=function(e,i){e=e.getAllVariables();const l=[];if(i.length!==e.length)for(let h=0;h<e.length;h++){const w=e[h];i.includes(w)||l.push(w)}return l},rn=function(e,i){return e.getName().localeCompare(i.getName(),void 0,{sensitivity:"base"})},Pi=function(e,i){const l=[];e=e.getAllBlocks(!1);for(let h=0;h<e.length;h++){const w=e[h].getVarModels();if(w)for(let L=0;L<w.length;L++)w[L].getId()===i&&l.push(e[h])}return l},r.deleteVariable$$module$build$src$core$variables=function(e,i,l){var h=i.getName();const w=Pi(e,i.getId());for(let L=w.length-1;L>=0;L--){const ce=w[L];if(ce.type==="procedures_defnoreturn"||ce.type==="procedures_defreturn"){l=String(ce.getFieldValue("NAME")),h=r.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",h).replace("%2",l),xe(h);return}ce===l&&w.splice(L,1)}l&&w.length||w.length>1?(h=r.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(w.length+(l&&!l.workspace.isFlyout?1:0))).replace("%2",h),Bt(h,L=>{L&&i&&e.getVariableMap().deleteVariable(i)})):e.getVariableMap().deleteVariable(i)},ts=function(e,{addCoordinates:i=!1,addInputBlocks:l=!0,addNextBlocks:h=!0,doFullSerialization:w=!0,saveIds:L=!0}={}){if(e.isInsertionMarker())return null;const ce={type:e.type,id:L?e.id:void 0};return i&&va(e,ce),$a(e,ce),Ys(e,ce,w),Hs(e,ce,w),ei(e,ce,w),l&&Rs(e,ce,w,L),h&&Qo(e,ce,w,L),ce},$a=function(e,i){e.isCollapsed()&&(i.collapsed=!0),e.isEnabled()||(i.disabledReasons=Array.from(e.getDisabledReasons())),e.isOwnDeletable()||(i.deletable=!1),e.isOwnMovable()||(i.movable=!1),e.isOwnEditable()||(i.editable=!1),e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&(i.inline=e.inputsInline),e.data&&(i.data=e.data)},va=function(e,i){const l=e.workspace;e=e.getRelativeToSurfaceXY(),i.x=Math.round(l.RTL?l.getWidth()-e.x:e.x),i.y=Math.round(e.y)},Ys=function(e,i,l){e.saveExtraState?(e=e.saveExtraState(l),e!==null&&(i.extraState=e)):e.mutationToDom&&(e=e.mutationToDom(),e!==null&&(i.extraState=ds(e).replace(' xmlns="https://developers.google.com/blockly/xml"',"")))},Hs=function(e,i,l){const h=Object.create(null);for(const w of e.getIcons())K0(w)&&(e=w.saveState(l))&&(h[w.getType().toString()]=e);Object.keys(h).length&&(i.icons=h)},ei=function(e,i,l){const h=Object.create(null);for(const w of e.getFields())w.isSerializable()&&(h[w.name]=w.saveState(l));Object.keys(h).length&&(i.fields=h)},Rs=function(e,i,l,h){const w=Object.create(null);for(let L=0;L<e.inputList.length;L++){const ce=e.inputList[L];if(!ce.connection)continue;const Ve=Wl(ce.connection,l,h);Ve&&(w[ce.name]=Ve)}Object.keys(w).length&&(i.inputs=w)},Qo=function(e,i,l,h){e.nextConnection&&(e=Wl(e.nextConnection,l,h))&&(i.next=e)},Wl=function(e,i,l){const h=e.getShadowState(!0);if(e=e.targetBlock(),!h&&!e)return null;const w=Object.create(null);return h&&(w.shadow=h),e&&!e.isShadow()&&(w.block=ts(e,{doFullSerialization:i,saveIds:l})),w},jl=function(e,i,{recordUndo:l=!1}={}){return e=Xl(e,i,{recordUndo:l}),i.rendered&&p(),e},Xl=function(e,i,{parentConnection:l,isShadow:h=!1,recordUndo:w=!1}={}){const L=Lt();r.setRecordUndo$$module$build$src$core$events$utils(w),(w=r.getGroup$$module$build$src$core$events$utils())||r.setGroup$$module$build$src$core$events$utils(!0),r.disable$$module$build$src$core$events$utils();const ce=i.getAllVariables();let Ve;try{Ve=Ou(e,i,{parentConnection:l,isShadow:h})}finally{r.enable$$module$build$src$core$events$utils()}if(Eo(i,ce),qt()&&de(new(Ut(Tt.BLOCK_CREATE))(Ve)),r.setGroup$$module$build$src$core$events$utils(w),r.setRecordUndo$$module$build$src$core$events$utils(L),i.rendered){const Gt=Ve;setTimeout(()=>{Gt.disposed||Gt.setConnectionTracking(!0)},1)}return Ve},Ou=function(e,i,{parentConnection:l,isShadow:h=!1}={}){if(!e.type)throw new sp(e);const w=i.newBlock(e.type,e.id);return w.setShadow(h),Vh(w,e),Gh(w,e),ld(w,e),Mc(l,w,e),_l(w,e),Er(w,e),Ru(w,e),u0(w,e),Nc(w,i.rendered),w},Eo=function(e,i){if(qt())for(e=Mo(e,i),i=0;i<e.length;i++){const l=e[i];de(new(Ut(Tt.VAR_CREATE))(l))}},Vh=function(e,i){let l=i.x===void 0?0:i.x;i=i.y===void 0?0:i.y;const h=e.workspace;l=h.RTL?h.getWidth()-l:l,e.moveBy(l,i)},Gh=function(e,i){if(i.collapsed&&e.setCollapsed(!0),i.deletable===!1&&e.setDeletable(!1),i.movable===!1&&e.setMovable(!1),i.editable===!1&&e.setEditable(!1),i.enabled===!1&&e.setDisabledReason(!0,Tr),Array.isArray(i.disabledReasons))for(const l of i.disabledReasons)e.setDisabledReason(!0,l);i.inline!==void 0&&e.setInputsInline(i.inline),i.data!==void 0&&(e.data=i.data)},ld=function(e,i){i.extraState&&(e.loadExtraState?e.loadExtraState(i.extraState):e.domToMutation&&e.domToMutation(r.textToDom$$module$build$src$core$utils$xml(i.extraState)))},Mc=function(e,i,l){if(e){if(e.getSourceBlock().isShadow()&&!i.isShadow())throw new lp(l);if(e.type===r.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var h=i.outputConnection;if(!h)throw new Bo("output",i,l)}else if(h=i.previousConnection,!h)throw new Bo("previous",i,l);if(!e.connect(h)){const w=i.workspace.connectionChecker;throw new op(w.getErrorMessage(w.canConnectWithReason(h,e,!1),h,e),e.type===r.inputTypes$$module$build$src$core$inputs$input_types.VALUE?"output connection":"previous connection",i,l)}}},_l=function(e,i){if(i.icons){var l=Object.keys(i.icons);for(const w of l){l=i.icons[w];var h=e.getIcon(w);if(!h){if(h=$(Xt.ICON,w,!1),!h)throw new Jm(w,e,i);h=new h(e),e.addIcon(h)}K0(h)&&h.loadState(l)}}},Er=function(e,i){if(i.fields){var l=Object.keys(i.fields);for(let h=0;h<l.length;h++){const w=l[h],L=i.fields[w],ce=e.getField(w);ce?ce.loadState(L):console.warn(`Ignoring non-existant field ${w} in block ${e.type}`)}}},Ru=function(e,i){if(i.inputs){var l=Object.keys(i.inputs);for(let h=0;h<l.length;h++){const w=l[h],L=e.getInput(w);if(!L||!L.connection)throw new Bo(w,e,i);J0(L.connection,i.inputs[w])}}},u0=function(e,i){if(i.next){if(!e.nextConnection)throw new Bo("next",e,i);J0(e.nextConnection,i.next)}},J0=function(e,i){i.shadow&&e.setShadowState(i.shadow),i.block&&Ou(i.block,e.getSourceBlock().workspace,{parentConnection:e})},Nc=function(e,i){if(i){e.setConnectionTracking(!1),e.initSvg(),e.queueRender();for(const l of e.getIcons())l.onLocationChange(e.getRelativeToSurfaceXY())}else e.initModel()},Oa=function(e){return typeof e.bubbleIsVisible=="function"&&typeof e.setBubbleVisible=="function"&&typeof e.getBubble=="function"},Ra=function(e){return e*Math.PI/180},qh=function(e){return e*180/Math.PI},La=function(e,i,l){if(l<e){const h=l;l=e,e=h}return Math.max(e,Math.min(i,l))},Z0=function(){document.querySelector(".blocklyDropDownDiv")||(ys=document.createElement("div"),ys.className="blocklyDropDownDiv",ys.tabIndex=-1,(An()||document.body).appendChild(ys),y1=document.createElement("div"),y1.className="blocklyDropDownContent",ys.appendChild(y1),sh=W(y1,"keydown",null,je),ec=document.createElement("div"),ec.className="blocklyDropDownArrow",ys.appendChild(ec),ys.style.opacity="0",ys.style.transition="transform "+u4+"s, opacity "+u4+"s")},c0=function(e){c4=e},Oc=function(){return bu},Da=function(){return y1},Yl=function(){sh&&(ie(sh),sh=null),ys.remove(),Z0()},Rc=function(e,i){ys.style.backgroundColor=e,ys.style.borderColor=i},Lc=function(e,i,l,h,w=!0){return h0(Q0(i),e,w,l,h)},Lu=function(e,i,l,h=!0){return hp=!0,h0(eu(e),e,h,i,l)},Q0=function(e){var i=e.getSvgRoot();const l=e.workspace.scale,h=e.height*l;return e=e.width*l,i=z(i),new xr(i.y,i.y+h,i.x,i.x+e)},eu=function(e){return e=e.getScaledBBox(),new xr(e.top,e.bottom,e.left,e.right)},h0=function(e,i,l,h,w){const L=e.left+(e.right-e.left)/2,ce=e.bottom;e=e.top,w&&(e+=w),w=i.getSourceBlock();let Ve=w.workspace;for(;Ve.options.parentWorkspace;)Ve=Ve.options.parentWorkspace;return c0(Ve.getParentSvg().parentNode),Kl(i,w.RTL,L,ce,L,e,l,h)},Kl=function(e,i,l,h,w,L,ce,Ve){return bu=e,Qu=Ve||null,ys.style.direction=i?"rtl":"ltr",e=F(),cp=e.getRenderer().getClassName(),ih=e.getTheme().getClassName(),Qt(ys,cp),Qt(ys,ih),l=at(l,h,w,L),ce&&(Ld=r.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(ys)),l},tu=function(e,i,l,h){return e=x(e,l.left,l.right,h.width),{initialX:e.divX,initialY:i,finalX:e.divX,finalY:i+ap,arrowX:e.arrowX,arrowY:-9,arrowAtTop:!0,arrowVisible:!0}},Du=function(e,i,l,h){return e=x(e,l.left,l.right,h.width),{initialX:e.divX,initialY:i-h.height,finalX:e.divX,finalY:i-h.height-ap,arrowX:e.arrowX,arrowY:h.height-Rd*2-Od/2,arrowAtTop:!1,arrowVisible:!0}},Tl=function(e,i,l){return e=x(e,i.left,i.right,l.width),{initialX:e.divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},x=function(e,i,l,h){return i=La(i,e-h/2,l-h),e=e-Od/2-i,l=a4,e=La(l,e,h-l-Od),{arrowX:e,divX:i}},O=function(){return!!bu},me=function(e,i){return bu===e?(i?Xe():ke(),!0):!1},ke=function(){ys.style.transform="translate(0, 0)",ys.style.opacity="0",up=setTimeout(function(){Xe()},u4*1e3),Qu&&(Qu(),Qu=null)},Xe=function(){O()&&(up&&clearTimeout(up),Qu&&(Qu(),Qu=null),Yl(),bu=null,F().markFocused(),Ld&&(Ld(),Ld=null))},at=function(e,i,l,h){e=h4.getPositionMetrics(e,i,l,h),e.arrowVisible?(i=e.arrowX,l=e.arrowY,h=e.arrowAtTop?45:225,ec.style.display="",ec.style.transform=`translate(${i}px, ${l}px) rotate(${h}deg)`,ec.setAttribute("class","blocklyDropDownArrow")):ec.style.display="none",i=Math.floor(e.initialX),l=Math.floor(e.initialY),h=Math.floor(e.finalX);const w=Math.floor(e.finalY);return ys.style.left=i+"px",ys.style.top=l+"px",ys.style.display="block",ys.style.opacity="1",ys.style.transform="translate("+(h-i)+"px,"+(w-l)+"px)",!!e.arrowAtTop},vt=function(){if(bu){var e=bu.getSourceBlock();e=hp?eu(bu):Q0(e);const i=e.left+(e.right-e.left)/2;at(i,e.bottom,i,e.top)}else ke()},Rt=function(e){return e.length?e.reduce(function(i,l){return i.length<l.length?i:l}).length:0},Jt=function(e,i){if(!e.length)return 0;if(e.length===1)return e[0].length;let l=0;i=i||Rt(e);let h;for(h=0;h<i;h++){for(var w=e[0][h],L=1;L<e.length;L++)if(w!==e[L][h])return l;w===" "&&(l=h+1)}for(w=1;w<e.length;w++)if((L=e[w][h])&&L!==" ")return l;return i},tn=function(e,i){if(!e.length)return 0;if(e.length===1)return e[0].length;let l=0;i=i||Rt(e);let h;for(h=0;h<i;h++){for(var w=e[0].substr(-h-1,1),L=1;L<e.length;L++)if(w!==e[L].substr(-h-1,1))return l;w===" "&&(l=h+1)}for(w=1;w<e.length;w++)if((L=e[w].charAt(e[w].length-h-1))&&L!==" ")return l;return i},r.wrap$$module$build$src$core$utils$string=function(e,i){e=e.split(`
`);for(let l=0;l<e.length;l++)e[l]=_n(e[l],i);return e.join(`
`)},_n=function(e,i){if(e.length<=i)return e;const l=e.trim().split(/\s+/);for(var h=0;h<l.length;h++)l[h].length>i&&(i=l[h].length);var w=-1/0;let L,ce=1;do{h=w,L=e,e=[],w=l.length/ce;let Ve=1;for(let Gt=0;Gt<l.length-1;Gt++)Ve<(Gt+1.5)/w?(Ve++,e[Gt]=!0):e[Gt]=!1;e=Qn(l,e,i),w=Pt(l,e,i),e=Gn(l,e),ce++}while(w>h);return L},Pt=function(e,i,l){const h=[0],w=[];for(var L=0;L<e.length;L++)h[h.length-1]+=e[L].length,i[L]===!0?(h.push(0),w.push(e[L].charAt(e[L].length-1))):i[L]===!1&&h[h.length-1]++;for(e=Math.max(...h),i=0,L=0;L<h.length;L++)i-=Math.pow(Math.abs(l-h[L]),1.5)*2,i-=Math.pow(e-h[L],1.5),".?!".includes(w[L])?i+=l/3:",;)]}".includes(w[L])&&(i+=l/4);return h.length>1&&h[h.length-1]<=h[h.length-2]&&(i+=.5),i},Qn=function(e,i,l){let h=Pt(e,i,l),w;for(let L=0;L<i.length-1;L++){if(i[L]===i[L+1])continue;const ce=[].concat(i);ce[L]=!ce[L],ce[L+1]=!ce[L+1];const Ve=Pt(e,ce,l);Ve>h&&(h=Ve,w=ce)}return w?Qn(e,w,l):i},Gn=function(e,i){const l=[];for(let h=0;h<e.length;h++)l.push(e[h]),i[h]!==void 0&&l.push(i[h]?`
`:" ");return l.join("")},r.isNumber$$module$build$src$core$utils$string=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},er=function(e){_1=e},ur=function(){return _1},Cr=function(){return Dd},Wr=function(){return co},un=function(e){if(e=Hn(e)){for(e=e.tooltip;typeof e=="function";)e=e();if(typeof e!="string")throw Error("Tooltip function must return a string.");return e}return""},Hn=function(e){for(;e&&e.tooltip;){if(typeof e.tooltip=="string"||typeof e.tooltip=="function")return e;e=e.tooltip}return null},Fr=function(){document.querySelector(".blocklyTooltipDiv")||(co=document.createElement("div"),co.className="blocklyTooltipDiv",(An()||document.body).appendChild(co))},mr=function(e){e.mouseOverWrapper_=te(e,"pointerover",null,$i),e.mouseOutWrapper_=te(e,"pointerout",null,si),e.addEventListener("pointermove",hi,!1)},ti=function(e){e&&(ie(e.mouseOverWrapper_),ie(e.mouseOutWrapper_),e.removeEventListener("pointermove",hi))},$i=function(e){oh||(e=Hn(e.currentTarget),Ol!==e&&(Ii(),nc=null,Ol=e),clearTimeout(Qm))},si=function(e){oh||(Qm=setTimeout(function(){nc=Ol=null,Ii()},1),clearTimeout(lh),lh=0)},hi=function(e){if(Ol&&Ol.tooltip&&!oh)if(Dd){const i=T1-e.pageX;e=tc-e.pageY,Math.sqrt(i*i+e*e)>Za&&Ii()}else nc!==Ol&&(clearTimeout(lh),T1=e.pageX,tc=e.pageY,lh=setTimeout(Ks,E1))},oi=function(){nc=Ol=null,Ii()},Ii=function(){Dd&&(Dd=!1,co&&(co.style.display="none")),lh&&(clearTimeout(lh),lh=0)},jr=function(){Ii(),oh=!0},Xi=function(){oh=!1},Es=function(){co&&Ol&&(typeof _1=="function"?_1(co,Ol):Ls())},Ls=function(){var e=un(Ol);e=r.wrap$$module$build$src$core$utils$string(e,Zm),e=e.split(`
`);for(let i=0;i<e.length;i++){const l=document.createElement("div");l.appendChild(document.createTextNode(e[i])),co.appendChild(l)}},Mi=function(e){const i=document.documentElement.clientWidth,l=document.documentElement.clientHeight;let h=T1;h=e?h-(Bd+co.offsetWidth):h+Bd;let w=tc+N0;return w+co.offsetHeight>l+window.scrollY&&(w-=co.offsetHeight+2*N0),e?h=Math.max(d4-window.scrollX,h):h+co.offsetWidth>i+window.scrollX-2*d4&&(h=i-co.offsetWidth-2*d4),{x:h,y:w}},Ks=function(){if(!oh&&(nc=Ol,co)){co.textContent="",Es();var e=Ol.RTL;co.style.direction=e?"rtl":"ltr",co.style.display="block",Dd=!0;var{x:i,y:l}=Mi(e);co.style.left=i+"px",co.style.top=l+"px"}},wo=function(){return f4},Ds=function(e){f4=e},Dr=function(){return p4},gs=function(e){p4=e},ye=function(e){e=`${e}`.toLowerCase().trim();var i=e3[e];if(i||(i=e.substring(0,2)==="0x"?"#"+e.substring(2):e,i=i[0]==="#"?i:"#"+i,/^#[0-9a-f]{6}$/.test(i)))return i;if(/^#[0-9a-f]{3}$/.test(i))return["#",i[1],i[1],i[2],i[2],i[3],i[3]].join("");var l=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return l&&(e=Number(l[1]),i=Number(l[2]),l=Number(l[3]),e>=0&&e<256&&i>=0&&i<256&&l>=0&&l<256)?Ni(e,i,l):null},Ni=function(e,i,l){return i=e<<16|i<<8|l,e<16?"#"+(16777216|i).toString(16).substr(1):"#"+i.toString(16)},hs=function(e){return e=ye(e),e?(e=parseInt(e.substr(1),16),[e>>16,e>>8&255,e&255]):[0,0,0]},El=function(e,i,l){let h=0,w=0,L=0;if(i===0)L=w=h=l;else{const ce=Math.floor(e/60),Ve=e/60-ce;e=l*(1-i);const Gt=l*(1-i*Ve);switch(i=l*(1-i*(1-Ve)),ce){case 1:h=Gt,w=l,L=e;break;case 2:h=e,w=l,L=i;break;case 3:h=e,w=Gt,L=l;break;case 4:h=i,w=e,L=l;break;case 5:h=l,w=e,L=Gt;break;case 6:case 0:h=l,w=i,L=e}}return Ni(Math.floor(h),Math.floor(w),Math.floor(L))},po=function(e,i,l){return e=ye(e),!e||(i=ye(i),!i)?null:(e=hs(e),i=hs(i),Ni(Math.round(i[0]+l*(e[0]-i[0])),Math.round(i[1]+l*(e[1]-i[1])),Math.round(i[2]+l*(e[2]-i[2]))))},xo=function(e){return El(e,f4,p4*255)},oo=function(e,i,l){const h=[];var w=e.split("");w.push("");var L=0;e=[];let ce=null;for(let Yn=0;Yn<w.length;Yn++){var Ve=w[Yn];if(L===0)if(Ve==="%")(L=e.join(""))&&h.push(L),e.length=0,L=1;else if(l&&Ve===`
`){const no=e.join("");no&&h.push(no),e.length=0,h.push(Ve)}else e.push(Ve);else if(L===1)Ve==="%"?(e.push(Ve),L=0):i&&"0"<=Ve&&Ve<="9"?(L=2,ce=Ve,(Ve=e.join(""))&&h.push(Ve),e.length=0):Ve==="{"?L=3:(e.push("%",Ve),L=0);else if(L===2)if("0"<=Ve&&Ve<="9")ce+=Ve;else{var Gt=void 0;h.push(parseInt((Gt=ce)!=null?Gt:"",10)),Yn--,L=0}else L===3&&(Ve===""?(e.splice(0,0,"%{"),Yn--,L=0):Ve!=="}"?e.push(Ve):(L=e.join(""),/[A-Z]\w*/i.test(L)?(Ve=L.toUpperCase(),(Ve=Ve.startsWith("BKY_")?Ve.substring(4):null)&&Ve in r.Msg$$module$build$src$core$msg?(L=r.Msg$$module$build$src$core$msg[Ve],typeof L=="string"?Array.prototype.push.apply(h,oo(L,i,l)):i?h.push(`${L}`):h.push(L)):h.push("%{"+L+"}")):h.push("%{"+L+"}"),L=e.length=0))}for((i=e.join(""))&&h.push(i),Gt=[],e.length=0,w=0;w<h.length;w++)typeof h[w]!="string"||l&&h[w]===`
`?((i=e.join(""))&&Gt.push(i),e.length=0,Gt.push(h[w])):e.push(h[w]);return(i=e.join(""))&&Gt.push(i),e.length=0,Gt},$s=function(e){return oo(e,!0,!0)},gr=function(e){return typeof e!="string"?e:(e=oo(e,!1,!1),e.length?String(e[0]):"")},lo=function(e){let i=!0;const l=r.Msg$$module$build$src$core$msg,h=e.match(/%{BKY_[A-Z]\w*}/gi);if(h)for(let w=0;w<h.length;w++){const L=h[w].toUpperCase();l[L.slice(6,-1)]===void 0&&(console.warn("No message string for "+h[w]+" in "+e),i=!1)}return i},Fi=function(e){const i=typeof e=="string"?gr(e):e;var l=Number(i);if(!isNaN(l)&&0<=l&&l<=360)return{hue:l,hex:El(l,wo(),Dr()*255)};if(l=ye(i))return{hue:null,hex:l};throw l='Invalid colour: "'+i+'"',e!==i&&(l+=' (from "'+e+'")'),Error(l)},So=function(){return Dl},ba=function(e){if(Dl=e,e===null){let i;(i=document.querySelector("."+dp))==null||i.remove()}},Jl=function(){const e=An()||document.body,i=document.querySelector("div."+dp);i?Dl=i:(Dl=document.createElement("div"),Dl.className=dp,Dl.tabIndex=-1),W(Dl,"keydown",null,je),e.appendChild(Dl)},Ba=function(e,i,l,h,w=!0){if(ul(),rc=e,g4=l,l=Dl){if(l.style.direction=i?"rtl":"ltr",l.style.display="block",!h&&e instanceof Vi){let Ve;h=(Ve=e.getSourceBlock())==null?void 0:Ve.workspace}var L;m4=(L=h)!=null?L:null;var ce;e=(ce=h)!=null?ce:F(),O0=e.getRenderer().getClassName(),x1=e.getTheme().getClassName(),O0&&Qt(l,O0),x1&&Qt(l,x1),w&&(Yr=r.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(l))}},ul=function(){if(Dc()){rc=null;var e=Dl;e&&(e.style.display="none",e.style.left="",e.style.top="",g4&&(g4(),g4=null),e.textContent="",O0&&(Cn(e,O0),O0=""),x1&&(Cn(e,x1),x1=""),F().markFocused(),Yr&&(Yr(),Yr=null))}},Dc=function(){return!!rc},Zl=function(e){rc===e&&ul()},wl=function(e){let i=m4===null,l=e;for(;!i&&l;){if(l===e){i=!0;break}l=e.options.parentWorkspace}i&&ul()},Bc=function(e,i,l){Dl.style.left=e+"px",Dl.style.top=i+"px",Dl.style.height=l+"px"},No=function(e,i,l,h){const w=Ql(e,i,l);e=Pc(e,i,l,h),w<0?Bc(e,0,l.height+w):Bc(e,w,l.height)},Pc=function(e,i,l,h){return h?Math.min(Math.max(i.right-l.width,e.left),e.right-l.width):Math.max(Math.min(i.left,e.right-l.width),e.left)},Ql=function(e,i,l){return i.bottom+l.height>=e.bottom?i.top-l.height:i.bottom},bf=function(e){return!(e==null||!e.repositionForWindowResize)},d0=function(){bf(rc)&&rc.repositionForWindowResize()||ul()},Pa=function(){return ah},Bu=function(e){ah=e},f0=function(e,i,l,h,w){if(Ba($4,l,Fc,h),i.length){w||(e instanceof PointerEvent?w=new Zt(e.clientX,e.clientY):(console.warn("Context menu opened with keyboard but no location given"),w=new Zt(0,0)));var L=Fa(i,l,e,w);Pd=L,nu(L,l,w),setTimeout(function(){L.focus()},1),ah=null}else ea()},Fa=function(e,i,l,h){const w=new rp;w.setRole(Il.MENU);for(let L=0;L<e.length;L++){const ce=e[L];if(ce.separator){w.addChild(new Ri);continue}const Ve=new r4(ce.text);Ve.setRightToLeft(i),Ve.setRole(Il.MENUITEM),w.addChild(Ve),Ve.setEnabled(ce.enabled),ce.enabled&&Ve.onAction(function(Gt,Yn){ea(),requestAnimationFrame(()=>{setTimeout(()=>{ce.callback(ce.scope,l,Yn,h)},0)})},{})}return w},nu=function(e,i,l){const h=Ne();l=new xr(l.y+h.top,l.y+h.top,l.x+h.left,l.x+h.left),cl(e);const w=e.getSize();i&&(l.left+=w.width,l.right+=w.width,h.left+=w.width,h.right+=w.width),No(h,l,w,i),e.focus()},cl=function(e){var i=So();if(!i)throw Error("Attempting to create a context menu when widget div is null");i=e.render(i),Qt(i,"blocklyContextMenu"),W(i,"contextmenu",null,ru),e.focus()},ru=function(e){e.preventDefault(),e.stopPropagation()},ea=function(){Zl($4),ah=null},Fc=function(){Pd&&(Pd.dispose(),Pd=null)},r.callbackFactory$$module$build$src$core$contextmenu=function(e,i){return()=>{r.disable$$module$build$src$core$events$utils();let l;try{l=i instanceof Element?_a(i,e.workspace):Xl(i,e.workspace);const h=e.getRelativeToSurfaceXY();h.x=e.RTL?h.x-r.config$$module$build$src$core$config.snapRadius:h.x+r.config$$module$build$src$core$config.snapRadius,h.y+=r.config$$module$build$src$core$config.snapRadius*2,l.moveBy(h.x,h.y)}finally{r.enable$$module$build$src$core$events$utils()}return qt()&&!l.isShadow()&&de(new(Ut(Tt.BLOCK_CREATE))(l)),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(l),l}},p0=function(e,i){return i=fe(i,e.getParentSvg(),e.getInverseScreenCTM()),i.x/=e.scale,i.y/=e.scale,i},Oo=function(e,i,l){i=p0(e,i),fp.set(e,Zt.difference(l,i))},el=function(e,i){if(i=p0(e,i),e=fp.get(e),!e)throw Error("Drag not initialized");return Zt.sum(e,i)},ya=function(e,i=!1){const l=r.createElement$$module$build$src$core$utils$xml("xml");var h=hl(r.allUsedVarModels$$module$build$src$core$variables(e));h.hasChildNodes()&&l.appendChild(h);for(const w of e.getTopComments())l.appendChild(tl(w,i));for(e=e.getTopBlocks(!0),h=0;h<e.length;h++)l.appendChild(Go(e[h],i));return l},tl=function(e,i=!1){const l=r.createElement$$module$build$src$core$utils$xml("comment");i||l.setAttribute("id",e.id),i=e.workspace;const h=e.getRelativeToSurfaceXY().clone();return h.x=i.RTL?i.getWidth()-h.x:h.x,l.setAttribute("x",`${h.x}`),l.setAttribute("y",`${h.y}`),l.setAttribute("w",`${e.getSize().width}`),l.setAttribute("h",`${e.getSize().height}`),e.getText()&&(l.textContent=e.getText()),e.isCollapsed()&&l.setAttribute("collapsed","true"),e.isOwnEditable()||l.setAttribute("editable","false"),e.isOwnMovable()||l.setAttribute("movable","false"),e.isOwnDeletable()||l.setAttribute("deletable","false"),l},hl=function(e){const i=r.createElement$$module$build$src$core$utils$xml("variables");for(let l=0;l<e.length;l++){const h=e[l],w=r.createElement$$module$build$src$core$utils$xml("variable");w.appendChild(r.createTextNode$$module$build$src$core$utils$xml(h.getName())),h.getType()&&w.setAttribute("type",h.getType()),w.id=h.getId(),i.appendChild(w)}return i},Go=function(e,i){if(e.isInsertionMarker()&&(e=e.getChildren(!1)[0],!e))return new DocumentFragment;let l=0;if(e.workspace.RTL&&(l=e.workspace.getWidth()),i=ta(e,i),ou(i)){const h=e.getRelativeToSurfaceXY();i.setAttribute("x",String(Math.round(e.workspace.RTL?l-h.x:h.x))),i.setAttribute("y",String(Math.round(h.y)))}return i},Uc=function(e){if(e.isSerializable()){const i=r.createElement$$module$build$src$core$utils$xml("field");return i.setAttribute("name",e.name||""),e.toXml(i)}return null},zc=function(e,i){for(const l of e.getFields())(e=Uc(l))&&i.appendChild(e)},ta=function(e,i){if(e.isInsertionMarker())return(i=e.getChildren(!1)[0])?ta(i):new DocumentFragment;const l=r.createElement$$module$build$src$core$utils$xml(e.isShadow()?"shadow":"block");if(l.setAttribute("type",e.type),i||(l.id=e.id),e.mutationToDom){var h=e.mutationToDom();h&&(h.hasChildNodes()||h.hasAttributes())&&l.appendChild(h)}if(zc(e,l),h=e.getCommentText()){var w=e.getIcon(Is.COMMENT),L=w.getBubbleSize(),ce=w.bubbleIsVisible();w=w.getBubbleLocation();var Ve=r.createElement$$module$build$src$core$utils$xml("comment");Ve.appendChild(r.createTextNode$$module$build$src$core$utils$xml(h)),Ve.setAttribute("pinned",`${ce}`),Ve.setAttribute("h",`${L.height}`),Ve.setAttribute("w",`${L.width}`),w&&(Ve.setAttribute("x",`${e.workspace.RTL?e.workspace.getWidth()-(w.x+L.width):w.x}`),Ve.setAttribute("y",`${w.y}`)),l.appendChild(Ve)}for(e.data&&(h=r.createElement$$module$build$src$core$utils$xml("data"),h.appendChild(r.createTextNode$$module$build$src$core$utils$xml(e.data)),l.appendChild(h)),h=0;h<e.inputList.length;h++){L=e.inputList[h];var Gt=void 0;ce=!0,L.type!==r.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&L.type!==r.inputTypes$$module$build$src$core$inputs$input_types.END_ROW&&(w=L.connection.targetBlock(),L.type===r.inputTypes$$module$build$src$core$inputs$input_types.VALUE?Gt=r.createElement$$module$build$src$core$utils$xml("value"):L.type===r.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(Gt=r.createElement$$module$build$src$core$utils$xml("statement")),Ve=L.connection.getShadowDom(),!Ve||w&&w.isShadow()||Gt.appendChild(Hc(Ve,i)),w&&(w=ta(w,i),w.nodeType===ja.ELEMENT_NODE&&(Gt.appendChild(w),ce=!1)),Gt.setAttribute("name",L.name),ce||l.appendChild(Gt))}e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&l.setAttribute("inline",String(e.inputsInline)),e.isCollapsed()&&l.setAttribute("collapsed","true"),e.isEnabled()||l.setAttribute("disabled-reasons",Array.from(e.getDisabledReasons()).map(encodeURIComponent).join(",")),e.isOwnDeletable()||l.setAttribute("deletable","false"),e.isOwnMovable()||l.setAttribute("movable","false"),e.isOwnEditable()||l.setAttribute("editable","false"),Gt=e.getNextBlock();let Yn;return Gt&&(h=ta(Gt,i),h.nodeType===ja.ELEMENT_NODE&&(Yn=r.createElement$$module$build$src$core$utils$xml("next"),Yn.appendChild(h),l.appendChild(Yn))),e=e.nextConnection&&e.nextConnection.getShadowDom(),!e||Gt&&Gt.isShadow()||Yn.appendChild(Hc(e,i)),l},Hc=function(e,i){let l=e=e.cloneNode(!0),h;for(;l;)if(i&&l.nodeName==="shadow"&&l.removeAttribute("id"),l.firstChild)l=l.firstChild;else{for(;l&&!l.nextSibling;){h=l,l=l.parentNode;let w;h.nodeType===ja.TEXT_NODE&&h.data.trim()===""&&((w=l)==null?void 0:w.firstChild)!==h&&cn(h)}l&&(h=l,l=l.nextSibling,h.nodeType===ja.TEXT_NODE&&h.data.trim()===""&&cn(h))}return e},ds=function(e){return mt(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},ns=function(e){e=ds(e).split("<");let i="";for(let l=1;l<e.length;l++){const h=e[l];h[0]==="/"&&(i=i.substring(2)),e[l]=i+"<"+h,h[0]!=="/"&&h.slice(-2)!=="/>"&&(i+="  ")}return e=e.join(`
`),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},Jr=function(e,i){return i.setResizesEnabled(!1),i.clear(),e=r.domToWorkspace$$module$build$src$core$xml(e,i),i.setResizesEnabled(!0),e},r.domToWorkspace$$module$build$src$core$xml=function(e,i){let l=0;i.RTL&&(l=i.getWidth());const h=[];lr();const w=r.getGroup$$module$build$src$core$events$utils();w||r.setGroup$$module$build$src$core$events$utils(!0),i.setResizesEnabled&&i.setResizesEnabled(!1);let L=!0;try{for(let ce=0,Ve;Ve=e.childNodes[ce];ce++){const Gt=Ve.nodeName.toLowerCase(),Yn=Ve;if(Gt==="block"||Gt==="shadow"&&!Lt()){const no=_a(Yn,i);h.push(no.id);let _s;const yl=parseInt((_s=Yn.getAttribute("x"))!=null?_s:"10",10);let vh;const mc=parseInt((vh=Yn.getAttribute("y"))!=null?vh:"10",10);isNaN(yl)||isNaN(mc)||no.moveBy(i.RTL?l-yl:yl,mc,["create"]),L=!1}else{if(Gt==="shadow")throw TypeError("Shadow block cannot be a top-level block.");if(Gt==="comment")Ua(Yn,i);else if(Gt==="variables"){if(L)Ta(Yn,i);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");L=!1}}}}finally{r.setGroup$$module$build$src$core$events$utils(w),i.setResizesEnabled&&i.setResizesEnabled(!0),i.rendered&&p(),ls()}return de(new(Ut(Tt.FINISHED_LOADING))(i)),h},Ua=function(e,i){var l;const h=(l=e.getAttribute("id"))!=null?l:void 0;l=i.rendered?new xa(i,h):new k1(i,h);var w;l.setText((w=e.textContent)!=null?w:"");var L;w=parseInt((L=e.getAttribute("x"))!=null?L:"",10);let ce;L=parseInt((ce=e.getAttribute("y"))!=null?ce:"",10),isNaN(w)||isNaN(L)||(w=i.RTL?i.getWidth()-w:w,l.moveTo(new Zt(w,L)));var Ve;i=parseInt((Ve=e.getAttribute("w"))!=null?Ve:"",10);let Gt;return Ve=parseInt((Gt=e.getAttribute("h"))!=null?Gt:"",10),isNaN(i)||isNaN(Ve)||l.setSize(new Ir(i,Ve)),e.getAttribute("collapsed")==="true"&&l.setCollapsed(!0),e.getAttribute("editable")==="false"&&l.setEditable(!1),e.getAttribute("movable")==="false"&&l.setMovable(!1),e.getAttribute("deletable")==="false"&&l.setDeletable(!1),l},Js=function(e,i){if(!i.getBlocksBoundingBox)return r.domToWorkspace$$module$build$src$core$xml(e,i);var l=i.getBlocksBoundingBox();if(e=r.domToWorkspace$$module$build$src$core$xml(e,i),l&&l.top!==l.bottom){var h=l.bottom;l=i.RTL?l.right:l.left;var w=1/0;let L=-1/0,ce=1/0;for(let Ve=0;Ve<e.length;Ve++){const Gt=i.getBlockById(e[Ve]).getRelativeToSurfaceXY();Gt.y<ce&&(ce=Gt.y),Gt.x<w&&(w=Gt.x),Gt.x>L&&(L=Gt.x)}for(h=h-ce+10,l=i.RTL?l-L:l-w,w=0;w<e.length;w++)i.getBlockById(e[w]).moveBy(l,h,["create"])}return e},r.domToBlock$$module$build$src$core$xml=function(e,i){return e=_a(e,i),i.rendered&&p(),e},_a=function(e,i){r.disable$$module$build$src$core$events$utils();var l=i.getAllVariables();let h;try{if(h=na(e,i),i.rendered){const w=h,L=h.getDescendants(!1);w.setConnectionTracking(!1);for(let ce=L.length-1;ce>=0;ce--)L[ce].initSvg();for(let ce=L.length-1;ce>=0;ce--)L[ce].queueRender();setTimeout(function(){w.disposed||w.setConnectionTracking(!0)},1),i.resizeContents()}else{const w=h.getDescendants(!1);for(let L=w.length-1;L>=0;L--)w[L].initModel()}}finally{r.enable$$module$build$src$core$events$utils()}if(qt()){for(e=Mo(i,l),i=0;i<e.length;i++)l=e[i],de(new(Ut(Tt.VAR_CREATE))(l));de(new(Ut(Tt.BLOCK_CREATE))(h))}return h},Ta=function(e,i){for(let h=0;h<e.children.length;h++){var l=e.children[h];const w=l.getAttribute("type"),L=l.getAttribute("id");if(l=l.textContent,!l)break;let ce;i.getVariableMap().createVariable(l,(ce=w)!=null?ce:void 0,L)}},ad=function(e){const i={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let l=0;l<e.children.length;l++){const h=e.children[l];if(h.nodeType!==ja.TEXT_NODE)switch(h.nodeName.toLowerCase()){case"mutation":i.mutation.push(h);break;case"comment":i.comment.push(h);break;case"data":i.data.push(h);break;case"title":case"field":i.field.push(h);break;case"value":case"statement":i.input.push(h);break;case"next":i.next.push(h);break;default:console.warn("Ignoring unknown tag: "+h.nodeName)}}return i},ud=function(e,i){let l=!1;for(let h=0;h<e.length;h++){const w=e[h];i.domToMutation&&(i.domToMutation(w),i.initSvg&&(l=!0))}return l},iu=function(e,i){for(let l=0;l<e.length;l++){const h=e[l],w=h.textContent,L=h.getAttribute("pinned")==="true";let ce;const Ve=parseInt((ce=h.getAttribute("w"))!=null?ce:"50",10);let Gt;const Yn=parseInt((Gt=h.getAttribute("h"))!=null?Gt:"50",10);let no,_s=parseInt((no=h.getAttribute("x"))!=null?no:"",10),yl;const vh=parseInt((yl=h.getAttribute("y"))!=null?yl:"",10);i.setCommentText(w);const mc=i.getIcon(Is.COMMENT);isNaN(Ve)||isNaN(Yn)||mc.setBubbleSize(new Ir(Ve,Yn)),mc.setBubbleVisible(L),setTimeout(()=>{isNaN(_s)||isNaN(vh)||(_s=i.workspace.RTL?i.workspace.getWidth()-(_s+Ve):_s,mc.setBubbleLocation(new Zt(_s,vh))),mc.setBubbleVisible(L)},1)}},Ea=function(e,i){for(let l=0;l<e.length;l++)i.data=e[l].textContent},Wh=function(e,i){for(let l=0;l<e.length;l++){const h=e[l],w=h.getAttribute("name");w?za(i,w,h):console.warn(`Ignoring unnamed field in block ${i.type}`)}},su=function(e){let i=null,l=null;for(let h=0;h<e.childNodes.length;h++){const w=e.childNodes[h];ou(w)&&(w.nodeName.toLowerCase()==="block"?i=w:w.nodeName.toLowerCase()==="shadow"&&(l=w))}return{childBlockElement:i,childShadowElement:l}},Vc=function(e,i,l,h){for(let L=0;L<e.length;L++){var w=e[L];const ce=w.getAttribute("name"),Ve=ce?l.getInput(ce):null;if(!Ve){console.warn("Ignoring non-existent input "+ce+" in block "+h);break}if(w=su(w),w.childBlockElement){if(!Ve.connection)throw TypeError("Input connection does not exist.");na(w.childBlockElement,i,Ve.connection,!1)}if(w.childShadowElement){let Gt;(Gt=Ve.connection)==null||Gt.setShadowDom(w.childShadowElement)}}},m0=function(e,i,l){for(let h=0;h<e.length;h++){const w=su(e[h]);if(w.childBlockElement){if(!l.nextConnection)throw TypeError("Next statement does not exist.");if(l.nextConnection.isConnected())throw TypeError("Next statement is already connected.");na(w.childBlockElement,i,l.nextConnection,!0)}w.childShadowElement&&l.nextConnection&&l.nextConnection.setShadowDom(w.childShadowElement)}},na=function(e,i,l,h){var w;const L=e.getAttribute("type");if(!L)throw TypeError("Block type unspecified: "+e.outerHTML);var ce=(w=e.getAttribute("id"))!=null?w:void 0;w=i.newBlock(L,ce),ce=ad(e);const Ve=ud(ce.mutation,w);if(iu(ce.comment,w),Ea(ce.data,w),l)if(h)if(w.previousConnection)l.connect(w.previousConnection);else throw TypeError("Next block does not have previous statement.");else if(w.outputConnection)l.connect(w.outputConnection);else if(w.previousConnection)l.connect(w.previousConnection);else throw TypeError("Child block does not have output or previous statement.");if(Wh(ce.field,w),Vc(ce.input,i,w,L),m0(ce.next,i,w),Ve&&w.initSvg(),(i=e.getAttribute("inline"))&&w.setInputsInline(i==="true"),(i=e.getAttribute("disabled"))&&w.setDisabledReason(i==="true"||i==="disabled",Tr),i=e.getAttribute("disabled-reasons"),i!==null)for(var Gt of i.split(","))w.setDisabledReason(!0,decodeURIComponent(Gt));if((Gt=e.getAttribute("deletable"))&&w.setDeletable(Gt==="true"),(Gt=e.getAttribute("movable"))&&w.setMovable(Gt==="true"),(Gt=e.getAttribute("editable"))&&w.setEditable(Gt==="true"),(Gt=e.getAttribute("collapsed"))&&w.setCollapsed(Gt==="true"),e.nodeName.toLowerCase()==="shadow"){for(e=w.getChildren(!1),Gt=0;Gt<e.length;Gt++)if(!e[Gt].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");w.setShadow(!0)}return w},za=function(e,i,l){const h=e.getField(i);h?h.fromXml(l):console.warn("Ignoring non-existent field "+i+" in block "+e.type)},ra=function(e){for(let i=0;i<e.childNodes.length;i++){const l=e.childNodes[i];if(l.nodeName.toLowerCase()==="next"){e.removeChild(l);break}}},ou=function(e){return e.nodeType===ja.ELEMENT_NODE},dl=function(e,i){s(Xt.FIELD,e,i,!0)},Ha=function(e){c(Xt.FIELD,e)},r.fromJson$$module$build$src$core$field_registry=function(e){return $p.fromJsonInternal(e)},Pu=function(e){const i=v(Xt.FIELD,e.type);return i?i.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},fl=function(e){return e&&typeof e=="object"&&"src"in e&&typeof e.src=="string"&&"alt"in e&&typeof e.alt=="string"&&"width"in e&&typeof e.width=="number"&&"height"in e&&typeof e.height=="number"},r.register$$module$build$src$core$extensions=function(e,i){if(typeof e!="string"||e.trim()==="")throw Error('Error: Invalid extension name "'+e+'"');if(Yo[e])throw Error('Error: Extension "'+e+'" is already registered.');if(typeof i!="function")throw Error('Error: Extension "'+e+'" must be a function');Yo[e]=i},r.registerMixin$$module$build$src$core$extensions=function(e,i){if(!i||typeof i!="object")throw Error('Error: Mixin "'+e+'" must be a object');r.register$$module$build$src$core$extensions(e,function(){this.mixin(i)})},r.registerMutator$$module$build$src$core$extensions=function(e,i,l,h){const w='Error when registering mutator "'+e+'": ';Va(w,i);const L=ms(i,w);if(l&&typeof l!="function")throw Error(w+'Extension "'+e+'" is not a function');r.register$$module$build$src$core$extensions(e,function(){L&&this.setMutator(new r.MutatorIcon$$module$build$src$core$icons$mutator_icon(h||[],this)),this.mixin(i),l&&l.apply(this)})},ao=function(e){Fu(e)?delete Yo[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},Fu=function(e){return!!Yo[e]},Uu=function(e,i,l){const h=Yo[e];if(typeof h!="function")throw Error('Error: Extension "'+e+'" not found.');let w;if(l?Gc(e,i):w=Ga(i),h.apply(i),l)Va('Error after applying mutator "'+e+'": ',i);else if(!Xh(w,i))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},Gc=function(e,i){if(Ga(i).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+i.id)},jh=function(e,i){return qc(e.mutationToDom,e.domToMutation,i+" mutationToDom/domToMutation")},cd=function(e,i){return qc(e.saveExtraState,e.loadExtraState,i+" saveExtraState/loadExtraState")},ms=function(e,i){return qc(e.compose,e.decompose,i+" compose/decompose")},qc=function(e,i,l){if(e&&i){if(typeof e!="function"||typeof i!="function")throw Error(l+" must be a function");return!0}if(!e&&!i)return!1;throw Error(l+"Must have both or neither functions")},Va=function(e,i){const l=jh(i,e),h=cd(i,e);if(!l&&!h)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");ms(i,e)},Ga=function(e){const i=[];return e.domToMutation!==void 0&&i.push(e.domToMutation),e.mutationToDom!==void 0&&i.push(e.mutationToDom),e.saveExtraState!==void 0&&i.push(e.saveExtraState),e.loadExtraState!==void 0&&i.push(e.loadExtraState),e.compose!==void 0&&i.push(e.compose),e.decompose!==void 0&&i.push(e.decompose),i},Xh=function(e,i){if(i=Ga(i),i.length!==e.length)return!1;for(let l=0;l<i.length;l++)if(e[l]!==i[l])return!1;return!0},lu=function(e){if(typeof document!="object")throw Error("runAfterPageLoad() requires browser document.");if(document.readyState==="complete")e();else{const i=setInterval(function(){document.readyState==="complete"&&(clearInterval(i),e())},10)}},r.buildTooltipForDropdown$$module$build$src$core$extensions=function(e,i){const l=[];return function(){l.includes(this.type)||(g0(this,e,i),l.push(this.type)),this.setTooltip((function(){const h=String(this.getFieldValue(e));return gr(i[h])}).bind(this))}},g0=function(e,i,l){var h=e.getField(i);if(h instanceof Po&&!h.isOptionListDynamic()){h=h.getOptions();for(const w of h)w!==Po.SEPARATOR&&([,h]=w,l[h]===void 0&&console.warn(`No tooltip mapping for value ${h} of field ${i} of block type ${e.type}.`))}},r.buildTooltipWithFieldText$$module$build$src$core$extensions=function(e,i){return function(){this.setTooltip((function(){const l=this.getField(i);return gr(e).replace("%1",l?l.getText():"")}).bind(this))}},Yh=function(){const e=this.tooltip;this.setTooltip((function(){const i=this.getParent();return i&&i.getInputsInline()&&i.tooltip||e}).bind(this))},qn=function(e,i){return" "+e+","+i+" "},pl=function(e,i){return" "+e+i.join("")},mo=function(e,i){return" M "+e+","+i+" "},Ui=function(e,i){return" m "+e+","+i+" "},xl=function(e,i){return" l "+e+","+i+" "},y=function(e){return" l"+e.join("")},g=function(e,i){return" "+e+" "+i+" "},E=function(e,i,l,h){return e+" "+l+" "+l+" "+i+h},M=function(e,i){if(!e||!i)throw Error("Cannot connect null connections.");e.targetConnection=i,i.targetConnection=e},U=function(e,i){let l=null;i=i.outputConnection;const h=i?.getConnectionChecker();for(let w=0,L;L=e.inputList[w];w++){const ce=L.connection;let Ve;if(ce&&((Ve=h)!=null&&Ve.canConnect(i,ce,!1))){if(l)return null;l=ce}}return l},K=function(e,i){let l;for(;l=U(e,i);)if(e=l.targetBlock(),!e||e.isShadow())return l;return null},le=function(e){return ue(e)&&typeof e.getType=="function"&&typeof e.initView=="function"&&typeof e.dispose=="function"&&typeof e.getWeight=="function"&&typeof e.getSize=="function"&&typeof e.applyColour=="function"&&typeof e.hideForInsertionMarker=="function"&&typeof e.updateEditable=="function"&&typeof e.updateCollapsed=="function"&&typeof e.isShownWhenCollapsed=="function"&&typeof e.setOffsetInBlock=="function"&&typeof e.onLocationChange=="function"&&typeof e.onClick=="function"},Ee=function(e){return le(e)&&Oa(e)&&K0(e)&&typeof e.setText=="function"&&typeof e.getText=="function"&&typeof e.setBubbleSize=="function"&&typeof e.getBubbleSize=="function"&&typeof e.setBubbleLocation=="function"&&typeof e.getBubbleLocation=="function"&&e.getType()===Is.COMMENT},Be=function(e){if(!(e.getDescendants(!1).length>100)){var i=e.workspace,l=e.getSvgRoot();i.getAudioManager().play("delete");var h=e.getRelativeToSurfaceXY(),w=l.cloneNode(!0);w.setAttribute("transform","translate("+h.x+","+h.y+")");var L;(L=i.getLayerManager())==null||L.appendToAnimationLayer({getSvgRoot:()=>w}),Ze(w,{x:h.x,y:h.y,width:e.width,height:e.height},i.RTL,new Date)}},Ze=function(e,i,l,h){const w=(new Date().getTime()-h.getTime())/150;w>1?cn(e):(e.setAttribute("transform","translate("+(i.x+(l?-1:1)*i.width/2*w)+","+(i.y+i.height/2*w)+") scale("+(1-w)+")"),setTimeout(Ze,10,e,i,l,h))},pt=function(e){var i=e.workspace;const l=i.scale;if(i.getAudioManager().play("click"),!(l<1)){var h=i.getSvgXY(e.getSvgRoot());e.outputConnection?(h.x+=(e.RTL?3:-3)*l,h.y+=13*l):e.previousConnection&&(h.x+=(e.RTL?-23:23)*l,h.y+=3*l);var w=Ge(yt.CIRCLE,{cx:h.x,cy:h.y,r:0,fill:"none",stroke:"#888","stroke-width":10},i.getParentSvg());e=Ge(yt.ANIMATE,{id:"animationCircle",begin:"indefinite",attributeName:"r",dur:"150ms",from:0,to:25*l},w),i=Ge(yt.ANIMATE,{id:"animationOpacity",begin:"indefinite",attributeName:"opacity",dur:"150ms",from:1,to:0},w),e.beginElement(),i.beginElement(),setTimeout(()=>void cn(w),150)}},bt=function(e){if(sn(),e.workspace.getAudioManager().play("disconnect"),!(e.workspace.scale<1)){var i=e.getHeightWidth().height;i=Math.atan(10/i)/Math.PI*180,e.RTL||(i*=-1),A1=e,Nt(e,i,new Date,0)}},Nt=function(e,i,l,h){const w=[.66,1,.66,0,-.66,-1,-.66,0];let L="";l.getTime()+200>new Date().getTime()&&(L=`skewX(${Math.round(w[h%w.length]*i)})`,oc=setTimeout(Nt,15,e,i,l,h+1)),e.getSvgRoot().setAttribute("transform",`${e.getTranslation()} ${L}`)},sn=function(){A1&&(oc&&(clearTimeout(oc),oc=null),A1.getSvgRoot().setAttribute("transform",A1.getTranslation()),A1=null)},kn=function(e,i){e.workspace.RTL&&(i.x=e.workspace.getWidth()-i.x);const l=e.workspace,h=r.config$$module$build$src$core$config.snapRadius,w=Zt.difference(i,e.getRelativeToSurfaceXY()),L=new Zt(0,0),ce=l.getAllBlocks(!1).filter(Ve=>Ve.id!=e.id).map(Ve=>Ve.getRelativeToSurfaceXY());for(;Un(Zt.sum(i,L),ce)||Ur(e,Zt.sum(w,L),h);)l.RTL?L.translate(-h,h*2):L.translate(h,h*2);e.moveTo(Zt.sum(i,L))},Un=function(e,i){return i.some(l=>Math.abs(l.x-e.x)<=1&&Math.abs(l.y-e.y)<=1)},Ur=function(e,i,l){return e.getConnections_(!1).some(h=>!!h.closest(l,i).connection)},wr=function(e,i,l){const h=l.getBoundingRectangle(),w=h.right-h.left,L=La(i.top,h.top,i.top+i.height-(h.bottom-h.top))-h.top;let ce=i.left;return i=i.left+i.width-w,e.RTL?ce=Math.min(i,ce):i=Math.max(ce,i),(e=La(ce,h.left,i)-h.left)||L?(l.moveBy(e,L,["inbounds"]),!0):!1},Ar=function(e){return i=>{var l=e.getMetricsManager();if(l.hasFixedEdges()&&!e.isDragging()){var h;if(q2.includes((h=i.type)!=null?h:"")){h=l.getScrollMetrics(!0);const w=vi(e,i);w&&(l=r.getGroup$$module$build$src$core$events$utils()||!1,r.setGroup$$module$build$src$core$events$utils(i.group),wr(e,h,w)&&!i.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),r.setGroup$$module$build$src$core$events$utils(l))}else ot(i)&&i.scale&&i.oldScale&&i.scale>i.oldScale&&ni(e)}}},vi=function(e,i){let l=null;switch(i.type){case Tt.BLOCK_CREATE:case Tt.BLOCK_MOVE:(l=e.getBlockById(i.blockId))&&(l=l.getRootBlock());break;case Tt.COMMENT_CREATE:case Tt.COMMENT_MOVE:case Tt.COMMENT_RESIZE:l=e.getCommentById(i.commentId)}return l},ni=function(e){var i=e.getMetricsManager();if(i.hasFixedEdges()&&!e.isDragging()){i=i.getScrollMetrics(!0);var l=e.getTopBoundedElements();for(let h=0,w;w=l[h];h++)wr(e,i,w)}},Yi=function(e){return e&&typeof e.isDeletable=="function"&&typeof e.dispose=="function"&&typeof e.setDeleteStyle=="function"},ws=function(e,i){const l=e.getIcons();for(const h of e.inputList){if(!h.isVisible())continue;l.push(...h.fieldRow);let w;if((w=h.connection)!=null&&w.targetBlock())if(e=h.connection.targetBlock(),h.connection.type!==In.NEXT_STATEMENT||i)l.push(e);else{let L;(e=(L=e.lastConnectionInStack(!1))==null?void 0:L.getSourceBlock())&&l.push(e)}else{let L;((L=h.connection)==null?void 0:L.type)===In.INPUT_VALUE&&l.push(h.connection)}}return l},vs=function(e,i){const l=e.workspace.getTopBoundedElements(!0).filter(w=>ue(w));e=l.indexOf(e instanceof os?e.getRootBlock():e)+i;let h=null;if(e>=0&&e<l.length?h=l[e]:e<0?h=l[l.length-1]:e>=l.length&&(h=l[0]),i<0&&h instanceof os){let w,L;return(L=(w=h.lastConnectionInStack(!1))==null?void 0:w.getSourceBlock())!=null?L:h}return h},xs=function(e,i){var l;let h;const w=e instanceof os?(h=(l=e.outputConnection)==null?void 0:l.targetBlock())!=null?h:e.getSurroundParent():e.getSourceBlock();return!(w instanceof os)||(l=ws(w,i>0),e=l.indexOf(e),e===-1)?null:(i=e+i,i>=0&&i<l.length?l[i]:null)},zr=function(e,i){s(Xt.ICON,e.toString(),i)},wi=function(e){c(Xt.ICON,e)},xi=function(e){return e&&typeof e.getRelativeToSurfaceXY=="function"&&typeof e.isMovable=="function"&&typeof e.startDrag=="function"&&typeof e.drag=="function"&&typeof e.endDrag=="function"&&typeof e.revertDrag=="function"},zi=function(e){return e&&typeof e.autoHide=="function"},bi=function(e){return typeof e.getProcedureModel=="function"&&typeof e.doProcedureUpdate=="function"&&typeof e.isProcedureDef=="function"},rs=function(e){return e&&typeof e.startPublishing=="function"&&typeof e.stopPublishing=="function"},ko=function(e){const i=e.getProcedureMap().getProcedures().filter(h=>!h.getReturnTypes()).map(h=>[h.getName(),h.getParameters().map(w=>w.getName()),!1]);e.getBlocksByType("procedures_defnoreturn",!1).forEach(h=>{!bi(h)&&wn(h)&&i.push(h.getProcedureDef())});const l=e.getProcedureMap().getProcedures().filter(h=>!!h.getReturnTypes()).map(h=>[h.getName(),h.getParameters().map(w=>w.getName()),!0]);return e.getBlocksByType("procedures_defreturn",!1).forEach(h=>{!bi(h)&&wn(h)&&l.push(h.getProcedureDef())}),i.sort($0),l.sort($0),[i,l]},$0=function(e,i){return e[0].localeCompare(i[0],void 0,{sensitivity:"base"})},r.findLegalName$$module$build$src$core$procedures=function(e,i){if(i.isInFlyout)return e;for(e=e||r.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";!zu(e,i.workspace,i);){const l=e.match(/^(.*?)(\d+)$/);e=l?l[1]+(parseInt(l[2])+1):e+"2"}return e},zu=function(e,i,l){return!Wc(e,i,l)},Wc=function(e,i,l){for(const h of i.getAllBlocks(!1))if(h!==l&&wn(h)&&r.Names$$module$build$src$core$names.equals(h.getProcedureDef()[0],e))return!0;l=l&&bi(l)?l?.getProcedureModel():void 0;for(const h of i.getProcedureMap().getProcedures())if(h!==l&&r.Names$$module$build$src$core$names.equals(h.getName(),e))return!0;return!1},r.rename$$module$build$src$core$procedures=function(e){var i=this.getSourceBlock();if(!i)throw new to;e=e.trim();const l=r.findLegalName$$module$build$src$core$procedures(e,i);bi(i)&&!i.isInsertionMarker()&&i.getProcedureModel().setName(l);const h=this.getValue();if(h!==e&&h!==l)for(e=i.workspace.getAllBlocks(!1),i=0;i<e.length;i++){const w=e[i];w.renameProcedure&&w.renameProcedure(h,l)}return l},Kh=function(e){function i(L,ce){for(let Gt=0;Gt<L.length;Gt++){var Ve=L[Gt][0];const Yn=L[Gt][1],no=r.createElement$$module$build$src$core$utils$xml("block");no.setAttribute("type",ce),no.setAttribute("gap","16");const _s=r.createElement$$module$build$src$core$utils$xml("mutation");for(_s.setAttribute("name",Ve),no.appendChild(_s),Ve=0;Ve<Yn.length;Ve++){const yl=r.createElement$$module$build$src$core$utils$xml("arg");yl.setAttribute("name",Yn[Ve]),_s.appendChild(yl)}l.push(no)}}const l=[];if(ks.procedures_defnoreturn){var h=r.createElement$$module$build$src$core$utils$xml("block");h.setAttribute("type","procedures_defnoreturn"),h.setAttribute("gap","16");var w=r.createElement$$module$build$src$core$utils$xml("field");w.setAttribute("name","NAME"),w.appendChild(r.createTextNode$$module$build$src$core$utils$xml(r.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE)),h.appendChild(w),l.push(h)}return ks.procedures_defreturn&&(h=r.createElement$$module$build$src$core$utils$xml("block"),h.setAttribute("type","procedures_defreturn"),h.setAttribute("gap","16"),w=r.createElement$$module$build$src$core$utils$xml("field"),w.setAttribute("name","NAME"),w.appendChild(r.createTextNode$$module$build$src$core$utils$xml(r.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),h.appendChild(w),l.push(h)),ks.procedures_ifreturn&&(h=r.createElement$$module$build$src$core$utils$xml("block"),h.setAttribute("type","procedures_ifreturn"),h.setAttribute("gap","16"),l.push(h)),l.length&&l[l.length-1].setAttribute("gap","24"),e=ko(e),i(e[0],"procedures_callnoreturn"),i(e[1],"procedures_callreturn"),l},qa=function(e){return ml(e,!1)},ml=function(e,i=!0){function l(w,L){for(const[ce,Ve]of w)h.push({kind:"block",type:L,gap:16,extraState:{name:ce,params:Ve}})}if(i)return jn("The XML return value of Blockly.Procedures.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),Kh(e);const h=[];return ks.procedures_defnoreturn&&h.push({kind:"block",type:"procedures_defnoreturn",gap:16,fields:{NAME:r.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE}}),ks.procedures_defreturn&&h.push({kind:"block",type:"procedures_defreturn",gap:16,fields:{NAME:r.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE}}),ks.procedures_ifreturn&&h.push({kind:"block",type:"procedures_ifreturn",gap:16}),h.length&&(h[h.length-1].gap=24),e=ko(e),l(e[0],"procedures_callnoreturn"),l(e[1],"procedures_callreturn"),h},Sl=function(e){var i=[],l=e.getBlocksByType("procedures_mutatorarg",!1);for(let L=0,ce;ce=l[L];L++)i.push(ce.getFieldValue("NAME"));l=r.createElement$$module$build$src$core$utils$xml("xml");const h=r.createElement$$module$build$src$core$utils$xml("block");h.setAttribute("type","procedures_mutatorarg");const w=r.createElement$$module$build$src$core$utils$xml("field");w.setAttribute("name","NAME"),i=Bi(r.DEFAULT_ARG$$module$build$src$core$procedures,i),i=r.createTextNode$$module$build$src$core$utils$xml(i),w.appendChild(i),h.appendChild(w),l.appendChild(h),e.updateToolbox(l)},v0=function(e){if(nt(e)&&e.bubbleType==="mutator"&&e.isOpen&&e.blockId){e=ct(e.workspaceId).getBlockById(e.blockId);var i=e.type;(i==="procedures_defnoreturn"||i==="procedures_defreturn")&&(e=e.getIcon(r.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),Sl(e),e.addChangeListener(yf))}},yf=function(e){(it(e)||ze(e)||dt(e)||Oe(e))&&(e=ct(e.workspaceId),Sl(e))},_f=function(e,i){return i.getAllBlocks(!1).filter(l=>au(l,e)||jt(l)&&r.Names$$module$build$src$core$names.equals(l.getProcedureCall(),e))},au=function(e,i){return bi(e)&&!e.isProcedureDef()&&e.getProcedureModel()&&r.Names$$module$build$src$core$names.equals(e.getProcedureModel().getName(),i)},r.mutateCallers$$module$build$src$core$procedures=function(e){const i=Lt();var l=e.getProcedureDef()[0];const h=e.mutationToDom(!0);e=_f(l,e.workspace);for(let L=0,ce;ce=e[L];L++){l=(l=ce.mutationToDom())&&mt(l),ce.domToMutation&&ce.domToMutation(h);var w=ce.mutationToDom();w=w&&mt(w),l!==w&&(r.setRecordUndo$$module$build$src$core$events$utils(!1),de(new(Ut(Tt.BLOCK_CHANGE))(ce,"mutation",null,l,w)),r.setRecordUndo$$module$build$src$core$events$utils(i))}},r.getDefinition$$module$build$src$core$procedures=function(e,i){for(const l of i.getAllBlocks(!1))if(bi(l)&&l.isProcedureDef()&&r.Names$$module$build$src$core$names.equals(l.getProcedureModel().getName(),e)||wn(l)&&r.Names$$module$build$src$core$names.equals(l.getProcedureDef()[0],e))return l;return null},nl=function(e){return e.isDynamic},Zs=function(e){return e.pathDown!==void 0&&e.pathUp!==void 0},hd=function(e){return e.pathLeft!==void 0&&e.pathRight!==void 0},ia=function(e,i){s(Xt.RENDERER,e,i)},Rr=function(e){c(Xt.RENDERER,e)},Ki=function(e,i,l){return e=new($(Xt.RENDERER,e))(e),e.init(i,l),e},Vs=function(e){ji(e.getTargetWorkspace(),void 0,"String")},jc=function(e){ji(e.getTargetWorkspace(),void 0,"Number")},uu=function(e){ji(e.getTargetWorkspace(),void 0,"Colour")},b0=function(e){return Jh(e,!1)},Jh=function(e,i=!0){return ks.variables_set_dynamic||ks.variables_get_dynamic||console.warn("There are no dynamic variable blocks, but there is a dynamic variable category."),i?(jn("The XML return value of Blockly.VariablesDynamic.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),Zh(e)):(e.registerButtonCallback("CREATE_VARIABLE_STRING",Vs),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",jc),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",uu),[{kind:"button",text:r.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE,callbackkey:"CREATE_VARIABLE_STRING"},{kind:"button",text:r.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE,callbackkey:"CREATE_VARIABLE_NUMBER"},{kind:"button",text:r.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE,callbackkey:"CREATE_VARIABLE_COLOUR"},...ai(e,e.getVariableMap().getAllVariables(),!1,"variables_get_dynamic","variables_set_dynamic")])},Zh=function(e){let i=[],l=document.createElement("button");return l.setAttribute("text",r.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE),l.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),i.push(l),l=document.createElement("button"),l.setAttribute("text",r.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE),l.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),i.push(l),l=document.createElement("button"),l.setAttribute("text",r.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE),l.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),i.push(l),e.registerButtonCallback("CREATE_VARIABLE_STRING",Vs),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",jc),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",uu),e=Hu(e),i=i.concat(e)},Hu=function(e){e=e.getVariableMap().getAllVariables();const i=[];if(e.length>0){if(ks.variables_set_dynamic){var l=e[e.length-1];const h=r.createElement$$module$build$src$core$utils$xml("block");h.setAttribute("type","variables_set_dynamic"),h.setAttribute("gap","24"),h.appendChild(ci(l)),i.push(h)}if(ks.variables_get_dynamic){e.sort(rn);for(let h=0,w;w=e[h];h++)l=r.createElement$$module$build$src$core$utils$xml("block"),l.setAttribute("type","variables_get_dynamic"),l.setAttribute("gap","8"),l.appendChild(ci(w)),i.push(l)}}return i},Tf=function(e,i){const l=e.toCopyData();return Op=l,Rp=Re(e)&&e.workspace instanceof Pl?e.workspace:null,g3=i,l},Ss=function(){return Op},Ef=function(e){Op=e},Qh=function(){return Rp},x2=function(e){Rp=e},wf=function(){return g3},zm=function(e){g3=e},y0=function(e,i,l){return e&&i?dd(e,i,l):Op&&Rp?dd(Op,Rp,g3):null},dd=function(e,i,l){let h;i=i.isMutator?i:(h=i.options.parentWorkspace)!=null?h:i;let w,L;return(L=(w=v(Xt.PASTER,e.paster,!1))==null?void 0:w.paste(e,i,l))!=null?L:null},Xc=function(e){return e&&typeof e.toCopyData=="function"},qo=function(){Ji.registry.register({name:cc.ESCAPE,preconditionFn(e){return!e.isReadOnly()},callback(e){return e.hideChaff(),!0},keyCodes:[qi.ESC]})},Gs=function(){Ji.registry.register({name:cc.DELETE,preconditionFn(e,i){return i=i.focusedNode,!e.isReadOnly()&&i!=null&&Yi(i)&&i.isDeletable()&&!e.isDragging()&&!r.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(e,i,l,h){return i.preventDefault(),e=h.focusedNode,e instanceof os?e.checkAndDelete():Yi(e)&&e.isDeletable()&&(r.setGroup$$module$build$src$core$events$utils(!0),e.dispose(),r.setGroup$$module$build$src$core$events$utils(!1)),!0},keyCodes:[qi.DELETE,qi.BACKSPACE]})},Yc=function(e){return Xc(e)&&Yi(e)&&xi(e)?e.isCopyable?e.isCopyable():e instanceof os||e instanceof xa?e.isOwnDeletable()&&e.isOwnMovable():e.isDeletable()&&e.isMovable():!1},Kc=function(e){return Yc(e)&&Yi(e)&&e.isDeletable()},e1=function(){const e=Ji.registry.createSerializedKey(qi.C,[qi.CTRL]),i=Ji.registry.createSerializedKey(qi.C,[qi.META]);Ji.registry.register({name:cc.COPY,preconditionFn(l,h){return h=h.focusedNode,l=l.isFlyout?l.targetWorkspace:l,!!h&&!!l&&!l.isDragging()&&!r.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&Yc(h)},callback(l,h,w,L){return h.preventDefault(),h=L.focusedNode,!h||!Xc(h)||!Yc(h)||(l=l.isFlyout?l.targetWorkspace:l,!l)?!1:(h.workspace.isFlyout||l.hideChaff(),l=xi(h)&&h.workspace==l?h.getRelativeToSurfaceXY():void 0,!!Tf(h,l))},keyCodes:[e,i]})},fd=function(){const e=Ji.registry.createSerializedKey(qi.X,[qi.CTRL]),i=Ji.registry.createSerializedKey(qi.X,[qi.META]);Ji.registry.register({name:cc.CUT,preconditionFn(l,h){return h=h.focusedNode,!!h&&!l.isReadOnly()&&!l.isDragging()&&!r.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&Kc(h)},callback(l,h,w,L){return l=L.focusedNode,!l||!Kc(l)||!Xc(l)?!1:(h=xi(l)?l.getRelativeToSurfaceXY():void 0,h=Tf(l,h),l instanceof os?l.checkAndDelete():Yi(l)&&l.dispose(),!!h)},keyCodes:[e,i]})},Wa=function(){const e=Ji.registry.createSerializedKey(qi.V,[qi.CTRL]),i=Ji.registry.createSerializedKey(qi.V,[qi.META]);Ji.registry.register({name:cc.PASTE,preconditionFn(){var l=Qh();return!l||!l.rendered?!1:(l=l.isFlyout?l.targetWorkspace:l,!!Ss()&&!!l&&!l.isReadOnly()&&!l.isDragging()&&!r.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken())},callback(l,h){if(l=Ss(),!l)return!1;var w=Qh();if(!w||(w=w.isFlyout?w.targetWorkspace:w,!w||w.isReadOnly()))return!1;if(h instanceof PointerEvent)return h=Me(w,new Zt(h.clientX,h.clientY)),!!y0(l,w,h);if(h=wf(),!h)return!!y0(l,w);const{left:L,top:ce,width:Ve,height:Gt}=w.getMetricsManager().getViewMetrics(!0);return new xr(ce,ce+Gt,L,L+Ve).contains(h.x,h.y)?!!y0(l,w):(h=new Zt(L+Ve/2,ce+Gt/2),!!y0(l,w,h))},keyCodes:[e,i]})},t1=function(){const e=Ji.registry.createSerializedKey(qi.Z,[qi.CTRL]),i=Ji.registry.createSerializedKey(qi.Z,[qi.META]);Ji.registry.register({name:cc.UNDO,preconditionFn(l){return!l.isReadOnly()&&!l.isDragging()&&!r.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(l,h){return l.hideChaff(),l.undo(!1),h.preventDefault(),!0},keyCodes:[e,i]})},pd=function(){const e=Ji.registry.createSerializedKey(qi.Z,[qi.CTRL,qi.SHIFT]),i=Ji.registry.createSerializedKey(qi.Z,[qi.META,qi.SHIFT]),l=Ji.registry.createSerializedKey(qi.Y,[qi.CTRL]);Ji.registry.register({name:cc.REDO,preconditionFn(h){return!h.isDragging()&&!h.isReadOnly()&&!r.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(h,w){return h.hideChaff(),h.undo(!0),w.preventDefault(),!0},keyCodes:[e,i,l]})},md=function(){qo(),Gs(),e1(),fd(),Wa(),t1(),pd()},xf=function(e){const i=e.saveState();return e.getParameters().length&&(i.parameters=e.getParameters().map(l=>l.saveState())),i},Sf=function(e,i,l,h){if(e=e.loadState(l,h),!l.parameters)return e;for(const[w,L]of l.parameters.entries())e.insertParameter(i.loadState(L,h),w);return e},S2=function(e){const i=Object.create(null),l=_(Xt.SERIALIZER,!0);for(const h in l){let w;const L=(w=l[h])==null?void 0:w.save(e);L&&(i[h]=L)}return i},k2=function(e,i,{recordUndo:l=!1}={}){var h=_(Xt.SERIALIZER,!0);if(h){h=Object.entries(h).sort((L,ce)=>ce[1].priority-L[1].priority);var w=Lt();r.setRecordUndo$$module$build$src$core$events$utils(l),(l=r.getGroup$$module$build$src$core$events$utils())||r.setGroup$$module$build$src$core$events$utils(!0),lr(),i instanceof Pl&&i.setResizesEnabled(!1);for(const[,L]of h.reverse()){let ce;(ce=L)==null||ce.clear(i)}for(const[L,ce]of h.reverse())if(e[L]){let Ve;(Ve=ce)==null||Ve.load(e[L],i)}i instanceof Pl&&i.setResizesEnabled(!0),ls(),de(new(Ut(Tt.FINISHED_LOADING))(i)),r.setGroup$$module$build$src$core$events$utils(l),r.setRecordUndo$$module$build$src$core$events$utils(w)}},C2=function(e,i){let l=null;l=typeof e=="string"?document.getElementById(e)||document.querySelector(e):e;var h;if(!document.contains(l)&&document!==((h=l)==null?void 0:h.ownerDocument))throw Error("Error: container is not in current document");e=new Qa(i||{}),h=document.createElement("div"),Qt(h,"injectionDiv"),i!=null&&i.rtl&&Qt(h,"blocklyRTL"),l.appendChild(h),i=A2(h,e);const w=kf(h,i,e);return I2(w),$e(w),ne(w),h.addEventListener("focusin",function(){$e(w)}),W(h,"keydown",null,je),w},A2=function(e,i){e.setAttribute("dir","LTR"),Bn(i.hasCss,i.pathToMedia);const l=Ge(yt.SVG,{xmlns:p1,"xmlns:html":du,"xmlns:xlink":gl,version:"1.1",class:"blocklySvg"},e),h=Ge(yt.DEFS,{},l),w=String(Math.random()).substring(2);return i.gridPattern=B1.createDom(w,i.gridOptions,h,e),l},kf=function(e,i,l){l.parentWorkspace=null,l=new Pl(l);const h=l.options;l.scale=h.zoomOptions.startScale,i.appendChild(l.createDom("blocklyMainBackground",e));var w=l.getRenderer().getClassName();return w&&Qt(e,w),(w=l.getTheme().getClassName())&&Qt(e,w),!h.hasCategories&&h.languageTree&&(e=l.addFlyout(yt.SVG),ri(e,i)),h.hasTrashcan&&l.addTrashcan(),h.zoomOptions&&h.zoomOptions.controls&&l.addZoomControls(),l.getThemeManager().subscribe(i,"workspaceBackgroundColour","background-color"),l.translate(0,0),l.addChangeListener(Ar(l)),ne(l),Jl(),Z0(),Fr(),l},I2=function(e){const i=e.options;var l=e.getParentSvg();if(W(l.parentNode,"contextmenu",null,function(h){se(h)||h.preventDefault()}),l=W(window,"resize",null,function(){Ii(),e.hideComponents(!0),vt(),d0(),ne(e),ni(e)}),e.setResizeHandlerWrapper(l),Hm(),i.languageTree){l=e.getToolbox();const h=e.getFlyout(!0);l?l.init():h&&(h.init(e),h.show(i.languageTree),typeof h.scrollToStart=="function"&&h.scrollToStart())}i.hasTrashcan&&e.trashcan.init(),i.zoomOptions&&i.zoomOptions.controls&&e.zoomControls_.init(),i.moveOptions&&i.moveOptions.scrollbars?(e.scrollbar=new B0(e,i.moveOptions.scrollbars===!0||!!i.moveOptions.scrollbars.horizontal,i.moveOptions.scrollbars===!0||!!i.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),i.hasSounds&&M2(i.pathToMedia,e)},Hm=function(){fv||(W(document,"scroll",null,function(){const e=st();for(let i=0,l;l=e[i];i++)l instanceof Pl&&l.updateInverseScreenCTM()}),te(document,"touchend",null,k),te(document,"touchcancel",null,k)),fv=!0},M2=function(e,i){function l(){for(;w.length;){const L=w.pop();L&&ie(L)}h.preload()}const h=i.getAudioManager();h.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),h.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),h.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");const w=[];w.push(W(document,"pointermove",null,l,!0)),w.push(W(document,"touchstart",null,l,!0))},N2=function(e){if(!e||!e.isSimpleReporter())return!1;let i;return(i=e.getFields().next().value)==null?void 0:i.isFullBlockField()},Cf=function(){Nr.registry.register({displayText(){return r.Msg$$module$build$src$core$msg.UNDO},preconditionFn(e){return e.workspace.getUndoStack().length>0?"enabled":"disabled"},callback(e){e.workspace.undo(!1)},scopeType:Nr.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},gd=function(){Nr.registry.register({displayText(){return r.Msg$$module$build$src$core$msg.REDO},preconditionFn(e){return e.workspace.getRedoStack().length>0?"enabled":"disabled"},callback(e){e.workspace.undo(!0)},scopeType:Nr.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},Af=function(){Nr.registry.register({displayText(){return r.Msg$$module$build$src$core$msg.CLEAN_UP},preconditionFn(e){return e.workspace.isMovable()?e.workspace.getTopBlocks(!1).length>1?"enabled":"disabled":"hidden"},callback(e){e.workspace.cleanUp()},scopeType:Nr.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},If=function(e,i){function l(L){w--,L.setCollapsed(e),w===0&&r.setGroup$$module$build$src$core$events$utils(!1)}let h=0,w=0;r.setGroup$$module$build$src$core$events$utils(!0);for(let L=0;L<i.length;L++){let ce=i[L];for(;ce;)w++,setTimeout(l.bind(null,ce),h),ce=ce.getNextBlock(),h+=10}},Mf=function(){Nr.registry.register({displayText(){return r.Msg$$module$build$src$core$msg.COLLAPSE_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let i=0;i<e.length;i++){let l=e[i];for(;l;){if(!l.isCollapsed())return"enabled";l=l.getNextBlock()}}return"disabled"}return"hidden"},callback(e){If(!0,e.workspace.getTopBlocks(!0))},scopeType:Nr.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},Nf=function(){Nr.registry.register({displayText(){return r.Msg$$module$build$src$core$msg.EXPAND_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let i=0;i<e.length;i++){let l=e[i];for(;l;){if(l.isCollapsed())return"enabled";l=l.getNextBlock()}}return"disabled"}return"hidden"},callback(e){If(!1,e.workspace.getTopBlocks(!0))},scopeType:Nr.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},Of=function(e,i){if(e.isDeletable())Array.prototype.push.apply(i,e.getDescendants(!1));else{e=e.getChildren(!1);for(let l=0;l<e.length;l++)Of(e[l],i)}},Rf=function(e){const i=[];e=e.getTopBlocks(!0);for(let l=0;l<e.length;l++)Of(e[l],i);return i},n1=function(e,i){i?r.setGroup$$module$build$src$core$events$utils(i):(r.setGroup$$module$build$src$core$events$utils(!0),i=r.getGroup$$module$build$src$core$events$utils());const l=e.shift();l&&(l.isDeadOrDying()?n1(e,i):(l.dispose(!1,!0),setTimeout(n1,10,e,i))),r.setGroup$$module$build$src$core$events$utils(!1)},Vu=function(){Nr.registry.register({displayText(e){return e.workspace?(e=Rf(e.workspace).length,e===1?r.Msg$$module$build$src$core$msg.DELETE_BLOCK:r.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)):""},preconditionFn(e){return e.workspace&&Rf(e.workspace).length>0?"enabled":"disabled"},callback(e){if(e.workspace){e.workspace.cancelCurrentGesture();var i=Rf(e.workspace);i.length<2?n1(i):Bt(r.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace("%1",String(i.length)),function(l){l&&n1(i)})}},scopeType:Nr.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},O2=function(){Cf(),gd(),Af(),Mf(),Nf(),Vu()},r1=function(){Nr.registry.register({displayText(){return r.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback(e){if(e.block){var i=e.block.toCopyData();i&&y0(i,e.block.workspace)}},scopeType:Nr.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},i1=function(){Nr.registry.register({displayText(e){return e.block.hasIcon(ua.TYPE)?r.Msg$$module$build$src$core$msg.REMOVE_COMMENT:r.Msg$$module$build$src$core$msg.ADD_COMMENT},preconditionFn(e){return e=e.block,!e||e.isInFlyout||!e.workspace.options.comments||e.isCollapsed()||!e.isEditable()||!e.hasIcon(ua.TYPE)&&N2(e)?"hidden":"enabled"},callback(e){(e=e.block)&&e.hasIcon(ua.TYPE)?e.setCommentText(null):e.setCommentText("")},scopeType:Nr.ScopeType.BLOCK,id:"blockComment",weight:2})},Lf=function(){Nr.registry.register({displayText(e){return e.block.getInputsInline()?r.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:r.Msg$$module$build$src$core$msg.INLINE_INPUTS},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.isMovable()&&!e.isCollapsed()){for(let i=1;i<e.inputList.length;i++)if(!(e.inputList[i-1]instanceof b3||e.inputList[i]instanceof b3))return"enabled"}return"hidden"},callback(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:Nr.ScopeType.BLOCK,id:"blockInline",weight:3})},$d=function(){Nr.registry.register({displayText(e){return e.block.isCollapsed()?r.Msg$$module$build$src$core$msg.EXPAND_BLOCK:r.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:Nr.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},R2=function(){Nr.registry.register({displayText(e){return e.block.hasDisabledReason(Tr)?r.Msg$$module$build$src$core$msg.ENABLE_BLOCK:r.Msg$$module$build$src$core$msg.DISABLE_BLOCK},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.workspace.options.disable&&e.isEditable()){var i=e.getDisabledReasons();return i=i.size>(i.has(Tr)?1:0),e.getInheritedDisabled()||i?"disabled":"enabled"}return"hidden"},callback(e){e=e.block;const i=r.getGroup$$module$build$src$core$events$utils();i||r.setGroup$$module$build$src$core$events$utils(!0),e.setDisabledReason(!e.hasDisabledReason(Tr),Tr),r.setGroup$$module$build$src$core$events$utils(i)},scopeType:Nr.ScopeType.BLOCK,id:"blockDisable",weight:5})},Df=function(){Nr.registry.register({displayText(e){var i=e.block;return e=i.getDescendants(!1).length,(i=i.getNextBlock())&&(e-=i.getDescendants(!1).length),e===1?r.Msg$$module$build$src$core$msg.DELETE_BLOCK:r.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)},preconditionFn(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback(e){e.block&&e.block.checkAndDelete()},scopeType:Nr.ScopeType.BLOCK,id:"blockDelete",weight:6})},Bf=function(){Nr.registry.register({displayText(){return r.Msg$$module$build$src$core$msg.HELP},preconditionFn(e){return e=e.block,(typeof e.helpUrl=="function"?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback(e){e.block.showHelp()},scopeType:Nr.ScopeType.BLOCK,id:"blockHelp",weight:7})},Pf=function(){Nr.registry.register({displayText:()=>r.Msg$$module$build$src$core$msg.REMOVE_COMMENT,preconditionFn(e){let i;return(i=e.comment)!=null&&i.isDeletable()?"enabled":"hidden"},callback(e){r.setGroup$$module$build$src$core$events$utils(!0);let i;(i=e.comment)==null||i.dispose(),r.setGroup$$module$build$src$core$events$utils(!1)},scopeType:Nr.ScopeType.COMMENT,id:"commentDelete",weight:6})},Ff=function(){Nr.registry.register({displayText:()=>r.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,preconditionFn(e){let i;return(i=e.comment)!=null&&i.isMovable()?"enabled":"hidden"},callback(e){if(e.comment){var i=e.comment.toCopyData();i&&y0(i,e.comment.workspace)}},scopeType:Nr.ScopeType.COMMENT,id:"commentDuplicate",weight:1})},Uf=function(){Nr.registry.register({displayText:()=>r.Msg$$module$build$src$core$msg.ADD_COMMENT,preconditionFn:e=>{let i;return(i=e.workspace)!=null&&i.isMutator?"hidden":"enabled"},callback:(e,i,l,h)=>{(e=e.workspace)&&(r.setGroup$$module$build$src$core$events$utils(!0),i=new xa(e),i.setPlaceholderText(r.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT),i.moveTo(Me(e,new Zt(h.x,h.y))),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(i),r.setGroup$$module$build$src$core$events$utils(!1))},scopeType:Nr.ScopeType.WORKSPACE,id:"commentCreate",weight:8})},zf=function(){r1(),i1(),Lf(),$d(),R2(),Df(),Bf()},L2=function(){Ff(),Pf(),Uf()},Hf=function(){O2(),zf()},Vf=function(e){return e&&typeof e.paste=="function"},D2=function(e){return e&&typeof e.getSvgRoot=="function"},B2=function(e){return e.isSelectable()},Vm=function(e){F().hideChaff(e)},It=It||{},It.scope={},It.ASSUME_ES5=!1,It.ASSUME_ES6=!1,It.ASSUME_ES2020=!1,It.ASSUME_NO_NATIVE_MAP=!1,It.ASSUME_NO_NATIVE_SET=!1,It.ISOLATE_POLYFILLS=!1,It.FORCE_POLYFILL_PROMISE=!1,It.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,It.INSTRUMENT_ASYNC_CONTEXT=!0,It.objectCreate=It.ASSUME_ES5||typeof Object.create=="function"?Object.create:function(e){var i=function(){};return i.prototype=e,new i},It.defineProperty=It.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,i,l){return e==Array.prototype||e==Object.prototype||(e[i]=l.value),e},It.getGlobal=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof lm=="object"&&lm];for(var i=0;i<e.length;++i){var l=e[i];if(l&&l.Math==Math)return l}throw Error("Cannot find global object")},It.global=It.ASSUME_ES2020?globalThis:It.getGlobal(this),It.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",It.TRUST_ES6_POLYFILLS=!It.ISOLATE_POLYFILLS||It.IS_SYMBOL_NATIVE,It.polyfills={},It.propertyToPolyfillSymbol={},It.POLYFILL_PREFIX="$jscp$",It.polyfill=function(e,i,l,h){i&&(It.ISOLATE_POLYFILLS?It.polyfillIsolated(e,i,l,h):It.polyfillUnisolated(e,i,l,h))},It.polyfillUnisolated=function(e,i,l,h){for(l=It.global,e=e.split("."),h=0;h<e.length-1;h++){var w=e[h];if(!(w in l))return;l=l[w]}e=e[e.length-1],h=l[e],i=i(h),i!=h&&i!=null&&It.defineProperty(l,e,{configurable:!0,writable:!0,value:i})},It.polyfillIsolated=function(e,i,l,h){var w=e.split(".");e=w.length===1,h=w[0],h=!e&&h in It.polyfills?It.polyfills:It.global;for(var L=0;L<w.length-1;L++){var ce=w[L];if(!(ce in h))return;h=h[ce]}w=w[w.length-1],l=It.IS_SYMBOL_NATIVE&&l==="es6"?h[w]:null,i=i(l),i!=null&&(e?It.defineProperty(It.polyfills,w,{configurable:!0,writable:!0,value:i}):i!==l&&(It.propertyToPolyfillSymbol[w]===void 0&&(l=Math.random()*1e9>>>0,It.propertyToPolyfillSymbol[w]=It.IS_SYMBOL_NATIVE?It.global.Symbol(w):It.POLYFILL_PREFIX+l+"$"+w),It.defineProperty(h,It.propertyToPolyfillSymbol[w],{configurable:!0,writable:!0,value:i})))},It.getConstructImplementation=function(){function e(){function l(){}return Reflect.construct(l,[],function(){}),new l instanceof l}if(It.TRUST_ES6_POLYFILLS&&typeof Reflect<"u"&&Reflect.construct){if(e())return Reflect.construct;var i=Reflect.construct;return function(l,h,w){return l=i(l,h),w&&Reflect.setPrototypeOf(l,w.prototype),l}}return function(l,h,w){return w===void 0&&(w=l),w=It.objectCreate(w.prototype||Object.prototype),Function.prototype.apply.call(l,w,h)||w}},It.construct={valueOf:It.getConstructImplementation}.valueOf(),It.underscoreProtoCanBeSet=function(){var e={a:!0},i={};try{return i.__proto__=e,i.a}catch{}return!1},It.setPrototypeOf=It.ASSUME_ES6||It.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf:It.underscoreProtoCanBeSet()?function(e,i){if(e.__proto__=i,e.__proto__!==i)throw new TypeError(e+" is not extensible");return e}:null,It.inherits=function(e,i){if(e.prototype=It.objectCreate(i.prototype),e.prototype.constructor=e,It.ASSUME_ES6||It.setPrototypeOf){var l=It.setPrototypeOf;l(e,i)}else for(l in i)if(l!="prototype")if(Object.defineProperties){var h=Object.getOwnPropertyDescriptor(i,l);h&&Object.defineProperty(e,l,h)}else e[l]=i[l];e.superClass_=i.prototype},It.arrayIteratorImpl=function(e){var i=0;return function(){return i<e.length?{done:!1,value:e[i++]}:{done:!0}}},It.arrayIterator=function(e){return{next:It.arrayIteratorImpl(e)}},It.makeIterator=function(e){var i=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];if(i)return i.call(e);if(typeof e.length=="number")return It.arrayIterator(e);throw Error(String(e)+" is not an iterable or ArrayLike")},It.arrayFromIterator=function(e){for(var i,l=[];!(i=e.next()).done;)l.push(i.value);return l},It.arrayFromIterable=function(e){return e instanceof Array?e:It.arrayFromIterator(It.makeIterator(e))},It.generator={},It.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},It.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},It.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},It.generator.Context.prototype.stop_=function(){this.isRunning_=!1},It.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},It.generator.Context.prototype.next_=function(e){this.yieldResult=e},It.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},It.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},It.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},It.generator.Context.prototype.yield=function(e,i){return this.nextAddress=i,{value:e}},It.generator.Context.prototype.yieldAll=function(e,i){e=It.makeIterator(e);var l=e.next();if(It.generator.ensureIteratorResultIsObject_(l),l.done)this.yieldResult=l.value,this.nextAddress=i;else return this.yieldAllIterator_=e,this.yield(l.value,i)},It.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},It.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},It.generator.Context.prototype.setCatchFinallyBlocks=function(e,i){this.catchAddress_=e,i!=null&&(this.finallyAddress_=i)},It.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},It.generator.Context.prototype.leaveTryBlock=function(e,i){this.nextAddress=e,this.catchAddress_=i||0},It.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e},It.generator.Context.prototype.enterFinallyBlock=function(e,i,l){l?this.finallyContexts_[l]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=i||0},It.generator.Context.prototype.leaveFinallyBlock=function(e,i){if(i=this.finallyContexts_.splice(i||0)[0],i=this.abruptCompletion_=this.abruptCompletion_||i){if(i.isException)return this.jumpToErrorHandler_();i.jumpTo!=null&&this.finallyAddress_<i.jumpTo?(this.nextAddress=i.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},It.generator.Context.prototype.forIn=function(e){return new It.generator.Context.PropertyIterator(e)},It.generator.Context.PropertyIterator=function(e){this.object_=e,this.properties_=[];for(var i in e)this.properties_.push(i);this.properties_.reverse()},It.generator.Context.PropertyIterator.prototype.getNext=function(){for(;this.properties_.length>0;){var e=this.properties_.pop();if(e in this.object_)return e}return null},It.generator.Engine_=function(e){this.context_=new It.generator.Context,this.program_=e},It.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},It.generator.Engine_.prototype.return_=function(e){this.context_.start_();var i=this.context_.yieldAllIterator_;return i?this.yieldAllStep_("return"in i?i.return:function(l){return{value:l,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},It.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},It.generator.Engine_.prototype.yieldAllStep_=function(e,i,l){try{var h=e.call(this.context_.yieldAllIterator_,i);if(It.generator.ensureIteratorResultIsObject_(h),!h.done)return this.context_.stop_(),h;var w=h.value}catch(L){return this.context_.yieldAllIterator_=null,this.context_.throw_(L),this.nextStep_()}return this.context_.yieldAllIterator_=null,l.call(this.context_,w),this.nextStep_()},It.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(i){this.context_.yieldResult=void 0,this.context_.throw_(i)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}},It.generator.Generator_=function(e){this.next=function(i){return e.next_(i)},this.throw=function(i){return e.throw_(i)},this.return=function(i){return e.return_(i)},this[Symbol.iterator]=function(){return this}},It.generator.createGenerator=function(e,i){return i=new It.generator.Generator_(new It.generator.Engine_(i)),It.setPrototypeOf&&e.prototype&&It.setPrototypeOf(i,e.prototype),i},It.asyncExecutePromiseGenerator=function(e){function i(h){return e.next(h)}function l(h){return e.throw(h)}return new Promise(function(h,w){function L(ce){ce.done?h(ce.value):Promise.resolve(ce.value).then(i,l).then(L,w)}L(e.next())})},It.asyncExecutePromiseGeneratorFunction=function(e){return It.asyncExecutePromiseGenerator(e())},It.asyncExecutePromiseGeneratorProgram=function(e){return It.asyncExecutePromiseGenerator(new It.generator.Generator_(new It.generator.Engine_(e)))},It.polyfill("globalThis",function(e){return e||It.global},"es_2020","es3"),It.polyfill("Array.prototype.includes",function(e){return e||function(i,l){var h=this;h instanceof String&&(h=String(h));var w=h.length;for(l=l||0,l<0&&(l=Math.max(l+w,0));l<w;l++){var L=h[l];if(L===i||Object.is(L,i))return!0}return!1}},"es7","es3"),It.checkEs6ConformanceViaProxy=function(){try{var e={},i=Object.create(new It.global.Proxy(e,{get:function(l,h,w){return l==e&&h=="q"&&w==i}}));return i.q===!0}catch{return!1}},It.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,It.ES6_CONFORMANCE=It.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&It.checkEs6ConformanceViaProxy(),It.initSymbol=function(){},It.iteratorPrototype=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},It.owns=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},It.MapEntry=function(){},It.polyfill("Set.prototype.difference",function(e){return e||function(i){It.checkIsSetInstance(this),It.checkIsSetLike(i);var l=It.getSmallerAndLargerSets(this,i);i=new Set(this);var h=l.smallerSetIterator;l=l.largerSet;for(var w=h.next();!w.done;)l.has(w.value)&&i.delete(w.value),w=h.next();return i}},"es_next","es6"),It.checkIsSetLike=function(e){if(typeof e!="object"||e===null||typeof e.size!="number"||e.size<0||typeof e.keys!="function"||typeof e.has!="function")throw new TypeError("Argument must be set-like")},It.checkIsValidIterator=function(e){if(typeof e!="object"||e===null||typeof e.next!="function")throw new TypeError("Invalid iterator.");return e},It.getSmallerAndLargerSets=function(e,i){return e.size<=i.size?{smallerSetIterator:e.keys(),largerSet:i}:{smallerSetIterator:It.checkIsValidIterator(i.keys()),largerSet:e}},It.checkIsSetInstance=function(e){if(!(e instanceof Set))throw new TypeError("Method must be called on an instance of Set.")},It.iteratorFromArray=function(e,i){if(It.ASSUME_ES6)return e[Symbol.iterator]();e instanceof String&&(e+="");var l=0,h=!1,w={next:function(){if(!h&&l<e.length){var L=l++;return{value:i(L,e[L]),done:!1}}return h=!0,{done:!0,value:void 0}}};return w[Symbol.iterator]=function(){return w},w},It.polyfill("Array.prototype.values",function(e){return e||function(){return It.iteratorFromArray(this,function(i,l){return l})}},"es8","es3"),It.polyfill("Array.prototype.flatMap",function(e){return e||function(i,l){var h=[];return Array.prototype.forEach.call(this,function(w,L){w=i.call(l,w,L,this),Array.isArray(w)?h.push.apply(h,w):h.push(w)}),h}},"es9","es5"),It.polyfill("Array.prototype.flat",function(e){return e||function(i){i=i===void 0?1:i;var l=[];return Array.prototype.forEach.call(this,function(h){Array.isArray(h)&&i>0?(h=Array.prototype.flat.call(h,i-1),l.push.apply(l,h)):l.push(h)}),l}},"es9","es5"),It.polyfill("Object.entries",function(e){return e||function(i){var l=[],h;for(h in i)It.owns(i,h)&&l.push([h,i[h]]);return l}},"es8","es3"),It.polyfill("Object.values",function(e){return e||function(i){var l=[],h;for(h in i)It.owns(i,h)&&l.push(i[h]);return l}},"es8","es3");var cu=Object.create(null),Gm={typeMap:cu},s1=Object.create(null),kl="default",Xt=class{constructor(e){this.name=e}toString(){return this.name}};Xt.CONNECTION_CHECKER=new Xt("connectionChecker"),Xt.CONNECTION_PREVIEWER=new Xt("connectionPreviewer"),Xt.CURSOR=new Xt("cursor"),Xt.EVENT=new Xt("event"),Xt.FIELD=new Xt("field"),Xt.INPUT=new Xt("input"),Xt.RENDERER=new Xt("renderer"),Xt.TOOLBOX=new Xt("toolbox"),Xt.THEME=new Xt("theme"),Xt.TOOLBOX_ITEM=new Xt("toolboxItem"),Xt.FLYOUTS_VERTICAL_TOOLBOX=new Xt("flyoutsVerticalToolbox"),Xt.FLYOUTS_HORIZONTAL_TOOLBOX=new Xt("flyoutsHorizontalToolbox"),Xt.FLYOUT_INFLATER=new Xt("flyoutInflater"),Xt.METRICS_MANAGER=new Xt("metricsManager"),Xt.BLOCK_DRAGGER=new Xt("blockDragger"),Xt.SERIALIZER=new Xt("serializer"),Xt.ICON=new Xt("icon"),Xt.PASTER=new Xt("paster"),Xt.VARIABLE_MODEL=new Xt("variableModel"),Xt.VARIABLE_MAP=new Xt("variableMap");var hu={DEFAULT:kl,TEST_ONLY:Gm};hu.Type=Xt,hu.getAllItems=_,hu.getClass=$,hu.getClassFromOptions=T,hu.getObject=v,hu.hasItem=m,hu.register=s,hu.unregister=c;var ks=Object.create(null),qm=750,o1="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),l1=null,_0={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},vd=0,Gu={TOUCH_ENABLED:o1,TOUCH_MAP:_0};Gu.checkTouchIdentifier=R,Gu.clearTouchIdentifier=P,Gu.getTouchIdentifierFromEvent=X,Gu.longStart=S,Gu.longStop=k,Gu.shouldHandleEvent=G;var Jc,P2,Gf,F2,a1,u1,qf,U2,qu,z2;(function(e){function i(h){return l.includes(h.toUpperCase())}Jc=e;const l=Jc.toUpperCase();P2=i("JavaFX"),Gf=i("WebKit"),F2=i("Gecko")&&!Gf,a1=i("Android"),e=globalThis.navigator&&globalThis.navigator.maxTouchPoints,u1=i("iPad")||i("Macintosh")&&e>0,qf=i("iPhone")&&!u1,U2=i("Macintosh"),qu=u1||a1&&!i("Mobile")||i("Silk"),z2=!qu&&(qf||a1)})(globalThis.navigator&&globalThis.navigator.userAgent||"");var Wm=Jc,H2=P2,bd=F2,Wf=a1,c1=u1,V2=qf,jf=U2,jm=z2,G2={ANDROID:Wf,GECKO:bd,IPAD:c1,IPHONE:V2,JavaFx:H2,MAC:jf,MOBILE:jm,raw:Wm},uo=40,Ro=125,T0={};T0.bind=te,T0.conditionalBind=W,T0.getScrollDeltaPixels=Ie,T0.isRightButton=Y,T0.isTargetInput=se,T0.mouseToSvg=fe,T0.unbind=ie;var Tt;(function(e){e.BLOCK_CREATE="create",e.BLOCK_DELETE="delete",e.BLOCK_CHANGE="change",e.BLOCK_FIELD_INTERMEDIATE_CHANGE="block_field_intermediate_change",e.BLOCK_MOVE="move",e.VAR_CREATE="var_create",e.VAR_DELETE="var_delete",e.VAR_RENAME="var_rename",e.VAR_TYPE_CHANGE="var_type_change",e.UI="ui",e.BLOCK_DRAG="drag",e.SELECTED="selected",e.CLICK="click",e.MARKER_MOVE="marker_move",e.BUBBLE_OPEN="bubble_open",e.TRASHCAN_OPEN="trashcan_open",e.TOOLBOX_ITEM_SELECT="toolbox_item_select",e.THEME_CHANGE="theme_change",e.VIEWPORT_CHANGE="viewport_change",e.COMMENT_CREATE="comment_create",e.COMMENT_DELETE="comment_delete",e.COMMENT_CHANGE="comment_change",e.COMMENT_MOVE="comment_move",e.COMMENT_RESIZE="comment_resize",e.COMMENT_DRAG="comment_drag",e.COMMENT_COLLAPSE="comment_collapse",e.FINISHED_LOADING="finished_loading"})(Tt||(Tt={}));var q2=[Tt.BLOCK_CREATE,Tt.BLOCK_MOVE,Tt.COMMENT_CREATE,Tt.COMMENT_MOVE],W2="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",h1={genUid:()=>{const e=W2.length,i=[];for(let l=0;l<20;l++)i[l]=W2.charAt(Math.random()*e);return i.join("")}},Xm=0,d1={TEST_ONLY:h1};d1.genUid=Ue,d1.getNextUniqueId=De;var j2="",yd=!0,f1=0,_d="ORPHANED_BLOCK",E0=[],X2={FIRE_QUEUE:E0,enqueueEvent:_e,fireNow:et,fireInternal:Fe,setGroupInternal:ln};r.disable$$module$build$src$core$events$utils,r.enable$$module$build$src$core$events$utils,r.getGroup$$module$build$src$core$events$utils,r.setGroup$$module$build$src$core$events$utils,r.setRecordUndo$$module$build$src$core$events$utils;var p1="http://www.w3.org/2000/svg",du="http://www.w3.org/1999/xhtml",gl="http://www.w3.org/1999/xlink",ja;(function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"})(ja||(ja={}));var wa=null,Td=0,Wu=null,go={HTML_NS:du};go.NodeType=ja,go.SVG_NS=p1,go.XLINK_NS=gl,go.addClass=Qt,go.createSvgElement=Ge,go.getFastTextWidth=ar,go.getFastTextWidthWithSizeString=Zn,go.getTextWidth=fi,go.hasClass=Jn,go.insertAfter=ri,go.measureFontMetrics=D,go.removeClass=Cn,go.removeClasses=Pn,go.removeNode=cn,go.setCssTransform=Ai,go.startTextWidthCache=lr,go.stopTextWidthCache=ls;var Co=class{static findFocusedNode(e){var i=e.getRootFocusableNode();if(!i.canBeFocused())return null;var l=i.getFocusableElement();return Jn(l,Co.ACTIVE_CLASS_NAME)||Jn(l,Co.PASSIVE_CSS_CLASS_NAME)||(i=l.querySelector(this.ACTIVE_FOCUS_NODE_CSS_SELECTOR),(i instanceof HTMLElement||i instanceof SVGElement)&&(i=Co.findFocusableNodeFor(i,e)))?i:(l=l.querySelector(this.PASSIVE_FOCUS_NODE_CSS_SELECTOR),(l instanceof HTMLElement||l instanceof SVGElement)&&(e=Co.findFocusableNodeFor(l,e))?e:null)}static findFocusableNodeFor(e,i){if(!e.id||e.id==="null"||i.getNestedTrees().map(w=>Co.findFocusableNodeFor(e,w)).findIndex(w=>!!w)!==-1)return null;var l=i.getRootFocusableNode();if(l.canBeFocused()&&e===l.getFocusableElement())return l;var h;return(l=(h=i.lookUpFocusableNode(e.id))!=null?h:null)?l:(h=e.parentElement,!l&&h?Co.findFocusableNodeFor(h,i):null)}};Co.ACTIVE_CLASS_NAME="blocklyActiveFocus",Co.PASSIVE_CSS_CLASS_NAME="blocklyPassiveFocus",Co.ACTIVE_FOCUS_NODE_CSS_SELECTOR=`.${Co.ACTIVE_CLASS_NAME}`,Co.PASSIVE_FOCUS_NODE_CSS_SELECTOR=`.${Co.PASSIVE_CSS_CLASS_NAME}`;var Y2=class{constructor(e,i){this.tree=e,this.rootShouldBeAutoTabbable=i}},Lo=class{constructor(e){this.previouslyFocusedNode=this.focusedNode=null,this.registeredTrees=[],this.isUpdatingFocusedNode=this.recentlyLostAllFocus=this.lockFocusStateChanges=this.currentlyHoldsEphemeralFocus=!1;const i=l=>{if(!this.isUpdatingFocusedNode){this.recentlyLostAllFocus=!l;var h=null;if(l instanceof HTMLElement||l instanceof SVGElement){for(var w of this.registeredTrees)if(h=Co.findFocusableNodeFor(l,w.tree))break}if(h&&h.canBeFocused()){l=h.getFocusableTree();let L;w=(L=this.focusedNode)==null?void 0:L.getFocusableTree(),h===l.getRootFocusableNode()&&l!==w?this.focusTree(l):this.focusNode(h)}else this.defocusCurrentFocusedNode()}};e("focusin",l=>{l instanceof FocusEvent&&i(document.activeElement)}),e("focusout",l=>{l instanceof FocusEvent&&i(l.relatedTarget)})}registerTree(e,i=!1){if(this.ensureManagerIsUnlocked(),this.isRegistered(e))throw Error(`Attempted to re-register already registered tree: ${e}.`);this.registeredTrees.push(new Y2(e,i));const l=e.getRootFocusableNode().getFocusableElement();if(!l.id||l.id==="null")throw Error(`Attempting to register a tree with a root element that has an invalid ID: ${e}.`);i&&(l.tabIndex=0)}isRegistered(e){return!!this.lookUpRegistration(e)}lookUpRegistration(e){let i;return(i=this.registeredTrees.find(l=>l.tree===e))!=null?i:null}unregisterTree(e){if(this.ensureManagerIsUnlocked(),!this.isRegistered(e))throw Error(`Attempted to unregister not registered tree: ${e}.`);var i=this.registeredTrees.findIndex(w=>w.tree===e);const l=this.registeredTrees[i];this.registeredTrees.splice(i,1),i=Co.findFocusedNode(e);const h=e.getRootFocusableNode();i&&this.removeHighlight(i),this.focusedNode!==i&&this.focusedNode!==h||this.updateFocusedNode(null),this.removeHighlight(h),l.rootShouldBeAutoTabbable&&e.getRootFocusableNode().getFocusableElement().removeAttribute("tabindex")}getFocusedTree(){let e,i;return(i=(e=this.focusedNode)==null?void 0:e.getFocusableTree())!=null?i:null}getFocusedNode(){return this.focusedNode}focusTree(e){if(this.ensureManagerIsUnlocked(),!this.isRegistered(e))throw Error(`Attempted to focus unregistered tree: ${e}.`);const i=Co.findFocusedNode(e),l=e.getRestoredFocusableNode(i);e=e.getRootFocusableNode();let h;this.focusNode((h=l??i)!=null?h:e)}focusNode(e){this.ensureManagerIsUnlocked();const i=!this.currentlyHoldsEphemeralFocus;i&&(this.isUpdatingFocusedNode=!0);var l,h=((l=this.focusedNode)==null?void 0:l.getFocusableElement())!==document.activeElement;if(this.focusedNode!==e||h)if(e.canBeFocused()){if(l=e.getFocusableTree(),!this.isRegistered(l))throw Error(`Attempted to focus unregistered node: ${e}.`);h=e.getFocusableElement(),h.id&&h.id!=="null"||console.warn("Trying to focus a node that has an invalid ID.");var w=Co.findFocusableNodeFor(h,l);h=Co.findFocusedNode(l);var L=e;if(w!==e){L=l.getRestoredFocusableNode(h),e=l.getRootFocusableNode();var ce;L=(ce=L??h)!=null?ce:e}e=this.focusedNode,ce=e?.getFocusableTree(),e&&this.passivelyFocusNode(e,l),l=l.getRootFocusableNode(),h&&this.removeHighlight(h),l!==L&&this.removeHighlight(l),this.currentlyHoldsEphemeralFocus||this.activelyFocusNode(L,ce??null),this.updateFocusedNode(L)}else console.warn("Trying to focus a node that can't be focused.");i&&(this.isUpdatingFocusedNode=!1)}takeEphemeralFocus(e){if(this.ensureManagerIsUnlocked(),this.currentlyHoldsEphemeralFocus)throw Error(`Attempted to take ephemeral focus when it's already held, with new element: ${e}.`);this.currentlyHoldsEphemeralFocus=!0,this.focusedNode&&this.passivelyFocusNode(this.focusedNode,null),e.focus({preventScroll:!0});let i=!1;return()=>{if(i)throw Error(`Attempted to finish ephemeral focus twice for element: ${e}.`);if(i=!0,this.currentlyHoldsEphemeralFocus=!1,this.focusedNode){this.activelyFocusNode(this.focusedNode,null);const l=this.focusedNode;setTimeout(()=>{!this.focusedNode&&this.previouslyFocusedNode===l&&this.recentlyLostAllFocus&&this.focusNode(l)},0)}}}ephemeralFocusTaken(){return this.currentlyHoldsEphemeralFocus}ensureManagerIsUnlocked(){if(this.lockFocusStateChanges)throw Error("FocusManager state changes cannot happen in a tree/node focus/blur callback.")}updateFocusedNode(e){this.previouslyFocusedNode=this.focusedNode,this.focusedNode=e}defocusCurrentFocusedNode(){this.focusedNode&&!this.currentlyHoldsEphemeralFocus&&(this.passivelyFocusNode(this.focusedNode,null),this.updateFocusedNode(null))}activelyFocusNode(e,i){this.lockFocusStateChanges=!0;const l=e.getFocusableTree(),h=e.getFocusableElement();let w;const L=(w=this.lookUpRegistration(l))==null?void 0:w.rootShouldBeAutoTabbable;l!==i&&(l.onTreeFocus(e,i),L&&(l.getRootFocusableNode().getFocusableElement().tabIndex=-1)),e.onNodeFocus(),this.lockFocusStateChanges=!1,L&&e===l.getRootFocusableNode()||h.hasAttribute("tabindex")||(h.tabIndex=-1),this.setNodeToVisualActiveFocus(e),h.focus({preventScroll:!0})}passivelyFocusNode(e,i){this.lockFocusStateChanges=!0;const l=e.getFocusableTree();if(l!==i){l.onTreeBlur(i);let h;(h=this.lookUpRegistration(l))!=null&&h.rootShouldBeAutoTabbable&&(l.getRootFocusableNode().getFocusableElement().tabIndex=0)}e.onNodeBlur(),this.lockFocusStateChanges=!1,l!==i&&this.setNodeToVisualPassiveFocus(e)}setNodeToVisualActiveFocus(e){e=e.getFocusableElement(),Qt(e,Lo.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),Cn(e,Lo.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}setNodeToVisualPassiveFocus(e){e=e.getFocusableElement(),Cn(e,Lo.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),Qt(e,Lo.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}removeHighlight(e){e=e.getFocusableElement(),Cn(e,Lo.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),Cn(e,Lo.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}static getFocusManager(){return Lo.focusManager||(Lo.focusManager=new Lo(document.addEventListener)),Lo.focusManager}};Lo.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME="blocklyActiveFocus",Lo.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME="blocklyPassiveFocus",Lo.focusManager=null,r.getFocusManager$$module$build$src$core$focus_manager;var w0={};w0.deepMerge=qe;var Ji=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(e,i){if(this.shortcuts.get(e.name)&&!i)throw Error(`Shortcut named "${e.name}" already exists.`);if(this.shortcuts.set(e.name,e),i=e.keyCodes,i!=null&&i.length)for(const l of i)this.addKeyMapping(l,e.name,!!e.allowCollision)}unregister(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn(`Keyboard shortcut named "${e}" not found.`),!1)}addKeyMapping(e,i,l){e=`${e}`;const h=this.keyMap.get(e);if(h&&!l)throw Error(`Shortcut named "${i}" collides with shortcuts "${h}"`);h&&l?h.unshift(i):this.keyMap.set(e,[i])}removeKeyMapping(e,i,l){const h=this.keyMap.get(e);if(!h)return l||console.warn(`No keyboard shortcut named "${i}" registered with key code "${e}"`),!1;const w=h.indexOf(i);return w>-1?(h.splice(w,1),h.length===0&&this.keyMap.delete(e),!0):(l||console.warn(`No keyboard shortcut named "${i}" registered with key code "${e}"`),!1)}removeAllKeyMappings(e){for(const i of this.keyMap.keys())this.removeKeyMapping(i,e,!0)}setKeyMap(e){this.keyMap.clear();for(const i in e)this.keyMap.set(i,e[i])}getKeyMap(){const e=Object.create(null);for(const[i,l]of this.keyMap)e[i]=l;return e}getRegistry(){const e=Object.create(null);for(const[i,l]of this.shortcuts)e[i]=l;return qe(Object.create(null),e)}onKeyDown(e,i){var l=this.serializeKeyEvent(i);if(l=this.getShortcutNamesByKeyCode(l),!l)return!1;for(const h of l){l=this.shortcuts.get(h);let w;if(!l||l.preconditionFn&&!l.preconditionFn(e,{focusedNode:(w=r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?w:void 0}))continue;let L,ce,Ve;if((ce=(L=l).callback)!=null&&ce.call(L,e,i,l,{focusedNode:(Ve=r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?Ve:void 0}))return!0}return!1}getShortcutNamesByKeyCode(e){let i;return((i=this.keyMap.get(e))==null?void 0:i.slice())||[]}getKeyCodesByShortcutName(e){const i=[];for(const[l,h]of this.keyMap)h.indexOf(e)>-1&&i.push(l);return i}serializeKeyEvent(e){let i="";for(const l in Ji.modifierKeys)e.getModifierState(l)&&(i!==""&&(i+="+"),i+=l);return i!==""&&e.keyCode?i+="+"+e.keyCode:e.keyCode&&(i=String(e.keyCode)),i}checkModifiers(e){for(const i of e)if(!(i in Ji.modifierKeys))throw Error(i+" is not a valid modifier key.")}createSerializedKey(e,i){let l="";if(i){this.checkModifiers(i);for(const h in Ji.modifierKeys)i.includes(Ji.modifierKeys[h])&&(l!==""&&(l+="+"),l+=h)}return l!==""&&e?l+="+"+e:e&&(l=`${e}`),l}};Ji.registry=new Ji,(function(e){e=e.modifierKeys||(e.modifierKeys={}),e[e.Shift=16]="Shift",e[e.Control=17]="Control",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta"})(Ji||(Ji={}));var Ed=Object.create(null),K2,x0,Zc=[],J2={defineBlocksWithJsonArrayInternal:Ce},Qs={TEST_ONLY:J2};Qs.createBlockDefinitionsFromJsonArray=r.createBlockDefinitionsFromJsonArray$$module$build$src$core$common,Qs.defineBlocks=r.defineBlocks$$module$build$src$core$common,Qs.defineBlocksWithJsonArray=ee,Qs.draggingConnections=Zc,Qs.fireSelectedEvent=Ht,Qs.getAllWorkspaces=st,Qs.getBlockTypeCounts=Se,Qs.getMainWorkspace=F,Qs.getParentContainer=An,Qs.getSelected=Ye,Qs.getWorkspaceById=ct,Qs.globalShortcutHandler=je,Qs.registerWorkspace=At,Qs.setMainWorkspace=$e,Qs.setParentContainer=Lr,Qs.setSelected=We,Qs.svgResize=ne,Qs.unregisterWorkpace=Ot;var S0=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=r.getGroup$$module$build$src$core$events$utils(),this.recordUndo=Lt()}toJson(){return{type:this.type,group:this.group}}static fromJson(e,i,l){return l.isBlank=!1,l.group=e.group||"",l.workspaceId=i.id,l}isNull(){return!1}run(e){}getEventWorkspace_(){let e;if(this.workspaceId&&(e=ct(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}},Si=class extends S0{constructor(e){super(),this.recordUndo=!1,this.isUiEvent=!0,this.isBlank=typeof e>"u",this.workspaceId=e||""}},Z2=class extends Si{constructor(e,i,l){i=e?e.workspace.id:i,i===null&&(i=void 0),super(i),this.type=Tt.CLICK,this.blockId=e?e.id:void 0,this.targetType=l}toJson(){const e=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new Z2),i.targetType=e.targetType,i.blockId=e.blockId,i}},Q2;(function(e){e.BLOCK="block",e.WORKSPACE="workspace",e.ZOOM_CONTROLS="zoom_controls"})(Q2||(Q2={})),s(Xt.EVENT,Tt.CLICK,Z2);var ep={};ep.removeElem=Ft;var sa=class{constructor(e){this.name=e}toString(){return this.name}};sa.POSITIONABLE=new sa("positionable"),sa.DRAG_TARGET=new sa("drag_target"),sa.DELETE_AREA=new sa("delete_area"),sa.AUTOHIDEABLE=new sa("autohideable");var Oi=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(e,i){const l=e.component.id;if(!i&&this.componentData.has(l)){var h;throw Error('Plugin "'+l+'" with capabilities "'+((h=this.componentData.get(l))==null?void 0:h.capabilities)+'" already added.')}for(this.componentData.set(l,e),i=[],h=0;h<e.capabilities.length;h++){const w=String(e.capabilities[h]).toLowerCase();if(i.push(w),this.capabilityToComponentIds.has(w)){let L;(L=this.capabilityToComponentIds.get(w))==null||L.push(l)}else this.capabilityToComponentIds.set(w,[l])}this.componentData.get(l).capabilities=i}removeComponent(e){const i=this.componentData.get(e);if(i){for(let l=0;l<i.capabilities.length;l++){const h=String(i.capabilities[l]).toLowerCase();Ft(this.capabilityToComponentIds.get(h),e)}this.componentData.delete(e)}}addCapability(e,i){if(!this.getComponent(e))throw Error('Cannot add capability, "'+i+'". Plugin "'+e+'" has not been added to the ComponentManager');if(this.hasCapability(e,i))console.warn('Plugin "'+e+'already has capability "'+i+'"');else{i=`${i}`.toLowerCase();var l;(l=this.componentData.get(e))==null||l.capabilities.push(i);var h;(h=this.capabilityToComponentIds.get(i))==null||h.push(e)}}removeCapability(e,i){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+i+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,i)?(i=`${i}`.toLowerCase(),Ft(this.componentData.get(e).capabilities,i),Ft(this.capabilityToComponentIds.get(i),e)):console.warn('Plugin "'+e+`doesn't have capability "`+i+'" to remove')}hasCapability(e,i){return i=`${i}`.toLowerCase(),this.componentData.has(e)&&this.componentData.get(e).capabilities.includes(i)}getComponent(e){let i;return(i=this.componentData.get(e))==null?void 0:i.component}getComponents(e,i){if(e=`${e}`.toLowerCase(),e=this.capabilityToComponentIds.get(e),!e)return[];const l=[];if(i){const h=[];e.forEach(w=>{h.push(this.componentData.get(w))}),h.sort(function(w,L){return w.weight-L.weight}),h.forEach(function(w){l.push(w.component)})}else e.forEach(h=>{l.push(this.componentData.get(h).component)});return l}};Oi.Capability=sa,(function(e){e=e.ComponentWeight||(e.ComponentWeight={}),e[e.TOOLBOX_WEIGHT=0]="TOOLBOX_WEIGHT",e[e.FLYOUT_WEIGHT=1]="FLYOUT_WEIGHT",e[e.TRASHCAN_WEIGHT=2]="TRASHCAN_WEIGHT",e[e.ZOOM_CONTROLS_WEIGHT=3]="ZOOM_CONTROLS_WEIGHT"})(Oi||(Oi={})),Oi.ComponentWeight;var Xf=!1,Yf=`
.blocklySvg {
  background-color: #fff;
  outline: none;
  overflow: hidden;  /* IE overflows by default. */
  position: absolute;
  display: block;
}

.blocklyWidgetDiv {
  display: none;
  position: absolute;
  z-index: 99999;  /* big value for bootstrap3 compatibility */
}

.injectionDiv {
  height: 100%;
  position: relative;
  overflow: hidden;  /* So blocks in drag surface disappear at edges */
  touch-action: none;
  user-select: none;
  -webkit-user-select: none;
}

.blocklyBlockCanvas.blocklyCanvasTransitioning,
.blocklyBubbleCanvas.blocklyCanvasTransitioning {
  transition: transform .5s;
}

.blocklyEmboss {
  filter: var(--blocklyEmbossFilter);
}

.blocklyTooltipDiv {
  background-color: #ffffc7;
  border: 1px solid #ddc;
  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);
  color: #000;
  display: none;
  font: 9pt sans-serif;
  opacity: .9;
  padding: 2px;
  position: absolute;
  z-index: 100000;  /* big value for bootstrap3 compatibility */
}

.blocklyDropDownDiv {
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1000;
  display: none;
  border: 1px solid;
  border-color: #dadce0;
  background-color: #fff;
  border-radius: 2px;
  padding: 4px;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv:focus {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownContent {
  max-height: 300px;  /* @todo: spec for maximum height. */
}

.blocklyDropDownArrow {
  position: absolute;
  left: 0;
  top: 0;
  width: 16px;
  height: 16px;
  z-index: -1;
  background-color: inherit;
  border-color: inherit;
  border-top: 1px solid;
  border-left: 1px solid;
  border-top-left-radius: 4px;
  border-color: inherit;
}

.blocklyHighlighted>.blocklyPath {
  filter: var(--blocklyEmbossFilter);
}

.blocklyHighlightedConnectionPath {
  fill: none;
  stroke: #fc3;
  stroke-width: 4px;
}

.blocklyPathLight {
  fill: none;
  stroke-linecap: round;
  stroke-width: 1;
}

.blocklySelected>.blocklyPathLight {
  display: none;
}

.blocklyDraggable {
  cursor: grab;
  cursor: -webkit-grab;
}

.blocklyDragging {
  cursor: grabbing;
  cursor: -webkit-grabbing;
  /* Drag surface disables events to not block the toolbox, so we have to
   * reenable them here for the cursor values to work. */
  pointer-events: auto;
}

  /* Changes cursor on mouse down. Not effective in Firefox because of
     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */
.blocklyDraggable:active {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

.blocklyDragging.blocklyDraggingDelete,
.blocklyDragging.blocklyDraggingDelete .blocklyField {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyDragging>.blocklyPath,
.blocklyDragging>.blocklyPathLight {
  fill-opacity: .8;
  stroke-opacity: .8;
}

.blocklyDragging>.blocklyPathDark {
  display: none;
}

.blocklyDisabledPattern>.blocklyPath {
  fill: var(--blocklyDisabledPattern);
  fill-opacity: .5;
  stroke-opacity: .5;
}

.blocklyDisabled>.blocklyPathLight,
.blocklyDisabled>.blocklyPathDark {
  display: none;
}

.blocklyInsertionMarker>.blocklyPath,
.blocklyInsertionMarker>.blocklyPathLight,
.blocklyInsertionMarker>.blocklyPathDark {
  fill-opacity: .2;
  stroke: none;
}

.blocklyNonEditableField>text {
  pointer-events: none;
}

.blocklyFlyout {
  position: absolute;
  z-index: 20;
}

.blocklyText text {
  cursor: default;
}

/*
  Don't allow users to select text.  It gets annoying when trying to
  drag a block and selected text moves instead.
*/
.blocklySvg text {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  cursor: inherit;
}

.blocklyIconGroup {
  cursor: default;
}

.blocklyIconGroup:not(:hover):not(:focus),
.blocklyIconGroupReadonly {
  opacity: .6;
}

.blocklyIconShape {
  fill: #00f;
  stroke: #fff;
  stroke-width: 1px;
}

.blocklyIconSymbol {
  fill: #fff;
}

.blocklyMinimalBody {
  margin: 0;
  padding: 0;
  height: 100%;
}

.blocklyHtmlInput {
  border: none;
  border-radius: 4px;
  height: 100%;
  margin: 0;
  outline: none;
  padding: 0;
  width: 100%;
  text-align: center;
  display: block;
  box-sizing: border-box;
}

/* Remove the increase and decrease arrows on the field number editor */
input.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,
input.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield;
}

.blocklyMainBackground {
  stroke-width: 1;
  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */
}

.blocklyMutatorBackground {
  fill: #fff;
  stroke: #ddd;
  stroke-width: 1;
}

.blocklyFlyoutBackground {
  fill: #ddd;
  fill-opacity: .8;
}

.blocklyMainWorkspaceScrollbar {
  z-index: 20;
}

.blocklyFlyoutScrollbar {
  z-index: 30;
}

.blocklyScrollbarHorizontal,
.blocklyScrollbarVertical {
  position: absolute;
  outline: none;
}

.blocklyScrollbarBackground {
  opacity: 0;
  pointer-events: none;
}

.blocklyScrollbarHandle {
  fill: #ccc;
}

.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyScrollbarHandle:hover {
  fill: #bbb;
}

/* Darken flyout scrollbars due to being on a grey background. */
/* By contrast, workspace scrollbars are on a white background. */
.blocklyFlyout .blocklyScrollbarHandle {
  fill: #bbb;
}

.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyFlyout .blocklyScrollbarHandle:hover {
  fill: #aaa;
}

.blocklyInvalidInput {
  background: #faa;
}

.blocklyVerticalMarker {
  stroke-width: 3px;
  fill: rgba(255,255,255,.5);
  pointer-events: none;
}

.blocklyComputeCanvas {
  position: absolute;
  width: 0;
  height: 0;
}

.blocklyNoPointerEvents {
  pointer-events: none;
}

.blocklyContextMenu {
  border-radius: 4px;
  max-height: 100%;
}

.blocklyDropdownMenu {
  border-radius: 2px;
  padding: 0 !important;
}

.blocklyDropdownMenu .blocklyMenuItem {
  /* 28px on the left for icon or checkbox. */
  padding-left: 28px;
}

/* BiDi override for the resting state. */
.blocklyDropdownMenu .blocklyMenuItemRtl {
  /* Flip left/right padding for BiDi. */
  padding-left: 5px;
  padding-right: 28px;
}

.blocklyWidgetDiv .blocklyMenu {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  background: #fff;
  border: 1px solid transparent;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
  font: normal 13px Arial, sans-serif;
  margin: 0;
  outline: none;
  padding: 4px 0;
  position: absolute;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

.blocklyWidgetDiv .blocklyMenu:focus {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv .blocklyMenu {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  background: inherit;  /* Compatibility with gapi, reset from goog-menu */
  border: inherit;  /* Compatibility with gapi, reset from goog-menu */
  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;
  outline: none;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

/* State: resting. */
.blocklyMenuItem {
  border: none;
  color: #000;
  cursor: pointer;
  list-style: none;
  margin: 0;
  /* 7em on the right for shortcut. */
  min-width: 7em;
  padding: 6px 15px;
  white-space: nowrap;
}

/* State: disabled. */
.blocklyMenuItemDisabled {
  color: #ccc;
  cursor: inherit;
}

/* State: hover. */
.blocklyMenuItemHighlight {
  background-color: rgba(0,0,0,.1);
}

/* State: selected/checked. */
.blocklyMenuItemCheckbox {
  height: 16px;
  position: absolute;
  width: 16px;
}

.blocklyMenuItemSelected .blocklyMenuItemCheckbox {
  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;
  float: left;
  margin-left: -24px;
  position: static;  /* Scroll with the menu. */
}

.blocklyMenuItemRtl .blocklyMenuItemCheckbox {
  float: right;
  margin-right: -24px;
}

.blocklyMenuSeparator {
  background-color: #ccc;
  height: 1px;
  border: 0;
  margin-left: 4px;
  margin-right: 4px;
}

.blocklyBlockDragSurface, .blocklyAnimationLayer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: visible !important;
  z-index: 80;
  pointer-events: none;
}

.blocklyField {
  cursor: default;
}

.blocklyInputField {
  cursor: text;
}

.blocklyDragging .blocklyField,
.blocklyDragging .blocklyIconGroup {
  cursor: grabbing;
}

.blocklyActiveFocus:is(
  .blocklyFlyout,
  .blocklyWorkspace,
  .blocklyField,
  .blocklyPath,
  .blocklyHighlightedConnectionPath,
  .blocklyComment,
  .blocklyBubble,
  .blocklyIconGroup,
  .blocklyTextarea
) {
  outline: none;
}
`,Qc={};Qc.inject=Bn,Qc.register=mn;var Zt=class{constructor(e,i){this.x=e,this.y=i}clone(){return new Zt(this.x,this.y)}scale(e){return this.x*=e,this.y*=e,this}translate(e,i){return this.x+=e,this.y+=i,this}static equals(e,i){return e===i?!0:e&&i?e.x===i.x&&e.y===i.y:!1}static distance(e,i){const l=e.x-i.x;return e=e.y-i.y,Math.sqrt(l*l+e*e)}static magnitude(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static difference(e,i){return new Zt(e.x-i.x,e.y-i.y)}static sum(e,i){return new Zt(e.x+i.x,e.y+i.y)}},yt=class{constructor(e){this.tagName=e}toString(){return this.tagName}};yt.ANIMATE=new yt("animate"),yt.CIRCLE=new yt("circle"),yt.CLIPPATH=new yt("clipPath"),yt.DEFS=new yt("defs"),yt.FECOMPOSITE=new yt("feComposite"),yt.FECOMPONENTTRANSFER=new yt("feComponentTransfer"),yt.FEFLOOD=new yt("feFlood"),yt.FEFUNCA=new yt("feFuncA"),yt.FEGAUSSIANBLUR=new yt("feGaussianBlur"),yt.FEPOINTLIGHT=new yt("fePointLight"),yt.FESPECULARLIGHTING=new yt("feSpecularLighting"),yt.FILTER=new yt("filter"),yt.FOREIGNOBJECT=new yt("foreignObject"),yt.G=new yt("g"),yt.IMAGE=new yt("image"),yt.LINE=new yt("line"),yt.PATH=new yt("path"),yt.PATTERN=new yt("pattern"),yt.POLYGON=new yt("polygon"),yt.RECT=new yt("rect"),yt.SVG=new yt("svg"),yt.TEXT=new yt("text"),yt.TSPAN=new yt("tspan");var xr=class{constructor(e,i,l,h){this.top=e,this.bottom=i,this.left=l,this.right=h}static from(e){return new xr(e.y,e.y+e.height,e.x,e.x+e.width)}clone(){return new xr(this.top,this.bottom,this.left,this.right)}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}getOrigin(){return new Zt(this.left,this.top)}contains(e,i){return e>=this.left&&e<=this.right&&i>=this.top&&i<=this.bottom}intersects(e){return this.left<=e.right&&this.right>=e.left&&this.bottom>=e.top&&this.top<=e.bottom}static equals(e,i){return e===i?!0:e&&i?e.top===i.top&&e.bottom===i.bottom&&e.left===i.left&&e.right===i.right:!1}static createFromPoint(e,i,l){const h=e.x;return e=e.y,new xr(e,e+l,h,h+i)}},Ir=class{constructor(e,i){this.width=e,this.height=i}static equals(e,i){return e===i?!0:e&&i?e.width===i.width&&e.height===i.height:!1}static max(e,i){return new Ir(Math.max(e.width,i.width),Math.max(e.height,i.height))}static min(e,i){return new Ir(Math.min(e.width,i.width),Math.min(e.height,i.height))}},Kf={getSizeInternal:Os},k0={TEST_ONLY:Kf};k0.getBorderBox=on,k0.getComputedStyle=kr,k0.getContainerOffsetToScrollInto=V,k0.getPageOffset=z,k0.getSize=$r,k0.getViewportPageOffset=J,k0.scrollIntoContainerView=A;var wd=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,tp=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,fu={XY_REGEX:wd,XY_STYLE_REGEX:tp},bs={TEST_ONLY:fu};bs.getDocumentScroll=ae,bs.getInjectionDivXY=re,bs.getRelativeXY=oe,bs.getViewportBBox=Ne,bs.screenToWsCoordinates=Me,bs.wsToScreenCoordinates=Qe;var Bs=class{constructor(e,i,l,h,w){this.workspace=e,this.horizontal=i,this.oldHostMetrics=null,this.ratio=1,this.origin=new Zt(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new Zt(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=l||!1,this.margin=w!==void 0?w:Bs.DEFAULT_SCROLLBAR_MARGIN,e="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),h&&(e+=" "+h),this.outerSvg=Ge(yt.SVG,{class:e}),h=Ge(yt.G,{},this.outerSvg),this.svgBackground=Ge(yt.RECT,{class:"blocklyScrollbarBackground"},h),e=Math.floor((Bs.scrollbarThickness-5)/2),this.svgHandle=Ge(yt.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},h),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),ri(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),i?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=W(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=W(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){const e=Bs.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(e)),this.outerSvg.setAttribute("height",String(e)),this.svgHandle.setAttribute("height",String(e-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(e)),this.outerSvg.setAttribute("width",String(e)),this.svgHandle.setAttribute("width",String(e-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),ie(this.onMouseDownBarWrapper_),ie(this.onMouseDownHandleWrapper_),cn(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(e){return e=e<=0||isNaN(e)?0:Math.min(e,this.scrollbarLength)}setHandleLength(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(e){return e=e<=0||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}setHandlePosition(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(e,i){this.position.x=e,this.position.y=i,Ai(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(e){!e&&(e=this.workspace.getMetrics(),!e)||this.oldHostMetrics&&Bs.metricsAreEquivalent(e,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(e):this.resizeVertical(e),this.oldHostMetrics=e,this.updateMetrics())}requiresViewResize(e){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop:!0}resizeHorizontal(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}resizeViewHorizontal(e){var i=e.viewWidth-this.margin*2;this.pair&&(i-=Bs.scrollbarThickness),this.setScrollbarLength(Math.max(0,i)),i=e.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(i+=Bs.scrollbarThickness),this.setPosition(i,e.absoluteTop+e.viewHeight-Bs.scrollbarThickness-this.margin),this.resizeContentHorizontal(e)}resizeContentHorizontal(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var i=this.scrollbarLength*e.viewWidth/e.scrollWidth;i=this.constrainHandleLength(i),this.setHandleLength(i),i=e.scrollWidth-e.viewWidth;var l=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/i*l,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=l/i}}resizeVertical(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}resizeViewVertical(e){let i=e.viewHeight-this.margin*2;this.pair&&(i-=Bs.scrollbarThickness),this.setScrollbarLength(Math.max(0,i)),this.setPosition(this.workspace.RTL?e.absoluteLeft+this.margin:e.absoluteLeft+e.viewWidth-Bs.scrollbarThickness-this.margin,e.absoluteTop+this.margin),this.resizeContentVertical(e)}resizeContentVertical(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var i=this.scrollbarLength*e.viewHeight/e.scrollHeight;i=this.constrainHandleLength(i),this.setHandleLength(i),i=e.scrollHeight-e.viewHeight;var l=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/i*l,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=l/i}}isVisible(){return this.isHandleVisible}setContainerVisible(e){const i=e!==this.containerVisible;this.containerVisible=e,i&&this.updateDisplay_()}setVisible(e){if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.setVisibleInternal(e)}setVisibleInternal(e){const i=e!==this.isVisible();this.isHandleVisible=e,i&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(e){if(this.workspace.markFocused(),P(),this.cleanUp(),Y(e))e.stopPropagation();else{var i=fe(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());i=this.horizontal?i.x:i.y;var l=re(this.svgHandle);l=this.horizontal?l.x:l.y;var h=this.handlePosition,w=this.handleLength*.95;i<=l?h-=w:i>=l+this.handleLength&&(h+=w),this.setHandlePosition(this.constrainHandlePosition(h)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}onMouseDownHandle(e){this.workspace.markFocused(),this.cleanUp(),Y(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=W(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=W(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}onMouseMoveHandle(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){P(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(ie(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(ie(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}updateMetrics(){const e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}set(e,i){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(i||i===void 0)&&this.updateMetrics()}setOrigin(e,i){this.origin=new Zt(e,i)}static metricsAreEquivalent(e,i){return e.viewWidth===i.viewWidth&&e.viewHeight===i.viewHeight&&e.viewLeft===i.viewLeft&&e.viewTop===i.viewTop&&e.absoluteTop===i.absoluteTop&&e.absoluteLeft===i.absoluteLeft&&e.scrollWidth===i.scrollWidth&&e.scrollHeight===i.scrollHeight&&e.scrollLeft===i.scrollLeft&&e.scrollTop===i.scrollTop}};Bs.scrollbarThickness=o1?25:15,Bs.DEFAULT_SCROLLBAR_MARGIN=.5;var xd={parseFromString:function(){throw Error("DOMParser was not found in the global scope and was not properly injected using injectDependencies")}},$o={serializeToString:function(){throw Error("XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies")}},{document:Jf,DOMParser:m1,XMLSerializer:g1}=globalThis;m1&&(xd=new m1),g1&&($o=new g1);var Cs="https://developers.google.com/blockly/xml",Cl=/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,Al={NAME_SPACE:Cs};Al.createElement=r.createElement$$module$build$src$core$utils$xml,Al.createTextNode=r.createTextNode$$module$build$src$core$utils$xml,Al.domToText=mt,Al.injectDependencies=ht,Al.textToDom=r.textToDom$$module$build$src$core$utils$xml;var Zf="categoryToolbox",np="flyoutToolbox",Mr;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"})(Mr||(Mr={}));var Ym={hasCategoriesInternal:Vr},Xa={};Xa.Position=Mr,Xa.TEST_ONLY=Ym,Xa.convertFlyoutDefToJsonArray=On,Xa.convertToolboxDefToJson=Vt,Xa.hasCategories=Fn,Xa.isCategoryCollapsible=yr,Xa.parseToolboxTree=yn;var eo;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"})(eo||(eo={}));var rl;(function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"})(rl||(rl={}));var pu;(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"})(pu||(pu={}));var vo={};vo.bumpDirection=pu,vo.bumpPositionRect=mi,vo.getCornerOppositeToolbox=zs,vo.getStartPositionRect=Or,vo.horizontalPosition=rl,vo.verticalPosition=eo;var il={width:96,height:124,url:"sprites.png"},C0=class{constructor(e){this.workspace=e,this.id="zoomControls",this.boundEvents=[],this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=Ge(yt.G,{});const e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:Oi.ComponentWeight.ZOOM_CONTROLS_WEIGHT,capabilities:[Oi.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&cn(this.svgGroup);for(const e of this.boundEvents)ie(e);this.boundEvents.length=0}getBoundingRectangle(){let e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new xr(this.top,this.top+e,this.left,this.left+this.WIDTH)}position(e,i){if(this.initialized){var l=zs(this.workspace,e),h=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(h+=this.LARGE_SPACING+this.HEIGHT),e=Or(l,new Ir(this.WIDTH,h),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),l=l.vertical,i=mi(e,this.MARGIN_VERTICAL,l===eo.TOP?pu.DOWN:pu.UP,i),l===eo.TOP){var w=this.SMALL_SPACING+this.HEIGHT,L;(L=this.zoomInGroup)==null||L.setAttribute("transform","translate(0, "+w+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(w+this.LARGE_SPACING+this.HEIGHT)+")")}else{L=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;let Ve;(Ve=this.zoomInGroup)==null||Ve.setAttribute("transform","translate(0, "+L+")"),L=L+this.SMALL_SPACING+this.HEIGHT,(w=this.zoomOutGroup)==null||w.setAttribute("transform","translate(0, "+L+")")}this.top=i.top,this.left=i.left;var ce;(ce=this.svgGroup)==null||ce.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(e){this.zoomOutGroup=Ge(yt.G,{class:"blocklyZoom blocklyZoomOut"},this.svgGroup);const i=Ge(yt.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);Ge(yt.RECT,{width:32,height:32},i),Ge(yt.IMAGE,{width:il.width,height:il.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS(gl,"xlink:href",this.workspace.options.pathToMedia+il.url),this.boundEvents.push(W(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)))}createZoomInSvg(e){this.zoomInGroup=Ge(yt.G,{class:"blocklyZoom blocklyZoomIn"},this.svgGroup);const i=Ge(yt.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);Ge(yt.RECT,{width:32,height:32},i),Ge(yt.IMAGE,{width:il.width,height:il.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS(gl,"xlink:href",this.workspace.options.pathToMedia+il.url),this.boundEvents.push(W(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)))}zoom(e,i){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),P(),i.stopPropagation(),i.preventDefault()}createZoomResetSvg(e){this.zoomResetGroup=Ge(yt.G,{class:"blocklyZoom blocklyZoomReset"},this.svgGroup);const i=Ge(yt.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);Ge(yt.RECT,{width:32,height:32},i),Ge(yt.IMAGE,{width:il.width,height:il.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS(gl,"xlink:href",this.workspace.options.pathToMedia+il.url),this.boundEvents.push(W(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)))}resetZoom(e){this.workspace.markFocused();const i=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(i),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),P(),e.stopPropagation(),e.preventDefault()}fireZoomEvent(){const e=new(Ut(Tt.CLICK))(null,this.workspace.id,"zoom_controls");de(e)}};mn(`
.blocklyZoom>image, .blocklyZoom>svg>image {
  opacity: .4;
}

.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {
  opacity: .6;
}

.blocklyZoom>image:active, .blocklyZoom>svg>image:active {
  opacity: .8;
}
`);var ju=100,A0=75,Qf=50,e4=25,Ya={BLOCKS:Qf,PROCEDURES:A0,VARIABLES:ju,WORKSPACE_COMMENTS:e4},t4={};t4.register=Pr,t4.unregister=an;var eh=class{constructor(){this.priority=e4}save(e){const i=[];for(const l of e.getTopComments())(e=Te(l,{addCoordinates:!0,saveIds:!0}))&&i.push(e);return i.length?i:null}load(e,i){for(const l of e)Di(l,i,{recordUndo:Lt()})}clear(e){for(const i of e.getTopComments())i.dispose()}};Pr("workspaceComments",new eh);var Xu={};Xu.WorkspaceCommentSerializer=eh,Xu.append=Di,Xu.save=Te;var th={};th.register=Ts,th.unregister=_r;var mu=class{paste(e,i,l){e=e.commentState,l&&(e.x=l.x,e.y=l.y),r.disable$$module$build$src$core$events$utils();let h;try{h=Di(e,i),Gr(h)}finally{r.enable$$module$build$src$core$events$utils()}return h?(qt()&&de(new(Ut(Tt.COMMENT_CREATE))(h)),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(h),h):null}};mu.TYPE="workspace-comment",Ts(mu.TYPE,new mu);var n4;n4=28,r.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:n4,connectingSnapRadius:n4,currentConnectionPreference:8,bumpDelay:250},r.config$$module$build$src$core$config;var Km="aria-",Sd="role",Il;(function(e){e.GRID="grid",e.GRIDCELL="gridcell",e.GROUP="group",e.LISTBOX="listbox",e.MENU="menu",e.MENUITEM="menuitem",e.MENUITEMCHECKBOX="menuitemcheckbox",e.OPTION="option",e.PRESENTATION="presentation",e.ROW="row",e.TREE="tree",e.TREEITEM="treeitem",e.SEPARATOR="separator",e.STATUS="status"})(Il||(Il={}));var As;(function(e){e.ACTIVEDESCENDANT="activedescendant",e.COLCOUNT="colcount",e.DISABLED="disabled",e.EXPANDED="expanded",e.INVALID="invalid",e.LABEL="label",e.LABELLEDBY="labelledby",e.LEVEL="level",e.ORIENTATION="orientation",e.POSINSET="posinset",e.ROWCOUNT="rowcount",e.SELECTED="selected",e.SETSIZE="setsize",e.VALUEMAX="valuemax",e.VALUEMIN="valuemin",e.LIVE="live",e.HIDDEN="hidden"})(As||(As={}));var $1={};$1.Role=Il,$1.State=As,$1.setRole=cr,$1.setState=Kr;var r4=class{constructor(e,i){this.content=e,this.opt_value=i,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){const e=document.createElement("div");e.id=De(),this.element=e,e.className="blocklyMenuItem "+(this.enabled?"":"blocklyMenuItemDisabled ")+(this.checked?"blocklyMenuItemSelected ":"")+(this.highlight?"blocklyMenuItemHighlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl ":"");const i=document.createElement("div");if(i.className="blocklyMenuItemContent",this.checkable){var l=document.createElement("div");l.className="blocklyMenuItemCheckbox ",i.appendChild(l)}return l=this.content,typeof this.content=="string"&&(l=document.createTextNode(this.content)),i.appendChild(l),e.appendChild(i),this.roleName&&cr(e,this.roleName),Kr(e,As.SELECTED,this.checkable&&this.checked||!1),Kr(e,As.DISABLED,!this.enabled),e}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let e;return(e=this.opt_value)!=null?e:null}setRightToLeft(e){this.rightToLeft=e}setRole(e){this.roleName=e}setCheckable(e){this.checkable=e}setChecked(e){this.checked=e}setHighlighted(e){this.highlight=e;const i=this.getElement();i&&this.isEnabled()&&(e?Qt(i,"blocklyMenuItemHighlight"):Cn(i,"blocklyMenuItemHighlight"))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}performAction(e){this.isEnabled()&&this.actionHandler&&this.actionHandler(this,e)}onAction(e,i){this.actionHandler=e.bind(i)}},rp=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.pointerLeaveHandler=this.pointerEnterHandler=this.clickHandler=this.pointerMoveHandler=this.highlightedItem=this.openingCoords=null}addChild(e){this.menuItems.push(e)}render(e){const i=document.createElement("div");i.className="blocklyMenu",i.tabIndex=0,this.roleName&&cr(i,this.roleName),this.element=i;for(let l=0,h;h=this.menuItems[l];l++)i.appendChild(h.createDom());return this.pointerMoveHandler=W(i,"pointermove",this,this.handlePointerMove,!0),this.clickHandler=W(i,"pointerup",this,this.handleClick,!0),this.pointerEnterHandler=W(i,"pointerenter",this,this.handlePointerEnter,!0),this.pointerLeaveHandler=W(i,"pointerleave",this,this.handlePointerLeave,!0),this.onKeyDownHandler=W(i,"keydown",this,this.handleKeyEvent),e.appendChild(i),i}getElement(){return this.element}focus(){const e=this.getElement();e&&e.focus({preventScroll:!0})}blur(){const e=this.getElement();e&&e.blur()}setRole(e){this.roleName=e}dispose(){this.pointerMoveHandler&&(ie(this.pointerMoveHandler),this.pointerMoveHandler=null),this.clickHandler&&(ie(this.clickHandler),this.clickHandler=null),this.pointerEnterHandler&&(ie(this.pointerEnterHandler),this.pointerEnterHandler=null),this.pointerLeaveHandler&&(ie(this.pointerLeaveHandler),this.pointerLeaveHandler=null),this.onKeyDownHandler&&(ie(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let e=0,i;i=this.menuItems[e];e++)i.dispose();this.element=null}getMenuItem(e){const i=this.getElement();for(;e&&e!==i;){if(e.classList.contains("blocklyMenuItem")){const l=this.getMenuItems();for(let h=0,w;w=l[h];h++)if(w.getElement()===e)return w}e=e.parentElement}return null}setHighlighted(e){var i=this.highlightedItem;if(i&&(i.setHighlighted(!1),this.highlightedItem=null),e){e.setHighlighted(!0),this.highlightedItem=e,i=this.getElement();const l=e.getElement();i&&l&&(A(l,i),Kr(i,As.ACTIVEDESCENDANT,e.getId()))}}highlightNext(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}highlightPrevious(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e<0?this.menuItems.length:e,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(e,i){e+=i;let l;const h=this.getMenuItems();for(;l=h[e];){if(l.isEnabled()){this.setHighlighted(l);break}e+=i}}handlePointerMove(e){Math.max(Math.abs(e.movementX),Math.abs(e.movementY))!==0&&(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}handleClick(e){var i=this.openingCoords;if(this.openingCoords=null,i&&typeof e.clientX=="number"){const l=new Zt(e.clientX,e.clientY);if(Zt.distance(i,l)<1)return}(i=this.getMenuItem(e.target))&&i.performAction(e)}handlePointerEnter(e){this.focus()}handlePointerLeave(e){this.getElement()&&this.setHighlighted(null)}handleKeyEvent(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var i=this.highlightedItem;switch(e.key){case"Enter":case" ":i&&i.performAction(e);break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}getSize(){const e=this.getElement(),i=$r(e);return i.height=e.scrollHeight,i}getMenuItems(){return this.menuItems.filter(e=>e instanceof r4)}},Ri=class{constructor(){this.element=null}createDom(){return this.element=document.createElement("hr"),this.element.className="blocklyMenuSeparator",cr(this.element,Il.SEPARATOR),this.element}dispose(){let e;(e=this.element)==null||e.remove(),this.element=null}},Hi="_TEMP_COLLAPSED_INPUT",Xr="_TEMP_COLLAPSED_FIELD",Tr="MANUALLY_DISABLED",is={COLLAPSED_FIELD_NAME:Xr,COLLAPSED_INPUT_NAME:Hi,MANUALLY_DISABLED:Tr};(function(e){e[e.VALUE=1]="VALUE",e[e.STATEMENT=3]="STATEMENT",e[e.DUMMY=5]="DUMMY",e[e.CUSTOM=6]="CUSTOM",e[e.END_ROW=7]="END_ROW"})(r.inputTypes$$module$build$src$core$inputs$input_types||(r.inputTypes$$module$build$src$core$inputs$input_types={})),r.inputTypes$$module$build$src$core$inputs$input_types;var sl=new Set,I0=new WeakSet,Yu=new WeakMap,Ku=null,Ka=null,qs=0,Ja={};Ja.finishQueuedRenders=ir,Ja.queueRender=io,Ja.triggerQueuedRenders=p;var gu,i4;r.Msg$$module$build$src$core$msg=Object.create(null),gu=function(e){Object.keys(e).forEach(function(i){r.Msg$$module$build$src$core$msg[i]=e[i]})},i4={Msg:r.Msg$$module$build$src$core$msg,setLocale:gu};var Wo="blocklyToast",nh="blocklyToastMessage",v1="blocklyToastCloseButton",bo=class{static show(e,i){if(i.oncePerSession&&i.id){if(this.shownIds.has(i.id))return;this.shownIds.add(i.id)}this.hide(e);const l=this.createDom(e,i);requestAnimationFrame(()=>{l.style.bottom="2rem"})}static createDom(e,i){const{message:l,duration:h=5,assertiveness:w=bo.Assertiveness.POLITE}=i,L=document.createElement("div");e.getInjectionDiv().appendChild(L),L.dataset.toastId=i.id,L.className=Wo,cr(L,Il.STATUS),Kr(L,As.LIVE,w),i=L.appendChild(document.createElement("div")),i.className=nh,i.innerText=l,i=L.appendChild(document.createElement("button")),i.className=v1,Kr(i,As.LABEL,r.Msg$$module$build$src$core$msg.CLOSE);var ce=Ge(yt.SVG,{width:24,height:24,viewBox:"0 0 24 24",fill:"none"},i);Kr(ce,As.HIDDEN,!0),Ge(yt.RECT,{x:19.7782,y:2.80762,width:2,height:24,transform:"rotate(45, 19.7782, 2.80762)",fill:"black"},ce),Ge(yt.RECT,{x:2.80762,y:4.22183,width:2,height:24,transform:"rotate(-45, 2.80762, 4.22183)",fill:"black"},ce),i.addEventListener("click",()=>{L.remove(),e.markFocused()});let Ve;return i=()=>{Ve=setTimeout(()=>L.remove(),h*1e3)},ce=()=>clearTimeout(Ve),L.addEventListener("focusin",ce),L.addEventListener("focusout",i),L.addEventListener("mouseenter",ce),L.addEventListener("mousemove",ce),L.addEventListener("mouseleave",i),i(),L}static hide(e,i){e=e.getInjectionDiv().querySelector(`.${Wo}`),e instanceof HTMLElement&&(!i||i===e.dataset.toastId)&&e.remove()}};bo.shownIds=new Set,(function(e){e=e.Assertiveness||(e.Assertiveness={}),e.ASSERTIVE="assertive",e.POLITE="polite"})(bo||(bo={})),mn(`
.${Wo} {
  font-size: 1.2rem;
  position: absolute;
  bottom: -10rem;
  right: 2rem;
  padding: 1rem;
  color: black;
  background-color: white;
  border: 2px solid black;
  border-radius: 0.4rem;
  z-index: 999;
  display: flex;
  align-items: center;
  gap: 0.8rem;
  line-height: 1.5;
  transition: bottom 0.3s ease-out;
}

.${Wo} .${nh} {
  maxWidth: 18rem;
}

.${Wo} .${v1} {
  margin: 0;
  padding: 0.2rem;
  background-color: transparent;
  color: black;
  border: none;
  cursor: pointer;
}
`);var s4=function(e,i){window.alert(e),i&&i()},kd=s4,ip=function(e,i){i(window.confirm(e))},Cd=ip,Ad=function(e,i,l){l(window.prompt(e,i))},$u=Ad,yo=bo.show.bind(bo),vu=yo,Ml={};Ml.alert=xe,Ml.confirm=Bt,Ml.prompt=bn,Ml.setAlert=_t,Ml.setConfirm=kt,Ml.setPrompt=en,Ml.setToast=Rn,Ml.toast=hn;var M0=new Set,o4={};o4.warn=jn;var Id="VARIABLE",l4="ijkmnopqrstuvwxyzabcdefgh",b1={generateUniqueNameInternal:gi},Ps={CATEGORY_NAME:Id,TEST_ONLY:b1,VAR_LETTER_OPTIONS:l4};Ps.allDeveloperVariables=r.allDeveloperVariables$$module$build$src$core$variables,Ps.allUsedVarModels=r.allUsedVarModels$$module$build$src$core$variables,Ps.compareByName=rn,Ps.createVariableButtonHandler=ji,Ps.deleteVariable=r.deleteVariable$$module$build$src$core$variables,Ps.flyoutCategory=qr,Ps.flyoutCategoryBlocks=ps,Ps.generateUniqueName=Xn,Ps.generateUniqueNameFromOptions=Bi,Ps.generateVariableFieldDom=ci,Ps.getAddedVariables=Mo,Ps.getOrCreateVariablePackage=r.getOrCreateVariablePackage$$module$build$src$core$variables,Ps.getVariable=r.getVariable$$module$build$src$core$variables,Ps.getVariableUsesById=Pi,Ps.internalFlyoutCategory=sr,Ps.jsonFlyoutCategoryBlocks=ai,Ps.nameUsedWithAnyType=tr,Ps.nameUsedWithConflictingParam=ii,Ps.promptName=cs,Ps.renameVariable=r.renameVariable$$module$build$src$core$variables;var Do=class extends Error{},sp=class extends Do{constructor(e){super("Expected to find a 'type' property, defining the block type"),this.state=e}},Bo=class extends Do{constructor(e,i,l){super(`The block ${i.toDevString()} is missing a(n) ${e}
connection`),this.block=i,this.state=l}},op=class extends Do{constructor(e,i,l,h){super(`The block ${l.toDevString()} could not connect its
${i} to its parent, because: ${e}`),this.childBlock=l,this.childState=h}},lp=class extends Do{constructor(e){super(`Encountered a real block which is defined as a child of a shadow
block. It is an invariant of Blockly that shadow blocks only have shadow
children`),this.state=e}},Jm=class extends Do{constructor(e,i,l){super(`Cannot add an icon of type '${e}' to the block ${i.toDevString()}, because there is no icon registered with type '${e}'. Make sure that all of your icons have been registered.`),this.block=i,this.state=l}},Nl={};Nl.BadConnectionCheck=op,Nl.DeserializationError=Do,Nl.MissingBlockType=sp,Nl.MissingConnection=Bo,Nl.RealChildOfShadow=lp,Nl.UnregisteredIcon=Jm;var Md=class{constructor(){this.priority=Qf}save(e){const i=[];for(const l of e.getTopBlocks(!1))(e=ts(l,{addCoordinates:!0,doFullSerialization:!1}))&&i.push(e);return i.length?{languageVersion:0,blocks:i}:null}load(e,i){e=e.blocks;for(const l of e)jl(l,i,{recordUndo:Lt()})}clear(e){for(const i of e.getTopBlocks(!1))i.dispose(!1)}};Pr("blocks",new Md);var rh={};rh.BlockSerializer=Md,rh.append=jl,rh.appendInternal=Xl,rh.save=ts;var Is=class{constructor(e){this.name=e}toString(){return this.name}equals(e){return this.name===e.toString()}};Is.MUTATOR=new Is("mutator"),Is.WARNING=new Is("warning"),Is.COMMENT=new Is("comment");var Ju=class extends S0{constructor(e){super(),this.isBlank=!e,e&&(this.blockId=e.id,this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new Ju),i.blockId=e.blockId,i}},Zu=class extends Ju{constructor(e,i,l,h,w){super(e),this.type=Tt.BLOCK_CHANGE,e&&(this.element=i,this.name=l||void 0,this.oldValue=h,this.newValue=w)}toJson(){const e=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,this.disabledReason&&(e.disabledReason=this.disabledReason),e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new Zu),i.element=e.element,i.name=e.name,i.oldValue=e.oldValue,i.newValue=e.newValue,e.disabledReason!==void 0&&(i.disabledReason=e.disabledReason),i}setDisabledReason(e){if(this.element!=="disabled")throw Error('Cannot set the disabled reason for a BlockChange event if the element is not "disabled".');this.disabledReason=e}isNull(){return this.oldValue===this.newValue}run(e){var i=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(i=i.getBlockById(this.blockId),!i)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");const l=i.getIcon(Is.MUTATOR);switch(l&&Oa(l)&&l.bubbleIsVisible()&&l.setBubbleVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(i=i.getField(this.name))?i.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":i.setCommentText(e||null);break;case"collapsed":i.setCollapsed(!!e);break;case"disabled":var h;i.setDisabledReason(!!e,(h=this.disabledReason)!=null?h:Tr);break;case"inline":i.setInputsInline(!!e);break;case"mutation":h=Zu.getExtraBlockState_(i),i.loadExtraState?i.loadExtraState(JSON.parse(e||"{}")):i.domToMutation&&i.domToMutation(r.textToDom$$module$build$src$core$utils$xml(e||"<mutation/>")),de(new Zu(i,"mutation",null,h,e));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(e){return e.saveExtraState?(e=e.saveExtraState(!0))?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?ds(e):""}};s(Xt.EVENT,Tt.BLOCK_CHANGE,Zu);var Nd={};Nd.clamp=La,Nd.toDegrees=qh,Nd.toRadians=Ra;var Od=16,Rd=1,a4=12,ap=16,u4=.25,up=null,Qu=null,cp="",ih="",ys,y1,ec,c4=null,bu=null,hp=null,Ld=null,sh=null,h4={getBoundsInfo:function(){const e=z(c4),i=$r(c4);return{left:e.x,right:e.x+i.width,top:e.y,bottom:e.y+i.height,width:i.width,height:i.height}},getPositionMetrics:function(e,i,l,h){const w=h4.getBoundsInfo(),L=$r(ys);return i+L.height<w.bottom?tu(e,i,w,L):h-L.height>w.top?Du(l,h,w,L):i+L.height<document.documentElement.clientHeight?tu(e,i,w,L):h-L.height>document.documentElement.clientTop?Du(l,h,w,L):Tl(e,w,L)}},jo={ANIMATION_TIME:u4,ARROW_HORIZONTAL_PADDING:a4,ARROW_SIZE:Od,BORDER_SIZE:Rd,PADDING_Y:ap,TEST_ONLY:h4};jo.clearContent=Yl,jo.createDom=Z0,jo.getContentDiv=Da,jo.getOwner=Oc,jo.getPositionX=x,jo.hide=ke,jo.hideIfOwner=me,jo.hideWithoutAnimation=Xe,jo.isVisible=O,jo.repositionForWindowResize=vt,jo.setBoundsElement=c0,jo.setColour=Rc,jo.show=Kl,jo.showPositionedByBlock=Lc,jo.showPositionedByField=Lu;var ki={};ki.commonWordPrefix=Jt,ki.commonWordSuffix=tn,ki.isNumber=r.isNumber$$module$build$src$core$utils$string,ki.shortestStringLength=Rt,ki.wrap=r.wrap$$module$build$src$core$utils$string;var _1=void 0,Dd=!1,oh=!1,Zm=50,Qm=0,lh=0,T1=0,tc=0,Ol=null,nc=null,Bd=0,N0=10,Za=10,E1=750,d4=5,co=null,Rl={HOVER_MS:E1,LIMIT:Zm,MARGINS:d4,OFFSET_X:Bd,OFFSET_Y:N0,RADIUS_OK:Za};Rl.bindMouseEvents=mr,Rl.block=jr,Rl.createDom=Fr,Rl.dispose=oi,Rl.getCustomTooltip=ur,Rl.getDiv=Wr,Rl.getTooltipOfObject=un,Rl.hide=Ii,Rl.isVisible=Cr,Rl.setCustomTooltip=er,Rl.unbindMouseEvents=ti,Rl.unblock=Xi;var f4=.45,p4=.65,e3={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},Ll={};Ll.blend=po,Ll.getHsvSaturation=wo,Ll.getHsvValue=Dr,Ll.hexToRgb=hs,Ll.hsvToHex=El,Ll.hueToHex=xo,Ll.names=e3,Ll.parse=ye,Ll.rgbToHex=Ni,Ll.setHsvSaturation=Ds,Ll.setHsvValue=gs;var w1={};w1.checkMessageReferences=lo,w1.parseBlockColour=Fi,w1.replaceMessageReferences=gr,w1.tokenizeInterpolation=$s;var Vi=class{get size_(){return this.size}set size_(e){this.size=e}constructor(e,i,l){this.DEFAULT_VALUE=null,this.name=void 0,this.tooltip=this.validator_=null,this.size=new Ir(0,0),this.constants_=this.mouseDownWrapper=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.id_=null,this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new Ir(0,0),e!==Vi.SKIP_SETUP&&(l&&this.configure_(l),this.setValue(e),i&&this.setValidator(i))}configure_(e){e.tooltip&&this.setTooltip(gr(e.tooltip))}setSourceBlock(e){if(this.sourceBlock_)throw Error("Field already bound to a block");if(this.sourceBlock_=e,e.id.includes("_field"))throw Error(`Field ID indicator is contained in block ID. This may cause problems with focus: ${e.id}.`);this.id_=`${e.id}_field_${De()}`}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){if(!this.fieldGroup_){var e=this.id_;if(!e)throw Error("Expected ID to be defined prior to init.");this.fieldGroup_=Ge(yt.G,{id:e}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip),this.bindEvents_(),this.initModel(),this.applyColour()}}initView(){this.createBorderRect_(),this.createTextElement_(),this.fieldGroup_&&Qt(this.fieldGroup_,"blocklyField")}initModel(){}isFullBlockField(){return!this.borderRect_}createBorderRect_(){this.borderRect_=Ge(yt.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=Ge(yt.TEXT,{class:"blocklyText blocklyFieldText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){const e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");mr(e),this.mouseDownWrapper=W(e,"pointerdown",this,this.onMouseDown_)}fromXml(e){this.setValue(e.textContent)}toXml(e){return e.textContent=this.getValue(),e}saveState(e){return e=this.saveLegacyState(Vi),e!==null?e:this.getValue()}loadState(e){this.loadLegacyState(Vi,e)||this.setValue(e)}saveLegacyState(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?(e=r.createElement$$module$build$src$core$utils$xml("field"),e.setAttribute("name",this.name||""),mt(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(e,i){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml?(this.fromXml(r.textToDom$$module$build$src$core$utils$xml(i)),!0):!1}dispose(){me(this),Zl(this);let e;(e=this.getSourceBlock())!=null&&e.isDeadOrDying()||cn(this.fieldGroup_),this.disposed=!0}updateEditable(){const e=this.fieldGroup_,i=this.getSourceBlock();this.EDITABLE&&e&&i&&(this.enabled_&&i.isEditable()?(Qt(e,"blocklyEditableField"),Cn(e,"blocklyNonEditableField")):(Qt(e,"blocklyNonEditableField"),Cn(e,"blocklyEditableField")))}setEnabled(e){this.enabled_=e,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==Vi.prototype.showEditor_}isClickableInFlyout(e){return!e}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}isVisible(){return this.visible_}setVisible(e){if(this.visible_!==e){this.visible_=e;var i=this.fieldGroup_;i&&(i.style.display=e?"block":"none")}}setValidator(e){this.validator_=e}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(e){this.isClickable()&&this.showEditor_(e)}showEditor_(e){}repositionForWindowResize(){return!1}updateSize_(e){const i=this.getConstants();e=e!==void 0?e:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let l=e*2,h=i.FIELD_TEXT_HEIGHT,w=0;this.textElement_&&(w=fi(this.textElement_),l+=w),this.isFullBlockField()||(h=Math.max(h,i.FIELD_BORDER_RECT_HEIGHT)),this.size_=new Ir(l,h),this.positionTextElement_(e,w),this.positionBorderRect_()}positionTextElement_(e,i){if(this.textElement_){var l=this.getConstants(),h=this.size_.height/2,w;this.textElement_.setAttribute("x",String((w=this.getSourceBlock())!=null&&w.RTL?this.size_.width-i-e:e)),this.textElement_.setAttribute("y",String(l.FIELD_TEXT_BASELINE_CENTER?h:h-l.FIELD_TEXT_HEIGHT/2+l.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){return this.isVisible()?(this.isDirty_&&(this.render_(),this.isDirty_=!1),this.size_):new Ir(0,0)}getScaledBBox(){let e;var i=this.getSourceBlock();if(!i)throw new to;if(this.isFullBlockField()){var l=this.sourceBlock_.getHeightWidth();const h=i.workspace.scale;e=this.getAbsoluteXY_(),i=(l.width+1)*h,l=(l.height+1)*h,bd?(e.x+=1.5*h,e.y+=1.5*h):(e.x-=.5*h,e.y-=.5*h)}else l=this.borderRect_.getBoundingClientRect(),e=z(this.borderRect_),i=l.width,l=l.height;return new xr(e.y,e.y+l,e.x,e.x+i)}onLocationChange(e){}getDisplayText_(){let e=this.getText();return e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+""),e=e.replace(/\s/g,Vi.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+=""),e}getText(){const e=this.getText_();return String(e!==null?e:this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&this.sourceBlock_.queueRender()}setValue(e,i=!0){if(e!==null){var l=r.getGroup$$module$build$src$core$events$utils();l||r.setGroup$$module$build$src$core$events$utils(!0);try{const Gt=this.doClassValidation_(e),Yn=this.processValidation(e,Gt,i);if(!(Yn instanceof Error)){var h,w=(h=this.getValidator())==null?void 0:h.call(this,Yn),L=this.processValidation(Yn,w,i);if(!(L instanceof Error)){var ce=this.sourceBlock_;if(!ce||!ce.disposed){var Ve=this.getValue();Ve===L?this.doValueUpdate_(L):(this.doValueUpdate_(L),i&&ce&&qt()&&de(new(Ut(Tt.BLOCK_CHANGE))(ce,"field",this.name||null,Ve,L)),this.isDirty_&&this.forceRerender())}}}}finally{r.setGroup$$module$build$src$core$events$utils(l)}}}processValidation(e,i,l){return i===null?(this.doValueInvalid_(e,l),this.isDirty_&&this.forceRerender(),Error()):i===void 0?e:i}getValue(){return this.value_}doClassValidation_(e){return e??null}doValueUpdate_(e){this.value_=e,this.isDirty_=!0}doValueInvalid_(e,i){}onMouseDown_(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}setTooltip(e){e||e===""||(e=this.sourceBlock_);const i=this.getClickTarget_();i?i.tooltip=e:this.tooltip=e}getTooltip(){const e=this.getClickTarget_();return un(e||{tooltip:this.tooltip})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return z(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let e=null;const i=this.getSourceBlock();if(!i)throw new to;const l=i.inputList;for(let h=0;h<i.inputList.length;h++){const w=l[h],L=w.fieldRow;for(let ce=0;ce<L.length;ce++)if(L[ce]===this){e=w;break}}return e}getFlipRtl(){return!1}onShortcut(e){return!1}getFocusableElement(){if(!this.fieldGroup_)throw Error("This field currently has no representative DOM element.");return this.fieldGroup_}getFocusableTree(){const e=this.getSourceBlock();if(!e)throw new to;return e.workspace}onNodeFocus(){const e=this.getSourceBlock();e.workspace.scrollBoundsIntoView(e.getBoundingRectangleWithoutChildren())}onNodeBlur(){}canBeFocused(){return!0}static fromJson(e){throw Error("Attempted to instantiate a field from the registry that hasn't defined a 'fromJson' method.")}};Vi.NBSP="",Vi.SKIP_SETUP=Symbol("SKIP_SETUP");var to=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}},rc=null,m4=null,g4=null,dp="blocklyWidgetDiv",O0="",x1="",Dl,Yr=null,oa={};oa.createDom=Jl,oa.getDiv=So,oa.hide=ul,oa.hideIfOwner=Zl,oa.hideIfOwnerIsInWorkspace=wl,oa.isVisible=Dc,oa.positionWithAnchor=No,oa.repositionForWindowResize=d0,oa.show=Ba,oa.testOnly_setDiv=ba;var ah=null,$4={},Pd=null,yu={};yu.callbackFactory=r.callbackFactory$$module$build$src$core$contextmenu,yu.dispose=Fc,yu.getCurrentBlock=Pa,yu.hide=ea,yu.setCurrentBlock=Bu,yu.show=f0;var Nr=class{constructor(){this.registeredItems=new Map,this.reset()}reset(){this.registeredItems.clear()}register(e){if(this.registeredItems.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registeredItems.set(e.id,e)}unregister(e){if(!this.registeredItems.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registeredItems.delete(e)}getItem(e){let i;return(i=this.registeredItems.get(e))!=null?i:null}getContextMenuOptions(e,i){const l=[];for(const h of this.registeredItems.values()){if(h.scopeType&&(h.scopeType===S1.BLOCK&&!e.block||h.scopeType===S1.COMMENT&&!e.comment||h.scopeType===S1.WORKSPACE&&!e.workspace))continue;let w;if(w={scope:e,weight:h.weight},h.separator)w=Object.assign({},w,{separator:!0});else{const L=h.preconditionFn(e,i);if(L==="hidden")continue;const ce=typeof h.displayText=="function"?h.displayText(e):h.displayText;w=Object.assign({},w,{text:ce,callback:h.callback,enabled:L==="enabled"})}l.push(w)}return l.sort(function(h,w){return h.weight-w.weight}),l}};(function(e){var i=e.ScopeType||(e.ScopeType={});i.BLOCK="block",i.WORKSPACE="workspace",i.COMMENT="comment",e.registry=new e})(Nr||(Nr={}));var S1=Nr.ScopeType,ic=50,Fd=100,F6={BLOCK:ic,BUBBLE:Fd},t3=class{constructor(e){this.comment=e,this.startLoc=null,this.workspace=e.workspace}isMovable(){return this.comment.isOwnMovable()&&!this.comment.isDeadOrDying()&&!this.workspace.isReadOnly()}startDrag(){this.fireDragStartEvent(),this.startLoc=this.comment.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.comment),this.comment.setDragging(!0)}drag(e){this.comment.moveDuringDrag(e)}endDrag(){this.fireDragEndEvent(),this.fireMoveEvent();let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.comment,ic),this.comment.setDragging(!1),this.comment.snapToGrid(),this.workspace.setResizesEnabled(!0)}fireDragStartEvent(){const e=new(Ut(Tt.COMMENT_DRAG))(this.comment,!0);de(e)}fireDragEndEvent(){const e=new(Ut(Tt.COMMENT_DRAG))(this.comment,!1);de(e)}fireMoveEvent(){if(!this.comment.isDeadOrDying()){var e=new(Ut(Tt.COMMENT_MOVE))(this.comment);e.setReason(["drag"]),e.oldCoordinate_=this.startLoc,e.recordNew(),de(e)}}revertDrag(){this.startLoc&&this.comment.moveDuringDrag(this.startLoc)}},fp=new WeakMap,Ud=class{constructor(e,i,l,h){this.id=e,this.workspace=i,this.container=l,this.commentView=h}isVisible(){return this.icon.checkVisibility()}getCommentView(){return this.commentView}getSize(e=!1){var i=this.icon.getBBox();return i=xr.from(i),e&&(e=this.getMargin(),i.left-=e,i.top-=e,i.bottom+=e,i.right+=e),i}getMargin(){return(this.container.getBBox().height-this.icon.getBBox().height)/2}getFocusableElement(){return this.icon}getFocusableTree(){return this.workspace}onNodeFocus(){const e=this.getCommentView();var i=e.getRelativeToSurfaceXY();const l=e.getSize();i=new xr(i.y,i.y+l.height,i.x,i.x+l.width),e.workspace.scrollBoundsIntoView(i)}onNodeBlur(){}canBeFocused(){return this.isVisible()}},ss="_collapse_bar_button",v4=class extends Ud{constructor(e,i,l,h){super(e,i,l,h),this.id=e,this.workspace=i,this.container=l,this.commentView=h,this.icon=Ge(yt.IMAGE,{class:"blocklyFoldoutIcon",href:`${this.workspace.options.pathToMedia}foldout-icon.svg`,id:`${this.id}${ss}`},this.container),this.bindId=W(this.icon,"pointerdown",this,this.performAction.bind(this))}dispose(){ie(this.bindId)}reposition(){const e=this.getMargin();this.icon.setAttribute("y",`${e}`),this.icon.setAttribute("x",`${e}`)}performAction(e){P(),this.getCommentView().bringToFront(),e&&e instanceof PointerEvent&&Y(e)?e.stopPropagation():(this.getCommentView().setCollapsed(!this.getCommentView().isCollapsed()),this.workspace.hideChaff(),e?.stopPropagation())}},Ao="_comment_textarea_",b4=class{constructor(e,i,l){this.workspace=e,this.onFinishEditing=l,this.textChangeListeners=[],this.text="",this.foreignObject=Ge(yt.FOREIGNOBJECT,{class:"blocklyCommentForeignObject"}),e=document.createElementNS(du,"body"),e.setAttribute("xmlns",du),e.className="blocklyMinimalBody",this.textArea=document.createElementNS(du,"textarea"),this.textArea.setAttribute("tabindex","-1"),this.textArea.setAttribute("dir",this.workspace.RTL?"RTL":"LTR"),Qt(this.textArea,"blocklyCommentText"),Qt(this.textArea,"blocklyTextarea"),Qt(this.textArea,"blocklyText"),e.appendChild(this.textArea),this.foreignObject.appendChild(e),i&&(this.id=i+Ao,this.textArea.setAttribute("id",this.id)),W(this.textArea,"change",this,this.onTextChange),W(this.textArea,"pointerdown",this,h=>{h.stopPropagation(),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this),P()}),W(this.textArea,"wheel",this,h=>{h.stopPropagation()}),W(this.textArea,"keydown",this,this.handleKeyDown)}getDom(){return this.foreignObject}getText(){return this.text}setText(e){this.textArea.value=e,this.onTextChange()}onTextChange(){const e=this.text;this.text=this.textArea.value;for(let i=this.textChangeListeners.length-1;i>=0;i--)this.textChangeListeners[i](e,this.text)}handleKeyDown(e){(e.key==="Escape"||e.key==="Enter"&&(e.ctrlKey||e.metaKey))&&(this.onFinishEditing&&this.onFinishEditing(),e.stopPropagation())}addTextChangeListener(e){this.textChangeListeners.push(e)}removeTextChangeListener(e){this.textChangeListeners.splice(this.textChangeListeners.indexOf(e),1)}setPlaceholderText(e){this.textArea.placeholder=e}setEditable(e){e?this.textArea.removeAttribute("readonly"):this.textArea.setAttribute("readonly","true")}updateSize(e,i){this.foreignObject.setAttribute("height",`${e.height-i.height}`),this.foreignObject.setAttribute("width",`${e.width}`),this.foreignObject.setAttribute("y",`${i.height}`),this.workspace.RTL&&this.foreignObject.setAttribute("x",`${-e.width}`)}getFocusableElement(){return this.textArea}getFocusableTree(){return this.workspace}onNodeFocus(){const e=xr.from(this.foreignObject.getBoundingClientRect());this.workspace.scrollBoundsIntoView(xr.createFromPoint(Me(this.workspace,e.getOrigin()),e.getWidth(),e.getHeight()))}onNodeBlur(){}canBeFocused(){return!!this.id}},pp="_delete_bar_button",n3=class extends Ud{constructor(e,i,l,h){super(e,i,l,h),this.id=e,this.workspace=i,this.container=l,this.commentView=h,this.icon=Ge(yt.IMAGE,{class:"blocklyDeleteIcon",href:`${this.workspace.options.pathToMedia}delete-icon.svg`,id:`${this.id}${pp}`},l),this.bindId=W(this.icon,"pointerdown",this,this.performAction.bind(this))}dispose(){ie(this.bindId)}reposition(){const e=this.getMargin();this.icon.setAttribute("x","0");const i=this.container.getBBox();this.icon.setAttribute("y",`${e}`),this.icon.setAttribute("x",`${i.width-this.getSize(!0).getWidth()}`)}performAction(e){P(),e&&e instanceof PointerEvent&&Y(e)?e.stopPropagation():(this.getCommentView().dispose(),e?.stopPropagation(),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.workspace))}},uh=class{constructor(e,i){this.workspace=e,this.commentId=i,this.collapsed=!1,this.editable=!0,this.location=new Zt(0,0),this.sizeChangeListeners=[],this.disposeListeners=[],this.collapseChangeListeners=[],this.resizePointerMoveListener=this.resizePointerUpListener=null,this.disposed=this.disposing=!1,this.svgRoot=Ge(yt.G,{class:"blocklyComment blocklyEditable blocklyDraggable"}),this.highlightRect=this.createHighlightRect(this.svgRoot),{topBarGroup:this.topBarGroup,topBarBackground:this.topBarBackground,deleteButton:this.deleteButton,foldoutButton:this.foldoutButton,textPreview:this.textPreview,textPreviewNode:this.textPreviewNode}=this.createTopBar(this.svgRoot),this.commentEditor=this.createTextArea(),this.resizeHandle=this.createResizeHandle(this.svgRoot,e);let l;(l=e.getLayerManager())==null||l.append(this,ic),this.size=uh.defaultCommentSize,this.setSizeWithoutFiringEvents(this.size),this.moveTo(new Zt(0,0))}createHighlightRect(e){return Ge(yt.RECT,{class:"blocklyCommentHighlight"},e)}createTopBar(e){e=Ge(yt.G,{class:"blocklyCommentTopbar"},e);const i=Ge(yt.RECT,{class:"blocklyCommentTopbarBackground"},e),l=new n3(this.commentId,this.workspace,e,this),h=new v4(this.commentId,this.workspace,e,this);this.addDisposeListener(()=>{l.dispose(),h.dispose()});const w=Ge(yt.TEXT,{class:"blocklyCommentPreview blocklyCommentText blocklyText"},e),L=document.createTextNode("");return w.appendChild(L),{topBarGroup:e,topBarBackground:i,deleteButton:l,foldoutButton:h,textPreview:w,textPreviewNode:L}}createTextArea(){const e=new b4(this.workspace,this.commentId,()=>this.svgRoot.focus());return this.svgRoot.appendChild(e.getDom()),e.addTextChangeListener((i,l)=>{this.updateTextPreview(l),this.setSize(this.size)}),e}getEditorFocusableNode(){return this.commentEditor}createResizeHandle(e,i){return e=Ge(yt.IMAGE,{class:"blocklyResizeHandle",href:`${i.options.pathToMedia}resize-handle.svg`},e),W(e,"pointerdown",this,this.onResizePointerDown),e}getSvgRoot(){return this.svgRoot}getSize(){return this.collapsed?this.topBarBackground.getBBox():this.size}setSizeWithoutFiringEvents(e){const i=this.topBarBackground.getBBox(),l=this.textPreview.getBBox(),h=this.resizeHandle.getBBox();this.size=e=Ir.max(e,this.calcMinSize(i)),this.svgRoot.setAttribute("height",`${e.height}`),this.svgRoot.setAttribute("width",`${e.width}`),this.updateHighlightRect(e),this.updateTopBarSize(e),this.commentEditor.updateSize(e,i),this.deleteButton.reposition(),this.foldoutButton.reposition(),this.updateTextPreviewSize(e,i,l),this.updateResizeHandlePosition(e,h)}setSize(e){const i=this.preResizeSize||this.size;this.setSizeWithoutFiringEvents(e),this.onSizeChange(i,this.size)}calcMinSize(e){var i;this.updateTextPreview((i=this.commentEditor.getText())!=null?i:"");let l=i=fi(this.textPreview);return this.foldoutButton.isVisible()?l+=this.foldoutButton.getSize(!0).getWidth():i&&(l+=4),this.deleteButton.isVisible()?l+=this.deleteButton.getSize(!0).getWidth():i&&(l+=4),new Ir(l,e.height+20)}updateHighlightRect(e){this.highlightRect.setAttribute("height",`${e.height}`),this.highlightRect.setAttribute("width",`${e.width}`),this.workspace.RTL&&this.highlightRect.setAttribute("x",`${-e.width}`)}updateTopBarSize(e){this.topBarBackground.setAttribute("width",`${e.width}`)}updateTextPreviewSize(e,i,l){i=(i.height-l.height)/2;const h=this.foldoutButton.getSize(!0),w=this.deleteButton.getSize(!0);e=e.width-h.getWidth()-w.getWidth(),this.textPreview.setAttribute("x",`${(this.workspace.RTL?-1:1)*h.getWidth()}`),this.textPreview.setAttribute("y",`${i+l.height/2}`),this.textPreview.setAttribute("width",`${e}`)}updateResizeHandlePosition(e,i){this.resizeHandle.setAttribute("y",`${e.height-i.height}`),this.resizeHandle.setAttribute("x",`${e.width-i.width}`)}onSizeChange(e,i){for(let l=this.sizeChangeListeners.length-1;l>=0;l--)this.sizeChangeListeners[l](e,i)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}removeSizeChangeListener(e){this.sizeChangeListeners.splice(this.sizeChangeListeners.indexOf(e),1)}onResizePointerDown(e){this.isEditable()&&(this.bringToFront(),Y(e)||(this.preResizeSize=this.getSize(),Oo(this.workspace,e,new Zt(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=W(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=W(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation())}onResizePointerUp(e){P(),this.resizePointerUpListener&&(ie(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(ie(this.resizePointerMoveListener),this.resizePointerMoveListener=null),this.setSize(this.size),this.preResizeSize=void 0}onResizePointerMove(e){e=el(this.workspace,e),this.setSizeWithoutFiringEvents(new Ir(this.workspace.RTL?-e.x:e.x,e.y))}isCollapsed(){return this.collapsed}setCollapsed(e){(this.collapsed=e)?Qt(this.svgRoot,"blocklyCollapsed"):Cn(this.svgRoot,"blocklyCollapsed"),this.setSizeWithoutFiringEvents(this.size),this.onCollapse()}onCollapse(){for(let e=this.collapseChangeListeners.length-1;e>=0;e--)this.collapseChangeListeners[e](this.collapsed)}addOnCollapseListener(e){this.collapseChangeListeners.push(e)}removeOnCollapseListener(e){this.collapseChangeListeners.splice(this.collapseChangeListeners.indexOf(e),1)}isEditable(){return this.editable}setEditable(e){(this.editable=e)?(Qt(this.svgRoot,"blocklyEditable"),Cn(this.svgRoot,"blocklyReadonly")):(Cn(this.svgRoot,"blocklyEditable"),Qt(this.svgRoot,"blocklyReadonly")),this.commentEditor.setEditable(e)}getRelativeToSurfaceXY(){return this.location}moveTo(e){this.location=e,this.svgRoot.setAttribute("transform",`translate(${e.x}, ${e.y})`)}getText(){return this.commentEditor.getText()}setText(e){this.commentEditor.setText(e)}setPlaceholderText(e){this.commentEditor.setPlaceholderText(e)}addTextChangeListener(e){this.commentEditor.addTextChangeListener(e)}removeTextChangeListener(e){this.commentEditor.removeTextChangeListener(e)}updateTextPreview(e){this.textPreviewNode.textContent=this.truncateText(e)}truncateText(e){return e.length>=12?`${e.substring(0,9)}...`:e}bringToFront(){const e=this.svgRoot.parentNode,i=e.childNodes;i[i.length-1]!==this.svgRoot&&e.appendChild(this.svgRoot)}onDeleteDown(e){P(),Y(e)||this.dispose(),e.stopPropagation()}dispose(){this.disposing=!0,cn(this.svgRoot);for(let e=this.disposeListeners.length-1;e>=0;e--)this.disposeListeners[e]();this.disposeListeners.length=0,this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}addDisposeListener(e){this.disposeListeners.push(e)}removeDisposeListener(e){this.disposeListeners.splice(this.disposeListeners.indexOf(e),1)}getCommentBarButtons(){return[this.foldoutButton,this.deleteButton]}};uh.defaultCommentSize=new Ir(120,100),mn(`
.injectionDiv {
  --commentFillColour: #FFFCC7;
  --commentBorderColour: #F2E49B;
}

.blocklyComment .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 1px solid var(--commentBorderColour);
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}

.blocklyReadonly.blocklyComment .blocklyTextarea {
  cursor: inherit;
}

.blocklyDeleteIcon {
  width: 20px;
  height: 20px;
  display: none;
  cursor: pointer;
}

.blocklyFoldoutIcon {
  width: 20px;
  height: 20px;
  transform-origin: 12px 12px;
  cursor: pointer;
}
.blocklyResizeHandle {
  width: 12px;
  height: 12px;
  cursor: se-resize;
}
.blocklyReadonly.blocklyComment .blocklyResizeHandle {
  cursor: inherit;
}

.blocklyCommentTopbarBackground {
  fill: var(--commentBorderColour);
  height: 24px;
}

.blocklyComment .blocklyCommentPreview.blocklyText {
  fill: #000;
  dominant-baseline: middle;
  visibility: hidden;
}

.blocklyCollapsed.blocklyComment .blocklyCommentPreview {
  visibility: visible;
}

.blocklyCollapsed.blocklyComment .blocklyCommentForeignObject,
.blocklyCollapsed.blocklyComment .blocklyResizeHandle {
  display: none;
}

.blocklyCollapsed.blocklyComment .blocklyFoldoutIcon {
  transform: rotate(-90deg);
}

.blocklyRTL .blocklyCommentTopbar {
  transform: scale(-1, 1);
}

.blocklyRTL .blocklyCommentForeignObject {
  direction: rtl;
}

.blocklyRTL .blocklyCommentPreview {
  /* Revert the scale and control RTL using direction instead. */
  transform: scale(-1, 1);
  direction: rtl;
}

.blocklyRTL .blocklyResizeHandle {
  transform: scale(-1, 1);
  cursor: sw-resize;
}

.blocklyCommentHighlight {
  fill: none;
}

.blocklyCommentText.blocklyActiveFocus {
  border-color: #fc3;
  border-width: 2px;
}

.blocklySelected .blocklyCommentHighlight {
  stroke: #fc3;
  stroke-width: 3px;
}

.blocklyCollapsed.blocklySelected .blocklyCommentHighlight {
  stroke: none;
}

.blocklyCollapsed.blocklySelected .blocklyCommentTopbarBackground {
  stroke: #fc3;
  stroke-width: 3px;
}
`);var k1=class{constructor(e,i){this.workspace=e,this.text="",this.collapsed=!1,this.deletable=this.movable=this.editable=!0,this.location=new Zt(0,0),this.disposing=this.disposed=!1,this.id=i&&!e.getCommentById(i)?i:Ue(),this.size=uh.defaultCommentSize,e.addTopComment(this),this.fireCreateEvent()}fireCreateEvent(){qt()&&de(new(Ut(Tt.COMMENT_CREATE))(this))}fireDeleteEvent(){qt()&&de(new(Ut(Tt.COMMENT_DELETE))(this))}fireChangeEvent(e,i){qt()&&de(new(Ut(Tt.COMMENT_CHANGE))(this,e,i))}fireCollapseEvent(e){qt()&&de(new(Ut(Tt.COMMENT_COLLAPSE))(this,e))}setText(e){const i=this.text;this.text=e,this.fireChangeEvent(i,e)}getText(){return this.text}setSize(e){const i=new(Ut(Tt.COMMENT_RESIZE))(this);this.size=e,i.recordCurrentSizeAsNewSize(),de(i)}getSize(){return this.size}setCollapsed(e){this.collapsed=e,this.fireCollapseEvent(e)}isCollapsed(){return this.collapsed}setEditable(e){this.editable=e}isEditable(){return this.isOwnEditable()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setMovable(e){this.movable=e}isMovable(){return this.isOwnMovable()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnMovable(){return this.movable}setDeletable(e){this.deletable=e}isDeletable(){return this.isOwnDeletable()&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnDeletable(){return this.deletable}moveTo(e,i){const l=new(Ut(Tt.COMMENT_MOVE))(this);i&&l.setReason(i),this.location=e,l.recordNew(),de(l)}getRelativeToSurfaceXY(){return this.location}dispose(){this.disposing=!0,this.fireDeleteEvent(),this.workspace.removeTopComment(this),this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}},xa=class extends k1{constructor(e,i){super(e,i),this.dragStrategy=new t3(this),this.workspace=e,this.view=new uh(e,this.id),this.view.setSize(this.getSize()),this.view.setEditable(this.isEditable()),this.view.getSvgRoot().setAttribute("data-id",this.id),this.view.getSvgRoot().setAttribute("id",this.id),this.addModelUpdateBindings(),W(this.view.getSvgRoot(),"pointerdown",this,this.startGesture)}addModelUpdateBindings(){this.view.addTextChangeListener((e,i)=>void super.setText(i)),this.view.addSizeChangeListener((e,i)=>void super.setSize(i)),this.view.addOnCollapseListener(()=>void super.setCollapsed(this.view.isCollapsed())),this.view.addDisposeListener(()=>{this.isDeadOrDying()||this.dispose()})}setText(e){this.view.setText(e)}setPlaceholderText(e){this.view.setPlaceholderText(e)}setSize(e){this.view.setSize(e)}setCollapsed(e){this.view.setCollapsed(e)}setEditable(e){super.setEditable(e),this.view.setEditable(this.isEditable())}getSvgRoot(){return this.view.getSvgRoot()}getSize(){return super.getSize()}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY();var i,l;const h=(l=(i=this.view)==null?void 0:i.getSize())!=null?l:this.getSize();return this.workspace.RTL?(i=e.x-h.width,l=e.x):(i=e.x,l=e.x+h.width),new xr(e.y,e.y+h.height,i,l)}moveBy(e,i,l){const h=this.getRelativeToSurfaceXY();e=new Zt(h.x+e,h.y+i),this.moveTo(e,l)}moveTo(e,i){super.moveTo(e,i),this.view.moveTo(e)}moveDuringDrag(e){this.location=e,this.view.moveTo(e)}setDragging(e){e?Qt(this.getSvgRoot(),"blocklyDragging"):Cn(this.getSvgRoot(),"blocklyDragging")}dispose(){this.disposing=!0;const e=r.getFocusManager$$module$build$src$core$focus_manager();e.getFocusedNode()===this&&setTimeout(()=>e.focusTree(this.workspace),0),this.view.isDeadOrDying()||this.view.dispose(),super.dispose()}startGesture(e){const i=this.workspace.getGesture(e);i&&(i.handleCommentStart(e,this),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this))}setDeleteStyle(e){e?Qt(this.getSvgRoot(),"blocklyDraggingDelete"):Cn(this.getSvgRoot(),"blocklyDraggingDelete")}isCopyable(){return this.isOwnMovable()&&this.isOwnDeletable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){Qt(this.getSvgRoot(),"blocklySelected"),Ht(this)}unselect(){Cn(this.getSvgRoot(),"blocklySelected"),Ht(null)}toCopyData(){return{paster:mu.TYPE,commentState:Te(this,{addCoordinates:!0,saveIds:!1})}}showContextMenu(e){const i=Nr.registry.getContextMenuOptions({comment:this,focusedNode:this},e);let l;l=e instanceof PointerEvent?new Zt(e.clientX,e.clientY):Qe(this.workspace,this.getRelativeToSurfaceXY()).translate(10,10),f0(e,i,this.workspace.RTL,this.workspace,l)}snapToGrid(){if(!this.isDeadOrDying()){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var i=this.getRelativeToSurfaceXY();e=e.alignXY(i),e!==i&&this.moveTo(e,["snap"])}}}getEditorFocusableNode(){return this.view.getEditorFocusableNode()}getFocusableElement(){return this.getSvgRoot()}getFocusableTree(){return this.workspace}onNodeFocus(){this.select();let e;(e=this.workspace.getLayerManager())==null||e.append(this,ic),this.workspace.scrollBoundsIntoView(this.getBoundingRectangle())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}},Xo={};Xo.appendDomToWorkspace=Js,Xo.blockToDom=ta,Xo.blockToDomWithXY=Go,Xo.clearWorkspaceAndLoadFromXml=Jr,Xo.deleteNext=ra,Xo.domToBlock=r.domToBlock$$module$build$src$core$xml,Xo.domToBlockInternal=_a,Xo.domToPrettyText=ns,Xo.domToText=ds,Xo.domToVariables=Ta,Xo.domToWorkspace=r.domToWorkspace$$module$build$src$core$xml,Xo.loadWorkspaceComment=Ua,Xo.saveWorkspaceComment=tl,Xo.variablesToDom=hl,Xo.workspaceToDom=ya;var y4=class extends Ju{constructor(e){super(e),this.type=Tt.BLOCK_CREATE,e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=Go(e),this.ids=En(e),this.json=ts(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=ds(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new y4),i.xml=r.textToDom$$module$build$src$core$utils$xml(e.xml),i.ids=e.ids,i.json=e.json,e.recordUndo!==void 0&&(i.recordUndo=e.recordUndo),i}run(e){const i=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!mp(i,this.ids))if(e)jl(this.json,i);else for(e=0;e<this.ids.length;e++){const l=this.ids[e],h=i.getBlockById(l);h?h.dispose(!1):l===this.blockId&&console.warn("Can't uncreate non-existent block: "+l)}}},mp=function(e,i){return i.map(l=>e.getBlockById(l)).filter(l=>l&&l.isShadow()).length===i.length};s(Xt.EVENT,Tt.BLOCK_CREATE,y4);var zd=class extends Si{constructor(e,i){super(i),this.type=Tt.THEME_CHANGE,this.themeName=e}toJson(){const e=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new zd),i.themeName=e.themeName,i}};s(Xt.EVENT,Tt.THEME_CHANGE,zd);var gp=class extends Si{constructor(e,i,l,h,w){super(h),this.type=Tt.VIEWPORT_CHANGE,this.viewTop=e,this.viewLeft=i,this.scale=l,this.oldScale=w}toJson(){const e=super.toJson();if(this.viewTop===void 0)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(this.viewLeft===void 0)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(this.scale===void 0)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(this.oldScale===void 0)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new gp),i.viewTop=e.viewTop,i.viewLeft=e.viewLeft,i.scale=e.scale,i.oldScale=e.oldScale,i}};s(Xt.EVENT,Tt.VIEWPORT_CHANGE,gp);var $p={fromJsonInternal:Pu},_4={TEST_ONLY:$p};_4.fromJson=r.fromJson$$module$build$src$core$field_registry,_4.register=dl,_4.unregister=Ha;var Po=class extends Vi{constructor(e,i,l){super(Vi.SKIP_SETUP),this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null,this.SERIALIZABLE=!0,this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null,e!==Vi.SKIP_SETUP&&(this.setOptions(e),l&&this.configure_(l),i&&this.setValidator(i))}fromXml(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}loadState(e){this.loadLegacyState(Po,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement=Ge(yt.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&Qt(this.borderRect_,"blocklyDropdownRect"),this.fieldGroup_&&(Qt(this.fieldGroup_,"blocklyField"),Qt(this.fieldGroup_,"blocklyDropdownField"))}shouldAddBorderRect_(){let e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!((e=this.getSourceBlock())!=null&&e.isShadow())}createTextArrow_(){this.arrow=Ge(yt.TSPAN,{},this.textElement_);let e;this.arrow.appendChild(document.createTextNode((e=this.getSourceBlock())!=null&&e.RTL?Po.ARROW_CHAR+" ":" "+Po.ARROW_CHAR)),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.arrow.setAttribute("dominant-baseline","central");let i;(i=this.getSourceBlock())!=null&&i.RTL?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=Ge(yt.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow.setAttributeNS(gl,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(e){var i=this.getSourceBlock();if(!i)throw new to;this.dropdownCreate(),this.menu_&&(this.menu_.openingCoords=e&&typeof e.clientX=="number"?new Zt(e.clientX,e.clientY):null,Yl(),e=this.menu_.render(Da()),Qt(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(i=i.getColour(),e=this.sourceBlock_.getColourTertiary(),Rc(i,e)),Lu(this,this.dropdownDispose_.bind(this)),Da().style.height=`${this.menu_.getSize().height}px`,this.menu_.focus(),this.selectedMenuItem&&this.menu_.setHighlighted(this.selectedMenuItem),this.applyColour())}dropdownCreate(){const e=this.getSourceBlock();if(!e)throw new to;const i=new rp;i.setRole(Il.LISTBOX),this.menu_=i;const l=this.getOptions(!1);this.selectedMenuItem=null;for(let w=0;w<l.length;w++){var h=l[w];if(h===Po.SEPARATOR){i.addChild(new Ri);continue}const[L,ce]=h;fl(L)?(h=new Image(L.width,L.height),h.src=L.src,h.alt=L.alt):h=L,h=new r4(h,ce),h.setRole(Il.OPTION),h.setRightToLeft(e.RTL),h.setCheckable(!0),i.addChild(h),h.setChecked(ce===this.value_),ce===this.value_&&(this.selectedMenuItem=h),h.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem=this.menu_=null,this.applyColour()}handleMenuActionEvent(e){me(this,!0),this.onItemSelected_(this.menu_,e)}onItemSelected_(e,i){this.setValue(i.getValue())}isOptionListDynamic(){return typeof this.menuGenerator_=="function"}getOptions(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:e&&this.generatedOptions?this.generatedOptions:(this.generatedOptions=this.menuGenerator_(),this.validateOptions(this.generatedOptions),this.generatedOptions)}setOptions(e){Array.isArray(e)?(this.validateOptions(e),e=this.trimOptions(e),this.menuGenerator_=e.options,this.prefixField=e.prefix||null,this.suffixField=e.suffix||null):this.menuGenerator_=e,this.selectedOption=this.getOptions(!1)[0],this.setValue(this.selectedOption[1])}doClassValidation_(e){return this.getOptions(!0).some(i=>i[1]===e)?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}doValueUpdate_(e){super.doValueUpdate_(e),e=this.getOptions(!0);for(let i=0,l;l=e[i];i++)l[1]===this.value_&&(this.selectedOption=l)}applyColour(){const e=this.sourceBlock_;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.getColourTertiary()),this.menu_?this.borderRect_.setAttribute("fill",e.getColourTertiary()):this.borderRect_.setAttribute("fill","transparent")),e&&this.arrow&&(e.isShadow()?this.arrow.style.fill=e.getColourSecondary():this.arrow.style.fill=e.getColour())}render_(){this.getTextContent().nodeValue="",this.imageElement.style.display="none";const e=this.selectedOption&&this.selectedOption[0];fl(e)?this.renderSelectedImage(e):this.renderSelectedText(),this.positionBorderRect_()}renderSelectedImage(e){const i=this.getSourceBlock();if(!i)throw new to;this.imageElement.style.display="",this.imageElement.setAttributeNS(gl,"xlink:href",e.src),this.imageElement.setAttribute("height",String(e.height)),this.imageElement.setAttribute("width",String(e.width));const l=Number(e.height);e=Number(e.width);var h=!!this.borderRect_;const w=Math.max(h?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,l+Po.IMAGE_Y_PADDING);h=h?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let L;L=this.svgArrow?this.positionSVGArrow(e+h,w/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):fi(this.arrow),this.size_=new Ir(e+L+h*2,w);let ce=0;i.RTL?this.imageElement.setAttribute("x",`${h+L}`):(ce=e+L,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement.setAttribute("x",`${h}`)),this.imageElement.setAttribute("y",String(w/2-l/2)),this.positionTextElement_(ce+h,e+L)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();Qt(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var i=!!this.borderRect_;e=Math.max(i?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const l=fi(this.getTextElement());i=i?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let h=0;this.svgArrow&&(h=this.positionSVGArrow(l+i,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_=new Ir(l+h+i*2,e),this.positionTextElement_(i,l)}positionSVGArrow(e,i){if(!this.svgArrow)return 0;const l=this.getSourceBlock();if(!l)throw new to;const h=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,w=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,L=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow.setAttribute("transform","translate("+(l.RTL?h:e+w)+","+i+")"),L+w}getText_(){if(!this.selectedOption)return null;const e=this.selectedOption[0];if(fl(e))return e.alt;if(typeof HTMLElement<"u"&&e instanceof HTMLElement){let i,l;return(l=(i=e.title)!=null?i:e.ariaLabel)!=null?l:e.innerText}return typeof e=="string"?e:(console.warn("Can't get text for existing dropdown option. If you're using HTMLElement dropdown options in node, ensure you're using jsdom-global or similar."),null)}static fromJson(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}trimOptions(e){let i=!1;const l=e.map(ce=>{if(ce===Po.SEPARATOR)return i=!0,ce;const[Ve,Gt]=ce;return typeof Ve=="string"?[gr(Ve),Gt]:(i=!0,[fl(Ve)?Object.assign({},Ve,{alt:gr(Ve.alt)}):Ve,Gt])});if(i||e.length<2)return{options:l};var h=l.map(([ce])=>ce),w=Rt(h);e=Jt(h,w);const L=tn(h,w);return!e&&!L||w<=e+L?{options:l}:(w=e?h[0].substring(0,e-1):void 0,h=L?h[0].substr(1-L):void 0,{options:this.applyTrim(l,e,L),prefix:w,suffix:h})}applyTrim(e,i,l){return e.map(([h,w])=>[h.substring(i,h.length-l),w])}validateOptions(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");let i=!1;for(let l=0;l<e.length;l++){const h=e[l];Array.isArray(h)||h===Po.SEPARATOR?typeof h[1]!="string"?(i=!0,console.error(`Invalid option[${l}]: Each FieldDropdown option id must be a string.
          Found ${h[1]} in: ${h}`)):!h[0]||typeof h[0]=="string"||fl(h[0])||typeof HTMLElement<"u"&&h[0]instanceof HTMLElement||(i=!0,console.error(`Invalid option[${l}]: Each FieldDropdown option must have a string
          label, image description, or HTML element. Found ${h[0]} in: ${h}`)):(i=!0,console.error(`Invalid option[${l}]: Each FieldDropdown option must be an array or
          the string literal 'separator'. Found: ${h}`))}if(i)throw TypeError("Found invalid FieldDropdown options.")}};Po.SEPARATOR="separator",Po.ARROW_CHAR="",Po.IMAGE_Y_OFFSET=5,Po.IMAGE_Y_PADDING=Po.IMAGE_Y_OFFSET*2,dl("field_dropdown",Po);var ch=class{constructor(e,i,l,h){this.name=e,this.startHats=!1,this.blockStyles=i||Object.create(null),this.categoryStyles=l||Object.create(null),this.componentStyles=h||Object.create(null),this.fontStyle=Object.create(null),s(Xt.THEME,e,this,!0)}getClassName(){return this.name+"-theme"}setBlockStyle(e,i){this.blockStyles[e]=i}setCategoryStyle(e,i){this.categoryStyles[e]=i}getComponentStyle(e){if(e=this.componentStyles[e],!e)return null;if(typeof e=="string"){const i=this.getComponentStyle(e);if(i)return i}return`${e}`}setComponentStyle(e,i){this.componentStyles[e]=i}setFontStyle(e){this.fontStyle=e}setStartHats(e){this.startHats=e}static defineTheme(e,i){e=e.toLowerCase();const l=new ch(e);let h=i.base;if(h){if(typeof h=="string"){let w;h=(w=v(Xt.THEME,h))!=null?w:void 0}h instanceof ch&&(qe(l,h),l.name=e)}return qe(l.blockStyles,i.blockStyles),qe(l.categoryStyles,i.categoryStyles),qe(l.componentStyles,i.componentStyles),qe(l.fontStyle,i.fontStyle),i.startHats!==null&&(l.startHats=i.startHats),l}},U6={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},sc={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},Hd=new ch("classic",U6,sc),Qa=class{constructor(e){this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let i=null,l=!1;var h=!1,w=!1,L=!1,ce=!1,Ve=!1;const Gt=!!e.readOnly;if(!Gt){var Yn;i=Vt((Yn=e.toolbox)!=null?Yn:null),l=Fn(i),h=e.trashcan,h=h===void 0?l:h,w=e.collapse,w=w===void 0?l:w,L=e.comments,L=L===void 0?l:L,ce=e.disable,ce=ce===void 0?l:ce,Ve=e.sounds,Ve=Ve===void 0?!0:Ve}Yn=e.maxTrashcanContents,h?Yn===void 0&&(Yn=32):Yn=0;const no=!!e.rtl;let _s=e.horizontalLayout;_s===void 0&&(_s=!1);var yl=e.toolboxPosition!=="end";yl=_s?yl?Mr.TOP:Mr.BOTTOM:yl===no?Mr.RIGHT:Mr.LEFT;let vh=e.css;vh===void 0&&(vh=!0);let mc="https://blockly-demo.appspot.com/static/media/";e.media&&(mc=e.media.endsWith("/")?e.media:e.media+"/");const rb=e.oneBasedIndex,CA=e.renderer||"geras",AA=e.plugins||{};let $7=e.modalInputs;$7===void 0&&($7=!0),this.RTL=no,this.oneBasedIndex=rb===void 0?!0:rb,this.collapse=w,this.comments=L,this.disable=ce,this.readOnly=Gt,this.maxBlocks=e.maxBlocks||1/0;let ib;this.maxInstances=(ib=e.maxInstances)!=null?ib:null,this.modalInputs=$7,this.pathToMedia=mc,this.hasCategories=l,this.moveOptions=Qa.parseMoveOptions(e,l),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=h,this.maxTrashcanContents=Yn,this.hasSounds=Ve,this.hasCss=vh,this.horizontalLayout=_s,this.languageTree=i,this.gridOptions=Qa.parseGridOptions(e),this.zoomOptions=Qa.parseZoomOptions(e),this.toolboxPosition=yl,this.theme=Qa.parseThemeOptions(e),this.renderer=CA;let sb;this.rendererOverrides=(sb=e.rendererOverrides)!=null?sb:null;let ob;this.parentWorkspace=(ob=e.parentWorkspace)!=null?ob:null,this.plugins=AA}static parseMoveOptions(e,i){const l=e.move||{},h={};return l.scrollbars===void 0&&e.scrollbars===void 0?h.scrollbars=i:typeof l.scrollbars=="object"?(h.scrollbars={horizontal:!!l.scrollbars.horizontal,vertical:!!l.scrollbars.vertical},h.scrollbars.horizontal&&h.scrollbars.vertical?h.scrollbars=!0:h.scrollbars.horizontal||h.scrollbars.vertical||(h.scrollbars=!1)):h.scrollbars=!!l.scrollbars||!!e.scrollbars,h.wheel=h.scrollbars&&l.wheel!==void 0?!!l.wheel:typeof h.scrollbars=="object",h.drag=h.scrollbars?l.drag===void 0?!0:!!l.drag:!1,h}static parseZoomOptions(e){e=e.zoom||{};const i={};return i.controls=e.controls===void 0?!1:!!e.controls,i.wheel=e.wheel===void 0?!1:!!e.wheel,i.startScale=e.startScale===void 0?1:Number(e.startScale),i.maxScale=e.maxScale===void 0?3:Number(e.maxScale),i.minScale=e.minScale===void 0?.3:Number(e.minScale),i.scaleSpeed=e.scaleSpeed===void 0?1.2:Number(e.scaleSpeed),i.pinch=e.pinch===void 0?i.wheel||i.controls:!!e.pinch,i}static parseGridOptions(e){e=e.grid||{};const i={};return i.spacing=Number(e.spacing)||0,i.colour=e.colour||"#888",i.length=e.length===void 0?1:Number(e.length),i.snap=i.spacing>0&&!!e.snap,i}static parseThemeOptions(e){return e=e.theme||Hd,typeof e=="string"?v(Xt.THEME,e):e instanceof ch?e:ch.defineTheme(e.name||"builtin"+De(),e)}},T4=class{constructor(e,i){this.bubble=e,this.workspace=i,this.startLoc=null}isMovable(){return!0}startDrag(){this.startLoc=this.bubble.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.bubble),this.bubble.setDragging&&this.bubble.setDragging(!0)}drag(e){this.bubble.moveDuringDrag(e)}endDrag(){this.workspace.setResizesEnabled(!0);let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.bubble,Fd),this.bubble.setDragging(!1)}revertDrag(){this.startLoc&&this.bubble.moveDuringDrag(this.startLoc)}},la,Gi=class{constructor(e,i,l,h,w){this.workspace=e,this.anchor=i,this.ownerRect=l,this.owner=w,this.size=new Ir(0,0),this.colour="#ffffff",this.disposed=!1,this.relativeLeft=this.relativeTop=0,this.dragStrategy=new T4(this,this.workspace),this.id=De(),this.svgRoot=Ge(yt.G,{class:"blocklyBubble"},e.getBubbleCanvas()),e=Ge(yt.G,{class:"blocklyEmboss"},this.svgRoot),this.tail=Ge(yt.PATH,{class:"blocklyBubbleTail"},e),this.background=Ge(yt.RECT,{class:"blocklyDraggable",x:0,y:0,rx:la.BORDER_WIDTH,ry:la.BORDER_WIDTH},e),this.contentContainer=Ge(yt.G,{},this.svgRoot),this.focusableElement=h??this.svgRoot,this.focusableElement.setAttribute("id",this.id),W(this.background,"pointerdown",this,this.onMouseDown),W(this.focusableElement,"keydown",this,this.onKeyDown)}dispose(){cn(this.svgRoot),this.disposed=!0}setAnchorLocation(e,i=!1){this.anchor=e,i?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}setPositionRelativeToAnchor(e,i){this.relativeLeft=e,this.relativeTop=i,this.positionRelativeToAnchor(),this.renderTail()}getSize(){return this.size}setSize(e,i=!1){e.width=Math.max(e.width,la.MIN_SIZE),e.height=Math.max(e.height,la.MIN_SIZE),this.size=e,this.background.setAttribute("width",`${e.width}`),this.background.setAttribute("height",`${e.height}`),i?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}getColour(){return this.colour}setColour(e){this.colour=e,this.tail.setAttribute("fill",e),this.background.setAttribute("fill",e)}onMouseDown(e){let i;(i=this.workspace.getGesture(e))==null||i.handleBubbleStart(e,this),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)}onKeyDown(e){e.key==="Escape"&&this.owner&&(this.owner.setBubbleVisible(!1),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.owner))}positionRelativeToAnchor(){let e=this.anchor.x;e=this.workspace.RTL?e-(this.relativeLeft+this.size.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchor.y)}moveTo(e,i){this.svgRoot.setAttribute("transform",`translate(${e}, ${i})`)}positionByRect(e=new xr(0,0,0,0)){var i=this.workspace.getMetricsManager().getViewMetrics(!0),l=this.getOptimalRelativeLeft(i),h=this.getOptimalRelativeTop(i);const w={x:l,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},L={x:-this.size.width-30,y:h};h={x:e.getWidth(),y:h};var ce={x:l,y:e.getHeight()};l=e.getWidth()<e.getHeight()?h:ce,e=e.getWidth()<e.getHeight()?ce:h,h=this.getOverlap(w,i),ce=this.getOverlap(L,i);const Ve=this.getOverlap(l,i);i=this.getOverlap(e,i),i=Math.max(h,ce,Ve,i),h===i?(this.relativeLeft=w.x,this.relativeTop=w.y):ce===i?(this.relativeLeft=L.x,this.relativeTop=L.y):Ve===i?(this.relativeLeft=l.x,this.relativeTop=l.y):(this.relativeLeft=e.x,this.relativeTop=e.y),this.positionRelativeToAnchor()}getOverlap(e,i){var l=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x+this.anchor.x;return e=e.y+this.anchor.y,Math.max(0,Math.min(1,(Math.min(l+this.size.width,i.left+i.width)-Math.max(l,i.left))*(Math.min(e+this.size.height,i.top+i.height)-Math.max(e,i.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(e){let i=-this.size.width/4;if(this.size.width>e.width)return i;if(e=this.getWorkspaceViewRect(e),this.workspace.RTL){var l=this.anchor.x-i;l-this.size.width<e.left?i=-(e.left-this.anchor.x+this.size.width):l>e.right&&(i=-(e.right-this.anchor.x))}else{l=i+this.anchor.x;const h=l+this.size.width;l<e.left?i=e.left-this.anchor.x:h>e.right&&(i=e.right-this.anchor.x-this.size.width)}return i}getOptimalRelativeTop(e){let i=-this.size.height/4;if(this.size.height>e.height)return i;const l=this.anchor.y+i,h=l+this.size.height;return e=this.getWorkspaceViewRect(e),l<e.top?i=e.top-this.anchor.y:h>e.bottom&&(i=e.bottom-this.anchor.y-this.size.height),i}getWorkspaceViewRect(e){const i=e.top;let l=e.top+e.height,h=e.left;return e=e.left+e.width,l-=this.getScrollbarThickness(),this.workspace.RTL?h-=this.getScrollbarThickness():e-=this.getScrollbarThickness(),new xr(i,l,h,e)}getScrollbarThickness(){return Bs.scrollbarThickness/this.workspace.scale}renderTail(){const e=[];var i=this.size.width/2,l=this.size.height/2,h=-this.relativeLeft,w=-this.relativeTop;if(i===h&&l===w)e.push("M "+i+","+l);else{w-=l,h-=i,this.workspace.RTL&&(h*=-1);var L=Math.sqrt(w*w+h*h),ce=Math.acos(h/L);w<0&&(ce=2*Math.PI-ce);var Ve=ce+Math.PI/2;Ve>Math.PI*2&&(Ve-=Math.PI*2);var Gt=Math.sin(Ve);const no=Math.cos(Ve);let _s=(this.size.width+this.size.height)/la.TAIL_THICKNESS;_s=Math.min(_s,this.size.width,this.size.height)/4,Ve=1-la.ANCHOR_RADIUS/L,h=i+Ve*h,w=l+Ve*w,Ve=i+_s*no;const yl=l+_s*Gt;i-=_s*no,l-=_s*Gt,Gt=Ra(this.workspace.RTL?-la.TAIL_ANGLE:la.TAIL_ANGLE),Gt=ce+Gt,Gt>Math.PI*2&&(Gt-=Math.PI*2),ce=Math.sin(Gt)*L/la.TAIL_BEND,L=Math.cos(Gt)*L/la.TAIL_BEND,e.push("M"+Ve+","+yl),e.push("C"+(Ve+L)+","+(yl+ce)+" "+h+","+w+" "+h+","+w),e.push("C"+h+","+w+" "+(i+L)+","+(l+ce)+" "+i+","+l)}e.push("z");let Yn;(Yn=this.tail)==null||Yn.setAttribute("d",e.join(" "))}bringToFront(){let e;const i=(e=this.svgRoot)==null?void 0:e.parentNode;return this.svgRoot&&i?.lastChild!==this.svgRoot?(i?.appendChild(this.svgRoot),!0):!1}getRelativeToSurfaceXY(){return new Zt(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(e){this.moveTo(e.x,e.y),this.relativeLeft=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x-this.anchor.x,this.relativeTop=e.y-this.anchor.y,this.renderTail()}setDragging(e){}setDeleteStyle(e){}isDeletable(){return!1}showContextMenu(e){}isMovable(){return!0}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){Ht(this)}unselect(){Ht(null)}getFocusableElement(){return this.focusableElement}getFocusableTree(){return this.workspace}onNodeFocus(){this.select(),this.bringToFront();var e=this.getRelativeToSurfaceXY();const i=this.getSize();e=new xr(e.y,e.y+i.height,e.x,e.x+i.width),this.workspace.scrollBoundsIntoView(e)}onNodeBlur(){this.unselect()}canBeFocused(){return!0}getOwner(){return this.owner}};la=Gi,Gi.BORDER_WIDTH=6,Gi.DOUBLE_BORDER=la.BORDER_WIDTH*2,Gi.MIN_SIZE=la.DOUBLE_BORDER,Gi.TAIL_THICKNESS=1,Gi.TAIL_ANGLE=20,Gi.TAIL_BEND=4,Gi.ANCHOR_RADIUS=8;var R0=class extends Gi{constructor(e,i,l,h){super(i,l,h),this.workspace=i,this.anchor=l,this.ownerRect=h,this.autoLayout=!0,i=new Qa(e),this.validateWorkspaceOptions(i),this.svgDialog=Ge(yt.SVG,{x:Gi.BORDER_WIDTH,y:Gi.BORDER_WIDTH},this.contentContainer),e.parentWorkspace=this.workspace,this.miniWorkspace=this.newWorkspaceSvg(new Qa(e)),this.miniWorkspace.internalIsMutator=!0,e=this.miniWorkspace.createDom("blocklyMutatorBackground"),this.svgDialog.appendChild(e),i.languageTree&&(e.insertBefore(this.miniWorkspace.addFlyout(yt.G),this.miniWorkspace.getCanvas()),e=this.miniWorkspace.getFlyout(),e?.init(this.miniWorkspace),e?.show(i.languageTree)),Qt(this.svgRoot,"blocklyMiniWorkspaceBubble"),this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this));let w,L;(w=this.miniWorkspace.getFlyout())==null||(L=w.getWorkspace())==null||L.addChangeListener(this.onWorkspaceChange.bind(this)),this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose(),super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(e){this.miniWorkspace.addChangeListener(e)}validateWorkspaceOptions(e){if(e.hasCategories)throw Error("The miniworkspace bubble does not support toolboxes with categories");if(e.hasTrashcan)throw Error("The miniworkspace bubble does not support trashcans");if(e.zoomOptions.controls||e.zoomOptions.wheel||e.zoomOptions.pinch)throw Error("The miniworkspace bubble does not support zooming");if(e.moveOptions.scrollbars||e.moveOptions.wheel||e.moveOptions.drag)throw Error("The miniworkspace bubble does not scrolling/moving the workspace");if(e.horizontalLayout)throw Error("The miniworkspace bubble does not support horizontal layouts")}onWorkspaceChange(){this.bumpBlocksIntoBounds(),this.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress)for(const e of this.miniWorkspace.getTopBlocks(!1)){const i=e.getRelativeToSurfaceXY();if(i.y<20&&e.moveBy(0,20-i.y),e.RTL){let l=-20;const h=this.miniWorkspace.getFlyout();h&&(l-=h.getWidth()),i.x>l&&e.moveBy(l-i.x,0)}else i.x<20&&e.moveBy(20-i.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress){this.autoLayout&&(this.autoLayout=!this.miniWorkspace.keyboardMoveInProgress);var e=this.getSize(),i=this.calculateWorkspaceSize();Math.abs(e.width-i.width)<R0.MINIMUM_VIEW_CHANGE&&Math.abs(e.height-i.height)<R0.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute("width",`${i.width}px`),this.svgDialog.setAttribute("height",`${i.height}px`),this.miniWorkspace.setCachedParentSvgSize(i.width,i.height),this.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute("transform",`translate(${i.width}, 0)`),this.setSize(new Ir(i.width+Gi.DOUBLE_BORDER,i.height+Gi.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){var e=this.miniWorkspace.getCanvas().getBBox();let i=e.width+R0.MARGIN;e=e.height+R0.MARGIN;const l=this.miniWorkspace.getFlyout();if(l){const h=l.getWorkspace().getMetricsManager().getScrollMetrics();e=Math.max(e,h.height+20),i+=l.getWidth()}return new Ir(i,e)}updateBlockStyles(){for(var e of this.miniWorkspace.getAllBlocks(!1))e.setStyle(e.getStyleName());let i;if(e=(i=this.miniWorkspace.getFlyout())==null?void 0:i.getWorkspace())for(const l of e.getAllBlocks(!1))l.setStyle(l.getStyleName())}moveDuringDrag(e){super.moveDuringDrag(e),this.autoLayout=!1}moveTo(e,i){super.moveTo(e,i),this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}};R0.MINIMUM_VIEW_CHANGE=10,R0.MARGIN=Gi.DOUBLE_BORDER*3;var hh=class{constructor(e){this.sourceBlock=e,this.offsetInBlock=new Zt(0,0),this.workspaceLocation=new Zt(0,0),this.svgRoot=null,this.tooltip=e,this.id=De()}getType(){throw Error("Icons must implement getType")}initView(e){if(!this.svgRoot){var i=this.sourceBlock;this.svgRoot=Ge(yt.G,{class:"blocklyIconGroup",id:this.id}),i.getSvgRoot().appendChild(this.svgRoot),this.updateSvgRootOffset(),W(this.svgRoot,"pointerdown",this,e),this.svgRoot.tooltip=this,mr(this.svgRoot)}}dispose(){ti(this.svgRoot),cn(this.svgRoot)}getWeight(){return-1}getSize(){return new Ir(0,0)}setTooltip(e){this.tooltip=e??this.sourceBlock}getTooltip(){return this.tooltip}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display="none":this.svgRoot.style.display="block",Oa(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display="none")}isShownWhenCollapsed(){return!1}setOffsetInBlock(e){this.offsetInBlock=e,this.updateSvgRootOffset()}updateSvgRootOffset(){let e;(e=this.svgRoot)==null||e.setAttribute("transform",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`)}onLocationChange(e){this.workspaceLocation=Zt.sum(e,this.offsetInBlock)}onClick(){}isClickableInFlyout(e){return!0}getFocusableElement(){const e=this.svgRoot;if(!e)throw Error("Attempting to focus uninitialized icon.");return e}getFocusableTree(){return this.sourceBlock.workspace}onNodeFocus(){var e=this.sourceBlock.getBoundingRectangle();e=new xr(e.top+this.offsetInBlock.y,e.top+this.offsetInBlock.y+this.getSize().height,e.left+this.offsetInBlock.x,e.left+this.offsetInBlock.x+this.getSize().width),this.sourceBlock.workspace.scrollBoundsIntoView(e)}onNodeBlur(){}canBeFocused(){return!0}getSourceBlock(){return this.sourceBlock}},C1,E4;C1=17,E4=16,r.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends hh{constructor(e,i){super(i),this.flyoutBlockTypes=e,this.sourceBlock=i,this.saveConnectionsListener=this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return r.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(e){this.svgRoot||(super.initView(e),Ge(yt.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},this.svgRoot),Ge(yt.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},this.svgRoot),Ge(yt.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},this.svgRoot),Qt(this.svgRoot,"blocklyMutatorIcon"))}dispose(){super.dispose();let e;(e=this.miniWorkspaceBubble)==null||e.dispose()}getWeight(){return r.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new Ir(C1,C1)}applyColour(){super.applyColour();let e;(e=this.miniWorkspaceBubble)==null||e.setColour(this.sourceBlock.getColour());let i;(i=this.miniWorkspaceBubble)==null||i.updateBlockStyles()}updateCollapsed(){super.updateCollapsed(),this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(e){super.onLocationChange(e);let i;(i=this.miniWorkspaceBubble)==null||i.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick(),this.sourceBlock.isEditable()&&this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(e){const i=this;return(0,It.asyncExecutePromiseGeneratorFunction)(function*(){if(i.bubbleIsVisible()!==e){if(yield ir(),e){i.miniWorkspaceBubble=new R0(i.getMiniWorkspaceConfig(),i.sourceBlock.workspace,i.getAnchorLocation(),i.getBubbleOwnerRect()),i.applyColour(),i.createRootBlock(),i.addSaveConnectionsListener();let l;(l=i.miniWorkspaceBubble)==null||l.addWorkspaceChangeListener(i.createMiniWorkspaceChangeListener())}else{let l;(l=i.miniWorkspaceBubble)==null||l.dispose(),i.miniWorkspaceBubble=null,i.saveConnectionsListener&&i.sourceBlock.workspace.removeChangeListener(i.saveConnectionsListener),i.saveConnectionsListener=null}de(new(Ut(Tt.BUBBLE_OPEN))(i.sourceBlock,e,"mutator"))}})}getBubble(){return this.miniWorkspaceBubble}getMiniWorkspaceConfig(){let e;const i={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:(e=this.sourceBlock.workspace.options.rendererOverrides)!=null?e:void 0};return this.flyoutBlockTypes.length&&(i.toolbox={kind:"flyoutToolbox",contents:this.flyoutBlockTypes.map(l=>({kind:"block",type:l}))}),i}getAnchorLocation(){const e=C1/2;return Zt.sum(this.workspaceLocation,new Zt(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new xr(e.y,e.y+e.height,e.x,e.x+e.width)}createRootBlock(){if(!this.sourceBlock.decompose)throw Error("Blocks with mutator icons must include a decompose method");this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());for(var e of this.rootBlock.getDescendants(!1))e.queueRender();this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1);let i,l,h,w;e=(w=(i=this.miniWorkspaceBubble)==null||(l=i.getWorkspace())==null||(h=l.getFlyout())==null?void 0:h.getWidth())!=null?w:0,this.rootBlock.moveBy(this.rootBlock.RTL?-(e+E4):E4,E4)}addSaveConnectionsListener(){this.sourceBlock.saveConnections&&this.rootBlock&&(this.saveConnectionsListener=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}createMiniWorkspaceChangeListener(){return e=>{r.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(e)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null,this.recomposeSourceBlock()},0))}}static isIgnorableMutatorEvent(e){return e.isUiEvent||it(e)||dt(e)&&e.element==="disabled"}recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error("Blocks with mutator icons must include a compose method");var e=r.getGroup$$module$build$src$core$events$utils();e||r.setGroup$$module$build$src$core$events$utils(!0);var i=Zu.getExtraBlockState_(this.sourceBlock);this.sourceBlock.compose(this.rootBlock);var l=Zu.getExtraBlockState_(this.sourceBlock);i!==l&&de(new(Ut(Tt.BLOCK_CHANGE))(this.sourceBlock,"mutation",null,i,l)),r.setGroup$$module$build$src$core$events$utils(e)}}getWorkspace(){let e;return(e=this.miniWorkspaceBubble)==null?void 0:e.getWorkspace()}},r.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=Is.MUTATOR,r.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1,r.MutatorIcon$$module$build$src$core$icons$mutator_icon;var Yo=Object.create(null),vp={allExtensions:Yo};r.register$$module$build$src$core$extensions("parent_tooltip_when_inline",Yh);var Sa={TEST_ONLY:vp};Sa.apply=Uu,Sa.buildTooltipForDropdown=r.buildTooltipForDropdown$$module$build$src$core$extensions,Sa.buildTooltipWithFieldText=r.buildTooltipWithFieldText$$module$build$src$core$extensions,Sa.isRegistered=Fu,Sa.register=r.register$$module$build$src$core$extensions,Sa.registerMixin=r.registerMixin$$module$build$src$core$extensions,Sa.registerMutator=r.registerMutator$$module$build$src$core$extensions,Sa.runAfterPageLoad=lu,Sa.unregister=ao;var qi;(function(e){e[e.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",e[e.MAC_ENTER=3]="MAC_ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.NUM_CENTER=12]="NUM_CENTER",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.FF_SEMICOLON=59]="FF_SEMICOLON",e[e.FF_EQUALS=61]="FF_EQUALS",e[e.FF_DASH=173]="FF_DASH",e[e.FF_HASH=163]="FF_HASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.AT_SIGN=64]="AT_SIGN",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META=91]="META",e[e.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",e[e.CONTEXT_MENU=93]="CONTEXT_MENU",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_MULTIPLY=106]="NUM_MULTIPLY",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_PERIOD=110]="NUM_PERIOD",e[e.NUM_DIVISION=111]="NUM_DIVISION",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUMLOCK=144]="NUMLOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",e[e.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",e[e.SEMICOLON=186]="SEMICOLON",e[e.DASH=189]="DASH",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.APOSTROPHE=192]="APOSTROPHE",e[e.TILDE=192]="TILDE",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE",e[e.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",e[e.BACKSLASH=220]="BACKSLASH",e[e.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",e[e.WIN_KEY=224]="WIN_KEY",e[e.MAC_FF_META=224]="MAC_FF_META",e[e.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",e[e.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",e[e.WIN_IME=229]="WIN_IME",e[e.VK_NONAME=252]="VK_NONAME",e[e.PHANTOM=255]="PHANTOM"})(qi||(qi={}));var L0={};L0.arc=E,L0.curve=pl,L0.line=y,L0.lineOnAxis=g,L0.lineTo=xl,L0.moveBy=Ui,L0.moveTo=mo,L0.point=qn;var fs={};fs.Coordinate=Zt,fs.KeyCodes=qi,fs.Rect=xr,fs.Size=Ir,fs.Svg=yt,fs.aria=$1,fs.array=ep,fs.browserEvents=T0,fs.colour=Ll,fs.deprecation=o4,fs.dom=go,fs.extensions=Sa,fs.idGenerator=d1,fs.math=Nd,fs.object=w0,fs.parsing=w1,fs.string=ki,fs.style=k0,fs.svgMath=bs,fs.svgPaths=L0,fs.toolbox=Xa,fs.userAgent=G2,fs.xml=Al;var $l=class extends Gi{constructor(e,i,l,h){super(e,i,l,void 0,h),this.workspace=e,this.anchor=i,this.ownerRect=l,this.owner=h,this.resizePointerMoveListener=this.resizePointerUpListener=null,this.sizeChangeListeners=[],this.locationChangeListeners=[],this.DEFAULT_SIZE=new Ir(160+Gi.DOUBLE_BORDER,80+Gi.DOUBLE_BORDER),this.MIN_SIZE=new Ir(45+Gi.DOUBLE_BORDER,20+Gi.DOUBLE_BORDER),this.editable=!0,Qt(this.svgRoot,"blocklyTextInputBubble"),this.editor=new b4(e,this.id,()=>{r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)}),this.contentContainer.appendChild(this.editor.getDom()),this.resizeGroup=this.createResizeHandle(this.svgRoot,e),this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.editor.getText()}setText(e){this.editor.setText(e)}setEditable(e){this.editable=e,this.editor.setEditable(e)}isEditable(){return this.editable}addTextChangeListener(e){this.editor.addTextChangeListener(e)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}addLocationChangeListener(e){this.locationChangeListeners.push(e)}createResizeHandle(e,i){return e=Ge(yt.IMAGE,{class:"blocklyResizeHandle",href:`${i.options.pathToMedia}resize-handle.svg`},e),W(e,"pointerdown",this,this.onResizePointerDown),e}setSize(e,i=!1){e.width=Math.max(e.width,this.MIN_SIZE.width),e.height=Math.max(e.height,this.MIN_SIZE.height);const l=e.width-Gi.DOUBLE_BORDER,h=e.height-Gi.DOUBLE_BORDER;this.editor.updateSize(new Ir(l,h),new Ir(0,0)),this.editor.getDom().setAttribute("x",`${Gi.DOUBLE_BORDER/2}`),this.editor.getDom().setAttribute("y",`${Gi.DOUBLE_BORDER/2}`),this.resizeGroup.setAttribute("y",`${h}`),this.workspace.RTL?this.resizeGroup.setAttribute("x",`${-Gi.DOUBLE_BORDER}`):this.resizeGroup.setAttribute("x",`${l}`),super.setSize(e,i),this.onSizeChange()}getSize(){return super.getSize()}moveDuringDrag(e){super.moveDuringDrag(e),this.onLocationChange()}setPositionRelativeToAnchor(e,i){super.setPositionRelativeToAnchor(e,i),this.onLocationChange()}positionByRect(e=new xr(0,0,0,0)){super.positionByRect(e),this.onLocationChange()}onResizePointerDown(e){this.bringToFront(),Y(e)||(Oo(this.workspace,e,new Zt(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=W(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=W(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation()}onResizePointerUp(e){P(),this.resizePointerUpListener&&(ie(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(ie(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(e){e=el(this.workspace,e),this.setSize(new Ir(this.workspace.RTL?-e.x:e.x,e.y),!1),this.onSizeChange()}onSizeChange(){for(const e of this.sizeChangeListeners)e()}onLocationChange(){for(const e of this.locationChangeListeners)e()}getEditor(){return this.editor}};mn(`
.blocklyTextInputBubble .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 0;
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}
`);var In;(function(e){e[e.INPUT_VALUE=1]="INPUT_VALUE",e[e.OUTPUT_VALUE=2]="OUTPUT_VALUE",e[e.NEXT_STATEMENT=3]="NEXT_STATEMENT",e[e.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"})(In||(In={}));var _u=class{constructor(e){this.connectionChecker=e,this.connections=[]}addConnection(e,i){i=this.calculateIndexForYPos(i),this.connections.splice(i,0,e)}findIndexOfConnection(e,i){if(!this.connections.length)return-1;const l=this.calculateIndexForYPos(i);if(l>=this.connections.length)return-1;i=e.y;let h=l;for(;h>=0&&this.connections[h].y===i;){if(this.connections[h]===e)return h;h--}for(h=l;h<this.connections.length&&this.connections[h].y===i;){if(this.connections[h]===e)return h;h++}return-1}calculateIndexForYPos(e){if(!this.connections.length)return 0;let i=0,l=this.connections.length;for(;i<l;){const h=Math.floor((i+l)/2);if(this.connections[h].y<e)i=h+1;else if(this.connections[h].y>e)l=h;else{i=h;break}}return i}removeConnection(e,i){if(e=this.findIndexOfConnection(e,i),e===-1)throw Error("Unable to find connection in connectionDB.");this.connections.splice(e,1)}getNeighbours(e,i){function l(Yn){const no=w-h[Yn].x,_s=L-h[Yn].y;return Math.sqrt(no*no+_s*_s)<=i&&Gt.push(h[Yn]),_s<i}const h=this.connections,w=e.x,L=e.y;e=0;let ce=h.length-2,Ve=ce;for(;e<Ve;)h[Ve].y<L?e=Ve:ce=Ve,Ve=Math.floor((e+ce)/2);const Gt=[];if(ce=e=Ve,h.length){for(;e>=0&&l(e);)e--;do ce++;while(ce<h.length&&l(ce))}return Gt}isInYRange(e,i,l){return Math.abs(this.connections[e].y-i)<=l}searchForClosest(e,i,l){if(!this.connections.length)return{connection:null,radius:i};const h=e.y,w=e.x;e.x=w+l.x,e.y=h+l.y;var L=this.calculateIndexForYPos(e.y);l=null;let ce=i,Ve,Gt=L-1;for(;Gt>=0&&this.isInYRange(Gt,e.y,i);)Ve=this.connections[Gt],this.connectionChecker.canConnect(e,Ve,!0,ce)&&(l=Ve,ce=Ve.distanceFrom(e)),Gt--;for(;L<this.connections.length&&this.isInYRange(L,e.y,i);)Ve=this.connections[L],this.connectionChecker.canConnect(e,Ve,!0,ce)&&(l=Ve,ce=Ve.distanceFrom(e)),L++;return e.x=w,e.y=h,{connection:l,radius:ce}}static init(e){const i=[];return i[In.INPUT_VALUE]=new _u(e),i[In.OUTPUT_VALUE]=new _u(e),i[In.NEXT_STATEMENT]=new _u(e),i[In.PREVIOUS_STATEMENT]=new _u(e),i}},e0=class extends Si{constructor(e,i,l){super(l),this.type=Tt.SELECTED,this.oldElementId=e??void 0,this.newElementId=i??void 0}toJson(){const e=super.toJson();return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new e0),i.oldElementId=e.oldElementId,i.newElementId=e.newElementId,i}};s(Xt.EVENT,Tt.SELECTED,e0);var bp=class extends Ju{constructor(e){if(super(e),this.type=Tt.BLOCK_DELETE,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=Go(e),this.ids=En(e),this.wasShadow=e.isShadow(),this.oldJson=ts(e,{addCoordinates:!0})}}toJson(){const e=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(this.wasShadow===void 0)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=ds(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new bp),i.oldXml=r.textToDom$$module$build$src$core$utils$xml(e.oldXml),i.ids=e.ids,i.wasShadow=e.wasShadow||i.oldXml.tagName.toLowerCase()==="shadow",i.oldJson=e.oldJson,e.recordUndo!==void 0&&(i.recordUndo=e.recordUndo),i}run(e){const i=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){const l=this.ids[e],h=i.getBlockById(l);h?h.dispose(!1):l===this.blockId&&console.warn("Can't delete non-existent block: "+l)}else jl(this.oldJson,i)}};s(Xt.EVENT,Tt.BLOCK_DELETE,bp);var yi=class{constructor(e,i){if(this.type=i,this.targetConnection=null,this.disposed=!1,this.shadowDom=this.check=null,this.y=this.x=0,this.shadowState=null,this.sourceBlock_=e,e.id.includes("_connection"))throw Error(`Connection ID indicator is contained in block ID. This will cause problems with focus: ${e.id}.`);this.id=`${e.id}_connection_${De()}`}connect_(e){const i=In.INPUT_VALUE,l=this.getSourceBlock();var h=e.getSourceBlock();e.isConnected()&&e.disconnectInternal(!1);let w;if(this.isConnected()){const ce=this.stashShadowState(),Ve=this.targetBlock();Ve.isShadow()?Ve.dispose(!1):(this.disconnectInternal(),w=Ve),this.applyShadowState(ce)}let L;qt()&&(L=new(Ut(Tt.BLOCK_MOVE))(h),L.setReason(["connect"])),M(this,e),h.setParent(l),L&&(L.recordNew(),de(L)),w&&(e=this.type===i?w.outputConnection:w.previousConnection)&&((h=yi.getConnectionForOrphanedConnection(h,e))?e.connect(h):e.onFailedConnect(this))}dispose(){if(this.isConnected()){this.isSuperior()&&this.setShadowStateInternal();const e=this.targetBlock();e&&!e.isDeadOrDying()&&e.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===In.INPUT_VALUE||this.type===In.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(e){}connect(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){const i=r.getGroup$$module$build$src$core$events$utils();i||r.setGroup$$module$build$src$core$events$utils(!0),this.isSuperior()?this.connect_(e):e.connect_(this),r.setGroup$$module$build$src$core$events$utils(i)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(e=!0){const{parentConnection:i,childConnection:l}=this.getParentAndChildConnections();if(!i||!l)throw Error("Source connection not connected.");const h=r.getGroup$$module$build$src$core$events$utils();h||r.setGroup$$module$build$src$core$events$utils(!0);let w;qt()&&(w=new(Ut(Tt.BLOCK_MOVE))(l.getSourceBlock()),w.setReason(["disconnect"]));const L=this.targetConnection;L&&(L.targetConnection=null),this.targetConnection=null,e&&l.getSourceBlock().setParent(null),w&&(w.recordNew(),de(w)),l.getSourceBlock().isShadow()||i.respawnShadow_(),r.setGroup$$module$build$src$core$events$utils(h)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(e,i){if(this.getSourceBlock().isDeadOrDying())return!1;var l;return i=(l=e.getInput(i))==null?void 0:l.connection,l=this.targetBlock(),l&&l!==e||!i||i.targetConnection===this?!1:(i.isConnected()&&i.disconnect(),i.connect(this),!0)}targetBlock(){if(this.isConnected()){let e,i;return(i=(e=this.targetConnection)==null?void 0:e.getSourceBlock())!=null?i:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return e?(Array.isArray(e)||(e=[e]),this.check=e,this.onCheckChanged_()):this.check=null,this}getCheck(){return this.check}setShadowDom(e){this.setShadowStateInternal({shadowDom:e})}getShadowDom(e){return e&&this.targetBlock().isShadow()?ta(this.targetBlock()):this.shadowDom}setShadowState(e){this.setShadowStateInternal({shadowState:e})}getShadowState(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?ts(this.targetBlock()):this.shadowState}neighbours(e){return[]}getParentInput(){let e=null;const i=this.sourceBlock_.inputList;for(let l=0;l<i.length;l++)if(i[l].connection===this){e=i[l];break}return e}toString(){const e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var i="Output Connection of ";else if(e.previousConnection===this)i="Previous Connection of ";else if(e.nextConnection===this)i="Next Connection of ";else{i=null;for(let l=0,h;h=e.inputList[l];l++)if(h.connection===this){i=h;break}if(i)i='Input "'+i.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}return i+e.toDevString()}stashShadowState(){const e=this.getShadowDom(!0),i=this.getShadowState(!0);return this.shadowState=this.shadowDom=null,{shadowDom:e,shadowState:i}}applyShadowState({shadowDom:e,shadowState:i}){this.shadowDom=e,this.shadowState=i}setShadowStateInternal({shadowDom:e=null,shadowState:i=null}={}){this.shadowDom=e,this.shadowState=i,this.getSourceBlock().isDeadOrDying()||((e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())):(e=this.createShadowBlock(!1),this.serializeShadow(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())))}createShadowBlock(e){var i=this.getSourceBlock();const l=this.getShadowState(),h=this.getShadowDom();if(i.isDeadOrDying()||!l&&!h)return null;if(l)return i=Xl(l,i.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(h){if(i=_a(h,i.workspace),e)if(this.type===In.INPUT_VALUE){if(!i.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(i.outputConnection))throw Error("Could not connect shadow block to connection")}else if(this.type===In.NEXT_STATEMENT){if(!i.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(i.previousConnection))throw Error("Could not connect shadow block to connection")}else throw Error("Cannot connect a shadow block to a previous/output connection");return i}return null}serializeShadow(e){e&&(this.shadowDom=ta(e),this.shadowState=ts(e))}static getConnectionForOrphanedConnection(e,i){if(i.type===In.OUTPUT_VALUE)return K(e,i.getSourceBlock());e=e.lastConnectionInStack(!0);const l=i.getConnectionChecker();return e&&l.canConnect(i,e,!1)?e:null}};yi.CAN_CONNECT=0,yi.REASON_SELF_CONNECTION=1,yi.REASON_WRONG_TYPE=2,yi.REASON_TARGET_NULL=3,yi.REASON_CHECKS_FAILED=4,yi.REASON_DIFFERENT_WORKSPACES=5,yi.REASON_SHADOW_PARENT=6,yi.REASON_DRAG_CHECKS_FAILED=7,yi.REASON_PREVIOUS_AND_OUTPUT=8;var dh=class extends Error{constructor(e){super(`Tried to append an icon of type ${e.getType()} when an icon of that type already exists on the block. Use getIcon to access the existing icon.`),this.icon=e}},yp={};yp.DuplicateIconType=dh,(function(e){e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(r.Align$$module$build$src$core$inputs$align||(r.Align$$module$build$src$core$inputs$align={})),r.Align$$module$build$src$core$inputs$align;var fh=class extends Vi{constructor(e,i,l){super(Vi.SKIP_SETUP),this.class=null,this.EDITABLE=!1,this.maxDisplayLength=1/0,e!==Vi.SKIP_SETUP&&(l?this.configure_(l):this.class=i||null,this.setValue(e))}configure_(e){super.configure_(e),e.class&&(this.class=e.class)}initView(){this.createTextElement_(),this.class&&Qt(this.getTextElement(),this.class),this.fieldGroup_&&Qt(this.fieldGroup_,"blocklyLabelField")}doClassValidation_(e){return e==null?null:`${e}`}setClass(e){this.textElement_&&(this.class&&Cn(this.textElement_,this.class),e&&Qt(this.textElement_,e)),this.class=e}static fromJson(e){return new this(gr(e.text),void 0,e)}};dl("field_label",fh),fh.prototype.DEFAULT_VALUE="";var r3=30,ph=[];ph[In.INPUT_VALUE]=In.OUTPUT_VALUE,ph[In.OUTPUT_VALUE]=In.INPUT_VALUE,ph[In.NEXT_STATEMENT]=In.PREVIOUS_STATEMENT,ph[In.PREVIOUS_STATEMENT]=In.NEXT_STATEMENT;var _p="RENAME_VARIABLE_ID",Tp="DELETE_VARIABLE_ID",i3=10,Fo=class extends yi{constructor(e,i){super(e,i),this.highlighted=!1,this.targetConnection=null,this.db=e.workspace.connectionDBList[i],this.dbOpposite=e.workspace.connectionDBList[ph[i]],this.offsetInBlock=new Zt(0,0),this.trackedState=Fo.TrackedState.WILL_TRACK}dispose(){super.dispose(),this.trackedState===Fo.TrackedState.TRACKED&&this.db.removeConnection(this,this.y);let e,i;(i=(e=this.sourceBlock_.pathObject).removeConnectionHighlight)==null||i.call(e,this)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(e){const i=this.x-e.x;return e=this.y-e.y,Math.sqrt(i*i+e*e)}bumpAwayFrom(e,i=!1){if(!this.sourceBlock_.workspace.isDragging()){var l=r.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*i3),h=r.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*i3),w=e.sourceBlock_.getRootBlock(),L=this.sourceBlock_.getRootBlock();if(!w.isInFlyout&&!L.isInFlyout){var ce=!0;if(L.isMovable())w.isMovable()&&i&&(h=-h);else if(w.isMovable())ce=!1,l=-l,h=-h;else return;i=ce?e:this,e=ce?this:e,w=ce?L:w,w.RTL&&(l=-l),w.moveBy(i.x+l-e.x,i.y+h-e.y,["bump"])}}}moveTo(e,i){let l=!1;return this.trackedState===Fo.TrackedState.WILL_TRACK?(this.db.addConnection(this,i),this.trackedState=Fo.TrackedState.TRACKED,l=!0):this.trackedState===Fo.TrackedState.TRACKED&&(this.db.removeConnection(this,this.y),this.db.addConnection(this,i),l=!0),this.x=e,this.y=i,l}moveBy(e,i){return this.moveTo(this.x+e,this.y+i)}moveToOffset(e){return this.moveTo(e.x+this.offsetInBlock.x,e.y+this.offsetInBlock.y)}setOffsetInBlock(e,i){this.offsetInBlock.x=e,this.offsetInBlock.y=i}getOffsetInBlock(){return this.offsetInBlock}tightenEfficiently(){var e=this.targetConnection;const i=this.targetBlock();e&&i&&(e=Zt.difference(this.offsetInBlock,e.offsetInBlock),i.translate(e.x,e.y))}closest(e,i){return this.dbOpposite.searchForClosest(this,e,i)}highlight(){this.highlighted=!0;const e=this.findHighlightSvg();e&&(e.style.display="")}unhighlight(){this.highlighted=!1;const e=this.findHighlightSvg();e&&(e.style.display="none")}isHighlighted(){return this.highlighted}setTracking(e){e&&this.trackedState===Fo.TrackedState.TRACKED||!e&&this.trackedState===Fo.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db.addConnection(this,this.y),this.trackedState=Fo.TrackedState.TRACKED):(this.trackedState===Fo.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=Fo.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){const e=this.targetBlock().getDescendants(!1);for(let i=0;i<e.length;i++){const l=e[i],h=l.getConnections_(!0);for(let w=0;w<h.length;w++)h[w].setTracking(!1);for(const w of l.getIcons())Oa(w)&&w.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let e=[];if(this.type!==In.INPUT_VALUE&&this.type!==In.NEXT_STATEMENT)return e;const i=this.targetBlock();if(i){let l;i.isCollapsed()?(l=[],i.outputConnection&&l.push(i.outputConnection),i.nextConnection&&l.push(i.nextConnection),i.previousConnection&&l.push(i.previousConnection)):l=i.getConnections_(!0);for(let h=0;h<l.length;h++)e.push(...l[h].startTrackingAll());e.length||(e=[i])}return e}onFailedConnect(e){const i=this.getSourceBlock();if(Lt()){const l=r.getGroup$$module$build$src$core$events$utils();setTimeout((function(){i.isDisposed()||i.getParent()||(r.setGroup$$module$build$src$core$events$utils(l),this.bumpAwayFrom(e),r.setGroup$$module$build$src$core$events$utils(!1))}).bind(this),r.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(e=!0){const{parentConnection:i,childConnection:l}=this.getParentAndChildConnections();if(i&&l){var h=r.getGroup$$module$build$src$core$events$utils();h||r.setGroup$$module$build$src$core$events$utils(!0);var w=i.getSourceBlock(),L=l.getSourceBlock();super.disconnectInternal(e),w.queueRender(),L.updateDisabled(),L.queueRender(),L.getSvgRoot().style.display="block",r.setGroup$$module$build$src$core$events$utils(h)}}respawnShadow_(){super.respawnShadow_();const e=this.targetBlock();e&&(e.initSvg(),e.queueRender())}neighbours(e){return this.dbOpposite.getNeighbours(this,e)}connect_(e){super.connect_(e);var i=this.getSourceBlock();e=e.getSourceBlock(),i.updateDisabled(),e.updateDisabled(),e.queueRender(),(i=i.getInputWithBlock(e))&&(i=i.isVisible(),e.getSvgRoot().style.display=i?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return super.setCheck(e),this.sourceBlock_.queueRender(),this}showContextMenu(e){const i=Nr.registry.getContextMenuOptions({focusedNode:this},e);if(i.length){var l=this.getSourceBlock(),h=l.workspace;if(e instanceof PointerEvent)var w=new Zt(e.clientX,e.clientY);else w=new Zt(this.x,this.y),w=Qe(h,w).translate(l.RTL?-5:5,5);f0(e,i,l.RTL,h,w)}}getFocusableElement(){const e=this.findHighlightSvg();if(e)return e;throw Error("No highlight SVG found corresponding to this connection.")}getFocusableTree(){return this.getSourceBlock().workspace}onNodeFocus(){this.highlight(),this.getSourceBlock().workspace.scrollBoundsIntoView(this.getSourceBlock().getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unhighlight()}canBeFocused(){return!0}findHighlightSvg(){return document.getElementById(this.id)}};(function(e){e=e.TrackedState||(e.TrackedState={}),e[e.WILL_TRACK=-1]="WILL_TRACK",e[e.UNTRACKED=0]="UNTRACKED",e[e.TRACKED=1]="TRACKED"})(Fo||(Fo={})),Fo.TrackedState;var mh=class{constructor(e,i){this.name=e,this.sourceBlock=i,this.fieldRow=[],this.align=r.Align$$module$build$src$core$inputs$align.LEFT,this.visible=!0,this.type=r.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM,this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(e,i){return this.insertFieldAt(this.fieldRow.length,e,i),this}insertFieldAt(e,i,l){if(e<0||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(i||i===""&&l)&&(typeof i=="string"&&(i=r.fromJson$$module$build$src$core$field_registry({type:"field_label",text:i})),i.setSourceBlock(this.sourceBlock),this.sourceBlock.initialized&&this.initField(i),i.name=l,i.setVisible(this.isVisible()),i.prefixField&&(e=this.insertFieldAt(e,i.prefixField)),this.fieldRow.splice(e,0,i),e++,i.suffixField&&(e=this.insertFieldAt(e,i.suffixField)),this.sourceBlock.rendered&&this.sourceBlock.queueRender()),e}removeField(e,i){for(let l=0,h;h=this.fieldRow[l];l++)if(h.name===e)return h.dispose(),this.fieldRow.splice(l,1),this.sourceBlock.rendered&&this.sourceBlock.queueRender(),!0;if(i)return!1;throw Error('Field "'+e+'" not found.')}isVisible(){return this.visible}setVisible(e){let i=[];if(this.visible===e)return i;this.visible=e;for(let l=0,h;h=this.fieldRow[l];l++)h.setVisible(e);if(this.connection&&this.connection instanceof Fo){e?i=this.connection.startTrackingAll():this.connection.stopTrackingAll();const l=this.connection.targetBlock();l&&(l.getSvgRoot().style.display=e?"block":"none")}return i}markDirty(){for(let e=0,i;i=this.fieldRow[e];e++)i.markDirty()}setCheck(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}setAlign(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}setShadowDom(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){for(const e of this.fieldRow)e.init()}initModel(){for(const e of this.fieldRow)e.initModel()}initField(e){this.sourceBlock.rendered?e.init():e.initModel()}dispose(){for(let e=0,i;i=this.fieldRow[e];e++)i.dispose();this.connection&&this.connection.dispose()}makeConnection(e){return this.sourceBlock.makeConnection_(e)}},vl=class extends mh{constructor(e,i){super(e,i),this.name=e,this.type=r.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},aa=class extends mh{constructor(e,i){super(e,i),this.name=e,this.type=r.inputTypes$$module$build$src$core$inputs$input_types.END_ROW}},Bl=class extends mh{constructor(e,i){if(!e)throw Error("Statement inputs must have a non-empty name");super(e,i),this.name=e,this.type=r.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT,this.connection=this.makeConnection(In.NEXT_STATEMENT)}},s3;r.ValueInput$$module$build$src$core$inputs$value_input=class extends mh{constructor(e,i){if(!e)throw Error("Value inputs must have a non-empty name");super(e,i),this.name=e,this.type=r.inputTypes$$module$build$src$core$inputs$input_types.VALUE,this.connection=this.makeConnection(In.INPUT_VALUE)}},s3={},s3.ValueInput=r.ValueInput$$module$build$src$core$inputs$value_input;var t0=class{constructor(e,i,l){if(this.data=null,this.disposed=!1,this.hue=null,this.colour_="#000000",this.styleName_="",this.suppressPrefixSuffix=!1,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.icons=[],this.disabledReasons=new Set,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable=this.movable=this.deletable=!0,this.collapsed_=this.shadow=!1,this.outputShape_=null,this.rendered=this.isInsertionMarker_=this.initialized=this.disposing=!1,this.onchangeWrapper=this.helpUrl=null,this.statementInputCount=0,this.workspace=e,this.id=l&&!e.getBlockById(l)?l:Ue(),e.setBlockById(this.id,this),this.xy=new Zt(0,0),this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,i){if(this.type=i,l=ks[i],!l||typeof l!="object")throw TypeError("Invalid block definition for type: "+i);Object.assign(this,l)}e.addTopBlock(this),e.addTypedBlock(this),new.target===t0&&this.doInit_()}doInit_(){const e=r.getGroup$$module$build$src$core$events$utils();e||r.setGroup$$module$build$src$core$events$utils(!0);const i=Lt();try{typeof this.init=="function"&&(r.setRecordUndo$$module$build$src$core$events$utils(!1),this.init(),r.setRecordUndo$$module$build$src$core$events$utils(i)),qt()&&de(new(Ut(Tt.BLOCK_CREATE))(this))}finally{r.setGroup$$module$build$src$core$events$utils(e),r.setRecordUndo$$module$build$src$core$events$utils(i)}this.inputsInlineDefault=this.inputsInline,typeof this.onchange=="function"&&this.setOnChange(this.onchange)}dispose(e=!1){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.unplug(e),qt()&&de(new(Ut(Tt.BLOCK_DELETE))(this)),this.workspace.removeTopBlock(this),this.disposeInternal()}disposeInternal(){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),typeof this.destroy=="function"&&this.destroy(),this.childBlocks_.forEach(e=>e.disposeInternal()),this.inputList.forEach(e=>e.dispose()),this.inputList.length=0,this.getConnections_(!0).forEach(e=>e.dispose()),this.disposed=!0}isDeadOrDying(){return this.disposing||this.disposed}initModel(){if(!this.initialized){for(const e of this.inputList)e.initModel();this.initialized=!0}}unplug(e){this.outputConnection&&this.unplugFromRow(e),this.previousConnection&&this.unplugFromStack(e)}unplugFromRow(e){let i=null,l;(l=this.outputConnection)!=null&&l.isConnected()&&(i=this.outputConnection.targetConnection,this.outputConnection.disconnect()),i&&e&&(e=this.getOnlyValueConnection())&&e.isConnected()&&!e.targetBlock().isShadow()&&(e=e.targetConnection,e?.disconnect(),this.workspace.connectionChecker.canConnect(e,i,!1)?i.connect(e):e?.onFailedConnect(i))}getOnlyValueConnection(){let e=null;for(let i=0;i<this.inputList.length;i++){const l=this.inputList[i].connection;if(l&&l.type===In.INPUT_VALUE&&l.targetConnection){if(e)return null;e=l}}return e}unplugFromStack(e){let i=null,l;if((l=this.previousConnection)!=null&&l.isConnected()&&(i=this.previousConnection.targetConnection,this.previousConnection.disconnect()),e){for(e=this.getNextBlock();e&&(e.isShadow()||!e.isMovable());)e=e.getNextBlock();if(e){var h,w,L,ce;e=(ce=(h=e.previousConnection)==null||(w=h.targetBlock())==null||(L=w.nextConnection)==null?void 0:L.targetConnection)!=null?ce:null,e?.disconnect(),i&&this.workspace.connectionChecker.canConnect(i,e,!1)&&i.connect(e)}}}getConnections_(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(let i=0,l;l=this.inputList[i];i++)l.connection&&e.push(l.connection);return e}lastConnectionInStack(e){let i=this.nextConnection;for(;i;){const l=i.targetBlock();if(!l||e&&l.isShadow())return i;i=l.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(e){for(let i=0,l;l=this.inputList[i];i++)if(l.connection&&l.connection.targetBlock()===e)return l;return null}getSurroundParent(){let e=this,i;do if(i=e,e=e.getParent(),!e)return null;while(e.getNextBlock()===i);return e}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getRootBlock(){let e,i=this;do e=i,i=e.parentBlock_;while(i);return e}getTopStackBlock(){let e=this,i;do i=e.getPreviousBlock();while(i&&i.getNextBlock()===e&&(e=i));return e}getChildren(e){if(!e)return this.childBlocks_;e=[];for(let l=0,h;h=this.inputList[l];l++)if(h.connection){var i=h.connection.targetBlock();i&&e.push(i)}return(i=this.getNextBlock())&&e.push(i),e}setParent(e){if(e!==this.parentBlock_){var i=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),l=!!i;if(l&&e&&i!==e)throw Error("Block connected to superior one that is not new parent.");if(!l&&e)throw Error("Block not connected to new parent.");if(l&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?Ft(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(e){const i=[this],l=this.getChildren(e);for(let h,w=0;h=l[w];w++)i.push(...h.getDescendants(e));return i}isDeletable(){return this.deletable&&!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnDeletable(){return this.deletable}setDeletable(e){this.deletable=e}isMovable(){return this.movable&&!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnMovable(){return this.movable}setMovable(e){this.movable=e}isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable(Se(this,!0)):!0}isShadow(){return this.shadow}setShadow(e){this.shadow=e}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(e){this.isInsertionMarker_=e}isEditable(){return this.editable&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setEditable(e){this.editable=e;for(const i of this.getFields())i.updateEditable()}isDisposed(){return this.disposed}isSimpleReporter(){if(!this.outputConnection)return!1;for(const e of this.inputList)if(e.connection||e.fieldRow.length>1)return!1;return!0}getMatchingConnection(e,i){const l=this.getConnections_(!0);if(e=e.getConnections_(!0),l.length!==e.length)throw Error("Connection lists did not match in length.");for(let h=0;h<e.length;h++)if(e[h]===i)return l[h];return null}setHelpUrl(e){this.helpUrl=e}setTooltip(e){this.tooltip=e}getTooltip(){return un(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue}setColour(e){e=Fi(e),this.hue=e.hue,this.colour_=e.hex}setStyle(e){this.styleName_=e}setOnChange(e){if(e&&typeof e!="function")throw Error("onchange must be a function.");this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.onchange=e,this.onchangeWrapper=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper)}getField(e){if(typeof e!="string")throw TypeError("Block.prototype.getField expects a string with the field name but received "+(e===void 0?"nothing":e+" of type "+typeof e)+" instead");for(const i of this.getFields())if(i.name===e)return i;return null}*getFields(){for(const e of this.inputList)for(const i of e.fieldRow)yield i}getVars(){const e=[];for(const i of this.getFields())i.referencesVariables()&&e.push(i.getValue());return e}getVarModels(){const e=[];for(const i of this.getFields())if(i.referencesVariables()){const l=this.workspace.getVariableById(i.getValue());l&&e.push(l)}return e}updateVarName(e){for(const i of this.getFields())i.referencesVariables()&&e.getId()===i.getValue()&&i.refreshVariableName()}renameVarById(e,i){for(const l of this.getFields())l.referencesVariables()&&e===l.getValue()&&l.setValue(i)}getFieldValue(e){return(e=this.getField(e))?e.getValue():null}setFieldValue(e,i){const l=this.getField(i);if(!l)throw Error('Field "'+i+'" not found.');l.setValue(e)}setPreviousStatement(e,i){if(e)i===void 0&&(i=null),this.previousConnection||(this.previousConnection=this.makeConnection_(In.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(i);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(e,i){if(e)i===void 0&&(i=null),this.nextConnection||(this.nextConnection=this.makeConnection_(In.NEXT_STATEMENT)),this.nextConnection.setCheck(i);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(e,i){if(e)i===void 0&&(i=null),this.outputConnection||(this.outputConnection=this.makeConnection_(In.OUTPUT_VALUE)),this.outputConnection.setCheck(i);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(e){this.inputsInline!==e&&(de(new(Ut(Tt.BLOCK_CHANGE))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}getInputsInline(){if(this.inputsInline!==void 0)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof vl&&this.inputList[e]instanceof vl)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof r.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[e]instanceof vl)return!0;for(e=0;e<this.inputList.length;e++)if(this.inputList[e]instanceof aa)return!0;return!1}setOutputShape(e){this.outputShape_=e}getOutputShape(){return this.outputShape_}isEnabled(){return this.disabledReasons.size===0}setDisabledReason(e,i){e||this.workspace.options.disable||!this.hasDisabledReason(Tr)||i==Tr||this.setDisabledReason(!1,Tr),this.disabledReasons.has(i)!==e&&(e?this.disabledReasons.add(i):this.disabledReasons.delete(i),e=new(Ut(Tt.BLOCK_CHANGE))(this,"disabled",null,!e,e),e.setDisabledReason(i),de(e))}getInheritedDisabled(){let e=this.getSurroundParent();for(;e;){if(!e.isEnabled())return!0;e=e.getSurroundParent()}return!1}hasDisabledReason(e){return this.disabledReasons.has(e)}getDisabledReasons(){return this.disabledReasons}isCollapsed(){return this.collapsed_}setCollapsed(e){this.collapsed_!==e&&(de(new(Ut(Tt.BLOCK_CHANGE))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}toString(e,i){i=this.toTokens(i);for(let h=2;h<i.length;h++)i[h-2]==="("&&i[h]===")"&&(i[h-2]=i[h-1],i.splice(h-1,2));let l="";return i=i.reduce((h,w)=>(h=h+(l==="("||w===")"?"":" ")+w,l=w[w.length-1],h),""),i=i.trim()||"???",e&&i.length>e&&(i=i.substring(0,e-3)+"..."),i}toTokens(e="?"){const i=[];for(const h of this.inputList)if(h.name!=Hi){for(const w of h.fieldRow)i.push(w.getText());if(h.connection){const w=h.connection.targetBlock();if(w){var l=h.connection;let L=l.getCheck();!L&&l.targetConnection&&(L=l.targetConnection.getCheck()),(l=!!L&&(L.includes("Boolean")||L.includes("Number")))&&i.push("("),i.push(...w.toTokens(e)),l&&i.push(")")}else i.push(e)}}return i}appendValueInput(e){return this.appendInput(new r.ValueInput$$module$build$src$core$inputs$value_input(e,this))}appendStatementInput(e){return this.statementInputCount++,this.appendInput(new Bl(e,this))}appendDummyInput(e=""){return this.appendInput(new vl(e,this))}appendEndRowInput(e=""){return this.appendInput(new aa(e,this))}appendInput(e){return this.inputList.push(e),e}appendInputFromRegistry(e,i){return(e=$(Xt.INPUT,e,!1))?this.appendInput(new e(i,this)):null}jsonInit(e){var i=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(i+"Must not have both an output and a previousStatement.");for(var l=0;e["args"+l];){if(e["message"+l]===void 0)throw Error(i+`args${l} must have a corresponding message (message${l}).`);l++}if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(i+"Must not have both a colour and a style.");for(e.style?this.jsonInitStyle(e,i):this.jsonInitColour(e,i),l=0;e["message"+l]!==void 0;)this.interpolate(e["message"+l],e["args"+l]||[],e["implicitAlign"+l]||e["lastDummyAlign"+l],i),l++;if(e.inputsInline!==void 0&&(r.disable$$module$build$src$core$events$utils(),this.setInputsInline(e.inputsInline),r.enable$$module$build$src$core$events$utils()),e.output!==void 0&&this.setOutput(!0,e.output),e.outputShape!==void 0&&this.setOutputShape(e.outputShape),e.previousStatement!==void 0&&this.setPreviousStatement(!0,e.previousStatement),e.nextStatement!==void 0&&this.setNextStatement(!0,e.nextStatement),e.tooltip!==void 0&&(l=gr(e.tooltip),this.setTooltip(l)),e.enableContextMenu!==void 0&&(this.contextMenu=!!e.enableContextMenu),e.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),e.helpUrl!==void 0&&(l=gr(e.helpUrl),this.setHelpUrl(l)),typeof e.extensions=="string"&&(console.warn(i+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),e.mutator!==void 0&&Uu(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(i=0;i<e.length;i++)Uu(e[i],this,!1)}jsonInitColour(e,i){if("colour"in e)if(e.colour===void 0)console.warn(i+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch{console.warn(i+"Illegal colour value: ",e)}}}jsonInitStyle(e,i){e=e.style;try{this.setStyle(e)}catch{console.warn(i+"Style does not exist: ",e)}}mixin(e,i){if(i!==void 0&&typeof i!="boolean")throw Error("opt_disableCheck must be a boolean if provided");if(!i){i=[];for(const l in e)this[l]!==void 0&&i.push(l);if(i.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(i))}Object.assign(this,e)}interpolate(e,i,l,h){e=$s(e),this.validateTokens(e,i.length),i=this.interpolateArguments(e,i,l),l=[];for(let w=0,L;L=i[w];w++)if(this.isInputKeyword(L.type)){if(e=this.inputFromJson(L,h)){for(let ce=0,Ve;Ve=l[ce];ce++)e.appendField(Ve[0],Ve[1]);l.length=0}}else(e=this.fieldFromJson(L))&&l.push([e,L.name])}validateTokens(e,i){const l=[];let h=0;for(let w=0;w<e.length;w++){const L=e[w];if(typeof L=="number"){if(L<1||L>i)throw Error('Block "'+this.type+'": Message index %'+L+" out of range.");if(l[L])throw Error('Block "'+this.type+'": Message index %'+L+" duplicated.");l[L]=!0,h++}}if(h!==i)throw Error('Block "'+this.type+'": Message does not reference all '+i+" arg(s).")}interpolateArguments(e,i,l){const h=[];for(let L=0;L<e.length;L++){var w=e[L];if(typeof w=="number"&&(w=i[w-1]),typeof w=="string"){if(w===`
`)w={type:"input_end_row"},l&&(w.align=l);else if(w=this.stringToFieldJson(w),!w)continue}h.push(w)}return(e=h.length)&&!this.isInputKeyword(h[e-1].type)&&(e={type:"input_dummy"},l&&(e.align=l),h.push(e)),h}fieldFromJson(e){const i=r.fromJson$$module$build$src$core$field_registry(e);return!i&&e.alt?typeof e.alt=="string"?(e=this.stringToFieldJson(e.alt))?this.fieldFromJson(e):null:this.fieldFromJson(e.alt):i}inputFromJson(e,i){var l={LEFT:r.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:r.Align$$module$build$src$core$inputs$align.RIGHT,CENTRE:r.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:r.Align$$module$build$src$core$inputs$align.CENTRE};let h;switch(e.type){case"input_value":h=this.appendValueInput(e.name);break;case"input_statement":h=this.appendStatementInput(e.name);break;case"input_dummy":h=this.appendDummyInput(e.name);break;case"input_end_row":h=this.appendEndRowInput(e.name);break;default:h=this.appendInputFromRegistry(e.type,e.name)}return h?(e.check&&h.setCheck(e.check),e.align&&(l=l[e.align.toUpperCase()],l===void 0?console.warn(i+"Illegal align value: ",e.align):h.setAlign(l)),h):null}isInputKeyword(e){return e==="input_value"||e==="input_statement"||e==="input_dummy"||e==="input_end_row"||m(Xt.INPUT,e)}stringToFieldJson(e){return(e=e.trim())?{type:"field_label",text:e}:null}moveInputBefore(e,i){if(e!==i){var l=-1,h=i?-1:this.inputList.length;for(let w=0,L;L=this.inputList[w];w++)if(L.name===e){if(l=w,h!==-1)break}else if(i&&L.name===i&&(h=w,l!==-1))break;if(l===-1)throw Error('Named input "'+e+'" not found.');if(h===-1)throw Error('Reference input "'+i+'" not found.');this.moveNumberedInputBefore(l,h)}}moveNumberedInputBefore(e,i){if(e===i)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(i>this.inputList.length)throw RangeError("Reference input "+i+" out of bounds.");const l=this.inputList[e];this.inputList.splice(e,1),e<i&&i--,this.inputList.splice(i,0,l)}removeInput(e,i){for(let l=0,h;h=this.inputList[l];l++)if(h.name===e)return h instanceof Bl&&this.statementInputCount--,h.dispose(),this.inputList.splice(l,1),!0;if(i)return!1;throw Error("Input not found: "+e)}getInput(e){for(let i=0,l;l=this.inputList[i];i++)if(l.name===e)return l;return null}getInputTargetBlock(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}getCommentText(){let e,i;return(i=(e=this.getIcon(Is.COMMENT))==null?void 0:e.getText())!=null?i:null}setCommentText(e){var i;let l;const h=(l=(i=this.getIcon(Is.COMMENT))==null?void 0:i.getText())!=null?l:null;if(h!==e){if(e!==null){if(i=this.getIcon(Is.COMMENT),!i){if(i=$(Xt.ICON,Is.COMMENT.toString(),!1),!i)throw Error("No comment icon class is registered, so a comment cannot be set");if(i=new i(this),!Ee(i))throw Error("The class registered as a comment icon does not conform to the ICommentIcon interface");i=this.addIcon(i)}r.disable$$module$build$src$core$events$utils(),i.setText(e),r.enable$$module$build$src$core$events$utils()}else this.removeIcon(Is.COMMENT);de(new(Ut(Tt.BLOCK_CHANGE))(this,"comment",null,h,e))}}setWarningText(e,i){}setMutator(e){}addIcon(e){if(this.hasIcon(e.getType()))throw new dh(e);return this.icons.push(e),this.icons.sort((i,l)=>i.getWeight()-l.getWeight()),e}removeIcon(e){if(!this.hasIcon(e))return!1;let i;return(i=this.getIcon(e))==null||i.dispose(),this.icons=this.icons.filter(l=>!l.getType().equals(e)),!0}hasIcon(e){return this.icons.some(i=>i.getType().equals(e))}getIcon(e){return e instanceof Is?this.icons.find(i=>i.getType().equals(e)):this.icons.find(i=>i.getType().toString()===e)}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy}moveBy(e,i,l){if(this.parentBlock_)throw Error("Block has parent");const h=new(Ut(Tt.BLOCK_MOVE))(this);l&&h.setReason(l),this.xy.translate(e,i),h.recordNew(),de(h)}makeConnection_(e){return new yi(this,e)}allInputsFilled(e){if(e===void 0&&(e=!0),!e&&this.isShadow())return!1;for(let l=0,h;h=this.inputList[l];l++)if(h.connection){var i=h.connection.targetBlock();if(!i||!i.allInputsFilled(e))return!1}return(i=this.getNextBlock())?i.allInputsFilled(e):!0}toDevString(){let e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}};t0.COLLAPSED_INPUT_NAME=Hi,t0.COLLAPSED_FIELD_NAME=Xr;var oc=null,A1=null,lc={};lc.connectionUiEffect=pt,lc.disconnectUiEffect=bt,lc.disconnectUiStop=sn,lc.disposeUiEffect=Be;var gh=class{paste(e,i,l){if(!i.isCapacityAvailable(e.typeCounts))return null;l&&(e.blockState.x=l.x,e.blockState.y=l.y),l=l||new Zt(e.blockState.x||0,e.blockState.y||0),r.disable$$module$build$src$core$events$utils();let h;try{h=jl(e.blockState,i),kn(h,l)}finally{r.enable$$module$build$src$core$events$utils()}if(!h)return h;qt()&&!h.isShadow()&&de(new(Ut(Tt.BLOCK_CREATE))(h));const w=h;return ir().then(()=>r.getFocusManager$$module$build$src$core$focus_manager().focusNode(w)),h}};gh.TYPE="block",Ts(gh.TYPE,new gh);var I1={};I1.bumpIntoBounds=wr,I1.bumpIntoBoundsHandler=Ar,I1.bumpTopObjectsIntoBounds=ni;var Vd=class{constructor(e){this.block=e,this.connectionPreviewer=this.connectionCandidate=this.startLoc=this.startChildConn=this.startParentConn=null,this.dragging=!1,this.dragOffset=new Zt(0,0),this.originalEventGroup="",this.workspace=e.workspace}isMovable(){if(this.block.isShadow()){let e,i;return(i=(e=this.block.getParent())==null?void 0:e.isMovable())!=null?i:!1}return this.block.isOwnMovable()&&!this.block.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.block.isInFlyout}startDrag(e){if(this.block.isShadow())this.startDraggingShadow(e);else{this.dragging=!0,this.fireDragStartEvent(),this.startLoc=this.block.getRelativeToSurfaceXY(),this.connectionCandidate=null,this.connectionPreviewer=new(T(Xt.CONNECTION_PREVIEWER,this.workspace.options))(this.block),lr(),this.workspace.setResizesEnabled(!1),sn(),e=this.shouldHealStack(e),this.shouldDisconnect(e)&&this.disconnectBlock(e),this.block.setDragging(!0);var i;(i=this.workspace.getLayerManager())==null||i.moveToDragLayer(this.block)}}shouldHealStack(e){return!!e&&(e.altKey||e.ctrlKey||e.metaKey)}startDraggingShadow(e){const i=this.block.getParent();if(!i)throw Error("Tried to drag a shadow block with no parent. Shadow blocks should always have parents.");this.dragOffset=Zt.difference(i.getRelativeToSurfaceXY(),this.block.getRelativeToSurfaceXY()),i.startDrag(e)}shouldDisconnect(e){return!!(this.block.getParent()||e&&this.block.nextConnection&&this.block.nextConnection.targetBlock())}disconnectBlock(e){let i,l,h;if(this.startParentConn=(h=(i=this.block.outputConnection)==null?void 0:i.targetConnection)!=null?h:(l=this.block.previousConnection)==null?void 0:l.targetConnection,e){let w;this.startChildConn=(w=this.block.nextConnection)==null?void 0:w.targetConnection}this.block.unplug(e),bt(this.block)}fireDragStartEvent(){const e=new(Ut(Tt.BLOCK_DRAG))(this.block,!0,this.block.getDescendants(!1));de(e)}fireDragEndEvent(){const e=new(Ut(Tt.BLOCK_DRAG))(this.block,!1,this.block.getDescendants(!1));de(e)}fireMoveEvent(){if(!this.block.isDeadOrDying()){var e=new(Ut(Tt.BLOCK_MOVE))(this.block);e.setReason(["drag"]),e.oldCoordinate=this.startLoc,e.recordNew(),de(e)}}drag(e){if(this.block.isShadow()){let i;(i=this.block.getParent())==null||i.drag(Zt.sum(e,this.dragOffset))}else this.block.moveDuringDrag(e),this.updateConnectionPreview(this.block,Zt.difference(e,this.startLoc))}updateConnectionPreview(e,i){var l=this.connectionCandidate;const h=this.getConnectionCandidate(e,i);if(h){this.connectionCandidate=i=l&&this.currCandidateIsBetter(l,i,h)?l:h;var{local:w,neighbour:L}=i;i=w.type===In.OUTPUT_VALUE||w.type===In.PREVIOUS_STATEMENT;var ce;if(l=L.isConnected()&&!((ce=L.targetBlock())!=null&&ce.isInsertionMarker()),i&&l&&!this.orphanCanConnectAtEnd(e,L.targetBlock(),w.type)){let Gt;(Gt=this.connectionPreviewer)==null||Gt.previewReplacement(w,L,L.targetBlock())}else{var Ve;(Ve=this.connectionPreviewer)==null||Ve.previewConnection(w,L)}}else{let Gt;(Gt=this.connectionPreviewer)==null||Gt.hidePreview(),this.connectionCandidate=null}}orphanCanConnectAtEnd(e,i,l){return!!yi.getConnectionForOrphanedConnection(e,l===In.OUTPUT_VALUE?i.outputConnection:i.previousConnection)}currCandidateIsBetter(e,i,l){const{local:h,neighbour:w}=e;e=new Zt(h.x,h.y);const L=new Zt(w.x,w.y);return i=Zt.distance(Zt.sum(e,i),L),l.distance>i-r.config$$module$build$src$core$config.currentConnectionPreference}getConnectionCandidate(e,i){e=this.getLocalConnections(e);let l=this.getSearchRadius(),h=null;for(const w of e){const{connection:L,radius:ce}=w.closest(l,i);L&&(h={local:w,neighbour:L,distance:ce},l=ce)}return h}getSearchRadius(){return this.connectionCandidate?r.config$$module$build$src$core$config.connectingSnapRadius:r.config$$module$build$src$core$config.snapRadius}getLocalConnections(e){const i=e.getConnections_(!1),l=e.lastConnectionInStack(!0);return l&&l!==e.nextConnection&&i.push(l),i}endDrag(e){if(this.block.isShadow()){let l;(l=this.block.getParent())==null||l.endDrag(e)}else{this.originalEventGroup=r.getGroup$$module$build$src$core$events$utils(),this.fireDragEndEvent(),this.fireMoveEvent(),ls(),sn();var i;if((i=this.connectionPreviewer)==null||i.hidePreview(),!this.block.isDeadOrDying()&&this.dragging){let l;(l=this.workspace.getLayerManager())==null||l.moveOffDragLayer(this.block,ic),this.block.setDragging(!1)}this.connectionCandidate?(this.applyConnections(this.connectionCandidate),this.disposeStep()):this.block.queueRender().then(()=>this.disposeStep())}}disposeStep(){const e=r.getGroup$$module$build$src$core$events$utils();r.setGroup$$module$build$src$core$events$utils(this.originalEventGroup),this.block.snapToGrid();let i;(i=this.connectionPreviewer)==null||i.dispose(),this.workspace.setResizesEnabled(!0),r.setGroup$$module$build$src$core$events$utils(e)}applyConnections(e){const{local:i,neighbour:l}=e;i.connect(l);const h=i.isSuperior()?l:i,w=this.block.getRootBlock();ir().then(()=>{pt(h.getSourceBlock()),setTimeout(()=>{w.bringToFront()},0)})}revertDrag(){if(this.block.isShadow()){let l;(l=this.block.getParent())==null||l.revertDrag()}else{var e;(e=this.connectionPreviewer)==null||e.hidePreview(),this.connectionCandidate=null;var i;if((i=this.startChildConn)==null||i.connect(this.block.nextConnection),this.startParentConn)switch(this.startParentConn.type){case In.INPUT_VALUE:this.startParentConn.connect(this.block.outputConnection);break;case In.NEXT_STATEMENT:this.startParentConn.connect(this.block.previousConnection)}else{this.block.moveTo(this.startLoc,["drag"]);let l;(l=this.workspace.getLayerManager())==null||l.moveOffDragLayer(this.block,ic),wr(this.workspace,this.workspace.getMetricsManager().getScrollMetrics(!0),this.block)}this.startParentConn=this.startChildConn=null,this.block.setDragging(!1),this.dragging=!1}}},Ep=class extends Gi{constructor(e,i,l,h){super(i,l,h),this.text=e,this.workspace=i,this.anchor=l,this.ownerRect=h,this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize(),Qt(this.svgRoot,"blocklyTextBubble")}getText(){return this.text}setText(e){this.text=e,cn(this.paragraph),this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}stringToSvg(e,i){return i=this.createParagraph(i),e=this.createTextFragments(i,e),this.workspace.RTL&&this.rightAlignTextFragments(i.getBBox().width,e),i}createParagraph(e){return Ge(yt.G,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",transform:`translate(0,${Gi.BORDER_WIDTH})`,style:`direction: ${this.workspace.RTL?"rtl":"ltr"}`},e)}createTextFragments(e,i){let l=1;return i.split(`
`).map(h=>{const w=Ge(yt.TEXT,{y:`${l}em`,x:Gi.BORDER_WIDTH},e);return h=document.createTextNode(h),w.appendChild(h),l+=1,w})}rightAlignTextFragments(e,i){for(const l of i)l.setAttribute("text-anchor","start"),l.setAttribute("x",`${e+Gi.BORDER_WIDTH}`)}updateBubbleSize(){const e=this.paragraph.getBBox();this.setSize(new Ir(e.width+Gi.BORDER_WIDTH*2,e.height+Gi.BORDER_WIDTH*2),!0)}},w4=17,D0=class extends hh{constructor(e){super(e),this.sourceBlock=e,this.textMap=new Map,this.textBubble=null}getType(){return D0.TYPE}initView(e){this.svgRoot||(super.initView(e),Ge(yt.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},this.svgRoot),Ge(yt.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},this.svgRoot),Ge(yt.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},this.svgRoot),Qt(this.svgRoot,"blocklyWarningIcon"))}dispose(){super.dispose();let e;(e=this.textBubble)==null||e.dispose()}getWeight(){return D0.WEIGHT}getSize(){return new Ir(w4,w4)}applyColour(){super.applyColour();let e;(e=this.textBubble)==null||e.setColour(this.sourceBlock.getColour())}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(e){super.onLocationChange(e);let i;(i=this.textBubble)==null||i.setAnchorLocation(this.getAnchorLocation())}addMessage(e,i){if(this.textMap.get(i)===e)return this;e?this.textMap.set(i,e):this.textMap.delete(i);let l;return(l=this.textBubble)==null||l.setText(this.getText()),this}getText(){return[...this.textMap.values()].join(`
`)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(e){const i=this;return(0,It.asyncExecutePromiseGeneratorFunction)(function*(){if(i.bubbleIsVisible()!==e){if(yield ir(),e)i.textBubble=new Ep(i.getText(),i.sourceBlock.workspace,i.getAnchorLocation(),i.getBubbleOwnerRect()),i.applyColour();else{let l;(l=i.textBubble)==null||l.dispose(),i.textBubble=null}de(new(Ut(Tt.BUBBLE_OPEN))(i.sourceBlock,e,"warning"))}})}getBubble(){return this.textBubble}getAnchorLocation(){const e=w4/2;return Zt.sum(this.workspaceLocation,new Zt(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new xr(e.y,e.y+e.height,e.x,e.x+e.width)}};D0.TYPE=Is.WARNING,D0.WEIGHT=2;var os=class extends t0{constructor(e,i,l){if(super(e,i,l),this.childlessWidth=this.width=this.height=0,this.warningTextDb=new Map,this.mutator=null,this.rendered=!0,this.visuallyDisabled=!1,this.translation="",this.dragging=!1,this.relativeCoords=new Zt(0,0),this.dragStrategy=new Vd(this),!e.rendered)throw TypeError("Cannot create a rendered block in a headless workspace");this.workspace=e,this.svgGroup=Ge(yt.G,{}),i&&Qt(this.svgGroup,i),this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup,this.style),e=this.pathObject.svgPath,e.tooltip=this,mr(e),this.svgGroup.setAttribute("data-id",this.id),e.id=De(),this.doInit_()}initSvg(){if(!this.initialized){for(var e of this.inputList)e.init();for(const i of this.getIcons())i.initView(this.createIconPointerDownListener(i)),i.updateEditable();this.applyColour(),this.pathObject.updateMovable(this.isMovable()||this.isInFlyout),(e=this.getSvgRoot())&&W(e,"pointerdown",this,this.onMouseDown),e.parentNode||this.workspace.getCanvas().appendChild(e),this.initialized=!0}}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){this.addSelect(),Ht(this)}unselect(){this.removeSelect(),Ht(null)}setParent(e){var i=this.parentBlock_;if(e!==i){lr(),super.setParent(e),ls();var l=this.getSvgRoot();if(!this.workspace.isClearing&&l){var h=this.getRelativeToSurfaceXY(),w=r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode(),L,ce=this.getSvgRoot().contains((L=w?.getFocusableElement())!=null?L:null);e?(e.getSvgRoot().appendChild(l),ce&&w&&r.getFocusManager$$module$build$src$core$focus_manager().focusNode(w)):i&&(e=this.workspace.getCanvas().querySelector(".blocklyDragging"),i=e?.parentElement,L=this.workspace.getCanvas(),i===L?L.insertBefore(l,e):(L.appendChild(l),ce&&w&&r.getFocusManager$$module$build$src$core$focus_manager().focusNode(w)),this.translate(h.x,h.y)),this.applyColour()}}}getRelativeToSurfaceXY(){const e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");let i=0,l=0,h=this.getSvgRoot();if(h)do{const w=oe(h);i+=w.x,l+=w.y,h=h.parentNode}while(h&&!e.hasLayer(h));return new Zt(i,l)}moveBy(e,i,l){if(this.parentBlock_)throw Error("Block has parent");const h=qt();let w=null;h&&(w=new(Ut(Tt.BLOCK_MOVE))(this),l&&w.setReason(l)),e=new Zt(e,i),i=this.getRelativeToSurfaceXY(),e=Zt.sum(i,e),this.translate(e.x,e.y),this.updateComponentLocations(e),h&&w&&(w.recordNew(),de(w)),this.workspace.resizeContents()}translate(e,i){this.translation=`translate(${e}, ${i})`,this.relativeCoords=new Zt(e,i),this.getSvgRoot().setAttribute("transform",this.getTranslation())}getTranslation(){return this.translation}moveTo(e,i){const l=this.getRelativeToSurfaceXY();this.moveBy(e.x-l.x,e.y-l.y,i)}moveDuringDrag(e){this.translate(e.x,e.y),this.getSvgRoot().setAttribute("transform",this.getTranslation()),this.updateComponentLocations(e)}snapToGrid(){if(!this.isDeadOrDying()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var i=this.getRelativeToSurfaceXY();e=e.alignXY(i),e!==i&&this.moveTo(e,["snap"])}}}getBoundingRectangle(){return this.getBoundingRectangleWithDimensions(this.getHeightWidth())}getBoundingRectangleWithoutChildren(){return this.getBoundingRectangleWithDimensions({height:this.height,width:this.childlessWidth})}getBoundingRectangleWithDimensions(e){const i=this.getRelativeToSurfaceXY();let l,h;return this.RTL?(l=i.x-e.width,h=i.x):(l=i.x,h=i.x+e.width),new xr(i.y,i.y+e.height,l,h)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let e=0,i;i=this.inputList[e];e++)i.markDirty()}setCollapsed(e){this.collapsed_!==e&&(super.setCollapsed(e),this.updateCollapsed())}childHasWarning(){const e=this.getChildren(!1);for(const i of e)if(i.getIcon(D0.TYPE)||i.childHasWarning())return!0;return!1}updateCollapsed(){var e=this.isCollapsed();const i=Hi,l=Xr;for(let w=0,L;L=this.inputList[w];w++)L.name!==i&&L.setVisible(!e);for(var h of this.getIcons())h.updateCollapsed();e?(Qt(this.svgGroup,"blocklyCollapsed"),this.childHasWarning()&&this.setWarningText(r.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,os.COLLAPSED_WARNING_ID),e=this.toString(r3),(h=this.getField(l))?h.setValue(e):(this.getInput(i)||this.appendDummyInput(i)).appendField(new fh(e),l)):(this.updateDisabled(),this.removeInput(i),Cn(this.svgGroup,"blocklyCollapsed"),this.setWarningText(null,os.COLLAPSED_WARNING_ID))}onMouseDown(e){if(!this.workspace.isReadOnly()){var i=this.workspace.getGesture(e);i&&i.handleBlockStart(e,this)}}showHelp(){const e=typeof this.helpUrl=="function"?this.helpUrl():this.helpUrl;e&&window.open(e)}generateContextMenu(e){return this.workspace.isReadOnly()||!this.contextMenu?null:(e=Nr.registry.getContextMenuOptions({block:this,focusedNode:this},e),this.customContextMenu&&this.customContextMenu(e),e)}calculateContextMenuLocation(e){if(e instanceof PointerEvent)return new Zt(e.clientX,e.clientY);e=Qe(this.workspace,this.getRelativeToSurfaceXY());let i,l;const h=(i=this.inputList.filter(w=>w.isVisible()).flatMap(w=>w.fieldRow).find(w=>w.isVisible()))==null||(l=i.getSvgRoot())==null?void 0:l.getBoundingClientRect();return new Zt(this.RTL?e.x-5:e.x+5,(h&&h.height?h.y+h.height:e.y+this.height)+5)}showContextMenu(e){const i=this.generateContextMenu(e),l=this.calculateContextMenuLocation(e);i&&i.length&&(f0(e,i,this.RTL,this.workspace,l),Bu(this))}updateComponentLocations(e){this.dragging||this.updateConnectionLocations(e),this.updateIconLocations(e),this.updateFieldLocations(e);for(const i of this.getChildren(!1))i.updateComponentLocations(Zt.sum(e,i.relativeCoords))}updateConnectionLocations(e){for(const i of this.getConnections_(!1))i.moveToOffset(e)}updateIconLocations(e){for(const i of this.getIcons())i.onLocationChange(e)}updateFieldLocations(e){for(const i of this.inputList)for(const l of i.fieldRow)l.onLocationChange(e)}addClass(e){Qt(this.svgGroup,e)}removeClass(e){Cn(this.svgGroup,e)}setDragging(e){(this.dragging=e)?(this.translation="",Zc.push(...this.getConnections_(!0)),this.addClass("blocklyDragging")):(Zc.length=0,this.removeClass("blocklyDragging"));for(let i=0;i<this.childBlocks_.length;i++)this.childBlocks_[i].setDragging(e)}setMovable(e){super.setMovable(e),this.pathObject.updateMovable(e)}setEditable(e){super.setEditable(e),e?Cn(this.svgGroup,"blocklyNotEditable"):Qt(this.svgGroup,"blocklyNotEditable"),e=this.getIcons();for(let i=0;i<e.length;i++)e[i].updateEditable()}setShadow(e){super.setShadow(e),this.applyColour()}setInsertionMarker(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup}dispose(e,i){this.disposing=!0,oi(),ea();const l=r.getFocusManager$$module$build$src$core$focus_manager();var h,w;if(this.getSvgRoot().contains((w=(h=l.getFocusedNode())==null?void 0:h.getFocusableElement())!=null?w:null)){if(h=this.getParent(),!h){let L;if(w=(L=this.outputConnection)!=null?L:this.previousConnection){let ce;h=(ce=w.closest(0,new Zt(0,0)).connection)==null?void 0:ce.getSourceBlock()}}h?l.focusNode(h):setTimeout(()=>l.focusTree(this.workspace),0)}i&&(this.unplug(e),Be(this)),super.dispose(!!e),cn(this.svgGroup)}disposeInternal(){this.disposing=!0,super.disposeInternal(),r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===this&&this.workspace.cancelCurrentGesture(),[...this.warningTextDb.values()].forEach(e=>clearTimeout(e)),this.warningTextDb.clear(),this.getIcons().forEach(e=>e.dispose())}checkAndDelete(){this.workspace.isFlyout||(r.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),r.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(e=!1){return this.isInsertionMarker_?null:{paster:gh.TYPE,blockState:ts(this,{addCoordinates:!0,addNextBlocks:e,saveIds:!1}),typeCounts:Se(this,!0)}}applyColour(){var e,i;for((i=(e=this.pathObject).applyColour)==null||i.call(e,this),e=this.getIcons(),i=0;i<e.length;i++)e[i].applyColour();for(const l of this.getFields())l.applyColour()}updateDisabled(){const e=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===e){let i;(i=this.getNextBlock())==null||i.updateDisabled()}else{this.applyColour(),this.visuallyDisabled=e;for(const i of this.getChildren(!1))i.updateDisabled()}}setWarningText(e,i=""){if(i)this.warningTextDb.has(i)&&(clearTimeout(this.warningTextDb.get(i)),this.warningTextDb.delete(i));else{for(var l of this.warningTextDb.values())clearTimeout(l);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(i,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(i),this.setWarningText(e,i))},100));else if(this.isInFlyout&&(e=null),l=this.getIcon(D0.TYPE),e){let h=this.getSurroundParent(),w=null;for(;h;)h.isCollapsed()&&(w=h),h=h.getSurroundParent();w&&w.setWarningText(r.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,os.COLLAPSED_WARNING_ID),l?l.addMessage(e,i):this.addIcon(new D0(this).addMessage(e,i))}else l&&(i?(l.addMessage("",i),l.getText()||this.removeIcon(D0.TYPE)):this.removeIcon(D0.TYPE))}setMutator(e){this.removeIcon(r.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE),e&&this.addIcon(e)}addIcon(e){return super.addIcon(e),e instanceof r.MutatorIcon$$module$build$src$core$icons$mutator_icon&&(this.mutator=e),e.initView(this.createIconPointerDownListener(e)),e.applyColour(),e.updateEditable(),this.queueRender(),e}createIconPointerDownListener(e){return i=>{this.isDeadOrDying()||(i=this.workspace.getGesture(i))&&i.setStartIcon(e)}}removeIcon(e){const i=super.removeIcon(e);return e.equals(r.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null),this.queueRender(),i}setDisabledReason(e,i){const l=this.isEnabled();super.setDisabledReason(e,i),this.isEnabled()===l||this.getInheritedDisabled()||this.updateDisabled()}setDeletable(e){super.setDeletable(e),e?Cn(this.svgGroup,"blocklyNotDeletable"):Qt(this.svgGroup,"blocklyNotDeletable")}setHighlighted(e){this.pathObject.updateHighlighted(e)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(e){this.pathObject.updateDraggingDelete(e)}getColour(){return this.style.colourPrimary}setColour(e){super.setColour(e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_);let i,l;(l=(i=this.pathObject).setStyle)==null||l.call(i,e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}setStyle(e){const i=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_&&Cn(this.svgGroup,this.styleName_),i){this.hat=i.hat;let l,h;(h=(l=this.pathObject).setStyle)==null||h.call(l,i),this.colour_=i.colourPrimary,this.style=i,this.applyColour(),Qt(this.svgGroup,e),this.styleName_=e}else throw Error("Invalid style name: "+e)}getStyle(){return this.style}bringToFront(e=!1){const i=r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();let l=this;if(!l.isDeadOrDying()){do{const h=l.getSvgRoot(),w=h.parentNode,L=w.childNodes;if(L[L.length-1]!==h&&w.appendChild(h),e)break;l=l.getParent()}while(l);i&&r.getFocusManager$$module$build$src$core$focus_manager().focusNode(i)}}setPreviousStatement(e,i){super.setPreviousStatement(e,i),this.queueRender()}setNextStatement(e,i){super.setNextStatement(e,i),this.queueRender()}setOutput(e,i){super.setOutput(e,i),this.queueRender()}setInputsInline(e){super.setInputsInline(e),this.queueRender()}removeInput(e,i){return e=super.removeInput(e,i),this.queueRender(),e}moveNumberedInputBefore(e,i){super.moveNumberedInputBefore(e,i),this.queueRender()}appendInput(e){return super.appendInput(e),this.queueRender(),e}setConnectionTracking(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var i=this.nextConnection.targetBlock();i&&i.setConnectionTracking(e)}if(!this.collapsed_)for(i=0;i<this.inputList.length;i++){var l=this.inputList[i].connection;l&&(l.setTracking(e),(l=l.targetBlock())&&l.setConnectionTracking(e))}}getConnections_(e){const i=[];if(this.outputConnection&&i.push(this.outputConnection),this.previousConnection&&i.push(this.previousConnection),this.nextConnection&&i.push(this.nextConnection),e||!this.collapsed_)for(let l=0,h;h=this.inputList[l];l++)h.connection&&i.push(h.connection);return i}lastConnectionInStack(e){return super.lastConnectionInStack(e)}getMatchingConnection(e,i){return super.getMatchingConnection(e,i)}makeConnection_(e){return new Fo(this,e)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){const e=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||e.isInFlyout))for(const i of this.getConnections_(!1)){if(i.isSuperior()){let l;(l=i.targetBlock())==null||l.bumpNeighbours()}for(const l of i.neighbours(r.config$$module$build$src$core$config.snapRadius))l.getSourceBlock().getRootBlock()!==e&&(i.isConnected()&&l.isConnected()||(i.isSuperior()?l.bumpAwayFrom(i,!1):i.bumpAwayFrom(l,!0)))}}scheduleSnapAndBump(){this.snapToGrid(),this.bumpNeighbours()}positionNearConnection(e,i,l){if(e.type===In.NEXT_STATEMENT||e.type===In.INPUT_VALUE){let h=i.x;i=i.y,h+=l.x-e.getOffsetInBlock().x,i+=l.y-e.getOffsetInBlock().y,this.moveBy(h,i)}}getChildren(e){return super.getChildren(e)}queueRender(){return io(this)}render(){this.queueRender(),p()}renderEfficiently(){lr(),this.isCollapsed()&&this.updateCollapsed(),this.isEnabled()||this.updateDisabled(),this.workspace.getRenderer().render(this),this.tightenChildrenEfficiently(),ls()}tightenChildrenEfficiently(){for(const e of this.inputList){const i=e.connection;i&&i.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}getHeightWidth(){let e=this.height,i=this.width;var l=this.getNextBlock();if(l){l=l.getHeightWidth();const h=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=l.height-h,i=Math.max(i,l.width)}return{height:e,width:i}}fadeForReplacement(e){this.pathObject.updateReplacementFade(e)}highlightShapeForInput(e,i){this.pathObject.updateShapeForInputHighlight(e,i)}getDragStrategy(){return this.dragStrategy}setDragStrategy(e){this.dragStrategy=e}isCopyable(){return this.isOwnDeletable()&&this.isOwnMovable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(e){this.dragStrategy.startDrag(e)}drag(e,i){this.dragStrategy.drag(e,i)}endDrag(e){this.dragStrategy.endDrag(e)}revertDrag(){this.dragStrategy.revertDrag()}toFlyoutInfo(){const e=Object.assign({},{kind:"BLOCK"},ts(this)),i=new Set(["id","height","width","pinned","enabled"]),l=function(h){for(const w in h)i.has(w)?delete h[w]:typeof h[w]=="object"&&l(h[w])};return l(e),[e]}jsonInit(e){super.jsonInit(e),e.classes&&this.addClass(Array.isArray(e.classes)?e.classes.join(" "):e.classes)}getFocusableElement(){return this.pathObject.svgPath}getFocusableTree(){return this.workspace}onNodeFocus(){this.select(),this.workspace.scrollBoundsIntoView(this.getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}};os.INLINE=-1,os.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var o3=class{constructor(){}onDragEnter(e){}onDragOver(e){}onDragExit(e){}onDrop(e){}getClientRect(){return null}shouldPreventMove(e){return!1}},M1=class extends o3{constructor(){super(),this.wouldDelete_=!1}wouldDelete(e){return e instanceof os?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e)):this.updateWouldDelete_(Yi(e)&&e.isDeletable()),this.wouldDelete_}updateWouldDelete_(e){this.wouldDelete_=e}},N1=class{constructor(e,i){this.element=e,this.type=i}getElement(){return this.element}getType(){return this.type}},O1=class{constructor(e){this.workspace_=e}getDimensionsPx_(e){let i=0,l=0;return e&&(i=e.getWidth(),l=e.getHeight()),new Ir(i,l)}getFlyoutMetrics(e){return e=this.getDimensionsPx_(this.workspace_.getFlyout(e)),{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let e=0,i=0;const l=this.getToolboxMetrics(),h=this.getFlyoutMetrics(),w=!!this.workspace_.getToolbox();var L;const ce=!((L=this.workspace_.getFlyout())!=null&&L.autoClose);L=w?l.position:h.position;const Ve=L===Mr.TOP;return L===Mr.LEFT&&(w&&(e+=l.width),ce&&(e+=h.width)),Ve&&(w&&(i+=l.height),ce&&(i+=h.height)),{top:i,left:e}}getViewMetrics(e){e=e?this.workspace_.scale:1;const i=this.getSvgMetrics(),l=this.getToolboxMetrics(),h=this.getFlyoutMetrics(),w=!!this.workspace_.getToolbox();var L;const ce=!((L=this.workspace_.getFlyout())!=null&&L.autoClose);L=w?l.position:h.position;const Ve=L===Mr.LEFT||L===Mr.RIGHT;return(L===Mr.TOP||L===Mr.BOTTOM)&&(w&&(i.height-=l.height),ce&&(i.height-=h.height)),Ve&&(w&&(i.width-=l.width),ce&&(i.width-=h.width)),{height:i.height/e,width:i.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}getContentMetrics(e){e=e?1:this.workspace_.scale;const i=this.workspace_.getBlocksBoundingBox();return{height:(i.bottom-i.top)*e,width:(i.right-i.left)*e,top:i.top*e,left:i.left*e}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(e){if(!this.hasFixedEdges())return{};const i=this.workspace_.isMovableHorizontally(),l=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);const h={};return l||(h.top=e.top,h.bottom=e.top+e.height),i||(h.left=e.left,h.right=e.left+e.width),h}getPaddedContent_(e,i){const l=i.top+i.height,h=i.left+i.width,w=e.width;e=e.height;const L=w/2,ce=e/2;return{top:Math.min(i.top-ce,l-e),bottom:Math.max(l+ce,i.top+e),left:Math.min(i.left-L,h-w),right:Math.max(h+L,i.left+w)}}getScrollMetrics(e,i,l){e=e?this.workspace_.scale:1,i=i||this.getViewMetrics(!1);var h=l||this.getContentMetrics();l=this.getComputedFixedEdges_(i),i=this.getPaddedContent_(i,h),h=l.top!==void 0?l.top:i.top;const w=l.left!==void 0?l.left:i.left;return{top:h/e,left:w/e,width:((l.right!==void 0?l.right:i.right)-w)/e,height:((l.bottom!==void 0?l.bottom:i.bottom)-h)/e}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const e=this.getToolboxMetrics(),i=this.getFlyoutMetrics(!0),l=this.getSvgMetrics(),h=this.getAbsoluteMetrics(),w=this.getViewMetrics(),L=this.getContentMetrics(),ce=this.getScrollMetrics(!1,w,L);return{contentHeight:L.height,contentWidth:L.width,contentTop:L.top,contentLeft:L.left,scrollHeight:ce.height,scrollWidth:ce.width,scrollTop:ce.top,scrollLeft:ce.left,viewHeight:w.height,viewWidth:w.width,viewTop:w.top,viewLeft:w.left,absoluteTop:h.top,absoluteLeft:h.left,svgHeight:l.height,svgWidth:l.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:i.width,flyoutHeight:i.height}}};s(Xt.METRICS_MANAGER,kl,O1);var Gd=class extends O1{constructor(e,i){super(e),this.flyout_=i}getBoundingBox(){let e;try{e=this.workspace_.getCanvas().getBBox()}catch{e={height:0,y:0,width:0,x:0}}return e}getContentMetrics(e){const i=this.getBoundingBox();return e=e?1:this.workspace_.scale,{height:i.height*e,width:i.width*e,top:i.y*e,left:i.x*e}}getScrollMetrics(e,i,l){return i=l||this.getContentMetrics(),l=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(i.height+2*l)/e,width:(i.width+i.left+l)/e,top:0,left:0}}},Uo=class{constructor(e,i,l,h){this.workspace=e,this.targetWorkspace=i,this.isFlyoutLabel=h,this.height=this.width=0,this.cursorSvg=this.svgText=null,this.text=l.text,this.position=new Zt(0,0),this.callbackKey=l.callbackKey||l.callbackkey,this.cssClass=l["web-class"]||null,this.info=l,e=this.isFlyoutLabel?"blocklyFlyoutLabel":"blocklyFlyoutButton",this.cssClass&&(e+=" "+this.cssClass),this.id=De(),this.svgGroup=Ge(yt.G,{id:this.id,class:e},this.workspace.getCanvas());let w;this.isFlyoutLabel||(w=Ge(yt.RECT,{class:"blocklyFlyoutButtonShadow",rx:Uo.BORDER_RADIUS,ry:Uo.BORDER_RADIUS,x:1,y:1},this.svgGroup)),e=Ge(yt.RECT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:Uo.BORDER_RADIUS,ry:Uo.BORDER_RADIUS},this.svgGroup),i=Ge(yt.TEXT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup),l=gr(this.text),this.workspace.RTL&&(l+=""),i.textContent=l,this.isFlyoutLabel&&(this.svgText=i,this.workspace.getThemeManager().subscribe(this.svgText,"flyoutForegroundColour","fill")),h=kr(i,"fontSize");const L=kr(i,"fontWeight"),ce=kr(i,"fontFamily");if(this.width=Zn(i,h,L,ce),l=D(l,h,L,ce),this.height=this.height||l.height,!this.isFlyoutLabel){this.width+=2*Uo.TEXT_MARGIN_X,this.height+=2*Uo.TEXT_MARGIN_Y;let Ve;(Ve=w)==null||Ve.setAttribute("width",String(this.width));let Gt;(Gt=w)==null||Gt.setAttribute("height",String(this.height))}e.setAttribute("width",String(this.width)),e.setAttribute("height",String(this.height)),i.setAttribute("x",String(this.width/2)),i.setAttribute("y",String(this.height/2-l.height/2+l.baseline)),this.updateTransform(),this.onMouseDownWrapper=W(this.svgGroup,"pointerdown",this,this.onMouseDown),this.onMouseUpWrapper=W(this.svgGroup,"pointerup",this,this.onMouseUp)}createDom(){return this.svgGroup}show(){this.updateTransform(),this.svgGroup.setAttribute("display","block")}updateTransform(){this.svgGroup.setAttribute("transform","translate("+this.position.x+","+this.position.y+")")}moveTo(e,i){this.position.x=e,this.position.y=i,this.updateTransform()}moveBy(e,i,l){this.moveTo(this.position.x+e,this.position.y+i)}isLabel(){return this.isFlyoutLabel}getPosition(){return this.position}getBoundingRectangle(){return new xr(this.position.y,this.position.y+this.height,this.position.x,this.position.x+this.width)}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}getWorkspace(){return this.workspace}dispose(){ie(this.onMouseDownWrapper),ie(this.onMouseUpWrapper),this.svgGroup&&cn(this.svgGroup),this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}setCursorSvg(e){e?this.svgGroup&&(this.svgGroup.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}onMouseUp(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isFlyoutLabel&&this.callbackKey?console.warn("Labels should not have callbacks. Label text: "+this.text):this.isFlyoutLabel||this.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isFlyoutLabel||(e=this.targetWorkspace.getButtonCallback(this.callbackKey))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text)}onMouseDown(e){const i=this.targetWorkspace.getGesture(e),l=this.targetWorkspace.getFlyout();i&&l&&i.handleFlyoutStart(e,l)}getSvgRoot(){return this.svgGroup}getFocusableElement(){return this.svgGroup}getFocusableTree(){return this.workspace}onNodeFocus(){var e=this.getPosition();e=new xr(e.y,e.y+this.height,e.x,e.x+this.width),this.workspace.scrollBoundsIntoView(e)}onNodeBlur(){}canBeFocused(){return!0}};Uo.TEXT_MARGIN_X=5,Uo.TEXT_MARGIN_Y=2,Uo.BORDER_RADIUS=4,mn(`
.blocklyFlyoutButton {
  fill: #888;
  cursor: default;
}

.blocklyFlyoutButtonShadow {
  fill: #666;
}

.blocklyFlyoutButton:hover {
  fill: #aaa;
}

.blocklyFlyoutLabel {
  cursor: default;
}

.blocklyFlyoutLabelBackground {
  opacity: 0;
}
`);var l3=class{getFirstChild(e){return null}getParent(e){return e.getWorkspace()}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Uo}},R1=class{constructor(e,i){this.policy=e,this.flyout=i}getFirstChild(e){return null}getParent(e){return this.policy.getParent(e)}getNextSibling(e){const i=this.flyout.getContents();if(!i)return null;let l=i.findIndex(h=>h.getElement()===e);return l===-1?null:(l++,l>=i.length&&(l=0),i[l].getElement())}getPreviousSibling(e){const i=this.flyout.getContents();if(!i)return null;let l=i.findIndex(h=>h.getElement()===e);return l===-1?null:(l--,l<0&&(l=i.length-1),i[l].getElement())}isNavigable(e){return this.policy.isNavigable(e)}isApplicable(e){return this.policy.isApplicable(e)}},x4=class{constructor(e,i){this.gap=e,this.axis=i,this.y=this.x=0}getBoundingRectangle(){switch(this.axis){case"x":return new xr(this.y,this.y,this.x,this.x+this.gap);case"y":return new xr(this.y,this.y+this.gap,this.x,this.x)}}moveBy(e,i,l){this.x+=e,this.y+=i}isNavigable(){return!1}getFocusableElement(){throw Error("Cannot be focused")}getFocusableTree(){throw Error("Cannot be focused")}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}},wp=class{getFirstChild(e){return null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return!1}isApplicable(e){return e instanceof x4}},a3=class{getFirstChild(e){return e.getEditor()}getParent(e){let i;return(i=e.getOwner())!=null?i:null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof $l}},xp=class{getFirstChild(e){return ws(e,!0)[0]}getParent(e){var i;if((i=e.previousConnection)!=null&&i.targetBlock()){if(i=e.getSurroundParent())return i}else{let l;if((l=e.outputConnection)!=null&&l.targetBlock())return e.outputConnection.targetBlock()}return e.workspace}getNextSibling(e){let i;if((i=e.nextConnection)!=null&&i.targetBlock()){let h;return(h=e.nextConnection)==null?void 0:h.targetBlock()}let l;return(l=e.outputConnection)!=null&&l.targetBlock()?xs(e,1):e.getSurroundParent()?xs(e.getTopStackBlock(),1):this.getParent(e)instanceof Pl?vs(e,1):null}getPreviousSibling(e){let i;if((i=e.previousConnection)!=null&&i.targetBlock()){let h;return(h=e.previousConnection)==null?void 0:h.targetBlock()}let l;return(l=e.outputConnection)!=null&&l.targetBlock()?xs(e,-1):this.getParent(e)instanceof Pl?vs(e,-1):null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof os}},u3=class{getFirstChild(e){return null}getParent(e){return e.getCommentView().workspace.getCommentById(e.getCommentView().commentId)}getNextSibling(e){const i=e.getCommentView().getCommentBarButtons();return e=i.indexOf(e),e>=0&&e+1<i.length?i[e+1]:null}getPreviousSibling(e){const i=e.getCommentView().getCommentBarButtons();return e=i.indexOf(e),e>0?i[e-1]:null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Ud}},Sp=class{getFirstChild(e){return null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof b4}},kp=class{getFirstChild(e){return e.getParentInput()?e.targetConnection:null}getParent(e){return e.getSourceBlock()}getNextSibling(e){if(e.getParentInput())return xs(e,1);if(e.type===In.NEXT_STATEMENT){const l=e.targetConnection;var i=e.getSourceBlock();if(!l&&i.getRootBlock().lastConnectionInStack(!1)===e){e=i.workspace.getTopBlocks(!0),i=e.indexOf(i.getRootBlock())+1,i>=e.length&&(i=0),i=e[i];let h;return(h=this.getParentConnection(i))!=null?h:i}return l}return e.getSourceBlock()}getPreviousSibling(e){if(e.getParentInput())return xs(e,-1);if(e.type===In.PREVIOUS_STATEMENT||e.type===In.OUTPUT_VALUE){const l=e.targetConnection&&!e.targetConnection.getParentInput()?e.targetConnection:null;var i=e.getSourceBlock();if(!l&&this.getParentConnection(i.getRootBlock())===e){e=i.workspace.getTopBlocks(!0),i=e.indexOf(i.getRootBlock())-1,i<0&&(i=e.length-1),i=e[i];let h;return(h=i.lastConnectionInStack(!1))!=null?h:i}return l}return e.type===In.NEXT_STATEMENT?e.getSourceBlock():null}getParentConnection(e){let i;return!e.outputConnection||(i=e.previousConnection)!=null&&i.isConnected()?e.previousConnection:e.outputConnection}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Fo}},Cp=class{getFirstChild(e){return null}getParent(e){return e.getSourceBlock()}getNextSibling(e){return xs(e,1)}getPreviousSibling(e){return xs(e,-1)}isNavigable(e){let i;return e.canBeFocused()&&e.isVisible()&&(e.isClickable()||e.isCurrentlyEditable())&&!((i=e.getSourceBlock())!=null&&i.isSimpleReporter()&&e.isFullBlockField())&&e.getParentInput().isVisible()}isApplicable(e){return e instanceof Vi}},L1={};L1.register=zr,L1.unregister=wi;var Ap=17,c3=160,S4=80,ua=class extends hh{constructor(e){super(e),this.sourceBlock=e,this.textInputBubble=null,this.text="",this.bubbleSize=new Ir(c3,S4),this.bubbleVisiblity=!1}getType(){return ua.TYPE}initView(e){this.svgRoot||(super.initView(e),Ge(yt.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},this.svgRoot),Ge(yt.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},this.svgRoot),Ge(yt.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},this.svgRoot),Qt(this.svgRoot,"blocklyCommentIcon"))}dispose(){super.dispose();let e;(e=this.textInputBubble)==null||e.dispose()}getWeight(){return ua.WEIGHT}getSize(){return new Ir(Ap,Ap)}applyColour(){super.applyColour();const e=this.sourceBlock.getColour();let i;(i=this.textInputBubble)==null||i.setColour(e)}updateEditable(){const e=this,i=()=>super.updateEditable;return(0,It.asyncExecutePromiseGeneratorFunction)(function*(){i().call(e),e.bubbleIsVisible()&&(yield e.setBubbleVisible(!1),yield e.setBubbleVisible(!0))})}onLocationChange(e){const i=this.workspaceLocation;super.onLocationChange(e),this.bubbleLocation&&(e=Zt.difference(this.workspaceLocation,i),this.bubbleLocation=Zt.sum(this.bubbleLocation,e)),e=this.getAnchorLocation();let l;(l=this.textInputBubble)==null||l.setAnchorLocation(e)}setText(e){const i=this.text;de(new(Ut(Tt.BLOCK_CHANGE))(this.sourceBlock,"comment",null,i,e)),this.text=e;let l;(l=this.textInputBubble)==null||l.setText(this.text)}getText(){return this.text}setBubbleSize(e){this.bubbleSize=e;let i;(i=this.textInputBubble)==null||i.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}setBubbleLocation(e){this.bubbleLocation=e;let i;(i=this.textInputBubble)==null||i.moveDuringDrag(e)}getBubbleLocation(){return this.bubbleLocation}saveState(){if(this.text){const e={text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width},i=this.getBubbleLocation();return i&&(e.x=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(i.x+this.bubbleSize.width):i.x,e.y=i.y),e}return null}loadState(e){let i;this.text=(i=e.text)!=null?i:"";let l,h;this.bubbleSize=new Ir((l=e.width)!=null?l:c3,(h=e.height)!=null?h:S4);let w;this.bubbleVisiblity=(w=e.pinned)!=null?w:!1,this.setBubbleVisible(this.bubbleVisiblity);let L=e.x;const ce=e.y;ir().then(()=>{L&&ce&&(L=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(L+this.bubbleSize.width):L,this.setBubbleLocation(new Zt(L,ce)))})}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}onTextChange(){if(this.textInputBubble){var e=this.textInputBubble.getText();this.text!==e&&(de(new(Ut(Tt.BLOCK_CHANGE))(this.sourceBlock,"comment",null,this.text,e)),this.text=e)}}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}onBubbleLocationChange(){this.textInputBubble&&(this.bubbleLocation=this.textInputBubble.getRelativeToSurfaceXY())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(e){const i=this;return(0,It.asyncExecutePromiseGeneratorFunction)(function*(){i.bubbleVisiblity!==e&&(i.bubbleVisiblity=e,yield ir(),!i.sourceBlock.rendered||i.sourceBlock.isInFlyout||i.sourceBlock.isInsertionMarker()||(e?(i.sourceBlock.isEditable()?i.showEditableBubble():i.showNonEditableBubble(),i.applyColour()):i.hideBubble(),de(new(Ut(Tt.BUBBLE_OPEN))(i.sourceBlock,e,"comment"))))})}getBubble(){return this.textInputBubble}showEditableBubble(){this.createBubble();let e;(e=this.textInputBubble)==null||e.addTextChangeListener(()=>this.onTextChange());let i;(i=this.textInputBubble)==null||i.addSizeChangeListener(()=>this.onSizeChange())}showNonEditableBubble(){this.createBubble();let e;(e=this.textInputBubble)==null||e.setEditable(!1)}createBubble(){this.textInputBubble=new $l(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect(),this),this.textInputBubble.setText(this.getText()),this.textInputBubble.setSize(this.bubbleSize,!0),this.bubbleLocation&&this.textInputBubble.moveDuringDrag(this.bubbleLocation),this.textInputBubble.addTextChangeListener(()=>this.onTextChange()),this.textInputBubble.addSizeChangeListener(()=>this.onSizeChange()),this.textInputBubble.addLocationChangeListener(()=>this.onBubbleLocationChange())}hideBubble(){let e;(e=this.textInputBubble)==null||e.dispose(),this.textInputBubble=null}getAnchorLocation(){const e=Ap/2;return Zt.sum(this.workspaceLocation,new Zt(e,e))}getBubbleOwnerRect(){return this.sourceBlock.getBoundingRectangleWithoutChildren()}};ua.TYPE=Is.COMMENT,ua.WEIGHT=3,zr(ua.TYPE,ua);var k4=class{getFirstChild(e){if(e instanceof r.MutatorIcon$$module$build$src$core$icons$mutator_icon&&e.bubbleIsVisible()&&r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===e){let i,l;return(l=(i=e.getBubble())==null?void 0:i.getWorkspace())!=null?l:null}if(e instanceof ua&&e.bubbleIsVisible()&&r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===e){let i,l;return(l=(i=e.getBubble())==null?void 0:i.getEditor())!=null?l:null}return null}getParent(e){return e.getSourceBlock()}getNextSibling(e){return xs(e,1)}getPreviousSibling(e){return xs(e,-1)}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof hh}},Ip=class{getFirstChild(e){return e.view.getCommentBarButtons()[0]}getParent(e){return e.workspace}getNextSibling(e){return vs(e,1)}getPreviousSibling(e){return vs(e,-1)}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof xa}},Mp=class{getFirstChild(e){return e=e.getTopBlocks(!0),e.length?e[0]:null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()&&!e.isMutator}isApplicable(e){return e instanceof Pl}},qd=class{constructor(){this.rules=[new xp,new Cp,new kp,new Mp,new k4,new Ip,new u3,new a3,new Sp]}addNavigationPolicy(e){this.rules.push(e)}get(e){return this.rules.find(i=>i.isApplicable(e))}getFirstChild(e){let i;const l=(i=this.get(e))==null?void 0:i.getFirstChild(e);if(!l)return null;let h;return(h=this.get(l))!=null&&h.isNavigable(l)?l:this.getFirstChild(l)||this.getNextSibling(l)}getParent(e){let i;const l=(i=this.get(e))==null?void 0:i.getParent(e);if(!l)return null;let h;return(h=this.get(l))!=null&&h.isNavigable(l)?l:this.getParent(l)}getNextSibling(e){let i;const l=(i=this.get(e))==null?void 0:i.getNextSibling(e);if(!l)return null;let h;return(h=this.get(l))!=null&&h.isNavigable(l)?l:this.getNextSibling(l)}getPreviousSibling(e){let i;const l=(i=this.get(e))==null?void 0:i.getPreviousSibling(e);if(!l)return null;let h;return(h=this.get(l))!=null&&h.isNavigable(l)?l:this.getPreviousSibling(l)}},Tu=class extends qd{constructor(e){super(),this.rules.push(new l3,new wp),this.rules=this.rules.map(i=>new R1(i,e))}},B0=class{constructor(e,i,l,h,w){this.workspace=e,this.oldHostMetrics=this.corner_=this.vScroll=this.hScroll=null,i=i===void 0?!0:i,l=l===void 0?!0:l;const L=i&&l;i&&(this.hScroll=new Bs(e,!0,L,h,w)),l&&(this.vScroll=new Bs(e,!1,L,h,w)),L&&(this.corner_=Ge(yt.RECT,{height:Bs.scrollbarThickness,width:Bs.scrollbarThickness,class:"blocklyScrollbarBackground"}),ri(this.corner_,e.getBubbleCanvas()))}dispose(){cn(this.corner_),this.oldHostMetrics=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const e=this.workspace.getMetrics();if(e){var i=!1,l=!1;if(this.oldHostMetrics&&this.oldHostMetrics.viewWidth===e.viewWidth&&this.oldHostMetrics.viewHeight===e.viewHeight&&this.oldHostMetrics.absoluteTop===e.absoluteTop&&this.oldHostMetrics.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics&&this.oldHostMetrics.scrollWidth===e.scrollWidth&&this.oldHostMetrics.viewLeft===e.viewLeft&&this.oldHostMetrics.scrollLeft===e.scrollLeft||(i=!0),this.oldHostMetrics&&this.oldHostMetrics.scrollHeight===e.scrollHeight&&this.oldHostMetrics.viewTop===e.viewTop&&this.oldHostMetrics.scrollTop===e.scrollTop||(l=!0)):l=i=!0,i||l){try{r.disable$$module$build$src$core$events$utils(),this.hScroll&&i&&this.hScroll.resize(e),this.vScroll&&l&&this.vScroll.resize(e)}finally{r.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics||this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft){let h;(h=this.corner_)==null||h.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteTop!==e.absoluteTop){let h;(h=this.corner_)==null||h.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics=e}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(e,i){this.hScroll&&this.hScroll.setOrigin(e,i),this.vScroll&&this.vScroll.setOrigin(e,i)}set(e,i,l){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(i,!1),(l||l===void 0)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}setX(e){this.hScroll&&this.hScroll.set(e,!0)}setY(e){this.vScroll&&this.vScroll.set(e,!0)}setContainerVisible(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}isVisible(){let e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}setVisible(e){this.hScroll&&this.hScroll.setVisibleInternal(e),this.vScroll&&this.vScroll.setVisibleInternal(e)}resizeContent(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}resizeView(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}},ca="sep",D1=class{load(e,i){return e=new x4(0,i.horizontalLayout?"x":"y"),new N1(e,ca)}gapForItem(e,i){let l;return(l=parseInt(String(e.gap)))!=null?l:i}disposeItem(e){}getType(){return ca}};s(Xt.FLYOUT_INFLATER,ca,D1);var ac=class extends M1{constructor(e){super(),this.horizontalLayout=!1,this.boundEvents=[],this.reflowWrapper=null,this.contents=[],this.autoClose=!0,this.visible=!1,this.containerVisible=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,this.inflaters=new Map,e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new Pl(e),this.workspace_.setMetricsManager(new Gd(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.visible),this.workspace_.setNavigator(new Tu(this)),this.id=Ue(),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=this.MARGIN*3,this.GAP_Y=this.MARGIN*3}createDom(e){return this.svgGroup_=Ge(e,{class:"blocklyFlyout"}),this.svgGroup_.style.display="none",this.svgBackground_=Ge(yt.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new B0(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),this.boundEvents.push(W(this.svgGroup_,"wheel",this,this.wheel_)),this.boundEvents.push(W(this.svgBackground_,"pointerdown",this,this.onMouseDown)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:Oi.ComponentWeight.FLYOUT_WEIGHT,capabilities:[Oi.Capability.AUTOHIDEABLE,Oi.Capability.DELETE_AREA,Oi.Capability.DRAG_TARGET]})}dispose(){this.hide(),this.targetWorkspace.getComponentManager().removeComponent(this.id);for(const e of this.boundEvents)ie(e);this.boundEvents.length=0,this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&cn(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}setAutoClose(e){this.autoClose=e,this.targetWorkspace.recordDragTargets(),this.targetWorkspace.resizeContents()}autoHide(e){!e&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}getTargetWorkspace(){return this.targetWorkspace}isVisible(){return this.visible}setVisible(e){const i=e!==this.isVisible();this.visible=e,i&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}setContainerVisible(e){const i=e!==this.containerVisible;this.containerVisible=e,i&&this.updateDisplay()}getContents(){return this.contents}setContents(e){this.contents=e}updateDisplay(){let e;e=this.containerVisible?this.isVisible():!1,this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none");let i;(i=this.workspace_.scrollbar)==null||i.setContainerVisible(e)}positionAt_(e,i,l,h){let w;(w=this.svgGroup_)==null||w.setAttribute("width",`${e}`);let L;(L=this.svgGroup_)==null||L.setAttribute("height",`${i}`),this.workspace_.setCachedParentSvgSize(e,i),this.svgGroup_&&Ai(this.svgGroup_,"translate("+l+"px,"+h+"px)"),(e=this.workspace_.scrollbar)&&(e.setOrigin(l,h),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}hide(){this.isVisible()&&(this.setVisible(!1),this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null))}show(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks(),typeof e=="string"&&(e=this.getDynamicCategoryContents(e)),this.setVisible(!0),e=On(e),e=this.createFlyoutInfo(e),p(this.workspace_),this.setContents(e),this.layout_(e),this.horizontalLayout?this.height_=0:this.width_=0,this.reflow(),this.workspace_.setResizesEnabled(!0),this.reflowWrapper=i=>{i.type!==Tt.BLOCK_CHANGE&&i.type!==Tt.BLOCK_FIELD_INTERMEDIATE_CHANGE||this.reflow()},this.workspace_.addChangeListener(this.reflowWrapper)}createFlyoutInfo(e){const i=[],l=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const h of e)"custom"in h&&(e=this.getDynamicCategoryContents(h.custom),e=On(e),i.push(...this.createFlyoutInfo(e))),e=h.kind.toLowerCase(),(e=this.getInflaterForType(e))&&(i.push(e.load(h,this)),(e=e.gapForItem(h,l))&&i.push(new N1(new x4(e,this.horizontalLayout?"x":"y"),ca)));return this.normalizeSeparators(i)}normalizeSeparators(e){for(let i=e.length-1;i>0;i--){const l=e[i].getType().toLowerCase(),h=e[i-1].getType().toLowerCase();l===ca&&h===ca&&e.splice(i-1,1)}return e}getDynamicCategoryContents(e){if(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e),typeof e!="function")throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}clearOldBlocks(){this.getContents().forEach(i=>{let l;(l=this.getInflaterForType(i.getType()))==null||l.disposeItem(i)});let e;(e=this.workspace_.getPotentialVariableMap())==null||e.clear()}onMouseDown(e){const i=this.targetWorkspace.getGesture(e);i&&i.handleFlyoutStart(e,this)}isBlockCreatable(e){return e.isEnabled()&&!this.getTargetWorkspace().isReadOnly()}createBlock(e){let i=null;r.disable$$module$build$src$core$events$utils();var l=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{i=this.placeNewBlock(e)}finally{r.enable$$module$build$src$core$events$utils()}if(this.targetWorkspace.hideChaff(),e=Mo(this.targetWorkspace,l),qt()){for(r.setGroup$$module$build$src$core$events$utils(!0),l=0;l<e.length;l++){const h=e[l];de(new(Ut(Tt.VAR_CREATE))(h))}de(new(Ut(Tt.BLOCK_CREATE))(i))}return this.autoClose&&this.hide(),i}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowInternal_(),this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1}placeNewBlock(e){var i=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered");const l=this.serializeBlock(e);return i.setResizesEnabled(!1),i=jl(l,i),this.positionNewBlock(e,i),i}serializeBlock(e){return ts(e)}positionNewBlock(e,i){const l=this.targetWorkspace;var h=l.getOriginOffsetInPixels(),w=this.workspace_.getOriginOffsetInPixels();e=e.getRelativeToSurfaceXY(),e.scale(this.workspace_.scale),w=Zt.sum(w,e),h=Zt.difference(w,h),h.scale(1/l.scale),i.moveTo(new Zt(h.x,h.y))}getInflaterForType(e){if(this.inflaters.has(e)){var i;return(i=this.inflaters.get(e))!=null?i:null}return(i=$(Xt.FLYOUT_INFLATER,e))?(i=new i,this.inflaters.set(e,i),i):null}getFocusableElement(){throw Error("Flyouts are not directly focusable.")}getFocusableTree(){throw Error("Flyouts are not directly focusable.")}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}getRootFocusableNode(){throw Error("Flyouts are not directly focusable.")}getRestoredFocusableNode(e){throw Error("Flyouts are not directly focusable.")}getNestedTrees(){throw Error("Flyouts are not directly focusable.")}lookUpFocusableNode(e){throw Error("Flyouts are not directly focusable.")}onTreeFocus(e,i){}onTreeBlur(e){throw Error("Flyouts are not directly focusable.")}},Eu=class{constructor(){this.isActive=!1,this.activeClassName="blocklyKeyboardNavigation"}setIsActive(e=!0){this.isActive=e,this.updateActiveVisualization()}getIsActive(){return this.isActive}updateActiveVisualization(){this.isActive?document.body.classList.add(this.activeClassName):document.body.classList.remove(this.activeClassName)}},C4=new Eu,Np=class{constructor(e){this.workspace=e,this.horizontalScrollEnabled=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled=this.workspace.isMovableVertically(),this.startScrollXY_=new Zt(e.scrollX,e.scrollY)}dispose(){this.workspace=null}startDrag(){}endDrag(e){this.drag(e)}drag(e){if(e=Zt.sum(this.startScrollXY_,e),this.horizontalScrollEnabled&&this.verticalScrollEnabled)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled)this.workspace.scroll(e.x,this.workspace.scrollY);else if(this.verticalScrollEnabled)this.workspace.scroll(this.workspace.scrollX,e.y);else throw new TypeError("Invalid state.")}},Wd=5,z6=6,jd=class{constructor(e,i){this.creatorWorkspace=i,this.mouseDownXY=new Zt(0,0),this.startWorkspace_=this.targetBlock=this.startComment=this.startBlock=this.startIcon=this.startField=this.startBubble=null,this.hasExceededDragRadius=!1,this.boundEvents=[],this.workspaceDragger=this.dragger=null,this.dragging=!1,this.flyout=null,this.multiTouch=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1,this.cachedPoints=new Map,this.startDistance=this.previousScale=0,this.currentDropdownOwner=this.isPinchZoomEnabled=null,this.mostRecentEvent=e,this.currentDragDeltaXY=new Zt(0,0)}dispose(){P(),Xi(),this.creatorWorkspace.clearGesture();for(const e of this.boundEvents)ie(e);this.boundEvents.length=0,this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(e){const i=new Zt(e.clientX,e.clientY);this.updateDragDelta(i)&&(this.updateIsDragging(e),k()),this.mostRecentEvent=e}updateDragDelta(e){return this.currentDragDeltaXY=Zt.difference(e,this.mouseDownXY),this.hasExceededDragRadius?!1:this.hasExceededDragRadius=Zt.magnitude(this.currentDragDeltaXY)>(this.flyout?r.config$$module$build$src$core$config.flyoutDragRadius:r.config$$module$build$src$core$config.dragRadius)}updateIsDraggingFromFlyout(){let e;if(!this.targetBlock||(e=this.flyout)==null||!e.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error(`Cannot update dragging from the flyout because the ' +
          'flyout's target workspace is undefined`);return!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)?(this.startWorkspace_=this.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),r.getGroup$$module$build$src$core$events$utils()||r.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),!0):!1}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.dragging=!0,this.workspaceDragger=new Np(this.startWorkspace_),this.workspaceDragger.startDrag())}updateIsDragging(e){if(!this.startWorkspace_)throw Error("Cannot update dragging because the start workspace is undefined");if(this.calledUpdateIsDragging)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging=!0,this.flyout&&this.updateIsDraggingFromFlyout();const i=Ye();i&&xi(i)&&i.isMovable()?(this.dragging=!0,this.dragger=this.createDragger(i,this.startWorkspace_),this.dragger.onDragStart(e),this.dragger.onDrag(e,this.currentDragDeltaXY)):this.updateIsDraggingWorkspace()}createDragger(e,i){return new(T(Xt.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(e,i)}doStart(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,se(e)?this.cancel():(this.gestureHasStarted=!0,sn(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=Oc(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=e,jr(),Y(e)?this.handleRightClick(e):(e.type.toLowerCase()==="pointerdown"&&e.pointerType!=="mouse"&&S(e,this),this.mouseDownXY=new Zt(e.clientX,e.clientY),this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}bindMouseEvents(e){this.boundEvents.push(W(document,"pointerdown",null,this.handleStart.bind(this),!0)),this.boundEvents.push(W(document,"pointermove",null,this.handleMove.bind(this),!0)),this.boundEvents.push(W(document,"pointerup",null,this.handleUp.bind(this),!0)),this.boundEvents.push(W(document,"pointercancel",null,this.handleUp.bind(this),!0)),e.preventDefault(),e.stopPropagation()}handleStart(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&k())}handleMove(e){this.isDragging()&&G(e)||!this.isMultiTouch()?(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),k())}handleUp(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!G(e))return;if(this.updateFromEvent(e),k(),this.isEnding_){console.log("Trying to end a gesture recursively.");return}this.isEnding_=!0,this.dragger?(C4.setIsActive(!1),this.dragger.onDragEnd(e,this.currentDragDeltaXY)):this.workspaceDragger?(C4.setIsActive(!1),this.workspaceDragger.endDrag(this.currentDragDeltaXY)):this.isBubbleClick()||this.isCommentClick()||(this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(e))}e.preventDefault(),e.stopPropagation(),this.dispose()}handleTouchStart(e){var i=X(e);this.cachedPoints.set(i,this.getTouchPoint(e));var l=Array.from(this.cachedPoints.keys());l.length===2&&(i=this.cachedPoints.get(l[0]),l=this.cachedPoints.get(l[1]),this.startDistance=Zt.distance(i,l),this.multiTouch=!0,e.preventDefault())}handleTouchMove(e){const i=X(e);this.cachedPoints.set(i,this.getTouchPoint(e)),this.isPinchZoomEnabled&&this.cachedPoints.size===2?this.handlePinch(e):(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation())}handlePinch(e){var i=Array.from(this.cachedPoints.keys()),l=this.cachedPoints.get(i[0]);if(i=this.cachedPoints.get(i[1]),l=Zt.distance(l,i)/this.startDistance,this.previousScale>0&&this.previousScale<1/0){if(i=l-this.previousScale,i=i>0?i*Wd:i*z6,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");const h=this.startWorkspace_,w=fe(e,h.getParentSvg(),h.getInverseScreenCTM());h.zoom(w.x,w.y,i)}this.previousScale=l,e.preventDefault()}handleTouchEnd(e){e=X(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),this.cachedPoints.size<2&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(e){return this.startWorkspace_?new Zt(e.pageX,e.pageY):null}isMultiTouch(){return this.multiTouch}cancel(){this.isEnding_||(k(),this.dragger?this.dragger.onDragEnd(this.mostRecentEvent,this.currentDragDeltaXY):this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY),this.dispose())}handleRightClick(e){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(e)):this.startBubble?this.startBubble.showContextMenu(e):this.startComment?(this.startComment.workspace.hideChaff(),this.startComment.showContextMenu(e)):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startWorkspace_),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),C4.setIsActive(!1),this.dispose()}handleWsStart(e,i){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace(i),this.mostRecentEvent=e,this.startBlock||this.startBubble||this.startComment?this.startBlock&&r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startBlock):r.getFocusManager$$module$build$src$core$focus_manager().focusNode(i),this.doStart(e)}fireWorkspaceClick(e){de(new(Ut(Tt.CLICK))(null,e.id,"workspace"))}handleFlyoutStart(e,i){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout(i),this.handleWsStart(e,i.getWorkspace())}handleBlockStart(e,i){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(i),this.mostRecentEvent=e}handleBubbleStart(e,i){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(i),this.mostRecentEvent=e}handleCommentStart(e,i){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleCommentStart, but the gesture had already been started.");this.setStartComment(i),this.mostRecentEvent=e}doFieldClick(){if(!this.startField)throw Error("Cannot do a field click because the start field is undefined");this.bringBlockToFront(),this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent)}doIconClick(){if(!this.startIcon)throw Error("Cannot do an icon click because the start icon is undefined");this.bringBlockToFront(),this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error("Cannot do a block click because the target block is undefined");if(this.flyout.isBlockCreatable(this.targetBlock)){r.getGroup$$module$build$src$core$events$utils()||r.setGroup$$module$build$src$core$events$utils(!0);var e=this.flyout.createBlock(this.targetBlock);e.snapToGrid(),e.bumpNeighbours(),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");e=new(Ut(Tt.CLICK))(this.startBlock,this.startWorkspace_.id,"block"),de(e)}this.bringBlockToFront(),r.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(e){this.fireWorkspaceClick(this.startWorkspace_||this.creatorWorkspace)}bringBlockToFront(){this.targetBlock&&!this.flyout&&(r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),this.targetBlock.bringToFront())}setStartField(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField||(this.startField=e)}setStartIcon(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartIcon, but the gesture had already been started.");this.startIcon||(this.startIcon=e)}setStartBubble(e){this.startBubble||(this.startBubble=e)}setStartComment(e){this.startComment||(this.startComment=e)}setStartBlock(e){this.startBlock||this.startBubble||(this.startBlock=e,e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock(e.getRootBlock()):this.setTargetBlock(e))}setTargetBlock(e){e.isShadow()?this.setTargetBlock(e.getParent()):(this.targetBlock=e,r.getFocusManager$$module$build$src$core$focus_manager().focusNode(e))}setStartWorkspace(e){this.startWorkspace_||(this.startWorkspace_=e)}setStartFlyout(e){this.flyout||(this.flyout=e)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isCommentClick(){return!!this.startComment&&!this.hasExceededDragRadius}isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}isFieldClick(){return this.startField?this.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose)):!1}isIconClick(){if(!this.startIcon)return!1;const e=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&e}isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}getCurrentDragger(){let e,i;return(i=(e=this.workspaceDragger)!=null?e:this.dragger)!=null?i:null}isDragging(){return this.dragging}hasStarted(){return this.gestureHasStarted}static inProgress(){const e=st();for(let i=0,l;l=e[i];i++)if(l.currentGesture_)return!0;return!1}},B1=class{constructor(e,i){this.pattern=e,this.scale=1;let l;this.spacing=(l=i.spacing)!=null?l:0;let h;this.length=(h=i.length)!=null?h:1,this.line2=(this.line1=e.firstChild)&&this.line1.nextSibling;let w;this.snapToGrid=(w=i.snap)!=null?w:!1}setSpacing(e){this.spacing=e,this.update(this.scale)}getSpacing(){return this.spacing}setLength(e){this.length=e,this.update(this.scale)}getLength(){return this.length}setSnapToGrid(e){this.snapToGrid=e}shouldSnap(){return this.snapToGrid}getPatternId(){return this.pattern.id}update(e){this.scale=e;var i=this.spacing*e;this.pattern.setAttribute("width",`${i}`),this.pattern.setAttribute("height",`${i}`),i=Math.floor(this.spacing/2)+.5;let l=i-this.length/2,h=i+this.length/2;i*=e,l*=e,h*=e,this.setLineAttributes(this.line1,e,l,h,i,i),this.setLineAttributes(this.line2,e,i,i,l,h)}setLineAttributes(e,i,l,h,w,L){e&&(e.setAttribute("stroke-width",`${i}`),e.setAttribute("x1",`${l}`),e.setAttribute("y1",`${w}`),e.setAttribute("x2",`${h}`),e.setAttribute("y2",`${L}`))}moveTo(e,i){this.pattern.setAttribute("x",`${e}`),this.pattern.setAttribute("y",`${i}`)}alignXY(e){var i=this.getSpacing();const l=i/2,h=Math.round(Math.round((e.x-l)/i)*i+l);return i=Math.round(Math.round((e.y-l)/i)*i+l),h===e.x&&i===e.y?e:new Zt(h,i)}static createDom(e,i,l,h){e=Ge(yt.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},l);let w,L;if(((w=i.length)!=null?w:1)>0&&((L=i.spacing)!=null?L:0)>0){Ge(yt.LINE,{stroke:i.colour},e);let ce;(ce=i.length)!=null&&ce&&Ge(yt.LINE,{stroke:i.colour},e)}else Ge(yt.LINE,{},e);return h&&h.style.setProperty("--blocklyGridPattern",`url(#${e.id})`),e}},h3=class{constructor(e){this.workspace=e,this.layers=new Map,(e=e.getInjectionDiv())&&(this.dragLayer=this.createDragLayer(e),this.animationLayer=this.createAnimationLayer(e)),e=this.createLayer(ic),Qt(e,"blocklyBlockCanvas"),e=this.createLayer(Fd),Qt(e,"blocklyBubbleCanvas")}createDragLayer(e){const i=Ge(yt.SVG,{class:"blocklyBlockDragSurface",xmlns:p1,"xmlns:html":du,"xmlns:xlink":gl,version:"1.1"});return e.append(i),Ge(yt.G,{},i)}createAnimationLayer(e){const i=Ge(yt.SVG,{class:"blocklyAnimationLayer",xmlns:p1,"xmlns:html":du,"xmlns:xlink":gl,version:"1.1"});return e.append(i),Ge(yt.G,{},i)}appendToAnimationLayer(e){let i;const l=(i=this.dragLayer)==null?void 0:i.getAttribute("transform");if(l){let w;(w=this.animationLayer)==null||w.setAttribute("transform",l)}let h;(h=this.animationLayer)==null||h.appendChild(e.getSvgRoot())}translateLayers(e,i){e=`translate(${e.x}, ${e.y}) scale(${i})`;let l;(l=this.dragLayer)==null||l.setAttribute("transform",e);for(const[,h]of this.layers)h.setAttribute("transform",e)}moveToDragLayer(e){let i;(i=this.dragLayer)==null||i.appendChild(e.getSvgRoot()),e.canBeFocused()&&r.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}moveOffDragLayer(e,i){this.append(e,i),e.canBeFocused()&&r.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}append(e,i){this.layers.has(i)||this.createLayer(i),e=e.getSvgRoot();let l;if(((l=this.layers.get(i))==null?void 0:l.lastChild)!==e){let h;(h=this.layers.get(i))==null||h.appendChild(e)}}createLayer(e){const i=this.workspace.getSvgGroup(),l=Ge(yt.G,{});let h=!1;const w=[...this.layers].sort((L,ce)=>L[0]-ce[0]);for(const[L,ce]of w)if(e<L){i.insertBefore(l,ce),h=!0;break}return h||i.appendChild(l),this.layers.set(e,l),l}hasLayer(e){return e===this.dragLayer||new Set(this.layers.values()).has(e)}getBlockLayer(){return this.layers.get(ic)}getBubbleLayer(){return this.layers.get(Fd)}},d3=class{constructor(){this.curNode=this.colour=null,this.type="marker"}getCurNode(){return this.curNode}setCurNode(e){this.curNode=e}dispose(){this.curNode=null}getSourceBlockFromNode(e){return e instanceof os?e:e instanceof Vi||e instanceof Fo?e.getSourceBlock():null}getSourceBlock(){return this.getSourceBlockFromNode(this.getCurNode())}},P1=class extends d3{constructor(e){super(),this.workspace=e,this.type="cursor",this.potentialNodes=null}next(){var e=this.getCurNode();return e?((e=this.getNextNode(e,i=>{let l;return i instanceof os&&!((l=i.outputConnection)!=null&&l.targetBlock())||i instanceof xa},!0))&&this.setCurNode(e),e):null}in(){var e=this.getCurNode();return e?((e=this.getNextNode(e,()=>!0,!0))&&this.setCurNode(e),e):null}prev(){var e=this.getCurNode();return e?((e=this.getPreviousNode(e,i=>{let l;return i instanceof os&&!((l=i.outputConnection)!=null&&l.targetBlock())||i instanceof xa},!0))&&this.setCurNode(e),e):null}out(){var e=this.getCurNode();return e?((e=this.getPreviousNode(e,()=>!0,!0))&&this.setCurNode(e),e):null}atEndOfLine(){var e=this.getCurNode();if(!e)return!1;const i=this.getNextNode(e,()=>!0,!0);return e=this.getNextNode(e,l=>{let h;return l instanceof os&&!((h=l.outputConnection)!=null&&h.targetBlock())},!0),i===e}getNextNodeImpl(e,i,l=new Set){if(!e||l.has(e))return null;let h=this.workspace.getNavigator().getFirstChild(e)||this.workspace.getNavigator().getNextSibling(e);for(var w=e;w&&!h&&(w=this.workspace.getNavigator().getParent(w),!!w);)h=this.workspace.getNavigator().getNextSibling(w);return i(h)?h:h?(l.add(e),this.getNextNodeImpl(h,i,l)):null}getNextNode(e,i,l){return!e||!l&&this.getLastNode()===e?null:this.getNextNodeImpl(e,i)}getPreviousNodeImpl(e,i,l=new Set){if(!e||l.has(e))return null;const h=this.getRightMostChild(this.workspace.getNavigator().getPreviousSibling(e),e)||this.workspace.getNavigator().getParent(e);return i(h)?h:h?(l.add(e),this.getPreviousNodeImpl(h,i,l)):null}getPreviousNode(e,i,l){return!e||!l&&this.getFirstNode()===e?null:this.getPreviousNodeImpl(e,i)}getRightMostChild(e,i){if(!e)return e;let l=this.workspace.getNavigator().getFirstChild(e);if(!l||l===i)return e;for(e=l;e&&e!==i;e=this.workspace.getNavigator().getNextSibling(l))l=e;return this.getRightMostChild(l,i)}preDelete(e){var i=this.getCurNode();i=i?[i]:[];var l;let h,w;const L=(w=(l=e.previousConnection)==null?void 0:l.targetConnection)!=null?w:(h=e.outputConnection)==null?void 0:h.targetConnection;L&&i.push(L),(l=e.getNextBlock())&&i.push(l),(e=e.getParent())&&i.push(e),i.push(this.workspace),this.potentialNodes=i}postDelete(){const e=this.potentialNodes;if(this.potentialNodes=null,!e)throw Error("must call preDelete first");for(const i of e){let l;if((l=this.getSourceBlockFromNode(i))==null||!l.disposed){this.setCurNode(i);return}}throw Error("no valid nodes in this.potentialNodes")}getCurNode(){return r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()}setCurNode(e){r.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}getFirstNode(){return this.workspace.getNavigator().getFirstChild(this.workspace)}getLastNode(){const e=this.getFirstNode();return this.getPreviousNode(e,()=>!0,!0)}};s(Xt.CURSOR,kl,P1);var F1=class{constructor(e){this.workspace=e,this.markers=new Map,this.cursor=new P1(this.workspace)}registerMarker(e,i){this.markers.has(e)&&this.unregisterMarker(e),this.markers.set(e,i)}unregisterMarker(e){const i=this.markers.get(e);if(i)i.dispose(),this.markers.delete(e);else throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.")}getCursor(){return this.cursor}getMarker(e){return this.markers.get(e)||null}setCursor(e){this.cursor=e}dispose(){const e=Object.keys(this.markers);for(let i=0,l;l=e[i];i++)this.unregisterMarker(l);this.markers.clear(),this.cursor.dispose()}};F1.LOCAL_MARKER="local_marker_1";var wu={};wu.CommentIcon=ua,wu.Icon=hh,wu.IconType=Is,wu.MutatorIcon=r.MutatorIcon$$module$build$src$core$icons$mutator_icon,wu.WarningIcon=D0,wu.exceptions=yp,wu.registry=L1,r.Names$$module$build$src$core$names=class{constructor(e,i){this.db=new Map,this.dbReverse=new Set,this.variableMap=null,this.variablePrefix=i||"",this.reservedWords=new Set(e?e.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap=null}setVariableMap(e){this.variableMap=e}getNameForUserVariable(e){return this.variableMap?(e=this.variableMap.getVariableById(e))?e.getName():null:(console.warn(`Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:
Blockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());`),null)}populateVariables(e){e=r.allUsedVarModels$$module$build$src$core$variables(e);for(let i=0;i<e.length;i++)this.getName(e[i].getId(),r.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(e,i){let l=e;i===r.NameType$$module$build$src$core$names.VARIABLE&&(e=this.getNameForUserVariable(e))&&(l=e),e=l.toLowerCase();const h=i===r.NameType$$module$build$src$core$names.VARIABLE||i===r.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"";this.db.has(i)||this.db.set(i,new Map);const w=this.db.get(i);return w.has(e)?h+w.get(e):(i=this.getDistinctName(l,i),w.set(e,i.substr(h.length)),i)}getUserNames(e){let i;return(e=(i=this.db.get(e))==null?void 0:i.keys())?Array.from(e):[]}getDistinctName(e,i){e=this.safeName(e);let l=null,h,w;for(;this.dbReverse.has(e+((h=l)!=null?h:""))||this.reservedWords.has(e+((w=l)!=null?w:""));)l=l?l+1:2;let L;return e+=(L=l)!=null?L:"",this.dbReverse.add(e),(i===r.NameType$$module$build$src$core$names.VARIABLE||i===r.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"")+e}safeName(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),"0123456789".includes(e[0])&&(e="my_"+e)):e=r.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed",e}static equals(e,i){return e.toLowerCase()===i.toLowerCase()}},(function(e){e=e.NameType||(e.NameType={}),e.DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",e.VARIABLE="VARIABLE",e.PROCEDURE="PROCEDURE"})(r.Names$$module$build$src$core$names||(r.Names$$module$build$src$core$names={})),r.NameType$$module$build$src$core$names=r.Names$$module$build$src$core$names.NameType,r.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=r.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,r.NameType$$module$build$src$core$names,r.Names$$module$build$src$core$names;var $h=class extends Map{constructor(){super()}set(e,i){return this.get(e)===i?this:(super.set(e,i),rs(i)&&i.startPublishing(),this)}delete(e){const i=this.get(e);return e=super.delete(e),e&&(rs(i)&&i.stopPublishing(),e)}clear(){if(this.size)for(const e of this.keys())this.delete(e)}add(e){return this.set(e.getId(),e)}getProcedures(){return[...this.values()]}},Xd,zo;Xd="PROCEDURE",r.DEFAULT_ARG$$module$build$src$core$procedures="x",zo={CATEGORY_NAME:Xd,DEFAULT_ARG:r.DEFAULT_ARG$$module$build$src$core$procedures},zo.ObservableProcedureMap=$h,zo.allProcedures=ko,zo.findLegalName=r.findLegalName$$module$build$src$core$procedures,zo.flyoutCategory=ml,zo.getCallers=_f,zo.getDefinition=r.getDefinition$$module$build$src$core$procedures,zo.internalFlyoutCategory=qa,zo.isNameUsed=Wc,zo.isProcedureBlock=bi,zo.mutateCallers=r.mutateCallers$$module$build$src$core$procedures,zo.mutatorOpenListener=v0,zo.rename=r.rename$$module$build$src$core$procedures;var A4=class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}getType(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}isField(e){return(e.type&this.FIELD)>=1}isHat(e){return(e.type&this.HAT)>=1}isIcon(e){return(e.type&this.ICON)>=1}isSpacer(e){return(e.type&this.SPACER)>=1}isInRowSpacer(e){return(e.type&this.IN_ROW_SPACER)>=1}isSpacerRow(e){return(e.type&this.BETWEEN_ROW_SPACER)>=1}isInput(e){return(e.type&this.INPUT)>=1}isExternalInput(e){return(e.type&this.EXTERNAL_VALUE_INPUT)>=1}isInlineInput(e){return(e.type&this.INLINE_INPUT)>=1}isStatementInput(e){return(e.type&this.STATEMENT_INPUT)>=1}isPreviousConnection(e){return(e.type&this.PREVIOUS_CONNECTION)>=1}isNextConnection(e){return(e.type&this.NEXT_CONNECTION)>=1}isPreviousOrNextConnection(e){return this.isPreviousConnection(e)||this.isNextConnection(e)}isRoundCorner(e){return(e.type&this.LEFT_ROUND_CORNER)>=1||(e.type&this.RIGHT_ROUND_CORNER)>=1}isLeftRoundedCorner(e){return this.isRoundCorner(e)&&(e.type&this.LEFT_ROUND_CORNER)>=1}isRightRoundedCorner(e){return this.isRoundCorner(e)&&(e.type&this.RIGHT_ROUND_CORNER)>=1}isLeftSquareCorner(e){return(e.type&this.LEFT_SQUARE_CORNER)>=1}isRightSquareCorner(e){return(e.type&this.RIGHT_SQUARE_CORNER)>=1}isCorner(e){return(e.type&this.CORNER)>=1}isJaggedEdge(e){return(e.type&this.JAGGED_EDGE)>=1}isRow(e){return(e.type&this.ROW)>=1}isBetweenRowSpacer(e){return(e.type&this.BETWEEN_ROW_SPACER)>=1}isTopRow(e){return(e.type&this.TOP_ROW)>=1}isBottomRow(e){return(e.type&this.BOTTOM_ROW)>=1}isTopOrBottomRow(e){return this.isTopRow(e)||this.isBottomRow(e)}isInputRow(e){return(e.type&this.INPUT_ROW)>=1}},lt=new A4,P0=class{constructor(e){this.centerline=this.xPos=this.height=this.width=0,this.constants_=e,this.type=lt.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},uc=class{constructor(e){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=e,this.type=lt.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let e=this.elements.length-1;e>=0;e--){const i=this.elements[e];if(lt.isInput(i))return i}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let e=0;e<this.elements.length;e++){const i=this.elements[e];if(lt.isInRowSpacer(i))return i}return null}getLastSpacer(){for(let e=this.elements.length-1;e>=0;e--){const i=this.elements[e];if(lt.isInRowSpacer(i))return i}return null}},o=class extends uc{constructor(e){super(e),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=lt.BOTTOM_ROW}hasLeftSquareCorner(e){return!!e.outputConnection||!!e.getNextBlock()}hasRightSquareCorner(e){return!0}measure(){let e=0,i=0,l=0;for(let h=0;h<this.elements.length;h++){const w=this.elements[h];i+=w.width,lt.isSpacer(w)||(lt.isNextConnection(w)?l=Math.max(l,w.height):e=Math.max(e,w.height))}this.width=Math.max(this.minWidth,i),this.height=Math.max(this.minHeight,e)+l,this.descenderHeight=l,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},u=class extends P0{constructor(e,i){super(e),this.connectionModel=i,this.type|=lt.CONNECTION,this.shape=this.constants_.shapeFor(i),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.highlighted=i.isHighlighted()}},f=class extends u{constructor(e,i){super(e,i.connection),this.input=i,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=lt.INPUT,this.align=i.align,(this.connectedBlock=i.connection&&i.connection.targetBlock()?i.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},b=class extends f{constructor(e,i){super(e,i),this.height=0,this.type|=lt.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},C=class extends P0{constructor(e,i,l){super(e),this.field=i,this.parentInput=l,this.isEditable=i.EDITABLE,this.flipRtl=i.getFlipRtl(),this.type|=lt.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width}},N=class extends P0{constructor(e){super(e),this.type|=lt.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},Q=class extends P0{constructor(e,i){super(e),this.icon=i,this.flipRtl=!1,this.type|=lt.ICON,e=i.getSize(),this.height=e.height,this.width=e.width}},we=class extends P0{constructor(e,i){super(e),this.type|=lt.SPACER|lt.IN_ROW_SPACER,this.width=i,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},tt=class extends f{constructor(e,i){super(e,i),this.type|=lt.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},wt=class extends uc{constructor(e){super(e),this.connectedBlockWidths=0,this.type|=lt.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let e=0;for(let i=0;i<this.elements.length;i++){const l=this.elements[i];this.width+=l.width,lt.isInput(l)&&(lt.isStatementInput(l)?e+=l.connectedBlockWidth:lt.isExternalInput(l)&&l.connectedBlockWidth!==0&&(e+=l.connectedBlockWidth-l.connectionWidth)),lt.isSpacer(l)||(this.height=Math.max(this.height,l.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},Yt=class extends P0{constructor(e){super(e),this.type|=lt.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},nn=class extends u{constructor(e,i){super(e,i),this.type|=lt.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},Dt=class extends u{constructor(e,i){super(e,i),this.connectionOffsetX=0,this.type|=lt.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},zt=class extends u{constructor(e,i){super(e,i),this.type|=lt.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},Dn=class extends P0{constructor(e,i){super(e),this.type=(i&&i!=="left"?lt.RIGHT_ROUND_CORNER:lt.LEFT_ROUND_CORNER)|lt.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},dr=class extends uc{constructor(e,i,l){super(e),this.height=i,this.width=l,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type|=lt.SPACER|lt.BETWEEN_ROW_SPACER,this.elements=[new we(this.constants_,l)]}measure(){}},Li=class extends P0{constructor(e,i){super(e),this.type=(i&&i!=="left"?lt.RIGHT_SQUARE_CORNER:lt.LEFT_SQUARE_CORNER)|lt.CORNER,this.width=this.height=this.constants_.NO_PADDING}},gt=class extends f{constructor(e,i){super(e,i),this.type|=lt.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},ut=class extends uc{constructor(e){super(e),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=lt.TOP_ROW}hasLeftSquareCorner(e){const i=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,l=e.getPreviousBlock();return!!e.outputConnection||i||(l?l.getNextBlock()===e:!1)}hasRightSquareCorner(e){return!0}measure(){let e=0,i=0,l=0;for(let h=0;h<this.elements.length;h++){const w=this.elements[h];i+=w.width,lt.isSpacer(w)||(lt.isHat(w)?l=Math.max(l,w.ascenderHeight):e=Math.max(e,w.height))}this.width=Math.max(this.minWidth,i),this.height=Math.max(this.minHeight,e)+l,this.capline=this.ascenderHeight=l,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},Et=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs=null,this.embossFilterId="",this.embossFilter=null,this.disabledPatternId="",this.disabledPattern=null,this.debugFilterId="",this.cssNode=this.debugFilter=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=Ui(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(e){this.blockStyles=Object.create(null);const i=e.blockStyles;for(const l in i)this.blockStyles[l]=this.validatedBlockStyle_(i[l]);this.setDynamicProperties_(e)}setDynamicProperties_(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=e.startHats!==void 0?e.startHats:this.ADD_START_HATS}setFontConstants_(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=D("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}setComponentConstants_(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(e){const i="auto_"+e;return this.blockStyles[i]||(this.blockStyles[i]=this.createBlockStyle_(e)),{style:this.blockStyles[i],name:i}}getBlockStyle(e){return this.blockStyles[e||""]||(e&&e.startsWith("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(e){return this.validatedBlockStyle_({colourPrimary:e})}validatedBlockStyle_(e){const i={};return e&&Object.assign(i,e),e=Fi(i.colourPrimary||"#000"),i.colourPrimary=e.hex,i.colourSecondary=i.colourSecondary?Fi(i.colourSecondary).hex:this.generateSecondaryColour_(i.colourPrimary),i.colourTertiary=i.colourTertiary?Fi(i.colourTertiary).hex:this.generateTertiaryColour_(i.colourPrimary),i.hat=i.hat||"",i}generateSecondaryColour_(e){return po("#fff",e,.6)||e}generateTertiaryColour_(e){return po("#fff",e,.3)||e}dispose(){this.embossFilter&&cn(this.embossFilter),this.disabledPattern&&cn(this.disabledPattern),this.debugFilter&&cn(this.debugFilter),this.cssNode=null}makeJaggedTeeth(){const e=this.JAGGED_TEETH_HEIGHT,i=this.JAGGED_TEETH_WIDTH,l=y([qn(i,e/4),qn(-i*2,e/2),qn(i,e/4)]);return{height:e,width:i,path:l}}makeStartHat(){const e=this.START_HAT_HEIGHT,i=this.START_HAT_WIDTH,l=pl("c",[qn(30,-e),qn(70,-e),qn(i,0)]);return{height:e*.75,width:i,path:l}}makePuzzleTab(){function e(L){L=L?-1:1;const ce=-L;var Ve=l/2;const Gt=Ve+2.5,Yn=Ve+.5,no=qn(-i,L*Ve);return Ve=qn(i,L*Ve),pl("c",[qn(0,L*Gt),qn(-i,ce*Yn),no])+pl("s",[qn(i,ce*2.5),Ve])}const i=this.TAB_WIDTH,l=this.TAB_HEIGHT,h=e(!0),w=e(!1);return{type:this.SHAPES.PUZZLE,width:i,height:l,pathDown:w,pathUp:h}}makeNotch(){function e(ce){return y([qn(ce*h,l),qn(ce*3,0),qn(ce*h,-l)])}const i=this.NOTCH_WIDTH,l=this.NOTCH_HEIGHT,h=(i-3)/2,w=e(1),L=e(-1);return{type:this.SHAPES.NOTCH,width:i,height:l,pathLeft:w,pathRight:L}}makeInsideCorners(){const e=this.CORNER_RADIUS,i=E("a","0 0,0",e,qn(-e,e)),l=E("a","0 0,0",e,qn(e,e));return{width:e,height:e,pathTop:i,pathBottom:l}}makeOutsideCorners(){const e=this.CORNER_RADIUS,i=Ui(0,e)+E("a","0 0,1",e,qn(e,-e)),l=E("a","0 0,1",e,qn(e,e)),h=E("a","0 0,1",e,qn(-e,-e)),w=E("a","0 0,1",e,qn(-e,e));return{topLeft:i,topRight:l,bottomRight:w,bottomLeft:h,rightHeight:e}}shapeFor(e){switch(e.type){case In.INPUT_VALUE:case In.OUTPUT_VALUE:return this.PUZZLE_TAB;case In.PREVIOUS_STATEMENT:case In.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(e,i,l,h){this.injectCSS_(i,l),this.defs=Ge(yt.DEFS,{},e),e=Ge(yt.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs),Ge(yt.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),i=Ge(yt.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),Ge(yt.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},i),Ge(yt.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),Ge(yt.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter=e,e=Ge(yt.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs),Ge(yt.RECT,{width:10,height:10,fill:"#aaa"},e),Ge(yt.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern=e,this.createDebugFilter(),h&&(h.style.setProperty("--blocklyEmbossFilter",`url(#${this.embossFilterId})`),h.style.setProperty("--blocklyDisabledPattern",`url(#${this.disabledPatternId})`),h.style.setProperty("--blocklyDebugFilter",`url(#${this.debugFilterId})`))}createDebugFilter(){if(!this.debugFilter){const e=Ge(yt.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs),i=Ge(yt.FECOMPONENTTRANSFER,{result:"outBlur"},e);Ge(yt.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},i),Ge(yt.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),Ge(yt.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter=e}}injectCSS_(e,i){i=this.getCSS_(i),e="blockly-renderer-style-"+e,this.cssNode=document.getElementById(e);const l=i.join(`
`);this.cssNode?this.cssNode.firstChild.textContent=l:(i=document.createElement("style"),i.id=e,e=document.createTextNode(l),i.appendChild(e),document.head.insertBefore(i,document.head.firstChild),this.cssNode=i)}getCSS_(e){return[`${e} .blocklyText, `,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableField>rect,`,`${e} .blocklyEditableField>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",`${e} .blocklyNonEditableField>text,`,`${e} .blocklyEditableField>text {`,"fill: #000;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #000;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #000;","}",`${e} .blocklyEditableField:not(.blocklyEditing):hover>rect {`,"stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",`${e} .blocklySelected>.blocklyPath {`,"stroke: #fc3;","stroke-width: 3px;","}",`${e} .blocklyHighlightedConnectionPath {`,"stroke: #fc3;","}",`${e} .blocklyReplaceable .blocklyPath {`,"fill-opacity: .5;","}",`${e} .blocklyReplaceable .blocklyPathLight,`,`${e} .blocklyReplaceable .blocklyPathDark {`,"display: none;","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},Kt=class{constructor(e,i){this.inlinePath_=this.outlinePath_="",this.block_=e,this.info_=i,this.topLeft_=e.getRelativeToSurfaceXY(),this.constants_=i.getRenderer().getConstants()}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),this.block_.pathObject.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),this.recordSizeOnBlock_()}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren,this.block_.childlessWidth=this.info_.width}drawOutline_(){this.drawTop_();for(let e=1;e<this.info_.rows.length-1;e++){const i=this.info_.rows[e];i.hasJaggedEdge?this.drawJaggedEdge_(i):i.hasStatement?this.drawStatementInput_(i):i.hasExternalInput?this.drawValueInput_(i):this.drawRightSideRow_(i)}this.drawBottom_(),this.drawLeft_()}drawTop_(){const e=this.info_.topRow,i=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=Ui(e.xPos,this.info_.startY);for(let l=0,h;h=i[l];l++)lt.isLeftRoundedCorner(h)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:lt.isRightRoundedCorner(h)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:lt.isPreviousConnection(h)?this.outlinePath_+=h.shape.pathLeft:lt.isHat(h)?this.outlinePath_+=this.constants_.START_HAT.path:lt.isSpacer(h)&&(this.outlinePath_+=g("h",h.width));this.outlinePath_+=g("v",e.height-e.ascenderHeight)}drawJaggedEdge_(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+g("v",e.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(e){const i=e.getLastInput();this.positionExternalValueConnection_(e);const l=nl(i.shape)?i.shape.pathDown(i.height):i.shape.pathDown;this.outlinePath_+=g("H",i.xPos+i.width)+l+g("v",e.height-i.connectionHeight)}drawStatementInput_(e){var i=e.getLastInput();if(i){var l=i.xPos+i.notchOffset+i.shape.width;i=i.shape.pathRight+g("h",-(i.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var h=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=g("H",l)+i+g("v",h)+this.constants_.INSIDE_CORNERS.pathBottom+g("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}drawRightSideRow_(e){this.outlinePath_+=g("V",e.yPos+e.height)}drawBottom_(){const e=this.info_.bottomRow,i=e.elements;this.positionNextConnection_();let l=0,h="";for(let w=i.length-1,L;L=i[w];w--)lt.isNextConnection(L)?h+=L.shape.pathRight:lt.isLeftSquareCorner(L)?h+=g("H",e.xPos):lt.isLeftRoundedCorner(L)?h+=this.constants_.OUTSIDE_CORNERS.bottomLeft:lt.isRightRoundedCorner(L)?(h+=this.constants_.OUTSIDE_CORNERS.bottomRight,l=this.constants_.OUTSIDE_CORNERS.rightHeight):lt.isSpacer(L)&&(h+=g("h",L.width*-1));this.outlinePath_+=g("V",e.baseline-l),this.outlinePath_+=h}drawLeft_(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){const i=e.connectionOffsetY+e.height;e=nl(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=g("V",i)+e}this.outlinePath_+="z"}drawInternals_(){for(let e=0,i;i=this.info_.rows[e];e++)for(let l=0,h;h=i.elements[l];l++)lt.isInlineInput(h)?this.drawInlineInput_(h):(lt.isIcon(h)||lt.isField(h))&&this.layoutField_(h)}layoutField_(e){const i=e.centerline-e.height/2;let l=e.xPos;var h="";this.info_.RTL&&(l=-(l+e.width),e.flipRtl&&(l+=e.width,h="scale(-1 1)")),lt.isIcon(e)?(h=e.icon,h.setOffsetInBlock(new Zt(l,i)),this.info_.isInsertionMarker&&h.hideForInsertionMarker()):(e=e.field.getSvgRoot(),e.setAttribute("transform","translate("+l+","+i+")"+h),this.info_.isInsertionMarker&&e.setAttribute("display","none"))}drawInlineInput_(e){const i=e.width,l=e.height,h=e.connectionOffsetY,w=e.connectionHeight+h;this.inlinePath_+=mo(e.xPos+e.connectionWidth,e.centerline-l/2)+g("v",h)+e.shape.pathDown+g("v",l-w)+g("h",i-e.connectionWidth)+g("v",-l)+"z",this.positionInlineInputConnection_(e)}positionInlineInputConnection_(e){const i=e.centerline-e.height/2;if(e.connectionModel){let l=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(l*=-1),e.connectionModel.setOffsetInBlock(l,i+e.connectionOffsetY)}}positionStatementInputConnection_(e){const i=e.getLastInput();if(i!=null&&i.connectionModel){let l=e.xPos+e.statementEdge+i.notchOffset;this.info_.RTL&&(l*=-1),i.connectionModel.setOffsetInBlock(l,e.yPos)}}positionExternalValueConnection_(e){const i=e.getLastInput();if(i&&i.connectionModel){let l=e.xPos+e.width;this.info_.RTL&&(l*=-1),i.connectionModel.setOffsetInBlock(l,e.yPos)}}positionPreviousConnection_(){const e=this.info_.topRow;if(e.connection){const i=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-i:i,0)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const i=e.connection,l=i.xPos;i.connectionModel.setOffsetInBlock(this.info_.RTL?-l:l,e.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}updateConnectionHighlights(){for(const e of this.info_.rows)for(const i of e.elements){if(!(i instanceof u))continue;const l=this.drawConnectionHighlightPath(i);l&&(l.style.display=i.highlighted?"":"none")}}drawConnectionHighlightPath(e){const i=e.connectionModel;e=i.type===In.INPUT_VALUE||i.type===In.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(e):this.getStatementConnectionHighlightPath(e);const l=i.getSourceBlock();let h,w;return(w=(h=l.pathObject).addConnectionHighlight)==null?void 0:w.call(h,i,e,i.getOffsetInBlock(),l.RTL)}getExpressionConnectionHighlightPath(e){let i="";return nl(e.shape)?i=e.shape.pathDown(e.height):Zs(e.shape)&&(i=e.shape.pathDown),e=this.constants_.TAB_OFFSET_FROM_TOP,Ui(0,-e)+g("v",e)+i+g("v",e)}getStatementConnectionHighlightPath(e){if(!hd(e.shape))throw Error("Statement connections should have notch shapes");const i=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return Ui(-i,0)+g("h",i)+e.shape.pathLeft+g("h",i)}},nr=class{constructor(e,i){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.startY=this.startX=0,this.renderer_=e,this.block_=i,this.constants_=this.renderer_.getConstants(),this.outputConnection=i.outputConnection?new Dt(this.constants_,i.outputConnection):null,this.isInline=i.getInputsInline()&&!i.isCollapsed(),this.isCollapsed=i.isCollapsed(),this.isInsertionMarker=i.isInsertionMarker(),this.RTL=i.RTL,this.topRow=new ut(this.constants_),this.bottomRow=new o(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let e=new wt(this.constants_);this.inputRows.push(e);var i=this.block_.getIcons();for(let l=0,h;h=i[l];l++){const w=new Q(this.constants_,h);this.isCollapsed&&!h.isShownWhenCollapsed()||e.elements.push(w)}i=void 0;for(let l=0,h;h=this.block_.inputList[l];l++)if(h.isVisible()){this.shouldStartNewRow_(h,i)&&(this.rows.push(e),e=new wt(this.constants_),this.inputRows.push(e));for(let w=0,L;L=h.fieldRow[w];w++)e.elements.push(new C(this.constants_,L,h));this.addInput_(h,e),i=h}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new Yt(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var e=!!this.block_.previousConnection;const i=(this.block_.hat?this.block_.hat==="cap":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;let l=this.topRow.hasLeftSquareCorner(this.block_)?Li:Dn;this.topRow.elements.push(new l(this.constants_)),i?(e=new N(this.constants_),this.topRow.elements.push(e)):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new zt(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0]instanceof Bl&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,l=this.topRow.hasRightSquareCorner(this.block_)?Li:Dn,this.topRow.elements.push(new l(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof Bl?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new Li(this.constants_)):this.bottomRow.elements.push(new Dn(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new nn(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new Li(this.constants_,"right")):this.bottomRow.elements.push(new Dn(this.constants_,"right"))}addInput_(e,i){this.isInline&&e instanceof r.ValueInput$$module$build$src$core$inputs$value_input?(i.elements.push(new tt(this.constants_,e)),i.hasInlineInput=!0):e instanceof Bl?(i.elements.push(new gt(this.constants_,e)),i.hasStatement=!0):e instanceof r.ValueInput$$module$build$src$core$inputs$value_input?(i.elements.push(new b(this.constants_,e)),i.hasExternalInput=!0):(e instanceof vl||e instanceof aa)&&(i.minHeight=Math.max(i.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),i.hasDummyInput=!0),i.align===null&&(i.align=e.align)}shouldStartNewRow_(e,i){return i?i instanceof aa||e instanceof Bl||i instanceof Bl?!0:e instanceof r.ValueInput$$module$build$src$core$inputs$value_input||e instanceof vl||i instanceof r.ValueInput$$module$build$src$core$inputs$value_input?!this.isInline:!1:!1}addElemSpacing_(){for(let e=0,i;i=this.rows[e];e++){const l=i.elements;if(i.elements=[],i.startsWithElemSpacer()&&i.elements.push(new we(this.constants_,this.getInRowSpacing_(null,l[0]))),l.length){for(let h=0;h<l.length-1;h++){i.elements.push(l[h]);const w=this.getInRowSpacing_(l[h],l[h+1]);i.elements.push(new we(this.constants_,w))}i.elements.push(l[l.length-1]),i.endsWithElemSpacer()&&i.elements.push(new we(this.constants_,this.getInRowSpacing_(l[l.length-1],null)))}}}getInRowSpacing_(e,i){if(!e&&i&&lt.isStatementInput(i))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&lt.isInput(e)&&!i){if(lt.isExternalInput(e))return this.constants_.NO_PADDING;if(lt.isInlineInput(e))return this.constants_.LARGE_PADDING;if(lt.isStatementInput(e))return this.constants_.NO_PADDING}return e&&lt.isLeftSquareCorner(e)&&i&&(lt.isPreviousConnection(i)||lt.isNextConnection(i))?i.notchOffset:e&&lt.isLeftRoundedCorner(e)&&i&&(lt.isPreviousConnection(i)||lt.isNextConnection(i))?i.notchOffset-this.constants_.CORNER_RADIUS:e&&lt.isField(e)&&e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING}computeBounds_(){let e=0,i=0,l=0;for(let w=0,L;L=this.rows[w];w++){if(L.measure(),i=Math.max(i,L.width),L.hasStatement){var h=L.getLastInput();let ce,Ve;h=L.width-((Ve=(ce=h)==null?void 0:ce.width)!=null?Ve:0),e=Math.max(e,h)}l=Math.max(l,L.widthWithConnectedBlocks)}this.statementEdge=e,this.width=i;for(let w=0,L;L=this.rows[w];w++)L.hasStatement&&(L.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(i,l),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let i=0,l;l=this.rows[i];i++)if(l.hasStatement)this.alignStatementRow_(l);else{var e=l.width;e=this.getDesiredRowWidth_(l)-e,e>0&&this.addAlignmentPadding_(l,e),lt.isTopOrBottomRow(l)&&(l.widthWithConnectedBlocks=l.width)}}getDesiredRowWidth_(e){return this.width-this.startX}addAlignmentPadding_(e,i){const l=e.getFirstSpacer(),h=e.getLastSpacer();if((e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=i),e.align===r.Align$$module$build$src$core$inputs$align.LEFT&&h)h.width+=i;else if(e.align===r.Align$$module$build$src$core$inputs$align.CENTRE&&l&&h)l.width+=i/2,h.width+=i/2;else if(e.align===r.Align$$module$build$src$core$inputs$align.RIGHT&&l)l.width+=i;else if(h)h.width+=i;else return;e.width+=i}alignStatementRow_(e){const i=e.getLastInput();if(i){var l=e.width-i.width,h=this.statementEdge;l=h-l,l>0&&this.addAlignmentPadding_(e,l),l=e.width,h=this.getDesiredRowWidth_(e),i.width+=h-l,i.height=Math.max(i.height,e.height),e.width+=h-l,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}addRowSpacing_(){const e=this.rows;this.rows=[];for(let i=0;i<e.length;i++)this.rows.push(e[i]),i!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[i],e[i+1]))}makeSpacerRow_(e,i){var l=this.getSpacerRowHeight_(e,i);const h=this.getSpacerRowWidth_(e,i);return l=new dr(this.constants_,l,h),e.hasStatement&&(l.followsStatement=!0),i.hasStatement&&(l.precedesStatement=!0),l}getSpacerRowWidth_(e,i){return this.width-this.startX}getSpacerRowHeight_(e,i){return this.constants_.MEDIUM_PADDING}getElemCenterline_(e,i){return lt.isSpacer(i)?e.yPos+i.height/2:lt.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,lt.isNextConnection(i)?e+i.height/2:e-i.height/2):lt.isTopRow(e)?lt.isHat(i)?e.capline-i.height/2:e.capline+i.height/2:e.yPos+e.height/2}recordElemPositions_(e){let i=e.xPos;for(let l=0,h;h=e.elements[l];l++)lt.isSpacer(h)&&(h.height=e.height),h.xPos=i,h.centerline=this.getElemCenterline_(e,h),i+=h.width}finalize_(){let e=0,i=0;for(let l=0,h;h=this.rows[l];l++)h.yPos=i,h.xPos=this.startX,i+=h.height,e=Math.max(e,h.widthWithConnectedBlocks),this.recordElemPositions_(h);if(this.outputConnection&&this.block_.nextConnection){const l=this.block_.nextConnection.targetBlock();l&&(e=Math.max(e,l.getHeightWidth().width))}this.widthWithChildren=e+this.startX,this.height=i,this.startY=this.topRow.capline,this.bottomRow.baseline=i-this.bottomRow.descenderHeight}getMeasureableForConnection(e){let i;if(((i=this.outputConnection)==null?void 0:i.connectionModel)===e)return this.outputConnection;for(const l of this.rows)for(const h of l.elements)if(h instanceof u&&h.connectionModel===e)return h;return null}},_i=class{constructor(e,i,l){this.connectionHighlights=new WeakMap,this.highlightOffsets=new WeakMap,this.constants=l,this.style=i,this.svgRoot=e,this.svgPath=Ge(yt.PATH,{class:"blocklyPath"},this.svgRoot),this.setClass_("blocklyBlock",!0)}setPath(e){this.svgPath.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}applyColour(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}setStyle(e){this.style=e}setClass_(e,i){e&&(i?Qt(this.svgRoot,e):Cn(this.svgRoot,e))}updateHighlighted(e){e?this.setClass_("blocklyHighlighted",!0):this.setClass_("blocklyHighlighted",!1)}updateShadow_(e){e?(this.setClass_("blocklyShadow",!0),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)):this.setClass_("blocklyShadow",!1)}updateDisabled_(e){this.setClass_("blocklyDisabled",e),this.setClass_("blocklyDisabledPattern",e)}updateSelected(e){this.setClass_("blocklySelected",e)}updateDraggingDelete(e){this.setClass_("blocklyDraggingDelete",e)}updateInsertionMarker(e){this.setClass_("blocklyInsertionMarker",e)}updateMovable(e){this.setClass_("blocklyDraggable",e)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,i){}addConnectionHighlight(e,i,l,h){return l=`translate(${l.x}, ${l.y})`+(h?" scale(-1 1)":""),(h=this.connectionHighlights.get(e))?(h.setAttribute("d",i),h.setAttribute("transform",l),h):(i=Ge(yt.PATH,{id:e.id,class:"blocklyHighlightedConnectionPath",style:"display: none;",d:i,transform:l},this.svgRoot),this.connectionHighlights.set(e,i),i)}removeConnectionHighlight(e){const i=this.connectionHighlights.get(e);i&&(cn(i),this.connectionHighlights.delete(e))}},Wn=class{constructor(e){this.overrides=null,this.name=e}getClassName(){return this.name+"-renderer"}init(e,i){this.constants_=this.makeConstants_(),i&&(this.overrides=i,Object.assign(this.constants_,i)),this.constants_.setTheme(e),this.constants_.init()}createDom(e,i,l){this.constants_.createDom(e,this.name+"-"+i.name,"."+this.getClassName()+"."+i.getClassName(),l)}refreshDom(e,i,l){const h=this.getConstants();h.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=h.randomIdentifier,this.constants_.setTheme(i),this.constants_.init(),this.createDom(e,i,l)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new Et}makeRenderInfo_(e){return new nr(this,e)}makeDrawer_(e,i){return new Kt(e,i)}makePathObject(e,i){return new _i(e,i,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(e){return!0}orphanCanConnectAtEnd(e,i,l){return!!yi.getConnectionForOrphanedConnection(e,l===In.OUTPUT_VALUE?i.outputConnection:i.previousConnection)}render(e){const i=this.makeRenderInfo_(e);i.measure(),this.makeDrawer_(e,i).draw()}},Mn={};Mn.BottomRow=o,Mn.Connection=u,Mn.ConstantProvider=Et,Mn.Drawer=Kt,Mn.ExternalValueInput=b,Mn.Field=C,Mn.Hat=N,Mn.Icon=Q,Mn.InRowSpacer=we,Mn.InlineInput=tt,Mn.InputConnection=f,Mn.InputRow=wt,Mn.JaggedEdge=Yt,Mn.Measurable=P0,Mn.NextConnection=nn,Mn.OutputConnection=Dt,Mn.PathObject=_i,Mn.PreviousConnection=zt,Mn.RenderInfo=nr,Mn.Renderer=Wn,Mn.RoundCorner=Dn,Mn.Row=uc,Mn.SpacerRow=dr,Mn.SquareCorner=Li,Mn.StatementInput=gt,Mn.TopRow=ut,Mn.Types=lt,Mn.init=Ki,Mn.register=ia,Mn.unregister=Rr;var li=class{constructor(e,i){this.workspace=e,this.theme=i,this.subscribedWorkspaces=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(e){var i=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(i&&(i=i.getClassName())&&Cn(e,i),(i=this.theme.getClassName())&&Qt(e,i));for(let l=0,h;h=this.subscribedWorkspaces[l];l++)h.refreshTheme();for(const[l,h]of this.componentDB)for(const w of h){e=w.element,i=w.propertyName;const L=this.theme&&this.theme.getComponentStyle(l);e.style.setProperty(i,L||"")}for(const l of this.subscribedWorkspaces)l.hideChaff()}subscribeWorkspace(e){this.subscribedWorkspaces.push(e)}unsubscribeWorkspace(e){if(!Ft(this.subscribedWorkspaces,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(e,i,l){this.componentDB.has(i)||this.componentDB.set(i,[]),this.componentDB.get(i).push({element:e,propertyName:l}),i=this.theme&&this.theme.getComponentStyle(i),e.style.setProperty(l,i||"")}unsubscribe(e){if(e)for(const[i,l]of this.componentDB){for(let h=l.length-1;h>=0;h--)l[h].element===e&&l.splice(h,1);l.length||this.componentDB.delete(i)}}dispose(){this.subscribedWorkspaces.length=0,this.componentDB.clear()}},Ci="VARIABLE_DYNAMIC",bl={CATEGORY_NAME:Ci};bl.flyoutCategory=Jh,bl.flyoutCategoryBlocks=Hu,bl.internalFlyoutCategory=b0,bl.onCreateVariableButtonClick_Colour=uu,bl.onCreateVariableButtonClick_Number=jc,bl.onCreateVariableButtonClick_String=Vs;var f3=class{canConnect(e,i,l,h){return this.canConnectWithReason(e,i,l,h)===yi.CAN_CONNECT}canConnectWithReason(e,i,l,h){const w=this.doSafetyChecks(e,i);return w!==yi.CAN_CONNECT?w:this.doTypeChecks(e,i)?l&&!this.doDragChecks(e,i,h||0)?yi.REASON_DRAG_CHECKS_FAILED:yi.CAN_CONNECT:yi.REASON_CHECKS_FAILED}getErrorMessage(e,i,l){switch(e){case yi.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case yi.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case yi.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case yi.REASON_TARGET_NULL:return"Target connection is null.";case yi.REASON_CHECKS_FAILED:return"Connection checks failed. "+(i+" expected "+i.getCheck()+", found "+l.getCheck());case yi.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case yi.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case yi.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(e,i){if(!e||!i)return yi.REASON_TARGET_NULL;let l,h,w;return e.isSuperior()?(l=e.getSourceBlock(),h=i.getSourceBlock(),w=i):(h=e.getSourceBlock(),l=i.getSourceBlock(),w=e,e=i),l===h?yi.REASON_SELF_CONNECTION:w.type!==ph[e.type]?yi.REASON_WRONG_TYPE:l.workspace!==h.workspace?yi.REASON_DIFFERENT_WORKSPACES:l.isShadow()&&!h.isShadow()?yi.REASON_SHADOW_PARENT:w.type===In.OUTPUT_VALUE&&h.previousConnection&&h.previousConnection.isConnected()||w.type===In.PREVIOUS_STATEMENT&&h.outputConnection&&h.outputConnection.isConnected()?yi.REASON_PREVIOUS_AND_OUTPUT:yi.CAN_CONNECT}doTypeChecks(e,i){if(e=e.getCheck(),i=i.getCheck(),!e||!i)return!0;for(let l=0;l<e.length;l++)if(i.includes(e[l]))return!0;return!1}doDragChecks(e,i,l){if(e.distanceFrom(i)>l||i.getSourceBlock().isInsertionMarker())return!1;switch(i.type){case In.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,i);case In.OUTPUT_VALUE:if(i.isConnected()&&!i.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case In.INPUT_VALUE:if(i.isConnected()&&!i.targetBlock().isMovable()&&!i.targetBlock().isShadow())return!1;break;case In.NEXT_STATEMENT:if(i.isConnected()&&!e.getSourceBlock().nextConnection&&!i.targetBlock().isShadow()&&i.targetBlock().nextConnection||i.targetBlock()&&!i.targetBlock().isMovable()&&!i.targetBlock().isShadow())return!1;break;default:return!1}return!Zc.includes(i)}canConnectToPrevious_(e,i){return e.targetConnection||Zc.includes(i)?!1:i.targetConnection?(e=i.targetBlock(),e.isInsertionMarker()?!e.getPreviousBlock():!1):!0}};s(Xt.CONNECTION_CHECKER,kl,f3);var I4=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(e){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new $h,this.readOnly=!1,this.potentialVariableMap=null,this.id=Ue(),At(this),this.options=e||new Qa({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(T(Xt.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new(this.getVariableMapClass())(this),this.setIsReadOnly(this.options.readOnly)}dispose(){this.listeners.length=0,this.clear(),Ot(this)}sortObjects(e,i){const l=h=>({getBoundingRectangle:()=>{const w=h.getRelativeToSurfaceXY();return new xr(w.y,w.y,w.x,w.x)},moveBy:()=>{}});return this.sortByOrigin(l(e),l(i))}sortByOrigin(e,i){const l=Math.sin(Ra(I4.SCAN_ANGLE))*(this.RTL?-1:1);return e=e.getBoundingRectangle().getOrigin(),i=i.getBoundingRectangle().getOrigin(),e.y+l*e.x-(i.y+l*i.x)}addTopBlock(e){this.topBlocks.push(e)}removeTopBlock(e){if(!Ft(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(e=!1){const i=[].concat(this.topBlocks);return e&&i.length>1&&i.sort(this.sortObjects.bind(this)),i}addTypedBlock(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}removeTypedBlock(e){Ft(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}getBlocksByType(e,i=!1){return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),i&&e&&e.length>1&&e.sort(this.sortObjects.bind(this)),e.filter(l=>!l.isInsertionMarker())):[]}addTopComment(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}removeTopComment(e){if(!Ft(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}getTopComments(e=!1){const i=[].concat(this.topComments);return e&&i.length>1&&i.sort(this.sortObjects.bind(this)),i}getAllBlocks(e=!1){if(e){var i=this.getTopBlocks(!0);e=[];for(let l=0;l<i.length;l++)e.push(...i[l].getDescendants(!0))}else for(e=this.getTopBlocks(!1),i=0;i<e.length;i++)e.push(...e[i].getChildren(!1));return e.filter(l=>!l.isInsertionMarker())}clear(){this.isClearing=!0;try{const e=r.getGroup$$module$build$src$core$events$utils();for(e||r.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();r.setGroup$$module$build$src$core$events$utils(e),this.isFlyout||this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(e,i){jn("Blockly.Workspace.renameVariableById","v12","v13","Blockly.Workspace.getVariableMap().renameVariable"),(e=this.variableMap.getVariableById(e))&&this.variableMap.renameVariable(e,i)}createVariable(e,i,l){return jn("Blockly.Workspace.createVariable","v12","v13","Blockly.Workspace.getVariableMap().createVariable"),this.variableMap.createVariable(e,i??void 0,l??void 0)}getVariableUsesById(e){return jn("Blockly.Workspace.getVariableUsesById","v12","v13","Blockly.Variables.getVariableUsesById"),Pi(this,e)}deleteVariableById(e){jn("Blockly.Workspace.deleteVariableById","v12","v13","Blockly.Workspace.getVariableMap().deleteVariable");const i=this.variableMap.getVariableById(e);i?r.deleteVariable$$module$build$src$core$variables(this,i):console.warn(`Can't delete non-existent variable: ${e}`)}getVariable(e,i){return jn("Blockly.Workspace.getVariable","v12","v13","Blockly.Workspace.getVariableMap().getVariable"),this.variableMap.getVariable(e,i)}getVariableById(e){return jn("Blockly.Workspace.getVariableById","v12","v13","Blockly.Workspace.getVariableMap().getVariableById"),this.variableMap.getVariableById(e)}getVariablesOfType(e){return jn("Blockly.Workspace.getVariablesOfType","v12","v13","Blockly.Workspace.getVariableMap().getVariablesOfType"),this.variableMap.getVariablesOfType(e??"")}getAllVariables(){return jn("Blockly.Workspace.getAllVariables","v12","v13","Blockly.Workspace.getVariableMap().getAllVariables"),this.variableMap.getAllVariables()}getAllVariableNames(){return jn("Blockly.Workspace.getAllVariableNames","v12","v13","Blockly.Workspace.getVariableMap().getAllVariables"),this.variableMap.getAllVariables().map(e=>e.getName())}getWidth(){return 0}newBlock(e,i){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(e){return this.options.maxInstances?(this.options.maxInstances[e]!==void 0?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}isCapacityAvailable(e){if(!this.hasBlockLimits())return!0;let i=0;for(const l in e){if(e[l]>this.remainingCapacityOfType(l))return!1;i+=e[l]}return!(i>this.remainingCapacity())}hasBlockLimits(){return this.options.maxBlocks!==1/0||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(e){var i=e?this.redoStack_:this.undoStack_,l=e?this.undoStack_:this.redoStack_;const h=i.pop();if(h){for(var w=[h];i.length&&h.group&&h.group===i[i.length-1].group;){const L=i.pop();L&&w.push(L)}for(i=0;i<w.length;i++)l.push(w[i]);r.setRecordUndo$$module$build$src$core$events$utils(!1);try{for(l=0;l<w.length;l++)w[l].run(e)}finally{r.setRecordUndo$$module$build$src$core$events$utils(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,$t()}addChangeListener(e){return this.listeners.push(e),e}removeChangeListener(e){Ft(this.listeners,e)}fireChangeListener(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&this.MAX_UNDO>=0;)this.undoStack_.shift();for(let i=0;i<this.listeners.length;i++)(0,this.listeners[i])(e)}getBlockById(e){return this.blockDB.get(e)||null}setBlockById(e,i){this.blockDB.set(e,i)}removeBlockById(e){this.blockDB.delete(e)}getCommentById(e){let i;return(i=this.commentDB.get(e))!=null?i:null}allInputsFilled(e){const i=this.getTopBlocks(!1);for(let l=0;l<i.length;l++)if(!i[l].allInputsFilled(e))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new(this.getVariableMapClass())(this,!0)}getVariableMap(){return this.variableMap}setVariableMap(e){this.variableMap=e}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let e=null;const i=this.options.parentWorkspace;return this.isFlyout?i&&i.options&&(e=i.options.parentWorkspace):i&&(e=i),e}static getById(e){return ct(e)}static getAll(){return st()}getVariableMapClass(){const e=T(Xt.VARIABLE_MAP,this.options,!0);if(!e)throw Error("No variable map is registered.");return e}isReadOnly(){return this.readOnly}setIsReadOnly(e){this.readOnly=e,this.options.readOnly=e}};I4.SCAN_ANGLE=3;var sA=100,Y$=class{constructor(e){this.parentWorkspace=e,this.sounds=new Map,this.lastSound=null,this.muted=!1}dispose(){this.sounds.clear()}load(e,i){if(e.length){try{var l=new globalThis.Audio}catch{return}for(let w=0;w<e.length;w++){const L=e[w],ce=L.match(/\.(\w+)$/);if(ce&&l.canPlayType("audio/"+ce[1])){var h=new globalThis.Audio(L);break}}h&&this.sounds.set(i,h)}}preload(){for(const e of this.sounds.values()){e.volume=.01;const i=e.play();if(i!==void 0?i.then(e.pause).catch(function(){}):e.pause(),c1||V2)break}}play(e,i){if(!this.muted){var l=this.sounds.get(e);l?(e=new Date,this.lastSound!==null&&e.getTime()-this.lastSound.getTime()<sA||(this.lastSound=e,l=c1||Wf?l:l.cloneNode(),l.volume=i===void 0?1:i,l.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,i)}}setMuted(e){this.muted=e}getMuted(){return this.muted}},oA=20,Pl=class extends I4{constructor(e){super(e),this.resizeHandlerWrapper=null,this.resizesEnabled=this.visible=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.inverseScreenCTM=this.targetWorkspace=this.dummyWheelListener=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=this.currentGesture_=this.toolbox=this.flyout=this.scrollbar=this.trashcan=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardMoveInProgress=this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=this.layerManager=null,this.navigator=new qd,this.metricsManager=new(T(Xt.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=e.setMetrics||Pl.setTopLevelWorkspaceMetrics,this.componentManager=new Oi,this.connectionDBList=_u.init(this.connectionChecker),this.audioManager=new Y$(e.parentWorkspace),this.grid=this.options.gridPattern?new B1(this.options.gridPattern,e.gridOptions):null,this.markerManager=new F1(this),Ps&&sr&&this.registerToolboxCategoryCallback(Id,sr),bl&&b0&&this.registerToolboxCategoryCallback(Ci,b0),zo&&qa&&(this.registerToolboxCategoryCallback(Xd,qa),this.addChangeListener(v0)),this.addChangeListener(this.variableChangeCallback.bind(this)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new li(this,this.options.theme||Hd),this.themeManager_.subscribeWorkspace(this);let i;this.renderer=Ki(this.options.renderer||"geras",this.getTheme(),(i=this.options.rendererOverrides)!=null?i:void 0),this.cachedParentSvgSize=new Ir(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}getMarker(e){return this.markerManager.getMarker(e)}getCursor(){return this.markerManager.getCursor()}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(e){e||(e=Hd),this.themeManager_.setTheme(e)}refreshTheme(){if(this.svgGroup_){var e=this.options.parentWorkspace===null;this.renderer.refreshDom(this.svgGroup_,this.getTheme(),e?this.getInjectionDiv():void 0)}this.updateBlockStyles(this.getAllBlocks(!1).filter(i=>!!i.getStyleName())),this.refreshToolboxSelection(),this.toolbox&&this.toolbox.refreshTheme(),this.isVisible()&&this.setVisible(!0),e=new(Ut(Tt.THEME_CHANGE))(this.getTheme().name,this.id),de(e)}updateBlockStyles(e){for(let i=0,l;l=e[i];i++){const h=l.getStyleName();h&&l.setStyle(h)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.visible}getSvgXY(e){let i=0,l=0,h=1;(this.getCanvas().contains(e)||this.getBubbleCanvas().contains(e))&&(h=this.scale);do{const w=oe(e);(e===this.getCanvas()||e===this.getBubbleCanvas())&&(h=1),i+=w.x*h,l+=w.y*h,e=e.parentNode}while(e&&e!==this.getParentSvg()&&e!==this.getInjectionDiv());return new Zt(i,l)}getCachedParentSvgSize(){const e=this.cachedParentSvgSize;return new Ir(e.width,e.height)}getOriginOffsetInPixels(){return re(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let e=this.svgGroup_;for(;e;){if((" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv ")){this.injectionDiv=e;break}e=e.parentNode}}return this.injectionDiv}getSvgGroup(){return this.svgGroup_}getBlockCanvas(){return this.getCanvas()}setResizeHandlerWrapper(e){this.resizeHandlerWrapper=e}createDom(e,i){return this.injectionDiv||(this.injectionDiv=i??null),this.svgGroup_=Ge(yt.G,{class:"blocklyWorkspace",id:this.id}),i&&Kr(this.svgGroup_,As.LABEL,r.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL),e&&(this.svgBackground_=Ge(yt.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),e==="blocklyMainBackground"&&this.grid?this.svgBackground_.style.fill="var(--blocklyGridPattern)":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.layerManager=new h3(this),this.svgBlockCanvas_=this.layerManager.getBlockLayer(),this.svgBubbleCanvas_=this.layerManager.getBubbleLayer(),this.isFlyout||(W(this.svgGroup_,"pointerdown",this,this.onMouseDown,!1),this.dummyWheelListener=()=>{},document.body.addEventListener("wheel",this.dummyWheelListener),W(this.svgGroup_,"wheel",this,this.onMouseWheel)),this.options.hasCategories&&(this.toolbox=new(T(Xt.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=T(Xt.CURSOR,this.options))&&this.markerManager.setCursor(new e(this)),e=this.options.parentWorkspace===null,this.renderer.createDom(this.svgGroup_,this.getTheme(),e?this.getInjectionDiv():void 0),r.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,!!this.injectionDiv||this.isFlyout),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&cn(this.svgGroup_),this.toolbox&&(this.toolbox.dispose(),this.toolbox=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){const e=this.getParentSvg();e&&e.parentNode&&cn(e.parentNode)}this.resizeHandlerWrapper&&(ie(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null),this.dummyWheelListener&&(document.body.removeEventListener("wheel",this.dummyWheelListener),this.dummyWheelListener=null),r.getFocusManager$$module$build$src$core$focus_manager().isRegistered(this)&&r.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}addTrashcan(){this.trashcan=Pl.newTrashcan(this);const e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.getCanvas())}static newTrashcan(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new C0(this);const e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}copyOptionsForFlyout(){return new Qa({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,plugins:this.options.plugins,modalInputs:this.options.modalInputs,move:{scrollbars:!0}})}addFlyout(e){const i=this.copyOptionsForFlyout();return i.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(T(Xt.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(i):new(T(Xt.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(i),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}getFlyout(e){return this.flyout||e?this.flyout:this.toolbox?this.toolbox.getFlyout():null}getToolbox(){return this.toolbox}updateScreenCalculations(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox?this.toolbox.position():this.flyout&&this.flyout.position();const e=this.componentManager.getComponents(Oi.Capability.POSITIONABLE,!0),i=this.getMetricsManager().getUiMetrics(),l=[];for(let h=0,w;w=e[h];h++){w.position(i,l);const L=w.getBoundingRectangle();L&&l.push(L)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations()}updateScreenCalculationsIfScrolled(){const e=ae();Zt.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations())}getLayerManager(){return this.layerManager}getCanvas(){return this.layerManager.getBlockLayer()}setCachedParentSvgSize(e,i){const l=this.getParentSvg();e!=null&&(this.cachedParentSvgSize.width=e,l.setAttribute("data-cached-width",`${e}`)),i!=null&&(this.cachedParentSvgSize.height=i,l.setAttribute("data-cached-height",`${i}`))}getBubbleCanvas(){return this.layerManager.getBubbleLayer()}getParentSvg(){if(!this.cachedParentSvg){let e=this.svgGroup_;for(;e;){if(e.tagName==="svg"){this.cachedParentSvg=e;break}e=e.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(qt()){var e=this.scale,i=-this.scrollY,l=-this.scrollX;if(!(e===this.oldScale&&Math.abs(i-this.oldTop)<1&&Math.abs(l-this.oldLeft)<1)){var h=new(Ut(Tt.VIEWPORT_CHANGE))(i,l,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=i,this.oldLeft=l,de(h)}}}translate(e,i){let l;(l=this.layerManager)==null||l.translateLayers(new Zt(e,i),this.scale);let h;(h=this.grid)==null||h.moveTo(e,i),this.maybeFireViewportChangeEvent()}getWidth(){const e=this.getMetrics();return e?e.viewWidth/this.scale:0}setVisible(e){this.visible=e,this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox&&this.toolbox.setVisible(e),e||this.hideChaff(!0))}render(){const e=this.getAllBlocks(!1);for(let i=e.length-1;i>=0;i--)e[i].queueRender();this.getTopBlocks().flatMap(i=>i.getDescendants(!1)).filter(i=>i.isInsertionMarker()).forEach(i=>i.queueRender())}highlightBlock(e,i){if(i===void 0){for(let l=0,h;h=this.highlightedBlocks[l];l++)h.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((i=i===void 0||i)?this.highlightedBlocks.includes(e)||this.highlightedBlocks.push(e):Ft(this.highlightedBlocks,e),e.setHighlighted(i))}variableChangeCallback(e){switch(e.type){case Tt.VAR_CREATE:case Tt.VAR_DELETE:case Tt.VAR_RENAME:case Tt.VAR_TYPE_CHANGE:this.refreshToolboxSelection()}}refreshToolboxSelection(){const e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox&&e.toolbox.getFlyout()&&e.toolbox.refreshSelection()}recordDragTargets(){const e=this.componentManager.getComponents(Oi.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let i=0,l;l=e[i];i++){const h=l.getClientRect();h&&this.dragTargetAreas.push({component:l,clientRect:h})}}newBlock(e,i){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}getDragTarget(e){for(let i=0,l;l=this.dragTargetAreas[i];i++)if(l.clientRect.contains(e.clientX,e.clientY))return l.component;return null}onMouseDown(e){const i=this.getGesture(e);i&&i.handleWsStart(e,this)}startDrag(e,i){Oo(this,e,i)}moveDrag(e){return el(this,e)}setKeyboardMoveInProgress(e){this.keyboardMoveInProgress=e}isDragging(){return this.keyboardMoveInProgress||this.currentGesture_!==null&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}onMouseWheel(e){if(jd.inProgress())e.preventDefault(),e.stopPropagation();else{var i=this.options.zoomOptions&&this.options.zoomOptions.wheel,l=this.options.moveOptions&&this.options.moveOptions.wheel;if(i||l){var h=Ie(e);if(jf)var w=e.metaKey;i&&(e.ctrlKey||w||!l)?(h=-h.y/50,i=fe(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(i.x,i.y,h)):(i=this.scrollX-h.x,l=this.scrollY-h.y,e.shiftKey&&!h.x&&(i=this.scrollX-h.y,l=this.scrollY),this.scroll(i,l)),e.preventDefault()}}}getBlocksBoundingBox(){const e=this.getTopBoundedElements();if(!e.length)return new xr(0,0,0,0);const i=e[0].getBoundingRectangle();for(let h=1;h<e.length;h++){var l=e[h];l.isInsertionMarker&&l.isInsertionMarker()||(l=l.getBoundingRectangle(),l.top<i.top&&(i.top=l.top),l.bottom>i.bottom&&(i.bottom=l.bottom),l.left<i.left&&(i.left=l.left),l.right>i.right&&(i.right=l.right))}return i}cleanUp(){this.setResizesEnabled(!1);const e=r.getGroup$$module$build$src$core$events$utils();e||r.setGroup$$module$build$src$core$events$utils(!0);var i=this.getTopBlocks(!0),l=i.filter(ce=>ce.isMovable());const h=i.filter(ce=>!ce.isMovable()).map(ce=>ce.getBoundingRectangle());i=function(ce){for(const Ve of h)if(ce.intersects(Ve))return Ve;return null};var w=0;const L=this.renderer.getConstants().MIN_BLOCK_HEIGHT;for(const ce of l){for(l=ce.getBoundingRectangle(),ce.moveBy(-l.left,w-l.top,["cleanup"]),ce.snapToGrid(),l=ce.getBoundingRectangle(),w=i(l);w!=null;)w=w.top+w.getHeight()+L,ce.moveBy(0,w-l.top,["cleanup"]),ce.snapToGrid(),l=ce.getBoundingRectangle(),w=i(l);w=ce.getRelativeToSurfaceXY().y+ce.getHeightWidth().height+L}r.setGroup$$module$build$src$core$events$utils(e),this.setResizesEnabled(!0)}showContextMenu(e){if(!this.isReadOnly()&&!this.isFlyout){var i=Nr.registry.getContextMenuOptions({workspace:this,focusedNode:this},e);this.configureContextMenu&&this.configureContextMenu(i,e);var l=e instanceof PointerEvent?new Zt(e.clientX,e.clientY):Qe(this,new Zt(5,5));f0(e,i,this.RTL,this,l)}}updateToolbox(e){if(e=Vt(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(Fn(e)){if(!this.toolbox)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():($e(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(e,i,l){l=Math.pow(this.options.zoomOptions.scaleSpeed,l);const h=this.scale*l;if(this.scale!==h){h>this.options.zoomOptions.maxScale?l=this.options.zoomOptions.maxScale/this.scale:h<this.options.zoomOptions.minScale&&(l=this.options.zoomOptions.minScale/this.scale);var w=this.getCanvas().getCTM(),L=this.getParentSvg().createSVGPoint();L.x=e,L.y=i,L=L.matrixTransform(w.inverse()),e=L.x,i=L.y,w=w.translate(e*(1-l),i*(1-l)).scale(l),this.scrollX=w.e,this.scrollY=w.f,this.setScale(h)}}zoomCenter(e){var i=this.getMetrics();let l;this.flyout?(l=i.svgWidth?i.svgWidth/2:0,i=i.svgHeight?i.svgHeight/2:0):(l=i.viewWidth/2+i.absoluteLeft,i=i.viewHeight/2+i.absoluteTop),this.zoom(l,i,e)}zoomToFit(){if(this.isMovable()){var e=this.getMetrics(),i=e.viewWidth;e=e.viewHeight;var l=this.getBlocksBoundingBox(),h=oA*2,w=l.right-l.left+h;if(l=l.bottom-l.top+h,w){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),l+=this.flyout.getHeight()/this.scale):(i+=this.flyout.getWidth(),w+=this.flyout.getWidth()/this.scale)),i/=w,e/=l,r.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(i,e)),this.scrollCenter()}finally{r.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){Qt(this.getCanvas(),"blocklyCanvasTransitioning"),Qt(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}endCanvasTransition(){Cn(this.getCanvas(),"blocklyCanvasTransitioning"),Cn(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var e=this.getMetrics(),i=(e.scrollWidth-e.viewWidth)/2,l=(e.scrollHeight-e.viewHeight)/2;i=-i-e.scrollLeft,l=-l-e.scrollTop,this.scroll(i,l)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(e,i){if(this.isMovable()){var l=e?this.getBlockById(e):null;if(l){e=l.getRelativeToSurfaceXY(),l=i?{height:l.height,width:l.width}:l.getHeightWidth();var h=this.scale;i=(e.x+(this.RTL?-1:1)*l.width/2)*h,e=(e.y+l.height/2)*h,l=this.getMetrics(),this.scroll(-(i-l.viewWidth/2),-(e-l.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}getScale(){return this.scale}getAbsoluteScale(){const e=l=>{if(l.isFlyout){let h;const w=(h=l.targetWorkspace)==null?void 0:h.getFlyout();if(w instanceof ac)return w.getFlyoutScale()}return l.getScale()},i=(l,h)=>l.options.parentWorkspace&&l.options.parentWorkspace.getSvgGroup().contains(l.getSvgGroup())?i(l.options.parentWorkspace,h*e(l)):h*e(l);return i(this,1)}scroll(e,i){this.hideChaff(!0);const l=this.getMetrics();e=Math.min(e,-l.scrollLeft),i=Math.min(i,-l.scrollTop);const h=l.scrollTop+Math.max(0,l.scrollHeight-l.viewHeight);e=Math.max(e,-(l.scrollLeft+Math.max(0,l.scrollWidth-l.viewWidth))),i=Math.max(i,-h),this.scrollX=e,this.scrollY=i,this.scrollbar&&this.scrollbar.set(-(e+l.scrollLeft),-(i+l.scrollTop),!1),e+=l.absoluteLeft,i+=l.absoluteTop,this.translate(e,i)}getBlockById(e){return super.getBlockById(e)}getAllBlocks(e=!1){return super.getAllBlocks(e)}getTopBlocks(e=!1){return super.getTopBlocks(e)}addTopBlock(e){this.addTopBoundedElement(e),super.addTopBlock(e)}removeTopBlock(e){this.removeTopBoundedElement(e),super.removeTopBlock(e)}addTopComment(e){this.addTopBoundedElement(e),super.addTopComment(e)}removeTopComment(e){this.removeTopBoundedElement(e),super.removeTopComment(e)}getTopComments(e=!1){return super.getTopComments(e)}getCommentById(e){return super.getCommentById(e)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(e){this.topBoundedElements.push(e)}removeTopBoundedElement(e){Ft(this.topBoundedElements,e)}getTopBoundedElements(e=!1){const i=[].concat(this.topBoundedElements);return e&&i.sort(this.sortByOrigin.bind(this)),i}setResizesEnabled(e){const i=!this.resizesEnabled&&e;this.resizesEnabled=e,i&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(e,i){if(typeof i!="function")throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,i)}getButtonCallback(e){let i;return(i=this.flyoutButtonCallbacks.get(e))!=null?i:null}removeButtonCallback(e){this.flyoutButtonCallbacks.delete(e)}registerToolboxCategoryCallback(e,i){if(typeof i!="function")throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,i)}getToolboxCategoryCallback(e){return this.toolboxCategoryCallbacks.get(e)||null}removeToolboxCategoryCallback(e){this.toolboxCategoryCallbacks.delete(e)}getGesture(e){if(this.keyboardMoveInProgress)return e.preventDefault(),e.stopPropagation(),null;const i=e.type==="pointerdown";let l;return i&&((l=this.currentGesture_)!=null&&l.hasStarted())&&(console.warn("Tried to start the same gesture twice."),this.currentGesture_.cancel()),!this.currentGesture_&&i&&(this.currentGesture_=new jd(e,this)),this.currentGesture_}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(e=!1){Ii(),wl(this),Xe(),this.hideComponents(e)}hideComponents(e=!1){this.getComponentManager().getComponents(Oi.Capability.AUTOHIDEABLE,!0).forEach(i=>i.autoHide(e))}static setTopLevelWorkspaceMetrics(e){const i=this.getMetrics();typeof e.x=="number"&&(this.scrollX=-(i.scrollLeft+(i.scrollWidth-i.viewWidth)*e.x)),typeof e.y=="number"&&(this.scrollY=-(i.scrollTop+(i.scrollHeight-i.viewHeight)*e.y)),this.translate(this.scrollX+i.absoluteLeft,this.scrollY+i.absoluteTop)}addClass(e){this.injectionDiv&&Qt(this.injectionDiv,e)}removeClass(e){this.injectionDiv&&Cn(this.injectionDiv,e)}setIsReadOnly(e){super.setIsReadOnly(e),e?this.addClass("blocklyReadOnly"):this.removeClass("blocklyReadOnly")}scrollBoundsIntoView(e,i=10){if(!jd.inProgress()){var l=this.getScale(),h=this.getMetricsManager().getViewMetrics(!0);if(h=new xr(h.top,h.top+h.height,h.left,h.left+h.width),!(e.left>=h.left&&e.top>=h.top&&e.right<=h.right&&e.bottom<=h.bottom)){e=e.clone(),e.top-=i,e.bottom+=i,e.left-=i,e.right+=i;var w=i=0;e.left<h.left?i=this.RTL?Math.min(h.left-e.left,h.right-e.right):h.left-e.left:e.right>h.right&&(i=this.RTL?h.right-e.right:Math.max(h.right-e.right,h.left-e.left)),e.top<h.top?w=h.top-e.top:e.bottom>h.bottom&&(w=Math.max(h.bottom-e.bottom,h.top-e.top)),this.scroll(this.scrollX+i*l,this.scrollY+w*l)}}}getFocusableElement(){return this.svgGroup_}getFocusableTree(){return this.isMutator&&this.options.parentWorkspace||this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(e){if(e)return null;let i;if(e=(i=this.targetWorkspace)==null?void 0:i.getFlyout(),this.isFlyout&&e){let h,w;return(w=(h=e.getContents().find(L=>(L=L.getElement(),ue(L)&&L.canBeFocused())))==null?void 0:h.getElement())!=null?w:null}let l;return(l=this.getTopBlocks(!0)[0])!=null?l:null}getNestedTrees(){const e=this.getAllBlocks().map(l=>l.getIcons()).flat().filter(l=>l instanceof r.MutatorIcon$$module$build$src$core$icons$mutator_icon&&l.bubbleIsVisible()).map(l=>{let h;return(h=l.getBubble())==null?void 0:h.getWorkspace()}).filter(l=>!!l),i=this.getFlyout(!0);return i&&e.push(i.getWorkspace()),e}searchForWorkspaceComment(e){for(const i of this.getTopComments())if(i instanceof xa&&i.canBeFocused()&&i.getFocusableElement().id===e)return i}lookUpFocusableNode(e){var i;const l=(i=this.targetWorkspace)==null?void 0:i.getFlyout();if(this.isFlyout&&l){for(var h of l.getContents())if(i=h.getElement(),ue(i)&&i.canBeFocused()&&i.getFocusableElement().id===e)return i}if(h=e.indexOf("_field_"),i=e.indexOf("_connection_"),h!==-1){var w=e.substring(0,h);if(w=this.getBlockById(w)){for(var L of w.getFields())if(L.canBeFocused()&&L.getFocusableElement().id===e)return L}return null}if(i!==-1){if(w=e.substring(0,i),w=this.getBlockById(w)){for(const Ve of w.getConnections_(!0))if(Ve.id===e)return Ve}return null}if(L=Math.max(e.indexOf(Ao),e.indexOf(ss),e.indexOf(pp)),L!==-1&&(L=e.substring(0,L),L=this.searchForWorkspaceComment(L))){if(e.indexOf(Ao)>-1)return L.getEditorFocusableNode();var ce;return(ce=L.view.getCommentBarButtons().find(Ve=>Ve.getFocusableElement().id.includes(e)))!=null?ce:null}if((ce=this.getAllBlocks(!1).find(Ve=>Ve.getFocusableElement().id===e))||(ce=this.searchForWorkspaceComment(e)))return ce;ce=this.getAllBlocks().map(Ve=>Ve.getIcons()).flat();for(w of ce){if(w.canBeFocused()&&w.getFocusableElement().id===e)return w;if(Oa(w)){if((ce=w.getBubble())&&ce.canBeFocused()&&ce.getFocusableElement().id===e)return ce;if(ce instanceof $l&&ce.getEditor().getFocusableElement().id===e)return ce.getEditor()}}return null}onTreeFocus(e,i){}onTreeBlur(e){if(this.isFlyout&&this.targetWorkspace&&!r.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()){var i=this.targetWorkspace.getToolbox();i&&e===i||zi(i)&&i.autoHide(!1)}}getNavigator(){return this.navigator}setNavigator(e){this.navigator=e}},M4=class extends S0{constructor(e){super(),this.isBlank=typeof e>"u",e&&(this.varId=e.getId(),this.workspaceId=e.getWorkspace().id)}toJson(){const e=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new M4),i.varId=e.varId,i}},H6=class extends M4{constructor(e){super(e),this.type=Tt.VAR_CREATE,e&&(this.varType=e.getType(),this.varName=e.getName())}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new H6),i.varType=e.varType,i.varName=e.varName,i}run(e){var i=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");i=i.getVariableMap(),e?i.createVariable(this.varName,this.varType,this.varId):(e=i.getVariableById(this.varId))&&i.deleteVariable(e)}};s(Xt.EVENT,Tt.VAR_CREATE,H6);var K$=class{constructor(e,i,l,h){this.workspace=e,this.name=i,this.type=l||"",this.id=h||Ue()}getId(){return this.id}getName(){return this.name}setName(e){return this.name=e,this}getType(){return this.type}setType(e){return this.type=e,this}getWorkspace(){return this.workspace}save(){const e={name:this.getName(),id:this.getId()},i=this.getType();return i&&(e.type=i),e}static load(e,i){e=new this(i,e.name,e.type,e.id),i.getVariableMap().addVariable(e),de(new(Ut(Tt.VAR_CREATE))(e))}};s(Xt.VARIABLE_MODEL,kl,K$);var V6=class extends M4{constructor(e){super(e),this.type=Tt.VAR_DELETE,e&&(this.varType=e.getType(),this.varName=e.getName())}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new V6),i.varType=e.varType,i.varName=e.varName,i}run(e){var i=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");i=i.getVariableMap(),e?(e=i.getVariableById(this.varId))&&i.deleteVariable(e):i.createVariable(this.varName,this.varType,this.varId)}};s(Xt.EVENT,Tt.VAR_DELETE,V6);var G6=class extends M4{constructor(e,i){super(e),this.type=Tt.VAR_RENAME,e&&(this.oldName=e.getName(),this.newName=typeof i>"u"?"":i)}toJson(){const e=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new G6),i.oldName=e.oldName,i.newName=e.newName,i}run(e){var i=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");i=i.getVariableMap();const l=i.getVariableById(this.varId);e?l&&i.renameVariable(l,this.newName):l&&i.renameVariable(l,this.oldName)}};s(Xt.EVENT,Tt.VAR_RENAME,G6);var J$=class{constructor(e,i=!1){this.workspace=e,this.potentialMap=i,this.variableMap=new Map}clear(){for(const e of this.variableMap.values())for(const i of e.values())this.deleteVariable(i);if(this.variableMap.size!==0)throw Error("Non-empty variable map")}renameVariable(e,i){if(e.getName()===i)return e;var l=e.getType();l=this.getVariable(i,l);const h=this.workspace.getAllBlocks(!1);let w="";this.potentialMap||(w=r.getGroup$$module$build$src$core$events$utils())||r.setGroup$$module$build$src$core$events$utils(!0);try{l&&l.getId()!==e.getId()?this.renameVariableWithConflict(e,i,l,h):this.renameVariableAndUses(e,i,h)}finally{this.potentialMap||r.setGroup$$module$build$src$core$events$utils(w)}return e}changeVariableType(e,i){const l=e.getType();if(l===i)return e;var h=this.variableMap.get(l);h?.delete(e.getId()),h?.size===0&&this.variableMap.delete(l),e.setType(i);let w;return h=(w=this.variableMap.get(i))!=null?w:new Map,h.set(e.getId(),e),this.variableMap.has(i)||this.variableMap.set(i,h),de(new(Ut(Tt.VAR_TYPE_CHANGE))(e,l,i)),e}renameVariableById(e,i){jn("VariableMap.renameVariableById","v12","v13","VariableMap.renameVariable");const l=this.getVariableById(e);if(!l)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(l,i)}renameVariableAndUses(e,i,l){for(this.potentialMap||de(new(Ut(Tt.VAR_RENAME))(e,i)),e.setName(i),i=0;i<l.length;i++)l[i].updateVarName(e)}renameVariableWithConflict(e,i,l,h){const w=e.getType(),L=l.getName();for(i!==L&&this.renameVariableAndUses(l,i,h),i=0;i<h.length;i++)h[i].renameVarById(e.getId(),l.getId());this.potentialMap||de(new(Ut(Tt.VAR_DELETE))(e));let ce;(ce=this.variableMap.get(w))==null||ce.delete(e.getId())}createVariable(e,i,l){var h=this.getVariable(e,i);if(h){if(l&&h.getId()!==l)throw Error('Variable "'+e+'" is already in use and its id is "'+h.getId()+'" which conflicts with the passed in id, "'+l+'".');return h}if(l&&this.getVariableById(l))throw Error('Variable id, "'+l+'", is already in use.');if(h=l||Ue(),i=i||"",l=T(Xt.VARIABLE_MODEL,this.workspace.options,!0),!l)throw Error("No variable model is registered.");h=new l(this.workspace,e,i,h);let w;return e=(w=this.variableMap.get(i))!=null?w:new Map,e.set(h.getId(),h),this.variableMap.has(i)||this.variableMap.set(i,e),this.potentialMap||de(new(Ut(Tt.VAR_CREATE))(h)),h}addVariable(e){const i=e.getType();this.variableMap.has(i)||this.variableMap.set(i,new Map);let l;(l=this.variableMap.get(i))==null||l.set(e.getId(),e)}deleteVariable(e){const i=Pi(this.workspace,e.getId());let l="";this.potentialMap||(l=r.getGroup$$module$build$src$core$events$utils())||r.setGroup$$module$build$src$core$events$utils(!0);try{for(let w=0;w<i.length;w++)i[w].dispose(!0);const h=this.variableMap.get(e.getType());h&&h.has(e.getId())&&(h.delete(e.getId()),this.potentialMap||de(new(Ut(Tt.VAR_DELETE))(e)),h.size===0&&this.variableMap.delete(e.getType()))}finally{this.potentialMap||r.setGroup$$module$build$src$core$events$utils(l)}}deleteVariableById(e){jn("VariableMap.deleteVariableById","v12","v13","Blockly.Variables.deleteVariable"),(e=this.getVariableById(e))&&r.deleteVariable$$module$build$src$core$variables(this.workspace,e)}getVariable(e,i){if(i=this.variableMap.get(i||""),!i)return null;let l;return(l=[...i.values()].find(h=>r.Names$$module$build$src$core$names.equals(h.getName(),e)))!=null?l:null}getVariableById(e){for(const i of this.variableMap.values())if(i.has(e)){let l;return(l=i.get(e))!=null?l:null}return null}getVariablesOfType(e){return(e=this.variableMap.get(e||""))?[...e.values()]:[]}getTypes(){return[...this.variableMap.keys()]}getAllVariables(){let e=[];for(const i of this.variableMap.values())e=e.concat(...i.values());return e}getAllVariableNames(){jn("VariableMap.getAllVariableNames","v12","v13","Blockly.Variables.getAllVariables");const e=[];for(const i of this.variableMap.values())for(const l of i.values())e.push(l.getName());return e}getVariableUsesById(e){return jn("VariableMap.getVariableUsesById","v12","v13","Blockly.Variables.getVariableUsesById"),Pi(this.workspace,e)}};s(Xt.VARIABLE_MAP,kl,J$);var q6=class extends Si{constructor(e,i){super(i),this.type=Tt.TRASHCAN_OPEN,this.isOpen=e}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new q6),i.isOpen=e.isOpen,i}};s(Xt.EVENT,Tt.TRASHCAN_OPEN,q6);var Z$=class extends M1{constructor(e){super(),this.workspace=e,this.id="trashcan",this.contents=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness=0,this.lidTask=this.svgLid=this.svgGroup=null,this.top=this.left=this.lidOpen=0,this.initialized=!1,this.workspace.options.maxTrashcanContents<=0||(e=this.workspace.copyOptionsForFlyout(),this.workspace.horizontalLayout?(e.toolboxPosition=this.workspace.toolboxPosition===Mr.TOP?Mr.BOTTOM:Mr.TOP,this.flyout=new(T(Xt.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(e)):(e.toolboxPosition=this.workspace.toolboxPosition===Mr.RIGHT?Mr.LEFT:Mr.RIGHT,this.flyout=new(T(Xt.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(e)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){this.svgGroup=Ge(yt.G,{class:"blocklyTrash"});let e;const i=String(Math.random()).substring(2);e=Ge(yt.CLIPPATH,{id:"blocklyTrashBodyClipPath"+i},this.svgGroup),Ge(yt.RECT,{width:N4,height:p3,y:O4},e);const l=Ge(yt.IMAGE,{width:il.width,x:-W6,height:il.height,y:-j6,"clip-path":"url(#blocklyTrashBodyClipPath"+i+")"},this.svgGroup);return l.setAttributeNS(gl,"xlink:href",this.workspace.options.pathToMedia+il.url),e=Ge(yt.CLIPPATH,{id:"blocklyTrashLidClipPath"+i},this.svgGroup),Ge(yt.RECT,{width:N4,height:O4},e),this.svgLid=Ge(yt.IMAGE,{width:il.width,x:-W6,height:il.height,y:-j6,"clip-path":"url(#blocklyTrashLidClipPath"+i+")"},this.svgGroup),this.svgLid.setAttributeNS(gl,"xlink:href",this.workspace.options.pathToMedia+il.url),te(this.svgGroup,"pointerdown",this,this.blockMouseDownWhenOpenable),te(this.svgGroup,"pointerup",this,this.click),te(l,"pointerover",this,this.mouseOver),te(l,"pointerout",this,this.mouseOut),this.animateLid(),this.svgGroup}init(){if(this.workspace.options.maxTrashcanContents>0){const e=this.flyout.createDom(yt.SVG);Qt(e,"blocklyTrashcanFlyout"),ri(e,this.workspace.getParentSvg()),this.flyout.init(this.workspace)}this.workspace.getComponentManager().addComponent({component:this,weight:Oi.ComponentWeight.TRASHCAN_WEIGHT,capabilities:[Oi.Capability.AUTOHIDEABLE,Oi.Capability.DELETE_AREA,Oi.Capability.DRAG_TARGET,Oi.Capability.POSITIONABLE]}),this.initialized=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup&&cn(this.svgGroup),this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var e=this.contents.map(function(l){return JSON.parse(l)}),i=this.workspace.getParentSvg().style;i.cursor="wait",setTimeout(()=>{let l;(l=this.flyout)==null||l.show(e),i.cursor="";let h;(h=this.workspace.scrollbar)==null||h.setVisible(!1)},10),this.fireUiEvent(!0)}}closeFlyout(){if(this.contentsIsOpen()){var e;(e=this.flyout)==null||e.hide();var i;(i=this.workspace.scrollbar)==null||i.setVisible(!0),this.fireUiEvent(!1),this.workspace.recordDragTargets()}}autoHide(e){!e&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(e,i){if(this.initialized){var l=zs(this.workspace,e);e=Or(l,new Ir(N4,p3+O4),lA,Q$,e,this.workspace),i=mi(e,Q$,l.vertical===eo.TOP?pu.DOWN:pu.UP,i),this.top=i.top,this.left=i.left;var h;(h=this.svgGroup)==null||h.setAttribute("transform","translate("+this.left+","+this.top+")");var w;(w=this.flyout)==null||w.position()}}getBoundingRectangle(){return new xr(this.top,this.top+p3+O4,this.left,this.left+N4)}getClientRect(){if(!this.svgGroup)return null;var e=this.svgGroup.getBoundingClientRect();const i=e.top+j6-m3;return e=e.left+W6-m3,new xr(i,i+O4+p3+2*m3,e,e+N4+2*m3)}onDragOver(e){this.setLidOpen(this.wouldDelete_)}onDragExit(e){this.setLidOpen(!1)}onDrop(e){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(e){this.isLidOpen!==e&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=e,this.animateLid())}animateLid(){const e=cA;var i=1/(e+1);this.lidOpen+=this.isLidOpen?i:-i,this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1),this.setLidAngle(this.lidOpen*tv),i=ev+this.lidOpen*(hA-ev),this.svgGroup&&(this.svgGroup.style.opacity=`${i}`),this.lidOpen>this.minOpenness&&this.lidOpen<1&&(this.lidTask=setTimeout(this.animateLid.bind(this),uA/e))}setLidAngle(e){const i=this.workspace.toolboxPosition===Mr.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let l;(l=this.svgLid)==null||l.setAttribute("transform","rotate("+(i?-e:e)+","+(i?4:N4-4)+","+(O4-2)+")")}setMinOpenness(e){this.minOpenness=e,this.isLidOpen||this.setLidAngle(e*tv)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}fireUiEvent(e){e=new(Ut(Tt.TRASHCAN_OPEN))(e,this.workspace.id),de(e)}blockMouseDownWhenOpenable(e){!this.contentsIsOpen()&&this.hasContents()&&e.stopPropagation()}mouseOver(){this.hasContents()&&this.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(e){if(!(this.workspace.options.maxTrashcanContents<=0||!ze(e)||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson(e.oldJson)),!this.contents.includes(e)){for(this.contents.unshift(e);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(aA)}}}cleanBlockJson(e){function i(l){if(l){if(delete l.id,delete l.x,delete l.y,delete l.enabled,delete l.disabledReasons,l.icons&&l.icons.comment){var h=l.icons.comment;delete h.height,delete h.width,delete h.pinned}h=l.inputs;for(var w in h){var L=h[w];const ce=L.block;L=L.shadow,ce&&i(ce),L&&i(L)}l.next&&(w=l.next,l=w.block,w=w.shadow,l&&i(l),w&&i(w))}}return e=JSON.parse(JSON.stringify(e)),i(e),Object.assign({},{kind:"BLOCK"},e)}},N4=47,p3=44,O4=16,Q$=20,lA=20,m3=10,W6=0,j6=32,aA=.1,uA=80,cA=4,ev=.4,hA=.8,tv=45,Op=null,Rp=null,g3=void 0,xu={};xu.BlockPaster=gh,xu.copy=Tf,xu.getLastCopiedData=Ss,xu.getLastCopiedLocation=wf,xu.getLastCopiedWorkspace=Qh,xu.paste=y0,xu.registry=th,xu.setLastCopiedData=Ef,xu.setLastCopiedLocation=zm,xu.setLastCopiedWorkspace=x2;var U1={};U1.CollapseCommentBarButton=v4,U1.CommentBarButton=Ud,U1.CommentEditor=b4,U1.CommentView=uh,U1.DeleteCommentBarButton=n3,U1.RenderedWorkspaceComment=xa,U1.WorkspaceComment=k1;var cc;(function(e){e.ESCAPE="escape",e.DELETE="delete",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.UNDO="undo",e.REDO="redo"})(cc||(cc={})),md();var hc={};hc.names=cc,hc.registerCopy=e1,hc.registerCut=fd,hc.registerDefaultShortcuts=md,hc.registerDelete=Gs,hc.registerEscape=qo,hc.registerPaste=Wa,hc.registerRedo=pd,hc.registerUndo=t1;var dA=class{constructor(e,i){this.procedureModelClass=e,this.parameterModelClass=i,this.priority=A0}save(e){return e=e.getProcedureMap().getProcedures().map(i=>xf(i)),e.length?e:null}load(e,i){const l=i.getProcedureMap();for(const h of e)l.add(Sf(this.procedureModelClass,this.parameterModelClass,h,i))}clear(e){e.getProcedureMap().clear()}},$3={};$3.ProcedureSerializer=dA,$3.loadProcedure=Sf,$3.saveProcedure=xf;var nv=class{constructor(){this.priority=ju}save(e){return e=e.getAllVariables().map(i=>i.save()),e.length?e:null}load(e,i){const l=v(Xt.VARIABLE_MODEL,kl);e.forEach(h=>{l?.load(h,i)})}clear(e){e.getVariableMap().clear()}};Pr("variables",new nv);var rv={};rv.VariableSerializer=nv;var X6={};X6.load=k2,X6.save=S2;var fA={blocks:rh,exceptions:Nl,priorities:Ya,procedures:$3,registry:t4,variables:rv,workspaceComments:Xu,workspaces:X6};"Blockly"in globalThis||(globalThis.Blockly={Msg:i4});var Y6="label",iv=class{load(e,i){return e=new Uo(i.getWorkspace(),i.targetWorkspace,e,!0),e.show(),new N1(e,Y6)}gapForItem(e,i){return i}disposeItem(e){e=e.getElement(),e instanceof Uo&&e.dispose()}getType(){return Y6}};s(Xt.FLYOUT_INFLATER,Y6,iv);var sv=class extends Et{constructor(e){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null,e&&(this.GRID_UNIT=e),this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=6*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=8*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(e){super.setFontConstants_(e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+this.FIELD_BORDER_RECT_Y_PADDING*2}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(e){super.setDynamicProperties_(e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const i=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=i&&!isNaN(i)?i:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter&&cn(this.selectedGlowFilter),this.replacementGlowFilter&&cn(this.replacementGlowFilter)}makeStartHat(){const e=this.START_HAT_HEIGHT,i=this.START_HAT_WIDTH,l=pl("c",[qn(25,-e),qn(71,-e),qn(i,0)]);return{height:e*.75,width:i,path:l}}makeHexagonal(){function e(l,h,w){var L=l/2;return L=L>i?i:L,w=w?-1:1,l=(h?-1:1)*l/2,xl(-w*L,l)+xl(w*L,l)}const i=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(l){return l/=2,l>i?i:l},height(l){return l},connectionOffsetY(l){return l/2},connectionOffsetX(l){return-l},pathDown(l){return e(l,!1,!1)},pathUp(l){return e(l,!0,!1)},pathRightDown(l){return e(l,!1,!0)},pathRightUp(l){return e(l,!1,!0)}}}makeRounded(){function e(h,w,L){const ce=h>l?h-l:0;h=(h>l?l:h)/2;const Ve=L===w?"0":"1";return E("a","0 0,"+Ve,h,qn((L?1:-1)*h,(w?-1:1)*h))+g("v",(w?-1:1)*ce)+E("a","0 0,"+Ve,h,qn((L?-1:1)*h,(w?-1:1)*h))}const i=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,l=i*2;return{type:this.SHAPES.ROUND,isDynamic:!0,width(h){return h/=2,h>i?i:h},height(h){return h},connectionOffsetY(h){return h/2},connectionOffsetX(h){return-h},pathDown(h){return e(h,!1,!1)},pathUp(h){return e(h,!0,!1)},pathRightDown(h){return e(h,!1,!0)},pathRightUp(h){return e(h,!1,!0)}}}makeSquared(){function e(l,h,w){l-=i*2;const L=w===h?"0":"1";return E("a","0 0,"+L,i,qn((w?1:-1)*i,(h?-1:1)*i))+g("v",(h?-1:1)*l)+E("a","0 0,"+L,i,qn((w?-1:1)*i,(h?-1:1)*i))}const i=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(l){return i},height(l){return l},connectionOffsetY(l){return l/2},connectionOffsetX(l){return-l},pathDown(l){return e(l,!1,!1)},pathUp(l){return e(l,!0,!1)},pathRightDown(l){return e(l,!1,!0)},pathRightUp(l){return e(l,!1,!0)}}}shapeFor(e){let i=e.getCheck();switch(!i&&e.targetConnection&&(i=e.targetConnection.getCheck()),e.type){case In.INPUT_VALUE:case In.OUTPUT_VALUE:if(e=e.getSourceBlock().getOutputShape(),e!==null)switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return i&&i.includes("Boolean")?this.HEXAGONAL:i&&i.includes("Number")?this.ROUNDED:(i&&i.includes("String"),this.ROUNDED);case In.PREVIOUS_STATEMENT:case In.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function e(Yn){return pl("c",[qn(Yn*w/2,0),qn(Yn*w*3/4,ce/2),qn(Yn*w,ce)])+y([qn(Yn*w,L)])+pl("c",[qn(Yn*w/4,ce/2),qn(Yn*w/2,ce),qn(Yn*w,ce)])+g("h",Yn*h)+pl("c",[qn(Yn*w/2,0),qn(Yn*w*3/4,-(ce/2)),qn(Yn*w,-ce)])+y([qn(Yn*w,-L)])+pl("c",[qn(Yn*w/4,-(ce/2)),qn(Yn*w/2,-ce),qn(Yn*w,-ce)])}const i=this.NOTCH_WIDTH,l=this.NOTCH_HEIGHT,h=i/3,w=h/3,L=l/2,ce=L/2,Ve=e(1),Gt=e(-1);return{type:this.SHAPES.NOTCH,width:i,height:l,pathLeft:Ve,pathRight:Gt}}makeInsideCorners(){const e=this.CORNER_RADIUS,i=E("a","0 0,0",e,qn(-e,e)),l=E("a","0 0,1",e,qn(-e,e)),h=E("a","0 0,0",e,qn(e,e)),w=E("a","0 0,1",e,qn(e,e));return{width:e,height:e,pathTop:i,pathBottom:h,rightWidth:e,rightHeight:e,pathTopRight:l,pathBottomRight:w}}generateSecondaryColour_(e){return po("#000",e,.15)||e}generateTertiaryColour_(e){return po("#000",e,.25)||e}createDom(e,i,l,h){super.createDom(e,i,l,h),e=Ge(yt.DEFS,{},e),i=Ge(yt.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),Ge(yt.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},i),l=Ge(yt.FECOMPONENTTRANSFER,{result:"outBlur"},i),Ge(yt.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},l),Ge(yt.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},i),Ge(yt.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},i),this.selectedGlowFilterId=i.id,this.selectedGlowFilter=i,e=Ge(yt.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),Ge(yt.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),i=Ge(yt.FECOMPONENTTRANSFER,{result:"outBlur"},e),Ge(yt.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},i),Ge(yt.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),Ge(yt.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),Ge(yt.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter=e,h&&(h.style.setProperty("--blocklySelectedGlowFilter",`url(#${this.selectedGlowFilterId})`),h.style.setProperty("--blocklyReplacementGlowFilter",`url(#${this.replacementGlowFilterId})`))}getCSS_(e){return[`${e} .blocklyText,`,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyTextInputBubble textarea {`,"font-weight: normal;","}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableField>rect:not(.blocklyDropdownRect),`,`${e} .blocklyEditableField>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",`${e} .blocklyNonEditableField>text,`,`${e} .blocklyEditableField>text,`,`${e} .blocklyNonEditableField>g>text,`,`${e} .blocklyEditableField>g>text {`,"fill: #575E75;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #575E75;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #575E75;","}",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableField:not(.blocklyEditing):hover>rect,",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableField:not(.blocklyEditing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",`${e} .blocklyDropdownText {`,"fill: #fff !important;","}",`${e}.blocklyWidgetDiv .blocklyMenuItem,`,`${e}.blocklyDropDownDiv .blocklyMenuItem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e}.blocklyDropDownDiv .blocklyMenuItemContent {`,"color: #fff;","}",`${e} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",`${e} .blocklyDisabledPattern > .blocklyOutlinePath {`,"fill: var(--blocklyDisabledPattern)","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}",`${e} .blocklySelected>.blocklyPath.blocklyPathSelected {`,"fill: none;","filter: var(--blocklySelectedGlowFilter);","}",`${e} .blocklyReplaceable>.blocklyPath {`,"filter: var(--blocklyReplacementGlowFilter);","}"]}},ov=class extends Kt{constructor(e,i){super(e,i)}draw(){const e=this.block_.pathObject;e.beginDrawing(),this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),e.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(e){if(!(e.height<=0)){if(lt.isSpacer(e)){const h=e.precedesStatement;var i=e.followsStatement;if(h||i){const w=this.constants_.INSIDE_CORNERS;var l=w.rightHeight;l=e.height-(h?l:0),i=i?w.pathBottomRight:"",e=l>0?g("V",e.yPos+l):"",this.outlinePath_+=i+e+(h?w.pathTopRight:"");return}}this.outlinePath_+=g("V",e.yPos+e.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){const e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=Ui(e.xPos,this.info_.startY),this.outlinePath_+=g("h",e.width)}drawFlatBottom_(){const e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=g("V",e.baseline),this.outlinePath_+=g("h",-e.width)}drawInlineInput_(e){this.positionInlineInputConnection_(e);const i=e.input.name;e.connectedBlock||this.info_.isInsertionMarker||(e=mo(e.xPos+e.connectionWidth,e.centerline-e.height/2)+this.getInlineInputPath(e),this.block_.pathObject.setOutlinePath(i,e))}getInlineInputPath(e){const i=e.width-e.connectionWidth*2,l=e.height;return g("h",i)+e.shape.pathRightDown(l)+g("h",-i)+e.shape.pathUp(l)+"z"}drawStatementInput_(e){var i=e.getLastInput();const l=i.xPos+i.notchOffset+i.shape.width,h=this.constants_.INSIDE_CORNERS,w=i.shape.pathRight+g("h",-(i.notchOffset-h.width))+h.pathTop,L=e.height-2*h.height;i=h.pathBottom+g("h",i.notchOffset-h.width)+(i.connectedBottomNextConnection?"":i.shape.pathLeft),this.outlinePath_+=g("H",l)+w+g("v",L)+i+g("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}drawConnectionHighlightPath(e){const i=e.connectionModel;if(i.type===In.NEXT_STATEMENT||i.type===In.PREVIOUS_STATEMENT||i.type===In.OUTPUT_VALUE&&!e.isDynamicShape)return super.drawConnectionHighlightPath(e);e=i.type===In.INPUT_VALUE?mo(e.connectionWidth,-e.height/2)+this.getInlineInputPath(e):mo(e.width,-e.height/2)+e.shape.pathDown(e.height);const l=i.getSourceBlock();let h,w;return(w=(h=l.pathObject).addConnectionHighlight)==null?void 0:w.call(h,i,e,i.getOffsetInBlock(),l.RTL)}},Yd=class extends Vi{constructor(e,i,l,h,w,L,ce){if(super(Vi.SKIP_SETUP),this.imageElement=this.clickHandler=null,this.flipRtl=this.isDirty_=this.EDITABLE=!1,this.altText="",l=Number(gr(l)),i=Number(gr(i)),isNaN(l)||isNaN(i))throw Error("Height and width values of an image field must cast to numbers.");if(l<=0||i<=0)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new Ir(i,l+Yd.Y_PADDING),this.imageHeight=l,typeof w=="function"&&(this.clickHandler=w),e!==Vi.SKIP_SETUP&&(ce?this.configure_(ce):(this.flipRtl=!!L,this.altText=gr(h)||""),this.setValue(gr(e)))}configure_(e){super.configure_(e),e.flipRtl&&(this.flipRtl=e.flipRtl),e.alt&&(this.altText=gr(e.alt))}initView(){this.imageElement=Ge(yt.IMAGE,{height:this.imageHeight+"px",width:this.size_.width+"px",alt:this.altText},this.fieldGroup_),this.imageElement.setAttributeNS(gl,"xlink:href",this.value_),this.fieldGroup_&&Qt(this.fieldGroup_,"blocklyImageField"),this.clickHandler&&(this.imageElement.style.cursor="pointer")}updateSize_(){}doClassValidation_(e){return typeof e!="string"?null:e}doValueUpdate_(e){this.value_=e,this.imageElement&&this.imageElement.setAttributeNS(gl,"xlink:href",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(e){e!==this.altText&&(this.altText=e||"",this.imageElement&&this.imageElement.setAttribute("alt",this.altText))}isClickable(){return super.isClickable()&&!!this.clickHandler}showEditor_(){this.clickHandler&&this.clickHandler(this)}setOnClickHandler(e){this.clickHandler=e}getText_(){return this.altText}static fromJson(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}};Yd.Y_PADDING=1,dl("field_image",Yd),Yd.prototype.DEFAULT_VALUE="";var v3=14,R4=class extends Vi{set size_(e){super.size_=e}get size_(){const e=super.size_;return e.width<v3&&(e.width=v3),e}constructor(e,i,l){super(Vi.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onInputWrapper=this.onKeyDownWrapper=this.valueWhenEditorWasOpened_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,e!==Vi.SKIP_SETUP&&(l&&this.configure_(l),this.setValue(e),i&&this.setValidator(i))}configure_(e){super.configure_(e),e.spellcheck!==void 0&&(this.spellcheck_=e.spellcheck)}initView(){if(!this.getSourceBlock())throw new to;super.initView(),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot()),this.fieldGroup_&&Qt(this.fieldGroup_,"blocklyInputField")}isFullBlockField(){const e=this.getSourceBlock();if(!e)throw new to;let i;return this.fullBlockClickTarget_=!((i=this.getConstants())==null||!i.FULL_BLOCK_FIELDS)&&e.isSimpleReporter()}doValueInvalid_(e,i=!0){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.valueWhenEditorWasOpened_,this.sourceBlock_&&qt()&&this.value_!==e&&i&&de(new(Ut(Tt.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}doValueUpdate_(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}applyColour(){const e=this.getSourceBlock();if(!e)throw new to;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?(this.borderRect_.style.display="block",this.borderRect_.setAttribute("stroke",e.getColourTertiary())):(this.borderRect_.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}getSize(){let e;return(e=this.getConstants())!=null&&e.FULL_BLOCK_FIELDS&&(this.render_(),this.isDirty_=!1),super.getSize()}onLocationChange(){this.isBeingEdited_&&this.resizeEditor_()}render_(){if(super.render_(),this.isBeingEdited_){var e=this.htmlInput_;this.isTextValid_?(Cn(e,"blocklyInvalidInput"),Kr(e,As.INVALID,!1)):(Qt(e,"blocklyInvalidInput"),Kr(e,As.INVALID,!0))}if(e=this.getSourceBlock(),!e)throw new to;this.getConstants().FULL_BLOCK_FIELDS&&e.applyColour()}setSpellcheck(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(e,i=!1,l=!0){this.workspace_=this.sourceBlock_.workspace,!i&&this.workspace_.options.modalInputs&&(jm||Wf||c1)?this.showPromptEditor():this.showInlineEditor(i,l)}showPromptEditor(){bn(r.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,this.getText(),e=>{e!==null&&this.setValue(this.getValueFromEditorText_(e)),this.onFinishEditing_(this.value_)})}showInlineEditor(e,i){const l=this.getSourceBlock();if(!l)throw new to;Ba(this,l.RTL,this.widgetDispose_.bind(this),this.workspace_,i),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,this.valueWhenEditorWasOpened_=this.value_,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var e=this.getSourceBlock();if(!e)throw new to;r.setGroup$$module$build$src$core$events$utils(!0);const i=So();var l=this.getClickTarget_();if(!l)throw Error("A click target has not been set.");Qt(l,"blocklyEditing"),l=document.createElement("input"),l.className="blocklyHtmlInput",l.setAttribute("spellcheck",this.spellcheck_);const h=this.workspace_.getAbsoluteScale();var w=this.getConstants().FIELD_TEXT_FONTSIZE*h+"pt";return i.style.fontSize=w,l.style.fontSize=w,w=R4.BORDERRADIUS*h+"px",this.isFullBlockField()&&(w=this.getScaledBBox(),w=(w.bottom-w.top)/2+"px",e=e.getParent()?e.getParent().getColourTertiary():this.sourceBlock_.getColourTertiary(),l.style.border=1*h+"px solid "+e,i.style.borderRadius=w,i.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(i.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*h+"px")),l.style.borderRadius=w,i.appendChild(l),l.value=l.defaultValue=this.getEditorText_(this.value_),l.setAttribute("data-untyped-default-value",String(this.value_)),this.resizeEditor_(),this.bindInputEvents_(l),l}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),this.sourceBlock_&&qt()&&this.valueWhenEditorWasOpened_!==null&&this.valueWhenEditorWasOpened_!==this.value_&&(de(new(Ut(Tt.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null),r.setGroup$$module$build$src$core$events$utils(!1),this.unbindInputEvents_();var e=So().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,e=this.getClickTarget_(),!e)throw Error("A click target has not been set.");Cn(e,"blocklyEditing")}onFinishEditing_(e){}bindInputEvents_(e){this.onKeyDownWrapper=W(e,"keydown",this,this.onHtmlInputKeyDown_),this.onInputWrapper=W(e,"input",this,this.onHtmlInputChange)}unbindInputEvents_(){this.onKeyDownWrapper&&(ie(this.onKeyDownWrapper),this.onKeyDownWrapper=null),this.onInputWrapper&&(ie(this.onInputWrapper),this.onInputWrapper=null)}onHtmlInputKeyDown_(e){if(e.key==="Enter")Zl(this),Xe();else if(e.key==="Escape")this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value"),!1),Zl(this),Xe();else if(e.key==="Tab"){e.preventDefault();var i,l=(i=this.workspace_)==null?void 0:i.getCursor();i=h=>(h instanceof R4||h instanceof os&&h.isSimpleReporter())&&h!==this.getSourceBlock(),e=e.shiftKey?l?.getPreviousNode(this,i,!1):l?.getNextNode(this,i,!1),e=e instanceof os&&e.isSimpleReporter()?e.getFields().next().value:e,e instanceof R4&&(Zl(this),Xe(),l=e.getSourceBlock(),e.isFullBlockField()&&l&&l instanceof os?r.getFocusManager$$module$build$src$core$focus_manager().focusNode(l):r.getFocusManager$$module$build$src$core$focus_manager().focusNode(e),e.showEditor())}}onHtmlInputChange(e){e=this.value_,this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1),this.sourceBlock_&&qt()&&this.value_!==e&&de(new(Ut(Tt.BLOCK_FIELD_INTERMEDIATE_CHANGE))(this.sourceBlock_,this.name||null,e,this.value_))}setEditorValue_(e,i=!0){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e,i)}resizeEditor_(){ir().then(()=>{const e=this.getSourceBlock();if(!e)throw new to;const i=So(),l=this.getScaledBBox();i.style.width=l.right-l.left+"px",i.style.height=l.bottom-l.top+"px";const h=l.top;i.style.left=`${e.RTL?l.right-i.offsetWidth:l.left}px`,i.style.top=`${h}px`})}repositionForWindowResize(){let e;const i=(e=this.getSourceBlock())==null?void 0:e.getRootBlock();return i instanceof os?(wr(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),i)||this.resizeEditor_(),!0):!1}positionTextElement_(e,i){const l=e*2+i;super.positionTextElement_(e+(l<v3?(v3-l)/2:0),i)}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(e){return`${e}`}getValueFromEditorText_(e){return e}};R4.BORDERRADIUS=4,r.FieldTextInput$$module$build$src$core$field_textinput=class extends R4{constructor(e,i,l){super(e,i,l)}initView(){super.initView(),this.fieldGroup_&&Qt(this.fieldGroup_,"blocklyTextInputField")}doClassValidation_(e){return e===void 0?null:`${e}`}static fromJson(e){return new this(gr(e.text),void 0,e)}},dl("field_input",r.FieldTextInput$$module$build$src$core$field_textinput),r.FieldTextInput$$module$build$src$core$field_textinput.prototype.DEFAULT_VALUE="",r.FieldTextInput$$module$build$src$core$field_textinput;var lv=class extends o{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){return!!e.outputConnection}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},b3=class extends gt{constructor(e,i){if(super(e,i),this.connectedBottomNextConnection=!1,this.connectedBlock){for(e=this.connectedBlock;i=e.getNextBlock();)e=i;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},av=class extends P0{constructor(e){super(e),this.width=this.height=0,this.type|=lt.getType("RIGHT_CONNECTION")}},uv=class extends ut{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){const i=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||i}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},cv=class extends nr{constructor(e,i){super(e,i),this.isInline=!0,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.topRow=new uv(this.constants_),this.bottomRow=new lv(this.constants_),this.isMultiRow=!i.getInputsInline()||i.isCollapsed(),this.hasStatementInput=i.statementInputCount>0,this.rightSide=this.outputConnection?new av(this.constants_):null,this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(e,i){return i?i instanceof aa||e instanceof Bl||i instanceof Bl?!0:e instanceof r.ValueInput$$module$build$src$core$inputs$value_input||e instanceof vl||e instanceof aa?!this.isInline||this.isMultiRow:!1:!1}getDesiredRowWidth_(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(e)}getInRowSpacing_(e,i){return e&&i||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&i&&lt.isStatementInput(i)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&lt.isLeftRoundedCorner(e)&&i&&(lt.isPreviousConnection(i)||lt.isNextConnection(i))?i.notchOffset-this.constants_.CORNER_RADIUS:e&&lt.isLeftSquareCorner(e)&&i&&lt.isHat(i)||e&&lt.isField(e)&&e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(e,i){if(lt.isTopRow(e)&&lt.isBottomRow(i))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;const l=lt.isInputRow(e)&&e.hasStatement,h=lt.isInputRow(i)&&i.hasStatement;return h||l?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),h&&l?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):lt.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):lt.isBottomRow(i)?this.outputConnection?!i.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(e,i){const l=this.width-this.startX;return lt.isInputRow(e)&&e.hasStatement||lt.isInputRow(i)&&i.hasStatement?Math.max(l,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):l}getElemCenterline_(e,i){if(e.hasStatement&&!lt.isSpacer(i)&&!lt.isStatementInput(i))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(lt.isInlineInput(i)){const l=i.connectedBlock;if(l&&l.outputConnection&&l.nextConnection)return e.yPos+l.height/2}return super.getElemCenterline_(e,i)}addInput_(e,i){if((e instanceof vl||e instanceof aa)&&i.hasDummyInput&&i.align===r.Align$$module$build$src$core$inputs$align.LEFT&&e.align===r.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(i,e);else if(e instanceof Bl){i.elements.push(new b3(this.constants_,e)),i.hasStatement=!0,i.align===null&&(i.align=e.align);return}super.addInput_(e,i)}addAlignmentPadding_(e,i){if(this.rightAlignedDummyInputs.get(e)){let l;for(let h=0;h<e.elements.length;h++){const w=e.elements[h];if(lt.isSpacer(w)&&(l=w),lt.isField(w)&&w.parentInput===this.rightAlignedDummyInputs.get(e))break}if(l){l.width+=i,e.width+=i;return}}super.addAlignmentPadding_(e,i)}adjustXPosition_(){const e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let i=e;for(let w=2;w<this.rows.length-1;w+=2){var l=this.rows[w-1];const L=this.rows[w];var h=this.rows[w+1];if(l=w===2?!!this.topRow.hasPreviousConnection:!!l.followsStatement,h=w+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!h.precedesStatement,lt.isInputRow(L)&&L.hasStatement){L.measure();let ce,Ve;i=L.width-((Ve=(ce=L.getLastInput())==null?void 0:ce.width)!=null?Ve:0)+e}else if(l&&(w===2||h)&&lt.isInputRow(L)&&!L.hasStatement){h=L.xPos,l=null;for(let ce=0;ce<L.elements.length;ce++){const Ve=L.elements[ce];lt.isSpacer(Ve)&&(l=Ve),!(l&&(lt.isField(Ve)||lt.isInput(Ve))&&h<i)||lt.isField(Ve)&&(Ve.field instanceof fh||Ve.field instanceof Yd)||(l.width+=i-h),h+=Ve.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var i=0,l=0;l<this.rows.length;l++){const h=this.rows[l];h.yPos=i,i+=h.height}this.height=i,l=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,i=e.height(l),l=e.width(l),this.outputConnection.height=i,this.outputConnection.width=l,this.outputConnection.startX=l,this.outputConnection.connectionOffsetY=e.connectionOffsetY(i),this.outputConnection.connectionOffsetX=e.connectionOffsetX(l),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=l,this.rightSide.height=i,this.rightSide.width=e,this.rightSide.centerline=i/2,this.rightSide.xPos=this.width+e),this.startX=l,this.width+=l+e,this.widthWithChildren+=l+e}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,i=0;i<this.rows.length;i++){var l=this.rows[i];if(!lt.isInputRow(l))continue;e=l.elements[l.elements.length-2];let h=this.getNegativeSpacing_(l.elements[1]),w=this.getNegativeSpacing_(e);e=h+w;const L=this.constants_.MIN_BLOCK_WIDTH+this.outputConnection.width*2;this.width-e<L&&(e=this.width-L,h=e/2,w=e/2),l.elements.unshift(new we(this.constants_,-h)),l.elements.push(new we(this.constants_,-w))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,i=0;i<this.rows.length;i++)l=this.rows[i],lt.isTopOrBottomRow(l)&&(l.elements[1].width-=e),l.width-=e,l.widthWithConnectedBlocks-=e}}getNegativeSpacing_(e){if(!e||!this.outputConnection)return 0;const i=this.outputConnection.width;var l=this.outputConnection.shape.type;const h=this.constants_;if(this.inputRows.length>1)switch(l){case h.SHAPES.ROUND:return l=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,l=this.height/2>l?l:this.height/2,i-l*(1-Math.sin(Math.acos((l-this.constants_.SMALL_PADDING)/l)));default:return 0}if(lt.isInlineInput(e)){const w=e.connectedBlock;return e=w?w.pathObject.outputShapeType:e.shape.type,e==null||w&&w.outputConnection&&(w.statementInputCount||w.nextConnection)||l===h.SHAPES.HEXAGONAL&&l!==e?0:i-this.constants_.SHAPE_IN_SHAPE_PADDING[l][e]}return lt.isField(e)?l===h.SHAPES.ROUND&&e.field instanceof r.FieldTextInput$$module$build$src$core$field_textinput?i-2.75*h.GRID_UNIT:i-this.constants_.SHAPE_IN_SHAPE_PADDING[l][0]:lt.isIcon(e)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let h=2;h<this.rows.length-1;h+=2){const w=this.rows[h-1],L=this.rows[h],ce=this.rows[h+1];var e=h===2,i=h+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!ce.precedesStatement;if(e?this.topRow.hasPreviousConnection:w.followsStatement){var l=L.elements[1];if(l=L.elements.length===3&&l instanceof C&&(l.field instanceof fh||l.field instanceof Yd),!e&&l)w.height-=this.constants_.SMALL_PADDING,ce.height-=this.constants_.SMALL_PADDING,L.height-=this.constants_.MEDIUM_PADDING;else if(!e&&!i)w.height+=this.constants_.SMALL_PADDING;else if(i){for(e=!1,i=0;i<L.elements.length;i++)if(l=L.elements[i],lt.isInlineInput(l)&&l.connectedBlock&&!l.connectedBlock.isShadow()&&l.connectedBlock.getHeightWidth().height>=40){e=!0;break}e&&(w.height-=this.constants_.SMALL_PADDING,ce.height-=this.constants_.SMALL_PADDING)}}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},hv=class extends _i{constructor(e,i,l){super(e,i,l),this.svgPathSelected=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=l}setPath(e){super.setPath(e),this.svgPathSelected&&this.svgPathSelected.setAttribute("d",e)}applyColour(e){super.applyColour(e);const i=e.getParent();e.isShadow()&&i&&this.svgPath.setAttribute("stroke",i.getColourTertiary());for(const l of this.outlines.values())l.setAttribute("fill",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const e of this.outlines.values())e.setAttribute("transform","scale(-1 1)")}updateSelected(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.classList.add("blocklyPathSelected"),Cn(this.svgPathSelected,Lo.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),Cn(this.svgPathSelected,Lo.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME),this.svgPathSelected.removeAttribute("tabindex"),this.svgPathSelected.removeAttribute("id"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,i){e=e.getParentInput().name,(e=this.getOutlinePath(e))&&(i?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}beginDrawing(){this.remainingOutlines.clear();for(const e of this.outlines.keys())this.remainingOutlines.add(e)}endDrawing(){if(this.remainingOutlines.size)for(const e of this.remainingOutlines)this.removeOutlinePath(e);this.remainingOutlines.clear()}setOutlinePath(e,i){e=this.getOutlinePath(e),e.setAttribute("d",i),e.setAttribute("fill",this.style.colourTertiary)}getOutlinePath(e){return this.outlines.has(e)||this.outlines.set(e,Ge(yt.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}removeOutlinePath(e){let i,l;(i=this.outlines.get(e))==null||(l=i.parentNode)==null||l.removeChild(this.outlines.get(e)),this.outlines.delete(e)}},K6=class extends Wn{constructor(e){super(e)}makeConstants_(){return new sv}makeRenderInfo_(e){return new cv(this,e)}makeDrawer_(e,i){return new ov(e,i)}makePathObject(e,i){return new hv(e,i,this.getConstants())}getConstants(){return this.constants_}};ia("zelos",K6);var dv=class{constructor(e){this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null,this.workspace=e.workspace}previewReplacement(e,i,l){r.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=l,l.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(i)&&(i.highlight(),this.staticConn=i)}finally{r.enable$$module$build$src$core$events$utils()}}previewConnection(e,i){if(e!==this.draggedConn||i!==this.staticConn){r.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(e,i)&&(this.markerConn=this.previewMarker(e,i)),this.workspace.getRenderer().shouldHighlightConnection(i)&&i.highlight(),this.draggedConn=e,this.staticConn=i}finally{r.enable$$module$build$src$core$events$utils()}}}shouldUseMarkerPreview(e,i){return i.type===In.PREVIOUS_STATEMENT||i.type===In.NEXT_STATEMENT||!(this.workspace.getRenderer()instanceof K6)}previewMarker(e,i){const l=e.getSourceBlock(),h=this.createInsertionMarker(l),w=this.getMatchingConnection(l,h,e);if(!w)return null;h.queueRender(),p(),w.connect(i);const L={x:i.x-w.x,y:i.y-w.y},ce=w.getOffsetInBlock().clone();return ir().then(()=>{if(!h.isDeadOrDying()){r.disable$$module$build$src$core$events$utils();try{h?.positionNearConnection(w,L,ce),h?.getSvgRoot().setAttribute("visibility","visible")}finally{r.enable$$module$build$src$core$events$utils()}}}),w}serializeBlockToInsertionMarker(e){const i=ts(e,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!i)throw Error(`Failed to serialize source block. ${e.toDevString()}`);return i}createInsertionMarker(e){e=this.serializeBlockToInsertionMarker(e),e=jl(e,this.workspace);for(const i of e.getDescendants(!1))i.setInsertionMarker(!0);return e.initSvg(),e.getSvgRoot().setAttribute("visibility","hidden"),e}getMatchingConnection(e,i,l){if(e=e.getConnections_(!0),i=i.getConnections_(!0),e.length!==i.length)return null;for(let h=0;h<e.length;h++)if(e[h]===l)return i[h];return null}hidePreview(){r.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{r.enable$$module$build$src$core$events$utils()}}hideInsertionMarker(e){const i=e.getSourceBlock(),l=i.outputConnection;let h;if((h=i.previousConnection)!=null&&h.targetConnection||l!=null&&l.targetConnection)i.unplug(!0);else{let w;(w=e.targetBlock())==null||w.unplug(!1)}i.dispose()}dispose(){this.hidePreview()}};s(Xt.CONNECTION_PREVIEWER,kl,dv);var z1={};z1.Align=r.Align$$module$build$src$core$inputs$align,z1.DummyInput=vl,z1.EndRowInput=aa,z1.Input=mh,z1.StatementInput=Bl,z1.ValueInput=r.ValueInput$$module$build$src$core$inputs$value_input,z1.inputTypes=r.inputTypes$$module$build$src$core$inputs$input_types;var fv=!1,pv;r.CodeGenerator$$module$build$src$core$generator=class{constructor(e){this.forBlock=Object.create(null),this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=F());var i=[];this.init(e),e=e.getTopBlocks(!0);for(let l=0,h;h=e[l];l++){let w=this.blockToCode(h);Array.isArray(w)&&(w=w[0]),w&&(h.outputConnection&&(w=this.scrubNakedValue(w),this.STATEMENT_PREFIX&&!h.suppressPrefixSuffix&&(w=this.injectId(this.STATEMENT_PREFIX,h)+w),this.STATEMENT_SUFFIX&&!h.suppressPrefixSuffix&&(w+=this.injectId(this.STATEMENT_SUFFIX,h))),i.push(w))}return i=i.join(`
`),i=this.finish(i),i=i.replace(/^\s+\n/,""),i=i.replace(/\n\s+$/,`
`),i=i.replace(/[ \t]+\n/g,`
`)}prefixLines(e,i){return i+e.replace(/(?!\n$)\n/g,`
`+i)}allNestedComments(e){const i=[];e=e.getDescendants(!0);for(let l=0;l<e.length;l++){const h=e[l].getCommentText();h&&i.push(h)}return i.length&&i.push(""),i.join(`
`)}blockToCode(e,i){if(this.isInitialized===!1&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return i?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return i?"":this.blockToCode(e.getChildren(!1)[0]);var l=this.forBlock[e.type];if(typeof l!="function")throw Error(`${this.name_} generator does not know how to generate code for block type "${e.type}".`);if(l=l.call(e,e,this),Array.isArray(l)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,l[0],i),l[1]]}if(typeof l=="string")return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(l=this.injectId(this.STATEMENT_PREFIX,e)+l),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(l+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,l,i);if(l===null)return"";throw SyntaxError("Invalid code generated: "+l)}valueToCode(e,i,l){if(isNaN(l))throw TypeError("Expecting valid order from block: "+e.type);var h=e.getInputTargetBlock(i);if(!h&&!e.getInput(i))throw ReferenceError(`Input "${i}" doesn't exist on "${e.type}"`);if(!h||(i=this.blockToCode(h),i===""))return"";if(!Array.isArray(i))throw TypeError(`Expecting tuple from value block: ${h.type} See developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information`);if(e=i[0],i=i[1],isNaN(i))throw TypeError("Expecting valid order from value block: "+h.type);if(!e)return"";h=!1;var w=Math.floor(l);const L=Math.floor(i);if(w<=L&&(w!==L||w!==0&&w!==99)){for(h=!0,w=0;w<this.ORDER_OVERRIDES.length;w++)if(this.ORDER_OVERRIDES[w][0]===l&&this.ORDER_OVERRIDES[w][1]===i){h=!1;break}}return h&&(e="("+e+")"),e}statementToCode(e,i){const l=e.getInputTargetBlock(i);if(!l&&!e.getInput(i))throw ReferenceError(`Input "${i}" doesn't exist on "${e.type}"`);if(e=this.blockToCode(l),typeof e!="string")throw TypeError("Expecting code from statement block: "+(l&&l.type));return e&&(e=this.prefixLines(e,this.INDENT)),e}addLoopTrap(e,i){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,i),this.INDENT)+e),this.STATEMENT_SUFFIX&&!i.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,i),this.INDENT)+e),this.STATEMENT_PREFIX&&!i.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,i),this.INDENT)),e}injectId(e,i){return i=i.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+i+"'")}addReservedWords(e){this.RESERVED_WORDS_+=e+","}provideFunction_(e,i){if(!this.definitions_[e]){const l=this.nameDB_.getDistinctName(e,r.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[e]=l,Array.isArray(i)&&(i=i.join(`
`)),i=i.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,l);let h;for(;h!==i;)h=i,i=i.replace(/^(( {2})*) {2}/gm,"$1\0");i=i.replace(/\0/g,this.INDENT),this.definitions_[e]=i}return this.functionNames_[e]}getVariableName(e){return this.getName(e,r.NameType$$module$build$src$core$names.VARIABLE)}getProcedureName(e){return this.getName(e,r.NameType$$module$build$src$core$names.PROCEDURE)}getName(e,i){if(!this.nameDB_)throw Error("Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.");return this.nameDB_.getName(e,i)}init(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(e,i,l){return i}finish(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}scrubNakedValue(e){return e}},pv={},pv.CodeGenerator=r.CodeGenerator$$module$build$src$core$generator;var J6=class extends ac{constructor(e){super(e)}setMetrics_(e){if(this.isVisible()){var i=this.workspace_.getMetricsManager(),l=i.getScrollMetrics(),h=i.getViewMetrics();i=i.getAbsoluteMetrics(),typeof e.y=="number"&&(this.workspace_.scrollY=-(l.top+(l.height-h.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+i.left,this.workspace_.scrollY+i.top)}}getX(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const i=e.getAbsoluteMetrics(),l=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===Mr.LEFT?e.width:l.width-this.getWidth():this.toolboxPosition_===Mr.LEFT?0:l.width:this.toolboxPosition_===Mr.LEFT?0:l.width+i.left-this.getWidth()}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height;var i=this.getWidth()-this.CORNER_RADIUS;this.setBackgroundPath(i,e.height-2*this.CORNER_RADIUS),e=this.getX(),i=this.getY(),this.positionAt_(this.getWidth(),this.getHeight(),e,i)}}setBackgroundPath(e,i){const l=this.toolboxPosition_===Mr.RIGHT;var h=e+this.CORNER_RADIUS;h=["M "+(l?h:0)+",0"],h.push("h",l?-e:e),h.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,l?0:1,l?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),h.push("v",Math.max(0,i)),h.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,l?0:1,l?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),h.push("h",l?e:-e),h.push("z"),this.svgBackground_.setAttribute("d",h.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setY(0)}wheel_(e){var i=Ie(e);if(i.y){const l=this.workspace_.getMetricsManager(),h=l.getScrollMetrics();i=l.getViewMetrics().top-h.top+i.y;let w;(w=this.workspace_.scrollbar)==null||w.setY(i),wl(this.workspace_),Xe()}e.preventDefault(),e.stopPropagation()}layout_(e){this.workspace_.scale=this.targetWorkspace.scale;var i=this.MARGIN;const l=this.RTL?i:i+this.tabWidth_;for(const h of e)h.getElement().moveBy(l,i),i+=h.getElement().getBoundingRectangle().getHeight()}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const i=this.dragAngleRange_;return e<i&&e>-i||e<-180+i||e>180-i}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),i=e.left;return this.toolboxPosition_===Mr.LEFT?new xr(-1e9,1e9,-1e9,i+e.width):new xr(-1e9,1e9,i,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=this.getContents().reduce((i,l)=>Math.max(i,l.getElement().getBoundingRectangle().getWidth()),0);if(e+=this.MARGIN*1.5+this.tabWidth_,e*=this.workspace_.scale,e+=Bs.scrollbarThickness,this.getWidth()!==e){if(this.RTL)for(const i of this.getContents()){const l=i.getElement().getBoundingRectangle().left,h=e/this.workspace_.scale-i.getElement().getBoundingRectangle().getWidth()-this.MARGIN-this.tabWidth_;i.getElement().moveBy(h-l,0)}this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Mr.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};J6.registryName="verticalFlyout",s(Xt.FLYOUTS_VERTICAL_TOOLBOX,kl,J6);var mv=class extends ac{constructor(e){super(e),this.horizontalLayout=!0}setMetrics_(e){if(this.isVisible()){var i=this.workspace_.getMetricsManager(),l=i.getScrollMetrics(),h=i.getViewMetrics();i=i.getAbsoluteMetrics(),typeof e.x=="number"&&(this.workspace_.scrollX=-(l.left+(l.width-h.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+i.left,this.workspace_.scrollY+i.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const i=e.getAbsoluteMetrics(),l=e.getViewMetrics();e=e.getToolboxMetrics();const h=this.toolboxPosition_===Mr.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?h?e.height:l.height-this.getHeight():h?0:l.height:h?0:l.height+i.top-this.getHeight()}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,e=e.width-2*this.CORNER_RADIUS;var i=this.getHeight()-this.CORNER_RADIUS;this.setBackgroundPath(e,i),e=this.getX(),i=this.getY(),this.positionAt_(this.getWidth(),this.getHeight(),e,i)}}setBackgroundPath(e,i){const l=this.toolboxPosition_===Mr.TOP,h=["M 0,"+(l?0:this.CORNER_RADIUS)];l?(h.push("h",e+2*this.CORNER_RADIUS),h.push("v",i),h.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),h.push("h",-e),h.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(h.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),h.push("h",e),h.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),h.push("v",i),h.push("h",-e-2*this.CORNER_RADIUS)),h.push("z"),this.svgBackground_.setAttribute("d",h.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setX(this.RTL?1/0:0)}wheel_(e){var i=Ie(e);if(i=i.x||i.y){const l=this.workspace_.getMetricsManager(),h=l.getScrollMetrics();i=l.getViewMetrics().left-h.left+i;let w;(w=this.workspace_.scrollbar)==null||w.setX(i),wl(this.workspace_),Xe()}e.preventDefault(),e.stopPropagation()}layout_(e){this.workspace_.scale=this.targetWorkspace.scale;const i=this.MARGIN;let l=i+this.tabWidth_;this.RTL&&(e=e.reverse());for(const h of e)e=h.getElement().getBoundingRectangle(),e=this.RTL?l+e.getWidth():l,h.getElement().moveBy(e,i),l+=h.getElement().getBoundingRectangle().getWidth()}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const i=this.dragAngleRange_;return e<90+i&&e>90-i||e>-90-i&&e<-90+i}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),i=e.top;return this.toolboxPosition_===Mr.TOP?new xr(-1e9,i+e.height,-1e9,1e9):new xr(i,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=this.getContents().reduce((i,l)=>Math.max(i,l.getElement().getBoundingRectangle().getHeight()),0);e+=this.MARGIN*1.5,e*=this.workspace_.scale,e+=Bs.scrollbarThickness,this.getHeight()!==e&&(this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Mr.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets())}};s(Xt.FLYOUTS_HORIZONTAL_TOOLBOX,kl,mv);var Lp=class extends Po{constructor(e,i,l,h,w){super(Vi.SKIP_SETUP),this.defaultType="",this.variableTypes=[],this.variable=null,this.SERIALIZABLE=!0,this.menuGenerator_=Lp.dropdownCreate,this.defaultVariableName=typeof e=="string"?e:"",this.size_=new Ir(0,0),e!==Vi.SKIP_SETUP&&(w?this.configure_(w):this.setTypes(l,h),i&&this.setValidator(i))}configure_(e){super.configure_(e),this.setTypes(e.variableTypes,e.defaultType)}initModel(){var e=this.getSourceBlock();if(!e)throw new to;this.variable||(e=r.getOrCreateVariablePackage$$module$build$src$core$variables(e.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(e.getId()))}initView(){super.initView(),Qt(this.fieldGroup_,"blocklyVariableField")}shouldAddBorderRect_(){const e=this.getSourceBlock();if(!e)throw new to;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||e.type!=="variables_get")}fromXml(e){var i=this.getSourceBlock();if(!i)throw new to;const l=e.getAttribute("id"),h=e.textContent,w=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(i=r.getOrCreateVariablePackage$$module$build$src$core$variables(i.workspace,l,h,w),w!==null&&w!==i.getType())throw Error("Serialized variable type with id '"+i.getId()+"' had type "+i.getType()+", and does not match variable field that references it: "+ds(e)+".");this.setValue(i.getId())}toXml(e){return this.initModel(),e.id=this.variable.getId(),e.textContent=this.variable.getName(),this.variable.getType()&&e.setAttribute("variabletype",this.variable.getType()),e}saveState(e){var i=this.saveLegacyState(Lp);return i!==null||(this.initModel(),i={id:this.variable.getId()},e&&(i.name=this.variable.getName(),i.type=this.variable.getType())),i}loadState(e){const i=this.getSourceBlock();if(!i)throw new to;this.loadLegacyState(Lp,e)||(e=r.getOrCreateVariablePackage$$module$build$src$core$variables(i.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}setSourceBlock(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(e)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.getName():""}getVariable(){return this.variable}getDefaultType(){return this.defaultType}getValidator(){return this.variable?this.validator_:null}doClassValidation_(e){if(e===null)return null;var i=this.getSourceBlock();if(!i)throw new to;return i=r.getVariable$$module$build$src$core$variables(i.workspace,e),i?(i=i.getType(),this.typeIsAllowed(i)?e:(console.warn("Variable type doesn't match this field!  Type was "+i),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}doValueUpdate_(e){const i=this.getSourceBlock();if(!i)throw new to;this.variable=r.getVariable$$module$build$src$core$variables(i.workspace,e),super.doValueUpdate_(e)}typeIsAllowed(e){const i=this.getVariableTypes();if(!i)return!0;for(let l=0;l<i.length;l++)if(e===i[l])return!0;return!1}getVariableTypes(){if(this.variableTypes)return this.variableTypes;if(!this.sourceBlock_||this.sourceBlock_.isDeadOrDying())return[""];let e=this.sourceBlock_.workspace.getVariableMap().getTypes();if(this.sourceBlock_.isInFlyout){const i=this.sourceBlock_.workspace.getPotentialVariableMap();if(!i)return e;e=Array.from(new Set([...e,...i.getTypes()]))}return e}setTypes(e=null,i=""){var l=this.getText();if(Array.isArray(e)){if(e.length===0)throw Error(`'variableTypes' of field variable ${l} was an empty list. If you want to include all variable types, pass 'null' instead.`);l=!1;for(let h=0;h<e.length;h++)e[h]===i&&(l=!0);if(!l)throw Error("Invalid default type '"+i+"' in the definition of a FieldVariable")}else if(e!==null)throw Error(`'variableTypes' was not an array or null in the definition of FieldVariable ${l}`);this.defaultType=i,this.variableTypes=e}refreshVariableName(){this.forceRerender()}onItemSelected_(e,i){if(e=i.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===_p&&this.variable){r.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,this.variable);return}if(e===Tp&&this.variable){e=this.variable.getWorkspace(),r.deleteVariable$$module$build$src$core$variables(e,this.variable,this.sourceBlock_);return}}this.setValue(e)}referencesVariables(){return!0}static fromJson(e){return new this(gr(e.variable),void 0,void 0,void 0,e)}static dropdownCreate(){if(!this.variable)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const e=this.getText();let i=[];var l=this.getSourceBlock();if(l&&!l.isDeadOrDying()){l=l.workspace;const L=this.getVariableTypes();for(let ce=0;ce<L.length;ce++){const Ve=L[ce],Gt=l.getVariableMap().getVariablesOfType(Ve);if(i=i.concat(Gt),l.isFlyout){var h=void 0,w=void 0;i=i.concat((w=(h=l.getPotentialVariableMap())==null?void 0:h.getVariablesOfType(Ve))!=null?w:[])}}}for(i.sort(rn),h=[],w=0;w<i.length;w++)h[w]=[i[w].getName(),i[w].getId()];return h.push([r.Msg$$module$build$src$core$msg.RENAME_VARIABLE,_p]),r.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&h.push([r.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",e),Tp]),h}};dl("field_variable",Lp);var Z6=class extends R4{constructor(e,i,l,h,w,L){super(Vi.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces=null,this.spellcheck_=!1,e!==Vi.SKIP_SETUP&&(L?this.configure_(L):this.setConstraints(i,l,h),this.setValue(e),w&&this.setValidator(w))}configure_(e){super.configure_(e),this.setMinInternal(e.min),this.setMaxInternal(e.max),this.setPrecisionInternal(e.precision)}setConstraints(e,i,l){this.setMinInternal(e),this.setMaxInternal(i),this.setPrecisionInternal(l),this.setValue(this.getValue())}setMin(e){this.setMinInternal(e),this.setValue(this.getValue())}setMinInternal(e){e==null?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))}getMin(){return this.min_}setMax(e){this.setMaxInternal(e),this.setValue(this.getValue())}setMaxInternal(e){e==null?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))}getMax(){return this.max_}setPrecision(e){this.setPrecisionInternal(e),this.setValue(this.getValue())}setPrecisionInternal(e){this.precision_=Number(e)||0;let i=String(this.precision_);i.includes("e")&&(i=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));const l=i.indexOf(".");this.decimalPlaces=l===-1?e?0:null:i.length-l-1}getPrecision(){return this.precision_}doClassValidation_(e){return e===null||(e=`${e}`.replace(/O/gi,"0"),e=e.replace(/,/g,""),e=e.replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e))?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),this.decimalPlaces!==null&&(e=Number(e.toFixed(this.decimalPlaces))),e)}widgetCreate_(){const e=super.widgetCreate_();return this.min_>-1/0&&(e.min=`${this.min_}`,Kr(e,As.VALUEMIN,this.min_)),this.max_<1/0&&(e.max=`${this.max_}`,Kr(e,As.VALUEMAX,this.max_)),e}initView(){super.initView(),this.fieldGroup_&&Qt(this.fieldGroup_,"blocklyNumberField")}static fromJson(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}};dl("field_number",Z6),Z6.prototype.DEFAULT_VALUE=0;var gv=class extends fh{constructor(e,i,l){super(String(e??""),i,l),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(e){return new this(gr(e.text),void 0,e)}};dl("field_label_serializable",gv);var Kd=class extends Vi{constructor(e,i,l){super(Vi.SKIP_SETUP),this.SERIALIZABLE=!0,this.value_=this.value_,this.checkChar=Kd.CHECK_CHAR,e!==Vi.SKIP_SETUP&&(l&&this.configure_(l),this.setValue(e),i&&this.setValidator(i))}configure_(e){super.configure_(e),e.checkCharacter&&(this.checkChar=e.checkCharacter)}saveState(){const e=this.saveLegacyState(Kd);return e!==null?e:this.getValueBoolean()}initView(){super.initView();const e=this.getTextElement();Qt(this.fieldGroup_,"blocklyCheckboxField"),e.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(e){this.checkChar=e||Kd.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(e){return e===!0||e==="TRUE"?"TRUE":e===!1||e==="FALSE"?"FALSE":null}doValueUpdate_(e){this.value_=this.convertValueToBool(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool(this.value_))}convertValueToBool(e){return typeof e=="string"?e==="TRUE":!!e}static fromJson(e){return new this(e.checked,void 0,e)}};Kd.CHECK_CHAR="",dl("field_checkbox",Kd),Kd.prototype.DEFAULT_VALUE=!1;var $v=class{constructor(e,i){this.draggable=e,this.workspace=i,this.dragTarget=null,this.startLoc=e.getRelativeToSurfaceXY()}onDragStart(e){r.getGroup$$module$build$src$core$events$utils()||r.setGroup$$module$build$src$core$events$utils(!0),this.draggable.startDrag(e)}onDrag(e,i){this.moveDraggable(e,i),i=this.getRoot(this.draggable),Yi(i)&&i.setDeleteStyle(this.wouldDeleteDraggable(e,i)),this.updateDragTarget(e)}updateDragTarget(e){e=this.workspace.getDragTarget(e);const i=this.getRoot(this.draggable);if(this.dragTarget!==e){let l;(l=this.dragTarget)==null||l.onDragExit(i),e?.onDragEnter(i)}e?.onDragOver(i),this.dragTarget=e}moveDraggable(e,i){i=this.pixelsToWorkspaceUnits(i),i=Zt.sum(this.startLoc,i),this.draggable.drag(i,e)}wouldDeleteDraggable(e,i){return(e=this.workspace.getDragTarget(e))&&this.workspace.getComponentManager().hasCapability(e.id,Oi.Capability.DELETE_AREA)?e.wouldDelete(i):!1}onDragEnd(e){const i=r.getGroup$$module$build$src$core$events$utils();var l=this.workspace.getDragTarget(e);const h=this.getRoot(this.draggable);if(l){let w;(w=this.dragTarget)==null||w.onDrop(h)}this.shouldReturnToStart(e,h)&&this.draggable.revertDrag(),(l=Yi(h)&&this.wouldDeleteDraggable(e,h))&&this.draggable instanceof os&&Be(this.draggable.getRootBlock()),this.draggable.endDrag(e),l&&Yi(h)&&(r.setGroup$$module$build$src$core$events$utils(i),h.dispose()),r.setGroup$$module$build$src$core$events$utils(!1),!l&&ue(this.draggable)&&r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.draggable)}getRoot(e){return e instanceof os?e.getRootBlock():e}shouldReturnToStart(e,i){return(e=this.workspace.getDragTarget(e))?e.shouldPreventMove(i):!1}pixelsToWorkspaceUnits(e){return e=new Zt(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}};s(Xt.BLOCK_DRAGGER,kl,$v);var Dp={};Dp.BlockDragStrategy=Vd,Dp.BubbleDragStrategy=T4,Dp.CommentDragStrategy=t3,Dp.Dragger=$v;var Q6=class extends Si{constructor(e,i,l){super(e?e.workspace.id:void 0),this.type=Tt.BLOCK_DRAG,e&&(this.blockId=e.id,this.isStart=i,this.blocks=l)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.blockId===void 0)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new Q6),i.isStart=e.isStart,i.blockId=e.blockId,i.blocks=e.blocks,i}};s(Xt.EVENT,Tt.BLOCK_DRAG,Q6);var e7=class extends Ju{constructor(e,i,l,h){super(e),this.type=Tt.BLOCK_FIELD_INTERMEDIATE_CHANGE,this.recordUndo=!1,e&&(this.name=i,this.oldValue=l,this.newValue=h)}toJson(){const e=super.toJson();if(!this.name)throw Error("The changed field name is undefined. Either pass a name to the constructor, or call fromJson.");return e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new e7),i.name=e.name,i.oldValue=e.oldValue,i.newValue=e.newValue,i}isNull(){return this.oldValue===this.newValue}run(e){var i=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(i=i.getBlockById(this.blockId),!i)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");e=e?this.newValue:this.oldValue,(i=i.getField(this.name))?i.setValue(e):console.warn("Can't set non-existent field: "+this.name)}};s(Xt.EVENT,Tt.BLOCK_FIELD_INTERMEDIATE_CHANGE,e7);var t7=class extends Ju{constructor(e){super(e),this.type=Tt.BLOCK_MOVE,e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}toJson(){const e=super.toJson();return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate=`${Math.round(this.oldCoordinate.x)}, ${Math.round(this.oldCoordinate.y)}`),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate=`${Math.round(this.newCoordinate.x)}, ${Math.round(this.newCoordinate.y)}`),this.reason&&(e.reason=this.reason),this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new t7),i.oldParentId=e.oldParentId,i.oldInputName=e.oldInputName,e.oldCoordinate&&(l=e.oldCoordinate.split(","),i.oldCoordinate=new Zt(Number(l[0]),Number(l[1]))),i.newParentId=e.newParentId,i.newInputName=e.newInputName,e.newCoordinate&&(l=e.newCoordinate.split(","),i.newCoordinate=new Zt(Number(l[0]),Number(l[1]))),e.reason!==void 0&&(i.reason=e.reason),e.recordUndo!==void 0&&(i.recordUndo=e.recordUndo),i}recordNew(){const e=this.currentLocation();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}setReason(e){this.reason=e}currentLocation(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var i=e.getBlockById(this.blockId);if(!i)throw Error("The block associated with the block move event could not be found");e={};const l=i.getParent();return l?(e.parentId=l.id,(i=l.getInputWithBlock(i))&&(e.inputName=i.name)):e.coordinate=i.getRelativeToSurfaceXY(),e}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&Zt.equals(this.oldCoordinate,this.newCoordinate)}run(e){var i=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var l=i.getBlockById(this.blockId);if(l){var h=e?this.newParentId:this.oldParentId,w=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,h){var L=i.getBlockById(h);if(!L){console.warn("Can't connect to non-existent block: "+h);return}}if(l.getParent()&&l.unplug(),e)w=l.getRelativeToSurfaceXY(),l.moveBy(e.x-w.x,e.y-w.y,this.reason);else{i=l.outputConnection,(!i||l.previousConnection&&l.previousConnection.isConnected())&&(i=l.previousConnection);let ce,Ve;l=(Ve=i)==null?void 0:Ve.type,w?(l=L.getInput(w))&&(ce=l.connection):l===In.PREVIOUS_STATEMENT&&(ce=L.nextConnection),ce&&i?i.connect(ce):console.warn("Can't connect to non-existent input: "+w)}}else console.warn("Can't move non-existent block: "+this.blockId)}};s(Xt.EVENT,Tt.BLOCK_MOVE,t7);var n7=class extends Si{constructor(e,i,l){super(e?e.workspace.id:void 0),this.type=Tt.BUBBLE_OPEN,e&&(this.blockId=e.id,this.isOpen=i,this.bubbleType=l)}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new n7),i.isOpen=e.isOpen,i.bubbleType=e.bubbleType,i.blockId=e.blockId,i}},r7;(function(e){e.MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning"})(r7||(r7={})),s(Xt.EVENT,Tt.BUBBLE_OPEN,n7);var dc=class extends S0{constructor(e){super(),this.isBlank=!e,e&&(this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=r.getGroup$$module$build$src$core$events$utils(),this.recordUndo=Lt())}toJson(){const e=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new dc),i.commentId=e.commentId,i}static CommentCreateDeleteHelper(e,i){const l=e.getEventWorkspace_();if(i){if(!e.json)throw Error("Encountered a comment event without proper json");Di(e.json,l)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(i=l.getCommentById(e.commentId))?i.dispose():console.warn("Can't delete non-existent comment: "+e.commentId)}}},i7=class extends dc{constructor(e,i,l){super(e),this.type=Tt.COMMENT_CHANGE,e&&(this.oldContents_=typeof i>"u"?"":i,this.newContents_=typeof l>"u"?"":l)}toJson(){const e=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new i7),i.oldContents_=e.oldContents,i.newContents_=e.newContents,i}isNull(){return this.oldContents_===this.newContents_}run(e){var i=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(i=i.getCommentById(this.commentId)){var l=e?this.newContents_:this.oldContents_;if(l===void 0)throw Error(e?"The new contents is undefined. Either pass a value to the constructor, or call fromJson":"The old contents is undefined. Either pass a value to the constructor, or call fromJson");i.setText(l)}else console.warn("Can't change non-existent comment: "+this.commentId)}};s(Xt.EVENT,Tt.COMMENT_CHANGE,i7);var s7=class extends dc{constructor(e,i){super(e),this.newCollapsed=i,this.type=Tt.COMMENT_COLLAPSE}toJson(){const e=super.toJson();if(this.newCollapsed===void 0)throw Error("The new collapse value undefined. Either call recordNew, or call fromJson");return e.newCollapsed=this.newCollapsed,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new s7),i.newCollapsed=e.newCollapsed,i}run(e){var i=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(i=i.getCommentById(this.commentId))?i.setCollapsed(e?!!this.newCollapsed:!this.newCollapsed):console.warn("Can't collapse or uncollapse non-existent comment: "+this.commentId)}};s(Xt.EVENT,Tt.COMMENT_COLLAPSE,s7);var o7=class extends dc{constructor(e){super(e),this.type=Tt.COMMENT_CREATE,e&&(this.xml=tl(e),this.json=Te(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=ds(this.xml),e.json=this.json,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new o7),i.xml=r.textToDom$$module$build$src$core$utils$xml(e.xml),i.json=e.json,i}run(e){dc.CommentCreateDeleteHelper(this,e)}};s(Xt.EVENT,Tt.COMMENT_CREATE,o7);var l7=class extends dc{constructor(e){super(e),this.type=Tt.COMMENT_DELETE,e&&(this.xml=tl(e),this.json=Te(e,{addCoordinates:!0}))}run(e){dc.CommentCreateDeleteHelper(this,!e)}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=ds(this.xml),e.json=this.json,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new l7),i.xml=r.textToDom$$module$build$src$core$utils$xml(e.xml),i.json=e.json,i}};s(Xt.EVENT,Tt.COMMENT_DELETE,l7);var a7=class extends Si{constructor(e,i){super(e?e.workspace.id:void 0),this.type=Tt.COMMENT_DRAG,e&&(this.commentId=e.id,this.isStart=i)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.commentId===void 0)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.isStart=this.isStart,e.commentId=this.commentId,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new a7),i.isStart=e.isStart,i.commentId=e.commentId,i}};s(Xt.EVENT,Tt.COMMENT_DRAG,a7);var u7=class extends dc{constructor(e){super(e),this.type=Tt.COMMENT_MOVE,e&&(this.comment_=e,this.oldCoordinate_=e.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setReason(e){this.reason=e}setOldCoordinate(e){this.oldCoordinate_=e}toJson(){const e=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, ${Math.round(this.oldCoordinate_.y)}`,e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new u7),l=e.oldCoordinate.split(","),i.oldCoordinate_=new Zt(Number(l[0]),Number(l[1])),l=e.newCoordinate.split(","),i.newCoordinate_=new Zt(Number(l[0]),Number(l[1])),i}isNull(){return Zt.equals(this.oldCoordinate_,this.newCoordinate_)}run(e){var i=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(i=i.getCommentById(this.commentId)){if(e=e?this.newCoordinate_:this.oldCoordinate_,!e)throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");i.moveTo(e)}else console.warn("Can't move non-existent comment: "+this.commentId)}};s(Xt.EVENT,Tt.COMMENT_MOVE,u7);var c7=class extends dc{constructor(e){super(e),this.type=Tt.COMMENT_RESIZE,e&&(this.oldSize=e.getSize())}recordCurrentSizeAsNewSize(){if(this.newSize)throw Error("Tried to record the new size of a comment on the same event twice.");var e=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(e=e.getCommentById(this.commentId),!e)throw Error("The comment associated with the comment resize event could not be found");this.newSize=e.getSize()}toJson(){const e=super.toJson();if(!this.oldSize)throw Error("The old comment size is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newSize)throw Error("The new comment size is undefined. Either call recordCurrentSizeAsNewSize, or call fromJson");return e.oldWidth=Math.round(this.oldSize.width),e.oldHeight=Math.round(this.oldSize.height),e.newWidth=Math.round(this.newSize.width),e.newHeight=Math.round(this.newSize.height),e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new c7),i.oldSize=new Ir(e.oldWidth,e.oldHeight),i.newSize=new Ir(e.newWidth,e.newHeight),i}isNull(){return Ir.equals(this.oldSize,this.newSize)}run(e){var i=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(i=i.getCommentById(this.commentId)){if(e=e?this.newSize:this.oldSize,!e)throw Error("Either oldSize or newSize is undefined. Either pass a comment to the constructor and call recordCurrentSizeAsNewSize, or call fromJson");i.setSize(e)}else console.warn("Can't resize non-existent comment: "+this.commentId)}};s(Xt.EVENT,Tt.COMMENT_RESIZE,c7);var h7=class extends Si{constructor(e,i,l){super(l),this.type=Tt.TOOLBOX_ITEM_SELECT,this.oldItem=e??void 0,this.newItem=i??void 0}toJson(){const e=super.toJson();return e.oldItem=this.oldItem,e.newItem=this.newItem,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new h7),i.oldItem=e.oldItem,i.newItem=e.newItem,i}};s(Xt.EVENT,Tt.TOOLBOX_ITEM_SELECT,h7);var d7=class extends M4{constructor(e,i,l){super(e),this.oldType=i,this.newType=l,this.type=Tt.VAR_TYPE_CHANGE}toJson(){const e=super.toJson();if(!this.oldType||!this.newType)throw Error("The variable's types are undefined. Either pass them to the constructor, or call fromJson");return e.oldType=this.oldType,e.newType=this.newType,e}static fromJson(e,i,l){return i=super.fromJson(e,i,l??new d7),i.oldType=e.oldType,i.newType=e.newType,i}run(e){const i=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldType||!this.newType)throw Error("The variable's types are undefined. Either pass them to the constructor, or call fromJson");const l=i.getVariableMap().getVariableById(this.varId);l&&(e?i.getVariableMap().changeVariableType(l,this.newType):i.getVariableMap().changeVariableType(l,this.oldType))}};s(Xt.EVENT,Tt.VAR_TYPE_CHANGE,d7);var vv=class extends S0{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.type=Tt.FINISHED_LOADING,this.isBlank=!!e,e&&(this.workspaceId=e.id)}};s(Xt.EVENT,Tt.FINISHED_LOADING,vv);var bv,yv,_v,Tv,Ev,wv,xv,Sv,kv,Cv,Av,Iv,Mv,Nv,Ov,Rv,Lv,Dv,Bv,Pv,Fv,Uv,zv,Hv,Sn;r.BLOCK_CHANGE$$module$build$src$core$events$events=Tt.BLOCK_CHANGE,r.BLOCK_CREATE$$module$build$src$core$events$events=Tt.BLOCK_CREATE,r.BLOCK_DELETE$$module$build$src$core$events$events=Tt.BLOCK_DELETE,bv=Tt.BLOCK_DRAG,r.BLOCK_MOVE$$module$build$src$core$events$events=Tt.BLOCK_MOVE,yv=Tt.BLOCK_FIELD_INTERMEDIATE_CHANGE,_v=Tt.BUBBLE_OPEN,Tv=Tt.BLOCK_CHANGE,Ev=Tt.CLICK,wv=Tt.COMMENT_CHANGE,xv=Tt.COMMENT_CREATE,Sv=Tt.COMMENT_DELETE,kv=Tt.COMMENT_MOVE,Cv=Tt.COMMENT_RESIZE,Av=Tt.COMMENT_DRAG,Iv=Tt.BLOCK_CREATE,Mv=Tt.BLOCK_DELETE,Nv=Tt.FINISHED_LOADING,Ov=Tt.BLOCK_MOVE,Rv=Tt.SELECTED,Lv=Tt.THEME_CHANGE,Dv=Tt.TOOLBOX_ITEM_SELECT,Bv=Tt.TRASHCAN_OPEN,Pv=Tt.UI,Fv=Tt.VAR_CREATE,Uv=Tt.VAR_DELETE,zv=Tt.VAR_RENAME,Hv=Tt.VIEWPORT_CHANGE,Sn={},Sn.Abstract=S0,Sn.BLOCK_CHANGE=r.BLOCK_CHANGE$$module$build$src$core$events$events,Sn.BLOCK_CREATE=r.BLOCK_CREATE$$module$build$src$core$events$events,Sn.BLOCK_DELETE=r.BLOCK_DELETE$$module$build$src$core$events$events,Sn.BLOCK_DRAG=bv,Sn.BLOCK_FIELD_INTERMEDIATE_CHANGE=yv,Sn.BLOCK_MOVE=r.BLOCK_MOVE$$module$build$src$core$events$events,Sn.BUBBLE_OPEN=_v,Sn.BUMP_EVENTS=q2,Sn.BlockBase=Ju,Sn.BlockChange=Zu,Sn.BlockCreate=y4,Sn.BlockDelete=bp,Sn.BlockDrag=Q6,Sn.BlockFieldIntermediateChange=e7,Sn.BlockMove=t7,Sn.BubbleOpen=n7,Sn.BubbleType=r7,Sn.CHANGE=Tv,Sn.CLICK=Ev,Sn.COMMENT_CHANGE=wv,Sn.COMMENT_CREATE=xv,Sn.COMMENT_DELETE=Sv,Sn.COMMENT_DRAG=Av,Sn.COMMENT_MOVE=kv,Sn.COMMENT_RESIZE=Cv,Sn.CREATE=Iv,Sn.Click=Z2,Sn.ClickTarget=Q2,Sn.CommentBase=dc,Sn.CommentChange=i7,Sn.CommentCollapse=s7,Sn.CommentCreate=o7,Sn.CommentDelete=l7,Sn.CommentDrag=a7,Sn.CommentMove=u7,Sn.CommentResize=c7,Sn.DELETE=Mv,Sn.FINISHED_LOADING=Nv,Sn.FinishedLoading=vv,Sn.MOVE=Ov,Sn.SELECTED=Rv,Sn.Selected=e0,Sn.THEME_CHANGE=Lv,Sn.TOOLBOX_ITEM_SELECT=Dv,Sn.TRASHCAN_OPEN=Bv,Sn.ThemeChange=zd,Sn.ToolboxItemSelect=h7,Sn.TrashcanOpen=q6,Sn.UI=Pv,Sn.UiBase=Si,Sn.VAR_CREATE=Fv,Sn.VAR_DELETE=Uv,Sn.VAR_RENAME=zv,Sn.VIEWPORT_CHANGE=Hv,Sn.VarBase=M4,Sn.VarCreate=H6,Sn.VarDelete=V6,Sn.VarRename=G6,Sn.VarTypeChange=d7,Sn.ViewportChange=gp,Sn.clearPendingUndo=$t,Sn.disable=r.disable$$module$build$src$core$events$utils,Sn.disableOrphans=fn,Sn.enable=r.enable$$module$build$src$core$events$utils,Sn.filter=Ct,Sn.fire=de,Sn.fromJson=St,Sn.get=Ut,Sn.getDescendantIds=En,Sn.getGroup=r.getGroup$$module$build$src$core$events$utils,Sn.getRecordUndo=Lt,Sn.isEnabled=qt,Sn.setGroup=r.setGroup$$module$build$src$core$events$utils,Sn.setRecordUndo=r.setRecordUndo$$module$build$src$core$events$utils;var fc={};fc.BottomRow=lv,fc.ConstantProvider=sv,fc.Drawer=ov,fc.PathObject=hv,fc.RenderInfo=cv,fc.Renderer=K6,fc.RightConnectionShape=av,fc.StatementInput=b3,fc.TopRow=uv,Hf();var Ko={};Ko.registerCleanup=Af,Ko.registerCollapse=Mf,Ko.registerCollapseExpandBlock=$d,Ko.registerComment=i1,Ko.registerCommentCreate=Uf,Ko.registerCommentDelete=Pf,Ko.registerCommentDuplicate=Ff,Ko.registerCommentOptions=L2,Ko.registerDefaultOptions=Hf,Ko.registerDelete=Df,Ko.registerDeleteAll=Vu,Ko.registerDisable=R2,Ko.registerDuplicate=r1,Ko.registerExpand=Nf,Ko.registerHelp=Bf,Ko.registerInline=Lf,Ko.registerRedo=gd,Ko.registerUndo=Cf;var f7="button",Vv=class{load(e,i){return e=new Uo(i.getWorkspace(),i.targetWorkspace,e,!1),e.show(),new N1(e,f7)}gapForItem(e,i){return i}disposeItem(e){e=e.getElement(),e instanceof Uo&&e.dispose()}getType(){return f7}};s(Xt.FLYOUT_INFLATER,f7,Vv);var Bp={};Bp.Bubble=Gi,Bp.MiniWorkspaceBubble=R0,Bp.TextBubble=Ep,Bp.TextInputBubble=$l;var pA="WORKSPACE_AT_BLOCK_CAPACITY",p7="block",Gv=class{constructor(){this.permanentlyDisabledBlocks=new Set,this.listeners=new Map,this.capacityWrapper=this.filterFlyoutBasedOnCapacity.bind(this)}load(e,i){return this.setFlyout(i),e=this.createBlock(e,i.getWorkspace()),e.isEnabled()?this.updateStateBasedOnCapacity(e):this.permanentlyDisabledBlocks.add(e),e.getDescendants(!1).forEach(l=>l.isInFlyout=!0),this.addBlockListeners(e),new N1(e,p7)}createBlock(e,i){return e.blockxml?(e=typeof e.blockxml=="string"?r.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,i=_a(e,i)):(e.enabled===void 0&&(e.enabled=e.disabled!=="true"&&e.disabled!==!0),e.disabledReasons===void 0&&e.enabled===!1&&(e.disabledReasons=[Tr]),"x"in e&&delete e.x,"y"in e&&delete e.y,i=Xl(e,i)),i}gapForItem(e,i){let l;return e.gap?l=parseInt(String(e.gap)):e.blockxml&&(e=typeof e.blockxml=="string"?r.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,l=parseInt(e.getAttribute("gap"))),!l||isNaN(l)?i:l}disposeItem(e){e=e.getElement(),e instanceof os&&(this.removeListeners(e.id),e.dispose(!1,!1))}removeListeners(e){let i;((i=this.listeners.get(e))!=null?i:[]).forEach(l=>ie(l)),this.listeners.delete(e)}setFlyout(e){if(this.flyout!==e){if(this.flyout){let l;(l=this.flyout.targetWorkspace)==null||l.removeChangeListener(this.capacityWrapper)}this.flyout=e;var i;(i=this.flyout.targetWorkspace)==null||i.addChangeListener(this.capacityWrapper)}}updateStateBasedOnCapacity(e){let i,l;const h=(i=this.flyout)==null||(l=i.targetWorkspace)==null?void 0:l.isCapacityAvailable(Se(e));for(;e;)e.setDisabledReason(!h,pA),e=e.getNextBlock()}addBlockListeners(e){const i=[];i.push(W(e.getSvgRoot(),"pointerdown",e,l=>{let h,w;const L=(h=this.flyout)==null||(w=h.targetWorkspace)==null?void 0:w.getGesture(l);L&&this.flyout&&(L.setStartBlock(e),L.handleFlyoutStart(l,this.flyout))})),i.push(te(e.getSvgRoot(),"pointermove",null,()=>{let l,h;!((l=this.flyout)==null||(h=l.targetWorkspace)==null)&&h.isDragging()||e.addSelect()})),i.push(te(e.getSvgRoot(),"pointerleave",null,()=>{let l,h;!((l=this.flyout)==null||(h=l.targetWorkspace)==null)&&h.isDragging()||e.removeSelect()})),this.listeners.set(e.id,i)}filterFlyoutBasedOnCapacity(e){!this.flyout||e&&e.type!==Tt.BLOCK_CREATE&&e.type!==Tt.BLOCK_DELETE||this.flyout.getWorkspace().getTopBlocks(!1).forEach(i=>{this.permanentlyDisabledBlocks.has(i)||this.updateStateBasedOnCapacity(i)})}getType(){return p7}};s(Xt.FLYOUT_INFLATER,p7,Gv);var qv=class extends Et{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(e){return super.getCSS_(e).concat([`${e} .blocklyInsertionMarker>.blocklyPathLight,`,`${e} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"])}},Wv=class{constructor(e){this.inlineSteps_=this.steps_="",this.info_=e,this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+`
`+this.inlineSteps_}drawTopCorner(e){this.steps_+=Ui(e.xPos,this.info_.startY);for(let i=0,l;l=e.elements[i];i++)lt.isLeftSquareCorner(l)?this.steps_+=this.highlightConstants_.START_POINT:lt.isLeftRoundedCorner(l)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):lt.isPreviousConnection(l)?this.steps_+=this.notchPaths_.pathLeft:lt.isHat(l)?this.steps_+=this.startPaths_.path(this.RTL_):lt.isSpacer(l)&&l.width!==0&&(this.steps_+=g("H",l.xPos+l.width-this.highlightOffset));this.steps_+=g("H",e.xPos+e.width-this.highlightOffset)}drawJaggedEdge_(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+g("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(e){const i=e.getLastInput();if(this.RTL_){const l=e.height-i.connectionHeight;this.steps_+=mo(i.xPos+i.width-this.highlightOffset,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+g("v",l)}else this.steps_+=mo(i.xPos+i.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(e){const i=e.getLastInput();if(i)if(this.RTL_){const l=e.height-2*this.insideCornerPaths_.height;this.steps_+=mo(i.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+g("v",l)+this.insideCornerPaths_.pathBottom(this.RTL_)+xl(e.width-i.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=mo(i.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+xl(e.width-i.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(e){const i=e.xPos+e.width-this.highlightOffset;e instanceof dr&&e.followsStatement&&(this.steps_+=g("H",i)),this.RTL_&&(this.steps_+=g("H",i),e.height>this.highlightOffset&&(this.steps_+=g("V",e.yPos+e.height-this.highlightOffset)))}drawBottomRow(e){if(this.RTL_)this.steps_+=g("V",e.baseline-this.highlightOffset);else{const i=this.info_.bottomRow.elements[0];lt.isLeftSquareCorner(i)?this.steps_+=mo(e.xPos+this.highlightOffset,e.baseline-this.highlightOffset):lt.isLeftRoundedCorner(i)&&(this.steps_+=mo(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=mo(this.info_.startX,e):(this.steps_+=mo(this.info_.startX+this.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=g("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,lt.isLeftRoundedCorner(e.elements[0])?this.steps_+=g("V",this.outsideCornerPaths_.height):this.steps_+=g("V",e.capline+this.highlightOffset))}drawInlineInput(e){const i=this.highlightOffset,l=e.xPos+e.connectionWidth;var h=e.centerline-e.height/2;const w=e.width-e.connectionWidth,L=h+i;this.RTL_?(h=e.connectionOffsetY-i,e=e.height-(e.connectionOffsetY+e.connectionHeight)+i,this.inlineSteps_+=mo(l-i,L)+g("v",h)+this.puzzleTabPaths_.pathDown(this.RTL_)+g("v",e)+g("h",w)):this.inlineSteps_+=mo(e.xPos+e.width+i,L)+g("v",e.height)+g("h",-w)+mo(l,h+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},jv=class extends Kt{constructor(e,i){super(e,i),this.highlighter_=new Wv(i)}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights();const e=this.block_.pathObject;e.setPath(this.outlinePath_+`
`+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(e){this.highlighter_.drawJaggedEdge_(e),super.drawJaggedEdge_(e)}drawValueInput_(e){this.highlighter_.drawValueInput(e),super.drawValueInput_(e)}drawStatementInput_(e){this.highlighter_.drawStatementInput(e),super.drawStatementInput_(e)}drawRightSideRow_(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=g("H",e.xPos+e.width)+g("V",e.yPos+e.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(e){this.highlighter_.drawInlineInput(e),super.drawInlineInput_(e)}positionInlineInputConnection_(e){const i=e.centerline-e.height/2;if(e.connectionModel){let l=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(l*=-1),e.connectionModel.setOffsetInBlock(l,i+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(e){const i=e.getLastInput();if(i!=null&&i.connectionModel){let l=e.xPos+e.statementEdge+i.notchOffset;l=this.info_.RTL?l*-1:l+this.constants_.DARK_PATH_OFFSET,i.connectionModel.setOffsetInBlock(l,e.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(e){const i=e.getLastInput();if(i&&i.connectionModel){let l=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(l*=-1),i.connectionModel.setOffsetInBlock(l,e.yPos)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const i=e.connection,l=i.xPos;i.connectionModel.setOffsetInBlock((this.info_.RTL?-l:l)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}},Xv=class{constructor(e){this.OFFSET=.5,this.constantProvider=e,this.START_POINT=Ui(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){const e=this.constantProvider.CORNER_RADIUS,i=this.OFFSET,l=(1-Math.SQRT1_2)*(e+i)-i,h=Ui(l,l)+E("a","0 0,0",e,qn(-l-i,e-l)),w=E("a","0 0,0",e+i,qn(e+i,e+i)),L=Ui(l,-l)+E("a","0 0,0",e+i,qn(e-l,l+i));return{width:e+i,height:e,pathTop(ce){return ce?h:""},pathBottom(ce){return ce?w:L}}}makeOutsideCorner(){const e=this.constantProvider.CORNER_RADIUS,i=this.OFFSET,l=(1-Math.SQRT1_2)*(e-i)+i,h=Ui(l,l)+E("a","0 0,1",e-i,qn(e-l,-l+i)),w=Ui(i,e)+E("a","0 0,1",e-i,qn(e,-e+i)),L=-l,ce=Ui(l,L)+E("a","0 0,1",e-i,qn(-l+i,-L-e));return{height:e,topLeft(Ve){return Ve?h:w},bottomLeft(){return ce}}}makePuzzleTab(){const e=this.constantProvider.TAB_WIDTH,i=this.constantProvider.TAB_HEIGHT,l=Ui(-2,-i+2.5+.9)+xl(e*-.45,-2.1),h=g("v",2.5)+Ui(-e*.97,2.5)+pl("q",[qn(-e*.05,10),qn(e*.3,9.5)])+Ui(e*.67,-1.9)+g("v",2.5),w=g("v",-1.5)+Ui(e*-.92,-.5)+pl("q",[qn(e*-.19,-5.5),qn(0,-11)])+Ui(e*.92,1),L=Ui(-5,i-.7)+xl(e*.46,-2.1);return{width:e,height:i,pathUp(ce){return ce?l:w},pathDown(ce){return ce?h:L}}}makeNotch(){return{pathLeft:g("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:xl(5.1,2.6)+Ui(-10.2,6.8)+xl(5.1,2.6),height:12,width:10.2}}makeStartHat(){const e=this.constantProvider.START_HAT.height,i=Ui(25,-8.7)+pl("c",[qn(29.7,-6.2),qn(57.2,-.5),qn(75,8.7)]),l=pl("c",[qn(17.8,-9.2),qn(45.3,-14.9),qn(75,-8.7)])+mo(100.5,e+.5);return{path(h){return h?i:l}}}},Yv=class extends tt{constructor(e,i){super(e,i),this.constants_=e,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},Kv=class extends gt{constructor(e,i){super(e,i),this.constants_=e,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},Jv=class extends nr{constructor(e,i){super(e,i),this.renderer_=e}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof Bl||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(e,i){this.isInline&&e instanceof r.ValueInput$$module$build$src$core$inputs$value_input?(i.elements.push(new Yv(this.constants_,e)),i.hasInlineInput=!0):e instanceof Bl?(i.elements.push(new Kv(this.constants_,e)),i.hasStatement=!0):e instanceof r.ValueInput$$module$build$src$core$inputs$value_input?(i.elements.push(new b(this.constants_,e)),i.hasExternalInput=!0):(e instanceof vl||e instanceof aa)&&(i.minHeight=Math.max(i.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),i.hasDummyInput=!0),this.isInline||i.align!==null||(i.align=e.align)}addElemSpacing_(){let e=!1;for(let l=0,h;h=this.rows[l];l++)h.hasExternalInput&&(e=!0);for(let l=0,h;h=this.rows[l];l++){var i=h.elements;if(h.elements=[],h.startsWithElemSpacer()&&h.elements.push(new we(this.constants_,this.getInRowSpacing_(null,i[0]))),i.length){for(let w=0;w<i.length-1;w++){h.elements.push(i[w]);const L=this.getInRowSpacing_(i[w],i[w+1]);h.elements.push(new we(this.constants_,L))}h.elements.push(i[i.length-1]),h.endsWithElemSpacer()&&(i=this.getInRowSpacing_(i[i.length-1],null),e&&h.hasDummyInput&&(i+=this.constants_.TAB_WIDTH),h.elements.push(new we(this.constants_,i)))}}}getInRowSpacing_(e,i){if(!e)return i&&lt.isField(i)&&i.isEditable?this.constants_.MEDIUM_PADDING:i&&lt.isInlineInput(i)?this.constants_.MEDIUM_LARGE_PADDING:i&&lt.isStatementInput(i)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!lt.isInput(e)&&(!i||lt.isStatementInput(i)))return lt.isField(e)&&e.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:lt.isIcon(e)?this.constants_.LARGE_PADDING*2+1:lt.isHat(e)?this.constants_.NO_PADDING:lt.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:lt.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:lt.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(lt.isInput(e)&&!i){if(lt.isExternalInput(e))return this.constants_.NO_PADDING;if(lt.isInlineInput(e))return this.constants_.LARGE_PADDING;if(lt.isStatementInput(e))return this.constants_.NO_PADDING}if(!lt.isInput(e)&&i&&lt.isInput(i)){if(lt.isField(e)&&e.isEditable){if(lt.isInlineInput(i)||lt.isExternalInput(i))return this.constants_.SMALL_PADDING}else{if(lt.isInlineInput(i)||lt.isExternalInput(i))return this.constants_.MEDIUM_LARGE_PADDING;if(lt.isStatementInput(i))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(lt.isIcon(e)&&i&&!lt.isInput(i))return this.constants_.LARGE_PADDING;if(lt.isInlineInput(e)&&i&&lt.isField(i))return i.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(lt.isLeftSquareCorner(e)&&i){if(lt.isHat(i))return this.constants_.NO_PADDING;if(lt.isPreviousConnection(i))return i.notchOffset;if(lt.isNextConnection(i))return i.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(lt.isLeftRoundedCorner(e)&&i){if(lt.isPreviousConnection(i))return i.notchOffset-this.constants_.CORNER_RADIUS;if(lt.isNextConnection(i))return i.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return lt.isField(e)&&i&&lt.isField(i)&&e.isEditable===i.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:i&&lt.isJaggedEdge(i)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,i){return lt.isTopRow(e)&&lt.isBottomRow(i)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:lt.isTopRow(e)||lt.isBottomRow(i)?this.constants_.NO_PADDING:e.hasExternalInput&&i.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&i.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&i.hasStatement||!e.hasStatement&&i.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,i){if(lt.isSpacer(i))return e.yPos+i.height/2;if(lt.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,lt.isNextConnection(i)?e+i.height/2:e-i.height/2;if(lt.isTopRow(e))return lt.isHat(i)?e.capline-i.height/2:e.capline+i.height/2;let l=e.yPos;return lt.isField(i)||lt.isIcon(i)?(l+=i.height/2,(e.hasInlineInput||e.hasStatement)&&i.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(l+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):l=lt.isInlineInput(i)?l+i.height/2:l+e.height/2,l}alignRowElements_(){if(this.isInline){var e=0,i=new WeakMap,l=null;for(let h=this.rows.length-1,w;w=this.rows[h];h--)i.set(w,e),lt.isInputRow(w)&&(w.hasStatement&&this.alignStatementRow_(w),l&&l.hasStatement&&w.width<l.width?i.set(w,l.width):e=w.hasStatement?w.width:Math.max(e,w.width),l=w);e=0;for(let h=0,w;w=this.rows[h];h++)w.hasStatement?e=this.getDesiredRowWidth_(w):lt.isSpacer(w)?w.width=Math.max(e,i.get(w)):(l=w.width,e=Math.max(e,i.get(w))-l,e>0&&this.addAlignmentPadding_(w,e),e=w.width)}else super.alignRowElements_()}getDesiredRowWidth_(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(e)}finalize_(){let e=0,i=0;for(let h=0,w;w=this.rows[h];h++){w.yPos=i,w.xPos=this.startX,i+=w.height,e=Math.max(e,w.widthWithConnectedBlocks);var l=i-this.topRow.ascenderHeight;w===this.bottomRow&&l<this.constants_.MIN_BLOCK_HEIGHT&&(l=this.constants_.MIN_BLOCK_HEIGHT-l,this.bottomRow.height+=l,i+=l),this.recordElemPositions_(w)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(l=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,l.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=i-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=i+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},Zv=class extends _i{constructor(e,i,l){super(e,i,l),this.constants=l,this.colourDark="#000000",this.svgPathDark=Ge(yt.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=Ge(yt.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}setHighlightPath(e){this.svgPathLight.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(e),this.svgPath.setAttribute("stroke","none")}setStyle(e){this.style=e,this.colourDark=po("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(e){super.updateHighlighted(e),this.svgPathLight.style.display=e?"none":"inline"}updateShadow_(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(e){super.updateDisabled_(e),e&&this.svgPath.setAttribute("stroke","none")}},Qv=class extends Wn{constructor(e){super(e),this.highlightConstants=null}init(e,i){super.init(e,i),this.highlightConstants=this.makeHighlightConstants_(),this.highlightConstants.init()}refreshDom(e,i,l){super.refreshDom(e,i,l),this.getHighlightConstants().init()}makeConstants_(){return new qv}makeRenderInfo_(e){return new Jv(this,e)}makeDrawer_(e,i){return new jv(e,i)}makePathObject(e,i){return new Zv(e,i,this.getConstants())}makeHighlightConstants_(){return new Xv(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants}};ia("geras",Qv);var pc={};pc.ConstantProvider=qv,pc.Drawer=jv,pc.HighlightConstantProvider=Xv,pc.Highlighter=Wv,pc.InlineInput=Yv,pc.PathObject=Zv,pc.RenderInfo=Jv,pc.Renderer=Qv,pc.StatementInput=Kv;var eb=class extends nr{constructor(e,i){super(e,i)}getRenderer(){return this.renderer_}addElemSpacing_(){let e=!1;for(var i=0;i<this.rows.length;i++)if(this.rows[i].hasExternalInput){e=!0;break}for(i=0;i<this.rows.length;i++){const h=this.rows[i];var l=h.elements;if(h.elements=[],h.startsWithElemSpacer()&&h.elements.push(new we(this.constants_,this.getInRowSpacing_(null,l[0]))),l.length){for(let w=0;w<l.length-1;w++){h.elements.push(l[w]);const L=this.getInRowSpacing_(l[w],l[w+1]);h.elements.push(new we(this.constants_,L))}h.elements.push(l[l.length-1]),h.endsWithElemSpacer()&&(l=this.getInRowSpacing_(l[l.length-1],null),e&&h.hasDummyInput&&(l+=this.constants_.TAB_WIDTH),h.elements.push(new we(this.constants_,l)))}}}getInRowSpacing_(e,i){if(!e)return i&&lt.isField(i)&&i.isEditable?this.constants_.MEDIUM_PADDING:i&&lt.isInlineInput(i)?this.constants_.MEDIUM_LARGE_PADDING:i&&lt.isStatementInput(i)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!lt.isInput(e)&&!i)return lt.isField(e)&&e.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:lt.isIcon(e)?this.constants_.LARGE_PADDING*2+1:lt.isHat(e)?this.constants_.NO_PADDING:lt.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:lt.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:lt.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(lt.isInput(e)&&!i){if(lt.isExternalInput(e))return this.constants_.NO_PADDING;if(lt.isInlineInput(e))return this.constants_.LARGE_PADDING;if(lt.isStatementInput(e))return this.constants_.NO_PADDING}if(!lt.isInput(e)&&i&&lt.isInput(i)){if(lt.isField(e)&&e.isEditable){if(lt.isInlineInput(i)||lt.isExternalInput(i))return this.constants_.SMALL_PADDING}else{if(lt.isInlineInput(i)||lt.isExternalInput(i))return this.constants_.MEDIUM_LARGE_PADDING;if(lt.isStatementInput(i))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(lt.isIcon(e)&&i&&!lt.isInput(i))return this.constants_.LARGE_PADDING;if(lt.isInlineInput(e)&&i&&lt.isField(i))return i.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(lt.isLeftSquareCorner(e)&&i){if(lt.isHat(i))return this.constants_.NO_PADDING;if(lt.isPreviousConnection(i)||lt.isNextConnection(i))return i.notchOffset}return lt.isLeftRoundedCorner(e)&&i?i.notchOffset-this.constants_.CORNER_RADIUS:lt.isField(e)&&i&&lt.isField(i)&&e.isEditable===i.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:i&&lt.isJaggedEdge(i)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,i){return lt.isTopRow(e)&&lt.isBottomRow(i)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:lt.isTopRow(e)||lt.isBottomRow(i)?this.constants_.NO_PADDING:e.hasExternalInput&&i.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&i.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&i.hasStatement||e.hasDummyInput||i.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,i){if(lt.isSpacer(i))return e.yPos+i.height/2;if(lt.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,lt.isNextConnection(i)?e+i.height/2:e-i.height/2;if(lt.isTopRow(e))return lt.isHat(i)?e.capline-i.height/2:e.capline+i.height/2;let l=e.yPos;return l=lt.isField(i)&&e.hasStatement?l+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+i.height/2):l+e.height/2}finalize_(){let e=0,i=0;for(var l=0;l<this.rows.length;l++){const w=this.rows[l];w.yPos=i,w.xPos=this.startX,i+=w.height,e=Math.max(e,w.widthWithConnectedBlocks);var h=i-this.topRow.ascenderHeight;w===this.bottomRow&&h<this.constants_.MIN_BLOCK_HEIGHT&&(h=this.constants_.MIN_BLOCK_HEIGHT-h,this.bottomRow.height+=h,i+=h),this.recordElemPositions_(w)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(l=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,l.getHeightWidth().width)),this.bottomRow.baseline=i-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=i,this.startY=this.topRow.capline}},tb=class extends Wn{constructor(e){super(e)}makeRenderInfo_(e){return new eb(this,e)}};ia("thrasos",tb);var m7={};m7.RenderInfo=eb,m7.Renderer=tb;var mA={colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},gA={colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}},$A=new ch("zelos",mA,gA),vA={Classic:Hd,Zelos:$A},g7=class{constructor(e,i,l){this.id_=e.toolboxitemid||De(),this.level_=(this.parent_=l||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=i,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(e){}getFocusableElement(){const e=this.getDiv();if(!e)throw Error("Trying to access toolbox item before DOM is initialized.");if(!(e instanceof HTMLElement))throw Error("Toolbox item div is unexpectedly not an HTML element.");return e}getFocusableTree(){return this.parentToolbox_}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}},Su=class extends g7{constructor(e,i,l){super(e,i,l),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),this.toolboxItemDef_.hidden==="true"&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategoryContainer",row:"blocklyToolboxCategory",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyToolboxCategoryIcon",label:"blocklyToolboxCategoryLabel",contents:"blocklyToolboxCategoryGroup",selected:"blocklyToolboxSelected",openicon:"blocklyToolboxCategoryIconOpen",closedicon:"blocklyToolboxCategoryIconClosed"}}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(let i=0;i<e.length;i++){const l=e[i];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(l)}}parseCategoryDef_(e){this.name_="name"in e?gr(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),cr(this.htmlDiv_,Il.TREEITEM),Kr(this.htmlDiv_,As.SELECTED,!1),Kr(this.htmlDiv_,As.LEVEL,this.level_+1),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),cr(this.iconDom_,Il.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);const e=this.labelDom_.getAttribute("id");return e&&Kr(this.htmlDiv_,As.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){const e=document.createElement("div");e.tabIndex=-1,e.id=this.getId();const i=this.cssConfig_.container;return i&&Qt(e,i),e}createRowContainer_(){const e=document.createElement("div");var i=this.cssConfig_.row;return i&&Qt(e,i),i=`${Su.nestedPadding*this.getLevel()}px`,this.workspace_.RTL?e.style.paddingRight=i:e.style.paddingLeft=i,e}createRowContentsContainer_(){const e=document.createElement("div"),i=this.cssConfig_.rowcontentcontainer;return i&&Qt(e,i),e}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const i=this.cssConfig_.icon;i&&Qt(e,i)}return e.style.display="inline-block",e}createLabelDom_(e){const i=document.createElement("span");return i.setAttribute("id",this.getId()+".label"),i.textContent=e,(e=this.cssConfig_.label)&&Qt(i,e),i}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(e){e&&(e=Su.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}getColour_(e){const i=e.categorystyle||e.categoryStyle;if((e=e.colour)&&i)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(i)return this.getColourfromStyle(i);if(e)return this.parseColour(e)}return""}getColourfromStyle(e){var i=this.workspace_.getTheme();if(e&&i){if((i=i.categoryStyles[e])&&i.colour)return this.parseColour(i.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour(e){if(e=gr(e),e==null||e==="")return"";var i=Number(e);return isNaN(i)?(i=ye(e))?i:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):xo(i)}openIcon_(e){if(e){var i=this.cssConfig_.closedicon;i&&Pn(e,i),(i=this.cssConfig_.openicon)&&Qt(e,i)}}closeIcon_(e){if(e){var i=this.cssConfig_.openicon;i&&Pn(e,i),(i=this.cssConfig_.closedicon)&&Qt(e,i)}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let e=this;for(;e.getParent();)if(e=e.getParent(),!e.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(e){}setSelected(e){if(this.rowDiv_){var i=this.cssConfig_.selected;if(e){const l=this.parseColour(Su.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||l,i&&Qt(this.rowDiv_,i)}else this.rowDiv_.style.backgroundColor="",i&&Cn(this.rowDiv_,i);Kr(this.htmlDiv_,As.SELECTED,e)}}setDisabled(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",`${e}`),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(e){this.flyoutItems_=[],this.toolboxItemDef_=typeof e=="string"?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:On(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){cn(this.htmlDiv_)}};Su.registrationName="category",Su.nestedPadding=19,Su.borderWidth=8,Su.defaultBackgroundColour="#57e",mn(`
.blocklyToolboxCategory:not(.blocklyToolboxSelected):hover {
  background-color: rgba(255, 255, 255, .2);
}

.blocklyToolbox[layout="h"] .blocklyToolboxCategoryContainer {
  margin: 1px 5px 1px 0;
}

.blocklyToolbox[dir="RTL"][layout="h"] .blocklyToolboxCategoryContainer {
  margin: 1px 0 1px 5px;
}

.blocklyToolboxCategory {
  height: 22px;
  line-height: 22px;
  margin-bottom: 3px;
  padding-right: 8px;
  white-space: nowrap;
}

.blocklyToolbox[dir="RTL"] .blocklyToolboxCategory {
  margin-left: 8px;
  padding-right: 0;
}

.blocklyToolboxCategoryIcon {
  background-image: url(<<<PATH>>>/sprites.png);
  height: 16px;
  vertical-align: middle;
  visibility: hidden;
  width: 16px;
}

.blocklyToolboxCategoryIconClosed {
  background-position: -32px -1px;
}

.blocklyToolbox[dir="RTL"] .blocklyToolboxCategoryIconClosed {
  background-position: 0 -1px;
}

.blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {
  background-position: -32px -17px;
}

.blocklyToolbox[dir="RTL"] .blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {
  background-position: 0 -17px;
}

.blocklyToolboxCategoryIconOpen {
  background-position: -16px -1px;
}

.blocklyToolboxSelected>.blocklyToolboxCategoryIconOpen {
  background-position: -16px -17px;
}

.blocklyToolboxCategoryLabel {
  cursor: default;
  font: 16px sans-serif;
  padding: 0 3px;
  vertical-align: middle;
}

.blocklyToolboxDelete .blocklyToolboxCategoryLabel {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxSelected .blocklyToolboxCategoryLabel {
  color: #fff;
}
`),s(Xt.TOOLBOX_ITEM,Su.registrationName,Su);var Pp=class extends g7{constructor(e,i){super(e,i),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv=null,Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}init(){this.createDom_()}createDom_(){const e=document.createElement("div");e.tabIndex=-1,e.id=this.getId();const i=this.cssConfig_.container;return i&&Qt(e,i),this.htmlDiv=e}getDiv(){return this.htmlDiv}dispose(){cn(this.htmlDiv)}};Pp.registrationName="sep",mn(`
.blocklyTreeSeparator {
  border-bottom: solid #e5e5e5 1px;
  height: 0;
  margin: 5px 0;
}

.blocklyToolbox[layout="h"] .blocklyTreeSeparator {
  border-right: solid #e5e5e5 1px;
  border-bottom: none;
  height: auto;
  margin: 0 5px 0 5px;
  padding: 5px 0;
  width: 0;
}
`),s(Xt.TOOLBOX_ITEM,Pp.registrationName,Pp);var L4=class extends Su{constructor(e,i,l){super(e,i,l),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){const e=super.makeDefaultCssConfig_();return e.contents="blocklyToolboxCategoryGroup",e}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else{const i=e.contents;if(i){this.flyoutItems_=[],e=!0;for(let l=0;l<i.length;l++){const h=i[l];!m(Xt.TOOLBOX_ITEM,h.kind)||h.kind.toLowerCase()===Pp.registrationName&&e?(this.flyoutItems_.push(h),e=!0):(this.createToolboxItem(h),e=!1)}}}}createToolboxItem(e){let i=e.kind;i.toUpperCase()==="CATEGORY"&&yr(e)&&(i=L4.registrationName),e=new($(Xt.TOOLBOX_ITEM,i))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}init(){super.init(),this.setExpanded(this.toolboxItemDef_.expanded==="true"||this.toolboxItemDef_.expanded===!0)}createDom_(){super.createDom_();const e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),cr(this.subcategoriesDiv_,Il.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.closeIcon_(this.iconDom_),Kr(this.htmlDiv_,As.EXPANDED,!1),this.htmlDiv_}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const i=this.cssConfig_.icon;i&&Qt(e,i),e.style.visibility="visible"}return e.style.display="inline-block",e}createSubCategoriesDom_(e){const i=document.createElement("div");i.style.display="none";var l=this.cssConfig_.contents;for(l&&Qt(i,l),l=0;l<e.length;l++){const h=e[l];h.init();const w=h.getDiv();if(i.appendChild(w),h.getClickTarget){let L;(L=h.getClickTarget())==null||L.setAttribute("id",h.getId())}}return i}setExpanded(e){if(this.expanded_!==e){if(this.expanded_=e)this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_);else{let i;(i=this.parentToolbox_.getFlyout())==null||i.setVisible(!1),this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)}Kr(this.htmlDiv_,As.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize()}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none";const i=this.getChildToolboxItems();for(let l=0;l<i.length;l++)i[l].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(e){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};L4.registrationName="collapsibleCategory",s(Xt.TOOLBOX_ITEM,L4.registrationName,L4);var nb=class extends M1{constructor(e){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.height_=this.width_=0,this.flyout=null,this.contents=new Map,this.previouslySelectedItem_=this.selectedItem_=null,this.boundEvents_=[],this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout=e.options.horizontalLayout,this.RTL=e.options.RTL,this.toolboxPosition=e.options.toolboxPosition}onShortcut(e){return!1}init(){var e=this.workspace_;const i=e.getParentSvg();this.flyout=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_);const l=this.flyout.createDom("svg");Qt(l,"blocklyToolboxFlyout"),ri(l,i),this.setVisible(!0),this.flyout.init(e),this.render(this.toolboxDef_),e=e.getThemeManager(),e.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:Oi.ComponentWeight.TOOLBOX_WEIGHT,capabilities:[Oi.Capability.AUTOHIDEABLE,Oi.Capability.DELETE_AREA,Oi.Capability.DRAG_TARGET]}),r.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,!0)}createDom_(e){e=e.getParentSvg();const i=this.createContainer_();return i.id=De(),this.contentsDiv_=this.createContentsContainer_(),cr(this.contentsDiv_,Il.TREE),i.appendChild(this.contentsDiv_),e.parentNode.insertBefore(i,e),this.attachEvents_(i,this.contentsDiv_),i}createContainer_(){const e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),Qt(e,"blocklyToolbox"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}createContentsContainer_(){const e=document.createElement("div");return Qt(e,"blocklyToolboxCategoryGroup"),this.isHorizontal()&&(e.style.flexDirection="row"),e}attachEvents_(e,i){e=W(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),i=W(i,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(i)}onClick_(e){if(Y(e)||e.target===this.HtmlDiv)F().hideChaff(!1);else{var i=e.target.getAttribute("id");i&&(i=this.getToolboxItemById(i),i.isSelectable()&&(this.setSelectedItem(i),i.onClick(e))),F().hideChaff(!0)}P()}onKeyDown_(e){let i=!1;switch(e.key){case"ArrowDown":i=this.selectNext();break;case"ArrowUp":i=this.selectPrevious();break;case"ArrowLeft":i=this.selectParent();break;case"ArrowRight":i=this.selectChild();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),i=!0);break;default:i=!1}!i&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(i=this.selectedItem_.onKeyDown(e)),i&&e.preventDefault()}createFlyout_(){const e=this.workspace_,i=e.copyOptionsForFlyout();return i.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?T(Xt.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):T(Xt.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(i)}render(e){this.toolboxDef_=e,this.contents.forEach(i=>i.dispose()),this.contents.clear(),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}renderContents_(e){const i=document.createDocumentFragment();for(let l=0;l<e.length;l++)this.createToolboxItem(e[l],i);this.contentsDiv_.appendChild(i)}createToolboxItem(e,i){var l=e.kind;l.toUpperCase()==="CATEGORY"&&yr(e)&&(l=L4.registrationName),(l=$(Xt.TOOLBOX_ITEM,l.toLowerCase()))&&(e=new l(e,this),e.init(),this.addToolboxItem_(e),(l=e.getDiv())&&i.appendChild(l),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}addToolboxItem_(e){if(this.contents.set(e.getId(),e),e.isCollapsible()){e=e.getChildToolboxItems();for(let i=0;i<e.length;i++)this.addToolboxItem_(e[i])}}getToolboxItems(){return[...this.contents.values()]}addStyle(e){e&&this.HtmlDiv&&Qt(this.HtmlDiv,e)}removeStyle(e){e&&this.HtmlDiv&&Cn(this.HtmlDiv,e)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect();const i=e.top,l=i+e.height,h=e.left;return e=h+e.width,this.toolboxPosition===Mr.TOP?new xr(-1e7,l,-1e7,1e7):this.toolboxPosition===Mr.BOTTOM?new xr(i,1e7,-1e7,1e7):this.toolboxPosition===Mr.LEFT?new xr(-1e7,1e7,-1e7,e):new xr(-1e7,1e7,h,1e7)}wouldDelete(e){return e instanceof os?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(Yi(e)&&e.isDeletable()),this.wouldDelete_}onDragEnter(e){this.updateCursorDeleteStyle_(!0)}onDragExit(e){this.updateCursorDeleteStyle_(!1)}onDrop(e){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(e){const i=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(i):this.removeStyle(i)}getToolboxItemById(e){return this.contents.get(e)||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout}position(){const e=this.workspace_.getMetrics(),i=this.HtmlDiv;i&&(this.horizontalLayout?(i.style.left="0",i.style.height="auto",i.style.width="100%",this.height_=i.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===Mr.TOP?i.style.top="0":i.style.bottom="0"):(this.toolboxPosition===Mr.RIGHT?i.style.right="0":i.style.left="0",i.style.height="100%",this.width_=i.offsetWidth,this.height_=e.viewHeight),this.flyout.position())}handleToolboxItemResize(){const e=this.workspace_;var i=this.HtmlDiv.getBoundingClientRect();const l=this.getFlyout(),h=this.toolboxPosition===Mr.LEFT?e.scrollX+i.width+(l!=null&&l.isVisible()?l.getWidth():0):e.scrollX;i=this.toolboxPosition===Mr.TOP?e.scrollY+i.height+(l!=null&&l.isVisible()?l.getHeight():0):e.scrollY,e.translate(h,i),ne(e)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){this.contents.forEach(e=>{e.refreshTheme&&e.refreshTheme()})}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout.show(this.selectedItem_.getContents())}setVisible(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}autoHide(e){!e&&this.flyout&&this.flyout.autoClose&&this.clearSelection()}setSelectedItem(e){const i=this.selectedItem_;!e&&!i||e&&!B2(e)||(this.shouldDeselectItem_(i,e)&&i!==null&&this.deselectItem_(i),this.shouldSelectItem_(i,e)&&e!==null&&this.selectItem_(i,e),this.updateFlyout_(i,e),this.fireSelectEvent(i,e))}shouldDeselectItem_(e,i){return e!==null&&(!e.isCollapsible()||e!==i)}shouldSelectItem_(e,i){return i!==null&&i!==e}deselectItem_(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),Kr(this.contentsDiv_,As.ACTIVEDESCENDANT,"")}selectItem_(e,i){this.selectedItem_=i,this.previouslySelectedItem_=e,i.setSelected(!0),Kr(this.contentsDiv_,As.ACTIVEDESCENDANT,i.getId())}selectItemByPosition(e){(e=this.getToolboxItems()[e])&&this.setSelectedItem(e)}updateFlyout_(e,i){i&&(e!==i||i.isCollapsible())&&i.getContents().length?(this.flyout.show(i.getContents()),this.flyout.scrollToStart()):this.flyout.hide()}fireSelectEvent(e,i){const l=e&&e.getName();let h=i&&i.getName();e===i&&(h=null),e=new(Ut(Tt.TOOLBOX_ITEM_SELECT))(l,h,this.workspace_.id),de(e)}selectParent(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1}selectChild(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;const e=this.selectedItem_;return e.isExpanded()?this.selectNext():e.toggleExpanded(),!0}selectNext(){if(!this.selectedItem_)return!1;const e=[...this.contents.values()];let i=e.indexOf(this.selectedItem_)+1;if(i>-1&&i<e.length){let l=e[i];for(;l&&!l.isSelectable();)l=e[++i];if(l&&l.isSelectable())return this.setSelectedItem(l),!0}return!1}selectPrevious(){if(!this.selectedItem_)return!1;const e=[...this.contents.values()];let i=e.indexOf(this.selectedItem_)-1;if(i>-1&&i<e.length){let l=e[i];for(;l&&!l.isSelectable();)l=e[--i];if(l&&l.isSelectable())return this.setSelectedItem(l),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout.dispose(),this.contents.forEach(e=>e.dispose());for(let e=0;e<this.boundEvents_.length;e++)ie(this.boundEvents_[e]);this.boundEvents_=[],this.contents.clear(),this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),cn(this.HtmlDiv)),r.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}getFocusableElement(){if(!this.HtmlDiv)throw Error("Toolbox DOM has not yet been created.");return this.HtmlDiv}getFocusableTree(){return this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(e){if(!e||e===this){let i;return(i=this.getToolboxItems().find(l=>l.isSelectable()))!=null?i:null}return null}getNestedTrees(){return[]}lookUpFocusableNode(e){return this.getToolboxItemById(e)}onTreeFocus(e,i){e!==this?this.getSelectedItem()!==e&&this.setSelectedItem(e):this.clearSelection()}onTreeBlur(e){let i;e&&e===((i=this.flyout)==null?void 0:i.getWorkspace())||this.autoHide(!1)}};mn(`
.blocklyToolboxDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxGrab {
  cursor: url("<<<PATH>>>/handclosed.cur"), auto;
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* Category tree in Toolbox. */
.blocklyToolbox {
  box-sizing: border-box;
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  background-color: #ddd;
  overflow-x: visible;
  overflow-y: auto;
  padding: 4px 0 4px 0;
  position: absolute;
  z-index: 70;  /* so blocks go under toolbox when dragging */
  -webkit-tap-highlight-color: transparent;  /* issue #1345 */
}

.blocklyToolboxCategoryGroup {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
}

.blocklyToolboxCategoryGroup:focus {
  outline: none;
}
`),s(Xt.TOOLBOX,kl,nb);var bA="12.3.1",yA=In.INPUT_VALUE,_A=In.OUTPUT_VALUE,TA=In.NEXT_STATEMENT,EA=In.PREVIOUS_STATEMENT,wA=Mr.TOP,xA=Mr.BOTTOM,SA=Mr.LEFT,kA=Mr.RIGHT;I4.prototype.newBlock=function(e,i){return new t0(this,e,i)},Pl.prototype.newBlock=function(e,i){return new os(this,e,i)},I4.prototype.newComment=function(e){return new k1(this,e)},Pl.prototype.newComment=function(e){return new xa(this,e)},Pl.newTrashcan=function(e){return new Z$(e)},R0.prototype.newWorkspaceSvg=function(e){return new Pl(e)},r.Names$$module$build$src$core$names.prototype.populateProcedures=function(e){e=ko(e),e=e[0].concat(e[1]);for(let i=0;i<e.length;i++)this.getName(e[i][0],r.Names$$module$build$src$core$names.NameType.PROCEDURE)};var xt={};return xt.Block=t0,xt.BlockFlyoutInflater=Gv,xt.BlockNavigationPolicy=xp,xt.BlockSvg=os,xt.Blocks=ks,xt.ButtonFlyoutInflater=Vv,xt.COLLAPSED_FIELD_NAME=Xr,xt.COLLAPSED_INPUT_NAME=Hi,xt.COLLAPSE_CHARS=r3,xt.CodeGenerator=r.CodeGenerator$$module$build$src$core$generator,xt.CollapsibleToolboxCategory=L4,xt.ComponentManager=Oi,xt.Connection=yi,xt.ConnectionChecker=f3,xt.ConnectionDB=_u,xt.ConnectionNavigationPolicy=kp,xt.ConnectionType=In,xt.ContextMenu=yu,xt.ContextMenuItems=Ko,xt.ContextMenuRegistry=Nr,xt.Css=Qc,xt.DELETE_VARIABLE_ID=Tp,xt.DeleteArea=M1,xt.DragTarget=o3,xt.DropDownDiv=jo,xt.Events=Sn,xt.Extensions=Sa,xt.Field=Vi,xt.FieldCheckbox=Kd,xt.FieldDropdown=Po,xt.FieldImage=Yd,xt.FieldLabel=fh,xt.FieldLabelSerializable=gv,xt.FieldNavigationPolicy=Cp,xt.FieldNumber=Z6,xt.FieldTextInput=r.FieldTextInput$$module$build$src$core$field_textinput,xt.FieldVariable=Lp,xt.Flyout=ac,xt.FlyoutButton=Uo,xt.FlyoutButtonNavigationPolicy=l3,xt.FlyoutItem=N1,xt.FlyoutMetricsManager=Gd,xt.FlyoutNavigationPolicy=R1,xt.FlyoutNavigator=Tu,xt.FlyoutSeparator=x4,xt.FlyoutSeparatorNavigationPolicy=wp,xt.FocusManager=Lo,xt.FocusableTreeTraverser=Co,xt.Generator=r.CodeGenerator$$module$build$src$core$generator,xt.Gesture=jd,xt.Grid=B1,xt.HorizontalFlyout=mv,xt.INPUT_VALUE=yA,xt.Input=mh,xt.InsertionMarkerPreviewer=dv,xt.KeyboardNavigationController=Eu,xt.LabelFlyoutInflater=iv,xt.LineCursor=P1,xt.Marker=d3,xt.MarkerManager=F1,xt.Menu=rp,xt.MenuItem=r4,xt.MetricsManager=O1,xt.Msg=r.Msg$$module$build$src$core$msg,xt.NEXT_STATEMENT=TA,xt.Names=r.Names$$module$build$src$core$names,xt.Navigator=qd,xt.OPPOSITE_TYPE=ph,xt.OUTPUT_VALUE=_A,xt.Options=Qa,xt.PREVIOUS_STATEMENT=EA,xt.PROCEDURE_CATEGORY_NAME=Xd,xt.Procedures=zo,xt.RENAME_VARIABLE_ID=_p,xt.RenderedConnection=Fo,xt.Scrollbar=Bs,xt.ScrollbarPair=B0,xt.SeparatorFlyoutInflater=D1,xt.ShortcutItems=hc,xt.ShortcutRegistry=Ji,xt.TOOLBOX_AT_BOTTOM=xA,xt.TOOLBOX_AT_LEFT=SA,xt.TOOLBOX_AT_RIGHT=kA,xt.TOOLBOX_AT_TOP=wA,xt.Theme=ch,xt.ThemeManager=li,xt.Themes=vA,xt.Toast=bo,xt.Toolbox=nb,xt.ToolboxCategory=Su,xt.ToolboxItem=g7,xt.ToolboxSeparator=Pp,xt.Tooltip=Rl,xt.Touch=Gu,xt.Trashcan=Z$,xt.UnattachedFieldError=to,xt.VARIABLE_CATEGORY_NAME=Id,xt.VARIABLE_DYNAMIC_CATEGORY_NAME=Ci,xt.VERSION=bA,xt.VariableMap=J$,xt.VariableModel=K$,xt.Variables=Ps,xt.VariablesDynamic=bl,xt.VerticalFlyout=J6,xt.WidgetDiv=oa,xt.Workspace=I4,xt.WorkspaceAudio=Y$,xt.WorkspaceDragger=Np,xt.WorkspaceNavigationPolicy=Mp,xt.WorkspaceSvg=Pl,xt.Xml=Xo,xt.ZoomControls=C0,xt.blockAnimations=lc,xt.blockRendering=Mn,xt.browserEvents=T0,xt.bubbles=Bp,xt.bumpObjects=I1,xt.clipboard=xu,xt.comments=U1,xt.common=Qs,xt.config=r.config$$module$build$src$core$config,xt.constants=is,xt.defineBlocksWithJsonArray=ee,xt.dialog=Ml,xt.dragging=Dp,xt.fieldRegistry=_4,xt.geras=pc,xt.getFocusManager=r.getFocusManager$$module$build$src$core$focus_manager,xt.getMainWorkspace=F,xt.getSelected=Ye,xt.hasBubble=Oa,xt.hideChaff=Vm,xt.icons=wu,xt.inject=C2,xt.inputs=z1,xt.isCopyable=Xc,xt.isDeletable=Yi,xt.isDraggable=xi,xt.isIcon=le,xt.isObservable=rs,xt.isPaster=Vf,xt.isRenderedElement=D2,xt.isSelectable=Re,xt.isSerializable=K0,xt.isVariableBackedParameterModel=hr,xt.keyboardNavigationController=C4,xt.layers=F6,xt.navigateBlock=xs,xt.navigateStacks=vs,xt.procedures=zo,xt.registry=hu,xt.renderManagement=Ja,xt.serialization=fA,xt.setLocale=gu,xt.setParentContainer=Lr,xt.svgResize=ne,xt.thrasos=m7,xt.uiPosition=vo,xt.utils=fs,xt.zelos=fc,xt.__namespace__=r,xt})})(J3)),J3.exports}var JA=wm();const ZA=l0(JA),{Block:UX,BlockFlyoutInflater:zX,BlockNavigationPolicy:HX,BlockSvg:VX,Blocks:GX,ButtonFlyoutInflater:qX,COLLAPSED_FIELD_NAME:WX,COLLAPSED_INPUT_NAME:jX,COLLAPSE_CHARS:XX,CodeGenerator:YX,CollapsibleToolboxCategory:KX,ComponentManager:JX,Connection:ZX,ConnectionChecker:QX,ConnectionDB:eY,ConnectionNavigationPolicy:tY,ConnectionType:nY,ContextMenu:rY,ContextMenuItems:iY,ContextMenuRegistry:sY,Css:oY,DELETE_VARIABLE_ID:lY,DeleteArea:aY,DragTarget:uY,DropDownDiv:cY,Events:hY,Extensions:dY,Field:fY,FieldCheckbox:pY,FieldDropdown:mY,FieldImage:gY,FieldLabel:$Y,FieldLabelSerializable:vY,FieldNavigationPolicy:bY,FieldNumber:yY,FieldTextInput:_Y,FieldVariable:TY,Flyout:EY,FlyoutButton:wY,FlyoutButtonNavigationPolicy:xY,FlyoutItem:SY,FlyoutMetricsManager:kY,FlyoutNavigationPolicy:CY,FlyoutNavigator:AY,FlyoutSeparator:IY,FlyoutSeparatorNavigationPolicy:MY,FocusManager:NY,FocusableTreeTraverser:OY,Generator:RY,Gesture:LY,Grid:DY,HorizontalFlyout:BY,INPUT_VALUE:PY,Input:FY,InsertionMarkerPreviewer:UY,KeyboardNavigationController:zY,LabelFlyoutInflater:HY,LineCursor:VY,Marker:GY,MarkerManager:qY,Menu:WY,MenuItem:jY,MetricsManager:XY,Msg:YY,NEXT_STATEMENT:KY,Names:JY,Navigator:ZY,OPPOSITE_TYPE:QY,OUTPUT_VALUE:eK,Options:tK,PREVIOUS_STATEMENT:nK,PROCEDURE_CATEGORY_NAME:rK,Procedures:iK,RENAME_VARIABLE_ID:sK,RenderedConnection:oK,Scrollbar:lK,ScrollbarPair:aK,SeparatorFlyoutInflater:uK,ShortcutItems:cK,ShortcutRegistry:hK,TOOLBOX_AT_BOTTOM:dK,TOOLBOX_AT_LEFT:fK,TOOLBOX_AT_RIGHT:pK,TOOLBOX_AT_TOP:mK,Theme:gK,ThemeManager:$K,Themes:vK,Toast:bK,Toolbox:yK,ToolboxCategory:_K,ToolboxItem:TK,ToolboxSeparator:EK,Tooltip:wK,Touch:xK,Trashcan:SK,UnattachedFieldError:kK,VARIABLE_CATEGORY_NAME:CK,VARIABLE_DYNAMIC_CATEGORY_NAME:AK,VERSION:IK,VariableMap:MK,VariableModel:NK,Variables:OK,VariablesDynamic:RK,VerticalFlyout:LK,WidgetDiv:DK,Workspace:BK,WorkspaceAudio:PK,WorkspaceDragger:FK,WorkspaceNavigationPolicy:UK,WorkspaceSvg:zK,Xml:Qp,ZoomControls:HK,blockAnimations:VK,blockRendering:GK,browserEvents:qK,bubbles:WK,bumpObjects:jK,clipboard:XK,comments:YK,common:KK,config:JK,constants:ZK,defineBlocksWithJsonArray:QK,dialog:eJ,dragging:tJ,fieldRegistry:nJ,geras:rJ,getFocusManager:iJ,getMainWorkspace:sJ,getSelected:oJ,hasBubble:lJ,hideChaff:aJ,icons:uJ,inject:QA,inputs:cJ,isCopyable:hJ,isDeletable:dJ,isDraggable:fJ,isIcon:pJ,isObservable:mJ,isPaster:gJ,isRenderedElement:$J,isSelectable:vJ,isSerializable:bJ,isVariableBackedParameterModel:yJ,keyboardNavigationController:_J,layers:TJ,navigateBlock:EJ,navigateStacks:wJ,procedures:xJ,registry:SJ,renderManagement:kJ,serialization:zE,setLocale:CJ,setParentContainer:AJ,svgResize:IJ,thrasos:MJ,uiPosition:NJ,utils:eI,zelos:OJ}=ZA;function tI(t,n){var r=null,s=null,a=function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];s=function(){r=null,t.apply(void 0,d)},r!=null&&clearTimeout(r),r=window.setTimeout(s,n)},c=function(){r!=null&&(clearTimeout(r),s&&s())};return[a,c]}var p5=function(){return p5=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},p5.apply(this,arguments)};function nI(t,n,r){try{return n.getAllBlocks(!1).length>0?void 0:(Qp.domToWorkspace(eI.xml.textToDom(t),n),!0)}catch(s){return r&&r(s),!1}}function rI(t,n,r){try{return zE.workspaces.load(t,n),!0}catch(s){return r&&r(s),!1}}var iI=function(t){var n=t.ref,r=t.initialXml,s=t.initialJson,a=t.toolboxConfiguration,c=t.workspaceConfiguration,d=t.onWorkspaceChange,m=t.onImportXmlError,$=t.onImportError,v=t.onInject,_=t.onDispose;$=$??m;var T=Ws.useState(null),S=T[0],k=T[1],P=Ws.useState(r||null),G=P[0],X=P[1],R=Ws.useState(s||null),W=R[0],te=R[1],ie=Ws.useState(!1),se=ie[0],Y=ie[1],fe=Ws.useState(!1),Ie=fe[0],De=fe[1],Ue=Ws.useRef(c);Ws.useEffect(function(){Ue.current=c},[c]);var it=Ws.useRef(a);Ws.useEffect(function(){it.current=a,a&&S&&!c?.readOnly&&S.updateToolbox(a)},[a,S,c]);var ze=Ws.useRef(v),dt=Ws.useRef(_);Ws.useEffect(function(){ze.current=v},[v]),Ws.useEffect(function(){dt.current=_},[_]);var Oe=Ws.useCallback(function(rt){d&&d(rt)},[d]);return Ws.useEffect(function(){if(n.current){var rt=QA(n.current,p5(p5({},Ue.current),{toolbox:it.current}));k(rt),Y(!1),De(!1),ze.current&&ze.current(rt);var Pe=dt.current;return function(){rt.dispose(),Pe&&Pe(rt)}}},[n]),Ws.useEffect(function(){S&&!Ie&&Oe(S)},[Oe,Ie,S]),Ws.useEffect(function(){if(S!=null){var rt=function(){Oe(S)};return S.addChangeListener(rt),function(){S.removeChangeListener(rt)}}},[S,Oe]),Ws.useEffect(function(){if(S!=null){var rt=tI(function(){var ot=Qp.domToText(Qp.workspaceToDom(S));if(ot!==G){var Lt=zE.workspaces.save(S);te(Lt),X(ot)}},200),Pe=rt[0],nt=rt[1];return S.addChangeListener(Pe),function(){S.removeChangeListener(Pe),nt()}}},[S,G]),Ws.useEffect(function(){if(G&&S&&!se){var rt=nI(G,S,$);rt||X(null),Y(!0)}else if(W&&S&&!se){var rt=rI(W,S,$);rt||te(null);var Pe=Qp.domToText(Qp.workspaceToDom(S));X(Pe),Y(!0)}},[W,G,S,se,$]),{workspace:S,xml:G,json:W}},x7={exports:{}},S7,yb;function sI(){if(yb)return S7;yb=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return S7=t,S7}var k7,_b;function oI(){if(_b)return k7;_b=1;var t=sI();function n(){}function r(){}return r.resetWarningCache=n,k7=function(){function s(d,m,$,v,_,T){if(T!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function a(){return s}var c={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:n};return c.PropTypes=c,c},k7}var Tb;function HE(){return Tb||(Tb=1,x7.exports=oI()()),x7.exports}var lI=HE();const F0=l0(lI);var aI={initialXml:F0.string,initialJson:F0.object,toolboxConfiguration:F0.object,workspaceConfiguration:F0.object,className:F0.string,onWorkspaceChange:F0.func,onImportXmlError:F0.func,onImportError:F0.func,onXmlChange:F0.func,onJsonChange:F0.func,onInject:F0.func,onDispose:F0.func};function n9(t){var n=t.initialXml,r=t.initialJson,s=t.toolboxConfiguration,a=t.workspaceConfiguration,c=t.className,d=t.onWorkspaceChange,m=t.onXmlChange,$=t.onJsonChange,v=t.onImportXmlError,_=t.onImportError,T=t.onInject,S=t.onDispose,k=Ws.useRef(null),P=iI({ref:k,initialXml:n,initialJson:r,toolboxConfiguration:s,workspaceConfiguration:a,onWorkspaceChange:d,onImportXmlError:v,onImportError:_,onInject:T,onDispose:S}),G=P.xml,X=P.json,R=Ws.useRef(m);Ws.useEffect(function(){R.current=m},[m]);var W=Ws.useRef($);return Ws.useEffect(function(){W.current=$},[$]),Ws.useEffect(function(){R.current&&G&&R.current(G),W.current&&X&&W.current(X)},[G,X]),ge.jsx("div",{className:c,ref:k})}n9.propTypes=aI;var Z3={exports:{}},Q3={exports:{}},uI=Q3.exports,Eb;function cI(){return Eb||(Eb=1,(function(t,n){(function(r,s){t.exports=s()})(uI,function(){var r=r||{Msg:Object.create(null)};return r.Msg.ADD_COMMENT="Add Comment",r.Msg.ALT_KEY="Alt",r.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",r.Msg.CHANGE_VALUE_TITLE="Change value:",r.Msg.CHROME_OS="ChromeOS",r.Msg.CLEAN_UP="Clean up Blocks",r.Msg.CLOSE="Close",r.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",r.Msg.COLLAPSE_ALL="Collapse Blocks",r.Msg.COLLAPSE_BLOCK="Collapse Block",r.Msg.COLOUR_BLEND_COLOUR1="colour 1",r.Msg.COLOUR_BLEND_COLOUR2="colour 2",r.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",r.Msg.COLOUR_BLEND_RATIO="ratio",r.Msg.COLOUR_BLEND_TITLE="blend",r.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",r.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",r.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",r.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",r.Msg.COLOUR_RANDOM_TITLE="random colour",r.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",r.Msg.COLOUR_RGB_BLUE="blue",r.Msg.COLOUR_RGB_GREEN="green",r.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",r.Msg.COLOUR_RGB_RED="red",r.Msg.COLOUR_RGB_TITLE="colour with",r.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",r.Msg.COMMAND_KEY=" Command",r.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",r.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",r.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",r.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",r.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",r.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",r.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",r.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",r.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",r.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",r.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",r.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",r.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",r.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",r.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",r.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",r.Msg.CONTROLS_IF_MSG_ELSE="else",r.Msg.CONTROLS_IF_MSG_ELSEIF="else if",r.Msg.CONTROLS_IF_MSG_IF="if",r.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",r.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",r.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",r.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",r.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",r.Msg.CONTROLS_REPEAT_INPUT_DO="do",r.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",r.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",r.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",r.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",r.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",r.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",r.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",r.Msg.CONTROL_KEY="Ctrl",r.Msg.COPY_SHORTCUT="Copy",r.Msg.CUT_SHORTCUT="Cut",r.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",r.Msg.DELETE_BLOCK="Delete Block",r.Msg.DELETE_VARIABLE="Delete the '%1' variable",r.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",r.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",r.Msg.DIALOG_CANCEL="Cancel",r.Msg.DIALOG_OK="OK",r.Msg.DISABLE_BLOCK="Disable Block",r.Msg.DUPLICATE_BLOCK="Duplicate",r.Msg.DUPLICATE_COMMENT="Duplicate Comment",r.Msg.EDIT_BLOCK_CONTENTS="Edit Block contents",r.Msg.ENABLE_BLOCK="Enable Block",r.Msg.EXPAND_ALL="Expand Blocks",r.Msg.EXPAND_BLOCK="Expand Block",r.Msg.EXTERNAL_INPUTS="External Inputs",r.Msg.HELP="Help",r.Msg.HELP_PROMPT="Press %1 for help on keyboard controls",r.Msg.INLINE_INPUTS="Inline Inputs",r.Msg.KEYBOARD_NAV_CONSTRAINED_MOVE_HINT="Use the arrow keys to move, then %1 to accept the position",r.Msg.KEYBOARD_NAV_COPIED_HINT="Copied. Press %1 to paste.",r.Msg.KEYBOARD_NAV_CUT_HINT="Cut. Press %1 to paste.",r.Msg.KEYBOARD_NAV_UNCONSTRAINED_MOVE_HINT="Hold %1 and use arrow keys to move freely, then %2 to accept the position",r.Msg.LINUX="Linux",r.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",r.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",r.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",r.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",r.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",r.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",r.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",r.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",r.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",r.Msg.LISTS_GET_INDEX_FIRST="first",r.Msg.LISTS_GET_INDEX_FROM_END="# from end",r.Msg.LISTS_GET_INDEX_FROM_START="#",r.Msg.LISTS_GET_INDEX_GET="get",r.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",r.Msg.LISTS_GET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",r.Msg.LISTS_GET_INDEX_LAST="last",r.Msg.LISTS_GET_INDEX_RANDOM="random",r.Msg.LISTS_GET_INDEX_REMOVE="remove",r.Msg.LISTS_GET_INDEX_TAIL="",r.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",r.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",r.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",r.Msg.LISTS_GET_SUBLIST_END_LAST="to last",r.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",r.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",r.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",r.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",r.Msg.LISTS_GET_SUBLIST_TAIL="",r.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",r.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",r.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",r.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",r.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#finding-items-in-a-list",r.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",r.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",r.Msg.LISTS_INLIST="in list",r.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",r.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",r.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",r.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",r.Msg.LISTS_LENGTH_TITLE="length of %1",r.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",r.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",r.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",r.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",r.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",r.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",r.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",r.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",r.Msg.LISTS_SET_INDEX_INPUT_TO="as",r.Msg.LISTS_SET_INDEX_INSERT="insert at",r.Msg.LISTS_SET_INDEX_SET="set",r.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",r.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",r.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",r.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",r.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",r.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",r.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",r.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",r.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",r.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",r.Msg.LISTS_SORT_ORDER_DESCENDING="descending",r.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",r.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",r.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",r.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",r.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",r.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",r.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",r.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",r.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",r.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",r.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",r.Msg.LOGIC_BOOLEAN_FALSE="false",r.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",r.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",r.Msg.LOGIC_BOOLEAN_TRUE="true",r.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",r.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",r.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",r.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",r.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",r.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",r.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",r.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",r.Msg.LOGIC_NEGATE_TITLE="not %1",r.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",r.Msg.LOGIC_NULL="null",r.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",r.Msg.LOGIC_NULL_TOOLTIP="Returns null.",r.Msg.LOGIC_OPERATION_AND="and",r.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",r.Msg.LOGIC_OPERATION_OR="or",r.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",r.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",r.Msg.LOGIC_TERNARY_CONDITION="test",r.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",r.Msg.LOGIC_TERNARY_IF_FALSE="if false",r.Msg.LOGIC_TERNARY_IF_TRUE="if true",r.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",r.Msg.MAC_OS="macOS",r.Msg.MATH_ADDITION_SYMBOL="+",r.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",r.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",r.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",r.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",r.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",r.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",r.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",r.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",r.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",r.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",r.Msg.MATH_CHANGE_TITLE="change %1 by %2",r.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",r.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",r.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants:  (3.141), e (2.718),  (1.618), sqrt(2) (1.414), sqrt() (0.707), or  (infinity).",r.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",r.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",r.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",r.Msg.MATH_DIVISION_SYMBOL="",r.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",r.Msg.MATH_IS_EVEN="is even",r.Msg.MATH_IS_NEGATIVE="is negative",r.Msg.MATH_IS_ODD="is odd",r.Msg.MATH_IS_POSITIVE="is positive",r.Msg.MATH_IS_PRIME="is prime",r.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",r.Msg.MATH_IS_WHOLE="is whole",r.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",r.Msg.MATH_MODULO_TITLE="remainder of %1  %2",r.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",r.Msg.MATH_MULTIPLICATION_SYMBOL="",r.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",r.Msg.MATH_NUMBER_TOOLTIP="A number.",r.Msg.MATH_ONLIST_HELPURL="",r.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",r.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",r.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",r.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",r.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",r.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",r.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",r.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",r.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",r.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",r.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",r.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",r.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",r.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",r.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",r.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",r.Msg.MATH_POWER_SYMBOL="^",r.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",r.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",r.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",r.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",r.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",r.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",r.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",r.Msg.MATH_ROUND_OPERATOR_ROUND="round",r.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",r.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",r.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",r.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",r.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",r.Msg.MATH_SINGLE_OP_ROOT="square root",r.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",r.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",r.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",r.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",r.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",r.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",r.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",r.Msg.MATH_SUBTRACTION_SYMBOL="-",r.Msg.MATH_TRIG_ACOS="acos",r.Msg.MATH_TRIG_ASIN="asin",r.Msg.MATH_TRIG_ATAN="atan",r.Msg.MATH_TRIG_COS="cos",r.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",r.Msg.MATH_TRIG_SIN="sin",r.Msg.MATH_TRIG_TAN="tan",r.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",r.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",r.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",r.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",r.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",r.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",r.Msg.MOVE_BLOCK="Move Block",r.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",r.Msg.NEW_NUMBER_VARIABLE="Create number variable...",r.Msg.NEW_STRING_VARIABLE="Create string variable...",r.Msg.NEW_VARIABLE="Create variable...",r.Msg.NEW_VARIABLE_TITLE="New variable name:",r.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",r.Msg.OPTION_KEY=" Option",r.Msg.ORDINAL_NUMBER_SUFFIX="",r.Msg.PASTE_SHORTCUT="Paste",r.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",r.Msg.PROCEDURES_BEFORE_PARAMS="with:",r.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",r.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",r.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",r.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",r.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",r.Msg.PROCEDURES_CALL_DISABLED_DEF_WARNING="Can't run the user-defined function '%1' because the definition block is disabled.",r.Msg.PROCEDURES_CREATE_DO="Create '%1'",r.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",r.Msg.PROCEDURES_DEFNORETURN_DO="",r.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",r.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",r.Msg.PROCEDURES_DEFNORETURN_TITLE="to",r.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",r.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",r.Msg.PROCEDURES_DEFRETURN_RETURN="return",r.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",r.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",r.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",r.Msg.PROCEDURES_IFRETURN_HELPURL="https://c2.com/cgi/wiki?GuardClause",r.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",r.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",r.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",r.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",r.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",r.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",r.Msg.REDO="Redo",r.Msg.REMOVE_COMMENT="Remove Comment",r.Msg.RENAME_VARIABLE="Rename variable...",r.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",r.Msg.SHORTCUTS_CODE_NAVIGATION="Code navigation",r.Msg.SHORTCUTS_EDITING="Editing",r.Msg.SHORTCUTS_GENERAL="General",r.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",r.Msg.TEXT_APPEND_TITLE="to %1 append text %2",r.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",r.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",r.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",r.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",r.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",r.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",r.Msg.TEXT_CHARAT_FIRST="get first letter",r.Msg.TEXT_CHARAT_FROM_END="get letter # from end",r.Msg.TEXT_CHARAT_FROM_START="get letter #",r.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",r.Msg.TEXT_CHARAT_LAST="get last letter",r.Msg.TEXT_CHARAT_RANDOM="get random letter",r.Msg.TEXT_CHARAT_TAIL="",r.Msg.TEXT_CHARAT_TITLE="in text %1 %2",r.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",r.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",r.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",r.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",r.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",r.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",r.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",r.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",r.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",r.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",r.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",r.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",r.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",r.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",r.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",r.Msg.TEXT_GET_SUBSTRING_TAIL="",r.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",r.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",r.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",r.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",r.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",r.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",r.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",r.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",r.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",r.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",r.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",r.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",r.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",r.Msg.TEXT_LENGTH_TITLE="length of %1",r.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",r.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",r.Msg.TEXT_PRINT_TITLE="print %1",r.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",r.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",r.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",r.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",r.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",r.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",r.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",r.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",r.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",r.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",r.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",r.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",r.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",r.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",r.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",r.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",r.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",r.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",r.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",r.Msg.TODAY="Today",r.Msg.UNDO="Undo",r.Msg.UNKNOWN="Unknown",r.Msg.UNNAMED_KEY="unnamed",r.Msg.VARIABLES_DEFAULT_NAME="item",r.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",r.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",r.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",r.Msg.VARIABLES_SET="set %1 to %2",r.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",r.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",r.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",r.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",r.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",r.Msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER="A variable named '%1' already exists as a parameter in the procedure '%2'.",r.Msg.WINDOWS="Windows",r.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",r.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",r.Msg.CONTROLS_FOREACH_INPUT_DO=r.Msg.CONTROLS_REPEAT_INPUT_DO,r.Msg.CONTROLS_FOR_INPUT_DO=r.Msg.CONTROLS_REPEAT_INPUT_DO,r.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=r.Msg.CONTROLS_IF_MSG_ELSEIF,r.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=r.Msg.CONTROLS_IF_MSG_ELSE,r.Msg.CONTROLS_IF_IF_TITLE_IF=r.Msg.CONTROLS_IF_MSG_IF,r.Msg.CONTROLS_IF_MSG_THEN=r.Msg.CONTROLS_REPEAT_INPUT_DO,r.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=r.Msg.CONTROLS_REPEAT_INPUT_DO,r.Msg.LISTS_CREATE_WITH_ITEM_TITLE=r.Msg.VARIABLES_DEFAULT_NAME,r.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=r.Msg.LISTS_INLIST,r.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=r.Msg.LISTS_INLIST,r.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=r.Msg.LISTS_INLIST,r.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=r.Msg.LISTS_INLIST,r.Msg.MATH_CHANGE_TITLE_ITEM=r.Msg.VARIABLES_DEFAULT_NAME,r.Msg.PROCEDURES_DEFRETURN_COMMENT=r.Msg.PROCEDURES_DEFNORETURN_COMMENT,r.Msg.PROCEDURES_DEFRETURN_DO=r.Msg.PROCEDURES_DEFNORETURN_DO,r.Msg.PROCEDURES_DEFRETURN_PROCEDURE=r.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,r.Msg.PROCEDURES_DEFRETURN_TITLE=r.Msg.PROCEDURES_DEFNORETURN_TITLE,r.Msg.TEXT_APPEND_VARIABLE=r.Msg.VARIABLES_DEFAULT_NAME,r.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=r.Msg.VARIABLES_DEFAULT_NAME,r.Msg.COLOUR_HUE="20",r.Msg.LISTS_HUE="260",r.Msg.LOGIC_HUE="210",r.Msg.LOOPS_HUE="120",r.Msg.MATH_HUE="230",r.Msg.PROCEDURES_HUE="290",r.Msg.TEXTS_HUE="160",r.Msg.VARIABLES_DYNAMIC_HUE="310",r.Msg.VARIABLES_HUE="330",r.Msg})})(Q3)),Q3.exports}var e5={exports:{}},hI=e5.exports,wb;function dI(){return wb||(wb=1,(function(t,n){(function(r,s){t.exports=s(wm())})(hI,function(r){var s=r.__namespace__,a=s.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),c={customContextMenu:function(F){if(this.isInFlyout)(this.type==="variables_get_dynamic"||this.type==="variables_get_reporter_dynamic")&&(Ye={text:s.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:d(this)},We=this.getField("VAR").getText(),We={text:s.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",We),enabled:!0,callback:m(this)},F.unshift(Ye),F.unshift(We));else{if(this.type==="variables_get_dynamic")var $e="variables_set_dynamic",Ye=s.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else $e="variables_get_dynamic",Ye=s.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var We=this.getField("VAR");$e={type:$e,fields:{VAR:We.saveState(!0)}},F.push({enabled:this.workspace.remainingCapacity()>0,text:Ye.replace("%1",We.getText()),callback:s.callbackFactory$$module$build$src$core$contextmenu(this,$e)})}},onchange:function(F){F=this.getFieldValue("VAR"),F=s.getVariable$$module$build$src$core$variables(this.workspace,F),this.type==="variables_get_dynamic"?this.outputConnection.setCheck(F.getType()):this.getInput("VALUE").connection.setCheck(F.getType())}},d=function(F){return function(){const $e=F.workspace,Ye=F.getField("VAR").getVariable();s.renameVariable$$module$build$src$core$variables($e,Ye)}},m=function(F){return function(){const $e=F.getField("VAR").getVariable();$e&&s.deleteVariable$$module$build$src$core$variables($e.getWorkspace(),$e,F)}};s.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter",c),s.defineBlocks$$module$build$src$core$common(a);var $={blocks:a},v=s.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),_={customContextMenu:function(F){if(this.isInFlyout)(this.type==="variables_get"||this.type==="variables_get_reporter")&&(Ye={text:s.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:T(this)},We=this.getField("VAR").getText(),We={text:s.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",We),enabled:!0,callback:S(this)},F.unshift(Ye),F.unshift(We));else{if(this.type==="variables_get")var $e="variables_set",Ye=s.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else $e="variables_get",Ye=s.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var We=this.getField("VAR");$e={type:$e,fields:{VAR:We.saveState(!0)}},F.push({enabled:this.workspace.remainingCapacity()>0,text:Ye.replace("%1",We.getText()),callback:s.callbackFactory$$module$build$src$core$contextmenu(this,$e)})}}},T=function(F){return function(){const $e=F.workspace,Ye=F.getField("VAR").getVariable();s.renameVariable$$module$build$src$core$variables($e,Ye)}},S=function(F){return function(){const $e=F.getField("VAR").getVariable();$e&&s.deleteVariable$$module$build$src$core$variables($e.getWorkspace(),$e,F)}};s.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter",_),s.defineBlocks$$module$build$src$core$common(v);var k={blocks:v},P=s.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),G={init:function(){this.WHERE_OPTIONS_1=[[s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);const F=$e=>{const Ye=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+$e]});return Ye.setValidator(function(We){const Ht=this.getValue();We=We==="FROM_START"||We==="FROM_END",We!==(Ht==="FROM_START"||Ht==="FROM_END")&&this.getSourceBlock().updateAt_($e,We)}),Ye};this.appendDummyInput("WHERE1_INPUT").appendField(F(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(F(2),"WHERE2"),this.appendDummyInput("AT2"),s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const F=s.createElement$$module$build$src$core$utils$xml("mutation");var $e=this.getInput("AT1")instanceof s.ValueInput$$module$build$src$core$inputs$value_input;return F.setAttribute("at1",`${$e}`),$e=this.getInput("AT2")instanceof s.ValueInput$$module$build$src$core$inputs$value_input,F.setAttribute("at2",`${$e}`),F},domToMutation:function(F){const $e=F.getAttribute("at1")==="true";F=F.getAttribute("at2")==="true",this.updateAt_(1,$e),this.updateAt_(2,F)},updateAt_:function(F,$e){this.removeInput("AT"+F),this.removeInput("ORDINAL"+F,!0),$e?(this.appendValueInput("AT"+F).setCheck("Number"),s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+F).appendField(s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+F),F===2&&s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(s.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL)),F===1&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT"))}};P.text_getSubstring=G,P.text_changeCase={init:function(){const F=[[s.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[s.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[s.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(s.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:F}),"CASE"),this.setOutput(!0,"String"),this.setTooltip(s.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}},P.text_trim={init:function(){const F=[[s.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[s.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[s.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(s.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:F}),"MODE"),this.setOutput(!0,"String"),this.setTooltip(s.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}},P.text_print={init:function(){this.jsonInit({message0:s.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:s.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:s.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};var X={updateType_:function(F){this.outputConnection.setCheck(F==="NUMBER"?"Number":"String")},mutationToDom:function(){const F=s.createElement$$module$build$src$core$utils$xml("mutation");return F.setAttribute("type",this.getFieldValue("TYPE")),F},domToMutation:function(F){this.updateType_(F.getAttribute("type"))}};P.text_prompt_ext=Object.assign({},X,{init:function(){var F=[[s.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[s.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(s.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),F=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:F}),F.setValidator($e=>{this.updateType_($e)}),this.appendValueInput("TEXT").appendField(F,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?s.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:s.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),P.text_prompt=Object.assign({},X,{init:function(){this.mixin(R);var F=[[s.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[s.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(s.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),F=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:F}),F.setValidator($e=>{this.updateType_($e)}),this.appendDummyInput().appendField(F,"TYPE").appendField(this.newQuote_(!0)).appendField(s.fromJson$$module$build$src$core$field_registry({type:"field_input",text:""}),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?s.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:s.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),P.text_count={init:function(){this.jsonInit({message0:s.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:s.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:s.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}},P.text_replace={init:function(){this.jsonInit({message0:s.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:s.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:s.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}},P.text_reverse={init:function(){this.jsonInit({message0:s.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:s.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:s.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};var R={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(F){for(let $e=0,Ye;Ye=this.inputList[$e];$e++)for(let We=0,Ht;Ht=Ye.fieldRow[We];We++)if(F===Ht.name){Ye.insertFieldAt(We,this.newQuote_(!0)),Ye.insertFieldAt(We+2,this.newQuote_(!1));return}console.warn('field named "'+F+'" not found in '+this.toDevString())},newQuote_:function(F){return F=this.RTL?!F:F,s.fromJson$$module$build$src$core$field_registry({type:"field_image",src:F?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,height:this.QUOTE_IMAGE_HEIGHT,alt:F?"":""})}},W=function(){this.mixin(R),this.quoteField_("TEXT")},te={itemCount_:0,mutationToDom:function(){const F=s.createElement$$module$build$src$core$utils$xml("mutation");return F.setAttribute("items",`${this.itemCount_}`),F},domToMutation:function(F){this.itemCount_=parseInt(F.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(F){this.itemCount_=F.itemCount,this.updateShape_()},decompose:function(F){const $e=F.newBlock("text_create_join_container");$e.initSvg();let Ye=$e.getInput("STACK").connection;for(let We=0;We<this.itemCount_;We++){const Ht=F.newBlock("text_create_join_item");Ht.initSvg(),Ye.connect(Ht.previousConnection),Ye=Ht.nextConnection}return $e},compose:function(F){var $e=F.getInputTargetBlock("STACK");for(F=[];$e;)$e.isInsertionMarker()||F.push($e.valueConnection_),$e=$e.getNextBlock();for($e=0;$e<this.itemCount_;$e++){const Ye=this.getInput("ADD"+$e).connection.targetConnection;Ye&&!F.includes(Ye)&&Ye.disconnect()}for(this.itemCount_=F.length,this.updateShape_(),$e=0;$e<this.itemCount_;$e++){let Ye;(Ye=F[$e])==null||Ye.reconnect(this,"ADD"+$e)}},saveConnections:function(F){F=F.getInputTargetBlock("STACK");let $e=0;for(;F;){if(F.isInsertionMarker()){F=F.getNextBlock();continue}const Ye=this.getInput("ADD"+$e);F.valueConnection_=Ye&&Ye.connection.targetConnection,F=F.getNextBlock(),$e++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var F=0;F<this.itemCount_;F++)if(!this.getInput("ADD"+F)){const $e=this.appendValueInput("ADD"+F).setAlign(s.Align$$module$build$src$core$inputs$align.RIGHT);F===0&&$e.appendField(s.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(F=this.itemCount_;this.getInput("ADD"+F);F++)this.removeInput("ADD"+F)}},ie=function(){this.mixin(R),this.itemCount_=2,this.updateShape_(),this.setMutator(new s.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"],this))};s.register$$module$build$src$core$extensions("text_append_tooltip",s.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var se=function(){this.setTooltip(()=>s.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))},Y={isAt_:!1,mutationToDom:function(){const F=s.createElement$$module$build$src$core$utils$xml("mutation");return F.setAttribute("at",`${this.isAt_}`),F},domToMutation:function(F){F=F.getAttribute("at")!=="false",this.updateAt_(F)},updateAt_:function(F){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),F&&(this.appendValueInput("AT").setCheck("Number"),s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)),s.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(s.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL)),this.isAt_=F}},fe=function(){this.getField("WHERE").setValidator(function(F){F=F==="FROM_START"||F==="FROM_END";const $e=this.getSourceBlock();F!==$e.isAt_&&$e.updateAt_(F)}),this.updateAt_(!0),this.setTooltip(()=>{var F=this.getFieldValue("WHERE");let $e=s.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;return(F==="FROM_START"||F==="FROM_END")&&(F=F==="FROM_START"?s.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:s.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&($e+="  "+F.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),$e})};s.register$$module$build$src$core$extensions("text_indexOf_tooltip",se),s.register$$module$build$src$core$extensions("text_quotes",W),s.registerMixin$$module$build$src$core$extensions("quote_image_mixin",R),s.registerMutator$$module$build$src$core$extensions("text_join_mutator",te,ie),s.registerMutator$$module$build$src$core$extensions("text_charAt_mutator",Y,fe),s.defineBlocks$$module$build$src$core$common(P);var Ie={blocks:P},De={},Ue={setStatements_:function(F){this.hasStatements_!==F&&(F?(this.appendStatementInput("STACK").appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=F)},updateParams_:function(){let F="";this.arguments_.length&&(F=s.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),s.disable$$module$build$src$core$events$utils();try{this.setFieldValue(F,"PARAMS")}finally{s.enable$$module$build$src$core$events$utils()}},mutationToDom:function(F){const $e=s.createElement$$module$build$src$core$utils$xml("mutation");F&&$e.setAttribute("name",this.getFieldValue("NAME"));for(let Ye=0;Ye<this.argumentVarModels_.length;Ye++){const We=s.createElement$$module$build$src$core$utils$xml("arg"),Ht=this.argumentVarModels_[Ye];We.setAttribute("name",Ht.getName()),We.setAttribute("varid",Ht.getId()),F&&this.paramIds_&&We.setAttribute("paramId",this.paramIds_[Ye]),$e.appendChild(We)}return this.hasStatements_||$e.setAttribute("statements","false"),$e},domToMutation:function(F){this.arguments_=[],this.argumentVarModels_=[];for(let Ye=0,We;We=F.childNodes[Ye];Ye++)if(We.nodeName.toLowerCase()==="arg"){var $e=We;const Ht=$e.getAttribute("name");$e=$e.getAttribute("varid")||$e.getAttribute("varId"),this.arguments_.push(Ht),$e=s.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,$e,Ht,""),$e!==null?this.argumentVarModels_.push($e):console.log(`Failed to create a variable named "${Ht}", ignoring.`)}this.updateParams_(),s.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(F.getAttribute("statements")!=="false")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const F=Object.create(null);if(this.argumentVarModels_.length){F.params=[];for(let $e=0;$e<this.argumentVarModels_.length;$e++)F.params.push({name:this.argumentVarModels_[$e].getName(),id:this.argumentVarModels_[$e].getId()})}return this.hasStatements_||(F.hasStatements=!1),F},loadExtraState:function(F){if(this.arguments_=[],this.argumentVarModels_=[],F.params)for(let Ye=0;Ye<F.params.length;Ye++){var $e=F.params[Ye];$e=s.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,$e.id,$e.name,""),this.arguments_.push($e.getName()),this.argumentVarModels_.push($e)}this.updateParams_(),s.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(F.hasStatements!==!1)},decompose:function(F){const $e=s.createElement$$module$build$src$core$utils$xml("block");$e.setAttribute("type","procedures_mutatorcontainer");var Ye=s.createElement$$module$build$src$core$utils$xml("statement");Ye.setAttribute("name","STACK"),$e.appendChild(Ye);for(let Ht=0;Ht<this.arguments_.length;Ht++){const An=s.createElement$$module$build$src$core$utils$xml("block");An.setAttribute("type","procedures_mutatorarg");var We=s.createElement$$module$build$src$core$utils$xml("field");We.setAttribute("name","NAME");const Lr=s.createTextNode$$module$build$src$core$utils$xml(this.arguments_[Ht]);We.appendChild(Lr),An.appendChild(We),We=s.createElement$$module$build$src$core$utils$xml("next"),An.appendChild(We),Ye.appendChild(An),Ye=We}return F=s.domToBlock$$module$build$src$core$xml($e,F),this.type==="procedures_defreturn"?F.setFieldValue(this.hasStatements_,"STATEMENTS"):F.removeInput("STATEMENT_INPUT"),s.mutateCallers$$module$build$src$core$procedures(this),F},compose:function(F){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let $e=F.getInputTargetBlock("STACK");for(;$e&&!$e.isInsertionMarker();){var Ye=$e.getFieldValue("NAME");this.arguments_.push(Ye),Ye=this.workspace.getVariable(Ye,""),this.argumentVarModels_.push(Ye),this.paramIds_.push($e.id),$e=$e.nextConnection&&$e.nextConnection.targetBlock()}if(this.updateParams_(),s.mutateCallers$$module$build$src$core$procedures(this),F=F.getFieldValue("STATEMENTS"),F!==null&&(F=F==="TRUE",this.hasStatements_!==F))if(F){this.setStatements_(!0);var We;(We=this.statementConnection_)==null||We.reconnect(this,"STACK"),this.statementConnection_=null}else We=this.getInput("STACK").connection,(this.statementConnection_=We.targetConnection)&&(We=We.targetBlock(),We.unplug(),We.bumpNeighbours()),this.setStatements_(!1)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(F,$e){var Ye=this.workspace.getVariableById(F);if(Ye.getType()===""){Ye=Ye.getName(),$e=this.workspace.getVariableById($e);var We=!1;for(let Ht=0;Ht<this.argumentVarModels_.length;Ht++)this.argumentVarModels_[Ht].getId()===F&&(this.arguments_[Ht]=$e.getName(),this.argumentVarModels_[Ht]=$e,We=!0);We&&(this.displayRenamedVar_(Ye,$e.getName()),s.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(F){const $e=F.getName();let Ye=!1,We;for(let Ht=0;Ht<this.argumentVarModels_.length;Ht++)this.argumentVarModels_[Ht].getId()===F.getId()&&(We=this.arguments_[Ht],this.arguments_[Ht]=$e,Ye=!0);Ye&&(this.displayRenamedVar_(We,$e),s.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(F,$e){this.updateParams_();var Ye=this.getIcon(s.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(Ye&&Ye.bubbleIsVisible()){Ye=Ye.getWorkspace().getAllBlocks(!1);for(let We=0,Ht;Ht=Ye[We];We++)Ht.type==="procedures_mutatorarg"&&s.Names$$module$build$src$core$names.equals(F,Ht.getFieldValue("NAME"))&&Ht.setFieldValue($e,"NAME")}},customContextMenu:function(F){if(!this.isInFlyout){var $e=this.getFieldValue("NAME"),Ye={type:this.callType_,extraState:{name:$e,params:this.arguments_}};if(F.push({enabled:!0,text:s.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1",$e),callback:s.callbackFactory$$module$build$src$core$contextmenu(this,Ye)}),!this.isCollapsed())for($e=0;$e<this.argumentVarModels_.length;$e++){Ye=this.argumentVarModels_[$e];const We={type:"variables_get",fields:{VAR:{name:Ye.getName(),id:Ye.getId(),type:Ye.getType()}}};F.push({enabled:!0,text:s.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",Ye.getName()),callback:s.callbackFactory$$module$build$src$core$contextmenu(this,We)})}}}};De.procedures_defnoreturn=Object.assign({},Ue,{init:function(){var F=s.findLegalName$$module$build$src$core$procedures("",this);F=s.fromJson$$module$build$src$core$field_registry({type:"field_input",text:F}),F.setValidator(s.rename$$module$build$src$core$procedures),F.setSpellcheck(!1),this.appendDummyInput().appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(F,"NAME").appendField("","PARAMS"),this.setMutator(new s.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&s.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),De.procedures_defreturn=Object.assign({},Ue,{init:function(){var F=s.findLegalName$$module$build$src$core$procedures("",this);F=s.fromJson$$module$build$src$core$field_registry({type:"field_input",text:F}),F.setValidator(s.rename$$module$build$src$core$procedures),F.setSpellcheck(!1),this.appendDummyInput().appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(F,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(s.Align$$module$build$src$core$inputs$align.RIGHT).appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new s.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"});var it={init:function(){this.appendDummyInput().appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField(s.fromJson$$module$build$src$core$field_registry({type:"field_checkbox",checked:!0}),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(s.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}};De.procedures_mutatorcontainer=it;var ze=class extends s.FieldTextInput$$module$build$src$core$field_textinput{constructor(){super(...arguments),this.editingInteractively=!1}showEditor_(F){super.showEditor_(F),this.editingInteractively=!0,this.editingVariable=void 0}onFinishEditing_(F){super.onFinishEditing_(F),this.editingInteractively=!1}},dt={init:function(){const F=new ze(s.DEFAULT_ARG$$module$build$src$core$procedures,this.validator_);this.appendDummyInput().appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(F,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(s.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1},validator_:function(F){var $e=this.getSourceBlock();const Ye=$e.workspace.getRootWorkspace();if(F=F.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!F)return null;const We=($e.workspace.targetWorkspace||$e.workspace).getAllBlocks(!1),Ht=F.toLowerCase();for(let An=0;An<We.length;An++){if(We[An].id===this.getSourceBlock().id)continue;const Lr=We[An].getFieldValue("NAME");if(Lr&&Lr.toLowerCase()===Ht)return null}return $e.isInFlyout||(($e=Ye.getVariable(F,""))&&$e.getName()!==F&&Ye.renameVariableById($e.getId(),F),$e||(this.editingInteractively?this.editingVariable?Ye.renameVariableById(this.editingVariable.getId(),F):this.editingVariable=Ye.createVariable(F,""):Ye.createVariable(F,""))),F}};De.procedures_mutatorarg=dt;var Oe="DISABLED_PROCEDURE_DEFINITION",rt={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(F,$e){s.Names$$module$build$src$core$names.equals(F,this.getProcedureCall())&&(this.setFieldValue($e,"NAME"),this.setTooltip((this.outputConnection?s.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:s.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",$e)))},setProcedureParameters_:function(F,$e){var Ye=s.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);if((Ye=(Ye=Ye&&Ye.getIcon(s.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&Ye.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),F.join(`
`)===this.arguments_.join(`
`))this.quarkIds_=$e;else{if($e.length!==F.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);for(let Ht=0;Ht<this.arguments_.length;Ht++){var We=this.getInput("ARG"+Ht);We&&(We=We.connection.targetConnection,this.quarkConnections_[this.quarkIds_[Ht]]=We,Ye&&We&&!$e.includes(this.quarkIds_[Ht])&&(We.disconnect(),We.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(F),this.argumentVarModels_=[],F=0;F<this.arguments_.length;F++)Ye=s.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[F],""),this.argumentVarModels_.push(Ye);if(this.updateShape_(),this.quarkIds_=$e){for($e=0;$e<this.arguments_.length;$e++)if(F=this.quarkIds_[$e],F in this.quarkConnections_){let Ht;(Ht=this.quarkConnections_[F])!=null&&Ht.reconnect(this,"ARG"+$e)||delete this.quarkConnections_[F]}}}},updateShape_:function(){for(var F=0;F<this.arguments_.length;F++){var $e=this.getField("ARGNAME"+F);if($e){s.disable$$module$build$src$core$events$utils();try{$e.setValue(this.arguments_[F])}finally{s.enable$$module$build$src$core$events$utils()}}else $e=s.fromJson$$module$build$src$core$field_registry({type:"field_label",text:this.arguments_[F]}),this.appendValueInput("ARG"+F).setAlign(s.Align$$module$build$src$core$inputs$align.RIGHT).appendField($e,"ARGNAME"+F)}for(F=this.arguments_.length;this.getInput("ARG"+F);F++)this.removeInput("ARG"+F);(F=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||F.appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"):this.getField("WITH")&&F.removeField("WITH"))},mutationToDom:function(){const F=s.createElement$$module$build$src$core$utils$xml("mutation");F.setAttribute("name",this.getProcedureCall());for(let $e=0;$e<this.arguments_.length;$e++){const Ye=s.createElement$$module$build$src$core$utils$xml("arg");Ye.setAttribute("name",this.arguments_[$e]),F.appendChild(Ye)}return F},domToMutation:function(F){var $e=F.getAttribute("name");this.renameProcedure(this.getProcedureCall(),$e),$e=[];const Ye=[];for(let We=0,Ht;Ht=F.childNodes[We];We++)Ht.nodeName.toLowerCase()==="arg"&&($e.push(Ht.getAttribute("name")),Ye.push(Ht.getAttribute("paramId")));this.setProcedureParameters_($e,Ye)},saveExtraState:function(){const F=Object.create(null);return F.name=this.getProcedureCall(),this.arguments_.length&&(F.params=this.arguments_),F},loadExtraState:function(F){if(this.renameProcedure(this.getProcedureCall(),F.name),F=F.params){const $e=[];$e.length=F.length,$e.fill(null),this.setProcedureParameters_(F,$e)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(F){if(this.workspace&&!this.workspace.isFlyout&&F.recordUndo)if(F.type===s.BLOCK_CREATE$$module$build$src$core$events$events&&F.ids.includes(this.id)){var $e=this.getProcedureCall(),Ye=s.getDefinition$$module$build$src$core$procedures($e,this.workspace);if(!Ye||Ye.type===this.defType_&&JSON.stringify(Ye.getVars())===JSON.stringify(this.arguments_)||(Ye=null),Ye)Ye.isEnabled()||(this.setDisabledReason(!0,Oe),this.setWarningText(s.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",$e)));else{s.setGroup$$module$build$src$core$events$utils(F.group),F=s.createElement$$module$build$src$core$utils$xml("xml"),$e=s.createElement$$module$build$src$core$utils$xml("block"),$e.setAttribute("type",this.defType_),Ye=this.getRelativeToSurfaceXY();var We=Ye.y+s.config$$module$build$src$core$config.snapRadius*2;$e.setAttribute("x",`${Ye.x+s.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`),$e.setAttribute("y",`${We}`),Ye=this.mutationToDom(),$e.appendChild(Ye),Ye=s.createElement$$module$build$src$core$utils$xml("field"),Ye.setAttribute("name","NAME"),We=this.getProcedureCall();const Ht=s.findLegalName$$module$build$src$core$procedures(We,this);We!==Ht&&this.renameProcedure(We,Ht),Ye.appendChild(s.createTextNode$$module$build$src$core$utils$xml(We)),$e.appendChild(Ye),F.appendChild($e),s.domToWorkspace$$module$build$src$core$xml(F,this.workspace),s.setGroup$$module$build$src$core$events$utils(!1)}}else F.type===s.BLOCK_DELETE$$module$build$src$core$events$events?($e=this.getProcedureCall(),s.getDefinition$$module$build$src$core$procedures($e,this.workspace)||(s.setGroup$$module$build$src$core$events$utils(F.group),this.dispose(!0),s.setGroup$$module$build$src$core$events$utils(!1))):F.type===s.BLOCK_CHANGE$$module$build$src$core$events$events&&F.element==="disabled"&&($e=this.getProcedureCall(),(We=s.getDefinition$$module$build$src$core$procedures($e,this.workspace))&&We.id===F.blockId&&((Ye=s.getGroup$$module$build$src$core$events$utils())&&console.log("Saw an existing group while responding to a definition change"),s.setGroup$$module$build$src$core$events$utils(F.group),F=We.isEnabled(),this.setDisabledReason(!F,Oe),this.setWarningText(F?null:s.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",$e)),s.setGroup$$module$build$src$core$events$utils(Ye)))},customContextMenu:function(F){if(this.workspace.isMovable()){var $e=this.getProcedureCall(),Ye=this.workspace;F.push({enabled:!0,text:s.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const We=s.getDefinition$$module$build$src$core$procedures($e,Ye);We&&(Ye.centerOnBlock(We.id),s.getFocusManager$$module$build$src$core$focus_manager().focusNode(We))}})}}};De.procedures_callnoreturn=Object.assign({},rt,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(s.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defnoreturn"}),De.procedures_callreturn=Object.assign({},rt,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(s.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defreturn"});var Pe="UNPARENTED_IFRETURN",nt={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(s.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(s.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(s.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){const F=s.createElement$$module$build$src$core$utils$xml("mutation");return F.setAttribute("value",String(Number(this.hasReturnValue_))),F},domToMutation:function(F){this.hasReturnValue_=F.getAttribute("value")==="1",this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(F){if(!(this.workspace.isDragging&&this.workspace.isDragging()||F.type!==s.BLOCK_MOVE$$module$build$src$core$events$events&&F.type!==s.BLOCK_CREATE$$module$build$src$core$events$events)){F=!1;var $e=this;do{if(this.FUNCTION_TYPES.includes($e.type)){F=!0;break}$e=$e.getSurroundParent()}while($e);if(F?($e.type==="procedures_defnoreturn"&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):$e.type!=="procedures_defreturn"||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(s.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(s.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING),!this.isInFlyout)try{s.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!F,Pe)}finally{s.setRecordUndo$$module$build$src$core$events$utils(!0)}}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};De.procedures_ifreturn=nt,s.defineBlocks$$module$build$src$core$common(De);var ot={blocks:De},Lt=s.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["","PI"],["e","E"],["","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt()","SQRT1_2"],["","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),de={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};s.register$$module$build$src$core$extensions("math_op_tooltip",s.buildTooltipForDropdown$$module$build$src$core$extensions("OP",de));var Fe={mutationToDom:function(){const F=s.createElement$$module$build$src$core$utils$xml("mutation"),$e=this.getFieldValue("PROPERTY")==="DIVISIBLE_BY";return F.setAttribute("divisor_input",String($e)),F},domToMutation:function(F){F=F.getAttribute("divisor_input")==="true",this.updateShape_(F)},updateShape_:function(F){const $e=this.getInput("DIVISOR");F?$e||this.appendValueInput("DIVISOR").setCheck("Number"):$e&&this.removeInput("DIVISOR")}},et=function(){this.getField("PROPERTY").setValidator(function(F){F=F==="DIVISIBLE_BY",this.getSourceBlock().updateShape_(F)})};s.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator",Fe,et),s.register$$module$build$src$core$extensions("math_change_tooltip",s.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var _e={updateType_:function(F){F==="MODE"?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){const F=s.createElement$$module$build$src$core$utils$xml("mutation");return F.setAttribute("op",this.getFieldValue("OP")),F},domToMutation:function(F){if(F=F.getAttribute("op"),F===null)throw new TypeError("xmlElement had no op attribute");this.updateType_(F)}},Ct=function(){this.getField("OP").setValidator((function(F){this.updateType_(F)}).bind(this))};s.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator",_e,Ct),s.defineBlocks$$module$build$src$core$common(Lt);var $t={blocks:Lt},qt=s.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),ln={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};s.register$$module$build$src$core$extensions("controls_whileUntil_tooltip",s.buildTooltipForDropdown$$module$build$src$core$extensions("MODE",ln));var En={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};s.register$$module$build$src$core$extensions("controls_flow_tooltip",s.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW",En));var St={customContextMenu:function(F){if(!this.isInFlyout){var $e=this.getField("VAR"),Ye=$e.getVariable().getName();this.isCollapsed()||Ye===null||($e={type:"variables_get",fields:{VAR:$e.saveState(!0)}},F.push({enabled:!0,text:s.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",Ye),callback:s.callbackFactory$$module$build$src$core$contextmenu(this,$e)}))}}};s.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock",St),s.register$$module$build$src$core$extensions("controls_for_tooltip",s.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),s.register$$module$build$src$core$extensions("controls_forEach_tooltip",s.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));var Ut=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]),fn="CONTROL_FLOW_NOT_IN_LOOP",Ge={getSurroundLoop:function(){let F=this;do{if(Ut.has(F.type))return F;F=F.getSurroundParent()}while(F);return null},onchange:function(F){const $e=this.workspace;if($e.isDragging&&!$e.isDragging()&&(F.type===s.BLOCK_MOVE$$module$build$src$core$events$events||F.type===s.BLOCK_CREATE$$module$build$src$core$events$events)&&(F=!!this.getSurroundLoop(),this.setWarningText(F?null:s.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout))try{s.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!F,fn)}finally{s.setRecordUndo$$module$build$src$core$events$utils(!0)}}};s.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check",Ge),s.defineBlocks$$module$build$src$core$common(qt);var Qt={blocks:qt,loopTypes:Ut},Pn=s.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["","NEQ"],["<","LT"],["","LTE"],[">","GT"],["","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),Cn={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};s.register$$module$build$src$core$extensions("logic_op_tooltip",s.buildTooltipForDropdown$$module$build$src$core$extensions("OP",Cn));var Jn={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const F=s.createElement$$module$build$src$core$utils$xml("mutation");return this.elseifCount_&&F.setAttribute("elseif",String(this.elseifCount_)),this.elseCount_&&F.setAttribute("else","1"),F},domToMutation:function(F){this.elseifCount_=parseInt(F.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(F.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const F=Object.create(null);return this.elseifCount_&&(F.elseIfCount=this.elseifCount_),this.elseCount_&&(F.hasElse=!0),F},loadExtraState:function(F){this.elseifCount_=F.elseIfCount||0,this.elseCount_=F.hasElse?1:0,this.updateShape_()},decompose:function(F){const $e=F.newBlock("controls_if_if");$e.initSvg();let Ye=$e.nextConnection;for(let We=1;We<=this.elseifCount_;We++){const Ht=F.newBlock("controls_if_elseif");Ht.initSvg(),Ye.connect(Ht.previousConnection),Ye=Ht.nextConnection}return this.elseCount_&&(F=F.newBlock("controls_if_else"),F.initSvg(),Ye.connect(F.previousConnection)),$e},compose:function(F){F=F.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;const $e=[null],Ye=[null];let We=null;for(;F;){if(!F.isInsertionMarker())switch(F.type){case"controls_if_elseif":this.elseifCount_++,$e.push(F.valueConnection_),Ye.push(F.statementConnection_);break;case"controls_if_else":this.elseCount_++,We=F.statementConnection_;break;default:throw TypeError("Unknown block type: "+F.type)}F=F.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_($e,Ye,We)},saveConnections:function(F){F=F.nextConnection.targetBlock();let $e=1;for(;F;){if(!F.isInsertionMarker())switch(F.type){case"controls_if_elseif":var Ye=this.getInput("IF"+$e);const We=this.getInput("DO"+$e);F.valueConnection_=Ye&&Ye.connection.targetConnection,F.statementConnection_=We&&We.connection.targetConnection,$e++;break;case"controls_if_else":Ye=this.getInput("ELSE"),F.statementConnection_=Ye&&Ye.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+F.type)}F=F.getNextBlock()}},rebuildShape_:function(){const F=[null],$e=[null];let Ye=null;this.getInput("ELSE")&&(Ye=this.getInput("ELSE").connection.targetConnection);for(let We=1;this.getInput("IF"+We);We++){const Ht=this.getInput("IF"+We),An=this.getInput("DO"+We);F.push(Ht.connection.targetConnection),$e.push(An.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(F,$e,Ye)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var F=1;this.getInput("IF"+F);F++)this.removeInput("IF"+F),this.removeInput("DO"+F);for(F=1;F<=this.elseifCount_;F++)this.appendValueInput("IF"+F).setCheck("Boolean").appendField(s.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+F).appendField(s.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(s.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(F,$e,Ye){for(let We=1;We<=this.elseifCount_;We++){let Ht;(Ht=F[We])==null||Ht.reconnect(this,"IF"+We);let An;(An=$e[We])==null||An.reconnect(this,"DO"+We)}Ye?.reconnect(this,"ELSE")}};s.registerMutator$$module$build$src$core$extensions("controls_if_mutator",Jn,null,["controls_if_elseif","controls_if_else"]);var cn=function(){this.setTooltip((function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return s.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return s.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return s.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return s.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;return""}).bind(this))};s.register$$module$build$src$core$extensions("controls_if_tooltip",cn);var ri={onchange:function(F){this.prevBlocks_||(this.prevBlocks_=[null,null]);var $e=this.getInputTargetBlock("A");const Ye=this.getInputTargetBlock("B");$e&&Ye&&!this.workspace.connectionChecker.doTypeChecks($e.outputConnection,Ye.outputConnection)&&(s.setGroup$$module$build$src$core$events$utils(F.group),F=this.prevBlocks_[0],F!==$e&&($e.unplug(),!F||F.isDisposed()||F.isShadow()||this.getInput("A").connection.connect(F.outputConnection)),$e=this.prevBlocks_[1],$e!==Ye&&(Ye.unplug(),!$e||$e.isDisposed()||$e.isShadow()||this.getInput("B").connection.connect($e.outputConnection)),this.bumpNeighbours(),s.setGroup$$module$build$src$core$events$utils(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},Ai=function(){this.mixin(ri)};s.register$$module$build$src$core$extensions("logic_compare",Ai);var lr={prevParentConnection_:null,onchange:function(F){const $e=this.getInputTargetBlock("THEN"),Ye=this.getInputTargetBlock("ELSE"),We=this.outputConnection.targetConnection;if(($e||Ye)&&We)for(let Ht=0;Ht<2;Ht++){const An=Ht===1?$e:Ye;An&&!An.workspace.connectionChecker.doTypeChecks(An.outputConnection,We)&&(s.setGroup$$module$build$src$core$events$utils(F.group),We===this.prevParentConnection_?(this.unplug(),We.getSourceBlock().bumpNeighbours()):(An.unplug(),An.bumpNeighbours()),s.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=We}};s.registerMixin$$module$build$src$core$extensions("logic_ternary",lr),s.defineBlocks$$module$build$src$core$common(Pn);var ls={blocks:Pn},fi=s.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),ar={init:function(){this.setHelpUrl(s.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new s.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"],this)),this.setTooltip(s.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const F=s.createElement$$module$build$src$core$utils$xml("mutation");return F.setAttribute("items",String(this.itemCount_)),F},domToMutation:function(F){if(F=F.getAttribute("items"),!F)throw new TypeError("element did not have items");this.itemCount_=parseInt(F,10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(F){this.itemCount_=F.itemCount,this.updateShape_()},decompose:function(F){const $e=F.newBlock("lists_create_with_container");$e.initSvg();let Ye=$e.getInput("STACK").connection;for(let We=0;We<this.itemCount_;We++){const Ht=F.newBlock("lists_create_with_item");if(Ht.initSvg(),!Ht.previousConnection)throw Error("itemBlock has no previousConnection");Ye.connect(Ht.previousConnection),Ye=Ht.nextConnection}return $e},compose:function(F){var $e=F.getInputTargetBlock("STACK");for(F=[];$e;)$e.isInsertionMarker()||F.push($e.valueConnection_),$e=$e.getNextBlock();for($e=0;$e<this.itemCount_;$e++){const Ye=this.getInput("ADD"+$e).connection.targetConnection;Ye&&!F.includes(Ye)&&Ye.disconnect()}for(this.itemCount_=F.length,this.updateShape_(),$e=0;$e<this.itemCount_;$e++){let Ye;(Ye=F[$e])==null||Ye.reconnect(this,"ADD"+$e)}},saveConnections:function(F){F=F.getInputTargetBlock("STACK");let $e=0;for(;F;){if(F.isInsertionMarker()){F=F.getNextBlock();continue}const Ye=this.getInput("ADD"+$e);let We;F.valueConnection_=(We=Ye)==null?void 0:We.connection.targetConnection,F=F.getNextBlock(),$e++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(s.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var F=0;F<this.itemCount_;F++)if(!this.getInput("ADD"+F)){const $e=this.appendValueInput("ADD"+F).setAlign(s.Align$$module$build$src$core$inputs$align.RIGHT);F===0&&$e.appendField(s.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(F=this.itemCount_;this.getInput("ADD"+F);F++)this.removeInput("ADD"+F)}};fi.lists_create_with=ar;var Zn={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(s.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(s.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}};fi.lists_create_with_container=Zn;var D={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(s.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(s.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}};fi.lists_create_with_item=D;var ue={init:function(){var F=[[s.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,"FIRST"],[s.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,"LAST"]];if(this.setHelpUrl(s.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(s.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST),F=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:F}),!F)throw Error("field_dropdown not found");this.appendValueInput("FIND").appendField(F,"END"),this.setInputsInline(!0),this.setTooltip(()=>s.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))}};fi.lists_indexOf=ue;var Re={init:function(){var F=[[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,"GET"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),F=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:F}),F.setValidator(function($e){$e=$e==="REMOVE",this.getSourceBlock().updateStatement_($e)}),this.appendValueInput("VALUE").setCheck("Array").appendField(s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(F,"MODE").appendField("","SPACE"),F=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS}),F.setValidator(function($e){const Ye=this.getValue();$e=$e==="FROM_START"||$e==="FROM_END",$e!==(Ye==="FROM_START"||Ye==="FROM_END")&&this.getSourceBlock().updateAt_($e)}),this.appendDummyInput().appendField(F,"WHERE"),this.appendDummyInput("AT"),s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0),this.setTooltip(()=>{const $e=this.getFieldValue("MODE"),Ye=this.getFieldValue("WHERE");let We="";switch($e+" "+Ye){case"GET FROM_START":case"GET FROM_END":We=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":We=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":We=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":We=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":We=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":We=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":We=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":We=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":We=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":We=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":We=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":We=s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return(Ye==="FROM_START"||Ye==="FROM_END")&&(We+="  "+(Ye==="FROM_START"?s.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:s.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),We})},mutationToDom:function(){const F=s.createElement$$module$build$src$core$utils$xml("mutation");F.setAttribute("statement",String(!this.outputConnection));const $e=this.getInput("AT")instanceof s.ValueInput$$module$build$src$core$inputs$value_input;return F.setAttribute("at",String($e)),F},domToMutation:function(F){const $e=F.getAttribute("statement")==="true";this.updateStatement_($e),F=F.getAttribute("at")!=="false",this.updateAt_(F)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(F){F.isStatement?this.updateStatement_(!0):typeof F=="string"&&this.domToMutation(s.textToDom$$module$build$src$core$utils$xml(F))},updateStatement_:function(F){F!==!this.outputConnection&&(this.unplug(!0,!0),F?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(F){this.removeInput("AT"),this.removeInput("ORDINAL",!0),F?(this.appendValueInput("AT").setCheck("Number"),s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};fi.lists_getIndex=Re;var qe={init:function(){var F=[[s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,"SET"],[s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[s.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST),F=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:F}),this.appendDummyInput().appendField(F,"MODE").appendField("","SPACE"),F=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS}),F.setValidator(function($e){const Ye=this.getValue();$e=$e==="FROM_START"||$e==="FROM_END",$e!==(Ye==="FROM_START"||Ye==="FROM_END")&&this.getSourceBlock().updateAt_($e)}),this.appendDummyInput().appendField(F,"WHERE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0),this.setTooltip(()=>{const $e=this.getFieldValue("MODE"),Ye=this.getFieldValue("WHERE");let We="";switch($e+" "+Ye){case"SET FROM_START":case"SET FROM_END":We=s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":We=s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":We=s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":We=s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":We=s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":We=s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":We=s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":We=s.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return(Ye==="FROM_START"||Ye==="FROM_END")&&(We+="  "+s.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),We})},mutationToDom:function(){const F=s.createElement$$module$build$src$core$utils$xml("mutation"),$e=this.getInput("AT")instanceof s.ValueInput$$module$build$src$core$inputs$value_input;return F.setAttribute("at",String($e)),F},domToMutation:function(F){F=F.getAttribute("at")!=="false",this.updateAt_(F)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(F){this.removeInput("AT"),this.removeInput("ORDINAL",!0),F?(this.appendValueInput("AT").setCheck("Number"),s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO")}};fi.lists_setIndex=qe;var ct={init:function(){this.WHERE_OPTIONS_1=[[s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);const F=$e=>{const Ye=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+$e]});return Ye.setValidator(function(We){const Ht=this.getValue();We=We==="FROM_START"||We==="FROM_END",We!==(Ht==="FROM_START"||Ht==="FROM_END")&&this.getSourceBlock().updateAt_($e,We)}),Ye};this.appendDummyInput("WHERE1_INPUT").appendField(F(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(F(2),"WHERE2"),this.appendDummyInput("AT2"),s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const F=s.createElement$$module$build$src$core$utils$xml("mutation");var $e=this.getInput("AT1")instanceof s.ValueInput$$module$build$src$core$inputs$value_input;return F.setAttribute("at1",String($e)),$e=this.getInput("AT2")instanceof s.ValueInput$$module$build$src$core$inputs$value_input,F.setAttribute("at2",String($e)),F},domToMutation:function(F){const $e=F.getAttribute("at1")==="true";F=F.getAttribute("at2")==="true",this.updateAt_(1,$e),this.updateAt_(2,F)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(F,$e){this.removeInput("AT"+F),this.removeInput("ORDINAL"+F,!0),$e?(this.appendValueInput("AT"+F).setCheck("Number"),s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+F).appendField(s.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+F),F===1&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT")),s.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};fi.lists_getSublist=ct,fi.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},fi.lists_split={init:function(){const F=s.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:[[s.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[s.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]]});if(!F)throw Error("field_dropdown not found");F.setValidator($e=>{this.updateType_($e)}),this.setHelpUrl(s.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(F,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(s.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(()=>{const $e=this.getFieldValue("MODE");if($e==="SPLIT")return s.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if($e==="JOIN")return s.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+$e)})},updateType_:function(F){if(this.getFieldValue("MODE")!==F){const $e=this.getInput("INPUT").connection;$e.setShadowDom(null);const Ye=$e.targetBlock();Ye&&($e.disconnect(),Ye.isShadow()?Ye.dispose(!1):this.bumpNeighbours())}F==="SPLIT"?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){const F=s.createElement$$module$build$src$core$utils$xml("mutation");return F.setAttribute("mode",this.getFieldValue("MODE")),F},domToMutation:function(F){this.updateType_(F.getAttribute("mode"))},saveExtraState:function(){return{mode:this.getFieldValue("MODE")}},loadExtraState:function(F){this.updateType_(F.mode)}},s.defineBlocks$$module$build$src$core$common(fi);var st={blocks:fi},At=Object.assign({},fi,Pn,qt,Lt,De,P,v,a),Ot={blocks:At,lists:st,logic:ls,loops:Qt,math:$t,procedures:ot,texts:Ie,variables:k,variablesDynamic:$};return Ot.__namespace__=s,Ot})})(e5)),e5.exports}var fI=Z3.exports,xb;function pI(){return xb||(xb=1,(function(t,n){(function(r,s){t.exports=s(wm(),cI(),dI())})(fI,function(r,s,a){return r.setLocale(s),r})})(Z3)),Z3.exports}var mI=pI();const gI=l0(mI),{Block:RJ,BlockFlyoutInflater:LJ,BlockNavigationPolicy:DJ,BlockSvg:BJ,Blocks:Sb,ButtonFlyoutInflater:PJ,COLLAPSED_FIELD_NAME:FJ,COLLAPSED_INPUT_NAME:UJ,COLLAPSE_CHARS:zJ,CodeGenerator:HJ,CollapsibleToolboxCategory:VJ,ComponentManager:GJ,Connection:qJ,ConnectionChecker:WJ,ConnectionDB:jJ,ConnectionNavigationPolicy:XJ,ConnectionType:YJ,ContextMenu:KJ,ContextMenuItems:JJ,ContextMenuRegistry:ZJ,Css:QJ,DELETE_VARIABLE_ID:eZ,DeleteArea:tZ,DragTarget:nZ,DropDownDiv:rZ,Events:kb,Extensions:iZ,Field:sZ,FieldCheckbox:oZ,FieldDropdown:lZ,FieldImage:aZ,FieldLabel:uZ,FieldLabelSerializable:cZ,FieldNavigationPolicy:hZ,FieldNumber:dZ,FieldTextInput:fZ,FieldVariable:pZ,Flyout:mZ,FlyoutButton:gZ,FlyoutButtonNavigationPolicy:$Z,FlyoutItem:vZ,FlyoutMetricsManager:bZ,FlyoutNavigationPolicy:yZ,FlyoutNavigator:_Z,FlyoutSeparator:TZ,FlyoutSeparatorNavigationPolicy:EZ,FocusManager:wZ,FocusableTreeTraverser:xZ,Generator:SZ,Gesture:kZ,Grid:CZ,HorizontalFlyout:AZ,INPUT_VALUE:IZ,Input:MZ,InsertionMarkerPreviewer:NZ,KeyboardNavigationController:OZ,LabelFlyoutInflater:RZ,LineCursor:LZ,Marker:DZ,MarkerManager:BZ,Menu:PZ,MenuItem:FZ,MetricsManager:UZ,Msg:zZ,NEXT_STATEMENT:HZ,Names:VZ,Navigator:GZ,OPPOSITE_TYPE:qZ,OUTPUT_VALUE:WZ,Options:jZ,PREVIOUS_STATEMENT:XZ,PROCEDURE_CATEGORY_NAME:YZ,Procedures:KZ,RENAME_VARIABLE_ID:JZ,RenderedConnection:ZZ,Scrollbar:QZ,ScrollbarPair:eQ,SeparatorFlyoutInflater:tQ,ShortcutItems:nQ,ShortcutRegistry:rQ,TOOLBOX_AT_BOTTOM:iQ,TOOLBOX_AT_LEFT:sQ,TOOLBOX_AT_RIGHT:oQ,TOOLBOX_AT_TOP:lQ,Theme:aQ,ThemeManager:uQ,Themes:cQ,Toast:hQ,Toolbox:dQ,ToolboxCategory:fQ,ToolboxItem:pQ,ToolboxSeparator:mQ,Tooltip:gQ,Touch:$Q,Trashcan:vQ,UnattachedFieldError:bQ,VARIABLE_CATEGORY_NAME:yQ,VARIABLE_DYNAMIC_CATEGORY_NAME:_Q,VERSION:TQ,VariableMap:EQ,VariableModel:wQ,Variables:xQ,VariablesDynamic:SQ,VerticalFlyout:kQ,WidgetDiv:CQ,Workspace:$I,WorkspaceAudio:AQ,WorkspaceDragger:IQ,WorkspaceNavigationPolicy:MQ,WorkspaceSvg:NQ,Xml:VE,ZoomControls:OQ,blockAnimations:RQ,blockRendering:LQ,browserEvents:DQ,bubbles:BQ,bumpObjects:PQ,clipboard:FQ,comments:UQ,common:zQ,config:HQ,constants:VQ,defineBlocksWithJsonArray:Cb,dialog:GQ,dragging:qQ,fieldRegistry:WQ,geras:jQ,getFocusManager:XQ,getMainWorkspace:YQ,getSelected:KQ,hasBubble:JQ,hideChaff:ZQ,icons:QQ,inject:eee,inputs:tee,isCopyable:nee,isDeletable:ree,isDraggable:iee,isIcon:see,isObservable:oee,isPaster:lee,isRenderedElement:aee,isSelectable:uee,isSerializable:cee,isVariableBackedParameterModel:hee,keyboardNavigationController:dee,layers:fee,navigateBlock:pee,navigateStacks:mee,procedures:gee,registry:$ee,renderManagement:vee,serialization:bee,setLocale:yee,setParentContainer:_ee,svgResize:dg,thrasos:Tee,uiPosition:Eee,utils:GE,zelos:wee}=gI;var t5={exports:{}},vI=t5.exports,Ab;function bI(){return Ab||(Ab=1,(function(t,n){(function(r,s){t.exports=s(wm())})(vI,function(r){var s=r.__namespace__,a=function(B,ee){return["[]",D.ATOMIC]},c=function(B,ee){const Ce=Array(B.itemCount_);for(let je=0;je<B.itemCount_;je++)Ce[je]=ee.valueToCode(B,"ADD"+je,D.NONE)||"null";return["["+Ce.join(", ")+"]",D.ATOMIC]},d=function(B,ee){const Ce=ee.provideFunction_("listsRepeat",`
function ${ee.FUNCTION_NAME_PLACEHOLDER_}(value, n) {
  var array = [];
  for (var i = 0; i < n; i++) {
    array[i] = value;
  }
  return array;
}
`),je=ee.valueToCode(B,"ITEM",D.NONE)||"null";return B=ee.valueToCode(B,"NUM",D.NONE)||"0",[Ce+"("+je+", "+B+")",D.FUNCTION_CALL]},m=function(B,ee){return[(ee.valueToCode(B,"VALUE",D.MEMBER)||"[]")+".length",D.MEMBER]},$=function(B,ee){return["!"+(ee.valueToCode(B,"VALUE",D.MEMBER)||"[]")+".length",D.LOGICAL_NOT]},v=function(B,ee){const Ce=B.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",je=ee.valueToCode(B,"FIND",D.NONE)||"''";return ee=(ee.valueToCode(B,"VALUE",D.MEMBER)||"[]")+"."+Ce+"("+je+")",B.workspace.options.oneBasedIndex?[ee+" + 1",D.ADDITION]:[ee,D.FUNCTION_CALL]},_=function(B,ee){const Ce=B.getFieldValue("MODE")||"GET",je=B.getFieldValue("WHERE")||"FROM_START";var Ft=ee.valueToCode(B,"VALUE",je==="RANDOM"?D.NONE:D.MEMBER)||"[]";switch(je){case"FIRST":if(Ce==="GET")return[Ft+"[0]",D.MEMBER];if(Ce==="GET_REMOVE")return[Ft+".shift()",D.MEMBER];if(Ce==="REMOVE")return Ft+`.shift();
`;break;case"LAST":if(Ce==="GET")return[Ft+".slice(-1)[0]",D.MEMBER];if(Ce==="GET_REMOVE")return[Ft+".pop()",D.MEMBER];if(Ce==="REMOVE")return Ft+`.pop();
`;break;case"FROM_START":if(B=ee.getAdjusted(B,"AT"),Ce==="GET")return[Ft+"["+B+"]",D.MEMBER];if(Ce==="GET_REMOVE")return[Ft+".splice("+B+", 1)[0]",D.FUNCTION_CALL];if(Ce==="REMOVE")return Ft+".splice("+B+`, 1);
`;break;case"FROM_END":if(B=ee.getAdjusted(B,"AT",1,!0),Ce==="GET")return[Ft+".slice("+B+")[0]",D.FUNCTION_CALL];if(Ce==="GET_REMOVE")return[Ft+".splice("+B+", 1)[0]",D.FUNCTION_CALL];if(Ce==="REMOVE")return Ft+".splice("+B+", 1);";break;case"RANDOM":if(Ft=ee.provideFunction_("listsGetRandomItem",`
function ${ee.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {
  var x = Math.floor(Math.random() * list.length);
  if (remove) {
    return list.splice(x, 1)[0];
  } else {
    return list[x];
  }
}
`)+"("+Ft+", "+(Ce!=="GET")+")",Ce==="GET"||Ce==="GET_REMOVE")return[Ft,D.FUNCTION_CALL];if(Ce==="REMOVE")return Ft+`;
`}throw Error("Unhandled combination (lists_getIndex).")},T=function(B,ee){function Ce(){if(je.match(/^\w+$/))return"";const $r=ee.nameDB_.getDistinctName("tmpList",s.NameType$$module$build$src$core$names.VARIABLE),Os="var "+$r+" = "+je+`;
`;return je=$r,Os}let je=ee.valueToCode(B,"LIST",D.MEMBER)||"[]";const Ft=B.getFieldValue("MODE")||"GET";var mn=B.getFieldValue("WHERE")||"FROM_START";const Bn=ee.valueToCode(B,"TO",D.ASSIGNMENT)||"null";switch(mn){case"FIRST":if(Ft==="SET")return je+"[0] = "+Bn+`;
`;if(Ft==="INSERT")return je+".unshift("+Bn+`);
`;break;case"LAST":if(Ft==="SET")return Ce()+(je+"["+je+".length - 1] = "+Bn+`;
`);if(Ft==="INSERT")return je+".push("+Bn+`);
`;break;case"FROM_START":if(B=ee.getAdjusted(B,"AT"),Ft==="SET")return je+"["+B+"] = "+Bn+`;
`;if(Ft==="INSERT")return je+".splice("+B+", 0, "+Bn+`);
`;break;case"FROM_END":if(B=ee.getAdjusted(B,"AT",1,!1,D.SUBTRACTION),mn=Ce(),Ft==="SET")return mn+(je+"["+je+".length - "+B+"] = "+Bn+`;
`);if(Ft==="INSERT")return mn+(je+".splice("+je+".length - "+B+", 0, "+Bn+`);
`);break;case"RANDOM":if(B=Ce(),mn=ee.nameDB_.getDistinctName("tmpX",s.NameType$$module$build$src$core$names.VARIABLE),B+="var "+mn+" = Math.floor(Math.random() * "+je+`.length);
`,Ft==="SET")return B+(je+"["+mn+"] = "+Bn+`;
`);if(Ft==="INSERT")return B+(je+".splice("+mn+", 0, "+Bn+`);
`)}throw Error("Unhandled combination (lists_setIndex).")},S=function(B,ee){var Ce={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"},je=ee.valueToCode(B,"LIST",D.MEMBER)||"[]";const Ft=B.getFieldValue("WHERE1"),mn=B.getFieldValue("WHERE2");if(Ft==="FIRST"&&mn==="LAST")je+=".slice(0)";else if(je.match(/^\w+$/)||Ft!=="FROM_END"&&mn==="FROM_START"){switch(Ft){case"FROM_START":Ce=ee.getAdjusted(B,"AT1");break;case"FROM_END":Ce=ee.getAdjusted(B,"AT1",1,!1,D.SUBTRACTION),Ce=je+".length - "+Ce;break;case"FIRST":Ce="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(mn){case"FROM_START":ee=ee.getAdjusted(B,"AT2",1);break;case"FROM_END":ee=ee.getAdjusted(B,"AT2",0,!1,D.SUBTRACTION),ee=je+".length - "+ee;break;case"LAST":ee=je+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}je=je+".slice("+Ce+", "+ee+")"}else{const Bn=ee.getAdjusted(B,"AT1");B=ee.getAdjusted(B,"AT2"),je=ee.provideFunction_("subsequence"+Ce[Ft]+Ce[mn],`
function ${ee.FUNCTION_NAME_PLACEHOLDER_}(sequence${Ft==="FROM_END"||Ft==="FROM_START"?", at1":""}${mn==="FROM_END"||mn==="FROM_START"?", at2":""}) {
  var start = ${Re("sequence",Ft,"at1")};
  var end = ${Re("sequence",mn,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+je+(Ft==="FROM_END"||Ft==="FROM_START"?", "+Bn:"")+(mn==="FROM_END"||mn==="FROM_START"?", "+B:"")+")"}return[je,D.FUNCTION_CALL]},k=function(B,ee){const Ce=ee.valueToCode(B,"LIST",D.FUNCTION_CALL)||"[]",je=B.getFieldValue("DIRECTION")==="1"?1:-1;return B=B.getFieldValue("TYPE"),ee=ee.provideFunction_("listsGetSortCompare",`
function ${ee.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {
  var compareFuncs = {
    'NUMERIC': function(a, b) {
        return Number(a) - Number(b); },
    'TEXT': function(a, b) {
        return String(a) > String(b) ? 1 : -1; },
    'IGNORE_CASE': function(a, b) {
        return String(a).toLowerCase() > String(b).toLowerCase() ? 1 : -1; },
  };
  var compare = compareFuncs[type];
  return function(a, b) { return compare(a, b) * direction; };
}
      `),[Ce+".slice().sort("+ee+'("'+B+'", '+je+"))",D.FUNCTION_CALL]},P=function(B,ee){let Ce=ee.valueToCode(B,"INPUT",D.MEMBER);if(ee=ee.valueToCode(B,"DELIM",D.NONE)||"''",B=B.getFieldValue("MODE"),B==="SPLIT")Ce||(Ce="''"),B="split";else if(B==="JOIN")Ce||(Ce="[]"),B="join";else throw Error("Unknown mode: "+B);return[Ce+"."+B+"("+ee+")",D.FUNCTION_CALL]},G=function(B,ee){return[(ee.valueToCode(B,"LIST",D.FUNCTION_CALL)||"[]")+".slice().reverse()",D.FUNCTION_CALL]},X=function(B,ee){var Ce=0;let je="";ee.STATEMENT_PREFIX&&(je+=ee.injectId(ee.STATEMENT_PREFIX,B));do{const Ft=ee.valueToCode(B,"IF"+Ce,D.NONE)||"false";let mn=ee.statementToCode(B,"DO"+Ce);ee.STATEMENT_SUFFIX&&(mn=ee.prefixLines(ee.injectId(ee.STATEMENT_SUFFIX,B),ee.INDENT)+mn),je+=(Ce>0?" else ":"")+"if ("+Ft+`) {
`+mn+"}",Ce++}while(B.getInput("IF"+Ce));return(B.getInput("ELSE")||ee.STATEMENT_SUFFIX)&&(Ce=B.getInput("ELSE")?ee.statementToCode(B,"ELSE"):"",ee.STATEMENT_SUFFIX&&(Ce=ee.prefixLines(ee.injectId(ee.STATEMENT_SUFFIX,B),ee.INDENT)+Ce),je+=` else {
`+Ce+"}"),je+`
`},R=function(B,ee){const Ce={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[B.getFieldValue("OP")],je=Ce==="=="||Ce==="!="?D.EQUALITY:D.RELATIONAL,Ft=ee.valueToCode(B,"A",je)||"0";return B=ee.valueToCode(B,"B",je)||"0",[Ft+" "+Ce+" "+B,je]},W=function(B,ee){const Ce=B.getFieldValue("OP")==="AND"?"&&":"||",je=Ce==="&&"?D.LOGICAL_AND:D.LOGICAL_OR;let Ft=ee.valueToCode(B,"A",je);return B=ee.valueToCode(B,"B",je),Ft||B?(ee=Ce==="&&"?"true":"false",Ft||(Ft=ee),B||(B=ee)):B=Ft="false",[Ft+" "+Ce+" "+B,je]},te=function(B,ee){const Ce=D.LOGICAL_NOT;return["!"+(ee.valueToCode(B,"BOOL",Ce)||"true"),Ce]},ie=function(B,ee){return[B.getFieldValue("BOOL")==="TRUE"?"true":"false",D.ATOMIC]},se=function(B,ee){return["null",D.ATOMIC]},Y=function(B,ee){const Ce=ee.valueToCode(B,"IF",D.CONDITIONAL)||"false",je=ee.valueToCode(B,"THEN",D.CONDITIONAL)||"null";return B=ee.valueToCode(B,"ELSE",D.CONDITIONAL)||"null",[Ce+" ? "+je+" : "+B,D.CONDITIONAL]},fe=function(B,ee){let Ce;Ce=B.getField("TIMES")?String(Number(B.getFieldValue("TIMES"))):ee.valueToCode(B,"TIMES",D.ASSIGNMENT)||"0";let je=ee.statementToCode(B,"DO");je=ee.addLoopTrap(je,B),B="";const Ft=ee.nameDB_.getDistinctName("count",s.NameType$$module$build$src$core$names.VARIABLE);let mn=Ce;return Ce.match(/^\w+$/)||s.isNumber$$module$build$src$core$utils$string(Ce)||(mn=ee.nameDB_.getDistinctName("repeat_end",s.NameType$$module$build$src$core$names.VARIABLE),B+="var "+mn+" = "+Ce+`;
`),B+("for (var "+Ft+" = 0; "+Ft+" < "+mn+"; "+Ft+`++) {
`+je+`}
`)},Ie=function(B,ee){const Ce=B.getFieldValue("MODE")==="UNTIL";let je=ee.valueToCode(B,"BOOL",Ce?D.LOGICAL_NOT:D.NONE)||"false",Ft=ee.statementToCode(B,"DO");return Ft=ee.addLoopTrap(Ft,B),Ce&&(je="!"+je),"while ("+je+`) {
`+Ft+`}
`},De=function(B,ee){var Ce=ee.getVariableName(B.getFieldValue("VAR")),je=ee.valueToCode(B,"FROM",D.ASSIGNMENT)||"0",Ft=ee.valueToCode(B,"TO",D.ASSIGNMENT)||"0";const mn=ee.valueToCode(B,"BY",D.ASSIGNMENT)||"1";let Bn=ee.statementToCode(B,"DO");if(Bn=ee.addLoopTrap(Bn,B),s.isNumber$$module$build$src$core$utils$string(je)&&s.isNumber$$module$build$src$core$utils$string(Ft)&&s.isNumber$$module$build$src$core$utils$string(mn))ee=Number(je)<=Number(Ft),B="for ("+Ce+" = "+je+"; "+Ce+(ee?" <= ":" >= ")+Ft+"; "+Ce,Ce=Math.abs(Number(mn)),B=Ce===1?B+(ee?"++":"--"):B+((ee?" += ":" -= ")+Ce),B+=`) {
`+Bn+`}
`;else{B="";let $r=je;je.match(/^\w+$/)||s.isNumber$$module$build$src$core$utils$string(je)||($r=ee.nameDB_.getDistinctName(Ce+"_start",s.NameType$$module$build$src$core$names.VARIABLE),B+="var "+$r+" = "+je+`;
`),je=Ft,Ft.match(/^\w+$/)||s.isNumber$$module$build$src$core$utils$string(Ft)||(je=ee.nameDB_.getDistinctName(Ce+"_end",s.NameType$$module$build$src$core$names.VARIABLE),B+="var "+je+" = "+Ft+`;
`),Ft=ee.nameDB_.getDistinctName(Ce+"_inc",s.NameType$$module$build$src$core$names.VARIABLE),B+="var "+Ft+" = ",B=s.isNumber$$module$build$src$core$utils$string(mn)?B+(Math.abs(Number(mn))+`;
`):B+("Math.abs("+mn+`);
`),B+="if ("+$r+" > "+je+`) {
`,B+=ee.INDENT+Ft+" = -"+Ft+`;
`,B=B+`}
for (`+(Ce+" = "+$r+"; "+Ft+" >= 0 ? "+Ce+" <= "+je+" : "+Ce+" >= "+je+"; "+Ce+" += "+Ft+`) {
`+Bn+`}
`)}return B},Ue=function(B,ee){const Ce=ee.getVariableName(B.getFieldValue("VAR"));var je=ee.valueToCode(B,"LIST",D.ASSIGNMENT)||"[]";let Ft=ee.statementToCode(B,"DO");Ft=ee.addLoopTrap(Ft,B),B="";let mn=je;return je.match(/^\w+$/)||(mn=ee.nameDB_.getDistinctName(Ce+"_list",s.NameType$$module$build$src$core$names.VARIABLE),B+="var "+mn+" = "+je+`;
`),je=ee.nameDB_.getDistinctName(Ce+"_index",s.NameType$$module$build$src$core$names.VARIABLE),Ft=ee.INDENT+Ce+" = "+mn+"["+je+`];
`+Ft,B+("for (var "+je+" in "+mn+`) {
`+Ft+`}
`)},it=function(B,ee){let Ce="";if(ee.STATEMENT_PREFIX&&(Ce+=ee.injectId(ee.STATEMENT_PREFIX,B)),ee.STATEMENT_SUFFIX&&(Ce+=ee.injectId(ee.STATEMENT_SUFFIX,B)),ee.STATEMENT_PREFIX){const je=B.getSurroundLoop();je&&!je.suppressPrefixSuffix&&(Ce+=ee.injectId(ee.STATEMENT_PREFIX,je))}switch(B.getFieldValue("FLOW")){case"BREAK":return Ce+`break;
`;case"CONTINUE":return Ce+`continue;
`}throw Error("Unknown flow statement.")},ze=function(B,ee){return B=Number(B.getFieldValue("NUM")),[String(B),B>=0?D.ATOMIC:D.UNARY_NEGATION]},dt=function(B,ee){var Ce={ADD:[" + ",D.ADDITION],MINUS:[" - ",D.SUBTRACTION],MULTIPLY:[" * ",D.MULTIPLICATION],DIVIDE:[" / ",D.DIVISION],POWER:[null,D.NONE]}[B.getFieldValue("OP")];const je=Ce[0];Ce=Ce[1];const Ft=ee.valueToCode(B,"A",Ce)||"0";return B=ee.valueToCode(B,"B",Ce)||"0",je?[Ft+je+B,Ce]:["Math.pow("+Ft+", "+B+")",D.FUNCTION_CALL]},Oe=function(B,ee){const Ce=B.getFieldValue("OP");let je;if(Ce==="NEG")return B=ee.valueToCode(B,"NUM",D.UNARY_NEGATION)||"0",B[0]==="-"&&(B=" "+B),["-"+B,D.UNARY_NEGATION];switch(B=Ce==="SIN"||Ce==="COS"||Ce==="TAN"?ee.valueToCode(B,"NUM",D.DIVISION)||"0":ee.valueToCode(B,"NUM",D.NONE)||"0",Ce){case"ABS":je="Math.abs("+B+")";break;case"ROOT":je="Math.sqrt("+B+")";break;case"LN":je="Math.log("+B+")";break;case"EXP":je="Math.exp("+B+")";break;case"POW10":je="Math.pow(10,"+B+")";break;case"ROUND":je="Math.round("+B+")";break;case"ROUNDUP":je="Math.ceil("+B+")";break;case"ROUNDDOWN":je="Math.floor("+B+")";break;case"SIN":je="Math.sin("+B+" / 180 * Math.PI)";break;case"COS":je="Math.cos("+B+" / 180 * Math.PI)";break;case"TAN":je="Math.tan("+B+" / 180 * Math.PI)"}if(je)return[je,D.FUNCTION_CALL];switch(Ce){case"LOG10":je="Math.log("+B+") / Math.log(10)";break;case"ASIN":je="Math.asin("+B+") / Math.PI * 180";break;case"ACOS":je="Math.acos("+B+") / Math.PI * 180";break;case"ATAN":je="Math.atan("+B+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+Ce)}return[je,D.DIVISION]},rt=function(B,ee){return{PI:["Math.PI",D.MEMBER],E:["Math.E",D.MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",D.DIVISION],SQRT2:["Math.SQRT2",D.MEMBER],SQRT1_2:["Math.SQRT1_2",D.MEMBER],INFINITY:["Infinity",D.ATOMIC]}[B.getFieldValue("CONSTANT")]},Pe=function(B,ee){var Ce={EVEN:[" % 2 === 0",D.MODULUS,D.EQUALITY],ODD:[" % 2 === 1",D.MODULUS,D.EQUALITY],WHOLE:[" % 1 === 0",D.MODULUS,D.EQUALITY],POSITIVE:[" > 0",D.RELATIONAL,D.RELATIONAL],NEGATIVE:[" < 0",D.RELATIONAL,D.RELATIONAL],DIVISIBLE_BY:[null,D.MODULUS,D.EQUALITY],PRIME:[null,D.NONE,D.FUNCTION_CALL]};const je=B.getFieldValue("PROPERTY"),[Ft,mn,Bn]=Ce[je];return Ce=ee.valueToCode(B,"NUMBER_TO_CHECK",mn)||"0",je==="PRIME"?B=ee.provideFunction_("mathIsPrime",`
function ${ee.FUNCTION_NAME_PLACEHOLDER_}(n) {
  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  if (n == 2 || n == 3) {
    return true;
  }
  // False if n is NaN, negative, is 1, or not whole.
  // And false if n is divisible by 2 or 3.
  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {
    return false;
  }
  // Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {
    if (n % (x - 1) === 0 || n % (x + 1) === 0) {
      return false;
    }
  }
  return true;
}
`)+"("+Ce+")":je==="DIVISIBLE_BY"?(B=ee.valueToCode(B,"DIVISOR",D.MODULUS)||"0",B=Ce+" % "+B+" === 0"):B=Ce+Ft,[B,Bn]},nt=function(B,ee){const Ce=ee.valueToCode(B,"DELTA",D.ADDITION)||"0";return B=ee.getVariableName(B.getFieldValue("VAR")),B+" = (typeof "+B+" === 'number' ? "+B+" : 0) + "+Ce+`;
`},ot=function(B,ee){var Ce=B.getFieldValue("OP");switch(Ce){case"SUM":B=ee.valueToCode(B,"LIST",D.MEMBER)||"[]",B+=".reduce(function(x, y) {return x + y;}, 0)";break;case"MIN":B=ee.valueToCode(B,"LIST",D.NONE)||"[]",B="Math.min.apply(null, "+B+")";break;case"MAX":B=ee.valueToCode(B,"LIST",D.NONE)||"[]",B="Math.max.apply(null, "+B+")";break;case"AVERAGE":Ce=ee.provideFunction_("mathMean",`
function ${ee.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;
}
`),B=ee.valueToCode(B,"LIST",D.NONE)||"[]",B=Ce+"("+B+")";break;case"MEDIAN":Ce=ee.provideFunction_("mathMedian",`
function ${ee.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  var localList = myList.filter(function (x) {return typeof x === 'number';});
  if (!localList.length) return null;
  localList.sort(function(a, b) {return b - a;});
  if (localList.length % 2 === 0) {
    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;
  } else {
    return localList[(localList.length - 1) / 2];
  }
}
`),B=ee.valueToCode(B,"LIST",D.NONE)||"[]",B=Ce+"("+B+")";break;case"MODE":Ce=ee.provideFunction_("mathModes",`
function ${ee.FUNCTION_NAME_PLACEHOLDER_}(values) {
  var modes = [];
  var counts = [];
  var maxCount = 0;
  for (var i = 0; i < values.length; i++) {
    var value = values[i];
    var found = false;
    var thisCount;
    for (var j = 0; j < counts.length; j++) {
      if (counts[j][0] === value) {
        thisCount = ++counts[j][1];
        found = true;
        break;
      }
    }
    if (!found) {
      counts.push([value, 1]);
      thisCount = 1;
    }
    maxCount = Math.max(thisCount, maxCount);
  }
  for (var j = 0; j < counts.length; j++) {
    if (counts[j][1] === maxCount) {
      modes.push(counts[j][0]);
    }
  }
  return modes;
}
`),B=ee.valueToCode(B,"LIST",D.NONE)||"[]",B=Ce+"("+B+")";break;case"STD_DEV":Ce=ee.provideFunction_("mathStandardDeviation",`
function ${ee.FUNCTION_NAME_PLACEHOLDER_}(numbers) {
  var n = numbers.length;
  if (!n) return null;
  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;
  var variance = 0;
  for (var j = 0; j < n; j++) {
    variance += Math.pow(numbers[j] - mean, 2);
  }
  variance /= n;
  return Math.sqrt(variance);
}
`),B=ee.valueToCode(B,"LIST",D.NONE)||"[]",B=Ce+"("+B+")";break;case"RANDOM":Ce=ee.provideFunction_("mathRandomList",`
function ${ee.FUNCTION_NAME_PLACEHOLDER_}(list) {
  var x = Math.floor(Math.random() * list.length);
  return list[x];
}
`),B=ee.valueToCode(B,"LIST",D.NONE)||"[]",B=Ce+"("+B+")";break;default:throw Error("Unknown operator: "+Ce)}return[B,D.FUNCTION_CALL]},Lt=function(B,ee){const Ce=ee.valueToCode(B,"DIVIDEND",D.MODULUS)||"0";return B=ee.valueToCode(B,"DIVISOR",D.MODULUS)||"0",[Ce+" % "+B,D.MODULUS]},de=function(B,ee){const Ce=ee.valueToCode(B,"VALUE",D.NONE)||"0",je=ee.valueToCode(B,"LOW",D.NONE)||"0";return B=ee.valueToCode(B,"HIGH",D.NONE)||"Infinity",["Math.min(Math.max("+Ce+", "+je+"), "+B+")",D.FUNCTION_CALL]},Fe=function(B,ee){const Ce=ee.valueToCode(B,"FROM",D.NONE)||"0";return B=ee.valueToCode(B,"TO",D.NONE)||"0",[ee.provideFunction_("mathRandomInt",`
function ${ee.FUNCTION_NAME_PLACEHOLDER_}(a, b) {
  if (a > b) {
    // Swap a and b to ensure a is smaller.
    var c = a;
    a = b;
    b = c;
  }
  return Math.floor(Math.random() * (b - a + 1) + a);
}
`)+"("+Ce+", "+B+")",D.FUNCTION_CALL]},et=function(B,ee){return["Math.random()",D.FUNCTION_CALL]},_e=function(B,ee){const Ce=ee.valueToCode(B,"X",D.NONE)||"0";return["Math.atan2("+(ee.valueToCode(B,"Y",D.NONE)||"0")+", "+Ce+") / Math.PI * 180",D.DIVISION]},Ct=function(B,ee){const Ce=ee.getProcedureName(B.getFieldValue("NAME"));var je="";ee.STATEMENT_PREFIX&&(je+=ee.injectId(ee.STATEMENT_PREFIX,B)),ee.STATEMENT_SUFFIX&&(je+=ee.injectId(ee.STATEMENT_SUFFIX,B)),je&&(je=ee.prefixLines(je,ee.INDENT));let Ft="";ee.INFINITE_LOOP_TRAP&&(Ft=ee.prefixLines(ee.injectId(ee.INFINITE_LOOP_TRAP,B),ee.INDENT));let mn="";B.getInput("STACK")&&(mn=ee.statementToCode(B,"STACK"));let Bn="";B.getInput("RETURN")&&(Bn=ee.valueToCode(B,"RETURN",D.NONE)||"");let $r="";mn&&Bn&&($r=je),Bn&&(Bn=ee.INDENT+"return "+Bn+`;
`);const Os=[],as=B.getVars();for(let kr=0;kr<as.length;kr++)Os[kr]=ee.getVariableName(as[kr]);return je="function "+Ce+"("+Os.join(", ")+`) {
`+je+Ft+mn+$r+Bn+"}",je=ee.scrub_(B,je),ee.definitions_["%"+Ce]=je,null},$t=function(B,ee){const Ce=ee.getProcedureName(B.getFieldValue("NAME")),je=[],Ft=B.getVars();for(let mn=0;mn<Ft.length;mn++)je[mn]=ee.valueToCode(B,"ARG"+mn,D.NONE)||"null";return[Ce+"("+je.join(", ")+")",D.FUNCTION_CALL]},qt=function(B,ee){return ee.forBlock.procedures_callreturn(B,ee)[0]+`;
`},ln=function(B,ee){let Ce="if ("+(ee.valueToCode(B,"CONDITION",D.NONE)||"false")+`) {
`;return ee.STATEMENT_SUFFIX&&(Ce+=ee.prefixLines(ee.injectId(ee.STATEMENT_SUFFIX,B),ee.INDENT)),B.hasReturnValue_?(B=ee.valueToCode(B,"VALUE",D.NONE)||"null",Ce+=ee.INDENT+"return "+B+`;
`):Ce+=ee.INDENT+`return;
`,Ce+`}
`},En=function(B,ee){return[ee.quote_(B.getFieldValue("TEXT")),D.ATOMIC]},St=function(B,ee){switch(B.itemCount_){case 0:return["''",D.ATOMIC];case 1:return B=ee.valueToCode(B,"ADD0",D.NONE)||"''",$e(B);case 2:var Ce=ee.valueToCode(B,"ADD0",D.NONE)||"''";return B=ee.valueToCode(B,"ADD1",D.NONE)||"''",[$e(Ce)[0]+" + "+$e(B)[0],D.ADDITION];default:Ce=Array(B.itemCount_);for(let je=0;je<B.itemCount_;je++)Ce[je]=ee.valueToCode(B,"ADD"+je,D.NONE)||"''";return["["+Ce.join(",")+"].join('')",D.FUNCTION_CALL]}},Ut=function(B,ee){const Ce=ee.getVariableName(B.getFieldValue("VAR"));return B=ee.valueToCode(B,"TEXT",D.NONE)||"''",Ce+" += "+$e(B)[0]+`;
`},fn=function(B,ee){return[(ee.valueToCode(B,"VALUE",D.MEMBER)||"''")+".length",D.MEMBER]},Ge=function(B,ee){return["!"+(ee.valueToCode(B,"VALUE",D.MEMBER)||"''")+".length",D.LOGICAL_NOT]},Qt=function(B,ee){const Ce=B.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",je=ee.valueToCode(B,"FIND",D.NONE)||"''";return ee=(ee.valueToCode(B,"VALUE",D.MEMBER)||"''")+"."+Ce+"("+je+")",B.workspace.options.oneBasedIndex?[ee+" + 1",D.ADDITION]:[ee,D.FUNCTION_CALL]},Pn=function(B,ee){const Ce=B.getFieldValue("WHERE")||"FROM_START",je=ee.valueToCode(B,"VALUE",Ce==="RANDOM"?D.NONE:D.MEMBER)||"''";switch(Ce){case"FIRST":return[je+".charAt(0)",D.FUNCTION_CALL];case"LAST":return[je+".slice(-1)",D.FUNCTION_CALL];case"FROM_START":return B=ee.getAdjusted(B,"AT"),[je+".charAt("+B+")",D.FUNCTION_CALL];case"FROM_END":return B=ee.getAdjusted(B,"AT",1,!0),[je+".slice("+B+").charAt(0)",D.FUNCTION_CALL];case"RANDOM":return[ee.provideFunction_("textRandomLetter",`
function ${ee.FUNCTION_NAME_PLACEHOLDER_}(text) {
  var x = Math.floor(Math.random() * text.length);
  return text[x];
}
`)+"("+je+")",D.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},Cn=function(B,ee){var Ce={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};const je=B.getFieldValue("WHERE1"),Ft=B.getFieldValue("WHERE2");var mn=je!=="FROM_END"&&je!=="LAST"&&Ft!=="FROM_END"&&Ft!=="LAST",Bn=ee.valueToCode(B,"STRING",mn?D.MEMBER:D.NONE)||"''";if(je==="FIRST"&&Ft==="LAST")return[Bn,D.NONE];if(Bn.match(/^'?\w+'?$/)||mn){switch(je){case"FROM_START":Ce=ee.getAdjusted(B,"AT1");break;case"FROM_END":Ce=ee.getAdjusted(B,"AT1",1,!1,D.SUBTRACTION),Ce=Bn+".length - "+Ce;break;case"FIRST":Ce="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(Ft){case"FROM_START":ee=ee.getAdjusted(B,"AT2",1);break;case"FROM_END":ee=ee.getAdjusted(B,"AT2",0,!1,D.SUBTRACTION),ee=Bn+".length - "+ee;break;case"LAST":ee=Bn+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}Bn=Bn+".slice("+Ce+", "+ee+")"}else mn=ee.getAdjusted(B,"AT1"),B=ee.getAdjusted(B,"AT2"),Bn=ee.provideFunction_("subsequence"+Ce[je]+Ce[Ft],`
function ${ee.FUNCTION_NAME_PLACEHOLDER_}(sequence${je==="FROM_END"||je==="FROM_START"?", at1":""}${Ft==="FROM_END"||Ft==="FROM_START"?", at2":""}) {
  var start = ${Ye("sequence",je,"at1")};
  var end = ${Ye("sequence",Ft,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+Bn+(je==="FROM_END"||je==="FROM_START"?", "+mn:"")+(Ft==="FROM_END"||Ft==="FROM_START"?", "+B:"")+")";return[Bn,D.FUNCTION_CALL]},Jn=function(B,ee){const Ce={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[B.getFieldValue("CASE")];return B=ee.valueToCode(B,"TEXT",Ce?D.MEMBER:D.NONE)||"''",[Ce?B+Ce:ee.provideFunction_("textToTitleCase",`
function ${ee.FUNCTION_NAME_PLACEHOLDER_}(str) {
  return str.replace(/\\S+/g,
      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});
}
`)+"("+B+")",D.FUNCTION_CALL]},cn=function(B,ee){const Ce={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[B.getFieldValue("MODE")];return[(ee.valueToCode(B,"TEXT",D.MEMBER)||"''")+Ce,D.FUNCTION_CALL]},ri=function(B,ee){return"window.alert("+(ee.valueToCode(B,"TEXT",D.NONE)||"''")+`);
`},Ai=function(B,ee){return ee="window.prompt("+(B.getField("TEXT")?ee.quote_(B.getFieldValue("TEXT")):ee.valueToCode(B,"TEXT",D.NONE)||"''")+")",B.getFieldValue("TYPE")==="NUMBER"&&(ee="Number("+ee+")"),[ee,D.FUNCTION_CALL]},lr=function(B,ee){const Ce=ee.valueToCode(B,"TEXT",D.NONE)||"''";return B=ee.valueToCode(B,"SUB",D.NONE)||"''",[ee.provideFunction_("textCount",`
function ${ee.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle) {
  if (needle.length === 0) {
    return haystack.length + 1;
  } else {
    return haystack.split(needle).length - 1;
  }
}
`)+"("+Ce+", "+B+")",D.FUNCTION_CALL]},ls=function(B,ee){const Ce=ee.valueToCode(B,"TEXT",D.NONE)||"''",je=ee.valueToCode(B,"FROM",D.NONE)||"''";return B=ee.valueToCode(B,"TO",D.NONE)||"''",[ee.provideFunction_("textReplace",`
function ${ee.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle, replacement) {
  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')
                 .replace(/\\x08/g, '\\\\x08');
  return haystack.replace(new RegExp(needle, 'g'), replacement);
}
`)+"("+Ce+", "+je+", "+B+")",D.FUNCTION_CALL]},fi=function(B,ee){return[(ee.valueToCode(B,"TEXT",D.MEMBER)||"''")+".split('').reverse().join('')",D.FUNCTION_CALL]},ar=function(B,ee){return[ee.getVariableName(B.getFieldValue("VAR")),D.ATOMIC]},Zn=function(B,ee){const Ce=ee.valueToCode(B,"VALUE",D.ASSIGNMENT)||"0";return ee.getVariableName(B.getFieldValue("VAR"))+" = "+Ce+`;
`},D;(function(B){B[B.ATOMIC=0]="ATOMIC",B[B.NEW=1.1]="NEW",B[B.MEMBER=1.2]="MEMBER",B[B.FUNCTION_CALL=2]="FUNCTION_CALL",B[B.INCREMENT=3]="INCREMENT",B[B.DECREMENT=3]="DECREMENT",B[B.BITWISE_NOT=4.1]="BITWISE_NOT",B[B.UNARY_PLUS=4.2]="UNARY_PLUS",B[B.UNARY_NEGATION=4.3]="UNARY_NEGATION",B[B.LOGICAL_NOT=4.4]="LOGICAL_NOT",B[B.TYPEOF=4.5]="TYPEOF",B[B.VOID=4.6]="VOID",B[B.DELETE=4.7]="DELETE",B[B.AWAIT=4.8]="AWAIT",B[B.EXPONENTIATION=5]="EXPONENTIATION",B[B.MULTIPLICATION=5.1]="MULTIPLICATION",B[B.DIVISION=5.2]="DIVISION",B[B.MODULUS=5.3]="MODULUS",B[B.SUBTRACTION=6.1]="SUBTRACTION",B[B.ADDITION=6.2]="ADDITION",B[B.BITWISE_SHIFT=7]="BITWISE_SHIFT",B[B.RELATIONAL=8]="RELATIONAL",B[B.IN=8]="IN",B[B.INSTANCEOF=8]="INSTANCEOF",B[B.EQUALITY=9]="EQUALITY",B[B.BITWISE_AND=10]="BITWISE_AND",B[B.BITWISE_XOR=11]="BITWISE_XOR",B[B.BITWISE_OR=12]="BITWISE_OR",B[B.LOGICAL_AND=13]="LOGICAL_AND",B[B.LOGICAL_OR=14]="LOGICAL_OR",B[B.CONDITIONAL=15]="CONDITIONAL",B[B.ASSIGNMENT=16]="ASSIGNMENT",B[B.YIELD=17]="YIELD",B[B.COMMA=18]="COMMA",B[B.NONE=99]="NONE"})(D||(D={}));var ue=class extends s.CodeGenerator$$module$build$src$core$generator{constructor(B="JavaScript"){super(B),this.ORDER_OVERRIDES=[[D.FUNCTION_CALL,D.MEMBER],[D.FUNCTION_CALL,D.FUNCTION_CALL],[D.MEMBER,D.MEMBER],[D.MEMBER,D.FUNCTION_CALL],[D.LOGICAL_NOT,D.LOGICAL_NOT],[D.MULTIPLICATION,D.MULTIPLICATION],[D.ADDITION,D.ADDITION],[D.LOGICAL_AND,D.LOGICAL_AND],[D.LOGICAL_OR,D.LOGICAL_OR]],this.isInitialized=!1;for(const ee in D)B=D[ee],typeof B!="string"&&(this["ORDER_"+ee]=B);this.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(globalThis).join(","))}init(B){super.init(B),this.nameDB_?this.nameDB_.reset():this.nameDB_=new s.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(B.getVariableMap()),this.nameDB_.populateVariables(B),this.nameDB_.populateProcedures(B);const ee=[];var Ce=s.allDeveloperVariables$$module$build$src$core$variables(B);for(let je=0;je<Ce.length;je++)ee.push(this.nameDB_.getName(Ce[je],s.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));for(B=s.allUsedVarModels$$module$build$src$core$variables(B),Ce=0;Ce<B.length;Ce++)ee.push(this.nameDB_.getName(B[Ce].getId(),s.NameType$$module$build$src$core$names.VARIABLE));ee.length&&(this.definitions_.variables="var "+ee.join(", ")+";"),this.isInitialized=!0}finish(B){const ee=Object.values(this.definitions_);return super.finish(B),this.isInitialized=!1,this.nameDB_.reset(),ee.join(`

`)+`


`+B}scrubNakedValue(B){return B+`;
`}quote_(B){return B=B.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`).replace(/'/g,"\\'"),"'"+B+"'"}multiline_quote_(B){return B.split(/\n/g).map(this.quote_).join(` + '\\n' +
`)}scrub_(B,ee,Ce=!1){let je="";if(!B.outputConnection||!B.outputConnection.targetConnection){var Ft=B.getCommentText();Ft&&(Ft=s.wrap$$module$build$src$core$utils$string(Ft,this.COMMENT_WRAP-3),je+=this.prefixLines(Ft+`
`,"// "));for(let mn=0;mn<B.inputList.length;mn++)B.inputList[mn].type===s.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(Ft=B.inputList[mn].connection.targetBlock())&&(Ft=this.allNestedComments(Ft))&&(je+=this.prefixLines(Ft,"// "))}return B=B.nextConnection&&B.nextConnection.targetBlock(),Ce=Ce?"":this.blockToCode(B),je+ee+Ce}getAdjusted(B,ee,Ce=0,je=!1,Ft=D.NONE){B.workspace.options.oneBasedIndex&&Ce--;const mn=B.workspace.options.oneBasedIndex?"1":"0";let Bn=Ft;return Ce>0?Bn=D.ADDITION:Ce<0?Bn=D.SUBTRACTION:je&&(Bn=D.UNARY_NEGATION),B=this.valueToCode(B,ee,Bn)||mn,Ce===0&&!je?B:s.isNumber$$module$build$src$core$utils$string(B)?(B=String(Number(B)+Ce),je&&(B=String(-Number(B))),B):(Ce>0?B=`${B} + ${Ce}`:Ce<0&&(B=`${B} - ${-Ce}`),je&&(B=Ce?`-(${B})`:`-${B}`),Math.floor(Ft)>=Math.floor(Bn)&&(B=`(${B})`),B)}},Re=function(B,ee,Ce){return ee==="FIRST"?"0":ee==="FROM_END"?B+".length - 1 - "+Ce:ee==="LAST"?B+".length - 1":Ce},qe={};qe.lists_create_empty=a,qe.lists_create_with=c,qe.lists_getIndex=_,qe.lists_getSublist=S,qe.lists_indexOf=v,qe.lists_isEmpty=$,qe.lists_length=m,qe.lists_repeat=d,qe.lists_reverse=G,qe.lists_setIndex=T,qe.lists_sort=k,qe.lists_split=P;var ct={};ct.controls_if=X,ct.controls_ifelse=X,ct.logic_boolean=ie,ct.logic_compare=R,ct.logic_negate=te,ct.logic_null=se,ct.logic_operation=W,ct.logic_ternary=Y;var st={};st.controls_flow_statements=it,st.controls_for=De,st.controls_forEach=Ue,st.controls_repeat=fe,st.controls_repeat_ext=fe,st.controls_whileUntil=Ie;var At={};At.math_arithmetic=dt,At.math_atan2=_e,At.math_change=nt,At.math_constant=rt,At.math_constrain=de,At.math_modulo=Lt,At.math_number=ze,At.math_number_property=Pe,At.math_on_list=ot,At.math_random_float=et,At.math_random_int=Fe,At.math_round=Oe,At.math_single=Oe,At.math_trig=Oe;var Ot={};Ot.procedures_callnoreturn=qt,Ot.procedures_callreturn=$t,Ot.procedures_defnoreturn=Ct,Ot.procedures_defreturn=Ct,Ot.procedures_ifreturn=ln;var F=/^\s*'([^']|\\')*'\s*$/,$e=function(B){return F.test(B)?[B,D.ATOMIC]:["String("+B+")",D.FUNCTION_CALL]},Ye=function(B,ee,Ce){return ee==="FIRST"?"0":ee==="FROM_END"?B+".length - 1 - "+Ce:ee==="LAST"?B+".length - 1":Ce},We={};We.text=En,We.text_append=Ut,We.text_changeCase=Jn,We.text_charAt=Pn,We.text_count=lr,We.text_getSubstring=Cn,We.text_indexOf=Qt,We.text_isEmpty=Ge,We.text_join=St,We.text_length=fn,We.text_print=ri,We.text_prompt=Ai,We.text_prompt_ext=Ai,We.text_replace=ls,We.text_reverse=fi,We.text_trim=cn;var Ht={};Ht.variables_get=ar,Ht.variables_set=Zn;var An={};An.variables_get_dynamic=ar,An.variables_set_dynamic=Zn;var Lr=new ue,ne=Object.assign({},qe,ct,st,At,Ot,We,Ht,An);for(const B in ne)Lr.forBlock[B]=ne[B];var Se={};return Se.JavascriptGenerator=ue,Se.Order=D,Se.javascriptGenerator=Lr,Se.__namespace__=s,Se})})(t5)),t5.exports}var yI=bI();const _I=l0(yI),{JavascriptGenerator:xee,Order:See,javascriptGenerator:Ln}=_I,Ib="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIj48Y2lyY2xlIGN4PSIxMCIgY3k9IjEwIiByPSIzIiBmaWxsPSJ3aGl0ZSIvPjxjaXJjbGUgY3g9IjEwIiBjeT0iMTAiIHI9IjEwIiBmaWxsPSJub25lIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIG9wYWNpdHk9IjAuNSI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgZnJvbT0iMyIgdG89IjEwIiBkdXI9IjEuNXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIi8+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgZnJvbT0iMSIgdG89IjAiIGR1cj0iMS41cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiLz48L2NpcmNsZT48L3N2Zz4=";let Mb=!1;const r9=()=>{if(Mb)return;Mb=!0,console.log(" Enregistrement global des blocs (V6)..."),Cb([{type:"maze_move_forward",message0:"Avancer ",previousStatement:null,nextStatement:null,colour:160},{type:"maze_turn",message0:"Pivoter %1 ",args0:[{type:"field_dropdown",name:"DIR",options:[[" gauche ","LEFT"],[" droite ","RIGHT"]]}],previousStatement:null,nextStatement:null,colour:160},{type:"maze_forever",message0:"Rpter jusqu'  %1",args0:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:120},{type:"maze_if",message0:"Si chemin %1 %2 %3 faire %4",args0:[{type:"field_dropdown",name:"DIR",options:[["devant ","AHEAD"],[" gauche ","LEFT"],[" droite ","RIGHT"]]},{type:"field_image",src:Ib,width:15,height:15,alt:"Radar"},{type:"input_dummy"},{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:210},{type:"maze_if_else",message0:"Si chemin %1 %2 %3 faire %4 sinon %5",args0:[{type:"field_dropdown",name:"DIR",options:[["devant ","AHEAD"],[" gauche ","LEFT"],[" droite ","RIGHT"]]},{type:"field_image",src:Ib,width:15,height:15,alt:"Radar"},{type:"input_dummy"},{type:"input_statement",name:"DO"},{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,colour:210},{type:"turtle_move",message0:"avancer  de %1 pas",args0:[{type:"input_value",name:"VALUE",check:"Number"}],previousStatement:null,nextStatement:null,colour:160},{type:"turtle_turn",message0:"pivoter %1 de %2 degrs ",args0:[{type:"field_dropdown",name:"DIR",options:[[" gauche","LEFT"],[" droite","RIGHT"]]},{type:"input_value",name:"VALUE",check:"Number"}],previousStatement:null,nextStatement:null,colour:160},{type:"turtle_pen",message0:"stylo %1",args0:[{type:"field_dropdown",name:"STATE",options:[["lev ","UP"],["baiss ","DOWN"]]}],previousStatement:null,nextStatement:null,colour:160},{type:"turtle_color",message0:"couleur %1",args0:[{type:"field_colour",name:"COLOR",colour:"#ff0000"}],previousStatement:null,nextStatement:null,colour:160},{type:"text_print",message0:"afficher %1",args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,colour:160}]),Ln.forBlock.maze_move_forward=n=>`actions.push({type: "MOVE", id: "${n.id}"}); api.move();
`,Ln.forBlock.maze_turn=n=>`actions.push({type: "TURN_${n.getFieldValue("DIR")}", id: "${n.id}"}); api.turn('${n.getFieldValue("DIR")}');
`,Ln.forBlock.maze_forever=n=>`while (!api.isDone() && api.safeCheck()) { actions.push({type: "LOOP_CHECK", id: "${n.id}"}); ${Ln.statementToCode(n,"DO")} }
`,Ln.forBlock.maze_if=n=>`actions.push({type: "SCAN", dir: "${n.getFieldValue("DIR")}", id: "${n.id}"}); if (api.isPath('${n.getFieldValue("DIR")}')) {
${Ln.statementToCode(n,"DO")}}
`,Ln.forBlock.maze_if_else=n=>`actions.push({type: "SCAN", dir: "${n.getFieldValue("DIR")}", id: "${n.id}"}); if (api.isPath('${n.getFieldValue("DIR")}')) {
${Ln.statementToCode(n,"DO")}} else {
${Ln.statementToCode(n,"ELSE")}}
`,Ln.forBlock.turtle_move=n=>`actions.push({type: 'MOVE', id: "${n.id}", dist: ${Ln.valueToCode(n,"VALUE",Ln.ORDER_ATOMIC)||"0"}});
`,Ln.forBlock.turtle_turn=n=>`actions.push({type: 'TURN', id: "${n.id}", angle: ${n.getFieldValue("DIR")==="LEFT"?"-":""}${Ln.valueToCode(n,"VALUE",Ln.ORDER_ATOMIC)||"0"}});
`,Ln.forBlock.turtle_pen=n=>`actions.push({type: 'PEN', id: "${n.id}", state: '${n.getFieldValue("STATE")}'});
`,Ln.forBlock.turtle_color=n=>`actions.push({type: 'COLOR', id: "${n.id}", color: '${n.getFieldValue("COLOR")}'});
`,Ln.forBlock.variables_set=n=>`try { ${n.getField("VAR").getText()} = ${Ln.valueToCode(n,"VALUE",Ln.ORDER_ATOMIC)||"0"}; actions.push({type: 'SET', id: "${n.id}", var: '${n.getField("VAR").getText()}', val: ${n.getField("VAR").getText()}}); } catch(e) { console.error(e); }
`,Ln.forBlock.text_print=n=>`actions.push({type: 'PRINT', id: "${n.id}", msg: ${Ln.valueToCode(n,"TEXT",Ln.ORDER_NONE)||"''"}});
`,Sb.system_var_get||(Sb.system_var_get={init:function(){this.jsonInit({message0:"%1",args0:[{type:"field_label_serializable",name:"VAR_NAME",text:"VAR"}],output:null,colour:60,editable:!1})}}),Ln.forBlock.system_var_get=n=>[n.getField("VAR_NAME").getText(),Ln.ORDER_ATOMIC],Cb([{type:"equation_op_both",message0:"Aux deux cts %1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["Ajouter +","ADD"],["Soustraire -","SUB"],["Multiplier ","MUL"],["Diviser /","DIV"]]},{type:"input_value",name:"VAL"}],previousStatement:null,nextStatement:null,colour:230,tooltip:"Applique une opration aux deux membres de l'quation"},{type:"equation_term_x",message0:"%1 x",args0:[{type:"field_number",name:"COEFF",value:1,precision:1}],output:null,colour:230,tooltip:"Reprsente une inconnue (ex: 2x, -x...)"},{type:"equation_verify",message0:"Vrifier si x = %1",args0:[{type:"input_value",name:"VAL",check:"Number"}],previousStatement:null,nextStatement:null,colour:100,tooltip:"Remplace x par cette valeur pour voir si l'galit est vraie"},{type:"equation_solution_state",message0:"Conclusion : %1",args0:[{type:"field_dropdown",name:"STATE",options:[["Pas de solution ","NO_SOLUTION"],["Infinit de solutions (Tout x)","INFINITE"]]}],previousStatement:null,nextStatement:null,colour:100,tooltip:"Utiliser quand l'quation est impossible (ex: 3=6) ou toujours vraie (ex: 4=4)"}]),Ln.forBlock.equation_op_both=n=>{const r=n.getFieldValue("OP"),s=Ln.valueToCode(n,"VAL",Ln.ORDER_ATOMIC)||"0";return`actions.push({ type: 'OP_BOTH', operator: '${{ADD:"+",SUB:"-",MUL:"*",DIV:"/"}[r]}', value: ${s} });
`},Ln.forBlock.equation_term_x=n=>[`"${n.getFieldValue("COEFF")}*x"`,Ln.ORDER_ATOMIC],Ln.forBlock.equation_verify=n=>`actions.push({ type: 'VERIFY', value: ${Ln.valueToCode(n,"VAL",Ln.ORDER_ATOMIC)||"0"} });
`,Ln.forBlock.equation_solution_state=n=>`actions.push({ type: 'DECLARE_SOLUTION', kind: '${n.getFieldValue("STATE")}' });
`;const t=(n,r)=>{const s=n.getFieldValue("WHERE")||"FROM_START";let a="0";switch(s){case"FIRST":a="0";break;case"LAST":a=`${r}.length - 1`;break;case"FROM_START":a=String(Ln.valueToCode(n,"AT",Ln.ORDER_NONE)||"1").match(/^\d+$/)?parseInt(Ln.valueToCode(n,"AT",Ln.ORDER_NONE)||"1",10)-1:`(${Ln.valueToCode(n,"AT",Ln.ORDER_NONE)||"1"} - 1)`;break;case"FROM_END":a=`${r}.length - ${Ln.valueToCode(n,"AT",Ln.ORDER_NONE)||"1"}`;break;case"RANDOM":a=`Math.floor(Math.random() * ${r}.length)`;break}return a};Ln.forBlock.lists_create_with=n=>{const r=new Array(n.itemCount_);for(let s=0;s<n.itemCount_;s++)r[s]=Ln.valueToCode(n,"ADD"+s,Ln.ORDER_NONE)||"0";return["["+r.join(", ")+"]",Ln.ORDER_ATOMIC]},Ln.forBlock.lists_getIndex=n=>[`${Ln.valueToCode(n,"VALUE",Ln.ORDER_MEMBER)||"[]"}[${t(n,Ln.valueToCode(n,"VALUE",Ln.ORDER_MEMBER)||"[]")}]`,Ln.ORDER_MEMBER],Ln.forBlock.lists_setIndex=n=>`${Ln.valueToCode(n,"LIST",Ln.ORDER_MEMBER)||"[]"}[${t(n,Ln.valueToCode(n,"LIST",Ln.ORDER_MEMBER)||"[]")}] = ${Ln.valueToCode(n,"TO",Ln.ORDER_ASSIGNMENT)||"null"};
actions.push({type: 'SET', id: "${n.id}", var: '${Ln.valueToCode(n,"LIST",Ln.ORDER_MEMBER)||"[]"}', val: ${Ln.valueToCode(n,"LIST",Ln.ORDER_MEMBER)||"[]"}});
`,Ln.forBlock.lists_length=n=>[`${Ln.valueToCode(n,"VALUE",Ln.ORDER_MEMBER)||"[]"}.length`,Ln.ORDER_MEMBER]},y3={maze_move_forward:'<block type="maze_move_forward"></block>',maze_forever:'<block type="maze_forever"></block>',maze_if:'<block type="maze_if"></block>',maze_if_else:'<block type="maze_if_else"></block>',maze_turn:'<block type="maze_turn"><field name="DIR">LEFT</field></block><block type="maze_turn"><field name="DIR">RIGHT</field></block>',turtle_move:'<block type="turtle_move"><value name="VALUE"><shadow type="math_number"><field name="NUM">50</field></shadow></value></block>',turtle_turn:'<block type="turtle_turn"><value name="VALUE"><shadow type="math_number"><field name="NUM">90</field></shadow></value></block>',turtle_pen:'<block type="turtle_pen"><field name="STATE">UP</field></block><block type="turtle_pen"><field name="STATE">DOWN</field></block>',turtle_color:'<block type="turtle_color"><field name="COLOR">#ff0000</field></block>',equation_op_both:'<block type="equation_op_both"><value name="VAL"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block>',equation_term_x:'<block type="equation_term_x"><field name="COEFF">1</field></block>',equation_verify:'<block type="equation_verify"><value name="VAL"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block>',equation_solution_state:'<block type="equation_solution_state"></block>',controls_repeat_ext:'<block type="controls_repeat_ext"><value name="TIMES"><shadow type="math_number"><field name="NUM">5</field></shadow></value></block>',controls_whileUntil:'<block type="controls_whileUntil"></block>',controls_if:'<block type="controls_if"></block>',logic_compare:'<block type="logic_compare"></block>',logic_operation:'<block type="logic_operation"></block>',math_number:'<block type="math_number"></block>',math_arithmetic:'<block type="math_arithmetic"><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block>',math_modulo:'<block type="math_modulo"><value name="DIVIDEND"><shadow type="math_number"><field name="NUM">10</field></shadow></value><value name="DIVISOR"><shadow type="math_number"><field name="NUM">2</field></shadow></value></block>',math_random_int:'<block type="math_random_int"><value name="FROM"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="TO"><shadow type="math_number"><field name="NUM">100</field></shadow></value></block>',lists_create_with:'<block type="lists_create_with"><mutation items="3"></mutation></block>',lists_getIndex:'<block type="lists_getIndex"></block>',lists_setIndex:'<block type="lists_setIndex"></block>',lists_length:'<block type="lists_length"></block>',text_print:'<block type="text_print"></block>',text_prompt_ext:'<block type="text_prompt_ext"><value name="TEXT"><shadow type="text"><field name="TEXT">?</field></shadow></value></block>',variables_get:'<block type="variables_get"></block>',variables_set:'<block type="variables_set"></block>'},TI={maze_move_forward:"Avancer ",maze_turn:"Pivoter ",maze_if:"Si chemin... ",maze_if_else:"Si... Sinon... ",maze_forever:"Rpter jusqu' ",turtle_move:"Avancer ",turtle_turn:"Pivoter ",turtle_pen:"Stylo ",turtle_color:"Couleur ",controls_repeat_ext:"Rpter N fois",controls_whileUntil:"Rpter tant que",controls_if:"Si... Alors",logic_compare:"Comparaison",logic_operation:"Oprateur",math_number:"Nombre",math_arithmetic:"Calcul",math_modulo:"Reste",math_random_int:"Alatoire",text_print:"Afficher",text_prompt_ext:"Demander",lists_create_with:"Crer liste",lists_getIndex:"Lire lment",lists_setIndex:"Modifier lment",lists_length:"Longueur liste",variables_set:"Dfinir variable",variables_get:"Lire variable",equation_op_both:"Opration quation",equation_term_x:"Terme X (ax)",equation_verify:"Vrifier si x = ?",equation_solution_state:"Conclure sur les solutions"},qE={MAZE:["Mouvements","Capteurs","Logique"],TURTLE:["Tortue","Logique","Mathmatiques","Variables"],MATH:["Mathmatiques","Listes","Variables","Interactions","Logique"],EQUATION:["Algbre"]},dm={Mouvements:["maze_move_forward","maze_turn"],Capteurs:["maze_if","maze_if_else","maze_forever"],Tortue:["turtle_move","turtle_turn","turtle_pen","turtle_color"],Logique:["controls_repeat_ext","controls_whileUntil","controls_if","logic_compare","logic_operation"],Mathmatiques:["math_number","math_arithmetic","math_modulo","math_random_int"],Listes:["lists_create_with","lists_getIndex","lists_setIndex","lists_length"],Variables:["variables_set"],Interactions:["text_print","text_prompt_ext"],Algbre:["equation_op_both","equation_term_x","equation_verify","equation_solution_state","math_number"]},xm=(t,n,r=[],s=[])=>WE(t,n,r,s),EI=(t,n,r=[],s=[])=>{const a=qE[t]||[];let c=[];return a.forEach(d=>{dm[d]&&(c=[...c,...dm[d]])}),WE(c,n,r,s,!0)},WE=(t,n,r,s,a=!1)=>{let c="",d=new Set(t||[]);const m=(t||[]).length,$=a||m>=6;let v=!1,_="";if(n&&Object.keys(n).length>0){const S=Object.keys(n).filter(k=>!r.includes(k));S.length>0&&(S.forEach(k=>{s.includes(k)?_+=`<block type="system_var_get"><field name="VAR_NAME">${k}</field></block>`:(_+=`<block type="variables_get"><field name="VAR">${k}</field></block>`,d.has("variables_set")&&(_+=`<block type="variables_set"><field name="VAR">${k}</field></block>`))}),_&&($?(c+=`<category name="Variables" colour="330">${_}</category>`,v=!0):c+=_,_="",d.delete("variables_set"),d.delete("variables_get")))}Object.entries(dm).forEach(([S,k])=>{const P=k.filter(X=>d.has(X));if(P.length===0&&!a)return;const G=a?k:P;if(G.length>0){let X="";if(G.forEach(R=>{y3[R]&&(X+=y3[R],d.delete(R))}),$){let R="0";S==="Mouvements"&&(R="120"),S==="Tortue"&&(R="160"),S==="Logique"&&(R="210"),S==="Mathmatiques"&&(R="230"),S==="Listes"&&(R="260"),S==="Interactions"&&(R="160"),S==="Algbre"&&(R="290"),c+=`<category name="${S}" colour="${R}">${X}</category>`,v=!0}else c+=X}});let T=_;return d.forEach(S=>{y3[S]&&(T+=y3[S])}),v?T&&(c+=`<category name=" Divers" colour="0">${T}</category>`):c+=T,{xml:`<xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">${c}</xml>`,hasCategories:v}};function wI({levelData:t,onUpdate:n}){const r=vn.useRef(null),[s,a]=vn.useState("START"),[c,d]=vn.useState(!1);vn.useEffect(()=>{const R=setTimeout(()=>{try{r9(),d(!0)}catch(W){console.error(W)}},10);return()=>clearTimeout(R)},[]);const m={scrollbars:!0,trashcan:!0,readOnly:!1,zoom:{controls:!0,wheel:!0,startScale:.9}},$=t.type||"MAZE",v=vn.useMemo(()=>xm(t.allowedBlocks,t.inputs,t.hiddenVars,t.lockedVars),[t.allowedBlocks,t.inputs,t.hiddenVars,t.lockedVars]),_=vn.useMemo(()=>EI($,t.inputs,t.hiddenVars,t.lockedVars),[$,t.inputs,t.hiddenVars,t.lockedVars]),T=s==="SOLUTION"?_:v,S=`${t.id}-${$}-${s}-${T.hasCategories?"CAT":"FLY"}`,k=R=>{r.current=R,window.setTimeout(()=>dg(R),0)};vn.useEffect(()=>{r.current&&c&&r.current.updateToolbox(T.xml)},[T,c]);const P=R=>{const W=t.allowedBlocks||[],te=W.includes(R)?W.filter(ie=>ie!==R):[...W,R];n({...t,allowedBlocks:te})},G=R=>{const W=dm[R]||[],te=t.allowedBlocks||[],se=W.every(Y=>te.includes(Y))?te.filter(Y=>!W.includes(Y)):[...te,...W.filter(Y=>!te.includes(Y))];n({...t,allowedBlocks:se})},X=qE[$]||[];return c?ge.jsxs("div",{className:"flex flex-col h-full gap-4",children:[ge.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 h-[55%] min-h-[400px]",children:[ge.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden relative flex flex-col",children:[$==="MAZE"&&ge.jsx(VA,{levelData:t,onUpdate:n}),$==="TURTLE"&&ge.jsx(qA,{levelData:t,onUpdate:n}),$==="MATH"&&ge.jsx(GA,{levelData:t,onUpdate:n}),$==="EQUATION"&&ge.jsx(YA,{levelData:t,onUpdate:n})]}),ge.jsxs("div",{className:"w-full lg:w-80 flex-shrink-0 bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col overflow-hidden",children:[ge.jsx("div",{className:"p-3 border-b border-slate-100 bg-slate-50/50",children:ge.jsxs("h4",{className:"m-0 text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[ge.jsx("span",{children:""})," Configuration"]})}),ge.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar space-y-5",children:[ge.jsxs("div",{children:[ge.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase",children:"Consigne"}),ge.jsx("textarea",{value:t.instruction||"",onChange:R=>n({...t,instruction:R.target.value}),className:"w-full h-24 p-2 text-sm text-slate-700 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none bg-slate-50 focus:bg-white",placeholder:"Instructions en Markdown..."})]}),ge.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100 flex justify-between items-center",children:[ge.jsx("label",{className:"text-xs font-bold text-emerald-600",children:" Objectif (Par)"}),ge.jsxs("div",{className:"flex items-center gap-2",children:[ge.jsx("input",{type:"number",min:"1",value:t.maxBlocks||5,onChange:R=>n({...t,maxBlocks:parseInt(R.target.value)}),className:"w-14 p-1 text-center font-bold text-sm text-slate-700 border border-slate-200 rounded focus:ring-2 focus:ring-emerald-500"}),ge.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"blocs"})]})]}),ge.jsxs("div",{children:[ge.jsx("h4",{className:"text-[10px] font-bold text-slate-400 mb-2 uppercase border-t border-slate-100 pt-3",children:" Blocs autoriss"}),ge.jsx("div",{className:"space-y-1",children:X.map(R=>{const W=dm[R]||[],te=t.allowedBlocks||[],ie=W.every(Y=>te.includes(Y)),se=W.some(Y=>te.includes(Y))&&!ie;return R==="Variables"&&(!t.inputs||Object.keys(t.inputs).length===0)?null:ge.jsxs("details",{open:ie||se,className:"group border border-slate-100 rounded-lg overflow-hidden bg-white",children:[ge.jsxs("summary",{className:"flex items-center justify-between p-2 bg-slate-50/80 cursor-pointer select-none hover:bg-slate-100",children:[ge.jsx("span",{className:"text-xs font-bold text-slate-600",children:R}),ge.jsx("input",{type:"checkbox",checked:ie,ref:Y=>{Y&&(Y.indeterminate=se)},onChange:Y=>{Y.stopPropagation(),G(R)},className:"w-3.5 h-3.5 rounded text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"})]}),ge.jsx("div",{className:"p-2 space-y-1",children:W.map(Y=>ge.jsx("div",{className:"flex items-center hover:bg-blue-50/50 p-1 rounded transition-colors",children:ge.jsxs("label",{className:"flex-1 cursor-pointer flex items-center text-[11px] text-slate-500 gap-2",children:[ge.jsx("input",{type:"checkbox",checked:te.includes(Y),onChange:()=>P(Y),className:"w-3.5 h-3.5 rounded text-blue-600 focus:ring-blue-500 border-gray-300"}),TI[Y]||Y]})},Y))})]},R)})})]})]})]})]}),ge.jsxs("div",{className:"flex-1 flex flex-col bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden min-h-[300px]",children:[ge.jsx("div",{className:"flex border-b border-slate-100 bg-slate-50",children:[{id:"START",label:" Code lve (Dpart)",color:"blue"},{id:"SOLUTION",label:" Solution Prof",color:"emerald"}].map(R=>ge.jsx("button",{onClick:()=>a(R.id),className:`
                        flex-1 py-2 text-xs font-bold uppercase tracking-wider transition-all
                        ${s===R.id?`text-${R.color}-600 bg-white border-t-2 border-${R.color}-500`:"text-slate-400 hover:text-slate-600 hover:bg-slate-100"}
                    `,children:R.label},R.id))}),ge.jsx("div",{className:`flex-1 relative ${s==="SOLUTION"?"bg-emerald-50/30":"bg-white"}`,children:ge.jsx("div",{className:"absolute inset-0 blockly-container-custom",children:ge.jsx(n9,{className:"blockly-div w-full h-full",toolboxConfiguration:T.xml,workspaceConfiguration:m,initialXml:s==="START"?t.startBlocks||"<xml></xml>":t.solutionBlocks||"<xml></xml>",onXmlChange:R=>{n(s==="START"?{...t,startBlocks:R}:{...t,solutionBlocks:R})},onInject:k},S)})})]})]}):ge.jsx("div",{className:"p-10 text-center text-slate-400 animate-pulse",children:"Chargement..."})}const _3=[{id:"MAZE",label:"Labyrinthe",icon:"",defaultBlocks:["maze_move_forward","maze_turn","maze_forever","maze_if"]},{id:"TURTLE",label:"Tortue",icon:"",defaultBlocks:["turtle_move","turtle_turn","turtle_pen","turtle_color","controls_repeat_ext"]},{id:"MATH",label:"Labo",icon:"",defaultBlocks:["variables_set","math_number","math_arithmetic","text_print"]},{id:"EQUATION",label:"quation",icon:"",defaultBlocks:["equation_op_both","math_number"]}],xI={MAZE:"",TURTLE:"",MATH:"",EQUATION:""};function SI(){const[t,n]=vn.useState(()=>{const te=localStorage.getItem("blokaly_builder_autosave");if(te)try{return JSON.parse(te)}catch(ie){console.error(ie)}return{title:"Ma Nouvelle Campagne",levels:[{id:1,type:"MAZE",grid:Vl.defaultGrid,startPos:{x:1,y:1},maxBlocks:5,allowedBlocks:_3[0].defaultBlocks}]}}),[r,s]=vn.useState(0),a=vn.useRef(null),c=vn.useRef(null),d=vn.useRef(null);vn.useEffect(()=>{localStorage.setItem("blokaly_builder_autosave",JSON.stringify(t))},[t]);const m=te=>{const ie=[...t.levels];ie[r]=te,n({...t,levels:ie})},$=te=>{const ie=t.levels[r];if(ie.type===te)return;const se=_3.find(fe=>fe.id===te);let Y={};te==="MAZE"?Y={grid:Vl.defaultGrid,startPos:{x:1,y:1,dir:1},maxBlocks:10}:te==="TURTLE"?Y={startPos:{x:0,y:0,dir:0},maxBlocks:10,grid:void 0}:te==="MATH"?Y={maxBlocks:20,startPos:void 0}:te==="EQUATION"&&(Y={equation:{a:2,b:4,c:0,d:10,lhs:"2*x+4",rhs:"10"},maxBlocks:5}),confirm(`Passer en mode ${se.label} ? Cela rinitialisera ce niveau.`)&&m({...ie,type:te,allowedBlocks:se.defaultBlocks,startBlocks:"<xml></xml>",solutionBlocks:"<xml></xml>",...Y})},v=(te,ie)=>{a.current=ie},_=(te,ie)=>{c.current=ie,te.preventDefault()},T=()=>{const te=a.current,ie=c.current;if(te!==null&&ie!==null&&te!==ie){const se=[...t.levels],Y=se[te];se.splice(te,1),se.splice(ie,0,Y),n({...t,levels:se}),s(ie)}a.current=null,c.current=null},S=()=>{const te=_3[0],ie={id:Date.now(),type:te.id,grid:Vl.defaultGrid,startPos:{x:1,y:1},maxBlocks:10,allowedBlocks:te.defaultBlocks};n({...t,levels:[...t.levels,ie]}),s(t.levels.length)},k=te=>{const ie={...JSON.parse(JSON.stringify(t.levels[te])),id:Date.now()},se=[...t.levels];se.splice(te+1,0,ie),n({...t,levels:se}),s(te+1)},P=te=>{if(t.levels.length<=1)return alert("Impossible de supprimer le dernier niveau !");const ie=t.levels.filter((se,Y)=>Y!==te);n({...t,levels:ie}),te<=r&&s(Math.max(0,r-1))},G=()=>{const te=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),ie=document.createElement("a");ie.href=URL.createObjectURL(te),ie.download=`${t.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.blokaly.json`,ie.click()},X=te=>{const ie=te.target.files[0];if(!ie)return;const se=new FileReader;se.onload=Y=>{try{const fe=JSON.parse(Y.target.result);if(!fe.levels||!Array.isArray(fe.levels))throw new Error("Format invalide (pas de niveaux)");confirm(`Charger la campagne "${fe.title||"Sans titre"}" ?`)&&(n(fe),s(0))}catch(fe){alert("Erreur lors du chargement : "+fe.message)}},se.readAsText(ie),te.target.value=null},R=()=>{const te=new URL(window.location.href);te.search=`?data=${UE.compressToEncodedURIComponent(JSON.stringify(t))}&preview=1`,window.open(te.toString(),"_blank")},W=t.levels[r];return ge.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-50 font-sans",children:[ge.jsxs("div",{className:"w-64 bg-slate-900 text-white flex flex-col border-r border-slate-800 flex-shrink-0 z-20",children:[ge.jsxs("div",{className:"p-6 bg-slate-950 border-b border-slate-800",children:[ge.jsx("label",{className:"text-xs uppercase font-bold text-slate-500 tracking-wider mb-1 block",children:"Campagne"}),ge.jsx("input",{type:"text",value:t.title,onChange:te=>n({...t,title:te.target.value}),className:"bg-transparent border-none text-lg font-bold text-white w-full focus:ring-0 placeholder-slate-600 p-0",placeholder:"Titre..."})]}),ge.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-1",children:t.levels.map((te,ie)=>ge.jsxs("div",{draggable:!0,onDragStart:se=>v(se,ie),onDragEnter:se=>_(se,ie),onDragEnd:T,onDragOver:se=>se.preventDefault(),onClick:()=>s(ie),className:`group flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all border border-transparent ${ie===r?"bg-blue-600 text-white shadow-md":"text-slate-400 hover:bg-slate-800"}`,children:[ge.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[ge.jsx("span",{className:"cursor-grab opacity-50",children:""}),ge.jsx("span",{className:"text-lg",children:xI[te.type]||""}),ge.jsxs("span",{className:"truncate text-sm font-medium",children:["Niveau ",ie+1]})]}),ge.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100",children:[ge.jsx("button",{onClick:se=>{se.stopPropagation(),k(ie)},className:"p-1 hover:bg-white/20 rounded",title:"Dupliquer",children:""}),t.levels.length>1&&ge.jsx("button",{onClick:se=>{se.stopPropagation(),P(ie)},className:"p-1 hover:bg-red-500/20 text-red-400 rounded",title:"Supprimer",children:""})]})]},te.id))}),ge.jsxs("div",{className:"p-4 bg-slate-950 border-t border-slate-800 flex flex-col gap-2",children:[ge.jsxs("button",{onClick:S,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded font-bold text-xs flex justify-center gap-2",children:[ge.jsx("span",{children:"+"})," Nouveau Niveau"]}),ge.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[ge.jsx("button",{onClick:G,className:"py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded text-xs transition-colors",children:" Export"}),ge.jsx("button",{onClick:()=>d.current.click(),className:"py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded text-xs transition-colors",children:" Import"})]}),ge.jsx("input",{type:"file",ref:d,className:"hidden",onChange:X,accept:".json"})]})]}),ge.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[ge.jsxs("div",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 shadow-sm z-10 shrink-0",children:[ge.jsxs("div",{className:"flex items-center gap-6",children:[ge.jsxs("h2",{className:"text-lg font-bold text-slate-700 whitespace-nowrap",children:["Niveau ",r+1]}),ge.jsx("div",{className:"flex bg-slate-100 p-1 rounded-lg border border-slate-200",children:_3.map(te=>{const ie=W?.type===te.id;return ge.jsxs("button",{onClick:()=>$(te.id),className:`
                                flex items-center gap-2 px-3 py-1.5 rounded-md text-xs font-bold transition-all
                                ${ie?"bg-white text-blue-600 shadow-sm ring-1 ring-black/5":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"}
                            `,children:[ge.jsx("span",{children:te.icon}),ge.jsx("span",{className:"hidden xl:inline",children:te.label})]},te.id)})})]}),ge.jsx("button",{onClick:R,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-bold text-xs shadow transition-all flex items-center gap-2",children:" TESTER"})]}),ge.jsx("div",{className:"flex-1 overflow-hidden p-6 bg-slate-50",children:W?ge.jsx(wI,{levelData:W,onUpdate:m},W.id):ge.jsx("div",{className:"flex h-full items-center justify-center text-slate-400",children:"Slectionnez un niveau..."})})]})]})}var n5={exports:{}},kI=n5.exports,Nb;function CI(){return Nb||(Nb=1,(function(t,n){(function(r,s){t.exports=s(wm())})(kI,function(r){var s=r.__namespace__,a=function(ne,Se){return["[]",D.ATOMIC]},c=function(ne,Se){const B=Array(ne.itemCount_);for(let ee=0;ee<ne.itemCount_;ee++)B[ee]=Se.valueToCode(ne,"ADD"+ee,D.NONE)||"None";return["["+B.join(", ")+"]",D.ATOMIC]},d=function(ne,Se){const B=Se.valueToCode(ne,"ITEM",D.NONE)||"None";return ne=Se.valueToCode(ne,"NUM",D.MULTIPLICATIVE)||"0",["["+B+"] * "+ne,D.MULTIPLICATIVE]},m=function(ne,Se){return["len("+(Se.valueToCode(ne,"VALUE",D.NONE)||"[]")+")",D.FUNCTION_CALL]},$=function(ne,Se){return["not len("+(Se.valueToCode(ne,"VALUE",D.NONE)||"[]")+")",D.LOGICAL_NOT]},v=function(ne,Se){const B=Se.valueToCode(ne,"FIND",D.NONE)||"[]",ee=Se.valueToCode(ne,"VALUE",D.NONE)||"''";let Ce=" -1",je="",Ft=" - 1";return ne.workspace.options.oneBasedIndex&&(Ce=" 0",je=" + 1",Ft=""),[(ne.getFieldValue("END")==="FIRST"?Se.provideFunction_("first_index",`
def ${Se.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):
  try: index = my_list.index(elem)${je}
  except: index =${Ce}
  return index
`):Se.provideFunction_("last_index",`
def ${Se.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):
  try: index = len(my_list) - my_list[::-1].index(elem)${Ft}
  except: index =${Ce}
  return index
`))+"("+ee+", "+B+")",D.FUNCTION_CALL]},_=function(ne,Se){const B=ne.getFieldValue("MODE")||"GET",ee=ne.getFieldValue("WHERE")||"FROM_START";var Ce=Se.valueToCode(ne,"VALUE",ee==="RANDOM"?D.NONE:D.MEMBER)||"[]";switch(ee){case"FIRST":if(B==="GET")return[Ce+"[0]",D.MEMBER];if(B==="GET_REMOVE")return[Ce+".pop(0)",D.FUNCTION_CALL];if(B==="REMOVE")return Ce+`.pop(0)
`;break;case"LAST":if(B==="GET")return[Ce+"[-1]",D.MEMBER];if(B==="GET_REMOVE")return[Ce+".pop()",D.FUNCTION_CALL];if(B==="REMOVE")return Ce+`.pop()
`;break;case"FROM_START":if(ne=Se.getAdjustedInt(ne,"AT"),B==="GET")return[Ce+"["+ne+"]",D.MEMBER];if(B==="GET_REMOVE")return[Ce+".pop("+ne+")",D.FUNCTION_CALL];if(B==="REMOVE")return Ce+".pop("+ne+`)
`;break;case"FROM_END":if(ne=Se.getAdjustedInt(ne,"AT",1,!0),B==="GET")return[Ce+"["+ne+"]",D.MEMBER];if(B==="GET_REMOVE")return[Ce+".pop("+ne+")",D.FUNCTION_CALL];if(B==="REMOVE")return Ce+".pop("+ne+`)
`;break;case"RANDOM":if(Se.definitions_.import_random="import random",B==="GET")return["random.choice("+Ce+")",D.FUNCTION_CALL];if(Ce=Se.provideFunction_("lists_remove_random_item",`
def ${Se.FUNCTION_NAME_PLACEHOLDER_}(myList):
  x = int(random.random() * len(myList))
  return myList.pop(x)
`)+"("+Ce+")",B==="GET_REMOVE")return[Ce,D.FUNCTION_CALL];if(B==="REMOVE")return Ce+`
`}throw Error("Unhandled combination (lists_getIndex).")},T=function(ne,Se){let B=Se.valueToCode(ne,"LIST",D.MEMBER)||"[]";const ee=ne.getFieldValue("MODE")||"GET";var Ce=ne.getFieldValue("WHERE")||"FROM_START";const je=Se.valueToCode(ne,"TO",D.NONE)||"None";switch(Ce){case"FIRST":if(ee==="SET")return B+"[0] = "+je+`
`;if(ee==="INSERT")return B+".insert(0, "+je+`)
`;break;case"LAST":if(ee==="SET")return B+"[-1] = "+je+`
`;if(ee==="INSERT")return B+".append("+je+`)
`;break;case"FROM_START":if(Se=Se.getAdjustedInt(ne,"AT"),ee==="SET")return B+"["+Se+"] = "+je+`
`;if(ee==="INSERT")return B+".insert("+Se+", "+je+`)
`;break;case"FROM_END":if(Se=Se.getAdjustedInt(ne,"AT",1,!0),ee==="SET")return B+"["+Se+"] = "+je+`
`;if(ee==="INSERT")return B+".insert("+Se+", "+je+`)
`;break;case"RANDOM":if(Se.definitions_.import_random="import random",B.match(/^\w+$/)?ne="":(ne=Se.nameDB_.getDistinctName("tmp_list",s.NameType$$module$build$src$core$names.VARIABLE),Ce=ne+" = "+B+`
`,B=ne,ne=Ce),Se=Se.nameDB_.getDistinctName("tmp_x",s.NameType$$module$build$src$core$names.VARIABLE),ne+=Se+" = int(random.random() * len("+B+`))
`,ee==="SET")return ne+(B+"["+Se+"] = "+je+`
`);if(ee==="INSERT")return ne+(B+".insert("+Se+", "+je+`)
`)}throw Error("Unhandled combination (lists_setIndex).")},S=function(ne,Se){const B=Se.valueToCode(ne,"LIST",D.MEMBER)||"[]";var ee=ne.getFieldValue("WHERE1");const Ce=ne.getFieldValue("WHERE2");switch(ee){case"FROM_START":ee=Se.getAdjustedInt(ne,"AT1"),ee===0&&(ee="");break;case"FROM_END":ee=Se.getAdjustedInt(ne,"AT1",1,!0);break;case"FIRST":ee="";break;default:throw Error("Unhandled option (lists_getSublist)")}switch(Ce){case"FROM_START":ne=Se.getAdjustedInt(ne,"AT2",1);break;case"FROM_END":ne=Se.getAdjustedInt(ne,"AT2",0,!0),s.isNumber$$module$build$src$core$utils$string(String(ne))?ne===0&&(ne=""):(Se.definitions_.import_sys="import sys",ne+=" or sys.maxsize");break;case"LAST":ne="";break;default:throw Error("Unhandled option (lists_getSublist)")}return[B+"["+ee+" : "+ne+"]",D.MEMBER]},k=function(ne,Se){const B=Se.valueToCode(ne,"LIST",D.NONE)||"[]",ee=ne.getFieldValue("TYPE");return ne=ne.getFieldValue("DIRECTION")==="1"?"False":"True",[Se.provideFunction_("lists_sort",`
def ${Se.FUNCTION_NAME_PLACEHOLDER_}(my_list, type, reverse):
  def try_float(s):
    try:
      return float(s)
    except:
      return 0
  key_funcs = {
    "NUMERIC": try_float,
    "TEXT": str,
    "IGNORE_CASE": lambda s: str(s).lower()
  }
  key_func = key_funcs[type]
  list_cpy = list(my_list)
  return sorted(list_cpy, key=key_func, reverse=reverse)
`)+"("+B+', "'+ee+'", '+ne+")",D.FUNCTION_CALL]},P=function(ne,Se){var B=ne.getFieldValue("MODE");if(B==="SPLIT")B=Se.valueToCode(ne,"INPUT",D.MEMBER)||"''",ne=Se.valueToCode(ne,"DELIM",D.NONE),ne=B+".split("+ne+")";else if(B==="JOIN")B=Se.valueToCode(ne,"INPUT",D.NONE)||"[]",ne=(Se.valueToCode(ne,"DELIM",D.MEMBER)||"''")+".join("+B+")";else throw Error("Unknown mode: "+B);return[ne,D.FUNCTION_CALL]},G=function(ne,Se){return["list(reversed("+(Se.valueToCode(ne,"LIST",D.NONE)||"[]")+"))",D.FUNCTION_CALL]},X=function(ne,Se){let B=0,ee="",Ce,je;Se.STATEMENT_PREFIX&&(ee+=Se.injectId(Se.STATEMENT_PREFIX,ne));do je=Se.valueToCode(ne,"IF"+B,D.NONE)||"False",Ce=Se.statementToCode(ne,"DO"+B)||Se.PASS,Se.STATEMENT_SUFFIX&&(Ce=Se.prefixLines(Se.injectId(Se.STATEMENT_SUFFIX,ne),Se.INDENT)+Ce),ee+=(B===0?"if ":"elif ")+je+`:
`+Ce,B++;while(ne.getInput("IF"+B));return(ne.getInput("ELSE")||Se.STATEMENT_SUFFIX)&&(Ce=ne.getInput("ELSE")&&Se.statementToCode(ne,"ELSE")||Se.PASS,Se.STATEMENT_SUFFIX&&(Ce=Se.prefixLines(Se.injectId(Se.STATEMENT_SUFFIX,ne),Se.INDENT)+Ce),ee+=`else:
`+Ce),ee},R=function(ne,Se){const B={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[ne.getFieldValue("OP")],ee=D.RELATIONAL,Ce=Se.valueToCode(ne,"A",ee)||"0";return ne=Se.valueToCode(ne,"B",ee)||"0",[Ce+" "+B+" "+ne,ee]},W=function(ne,Se){const B=ne.getFieldValue("OP")==="AND"?"and":"or",ee=B==="and"?D.LOGICAL_AND:D.LOGICAL_OR;let Ce=Se.valueToCode(ne,"A",ee);return ne=Se.valueToCode(ne,"B",ee),Ce||ne?(Se=B==="and"?"True":"False",Ce||(Ce=Se),ne||(ne=Se)):ne=Ce="False",[Ce+" "+B+" "+ne,ee]},te=function(ne,Se){return["not "+(Se.valueToCode(ne,"BOOL",D.LOGICAL_NOT)||"True"),D.LOGICAL_NOT]},ie=function(ne,Se){return[ne.getFieldValue("BOOL")==="TRUE"?"True":"False",D.ATOMIC]},se=function(ne,Se){return["None",D.ATOMIC]},Y=function(ne,Se){const B=Se.valueToCode(ne,"IF",D.CONDITIONAL)||"False",ee=Se.valueToCode(ne,"THEN",D.CONDITIONAL)||"None";return ne=Se.valueToCode(ne,"ELSE",D.CONDITIONAL)||"None",[ee+" if "+B+" else "+ne,D.CONDITIONAL]},fe=function(ne,Se){let B;B=ne.getField("TIMES")?String(parseInt(ne.getFieldValue("TIMES"),10)):Se.valueToCode(ne,"TIMES",D.NONE)||"0",B=s.isNumber$$module$build$src$core$utils$string(B)?parseInt(B,10):"int("+B+")";let ee=Se.statementToCode(ne,"DO");return ee=Se.addLoopTrap(ee,ne)||Se.PASS,"for "+Se.nameDB_.getDistinctName("count",s.NameType$$module$build$src$core$names.VARIABLE)+" in range("+B+`):
`+ee},Ie=function(ne,Se){const B=ne.getFieldValue("MODE")==="UNTIL";let ee=Se.valueToCode(ne,"BOOL",B?D.LOGICAL_NOT:D.NONE)||"False",Ce=Se.statementToCode(ne,"DO");return Ce=Se.addLoopTrap(Ce,ne)||Se.PASS,B&&(ee="not "+ee),"while "+ee+`:
`+Ce},De=function(ne,Se){const B=Se.getVariableName(ne.getFieldValue("VAR"));var ee=Se.valueToCode(ne,"FROM",D.NONE)||"0",Ce=Se.valueToCode(ne,"TO",D.NONE)||"0",je=Se.valueToCode(ne,"BY",D.NONE)||"1";let Ft=Se.statementToCode(ne,"DO");Ft=Se.addLoopTrap(Ft,ne)||Se.PASS;let mn="";ne=function(){return Se.provideFunction_("upRange",`
def ${Se.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):
  while start <= stop:
    yield start
    start += abs(step)
`)};const Bn=function(){return Se.provideFunction_("downRange",`
def ${Se.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):
  while start >= stop:
    yield start
    start -= abs(step)
`)};if(s.isNumber$$module$build$src$core$utils$string(ee)&&s.isNumber$$module$build$src$core$utils$string(Ce)&&s.isNumber$$module$build$src$core$utils$string(je))ee=Number(ee),Ce=Number(Ce),je=Math.abs(Number(je)),ee%1===0&&Ce%1===0&&je%1===0?(ee<=Ce?(Ce++,ne=ee===0&&je===1?Ce:ee+", "+Ce,je!==1&&(ne+=", "+je)):(Ce--,ne=ee+", "+Ce+", -"+je),ne="range("+ne+")"):(ne=ee<Ce?ne():Bn(),ne+="("+ee+", "+Ce+", "+je+")");else{const $r=function(Os,as){return s.isNumber$$module$build$src$core$utils$string(Os)?Os=String(Number(Os)):Os.match(/^\w+$/)||(as=Se.nameDB_.getDistinctName(B+as,s.NameType$$module$build$src$core$names.VARIABLE),mn+=as+" = "+Os+`
`,Os=as),Os};ee=$r(ee,"_start"),Ce=$r(Ce,"_end"),je=$r(je,"_inc"),typeof ee=="number"&&typeof Ce=="number"?(ne=ee<Ce?ne():Bn(),ne+="("+ee+", "+Ce+", "+je+")"):ne="("+ee+" <= "+Ce+") and "+ne()+"("+ee+", "+Ce+", "+je+") or "+Bn()+"("+ee+", "+Ce+", "+je+")"}return mn+="for "+B+" in "+ne+`:
`+Ft},Ue=function(ne,Se){const B=Se.getVariableName(ne.getFieldValue("VAR")),ee=Se.valueToCode(ne,"LIST",D.RELATIONAL)||"[]";let Ce=Se.statementToCode(ne,"DO");return Ce=Se.addLoopTrap(Ce,ne)||Se.PASS,"for "+B+" in "+ee+`:
`+Ce},it=function(ne,Se){let B="";if(Se.STATEMENT_PREFIX&&(B+=Se.injectId(Se.STATEMENT_PREFIX,ne)),Se.STATEMENT_SUFFIX&&(B+=Se.injectId(Se.STATEMENT_SUFFIX,ne)),Se.STATEMENT_PREFIX){const ee=ne.getSurroundLoop();ee&&!ee.suppressPrefixSuffix&&(B+=Se.injectId(Se.STATEMENT_PREFIX,ee))}switch(ne.getFieldValue("FLOW")){case"BREAK":return B+`break
`;case"CONTINUE":return B+`continue
`}throw Error("Unknown flow statement.")},ze=function(ne,Se){return ne=Number(ne.getFieldValue("NUM")),ne===1/0?['float("inf")',D.FUNCTION_CALL]:ne===-1/0?['-float("inf")',D.UNARY_SIGN]:[String(ne),ne<0?D.UNARY_SIGN:D.ATOMIC]},dt=function(ne,Se){var B={ADD:[" + ",D.ADDITIVE],MINUS:[" - ",D.ADDITIVE],MULTIPLY:[" * ",D.MULTIPLICATIVE],DIVIDE:[" / ",D.MULTIPLICATIVE],POWER:[" ** ",D.EXPONENTIATION]}[ne.getFieldValue("OP")];const ee=B[0];B=B[1];const Ce=Se.valueToCode(ne,"A",B)||"0";return ne=Se.valueToCode(ne,"B",B)||"0",[Ce+ee+ne,B]},Oe=function(ne,Se){const B=ne.getFieldValue("OP");let ee;if(B==="NEG")return ee=Se.valueToCode(ne,"NUM",D.UNARY_SIGN)||"0",["-"+ee,D.UNARY_SIGN];switch(Se.definitions_.import_math="import math",ne=B==="SIN"||B==="COS"||B==="TAN"?Se.valueToCode(ne,"NUM",D.MULTIPLICATIVE)||"0":Se.valueToCode(ne,"NUM",D.NONE)||"0",B){case"ABS":ee="math.fabs("+ne+")";break;case"ROOT":ee="math.sqrt("+ne+")";break;case"LN":ee="math.log("+ne+")";break;case"LOG10":ee="math.log10("+ne+")";break;case"EXP":ee="math.exp("+ne+")";break;case"POW10":ee="math.pow(10,"+ne+")";break;case"ROUND":ee="round("+ne+")";break;case"ROUNDUP":ee="math.ceil("+ne+")";break;case"ROUNDDOWN":ee="math.floor("+ne+")";break;case"SIN":ee="math.sin("+ne+" / 180.0 * math.pi)";break;case"COS":ee="math.cos("+ne+" / 180.0 * math.pi)";break;case"TAN":ee="math.tan("+ne+" / 180.0 * math.pi)"}if(ee)return[ee,D.FUNCTION_CALL];switch(B){case"ASIN":ee="math.asin("+ne+") / math.pi * 180";break;case"ACOS":ee="math.acos("+ne+") / math.pi * 180";break;case"ATAN":ee="math.atan("+ne+") / math.pi * 180";break;default:throw Error("Unknown math operator: "+B)}return[ee,D.MULTIPLICATIVE]},rt=function(ne,Se){const B={PI:["math.pi",D.MEMBER],E:["math.e",D.MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",D.MULTIPLICATIVE],SQRT2:["math.sqrt(2)",D.MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",D.MEMBER],INFINITY:["float('inf')",D.ATOMIC]};return ne=ne.getFieldValue("CONSTANT"),ne!=="INFINITY"&&(Se.definitions_.import_math="import math"),B[ne]},Pe=function(ne,Se){var B={EVEN:[" % 2 == 0",D.MULTIPLICATIVE,D.RELATIONAL],ODD:[" % 2 == 1",D.MULTIPLICATIVE,D.RELATIONAL],WHOLE:[" % 1 == 0",D.MULTIPLICATIVE,D.RELATIONAL],POSITIVE:[" > 0",D.RELATIONAL,D.RELATIONAL],NEGATIVE:[" < 0",D.RELATIONAL,D.RELATIONAL],DIVISIBLE_BY:[null,D.MULTIPLICATIVE,D.RELATIONAL],PRIME:[null,D.NONE,D.FUNCTION_CALL]};const ee=ne.getFieldValue("PROPERTY"),[Ce,je,Ft]=B[ee];if(B=Se.valueToCode(ne,"NUMBER_TO_CHECK",je)||"0",ee==="PRIME")Se.definitions_.import_math="import math",Se.definitions_.from_numbers_import_Number="from numbers import Number",ne=Se.provideFunction_("math_isPrime",`
def ${Se.FUNCTION_NAME_PLACEHOLDER_}(n):
  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  # If n is not a number but a string, try parsing it.
  if not isinstance(n, Number):
    try:
      n = float(n)
    except:
      return False
  if n == 2 or n == 3:
    return True
  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.
  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:
    return False
  # Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for x in range(6, int(math.sqrt(n)) + 2, 6):
    if n % (x - 1) == 0 or n % (x + 1) == 0:
      return False
  return True
`)+"("+B+")";else if(ee==="DIVISIBLE_BY"){if(ne=Se.valueToCode(ne,"DIVISOR",D.MULTIPLICATIVE)||"0",ne==="0")return["False",D.ATOMIC];ne=B+" % "+ne+" == 0"}else ne=B+Ce;return[ne,Ft]},nt=function(ne,Se){Se.definitions_.from_numbers_import_Number="from numbers import Number";const B=Se.valueToCode(ne,"DELTA",D.ADDITIVE)||"0";return ne=Se.getVariableName(ne.getFieldValue("VAR")),ne+" = ("+ne+" if isinstance("+ne+", Number) else 0) + "+B+`
`},ot=function(ne,Se){const B=ne.getFieldValue("OP");switch(ne=Se.valueToCode(ne,"LIST",D.NONE)||"[]",B){case"SUM":Se="sum("+ne+")";break;case"MIN":Se="min("+ne+")";break;case"MAX":Se="max("+ne+")";break;case"AVERAGE":Se.definitions_.from_numbers_import_Number="from numbers import Number",Se=Se.provideFunction_("math_mean",`
def ${Se.FUNCTION_NAME_PLACEHOLDER_}(myList):
  localList = [e for e in myList if isinstance(e, Number)]
  if not localList: return
  return float(sum(localList)) / len(localList)
`)+"("+ne+")";break;case"MEDIAN":Se.definitions_.from_numbers_import_Number="from numbers import Number",Se=Se.provideFunction_("math_median",`
def ${Se.FUNCTION_NAME_PLACEHOLDER_}(myList):
  localList = sorted([e for e in myList if isinstance(e, Number)])
  if not localList: return
  if len(localList) % 2 == 0:
    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0
  else:
    return localList[(len(localList) - 1) // 2]
`)+"("+ne+")";break;case"MODE":Se=Se.provideFunction_("math_modes",`
def ${Se.FUNCTION_NAME_PLACEHOLDER_}(some_list):
  modes = []
  # Using a lists of [item, count] to keep count rather than dict
  # to avoid "unhashable" errors when the counted item is itself a list or dict.
  counts = []
  maxCount = 1
  for item in some_list:
    found = False
    for count in counts:
      if count[0] == item:
        count[1] += 1
        maxCount = max(maxCount, count[1])
        found = True
    if not found:
      counts.append([item, 1])
  for counted_item, item_count in counts:
    if item_count == maxCount:
      modes.append(counted_item)
  return modes
`)+"("+ne+")";break;case"STD_DEV":Se.definitions_.import_math="import math",Se=Se.provideFunction_("math_standard_deviation",`
def ${Se.FUNCTION_NAME_PLACEHOLDER_}(numbers):
  n = len(numbers)
  if n == 0: return
  mean = float(sum(numbers)) / n
  variance = sum((x - mean) ** 2 for x in numbers) / n
  return math.sqrt(variance)
`)+"("+ne+")";break;case"RANDOM":Se.definitions_.import_random="import random",Se="random.choice("+ne+")";break;default:throw Error("Unknown operator: "+B)}return[Se,D.FUNCTION_CALL]},Lt=function(ne,Se){const B=Se.valueToCode(ne,"DIVIDEND",D.MULTIPLICATIVE)||"0";return ne=Se.valueToCode(ne,"DIVISOR",D.MULTIPLICATIVE)||"0",[B+" % "+ne,D.MULTIPLICATIVE]},de=function(ne,Se){const B=Se.valueToCode(ne,"VALUE",D.NONE)||"0",ee=Se.valueToCode(ne,"LOW",D.NONE)||"0";return ne=Se.valueToCode(ne,"HIGH",D.NONE)||"float('inf')",["min(max("+B+", "+ee+"), "+ne+")",D.FUNCTION_CALL]},Fe=function(ne,Se){Se.definitions_.import_random="import random";const B=Se.valueToCode(ne,"FROM",D.NONE)||"0";return ne=Se.valueToCode(ne,"TO",D.NONE)||"0",["random.randint("+B+", "+ne+")",D.FUNCTION_CALL]},et=function(ne,Se){return Se.definitions_.import_random="import random",["random.random()",D.FUNCTION_CALL]},_e=function(ne,Se){Se.definitions_.import_math="import math";const B=Se.valueToCode(ne,"X",D.NONE)||"0";return["math.atan2("+(Se.valueToCode(ne,"Y",D.NONE)||"0")+", "+B+") / math.pi * 180",D.MULTIPLICATIVE]},Ct=function(ne,Se){var B=[],ee=ne.workspace,Ce=s.allUsedVarModels$$module$build$src$core$variables(ee)||[];for(var je of Ce)Ce=je.getName(),ne.getVars().includes(Ce)||B.push(Se.getVariableName(Ce));for(ee=s.allDeveloperVariables$$module$build$src$core$variables(ee),je=0;je<ee.length;je++)B.push(Se.nameDB_.getName(ee[je],s.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));ee=B.length?Se.INDENT+"global "+B.join(", ")+`
`:"",B=Se.getProcedureName(ne.getFieldValue("NAME")),je="",Se.STATEMENT_PREFIX&&(je+=Se.injectId(Se.STATEMENT_PREFIX,ne)),Se.STATEMENT_SUFFIX&&(je+=Se.injectId(Se.STATEMENT_SUFFIX,ne)),je&&(je=Se.prefixLines(je,Se.INDENT)),Ce="",Se.INFINITE_LOOP_TRAP&&(Ce=Se.prefixLines(Se.injectId(Se.INFINITE_LOOP_TRAP,ne),Se.INDENT));let Ft="";ne.getInput("STACK")&&(Ft=Se.statementToCode(ne,"STACK"));let mn="";ne.getInput("RETURN")&&(mn=Se.valueToCode(ne,"RETURN",D.NONE)||"");let Bn="";Ft&&mn&&(Bn=je),mn?mn=Se.INDENT+"return "+mn+`
`:Ft||(Ft=Se.PASS);const $r=[],Os=ne.getVars();for(let as=0;as<Os.length;as++)$r[as]=Se.getVariableName(Os[as]);return ee="def "+B+"("+$r.join(", ")+`):
`+ee+je+Ce+Ft+Bn+mn,ee=Se.scrub_(ne,ee),Se.definitions_["%"+B]=ee,null},$t=function(ne,Se){const B=Se.getProcedureName(ne.getFieldValue("NAME")),ee=[],Ce=ne.getVars();for(let je=0;je<Ce.length;je++)ee[je]=Se.valueToCode(ne,"ARG"+je,D.NONE)||"None";return[B+"("+ee.join(", ")+")",D.FUNCTION_CALL]},qt=function(ne,Se){return Se.forBlock.procedures_callreturn(ne,Se)[0]+`
`},ln=function(ne,Se){let B="if "+(Se.valueToCode(ne,"CONDITION",D.NONE)||"False")+`:
`;return Se.STATEMENT_SUFFIX&&(B+=Se.prefixLines(Se.injectId(Se.STATEMENT_SUFFIX,ne),Se.INDENT)),ne.hasReturnValue_?(ne=Se.valueToCode(ne,"VALUE",D.NONE)||"None",B+=Se.INDENT+"return "+ne+`
`):B+=Se.INDENT+`return
`,B},En=function(ne,Se){return[Se.quote_(ne.getFieldValue("TEXT")),D.ATOMIC]},St=function(ne,Se){switch(ne.itemCount_){case 0:return["''",D.ATOMIC];case 1:return ne=Se.valueToCode(ne,"ADD0",D.NONE)||"''",F(ne);case 2:var B=Se.valueToCode(ne,"ADD0",D.NONE)||"''";return ne=Se.valueToCode(ne,"ADD1",D.NONE)||"''",[F(B)[0]+" + "+F(ne)[0],D.ADDITIVE];default:B=[];for(let ee=0;ee<ne.itemCount_;ee++)B[ee]=Se.valueToCode(ne,"ADD"+ee,D.NONE)||"''";return ne=Se.nameDB_.getDistinctName("x",s.NameType$$module$build$src$core$names.VARIABLE),["''.join([str("+ne+") for "+ne+" in ["+B.join(", ")+"]])",D.FUNCTION_CALL]}},Ut=function(ne,Se){const B=Se.getVariableName(ne.getFieldValue("VAR"));return ne=Se.valueToCode(ne,"TEXT",D.NONE)||"''",B+" = str("+B+") + "+F(ne)[0]+`
`},fn=function(ne,Se){return["len("+(Se.valueToCode(ne,"VALUE",D.NONE)||"''")+")",D.FUNCTION_CALL]},Ge=function(ne,Se){return["not len("+(Se.valueToCode(ne,"VALUE",D.NONE)||"''")+")",D.LOGICAL_NOT]},Qt=function(ne,Se){const B=ne.getFieldValue("END")==="FIRST"?"find":"rfind",ee=Se.valueToCode(ne,"FIND",D.NONE)||"''";return Se=(Se.valueToCode(ne,"VALUE",D.MEMBER)||"''")+"."+B+"("+ee+")",ne.workspace.options.oneBasedIndex?[Se+" + 1",D.ADDITIVE]:[Se,D.FUNCTION_CALL]},Pn=function(ne,Se){const B=ne.getFieldValue("WHERE")||"FROM_START",ee=Se.valueToCode(ne,"VALUE",B==="RANDOM"?D.NONE:D.MEMBER)||"''";switch(B){case"FIRST":return[ee+"[0]",D.MEMBER];case"LAST":return[ee+"[-1]",D.MEMBER];case"FROM_START":return ne=Se.getAdjustedInt(ne,"AT"),[ee+"["+ne+"]",D.MEMBER];case"FROM_END":return ne=Se.getAdjustedInt(ne,"AT",1,!0),[ee+"["+ne+"]",D.MEMBER];case"RANDOM":return Se.definitions_.import_random="import random",[Se.provideFunction_("text_random_letter",`
def ${Se.FUNCTION_NAME_PLACEHOLDER_}(text):
  x = int(random.random() * len(text))
  return text[x]
`)+"("+ee+")",D.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},Cn=function(ne,Se){var B=ne.getFieldValue("WHERE1");const ee=ne.getFieldValue("WHERE2"),Ce=Se.valueToCode(ne,"STRING",D.MEMBER)||"''";switch(B){case"FROM_START":B=Se.getAdjustedInt(ne,"AT1"),B===0&&(B="");break;case"FROM_END":B=Se.getAdjustedInt(ne,"AT1",1,!0);break;case"FIRST":B="";break;default:throw Error("Unhandled option (text_getSubstring)")}switch(ee){case"FROM_START":ne=Se.getAdjustedInt(ne,"AT2",1);break;case"FROM_END":ne=Se.getAdjustedInt(ne,"AT2",0,!0),s.isNumber$$module$build$src$core$utils$string(String(ne))?ne===0&&(ne=""):(Se.definitions_.import_sys="import sys",ne+=" or sys.maxsize");break;case"LAST":ne="";break;default:throw Error("Unhandled option (text_getSubstring)")}return[Ce+"["+B+" : "+ne+"]",D.MEMBER]},Jn=function(ne,Se){const B={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[ne.getFieldValue("CASE")];return[(Se.valueToCode(ne,"TEXT",D.MEMBER)||"''")+B,D.FUNCTION_CALL]},cn=function(ne,Se){const B={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[ne.getFieldValue("MODE")];return[(Se.valueToCode(ne,"TEXT",D.MEMBER)||"''")+B,D.FUNCTION_CALL]},ri=function(ne,Se){return"print("+(Se.valueToCode(ne,"TEXT",D.NONE)||"''")+`)
`},Ai=function(ne,Se){var B=Se.provideFunction_("text_prompt",`
def ${Se.FUNCTION_NAME_PLACEHOLDER_}(msg):
  try:
    return raw_input(msg)
  except NameError:
    return input(msg)
`);return Se=ne.getField("TEXT")?Se.quote_(ne.getFieldValue("TEXT")):Se.valueToCode(ne,"TEXT",D.NONE)||"''",B=B+"("+Se+")",ne.getFieldValue("TYPE")==="NUMBER"&&(B="float("+B+")"),[B,D.FUNCTION_CALL]},lr=function(ne,Se){const B=Se.valueToCode(ne,"TEXT",D.MEMBER)||"''";return ne=Se.valueToCode(ne,"SUB",D.NONE)||"''",[B+".count("+ne+")",D.FUNCTION_CALL]},ls=function(ne,Se){const B=Se.valueToCode(ne,"TEXT",D.MEMBER)||"''",ee=Se.valueToCode(ne,"FROM",D.NONE)||"''";return ne=Se.valueToCode(ne,"TO",D.NONE)||"''",[B+".replace("+ee+", "+ne+")",D.MEMBER]},fi=function(ne,Se){return[(Se.valueToCode(ne,"TEXT",D.MEMBER)||"''")+"[::-1]",D.MEMBER]},ar=function(ne,Se){return[Se.getVariableName(ne.getFieldValue("VAR")),D.ATOMIC]},Zn=function(ne,Se){const B=Se.valueToCode(ne,"VALUE",D.NONE)||"0";return Se.getVariableName(ne.getFieldValue("VAR"))+" = "+B+`
`},D;(function(ne){ne[ne.ATOMIC=0]="ATOMIC",ne[ne.COLLECTION=1]="COLLECTION",ne[ne.STRING_CONVERSION=1]="STRING_CONVERSION",ne[ne.MEMBER=2.1]="MEMBER",ne[ne.FUNCTION_CALL=2.2]="FUNCTION_CALL",ne[ne.EXPONENTIATION=3]="EXPONENTIATION",ne[ne.UNARY_SIGN=4]="UNARY_SIGN",ne[ne.BITWISE_NOT=4]="BITWISE_NOT",ne[ne.MULTIPLICATIVE=5]="MULTIPLICATIVE",ne[ne.ADDITIVE=6]="ADDITIVE",ne[ne.BITWISE_SHIFT=7]="BITWISE_SHIFT",ne[ne.BITWISE_AND=8]="BITWISE_AND",ne[ne.BITWISE_XOR=9]="BITWISE_XOR",ne[ne.BITWISE_OR=10]="BITWISE_OR",ne[ne.RELATIONAL=11]="RELATIONAL",ne[ne.LOGICAL_NOT=12]="LOGICAL_NOT",ne[ne.LOGICAL_AND=13]="LOGICAL_AND",ne[ne.LOGICAL_OR=14]="LOGICAL_OR",ne[ne.CONDITIONAL=15]="CONDITIONAL",ne[ne.LAMBDA=16]="LAMBDA",ne[ne.NONE=99]="NONE"})(D||(D={}));var ue=class extends s.CodeGenerator$$module$build$src$core$generator{constructor(ne="Python"){super(ne),this.ORDER_OVERRIDES=[[D.FUNCTION_CALL,D.MEMBER],[D.FUNCTION_CALL,D.FUNCTION_CALL],[D.MEMBER,D.MEMBER],[D.MEMBER,D.FUNCTION_CALL],[D.LOGICAL_NOT,D.LOGICAL_NOT],[D.LOGICAL_AND,D.LOGICAL_AND],[D.LOGICAL_OR,D.LOGICAL_OR]],this.PASS="",this.isInitialized=!1;for(const Se in D)ne=D[Se],typeof ne!="string"&&(this["ORDER_"+Se]=ne);this.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip")}init(ne){super.init(ne),this.PASS=this.INDENT+`pass
`,this.nameDB_?this.nameDB_.reset():this.nameDB_=new s.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(ne.getVariableMap()),this.nameDB_.populateVariables(ne),this.nameDB_.populateProcedures(ne);const Se=[];var B=s.allDeveloperVariables$$module$build$src$core$variables(ne);for(let ee=0;ee<B.length;ee++)Se.push(this.nameDB_.getName(B[ee],s.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE)+" = None");for(ne=s.allUsedVarModels$$module$build$src$core$variables(ne),B=0;B<ne.length;B++)Se.push(this.getVariableName(ne[B].getId())+" = None");this.definitions_.variables=Se.join(`
`),this.isInitialized=!0}finish(ne){const Se=[],B=[];for(let ee in this.definitions_){const Ce=this.definitions_[ee];Ce.match(/^(from\s+\S+\s+)?import\s+\S+/)?Se.push(Ce):B.push(Ce)}return ne=super.finish(ne),this.isInitialized=!1,this.nameDB_.reset(),(Se.join(`
`)+`

`+B.join(`

`)).replace(/\n\n+/g,`

`).replace(/\n*$/,`


`)+ne}scrubNakedValue(ne){return ne+`
`}quote_(ne){ne=ne.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`);let Se="'";return ne.includes("'")&&(ne.includes('"')?ne=ne.replace(/'/g,"\\'"):Se='"'),Se+ne+Se}multiline_quote_(ne){return ne.split(/\n/g).map(this.quote_).join(` + '\\n' + 
`)}scrub_(ne,Se,B=!1){let ee="";if(!ne.outputConnection||!ne.outputConnection.targetConnection){var Ce=ne.getCommentText();Ce&&(Ce=s.wrap$$module$build$src$core$utils$string(Ce,this.COMMENT_WRAP-3),ee+=this.prefixLines(Ce+`
`,"# "));for(let je=0;je<ne.inputList.length;je++)ne.inputList[je].type===s.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(Ce=ne.inputList[je].connection.targetBlock())&&(Ce=this.allNestedComments(Ce))&&(ee+=this.prefixLines(Ce,"# "))}return ne=ne.nextConnection&&ne.nextConnection.targetBlock(),B=B?"":this.blockToCode(ne),ee+Se+B}getAdjustedInt(ne,Se,B=0,ee=!1){ne.workspace.options.oneBasedIndex&&B--;const Ce=ne.workspace.options.oneBasedIndex?"1":"0";return ne=this.valueToCode(ne,Se,B?D.ADDITIVE:D.NONE)||Ce,s.isNumber$$module$build$src$core$utils$string(ne)?(ne=parseInt(ne,10)+B,ee&&(ne=-ne)):(ne=B>0?"int("+ne+" + "+B+")":B<0?"int("+ne+" - "+-B+")":"int("+ne+")",ee&&(ne="-"+ne)),ne}},Re={};Re.lists_create_empty=a,Re.lists_create_with=c,Re.lists_getIndex=_,Re.lists_getSublist=S,Re.lists_indexOf=v,Re.lists_isEmpty=$,Re.lists_length=m,Re.lists_repeat=d,Re.lists_reverse=G,Re.lists_setIndex=T,Re.lists_sort=k,Re.lists_split=P;var qe={};qe.controls_if=X,qe.controls_ifelse=X,qe.logic_boolean=ie,qe.logic_compare=R,qe.logic_negate=te,qe.logic_null=se,qe.logic_operation=W,qe.logic_ternary=Y;var ct={};ct.controls_flow_statements=it,ct.controls_for=De,ct.controls_forEach=Ue,ct.controls_repeat=fe,ct.controls_repeat_ext=fe,ct.controls_whileUntil=Ie;var st={};st.math_arithmetic=dt,st.math_atan2=_e,st.math_change=nt,st.math_constant=rt,st.math_constrain=de,st.math_modulo=Lt,st.math_number=ze,st.math_number_property=Pe,st.math_on_list=ot,st.math_random_float=et,st.math_random_int=Fe,st.math_round=Oe,st.math_single=Oe,st.math_trig=Oe;var At={};At.procedures_callnoreturn=qt,At.procedures_callreturn=$t,At.procedures_defnoreturn=Ct,At.procedures_defreturn=Ct,At.procedures_ifreturn=ln;var Ot=/^\s*'([^']|\\')*'\s*$/,F=function(ne){return Ot.test(ne)?[ne,D.ATOMIC]:["str("+ne+")",D.FUNCTION_CALL]},$e={};$e.text=En,$e.text_append=Ut,$e.text_changeCase=Jn,$e.text_charAt=Pn,$e.text_count=lr,$e.text_getSubstring=Cn,$e.text_indexOf=Qt,$e.text_isEmpty=Ge,$e.text_join=St,$e.text_length=fn,$e.text_print=ri,$e.text_prompt=Ai,$e.text_prompt_ext=Ai,$e.text_replace=ls,$e.text_reverse=fi,$e.text_trim=cn;var Ye={};Ye.variables_get=ar,Ye.variables_set=Zn;var We={};We.variables_get_dynamic=ar,We.variables_set_dynamic=Zn;var Ht=new ue;Ht.addReservedWords("math,random,Number");var An=Object.assign({},Re,qe,ct,st,At,$e,Ye,We);for(const ne in An)Ht.forBlock[ne]=An[ne];var Lr={};return Lr.Order=D,Lr.PythonGenerator=ue,Lr.pythonGenerator=Ht,Lr.__namespace__=s,Lr})})(n5)),n5.exports}var AI=CI();const II=l0(AI),{Order:kee,PythonGenerator:Cee,pythonGenerator:Zi}=II,MI={position:"absolute",width:"100%",height:"100%",top:0,left:0,backgroundColor:"rgba(46, 204, 113, 0.5)",borderRadius:"50%",animation:"radarPing 0.5s ease-out forwards",zIndex:5},NI=`
@keyframes radarPing {
  0% { transform: scale(0.2); opacity: 0.8; }
  100% { transform: scale(1.5); opacity: 0; }
}
`;function OI({grid:t,playerPos:n,playerDir:r,lastAction:s}){const a=r*90+90,c=t.length,d=t[0].length,m=s&&s.type==="SCAN";let $=null;const v=_=>(_%4+4)%4;if(m)if(s.dir==="SELF")$={x:n.x,y:n.y};else{const _=v(r);let T=_;s.dir==="LEFT"&&(T=(_+3)%4),s.dir==="RIGHT"&&(T=(_+1)%4);let S=0,k=0;T===0&&(S=1),T===1&&(k=1),T===2&&(S=-1),T===3&&(k=-1),$={x:n.x+S,y:n.y+k}}return ge.jsxs("div",{style:T3.container,children:[ge.jsx("style",{children:NI}),ge.jsx("div",{style:{...T3.grid,gridTemplateColumns:`repeat(${d}, 1fr)`,aspectRatio:`${d} / ${c}`},children:t.map((_,T)=>_.map((S,k)=>{const P=n.x===k&&n.y===T,G=$&&$.x===k&&$.y===T,X=`min(40px, ${60/Math.max(c,d)}vmin)`;return ge.jsxs("div",{style:T3.cell,children:[ge.jsx("span",{style:{zIndex:1,fontSize:X},children:Vl.THEME[S]||""}),P&&ge.jsx("div",{style:{...T3.player,transform:`rotate(${a}deg)`,fontSize:X},children:Vl.THEME.PLAYER}),G&&ge.jsx("div",{style:MI},s._uid)]},`${T}-${k}`)}))})]})}const T3={container:{display:"flex",justifyContent:"center",alignItems:"center",background:"#2c3e50",padding:"10px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.3)",width:"100%",height:"100%",overflow:"hidden"},grid:{display:"grid",gap:"1px",backgroundColor:"#34495e",border:"4px solid #34495e",width:"auto",height:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"},cell:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",background:"#ecf0f1",overflow:"visible"},player:{position:"absolute",zIndex:10,transition:"transform 0.2s ease, top 0.2s ease, left 0.2s ease",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"}},jE={id:"MAZE",RenderComponent:OI,registerBlocks:()=>{},getToolboxXML:(t,n,r,s)=>xm(t,n,r,s),executeStep:(t,n,r)=>{const s=t||{x:r.startPos?.x||0,y:r.startPos?.y||1,dir:r.startPos?.dir!==void 0?r.startPos.dir:0};if(!n)return{newState:s,status:"RUNNING"};let{x:a,y:c,dir:d}=s,m="RUNNING";const $=typeof n=="object"&&n.type?n.type:n,v=_=>(_%4+4)%4;if($==="MOVE"){let _=a,T=c;const S=v(d);S===0?_++:S===1?T++:S===2?_--:S===3&&T--;const k=Vl.checkMove(r.grid||Vl.defaultGrid,_,T);k==="OK"||k==="WIN"?(a=_,c=T,k==="WIN"&&(m="WIN")):m="LOST"}else $&&$.startsWith("TURN_")&&(d=$.split("_")[1]==="LEFT"?d-1:d+1);return{newState:{x:a,y:c,dir:d},status:m}}};function RI({state:t,history:n,hiddenVars:r}){const s=t?.variables||{},a=n||[],c=r||[],d=Object.entries(s).filter(([$])=>!c.includes($)),m=({value:$})=>Array.isArray($)?ge.jsxs("div",{style:{display:"flex",gap:"2px",marginTop:"5px"},children:[$.map((v,_)=>ge.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[ge.jsx("div",{style:{border:"1px solid #2c3e50",padding:"4px 8px",minWidth:"20px",textAlign:"center",background:"#fff",fontSize:"1.2rem",fontWeight:"bold"},children:v}),ge.jsx("div",{style:{fontSize:"0.6rem",color:"#7f8c8d"},children:_})]},_)),$.length===0&&ge.jsx("span",{style:{fontStyle:"italic",color:"#aaa"},children:"Vide []"})]}):ge.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#2c3e50"},children:$});return ge.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",padding:"10px",boxSizing:"border-box",gap:"15px",background:"#2c3e50"},children:[ge.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",justifyContent:"center",alignContent:"flex-start",minHeight:"130px"},children:[d.map(([$,v])=>{const _=Array.isArray(v);return ge.jsxs("div",{style:{background:"white",borderRadius:"8px",minWidth:_?"160px":"100px",height:"auto",minHeight:"120px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",padding:"10px",boxShadow:"0 4px 0 #bdc3c7",animation:"popIn 0.3s"},children:[ge.jsx("div",{style:{fontWeight:"bold",color:"#7f8c8d",borderBottom:"2px solid #eee",width:"100%",textAlign:"center",marginBottom:"5px"},children:$}),ge.jsx(m,{value:v}),ge.jsx("div",{style:{fontSize:"0.6rem",color:"#ccc",textTransform:"uppercase",marginTop:"5px"},children:_?`LISTE (${v.length})`:typeof v})]},$)}),d.length===0&&ge.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontStyle:"italic",marginTop:"20px"},children:Object.keys(s).length>0?"Mmoire masque ":"Mmoire vide"})]}),ge.jsxs("div",{style:{flex:1,background:"#ecf0f1",borderRadius:"8px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[ge.jsx("div",{style:{padding:"8px 15px",background:"#bdc3c7",fontWeight:"bold",color:"#2c3e50",fontSize:"0.9rem",borderBottom:"1px solid #95a5a6"},children:">_ Terminal / Historique"}),ge.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"10px",fontFamily:"monospace",fontSize:"0.9rem",background:"#222",color:"#2ecc71"},children:[a.map(($,v)=>ge.jsxs("div",{style:{marginBottom:"4px"},children:[ge.jsxs("span",{style:{color:"#555",marginRight:"10px"},children:[v+1,"."]}),$]},v)),ge.jsx("div",{style:{animation:"blink 1s infinite",display:"inline-block"},children:""})]})]}),ge.jsx("style",{children:"@keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } } @keyframes blink { 50% { opacity: 0; } }"})]})}const LI=(t,n)=>{if(Array.isArray(t)||Array.isArray(n))return JSON.stringify(t)===JSON.stringify(n);const r=String(t).replace(",",".").trim(),s=String(n).replace(",",".").trim(),a=parseFloat(r),c=parseFloat(s);return!isNaN(a)&&!isNaN(c)&&r!==""&&s!==""?Math.abs(a-c)<1e-6:r===s},DI={id:"MATH",RenderComponent:RI,registerBlocks:()=>{},getToolboxXML:(t,n,r,s)=>xm(t,n,r,s),executeStep:(t,n,r)=>{const s=t||{variables:{...r.inputs},logs:[]};if(!n)return{newState:s,status:"RUNNING"};const a={...s.variables},c=[...s.logs],d=r.hiddenVars||[],m=r.lockedVars||[];if(n.type==="SET")if(d.includes(n.var)||m.includes(n.var))c.push(` ERREUR : ${n.var} est protge.`);else{console.log(`[MathPlugin] SET ${n.var} =`,n.val),a[n.var]=n.val;let $=n.val;Array.isArray(n.val)&&($=JSON.stringify(n.val)),c.push(` ${n.var} <- ${$}`)}else n.type==="PRINT"&&c.push(` ${n.msg}`);return{newState:{variables:a,logs:c},status:"RUNNING"}},checkVictory:(t,n)=>{const r=n.targets||{},s=Object.keys(r),a=t?.variables||{};return s.length===0?!1:s.map(d=>{const m=a[d];let $=r[d];if(typeof $=="string"&&$.startsWith("@")){const v=$.substring(1);n.inputs&&n.inputs[v]!==void 0&&($=n.inputs[v])}return LI(m,$)}).every(d=>d===!0)}},H1=400,V1=400;function BI({state:t,playerPos:n,playerDir:r,modelLines:s}){const a=vn.useRef(null),c=vn.useRef(null),d=t?.x!==void 0?t.x:n?.x,m=t?.y!==void 0?t.y:n?.y,$=t?.dir!==void 0?t.dir:r,v=Number.isFinite(Number(d))?Number(d):0,_=Number.isFinite(Number(m))?Number(m):0,T=Number.isFinite(Number($))?Number($):0,S=t?.lines||[],k=R=>H1/2+R,P=R=>V1/2-R,G=(R,W,te=null)=>{R.clearRect(0,0,H1,V1),R.lineCap="round",R.lineJoin="round",W&&W.forEach(ie=>{R.beginPath(),R.strokeStyle=te||ie.color||"#2c3e50",R.lineWidth=te?4:ie.width||2,te&&(R.globalAlpha=.3),R.moveTo(k(ie.x1),P(ie.y1)),R.lineTo(k(ie.x2),P(ie.y2)),R.stroke(),te&&(R.globalAlpha=1)})};vn.useEffect(()=>{if(c.current&&s){const R=c.current.getContext("2d");G(R,s,"#95a5a6")}},[s]),vn.useEffect(()=>{if(a.current){const R=a.current.getContext("2d");G(R,S)}},[S]);const X=T;return ge.jsxs("div",{style:{position:"relative",width:H1,height:V1,background:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[ge.jsxs("svg",{width:"100%",height:"100%",style:{position:"absolute",top:0,left:0,zIndex:1},children:[ge.jsx("defs",{children:ge.jsx("pattern",{id:"grid",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:ge.jsx("path",{d:"M 50 0 L 0 0 0 50",fill:"none",stroke:"#f4f4f4",strokeWidth:"1"})})}),ge.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),ge.jsx("line",{x1:H1/2,y1:"0",x2:H1/2,y2:V1,stroke:"#ddd",strokeWidth:"1"}),ge.jsx("line",{x1:"0",y1:V1/2,x2:H1,y2:V1/2,stroke:"#ddd",strokeWidth:"1"})]}),ge.jsx("canvas",{ref:c,width:H1,height:V1,style:{position:"absolute",top:0,left:0,zIndex:2,pointerEvents:"none"}}),ge.jsx("canvas",{ref:a,width:H1,height:V1,style:{position:"absolute",top:0,left:0,zIndex:3}}),ge.jsx("div",{style:{position:"absolute",left:k(v),top:P(_),width:"40px",height:"40px",marginLeft:"-20px",marginTop:"-20px",transform:`rotate(${X}deg)`,transformOrigin:"center center",zIndex:4,transition:"all 0.1s linear",pointerEvents:"none"},children:ge.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[ge.jsx("circle",{cx:"20",cy:"20",r:"12",stroke:"#2c3e50",strokeWidth:"3",fill:"rgba(255,255,255,0.8)"}),ge.jsx("path",{d:"M 34 20 L 26 15 L 26 25 Z",fill:"#2c3e50"})]})})]})}const PI={id:"TURTLE",RenderComponent:BI,registerBlocks:()=>{},getToolboxXML:t=>xm(t,null,[],[]),executeStep:(t,n,r)=>{const s=t||{x:r.startPos?.x||0,y:r.startPos?.y||0,dir:r.startPos?.dir!==void 0?r.startPos.dir:0,penDown:!0,color:"#2c3e50",lines:[]};if(!n)return{newState:s,status:"RUNNING"};let{x:a,y:c,dir:d,penDown:m,color:$,lines:v}=s;const _=[...v];if(n.type==="MOVE"){const T=parseFloat(n.dist),S=d*(Math.PI/180),k=a+T*Math.cos(S),P=c-T*Math.sin(S);m&&_.push({x1:a,y1:c,x2:k,y2:P,color:$}),a=k,c=P}else n.type==="TURN"?d+=parseFloat(n.angle):n.type==="PEN"?m=n.state==="DOWN":n.type==="COLOR"&&($=n.color);return{newState:{x:a,y:c,dir:d,penDown:m,color:$,lines:_},status:"RUNNING"}},checkVictory:(t,n,r)=>{if(!r||r.length===0)return!1;const s=t?.lines||[],a=400,c=400,d=document.createElement("canvas");d.width=a,d.height=c;const m=d.getContext("2d"),$=document.createElement("canvas");$.width=a,$.height=c;const v=$.getContext("2d"),_=(X,R)=>{X.lineWidth=6,X.lineCap="round",X.strokeStyle="#000",R.forEach(W=>{X.beginPath();const te=se=>a/2+se,ie=se=>c/2-se;X.moveTo(te(W.x1),ie(W.y1)),X.lineTo(te(W.x2),ie(W.y2)),X.stroke()})};_(m,r),_(v,s);const T=m.getImageData(0,0,a,c).data,S=v.getImageData(0,0,a,c).data;let k=0,P=0;for(let X=3;X<T.length;X+=4)T[X]>50&&(P++,S[X]<50&&k++);return 1-k/(P||1)>.85}};var em={exports:{}},r5={exports:{}},FI=r5.exports,Ob;function UI(){return Ob||(Ob=1,(function(t,n){(function(s,a){t.exports=a()})(typeof self<"u"?self:FI,function(){return(function(){var r={};(function(){r.d=function(y,g){for(var E in g)r.o(g,E)&&!r.o(y,E)&&Object.defineProperty(y,E,{enumerable:!0,get:g[E]})}})(),(function(){r.o=function(y,g){return Object.prototype.hasOwnProperty.call(y,g)}})();var s={};r.d(s,{default:function(){return xl}});class a{constructor(g,E){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let M="KaTeX parse error: "+g,U,K;const le=E&&E.loc;if(le&&le.start<=le.end){const Be=le.lexer.input;U=le.start,K=le.end,U===Be.length?M+=" at end of input: ":M+=" at position "+(U+1)+": ";const Ze=Be.slice(U,K).replace(/[^]/g,"$&");let pt;U>15?pt=""+Be.slice(U-15,U):pt=Be.slice(0,U);let bt;K+15<Be.length?bt=Be.slice(K,K+15)+"":bt=Be.slice(K),M+=pt+Ze+bt}const Ee=new Error(M);return Ee.name="ParseError",Ee.__proto__=a.prototype,Ee.position=U,U!=null&&K!=null&&(Ee.length=K-U),Ee.rawMessage=g,Ee}}a.prototype.__proto__=Error.prototype;var c=a;const d=function(y,g){return y===void 0?g:y},m=/([A-Z])/g,$=function(y){return y.replace(m,"-$1").toLowerCase()},v={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},_=/[&><"']/g;function T(y){return String(y).replace(_,g=>v[g])}const S=function(y){return y.type==="ordgroup"||y.type==="color"?y.body.length===1?S(y.body[0]):y:y.type==="font"?S(y.body):y},k=function(y){const g=S(y);return g.type==="mathord"||g.type==="textord"||g.type==="atom"},P=function(y){if(!y)throw new Error("Expected non-null, but got "+String(y));return y};var X={deflt:d,escape:T,hyphenate:$,getBaseElem:S,isCharacterBox:k,protocolFromUrl:function(y){const g=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(y);return g?g[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(g[1])?null:g[1].toLowerCase():"_relative"}};const R={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:y=>"#"+y},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(y,g)=>(g.push(y),g)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:y=>Math.max(0,y),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:y=>Math.max(0,y),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:y=>Math.max(0,y),cli:"-e, --max-expand <n>",cliProcessor:y=>y==="Infinity"?1/0:parseInt(y)},globalGroup:{type:"boolean",cli:!1}};function W(y){if(y.default)return y.default;const g=y.type,E=Array.isArray(g)?g[0]:g;if(typeof E!="string")return E.enum[0];switch(E){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class te{constructor(g){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,g=g||{};for(const E in R)if(R.hasOwnProperty(E)){const M=R[E];this[E]=g[E]!==void 0?M.processor?M.processor(g[E]):g[E]:W(M)}}reportNonstrict(g,E,M){let U=this.strict;if(typeof U=="function"&&(U=U(g,E,M)),!(!U||U==="ignore")){if(U===!0||U==="error")throw new c("LaTeX-incompatible input and strict mode is set to 'error': "+(E+" ["+g+"]"),M);U==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(E+" ["+g+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+U+"': "+E+" ["+g+"]"))}}useStrictBehavior(g,E,M){let U=this.strict;if(typeof U=="function")try{U=U(g,E,M)}catch{U="error"}return!U||U==="ignore"?!1:U===!0||U==="error"?!0:U==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(E+" ["+g+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+U+"': "+E+" ["+g+"]")),!1)}isTrusted(g){if(g.url&&!g.protocol){const M=X.protocolFromUrl(g.url);if(M==null)return!1;g.protocol=M}return!!(typeof this.trust=="function"?this.trust(g):this.trust)}}class ie{constructor(g,E,M){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=g,this.size=E,this.cramped=M}sup(){return dt[Oe[this.id]]}sub(){return dt[rt[this.id]]}fracNum(){return dt[Pe[this.id]]}fracDen(){return dt[nt[this.id]]}cramp(){return dt[ot[this.id]]}text(){return dt[Lt[this.id]]}isTight(){return this.size>=2}}const se=0,Y=1,fe=2,Ie=3,De=4,Ue=5,it=6,ze=7,dt=[new ie(se,0,!1),new ie(Y,0,!0),new ie(fe,1,!1),new ie(Ie,1,!0),new ie(De,2,!1),new ie(Ue,2,!0),new ie(it,3,!1),new ie(ze,3,!0)],Oe=[De,Ue,De,Ue,it,ze,it,ze],rt=[Ue,Ue,Ue,Ue,ze,ze,ze,ze],Pe=[fe,Ie,De,Ue,it,ze,it,ze],nt=[Ie,Ie,Ue,Ue,ze,ze,ze,ze],ot=[Y,Y,Ie,Ie,Ue,Ue,ze,ze],Lt=[se,Y,fe,Ie,fe,Ie,fe,Ie];var de={DISPLAY:dt[se],TEXT:dt[fe],SCRIPT:dt[De],SCRIPTSCRIPT:dt[it]};const Fe=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function et(y){for(let g=0;g<Fe.length;g++){const E=Fe[g];for(let M=0;M<E.blocks.length;M++){const U=E.blocks[M];if(y>=U[0]&&y<=U[1])return E.name}}return null}const _e=[];Fe.forEach(y=>y.blocks.forEach(g=>_e.push(...g)));function Ct(y){for(let g=0;g<_e.length;g+=2)if(y>=_e[g]&&y<=_e[g+1])return!0;return!1}const $t=80,qt=function(y,g){return"M95,"+(622+y+g)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+y/2.075+" -"+y+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+y)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+y)+" "+g+"h400000v"+(40+y)+"h-400000z"},ln=function(y,g){return"M263,"+(601+y+g)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+y/2.084+" -"+y+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+y)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+y)+" "+g+"h400000v"+(40+y)+"h-400000z"},En=function(y,g){return"M983 "+(10+y+g)+`
l`+y/3.13+" -"+y+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+y)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+y)+" "+g+"h400000v"+(40+y)+"h-400000z"},St=function(y,g){return"M424,"+(2398+y+g)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+y/4.223+" -"+y+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+y)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+y)+" "+g+`
h400000v`+(40+y)+"h-400000z"},Ut=function(y,g){return"M473,"+(2713+y+g)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+y/5.298+" -"+y+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+y)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+y)+" "+g+"h400000v"+(40+y)+"H1017.7z"},fn=function(y){const g=y/2;return"M400000 "+y+" H0 L"+g+" 0 l65 45 L145 "+(y-80)+" H400000z"},Ge=function(y,g,E){const M=E-54-g-y;return"M702 "+(y+g)+"H400000"+(40+y)+`
H742v`+M+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+g+"H400000v"+(40+y)+"H742z"},Qt=function(y,g,E){g=1e3*g;let M="";switch(y){case"sqrtMain":M=qt(g,$t);break;case"sqrtSize1":M=ln(g,$t);break;case"sqrtSize2":M=En(g,$t);break;case"sqrtSize3":M=St(g,$t);break;case"sqrtSize4":M=Ut(g,$t);break;case"sqrtTall":M=Ge(g,$t,E)}return M},Pn=function(y,g){switch(y){case"":return"M291 0 H417 V"+g+" H291z M291 0 H417 V"+g+" H291z";case"":return"M145 0 H188 V"+g+" H145z M145 0 H188 V"+g+" H145z";case"":return"M145 0 H188 V"+g+" H145z M145 0 H188 V"+g+" H145z"+("M367 0 H410 V"+g+" H367z M367 0 H410 V"+g+" H367z");case"":return"M457 0 H583 V"+g+" H457z M457 0 H583 V"+g+" H457z";case"":return"M319 0 H403 V"+g+" H319z M319 0 H403 V"+g+" H319z";case"":return"M263 0 H347 V"+g+" H263z M263 0 H347 V"+g+" H263z";case"":return"M384 0 H504 V"+g+" H384z M384 0 H504 V"+g+" H384z";case"":return"M312 0 H355 V"+g+" H312z M312 0 H355 V"+g+" H312z";case"":return"M257 0 H300 V"+g+" H257z M257 0 H300 V"+g+" H257z"+("M478 0 H521 V"+g+" H478z M478 0 H521 V"+g+" H478z");default:return""}},Cn={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Jn=function(y,g){switch(y){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+g+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+g+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+g+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+g+" v1759 h84z";case"vert":return"M145 15 v585 v"+g+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-g+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+g+" v585 h43z";case"doublevert":return"M145 15 v585 v"+g+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-g+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+g+` v585 h43z
M367 15 v585 v`+g+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-g+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+g+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+g+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+g+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+g+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+g+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+g+` v602 h84z
M403 1759 V0 H319 V1759 v`+g+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+g+` v602 h84z
M347 1759 V0 h-84 V1759 v`+g+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(g+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(g+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(g+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(g+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};var cn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const ri={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Ai={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function lr(y,g){cn[y]=g}function ls(y,g,E){if(!cn[g])throw new Error("Font metrics not found for font: "+g+".");let M=y.charCodeAt(0),U=cn[g][M];if(!U&&y[0]in Ai&&(M=Ai[y[0]].charCodeAt(0),U=cn[g][M]),!U&&E==="text"&&Ct(M)&&(U=cn[g][77]),U)return{depth:U[0],height:U[1],italic:U[2],skew:U[3],width:U[4]}}const fi={};function ar(y){let g;if(y>=5?g=0:y>=3?g=1:g=2,!fi[g]){const E=fi[g]={cssEmPerMu:ri.quad[g]/18};for(const M in ri)ri.hasOwnProperty(M)&&(E[M]=ri[M][g])}return fi[g]}const Zn=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],D=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],ue=function(y,g){return g.size<2?y:Zn[y-1][g.size-1]};class Re{constructor(g){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=g.style,this.color=g.color,this.size=g.size||Re.BASESIZE,this.textSize=g.textSize||this.size,this.phantom=!!g.phantom,this.font=g.font||"",this.fontFamily=g.fontFamily||"",this.fontWeight=g.fontWeight||"",this.fontShape=g.fontShape||"",this.sizeMultiplier=D[this.size-1],this.maxSize=g.maxSize,this.minRuleThickness=g.minRuleThickness,this._fontMetrics=void 0}extend(g){const E={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const M in g)g.hasOwnProperty(M)&&(E[M]=g[M]);return new Re(E)}havingStyle(g){return this.style===g?this:this.extend({style:g,size:ue(this.textSize,g)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(g){return this.size===g&&this.textSize===g?this:this.extend({style:this.style.text(),size:g,textSize:g,sizeMultiplier:D[g-1]})}havingBaseStyle(g){g=g||this.style.text();const E=ue(Re.BASESIZE,g);return this.size===E&&this.textSize===Re.BASESIZE&&this.style===g?this:this.extend({style:g,size:E})}havingBaseSizing(){let g;switch(this.style.id){case 4:case 5:g=3;break;case 6:case 7:g=1;break;default:g=6}return this.extend({style:this.style.text(),size:g})}withColor(g){return this.extend({color:g})}withPhantom(){return this.extend({phantom:!0})}withFont(g){return this.extend({font:g})}withTextFontFamily(g){return this.extend({fontFamily:g,font:""})}withTextFontWeight(g){return this.extend({fontWeight:g,font:""})}withTextFontShape(g){return this.extend({fontShape:g,font:""})}sizingClasses(g){return g.size!==this.size?["sizing","reset-size"+g.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Re.BASESIZE?["sizing","reset-size"+this.size,"size"+Re.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=ar(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Re.BASESIZE=6;var qe=Re;const ct={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},st={ex:!0,em:!0,mu:!0},At=function(y){return typeof y!="string"&&(y=y.unit),y in ct||y in st||y==="ex"},Ot=function(y,g){let E;if(y.unit in ct)E=ct[y.unit]/g.fontMetrics().ptPerEm/g.sizeMultiplier;else if(y.unit==="mu")E=g.fontMetrics().cssEmPerMu;else{let M;if(g.style.isTight()?M=g.havingStyle(g.style.text()):M=g,y.unit==="ex")E=M.fontMetrics().xHeight;else if(y.unit==="em")E=M.fontMetrics().quad;else throw new c("Invalid unit: '"+y.unit+"'");M!==g&&(E*=M.sizeMultiplier/g.sizeMultiplier)}return Math.min(y.number*E,g.maxSize)},F=function(y){return+y.toFixed(4)+"em"},$e=function(y){return y.filter(g=>g).join(" ")},Ye=function(y,g,E){if(this.classes=y||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=E||{},g){g.style.isTight()&&this.classes.push("mtight");const M=g.getColor();M&&(this.style.color=M)}},We=function(y){const g=document.createElement(y);g.className=$e(this.classes);for(const E in this.style)this.style.hasOwnProperty(E)&&(g.style[E]=this.style[E]);for(const E in this.attributes)this.attributes.hasOwnProperty(E)&&g.setAttribute(E,this.attributes[E]);for(let E=0;E<this.children.length;E++)g.appendChild(this.children[E].toNode());return g},Ht=/[\s"'>/=\x00-\x1f]/,An=function(y){let g="<"+y;this.classes.length&&(g+=' class="'+X.escape($e(this.classes))+'"');let E="";for(const M in this.style)this.style.hasOwnProperty(M)&&(E+=X.hyphenate(M)+":"+this.style[M]+";");E&&(g+=' style="'+X.escape(E)+'"');for(const M in this.attributes)if(this.attributes.hasOwnProperty(M)){if(Ht.test(M))throw new c("Invalid attribute name '"+M+"'");g+=" "+M+'="'+X.escape(this.attributes[M])+'"'}g+=">";for(let M=0;M<this.children.length;M++)g+=this.children[M].toMarkup();return g+="</"+y+">",g};class Lr{constructor(g,E,M,U){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Ye.call(this,g,M,U),this.children=E||[]}setAttribute(g,E){this.attributes[g]=E}hasClass(g){return this.classes.includes(g)}toNode(){return We.call(this,"span")}toMarkup(){return An.call(this,"span")}}class ne{constructor(g,E,M,U){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Ye.call(this,E,U),this.children=M||[],this.setAttribute("href",g)}setAttribute(g,E){this.attributes[g]=E}hasClass(g){return this.classes.includes(g)}toNode(){return We.call(this,"a")}toMarkup(){return An.call(this,"a")}}class Se{constructor(g,E,M){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=E,this.src=g,this.classes=["mord"],this.style=M}hasClass(g){return this.classes.includes(g)}toNode(){const g=document.createElement("img");g.src=this.src,g.alt=this.alt,g.className="mord";for(const E in this.style)this.style.hasOwnProperty(E)&&(g.style[E]=this.style[E]);return g}toMarkup(){let g='<img src="'+X.escape(this.src)+'"'+(' alt="'+X.escape(this.alt)+'"'),E="";for(const M in this.style)this.style.hasOwnProperty(M)&&(E+=X.hyphenate(M)+":"+this.style[M]+";");return E&&(g+=' style="'+X.escape(E)+'"'),g+="'/>",g}}const B={:"",:"",:"",:""};class ee{constructor(g,E,M,U,K,le,Ee,Be){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=g,this.height=E||0,this.depth=M||0,this.italic=U||0,this.skew=K||0,this.width=le||0,this.classes=Ee||[],this.style=Be||{},this.maxFontSize=0;const Ze=et(this.text.charCodeAt(0));Ze&&this.classes.push(Ze+"_fallback"),/[]/.test(this.text)&&(this.text=B[this.text])}hasClass(g){return this.classes.includes(g)}toNode(){const g=document.createTextNode(this.text);let E=null;this.italic>0&&(E=document.createElement("span"),E.style.marginRight=F(this.italic)),this.classes.length>0&&(E=E||document.createElement("span"),E.className=$e(this.classes));for(const M in this.style)this.style.hasOwnProperty(M)&&(E=E||document.createElement("span"),E.style[M]=this.style[M]);return E?(E.appendChild(g),E):g}toMarkup(){let g=!1,E="<span";this.classes.length&&(g=!0,E+=' class="',E+=X.escape($e(this.classes)),E+='"');let M="";this.italic>0&&(M+="margin-right:"+this.italic+"em;");for(const K in this.style)this.style.hasOwnProperty(K)&&(M+=X.hyphenate(K)+":"+this.style[K]+";");M&&(g=!0,E+=' style="'+X.escape(M)+'"');const U=X.escape(this.text);return g?(E+=">",E+=U,E+="</span>",E):U}}class Ce{constructor(g,E){this.children=void 0,this.attributes=void 0,this.children=g||[],this.attributes=E||{}}toNode(){const E=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const M in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,M)&&E.setAttribute(M,this.attributes[M]);for(let M=0;M<this.children.length;M++)E.appendChild(this.children[M].toNode());return E}toMarkup(){let g='<svg xmlns="http://www.w3.org/2000/svg"';for(const E in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,E)&&(g+=" "+E+'="'+X.escape(this.attributes[E])+'"');g+=">";for(let E=0;E<this.children.length;E++)g+=this.children[E].toMarkup();return g+="</svg>",g}}class je{constructor(g,E){this.pathName=void 0,this.alternate=void 0,this.pathName=g,this.alternate=E}toNode(){const E=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?E.setAttribute("d",this.alternate):E.setAttribute("d",Cn[this.pathName]),E}toMarkup(){return this.alternate?'<path d="'+X.escape(this.alternate)+'"/>':'<path d="'+X.escape(Cn[this.pathName])+'"/>'}}class Ft{constructor(g){this.attributes=void 0,this.attributes=g||{}}toNode(){const E=document.createElementNS("http://www.w3.org/2000/svg","line");for(const M in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,M)&&E.setAttribute(M,this.attributes[M]);return E}toMarkup(){let g="<line";for(const E in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,E)&&(g+=" "+E+'="'+X.escape(this.attributes[E])+'"');return g+="/>",g}}function mn(y){if(y instanceof ee)return y;throw new Error("Expected symbolNode but got "+String(y)+".")}function Bn(y){if(y instanceof Lr)return y;throw new Error("Expected span<HtmlDomNode> but got "+String(y)+".")}const $r={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Os={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},as={math:{},text:{}};var kr=as;function z(y,g,E,M,U,K){as[y][U]={font:g,group:E,replace:M},K&&M&&(as[y][M]=as[y][U])}const J="math",on="text",A="main",V="ams",oe="accent-token",re="bin",Ne="close",ae="inner",Me="mathord",Qe="op-token",ht="open",mt="punct",he="rel",Vt="spacing",Le="textord";z(J,A,he,"","\\equiv",!0),z(J,A,he,"","\\prec",!0),z(J,A,he,"","\\succ",!0),z(J,A,he,"","\\sim",!0),z(J,A,he,"","\\perp"),z(J,A,he,"","\\preceq",!0),z(J,A,he,"","\\succeq",!0),z(J,A,he,"","\\simeq",!0),z(J,A,he,"","\\mid",!0),z(J,A,he,"","\\ll",!0),z(J,A,he,"","\\gg",!0),z(J,A,he,"","\\asymp",!0),z(J,A,he,"","\\parallel"),z(J,A,he,"","\\bowtie",!0),z(J,A,he,"","\\smile",!0),z(J,A,he,"","\\sqsubseteq",!0),z(J,A,he,"","\\sqsupseteq",!0),z(J,A,he,"","\\doteq",!0),z(J,A,he,"","\\frown",!0),z(J,A,he,"","\\ni",!0),z(J,A,he,"","\\propto",!0),z(J,A,he,"","\\vdash",!0),z(J,A,he,"","\\dashv",!0),z(J,A,he,"","\\owns"),z(J,A,mt,".","\\ldotp"),z(J,A,mt,"","\\cdotp"),z(J,A,Le,"#","\\#"),z(on,A,Le,"#","\\#"),z(J,A,Le,"&","\\&"),z(on,A,Le,"&","\\&"),z(J,A,Le,"","\\aleph",!0),z(J,A,Le,"","\\forall",!0),z(J,A,Le,"","\\hbar",!0),z(J,A,Le,"","\\exists",!0),z(J,A,Le,"","\\nabla",!0),z(J,A,Le,"","\\flat",!0),z(J,A,Le,"","\\ell",!0),z(J,A,Le,"","\\natural",!0),z(J,A,Le,"","\\clubsuit",!0),z(J,A,Le,"","\\wp",!0),z(J,A,Le,"","\\sharp",!0),z(J,A,Le,"","\\diamondsuit",!0),z(J,A,Le,"","\\Re",!0),z(J,A,Le,"","\\heartsuit",!0),z(J,A,Le,"","\\Im",!0),z(J,A,Le,"","\\spadesuit",!0),z(J,A,Le,"","\\S",!0),z(on,A,Le,"","\\S"),z(J,A,Le,"","\\P",!0),z(on,A,Le,"","\\P"),z(J,A,Le,"","\\dag"),z(on,A,Le,"","\\dag"),z(on,A,Le,"","\\textdagger"),z(J,A,Le,"","\\ddag"),z(on,A,Le,"","\\ddag"),z(on,A,Le,"","\\textdaggerdbl"),z(J,A,Ne,"","\\rmoustache",!0),z(J,A,ht,"","\\lmoustache",!0),z(J,A,Ne,"","\\rgroup",!0),z(J,A,ht,"","\\lgroup",!0),z(J,A,re,"","\\mp",!0),z(J,A,re,"","\\ominus",!0),z(J,A,re,"","\\uplus",!0),z(J,A,re,"","\\sqcap",!0),z(J,A,re,"","\\ast"),z(J,A,re,"","\\sqcup",!0),z(J,A,re,"","\\bigcirc",!0),z(J,A,re,"","\\bullet",!0),z(J,A,re,"","\\ddagger"),z(J,A,re,"","\\wr",!0),z(J,A,re,"","\\amalg"),z(J,A,re,"&","\\And"),z(J,A,he,"","\\longleftarrow",!0),z(J,A,he,"","\\Leftarrow",!0),z(J,A,he,"","\\Longleftarrow",!0),z(J,A,he,"","\\longrightarrow",!0),z(J,A,he,"","\\Rightarrow",!0),z(J,A,he,"","\\Longrightarrow",!0),z(J,A,he,"","\\leftrightarrow",!0),z(J,A,he,"","\\longleftrightarrow",!0),z(J,A,he,"","\\Leftrightarrow",!0),z(J,A,he,"","\\Longleftrightarrow",!0),z(J,A,he,"","\\mapsto",!0),z(J,A,he,"","\\longmapsto",!0),z(J,A,he,"","\\nearrow",!0),z(J,A,he,"","\\hookleftarrow",!0),z(J,A,he,"","\\hookrightarrow",!0),z(J,A,he,"","\\searrow",!0),z(J,A,he,"","\\leftharpoonup",!0),z(J,A,he,"","\\rightharpoonup",!0),z(J,A,he,"","\\swarrow",!0),z(J,A,he,"","\\leftharpoondown",!0),z(J,A,he,"","\\rightharpoondown",!0),z(J,A,he,"","\\nwarrow",!0),z(J,A,he,"","\\rightleftharpoons",!0),z(J,V,he,"","\\nless",!0),z(J,V,he,"","\\@nleqslant"),z(J,V,he,"","\\@nleqq"),z(J,V,he,"","\\lneq",!0),z(J,V,he,"","\\lneqq",!0),z(J,V,he,"","\\@lvertneqq"),z(J,V,he,"","\\lnsim",!0),z(J,V,he,"","\\lnapprox",!0),z(J,V,he,"","\\nprec",!0),z(J,V,he,"","\\npreceq",!0),z(J,V,he,"","\\precnsim",!0),z(J,V,he,"","\\precnapprox",!0),z(J,V,he,"","\\nsim",!0),z(J,V,he,"","\\@nshortmid"),z(J,V,he,"","\\nmid",!0),z(J,V,he,"","\\nvdash",!0),z(J,V,he,"","\\nvDash",!0),z(J,V,he,"","\\ntriangleleft"),z(J,V,he,"","\\ntrianglelefteq",!0),z(J,V,he,"","\\subsetneq",!0),z(J,V,he,"","\\@varsubsetneq"),z(J,V,he,"","\\subsetneqq",!0),z(J,V,he,"","\\@varsubsetneqq"),z(J,V,he,"","\\ngtr",!0),z(J,V,he,"","\\@ngeqslant"),z(J,V,he,"","\\@ngeqq"),z(J,V,he,"","\\gneq",!0),z(J,V,he,"","\\gneqq",!0),z(J,V,he,"","\\@gvertneqq"),z(J,V,he,"","\\gnsim",!0),z(J,V,he,"","\\gnapprox",!0),z(J,V,he,"","\\nsucc",!0),z(J,V,he,"","\\nsucceq",!0),z(J,V,he,"","\\succnsim",!0),z(J,V,he,"","\\succnapprox",!0),z(J,V,he,"","\\ncong",!0),z(J,V,he,"","\\@nshortparallel"),z(J,V,he,"","\\nparallel",!0),z(J,V,he,"","\\nVDash",!0),z(J,V,he,"","\\ntriangleright"),z(J,V,he,"","\\ntrianglerighteq",!0),z(J,V,he,"","\\@nsupseteqq"),z(J,V,he,"","\\supsetneq",!0),z(J,V,he,"","\\@varsupsetneq"),z(J,V,he,"","\\supsetneqq",!0),z(J,V,he,"","\\@varsupsetneqq"),z(J,V,he,"","\\nVdash",!0),z(J,V,he,"","\\precneqq",!0),z(J,V,he,"","\\succneqq",!0),z(J,V,he,"","\\@nsubseteqq"),z(J,V,re,"","\\unlhd"),z(J,V,re,"","\\unrhd"),z(J,V,he,"","\\nleftarrow",!0),z(J,V,he,"","\\nrightarrow",!0),z(J,V,he,"","\\nLeftarrow",!0),z(J,V,he,"","\\nRightarrow",!0),z(J,V,he,"","\\nleftrightarrow",!0),z(J,V,he,"","\\nLeftrightarrow",!0),z(J,V,he,"","\\vartriangle"),z(J,V,Le,"","\\hslash"),z(J,V,Le,"","\\triangledown"),z(J,V,Le,"","\\lozenge"),z(J,V,Le,"","\\circledS"),z(J,V,Le,"","\\circledR"),z(on,V,Le,"","\\circledR"),z(J,V,Le,"","\\measuredangle",!0),z(J,V,Le,"","\\nexists"),z(J,V,Le,"","\\mho"),z(J,V,Le,"","\\Finv",!0),z(J,V,Le,"","\\Game",!0),z(J,V,Le,"","\\backprime"),z(J,V,Le,"","\\blacktriangle"),z(J,V,Le,"","\\blacktriangledown"),z(J,V,Le,"","\\blacksquare"),z(J,V,Le,"","\\blacklozenge"),z(J,V,Le,"","\\bigstar"),z(J,V,Le,"","\\sphericalangle",!0),z(J,V,Le,"","\\complement",!0),z(J,V,Le,"","\\eth",!0),z(on,A,Le,"",""),z(J,V,Le,"","\\diagup"),z(J,V,Le,"","\\diagdown"),z(J,V,Le,"","\\square"),z(J,V,Le,"","\\Box"),z(J,V,Le,"","\\Diamond"),z(J,V,Le,"","\\yen",!0),z(on,V,Le,"","\\yen",!0),z(J,V,Le,"","\\checkmark",!0),z(on,V,Le,"","\\checkmark"),z(J,V,Le,"","\\beth",!0),z(J,V,Le,"","\\daleth",!0),z(J,V,Le,"","\\gimel",!0),z(J,V,Le,"","\\digamma",!0),z(J,V,Le,"","\\varkappa"),z(J,V,ht,"","\\@ulcorner",!0),z(J,V,Ne,"","\\@urcorner",!0),z(J,V,ht,"","\\@llcorner",!0),z(J,V,Ne,"","\\@lrcorner",!0),z(J,V,he,"","\\leqq",!0),z(J,V,he,"","\\leqslant",!0),z(J,V,he,"","\\eqslantless",!0),z(J,V,he,"","\\lesssim",!0),z(J,V,he,"","\\lessapprox",!0),z(J,V,he,"","\\approxeq",!0),z(J,V,re,"","\\lessdot"),z(J,V,he,"","\\lll",!0),z(J,V,he,"","\\lessgtr",!0),z(J,V,he,"","\\lesseqgtr",!0),z(J,V,he,"","\\lesseqqgtr",!0),z(J,V,he,"","\\doteqdot"),z(J,V,he,"","\\risingdotseq",!0),z(J,V,he,"","\\fallingdotseq",!0),z(J,V,he,"","\\backsim",!0),z(J,V,he,"","\\backsimeq",!0),z(J,V,he,"","\\subseteqq",!0),z(J,V,he,"","\\Subset",!0),z(J,V,he,"","\\sqsubset",!0),z(J,V,he,"","\\preccurlyeq",!0),z(J,V,he,"","\\curlyeqprec",!0),z(J,V,he,"","\\precsim",!0),z(J,V,he,"","\\precapprox",!0),z(J,V,he,"","\\vartriangleleft"),z(J,V,he,"","\\trianglelefteq"),z(J,V,he,"","\\vDash",!0),z(J,V,he,"","\\Vvdash",!0),z(J,V,he,"","\\smallsmile"),z(J,V,he,"","\\smallfrown"),z(J,V,he,"","\\bumpeq",!0),z(J,V,he,"","\\Bumpeq",!0),z(J,V,he,"","\\geqq",!0),z(J,V,he,"","\\geqslant",!0),z(J,V,he,"","\\eqslantgtr",!0),z(J,V,he,"","\\gtrsim",!0),z(J,V,he,"","\\gtrapprox",!0),z(J,V,re,"","\\gtrdot"),z(J,V,he,"","\\ggg",!0),z(J,V,he,"","\\gtrless",!0),z(J,V,he,"","\\gtreqless",!0),z(J,V,he,"","\\gtreqqless",!0),z(J,V,he,"","\\eqcirc",!0),z(J,V,he,"","\\circeq",!0),z(J,V,he,"","\\triangleq",!0),z(J,V,he,"","\\thicksim"),z(J,V,he,"","\\thickapprox"),z(J,V,he,"","\\supseteqq",!0),z(J,V,he,"","\\Supset",!0),z(J,V,he,"","\\sqsupset",!0),z(J,V,he,"","\\succcurlyeq",!0),z(J,V,he,"","\\curlyeqsucc",!0),z(J,V,he,"","\\succsim",!0),z(J,V,he,"","\\succapprox",!0),z(J,V,he,"","\\vartriangleright"),z(J,V,he,"","\\trianglerighteq"),z(J,V,he,"","\\Vdash",!0),z(J,V,he,"","\\shortmid"),z(J,V,he,"","\\shortparallel"),z(J,V,he,"","\\between",!0),z(J,V,he,"","\\pitchfork",!0),z(J,V,he,"","\\varpropto"),z(J,V,he,"","\\blacktriangleleft"),z(J,V,he,"","\\therefore",!0),z(J,V,he,"","\\backepsilon"),z(J,V,he,"","\\blacktriangleright"),z(J,V,he,"","\\because",!0),z(J,V,he,"","\\llless"),z(J,V,he,"","\\gggtr"),z(J,V,re,"","\\lhd"),z(J,V,re,"","\\rhd"),z(J,V,he,"","\\eqsim",!0),z(J,A,he,"","\\Join"),z(J,V,he,"","\\Doteq",!0),z(J,V,re,"","\\dotplus",!0),z(J,V,re,"","\\smallsetminus"),z(J,V,re,"","\\Cap",!0),z(J,V,re,"","\\Cup",!0),z(J,V,re,"","\\doublebarwedge",!0),z(J,V,re,"","\\boxminus",!0),z(J,V,re,"","\\boxplus",!0),z(J,V,re,"","\\divideontimes",!0),z(J,V,re,"","\\ltimes",!0),z(J,V,re,"","\\rtimes",!0),z(J,V,re,"","\\leftthreetimes",!0),z(J,V,re,"","\\rightthreetimes",!0),z(J,V,re,"","\\curlywedge",!0),z(J,V,re,"","\\curlyvee",!0),z(J,V,re,"","\\circleddash",!0),z(J,V,re,"","\\circledast",!0),z(J,V,re,"","\\centerdot"),z(J,V,re,"","\\intercal",!0),z(J,V,re,"","\\doublecap"),z(J,V,re,"","\\doublecup"),z(J,V,re,"","\\boxtimes",!0),z(J,V,he,"","\\dashrightarrow",!0),z(J,V,he,"","\\dashleftarrow",!0),z(J,V,he,"","\\leftleftarrows",!0),z(J,V,he,"","\\leftrightarrows",!0),z(J,V,he,"","\\Lleftarrow",!0),z(J,V,he,"","\\twoheadleftarrow",!0),z(J,V,he,"","\\leftarrowtail",!0),z(J,V,he,"","\\looparrowleft",!0),z(J,V,he,"","\\leftrightharpoons",!0),z(J,V,he,"","\\curvearrowleft",!0),z(J,V,he,"","\\circlearrowleft",!0),z(J,V,he,"","\\Lsh",!0),z(J,V,he,"","\\upuparrows",!0),z(J,V,he,"","\\upharpoonleft",!0),z(J,V,he,"","\\downharpoonleft",!0),z(J,A,he,"","\\origof",!0),z(J,A,he,"","\\imageof",!0),z(J,V,he,"","\\multimap",!0),z(J,V,he,"","\\leftrightsquigarrow",!0),z(J,V,he,"","\\rightrightarrows",!0),z(J,V,he,"","\\rightleftarrows",!0),z(J,V,he,"","\\twoheadrightarrow",!0),z(J,V,he,"","\\rightarrowtail",!0),z(J,V,he,"","\\looparrowright",!0),z(J,V,he,"","\\curvearrowright",!0),z(J,V,he,"","\\circlearrowright",!0),z(J,V,he,"","\\Rsh",!0),z(J,V,he,"","\\downdownarrows",!0),z(J,V,he,"","\\upharpoonright",!0),z(J,V,he,"","\\downharpoonright",!0),z(J,V,he,"","\\rightsquigarrow",!0),z(J,V,he,"","\\leadsto"),z(J,V,he,"","\\Rrightarrow",!0),z(J,V,he,"","\\restriction"),z(J,A,Le,"","`"),z(J,A,Le,"$","\\$"),z(on,A,Le,"$","\\$"),z(on,A,Le,"$","\\textdollar"),z(J,A,Le,"%","\\%"),z(on,A,Le,"%","\\%"),z(J,A,Le,"_","\\_"),z(on,A,Le,"_","\\_"),z(on,A,Le,"_","\\textunderscore"),z(J,A,Le,"","\\angle",!0),z(J,A,Le,"","\\infty",!0),z(J,A,Le,"","\\prime"),z(J,A,Le,"","\\triangle"),z(J,A,Le,"","\\Gamma",!0),z(J,A,Le,"","\\Delta",!0),z(J,A,Le,"","\\Theta",!0),z(J,A,Le,"","\\Lambda",!0),z(J,A,Le,"","\\Xi",!0),z(J,A,Le,"","\\Pi",!0),z(J,A,Le,"","\\Sigma",!0),z(J,A,Le,"","\\Upsilon",!0),z(J,A,Le,"","\\Phi",!0),z(J,A,Le,"","\\Psi",!0),z(J,A,Le,"","\\Omega",!0),z(J,A,Le,"A",""),z(J,A,Le,"B",""),z(J,A,Le,"E",""),z(J,A,Le,"Z",""),z(J,A,Le,"H",""),z(J,A,Le,"I",""),z(J,A,Le,"K",""),z(J,A,Le,"M",""),z(J,A,Le,"N",""),z(J,A,Le,"O",""),z(J,A,Le,"P",""),z(J,A,Le,"T",""),z(J,A,Le,"X",""),z(J,A,Le,"","\\neg",!0),z(J,A,Le,"","\\lnot"),z(J,A,Le,"","\\top"),z(J,A,Le,"","\\bot"),z(J,A,Le,"","\\emptyset"),z(J,V,Le,"","\\varnothing"),z(J,A,Me,"","\\alpha",!0),z(J,A,Me,"","\\beta",!0),z(J,A,Me,"","\\gamma",!0),z(J,A,Me,"","\\delta",!0),z(J,A,Me,"","\\epsilon",!0),z(J,A,Me,"","\\zeta",!0),z(J,A,Me,"","\\eta",!0),z(J,A,Me,"","\\theta",!0),z(J,A,Me,"","\\iota",!0),z(J,A,Me,"","\\kappa",!0),z(J,A,Me,"","\\lambda",!0),z(J,A,Me,"","\\mu",!0),z(J,A,Me,"","\\nu",!0),z(J,A,Me,"","\\xi",!0),z(J,A,Me,"","\\omicron",!0),z(J,A,Me,"","\\pi",!0),z(J,A,Me,"","\\rho",!0),z(J,A,Me,"","\\sigma",!0),z(J,A,Me,"","\\tau",!0),z(J,A,Me,"","\\upsilon",!0),z(J,A,Me,"","\\phi",!0),z(J,A,Me,"","\\chi",!0),z(J,A,Me,"","\\psi",!0),z(J,A,Me,"","\\omega",!0),z(J,A,Me,"","\\varepsilon",!0),z(J,A,Me,"","\\vartheta",!0),z(J,A,Me,"","\\varpi",!0),z(J,A,Me,"","\\varrho",!0),z(J,A,Me,"","\\varsigma",!0),z(J,A,Me,"","\\varphi",!0),z(J,A,re,"","*",!0),z(J,A,re,"+","+"),z(J,A,re,"","-",!0),z(J,A,re,"","\\cdot",!0),z(J,A,re,"","\\circ",!0),z(J,A,re,"","\\div",!0),z(J,A,re,"","\\pm",!0),z(J,A,re,"","\\times",!0),z(J,A,re,"","\\cap",!0),z(J,A,re,"","\\cup",!0),z(J,A,re,"","\\setminus",!0),z(J,A,re,"","\\land"),z(J,A,re,"","\\lor"),z(J,A,re,"","\\wedge",!0),z(J,A,re,"","\\vee",!0),z(J,A,Le,"","\\surd"),z(J,A,ht,"","\\langle",!0),z(J,A,ht,"","\\lvert"),z(J,A,ht,"","\\lVert"),z(J,A,Ne,"?","?"),z(J,A,Ne,"!","!"),z(J,A,Ne,"","\\rangle",!0),z(J,A,Ne,"","\\rvert"),z(J,A,Ne,"","\\rVert"),z(J,A,he,"=","="),z(J,A,he,":",":"),z(J,A,he,"","\\approx",!0),z(J,A,he,"","\\cong",!0),z(J,A,he,"","\\ge"),z(J,A,he,"","\\geq",!0),z(J,A,he,"","\\gets"),z(J,A,he,">","\\gt",!0),z(J,A,he,"","\\in",!0),z(J,A,he,"","\\@not"),z(J,A,he,"","\\subset",!0),z(J,A,he,"","\\supset",!0),z(J,A,he,"","\\subseteq",!0),z(J,A,he,"","\\supseteq",!0),z(J,V,he,"","\\nsubseteq",!0),z(J,V,he,"","\\nsupseteq",!0),z(J,A,he,"","\\models"),z(J,A,he,"","\\leftarrow",!0),z(J,A,he,"","\\le"),z(J,A,he,"","\\leq",!0),z(J,A,he,"<","\\lt",!0),z(J,A,he,"","\\rightarrow",!0),z(J,A,he,"","\\to"),z(J,V,he,"","\\ngeq",!0),z(J,V,he,"","\\nleq",!0),z(J,A,Vt,"","\\ "),z(J,A,Vt,"","\\space"),z(J,A,Vt,"","\\nobreakspace"),z(on,A,Vt,"","\\ "),z(on,A,Vt,""," "),z(on,A,Vt,"","\\space"),z(on,A,Vt,"","\\nobreakspace"),z(J,A,Vt,null,"\\nobreak"),z(J,A,Vt,null,"\\allowbreak"),z(J,A,mt,",",","),z(J,A,mt,";",";"),z(J,V,re,"","\\barwedge",!0),z(J,V,re,"","\\veebar",!0),z(J,A,re,"","\\odot",!0),z(J,A,re,"","\\oplus",!0),z(J,A,re,"","\\otimes",!0),z(J,A,Le,"","\\partial",!0),z(J,A,re,"","\\oslash",!0),z(J,V,re,"","\\circledcirc",!0),z(J,V,re,"","\\boxdot",!0),z(J,A,re,"","\\bigtriangleup"),z(J,A,re,"","\\bigtriangledown"),z(J,A,re,"","\\dagger"),z(J,A,re,"","\\diamond"),z(J,A,re,"","\\star"),z(J,A,re,"","\\triangleleft"),z(J,A,re,"","\\triangleright"),z(J,A,ht,"{","\\{"),z(on,A,Le,"{","\\{"),z(on,A,Le,"{","\\textbraceleft"),z(J,A,Ne,"}","\\}"),z(on,A,Le,"}","\\}"),z(on,A,Le,"}","\\textbraceright"),z(J,A,ht,"{","\\lbrace"),z(J,A,Ne,"}","\\rbrace"),z(J,A,ht,"[","\\lbrack",!0),z(on,A,Le,"[","\\lbrack",!0),z(J,A,Ne,"]","\\rbrack",!0),z(on,A,Le,"]","\\rbrack",!0),z(J,A,ht,"(","\\lparen",!0),z(J,A,Ne,")","\\rparen",!0),z(on,A,Le,"<","\\textless",!0),z(on,A,Le,">","\\textgreater",!0),z(J,A,ht,"","\\lfloor",!0),z(J,A,Ne,"","\\rfloor",!0),z(J,A,ht,"","\\lceil",!0),z(J,A,Ne,"","\\rceil",!0),z(J,A,Le,"\\","\\backslash"),z(J,A,Le,"","|"),z(J,A,Le,"","\\vert"),z(on,A,Le,"|","\\textbar",!0),z(J,A,Le,"","\\|"),z(J,A,Le,"","\\Vert"),z(on,A,Le,"","\\textbardbl"),z(on,A,Le,"~","\\textasciitilde"),z(on,A,Le,"\\","\\textbackslash"),z(on,A,Le,"^","\\textasciicircum"),z(J,A,he,"","\\uparrow",!0),z(J,A,he,"","\\Uparrow",!0),z(J,A,he,"","\\downarrow",!0),z(J,A,he,"","\\Downarrow",!0),z(J,A,he,"","\\updownarrow",!0),z(J,A,he,"","\\Updownarrow",!0),z(J,A,Qe,"","\\coprod"),z(J,A,Qe,"","\\bigvee"),z(J,A,Qe,"","\\bigwedge"),z(J,A,Qe,"","\\biguplus"),z(J,A,Qe,"","\\bigcap"),z(J,A,Qe,"","\\bigcup"),z(J,A,Qe,"","\\int"),z(J,A,Qe,"","\\intop"),z(J,A,Qe,"","\\iint"),z(J,A,Qe,"","\\iiint"),z(J,A,Qe,"","\\prod"),z(J,A,Qe,"","\\sum"),z(J,A,Qe,"","\\bigotimes"),z(J,A,Qe,"","\\bigoplus"),z(J,A,Qe,"","\\bigodot"),z(J,A,Qe,"","\\oint"),z(J,A,Qe,"","\\oiint"),z(J,A,Qe,"","\\oiiint"),z(J,A,Qe,"","\\bigsqcup"),z(J,A,Qe,"","\\smallint"),z(on,A,ae,"","\\textellipsis"),z(J,A,ae,"","\\mathellipsis"),z(on,A,ae,"","\\ldots",!0),z(J,A,ae,"","\\ldots",!0),z(J,A,ae,"","\\@cdots",!0),z(J,A,ae,"","\\ddots",!0),z(J,A,Le,"","\\varvdots"),z(on,A,Le,"","\\varvdots"),z(J,A,oe,"","\\acute"),z(J,A,oe,"","\\grave"),z(J,A,oe,"","\\ddot"),z(J,A,oe,"~","\\tilde"),z(J,A,oe,"","\\bar"),z(J,A,oe,"","\\breve"),z(J,A,oe,"","\\check"),z(J,A,oe,"^","\\hat"),z(J,A,oe,"","\\vec"),z(J,A,oe,"","\\dot"),z(J,A,oe,"","\\mathring"),z(J,A,Me,"","\\@imath"),z(J,A,Me,"","\\@jmath"),z(J,A,Le,"",""),z(J,A,Le,"",""),z(on,A,Le,"","\\i",!0),z(on,A,Le,"","\\j",!0),z(on,A,Le,"","\\ss",!0),z(on,A,Le,"","\\ae",!0),z(on,A,Le,"","\\oe",!0),z(on,A,Le,"","\\o",!0),z(on,A,Le,"","\\AE",!0),z(on,A,Le,"","\\OE",!0),z(on,A,Le,"","\\O",!0),z(on,A,oe,"","\\'"),z(on,A,oe,"","\\`"),z(on,A,oe,"","\\^"),z(on,A,oe,"","\\~"),z(on,A,oe,"","\\="),z(on,A,oe,"","\\u"),z(on,A,oe,"","\\."),z(on,A,oe,"","\\c"),z(on,A,oe,"","\\r"),z(on,A,oe,"","\\v"),z(on,A,oe,"",'\\"'),z(on,A,oe,"","\\H"),z(on,A,oe,"","\\textcircled");const On={"--":!0,"---":!0,"``":!0,"''":!0};z(on,A,Le,"","--",!0),z(on,A,Le,"","\\textendash"),z(on,A,Le,"","---",!0),z(on,A,Le,"","\\textemdash"),z(on,A,Le,"","`",!0),z(on,A,Le,"","\\textquoteleft"),z(on,A,Le,"","'",!0),z(on,A,Le,"","\\textquoteright"),z(on,A,Le,"","``",!0),z(on,A,Le,"","\\textquotedblleft"),z(on,A,Le,"","''",!0),z(on,A,Le,"","\\textquotedblright"),z(J,A,Le,"","\\degree",!0),z(on,A,Le,"","\\degree"),z(on,A,Le,"","\\textdegree",!0),z(J,A,Le,"","\\pounds"),z(J,A,Le,"","\\mathsterling",!0),z(on,A,Le,"","\\pounds"),z(on,A,Le,"","\\textsterling",!0),z(J,V,Le,"","\\maltese"),z(on,V,Le,"","\\maltese");const Fn='0123456789/@."';for(let y=0;y<Fn.length;y++){const g=Fn.charAt(y);z(J,A,Le,g,g)}const Vr='0123456789!@*()-=+";:?/.,';for(let y=0;y<Vr.length;y++){const g=Vr.charAt(y);z(on,A,Le,g,g)}const yr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let y=0;y<yr.length;y++){const g=yr.charAt(y);z(J,A,Me,g,g),z(on,A,Le,g,g)}z(J,V,Le,"C",""),z(on,V,Le,"C",""),z(J,V,Le,"H",""),z(on,V,Le,"H",""),z(J,V,Le,"N",""),z(on,V,Le,"N",""),z(J,V,Le,"P",""),z(on,V,Le,"P",""),z(J,V,Le,"Q",""),z(on,V,Le,"Q",""),z(J,V,Le,"R",""),z(on,V,Le,"R",""),z(J,V,Le,"Z",""),z(on,V,Le,"Z",""),z(J,A,Me,"h",""),z(on,A,Me,"h","");let Vn="";for(let y=0;y<yr.length;y++){const g=yr.charAt(y);Vn=String.fromCharCode(55349,56320+y),z(J,A,Me,g,Vn),z(on,A,Le,g,Vn),Vn=String.fromCharCode(55349,56372+y),z(J,A,Me,g,Vn),z(on,A,Le,g,Vn),Vn=String.fromCharCode(55349,56424+y),z(J,A,Me,g,Vn),z(on,A,Le,g,Vn),Vn=String.fromCharCode(55349,56580+y),z(J,A,Me,g,Vn),z(on,A,Le,g,Vn),Vn=String.fromCharCode(55349,56684+y),z(J,A,Me,g,Vn),z(on,A,Le,g,Vn),Vn=String.fromCharCode(55349,56736+y),z(J,A,Me,g,Vn),z(on,A,Le,g,Vn),Vn=String.fromCharCode(55349,56788+y),z(J,A,Me,g,Vn),z(on,A,Le,g,Vn),Vn=String.fromCharCode(55349,56840+y),z(J,A,Me,g,Vn),z(on,A,Le,g,Vn),Vn=String.fromCharCode(55349,56944+y),z(J,A,Me,g,Vn),z(on,A,Le,g,Vn),y<26&&(Vn=String.fromCharCode(55349,56632+y),z(J,A,Me,g,Vn),z(on,A,Le,g,Vn),Vn=String.fromCharCode(55349,56476+y),z(J,A,Me,g,Vn),z(on,A,Le,g,Vn))}Vn="",z(J,A,Me,"k",Vn),z(on,A,Le,"k",Vn);for(let y=0;y<10;y++){const g=y.toString();Vn=String.fromCharCode(55349,57294+y),z(J,A,Me,g,Vn),z(on,A,Le,g,Vn),Vn=String.fromCharCode(55349,57314+y),z(J,A,Me,g,Vn),z(on,A,Le,g,Vn),Vn=String.fromCharCode(55349,57324+y),z(J,A,Me,g,Vn),z(on,A,Le,g,Vn),Vn=String.fromCharCode(55349,57334+y),z(J,A,Me,g,Vn),z(on,A,Le,g,Vn)}const us="";for(let y=0;y<us.length;y++){const g=us.charAt(y);z(J,A,Me,g,g),z(on,A,Le,g,g)}const pi=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],yn=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Or=function(y,g){const E=y.charCodeAt(0),M=y.charCodeAt(1),U=(E-55296)*1024+(M-56320)+65536,K=g==="math"?0:1;if(119808<=U&&U<120484){const le=Math.floor((U-119808)/26);return[pi[le][2],pi[le][K]]}else if(120782<=U&&U<=120831){const le=Math.floor((U-120782)/10);return[yn[le][2],yn[le][K]]}else{if(U===120485||U===120486)return[pi[0][2],pi[0][K]];if(120486<U&&U<120782)return["",""];throw new c("Unsupported character: "+y)}};class zs{constructor(g){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=g,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(g){return this.classes.includes(g)}toNode(){const g=document.createDocumentFragment();for(let E=0;E<this.children.length;E++)g.appendChild(this.children[E].toNode());return g}toMarkup(){let g="";for(let E=0;E<this.children.length;E++)g+=this.children[E].toMarkup();return g}toText(){const g=E=>E.toText();return this.children.map(g).join("")}}const mi=function(y,g,E){return kr[E][y]&&kr[E][y].replace&&(y=kr[E][y].replace),{value:y,metrics:ls(y,g,E)}},Pr=function(y,g,E,M,U){const K=mi(y,g,E),le=K.metrics;y=K.value;let Ee;if(le){let Be=le.italic;(E==="text"||M&&M.font==="mathit")&&(Be=0),Ee=new ee(y,le.height,le.depth,Be,le.skew,le.width,U)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+y+"' in style '"+g+"' and mode '"+E+"'")),Ee=new ee(y,0,0,0,0,0,U);if(M){Ee.maxFontSize=M.sizeMultiplier,M.style.isTight()&&Ee.classes.push("mtight");const Be=M.getColor();Be&&(Ee.style.color=Be)}return Ee},an=function(y,g,E,M){return M===void 0&&(M=[]),E.font==="boldsymbol"&&mi(y,"Main-Bold",g).metrics?Pr(y,"Main-Bold",g,E,M.concat(["mathbf"])):y==="\\"||kr[g][y].font==="main"?Pr(y,"Main-Regular",g,E,M):Pr(y,"AMS-Regular",g,E,M.concat(["amsrm"]))},Te=function(y,g,E,M,U){return U!=="textord"&&mi(y,"Math-BoldItalic",g).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Di=function(y,g,E){const M=y.mode,U=y.text,K=["mord"],le=M==="math"||M==="text"&&g.font,Ee=le?g.font:g.fontFamily;let Be="",Ze="";if(U.charCodeAt(0)===55349&&([Be,Ze]=Or(U,M)),Be.length>0)return Pr(U,Be,M,g,K.concat(Ze));if(Ee){let pt,bt;if(Ee==="boldsymbol"){const Nt=Te(U,M,g,K,E);pt=Nt.fontName,bt=[Nt.fontClass]}else le?(pt=pe[Ee].fontName,bt=[Ee]):(pt=j(Ee,g.fontWeight,g.fontShape),bt=[Ee,g.fontWeight,g.fontShape]);if(mi(U,pt,M).metrics)return Pr(U,pt,M,g,K.concat(bt));if(On.hasOwnProperty(U)&&pt.slice(0,10)==="Typewriter"){const Nt=[];for(let sn=0;sn<U.length;sn++)Nt.push(Pr(U[sn],pt,M,g,K.concat(bt)));return io(Nt)}}if(E==="mathord")return Pr(U,"Math-Italic",M,g,K.concat(["mathnormal"]));if(E==="textord"){const pt=kr[M][U]&&kr[M][U].font;if(pt==="ams"){const bt=j("amsrm",g.fontWeight,g.fontShape);return Pr(U,bt,M,g,K.concat("amsrm",g.fontWeight,g.fontShape))}else if(pt==="main"||!pt){const bt=j("textrm",g.fontWeight,g.fontShape);return Pr(U,bt,M,g,K.concat(g.fontWeight,g.fontShape))}else{const bt=j(pt,g.fontWeight,g.fontShape);return Pr(U,bt,M,g,K.concat(bt,g.fontWeight,g.fontShape))}}else throw new Error("unexpected type: "+E+" in makeOrd")},Ts=(y,g)=>{if($e(y.classes)!==$e(g.classes)||y.skew!==g.skew||y.maxFontSize!==g.maxFontSize)return!1;if(y.classes.length===1){const E=y.classes[0];if(E==="mbin"||E==="mord")return!1}for(const E in y.style)if(y.style.hasOwnProperty(E)&&y.style[E]!==g.style[E])return!1;for(const E in g.style)if(g.style.hasOwnProperty(E)&&y.style[E]!==g.style[E])return!1;return!0},_r=y=>{for(let g=0;g<y.length-1;g++){const E=y[g],M=y[g+1];E instanceof ee&&M instanceof ee&&Ts(E,M)&&(E.text+=M.text,E.height=Math.max(E.height,M.height),E.depth=Math.max(E.depth,M.depth),E.italic=M.italic,y.splice(g+1,1),g--)}return y},Gr=function(y){let g=0,E=0,M=0;for(let U=0;U<y.children.length;U++){const K=y.children[U];K.height>g&&(g=K.height),K.depth>E&&(E=K.depth),K.maxFontSize>M&&(M=K.maxFontSize)}y.height=g,y.depth=E,y.maxFontSize=M},xn=function(y,g,E,M){const U=new Lr(y,g,E,M);return Gr(U),U},cr=(y,g,E,M)=>new Lr(y,g,E,M),Kr=function(y,g,E){const M=xn([y],[],g);return M.height=Math.max(E||g.fontMetrics().defaultRuleThickness,g.minRuleThickness),M.style.borderBottomWidth=F(M.height),M.maxFontSize=1,M},K0=function(y,g,E,M){const U=new ne(y,g,E,M);return Gr(U),U},io=function(y){const g=new zs(y);return Gr(g),g},ir=function(y,g){return y instanceof zs?xn([],[y],g):y},p=function(y){if(y.positionType==="individualShift"){const E=y.children,M=[E[0]],U=-E[0].shift-E[0].elem.depth;let K=U;for(let le=1;le<E.length;le++){const Ee=-E[le].shift-K-E[le].elem.depth,Be=Ee-(E[le-1].elem.height+E[le-1].elem.depth);K=K+Ee,M.push({type:"kern",size:Be}),M.push(E[le])}return{children:M,depth:U}}let g;if(y.positionType==="top"){let E=y.positionData;for(let M=0;M<y.children.length;M++){const U=y.children[M];E-=U.type==="kern"?U.size:U.elem.height+U.elem.depth}g=E}else if(y.positionType==="bottom")g=-y.positionData;else{const E=y.children[0];if(E.type!=="elem")throw new Error('First child must have type "elem".');if(y.positionType==="shift")g=-E.elem.depth-y.positionData;else if(y.positionType==="firstBaseline")g=-E.elem.depth;else throw new Error("Invalid positionType "+y.positionType+".")}return{children:y.children,depth:g}},I=function(y,g){const{children:E,depth:M}=p(y);let U=0;for(let sn=0;sn<E.length;sn++){const kn=E[sn];if(kn.type==="elem"){const Un=kn.elem;U=Math.max(U,Un.maxFontSize,Un.height)}}U+=2;const K=xn(["pstrut"],[]);K.style.height=F(U);const le=[];let Ee=M,Be=M,Ze=M;for(let sn=0;sn<E.length;sn++){const kn=E[sn];if(kn.type==="kern")Ze+=kn.size;else{const Un=kn.elem,Ur=kn.wrapperClasses||[],wr=kn.wrapperStyle||{},Ar=xn(Ur,[K,Un],void 0,wr);Ar.style.top=F(-U-Ze-Un.depth),kn.marginLeft&&(Ar.style.marginLeft=kn.marginLeft),kn.marginRight&&(Ar.style.marginRight=kn.marginRight),le.push(Ar),Ze+=Un.height+Un.depth}Ee=Math.min(Ee,Ze),Be=Math.max(Be,Ze)}const pt=xn(["vlist"],le);pt.style.height=F(Be);let bt;if(Ee<0){const sn=xn([],[]),kn=xn(["vlist"],[sn]);kn.style.height=F(-Ee);const Un=xn(["vlist-s"],[new ee("")]);bt=[xn(["vlist-r"],[pt,Un]),xn(["vlist-r"],[kn])]}else bt=[xn(["vlist-r"],[pt])];const Nt=xn(["vlist-t"],bt);return bt.length===2&&Nt.classes.push("vlist-t2"),Nt.height=Be,Nt.depth=-Ee,Nt},H=(y,g)=>{const E=xn(["mspace"],[],g),M=Ot(y,g);return E.style.marginRight=F(M),E},j=function(y,g,E){let M="";switch(y){case"amsrm":M="AMS";break;case"textrm":M="Main";break;case"textsf":M="SansSerif";break;case"texttt":M="Typewriter";break;default:M=y}let U;return g==="textbf"&&E==="textit"?U="BoldItalic":g==="textbf"?U="Bold":g==="textit"?U="Italic":U="Regular",M+"-"+U},pe={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},be={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var xe={fontMap:pe,makeSymbol:Pr,mathsym:an,makeSpan:xn,makeSvgSpan:cr,makeLineSpan:Kr,makeAnchor:K0,makeFragment:io,wrapFragment:ir,makeVList:I,makeOrd:Di,makeGlue:H,staticSvg:function(y,g){const[E,M,U]=be[y],K=new je(E),le=new Ce([K],{width:F(M),height:F(U),style:"width:"+F(M),viewBox:"0 0 "+1e3*M+" "+1e3*U,preserveAspectRatio:"xMinYMin"}),Ee=cr(["overlay"],[le],g);return Ee.height=U,Ee.style.height=F(U),Ee.style.width=F(M),Ee},svgData:be,tryCombineChars:_r};const _t={number:3,unit:"mu"},Bt={number:4,unit:"mu"},kt={number:5,unit:"mu"},bn={mord:{mop:_t,mbin:Bt,mrel:kt,minner:_t},mop:{mord:_t,mop:_t,mrel:kt,minner:_t},mbin:{mord:Bt,mop:Bt,mopen:Bt,minner:Bt},mrel:{mord:kt,mop:kt,mopen:kt,minner:kt},mopen:{},mclose:{mop:_t,mbin:Bt,mrel:kt,minner:_t},mpunct:{mord:_t,mop:_t,mrel:kt,mopen:_t,mclose:_t,mpunct:_t,minner:_t},minner:{mord:_t,mop:_t,mbin:Bt,mrel:kt,mopen:_t,mpunct:_t,minner:_t}},en={mord:{mop:_t},mop:{mord:_t,mop:_t},mbin:{},mrel:{},mopen:{},mclose:{mop:_t},mpunct:{},minner:{mop:_t}},hn={},Rn={},wn={};function jt(y){let{type:g,names:E,props:M,handler:U,htmlBuilder:K,mathmlBuilder:le}=y;const Ee={type:g,numArgs:M.numArgs,argTypes:M.argTypes,allowedInArgument:!!M.allowedInArgument,allowedInText:!!M.allowedInText,allowedInMath:M.allowedInMath===void 0?!0:M.allowedInMath,numOptionalArgs:M.numOptionalArgs||0,infix:!!M.infix,primitive:!!M.primitive,handler:U};for(let Be=0;Be<E.length;++Be)hn[E[Be]]=Ee;g&&(K&&(Rn[g]=K),le&&(wn[g]=le))}function hr(y){let{type:g,htmlBuilder:E,mathmlBuilder:M}=y;jt({type:g,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:E,mathmlBuilder:M})}const jn=function(y){return y.type==="ordgroup"&&y.body.length===1?y.body[0]:y},sr=function(y){return y.type==="ordgroup"?y.body:[y]},qr=xe.makeSpan,fr=["leftmost","mbin","mopen","mrel","mop","mpunct"],ai=["rightmost","mrel","mclose","mpunct"],so={display:de.DISPLAY,text:de.TEXT,script:de.SCRIPT,scriptscript:de.SCRIPTSCRIPT},ps={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Xn=function(y,g,E,M){M===void 0&&(M=[null,null]);const U=[];for(let Ze=0;Ze<y.length;Ze++){const pt=tr(y[Ze],g);if(pt instanceof zs){const bt=pt.children;U.push(...bt)}else U.push(pt)}if(xe.tryCombineChars(U),!E)return U;let K=g;if(y.length===1){const Ze=y[0];Ze.type==="sizing"?K=g.havingSize(Ze.size):Ze.type==="styling"&&(K=g.havingStyle(so[Ze.style]))}const le=qr([M[0]||"leftmost"],[],g),Ee=qr([M[1]||"rightmost"],[],g),Be=E==="root";return gi(U,(Ze,pt)=>{const bt=pt.classes[0],Nt=Ze.classes[0];bt==="mbin"&&ai.includes(Nt)?pt.classes[0]="mord":Nt==="mbin"&&fr.includes(bt)&&(Ze.classes[0]="mord")},{node:le},Ee,Be),gi(U,(Ze,pt)=>{const bt=cs(pt),Nt=cs(Ze),sn=bt&&Nt?Ze.hasClass("mtight")?en[bt][Nt]:bn[bt][Nt]:null;if(sn)return xe.makeGlue(sn,K)},{node:le},Ee,Be),U},gi=function(y,g,E,M,U){M&&y.push(M);let K=0;for(;K<y.length;K++){const le=y[K],Ee=Bi(le);if(Ee){gi(Ee.children,g,E,null,U);continue}const Be=!le.hasClass("mspace");if(Be){const Ze=g(le,E.node);Ze&&(E.insertAfter?E.insertAfter(Ze):(y.unshift(Ze),K++))}Be?E.node=le:U&&le.hasClass("newline")&&(E.node=qr(["leftmost"])),E.insertAfter=(Ze=>pt=>{y.splice(Ze+1,0,pt),K++})(K)}M&&y.pop()},Bi=function(y){return y instanceof zs||y instanceof ne||y instanceof Lr&&y.hasClass("enclosing")?y:null},ji=function(y,g){const E=Bi(y);if(E){const M=E.children;if(M.length){if(g==="right")return ji(M[M.length-1],"right");if(g==="left")return ji(M[0],"left")}}return y},cs=function(y,g){return y?(g&&(y=ji(y,g)),ps[y.classes[0]]||null):null},ui=function(y,g){const E=["nulldelimiter"].concat(y.baseSizingClasses());return qr(g.concat(E))},tr=function(y,g,E){if(!y)return qr();if(Rn[y.type]){let M=Rn[y.type](y,g);if(E&&g.size!==E.size){M=qr(g.sizingClasses(E),[M],g);const U=g.sizeMultiplier/E.sizeMultiplier;M.height*=U,M.depth*=U}return M}else throw new c("Got group of unknown type: '"+y.type+"'")};function ii(y,g){const E=qr(["base"],y,g),M=qr(["strut"]);return M.style.height=F(E.height+E.depth),E.depth&&(M.style.verticalAlign=F(-E.depth)),E.children.unshift(M),E}function Ei(y,g){let E=null;y.length===1&&y[0].type==="tag"&&(E=y[0].tag,y=y[0].body);const M=Xn(y,g,"root");let U;M.length===2&&M[1].hasClass("tag")&&(U=M.pop());const K=[];let le=[];for(let Ze=0;Ze<M.length;Ze++)if(le.push(M[Ze]),M[Ze].hasClass("mbin")||M[Ze].hasClass("mrel")||M[Ze].hasClass("allowbreak")){let pt=!1;for(;Ze<M.length-1&&M[Ze+1].hasClass("mspace")&&!M[Ze+1].hasClass("newline");)Ze++,le.push(M[Ze]),M[Ze].hasClass("nobreak")&&(pt=!0);pt||(K.push(ii(le,g)),le=[])}else M[Ze].hasClass("newline")&&(le.pop(),le.length>0&&(K.push(ii(le,g)),le=[]),K.push(M[Ze]));le.length>0&&K.push(ii(le,g));let Ee;E?(Ee=ii(Xn(E,g,!0)),Ee.classes=["tag"],K.push(Ee)):U&&K.push(U);const Be=qr(["katex-html"],K);if(Be.setAttribute("aria-hidden","true"),Ee){const Ze=Ee.children[0];Ze.style.height=F(Be.height+Be.depth),Be.depth&&(Ze.style.verticalAlign=F(-Be.depth))}return Be}function To(y){return new zs(y)}class ci{constructor(g,E,M){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=g,this.attributes={},this.children=E||[],this.classes=M||[]}setAttribute(g,E){this.attributes[g]=E}getAttribute(g){return this.attributes[g]}toNode(){const g=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const E in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,E)&&g.setAttribute(E,this.attributes[E]);this.classes.length>0&&(g.className=$e(this.classes));for(let E=0;E<this.children.length;E++)if(this.children[E]instanceof Xs&&this.children[E+1]instanceof Xs){let M=this.children[E].toText()+this.children[++E].toText();for(;this.children[E+1]instanceof Xs;)M+=this.children[++E].toText();g.appendChild(new Xs(M).toNode())}else g.appendChild(this.children[E].toNode());return g}toMarkup(){let g="<"+this.type;for(const E in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,E)&&(g+=" "+E+'="',g+=X.escape(this.attributes[E]),g+='"');this.classes.length>0&&(g+=' class ="'+X.escape($e(this.classes))+'"'),g+=">";for(let E=0;E<this.children.length;E++)g+=this.children[E].toMarkup();return g+="</"+this.type+">",g}toText(){return this.children.map(g=>g.toText()).join("")}}class Xs{constructor(g){this.text=void 0,this.text=g}toNode(){return document.createTextNode(this.text)}toMarkup(){return X.escape(this.toText())}toText(){return this.text}}class Mo{constructor(g){this.width=void 0,this.character=void 0,this.width=g,g>=.05555&&g<=.05556?this.character="":g>=.1666&&g<=.1667?this.character="":g>=.2222&&g<=.2223?this.character="":g>=.2777&&g<=.2778?this.character="":g>=-.05556&&g<=-.05555?this.character="":g>=-.1667&&g<=-.1666?this.character="":g>=-.2223&&g<=-.2222?this.character="":g>=-.2778&&g<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const g=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return g.setAttribute("width",F(this.width)),g}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+F(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var rn={MathNode:ci,TextNode:Xs,SpaceNode:Mo,newDocumentFragment:To};const Pi=function(y,g,E){return kr[g][y]&&kr[g][y].replace&&y.charCodeAt(0)!==55349&&!(On.hasOwnProperty(y)&&E&&(E.fontFamily&&E.fontFamily.slice(4,6)==="tt"||E.font&&E.font.slice(4,6)==="tt"))&&(y=kr[g][y].replace),new rn.TextNode(y)},ts=function(y){return y.length===1?y[0]:new rn.MathNode("mrow",y)},$a=function(y,g){if(g.fontFamily==="texttt")return"monospace";if(g.fontFamily==="textsf")return g.fontShape==="textit"&&g.fontWeight==="textbf"?"sans-serif-bold-italic":g.fontShape==="textit"?"sans-serif-italic":g.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(g.fontShape==="textit"&&g.fontWeight==="textbf")return"bold-italic";if(g.fontShape==="textit")return"italic";if(g.fontWeight==="textbf")return"bold";const E=g.font;if(!E||E==="mathnormal")return null;const M=y.mode;if(E==="mathit")return"italic";if(E==="boldsymbol")return y.type==="textord"?"bold":"bold-italic";if(E==="mathbf")return"bold";if(E==="mathbb")return"double-struck";if(E==="mathsfit")return"sans-serif-italic";if(E==="mathfrak")return"fraktur";if(E==="mathscr"||E==="mathcal")return"script";if(E==="mathsf")return"sans-serif";if(E==="mathtt")return"monospace";let U=y.text;if(["\\imath","\\jmath"].includes(U))return null;kr[M][U]&&kr[M][U].replace&&(U=kr[M][U].replace);const K=xe.fontMap[E].fontName;return ls(U,K,M)?xe.fontMap[E].variant:null};function va(y){if(!y)return!1;if(y.type==="mi"&&y.children.length===1){const g=y.children[0];return g instanceof Xs&&g.text==="."}else if(y.type==="mo"&&y.children.length===1&&y.getAttribute("separator")==="true"&&y.getAttribute("lspace")==="0em"&&y.getAttribute("rspace")==="0em"){const g=y.children[0];return g instanceof Xs&&g.text===","}else return!1}const Ys=function(y,g,E){if(y.length===1){const K=ei(y[0],g);return E&&K instanceof ci&&K.type==="mo"&&(K.setAttribute("lspace","0em"),K.setAttribute("rspace","0em")),[K]}const M=[];let U;for(let K=0;K<y.length;K++){const le=ei(y[K],g);if(le instanceof ci&&U instanceof ci){if(le.type==="mtext"&&U.type==="mtext"&&le.getAttribute("mathvariant")===U.getAttribute("mathvariant")){U.children.push(...le.children);continue}else if(le.type==="mn"&&U.type==="mn"){U.children.push(...le.children);continue}else if(va(le)&&U.type==="mn"){U.children.push(...le.children);continue}else if(le.type==="mn"&&va(U))le.children=[...U.children,...le.children],M.pop();else if((le.type==="msup"||le.type==="msub")&&le.children.length>=1&&(U.type==="mn"||va(U))){const Ee=le.children[0];Ee instanceof ci&&Ee.type==="mn"&&(Ee.children=[...U.children,...Ee.children],M.pop())}else if(U.type==="mi"&&U.children.length===1){const Ee=U.children[0];if(Ee instanceof Xs&&Ee.text===""&&(le.type==="mo"||le.type==="mi"||le.type==="mn")){const Be=le.children[0];Be instanceof Xs&&Be.text.length>0&&(Be.text=Be.text.slice(0,1)+""+Be.text.slice(1),M.pop())}}}M.push(le),U=le}return M},Hs=function(y,g,E){return ts(Ys(y,g,E))},ei=function(y,g){if(!y)return new rn.MathNode("mrow");if(wn[y.type])return wn[y.type](y,g);throw new c("Got group of unknown type: '"+y.type+"'")};function Rs(y,g,E,M,U){const K=Ys(y,E);let le;K.length===1&&K[0]instanceof ci&&["mrow","mtable"].includes(K[0].type)?le=K[0]:le=new rn.MathNode("mrow",K);const Ee=new rn.MathNode("annotation",[new rn.TextNode(g)]);Ee.setAttribute("encoding","application/x-tex");const Be=new rn.MathNode("semantics",[le,Ee]),Ze=new rn.MathNode("math",[Be]);Ze.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),M&&Ze.setAttribute("display","block");const pt=U?"katex":"katex-mathml";return xe.makeSpan([pt],[Ze])}const Qo=function(y){return new qe({style:y.displayMode?de.DISPLAY:de.TEXT,maxSize:y.maxSize,minRuleThickness:y.minRuleThickness})},Wl=function(y,g){if(g.displayMode){const E=["katex-display"];g.leqno&&E.push("leqno"),g.fleqn&&E.push("fleqn"),y=xe.makeSpan(E,[y])}return y},jl=function(y,g,E){const M=Qo(E);let U;if(E.output==="mathml")return Rs(y,g,M,E.displayMode,!0);if(E.output==="html"){const K=Ei(y,M);U=xe.makeSpan(["katex"],[K])}else{const K=Rs(y,g,M,E.displayMode,!1),le=Ei(y,M);U=xe.makeSpan(["katex"],[K,le])}return Wl(U,E)},Xl=function(y,g,E){const M=Qo(E),U=Ei(y,M),K=xe.makeSpan(["katex"],[U]);return Wl(K,E)},Ou={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Eo=function(y){const g=new rn.MathNode("mo",[new rn.TextNode(Ou[y.replace(/^\\/,"")])]);return g.setAttribute("stretchy","true"),g},Vh={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Gh=function(y){return y.type==="ordgroup"?y.body.length:1};var _l={encloseSpan:function(y,g,E,M,U){let K;const le=y.height+y.depth+E+M;if(/fbox|color|angl/.test(g)){if(K=xe.makeSpan(["stretchy",g],[],U),g==="fbox"){const Ee=U.color&&U.getColor();Ee&&(K.style.borderColor=Ee)}}else{const Ee=[];/^[bx]cancel$/.test(g)&&Ee.push(new Ft({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(g)&&Ee.push(new Ft({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const Be=new Ce(Ee,{width:"100%",height:F(le)});K=xe.makeSvgSpan([],[Be],U)}return K.height=le,K.style.height=F(le),K},mathMLnode:Eo,svgSpan:function(y,g){function E(){let le=4e5;const Ee=y.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(Ee)){const Ze=Gh(y.base);let pt,bt,Nt;if(Ze>5)Ee==="widehat"||Ee==="widecheck"?(pt=420,le=2364,Nt=.42,bt=Ee+"4"):(pt=312,le=2340,Nt=.34,bt="tilde4");else{const Un=[1,1,2,2,3,3][Ze];Ee==="widehat"||Ee==="widecheck"?(le=[0,1062,2364,2364,2364][Un],pt=[0,239,300,360,420][Un],Nt=[0,.24,.3,.3,.36,.42][Un],bt=Ee+Un):(le=[0,600,1033,2339,2340][Un],pt=[0,260,286,306,312][Un],Nt=[0,.26,.286,.3,.306,.34][Un],bt="tilde"+Un)}const sn=new je(bt),kn=new Ce([sn],{width:"100%",height:F(Nt),viewBox:"0 0 "+le+" "+pt,preserveAspectRatio:"none"});return{span:xe.makeSvgSpan([],[kn],g),minWidth:0,height:Nt}}else{const Be=[],Ze=Vh[Ee],[pt,bt,Nt]=Ze,sn=Nt/1e3,kn=pt.length;let Un,Ur;if(kn===1){const wr=Ze[3];Un=["hide-tail"],Ur=[wr]}else if(kn===2)Un=["halfarrow-left","halfarrow-right"],Ur=["xMinYMin","xMaxYMin"];else if(kn===3)Un=["brace-left","brace-center","brace-right"],Ur=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+kn+" children.");for(let wr=0;wr<kn;wr++){const Ar=new je(pt[wr]),vi=new Ce([Ar],{width:"400em",height:F(sn),viewBox:"0 0 "+le+" "+Nt,preserveAspectRatio:Ur[wr]+" slice"}),ni=xe.makeSvgSpan([Un[wr]],[vi],g);if(kn===1)return{span:ni,minWidth:bt,height:sn};ni.style.height=F(sn),Be.push(ni)}return{span:xe.makeSpan(["stretchy"],Be,g),minWidth:bt,height:sn}}}const{span:M,minWidth:U,height:K}=E();return M.height=K,M.style.height=F(K),U>0&&(M.style.minWidth=F(U)),M}};function Er(y,g){if(!y||y.type!==g)throw new Error("Expected node of type "+g+", but got "+(y?"node of type "+y.type:String(y)));return y}function Ru(y){const g=u0(y);if(!g)throw new Error("Expected node of symbol group type, but got "+(y?"node of type "+y.type:String(y)));return g}function u0(y){return y&&(y.type==="atom"||Os.hasOwnProperty(y.type))?y:null}const J0=(y,g)=>{let E,M,U;y&&y.type==="supsub"?(M=Er(y.base,"accent"),E=M.base,y.base=E,U=Bn(tr(y,g)),y.base=M):(M=Er(y,"accent"),E=M.base);const K=tr(E,g.havingCrampedStyle()),le=M.isShifty&&X.isCharacterBox(E);let Ee=0;if(le){const Nt=X.getBaseElem(E),sn=tr(Nt,g.havingCrampedStyle());Ee=mn(sn).skew}const Be=M.label==="\\c";let Ze=Be?K.height+K.depth:Math.min(K.height,g.fontMetrics().xHeight),pt;if(M.isStretchy)pt=_l.svgSpan(M,g),pt=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:K},{type:"elem",elem:pt,wrapperClasses:["svg-align"],wrapperStyle:Ee>0?{width:"calc(100% - "+F(2*Ee)+")",marginLeft:F(2*Ee)}:void 0}]},g);else{let Nt,sn;M.label==="\\vec"?(Nt=xe.staticSvg("vec",g),sn=xe.svgData.vec[1]):(Nt=xe.makeOrd({mode:M.mode,text:M.label},g,"textord"),Nt=mn(Nt),Nt.italic=0,sn=Nt.width,Be&&(Ze+=Nt.depth)),pt=xe.makeSpan(["accent-body"],[Nt]);const kn=M.label==="\\textcircled";kn&&(pt.classes.push("accent-full"),Ze=K.height);let Un=Ee;kn||(Un-=sn/2),pt.style.left=F(Un),M.label==="\\textcircled"&&(pt.style.top=".2em"),pt=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:K},{type:"kern",size:-Ze},{type:"elem",elem:pt}]},g)}const bt=xe.makeSpan(["mord","accent"],[pt],g);return U?(U.children[0]=bt,U.height=Math.max(bt.height,U.height),U.classes[0]="mord",U):bt},Nc=(y,g)=>{const E=y.isStretchy?_l.mathMLnode(y.label):new rn.MathNode("mo",[Pi(y.label,y.mode)]),M=new rn.MathNode("mover",[ei(y.base,g),E]);return M.setAttribute("accent","true"),M},Oa=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(y=>"\\"+y).join("|"));jt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(y,g)=>{const E=jn(g[0]),M=!Oa.test(y.funcName),U=!M||y.funcName==="\\widehat"||y.funcName==="\\widetilde"||y.funcName==="\\widecheck";return{type:"accent",mode:y.parser.mode,label:y.funcName,isStretchy:M,isShifty:U,base:E}},htmlBuilder:J0,mathmlBuilder:Nc}),jt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(y,g)=>{const E=g[0];let M=y.parser.mode;return M==="math"&&(y.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+y.funcName+" works only in text mode"),M="text"),{type:"accent",mode:M,label:y.funcName,isStretchy:!1,isShifty:!0,base:E}},htmlBuilder:J0,mathmlBuilder:Nc}),jt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(y,g)=>{let{parser:E,funcName:M}=y;const U=g[0];return{type:"accentUnder",mode:E.mode,label:M,base:U}},htmlBuilder:(y,g)=>{const E=tr(y.base,g),M=_l.svgSpan(y,g),U=y.label==="\\utilde"?.12:0,K=xe.makeVList({positionType:"top",positionData:E.height,children:[{type:"elem",elem:M,wrapperClasses:["svg-align"]},{type:"kern",size:U},{type:"elem",elem:E}]},g);return xe.makeSpan(["mord","accentunder"],[K],g)},mathmlBuilder:(y,g)=>{const E=_l.mathMLnode(y.label),M=new rn.MathNode("munder",[ei(y.base,g),E]);return M.setAttribute("accentunder","true"),M}});const Ra=y=>{const g=new rn.MathNode("mpadded",y?[y]:[]);return g.setAttribute("width","+0.6em"),g.setAttribute("lspace","0.3em"),g};jt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(y,g,E){let{parser:M,funcName:U}=y;return{type:"xArrow",mode:M.mode,label:U,body:g[0],below:E[0]}},htmlBuilder(y,g){const E=g.style;let M=g.havingStyle(E.sup());const U=xe.wrapFragment(tr(y.body,M,g),g),K=y.label.slice(0,2)==="\\x"?"x":"cd";U.classes.push(K+"-arrow-pad");let le;y.below&&(M=g.havingStyle(E.sub()),le=xe.wrapFragment(tr(y.below,M,g),g),le.classes.push(K+"-arrow-pad"));const Ee=_l.svgSpan(y,g),Be=-g.fontMetrics().axisHeight+.5*Ee.height;let Ze=-g.fontMetrics().axisHeight-.5*Ee.height-.111;(U.depth>.25||y.label==="\\xleftequilibrium")&&(Ze-=U.depth);let pt;if(le){const bt=-g.fontMetrics().axisHeight+le.height+.5*Ee.height+.111;pt=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:U,shift:Ze},{type:"elem",elem:Ee,shift:Be},{type:"elem",elem:le,shift:bt}]},g)}else pt=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:U,shift:Ze},{type:"elem",elem:Ee,shift:Be}]},g);return pt.children[0].children[0].children[1].classes.push("svg-align"),xe.makeSpan(["mrel","x-arrow"],[pt],g)},mathmlBuilder(y,g){const E=_l.mathMLnode(y.label);E.setAttribute("minsize",y.label.charAt(0)==="x"?"1.75em":"3.0em");let M;if(y.body){const U=Ra(ei(y.body,g));if(y.below){const K=Ra(ei(y.below,g));M=new rn.MathNode("munderover",[E,K,U])}else M=new rn.MathNode("mover",[E,U])}else if(y.below){const U=Ra(ei(y.below,g));M=new rn.MathNode("munder",[E,U])}else M=Ra(),M=new rn.MathNode("mover",[E,M]);return M}});const qh=xe.makeSpan;function La(y,g){const E=Xn(y.body,g,!0);return qh([y.mclass],E,g)}function Z0(y,g){let E;const M=Ys(y.body,g);return y.mclass==="minner"?E=new rn.MathNode("mpadded",M):y.mclass==="mord"?y.isCharacterBox?(E=M[0],E.type="mi"):E=new rn.MathNode("mi",M):(y.isCharacterBox?(E=M[0],E.type="mo"):E=new rn.MathNode("mo",M),y.mclass==="mbin"?(E.attributes.lspace="0.22em",E.attributes.rspace="0.22em"):y.mclass==="mpunct"?(E.attributes.lspace="0em",E.attributes.rspace="0.17em"):y.mclass==="mopen"||y.mclass==="mclose"?(E.attributes.lspace="0em",E.attributes.rspace="0em"):y.mclass==="minner"&&(E.attributes.lspace="0.0556em",E.attributes.width="+0.1111em")),E}jt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(y,g){let{parser:E,funcName:M}=y;const U=g[0];return{type:"mclass",mode:E.mode,mclass:"m"+M.slice(5),body:sr(U),isCharacterBox:X.isCharacterBox(U)}},htmlBuilder:La,mathmlBuilder:Z0});const c0=y=>{const g=y.type==="ordgroup"&&y.body.length?y.body[0]:y;return g.type==="atom"&&(g.family==="bin"||g.family==="rel")?"m"+g.family:"mord"};jt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(y,g){let{parser:E}=y;return{type:"mclass",mode:E.mode,mclass:c0(g[0]),body:sr(g[1]),isCharacterBox:X.isCharacterBox(g[1])}}}),jt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(y,g){let{parser:E,funcName:M}=y;const U=g[1],K=g[0];let le;M!=="\\stackrel"?le=c0(U):le="mrel";const Ee={type:"op",mode:U.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:M!=="\\stackrel",body:sr(U)},Be={type:"supsub",mode:K.mode,base:Ee,sup:M==="\\underset"?null:K,sub:M==="\\underset"?K:null};return{type:"mclass",mode:E.mode,mclass:le,body:[Be],isCharacterBox:X.isCharacterBox(Be)}},htmlBuilder:La,mathmlBuilder:Z0}),jt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(y,g){let{parser:E}=y;return{type:"pmb",mode:E.mode,mclass:c0(g[0]),body:sr(g[0])}},htmlBuilder(y,g){const E=Xn(y.body,g,!0),M=xe.makeSpan([y.mclass],E,g);return M.style.textShadow="0.02em 0.01em 0.04px",M},mathmlBuilder(y,g){const E=Ys(y.body,g),M=new rn.MathNode("mstyle",E);return M.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),M}});const Oc={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Da=()=>({type:"styling",body:[],mode:"math",style:"display"}),Yl=y=>y.type==="textord"&&y.text==="@",Rc=(y,g)=>(y.type==="mathord"||y.type==="atom")&&y.text===g;function Lc(y,g,E){const M=Oc[y];switch(M){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return E.callFunction(M,[g[0]],[g[1]]);case"\\uparrow":case"\\downarrow":{const U=E.callFunction("\\\\cdleft",[g[0]],[]),K={type:"atom",text:M,mode:"math",family:"rel"},le=E.callFunction("\\Big",[K],[]),Ee=E.callFunction("\\\\cdright",[g[1]],[]),Be={type:"ordgroup",mode:"math",body:[U,le,Ee]};return E.callFunction("\\\\cdparent",[Be],[])}case"\\\\cdlongequal":return E.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const U={type:"textord",text:"\\Vert",mode:"math"};return E.callFunction("\\Big",[U],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Lu(y){const g=[];for(y.gullet.beginGroup(),y.gullet.macros.set("\\cr","\\\\\\relax"),y.gullet.beginGroup();;){g.push(y.parseExpression(!1,"\\\\")),y.gullet.endGroup(),y.gullet.beginGroup();const K=y.fetch().text;if(K==="&"||K==="\\\\")y.consume();else if(K==="\\end"){g[g.length-1].length===0&&g.pop();break}else throw new c("Expected \\\\ or \\cr or \\end",y.nextToken)}let E=[];const M=[E];for(let K=0;K<g.length;K++){const le=g[K];let Ee=Da();for(let Be=0;Be<le.length;Be++)if(!Yl(le[Be]))Ee.body.push(le[Be]);else{E.push(Ee),Be+=1;const Ze=Ru(le[Be]).text,pt=new Array(2);if(pt[0]={type:"ordgroup",mode:"math",body:[]},pt[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(Ze)>-1))if("<>AV".indexOf(Ze)>-1)for(let sn=0;sn<2;sn++){let kn=!0;for(let Un=Be+1;Un<le.length;Un++){if(Rc(le[Un],Ze)){kn=!1,Be=Un;break}if(Yl(le[Un]))throw new c("Missing a "+Ze+" character to complete a CD arrow.",le[Un]);pt[sn].body.push(le[Un])}if(kn)throw new c("Missing a "+Ze+" character to complete a CD arrow.",le[Be])}else throw new c('Expected one of "<>AV=|." after @',le[Be]);const Nt={type:"styling",body:[Lc(Ze,pt,y)],mode:"math",style:"display"};E.push(Nt),Ee=Da()}K%2===0?E.push(Ee):E.shift(),E=[],M.push(E)}y.gullet.endGroup(),y.gullet.endGroup();const U=new Array(M[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:M,arraystretch:1,addJot:!0,rowGaps:[null],cols:U,colSeparationType:"CD",hLinesBeforeRow:new Array(M.length+1).fill([])}}jt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(y,g){let{parser:E,funcName:M}=y;return{type:"cdlabel",mode:E.mode,side:M.slice(4),label:g[0]}},htmlBuilder(y,g){const E=g.havingStyle(g.style.sup()),M=xe.wrapFragment(tr(y.label,E,g),g);return M.classes.push("cd-label-"+y.side),M.style.bottom=F(.8-M.depth),M.height=0,M.depth=0,M},mathmlBuilder(y,g){let E=new rn.MathNode("mrow",[ei(y.label,g)]);return E=new rn.MathNode("mpadded",[E]),E.setAttribute("width","0"),y.side==="left"&&E.setAttribute("lspace","-1width"),E.setAttribute("voffset","0.7em"),E=new rn.MathNode("mstyle",[E]),E.setAttribute("displaystyle","false"),E.setAttribute("scriptlevel","1"),E}}),jt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(y,g){let{parser:E}=y;return{type:"cdlabelparent",mode:E.mode,fragment:g[0]}},htmlBuilder(y,g){const E=xe.wrapFragment(tr(y.fragment,g),g);return E.classes.push("cd-vert-arrow"),E},mathmlBuilder(y,g){return new rn.MathNode("mrow",[ei(y.fragment,g)])}}),jt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(y,g){let{parser:E}=y;const U=Er(g[0],"ordgroup").body;let K="";for(let Be=0;Be<U.length;Be++){const Ze=Er(U[Be],"textord");K+=Ze.text}let le=parseInt(K),Ee;if(isNaN(le))throw new c("\\@char has non-numeric argument "+K);if(le<0||le>=1114111)throw new c("\\@char with invalid code point "+K);return le<=65535?Ee=String.fromCharCode(le):(le-=65536,Ee=String.fromCharCode((le>>10)+55296,(le&1023)+56320)),{type:"textord",mode:E.mode,text:Ee}}});const Q0=(y,g)=>{const E=Xn(y.body,g.withColor(y.color),!1);return xe.makeFragment(E)},eu=(y,g)=>{const E=Ys(y.body,g.withColor(y.color)),M=new rn.MathNode("mstyle",E);return M.setAttribute("mathcolor",y.color),M};jt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(y,g){let{parser:E}=y;const M=Er(g[0],"color-token").color,U=g[1];return{type:"color",mode:E.mode,color:M,body:sr(U)}},htmlBuilder:Q0,mathmlBuilder:eu}),jt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(y,g){let{parser:E,breakOnTokenText:M}=y;const U=Er(g[0],"color-token").color;E.gullet.macros.set("\\current@color",U);const K=E.parseExpression(!0,M);return{type:"color",mode:E.mode,color:U,body:K}},htmlBuilder:Q0,mathmlBuilder:eu}),jt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(y,g,E){let{parser:M}=y;const U=M.gullet.future().text==="["?M.parseSizeGroup(!0):null,K=!M.settings.displayMode||!M.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:M.mode,newLine:K,size:U&&Er(U,"size").value}},htmlBuilder(y,g){const E=xe.makeSpan(["mspace"],[],g);return y.newLine&&(E.classes.push("newline"),y.size&&(E.style.marginTop=F(Ot(y.size,g)))),E},mathmlBuilder(y,g){const E=new rn.MathNode("mspace");return y.newLine&&(E.setAttribute("linebreak","newline"),y.size&&E.setAttribute("height",F(Ot(y.size,g)))),E}});const h0={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Kl=y=>{const g=y.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(g))throw new c("Expected a control sequence",y);return g},tu=y=>{let g=y.gullet.popToken();return g.text==="="&&(g=y.gullet.popToken(),g.text===" "&&(g=y.gullet.popToken())),g},Du=(y,g,E,M)=>{let U=y.gullet.macros.get(E.text);U==null&&(E.noexpand=!0,U={tokens:[E],numArgs:0,unexpandable:!y.gullet.isExpandable(E.text)}),y.gullet.macros.set(g,U,M)};jt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(y){let{parser:g,funcName:E}=y;g.consumeSpaces();const M=g.fetch();if(h0[M.text])return(E==="\\global"||E==="\\\\globallong")&&(M.text=h0[M.text]),Er(g.parseFunction(),"internal");throw new c("Invalid token after macro prefix",M)}}),jt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(y){let{parser:g,funcName:E}=y,M=g.gullet.popToken();const U=M.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(U))throw new c("Expected a control sequence",M);let K=0,le;const Ee=[[]];for(;g.gullet.future().text!=="{";)if(M=g.gullet.popToken(),M.text==="#"){if(g.gullet.future().text==="{"){le=g.gullet.future(),Ee[K].push("{");break}if(M=g.gullet.popToken(),!/^[1-9]$/.test(M.text))throw new c('Invalid argument number "'+M.text+'"');if(parseInt(M.text)!==K+1)throw new c('Argument number "'+M.text+'" out of order');K++,Ee.push([])}else{if(M.text==="EOF")throw new c("Expected a macro definition");Ee[K].push(M.text)}let{tokens:Be}=g.gullet.consumeArg();return le&&Be.unshift(le),(E==="\\edef"||E==="\\xdef")&&(Be=g.gullet.expandTokens(Be),Be.reverse()),g.gullet.macros.set(U,{tokens:Be,numArgs:K,delimiters:Ee},E===h0[E]),{type:"internal",mode:g.mode}}}),jt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(y){let{parser:g,funcName:E}=y;const M=Kl(g.gullet.popToken());g.gullet.consumeSpaces();const U=tu(g);return Du(g,M,U,E==="\\\\globallet"),{type:"internal",mode:g.mode}}}),jt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(y){let{parser:g,funcName:E}=y;const M=Kl(g.gullet.popToken()),U=g.gullet.popToken(),K=g.gullet.popToken();return Du(g,M,K,E==="\\\\globalfuture"),g.gullet.pushToken(K),g.gullet.pushToken(U),{type:"internal",mode:g.mode}}});const Tl=function(y,g,E){const M=kr.math[y]&&kr.math[y].replace,U=ls(M||y,g,E);if(!U)throw new Error("Unsupported symbol "+y+" and font size "+g+".");return U},x=function(y,g,E,M){const U=E.havingBaseStyle(g),K=xe.makeSpan(M.concat(U.sizingClasses(E)),[y],E),le=U.sizeMultiplier/E.sizeMultiplier;return K.height*=le,K.depth*=le,K.maxFontSize=U.sizeMultiplier,K},O=function(y,g,E){const M=g.havingBaseStyle(E),U=(1-g.sizeMultiplier/M.sizeMultiplier)*g.fontMetrics().axisHeight;y.classes.push("delimcenter"),y.style.top=F(U),y.height-=U,y.depth+=U},me=function(y,g,E,M,U,K){const le=xe.makeSymbol(y,"Main-Regular",U,M),Ee=x(le,g,M,K);return E&&O(Ee,M,g),Ee},ke=function(y,g,E,M){return xe.makeSymbol(y,"Size"+g+"-Regular",E,M)},Xe=function(y,g,E,M,U,K){const le=ke(y,g,U,M),Ee=x(xe.makeSpan(["delimsizing","size"+g],[le],M),de.TEXT,M,K);return E&&O(Ee,M,de.TEXT),Ee},at=function(y,g,E){let M;return g==="Size1-Regular"?M="delim-size1":M="delim-size4",{type:"elem",elem:xe.makeSpan(["delimsizinginner",M],[xe.makeSpan([],[xe.makeSymbol(y,g,E)])])}},vt=function(y,g,E){const M=cn["Size4-Regular"][y.charCodeAt(0)]?cn["Size4-Regular"][y.charCodeAt(0)][4]:cn["Size1-Regular"][y.charCodeAt(0)][4],U=new je("inner",Pn(y,Math.round(1e3*g))),K=new Ce([U],{width:F(M),height:F(g),style:"width:"+F(M),viewBox:"0 0 "+1e3*M+" "+Math.round(1e3*g),preserveAspectRatio:"xMinYMin"}),le=xe.makeSvgSpan([],[K],E);return le.height=g,le.style.height=F(g),le.style.width=F(M),{type:"elem",elem:le}},Rt=.008,Jt={type:"kern",size:-1*Rt},tn=["|","\\lvert","\\rvert","\\vert"],_n=["\\|","\\lVert","\\rVert","\\Vert"],Pt=function(y,g,E,M,U,K){let le,Ee,Be,Ze,pt="",bt=0;le=Be=Ze=y,Ee=null;let Nt="Size1-Regular";y==="\\uparrow"?Be=Ze="":y==="\\Uparrow"?Be=Ze="":y==="\\downarrow"?le=Be="":y==="\\Downarrow"?le=Be="":y==="\\updownarrow"?(le="\\uparrow",Be="",Ze="\\downarrow"):y==="\\Updownarrow"?(le="\\Uparrow",Be="",Ze="\\Downarrow"):tn.includes(y)?(Be="",pt="vert",bt=333):_n.includes(y)?(Be="",pt="doublevert",bt=556):y==="["||y==="\\lbrack"?(le="",Be="",Ze="",Nt="Size4-Regular",pt="lbrack",bt=667):y==="]"||y==="\\rbrack"?(le="",Be="",Ze="",Nt="Size4-Regular",pt="rbrack",bt=667):y==="\\lfloor"||y===""?(Be=le="",Ze="",Nt="Size4-Regular",pt="lfloor",bt=667):y==="\\lceil"||y===""?(le="",Be=Ze="",Nt="Size4-Regular",pt="lceil",bt=667):y==="\\rfloor"||y===""?(Be=le="",Ze="",Nt="Size4-Regular",pt="rfloor",bt=667):y==="\\rceil"||y===""?(le="",Be=Ze="",Nt="Size4-Regular",pt="rceil",bt=667):y==="("||y==="\\lparen"?(le="",Be="",Ze="",Nt="Size4-Regular",pt="lparen",bt=875):y===")"||y==="\\rparen"?(le="",Be="",Ze="",Nt="Size4-Regular",pt="rparen",bt=875):y==="\\{"||y==="\\lbrace"?(le="",Ee="",Ze="",Be="",Nt="Size4-Regular"):y==="\\}"||y==="\\rbrace"?(le="",Ee="",Ze="",Be="",Nt="Size4-Regular"):y==="\\lgroup"||y===""?(le="",Ze="",Be="",Nt="Size4-Regular"):y==="\\rgroup"||y===""?(le="",Ze="",Be="",Nt="Size4-Regular"):y==="\\lmoustache"||y===""?(le="",Ze="",Be="",Nt="Size4-Regular"):(y==="\\rmoustache"||y==="")&&(le="",Ze="",Be="",Nt="Size4-Regular");const sn=Tl(le,Nt,U),kn=sn.height+sn.depth,Un=Tl(Be,Nt,U),Ur=Un.height+Un.depth,wr=Tl(Ze,Nt,U),Ar=wr.height+wr.depth;let vi=0,ni=1;if(Ee!==null){const bi=Tl(Ee,Nt,U);vi=bi.height+bi.depth,ni=2}const Yi=kn+Ar+vi,ws=Math.max(0,Math.ceil((g-Yi)/(ni*Ur))),vs=Yi+ws*ni*Ur;let xs=M.fontMetrics().axisHeight;E&&(xs*=M.sizeMultiplier);const zr=vs/2-xs,wi=[];if(pt.length>0){const bi=vs-kn-Ar,rs=Math.round(vs*1e3),ko=Jn(pt,Math.round(bi*1e3)),$0=new je(pt,ko),zu=(bt/1e3).toFixed(3)+"em",Wc=(rs/1e3).toFixed(3)+"em",Kh=new Ce([$0],{width:zu,height:Wc,viewBox:"0 0 "+bt+" "+rs}),qa=xe.makeSvgSpan([],[Kh],M);qa.height=rs/1e3,qa.style.width=zu,qa.style.height=Wc,wi.push({type:"elem",elem:qa})}else{if(wi.push(at(Ze,Nt,U)),wi.push(Jt),Ee===null){const bi=vs-kn-Ar+2*Rt;wi.push(vt(Be,bi,M))}else{const bi=(vs-kn-Ar-vi)/2+2*Rt;wi.push(vt(Be,bi,M)),wi.push(Jt),wi.push(at(Ee,Nt,U)),wi.push(Jt),wi.push(vt(Be,bi,M))}wi.push(Jt),wi.push(at(le,Nt,U))}const xi=M.havingBaseStyle(de.TEXT),zi=xe.makeVList({positionType:"bottom",positionData:zr,children:wi},xi);return x(xe.makeSpan(["delimsizing","mult"],[zi],xi),de.TEXT,M,K)},Qn=80,Gn=.08,er=function(y,g,E,M,U){const K=Qt(y,M,E),le=new je(y,K),Ee=new Ce([le],{width:"400em",height:F(g),viewBox:"0 0 400000 "+E,preserveAspectRatio:"xMinYMin slice"});return xe.makeSvgSpan(["hide-tail"],[Ee],U)},ur=function(y,g){const E=g.havingBaseSizing(),M=hi("\\surd",y*E.sizeMultiplier,$i,E);let U=E.sizeMultiplier;const K=Math.max(0,g.minRuleThickness-g.fontMetrics().sqrtRuleThickness);let le,Ee=0,Be=0,Ze=0,pt;return M.type==="small"?(Ze=1e3+1e3*K+Qn,y<1?U=1:y<1.4&&(U=.7),Ee=(1+K+Gn)/U,Be=(1+K)/U,le=er("sqrtMain",Ee,Ze,K,g),le.style.minWidth="0.853em",pt=.833/U):M.type==="large"?(Ze=(1e3+Qn)*Hn[M.size],Be=(Hn[M.size]+K)/U,Ee=(Hn[M.size]+K+Gn)/U,le=er("sqrtSize"+M.size,Ee,Ze,K,g),le.style.minWidth="1.02em",pt=1/U):(Ee=y+K+Gn,Be=y+K,Ze=Math.floor(1e3*y+K)+Qn,le=er("sqrtTall",Ee,Ze,K,g),le.style.minWidth="0.742em",pt=1.056),le.height=Be,le.style.height=F(Ee),{span:le,advanceWidth:pt,ruleWidth:(g.fontMetrics().sqrtRuleThickness+K)*U}},Cr=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],Wr=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],un=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Hn=[0,1.2,1.8,2.4,3],Fr=function(y,g,E,M,U){if(y==="<"||y==="\\lt"||y===""?y="\\langle":(y===">"||y==="\\gt"||y==="")&&(y="\\rangle"),Cr.includes(y)||un.includes(y))return Xe(y,g,!1,E,M,U);if(Wr.includes(y))return Pt(y,Hn[g],!1,E,M,U);throw new c("Illegal delimiter: '"+y+"'")},mr=[{type:"small",style:de.SCRIPTSCRIPT},{type:"small",style:de.SCRIPT},{type:"small",style:de.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],ti=[{type:"small",style:de.SCRIPTSCRIPT},{type:"small",style:de.SCRIPT},{type:"small",style:de.TEXT},{type:"stack"}],$i=[{type:"small",style:de.SCRIPTSCRIPT},{type:"small",style:de.SCRIPT},{type:"small",style:de.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],si=function(y){if(y.type==="small")return"Main-Regular";if(y.type==="large")return"Size"+y.size+"-Regular";if(y.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+y.type+"' here.")},hi=function(y,g,E,M){const U=Math.min(2,3-M.style.size);for(let K=U;K<E.length&&E[K].type!=="stack";K++){const le=Tl(y,si(E[K]),"math");let Ee=le.height+le.depth;if(E[K].type==="small"){const Be=M.havingBaseStyle(E[K].style);Ee*=Be.sizeMultiplier}if(Ee>g)return E[K]}return E[E.length-1]},oi=function(y,g,E,M,U,K){y==="<"||y==="\\lt"||y===""?y="\\langle":(y===">"||y==="\\gt"||y==="")&&(y="\\rangle");let le;un.includes(y)?le=mr:Cr.includes(y)?le=$i:le=ti;const Ee=hi(y,g,le,M);return Ee.type==="small"?me(y,Ee.style,E,M,U,K):Ee.type==="large"?Xe(y,Ee.size,E,M,U,K):Pt(y,g,E,M,U,K)};var jr={sqrtImage:ur,sizedDelim:Fr,sizeToMaxHeight:Hn,customSizedDelim:oi,leftRightDelim:function(y,g,E,M,U,K){const le=M.fontMetrics().axisHeight*M.sizeMultiplier,Ee=901,Be=5/M.fontMetrics().ptPerEm,Ze=Math.max(g-le,E+le),pt=Math.max(Ze/500*Ee,2*Ze-Be);return oi(y,pt,!0,M,U,K)}};const Xi={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Es=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Ls(y,g){const E=u0(y);if(E&&Es.includes(E.text))return E;throw E?new c("Invalid delimiter '"+E.text+"' after '"+g.funcName+"'",y):new c("Invalid delimiter type '"+y.type+"'",y)}jt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(y,g)=>{const E=Ls(g[0],y);return{type:"delimsizing",mode:y.parser.mode,size:Xi[y.funcName].size,mclass:Xi[y.funcName].mclass,delim:E.text}},htmlBuilder:(y,g)=>y.delim==="."?xe.makeSpan([y.mclass]):jr.sizedDelim(y.delim,y.size,g,y.mode,[y.mclass]),mathmlBuilder:y=>{const g=[];y.delim!=="."&&g.push(Pi(y.delim,y.mode));const E=new rn.MathNode("mo",g);y.mclass==="mopen"||y.mclass==="mclose"?E.setAttribute("fence","true"):E.setAttribute("fence","false"),E.setAttribute("stretchy","true");const M=F(jr.sizeToMaxHeight[y.size]);return E.setAttribute("minsize",M),E.setAttribute("maxsize",M),E}});function Mi(y){if(!y.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}jt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(y,g)=>{const E=y.parser.gullet.macros.get("\\current@color");if(E&&typeof E!="string")throw new c("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:y.parser.mode,delim:Ls(g[0],y).text,color:E}}}),jt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(y,g)=>{const E=Ls(g[0],y),M=y.parser;++M.leftrightDepth;const U=M.parseExpression(!1);--M.leftrightDepth,M.expect("\\right",!1);const K=Er(M.parseFunction(),"leftright-right");return{type:"leftright",mode:M.mode,body:U,left:E.text,right:K.delim,rightColor:K.color}},htmlBuilder:(y,g)=>{Mi(y);const E=Xn(y.body,g,!0,["mopen","mclose"]);let M=0,U=0,K=!1;for(let Be=0;Be<E.length;Be++)E[Be].isMiddle?K=!0:(M=Math.max(E[Be].height,M),U=Math.max(E[Be].depth,U));M*=g.sizeMultiplier,U*=g.sizeMultiplier;let le;if(y.left==="."?le=ui(g,["mopen"]):le=jr.leftRightDelim(y.left,M,U,g,y.mode,["mopen"]),E.unshift(le),K)for(let Be=1;Be<E.length;Be++){const pt=E[Be].isMiddle;pt&&(E[Be]=jr.leftRightDelim(pt.delim,M,U,pt.options,y.mode,[]))}let Ee;if(y.right===".")Ee=ui(g,["mclose"]);else{const Be=y.rightColor?g.withColor(y.rightColor):g;Ee=jr.leftRightDelim(y.right,M,U,Be,y.mode,["mclose"])}return E.push(Ee),xe.makeSpan(["minner"],E,g)},mathmlBuilder:(y,g)=>{Mi(y);const E=Ys(y.body,g);if(y.left!=="."){const M=new rn.MathNode("mo",[Pi(y.left,y.mode)]);M.setAttribute("fence","true"),E.unshift(M)}if(y.right!=="."){const M=new rn.MathNode("mo",[Pi(y.right,y.mode)]);M.setAttribute("fence","true"),y.rightColor&&M.setAttribute("mathcolor",y.rightColor),E.push(M)}return ts(E)}}),jt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(y,g)=>{const E=Ls(g[0],y);if(!y.parser.leftrightDepth)throw new c("\\middle without preceding \\left",E);return{type:"middle",mode:y.parser.mode,delim:E.text}},htmlBuilder:(y,g)=>{let E;if(y.delim===".")E=ui(g,[]);else{E=jr.sizedDelim(y.delim,1,g,y.mode,[]);const M={delim:y.delim,options:g};E.isMiddle=M}return E},mathmlBuilder:(y,g)=>{const E=y.delim==="\\vert"||y.delim==="|"?Pi("|","text"):Pi(y.delim,y.mode),M=new rn.MathNode("mo",[E]);return M.setAttribute("fence","true"),M.setAttribute("lspace","0.05em"),M.setAttribute("rspace","0.05em"),M}});const Ks=(y,g)=>{const E=xe.wrapFragment(tr(y.body,g),g),M=y.label.slice(1);let U=g.sizeMultiplier,K,le=0;const Ee=X.isCharacterBox(y.body);if(M==="sout")K=xe.makeSpan(["stretchy","sout"]),K.height=g.fontMetrics().defaultRuleThickness/U,le=-.5*g.fontMetrics().xHeight;else if(M==="phase"){const Ze=Ot({number:.6,unit:"pt"},g),pt=Ot({number:.35,unit:"ex"},g),bt=g.havingBaseSizing();U=U/bt.sizeMultiplier;const Nt=E.height+E.depth+Ze+pt;E.style.paddingLeft=F(Nt/2+Ze);const sn=Math.floor(1e3*Nt*U),kn=fn(sn),Un=new Ce([new je("phase",kn)],{width:"400em",height:F(sn/1e3),viewBox:"0 0 400000 "+sn,preserveAspectRatio:"xMinYMin slice"});K=xe.makeSvgSpan(["hide-tail"],[Un],g),K.style.height=F(Nt),le=E.depth+Ze+pt}else{/cancel/.test(M)?Ee||E.classes.push("cancel-pad"):M==="angl"?E.classes.push("anglpad"):E.classes.push("boxpad");let Ze=0,pt=0,bt=0;/box/.test(M)?(bt=Math.max(g.fontMetrics().fboxrule,g.minRuleThickness),Ze=g.fontMetrics().fboxsep+(M==="colorbox"?0:bt),pt=Ze):M==="angl"?(bt=Math.max(g.fontMetrics().defaultRuleThickness,g.minRuleThickness),Ze=4*bt,pt=Math.max(0,.25-E.depth)):(Ze=Ee?.2:0,pt=Ze),K=_l.encloseSpan(E,M,Ze,pt,g),/fbox|boxed|fcolorbox/.test(M)?(K.style.borderStyle="solid",K.style.borderWidth=F(bt)):M==="angl"&&bt!==.049&&(K.style.borderTopWidth=F(bt),K.style.borderRightWidth=F(bt)),le=E.depth+pt,y.backgroundColor&&(K.style.backgroundColor=y.backgroundColor,y.borderColor&&(K.style.borderColor=y.borderColor))}let Be;if(y.backgroundColor)Be=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:K,shift:le},{type:"elem",elem:E,shift:0}]},g);else{const Ze=/cancel|phase/.test(M)?["svg-align"]:[];Be=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:E,shift:0},{type:"elem",elem:K,shift:le,wrapperClasses:Ze}]},g)}return/cancel/.test(M)&&(Be.height=E.height,Be.depth=E.depth),/cancel/.test(M)&&!Ee?xe.makeSpan(["mord","cancel-lap"],[Be],g):xe.makeSpan(["mord"],[Be],g)},wo=(y,g)=>{let E=0;const M=new rn.MathNode(y.label.indexOf("colorbox")>-1?"mpadded":"menclose",[ei(y.body,g)]);switch(y.label){case"\\cancel":M.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":M.setAttribute("notation","downdiagonalstrike");break;case"\\phase":M.setAttribute("notation","phasorangle");break;case"\\sout":M.setAttribute("notation","horizontalstrike");break;case"\\fbox":M.setAttribute("notation","box");break;case"\\angl":M.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(E=g.fontMetrics().fboxsep*g.fontMetrics().ptPerEm,M.setAttribute("width","+"+2*E+"pt"),M.setAttribute("height","+"+2*E+"pt"),M.setAttribute("lspace",E+"pt"),M.setAttribute("voffset",E+"pt"),y.label==="\\fcolorbox"){const U=Math.max(g.fontMetrics().fboxrule,g.minRuleThickness);M.setAttribute("style","border: "+U+"em solid "+String(y.borderColor))}break;case"\\xcancel":M.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return y.backgroundColor&&M.setAttribute("mathbackground",y.backgroundColor),M};jt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(y,g,E){let{parser:M,funcName:U}=y;const K=Er(g[0],"color-token").color,le=g[1];return{type:"enclose",mode:M.mode,label:U,backgroundColor:K,body:le}},htmlBuilder:Ks,mathmlBuilder:wo}),jt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(y,g,E){let{parser:M,funcName:U}=y;const K=Er(g[0],"color-token").color,le=Er(g[1],"color-token").color,Ee=g[2];return{type:"enclose",mode:M.mode,label:U,backgroundColor:le,borderColor:K,body:Ee}},htmlBuilder:Ks,mathmlBuilder:wo}),jt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(y,g){let{parser:E}=y;return{type:"enclose",mode:E.mode,label:"\\fbox",body:g[0]}}}),jt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(y,g){let{parser:E,funcName:M}=y;const U=g[0];return{type:"enclose",mode:E.mode,label:M,body:U}},htmlBuilder:Ks,mathmlBuilder:wo}),jt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(y,g){let{parser:E}=y;return{type:"enclose",mode:E.mode,label:"\\angl",body:g[0]}}});const Ds={};function Dr(y){let{type:g,names:E,props:M,handler:U,htmlBuilder:K,mathmlBuilder:le}=y;const Ee={type:g,numArgs:M.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:U};for(let Be=0;Be<E.length;++Be)Ds[E[Be]]=Ee;K&&(Rn[g]=K),le&&(wn[g]=le)}const gs={};function ye(y,g){gs[y]=g}class Ni{constructor(g,E,M){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=g,this.start=E,this.end=M}static range(g,E){return E?!g||!g.loc||!E.loc||g.loc.lexer!==E.loc.lexer?null:new Ni(g.loc.lexer,g.loc.start,E.loc.end):g&&g.loc}}class hs{constructor(g,E){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=g,this.loc=E}range(g,E){return new hs(E,Ni.range(this,g))}}function El(y){const g=[];y.consumeSpaces();let E=y.fetch().text;for(E==="\\relax"&&(y.consume(),y.consumeSpaces(),E=y.fetch().text);E==="\\hline"||E==="\\hdashline";)y.consume(),g.push(E==="\\hdashline"),y.consumeSpaces(),E=y.fetch().text;return g}const po=y=>{if(!y.parser.settings.displayMode)throw new c("{"+y.envName+"} can be used only in display mode.")};function xo(y){if(y.indexOf("ed")===-1)return y.indexOf("*")===-1}function oo(y,g,E){let{hskipBeforeAndAfter:M,addJot:U,cols:K,arraystretch:le,colSeparationType:Ee,autoTag:Be,singleRow:Ze,emptySingleRow:pt,maxNumCols:bt,leqno:Nt}=g;if(y.gullet.beginGroup(),Ze||y.gullet.macros.set("\\cr","\\\\\\relax"),!le){const ni=y.gullet.expandMacroAsText("\\arraystretch");if(ni==null)le=1;else if(le=parseFloat(ni),!le||le<0)throw new c("Invalid \\arraystretch: "+ni)}y.gullet.beginGroup();let sn=[];const kn=[sn],Un=[],Ur=[],wr=Be!=null?[]:void 0;function Ar(){Be&&y.gullet.macros.set("\\@eqnsw","1",!0)}function vi(){wr&&(y.gullet.macros.get("\\df@tag")?(wr.push(y.subparse([new hs("\\df@tag")])),y.gullet.macros.set("\\df@tag",void 0,!0)):wr.push(!!Be&&y.gullet.macros.get("\\@eqnsw")==="1"))}for(Ar(),Ur.push(El(y));;){let ni=y.parseExpression(!1,Ze?"\\end":"\\\\");y.gullet.endGroup(),y.gullet.beginGroup(),ni={type:"ordgroup",mode:y.mode,body:ni},E&&(ni={type:"styling",mode:y.mode,style:E,body:[ni]}),sn.push(ni);const Yi=y.fetch().text;if(Yi==="&"){if(bt&&sn.length===bt){if(Ze||Ee)throw new c("Too many tab characters: &",y.nextToken);y.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}y.consume()}else if(Yi==="\\end"){vi(),sn.length===1&&ni.type==="styling"&&ni.body[0].body.length===0&&(kn.length>1||!pt)&&kn.pop(),Ur.length<kn.length+1&&Ur.push([]);break}else if(Yi==="\\\\"){y.consume();let ws;y.gullet.future().text!==" "&&(ws=y.parseSizeGroup(!0)),Un.push(ws?ws.value:null),vi(),Ur.push(El(y)),sn=[],kn.push(sn),Ar()}else throw new c("Expected & or \\\\ or \\cr or \\end",y.nextToken)}return y.gullet.endGroup(),y.gullet.endGroup(),{type:"array",mode:y.mode,addJot:U,arraystretch:le,body:kn,cols:K,rowGaps:Un,hskipBeforeAndAfter:M,hLinesBeforeRow:Ur,colSeparationType:Ee,tags:wr,leqno:Nt}}function $s(y){return y.slice(0,1)==="d"?"display":"text"}const gr=function(y,g){let E,M;const U=y.body.length,K=y.hLinesBeforeRow;let le=0,Ee=new Array(U);const Be=[],Ze=Math.max(g.fontMetrics().arrayRuleWidth,g.minRuleThickness),pt=1/g.fontMetrics().ptPerEm;let bt=5*pt;y.colSeparationType&&y.colSeparationType==="small"&&(bt=.2778*(g.havingStyle(de.SCRIPT).sizeMultiplier/g.sizeMultiplier));const Nt=y.colSeparationType==="CD"?Ot({number:3,unit:"ex"},g):12*pt,sn=3*pt,kn=y.arraystretch*Nt,Un=.7*kn,Ur=.3*kn;let wr=0;function Ar(zr){for(let wi=0;wi<zr.length;++wi)wi>0&&(wr+=.25),Be.push({pos:wr,isDashed:zr[wi]})}for(Ar(K[0]),E=0;E<y.body.length;++E){const zr=y.body[E];let wi=Un,xi=Ur;le<zr.length&&(le=zr.length);const zi=new Array(zr.length);for(M=0;M<zr.length;++M){const ko=tr(zr[M],g);xi<ko.depth&&(xi=ko.depth),wi<ko.height&&(wi=ko.height),zi[M]=ko}const bi=y.rowGaps[E];let rs=0;bi&&(rs=Ot(bi,g),rs>0&&(rs+=Ur,xi<rs&&(xi=rs),rs=0)),y.addJot&&(xi+=sn),zi.height=wi,zi.depth=xi,wr+=wi,zi.pos=wr,wr+=xi+rs,Ee[E]=zi,Ar(K[E+1])}const vi=wr/2+g.fontMetrics().axisHeight,ni=y.cols||[],Yi=[];let ws,vs;const xs=[];if(y.tags&&y.tags.some(zr=>zr))for(E=0;E<U;++E){const zr=Ee[E],wi=zr.pos-vi,xi=y.tags[E];let zi;xi===!0?zi=xe.makeSpan(["eqn-num"],[],g):xi===!1?zi=xe.makeSpan([],[],g):zi=xe.makeSpan([],Xn(xi,g,!0),g),zi.depth=zr.depth,zi.height=zr.height,xs.push({type:"elem",elem:zi,shift:wi})}for(M=0,vs=0;M<le||vs<ni.length;++M,++vs){let zr=ni[vs]||{},wi=!0;for(;zr.type==="separator";){if(wi||(ws=xe.makeSpan(["arraycolsep"],[]),ws.style.width=F(g.fontMetrics().doubleRuleSep),Yi.push(ws)),zr.separator==="|"||zr.separator===":"){const bi=zr.separator==="|"?"solid":"dashed",rs=xe.makeSpan(["vertical-separator"],[],g);rs.style.height=F(wr),rs.style.borderRightWidth=F(Ze),rs.style.borderRightStyle=bi,rs.style.margin="0 "+F(-Ze/2);const ko=wr-vi;ko&&(rs.style.verticalAlign=F(-ko)),Yi.push(rs)}else throw new c("Invalid separator type: "+zr.separator);vs++,zr=ni[vs]||{},wi=!1}if(M>=le)continue;let xi;(M>0||y.hskipBeforeAndAfter)&&(xi=X.deflt(zr.pregap,bt),xi!==0&&(ws=xe.makeSpan(["arraycolsep"],[]),ws.style.width=F(xi),Yi.push(ws)));let zi=[];for(E=0;E<U;++E){const bi=Ee[E],rs=bi[M];if(!rs)continue;const ko=bi.pos-vi;rs.depth=bi.depth,rs.height=bi.height,zi.push({type:"elem",elem:rs,shift:ko})}zi=xe.makeVList({positionType:"individualShift",children:zi},g),zi=xe.makeSpan(["col-align-"+(zr.align||"c")],[zi]),Yi.push(zi),(M<le-1||y.hskipBeforeAndAfter)&&(xi=X.deflt(zr.postgap,bt),xi!==0&&(ws=xe.makeSpan(["arraycolsep"],[]),ws.style.width=F(xi),Yi.push(ws)))}if(Ee=xe.makeSpan(["mtable"],Yi),Be.length>0){const zr=xe.makeLineSpan("hline",g,Ze),wi=xe.makeLineSpan("hdashline",g,Ze),xi=[{type:"elem",elem:Ee,shift:0}];for(;Be.length>0;){const zi=Be.pop(),bi=zi.pos-vi;zi.isDashed?xi.push({type:"elem",elem:wi,shift:bi}):xi.push({type:"elem",elem:zr,shift:bi})}Ee=xe.makeVList({positionType:"individualShift",children:xi},g)}if(xs.length===0)return xe.makeSpan(["mord"],[Ee],g);{let zr=xe.makeVList({positionType:"individualShift",children:xs},g);return zr=xe.makeSpan(["tag"],[zr],g),xe.makeFragment([Ee,zr])}},lo={c:"center ",l:"left ",r:"right "},Fi=function(y,g){const E=[],M=new rn.MathNode("mtd",[],["mtr-glue"]),U=new rn.MathNode("mtd",[],["mml-eqn-num"]);for(let bt=0;bt<y.body.length;bt++){const Nt=y.body[bt],sn=[];for(let kn=0;kn<Nt.length;kn++)sn.push(new rn.MathNode("mtd",[ei(Nt[kn],g)]));y.tags&&y.tags[bt]&&(sn.unshift(M),sn.push(M),y.leqno?sn.unshift(U):sn.push(U)),E.push(new rn.MathNode("mtr",sn))}let K=new rn.MathNode("mtable",E);const le=y.arraystretch===.5?.1:.16+y.arraystretch-1+(y.addJot?.09:0);K.setAttribute("rowspacing",F(le));let Ee="",Be="";if(y.cols&&y.cols.length>0){const bt=y.cols;let Nt="",sn=!1,kn=0,Un=bt.length;bt[0].type==="separator"&&(Ee+="top ",kn=1),bt[bt.length-1].type==="separator"&&(Ee+="bottom ",Un-=1);for(let Ur=kn;Ur<Un;Ur++)bt[Ur].type==="align"?(Be+=lo[bt[Ur].align],sn&&(Nt+="none "),sn=!0):bt[Ur].type==="separator"&&sn&&(Nt+=bt[Ur].separator==="|"?"solid ":"dashed ",sn=!1);K.setAttribute("columnalign",Be.trim()),/[sd]/.test(Nt)&&K.setAttribute("columnlines",Nt.trim())}if(y.colSeparationType==="align"){const bt=y.cols||[];let Nt="";for(let sn=1;sn<bt.length;sn++)Nt+=sn%2?"0em ":"1em ";K.setAttribute("columnspacing",Nt.trim())}else y.colSeparationType==="alignat"||y.colSeparationType==="gather"?K.setAttribute("columnspacing","0em"):y.colSeparationType==="small"?K.setAttribute("columnspacing","0.2778em"):y.colSeparationType==="CD"?K.setAttribute("columnspacing","0.5em"):K.setAttribute("columnspacing","1em");let Ze="";const pt=y.hLinesBeforeRow;Ee+=pt[0].length>0?"left ":"",Ee+=pt[pt.length-1].length>0?"right ":"";for(let bt=1;bt<pt.length-1;bt++)Ze+=pt[bt].length===0?"none ":pt[bt][0]?"dashed ":"solid ";return/[sd]/.test(Ze)&&K.setAttribute("rowlines",Ze.trim()),Ee!==""&&(K=new rn.MathNode("menclose",[K]),K.setAttribute("notation",Ee.trim())),y.arraystretch&&y.arraystretch<1&&(K=new rn.MathNode("mstyle",[K]),K.setAttribute("scriptlevel","1")),K},So=function(y,g){y.envName.indexOf("ed")===-1&&po(y);const E=[],M=y.envName.indexOf("at")>-1?"alignat":"align",U=y.envName==="split",K=oo(y.parser,{cols:E,addJot:!0,autoTag:U?void 0:xo(y.envName),emptySingleRow:!0,colSeparationType:M,maxNumCols:U?2:void 0,leqno:y.parser.settings.leqno},"display");let le,Ee=0;const Be={type:"ordgroup",mode:y.mode,body:[]};if(g[0]&&g[0].type==="ordgroup"){let pt="";for(let bt=0;bt<g[0].body.length;bt++){const Nt=Er(g[0].body[bt],"textord");pt+=Nt.text}le=Number(pt),Ee=le*2}const Ze=!Ee;K.body.forEach(function(pt){for(let bt=1;bt<pt.length;bt+=2){const Nt=Er(pt[bt],"styling");Er(Nt.body[0],"ordgroup").body.unshift(Be)}if(Ze)Ee<pt.length&&(Ee=pt.length);else{const bt=pt.length/2;if(le<bt)throw new c("Too many math in a row: "+("expected "+le+", but got "+bt),pt[0])}});for(let pt=0;pt<Ee;++pt){let bt="r",Nt=0;pt%2===1?bt="l":pt>0&&Ze&&(Nt=1),E[pt]={type:"align",align:bt,pregap:Nt,postgap:0}}return K.colSeparationType=Ze?"align":"alignat",K};Dr({type:"array",names:["array","darray"],props:{numArgs:1},handler(y,g){const U=(u0(g[0])?[g[0]]:Er(g[0],"ordgroup").body).map(function(le){const Be=Ru(le).text;if("lcr".indexOf(Be)!==-1)return{type:"align",align:Be};if(Be==="|")return{type:"separator",separator:"|"};if(Be===":")return{type:"separator",separator:":"};throw new c("Unknown column alignment: "+Be,le)}),K={cols:U,hskipBeforeAndAfter:!0,maxNumCols:U.length};return oo(y.parser,K,$s(y.envName))},htmlBuilder:gr,mathmlBuilder:Fi}),Dr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(y){const g={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[y.envName.replace("*","")];let E="c";const M={hskipBeforeAndAfter:!1,cols:[{type:"align",align:E}]};if(y.envName.charAt(y.envName.length-1)==="*"){const le=y.parser;if(le.consumeSpaces(),le.fetch().text==="["){if(le.consume(),le.consumeSpaces(),E=le.fetch().text,"lcr".indexOf(E)===-1)throw new c("Expected l or c or r",le.nextToken);le.consume(),le.consumeSpaces(),le.expect("]"),le.consume(),M.cols=[{type:"align",align:E}]}}const U=oo(y.parser,M,$s(y.envName)),K=Math.max(0,...U.body.map(le=>le.length));return U.cols=new Array(K).fill({type:"align",align:E}),g?{type:"leftright",mode:y.mode,body:[U],left:g[0],right:g[1],rightColor:void 0}:U},htmlBuilder:gr,mathmlBuilder:Fi}),Dr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(y){const g={arraystretch:.5},E=oo(y.parser,g,"script");return E.colSeparationType="small",E},htmlBuilder:gr,mathmlBuilder:Fi}),Dr({type:"array",names:["subarray"],props:{numArgs:1},handler(y,g){const U=(u0(g[0])?[g[0]]:Er(g[0],"ordgroup").body).map(function(le){const Be=Ru(le).text;if("lc".indexOf(Be)!==-1)return{type:"align",align:Be};throw new c("Unknown column alignment: "+Be,le)});if(U.length>1)throw new c("{subarray} can contain only one column");let K={cols:U,hskipBeforeAndAfter:!1,arraystretch:.5};if(K=oo(y.parser,K,"script"),K.body.length>0&&K.body[0].length>1)throw new c("{subarray} can contain only one column");return K},htmlBuilder:gr,mathmlBuilder:Fi}),Dr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(y){const g={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},E=oo(y.parser,g,$s(y.envName));return{type:"leftright",mode:y.mode,body:[E],left:y.envName.indexOf("r")>-1?".":"\\{",right:y.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:gr,mathmlBuilder:Fi}),Dr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:So,htmlBuilder:gr,mathmlBuilder:Fi}),Dr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(y){["gather","gather*"].includes(y.envName)&&po(y);const g={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:xo(y.envName),emptySingleRow:!0,leqno:y.parser.settings.leqno};return oo(y.parser,g,"display")},htmlBuilder:gr,mathmlBuilder:Fi}),Dr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:So,htmlBuilder:gr,mathmlBuilder:Fi}),Dr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(y){po(y);const g={autoTag:xo(y.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:y.parser.settings.leqno};return oo(y.parser,g,"display")},htmlBuilder:gr,mathmlBuilder:Fi}),Dr({type:"array",names:["CD"],props:{numArgs:0},handler(y){return po(y),Lu(y.parser)},htmlBuilder:gr,mathmlBuilder:Fi}),ye("\\nonumber","\\gdef\\@eqnsw{0}"),ye("\\notag","\\nonumber"),jt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(y,g){throw new c(y.funcName+" valid only within array environment")}});var Jl=Ds;jt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(y,g){let{parser:E,funcName:M}=y;const U=g[0];if(U.type!=="ordgroup")throw new c("Invalid environment name",U);let K="";for(let le=0;le<U.body.length;++le)K+=Er(U.body[le],"textord").text;if(M==="\\begin"){if(!Jl.hasOwnProperty(K))throw new c("No such environment: "+K,U);const le=Jl[K],{args:Ee,optArgs:Be}=E.parseArguments("\\begin{"+K+"}",le),Ze={mode:E.mode,envName:K,parser:E},pt=le.handler(Ze,Ee,Be);E.expect("\\end",!1);const bt=E.nextToken,Nt=Er(E.parseFunction(),"environment");if(Nt.name!==K)throw new c("Mismatch: \\begin{"+K+"} matched by \\end{"+Nt.name+"}",bt);return pt}return{type:"environment",mode:E.mode,name:K,nameGroup:U}}});const Ba=(y,g)=>{const E=y.font,M=g.withFont(E);return tr(y.body,M)},ul=(y,g)=>{const E=y.font,M=g.withFont(E);return ei(y.body,M)},Dc={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};jt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(y,g)=>{let{parser:E,funcName:M}=y;const U=jn(g[0]);let K=M;return K in Dc&&(K=Dc[K]),{type:"font",mode:E.mode,font:K.slice(1),body:U}},htmlBuilder:Ba,mathmlBuilder:ul}),jt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(y,g)=>{let{parser:E}=y;const M=g[0],U=X.isCharacterBox(M);return{type:"mclass",mode:E.mode,mclass:c0(M),body:[{type:"font",mode:E.mode,font:"boldsymbol",body:M}],isCharacterBox:U}}}),jt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(y,g)=>{let{parser:E,funcName:M,breakOnTokenText:U}=y;const{mode:K}=E,le=E.parseExpression(!0,U),Ee="math"+M.slice(1);return{type:"font",mode:K,font:Ee,body:{type:"ordgroup",mode:E.mode,body:le}}},htmlBuilder:Ba,mathmlBuilder:ul});const Zl=(y,g)=>{let E=g;return y==="display"?E=E.id>=de.SCRIPT.id?E.text():de.DISPLAY:y==="text"&&E.size===de.DISPLAY.size?E=de.TEXT:y==="script"?E=de.SCRIPT:y==="scriptscript"&&(E=de.SCRIPTSCRIPT),E},wl=(y,g)=>{const E=Zl(y.size,g.style),M=E.fracNum(),U=E.fracDen();let K;K=g.havingStyle(M);const le=tr(y.numer,K,g);if(y.continued){const Ar=8.5/g.fontMetrics().ptPerEm,vi=3.5/g.fontMetrics().ptPerEm;le.height=le.height<Ar?Ar:le.height,le.depth=le.depth<vi?vi:le.depth}K=g.havingStyle(U);const Ee=tr(y.denom,K,g);let Be,Ze,pt;y.hasBarLine?(y.barSize?(Ze=Ot(y.barSize,g),Be=xe.makeLineSpan("frac-line",g,Ze)):Be=xe.makeLineSpan("frac-line",g),Ze=Be.height,pt=Be.height):(Be=null,Ze=0,pt=g.fontMetrics().defaultRuleThickness);let bt,Nt,sn;E.size===de.DISPLAY.size||y.size==="display"?(bt=g.fontMetrics().num1,Ze>0?Nt=3*pt:Nt=7*pt,sn=g.fontMetrics().denom1):(Ze>0?(bt=g.fontMetrics().num2,Nt=pt):(bt=g.fontMetrics().num3,Nt=3*pt),sn=g.fontMetrics().denom2);let kn;if(Be){const Ar=g.fontMetrics().axisHeight;bt-le.depth-(Ar+.5*Ze)<Nt&&(bt+=Nt-(bt-le.depth-(Ar+.5*Ze))),Ar-.5*Ze-(Ee.height-sn)<Nt&&(sn+=Nt-(Ar-.5*Ze-(Ee.height-sn)));const vi=-(Ar-.5*Ze);kn=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ee,shift:sn},{type:"elem",elem:Be,shift:vi},{type:"elem",elem:le,shift:-bt}]},g)}else{const Ar=bt-le.depth-(Ee.height-sn);Ar<Nt&&(bt+=.5*(Nt-Ar),sn+=.5*(Nt-Ar)),kn=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ee,shift:sn},{type:"elem",elem:le,shift:-bt}]},g)}K=g.havingStyle(E),kn.height*=K.sizeMultiplier/g.sizeMultiplier,kn.depth*=K.sizeMultiplier/g.sizeMultiplier;let Un;E.size===de.DISPLAY.size?Un=g.fontMetrics().delim1:E.size===de.SCRIPTSCRIPT.size?Un=g.havingStyle(de.SCRIPT).fontMetrics().delim2:Un=g.fontMetrics().delim2;let Ur,wr;return y.leftDelim==null?Ur=ui(g,["mopen"]):Ur=jr.customSizedDelim(y.leftDelim,Un,!0,g.havingStyle(E),y.mode,["mopen"]),y.continued?wr=xe.makeSpan([]):y.rightDelim==null?wr=ui(g,["mclose"]):wr=jr.customSizedDelim(y.rightDelim,Un,!0,g.havingStyle(E),y.mode,["mclose"]),xe.makeSpan(["mord"].concat(K.sizingClasses(g)),[Ur,xe.makeSpan(["mfrac"],[kn]),wr],g)},Bc=(y,g)=>{let E=new rn.MathNode("mfrac",[ei(y.numer,g),ei(y.denom,g)]);if(!y.hasBarLine)E.setAttribute("linethickness","0px");else if(y.barSize){const U=Ot(y.barSize,g);E.setAttribute("linethickness",F(U))}const M=Zl(y.size,g.style);if(M.size!==g.style.size){E=new rn.MathNode("mstyle",[E]);const U=M.size===de.DISPLAY.size?"true":"false";E.setAttribute("displaystyle",U),E.setAttribute("scriptlevel","0")}if(y.leftDelim!=null||y.rightDelim!=null){const U=[];if(y.leftDelim!=null){const K=new rn.MathNode("mo",[new rn.TextNode(y.leftDelim.replace("\\",""))]);K.setAttribute("fence","true"),U.push(K)}if(U.push(E),y.rightDelim!=null){const K=new rn.MathNode("mo",[new rn.TextNode(y.rightDelim.replace("\\",""))]);K.setAttribute("fence","true"),U.push(K)}return ts(U)}return E};jt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(y,g)=>{let{parser:E,funcName:M}=y;const U=g[0],K=g[1];let le,Ee=null,Be=null,Ze="auto";switch(M){case"\\dfrac":case"\\frac":case"\\tfrac":le=!0;break;case"\\\\atopfrac":le=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":le=!1,Ee="(",Be=")";break;case"\\\\bracefrac":le=!1,Ee="\\{",Be="\\}";break;case"\\\\brackfrac":le=!1,Ee="[",Be="]";break;default:throw new Error("Unrecognized genfrac command")}switch(M){case"\\dfrac":case"\\dbinom":Ze="display";break;case"\\tfrac":case"\\tbinom":Ze="text";break}return{type:"genfrac",mode:E.mode,continued:!1,numer:U,denom:K,hasBarLine:le,leftDelim:Ee,rightDelim:Be,size:Ze,barSize:null}},htmlBuilder:wl,mathmlBuilder:Bc}),jt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(y,g)=>{let{parser:E,funcName:M}=y;const U=g[0],K=g[1];return{type:"genfrac",mode:E.mode,continued:!0,numer:U,denom:K,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),jt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(y){let{parser:g,funcName:E,token:M}=y,U;switch(E){case"\\over":U="\\frac";break;case"\\choose":U="\\binom";break;case"\\atop":U="\\\\atopfrac";break;case"\\brace":U="\\\\bracefrac";break;case"\\brack":U="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:g.mode,replaceWith:U,token:M}}});const No=["display","text","script","scriptscript"],Pc=function(y){let g=null;return y.length>0&&(g=y,g=g==="."?null:g),g};jt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(y,g){let{parser:E}=y;const M=g[4],U=g[5],K=jn(g[0]),le=K.type==="atom"&&K.family==="open"?Pc(K.text):null,Ee=jn(g[1]),Be=Ee.type==="atom"&&Ee.family==="close"?Pc(Ee.text):null,Ze=Er(g[2],"size");let pt,bt=null;Ze.isBlank?pt=!0:(bt=Ze.value,pt=bt.number>0);let Nt="auto",sn=g[3];if(sn.type==="ordgroup"){if(sn.body.length>0){const kn=Er(sn.body[0],"textord");Nt=No[Number(kn.text)]}}else sn=Er(sn,"textord"),Nt=No[Number(sn.text)];return{type:"genfrac",mode:E.mode,numer:M,denom:U,continued:!1,hasBarLine:pt,barSize:bt,leftDelim:le,rightDelim:Be,size:Nt}},htmlBuilder:wl,mathmlBuilder:Bc}),jt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(y,g){let{parser:E,funcName:M,token:U}=y;return{type:"infix",mode:E.mode,replaceWith:"\\\\abovefrac",size:Er(g[0],"size").value,token:U}}}),jt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(y,g)=>{let{parser:E,funcName:M}=y;const U=g[0],K=P(Er(g[1],"infix").size),le=g[2],Ee=K.number>0;return{type:"genfrac",mode:E.mode,numer:U,denom:le,continued:!1,hasBarLine:Ee,barSize:K,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:wl,mathmlBuilder:Bc});const Ql=(y,g)=>{const E=g.style;let M,U;y.type==="supsub"?(M=y.sup?tr(y.sup,g.havingStyle(E.sup()),g):tr(y.sub,g.havingStyle(E.sub()),g),U=Er(y.base,"horizBrace")):U=Er(y,"horizBrace");const K=tr(U.base,g.havingBaseStyle(de.DISPLAY)),le=_l.svgSpan(U,g);let Ee;if(U.isOver?(Ee=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:K},{type:"kern",size:.1},{type:"elem",elem:le}]},g),Ee.children[0].children[0].children[1].classes.push("svg-align")):(Ee=xe.makeVList({positionType:"bottom",positionData:K.depth+.1+le.height,children:[{type:"elem",elem:le},{type:"kern",size:.1},{type:"elem",elem:K}]},g),Ee.children[0].children[0].children[0].classes.push("svg-align")),M){const Be=xe.makeSpan(["mord",U.isOver?"mover":"munder"],[Ee],g);U.isOver?Ee=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Be},{type:"kern",size:.2},{type:"elem",elem:M}]},g):Ee=xe.makeVList({positionType:"bottom",positionData:Be.depth+.2+M.height+M.depth,children:[{type:"elem",elem:M},{type:"kern",size:.2},{type:"elem",elem:Be}]},g)}return xe.makeSpan(["mord",U.isOver?"mover":"munder"],[Ee],g)};jt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(y,g){let{parser:E,funcName:M}=y;return{type:"horizBrace",mode:E.mode,label:M,isOver:/^\\over/.test(M),base:g[0]}},htmlBuilder:Ql,mathmlBuilder:(y,g)=>{const E=_l.mathMLnode(y.label);return new rn.MathNode(y.isOver?"mover":"munder",[ei(y.base,g),E])}}),jt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(y,g)=>{let{parser:E}=y;const M=g[1],U=Er(g[0],"url").url;return E.settings.isTrusted({command:"\\href",url:U})?{type:"href",mode:E.mode,href:U,body:sr(M)}:E.formatUnsupportedCmd("\\href")},htmlBuilder:(y,g)=>{const E=Xn(y.body,g,!1);return xe.makeAnchor(y.href,[],E,g)},mathmlBuilder:(y,g)=>{let E=Hs(y.body,g);return E instanceof ci||(E=new ci("mrow",[E])),E.setAttribute("href",y.href),E}}),jt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(y,g)=>{let{parser:E}=y;const M=Er(g[0],"url").url;if(!E.settings.isTrusted({command:"\\url",url:M}))return E.formatUnsupportedCmd("\\url");const U=[];for(let le=0;le<M.length;le++){let Ee=M[le];Ee==="~"&&(Ee="\\textasciitilde"),U.push({type:"textord",mode:"text",text:Ee})}const K={type:"text",mode:E.mode,font:"\\texttt",body:U};return{type:"href",mode:E.mode,href:M,body:sr(K)}}}),jt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(y,g){let{parser:E}=y;return{type:"hbox",mode:E.mode,body:sr(g[0])}},htmlBuilder(y,g){const E=Xn(y.body,g,!1);return xe.makeFragment(E)},mathmlBuilder(y,g){return new rn.MathNode("mrow",Ys(y.body,g))}}),jt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(y,g)=>{let{parser:E,funcName:M,token:U}=y;const K=Er(g[0],"raw").string,le=g[1];E.settings.strict&&E.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let Ee;const Be={};switch(M){case"\\htmlClass":Be.class=K,Ee={command:"\\htmlClass",class:K};break;case"\\htmlId":Be.id=K,Ee={command:"\\htmlId",id:K};break;case"\\htmlStyle":Be.style=K,Ee={command:"\\htmlStyle",style:K};break;case"\\htmlData":{const Ze=K.split(",");for(let pt=0;pt<Ze.length;pt++){const bt=Ze[pt].split("=");if(bt.length!==2)throw new c("Error parsing key-value for \\htmlData");Be["data-"+bt[0].trim()]=bt[1].trim()}Ee={command:"\\htmlData",attributes:Be};break}default:throw new Error("Unrecognized html command")}return E.settings.isTrusted(Ee)?{type:"html",mode:E.mode,attributes:Be,body:sr(le)}:E.formatUnsupportedCmd(M)},htmlBuilder:(y,g)=>{const E=Xn(y.body,g,!1),M=["enclosing"];y.attributes.class&&M.push(...y.attributes.class.trim().split(/\s+/));const U=xe.makeSpan(M,E,g);for(const K in y.attributes)K!=="class"&&y.attributes.hasOwnProperty(K)&&U.setAttribute(K,y.attributes[K]);return U},mathmlBuilder:(y,g)=>Hs(y.body,g)}),jt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(y,g)=>{let{parser:E}=y;return{type:"htmlmathml",mode:E.mode,html:sr(g[0]),mathml:sr(g[1])}},htmlBuilder:(y,g)=>{const E=Xn(y.html,g,!1);return xe.makeFragment(E)},mathmlBuilder:(y,g)=>Hs(y.mathml,g)});const d0=function(y){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(y))return{number:+y,unit:"bp"};{const g=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(y);if(!g)throw new c("Invalid size: '"+y+"' in \\includegraphics");const E={number:+(g[1]+g[2]),unit:g[3]};if(!At(E))throw new c("Invalid unit: '"+E.unit+"' in \\includegraphics.");return E}};jt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(y,g,E)=>{let{parser:M}=y,U={number:0,unit:"em"},K={number:.9,unit:"em"},le={number:0,unit:"em"},Ee="";if(E[0]){const pt=Er(E[0],"raw").string.split(",");for(let bt=0;bt<pt.length;bt++){const Nt=pt[bt].split("=");if(Nt.length===2){const sn=Nt[1].trim();switch(Nt[0].trim()){case"alt":Ee=sn;break;case"width":U=d0(sn);break;case"height":K=d0(sn);break;case"totalheight":le=d0(sn);break;default:throw new c("Invalid key: '"+Nt[0]+"' in \\includegraphics.")}}}}const Be=Er(g[0],"url").url;return Ee===""&&(Ee=Be,Ee=Ee.replace(/^.*[\\/]/,""),Ee=Ee.substring(0,Ee.lastIndexOf("."))),M.settings.isTrusted({command:"\\includegraphics",url:Be})?{type:"includegraphics",mode:M.mode,alt:Ee,width:U,height:K,totalheight:le,src:Be}:M.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(y,g)=>{const E=Ot(y.height,g);let M=0;y.totalheight.number>0&&(M=Ot(y.totalheight,g)-E);let U=0;y.width.number>0&&(U=Ot(y.width,g));const K={height:F(E+M)};U>0&&(K.width=F(U)),M>0&&(K.verticalAlign=F(-M));const le=new Se(y.src,y.alt,K);return le.height=E,le.depth=M,le},mathmlBuilder:(y,g)=>{const E=new rn.MathNode("mglyph",[]);E.setAttribute("alt",y.alt);const M=Ot(y.height,g);let U=0;if(y.totalheight.number>0&&(U=Ot(y.totalheight,g)-M,E.setAttribute("valign",F(-U))),E.setAttribute("height",F(M+U)),y.width.number>0){const K=Ot(y.width,g);E.setAttribute("width",F(K))}return E.setAttribute("src",y.src),E}}),jt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(y,g){let{parser:E,funcName:M}=y;const U=Er(g[0],"size");if(E.settings.strict){const K=M[1]==="m",le=U.value.unit==="mu";K?(le||E.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+M+" supports only mu units, "+("not "+U.value.unit+" units")),E.mode!=="math"&&E.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+M+" works only in math mode")):le&&E.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+M+" doesn't support mu units")}return{type:"kern",mode:E.mode,dimension:U.value}},htmlBuilder(y,g){return xe.makeGlue(y.dimension,g)},mathmlBuilder(y,g){const E=Ot(y.dimension,g);return new rn.SpaceNode(E)}}),jt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(y,g)=>{let{parser:E,funcName:M}=y;const U=g[0];return{type:"lap",mode:E.mode,alignment:M.slice(5),body:U}},htmlBuilder:(y,g)=>{let E;y.alignment==="clap"?(E=xe.makeSpan([],[tr(y.body,g)]),E=xe.makeSpan(["inner"],[E],g)):E=xe.makeSpan(["inner"],[tr(y.body,g)]);const M=xe.makeSpan(["fix"],[]);let U=xe.makeSpan([y.alignment],[E,M],g);const K=xe.makeSpan(["strut"]);return K.style.height=F(U.height+U.depth),U.depth&&(K.style.verticalAlign=F(-U.depth)),U.children.unshift(K),U=xe.makeSpan(["thinbox"],[U],g),xe.makeSpan(["mord","vbox"],[U],g)},mathmlBuilder:(y,g)=>{const E=new rn.MathNode("mpadded",[ei(y.body,g)]);if(y.alignment!=="rlap"){const M=y.alignment==="llap"?"-1":"-0.5";E.setAttribute("lspace",M+"width")}return E.setAttribute("width","0px"),E}}),jt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(y,g){let{funcName:E,parser:M}=y;const U=M.mode;M.switchMode("math");const K=E==="\\("?"\\)":"$",le=M.parseExpression(!1,K);return M.expect(K),M.switchMode(U),{type:"styling",mode:M.mode,style:"text",body:le}}}),jt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(y,g){throw new c("Mismatched "+y.funcName)}});const Pa=(y,g)=>{switch(g.style.size){case de.DISPLAY.size:return y.display;case de.TEXT.size:return y.text;case de.SCRIPT.size:return y.script;case de.SCRIPTSCRIPT.size:return y.scriptscript;default:return y.text}};jt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(y,g)=>{let{parser:E}=y;return{type:"mathchoice",mode:E.mode,display:sr(g[0]),text:sr(g[1]),script:sr(g[2]),scriptscript:sr(g[3])}},htmlBuilder:(y,g)=>{const E=Pa(y,g),M=Xn(E,g,!1);return xe.makeFragment(M)},mathmlBuilder:(y,g)=>{const E=Pa(y,g);return Hs(E,g)}});const Bu=(y,g,E,M,U,K,le)=>{y=xe.makeSpan([],[y]);const Ee=E&&X.isCharacterBox(E);let Be,Ze;if(g){const Nt=tr(g,M.havingStyle(U.sup()),M);Ze={elem:Nt,kern:Math.max(M.fontMetrics().bigOpSpacing1,M.fontMetrics().bigOpSpacing3-Nt.depth)}}if(E){const Nt=tr(E,M.havingStyle(U.sub()),M);Be={elem:Nt,kern:Math.max(M.fontMetrics().bigOpSpacing2,M.fontMetrics().bigOpSpacing4-Nt.height)}}let pt;if(Ze&&Be){const Nt=M.fontMetrics().bigOpSpacing5+Be.elem.height+Be.elem.depth+Be.kern+y.depth+le;pt=xe.makeVList({positionType:"bottom",positionData:Nt,children:[{type:"kern",size:M.fontMetrics().bigOpSpacing5},{type:"elem",elem:Be.elem,marginLeft:F(-K)},{type:"kern",size:Be.kern},{type:"elem",elem:y},{type:"kern",size:Ze.kern},{type:"elem",elem:Ze.elem,marginLeft:F(K)},{type:"kern",size:M.fontMetrics().bigOpSpacing5}]},M)}else if(Be){const Nt=y.height-le;pt=xe.makeVList({positionType:"top",positionData:Nt,children:[{type:"kern",size:M.fontMetrics().bigOpSpacing5},{type:"elem",elem:Be.elem,marginLeft:F(-K)},{type:"kern",size:Be.kern},{type:"elem",elem:y}]},M)}else if(Ze){const Nt=y.depth+le;pt=xe.makeVList({positionType:"bottom",positionData:Nt,children:[{type:"elem",elem:y},{type:"kern",size:Ze.kern},{type:"elem",elem:Ze.elem,marginLeft:F(K)},{type:"kern",size:M.fontMetrics().bigOpSpacing5}]},M)}else return y;const bt=[pt];if(Be&&K!==0&&!Ee){const Nt=xe.makeSpan(["mspace"],[],M);Nt.style.marginRight=F(K),bt.unshift(Nt)}return xe.makeSpan(["mop","op-limits"],bt,M)},f0=["\\smallint"],Fa=(y,g)=>{let E,M,U=!1,K;y.type==="supsub"?(E=y.sup,M=y.sub,K=Er(y.base,"op"),U=!0):K=Er(y,"op");const le=g.style;let Ee=!1;le.size===de.DISPLAY.size&&K.symbol&&!f0.includes(K.name)&&(Ee=!0);let Be;if(K.symbol){const bt=Ee?"Size2-Regular":"Size1-Regular";let Nt="";if((K.name==="\\oiint"||K.name==="\\oiiint")&&(Nt=K.name.slice(1),K.name=Nt==="oiint"?"\\iint":"\\iiint"),Be=xe.makeSymbol(K.name,bt,"math",g,["mop","op-symbol",Ee?"large-op":"small-op"]),Nt.length>0){const sn=Be.italic,kn=xe.staticSvg(Nt+"Size"+(Ee?"2":"1"),g);Be=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Be,shift:0},{type:"elem",elem:kn,shift:Ee?.08:0}]},g),K.name="\\"+Nt,Be.classes.unshift("mop"),Be.italic=sn}}else if(K.body){const bt=Xn(K.body,g,!0);bt.length===1&&bt[0]instanceof ee?(Be=bt[0],Be.classes[0]="mop"):Be=xe.makeSpan(["mop"],bt,g)}else{const bt=[];for(let Nt=1;Nt<K.name.length;Nt++)bt.push(xe.mathsym(K.name[Nt],K.mode,g));Be=xe.makeSpan(["mop"],bt,g)}let Ze=0,pt=0;return(Be instanceof ee||K.name==="\\oiint"||K.name==="\\oiiint")&&!K.suppressBaseShift&&(Ze=(Be.height-Be.depth)/2-g.fontMetrics().axisHeight,pt=Be.italic),U?Bu(Be,E,M,g,le,pt,Ze):(Ze&&(Be.style.position="relative",Be.style.top=F(Ze)),Be)},nu=(y,g)=>{let E;if(y.symbol)E=new ci("mo",[Pi(y.name,y.mode)]),f0.includes(y.name)&&E.setAttribute("largeop","false");else if(y.body)E=new ci("mo",Ys(y.body,g));else{E=new ci("mi",[new Xs(y.name.slice(1))]);const M=new ci("mo",[Pi("","text")]);y.parentIsSupSub?E=new ci("mrow",[E,M]):E=To([E,M])}return E},cl={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};jt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(y,g)=>{let{parser:E,funcName:M}=y,U=M;return U.length===1&&(U=cl[U]),{type:"op",mode:E.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:U}},htmlBuilder:Fa,mathmlBuilder:nu}),jt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(y,g)=>{let{parser:E}=y;const M=g[0];return{type:"op",mode:E.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:sr(M)}},htmlBuilder:Fa,mathmlBuilder:nu});const ru={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};jt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(y){let{parser:g,funcName:E}=y;return{type:"op",mode:g.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:E}},htmlBuilder:Fa,mathmlBuilder:nu}),jt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(y){let{parser:g,funcName:E}=y;return{type:"op",mode:g.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:E}},htmlBuilder:Fa,mathmlBuilder:nu}),jt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(y){let{parser:g,funcName:E}=y,M=E;return M.length===1&&(M=ru[M]),{type:"op",mode:g.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:M}},htmlBuilder:Fa,mathmlBuilder:nu});const ea=(y,g)=>{let E,M,U=!1,K;y.type==="supsub"?(E=y.sup,M=y.sub,K=Er(y.base,"operatorname"),U=!0):K=Er(y,"operatorname");let le;if(K.body.length>0){const Ee=K.body.map(Ze=>{const pt=Ze.text;return typeof pt=="string"?{type:"textord",mode:Ze.mode,text:pt}:Ze}),Be=Xn(Ee,g.withFont("mathrm"),!0);for(let Ze=0;Ze<Be.length;Ze++){const pt=Be[Ze];pt instanceof ee&&(pt.text=pt.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}le=xe.makeSpan(["mop"],Be,g)}else le=xe.makeSpan(["mop"],[],g);return U?Bu(le,E,M,g,g.style,0,0):le};jt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(y,g)=>{let{parser:E,funcName:M}=y;const U=g[0];return{type:"operatorname",mode:E.mode,body:sr(U),alwaysHandleSupSub:M==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:ea,mathmlBuilder:(y,g)=>{let E=Ys(y.body,g.withFont("mathrm")),M=!0;for(let le=0;le<E.length;le++){const Ee=E[le];if(!(Ee instanceof rn.SpaceNode))if(Ee instanceof rn.MathNode)switch(Ee.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const Be=Ee.children[0];Ee.children.length===1&&Be instanceof rn.TextNode?Be.text=Be.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):M=!1;break}default:M=!1}else M=!1}if(M){const le=E.map(Ee=>Ee.toText()).join("");E=[new rn.TextNode(le)]}const U=new rn.MathNode("mi",E);U.setAttribute("mathvariant","normal");const K=new rn.MathNode("mo",[Pi("","text")]);return y.parentIsSupSub?new rn.MathNode("mrow",[U,K]):rn.newDocumentFragment([U,K])}}),ye("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),hr({type:"ordgroup",htmlBuilder(y,g){return y.semisimple?xe.makeFragment(Xn(y.body,g,!1)):xe.makeSpan(["mord"],Xn(y.body,g,!0),g)},mathmlBuilder(y,g){return Hs(y.body,g,!0)}}),jt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(y,g){let{parser:E}=y;const M=g[0];return{type:"overline",mode:E.mode,body:M}},htmlBuilder(y,g){const E=tr(y.body,g.havingCrampedStyle()),M=xe.makeLineSpan("overline-line",g),U=g.fontMetrics().defaultRuleThickness,K=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:E},{type:"kern",size:3*U},{type:"elem",elem:M},{type:"kern",size:U}]},g);return xe.makeSpan(["mord","overline"],[K],g)},mathmlBuilder(y,g){const E=new rn.MathNode("mo",[new rn.TextNode("")]);E.setAttribute("stretchy","true");const M=new rn.MathNode("mover",[ei(y.body,g),E]);return M.setAttribute("accent","true"),M}}),jt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(y,g)=>{let{parser:E}=y;const M=g[0];return{type:"phantom",mode:E.mode,body:sr(M)}},htmlBuilder:(y,g)=>{const E=Xn(y.body,g.withPhantom(),!1);return xe.makeFragment(E)},mathmlBuilder:(y,g)=>{const E=Ys(y.body,g);return new rn.MathNode("mphantom",E)}}),jt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(y,g)=>{let{parser:E}=y;const M=g[0];return{type:"hphantom",mode:E.mode,body:M}},htmlBuilder:(y,g)=>{let E=xe.makeSpan([],[tr(y.body,g.withPhantom())]);if(E.height=0,E.depth=0,E.children)for(let M=0;M<E.children.length;M++)E.children[M].height=0,E.children[M].depth=0;return E=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:E}]},g),xe.makeSpan(["mord"],[E],g)},mathmlBuilder:(y,g)=>{const E=Ys(sr(y.body),g),M=new rn.MathNode("mphantom",E),U=new rn.MathNode("mpadded",[M]);return U.setAttribute("height","0px"),U.setAttribute("depth","0px"),U}}),jt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(y,g)=>{let{parser:E}=y;const M=g[0];return{type:"vphantom",mode:E.mode,body:M}},htmlBuilder:(y,g)=>{const E=xe.makeSpan(["inner"],[tr(y.body,g.withPhantom())]),M=xe.makeSpan(["fix"],[]);return xe.makeSpan(["mord","rlap"],[E,M],g)},mathmlBuilder:(y,g)=>{const E=Ys(sr(y.body),g),M=new rn.MathNode("mphantom",E),U=new rn.MathNode("mpadded",[M]);return U.setAttribute("width","0px"),U}}),jt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(y,g){let{parser:E}=y;const M=Er(g[0],"size").value,U=g[1];return{type:"raisebox",mode:E.mode,dy:M,body:U}},htmlBuilder(y,g){const E=tr(y.body,g),M=Ot(y.dy,g);return xe.makeVList({positionType:"shift",positionData:-M,children:[{type:"elem",elem:E}]},g)},mathmlBuilder(y,g){const E=new rn.MathNode("mpadded",[ei(y.body,g)]),M=y.dy.number+y.dy.unit;return E.setAttribute("voffset",M),E}}),jt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(y){let{parser:g}=y;return{type:"internal",mode:g.mode}}}),jt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(y,g,E){let{parser:M}=y;const U=E[0],K=Er(g[0],"size"),le=Er(g[1],"size");return{type:"rule",mode:M.mode,shift:U&&Er(U,"size").value,width:K.value,height:le.value}},htmlBuilder(y,g){const E=xe.makeSpan(["mord","rule"],[],g),M=Ot(y.width,g),U=Ot(y.height,g),K=y.shift?Ot(y.shift,g):0;return E.style.borderRightWidth=F(M),E.style.borderTopWidth=F(U),E.style.bottom=F(K),E.width=M,E.height=U+K,E.depth=-K,E.maxFontSize=U*1.125*g.sizeMultiplier,E},mathmlBuilder(y,g){const E=Ot(y.width,g),M=Ot(y.height,g),U=y.shift?Ot(y.shift,g):0,K=g.color&&g.getColor()||"black",le=new rn.MathNode("mspace");le.setAttribute("mathbackground",K),le.setAttribute("width",F(E)),le.setAttribute("height",F(M));const Ee=new rn.MathNode("mpadded",[le]);return U>=0?Ee.setAttribute("height",F(U)):(Ee.setAttribute("height",F(U)),Ee.setAttribute("depth",F(-U))),Ee.setAttribute("voffset",F(U)),Ee}});function p0(y,g,E){const M=Xn(y,g,!1),U=g.sizeMultiplier/E.sizeMultiplier;for(let K=0;K<M.length;K++){const le=M[K].classes.indexOf("sizing");le<0?Array.prototype.push.apply(M[K].classes,g.sizingClasses(E)):M[K].classes[le+1]==="reset-size"+g.size&&(M[K].classes[le+1]="reset-size"+E.size),M[K].height*=U,M[K].depth*=U}return xe.makeFragment(M)}const Oo=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];jt({type:"sizing",names:Oo,props:{numArgs:0,allowedInText:!0},handler:(y,g)=>{let{breakOnTokenText:E,funcName:M,parser:U}=y;const K=U.parseExpression(!1,E);return{type:"sizing",mode:U.mode,size:Oo.indexOf(M)+1,body:K}},htmlBuilder:(y,g)=>{const E=g.havingSize(y.size);return p0(y.body,E,g)},mathmlBuilder:(y,g)=>{const E=g.havingSize(y.size),M=Ys(y.body,E),U=new rn.MathNode("mstyle",M);return U.setAttribute("mathsize",F(E.sizeMultiplier)),U}}),jt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(y,g,E)=>{let{parser:M}=y,U=!1,K=!1;const le=E[0]&&Er(E[0],"ordgroup");if(le){let Be="";for(let Ze=0;Ze<le.body.length;++Ze)if(Be=le.body[Ze].text,Be==="t")U=!0;else if(Be==="b")K=!0;else{U=!1,K=!1;break}}else U=!0,K=!0;const Ee=g[0];return{type:"smash",mode:M.mode,body:Ee,smashHeight:U,smashDepth:K}},htmlBuilder:(y,g)=>{const E=xe.makeSpan([],[tr(y.body,g)]);if(!y.smashHeight&&!y.smashDepth)return E;if(y.smashHeight&&(E.height=0,E.children))for(let U=0;U<E.children.length;U++)E.children[U].height=0;if(y.smashDepth&&(E.depth=0,E.children))for(let U=0;U<E.children.length;U++)E.children[U].depth=0;const M=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:E}]},g);return xe.makeSpan(["mord"],[M],g)},mathmlBuilder:(y,g)=>{const E=new rn.MathNode("mpadded",[ei(y.body,g)]);return y.smashHeight&&E.setAttribute("height","0px"),y.smashDepth&&E.setAttribute("depth","0px"),E}}),jt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(y,g,E){let{parser:M}=y;const U=E[0],K=g[0];return{type:"sqrt",mode:M.mode,body:K,index:U}},htmlBuilder(y,g){let E=tr(y.body,g.havingCrampedStyle());E.height===0&&(E.height=g.fontMetrics().xHeight),E=xe.wrapFragment(E,g);const U=g.fontMetrics().defaultRuleThickness;let K=U;g.style.id<de.TEXT.id&&(K=g.fontMetrics().xHeight);let le=U+K/4;const Ee=E.height+E.depth+le+U,{span:Be,ruleWidth:Ze,advanceWidth:pt}=jr.sqrtImage(Ee,g),bt=Be.height-Ze;bt>E.height+E.depth+le&&(le=(le+bt-E.height-E.depth)/2);const Nt=Be.height-E.height-le-Ze;E.style.paddingLeft=F(pt);const sn=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:E,wrapperClasses:["svg-align"]},{type:"kern",size:-(E.height+Nt)},{type:"elem",elem:Be},{type:"kern",size:Ze}]},g);if(y.index){const kn=g.havingStyle(de.SCRIPTSCRIPT),Un=tr(y.index,kn,g),Ur=.6*(sn.height-sn.depth),wr=xe.makeVList({positionType:"shift",positionData:-Ur,children:[{type:"elem",elem:Un}]},g),Ar=xe.makeSpan(["root"],[wr]);return xe.makeSpan(["mord","sqrt"],[Ar,sn],g)}else return xe.makeSpan(["mord","sqrt"],[sn],g)},mathmlBuilder(y,g){const{body:E,index:M}=y;return M?new rn.MathNode("mroot",[ei(E,g),ei(M,g)]):new rn.MathNode("msqrt",[ei(E,g)])}});const ya={display:de.DISPLAY,text:de.TEXT,script:de.SCRIPT,scriptscript:de.SCRIPTSCRIPT};jt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(y,g){let{breakOnTokenText:E,funcName:M,parser:U}=y;const K=U.parseExpression(!0,E),le=M.slice(1,M.length-5);return{type:"styling",mode:U.mode,style:le,body:K}},htmlBuilder(y,g){const E=ya[y.style],M=g.havingStyle(E).withFont("");return p0(y.body,M,g)},mathmlBuilder(y,g){const E=ya[y.style],M=g.havingStyle(E),U=Ys(y.body,M),K=new rn.MathNode("mstyle",U),Ee={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[y.style];return K.setAttribute("scriptlevel",Ee[0]),K.setAttribute("displaystyle",Ee[1]),K}});const tl=function(y,g){const E=y.base;return E?E.type==="op"?E.limits&&(g.style.size===de.DISPLAY.size||E.alwaysHandleSupSub)?Fa:null:E.type==="operatorname"?E.alwaysHandleSupSub&&(g.style.size===de.DISPLAY.size||E.limits)?ea:null:E.type==="accent"?X.isCharacterBox(E.base)?J0:null:E.type==="horizBrace"&&!y.sub===E.isOver?Ql:null:null};hr({type:"supsub",htmlBuilder(y,g){const E=tl(y,g);if(E)return E(y,g);const{base:M,sup:U,sub:K}=y,le=tr(M,g);let Ee,Be;const Ze=g.fontMetrics();let pt=0,bt=0;const Nt=M&&X.isCharacterBox(M);if(U){const vi=g.havingStyle(g.style.sup());Ee=tr(U,vi,g),Nt||(pt=le.height-vi.fontMetrics().supDrop*vi.sizeMultiplier/g.sizeMultiplier)}if(K){const vi=g.havingStyle(g.style.sub());Be=tr(K,vi,g),Nt||(bt=le.depth+vi.fontMetrics().subDrop*vi.sizeMultiplier/g.sizeMultiplier)}let sn;g.style===de.DISPLAY?sn=Ze.sup1:g.style.cramped?sn=Ze.sup3:sn=Ze.sup2;const kn=g.sizeMultiplier,Un=F(.5/Ze.ptPerEm/kn);let Ur=null;if(Be){const vi=y.base&&y.base.type==="op"&&y.base.name&&(y.base.name==="\\oiint"||y.base.name==="\\oiiint");(le instanceof ee||vi)&&(Ur=F(-le.italic))}let wr;if(Ee&&Be){pt=Math.max(pt,sn,Ee.depth+.25*Ze.xHeight),bt=Math.max(bt,Ze.sub2);const ni=4*Ze.defaultRuleThickness;if(pt-Ee.depth-(Be.height-bt)<ni){bt=ni-(pt-Ee.depth)+Be.height;const ws=.8*Ze.xHeight-(pt-Ee.depth);ws>0&&(pt+=ws,bt-=ws)}const Yi=[{type:"elem",elem:Be,shift:bt,marginRight:Un,marginLeft:Ur},{type:"elem",elem:Ee,shift:-pt,marginRight:Un}];wr=xe.makeVList({positionType:"individualShift",children:Yi},g)}else if(Be){bt=Math.max(bt,Ze.sub1,Be.height-.8*Ze.xHeight);const vi=[{type:"elem",elem:Be,marginLeft:Ur,marginRight:Un}];wr=xe.makeVList({positionType:"shift",positionData:bt,children:vi},g)}else if(Ee)pt=Math.max(pt,sn,Ee.depth+.25*Ze.xHeight),wr=xe.makeVList({positionType:"shift",positionData:-pt,children:[{type:"elem",elem:Ee,marginRight:Un}]},g);else throw new Error("supsub must have either sup or sub.");const Ar=cs(le,"right")||"mord";return xe.makeSpan([Ar],[le,xe.makeSpan(["msupsub"],[wr])],g)},mathmlBuilder(y,g){let E=!1,M,U;y.base&&y.base.type==="horizBrace"&&(U=!!y.sup,U===y.base.isOver&&(E=!0,M=y.base.isOver)),y.base&&(y.base.type==="op"||y.base.type==="operatorname")&&(y.base.parentIsSupSub=!0);const K=[ei(y.base,g)];y.sub&&K.push(ei(y.sub,g)),y.sup&&K.push(ei(y.sup,g));let le;if(E)le=M?"mover":"munder";else if(y.sub)if(y.sup){const Ee=y.base;Ee&&Ee.type==="op"&&Ee.limits&&g.style===de.DISPLAY||Ee&&Ee.type==="operatorname"&&Ee.alwaysHandleSupSub&&(g.style===de.DISPLAY||Ee.limits)?le="munderover":le="msubsup"}else{const Ee=y.base;Ee&&Ee.type==="op"&&Ee.limits&&(g.style===de.DISPLAY||Ee.alwaysHandleSupSub)||Ee&&Ee.type==="operatorname"&&Ee.alwaysHandleSupSub&&(Ee.limits||g.style===de.DISPLAY)?le="munder":le="msub"}else{const Ee=y.base;Ee&&Ee.type==="op"&&Ee.limits&&(g.style===de.DISPLAY||Ee.alwaysHandleSupSub)||Ee&&Ee.type==="operatorname"&&Ee.alwaysHandleSupSub&&(Ee.limits||g.style===de.DISPLAY)?le="mover":le="msup"}return new rn.MathNode(le,K)}}),hr({type:"atom",htmlBuilder(y,g){return xe.mathsym(y.text,y.mode,g,["m"+y.family])},mathmlBuilder(y,g){const E=new rn.MathNode("mo",[Pi(y.text,y.mode)]);if(y.family==="bin"){const M=$a(y,g);M==="bold-italic"&&E.setAttribute("mathvariant",M)}else y.family==="punct"?E.setAttribute("separator","true"):(y.family==="open"||y.family==="close")&&E.setAttribute("stretchy","false");return E}});const hl={mi:"italic",mn:"normal",mtext:"normal"};hr({type:"mathord",htmlBuilder(y,g){return xe.makeOrd(y,g,"mathord")},mathmlBuilder(y,g){const E=new rn.MathNode("mi",[Pi(y.text,y.mode,g)]),M=$a(y,g)||"italic";return M!==hl[E.type]&&E.setAttribute("mathvariant",M),E}}),hr({type:"textord",htmlBuilder(y,g){return xe.makeOrd(y,g,"textord")},mathmlBuilder(y,g){const E=Pi(y.text,y.mode,g),M=$a(y,g)||"normal";let U;return y.mode==="text"?U=new rn.MathNode("mtext",[E]):/[0-9]/.test(y.text)?U=new rn.MathNode("mn",[E]):y.text==="\\prime"?U=new rn.MathNode("mo",[E]):U=new rn.MathNode("mi",[E]),M!==hl[U.type]&&U.setAttribute("mathvariant",M),U}});const Go={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Uc={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};hr({type:"spacing",htmlBuilder(y,g){if(Uc.hasOwnProperty(y.text)){const E=Uc[y.text].className||"";if(y.mode==="text"){const M=xe.makeOrd(y,g,"textord");return M.classes.push(E),M}else return xe.makeSpan(["mspace",E],[xe.mathsym(y.text,y.mode,g)],g)}else{if(Go.hasOwnProperty(y.text))return xe.makeSpan(["mspace",Go[y.text]],[],g);throw new c('Unknown type of space "'+y.text+'"')}},mathmlBuilder(y,g){let E;if(Uc.hasOwnProperty(y.text))E=new rn.MathNode("mtext",[new rn.TextNode("")]);else{if(Go.hasOwnProperty(y.text))return new rn.MathNode("mspace");throw new c('Unknown type of space "'+y.text+'"')}return E}});const zc=()=>{const y=new rn.MathNode("mtd",[]);return y.setAttribute("width","50%"),y};hr({type:"tag",mathmlBuilder(y,g){const E=new rn.MathNode("mtable",[new rn.MathNode("mtr",[zc(),new rn.MathNode("mtd",[Hs(y.body,g)]),zc(),new rn.MathNode("mtd",[Hs(y.tag,g)])])]);return E.setAttribute("width","100%"),E}});const ta={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Hc={"\\textbf":"textbf","\\textmd":"textmd"},ds={"\\textit":"textit","\\textup":"textup"},ns=(y,g)=>{const E=y.font;if(E){if(ta[E])return g.withTextFontFamily(ta[E]);if(Hc[E])return g.withTextFontWeight(Hc[E]);if(E==="\\emph")return g.fontShape==="textit"?g.withTextFontShape("textup"):g.withTextFontShape("textit")}else return g;return g.withTextFontShape(ds[E])};jt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(y,g){let{parser:E,funcName:M}=y;const U=g[0];return{type:"text",mode:E.mode,body:sr(U),font:M}},htmlBuilder(y,g){const E=ns(y,g),M=Xn(y.body,E,!0);return xe.makeSpan(["mord","text"],M,E)},mathmlBuilder(y,g){const E=ns(y,g);return Hs(y.body,E)}}),jt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(y,g){let{parser:E}=y;return{type:"underline",mode:E.mode,body:g[0]}},htmlBuilder(y,g){const E=tr(y.body,g),M=xe.makeLineSpan("underline-line",g),U=g.fontMetrics().defaultRuleThickness,K=xe.makeVList({positionType:"top",positionData:E.height,children:[{type:"kern",size:U},{type:"elem",elem:M},{type:"kern",size:3*U},{type:"elem",elem:E}]},g);return xe.makeSpan(["mord","underline"],[K],g)},mathmlBuilder(y,g){const E=new rn.MathNode("mo",[new rn.TextNode("")]);E.setAttribute("stretchy","true");const M=new rn.MathNode("munder",[ei(y.body,g),E]);return M.setAttribute("accentunder","true"),M}}),jt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(y,g){let{parser:E}=y;return{type:"vcenter",mode:E.mode,body:g[0]}},htmlBuilder(y,g){const E=tr(y.body,g),M=g.fontMetrics().axisHeight,U=.5*(E.height-M-(E.depth+M));return xe.makeVList({positionType:"shift",positionData:U,children:[{type:"elem",elem:E}]},g)},mathmlBuilder(y,g){return new rn.MathNode("mpadded",[ei(y.body,g)],["vcenter"])}}),jt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(y,g,E){throw new c("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(y,g){const E=Jr(y),M=[],U=g.havingStyle(g.style.text());for(let K=0;K<E.length;K++){let le=E[K];le==="~"&&(le="\\textasciitilde"),M.push(xe.makeSymbol(le,"Typewriter-Regular",y.mode,U,["mord","texttt"]))}return xe.makeSpan(["mord","text"].concat(U.sizingClasses(g)),xe.tryCombineChars(M),U)},mathmlBuilder(y,g){const E=new rn.TextNode(Jr(y)),M=new rn.MathNode("mtext",[E]);return M.setAttribute("mathvariant","monospace"),M}});const Jr=y=>y.body.replace(/ /g,y.star?"":"");var Js=hn;const _a=`[ \r
	]`,Ta="\\\\[a-zA-Z@]+",ad="\\\\[^\uD800-\uDFFF]",ud="("+Ta+")"+_a+"*",iu=`\\\\(
|[ \r	]+
?)[ \r	]*`,Ea="[-]",Wh=new RegExp(Ea+"+$"),su="("+_a+"+)|"+(iu+"|")+"([!-\\[\\]---]"+(Ea+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Ea+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+ud)+("|"+ad+")");class Vc{constructor(g,E){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=g,this.settings=E,this.tokenRegex=new RegExp(su,"g"),this.catcodes={"%":14,"~":13}}setCatcode(g,E){this.catcodes[g]=E}lex(){const g=this.input,E=this.tokenRegex.lastIndex;if(E===g.length)return new hs("EOF",new Ni(this,E,E));const M=this.tokenRegex.exec(g);if(M===null||M.index!==E)throw new c("Unexpected character: '"+g[E]+"'",new hs(g[E],new Ni(this,E,E+1)));const U=M[6]||M[3]||(M[2]?"\\ ":" ");if(this.catcodes[U]===14){const K=g.indexOf(`
`,this.tokenRegex.lastIndex);return K===-1?(this.tokenRegex.lastIndex=g.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=K+1,this.lex()}return new hs(U,new Ni(this,E,this.tokenRegex.lastIndex))}}class m0{constructor(g,E){g===void 0&&(g={}),E===void 0&&(E={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=E,this.builtins=g,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new c("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const g=this.undefStack.pop();for(const E in g)g.hasOwnProperty(E)&&(g[E]==null?delete this.current[E]:this.current[E]=g[E])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(g){return this.current.hasOwnProperty(g)||this.builtins.hasOwnProperty(g)}get(g){return this.current.hasOwnProperty(g)?this.current[g]:this.builtins[g]}set(g,E,M){if(M===void 0&&(M=!1),M){for(let U=0;U<this.undefStack.length;U++)delete this.undefStack[U][g];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][g]=E)}else{const U=this.undefStack[this.undefStack.length-1];U&&!U.hasOwnProperty(g)&&(U[g]=this.current[g])}E==null?delete this.current[g]:this.current[g]=E}}var za=gs;ye("\\noexpand",function(y){const g=y.popToken();return y.isExpandable(g.text)&&(g.noexpand=!0,g.treatAsRelax=!0),{tokens:[g],numArgs:0}}),ye("\\expandafter",function(y){const g=y.popToken();return y.expandOnce(!0),{tokens:[g],numArgs:0}}),ye("\\@firstoftwo",function(y){return{tokens:y.consumeArgs(2)[0],numArgs:0}}),ye("\\@secondoftwo",function(y){return{tokens:y.consumeArgs(2)[1],numArgs:0}}),ye("\\@ifnextchar",function(y){const g=y.consumeArgs(3);y.consumeSpaces();const E=y.future();return g[0].length===1&&g[0][0].text===E.text?{tokens:g[1],numArgs:0}:{tokens:g[2],numArgs:0}}),ye("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),ye("\\TextOrMath",function(y){const g=y.consumeArgs(2);return y.mode==="text"?{tokens:g[0],numArgs:0}:{tokens:g[1],numArgs:0}});const ra={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ye("\\char",function(y){let g=y.popToken(),E,M="";if(g.text==="'")E=8,g=y.popToken();else if(g.text==='"')E=16,g=y.popToken();else if(g.text==="`")if(g=y.popToken(),g.text[0]==="\\")M=g.text.charCodeAt(1);else{if(g.text==="EOF")throw new c("\\char` missing argument");M=g.text.charCodeAt(0)}else E=10;if(E){if(M=ra[g.text],M==null||M>=E)throw new c("Invalid base-"+E+" digit "+g.text);let U;for(;(U=ra[y.future().text])!=null&&U<E;)M*=E,M+=U,y.popToken()}return"\\@char{"+M+"}"});const ou=(y,g,E,M)=>{let U=y.consumeArg().tokens;if(U.length!==1)throw new c("\\newcommand's first argument must be a macro name");const K=U[0].text,le=y.isDefined(K);if(le&&!g)throw new c("\\newcommand{"+K+"} attempting to redefine "+(K+"; use \\renewcommand"));if(!le&&!E)throw new c("\\renewcommand{"+K+"} when command "+K+" does not yet exist; use \\newcommand");let Ee=0;if(U=y.consumeArg().tokens,U.length===1&&U[0].text==="["){let Be="",Ze=y.expandNextToken();for(;Ze.text!=="]"&&Ze.text!=="EOF";)Be+=Ze.text,Ze=y.expandNextToken();if(!Be.match(/^\s*[0-9]+\s*$/))throw new c("Invalid number of arguments: "+Be);Ee=parseInt(Be),U=y.consumeArg().tokens}return le&&M||y.macros.set(K,{tokens:U,numArgs:Ee}),""};ye("\\newcommand",y=>ou(y,!1,!0,!1)),ye("\\renewcommand",y=>ou(y,!0,!1,!1)),ye("\\providecommand",y=>ou(y,!0,!0,!0)),ye("\\message",y=>{const g=y.consumeArgs(1)[0];return console.log(g.reverse().map(E=>E.text).join("")),""}),ye("\\errmessage",y=>{const g=y.consumeArgs(1)[0];return console.error(g.reverse().map(E=>E.text).join("")),""}),ye("\\show",y=>{const g=y.popToken(),E=g.text;return console.log(g,y.macros.get(E),Js[E],kr.math[E],kr.text[E]),""}),ye("\\bgroup","{"),ye("\\egroup","}"),ye("~","\\nobreakspace"),ye("\\lq","`"),ye("\\rq","'"),ye("\\aa","\\r a"),ye("\\AA","\\r A"),ye("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),ye("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),ye("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),ye("","\\mathscr{B}"),ye("","\\mathscr{E}"),ye("","\\mathscr{F}"),ye("","\\mathscr{H}"),ye("","\\mathscr{I}"),ye("","\\mathscr{L}"),ye("","\\mathscr{M}"),ye("","\\mathscr{R}"),ye("","\\mathfrak{C}"),ye("","\\mathfrak{H}"),ye("","\\mathfrak{Z}"),ye("\\Bbbk","\\Bbb{k}"),ye("","\\cdotp"),ye("\\llap","\\mathllap{\\textrm{#1}}"),ye("\\rlap","\\mathrlap{\\textrm{#1}}"),ye("\\clap","\\mathclap{\\textrm{#1}}"),ye("\\mathstrut","\\vphantom{(}"),ye("\\underbar","\\underline{\\text{#1}}"),ye("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),ye("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),ye("\\ne","\\neq"),ye("","\\neq"),ye("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),ye("","\\notin"),ye("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),ye("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),ye("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),ye("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),ye("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),ye("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),ye("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),ye("","\\perp"),ye("","\\mathclose{!\\mkern-0.8mu!}"),ye("","\\notni"),ye("","\\ulcorner"),ye("","\\urcorner"),ye("","\\llcorner"),ye("","\\lrcorner"),ye("","\\copyright"),ye("","\\textregistered"),ye("","\\textregistered"),ye("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),ye("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),ye("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),ye("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),ye("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),ye("","\\vdots"),ye("\\varGamma","\\mathit{\\Gamma}"),ye("\\varDelta","\\mathit{\\Delta}"),ye("\\varTheta","\\mathit{\\Theta}"),ye("\\varLambda","\\mathit{\\Lambda}"),ye("\\varXi","\\mathit{\\Xi}"),ye("\\varPi","\\mathit{\\Pi}"),ye("\\varSigma","\\mathit{\\Sigma}"),ye("\\varUpsilon","\\mathit{\\Upsilon}"),ye("\\varPhi","\\mathit{\\Phi}"),ye("\\varPsi","\\mathit{\\Psi}"),ye("\\varOmega","\\mathit{\\Omega}"),ye("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),ye("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),ye("\\boxed","\\fbox{$\\displaystyle{#1}$}"),ye("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),ye("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),ye("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),ye("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),ye("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");const dl={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ye("\\dots",function(y){let g="\\dotso";const E=y.expandAfterFuture().text;return E in dl?g=dl[E]:(E.slice(0,4)==="\\not"||E in kr.math&&["bin","rel"].includes(kr.math[E].group))&&(g="\\dotsb"),g});const Ha={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ye("\\dotso",function(y){return y.future().text in Ha?"\\ldots\\,":"\\ldots"}),ye("\\dotsc",function(y){const g=y.future().text;return g in Ha&&g!==","?"\\ldots\\,":"\\ldots"}),ye("\\cdots",function(y){return y.future().text in Ha?"\\@cdots\\,":"\\@cdots"}),ye("\\dotsb","\\cdots"),ye("\\dotsm","\\cdots"),ye("\\dotsi","\\!\\cdots"),ye("\\dotsx","\\ldots\\,"),ye("\\DOTSI","\\relax"),ye("\\DOTSB","\\relax"),ye("\\DOTSX","\\relax"),ye("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),ye("\\,","\\tmspace+{3mu}{.1667em}"),ye("\\thinspace","\\,"),ye("\\>","\\mskip{4mu}"),ye("\\:","\\tmspace+{4mu}{.2222em}"),ye("\\medspace","\\:"),ye("\\;","\\tmspace+{5mu}{.2777em}"),ye("\\thickspace","\\;"),ye("\\!","\\tmspace-{3mu}{.1667em}"),ye("\\negthinspace","\\!"),ye("\\negmedspace","\\tmspace-{4mu}{.2222em}"),ye("\\negthickspace","\\tmspace-{5mu}{.277em}"),ye("\\enspace","\\kern.5em "),ye("\\enskip","\\hskip.5em\\relax"),ye("\\quad","\\hskip1em\\relax"),ye("\\qquad","\\hskip2em\\relax"),ye("\\tag","\\@ifstar\\tag@literal\\tag@paren"),ye("\\tag@paren","\\tag@literal{({#1})}"),ye("\\tag@literal",y=>{if(y.macros.get("\\df@tag"))throw new c("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),ye("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),ye("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),ye("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),ye("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),ye("\\newline","\\\\\\relax"),ye("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const Pu=F(cn["Main-Regular"][84][1]-.7*cn["Main-Regular"][65][1]);ye("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Pu+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),ye("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Pu+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),ye("\\hspace","\\@ifstar\\@hspacer\\@hspace"),ye("\\@hspace","\\hskip #1\\relax"),ye("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),ye("\\ordinarycolon",":"),ye("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),ye("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),ye("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),ye("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),ye("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),ye("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),ye("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),ye("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),ye("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),ye("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),ye("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),ye("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),ye("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),ye("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),ye("","\\dblcolon"),ye("","\\eqcolon"),ye("","\\coloneqq"),ye("","\\eqqcolon"),ye("","\\Coloneqq"),ye("\\ratio","\\vcentcolon"),ye("\\coloncolon","\\dblcolon"),ye("\\colonequals","\\coloneqq"),ye("\\coloncolonequals","\\Coloneqq"),ye("\\equalscolon","\\eqqcolon"),ye("\\equalscoloncolon","\\Eqqcolon"),ye("\\colonminus","\\coloneq"),ye("\\coloncolonminus","\\Coloneq"),ye("\\minuscolon","\\eqcolon"),ye("\\minuscoloncolon","\\Eqcolon"),ye("\\coloncolonapprox","\\Colonapprox"),ye("\\coloncolonsim","\\Colonsim"),ye("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ye("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ye("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ye("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ye("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),ye("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),ye("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),ye("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),ye("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),ye("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),ye("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),ye("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),ye("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),ye("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}"),ye("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}"),ye("\\ngeqq","\\html@mathml{\\@ngeqq}{}"),ye("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}"),ye("\\nleqq","\\html@mathml{\\@nleqq}{}"),ye("\\nleqslant","\\html@mathml{\\@nleqslant}{}"),ye("\\nshortmid","\\html@mathml{\\@nshortmid}{}"),ye("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}"),ye("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}"),ye("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}"),ye("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}"),ye("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}"),ye("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}"),ye("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}"),ye("\\imath","\\html@mathml{\\@imath}{}"),ye("\\jmath","\\html@mathml{\\@jmath}{}"),ye("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),ye("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),ye("","\\llbracket"),ye("","\\rrbracket"),ye("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),ye("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),ye("","\\lBrace"),ye("","\\rBrace"),ye("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),ye("","\\minuso"),ye("\\darr","\\downarrow"),ye("\\dArr","\\Downarrow"),ye("\\Darr","\\Downarrow"),ye("\\lang","\\langle"),ye("\\rang","\\rangle"),ye("\\uarr","\\uparrow"),ye("\\uArr","\\Uparrow"),ye("\\Uarr","\\Uparrow"),ye("\\N","\\mathbb{N}"),ye("\\R","\\mathbb{R}"),ye("\\Z","\\mathbb{Z}"),ye("\\alef","\\aleph"),ye("\\alefsym","\\aleph"),ye("\\Alpha","\\mathrm{A}"),ye("\\Beta","\\mathrm{B}"),ye("\\bull","\\bullet"),ye("\\Chi","\\mathrm{X}"),ye("\\clubs","\\clubsuit"),ye("\\cnums","\\mathbb{C}"),ye("\\Complex","\\mathbb{C}"),ye("\\Dagger","\\ddagger"),ye("\\diamonds","\\diamondsuit"),ye("\\empty","\\emptyset"),ye("\\Epsilon","\\mathrm{E}"),ye("\\Eta","\\mathrm{H}"),ye("\\exist","\\exists"),ye("\\harr","\\leftrightarrow"),ye("\\hArr","\\Leftrightarrow"),ye("\\Harr","\\Leftrightarrow"),ye("\\hearts","\\heartsuit"),ye("\\image","\\Im"),ye("\\infin","\\infty"),ye("\\Iota","\\mathrm{I}"),ye("\\isin","\\in"),ye("\\Kappa","\\mathrm{K}"),ye("\\larr","\\leftarrow"),ye("\\lArr","\\Leftarrow"),ye("\\Larr","\\Leftarrow"),ye("\\lrarr","\\leftrightarrow"),ye("\\lrArr","\\Leftrightarrow"),ye("\\Lrarr","\\Leftrightarrow"),ye("\\Mu","\\mathrm{M}"),ye("\\natnums","\\mathbb{N}"),ye("\\Nu","\\mathrm{N}"),ye("\\Omicron","\\mathrm{O}"),ye("\\plusmn","\\pm"),ye("\\rarr","\\rightarrow"),ye("\\rArr","\\Rightarrow"),ye("\\Rarr","\\Rightarrow"),ye("\\real","\\Re"),ye("\\reals","\\mathbb{R}"),ye("\\Reals","\\mathbb{R}"),ye("\\Rho","\\mathrm{P}"),ye("\\sdot","\\cdot"),ye("\\sect","\\S"),ye("\\spades","\\spadesuit"),ye("\\sub","\\subset"),ye("\\sube","\\subseteq"),ye("\\supe","\\supseteq"),ye("\\Tau","\\mathrm{T}"),ye("\\thetasym","\\vartheta"),ye("\\weierp","\\wp"),ye("\\Zeta","\\mathrm{Z}"),ye("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),ye("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),ye("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),ye("\\bra","\\mathinner{\\langle{#1}|}"),ye("\\ket","\\mathinner{|{#1}\\rangle}"),ye("\\braket","\\mathinner{\\langle{#1}\\rangle}"),ye("\\Bra","\\left\\langle#1\\right|"),ye("\\Ket","\\left|#1\\right\\rangle");const fl=y=>g=>{const E=g.consumeArg().tokens,M=g.consumeArg().tokens,U=g.consumeArg().tokens,K=g.consumeArg().tokens,le=g.macros.get("|"),Ee=g.macros.get("\\|");g.macros.beginGroup();const Be=bt=>Nt=>{y&&(Nt.macros.set("|",le),U.length&&Nt.macros.set("\\|",Ee));let sn=bt;return!bt&&U.length&&Nt.future().text==="|"&&(Nt.popToken(),sn=!0),{tokens:sn?U:M,numArgs:0}};g.macros.set("|",Be(!1)),U.length&&g.macros.set("\\|",Be(!0));const Ze=g.consumeArg().tokens,pt=g.expandTokens([...K,...Ze,...E]);return g.macros.endGroup(),{tokens:pt.reverse(),numArgs:0}};ye("\\bra@ket",fl(!1)),ye("\\bra@set",fl(!0)),ye("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),ye("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),ye("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),ye("\\angln","{\\angl n}"),ye("\\blue","\\textcolor{##6495ed}{#1}"),ye("\\orange","\\textcolor{##ffa500}{#1}"),ye("\\pink","\\textcolor{##ff00af}{#1}"),ye("\\red","\\textcolor{##df0030}{#1}"),ye("\\green","\\textcolor{##28ae7b}{#1}"),ye("\\gray","\\textcolor{gray}{#1}"),ye("\\purple","\\textcolor{##9d38bd}{#1}"),ye("\\blueA","\\textcolor{##ccfaff}{#1}"),ye("\\blueB","\\textcolor{##80f6ff}{#1}"),ye("\\blueC","\\textcolor{##63d9ea}{#1}"),ye("\\blueD","\\textcolor{##11accd}{#1}"),ye("\\blueE","\\textcolor{##0c7f99}{#1}"),ye("\\tealA","\\textcolor{##94fff5}{#1}"),ye("\\tealB","\\textcolor{##26edd5}{#1}"),ye("\\tealC","\\textcolor{##01d1c1}{#1}"),ye("\\tealD","\\textcolor{##01a995}{#1}"),ye("\\tealE","\\textcolor{##208170}{#1}"),ye("\\greenA","\\textcolor{##b6ffb0}{#1}"),ye("\\greenB","\\textcolor{##8af281}{#1}"),ye("\\greenC","\\textcolor{##74cf70}{#1}"),ye("\\greenD","\\textcolor{##1fab54}{#1}"),ye("\\greenE","\\textcolor{##0d923f}{#1}"),ye("\\goldA","\\textcolor{##ffd0a9}{#1}"),ye("\\goldB","\\textcolor{##ffbb71}{#1}"),ye("\\goldC","\\textcolor{##ff9c39}{#1}"),ye("\\goldD","\\textcolor{##e07d10}{#1}"),ye("\\goldE","\\textcolor{##a75a05}{#1}"),ye("\\redA","\\textcolor{##fca9a9}{#1}"),ye("\\redB","\\textcolor{##ff8482}{#1}"),ye("\\redC","\\textcolor{##f9685d}{#1}"),ye("\\redD","\\textcolor{##e84d39}{#1}"),ye("\\redE","\\textcolor{##bc2612}{#1}"),ye("\\maroonA","\\textcolor{##ffbde0}{#1}"),ye("\\maroonB","\\textcolor{##ff92c6}{#1}"),ye("\\maroonC","\\textcolor{##ed5fa6}{#1}"),ye("\\maroonD","\\textcolor{##ca337c}{#1}"),ye("\\maroonE","\\textcolor{##9e034e}{#1}"),ye("\\purpleA","\\textcolor{##ddd7ff}{#1}"),ye("\\purpleB","\\textcolor{##c6b9fc}{#1}"),ye("\\purpleC","\\textcolor{##aa87ff}{#1}"),ye("\\purpleD","\\textcolor{##7854ab}{#1}"),ye("\\purpleE","\\textcolor{##543b78}{#1}"),ye("\\mintA","\\textcolor{##f5f9e8}{#1}"),ye("\\mintB","\\textcolor{##edf2df}{#1}"),ye("\\mintC","\\textcolor{##e0e5cc}{#1}"),ye("\\grayA","\\textcolor{##f6f7f7}{#1}"),ye("\\grayB","\\textcolor{##f0f1f2}{#1}"),ye("\\grayC","\\textcolor{##e3e5e6}{#1}"),ye("\\grayD","\\textcolor{##d6d8da}{#1}"),ye("\\grayE","\\textcolor{##babec2}{#1}"),ye("\\grayF","\\textcolor{##888d93}{#1}"),ye("\\grayG","\\textcolor{##626569}{#1}"),ye("\\grayH","\\textcolor{##3b3e40}{#1}"),ye("\\grayI","\\textcolor{##21242c}{#1}"),ye("\\kaBlue","\\textcolor{##314453}{#1}"),ye("\\kaGreen","\\textcolor{##71B307}{#1}");const ao={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Fu{constructor(g,E,M){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=E,this.expansionCount=0,this.feed(g),this.macros=new m0(za,E.macros),this.mode=M,this.stack=[]}feed(g){this.lexer=new Vc(g,this.settings)}switchMode(g){this.mode=g}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(g){this.stack.push(g)}pushTokens(g){this.stack.push(...g)}scanArgument(g){let E,M,U;if(g){if(this.consumeSpaces(),this.future().text!=="[")return null;E=this.popToken(),{tokens:U,end:M}=this.consumeArg(["]"])}else({tokens:U,start:E,end:M}=this.consumeArg());return this.pushToken(new hs("EOF",M.loc)),this.pushTokens(U),new hs("",Ni.range(E,M))}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(g){const E=[],M=g&&g.length>0;M||this.consumeSpaces();const U=this.future();let K,le=0,Ee=0;do{if(K=this.popToken(),E.push(K),K.text==="{")++le;else if(K.text==="}"){if(--le,le===-1)throw new c("Extra }",K)}else if(K.text==="EOF")throw new c("Unexpected end of input in a macro argument, expected '"+(g&&M?g[Ee]:"}")+"'",K);if(g&&M)if((le===0||le===1&&g[Ee]==="{")&&K.text===g[Ee]){if(++Ee,Ee===g.length){E.splice(-Ee,Ee);break}}else Ee=0}while(le!==0||M);return U.text==="{"&&E[E.length-1].text==="}"&&(E.pop(),E.shift()),E.reverse(),{tokens:E,start:U,end:K}}consumeArgs(g,E){if(E){if(E.length!==g+1)throw new c("The length of delimiters doesn't match the number of args!");const U=E[0];for(let K=0;K<U.length;K++){const le=this.popToken();if(U[K]!==le.text)throw new c("Use of the macro doesn't match its definition",le)}}const M=[];for(let U=0;U<g;U++)M.push(this.consumeArg(E&&E[U+1]).tokens);return M}countExpansion(g){if(this.expansionCount+=g,this.expansionCount>this.settings.maxExpand)throw new c("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(g){const E=this.popToken(),M=E.text,U=E.noexpand?null:this._getExpansion(M);if(U==null||g&&U.unexpandable){if(g&&U==null&&M[0]==="\\"&&!this.isDefined(M))throw new c("Undefined control sequence: "+M);return this.pushToken(E),!1}this.countExpansion(1);let K=U.tokens;const le=this.consumeArgs(U.numArgs,U.delimiters);if(U.numArgs){K=K.slice();for(let Ee=K.length-1;Ee>=0;--Ee){let Be=K[Ee];if(Be.text==="#"){if(Ee===0)throw new c("Incomplete placeholder at end of macro body",Be);if(Be=K[--Ee],Be.text==="#")K.splice(Ee+1,1);else if(/^[1-9]$/.test(Be.text))K.splice(Ee,2,...le[+Be.text-1]);else throw new c("Not a valid argument number",Be)}}}return this.pushTokens(K),K.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const g=this.stack.pop();return g.treatAsRelax&&(g.text="\\relax"),g}throw new Error}expandMacro(g){return this.macros.has(g)?this.expandTokens([new hs(g)]):void 0}expandTokens(g){const E=[],M=this.stack.length;for(this.pushTokens(g);this.stack.length>M;)if(this.expandOnce(!0)===!1){const U=this.stack.pop();U.treatAsRelax&&(U.noexpand=!1,U.treatAsRelax=!1),E.push(U)}return this.countExpansion(E.length),E}expandMacroAsText(g){const E=this.expandMacro(g);return E&&E.map(M=>M.text).join("")}_getExpansion(g){const E=this.macros.get(g);if(E==null)return E;if(g.length===1){const U=this.lexer.catcodes[g];if(U!=null&&U!==13)return}const M=typeof E=="function"?E(this):E;if(typeof M=="string"){let U=0;if(M.indexOf("#")!==-1){const Ze=M.replace(/##/g,"");for(;Ze.indexOf("#"+(U+1))!==-1;)++U}const K=new Vc(M,this.settings),le=[];let Ee=K.lex();for(;Ee.text!=="EOF";)le.push(Ee),Ee=K.lex();return le.reverse(),{tokens:le,numArgs:U}}return M}isDefined(g){return this.macros.has(g)||Js.hasOwnProperty(g)||kr.math.hasOwnProperty(g)||kr.text.hasOwnProperty(g)||ao.hasOwnProperty(g)}isExpandable(g){const E=this.macros.get(g);return E!=null?typeof E=="string"||typeof E=="function"||!E.unexpandable:Js.hasOwnProperty(g)&&!Js[g].primitive}}const Uu=/^[]/,Gc=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),jh={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},cd={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class ms{constructor(g,E){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Fu(g,E,this.mode),this.settings=E,this.leftrightDepth=0}expect(g,E){if(E===void 0&&(E=!0),this.fetch().text!==g)throw new c("Expected '"+g+"', got '"+this.fetch().text+"'",this.fetch());E&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(g){this.mode=g,this.gullet.switchMode(g)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const g=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),g}finally{this.gullet.endGroups()}}subparse(g){const E=this.nextToken;this.consume(),this.gullet.pushToken(new hs("}")),this.gullet.pushTokens(g);const M=this.parseExpression(!1);return this.expect("}"),this.nextToken=E,M}parseExpression(g,E){const M=[];for(;;){this.mode==="math"&&this.consumeSpaces();const U=this.fetch();if(ms.endOfExpression.indexOf(U.text)!==-1||E&&U.text===E||g&&Js[U.text]&&Js[U.text].infix)break;const K=this.parseAtom(E);if(K){if(K.type==="internal")continue}else break;M.push(K)}return this.mode==="text"&&this.formLigatures(M),this.handleInfixNodes(M)}handleInfixNodes(g){let E=-1,M;for(let U=0;U<g.length;U++)if(g[U].type==="infix"){if(E!==-1)throw new c("only one infix operator per group",g[U].token);E=U,M=g[U].replaceWith}if(E!==-1&&M){let U,K;const le=g.slice(0,E),Ee=g.slice(E+1);le.length===1&&le[0].type==="ordgroup"?U=le[0]:U={type:"ordgroup",mode:this.mode,body:le},Ee.length===1&&Ee[0].type==="ordgroup"?K=Ee[0]:K={type:"ordgroup",mode:this.mode,body:Ee};let Be;return M==="\\\\abovefrac"?Be=this.callFunction(M,[U,g[E],K],[]):Be=this.callFunction(M,[U,K],[]),[Be]}else return g}handleSupSubscript(g){const E=this.fetch(),M=E.text;this.consume(),this.consumeSpaces();let U;do{var K;U=this.parseGroup(g)}while(((K=U)==null?void 0:K.type)==="internal");if(!U)throw new c("Expected group after '"+M+"'",E);return U}formatUnsupportedCmd(g){const E=[];for(let K=0;K<g.length;K++)E.push({type:"textord",mode:"text",text:g[K]});const M={type:"text",mode:this.mode,body:E};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[M]}}parseAtom(g){const E=this.parseGroup("atom",g);if(E?.type==="internal"||this.mode==="text")return E;let M,U;for(;;){this.consumeSpaces();const K=this.fetch();if(K.text==="\\limits"||K.text==="\\nolimits"){if(E&&E.type==="op"){const le=K.text==="\\limits";E.limits=le,E.alwaysHandleSupSub=!0}else if(E&&E.type==="operatorname")E.alwaysHandleSupSub&&(E.limits=K.text==="\\limits");else throw new c("Limit controls must follow a math operator",K);this.consume()}else if(K.text==="^"){if(M)throw new c("Double superscript",K);M=this.handleSupSubscript("superscript")}else if(K.text==="_"){if(U)throw new c("Double subscript",K);U=this.handleSupSubscript("subscript")}else if(K.text==="'"){if(M)throw new c("Double superscript",K);const le={type:"textord",mode:this.mode,text:"\\prime"},Ee=[le];for(this.consume();this.fetch().text==="'";)Ee.push(le),this.consume();this.fetch().text==="^"&&Ee.push(this.handleSupSubscript("superscript")),M={type:"ordgroup",mode:this.mode,body:Ee}}else if(Gc[K.text]){const le=Uu.test(K.text),Ee=[];for(Ee.push(new hs(Gc[K.text])),this.consume();;){const Ze=this.fetch().text;if(!Gc[Ze]||Uu.test(Ze)!==le)break;Ee.unshift(new hs(Gc[Ze])),this.consume()}const Be=this.subparse(Ee);le?U={type:"ordgroup",mode:"math",body:Be}:M={type:"ordgroup",mode:"math",body:Be}}else break}return M||U?{type:"supsub",mode:this.mode,base:E,sup:M,sub:U}:E}parseFunction(g,E){const M=this.fetch(),U=M.text,K=Js[U];if(!K)return null;if(this.consume(),E&&E!=="atom"&&!K.allowedInArgument)throw new c("Got function '"+U+"' with no arguments"+(E?" as "+E:""),M);if(this.mode==="text"&&!K.allowedInText)throw new c("Can't use function '"+U+"' in text mode",M);if(this.mode==="math"&&K.allowedInMath===!1)throw new c("Can't use function '"+U+"' in math mode",M);const{args:le,optArgs:Ee}=this.parseArguments(U,K);return this.callFunction(U,le,Ee,M,g)}callFunction(g,E,M,U,K){const le={funcName:g,parser:this,token:U,breakOnTokenText:K},Ee=Js[g];if(Ee&&Ee.handler)return Ee.handler(le,E,M);throw new c("No function handler for "+g)}parseArguments(g,E){const M=E.numArgs+E.numOptionalArgs;if(M===0)return{args:[],optArgs:[]};const U=[],K=[];for(let le=0;le<M;le++){let Ee=E.argTypes&&E.argTypes[le];const Be=le<E.numOptionalArgs;(E.primitive&&Ee==null||E.type==="sqrt"&&le===1&&K[0]==null)&&(Ee="primitive");const Ze=this.parseGroupOfType("argument to '"+g+"'",Ee,Be);if(Be)K.push(Ze);else if(Ze!=null)U.push(Ze);else throw new c("Null argument, please report this as a bug")}return{args:U,optArgs:K}}parseGroupOfType(g,E,M){switch(E){case"color":return this.parseColorGroup(M);case"size":return this.parseSizeGroup(M);case"url":return this.parseUrlGroup(M);case"math":case"text":return this.parseArgumentGroup(M,E);case"hbox":{const U=this.parseArgumentGroup(M,"text");return U!=null?{type:"styling",mode:U.mode,body:[U],style:"text"}:null}case"raw":{const U=this.parseStringGroup("raw",M);return U!=null?{type:"raw",mode:"text",string:U.text}:null}case"primitive":{if(M)throw new c("A primitive argument cannot be optional");const U=this.parseGroup(g);if(U==null)throw new c("Expected group as "+g,this.fetch());return U}case"original":case null:case void 0:return this.parseArgumentGroup(M);default:throw new c("Unknown group type as "+g,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(g,E){const M=this.gullet.scanArgument(E);if(M==null)return null;let U="",K;for(;(K=this.fetch()).text!=="EOF";)U+=K.text,this.consume();return this.consume(),M.text=U,M}parseRegexGroup(g,E){const M=this.fetch();let U=M,K="",le;for(;(le=this.fetch()).text!=="EOF"&&g.test(K+le.text);)U=le,K+=U.text,this.consume();if(K==="")throw new c("Invalid "+E+": '"+M.text+"'",M);return M.range(U,K)}parseColorGroup(g){const E=this.parseStringGroup("color",g);if(E==null)return null;const M=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(E.text);if(!M)throw new c("Invalid color: '"+E.text+"'",E);let U=M[0];return/^[0-9a-f]{6}$/i.test(U)&&(U="#"+U),{type:"color-token",mode:this.mode,color:U}}parseSizeGroup(g){let E,M=!1;if(this.gullet.consumeSpaces(),!g&&this.gullet.future().text!=="{"?E=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):E=this.parseStringGroup("size",g),!E)return null;!g&&E.text.length===0&&(E.text="0pt",M=!0);const U=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(E.text);if(!U)throw new c("Invalid size: '"+E.text+"'",E);const K={number:+(U[1]+U[2]),unit:U[3]};if(!At(K))throw new c("Invalid unit: '"+K.unit+"'",E);return{type:"size",mode:this.mode,value:K,isBlank:M}}parseUrlGroup(g){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const E=this.parseStringGroup("url",g);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),E==null)return null;const M=E.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:M}}parseArgumentGroup(g,E){const M=this.gullet.scanArgument(g);if(M==null)return null;const U=this.mode;E&&this.switchMode(E),this.gullet.beginGroup();const K=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const le={type:"ordgroup",mode:this.mode,loc:M.loc,body:K};return E&&this.switchMode(U),le}parseGroup(g,E){const M=this.fetch(),U=M.text;let K;if(U==="{"||U==="\\begingroup"){this.consume();const le=U==="{"?"}":"\\endgroup";this.gullet.beginGroup();const Ee=this.parseExpression(!1,le),Be=this.fetch();this.expect(le),this.gullet.endGroup(),K={type:"ordgroup",mode:this.mode,loc:Ni.range(M,Be),body:Ee,semisimple:U==="\\begingroup"||void 0}}else if(K=this.parseFunction(E,g)||this.parseSymbol(),K==null&&U[0]==="\\"&&!ao.hasOwnProperty(U)){if(this.settings.throwOnError)throw new c("Undefined control sequence: "+U,M);K=this.formatUnsupportedCmd(U),this.consume()}return K}formLigatures(g){let E=g.length-1;for(let M=0;M<E;++M){const U=g[M],K=U.text;K==="-"&&g[M+1].text==="-"&&(M+1<E&&g[M+2].text==="-"?(g.splice(M,3,{type:"textord",mode:"text",loc:Ni.range(U,g[M+2]),text:"---"}),E-=2):(g.splice(M,2,{type:"textord",mode:"text",loc:Ni.range(U,g[M+1]),text:"--"}),E-=1)),(K==="'"||K==="`")&&g[M+1].text===K&&(g.splice(M,2,{type:"textord",mode:"text",loc:Ni.range(U,g[M+1]),text:K+K}),E-=1)}}parseSymbol(){const g=this.fetch();let E=g.text;if(/^\\verb[^a-zA-Z]/.test(E)){this.consume();let K=E.slice(5);const le=K.charAt(0)==="*";if(le&&(K=K.slice(1)),K.length<2||K.charAt(0)!==K.slice(-1))throw new c(`\\verb assertion failed --
                    please report what input caused this bug`);return K=K.slice(1,-1),{type:"verb",mode:"text",body:K,star:le}}cd.hasOwnProperty(E[0])&&!kr[this.mode][E[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+E[0]+'" used in math mode',g),E=cd[E[0]]+E.slice(1));const M=Wh.exec(E);M&&(E=E.substring(0,M.index),E==="i"?E="":E==="j"&&(E=""));let U;if(kr[this.mode][E]){this.settings.strict&&this.mode==="math"&&us.indexOf(E)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+E[0]+'" used in math mode',g);const K=kr[this.mode][E].group,le=Ni.range(g);let Ee;if($r.hasOwnProperty(K)){const Be=K;Ee={type:"atom",mode:this.mode,family:Be,loc:le,text:E}}else Ee={type:K,mode:this.mode,loc:le,text:E};U=Ee}else if(E.charCodeAt(0)>=128)this.settings.strict&&(Ct(E.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+E[0]+'" used in math mode',g):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+E[0]+'"'+(" ("+E.charCodeAt(0)+")"),g)),U={type:"textord",mode:"text",loc:Ni.range(g),text:E};else return null;if(this.consume(),M)for(let K=0;K<M[0].length;K++){const le=M[0][K];if(!jh[le])throw new c("Unknown accent ' "+le+"'",g);const Ee=jh[le][this.mode]||jh[le].text;if(!Ee)throw new c("Accent "+le+" unsupported in "+this.mode+" mode",g);U={type:"accent",mode:this.mode,loc:Ni.range(g),label:Ee,isStretchy:!1,isShifty:!0,base:U}}return U}}ms.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Va=function(y,g){if(!(typeof y=="string"||y instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const E=new ms(y,g);delete E.gullet.macros.current["\\df@tag"];let M=E.parse();if(delete E.gullet.macros.current["\\current@color"],delete E.gullet.macros.current["\\color"],E.gullet.macros.get("\\df@tag")){if(!g.displayMode)throw new c("\\tag works only in display equations");M=[{type:"tag",mode:"text",body:M,tag:E.subparse([new hs("\\df@tag")])}]}return M};let Ga=function(y,g,E){g.textContent="";const M=Yh(y,E).toNode();g.appendChild(M)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Ga=function(){throw new c("KaTeX doesn't work in quirks mode.")});const Xh=function(y,g){return Yh(y,g).toMarkup()},lu=function(y,g){const E=new te(g);return Va(y,E)},g0=function(y,g,E){if(E.throwOnError||!(y instanceof c))throw y;const M=xe.makeSpan(["katex-error"],[new ee(g)]);return M.setAttribute("title",y.toString()),M.setAttribute("style","color:"+E.errorColor),M},Yh=function(y,g){const E=new te(g);try{const M=Va(y,E);return jl(M,y,E)}catch(M){return g0(M,y,E)}};var Ui={version:"0.16.25",render:Ga,renderToString:Xh,ParseError:c,SETTINGS_SCHEMA:R,__parse:lu,__renderToDomTree:Yh,__renderToHTMLTree:function(y,g){const E=new te(g);try{const M=Va(y,E);return Xl(M,y,E)}catch(M){return g0(M,y,E)}},__setFontMetrics:lr,__defineSymbol:z,__defineFunction:jt,__defineMacro:ye,__domTree:{Span:Lr,Anchor:ne,SymbolNode:ee,SvgNode:Ce,PathNode:je,LineNode:Ft}},xl=Ui;return s=s.default,s})()})})(r5)),r5.exports}var zI=em.exports,Rb;function HI(){return Rb||(Rb=1,(function(t,n){(function(r,s){s(n,j5(),HE(),UI())})(zI,function(r,s,a,c){Object.defineProperty(r,"__esModule",{value:!0});function d(X,R){for(var W in R)Object.defineProperty(X,W,{enumerable:!0,get:R[W]})}d(r,{BlockMath:()=>P,InlineMath:()=>G}),s=v(s),a=m(a),c=m(c);function m(X){return X&&X.__esModule?X:{default:X}}function $(X){if(typeof WeakMap!="function")return null;var R=new WeakMap,W=new WeakMap;return($=function(te){return te?W:R})(X)}function v(X,R){if(X&&X.__esModule)return X;if(X===null||typeof X!="object"&&typeof X!="function")return{default:X};var W=$(R);if(W&&W.has(X))return W.get(X);var te={},ie=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var se in X)if(se!=="default"&&Object.prototype.hasOwnProperty.call(X,se)){var Y=ie?Object.getOwnPropertyDescriptor(X,se):null;Y&&(Y.get||Y.set)?Object.defineProperty(te,se,Y):te[se]=X[se]}return te.default=X,W&&W.set(X,te),te}const _=(X,{displayMode:R})=>{const W=({children:te,errorColor:ie,math:se,renderError:Y})=>{const fe=se??te,{html:Ie,error:De}=(0,s.useMemo)(()=>{try{return{html:c.default.renderToString(fe,{displayMode:R,errorColor:ie,throwOnError:!!Y}),error:void 0}}catch(Ue){if(Ue instanceof c.default.ParseError||Ue instanceof TypeError)return{error:Ue};throw Ue}},[fe,ie,Y]);return De?Y?Y(De):s.default.createElement(X,{html:`${De.message}`}):s.default.createElement(X,{html:Ie})};return W.propTypes={children:a.default.string,errorColor:a.default.string,math:a.default.string,renderError:a.default.func},W},T={html:a.default.string.isRequired},S=({html:X})=>s.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:X}});S.propTypes=T;const k=({html:X})=>s.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:X}});k.propTypes=T;const P=_(S,{displayMode:!0}),G=_(k,{displayMode:!1})})})(em,em.exports)),em.exports}var D4=HI(),ku={},Lb={},Db;function VI(){return Db||(Db=1,typeof window<"u"&&(function(t,n){try{t.querySelector(":scope body")}catch{["querySelector","querySelectorAll"].forEach(function(s){const a=n[s];n[s]=function(c){if(/(^|,)\s*:scope/.test(c)){const d=this.id;this.id="ID_"+Date.now(),c=c.replace(/((^|,)\s*):scope/g,"$1#"+this.id);const m=t[s](c);return this.id=d,m}else return a.call(this,c)}})}})(window.document,Element.prototype)),Lb}var Jd={};function Hr(t){return function(){return t}}const Bb=Math.abs,Ul=Math.atan2,Th=Math.cos,GI=Math.max,t2=Math.min,Ca=Math.sin,js=Math.sqrt,zl=1e-12,K1=Math.PI,m5=K1/2,X1=2*K1;function qI(t){return t>1?0:t<-1?K1:Math.acos(t)}function Pb(t){return t>=1?m5:t<=-1?-m5:Math.asin(t)}const fg=Math.PI,pg=2*fg,tf=1e-6,WI=pg-tf;function XE(t){this._+=t[0];for(let n=1,r=t.length;n<r;++n)this._+=arguments[n]+t[n]}function jI(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return XE;const r=10**n;return function(s){this._+=s[0];for(let a=1,c=s.length;a<c;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class XI{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?XE:jI(n)}moveTo(n,r){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,r){this._append`L${this._x1=+n},${this._y1=+r}`}quadraticCurveTo(n,r,s,a){this._append`Q${+n},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(n,r,s,a,c,d){this._append`C${+n},${+r},${+s},${+a},${this._x1=+c},${this._y1=+d}`}arcTo(n,r,s,a,c){if(n=+n,r=+r,s=+s,a=+a,c=+c,c<0)throw new Error(`negative radius: ${c}`);let d=this._x1,m=this._y1,$=s-n,v=a-r,_=d-n,T=m-r,S=_*_+T*T;if(this._x1===null)this._append`M${this._x1=n},${this._y1=r}`;else if(S>tf)if(!(Math.abs(T*$-v*_)>tf)||!c)this._append`L${this._x1=n},${this._y1=r}`;else{let k=s-d,P=a-m,G=$*$+v*v,X=k*k+P*P,R=Math.sqrt(G),W=Math.sqrt(S),te=c*Math.tan((fg-Math.acos((G+S-X)/(2*R*W)))/2),ie=te/W,se=te/R;Math.abs(ie-1)>tf&&this._append`L${n+ie*_},${r+ie*T}`,this._append`A${c},${c},0,0,${+(T*k>_*P)},${this._x1=n+se*$},${this._y1=r+se*v}`}}arc(n,r,s,a,c,d){if(n=+n,r=+r,s=+s,d=!!d,s<0)throw new Error(`negative radius: ${s}`);let m=s*Math.cos(a),$=s*Math.sin(a),v=n+m,_=r+$,T=1^d,S=d?a-c:c-a;this._x1===null?this._append`M${v},${_}`:(Math.abs(this._x1-v)>tf||Math.abs(this._y1-_)>tf)&&this._append`L${v},${_}`,s&&(S<0&&(S=S%pg+pg),S>WI?this._append`A${s},${s},0,1,${T},${n-m},${r-$}A${s},${s},0,1,${T},${this._x1=v},${this._y1=_}`:S>tf&&this._append`A${s},${s},0,${+(S>=fg)},${T},${this._x1=n+s*Math.cos(c)},${this._y1=r+s*Math.sin(c)}`)}rect(n,r,s,a){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function Sm(t){let n=3;return t.digits=function(r){if(!arguments.length)return n;if(r==null)n=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);n=s}return t},()=>new XI(n)}function YI(t){return t.innerRadius}function KI(t){return t.outerRadius}function JI(t){return t.startAngle}function ZI(t){return t.endAngle}function QI(t){return t&&t.padAngle}function eM(t,n,r,s,a,c,d,m){var $=r-t,v=s-n,_=d-a,T=m-c,S=T*$-_*v;if(!(S*S<zl))return S=(_*(n-c)-T*(t-a))/S,[t+S*$,n+S*v]}function E3(t,n,r,s,a,c,d){var m=t-r,$=n-s,v=(d?c:-c)/js(m*m+$*$),_=v*$,T=-v*m,S=t+_,k=n+T,P=r+_,G=s+T,X=(S+P)/2,R=(k+G)/2,W=P-S,te=G-k,ie=W*W+te*te,se=a-c,Y=S*G-P*k,fe=(te<0?-1:1)*js(GI(0,se*se*ie-Y*Y)),Ie=(Y*te-W*fe)/ie,De=(-Y*W-te*fe)/ie,Ue=(Y*te+W*fe)/ie,it=(-Y*W+te*fe)/ie,ze=Ie-X,dt=De-R,Oe=Ue-X,rt=it-R;return ze*ze+dt*dt>Oe*Oe+rt*rt&&(Ie=Ue,De=it),{cx:Ie,cy:De,x01:-_,y01:-T,x11:Ie*(a/se-1),y11:De*(a/se-1)}}function tM(){var t=YI,n=KI,r=Hr(0),s=null,a=JI,c=ZI,d=QI,m=null,$=Sm(v);function v(){var _,T,S=+t.apply(this,arguments),k=+n.apply(this,arguments),P=a.apply(this,arguments)-m5,G=c.apply(this,arguments)-m5,X=Bb(G-P),R=G>P;if(m||(m=_=$()),k<S&&(T=k,k=S,S=T),!(k>zl))m.moveTo(0,0);else if(X>X1-zl)m.moveTo(k*Th(P),k*Ca(P)),m.arc(0,0,k,P,G,!R),S>zl&&(m.moveTo(S*Th(G),S*Ca(G)),m.arc(0,0,S,G,P,R));else{var W=P,te=G,ie=P,se=G,Y=X,fe=X,Ie=d.apply(this,arguments)/2,De=Ie>zl&&(s?+s.apply(this,arguments):js(S*S+k*k)),Ue=t2(Bb(k-S)/2,+r.apply(this,arguments)),it=Ue,ze=Ue,dt,Oe;if(De>zl){var rt=Pb(De/S*Ca(Ie)),Pe=Pb(De/k*Ca(Ie));(Y-=rt*2)>zl?(rt*=R?1:-1,ie+=rt,se-=rt):(Y=0,ie=se=(P+G)/2),(fe-=Pe*2)>zl?(Pe*=R?1:-1,W+=Pe,te-=Pe):(fe=0,W=te=(P+G)/2)}var nt=k*Th(W),ot=k*Ca(W),Lt=S*Th(se),de=S*Ca(se);if(Ue>zl){var Fe=k*Th(te),et=k*Ca(te),_e=S*Th(ie),Ct=S*Ca(ie),$t;if(X<K1)if($t=eM(nt,ot,_e,Ct,Fe,et,Lt,de)){var qt=nt-$t[0],ln=ot-$t[1],En=Fe-$t[0],St=et-$t[1],Ut=1/Ca(qI((qt*En+ln*St)/(js(qt*qt+ln*ln)*js(En*En+St*St)))/2),fn=js($t[0]*$t[0]+$t[1]*$t[1]);it=t2(Ue,(S-fn)/(Ut-1)),ze=t2(Ue,(k-fn)/(Ut+1))}else it=ze=0}fe>zl?ze>zl?(dt=E3(_e,Ct,nt,ot,k,ze,R),Oe=E3(Fe,et,Lt,de,k,ze,R),m.moveTo(dt.cx+dt.x01,dt.cy+dt.y01),ze<Ue?m.arc(dt.cx,dt.cy,ze,Ul(dt.y01,dt.x01),Ul(Oe.y01,Oe.x01),!R):(m.arc(dt.cx,dt.cy,ze,Ul(dt.y01,dt.x01),Ul(dt.y11,dt.x11),!R),m.arc(0,0,k,Ul(dt.cy+dt.y11,dt.cx+dt.x11),Ul(Oe.cy+Oe.y11,Oe.cx+Oe.x11),!R),m.arc(Oe.cx,Oe.cy,ze,Ul(Oe.y11,Oe.x11),Ul(Oe.y01,Oe.x01),!R))):(m.moveTo(nt,ot),m.arc(0,0,k,W,te,!R)):m.moveTo(nt,ot),!(S>zl)||!(Y>zl)?m.lineTo(Lt,de):it>zl?(dt=E3(Lt,de,Fe,et,S,-it,R),Oe=E3(nt,ot,_e,Ct,S,-it,R),m.lineTo(dt.cx+dt.x01,dt.cy+dt.y01),it<Ue?m.arc(dt.cx,dt.cy,it,Ul(dt.y01,dt.x01),Ul(Oe.y01,Oe.x01),!R):(m.arc(dt.cx,dt.cy,it,Ul(dt.y01,dt.x01),Ul(dt.y11,dt.x11),!R),m.arc(0,0,S,Ul(dt.cy+dt.y11,dt.cx+dt.x11),Ul(Oe.cy+Oe.y11,Oe.cx+Oe.x11),R),m.arc(Oe.cx,Oe.cy,it,Ul(Oe.y11,Oe.x11),Ul(Oe.y01,Oe.x01),!R))):m.arc(0,0,S,se,ie,R)}if(m.closePath(),_)return m=null,_+""||null}return v.centroid=function(){var _=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,T=(+a.apply(this,arguments)+ +c.apply(this,arguments))/2-K1/2;return[Th(T)*_,Ca(T)*_]},v.innerRadius=function(_){return arguments.length?(t=typeof _=="function"?_:Hr(+_),v):t},v.outerRadius=function(_){return arguments.length?(n=typeof _=="function"?_:Hr(+_),v):n},v.cornerRadius=function(_){return arguments.length?(r=typeof _=="function"?_:Hr(+_),v):r},v.padRadius=function(_){return arguments.length?(s=_==null?null:typeof _=="function"?_:Hr(+_),v):s},v.startAngle=function(_){return arguments.length?(a=typeof _=="function"?_:Hr(+_),v):a},v.endAngle=function(_){return arguments.length?(c=typeof _=="function"?_:Hr(+_),v):c},v.padAngle=function(_){return arguments.length?(d=typeof _=="function"?_:Hr(+_),v):d},v.context=function(_){return arguments.length?(m=_??null,v):m},v}var nM=Array.prototype.slice;function X5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function YE(t){this._context=t}YE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function Y5(t){return new YE(t)}function i9(t){return t[0]}function s9(t){return t[1]}function o9(t,n){var r=Hr(!0),s=null,a=Y5,c=null,d=Sm(m);t=typeof t=="function"?t:t===void 0?i9:Hr(t),n=typeof n=="function"?n:n===void 0?s9:Hr(n);function m($){var v,_=($=X5($)).length,T,S=!1,k;for(s==null&&(c=a(k=d())),v=0;v<=_;++v)!(v<_&&r(T=$[v],v,$))===S&&((S=!S)?c.lineStart():c.lineEnd()),S&&c.point(+t(T,v,$),+n(T,v,$));if(k)return c=null,k+""||null}return m.x=function($){return arguments.length?(t=typeof $=="function"?$:Hr(+$),m):t},m.y=function($){return arguments.length?(n=typeof $=="function"?$:Hr(+$),m):n},m.defined=function($){return arguments.length?(r=typeof $=="function"?$:Hr(!!$),m):r},m.curve=function($){return arguments.length?(a=$,s!=null&&(c=a(s)),m):a},m.context=function($){return arguments.length?($==null?s=c=null:c=a(s=$),m):s},m}function KE(t,n,r){var s=null,a=Hr(!0),c=null,d=Y5,m=null,$=Sm(v);t=typeof t=="function"?t:t===void 0?i9:Hr(+t),n=typeof n=="function"?n:Hr(n===void 0?0:+n),r=typeof r=="function"?r:r===void 0?s9:Hr(+r);function v(T){var S,k,P,G=(T=X5(T)).length,X,R=!1,W,te=new Array(G),ie=new Array(G);for(c==null&&(m=d(W=$())),S=0;S<=G;++S){if(!(S<G&&a(X=T[S],S,T))===R)if(R=!R)k=S,m.areaStart(),m.lineStart();else{for(m.lineEnd(),m.lineStart(),P=S-1;P>=k;--P)m.point(te[P],ie[P]);m.lineEnd(),m.areaEnd()}R&&(te[S]=+t(X,S,T),ie[S]=+n(X,S,T),m.point(s?+s(X,S,T):te[S],r?+r(X,S,T):ie[S]))}if(W)return m=null,W+""||null}function _(){return o9().defined(a).curve(d).context(c)}return v.x=function(T){return arguments.length?(t=typeof T=="function"?T:Hr(+T),s=null,v):t},v.x0=function(T){return arguments.length?(t=typeof T=="function"?T:Hr(+T),v):t},v.x1=function(T){return arguments.length?(s=T==null?null:typeof T=="function"?T:Hr(+T),v):s},v.y=function(T){return arguments.length?(n=typeof T=="function"?T:Hr(+T),r=null,v):n},v.y0=function(T){return arguments.length?(n=typeof T=="function"?T:Hr(+T),v):n},v.y1=function(T){return arguments.length?(r=T==null?null:typeof T=="function"?T:Hr(+T),v):r},v.lineX0=v.lineY0=function(){return _().x(t).y(n)},v.lineY1=function(){return _().x(t).y(r)},v.lineX1=function(){return _().x(s).y(n)},v.defined=function(T){return arguments.length?(a=typeof T=="function"?T:Hr(!!T),v):a},v.curve=function(T){return arguments.length?(d=T,c!=null&&(m=d(c)),v):d},v.context=function(T){return arguments.length?(T==null?c=m=null:m=d(c=T),v):c},v}function rM(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function iM(t){return t}function sM(){var t=iM,n=rM,r=null,s=Hr(0),a=Hr(X1),c=Hr(0);function d(m){var $,v=(m=X5(m)).length,_,T,S=0,k=new Array(v),P=new Array(v),G=+s.apply(this,arguments),X=Math.min(X1,Math.max(-X1,a.apply(this,arguments)-G)),R,W=Math.min(Math.abs(X)/v,c.apply(this,arguments)),te=W*(X<0?-1:1),ie;for($=0;$<v;++$)(ie=P[k[$]=$]=+t(m[$],$,m))>0&&(S+=ie);for(n!=null?k.sort(function(se,Y){return n(P[se],P[Y])}):r!=null&&k.sort(function(se,Y){return r(m[se],m[Y])}),$=0,T=S?(X-v*te)/S:0;$<v;++$,G=R)_=k[$],ie=P[_],R=G+(ie>0?ie*T:0)+te,P[_]={data:m[_],index:$,value:ie,startAngle:G,endAngle:R,padAngle:W};return P}return d.value=function(m){return arguments.length?(t=typeof m=="function"?m:Hr(+m),d):t},d.sortValues=function(m){return arguments.length?(n=m,r=null,d):n},d.sort=function(m){return arguments.length?(r=m,n=null,d):r},d.startAngle=function(m){return arguments.length?(s=typeof m=="function"?m:Hr(+m),d):s},d.endAngle=function(m){return arguments.length?(a=typeof m=="function"?m:Hr(+m),d):a},d.padAngle=function(m){return arguments.length?(c=typeof m=="function"?m:Hr(+m),d):c},d}var JE=l9(Y5);function ZE(t){this._curve=t}ZE.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};function l9(t){function n(r){return new ZE(t(r))}return n._curve=t,n}function tm(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(r){return arguments.length?n(l9(r)):n()._curve},t}function Fb(){return tm(o9().curve(JE))}function Ub(){var t=KE().curve(JE),n=t.curve,r=t.lineX0,s=t.lineX1,a=t.lineY0,c=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return tm(r())},delete t.lineX0,t.lineEndAngle=function(){return tm(s())},delete t.lineX1,t.lineInnerRadius=function(){return tm(a())},delete t.lineY0,t.lineOuterRadius=function(){return tm(c())},delete t.lineY1,t.curve=function(d){return arguments.length?n(l9(d)):n()._curve},t}function nm(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}class QE{constructor(n,r){this._context=n,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,r){switch(n=+n,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,r,n,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,n,this._y0,n,r);break}}this._x0=n,this._y0=r}}class oM{constructor(n){this._context=n}lineStart(){this._point=0}lineEnd(){}point(n,r){if(n=+n,r=+r,this._point===0)this._point=1;else{const s=nm(this._x0,this._y0),a=nm(this._x0,this._y0=(this._y0+r)/2),c=nm(n,this._y0),d=nm(n,r);this._context.moveTo(...s),this._context.bezierCurveTo(...a,...c,...d)}this._x0=n,this._y0=r}}function ew(t){return new QE(t,!0)}function tw(t){return new QE(t,!1)}function lM(t){return new oM(t)}function aM(t){return t.source}function uM(t){return t.target}function K5(t){let n=aM,r=uM,s=i9,a=s9,c=null,d=null,m=Sm($);function $(){let v;const _=nM.call(arguments),T=n.apply(this,_),S=r.apply(this,_);if(c==null&&(d=t(v=m())),d.lineStart(),_[0]=T,d.point(+s.apply(this,_),+a.apply(this,_)),_[0]=S,d.point(+s.apply(this,_),+a.apply(this,_)),d.lineEnd(),v)return d=null,v+""||null}return $.source=function(v){return arguments.length?(n=v,$):n},$.target=function(v){return arguments.length?(r=v,$):r},$.x=function(v){return arguments.length?(s=typeof v=="function"?v:Hr(+v),$):s},$.y=function(v){return arguments.length?(a=typeof v=="function"?v:Hr(+v),$):a},$.context=function(v){return arguments.length?(v==null?c=d=null:d=t(c=v),$):c},$}function cM(){return K5(ew)}function hM(){return K5(tw)}function dM(){const t=K5(lM);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const fM=js(3),nw={draw(t,n){const r=js(n+t2(n/28,.75))*.59436,s=r/2,a=s*fM;t.moveTo(0,r),t.lineTo(0,-r),t.moveTo(-a,-s),t.lineTo(a,s),t.moveTo(-a,s),t.lineTo(a,-s)}},J5={draw(t,n){const r=js(n/K1);t.moveTo(r,0),t.arc(0,0,r,0,X1)}},rw={draw(t,n){const r=js(n/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},iw=js(1/3),pM=iw*2,sw={draw(t,n){const r=js(n/pM),s=r*iw;t.moveTo(0,-r),t.lineTo(s,0),t.lineTo(0,r),t.lineTo(-s,0),t.closePath()}},ow={draw(t,n){const r=js(n)*.62625;t.moveTo(0,-r),t.lineTo(r,0),t.lineTo(0,r),t.lineTo(-r,0),t.closePath()}},lw={draw(t,n){const r=js(n-t2(n/7,2))*.87559;t.moveTo(-r,0),t.lineTo(r,0),t.moveTo(0,r),t.lineTo(0,-r)}},aw={draw(t,n){const r=js(n),s=-r/2;t.rect(s,s,r,r)}},uw={draw(t,n){const r=js(n)*.4431;t.moveTo(r,r),t.lineTo(r,-r),t.lineTo(-r,-r),t.lineTo(-r,r),t.closePath()}},mM=.8908130915292852,cw=Ca(K1/10)/Ca(7*K1/10),gM=Ca(X1/10)*cw,$M=-Th(X1/10)*cw,hw={draw(t,n){const r=js(n*mM),s=gM*r,a=$M*r;t.moveTo(0,-r),t.lineTo(s,a);for(let c=1;c<5;++c){const d=X1*c/5,m=Th(d),$=Ca(d);t.lineTo($*r,-m*r),t.lineTo(m*s-$*a,$*s+m*a)}t.closePath()}},C7=js(3),dw={draw(t,n){const r=-js(n/(C7*3));t.moveTo(0,r*2),t.lineTo(-C7*r,-r),t.lineTo(C7*r,-r),t.closePath()}},vM=js(3),fw={draw(t,n){const r=js(n)*.6824,s=r/2,a=r*vM/2;t.moveTo(0,-r),t.lineTo(a,s),t.lineTo(-a,s),t.closePath()}},U0=-.5,z0=js(3)/2,mg=1/js(12),bM=(mg/2+1)*3,pw={draw(t,n){const r=js(n/bM),s=r/2,a=r*mg,c=s,d=r*mg+r,m=-c,$=d;t.moveTo(s,a),t.lineTo(c,d),t.lineTo(m,$),t.lineTo(U0*s-z0*a,z0*s+U0*a),t.lineTo(U0*c-z0*d,z0*c+U0*d),t.lineTo(U0*m-z0*$,z0*m+U0*$),t.lineTo(U0*s+z0*a,U0*a-z0*s),t.lineTo(U0*c+z0*d,U0*d-z0*c),t.lineTo(U0*m+z0*$,U0*$-z0*m),t.closePath()}},gg={draw(t,n){const r=js(n-t2(n/6,1.7))*.6189;t.moveTo(-r,-r),t.lineTo(r,r),t.moveTo(-r,r),t.lineTo(r,-r)}},zb=[J5,rw,sw,aw,hw,dw,pw],yM=[J5,lw,gg,fw,nw,uw,ow];function _M(t,n){let r=null,s=Sm(a);t=typeof t=="function"?t:Hr(t||J5),n=typeof n=="function"?n:Hr(n===void 0?64:+n);function a(){let c;if(r||(r=c=s()),t.apply(this,arguments).draw(r,+n.apply(this,arguments)),c)return r=null,c+""||null}return a.type=function(c){return arguments.length?(t=typeof c=="function"?c:Hr(c),a):t},a.size=function(c){return arguments.length?(n=typeof c=="function"?c:Hr(+c),a):n},a.context=function(c){return arguments.length?(r=c??null,a):r},a}function J1(){}function g5(t,n,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+r)/6)}function Z5(t){this._context=t}Z5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:g5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:g5(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function TM(t){return new Z5(t)}function mw(t){this._context=t}mw.prototype={areaStart:J1,areaEnd:J1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:g5(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function EM(t){return new mw(t)}function gw(t){this._context=t}gw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:g5(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function wM(t){return new gw(t)}function $w(t,n){this._basis=new Z5(t),this._beta=n}$w.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,r=t.length-1;if(r>0)for(var s=t[0],a=n[0],c=t[r]-s,d=n[r]-a,m=-1,$;++m<=r;)$=m/r,this._basis.point(this._beta*t[m]+(1-this._beta)*(s+$*c),this._beta*n[m]+(1-this._beta)*(a+$*d));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const xM=(function t(n){function r(s){return n===1?new Z5(s):new $w(s,n)}return r.beta=function(s){return t(+s)},r})(.85);function $5(t,n,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function a9(t,n){this._context=t,this._k=(1-n)/6}a9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:$5(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:$5(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const SM=(function t(n){function r(s){return new a9(s,n)}return r.tension=function(s){return t(+s)},r})(0);function u9(t,n){this._context=t,this._k=(1-n)/6}u9.prototype={areaStart:J1,areaEnd:J1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:$5(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const kM=(function t(n){function r(s){return new u9(s,n)}return r.tension=function(s){return t(+s)},r})(0);function c9(t,n){this._context=t,this._k=(1-n)/6}c9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:$5(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const CM=(function t(n){function r(s){return new c9(s,n)}return r.tension=function(s){return t(+s)},r})(0);function h9(t,n,r){var s=t._x1,a=t._y1,c=t._x2,d=t._y2;if(t._l01_a>zl){var m=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,$=3*t._l01_a*(t._l01_a+t._l12_a);s=(s*m-t._x0*t._l12_2a+t._x2*t._l01_2a)/$,a=(a*m-t._y0*t._l12_2a+t._y2*t._l01_2a)/$}if(t._l23_a>zl){var v=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,_=3*t._l23_a*(t._l23_a+t._l12_a);c=(c*v+t._x1*t._l23_2a-n*t._l12_2a)/_,d=(d*v+t._y1*t._l23_2a-r*t._l12_2a)/_}t._context.bezierCurveTo(s,a,c,d,t._x2,t._y2)}function vw(t,n){this._context=t,this._alpha=n}vw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var r=this._x2-t,s=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:h9(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const AM=(function t(n){function r(s){return n?new vw(s,n):new a9(s,0)}return r.alpha=function(s){return t(+s)},r})(.5);function bw(t,n){this._context=t,this._alpha=n}bw.prototype={areaStart:J1,areaEnd:J1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var r=this._x2-t,s=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:h9(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const IM=(function t(n){function r(s){return n?new bw(s,n):new u9(s,0)}return r.alpha=function(s){return t(+s)},r})(.5);function yw(t,n){this._context=t,this._alpha=n}yw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var r=this._x2-t,s=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+s*s,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:h9(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const MM=(function t(n){function r(s){return n?new yw(s,n):new c9(s,0)}return r.alpha=function(s){return t(+s)},r})(.5);function _w(t){this._context=t}_w.prototype={areaStart:J1,areaEnd:J1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function NM(t){return new _w(t)}function Hb(t){return t<0?-1:1}function Vb(t,n,r){var s=t._x1-t._x0,a=n-t._x1,c=(t._y1-t._y0)/(s||a<0&&-0),d=(r-t._y1)/(a||s<0&&-0),m=(c*a+d*s)/(s+a);return(Hb(c)+Hb(d))*Math.min(Math.abs(c),Math.abs(d),.5*Math.abs(m))||0}function Gb(t,n){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-n)/2:n}function A7(t,n,r){var s=t._x0,a=t._y0,c=t._x1,d=t._y1,m=(c-s)/3;t._context.bezierCurveTo(s+m,a+m*n,c-m,d-m*r,c,d)}function v5(t){this._context=t}v5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:A7(this,this._t0,Gb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var r=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,A7(this,Gb(this,r=Vb(this,t,n)),r);break;default:A7(this,this._t0,r=Vb(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=r}}};function Tw(t){this._context=new Ew(t)}(Tw.prototype=Object.create(v5.prototype)).point=function(t,n){v5.prototype.point.call(this,n,t)};function Ew(t){this._context=t}Ew.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,r,s,a,c){this._context.bezierCurveTo(n,t,s,r,c,a)}};function OM(t){return new v5(t)}function RM(t){return new Tw(t)}function ww(t){this._context=t}ww.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),r===2)this._context.lineTo(t[1],n[1]);else for(var s=qb(t),a=qb(n),c=0,d=1;d<r;++c,++d)this._context.bezierCurveTo(s[0][c],a[0][c],s[1][c],a[1][c],t[d],n[d]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function qb(t){var n,r=t.length-1,s,a=new Array(r),c=new Array(r),d=new Array(r);for(a[0]=0,c[0]=2,d[0]=t[0]+2*t[1],n=1;n<r-1;++n)a[n]=1,c[n]=4,d[n]=4*t[n]+2*t[n+1];for(a[r-1]=2,c[r-1]=7,d[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)s=a[n]/c[n-1],c[n]-=s,d[n]-=s*d[n-1];for(a[r-1]=d[r-1]/c[r-1],n=r-2;n>=0;--n)a[n]=(d[n]-a[n+1])/c[n];for(c[r-1]=(t[r]+a[r-1])/2,n=0;n<r-1;++n)c[n]=2*t[n+1]-a[n+1];return[a,c]}function LM(t){return new ww(t)}function Q5(t,n){this._context=t,this._t=n}Q5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,n)}break}}this._x=t,this._y=n}};function DM(t){return new Q5(t,.5)}function BM(t){return new Q5(t,0)}function PM(t){return new Q5(t,1)}function o2(t,n){if((d=t.length)>1)for(var r=1,s,a,c=t[n[0]],d,m=c.length;r<d;++r)for(a=c,c=t[n[r]],s=0;s<m;++s)c[s][1]+=c[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function l2(t){for(var n=t.length,r=new Array(n);--n>=0;)r[n]=n;return r}function FM(t,n){return t[n]}function UM(t){const n=[];return n.key=t,n}function zM(){var t=Hr([]),n=l2,r=o2,s=FM;function a(c){var d=Array.from(t.apply(this,arguments),UM),m,$=d.length,v=-1,_;for(const T of c)for(m=0,++v;m<$;++m)(d[m][v]=[0,+s(T,d[m].key,v,c)]).data=T;for(m=0,_=X5(n(d));m<$;++m)d[_[m]].index=m;return r(d,_),d}return a.keys=function(c){return arguments.length?(t=typeof c=="function"?c:Hr(Array.from(c)),a):t},a.value=function(c){return arguments.length?(s=typeof c=="function"?c:Hr(+c),a):s},a.order=function(c){return arguments.length?(n=c==null?l2:typeof c=="function"?c:Hr(Array.from(c)),a):n},a.offset=function(c){return arguments.length?(r=c??o2,a):r},a}function HM(t,n){if((s=t.length)>0){for(var r,s,a=0,c=t[0].length,d;a<c;++a){for(d=r=0;r<s;++r)d+=t[r][a][1]||0;if(d)for(r=0;r<s;++r)t[r][a][1]/=d}o2(t,n)}}function VM(t,n){if(($=t.length)>0)for(var r,s=0,a,c,d,m,$,v=t[n[0]].length;s<v;++s)for(d=m=0,r=0;r<$;++r)(c=(a=t[n[r]][s])[1]-a[0])>0?(a[0]=d,a[1]=d+=c):c<0?(a[1]=m,a[0]=m+=c):(a[0]=0,a[1]=c)}function GM(t,n){if((a=t.length)>0){for(var r=0,s=t[n[0]],a,c=s.length;r<c;++r){for(var d=0,m=0;d<a;++d)m+=t[d][r][1]||0;s[r][1]+=s[r][0]=-m/2}o2(t,n)}}function qM(t,n){if(!(!((d=t.length)>0)||!((c=(a=t[n[0]]).length)>0))){for(var r=0,s=1,a,c,d;s<c;++s){for(var m=0,$=0,v=0;m<d;++m){for(var _=t[n[m]],T=_[s][1]||0,S=_[s-1][1]||0,k=(T-S)/2,P=0;P<m;++P){var G=t[n[P]],X=G[s][1]||0,R=G[s-1][1]||0;k+=X-R}$+=T,v+=k*T}a[s-1][1]+=a[s-1][0]=r,$&&(r-=v/$)}a[s-1][1]+=a[s-1][0]=r,o2(t,n)}}function xw(t){var n=t.map(WM);return l2(t).sort(function(r,s){return n[r]-n[s]})}function WM(t){for(var n=-1,r=0,s=t.length,a,c=-1/0;++n<s;)(a=+t[n][1])>c&&(c=a,r=n);return r}function Sw(t){var n=t.map(kw);return l2(t).sort(function(r,s){return n[r]-n[s]})}function kw(t){for(var n=0,r=-1,s=t.length,a;++r<s;)(a=+t[r][1])&&(n+=a);return n}function jM(t){return Sw(t).reverse()}function XM(t){var n=t.length,r,s,a=t.map(kw),c=xw(t),d=0,m=0,$=[],v=[];for(r=0;r<n;++r)s=c[r],d<m?(d+=a[s],$.push(s)):(m+=a[s],v.push(s));return v.reverse().concat($)}function YM(t){return l2(t).reverse()}const KM=Object.freeze(Object.defineProperty({__proto__:null,arc:tM,area:KE,areaRadial:Ub,curveBasis:TM,curveBasisClosed:EM,curveBasisOpen:wM,curveBumpX:ew,curveBumpY:tw,curveBundle:xM,curveCardinal:SM,curveCardinalClosed:kM,curveCardinalOpen:CM,curveCatmullRom:AM,curveCatmullRomClosed:IM,curveCatmullRomOpen:MM,curveLinear:Y5,curveLinearClosed:NM,curveMonotoneX:OM,curveMonotoneY:RM,curveNatural:LM,curveStep:DM,curveStepAfter:PM,curveStepBefore:BM,line:o9,lineRadial:Fb,link:K5,linkHorizontal:cM,linkRadial:dM,linkVertical:hM,pie:sM,pointRadial:nm,radialArea:Ub,radialLine:Fb,stack:zM,stackOffsetDiverging:VM,stackOffsetExpand:HM,stackOffsetNone:o2,stackOffsetSilhouette:GM,stackOffsetWiggle:qM,stackOrderAppearance:xw,stackOrderAscending:Sw,stackOrderDescending:jM,stackOrderInsideOut:XM,stackOrderNone:l2,stackOrderReverse:YM,symbol:_M,symbolAsterisk:nw,symbolCircle:J5,symbolCross:rw,symbolDiamond:sw,symbolDiamond2:ow,symbolPlus:lw,symbolSquare:aw,symbolSquare2:uw,symbolStar:hw,symbolTimes:gg,symbolTriangle:dw,symbolTriangle2:fw,symbolWye:pw,symbolX:gg,symbols:zb,symbolsFill:zb,symbolsStroke:yM},Symbol.toStringTag,{value:"Module"})),e6=Ph(KM);function JM(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function b5(t,n){if((r=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var r,s=t.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+t.slice(r+1)]}function a2(t){return t=b5(Math.abs(t)),t?t[1]:NaN}function ZM(t,n){return function(r,s){for(var a=r.length,c=[],d=0,m=t[0],$=0;a>0&&m>0&&($+m+1>s&&(m=Math.max(1,s-$)),c.push(r.substring(a-=m,a+m)),!(($+=m+1)>s));)m=t[d=(d+1)%t.length];return c.reverse().join(n)}}function QM(t){return function(n){return n.replace(/[0-9]/g,function(r){return t[+r]})}}var eN=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function u2(t){if(!(n=eN.exec(t)))throw new Error("invalid format: "+t);var n;return new t6({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}u2.prototype=t6.prototype;function t6(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}t6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tN(t){e:for(var n=t.length,r=1,s=-1,a;r<n;++r)switch(t[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+t[r])break e;s>0&&(s=0);break}return s>0?t.slice(0,s)+t.slice(a+1):t}var Cw;function nN(t,n){var r=b5(t,n);if(!r)return t+"";var s=r[0],a=r[1],c=a-(Cw=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,d=s.length;return c===d?s:c>d?s+new Array(c-d+1).join("0"):c>0?s.slice(0,c)+"."+s.slice(c):"0."+new Array(1-c).join("0")+b5(t,Math.max(0,n+c-1))[0]}function Wb(t,n){var r=b5(t,n);if(!r)return t+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const jb={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:JM,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Wb(t*100,n),r:Wb,s:nN,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Xb(t){return t}var Yb=Array.prototype.map,Kb=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Aw(t){var n=t.grouping===void 0||t.thousands===void 0?Xb:ZM(Yb.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",s=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",c=t.numerals===void 0?Xb:QM(Yb.call(t.numerals,String)),d=t.percent===void 0?"%":t.percent+"",m=t.minus===void 0?"":t.minus+"",$=t.nan===void 0?"NaN":t.nan+"";function v(T){T=u2(T);var S=T.fill,k=T.align,P=T.sign,G=T.symbol,X=T.zero,R=T.width,W=T.comma,te=T.precision,ie=T.trim,se=T.type;se==="n"?(W=!0,se="g"):jb[se]||(te===void 0&&(te=12),ie=!0,se="g"),(X||S==="0"&&k==="=")&&(X=!0,S="0",k="=");var Y=G==="$"?r:G==="#"&&/[boxX]/.test(se)?"0"+se.toLowerCase():"",fe=G==="$"?s:/[%p]/.test(se)?d:"",Ie=jb[se],De=/[defgprs%]/.test(se);te=te===void 0?6:/[gprs]/.test(se)?Math.max(1,Math.min(21,te)):Math.max(0,Math.min(20,te));function Ue(it){var ze=Y,dt=fe,Oe,rt,Pe;if(se==="c")dt=Ie(it)+dt,it="";else{it=+it;var nt=it<0||1/it<0;if(it=isNaN(it)?$:Ie(Math.abs(it),te),ie&&(it=tN(it)),nt&&+it==0&&P!=="+"&&(nt=!1),ze=(nt?P==="("?P:m:P==="-"||P==="("?"":P)+ze,dt=(se==="s"?Kb[8+Cw/3]:"")+dt+(nt&&P==="("?")":""),De){for(Oe=-1,rt=it.length;++Oe<rt;)if(Pe=it.charCodeAt(Oe),48>Pe||Pe>57){dt=(Pe===46?a+it.slice(Oe+1):it.slice(Oe))+dt,it=it.slice(0,Oe);break}}}W&&!X&&(it=n(it,1/0));var ot=ze.length+it.length+dt.length,Lt=ot<R?new Array(R-ot+1).join(S):"";switch(W&&X&&(it=n(Lt+it,Lt.length?R-dt.length:1/0),Lt=""),k){case"<":it=ze+it+dt+Lt;break;case"=":it=ze+Lt+it+dt;break;case"^":it=Lt.slice(0,ot=Lt.length>>1)+ze+it+dt+Lt.slice(ot);break;default:it=Lt+ze+it+dt;break}return c(it)}return Ue.toString=function(){return T+""},Ue}function _(T,S){var k=v((T=u2(T),T.type="f",T)),P=Math.max(-8,Math.min(8,Math.floor(a2(S)/3)))*3,G=Math.pow(10,-P),X=Kb[8+P/3];return function(R){return k(G*R)+X}}return{format:v,formatPrefix:_}}var w3,n6,d9;Iw({thousands:",",grouping:[3],currency:["$",""]});function Iw(t){return w3=Aw(t),n6=w3.format,d9=w3.formatPrefix,w3}function Mw(t){return Math.max(0,-a2(Math.abs(t)))}function Nw(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(a2(n)/3)))*3-a2(Math.abs(t)))}function Ow(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,a2(n)-a2(t))+1}const rN=Object.freeze(Object.defineProperty({__proto__:null,FormatSpecifier:t6,get format(){return n6},formatDefaultLocale:Iw,formatLocale:Aw,get formatPrefix(){return d9},formatSpecifier:u2,precisionFixed:Mw,precisionPrefix:Nw,precisionRound:Ow},Symbol.toStringTag,{value:"Module"})),iN=Ph(rN);function Y1(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function sN(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function f9(t){let n,r,s;t.length!==2?(n=Y1,r=(m,$)=>Y1(t(m),$),s=(m,$)=>t(m)-$):(n=t===Y1||t===sN?t:oN,r=t,s=t);function a(m,$,v=0,_=m.length){if(v<_){if(n($,$)!==0)return _;do{const T=v+_>>>1;r(m[T],$)<0?v=T+1:_=T}while(v<_)}return v}function c(m,$,v=0,_=m.length){if(v<_){if(n($,$)!==0)return _;do{const T=v+_>>>1;r(m[T],$)<=0?v=T+1:_=T}while(v<_)}return v}function d(m,$,v=0,_=m.length){const T=a(m,$,v,_-1);return T>v&&s(m[T-1],$)>-s(m[T],$)?T-1:T}return{left:a,center:d,right:c}}function oN(){return 0}function Rw(t){return t===null?NaN:+t}function*lN(t,n){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const aN=f9(Y1),km=aN.right;f9(Rw).center;class Jb extends Map{constructor(n,r=hN){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),n!=null)for(const[s,a]of n)this.set(s,a)}get(n){return super.get(Zb(this,n))}has(n){return super.has(Zb(this,n))}set(n,r){return super.set(uN(this,n),r)}delete(n){return super.delete(cN(this,n))}}function Zb({_intern:t,_key:n},r){const s=n(r);return t.has(s)?t.get(s):r}function uN({_intern:t,_key:n},r){const s=n(r);return t.has(s)?t.get(s):(t.set(s,r),r)}function cN({_intern:t,_key:n},r){const s=n(r);return t.has(s)&&(r=t.get(s),t.delete(s)),r}function hN(t){return t!==null&&typeof t=="object"?t.valueOf():t}function dN(t=Y1){if(t===Y1)return Lw;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,r)=>{const s=t(n,r);return s||s===0?s:(t(r,r)===0)-(t(n,n)===0)}}function Lw(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}const fN=Math.sqrt(50),pN=Math.sqrt(10),mN=Math.sqrt(2);function y5(t,n,r){const s=(n-t)/Math.max(0,r),a=Math.floor(Math.log10(s)),c=s/Math.pow(10,a),d=c>=fN?10:c>=pN?5:c>=mN?2:1;let m,$,v;return a<0?(v=Math.pow(10,-a)/d,m=Math.round(t*v),$=Math.round(n*v),m/v<t&&++m,$/v>n&&--$,v=-v):(v=Math.pow(10,a)*d,m=Math.round(t/v),$=Math.round(n/v),m*v<t&&++m,$*v>n&&--$),$<m&&.5<=r&&r<2?y5(t,n,r*2):[m,$,v]}function $g(t,n,r){if(n=+n,t=+t,r=+r,!(r>0))return[];if(t===n)return[t];const s=n<t,[a,c,d]=s?y5(n,t,r):y5(t,n,r);if(!(c>=a))return[];const m=c-a+1,$=new Array(m);if(s)if(d<0)for(let v=0;v<m;++v)$[v]=(c-v)/-d;else for(let v=0;v<m;++v)$[v]=(c-v)*d;else if(d<0)for(let v=0;v<m;++v)$[v]=(a+v)/-d;else for(let v=0;v<m;++v)$[v]=(a+v)*d;return $}function vg(t,n,r){return n=+n,t=+t,r=+r,y5(t,n,r)[2]}function bg(t,n,r){n=+n,t=+t,r=+r;const s=n<t,a=s?vg(n,t,r):vg(t,n,r);return(s?-1:1)*(a<0?1/-a:a)}function Qb(t,n){let r;for(const s of t)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function ey(t,n){let r;for(const s of t)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function Dw(t,n,r=0,s=1/0,a){if(n=Math.floor(n),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(t.length-1,s)),!(r<=n&&n<=s))return t;for(a=a===void 0?Lw:dN(a);s>r;){if(s-r>600){const $=s-r+1,v=n-r+1,_=Math.log($),T=.5*Math.exp(2*_/3),S=.5*Math.sqrt(_*T*($-T)/$)*(v-$/2<0?-1:1),k=Math.max(r,Math.floor(n-v*T/$+S)),P=Math.min(s,Math.floor(n+($-v)*T/$+S));Dw(t,n,k,P,a)}const c=t[n];let d=r,m=s;for(zp(t,r,n),a(t[s],c)>0&&zp(t,r,s);d<m;){for(zp(t,d,m),++d,--m;a(t[d],c)<0;)++d;for(;a(t[m],c)>0;)--m}a(t[r],c)===0?zp(t,r,m):(++m,zp(t,m,s)),m<=n&&(r=m+1),n<=m&&(s=m-1)}return t}function zp(t,n,r){const s=t[n];t[n]=t[r],t[r]=s}function gN(t,n,r){if(t=Float64Array.from(lN(t)),!(!(s=t.length)||isNaN(n=+n))){if(n<=0||s<2)return ey(t);if(n>=1)return Qb(t);var s,a=(s-1)*n,c=Math.floor(a),d=Qb(Dw(t,c).subarray(0,c+1)),m=ey(t.subarray(c+1));return d+(m-d)*(a-c)}}function $N(t,n,r=Rw){if(!(!(s=t.length)||isNaN(n=+n))){if(n<=0||s<2)return+r(t[0],0,t);if(n>=1)return+r(t[s-1],s-1,t);var s,a=(s-1)*n,c=Math.floor(a),d=+r(t[c],c,t),m=+r(t[c+1],c+1,t);return d+(m-d)*(a-c)}}function vN(t,n,r){t=+t,n=+n,r=(a=arguments.length)<2?(n=t,t=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((n-t)/r))|0,c=new Array(a);++s<a;)c[s]=t+s*r;return c}function Y0(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function Fh(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const yg=Symbol("implicit");function p9(){var t=new Jb,n=[],r=[],s=yg;function a(c){let d=t.get(c);if(d===void 0){if(s!==yg)return s;t.set(c,d=n.push(c)-1)}return r[d%r.length]}return a.domain=function(c){if(!arguments.length)return n.slice();n=[],t=new Jb;for(const d of c)t.has(d)||t.set(d,n.push(d)-1);return a},a.range=function(c){return arguments.length?(r=Array.from(c),a):r.slice()},a.unknown=function(c){return arguments.length?(s=c,a):s},a.copy=function(){return p9(n,r).unknown(s)},Y0.apply(a,arguments),a}function m9(){var t=p9().unknown(void 0),n=t.domain,r=t.range,s=0,a=1,c,d,m=!1,$=0,v=0,_=.5;delete t.unknown;function T(){var S=n().length,k=a<s,P=k?a:s,G=k?s:a;c=(G-P)/Math.max(1,S-$+v*2),m&&(c=Math.floor(c)),P+=(G-P-c*(S-$))*_,d=c*(1-$),m&&(P=Math.round(P),d=Math.round(d));var X=vN(S).map(function(R){return P+c*R});return r(k?X.reverse():X)}return t.domain=function(S){return arguments.length?(n(S),T()):n()},t.range=function(S){return arguments.length?([s,a]=S,s=+s,a=+a,T()):[s,a]},t.rangeRound=function(S){return[s,a]=S,s=+s,a=+a,m=!0,T()},t.bandwidth=function(){return d},t.step=function(){return c},t.round=function(S){return arguments.length?(m=!!S,T()):m},t.padding=function(S){return arguments.length?($=Math.min(1,v=+S),T()):$},t.paddingInner=function(S){return arguments.length?($=Math.min(1,S),T()):$},t.paddingOuter=function(S){return arguments.length?(v=+S,T()):v},t.align=function(S){return arguments.length?(_=Math.max(0,Math.min(1,S)),T()):_},t.copy=function(){return m9(n(),[s,a]).round(m).paddingInner($).paddingOuter(v).align(_)},Y0.apply(T(),arguments)}function Bw(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Bw(n())},t}function bN(){return Bw(m9.apply(null,arguments).paddingInner(1))}function $2(t,n,r){t.prototype=n.prototype=r,r.constructor=t}function Cm(t,n){var r=Object.create(t.prototype);for(var s in n)r[s]=n[s];return r}function nd(){}var lf=.7,c2=1/lf,n2="\\s*([+-]?\\d+)\\s*",fm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ec="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yN=/^#([0-9a-f]{3,8})$/,_N=new RegExp(`^rgb\\(${n2},${n2},${n2}\\)$`),TN=new RegExp(`^rgb\\(${Ec},${Ec},${Ec}\\)$`),EN=new RegExp(`^rgba\\(${n2},${n2},${n2},${fm}\\)$`),wN=new RegExp(`^rgba\\(${Ec},${Ec},${Ec},${fm}\\)$`),xN=new RegExp(`^hsl\\(${fm},${Ec},${Ec}\\)$`),SN=new RegExp(`^hsla\\(${fm},${Ec},${Ec},${fm}\\)$`),ty={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$2(nd,Z1,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ny,formatHex:ny,formatHex8:kN,formatHsl:CN,formatRgb:ry,toString:ry});function ny(){return this.rgb().formatHex()}function kN(){return this.rgb().formatHex8()}function CN(){return Pw(this).formatHsl()}function ry(){return this.rgb().formatRgb()}function Z1(t){var n,r;return t=(t+"").trim().toLowerCase(),(n=yN.exec(t))?(r=n[1].length,n=parseInt(n[1],16),r===6?iy(n):r===3?new ol(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?x3(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?x3(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=_N.exec(t))?new ol(n[1],n[2],n[3],1):(n=TN.exec(t))?new ol(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=EN.exec(t))?x3(n[1],n[2],n[3],n[4]):(n=wN.exec(t))?x3(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=xN.exec(t))?ly(n[1],n[2]/100,n[3]/100,1):(n=SN.exec(t))?ly(n[1],n[2]/100,n[3]/100,n[4]):ty.hasOwnProperty(t)?iy(ty[t]):t==="transparent"?new ol(NaN,NaN,NaN,0):null}function iy(t){return new ol(t>>16&255,t>>8&255,t&255,1)}function x3(t,n,r,s){return s<=0&&(t=n=r=NaN),new ol(t,n,r,s)}function g9(t){return t instanceof nd||(t=Z1(t)),t?(t=t.rgb(),new ol(t.r,t.g,t.b,t.opacity)):new ol}function pm(t,n,r,s){return arguments.length===1?g9(t):new ol(t,n,r,s??1)}function ol(t,n,r,s){this.r=+t,this.g=+n,this.b=+r,this.opacity=+s}$2(ol,pm,Cm(nd,{brighter(t){return t=t==null?c2:Math.pow(c2,t),new ol(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?lf:Math.pow(lf,t),new ol(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ol(sf(this.r),sf(this.g),sf(this.b),_5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sy,formatHex:sy,formatHex8:AN,formatRgb:oy,toString:oy}));function sy(){return`#${nf(this.r)}${nf(this.g)}${nf(this.b)}`}function AN(){return`#${nf(this.r)}${nf(this.g)}${nf(this.b)}${nf((isNaN(this.opacity)?1:this.opacity)*255)}`}function oy(){const t=_5(this.opacity);return`${t===1?"rgb(":"rgba("}${sf(this.r)}, ${sf(this.g)}, ${sf(this.b)}${t===1?")":`, ${t})`}`}function _5(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function sf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function nf(t){return t=sf(t),(t<16?"0":"")+t.toString(16)}function ly(t,n,r,s){return s<=0?t=n=r=NaN:r<=0||r>=1?t=n=NaN:n<=0&&(t=NaN),new Au(t,n,r,s)}function Pw(t){if(t instanceof Au)return new Au(t.h,t.s,t.l,t.opacity);if(t instanceof nd||(t=Z1(t)),!t)return new Au;if(t instanceof Au)return t;t=t.rgb();var n=t.r/255,r=t.g/255,s=t.b/255,a=Math.min(n,r,s),c=Math.max(n,r,s),d=NaN,m=c-a,$=(c+a)/2;return m?(n===c?d=(r-s)/m+(r<s)*6:r===c?d=(s-n)/m+2:d=(n-r)/m+4,m/=$<.5?c+a:2-c-a,d*=60):m=$>0&&$<1?0:d,new Au(d,m,$,t.opacity)}function T5(t,n,r,s){return arguments.length===1?Pw(t):new Au(t,n,r,s??1)}function Au(t,n,r,s){this.h=+t,this.s=+n,this.l=+r,this.opacity=+s}$2(Au,T5,Cm(nd,{brighter(t){return t=t==null?c2:Math.pow(c2,t),new Au(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?lf:Math.pow(lf,t),new Au(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*n,a=2*r-s;return new ol(I7(t>=240?t-240:t+120,a,s),I7(t,a,s),I7(t<120?t+240:t-120,a,s),this.opacity)},clamp(){return new Au(ay(this.h),S3(this.s),S3(this.l),_5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_5(this.opacity);return`${t===1?"hsl(":"hsla("}${ay(this.h)}, ${S3(this.s)*100}%, ${S3(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ay(t){return t=(t||0)%360,t<0?t+360:t}function S3(t){return Math.max(0,Math.min(1,t||0))}function I7(t,n,r){return(t<60?n+(r-n)*t/60:t<180?r:t<240?n+(r-n)*(240-t)/60:n)*255}const Fw=Math.PI/180,Uw=180/Math.PI,E5=18,zw=.96422,Hw=1,Vw=.82521,Gw=4/29,r2=6/29,qw=3*r2*r2,IN=r2*r2*r2;function Ww(t){if(t instanceof Iu)return new Iu(t.l,t.a,t.b,t.opacity);if(t instanceof bc)return Xw(t);t instanceof ol||(t=g9(t));var n=R7(t.r),r=R7(t.g),s=R7(t.b),a=M7((.2225045*n+.7168786*r+.0606169*s)/Hw),c,d;return n===r&&r===s?c=d=a:(c=M7((.4360747*n+.3850649*r+.1430804*s)/zw),d=M7((.0139322*n+.0971045*r+.7141733*s)/Vw)),new Iu(116*a-16,500*(c-a),200*(a-d),t.opacity)}function MN(t,n){return new Iu(t,0,0,n??1)}function w5(t,n,r,s){return arguments.length===1?Ww(t):new Iu(t,n,r,s??1)}function Iu(t,n,r,s){this.l=+t,this.a=+n,this.b=+r,this.opacity=+s}$2(Iu,w5,Cm(nd,{brighter(t){return new Iu(this.l+E5*(t??1),this.a,this.b,this.opacity)},darker(t){return new Iu(this.l-E5*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return n=zw*N7(n),t=Hw*N7(t),r=Vw*N7(r),new ol(O7(3.1338561*n-1.6168667*t-.4906146*r),O7(-.9787684*n+1.9161415*t+.033454*r),O7(.0719453*n-.2289914*t+1.4052427*r),this.opacity)}}));function M7(t){return t>IN?Math.pow(t,1/3):t/qw+Gw}function N7(t){return t>r2?t*t*t:qw*(t-Gw)}function O7(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function R7(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function jw(t){if(t instanceof bc)return new bc(t.h,t.c,t.l,t.opacity);if(t instanceof Iu||(t=Ww(t)),t.a===0&&t.b===0)return new bc(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Uw;return new bc(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function NN(t,n,r,s){return arguments.length===1?jw(t):new bc(r,n,t,s??1)}function x5(t,n,r,s){return arguments.length===1?jw(t):new bc(t,n,r,s??1)}function bc(t,n,r,s){this.h=+t,this.c=+n,this.l=+r,this.opacity=+s}function Xw(t){if(isNaN(t.h))return new Iu(t.l,0,0,t.opacity);var n=t.h*Fw;return new Iu(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}$2(bc,x5,Cm(nd,{brighter(t){return new bc(this.h,this.c,this.l+E5*(t??1),this.opacity)},darker(t){return new bc(this.h,this.c,this.l-E5*(t??1),this.opacity)},rgb(){return Xw(this).rgb()}}));var Yw=-.14861,$9=1.78277,v9=-.29227,r6=-.90649,mm=1.97294,uy=mm*r6,cy=mm*$9,hy=$9*v9-r6*Yw;function ON(t){if(t instanceof of)return new of(t.h,t.s,t.l,t.opacity);t instanceof ol||(t=g9(t));var n=t.r/255,r=t.g/255,s=t.b/255,a=(hy*s+uy*n-cy*r)/(hy+uy-cy),c=s-a,d=(mm*(r-a)-v9*c)/r6,m=Math.sqrt(d*d+c*c)/(mm*a*(1-a)),$=m?Math.atan2(d,c)*Uw-120:NaN;return new of($<0?$+360:$,m,a,t.opacity)}function S5(t,n,r,s){return arguments.length===1?ON(t):new of(t,n,r,s??1)}function of(t,n,r,s){this.h=+t,this.s=+n,this.l=+r,this.opacity=+s}$2(of,S5,Cm(nd,{brighter(t){return t=t==null?c2:Math.pow(c2,t),new of(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?lf:Math.pow(lf,t),new of(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Fw,n=+this.l,r=isNaN(this.s)?0:this.s*n*(1-n),s=Math.cos(t),a=Math.sin(t);return new ol(255*(n+r*(Yw*s+$9*a)),255*(n+r*(v9*s+r6*a)),255*(n+r*(mm*s)),this.opacity)}}));const RN=Object.freeze(Object.defineProperty({__proto__:null,color:Z1,cubehelix:S5,gray:MN,hcl:x5,hsl:T5,lab:w5,lch:NN,rgb:pm},Symbol.toStringTag,{value:"Module"}));function Kw(t,n,r,s,a){var c=t*t,d=c*t;return((1-3*t+3*c-d)*n+(4-6*c+3*d)*r+(1+3*t+3*c-3*d)*s+d*a)/6}function Jw(t){var n=t.length-1;return function(r){var s=r<=0?r=0:r>=1?(r=1,n-1):Math.floor(r*n),a=t[s],c=t[s+1],d=s>0?t[s-1]:2*a-c,m=s<n-1?t[s+2]:2*c-a;return Kw((r-s/n)*n,d,a,c,m)}}function Zw(t){var n=t.length;return function(r){var s=Math.floor(((r%=1)<0?++r:r)*n),a=t[(s+n-1)%n],c=t[s%n],d=t[(s+1)%n],m=t[(s+2)%n];return Kw((r-s/n)*n,a,c,d,m)}}const i6=t=>()=>t;function Qw(t,n){return function(r){return t+r*n}}function LN(t,n,r){return t=Math.pow(t,r),n=Math.pow(n,r)-t,r=1/r,function(s){return Math.pow(t+s*n,r)}}function s6(t,n){var r=n-t;return r?Qw(t,r>180||r<-180?r-360*Math.round(r/360):r):i6(isNaN(t)?n:t)}function DN(t){return(t=+t)==1?ll:function(n,r){return r-n?LN(n,r,t):i6(isNaN(n)?r:n)}}function ll(t,n){var r=n-t;return r?Qw(t,r):i6(isNaN(t)?n:t)}const gm=(function t(n){var r=DN(n);function s(a,c){var d=r((a=pm(a)).r,(c=pm(c)).r),m=r(a.g,c.g),$=r(a.b,c.b),v=ll(a.opacity,c.opacity);return function(_){return a.r=d(_),a.g=m(_),a.b=$(_),a.opacity=v(_),a+""}}return s.gamma=t,s})(1);function ex(t){return function(n){var r=n.length,s=new Array(r),a=new Array(r),c=new Array(r),d,m;for(d=0;d<r;++d)m=pm(n[d]),s[d]=m.r||0,a[d]=m.g||0,c[d]=m.b||0;return s=t(s),a=t(a),c=t(c),m.opacity=1,function($){return m.r=s($),m.g=a($),m.b=c($),m+""}}}var BN=ex(Jw),PN=ex(Zw);function b9(t,n){n||(n=[]);var r=t?Math.min(n.length,t.length):0,s=n.slice(),a;return function(c){for(a=0;a<r;++a)s[a]=t[a]*(1-c)+n[a]*c;return s}}function tx(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function FN(t,n){return(tx(n)?b9:nx)(t,n)}function nx(t,n){var r=n?n.length:0,s=t?Math.min(r,t.length):0,a=new Array(s),c=new Array(r),d;for(d=0;d<s;++d)a[d]=df(t[d],n[d]);for(;d<r;++d)c[d]=n[d];return function(m){for(d=0;d<s;++d)c[d]=a[d](m);return c}}function rx(t,n){var r=new Date;return t=+t,n=+n,function(s){return r.setTime(t*(1-s)+n*s),r}}function V0(t,n){return t=+t,n=+n,function(r){return t*(1-r)+n*r}}function ix(t,n){var r={},s={},a;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(a in n)a in t?r[a]=df(t[a],n[a]):s[a]=n[a];return function(c){for(a in r)s[a]=r[a](c);return s}}var _g=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,L7=new RegExp(_g.source,"g");function UN(t){return function(){return t}}function zN(t){return function(n){return t(n)+""}}function y9(t,n){var r=_g.lastIndex=L7.lastIndex=0,s,a,c,d=-1,m=[],$=[];for(t=t+"",n=n+"";(s=_g.exec(t))&&(a=L7.exec(n));)(c=a.index)>r&&(c=n.slice(r,c),m[d]?m[d]+=c:m[++d]=c),(s=s[0])===(a=a[0])?m[d]?m[d]+=a:m[++d]=a:(m[++d]=null,$.push({i:d,x:V0(s,a)})),r=L7.lastIndex;return r<n.length&&(c=n.slice(r),m[d]?m[d]+=c:m[++d]=c),m.length<2?$[0]?zN($[0].x):UN(n):(n=$.length,function(v){for(var _=0,T;_<n;++_)m[(T=$[_]).i]=T.x(v);return m.join("")})}function df(t,n){var r=typeof n,s;return n==null||r==="boolean"?i6(n):(r==="number"?V0:r==="string"?(s=Z1(n))?(n=s,gm):y9:n instanceof Z1?gm:n instanceof Date?rx:tx(n)?b9:Array.isArray(n)?nx:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?ix:V0)(t,n)}function HN(t){var n=t.length;return function(r){return t[Math.max(0,Math.min(n-1,Math.floor(r*n)))]}}function VN(t,n){var r=s6(+t,+n);return function(s){var a=r(s);return a-360*Math.floor(a/360)}}function o6(t,n){return t=+t,n=+n,function(r){return Math.round(t*(1-r)+n*r)}}var dy=180/Math.PI,Tg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function sx(t,n,r,s,a,c){var d,m,$;return(d=Math.sqrt(t*t+n*n))&&(t/=d,n/=d),($=t*r+n*s)&&(r-=t*$,s-=n*$),(m=Math.sqrt(r*r+s*s))&&(r/=m,s/=m,$/=m),t*s<n*r&&(t=-t,n=-n,$=-$,d=-d),{translateX:a,translateY:c,rotate:Math.atan2(n,t)*dy,skewX:Math.atan($)*dy,scaleX:d,scaleY:m}}var k3;function GN(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Tg:sx(n.a,n.b,n.c,n.d,n.e,n.f)}function qN(t){return t==null||(k3||(k3=document.createElementNS("http://www.w3.org/2000/svg","g")),k3.setAttribute("transform",t),!(t=k3.transform.baseVal.consolidate()))?Tg:(t=t.matrix,sx(t.a,t.b,t.c,t.d,t.e,t.f))}function ox(t,n,r,s){function a(v){return v.length?v.pop()+" ":""}function c(v,_,T,S,k,P){if(v!==T||_!==S){var G=k.push("translate(",null,n,null,r);P.push({i:G-4,x:V0(v,T)},{i:G-2,x:V0(_,S)})}else(T||S)&&k.push("translate("+T+n+S+r)}function d(v,_,T,S){v!==_?(v-_>180?_+=360:_-v>180&&(v+=360),S.push({i:T.push(a(T)+"rotate(",null,s)-2,x:V0(v,_)})):_&&T.push(a(T)+"rotate("+_+s)}function m(v,_,T,S){v!==_?S.push({i:T.push(a(T)+"skewX(",null,s)-2,x:V0(v,_)}):_&&T.push(a(T)+"skewX("+_+s)}function $(v,_,T,S,k,P){if(v!==T||_!==S){var G=k.push(a(k)+"scale(",null,",",null,")");P.push({i:G-4,x:V0(v,T)},{i:G-2,x:V0(_,S)})}else(T!==1||S!==1)&&k.push(a(k)+"scale("+T+","+S+")")}return function(v,_){var T=[],S=[];return v=t(v),_=t(_),c(v.translateX,v.translateY,_.translateX,_.translateY,T,S),d(v.rotate,_.rotate,T,S),m(v.skewX,_.skewX,T,S),$(v.scaleX,v.scaleY,_.scaleX,_.scaleY,T,S),v=_=null,function(k){for(var P=-1,G=S.length,X;++P<G;)T[(X=S[P]).i]=X.x(k);return T.join("")}}}var lx=ox(GN,"px, ","px)","deg)"),ax=ox(qN,", ",")",")"),WN=1e-12;function fy(t){return((t=Math.exp(t))+1/t)/2}function jN(t){return((t=Math.exp(t))-1/t)/2}function XN(t){return((t=Math.exp(2*t))-1)/(t+1)}const ux=(function t(n,r,s){function a(c,d){var m=c[0],$=c[1],v=c[2],_=d[0],T=d[1],S=d[2],k=_-m,P=T-$,G=k*k+P*P,X,R;if(G<WN)R=Math.log(S/v)/n,X=function(fe){return[m+fe*k,$+fe*P,v*Math.exp(n*fe*R)]};else{var W=Math.sqrt(G),te=(S*S-v*v+s*G)/(2*v*r*W),ie=(S*S-v*v-s*G)/(2*S*r*W),se=Math.log(Math.sqrt(te*te+1)-te),Y=Math.log(Math.sqrt(ie*ie+1)-ie);R=(Y-se)/n,X=function(fe){var Ie=fe*R,De=fy(se),Ue=v/(r*W)*(De*XN(n*Ie+se)-jN(se));return[m+Ue*k,$+Ue*P,v*De/fy(n*Ie+se)]}}return X.duration=R*1e3*n/Math.SQRT2,X}return a.rho=function(c){var d=Math.max(.001,+c),m=d*d,$=m*m;return t(d,m,$)},a})(Math.SQRT2,2,4);function cx(t){return function(n,r){var s=t((n=T5(n)).h,(r=T5(r)).h),a=ll(n.s,r.s),c=ll(n.l,r.l),d=ll(n.opacity,r.opacity);return function(m){return n.h=s(m),n.s=a(m),n.l=c(m),n.opacity=d(m),n+""}}}const YN=cx(s6);var KN=cx(ll);function JN(t,n){var r=ll((t=w5(t)).l,(n=w5(n)).l),s=ll(t.a,n.a),a=ll(t.b,n.b),c=ll(t.opacity,n.opacity);return function(d){return t.l=r(d),t.a=s(d),t.b=a(d),t.opacity=c(d),t+""}}function hx(t){return function(n,r){var s=t((n=x5(n)).h,(r=x5(r)).h),a=ll(n.c,r.c),c=ll(n.l,r.l),d=ll(n.opacity,r.opacity);return function(m){return n.h=s(m),n.c=a(m),n.l=c(m),n.opacity=d(m),n+""}}}const ZN=hx(s6);var QN=hx(ll);function dx(t){return(function n(r){r=+r;function s(a,c){var d=t((a=S5(a)).h,(c=S5(c)).h),m=ll(a.s,c.s),$=ll(a.l,c.l),v=ll(a.opacity,c.opacity);return function(_){return a.h=d(_),a.s=m(_),a.l=$(Math.pow(_,r)),a.opacity=v(_),a+""}}return s.gamma=n,s})(1)}const eO=dx(s6);var tO=dx(ll);function fx(t,n){n===void 0&&(n=t,t=df);for(var r=0,s=n.length-1,a=n[0],c=new Array(s<0?0:s);r<s;)c[r]=t(a,a=n[++r]);return function(d){var m=Math.max(0,Math.min(s-1,Math.floor(d*=s)));return c[m](d-m)}}function nO(t,n){for(var r=new Array(n),s=0;s<n;++s)r[s]=t(s/(n-1));return r}const rO=Object.freeze(Object.defineProperty({__proto__:null,interpolate:df,interpolateArray:FN,interpolateBasis:Jw,interpolateBasisClosed:Zw,interpolateCubehelix:eO,interpolateCubehelixLong:tO,interpolateDate:rx,interpolateDiscrete:HN,interpolateHcl:ZN,interpolateHclLong:QN,interpolateHsl:YN,interpolateHslLong:KN,interpolateHue:VN,interpolateLab:JN,interpolateNumber:V0,interpolateNumberArray:b9,interpolateObject:ix,interpolateRgb:gm,interpolateRgbBasis:BN,interpolateRgbBasisClosed:PN,interpolateRound:o6,interpolateString:y9,interpolateTransformCss:lx,interpolateTransformSvg:ax,interpolateZoom:ux,piecewise:fx,quantize:nO},Symbol.toStringTag,{value:"Module"}));function iO(t){return function(){return t}}function k5(t){return+t}var py=[0,1];function fa(t){return t}function Eg(t,n){return(n-=t=+t)?function(r){return(r-t)/n}:iO(isNaN(n)?NaN:.5)}function sO(t,n){var r;return t>n&&(r=t,t=n,n=r),function(s){return Math.max(t,Math.min(n,s))}}function oO(t,n,r){var s=t[0],a=t[1],c=n[0],d=n[1];return a<s?(s=Eg(a,s),c=r(d,c)):(s=Eg(s,a),c=r(c,d)),function(m){return c(s(m))}}function lO(t,n,r){var s=Math.min(t.length,n.length)-1,a=new Array(s),c=new Array(s),d=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++d<s;)a[d]=Eg(t[d],t[d+1]),c[d]=r(n[d],n[d+1]);return function(m){var $=km(t,m,1,s)-1;return c[$](a[$](m))}}function Am(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function l6(){var t=py,n=py,r=df,s,a,c,d=fa,m,$,v;function _(){var S=Math.min(t.length,n.length);return d!==fa&&(d=sO(t[0],t[S-1])),m=S>2?lO:oO,$=v=null,T}function T(S){return S==null||isNaN(S=+S)?c:($||($=m(t.map(s),n,r)))(s(d(S)))}return T.invert=function(S){return d(a((v||(v=m(n,t.map(s),V0)))(S)))},T.domain=function(S){return arguments.length?(t=Array.from(S,k5),_()):t.slice()},T.range=function(S){return arguments.length?(n=Array.from(S),_()):n.slice()},T.rangeRound=function(S){return n=Array.from(S),r=o6,_()},T.clamp=function(S){return arguments.length?(d=S?!0:fa,_()):d!==fa},T.interpolate=function(S){return arguments.length?(r=S,_()):r},T.unknown=function(S){return arguments.length?(c=S,T):c},function(S,k){return s=S,a=k,_()}}function _9(){return l6()(fa,fa)}function px(t,n,r,s){var a=bg(t,n,r),c;switch(s=u2(s??",f"),s.type){case"s":{var d=Math.max(Math.abs(t),Math.abs(n));return s.precision==null&&!isNaN(c=Nw(a,d))&&(s.precision=c),d9(s,d)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(c=Ow(a,Math.max(Math.abs(t),Math.abs(n))))&&(s.precision=c-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(c=Mw(a))&&(s.precision=c-(s.type==="%")*2);break}}return n6(s)}function rd(t){var n=t.domain;return t.ticks=function(r){var s=n();return $g(s[0],s[s.length-1],r??10)},t.tickFormat=function(r,s){var a=n();return px(a[0],a[a.length-1],r??10,s)},t.nice=function(r){r==null&&(r=10);var s=n(),a=0,c=s.length-1,d=s[a],m=s[c],$,v,_=10;for(m<d&&(v=d,d=m,m=v,v=a,a=c,c=v);_-- >0;){if(v=vg(d,m,r),v===$)return s[a]=d,s[c]=m,n(s);if(v>0)d=Math.floor(d/v)*v,m=Math.ceil(m/v)*v;else if(v<0)d=Math.ceil(d*v)/v,m=Math.floor(m*v)/v;else break;$=v}return t},t}function mx(){var t=_9();return t.copy=function(){return Am(t,mx())},Y0.apply(t,arguments),rd(t)}function gx(t){var n;function r(s){return s==null||isNaN(s=+s)?n:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(t=Array.from(s,k5),r):t.slice()},r.unknown=function(s){return arguments.length?(n=s,r):n},r.copy=function(){return gx(t).unknown(n)},t=arguments.length?Array.from(t,k5):[0,1],rd(r)}function $x(t,n){t=t.slice();var r=0,s=t.length-1,a=t[r],c=t[s],d;return c<a&&(d=r,r=s,s=d,d=a,a=c,c=d),t[r]=n.floor(a),t[s]=n.ceil(c),t}function my(t){return Math.log(t)}function gy(t){return Math.exp(t)}function aO(t){return-Math.log(-t)}function uO(t){return-Math.exp(-t)}function cO(t){return isFinite(t)?+("1e"+t):t<0?0:t}function hO(t){return t===10?cO:t===Math.E?Math.exp:n=>Math.pow(t,n)}function dO(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function $y(t){return(n,r)=>-t(-n,r)}function T9(t){const n=t(my,gy),r=n.domain;let s=10,a,c;function d(){return a=dO(s),c=hO(s),r()[0]<0?(a=$y(a),c=$y(c),t(aO,uO)):t(my,gy),n}return n.base=function(m){return arguments.length?(s=+m,d()):s},n.domain=function(m){return arguments.length?(r(m),d()):r()},n.ticks=m=>{const $=r();let v=$[0],_=$[$.length-1];const T=_<v;T&&([v,_]=[_,v]);let S=a(v),k=a(_),P,G;const X=m==null?10:+m;let R=[];if(!(s%1)&&k-S<X){if(S=Math.floor(S),k=Math.ceil(k),v>0){for(;S<=k;++S)for(P=1;P<s;++P)if(G=S<0?P/c(-S):P*c(S),!(G<v)){if(G>_)break;R.push(G)}}else for(;S<=k;++S)for(P=s-1;P>=1;--P)if(G=S>0?P/c(-S):P*c(S),!(G<v)){if(G>_)break;R.push(G)}R.length*2<X&&(R=$g(v,_,X))}else R=$g(S,k,Math.min(k-S,X)).map(c);return T?R.reverse():R},n.tickFormat=(m,$)=>{if(m==null&&(m=10),$==null&&($=s===10?"s":","),typeof $!="function"&&(!(s%1)&&($=u2($)).precision==null&&($.trim=!0),$=n6($)),m===1/0)return $;const v=Math.max(1,s*m/n.ticks().length);return _=>{let T=_/c(Math.round(a(_)));return T*s<s-.5&&(T*=s),T<=v?$(_):""}},n.nice=()=>r($x(r(),{floor:m=>c(Math.floor(a(m))),ceil:m=>c(Math.ceil(a(m)))})),n}function vx(){const t=T9(l6()).domain([1,10]);return t.copy=()=>Am(t,vx()).base(t.base()),Y0.apply(t,arguments),t}function vy(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function by(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function E9(t){var n=1,r=t(vy(n),by(n));return r.constant=function(s){return arguments.length?t(vy(n=+s),by(n)):n},rd(r)}function bx(){var t=E9(l6());return t.copy=function(){return Am(t,bx()).constant(t.constant())},Y0.apply(t,arguments)}function yy(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function fO(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function pO(t){return t<0?-t*t:t*t}function w9(t){var n=t(fa,fa),r=1;function s(){return r===1?t(fa,fa):r===.5?t(fO,pO):t(yy(r),yy(1/r))}return n.exponent=function(a){return arguments.length?(r=+a,s()):r},rd(n)}function x9(){var t=w9(l6());return t.copy=function(){return Am(t,x9()).exponent(t.exponent())},Y0.apply(t,arguments),t}function mO(){return x9.apply(null,arguments).exponent(.5)}function _y(t){return Math.sign(t)*t*t}function gO(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function yx(){var t=_9(),n=[0,1],r=!1,s;function a(c){var d=gO(t(c));return isNaN(d)?s:r?Math.round(d):d}return a.invert=function(c){return t.invert(_y(c))},a.domain=function(c){return arguments.length?(t.domain(c),a):t.domain()},a.range=function(c){return arguments.length?(t.range((n=Array.from(c,k5)).map(_y)),a):n.slice()},a.rangeRound=function(c){return a.range(c).round(!0)},a.round=function(c){return arguments.length?(r=!!c,a):r},a.clamp=function(c){return arguments.length?(t.clamp(c),a):t.clamp()},a.unknown=function(c){return arguments.length?(s=c,a):s},a.copy=function(){return yx(t.domain(),n).round(r).clamp(t.clamp()).unknown(s)},Y0.apply(a,arguments),rd(a)}function _x(){var t=[],n=[],r=[],s;function a(){var d=0,m=Math.max(1,n.length);for(r=new Array(m-1);++d<m;)r[d-1]=$N(t,d/m);return c}function c(d){return d==null||isNaN(d=+d)?s:n[km(r,d)]}return c.invertExtent=function(d){var m=n.indexOf(d);return m<0?[NaN,NaN]:[m>0?r[m-1]:t[0],m<r.length?r[m]:t[t.length-1]]},c.domain=function(d){if(!arguments.length)return t.slice();t=[];for(let m of d)m!=null&&!isNaN(m=+m)&&t.push(m);return t.sort(Y1),a()},c.range=function(d){return arguments.length?(n=Array.from(d),a()):n.slice()},c.unknown=function(d){return arguments.length?(s=d,c):s},c.quantiles=function(){return r.slice()},c.copy=function(){return _x().domain(t).range(n).unknown(s)},Y0.apply(c,arguments)}function Tx(){var t=0,n=1,r=1,s=[.5],a=[0,1],c;function d($){return $!=null&&$<=$?a[km(s,$,0,r)]:c}function m(){var $=-1;for(s=new Array(r);++$<r;)s[$]=(($+1)*n-($-r)*t)/(r+1);return d}return d.domain=function($){return arguments.length?([t,n]=$,t=+t,n=+n,m()):[t,n]},d.range=function($){return arguments.length?(r=(a=Array.from($)).length-1,m()):a.slice()},d.invertExtent=function($){var v=a.indexOf($);return v<0?[NaN,NaN]:v<1?[t,s[0]]:v>=r?[s[r-1],n]:[s[v-1],s[v]]},d.unknown=function($){return arguments.length&&(c=$),d},d.thresholds=function(){return s.slice()},d.copy=function(){return Tx().domain([t,n]).range(a).unknown(c)},Y0.apply(rd(d),arguments)}function Ex(){var t=[.5],n=[0,1],r,s=1;function a(c){return c!=null&&c<=c?n[km(t,c,0,s)]:r}return a.domain=function(c){return arguments.length?(t=Array.from(c),s=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(c){return arguments.length?(n=Array.from(c),s=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(c){var d=n.indexOf(c);return[t[d-1],t[d]]},a.unknown=function(c){return arguments.length?(r=c,a):r},a.copy=function(){return Ex().domain(t).range(n).unknown(r)},Y0.apply(a,arguments)}const D7=new Date,B7=new Date;function Zo(t,n,r,s){function a(c){return t(c=arguments.length===0?new Date:new Date(+c)),c}return a.floor=c=>(t(c=new Date(+c)),c),a.ceil=c=>(t(c=new Date(c-1)),n(c,1),t(c),c),a.round=c=>{const d=a(c),m=a.ceil(c);return c-d<m-c?d:m},a.offset=(c,d)=>(n(c=new Date(+c),d==null?1:Math.floor(d)),c),a.range=(c,d,m)=>{const $=[];if(c=a.ceil(c),m=m==null?1:Math.floor(m),!(c<d)||!(m>0))return $;let v;do $.push(v=new Date(+c)),n(c,m),t(c);while(v<c&&c<d);return $},a.filter=c=>Zo(d=>{if(d>=d)for(;t(d),!c(d);)d.setTime(d-1)},(d,m)=>{if(d>=d)if(m<0)for(;++m<=0;)for(;n(d,-1),!c(d););else for(;--m>=0;)for(;n(d,1),!c(d););}),r&&(a.count=(c,d)=>(D7.setTime(+c),B7.setTime(+d),t(D7),t(B7),Math.floor(r(D7,B7))),a.every=c=>(c=Math.floor(c),!isFinite(c)||!(c>0)?null:c>1?a.filter(s?d=>s(d)%c===0:d=>a.count(0,d)%c===0):a)),a}const C5=Zo(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);C5.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zo(n=>{n.setTime(Math.floor(n/t)*t)},(n,r)=>{n.setTime(+n+r*t)},(n,r)=>(r-n)/t):C5);C5.range;const kh=1e3,q0=kh*60,Ch=q0*60,Mh=Ch*24,S9=Mh*7,Ty=Mh*30,P7=Mh*365,rf=Zo(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*kh)},(t,n)=>(n-t)/kh,t=>t.getUTCSeconds());rf.range;const k9=Zo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*kh)},(t,n)=>{t.setTime(+t+n*q0)},(t,n)=>(n-t)/q0,t=>t.getMinutes());k9.range;const C9=Zo(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*q0)},(t,n)=>(n-t)/q0,t=>t.getUTCMinutes());C9.range;const A9=Zo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*kh-t.getMinutes()*q0)},(t,n)=>{t.setTime(+t+n*Ch)},(t,n)=>(n-t)/Ch,t=>t.getHours());A9.range;const I9=Zo(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*Ch)},(t,n)=>(n-t)/Ch,t=>t.getUTCHours());I9.range;const Im=Zo(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*q0)/Mh,t=>t.getDate()-1);Im.range;const a6=Zo(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Mh,t=>t.getUTCDate()-1);a6.range;const wx=Zo(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Mh,t=>Math.floor(t/Mh));wx.range;function ff(t){return Zo(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,r)=>{n.setDate(n.getDate()+r*7)},(n,r)=>(r-n-(r.getTimezoneOffset()-n.getTimezoneOffset())*q0)/S9)}const u6=ff(0),A5=ff(1),$O=ff(2),vO=ff(3),h2=ff(4),bO=ff(5),yO=ff(6);u6.range;A5.range;$O.range;vO.range;h2.range;bO.range;yO.range;function pf(t){return Zo(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,r)=>{n.setUTCDate(n.getUTCDate()+r*7)},(n,r)=>(r-n)/S9)}const c6=pf(0),I5=pf(1),_O=pf(2),TO=pf(3),d2=pf(4),EO=pf(5),wO=pf(6);c6.range;I5.range;_O.range;TO.range;d2.range;EO.range;wO.range;const M9=Zo(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());M9.range;const N9=Zo(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());N9.range;const Nh=Zo(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());Nh.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zo(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,r)=>{n.setFullYear(n.getFullYear()+r*t)});Nh.range;const Oh=Zo(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Oh.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zo(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,r)=>{n.setUTCFullYear(n.getUTCFullYear()+r*t)});Oh.range;function xx(t,n,r,s,a,c){const d=[[rf,1,kh],[rf,5,5*kh],[rf,15,15*kh],[rf,30,30*kh],[c,1,q0],[c,5,5*q0],[c,15,15*q0],[c,30,30*q0],[a,1,Ch],[a,3,3*Ch],[a,6,6*Ch],[a,12,12*Ch],[s,1,Mh],[s,2,2*Mh],[r,1,S9],[n,1,Ty],[n,3,3*Ty],[t,1,P7]];function m(v,_,T){const S=_<v;S&&([v,_]=[_,v]);const k=T&&typeof T.range=="function"?T:$(v,_,T),P=k?k.range(v,+_+1):[];return S?P.reverse():P}function $(v,_,T){const S=Math.abs(_-v)/T,k=f9(([,,X])=>X).right(d,S);if(k===d.length)return t.every(bg(v/P7,_/P7,T));if(k===0)return C5.every(Math.max(bg(v,_,T),1));const[P,G]=d[S/d[k-1][2]<d[k][2]/S?k-1:k];return P.every(G)}return[m,$]}const[xO,SO]=xx(Oh,N9,c6,wx,I9,C9),[kO,CO]=xx(Nh,M9,u6,Im,A9,k9);function F7(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function U7(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Hp(t,n,r){return{y:t,m:n,d:r,H:0,M:0,S:0,L:0}}function AO(t){var n=t.dateTime,r=t.date,s=t.time,a=t.periods,c=t.days,d=t.shortDays,m=t.months,$=t.shortMonths,v=Vp(a),_=Gp(a),T=Vp(c),S=Gp(c),k=Vp(d),P=Gp(d),G=Vp(m),X=Gp(m),R=Vp($),W=Gp($),te={a:nt,A:ot,b:Lt,B:de,c:null,d:Cy,e:Cy,f:ZO,g:aR,G:cR,H:YO,I:KO,j:JO,L:Sx,m:QO,M:eR,p:Fe,q:et,Q:My,s:Ny,S:tR,u:nR,U:rR,V:iR,w:sR,W:oR,x:null,X:null,y:lR,Y:uR,Z:hR,"%":Iy},ie={a:_e,A:Ct,b:$t,B:qt,c:null,d:Ay,e:Ay,f:mR,g:xR,G:kR,H:dR,I:fR,j:pR,L:Cx,m:gR,M:$R,p:ln,q:En,Q:My,s:Ny,S:vR,u:bR,U:yR,V:_R,w:TR,W:ER,x:null,X:null,y:wR,Y:SR,Z:CR,"%":Iy},se={a:Ue,A:it,b:ze,B:dt,c:Oe,d:Sy,e:Sy,f:qO,g:xy,G:wy,H:ky,I:ky,j:zO,L:GO,m:UO,M:HO,p:De,q:FO,Q:jO,s:XO,S:VO,u:RO,U:LO,V:DO,w:OO,W:BO,x:rt,X:Pe,y:xy,Y:wy,Z:PO,"%":WO};te.x=Y(r,te),te.X=Y(s,te),te.c=Y(n,te),ie.x=Y(r,ie),ie.X=Y(s,ie),ie.c=Y(n,ie);function Y(St,Ut){return function(fn){var Ge=[],Qt=-1,Pn=0,Cn=St.length,Jn,cn,ri;for(fn instanceof Date||(fn=new Date(+fn));++Qt<Cn;)St.charCodeAt(Qt)===37&&(Ge.push(St.slice(Pn,Qt)),(cn=Ey[Jn=St.charAt(++Qt)])!=null?Jn=St.charAt(++Qt):cn=Jn==="e"?" ":"0",(ri=Ut[Jn])&&(Jn=ri(fn,cn)),Ge.push(Jn),Pn=Qt+1);return Ge.push(St.slice(Pn,Qt)),Ge.join("")}}function fe(St,Ut){return function(fn){var Ge=Hp(1900,void 0,1),Qt=Ie(Ge,St,fn+="",0),Pn,Cn;if(Qt!=fn.length)return null;if("Q"in Ge)return new Date(Ge.Q);if("s"in Ge)return new Date(Ge.s*1e3+("L"in Ge?Ge.L:0));if(Ut&&!("Z"in Ge)&&(Ge.Z=0),"p"in Ge&&(Ge.H=Ge.H%12+Ge.p*12),Ge.m===void 0&&(Ge.m="q"in Ge?Ge.q:0),"V"in Ge){if(Ge.V<1||Ge.V>53)return null;"w"in Ge||(Ge.w=1),"Z"in Ge?(Pn=U7(Hp(Ge.y,0,1)),Cn=Pn.getUTCDay(),Pn=Cn>4||Cn===0?I5.ceil(Pn):I5(Pn),Pn=a6.offset(Pn,(Ge.V-1)*7),Ge.y=Pn.getUTCFullYear(),Ge.m=Pn.getUTCMonth(),Ge.d=Pn.getUTCDate()+(Ge.w+6)%7):(Pn=F7(Hp(Ge.y,0,1)),Cn=Pn.getDay(),Pn=Cn>4||Cn===0?A5.ceil(Pn):A5(Pn),Pn=Im.offset(Pn,(Ge.V-1)*7),Ge.y=Pn.getFullYear(),Ge.m=Pn.getMonth(),Ge.d=Pn.getDate()+(Ge.w+6)%7)}else("W"in Ge||"U"in Ge)&&("w"in Ge||(Ge.w="u"in Ge?Ge.u%7:"W"in Ge?1:0),Cn="Z"in Ge?U7(Hp(Ge.y,0,1)).getUTCDay():F7(Hp(Ge.y,0,1)).getDay(),Ge.m=0,Ge.d="W"in Ge?(Ge.w+6)%7+Ge.W*7-(Cn+5)%7:Ge.w+Ge.U*7-(Cn+6)%7);return"Z"in Ge?(Ge.H+=Ge.Z/100|0,Ge.M+=Ge.Z%100,U7(Ge)):F7(Ge)}}function Ie(St,Ut,fn,Ge){for(var Qt=0,Pn=Ut.length,Cn=fn.length,Jn,cn;Qt<Pn;){if(Ge>=Cn)return-1;if(Jn=Ut.charCodeAt(Qt++),Jn===37){if(Jn=Ut.charAt(Qt++),cn=se[Jn in Ey?Ut.charAt(Qt++):Jn],!cn||(Ge=cn(St,fn,Ge))<0)return-1}else if(Jn!=fn.charCodeAt(Ge++))return-1}return Ge}function De(St,Ut,fn){var Ge=v.exec(Ut.slice(fn));return Ge?(St.p=_.get(Ge[0].toLowerCase()),fn+Ge[0].length):-1}function Ue(St,Ut,fn){var Ge=k.exec(Ut.slice(fn));return Ge?(St.w=P.get(Ge[0].toLowerCase()),fn+Ge[0].length):-1}function it(St,Ut,fn){var Ge=T.exec(Ut.slice(fn));return Ge?(St.w=S.get(Ge[0].toLowerCase()),fn+Ge[0].length):-1}function ze(St,Ut,fn){var Ge=R.exec(Ut.slice(fn));return Ge?(St.m=W.get(Ge[0].toLowerCase()),fn+Ge[0].length):-1}function dt(St,Ut,fn){var Ge=G.exec(Ut.slice(fn));return Ge?(St.m=X.get(Ge[0].toLowerCase()),fn+Ge[0].length):-1}function Oe(St,Ut,fn){return Ie(St,n,Ut,fn)}function rt(St,Ut,fn){return Ie(St,r,Ut,fn)}function Pe(St,Ut,fn){return Ie(St,s,Ut,fn)}function nt(St){return d[St.getDay()]}function ot(St){return c[St.getDay()]}function Lt(St){return $[St.getMonth()]}function de(St){return m[St.getMonth()]}function Fe(St){return a[+(St.getHours()>=12)]}function et(St){return 1+~~(St.getMonth()/3)}function _e(St){return d[St.getUTCDay()]}function Ct(St){return c[St.getUTCDay()]}function $t(St){return $[St.getUTCMonth()]}function qt(St){return m[St.getUTCMonth()]}function ln(St){return a[+(St.getUTCHours()>=12)]}function En(St){return 1+~~(St.getUTCMonth()/3)}return{format:function(St){var Ut=Y(St+="",te);return Ut.toString=function(){return St},Ut},parse:function(St){var Ut=fe(St+="",!1);return Ut.toString=function(){return St},Ut},utcFormat:function(St){var Ut=Y(St+="",ie);return Ut.toString=function(){return St},Ut},utcParse:function(St){var Ut=fe(St+="",!0);return Ut.toString=function(){return St},Ut}}}var Ey={"-":"",_:" ",0:"0"},al=/^\s*\d+/,IO=/^%/,MO=/[\\^$*+?|[\]().{}]/g;function es(t,n,r){var s=t<0?"-":"",a=(s?-t:t)+"",c=a.length;return s+(c<r?new Array(r-c+1).join(n)+a:a)}function NO(t){return t.replace(MO,"\\$&")}function Vp(t){return new RegExp("^(?:"+t.map(NO).join("|")+")","i")}function Gp(t){return new Map(t.map((n,r)=>[n.toLowerCase(),r]))}function OO(t,n,r){var s=al.exec(n.slice(r,r+1));return s?(t.w=+s[0],r+s[0].length):-1}function RO(t,n,r){var s=al.exec(n.slice(r,r+1));return s?(t.u=+s[0],r+s[0].length):-1}function LO(t,n,r){var s=al.exec(n.slice(r,r+2));return s?(t.U=+s[0],r+s[0].length):-1}function DO(t,n,r){var s=al.exec(n.slice(r,r+2));return s?(t.V=+s[0],r+s[0].length):-1}function BO(t,n,r){var s=al.exec(n.slice(r,r+2));return s?(t.W=+s[0],r+s[0].length):-1}function wy(t,n,r){var s=al.exec(n.slice(r,r+4));return s?(t.y=+s[0],r+s[0].length):-1}function xy(t,n,r){var s=al.exec(n.slice(r,r+2));return s?(t.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function PO(t,n,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(r,r+6));return s?(t.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function FO(t,n,r){var s=al.exec(n.slice(r,r+1));return s?(t.q=s[0]*3-3,r+s[0].length):-1}function UO(t,n,r){var s=al.exec(n.slice(r,r+2));return s?(t.m=s[0]-1,r+s[0].length):-1}function Sy(t,n,r){var s=al.exec(n.slice(r,r+2));return s?(t.d=+s[0],r+s[0].length):-1}function zO(t,n,r){var s=al.exec(n.slice(r,r+3));return s?(t.m=0,t.d=+s[0],r+s[0].length):-1}function ky(t,n,r){var s=al.exec(n.slice(r,r+2));return s?(t.H=+s[0],r+s[0].length):-1}function HO(t,n,r){var s=al.exec(n.slice(r,r+2));return s?(t.M=+s[0],r+s[0].length):-1}function VO(t,n,r){var s=al.exec(n.slice(r,r+2));return s?(t.S=+s[0],r+s[0].length):-1}function GO(t,n,r){var s=al.exec(n.slice(r,r+3));return s?(t.L=+s[0],r+s[0].length):-1}function qO(t,n,r){var s=al.exec(n.slice(r,r+6));return s?(t.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function WO(t,n,r){var s=IO.exec(n.slice(r,r+1));return s?r+s[0].length:-1}function jO(t,n,r){var s=al.exec(n.slice(r));return s?(t.Q=+s[0],r+s[0].length):-1}function XO(t,n,r){var s=al.exec(n.slice(r));return s?(t.s=+s[0],r+s[0].length):-1}function Cy(t,n){return es(t.getDate(),n,2)}function YO(t,n){return es(t.getHours(),n,2)}function KO(t,n){return es(t.getHours()%12||12,n,2)}function JO(t,n){return es(1+Im.count(Nh(t),t),n,3)}function Sx(t,n){return es(t.getMilliseconds(),n,3)}function ZO(t,n){return Sx(t,n)+"000"}function QO(t,n){return es(t.getMonth()+1,n,2)}function eR(t,n){return es(t.getMinutes(),n,2)}function tR(t,n){return es(t.getSeconds(),n,2)}function nR(t){var n=t.getDay();return n===0?7:n}function rR(t,n){return es(u6.count(Nh(t)-1,t),n,2)}function kx(t){var n=t.getDay();return n>=4||n===0?h2(t):h2.ceil(t)}function iR(t,n){return t=kx(t),es(h2.count(Nh(t),t)+(Nh(t).getDay()===4),n,2)}function sR(t){return t.getDay()}function oR(t,n){return es(A5.count(Nh(t)-1,t),n,2)}function lR(t,n){return es(t.getFullYear()%100,n,2)}function aR(t,n){return t=kx(t),es(t.getFullYear()%100,n,2)}function uR(t,n){return es(t.getFullYear()%1e4,n,4)}function cR(t,n){var r=t.getDay();return t=r>=4||r===0?h2(t):h2.ceil(t),es(t.getFullYear()%1e4,n,4)}function hR(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+es(n/60|0,"0",2)+es(n%60,"0",2)}function Ay(t,n){return es(t.getUTCDate(),n,2)}function dR(t,n){return es(t.getUTCHours(),n,2)}function fR(t,n){return es(t.getUTCHours()%12||12,n,2)}function pR(t,n){return es(1+a6.count(Oh(t),t),n,3)}function Cx(t,n){return es(t.getUTCMilliseconds(),n,3)}function mR(t,n){return Cx(t,n)+"000"}function gR(t,n){return es(t.getUTCMonth()+1,n,2)}function $R(t,n){return es(t.getUTCMinutes(),n,2)}function vR(t,n){return es(t.getUTCSeconds(),n,2)}function bR(t){var n=t.getUTCDay();return n===0?7:n}function yR(t,n){return es(c6.count(Oh(t)-1,t),n,2)}function Ax(t){var n=t.getUTCDay();return n>=4||n===0?d2(t):d2.ceil(t)}function _R(t,n){return t=Ax(t),es(d2.count(Oh(t),t)+(Oh(t).getUTCDay()===4),n,2)}function TR(t){return t.getUTCDay()}function ER(t,n){return es(I5.count(Oh(t)-1,t),n,2)}function wR(t,n){return es(t.getUTCFullYear()%100,n,2)}function xR(t,n){return t=Ax(t),es(t.getUTCFullYear()%100,n,2)}function SR(t,n){return es(t.getUTCFullYear()%1e4,n,4)}function kR(t,n){var r=t.getUTCDay();return t=r>=4||r===0?d2(t):d2.ceil(t),es(t.getUTCFullYear()%1e4,n,4)}function CR(){return"+0000"}function Iy(){return"%"}function My(t){return+t}function Ny(t){return Math.floor(+t/1e3)}var B4,Ix,Mx;AR({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function AR(t){return B4=AO(t),Ix=B4.format,B4.parse,Mx=B4.utcFormat,B4.utcParse,B4}function IR(t){return new Date(t)}function MR(t){return t instanceof Date?+t:+new Date(+t)}function O9(t,n,r,s,a,c,d,m,$,v){var _=_9(),T=_.invert,S=_.domain,k=v(".%L"),P=v(":%S"),G=v("%I:%M"),X=v("%I %p"),R=v("%a %d"),W=v("%b %d"),te=v("%B"),ie=v("%Y");function se(Y){return($(Y)<Y?k:m(Y)<Y?P:d(Y)<Y?G:c(Y)<Y?X:s(Y)<Y?a(Y)<Y?R:W:r(Y)<Y?te:ie)(Y)}return _.invert=function(Y){return new Date(T(Y))},_.domain=function(Y){return arguments.length?S(Array.from(Y,MR)):S().map(IR)},_.ticks=function(Y){var fe=S();return t(fe[0],fe[fe.length-1],Y??10)},_.tickFormat=function(Y,fe){return fe==null?se:v(fe)},_.nice=function(Y){var fe=S();return(!Y||typeof Y.range!="function")&&(Y=n(fe[0],fe[fe.length-1],Y??10)),Y?S($x(fe,Y)):_},_.copy=function(){return Am(_,O9(t,n,r,s,a,c,d,m,$,v))},_}function NR(){return Y0.apply(O9(kO,CO,Nh,M9,u6,Im,A9,k9,rf,Ix).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function OR(){return Y0.apply(O9(xO,SO,Oh,N9,c6,a6,I9,C9,rf,Mx).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function h6(){var t=0,n=1,r,s,a,c,d=fa,m=!1,$;function v(T){return T==null||isNaN(T=+T)?$:d(a===0?.5:(T=(c(T)-r)*a,m?Math.max(0,Math.min(1,T)):T))}v.domain=function(T){return arguments.length?([t,n]=T,r=c(t=+t),s=c(n=+n),a=r===s?0:1/(s-r),v):[t,n]},v.clamp=function(T){return arguments.length?(m=!!T,v):m},v.interpolator=function(T){return arguments.length?(d=T,v):d};function _(T){return function(S){var k,P;return arguments.length?([k,P]=S,d=T(k,P),v):[d(0),d(1)]}}return v.range=_(df),v.rangeRound=_(o6),v.unknown=function(T){return arguments.length?($=T,v):$},function(T){return c=T,r=T(t),s=T(n),a=r===s?0:1/(s-r),v}}function id(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Nx(){var t=rd(h6()(fa));return t.copy=function(){return id(t,Nx())},Fh.apply(t,arguments)}function Ox(){var t=T9(h6()).domain([1,10]);return t.copy=function(){return id(t,Ox()).base(t.base())},Fh.apply(t,arguments)}function Rx(){var t=E9(h6());return t.copy=function(){return id(t,Rx()).constant(t.constant())},Fh.apply(t,arguments)}function R9(){var t=w9(h6());return t.copy=function(){return id(t,R9()).exponent(t.exponent())},Fh.apply(t,arguments)}function RR(){return R9.apply(null,arguments).exponent(.5)}function Lx(){var t=[],n=fa;function r(s){if(s!=null&&!isNaN(s=+s))return n((km(t,s,1)-1)/(t.length-1))}return r.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Y1),r},r.interpolator=function(s){return arguments.length?(n=s,r):n},r.range=function(){return t.map((s,a)=>n(a/(t.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,c)=>gN(t,c/s))},r.copy=function(){return Lx(n).domain(t)},Fh.apply(r,arguments)}function d6(){var t=0,n=.5,r=1,s=1,a,c,d,m,$,v=fa,_,T=!1,S;function k(G){return isNaN(G=+G)?S:(G=.5+((G=+_(G))-c)*(s*G<s*c?m:$),v(T?Math.max(0,Math.min(1,G)):G))}k.domain=function(G){return arguments.length?([t,n,r]=G,a=_(t=+t),c=_(n=+n),d=_(r=+r),m=a===c?0:.5/(c-a),$=c===d?0:.5/(d-c),s=c<a?-1:1,k):[t,n,r]},k.clamp=function(G){return arguments.length?(T=!!G,k):T},k.interpolator=function(G){return arguments.length?(v=G,k):v};function P(G){return function(X){var R,W,te;return arguments.length?([R,W,te]=X,v=fx(G,[R,W,te]),k):[v(0),v(.5),v(1)]}}return k.range=P(df),k.rangeRound=P(o6),k.unknown=function(G){return arguments.length?(S=G,k):S},function(G){return _=G,a=G(t),c=G(n),d=G(r),m=a===c?0:.5/(c-a),$=c===d?0:.5/(d-c),s=c<a?-1:1,k}}function Dx(){var t=rd(d6()(fa));return t.copy=function(){return id(t,Dx())},Fh.apply(t,arguments)}function Bx(){var t=T9(d6()).domain([.1,1,10]);return t.copy=function(){return id(t,Bx()).base(t.base())},Fh.apply(t,arguments)}function Px(){var t=E9(d6());return t.copy=function(){return id(t,Px()).constant(t.constant())},Fh.apply(t,arguments)}function L9(){var t=w9(d6());return t.copy=function(){return id(t,L9()).exponent(t.exponent())},Fh.apply(t,arguments)}function LR(){return L9.apply(null,arguments).exponent(.5)}const DR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:m9,scaleDiverging:Dx,scaleDivergingLog:Bx,scaleDivergingPow:L9,scaleDivergingSqrt:LR,scaleDivergingSymlog:Px,scaleIdentity:gx,scaleImplicit:yg,scaleLinear:mx,scaleLog:vx,scaleOrdinal:p9,scalePoint:bN,scalePow:x9,scaleQuantile:_x,scaleQuantize:Tx,scaleRadial:yx,scaleSequential:Nx,scaleSequentialLog:Ox,scaleSequentialPow:R9,scaleSequentialQuantile:Lx,scaleSequentialSqrt:RR,scaleSequentialSymlog:Rx,scaleSqrt:mO,scaleSymlog:bx,scaleThreshold:Ex,scaleTime:NR,scaleUtc:OR,tickFormat:px},Symbol.toStringTag,{value:"Module"})),BR=Ph(DR);function PR(t){return t}var i5=1,s5=2,wg=3,rm=4,Oy=1e-6;function FR(t){return"translate("+t+",0)"}function UR(t){return"translate(0,"+t+")"}function zR(t){return n=>+t(n)}function HR(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),r=>+t(r)+n}function VR(){return!this.__axis}function f6(t,n){var r=[],s=null,a=null,c=6,d=6,m=3,$=typeof window<"u"&&window.devicePixelRatio>1?0:.5,v=t===i5||t===rm?-1:1,_=t===rm||t===s5?"x":"y",T=t===i5||t===wg?FR:UR;function S(k){var P=s??(n.ticks?n.ticks.apply(n,r):n.domain()),G=a??(n.tickFormat?n.tickFormat.apply(n,r):PR),X=Math.max(c,0)+m,R=n.range(),W=+R[0]+$,te=+R[R.length-1]+$,ie=(n.bandwidth?HR:zR)(n.copy(),$),se=k.selection?k.selection():k,Y=se.selectAll(".domain").data([null]),fe=se.selectAll(".tick").data(P,n).order(),Ie=fe.exit(),De=fe.enter().append("g").attr("class","tick"),Ue=fe.select("line"),it=fe.select("text");Y=Y.merge(Y.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),fe=fe.merge(De),Ue=Ue.merge(De.append("line").attr("stroke","currentColor").attr(_+"2",v*c)),it=it.merge(De.append("text").attr("fill","currentColor").attr(_,v*X).attr("dy",t===i5?"0em":t===wg?"0.71em":"0.32em")),k!==se&&(Y=Y.transition(k),fe=fe.transition(k),Ue=Ue.transition(k),it=it.transition(k),Ie=Ie.transition(k).attr("opacity",Oy).attr("transform",function(ze){return isFinite(ze=ie(ze))?T(ze+$):this.getAttribute("transform")}),De.attr("opacity",Oy).attr("transform",function(ze){var dt=this.parentNode.__axis;return T((dt&&isFinite(dt=dt(ze))?dt:ie(ze))+$)})),Ie.remove(),Y.attr("d",t===rm||t===s5?d?"M"+v*d+","+W+"H"+$+"V"+te+"H"+v*d:"M"+$+","+W+"V"+te:d?"M"+W+","+v*d+"V"+$+"H"+te+"V"+v*d:"M"+W+","+$+"H"+te),fe.attr("opacity",1).attr("transform",function(ze){return T(ie(ze)+$)}),Ue.attr(_+"2",v*c),it.attr(_,v*X).text(G),se.filter(VR).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===s5?"start":t===rm?"end":"middle"),se.each(function(){this.__axis=ie})}return S.scale=function(k){return arguments.length?(n=k,S):n},S.ticks=function(){return r=Array.from(arguments),S},S.tickArguments=function(k){return arguments.length?(r=k==null?[]:Array.from(k),S):r.slice()},S.tickValues=function(k){return arguments.length?(s=k==null?null:Array.from(k),S):s&&s.slice()},S.tickFormat=function(k){return arguments.length?(a=k,S):a},S.tickSize=function(k){return arguments.length?(c=d=+k,S):c},S.tickSizeInner=function(k){return arguments.length?(c=+k,S):c},S.tickSizeOuter=function(k){return arguments.length?(d=+k,S):d},S.tickPadding=function(k){return arguments.length?(m=+k,S):m},S.offset=function(k){return arguments.length?($=+k,S):$},S}function GR(t){return f6(i5,t)}function qR(t){return f6(s5,t)}function WR(t){return f6(wg,t)}function jR(t){return f6(rm,t)}const XR=Object.freeze(Object.defineProperty({__proto__:null,axisBottom:WR,axisLeft:jR,axisRight:qR,axisTop:GR},Symbol.toStringTag,{value:"Module"})),YR=Ph(XR);var KR={value:()=>{}};function D9(){for(var t=0,n=arguments.length,r={},s;t<n;++t){if(!(s=arguments[t]+"")||s in r||/[\s.]/.test(s))throw new Error("illegal type: "+s);r[s]=[]}return new o5(r)}function o5(t){this._=t}function JR(t,n){return t.trim().split(/^|\s+/).map(function(r){var s="",a=r.indexOf(".");if(a>=0&&(s=r.slice(a+1),r=r.slice(0,a)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:s}})}o5.prototype=D9.prototype={constructor:o5,on:function(t,n){var r=this._,s=JR(t+"",r),a,c=-1,d=s.length;if(arguments.length<2){for(;++c<d;)if((a=(t=s[c]).type)&&(a=ZR(r[a],t.name)))return a;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++c<d;)if(a=(t=s[c]).type)r[a]=Ry(r[a],t.name,n);else if(n==null)for(a in r)r[a]=Ry(r[a],t.name,null);return this},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new o5(t)},call:function(t,n){if((a=arguments.length-2)>0)for(var r=new Array(a),s=0,a,c;s<a;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(c=this._[t],s=0,a=c.length;s<a;++s)c[s].value.apply(n,r)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var s=this._[t],a=0,c=s.length;a<c;++a)s[a].value.apply(n,r)}};function ZR(t,n){for(var r=0,s=t.length,a;r<s;++r)if((a=t[r]).name===n)return a.value}function Ry(t,n,r){for(var s=0,a=t.length;s<a;++s)if(t[s].name===n){t[s]=KR,t=t.slice(0,s).concat(t.slice(s+1));break}return r!=null&&t.push({name:n,value:r}),t}var xg="http://www.w3.org/1999/xhtml";const Sg={svg:"http://www.w3.org/2000/svg",xhtml:xg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mm(t){var n=t+="",r=n.indexOf(":");return r>=0&&(n=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),Sg.hasOwnProperty(n)?{space:Sg[n],local:t}:t}function QR(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===xg&&n.documentElement.namespaceURI===xg?n.createElement(t):n.createElementNS(r,t)}}function eL(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function p6(t){var n=Mm(t);return(n.local?eL:QR)(n)}function tL(){}function m6(t){return t==null?tL:function(){return this.querySelector(t)}}function nL(t){typeof t!="function"&&(t=m6(t));for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a)for(var c=n[a],d=c.length,m=s[a]=new Array(d),$,v,_=0;_<d;++_)($=c[_])&&(v=t.call($,$.__data__,_,c))&&("__data__"in $&&(v.__data__=$.__data__),m[_]=v);return new ma(s,this._parents)}function Fx(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function rL(){return[]}function B9(t){return t==null?rL:function(){return this.querySelectorAll(t)}}function iL(t){return function(){return Fx(t.apply(this,arguments))}}function sL(t){typeof t=="function"?t=iL(t):t=B9(t);for(var n=this._groups,r=n.length,s=[],a=[],c=0;c<r;++c)for(var d=n[c],m=d.length,$,v=0;v<m;++v)($=d[v])&&(s.push(t.call($,$.__data__,v,d)),a.push($));return new ma(s,a)}function P9(t){return function(){return this.matches(t)}}function Ux(t){return function(n){return n.matches(t)}}var oL=Array.prototype.find;function lL(t){return function(){return oL.call(this.children,t)}}function aL(){return this.firstElementChild}function uL(t){return this.select(t==null?aL:lL(typeof t=="function"?t:Ux(t)))}var cL=Array.prototype.filter;function hL(){return Array.from(this.children)}function dL(t){return function(){return cL.call(this.children,t)}}function fL(t){return this.selectAll(t==null?hL:dL(typeof t=="function"?t:Ux(t)))}function pL(t){typeof t!="function"&&(t=P9(t));for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a)for(var c=n[a],d=c.length,m=s[a]=[],$,v=0;v<d;++v)($=c[v])&&t.call($,$.__data__,v,c)&&m.push($);return new ma(s,this._parents)}function zx(t){return new Array(t.length)}function mL(){return new ma(this._enter||this._groups.map(zx),this._parents)}function M5(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}M5.prototype={constructor:M5,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function gL(t){return function(){return t}}function $L(t,n,r,s,a,c){for(var d=0,m,$=n.length,v=c.length;d<v;++d)(m=n[d])?(m.__data__=c[d],s[d]=m):r[d]=new M5(t,c[d]);for(;d<$;++d)(m=n[d])&&(a[d]=m)}function vL(t,n,r,s,a,c,d){var m,$,v=new Map,_=n.length,T=c.length,S=new Array(_),k;for(m=0;m<_;++m)($=n[m])&&(S[m]=k=d.call($,$.__data__,m,n)+"",v.has(k)?a[m]=$:v.set(k,$));for(m=0;m<T;++m)k=d.call(t,c[m],m,c)+"",($=v.get(k))?(s[m]=$,$.__data__=c[m],v.delete(k)):r[m]=new M5(t,c[m]);for(m=0;m<_;++m)($=n[m])&&v.get(S[m])===$&&(a[m]=$)}function bL(t){return t.__data__}function yL(t,n){if(!arguments.length)return Array.from(this,bL);var r=n?vL:$L,s=this._parents,a=this._groups;typeof t!="function"&&(t=gL(t));for(var c=a.length,d=new Array(c),m=new Array(c),$=new Array(c),v=0;v<c;++v){var _=s[v],T=a[v],S=T.length,k=_L(t.call(_,_&&_.__data__,v,s)),P=k.length,G=m[v]=new Array(P),X=d[v]=new Array(P),R=$[v]=new Array(S);r(_,T,G,X,R,k,n);for(var W=0,te=0,ie,se;W<P;++W)if(ie=G[W]){for(W>=te&&(te=W+1);!(se=X[te])&&++te<P;);ie._next=se||null}}return d=new ma(d,s),d._enter=m,d._exit=$,d}function _L(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function TL(){return new ma(this._exit||this._groups.map(zx),this._parents)}function EL(t,n,r){var s=this.enter(),a=this,c=this.exit();return typeof t=="function"?(s=t(s),s&&(s=s.selection())):s=s.append(t+""),n!=null&&(a=n(a),a&&(a=a.selection())),r==null?c.remove():r(c),s&&a?s.merge(a).order():a}function wL(t){for(var n=t.selection?t.selection():t,r=this._groups,s=n._groups,a=r.length,c=s.length,d=Math.min(a,c),m=new Array(a),$=0;$<d;++$)for(var v=r[$],_=s[$],T=v.length,S=m[$]=new Array(T),k,P=0;P<T;++P)(k=v[P]||_[P])&&(S[P]=k);for(;$<a;++$)m[$]=r[$];return new ma(m,this._parents)}function xL(){for(var t=this._groups,n=-1,r=t.length;++n<r;)for(var s=t[n],a=s.length-1,c=s[a],d;--a>=0;)(d=s[a])&&(c&&d.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(d,c),c=d);return this}function SL(t){t||(t=kL);function n(T,S){return T&&S?t(T.__data__,S.__data__):!T-!S}for(var r=this._groups,s=r.length,a=new Array(s),c=0;c<s;++c){for(var d=r[c],m=d.length,$=a[c]=new Array(m),v,_=0;_<m;++_)(v=d[_])&&($[_]=v);$.sort(n)}return new ma(a,this._parents).order()}function kL(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function CL(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function AL(){return Array.from(this)}function IL(){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],a=0,c=s.length;a<c;++a){var d=s[a];if(d)return d}return null}function ML(){let t=0;for(const n of this)++t;return t}function NL(){return!this.node()}function OL(t){for(var n=this._groups,r=0,s=n.length;r<s;++r)for(var a=n[r],c=0,d=a.length,m;c<d;++c)(m=a[c])&&t.call(m,m.__data__,c,a);return this}function RL(t){return function(){this.removeAttribute(t)}}function LL(t){return function(){this.removeAttributeNS(t.space,t.local)}}function DL(t,n){return function(){this.setAttribute(t,n)}}function BL(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function PL(t,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function FL(t,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function UL(t,n){var r=Mm(t);if(arguments.length<2){var s=this.node();return r.local?s.getAttributeNS(r.space,r.local):s.getAttribute(r)}return this.each((n==null?r.local?LL:RL:typeof n=="function"?r.local?FL:PL:r.local?BL:DL)(r,n))}function F9(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function zL(t){return function(){this.style.removeProperty(t)}}function HL(t,n,r){return function(){this.style.setProperty(t,n,r)}}function VL(t,n,r){return function(){var s=n.apply(this,arguments);s==null?this.style.removeProperty(t):this.style.setProperty(t,s,r)}}function GL(t,n,r){return arguments.length>1?this.each((n==null?zL:typeof n=="function"?VL:HL)(t,n,r??"")):af(this.node(),t)}function af(t,n){return t.style.getPropertyValue(n)||F9(t).getComputedStyle(t,null).getPropertyValue(n)}function qL(t){return function(){delete this[t]}}function WL(t,n){return function(){this[t]=n}}function jL(t,n){return function(){var r=n.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function XL(t,n){return arguments.length>1?this.each((n==null?qL:typeof n=="function"?jL:WL)(t,n)):this.node()[t]}function Hx(t){return t.trim().split(/^|\s+/)}function U9(t){return t.classList||new Vx(t)}function Vx(t){this._node=t,this._names=Hx(t.getAttribute("class")||"")}Vx.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Gx(t,n){for(var r=U9(t),s=-1,a=n.length;++s<a;)r.add(n[s])}function qx(t,n){for(var r=U9(t),s=-1,a=n.length;++s<a;)r.remove(n[s])}function YL(t){return function(){Gx(this,t)}}function KL(t){return function(){qx(this,t)}}function JL(t,n){return function(){(n.apply(this,arguments)?Gx:qx)(this,t)}}function ZL(t,n){var r=Hx(t+"");if(arguments.length<2){for(var s=U9(this.node()),a=-1,c=r.length;++a<c;)if(!s.contains(r[a]))return!1;return!0}return this.each((typeof n=="function"?JL:n?YL:KL)(r,n))}function QL(){this.textContent=""}function eD(t){return function(){this.textContent=t}}function tD(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function nD(t){return arguments.length?this.each(t==null?QL:(typeof t=="function"?tD:eD)(t)):this.node().textContent}function rD(){this.innerHTML=""}function iD(t){return function(){this.innerHTML=t}}function sD(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function oD(t){return arguments.length?this.each(t==null?rD:(typeof t=="function"?sD:iD)(t)):this.node().innerHTML}function lD(){this.nextSibling&&this.parentNode.appendChild(this)}function aD(){return this.each(lD)}function uD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cD(){return this.each(uD)}function hD(t){var n=typeof t=="function"?t:p6(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function dD(){return null}function fD(t,n){var r=typeof t=="function"?t:p6(t),s=n==null?dD:typeof n=="function"?n:m6(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),s.apply(this,arguments)||null)})}function pD(){var t=this.parentNode;t&&t.removeChild(this)}function mD(){return this.each(pD)}function gD(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function $D(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function vD(t){return this.select(t?$D:gD)}function bD(t){return arguments.length?this.property("__data__",t):this.node().__data__}function yD(t){return function(n){t.call(this,n,this.__data__)}}function _D(t){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");return s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),{type:n,name:r}})}function TD(t){return function(){var n=this.__on;if(n){for(var r=0,s=-1,a=n.length,c;r<a;++r)c=n[r],(!t.type||c.type===t.type)&&c.name===t.name?this.removeEventListener(c.type,c.listener,c.options):n[++s]=c;++s?n.length=s:delete this.__on}}}function ED(t,n,r){return function(){var s=this.__on,a,c=yD(n);if(s){for(var d=0,m=s.length;d<m;++d)if((a=s[d]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=c,a.options=r),a.value=n;return}}this.addEventListener(t.type,c,r),a={type:t.type,name:t.name,value:n,listener:c,options:r},s?s.push(a):this.__on=[a]}}function wD(t,n,r){var s=_D(t+""),a,c=s.length,d;if(arguments.length<2){var m=this.node().__on;if(m){for(var $=0,v=m.length,_;$<v;++$)for(a=0,_=m[$];a<c;++a)if((d=s[a]).type===_.type&&d.name===_.name)return _.value}return}for(m=n?ED:TD,a=0;a<c;++a)this.each(m(s[a],n,r));return this}function Wx(t,n,r){var s=F9(t),a=s.CustomEvent;typeof a=="function"?a=new a(n,r):(a=s.document.createEvent("Event"),r?(a.initEvent(n,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(n,!1,!1)),t.dispatchEvent(a)}function xD(t,n){return function(){return Wx(this,t,n)}}function SD(t,n){return function(){return Wx(this,t,n.apply(this,arguments))}}function kD(t,n){return this.each((typeof n=="function"?SD:xD)(t,n))}function*CD(){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],a=0,c=s.length,d;a<c;++a)(d=s[a])&&(yield d)}var z9=[null];function ma(t,n){this._groups=t,this._parents=n}function v2(){return new ma([[document.documentElement]],z9)}function AD(){return this}ma.prototype=v2.prototype={constructor:ma,select:nL,selectAll:sL,selectChild:uL,selectChildren:fL,filter:pL,data:yL,enter:mL,exit:TL,join:EL,merge:wL,selection:AD,order:xL,sort:SL,call:CL,nodes:AL,node:IL,size:ML,empty:NL,each:OL,attr:UL,style:GL,property:XL,classed:ZL,text:nD,html:oD,raise:aD,lower:cD,append:hD,insert:fD,remove:mD,clone:vD,datum:bD,on:wD,dispatch:kD,[Symbol.iterator]:CD};function Sh(t){return typeof t=="string"?new ma([[document.querySelector(t)]],[document.documentElement]):new ma([[t]],z9)}function ID(t){return Sh(p6(t).call(document.documentElement))}var MD=0;function jx(){return new kg}function kg(){this._="@"+(++MD).toString(36)}kg.prototype=jx.prototype={constructor:kg,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function Xx(t){let n;for(;n=t.sourceEvent;)t=n;return t}function Eh(t,n){if(t=Xx(t),n===void 0&&(n=t.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var s=r.createSVGPoint();return s.x=t.clientX,s.y=t.clientY,s=s.matrixTransform(n.getScreenCTM().inverse()),[s.x,s.y]}if(n.getBoundingClientRect){var a=n.getBoundingClientRect();return[t.clientX-a.left-n.clientLeft,t.clientY-a.top-n.clientTop]}}return[t.pageX,t.pageY]}function ND(t,n){return t.target&&(t=Xx(t),n===void 0&&(n=t.currentTarget),t=t.touches||[t]),Array.from(t,r=>Eh(r,n))}function OD(t){return typeof t=="string"?new ma([document.querySelectorAll(t)],[document.documentElement]):new ma([Fx(t)],z9)}const RD=Object.freeze(Object.defineProperty({__proto__:null,create:ID,creator:p6,local:jx,matcher:P9,namespace:Mm,namespaces:Sg,pointer:Eh,pointers:ND,select:Sh,selectAll:OD,selection:v2,selector:m6,selectorAll:B9,style:af,window:F9},Symbol.toStringTag,{value:"Module"})),Cg={capture:!0,passive:!1};function Ag(t){t.preventDefault(),t.stopImmediatePropagation()}function LD(t){var n=t.document.documentElement,r=Sh(t).on("dragstart.drag",Ag,Cg);"onselectstart"in n?r.on("selectstart.drag",Ag,Cg):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function DD(t,n){var r=t.document.documentElement,s=Sh(t).on("dragstart.drag",null);n&&(s.on("click.drag",Ag,Cg),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in r?s.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var f2=0,im=0,qp=0,Yx=1e3,N5,sm,O5=0,uf=0,g6=0,$m=typeof performance=="object"&&performance.now?performance:Date,Kx=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function H9(){return uf||(Kx(BD),uf=$m.now()+g6)}function BD(){uf=0}function R5(){this._call=this._time=this._next=null}R5.prototype=Jx.prototype={constructor:R5,restart:function(t,n,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?H9():+r)+(n==null?0:+n),!this._next&&sm!==this&&(sm?sm._next=this:N5=this,sm=this),this._call=t,this._time=r,Ig()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ig())}};function Jx(t,n,r){var s=new R5;return s.restart(t,n,r),s}function PD(){H9(),++f2;for(var t=N5,n;t;)(n=uf-t._time)>=0&&t._call.call(void 0,n),t=t._next;--f2}function Ly(){uf=(O5=$m.now())+g6,f2=im=0;try{PD()}finally{f2=0,UD(),uf=0}}function FD(){var t=$m.now(),n=t-O5;n>Yx&&(g6-=n,O5=t)}function UD(){for(var t,n=N5,r,s=1/0;n;)n._call?(s>n._time&&(s=n._time),t=n,n=n._next):(r=n._next,n._next=null,n=t?t._next=r:N5=r);sm=t,Ig(s)}function Ig(t){if(!f2){im&&(im=clearTimeout(im));var n=t-uf;n>24?(t<1/0&&(im=setTimeout(Ly,t-$m.now()-g6)),qp&&(qp=clearInterval(qp))):(qp||(O5=$m.now(),qp=setInterval(FD,Yx)),f2=1,Kx(Ly))}}function Dy(t,n,r){var s=new R5;return n=n==null?0:+n,s.restart(a=>{s.stop(),t(a+n)},n,r),s}var zD=D9("start","end","cancel","interrupt"),HD=[],Zx=0,By=1,Mg=2,l5=3,Py=4,Ng=5,a5=6;function $6(t,n,r,s,a,c){var d=t.__transition;if(!d)t.__transition={};else if(r in d)return;VD(t,r,{name:n,index:s,group:a,on:zD,tween:HD,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:Zx})}function V9(t,n){var r=Nu(t,n);if(r.state>Zx)throw new Error("too late; already scheduled");return r}function wc(t,n){var r=Nu(t,n);if(r.state>l5)throw new Error("too late; already running");return r}function Nu(t,n){var r=t.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function VD(t,n,r){var s=t.__transition,a;s[n]=r,r.timer=Jx(c,0,r.time);function c(v){r.state=By,r.timer.restart(d,r.delay,r.time),r.delay<=v&&d(v-r.delay)}function d(v){var _,T,S,k;if(r.state!==By)return $();for(_ in s)if(k=s[_],k.name===r.name){if(k.state===l5)return Dy(d);k.state===Py?(k.state=a5,k.timer.stop(),k.on.call("interrupt",t,t.__data__,k.index,k.group),delete s[_]):+_<n&&(k.state=a5,k.timer.stop(),k.on.call("cancel",t,t.__data__,k.index,k.group),delete s[_])}if(Dy(function(){r.state===l5&&(r.state=Py,r.timer.restart(m,r.delay,r.time),m(v))}),r.state=Mg,r.on.call("start",t,t.__data__,r.index,r.group),r.state===Mg){for(r.state=l5,a=new Array(S=r.tween.length),_=0,T=-1;_<S;++_)(k=r.tween[_].value.call(t,t.__data__,r.index,r.group))&&(a[++T]=k);a.length=T+1}}function m(v){for(var _=v<r.duration?r.ease.call(null,v/r.duration):(r.timer.restart($),r.state=Ng,1),T=-1,S=a.length;++T<S;)a[T].call(t,_);r.state===Ng&&(r.on.call("end",t,t.__data__,r.index,r.group),$())}function $(){r.state=a5,r.timer.stop(),delete s[n];for(var v in s)return;delete t.__transition}}function u5(t,n){var r=t.__transition,s,a,c=!0,d;if(r){n=n==null?null:n+"";for(d in r){if((s=r[d]).name!==n){c=!1;continue}a=s.state>Mg&&s.state<Ng,s.state=a5,s.timer.stop(),s.on.call(a?"interrupt":"cancel",t,t.__data__,s.index,s.group),delete r[d]}c&&delete t.__transition}}function GD(t){return this.each(function(){u5(this,t)})}function qD(t,n){var r,s;return function(){var a=wc(this,t),c=a.tween;if(c!==r){s=r=c;for(var d=0,m=s.length;d<m;++d)if(s[d].name===n){s=s.slice(),s.splice(d,1);break}}a.tween=s}}function WD(t,n,r){var s,a;if(typeof r!="function")throw new Error;return function(){var c=wc(this,t),d=c.tween;if(d!==s){a=(s=d).slice();for(var m={name:n,value:r},$=0,v=a.length;$<v;++$)if(a[$].name===n){a[$]=m;break}$===v&&a.push(m)}c.tween=a}}function jD(t,n){var r=this._id;if(t+="",arguments.length<2){for(var s=Nu(this.node(),r).tween,a=0,c=s.length,d;a<c;++a)if((d=s[a]).name===t)return d.value;return null}return this.each((n==null?qD:WD)(r,t,n))}function G9(t,n,r){var s=t._id;return t.each(function(){var a=wc(this,s);(a.value||(a.value={}))[n]=r.apply(this,arguments)}),function(a){return Nu(a,s).value[n]}}function Qx(t,n){var r;return(typeof n=="number"?V0:n instanceof Z1?gm:(r=Z1(n))?(n=r,gm):y9)(t,n)}function XD(t){return function(){this.removeAttribute(t)}}function YD(t){return function(){this.removeAttributeNS(t.space,t.local)}}function KD(t,n,r){var s,a=r+"",c;return function(){var d=this.getAttribute(t);return d===a?null:d===s?c:c=n(s=d,r)}}function JD(t,n,r){var s,a=r+"",c;return function(){var d=this.getAttributeNS(t.space,t.local);return d===a?null:d===s?c:c=n(s=d,r)}}function ZD(t,n,r){var s,a,c;return function(){var d,m=r(this),$;return m==null?void this.removeAttribute(t):(d=this.getAttribute(t),$=m+"",d===$?null:d===s&&$===a?c:(a=$,c=n(s=d,m)))}}function QD(t,n,r){var s,a,c;return function(){var d,m=r(this),$;return m==null?void this.removeAttributeNS(t.space,t.local):(d=this.getAttributeNS(t.space,t.local),$=m+"",d===$?null:d===s&&$===a?c:(a=$,c=n(s=d,m)))}}function eB(t,n){var r=Mm(t),s=r==="transform"?ax:Qx;return this.attrTween(t,typeof n=="function"?(r.local?QD:ZD)(r,s,G9(this,"attr."+t,n)):n==null?(r.local?YD:XD)(r):(r.local?JD:KD)(r,s,n))}function tB(t,n){return function(r){this.setAttribute(t,n.call(this,r))}}function nB(t,n){return function(r){this.setAttributeNS(t.space,t.local,n.call(this,r))}}function rB(t,n){var r,s;function a(){var c=n.apply(this,arguments);return c!==s&&(r=(s=c)&&nB(t,c)),r}return a._value=n,a}function iB(t,n){var r,s;function a(){var c=n.apply(this,arguments);return c!==s&&(r=(s=c)&&tB(t,c)),r}return a._value=n,a}function sB(t,n){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var s=Mm(t);return this.tween(r,(s.local?rB:iB)(s,n))}function oB(t,n){return function(){V9(this,t).delay=+n.apply(this,arguments)}}function lB(t,n){return n=+n,function(){V9(this,t).delay=n}}function aB(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?oB:lB)(n,t)):Nu(this.node(),n).delay}function uB(t,n){return function(){wc(this,t).duration=+n.apply(this,arguments)}}function cB(t,n){return n=+n,function(){wc(this,t).duration=n}}function hB(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?uB:cB)(n,t)):Nu(this.node(),n).duration}function dB(t,n){if(typeof n!="function")throw new Error;return function(){wc(this,t).ease=n}}function fB(t){var n=this._id;return arguments.length?this.each(dB(n,t)):Nu(this.node(),n).ease}function pB(t,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;wc(this,t).ease=r}}function mB(t){if(typeof t!="function")throw new Error;return this.each(pB(this._id,t))}function gB(t){typeof t!="function"&&(t=P9(t));for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a)for(var c=n[a],d=c.length,m=s[a]=[],$,v=0;v<d;++v)($=c[v])&&t.call($,$.__data__,v,c)&&m.push($);return new Rh(s,this._parents,this._name,this._id)}function $B(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,r=t._groups,s=n.length,a=r.length,c=Math.min(s,a),d=new Array(s),m=0;m<c;++m)for(var $=n[m],v=r[m],_=$.length,T=d[m]=new Array(_),S,k=0;k<_;++k)(S=$[k]||v[k])&&(T[k]=S);for(;m<s;++m)d[m]=n[m];return new Rh(d,this._parents,this._name,this._id)}function vB(t){return(t+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function bB(t,n,r){var s,a,c=vB(n)?V9:wc;return function(){var d=c(this,t),m=d.on;m!==s&&(a=(s=m).copy()).on(n,r),d.on=a}}function yB(t,n){var r=this._id;return arguments.length<2?Nu(this.node(),r).on.on(t):this.each(bB(r,t,n))}function _B(t){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==t)return;n&&n.removeChild(this)}}function TB(){return this.on("end.remove",_B(this._id))}function EB(t){var n=this._name,r=this._id;typeof t!="function"&&(t=m6(t));for(var s=this._groups,a=s.length,c=new Array(a),d=0;d<a;++d)for(var m=s[d],$=m.length,v=c[d]=new Array($),_,T,S=0;S<$;++S)(_=m[S])&&(T=t.call(_,_.__data__,S,m))&&("__data__"in _&&(T.__data__=_.__data__),v[S]=T,$6(v[S],n,r,S,v,Nu(_,r)));return new Rh(c,this._parents,n,r)}function wB(t){var n=this._name,r=this._id;typeof t!="function"&&(t=B9(t));for(var s=this._groups,a=s.length,c=[],d=[],m=0;m<a;++m)for(var $=s[m],v=$.length,_,T=0;T<v;++T)if(_=$[T]){for(var S=t.call(_,_.__data__,T,$),k,P=Nu(_,r),G=0,X=S.length;G<X;++G)(k=S[G])&&$6(k,n,r,G,S,P);c.push(S),d.push(_)}return new Rh(c,d,n,r)}var xB=v2.prototype.constructor;function SB(){return new xB(this._groups,this._parents)}function kB(t,n){var r,s,a;return function(){var c=af(this,t),d=(this.style.removeProperty(t),af(this,t));return c===d?null:c===r&&d===s?a:a=n(r=c,s=d)}}function eS(t){return function(){this.style.removeProperty(t)}}function CB(t,n,r){var s,a=r+"",c;return function(){var d=af(this,t);return d===a?null:d===s?c:c=n(s=d,r)}}function AB(t,n,r){var s,a,c;return function(){var d=af(this,t),m=r(this),$=m+"";return m==null&&($=m=(this.style.removeProperty(t),af(this,t))),d===$?null:d===s&&$===a?c:(a=$,c=n(s=d,m))}}function IB(t,n){var r,s,a,c="style."+n,d="end."+c,m;return function(){var $=wc(this,t),v=$.on,_=$.value[c]==null?m||(m=eS(n)):void 0;(v!==r||a!==_)&&(s=(r=v).copy()).on(d,a=_),$.on=s}}function MB(t,n,r){var s=(t+="")=="transform"?lx:Qx;return n==null?this.styleTween(t,kB(t,s)).on("end.style."+t,eS(t)):typeof n=="function"?this.styleTween(t,AB(t,s,G9(this,"style."+t,n))).each(IB(this._id,t)):this.styleTween(t,CB(t,s,n),r).on("end.style."+t,null)}function NB(t,n,r){return function(s){this.style.setProperty(t,n.call(this,s),r)}}function OB(t,n,r){var s,a;function c(){var d=n.apply(this,arguments);return d!==a&&(s=(a=d)&&NB(t,d,r)),s}return c._value=n,c}function RB(t,n,r){var s="style."+(t+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(n==null)return this.tween(s,null);if(typeof n!="function")throw new Error;return this.tween(s,OB(t,n,r??""))}function LB(t){return function(){this.textContent=t}}function DB(t){return function(){var n=t(this);this.textContent=n??""}}function BB(t){return this.tween("text",typeof t=="function"?DB(G9(this,"text",t)):LB(t==null?"":t+""))}function PB(t){return function(n){this.textContent=t.call(this,n)}}function FB(t){var n,r;function s(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&PB(a)),n}return s._value=t,s}function UB(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,FB(t))}function zB(){for(var t=this._name,n=this._id,r=tS(),s=this._groups,a=s.length,c=0;c<a;++c)for(var d=s[c],m=d.length,$,v=0;v<m;++v)if($=d[v]){var _=Nu($,n);$6($,t,r,v,d,{time:_.time+_.delay+_.duration,delay:0,duration:_.duration,ease:_.ease})}return new Rh(s,this._parents,t,r)}function HB(){var t,n,r=this,s=r._id,a=r.size();return new Promise(function(c,d){var m={value:d},$={value:function(){--a===0&&c()}};r.each(function(){var v=wc(this,s),_=v.on;_!==t&&(n=(t=_).copy(),n._.cancel.push(m),n._.interrupt.push(m),n._.end.push($)),v.on=n}),a===0&&c()})}var VB=0;function Rh(t,n,r,s){this._groups=t,this._parents=n,this._name=r,this._id=s}function tS(){return++VB}var bh=v2.prototype;Rh.prototype={constructor:Rh,select:EB,selectAll:wB,selectChild:bh.selectChild,selectChildren:bh.selectChildren,filter:gB,merge:$B,selection:SB,transition:zB,call:bh.call,nodes:bh.nodes,node:bh.node,size:bh.size,empty:bh.empty,each:bh.each,on:yB,attr:eB,attrTween:sB,style:MB,styleTween:RB,text:BB,textTween:UB,remove:TB,tween:jD,delay:aB,duration:hB,ease:fB,easeVarying:mB,end:HB,[Symbol.iterator]:bh[Symbol.iterator]};function GB(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var qB={time:null,delay:0,duration:250,ease:GB};function WB(t,n){for(var r;!(r=t.__transition)||!(r=r[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return r}function jB(t){var n,r;t instanceof Rh?(n=t._id,t=t._name):(n=tS(),(r=qB).time=H9(),t=t==null?null:t+"");for(var s=this._groups,a=s.length,c=0;c<a;++c)for(var d=s[c],m=d.length,$,v=0;v<m;++v)($=d[v])&&$6($,t,n,v,d,r||WB($,n));return new Rh(s,this._parents,t,n)}v2.prototype.interrupt=GD;v2.prototype.transition=jB;const C3=t=>()=>t;function XB(t,{sourceEvent:n,target:r,transform:s,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:a}})}function yc(t,n,r){this.k=t,this.x=n,this.y=r}yc.prototype={constructor:yc,scale:function(t){return t===1?this:new yc(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new yc(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var v6=new yc(1,0,0);nS.prototype=yc.prototype;function nS(t){for(;!t.__zoom;)if(!(t=t.parentNode))return v6;return t.__zoom}function z7(t){t.stopImmediatePropagation()}function Wp(t){t.preventDefault(),t.stopImmediatePropagation()}function YB(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function KB(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Fy(){return this.__zoom||v6}function JB(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ZB(){return navigator.maxTouchPoints||"ontouchstart"in this}function QB(t,n,r){var s=t.invertX(n[0][0])-r[0][0],a=t.invertX(n[1][0])-r[1][0],c=t.invertY(n[0][1])-r[0][1],d=t.invertY(n[1][1])-r[1][1];return t.translate(a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a),d>c?(c+d)/2:Math.min(0,c)||Math.max(0,d))}function eP(){var t=YB,n=KB,r=QB,s=JB,a=ZB,c=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],m=250,$=ux,v=D9("start","zoom","end"),_,T,S,k=500,P=150,G=0,X=10;function R(Oe){Oe.property("__zoom",Fy).on("wheel.zoom",Ie,{passive:!1}).on("mousedown.zoom",De).on("dblclick.zoom",Ue).filter(a).on("touchstart.zoom",it).on("touchmove.zoom",ze).on("touchend.zoom touchcancel.zoom",dt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}R.transform=function(Oe,rt,Pe,nt){var ot=Oe.selection?Oe.selection():Oe;ot.property("__zoom",Fy),Oe!==ot?se(Oe,rt,Pe,nt):ot.interrupt().each(function(){Y(this,arguments).event(nt).start().zoom(null,typeof rt=="function"?rt.apply(this,arguments):rt).end()})},R.scaleBy=function(Oe,rt,Pe,nt){R.scaleTo(Oe,function(){var ot=this.__zoom.k,Lt=typeof rt=="function"?rt.apply(this,arguments):rt;return ot*Lt},Pe,nt)},R.scaleTo=function(Oe,rt,Pe,nt){R.transform(Oe,function(){var ot=n.apply(this,arguments),Lt=this.__zoom,de=Pe==null?ie(ot):typeof Pe=="function"?Pe.apply(this,arguments):Pe,Fe=Lt.invert(de),et=typeof rt=="function"?rt.apply(this,arguments):rt;return r(te(W(Lt,et),de,Fe),ot,d)},Pe,nt)},R.translateBy=function(Oe,rt,Pe,nt){R.transform(Oe,function(){return r(this.__zoom.translate(typeof rt=="function"?rt.apply(this,arguments):rt,typeof Pe=="function"?Pe.apply(this,arguments):Pe),n.apply(this,arguments),d)},null,nt)},R.translateTo=function(Oe,rt,Pe,nt,ot){R.transform(Oe,function(){var Lt=n.apply(this,arguments),de=this.__zoom,Fe=nt==null?ie(Lt):typeof nt=="function"?nt.apply(this,arguments):nt;return r(v6.translate(Fe[0],Fe[1]).scale(de.k).translate(typeof rt=="function"?-rt.apply(this,arguments):-rt,typeof Pe=="function"?-Pe.apply(this,arguments):-Pe),Lt,d)},nt,ot)};function W(Oe,rt){return rt=Math.max(c[0],Math.min(c[1],rt)),rt===Oe.k?Oe:new yc(rt,Oe.x,Oe.y)}function te(Oe,rt,Pe){var nt=rt[0]-Pe[0]*Oe.k,ot=rt[1]-Pe[1]*Oe.k;return nt===Oe.x&&ot===Oe.y?Oe:new yc(Oe.k,nt,ot)}function ie(Oe){return[(+Oe[0][0]+ +Oe[1][0])/2,(+Oe[0][1]+ +Oe[1][1])/2]}function se(Oe,rt,Pe,nt){Oe.on("start.zoom",function(){Y(this,arguments).event(nt).start()}).on("interrupt.zoom end.zoom",function(){Y(this,arguments).event(nt).end()}).tween("zoom",function(){var ot=this,Lt=arguments,de=Y(ot,Lt).event(nt),Fe=n.apply(ot,Lt),et=Pe==null?ie(Fe):typeof Pe=="function"?Pe.apply(ot,Lt):Pe,_e=Math.max(Fe[1][0]-Fe[0][0],Fe[1][1]-Fe[0][1]),Ct=ot.__zoom,$t=typeof rt=="function"?rt.apply(ot,Lt):rt,qt=$(Ct.invert(et).concat(_e/Ct.k),$t.invert(et).concat(_e/$t.k));return function(ln){if(ln===1)ln=$t;else{var En=qt(ln),St=_e/En[2];ln=new yc(St,et[0]-En[0]*St,et[1]-En[1]*St)}de.zoom(null,ln)}})}function Y(Oe,rt,Pe){return!Pe&&Oe.__zooming||new fe(Oe,rt)}function fe(Oe,rt){this.that=Oe,this.args=rt,this.active=0,this.sourceEvent=null,this.extent=n.apply(Oe,rt),this.taps=0}fe.prototype={event:function(Oe){return Oe&&(this.sourceEvent=Oe),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Oe,rt){return this.mouse&&Oe!=="mouse"&&(this.mouse[1]=rt.invert(this.mouse[0])),this.touch0&&Oe!=="touch"&&(this.touch0[1]=rt.invert(this.touch0[0])),this.touch1&&Oe!=="touch"&&(this.touch1[1]=rt.invert(this.touch1[0])),this.that.__zoom=rt,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Oe){var rt=Sh(this.that).datum();v.call(Oe,this.that,new XB(Oe,{sourceEvent:this.sourceEvent,target:R,transform:this.that.__zoom,dispatch:v}),rt)}};function Ie(Oe,...rt){if(!t.apply(this,arguments))return;var Pe=Y(this,rt).event(Oe),nt=this.__zoom,ot=Math.max(c[0],Math.min(c[1],nt.k*Math.pow(2,s.apply(this,arguments)))),Lt=Eh(Oe);if(Pe.wheel)(Pe.mouse[0][0]!==Lt[0]||Pe.mouse[0][1]!==Lt[1])&&(Pe.mouse[1]=nt.invert(Pe.mouse[0]=Lt)),clearTimeout(Pe.wheel);else{if(nt.k===ot)return;Pe.mouse=[Lt,nt.invert(Lt)],u5(this),Pe.start()}Wp(Oe),Pe.wheel=setTimeout(de,P),Pe.zoom("mouse",r(te(W(nt,ot),Pe.mouse[0],Pe.mouse[1]),Pe.extent,d));function de(){Pe.wheel=null,Pe.end()}}function De(Oe,...rt){if(S||!t.apply(this,arguments))return;var Pe=Oe.currentTarget,nt=Y(this,rt,!0).event(Oe),ot=Sh(Oe.view).on("mousemove.zoom",et,!0).on("mouseup.zoom",_e,!0),Lt=Eh(Oe,Pe),de=Oe.clientX,Fe=Oe.clientY;LD(Oe.view),z7(Oe),nt.mouse=[Lt,this.__zoom.invert(Lt)],u5(this),nt.start();function et(Ct){if(Wp(Ct),!nt.moved){var $t=Ct.clientX-de,qt=Ct.clientY-Fe;nt.moved=$t*$t+qt*qt>G}nt.event(Ct).zoom("mouse",r(te(nt.that.__zoom,nt.mouse[0]=Eh(Ct,Pe),nt.mouse[1]),nt.extent,d))}function _e(Ct){ot.on("mousemove.zoom mouseup.zoom",null),DD(Ct.view,nt.moved),Wp(Ct),nt.event(Ct).end()}}function Ue(Oe,...rt){if(t.apply(this,arguments)){var Pe=this.__zoom,nt=Eh(Oe.changedTouches?Oe.changedTouches[0]:Oe,this),ot=Pe.invert(nt),Lt=Pe.k*(Oe.shiftKey?.5:2),de=r(te(W(Pe,Lt),nt,ot),n.apply(this,rt),d);Wp(Oe),m>0?Sh(this).transition().duration(m).call(se,de,nt,Oe):Sh(this).call(R.transform,de,nt,Oe)}}function it(Oe,...rt){if(t.apply(this,arguments)){var Pe=Oe.touches,nt=Pe.length,ot=Y(this,rt,Oe.changedTouches.length===nt).event(Oe),Lt,de,Fe,et;for(z7(Oe),de=0;de<nt;++de)Fe=Pe[de],et=Eh(Fe,this),et=[et,this.__zoom.invert(et),Fe.identifier],ot.touch0?!ot.touch1&&ot.touch0[2]!==et[2]&&(ot.touch1=et,ot.taps=0):(ot.touch0=et,Lt=!0,ot.taps=1+!!_);_&&(_=clearTimeout(_)),Lt&&(ot.taps<2&&(T=et[0],_=setTimeout(function(){_=null},k)),u5(this),ot.start())}}function ze(Oe,...rt){if(this.__zooming){var Pe=Y(this,rt).event(Oe),nt=Oe.changedTouches,ot=nt.length,Lt,de,Fe,et;for(Wp(Oe),Lt=0;Lt<ot;++Lt)de=nt[Lt],Fe=Eh(de,this),Pe.touch0&&Pe.touch0[2]===de.identifier?Pe.touch0[0]=Fe:Pe.touch1&&Pe.touch1[2]===de.identifier&&(Pe.touch1[0]=Fe);if(de=Pe.that.__zoom,Pe.touch1){var _e=Pe.touch0[0],Ct=Pe.touch0[1],$t=Pe.touch1[0],qt=Pe.touch1[1],ln=(ln=$t[0]-_e[0])*ln+(ln=$t[1]-_e[1])*ln,En=(En=qt[0]-Ct[0])*En+(En=qt[1]-Ct[1])*En;de=W(de,Math.sqrt(ln/En)),Fe=[(_e[0]+$t[0])/2,(_e[1]+$t[1])/2],et=[(Ct[0]+qt[0])/2,(Ct[1]+qt[1])/2]}else if(Pe.touch0)Fe=Pe.touch0[0],et=Pe.touch0[1];else return;Pe.zoom("touch",r(te(de,Fe,et),Pe.extent,d))}}function dt(Oe,...rt){if(this.__zooming){var Pe=Y(this,rt).event(Oe),nt=Oe.changedTouches,ot=nt.length,Lt,de;for(z7(Oe),S&&clearTimeout(S),S=setTimeout(function(){S=null},k),Lt=0;Lt<ot;++Lt)de=nt[Lt],Pe.touch0&&Pe.touch0[2]===de.identifier?delete Pe.touch0:Pe.touch1&&Pe.touch1[2]===de.identifier&&delete Pe.touch1;if(Pe.touch1&&!Pe.touch0&&(Pe.touch0=Pe.touch1,delete Pe.touch1),Pe.touch0)Pe.touch0[1]=this.__zoom.invert(Pe.touch0[0]);else if(Pe.end(),Pe.taps===2&&(de=Eh(de,this),Math.hypot(T[0]-de[0],T[1]-de[1])<X)){var Fe=Sh(this).on("dblclick.zoom");Fe&&Fe.apply(this,arguments)}}}return R.wheelDelta=function(Oe){return arguments.length?(s=typeof Oe=="function"?Oe:C3(+Oe),R):s},R.filter=function(Oe){return arguments.length?(t=typeof Oe=="function"?Oe:C3(!!Oe),R):t},R.touchable=function(Oe){return arguments.length?(a=typeof Oe=="function"?Oe:C3(!!Oe),R):a},R.extent=function(Oe){return arguments.length?(n=typeof Oe=="function"?Oe:C3([[+Oe[0][0],+Oe[0][1]],[+Oe[1][0],+Oe[1][1]]]),R):n},R.scaleExtent=function(Oe){return arguments.length?(c[0]=+Oe[0],c[1]=+Oe[1],R):[c[0],c[1]]},R.translateExtent=function(Oe){return arguments.length?(d[0][0]=+Oe[0][0],d[1][0]=+Oe[1][0],d[0][1]=+Oe[0][1],d[1][1]=+Oe[1][1],R):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},R.constrain=function(Oe){return arguments.length?(r=Oe,R):r},R.duration=function(Oe){return arguments.length?(m=+Oe,R):m},R.interpolate=function(Oe){return arguments.length?($=Oe,R):$},R.on=function(){var Oe=v.on.apply(v,arguments);return Oe===v?R:Oe},R.clickDistance=function(Oe){return arguments.length?(G=(Oe=+Oe)*Oe,R):Math.sqrt(G)},R.tapDistance=function(Oe){return arguments.length?(X=+Oe,R):X},R}const tP=Object.freeze(Object.defineProperty({__proto__:null,ZoomTransform:yc,zoom:eP,zoomIdentity:v6,zoomTransform:nS},Symbol.toStringTag,{value:"Module"})),nP=Ph(tP),xc=Ph(RD),rP=Ph(rO);var A3={exports:{}},Uy;function iP(){if(Uy)return A3.exports;Uy=1;var t=typeof Reflect=="object"?Reflect:null,n=t&&typeof t.apply=="function"?t.apply:function(se,Y,fe){return Function.prototype.apply.call(se,Y,fe)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(se){return Object.getOwnPropertyNames(se).concat(Object.getOwnPropertySymbols(se))}:r=function(se){return Object.getOwnPropertyNames(se)};function s(ie){console&&console.warn&&console.warn(ie)}var a=Number.isNaN||function(se){return se!==se};function c(){c.init.call(this)}A3.exports=c,A3.exports.once=R,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var d=10;function m(ie){if(typeof ie!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ie)}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(ie){if(typeof ie!="number"||ie<0||a(ie))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ie+".");d=ie}}),c.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(se){if(typeof se!="number"||se<0||a(se))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+se+".");return this._maxListeners=se,this};function $(ie){return ie._maxListeners===void 0?c.defaultMaxListeners:ie._maxListeners}c.prototype.getMaxListeners=function(){return $(this)},c.prototype.emit=function(se){for(var Y=[],fe=1;fe<arguments.length;fe++)Y.push(arguments[fe]);var Ie=se==="error",De=this._events;if(De!==void 0)Ie=Ie&&De.error===void 0;else if(!Ie)return!1;if(Ie){var Ue;if(Y.length>0&&(Ue=Y[0]),Ue instanceof Error)throw Ue;var it=new Error("Unhandled error."+(Ue?" ("+Ue.message+")":""));throw it.context=Ue,it}var ze=De[se];if(ze===void 0)return!1;if(typeof ze=="function")n(ze,this,Y);else for(var dt=ze.length,Oe=P(ze,dt),fe=0;fe<dt;++fe)n(Oe[fe],this,Y);return!0};function v(ie,se,Y,fe){var Ie,De,Ue;if(m(Y),De=ie._events,De===void 0?(De=ie._events=Object.create(null),ie._eventsCount=0):(De.newListener!==void 0&&(ie.emit("newListener",se,Y.listener?Y.listener:Y),De=ie._events),Ue=De[se]),Ue===void 0)Ue=De[se]=Y,++ie._eventsCount;else if(typeof Ue=="function"?Ue=De[se]=fe?[Y,Ue]:[Ue,Y]:fe?Ue.unshift(Y):Ue.push(Y),Ie=$(ie),Ie>0&&Ue.length>Ie&&!Ue.warned){Ue.warned=!0;var it=new Error("Possible EventEmitter memory leak detected. "+Ue.length+" "+String(se)+" listeners added. Use emitter.setMaxListeners() to increase limit");it.name="MaxListenersExceededWarning",it.emitter=ie,it.type=se,it.count=Ue.length,s(it)}return ie}c.prototype.addListener=function(se,Y){return v(this,se,Y,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(se,Y){return v(this,se,Y,!0)};function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function T(ie,se,Y){var fe={fired:!1,wrapFn:void 0,target:ie,type:se,listener:Y},Ie=_.bind(fe);return Ie.listener=Y,fe.wrapFn=Ie,Ie}c.prototype.once=function(se,Y){return m(Y),this.on(se,T(this,se,Y)),this},c.prototype.prependOnceListener=function(se,Y){return m(Y),this.prependListener(se,T(this,se,Y)),this},c.prototype.removeListener=function(se,Y){var fe,Ie,De,Ue,it;if(m(Y),Ie=this._events,Ie===void 0)return this;if(fe=Ie[se],fe===void 0)return this;if(fe===Y||fe.listener===Y)--this._eventsCount===0?this._events=Object.create(null):(delete Ie[se],Ie.removeListener&&this.emit("removeListener",se,fe.listener||Y));else if(typeof fe!="function"){for(De=-1,Ue=fe.length-1;Ue>=0;Ue--)if(fe[Ue]===Y||fe[Ue].listener===Y){it=fe[Ue].listener,De=Ue;break}if(De<0)return this;De===0?fe.shift():G(fe,De),fe.length===1&&(Ie[se]=fe[0]),Ie.removeListener!==void 0&&this.emit("removeListener",se,it||Y)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(se){var Y,fe,Ie;if(fe=this._events,fe===void 0)return this;if(fe.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):fe[se]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete fe[se]),this;if(arguments.length===0){var De=Object.keys(fe),Ue;for(Ie=0;Ie<De.length;++Ie)Ue=De[Ie],Ue!=="removeListener"&&this.removeAllListeners(Ue);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Y=fe[se],typeof Y=="function")this.removeListener(se,Y);else if(Y!==void 0)for(Ie=Y.length-1;Ie>=0;Ie--)this.removeListener(se,Y[Ie]);return this};function S(ie,se,Y){var fe=ie._events;if(fe===void 0)return[];var Ie=fe[se];return Ie===void 0?[]:typeof Ie=="function"?Y?[Ie.listener||Ie]:[Ie]:Y?X(Ie):P(Ie,Ie.length)}c.prototype.listeners=function(se){return S(this,se,!0)},c.prototype.rawListeners=function(se){return S(this,se,!1)},c.listenerCount=function(ie,se){return typeof ie.listenerCount=="function"?ie.listenerCount(se):k.call(ie,se)},c.prototype.listenerCount=k;function k(ie){var se=this._events;if(se!==void 0){var Y=se[ie];if(typeof Y=="function")return 1;if(Y!==void 0)return Y.length}return 0}c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function P(ie,se){for(var Y=new Array(se),fe=0;fe<se;++fe)Y[fe]=ie[fe];return Y}function G(ie,se){for(;se+1<ie.length;se++)ie[se]=ie[se+1];ie.pop()}function X(ie){for(var se=new Array(ie.length),Y=0;Y<se.length;++Y)se[Y]=ie[Y].listener||ie[Y];return se}function R(ie,se){return new Promise(function(Y,fe){function Ie(Ue){ie.removeListener(se,De),fe(Ue)}function De(){typeof ie.removeListener=="function"&&ie.removeListener("error",Ie),Y([].slice.call(arguments))}te(ie,se,De,{once:!0}),se!=="error"&&W(ie,Ie,{once:!0})})}function W(ie,se,Y){typeof ie.on=="function"&&te(ie,"error",se,Y)}function te(ie,se,Y,fe){if(typeof ie.on=="function")fe.once?ie.once(se,Y):ie.on(se,Y);else if(typeof ie.addEventListener=="function")ie.addEventListener(se,function Ie(De){fe.once&&ie.removeEventListener(se,Ie),Y(De)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ie)}return A3.exports}var I3={},zy;function sP(){if(zy)return I3;zy=1,Object.defineProperty(I3,"__esModule",{value:!0});const t=e6,n=xc;function r(s){const a=s.owner.meta.xScale,c=s.owner.meta.yScale,d=(0,t.line)().x(function(m){return m[0]}).y(function(m){return m[1]});return function(m){m.each(function(){const v=(0,n.select)(this).selectAll("g.annotations").data(function(R){return R.annotations||[]}),_=v.enter().append("g").attr("class","annotations"),T=c.range(),S=a.range(),k=v.merge(_).selectAll("path").data(function(R){return"x"in R?[[[0,T[0]],[0,T[1]]]]:[[[S[0],0],[S[1],0]]]}),P=k.enter().append("path");k.merge(P).attr("stroke","#eee").attr("d",d),k.exit().remove();const G=v.merge(_).selectAll("text").data(function(R){return[{text:R.text||"",hasX:"x"in R}]}),X=G.enter().append("text");G.merge(X).text(function(R){return R.text}).attr("y",function(R){return R.hasX?3:0}).attr("x",function(R){return R.hasX?0:3}).attr("dy",function(R){return R.hasX?5:-5}).attr("text-anchor",function(R){return R.hasX?"end":""}).attr("transform",function(R){return R.hasX?"rotate(-90)":""}),G.exit().remove(),v.merge(_).attr("transform",function(R){return"x"in R?"translate("+a(R.x)+", 0)":"translate(0, "+c(R.y)+")"}),v.exit().remove()})}}return I3.default=r,I3}var P4={},F4={},U4={};const q9=Ph(RN);var Hy;function Nm(){if(Hy)return U4;Hy=1,Object.defineProperty(U4,"__esModule",{value:!0}),U4.registerGraphType=void 0;const t=q9,n={COLORS:["steelblue","red","#05b378","orange","#4040e8","yellow","brown","magenta","cyan"].map(function(s){return(0,t.hsl)(s)}),DEFAULT_WIDTH:550,DEFAULT_HEIGHT:350,DEFAULT_ITERATIONS:null,TIP_X_EPS:1,MAX_ITERATIONS:0,graphTypes:{}};n.MAX_ITERATIONS=n.DEFAULT_WIDTH*10;function r(s,a){if(Object.hasOwn(n.graphTypes,s))throw new Error(`registerGraphType: graphType ${s} is already registered.`);n.graphTypes[s]=a}return U4.registerGraphType=r,U4.default=n,U4}var Vy;function Uh(){if(Vy)return F4;Vy=1;var t=F4&&F4.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(F4,"__esModule",{value:!0});const n=t(Nm()),r={linspace:function(s,a,c){const d=(a-s)/(c-1);return Array.from({length:c},(m,$)=>s+d*$)},logspace:function(s,a,c){return this.linspace(s,a,c).map(d=>Math.pow(10,d))},isValidNumber:function(s){return typeof s=="number"&&!isNaN(s)},space:function(s,a,c){const d=a[0],m=a[1];return s.type==="log"?this.logspace(Math.log10(d),Math.log10(m),c):this.linspace(d,m,c)},getterSetter:function(s,a){const c=this;this[a]=function(d){return arguments.length?(s[a]=d,c):s[a]}},sgn:function(s){return s<0?-1:s>0?1:0},clamp:function(s,a,c){return s<a?a:s>c?c:s},color:function(s,a){const c=a%n.default.COLORS.length;return s.color||n.default.COLORS[c].hex()},infinity:function(){return 9007199254740991}};return F4.default=r,F4}var yh={},M3={exports:{}},jp={},H7,Gy;function rS(){return Gy||(Gy=1,H7={EOF:0,DELIMITER:1,NUMBER:2,STRING:3,SYMBOL:4}),H7}var V7,qy;function iS(){if(qy)return V7;qy=1;var t=rS(),n={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},r={",":!0,"(":!0,")":!0,"[":!0,"]":!0,";":!0,"~":!0,"!":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0,"^":!0,"**":!0,"|":!0,"&":!0,"^|":!0,"=":!0,":":!0,"?":!0,"||":!0,"&&":!0,xor:!0,"==":!0,"!=":!0,"===":!0,"!==":!0,"<":!0,">":!0,">=":!0,"<=":!0,">>>":!0,"<<":!0,">>":!0};function s(v){return v>="0"&&v<="9"}function a(v){return v>="a"&&v<="z"||v>="A"&&v<="Z"||v==="$"||v==="_"}function c(v){return v===" "||v==="\r"||v==="	"||v===`
`||v==="\v"||v===""}function d(v){return r[v]}function m(v){return v==="'"||v==='"'}function $(){}return $.prototype.throwError=function(v,_){_=typeof _>"u"?this.index:_;var T=new Error(v+" at index "+_);throw T.index=_,T.description=v,T},$.prototype.lex=function(v){for(this.text=v,this.index=0,this.tokens=[];this.index<this.text.length;){for(;c(this.peek());)this.consume();var _=this.peek(),T=_+this.peek(1),S=T+this.peek(2);d(S)?(this.tokens.push({type:t.DELIMITER,value:S}),this.consume(),this.consume(),this.consume()):d(T)?(this.tokens.push({type:t.DELIMITER,value:T}),this.consume(),this.consume()):d(_)?(this.tokens.push({type:t.DELIMITER,value:_}),this.consume()):s(_)||_==="."&&s(this.peek(1))?this.tokens.push({type:t.NUMBER,value:this.readNumber()}):m(_)?this.tokens.push({type:t.STRING,value:this.readString()}):a(_)?this.tokens.push({type:t.SYMBOL,value:this.readIdentifier()}):this.throwError("unexpected character "+_)}return this.tokens.push({type:t.EOF}),this.tokens},$.prototype.peek=function(v){if(v=v||0,!(this.index+v>=this.text.length))return this.text.charAt(this.index+v)},$.prototype.consume=function(){var v=this.peek();return this.index+=1,v},$.prototype.readNumber=function(){var v="";if(this.peek()===".")v+=this.consume(),s(this.peek())||this.throwError("number expected");else{for(;s(this.peek());)v+=this.consume();this.peek()==="."&&(v+=this.consume())}for(;s(this.peek());)v+=this.consume();if(this.peek()==="e"||this.peek()==="E")for(v+=this.consume(),s(this.peek())||this.peek()==="+"||this.peek()==="-"||this.throwError(),(this.peek()==="+"||this.peek()==="-")&&(v+=this.consume()),s(this.peek())||this.throwError("number expected");s(this.peek());)v+=this.consume();return v},$.prototype.readIdentifier=function(){for(var v="";a(this.peek())||s(this.peek());)v+=this.consume();return v},$.prototype.readString=function(){for(var v=this.consume(),_="",T;;){var S=this.consume();if(S||this.throwError("string is not closed"),T){if(S==="u"){var k=this.text.substring(this.index+1,this.index+5);k.match(/[\da-f]{4}/i)||this.throwError("invalid unicode escape"),this.index+=4,_+=String.fromCharCode(parseInt(k,16))}else{var P=n[S];P?_+=P:_+=S}T=!1}else{if(S===v)break;S==="\\"?T=!0:_+=S}}return _},V7=$,V7}var G7,Wy;function Sc(){if(Wy)return G7;Wy=1;function t(){}return t.prototype.type="Node",G7=t,G7}var q7,jy;function sS(){if(jy)return q7;jy=1;var t=Sc(),n={number:!0,string:!0,boolean:!0,undefined:!0,null:!0};function r(s,a){if(!n[a])throw Error("unsupported type '"+a+"'");this.value=s,this.valueType=a}return r.prototype=Object.create(t.prototype),r.prototype.type="ConstantNode",q7=r,q7}var W7,Xy;function oS(){if(Xy)return W7;Xy=1;var t=Sc();function n(r,s){this.op=r,this.args=s||[]}return n.prototype=Object.create(t.prototype),n.prototype.type="OperatorNode",W7=n,W7}var j7,Yy;function lS(){if(Yy)return j7;Yy=1;var t=Sc();function n(r,s){this.op=r,this.argument=s}return n.prototype=Object.create(t.prototype),n.prototype.type="UnaryNode",j7=n,j7}var X7,Ky;function aS(){if(Ky)return X7;Ky=1;var t=Sc();function n(r){this.name=r}return n.prototype=Object.create(t.prototype),n.prototype.type="SymbolNode",X7=n,X7}var Y7,Jy;function uS(){if(Jy)return Y7;Jy=1;var t=Sc();function n(r,s){this.name=r,this.args=s}return n.prototype=Object.create(t.prototype),n.prototype.type="FunctionNode",Y7=n,Y7}var K7,Zy;function cS(){if(Zy)return K7;Zy=1;var t=Sc();function n(r){this.nodes=r}return n.prototype=Object.create(t.prototype),n.prototype.type="ArrayNode",K7=n,K7}var J7,Qy;function hS(){if(Qy)return J7;Qy=1;var t=Sc();function n(r,s,a){this.condition=r,this.trueExpr=s,this.falseExpr=a}return n.prototype=Object.create(t.prototype),n.prototype.type="ConditionalNode",J7=n,J7}var Z7,e_;function dS(){if(e_)return Z7;e_=1;var t=Sc();function n(r,s){this.name=r,this.expr=s}return n.prototype=Object.create(t.prototype),n.prototype.type="AssignmentNode",Z7=n,Z7}var Q7,t_;function fS(){if(t_)return Q7;t_=1;var t=Sc();function n(r){this.blocks=r}return n.prototype=Object.create(t.prototype),n.prototype.type="BlockNode",Q7=n,Q7}var e8,n_;function oP(){if(n_)return e8;n_=1;var t=rS(),n=iS(),r=sS(),s=oS(),a=lS(),c=aS(),d=uS(),m=cS(),$=hS(),v=dS(),_=fS();function T(){this.lexer=new n,this.tokens=null}return T.prototype.current=function(){return this.tokens[0]},T.prototype.next=function(){return this.tokens[1]},T.prototype.peek=function(){if(this.tokens.length){for(var S=this.tokens[0],k=0;k<arguments.length;k+=1)if(S.value===arguments[k])return!0}},T.prototype.consume=function(S){return this.tokens.shift()},T.prototype.expect=function(S){if(!this.peek(S))throw Error("expected "+S);return this.consume()},T.prototype.isEOF=function(){return this.current().type===t.EOF},T.prototype.parse=function(S){return this.tokens=this.lexer.lex(S),this.program()},T.prototype.program=function(){for(var S=[];!this.isEOF();)S.push(this.assignment()),this.peek(";")&&this.consume();return this.end(),new _(S)},T.prototype.assignment=function(){var S=this.ternary();return S instanceof c&&this.peek("=")?(this.consume(),new v(S.name,this.assignment())):S},T.prototype.ternary=function(){var S=this.logicalOR();if(this.peek("?")){this.consume();var k=this.ternary();this.expect(":");var P=this.ternary();return new $(S,k,P)}return S},T.prototype.logicalOR=function(){var S=this.logicalXOR();if(this.peek("||")){var k=this.consume(),P=this.logicalOR();return new s(k.value,[S,P])}return S},T.prototype.logicalXOR=function(){var S=this.logicalAND();if(this.current().value==="xor"){var k=this.consume(),P=this.logicalXOR();return new s(k.value,[S,P])}return S},T.prototype.logicalAND=function(){var S=this.bitwiseOR();if(this.peek("&&")){var k=this.consume(),P=this.logicalAND();return new s(k.value,[S,P])}return S},T.prototype.bitwiseOR=function(){var S=this.bitwiseXOR();if(this.peek("|")){var k=this.consume(),P=this.bitwiseOR();return new s(k.value,[S,P])}return S},T.prototype.bitwiseXOR=function(){var S=this.bitwiseAND();if(this.peek("^|")){var k=this.consume(),P=this.bitwiseXOR();return new s(k.value,[S,P])}return S},T.prototype.bitwiseAND=function(){var S=this.relational();if(this.peek("&")){var k=this.consume(),P=this.bitwiseAND();return new s(k.value,[S,P])}return S},T.prototype.relational=function(){var S=this.shift();if(this.peek("==","===","!=","!==",">=","<=",">","<")){var k=this.consume(),P=this.shift();return new s(k.value,[S,P])}return S},T.prototype.shift=function(){var S=this.additive();if(this.peek(">>","<<",">>>")){var k=this.consume(),P=this.shift();return new s(k.value,[S,P])}return S},T.prototype.additive=function(){for(var S=this.multiplicative();this.peek("+","-");){var k=this.consume();S=new s(k.value,[S,this.multiplicative()])}return S},T.prototype.multiplicative=function(){for(var S,k,P=this.unary();this.peek("*","/","%");)S=this.consume(),P=new s(S.value,[P,this.unary()]);return this.current().type===t.SYMBOL||this.peek("(")||!(P.type instanceof r)&&this.current().type===t.NUMBER?(k=this.multiplicative(),new s("*",[P,k])):P},T.prototype.unary=function(){if(this.peek("-","+","~")){var S=this.consume(),k=this.unary();return new a(S.value,k)}return this.pow()},T.prototype.pow=function(){var S=this.factorial();if(this.peek("^","**")){var k=this.consume(),P=this.unary();return new s(k.value,[S,P])}return S},T.prototype.factorial=function(){var S=this.symbol();if(this.peek("!")){var k=this.consume();return new s(k.value,[S])}return S},T.prototype.symbol=function(){var S=this.current();if(S.type===t.SYMBOL){var k=this.consume(),P=this.functionCall(k);return P}return this.string()},T.prototype.functionCall=function(S){var k=S.value;if(this.peek("(")){this.consume();for(var P=[];!this.peek(")")&&!this.isEOF();)P.push(this.assignment()),this.peek(",")&&this.consume();return this.expect(")"),new d(k,P)}return new c(k)},T.prototype.string=function(){return this.current().type===t.STRING?new r(this.consume().value,"string"):this.array()},T.prototype.array=function(){if(this.peek("[")){this.consume();for(var S=[];!this.peek("]")&&!this.isEOF();)S.push(this.assignment()),this.peek(",")&&this.consume();return this.expect("]"),new m(S)}return this.number()},T.prototype.number=function(){var S=this.current();return S.type===t.NUMBER?new r(this.consume().value,"number"):this.parentheses()},T.prototype.parentheses=function(){var S=this.current();if(S.value==="("){this.consume();var k=this.assignment();return this.expect(")"),k}return this.end()},T.prototype.end=function(){var S=this.current();if(S.type!==t.EOF)throw Error("unexpected end of expression")},e8=T,e8}var t8,r_;function lP(){return r_||(r_=1,t8={ArrayNode:cS(),AssignmentNode:dS(),BlockNode:fS(),ConditionalNode:hS(),ConstantNode:sS(),FunctionNode:uS(),Node:Sc(),OperatorNode:oS(),SymbolNode:aS(),UnaryNode:lS()}),t8}var i_;function b6(){return i_||(i_=1,jp.Lexer=iS(),jp.Parser=oP(),jp.nodeTypes=lP()),jp}var n8,s_;function Om(){if(s_)return n8;s_=1;var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=function(v){return typeof Array.isArray=="function"?Array.isArray(v):n.call(v)==="[object Array]"},c=function(v){if(!v||n.call(v)!=="[object Object]")return!1;var _=t.call(v,"constructor"),T=v.constructor&&v.constructor.prototype&&t.call(v.constructor.prototype,"isPrototypeOf");if(v.constructor&&!_&&!T)return!1;var S;for(S in v);return typeof S>"u"||t.call(v,S)},d=function(v,_){r&&_.name==="__proto__"?r(v,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):v[_.name]=_.newValue},m=function(v,_){if(_==="__proto__")if(t.call(v,_)){if(s)return s(v,_).value}else return;return v[_]};return n8=function $(){var v,_,T,S,k,P,G=arguments[0],X=1,R=arguments.length,W=!1;for(typeof G=="boolean"&&(W=G,G=arguments[1]||{},X=2),(G==null||typeof G!="object"&&typeof G!="function")&&(G={});X<R;++X)if(v=arguments[X],v!=null)for(_ in v)T=m(G,_),S=m(v,_),G!==S&&(W&&S&&(c(S)||(k=a(S)))?(k?(k=!1,P=T&&a(T)?T:[]):P=T&&c(T)?T:{},d(G,{name:_,newValue:$(W,P,S)})):typeof S<"u"&&d(G,{name:_,newValue:S}));return G},n8}var r8,o_;function aP(){return o_||(o_=1,r8=function(t){var n=this,r=[];this.rawify(this.options.rawArrayExpressionElements,function(){r=t.nodes.map(function(a){return n.next(a)})});var s="["+r.join(",")+"]";return this.options.raw?s:this.options.factory+"("+s+")"}),r8}var i8,l_;function uP(){return l_||(l_=1,i8=function(t){return'scope["'+t.name+'"] = '+this.next(t.expr)}),i8}var s8,a_;function cP(){return a_||(a_=1,s8=function(t){var n="!!("+this.next(t.condition)+")",r=this.next(t.trueExpr),s=this.next(t.falseExpr);return"("+n+" ? ("+r+") : ("+s+") )"}),s8}var o8,u_;function hP(){return u_||(u_=1,o8=function(t){return this.options.raw?t.value:this.options.factory+"("+t.value+")"}),o8}var N3={exports:{}},c_;function dP(){if(c_)return N3.exports;c_=1;var t=b6().nodeTypes.SymbolNode,n=function(r){return"$$mathCodegen.functionProxy("+this.next(new t(r.name))+', "'+r.name+'")'};return N3.exports=function(r){var s=this,a=n.call(this,r),c=[];return this.rawify(this.options.rawCallExpressionElements,function(){c=r.args.map(function(d){return s.next(d)})}),a+"("+c.join(", ")+")"},N3.exports.functionProxy=n,N3.exports}var l8,h_;function fP(){return h_||(h_=1,l8={"+":"add","-":"sub","*":"mul","/":"div","^":"pow","%":"mod","!":"factorial","|":"bitwiseOR","^|":"bitwiseXOR","&":"bitwiseAND","||":"logicalOR",xor:"logicalXOR","&&":"logicalAND","<":"lessThan",">":"greaterThan","<=":"lessEqualThan",">=":"greaterEqualThan","===":"strictlyEqual","==":"equal","!==":"strictlyNotEqual","!=":"notEqual",">>":"shiftRight","<<":"shiftLeft",">>>":"unsignedRightShift"}),l8}var a8,d_;function pP(){if(d_)return a8;d_=1;var t=fP();return a8=function(n){if(this.options.raw)return["("+this.next(n.args[0]),n.op,this.next(n.args[1])+")"].join(" ");var r=t[n.op];if(!r)throw TypeError("unidentified operator");return this.FunctionNode({name:r,args:n.args})},a8}var u8,f_;function mP(){return f_||(f_=1,u8=function(t){var n=t.name;return'$$mathCodegen.getProperty("'+n+'", scope, ns)'}),u8}var c8,p_;function gP(){return p_||(p_=1,c8={"+":"positive","-":"negative","~":"oneComplement"}),c8}var h8,m_;function $P(){if(m_)return h8;m_=1;var t=gP();return h8=function(n){if(this.options.raw)return n.op+this.next(n.argument);if(!(n.op in t))throw new SyntaxError(n.op+" not implemented");var r=t[n.op];return this.FunctionNode({name:r,args:[n.argument]})},h8}var d8,g_;function vP(){if(g_)return d8;g_=1;var t=Om(),n={ArrayNode:aP(),AssignmentNode:uP(),ConditionalNode:cP(),ConstantNode:hP(),FunctionNode:dP(),OperatorNode:pP(),SymbolNode:mP(),UnaryNode:$P()},r=function(s,a){this.owner=s,this.options=t({factory:"ns.factory",raw:!1,rawArrayExpressionElements:!0,rawCallExpressionElements:!1},a)};return t(r.prototype,n),r.prototype.next=function(s){if(!(s.type in this))throw new TypeError("the node type "+s.type+" is not implemented");return this[s.type](s)},r.prototype.rawify=function(s,a){var c=this.options.raw;s&&(this.options.raw=!0),a(),s&&(this.options.raw=c)},d8=r,d8}var f8,$_;function bP(){if($_)return f8;$_=1;var t=b6().Parser,n=vP(),r=Om();function s(a,c){this.statements=[],this.defs=c||{},this.interpreter=new n(this,a)}return s.prototype.setDefs=function(a){return this.defs=r(this.defs,a),this},s.prototype.compile=function(a){if(!a||!(typeof a=="object"||typeof a=="function"))throw TypeError("namespace must be an object");if(typeof a.factory!="function")throw TypeError("namespace.factory must be a function");this.defs.ns=a,this.defs.$$mathCodegen={getProperty:function(v,_,T){if(v in _)return _[v];if(v in T)return T[v];throw SyntaxError('symbol "'+v+'" is undefined')},functionProxy:function(v,_){if(typeof v!="function")throw SyntaxError('symbol "'+_+'" must be a function');return v}},this.defs.$$processScope=this.defs.$$processScope||function(){};var c=Object.keys(this.defs).map(function(v){return"var "+v+' = defs["'+v+'"]'});if(!this.statements.length)throw Error("there are no statements saved in this generator, make sure you parse an expression before compiling it");this.statements[this.statements.length-1]="return "+this.statements[this.statements.length-1];var d=this.statements.join(";"),m=c.join(`
`)+`
`+["return {","  eval: function (scope) {","    scope = scope || {}","    $$processScope(scope)","    "+d,"  },","  code: '"+d+"'","}"].join(`
`),$=new Function("defs",m);return $(this.defs)},s.prototype.parse=function(a){var c=this,d=new t().parse(a);return this.statements=d.blocks.map(function(m){return c.interpreter.next(m)}),this},f8=s,f8}var p8,v_;function yP(){return v_||(v_=1,p8=bP()),p8}var m8,b_;function _P(){return b_||(b_=1,m8=function(){var t=Object.create(Math);return t.factory=function(n){if(typeof n!="number")throw new TypeError("built-in math factory only accepts numbers");return Number(n)},t.add=function(n,r){return n+r},t.sub=function(n,r){return n-r},t.mul=function(n,r){return n*r},t.div=function(n,r){return n/r},t.mod=function(n,r){return n%r},t.factorial=function(n){for(var r=1,s=2;s<=n;s+=1)r*=s;return r},t.nthRoot=function(n,r){var s=r<0;if(s&&(r=-r),r===0)throw new Error("Root must be non-zero");if(n<0&&Math.abs(r)%2!==1)throw new Error("Root must be odd when a is negative.");if(n===0)return 0;if(!isFinite(n))return s?0:n;var a=Math.pow(Math.abs(n),1/r);return a=n<0?-a:a,s?1/a:a},t.logicalOR=function(n,r){return n||r},t.logicalXOR=function(n,r){return n!=r},t.logicalAND=function(n,r){return n&&r},t.bitwiseOR=function(n,r){return n|r},t.bitwiseXOR=function(n,r){return n^r},t.bitwiseAND=function(n,r){return n&r},t.lessThan=function(n,r){return n<r},t.lessEqualThan=function(n,r){return n<=r},t.greaterThan=function(n,r){return n>r},t.greaterEqualThan=function(n,r){return n>=r},t.equal=function(n,r){return n==r},t.strictlyEqual=function(n,r){return n===r},t.notEqual=function(n,r){return n!=r},t.strictlyNotEqual=function(n,r){return n!==r},t.shiftRight=function(n,r){return n>>r},t.shiftLeft=function(n,r){return n<<r},t.unsignedRightShift=function(n,r){return n>>>r},t.negative=function(n){return-n},t.positive=function(n){return n},t}),m8}var y_;function TP(){if(y_)return M3.exports;y_=1;var t=yP(),n=_P()();function r(s){Object.keys(s).forEach(function(a){var c=s[a];s[a]=n.factory(c)})}return M3.exports=function(s){return new t().setDefs({$$processScope:r}).parse(s).compile(n)},M3.exports.math=n,M3.exports}var g8,__;function EP(){return __||(__=1,g8=TP()),g8}var Xp={exports:{}},$8,T_;function wP(){return T_||(T_=1,$8=function(t){var n=this,r=[];this.rawify(this.options.rawArrayExpressionElements,function(){r=t.nodes.map(function(a){return n.next(a)})});var s="["+r.join(",")+"]";return this.options.raw?s:this.options.factory+"("+s+")"}),$8}var v8,E_;function xP(){return E_||(E_=1,v8=function(t){return'scope["'+t.name+'"] = '+this.next(t.expr)}),v8}var b8,w_;function SP(){return w_||(w_=1,b8=function(t){var n="!!("+this.next(t.condition)+")",r=this.next(t.trueExpr),s=this.next(t.falseExpr);return"("+n+" ? ("+r+") : ("+s+") )"}),b8}var y8,x_;function kP(){return x_||(x_=1,y8=function(t){return this.options.raw?t.value:this.options.factory+"("+t.value+")"}),y8}var O3={exports:{}},S_;function CP(){if(S_)return O3.exports;S_=1;var t=b6().nodeTypes.SymbolNode,n=function(r){return"$$mathCodegen.functionProxy("+this.next(new t(r.name))+', "'+r.name+'")'};return O3.exports=function(r){var s=this,a=n.call(this,r),c=[];return this.rawify(this.options.rawCallExpressionElements,function(){c=r.args.map(function(d){return s.next(d)})}),a+"("+c.join(", ")+")"},O3.exports.functionProxy=n,O3.exports}var _8,k_;function AP(){return k_||(k_=1,_8={"+":"add","-":"sub","*":"mul","/":"div","^":"pow","%":"mod","!":"factorial","|":"bitwiseOR","^|":"bitwiseXOR","&":"bitwiseAND","||":"logicalOR",xor:"logicalXOR","&&":"logicalAND","<":"lessThan",">":"greaterThan","<=":"lessEqualThan",">=":"greaterEqualThan","===":"strictlyEqual","==":"equal","!==":"strictlyNotEqual","!=":"notEqual",">>":"shiftRight","<<":"shiftLeft",">>>":"unsignedRightShift"}),_8}var T8,C_;function IP(){if(C_)return T8;C_=1;var t=AP();return T8=function(n){if(this.options.raw)return["("+this.next(n.args[0]),n.op,this.next(n.args[1])+")"].join(" ");var r=t[n.op];if(!r)throw TypeError("unidentified operator");return this.FunctionNode({name:r,args:n.args})},T8}var E8,A_;function MP(){return A_||(A_=1,E8=function(t){var n=t.name;return'$$mathCodegen.getProperty("'+n+'", scope, ns)'}),E8}var w8,I_;function NP(){return I_||(I_=1,w8={"+":"positive","-":"negative","~":"oneComplement"}),w8}var x8,M_;function OP(){if(M_)return x8;M_=1;var t=NP();return x8=function(n){if(this.options.raw)return n.op+this.next(n.argument);if(!(n.op in t))throw new SyntaxError(n.op+" not implemented");var r=t[n.op];return this.FunctionNode({name:r,args:[n.argument]})},x8}var S8,N_;function RP(){if(N_)return S8;N_=1;var t=Om(),n={ArrayNode:wP(),AssignmentNode:xP(),ConditionalNode:SP(),ConstantNode:kP(),FunctionNode:CP(),OperatorNode:IP(),SymbolNode:MP(),UnaryNode:OP()},r=function(s,a){this.owner=s,this.options=t({factory:"ns.factory",raw:!1,rawArrayExpressionElements:!0,rawCallExpressionElements:!1,applyFactoryToScope:!1},a)};return t(r.prototype,n),r.prototype.next=function(s){if(!(s.type in this))throw new TypeError("the node type "+s.type+" is not implemented");return this[s.type](s)},r.prototype.rawify=function(s,a){var c=this.options.raw;s&&(this.options.raw=!0),a(),s&&(this.options.raw=c)},S8=r,S8}var k8,O_;function LP(){if(O_)return k8;O_=1;var t=b6().Parser,n=RP(),r=Om();function s(a,c){this.statements=[],this.defs=c||{},this.interpreter=new n(this,a)}return s.prototype.setDefs=function(a){return this.defs=r(this.defs,a),this},s.prototype.compile=function(a){var c=this;if(!a||!(typeof a=="object"||typeof a=="function"))throw TypeError("namespace must be an object");if(typeof a.factory!="function")throw TypeError("namespace.factory must be a function");this.defs.ns=a,this.defs.$$mathCodegen={getProperty:function(_,T,S){function k(P){return c.interpreter.options.applyFactoryToScope&&typeof P!="function"?S.factory(P):P}if(_ in T)return k(T[_]);if(_ in S)return k(S[_]);throw SyntaxError('symbol "'+_+'" is undefined')},functionProxy:function(_,T){if(typeof _!="function")throw SyntaxError('symbol "'+T+'" must be a function');return _}},this.defs.$$processScope=this.defs.$$processScope||function(){};var d=Object.keys(this.defs).map(function(_){return"var "+_+' = defs["'+_+'"]'});if(!this.statements.length)throw Error("there are no statements saved in this generator, make sure you parse an expression before compiling it");this.statements[this.statements.length-1]="return "+this.statements[this.statements.length-1];var m=this.statements.join(";"),$=d.join(`
`)+`
`+["return {","  eval: function (scope) {","    scope = scope || {}","    $$processScope(scope)","    "+m,"  },","  code: '"+m+"'","}"].join(`
`),v=new Function("defs",$);return v(this.defs)},s.prototype.parse=function(a){var c=this,d=new t().parse(a);return this.statements=d.blocks.map(function(m){return c.interpreter.next(m)}),this},k8=s,k8}var C8,R_;function DP(){return R_||(R_=1,C8=LP()),C8}function L5(t){return typeof t=="object"&&typeof t.lo=="number"&&typeof t.hi=="number"}function pr(t){return t.lo>t.hi}function y6(t){return t.lo===-1/0&&t.hi===1/0}function p2(t){return t.lo===t.hi}function b2(t){return W9(t,0)}function W9(t,n){return pr(t)?!1:t.lo<=n&&n<=t.hi}function pS(t,n){return pr(t)?!0:!pr(n)&&n.lo<=t.lo&&t.hi<=n.hi}function _6(t,n){return pr(t)||pr(n)?!1:t.lo<=n.lo&&n.lo<=t.hi||n.lo<=t.lo&&t.lo<=n.hi}const BP=Object.freeze(Object.defineProperty({__proto__:null,hasInterval:pS,hasValue:W9,intervalsOverlap:_6,isEmpty:pr,isInterval:L5,isSingleton:p2,isWhole:y6,zeroIn:b2},Symbol.toStringTag,{value:"Module"}));var c5={exports:{}};c5.exports;var L_;function PP(){return L_||(L_=1,(function(t){var n=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),s=new Uint32Array(r.buffer);if(r[0]=1,n=!0,s[1]===1072693248){let P=function(R,W){return s[0]=R,s[1]=W,r[0]},G=function(R){return r[0]=R,s[0]},X=function(R){return r[0]=R,s[1]};var c=P,d=G,m=X;t.exports=function(W){return r[0]=W,[s[0],s[1]]},t.exports.pack=P,t.exports.lo=G,t.exports.hi=X}else if(s[0]===1072693248){let P=function(R,W){return s[1]=R,s[0]=W,r[0]},G=function(R){return r[0]=R,s[1]},X=function(R){return r[0]=R,s[0]};var $=P,v=G,_=X;t.exports=function(W){return r[0]=W,[s[1],s[0]]},t.exports.pack=P,t.exports.lo=G,t.exports.hi=X}else n=!1}if(!n){let P=function(R,W){return a.writeUInt32LE(R,0,!0),a.writeUInt32LE(W,4,!0),a.readDoubleLE(0,!0)},G=function(R){return a.writeDoubleLE(R,0,!0),a.readUInt32LE(0,!0)},X=function(R){return a.writeDoubleLE(R,0,!0),a.readUInt32LE(4,!0)};var T=P,S=G,k=X,a=new Buffer(8);t.exports=function(W){return a.writeDoubleLE(W,0,!0),[a.readUInt32LE(0,!0),a.readUInt32LE(4,!0)]},t.exports.pack=P,t.exports.lo=G,t.exports.hi=X}t.exports.sign=function(P){return t.exports.hi(P)>>>31},t.exports.exponent=function(P){var G=t.exports.hi(P);return(G<<1>>>21)-1023},t.exports.fraction=function(P){var G=t.exports.lo(P),X=t.exports.hi(P),R=X&(1<<20)-1;return X&2146435072&&(R+=1<<20),[G,R]},t.exports.denormalized=function(P){var G=t.exports.hi(P);return!(G&2146435072)}})(c5)),c5.exports}var A8,D_;function FP(){if(D_)return A8;D_=1;var t=PP(),n=Math.pow(2,-1074),r=-1>>>0;A8=s;function s(a,c){if(isNaN(a)||isNaN(c))return NaN;if(a===c)return a;if(a===0)return c<0?-n:n;var d=t.hi(a),m=t.lo(a);return c>a==a>0?m===r?(d+=1,m=0):m+=1:m===0?(m=r,d-=1):m-=1,t.pack(m,d)}return A8}var UP=FP();const mS=l0(UP);function zP(t){return t}function Og(t){return t===1/0?t:mS(t,-1/0)}function Rg(t){return t===-1/0?t:mS(t,1/0)}function B_(t){return t<0?Math.ceil(t):Math.floor(t)}const z4={prev:Og,next:Rg},Wt={safePrev:Og,safeNext:Rg,prev(t){return z4.prev(t)},next(t){return z4.next(t)},addLo(t,n){return Wt.prev(t+n)},addHi(t,n){return Wt.next(t+n)},subLo(t,n){return Wt.prev(t-n)},subHi(t,n){return Wt.next(t-n)},mulLo(t,n){return Wt.prev(t*n)},mulHi(t,n){return Wt.next(t*n)},divLo(t,n){return Wt.prev(t/n)},divHi(t,n){return Wt.next(t/n)},intLo(t){return B_(Wt.prev(t))},intHi(t){return B_(Wt.next(t))},logLo(t){return Wt.prev(Math.log(t))},logHi(t){return Wt.next(Math.log(t))},expLo(t){return Wt.prev(Math.exp(t))},expHi(t){return Wt.next(Math.exp(t))},sinLo(t){return Wt.prev(Math.sin(t))},sinHi(t){return Wt.next(Math.sin(t))},cosLo(t){return Wt.prev(Math.cos(t))},cosHi(t){return Wt.next(Math.cos(t))},tanLo(t){return Wt.prev(Math.tan(t))},tanHi(t){return Wt.next(Math.tan(t))},asinLo(t){return Wt.prev(Math.asin(t))},asinHi(t){return Wt.next(Math.asin(t))},acosLo(t){return Wt.prev(Math.acos(t))},acosHi(t){return Wt.next(Math.acos(t))},atanLo(t){return Wt.prev(Math.atan(t))},atanHi(t){return Wt.next(Math.atan(t))},sinhLo(t){return Wt.prev(Math.sinh(t))},sinhHi(t){return Wt.next(Math.sinh(t))},coshLo(t){return Wt.prev(Math.cosh(t))},coshHi(t){return Wt.next(Math.cosh(t))},tanhLo(t){return Wt.prev(Math.tanh(t))},tanhHi(t){return Wt.next(Math.tanh(t))},powLo(t,n){if(n%1!==0)return Wt.prev(Math.pow(t,n));let r=(n&1)===1?t:1;for(n>>=1;n>0;)t=Wt.mulLo(t,t),(n&1)===1&&(r=Wt.mulLo(t,r)),n>>=1;return r},powHi(t,n){if(n%1!==0)return Wt.next(Math.pow(t,n));let r=(n&1)===1?t:1;for(n>>=1;n>0;)t=Wt.mulHi(t,t),(n&1)===1&&(r=Wt.mulHi(t,r)),n>>=1;return r},sqrtLo(t){return Wt.prev(Math.sqrt(t))},sqrtHi(t){return Wt.next(Math.sqrt(t))},disable(){z4.next=z4.prev=zP},enable(){z4.next=Rg,z4.prev=Og}};class vm{constructor(n,r){if(this.lo=0,this.hi=0,!(this instanceof vm))return console.log("calling with new"),console.log(n,r),new vm(n,r);if(typeof n<"u"&&typeof r<"u"){if(L5(n)){if(!p2(n))throw new TypeError("Interval: interval `lo` must be a singleton");n=n.lo}if(L5(r)){if(!p2(r))throw TypeError("Interval: interval `hi` must be a singleton");r=r.hi}}else{if(typeof n<"u")return Array.isArray(n)?new Kn(n[0],n[1]):new Kn(n,n);n=r=0}this.assign(n,r)}singleton(n){return this.set(n,n)}bounded(n,r){return this.set(Wt.prev(n),Wt.next(r))}boundedSingleton(n){return this.bounded(n,n)}set(n,r){return this.lo=n,this.hi=r,this}assign(n,r){if(typeof n!="number"||typeof r!="number")throw TypeError("Interval#assign: arguments must be numbers");return isNaN(n)||isNaN(r)||n>r?this.setEmpty():this.set(n,r)}setEmpty(){return this.set(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)}setWhole(){return this.set(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)}open(n,r){return this.assign(Wt.safeNext(n),Wt.safePrev(r))}halfOpenLeft(n,r){return this.assign(Wt.safeNext(n),r)}halfOpenRight(n,r){return this.assign(n,Wt.safePrev(r))}toArray(){return[this.lo,this.hi]}clone(){return new Kn().set(this.lo,this.hi)}}function HP(t){function n(){for(var r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=arguments[a];return new(Function.prototype.bind.apply(t,[null].concat(s)))}return n.prototype=t.prototype,n}const Kn=HP(vm);Kn.factory=Kn;const R3=(3373259426+273688/(1<<21))/(1<<30),L3=(3373259426+273689/(1<<21))/(1<<30),rr={PI_LOW:R3,PI_HIGH:L3,PI_HALF_LOW:R3/2,PI_HALF_HIGH:L3/2,PI_TWICE_LOW:R3*2,PI_TWICE_HIGH:L3*2,get E(){return new Kn(Wt.prev(Math.E),Wt.next(Math.E))},get PI(){return new Kn(R3,L3)},get PI_HALF(){return new Kn(rr.PI_HALF_LOW,rr.PI_HALF_HIGH)},get PI_TWICE(){return new Kn(rr.PI_TWICE_LOW,rr.PI_TWICE_HIGH)},get ZERO(){return new Kn(0)},get ONE(){return new Kn(1)},get WHOLE(){return new Kn().setWhole()},get EMPTY(){return new Kn().setEmpty()}};function gS(t,n){return pr(t)?pr(n):!pr(n)&&t.lo===n.lo&&t.hi===n.hi}const VP=1e-7;function D5(t,n){if(!t)throw new Error(n||"assertion failed")}function P_(t,n){if(!isFinite(t))return D5(t===n,`[Infinity] expected ${t} to be ${n}`);D5(Math.abs(t-n)<VP,`expected ${t} to be close to ${n}`)}function j9(t,n){t=Array.isArray(t)?t:t.toArray(),n=Array.isArray(n)?n:n.toArray(),P_(t[0],n[0]),P_(t[1],n[1])}function $S(t,n){j9(t,n),t=Array.isArray(t)?t:t.toArray(),n=Array.isArray(n)?n:n.toArray(),D5(t[0]<=n[0],`${t[0]} should be less/equal than ${n[0]}`),D5(n[1]<=t[1],`${n[1]} should be less/equal than ${t[1]}`)}function vS(t,n){return pr(t)?!pr(n):pr(n)||t.hi<n.lo||t.lo>n.hi}function X9(t,n){return pr(t)||pr(n)?!1:t.hi<n.lo}const bS=X9;function Y9(t,n){return pr(t)||pr(n)?!1:t.lo>n.hi}const yS=Y9;function K9(t,n){return pr(t)||pr(n)?!1:t.hi<=n.lo}const _S=K9;function J9(t,n){return pr(t)||pr(n)?!1:t.lo>=n.hi}const TS=J9,GP=Object.freeze(Object.defineProperty({__proto__:null,almostEqual:j9,assertIncludes:$S,equal:gS,geq:TS,greaterEqualThan:J9,greaterThan:Y9,gt:yS,leq:_S,lessEqualThan:K9,lessThan:X9,lt:bS,notEqual:vS},Symbol.toStringTag,{value:"Module"}));function qP(t,n){const r=t.lo,s=t.hi,a=n.lo,c=n.hi,d=new Kn;return s<0?c<0?(d.lo=Wt.divLo(s,a),d.hi=Wt.divHi(r,c)):(d.lo=Wt.divLo(r,a),d.hi=Wt.divHi(s,c)):r<0?c<0?(d.lo=Wt.divLo(s,c),d.hi=Wt.divHi(r,c)):(d.lo=Wt.divLo(r,a),d.hi=Wt.divHi(s,a)):c<0?(d.lo=Wt.divLo(s,c),d.hi=Wt.divHi(r,a)):(d.lo=Wt.divLo(r,c),d.hi=Wt.divHi(s,a)),d}function WP(t,n){return t.lo===0&&t.hi===0?t:b2(t)?rr.WHOLE:t.hi<0?new Kn(Number.NEGATIVE_INFINITY,Wt.divHi(t.hi,n)):new Kn(Wt.divLo(t.lo,n),Number.POSITIVE_INFINITY)}function jP(t,n){return t.lo===0&&t.hi===0?t:b2(t)?rr.WHOLE:t.hi<0?new Kn(Wt.divLo(t.hi,n),Number.POSITIVE_INFINITY):new Kn(Number.NEGATIVE_INFINITY,Wt.divHi(t.lo,n))}function XP(t){return t.lo===0&&t.hi===0?t:rr.WHOLE}function ES(t,n){return new Kn(Wt.addLo(t.lo,n.lo),Wt.addHi(t.hi,n.hi))}function Z9(t,n){return new Kn(Wt.subLo(t.lo,n.hi),Wt.subHi(t.hi,n.lo))}const y2=Z9;function Q9(t,n){if(pr(t)||pr(n))return rr.EMPTY;const r=t.lo,s=t.hi,a=n.lo,c=n.hi,d=new Kn;return r<0?s>0?a<0?c>0?(d.lo=Math.min(Wt.mulLo(r,c),Wt.mulLo(s,a)),d.hi=Math.max(Wt.mulHi(r,a),Wt.mulHi(s,c))):(d.lo=Wt.mulLo(s,a),d.hi=Wt.mulHi(r,a)):c>0?(d.lo=Wt.mulLo(r,c),d.hi=Wt.mulHi(s,c)):(d.lo=0,d.hi=0):a<0?c>0?(d.lo=Wt.mulLo(r,c),d.hi=Wt.mulHi(r,a)):(d.lo=Wt.mulLo(s,c),d.hi=Wt.mulHi(r,a)):c>0?(d.lo=Wt.mulLo(r,c),d.hi=Wt.mulHi(s,a)):(d.lo=0,d.hi=0):s>0?a<0?c>0?(d.lo=Wt.mulLo(s,a),d.hi=Wt.mulHi(s,c)):(d.lo=Wt.mulLo(s,a),d.hi=Wt.mulHi(r,c)):c>0?(d.lo=Wt.mulLo(r,a),d.hi=Wt.mulHi(s,c)):(d.lo=0,d.hi=0):(d.lo=0,d.hi=0),d}const e$=Q9;function t$(t,n){return pr(t)||pr(n)?rr.EMPTY:b2(n)?n.lo!==0?n.hi!==0?XP(t):jP(t,n.lo):n.hi!==0?WP(t,n.hi):rr.EMPTY:qP(t,n)}const T6=t$;function wS(t){return new Kn(t.lo,t.hi)}function E6(t){return new Kn(-t.hi,-t.lo)}const YP=Object.freeze(Object.defineProperty({__proto__:null,add:ES,div:T6,divide:t$,mul:e$,multiply:Q9,negative:E6,positive:wS,sub:y2,subtract:Z9},Symbol.toStringTag,{value:"Module"}));function w6(t,n){if(pr(t)||pr(n))return rr.EMPTY;const r=t.lo<0?n.lo:n.hi;let s=t.lo/r;return s<0?s=Math.ceil(s):s=Math.floor(s),y2(t,e$(n,new Kn(s)))}function n$(t){return pr(t)?rr.EMPTY:b2(t)?t.lo!==0?t.hi!==0?rr.WHOLE:new Kn(Number.NEGATIVE_INFINITY,Wt.divHi(1,t.lo)):t.hi!==0?new Kn(Wt.divLo(1,t.hi),Number.POSITIVE_INFINITY):rr.EMPTY:new Kn(Wt.divLo(1,t.hi),Wt.divHi(1,t.lo))}function r$(t,n){if(pr(t))return rr.EMPTY;if(typeof n=="object"){if(!p2(n))return rr.EMPTY;n=n.lo}if(n===0)return t.lo===0&&t.hi===0?rr.EMPTY:rr.ONE;if(n<0)return r$(n$(t),-n);if(Number.isSafeInteger(n))if(t.hi<0){const r=Wt.powLo(-t.hi,n),s=Wt.powHi(-t.lo,n);return(n&1)===1?new Kn(-s,-r):new Kn(r,s)}else return t.lo<0?(n&1)===1?new Kn(-Wt.powLo(-t.lo,n),Wt.powHi(t.hi,n)):new Kn(0,Wt.powHi(Math.max(-t.lo,t.hi),n)):new Kn(Wt.powLo(t.lo,n),Wt.powHi(t.hi,n));else return console.warn("power is not an integer, you should use nth-root instead, returning an empty interval"),rr.EMPTY}function xS(t){return i$(t,2)}function i$(t,n){if(pr(t)||n<0)return rr.EMPTY;if(typeof n=="object"){if(!p2(n))return rr.EMPTY;n=n.lo}const r=1/n;if(t.hi<0){if(Number.isSafeInteger(n)&&(n&1)===1){const s=Wt.powHi(-t.lo,r),a=Wt.powLo(-t.hi,r);return new Kn(-s,-a)}return rr.EMPTY}else if(t.lo<0){const s=Wt.powHi(t.hi,r);if(Number.isSafeInteger(n)&&(n&1)===1){const a=-Wt.powHi(-t.lo,r);return new Kn(a,s)}return new Kn(0,s)}else return new Kn(Wt.powLo(t.lo,r),Wt.powHi(t.hi,r))}const KP=Object.freeze(Object.defineProperty({__proto__:null,fmod:w6,multiplicativeInverse:n$,nthRoot:i$,pow:r$,sqrt:xS},Symbol.toStringTag,{value:"Module"}));function SS(t){return pr(t)?rr.EMPTY:new Kn(Wt.expLo(t.lo),Wt.expHi(t.hi))}function mf(t){if(pr(t))return rr.EMPTY;const n=t.lo<=0?Number.NEGATIVE_INFINITY:Wt.logLo(t.lo);return new Kn(n,Wt.logHi(t.hi))}const kS=mf,s$=mf(new Kn(10,10));function CS(t){return pr(t)?rr.EMPTY:T6(mf(t),s$)}const o$=mf(new Kn(2,2));function AS(t){return pr(t)?rr.EMPTY:T6(mf(t),o$)}function IS(t,n){const r=pr(t),s=pr(n);return r&&s?rr.EMPTY:r?n.clone():s?t.clone():new Kn(Math.min(t.lo,n.lo),Math.max(t.hi,n.hi))}function MS(t,n){if(pr(t)||pr(n))return rr.EMPTY;const r=Math.max(t.lo,n.lo),s=Math.min(t.hi,n.hi);return r<=s?new Kn(r,s):rr.EMPTY}function NS(t,n){if(!_6(t,n))throw Error("Interval#union: intervals do not overlap");return new Kn(Math.min(t.lo,n.lo),Math.max(t.hi,n.hi))}function OS(t,n){if(pr(t)||y6(n))return rr.EMPTY;if(_6(t,n)){if(t.lo<n.lo&&n.hi<t.hi)throw Error("Interval.difference: difference creates multiple intervals");return n.lo<=t.lo&&n.hi===1/0||n.hi>=t.hi&&n.lo===-1/0?rr.EMPTY:n.lo<=t.lo?new Kn().halfOpenLeft(n.hi,t.hi):new Kn().halfOpenRight(t.lo,n.lo)}return t.clone()}function x6(t){return pr(t)?0:Wt.subHi(t.hi,t.lo)}const RS=x6;function LS(t){return pr(t)||y6(t)?rr.EMPTY:t.lo>=0?t.clone():t.hi<=0?E6(t):new Kn(0,Math.max(-t.lo,t.hi))}function DS(t,n){const r=pr(t),s=pr(n);return r&&s?rr.EMPTY:r?n.clone():s?t.clone():new Kn(Math.max(t.lo,n.lo),Math.max(t.hi,n.hi))}function BS(t,n){const r=pr(t),s=pr(n);return r&&s?rr.EMPTY:r?n.clone():s?t.clone():new Kn(Math.min(t.lo,n.lo),Math.min(t.hi,n.hi))}function PS(t){return new Kn().set(t.lo,t.hi)}const JP=Object.freeze(Object.defineProperty({__proto__:null,LOG_EXP_10:s$,LOG_EXP_2:o$,abs:LS,clone:PS,difference:OS,exp:SS,hull:IS,intersection:MS,ln:kS,log:mf,log10:CS,log2:AS,max:DS,min:BS,union:NS,wid:RS,width:x6},Symbol.toStringTag,{value:"Module"}));function l$(t){return!isFinite(t.lo)&&t.lo===t.hi}function FS(t){if(t.lo<0)if(t.lo===-1/0)t.lo=0,t.hi=1/0;else{const n=Math.ceil(-t.lo/rr.PI_TWICE_LOW);t.lo+=rr.PI_TWICE_LOW*n,t.hi+=rr.PI_TWICE_LOW*n}return t}function S6(t){if(pr(t)||l$(t))return rr.EMPTY;const n=new Kn().set(t.lo,t.hi);FS(n);const r=rr.PI_TWICE,s=w6(n,r);if(x6(s)>=r.lo)return new Kn(-1,1);if(s.lo>=rr.PI_HIGH){const $=S6(y2(s,rr.PI));return E6($)}const a=s.lo,c=s.hi,d=Wt.cosLo(c),m=Wt.cosHi(a);return c<=rr.PI_LOW?new Kn(d,m):c<=r.lo?new Kn(-1,Math.max(d,m)):new Kn(-1,1)}function US(t){return pr(t)||l$(t)?rr.EMPTY:S6(y2(t,rr.PI_HALF))}function zS(t){if(pr(t)||l$(t))return rr.EMPTY;const n=new Kn().set(t.lo,t.hi);FS(n);const r=rr.PI;let s=w6(n,r);return s.lo>=rr.PI_HALF_LOW&&(s=y2(s,r)),s.lo<=-rr.PI_HALF_LOW||s.hi>=rr.PI_HALF_LOW?rr.WHOLE:new Kn(Wt.tanLo(s.lo),Wt.tanHi(s.hi))}function HS(t){if(pr(t)||t.hi<-1||t.lo>1)return rr.EMPTY;const n=t.lo<=-1?-rr.PI_HALF_HIGH:Wt.asinLo(t.lo),r=t.hi>=1?rr.PI_HALF_HIGH:Wt.asinHi(t.hi);return new Kn(n,r)}function VS(t){if(pr(t)||t.hi<-1||t.lo>1)return rr.EMPTY;const n=t.hi>=1?0:Wt.acosLo(t.hi),r=t.lo<=-1?rr.PI_HIGH:Wt.acosHi(t.lo);return new Kn(n,r)}function GS(t){return pr(t)?rr.EMPTY:new Kn(Wt.atanLo(t.lo),Wt.atanHi(t.hi))}function qS(t){return pr(t)?rr.EMPTY:new Kn(Wt.sinhLo(t.lo),Wt.sinhHi(t.hi))}function WS(t){return pr(t)?rr.EMPTY:t.hi<0?new Kn(Wt.coshLo(t.hi),Wt.coshHi(t.lo)):t.lo>=0?new Kn(Wt.coshLo(t.lo),Wt.coshHi(t.hi)):new Kn(1,Wt.coshHi(-t.lo>t.hi?t.lo:t.hi))}function jS(t){return pr(t)?rr.EMPTY:new Kn(Wt.tanhLo(t.lo),Wt.tanhHi(t.hi))}const ZP=Object.freeze(Object.defineProperty({__proto__:null,acos:VS,asin:HS,atan:GS,cos:S6,cosh:WS,sin:US,sinh:qS,tan:zS,tanh:jS},Symbol.toStringTag,{value:"Module"})),QP=Object.assign(Kn,rr,Wt,JP,BP,GP,YP,KP,ZP,{round:Wt}),eF=Object.freeze(Object.defineProperty({__proto__:null,Interval:vm,LOG_EXP_10:s$,LOG_EXP_2:o$,abs:LS,acos:VS,add:ES,almostEqual:j9,asin:HS,assertIncludes:$S,atan:GS,clone:PS,constants:rr,cos:S6,cosh:WS,default:QP,difference:OS,div:T6,divide:t$,equal:gS,exp:SS,fmod:w6,geq:TS,greaterEqualThan:J9,greaterThan:Y9,gt:yS,hasInterval:pS,hasValue:W9,hull:IS,intersection:MS,intervalsOverlap:_6,isEmpty:pr,isInterval:L5,isSingleton:p2,isWhole:y6,leq:_S,lessEqualThan:K9,lessThan:X9,ln:kS,log:mf,log10:CS,log2:AS,lt:bS,max:DS,min:BS,mul:e$,multiplicativeInverse:n$,multiply:Q9,negative:E6,notEqual:vS,nthRoot:i$,positive:wS,pow:r$,round:Wt,sin:US,sinh:qS,sqrt:xS,sub:y2,subtract:Z9,tan:zS,tanh:jS,union:NS,wid:RS,width:x6,zeroIn:b2},Symbol.toStringTag,{value:"Module"})),tF=Ph(eF);var I8,F_;function nF(){return F_||(F_=1,I8=function(t){t.mod=t.fmod,t.lessThan=t.lt,t.lessEqualThan=t.leq,t.greaterThan=t.gt,t.greaterEqualThan=t.geq,t.strictlyEqual=t.equal,t.strictlyNotEqual=t.notEqual,t.logicalAND=function(n,r){return n&&r},t.logicalXOR=function(n,r){return n^r},t.logicalOR=function(n,r){return n||r}}),I8}var M8,U_;function rF(){return U_||(U_=1,M8=function(t){return{disableRounding:function(){t.round.disable()},enableRounding:function(){t.round.enable()}}}),M8}var z_;function iF(){if(z_)return Xp.exports;z_=1;const t=DP(),n=tF.default;nF()(n);function r(s){Object.keys(s).forEach(function(a){const c=s[a];typeof c=="number"||Array.isArray(c)?s[a]=n.factory(c):typeof c=="object"&&"lo"in c&&"hi"in c&&(s[a]=n.factory(c.lo,c.hi))})}return Xp.exports=function(s){return new t().setDefs({$$processScope:r}).parse(s).compile(n)},Xp.exports.policies=rF()(n),Xp.exports.Interval=n,Xp.exports}var N8,H_;function XS(){return H_||(H_=1,N8=iF()),N8}var V_;function cf(){if(V_)return yh;V_=1;var t=yh&&yh.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(yh,"__esModule",{value:!0}),yh.interval=yh.builtIn=void 0;const n=t(EP()),s={interval:t(XS()).default,builtIn:n.default};function a(){return typeof lm=="object"&&"math"in lm?lm.math:typeof window=="object"&&"math"in window?window.math:null}const c=a();c&&(s.builtIn=c.compile);function d(v){function _(P){if(typeof P=="string"){const G=s[v](P);return c&&v==="builtIn"?{eval:G.evaluate||G.eval}:G}else{if(typeof P=="function")return{eval:P};throw Error("expression must be a string or a function")}}function T(P,G){const X=P[G],R=v+"_Expression_"+G,W=v+"_Compiled_"+G;X!==P[R]&&(P[R]=X,P[W]=_(X))}function S(P,G){return P[v+"_Compiled_"+G]}function k(P,G,X){return T(P,G),S(P,G).eval(Object.assign({},P.scope||{},X))}return k}const m=d("builtIn");yh.builtIn=m;const $=d("interval");return yh.interval=$,yh}var G_;function sF(){if(G_)return P4;G_=1;var t=P4&&P4.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(P4,"__esModule",{value:!0});const n=e6,r=xc,s=t(Uh()),a=t(Nm()),c=cf();function d(m){m=Object.assign({xLine:!1,yLine:!1,renderer:function(P,G){return"("+P.toFixed(3)+", "+G.toFixed(3)+")"},owner:null},m);const $=20,v=(0,n.line)().x(function(P){return P[0]}).y(function(P){return P[1]});function _(P,G){return P.append("path").datum(G).attr("stroke","grey").attr("stroke-dasharray","5,5").attr("opacity",.5).attr("d",v)}let T,S;function k(P){const G=P.selectAll("g.tip").data(function(R){return[R]}),X=G.enter().append("g").attr("class","tip").attr("clip-path","url(#function-plot-clip-"+m.owner.id+")");T=G.merge(X).selectAll("g.inner-tip").data(function(R){return[R]}),S=T.enter().append("g").attr("class","inner-tip").style("display","none").each(function(){const R=(0,r.select)(this);_(R,[[0,-m.owner.meta.height-$],[0,m.owner.meta.height+$]]).attr("class","tip-x-line").style("display","none"),_(R,[[-m.owner.meta.width-$,0],[m.owner.meta.width+$,0]]).attr("class","tip-y-line").style("display","none"),R.append("circle").attr("r",3),R.append("text").attr("transform","translate(5,-5)")}),T.merge(S).selectAll(".tip-x-line").style("display",m.xLine?null:"none"),T.merge(S).selectAll(".tip-y-line").style("display",m.yLine?null:"none")}return k.move=function(P){let G,X=1/0,R=-1,W,te;const ie=T.merge(S),se=m.owner.meta,Y=ie.datum().data,fe=se.xScale,Ie=se.yScale,De=se.width,Ue=se.height,it=P.x,ze=P.y;for(G=0;G<Y.length;G+=1){if(Y[G].skipTip||Y[G].fnType!=="linear")continue;const dt=Y[G].range||[-s.default.infinity(),s.default.infinity()];let Oe;if(it>dt[0]-a.default.TIP_X_EPS&&it<dt[1]+a.default.TIP_X_EPS){try{Oe=(0,c.builtIn)(Y[G],"fn",{x:it})}catch{}if(s.default.isValidNumber(Oe)){const rt=Math.abs(Oe-ze);rt<X&&(X=rt,R=G)}}}if(R!==-1){W=it,Y[R].range&&(W=Math.max(W,Y[R].range[0]),W=Math.min(W,Y[R].range[1])),te=(0,c.builtIn)(Y[R],"fn",{x:W}),k.show(),m.owner.emit("tip:update",{x:W,y:te,index:R});const dt=s.default.clamp(W,fe.invert(-$),fe.invert(De+$)),Oe=s.default.clamp(te,Ie.invert(Ue+$),Ie.invert(-$)),rt=s.default.color(Y[R],R);ie.style("color","red"),ie.attr("transform","translate("+fe(dt)+","+Ie(Oe)+")"),ie.select("circle").attr("fill",rt),ie.select("text").attr("fill",rt).text(m.renderer(W,te,R))}else k.hide()},k.show=function(){T.merge(S).style("display",null)},k.hide=function(){T.merge(S).style("display","none")},Object.keys(m).forEach(function(P){s.default.getterSetter.call(k,m,P)}),k}return P4.default=d,P4}var H4={},V4={},n0={},G4={},q4={},H0={},q_;function oF(){if(q_)return H0;q_=1;var t=H0&&H0.__createBinding||(Object.create?(function(k,P,G,X){X===void 0&&(X=G);var R=Object.getOwnPropertyDescriptor(P,G);(!R||("get"in R?!P.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return P[G]}}),Object.defineProperty(k,X,R)}):(function(k,P,G,X){X===void 0&&(X=G),k[X]=P[G]})),n=H0&&H0.__setModuleDefault||(Object.create?(function(k,P){Object.defineProperty(k,"default",{enumerable:!0,value:P})}):function(k,P){k.default=P}),r=H0&&H0.__importStar||function(k){if(k&&k.__esModule)return k;var P={};if(k!=null)for(var G in k)G!=="default"&&Object.prototype.hasOwnProperty.call(k,G)&&t(P,k,G);return n(P,k),P},s=H0&&H0.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(H0,"__esModule",{value:!0});const a=r(XS()),c=cf(),d=s(Uh());a.default.policies.disableRounding();function m(k){const P=d.default.space(k.xAxis,k.range,k.nSamples),G=k.xScale,X=k.yScale,R=X.domain()[0],W=X.domain()[1],te=[];let ie;for(ie=0;ie<P.length-1;ie+=1){const se={lo:P[ie],hi:P[ie+1]},Y=(0,c.interval)(k.d,"fn",{x:se});!a.Interval.isEmpty(Y)&&!a.Interval.isWhole(Y)&&te.push([se,Y]),a.Interval.isWhole(Y)&&te.push(null)}for(ie=1;ie<te.length-1;ie+=1)if(!te[ie]){const se=te[ie-1],Y=te[ie+1];se&&Y&&!a.Interval.intervalsOverlap(se[1],Y[1])&&(se[1].lo>Y[1].hi&&(se[1].hi=Math.max(W,se[1].hi),Y[1].lo=Math.min(R,Y[1].lo)),se[1].hi<Y[1].lo&&(se[1].lo=Math.min(R,se[1].lo),Y[1].hi=Math.max(W,Y[1].hi)))}return te.scaledDx=G(P[1])-G(P[0]),[te]}let $;function v(k,P){return a.Interval.width(k)<$}function _(k,P,G){const X=(0,c.interval)(G,"fn",{x:k,y:P});if(!a.Interval.zeroIn(X))return this;if(v(k))return this.push([k,P]),this;const W=k.lo+(k.hi-k.lo)/2,te=P.lo+(P.hi-P.lo)/2,ie={lo:W,hi:k.hi},se={lo:k.lo,hi:W},Y={lo:te,hi:P.hi},fe={lo:P.lo,hi:te};_.call(this,ie,Y,G),_.call(this,ie,fe,G),_.call(this,se,Y,G),_.call(this,se,fe,G)}function T(k){const P=k.xScale,G=k.xScale.domain(),X=k.yScale.domain(),R={lo:G[0],hi:G[1]},W={lo:X[0],hi:X[1]},te=[];return $=P.invert(1)-P.invert(0),_.call(te,R,W,k.d),te.scaledDx=1,[te]}const S=function(P){const G={implicit:T,linear:m};if(!Object.hasOwn(G,P.d.fnType))throw Error(P.d.fnType+" is not supported in the `interval` sampler");return G[P.d.fnType].apply(null,arguments)};return H0.default=S,H0}var W4={},W_;function lF(){if(W_)return W4;W_=1;var t=W4&&W4.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(W4,"__esModule",{value:!0});const n=t(Uh()),r=cf();function s(T,S,k,P,G){if(!G)return{asymptote:!0,d0:T,d1:S};const X=10,R=T[0],W=S[0],te=n.default.linspace(R,W,X);let ie,se;for(let Y=0;Y<X;Y+=1){const fe=te[Y],Ie=(0,r.builtIn)(k,"fn",{x:fe});if(ie){const De=Ie-ie;if(n.default.sgn(De)===P)return s([se,ie],[fe,Ie],k,P,G-1)}ie=Ie,se=fe}return{asymptote:!1,d0:T,d1:S}}function a(T,S,k){let P;const G=[],X=k.domain()[0]-n.default.infinity(),R=k.domain()[1]+n.default.infinity();let W=[S[0]],te=1,ie=n.default.infinity();for(;te<S.length;){const se=S[te-1][1],fe=S[te][1]-se,Ie=n.default.sgn(fe);if(W.length>=2&&P!==Ie&&Math.abs(fe/ie)>1){const De=s(S[te-1],S[te],T,Ie,3);De.asymptote?(S[te-1][0]=De.d0[0],S[te-1][1]=n.default.clamp(De.d0[1],X,R),G.push(W),S[te][0]=De.d1[0],S[te][1]=n.default.clamp(De.d1[1],X,R),W=[S[te]]):W.push(S[te])}else W.push(S[te]);W.length>1&&(ie=W[W.length-1][0]-W[W.length-2][0],P=Ie),++te}return W.length&&G.push(W),G}function c(T){const S=n.default.space(T.xAxis,T.range,T.nSamples),k=T.yScale.domain(),P=k[0]-n.default.infinity(),G=k[1]+n.default.infinity(),X=[];for(let W=0;W<S.length;W+=1){const te=S[W];let ie=(0,r.builtIn)(T.d,"fn",{x:te});n.default.isValidNumber(te)&&n.default.isValidNumber(ie)&&(ie=n.default.clamp(ie,P,G),X.push([te,ie]))}return a(T.d,X,T.yScale)}function d(T){const S=T.d.range||[0,2*Math.PI],k=n.default.space(T.xAxis,S,T.nSamples),P=[];for(let G=0;G<k.length;G+=1){const X=k[G],R=(0,r.builtIn)(T.d,"x",{t:X}),W=(0,r.builtIn)(T.d,"y",{t:X});P.push([R,W])}return[P]}function m(T){const S=T.d.range||[-Math.PI,Math.PI],k=n.default.space(T.xAxis,S,T.nSamples),P=[];for(let G=0;G<k.length;G+=1){const X=k[G],R=(0,r.builtIn)(T.d,"r",{theta:X}),W=R*Math.cos(X),te=R*Math.sin(X);P.push([W,te])}return[P]}function $(T){return[T.d.points]}function v(T){const S=T.d;return S.offset=S.offset||[0,0],[[S.offset,[S.vector[0]+S.offset[0],S.vector[1]+S.offset[1]]]]}const _=function(S){const k={parametric:d,polar:m,points:$,vector:v,linear:c};if(!(S.d.fnType in k))throw Error(S.d.fnType+" is not supported in the `builtIn` sampler");return k[S.d.fnType].apply(null,arguments)};return W4.default=_,W4}var j_;function a$(){if(j_)return q4;j_=1;var t=q4&&q4.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(q4,"__esModule",{value:!0});const n=t(Nm()),r=t(oF()),s=t(lF());function a(d,m){const $=m.range||[-1/0,1/0],v=Math.max(d.domain()[0],$[0]),_=Math.min(d.domain()[1],$[1]);return[v,_]}function c(d,m){const $=a(d.meta.xScale,m);let v;if(m.sampler==="builtIn")v=s.default;else if(m.sampler==="interval")v=r.default;else throw new Error(`Invalid sampler function ${m.sampler}`);const _=m.nSamples||Math.min(n.default.MAX_ITERATIONS,n.default.DEFAULT_ITERATIONS||d.meta.width*2),T=v({d:m,range:$,xScale:d.meta.xScale,yScale:d.meta.yScale,xAxis:d.options.xAxis,yAxis:d.options.yAxis,nSamples:_});return d.emit("eval",T,m.index,m.isHelper),T}return q4.default=c,q4}var X_;function aF(){if(X_)return G4;X_=1;var t=G4&&G4.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(G4,"__esModule",{value:!0});const n=xc,r=e6,s=t(Uh()),a=t(a$());function c(d){function m($){$.each(function(v){const _=m.el=(0,n.select)(this),T=v.index,S=(0,a.default)(d,v),k=s.default.color(v,T),P=_.selectAll(":scope > path.line").data(S),G=d.meta.yScale.range();let X=G[0],R=G[1];const W=X-R;X+=W*1e6,R-=W*1e6,v.skipBoundsCheck&&(X=s.default.infinity(),R=-s.default.infinity());function te(Ie){return s.default.clamp(d.meta.yScale(Ie[1]),R,X)}const ie=(0,r.line)().curve(r.curveLinear).x(function(Ie){return d.meta.xScale(Ie[0])}).y(te),se=(0,r.area)().x(function(Ie){return d.meta.xScale(Ie[0])}).y0(d.meta.yScale(0)).y1(te),Y=`line line-${T}`,fe=P.enter().append("path").attr("class",Y).attr("stroke-width",1).attr("stroke-linecap","round");P.merge(fe).each(function(){const Ie=(0,n.select)(this);let De;if(v.closed?(Ie.attr("fill",k),Ie.attr("fill-opacity",.3),De=se):(Ie.attr("fill","none"),De=ie),Ie.attr("stroke",k).attr("marker-end",function(){return v.fnType==="vector"?"url(#"+d.markerId+")":null}).attr("d",De),v.attr)for(const Ue in v.attr){let it=v.attr[Ue];Ue==="class"&&(it=`${Y} ${v.attr[Ue]}`),Ie.attr(Ue,it)}}),P.exit().remove()})}return m}return G4.default=c,G4}var j4={},Y_;function uF(){if(Y_)return j4;Y_=1;var t=j4&&j4.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(j4,"__esModule",{value:!0});const n=xc,r=t(a$()),s=t(Uh());function a(c){let d;const m=c.meta.xScale,$=c.meta.yScale;function v(S,k,P,G){if(P>G){const W=P;P=G,G=W}const X=Math.min(k,G),R=Math.max(S,P);return R>X?[-d,0]:[R,X]}const _=function(S,k){let P="";const G=$.range(),X=Math.min.apply(Math,G),R=Math.max.apply(Math,G);for(let W=0,te=S.length;W<te;W+=1)if(S[W]){const ie=S[W][0],se=S[W][1];let Y=se.lo,fe=se.hi;k&&(Y=Math.min(Y,0),fe=Math.max(fe,0));const Ie=m(ie.lo)+S.scaledDx/2,De=v(X,R,isFinite(fe)?$(fe):-1/0,isFinite(Y)?$(Y):1/0),Ue=De[0],it=De[1];P+=" M "+Ie+" "+Ue,P+=" v "+Math.max(it-Ue,d)}return P};function T(S){S.each(function(k){const P=T.el=(0,n.select)(this),G=k.index,X=k.closed,R=(0,r.default)(c,k),W=P.selectAll(":scope > path.line").data(R);d=Math.max(R[0].scaledDx,1);const te=`line line-${G}`,ie=W.enter().append("path").attr("class",te).attr("fill","none"),se=W.merge(ie).attr("stroke-width",d).attr("stroke",s.default.color(k,G)).attr("opacity",X?.5:1).attr("d",function(Y){return _(Y,X)});if(k.attr)for(const Y in k.attr){let fe=k.attr[Y];Y==="class"&&(fe=`${te} ${k.attr[Y]}`),se.attr(Y,fe)}W.exit().remove()})}return T}return j4.default=a,j4}var X4={},K_;function cF(){if(K_)return X4;K_=1;var t=X4&&X4.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(X4,"__esModule",{value:!0});const n=xc,r=q9,s=t(Uh()),a=t(a$());function c(d){const m=d.meta.xScale,$=d.meta.yScale;function v(_){_.each(function(T){let S,k;const P=T.index,G=s.default.color(T,P),X=(0,a.default)(d,T),R=[];for(S=0;S<X.length;S+=1)for(k=0;k<X[S].length;k+=1)R.push(X[S][k]);const W=(0,n.select)(this).selectAll(":scope > circle.scatter").data(R),te=`scatter scatter-${P}`,ie=W.enter().append("circle").attr("class",te),se=W.merge(ie).attr("fill",(0,r.hsl)(G.toString()).brighter(1.5).formatHex()).attr("stroke",G).attr("opacity",.7).attr("r",1).attr("cx",function(Y){return m(Y[0])}).attr("cy",function(Y){return $(Y[1])});if(T.attr)for(const Y in T.attr){let fe=T.attr[Y];Y==="class"&&(fe=`${te} ${T.attr[Y]}`),se.attr(Y,fe)}W.exit().remove()})}return v}return X4.default=c,X4}var Y4={},J_;function hF(){if(J_)return Y4;J_=1;var t=Y4&&Y4.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Y4,"__esModule",{value:!0});const n=xc,r=q9,s=t(Uh());function a(c){const d=c.meta.xScale,m=c.meta.yScale;function $(v){v.each(function(_){_.sampler="builtIn",_.fnType="vector";const T=(0,n.select)(this).selectAll(":scope > text.fn-text").data([_.location]),S=T.enter().append("text").attr("class",`fn-text fn-text-${_.index}`),k=s.default.color(_,_.index),P=T.merge(S).attr("fill",(0,r.hsl)(k.toString()).brighter(1.5).formatHex()).attr("x",G=>d(G[0])).attr("y",G=>m(G[1])).text(()=>_.text);if(_.attr)for(const G in _.attr)P.attr(G,_.attr[G]);T.exit().remove()})}return $}return Y4.default=a,Y4}var Z_;function B5(){if(Z_)return n0;Z_=1;var t=n0&&n0.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n0,"__esModule",{value:!0}),n0.text=n0.scatter=n0.interval=n0.polyline=void 0;const n=t(aF());n0.polyline=n.default;const r=t(uF());n0.interval=r.default;const s=t(cF());n0.scatter=s.default;const a=t(hF());return n0.text=a.default,n0}var D3={},Q_;function u$(){if(Q_)return D3;Q_=1,Object.defineProperty(D3,"__esModule",{value:!0});function t(n){return"graphType"in n||(n.graphType="interval"),"sampler"in n||(n.sampler=n.graphType!=="interval"?"builtIn":"interval"),"fnType"in n||(n.fnType="linear"),n}return D3.default=t,D3}var eT;function dF(){if(eT)return V4;eT=1;var t=V4&&V4.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(V4,"__esModule",{value:!0});const n=xc,r=B5(),s=cf(),a=t(u$()),c=t(Uh());function d(m){const $=(0,a.default)({isHelper:!0,skipTip:!0,skipBoundsCheck:!0,nSamples:2,graphType:"polyline"});function v(S){if(!S.derivative)return[];const k=typeof S.derivative.x0=="number"?S.derivative.x0:c.default.infinity();return $.index=S.index,$.scope={m:(0,s.builtIn)(S.derivative,"fn",{x:k}),x0:k,y0:(0,s.builtIn)(S,"fn",{x:k})},$.fn="m * (x - x0) + y0",[$]}function _(S){const k=this;S.derivative&&S.derivative.updateOnMouseMove&&!S.derivative.$$mouseListener&&(S.derivative.$$mouseListener=function({x:P}){S.derivative&&(S.derivative.x0=P),T(k)},m.on("tip:update",S.derivative.$$mouseListener))}const T=function(S){S.each(function(k){const P=(0,n.select)(this),G=v.call(S,k);_.call(S,k);const X=P.selectAll("g.derivative").data(G),R=X.enter().append("g").attr("class","derivative");X.merge(R).call((0,r.polyline)(m)),X.merge(R).selectAll("path").attr("opacity",.5),X.exit().remove()})};return T}return V4.default=d,V4}var K4={},tT;function fF(){if(tT)return K4;tT=1;var t=K4&&K4.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(K4,"__esModule",{value:!0});const n=xc,r=cf(),s=t(u$()),a=B5(),c=t(Uh());function d(m){const $=(0,s.default)({isHelper:!0,skipTip:!0,skipBoundsCheck:!0,nSamples:2,graphType:"polyline"});function v(G){G.m=(G.y1-G.y0)/(G.x1-G.x0)}function _(G,X){if(!("x0"in X))throw Error("secant must have the property `x0` defined");X.scope=X.scope||{};const R=X.x0,W=typeof X.x1=="number"?X.x1:c.default.infinity();Object.assign(X.scope,{x0:R,x1:W,y0:(0,r.builtIn)(G,"fn",{x:R}),y1:(0,r.builtIn)(G,"fn",{x:W})}),v(X.scope)}function T(G,X){_(G,X),X.fn="m * (x - x0) + y0"}function S(G,X){const R=this;X.updateOnMouseMove&&!X.$$mouseListener&&(X.$$mouseListener=function({x:W}){X.x1=W,_(G,X),P(R)},m.on("tip:update",X.$$mouseListener))}function k(G){const X=this,R=[];G.secants=G.secants||[];for(let W=0;W<G.secants.length;W+=1){const te=G.secants[W]=Object.assign({},$,G.secants[W]);te.index=G.index,te.fn||(T.call(X,G,te),S.call(X,G,te)),R.push(te)}return R}function P(G){G.each(function(X){const R=(0,n.select)(this),W=k.call(G,X),te=R.selectAll("g.secant").data(W),ie=te.enter().append("g").attr("class","secant");te.merge(ie).call((0,a.polyline)(m)),te.merge(ie).selectAll("path").attr("opacity",.5),te.exit().remove()})}return P}return K4.default=d,K4}var nT;function YS(){if(nT)return H4;nT=1;var t=H4&&H4.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(H4,"__esModule",{value:!0});const n=xc,r=t(dF()),s=t(fF());function a(c){function d(m){m.each(function(){const $=(0,n.select)(this);$.call((0,r.default)(c)),$.call((0,s.default)(c))})}return d}return H4.default=a,H4}var rT;function pF(){if(rT)return Jd;rT=1;var t=Jd&&Jd.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.Chart=void 0;const n=e6,r=iN,s=BR,a=YR,c=nP,d=xc,m=rP,$=t(iP()),v=t(sP()),_=t(sF()),T=t(YS()),S=t(u$()),k=t(Nm());function P(X){return X==="linear"?s.scaleLinear:s.scaleLog}class G extends $.default.EventEmitter{constructor(R){super();const W=Math.random(),te=String.fromCharCode(Math.floor(W*26)+97);this.options=R,this.id=te+W.toString(16).substr(2),this.options.id=this.id,this.markerId=this.id+"-marker",G.cache[this.id]=this,this.linkedGraphs=[this],this.meta={},this.setUpEventListeners()}build(){return this.internalVars(),this.drawGraphWrapper(),this}getDraggableNode(){return(0,d.select)(this.options.target).select(".zoom-and-drag").node()}getEmitInstance(){let R=this;const W=this.getDraggableNode();return W&&(R=W.instance),R}internalVars(){const R=this.meta.margin={left:40,right:20,top:20,bottom:20};this.options.title&&(this.meta.margin.top=40),this.meta.width=(this.options.width||k.default.DEFAULT_WIDTH)-R.left-R.right,this.meta.height=(this.options.height||k.default.DEFAULT_HEIGHT)-R.top-R.bottom,this.initializeAxes()}initializeAxes(){const R=this,W=(0,r.format)("~s");function te(fe){return Math.abs(fe)-Math.floor(Math.abs(fe))>0?fe.toString():W(fe)}function ie(fe){const Ie=fe[1]-fe[0];return R.meta.height*Ie/R.meta.width}this.options.xAxis=this.options.xAxis||{},this.options.xAxis.type=this.options.xAxis.type||"linear",this.options.yAxis=this.options.yAxis||{},this.options.yAxis.type=this.options.yAxis.type||"linear";const se=this.meta.xDomain=(function(fe){if(fe.domain)return fe.domain;if(fe.type==="linear")return[-12/2,12/2];if(fe.type==="log")return[1,10];throw Error("axis type "+fe.type+" unsupported")})(this.options.xAxis),Y=this.meta.yDomain=(function(fe){if(fe.domain)return fe.domain;const Ie=ie(se);if(fe.type==="linear")return[-Ie/2,Ie/2];if(fe.type==="log")return[1,10];throw Error("axis type "+fe.type+" unsupported")})(this.options.yAxis);this.meta.xScale||(this.meta.xScale=P(this.options.xAxis.type)()),this.meta.xScale.domain(se).range(this.options.xAxis.invert?[this.meta.width,0]:[0,this.meta.width]),this.meta.yScale||(this.meta.yScale=P(this.options.yAxis.type)()),this.meta.yScale.domain(Y).range(this.options.yAxis.invert?[0,this.meta.height]:[this.meta.height,0]),this.meta.xAxis||(this.meta.xAxis=(0,a.axisBottom)(this.meta.xScale)),this.meta.xAxis.tickSize(this.options.grid?-this.meta.height:0).tickFormat(te),this.meta.yAxis||(this.meta.yAxis=(0,a.axisLeft)(this.meta.yScale)),this.meta.yAxis.tickSize(this.options.grid?-this.meta.width:0).tickFormat(te),this.line=(0,n.line)().x(function(fe){return R.meta.xScale(fe[0])}).y(function(fe){return R.meta.yScale(fe[1])})}drawGraphWrapper(){const R=this.root=(0,d.select)(this.options.target).selectAll("svg").data([this.options]);this.root.enter=R.enter().append("svg").attr("class","function-plot").attr("font-size",this.getFontSize()),R.merge(this.root.enter).attr("width",this.meta.width+this.meta.margin.left+this.meta.margin.right).attr("height",this.meta.height+this.meta.margin.top+this.meta.margin.bottom),this.buildTitle(),this.buildLegend(),this.buildCanvas(),this.buildClip(),this.buildAxis(),this.buildAxisLabel();const W=this.tip=(0,_.default)(Object.assign(this.options.tip||{},{owner:this}));this.canvas.merge(this.canvas.enter).call(W),this.setUpPlugins(),this.draw(),this.buildZoomHelper()}buildTitle(){const R=this.root.merge(this.root.enter).selectAll("text.title").data(function(te){return[te.title].filter(Boolean)});R.enter().append("text").merge(R).attr("class","title").attr("y",this.meta.margin.top/2).attr("x",this.meta.margin.left+this.meta.width/2).attr("font-size",25).attr("text-anchor","middle").attr("alignment-baseline","middle").text(this.options.title),R.exit().remove()}buildLegend(){this.root.enter.append("text").attr("class","top-right-legend").attr("text-anchor","end"),this.root.merge(this.root.enter).select(".top-right-legend").attr("y",this.meta.margin.top/2).attr("x",this.meta.width+this.meta.margin.left)}buildCanvas(){const R=this.canvas=this.root.merge(this.root.enter).selectAll(".canvas").data(function(W){return[W]});this.canvas.enter=R.enter().append("g").attr("class","canvas")}buildClip(){const R=this.id,W=this.canvas.enter.append("defs");W.append("clipPath").attr("id","function-plot-clip-"+R).append("rect").attr("class","clip static-clip"),this.canvas.merge(this.canvas.enter).selectAll(".clip").attr("width",this.meta.width).attr("height",this.meta.height),W.append("clipPath").append("marker").attr("id",this.markerId).attr("viewBox","0 -5 10 10").attr("refX",10).attr("markerWidth",5).attr("markerHeight",5).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5L0,0").attr("stroke-width","0px").attr("fill-opacity",1).attr("fill","#777")}buildAxis(){const R=this.canvas.enter;R.append("g").attr("class","x axis"),R.append("g").attr("class","y axis"),this.canvas.merge(this.canvas.enter).select(".x.axis").attr("transform","translate(0,"+this.meta.height+")").call(this.meta.xAxis),this.canvas.merge(this.canvas.enter).select(".y.axis").call(this.meta.yAxis)}buildAxisLabel(){const R=this.canvas,W=R.merge(R.enter).selectAll("text.x.axis-label").data(function(Y){return[Y.xAxis.label].filter(Boolean)}),te=W.enter().append("text").attr("class","x axis-label").attr("text-anchor","end");W.merge(te).attr("x",this.meta.width).attr("y",this.meta.height-6).text(function(Y){return Y}),W.exit().remove();const ie=R.merge(R.enter).selectAll("text.y.axis-label").data(function(Y){return[Y.yAxis.label].filter(Boolean)}),se=ie.enter().append("text").attr("class","y axis-label").attr("y",6).attr("dy",".75em").attr("text-anchor","end").attr("transform","rotate(-90)");ie.merge(se).text(function(Y){return Y}),ie.exit().remove()}buildContent(){const R=this,W=this.canvas;W.merge(W.enter).attr("transform","translate("+this.meta.margin.left+","+this.meta.margin.top+")");const te=this.content=W.merge(W.enter).selectAll(":scope > g.content").data(function(fe){return[fe]}),ie=te.enter().append("g").attr("clip-path","url(#function-plot-clip-"+this.id+")").attr("class","content");if(this.options.xAxis.type==="linear"){const fe=te.merge(ie).selectAll(":scope > path.y.origin").data([[[0,this.meta.yScale.domain()[0]],[0,this.meta.yScale.domain()[1]]]]),Ie=fe.enter().append("path").attr("class","y origin").attr("stroke","black").attr("opacity",.2);fe.merge(Ie).attr("d",this.line)}if(this.options.yAxis.type==="linear"){const fe=te.merge(ie).selectAll(":scope > path.x.origin").data([[[this.meta.xScale.domain()[0],0],[this.meta.xScale.domain()[1],0]]]),Ie=fe.enter().append("path").attr("class","x origin").attr("stroke","black").attr("opacity",.2);fe.merge(Ie).attr("d",this.line)}te.merge(ie).call((0,v.default)({owner:R}));const se=te.merge(ie).selectAll(":scope > g.graph").data(fe=>fe.data.map(S.default),fe=>fe.fn||fe.r||fe.x||fe.text);se.exit().remove();const Y=se.enter().append("g").attr("class","graph");se.merge(Y).each(function(fe,Ie){fe.index=Ie;const De=(0,d.select)(this);De.call(k.default.graphTypes[fe.graphType](R)),De.call((0,T.default)(R))})}buildZoomHelper(){const R=this;this.meta.zoomBehavior||(this.meta.zoomBehavior=(0,c.zoom)().on("zoom",function(te){R.getEmitInstance().emit("all:zoom",te)}),R.meta.zoomBehavior.xScale=R.meta.xScale.copy(),R.meta.zoomBehavior.yScale=R.meta.yScale.copy()),R.meta.zoomBehavior.xScale.range(R.meta.xScale.range()),R.meta.zoomBehavior.yScale.range(R.meta.yScale.range()),this.canvas.enter.append("rect").call(this.meta.zoomBehavior).attr("class","zoom-and-drag").style("fill","none").style("pointer-events","all").on("mouseover",function(W){R.getEmitInstance().emit("all:mouseover",W)}).on("mouseout",function(W){R.getEmitInstance().emit("all:mouseout",W)}).on("mousemove",function(W){R.getEmitInstance().emit("all:mousemove",W)}),this.draggable=this.canvas.merge(this.canvas.enter).select(".zoom-and-drag").call(W=>{W.node()&&(W.node().instance=R)}).attr("width",this.meta.width).attr("height",this.meta.height)}setUpPlugins(){const R=this.options.plugins||[],W=this;R.forEach(function(te){te(W)})}addLink(){for(let R=0;R<arguments.length;R+=1)this.linkedGraphs.push(arguments[R])}updateAxes(){const R=this,W=R.canvas.merge(R.canvas.enter);if(W.select(".x.axis").call(R.meta.xAxis),this.options.xAxis.position==="sticky"){const te=this.meta.yScale.domain()[0],ie=this.meta.yScale.domain()[1],se=(ie+te)/2;let fe=this.meta.height/(ie-te)*se+this.meta.height/2;fe=fe<0?0:fe,fe=fe>this.meta.height?this.meta.height:fe,W.select(".x.axis").attr("transform","translate(0,"+fe+")"),W.selectAll(".x.axis path, .x.axis line").attr("transform","translate(0,"+(this.meta.height/2-fe+this.meta.height/2)+")")}if(W.select(".y.axis").call(R.meta.yAxis),this.options.yAxis.position==="sticky"){const te=this.meta.xScale.domain()[0],ie=this.meta.xScale.domain()[1],se=(ie+te)/2;let fe=this.meta.width/(te-ie)*se+this.meta.width/2;fe=fe<0?0:fe,fe=fe>this.meta.width?this.meta.width:fe,W.select(".y.axis").attr("transform","translate("+fe+",0)"),W.selectAll(".y.axis path, .y.axis line").attr("transform","translate("+-fe+",0)")}W.selectAll(".axis path, .axis line").attr("fill","none").attr("stroke","black").attr("shape-rendering","crispedges").attr("opacity",.1)}syncOptions(){this.options.xAxis.domain=this.meta.xScale.domain(),this.options.yAxis.domain=this.meta.yScale.domain()}getFontSize(){return Math.max(Math.max(this.meta.width,this.meta.height)/50,8)}draw(){const R=this;R.emit("before:draw"),R.syncOptions(),R.updateAxes(),R.buildContent(),R.emit("after:draw")}setUpEventListeners(){const R=this,W=this.getEmitInstance();W&&W.removeAllListeners();const te={mousemove:function(se){R.tip.move(se)},mouseover:function(){R.tip.show()},mouseout:function(){R.tip.hide()},zoom:function({transform:Y}){if(R.options.disableZoom)return;const fe=Y.rescaleX(R.meta.zoomBehavior.xScale).interpolate(m.interpolateRound),Ie=Y.rescaleY(R.meta.zoomBehavior.yScale).interpolate(m.interpolateRound);R.meta.xScale.domain(fe.domain()).range(fe.range()),R.meta.yScale.domain(Ie.domain()).range(Ie.range())},"tip:update":function({x:se,y:Y,index:fe}){const Ie=R.root.merge(R.root.enter).datum().data[fe],De=Ie.title||"",Ue=Ie.renderer||function(ze,dt){return ze.toFixed(3)+", "+dt.toFixed(3)},it=[];De&&it.push(De),it.push(Ue(se,Y)),R.root.select(".top-right-legend").attr("fill",k.default.COLORS[fe]).text(it.join(" "))}},ie={mousemove:function(se){const Y=(0,d.pointer)(se,R.draggable.node()),fe={x:R.meta.xScale.invert(Y[0]),y:R.meta.yScale.invert(Y[1])};R.linkedGraphs.forEach(function(Ie){Ie.emit("before:mousemove",fe),Ie.emit("mousemove",fe)})},zoom:function(se){R.linkedGraphs.forEach(function(Y){Y.draggable.node().__zoom=R.draggable.node().__zoom,Y.emit("zoom",se),Y.draw()}),R.emit("all:mousemove",se)}};Object.keys(te).forEach(function(se){!ie[se]&&R.on("all:"+se,function(){const Y=Array.prototype.slice.call(arguments);R.linkedGraphs.forEach(function(fe){const Ie=Y.slice();Ie.unshift(se),fe.emit.apply(fe,Ie)})}),R.on(se,te[se])}),Object.keys(ie).forEach(function(se){R.on("all:"+se,ie[se])})}}return Jd.Chart=G,G.cache={},Jd}var O8={},iT;function mF(){return iT||(iT=1,Object.defineProperty(O8,"__esModule",{value:!0})),O8}var sT;function gF(){return sT||(sT=1,(function(t){var n=ku&&ku.__createBinding||(Object.create?(function(S,k,P,G){G===void 0&&(G=P);var X=Object.getOwnPropertyDescriptor(k,P);(!X||("get"in X?!k.__esModule:X.writable||X.configurable))&&(X={enumerable:!0,get:function(){return k[P]}}),Object.defineProperty(S,G,X)}):(function(S,k,P,G){G===void 0&&(G=P),S[G]=k[P]})),r=ku&&ku.__setModuleDefault||(Object.create?(function(S,k){Object.defineProperty(S,"default",{enumerable:!0,value:k})}):function(S,k){S.default=k}),s=ku&&ku.__importStar||function(S){if(S&&S.__esModule)return S;var k={};if(S!=null)for(var P in S)P!=="default"&&Object.prototype.hasOwnProperty.call(S,P)&&n(k,S,P);return r(k,S),k},a=ku&&ku.__exportStar||function(S,k){for(var P in S)P!=="default"&&!Object.prototype.hasOwnProperty.call(k,P)&&n(k,S,P)};Object.defineProperty(t,"__esModule",{value:!0}),t.GraphTypeScatter=t.GraphTypePolyline=t.GraphTypeInterval=t.EvalInterval=t.EvalBuiltIn=t.registerGraphType=t.Chart=void 0,VI();const c=pF();Object.defineProperty(t,"Chart",{enumerable:!0,get:function(){return c.Chart}});const d=s(Nm());Object.defineProperty(t,"registerGraphType",{enumerable:!0,get:function(){return d.registerGraphType}});const m=B5(),$=s(cf());(0,d.registerGraphType)("polyline",m.polyline),(0,d.registerGraphType)("interval",m.interval),(0,d.registerGraphType)("scatter",m.scatter),(0,d.registerGraphType)("text",m.text);function v(S){S.data=S.data||[];let k=c.Chart.cache[S.id];return k||(k=new c.Chart(S)),k.build()}t.default=v,v.globals=d.default,v.$eval=$,v.graphTypes={interval:m.interval,polyline:m.polyline,scatter:m.scatter},a(mF(),t);var _=cf();Object.defineProperty(t,"EvalBuiltIn",{enumerable:!0,get:function(){return _.builtIn}}),Object.defineProperty(t,"EvalInterval",{enumerable:!0,get:function(){return _.interval}});var T=B5();Object.defineProperty(t,"GraphTypeInterval",{enumerable:!0,get:function(){return T.interval}}),Object.defineProperty(t,"GraphTypePolyline",{enumerable:!0,get:function(){return T.polyline}}),Object.defineProperty(t,"GraphTypeScatter",{enumerable:!0,get:function(){return T.scatter}}),a(YS(),t)})(ku)),ku}var $F=gF();const vF=l0($F);function bF({state:t}){const n=t||{lhs:"x",rhs:"0",sign:"=",initialLhs:"x",initialRhs:"0",history:[]},[r,s]=vn.useState(n),[a,c]=vn.useState(!1),[d,m]=vn.useState(0),[$,v]=vn.useState(!1),[_,T]=vn.useState(0),S=vn.useRef(null),k=vn.useRef(null),P=t?.implicit===!0,G=t?.showGraph===!0,X=(r.history||[]).length>0,R=Ie=>{if(!Ie)return"";let De=String(Ie);return P?(De=De.replace(/(\d)\s*\*\s*([a-zA-Z])/g,"$1$2"),De=De.replace(/\b1([a-zA-Z])/g,"$1"),De=De.replace(/\*/g,"\\times ")):De=De.replace(/\*/g,"\\times "),De},W=Ie=>Ie==="*"?"\\times":Ie==="/"?"\\div":Ie,te=(Ie,De)=>{if(!Ie)return"";let it=String(Ie).replace(/\*/g," \\times ");it=it.replace(/(\d)\s*x/g,"$1 \\times x");const dt=`{\\color{#3498db}\\mathbf{${De<0?`(${De})`:De}}}`;return it.replace(/x/g,dt)};vn.useEffect(()=>{if(t&&t.lastOp&&!t.lastOp.error){c(!0),m(0);const Ie=setTimeout(()=>{c(!1),s(t)},2e3);return()=>{clearTimeout(Ie),c(!1),s(t)}}else if(t&&t.verification){c(!1),s(t),$&&T(t.verification.testVal),m(1);const Ie=setTimeout(()=>m(2),1500),De=setTimeout(()=>m(3),3500),Ue=setTimeout(()=>{t.finalSolutionLatex&&m(4)},5e3);return()=>{clearTimeout(Ie),clearTimeout(De),clearTimeout(Ue)}}else t&&t.solutionState?(s(t),m(4)):t&&(c(!1),s(t),m(0))},[t]);const ie=(Ie,De,Ue,it,ze=300)=>{if(Ie.current)try{const dt=De.replace(/x/g,"x"),Oe=Ue.replace(/x/g,"x"),rt=parseFloat(xh(De,{x:_}).evaluate().text()),Pe=parseFloat(xh(Ue,{x:_}).evaluate().text());vF({target:Ie.current,width:ze,height:220,yAxis:{domain:[-10,20]},xAxis:{domain:[-10,10]},grid:!0,title:it,data:[{fn:dt,color:"#3b82f6",attr:{"stroke-width":3}},{fn:Oe,color:"#ef4444",attr:{"stroke-width":3}},{points:[[_,rt]],fnType:"points",graphType:"scatter",color:"#3b82f6",attr:{r:5,"stroke-width":2,fill:"white"}},{points:[[_,Pe]],fnType:"points",graphType:"scatter",color:"#ef4444",attr:{r:5,"stroke-width":2,fill:"white"}}]})}catch{}};vn.useEffect(()=>{$&&(X?(ie(k,r.initialLhs||"x",r.initialRhs||"0","Dpart",280),ie(S,r.lhs,r.rhs,"Actuel",280)):ie(S,r.lhs,r.rhs,"Analyse",500))},[r,$,_,X]);let se=R(r.lhs),Y=R(r.rhs);const fe=String(r.sign||"=");if(a&&t.lastOp){const Ie=R(t.lastOp.val),De=`{\\color{#e74c3c} \\quad ${W(t.lastOp.op)} \\; ${Ie}}`;se=`${se} ${De}`,Y=`${Y} ${De}`}return ge.jsxs("div",{className:"w-full h-full bg-white flex flex-col font-sans relative overflow-y-auto custom-scrollbar",children:[ge.jsxs("div",{className:"flex-1 flex flex-col items-center py-6 px-4 gap-6",children:[ge.jsx("div",{className:"w-full overflow-x-auto flex justify-center pb-2",children:ge.jsxs("div",{className:"flex items-center gap-3 text-2xl md:text-3xl text-slate-700 whitespace-nowrap font-serif transition-all duration-500",children:[ge.jsx("div",{className:"bg-slate-50 px-4 py-3 rounded-xl border-b-4 border-blue-200 shadow-sm min-w-[80px] text-center",children:se?ge.jsx(D4.InlineMath,{math:se}):ge.jsx("span",{className:"text-slate-300",children:"?"})}),ge.jsx("div",{className:"text-slate-400 font-bold",children:ge.jsx(D4.InlineMath,{math:fe})}),ge.jsx("div",{className:"bg-slate-50 px-4 py-3 rounded-xl border-b-4 border-red-200 shadow-sm min-w-[80px] text-center",children:Y?ge.jsx(D4.InlineMath,{math:Y}):ge.jsx("span",{className:"text-slate-300",children:"?"})})]})}),d>0&&t.verification&&ge.jsxs("div",{className:"w-full max-w-lg bg-white rounded-xl border-2 border-blue-100 p-0 overflow-hidden shadow-sm animate-in slide-in-from-top-4 duration-500",children:[ge.jsxs("div",{className:"bg-blue-50 px-4 py-2 border-b border-blue-100 flex justify-between items-center",children:[ge.jsx("span",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider",children:"Vrification"}),ge.jsxs("span",{className:"text-xs font-mono bg-white px-2 py-1 rounded text-blue-800 border border-blue-200",children:["x = ",t.verification.testVal]})]}),ge.jsxs("div",{className:"p-4 flex flex-col gap-4 text-sm",children:[ge.jsxs("div",{className:`flex items-center gap-3 transition-opacity duration-500 ${d>=1?"opacity-100":"opacity-0"}`,children:[ge.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold",children:"1"}),ge.jsx("div",{className:"font-mono text-slate-500",children:ge.jsx(D4.InlineMath,{math:`${R(t.verification.originLhs)} = ${R(t.verification.originRhs)}`})})]}),ge.jsxs("div",{className:`flex items-center gap-3 transition-opacity duration-500 ${d>=2?"opacity-100":"opacity-0"}`,children:[ge.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-xs font-bold",children:"2"}),ge.jsx("div",{className:"font-mono",children:ge.jsx(D4.InlineMath,{math:`${te(t.verification.originLhs,t.verification.testVal)} = ${te(t.verification.originRhs,t.verification.testVal)}`})})]}),ge.jsxs("div",{className:`flex items-center gap-3 transition-opacity duration-500 ${d>=3?"opacity-100":"opacity-0"}`,children:[ge.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${t.verification.isCorrect?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:"3"}),ge.jsxs("div",{className:"flex-1 flex items-center justify-between bg-slate-50 p-2 rounded",children:[ge.jsxs("span",{className:"font-bold font-mono text-slate-700",children:[t.verification.valLhs," ",t.verification.isCorrect?"=":""," ",t.verification.valRhs]}),ge.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded uppercase ${t.verification.isCorrect?"bg-green-200 text-green-800":"bg-red-200 text-red-800"}`,children:t.verification.isCorrect?"VRAI":"FAUX"})]})]})]})]}),t.finalSolutionLatex&&d===4&&ge.jsx("div",{className:"animate-in zoom-in duration-500 bg-emerald-50 text-emerald-900 px-6 py-3 rounded-xl border border-emerald-200 shadow-md mt-2",children:ge.jsx("div",{className:"text-2xl font-bold text-center",children:ge.jsx(D4.InlineMath,{math:t.finalSolutionLatex})})}),t.solutionState&&!t.solutionState.isSuccess&&ge.jsxs("div",{className:"w-full p-4 rounded-xl border text-center bg-red-50 border-red-200 text-red-700 animate-bounce",children:[ge.jsx("span",{className:"font-bold",children:" Humm..."}),ge.jsx("p",{className:"text-xs mt-1",children:t.solutionState.msg})]}),!t.finalSolutionLatex&&d===0&&!t.solutionState&&ge.jsx("div",{className:"h-6 text-xs font-medium text-center",children:t.lastOp?.error?ge.jsxs("span",{className:"text-red-500 flex items-center justify-center gap-2 animate-bounce",children:[" ",t.lastOp.error]}):ge.jsx("span",{className:"text-slate-400 italic",children:a?"Calcul en cours...":"En attente d'instructions"})}),G&&!t.finalSolutionLatex&&ge.jsxs("button",{onClick:()=>v(!$),className:`flex items-center gap-2 px-4 py-2 rounded-full text-xs font-bold transition-all ${$?"bg-indigo-100 text-indigo-700 ring-2 ring-indigo-200":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:[ge.jsx("span",{children:$?"":""})," Explorer graphiquement"]}),$&&!t.finalSolutionLatex&&ge.jsxs("div",{className:"w-full bg-slate-50 rounded-2xl p-4 border border-slate-200 animate-in slide-in-from-top-4 fade-in duration-300",children:[ge.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-4",children:X?ge.jsxs(ge.Fragment,{children:[ge.jsx("div",{className:"overflow-hidden rounded-lg bg-white border border-slate-200 shadow-sm opacity-70 grayscale-[50%]",children:ge.jsx("div",{ref:k})}),ge.jsx("div",{className:"overflow-hidden rounded-lg bg-white border-2 border-blue-100 shadow-md",children:ge.jsx("div",{ref:S})})]}):ge.jsx("div",{className:"overflow-hidden rounded-lg bg-white border-2 border-blue-100 shadow-md",children:ge.jsx("div",{ref:S})})}),ge.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-white rounded-xl border border-slate-100 shadow-sm max-w-md mx-auto",children:[ge.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valeur x"}),ge.jsx("input",{type:"range",min:"-10",max:"10",step:"0.5",value:_,onChange:Ie=>T(parseFloat(Ie.target.value)),className:"flex-1 h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"}),ge.jsx("span",{className:"w-8 text-right font-mono font-bold text-indigo-600",children:_})]})]})]}),n.history&&n.history.length>0&&ge.jsxs("div",{className:"bg-slate-50 border-t border-slate-200 p-3",children:[ge.jsx("h5",{className:"text-[10px] font-bold text-slate-400 uppercase mb-2 tracking-wider",children:"Historique"}),ge.jsx("div",{className:"flex gap-3 overflow-x-auto custom-scrollbar pb-1",children:n.history.map((Ie,De)=>ge.jsxs("div",{className:"flex-shrink-0 bg-white px-2 py-1.5 rounded border border-slate-200 text-[10px] text-slate-600 flex flex-col items-center min-w-[60px] shadow-sm",children:[ge.jsxs("span",{className:"font-mono font-bold text-blue-600",children:[W(Ie.op)," ",Ie.val]}),ge.jsx("div",{className:"w-full h-px bg-slate-100 my-1"}),ge.jsxs("span",{className:"text-slate-400",children:["#",De+1]})]},De))})]})]})}const yF={id:"EQUATION",RenderComponent:bF,getToolboxXML:t=>xm(t),executeStep:(t,n,r)=>{const s=t||{lhs:r.equation?.lhs||"x",rhs:r.equation?.rhs||"0",initialLhs:r.equation?.lhs||"x",initialRhs:r.equation?.rhs||"0",sign:r.equation?.sign||"=",implicit:r.equation?.implicit||!1,history:[],verification:null,solutionState:null,finalSolutionLatex:null};if(!n)return{newState:s,status:"RUNNING"};let{lhs:a,rhs:c,history:d}=s;if(n.type==="OP_BOTH"){const m=n.value,$=n.operator;if($==="/"&&(m==0||m==="0"))return{newState:{...s,lastOp:{error:"Division par zro impossible !"}},status:"RUNNING"};const v=`(${a}) ${$} (${m})`,_=`(${c}) ${$} (${m})`,T=xh(v).text(),S=xh(_).text(),k=[...d,{lhs:T,rhs:S,op:$,val:m}];return{newState:{...s,lhs:T,rhs:S,history:k,lastOp:{op:$,val:m,rawLhs:v,rawRhs:_},verification:null,solutionState:null,finalSolutionLatex:null},status:"RUNNING"}}if(n.type==="VERIFY"){const m=n.value,$=s.initialLhs,v=s.initialRhs,_=xh($,{x:m}).evaluate().text(),T=xh(v,{x:m}).evaluate().text(),S=Math.abs(parseFloat(_)-parseFloat(T))<1e-4;let k=null;return S&&(k=`S = \\{ ${m} \\}`),{newState:{...s,verification:{testVal:m,originLhs:$,originRhs:v,valLhs:_,valRhs:T,isCorrect:S},finalSolutionLatex:k,lastOp:null},status:"RUNNING"}}if(n.type==="DECLARE_SOLUTION"){const m=xh(`${a} - (${c})`).simplify().text(),$=m==="0",v=!m.includes("x");let _=!1,T="",S=null;return n.kind==="NO_SOLUTION"?v&&!$?(_=!0,S="S = \\emptyset"):T="Faux ! Il y a une solution ou une infinit.":n.kind==="INFINITE"&&($?(_=!0,S="S = \\mathbb{R}"):T="Faux !"),{newState:{...s,solutionState:{kind:n.kind,isSuccess:_,msg:T},finalSolutionLatex:S,lastOp:null},status:"RUNNING"}}return{newState:s,status:"RUNNING"}},checkVictory:t=>{if(!t)return!1;if(t.verification&&t.verification.isCorrect){const n=t.lhs.replace(/\s/g,""),r=t.rhs.replace(/\s/g,"");return n==="x"&&!isNaN(parseFloat(r))||r==="x"&&!isNaN(parseFloat(n))}return!!(t.solutionState&&t.solutionState.isSuccess)}};function _F({isOpen:t,stats:n,token:r,status:s,onReplay:a,onMenu:c,onNext:d}){if(!t)return null;const m=s==="WON",$=s==="FAILED",v=s==="LOST";let _="Niveau Termin !",T=n.stars===3?" Code Parfait !":" Tu peux optimiser...",S="text-emerald-600",k="";$?(_="Presque...",T="Le rsultat ne correspond pas au modle.",S="text-amber-500",k=""):v&&(_="Ae !",T="Le robot a rencontr un obstacle.",S="text-red-500",k="");const P=()=>m?ge.jsx("div",{className:"flex justify-center gap-2 mb-6",children:[0,1,2].map(G=>ge.jsx("span",{className:`text-5xl transition-all duration-500 ${G<n.stars?"text-yellow-400 drop-shadow-lg scale-110":"text-slate-200"}`,children:""},G))}):ge.jsx("div",{className:"text-6xl mb-4 grayscale opacity-50",children:k});return ge.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:ge.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md text-center transform transition-all scale-100 border border-white/20",children:[ge.jsx("h1",{className:`text-3xl font-extrabold mb-2 ${S} drop-shadow-sm`,children:_}),ge.jsx("div",{className:"my-4",children:P()}),ge.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-100 mb-6",children:[m?ge.jsxs("p",{className:"text-slate-600 font-medium",children:[" Blocs utiliss : ",ge.jsx("strong",{className:"text-slate-900 text-lg",children:n.blockCount})," ",ge.jsxs("span",{className:"text-slate-400",children:["/ ",n.target]})]}):ge.jsx("p",{className:"font-bold text-slate-500",children:"Essaie encore !"}),ge.jsx("p",{className:"text-sm text-slate-400 mt-1",children:T})]}),m&&ge.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-100 rounded-lg text-left",children:[ge.jsx("p",{className:"text-xs font-bold text-blue-400 uppercase mb-2",children:" Code de preuve :"}),ge.jsx("div",{className:"font-mono text-xs bg-white p-2 rounded border border-blue-200 text-slate-600 break-all select-all",children:r})]}),ge.jsxs("div",{className:"flex gap-3 justify-center",children:[ge.jsx("button",{onClick:a,className:"flex-1 py-3 px-4 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-xl font-bold transition-colors",children:" Rejouer"}),ge.jsx("button",{onClick:c,className:"flex-1 py-3 px-4 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-xl font-bold transition-colors",children:" Menu"}),m&&d&&ge.jsx("button",{onClick:d,className:"flex-[1.5] py-3 px-4 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl font-bold shadow-lg shadow-emerald-200 transition-all hover:-translate-y-0.5",children:" Suivant"})]})]})})}function oT(t){const n=[],r=String(t||"");let s=r.indexOf(","),a=0,c=!1;for(;!c;){s===-1&&(s=r.length,c=!0);const d=r.slice(a,s).trim();(d||!c)&&n.push(d),a=s+1,s=r.indexOf(",",a)}return n}function TF(t,n){const r={};return(t[t.length-1]===""?[...t,""]:t).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const EF=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,wF=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,xF={};function lT(t,n){return(xF.jsx?wF:EF).test(t)}const SF=/[ \t\n\f\r]/g;function kF(t){return typeof t=="object"?t.type==="text"?aT(t.value):!1:aT(t)}function aT(t){return t.replace(SF,"")===""}class Rm{constructor(n,r,s){this.normal=r,this.property=n,s&&(this.space=s)}}Rm.prototype.normal={};Rm.prototype.property={};Rm.prototype.space=void 0;function KS(t,n){const r={},s={};for(const a of t)Object.assign(r,a.property),Object.assign(s,a.normal);return new Rm(r,s,n)}function bm(t){return t.toLowerCase()}class Ma{constructor(n,r){this.attribute=r,this.property=n}}Ma.prototype.attribute="";Ma.prototype.booleanish=!1;Ma.prototype.boolean=!1;Ma.prototype.commaOrSpaceSeparated=!1;Ma.prototype.commaSeparated=!1;Ma.prototype.defined=!1;Ma.prototype.mustUseProperty=!1;Ma.prototype.number=!1;Ma.prototype.overloadedBoolean=!1;Ma.prototype.property="";Ma.prototype.spaceSeparated=!1;Ma.prototype.space=void 0;let CF=0;const Zr=gf(),Ho=gf(),Lg=gf(),$n=gf(),Fs=gf(),i2=gf(),r0=gf();function gf(){return 2**++CF}const Dg=Object.freeze(Object.defineProperty({__proto__:null,boolean:Zr,booleanish:Ho,commaOrSpaceSeparated:r0,commaSeparated:i2,number:$n,overloadedBoolean:Lg,spaceSeparated:Fs},Symbol.toStringTag,{value:"Module"})),R8=Object.keys(Dg);class c$ extends Ma{constructor(n,r,s,a){let c=-1;if(super(n,r),uT(this,"space",a),typeof s=="number")for(;++c<R8.length;){const d=R8[c];uT(this,R8[c],(s&Dg[d])===Dg[d])}}}c$.prototype.defined=!0;function uT(t,n,r){r&&(t[n]=r)}function _2(t){const n={},r={};for(const[s,a]of Object.entries(t.properties)){const c=new c$(s,t.transform(t.attributes||{},s),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(s)&&(c.mustUseProperty=!0),n[s]=c,r[bm(s)]=s,r[bm(c.attribute)]=s}return new Rm(n,r,t.space)}const JS=_2({properties:{ariaActiveDescendant:null,ariaAtomic:Ho,ariaAutoComplete:null,ariaBusy:Ho,ariaChecked:Ho,ariaColCount:$n,ariaColIndex:$n,ariaColSpan:$n,ariaControls:Fs,ariaCurrent:null,ariaDescribedBy:Fs,ariaDetails:null,ariaDisabled:Ho,ariaDropEffect:Fs,ariaErrorMessage:null,ariaExpanded:Ho,ariaFlowTo:Fs,ariaGrabbed:Ho,ariaHasPopup:null,ariaHidden:Ho,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Fs,ariaLevel:$n,ariaLive:null,ariaModal:Ho,ariaMultiLine:Ho,ariaMultiSelectable:Ho,ariaOrientation:null,ariaOwns:Fs,ariaPlaceholder:null,ariaPosInSet:$n,ariaPressed:Ho,ariaReadOnly:Ho,ariaRelevant:null,ariaRequired:Ho,ariaRoleDescription:Fs,ariaRowCount:$n,ariaRowIndex:$n,ariaRowSpan:$n,ariaSelected:Ho,ariaSetSize:$n,ariaSort:null,ariaValueMax:$n,ariaValueMin:$n,ariaValueNow:$n,ariaValueText:null,role:null},transform(t,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function ZS(t,n){return n in t?t[n]:n}function QS(t,n){return ZS(t,n.toLowerCase())}const AF=_2({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:i2,acceptCharset:Fs,accessKey:Fs,action:null,allow:null,allowFullScreen:Zr,allowPaymentRequest:Zr,allowUserMedia:Zr,alt:null,as:null,async:Zr,autoCapitalize:null,autoComplete:Fs,autoFocus:Zr,autoPlay:Zr,blocking:Fs,capture:null,charSet:null,checked:Zr,cite:null,className:Fs,cols:$n,colSpan:null,content:null,contentEditable:Ho,controls:Zr,controlsList:Fs,coords:$n|i2,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Zr,defer:Zr,dir:null,dirName:null,disabled:Zr,download:Lg,draggable:Ho,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Zr,formTarget:null,headers:Fs,height:$n,hidden:Lg,high:$n,href:null,hrefLang:null,htmlFor:Fs,httpEquiv:Fs,id:null,imageSizes:null,imageSrcSet:null,inert:Zr,inputMode:null,integrity:null,is:null,isMap:Zr,itemId:null,itemProp:Fs,itemRef:Fs,itemScope:Zr,itemType:Fs,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Zr,low:$n,manifest:null,max:null,maxLength:$n,media:null,method:null,min:null,minLength:$n,multiple:Zr,muted:Zr,name:null,nonce:null,noModule:Zr,noValidate:Zr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Zr,optimum:$n,pattern:null,ping:Fs,placeholder:null,playsInline:Zr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Zr,referrerPolicy:null,rel:Fs,required:Zr,reversed:Zr,rows:$n,rowSpan:$n,sandbox:Fs,scope:null,scoped:Zr,seamless:Zr,selected:Zr,shadowRootClonable:Zr,shadowRootDelegatesFocus:Zr,shadowRootMode:null,shape:null,size:$n,sizes:null,slot:null,span:$n,spellCheck:Ho,src:null,srcDoc:null,srcLang:null,srcSet:null,start:$n,step:null,style:null,tabIndex:$n,target:null,title:null,translate:null,type:null,typeMustMatch:Zr,useMap:null,value:Ho,width:$n,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Fs,axis:null,background:null,bgColor:null,border:$n,borderColor:null,bottomMargin:$n,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Zr,declare:Zr,event:null,face:null,frame:null,frameBorder:null,hSpace:$n,leftMargin:$n,link:null,longDesc:null,lowSrc:null,marginHeight:$n,marginWidth:$n,noResize:Zr,noHref:Zr,noShade:Zr,noWrap:Zr,object:null,profile:null,prompt:null,rev:null,rightMargin:$n,rules:null,scheme:null,scrolling:Ho,standby:null,summary:null,text:null,topMargin:$n,valueType:null,version:null,vAlign:null,vLink:null,vSpace:$n,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Zr,disableRemotePlayback:Zr,prefix:null,property:null,results:$n,security:null,unselectable:null},space:"html",transform:QS}),IF=_2({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:r0,accentHeight:$n,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:$n,amplitude:$n,arabicForm:null,ascent:$n,attributeName:null,attributeType:null,azimuth:$n,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:$n,by:null,calcMode:null,capHeight:$n,className:Fs,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:$n,diffuseConstant:$n,direction:null,display:null,dur:null,divisor:$n,dominantBaseline:null,download:Zr,dx:null,dy:null,edgeMode:null,editable:null,elevation:$n,enableBackground:null,end:null,event:null,exponent:$n,externalResourcesRequired:null,fill:null,fillOpacity:$n,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:i2,g2:i2,glyphName:i2,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:$n,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:$n,horizOriginX:$n,horizOriginY:$n,id:null,ideographic:$n,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:$n,k:$n,k1:$n,k2:$n,k3:$n,k4:$n,kernelMatrix:r0,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:$n,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:$n,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:$n,overlineThickness:$n,paintOrder:null,panose1:null,path:null,pathLength:$n,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Fs,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:$n,pointsAtY:$n,pointsAtZ:$n,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:r0,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:r0,rev:r0,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:r0,requiredFeatures:r0,requiredFonts:r0,requiredFormats:r0,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:$n,specularExponent:$n,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:$n,strikethroughThickness:$n,string:null,stroke:null,strokeDashArray:r0,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:$n,strokeOpacity:$n,strokeWidth:null,style:null,surfaceScale:$n,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:r0,tabIndex:$n,tableValues:null,target:null,targetX:$n,targetY:$n,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:r0,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:$n,underlineThickness:$n,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:$n,values:null,vAlphabetic:$n,vMathematical:$n,vectorEffect:null,vHanging:$n,vIdeographic:$n,version:null,vertAdvY:$n,vertOriginX:$n,vertOriginY:$n,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:$n,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ZS}),ek=_2({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,n){return"xlink:"+n.slice(5).toLowerCase()}}),tk=_2({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:QS}),nk=_2({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,n){return"xml:"+n.slice(3).toLowerCase()}}),MF={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},NF=/[A-Z]/g,cT=/-[a-z]/g,OF=/^data[-\w.:]+$/i;function rk(t,n){const r=bm(n);let s=n,a=Ma;if(r in t.normal)return t.property[t.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&OF.test(n)){if(n.charAt(4)==="-"){const c=n.slice(5).replace(cT,LF);s="data"+c.charAt(0).toUpperCase()+c.slice(1)}else{const c=n.slice(4);if(!cT.test(c)){let d=c.replace(NF,RF);d.charAt(0)!=="-"&&(d="-"+d),n="data"+d}}a=c$}return new a(s,n)}function RF(t){return"-"+t.toLowerCase()}function LF(t){return t.charAt(1).toUpperCase()}const ik=KS([JS,AF,ek,tk,nk],"html"),k6=KS([JS,IF,ek,tk,nk],"svg");function hT(t){const n=String(t||"").trim();return n?n.split(/[ \t\n\r\f]+/g):[]}function DF(t){return t.join(" ").trim()}var J4={},L8,dT;function BF(){if(dT)return L8;dT=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,c=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,m=/^\s+|\s+$/g,$=`
`,v="/",_="*",T="",S="comment",k="declaration";function P(X,R){if(typeof X!="string")throw new TypeError("First argument must be a string");if(!X)return[];R=R||{};var W=1,te=1;function ie(Oe){var rt=Oe.match(n);rt&&(W+=rt.length);var Pe=Oe.lastIndexOf($);te=~Pe?Oe.length-Pe:te+Oe.length}function se(){var Oe={line:W,column:te};return function(rt){return rt.position=new Y(Oe),De(),rt}}function Y(Oe){this.start=Oe,this.end={line:W,column:te},this.source=R.source}Y.prototype.content=X;function fe(Oe){var rt=new Error(R.source+":"+W+":"+te+": "+Oe);if(rt.reason=Oe,rt.filename=R.source,rt.line=W,rt.column=te,rt.source=X,!R.silent)throw rt}function Ie(Oe){var rt=Oe.exec(X);if(rt){var Pe=rt[0];return ie(Pe),X=X.slice(Pe.length),rt}}function De(){Ie(r)}function Ue(Oe){var rt;for(Oe=Oe||[];rt=it();)rt!==!1&&Oe.push(rt);return Oe}function it(){var Oe=se();if(!(v!=X.charAt(0)||_!=X.charAt(1))){for(var rt=2;T!=X.charAt(rt)&&(_!=X.charAt(rt)||v!=X.charAt(rt+1));)++rt;if(rt+=2,T===X.charAt(rt-1))return fe("End of comment missing");var Pe=X.slice(2,rt-2);return te+=2,ie(Pe),X=X.slice(rt),te+=2,Oe({type:S,comment:Pe})}}function ze(){var Oe=se(),rt=Ie(s);if(rt){if(it(),!Ie(a))return fe("property missing ':'");var Pe=Ie(c),nt=Oe({type:k,property:G(rt[0].replace(t,T)),value:Pe?G(Pe[0].replace(t,T)):T});return Ie(d),nt}}function dt(){var Oe=[];Ue(Oe);for(var rt;rt=ze();)rt!==!1&&(Oe.push(rt),Ue(Oe));return Oe}return De(),dt()}function G(X){return X?X.replace(m,T):T}return L8=P,L8}var fT;function PF(){if(fT)return J4;fT=1;var t=J4&&J4.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(J4,"__esModule",{value:!0}),J4.default=r;const n=t(BF());function r(s,a){let c=null;if(!s||typeof s!="string")return c;const d=(0,n.default)(s),m=typeof a=="function";return d.forEach($=>{if($.type!=="declaration")return;const{property:v,value:_}=$;m?a(v,_,$):_&&(c=c||{},c[v]=_)}),c}return J4}var Yp={},pT;function FF(){if(pT)return Yp;pT=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,r=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,c=function(v){return!v||r.test(v)||t.test(v)},d=function(v,_){return _.toUpperCase()},m=function(v,_){return"".concat(_,"-")},$=function(v,_){return _===void 0&&(_={}),c(v)?v:(v=v.toLowerCase(),_.reactCompat?v=v.replace(a,m):v=v.replace(s,m),v.replace(n,d))};return Yp.camelCase=$,Yp}var Kp,mT;function UF(){if(mT)return Kp;mT=1;var t=Kp&&Kp.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},n=t(PF()),r=FF();function s(a,c){var d={};return!a||typeof a!="string"||(0,n.default)(a,function(m,$){m&&$&&(d[(0,r.camelCase)(m,c)]=$)}),d}return s.default=s,Kp=s,Kp}var zF=UF();const HF=l0(zF),sk=ok("end"),h$=ok("start");function ok(t){return n;function n(r){const s=r&&r.position&&r.position[t]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function VF(t){const n=h$(t),r=sk(t);if(n&&r)return{start:n,end:r}}function am(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?gT(t.position):"start"in t||"end"in t?gT(t):"line"in t||"column"in t?Bg(t):""}function Bg(t){return $T(t&&t.line)+":"+$T(t&&t.column)}function gT(t){return Bg(t&&t.start)+"-"+Bg(t&&t.end)}function $T(t){return t&&typeof t=="number"?t:1}class ql extends Error{constructor(n,r,s){super(),typeof r=="string"&&(s=r,r=void 0);let a="",c={},d=!1;if(r&&("line"in r&&"column"in r?c={place:r}:"start"in r&&"end"in r?c={place:r}:"type"in r?c={ancestors:[r],place:r.position}:c={...r}),typeof n=="string"?a=n:!c.cause&&n&&(d=!0,a=n.message,c.cause=n),!c.ruleId&&!c.source&&typeof s=="string"){const $=s.indexOf(":");$===-1?c.ruleId=s:(c.source=s.slice(0,$),c.ruleId=s.slice($+1))}if(!c.place&&c.ancestors&&c.ancestors){const $=c.ancestors[c.ancestors.length-1];$&&(c.place=$.position)}const m=c.place&&"start"in c.place?c.place.start:c.place;this.ancestors=c.ancestors||void 0,this.cause=c.cause||void 0,this.column=m?m.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=m?m.line:void 0,this.name=am(c.place)||"1:1",this.place=c.place||void 0,this.reason=this.message,this.ruleId=c.ruleId||void 0,this.source=c.source||void 0,this.stack=d&&c.cause&&typeof c.cause.stack=="string"?c.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ql.prototype.file="";ql.prototype.name="";ql.prototype.reason="";ql.prototype.message="";ql.prototype.stack="";ql.prototype.column=void 0;ql.prototype.line=void 0;ql.prototype.ancestors=void 0;ql.prototype.cause=void 0;ql.prototype.fatal=void 0;ql.prototype.place=void 0;ql.prototype.ruleId=void 0;ql.prototype.source=void 0;const d$={}.hasOwnProperty,GF=new Map,qF=/[A-Z]/g,WF=new Set(["table","tbody","thead","tfoot","tr"]),jF=new Set(["td","th"]),lk="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function XF(t,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=n.filePath||void 0;let s;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=nU(r,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=tU(r,n.jsx,n.jsxs)}const a={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:s,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?k6:ik,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},c=ak(a,t,void 0);return c&&typeof c!="string"?c:a.create(t,a.Fragment,{children:c||void 0},void 0)}function ak(t,n,r){if(n.type==="element")return YF(t,n,r);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return KF(t,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return ZF(t,n,r);if(n.type==="mdxjsEsm")return JF(t,n);if(n.type==="root")return QF(t,n,r);if(n.type==="text")return eU(t,n)}function YF(t,n,r){const s=t.schema;let a=s;n.tagName.toLowerCase()==="svg"&&s.space==="html"&&(a=k6,t.schema=a),t.ancestors.push(n);const c=ck(t,n.tagName,!1),d=rU(t,n);let m=p$(t,n);return WF.has(n.tagName)&&(m=m.filter(function($){return typeof $=="string"?!kF($):!0})),uk(t,d,c,n),f$(d,m),t.ancestors.pop(),t.schema=s,t.create(n,c,d,r)}function KF(t,n){if(n.data&&n.data.estree&&t.evaluater){const s=n.data.estree.body[0];return s.type,t.evaluater.evaluateExpression(s.expression)}ym(t,n.position)}function JF(t,n){if(n.data&&n.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(n.data.estree);ym(t,n.position)}function ZF(t,n,r){const s=t.schema;let a=s;n.name==="svg"&&s.space==="html"&&(a=k6,t.schema=a),t.ancestors.push(n);const c=n.name===null?t.Fragment:ck(t,n.name,!0),d=iU(t,n),m=p$(t,n);return uk(t,d,c,n),f$(d,m),t.ancestors.pop(),t.schema=s,t.create(n,c,d,r)}function QF(t,n,r){const s={};return f$(s,p$(t,n)),t.create(n,t.Fragment,s,r)}function eU(t,n){return n.value}function uk(t,n,r,s){typeof r!="string"&&r!==t.Fragment&&t.passNode&&(n.node=s)}function f$(t,n){if(n.length>0){const r=n.length>1?n:n[0];r&&(t.children=r)}}function tU(t,n,r){return s;function s(a,c,d,m){const v=Array.isArray(d.children)?r:n;return m?v(c,d,m):v(c,d)}}function nU(t,n){return r;function r(s,a,c,d){const m=Array.isArray(c.children),$=h$(s);return n(a,c,d,m,{columnNumber:$?$.column-1:void 0,fileName:t,lineNumber:$?$.line:void 0},void 0)}}function rU(t,n){const r={};let s,a;for(a in n.properties)if(a!=="children"&&d$.call(n.properties,a)){const c=sU(t,a,n.properties[a]);if(c){const[d,m]=c;t.tableCellAlignToStyle&&d==="align"&&typeof m=="string"&&jF.has(n.tagName)?s=m:r[d]=m}}if(s){const c=r.style||(r.style={});c[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return r}function iU(t,n){const r={};for(const s of n.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&t.evaluater){const c=s.data.estree.body[0];c.type;const d=c.expression;d.type;const m=d.properties[0];m.type,Object.assign(r,t.evaluater.evaluateExpression(m.argument))}else ym(t,n.position);else{const a=s.name;let c;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&t.evaluater){const m=s.value.data.estree.body[0];m.type,c=t.evaluater.evaluateExpression(m.expression)}else ym(t,n.position);else c=s.value===null?!0:s.value;r[a]=c}return r}function p$(t,n){const r=[];let s=-1;const a=t.passKeys?new Map:GF;for(;++s<n.children.length;){const c=n.children[s];let d;if(t.passKeys){const $=c.type==="element"?c.tagName:c.type==="mdxJsxFlowElement"||c.type==="mdxJsxTextElement"?c.name:void 0;if($){const v=a.get($)||0;d=$+"-"+v,a.set($,v+1)}}const m=ak(t,c,d);m!==void 0&&r.push(m)}return r}function sU(t,n,r){const s=rk(t.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=s.commaSeparated?TF(r):DF(r)),s.property==="style"){let a=typeof r=="object"?r:oU(t,String(r));return t.stylePropertyNameCase==="css"&&(a=lU(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&s.space?MF[s.property]||s.property:s.attribute,r]}}function oU(t,n){try{return HF(n,{reactCompat:!0})}catch(r){if(t.ignoreInvalidStyle)return{};const s=r,a=new ql("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=lk+"#cannot-parse-style-attribute",a}}function ck(t,n,r){let s;if(!r)s={type:"Literal",value:n};else if(n.includes(".")){const a=n.split(".");let c=-1,d;for(;++c<a.length;){const m=lT(a[c])?{type:"Identifier",name:a[c]}:{type:"Literal",value:a[c]};d=d?{type:"MemberExpression",object:d,property:m,computed:!!(c&&m.type==="Literal"),optional:!1}:m}s=d}else s=lT(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(s.type==="Literal"){const a=s.value;return d$.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(s);ym(t)}function ym(t,n){const r=new ql("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=lk+"#cannot-handle-mdx-estrees-without-createevaluater",r}function lU(t){const n={};let r;for(r in t)d$.call(t,r)&&(n[aU(r)]=t[r]);return n}function aU(t){let n=t.replace(qF,uU);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function uU(t){return"-"+t.toLowerCase()}const D8={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},cU={};function m$(t,n){const r=cU,s=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,a=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return hk(t,s,a)}function hk(t,n,r){if(hU(t)){if("value"in t)return t.type==="html"&&!r?"":t.value;if(n&&"alt"in t&&t.alt)return t.alt;if("children"in t)return vT(t.children,n,r)}return Array.isArray(t)?vT(t,n,r):""}function vT(t,n,r){const s=[];let a=-1;for(;++a<t.length;)s[a]=hk(t[a],n,r);return s.join("")}function hU(t){return!!(t&&typeof t=="object")}const bT=document.createElement("i");function g$(t){const n="&"+t+";";bT.innerHTML=n;const r=bT.textContent;return r.charCodeAt(r.length-1)===59&&t!=="semi"||r===n?!1:r}function s0(t,n,r,s){const a=t.length;let c=0,d;if(n<0?n=-n>a?0:a+n:n=n>a?a:n,r=r>0?r:0,s.length<1e4)d=Array.from(s),d.unshift(n,r),t.splice(...d);else for(r&&t.splice(n,r);c<s.length;)d=s.slice(c,c+1e4),d.unshift(n,0),t.splice(...d),c+=1e4,n+=1e4}function G0(t,n){return t.length>0?(s0(t,t.length,0,n),t):n}const yT={}.hasOwnProperty;function dk(t){const n={};let r=-1;for(;++r<t.length;)dU(n,t[r]);return n}function dU(t,n){let r;for(r in n){const a=(yT.call(t,r)?t[r]:void 0)||(t[r]={}),c=n[r];let d;if(c)for(d in c){yT.call(a,d)||(a[d]=[]);const m=c[d];fU(a[d],Array.isArray(m)?m:m?[m]:[])}}}function fU(t,n){let r=-1;const s=[];for(;++r<n.length;)(n[r].add==="after"?t:s).push(n[r]);s0(t,0,0,s)}function fk(t,n){const r=Number.parseInt(t,n);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Mu(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const da=sd(/[A-Za-z]/),Gl=sd(/[\dA-Za-z]/),pU=sd(/[#-'*+\--9=?A-Z^-~]/);function P5(t){return t!==null&&(t<32||t===127)}const Pg=sd(/\d/),mU=sd(/[\dA-Fa-f]/),gU=sd(/[!-/:-@[-`{-~]/);function or(t){return t!==null&&t<-2}function Ms(t){return t!==null&&(t<0||t===32)}function Ti(t){return t===-2||t===-1||t===32}const C6=sd(new RegExp("\\p{P}|\\p{S}","u")),hf=sd(/\s/);function sd(t){return n;function n(r){return r!==null&&r>-1&&t.test(String.fromCharCode(r))}}function T2(t){const n=[];let r=-1,s=0,a=0;for(;++r<t.length;){const c=t.charCodeAt(r);let d="";if(c===37&&Gl(t.charCodeAt(r+1))&&Gl(t.charCodeAt(r+2)))a=2;else if(c<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(c))||(d=String.fromCharCode(c));else if(c>55295&&c<57344){const m=t.charCodeAt(r+1);c<56320&&m>56319&&m<57344?(d=String.fromCharCode(c,m),a=1):d=""}else d=String.fromCharCode(c);d&&(n.push(t.slice(s,r),encodeURIComponent(d)),s=r+a+1,d=""),a&&(r+=a,a=0)}return n.join("")+t.slice(s)}function di(t,n,r,s){const a=s?s-1:Number.POSITIVE_INFINITY;let c=0;return d;function d($){return Ti($)?(t.enter(r),m($)):n($)}function m($){return Ti($)&&c++<a?(t.consume($),m):(t.exit(r),n($))}}const $U={tokenize:vU};function vU(t){const n=t.attempt(this.parser.constructs.contentInitial,s,a);let r;return n;function s(m){if(m===null){t.consume(m);return}return t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),di(t,n,"linePrefix")}function a(m){return t.enter("paragraph"),c(m)}function c(m){const $=t.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=$),r=$,d(m)}function d(m){if(m===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(m);return}return or(m)?(t.consume(m),t.exit("chunkText"),c):(t.consume(m),d)}}const bU={tokenize:yU},_T={tokenize:_U};function yU(t){const n=this,r=[];let s=0,a,c,d;return m;function m(te){if(s<r.length){const ie=r[s];return n.containerState=ie[1],t.attempt(ie[0].continuation,$,v)(te)}return v(te)}function $(te){if(s++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,a&&W();const ie=n.events.length;let se=ie,Y;for(;se--;)if(n.events[se][0]==="exit"&&n.events[se][1].type==="chunkFlow"){Y=n.events[se][1].end;break}R(s);let fe=ie;for(;fe<n.events.length;)n.events[fe][1].end={...Y},fe++;return s0(n.events,se+1,0,n.events.slice(ie)),n.events.length=fe,v(te)}return m(te)}function v(te){if(s===r.length){if(!a)return S(te);if(a.currentConstruct&&a.currentConstruct.concrete)return P(te);n.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return n.containerState={},t.check(_T,_,T)(te)}function _(te){return a&&W(),R(s),S(te)}function T(te){return n.parser.lazy[n.now().line]=s!==r.length,d=n.now().offset,P(te)}function S(te){return n.containerState={},t.attempt(_T,k,P)(te)}function k(te){return s++,r.push([n.currentConstruct,n.containerState]),S(te)}function P(te){if(te===null){a&&W(),R(0),t.consume(te);return}return a=a||n.parser.flow(n.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:c}),G(te)}function G(te){if(te===null){X(t.exit("chunkFlow"),!0),R(0),t.consume(te);return}return or(te)?(t.consume(te),X(t.exit("chunkFlow")),s=0,n.interrupt=void 0,m):(t.consume(te),G)}function X(te,ie){const se=n.sliceStream(te);if(ie&&se.push(null),te.previous=c,c&&(c.next=te),c=te,a.defineSkip(te.start),a.write(se),n.parser.lazy[te.start.line]){let Y=a.events.length;for(;Y--;)if(a.events[Y][1].start.offset<d&&(!a.events[Y][1].end||a.events[Y][1].end.offset>d))return;const fe=n.events.length;let Ie=fe,De,Ue;for(;Ie--;)if(n.events[Ie][0]==="exit"&&n.events[Ie][1].type==="chunkFlow"){if(De){Ue=n.events[Ie][1].end;break}De=!0}for(R(s),Y=fe;Y<n.events.length;)n.events[Y][1].end={...Ue},Y++;s0(n.events,Ie+1,0,n.events.slice(fe)),n.events.length=Y}}function R(te){let ie=r.length;for(;ie-- >te;){const se=r[ie];n.containerState=se[1],se[0].exit.call(n,t)}r.length=te}function W(){a.write([null]),c=void 0,a=void 0,n.containerState._closeFlow=void 0}}function _U(t,n,r){return di(t,t.attempt(this.parser.constructs.document,n,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function m2(t){if(t===null||Ms(t)||hf(t))return 1;if(C6(t))return 2}function A6(t,n,r){const s=[];let a=-1;for(;++a<t.length;){const c=t[a].resolveAll;c&&!s.includes(c)&&(n=c(n,r),s.push(c))}return n}const Fg={name:"attention",resolveAll:TU,tokenize:EU};function TU(t,n){let r=-1,s,a,c,d,m,$,v,_;for(;++r<t.length;)if(t[r][0]==="enter"&&t[r][1].type==="attentionSequence"&&t[r][1]._close){for(s=r;s--;)if(t[s][0]==="exit"&&t[s][1].type==="attentionSequence"&&t[s][1]._open&&n.sliceSerialize(t[s][1]).charCodeAt(0)===n.sliceSerialize(t[r][1]).charCodeAt(0)){if((t[s][1]._close||t[r][1]._open)&&(t[r][1].end.offset-t[r][1].start.offset)%3&&!((t[s][1].end.offset-t[s][1].start.offset+t[r][1].end.offset-t[r][1].start.offset)%3))continue;$=t[s][1].end.offset-t[s][1].start.offset>1&&t[r][1].end.offset-t[r][1].start.offset>1?2:1;const T={...t[s][1].end},S={...t[r][1].start};TT(T,-$),TT(S,$),d={type:$>1?"strongSequence":"emphasisSequence",start:T,end:{...t[s][1].end}},m={type:$>1?"strongSequence":"emphasisSequence",start:{...t[r][1].start},end:S},c={type:$>1?"strongText":"emphasisText",start:{...t[s][1].end},end:{...t[r][1].start}},a={type:$>1?"strong":"emphasis",start:{...d.start},end:{...m.end}},t[s][1].end={...d.start},t[r][1].start={...m.end},v=[],t[s][1].end.offset-t[s][1].start.offset&&(v=G0(v,[["enter",t[s][1],n],["exit",t[s][1],n]])),v=G0(v,[["enter",a,n],["enter",d,n],["exit",d,n],["enter",c,n]]),v=G0(v,A6(n.parser.constructs.insideSpan.null,t.slice(s+1,r),n)),v=G0(v,[["exit",c,n],["enter",m,n],["exit",m,n],["exit",a,n]]),t[r][1].end.offset-t[r][1].start.offset?(_=2,v=G0(v,[["enter",t[r][1],n],["exit",t[r][1],n]])):_=0,s0(t,s-1,r-s+3,v),r=s+v.length-_-2;break}}for(r=-1;++r<t.length;)t[r][1].type==="attentionSequence"&&(t[r][1].type="data");return t}function EU(t,n){const r=this.parser.constructs.attentionMarkers.null,s=this.previous,a=m2(s);let c;return d;function d($){return c=$,t.enter("attentionSequence"),m($)}function m($){if($===c)return t.consume($),m;const v=t.exit("attentionSequence"),_=m2($),T=!_||_===2&&a||r.includes($),S=!a||a===2&&_||r.includes(s);return v._open=!!(c===42?T:T&&(a||!S)),v._close=!!(c===42?S:S&&(_||!T)),n($)}}function TT(t,n){t.column+=n,t.offset+=n,t._bufferIndex+=n}const wU={name:"autolink",tokenize:xU};function xU(t,n,r){let s=0;return a;function a(k){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(k),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),c}function c(k){return da(k)?(t.consume(k),d):k===64?r(k):v(k)}function d(k){return k===43||k===45||k===46||Gl(k)?(s=1,m(k)):v(k)}function m(k){return k===58?(t.consume(k),s=0,$):(k===43||k===45||k===46||Gl(k))&&s++<32?(t.consume(k),m):(s=0,v(k))}function $(k){return k===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(k),t.exit("autolinkMarker"),t.exit("autolink"),n):k===null||k===32||k===60||P5(k)?r(k):(t.consume(k),$)}function v(k){return k===64?(t.consume(k),_):pU(k)?(t.consume(k),v):r(k)}function _(k){return Gl(k)?T(k):r(k)}function T(k){return k===46?(t.consume(k),s=0,_):k===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(k),t.exit("autolinkMarker"),t.exit("autolink"),n):S(k)}function S(k){if((k===45||Gl(k))&&s++<63){const P=k===45?S:T;return t.consume(k),P}return r(k)}}const Lm={partial:!0,tokenize:SU};function SU(t,n,r){return s;function s(c){return Ti(c)?di(t,a,"linePrefix")(c):a(c)}function a(c){return c===null||or(c)?n(c):r(c)}}const pk={continuation:{tokenize:CU},exit:AU,name:"blockQuote",tokenize:kU};function kU(t,n,r){const s=this;return a;function a(d){if(d===62){const m=s.containerState;return m.open||(t.enter("blockQuote",{_container:!0}),m.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(d),t.exit("blockQuoteMarker"),c}return r(d)}function c(d){return Ti(d)?(t.enter("blockQuotePrefixWhitespace"),t.consume(d),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),n):(t.exit("blockQuotePrefix"),n(d))}}function CU(t,n,r){const s=this;return a;function a(d){return Ti(d)?di(t,c,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):c(d)}function c(d){return t.attempt(pk,n,r)(d)}}function AU(t){t.exit("blockQuote")}const mk={name:"characterEscape",tokenize:IU};function IU(t,n,r){return s;function s(c){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(c),t.exit("escapeMarker"),a}function a(c){return gU(c)?(t.enter("characterEscapeValue"),t.consume(c),t.exit("characterEscapeValue"),t.exit("characterEscape"),n):r(c)}}const gk={name:"characterReference",tokenize:MU};function MU(t,n,r){const s=this;let a=0,c,d;return m;function m(T){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(T),t.exit("characterReferenceMarker"),$}function $(T){return T===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(T),t.exit("characterReferenceMarkerNumeric"),v):(t.enter("characterReferenceValue"),c=31,d=Gl,_(T))}function v(T){return T===88||T===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(T),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),c=6,d=mU,_):(t.enter("characterReferenceValue"),c=7,d=Pg,_(T))}function _(T){if(T===59&&a){const S=t.exit("characterReferenceValue");return d===Gl&&!g$(s.sliceSerialize(S))?r(T):(t.enter("characterReferenceMarker"),t.consume(T),t.exit("characterReferenceMarker"),t.exit("characterReference"),n)}return d(T)&&a++<c?(t.consume(T),_):r(T)}}const ET={partial:!0,tokenize:OU},wT={concrete:!0,name:"codeFenced",tokenize:NU};function NU(t,n,r){const s=this,a={partial:!0,tokenize:se};let c=0,d=0,m;return $;function $(Y){return v(Y)}function v(Y){const fe=s.events[s.events.length-1];return c=fe&&fe[1].type==="linePrefix"?fe[2].sliceSerialize(fe[1],!0).length:0,m=Y,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),_(Y)}function _(Y){return Y===m?(d++,t.consume(Y),_):d<3?r(Y):(t.exit("codeFencedFenceSequence"),Ti(Y)?di(t,T,"whitespace")(Y):T(Y))}function T(Y){return Y===null||or(Y)?(t.exit("codeFencedFence"),s.interrupt?n(Y):t.check(ET,G,ie)(Y)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),S(Y))}function S(Y){return Y===null||or(Y)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),T(Y)):Ti(Y)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),di(t,k,"whitespace")(Y)):Y===96&&Y===m?r(Y):(t.consume(Y),S)}function k(Y){return Y===null||or(Y)?T(Y):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),P(Y))}function P(Y){return Y===null||or(Y)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),T(Y)):Y===96&&Y===m?r(Y):(t.consume(Y),P)}function G(Y){return t.attempt(a,ie,X)(Y)}function X(Y){return t.enter("lineEnding"),t.consume(Y),t.exit("lineEnding"),R}function R(Y){return c>0&&Ti(Y)?di(t,W,"linePrefix",c+1)(Y):W(Y)}function W(Y){return Y===null||or(Y)?t.check(ET,G,ie)(Y):(t.enter("codeFlowValue"),te(Y))}function te(Y){return Y===null||or(Y)?(t.exit("codeFlowValue"),W(Y)):(t.consume(Y),te)}function ie(Y){return t.exit("codeFenced"),n(Y)}function se(Y,fe,Ie){let De=0;return Ue;function Ue(rt){return Y.enter("lineEnding"),Y.consume(rt),Y.exit("lineEnding"),it}function it(rt){return Y.enter("codeFencedFence"),Ti(rt)?di(Y,ze,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(rt):ze(rt)}function ze(rt){return rt===m?(Y.enter("codeFencedFenceSequence"),dt(rt)):Ie(rt)}function dt(rt){return rt===m?(De++,Y.consume(rt),dt):De>=d?(Y.exit("codeFencedFenceSequence"),Ti(rt)?di(Y,Oe,"whitespace")(rt):Oe(rt)):Ie(rt)}function Oe(rt){return rt===null||or(rt)?(Y.exit("codeFencedFence"),fe(rt)):Ie(rt)}}}function OU(t,n,r){const s=this;return a;function a(d){return d===null?r(d):(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),c)}function c(d){return s.parser.lazy[s.now().line]?r(d):n(d)}}const B8={name:"codeIndented",tokenize:LU},RU={partial:!0,tokenize:DU};function LU(t,n,r){const s=this;return a;function a(v){return t.enter("codeIndented"),di(t,c,"linePrefix",5)(v)}function c(v){const _=s.events[s.events.length-1];return _&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?d(v):r(v)}function d(v){return v===null?$(v):or(v)?t.attempt(RU,d,$)(v):(t.enter("codeFlowValue"),m(v))}function m(v){return v===null||or(v)?(t.exit("codeFlowValue"),d(v)):(t.consume(v),m)}function $(v){return t.exit("codeIndented"),n(v)}}function DU(t,n,r){const s=this;return a;function a(d){return s.parser.lazy[s.now().line]?r(d):or(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),a):di(t,c,"linePrefix",5)(d)}function c(d){const m=s.events[s.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?n(d):or(d)?a(d):r(d)}}const BU={name:"codeText",previous:FU,resolve:PU,tokenize:UU};function PU(t){let n=t.length-4,r=3,s,a;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[n][1].type==="lineEnding"||t[n][1].type==="space")){for(s=r;++s<n;)if(t[s][1].type==="codeTextData"){t[r][1].type="codeTextPadding",t[n][1].type="codeTextPadding",r+=2,n-=2;break}}for(s=r-1,n++;++s<=n;)a===void 0?s!==n&&t[s][1].type!=="lineEnding"&&(a=s):(s===n||t[s][1].type==="lineEnding")&&(t[a][1].type="codeTextData",s!==a+2&&(t[a][1].end=t[s-1][1].end,t.splice(a+2,s-a-2),n-=s-a-2,s=a+2),a=void 0);return t}function FU(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function UU(t,n,r){let s=0,a,c;return d;function d(T){return t.enter("codeText"),t.enter("codeTextSequence"),m(T)}function m(T){return T===96?(t.consume(T),s++,m):(t.exit("codeTextSequence"),$(T))}function $(T){return T===null?r(T):T===32?(t.enter("space"),t.consume(T),t.exit("space"),$):T===96?(c=t.enter("codeTextSequence"),a=0,_(T)):or(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),$):(t.enter("codeTextData"),v(T))}function v(T){return T===null||T===32||T===96||or(T)?(t.exit("codeTextData"),$(T)):(t.consume(T),v)}function _(T){return T===96?(t.consume(T),a++,_):a===s?(t.exit("codeTextSequence"),t.exit("codeText"),n(T)):(c.type="codeTextData",v(T))}}class zU{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,r){const s=r??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(n,s):n>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(n,r,s){const a=r||0;this.setCursor(Math.trunc(n));const c=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return s&&Jp(this.left,s),c.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),Jp(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),Jp(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const r=this.left.splice(n,Number.POSITIVE_INFINITY);Jp(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);Jp(this.left,r.reverse())}}}function Jp(t,n){let r=0;if(n.length<1e4)t.push(...n);else for(;r<n.length;)t.push(...n.slice(r,r+1e4)),r+=1e4}function $k(t){const n={};let r=-1,s,a,c,d,m,$,v;const _=new zU(t);for(;++r<_.length;){for(;r in n;)r=n[r];if(s=_.get(r),r&&s[1].type==="chunkFlow"&&_.get(r-1)[1].type==="listItemPrefix"&&($=s[1]._tokenizer.events,c=0,c<$.length&&$[c][1].type==="lineEndingBlank"&&(c+=2),c<$.length&&$[c][1].type==="content"))for(;++c<$.length&&$[c][1].type!=="content";)$[c][1].type==="chunkText"&&($[c][1]._isInFirstContentOfListItem=!0,c++);if(s[0]==="enter")s[1].contentType&&(Object.assign(n,HU(_,r)),r=n[r],v=!0);else if(s[1]._container){for(c=r,a=void 0;c--;)if(d=_.get(c),d[1].type==="lineEnding"||d[1].type==="lineEndingBlank")d[0]==="enter"&&(a&&(_.get(a)[1].type="lineEndingBlank"),d[1].type="lineEnding",a=c);else if(!(d[1].type==="linePrefix"||d[1].type==="listItemIndent"))break;a&&(s[1].end={..._.get(a)[1].start},m=_.slice(a,r),m.unshift(s),_.splice(a,r-a+1,m))}}return s0(t,0,Number.POSITIVE_INFINITY,_.slice(0)),!v}function HU(t,n){const r=t.get(n)[1],s=t.get(n)[2];let a=n-1;const c=[];let d=r._tokenizer;d||(d=s.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(d._contentTypeTextTrailing=!0));const m=d.events,$=[],v={};let _,T,S=-1,k=r,P=0,G=0;const X=[G];for(;k;){for(;t.get(++a)[1]!==k;);c.push(a),k._tokenizer||(_=s.sliceStream(k),k.next||_.push(null),T&&d.defineSkip(k.start),k._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(_),k._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),T=k,k=k.next}for(k=r;++S<m.length;)m[S][0]==="exit"&&m[S-1][0]==="enter"&&m[S][1].type===m[S-1][1].type&&m[S][1].start.line!==m[S][1].end.line&&(G=S+1,X.push(G),k._tokenizer=void 0,k.previous=void 0,k=k.next);for(d.events=[],k?(k._tokenizer=void 0,k.previous=void 0):X.pop(),S=X.length;S--;){const R=m.slice(X[S],X[S+1]),W=c.pop();$.push([W,W+R.length-1]),t.splice(W,2,R)}for($.reverse(),S=-1;++S<$.length;)v[P+$[S][0]]=P+$[S][1],P+=$[S][1]-$[S][0]-1;return v}const VU={resolve:qU,tokenize:WU},GU={partial:!0,tokenize:jU};function qU(t){return $k(t),t}function WU(t,n){let r;return s;function s(m){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),a(m)}function a(m){return m===null?c(m):or(m)?t.check(GU,d,c)(m):(t.consume(m),a)}function c(m){return t.exit("chunkContent"),t.exit("content"),n(m)}function d(m){return t.consume(m),t.exit("chunkContent"),r.next=t.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,a}}function jU(t,n,r){const s=this;return a;function a(d){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),di(t,c,"linePrefix")}function c(d){if(d===null||or(d))return r(d);const m=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?n(d):t.interrupt(s.parser.constructs.flow,r,n)(d)}}function vk(t,n,r,s,a,c,d,m,$){const v=$||Number.POSITIVE_INFINITY;let _=0;return T;function T(R){return R===60?(t.enter(s),t.enter(a),t.enter(c),t.consume(R),t.exit(c),S):R===null||R===32||R===41||P5(R)?r(R):(t.enter(s),t.enter(d),t.enter(m),t.enter("chunkString",{contentType:"string"}),G(R))}function S(R){return R===62?(t.enter(c),t.consume(R),t.exit(c),t.exit(a),t.exit(s),n):(t.enter(m),t.enter("chunkString",{contentType:"string"}),k(R))}function k(R){return R===62?(t.exit("chunkString"),t.exit(m),S(R)):R===null||R===60||or(R)?r(R):(t.consume(R),R===92?P:k)}function P(R){return R===60||R===62||R===92?(t.consume(R),k):k(R)}function G(R){return!_&&(R===null||R===41||Ms(R))?(t.exit("chunkString"),t.exit(m),t.exit(d),t.exit(s),n(R)):_<v&&R===40?(t.consume(R),_++,G):R===41?(t.consume(R),_--,G):R===null||R===32||R===40||P5(R)?r(R):(t.consume(R),R===92?X:G)}function X(R){return R===40||R===41||R===92?(t.consume(R),G):G(R)}}function bk(t,n,r,s,a,c){const d=this;let m=0,$;return v;function v(k){return t.enter(s),t.enter(a),t.consume(k),t.exit(a),t.enter(c),_}function _(k){return m>999||k===null||k===91||k===93&&!$||k===94&&!m&&"_hiddenFootnoteSupport"in d.parser.constructs?r(k):k===93?(t.exit(c),t.enter(a),t.consume(k),t.exit(a),t.exit(s),n):or(k)?(t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),_):(t.enter("chunkString",{contentType:"string"}),T(k))}function T(k){return k===null||k===91||k===93||or(k)||m++>999?(t.exit("chunkString"),_(k)):(t.consume(k),$||($=!Ti(k)),k===92?S:T)}function S(k){return k===91||k===92||k===93?(t.consume(k),m++,T):T(k)}}function yk(t,n,r,s,a,c){let d;return m;function m(S){return S===34||S===39||S===40?(t.enter(s),t.enter(a),t.consume(S),t.exit(a),d=S===40?41:S,$):r(S)}function $(S){return S===d?(t.enter(a),t.consume(S),t.exit(a),t.exit(s),n):(t.enter(c),v(S))}function v(S){return S===d?(t.exit(c),$(d)):S===null?r(S):or(S)?(t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),di(t,v,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),_(S))}function _(S){return S===d||S===null||or(S)?(t.exit("chunkString"),v(S)):(t.consume(S),S===92?T:_)}function T(S){return S===d||S===92?(t.consume(S),_):_(S)}}function um(t,n){let r;return s;function s(a){return or(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),r=!0,s):Ti(a)?di(t,s,r?"linePrefix":"lineSuffix")(a):n(a)}}const XU={name:"definition",tokenize:KU},YU={partial:!0,tokenize:JU};function KU(t,n,r){const s=this;let a;return c;function c(k){return t.enter("definition"),d(k)}function d(k){return bk.call(s,t,m,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(k)}function m(k){return a=Mu(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),k===58?(t.enter("definitionMarker"),t.consume(k),t.exit("definitionMarker"),$):r(k)}function $(k){return Ms(k)?um(t,v)(k):v(k)}function v(k){return vk(t,_,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(k)}function _(k){return t.attempt(YU,T,T)(k)}function T(k){return Ti(k)?di(t,S,"whitespace")(k):S(k)}function S(k){return k===null||or(k)?(t.exit("definition"),s.parser.defined.push(a),n(k)):r(k)}}function JU(t,n,r){return s;function s(m){return Ms(m)?um(t,a)(m):r(m)}function a(m){return yk(t,c,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(m)}function c(m){return Ti(m)?di(t,d,"whitespace")(m):d(m)}function d(m){return m===null||or(m)?n(m):r(m)}}const ZU={name:"hardBreakEscape",tokenize:QU};function QU(t,n,r){return s;function s(c){return t.enter("hardBreakEscape"),t.consume(c),a}function a(c){return or(c)?(t.exit("hardBreakEscape"),n(c)):r(c)}}const ez={name:"headingAtx",resolve:tz,tokenize:nz};function tz(t,n){let r=t.length-2,s=3,a,c;return t[s][1].type==="whitespace"&&(s+=2),r-2>s&&t[r][1].type==="whitespace"&&(r-=2),t[r][1].type==="atxHeadingSequence"&&(s===r-1||r-4>s&&t[r-2][1].type==="whitespace")&&(r-=s+1===r?2:4),r>s&&(a={type:"atxHeadingText",start:t[s][1].start,end:t[r][1].end},c={type:"chunkText",start:t[s][1].start,end:t[r][1].end,contentType:"text"},s0(t,s,r-s+1,[["enter",a,n],["enter",c,n],["exit",c,n],["exit",a,n]])),t}function nz(t,n,r){let s=0;return a;function a(_){return t.enter("atxHeading"),c(_)}function c(_){return t.enter("atxHeadingSequence"),d(_)}function d(_){return _===35&&s++<6?(t.consume(_),d):_===null||Ms(_)?(t.exit("atxHeadingSequence"),m(_)):r(_)}function m(_){return _===35?(t.enter("atxHeadingSequence"),$(_)):_===null||or(_)?(t.exit("atxHeading"),n(_)):Ti(_)?di(t,m,"whitespace")(_):(t.enter("atxHeadingText"),v(_))}function $(_){return _===35?(t.consume(_),$):(t.exit("atxHeadingSequence"),m(_))}function v(_){return _===null||_===35||Ms(_)?(t.exit("atxHeadingText"),m(_)):(t.consume(_),v)}}const rz=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],xT=["pre","script","style","textarea"],iz={concrete:!0,name:"htmlFlow",resolveTo:lz,tokenize:az},sz={partial:!0,tokenize:cz},oz={partial:!0,tokenize:uz};function lz(t){let n=t.length;for(;n--&&!(t[n][0]==="enter"&&t[n][1].type==="htmlFlow"););return n>1&&t[n-2][1].type==="linePrefix"&&(t[n][1].start=t[n-2][1].start,t[n+1][1].start=t[n-2][1].start,t.splice(n-2,2)),t}function az(t,n,r){const s=this;let a,c,d,m,$;return v;function v(_e){return _(_e)}function _(_e){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(_e),T}function T(_e){return _e===33?(t.consume(_e),S):_e===47?(t.consume(_e),c=!0,G):_e===63?(t.consume(_e),a=3,s.interrupt?n:de):da(_e)?(t.consume(_e),d=String.fromCharCode(_e),X):r(_e)}function S(_e){return _e===45?(t.consume(_e),a=2,k):_e===91?(t.consume(_e),a=5,m=0,P):da(_e)?(t.consume(_e),a=4,s.interrupt?n:de):r(_e)}function k(_e){return _e===45?(t.consume(_e),s.interrupt?n:de):r(_e)}function P(_e){const Ct="CDATA[";return _e===Ct.charCodeAt(m++)?(t.consume(_e),m===Ct.length?s.interrupt?n:ze:P):r(_e)}function G(_e){return da(_e)?(t.consume(_e),d=String.fromCharCode(_e),X):r(_e)}function X(_e){if(_e===null||_e===47||_e===62||Ms(_e)){const Ct=_e===47,$t=d.toLowerCase();return!Ct&&!c&&xT.includes($t)?(a=1,s.interrupt?n(_e):ze(_e)):rz.includes(d.toLowerCase())?(a=6,Ct?(t.consume(_e),R):s.interrupt?n(_e):ze(_e)):(a=7,s.interrupt&&!s.parser.lazy[s.now().line]?r(_e):c?W(_e):te(_e))}return _e===45||Gl(_e)?(t.consume(_e),d+=String.fromCharCode(_e),X):r(_e)}function R(_e){return _e===62?(t.consume(_e),s.interrupt?n:ze):r(_e)}function W(_e){return Ti(_e)?(t.consume(_e),W):Ue(_e)}function te(_e){return _e===47?(t.consume(_e),Ue):_e===58||_e===95||da(_e)?(t.consume(_e),ie):Ti(_e)?(t.consume(_e),te):Ue(_e)}function ie(_e){return _e===45||_e===46||_e===58||_e===95||Gl(_e)?(t.consume(_e),ie):se(_e)}function se(_e){return _e===61?(t.consume(_e),Y):Ti(_e)?(t.consume(_e),se):te(_e)}function Y(_e){return _e===null||_e===60||_e===61||_e===62||_e===96?r(_e):_e===34||_e===39?(t.consume(_e),$=_e,fe):Ti(_e)?(t.consume(_e),Y):Ie(_e)}function fe(_e){return _e===$?(t.consume(_e),$=null,De):_e===null||or(_e)?r(_e):(t.consume(_e),fe)}function Ie(_e){return _e===null||_e===34||_e===39||_e===47||_e===60||_e===61||_e===62||_e===96||Ms(_e)?se(_e):(t.consume(_e),Ie)}function De(_e){return _e===47||_e===62||Ti(_e)?te(_e):r(_e)}function Ue(_e){return _e===62?(t.consume(_e),it):r(_e)}function it(_e){return _e===null||or(_e)?ze(_e):Ti(_e)?(t.consume(_e),it):r(_e)}function ze(_e){return _e===45&&a===2?(t.consume(_e),Pe):_e===60&&a===1?(t.consume(_e),nt):_e===62&&a===4?(t.consume(_e),Fe):_e===63&&a===3?(t.consume(_e),de):_e===93&&a===5?(t.consume(_e),Lt):or(_e)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(sz,et,dt)(_e)):_e===null||or(_e)?(t.exit("htmlFlowData"),dt(_e)):(t.consume(_e),ze)}function dt(_e){return t.check(oz,Oe,et)(_e)}function Oe(_e){return t.enter("lineEnding"),t.consume(_e),t.exit("lineEnding"),rt}function rt(_e){return _e===null||or(_e)?dt(_e):(t.enter("htmlFlowData"),ze(_e))}function Pe(_e){return _e===45?(t.consume(_e),de):ze(_e)}function nt(_e){return _e===47?(t.consume(_e),d="",ot):ze(_e)}function ot(_e){if(_e===62){const Ct=d.toLowerCase();return xT.includes(Ct)?(t.consume(_e),Fe):ze(_e)}return da(_e)&&d.length<8?(t.consume(_e),d+=String.fromCharCode(_e),ot):ze(_e)}function Lt(_e){return _e===93?(t.consume(_e),de):ze(_e)}function de(_e){return _e===62?(t.consume(_e),Fe):_e===45&&a===2?(t.consume(_e),de):ze(_e)}function Fe(_e){return _e===null||or(_e)?(t.exit("htmlFlowData"),et(_e)):(t.consume(_e),Fe)}function et(_e){return t.exit("htmlFlow"),n(_e)}}function uz(t,n,r){const s=this;return a;function a(d){return or(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),c):r(d)}function c(d){return s.parser.lazy[s.now().line]?r(d):n(d)}}function cz(t,n,r){return s;function s(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(Lm,n,r)}}const hz={name:"htmlText",tokenize:dz};function dz(t,n,r){const s=this;let a,c,d;return m;function m(de){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(de),$}function $(de){return de===33?(t.consume(de),v):de===47?(t.consume(de),se):de===63?(t.consume(de),te):da(de)?(t.consume(de),Ie):r(de)}function v(de){return de===45?(t.consume(de),_):de===91?(t.consume(de),c=0,P):da(de)?(t.consume(de),W):r(de)}function _(de){return de===45?(t.consume(de),k):r(de)}function T(de){return de===null?r(de):de===45?(t.consume(de),S):or(de)?(d=T,nt(de)):(t.consume(de),T)}function S(de){return de===45?(t.consume(de),k):T(de)}function k(de){return de===62?Pe(de):de===45?S(de):T(de)}function P(de){const Fe="CDATA[";return de===Fe.charCodeAt(c++)?(t.consume(de),c===Fe.length?G:P):r(de)}function G(de){return de===null?r(de):de===93?(t.consume(de),X):or(de)?(d=G,nt(de)):(t.consume(de),G)}function X(de){return de===93?(t.consume(de),R):G(de)}function R(de){return de===62?Pe(de):de===93?(t.consume(de),R):G(de)}function W(de){return de===null||de===62?Pe(de):or(de)?(d=W,nt(de)):(t.consume(de),W)}function te(de){return de===null?r(de):de===63?(t.consume(de),ie):or(de)?(d=te,nt(de)):(t.consume(de),te)}function ie(de){return de===62?Pe(de):te(de)}function se(de){return da(de)?(t.consume(de),Y):r(de)}function Y(de){return de===45||Gl(de)?(t.consume(de),Y):fe(de)}function fe(de){return or(de)?(d=fe,nt(de)):Ti(de)?(t.consume(de),fe):Pe(de)}function Ie(de){return de===45||Gl(de)?(t.consume(de),Ie):de===47||de===62||Ms(de)?De(de):r(de)}function De(de){return de===47?(t.consume(de),Pe):de===58||de===95||da(de)?(t.consume(de),Ue):or(de)?(d=De,nt(de)):Ti(de)?(t.consume(de),De):Pe(de)}function Ue(de){return de===45||de===46||de===58||de===95||Gl(de)?(t.consume(de),Ue):it(de)}function it(de){return de===61?(t.consume(de),ze):or(de)?(d=it,nt(de)):Ti(de)?(t.consume(de),it):De(de)}function ze(de){return de===null||de===60||de===61||de===62||de===96?r(de):de===34||de===39?(t.consume(de),a=de,dt):or(de)?(d=ze,nt(de)):Ti(de)?(t.consume(de),ze):(t.consume(de),Oe)}function dt(de){return de===a?(t.consume(de),a=void 0,rt):de===null?r(de):or(de)?(d=dt,nt(de)):(t.consume(de),dt)}function Oe(de){return de===null||de===34||de===39||de===60||de===61||de===96?r(de):de===47||de===62||Ms(de)?De(de):(t.consume(de),Oe)}function rt(de){return de===47||de===62||Ms(de)?De(de):r(de)}function Pe(de){return de===62?(t.consume(de),t.exit("htmlTextData"),t.exit("htmlText"),n):r(de)}function nt(de){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(de),t.exit("lineEnding"),ot}function ot(de){return Ti(de)?di(t,Lt,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(de):Lt(de)}function Lt(de){return t.enter("htmlTextData"),d(de)}}const $$={name:"labelEnd",resolveAll:gz,resolveTo:$z,tokenize:vz},fz={tokenize:bz},pz={tokenize:yz},mz={tokenize:_z};function gz(t){let n=-1;const r=[];for(;++n<t.length;){const s=t[n][1];if(r.push(t[n]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const a=s.type==="labelImage"?4:2;s.type="data",n+=a}}return t.length!==r.length&&s0(t,0,t.length,r),t}function $z(t,n){let r=t.length,s=0,a,c,d,m;for(;r--;)if(a=t[r][1],c){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[r][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(d){if(t[r][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(c=r,a.type!=="labelLink")){s=2;break}}else a.type==="labelEnd"&&(d=r);const $={type:t[c][1].type==="labelLink"?"link":"image",start:{...t[c][1].start},end:{...t[t.length-1][1].end}},v={type:"label",start:{...t[c][1].start},end:{...t[d][1].end}},_={type:"labelText",start:{...t[c+s+2][1].end},end:{...t[d-2][1].start}};return m=[["enter",$,n],["enter",v,n]],m=G0(m,t.slice(c+1,c+s+3)),m=G0(m,[["enter",_,n]]),m=G0(m,A6(n.parser.constructs.insideSpan.null,t.slice(c+s+4,d-3),n)),m=G0(m,[["exit",_,n],t[d-2],t[d-1],["exit",v,n]]),m=G0(m,t.slice(d+1)),m=G0(m,[["exit",$,n]]),s0(t,c,t.length,m),t}function vz(t,n,r){const s=this;let a=s.events.length,c,d;for(;a--;)if((s.events[a][1].type==="labelImage"||s.events[a][1].type==="labelLink")&&!s.events[a][1]._balanced){c=s.events[a][1];break}return m;function m(S){return c?c._inactive?T(S):(d=s.parser.defined.includes(Mu(s.sliceSerialize({start:c.end,end:s.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(S),t.exit("labelMarker"),t.exit("labelEnd"),$):r(S)}function $(S){return S===40?t.attempt(fz,_,d?_:T)(S):S===91?t.attempt(pz,_,d?v:T)(S):d?_(S):T(S)}function v(S){return t.attempt(mz,_,T)(S)}function _(S){return n(S)}function T(S){return c._balanced=!0,r(S)}}function bz(t,n,r){return s;function s(T){return t.enter("resource"),t.enter("resourceMarker"),t.consume(T),t.exit("resourceMarker"),a}function a(T){return Ms(T)?um(t,c)(T):c(T)}function c(T){return T===41?_(T):vk(t,d,m,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(T)}function d(T){return Ms(T)?um(t,$)(T):_(T)}function m(T){return r(T)}function $(T){return T===34||T===39||T===40?yk(t,v,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(T):_(T)}function v(T){return Ms(T)?um(t,_)(T):_(T)}function _(T){return T===41?(t.enter("resourceMarker"),t.consume(T),t.exit("resourceMarker"),t.exit("resource"),n):r(T)}}function yz(t,n,r){const s=this;return a;function a(m){return bk.call(s,t,c,d,"reference","referenceMarker","referenceString")(m)}function c(m){return s.parser.defined.includes(Mu(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?n(m):r(m)}function d(m){return r(m)}}function _z(t,n,r){return s;function s(c){return t.enter("reference"),t.enter("referenceMarker"),t.consume(c),t.exit("referenceMarker"),a}function a(c){return c===93?(t.enter("referenceMarker"),t.consume(c),t.exit("referenceMarker"),t.exit("reference"),n):r(c)}}const Tz={name:"labelStartImage",resolveAll:$$.resolveAll,tokenize:Ez};function Ez(t,n,r){const s=this;return a;function a(m){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(m),t.exit("labelImageMarker"),c}function c(m){return m===91?(t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelImage"),d):r(m)}function d(m){return m===94&&"_hiddenFootnoteSupport"in s.parser.constructs?r(m):n(m)}}const wz={name:"labelStartLink",resolveAll:$$.resolveAll,tokenize:xz};function xz(t,n,r){const s=this;return a;function a(d){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelLink"),c}function c(d){return d===94&&"_hiddenFootnoteSupport"in s.parser.constructs?r(d):n(d)}}const P8={name:"lineEnding",tokenize:Sz};function Sz(t,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),di(t,n,"linePrefix")}}const h5={name:"thematicBreak",tokenize:kz};function kz(t,n,r){let s=0,a;return c;function c(v){return t.enter("thematicBreak"),d(v)}function d(v){return a=v,m(v)}function m(v){return v===a?(t.enter("thematicBreakSequence"),$(v)):s>=3&&(v===null||or(v))?(t.exit("thematicBreak"),n(v)):r(v)}function $(v){return v===a?(t.consume(v),s++,$):(t.exit("thematicBreakSequence"),Ti(v)?di(t,m,"whitespace")(v):m(v))}}const ka={continuation:{tokenize:Mz},exit:Oz,name:"list",tokenize:Iz},Cz={partial:!0,tokenize:Rz},Az={partial:!0,tokenize:Nz};function Iz(t,n,r){const s=this,a=s.events[s.events.length-1];let c=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,d=0;return m;function m(k){const P=s.containerState.type||(k===42||k===43||k===45?"listUnordered":"listOrdered");if(P==="listUnordered"?!s.containerState.marker||k===s.containerState.marker:Pg(k)){if(s.containerState.type||(s.containerState.type=P,t.enter(P,{_container:!0})),P==="listUnordered")return t.enter("listItemPrefix"),k===42||k===45?t.check(h5,r,v)(k):v(k);if(!s.interrupt||k===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),$(k)}return r(k)}function $(k){return Pg(k)&&++d<10?(t.consume(k),$):(!s.interrupt||d<2)&&(s.containerState.marker?k===s.containerState.marker:k===41||k===46)?(t.exit("listItemValue"),v(k)):r(k)}function v(k){return t.enter("listItemMarker"),t.consume(k),t.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||k,t.check(Lm,s.interrupt?r:_,t.attempt(Cz,S,T))}function _(k){return s.containerState.initialBlankLine=!0,c++,S(k)}function T(k){return Ti(k)?(t.enter("listItemPrefixWhitespace"),t.consume(k),t.exit("listItemPrefixWhitespace"),S):r(k)}function S(k){return s.containerState.size=c+s.sliceSerialize(t.exit("listItemPrefix"),!0).length,n(k)}}function Mz(t,n,r){const s=this;return s.containerState._closeFlow=void 0,t.check(Lm,a,c);function a(m){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,di(t,n,"listItemIndent",s.containerState.size+1)(m)}function c(m){return s.containerState.furtherBlankLines||!Ti(m)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,d(m)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,t.attempt(Az,n,d)(m))}function d(m){return s.containerState._closeFlow=!0,s.interrupt=void 0,di(t,t.attempt(ka,n,r),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m)}}function Nz(t,n,r){const s=this;return di(t,a,"listItemIndent",s.containerState.size+1);function a(c){const d=s.events[s.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===s.containerState.size?n(c):r(c)}}function Oz(t){t.exit(this.containerState.type)}function Rz(t,n,r){const s=this;return di(t,a,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(c){const d=s.events[s.events.length-1];return!Ti(c)&&d&&d[1].type==="listItemPrefixWhitespace"?n(c):r(c)}}const ST={name:"setextUnderline",resolveTo:Lz,tokenize:Dz};function Lz(t,n){let r=t.length,s,a,c;for(;r--;)if(t[r][0]==="enter"){if(t[r][1].type==="content"){s=r;break}t[r][1].type==="paragraph"&&(a=r)}else t[r][1].type==="content"&&t.splice(r,1),!c&&t[r][1].type==="definition"&&(c=r);const d={type:"setextHeading",start:{...t[s][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",c?(t.splice(a,0,["enter",d,n]),t.splice(c+1,0,["exit",t[s][1],n]),t[s][1].end={...t[c][1].end}):t[s][1]=d,t.push(["exit",d,n]),t}function Dz(t,n,r){const s=this;let a;return c;function c(v){let _=s.events.length,T;for(;_--;)if(s.events[_][1].type!=="lineEnding"&&s.events[_][1].type!=="linePrefix"&&s.events[_][1].type!=="content"){T=s.events[_][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||T)?(t.enter("setextHeadingLine"),a=v,d(v)):r(v)}function d(v){return t.enter("setextHeadingLineSequence"),m(v)}function m(v){return v===a?(t.consume(v),m):(t.exit("setextHeadingLineSequence"),Ti(v)?di(t,$,"lineSuffix")(v):$(v))}function $(v){return v===null||or(v)?(t.exit("setextHeadingLine"),n(v)):r(v)}}const Bz={tokenize:Pz};function Pz(t){const n=this,r=t.attempt(Lm,s,t.attempt(this.parser.constructs.flowInitial,a,di(t,t.attempt(this.parser.constructs.flow,a,t.attempt(VU,a)),"linePrefix")));return r;function s(c){if(c===null){t.consume(c);return}return t.enter("lineEndingBlank"),t.consume(c),t.exit("lineEndingBlank"),n.currentConstruct=void 0,r}function a(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),n.currentConstruct=void 0,r}}const Fz={resolveAll:Tk()},Uz=_k("string"),zz=_k("text");function _k(t){return{resolveAll:Tk(t==="text"?Hz:void 0),tokenize:n};function n(r){const s=this,a=this.parser.constructs[t],c=r.attempt(a,d,m);return d;function d(_){return v(_)?c(_):m(_)}function m(_){if(_===null){r.consume(_);return}return r.enter("data"),r.consume(_),$}function $(_){return v(_)?(r.exit("data"),c(_)):(r.consume(_),$)}function v(_){if(_===null)return!0;const T=a[_];let S=-1;if(T)for(;++S<T.length;){const k=T[S];if(!k.previous||k.previous.call(s,s.previous))return!0}return!1}}}function Tk(t){return n;function n(r,s){let a=-1,c;for(;++a<=r.length;)c===void 0?r[a]&&r[a][1].type==="data"&&(c=a,a++):(!r[a]||r[a][1].type!=="data")&&(a!==c+2&&(r[c][1].end=r[a-1][1].end,r.splice(c+2,a-c-2),a=c+2),c=void 0);return t?t(r,s):r}}function Hz(t,n){let r=0;for(;++r<=t.length;)if((r===t.length||t[r][1].type==="lineEnding")&&t[r-1][1].type==="data"){const s=t[r-1][1],a=n.sliceStream(s);let c=a.length,d=-1,m=0,$;for(;c--;){const v=a[c];if(typeof v=="string"){for(d=v.length;v.charCodeAt(d-1)===32;)m++,d--;if(d)break;d=-1}else if(v===-2)$=!0,m++;else if(v!==-1){c++;break}}if(n._contentTypeTextTrailing&&r===t.length&&(m=0),m){const v={type:r===t.length||$||m<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:c?d:s.start._bufferIndex+d,_index:s.start._index+c,line:s.end.line,column:s.end.column-m,offset:s.end.offset-m},end:{...s.end}};s.end={...v.start},s.start.offset===s.end.offset?Object.assign(s,v):(t.splice(r,0,["enter",v,n],["exit",v,n]),r+=2)}r++}return t}const Vz={42:ka,43:ka,45:ka,48:ka,49:ka,50:ka,51:ka,52:ka,53:ka,54:ka,55:ka,56:ka,57:ka,62:pk},Gz={91:XU},qz={[-2]:B8,[-1]:B8,32:B8},Wz={35:ez,42:h5,45:[ST,h5],60:iz,61:ST,95:h5,96:wT,126:wT},jz={38:gk,92:mk},Xz={[-5]:P8,[-4]:P8,[-3]:P8,33:Tz,38:gk,42:Fg,60:[wU,hz],91:wz,92:[ZU,mk],93:$$,95:Fg,96:BU},Yz={null:[Fg,Fz]},Kz={null:[42,95]},Jz={null:[]},Zz=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Kz,contentInitial:Gz,disable:Jz,document:Vz,flow:Wz,flowInitial:qz,insideSpan:Yz,string:jz,text:Xz},Symbol.toStringTag,{value:"Module"}));function Qz(t,n,r){let s={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const a={},c=[];let d=[],m=[];const $={attempt:fe(se),check:fe(Y),consume:W,enter:te,exit:ie,interrupt:fe(Y,{interrupt:!0})},v={code:null,containerState:{},defineSkip:G,events:[],now:P,parser:t,previous:null,sliceSerialize:S,sliceStream:k,write:T};let _=n.tokenize.call(v,$);return n.resolveAll&&c.push(n),v;function T(it){return d=G0(d,it),X(),d[d.length-1]!==null?[]:(Ie(n,0),v.events=A6(c,v.events,v),v.events)}function S(it,ze){return tH(k(it),ze)}function k(it){return eH(d,it)}function P(){const{_bufferIndex:it,_index:ze,line:dt,column:Oe,offset:rt}=s;return{_bufferIndex:it,_index:ze,line:dt,column:Oe,offset:rt}}function G(it){a[it.line]=it.column,Ue()}function X(){let it;for(;s._index<d.length;){const ze=d[s._index];if(typeof ze=="string")for(it=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===it&&s._bufferIndex<ze.length;)R(ze.charCodeAt(s._bufferIndex));else R(ze)}}function R(it){_=_(it)}function W(it){or(it)?(s.line++,s.column=1,s.offset+=it===-3?2:1,Ue()):it!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===d[s._index].length&&(s._bufferIndex=-1,s._index++)),v.previous=it}function te(it,ze){const dt=ze||{};return dt.type=it,dt.start=P(),v.events.push(["enter",dt,v]),m.push(dt),dt}function ie(it){const ze=m.pop();return ze.end=P(),v.events.push(["exit",ze,v]),ze}function se(it,ze){Ie(it,ze.from)}function Y(it,ze){ze.restore()}function fe(it,ze){return dt;function dt(Oe,rt,Pe){let nt,ot,Lt,de;return Array.isArray(Oe)?et(Oe):"tokenize"in Oe?et([Oe]):Fe(Oe);function Fe(qt){return ln;function ln(En){const St=En!==null&&qt[En],Ut=En!==null&&qt.null,fn=[...Array.isArray(St)?St:St?[St]:[],...Array.isArray(Ut)?Ut:Ut?[Ut]:[]];return et(fn)(En)}}function et(qt){return nt=qt,ot=0,qt.length===0?Pe:_e(qt[ot])}function _e(qt){return ln;function ln(En){return de=De(),Lt=qt,qt.partial||(v.currentConstruct=qt),qt.name&&v.parser.constructs.disable.null.includes(qt.name)?$t():qt.tokenize.call(ze?Object.assign(Object.create(v),ze):v,$,Ct,$t)(En)}}function Ct(qt){return it(Lt,de),rt}function $t(qt){return de.restore(),++ot<nt.length?_e(nt[ot]):Pe}}}function Ie(it,ze){it.resolveAll&&!c.includes(it)&&c.push(it),it.resolve&&s0(v.events,ze,v.events.length-ze,it.resolve(v.events.slice(ze),v)),it.resolveTo&&(v.events=it.resolveTo(v.events,v))}function De(){const it=P(),ze=v.previous,dt=v.currentConstruct,Oe=v.events.length,rt=Array.from(m);return{from:Oe,restore:Pe};function Pe(){s=it,v.previous=ze,v.currentConstruct=dt,v.events.length=Oe,m=rt,Ue()}}function Ue(){s.line in a&&s.column<2&&(s.column=a[s.line],s.offset+=a[s.line]-1)}}function eH(t,n){const r=n.start._index,s=n.start._bufferIndex,a=n.end._index,c=n.end._bufferIndex;let d;if(r===a)d=[t[r].slice(s,c)];else{if(d=t.slice(r,a),s>-1){const m=d[0];typeof m=="string"?d[0]=m.slice(s):d.shift()}c>0&&d.push(t[a].slice(0,c))}return d}function tH(t,n){let r=-1;const s=[];let a;for(;++r<t.length;){const c=t[r];let d;if(typeof c=="string")d=c;else switch(c){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=n?" ":"	";break}case-1:{if(!n&&a)continue;d=" ";break}default:d=String.fromCharCode(c)}a=c===-2,s.push(d)}return s.join("")}function nH(t){const s={constructs:dk([Zz,...(t||{}).extensions||[]]),content:a($U),defined:[],document:a(bU),flow:a(Bz),lazy:{},string:a(Uz),text:a(zz)};return s;function a(c){return d;function d(m){return Qz(s,c,m)}}}function rH(t){for(;!$k(t););return t}const kT=/[\0\t\n\r]/g;function iH(){let t=1,n="",r=!0,s;return a;function a(c,d,m){const $=[];let v,_,T,S,k;for(c=n+(typeof c=="string"?c.toString():new TextDecoder(d||void 0).decode(c)),T=0,n="",r&&(c.charCodeAt(0)===65279&&T++,r=void 0);T<c.length;){if(kT.lastIndex=T,v=kT.exec(c),S=v&&v.index!==void 0?v.index:c.length,k=c.charCodeAt(S),!v){n=c.slice(T);break}if(k===10&&T===S&&s)$.push(-3),s=void 0;else switch(s&&($.push(-5),s=void 0),T<S&&($.push(c.slice(T,S)),t+=S-T),k){case 0:{$.push(65533),t++;break}case 9:{for(_=Math.ceil(t/4)*4,$.push(-2);t++<_;)$.push(-1);break}case 10:{$.push(-4),t=1;break}default:s=!0,t=1}T=S+1}return m&&(s&&$.push(-5),n&&$.push(n),$.push(null)),$}}const sH=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function oH(t){return t.replace(sH,lH)}function lH(t,n,r){if(n)return n;if(r.charCodeAt(0)===35){const a=r.charCodeAt(1),c=a===120||a===88;return fk(r.slice(c?2:1),c?16:10)}return g$(r)||t}const Ek={}.hasOwnProperty;function aH(t,n,r){return typeof n!="string"&&(r=n,n=void 0),uH(r)(rH(nH(r).document().write(iH()(t,n,!0))))}function uH(t){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(Ai),autolinkProtocol:De,autolinkEmail:De,atxHeading:c(Cn),blockQuote:c(Ut),characterEscape:De,characterReference:De,codeFenced:c(fn),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:c(fn,d),codeText:c(Ge,d),codeTextData:De,data:De,codeFlowValue:De,definition:c(Qt),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:c(Pn),hardBreakEscape:c(Jn),hardBreakTrailing:c(Jn),htmlFlow:c(cn,d),htmlFlowData:De,htmlText:c(cn,d),htmlTextData:De,image:c(ri),label:d,link:c(Ai),listItem:c(ls),listItemValue:S,listOrdered:c(lr,T),listUnordered:c(lr),paragraph:c(fi),reference:_e,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:c(Cn),strong:c(ar),thematicBreak:c(D)},exit:{atxHeading:$(),atxHeadingSequence:se,autolink:$(),autolinkEmail:St,autolinkProtocol:En,blockQuote:$(),characterEscapeValue:Ue,characterReferenceMarkerHexadecimal:$t,characterReferenceMarkerNumeric:$t,characterReferenceValue:qt,characterReference:ln,codeFenced:$(X),codeFencedFence:G,codeFencedFenceInfo:k,codeFencedFenceMeta:P,codeFlowValue:Ue,codeIndented:$(R),codeText:$(rt),codeTextData:Ue,data:Ue,definition:$(),definitionDestinationString:ie,definitionLabelString:W,definitionTitleString:te,emphasis:$(),hardBreakEscape:$(ze),hardBreakTrailing:$(ze),htmlFlow:$(dt),htmlFlowData:Ue,htmlText:$(Oe),htmlTextData:Ue,image:$(nt),label:Lt,labelText:ot,lineEnding:it,link:$(Pe),listItem:$(),listOrdered:$(),listUnordered:$(),paragraph:$(),referenceString:Ct,resourceDestinationString:de,resourceTitleString:Fe,resource:et,setextHeading:$(Ie),setextHeadingLineSequence:fe,setextHeadingText:Y,strong:$(),thematicBreak:$()}};wk(n,(t||{}).mdastExtensions||[]);const r={};return s;function s(ue){let Re={type:"root",children:[]};const qe={stack:[Re],tokenStack:[],config:n,enter:m,exit:v,buffer:d,resume:_,data:r},ct=[];let st=-1;for(;++st<ue.length;)if(ue[st][1].type==="listOrdered"||ue[st][1].type==="listUnordered")if(ue[st][0]==="enter")ct.push(st);else{const At=ct.pop();st=a(ue,At,st)}for(st=-1;++st<ue.length;){const At=n[ue[st][0]];Ek.call(At,ue[st][1].type)&&At[ue[st][1].type].call(Object.assign({sliceSerialize:ue[st][2].sliceSerialize},qe),ue[st][1])}if(qe.tokenStack.length>0){const At=qe.tokenStack[qe.tokenStack.length-1];(At[1]||CT).call(qe,void 0,At[0])}for(Re.position={start:G1(ue.length>0?ue[0][1].start:{line:1,column:1,offset:0}),end:G1(ue.length>0?ue[ue.length-2][1].end:{line:1,column:1,offset:0})},st=-1;++st<n.transforms.length;)Re=n.transforms[st](Re)||Re;return Re}function a(ue,Re,qe){let ct=Re-1,st=-1,At=!1,Ot,F,$e,Ye;for(;++ct<=qe;){const We=ue[ct];switch(We[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{We[0]==="enter"?st++:st--,Ye=void 0;break}case"lineEndingBlank":{We[0]==="enter"&&(Ot&&!Ye&&!st&&!$e&&($e=ct),Ye=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ye=void 0}if(!st&&We[0]==="enter"&&We[1].type==="listItemPrefix"||st===-1&&We[0]==="exit"&&(We[1].type==="listUnordered"||We[1].type==="listOrdered")){if(Ot){let Ht=ct;for(F=void 0;Ht--;){const An=ue[Ht];if(An[1].type==="lineEnding"||An[1].type==="lineEndingBlank"){if(An[0]==="exit")continue;F&&(ue[F][1].type="lineEndingBlank",At=!0),An[1].type="lineEnding",F=Ht}else if(!(An[1].type==="linePrefix"||An[1].type==="blockQuotePrefix"||An[1].type==="blockQuotePrefixWhitespace"||An[1].type==="blockQuoteMarker"||An[1].type==="listItemIndent"))break}$e&&(!F||$e<F)&&(Ot._spread=!0),Ot.end=Object.assign({},F?ue[F][1].start:We[1].end),ue.splice(F||ct,0,["exit",Ot,We[2]]),ct++,qe++}if(We[1].type==="listItemPrefix"){const Ht={type:"listItem",_spread:!1,start:Object.assign({},We[1].start),end:void 0};Ot=Ht,ue.splice(ct,0,["enter",Ht,We[2]]),ct++,qe++,$e=void 0,Ye=!0}}}return ue[Re][1]._spread=At,qe}function c(ue,Re){return qe;function qe(ct){m.call(this,ue(ct),ct),Re&&Re.call(this,ct)}}function d(){this.stack.push({type:"fragment",children:[]})}function m(ue,Re,qe){this.stack[this.stack.length-1].children.push(ue),this.stack.push(ue),this.tokenStack.push([Re,qe||void 0]),ue.position={start:G1(Re.start),end:void 0}}function $(ue){return Re;function Re(qe){ue&&ue.call(this,qe),v.call(this,qe)}}function v(ue,Re){const qe=this.stack.pop(),ct=this.tokenStack.pop();if(ct)ct[0].type!==ue.type&&(Re?Re.call(this,ue,ct[0]):(ct[1]||CT).call(this,ue,ct[0]));else throw new Error("Cannot close `"+ue.type+"` ("+am({start:ue.start,end:ue.end})+"): its not open");qe.position.end=G1(ue.end)}function _(){return m$(this.stack.pop())}function T(){this.data.expectingFirstListItemValue=!0}function S(ue){if(this.data.expectingFirstListItemValue){const Re=this.stack[this.stack.length-2];Re.start=Number.parseInt(this.sliceSerialize(ue),10),this.data.expectingFirstListItemValue=void 0}}function k(){const ue=this.resume(),Re=this.stack[this.stack.length-1];Re.lang=ue}function P(){const ue=this.resume(),Re=this.stack[this.stack.length-1];Re.meta=ue}function G(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function X(){const ue=this.resume(),Re=this.stack[this.stack.length-1];Re.value=ue.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function R(){const ue=this.resume(),Re=this.stack[this.stack.length-1];Re.value=ue.replace(/(\r?\n|\r)$/g,"")}function W(ue){const Re=this.resume(),qe=this.stack[this.stack.length-1];qe.label=Re,qe.identifier=Mu(this.sliceSerialize(ue)).toLowerCase()}function te(){const ue=this.resume(),Re=this.stack[this.stack.length-1];Re.title=ue}function ie(){const ue=this.resume(),Re=this.stack[this.stack.length-1];Re.url=ue}function se(ue){const Re=this.stack[this.stack.length-1];if(!Re.depth){const qe=this.sliceSerialize(ue).length;Re.depth=qe}}function Y(){this.data.setextHeadingSlurpLineEnding=!0}function fe(ue){const Re=this.stack[this.stack.length-1];Re.depth=this.sliceSerialize(ue).codePointAt(0)===61?1:2}function Ie(){this.data.setextHeadingSlurpLineEnding=void 0}function De(ue){const qe=this.stack[this.stack.length-1].children;let ct=qe[qe.length-1];(!ct||ct.type!=="text")&&(ct=Zn(),ct.position={start:G1(ue.start),end:void 0},qe.push(ct)),this.stack.push(ct)}function Ue(ue){const Re=this.stack.pop();Re.value+=this.sliceSerialize(ue),Re.position.end=G1(ue.end)}function it(ue){const Re=this.stack[this.stack.length-1];if(this.data.atHardBreak){const qe=Re.children[Re.children.length-1];qe.position.end=G1(ue.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(Re.type)&&(De.call(this,ue),Ue.call(this,ue))}function ze(){this.data.atHardBreak=!0}function dt(){const ue=this.resume(),Re=this.stack[this.stack.length-1];Re.value=ue}function Oe(){const ue=this.resume(),Re=this.stack[this.stack.length-1];Re.value=ue}function rt(){const ue=this.resume(),Re=this.stack[this.stack.length-1];Re.value=ue}function Pe(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const Re=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=Re,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function nt(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const Re=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=Re,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function ot(ue){const Re=this.sliceSerialize(ue),qe=this.stack[this.stack.length-2];qe.label=oH(Re),qe.identifier=Mu(Re).toLowerCase()}function Lt(){const ue=this.stack[this.stack.length-1],Re=this.resume(),qe=this.stack[this.stack.length-1];if(this.data.inReference=!0,qe.type==="link"){const ct=ue.children;qe.children=ct}else qe.alt=Re}function de(){const ue=this.resume(),Re=this.stack[this.stack.length-1];Re.url=ue}function Fe(){const ue=this.resume(),Re=this.stack[this.stack.length-1];Re.title=ue}function et(){this.data.inReference=void 0}function _e(){this.data.referenceType="collapsed"}function Ct(ue){const Re=this.resume(),qe=this.stack[this.stack.length-1];qe.label=Re,qe.identifier=Mu(this.sliceSerialize(ue)).toLowerCase(),this.data.referenceType="full"}function $t(ue){this.data.characterReferenceType=ue.type}function qt(ue){const Re=this.sliceSerialize(ue),qe=this.data.characterReferenceType;let ct;qe?(ct=fk(Re,qe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ct=g$(Re);const st=this.stack[this.stack.length-1];st.value+=ct}function ln(ue){const Re=this.stack.pop();Re.position.end=G1(ue.end)}function En(ue){Ue.call(this,ue);const Re=this.stack[this.stack.length-1];Re.url=this.sliceSerialize(ue)}function St(ue){Ue.call(this,ue);const Re=this.stack[this.stack.length-1];Re.url="mailto:"+this.sliceSerialize(ue)}function Ut(){return{type:"blockquote",children:[]}}function fn(){return{type:"code",lang:null,meta:null,value:""}}function Ge(){return{type:"inlineCode",value:""}}function Qt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Pn(){return{type:"emphasis",children:[]}}function Cn(){return{type:"heading",depth:0,children:[]}}function Jn(){return{type:"break"}}function cn(){return{type:"html",value:""}}function ri(){return{type:"image",title:null,url:"",alt:null}}function Ai(){return{type:"link",title:null,url:"",children:[]}}function lr(ue){return{type:"list",ordered:ue.type==="listOrdered",start:null,spread:ue._spread,children:[]}}function ls(ue){return{type:"listItem",spread:ue._spread,checked:null,children:[]}}function fi(){return{type:"paragraph",children:[]}}function ar(){return{type:"strong",children:[]}}function Zn(){return{type:"text",value:""}}function D(){return{type:"thematicBreak"}}}function G1(t){return{line:t.line,column:t.column,offset:t.offset}}function wk(t,n){let r=-1;for(;++r<n.length;){const s=n[r];Array.isArray(s)?wk(t,s):cH(t,s)}}function cH(t,n){let r;for(r in n)if(Ek.call(n,r))switch(r){case"canContainEols":{const s=n[r];s&&t[r].push(...s);break}case"transforms":{const s=n[r];s&&t[r].push(...s);break}case"enter":case"exit":{const s=n[r];s&&Object.assign(t[r],s);break}}}function CT(t,n){throw t?new Error("Cannot close `"+t.type+"` ("+am({start:t.start,end:t.end})+"): a different token (`"+n.type+"`, "+am({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+am({start:n.start,end:n.end})+") is still open")}function hH(t){const n=this;n.parser=r;function r(s){return aH(s,{...n.data("settings"),...t,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function dH(t,n){const r={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(n),!0)};return t.patch(n,r),t.applyData(n,r)}function fH(t,n){const r={type:"element",tagName:"br",properties:{},children:[]};return t.patch(n,r),[t.applyData(n,r),{type:"text",value:`
`}]}function pH(t,n){const r=n.value?n.value+`
`:"",s={};n.lang&&(s.className=["language-"+n.lang]);let a={type:"element",tagName:"code",properties:s,children:[{type:"text",value:r}]};return n.meta&&(a.data={meta:n.meta}),t.patch(n,a),a=t.applyData(n,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(n,a),a}function mH(t,n){const r={type:"element",tagName:"del",properties:{},children:t.all(n)};return t.patch(n,r),t.applyData(n,r)}function gH(t,n){const r={type:"element",tagName:"em",properties:{},children:t.all(n)};return t.patch(n,r),t.applyData(n,r)}function $H(t,n){const r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",s=String(n.identifier).toUpperCase(),a=T2(s.toLowerCase()),c=t.footnoteOrder.indexOf(s);let d,m=t.footnoteCounts.get(s);m===void 0?(m=0,t.footnoteOrder.push(s),d=t.footnoteOrder.length):d=c+1,m+=1,t.footnoteCounts.set(s,m);const $={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+a,id:r+"fnref-"+a+(m>1?"-"+m:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(d)}]};t.patch(n,$);const v={type:"element",tagName:"sup",properties:{},children:[$]};return t.patch(n,v),t.applyData(n,v)}function vH(t,n){const r={type:"element",tagName:"h"+n.depth,properties:{},children:t.all(n)};return t.patch(n,r),t.applyData(n,r)}function bH(t,n){if(t.options.allowDangerousHtml){const r={type:"raw",value:n.value};return t.patch(n,r),t.applyData(n,r)}}function xk(t,n){const r=n.referenceType;let s="]";if(r==="collapsed"?s+="[]":r==="full"&&(s+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+s}];const a=t.all(n),c=a[0];c&&c.type==="text"?c.value="["+c.value:a.unshift({type:"text",value:"["});const d=a[a.length-1];return d&&d.type==="text"?d.value+=s:a.push({type:"text",value:s}),a}function yH(t,n){const r=String(n.identifier).toUpperCase(),s=t.definitionById.get(r);if(!s)return xk(t,n);const a={src:T2(s.url||""),alt:n.alt};s.title!==null&&s.title!==void 0&&(a.title=s.title);const c={type:"element",tagName:"img",properties:a,children:[]};return t.patch(n,c),t.applyData(n,c)}function _H(t,n){const r={src:T2(n.url)};n.alt!==null&&n.alt!==void 0&&(r.alt=n.alt),n.title!==null&&n.title!==void 0&&(r.title=n.title);const s={type:"element",tagName:"img",properties:r,children:[]};return t.patch(n,s),t.applyData(n,s)}function TH(t,n){const r={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};t.patch(n,r);const s={type:"element",tagName:"code",properties:{},children:[r]};return t.patch(n,s),t.applyData(n,s)}function EH(t,n){const r=String(n.identifier).toUpperCase(),s=t.definitionById.get(r);if(!s)return xk(t,n);const a={href:T2(s.url||"")};s.title!==null&&s.title!==void 0&&(a.title=s.title);const c={type:"element",tagName:"a",properties:a,children:t.all(n)};return t.patch(n,c),t.applyData(n,c)}function wH(t,n){const r={href:T2(n.url)};n.title!==null&&n.title!==void 0&&(r.title=n.title);const s={type:"element",tagName:"a",properties:r,children:t.all(n)};return t.patch(n,s),t.applyData(n,s)}function xH(t,n,r){const s=t.all(n),a=r?SH(r):Sk(n),c={},d=[];if(typeof n.checked=="boolean"){const _=s[0];let T;_&&_.type==="element"&&_.tagName==="p"?T=_:(T={type:"element",tagName:"p",properties:{},children:[]},s.unshift(T)),T.children.length>0&&T.children.unshift({type:"text",value:" "}),T.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),c.className=["task-list-item"]}let m=-1;for(;++m<s.length;){const _=s[m];(a||m!==0||_.type!=="element"||_.tagName!=="p")&&d.push({type:"text",value:`
`}),_.type==="element"&&_.tagName==="p"&&!a?d.push(..._.children):d.push(_)}const $=s[s.length-1];$&&(a||$.type!=="element"||$.tagName!=="p")&&d.push({type:"text",value:`
`});const v={type:"element",tagName:"li",properties:c,children:d};return t.patch(n,v),t.applyData(n,v)}function SH(t){let n=!1;if(t.type==="list"){n=t.spread||!1;const r=t.children;let s=-1;for(;!n&&++s<r.length;)n=Sk(r[s])}return n}function Sk(t){const n=t.spread;return n??t.children.length>1}function kH(t,n){const r={},s=t.all(n);let a=-1;for(typeof n.start=="number"&&n.start!==1&&(r.start=n.start);++a<s.length;){const d=s[a];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const c={type:"element",tagName:n.ordered?"ol":"ul",properties:r,children:t.wrap(s,!0)};return t.patch(n,c),t.applyData(n,c)}function CH(t,n){const r={type:"element",tagName:"p",properties:{},children:t.all(n)};return t.patch(n,r),t.applyData(n,r)}function AH(t,n){const r={type:"root",children:t.wrap(t.all(n))};return t.patch(n,r),t.applyData(n,r)}function IH(t,n){const r={type:"element",tagName:"strong",properties:{},children:t.all(n)};return t.patch(n,r),t.applyData(n,r)}function MH(t,n){const r=t.all(n),s=r.shift(),a=[];if(s){const d={type:"element",tagName:"thead",properties:{},children:t.wrap([s],!0)};t.patch(n.children[0],d),a.push(d)}if(r.length>0){const d={type:"element",tagName:"tbody",properties:{},children:t.wrap(r,!0)},m=h$(n.children[1]),$=sk(n.children[n.children.length-1]);m&&$&&(d.position={start:m,end:$}),a.push(d)}const c={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(n,c),t.applyData(n,c)}function NH(t,n,r){const s=r?r.children:void 0,c=(s?s.indexOf(n):1)===0?"th":"td",d=r&&r.type==="table"?r.align:void 0,m=d?d.length:n.children.length;let $=-1;const v=[];for(;++$<m;){const T=n.children[$],S={},k=d?d[$]:void 0;k&&(S.align=k);let P={type:"element",tagName:c,properties:S,children:[]};T&&(P.children=t.all(T),t.patch(T,P),P=t.applyData(T,P)),v.push(P)}const _={type:"element",tagName:"tr",properties:{},children:t.wrap(v,!0)};return t.patch(n,_),t.applyData(n,_)}function OH(t,n){const r={type:"element",tagName:"td",properties:{},children:t.all(n)};return t.patch(n,r),t.applyData(n,r)}const AT=9,IT=32;function RH(t){const n=String(t),r=/\r?\n|\r/g;let s=r.exec(n),a=0;const c=[];for(;s;)c.push(MT(n.slice(a,s.index),a>0,!0),s[0]),a=s.index+s[0].length,s=r.exec(n);return c.push(MT(n.slice(a),a>0,!1)),c.join("")}function MT(t,n,r){let s=0,a=t.length;if(n){let c=t.codePointAt(s);for(;c===AT||c===IT;)s++,c=t.codePointAt(s)}if(r){let c=t.codePointAt(a-1);for(;c===AT||c===IT;)a--,c=t.codePointAt(a-1)}return a>s?t.slice(s,a):""}function LH(t,n){const r={type:"text",value:RH(String(n.value))};return t.patch(n,r),t.applyData(n,r)}function DH(t,n){const r={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(n,r),t.applyData(n,r)}const BH={blockquote:dH,break:fH,code:pH,delete:mH,emphasis:gH,footnoteReference:$H,heading:vH,html:bH,imageReference:yH,image:_H,inlineCode:TH,linkReference:EH,link:wH,listItem:xH,list:kH,paragraph:CH,root:AH,strong:IH,table:MH,tableCell:OH,tableRow:NH,text:LH,thematicBreak:DH,toml:B3,yaml:B3,definition:B3,footnoteDefinition:B3};function B3(){}const kk=-1,I6=0,cm=1,F5=2,v$=3,b$=4,y$=5,_$=6,Ck=7,Ak=8,NT=typeof self=="object"?self:globalThis,PH=(t,n)=>{const r=(a,c)=>(t.set(c,a),a),s=a=>{if(t.has(a))return t.get(a);const[c,d]=n[a];switch(c){case I6:case kk:return r(d,a);case cm:{const m=r([],a);for(const $ of d)m.push(s($));return m}case F5:{const m=r({},a);for(const[$,v]of d)m[s($)]=s(v);return m}case v$:return r(new Date(d),a);case b$:{const{source:m,flags:$}=d;return r(new RegExp(m,$),a)}case y$:{const m=r(new Map,a);for(const[$,v]of d)m.set(s($),s(v));return m}case _$:{const m=r(new Set,a);for(const $ of d)m.add(s($));return m}case Ck:{const{name:m,message:$}=d;return r(new NT[m]($),a)}case Ak:return r(BigInt(d),a);case"BigInt":return r(Object(BigInt(d)),a);case"ArrayBuffer":return r(new Uint8Array(d).buffer,d);case"DataView":{const{buffer:m}=new Uint8Array(d);return r(new DataView(m),d)}}return r(new NT[c](d),a)};return s},OT=t=>PH(new Map,t)(0),Z4="",{toString:FH}={},{keys:UH}=Object,Zp=t=>{const n=typeof t;if(n!=="object"||!t)return[I6,n];const r=FH.call(t).slice(8,-1);switch(r){case"Array":return[cm,Z4];case"Object":return[F5,Z4];case"Date":return[v$,Z4];case"RegExp":return[b$,Z4];case"Map":return[y$,Z4];case"Set":return[_$,Z4];case"DataView":return[cm,r]}return r.includes("Array")?[cm,r]:r.includes("Error")?[Ck,r]:[F5,r]},P3=([t,n])=>t===I6&&(n==="function"||n==="symbol"),zH=(t,n,r,s)=>{const a=(d,m)=>{const $=s.push(d)-1;return r.set(m,$),$},c=d=>{if(r.has(d))return r.get(d);let[m,$]=Zp(d);switch(m){case I6:{let _=d;switch($){case"bigint":m=Ak,_=d.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+$);_=null;break;case"undefined":return a([kk],d)}return a([m,_],d)}case cm:{if($){let S=d;return $==="DataView"?S=new Uint8Array(d.buffer):$==="ArrayBuffer"&&(S=new Uint8Array(d)),a([$,[...S]],d)}const _=[],T=a([m,_],d);for(const S of d)_.push(c(S));return T}case F5:{if($)switch($){case"BigInt":return a([$,d.toString()],d);case"Boolean":case"Number":case"String":return a([$,d.valueOf()],d)}if(n&&"toJSON"in d)return c(d.toJSON());const _=[],T=a([m,_],d);for(const S of UH(d))(t||!P3(Zp(d[S])))&&_.push([c(S),c(d[S])]);return T}case v$:return a([m,d.toISOString()],d);case b$:{const{source:_,flags:T}=d;return a([m,{source:_,flags:T}],d)}case y$:{const _=[],T=a([m,_],d);for(const[S,k]of d)(t||!(P3(Zp(S))||P3(Zp(k))))&&_.push([c(S),c(k)]);return T}case _$:{const _=[],T=a([m,_],d);for(const S of d)(t||!P3(Zp(S)))&&_.push(c(S));return T}}const{message:v}=d;return a([m,{name:$,message:v}],d)};return c},RT=(t,{json:n,lossy:r}={})=>{const s=[];return zH(!(n||r),!!n,new Map,s)(t),s},U5=typeof structuredClone=="function"?(t,n)=>n&&("json"in n||"lossy"in n)?OT(RT(t,n)):structuredClone(t):(t,n)=>OT(RT(t,n));function HH(t,n){const r=[{type:"text",value:""}];return n>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),r}function VH(t,n){return"Back to reference "+(t+1)+(n>1?"-"+n:"")}function GH(t){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=t.options.footnoteBackContent||HH,s=t.options.footnoteBackLabel||VH,a=t.options.footnoteLabel||"Footnotes",c=t.options.footnoteLabelTagName||"h2",d=t.options.footnoteLabelProperties||{className:["sr-only"]},m=[];let $=-1;for(;++$<t.footnoteOrder.length;){const v=t.footnoteById.get(t.footnoteOrder[$]);if(!v)continue;const _=t.all(v),T=String(v.identifier).toUpperCase(),S=T2(T.toLowerCase());let k=0;const P=[],G=t.footnoteCounts.get(T);for(;G!==void 0&&++k<=G;){P.length>0&&P.push({type:"text",value:" "});let W=typeof r=="string"?r:r($,k);typeof W=="string"&&(W={type:"text",value:W}),P.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+S+(k>1?"-"+k:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s($,k),className:["data-footnote-backref"]},children:Array.isArray(W)?W:[W]})}const X=_[_.length-1];if(X&&X.type==="element"&&X.tagName==="p"){const W=X.children[X.children.length-1];W&&W.type==="text"?W.value+=" ":X.children.push({type:"text",value:" "}),X.children.push(...P)}else _.push(...P);const R={type:"element",tagName:"li",properties:{id:n+"fn-"+S},children:t.wrap(_,!0)};t.patch(v,R),m.push(R)}if(m.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:c,properties:{...U5(d),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(m,!0)},{type:"text",value:`
`}]}}const Dm=(function(t){if(t==null)return XH;if(typeof t=="function")return M6(t);if(typeof t=="object")return Array.isArray(t)?qH(t):WH(t);if(typeof t=="string")return jH(t);throw new Error("Expected function, string, or object as test")});function qH(t){const n=[];let r=-1;for(;++r<t.length;)n[r]=Dm(t[r]);return M6(s);function s(...a){let c=-1;for(;++c<n.length;)if(n[c].apply(this,a))return!0;return!1}}function WH(t){const n=t;return M6(r);function r(s){const a=s;let c;for(c in t)if(a[c]!==n[c])return!1;return!0}}function jH(t){return M6(n);function n(r){return r&&r.type===t}}function M6(t){return n;function n(r,s,a){return!!(YH(r)&&t.call(this,r,typeof s=="number"?s:void 0,a||void 0))}}function XH(){return!0}function YH(t){return t!==null&&typeof t=="object"&&"type"in t}const Ik=[],KH=!0,Ug=!1,Mk="skip";function T$(t,n,r,s){let a;typeof n=="function"&&typeof r!="function"?(s=r,r=n):a=n;const c=Dm(a),d=s?-1:1;m(t,void 0,[])();function m($,v,_){const T=$&&typeof $=="object"?$:{};if(typeof T.type=="string"){const k=typeof T.tagName=="string"?T.tagName:typeof T.name=="string"?T.name:void 0;Object.defineProperty(S,"name",{value:"node ("+($.type+(k?"<"+k+">":""))+")"})}return S;function S(){let k=Ik,P,G,X;if((!n||c($,v,_[_.length-1]||void 0))&&(k=JH(r($,_)),k[0]===Ug))return k;if("children"in $&&$.children){const R=$;if(R.children&&k[0]!==Mk)for(G=(s?R.children.length:-1)+d,X=_.concat(R);G>-1&&G<R.children.length;){const W=R.children[G];if(P=m(W,G,X)(),P[0]===Ug)return P;G=typeof P[1]=="number"?P[1]:G+d}}return k}}}function JH(t){return Array.isArray(t)?t:typeof t=="number"?[KH,t]:t==null?Ik:[t]}function E$(t,n,r,s){let a,c,d;typeof n=="function"&&typeof r!="function"?(c=void 0,d=n,a=r):(c=n,d=r,a=s),T$(t,c,m,a);function m($,v){const _=v[v.length-1],T=_?_.children.indexOf($):void 0;return d($,T,_)}}const zg={}.hasOwnProperty,ZH={};function QH(t,n){const r=n||ZH,s=new Map,a=new Map,c=new Map,d={...BH,...r.handlers},m={all:v,applyData:tV,definitionById:s,footnoteById:a,footnoteCounts:c,footnoteOrder:[],handlers:d,one:$,options:r,patch:eV,wrap:rV};return E$(t,function(_){if(_.type==="definition"||_.type==="footnoteDefinition"){const T=_.type==="definition"?s:a,S=String(_.identifier).toUpperCase();T.has(S)||T.set(S,_)}}),m;function $(_,T){const S=_.type,k=m.handlers[S];if(zg.call(m.handlers,S)&&k)return k(m,_,T);if(m.options.passThrough&&m.options.passThrough.includes(S)){if("children"in _){const{children:G,...X}=_,R=U5(X);return R.children=m.all(_),R}return U5(_)}return(m.options.unknownHandler||nV)(m,_,T)}function v(_){const T=[];if("children"in _){const S=_.children;let k=-1;for(;++k<S.length;){const P=m.one(S[k],_);if(P){if(k&&S[k-1].type==="break"&&(!Array.isArray(P)&&P.type==="text"&&(P.value=LT(P.value)),!Array.isArray(P)&&P.type==="element")){const G=P.children[0];G&&G.type==="text"&&(G.value=LT(G.value))}Array.isArray(P)?T.push(...P):T.push(P)}}}return T}}function eV(t,n){t.position&&(n.position=VF(t))}function tV(t,n){let r=n;if(t&&t.data){const s=t.data.hName,a=t.data.hChildren,c=t.data.hProperties;if(typeof s=="string")if(r.type==="element")r.tagName=s;else{const d="children"in r?r.children:[r];r={type:"element",tagName:s,properties:{},children:d}}r.type==="element"&&c&&Object.assign(r.properties,U5(c)),"children"in r&&r.children&&a!==null&&a!==void 0&&(r.children=a)}return r}function nV(t,n){const r=n.data||{},s="value"in n&&!(zg.call(r,"hProperties")||zg.call(r,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:t.all(n)};return t.patch(n,s),t.applyData(n,s)}function rV(t,n){const r=[];let s=-1;for(n&&r.push({type:"text",value:`
`});++s<t.length;)s&&r.push({type:"text",value:`
`}),r.push(t[s]);return n&&t.length>0&&r.push({type:"text",value:`
`}),r}function LT(t){let n=0,r=t.charCodeAt(n);for(;r===9||r===32;)n++,r=t.charCodeAt(n);return t.slice(n)}function DT(t,n){const r=QH(t,n),s=r.one(t,void 0),a=GH(r),c=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return a&&c.children.push({type:"text",value:`
`},a),c}function iV(t,n){return t&&"run"in t?async function(r,s){const a=DT(r,{file:s,...n});await t.run(a,s)}:function(r,s){return DT(r,{file:s,...t||n})}}function BT(t){if(t)throw t}var sV=Om();const F8=l0(sV);function Hg(t){if(typeof t!="object"||t===null)return!1;const n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function oV(){const t=[],n={run:r,use:s};return n;function r(...a){let c=-1;const d=a.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);m(null,...a);function m($,...v){const _=t[++c];let T=-1;if($){d($);return}for(;++T<a.length;)(v[T]===null||v[T]===void 0)&&(v[T]=a[T]);a=v,_?lV(_,m)(...v):d(null,...v)}}function s(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),n}}function lV(t,n){let r;return s;function s(...d){const m=t.length>d.length;let $;m&&d.push(a);try{$=t.apply(this,d)}catch(v){const _=v;if(m&&r)throw _;return a(_)}m||($&&$.then&&typeof $.then=="function"?$.then(c,a):$ instanceof Error?a($):c($))}function a(d,...m){r||(r=!0,n(d,...m))}function c(d){a(null,d)}}const $c={basename:aV,dirname:uV,extname:cV,join:hV,sep:"/"};function aV(t,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Bm(t);let r=0,s=-1,a=t.length,c;if(n===void 0||n.length===0||n.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(c){r=a+1;break}}else s<0&&(c=!0,s=a+1);return s<0?"":t.slice(r,s)}if(n===t)return"";let d=-1,m=n.length-1;for(;a--;)if(t.codePointAt(a)===47){if(c){r=a+1;break}}else d<0&&(c=!0,d=a+1),m>-1&&(t.codePointAt(a)===n.codePointAt(m--)?m<0&&(s=a):(m=-1,s=d));return r===s?s=d:s<0&&(s=t.length),t.slice(r,s)}function uV(t){if(Bm(t),t.length===0)return".";let n=-1,r=t.length,s;for(;--r;)if(t.codePointAt(r)===47){if(s){n=r;break}}else s||(s=!0);return n<0?t.codePointAt(0)===47?"/":".":n===1&&t.codePointAt(0)===47?"//":t.slice(0,n)}function cV(t){Bm(t);let n=t.length,r=-1,s=0,a=-1,c=0,d;for(;n--;){const m=t.codePointAt(n);if(m===47){if(d){s=n+1;break}continue}r<0&&(d=!0,r=n+1),m===46?a<0?a=n:c!==1&&(c=1):a>-1&&(c=-1)}return a<0||r<0||c===0||c===1&&a===r-1&&a===s+1?"":t.slice(a,r)}function hV(...t){let n=-1,r;for(;++n<t.length;)Bm(t[n]),t[n]&&(r=r===void 0?t[n]:r+"/"+t[n]);return r===void 0?".":dV(r)}function dV(t){Bm(t);const n=t.codePointAt(0)===47;let r=fV(t,!n);return r.length===0&&!n&&(r="."),r.length>0&&t.codePointAt(t.length-1)===47&&(r+="/"),n?"/"+r:r}function fV(t,n){let r="",s=0,a=-1,c=0,d=-1,m,$;for(;++d<=t.length;){if(d<t.length)m=t.codePointAt(d);else{if(m===47)break;m=47}if(m===47){if(!(a===d-1||c===1))if(a!==d-1&&c===2){if(r.length<2||s!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if($=r.lastIndexOf("/"),$!==r.length-1){$<0?(r="",s=0):(r=r.slice(0,$),s=r.length-1-r.lastIndexOf("/")),a=d,c=0;continue}}else if(r.length>0){r="",s=0,a=d,c=0;continue}}n&&(r=r.length>0?r+"/..":"..",s=2)}else r.length>0?r+="/"+t.slice(a+1,d):r=t.slice(a+1,d),s=d-a-1;a=d,c=0}else m===46&&c>-1?c++:c=-1}return r}function Bm(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const pV={cwd:mV};function mV(){return"/"}function Vg(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function gV(t){if(typeof t=="string")t=new URL(t);else if(!Vg(t)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(t.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return $V(t)}function $V(t){if(t.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const n=t.pathname;let r=-1;for(;++r<n.length;)if(n.codePointAt(r)===37&&n.codePointAt(r+1)===50){const s=n.codePointAt(r+2);if(s===70||s===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(n)}const U8=["history","path","basename","stem","extname","dirname"];class Nk{constructor(n){let r;n?Vg(n)?r={path:n}:typeof n=="string"||vV(n)?r={value:n}:r=n:r={},this.cwd="cwd"in r?"":pV.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<U8.length;){const c=U8[s];c in r&&r[c]!==void 0&&r[c]!==null&&(this[c]=c==="history"?[...r[c]]:r[c])}let a;for(a in r)U8.includes(a)||(this[a]=r[a])}get basename(){return typeof this.path=="string"?$c.basename(this.path):void 0}set basename(n){H8(n,"basename"),z8(n,"basename"),this.path=$c.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?$c.dirname(this.path):void 0}set dirname(n){PT(this.basename,"dirname"),this.path=$c.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?$c.extname(this.path):void 0}set extname(n){if(z8(n,"extname"),PT(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=$c.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){Vg(n)&&(n=gV(n)),H8(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?$c.basename(this.path,this.extname):void 0}set stem(n){H8(n,"stem"),z8(n,"stem"),this.path=$c.join(this.dirname||"",n+(this.extname||""))}fail(n,r,s){const a=this.message(n,r,s);throw a.fatal=!0,a}info(n,r,s){const a=this.message(n,r,s);return a.fatal=void 0,a}message(n,r,s){const a=new ql(n,r,s);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function z8(t,n){if(t&&t.includes($c.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+$c.sep+"`")}function H8(t,n){if(!t)throw new Error("`"+n+"` cannot be empty")}function PT(t,n){if(!t)throw new Error("Setting `"+n+"` requires `path` to be set too")}function vV(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const bV=(function(t){const s=this.constructor.prototype,a=s[t],c=function(){return a.apply(c,arguments)};return Object.setPrototypeOf(c,s),c}),yV={}.hasOwnProperty;class w$ extends bV{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=oV()}copy(){const n=new w$;let r=-1;for(;++r<this.attachers.length;){const s=this.attachers[r];n.use(...s)}return n.data(F8(!0,{},this.namespace)),n}data(n,r){return typeof n=="string"?arguments.length===2?(q8("data",this.frozen),this.namespace[n]=r,this):yV.call(this.namespace,n)&&this.namespace[n]||void 0:n?(q8("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const a=r.call(n,...s);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const r=F3(n),s=this.parser||this.Parser;return V8("parse",s),s(String(r),r)}process(n,r){const s=this;return this.freeze(),V8("process",this.parser||this.Parser),G8("process",this.compiler||this.Compiler),r?a(void 0,r):new Promise(a);function a(c,d){const m=F3(n),$=s.parse(m);s.run($,m,function(_,T,S){if(_||!T||!S)return v(_);const k=T,P=s.stringify(k,S);EV(P)?S.value=P:S.result=P,v(_,S)});function v(_,T){_||!T?d(_):c?c(T):r(void 0,T)}}}processSync(n){let r=!1,s;return this.freeze(),V8("processSync",this.parser||this.Parser),G8("processSync",this.compiler||this.Compiler),this.process(n,a),UT("processSync","process",r),s;function a(c,d){r=!0,BT(c),s=d}}run(n,r,s){FT(n),this.freeze();const a=this.transformers;return!s&&typeof r=="function"&&(s=r,r=void 0),s?c(void 0,s):new Promise(c);function c(d,m){const $=F3(r);a.run(n,$,v);function v(_,T,S){const k=T||n;_?m(_):d?d(k):s(void 0,k,S)}}}runSync(n,r){let s=!1,a;return this.run(n,r,c),UT("runSync","run",s),a;function c(d,m){BT(d),a=m,s=!0}}stringify(n,r){this.freeze();const s=F3(r),a=this.compiler||this.Compiler;return G8("stringify",a),FT(n),a(n,s)}use(n,...r){const s=this.attachers,a=this.namespace;if(q8("use",this.frozen),n!=null)if(typeof n=="function")$(n,r);else if(typeof n=="object")Array.isArray(n)?m(n):d(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function c(v){if(typeof v=="function")$(v,[]);else if(typeof v=="object")if(Array.isArray(v)){const[_,...T]=v;$(_,T)}else d(v);else throw new TypeError("Expected usable value, not `"+v+"`")}function d(v){if(!("plugins"in v)&&!("settings"in v))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");m(v.plugins),v.settings&&(a.settings=F8(!0,a.settings,v.settings))}function m(v){let _=-1;if(v!=null)if(Array.isArray(v))for(;++_<v.length;){const T=v[_];c(T)}else throw new TypeError("Expected a list of plugins, not `"+v+"`")}function $(v,_){let T=-1,S=-1;for(;++T<s.length;)if(s[T][0]===v){S=T;break}if(S===-1)s.push([v,..._]);else if(_.length>0){let[k,...P]=_;const G=s[S][1];Hg(G)&&Hg(k)&&(k=F8(!0,G,k)),s[S]=[v,k,...P]}}}}const _V=new w$().freeze();function V8(t,n){if(typeof n!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function G8(t,n){if(typeof n!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function q8(t,n){if(n)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function FT(t){if(!Hg(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function UT(t,n,r){if(!r)throw new Error("`"+t+"` finished async. Use `"+n+"` instead")}function F3(t){return TV(t)?t:new Nk(t)}function TV(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function EV(t){return typeof t=="string"||wV(t)}function wV(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const xV="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",zT=[],HT={allowDangerousHtml:!0},SV=/^(https?|ircs?|mailto|xmpp)$/i,kV=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function CV(t){const n=AV(t),r=IV(t);return MV(n.runSync(n.parse(r),r),t)}function AV(t){const n=t.rehypePlugins||zT,r=t.remarkPlugins||zT,s=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...HT}:HT;return _V().use(hH).use(r).use(iV,s).use(n)}function IV(t){const n=t.children||"",r=new Nk;return typeof n=="string"&&(r.value=n),r}function MV(t,n){const r=n.allowedElements,s=n.allowElement,a=n.components,c=n.disallowedElements,d=n.skipHtml,m=n.unwrapDisallowed,$=n.urlTransform||NV;for(const _ of kV)Object.hasOwn(n,_.from)&&(""+_.from+(_.to?"use `"+_.to+"` instead":"remove it")+xV+_.id,void 0);return E$(t,v),XF(t,{Fragment:ge.Fragment,components:a,ignoreInvalidStyle:!0,jsx:ge.jsx,jsxs:ge.jsxs,passKeys:!0,passNode:!0});function v(_,T,S){if(_.type==="raw"&&S&&typeof T=="number")return d?S.children.splice(T,1):S.children[T]={type:"text",value:_.value},T;if(_.type==="element"){let k;for(k in D8)if(Object.hasOwn(D8,k)&&Object.hasOwn(_.properties,k)){const P=_.properties[k],G=D8[k];(G===null||G.includes(_.tagName))&&(_.properties[k]=$(String(P||""),k,_))}}if(_.type==="element"){let k=r?!r.includes(_.tagName):c?c.includes(_.tagName):!1;if(!k&&s&&typeof T=="number"&&(k=!s(_,T,S)),k&&S&&typeof T=="number")return m&&_.children?S.children.splice(T,1,..._.children):S.children.splice(T,1),T}}}function NV(t){const n=t.indexOf(":"),r=t.indexOf("?"),s=t.indexOf("#"),a=t.indexOf("/");return n===-1||a!==-1&&n>a||r!==-1&&n>r||s!==-1&&n>s||SV.test(t.slice(0,n))?t:""}function Ok(t,n){const r=String(t);let s=r.indexOf(n),a=s,c=0,d=0;if(typeof n!="string")throw new TypeError("Expected substring");for(;s!==-1;)s===a?++c>d&&(d=c):c=1,a=s+n.length,s=r.indexOf(n,a);return d}function OV(){return{enter:{mathFlow:t,mathFlowFenceMeta:n,mathText:c},exit:{mathFlow:a,mathFlowFence:s,mathFlowFenceMeta:r,mathFlowValue:m,mathText:d,mathTextData:m}};function t($){const v={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[v]}},$)}function n(){this.buffer()}function r(){const $=this.resume(),v=this.stack[this.stack.length-1];v.type,v.meta=$}function s(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function a($){const v=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),_=this.stack[this.stack.length-1];_.type,this.exit($),_.value=v;const T=_.data.hChildren[0];T.type,T.tagName,T.children.push({type:"text",value:v}),this.data.mathFlowInside=void 0}function c($){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},$),this.buffer()}function d($){const v=this.resume(),_=this.stack[this.stack.length-1];_.type,this.exit($),_.value=v,_.data.hChildren.push({type:"text",value:v})}function m($){this.config.enter.data.call(this,$),this.config.exit.data.call(this,$)}}function RV(t){let n=(t||{}).singleDollarTextMath;return n==null&&(n=!0),s.peek=a,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:n?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:r,inlineMath:s}};function r(c,d,m,$){const v=c.value||"",_=m.createTracker($),T="$".repeat(Math.max(Ok(v,"$")+1,2)),S=m.enter("mathFlow");let k=_.move(T);if(c.meta){const P=m.enter("mathFlowMeta");k+=_.move(m.safe(c.meta,{after:`
`,before:k,encode:["$"],..._.current()})),P()}return k+=_.move(`
`),v&&(k+=_.move(v+`
`)),k+=_.move(T),S(),k}function s(c,d,m){let $=c.value||"",v=1;for(n||v++;new RegExp("(^|[^$])"+"\\$".repeat(v)+"([^$]|$)").test($);)v++;const _="$".repeat(v);/[^ \r\n]/.test($)&&(/^[ \r\n]/.test($)&&/[ \r\n]$/.test($)||/^\$|\$$/.test($))&&($=" "+$+" ");let T=-1;for(;++T<m.unsafe.length;){const S=m.unsafe[T];if(!S.atBreak)continue;const k=m.compilePattern(S);let P;for(;P=k.exec($);){let G=P.index;$.codePointAt(G)===10&&$.codePointAt(G-1)===13&&G--,$=$.slice(0,G)+" "+$.slice(P.index+1)}}return _+$+_}function a(){return"$"}}const LV={tokenize:DV,concrete:!0,name:"mathFlow"},VT={tokenize:BV,partial:!0};function DV(t,n,r){const s=this,a=s.events[s.events.length-1],c=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0;let d=0;return m;function m(W){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),$(W)}function $(W){return W===36?(t.consume(W),d++,$):d<2?r(W):(t.exit("mathFlowFenceSequence"),di(t,v,"whitespace")(W))}function v(W){return W===null||or(W)?T(W):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),_(W))}function _(W){return W===null||or(W)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),T(W)):W===36?r(W):(t.consume(W),_)}function T(W){return t.exit("mathFlowFence"),s.interrupt?n(W):t.attempt(VT,S,X)(W)}function S(W){return t.attempt({tokenize:R,partial:!0},X,k)(W)}function k(W){return(c?di(t,P,"linePrefix",c+1):P)(W)}function P(W){return W===null?X(W):or(W)?t.attempt(VT,S,X)(W):(t.enter("mathFlowValue"),G(W))}function G(W){return W===null||or(W)?(t.exit("mathFlowValue"),P(W)):(t.consume(W),G)}function X(W){return t.exit("mathFlow"),n(W)}function R(W,te,ie){let se=0;return di(W,Y,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function Y(De){return W.enter("mathFlowFence"),W.enter("mathFlowFenceSequence"),fe(De)}function fe(De){return De===36?(se++,W.consume(De),fe):se<d?ie(De):(W.exit("mathFlowFenceSequence"),di(W,Ie,"whitespace")(De))}function Ie(De){return De===null||or(De)?(W.exit("mathFlowFence"),te(De)):ie(De)}}}function BV(t,n,r){const s=this;return a;function a(d){return d===null?n(d):(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),c)}function c(d){return s.parser.lazy[s.now().line]?r(d):n(d)}}function PV(t){let r=(t||{}).singleDollarTextMath;return r==null&&(r=!0),{tokenize:s,resolve:FV,previous:UV,name:"mathText"};function s(a,c,d){let m=0,$,v;return _;function _(G){return a.enter("mathText"),a.enter("mathTextSequence"),T(G)}function T(G){return G===36?(a.consume(G),m++,T):m<2&&!r?d(G):(a.exit("mathTextSequence"),S(G))}function S(G){return G===null?d(G):G===36?(v=a.enter("mathTextSequence"),$=0,P(G)):G===32?(a.enter("space"),a.consume(G),a.exit("space"),S):or(G)?(a.enter("lineEnding"),a.consume(G),a.exit("lineEnding"),S):(a.enter("mathTextData"),k(G))}function k(G){return G===null||G===32||G===36||or(G)?(a.exit("mathTextData"),S(G)):(a.consume(G),k)}function P(G){return G===36?(a.consume(G),$++,P):$===m?(a.exit("mathTextSequence"),a.exit("mathText"),c(G)):(v.type="mathTextData",k(G))}}}function FV(t){let n=t.length-4,r=3,s,a;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[n][1].type==="lineEnding"||t[n][1].type==="space")){for(s=r;++s<n;)if(t[s][1].type==="mathTextData"){t[n][1].type="mathTextPadding",t[r][1].type="mathTextPadding",r+=2,n-=2;break}}for(s=r-1,n++;++s<=n;)a===void 0?s!==n&&t[s][1].type!=="lineEnding"&&(a=s):(s===n||t[s][1].type==="lineEnding")&&(t[a][1].type="mathTextData",s!==a+2&&(t[a][1].end=t[s-1][1].end,t.splice(a+2,s-a-2),n-=s-a-2,s=a+2),a=void 0);return t}function UV(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function zV(t){return{flow:{36:LV},text:{36:PV(t)}}}class Ia{constructor(n,r,s){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=n,this.start=r,this.end=s}static range(n,r){return r?!n||!n.loc||!r.loc||n.loc.lexer!==r.loc.lexer?null:new Ia(n.loc.lexer,n.loc.start,r.loc.end):n&&n.loc}}class o0{constructor(n,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=n,this.loc=r}range(n,r){return new o0(r,Ia.range(this,n))}}class gn{constructor(n,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var s="KaTeX parse error: "+n,a,c,d=r&&r.loc;if(d&&d.start<=d.end){var m=d.lexer.input;a=d.start,c=d.end,a===m.length?s+=" at end of input: ":s+=" at position "+(a+1)+": ";var $=m.slice(a,c).replace(/[^]/g,"$&"),v;a>15?v=""+m.slice(a-15,a):v=m.slice(0,a);var _;c+15<m.length?_=m.slice(c,c+15)+"":_=m.slice(c),s+=v+$+_}var T=new Error(s);return T.name="ParseError",T.__proto__=gn.prototype,T.position=a,a!=null&&c!=null&&(T.length=c-a),T.rawMessage=n,T}}gn.prototype.__proto__=Error.prototype;var HV=function(n,r){return n===void 0?r:n},VV=/([A-Z])/g,GV=function(n){return n.replace(VV,"-$1").toLowerCase()},qV={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},WV=/[&><"']/g;function jV(t){return String(t).replace(WV,n=>qV[n])}var Rk=function t(n){return n.type==="ordgroup"||n.type==="color"?n.body.length===1?t(n.body[0]):n:n.type==="font"?t(n.body):n},XV=function(n){var r=Rk(n);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},YV=function(n){if(!n)throw new Error("Expected non-null, but got "+String(n));return n},KV=function(n){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(n);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},Qi={deflt:HV,escape:jV,hyphenate:GV,getBaseElem:Rk,isCharacterBox:XV,protocolFromUrl:KV},d5={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,n)=>(n.push(t),n)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function JV(t){if(t.default)return t.default;var n=t.type,r=Array.isArray(n)?n[0]:n;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class x${constructor(n){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,n=n||{};for(var r in d5)if(d5.hasOwnProperty(r)){var s=d5[r];this[r]=n[r]!==void 0?s.processor?s.processor(n[r]):n[r]:JV(s)}}reportNonstrict(n,r,s){var a=this.strict;if(typeof a=="function"&&(a=a(n,r,s)),!(!a||a==="ignore")){if(a===!0||a==="error")throw new gn("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+n+"]"),s);a==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+n+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+r+" ["+n+"]"))}}useStrictBehavior(n,r,s){var a=this.strict;if(typeof a=="function")try{a=a(n,r,s)}catch{a="error"}return!a||a==="ignore"?!1:a===!0||a==="error"?!0:a==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+n+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+r+" ["+n+"]")),!1)}isTrusted(n){if(n.url&&!n.protocol){var r=Qi.protocolFromUrl(n.url);if(r==null)return!1;n.protocol=r}var s=typeof this.trust=="function"?this.trust(n):this.trust;return!!s}}class q1{constructor(n,r,s){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=n,this.size=r,this.cramped=s}sup(){return vc[ZV[this.id]]}sub(){return vc[QV[this.id]]}fracNum(){return vc[eG[this.id]]}fracDen(){return vc[tG[this.id]]}cramp(){return vc[nG[this.id]]}text(){return vc[rG[this.id]]}isTight(){return this.size>=2}}var S$=0,z5=1,s2=2,Ah=3,_m=4,W0=5,g2=6,pa=7,vc=[new q1(S$,0,!1),new q1(z5,0,!0),new q1(s2,1,!1),new q1(Ah,1,!0),new q1(_m,2,!1),new q1(W0,2,!0),new q1(g2,3,!1),new q1(pa,3,!0)],ZV=[_m,W0,_m,W0,g2,pa,g2,pa],QV=[W0,W0,W0,W0,pa,pa,pa,pa],eG=[s2,Ah,_m,W0,g2,pa,g2,pa],tG=[Ah,Ah,W0,W0,pa,pa,pa,pa],nG=[z5,z5,Ah,Ah,W0,W0,pa,pa],rG=[S$,z5,s2,Ah,s2,Ah,s2,Ah],br={DISPLAY:vc[S$],TEXT:vc[s2],SCRIPT:vc[_m],SCRIPTSCRIPT:vc[g2]},Gg=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function iG(t){for(var n=0;n<Gg.length;n++)for(var r=Gg[n],s=0;s<r.blocks.length;s++){var a=r.blocks[s];if(t>=a[0]&&t<=a[1])return r.name}return null}var f5=[];Gg.forEach(t=>t.blocks.forEach(n=>f5.push(...n)));function Lk(t){for(var n=0;n<f5.length;n+=2)if(t>=f5[n]&&t<=f5[n+1])return!0;return!1}var Q4=80,sG=function(n,r){return"M95,"+(622+n+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+n/2.075+" -"+n+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+n)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+n)+" "+r+"h400000v"+(40+n)+"h-400000z"},oG=function(n,r){return"M263,"+(601+n+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+n/2.084+" -"+n+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+n)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+n)+" "+r+"h400000v"+(40+n)+"h-400000z"},lG=function(n,r){return"M983 "+(10+n+r)+`
l`+n/3.13+" -"+n+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+n)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+n)+" "+r+"h400000v"+(40+n)+"h-400000z"},aG=function(n,r){return"M424,"+(2398+n+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+n/4.223+" -"+n+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+n)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+n)+" "+r+`
h400000v`+(40+n)+"h-400000z"},uG=function(n,r){return"M473,"+(2713+n+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+n/5.298+" -"+n+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+n)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+n)+" "+r+"h400000v"+(40+n)+"H1017.7z"},cG=function(n){var r=n/2;return"M400000 "+n+" H0 L"+r+" 0 l65 45 L145 "+(n-80)+" H400000z"},hG=function(n,r,s){var a=s-54-r-n;return"M702 "+(n+r)+"H400000"+(40+n)+`
H742v`+a+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+n)+"H742z"},dG=function(n,r,s){r=1e3*r;var a="";switch(n){case"sqrtMain":a=sG(r,Q4);break;case"sqrtSize1":a=oG(r,Q4);break;case"sqrtSize2":a=lG(r,Q4);break;case"sqrtSize3":a=aG(r,Q4);break;case"sqrtSize4":a=uG(r,Q4);break;case"sqrtTall":a=hG(r,Q4,s)}return a},fG=function(n,r){switch(n){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},GT={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},pG=function(n,r){switch(n){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let Pm=class{constructor(n){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=n,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(n){return this.classes.includes(n)}toNode(){for(var n=document.createDocumentFragment(),r=0;r<this.children.length;r++)n.appendChild(this.children[r].toNode());return n}toMarkup(){for(var n="",r=0;r<this.children.length;r++)n+=this.children[r].toMarkup();return n}toText(){var n=r=>r.toText();return this.children.map(n).join("")}};var _c={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},U3={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},qT={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function mG(t,n){_c[t]=n}function k$(t,n,r){if(!_c[n])throw new Error("Font metrics not found for font: "+n+".");var s=t.charCodeAt(0),a=_c[n][s];if(!a&&t[0]in qT&&(s=qT[t[0]].charCodeAt(0),a=_c[n][s]),!a&&r==="text"&&Lk(s)&&(a=_c[n][77]),a)return{depth:a[0],height:a[1],italic:a[2],skew:a[3],width:a[4]}}var W8={};function gG(t){var n;if(t>=5?n=0:t>=3?n=1:n=2,!W8[n]){var r=W8[n]={cssEmPerMu:U3.quad[n]/18};for(var s in U3)U3.hasOwnProperty(s)&&(r[s]=U3[s][n])}return W8[n]}var $G=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],WT=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],jT=function(n,r){return r.size<2?n:$G[n-1][r.size-1]};class wh{constructor(n){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=n.style,this.color=n.color,this.size=n.size||wh.BASESIZE,this.textSize=n.textSize||this.size,this.phantom=!!n.phantom,this.font=n.font||"",this.fontFamily=n.fontFamily||"",this.fontWeight=n.fontWeight||"",this.fontShape=n.fontShape||"",this.sizeMultiplier=WT[this.size-1],this.maxSize=n.maxSize,this.minRuleThickness=n.minRuleThickness,this._fontMetrics=void 0}extend(n){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s]);return new wh(r)}havingStyle(n){return this.style===n?this:this.extend({style:n,size:jT(this.textSize,n)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(n){return this.size===n&&this.textSize===n?this:this.extend({style:this.style.text(),size:n,textSize:n,sizeMultiplier:WT[n-1]})}havingBaseStyle(n){n=n||this.style.text();var r=jT(wh.BASESIZE,n);return this.size===r&&this.textSize===wh.BASESIZE&&this.style===n?this:this.extend({style:n,size:r})}havingBaseSizing(){var n;switch(this.style.id){case 4:case 5:n=3;break;case 6:case 7:n=1;break;default:n=6}return this.extend({style:this.style.text(),size:n})}withColor(n){return this.extend({color:n})}withPhantom(){return this.extend({phantom:!0})}withFont(n){return this.extend({font:n})}withTextFontFamily(n){return this.extend({fontFamily:n,font:""})}withTextFontWeight(n){return this.extend({fontWeight:n,font:""})}withTextFontShape(n){return this.extend({fontShape:n,font:""})}sizingClasses(n){return n.size!==this.size?["sizing","reset-size"+n.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==wh.BASESIZE?["sizing","reset-size"+this.size,"size"+wh.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=gG(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}wh.BASESIZE=6;var qg={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},vG={ex:!0,em:!0,mu:!0},Dk=function(n){return typeof n!="string"&&(n=n.unit),n in qg||n in vG||n==="ex"},fo=function(n,r){var s;if(n.unit in qg)s=qg[n.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(n.unit==="mu")s=r.fontMetrics().cssEmPerMu;else{var a;if(r.style.isTight()?a=r.havingStyle(r.style.text()):a=r,n.unit==="ex")s=a.fontMetrics().xHeight;else if(n.unit==="em")s=a.fontMetrics().quad;else throw new gn("Invalid unit: '"+n.unit+"'");a!==r&&(s*=a.sizeMultiplier/r.sizeMultiplier)}return Math.min(n.number*s,r.maxSize)},Tn=function(n){return+n.toFixed(4)+"em"},Q1=function(n){return n.filter(r=>r).join(" ")},Bk=function(n,r,s){if(this.classes=n||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=s||{},r){r.style.isTight()&&this.classes.push("mtight");var a=r.getColor();a&&(this.style.color=a)}},Pk=function(n){var r=document.createElement(n);r.className=Q1(this.classes);for(var s in this.style)this.style.hasOwnProperty(s)&&(r.style[s]=this.style[s]);for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&r.setAttribute(a,this.attributes[a]);for(var c=0;c<this.children.length;c++)r.appendChild(this.children[c].toNode());return r},bG=/[\s"'>/=\x00-\x1f]/,Fk=function(n){var r="<"+n;this.classes.length&&(r+=' class="'+Qi.escape(Q1(this.classes))+'"');var s="";for(var a in this.style)this.style.hasOwnProperty(a)&&(s+=Qi.hyphenate(a)+":"+this.style[a]+";");s&&(r+=' style="'+Qi.escape(s)+'"');for(var c in this.attributes)if(this.attributes.hasOwnProperty(c)){if(bG.test(c))throw new gn("Invalid attribute name '"+c+"'");r+=" "+c+'="'+Qi.escape(this.attributes[c])+'"'}r+=">";for(var d=0;d<this.children.length;d++)r+=this.children[d].toMarkup();return r+="</"+n+">",r};class Fm{constructor(n,r,s,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Bk.call(this,n,s,a),this.children=r||[]}setAttribute(n,r){this.attributes[n]=r}hasClass(n){return this.classes.includes(n)}toNode(){return Pk.call(this,"span")}toMarkup(){return Fk.call(this,"span")}}class C${constructor(n,r,s,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Bk.call(this,r,a),this.children=s||[],this.setAttribute("href",n)}setAttribute(n,r){this.attributes[n]=r}hasClass(n){return this.classes.includes(n)}toNode(){return Pk.call(this,"a")}toMarkup(){return Fk.call(this,"a")}}class yG{constructor(n,r,s){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=n,this.classes=["mord"],this.style=s}hasClass(n){return this.classes.includes(n)}toNode(){var n=document.createElement("img");n.src=this.src,n.alt=this.alt,n.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);return n}toMarkup(){var n='<img src="'+Qi.escape(this.src)+'"'+(' alt="'+Qi.escape(this.alt)+'"'),r="";for(var s in this.style)this.style.hasOwnProperty(s)&&(r+=Qi.hyphenate(s)+":"+this.style[s]+";");return r&&(n+=' style="'+Qi.escape(r)+'"'),n+="'/>",n}}var _G={:"",:"",:"",:""};class j0{constructor(n,r,s,a,c,d,m,$){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=n,this.height=r||0,this.depth=s||0,this.italic=a||0,this.skew=c||0,this.width=d||0,this.classes=m||[],this.style=$||{},this.maxFontSize=0;var v=iG(this.text.charCodeAt(0));v&&this.classes.push(v+"_fallback"),/[]/.test(this.text)&&(this.text=_G[this.text])}hasClass(n){return this.classes.includes(n)}toNode(){var n=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=Tn(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Q1(this.classes));for(var s in this.style)this.style.hasOwnProperty(s)&&(r=r||document.createElement("span"),r.style[s]=this.style[s]);return r?(r.appendChild(n),r):n}toMarkup(){var n=!1,r="<span";this.classes.length&&(n=!0,r+=' class="',r+=Qi.escape(Q1(this.classes)),r+='"');var s="";this.italic>0&&(s+="margin-right:"+this.italic+"em;");for(var a in this.style)this.style.hasOwnProperty(a)&&(s+=Qi.hyphenate(a)+":"+this.style[a]+";");s&&(n=!0,r+=' style="'+Qi.escape(s)+'"');var c=Qi.escape(this.text);return n?(r+=">",r+=c,r+="</span>",r):c}}class Lh{constructor(n,r){this.children=void 0,this.attributes=void 0,this.children=n||[],this.attributes=r||{}}toNode(){var n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"svg");for(var s in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,s)&&r.setAttribute(s,this.attributes[s]);for(var a=0;a<this.children.length;a++)r.appendChild(this.children[a].toNode());return r}toMarkup(){var n='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(n+=" "+r+'="'+Qi.escape(this.attributes[r])+'"');n+=">";for(var s=0;s<this.children.length;s++)n+=this.children[s].toMarkup();return n+="</svg>",n}}class ed{constructor(n,r){this.pathName=void 0,this.alternate=void 0,this.pathName=n,this.alternate=r}toNode(){var n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",GT[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+Qi.escape(this.alternate)+'"/>':'<path d="'+Qi.escape(GT[this.pathName])+'"/>'}}class Wg{constructor(n){this.attributes=void 0,this.attributes=n||{}}toNode(){var n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"line");for(var s in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,s)&&r.setAttribute(s,this.attributes[s]);return r}toMarkup(){var n="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(n+=" "+r+'="'+Qi.escape(this.attributes[r])+'"');return n+="/>",n}}function XT(t){if(t instanceof j0)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function TG(t){if(t instanceof Fm)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var EG={bin:1,close:1,inner:1,open:1,punct:1,rel:1},wG={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Us={math:{},text:{}};function q(t,n,r,s,a,c){Us[t][a]={font:n,group:r,replace:s},c&&s&&(Us[t][s]=Us[t][a])}var Z="math",dn="text",ve="main",Ke="ams",ro="accent-token",zn="bin",ga="close",E2="inner",vr="mathord",Vo="op-token",a0="open",N6="punct",Je="rel",zh="spacing",ft="textord";q(Z,ve,Je,"","\\equiv",!0);q(Z,ve,Je,"","\\prec",!0);q(Z,ve,Je,"","\\succ",!0);q(Z,ve,Je,"","\\sim",!0);q(Z,ve,Je,"","\\perp");q(Z,ve,Je,"","\\preceq",!0);q(Z,ve,Je,"","\\succeq",!0);q(Z,ve,Je,"","\\simeq",!0);q(Z,ve,Je,"","\\mid",!0);q(Z,ve,Je,"","\\ll",!0);q(Z,ve,Je,"","\\gg",!0);q(Z,ve,Je,"","\\asymp",!0);q(Z,ve,Je,"","\\parallel");q(Z,ve,Je,"","\\bowtie",!0);q(Z,ve,Je,"","\\smile",!0);q(Z,ve,Je,"","\\sqsubseteq",!0);q(Z,ve,Je,"","\\sqsupseteq",!0);q(Z,ve,Je,"","\\doteq",!0);q(Z,ve,Je,"","\\frown",!0);q(Z,ve,Je,"","\\ni",!0);q(Z,ve,Je,"","\\propto",!0);q(Z,ve,Je,"","\\vdash",!0);q(Z,ve,Je,"","\\dashv",!0);q(Z,ve,Je,"","\\owns");q(Z,ve,N6,".","\\ldotp");q(Z,ve,N6,"","\\cdotp");q(Z,ve,ft,"#","\\#");q(dn,ve,ft,"#","\\#");q(Z,ve,ft,"&","\\&");q(dn,ve,ft,"&","\\&");q(Z,ve,ft,"","\\aleph",!0);q(Z,ve,ft,"","\\forall",!0);q(Z,ve,ft,"","\\hbar",!0);q(Z,ve,ft,"","\\exists",!0);q(Z,ve,ft,"","\\nabla",!0);q(Z,ve,ft,"","\\flat",!0);q(Z,ve,ft,"","\\ell",!0);q(Z,ve,ft,"","\\natural",!0);q(Z,ve,ft,"","\\clubsuit",!0);q(Z,ve,ft,"","\\wp",!0);q(Z,ve,ft,"","\\sharp",!0);q(Z,ve,ft,"","\\diamondsuit",!0);q(Z,ve,ft,"","\\Re",!0);q(Z,ve,ft,"","\\heartsuit",!0);q(Z,ve,ft,"","\\Im",!0);q(Z,ve,ft,"","\\spadesuit",!0);q(Z,ve,ft,"","\\S",!0);q(dn,ve,ft,"","\\S");q(Z,ve,ft,"","\\P",!0);q(dn,ve,ft,"","\\P");q(Z,ve,ft,"","\\dag");q(dn,ve,ft,"","\\dag");q(dn,ve,ft,"","\\textdagger");q(Z,ve,ft,"","\\ddag");q(dn,ve,ft,"","\\ddag");q(dn,ve,ft,"","\\textdaggerdbl");q(Z,ve,ga,"","\\rmoustache",!0);q(Z,ve,a0,"","\\lmoustache",!0);q(Z,ve,ga,"","\\rgroup",!0);q(Z,ve,a0,"","\\lgroup",!0);q(Z,ve,zn,"","\\mp",!0);q(Z,ve,zn,"","\\ominus",!0);q(Z,ve,zn,"","\\uplus",!0);q(Z,ve,zn,"","\\sqcap",!0);q(Z,ve,zn,"","\\ast");q(Z,ve,zn,"","\\sqcup",!0);q(Z,ve,zn,"","\\bigcirc",!0);q(Z,ve,zn,"","\\bullet",!0);q(Z,ve,zn,"","\\ddagger");q(Z,ve,zn,"","\\wr",!0);q(Z,ve,zn,"","\\amalg");q(Z,ve,zn,"&","\\And");q(Z,ve,Je,"","\\longleftarrow",!0);q(Z,ve,Je,"","\\Leftarrow",!0);q(Z,ve,Je,"","\\Longleftarrow",!0);q(Z,ve,Je,"","\\longrightarrow",!0);q(Z,ve,Je,"","\\Rightarrow",!0);q(Z,ve,Je,"","\\Longrightarrow",!0);q(Z,ve,Je,"","\\leftrightarrow",!0);q(Z,ve,Je,"","\\longleftrightarrow",!0);q(Z,ve,Je,"","\\Leftrightarrow",!0);q(Z,ve,Je,"","\\Longleftrightarrow",!0);q(Z,ve,Je,"","\\mapsto",!0);q(Z,ve,Je,"","\\longmapsto",!0);q(Z,ve,Je,"","\\nearrow",!0);q(Z,ve,Je,"","\\hookleftarrow",!0);q(Z,ve,Je,"","\\hookrightarrow",!0);q(Z,ve,Je,"","\\searrow",!0);q(Z,ve,Je,"","\\leftharpoonup",!0);q(Z,ve,Je,"","\\rightharpoonup",!0);q(Z,ve,Je,"","\\swarrow",!0);q(Z,ve,Je,"","\\leftharpoondown",!0);q(Z,ve,Je,"","\\rightharpoondown",!0);q(Z,ve,Je,"","\\nwarrow",!0);q(Z,ve,Je,"","\\rightleftharpoons",!0);q(Z,Ke,Je,"","\\nless",!0);q(Z,Ke,Je,"","\\@nleqslant");q(Z,Ke,Je,"","\\@nleqq");q(Z,Ke,Je,"","\\lneq",!0);q(Z,Ke,Je,"","\\lneqq",!0);q(Z,Ke,Je,"","\\@lvertneqq");q(Z,Ke,Je,"","\\lnsim",!0);q(Z,Ke,Je,"","\\lnapprox",!0);q(Z,Ke,Je,"","\\nprec",!0);q(Z,Ke,Je,"","\\npreceq",!0);q(Z,Ke,Je,"","\\precnsim",!0);q(Z,Ke,Je,"","\\precnapprox",!0);q(Z,Ke,Je,"","\\nsim",!0);q(Z,Ke,Je,"","\\@nshortmid");q(Z,Ke,Je,"","\\nmid",!0);q(Z,Ke,Je,"","\\nvdash",!0);q(Z,Ke,Je,"","\\nvDash",!0);q(Z,Ke,Je,"","\\ntriangleleft");q(Z,Ke,Je,"","\\ntrianglelefteq",!0);q(Z,Ke,Je,"","\\subsetneq",!0);q(Z,Ke,Je,"","\\@varsubsetneq");q(Z,Ke,Je,"","\\subsetneqq",!0);q(Z,Ke,Je,"","\\@varsubsetneqq");q(Z,Ke,Je,"","\\ngtr",!0);q(Z,Ke,Je,"","\\@ngeqslant");q(Z,Ke,Je,"","\\@ngeqq");q(Z,Ke,Je,"","\\gneq",!0);q(Z,Ke,Je,"","\\gneqq",!0);q(Z,Ke,Je,"","\\@gvertneqq");q(Z,Ke,Je,"","\\gnsim",!0);q(Z,Ke,Je,"","\\gnapprox",!0);q(Z,Ke,Je,"","\\nsucc",!0);q(Z,Ke,Je,"","\\nsucceq",!0);q(Z,Ke,Je,"","\\succnsim",!0);q(Z,Ke,Je,"","\\succnapprox",!0);q(Z,Ke,Je,"","\\ncong",!0);q(Z,Ke,Je,"","\\@nshortparallel");q(Z,Ke,Je,"","\\nparallel",!0);q(Z,Ke,Je,"","\\nVDash",!0);q(Z,Ke,Je,"","\\ntriangleright");q(Z,Ke,Je,"","\\ntrianglerighteq",!0);q(Z,Ke,Je,"","\\@nsupseteqq");q(Z,Ke,Je,"","\\supsetneq",!0);q(Z,Ke,Je,"","\\@varsupsetneq");q(Z,Ke,Je,"","\\supsetneqq",!0);q(Z,Ke,Je,"","\\@varsupsetneqq");q(Z,Ke,Je,"","\\nVdash",!0);q(Z,Ke,Je,"","\\precneqq",!0);q(Z,Ke,Je,"","\\succneqq",!0);q(Z,Ke,Je,"","\\@nsubseteqq");q(Z,Ke,zn,"","\\unlhd");q(Z,Ke,zn,"","\\unrhd");q(Z,Ke,Je,"","\\nleftarrow",!0);q(Z,Ke,Je,"","\\nrightarrow",!0);q(Z,Ke,Je,"","\\nLeftarrow",!0);q(Z,Ke,Je,"","\\nRightarrow",!0);q(Z,Ke,Je,"","\\nleftrightarrow",!0);q(Z,Ke,Je,"","\\nLeftrightarrow",!0);q(Z,Ke,Je,"","\\vartriangle");q(Z,Ke,ft,"","\\hslash");q(Z,Ke,ft,"","\\triangledown");q(Z,Ke,ft,"","\\lozenge");q(Z,Ke,ft,"","\\circledS");q(Z,Ke,ft,"","\\circledR");q(dn,Ke,ft,"","\\circledR");q(Z,Ke,ft,"","\\measuredangle",!0);q(Z,Ke,ft,"","\\nexists");q(Z,Ke,ft,"","\\mho");q(Z,Ke,ft,"","\\Finv",!0);q(Z,Ke,ft,"","\\Game",!0);q(Z,Ke,ft,"","\\backprime");q(Z,Ke,ft,"","\\blacktriangle");q(Z,Ke,ft,"","\\blacktriangledown");q(Z,Ke,ft,"","\\blacksquare");q(Z,Ke,ft,"","\\blacklozenge");q(Z,Ke,ft,"","\\bigstar");q(Z,Ke,ft,"","\\sphericalangle",!0);q(Z,Ke,ft,"","\\complement",!0);q(Z,Ke,ft,"","\\eth",!0);q(dn,ve,ft,"","");q(Z,Ke,ft,"","\\diagup");q(Z,Ke,ft,"","\\diagdown");q(Z,Ke,ft,"","\\square");q(Z,Ke,ft,"","\\Box");q(Z,Ke,ft,"","\\Diamond");q(Z,Ke,ft,"","\\yen",!0);q(dn,Ke,ft,"","\\yen",!0);q(Z,Ke,ft,"","\\checkmark",!0);q(dn,Ke,ft,"","\\checkmark");q(Z,Ke,ft,"","\\beth",!0);q(Z,Ke,ft,"","\\daleth",!0);q(Z,Ke,ft,"","\\gimel",!0);q(Z,Ke,ft,"","\\digamma",!0);q(Z,Ke,ft,"","\\varkappa");q(Z,Ke,a0,"","\\@ulcorner",!0);q(Z,Ke,ga,"","\\@urcorner",!0);q(Z,Ke,a0,"","\\@llcorner",!0);q(Z,Ke,ga,"","\\@lrcorner",!0);q(Z,Ke,Je,"","\\leqq",!0);q(Z,Ke,Je,"","\\leqslant",!0);q(Z,Ke,Je,"","\\eqslantless",!0);q(Z,Ke,Je,"","\\lesssim",!0);q(Z,Ke,Je,"","\\lessapprox",!0);q(Z,Ke,Je,"","\\approxeq",!0);q(Z,Ke,zn,"","\\lessdot");q(Z,Ke,Je,"","\\lll",!0);q(Z,Ke,Je,"","\\lessgtr",!0);q(Z,Ke,Je,"","\\lesseqgtr",!0);q(Z,Ke,Je,"","\\lesseqqgtr",!0);q(Z,Ke,Je,"","\\doteqdot");q(Z,Ke,Je,"","\\risingdotseq",!0);q(Z,Ke,Je,"","\\fallingdotseq",!0);q(Z,Ke,Je,"","\\backsim",!0);q(Z,Ke,Je,"","\\backsimeq",!0);q(Z,Ke,Je,"","\\subseteqq",!0);q(Z,Ke,Je,"","\\Subset",!0);q(Z,Ke,Je,"","\\sqsubset",!0);q(Z,Ke,Je,"","\\preccurlyeq",!0);q(Z,Ke,Je,"","\\curlyeqprec",!0);q(Z,Ke,Je,"","\\precsim",!0);q(Z,Ke,Je,"","\\precapprox",!0);q(Z,Ke,Je,"","\\vartriangleleft");q(Z,Ke,Je,"","\\trianglelefteq");q(Z,Ke,Je,"","\\vDash",!0);q(Z,Ke,Je,"","\\Vvdash",!0);q(Z,Ke,Je,"","\\smallsmile");q(Z,Ke,Je,"","\\smallfrown");q(Z,Ke,Je,"","\\bumpeq",!0);q(Z,Ke,Je,"","\\Bumpeq",!0);q(Z,Ke,Je,"","\\geqq",!0);q(Z,Ke,Je,"","\\geqslant",!0);q(Z,Ke,Je,"","\\eqslantgtr",!0);q(Z,Ke,Je,"","\\gtrsim",!0);q(Z,Ke,Je,"","\\gtrapprox",!0);q(Z,Ke,zn,"","\\gtrdot");q(Z,Ke,Je,"","\\ggg",!0);q(Z,Ke,Je,"","\\gtrless",!0);q(Z,Ke,Je,"","\\gtreqless",!0);q(Z,Ke,Je,"","\\gtreqqless",!0);q(Z,Ke,Je,"","\\eqcirc",!0);q(Z,Ke,Je,"","\\circeq",!0);q(Z,Ke,Je,"","\\triangleq",!0);q(Z,Ke,Je,"","\\thicksim");q(Z,Ke,Je,"","\\thickapprox");q(Z,Ke,Je,"","\\supseteqq",!0);q(Z,Ke,Je,"","\\Supset",!0);q(Z,Ke,Je,"","\\sqsupset",!0);q(Z,Ke,Je,"","\\succcurlyeq",!0);q(Z,Ke,Je,"","\\curlyeqsucc",!0);q(Z,Ke,Je,"","\\succsim",!0);q(Z,Ke,Je,"","\\succapprox",!0);q(Z,Ke,Je,"","\\vartriangleright");q(Z,Ke,Je,"","\\trianglerighteq");q(Z,Ke,Je,"","\\Vdash",!0);q(Z,Ke,Je,"","\\shortmid");q(Z,Ke,Je,"","\\shortparallel");q(Z,Ke,Je,"","\\between",!0);q(Z,Ke,Je,"","\\pitchfork",!0);q(Z,Ke,Je,"","\\varpropto");q(Z,Ke,Je,"","\\blacktriangleleft");q(Z,Ke,Je,"","\\therefore",!0);q(Z,Ke,Je,"","\\backepsilon");q(Z,Ke,Je,"","\\blacktriangleright");q(Z,Ke,Je,"","\\because",!0);q(Z,Ke,Je,"","\\llless");q(Z,Ke,Je,"","\\gggtr");q(Z,Ke,zn,"","\\lhd");q(Z,Ke,zn,"","\\rhd");q(Z,Ke,Je,"","\\eqsim",!0);q(Z,ve,Je,"","\\Join");q(Z,Ke,Je,"","\\Doteq",!0);q(Z,Ke,zn,"","\\dotplus",!0);q(Z,Ke,zn,"","\\smallsetminus");q(Z,Ke,zn,"","\\Cap",!0);q(Z,Ke,zn,"","\\Cup",!0);q(Z,Ke,zn,"","\\doublebarwedge",!0);q(Z,Ke,zn,"","\\boxminus",!0);q(Z,Ke,zn,"","\\boxplus",!0);q(Z,Ke,zn,"","\\divideontimes",!0);q(Z,Ke,zn,"","\\ltimes",!0);q(Z,Ke,zn,"","\\rtimes",!0);q(Z,Ke,zn,"","\\leftthreetimes",!0);q(Z,Ke,zn,"","\\rightthreetimes",!0);q(Z,Ke,zn,"","\\curlywedge",!0);q(Z,Ke,zn,"","\\curlyvee",!0);q(Z,Ke,zn,"","\\circleddash",!0);q(Z,Ke,zn,"","\\circledast",!0);q(Z,Ke,zn,"","\\centerdot");q(Z,Ke,zn,"","\\intercal",!0);q(Z,Ke,zn,"","\\doublecap");q(Z,Ke,zn,"","\\doublecup");q(Z,Ke,zn,"","\\boxtimes",!0);q(Z,Ke,Je,"","\\dashrightarrow",!0);q(Z,Ke,Je,"","\\dashleftarrow",!0);q(Z,Ke,Je,"","\\leftleftarrows",!0);q(Z,Ke,Je,"","\\leftrightarrows",!0);q(Z,Ke,Je,"","\\Lleftarrow",!0);q(Z,Ke,Je,"","\\twoheadleftarrow",!0);q(Z,Ke,Je,"","\\leftarrowtail",!0);q(Z,Ke,Je,"","\\looparrowleft",!0);q(Z,Ke,Je,"","\\leftrightharpoons",!0);q(Z,Ke,Je,"","\\curvearrowleft",!0);q(Z,Ke,Je,"","\\circlearrowleft",!0);q(Z,Ke,Je,"","\\Lsh",!0);q(Z,Ke,Je,"","\\upuparrows",!0);q(Z,Ke,Je,"","\\upharpoonleft",!0);q(Z,Ke,Je,"","\\downharpoonleft",!0);q(Z,ve,Je,"","\\origof",!0);q(Z,ve,Je,"","\\imageof",!0);q(Z,Ke,Je,"","\\multimap",!0);q(Z,Ke,Je,"","\\leftrightsquigarrow",!0);q(Z,Ke,Je,"","\\rightrightarrows",!0);q(Z,Ke,Je,"","\\rightleftarrows",!0);q(Z,Ke,Je,"","\\twoheadrightarrow",!0);q(Z,Ke,Je,"","\\rightarrowtail",!0);q(Z,Ke,Je,"","\\looparrowright",!0);q(Z,Ke,Je,"","\\curvearrowright",!0);q(Z,Ke,Je,"","\\circlearrowright",!0);q(Z,Ke,Je,"","\\Rsh",!0);q(Z,Ke,Je,"","\\downdownarrows",!0);q(Z,Ke,Je,"","\\upharpoonright",!0);q(Z,Ke,Je,"","\\downharpoonright",!0);q(Z,Ke,Je,"","\\rightsquigarrow",!0);q(Z,Ke,Je,"","\\leadsto");q(Z,Ke,Je,"","\\Rrightarrow",!0);q(Z,Ke,Je,"","\\restriction");q(Z,ve,ft,"","`");q(Z,ve,ft,"$","\\$");q(dn,ve,ft,"$","\\$");q(dn,ve,ft,"$","\\textdollar");q(Z,ve,ft,"%","\\%");q(dn,ve,ft,"%","\\%");q(Z,ve,ft,"_","\\_");q(dn,ve,ft,"_","\\_");q(dn,ve,ft,"_","\\textunderscore");q(Z,ve,ft,"","\\angle",!0);q(Z,ve,ft,"","\\infty",!0);q(Z,ve,ft,"","\\prime");q(Z,ve,ft,"","\\triangle");q(Z,ve,ft,"","\\Gamma",!0);q(Z,ve,ft,"","\\Delta",!0);q(Z,ve,ft,"","\\Theta",!0);q(Z,ve,ft,"","\\Lambda",!0);q(Z,ve,ft,"","\\Xi",!0);q(Z,ve,ft,"","\\Pi",!0);q(Z,ve,ft,"","\\Sigma",!0);q(Z,ve,ft,"","\\Upsilon",!0);q(Z,ve,ft,"","\\Phi",!0);q(Z,ve,ft,"","\\Psi",!0);q(Z,ve,ft,"","\\Omega",!0);q(Z,ve,ft,"A","");q(Z,ve,ft,"B","");q(Z,ve,ft,"E","");q(Z,ve,ft,"Z","");q(Z,ve,ft,"H","");q(Z,ve,ft,"I","");q(Z,ve,ft,"K","");q(Z,ve,ft,"M","");q(Z,ve,ft,"N","");q(Z,ve,ft,"O","");q(Z,ve,ft,"P","");q(Z,ve,ft,"T","");q(Z,ve,ft,"X","");q(Z,ve,ft,"","\\neg",!0);q(Z,ve,ft,"","\\lnot");q(Z,ve,ft,"","\\top");q(Z,ve,ft,"","\\bot");q(Z,ve,ft,"","\\emptyset");q(Z,Ke,ft,"","\\varnothing");q(Z,ve,vr,"","\\alpha",!0);q(Z,ve,vr,"","\\beta",!0);q(Z,ve,vr,"","\\gamma",!0);q(Z,ve,vr,"","\\delta",!0);q(Z,ve,vr,"","\\epsilon",!0);q(Z,ve,vr,"","\\zeta",!0);q(Z,ve,vr,"","\\eta",!0);q(Z,ve,vr,"","\\theta",!0);q(Z,ve,vr,"","\\iota",!0);q(Z,ve,vr,"","\\kappa",!0);q(Z,ve,vr,"","\\lambda",!0);q(Z,ve,vr,"","\\mu",!0);q(Z,ve,vr,"","\\nu",!0);q(Z,ve,vr,"","\\xi",!0);q(Z,ve,vr,"","\\omicron",!0);q(Z,ve,vr,"","\\pi",!0);q(Z,ve,vr,"","\\rho",!0);q(Z,ve,vr,"","\\sigma",!0);q(Z,ve,vr,"","\\tau",!0);q(Z,ve,vr,"","\\upsilon",!0);q(Z,ve,vr,"","\\phi",!0);q(Z,ve,vr,"","\\chi",!0);q(Z,ve,vr,"","\\psi",!0);q(Z,ve,vr,"","\\omega",!0);q(Z,ve,vr,"","\\varepsilon",!0);q(Z,ve,vr,"","\\vartheta",!0);q(Z,ve,vr,"","\\varpi",!0);q(Z,ve,vr,"","\\varrho",!0);q(Z,ve,vr,"","\\varsigma",!0);q(Z,ve,vr,"","\\varphi",!0);q(Z,ve,zn,"","*",!0);q(Z,ve,zn,"+","+");q(Z,ve,zn,"","-",!0);q(Z,ve,zn,"","\\cdot",!0);q(Z,ve,zn,"","\\circ",!0);q(Z,ve,zn,"","\\div",!0);q(Z,ve,zn,"","\\pm",!0);q(Z,ve,zn,"","\\times",!0);q(Z,ve,zn,"","\\cap",!0);q(Z,ve,zn,"","\\cup",!0);q(Z,ve,zn,"","\\setminus",!0);q(Z,ve,zn,"","\\land");q(Z,ve,zn,"","\\lor");q(Z,ve,zn,"","\\wedge",!0);q(Z,ve,zn,"","\\vee",!0);q(Z,ve,ft,"","\\surd");q(Z,ve,a0,"","\\langle",!0);q(Z,ve,a0,"","\\lvert");q(Z,ve,a0,"","\\lVert");q(Z,ve,ga,"?","?");q(Z,ve,ga,"!","!");q(Z,ve,ga,"","\\rangle",!0);q(Z,ve,ga,"","\\rvert");q(Z,ve,ga,"","\\rVert");q(Z,ve,Je,"=","=");q(Z,ve,Je,":",":");q(Z,ve,Je,"","\\approx",!0);q(Z,ve,Je,"","\\cong",!0);q(Z,ve,Je,"","\\ge");q(Z,ve,Je,"","\\geq",!0);q(Z,ve,Je,"","\\gets");q(Z,ve,Je,">","\\gt",!0);q(Z,ve,Je,"","\\in",!0);q(Z,ve,Je,"","\\@not");q(Z,ve,Je,"","\\subset",!0);q(Z,ve,Je,"","\\supset",!0);q(Z,ve,Je,"","\\subseteq",!0);q(Z,ve,Je,"","\\supseteq",!0);q(Z,Ke,Je,"","\\nsubseteq",!0);q(Z,Ke,Je,"","\\nsupseteq",!0);q(Z,ve,Je,"","\\models");q(Z,ve,Je,"","\\leftarrow",!0);q(Z,ve,Je,"","\\le");q(Z,ve,Je,"","\\leq",!0);q(Z,ve,Je,"<","\\lt",!0);q(Z,ve,Je,"","\\rightarrow",!0);q(Z,ve,Je,"","\\to");q(Z,Ke,Je,"","\\ngeq",!0);q(Z,Ke,Je,"","\\nleq",!0);q(Z,ve,zh,"","\\ ");q(Z,ve,zh,"","\\space");q(Z,ve,zh,"","\\nobreakspace");q(dn,ve,zh,"","\\ ");q(dn,ve,zh,""," ");q(dn,ve,zh,"","\\space");q(dn,ve,zh,"","\\nobreakspace");q(Z,ve,zh,null,"\\nobreak");q(Z,ve,zh,null,"\\allowbreak");q(Z,ve,N6,",",",");q(Z,ve,N6,";",";");q(Z,Ke,zn,"","\\barwedge",!0);q(Z,Ke,zn,"","\\veebar",!0);q(Z,ve,zn,"","\\odot",!0);q(Z,ve,zn,"","\\oplus",!0);q(Z,ve,zn,"","\\otimes",!0);q(Z,ve,ft,"","\\partial",!0);q(Z,ve,zn,"","\\oslash",!0);q(Z,Ke,zn,"","\\circledcirc",!0);q(Z,Ke,zn,"","\\boxdot",!0);q(Z,ve,zn,"","\\bigtriangleup");q(Z,ve,zn,"","\\bigtriangledown");q(Z,ve,zn,"","\\dagger");q(Z,ve,zn,"","\\diamond");q(Z,ve,zn,"","\\star");q(Z,ve,zn,"","\\triangleleft");q(Z,ve,zn,"","\\triangleright");q(Z,ve,a0,"{","\\{");q(dn,ve,ft,"{","\\{");q(dn,ve,ft,"{","\\textbraceleft");q(Z,ve,ga,"}","\\}");q(dn,ve,ft,"}","\\}");q(dn,ve,ft,"}","\\textbraceright");q(Z,ve,a0,"{","\\lbrace");q(Z,ve,ga,"}","\\rbrace");q(Z,ve,a0,"[","\\lbrack",!0);q(dn,ve,ft,"[","\\lbrack",!0);q(Z,ve,ga,"]","\\rbrack",!0);q(dn,ve,ft,"]","\\rbrack",!0);q(Z,ve,a0,"(","\\lparen",!0);q(Z,ve,ga,")","\\rparen",!0);q(dn,ve,ft,"<","\\textless",!0);q(dn,ve,ft,">","\\textgreater",!0);q(Z,ve,a0,"","\\lfloor",!0);q(Z,ve,ga,"","\\rfloor",!0);q(Z,ve,a0,"","\\lceil",!0);q(Z,ve,ga,"","\\rceil",!0);q(Z,ve,ft,"\\","\\backslash");q(Z,ve,ft,"","|");q(Z,ve,ft,"","\\vert");q(dn,ve,ft,"|","\\textbar",!0);q(Z,ve,ft,"","\\|");q(Z,ve,ft,"","\\Vert");q(dn,ve,ft,"","\\textbardbl");q(dn,ve,ft,"~","\\textasciitilde");q(dn,ve,ft,"\\","\\textbackslash");q(dn,ve,ft,"^","\\textasciicircum");q(Z,ve,Je,"","\\uparrow",!0);q(Z,ve,Je,"","\\Uparrow",!0);q(Z,ve,Je,"","\\downarrow",!0);q(Z,ve,Je,"","\\Downarrow",!0);q(Z,ve,Je,"","\\updownarrow",!0);q(Z,ve,Je,"","\\Updownarrow",!0);q(Z,ve,Vo,"","\\coprod");q(Z,ve,Vo,"","\\bigvee");q(Z,ve,Vo,"","\\bigwedge");q(Z,ve,Vo,"","\\biguplus");q(Z,ve,Vo,"","\\bigcap");q(Z,ve,Vo,"","\\bigcup");q(Z,ve,Vo,"","\\int");q(Z,ve,Vo,"","\\intop");q(Z,ve,Vo,"","\\iint");q(Z,ve,Vo,"","\\iiint");q(Z,ve,Vo,"","\\prod");q(Z,ve,Vo,"","\\sum");q(Z,ve,Vo,"","\\bigotimes");q(Z,ve,Vo,"","\\bigoplus");q(Z,ve,Vo,"","\\bigodot");q(Z,ve,Vo,"","\\oint");q(Z,ve,Vo,"","\\oiint");q(Z,ve,Vo,"","\\oiiint");q(Z,ve,Vo,"","\\bigsqcup");q(Z,ve,Vo,"","\\smallint");q(dn,ve,E2,"","\\textellipsis");q(Z,ve,E2,"","\\mathellipsis");q(dn,ve,E2,"","\\ldots",!0);q(Z,ve,E2,"","\\ldots",!0);q(Z,ve,E2,"","\\@cdots",!0);q(Z,ve,E2,"","\\ddots",!0);q(Z,ve,ft,"","\\varvdots");q(dn,ve,ft,"","\\varvdots");q(Z,ve,ro,"","\\acute");q(Z,ve,ro,"","\\grave");q(Z,ve,ro,"","\\ddot");q(Z,ve,ro,"~","\\tilde");q(Z,ve,ro,"","\\bar");q(Z,ve,ro,"","\\breve");q(Z,ve,ro,"","\\check");q(Z,ve,ro,"^","\\hat");q(Z,ve,ro,"","\\vec");q(Z,ve,ro,"","\\dot");q(Z,ve,ro,"","\\mathring");q(Z,ve,vr,"","\\@imath");q(Z,ve,vr,"","\\@jmath");q(Z,ve,ft,"","");q(Z,ve,ft,"","");q(dn,ve,ft,"","\\i",!0);q(dn,ve,ft,"","\\j",!0);q(dn,ve,ft,"","\\ss",!0);q(dn,ve,ft,"","\\ae",!0);q(dn,ve,ft,"","\\oe",!0);q(dn,ve,ft,"","\\o",!0);q(dn,ve,ft,"","\\AE",!0);q(dn,ve,ft,"","\\OE",!0);q(dn,ve,ft,"","\\O",!0);q(dn,ve,ro,"","\\'");q(dn,ve,ro,"","\\`");q(dn,ve,ro,"","\\^");q(dn,ve,ro,"","\\~");q(dn,ve,ro,"","\\=");q(dn,ve,ro,"","\\u");q(dn,ve,ro,"","\\.");q(dn,ve,ro,"","\\c");q(dn,ve,ro,"","\\r");q(dn,ve,ro,"","\\v");q(dn,ve,ro,"",'\\"');q(dn,ve,ro,"","\\H");q(dn,ve,ro,"","\\textcircled");var Uk={"--":!0,"---":!0,"``":!0,"''":!0};q(dn,ve,ft,"","--",!0);q(dn,ve,ft,"","\\textendash");q(dn,ve,ft,"","---",!0);q(dn,ve,ft,"","\\textemdash");q(dn,ve,ft,"","`",!0);q(dn,ve,ft,"","\\textquoteleft");q(dn,ve,ft,"","'",!0);q(dn,ve,ft,"","\\textquoteright");q(dn,ve,ft,"","``",!0);q(dn,ve,ft,"","\\textquotedblleft");q(dn,ve,ft,"","''",!0);q(dn,ve,ft,"","\\textquotedblright");q(Z,ve,ft,"","\\degree",!0);q(dn,ve,ft,"","\\degree");q(dn,ve,ft,"","\\textdegree",!0);q(Z,ve,ft,"","\\pounds");q(Z,ve,ft,"","\\mathsterling",!0);q(dn,ve,ft,"","\\pounds");q(dn,ve,ft,"","\\textsterling",!0);q(Z,Ke,ft,"","\\maltese");q(dn,Ke,ft,"","\\maltese");var YT='0123456789/@."';for(var j8=0;j8<YT.length;j8++){var KT=YT.charAt(j8);q(Z,ve,ft,KT,KT)}var JT='0123456789!@*()-=+";:?/.,';for(var X8=0;X8<JT.length;X8++){var ZT=JT.charAt(X8);q(dn,ve,ft,ZT,ZT)}var H5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Y8=0;Y8<H5.length;Y8++){var z3=H5.charAt(Y8);q(Z,ve,vr,z3,z3),q(dn,ve,ft,z3,z3)}q(Z,Ke,ft,"C","");q(dn,Ke,ft,"C","");q(Z,Ke,ft,"H","");q(dn,Ke,ft,"H","");q(Z,Ke,ft,"N","");q(dn,Ke,ft,"N","");q(Z,Ke,ft,"P","");q(dn,Ke,ft,"P","");q(Z,Ke,ft,"Q","");q(dn,Ke,ft,"Q","");q(Z,Ke,ft,"R","");q(dn,Ke,ft,"R","");q(Z,Ke,ft,"Z","");q(dn,Ke,ft,"Z","");q(Z,ve,vr,"h","");q(dn,ve,vr,"h","");var Sr="";for(var ha=0;ha<H5.length;ha++){var _o=H5.charAt(ha);Sr=String.fromCharCode(55349,56320+ha),q(Z,ve,vr,_o,Sr),q(dn,ve,ft,_o,Sr),Sr=String.fromCharCode(55349,56372+ha),q(Z,ve,vr,_o,Sr),q(dn,ve,ft,_o,Sr),Sr=String.fromCharCode(55349,56424+ha),q(Z,ve,vr,_o,Sr),q(dn,ve,ft,_o,Sr),Sr=String.fromCharCode(55349,56580+ha),q(Z,ve,vr,_o,Sr),q(dn,ve,ft,_o,Sr),Sr=String.fromCharCode(55349,56684+ha),q(Z,ve,vr,_o,Sr),q(dn,ve,ft,_o,Sr),Sr=String.fromCharCode(55349,56736+ha),q(Z,ve,vr,_o,Sr),q(dn,ve,ft,_o,Sr),Sr=String.fromCharCode(55349,56788+ha),q(Z,ve,vr,_o,Sr),q(dn,ve,ft,_o,Sr),Sr=String.fromCharCode(55349,56840+ha),q(Z,ve,vr,_o,Sr),q(dn,ve,ft,_o,Sr),Sr=String.fromCharCode(55349,56944+ha),q(Z,ve,vr,_o,Sr),q(dn,ve,ft,_o,Sr),ha<26&&(Sr=String.fromCharCode(55349,56632+ha),q(Z,ve,vr,_o,Sr),q(dn,ve,ft,_o,Sr),Sr=String.fromCharCode(55349,56476+ha),q(Z,ve,vr,_o,Sr),q(dn,ve,ft,_o,Sr))}Sr="";q(Z,ve,vr,"k",Sr);q(dn,ve,ft,"k",Sr);for(var Zd=0;Zd<10;Zd++){var W1=Zd.toString();Sr=String.fromCharCode(55349,57294+Zd),q(Z,ve,vr,W1,Sr),q(dn,ve,ft,W1,Sr),Sr=String.fromCharCode(55349,57314+Zd),q(Z,ve,vr,W1,Sr),q(dn,ve,ft,W1,Sr),Sr=String.fromCharCode(55349,57324+Zd),q(Z,ve,vr,W1,Sr),q(dn,ve,ft,W1,Sr),Sr=String.fromCharCode(55349,57334+Zd),q(Z,ve,vr,W1,Sr),q(dn,ve,ft,W1,Sr)}var jg="";for(var K8=0;K8<jg.length;K8++){var H3=jg.charAt(K8);q(Z,ve,vr,H3,H3),q(dn,ve,ft,H3,H3)}var V3=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],QT=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],xG=function(n,r){var s=n.charCodeAt(0),a=n.charCodeAt(1),c=(s-55296)*1024+(a-56320)+65536,d=r==="math"?0:1;if(119808<=c&&c<120484){var m=Math.floor((c-119808)/26);return[V3[m][2],V3[m][d]]}else if(120782<=c&&c<=120831){var $=Math.floor((c-120782)/10);return[QT[$][2],QT[$][d]]}else{if(c===120485||c===120486)return[V3[0][2],V3[0][d]];if(120486<c&&c<120782)return["",""];throw new gn("Unsupported character: "+n)}},O6=function(n,r,s){return Us[s][n]&&Us[s][n].replace&&(n=Us[s][n].replace),{value:n,metrics:k$(n,r,s)}},Cu=function(n,r,s,a,c){var d=O6(n,r,s),m=d.metrics;n=d.value;var $;if(m){var v=m.italic;(s==="text"||a&&a.font==="mathit")&&(v=0),$=new j0(n,m.height,m.depth,v,m.skew,m.width,c)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+n+"' in style '"+r+"' and mode '"+s+"'")),$=new j0(n,0,0,0,0,0,c);if(a){$.maxFontSize=a.sizeMultiplier,a.style.isTight()&&$.classes.push("mtight");var _=a.getColor();_&&($.style.color=_)}return $},SG=function(n,r,s,a){return a===void 0&&(a=[]),s.font==="boldsymbol"&&O6(n,"Main-Bold",r).metrics?Cu(n,"Main-Bold",r,s,a.concat(["mathbf"])):n==="\\"||Us[r][n].font==="main"?Cu(n,"Main-Regular",r,s,a):Cu(n,"AMS-Regular",r,s,a.concat(["amsrm"]))},kG=function(n,r,s,a,c){return c!=="textord"&&O6(n,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},CG=function(n,r,s){var a=n.mode,c=n.text,d=["mord"],m=a==="math"||a==="text"&&r.font,$=m?r.font:r.fontFamily,v="",_="";if(c.charCodeAt(0)===55349&&([v,_]=xG(c,a)),v.length>0)return Cu(c,v,a,r,d.concat(_));if($){var T,S;if($==="boldsymbol"){var k=kG(c,a,r,d,s);T=k.fontName,S=[k.fontClass]}else m?(T=Vk[$].fontName,S=[$]):(T=G3($,r.fontWeight,r.fontShape),S=[$,r.fontWeight,r.fontShape]);if(O6(c,T,a).metrics)return Cu(c,T,a,r,d.concat(S));if(Uk.hasOwnProperty(c)&&T.slice(0,10)==="Typewriter"){for(var P=[],G=0;G<c.length;G++)P.push(Cu(c[G],T,a,r,d.concat(S)));return Hk(P)}}if(s==="mathord")return Cu(c,"Math-Italic",a,r,d.concat(["mathnormal"]));if(s==="textord"){var X=Us[a][c]&&Us[a][c].font;if(X==="ams"){var R=G3("amsrm",r.fontWeight,r.fontShape);return Cu(c,R,a,r,d.concat("amsrm",r.fontWeight,r.fontShape))}else if(X==="main"||!X){var W=G3("textrm",r.fontWeight,r.fontShape);return Cu(c,W,a,r,d.concat(r.fontWeight,r.fontShape))}else{var te=G3(X,r.fontWeight,r.fontShape);return Cu(c,te,a,r,d.concat(te,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+s+" in makeOrd")},AG=(t,n)=>{if(Q1(t.classes)!==Q1(n.classes)||t.skew!==n.skew||t.maxFontSize!==n.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var s in t.style)if(t.style.hasOwnProperty(s)&&t.style[s]!==n.style[s])return!1;for(var a in n.style)if(n.style.hasOwnProperty(a)&&t.style[a]!==n.style[a])return!1;return!0},IG=t=>{for(var n=0;n<t.length-1;n++){var r=t[n],s=t[n+1];r instanceof j0&&s instanceof j0&&AG(r,s)&&(r.text+=s.text,r.height=Math.max(r.height,s.height),r.depth=Math.max(r.depth,s.depth),r.italic=s.italic,t.splice(n+1,1),n--)}return t},A$=function(n){for(var r=0,s=0,a=0,c=0;c<n.children.length;c++){var d=n.children[c];d.height>r&&(r=d.height),d.depth>s&&(s=d.depth),d.maxFontSize>a&&(a=d.maxFontSize)}n.height=r,n.depth=s,n.maxFontSize=a},Aa=function(n,r,s,a){var c=new Fm(n,r,s,a);return A$(c),c},zk=(t,n,r,s)=>new Fm(t,n,r,s),MG=function(n,r,s){var a=Aa([n],[],r);return a.height=Math.max(s||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),a.style.borderBottomWidth=Tn(a.height),a.maxFontSize=1,a},NG=function(n,r,s,a){var c=new C$(n,r,s,a);return A$(c),c},Hk=function(n){var r=new Pm(n);return A$(r),r},OG=function(n,r){return n instanceof Pm?Aa([],[n],r):n},RG=function(n){if(n.positionType==="individualShift"){for(var r=n.children,s=[r[0]],a=-r[0].shift-r[0].elem.depth,c=a,d=1;d<r.length;d++){var m=-r[d].shift-c-r[d].elem.depth,$=m-(r[d-1].elem.height+r[d-1].elem.depth);c=c+m,s.push({type:"kern",size:$}),s.push(r[d])}return{children:s,depth:a}}var v;if(n.positionType==="top"){for(var _=n.positionData,T=0;T<n.children.length;T++){var S=n.children[T];_-=S.type==="kern"?S.size:S.elem.height+S.elem.depth}v=_}else if(n.positionType==="bottom")v=-n.positionData;else{var k=n.children[0];if(k.type!=="elem")throw new Error('First child must have type "elem".');if(n.positionType==="shift")v=-k.elem.depth-n.positionData;else if(n.positionType==="firstBaseline")v=-k.elem.depth;else throw new Error("Invalid positionType "+n.positionType+".")}return{children:n.children,depth:v}},LG=function(n,r){for(var{children:s,depth:a}=RG(n),c=0,d=0;d<s.length;d++){var m=s[d];if(m.type==="elem"){var $=m.elem;c=Math.max(c,$.maxFontSize,$.height)}}c+=2;var v=Aa(["pstrut"],[]);v.style.height=Tn(c);for(var _=[],T=a,S=a,k=a,P=0;P<s.length;P++){var G=s[P];if(G.type==="kern")k+=G.size;else{var X=G.elem,R=G.wrapperClasses||[],W=G.wrapperStyle||{},te=Aa(R,[v,X],void 0,W);te.style.top=Tn(-c-k-X.depth),G.marginLeft&&(te.style.marginLeft=G.marginLeft),G.marginRight&&(te.style.marginRight=G.marginRight),_.push(te),k+=X.height+X.depth}T=Math.min(T,k),S=Math.max(S,k)}var ie=Aa(["vlist"],_);ie.style.height=Tn(S);var se;if(T<0){var Y=Aa([],[]),fe=Aa(["vlist"],[Y]);fe.style.height=Tn(-T);var Ie=Aa(["vlist-s"],[new j0("")]);se=[Aa(["vlist-r"],[ie,Ie]),Aa(["vlist-r"],[fe])]}else se=[Aa(["vlist-r"],[ie])];var De=Aa(["vlist-t"],se);return se.length===2&&De.classes.push("vlist-t2"),De.height=S,De.depth=-T,De},DG=(t,n)=>{var r=Aa(["mspace"],[],n),s=fo(t,n);return r.style.marginRight=Tn(s),r},G3=function(n,r,s){var a="";switch(n){case"amsrm":a="AMS";break;case"textrm":a="Main";break;case"textsf":a="SansSerif";break;case"texttt":a="Typewriter";break;default:a=n}var c;return r==="textbf"&&s==="textit"?c="BoldItalic":r==="textbf"?c="Bold":r==="textit"?c="Italic":c="Regular",a+"-"+c},Vk={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Gk={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},BG=function(n,r){var[s,a,c]=Gk[n],d=new ed(s),m=new Lh([d],{width:Tn(a),height:Tn(c),style:"width:"+Tn(a),viewBox:"0 0 "+1e3*a+" "+1e3*c,preserveAspectRatio:"xMinYMin"}),$=zk(["overlay"],[m],r);return $.height=c,$.style.height=Tn(c),$.style.width=Tn(a),$},Mt={fontMap:Vk,makeSymbol:Cu,mathsym:SG,makeSpan:Aa,makeSvgSpan:zk,makeLineSpan:MG,makeAnchor:NG,makeFragment:Hk,wrapFragment:OG,makeVList:LG,makeOrd:CG,makeGlue:DG,staticSvg:BG,svgData:Gk,tryCombineChars:IG},ho={number:3,unit:"mu"},Qd={number:4,unit:"mu"},_h={number:5,unit:"mu"},PG={mord:{mop:ho,mbin:Qd,mrel:_h,minner:ho},mop:{mord:ho,mop:ho,mrel:_h,minner:ho},mbin:{mord:Qd,mop:Qd,mopen:Qd,minner:Qd},mrel:{mord:_h,mop:_h,mopen:_h,minner:_h},mopen:{},mclose:{mop:ho,mbin:Qd,mrel:_h,minner:ho},mpunct:{mord:ho,mop:ho,mrel:_h,mopen:ho,mclose:ho,mpunct:ho,minner:ho},minner:{mord:ho,mop:ho,mbin:Qd,mrel:_h,mopen:ho,mpunct:ho,minner:ho}},FG={mord:{mop:ho},mop:{mord:ho,mop:ho},mbin:{},mrel:{},mopen:{},mclose:{mop:ho},mpunct:{},minner:{mop:ho}},qk={},V5={},G5={};function Nn(t){for(var{type:n,names:r,props:s,handler:a,htmlBuilder:c,mathmlBuilder:d}=t,m={type:n,numArgs:s.numArgs,argTypes:s.argTypes,allowedInArgument:!!s.allowedInArgument,allowedInText:!!s.allowedInText,allowedInMath:s.allowedInMath===void 0?!0:s.allowedInMath,numOptionalArgs:s.numOptionalArgs||0,infix:!!s.infix,primitive:!!s.primitive,handler:a},$=0;$<r.length;++$)qk[r[$]]=m;n&&(c&&(V5[n]=c),d&&(G5[n]=d))}function $f(t){var{type:n,htmlBuilder:r,mathmlBuilder:s}=t;Nn({type:n,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:s})}var q5=function(n){return n.type==="ordgroup"&&n.body.length===1?n.body[0]:n},Io=function(n){return n.type==="ordgroup"?n.body:[n]},Dh=Mt.makeSpan,UG=["leftmost","mbin","mopen","mrel","mop","mpunct"],zG=["rightmost","mrel","mclose","mpunct"],HG={display:br.DISPLAY,text:br.TEXT,script:br.SCRIPT,scriptscript:br.SCRIPTSCRIPT},VG={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Jo=function(n,r,s,a){a===void 0&&(a=[null,null]);for(var c=[],d=0;d<n.length;d++){var m=Wi(n[d],r);if(m instanceof Pm){var $=m.children;c.push(...$)}else c.push(m)}if(Mt.tryCombineChars(c),!s)return c;var v=r;if(n.length===1){var _=n[0];_.type==="sizing"?v=r.havingSize(_.size):_.type==="styling"&&(v=r.havingStyle(HG[_.style]))}var T=Dh([a[0]||"leftmost"],[],r),S=Dh([a[1]||"rightmost"],[],r),k=s==="root";return eE(c,(P,G)=>{var X=G.classes[0],R=P.classes[0];X==="mbin"&&zG.includes(R)?G.classes[0]="mord":R==="mbin"&&UG.includes(X)&&(P.classes[0]="mord")},{node:T},S,k),eE(c,(P,G)=>{var X=Xg(G),R=Xg(P),W=X&&R?P.hasClass("mtight")?FG[X][R]:PG[X][R]:null;if(W)return Mt.makeGlue(W,v)},{node:T},S,k),c},eE=function t(n,r,s,a,c){a&&n.push(a);for(var d=0;d<n.length;d++){var m=n[d],$=Wk(m);if($){t($.children,r,s,null,c);continue}var v=!m.hasClass("mspace");if(v){var _=r(m,s.node);_&&(s.insertAfter?s.insertAfter(_):(n.unshift(_),d++))}v?s.node=m:c&&m.hasClass("newline")&&(s.node=Dh(["leftmost"])),s.insertAfter=(T=>S=>{n.splice(T+1,0,S),d++})(d)}a&&n.pop()},Wk=function(n){return n instanceof Pm||n instanceof C$||n instanceof Fm&&n.hasClass("enclosing")?n:null},GG=function t(n,r){var s=Wk(n);if(s){var a=s.children;if(a.length){if(r==="right")return t(a[a.length-1],"right");if(r==="left")return t(a[0],"left")}}return n},Xg=function(n,r){return n?(r&&(n=GG(n,r)),VG[n.classes[0]]||null):null},Tm=function(n,r){var s=["nulldelimiter"].concat(n.baseSizingClasses());return Dh(r.concat(s))},Wi=function(n,r,s){if(!n)return Dh();if(V5[n.type]){var a=V5[n.type](n,r);if(s&&r.size!==s.size){a=Dh(r.sizingClasses(s),[a],r);var c=r.sizeMultiplier/s.sizeMultiplier;a.height*=c,a.depth*=c}return a}else throw new gn("Got group of unknown type: '"+n.type+"'")};function q3(t,n){var r=Dh(["base"],t,n),s=Dh(["strut"]);return s.style.height=Tn(r.height+r.depth),r.depth&&(s.style.verticalAlign=Tn(-r.depth)),r.children.unshift(s),r}function Yg(t,n){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var s=Jo(t,n,"root"),a;s.length===2&&s[1].hasClass("tag")&&(a=s.pop());for(var c=[],d=[],m=0;m<s.length;m++)if(d.push(s[m]),s[m].hasClass("mbin")||s[m].hasClass("mrel")||s[m].hasClass("allowbreak")){for(var $=!1;m<s.length-1&&s[m+1].hasClass("mspace")&&!s[m+1].hasClass("newline");)m++,d.push(s[m]),s[m].hasClass("nobreak")&&($=!0);$||(c.push(q3(d,n)),d=[])}else s[m].hasClass("newline")&&(d.pop(),d.length>0&&(c.push(q3(d,n)),d=[]),c.push(s[m]));d.length>0&&c.push(q3(d,n));var v;r?(v=q3(Jo(r,n,!0)),v.classes=["tag"],c.push(v)):a&&c.push(a);var _=Dh(["katex-html"],c);if(_.setAttribute("aria-hidden","true"),v){var T=v.children[0];T.style.height=Tn(_.height+_.depth),_.depth&&(T.style.verticalAlign=Tn(-_.depth))}return _}function jk(t){return new Pm(t)}class i0{constructor(n,r,s){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=n,this.attributes={},this.children=r||[],this.classes=s||[]}setAttribute(n,r){this.attributes[n]=r}getAttribute(n){return this.attributes[n]}toNode(){var n=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);this.classes.length>0&&(n.className=Q1(this.classes));for(var s=0;s<this.children.length;s++)if(this.children[s]instanceof Tc&&this.children[s+1]instanceof Tc){for(var a=this.children[s].toText()+this.children[++s].toText();this.children[s+1]instanceof Tc;)a+=this.children[++s].toText();n.appendChild(new Tc(a).toNode())}else n.appendChild(this.children[s].toNode());return n}toMarkup(){var n="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(n+=" "+r+'="',n+=Qi.escape(this.attributes[r]),n+='"');this.classes.length>0&&(n+=' class ="'+Qi.escape(Q1(this.classes))+'"'),n+=">";for(var s=0;s<this.children.length;s++)n+=this.children[s].toMarkup();return n+="</"+this.type+">",n}toText(){return this.children.map(n=>n.toText()).join("")}}class Tc{constructor(n){this.text=void 0,this.text=n}toNode(){return document.createTextNode(this.text)}toMarkup(){return Qi.escape(this.toText())}toText(){return this.text}}class qG{constructor(n){this.width=void 0,this.character=void 0,this.width=n,n>=.05555&&n<=.05556?this.character="":n>=.1666&&n<=.1667?this.character="":n>=.2222&&n<=.2223?this.character="":n>=.2777&&n<=.2778?this.character="":n>=-.05556&&n<=-.05555?this.character="":n>=-.1667&&n<=-.1666?this.character="":n>=-.2223&&n<=-.2222?this.character="":n>=-.2778&&n<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var n=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return n.setAttribute("width",Tn(this.width)),n}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Tn(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var pn={MathNode:i0,TextNode:Tc,SpaceNode:qG,newDocumentFragment:jk},X0=function(n,r,s){return Us[r][n]&&Us[r][n].replace&&n.charCodeAt(0)!==55349&&!(Uk.hasOwnProperty(n)&&s&&(s.fontFamily&&s.fontFamily.slice(4,6)==="tt"||s.font&&s.font.slice(4,6)==="tt"))&&(n=Us[r][n].replace),new pn.TextNode(n)},I$=function(n){return n.length===1?n[0]:new pn.MathNode("mrow",n)},M$=function(n,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var s=r.font;if(!s||s==="mathnormal")return null;var a=n.mode;if(s==="mathit")return"italic";if(s==="boldsymbol")return n.type==="textord"?"bold":"bold-italic";if(s==="mathbf")return"bold";if(s==="mathbb")return"double-struck";if(s==="mathsfit")return"sans-serif-italic";if(s==="mathfrak")return"fraktur";if(s==="mathscr"||s==="mathcal")return"script";if(s==="mathsf")return"sans-serif";if(s==="mathtt")return"monospace";var c=n.text;if(["\\imath","\\jmath"].includes(c))return null;Us[a][c]&&Us[a][c].replace&&(c=Us[a][c].replace);var d=Mt.fontMap[s].fontName;return k$(c,d,a)?Mt.fontMap[s].variant:null};function J8(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var n=t.children[0];return n instanceof Tc&&n.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var r=t.children[0];return r instanceof Tc&&r.text===","}else return!1}var Na=function(n,r,s){if(n.length===1){var a=Ns(n[0],r);return s&&a instanceof i0&&a.type==="mo"&&(a.setAttribute("lspace","0em"),a.setAttribute("rspace","0em")),[a]}for(var c=[],d,m=0;m<n.length;m++){var $=Ns(n[m],r);if($ instanceof i0&&d instanceof i0){if($.type==="mtext"&&d.type==="mtext"&&$.getAttribute("mathvariant")===d.getAttribute("mathvariant")){d.children.push(...$.children);continue}else if($.type==="mn"&&d.type==="mn"){d.children.push(...$.children);continue}else if(J8($)&&d.type==="mn"){d.children.push(...$.children);continue}else if($.type==="mn"&&J8(d))$.children=[...d.children,...$.children],c.pop();else if(($.type==="msup"||$.type==="msub")&&$.children.length>=1&&(d.type==="mn"||J8(d))){var v=$.children[0];v instanceof i0&&v.type==="mn"&&(v.children=[...d.children,...v.children],c.pop())}else if(d.type==="mi"&&d.children.length===1){var _=d.children[0];if(_ instanceof Tc&&_.text===""&&($.type==="mo"||$.type==="mi"||$.type==="mn")){var T=$.children[0];T instanceof Tc&&T.text.length>0&&(T.text=T.text.slice(0,1)+""+T.text.slice(1),c.pop())}}}c.push($),d=$}return c},td=function(n,r,s){return I$(Na(n,r,s))},Ns=function(n,r){if(!n)return new pn.MathNode("mrow");if(G5[n.type]){var s=G5[n.type](n,r);return s}else throw new gn("Got group of unknown type: '"+n.type+"'")};function tE(t,n,r,s,a){var c=Na(t,r),d;c.length===1&&c[0]instanceof i0&&["mrow","mtable"].includes(c[0].type)?d=c[0]:d=new pn.MathNode("mrow",c);var m=new pn.MathNode("annotation",[new pn.TextNode(n)]);m.setAttribute("encoding","application/x-tex");var $=new pn.MathNode("semantics",[d,m]),v=new pn.MathNode("math",[$]);v.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),s&&v.setAttribute("display","block");var _=a?"katex":"katex-mathml";return Mt.makeSpan([_],[v])}var Xk=function(n){return new wh({style:n.displayMode?br.DISPLAY:br.TEXT,maxSize:n.maxSize,minRuleThickness:n.minRuleThickness})},Yk=function(n,r){if(r.displayMode){var s=["katex-display"];r.leqno&&s.push("leqno"),r.fleqn&&s.push("fleqn"),n=Mt.makeSpan(s,[n])}return n},WG=function(n,r,s){var a=Xk(s),c;if(s.output==="mathml")return tE(n,r,a,s.displayMode,!0);if(s.output==="html"){var d=Yg(n,a);c=Mt.makeSpan(["katex"],[d])}else{var m=tE(n,r,a,s.displayMode,!1),$=Yg(n,a);c=Mt.makeSpan(["katex"],[m,$])}return Yk(c,s)},jG=function(n,r,s){var a=Xk(s),c=Yg(n,a),d=Mt.makeSpan(["katex"],[c]);return Yk(d,s)},XG={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},YG=function(n){var r=new pn.MathNode("mo",[new pn.TextNode(XG[n.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},KG={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},JG=function(n){return n.type==="ordgroup"?n.body.length:1},ZG=function(n,r){function s(){var m=4e5,$=n.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes($)){var v=n,_=JG(v.base),T,S,k;if(_>5)$==="widehat"||$==="widecheck"?(T=420,m=2364,k=.42,S=$+"4"):(T=312,m=2340,k=.34,S="tilde4");else{var P=[1,1,2,2,3,3][_];$==="widehat"||$==="widecheck"?(m=[0,1062,2364,2364,2364][P],T=[0,239,300,360,420][P],k=[0,.24,.3,.3,.36,.42][P],S=$+P):(m=[0,600,1033,2339,2340][P],T=[0,260,286,306,312][P],k=[0,.26,.286,.3,.306,.34][P],S="tilde"+P)}var G=new ed(S),X=new Lh([G],{width:"100%",height:Tn(k),viewBox:"0 0 "+m+" "+T,preserveAspectRatio:"none"});return{span:Mt.makeSvgSpan([],[X],r),minWidth:0,height:k}}else{var R=[],W=KG[$],[te,ie,se]=W,Y=se/1e3,fe=te.length,Ie,De;if(fe===1){var Ue=W[3];Ie=["hide-tail"],De=[Ue]}else if(fe===2)Ie=["halfarrow-left","halfarrow-right"],De=["xMinYMin","xMaxYMin"];else if(fe===3)Ie=["brace-left","brace-center","brace-right"],De=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+fe+" children.");for(var it=0;it<fe;it++){var ze=new ed(te[it]),dt=new Lh([ze],{width:"400em",height:Tn(Y),viewBox:"0 0 "+m+" "+se,preserveAspectRatio:De[it]+" slice"}),Oe=Mt.makeSvgSpan([Ie[it]],[dt],r);if(fe===1)return{span:Oe,minWidth:ie,height:Y};Oe.style.height=Tn(Y),R.push(Oe)}return{span:Mt.makeSpan(["stretchy"],R,r),minWidth:ie,height:Y}}}var{span:a,minWidth:c,height:d}=s();return a.height=d,a.style.height=Tn(d),c>0&&(a.style.minWidth=Tn(c)),a},QG=function(n,r,s,a,c){var d,m=n.height+n.depth+s+a;if(/fbox|color|angl/.test(r)){if(d=Mt.makeSpan(["stretchy",r],[],c),r==="fbox"){var $=c.color&&c.getColor();$&&(d.style.borderColor=$)}}else{var v=[];/^[bx]cancel$/.test(r)&&v.push(new Wg({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&v.push(new Wg({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var _=new Lh(v,{width:"100%",height:Tn(m)});d=Mt.makeSvgSpan([],[_],c)}return d.height=m,d.style.height=Tn(m),d},Bh={encloseSpan:QG,mathMLnode:YG,svgSpan:ZG};function Qr(t,n){if(!t||t.type!==n)throw new Error("Expected node of type "+n+", but got "+(t?"node of type "+t.type:String(t)));return t}function N$(t){var n=R6(t);if(!n)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return n}function R6(t){return t&&(t.type==="atom"||wG.hasOwnProperty(t.type))?t:null}var O$=(t,n)=>{var r,s,a;t&&t.type==="supsub"?(s=Qr(t.base,"accent"),r=s.base,t.base=r,a=TG(Wi(t,n)),t.base=s):(s=Qr(t,"accent"),r=s.base);var c=Wi(r,n.havingCrampedStyle()),d=s.isShifty&&Qi.isCharacterBox(r),m=0;if(d){var $=Qi.getBaseElem(r),v=Wi($,n.havingCrampedStyle());m=XT(v).skew}var _=s.label==="\\c",T=_?c.height+c.depth:Math.min(c.height,n.fontMetrics().xHeight),S;if(s.isStretchy)S=Bh.svgSpan(s,n),S=Mt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"elem",elem:S,wrapperClasses:["svg-align"],wrapperStyle:m>0?{width:"calc(100% - "+Tn(2*m)+")",marginLeft:Tn(2*m)}:void 0}]},n);else{var k,P;s.label==="\\vec"?(k=Mt.staticSvg("vec",n),P=Mt.svgData.vec[1]):(k=Mt.makeOrd({mode:s.mode,text:s.label},n,"textord"),k=XT(k),k.italic=0,P=k.width,_&&(T+=k.depth)),S=Mt.makeSpan(["accent-body"],[k]);var G=s.label==="\\textcircled";G&&(S.classes.push("accent-full"),T=c.height);var X=m;G||(X-=P/2),S.style.left=Tn(X),s.label==="\\textcircled"&&(S.style.top=".2em"),S=Mt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:-T},{type:"elem",elem:S}]},n)}var R=Mt.makeSpan(["mord","accent"],[S],n);return a?(a.children[0]=R,a.height=Math.max(R.height,a.height),a.classes[0]="mord",a):R},Kk=(t,n)=>{var r=t.isStretchy?Bh.mathMLnode(t.label):new pn.MathNode("mo",[X0(t.label,t.mode)]),s=new pn.MathNode("mover",[Ns(t.base,n),r]);return s.setAttribute("accent","true"),s},eq=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Nn({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,n)=>{var r=q5(n[0]),s=!eq.test(t.funcName),a=!s||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:s,isShifty:a,base:r}},htmlBuilder:O$,mathmlBuilder:Kk});Nn({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,n)=>{var r=n[0],s=t.parser.mode;return s==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),s="text"),{type:"accent",mode:s,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:O$,mathmlBuilder:Kk});Nn({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,n)=>{var{parser:r,funcName:s}=t,a=n[0];return{type:"accentUnder",mode:r.mode,label:s,base:a}},htmlBuilder:(t,n)=>{var r=Wi(t.base,n),s=Bh.svgSpan(t,n),a=t.label==="\\utilde"?.12:0,c=Mt.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:s,wrapperClasses:["svg-align"]},{type:"kern",size:a},{type:"elem",elem:r}]},n);return Mt.makeSpan(["mord","accentunder"],[c],n)},mathmlBuilder:(t,n)=>{var r=Bh.mathMLnode(t.label),s=new pn.MathNode("munder",[Ns(t.base,n),r]);return s.setAttribute("accentunder","true"),s}});var W3=t=>{var n=new pn.MathNode("mpadded",t?[t]:[]);return n.setAttribute("width","+0.6em"),n.setAttribute("lspace","0.3em"),n};Nn({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,n,r){var{parser:s,funcName:a}=t;return{type:"xArrow",mode:s.mode,label:a,body:n[0],below:r[0]}},htmlBuilder(t,n){var r=n.style,s=n.havingStyle(r.sup()),a=Mt.wrapFragment(Wi(t.body,s,n),n),c=t.label.slice(0,2)==="\\x"?"x":"cd";a.classes.push(c+"-arrow-pad");var d;t.below&&(s=n.havingStyle(r.sub()),d=Mt.wrapFragment(Wi(t.below,s,n),n),d.classes.push(c+"-arrow-pad"));var m=Bh.svgSpan(t,n),$=-n.fontMetrics().axisHeight+.5*m.height,v=-n.fontMetrics().axisHeight-.5*m.height-.111;(a.depth>.25||t.label==="\\xleftequilibrium")&&(v-=a.depth);var _;if(d){var T=-n.fontMetrics().axisHeight+d.height+.5*m.height+.111;_=Mt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:v},{type:"elem",elem:m,shift:$},{type:"elem",elem:d,shift:T}]},n)}else _=Mt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:v},{type:"elem",elem:m,shift:$}]},n);return _.children[0].children[0].children[1].classes.push("svg-align"),Mt.makeSpan(["mrel","x-arrow"],[_],n)},mathmlBuilder(t,n){var r=Bh.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var s;if(t.body){var a=W3(Ns(t.body,n));if(t.below){var c=W3(Ns(t.below,n));s=new pn.MathNode("munderover",[r,c,a])}else s=new pn.MathNode("mover",[r,a])}else if(t.below){var d=W3(Ns(t.below,n));s=new pn.MathNode("munder",[r,d])}else s=W3(),s=new pn.MathNode("mover",[r,s]);return s}});var tq=Mt.makeSpan;function Jk(t,n){var r=Jo(t.body,n,!0);return tq([t.mclass],r,n)}function Zk(t,n){var r,s=Na(t.body,n);return t.mclass==="minner"?r=new pn.MathNode("mpadded",s):t.mclass==="mord"?t.isCharacterBox?(r=s[0],r.type="mi"):r=new pn.MathNode("mi",s):(t.isCharacterBox?(r=s[0],r.type="mo"):r=new pn.MathNode("mo",s),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}Nn({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,n){var{parser:r,funcName:s}=t,a=n[0];return{type:"mclass",mode:r.mode,mclass:"m"+s.slice(5),body:Io(a),isCharacterBox:Qi.isCharacterBox(a)}},htmlBuilder:Jk,mathmlBuilder:Zk});var L6=t=>{var n=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return n.type==="atom"&&(n.family==="bin"||n.family==="rel")?"m"+n.family:"mord"};Nn({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,n){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:L6(n[0]),body:Io(n[1]),isCharacterBox:Qi.isCharacterBox(n[1])}}});Nn({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,n){var{parser:r,funcName:s}=t,a=n[1],c=n[0],d;s!=="\\stackrel"?d=L6(a):d="mrel";var m={type:"op",mode:a.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:s!=="\\stackrel",body:Io(a)},$={type:"supsub",mode:c.mode,base:m,sup:s==="\\underset"?null:c,sub:s==="\\underset"?c:null};return{type:"mclass",mode:r.mode,mclass:d,body:[$],isCharacterBox:Qi.isCharacterBox($)}},htmlBuilder:Jk,mathmlBuilder:Zk});Nn({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,n){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:L6(n[0]),body:Io(n[0])}},htmlBuilder(t,n){var r=Jo(t.body,n,!0),s=Mt.makeSpan([t.mclass],r,n);return s.style.textShadow="0.02em 0.01em 0.04px",s},mathmlBuilder(t,n){var r=Na(t.body,n),s=new pn.MathNode("mstyle",r);return s.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),s}});var nq={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},nE=()=>({type:"styling",body:[],mode:"math",style:"display"}),rE=t=>t.type==="textord"&&t.text==="@",rq=(t,n)=>(t.type==="mathord"||t.type==="atom")&&t.text===n;function iq(t,n,r){var s=nq[t];switch(s){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(s,[n[0]],[n[1]]);case"\\uparrow":case"\\downarrow":{var a=r.callFunction("\\\\cdleft",[n[0]],[]),c={type:"atom",text:s,mode:"math",family:"rel"},d=r.callFunction("\\Big",[c],[]),m=r.callFunction("\\\\cdright",[n[1]],[]),$={type:"ordgroup",mode:"math",body:[a,d,m]};return r.callFunction("\\\\cdparent",[$],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var v={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[v],[])}default:return{type:"textord",text:" ",mode:"math"}}}function sq(t){var n=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){n.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){n[n.length-1].length===0&&n.pop();break}else throw new gn("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var s=[],a=[s],c=0;c<n.length;c++){for(var d=n[c],m=nE(),$=0;$<d.length;$++)if(!rE(d[$]))m.body.push(d[$]);else{s.push(m),$+=1;var v=N$(d[$]).text,_=new Array(2);if(_[0]={type:"ordgroup",mode:"math",body:[]},_[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(v)>-1))if("<>AV".indexOf(v)>-1)for(var T=0;T<2;T++){for(var S=!0,k=$+1;k<d.length;k++){if(rq(d[k],v)){S=!1,$=k;break}if(rE(d[k]))throw new gn("Missing a "+v+" character to complete a CD arrow.",d[k]);_[T].body.push(d[k])}if(S)throw new gn("Missing a "+v+" character to complete a CD arrow.",d[$])}else throw new gn('Expected one of "<>AV=|." after @',d[$]);var P=iq(v,_,t),G={type:"styling",body:[P],mode:"math",style:"display"};s.push(G),m=nE()}c%2===0?s.push(m):s.shift(),s=[],a.push(s)}t.gullet.endGroup(),t.gullet.endGroup();var X=new Array(a[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:a,arraystretch:1,addJot:!0,rowGaps:[null],cols:X,colSeparationType:"CD",hLinesBeforeRow:new Array(a.length+1).fill([])}}Nn({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,n){var{parser:r,funcName:s}=t;return{type:"cdlabel",mode:r.mode,side:s.slice(4),label:n[0]}},htmlBuilder(t,n){var r=n.havingStyle(n.style.sup()),s=Mt.wrapFragment(Wi(t.label,r,n),n);return s.classes.push("cd-label-"+t.side),s.style.bottom=Tn(.8-s.depth),s.height=0,s.depth=0,s},mathmlBuilder(t,n){var r=new pn.MathNode("mrow",[Ns(t.label,n)]);return r=new pn.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new pn.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});Nn({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,n){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:n[0]}},htmlBuilder(t,n){var r=Mt.wrapFragment(Wi(t.fragment,n),n);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,n){return new pn.MathNode("mrow",[Ns(t.fragment,n)])}});Nn({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,n){for(var{parser:r}=t,s=Qr(n[0],"ordgroup"),a=s.body,c="",d=0;d<a.length;d++){var m=Qr(a[d],"textord");c+=m.text}var $=parseInt(c),v;if(isNaN($))throw new gn("\\@char has non-numeric argument "+c);if($<0||$>=1114111)throw new gn("\\@char with invalid code point "+c);return $<=65535?v=String.fromCharCode($):($-=65536,v=String.fromCharCode(($>>10)+55296,($&1023)+56320)),{type:"textord",mode:r.mode,text:v}}});var Qk=(t,n)=>{var r=Jo(t.body,n.withColor(t.color),!1);return Mt.makeFragment(r)},eC=(t,n)=>{var r=Na(t.body,n.withColor(t.color)),s=new pn.MathNode("mstyle",r);return s.setAttribute("mathcolor",t.color),s};Nn({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,n){var{parser:r}=t,s=Qr(n[0],"color-token").color,a=n[1];return{type:"color",mode:r.mode,color:s,body:Io(a)}},htmlBuilder:Qk,mathmlBuilder:eC});Nn({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,n){var{parser:r,breakOnTokenText:s}=t,a=Qr(n[0],"color-token").color;r.gullet.macros.set("\\current@color",a);var c=r.parseExpression(!0,s);return{type:"color",mode:r.mode,color:a,body:c}},htmlBuilder:Qk,mathmlBuilder:eC});Nn({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,n,r){var{parser:s}=t,a=s.gullet.future().text==="["?s.parseSizeGroup(!0):null,c=!s.settings.displayMode||!s.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:s.mode,newLine:c,size:a&&Qr(a,"size").value}},htmlBuilder(t,n){var r=Mt.makeSpan(["mspace"],[],n);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=Tn(fo(t.size,n)))),r},mathmlBuilder(t,n){var r=new pn.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",Tn(fo(t.size,n)))),r}});var Kg={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},tC=t=>{var n=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(n))throw new gn("Expected a control sequence",t);return n},oq=t=>{var n=t.gullet.popToken();return n.text==="="&&(n=t.gullet.popToken(),n.text===" "&&(n=t.gullet.popToken())),n},nC=(t,n,r,s)=>{var a=t.gullet.macros.get(r.text);a==null&&(r.noexpand=!0,a={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(n,a,s)};Nn({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:n,funcName:r}=t;n.consumeSpaces();var s=n.fetch();if(Kg[s.text])return(r==="\\global"||r==="\\\\globallong")&&(s.text=Kg[s.text]),Qr(n.parseFunction(),"internal");throw new gn("Invalid token after macro prefix",s)}});Nn({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:n,funcName:r}=t,s=n.gullet.popToken(),a=s.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(a))throw new gn("Expected a control sequence",s);for(var c=0,d,m=[[]];n.gullet.future().text!=="{";)if(s=n.gullet.popToken(),s.text==="#"){if(n.gullet.future().text==="{"){d=n.gullet.future(),m[c].push("{");break}if(s=n.gullet.popToken(),!/^[1-9]$/.test(s.text))throw new gn('Invalid argument number "'+s.text+'"');if(parseInt(s.text)!==c+1)throw new gn('Argument number "'+s.text+'" out of order');c++,m.push([])}else{if(s.text==="EOF")throw new gn("Expected a macro definition");m[c].push(s.text)}var{tokens:$}=n.gullet.consumeArg();return d&&$.unshift(d),(r==="\\edef"||r==="\\xdef")&&($=n.gullet.expandTokens($),$.reverse()),n.gullet.macros.set(a,{tokens:$,numArgs:c,delimiters:m},r===Kg[r]),{type:"internal",mode:n.mode}}});Nn({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:n,funcName:r}=t,s=tC(n.gullet.popToken());n.gullet.consumeSpaces();var a=oq(n);return nC(n,s,a,r==="\\\\globallet"),{type:"internal",mode:n.mode}}});Nn({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:n,funcName:r}=t,s=tC(n.gullet.popToken()),a=n.gullet.popToken(),c=n.gullet.popToken();return nC(n,s,c,r==="\\\\globalfuture"),n.gullet.pushToken(c),n.gullet.pushToken(a),{type:"internal",mode:n.mode}}});var om=function(n,r,s){var a=Us.math[n]&&Us.math[n].replace,c=k$(a||n,r,s);if(!c)throw new Error("Unsupported symbol "+n+" and font size "+r+".");return c},R$=function(n,r,s,a){var c=s.havingBaseStyle(r),d=Mt.makeSpan(a.concat(c.sizingClasses(s)),[n],s),m=c.sizeMultiplier/s.sizeMultiplier;return d.height*=m,d.depth*=m,d.maxFontSize=c.sizeMultiplier,d},rC=function(n,r,s){var a=r.havingBaseStyle(s),c=(1-r.sizeMultiplier/a.sizeMultiplier)*r.fontMetrics().axisHeight;n.classes.push("delimcenter"),n.style.top=Tn(c),n.height-=c,n.depth+=c},lq=function(n,r,s,a,c,d){var m=Mt.makeSymbol(n,"Main-Regular",c,a),$=R$(m,r,a,d);return s&&rC($,a,r),$},aq=function(n,r,s,a){return Mt.makeSymbol(n,"Size"+r+"-Regular",s,a)},iC=function(n,r,s,a,c,d){var m=aq(n,r,c,a),$=R$(Mt.makeSpan(["delimsizing","size"+r],[m],a),br.TEXT,a,d);return s&&rC($,a,br.TEXT),$},Z8=function(n,r,s){var a;r==="Size1-Regular"?a="delim-size1":a="delim-size4";var c=Mt.makeSpan(["delimsizinginner",a],[Mt.makeSpan([],[Mt.makeSymbol(n,r,s)])]);return{type:"elem",elem:c}},Q8=function(n,r,s){var a=_c["Size4-Regular"][n.charCodeAt(0)]?_c["Size4-Regular"][n.charCodeAt(0)][4]:_c["Size1-Regular"][n.charCodeAt(0)][4],c=new ed("inner",fG(n,Math.round(1e3*r))),d=new Lh([c],{width:Tn(a),height:Tn(r),style:"width:"+Tn(a),viewBox:"0 0 "+1e3*a+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),m=Mt.makeSvgSpan([],[d],s);return m.height=r,m.style.height=Tn(r),m.style.width=Tn(a),{type:"elem",elem:m}},Jg=.008,j3={type:"kern",size:-1*Jg},uq=["|","\\lvert","\\rvert","\\vert"],cq=["\\|","\\lVert","\\rVert","\\Vert"],sC=function(n,r,s,a,c,d){var m,$,v,_,T="",S=0;m=v=_=n,$=null;var k="Size1-Regular";n==="\\uparrow"?v=_="":n==="\\Uparrow"?v=_="":n==="\\downarrow"?m=v="":n==="\\Downarrow"?m=v="":n==="\\updownarrow"?(m="\\uparrow",v="",_="\\downarrow"):n==="\\Updownarrow"?(m="\\Uparrow",v="",_="\\Downarrow"):uq.includes(n)?(v="",T="vert",S=333):cq.includes(n)?(v="",T="doublevert",S=556):n==="["||n==="\\lbrack"?(m="",v="",_="",k="Size4-Regular",T="lbrack",S=667):n==="]"||n==="\\rbrack"?(m="",v="",_="",k="Size4-Regular",T="rbrack",S=667):n==="\\lfloor"||n===""?(v=m="",_="",k="Size4-Regular",T="lfloor",S=667):n==="\\lceil"||n===""?(m="",v=_="",k="Size4-Regular",T="lceil",S=667):n==="\\rfloor"||n===""?(v=m="",_="",k="Size4-Regular",T="rfloor",S=667):n==="\\rceil"||n===""?(m="",v=_="",k="Size4-Regular",T="rceil",S=667):n==="("||n==="\\lparen"?(m="",v="",_="",k="Size4-Regular",T="lparen",S=875):n===")"||n==="\\rparen"?(m="",v="",_="",k="Size4-Regular",T="rparen",S=875):n==="\\{"||n==="\\lbrace"?(m="",$="",_="",v="",k="Size4-Regular"):n==="\\}"||n==="\\rbrace"?(m="",$="",_="",v="",k="Size4-Regular"):n==="\\lgroup"||n===""?(m="",_="",v="",k="Size4-Regular"):n==="\\rgroup"||n===""?(m="",_="",v="",k="Size4-Regular"):n==="\\lmoustache"||n===""?(m="",_="",v="",k="Size4-Regular"):(n==="\\rmoustache"||n==="")&&(m="",_="",v="",k="Size4-Regular");var P=om(m,k,c),G=P.height+P.depth,X=om(v,k,c),R=X.height+X.depth,W=om(_,k,c),te=W.height+W.depth,ie=0,se=1;if($!==null){var Y=om($,k,c);ie=Y.height+Y.depth,se=2}var fe=G+te+ie,Ie=Math.max(0,Math.ceil((r-fe)/(se*R))),De=fe+Ie*se*R,Ue=a.fontMetrics().axisHeight;s&&(Ue*=a.sizeMultiplier);var it=De/2-Ue,ze=[];if(T.length>0){var dt=De-G-te,Oe=Math.round(De*1e3),rt=pG(T,Math.round(dt*1e3)),Pe=new ed(T,rt),nt=(S/1e3).toFixed(3)+"em",ot=(Oe/1e3).toFixed(3)+"em",Lt=new Lh([Pe],{width:nt,height:ot,viewBox:"0 0 "+S+" "+Oe}),de=Mt.makeSvgSpan([],[Lt],a);de.height=Oe/1e3,de.style.width=nt,de.style.height=ot,ze.push({type:"elem",elem:de})}else{if(ze.push(Z8(_,k,c)),ze.push(j3),$===null){var Fe=De-G-te+2*Jg;ze.push(Q8(v,Fe,a))}else{var et=(De-G-te-ie)/2+2*Jg;ze.push(Q8(v,et,a)),ze.push(j3),ze.push(Z8($,k,c)),ze.push(j3),ze.push(Q8(v,et,a))}ze.push(j3),ze.push(Z8(m,k,c))}var _e=a.havingBaseStyle(br.TEXT),Ct=Mt.makeVList({positionType:"bottom",positionData:it,children:ze},_e);return R$(Mt.makeSpan(["delimsizing","mult"],[Ct],_e),br.TEXT,a,d)},eg=80,tg=.08,ng=function(n,r,s,a,c){var d=dG(n,a,s),m=new ed(n,d),$=new Lh([m],{width:"400em",height:Tn(r),viewBox:"0 0 400000 "+s,preserveAspectRatio:"xMinYMin slice"});return Mt.makeSvgSpan(["hide-tail"],[$],c)},hq=function(n,r){var s=r.havingBaseSizing(),a=uC("\\surd",n*s.sizeMultiplier,aC,s),c=s.sizeMultiplier,d=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),m,$=0,v=0,_=0,T;return a.type==="small"?(_=1e3+1e3*d+eg,n<1?c=1:n<1.4&&(c=.7),$=(1+d+tg)/c,v=(1+d)/c,m=ng("sqrtMain",$,_,d,r),m.style.minWidth="0.853em",T=.833/c):a.type==="large"?(_=(1e3+eg)*hm[a.size],v=(hm[a.size]+d)/c,$=(hm[a.size]+d+tg)/c,m=ng("sqrtSize"+a.size,$,_,d,r),m.style.minWidth="1.02em",T=1/c):($=n+d+tg,v=n+d,_=Math.floor(1e3*n+d)+eg,m=ng("sqrtTall",$,_,d,r),m.style.minWidth="0.742em",T=1.056),m.height=v,m.style.height=Tn($),{span:m,advanceWidth:T,ruleWidth:(r.fontMetrics().sqrtRuleThickness+d)*c}},oC=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],dq=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],lC=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],hm=[0,1.2,1.8,2.4,3],fq=function(n,r,s,a,c){if(n==="<"||n==="\\lt"||n===""?n="\\langle":(n===">"||n==="\\gt"||n==="")&&(n="\\rangle"),oC.includes(n)||lC.includes(n))return iC(n,r,!1,s,a,c);if(dq.includes(n))return sC(n,hm[r],!1,s,a,c);throw new gn("Illegal delimiter: '"+n+"'")},pq=[{type:"small",style:br.SCRIPTSCRIPT},{type:"small",style:br.SCRIPT},{type:"small",style:br.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],mq=[{type:"small",style:br.SCRIPTSCRIPT},{type:"small",style:br.SCRIPT},{type:"small",style:br.TEXT},{type:"stack"}],aC=[{type:"small",style:br.SCRIPTSCRIPT},{type:"small",style:br.SCRIPT},{type:"small",style:br.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],gq=function(n){if(n.type==="small")return"Main-Regular";if(n.type==="large")return"Size"+n.size+"-Regular";if(n.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+n.type+"' here.")},uC=function(n,r,s,a){for(var c=Math.min(2,3-a.style.size),d=c;d<s.length&&s[d].type!=="stack";d++){var m=om(n,gq(s[d]),"math"),$=m.height+m.depth;if(s[d].type==="small"){var v=a.havingBaseStyle(s[d].style);$*=v.sizeMultiplier}if($>r)return s[d]}return s[s.length-1]},cC=function(n,r,s,a,c,d){n==="<"||n==="\\lt"||n===""?n="\\langle":(n===">"||n==="\\gt"||n==="")&&(n="\\rangle");var m;lC.includes(n)?m=pq:oC.includes(n)?m=aC:m=mq;var $=uC(n,r,m,a);return $.type==="small"?lq(n,$.style,s,a,c,d):$.type==="large"?iC(n,$.size,s,a,c,d):sC(n,r,s,a,c,d)},$q=function(n,r,s,a,c,d){var m=a.fontMetrics().axisHeight*a.sizeMultiplier,$=901,v=5/a.fontMetrics().ptPerEm,_=Math.max(r-m,s+m),T=Math.max(_/500*$,2*_-v);return cC(n,T,!0,a,c,d)},Ih={sqrtImage:hq,sizedDelim:fq,sizeToMaxHeight:hm,customSizedDelim:cC,leftRightDelim:$q},iE={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},vq=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function D6(t,n){var r=R6(t);if(r&&vq.includes(r.text))return r;throw r?new gn("Invalid delimiter '"+r.text+"' after '"+n.funcName+"'",t):new gn("Invalid delimiter type '"+t.type+"'",t)}Nn({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,n)=>{var r=D6(n[0],t);return{type:"delimsizing",mode:t.parser.mode,size:iE[t.funcName].size,mclass:iE[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,n)=>t.delim==="."?Mt.makeSpan([t.mclass]):Ih.sizedDelim(t.delim,t.size,n,t.mode,[t.mclass]),mathmlBuilder:t=>{var n=[];t.delim!=="."&&n.push(X0(t.delim,t.mode));var r=new pn.MathNode("mo",n);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var s=Tn(Ih.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",s),r.setAttribute("maxsize",s),r}});function sE(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Nn({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,n)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new gn("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:D6(n[0],t).text,color:r}}});Nn({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,n)=>{var r=D6(n[0],t),s=t.parser;++s.leftrightDepth;var a=s.parseExpression(!1);--s.leftrightDepth,s.expect("\\right",!1);var c=Qr(s.parseFunction(),"leftright-right");return{type:"leftright",mode:s.mode,body:a,left:r.text,right:c.delim,rightColor:c.color}},htmlBuilder:(t,n)=>{sE(t);for(var r=Jo(t.body,n,!0,["mopen","mclose"]),s=0,a=0,c=!1,d=0;d<r.length;d++)r[d].isMiddle?c=!0:(s=Math.max(r[d].height,s),a=Math.max(r[d].depth,a));s*=n.sizeMultiplier,a*=n.sizeMultiplier;var m;if(t.left==="."?m=Tm(n,["mopen"]):m=Ih.leftRightDelim(t.left,s,a,n,t.mode,["mopen"]),r.unshift(m),c)for(var $=1;$<r.length;$++){var v=r[$],_=v.isMiddle;_&&(r[$]=Ih.leftRightDelim(_.delim,s,a,_.options,t.mode,[]))}var T;if(t.right===".")T=Tm(n,["mclose"]);else{var S=t.rightColor?n.withColor(t.rightColor):n;T=Ih.leftRightDelim(t.right,s,a,S,t.mode,["mclose"])}return r.push(T),Mt.makeSpan(["minner"],r,n)},mathmlBuilder:(t,n)=>{sE(t);var r=Na(t.body,n);if(t.left!=="."){var s=new pn.MathNode("mo",[X0(t.left,t.mode)]);s.setAttribute("fence","true"),r.unshift(s)}if(t.right!=="."){var a=new pn.MathNode("mo",[X0(t.right,t.mode)]);a.setAttribute("fence","true"),t.rightColor&&a.setAttribute("mathcolor",t.rightColor),r.push(a)}return I$(r)}});Nn({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,n)=>{var r=D6(n[0],t);if(!t.parser.leftrightDepth)throw new gn("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,n)=>{var r;if(t.delim===".")r=Tm(n,[]);else{r=Ih.sizedDelim(t.delim,1,n,t.mode,[]);var s={delim:t.delim,options:n};r.isMiddle=s}return r},mathmlBuilder:(t,n)=>{var r=t.delim==="\\vert"||t.delim==="|"?X0("|","text"):X0(t.delim,t.mode),s=new pn.MathNode("mo",[r]);return s.setAttribute("fence","true"),s.setAttribute("lspace","0.05em"),s.setAttribute("rspace","0.05em"),s}});var L$=(t,n)=>{var r=Mt.wrapFragment(Wi(t.body,n),n),s=t.label.slice(1),a=n.sizeMultiplier,c,d=0,m=Qi.isCharacterBox(t.body);if(s==="sout")c=Mt.makeSpan(["stretchy","sout"]),c.height=n.fontMetrics().defaultRuleThickness/a,d=-.5*n.fontMetrics().xHeight;else if(s==="phase"){var $=fo({number:.6,unit:"pt"},n),v=fo({number:.35,unit:"ex"},n),_=n.havingBaseSizing();a=a/_.sizeMultiplier;var T=r.height+r.depth+$+v;r.style.paddingLeft=Tn(T/2+$);var S=Math.floor(1e3*T*a),k=cG(S),P=new Lh([new ed("phase",k)],{width:"400em",height:Tn(S/1e3),viewBox:"0 0 400000 "+S,preserveAspectRatio:"xMinYMin slice"});c=Mt.makeSvgSpan(["hide-tail"],[P],n),c.style.height=Tn(T),d=r.depth+$+v}else{/cancel/.test(s)?m||r.classes.push("cancel-pad"):s==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var G=0,X=0,R=0;/box/.test(s)?(R=Math.max(n.fontMetrics().fboxrule,n.minRuleThickness),G=n.fontMetrics().fboxsep+(s==="colorbox"?0:R),X=G):s==="angl"?(R=Math.max(n.fontMetrics().defaultRuleThickness,n.minRuleThickness),G=4*R,X=Math.max(0,.25-r.depth)):(G=m?.2:0,X=G),c=Bh.encloseSpan(r,s,G,X,n),/fbox|boxed|fcolorbox/.test(s)?(c.style.borderStyle="solid",c.style.borderWidth=Tn(R)):s==="angl"&&R!==.049&&(c.style.borderTopWidth=Tn(R),c.style.borderRightWidth=Tn(R)),d=r.depth+X,t.backgroundColor&&(c.style.backgroundColor=t.backgroundColor,t.borderColor&&(c.style.borderColor=t.borderColor))}var W;if(t.backgroundColor)W=Mt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:d},{type:"elem",elem:r,shift:0}]},n);else{var te=/cancel|phase/.test(s)?["svg-align"]:[];W=Mt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:c,shift:d,wrapperClasses:te}]},n)}return/cancel/.test(s)&&(W.height=r.height,W.depth=r.depth),/cancel/.test(s)&&!m?Mt.makeSpan(["mord","cancel-lap"],[W],n):Mt.makeSpan(["mord"],[W],n)},D$=(t,n)=>{var r=0,s=new pn.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ns(t.body,n)]);switch(t.label){case"\\cancel":s.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":s.setAttribute("notation","downdiagonalstrike");break;case"\\phase":s.setAttribute("notation","phasorangle");break;case"\\sout":s.setAttribute("notation","horizontalstrike");break;case"\\fbox":s.setAttribute("notation","box");break;case"\\angl":s.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=n.fontMetrics().fboxsep*n.fontMetrics().ptPerEm,s.setAttribute("width","+"+2*r+"pt"),s.setAttribute("height","+"+2*r+"pt"),s.setAttribute("lspace",r+"pt"),s.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var a=Math.max(n.fontMetrics().fboxrule,n.minRuleThickness);s.setAttribute("style","border: "+a+"em solid "+String(t.borderColor))}break;case"\\xcancel":s.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&s.setAttribute("mathbackground",t.backgroundColor),s};Nn({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,n,r){var{parser:s,funcName:a}=t,c=Qr(n[0],"color-token").color,d=n[1];return{type:"enclose",mode:s.mode,label:a,backgroundColor:c,body:d}},htmlBuilder:L$,mathmlBuilder:D$});Nn({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,n,r){var{parser:s,funcName:a}=t,c=Qr(n[0],"color-token").color,d=Qr(n[1],"color-token").color,m=n[2];return{type:"enclose",mode:s.mode,label:a,backgroundColor:d,borderColor:c,body:m}},htmlBuilder:L$,mathmlBuilder:D$});Nn({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,n){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:n[0]}}});Nn({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,n){var{parser:r,funcName:s}=t,a=n[0];return{type:"enclose",mode:r.mode,label:s,body:a}},htmlBuilder:L$,mathmlBuilder:D$});Nn({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,n){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:n[0]}}});var hC={};function kc(t){for(var{type:n,names:r,props:s,handler:a,htmlBuilder:c,mathmlBuilder:d}=t,m={type:n,numArgs:s.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:a},$=0;$<r.length;++$)hC[r[$]]=m;c&&(V5[n]=c),d&&(G5[n]=d)}var dC={};function Ae(t,n){dC[t]=n}function oE(t){var n=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),n.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return n}var B6=t=>{var n=t.parser.settings;if(!n.displayMode)throw new gn("{"+t.envName+"} can be used only in display mode.")};function B$(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function od(t,n,r){var{hskipBeforeAndAfter:s,addJot:a,cols:c,arraystretch:d,colSeparationType:m,autoTag:$,singleRow:v,emptySingleRow:_,maxNumCols:T,leqno:S}=n;if(t.gullet.beginGroup(),v||t.gullet.macros.set("\\cr","\\\\\\relax"),!d){var k=t.gullet.expandMacroAsText("\\arraystretch");if(k==null)d=1;else if(d=parseFloat(k),!d||d<0)throw new gn("Invalid \\arraystretch: "+k)}t.gullet.beginGroup();var P=[],G=[P],X=[],R=[],W=$!=null?[]:void 0;function te(){$&&t.gullet.macros.set("\\@eqnsw","1",!0)}function ie(){W&&(t.gullet.macros.get("\\df@tag")?(W.push(t.subparse([new o0("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):W.push(!!$&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(te(),R.push(oE(t));;){var se=t.parseExpression(!1,v?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),se={type:"ordgroup",mode:t.mode,body:se},r&&(se={type:"styling",mode:t.mode,style:r,body:[se]}),P.push(se);var Y=t.fetch().text;if(Y==="&"){if(T&&P.length===T){if(v||m)throw new gn("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(Y==="\\end"){ie(),P.length===1&&se.type==="styling"&&se.body[0].body.length===0&&(G.length>1||!_)&&G.pop(),R.length<G.length+1&&R.push([]);break}else if(Y==="\\\\"){t.consume();var fe=void 0;t.gullet.future().text!==" "&&(fe=t.parseSizeGroup(!0)),X.push(fe?fe.value:null),ie(),R.push(oE(t)),P=[],G.push(P),te()}else throw new gn("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:a,arraystretch:d,body:G,cols:c,rowGaps:X,hskipBeforeAndAfter:s,hLinesBeforeRow:R,colSeparationType:m,tags:W,leqno:S}}function P$(t){return t.slice(0,1)==="d"?"display":"text"}var Cc=function(n,r){var s,a,c=n.body.length,d=n.hLinesBeforeRow,m=0,$=new Array(c),v=[],_=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),T=1/r.fontMetrics().ptPerEm,S=5*T;if(n.colSeparationType&&n.colSeparationType==="small"){var k=r.havingStyle(br.SCRIPT).sizeMultiplier;S=.2778*(k/r.sizeMultiplier)}var P=n.colSeparationType==="CD"?fo({number:3,unit:"ex"},r):12*T,G=3*T,X=n.arraystretch*P,R=.7*X,W=.3*X,te=0;function ie(ri){for(var Ai=0;Ai<ri.length;++Ai)Ai>0&&(te+=.25),v.push({pos:te,isDashed:ri[Ai]})}for(ie(d[0]),s=0;s<n.body.length;++s){var se=n.body[s],Y=R,fe=W;m<se.length&&(m=se.length);var Ie=new Array(se.length);for(a=0;a<se.length;++a){var De=Wi(se[a],r);fe<De.depth&&(fe=De.depth),Y<De.height&&(Y=De.height),Ie[a]=De}var Ue=n.rowGaps[s],it=0;Ue&&(it=fo(Ue,r),it>0&&(it+=W,fe<it&&(fe=it),it=0)),n.addJot&&(fe+=G),Ie.height=Y,Ie.depth=fe,te+=Y,Ie.pos=te,te+=fe+it,$[s]=Ie,ie(d[s+1])}var ze=te/2+r.fontMetrics().axisHeight,dt=n.cols||[],Oe=[],rt,Pe,nt=[];if(n.tags&&n.tags.some(ri=>ri))for(s=0;s<c;++s){var ot=$[s],Lt=ot.pos-ze,de=n.tags[s],Fe=void 0;de===!0?Fe=Mt.makeSpan(["eqn-num"],[],r):de===!1?Fe=Mt.makeSpan([],[],r):Fe=Mt.makeSpan([],Jo(de,r,!0),r),Fe.depth=ot.depth,Fe.height=ot.height,nt.push({type:"elem",elem:Fe,shift:Lt})}for(a=0,Pe=0;a<m||Pe<dt.length;++a,++Pe){for(var et=dt[Pe]||{},_e=!0;et.type==="separator";){if(_e||(rt=Mt.makeSpan(["arraycolsep"],[]),rt.style.width=Tn(r.fontMetrics().doubleRuleSep),Oe.push(rt)),et.separator==="|"||et.separator===":"){var Ct=et.separator==="|"?"solid":"dashed",$t=Mt.makeSpan(["vertical-separator"],[],r);$t.style.height=Tn(te),$t.style.borderRightWidth=Tn(_),$t.style.borderRightStyle=Ct,$t.style.margin="0 "+Tn(-_/2);var qt=te-ze;qt&&($t.style.verticalAlign=Tn(-qt)),Oe.push($t)}else throw new gn("Invalid separator type: "+et.separator);Pe++,et=dt[Pe]||{},_e=!1}if(!(a>=m)){var ln=void 0;(a>0||n.hskipBeforeAndAfter)&&(ln=Qi.deflt(et.pregap,S),ln!==0&&(rt=Mt.makeSpan(["arraycolsep"],[]),rt.style.width=Tn(ln),Oe.push(rt)));var En=[];for(s=0;s<c;++s){var St=$[s],Ut=St[a];if(Ut){var fn=St.pos-ze;Ut.depth=St.depth,Ut.height=St.height,En.push({type:"elem",elem:Ut,shift:fn})}}En=Mt.makeVList({positionType:"individualShift",children:En},r),En=Mt.makeSpan(["col-align-"+(et.align||"c")],[En]),Oe.push(En),(a<m-1||n.hskipBeforeAndAfter)&&(ln=Qi.deflt(et.postgap,S),ln!==0&&(rt=Mt.makeSpan(["arraycolsep"],[]),rt.style.width=Tn(ln),Oe.push(rt)))}}if($=Mt.makeSpan(["mtable"],Oe),v.length>0){for(var Ge=Mt.makeLineSpan("hline",r,_),Qt=Mt.makeLineSpan("hdashline",r,_),Pn=[{type:"elem",elem:$,shift:0}];v.length>0;){var Cn=v.pop(),Jn=Cn.pos-ze;Cn.isDashed?Pn.push({type:"elem",elem:Qt,shift:Jn}):Pn.push({type:"elem",elem:Ge,shift:Jn})}$=Mt.makeVList({positionType:"individualShift",children:Pn},r)}if(nt.length===0)return Mt.makeSpan(["mord"],[$],r);var cn=Mt.makeVList({positionType:"individualShift",children:nt},r);return cn=Mt.makeSpan(["tag"],[cn],r),Mt.makeFragment([$,cn])},bq={c:"center ",l:"left ",r:"right "},Ac=function(n,r){for(var s=[],a=new pn.MathNode("mtd",[],["mtr-glue"]),c=new pn.MathNode("mtd",[],["mml-eqn-num"]),d=0;d<n.body.length;d++){for(var m=n.body[d],$=[],v=0;v<m.length;v++)$.push(new pn.MathNode("mtd",[Ns(m[v],r)]));n.tags&&n.tags[d]&&($.unshift(a),$.push(a),n.leqno?$.unshift(c):$.push(c)),s.push(new pn.MathNode("mtr",$))}var _=new pn.MathNode("mtable",s),T=n.arraystretch===.5?.1:.16+n.arraystretch-1+(n.addJot?.09:0);_.setAttribute("rowspacing",Tn(T));var S="",k="";if(n.cols&&n.cols.length>0){var P=n.cols,G="",X=!1,R=0,W=P.length;P[0].type==="separator"&&(S+="top ",R=1),P[P.length-1].type==="separator"&&(S+="bottom ",W-=1);for(var te=R;te<W;te++)P[te].type==="align"?(k+=bq[P[te].align],X&&(G+="none "),X=!0):P[te].type==="separator"&&X&&(G+=P[te].separator==="|"?"solid ":"dashed ",X=!1);_.setAttribute("columnalign",k.trim()),/[sd]/.test(G)&&_.setAttribute("columnlines",G.trim())}if(n.colSeparationType==="align"){for(var ie=n.cols||[],se="",Y=1;Y<ie.length;Y++)se+=Y%2?"0em ":"1em ";_.setAttribute("columnspacing",se.trim())}else n.colSeparationType==="alignat"||n.colSeparationType==="gather"?_.setAttribute("columnspacing","0em"):n.colSeparationType==="small"?_.setAttribute("columnspacing","0.2778em"):n.colSeparationType==="CD"?_.setAttribute("columnspacing","0.5em"):_.setAttribute("columnspacing","1em");var fe="",Ie=n.hLinesBeforeRow;S+=Ie[0].length>0?"left ":"",S+=Ie[Ie.length-1].length>0?"right ":"";for(var De=1;De<Ie.length-1;De++)fe+=Ie[De].length===0?"none ":Ie[De][0]?"dashed ":"solid ";return/[sd]/.test(fe)&&_.setAttribute("rowlines",fe.trim()),S!==""&&(_=new pn.MathNode("menclose",[_]),_.setAttribute("notation",S.trim())),n.arraystretch&&n.arraystretch<1&&(_=new pn.MathNode("mstyle",[_]),_.setAttribute("scriptlevel","1")),_},fC=function(n,r){n.envName.indexOf("ed")===-1&&B6(n);var s=[],a=n.envName.indexOf("at")>-1?"alignat":"align",c=n.envName==="split",d=od(n.parser,{cols:s,addJot:!0,autoTag:c?void 0:B$(n.envName),emptySingleRow:!0,colSeparationType:a,maxNumCols:c?2:void 0,leqno:n.parser.settings.leqno},"display"),m,$=0,v={type:"ordgroup",mode:n.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var _="",T=0;T<r[0].body.length;T++){var S=Qr(r[0].body[T],"textord");_+=S.text}m=Number(_),$=m*2}var k=!$;d.body.forEach(function(R){for(var W=1;W<R.length;W+=2){var te=Qr(R[W],"styling"),ie=Qr(te.body[0],"ordgroup");ie.body.unshift(v)}if(k)$<R.length&&($=R.length);else{var se=R.length/2;if(m<se)throw new gn("Too many math in a row: "+("expected "+m+", but got "+se),R[0])}});for(var P=0;P<$;++P){var G="r",X=0;P%2===1?G="l":P>0&&k&&(X=1),s[P]={type:"align",align:G,pregap:X,postgap:0}}return d.colSeparationType=k?"align":"alignat",d};kc({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,n){var r=R6(n[0]),s=r?[n[0]]:Qr(n[0],"ordgroup").body,a=s.map(function(d){var m=N$(d),$=m.text;if("lcr".indexOf($)!==-1)return{type:"align",align:$};if($==="|")return{type:"separator",separator:"|"};if($===":")return{type:"separator",separator:":"};throw new gn("Unknown column alignment: "+$,d)}),c={cols:a,hskipBeforeAndAfter:!0,maxNumCols:a.length};return od(t.parser,c,P$(t.envName))},htmlBuilder:Cc,mathmlBuilder:Ac});kc({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var n={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",s={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var a=t.parser;if(a.consumeSpaces(),a.fetch().text==="["){if(a.consume(),a.consumeSpaces(),r=a.fetch().text,"lcr".indexOf(r)===-1)throw new gn("Expected l or c or r",a.nextToken);a.consume(),a.consumeSpaces(),a.expect("]"),a.consume(),s.cols=[{type:"align",align:r}]}}var c=od(t.parser,s,P$(t.envName)),d=Math.max(0,...c.body.map(m=>m.length));return c.cols=new Array(d).fill({type:"align",align:r}),n?{type:"leftright",mode:t.mode,body:[c],left:n[0],right:n[1],rightColor:void 0}:c},htmlBuilder:Cc,mathmlBuilder:Ac});kc({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var n={arraystretch:.5},r=od(t.parser,n,"script");return r.colSeparationType="small",r},htmlBuilder:Cc,mathmlBuilder:Ac});kc({type:"array",names:["subarray"],props:{numArgs:1},handler(t,n){var r=R6(n[0]),s=r?[n[0]]:Qr(n[0],"ordgroup").body,a=s.map(function(d){var m=N$(d),$=m.text;if("lc".indexOf($)!==-1)return{type:"align",align:$};throw new gn("Unknown column alignment: "+$,d)});if(a.length>1)throw new gn("{subarray} can contain only one column");var c={cols:a,hskipBeforeAndAfter:!1,arraystretch:.5};if(c=od(t.parser,c,"script"),c.body.length>0&&c.body[0].length>1)throw new gn("{subarray} can contain only one column");return c},htmlBuilder:Cc,mathmlBuilder:Ac});kc({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var n={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=od(t.parser,n,P$(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Cc,mathmlBuilder:Ac});kc({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:fC,htmlBuilder:Cc,mathmlBuilder:Ac});kc({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&B6(t);var n={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:B$(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return od(t.parser,n,"display")},htmlBuilder:Cc,mathmlBuilder:Ac});kc({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:fC,htmlBuilder:Cc,mathmlBuilder:Ac});kc({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){B6(t);var n={autoTag:B$(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return od(t.parser,n,"display")},htmlBuilder:Cc,mathmlBuilder:Ac});kc({type:"array",names:["CD"],props:{numArgs:0},handler(t){return B6(t),sq(t.parser)},htmlBuilder:Cc,mathmlBuilder:Ac});Ae("\\nonumber","\\gdef\\@eqnsw{0}");Ae("\\notag","\\nonumber");Nn({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,n){throw new gn(t.funcName+" valid only within array environment")}});var lE=hC;Nn({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,n){var{parser:r,funcName:s}=t,a=n[0];if(a.type!=="ordgroup")throw new gn("Invalid environment name",a);for(var c="",d=0;d<a.body.length;++d)c+=Qr(a.body[d],"textord").text;if(s==="\\begin"){if(!lE.hasOwnProperty(c))throw new gn("No such environment: "+c,a);var m=lE[c],{args:$,optArgs:v}=r.parseArguments("\\begin{"+c+"}",m),_={mode:r.mode,envName:c,parser:r},T=m.handler(_,$,v);r.expect("\\end",!1);var S=r.nextToken,k=Qr(r.parseFunction(),"environment");if(k.name!==c)throw new gn("Mismatch: \\begin{"+c+"} matched by \\end{"+k.name+"}",S);return T}return{type:"environment",mode:r.mode,name:c,nameGroup:a}}});var pC=(t,n)=>{var r=t.font,s=n.withFont(r);return Wi(t.body,s)},mC=(t,n)=>{var r=t.font,s=n.withFont(r);return Ns(t.body,s)},aE={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Nn({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,n)=>{var{parser:r,funcName:s}=t,a=q5(n[0]),c=s;return c in aE&&(c=aE[c]),{type:"font",mode:r.mode,font:c.slice(1),body:a}},htmlBuilder:pC,mathmlBuilder:mC});Nn({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,n)=>{var{parser:r}=t,s=n[0],a=Qi.isCharacterBox(s);return{type:"mclass",mode:r.mode,mclass:L6(s),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:s}],isCharacterBox:a}}});Nn({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,n)=>{var{parser:r,funcName:s,breakOnTokenText:a}=t,{mode:c}=r,d=r.parseExpression(!0,a),m="math"+s.slice(1);return{type:"font",mode:c,font:m,body:{type:"ordgroup",mode:r.mode,body:d}}},htmlBuilder:pC,mathmlBuilder:mC});var gC=(t,n)=>{var r=n;return t==="display"?r=r.id>=br.SCRIPT.id?r.text():br.DISPLAY:t==="text"&&r.size===br.DISPLAY.size?r=br.TEXT:t==="script"?r=br.SCRIPT:t==="scriptscript"&&(r=br.SCRIPTSCRIPT),r},F$=(t,n)=>{var r=gC(t.size,n.style),s=r.fracNum(),a=r.fracDen(),c;c=n.havingStyle(s);var d=Wi(t.numer,c,n);if(t.continued){var m=8.5/n.fontMetrics().ptPerEm,$=3.5/n.fontMetrics().ptPerEm;d.height=d.height<m?m:d.height,d.depth=d.depth<$?$:d.depth}c=n.havingStyle(a);var v=Wi(t.denom,c,n),_,T,S;t.hasBarLine?(t.barSize?(T=fo(t.barSize,n),_=Mt.makeLineSpan("frac-line",n,T)):_=Mt.makeLineSpan("frac-line",n),T=_.height,S=_.height):(_=null,T=0,S=n.fontMetrics().defaultRuleThickness);var k,P,G;r.size===br.DISPLAY.size||t.size==="display"?(k=n.fontMetrics().num1,T>0?P=3*S:P=7*S,G=n.fontMetrics().denom1):(T>0?(k=n.fontMetrics().num2,P=S):(k=n.fontMetrics().num3,P=3*S),G=n.fontMetrics().denom2);var X;if(_){var W=n.fontMetrics().axisHeight;k-d.depth-(W+.5*T)<P&&(k+=P-(k-d.depth-(W+.5*T))),W-.5*T-(v.height-G)<P&&(G+=P-(W-.5*T-(v.height-G)));var te=-(W-.5*T);X=Mt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:v,shift:G},{type:"elem",elem:_,shift:te},{type:"elem",elem:d,shift:-k}]},n)}else{var R=k-d.depth-(v.height-G);R<P&&(k+=.5*(P-R),G+=.5*(P-R)),X=Mt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:v,shift:G},{type:"elem",elem:d,shift:-k}]},n)}c=n.havingStyle(r),X.height*=c.sizeMultiplier/n.sizeMultiplier,X.depth*=c.sizeMultiplier/n.sizeMultiplier;var ie;r.size===br.DISPLAY.size?ie=n.fontMetrics().delim1:r.size===br.SCRIPTSCRIPT.size?ie=n.havingStyle(br.SCRIPT).fontMetrics().delim2:ie=n.fontMetrics().delim2;var se,Y;return t.leftDelim==null?se=Tm(n,["mopen"]):se=Ih.customSizedDelim(t.leftDelim,ie,!0,n.havingStyle(r),t.mode,["mopen"]),t.continued?Y=Mt.makeSpan([]):t.rightDelim==null?Y=Tm(n,["mclose"]):Y=Ih.customSizedDelim(t.rightDelim,ie,!0,n.havingStyle(r),t.mode,["mclose"]),Mt.makeSpan(["mord"].concat(c.sizingClasses(n)),[se,Mt.makeSpan(["mfrac"],[X]),Y],n)},U$=(t,n)=>{var r=new pn.MathNode("mfrac",[Ns(t.numer,n),Ns(t.denom,n)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var s=fo(t.barSize,n);r.setAttribute("linethickness",Tn(s))}var a=gC(t.size,n.style);if(a.size!==n.style.size){r=new pn.MathNode("mstyle",[r]);var c=a.size===br.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",c),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var d=[];if(t.leftDelim!=null){var m=new pn.MathNode("mo",[new pn.TextNode(t.leftDelim.replace("\\",""))]);m.setAttribute("fence","true"),d.push(m)}if(d.push(r),t.rightDelim!=null){var $=new pn.MathNode("mo",[new pn.TextNode(t.rightDelim.replace("\\",""))]);$.setAttribute("fence","true"),d.push($)}return I$(d)}return r};Nn({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,n)=>{var{parser:r,funcName:s}=t,a=n[0],c=n[1],d,m=null,$=null,v="auto";switch(s){case"\\dfrac":case"\\frac":case"\\tfrac":d=!0;break;case"\\\\atopfrac":d=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":d=!1,m="(",$=")";break;case"\\\\bracefrac":d=!1,m="\\{",$="\\}";break;case"\\\\brackfrac":d=!1,m="[",$="]";break;default:throw new Error("Unrecognized genfrac command")}switch(s){case"\\dfrac":case"\\dbinom":v="display";break;case"\\tfrac":case"\\tbinom":v="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:a,denom:c,hasBarLine:d,leftDelim:m,rightDelim:$,size:v,barSize:null}},htmlBuilder:F$,mathmlBuilder:U$});Nn({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,n)=>{var{parser:r,funcName:s}=t,a=n[0],c=n[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:a,denom:c,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Nn({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:n,funcName:r,token:s}=t,a;switch(r){case"\\over":a="\\frac";break;case"\\choose":a="\\binom";break;case"\\atop":a="\\\\atopfrac";break;case"\\brace":a="\\\\bracefrac";break;case"\\brack":a="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:a,token:s}}});var uE=["display","text","script","scriptscript"],cE=function(n){var r=null;return n.length>0&&(r=n,r=r==="."?null:r),r};Nn({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,n){var{parser:r}=t,s=n[4],a=n[5],c=q5(n[0]),d=c.type==="atom"&&c.family==="open"?cE(c.text):null,m=q5(n[1]),$=m.type==="atom"&&m.family==="close"?cE(m.text):null,v=Qr(n[2],"size"),_,T=null;v.isBlank?_=!0:(T=v.value,_=T.number>0);var S="auto",k=n[3];if(k.type==="ordgroup"){if(k.body.length>0){var P=Qr(k.body[0],"textord");S=uE[Number(P.text)]}}else k=Qr(k,"textord"),S=uE[Number(k.text)];return{type:"genfrac",mode:r.mode,numer:s,denom:a,continued:!1,hasBarLine:_,barSize:T,leftDelim:d,rightDelim:$,size:S}},htmlBuilder:F$,mathmlBuilder:U$});Nn({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,n){var{parser:r,funcName:s,token:a}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:Qr(n[0],"size").value,token:a}}});Nn({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,n)=>{var{parser:r,funcName:s}=t,a=n[0],c=YV(Qr(n[1],"infix").size),d=n[2],m=c.number>0;return{type:"genfrac",mode:r.mode,numer:a,denom:d,continued:!1,hasBarLine:m,barSize:c,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:F$,mathmlBuilder:U$});var $C=(t,n)=>{var r=n.style,s,a;t.type==="supsub"?(s=t.sup?Wi(t.sup,n.havingStyle(r.sup()),n):Wi(t.sub,n.havingStyle(r.sub()),n),a=Qr(t.base,"horizBrace")):a=Qr(t,"horizBrace");var c=Wi(a.base,n.havingBaseStyle(br.DISPLAY)),d=Bh.svgSpan(a,n),m;if(a.isOver?(m=Mt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.1},{type:"elem",elem:d}]},n),m.children[0].children[0].children[1].classes.push("svg-align")):(m=Mt.makeVList({positionType:"bottom",positionData:c.depth+.1+d.height,children:[{type:"elem",elem:d},{type:"kern",size:.1},{type:"elem",elem:c}]},n),m.children[0].children[0].children[0].classes.push("svg-align")),s){var $=Mt.makeSpan(["mord",a.isOver?"mover":"munder"],[m],n);a.isOver?m=Mt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:$},{type:"kern",size:.2},{type:"elem",elem:s}]},n):m=Mt.makeVList({positionType:"bottom",positionData:$.depth+.2+s.height+s.depth,children:[{type:"elem",elem:s},{type:"kern",size:.2},{type:"elem",elem:$}]},n)}return Mt.makeSpan(["mord",a.isOver?"mover":"munder"],[m],n)},yq=(t,n)=>{var r=Bh.mathMLnode(t.label);return new pn.MathNode(t.isOver?"mover":"munder",[Ns(t.base,n),r])};Nn({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,n){var{parser:r,funcName:s}=t;return{type:"horizBrace",mode:r.mode,label:s,isOver:/^\\over/.test(s),base:n[0]}},htmlBuilder:$C,mathmlBuilder:yq});Nn({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,n)=>{var{parser:r}=t,s=n[1],a=Qr(n[0],"url").url;return r.settings.isTrusted({command:"\\href",url:a})?{type:"href",mode:r.mode,href:a,body:Io(s)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,n)=>{var r=Jo(t.body,n,!1);return Mt.makeAnchor(t.href,[],r,n)},mathmlBuilder:(t,n)=>{var r=td(t.body,n);return r instanceof i0||(r=new i0("mrow",[r])),r.setAttribute("href",t.href),r}});Nn({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,n)=>{var{parser:r}=t,s=Qr(n[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:s}))return r.formatUnsupportedCmd("\\url");for(var a=[],c=0;c<s.length;c++){var d=s[c];d==="~"&&(d="\\textasciitilde"),a.push({type:"textord",mode:"text",text:d})}var m={type:"text",mode:r.mode,font:"\\texttt",body:a};return{type:"href",mode:r.mode,href:s,body:Io(m)}}});Nn({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,n){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:Io(n[0])}},htmlBuilder(t,n){var r=Jo(t.body,n,!1);return Mt.makeFragment(r)},mathmlBuilder(t,n){return new pn.MathNode("mrow",Na(t.body,n))}});Nn({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,n)=>{var{parser:r,funcName:s,token:a}=t,c=Qr(n[0],"raw").string,d=n[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var m,$={};switch(s){case"\\htmlClass":$.class=c,m={command:"\\htmlClass",class:c};break;case"\\htmlId":$.id=c,m={command:"\\htmlId",id:c};break;case"\\htmlStyle":$.style=c,m={command:"\\htmlStyle",style:c};break;case"\\htmlData":{for(var v=c.split(","),_=0;_<v.length;_++){var T=v[_].split("=");if(T.length!==2)throw new gn("Error parsing key-value for \\htmlData");$["data-"+T[0].trim()]=T[1].trim()}m={command:"\\htmlData",attributes:$};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(m)?{type:"html",mode:r.mode,attributes:$,body:Io(d)}:r.formatUnsupportedCmd(s)},htmlBuilder:(t,n)=>{var r=Jo(t.body,n,!1),s=["enclosing"];t.attributes.class&&s.push(...t.attributes.class.trim().split(/\s+/));var a=Mt.makeSpan(s,r,n);for(var c in t.attributes)c!=="class"&&t.attributes.hasOwnProperty(c)&&a.setAttribute(c,t.attributes[c]);return a},mathmlBuilder:(t,n)=>td(t.body,n)});Nn({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,n)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:Io(n[0]),mathml:Io(n[1])}},htmlBuilder:(t,n)=>{var r=Jo(t.html,n,!1);return Mt.makeFragment(r)},mathmlBuilder:(t,n)=>td(t.mathml,n)});var rg=function(n){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(n))return{number:+n,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n);if(!r)throw new gn("Invalid size: '"+n+"' in \\includegraphics");var s={number:+(r[1]+r[2]),unit:r[3]};if(!Dk(s))throw new gn("Invalid unit: '"+s.unit+"' in \\includegraphics.");return s};Nn({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,n,r)=>{var{parser:s}=t,a={number:0,unit:"em"},c={number:.9,unit:"em"},d={number:0,unit:"em"},m="";if(r[0])for(var $=Qr(r[0],"raw").string,v=$.split(","),_=0;_<v.length;_++){var T=v[_].split("=");if(T.length===2){var S=T[1].trim();switch(T[0].trim()){case"alt":m=S;break;case"width":a=rg(S);break;case"height":c=rg(S);break;case"totalheight":d=rg(S);break;default:throw new gn("Invalid key: '"+T[0]+"' in \\includegraphics.")}}}var k=Qr(n[0],"url").url;return m===""&&(m=k,m=m.replace(/^.*[\\/]/,""),m=m.substring(0,m.lastIndexOf("."))),s.settings.isTrusted({command:"\\includegraphics",url:k})?{type:"includegraphics",mode:s.mode,alt:m,width:a,height:c,totalheight:d,src:k}:s.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,n)=>{var r=fo(t.height,n),s=0;t.totalheight.number>0&&(s=fo(t.totalheight,n)-r);var a=0;t.width.number>0&&(a=fo(t.width,n));var c={height:Tn(r+s)};a>0&&(c.width=Tn(a)),s>0&&(c.verticalAlign=Tn(-s));var d=new yG(t.src,t.alt,c);return d.height=r,d.depth=s,d},mathmlBuilder:(t,n)=>{var r=new pn.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var s=fo(t.height,n),a=0;if(t.totalheight.number>0&&(a=fo(t.totalheight,n)-s,r.setAttribute("valign",Tn(-a))),r.setAttribute("height",Tn(s+a)),t.width.number>0){var c=fo(t.width,n);r.setAttribute("width",Tn(c))}return r.setAttribute("src",t.src),r}});Nn({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,n){var{parser:r,funcName:s}=t,a=Qr(n[0],"size");if(r.settings.strict){var c=s[1]==="m",d=a.value.unit==="mu";c?(d||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" supports only mu units, "+("not "+a.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" works only in math mode")):d&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:a.value}},htmlBuilder(t,n){return Mt.makeGlue(t.dimension,n)},mathmlBuilder(t,n){var r=fo(t.dimension,n);return new pn.SpaceNode(r)}});Nn({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,n)=>{var{parser:r,funcName:s}=t,a=n[0];return{type:"lap",mode:r.mode,alignment:s.slice(5),body:a}},htmlBuilder:(t,n)=>{var r;t.alignment==="clap"?(r=Mt.makeSpan([],[Wi(t.body,n)]),r=Mt.makeSpan(["inner"],[r],n)):r=Mt.makeSpan(["inner"],[Wi(t.body,n)]);var s=Mt.makeSpan(["fix"],[]),a=Mt.makeSpan([t.alignment],[r,s],n),c=Mt.makeSpan(["strut"]);return c.style.height=Tn(a.height+a.depth),a.depth&&(c.style.verticalAlign=Tn(-a.depth)),a.children.unshift(c),a=Mt.makeSpan(["thinbox"],[a],n),Mt.makeSpan(["mord","vbox"],[a],n)},mathmlBuilder:(t,n)=>{var r=new pn.MathNode("mpadded",[Ns(t.body,n)]);if(t.alignment!=="rlap"){var s=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",s+"width")}return r.setAttribute("width","0px"),r}});Nn({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,n){var{funcName:r,parser:s}=t,a=s.mode;s.switchMode("math");var c=r==="\\("?"\\)":"$",d=s.parseExpression(!1,c);return s.expect(c),s.switchMode(a),{type:"styling",mode:s.mode,style:"text",body:d}}});Nn({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,n){throw new gn("Mismatched "+t.funcName)}});var hE=(t,n)=>{switch(n.style.size){case br.DISPLAY.size:return t.display;case br.TEXT.size:return t.text;case br.SCRIPT.size:return t.script;case br.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Nn({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,n)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:Io(n[0]),text:Io(n[1]),script:Io(n[2]),scriptscript:Io(n[3])}},htmlBuilder:(t,n)=>{var r=hE(t,n),s=Jo(r,n,!1);return Mt.makeFragment(s)},mathmlBuilder:(t,n)=>{var r=hE(t,n);return td(r,n)}});var vC=(t,n,r,s,a,c,d)=>{t=Mt.makeSpan([],[t]);var m=r&&Qi.isCharacterBox(r),$,v;if(n){var _=Wi(n,s.havingStyle(a.sup()),s);v={elem:_,kern:Math.max(s.fontMetrics().bigOpSpacing1,s.fontMetrics().bigOpSpacing3-_.depth)}}if(r){var T=Wi(r,s.havingStyle(a.sub()),s);$={elem:T,kern:Math.max(s.fontMetrics().bigOpSpacing2,s.fontMetrics().bigOpSpacing4-T.height)}}var S;if(v&&$){var k=s.fontMetrics().bigOpSpacing5+$.elem.height+$.elem.depth+$.kern+t.depth+d;S=Mt.makeVList({positionType:"bottom",positionData:k,children:[{type:"kern",size:s.fontMetrics().bigOpSpacing5},{type:"elem",elem:$.elem,marginLeft:Tn(-c)},{type:"kern",size:$.kern},{type:"elem",elem:t},{type:"kern",size:v.kern},{type:"elem",elem:v.elem,marginLeft:Tn(c)},{type:"kern",size:s.fontMetrics().bigOpSpacing5}]},s)}else if($){var P=t.height-d;S=Mt.makeVList({positionType:"top",positionData:P,children:[{type:"kern",size:s.fontMetrics().bigOpSpacing5},{type:"elem",elem:$.elem,marginLeft:Tn(-c)},{type:"kern",size:$.kern},{type:"elem",elem:t}]},s)}else if(v){var G=t.depth+d;S=Mt.makeVList({positionType:"bottom",positionData:G,children:[{type:"elem",elem:t},{type:"kern",size:v.kern},{type:"elem",elem:v.elem,marginLeft:Tn(c)},{type:"kern",size:s.fontMetrics().bigOpSpacing5}]},s)}else return t;var X=[S];if($&&c!==0&&!m){var R=Mt.makeSpan(["mspace"],[],s);R.style.marginRight=Tn(c),X.unshift(R)}return Mt.makeSpan(["mop","op-limits"],X,s)},bC=["\\smallint"],w2=(t,n)=>{var r,s,a=!1,c;t.type==="supsub"?(r=t.sup,s=t.sub,c=Qr(t.base,"op"),a=!0):c=Qr(t,"op");var d=n.style,m=!1;d.size===br.DISPLAY.size&&c.symbol&&!bC.includes(c.name)&&(m=!0);var $;if(c.symbol){var v=m?"Size2-Regular":"Size1-Regular",_="";if((c.name==="\\oiint"||c.name==="\\oiiint")&&(_=c.name.slice(1),c.name=_==="oiint"?"\\iint":"\\iiint"),$=Mt.makeSymbol(c.name,v,"math",n,["mop","op-symbol",m?"large-op":"small-op"]),_.length>0){var T=$.italic,S=Mt.staticSvg(_+"Size"+(m?"2":"1"),n);$=Mt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:$,shift:0},{type:"elem",elem:S,shift:m?.08:0}]},n),c.name="\\"+_,$.classes.unshift("mop"),$.italic=T}}else if(c.body){var k=Jo(c.body,n,!0);k.length===1&&k[0]instanceof j0?($=k[0],$.classes[0]="mop"):$=Mt.makeSpan(["mop"],k,n)}else{for(var P=[],G=1;G<c.name.length;G++)P.push(Mt.mathsym(c.name[G],c.mode,n));$=Mt.makeSpan(["mop"],P,n)}var X=0,R=0;return($ instanceof j0||c.name==="\\oiint"||c.name==="\\oiiint")&&!c.suppressBaseShift&&(X=($.height-$.depth)/2-n.fontMetrics().axisHeight,R=$.italic),a?vC($,r,s,n,d,R,X):(X&&($.style.position="relative",$.style.top=Tn(X)),$)},Um=(t,n)=>{var r;if(t.symbol)r=new i0("mo",[X0(t.name,t.mode)]),bC.includes(t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new i0("mo",Na(t.body,n));else{r=new i0("mi",[new Tc(t.name.slice(1))]);var s=new i0("mo",[X0("","text")]);t.parentIsSupSub?r=new i0("mrow",[r,s]):r=jk([r,s])}return r},_q={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Nn({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,n)=>{var{parser:r,funcName:s}=t,a=s;return a.length===1&&(a=_q[a]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:w2,mathmlBuilder:Um});Nn({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,n)=>{var{parser:r}=t,s=n[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Io(s)}},htmlBuilder:w2,mathmlBuilder:Um});var Tq={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Nn({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:n,funcName:r}=t;return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:w2,mathmlBuilder:Um});Nn({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:n,funcName:r}=t;return{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:w2,mathmlBuilder:Um});Nn({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:n,funcName:r}=t,s=r;return s.length===1&&(s=Tq[s]),{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:s}},htmlBuilder:w2,mathmlBuilder:Um});var yC=(t,n)=>{var r,s,a=!1,c;t.type==="supsub"?(r=t.sup,s=t.sub,c=Qr(t.base,"operatorname"),a=!0):c=Qr(t,"operatorname");var d;if(c.body.length>0){for(var m=c.body.map(T=>{var S=T.text;return typeof S=="string"?{type:"textord",mode:T.mode,text:S}:T}),$=Jo(m,n.withFont("mathrm"),!0),v=0;v<$.length;v++){var _=$[v];_ instanceof j0&&(_.text=_.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}d=Mt.makeSpan(["mop"],$,n)}else d=Mt.makeSpan(["mop"],[],n);return a?vC(d,r,s,n,n.style,0,0):d},Eq=(t,n)=>{for(var r=Na(t.body,n.withFont("mathrm")),s=!0,a=0;a<r.length;a++){var c=r[a];if(!(c instanceof pn.SpaceNode))if(c instanceof pn.MathNode)switch(c.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var d=c.children[0];c.children.length===1&&d instanceof pn.TextNode?d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):s=!1;break}default:s=!1}else s=!1}if(s){var m=r.map(_=>_.toText()).join("");r=[new pn.TextNode(m)]}var $=new pn.MathNode("mi",r);$.setAttribute("mathvariant","normal");var v=new pn.MathNode("mo",[X0("","text")]);return t.parentIsSupSub?new pn.MathNode("mrow",[$,v]):pn.newDocumentFragment([$,v])};Nn({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,n)=>{var{parser:r,funcName:s}=t,a=n[0];return{type:"operatorname",mode:r.mode,body:Io(a),alwaysHandleSupSub:s==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:yC,mathmlBuilder:Eq});Ae("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");$f({type:"ordgroup",htmlBuilder(t,n){return t.semisimple?Mt.makeFragment(Jo(t.body,n,!1)):Mt.makeSpan(["mord"],Jo(t.body,n,!0),n)},mathmlBuilder(t,n){return td(t.body,n,!0)}});Nn({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,n){var{parser:r}=t,s=n[0];return{type:"overline",mode:r.mode,body:s}},htmlBuilder(t,n){var r=Wi(t.body,n.havingCrampedStyle()),s=Mt.makeLineSpan("overline-line",n),a=n.fontMetrics().defaultRuleThickness,c=Mt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*a},{type:"elem",elem:s},{type:"kern",size:a}]},n);return Mt.makeSpan(["mord","overline"],[c],n)},mathmlBuilder(t,n){var r=new pn.MathNode("mo",[new pn.TextNode("")]);r.setAttribute("stretchy","true");var s=new pn.MathNode("mover",[Ns(t.body,n),r]);return s.setAttribute("accent","true"),s}});Nn({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,n)=>{var{parser:r}=t,s=n[0];return{type:"phantom",mode:r.mode,body:Io(s)}},htmlBuilder:(t,n)=>{var r=Jo(t.body,n.withPhantom(),!1);return Mt.makeFragment(r)},mathmlBuilder:(t,n)=>{var r=Na(t.body,n);return new pn.MathNode("mphantom",r)}});Nn({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,n)=>{var{parser:r}=t,s=n[0];return{type:"hphantom",mode:r.mode,body:s}},htmlBuilder:(t,n)=>{var r=Mt.makeSpan([],[Wi(t.body,n.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var s=0;s<r.children.length;s++)r.children[s].height=0,r.children[s].depth=0;return r=Mt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},n),Mt.makeSpan(["mord"],[r],n)},mathmlBuilder:(t,n)=>{var r=Na(Io(t.body),n),s=new pn.MathNode("mphantom",r),a=new pn.MathNode("mpadded",[s]);return a.setAttribute("height","0px"),a.setAttribute("depth","0px"),a}});Nn({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,n)=>{var{parser:r}=t,s=n[0];return{type:"vphantom",mode:r.mode,body:s}},htmlBuilder:(t,n)=>{var r=Mt.makeSpan(["inner"],[Wi(t.body,n.withPhantom())]),s=Mt.makeSpan(["fix"],[]);return Mt.makeSpan(["mord","rlap"],[r,s],n)},mathmlBuilder:(t,n)=>{var r=Na(Io(t.body),n),s=new pn.MathNode("mphantom",r),a=new pn.MathNode("mpadded",[s]);return a.setAttribute("width","0px"),a}});Nn({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,n){var{parser:r}=t,s=Qr(n[0],"size").value,a=n[1];return{type:"raisebox",mode:r.mode,dy:s,body:a}},htmlBuilder(t,n){var r=Wi(t.body,n),s=fo(t.dy,n);return Mt.makeVList({positionType:"shift",positionData:-s,children:[{type:"elem",elem:r}]},n)},mathmlBuilder(t,n){var r=new pn.MathNode("mpadded",[Ns(t.body,n)]),s=t.dy.number+t.dy.unit;return r.setAttribute("voffset",s),r}});Nn({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:n}=t;return{type:"internal",mode:n.mode}}});Nn({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,n,r){var{parser:s}=t,a=r[0],c=Qr(n[0],"size"),d=Qr(n[1],"size");return{type:"rule",mode:s.mode,shift:a&&Qr(a,"size").value,width:c.value,height:d.value}},htmlBuilder(t,n){var r=Mt.makeSpan(["mord","rule"],[],n),s=fo(t.width,n),a=fo(t.height,n),c=t.shift?fo(t.shift,n):0;return r.style.borderRightWidth=Tn(s),r.style.borderTopWidth=Tn(a),r.style.bottom=Tn(c),r.width=s,r.height=a+c,r.depth=-c,r.maxFontSize=a*1.125*n.sizeMultiplier,r},mathmlBuilder(t,n){var r=fo(t.width,n),s=fo(t.height,n),a=t.shift?fo(t.shift,n):0,c=n.color&&n.getColor()||"black",d=new pn.MathNode("mspace");d.setAttribute("mathbackground",c),d.setAttribute("width",Tn(r)),d.setAttribute("height",Tn(s));var m=new pn.MathNode("mpadded",[d]);return a>=0?m.setAttribute("height",Tn(a)):(m.setAttribute("height",Tn(a)),m.setAttribute("depth",Tn(-a))),m.setAttribute("voffset",Tn(a)),m}});function _C(t,n,r){for(var s=Jo(t,n,!1),a=n.sizeMultiplier/r.sizeMultiplier,c=0;c<s.length;c++){var d=s[c].classes.indexOf("sizing");d<0?Array.prototype.push.apply(s[c].classes,n.sizingClasses(r)):s[c].classes[d+1]==="reset-size"+n.size&&(s[c].classes[d+1]="reset-size"+r.size),s[c].height*=a,s[c].depth*=a}return Mt.makeFragment(s)}var dE=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],wq=(t,n)=>{var r=n.havingSize(t.size);return _C(t.body,r,n)};Nn({type:"sizing",names:dE,props:{numArgs:0,allowedInText:!0},handler:(t,n)=>{var{breakOnTokenText:r,funcName:s,parser:a}=t,c=a.parseExpression(!1,r);return{type:"sizing",mode:a.mode,size:dE.indexOf(s)+1,body:c}},htmlBuilder:wq,mathmlBuilder:(t,n)=>{var r=n.havingSize(t.size),s=Na(t.body,r),a=new pn.MathNode("mstyle",s);return a.setAttribute("mathsize",Tn(r.sizeMultiplier)),a}});Nn({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,n,r)=>{var{parser:s}=t,a=!1,c=!1,d=r[0]&&Qr(r[0],"ordgroup");if(d)for(var m="",$=0;$<d.body.length;++$){var v=d.body[$];if(m=v.text,m==="t")a=!0;else if(m==="b")c=!0;else{a=!1,c=!1;break}}else a=!0,c=!0;var _=n[0];return{type:"smash",mode:s.mode,body:_,smashHeight:a,smashDepth:c}},htmlBuilder:(t,n)=>{var r=Mt.makeSpan([],[Wi(t.body,n)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var s=0;s<r.children.length;s++)r.children[s].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var a=0;a<r.children.length;a++)r.children[a].depth=0;var c=Mt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},n);return Mt.makeSpan(["mord"],[c],n)},mathmlBuilder:(t,n)=>{var r=new pn.MathNode("mpadded",[Ns(t.body,n)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});Nn({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,n,r){var{parser:s}=t,a=r[0],c=n[0];return{type:"sqrt",mode:s.mode,body:c,index:a}},htmlBuilder(t,n){var r=Wi(t.body,n.havingCrampedStyle());r.height===0&&(r.height=n.fontMetrics().xHeight),r=Mt.wrapFragment(r,n);var s=n.fontMetrics(),a=s.defaultRuleThickness,c=a;n.style.id<br.TEXT.id&&(c=n.fontMetrics().xHeight);var d=a+c/4,m=r.height+r.depth+d+a,{span:$,ruleWidth:v,advanceWidth:_}=Ih.sqrtImage(m,n),T=$.height-v;T>r.height+r.depth+d&&(d=(d+T-r.height-r.depth)/2);var S=$.height-r.height-d-v;r.style.paddingLeft=Tn(_);var k=Mt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+S)},{type:"elem",elem:$},{type:"kern",size:v}]},n);if(t.index){var P=n.havingStyle(br.SCRIPTSCRIPT),G=Wi(t.index,P,n),X=.6*(k.height-k.depth),R=Mt.makeVList({positionType:"shift",positionData:-X,children:[{type:"elem",elem:G}]},n),W=Mt.makeSpan(["root"],[R]);return Mt.makeSpan(["mord","sqrt"],[W,k],n)}else return Mt.makeSpan(["mord","sqrt"],[k],n)},mathmlBuilder(t,n){var{body:r,index:s}=t;return s?new pn.MathNode("mroot",[Ns(r,n),Ns(s,n)]):new pn.MathNode("msqrt",[Ns(r,n)])}});var fE={display:br.DISPLAY,text:br.TEXT,script:br.SCRIPT,scriptscript:br.SCRIPTSCRIPT};Nn({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,n){var{breakOnTokenText:r,funcName:s,parser:a}=t,c=a.parseExpression(!0,r),d=s.slice(1,s.length-5);return{type:"styling",mode:a.mode,style:d,body:c}},htmlBuilder(t,n){var r=fE[t.style],s=n.havingStyle(r).withFont("");return _C(t.body,s,n)},mathmlBuilder(t,n){var r=fE[t.style],s=n.havingStyle(r),a=Na(t.body,s),c=new pn.MathNode("mstyle",a),d={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},m=d[t.style];return c.setAttribute("scriptlevel",m[0]),c.setAttribute("displaystyle",m[1]),c}});var xq=function(n,r){var s=n.base;if(s)if(s.type==="op"){var a=s.limits&&(r.style.size===br.DISPLAY.size||s.alwaysHandleSupSub);return a?w2:null}else if(s.type==="operatorname"){var c=s.alwaysHandleSupSub&&(r.style.size===br.DISPLAY.size||s.limits);return c?yC:null}else{if(s.type==="accent")return Qi.isCharacterBox(s.base)?O$:null;if(s.type==="horizBrace"){var d=!n.sub;return d===s.isOver?$C:null}else return null}else return null};$f({type:"supsub",htmlBuilder(t,n){var r=xq(t,n);if(r)return r(t,n);var{base:s,sup:a,sub:c}=t,d=Wi(s,n),m,$,v=n.fontMetrics(),_=0,T=0,S=s&&Qi.isCharacterBox(s);if(a){var k=n.havingStyle(n.style.sup());m=Wi(a,k,n),S||(_=d.height-k.fontMetrics().supDrop*k.sizeMultiplier/n.sizeMultiplier)}if(c){var P=n.havingStyle(n.style.sub());$=Wi(c,P,n),S||(T=d.depth+P.fontMetrics().subDrop*P.sizeMultiplier/n.sizeMultiplier)}var G;n.style===br.DISPLAY?G=v.sup1:n.style.cramped?G=v.sup3:G=v.sup2;var X=n.sizeMultiplier,R=Tn(.5/v.ptPerEm/X),W=null;if($){var te=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(d instanceof j0||te)&&(W=Tn(-d.italic))}var ie;if(m&&$){_=Math.max(_,G,m.depth+.25*v.xHeight),T=Math.max(T,v.sub2);var se=v.defaultRuleThickness,Y=4*se;if(_-m.depth-($.height-T)<Y){T=Y-(_-m.depth)+$.height;var fe=.8*v.xHeight-(_-m.depth);fe>0&&(_+=fe,T-=fe)}var Ie=[{type:"elem",elem:$,shift:T,marginRight:R,marginLeft:W},{type:"elem",elem:m,shift:-_,marginRight:R}];ie=Mt.makeVList({positionType:"individualShift",children:Ie},n)}else if($){T=Math.max(T,v.sub1,$.height-.8*v.xHeight);var De=[{type:"elem",elem:$,marginLeft:W,marginRight:R}];ie=Mt.makeVList({positionType:"shift",positionData:T,children:De},n)}else if(m)_=Math.max(_,G,m.depth+.25*v.xHeight),ie=Mt.makeVList({positionType:"shift",positionData:-_,children:[{type:"elem",elem:m,marginRight:R}]},n);else throw new Error("supsub must have either sup or sub.");var Ue=Xg(d,"right")||"mord";return Mt.makeSpan([Ue],[d,Mt.makeSpan(["msupsub"],[ie])],n)},mathmlBuilder(t,n){var r=!1,s,a;t.base&&t.base.type==="horizBrace"&&(a=!!t.sup,a===t.base.isOver&&(r=!0,s=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var c=[Ns(t.base,n)];t.sub&&c.push(Ns(t.sub,n)),t.sup&&c.push(Ns(t.sup,n));var d;if(r)d=s?"mover":"munder";else if(t.sub)if(t.sup){var v=t.base;v&&v.type==="op"&&v.limits&&n.style===br.DISPLAY||v&&v.type==="operatorname"&&v.alwaysHandleSupSub&&(n.style===br.DISPLAY||v.limits)?d="munderover":d="msubsup"}else{var $=t.base;$&&$.type==="op"&&$.limits&&(n.style===br.DISPLAY||$.alwaysHandleSupSub)||$&&$.type==="operatorname"&&$.alwaysHandleSupSub&&($.limits||n.style===br.DISPLAY)?d="munder":d="msub"}else{var m=t.base;m&&m.type==="op"&&m.limits&&(n.style===br.DISPLAY||m.alwaysHandleSupSub)||m&&m.type==="operatorname"&&m.alwaysHandleSupSub&&(m.limits||n.style===br.DISPLAY)?d="mover":d="msup"}return new pn.MathNode(d,c)}});$f({type:"atom",htmlBuilder(t,n){return Mt.mathsym(t.text,t.mode,n,["m"+t.family])},mathmlBuilder(t,n){var r=new pn.MathNode("mo",[X0(t.text,t.mode)]);if(t.family==="bin"){var s=M$(t,n);s==="bold-italic"&&r.setAttribute("mathvariant",s)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var TC={mi:"italic",mn:"normal",mtext:"normal"};$f({type:"mathord",htmlBuilder(t,n){return Mt.makeOrd(t,n,"mathord")},mathmlBuilder(t,n){var r=new pn.MathNode("mi",[X0(t.text,t.mode,n)]),s=M$(t,n)||"italic";return s!==TC[r.type]&&r.setAttribute("mathvariant",s),r}});$f({type:"textord",htmlBuilder(t,n){return Mt.makeOrd(t,n,"textord")},mathmlBuilder(t,n){var r=X0(t.text,t.mode,n),s=M$(t,n)||"normal",a;return t.mode==="text"?a=new pn.MathNode("mtext",[r]):/[0-9]/.test(t.text)?a=new pn.MathNode("mn",[r]):t.text==="\\prime"?a=new pn.MathNode("mo",[r]):a=new pn.MathNode("mi",[r]),s!==TC[a.type]&&a.setAttribute("mathvariant",s),a}});var ig={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},sg={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};$f({type:"spacing",htmlBuilder(t,n){if(sg.hasOwnProperty(t.text)){var r=sg[t.text].className||"";if(t.mode==="text"){var s=Mt.makeOrd(t,n,"textord");return s.classes.push(r),s}else return Mt.makeSpan(["mspace",r],[Mt.mathsym(t.text,t.mode,n)],n)}else{if(ig.hasOwnProperty(t.text))return Mt.makeSpan(["mspace",ig[t.text]],[],n);throw new gn('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,n){var r;if(sg.hasOwnProperty(t.text))r=new pn.MathNode("mtext",[new pn.TextNode("")]);else{if(ig.hasOwnProperty(t.text))return new pn.MathNode("mspace");throw new gn('Unknown type of space "'+t.text+'"')}return r}});var pE=()=>{var t=new pn.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};$f({type:"tag",mathmlBuilder(t,n){var r=new pn.MathNode("mtable",[new pn.MathNode("mtr",[pE(),new pn.MathNode("mtd",[td(t.body,n)]),pE(),new pn.MathNode("mtd",[td(t.tag,n)])])]);return r.setAttribute("width","100%"),r}});var mE={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},gE={"\\textbf":"textbf","\\textmd":"textmd"},Sq={"\\textit":"textit","\\textup":"textup"},$E=(t,n)=>{var r=t.font;if(r){if(mE[r])return n.withTextFontFamily(mE[r]);if(gE[r])return n.withTextFontWeight(gE[r]);if(r==="\\emph")return n.fontShape==="textit"?n.withTextFontShape("textup"):n.withTextFontShape("textit")}else return n;return n.withTextFontShape(Sq[r])};Nn({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,n){var{parser:r,funcName:s}=t,a=n[0];return{type:"text",mode:r.mode,body:Io(a),font:s}},htmlBuilder(t,n){var r=$E(t,n),s=Jo(t.body,r,!0);return Mt.makeSpan(["mord","text"],s,r)},mathmlBuilder(t,n){var r=$E(t,n);return td(t.body,r)}});Nn({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,n){var{parser:r}=t;return{type:"underline",mode:r.mode,body:n[0]}},htmlBuilder(t,n){var r=Wi(t.body,n),s=Mt.makeLineSpan("underline-line",n),a=n.fontMetrics().defaultRuleThickness,c=Mt.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:a},{type:"elem",elem:s},{type:"kern",size:3*a},{type:"elem",elem:r}]},n);return Mt.makeSpan(["mord","underline"],[c],n)},mathmlBuilder(t,n){var r=new pn.MathNode("mo",[new pn.TextNode("")]);r.setAttribute("stretchy","true");var s=new pn.MathNode("munder",[Ns(t.body,n),r]);return s.setAttribute("accentunder","true"),s}});Nn({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,n){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:n[0]}},htmlBuilder(t,n){var r=Wi(t.body,n),s=n.fontMetrics().axisHeight,a=.5*(r.height-s-(r.depth+s));return Mt.makeVList({positionType:"shift",positionData:a,children:[{type:"elem",elem:r}]},n)},mathmlBuilder(t,n){return new pn.MathNode("mpadded",[Ns(t.body,n)],["vcenter"])}});Nn({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,n,r){throw new gn("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,n){for(var r=vE(t),s=[],a=n.havingStyle(n.style.text()),c=0;c<r.length;c++){var d=r[c];d==="~"&&(d="\\textasciitilde"),s.push(Mt.makeSymbol(d,"Typewriter-Regular",t.mode,a,["mord","texttt"]))}return Mt.makeSpan(["mord","text"].concat(a.sizingClasses(n)),Mt.tryCombineChars(s),a)},mathmlBuilder(t,n){var r=new pn.TextNode(vE(t)),s=new pn.MathNode("mtext",[r]);return s.setAttribute("mathvariant","monospace"),s}});var vE=t=>t.body.replace(/ /g,t.star?"":""),j1=qk,EC=`[ \r
	]`,kq="\\\\[a-zA-Z@]+",Cq="\\\\[^\uD800-\uDFFF]",Aq="("+kq+")"+EC+"*",Iq=`\\\\(
|[ \r	]+
?)[ \r	]*`,Zg="[-]",Mq=new RegExp(Zg+"+$"),Nq="("+EC+"+)|"+(Iq+"|")+"([!-\\[\\]---]"+(Zg+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Zg+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Aq)+("|"+Cq+")");class bE{constructor(n,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=n,this.settings=r,this.tokenRegex=new RegExp(Nq,"g"),this.catcodes={"%":14,"~":13}}setCatcode(n,r){this.catcodes[n]=r}lex(){var n=this.input,r=this.tokenRegex.lastIndex;if(r===n.length)return new o0("EOF",new Ia(this,r,r));var s=this.tokenRegex.exec(n);if(s===null||s.index!==r)throw new gn("Unexpected character: '"+n[r]+"'",new o0(n[r],new Ia(this,r,r+1)));var a=s[6]||s[3]||(s[2]?"\\ ":" ");if(this.catcodes[a]===14){var c=n.indexOf(`
`,this.tokenRegex.lastIndex);return c===-1?(this.tokenRegex.lastIndex=n.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=c+1,this.lex()}return new o0(a,new Ia(this,r,this.tokenRegex.lastIndex))}}class Oq{constructor(n,r){n===void 0&&(n={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=n,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new gn("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var n=this.undefStack.pop();for(var r in n)n.hasOwnProperty(r)&&(n[r]==null?delete this.current[r]:this.current[r]=n[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(n){return this.current.hasOwnProperty(n)||this.builtins.hasOwnProperty(n)}get(n){return this.current.hasOwnProperty(n)?this.current[n]:this.builtins[n]}set(n,r,s){if(s===void 0&&(s=!1),s){for(var a=0;a<this.undefStack.length;a++)delete this.undefStack[a][n];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][n]=r)}else{var c=this.undefStack[this.undefStack.length-1];c&&!c.hasOwnProperty(n)&&(c[n]=this.current[n])}r==null?delete this.current[n]:this.current[n]=r}}var Rq=dC;Ae("\\noexpand",function(t){var n=t.popToken();return t.isExpandable(n.text)&&(n.noexpand=!0,n.treatAsRelax=!0),{tokens:[n],numArgs:0}});Ae("\\expandafter",function(t){var n=t.popToken();return t.expandOnce(!0),{tokens:[n],numArgs:0}});Ae("\\@firstoftwo",function(t){var n=t.consumeArgs(2);return{tokens:n[0],numArgs:0}});Ae("\\@secondoftwo",function(t){var n=t.consumeArgs(2);return{tokens:n[1],numArgs:0}});Ae("\\@ifnextchar",function(t){var n=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return n[0].length===1&&n[0][0].text===r.text?{tokens:n[1],numArgs:0}:{tokens:n[2],numArgs:0}});Ae("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");Ae("\\TextOrMath",function(t){var n=t.consumeArgs(2);return t.mode==="text"?{tokens:n[0],numArgs:0}:{tokens:n[1],numArgs:0}});var yE={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Ae("\\char",function(t){var n=t.popToken(),r,s="";if(n.text==="'")r=8,n=t.popToken();else if(n.text==='"')r=16,n=t.popToken();else if(n.text==="`")if(n=t.popToken(),n.text[0]==="\\")s=n.text.charCodeAt(1);else{if(n.text==="EOF")throw new gn("\\char` missing argument");s=n.text.charCodeAt(0)}else r=10;if(r){if(s=yE[n.text],s==null||s>=r)throw new gn("Invalid base-"+r+" digit "+n.text);for(var a;(a=yE[t.future().text])!=null&&a<r;)s*=r,s+=a,t.popToken()}return"\\@char{"+s+"}"});var z$=(t,n,r,s)=>{var a=t.consumeArg().tokens;if(a.length!==1)throw new gn("\\newcommand's first argument must be a macro name");var c=a[0].text,d=t.isDefined(c);if(d&&!n)throw new gn("\\newcommand{"+c+"} attempting to redefine "+(c+"; use \\renewcommand"));if(!d&&!r)throw new gn("\\renewcommand{"+c+"} when command "+c+" does not yet exist; use \\newcommand");var m=0;if(a=t.consumeArg().tokens,a.length===1&&a[0].text==="["){for(var $="",v=t.expandNextToken();v.text!=="]"&&v.text!=="EOF";)$+=v.text,v=t.expandNextToken();if(!$.match(/^\s*[0-9]+\s*$/))throw new gn("Invalid number of arguments: "+$);m=parseInt($),a=t.consumeArg().tokens}return d&&s||t.macros.set(c,{tokens:a,numArgs:m}),""};Ae("\\newcommand",t=>z$(t,!1,!0,!1));Ae("\\renewcommand",t=>z$(t,!0,!1,!1));Ae("\\providecommand",t=>z$(t,!0,!0,!0));Ae("\\message",t=>{var n=t.consumeArgs(1)[0];return console.log(n.reverse().map(r=>r.text).join("")),""});Ae("\\errmessage",t=>{var n=t.consumeArgs(1)[0];return console.error(n.reverse().map(r=>r.text).join("")),""});Ae("\\show",t=>{var n=t.popToken(),r=n.text;return console.log(n,t.macros.get(r),j1[r],Us.math[r],Us.text[r]),""});Ae("\\bgroup","{");Ae("\\egroup","}");Ae("~","\\nobreakspace");Ae("\\lq","`");Ae("\\rq","'");Ae("\\aa","\\r a");Ae("\\AA","\\r A");Ae("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");Ae("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");Ae("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");Ae("","\\mathscr{B}");Ae("","\\mathscr{E}");Ae("","\\mathscr{F}");Ae("","\\mathscr{H}");Ae("","\\mathscr{I}");Ae("","\\mathscr{L}");Ae("","\\mathscr{M}");Ae("","\\mathscr{R}");Ae("","\\mathfrak{C}");Ae("","\\mathfrak{H}");Ae("","\\mathfrak{Z}");Ae("\\Bbbk","\\Bbb{k}");Ae("","\\cdotp");Ae("\\llap","\\mathllap{\\textrm{#1}}");Ae("\\rlap","\\mathrlap{\\textrm{#1}}");Ae("\\clap","\\mathclap{\\textrm{#1}}");Ae("\\mathstrut","\\vphantom{(}");Ae("\\underbar","\\underline{\\text{#1}}");Ae("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');Ae("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");Ae("\\ne","\\neq");Ae("","\\neq");Ae("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");Ae("","\\notin");Ae("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");Ae("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");Ae("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");Ae("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");Ae("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");Ae("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");Ae("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");Ae("","\\perp");Ae("","\\mathclose{!\\mkern-0.8mu!}");Ae("","\\notni");Ae("","\\ulcorner");Ae("","\\urcorner");Ae("","\\llcorner");Ae("","\\lrcorner");Ae("","\\copyright");Ae("","\\textregistered");Ae("","\\textregistered");Ae("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');Ae("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');Ae("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');Ae("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');Ae("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");Ae("","\\vdots");Ae("\\varGamma","\\mathit{\\Gamma}");Ae("\\varDelta","\\mathit{\\Delta}");Ae("\\varTheta","\\mathit{\\Theta}");Ae("\\varLambda","\\mathit{\\Lambda}");Ae("\\varXi","\\mathit{\\Xi}");Ae("\\varPi","\\mathit{\\Pi}");Ae("\\varSigma","\\mathit{\\Sigma}");Ae("\\varUpsilon","\\mathit{\\Upsilon}");Ae("\\varPhi","\\mathit{\\Phi}");Ae("\\varPsi","\\mathit{\\Psi}");Ae("\\varOmega","\\mathit{\\Omega}");Ae("\\substack","\\begin{subarray}{c}#1\\end{subarray}");Ae("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");Ae("\\boxed","\\fbox{$\\displaystyle{#1}$}");Ae("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");Ae("\\implies","\\DOTSB\\;\\Longrightarrow\\;");Ae("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");Ae("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");Ae("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var _E={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Ae("\\dots",function(t){var n="\\dotso",r=t.expandAfterFuture().text;return r in _E?n=_E[r]:(r.slice(0,4)==="\\not"||r in Us.math&&["bin","rel"].includes(Us.math[r].group))&&(n="\\dotsb"),n});var H$={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Ae("\\dotso",function(t){var n=t.future().text;return n in H$?"\\ldots\\,":"\\ldots"});Ae("\\dotsc",function(t){var n=t.future().text;return n in H$&&n!==","?"\\ldots\\,":"\\ldots"});Ae("\\cdots",function(t){var n=t.future().text;return n in H$?"\\@cdots\\,":"\\@cdots"});Ae("\\dotsb","\\cdots");Ae("\\dotsm","\\cdots");Ae("\\dotsi","\\!\\cdots");Ae("\\dotsx","\\ldots\\,");Ae("\\DOTSI","\\relax");Ae("\\DOTSB","\\relax");Ae("\\DOTSX","\\relax");Ae("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");Ae("\\,","\\tmspace+{3mu}{.1667em}");Ae("\\thinspace","\\,");Ae("\\>","\\mskip{4mu}");Ae("\\:","\\tmspace+{4mu}{.2222em}");Ae("\\medspace","\\:");Ae("\\;","\\tmspace+{5mu}{.2777em}");Ae("\\thickspace","\\;");Ae("\\!","\\tmspace-{3mu}{.1667em}");Ae("\\negthinspace","\\!");Ae("\\negmedspace","\\tmspace-{4mu}{.2222em}");Ae("\\negthickspace","\\tmspace-{5mu}{.277em}");Ae("\\enspace","\\kern.5em ");Ae("\\enskip","\\hskip.5em\\relax");Ae("\\quad","\\hskip1em\\relax");Ae("\\qquad","\\hskip2em\\relax");Ae("\\tag","\\@ifstar\\tag@literal\\tag@paren");Ae("\\tag@paren","\\tag@literal{({#1})}");Ae("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new gn("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});Ae("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");Ae("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");Ae("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");Ae("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");Ae("\\newline","\\\\\\relax");Ae("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var wC=Tn(_c["Main-Regular"][84][1]-.7*_c["Main-Regular"][65][1]);Ae("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+wC+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");Ae("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+wC+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");Ae("\\hspace","\\@ifstar\\@hspacer\\@hspace");Ae("\\@hspace","\\hskip #1\\relax");Ae("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");Ae("\\ordinarycolon",":");Ae("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");Ae("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');Ae("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');Ae("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');Ae("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');Ae("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');Ae("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');Ae("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');Ae("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');Ae("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');Ae("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');Ae("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');Ae("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');Ae("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');Ae("","\\dblcolon");Ae("","\\eqcolon");Ae("","\\coloneqq");Ae("","\\eqqcolon");Ae("","\\Coloneqq");Ae("\\ratio","\\vcentcolon");Ae("\\coloncolon","\\dblcolon");Ae("\\colonequals","\\coloneqq");Ae("\\coloncolonequals","\\Coloneqq");Ae("\\equalscolon","\\eqqcolon");Ae("\\equalscoloncolon","\\Eqqcolon");Ae("\\colonminus","\\coloneq");Ae("\\coloncolonminus","\\Coloneq");Ae("\\minuscolon","\\eqcolon");Ae("\\minuscoloncolon","\\Eqcolon");Ae("\\coloncolonapprox","\\Colonapprox");Ae("\\coloncolonsim","\\Colonsim");Ae("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Ae("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");Ae("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Ae("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");Ae("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");Ae("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");Ae("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");Ae("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");Ae("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");Ae("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");Ae("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");Ae("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");Ae("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");Ae("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");Ae("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");Ae("\\ngeqq","\\html@mathml{\\@ngeqq}{}");Ae("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");Ae("\\nleqq","\\html@mathml{\\@nleqq}{}");Ae("\\nleqslant","\\html@mathml{\\@nleqslant}{}");Ae("\\nshortmid","\\html@mathml{\\@nshortmid}{}");Ae("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");Ae("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");Ae("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");Ae("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");Ae("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");Ae("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");Ae("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");Ae("\\imath","\\html@mathml{\\@imath}{}");Ae("\\jmath","\\html@mathml{\\@jmath}{}");Ae("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");Ae("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");Ae("","\\llbracket");Ae("","\\rrbracket");Ae("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");Ae("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");Ae("","\\lBrace");Ae("","\\rBrace");Ae("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");Ae("","\\minuso");Ae("\\darr","\\downarrow");Ae("\\dArr","\\Downarrow");Ae("\\Darr","\\Downarrow");Ae("\\lang","\\langle");Ae("\\rang","\\rangle");Ae("\\uarr","\\uparrow");Ae("\\uArr","\\Uparrow");Ae("\\Uarr","\\Uparrow");Ae("\\N","\\mathbb{N}");Ae("\\R","\\mathbb{R}");Ae("\\Z","\\mathbb{Z}");Ae("\\alef","\\aleph");Ae("\\alefsym","\\aleph");Ae("\\Alpha","\\mathrm{A}");Ae("\\Beta","\\mathrm{B}");Ae("\\bull","\\bullet");Ae("\\Chi","\\mathrm{X}");Ae("\\clubs","\\clubsuit");Ae("\\cnums","\\mathbb{C}");Ae("\\Complex","\\mathbb{C}");Ae("\\Dagger","\\ddagger");Ae("\\diamonds","\\diamondsuit");Ae("\\empty","\\emptyset");Ae("\\Epsilon","\\mathrm{E}");Ae("\\Eta","\\mathrm{H}");Ae("\\exist","\\exists");Ae("\\harr","\\leftrightarrow");Ae("\\hArr","\\Leftrightarrow");Ae("\\Harr","\\Leftrightarrow");Ae("\\hearts","\\heartsuit");Ae("\\image","\\Im");Ae("\\infin","\\infty");Ae("\\Iota","\\mathrm{I}");Ae("\\isin","\\in");Ae("\\Kappa","\\mathrm{K}");Ae("\\larr","\\leftarrow");Ae("\\lArr","\\Leftarrow");Ae("\\Larr","\\Leftarrow");Ae("\\lrarr","\\leftrightarrow");Ae("\\lrArr","\\Leftrightarrow");Ae("\\Lrarr","\\Leftrightarrow");Ae("\\Mu","\\mathrm{M}");Ae("\\natnums","\\mathbb{N}");Ae("\\Nu","\\mathrm{N}");Ae("\\Omicron","\\mathrm{O}");Ae("\\plusmn","\\pm");Ae("\\rarr","\\rightarrow");Ae("\\rArr","\\Rightarrow");Ae("\\Rarr","\\Rightarrow");Ae("\\real","\\Re");Ae("\\reals","\\mathbb{R}");Ae("\\Reals","\\mathbb{R}");Ae("\\Rho","\\mathrm{P}");Ae("\\sdot","\\cdot");Ae("\\sect","\\S");Ae("\\spades","\\spadesuit");Ae("\\sub","\\subset");Ae("\\sube","\\subseteq");Ae("\\supe","\\supseteq");Ae("\\Tau","\\mathrm{T}");Ae("\\thetasym","\\vartheta");Ae("\\weierp","\\wp");Ae("\\Zeta","\\mathrm{Z}");Ae("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");Ae("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");Ae("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");Ae("\\bra","\\mathinner{\\langle{#1}|}");Ae("\\ket","\\mathinner{|{#1}\\rangle}");Ae("\\braket","\\mathinner{\\langle{#1}\\rangle}");Ae("\\Bra","\\left\\langle#1\\right|");Ae("\\Ket","\\left|#1\\right\\rangle");var xC=t=>n=>{var r=n.consumeArg().tokens,s=n.consumeArg().tokens,a=n.consumeArg().tokens,c=n.consumeArg().tokens,d=n.macros.get("|"),m=n.macros.get("\\|");n.macros.beginGroup();var $=T=>S=>{t&&(S.macros.set("|",d),a.length&&S.macros.set("\\|",m));var k=T;if(!T&&a.length){var P=S.future();P.text==="|"&&(S.popToken(),k=!0)}return{tokens:k?a:s,numArgs:0}};n.macros.set("|",$(!1)),a.length&&n.macros.set("\\|",$(!0));var v=n.consumeArg().tokens,_=n.expandTokens([...c,...v,...r]);return n.macros.endGroup(),{tokens:_.reverse(),numArgs:0}};Ae("\\bra@ket",xC(!1));Ae("\\bra@set",xC(!0));Ae("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");Ae("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");Ae("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");Ae("\\angln","{\\angl n}");Ae("\\blue","\\textcolor{##6495ed}{#1}");Ae("\\orange","\\textcolor{##ffa500}{#1}");Ae("\\pink","\\textcolor{##ff00af}{#1}");Ae("\\red","\\textcolor{##df0030}{#1}");Ae("\\green","\\textcolor{##28ae7b}{#1}");Ae("\\gray","\\textcolor{gray}{#1}");Ae("\\purple","\\textcolor{##9d38bd}{#1}");Ae("\\blueA","\\textcolor{##ccfaff}{#1}");Ae("\\blueB","\\textcolor{##80f6ff}{#1}");Ae("\\blueC","\\textcolor{##63d9ea}{#1}");Ae("\\blueD","\\textcolor{##11accd}{#1}");Ae("\\blueE","\\textcolor{##0c7f99}{#1}");Ae("\\tealA","\\textcolor{##94fff5}{#1}");Ae("\\tealB","\\textcolor{##26edd5}{#1}");Ae("\\tealC","\\textcolor{##01d1c1}{#1}");Ae("\\tealD","\\textcolor{##01a995}{#1}");Ae("\\tealE","\\textcolor{##208170}{#1}");Ae("\\greenA","\\textcolor{##b6ffb0}{#1}");Ae("\\greenB","\\textcolor{##8af281}{#1}");Ae("\\greenC","\\textcolor{##74cf70}{#1}");Ae("\\greenD","\\textcolor{##1fab54}{#1}");Ae("\\greenE","\\textcolor{##0d923f}{#1}");Ae("\\goldA","\\textcolor{##ffd0a9}{#1}");Ae("\\goldB","\\textcolor{##ffbb71}{#1}");Ae("\\goldC","\\textcolor{##ff9c39}{#1}");Ae("\\goldD","\\textcolor{##e07d10}{#1}");Ae("\\goldE","\\textcolor{##a75a05}{#1}");Ae("\\redA","\\textcolor{##fca9a9}{#1}");Ae("\\redB","\\textcolor{##ff8482}{#1}");Ae("\\redC","\\textcolor{##f9685d}{#1}");Ae("\\redD","\\textcolor{##e84d39}{#1}");Ae("\\redE","\\textcolor{##bc2612}{#1}");Ae("\\maroonA","\\textcolor{##ffbde0}{#1}");Ae("\\maroonB","\\textcolor{##ff92c6}{#1}");Ae("\\maroonC","\\textcolor{##ed5fa6}{#1}");Ae("\\maroonD","\\textcolor{##ca337c}{#1}");Ae("\\maroonE","\\textcolor{##9e034e}{#1}");Ae("\\purpleA","\\textcolor{##ddd7ff}{#1}");Ae("\\purpleB","\\textcolor{##c6b9fc}{#1}");Ae("\\purpleC","\\textcolor{##aa87ff}{#1}");Ae("\\purpleD","\\textcolor{##7854ab}{#1}");Ae("\\purpleE","\\textcolor{##543b78}{#1}");Ae("\\mintA","\\textcolor{##f5f9e8}{#1}");Ae("\\mintB","\\textcolor{##edf2df}{#1}");Ae("\\mintC","\\textcolor{##e0e5cc}{#1}");Ae("\\grayA","\\textcolor{##f6f7f7}{#1}");Ae("\\grayB","\\textcolor{##f0f1f2}{#1}");Ae("\\grayC","\\textcolor{##e3e5e6}{#1}");Ae("\\grayD","\\textcolor{##d6d8da}{#1}");Ae("\\grayE","\\textcolor{##babec2}{#1}");Ae("\\grayF","\\textcolor{##888d93}{#1}");Ae("\\grayG","\\textcolor{##626569}{#1}");Ae("\\grayH","\\textcolor{##3b3e40}{#1}");Ae("\\grayI","\\textcolor{##21242c}{#1}");Ae("\\kaBlue","\\textcolor{##314453}{#1}");Ae("\\kaGreen","\\textcolor{##71B307}{#1}");var SC={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Lq{constructor(n,r,s){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(n),this.macros=new Oq(Rq,r.macros),this.mode=s,this.stack=[]}feed(n){this.lexer=new bE(n,this.settings)}switchMode(n){this.mode=n}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(n){this.stack.push(n)}pushTokens(n){this.stack.push(...n)}scanArgument(n){var r,s,a;if(n){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:a,end:s}=this.consumeArg(["]"])}else({tokens:a,start:r,end:s}=this.consumeArg());return this.pushToken(new o0("EOF",s.loc)),this.pushTokens(a),new o0("",Ia.range(r,s))}consumeSpaces(){for(;;){var n=this.future();if(n.text===" ")this.stack.pop();else break}}consumeArg(n){var r=[],s=n&&n.length>0;s||this.consumeSpaces();var a=this.future(),c,d=0,m=0;do{if(c=this.popToken(),r.push(c),c.text==="{")++d;else if(c.text==="}"){if(--d,d===-1)throw new gn("Extra }",c)}else if(c.text==="EOF")throw new gn("Unexpected end of input in a macro argument, expected '"+(n&&s?n[m]:"}")+"'",c);if(n&&s)if((d===0||d===1&&n[m]==="{")&&c.text===n[m]){if(++m,m===n.length){r.splice(-m,m);break}}else m=0}while(d!==0||s);return a.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:a,end:c}}consumeArgs(n,r){if(r){if(r.length!==n+1)throw new gn("The length of delimiters doesn't match the number of args!");for(var s=r[0],a=0;a<s.length;a++){var c=this.popToken();if(s[a]!==c.text)throw new gn("Use of the macro doesn't match its definition",c)}}for(var d=[],m=0;m<n;m++)d.push(this.consumeArg(r&&r[m+1]).tokens);return d}countExpansion(n){if(this.expansionCount+=n,this.expansionCount>this.settings.maxExpand)throw new gn("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(n){var r=this.popToken(),s=r.text,a=r.noexpand?null:this._getExpansion(s);if(a==null||n&&a.unexpandable){if(n&&a==null&&s[0]==="\\"&&!this.isDefined(s))throw new gn("Undefined control sequence: "+s);return this.pushToken(r),!1}this.countExpansion(1);var c=a.tokens,d=this.consumeArgs(a.numArgs,a.delimiters);if(a.numArgs){c=c.slice();for(var m=c.length-1;m>=0;--m){var $=c[m];if($.text==="#"){if(m===0)throw new gn("Incomplete placeholder at end of macro body",$);if($=c[--m],$.text==="#")c.splice(m+1,1);else if(/^[1-9]$/.test($.text))c.splice(m,2,...d[+$.text-1]);else throw new gn("Not a valid argument number",$)}}}return this.pushTokens(c),c.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var n=this.stack.pop();return n.treatAsRelax&&(n.text="\\relax"),n}throw new Error}expandMacro(n){return this.macros.has(n)?this.expandTokens([new o0(n)]):void 0}expandTokens(n){var r=[],s=this.stack.length;for(this.pushTokens(n);this.stack.length>s;)if(this.expandOnce(!0)===!1){var a=this.stack.pop();a.treatAsRelax&&(a.noexpand=!1,a.treatAsRelax=!1),r.push(a)}return this.countExpansion(r.length),r}expandMacroAsText(n){var r=this.expandMacro(n);return r&&r.map(s=>s.text).join("")}_getExpansion(n){var r=this.macros.get(n);if(r==null)return r;if(n.length===1){var s=this.lexer.catcodes[n];if(s!=null&&s!==13)return}var a=typeof r=="function"?r(this):r;if(typeof a=="string"){var c=0;if(a.indexOf("#")!==-1)for(var d=a.replace(/##/g,"");d.indexOf("#"+(c+1))!==-1;)++c;for(var m=new bE(a,this.settings),$=[],v=m.lex();v.text!=="EOF";)$.push(v),v=m.lex();$.reverse();var _={tokens:$,numArgs:c};return _}return a}isDefined(n){return this.macros.has(n)||j1.hasOwnProperty(n)||Us.math.hasOwnProperty(n)||Us.text.hasOwnProperty(n)||SC.hasOwnProperty(n)}isExpandable(n){var r=this.macros.get(n);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:j1.hasOwnProperty(n)&&!j1[n].primitive}}var TE=/^[]/,X3=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),og={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},EE={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class P6{constructor(n,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Lq(n,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(n,r){if(r===void 0&&(r=!0),this.fetch().text!==n)throw new gn("Expected '"+n+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(n){this.mode=n,this.gullet.switchMode(n)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var n=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),n}finally{this.gullet.endGroups()}}subparse(n){var r=this.nextToken;this.consume(),this.gullet.pushToken(new o0("}")),this.gullet.pushTokens(n);var s=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,s}parseExpression(n,r){for(var s=[];;){this.mode==="math"&&this.consumeSpaces();var a=this.fetch();if(P6.endOfExpression.indexOf(a.text)!==-1||r&&a.text===r||n&&j1[a.text]&&j1[a.text].infix)break;var c=this.parseAtom(r);if(c){if(c.type==="internal")continue}else break;s.push(c)}return this.mode==="text"&&this.formLigatures(s),this.handleInfixNodes(s)}handleInfixNodes(n){for(var r=-1,s,a=0;a<n.length;a++)if(n[a].type==="infix"){if(r!==-1)throw new gn("only one infix operator per group",n[a].token);r=a,s=n[a].replaceWith}if(r!==-1&&s){var c,d,m=n.slice(0,r),$=n.slice(r+1);m.length===1&&m[0].type==="ordgroup"?c=m[0]:c={type:"ordgroup",mode:this.mode,body:m},$.length===1&&$[0].type==="ordgroup"?d=$[0]:d={type:"ordgroup",mode:this.mode,body:$};var v;return s==="\\\\abovefrac"?v=this.callFunction(s,[c,n[r],d],[]):v=this.callFunction(s,[c,d],[]),[v]}else return n}handleSupSubscript(n){var r=this.fetch(),s=r.text;this.consume(),this.consumeSpaces();var a;do{var c;a=this.parseGroup(n)}while(((c=a)==null?void 0:c.type)==="internal");if(!a)throw new gn("Expected group after '"+s+"'",r);return a}formatUnsupportedCmd(n){for(var r=[],s=0;s<n.length;s++)r.push({type:"textord",mode:"text",text:n[s]});var a={type:"text",mode:this.mode,body:r},c={type:"color",mode:this.mode,color:this.settings.errorColor,body:[a]};return c}parseAtom(n){var r=this.parseGroup("atom",n);if(r?.type==="internal"||this.mode==="text")return r;for(var s,a;;){this.consumeSpaces();var c=this.fetch();if(c.text==="\\limits"||c.text==="\\nolimits"){if(r&&r.type==="op"){var d=c.text==="\\limits";r.limits=d,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=c.text==="\\limits");else throw new gn("Limit controls must follow a math operator",c);this.consume()}else if(c.text==="^"){if(s)throw new gn("Double superscript",c);s=this.handleSupSubscript("superscript")}else if(c.text==="_"){if(a)throw new gn("Double subscript",c);a=this.handleSupSubscript("subscript")}else if(c.text==="'"){if(s)throw new gn("Double superscript",c);var m={type:"textord",mode:this.mode,text:"\\prime"},$=[m];for(this.consume();this.fetch().text==="'";)$.push(m),this.consume();this.fetch().text==="^"&&$.push(this.handleSupSubscript("superscript")),s={type:"ordgroup",mode:this.mode,body:$}}else if(X3[c.text]){var v=TE.test(c.text),_=[];for(_.push(new o0(X3[c.text])),this.consume();;){var T=this.fetch().text;if(!X3[T]||TE.test(T)!==v)break;_.unshift(new o0(X3[T])),this.consume()}var S=this.subparse(_);v?a={type:"ordgroup",mode:"math",body:S}:s={type:"ordgroup",mode:"math",body:S}}else break}return s||a?{type:"supsub",mode:this.mode,base:r,sup:s,sub:a}:r}parseFunction(n,r){var s=this.fetch(),a=s.text,c=j1[a];if(!c)return null;if(this.consume(),r&&r!=="atom"&&!c.allowedInArgument)throw new gn("Got function '"+a+"' with no arguments"+(r?" as "+r:""),s);if(this.mode==="text"&&!c.allowedInText)throw new gn("Can't use function '"+a+"' in text mode",s);if(this.mode==="math"&&c.allowedInMath===!1)throw new gn("Can't use function '"+a+"' in math mode",s);var{args:d,optArgs:m}=this.parseArguments(a,c);return this.callFunction(a,d,m,s,n)}callFunction(n,r,s,a,c){var d={funcName:n,parser:this,token:a,breakOnTokenText:c},m=j1[n];if(m&&m.handler)return m.handler(d,r,s);throw new gn("No function handler for "+n)}parseArguments(n,r){var s=r.numArgs+r.numOptionalArgs;if(s===0)return{args:[],optArgs:[]};for(var a=[],c=[],d=0;d<s;d++){var m=r.argTypes&&r.argTypes[d],$=d<r.numOptionalArgs;(r.primitive&&m==null||r.type==="sqrt"&&d===1&&c[0]==null)&&(m="primitive");var v=this.parseGroupOfType("argument to '"+n+"'",m,$);if($)c.push(v);else if(v!=null)a.push(v);else throw new gn("Null argument, please report this as a bug")}return{args:a,optArgs:c}}parseGroupOfType(n,r,s){switch(r){case"color":return this.parseColorGroup(s);case"size":return this.parseSizeGroup(s);case"url":return this.parseUrlGroup(s);case"math":case"text":return this.parseArgumentGroup(s,r);case"hbox":{var a=this.parseArgumentGroup(s,"text");return a!=null?{type:"styling",mode:a.mode,body:[a],style:"text"}:null}case"raw":{var c=this.parseStringGroup("raw",s);return c!=null?{type:"raw",mode:"text",string:c.text}:null}case"primitive":{if(s)throw new gn("A primitive argument cannot be optional");var d=this.parseGroup(n);if(d==null)throw new gn("Expected group as "+n,this.fetch());return d}case"original":case null:case void 0:return this.parseArgumentGroup(s);default:throw new gn("Unknown group type as "+n,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(n,r){var s=this.gullet.scanArgument(r);if(s==null)return null;for(var a="",c;(c=this.fetch()).text!=="EOF";)a+=c.text,this.consume();return this.consume(),s.text=a,s}parseRegexGroup(n,r){for(var s=this.fetch(),a=s,c="",d;(d=this.fetch()).text!=="EOF"&&n.test(c+d.text);)a=d,c+=a.text,this.consume();if(c==="")throw new gn("Invalid "+r+": '"+s.text+"'",s);return s.range(a,c)}parseColorGroup(n){var r=this.parseStringGroup("color",n);if(r==null)return null;var s=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!s)throw new gn("Invalid color: '"+r.text+"'",r);var a=s[0];return/^[0-9a-f]{6}$/i.test(a)&&(a="#"+a),{type:"color-token",mode:this.mode,color:a}}parseSizeGroup(n){var r,s=!1;if(this.gullet.consumeSpaces(),!n&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",n),!r)return null;!n&&r.text.length===0&&(r.text="0pt",s=!0);var a=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!a)throw new gn("Invalid size: '"+r.text+"'",r);var c={number:+(a[1]+a[2]),unit:a[3]};if(!Dk(c))throw new gn("Invalid unit: '"+c.unit+"'",r);return{type:"size",mode:this.mode,value:c,isBlank:s}}parseUrlGroup(n){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",n);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var s=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:s}}parseArgumentGroup(n,r){var s=this.gullet.scanArgument(n);if(s==null)return null;var a=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var c=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var d={type:"ordgroup",mode:this.mode,loc:s.loc,body:c};return r&&this.switchMode(a),d}parseGroup(n,r){var s=this.fetch(),a=s.text,c;if(a==="{"||a==="\\begingroup"){this.consume();var d=a==="{"?"}":"\\endgroup";this.gullet.beginGroup();var m=this.parseExpression(!1,d),$=this.fetch();this.expect(d),this.gullet.endGroup(),c={type:"ordgroup",mode:this.mode,loc:Ia.range(s,$),body:m,semisimple:a==="\\begingroup"||void 0}}else if(c=this.parseFunction(r,n)||this.parseSymbol(),c==null&&a[0]==="\\"&&!SC.hasOwnProperty(a)){if(this.settings.throwOnError)throw new gn("Undefined control sequence: "+a,s);c=this.formatUnsupportedCmd(a),this.consume()}return c}formLigatures(n){for(var r=n.length-1,s=0;s<r;++s){var a=n[s],c=a.text;c==="-"&&n[s+1].text==="-"&&(s+1<r&&n[s+2].text==="-"?(n.splice(s,3,{type:"textord",mode:"text",loc:Ia.range(a,n[s+2]),text:"---"}),r-=2):(n.splice(s,2,{type:"textord",mode:"text",loc:Ia.range(a,n[s+1]),text:"--"}),r-=1)),(c==="'"||c==="`")&&n[s+1].text===c&&(n.splice(s,2,{type:"textord",mode:"text",loc:Ia.range(a,n[s+1]),text:c+c}),r-=1)}}parseSymbol(){var n=this.fetch(),r=n.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var s=r.slice(5),a=s.charAt(0)==="*";if(a&&(s=s.slice(1)),s.length<2||s.charAt(0)!==s.slice(-1))throw new gn(`\\verb assertion failed --
                    please report what input caused this bug`);return s=s.slice(1,-1),{type:"verb",mode:"text",body:s,star:a}}EE.hasOwnProperty(r[0])&&!Us[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',n),r=EE[r[0]]+r.slice(1));var c=Mq.exec(r);c&&(r=r.substring(0,c.index),r==="i"?r="":r==="j"&&(r=""));var d;if(Us[this.mode][r]){this.settings.strict&&this.mode==="math"&&jg.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',n);var m=Us[this.mode][r].group,$=Ia.range(n),v;if(EG.hasOwnProperty(m)){var _=m;v={type:"atom",mode:this.mode,family:_,loc:$,text:r}}else v={type:m,mode:this.mode,loc:$,text:r};d=v}else if(r.charCodeAt(0)>=128)this.settings.strict&&(Lk(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',n):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),n)),d={type:"textord",mode:"text",loc:Ia.range(n),text:r};else return null;if(this.consume(),c)for(var T=0;T<c[0].length;T++){var S=c[0][T];if(!og[S])throw new gn("Unknown accent ' "+S+"'",n);var k=og[S][this.mode]||og[S].text;if(!k)throw new gn("Accent "+S+" unsupported in "+this.mode+" mode",n);d={type:"accent",mode:this.mode,loc:Ia.range(n),label:k,isStretchy:!1,isShifty:!0,base:d}}return d}}P6.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var V$=function(n,r){if(!(typeof n=="string"||n instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var s=new P6(n,r);delete s.gullet.macros.current["\\df@tag"];var a=s.parse();if(delete s.gullet.macros.current["\\current@color"],delete s.gullet.macros.current["\\color"],s.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new gn("\\tag works only in display equations");a=[{type:"tag",mode:"text",body:a,tag:s.subparse([new o0("\\df@tag")])}]}return a},kC=function(n,r,s){r.textContent="";var a=G$(n,s).toNode();r.appendChild(a)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),kC=function(){throw new gn("KaTeX doesn't work in quirks mode.")});var Dq=function(n,r){var s=G$(n,r).toMarkup();return s},Bq=function(n,r){var s=new x$(r);return V$(n,s)},CC=function(n,r,s){if(s.throwOnError||!(n instanceof gn))throw n;var a=Mt.makeSpan(["katex-error"],[new j0(r)]);return a.setAttribute("title",n.toString()),a.setAttribute("style","color:"+s.errorColor),a},G$=function(n,r){var s=new x$(r);try{var a=V$(n,s);return WG(a,n,s)}catch(c){return CC(c,n,s)}},Pq=function(n,r){var s=new x$(r);try{var a=V$(n,s);return jG(a,n,s)}catch(c){return CC(c,n,s)}},Fq="0.16.25",Uq={Span:Fm,Anchor:C$,SymbolNode:j0,SvgNode:Lh,PathNode:ed,LineNode:Wg},wE={version:Fq,render:kC,renderToString:Dq,ParseError:gn,SETTINGS_SCHEMA:d5,__parse:Bq,__renderToDomTree:G$,__renderToHTMLTree:Pq,__setFontMetrics:mG,__defineSymbol:q,__defineFunction:Nn,__defineMacro:Ae,__domTree:Uq};const zq={};function Hq(t){const n=this,r=t||zq,s=n.data(),a=s.micromarkExtensions||(s.micromarkExtensions=[]),c=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),d=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);a.push(zV(r)),c.push(OV()),d.push(RV(r))}const xE=/[#.]/g;function Vq(t,n){const r=t||"",s={};let a=0,c,d;for(;a<r.length;){xE.lastIndex=a;const m=xE.exec(r),$=r.slice(a,m?m.index:r.length);$&&(c?c==="#"?s.id=$:Array.isArray(s.className)?s.className.push($):s.className=[$]:d=$,a+=$.length),m&&(c=m[0],a++)}return{type:"element",tagName:d||n||"div",properties:s,children:[]}}function AC(t,n,r){const s=r?jq(r):void 0;function a(c,d,...m){let $;if(c==null){$={type:"root",children:[]};const v=d;m.unshift(v)}else{$=Vq(c,n);const v=$.tagName.toLowerCase(),_=s?s.get(v):void 0;if($.tagName=_||v,Gq(d))m.unshift(d);else for(const[T,S]of Object.entries(d))qq(t,$.properties,T,S)}for(const v of m)Qg($.children,v);return $.type==="element"&&$.tagName==="template"&&($.content={type:"root",children:$.children},$.children=[]),$}return a}function Gq(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const n=t,r=Object.keys(t);for(const s of r){const a=n[s];if(a&&typeof a=="object"){if(!Array.isArray(a))return!0;const c=a;for(const d of c)if(typeof d!="number"&&typeof d!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function qq(t,n,r,s){const a=rk(t,r);let c;if(s!=null){if(typeof s=="number"){if(Number.isNaN(s))return;c=s}else typeof s=="boolean"?c=s:typeof s=="string"?a.spaceSeparated?c=hT(s):a.commaSeparated?c=oT(s):a.commaOrSpaceSeparated?c=hT(oT(s).join(" ")):c=SE(a,a.property,s):Array.isArray(s)?c=[...s]:c=a.property==="style"?Wq(s):String(s);if(Array.isArray(c)){const d=[];for(const m of c)d.push(SE(a,a.property,m));c=d}a.property==="className"&&Array.isArray(n.className)&&(c=n.className.concat(c)),n[a.property]=c}}function Qg(t,n){if(n!=null)if(typeof n=="number"||typeof n=="string")t.push({type:"text",value:String(n)});else if(Array.isArray(n))for(const r of n)Qg(t,r);else if(typeof n=="object"&&"type"in n)n.type==="root"?Qg(t,n.children):t.push(n);else throw new Error("Expected node, nodes, or string, got `"+n+"`")}function SE(t,n,r){if(typeof r=="string"){if(t.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((t.boolean||t.overloadedBoolean)&&(r===""||bm(r)===bm(n)))return!0}return r}function Wq(t){const n=[];for(const[r,s]of Object.entries(t))n.push([r,s].join(": "));return n.join("; ")}function jq(t){const n=new Map;for(const r of t)n.set(r.toLowerCase(),r);return n}const Xq=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Yq=AC(ik,"div"),Kq=AC(k6,"g",Xq),lg={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function Jq(t,n){return IC(t,{})||{type:"root",children:[]}}function IC(t,n){const r=Zq(t,n);return r&&n.afterTransform&&n.afterTransform(t,r),r}function Zq(t,n){switch(t.nodeType){case 1:return nW(t,n);case 3:return eW(t);case 8:return tW(t);case 9:return kE(t,n);case 10:return Qq();case 11:return kE(t,n);default:return}}function kE(t,n){return{type:"root",children:MC(t,n)}}function Qq(){return{type:"doctype"}}function eW(t){return{type:"text",value:t.nodeValue||""}}function tW(t){return{type:"comment",value:t.nodeValue||""}}function nW(t,n){const r=t.namespaceURI,s=r===lg.svg?Kq:Yq,a=r===lg.html?t.tagName.toLowerCase():t.tagName,c=r===lg.html&&a==="template"?t.content:t,d=t.getAttributeNames(),m={};let $=-1;for(;++$<d.length;)m[d[$]]=t.getAttribute(d[$])||"";return s(a,m,MC(c,n))}function MC(t,n){const r=t.childNodes,s=[];let a=-1;for(;++a<r.length;){const c=IC(r[a],n);c!==void 0&&s.push(c)}return s}new DOMParser;function rW(t,n){const r=iW(t);return Jq(r)}function iW(t){const n=document.createElement("template");return n.innerHTML=t,n.content}const CE=(function(t,n,r){const s=Dm(r);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof n=="number"){if(n<0||n===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(n=t.children.indexOf(n),n<0)throw new Error("Expected child node or index");for(;++n<t.children.length;)if(s(t.children[n],n,t))return t.children[n]}),vf=(function(t){if(t==null)return lW;if(typeof t=="string")return oW(t);if(typeof t=="object")return sW(t);if(typeof t=="function")return q$(t);throw new Error("Expected function, string, or array as `test`")});function sW(t){const n=[];let r=-1;for(;++r<t.length;)n[r]=vf(t[r]);return q$(s);function s(...a){let c=-1;for(;++c<n.length;)if(n[c].apply(this,a))return!0;return!1}}function oW(t){return q$(n);function n(r){return r.tagName===t}}function q$(t){return n;function n(r,s,a){return!!(aW(r)&&t.call(this,r,typeof s=="number"?s:void 0,a||void 0))}}function lW(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function aW(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const AE=/\n/g,IE=/[\t ]+/g,e9=vf("br"),ME=vf(gW),uW=vf("p"),NE=vf("tr"),cW=vf(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",mW,$W]),NC=vf(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function hW(t,n){const r=n||{},s="children"in t?t.children:[],a=NC(t),c=LC(t,{whitespace:r.whitespace||"normal"}),d=[];(t.type==="text"||t.type==="comment")&&d.push(...RC(t,{breakBefore:!0,breakAfter:!0}));let m=-1;for(;++m<s.length;)d.push(...OC(s[m],t,{whitespace:c,breakBefore:m?void 0:a,breakAfter:m<s.length-1?e9(s[m+1]):a}));const $=[];let v;for(m=-1;++m<d.length;){const _=d[m];typeof _=="number"?v!==void 0&&_>v&&(v=_):_&&(v!==void 0&&v>-1&&$.push(`
`.repeat(v)||" "),v=-1,$.push(_))}return $.join("")}function OC(t,n,r){return t.type==="element"?dW(t,n,r):t.type==="text"?r.whitespace==="normal"?RC(t,r):fW(t):[]}function dW(t,n,r){const s=LC(t,r),a=t.children||[];let c=-1,d=[];if(cW(t))return d;let m,$;for(e9(t)||NE(t)&&CE(n,t,NE)?$=`
`:uW(t)?(m=2,$=2):NC(t)&&(m=1,$=1);++c<a.length;)d=d.concat(OC(a[c],t,{whitespace:s,breakBefore:c?void 0:m,breakAfter:c<a.length-1?e9(a[c+1]):$}));return ME(t)&&CE(n,t,ME)&&d.push("	"),m&&d.unshift(m),$&&d.push($),d}function RC(t,n){const r=String(t.value),s=[],a=[];let c=0;for(;c<=r.length;){AE.lastIndex=c;const $=AE.exec(r),v=$&&"index"in $?$.index:r.length;s.push(pW(r.slice(c,v).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),c===0?n.breakBefore:!0,v===r.length?n.breakAfter:!0)),c=v+1}let d=-1,m;for(;++d<s.length;)s[d].charCodeAt(s[d].length-1)===8203||d<s.length-1&&s[d+1].charCodeAt(0)===8203?(a.push(s[d]),m=void 0):s[d]?(typeof m=="number"&&a.push(m),a.push(s[d]),m=0):(d===0||d===s.length-1)&&a.push(0);return a}function fW(t){return[String(t.value)]}function pW(t,n,r){const s=[];let a=0,c;for(;a<t.length;){IE.lastIndex=a;const d=IE.exec(t);c=d?d.index:t.length,!a&&!c&&d&&!n&&s.push(""),a!==c&&s.push(t.slice(a,c)),a=d?c+d[0].length:c}return a!==c&&!r&&s.push(""),s.join(" ")}function LC(t,n){if(t.type==="element"){const r=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":n.whitespace;case"textarea":return"pre-wrap"}}return n.whitespace}function mW(t){return!!(t.properties||{}).hidden}function gW(t){return t.tagName==="td"||t.tagName==="th"}function $W(t){return t.tagName==="dialog"&&!(t.properties||{}).open}const vW={},bW=[];function yW(t){const n=t||vW;return function(r,s){T$(r,"element",function(a,c){const d=Array.isArray(a.properties.className)?a.properties.className:bW,m=d.includes("language-math"),$=d.includes("math-display"),v=d.includes("math-inline");let _=$;if(!m&&!$&&!v)return;let T=c[c.length-1],S=a;if(a.tagName==="code"&&m&&T&&T.type==="element"&&T.tagName==="pre"&&(S=T,T=c[c.length-2],_=!0),!T)return;const k=hW(S,{whitespace:"pre"});let P;try{P=wE.renderToString(k,{...n,displayMode:_,throwOnError:!0})}catch(X){const R=X,W=R.name.toLowerCase();s.message("Could not render math with KaTeX",{ancestors:[...c,a],cause:R,place:a.position,ruleId:W,source:"rehype-katex"});try{P=wE.renderToString(k,{...n,displayMode:_,strict:"ignore",throwOnError:!1})}catch{P=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(n.errorColor||"#cc0000"),title:String(X)},children:[{type:"text",value:k}]}]}}typeof P=="string"&&(P=rW(P).children);const G=T.children.indexOf(S);return T.children.splice(G,1,...P),Mk})}}function OE(t,n){const r=String(t);if(typeof n!="string")throw new TypeError("Expected character");let s=0,a=r.indexOf(n);for(;a!==-1;)s++,a=r.indexOf(n,a+n.length);return s}function _W(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function TW(t,n,r){const a=Dm((r||{}).ignore||[]),c=EW(n);let d=-1;for(;++d<c.length;)T$(t,"text",m);function m(v,_){let T=-1,S;for(;++T<_.length;){const k=_[T],P=S?S.children:void 0;if(a(k,P?P.indexOf(k):void 0,S))return;S=k}if(S)return $(v,_)}function $(v,_){const T=_[_.length-1],S=c[d][0],k=c[d][1];let P=0;const X=T.children.indexOf(v);let R=!1,W=[];S.lastIndex=0;let te=S.exec(v.value);for(;te;){const ie=te.index,se={index:te.index,input:te.input,stack:[..._,v]};let Y=k(...te,se);if(typeof Y=="string"&&(Y=Y.length>0?{type:"text",value:Y}:void 0),Y===!1?S.lastIndex=ie+1:(P!==ie&&W.push({type:"text",value:v.value.slice(P,ie)}),Array.isArray(Y)?W.push(...Y):Y&&W.push(Y),P=ie+te[0].length,R=!0),!S.global)break;te=S.exec(v.value)}return R?(P<v.value.length&&W.push({type:"text",value:v.value.slice(P)}),T.children.splice(X,1,...W)):W=[v],X+W.length}}function EW(t){const n=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!t[0]||Array.isArray(t[0])?t:[t];let s=-1;for(;++s<r.length;){const a=r[s];n.push([wW(a[0]),xW(a[1])])}return n}function wW(t){return typeof t=="string"?new RegExp(_W(t),"g"):t}function xW(t){return typeof t=="function"?t:function(){return t}}const ag="phrasing",ug=["autolink","link","image","label"];function SW(){return{transforms:[OW],enter:{literalAutolink:CW,literalAutolinkEmail:cg,literalAutolinkHttp:cg,literalAutolinkWww:cg},exit:{literalAutolink:NW,literalAutolinkEmail:MW,literalAutolinkHttp:AW,literalAutolinkWww:IW}}}function kW(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ag,notInConstruct:ug},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ag,notInConstruct:ug},{character:":",before:"[ps]",after:"\\/",inConstruct:ag,notInConstruct:ug}]}}function CW(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function cg(t){this.config.enter.autolinkProtocol.call(this,t)}function AW(t){this.config.exit.autolinkProtocol.call(this,t)}function IW(t){this.config.exit.data.call(this,t);const n=this.stack[this.stack.length-1];n.type,n.url="http://"+this.sliceSerialize(t)}function MW(t){this.config.exit.autolinkEmail.call(this,t)}function NW(t){this.exit(t)}function OW(t){TW(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,RW],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),LW]],{ignore:["link","linkReference"]})}function RW(t,n,r,s,a){let c="";if(!DC(a)||(/^w/i.test(n)&&(r=n+r,n="",c="http://"),!DW(r)))return!1;const d=BW(r+s);if(!d[0])return!1;const m={type:"link",title:null,url:c+n+d[0],children:[{type:"text",value:n+d[0]}]};return d[1]?[m,{type:"text",value:d[1]}]:m}function LW(t,n,r,s){return!DC(s,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+r,children:[{type:"text",value:n+"@"+r}]}}function DW(t){const n=t.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}function BW(t){const n=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!n)return[t,void 0];t=t.slice(0,n.index);let r=n[0],s=r.indexOf(")");const a=OE(t,"(");let c=OE(t,")");for(;s!==-1&&a>c;)t+=r.slice(0,s+1),r=r.slice(s+1),s=r.indexOf(")"),c++;return[t,r]}function DC(t,n){const r=t.input.charCodeAt(t.index-1);return(t.index===0||hf(r)||C6(r))&&(!n||r!==47)}BC.peek=WW;function PW(){this.buffer()}function FW(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function UW(){this.buffer()}function zW(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function HW(t){const n=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Mu(this.sliceSerialize(t)).toLowerCase(),r.label=n}function VW(t){this.exit(t)}function GW(t){const n=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Mu(this.sliceSerialize(t)).toLowerCase(),r.label=n}function qW(t){this.exit(t)}function WW(){return"["}function BC(t,n,r,s){const a=r.createTracker(s);let c=a.move("[^");const d=r.enter("footnoteReference"),m=r.enter("reference");return c+=a.move(r.safe(r.associationId(t),{after:"]",before:c})),m(),d(),c+=a.move("]"),c}function jW(){return{enter:{gfmFootnoteCallString:PW,gfmFootnoteCall:FW,gfmFootnoteDefinitionLabelString:UW,gfmFootnoteDefinition:zW},exit:{gfmFootnoteCallString:HW,gfmFootnoteCall:VW,gfmFootnoteDefinitionLabelString:GW,gfmFootnoteDefinition:qW}}}function XW(t){let n=!1;return t&&t.firstLineBlank&&(n=!0),{handlers:{footnoteDefinition:r,footnoteReference:BC},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(s,a,c,d){const m=c.createTracker(d);let $=m.move("[^");const v=c.enter("footnoteDefinition"),_=c.enter("label");return $+=m.move(c.safe(c.associationId(s),{before:$,after:"]"})),_(),$+=m.move("]:"),s.children&&s.children.length>0&&(m.shift(4),$+=m.move((n?`
`:" ")+c.indentLines(c.containerFlow(s,m.current()),n?PC:YW))),v(),$}}function YW(t,n,r){return n===0?t:PC(t,n,r)}function PC(t,n,r){return(r?"":"    ")+t}const KW=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];FC.peek=tj;function JW(){return{canContainEols:["delete"],enter:{strikethrough:QW},exit:{strikethrough:ej}}}function ZW(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:KW}],handlers:{delete:FC}}}function QW(t){this.enter({type:"delete",children:[]},t)}function ej(t){this.exit(t)}function FC(t,n,r,s){const a=r.createTracker(s),c=r.enter("strikethrough");let d=a.move("~~");return d+=r.containerPhrasing(t,{...a.current(),before:d,after:"~"}),d+=a.move("~~"),c(),d}function tj(){return"~"}function nj(t){return t.length}function rj(t,n){const r=n||{},s=(r.align||[]).concat(),a=r.stringLength||nj,c=[],d=[],m=[],$=[];let v=0,_=-1;for(;++_<t.length;){const G=[],X=[];let R=-1;for(t[_].length>v&&(v=t[_].length);++R<t[_].length;){const W=ij(t[_][R]);if(r.alignDelimiters!==!1){const te=a(W);X[R]=te,($[R]===void 0||te>$[R])&&($[R]=te)}G.push(W)}d[_]=G,m[_]=X}let T=-1;if(typeof s=="object"&&"length"in s)for(;++T<v;)c[T]=RE(s[T]);else{const G=RE(s);for(;++T<v;)c[T]=G}T=-1;const S=[],k=[];for(;++T<v;){const G=c[T];let X="",R="";G===99?(X=":",R=":"):G===108?X=":":G===114&&(R=":");let W=r.alignDelimiters===!1?1:Math.max(1,$[T]-X.length-R.length);const te=X+"-".repeat(W)+R;r.alignDelimiters!==!1&&(W=X.length+W+R.length,W>$[T]&&($[T]=W),k[T]=W),S[T]=te}d.splice(1,0,S),m.splice(1,0,k),_=-1;const P=[];for(;++_<d.length;){const G=d[_],X=m[_];T=-1;const R=[];for(;++T<v;){const W=G[T]||"";let te="",ie="";if(r.alignDelimiters!==!1){const se=$[T]-(X[T]||0),Y=c[T];Y===114?te=" ".repeat(se):Y===99?se%2?(te=" ".repeat(se/2+.5),ie=" ".repeat(se/2-.5)):(te=" ".repeat(se/2),ie=te):ie=" ".repeat(se)}r.delimiterStart!==!1&&!T&&R.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&W==="")&&(r.delimiterStart!==!1||T)&&R.push(" "),r.alignDelimiters!==!1&&R.push(te),R.push(W),r.alignDelimiters!==!1&&R.push(ie),r.padding!==!1&&R.push(" "),(r.delimiterEnd!==!1||T!==v-1)&&R.push("|")}P.push(r.delimiterEnd===!1?R.join("").replace(/ +$/,""):R.join(""))}return P.join(`
`)}function ij(t){return t==null?"":String(t)}function RE(t){const n=typeof t=="string"?t.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}function sj(t,n,r,s){const a=r.enter("blockquote"),c=r.createTracker(s);c.move("> "),c.shift(2);const d=r.indentLines(r.containerFlow(t,c.current()),oj);return a(),d}function oj(t,n,r){return">"+(r?"":" ")+t}function lj(t,n){return LE(t,n.inConstruct,!0)&&!LE(t,n.notInConstruct,!1)}function LE(t,n,r){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return r;let s=-1;for(;++s<n.length;)if(t.includes(n[s]))return!0;return!1}function DE(t,n,r,s){let a=-1;for(;++a<r.unsafe.length;)if(r.unsafe[a].character===`
`&&lj(r.stack,r.unsafe[a]))return/[ \t]/.test(s.before)?"":" ";return`\\
`}function aj(t,n){return!!(n.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function uj(t){const n=t.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}function cj(t,n,r,s){const a=uj(r),c=t.value||"",d=a==="`"?"GraveAccent":"Tilde";if(aj(t,r)){const T=r.enter("codeIndented"),S=r.indentLines(c,hj);return T(),S}const m=r.createTracker(s),$=a.repeat(Math.max(Ok(c,a)+1,3)),v=r.enter("codeFenced");let _=m.move($);if(t.lang){const T=r.enter(`codeFencedLang${d}`);_+=m.move(r.safe(t.lang,{before:_,after:" ",encode:["`"],...m.current()})),T()}if(t.lang&&t.meta){const T=r.enter(`codeFencedMeta${d}`);_+=m.move(" "),_+=m.move(r.safe(t.meta,{before:_,after:`
`,encode:["`"],...m.current()})),T()}return _+=m.move(`
`),c&&(_+=m.move(c+`
`)),_+=m.move($),v(),_}function hj(t,n,r){return(r?"":"    ")+t}function W$(t){const n=t.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}function dj(t,n,r,s){const a=W$(r),c=a==='"'?"Quote":"Apostrophe",d=r.enter("definition");let m=r.enter("label");const $=r.createTracker(s);let v=$.move("[");return v+=$.move(r.safe(r.associationId(t),{before:v,after:"]",...$.current()})),v+=$.move("]: "),m(),!t.url||/[\0- \u007F]/.test(t.url)?(m=r.enter("destinationLiteral"),v+=$.move("<"),v+=$.move(r.safe(t.url,{before:v,after:">",...$.current()})),v+=$.move(">")):(m=r.enter("destinationRaw"),v+=$.move(r.safe(t.url,{before:v,after:t.title?" ":`
`,...$.current()}))),m(),t.title&&(m=r.enter(`title${c}`),v+=$.move(" "+a),v+=$.move(r.safe(t.title,{before:v,after:a,...$.current()})),v+=$.move(a),m()),d(),v}function fj(t){const n=t.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}function Em(t){return"&#x"+t.toString(16).toUpperCase()+";"}function W5(t,n,r){const s=m2(t),a=m2(n);return s===void 0?a===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:s===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}UC.peek=pj;function UC(t,n,r,s){const a=fj(r),c=r.enter("emphasis"),d=r.createTracker(s),m=d.move(a);let $=d.move(r.containerPhrasing(t,{after:a,before:m,...d.current()}));const v=$.charCodeAt(0),_=W5(s.before.charCodeAt(s.before.length-1),v,a);_.inside&&($=Em(v)+$.slice(1));const T=$.charCodeAt($.length-1),S=W5(s.after.charCodeAt(0),T,a);S.inside&&($=$.slice(0,-1)+Em(T));const k=d.move(a);return c(),r.attentionEncodeSurroundingInfo={after:S.outside,before:_.outside},m+$+k}function pj(t,n,r){return r.options.emphasis||"*"}function mj(t,n){let r=!1;return E$(t,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||s.type==="break")return r=!0,Ug}),!!((!t.depth||t.depth<3)&&m$(t)&&(n.options.setext||r))}function gj(t,n,r,s){const a=Math.max(Math.min(6,t.depth||1),1),c=r.createTracker(s);if(mj(t,r)){const _=r.enter("headingSetext"),T=r.enter("phrasing"),S=r.containerPhrasing(t,{...c.current(),before:`
`,after:`
`});return T(),_(),S+`
`+(a===1?"=":"-").repeat(S.length-(Math.max(S.lastIndexOf("\r"),S.lastIndexOf(`
`))+1))}const d="#".repeat(a),m=r.enter("headingAtx"),$=r.enter("phrasing");c.move(d+" ");let v=r.containerPhrasing(t,{before:"# ",after:`
`,...c.current()});return/^[\t ]/.test(v)&&(v=Em(v.charCodeAt(0))+v.slice(1)),v=v?d+" "+v:d,r.options.closeAtx&&(v+=" "+d),$(),m(),v}zC.peek=$j;function zC(t){return t.value||""}function $j(){return"<"}HC.peek=vj;function HC(t,n,r,s){const a=W$(r),c=a==='"'?"Quote":"Apostrophe",d=r.enter("image");let m=r.enter("label");const $=r.createTracker(s);let v=$.move("![");return v+=$.move(r.safe(t.alt,{before:v,after:"]",...$.current()})),v+=$.move("]("),m(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(m=r.enter("destinationLiteral"),v+=$.move("<"),v+=$.move(r.safe(t.url,{before:v,after:">",...$.current()})),v+=$.move(">")):(m=r.enter("destinationRaw"),v+=$.move(r.safe(t.url,{before:v,after:t.title?" ":")",...$.current()}))),m(),t.title&&(m=r.enter(`title${c}`),v+=$.move(" "+a),v+=$.move(r.safe(t.title,{before:v,after:a,...$.current()})),v+=$.move(a),m()),v+=$.move(")"),d(),v}function vj(){return"!"}VC.peek=bj;function VC(t,n,r,s){const a=t.referenceType,c=r.enter("imageReference");let d=r.enter("label");const m=r.createTracker(s);let $=m.move("![");const v=r.safe(t.alt,{before:$,after:"]",...m.current()});$+=m.move(v+"]["),d();const _=r.stack;r.stack=[],d=r.enter("reference");const T=r.safe(r.associationId(t),{before:$,after:"]",...m.current()});return d(),r.stack=_,c(),a==="full"||!v||v!==T?$+=m.move(T+"]"):a==="shortcut"?$=$.slice(0,-1):$+=m.move("]"),$}function bj(){return"!"}GC.peek=yj;function GC(t,n,r){let s=t.value||"",a="`",c=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(s);)a+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++c<r.unsafe.length;){const d=r.unsafe[c],m=r.compilePattern(d);let $;if(d.atBreak)for(;$=m.exec(s);){let v=$.index;s.charCodeAt(v)===10&&s.charCodeAt(v-1)===13&&v--,s=s.slice(0,v)+" "+s.slice($.index+1)}}return a+s+a}function yj(){return"`"}function qC(t,n){const r=m$(t);return!!(!n.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(r===t.url||"mailto:"+r===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}WC.peek=_j;function WC(t,n,r,s){const a=W$(r),c=a==='"'?"Quote":"Apostrophe",d=r.createTracker(s);let m,$;if(qC(t,r)){const _=r.stack;r.stack=[],m=r.enter("autolink");let T=d.move("<");return T+=d.move(r.containerPhrasing(t,{before:T,after:">",...d.current()})),T+=d.move(">"),m(),r.stack=_,T}m=r.enter("link"),$=r.enter("label");let v=d.move("[");return v+=d.move(r.containerPhrasing(t,{before:v,after:"](",...d.current()})),v+=d.move("]("),$(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?($=r.enter("destinationLiteral"),v+=d.move("<"),v+=d.move(r.safe(t.url,{before:v,after:">",...d.current()})),v+=d.move(">")):($=r.enter("destinationRaw"),v+=d.move(r.safe(t.url,{before:v,after:t.title?" ":")",...d.current()}))),$(),t.title&&($=r.enter(`title${c}`),v+=d.move(" "+a),v+=d.move(r.safe(t.title,{before:v,after:a,...d.current()})),v+=d.move(a),$()),v+=d.move(")"),m(),v}function _j(t,n,r){return qC(t,r)?"<":"["}jC.peek=Tj;function jC(t,n,r,s){const a=t.referenceType,c=r.enter("linkReference");let d=r.enter("label");const m=r.createTracker(s);let $=m.move("[");const v=r.containerPhrasing(t,{before:$,after:"]",...m.current()});$+=m.move(v+"]["),d();const _=r.stack;r.stack=[],d=r.enter("reference");const T=r.safe(r.associationId(t),{before:$,after:"]",...m.current()});return d(),r.stack=_,c(),a==="full"||!v||v!==T?$+=m.move(T+"]"):a==="shortcut"?$=$.slice(0,-1):$+=m.move("]"),$}function Tj(){return"["}function j$(t){const n=t.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function Ej(t){const n=j$(t),r=t.options.bulletOther;if(!r)return n==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+r+"`) to be different");return r}function wj(t){const n=t.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}function XC(t){const n=t.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}function xj(t,n,r,s){const a=r.enter("list"),c=r.bulletCurrent;let d=t.ordered?wj(r):j$(r);const m=t.ordered?d==="."?")":".":Ej(r);let $=n&&r.bulletLastUsed?d===r.bulletLastUsed:!1;if(!t.ordered){const _=t.children?t.children[0]:void 0;if((d==="*"||d==="-")&&_&&(!_.children||!_.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&($=!0),XC(r)===d&&_){let T=-1;for(;++T<t.children.length;){const S=t.children[T];if(S&&S.type==="listItem"&&S.children&&S.children[0]&&S.children[0].type==="thematicBreak"){$=!0;break}}}}$&&(d=m),r.bulletCurrent=d;const v=r.containerFlow(t,s);return r.bulletLastUsed=d,r.bulletCurrent=c,a(),v}function Sj(t){const n=t.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function kj(t,n,r,s){const a=Sj(r);let c=r.bulletCurrent||j$(r);n&&n.type==="list"&&n.ordered&&(c=(typeof n.start=="number"&&n.start>-1?n.start:1)+(r.options.incrementListMarker===!1?0:n.children.indexOf(t))+c);let d=c.length+1;(a==="tab"||a==="mixed"&&(n&&n.type==="list"&&n.spread||t.spread))&&(d=Math.ceil(d/4)*4);const m=r.createTracker(s);m.move(c+" ".repeat(d-c.length)),m.shift(d);const $=r.enter("listItem"),v=r.indentLines(r.containerFlow(t,m.current()),_);return $(),v;function _(T,S,k){return S?(k?"":" ".repeat(d))+T:(k?c:c+" ".repeat(d-c.length))+T}}function Cj(t,n,r,s){const a=r.enter("paragraph"),c=r.enter("phrasing"),d=r.containerPhrasing(t,s);return c(),a(),d}const Aj=Dm(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Ij(t,n,r,s){return(t.children.some(function(d){return Aj(d)})?r.containerPhrasing:r.containerFlow).call(r,t,s)}function Mj(t){const n=t.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}YC.peek=Nj;function YC(t,n,r,s){const a=Mj(r),c=r.enter("strong"),d=r.createTracker(s),m=d.move(a+a);let $=d.move(r.containerPhrasing(t,{after:a,before:m,...d.current()}));const v=$.charCodeAt(0),_=W5(s.before.charCodeAt(s.before.length-1),v,a);_.inside&&($=Em(v)+$.slice(1));const T=$.charCodeAt($.length-1),S=W5(s.after.charCodeAt(0),T,a);S.inside&&($=$.slice(0,-1)+Em(T));const k=d.move(a+a);return c(),r.attentionEncodeSurroundingInfo={after:S.outside,before:_.outside},m+$+k}function Nj(t,n,r){return r.options.strong||"*"}function Oj(t,n,r,s){return r.safe(t.value,s)}function Rj(t){const n=t.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}function Lj(t,n,r){const s=(XC(r)+(r.options.ruleSpaces?" ":"")).repeat(Rj(r));return r.options.ruleSpaces?s.slice(0,-1):s}const KC={blockquote:sj,break:DE,code:cj,definition:dj,emphasis:UC,hardBreak:DE,heading:gj,html:zC,image:HC,imageReference:VC,inlineCode:GC,link:WC,linkReference:jC,list:xj,listItem:kj,paragraph:Cj,root:Ij,strong:YC,text:Oj,thematicBreak:Lj};function Dj(){return{enter:{table:Bj,tableData:BE,tableHeader:BE,tableRow:Fj},exit:{codeText:Uj,table:Pj,tableData:hg,tableHeader:hg,tableRow:hg}}}function Bj(t){const n=t._align;this.enter({type:"table",align:n.map(function(r){return r==="none"?null:r}),children:[]},t),this.data.inTable=!0}function Pj(t){this.exit(t),this.data.inTable=void 0}function Fj(t){this.enter({type:"tableRow",children:[]},t)}function hg(t){this.exit(t)}function BE(t){this.enter({type:"tableCell",children:[]},t)}function Uj(t){let n=this.resume();this.data.inTable&&(n=n.replace(/\\([\\|])/g,zj));const r=this.stack[this.stack.length-1];r.type,r.value=n,this.exit(t)}function zj(t,n){return n==="|"?n:t}function Hj(t){const n=t||{},r=n.tableCellPadding,s=n.tablePipeAlign,a=n.stringLength,c=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:S,table:d,tableCell:$,tableRow:m}};function d(k,P,G,X){return v(_(k,G,X),k.align)}function m(k,P,G,X){const R=T(k,G,X),W=v([R]);return W.slice(0,W.indexOf(`
`))}function $(k,P,G,X){const R=G.enter("tableCell"),W=G.enter("phrasing"),te=G.containerPhrasing(k,{...X,before:c,after:c});return W(),R(),te}function v(k,P){return rj(k,{align:P,alignDelimiters:s,padding:r,stringLength:a})}function _(k,P,G){const X=k.children;let R=-1;const W=[],te=P.enter("table");for(;++R<X.length;)W[R]=T(X[R],P,G);return te(),W}function T(k,P,G){const X=k.children;let R=-1;const W=[],te=P.enter("tableRow");for(;++R<X.length;)W[R]=$(X[R],k,P,G);return te(),W}function S(k,P,G){let X=KC.inlineCode(k,P,G);return G.stack.includes("tableCell")&&(X=X.replace(/\|/g,"\\$&")),X}}function Vj(){return{exit:{taskListCheckValueChecked:PE,taskListCheckValueUnchecked:PE,paragraph:qj}}}function Gj(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Wj}}}function PE(t){const n=this.stack[this.stack.length-2];n.type,n.checked=t.type==="taskListCheckValueChecked"}function qj(t){const n=this.stack[this.stack.length-2];if(n&&n.type==="listItem"&&typeof n.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const s=r.children[0];if(s&&s.type==="text"){const a=n.children;let c=-1,d;for(;++c<a.length;){const m=a[c];if(m.type==="paragraph"){d=m;break}}d===r&&(s.value=s.value.slice(1),s.value.length===0?r.children.shift():r.position&&s.position&&typeof s.position.start.offset=="number"&&(s.position.start.column++,s.position.start.offset++,r.position.start=Object.assign({},s.position.start)))}}this.exit(t)}function Wj(t,n,r,s){const a=t.children[0],c=typeof t.checked=="boolean"&&a&&a.type==="paragraph",d="["+(t.checked?"x":" ")+"] ",m=r.createTracker(s);c&&m.move(d);let $=KC.listItem(t,n,r,{...s,...m.current()});return c&&($=$.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,v)),$;function v(_){return _+d}}function jj(){return[SW(),jW(),JW(),Dj(),Vj()]}function Xj(t){return{extensions:[kW(),XW(t),ZW(),Hj(t),Gj()]}}const Yj={tokenize:tX,partial:!0},JC={tokenize:nX,partial:!0},ZC={tokenize:rX,partial:!0},QC={tokenize:iX,partial:!0},Kj={tokenize:sX,partial:!0},eA={name:"wwwAutolink",tokenize:Qj,previous:nA},tA={name:"protocolAutolink",tokenize:eX,previous:rA},Hh={name:"emailAutolink",tokenize:Zj,previous:iA},Ic={};function Jj(){return{text:Ic}}let ef=48;for(;ef<123;)Ic[ef]=Hh,ef++,ef===58?ef=65:ef===91&&(ef=97);Ic[43]=Hh;Ic[45]=Hh;Ic[46]=Hh;Ic[95]=Hh;Ic[72]=[Hh,tA];Ic[104]=[Hh,tA];Ic[87]=[Hh,eA];Ic[119]=[Hh,eA];function Zj(t,n,r){const s=this;let a,c;return d;function d(T){return!t9(T)||!iA.call(s,s.previous)||X$(s.events)?r(T):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),m(T))}function m(T){return t9(T)?(t.consume(T),m):T===64?(t.consume(T),$):r(T)}function $(T){return T===46?t.check(Kj,_,v)(T):T===45||T===95||Gl(T)?(c=!0,t.consume(T),$):_(T)}function v(T){return t.consume(T),a=!0,$}function _(T){return c&&a&&da(s.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),n(T)):r(T)}}function Qj(t,n,r){const s=this;return a;function a(d){return d!==87&&d!==119||!nA.call(s,s.previous)||X$(s.events)?r(d):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Yj,t.attempt(JC,t.attempt(ZC,c),r),r)(d))}function c(d){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),n(d)}}function eX(t,n,r){const s=this;let a="",c=!1;return d;function d(T){return(T===72||T===104)&&rA.call(s,s.previous)&&!X$(s.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),a+=String.fromCodePoint(T),t.consume(T),m):r(T)}function m(T){if(da(T)&&a.length<5)return a+=String.fromCodePoint(T),t.consume(T),m;if(T===58){const S=a.toLowerCase();if(S==="http"||S==="https")return t.consume(T),$}return r(T)}function $(T){return T===47?(t.consume(T),c?v:(c=!0,$)):r(T)}function v(T){return T===null||P5(T)||Ms(T)||hf(T)||C6(T)?r(T):t.attempt(JC,t.attempt(ZC,_),r)(T)}function _(T){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),n(T)}}function tX(t,n,r){let s=0;return a;function a(d){return(d===87||d===119)&&s<3?(s++,t.consume(d),a):d===46&&s===3?(t.consume(d),c):r(d)}function c(d){return d===null?r(d):n(d)}}function nX(t,n,r){let s,a,c;return d;function d(v){return v===46||v===95?t.check(QC,$,m)(v):v===null||Ms(v)||hf(v)||v!==45&&C6(v)?$(v):(c=!0,t.consume(v),d)}function m(v){return v===95?s=!0:(a=s,s=void 0),t.consume(v),d}function $(v){return a||s||!c?r(v):n(v)}}function rX(t,n){let r=0,s=0;return a;function a(d){return d===40?(r++,t.consume(d),a):d===41&&s<r?c(d):d===33||d===34||d===38||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===60||d===63||d===93||d===95||d===126?t.check(QC,n,c)(d):d===null||Ms(d)||hf(d)?n(d):(t.consume(d),a)}function c(d){return d===41&&s++,t.consume(d),a}}function iX(t,n,r){return s;function s(m){return m===33||m===34||m===39||m===41||m===42||m===44||m===46||m===58||m===59||m===63||m===95||m===126?(t.consume(m),s):m===38?(t.consume(m),c):m===93?(t.consume(m),a):m===60||m===null||Ms(m)||hf(m)?n(m):r(m)}function a(m){return m===null||m===40||m===91||Ms(m)||hf(m)?n(m):s(m)}function c(m){return da(m)?d(m):r(m)}function d(m){return m===59?(t.consume(m),s):da(m)?(t.consume(m),d):r(m)}}function sX(t,n,r){return s;function s(c){return t.consume(c),a}function a(c){return Gl(c)?r(c):n(c)}}function nA(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Ms(t)}function rA(t){return!da(t)}function iA(t){return!(t===47||t9(t))}function t9(t){return t===43||t===45||t===46||t===95||Gl(t)}function X$(t){let n=t.length,r=!1;for(;n--;){const s=t[n][1];if((s.type==="labelLink"||s.type==="labelImage")&&!s._balanced){r=!0;break}if(s._gfmAutolinkLiteralWalkedInto){r=!1;break}}return t.length>0&&!r&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const oX={tokenize:pX,partial:!0};function lX(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:hX,continuation:{tokenize:dX},exit:fX}},text:{91:{name:"gfmFootnoteCall",tokenize:cX},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:aX,resolveTo:uX}}}}function aX(t,n,r){const s=this;let a=s.events.length;const c=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let d;for(;a--;){const $=s.events[a][1];if($.type==="labelImage"){d=$;break}if($.type==="gfmFootnoteCall"||$.type==="labelLink"||$.type==="label"||$.type==="image"||$.type==="link")break}return m;function m($){if(!d||!d._balanced)return r($);const v=Mu(s.sliceSerialize({start:d.end,end:s.now()}));return v.codePointAt(0)!==94||!c.includes(v.slice(1))?r($):(t.enter("gfmFootnoteCallLabelMarker"),t.consume($),t.exit("gfmFootnoteCallLabelMarker"),n($))}}function uX(t,n){let r=t.length;for(;r--;)if(t[r][1].type==="labelImage"&&t[r][0]==="enter"){t[r][1];break}t[r+1][1].type="data",t[r+3][1].type="gfmFootnoteCallLabelMarker";const s={type:"gfmFootnoteCall",start:Object.assign({},t[r+3][1].start),end:Object.assign({},t[t.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},t[r+3][1].end),end:Object.assign({},t[r+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const c={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},t[t.length-1][1].start)},d={type:"chunkString",contentType:"string",start:Object.assign({},c.start),end:Object.assign({},c.end)},m=[t[r+1],t[r+2],["enter",s,n],t[r+3],t[r+4],["enter",a,n],["exit",a,n],["enter",c,n],["enter",d,n],["exit",d,n],["exit",c,n],t[t.length-2],t[t.length-1],["exit",s,n]];return t.splice(r,t.length-r+1,...m),t}function cX(t,n,r){const s=this,a=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let c=0,d;return m;function m(T){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(T),t.exit("gfmFootnoteCallLabelMarker"),$}function $(T){return T!==94?r(T):(t.enter("gfmFootnoteCallMarker"),t.consume(T),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",v)}function v(T){if(c>999||T===93&&!d||T===null||T===91||Ms(T))return r(T);if(T===93){t.exit("chunkString");const S=t.exit("gfmFootnoteCallString");return a.includes(Mu(s.sliceSerialize(S)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(T),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),n):r(T)}return Ms(T)||(d=!0),c++,t.consume(T),T===92?_:v}function _(T){return T===91||T===92||T===93?(t.consume(T),c++,v):v(T)}}function hX(t,n,r){const s=this,a=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let c,d=0,m;return $;function $(P){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(P),t.exit("gfmFootnoteDefinitionLabelMarker"),v}function v(P){return P===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(P),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",_):r(P)}function _(P){if(d>999||P===93&&!m||P===null||P===91||Ms(P))return r(P);if(P===93){t.exit("chunkString");const G=t.exit("gfmFootnoteDefinitionLabelString");return c=Mu(s.sliceSerialize(G)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(P),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),S}return Ms(P)||(m=!0),d++,t.consume(P),P===92?T:_}function T(P){return P===91||P===92||P===93?(t.consume(P),d++,_):_(P)}function S(P){return P===58?(t.enter("definitionMarker"),t.consume(P),t.exit("definitionMarker"),a.includes(c)||a.push(c),di(t,k,"gfmFootnoteDefinitionWhitespace")):r(P)}function k(P){return n(P)}}function dX(t,n,r){return t.check(Lm,n,t.attempt(oX,n,r))}function fX(t){t.exit("gfmFootnoteDefinition")}function pX(t,n,r){const s=this;return di(t,a,"gfmFootnoteDefinitionIndent",5);function a(c){const d=s.events[s.events.length-1];return d&&d[1].type==="gfmFootnoteDefinitionIndent"&&d[2].sliceSerialize(d[1],!0).length===4?n(c):r(c)}}function mX(t){let r=(t||{}).singleTilde;const s={name:"strikethrough",tokenize:c,resolveAll:a};return r==null&&(r=!0),{text:{126:s},insideSpan:{null:[s]},attentionMarkers:{null:[126]}};function a(d,m){let $=-1;for(;++$<d.length;)if(d[$][0]==="enter"&&d[$][1].type==="strikethroughSequenceTemporary"&&d[$][1]._close){let v=$;for(;v--;)if(d[v][0]==="exit"&&d[v][1].type==="strikethroughSequenceTemporary"&&d[v][1]._open&&d[$][1].end.offset-d[$][1].start.offset===d[v][1].end.offset-d[v][1].start.offset){d[$][1].type="strikethroughSequence",d[v][1].type="strikethroughSequence";const _={type:"strikethrough",start:Object.assign({},d[v][1].start),end:Object.assign({},d[$][1].end)},T={type:"strikethroughText",start:Object.assign({},d[v][1].end),end:Object.assign({},d[$][1].start)},S=[["enter",_,m],["enter",d[v][1],m],["exit",d[v][1],m],["enter",T,m]],k=m.parser.constructs.insideSpan.null;k&&s0(S,S.length,0,A6(k,d.slice(v+1,$),m)),s0(S,S.length,0,[["exit",T,m],["enter",d[$][1],m],["exit",d[$][1],m],["exit",_,m]]),s0(d,v-1,$-v+3,S),$=v+S.length-2;break}}for($=-1;++$<d.length;)d[$][1].type==="strikethroughSequenceTemporary"&&(d[$][1].type="data");return d}function c(d,m,$){const v=this.previous,_=this.events;let T=0;return S;function S(P){return v===126&&_[_.length-1][1].type!=="characterEscape"?$(P):(d.enter("strikethroughSequenceTemporary"),k(P))}function k(P){const G=m2(v);if(P===126)return T>1?$(P):(d.consume(P),T++,k);if(T<2&&!r)return $(P);const X=d.exit("strikethroughSequenceTemporary"),R=m2(P);return X._open=!R||R===2&&!!G,X._close=!G||G===2&&!!R,m(P)}}}class gX{constructor(){this.map=[]}add(n,r,s){$X(this,n,r,s)}consume(n){if(this.map.sort(function(c,d){return c[0]-d[0]}),this.map.length===0)return;let r=this.map.length;const s=[];for(;r>0;)r-=1,s.push(n.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),n.length=this.map[r][0];s.push(n.slice()),n.length=0;let a=s.pop();for(;a;){for(const c of a)n.push(c);a=s.pop()}this.map.length=0}}function $X(t,n,r,s){let a=0;if(!(r===0&&s.length===0)){for(;a<t.map.length;){if(t.map[a][0]===n){t.map[a][1]+=r,t.map[a][2].push(...s);return}a+=1}t.map.push([n,r,s])}}function vX(t,n){let r=!1;const s=[];for(;n<t.length;){const a=t[n];if(r){if(a[0]==="enter")a[1].type==="tableContent"&&s.push(t[n+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(t[n-1][1].type==="tableDelimiterMarker"){const c=s.length-1;s[c]=s[c]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(r=!0);n+=1}return s}function bX(){return{flow:{null:{name:"table",tokenize:yX,resolveAll:_X}}}}function yX(t,n,r){const s=this;let a=0,c=0,d;return m;function m(Ue){let it=s.events.length-1;for(;it>-1;){const Oe=s.events[it][1].type;if(Oe==="lineEnding"||Oe==="linePrefix")it--;else break}const ze=it>-1?s.events[it][1].type:null,dt=ze==="tableHead"||ze==="tableRow"?Y:$;return dt===Y&&s.parser.lazy[s.now().line]?r(Ue):dt(Ue)}function $(Ue){return t.enter("tableHead"),t.enter("tableRow"),v(Ue)}function v(Ue){return Ue===124||(d=!0,c+=1),_(Ue)}function _(Ue){return Ue===null?r(Ue):or(Ue)?c>1?(c=0,s.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(Ue),t.exit("lineEnding"),k):r(Ue):Ti(Ue)?di(t,_,"whitespace")(Ue):(c+=1,d&&(d=!1,a+=1),Ue===124?(t.enter("tableCellDivider"),t.consume(Ue),t.exit("tableCellDivider"),d=!0,_):(t.enter("data"),T(Ue)))}function T(Ue){return Ue===null||Ue===124||Ms(Ue)?(t.exit("data"),_(Ue)):(t.consume(Ue),Ue===92?S:T)}function S(Ue){return Ue===92||Ue===124?(t.consume(Ue),T):T(Ue)}function k(Ue){return s.interrupt=!1,s.parser.lazy[s.now().line]?r(Ue):(t.enter("tableDelimiterRow"),d=!1,Ti(Ue)?di(t,P,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ue):P(Ue))}function P(Ue){return Ue===45||Ue===58?X(Ue):Ue===124?(d=!0,t.enter("tableCellDivider"),t.consume(Ue),t.exit("tableCellDivider"),G):se(Ue)}function G(Ue){return Ti(Ue)?di(t,X,"whitespace")(Ue):X(Ue)}function X(Ue){return Ue===58?(c+=1,d=!0,t.enter("tableDelimiterMarker"),t.consume(Ue),t.exit("tableDelimiterMarker"),R):Ue===45?(c+=1,R(Ue)):Ue===null||or(Ue)?ie(Ue):se(Ue)}function R(Ue){return Ue===45?(t.enter("tableDelimiterFiller"),W(Ue)):se(Ue)}function W(Ue){return Ue===45?(t.consume(Ue),W):Ue===58?(d=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(Ue),t.exit("tableDelimiterMarker"),te):(t.exit("tableDelimiterFiller"),te(Ue))}function te(Ue){return Ti(Ue)?di(t,ie,"whitespace")(Ue):ie(Ue)}function ie(Ue){return Ue===124?P(Ue):Ue===null||or(Ue)?!d||a!==c?se(Ue):(t.exit("tableDelimiterRow"),t.exit("tableHead"),n(Ue)):se(Ue)}function se(Ue){return r(Ue)}function Y(Ue){return t.enter("tableRow"),fe(Ue)}function fe(Ue){return Ue===124?(t.enter("tableCellDivider"),t.consume(Ue),t.exit("tableCellDivider"),fe):Ue===null||or(Ue)?(t.exit("tableRow"),n(Ue)):Ti(Ue)?di(t,fe,"whitespace")(Ue):(t.enter("data"),Ie(Ue))}function Ie(Ue){return Ue===null||Ue===124||Ms(Ue)?(t.exit("data"),fe(Ue)):(t.consume(Ue),Ue===92?De:Ie)}function De(Ue){return Ue===92||Ue===124?(t.consume(Ue),Ie):Ie(Ue)}}function _X(t,n){let r=-1,s=!0,a=0,c=[0,0,0,0],d=[0,0,0,0],m=!1,$=0,v,_,T;const S=new gX;for(;++r<t.length;){const k=t[r],P=k[1];k[0]==="enter"?P.type==="tableHead"?(m=!1,$!==0&&(FE(S,n,$,v,_),_=void 0,$=0),v={type:"table",start:Object.assign({},P.start),end:Object.assign({},P.end)},S.add(r,0,[["enter",v,n]])):P.type==="tableRow"||P.type==="tableDelimiterRow"?(s=!0,T=void 0,c=[0,0,0,0],d=[0,r+1,0,0],m&&(m=!1,_={type:"tableBody",start:Object.assign({},P.start),end:Object.assign({},P.end)},S.add(r,0,[["enter",_,n]])),a=P.type==="tableDelimiterRow"?2:_?3:1):a&&(P.type==="data"||P.type==="tableDelimiterMarker"||P.type==="tableDelimiterFiller")?(s=!1,d[2]===0&&(c[1]!==0&&(d[0]=d[1],T=Y3(S,n,c,a,void 0,T),c=[0,0,0,0]),d[2]=r)):P.type==="tableCellDivider"&&(s?s=!1:(c[1]!==0&&(d[0]=d[1],T=Y3(S,n,c,a,void 0,T)),c=d,d=[c[1],r,0,0])):P.type==="tableHead"?(m=!0,$=r):P.type==="tableRow"||P.type==="tableDelimiterRow"?($=r,c[1]!==0?(d[0]=d[1],T=Y3(S,n,c,a,r,T)):d[1]!==0&&(T=Y3(S,n,d,a,r,T)),a=0):a&&(P.type==="data"||P.type==="tableDelimiterMarker"||P.type==="tableDelimiterFiller")&&(d[3]=r)}for($!==0&&FE(S,n,$,v,_),S.consume(n.events),r=-1;++r<n.events.length;){const k=n.events[r];k[0]==="enter"&&k[1].type==="table"&&(k[1]._align=vX(n.events,r))}return t}function Y3(t,n,r,s,a,c){const d=s===1?"tableHeader":s===2?"tableDelimiter":"tableData",m="tableContent";r[0]!==0&&(c.end=Object.assign({},e2(n.events,r[0])),t.add(r[0],0,[["exit",c,n]]));const $=e2(n.events,r[1]);if(c={type:d,start:Object.assign({},$),end:Object.assign({},$)},t.add(r[1],0,[["enter",c,n]]),r[2]!==0){const v=e2(n.events,r[2]),_=e2(n.events,r[3]),T={type:m,start:Object.assign({},v),end:Object.assign({},_)};if(t.add(r[2],0,[["enter",T,n]]),s!==2){const S=n.events[r[2]],k=n.events[r[3]];if(S[1].end=Object.assign({},k[1].end),S[1].type="chunkText",S[1].contentType="text",r[3]>r[2]+1){const P=r[2]+1,G=r[3]-r[2]-1;t.add(P,G,[])}}t.add(r[3]+1,0,[["exit",T,n]])}return a!==void 0&&(c.end=Object.assign({},e2(n.events,a)),t.add(a,0,[["exit",c,n]]),c=void 0),c}function FE(t,n,r,s,a){const c=[],d=e2(n.events,r);a&&(a.end=Object.assign({},d),c.push(["exit",a,n])),s.end=Object.assign({},d),c.push(["exit",s,n]),t.add(r+1,0,c)}function e2(t,n){const r=t[n],s=r[0]==="enter"?"start":"end";return r[1][s]}const TX={name:"tasklistCheck",tokenize:wX};function EX(){return{text:{91:TX}}}function wX(t,n,r){const s=this;return a;function a($){return s.previous!==null||!s._gfmTasklistFirstContentOfListItem?r($):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume($),t.exit("taskListCheckMarker"),c)}function c($){return Ms($)?(t.enter("taskListCheckValueUnchecked"),t.consume($),t.exit("taskListCheckValueUnchecked"),d):$===88||$===120?(t.enter("taskListCheckValueChecked"),t.consume($),t.exit("taskListCheckValueChecked"),d):r($)}function d($){return $===93?(t.enter("taskListCheckMarker"),t.consume($),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),m):r($)}function m($){return or($)?n($):Ti($)?t.check({tokenize:xX},n,r)($):r($)}}function xX(t,n,r){return di(t,s,"whitespace");function s(a){return a===null?r(a):n(a)}}function SX(t){return dk([Jj(),lX(),mX(t),bX(),EX()])}const kX={};function CX(t){const n=this,r=t||kX,s=n.data(),a=s.micromarkExtensions||(s.micromarkExtensions=[]),c=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),d=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);a.push(SX(r)),c.push(jj()),d.push(Xj(r))}function AX({title:t,content:n,isCollapsed:r,onToggle:s}){return ge.jsxs("div",{className:`
        relative flex flex-col flex-shrink-0 bg-white border-r border-slate-200 shadow-[4px_0_24px_rgba(0,0,0,0.05)]
        transition-all duration-300 ease-in-out 
        z-50  /* <--- Augmentation drastique du z-index pour passer au-dessus de Blockly */
        ${r?"w-12":"w-96"}
      `,children:[ge.jsx("button",{onClick:s,className:`absolute -right-3 top-6 z-50 w-6 h-6 flex items-center justify-center 
                   bg-white border border-slate-200 rounded-full shadow-md text-slate-500 
                   hover:text-blue-600 hover:scale-110 transition-all cursor-pointer`,title:r?"Ouvrir":"Fermer",children:ge.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:`w-3 h-3 transition-transform ${r?"rotate-180":""}`,children:ge.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),!r&&ge.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[ge.jsx("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 backdrop-blur-sm",children:ge.jsxs("h2",{className:"m-0 text-xl font-bold text-slate-800 flex items-center gap-2",children:[ge.jsx("span",{className:"text-2xl",children:""})," ",t||"Mission"]})}),ge.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:ge.jsxs("div",{className:"prose prose-slate prose-p:text-slate-600 prose-headings:text-slate-800 prose-strong:text-indigo-600 prose-code:text-pink-500 prose-code:bg-pink-50 prose-code:px-1 prose-code:rounded prose-table:border-collapse prose-th:border prose-th:border-slate-200 prose-th:p-2 prose-td:border prose-td:border-slate-200 prose-td:p-2 text-sm leading-relaxed",children:["              ",n?ge.jsx(CV,{remarkPlugins:[Hq,CX],rehypePlugins:[yW],children:n}):ge.jsx("p",{className:"text-slate-400 italic text-center mt-10",children:"Aucune consigne pour ce niveau."})]})})]}),r&&ge.jsx("div",{onClick:s,className:"h-full flex items-center justify-center cursor-pointer hover:bg-slate-50 transition-colors",children:ge.jsxs("div",{className:"writing-vertical-rl rotate-180 font-bold text-slate-400 tracking-widest text-xs uppercase flex items-center gap-2",children:[ge.jsx("span",{children:"CONSIGNE"}),ge.jsx("span",{className:"text-lg",children:""})]})}),ge.jsx("style",{children:`
        .writing-vertical-rl { writing-mode: vertical-rl; }
        /* Scrollbar fine pour Chrome/Safari/Edge */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 20px; }
      `})]})}const IX=()=>{Zi.forBlock.equation_op_both=t=>{const n=t.getFieldValue("OP"),r=Zi.valueToCode(t,"VAL",Zi.ORDER_ATOMIC)||"0";return`# Opration sur les deux membres
equation.appliquer('${{ADD:"+",SUB:"-",MUL:"*",DIV:"/"}[n]}', ${r})
`},Zi.forBlock.equation_term_x=t=>[`"${t.getFieldValue("COEFF")}*x"`,Zi.ORDER_ATOMIC],Zi.forBlock.equation_verify=t=>`equation.verifier(${Zi.valueToCode(t,"VAL",Zi.ORDER_ATOMIC)||"0"})
`,Zi.forBlock.equation_solution_state=t=>`equation.conclure('${t.getFieldValue("STATE")==="NO_SOLUTION"?"pas_de_solution":"infinite_solutions"}')
`,Zi.forBlock.maze_move_forward=()=>`robot.avancer()
`,Zi.forBlock.maze_turn=t=>`robot.pivoter('${t.getFieldValue("DIR")==="LEFT"?"gauche":"droite"}')
`,Zi.forBlock.maze_forever=t=>`while not robot.est_arrive():
${Zi.statementToCode(t,"DO")||`  pass
`}`,Zi.forBlock.maze_if=t=>`if robot.chemin_disponible('${t.getFieldValue("DIR")}'):
${Zi.statementToCode(t,"DO")||`  pass
`}`,Zi.forBlock.maze_if_else=t=>`if robot.chemin_disponible('${t.getFieldValue("DIR")}'):
${Zi.statementToCode(t,"DO")||`  pass
`}else:
${Zi.statementToCode(t,"ELSE")||`  pass
`}`,Zi.forBlock.turtle_move=t=>`tortue.avancer(${Zi.valueToCode(t,"VALUE",Zi.ORDER_NONE)||"0"})
`,Zi.forBlock.turtle_turn=t=>t.getFieldValue("DIR")==="LEFT"?`tortue.gauche(${Zi.valueToCode(t,"VALUE",Zi.ORDER_NONE)||"0"})
`:`tortue.droite(${Zi.valueToCode(t,"VALUE",Zi.ORDER_NONE)||"0"})
`,Zi.forBlock.turtle_pen=t=>t.getFieldValue("STATE")==="UP"?`tortue.lever_stylo()
`:`tortue.baisser_stylo()
`,Zi.forBlock.turtle_color=t=>`tortue.couleur('${t.getFieldValue("COLOR")}')
`,Zi.forBlock.text_print=t=>`print(${Zi.valueToCode(t,"TEXT",Zi.ORDER_NONE)||"''"})
`},MX=(t,n)=>{const r=new Date().getHours(),s=`LVL:${t}|ST:${n.stars}|BL:${n.blocks}`;let a=0;for(let c=0;c<s.length;c++){const d=s.charCodeAt(c);a=(a<<5)-a+d+r,a=a&a}return`${s}|#${Math.abs(a).toString(16)}`};function NX(t,n,r){const[s,a]=vn.useState(50),[c,d]=vn.useState(null),[m,$]=vn.useState("IDLE"),[v,_]=vn.useState([]),[T,S]=vn.useState({stars:0,blockCount:0,target:0}),[k,P]=vn.useState(""),[G,X]=vn.useState(null),[R,W]=vn.useState(0),[te,ie]=vn.useState(0),se=vn.useRef(null),Y=vn.useRef([]),fe=vn.useRef(0),Ie=vn.useRef(null);vn.useEffect(()=>{if(!r.solutionBlocks||n.id!=="TURTLE"){_([]);return}const Fe=setTimeout(()=>{try{const et=new $I,_e=GE.xml.textToDom(r.solutionBlocks);VE.domToWorkspace(_e,et),Ln.init(et);const Ct=Ln.workspaceToCode(et),$t=[];new Function("actions",Ct)($t);let qt=null;$t.forEach(ln=>{qt=n.executeStep(qt,ln,r).newState}),qt?.lines&&_(qt.lines),et.dispose()}catch(et){console.error("Erreur modle:",et)}},50);return()=>clearTimeout(Fe)},[r.solutionBlocks,n,r]);const De=vn.useCallback(()=>n.executeStep(null,null,r).newState,[n,r]),Ue=vn.useCallback(Fe=>{const et=r.maxBlocks||5;let _e=1;Fe<=et?_e=3:Fe<=Math.ceil(et*1.5)&&(_e=2),S({stars:_e,blockCount:Fe,target:et});const Ct=MX(r.id||1,{stars:_e,blocks:Fe});P(Ct),$("WON")},[r]),it=vn.useCallback(()=>{S({stars:0,blockCount:t.current?.getAllBlocks(!1).length||0,target:r.maxBlocks}),$("FAILED")},[r]),ze=vn.useCallback(()=>{se.current&&clearTimeout(se.current),$("IDLE"),d(null),X(null),Ie.current=null,fe.current=0,W(0),t.current&&t.current.highlightBlock(null)},[t]),dt=vn.useCallback(()=>{Y.current=[],ie(0),ze()},[ze]),Oe=vn.useCallback(()=>{const Fe=Y.current,et=fe.current;if(et>=Fe.length)return!1;const _e=Fe[et];if(X({..._e,_uid:et}),W(et+1),_e.id&&t.current&&t.current.highlightBlock(_e.id),_e.type==="SCAN")return fe.current+=1,!0;const Ct=n.executeStep(Ie.current,_e,r);if(Ie.current=Ct.newState,d(Ct.newState),fe.current+=1,Ct.status==="WIN"){const $t=r.type==="EQUATION"?3e3:500;return setTimeout(()=>Ue(t.current.getAllBlocks(!1).length),$t),!1}else if(Ct.status==="LOST")return setTimeout(()=>$("LOST"),500),!1;if(fe.current>=Fe.length){t.current&&t.current.highlightBlock(null);const $t=r.type==="EQUATION"?3e3:500;return setTimeout(()=>{let qt=!1;n.checkVictory&&(qt=n.checkVictory(Ie.current,r,v)),qt?Ue(t.current.getAllBlocks(!1).length):it()},$t),!1}return!0},[n,r,v,Ue,it,t]),rt=vn.useCallback(()=>{if(Oe()){let et=Math.max(5,(100-s)*10);r.type==="EQUATION"&&(et=Math.max(et,3e3));const _e=Y.current[fe.current-1];_e&&_e.type==="SCAN"&&(et=Math.max(et,500)),se.current=setTimeout(rt,et)}},[Oe,s,r.type]),Pe=vn.useCallback(Fe=>{if(se.current&&clearTimeout(se.current),$("PAUSED"),Fe<=0){d(null),X(null),Ie.current=null,fe.current=0,W(0),t.current&&t.current.highlightBlock(null);return}let et=De();const _e=Y.current;for(let Ct=0;Ct<Fe&&!(Ct>=_e.length);Ct++){const $t=_e[Ct];et=n.executeStep(et,$t,r).newState,Ct===Fe-1&&($t.id&&t.current&&t.current.highlightBlock($t.id),X($t))}Ie.current=et,d(et),fe.current=Fe,W(Fe)},[De,n,r,t]),nt=vn.useCallback(()=>{if(!t.current)return!1;Ln.init(t.current);const Fe=Ln.workspaceToCode(t.current);let et="";r.inputs&&Object.entries(r.inputs).forEach(([ln,En])=>et+=`var ${ln} = ${JSON.stringify(En)};
`);let _e={x:r.startPos.x,y:r.startPos.y,dir:r.startPos.dir!==void 0?r.startPos.dir:0},Ct=0;const $t=1e3,qt={move:()=>{let ln=_e.x,En=_e.y;_e.dir===0?ln++:_e.dir===1?En++:_e.dir===2?ln--:_e.dir===3&&En--,Vl.checkMove(r.grid,ln,En)!=="WALL"&&(_e.x=ln,_e.y=En)},turn:ln=>{const En=ln;_e.dir=En==="LEFT"?(_e.dir+3)%4:(_e.dir+1)%4},isPath:ln=>Vl.look(r.grid,_e.x,_e.y,_e.dir,ln),isDone:()=>Vl.checkMove(r.grid,_e.x,_e.y)==="WIN",safeCheck:()=>(Ct++,!(Ct>$t))};try{const ln=[];return new Function("actions","api",et+Fe)(ln,qt),Y.current=ln,ie(ln.length),!0}catch(ln){return alert("Erreur excution : "+ln.message),!1}},[t,r]),ot=vn.useCallback(()=>{if(m==="PAUSED"){$("RUNNING"),rt();return}ze(),setTimeout(()=>{nt()&&($("RUNNING"),rt())},0)},[rt,ze,m,nt]),Lt=vn.useCallback(()=>{se.current&&clearTimeout(se.current),$("PAUSED")},[]),de=vn.useCallback(()=>{m==="IDLE"||m==="WON"||m==="FAILED"||m==="LOST"?(ze(),setTimeout(()=>{nt()&&($("PAUSED"),Oe())},0)):(m==="RUNNING"&&Lt(),Oe(),m!=="WON"&&m!=="FAILED"&&m!=="LOST"&&$("PAUSED"))},[m,Oe,Lt,nt,ze]);return{speed:s,setSpeed:a,engineState:c,gameState:m,solutionLines:v,gameStats:T,proofToken:k,run:ot,reset:ze,pause:Lt,stepForward:de,lastAction:G,currentStep:R,totalSteps:te,goToStep:Pe,clearSimulation:dt}}const OX={MAZE:jE,MATH:DI,TURTLE:PI,EQUATION:yF},RX={collapse:!0,comments:!0,disable:!0,maxBlocks:1/0,trashcan:!0,horizontalLayout:!1,toolboxPosition:"start",css:!0,media:"https://blockly-demo.appspot.com/static/media/",rtl:!1,scrollbars:!0,oneBasedIndex:!0,zoom:{controls:!0,wheel:!0,startScale:1}};function LX({levelData:t,onWin:n,levelIndex:r,onNextLevel:s}){const a=OX[t?.type]||jE,c=a.RenderComponent,[d,m]=vn.useState(!0),[$,v]=vn.useState(!1),[_,T]=vn.useState(""),[S,k]=vn.useState(!1),[P,G]=vn.useState(40),[X,R]=vn.useState(!1),W=vn.useRef(null),te=vn.useRef(null),ie=vn.useRef(null),se=vn.useMemo(()=>({...t,grid:t?.grid||Vl.defaultGrid,startPos:{x:Number(t?.startPos?.x)||0,y:Number(t?.startPos?.y)||0,dir:Number(t?.startPos?.dir)||0},solutionBlocks:t?.solutionBlocks||null,allowedBlocks:t?.allowedBlocks,inputs:t?.inputs,hiddenVars:t?.hiddenVars,lockedVars:t?.lockedVars,id:t?.id,instruction:t?.instruction,startBlocks:t?.startBlocks,maxBlocks:t?.maxBlocks}),[t]),{speed:Y,setSpeed:fe,engineState:Ie,gameState:De,solutionLines:Ue,gameStats:it,proofToken:ze,run:dt,reset:Oe,pause:rt,stepForward:Pe,lastAction:nt,currentStep:ot,totalSteps:Lt,goToStep:de,clearSimulation:Fe}=NX(W,a,se),et=vn.useMemo(()=>({x:se.startPos.x,y:se.startPos.y,dir:se.startPos.dir}),[se.startPos]);vn.useEffect(()=>{De==="WON"&&n&&n(it)},[De,n,it]),vn.useEffect(()=>{const St=setTimeout(()=>{try{r9(),IX(),k(!0)}catch{}},10);return()=>clearTimeout(St)},[]);const _e=vn.useMemo(()=>{const St=a.getToolboxXML(se.allowedBlocks,se.inputs,se.hiddenVars,se.lockedVars);return St.xml||St},[a,se]),Ct=()=>{if(W.current)try{const St=Zi.workspaceToCode(W.current);T(St||"# Ajoute des blocs pour voir le code...")}catch(St){T("# Erreur gnration : "+St.message)}},$t=St=>{if(W.current=St,Ln.init(St),St.addChangeListener(Ut=>{Ut.type===kb.UI||Ut.type===kb.FINISHED_LOADING||(Fe(),$&&Ct())}),St.updateToolbox(_e),se.startBlocks)try{const Ut=GE.xml.textToDom(se.startBlocks);VE.domToWorkspace(Ut,St)}catch{}window.setTimeout(()=>dg(St),0)};vn.useEffect(()=>{$&&Ct()},[$]),vn.useEffect(()=>{W.current&&S&&W.current.updateToolbox(_e)},[_e,S]),vn.useEffect(()=>{if(!ie.current)return;const St=new ResizeObserver(()=>{W.current&&dg(W.current)});return St.observe(ie.current),()=>St.disconnect()},[S]);const qt=St=>{R(!0),St.preventDefault()};vn.useEffect(()=>{const St=fn=>{if(!X||!te.current)return;const Ge=te.current.getBoundingClientRect(),Qt=(Ge.right-fn.clientX)/Ge.width*100;G(Math.min(70,Math.max(20,Qt)))},Ut=()=>{R(!1)};return X&&(window.addEventListener("mousemove",St),window.addEventListener("mouseup",Ut)),()=>{window.removeEventListener("mousemove",St),window.removeEventListener("mouseup",Ut)}},[X]);const ln={grid:se.grid,playerPos:Ie?{x:Ie.x,y:Ie.y}:et,playerDir:Ie?Ie.dir:et.dir,state:Ie||{variables:se.inputs,...se.equation||{}},history:Ie?.logs,hiddenVars:se.hiddenVars||[],modelLines:Ue,lastAction:nt};if(!S)return ge.jsx("div",{className:"flex h-full items-center justify-center text-slate-400",children:"Chargement..."});const En=r!==void 0?`Niveau ${r+1}`:`Niveau ${se.id}`;return ge.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[ge.jsxs("div",{className:"h-16 bg-white border-b border-slate-200 px-6 flex items-center justify-between shadow-sm z-20 flex-shrink-0",children:[ge.jsxs("div",{className:"flex items-center gap-3",children:[De==="RUNNING"?ge.jsxs("button",{onClick:rt,className:"flex items-center gap-2 px-4 py-2 bg-amber-100 text-amber-700 hover:bg-amber-200 rounded-lg font-bold transition-colors",children:[ge.jsx("span",{children:""})," Pause"]}):ge.jsxs("button",{onClick:dt,className:"flex items-center gap-2 px-4 py-2 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 rounded-lg font-bold transition-colors shadow-sm hover:shadow-md",children:[ge.jsx("span",{children:""})," ",De==="PAUSED"?"Reprendre":"Excuter"]}),ge.jsxs("button",{onClick:Pe,className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-lg font-medium transition-colors",title:"Pas  pas",children:[" ",ge.jsx("span",{className:"hidden sm:inline",children:"Pas  pas"})]}),ge.jsx("button",{onClick:Oe,className:"flex items-center gap-2 px-4 py-2 text-slate-500 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Rinitialiser",children:""})]}),ge.jsxs("div",{className:"flex items-center gap-4",children:[ge.jsxs("button",{onClick:()=>v(!$),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-bold border transition-all
                    ${$?"bg-yellow-50 border-yellow-300 text-yellow-700 shadow-inner":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}
                `,children:[ge.jsx("span",{children:""})," ",ge.jsx("span",{className:"hidden md:inline",children:"Code Python"})]}),ge.jsxs("div",{className:"flex items-center gap-3 bg-slate-100 px-4 py-2 rounded-full",children:[ge.jsx("span",{className:"text-lg",children:""}),ge.jsx("input",{type:"range",min:"0",max:"100",value:Y,onChange:St=>fe(Number(St.target.value)),className:"w-24 h-2 bg-slate-300 rounded-lg appearance-none cursor-pointer accent-blue-600"}),ge.jsx("span",{className:"text-lg",children:""})]})]})]}),ge.jsxs("div",{ref:te,className:"flex flex-1 overflow-hidden relative",style:{cursor:X?"col-resize":"auto"},children:[ge.jsx(AX,{title:En,content:se.instruction,isCollapsed:!d,onToggle:()=>m(!d)}),ge.jsx("div",{ref:ie,className:"flex-1 min-w-0 bg-slate-50 relative flex flex-col",children:ge.jsxs("div",{className:"flex-1 relative",children:[ge.jsx(n9,{className:"blockly-div absolute inset-0",toolboxConfiguration:_e,workspaceConfiguration:RX,onInject:$t},`${se.id}-${a.id}-${JSON.stringify(se.allowedBlocks||[])}`),X&&ge.jsx("div",{className:"absolute inset-0 z-50 bg-transparent"})]})}),ge.jsx("div",{onMouseDown:qt,className:"w-2 bg-slate-200 hover:bg-blue-400 cursor-col-resize z-30 flex items-center justify-center transition-colors flex-shrink-0",children:ge.jsx("div",{className:"h-8 w-1 bg-slate-400 rounded-full"})}),ge.jsxs("div",{style:{width:`${P}%`},className:"bg-slate-800 flex flex-col shadow-inner flex-shrink-0 relative border-l border-slate-700",children:[ge.jsx("div",{className:"flex-1 relative overflow-hidden",children:$?ge.jsxs("div",{className:"absolute inset-0 bg-[#1e1e1e] p-6 overflow-auto font-mono text-sm text-gray-300",children:[ge.jsxs("h3",{className:"text-yellow-500 font-bold mb-4 flex items-center gap-2 border-b border-gray-700 pb-2",children:[ge.jsx("span",{children:""})," Code Python gnr"]}),ge.jsx("pre",{className:"whitespace-pre-wrap font-mono leading-relaxed",children:_})]}):ge.jsx("div",{className:"w-full h-full flex items-center justify-center",children:ge.jsx(c,{...ln})})}),!$&&Lt>0&&ge.jsxs("div",{className:"h-16 bg-slate-900 border-t border-slate-700 px-4 flex items-center gap-4 shrink-0 animate-in slide-in-from-bottom duration-300",children:[ge.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase w-12",children:"Temps"}),ge.jsx("input",{type:"range",min:"0",max:Lt,value:ot,onChange:St=>de(parseInt(St.target.value)),className:"flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500",title:`tape ${ot} / ${Lt}`}),ge.jsxs("span",{className:"text-xs font-mono text-blue-400 font-bold w-12 text-right",children:[ot,"/",Lt]})]}),X&&ge.jsx("div",{className:"absolute inset-0 z-50 bg-transparent"})]}),ge.jsx(_F,{isOpen:De==="WON"||De==="LOST"||De==="FAILED",status:De,stats:it,token:ze,onReplay:()=>{Oe()},onMenu:()=>window.location.reload(),onNext:s})]})]})}function DX({campaign:t,progress:n,onSelectLevel:r}){return ge.jsxs("div",{style:{padding:"40px",maxWidth:"800px",margin:"0 auto",fontFamily:"sans-serif"},children:[ge.jsxs("h1",{style:{textAlign:"center",color:"#2c3e50",fontSize:"2.5rem"},children:[" ",t.title||"Aventure Blokaly"]}),ge.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"20px",marginTop:"40px"},children:t.levels.map((s,a)=>{const c=n[a-1],d=a===0||c&&c.stars>0,m=n[a],$=m?m.stars:0;return ge.jsxs("button",{disabled:!d,onClick:()=>r(a),style:{aspectRatio:"1/1",background:d?$===3?"#2ecc71":"#f1c40f":"#bdc3c7",border:"none",borderRadius:"15px",cursor:d?"pointer":"not-allowed",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",opacity:d?1:.6,transition:"transform 0.2s"},children:[ge.jsx("span",{style:{fontSize:"2rem",marginBottom:"10px"},children:d?$>0?"":"":""}),ge.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"white"},children:["Niveau ",a+1]}),d&&ge.jsxs("div",{style:{marginTop:"10px",color:"white",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:["".repeat($),"".repeat(3-$)]})]},a)})})]})}const Hl={api:null,isActive:!1,findAPI:t=>{let n=0;for(;t.API==null&&t.parent!=null&&t.parent!=t&&n<10;)n++,t=t.parent;return t.API},init:()=>{try{const t=Hl.findAPI(window);if(t&&(Hl.api=t,t.LMSInitialize("")==="true"))return console.log(" SCORM: Connect !"),Hl.isActive=!0,t.LMSSetValue("cmi.core.score.min","0"),t.LMSSetValue("cmi.core.score.max","100"),t.LMSSetValue("cmi.core.lesson_status","incomplete"),t.LMSCommit(""),!0}catch{console.warn("SCORM introuvable (Mode local ?)")}return!1},setScore:t=>{if(!Hl.isActive||!Hl.api)return;const n=Math.round(t*100);console.log(` SCORM: Envoi note ${n}/100`),Hl.api.LMSSetValue("cmi.core.score.raw",n),n>=100?Hl.api.LMSSetValue("cmi.core.lesson_status","passed"):Hl.api.LMSSetValue("cmi.core.lesson_status","incomplete"),Hl.api.LMSCommit("")},terminate:()=>{Hl.isActive&&Hl.api&&(console.log(" SCORM: Dconnexion."),Hl.api.LMSFinish(""),Hl.isActive=!1)}};function BX({campaign:t,ltiConfig:n,isTeacherMode:r}){const s=t.levels?t:{title:"Campagne",levels:[t]},[a,c]=vn.useState(-1),[d,m]=vn.useState(()=>{const T=localStorage.getItem("blokaly_progress");if(T)try{return JSON.parse(T)}catch(S){console.error("Erreur lecture sauvegarde",S)}return{}});vn.useEffect(()=>(!n&&!r&&Hl.init(),()=>Hl.terminate()),[n,r]);const $=vn.useCallback(T=>{m(S=>{const k={...S,[a]:{stars:T.stars}};localStorage.setItem("blokaly_progress",JSON.stringify(k));const P=s.levels.length;let G=0;Object.values(k).forEach(W=>G+=W.stars);const X=P*3,R=X>0?G/X:0;return Hl.setScore(R),k})},[a,s]),v=vn.useCallback(()=>{a<s.levels.length-1?c(T=>T+1):c(-1)},[a,s]),_=()=>c(-1);return a===-1?ge.jsxs("div",{className:"min-h-screen bg-slate-100 font-sans",children:[ge.jsxs("div",{className:"bg-slate-800 text-white p-4 flex justify-between items-center shadow-md",children:[r?ge.jsx("button",{onClick:()=>window.location.href=window.location.pathname,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm font-bold transition-colors",children:" Retour diteur"}):ge.jsx("span",{className:"font-bold text-slate-400",children:"Blokaly 974"}),n&&ge.jsx("span",{className:"bg-emerald-600 px-2 py-1 rounded text-xs font-bold",children:"Mode Not (LTI)"})]}),ge.jsx(DX,{campaign:s,progress:d,onSelectLevel:c})]}):ge.jsxs("div",{className:"h-screen flex flex-col font-sans bg-slate-50",children:[ge.jsxs("div",{className:"h-14 bg-slate-900 text-white flex items-center justify-between px-6 shadow-md z-30",children:[ge.jsxs("div",{className:"flex items-center gap-4",children:[ge.jsxs("button",{onClick:_,className:"text-slate-400 hover:text-white transition-colors flex items-center gap-2 text-sm font-bold",children:[ge.jsx("span",{children:""})," Menu"]}),ge.jsx("div",{className:"h-4 w-px bg-slate-700 mx-2"}),ge.jsxs("span",{className:"font-bold text-lg tracking-wide",children:["Niveau ",a+1]})]}),ge.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wider font-bold",children:n?" Suivi Activ":"Mode Entranement"})]}),ge.jsx(LX,{levelData:s.levels[a],levelIndex:a,onWin:$,onNextLevel:v},a)]})}function PX({onFileLoaded:t}){const n=vn.useRef(null),r=s=>{const a=s.target.files[0];if(!a)return;const c=new FileReader;c.onload=d=>{try{const m=JSON.parse(d.target.result);t(m)}catch(m){alert("Fichier invalide : "+m.message)}},c.readAsText(a)};return ge.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-100 via-blue-50 to-indigo-100 font-sans p-4",children:[ge.jsxs("div",{className:"bg-white/80 backdrop-blur-lg border border-white/50 p-10 rounded-2xl shadow-2xl max-w-lg w-full text-center transition-all hover:shadow-indigo-200/50",children:[ge.jsxs("h1",{className:"text-5xl font-extrabold text-slate-800 mb-2 tracking-tight",children:[" Blokaly ",ge.jsx("span",{className:"text-blue-600",children:"974"})]}),ge.jsx("p",{className:"text-slate-500 text-lg mb-10 font-medium",children:"La plateforme d'algorithmique pour le collge."}),ge.jsxs("div",{className:"mb-8",children:[ge.jsx("h3",{className:"text-sm uppercase tracking-wide text-slate-400 font-bold mb-3",children:"J'ai un fichier d'exercice"}),ge.jsxs("button",{onClick:()=>n.current.click(),className:`w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold py-4 px-6 rounded-xl shadow-lg 
                       transform transition-all duration-200 hover:scale-[1.02] hover:shadow-blue-500/30 active:scale-95 flex items-center justify-center gap-2`,children:[ge.jsx("span",{className:"text-xl",children:""})," Charger un fichier .blokaly"]}),ge.jsx("input",{type:"file",accept:".json",ref:n,style:{display:"none"},onChange:r})]}),ge.jsxs("div",{className:"mb-8",children:[ge.jsx("h3",{className:"text-sm uppercase tracking-wide text-slate-400 font-bold mb-3",children:"Dcouvrir"}),ge.jsx("div",{className:"flex flex-col gap-3",children:ge.jsx("button",{onClick:()=>window.location.href="?url=examples/campagne_de_tests.blokaly.json",className:`w-full bg-white border border-slate-200 text-slate-700 font-semibold py-3 px-4 rounded-xl
                           hover:bg-slate-50 hover:border-blue-300 transition-colors duration-200 flex items-center justify-center gap-2`,children:" Campagne Dmo (Maze & Tortue)"})})]}),ge.jsx("div",{className:"mt-12 pt-6 border-t border-slate-100",children:ge.jsxs("details",{className:"group",children:[ge.jsx("summary",{className:"text-xs text-slate-300 cursor-pointer list-none select-none transition-colors hover:text-slate-400",children:"( Accs Enseignant )"}),ge.jsxs("div",{className:"mt-4 pb-2 animate-in fade-in slide-in-from-top-2 duration-300",children:[ge.jsx("p",{className:"text-xs text-slate-400 mb-3",children:"Crer ou modifier des parcours pdagogiques :"}),ge.jsx("button",{onClick:()=>window.location.href="?mode=editor",className:`bg-slate-100 text-slate-500 border border-slate-200 py-2 px-6 rounded-lg text-sm font-bold
                               hover:bg-slate-200 hover:text-slate-700 transition-colors`,children:" Ouvrir l'Atelier"})]})]})})]}),ge.jsx("style",{children:`
        details > summary::-webkit-details-marker { display: none; }
      `})]})}function FX(){const[t,n]=vn.useState("loading"),[r,s]=vn.useState(null),[a,c]=vn.useState(null),[d,m]=vn.useState(!1),$=v=>{s(v),n("runner")};return vn.useEffect(()=>{const v=new URLSearchParams(window.location.search),_=v.get("data"),T=v.get("url"),S=v.get("lti_token"),k=v.get("api_grade"),P=v.get("preview"),G=v.get("mode")==="editor";(async()=>{try{if(P&&m(!0),S&&T){console.log(" Mode LTI"),c({token:S,apiUrl:k});const R=await fetch(T);if(!R.ok)throw new Error("URL campagne invalide");s(await R.json()),n("runner")}else if(T){console.log(" Mode Lien JSON");const R=await fetch(T);if(!R.ok)throw new Error("Fichier introuvable");s(await R.json()),n("runner")}else if(_){console.log(" Mode LZString");const R=UE.decompressFromEncodedURIComponent(_);s(JSON.parse(R)),n("runner")}else G?(console.log(" Mode diteur"),n("builder")):(console.log(" Accueil"),n("home"))}catch(R){console.error("Erreur init:",R),alert("Erreur : "+R.message),n("home")}})()},[]),t==="loading"?ge.jsx("div",{style:{padding:20,textAlign:"center"},children:"Chargement..."}):ge.jsxs("div",{className:"App",children:[t==="home"&&ge.jsx(PX,{onFileLoaded:$}),t==="builder"&&ge.jsx(SI,{}),t==="runner"&&ge.jsx(BX,{campaign:r,ltiConfig:a,isTeacherMode:d})]})}r9();UA.createRoot(document.getElementById("root")).render(ge.jsx(FX,{}));
