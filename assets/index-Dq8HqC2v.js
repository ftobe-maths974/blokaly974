(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))a(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const $ of p.addedNodes)$.tagName==="LINK"&&$.rel==="modulepreload"&&a($)}).observe(document,{childList:!0,subtree:!0});function n(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function a(h){if(h.ep)return;h.ep=!0;const p=n(h);fetch(h.href,p)}})();var Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var x6={exports:{}},V2={};var zp;function O$(){if(zp)return V2;zp=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function n(a,h,p){var $=null;if(p!==void 0&&($=""+p),h.key!==void 0&&($=""+h.key),"key"in h){p={};for(var _ in h)_!=="key"&&(p[_]=h[_])}else p=h;return h=p.ref,{$$typeof:r,type:a,key:$,ref:h!==void 0?h:null,props:p}}return V2.Fragment=o,V2.jsx=n,V2.jsxs=n,V2}var Up;function L$(){return Up||(Up=1,x6.exports=O$()),x6.exports}var _e=L$(),k6={exports:{}},Ar={};var Hp;function D$(){if(Hp)return Ar;Hp=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),$=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),z=Symbol.iterator;function B(Be){return Be===null||typeof Be!="object"?null:(Be=z&&Be[z]||Be["@@iterator"],typeof Be=="function"?Be:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ce=Object.assign,oe={};function j(Be,ct,ke){this.props=Be,this.context=ct,this.refs=oe,this.updater=ke||Z}j.prototype.isReactComponent={},j.prototype.setState=function(Be,ct){if(typeof Be!="object"&&typeof Be!="function"&&Be!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Be,ct,"setState")},j.prototype.forceUpdate=function(Be){this.updater.enqueueForceUpdate(this,Be,"forceUpdate")};function ie(){}ie.prototype=j.prototype;function be(Be,ct,ke){this.props=Be,this.context=ct,this.refs=oe,this.updater=ke||Z}var Ie=be.prototype=new ie;Ie.constructor=be,ce(Ie,j.prototype),Ie.isPureReactComponent=!0;var Ge=Array.isArray;function Te(){}var We={H:null,A:null,T:null,S:null},lt=Object.prototype.hasOwnProperty;function Je(Be,ct,ke){var Zt=ke.ref;return{$$typeof:r,type:Be,key:ct,ref:Zt!==void 0?Zt:null,props:ke}}function Xe(Be,ct){return Je(Be.type,ct,Be.props)}function Pt(Be){return typeof Be=="object"&&Be!==null&&Be.$$typeof===r}function He(Be){var ct={"=":"=0",":":"=2"};return"$"+Be.replace(/[=:]/g,function(ke){return ct[ke]})}var Lt=/\/+/g;function yt(Be,ct){return typeof Be=="object"&&Be!==null&&Be.key!=null?He(""+Be.key):ct.toString(36)}function rt(Be){switch(Be.status){case"fulfilled":return Be.value;case"rejected":throw Be.reason;default:switch(typeof Be.status=="string"?Be.then(Te,Te):(Be.status="pending",Be.then(function(ct){Be.status==="pending"&&(Be.status="fulfilled",Be.value=ct)},function(ct){Be.status==="pending"&&(Be.status="rejected",Be.reason=ct)})),Be.status){case"fulfilled":return Be.value;case"rejected":throw Be.reason}}throw Be}function Ze(Be,ct,ke,Zt,Ot){var sn=typeof Be;(sn==="undefined"||sn==="boolean")&&(Be=null);var yn=!1;if(Be===null)yn=!0;else switch(sn){case"bigint":case"string":case"number":yn=!0;break;case"object":switch(Be.$$typeof){case r:case o:yn=!0;break;case w:return yn=Be._init,Ze(yn(Be._payload),ct,ke,Zt,Ot)}}if(yn)return Ot=Ot(Be),yn=Zt===""?"."+yt(Be,0):Zt,Ge(Ot)?(ke="",yn!=null&&(ke=yn.replace(Lt,"$&/")+"/"),Ze(Ot,ct,ke,"",function(an){return an})):Ot!=null&&(Pt(Ot)&&(Ot=Xe(Ot,ke+(Ot.key==null||Be&&Be.key===Ot.key?"":(""+Ot.key).replace(Lt,"$&/")+"/")+yn)),ct.push(Ot)),1;yn=0;var hr=Zt===""?".":Zt+":";if(Ge(Be))for(var Yn=0;Yn<Be.length;Yn++)Zt=Be[Yn],sn=hr+yt(Zt,Yn),yn+=Ze(Zt,ct,ke,sn,Ot);else if(Yn=B(Be),typeof Yn=="function")for(Be=Yn.call(Be),Yn=0;!(Zt=Be.next()).done;)Zt=Zt.value,sn=hr+yt(Zt,Yn++),yn+=Ze(Zt,ct,ke,sn,Ot);else if(sn==="object"){if(typeof Be.then=="function")return Ze(rt(Be),ct,ke,Zt,Ot);throw ct=String(Be),Error("Objects are not valid as a React child (found: "+(ct==="[object Object]"?"object with keys {"+Object.keys(Be).join(", ")+"}":ct)+"). If you meant to render a collection of children, use an array instead.")}return yn}function $t(Be,ct,ke){if(Be==null)return Be;var Zt=[],Ot=0;return Ze(Be,Zt,"","",function(sn){return ct.call(ke,sn,Ot++)}),Zt}function ft(Be){if(Be._status===-1){var ct=Be._result;ct=ct(),ct.then(function(ke){(Be._status===0||Be._status===-1)&&(Be._status=1,Be._result=ke)},function(ke){(Be._status===0||Be._status===-1)&&(Be._status=2,Be._result=ke)}),Be._status===-1&&(Be._status=0,Be._result=ct)}if(Be._status===1)return Be._result.default;throw Be._result}var It=typeof reportError=="function"?reportError:function(Be){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ct=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Be=="object"&&Be!==null&&typeof Be.message=="string"?String(Be.message):String(Be),error:Be});if(!window.dispatchEvent(ct))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Be);return}console.error(Be)},le={map:$t,forEach:function(Be,ct,ke){$t(Be,function(){ct.apply(this,arguments)},ke)},count:function(Be){var ct=0;return $t(Be,function(){ct++}),ct},toArray:function(Be){return $t(Be,function(ct){return ct})||[]},only:function(Be){if(!Pt(Be))throw Error("React.Children.only expected to receive a single React element child.");return Be}};return Ar.Activity=A,Ar.Children=le,Ar.Component=j,Ar.Fragment=n,Ar.Profiler=h,Ar.PureComponent=be,Ar.StrictMode=a,Ar.Suspense=T,Ar.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=We,Ar.__COMPILER_RUNTIME={__proto__:null,c:function(Be){return We.H.useMemoCache(Be)}},Ar.cache=function(Be){return function(){return Be.apply(null,arguments)}},Ar.cacheSignal=function(){return null},Ar.cloneElement=function(Be,ct,ke){if(Be==null)throw Error("The argument must be a React element, but you passed "+Be+".");var Zt=ce({},Be.props),Ot=Be.key;if(ct!=null)for(sn in ct.key!==void 0&&(Ot=""+ct.key),ct)!lt.call(ct,sn)||sn==="key"||sn==="__self"||sn==="__source"||sn==="ref"&&ct.ref===void 0||(Zt[sn]=ct[sn]);var sn=arguments.length-2;if(sn===1)Zt.children=ke;else if(1<sn){for(var yn=Array(sn),hr=0;hr<sn;hr++)yn[hr]=arguments[hr+2];Zt.children=yn}return Je(Be.type,Ot,Zt)},Ar.createContext=function(Be){return Be={$$typeof:$,_currentValue:Be,_currentValue2:Be,_threadCount:0,Provider:null,Consumer:null},Be.Provider=Be,Be.Consumer={$$typeof:p,_context:Be},Be},Ar.createElement=function(Be,ct,ke){var Zt,Ot={},sn=null;if(ct!=null)for(Zt in ct.key!==void 0&&(sn=""+ct.key),ct)lt.call(ct,Zt)&&Zt!=="key"&&Zt!=="__self"&&Zt!=="__source"&&(Ot[Zt]=ct[Zt]);var yn=arguments.length-2;if(yn===1)Ot.children=ke;else if(1<yn){for(var hr=Array(yn),Yn=0;Yn<yn;Yn++)hr[Yn]=arguments[Yn+2];Ot.children=hr}if(Be&&Be.defaultProps)for(Zt in yn=Be.defaultProps,yn)Ot[Zt]===void 0&&(Ot[Zt]=yn[Zt]);return Je(Be,sn,Ot)},Ar.createRef=function(){return{current:null}},Ar.forwardRef=function(Be){return{$$typeof:_,render:Be}},Ar.isValidElement=Pt,Ar.lazy=function(Be){return{$$typeof:w,_payload:{_status:-1,_result:Be},_init:ft}},Ar.memo=function(Be,ct){return{$$typeof:E,type:Be,compare:ct===void 0?null:ct}},Ar.startTransition=function(Be){var ct=We.T,ke={};We.T=ke;try{var Zt=Be(),Ot=We.S;Ot!==null&&Ot(ke,Zt),typeof Zt=="object"&&Zt!==null&&typeof Zt.then=="function"&&Zt.then(Te,It)}catch(sn){It(sn)}finally{ct!==null&&ke.types!==null&&(ct.types=ke.types),We.T=ct}},Ar.unstable_useCacheRefresh=function(){return We.H.useCacheRefresh()},Ar.use=function(Be){return We.H.use(Be)},Ar.useActionState=function(Be,ct,ke){return We.H.useActionState(Be,ct,ke)},Ar.useCallback=function(Be,ct){return We.H.useCallback(Be,ct)},Ar.useContext=function(Be){return We.H.useContext(Be)},Ar.useDebugValue=function(){},Ar.useDeferredValue=function(Be,ct){return We.H.useDeferredValue(Be,ct)},Ar.useEffect=function(Be,ct){return We.H.useEffect(Be,ct)},Ar.useEffectEvent=function(Be){return We.H.useEffectEvent(Be)},Ar.useId=function(){return We.H.useId()},Ar.useImperativeHandle=function(Be,ct,ke){return We.H.useImperativeHandle(Be,ct,ke)},Ar.useInsertionEffect=function(Be,ct){return We.H.useInsertionEffect(Be,ct)},Ar.useLayoutEffect=function(Be,ct){return We.H.useLayoutEffect(Be,ct)},Ar.useMemo=function(Be,ct){return We.H.useMemo(Be,ct)},Ar.useOptimistic=function(Be,ct){return We.H.useOptimistic(Be,ct)},Ar.useReducer=function(Be,ct,ke){return We.H.useReducer(Be,ct,ke)},Ar.useRef=function(Be){return We.H.useRef(Be)},Ar.useState=function(Be){return We.H.useState(Be)},Ar.useSyncExternalStore=function(Be,ct,ke){return We.H.useSyncExternalStore(Be,ct,ke)},Ar.useTransition=function(){return We.H.useTransition()},Ar.version="19.2.0",Ar}var Gp;function N5(){return Gp||(Gp=1,k6.exports=D$()),k6.exports}var kn=N5();const Bs=qu(kn);var C6={exports:{}},W2={},A6={exports:{}},I6={};var Vp;function B$(){return Vp||(Vp=1,(function(r){function o(Ze,$t){var ft=Ze.length;Ze.push($t);e:for(;0<ft;){var It=ft-1>>>1,le=Ze[It];if(0<h(le,$t))Ze[It]=$t,Ze[ft]=le,ft=It;else break e}}function n(Ze){return Ze.length===0?null:Ze[0]}function a(Ze){if(Ze.length===0)return null;var $t=Ze[0],ft=Ze.pop();if(ft!==$t){Ze[0]=ft;e:for(var It=0,le=Ze.length,Be=le>>>1;It<Be;){var ct=2*(It+1)-1,ke=Ze[ct],Zt=ct+1,Ot=Ze[Zt];if(0>h(ke,ft))Zt<le&&0>h(Ot,ke)?(Ze[It]=Ot,Ze[Zt]=ft,It=Zt):(Ze[It]=ke,Ze[ct]=ft,It=ct);else if(Zt<le&&0>h(Ot,ft))Ze[It]=Ot,Ze[Zt]=ft,It=Zt;else break e}}return $t}function h(Ze,$t){var ft=Ze.sortIndex-$t.sortIndex;return ft!==0?ft:Ze.id-$t.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;r.unstable_now=function(){return p.now()}}else{var $=Date,_=$.now();r.unstable_now=function(){return $.now()-_}}var T=[],E=[],w=1,A=null,z=3,B=!1,Z=!1,ce=!1,oe=!1,j=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,be=typeof setImmediate<"u"?setImmediate:null;function Ie(Ze){for(var $t=n(E);$t!==null;){if($t.callback===null)a(E);else if($t.startTime<=Ze)a(E),$t.sortIndex=$t.expirationTime,o(T,$t);else break;$t=n(E)}}function Ge(Ze){if(ce=!1,Ie(Ze),!Z)if(n(T)!==null)Z=!0,Te||(Te=!0,He());else{var $t=n(E);$t!==null&&rt(Ge,$t.startTime-Ze)}}var Te=!1,We=-1,lt=5,Je=-1;function Xe(){return oe?!0:!(r.unstable_now()-Je<lt)}function Pt(){if(oe=!1,Te){var Ze=r.unstable_now();Je=Ze;var $t=!0;try{e:{Z=!1,ce&&(ce=!1,ie(We),We=-1),B=!0;var ft=z;try{t:{for(Ie(Ze),A=n(T);A!==null&&!(A.expirationTime>Ze&&Xe());){var It=A.callback;if(typeof It=="function"){A.callback=null,z=A.priorityLevel;var le=It(A.expirationTime<=Ze);if(Ze=r.unstable_now(),typeof le=="function"){A.callback=le,Ie(Ze),$t=!0;break t}A===n(T)&&a(T),Ie(Ze)}else a(T);A=n(T)}if(A!==null)$t=!0;else{var Be=n(E);Be!==null&&rt(Ge,Be.startTime-Ze),$t=!1}}break e}finally{A=null,z=ft,B=!1}$t=void 0}}finally{$t?He():Te=!1}}}var He;if(typeof be=="function")He=function(){be(Pt)};else if(typeof MessageChannel<"u"){var Lt=new MessageChannel,yt=Lt.port2;Lt.port1.onmessage=Pt,He=function(){yt.postMessage(null)}}else He=function(){j(Pt,0)};function rt(Ze,$t){We=j(function(){Ze(r.unstable_now())},$t)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Ze){Ze.callback=null},r.unstable_forceFrameRate=function(Ze){0>Ze||125<Ze?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):lt=0<Ze?Math.floor(1e3/Ze):5},r.unstable_getCurrentPriorityLevel=function(){return z},r.unstable_next=function(Ze){switch(z){case 1:case 2:case 3:var $t=3;break;default:$t=z}var ft=z;z=$t;try{return Ze()}finally{z=ft}},r.unstable_requestPaint=function(){oe=!0},r.unstable_runWithPriority=function(Ze,$t){switch(Ze){case 1:case 2:case 3:case 4:case 5:break;default:Ze=3}var ft=z;z=Ze;try{return $t()}finally{z=ft}},r.unstable_scheduleCallback=function(Ze,$t,ft){var It=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?It+ft:It):ft=It,Ze){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ft+le,Ze={id:w++,callback:$t,priorityLevel:Ze,startTime:ft,expirationTime:le,sortIndex:-1},ft>It?(Ze.sortIndex=ft,o(E,Ze),n(T)===null&&Ze===n(E)&&(ce?(ie(We),We=-1):ce=!0,rt(Ge,ft-It))):(Ze.sortIndex=le,o(T,Ze),Z||B||(Z=!0,Te||(Te=!0,He()))),Ze},r.unstable_shouldYield=Xe,r.unstable_wrapCallback=function(Ze){var $t=z;return function(){var ft=z;z=$t;try{return Ze.apply(this,arguments)}finally{z=ft}}}})(I6)),I6}var Wp;function P$(){return Wp||(Wp=1,A6.exports=B$()),A6.exports}var M6={exports:{}},kl={};var qp;function F$(){if(qp)return kl;qp=1;var r=N5();function o(T){var E="https://react.dev/errors/"+T;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)E+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+T+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(o(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},h=Symbol.for("react.portal");function p(T,E,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:A==null?null:""+A,children:T,containerInfo:E,implementation:w}}var $=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(T,E){if(T==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return kl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,kl.createPortal=function(T,E){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(o(299));return p(T,E,null,w)},kl.flushSync=function(T){var E=$.T,w=a.p;try{if($.T=null,a.p=2,T)return T()}finally{$.T=E,a.p=w,a.d.f()}},kl.preconnect=function(T,E){typeof T=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,a.d.C(T,E))},kl.prefetchDNS=function(T){typeof T=="string"&&a.d.D(T)},kl.preinit=function(T,E){if(typeof T=="string"&&E&&typeof E.as=="string"){var w=E.as,A=_(w,E.crossOrigin),z=typeof E.integrity=="string"?E.integrity:void 0,B=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;w==="style"?a.d.S(T,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:A,integrity:z,fetchPriority:B}):w==="script"&&a.d.X(T,{crossOrigin:A,integrity:z,fetchPriority:B,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},kl.preinitModule=function(T,E){if(typeof T=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var w=_(E.as,E.crossOrigin);a.d.M(T,{crossOrigin:w,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&a.d.M(T)},kl.preload=function(T,E){if(typeof T=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var w=E.as,A=_(w,E.crossOrigin);a.d.L(T,w,{crossOrigin:A,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},kl.preloadModule=function(T,E){if(typeof T=="string")if(E){var w=_(E.as,E.crossOrigin);a.d.m(T,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:w,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else a.d.m(T)},kl.requestFormReset=function(T){a.d.r(T)},kl.unstable_batchedUpdates=function(T,E){return T(E)},kl.useFormState=function(T,E,w){return $.H.useFormState(T,E,w)},kl.useFormStatus=function(){return $.H.useHostTransitionStatus()},kl.version="19.2.0",kl}var Xp;function z$(){if(Xp)return M6.exports;Xp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),M6.exports=F$(),M6.exports}var jp;function U$(){if(jp)return W2;jp=1;var r=P$(),o=N5(),n=z$();function a(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function p(i){var l=i,c=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(c=l.return),i=l.return;while(i)}return l.tag===3?c:null}function $(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function _(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function T(i){if(p(i)!==i)throw Error(a(188))}function E(i){var l=i.alternate;if(!l){if(l=p(i),l===null)throw Error(a(188));return l!==i?null:i}for(var c=i,m=l;;){var S=c.return;if(S===null)break;var I=S.alternate;if(I===null){if(m=S.return,m!==null){c=m;continue}break}if(S.child===I.child){for(I=S.child;I;){if(I===c)return T(S),i;if(I===m)return T(S),l;I=I.sibling}throw Error(a(188))}if(c.return!==m.return)c=S,m=I;else{for(var X=!1,me=S.child;me;){if(me===c){X=!0,c=S,m=I;break}if(me===m){X=!0,m=S,c=I;break}me=me.sibling}if(!X){for(me=I.child;me;){if(me===c){X=!0,c=I,m=S;break}if(me===m){X=!0,m=I,c=S;break}me=me.sibling}if(!X)throw Error(a(189))}}if(c.alternate!==m)throw Error(a(190))}if(c.tag!==3)throw Error(a(188));return c.stateNode.current===c?i:l}function w(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=w(i),l!==null)return l;i=i.sibling}return null}var A=Object.assign,z=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),ce=Symbol.for("react.fragment"),oe=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),be=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),We=Symbol.for("react.memo"),lt=Symbol.for("react.lazy"),Je=Symbol.for("react.activity"),Xe=Symbol.for("react.memo_cache_sentinel"),Pt=Symbol.iterator;function He(i){return i===null||typeof i!="object"?null:(i=Pt&&i[Pt]||i["@@iterator"],typeof i=="function"?i:null)}var Lt=Symbol.for("react.client.reference");function yt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Lt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ce:return"Fragment";case j:return"Profiler";case oe:return"StrictMode";case Ge:return"Suspense";case Te:return"SuspenseList";case Je:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case Z:return"Portal";case be:return i.displayName||"Context";case ie:return(i._context.displayName||"Context")+".Consumer";case Ie:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case We:return l=i.displayName||null,l!==null?l:yt(i.type)||"Memo";case lt:l=i._payload,i=i._init;try{return yt(i(l))}catch{}}return null}var rt=Array.isArray,Ze=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$t=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},It=[],le=-1;function Be(i){return{current:i}}function ct(i){0>le||(i.current=It[le],It[le]=null,le--)}function ke(i,l){le++,It[le]=i.current,i.current=l}var Zt=Be(null),Ot=Be(null),sn=Be(null),yn=Be(null);function hr(i,l){switch(ke(sn,l),ke(Ot,i),ke(Zt,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?Fo(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=Fo(l),i=n4(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ct(Zt),ke(Zt,i)}function Yn(){ct(Zt),ct(Ot),ct(sn)}function an(i){i.memoizedState!==null&&ke(yn,i);var l=Zt.current,c=n4(l,i.type);l!==c&&(ke(Ot,i),ke(Zt,c))}function Xn(i){Ot.current===i&&(ct(Zt),ct(Ot)),yn.current===i&&(ct(yn),F1._currentValue=ft)}var dt,tn;function Wr(i){if(dt===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);dt=l&&l[1]||"",tn=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dt+i+tn}var Zn=!1;function pr(i,l){if(!i||Zn)return"";Zn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var jt=function(){throw Error()};if(Object.defineProperty(jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(jt,[])}catch(Rt){var xt=Rt}Reflect.construct(i,[],jt)}else{try{jt.call()}catch(Rt){xt=Rt}i.call(jt.prototype)}}else{try{throw Error()}catch(Rt){xt=Rt}(jt=i())&&typeof jt.catch=="function"&&jt.catch(function(){})}}catch(Rt){if(Rt&&xt&&typeof Rt.stack=="string")return[Rt.stack,xt.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=m.DetermineComponentFrameRoot(),X=I[0],me=I[1];if(X&&me){var Ve=X.split(`
`),bt=me.split(`
`);for(S=m=0;m<Ve.length&&!Ve[m].includes("DetermineComponentFrameRoot");)m++;for(;S<bt.length&&!bt[S].includes("DetermineComponentFrameRoot");)S++;if(m===Ve.length||S===bt.length)for(m=Ve.length-1,S=bt.length-1;1<=m&&0<=S&&Ve[m]!==bt[S];)S--;for(;1<=m&&0<=S;m--,S--)if(Ve[m]!==bt[S]){if(m!==1||S!==1)do if(m--,S--,0>S||Ve[m]!==bt[S]){var Ht=`
`+Ve[m].replace(" at new "," at ");return i.displayName&&Ht.includes("<anonymous>")&&(Ht=Ht.replace("<anonymous>",i.displayName)),Ht}while(1<=m&&0<=S);break}}}finally{Zn=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?Wr(c):""}function on(i,l){switch(i.tag){case 26:case 27:case 5:return Wr(i.type);case 16:return Wr("Lazy");case 13:return i.child!==l&&l!==null?Wr("Suspense Fallback"):Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 15:return pr(i.type,!1);case 11:return pr(i.type.render,!1);case 1:return pr(i.type,!0);case 31:return Wr("Activity");default:return""}}function Ei(i){try{var l="",c=null;do l+=on(i,c),c=i,i=i.return;while(i);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Fi=Object.prototype.hasOwnProperty,Qn=r.unstable_scheduleCallback,ss=r.unstable_cancelCallback,yi=r.unstable_shouldYield,sr=r.unstable_requestPaint,Vn=r.unstable_now,U=r.unstable_getCurrentPriorityLevel,ne=r.unstable_ImmediatePriority,Ce=r.unstable_UserBlockingPriority,Le=r.unstable_NormalPriority,tt=r.unstable_LowPriority,Qe=r.unstable_IdlePriority,Ct=r.log,kt=r.unstable_setDisableYieldValue,N=null,ue=null;function De(i){if(typeof Ct=="function"&&kt(i),ue&&typeof ue.setStrictMode=="function")try{ue.setStrictMode(N,i)}catch{}}var Re=Math.clz32?Math.clz32:Qr,Dt=Math.log,Cn=Math.LN2;function Qr(i){return i>>>=0,i===0?32:31-(Dt(i)/Cn|0)|0}var ds=256,fs=262144,G=4194304;function $e(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Pe(i,l,c){var m=i.pendingLanes;if(m===0)return 0;var S=0,I=i.suspendedLanes,X=i.pingedLanes;i=i.warmLanes;var me=m&134217727;return me!==0?(m=me&~I,m!==0?S=$e(m):(X&=me,X!==0?S=$e(X):c||(c=me&~i,c!==0&&(S=$e(c))))):(me=m&~I,me!==0?S=$e(me):X!==0?S=$e(X):c||(c=m&~i,c!==0&&(S=$e(c)))),S===0?0:l!==0&&l!==S&&(l&I)===0&&(I=S&-S,c=l&-l,I>=c||I===32&&(c&4194048)!==0)?l:S}function et(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function Ft(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dn(){var i=G;return G<<=1,(G&62914560)===0&&(G=4194304),i}function Hn(i){for(var l=[],c=0;31>c;c++)l.push(i);return l}function Sr(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ml(i,l,c,m,S,I){var X=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var me=i.entanglements,Ve=i.expirationTimes,bt=i.hiddenUpdates;for(c=X&~c;0<c;){var Ht=31-Re(c),jt=1<<Ht;me[Ht]=0,Ve[Ht]=-1;var xt=bt[Ht];if(xt!==null)for(bt[Ht]=null,Ht=0;Ht<xt.length;Ht++){var Rt=xt[Ht];Rt!==null&&(Rt.lane&=-536870913)}c&=~jt}m!==0&&To(i,m,0),I!==0&&S===0&&i.tag!==0&&(i.suspendedLanes|=I&~(X&~l))}function To(i,l,c){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-Re(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|c&261930}function vr(i,l){var c=i.entangledLanes|=l;for(i=i.entanglements;c;){var m=31-Re(c),S=1<<m;S&l|i[m]&l&&(i[m]|=l),c&=~S}}function L(i,l){var c=l&-l;return c=(c&42)!==0?1:W(c),(c&(i.suspendedLanes|l))!==0?0:c}function W(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Jt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function x(){var i=$t.p;return i!==0?i:(i=window.event,i===void 0?32:D2(i.type))}function P(i,l){var c=$t.p;try{return $t.p=i,l()}finally{$t.p=c}}var K=Math.random().toString(36).slice(2),Y="__reactFiber$"+K,we="__reactProps$"+K,Q="__reactContainer$"+K,Ee="__reactEvents$"+K,Ue="__reactListeners$"+K,Ke="__reactHandles$"+K,st="__reactResources$"+K,te="__reactMarker$"+K;function Nt(i){delete i[Y],delete i[we],delete i[Ee],delete i[Ue],delete i[Ke]}function Se(i){var l=i[Y];if(l)return l;for(var c=i.parentNode;c;){if(l=c[Q]||c[Y]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(i=Bi(i);i!==null;){if(c=i[Y])return c;i=Bi(i)}return l}i=c,c=i.parentNode}return null}function wn(i){if(i=i[Y]||i[Q]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function In(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(a(33))}function Or(i){var l=i[st];return l||(l=i[st]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function cr(i){i[te]=!0}var On=new Set,Zi={};function si(i,l){fn(i,l),fn(i+"Capture",l)}function fn(i,l){for(Zi[i]=l,i=0;i<l.length;i++)On.add(l[i])}var xr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rs={},oi={};function Ir(i){return Fi.call(oi,i)?!0:Fi.call(Rs,i)?!1:xr.test(i)?oi[i]=!0:(Rs[i]=!0,!1)}function Qt(i,l,c){if(Ir(l))if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+c)}}function fe(i,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+c)}}function Ci(i,l,c,m){if(m===null)i.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(l,c,""+m)}}function ps(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function dr(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Lr(i,l,c){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,I=m.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return S.call(this)},set:function(X){c=""+X,I.call(this,X)}}),Object.defineProperty(i,l,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(X){c=""+X},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function $n(i){if(!i._valueTracker){var l=dr(i)?"checked":"value";i._valueTracker=Lr(i,l,""+i[l])}}function tr(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var c=l.getValue(),m="";return i&&(m=dr(i)?i.checked?"true":"false":i.value),i=m,i!==c?(l.setValue(i),!0):!1}function Ur(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Sa=/[\n"\\]/g;function js(i){return i.replace(Sa,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function jn(i,l,c,m,S,I,X,me){i.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?i.type=X:i.removeAttribute("type"),l!=null?X==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+ps(l)):i.value!==""+ps(l)&&(i.value=""+ps(l)):X!=="submit"&&X!=="reset"||i.removeAttribute("value"),l!=null?k(i,X,ps(l)):c!=null?k(i,X,ps(c)):m!=null&&i.removeAttribute("value"),S==null&&I!=null&&(i.defaultChecked=!!I),S!=null&&(i.checked=S&&typeof S!="function"&&typeof S!="symbol"),me!=null&&typeof me!="function"&&typeof me!="symbol"&&typeof me!="boolean"?i.name=""+ps(me):i.removeAttribute("name")}function d(i,l,c,m,S,I,X,me){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(i.type=I),l!=null||c!=null){if(!(I!=="submit"&&I!=="reset"||l!=null)){$n(i);return}c=c!=null?""+ps(c):"",l=l!=null?""+ps(l):c,me||l===i.value||(i.value=l),i.defaultValue=l}m=m??S,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=me?i.checked:!!m,i.defaultChecked=!!m,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(i.name=X),$n(i)}function k(i,l,c){l==="number"&&Ur(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function D(i,l,c,m){if(i=i.options,l){l={};for(var S=0;S<c.length;S++)l["$"+c[S]]=!0;for(c=0;c<i.length;c++)S=l.hasOwnProperty("$"+i[c].value),i[c].selected!==S&&(i[c].selected=S),S&&m&&(i[c].defaultSelected=!0)}else{for(c=""+ps(c),l=null,S=0;S<i.length;S++){if(i[S].value===c){i[S].selected=!0,m&&(i[S].defaultSelected=!0);return}l!==null||i[S].disabled||(l=i[S])}l!==null&&(l.selected=!0)}}function H(i,l,c){if(l!=null&&(l=""+ps(l),l!==i.value&&(i.value=l),c==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=c!=null?""+ps(c):""}function re(i,l,c,m){if(l==null){if(m!=null){if(c!=null)throw Error(a(92));if(rt(m)){if(1<m.length)throw Error(a(93));m=m[0]}c=m}c==null&&(c=""),l=c}c=ps(l),i.defaultValue=c,m=i.textContent,m===c&&m!==""&&m!==null&&(i.value=m),$n(i)}function he(i,l){if(l){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=l;return}}i.textContent=l}var Ae=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ge(i,l,c){var m=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,c):typeof c!="number"||c===0||Ae.has(l)?l==="float"?i.cssFloat=c:i[l]=(""+c).trim():i[l]=c+"px"}function pt(i,l,c){if(l!=null&&typeof l!="object")throw Error(a(62));if(i=i.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var S in l)m=l[S],l.hasOwnProperty(S)&&c[S]!==m&&ge(i,S,m)}else for(var I in l)l.hasOwnProperty(I)&&ge(i,I,l[I])}function At(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qt(i){return hn.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function nn(){}var Sn=null;function gn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zt=null,nr=null;function Pn(i){var l=wn(i);if(l&&(i=l.stateNode)){var c=i[we]||null;e:switch(i=l.stateNode,l.type){case"input":if(jn(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+js(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var m=c[l];if(m!==i&&m.form===i.form){var S=m[we]||null;if(!S)throw Error(a(90));jn(m,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(l=0;l<c.length;l++)m=c[l],m.form===i.form&&tr(m)}break e;case"textarea":H(i,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&D(i,!!c.multiple,l,!1)}}}var Kn=!1;function Dr(i,l,c){if(Kn)return i(l,c);Kn=!0;try{var m=i(l);return m}finally{if(Kn=!1,(zt!==null||nr!==null)&&(Ch(),zt&&(l=zt,i=nr,nr=zt=null,Pn(l),i)))for(l=0;l<i.length;l++)Pn(i[l])}}function ir(i,l){var c=i.stateNode;if(c===null)return null;var m=c[we]||null;if(m===null)return null;c=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(a(231,l,typeof c));return c}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ys=!1;if(ei)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){Ys=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{Ys=!1}var Fn=null,li=null,Ai=null;function zi(){if(Ai)return Ai;var i,l=li,c=l.length,m,S="value"in Fn?Fn.value:Fn.textContent,I=S.length;for(i=0;i<c&&l[i]===S[i];i++);var X=c-i;for(m=1;m<=X&&l[c-m]===S[I-m];m++);return Ai=S.slice(i,1<m?1-m:void 0)}function Qi(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function ti(){return!0}function Wn(){return!1}function Yr(i){function l(c,m,S,I,X){this._reactName=c,this._targetInst=S,this.type=m,this.nativeEvent=I,this.target=X,this.currentTarget=null;for(var me in i)i.hasOwnProperty(me)&&(c=i[me],this[me]=c?c(I):I[me]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?ti:Wn,this.isPropagationStopped=Wn,this}return A(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),l}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=Yr(pi),ni=A({},pi,{view:0,detail:0}),Ps=Yr(ni),_o,Yt,Ii,qi=A({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ju,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ii&&(Ii&&i.type==="mousemove"?(_o=i.screenX-Ii.screenX,Yt=i.screenY-Ii.screenY):Yt=_o=0,Ii=i),_o)},movementY:function(i){return"movementY"in i?i.movementY:Yt}}),t0=Yr(qi),n0=A({},qi,{dataTransfer:0}),Fs=Yr(n0),Ns=A({},ni,{relatedTarget:0}),qr=Yr(Ns),Ss=A({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Vo=Yr(Ss),Rl=A({},pi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Nl=Yr(Rl),Ol=A({},pi,{data:0}),iu=Yr(Ol),fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ih(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Yc[i])?!!l[i]:!1}function Ju(){return ih}var ul=A({},ni,{key:function(i){if(i.key){var l=fo[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Qi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?jc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ju,charCode:function(i){return i.type==="keypress"?Qi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Qi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),mr=Yr(ul),su=A({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V0=Yr(su),xa=A({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ju}),Zu=Yr(xa),g0=A({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),$0=Yr(g0),Kc=A({},qi,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),b0=Yr(Kc),ka=A({},pi,{newState:0,oldState:0}),W0=Yr(ka),Qu=[9,13,27,32],v0=ei&&"CompositionEvent"in window,Ll=null;ei&&"documentMode"in document&&(Ll=document.documentMode);var ec=ei&&"TextEvent"in window&&!Ll,tc=ei&&(!v0||Ll&&8<Ll&&11>=Ll),ou=" ",Ca=!1;function Aa(i,l){switch(i){case"keyup":return Qu.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Dl=!1;function Ia(i,l){switch(i){case"compositionend":return q0(l);case"keypress":return l.which!==32?null:(Ca=!0,ou);case"textInput":return i=l.data,i===ou&&Ca?null:i;default:return null}}function lu(i,l){if(Dl)return i==="compositionend"||!v0&&Aa(i,l)?(i=zi(),Ai=li=Fn=null,Dl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return tc&&l.locale!=="ko"?null:l.data;default:return null}}var cl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!cl[i.type]:l==="textarea"}function M(i,l,c,m){zt?nr?nr.push(m):nr=[m]:zt=m,l=M1(l,"onChange"),0<l.length&&(c=new ho("onChange","change",null,c,m),i.push({event:c,listeners:l}))}var se=null,ve=null;function Ne(i){wl(i,0)}function je(i){var l=In(i);if(tr(l))return i}function at(i,l){if(i==="change")return l}var St=!1;if(ei){var Vt;if(ei){var Xt="oninput"in document;if(!Xt){var pn=document.createElement("div");pn.setAttribute("oninput","return;"),Xt=typeof pn.oninput=="function"}Vt=Xt}else Vt=!1;St=Vt&&(!document.documentMode||9<document.documentMode)}function Mt(){se&&(se.detachEvent("onpropertychange",Un),ve=se=null)}function Un(i){if(i.propertyName==="value"&&je(ve)){var l=[];M(l,ve,i,gn(i)),Dr(Ne,l)}}function Ln(i,l,c){i==="focusin"?(Mt(),se=l,ve=c,se.attachEvent("onpropertychange",Un)):i==="focusout"&&Mt()}function Gn(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return je(ve)}function er(i,l){if(i==="click")return je(l)}function yr(i,l){if(i==="input"||i==="change")return je(l)}function Br(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var en=typeof Object.is=="function"?Object.is:Br;function Nn(i,l){if(en(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var c=Object.keys(i),m=Object.keys(l);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var S=c[m];if(!Fi.call(l,S)||!en(i[S],l[S]))return!1}return!0}function Mr(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function or(i,l){var c=Mr(i);i=0;for(var m;c;){if(c.nodeType===3){if(m=i+c.textContent.length,i<=l&&m>=l)return{node:c,offset:l-i};i=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Mr(c)}}function Xr(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Xr(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function ai(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Ur(i.document);l instanceof i.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)i=l.contentWindow;else break;l=Ur(i.document)}return l}function Kr(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var ri=ei&&"documentMode"in document&&11>=document.documentMode,Jr=null,Ti=null,Pr=null,Ui=!1;function ms(i,l,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ui||Jr==null||Jr!==Ur(m)||(m=Jr,"selectionStart"in m&&Kr(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Pr&&Nn(Pr,m)||(Pr=m,m=M1(Ti,"onSelect"),0<m.length&&(l=new ho("onSelect","select",null,l,c),i.push({event:l,listeners:m}),l.target=Jr)))}function xs(i,l){var c={};return c[i.toLowerCase()]=l.toLowerCase(),c["Webkit"+i]="webkit"+l,c["Moz"+i]="moz"+l,c}var _i={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},zs={},po={};ei&&(po=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function ks(i){if(zs[i])return zs[i];if(!_i[i])return i;var l=_i[i],c;for(c in l)if(l.hasOwnProperty(c)&&c in po)return zs[i]=l[c];return i}var Cr=ks("animationend"),os=ks("animationiteration"),de=ks("animationstart"),wi=ks("transitionrun"),es=ks("transitionstart"),hl=ks("transitioncancel"),ro=ks("transitionend"),mo=new Map,Ks="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ks.push("scrollEnd");function ls(i,l){mo.set(i,l),si(l,[i])}var lr=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Js=[],Mi=0,go=0;function r0(){for(var i=Mi,l=go=Mi=0;l<i;){var c=Js[l];Js[l++]=null;var m=Js[l];Js[l++]=null;var S=Js[l];Js[l++]=null;var I=Js[l];if(Js[l++]=null,m!==null&&S!==null){var X=m.pending;X===null?S.next=S:(S.next=X.next,X.next=S),m.pending=S}I!==0&&nc(c,S,I)}}function Bl(i,l,c,m){Js[Mi++]=i,Js[Mi++]=l,Js[Mi++]=c,Js[Mi++]=m,go|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function y0(i,l,c,m){return Bl(i,l,c,m),Pl(i)}function Jo(i,l){return Bl(i,null,null,l),Pl(i)}function nc(i,l,c){i.lanes|=c;var m=i.alternate;m!==null&&(m.lanes|=c);for(var S=!1,I=i.return;I!==null;)I.childLanes|=c,m=I.alternate,m!==null&&(m.childLanes|=c),I.tag===22&&(i=I.stateNode,i===null||i._visibility&1||(S=!0)),i=I,I=I.return;return i.tag===3?(I=i.stateNode,S&&l!==null&&(S=31-Re(c),i=I.hiddenUpdates,m=i[S],m===null?i[S]=[l]:m.push(l),l.lane=c|536870912),I):null}function Pl(i){if(50<w1)throw w1=0,As=null,Error(a(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var dl={};function rc(i,l,c,m){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Eo(i,l,c,m){return new rc(i,l,c,m)}function ic(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Fl(i,l){var c=i.alternate;return c===null?(c=Eo(i.tag,l,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=l,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,l=i.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function td(i,l){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,l=c.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function X0(i,l,c,m,S,I){var X=0;if(m=i,typeof i=="function")ic(i)&&(X=1);else if(typeof i=="string")X=$a(i,c,Zt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Je:return i=Eo(31,c,l,S),i.elementType=Je,i.lanes=I,i;case ce:return T0(c.children,S,I,l);case oe:X=8,S|=24;break;case j:return i=Eo(12,c,l,S|2),i.elementType=j,i.lanes=I,i;case Ge:return i=Eo(13,c,l,S),i.elementType=Ge,i.lanes=I,i;case Te:return i=Eo(19,c,l,S),i.elementType=Te,i.lanes=I,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case be:X=10;break e;case ie:X=9;break e;case Ie:X=11;break e;case We:X=14;break e;case lt:X=16,m=null;break e}X=29,c=Error(a(130,i===null?"null":typeof i,"")),m=null}return l=Eo(X,c,l,S),l.elementType=i,l.type=m,l.lanes=I,l}function T0(i,l,c,m){return i=Eo(7,i,m,l),i.lanes=c,i}function au(i,l,c){return i=Eo(6,i,null,l),i.lanes=c,i}function j0(i){var l=Eo(18,null,null,0);return l.stateNode=i,l}function _0(i,l,c){return l=Eo(4,i.children!==null?i.children:[],i.key,l),l.lanes=c,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Ma=new WeakMap;function Zo(i,l){if(typeof i=="object"&&i!==null){var c=Ma.get(i);return c!==void 0?c:(l={value:i,source:l,stack:Ei(l)},Ma.set(i,l),l)}return{value:i,source:l,stack:Ei(l)}}var Ra=[],zl=0,sc=null,Y0=0,wo=[],Wo=0,i0=null,qo=1,Qo="";function Lo(i,l){Ra[zl++]=Y0,Ra[zl++]=sc,sc=i,Y0=l}function oc(i,l,c){wo[Wo++]=qo,wo[Wo++]=Qo,wo[Wo++]=i0,i0=i;var m=qo;i=Qo;var S=32-Re(m)-1;m&=~(1<<S),c+=1;var I=32-Re(l)+S;if(30<I){var X=S-S%5;I=(m&(1<<X)-1).toString(32),m>>=X,S-=X,qo=1<<32-Re(l)+S|c<<S|m,Qo=I+i}else qo=1<<I|c<<S|m,Qo=i}function lc(i){i.return!==null&&(Lo(i,1),oc(i,1,0))}function Ul(i){for(;i===sc;)sc=Ra[--zl],Ra[zl]=null,Y0=Ra[--zl],Ra[zl]=null;for(;i===i0;)i0=wo[--Wo],wo[Wo]=null,Qo=wo[--Wo],wo[Wo]=null,qo=wo[--Wo],wo[Wo]=null}function ac(i,l){wo[Wo++]=qo,wo[Wo++]=Qo,wo[Wo++]=i0,qo=l.id,Qo=l.overflow,i0=i}var ts=null,Xi=null,Hr=!1,E0=null,Us=!1,s0=Error(a(519));function o0(i){var l=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oa(Zo(l,i)),s0}function sh(i){var l=i.stateNode,c=i.type,m=i.memoizedProps;switch(l[Y]=i,l[we]=m,c){case"dialog":zr("cancel",l),zr("close",l);break;case"iframe":case"object":case"embed":zr("load",l);break;case"video":case"audio":for(c=0;c<pa.length;c++)zr(pa[c],l);break;case"source":zr("error",l);break;case"img":case"image":case"link":zr("error",l),zr("load",l);break;case"details":zr("toggle",l);break;case"input":zr("invalid",l),d(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":zr("invalid",l);break;case"textarea":zr("invalid",l),re(l,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||m.suppressHydrationWarning===!0||Bh(l.textContent,c)?(m.popover!=null&&(zr("beforetoggle",l),zr("toggle",l)),m.onScroll!=null&&zr("scroll",l),m.onScrollEnd!=null&&zr("scrollend",l),m.onClick!=null&&(l.onclick=nn),l=!0):l=!1,l||o0(i,!0)}function oh(i){for(ts=i.return;ts;)switch(ts.tag){case 5:case 31:case 13:Us=!1;return;case 27:case 3:Us=!0;return;default:ts=ts.return}}function Na(i){if(i!==ts)return!1;if(!Hr)return oh(i),Hr=!0,!1;var l=i.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||y2(i.type,i.memoizedProps)),c=!c),c&&Xi&&o0(i),oh(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Xi=c0(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Xi=c0(i)}else l===27?(l=Xi,Iu(i.type)?(i=E2,E2=null,Xi=i):Xi=l):Xi=ts?zo(i.stateNode.nextSibling):null;return!0}function l0(){Xi=ts=null,Hr=!1}function Jc(){var i=E0;return i!==null&&(ao===null?ao=i:ao.push.apply(ao,i),E0=null),i}function Oa(i){E0===null?E0=[i]:E0.push(i)}var uc=Be(null),K0=null,Hl=null;function w0(i,l,c){ke(uc,l._currentValue),l._currentValue=c}function Gl(i){i._currentValue=uc.current,ct(uc)}function La(i,l,c){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===c)break;i=i.return}}function el(i,l,c,m){var S=i.child;for(S!==null&&(S.return=i);S!==null;){var I=S.dependencies;if(I!==null){var X=S.child;I=I.firstContext;e:for(;I!==null;){var me=I;I=S;for(var Ve=0;Ve<l.length;Ve++)if(me.context===l[Ve]){I.lanes|=c,me=I.alternate,me!==null&&(me.lanes|=c),La(I.return,c,i),m||(X=null);break e}I=me.next}}else if(S.tag===18){if(X=S.return,X===null)throw Error(a(341));X.lanes|=c,I=X.alternate,I!==null&&(I.lanes|=c),La(X,c,i),X=null}else X=S.child;if(X!==null)X.return=S;else for(X=S;X!==null;){if(X===i){X=null;break}if(S=X.sibling,S!==null){S.return=X.return,X=S;break}X=X.return}S=X}}function S0(i,l,c,m){i=null;for(var S=l,I=!1;S!==null;){if(!I){if((S.flags&524288)!==0)I=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var X=S.alternate;if(X===null)throw Error(a(387));if(X=X.memoizedProps,X!==null){var me=S.type;en(S.pendingProps.value,X.value)||(i!==null?i.push(me):i=[me])}}else if(S===yn.current){if(X=S.alternate,X===null)throw Error(a(387));X.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(i!==null?i.push(F1):i=[F1])}S=S.return}i!==null&&el(l,i,c,m),l.flags|=262144}function uu(i){for(i=i.firstContext;i!==null;){if(!en(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function tl(i){K0=i,Hl=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zs(i){return hu(K0,i)}function cu(i,l){return K0===null&&tl(i),hu(i,l)}function hu(i,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},Hl===null){if(i===null)throw Error(a(308));Hl=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else Hl=Hl.next=l;return c}var cc=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(c,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(c){return c()})}},Zc=r.unstable_scheduleCallback,lh=r.unstable_NormalPriority,is={$$typeof:be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hc(){return{controller:new cc,data:new Map,refCount:0}}function x0(i){i.refCount--,i.refCount===0&&Zc(lh,function(){i.controller.abort()})}var k0=null,Qc=0,Da=0,J0=null;function e1(i,l){if(k0===null){var c=k0=[];Qc=0,Da=El(),J0={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Qc++,l.then(Dn,Dn),l}function Dn(){if(--Qc===0&&k0!==null){J0!==null&&(J0.status="fulfilled");var i=k0;k0=null,Da=0,J0=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function nl(i,l){var c=[],m={status:"pending",value:null,reason:null,then:function(S){c.push(S)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var S=0;S<c.length;S++)(0,c[S])(l)},function(S){for(m.status="rejected",m.reason=S,S=0;S<c.length;S++)(0,c[S])(void 0)}),m}var io=Ze.S;Ze.S=function(i,l){u2=Vn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&e1(i,l),io!==null&&io(i,l)};var Ri=Be(null);function fl(){var i=Ri.current;return i!==null?i:Oi.pooledCache}function g(i,l){l===null?ke(Ri,Ri.current):ke(Ri,l.pool)}function f(){var i=fl();return i===null?null:{parent:is._currentValue,pool:i}}var b=Error(a(460)),C=Error(a(474)),O=Error(a(542)),V={then:function(){}};function J(i){return i=i.status,i==="fulfilled"||i==="rejected"}function pe(i,l,c){switch(c=i[c],c===void 0?i.push(l):c!==l&&(l.then(nn,nn),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,ut(i),i;default:if(typeof l.status=="string")l.then(nn,nn);else{if(i=Oi,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var S=l;S.status="fulfilled",S.value=m}},function(m){if(l.status==="pending"){var S=l;S.status="rejected",S.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,ut(i),i}throw ze=l,b}}function xe(i){try{var l=i._init;return l(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(ze=c,b):c}}var ze=null;function it(){if(ze===null)throw Error(a(459));var i=ze;return ze=null,i}function ut(i){if(i===b||i===O)throw Error(a(483))}var wt=null,Kt=0;function vn(i){var l=Kt;return Kt+=1,wt===null&&(wt=[]),pe(wt,i,l)}function Mn(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Rr(i,l){throw l.$$typeof===z?Error(a(525)):(i=Object.prototype.toString.call(l),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function gr(i){function l(ot,Ye){if(i){var gt=ot.deletions;gt===null?(ot.deletions=[Ye],ot.flags|=16):gt.push(Ye)}}function c(ot,Ye){if(!i)return null;for(;Ye!==null;)l(ot,Ye),Ye=Ye.sibling;return null}function m(ot){for(var Ye=new Map;ot!==null;)ot.key!==null?Ye.set(ot.key,ot):Ye.set(ot.index,ot),ot=ot.sibling;return Ye}function S(ot,Ye){return ot=Fl(ot,Ye),ot.index=0,ot.sibling=null,ot}function I(ot,Ye,gt){return ot.index=gt,i?(gt=ot.alternate,gt!==null?(gt=gt.index,gt<Ye?(ot.flags|=67108866,Ye):gt):(ot.flags|=67108866,Ye)):(ot.flags|=1048576,Ye)}function X(ot){return i&&ot.alternate===null&&(ot.flags|=67108866),ot}function me(ot,Ye,gt,Gt){return Ye===null||Ye.tag!==6?(Ye=au(gt,ot.mode,Gt),Ye.return=ot,Ye):(Ye=S(Ye,gt),Ye.return=ot,Ye)}function Ve(ot,Ye,gt,Gt){var qn=gt.type;return qn===ce?Ht(ot,Ye,gt.props.children,Gt,gt.key):Ye!==null&&(Ye.elementType===qn||typeof qn=="object"&&qn!==null&&qn.$$typeof===lt&&xe(qn)===Ye.type)?(Ye=S(Ye,gt.props),Mn(Ye,gt),Ye.return=ot,Ye):(Ye=X0(gt.type,gt.key,gt.props,null,ot.mode,Gt),Mn(Ye,gt),Ye.return=ot,Ye)}function bt(ot,Ye,gt,Gt){return Ye===null||Ye.tag!==4||Ye.stateNode.containerInfo!==gt.containerInfo||Ye.stateNode.implementation!==gt.implementation?(Ye=_0(gt,ot.mode,Gt),Ye.return=ot,Ye):(Ye=S(Ye,gt.children||[]),Ye.return=ot,Ye)}function Ht(ot,Ye,gt,Gt,qn){return Ye===null||Ye.tag!==7?(Ye=T0(gt,ot.mode,Gt,qn),Ye.return=ot,Ye):(Ye=S(Ye,gt),Ye.return=ot,Ye)}function jt(ot,Ye,gt){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return Ye=au(""+Ye,ot.mode,gt),Ye.return=ot,Ye;if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case B:return gt=X0(Ye.type,Ye.key,Ye.props,null,ot.mode,gt),Mn(gt,Ye),gt.return=ot,gt;case Z:return Ye=_0(Ye,ot.mode,gt),Ye.return=ot,Ye;case lt:return Ye=xe(Ye),jt(ot,Ye,gt)}if(rt(Ye)||He(Ye))return Ye=T0(Ye,ot.mode,gt,null),Ye.return=ot,Ye;if(typeof Ye.then=="function")return jt(ot,vn(Ye),gt);if(Ye.$$typeof===be)return jt(ot,cu(ot,Ye),gt);Rr(ot,Ye)}return null}function xt(ot,Ye,gt,Gt){var qn=Ye!==null?Ye.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return qn!==null?null:me(ot,Ye,""+gt,Gt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case B:return gt.key===qn?Ve(ot,Ye,gt,Gt):null;case Z:return gt.key===qn?bt(ot,Ye,gt,Gt):null;case lt:return gt=xe(gt),xt(ot,Ye,gt,Gt)}if(rt(gt)||He(gt))return qn!==null?null:Ht(ot,Ye,gt,Gt,null);if(typeof gt.then=="function")return xt(ot,Ye,vn(gt),Gt);if(gt.$$typeof===be)return xt(ot,Ye,cu(ot,gt),Gt);Rr(ot,gt)}return null}function Rt(ot,Ye,gt,Gt,qn){if(typeof Gt=="string"&&Gt!==""||typeof Gt=="number"||typeof Gt=="bigint")return ot=ot.get(gt)||null,me(Ye,ot,""+Gt,qn);if(typeof Gt=="object"&&Gt!==null){switch(Gt.$$typeof){case B:return ot=ot.get(Gt.key===null?gt:Gt.key)||null,Ve(Ye,ot,Gt,qn);case Z:return ot=ot.get(Gt.key===null?gt:Gt.key)||null,bt(Ye,ot,Gt,qn);case lt:return Gt=xe(Gt),Rt(ot,Ye,gt,Gt,qn)}if(rt(Gt)||He(Gt))return ot=ot.get(gt)||null,Ht(Ye,ot,Gt,qn,null);if(typeof Gt.then=="function")return Rt(ot,Ye,gt,vn(Gt),qn);if(Gt.$$typeof===be)return Rt(ot,Ye,gt,cu(Ye,Gt),qn);Rr(Ye,Gt)}return null}function xn(ot,Ye,gt,Gt){for(var qn=null,di=null,Bn=Ye,_n=Ye=0,Zr=null;Bn!==null&&_n<gt.length;_n++){Bn.index>_n?(Zr=Bn,Bn=null):Zr=Bn.sibling;var vi=xt(ot,Bn,gt[_n],Gt);if(vi===null){Bn===null&&(Bn=Zr);break}i&&Bn&&vi.alternate===null&&l(ot,Bn),Ye=I(vi,Ye,_n),di===null?qn=vi:di.sibling=vi,di=vi,Bn=Zr}if(_n===gt.length)return c(ot,Bn),Hr&&Lo(ot,_n),qn;if(Bn===null){for(;_n<gt.length;_n++)Bn=jt(ot,gt[_n],Gt),Bn!==null&&(Ye=I(Bn,Ye,_n),di===null?qn=Bn:di.sibling=Bn,di=Bn);return Hr&&Lo(ot,_n),qn}for(Bn=m(Bn);_n<gt.length;_n++)Zr=Rt(Bn,ot,_n,gt[_n],Gt),Zr!==null&&(i&&Zr.alternate!==null&&Bn.delete(Zr.key===null?_n:Zr.key),Ye=I(Zr,Ye,_n),di===null?qn=Zr:di.sibling=Zr,di=Zr);return i&&Bn.forEach(function(ll){return l(ot,ll)}),Hr&&Lo(ot,_n),qn}function rr(ot,Ye,gt,Gt){if(gt==null)throw Error(a(151));for(var qn=null,di=null,Bn=Ye,_n=Ye=0,Zr=null,vi=gt.next();Bn!==null&&!vi.done;_n++,vi=gt.next()){Bn.index>_n?(Zr=Bn,Bn=null):Zr=Bn.sibling;var ll=xt(ot,Bn,vi.value,Gt);if(ll===null){Bn===null&&(Bn=Zr);break}i&&Bn&&ll.alternate===null&&l(ot,Bn),Ye=I(ll,Ye,_n),di===null?qn=ll:di.sibling=ll,di=ll,Bn=Zr}if(vi.done)return c(ot,Bn),Hr&&Lo(ot,_n),qn;if(Bn===null){for(;!vi.done;_n++,vi=gt.next())vi=jt(ot,vi.value,Gt),vi!==null&&(Ye=I(vi,Ye,_n),di===null?qn=vi:di.sibling=vi,di=vi);return Hr&&Lo(ot,_n),qn}for(Bn=m(Bn);!vi.done;_n++,vi=gt.next())vi=Rt(Bn,ot,_n,vi.value,Gt),vi!==null&&(i&&vi.alternate!==null&&Bn.delete(vi.key===null?_n:vi.key),Ye=I(vi,Ye,_n),di===null?qn=vi:di.sibling=vi,di=vi);return i&&Bn.forEach(function(V3){return l(ot,V3)}),Hr&&Lo(ot,_n),qn}function ki(ot,Ye,gt,Gt){if(typeof gt=="object"&&gt!==null&&gt.type===ce&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case B:e:{for(var qn=gt.key;Ye!==null;){if(Ye.key===qn){if(qn=gt.type,qn===ce){if(Ye.tag===7){c(ot,Ye.sibling),Gt=S(Ye,gt.props.children),Gt.return=ot,ot=Gt;break e}}else if(Ye.elementType===qn||typeof qn=="object"&&qn!==null&&qn.$$typeof===lt&&xe(qn)===Ye.type){c(ot,Ye.sibling),Gt=S(Ye,gt.props),Mn(Gt,gt),Gt.return=ot,ot=Gt;break e}c(ot,Ye);break}else l(ot,Ye);Ye=Ye.sibling}gt.type===ce?(Gt=T0(gt.props.children,ot.mode,Gt,gt.key),Gt.return=ot,ot=Gt):(Gt=X0(gt.type,gt.key,gt.props,null,ot.mode,Gt),Mn(Gt,gt),Gt.return=ot,ot=Gt)}return X(ot);case Z:e:{for(qn=gt.key;Ye!==null;){if(Ye.key===qn)if(Ye.tag===4&&Ye.stateNode.containerInfo===gt.containerInfo&&Ye.stateNode.implementation===gt.implementation){c(ot,Ye.sibling),Gt=S(Ye,gt.children||[]),Gt.return=ot,ot=Gt;break e}else{c(ot,Ye);break}else l(ot,Ye);Ye=Ye.sibling}Gt=_0(gt,ot.mode,Gt),Gt.return=ot,ot=Gt}return X(ot);case lt:return gt=xe(gt),ki(ot,Ye,gt,Gt)}if(rt(gt))return xn(ot,Ye,gt,Gt);if(He(gt)){if(qn=He(gt),typeof qn!="function")throw Error(a(150));return gt=qn.call(gt),rr(ot,Ye,gt,Gt)}if(typeof gt.then=="function")return ki(ot,Ye,vn(gt),Gt);if(gt.$$typeof===be)return ki(ot,Ye,cu(ot,gt),Gt);Rr(ot,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint"?(gt=""+gt,Ye!==null&&Ye.tag===6?(c(ot,Ye.sibling),Gt=S(Ye,gt),Gt.return=ot,ot=Gt):(c(ot,Ye),Gt=au(gt,ot.mode,Gt),Gt.return=ot,ot=Gt),X(ot)):c(ot,Ye)}return function(ot,Ye,gt,Gt){try{Kt=0;var qn=ki(ot,Ye,gt,Gt);return wt=null,qn}catch(Bn){if(Bn===b||Bn===O)throw Bn;var di=Eo(29,Bn,null,ot.mode);return di.lanes=Gt,di.return=ot,di}finally{}}}var Tr=gr(!0),ui=gr(!1),jr=!1;function Hi(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gs(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function as(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function $s(i,l,c){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(xi&2)!==0){var S=m.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),m.pending=l,l=Pl(i),nc(i,null,c),l}return Bl(i,m,l,c),Pl(i)}function Nr(i,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,c|=m,l.lanes=c,vr(i,c)}}function mi(i,l){var c=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var S=null,I=null;if(c=c.firstBaseUpdate,c!==null){do{var X={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};I===null?S=I=X:I=I.next=X,c=c.next}while(c!==null);I===null?S=I=l:I=I.next=l}else S=I=l;c={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:I,shared:m.shared,callbacks:m.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=l:i.next=l,c.lastBaseUpdate=l}var gi=!1;function Ni(){if(gi){var i=J0;if(i!==null)throw i}}function ci(i,l,c,m){gi=!1;var S=i.updateQueue;jr=!1;var I=S.firstBaseUpdate,X=S.lastBaseUpdate,me=S.shared.pending;if(me!==null){S.shared.pending=null;var Ve=me,bt=Ve.next;Ve.next=null,X===null?I=bt:X.next=bt,X=Ve;var Ht=i.alternate;Ht!==null&&(Ht=Ht.updateQueue,me=Ht.lastBaseUpdate,me!==X&&(me===null?Ht.firstBaseUpdate=bt:me.next=bt,Ht.lastBaseUpdate=Ve))}if(I!==null){var jt=S.baseState;X=0,Ht=bt=Ve=null,me=I;do{var xt=me.lane&-536870913,Rt=xt!==me.lane;if(Rt?(fr&xt)===xt:(m&xt)===xt){xt!==0&&xt===Da&&(gi=!0),Ht!==null&&(Ht=Ht.next={lane:0,tag:me.tag,payload:me.payload,callback:null,next:null});e:{var xn=i,rr=me;xt=l;var ki=c;switch(rr.tag){case 1:if(xn=rr.payload,typeof xn=="function"){jt=xn.call(ki,jt,xt);break e}jt=xn;break e;case 3:xn.flags=xn.flags&-65537|128;case 0:if(xn=rr.payload,xt=typeof xn=="function"?xn.call(ki,jt,xt):xn,xt==null)break e;jt=A({},jt,xt);break e;case 2:jr=!0}}xt=me.callback,xt!==null&&(i.flags|=64,Rt&&(i.flags|=8192),Rt=S.callbacks,Rt===null?S.callbacks=[xt]:Rt.push(xt))}else Rt={lane:xt,tag:me.tag,payload:me.payload,callback:me.callback,next:null},Ht===null?(bt=Ht=Rt,Ve=jt):Ht=Ht.next=Rt,X|=xt;if(me=me.next,me===null){if(me=S.shared.pending,me===null)break;Rt=me,me=Rt.next,Rt.next=null,S.lastBaseUpdate=Rt,S.shared.pending=null}}while(!0);Ht===null&&(Ve=jt),S.baseState=Ve,S.firstBaseUpdate=bt,S.lastBaseUpdate=Ht,I===null&&(S.shared.lanes=0),O0|=X,i.lanes=X,i.memoizedState=jt}}function ji(i,l){if(typeof i!="function")throw Error(a(191,i));i.call(l)}function $o(i,l){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)ji(c[i],l)}var Z0=Be(null),du=Be(0);function dc(i,l){i=N0,ke(du,i),ke(Z0,l),N0=i|l.baseLanes}function t1(){ke(du,N0),ke(Z0,Z0.current)}function C0(){N0=du.current,ct(Z0),ct(du)}var rl=Be(null),pl=null;function Q0(i){var l=i.alternate;ke(Hs,Hs.current&1),ke(rl,i),pl===null&&(l===null||Z0.current!==null||l.memoizedState!==null)&&(pl=i)}function nd(i){ke(Hs,Hs.current),ke(rl,i),pl===null&&(pl=i)}function rd(i){i.tag===22?(ke(Hs,Hs.current),ke(rl,i),pl===null&&(pl=i)):Ba()}function Ba(){ke(Hs,Hs.current),ke(rl,rl.current)}function Xo(i){ct(rl),pl===i&&(pl=null),ct(Hs)}var Hs=Be(0);function ah(i){for(var l=i;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Mc(c)||N1(c)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Vl=0,kr=null,Gi=null,Os=null,fc=!1,Pa=!1,ea=!1,n1=0,r1=0,fu=null,id=0;function bs(){throw Error(a(321))}function sd(i,l){if(l===null)return!1;for(var c=0;c<l.length&&c<i.length;c++)if(!en(i[c],l[c]))return!1;return!0}function i1(i,l,c,m,S,I){return Vl=I,kr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Ze.H=i===null||i.memoizedState===null?G4:xd,ea=!1,I=c(m,S),ea=!1,Pa&&(I=od(l,c,m,S)),I4(i),I}function I4(i){Ze.H=$c;var l=Gi!==null&&Gi.next!==null;if(Vl=0,Os=Gi=kr=null,fc=!1,r1=0,fu=null,l)throw Error(a(300));i===null||Qs||(i=i.dependencies,i!==null&&uu(i)&&(Qs=!0))}function od(i,l,c,m){kr=i;var S=0;do{if(Pa&&(fu=null),r1=0,Pa=!1,25<=S)throw Error(a(301));if(S+=1,Os=Gi=null,i.updateQueue!=null){var I=i.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}Ze.H=V4,I=l(c,m)}while(Pa);return I}function b3(){var i=Ze.H,l=i.useState()[0];return l=typeof l.then=="function"?gc(l):l,i=i.useState()[0],(Gi!==null?Gi.memoizedState:null)!==i&&(kr.flags|=1024),l}function ta(){var i=n1!==0;return n1=0,i}function uh(i,l,c){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~c}function pc(i){if(fc){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}fc=!1}Vl=0,Os=Gi=kr=null,Pa=!1,r1=n1=0,fu=null}function Do(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Os===null?kr.memoizedState=Os=i:Os=Os.next=i,Os}function Ls(){if(Gi===null){var i=kr.alternate;i=i!==null?i.memoizedState:null}else i=Gi.next;var l=Os===null?kr.memoizedState:Os.next;if(l!==null)Os=l,Gi=i;else{if(i===null)throw kr.alternate===null?Error(a(467)):Error(a(310));Gi=i,i={memoizedState:Gi.memoizedState,baseState:Gi.baseState,baseQueue:Gi.baseQueue,queue:Gi.queue,next:null},Os===null?kr.memoizedState=Os=i:Os=Os.next=i}return Os}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gc(i){var l=r1;return r1+=1,fu===null&&(fu=[]),i=pe(fu,i,l),l=kr,(Os===null?l.memoizedState:Os.next)===null&&(l=l.alternate,Ze.H=l===null||l.memoizedState===null?G4:xd),i}function s1(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return gc(i);if(i.$$typeof===be)return Zs(i)}throw Error(a(438,String(i)))}function ch(i){var l=null,c=kr.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var m=kr.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(S){return S.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=mc(),kr.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(i),m=0;m<i;m++)c[m]=Xe;return l.index++,c}function A0(i,l){return typeof l=="function"?l(i):l}function o1(i){var l=Ls();return hh(l,Gi,i)}function hh(i,l,c){var m=i.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=c;var S=i.baseQueue,I=m.pending;if(I!==null){if(S!==null){var X=S.next;S.next=I.next,I.next=X}l.baseQueue=S=I,m.pending=null}if(I=i.baseState,S===null)i.memoizedState=I;else{l=S.next;var me=X=null,Ve=null,bt=l,Ht=!1;do{var jt=bt.lane&-536870913;if(jt!==bt.lane?(fr&jt)===jt:(Vl&jt)===jt){var xt=bt.revertLane;if(xt===0)Ve!==null&&(Ve=Ve.next={lane:0,revertLane:0,gesture:null,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null}),jt===Da&&(Ht=!0);else if((Vl&xt)===xt){bt=bt.next,xt===Da&&(Ht=!0);continue}else jt={lane:0,revertLane:bt.revertLane,gesture:null,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null},Ve===null?(me=Ve=jt,X=I):Ve=Ve.next=jt,kr.lanes|=xt,O0|=xt;jt=bt.action,ea&&c(I,jt),I=bt.hasEagerState?bt.eagerState:c(I,jt)}else xt={lane:jt,revertLane:bt.revertLane,gesture:bt.gesture,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null},Ve===null?(me=Ve=xt,X=I):Ve=Ve.next=xt,kr.lanes|=jt,O0|=jt;bt=bt.next}while(bt!==null&&bt!==l);if(Ve===null?X=I:Ve.next=me,!en(I,i.memoizedState)&&(Qs=!0,Ht&&(c=J0,c!==null)))throw c;i.memoizedState=I,i.baseState=X,i.baseQueue=Ve,m.lastRenderedState=I}return S===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function dh(i){var l=Ls(),c=l.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=i;var m=c.dispatch,S=c.pending,I=l.memoizedState;if(S!==null){c.pending=null;var X=S=S.next;do I=i(I,X.action),X=X.next;while(X!==S);en(I,l.memoizedState)||(Qs=!0),l.memoizedState=I,l.baseQueue===null&&(l.baseState=I),c.lastRenderedState=I}return[I,m]}function ld(i,l,c){var m=kr,S=Ls(),I=Hr;if(I){if(c===void 0)throw Error(a(407));c=c()}else c=l();var X=!en((Gi||S).memoizedState,c);if(X&&(S.memoizedState=c,Qs=!0),S=S.queue,ph(R4.bind(null,m,S,i),[i]),S.getSnapshot!==l||X||Os!==null&&Os.memoizedState.tag&1){if(m.flags|=2048,pu(9,{destroy:void 0},M4.bind(null,m,S,c,l),null),Oi===null)throw Error(a(349));I||(Vl&127)!==0||ad(m,l,c)}return c}function ad(i,l,c){i.flags|=16384,i={getSnapshot:l,value:c},l=kr.updateQueue,l===null?(l=mc(),kr.updateQueue=l,l.stores=[i]):(c=l.stores,c===null?l.stores=[i]:c.push(i))}function M4(i,l,c,m){l.value=c,l.getSnapshot=m,N4(l)&&O4(i)}function R4(i,l,c){return c(function(){N4(l)&&O4(i)})}function N4(i){var l=i.getSnapshot;i=i.value;try{var c=l();return!en(i,c)}catch{return!0}}function O4(i){var l=Jo(i,2);l!==null&&Co(l,i,2)}function ud(i){var l=Do();if(typeof i=="function"){var c=i;if(i=c(),ea){De(!0);try{c()}finally{De(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A0,lastRenderedState:i},l}function L4(i,l,c,m){return i.baseState=c,hh(i,Gi,typeof m=="function"?m:A0)}function v3(i,l,c,m,S){if(na(i))throw Error(a(485));if(i=l.action,i!==null){var I={payload:S,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){I.listeners.push(X)}};Ze.T!==null?c(!0):I.isTransition=!1,m(I),c=l.pending,c===null?(I.next=l.pending=I,D4(l,I)):(I.next=c.next,l.pending=c.next=I)}}function D4(i,l){var c=l.action,m=l.payload,S=i.state;if(l.isTransition){var I=Ze.T,X={};Ze.T=X;try{var me=c(S,m),Ve=Ze.S;Ve!==null&&Ve(X,me),B4(i,l,me)}catch(bt){fh(i,l,bt)}finally{I!==null&&X.types!==null&&(I.types=X.types),Ze.T=I}}else try{I=c(S,m),B4(i,l,I)}catch(bt){fh(i,l,bt)}}function B4(i,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){cd(i,l,m)},function(m){return fh(i,l,m)}):cd(i,l,c)}function cd(i,l,c){l.status="fulfilled",l.value=c,hd(l),i.state=c,l=i.pending,l!==null&&(c=l.next,c===l?i.pending=null:(c=c.next,l.next=c,D4(i,c)))}function fh(i,l,c){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=c,hd(l),l=l.next;while(l!==m)}i.action=null}function hd(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function dd(i,l){return l}function fd(i,l){if(Hr){var c=Oi.formState;if(c!==null){e:{var m=kr;if(Hr){if(Xi){t:{for(var S=Xi,I=Us;S.nodeType!==8;){if(!I){S=null;break t}if(S=zo(S.nextSibling),S===null){S=null;break t}}I=S.data,S=I==="F!"||I==="F"?S:null}if(S){Xi=zo(S.nextSibling),m=S.data==="F!";break e}}o0(m)}m=!1}m&&(l=c[0])}}return c=Do(),c.memoizedState=c.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:l},c.queue=m,c=_3.bind(null,kr,m),m.dispatch=c,m=ud(!1),I=d1.bind(null,kr,!1,m.queue),m=Do(),S={state:l,dispatch:null,action:i,pending:null},m.queue=S,c=v3.bind(null,kr,S,I,c),S.dispatch=c,m.memoizedState=i,[l,c,!1]}function pd(i){var l=Ls();return md(l,Gi,i)}function md(i,l,c){if(l=hh(i,l,dd)[0],i=o1(A0)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=gc(l)}catch(X){throw X===b?O:X}else m=l;l=Ls();var S=l.queue,I=S.dispatch;return c!==l.memoizedState&&(kr.flags|=2048,pu(9,{destroy:void 0},gd.bind(null,S,c),null)),[m,I,i]}function gd(i,l){i.action=l}function l1(i){var l=Ls(),c=Gi;if(c!==null)return md(l,c,i);Ls(),l=l.memoizedState,c=Ls();var m=c.queue.dispatch;return c.memoizedState=i,[l,m,!1]}function pu(i,l,c,m){return i={tag:i,create:c,deps:m,inst:l,next:null},l=kr.updateQueue,l===null&&(l=mc(),kr.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=i.next=i:(m=c.next,c.next=i,i.next=m,l.lastEffect=i),i}function P4(){return Ls().memoizedState}function a1(i,l,c,m){var S=Do();kr.flags|=i,S.memoizedState=pu(1|l,{destroy:void 0},c,m===void 0?null:m)}function u1(i,l,c,m){var S=Ls();m=m===void 0?null:m;var I=S.memoizedState.inst;Gi!==null&&m!==null&&sd(m,Gi.memoizedState.deps)?S.memoizedState=pu(l,I,c,m):(kr.flags|=i,S.memoizedState=pu(1|l,I,c,m))}function $d(i,l){a1(8390656,8,i,l)}function ph(i,l){u1(2048,8,i,l)}function F4(i){kr.flags|=4;var l=kr.updateQueue;if(l===null)l=mc(),kr.updateQueue=l,l.events=[i];else{var c=l.events;c===null?l.events=[i]:c.push(i)}}function bd(i){var l=Ls().memoizedState;return F4({ref:l,nextImpl:i}),function(){if((xi&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}function vd(i,l){return u1(4,2,i,l)}function yd(i,l){return u1(4,4,i,l)}function Td(i,l){if(typeof l=="function"){i=i();var c=l(i);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function _d(i,l,c){c=c!=null?c.concat([i]):null,u1(4,4,Td.bind(null,l,i),c)}function Ed(){}function z4(i,l){var c=Ls();l=l===void 0?null:l;var m=c.memoizedState;return l!==null&&sd(l,m[1])?m[0]:(c.memoizedState=[i,l],i)}function wd(i,l){var c=Ls();l=l===void 0?null:l;var m=c.memoizedState;if(l!==null&&sd(l,m[1]))return m[0];if(m=i(),ea){De(!0);try{i()}finally{De(!1)}}return c.memoizedState=[m,l],m}function Sd(i,l,c){return c===void 0||(Vl&1073741824)!==0&&(fr&261930)===0?i.memoizedState=l:(i.memoizedState=c,i=c2(),kr.lanes|=i,O0|=i,c)}function U4(i,l,c,m){return en(c,l)?c:Z0.current!==null?(i=Sd(i,c,m),en(i,l)||(Qs=!0),i):(Vl&42)===0||(Vl&1073741824)!==0&&(fr&261930)===0?(Qs=!0,i.memoizedState=c):(i=c2(),kr.lanes|=i,O0|=i,l)}function H4(i,l,c,m,S){var I=$t.p;$t.p=I!==0&&8>I?I:8;var X=Ze.T,me={};Ze.T=me,d1(i,!1,l,c);try{var Ve=S(),bt=Ze.S;if(bt!==null&&bt(me,Ve),Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var Ht=nl(Ve,m);h1(i,l,Ht,ko(i))}else h1(i,l,m,ko(i))}catch(jt){h1(i,l,{then:function(){},status:"rejected",reason:jt},ko())}finally{$t.p=I,X!==null&&me.types!==null&&(X.types=me.types),Ze.T=X}}function y3(){}function _t(i,l,c,m){if(i.tag!==5)throw Error(a(476));var S=Fa(i).queue;H4(i,S,l,ft,c===null?y3:function(){return T3(i),c(m)})}function Fa(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:A0,lastRenderedState:ft},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:A0,lastRenderedState:c},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function T3(i){var l=Fa(i);l.next===null&&(l=i.alternate.memoizedState),h1(i,l.next.queue,{},ko())}function c1(){return Zs(F1)}function ml(){return Ls().memoizedState}function Ut(){return Ls().memoizedState}function za(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var c=ko();i=as(c);var m=$s(l,i,c);m!==null&&(Co(m,l,c),Nr(m,l,c)),l={cache:hc()},i.payload=l;return}l=l.return}}function vs(i,l,c){var m=ko();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},na(i)?mh(l,c):(c=y0(i,l,c,m),c!==null&&(Co(c,i,m),mu(c,l,m)))}function _3(i,l,c){var m=ko();h1(i,l,c,m)}function h1(i,l,c,m){var S={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(na(i))mh(l,S);else{var I=i.alternate;if(i.lanes===0&&(I===null||I.lanes===0)&&(I=l.lastRenderedReducer,I!==null))try{var X=l.lastRenderedState,me=I(X,c);if(S.hasEagerState=!0,S.eagerState=me,en(me,X))return Bl(i,l,S,0),Oi===null&&r0(),!1}catch{}finally{}if(c=y0(i,l,S,m),c!==null)return Co(c,i,m),mu(c,l,m),!0}return!1}function d1(i,l,c,m){if(m={lane:2,revertLane:El(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},na(i)){if(l)throw Error(a(479))}else l=y0(i,c,m,2),l!==null&&Co(l,i,2)}function na(i){var l=i.alternate;return i===kr||l!==null&&l===kr}function mh(i,l){Pa=fc=!0;var c=i.pending;c===null?l.next=l:(l.next=c.next,c.next=l),i.pending=l}function mu(i,l,c){if((c&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,c|=m,l.lanes=c,vr(i,c)}}var $c={readContext:Zs,use:s1,useCallback:bs,useContext:bs,useEffect:bs,useImperativeHandle:bs,useLayoutEffect:bs,useInsertionEffect:bs,useMemo:bs,useReducer:bs,useRef:bs,useState:bs,useDebugValue:bs,useDeferredValue:bs,useTransition:bs,useSyncExternalStore:bs,useId:bs,useHostTransitionStatus:bs,useFormState:bs,useActionState:bs,useOptimistic:bs,useMemoCache:bs,useCacheRefresh:bs};$c.useEffectEvent=bs;var G4={readContext:Zs,use:s1,useCallback:function(i,l){return Do().memoizedState=[i,l===void 0?null:l],i},useContext:Zs,useEffect:$d,useImperativeHandle:function(i,l,c){c=c!=null?c.concat([i]):null,a1(4194308,4,Td.bind(null,l,i),c)},useLayoutEffect:function(i,l){return a1(4194308,4,i,l)},useInsertionEffect:function(i,l){a1(4,2,i,l)},useMemo:function(i,l){var c=Do();l=l===void 0?null:l;var m=i();if(ea){De(!0);try{i()}finally{De(!1)}}return c.memoizedState=[m,l],m},useReducer:function(i,l,c){var m=Do();if(c!==void 0){var S=c(l);if(ea){De(!0);try{c(l)}finally{De(!1)}}}else S=l;return m.memoizedState=m.baseState=S,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:S},m.queue=i,i=i.dispatch=vs.bind(null,kr,i),[m.memoizedState,i]},useRef:function(i){var l=Do();return i={current:i},l.memoizedState=i},useState:function(i){i=ud(i);var l=i.queue,c=_3.bind(null,kr,l);return l.dispatch=c,[i.memoizedState,c]},useDebugValue:Ed,useDeferredValue:function(i,l){var c=Do();return Sd(c,i,l)},useTransition:function(){var i=ud(!1);return i=H4.bind(null,kr,i.queue,!0,!1),Do().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,c){var m=kr,S=Do();if(Hr){if(c===void 0)throw Error(a(407));c=c()}else{if(c=l(),Oi===null)throw Error(a(349));(fr&127)!==0||ad(m,l,c)}S.memoizedState=c;var I={value:c,getSnapshot:l};return S.queue=I,$d(R4.bind(null,m,I,i),[i]),m.flags|=2048,pu(9,{destroy:void 0},M4.bind(null,m,I,c,l),null),c},useId:function(){var i=Do(),l=Oi.identifierPrefix;if(Hr){var c=Qo,m=qo;c=(m&~(1<<32-Re(m)-1)).toString(32)+c,l="_"+l+"R_"+c,c=n1++,0<c&&(l+="H"+c.toString(32)),l+="_"}else c=id++,l="_"+l+"r_"+c.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:c1,useFormState:fd,useActionState:fd,useOptimistic:function(i){var l=Do();l.memoizedState=l.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=d1.bind(null,kr,!0,c),c.dispatch=l,[i,l]},useMemoCache:ch,useCacheRefresh:function(){return Do().memoizedState=za.bind(null,kr)},useEffectEvent:function(i){var l=Do(),c={impl:i};return l.memoizedState=c,function(){if((xi&2)!==0)throw Error(a(440));return c.impl.apply(void 0,arguments)}}},xd={readContext:Zs,use:s1,useCallback:z4,useContext:Zs,useEffect:ph,useImperativeHandle:_d,useInsertionEffect:vd,useLayoutEffect:yd,useMemo:wd,useReducer:o1,useRef:P4,useState:function(){return o1(A0)},useDebugValue:Ed,useDeferredValue:function(i,l){var c=Ls();return U4(c,Gi.memoizedState,i,l)},useTransition:function(){var i=o1(A0)[0],l=Ls().memoizedState;return[typeof i=="boolean"?i:gc(i),l]},useSyncExternalStore:ld,useId:ml,useHostTransitionStatus:c1,useFormState:pd,useActionState:pd,useOptimistic:function(i,l){var c=Ls();return L4(c,Gi,i,l)},useMemoCache:ch,useCacheRefresh:Ut};xd.useEffectEvent=bd;var V4={readContext:Zs,use:s1,useCallback:z4,useContext:Zs,useEffect:ph,useImperativeHandle:_d,useInsertionEffect:vd,useLayoutEffect:yd,useMemo:wd,useReducer:dh,useRef:P4,useState:function(){return dh(A0)},useDebugValue:Ed,useDeferredValue:function(i,l){var c=Ls();return Gi===null?Sd(c,i,l):U4(c,Gi.memoizedState,i,l)},useTransition:function(){var i=dh(A0)[0],l=Ls().memoizedState;return[typeof i=="boolean"?i:gc(i),l]},useSyncExternalStore:ld,useId:ml,useHostTransitionStatus:c1,useFormState:l1,useActionState:l1,useOptimistic:function(i,l){var c=Ls();return Gi!==null?L4(c,Gi,i,l):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:ch,useCacheRefresh:Ut};V4.useEffectEvent=bd;function f1(i,l,c,m){l=i.memoizedState,c=c(m,l),c=c==null?l:A({},l,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var p1={enqueueSetState:function(i,l,c){i=i._reactInternals;var m=ko(),S=as(m);S.payload=l,c!=null&&(S.callback=c),l=$s(i,S,m),l!==null&&(Co(l,i,m),Nr(l,i,m))},enqueueReplaceState:function(i,l,c){i=i._reactInternals;var m=ko(),S=as(m);S.tag=1,S.payload=l,c!=null&&(S.callback=c),l=$s(i,S,m),l!==null&&(Co(l,i,m),Nr(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var c=ko(),m=as(c);m.tag=2,l!=null&&(m.callback=l),l=$s(i,m,c),l!==null&&(Co(l,i,c),Nr(l,i,c))}};function kd(i,l,c,m,S,I,X){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,I,X):l.prototype&&l.prototype.isPureReactComponent?!Nn(c,m)||!Nn(S,I):!0}function W4(i,l,c,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,m),l.state!==i&&p1.enqueueReplaceState(l,l.state,null)}function gu(i,l){var c=l;if("ref"in l){c={};for(var m in l)m!=="ref"&&(c[m]=l[m])}if(i=i.defaultProps){c===l&&(c=A({},c));for(var S in i)c[S]===void 0&&(c[S]=i[S])}return c}function q4(i){lr(i)}function E3(i){console.error(i)}function X4(i){lr(i)}function gh(i,l){try{var c=i.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function Cd(i,l,c){try{var m=i.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function m1(i,l,c){return c=as(c),c.tag=3,c.payload={element:null},c.callback=function(){gh(i,l)},c}function j4(i){return i=as(i),i.tag=3,i}function Ad(i,l,c,m){var S=c.type.getDerivedStateFromError;if(typeof S=="function"){var I=m.value;i.payload=function(){return S(I)},i.callback=function(){Cd(l,c,m)}}var X=c.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(i.callback=function(){Cd(l,c,m),typeof S!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var me=m.stack;this.componentDidCatch(m.value,{componentStack:me!==null?me:""})})}function w3(i,l,c,m,S){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=c.alternate,l!==null&&S0(l,c,S,!0),c=rl.current,c!==null){switch(c.tag){case 31:case 13:return pl===null?Mh():c.alternate===null&&Ds===0&&(Ds=3),c.flags&=-257,c.flags|=65536,c.lanes=S,m===V?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([m]):l.add(m),x1(i,m,S)),!1;case 22:return c.flags|=65536,m===V?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([m]):c.add(m)),x1(i,m,S)),!1}throw Error(a(435,c.tag))}return x1(i,m,S),Mh(),!1}if(Hr)return l=rl.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=S,m!==s0&&(i=Error(a(422),{cause:m}),Oa(Zo(i,c)))):(m!==s0&&(l=Error(a(423),{cause:m}),Oa(Zo(l,c))),i=i.current.alternate,i.flags|=65536,S&=-S,i.lanes|=S,m=Zo(m,c),S=m1(i.stateNode,m,S),mi(i,S),Ds!==4&&(Ds=2)),!1;var I=Error(a(520),{cause:m});if(I=Zo(I,c),E1===null?E1=[I]:E1.push(I),Ds!==4&&(Ds=2),l===null)return!0;m=Zo(m,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,i=S&-S,c.lanes|=i,i=m1(c.stateNode,m,i),mi(c,i),!1;case 1:if(l=c.type,I=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(qa===null||!qa.has(I))))return c.flags|=65536,S&=-S,c.lanes|=S,S=j4(S),Ad(S,i,c,m),mi(c,S),!1}c=c.return}while(c!==null);return!1}var Y4=Error(a(461)),Qs=!1;function So(i,l,c,m){l.child=i===null?ui(l,null,c,m):Tr(l,i.child,c,m)}function ra(i,l,c,m,S){c=c.render;var I=l.ref;if("ref"in m){var X={};for(var me in m)me!=="ref"&&(X[me]=m[me])}else X=m;return tl(l),m=i1(i,l,c,X,I,S),me=ta(),i!==null&&!Qs?(uh(i,l,S),sa(i,l,S)):(Hr&&me&&lc(l),l.flags|=1,So(i,l,m,S),l.child)}function mt(i,l,c,m,S){if(i===null){var I=c.type;return typeof I=="function"&&!ic(I)&&I.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=I,K4(i,l,I,m,S)):(i=X0(c.type,null,m,l,l.mode,S),i.ref=l.ref,i.return=l,l.child=i)}if(I=i.child,!Vi(i,S)){var X=I.memoizedProps;if(c=c.compare,c=c!==null?c:Nn,c(X,m)&&i.ref===l.ref)return sa(i,l,S)}return l.flags|=1,i=Fl(I,m),i.ref=l.ref,i.return=l,l.child=i}function K4(i,l,c,m,S){if(i!==null){var I=i.memoizedProps;if(Nn(I,m)&&i.ref===l.ref)if(Qs=!1,l.pendingProps=m=I,Vi(i,S))(i.flags&131072)!==0&&(Qs=!0);else return l.lanes=i.lanes,sa(i,l,S)}return bh(i,l,c,m,S)}function J4(i,l,c,m){var S=m.children,I=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(I=I!==null?I.baseLanes|c:c,i!==null){for(m=l.child=i.child,S=0;m!==null;)S=S|m.lanes|m.childLanes,m=m.sibling;m=S&~I}else m=0,l.child=null;return S3(i,l,I,c,m)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&g(l,I!==null?I.cachePool:null),I!==null?dc(l,I):t1(),rd(l);else return m=l.lanes=536870912,S3(i,l,I!==null?I.baseLanes|c:c,c,m)}else I!==null?(g(l,I.cachePool),dc(l,I),Ba(),l.memoizedState=null):(i!==null&&g(l,null),t1(),Ba());return So(i,l,S,c),l.child}function g1(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function S3(i,l,c,m,S){var I=fl();return I=I===null?null:{parent:is._currentValue,pool:I},l.memoizedState={baseLanes:c,cachePool:I},i!==null&&g(l,null),t1(),rd(l),i!==null&&S0(i,l,m,!0),l.childLanes=S,null}function $1(i,l){return l=$u({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function Z4(i,l,c){return Tr(l,i.child,null,c),i=$1(l,l.pendingProps),i.flags|=2,Xo(l),l.memoizedState=null,i}function $h(i,l,c){var m=l.pendingProps,S=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(Hr){if(m.mode==="hidden")return i=$1(l,m),l.lanes=536870912,g1(null,i);if(nd(l),(i=Xi)?(i=ma(i,Us),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:i0!==null?{id:qo,overflow:Qo}:null,retryLane:536870912,hydrationErrors:null},c=j0(i),c.return=l,l.child=c,ts=l,Xi=null)):i=null,i===null)throw o0(l);return l.lanes=536870912,null}return $1(l,m)}var I=i.memoizedState;if(I!==null){var X=I.dehydrated;if(nd(l),S)if(l.flags&256)l.flags&=-257,l=Z4(i,l,c);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(a(558));else if(Qs||S0(i,l,c,!1),S=(c&i.childLanes)!==0,Qs||S){if(m=Oi,m!==null&&(X=L(m,c),X!==0&&X!==I.retryLane))throw I.retryLane=X,Jo(i,X),Co(m,i,X),Y4;Mh(),l=Z4(i,l,c)}else i=I.treeContext,Xi=zo(X.nextSibling),ts=l,Hr=!0,E0=null,Us=!1,i!==null&&ac(l,i),l=$1(l,m),l.flags|=4096;return l}return i=Fl(i.child,{mode:m.mode,children:m.children}),i.ref=l.ref,l.child=i,i.return=l,i}function b1(i,l){var c=l.ref;if(c===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(a(284));(i===null||i.ref!==c)&&(l.flags|=4194816)}}function bh(i,l,c,m,S){return tl(l),c=i1(i,l,c,m,void 0,S),m=ta(),i!==null&&!Qs?(uh(i,l,S),sa(i,l,S)):(Hr&&m&&lc(l),l.flags|=1,So(i,l,c,S),l.child)}function ia(i,l,c,m,S,I){return tl(l),l.updateQueue=null,c=od(l,m,c,S),I4(i),m=ta(),i!==null&&!Qs?(uh(i,l,I),sa(i,l,I)):(Hr&&m&&lc(l),l.flags|=1,So(i,l,c,I),l.child)}function Q4(i,l,c,m,S){if(tl(l),l.stateNode===null){var I=dl,X=c.contextType;typeof X=="object"&&X!==null&&(I=Zs(X)),I=new c(m,I),l.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=p1,l.stateNode=I,I._reactInternals=l,I=l.stateNode,I.props=m,I.state=l.memoizedState,I.refs={},Hi(l),X=c.contextType,I.context=typeof X=="object"&&X!==null?Zs(X):dl,I.state=l.memoizedState,X=c.getDerivedStateFromProps,typeof X=="function"&&(f1(l,c,X,m),I.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(X=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),X!==I.state&&p1.enqueueReplaceState(I,I.state,null),ci(l,m,I,S),Ni(),I.state=l.memoizedState),typeof I.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){I=l.stateNode;var me=l.memoizedProps,Ve=gu(c,me);I.props=Ve;var bt=I.context,Ht=c.contextType;X=dl,typeof Ht=="object"&&Ht!==null&&(X=Zs(Ht));var jt=c.getDerivedStateFromProps;Ht=typeof jt=="function"||typeof I.getSnapshotBeforeUpdate=="function",me=l.pendingProps!==me,Ht||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(me||bt!==X)&&W4(l,I,m,X),jr=!1;var xt=l.memoizedState;I.state=xt,ci(l,m,I,S),Ni(),bt=l.memoizedState,me||xt!==bt||jr?(typeof jt=="function"&&(f1(l,c,jt,m),bt=l.memoizedState),(Ve=jr||kd(l,c,Ve,m,xt,bt,X))?(Ht||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(l.flags|=4194308)):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=bt),I.props=m,I.state=bt,I.context=X,m=Ve):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{I=l.stateNode,gs(i,l),X=l.memoizedProps,Ht=gu(c,X),I.props=Ht,jt=l.pendingProps,xt=I.context,bt=c.contextType,Ve=dl,typeof bt=="object"&&bt!==null&&(Ve=Zs(bt)),me=c.getDerivedStateFromProps,(bt=typeof me=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(X!==jt||xt!==Ve)&&W4(l,I,m,Ve),jr=!1,xt=l.memoizedState,I.state=xt,ci(l,m,I,S),Ni();var Rt=l.memoizedState;X!==jt||xt!==Rt||jr||i!==null&&i.dependencies!==null&&uu(i.dependencies)?(typeof me=="function"&&(f1(l,c,me,m),Rt=l.memoizedState),(Ht=jr||kd(l,c,Ht,m,xt,Rt,Ve)||i!==null&&i.dependencies!==null&&uu(i.dependencies))?(bt||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(m,Rt,Ve),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(m,Rt,Ve)),typeof I.componentDidUpdate=="function"&&(l.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof I.componentDidUpdate!="function"||X===i.memoizedProps&&xt===i.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||X===i.memoizedProps&&xt===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Rt),I.props=m,I.state=Rt,I.context=Ve,m=Ht):(typeof I.componentDidUpdate!="function"||X===i.memoizedProps&&xt===i.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||X===i.memoizedProps&&xt===i.memoizedState||(l.flags|=1024),m=!1)}return I=m,b1(i,l),m=(l.flags&128)!==0,I||m?(I=l.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:I.render(),l.flags|=1,i!==null&&m?(l.child=Tr(l,i.child,null,S),l.child=Tr(l,null,c,S)):So(i,l,c,S),l.memoizedState=I.state,i=l.child):i=sa(i,l,S),i}function v1(i,l,c,m){return l0(),l.flags|=256,So(i,l,c,m),l.child}var Ua={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function il(i){return{baseLanes:i,cachePool:f()}}function I0(i,l,c){return i=i!==null?i.childLanes&~c:0,l&&(i|=Bo),i}function a0(i,l,c){var m=l.pendingProps,S=!1,I=(l.flags&128)!==0,X;if((X=I)||(X=i!==null&&i.memoizedState===null?!1:(Hs.current&2)!==0),X&&(S=!0,l.flags&=-129),X=(l.flags&32)!==0,l.flags&=-33,i===null){if(Hr){if(S?Q0(l):Ba(),(i=Xi)?(i=ma(i,Us),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:i0!==null?{id:qo,overflow:Qo}:null,retryLane:536870912,hydrationErrors:null},c=j0(i),c.return=l,l.child=c,ts=l,Xi=null)):i=null,i===null)throw o0(l);return N1(i)?l.lanes=32:l.lanes=536870912,null}var me=m.children;return m=m.fallback,S?(Ba(),S=l.mode,me=$u({mode:"hidden",children:me},S),m=T0(m,S,c,null),me.return=l,m.return=l,me.sibling=m,l.child=me,m=l.child,m.memoizedState=il(c),m.childLanes=I0(i,X,c),l.memoizedState=Ua,g1(null,m)):(Q0(l),vh(l,me))}var Ve=i.memoizedState;if(Ve!==null&&(me=Ve.dehydrated,me!==null)){if(I)l.flags&256?(Q0(l),l.flags&=-257,l=so(i,l,c)):l.memoizedState!==null?(Ba(),l.child=i.child,l.flags|=128,l=null):(Ba(),me=m.fallback,S=l.mode,m=$u({mode:"visible",children:m.children},S),me=T0(me,S,c,null),me.flags|=2,m.return=l,me.return=l,m.sibling=me,l.child=m,Tr(l,i.child,null,c),m=l.child,m.memoizedState=il(c),m.childLanes=I0(i,X,c),l.memoizedState=Ua,l=g1(null,m));else if(Q0(l),N1(me)){if(X=me.nextSibling&&me.nextSibling.dataset,X)var bt=X.dgst;X=bt,m=Error(a(419)),m.stack="",m.digest=X,Oa({value:m,source:null,stack:null}),l=so(i,l,c)}else if(Qs||S0(i,l,c,!1),X=(c&i.childLanes)!==0,Qs||X){if(X=Oi,X!==null&&(m=L(X,c),m!==0&&m!==Ve.retryLane))throw Ve.retryLane=m,Jo(i,m),Co(X,i,m),Y4;Mc(me)||Mh(),l=so(i,l,c)}else Mc(me)?(l.flags|=192,l.child=i.child,l=null):(i=Ve.treeContext,Xi=zo(me.nextSibling),ts=l,Hr=!0,E0=null,Us=!1,i!==null&&ac(l,i),l=vh(l,m.children),l.flags|=4096);return l}return S?(Ba(),me=m.fallback,S=l.mode,Ve=i.child,bt=Ve.sibling,m=Fl(Ve,{mode:"hidden",children:m.children}),m.subtreeFlags=Ve.subtreeFlags&65011712,bt!==null?me=Fl(bt,me):(me=T0(me,S,c,null),me.flags|=2),me.return=l,m.return=l,m.sibling=me,l.child=m,g1(null,m),m=l.child,me=i.child.memoizedState,me===null?me=il(c):(S=me.cachePool,S!==null?(Ve=is._currentValue,S=S.parent!==Ve?{parent:Ve,pool:Ve}:S):S=f(),me={baseLanes:me.baseLanes|c,cachePool:S}),m.memoizedState=me,m.childLanes=I0(i,X,c),l.memoizedState=Ua,g1(i.child,m)):(Q0(l),c=i.child,i=c.sibling,c=Fl(c,{mode:"visible",children:m.children}),c.return=l,c.sibling=null,i!==null&&(X=l.deletions,X===null?(l.deletions=[i],l.flags|=16):X.push(i)),l.child=c,l.memoizedState=null,c)}function vh(i,l){return l=$u({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function $u(i,l){return i=Eo(22,i,null,l),i.lanes=0,i}function so(i,l,c){return Tr(l,i.child,null,c),i=vh(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function bo(i,l,c){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),La(i.return,l,c)}function e2(i,l,c,m,S,I){var X=i.memoizedState;X===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:S,treeForkCount:I}:(X.isBackwards=l,X.rendering=null,X.renderingStartTime=0,X.last=m,X.tail=c,X.tailMode=S,X.treeForkCount=I)}function xo(i,l,c){var m=l.pendingProps,S=m.revealOrder,I=m.tail;m=m.children;var X=Hs.current,me=(X&2)!==0;if(me?(X=X&1|2,l.flags|=128):X&=1,ke(Hs,X),So(i,l,m,c),m=Hr?Y0:0,!me&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bo(i,c,l);else if(i.tag===19)bo(i,c,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(S){case"forwards":for(c=l.child,S=null;c!==null;)i=c.alternate,i!==null&&ah(i)===null&&(S=c),c=c.sibling;c=S,c===null?(S=l.child,l.child=null):(S=c.sibling,c.sibling=null),e2(l,!1,S,c,I,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,S=l.child,l.child=null;S!==null;){if(i=S.alternate,i!==null&&ah(i)===null){l.child=S;break}i=S.sibling,S.sibling=c,c=S,S=i}e2(l,!0,c,null,I,m);break;case"together":e2(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function sa(i,l,c){if(i!==null&&(l.dependencies=i.dependencies),O0|=l.lanes,(c&l.childLanes)===0)if(i!==null){if(S0(i,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(a(153));if(l.child!==null){for(i=l.child,c=Fl(i,i.pendingProps),l.child=c,c.return=l;i.sibling!==null;)i=i.sibling,c=c.sibling=Fl(i,i.pendingProps),c.return=l;c.sibling=null}return l.child}function Vi(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&uu(i)))}function yh(i,l,c){switch(l.tag){case 3:hr(l,l.stateNode.containerInfo),w0(l,is,i.memoizedState.cache),l0();break;case 27:case 5:an(l);break;case 4:hr(l,l.stateNode.containerInfo);break;case 10:w0(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,nd(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Q0(l),l.flags|=128,null):(c&l.child.childLanes)!==0?a0(i,l,c):(Q0(l),i=sa(i,l,c),i!==null?i.sibling:null);Q0(l);break;case 19:var S=(i.flags&128)!==0;if(m=(c&l.childLanes)!==0,m||(S0(i,l,c,!1),m=(c&l.childLanes)!==0),S){if(m)return xo(i,l,c);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ke(Hs,Hs.current),m)break;return null;case 22:return l.lanes=0,J4(i,l,c,l.pendingProps);case 24:w0(l,is,i.memoizedState.cache)}return sa(i,l,c)}function t2(i,l,c){if(i!==null)if(i.memoizedProps!==l.pendingProps)Qs=!0;else{if(!Vi(i,c)&&(l.flags&128)===0)return Qs=!1,yh(i,l,c);Qs=(i.flags&131072)!==0}else Qs=!1,Hr&&(l.flags&1048576)!==0&&oc(l,Y0,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(i=xe(l.elementType),l.type=i,typeof i=="function")ic(i)?(m=gu(i,m),l.tag=1,l=Q4(null,l,i,m,c)):(l.tag=0,l=bh(null,l,i,m,c));else{if(i!=null){var S=i.$$typeof;if(S===Ie){l.tag=11,l=ra(null,l,i,m,c);break e}else if(S===We){l.tag=14,l=mt(null,l,i,m,c);break e}}throw l=yt(i)||i,Error(a(306,l,""))}}return l;case 0:return bh(i,l,l.type,l.pendingProps,c);case 1:return m=l.type,S=gu(m,l.pendingProps),Q4(i,l,m,S,c);case 3:e:{if(hr(l,l.stateNode.containerInfo),i===null)throw Error(a(387));m=l.pendingProps;var I=l.memoizedState;S=I.element,gs(i,l),ci(l,m,null,c);var X=l.memoizedState;if(m=X.cache,w0(l,is,m),m!==I.cache&&el(l,[is],c,!0),Ni(),m=X.element,I.isDehydrated)if(I={element:m,isDehydrated:!1,cache:X.cache},l.updateQueue.baseState=I,l.memoizedState=I,l.flags&256){l=v1(i,l,m,c);break e}else if(m!==S){S=Zo(Error(a(424)),l),Oa(S),l=v1(i,l,m,c);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Xi=zo(i.firstChild),ts=l,Hr=!0,E0=null,Us=!0,c=ui(l,null,m,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(l0(),m===S){l=sa(i,l,c);break e}So(i,l,m,c)}l=l.child}return l;case 26:return b1(i,l),i===null?(c=Lc(l.type,null,l.pendingProps,null))?l.memoizedState=c:Hr||(c=l.type,i=l.pendingProps,m=u0(sn.current).createElement(c),m[Y]=l,m[we]=i,vo(m,c,i),cr(m),l.stateNode=m):l.memoizedState=Lc(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return an(l),i===null&&Hr&&(m=l.stateNode=ga(l.type,l.pendingProps,sn.current),ts=l,Us=!0,S=Xi,Iu(l.type)?(E2=S,Xi=zo(m.firstChild)):Xi=S),So(i,l,l.pendingProps.children,c),b1(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Hr&&((S=m=Xi)&&(m=Xl(m,l.type,l.pendingProps,Us),m!==null?(l.stateNode=m,ts=l,Xi=zo(m.firstChild),Us=!1,S=!0):S=!1),S||o0(l)),an(l),S=l.type,I=l.pendingProps,X=i!==null?i.memoizedProps:null,m=I.children,y2(S,I)?m=null:X!==null&&y2(S,X)&&(l.flags|=32),l.memoizedState!==null&&(S=i1(i,l,b3,null,null,c),F1._currentValue=S),b1(i,l),So(i,l,m,c),l.child;case 6:return i===null&&Hr&&((i=c=Xi)&&(c=Di(c,l.pendingProps,Us),c!==null?(l.stateNode=c,ts=l,Xi=null,i=!0):i=!1),i||o0(l)),null;case 13:return a0(i,l,c);case 4:return hr(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=Tr(l,null,m,c):So(i,l,m,c),l.child;case 11:return ra(i,l,l.type,l.pendingProps,c);case 7:return So(i,l,l.pendingProps,c),l.child;case 8:return So(i,l,l.pendingProps.children,c),l.child;case 12:return So(i,l,l.pendingProps.children,c),l.child;case 10:return m=l.pendingProps,w0(l,l.type,m.value),So(i,l,m.children,c),l.child;case 9:return S=l.type._context,m=l.pendingProps.children,tl(l),S=Zs(S),m=m(S),l.flags|=1,So(i,l,m,c),l.child;case 14:return mt(i,l,l.type,l.pendingProps,c);case 15:return K4(i,l,l.type,l.pendingProps,c);case 19:return xo(i,l,c);case 31:return $h(i,l,c);case 22:return J4(i,l,c,l.pendingProps);case 24:return tl(l),m=Zs(is),i===null?(S=fl(),S===null&&(S=Oi,I=hc(),S.pooledCache=I,I.refCount++,I!==null&&(S.pooledCacheLanes|=c),S=I),l.memoizedState={parent:m,cache:S},Hi(l),w0(l,is,S)):((i.lanes&c)!==0&&(gs(i,l),ci(l,null,null,c),Ni()),S=i.memoizedState,I=l.memoizedState,S.parent!==m?(S={parent:m,cache:m},l.memoizedState=S,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=S),w0(l,is,m)):(m=I.cache,w0(l,is,m),m!==S.cache&&el(l,[is],c,!0))),So(i,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(a(156,l.tag))}function oa(i){i.flags|=4}function bc(i,l,c,m,S){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(S&335544128)===S)if(i.stateNode.complete)i.flags|=8192;else if(Eu())i.flags|=8192;else throw ze=V,C}else i.flags&=-16777217}function n2(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Ji(l))if(Eu())i.flags|=8192;else throw ze=V,C}function Gs(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?dn():536870912,i.lanes|=l,_c|=l)}function la(i,l){if(!Hr)switch(i.tailMode){case"hidden":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function $i(i){var l=i.alternate!==null&&i.alternate.child===i.child,c=0,m=0;if(l)for(var S=i.child;S!==null;)c|=S.lanes|S.childLanes,m|=S.subtreeFlags&65011712,m|=S.flags&65011712,S.return=i,S=S.sibling;else for(S=i.child;S!==null;)c|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=i,S=S.sibling;return i.subtreeFlags|=m,i.childLanes=c,l}function r2(i,l,c){var m=l.pendingProps;switch(Ul(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $i(l),null;case 1:return $i(l),null;case 3:return c=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Gl(is),Yn(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Na(l)?oa(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Jc())),$i(l),null;case 26:var S=l.type,I=l.memoizedState;return i===null?(oa(l),I!==null?($i(l),n2(l,I)):($i(l),bc(l,S,null,m,c))):I?I!==i.memoizedState?(oa(l),$i(l),n2(l,I)):($i(l),l.flags&=-16777217):(i=i.memoizedProps,i!==m&&oa(l),$i(l),bc(l,S,i,m,c)),null;case 27:if(Xn(l),c=sn.current,S=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&oa(l);else{if(!m){if(l.stateNode===null)throw Error(a(166));return $i(l),null}i=Zt.current,Na(l)?sh(l):(i=ga(S,m,c),l.stateNode=i,oa(l))}return $i(l),null;case 5:if(Xn(l),S=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&oa(l);else{if(!m){if(l.stateNode===null)throw Error(a(166));return $i(l),null}if(I=Zt.current,Na(l))sh(l);else{var X=u0(sn.current);switch(I){case 1:I=X.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:I=X.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":I=X.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":I=X.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":I=X.createElement("div"),I.innerHTML="<script><\/script>",I=I.removeChild(I.firstChild);break;case"select":I=typeof m.is=="string"?X.createElement("select",{is:m.is}):X.createElement("select"),m.multiple?I.multiple=!0:m.size&&(I.size=m.size);break;default:I=typeof m.is=="string"?X.createElement(S,{is:m.is}):X.createElement(S)}}I[Y]=l,I[we]=m;e:for(X=l.child;X!==null;){if(X.tag===5||X.tag===6)I.appendChild(X.stateNode);else if(X.tag!==4&&X.tag!==27&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===l)break e;for(;X.sibling===null;){if(X.return===null||X.return===l)break e;X=X.return}X.sibling.return=X.return,X=X.sibling}l.stateNode=I;e:switch(vo(I,S,m),S){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&oa(l)}}return $i(l),bc(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,c),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&oa(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(a(166));if(i=sn.current,Na(l)){if(i=l.stateNode,c=l.memoizedProps,m=null,S=ts,S!==null)switch(S.tag){case 27:case 5:m=S.memoizedProps}i[Y]=l,i=!!(i.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||Bh(i.nodeValue,c)),i||o0(l,!0)}else i=u0(i).createTextNode(m),i[Y]=l,l.stateNode=i}return $i(l),null;case 31:if(c=l.memoizedState,i===null||i.memoizedState!==null){if(m=Na(l),c!==null){if(i===null){if(!m)throw Error(a(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(557));i[Y]=l}else l0(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;$i(l),i=!1}else c=Jc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return l.flags&256?(Xo(l),l):(Xo(l),null);if((l.flags&128)!==0)throw Error(a(558))}return $i(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(S=Na(l),m!==null&&m.dehydrated!==null){if(i===null){if(!S)throw Error(a(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(a(317));S[Y]=l}else l0(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;$i(l),S=!1}else S=Jc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=S),S=!0;if(!S)return l.flags&256?(Xo(l),l):(Xo(l),null)}return Xo(l),(l.flags&128)!==0?(l.lanes=c,l):(c=m!==null,i=i!==null&&i.memoizedState!==null,c&&(m=l.child,S=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(S=m.alternate.memoizedState.cachePool.pool),I=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(I=m.memoizedState.cachePool.pool),I!==S&&(m.flags|=2048)),c!==i&&c&&(l.child.flags|=8192),Gs(l,l.updateQueue),$i(l),null);case 4:return Yn(),i===null&&Qd(l.stateNode.containerInfo),$i(l),null;case 10:return Gl(l.type),$i(l),null;case 19:if(ct(Hs),m=l.memoizedState,m===null)return $i(l),null;if(S=(l.flags&128)!==0,I=m.rendering,I===null)if(S)la(m,!1);else{if(Ds!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(I=ah(i),I!==null){for(l.flags|=128,la(m,!1),i=I.updateQueue,l.updateQueue=i,Gs(l,i),l.subtreeFlags=0,i=c,c=l.child;c!==null;)td(c,i),c=c.sibling;return ke(Hs,Hs.current&1|2),Hr&&Lo(l,m.treeForkCount),l.child}i=i.sibling}m.tail!==null&&Vn()>Sh&&(l.flags|=128,S=!0,la(m,!1),l.lanes=4194304)}else{if(!S)if(i=ah(I),i!==null){if(l.flags|=128,S=!0,i=i.updateQueue,l.updateQueue=i,Gs(l,i),la(m,!0),m.tail===null&&m.tailMode==="hidden"&&!I.alternate&&!Hr)return $i(l),null}else 2*Vn()-m.renderingStartTime>Sh&&c!==536870912&&(l.flags|=128,S=!0,la(m,!1),l.lanes=4194304);m.isBackwards?(I.sibling=l.child,l.child=I):(i=m.last,i!==null?i.sibling=I:l.child=I,m.last=I)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Vn(),i.sibling=null,c=Hs.current,ke(Hs,S?c&1|2:c&1),Hr&&Lo(l,m.treeForkCount),i):($i(l),null);case 22:case 23:return Xo(l),C0(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(c&536870912)!==0&&(l.flags&128)===0&&($i(l),l.subtreeFlags&6&&(l.flags|=8192)):$i(l),c=l.updateQueue,c!==null&&Gs(l,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==c&&(l.flags|=2048),i!==null&&ct(Ri),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),Gl(is),$i(l),null;case 25:return null;case 30:return null}throw Error(a(156,l.tag))}function i2(i,l){switch(Ul(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Gl(is),Yn(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Xn(l),null;case 31:if(l.memoizedState!==null){if(Xo(l),l.alternate===null)throw Error(a(340));l0()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(Xo(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(a(340));l0()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return ct(Hs),null;case 4:return Yn(),null;case 10:return Gl(l.type),null;case 22:case 23:return Xo(l),C0(),i!==null&&ct(Ri),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Gl(is),null;case 25:return null;default:return null}}function s2(i,l){switch(Ul(l),l.tag){case 3:Gl(is),Yn();break;case 26:case 27:case 5:Xn(l);break;case 4:Yn();break;case 31:l.memoizedState!==null&&Xo(l);break;case 13:Xo(l);break;case 19:ct(Hs);break;case 10:Gl(l.type);break;case 22:case 23:Xo(l),C0(),i!==null&&ct(Ri);break;case 24:Gl(is)}}function Wl(i,l){try{var c=l.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var S=m.next;c=S;do{if((c.tag&i)===i){m=void 0;var I=c.create,X=c.inst;m=I(),X.destroy=m}c=c.next}while(c!==S)}}catch(me){bi(l,l.return,me)}}function Si(i,l,c){try{var m=l.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var I=S.next;m=I;do{if((m.tag&i)===i){var X=m.inst,me=X.destroy;if(me!==void 0){X.destroy=void 0,S=l;var Ve=c,bt=me;try{bt()}catch(Ht){bi(S,Ve,Ht)}}}m=m.next}while(m!==I)}}catch(Ht){bi(l,l.return,Ht)}}function Id(i){var l=i.updateQueue;if(l!==null){var c=i.stateNode;try{$o(l,c)}catch(m){bi(i,i.return,m)}}}function Md(i,l,c){c.props=gu(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(m){bi(i,l,m)}}function vc(i,l){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof c=="function"?i.refCleanup=c(m):c.current=m}}catch(S){bi(i,l,S)}}function Wt(i,l){var c=i.ref,m=i.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(S){bi(i,l,S)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(S){bi(i,l,S)}else c.current=null}function ht(i){var l=i.type,c=i.memoizedProps,m=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(S){bi(i,i.return,S)}}function $r(i,l,c){try{var m=i.stateNode;t4(m,i.type,c,l),m[we]=l}catch(S){bi(i,i.return,S)}}function _r(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Iu(i.type)||i.tag===4}function Rd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||_r(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Iu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function aa(i,l,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(i),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=nn));else if(m!==4&&(m===27&&Iu(i.type)&&(c=i.stateNode,l=null),i=i.child,i!==null))for(aa(i,l,c),i=i.sibling;i!==null;)aa(i,l,c),i=i.sibling}function Th(i,l,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?c.insertBefore(i,l):c.appendChild(i);else if(m!==4&&(m===27&&Iu(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Th(i,l,c),i=i.sibling;i!==null;)Th(i,l,c),i=i.sibling}function o2(i){var l=i.stateNode,c=i.memoizedProps;try{for(var m=i.type,S=l.attributes;S.length;)l.removeAttributeNode(S[0]);vo(l,m,c),l[Y]=i,l[we]=c}catch(I){bi(i,i.return,I)}}var Ha=!1,us=!1,Cs=!1,_h=typeof WeakSet=="function"?WeakSet:Set,oo=null;function Nd(i,l){if(i=i.containerInfo,Ac=z1,i=ai(i),Kr(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var S=m.anchorOffset,I=m.focusNode;m=m.focusOffset;try{c.nodeType,I.nodeType}catch{c=null;break e}var X=0,me=-1,Ve=-1,bt=0,Ht=0,jt=i,xt=null;t:for(;;){for(var Rt;jt!==c||S!==0&&jt.nodeType!==3||(me=X+S),jt!==I||m!==0&&jt.nodeType!==3||(Ve=X+m),jt.nodeType===3&&(X+=jt.nodeValue.length),(Rt=jt.firstChild)!==null;)xt=jt,jt=Rt;for(;;){if(jt===i)break t;if(xt===c&&++bt===S&&(me=X),xt===I&&++Ht===m&&(Ve=X),(Rt=jt.nextSibling)!==null)break;jt=xt,xt=jt.parentNode}jt=Rt}c=me===-1||Ve===-1?null:{start:me,end:Ve}}else c=null}c=c||{start:0,end:0}}else c=null;for(R1={focusedElem:i,selectionRange:c},z1=!1,oo=l;oo!==null;)if(l=oo,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,oo=i;else for(;oo!==null;){switch(l=oo,I=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)S=i[c],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&I!==null){i=void 0,c=l,S=I.memoizedProps,I=I.memoizedState,m=c.stateNode;try{var xn=gu(c.type,S);i=m.getSnapshotBeforeUpdate(xn,I),m.__reactInternalSnapshotBeforeUpdate=i}catch(rr){bi(c,c.return,rr)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,c=i.nodeType,c===9)i4(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":i4(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=l.sibling,i!==null){i.return=l.return,oo=i;break}oo=l.return}}function y1(i,l,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:ua(i,c),m&4&&Wl(5,c);break;case 1:if(ua(i,c),m&4)if(i=c.stateNode,l===null)try{i.componentDidMount()}catch(X){bi(c,c.return,X)}else{var S=gu(c.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(S,l,i.__reactInternalSnapshotBeforeUpdate)}catch(X){bi(c,c.return,X)}}m&64&&Id(c),m&512&&vc(c,c.return);break;case 3:if(ua(i,c),m&64&&(i=c.updateQueue,i!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{$o(i,l)}catch(X){bi(c,c.return,X)}}break;case 27:l===null&&m&4&&o2(c);case 26:case 5:ua(i,c),l===null&&m&4&&ht(c),m&512&&vc(c,c.return);break;case 12:ua(i,c);break;case 31:ua(i,c),m&4&&l2(i,c);break;case 13:ua(i,c),m&4&&Er(i,c),m&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=A3.bind(null,c),s4(i,c))));break;case 22:if(m=c.memoizedState!==null||Ha,!m){l=l!==null&&l.memoizedState!==null||us,S=Ha;var I=us;Ha=m,(us=l)&&!I?ca(i,c,(c.subtreeFlags&8772)!==0):ua(i,c),Ha=S,us=I}break;case 30:break;default:ua(i,c)}}function T1(i){var l=i.alternate;l!==null&&(i.alternate=null,T1(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Nt(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ys=null,gl=!1;function $l(i,l,c){for(c=c.child;c!==null;)Od(i,l,c),c=c.sibling}function Od(i,l,c){if(ue&&typeof ue.onCommitFiberUnmount=="function")try{ue.onCommitFiberUnmount(N,c)}catch{}switch(c.tag){case 26:us||Wt(c,l),$l(i,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:us||Wt(c,l);var m=ys,S=gl;Iu(c.type)&&(ys=c.stateNode,gl=!1),$l(i,l,c),ns(c.stateNode),ys=m,gl=S;break;case 5:us||Wt(c,l);case 6:if(m=ys,S=gl,ys=null,$l(i,l,c),ys=m,gl=S,ys!==null)if(gl)try{(ys.nodeType===9?ys.body:ys.nodeName==="HTML"?ys.ownerDocument.body:ys).removeChild(c.stateNode)}catch(I){bi(c,l,I)}else try{ys.removeChild(c.stateNode)}catch(I){bi(c,l,I)}break;case 18:ys!==null&&(gl?(i=ys,Fh(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Bc(i)):Fh(ys,c.stateNode));break;case 4:m=ys,S=gl,ys=c.stateNode.containerInfo,gl=!0,$l(i,l,c),ys=m,gl=S;break;case 0:case 11:case 14:case 15:Si(2,c,l),us||Si(4,c,l),$l(i,l,c);break;case 1:us||(Wt(c,l),m=c.stateNode,typeof m.componentWillUnmount=="function"&&Md(c,l,m)),$l(i,l,c);break;case 21:$l(i,l,c);break;case 22:us=(m=us)||c.memoizedState!==null,$l(i,l,c),us=m;break;default:$l(i,l,c)}}function l2(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Bc(i)}catch(c){bi(l,l.return,c)}}}function Er(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Bc(i)}catch(c){bi(l,l.return,c)}}function x3(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new _h),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new _h),l;default:throw Error(a(435,i.tag))}}function M0(i,l){var c=x3(i);l.forEach(function(m){if(!c.has(m)){c.add(m);var S=I3.bind(null,i,m);m.then(S,S)}})}function Vs(i,l){var c=l.deletions;if(c!==null)for(var m=0;m<c.length;m++){var S=c[m],I=i,X=l,me=X;e:for(;me!==null;){switch(me.tag){case 27:if(Iu(me.type)){ys=me.stateNode,gl=!1;break e}break;case 5:ys=me.stateNode,gl=!1;break e;case 3:case 4:ys=me.stateNode.containerInfo,gl=!0;break e}me=me.return}if(ys===null)throw Error(a(160));Od(I,X,S),ys=null,gl=!1,I=S.alternate,I!==null&&(I.return=null),S.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Ga(l,i),l=l.sibling}var jo=null;function Ga(i,l){var c=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Vs(l,i),lo(i),m&4&&(Si(3,i,i.return),Wl(3,i),Si(5,i,i.return));break;case 1:Vs(l,i),lo(i),m&512&&(us||c===null||Wt(c,c.return)),m&64&&Ha&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var S=jo;if(Vs(l,i),lo(i),m&512&&(us||c===null||Wt(c,c.return)),m&4){var I=c!==null?c.memoizedState:null;if(m=i.memoizedState,c===null)if(m===null)if(i.stateNode===null){e:{m=i.type,c=i.memoizedProps,S=S.ownerDocument||S;t:switch(m){case"title":I=S.getElementsByTagName("title")[0],(!I||I[te]||I[Y]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=S.createElement(m),S.head.insertBefore(I,S.querySelector("head > title"))),vo(I,m,c),I[Y]=i,cr(I),m=I;break e;case"link":var X=C2("link","href",S).get(m+(c.href||""));if(X){for(var me=0;me<X.length;me++)if(I=X[me],I.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&I.getAttribute("rel")===(c.rel==null?null:c.rel)&&I.getAttribute("title")===(c.title==null?null:c.title)&&I.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){X.splice(me,1);break t}}I=S.createElement(m),vo(I,m,c),S.head.appendChild(I);break;case"meta":if(X=C2("meta","content",S).get(m+(c.content||""))){for(me=0;me<X.length;me++)if(I=X[me],I.getAttribute("content")===(c.content==null?null:""+c.content)&&I.getAttribute("name")===(c.name==null?null:c.name)&&I.getAttribute("property")===(c.property==null?null:c.property)&&I.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&I.getAttribute("charset")===(c.charSet==null?null:c.charSet)){X.splice(me,1);break t}}I=S.createElement(m),vo(I,m,c),S.head.appendChild(I);break;default:throw Error(a(468,m))}I[Y]=i,cr(I),m=I}i.stateNode=m}else o4(S,i.type,i.stateNode);else i.stateNode=O1(S,m,i.memoizedProps);else I!==m?(I===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):I.count--,m===null?o4(S,i.type,i.stateNode):O1(S,m,i.memoizedProps)):m===null&&i.stateNode!==null&&$r(i,i.memoizedProps,c.memoizedProps)}break;case 27:Vs(l,i),lo(i),m&512&&(us||c===null||Wt(c,c.return)),c!==null&&m&4&&$r(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Vs(l,i),lo(i),m&512&&(us||c===null||Wt(c,c.return)),i.flags&32){S=i.stateNode;try{he(S,"")}catch(xn){bi(i,i.return,xn)}}m&4&&i.stateNode!=null&&(S=i.memoizedProps,$r(i,S,c!==null?c.memoizedProps:S)),m&1024&&(Cs=!0);break;case 6:if(Vs(l,i),lo(i),m&4){if(i.stateNode===null)throw Error(a(162));m=i.memoizedProps,c=i.stateNode;try{c.nodeValue=m}catch(xn){bi(i,i.return,xn)}}break;case 3:if(zh=null,S=jo,jo=Ka(l.containerInfo),Vs(l,i),jo=S,lo(i),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Bc(l.containerInfo)}catch(xn){bi(i,i.return,xn)}Cs&&(Cs=!1,Yo(i));break;case 4:m=jo,jo=Ka(i.stateNode.containerInfo),Vs(l,i),lo(i),jo=m;break;case 12:Vs(l,i),lo(i);break;case 31:Vs(l,i),lo(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,M0(i,m)));break;case 13:Vs(l,i),lo(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(wh=Vn()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,M0(i,m)));break;case 22:S=i.memoizedState!==null;var Ve=c!==null&&c.memoizedState!==null,bt=Ha,Ht=us;if(Ha=bt||S,us=Ht||Ve,Vs(l,i),us=Ht,Ha=bt,lo(i),m&8192)e:for(l=i.stateNode,l._visibility=S?l._visibility&-2:l._visibility|1,S&&(c===null||Ve||Ha||us||bu(i)),c=null,l=i;;){if(l.tag===5||l.tag===26){if(c===null){Ve=c=l;try{if(I=Ve.stateNode,S)X=I.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{me=Ve.stateNode;var jt=Ve.memoizedProps.style,xt=jt!=null&&jt.hasOwnProperty("display")?jt.display:null;me.style.display=xt==null||typeof xt=="boolean"?"":(""+xt).trim()}}catch(xn){bi(Ve,Ve.return,xn)}}}else if(l.tag===6){if(c===null){Ve=l;try{Ve.stateNode.nodeValue=S?"":Ve.memoizedProps}catch(xn){bi(Ve,Ve.return,xn)}}}else if(l.tag===18){if(c===null){Ve=l;try{var Rt=Ve.stateNode;S?D0(Rt,!0):D0(Ve.stateNode,!1)}catch(xn){bi(Ve,Ve.return,xn)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,M0(i,c))));break;case 19:Vs(l,i),lo(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,M0(i,m)));break;case 30:break;case 21:break;default:Vs(l,i),lo(i)}}function lo(i){var l=i.flags;if(l&2){try{for(var c,m=i.return;m!==null;){if(_r(m)){c=m;break}m=m.return}if(c==null)throw Error(a(160));switch(c.tag){case 27:var S=c.stateNode,I=Rd(i);Th(i,I,S);break;case 5:var X=c.stateNode;c.flags&32&&(he(X,""),c.flags&=-33);var me=Rd(i);Th(i,me,X);break;case 3:case 4:var Ve=c.stateNode.containerInfo,bt=Rd(i);aa(i,bt,Ve);break;default:throw Error(a(161))}}catch(Ht){bi(i,i.return,Ht)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function Yo(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;Yo(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function ua(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)y1(i,l.alternate,l),l=l.sibling}function bu(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:Si(4,l,l.return),bu(l);break;case 1:Wt(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&Md(l,l.return,c),bu(l);break;case 27:ns(l.stateNode);case 26:case 5:Wt(l,l.return),bu(l);break;case 22:l.memoizedState===null&&bu(l);break;case 30:bu(l);break;default:bu(l)}i=i.sibling}}function ca(i,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,S=i,I=l,X=I.flags;switch(I.tag){case 0:case 11:case 15:ca(S,I,c),Wl(4,I);break;case 1:if(ca(S,I,c),m=I,S=m.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(bt){bi(m,m.return,bt)}if(m=I,S=m.updateQueue,S!==null){var me=m.stateNode;try{var Ve=S.shared.hiddenCallbacks;if(Ve!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Ve.length;S++)ji(Ve[S],me)}catch(bt){bi(m,m.return,bt)}}c&&X&64&&Id(I),vc(I,I.return);break;case 27:o2(I);case 26:case 5:ca(S,I,c),c&&m===null&&X&4&&ht(I),vc(I,I.return);break;case 12:ca(S,I,c);break;case 31:ca(S,I,c),c&&X&4&&l2(S,I);break;case 13:ca(S,I,c),c&&X&4&&Er(S,I);break;case 22:I.memoizedState===null&&ca(S,I,c),vc(I,I.return);break;case 30:break;default:ca(S,I,c)}l=l.sibling}}function Ld(i,l){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&x0(c))}function Dd(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&x0(i))}function R0(i,l,c,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Bd(i,l,c,m),l=l.sibling}function Bd(i,l,c,m){var S=l.flags;switch(l.tag){case 0:case 11:case 15:R0(i,l,c,m),S&2048&&Wl(9,l);break;case 1:R0(i,l,c,m);break;case 3:R0(i,l,c,m),S&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&x0(i)));break;case 12:if(S&2048){R0(i,l,c,m),i=l.stateNode;try{var I=l.memoizedProps,X=I.id,me=I.onPostCommit;typeof me=="function"&&me(X,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Ve){bi(l,l.return,Ve)}}else R0(i,l,c,m);break;case 31:R0(i,l,c,m);break;case 13:R0(i,l,c,m);break;case 23:break;case 22:I=l.stateNode,X=l.alternate,l.memoizedState!==null?I._visibility&2?R0(i,l,c,m):vu(i,l):I._visibility&2?R0(i,l,c,m):(I._visibility|=2,yc(i,l,c,m,(l.subtreeFlags&10256)!==0||!1)),S&2048&&Ld(X,l);break;case 24:R0(i,l,c,m),S&2048&&Dd(l.alternate,l);break;default:R0(i,l,c,m)}}function yc(i,l,c,m,S){for(S=S&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var I=i,X=l,me=c,Ve=m,bt=X.flags;switch(X.tag){case 0:case 11:case 15:yc(I,X,me,Ve,S),Wl(8,X);break;case 23:break;case 22:var Ht=X.stateNode;X.memoizedState!==null?Ht._visibility&2?yc(I,X,me,Ve,S):vu(I,X):(Ht._visibility|=2,yc(I,X,me,Ve,S)),S&&bt&2048&&Ld(X.alternate,X);break;case 24:yc(I,X,me,Ve,S),S&&bt&2048&&Dd(X.alternate,X);break;default:yc(I,X,me,Ve,S)}l=l.sibling}}function vu(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=i,m=l,S=m.flags;switch(m.tag){case 22:vu(c,m),S&2048&&Ld(m.alternate,m);break;case 24:vu(c,m),S&2048&&Dd(m.alternate,m);break;default:vu(c,m)}l=l.sibling}}var Tc=8192;function Va(i,l,c){if(i.subtreeFlags&Tc)for(i=i.child;i!==null;)Pd(i,l,c),i=i.sibling}function Pd(i,l,c){switch(i.tag){case 26:Va(i,l,c),i.flags&Tc&&i.memoizedState!==null&&B3(c,jo,i.memoizedState,i.memoizedProps);break;case 5:Va(i,l,c);break;case 3:case 4:var m=jo;jo=Ka(i.stateNode.containerInfo),Va(i,l,c),jo=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=Tc,Tc=16777216,Va(i,l,c),Tc=m):Va(i,l,c));break;default:Va(i,l,c)}}function k3(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function Eh(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var m=l[c];oo=m,_1(m,i)}k3(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)bl(i),i=i.sibling}function bl(i){switch(i.tag){case 0:case 11:case 15:Eh(i),i.flags&2048&&Si(9,i,i.return);break;case 3:Eh(i);break;case 12:Eh(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Ts(i)):Eh(i);break;default:Eh(i)}}function Ts(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var m=l[c];oo=m,_1(m,i)}k3(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:Si(8,l,l.return),Ts(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,Ts(l));break;default:Ts(l)}i=i.sibling}}function _1(i,l){for(;oo!==null;){var c=oo;switch(c.tag){case 0:case 11:case 15:Si(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:x0(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,oo=m;else e:for(c=i;oo!==null;){m=oo;var S=m.sibling,I=m.return;if(T1(m),m===c){oo=null;break e}if(S!==null){S.return=I,oo=S;break e}oo=I}}}var Fd={getCacheForType:function(i){var l=Zs(is),c=l.data.get(i);return c===void 0&&(c=i(),l.data.set(i,c)),c},cacheSignal:function(){return Zs(is).controller.signal}},a2=typeof WeakMap=="function"?WeakMap:Map,xi=0,Oi=null,Fr=null,fr=0,Yi=0,Ko=null,ha=!1,yu=!1,Tu=!1,N0=0,Ds=0,O0=0,Wa=0,zd=0,Bo=0,_c=0,E1=null,ao=null,Ud=!1,wh=0,u2=0,Sh=1/0,xh=null,qa=null,uo=0,Xa=null,vl=null,da=0,Hd=0,kh=null,Gd=null,w1=0,As=null;function ko(){return(xi&2)!==0&&fr!==0?fr&-fr:Ze.T!==null?El():x()}function c2(){if(Bo===0)if((fr&536870912)===0||Hr){var i=fs;fs<<=1,(fs&3932160)===0&&(fs=262144),Bo=i}else Bo=536870912;return i=rl.current,i!==null&&(i.flags|=32),Bo}function Co(i,l,c){(i===Oi&&(Yi===2||Yi===9)||i.cancelPendingCommit!==null)&&(_s(i,0),yl(i,fr,Bo,!1)),Sr(i,c),((xi&2)===0||i!==Oi)&&(i===Oi&&((xi&2)===0&&(Wa|=c),Ds===4&&yl(i,fr,Bo,!1)),L0(i))}function h2(i,l,c){if((xi&6)!==0)throw Error(a(327));var m=!c&&(l&127)===0&&(l&i.expiredLanes)===0||et(i,l),S=m?Wd(i,l):Vd(i,l,!0),I=m;do{if(S===0){yu&&!m&&yl(i,l,0,!1);break}else{if(c=i.current.alternate,I&&!C3(c)){S=Vd(i,l,!1),I=!1;continue}if(S===2){if(I=l,i.errorRecoveryDisabledLanes&I)var X=0;else X=i.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){l=X;e:{var me=i;S=E1;var Ve=me.current.memoizedState.isDehydrated;if(Ve&&(_s(me,X).flags|=256),X=Vd(me,X,!1),X!==2){if(Tu&&!Ve){me.errorRecoveryDisabledLanes|=I,Wa|=I,S=4;break e}I=ao,ao=S,I!==null&&(ao===null?ao=I:ao.push.apply(ao,I))}S=X}if(I=!1,S!==2)continue}}if(S===1){_s(i,0),yl(i,l,0,!0);break}e:{switch(m=i,I=S,I){case 0:case 1:throw Error(a(345));case 4:if((l&4194048)!==l)break;case 6:yl(m,l,Bo,!ha);break e;case 2:ao=null;break;case 3:case 5:break;default:throw Error(a(329))}if((l&62914560)===l&&(S=wh+300-Vn(),10<S)){if(yl(m,l,Bo,!ha),Pe(m,0,!0)!==0)break e;da=l,m.timeoutHandle=_2(d2.bind(null,m,c,ao,xh,Ud,l,Bo,Wa,_c,ha,I,"Throttled",-0,0),S);break e}d2(m,c,ao,xh,Ud,l,Bo,Wa,_c,ha,I,null,-0,0)}}break}while(!0);L0(i)}function d2(i,l,c,m,S,I,X,me,Ve,bt,Ht,jt,xt,Rt){if(i.timeoutHandle=-1,jt=l.subtreeFlags,jt&8192||(jt&16785408)===16785408){jt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nn},Pd(l,I,jt);var xn=(I&62914560)===I?wh-Vn():(I&4194048)===I?u2-Vn():0;if(xn=B1(jt,xn),xn!==null){da=I,i.cancelPendingCommit=xn(Su.bind(null,i,l,I,c,m,S,X,me,Ve,Ht,jt,null,xt,Rt)),yl(i,I,X,!bt);return}}Su(i,l,I,c,m,S,X,me,Ve)}function C3(i){for(var l=i;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var S=c[m],I=S.getSnapshot;S=S.value;try{if(!en(I(),S))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function yl(i,l,c,m){l&=~zd,l&=~Wa,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var S=l;0<S;){var I=31-Re(S),X=1<<I;m[I]=-1,S&=~X}c!==0&&To(i,c,l)}function Ch(){return(xi&6)===0?(C1(0),!1):!0}function Ec(){if(Fr!==null){if(Yi===0)var i=Fr.return;else i=Fr,Hl=K0=null,pc(i),wt=null,Kt=0,i=Fr;for(;i!==null;)s2(i.alternate,i),i=i.return;Fr=null}}function _s(i,l){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,r4(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),da=0,Ec(),Oi=i,Fr=c=Fl(i.current,null),fr=l,Yi=0,Ko=null,ha=!1,yu=et(i,l),Tu=!1,_c=Bo=zd=Wa=O0=Ds=0,ao=E1=null,Ud=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var S=31-Re(m),I=1<<S;l|=i[S],m&=~I}return N0=l,r0(),c}function _u(i,l){kr=null,Ze.H=$c,l===b||l===O?(l=it(),Yi=3):l===C?(l=it(),Yi=4):Yi=l===Y4?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ko=l,Fr===null&&(Ds=1,gh(i,Zo(l,i.current)))}function Eu(){var i=rl.current;return i===null?!0:(fr&4194048)===fr?pl===null:(fr&62914560)===fr||(fr&536870912)!==0?i===pl:!1}function Ah(){var i=Ze.H;return Ze.H=$c,i===null?$c:i}function Ih(){var i=Ze.A;return Ze.A=Fd,i}function Mh(){Ds=4,ha||(fr&4194048)!==fr&&rl.current!==null||(yu=!0),(O0&134217727)===0&&(Wa&134217727)===0||Oi===null||yl(Oi,fr,Bo,!1)}function Vd(i,l,c){var m=xi;xi|=2;var S=Ah(),I=Ih();(Oi!==i||fr!==l)&&(xh=null,_s(i,l)),l=!1;var X=Ds;e:do try{if(Yi!==0&&Fr!==null){var me=Fr,Ve=Ko;switch(Yi){case 8:Ec(),X=6;break e;case 3:case 2:case 9:case 6:rl.current===null&&(l=!0);var bt=Yi;if(Yi=0,Ko=null,wc(i,me,Ve,bt),c&&yu){X=0;break e}break;default:bt=Yi,Yi=0,Ko=null,wc(i,me,Ve,bt)}}f2(),X=Ds;break}catch(Ht){_u(i,Ht)}while(!0);return l&&i.shellSuspendCounter++,Hl=K0=null,xi=m,Ze.H=S,Ze.A=I,Fr===null&&(Oi=null,fr=0,r0()),X}function f2(){for(;Fr!==null;)wu(Fr)}function Wd(i,l){var c=xi;xi|=2;var m=Ah(),S=Ih();Oi!==i||fr!==l?(xh=null,Sh=Vn()+500,_s(i,l)):yu=et(i,l);e:do try{if(Yi!==0&&Fr!==null){l=Fr;var I=Ko;t:switch(Yi){case 1:Yi=0,Ko=null,wc(i,l,I,1);break;case 2:case 9:if(J(I)){Yi=0,Ko=null,m2(l);break}l=function(){Yi!==2&&Yi!==9||Oi!==i||(Yi=7),L0(i)},I.then(l,l);break e;case 3:Yi=7;break e;case 4:Yi=5;break e;case 7:J(I)?(Yi=0,Ko=null,m2(l)):(Yi=0,Ko=null,wc(i,l,I,7));break;case 5:var X=null;switch(Fr.tag){case 26:X=Fr.memoizedState;case 5:case 27:var me=Fr;if(X?Ji(X):me.stateNode.complete){Yi=0,Ko=null;var Ve=me.sibling;if(Ve!==null)Fr=Ve;else{var bt=me.return;bt!==null?(Fr=bt,cs(bt)):Fr=null}break t}}Yi=0,Ko=null,wc(i,l,I,5);break;case 6:Yi=0,Ko=null,wc(i,l,I,6);break;case 8:Ec(),Ds=6;break e;default:throw Error(a(462))}}p2();break}catch(Ht){_u(i,Ht)}while(!0);return Hl=K0=null,Ze.H=m,Ze.A=S,xi=c,Fr!==null?0:(Oi=null,fr=0,r0(),Ds)}function p2(){for(;Fr!==null&&!yi();)wu(Fr)}function wu(i){var l=t2(i.alternate,i,N0);i.memoizedProps=i.pendingProps,l===null?cs(i):Fr=l}function m2(i){var l=i,c=l.alternate;switch(l.tag){case 15:case 0:l=ia(c,l,l.pendingProps,l.type,void 0,fr);break;case 11:l=ia(c,l,l.pendingProps,l.type.render,l.ref,fr);break;case 5:pc(l);default:s2(c,l),l=Fr=td(l,N0),l=t2(c,l,N0)}i.memoizedProps=i.pendingProps,l===null?cs(i):Fr=l}function wc(i,l,c,m){Hl=K0=null,pc(l),wt=null,Kt=0;var S=l.return;try{if(w3(i,S,l,c,fr)){Ds=1,gh(i,Zo(c,i.current)),Fr=null;return}}catch(I){if(S!==null)throw Fr=S,I;Ds=1,gh(i,Zo(c,i.current)),Fr=null;return}l.flags&32768?(Hr||m===1?i=!0:yu||(fr&536870912)!==0?i=!1:(ha=i=!0,(m===2||m===9||m===3||m===6)&&(m=rl.current,m!==null&&m.tag===13&&(m.flags|=16384))),S1(l,i)):cs(l)}function cs(i){var l=i;do{if((l.flags&32768)!==0){S1(l,ha);return}i=l.return;var c=r2(l.alternate,l,N0);if(c!==null){Fr=c;return}if(l=l.sibling,l!==null){Fr=l;return}Fr=l=i}while(l!==null);Ds===0&&(Ds=5)}function S1(i,l){do{var c=i2(i.alternate,i);if(c!==null){c.flags&=32767,Fr=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(i=i.sibling,i!==null)){Fr=i;return}Fr=i=c}while(i!==null);Ds=6,Fr=null}function Su(i,l,c,m,S,I,X,me,Ve){i.cancelPendingCommit=null;do Sc();while(uo!==0);if((xi&6)!==0)throw Error(a(327));if(l!==null){if(l===i.current)throw Error(a(177));if(I=l.lanes|l.childLanes,I|=go,Ml(i,c,I,X,me,Ve),i===Oi&&(Fr=Oi=null,fr=0),vl=l,Xa=i,da=c,Hd=I,kh=S,Gd=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,kc(Le,function(){return Xd(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=Ze.T,Ze.T=null,S=$t.p,$t.p=2,X=xi,xi|=4;try{Nd(i,l,c)}finally{xi=X,$t.p=S,Ze.T=m}}uo=1,qd(),ja(),g2()}}function qd(){if(uo===1){uo=0;var i=Xa,l=vl,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=Ze.T,Ze.T=null;var m=$t.p;$t.p=2;var S=xi;xi|=4;try{Ga(l,i);var I=R1,X=ai(i.containerInfo),me=I.focusedElem,Ve=I.selectionRange;if(X!==me&&me&&me.ownerDocument&&Xr(me.ownerDocument.documentElement,me)){if(Ve!==null&&Kr(me)){var bt=Ve.start,Ht=Ve.end;if(Ht===void 0&&(Ht=bt),"selectionStart"in me)me.selectionStart=bt,me.selectionEnd=Math.min(Ht,me.value.length);else{var jt=me.ownerDocument||document,xt=jt&&jt.defaultView||window;if(xt.getSelection){var Rt=xt.getSelection(),xn=me.textContent.length,rr=Math.min(Ve.start,xn),ki=Ve.end===void 0?rr:Math.min(Ve.end,xn);!Rt.extend&&rr>ki&&(X=ki,ki=rr,rr=X);var ot=or(me,rr),Ye=or(me,ki);if(ot&&Ye&&(Rt.rangeCount!==1||Rt.anchorNode!==ot.node||Rt.anchorOffset!==ot.offset||Rt.focusNode!==Ye.node||Rt.focusOffset!==Ye.offset)){var gt=jt.createRange();gt.setStart(ot.node,ot.offset),Rt.removeAllRanges(),rr>ki?(Rt.addRange(gt),Rt.extend(Ye.node,Ye.offset)):(gt.setEnd(Ye.node,Ye.offset),Rt.addRange(gt))}}}}for(jt=[],Rt=me;Rt=Rt.parentNode;)Rt.nodeType===1&&jt.push({element:Rt,left:Rt.scrollLeft,top:Rt.scrollTop});for(typeof me.focus=="function"&&me.focus(),me=0;me<jt.length;me++){var Gt=jt[me];Gt.element.scrollLeft=Gt.left,Gt.element.scrollTop=Gt.top}}z1=!!Ac,R1=Ac=null}finally{xi=S,$t.p=m,Ze.T=c}}i.current=l,uo=2}}function ja(){if(uo===2){uo=0;var i=Xa,l=vl,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=Ze.T,Ze.T=null;var m=$t.p;$t.p=2;var S=xi;xi|=4;try{y1(i,l.alternate,l)}finally{xi=S,$t.p=m,Ze.T=c}}uo=3}}function g2(){if(uo===4||uo===3){uo=0,sr();var i=Xa,l=vl,c=da,m=Gd;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?uo=5:(uo=0,vl=Xa=null,Rh(i,i.pendingLanes));var S=i.pendingLanes;if(S===0&&(qa=null),Jt(c),l=l.stateNode,ue&&typeof ue.onCommitFiberRoot=="function")try{ue.onCommitFiberRoot(N,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=Ze.T,S=$t.p,$t.p=2,Ze.T=null;try{for(var I=i.onRecoverableError,X=0;X<m.length;X++){var me=m[X];I(me.value,{componentStack:me.stack})}}finally{Ze.T=l,$t.p=S}}(da&3)!==0&&Sc(),L0(i),S=i.pendingLanes,(c&261930)!==0&&(S&42)!==0?i===As?w1++:(w1=0,As=i):w1=0,C1(0)}}function Rh(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,x0(l)))}function Sc(){return qd(),ja(),g2(),Xd()}function Xd(){if(uo!==5)return!1;var i=Xa,l=Hd;Hd=0;var c=Jt(da),m=Ze.T,S=$t.p;try{$t.p=32>c?32:c,Ze.T=null,c=kh,kh=null;var I=Xa,X=da;if(uo=0,vl=Xa=null,da=0,(xi&6)!==0)throw Error(a(331));var me=xi;if(xi|=4,bl(I.current),Bd(I,I.current,X,c),xi=me,C1(0,!1),ue&&typeof ue.onPostCommitFiberRoot=="function")try{ue.onPostCommitFiberRoot(N,I)}catch{}return!0}finally{$t.p=S,Ze.T=m,Rh(i,l)}}function Po(i,l,c){l=Zo(c,l),l=m1(i.stateNode,l,2),i=$s(i,l,2),i!==null&&(Sr(i,2),L0(i))}function bi(i,l,c){if(i.tag===3)Po(i,i,c);else for(;l!==null;){if(l.tag===3){Po(l,i,c);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(qa===null||!qa.has(m))){i=Zo(c,i),c=j4(2),m=$s(l,c,2),m!==null&&(Ad(c,m,l,i),Sr(m,2),L0(m));break}}l=l.return}}function x1(i,l,c){var m=i.pingCache;if(m===null){m=i.pingCache=new a2;var S=new Set;m.set(l,S)}else S=m.get(l),S===void 0&&(S=new Set,m.set(l,S));S.has(c)||(Tu=!0,S.add(c),i=Nh.bind(null,i,l,c),l.then(i,i))}function Nh(i,l,c){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Oi===i&&(fr&c)===c&&(Ds===4||Ds===3&&(fr&62914560)===fr&&300>Vn()-wh?(xi&2)===0&&_s(i,0):zd|=c,_c===fr&&(_c=0)),L0(i)}function xc(i,l){l===0&&(l=dn()),i=Jo(i,l),i!==null&&(Sr(i,l),L0(i))}function A3(i){var l=i.memoizedState,c=0;l!==null&&(c=l.retryLane),xc(i,c)}function I3(i,l){var c=0;switch(i.tag){case 31:case 13:var m=i.stateNode,S=i.memoizedState;S!==null&&(c=S.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(a(314))}m!==null&&m.delete(l),xc(i,c)}function kc(i,l){return Qn(i,l)}var k1=null,xu=null,Tl=!1,ku=!1,Oh=!1,fa=0;function L0(i){i!==xu&&i.next===null&&(xu===null?k1=xu=i:xu=xu.next=i),ku=!0,Tl||(Tl=!0,M3())}function C1(i,l){if(!Oh&&ku){Oh=!0;do for(var c=!1,m=k1;m!==null;){if(i!==0){var S=m.pendingLanes;if(S===0)var I=0;else{var X=m.suspendedLanes,me=m.pingedLanes;I=(1<<31-Re(42|i)+1)-1,I&=S&~(X&~me),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(c=!0,Kd(m,I))}else I=fr,I=Pe(m,m===Oi?I:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(I&3)===0||et(m,I)||(c=!0,Kd(m,I));m=m.next}while(c);Oh=!1}}function jd(){eo()}function eo(){ku=Tl=!1;var i=0;fa!==0&&T2()&&(i=fa);for(var l=Vn(),c=null,m=k1;m!==null;){var S=m.next,I=_l(m,l);I===0?(m.next=null,c===null?k1=S:c.next=S,S===null&&(xu=c)):(c=m,(i!==0||(I&3)!==0)&&(ku=!0)),m=S}uo!==0&&uo!==5||C1(i),fa!==0&&(fa=0)}function _l(i,l){for(var c=i.suspendedLanes,m=i.pingedLanes,S=i.expirationTimes,I=i.pendingLanes&-62914561;0<I;){var X=31-Re(I),me=1<<X,Ve=S[X];Ve===-1?((me&c)===0||(me&m)!==0)&&(S[X]=Ft(me,l)):Ve<=l&&(i.expiredLanes|=me),I&=~me}if(l=Oi,c=fr,c=Pe(i,i===l?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,c===0||i===l&&(Yi===2||Yi===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&ss(m),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||et(i,c)){if(l=c&-c,l===i.callbackPriority)return l;switch(m!==null&&ss(m),Jt(c)){case 2:case 8:c=Ce;break;case 32:c=Le;break;case 268435456:c=Qe;break;default:c=Le}return m=Yd.bind(null,i),c=Qn(c,m),i.callbackPriority=l,i.callbackNode=c,l}return m!==null&&m!==null&&ss(m),i.callbackPriority=2,i.callbackNode=null,2}function Yd(i,l){if(uo!==0&&uo!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Sc()&&i.callbackNode!==c)return null;var m=fr;return m=Pe(i,i===Oi?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(h2(i,m,l),_l(i,Vn()),i.callbackNode!=null&&i.callbackNode===c?Yd.bind(null,i):null)}function Kd(i,l){if(Sc())return null;h2(i,l,!0)}function M3(){Ic(function(){(xi&6)!==0?Qn(ne,jd):eo()})}function El(){if(fa===0){var i=Da;i===0&&(i=ds,ds<<=1,(ds&261888)===0&&(ds=256)),fa=i}return fa}function A1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:qt(""+i)}function Li(i,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,i.id&&c.setAttribute("form",i.id),l.parentNode.insertBefore(c,l),i=new FormData(i),c.parentNode.removeChild(c),i}function Ws(i,l,c,m,S){if(l==="submit"&&c&&c.stateNode===S){var I=A1((S[we]||null).action),X=m.submitter;X&&(l=(l=X[we]||null)?A1(l.formAction):X.getAttribute("formAction"),l!==null&&(I=l,X=null));var me=new ho("action","action",null,m,S);i.push({event:me,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(fa!==0){var Ve=X?Li(S,X):new FormData(S);_t(c,{pending:!0,data:Ve,method:S.method,action:I},null,Ve)}}else typeof I=="function"&&(me.preventDefault(),Ve=X?Li(S,X):new FormData(S),_t(c,{pending:!0,data:Ve,method:S.method,action:I},I,Ve))},currentTarget:S}]})}}for(var Cu=0;Cu<Ks.length;Cu++){var Jd=Ks[Cu],Zd=Jd.toLowerCase(),$2=Jd[0].toUpperCase()+Jd.slice(1);ls(Zd,"on"+$2)}ls(Cr,"onAnimationEnd"),ls(os,"onAnimationIteration"),ls(de,"onAnimationStart"),ls("dblclick","onDoubleClick"),ls("focusin","onFocus"),ls("focusout","onBlur"),ls(wi,"onTransitionRun"),ls(es,"onTransitionStart"),ls(hl,"onTransitionCancel"),ls(ro,"onTransitionEnd"),fn("onMouseEnter",["mouseout","mouseover"]),fn("onMouseLeave",["mouseout","mouseover"]),fn("onPointerEnter",["pointerout","pointerover"]),fn("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pa));function wl(i,l){l=(l&4)!==0;for(var c=0;c<i.length;c++){var m=i[c],S=m.event;m=m.listeners;e:{var I=void 0;if(l)for(var X=m.length-1;0<=X;X--){var me=m[X],Ve=me.instance,bt=me.currentTarget;if(me=me.listener,Ve!==I&&S.isPropagationStopped())break e;I=me,S.currentTarget=bt;try{I(S)}catch(Ht){lr(Ht)}S.currentTarget=null,I=Ve}else for(X=0;X<m.length;X++){if(me=m[X],Ve=me.instance,bt=me.currentTarget,me=me.listener,Ve!==I&&S.isPropagationStopped())break e;I=me,S.currentTarget=bt;try{I(S)}catch(Ht){lr(Ht)}S.currentTarget=null,I=Ve}}}}function zr(i,l){var c=l[Ee];c===void 0&&(c=l[Ee]=new Set);var m=i+"__bubble";c.has(m)||(Lh(l,i,2,!1),c.add(m))}function ql(i,l,c){var m=0;l&&(m|=4),Lh(c,i,m,l)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Qd(i){if(!i[Cc]){i[Cc]=!0,On.forEach(function(c){c!=="selectionchange"&&(I1.has(c)||ql(c,!1,i),ql(c,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Cc]||(l[Cc]=!0,ql("selectionchange",!1,l))}}function Lh(i,l,c,m){switch(D2(l)){case 2:var S=O2;break;case 8:S=U3;break;default:S=a4}c=S.bind(null,l,c,i),S=void 0,!Ys||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),m?S!==void 0?i.addEventListener(l,c,{capture:!0,passive:S}):i.addEventListener(l,c,!0):S!==void 0?i.addEventListener(l,c,{passive:S}):i.addEventListener(l,c,!1)}function Ya(i,l,c,m,S){var I=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var X=m.tag;if(X===3||X===4){var me=m.stateNode.containerInfo;if(me===S)break;if(X===4)for(X=m.return;X!==null;){var Ve=X.tag;if((Ve===3||Ve===4)&&X.stateNode.containerInfo===S)return;X=X.return}for(;me!==null;){if(X=Se(me),X===null)return;if(Ve=X.tag,Ve===5||Ve===6||Ve===26||Ve===27){m=I=X;continue e}me=me.parentNode}}m=m.return}Dr(function(){var bt=I,Ht=gn(c),jt=[];e:{var xt=mo.get(i);if(xt!==void 0){var Rt=ho,xn=i;switch(i){case"keypress":if(Qi(c)===0)break e;case"keydown":case"keyup":Rt=mr;break;case"focusin":xn="focus",Rt=qr;break;case"focusout":xn="blur",Rt=qr;break;case"beforeblur":case"afterblur":Rt=qr;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rt=t0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rt=Fs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rt=Zu;break;case Cr:case os:case de:Rt=Vo;break;case ro:Rt=$0;break;case"scroll":case"scrollend":Rt=Ps;break;case"wheel":Rt=b0;break;case"copy":case"cut":case"paste":Rt=Nl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rt=V0;break;case"toggle":case"beforetoggle":Rt=W0}var rr=(l&4)!==0,ki=!rr&&(i==="scroll"||i==="scrollend"),ot=rr?xt!==null?xt+"Capture":null:xt;rr=[];for(var Ye=bt,gt;Ye!==null;){var Gt=Ye;if(gt=Gt.stateNode,Gt=Gt.tag,Gt!==5&&Gt!==26&&Gt!==27||gt===null||ot===null||(Gt=ir(Ye,ot),Gt!=null&&rr.push(wr(Ye,Gt,gt))),ki)break;Ye=Ye.return}0<rr.length&&(xt=new Rt(xt,xn,null,c,Ht),jt.push({event:xt,listeners:rr}))}}if((l&7)===0){e:{if(xt=i==="mouseover"||i==="pointerover",Rt=i==="mouseout"||i==="pointerout",xt&&c!==Sn&&(xn=c.relatedTarget||c.fromElement)&&(Se(xn)||xn[Q]))break e;if((Rt||xt)&&(xt=Ht.window===Ht?Ht:(xt=Ht.ownerDocument)?xt.defaultView||xt.parentWindow:window,Rt?(xn=c.relatedTarget||c.toElement,Rt=bt,xn=xn?Se(xn):null,xn!==null&&(ki=p(xn),rr=xn.tag,xn!==ki||rr!==5&&rr!==27&&rr!==6)&&(xn=null)):(Rt=null,xn=bt),Rt!==xn)){if(rr=t0,Gt="onMouseLeave",ot="onMouseEnter",Ye="mouse",(i==="pointerout"||i==="pointerover")&&(rr=V0,Gt="onPointerLeave",ot="onPointerEnter",Ye="pointer"),ki=Rt==null?xt:In(Rt),gt=xn==null?xt:In(xn),xt=new rr(Gt,Ye+"leave",Rt,c,Ht),xt.target=ki,xt.relatedTarget=gt,Gt=null,Se(Ht)===bt&&(rr=new rr(ot,Ye+"enter",xn,c,Ht),rr.target=gt,rr.relatedTarget=ki,Gt=rr),ki=Gt,Rt&&xn)t:{for(rr=Au,ot=Rt,Ye=xn,gt=0,Gt=ot;Gt;Gt=rr(Gt))gt++;Gt=0;for(var qn=Ye;qn;qn=rr(qn))Gt++;for(;0<gt-Gt;)ot=rr(ot),gt--;for(;0<Gt-gt;)Ye=rr(Ye),Gt--;for(;gt--;){if(ot===Ye||Ye!==null&&ot===Ye.alternate){rr=ot;break t}ot=rr(ot),Ye=rr(Ye)}rr=null}else rr=null;Rt!==null&&Dh(jt,xt,Rt,rr,!1),xn!==null&&ki!==null&&Dh(jt,ki,xn,rr,!0)}}e:{if(xt=bt?In(bt):window,Rt=xt.nodeName&&xt.nodeName.toLowerCase(),Rt==="select"||Rt==="input"&&xt.type==="file")var di=at;else if(y(xt))if(St)di=yr;else{di=Gn;var Bn=Ln}else Rt=xt.nodeName,!Rt||Rt.toLowerCase()!=="input"||xt.type!=="checkbox"&&xt.type!=="radio"?bt&&At(bt.elementType)&&(di=at):di=er;if(di&&(di=di(i,bt))){M(jt,di,c,Ht);break e}Bn&&Bn(i,xt,bt),i==="focusout"&&bt&&xt.type==="number"&&bt.memoizedProps.value!=null&&k(xt,"number",xt.value)}switch(Bn=bt?In(bt):window,i){case"focusin":(y(Bn)||Bn.contentEditable==="true")&&(Jr=Bn,Ti=bt,Pr=null);break;case"focusout":Pr=Ti=Jr=null;break;case"mousedown":Ui=!0;break;case"contextmenu":case"mouseup":case"dragend":Ui=!1,ms(jt,c,Ht);break;case"selectionchange":if(ri)break;case"keydown":case"keyup":ms(jt,c,Ht)}var _n;if(v0)e:{switch(i){case"compositionstart":var Zr="onCompositionStart";break e;case"compositionend":Zr="onCompositionEnd";break e;case"compositionupdate":Zr="onCompositionUpdate";break e}Zr=void 0}else Dl?Aa(i,c)&&(Zr="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Zr="onCompositionStart");Zr&&(tc&&c.locale!=="ko"&&(Dl||Zr!=="onCompositionStart"?Zr==="onCompositionEnd"&&Dl&&(_n=zi()):(Fn=Ht,li="value"in Fn?Fn.value:Fn.textContent,Dl=!0)),Bn=M1(bt,Zr),0<Bn.length&&(Zr=new iu(Zr,i,null,c,Ht),jt.push({event:Zr,listeners:Bn}),_n?Zr.data=_n:(_n=q0(c),_n!==null&&(Zr.data=_n)))),(_n=ec?Ia(i,c):lu(i,c))&&(Zr=M1(bt,"onBeforeInput"),0<Zr.length&&(Bn=new iu("onBeforeInput","beforeinput",null,c,Ht),jt.push({event:Bn,listeners:Zr}),Bn.data=_n)),Ws(jt,i,bt,c,Ht)}wl(jt,l)})}function wr(i,l,c){return{instance:i,listener:l,currentTarget:c}}function M1(i,l){for(var c=l+"Capture",m=[];i!==null;){var S=i,I=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||I===null||(S=ir(i,c),S!=null&&m.unshift(wr(i,S,I)),S=ir(i,l),S!=null&&m.push(wr(i,S,I))),i.tag===3)return m;i=i.return}return[]}function Au(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Dh(i,l,c,m,S){for(var I=l._reactName,X=[];c!==null&&c!==m;){var me=c,Ve=me.alternate,bt=me.stateNode;if(me=me.tag,Ve!==null&&Ve===m)break;me!==5&&me!==26&&me!==27||bt===null||(Ve=bt,S?(bt=ir(c,I),bt!=null&&X.unshift(wr(c,bt,Ve))):S||(bt=ir(c,I),bt!=null&&X.push(wr(c,bt,Ve)))),c=c.return}X.length!==0&&i.push({event:l,listeners:X})}var X5=/\r\n?/g,R3=/\u0000|\uFFFD/g;function b2(i){return(typeof i=="string"?i:""+i).replace(X5,`
`).replace(R3,"")}function Bh(i,l){return l=b2(l),b2(i)===l}function Ki(i,l,c,m,S,I){switch(c){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||he(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&he(i,""+m);break;case"className":fe(i,"class",m);break;case"tabIndex":fe(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":fe(i,c,m);break;case"style":pt(i,m,I);break;case"data":if(l!=="object"){fe(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||c!=="href")){i.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(c);break}m=qt(""+m),i.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(c==="formAction"?(l!=="input"&&Ki(i,l,"name",S.name,S,null),Ki(i,l,"formEncType",S.formEncType,S,null),Ki(i,l,"formMethod",S.formMethod,S,null),Ki(i,l,"formTarget",S.formTarget,S,null)):(Ki(i,l,"encType",S.encType,S,null),Ki(i,l,"method",S.method,S,null),Ki(i,l,"target",S.target,S,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(c);break}m=qt(""+m),i.setAttribute(c,m);break;case"onClick":m!=null&&(i.onclick=nn);break;case"onScroll":m!=null&&zr("scroll",i);break;case"onScrollEnd":m!=null&&zr("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(c=m.__html,c!=null){if(S.children!=null)throw Error(a(60));i.innerHTML=c}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}c=qt(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(c,""+m):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":m===!0?i.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(c,m):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(c,m):i.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(c):i.setAttribute(c,m);break;case"popover":zr("beforetoggle",i),zr("toggle",i),Qt(i,"popover",m);break;case"xlinkActuate":Ci(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ci(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ci(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ci(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ci(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ci(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ci(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ci(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ci(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Qt(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Tt.get(c)||c,Qt(i,c,m))}}function e4(i,l,c,m,S,I){switch(c){case"style":pt(i,m,I);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(c=m.__html,c!=null){if(S.children!=null)throw Error(a(60));i.innerHTML=c}}break;case"children":typeof m=="string"?he(i,m):(typeof m=="number"||typeof m=="bigint")&&he(i,""+m);break;case"onScroll":m!=null&&zr("scroll",i);break;case"onScrollEnd":m!=null&&zr("scrollend",i);break;case"onClick":m!=null&&(i.onclick=nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zi.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(S=c.endsWith("Capture"),l=c.slice(2,S?c.length-7:void 0),I=i[we]||null,I=I!=null?I[c]:null,typeof I=="function"&&i.removeEventListener(l,I,S),typeof m=="function")){typeof I!="function"&&I!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(l,m,S);break e}c in i?i[c]=m:m===!0?i.setAttribute(c,""):Qt(i,c,m)}}}function vo(i,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zr("error",i),zr("load",i);var m=!1,S=!1,I;for(I in c)if(c.hasOwnProperty(I)){var X=c[I];if(X!=null)switch(I){case"src":m=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:Ki(i,l,I,X,c,null)}}S&&Ki(i,l,"srcSet",c.srcSet,c,null),m&&Ki(i,l,"src",c.src,c,null);return;case"input":zr("invalid",i);var me=I=X=S=null,Ve=null,bt=null;for(m in c)if(c.hasOwnProperty(m)){var Ht=c[m];if(Ht!=null)switch(m){case"name":S=Ht;break;case"type":X=Ht;break;case"checked":Ve=Ht;break;case"defaultChecked":bt=Ht;break;case"value":I=Ht;break;case"defaultValue":me=Ht;break;case"children":case"dangerouslySetInnerHTML":if(Ht!=null)throw Error(a(137,l));break;default:Ki(i,l,m,Ht,c,null)}}d(i,I,me,Ve,bt,X,S,!1);return;case"select":zr("invalid",i),m=X=I=null;for(S in c)if(c.hasOwnProperty(S)&&(me=c[S],me!=null))switch(S){case"value":I=me;break;case"defaultValue":X=me;break;case"multiple":m=me;default:Ki(i,l,S,me,c,null)}l=I,c=X,i.multiple=!!m,l!=null?D(i,!!m,l,!1):c!=null&&D(i,!!m,c,!0);return;case"textarea":zr("invalid",i),I=S=m=null;for(X in c)if(c.hasOwnProperty(X)&&(me=c[X],me!=null))switch(X){case"value":m=me;break;case"defaultValue":S=me;break;case"children":I=me;break;case"dangerouslySetInnerHTML":if(me!=null)throw Error(a(91));break;default:Ki(i,l,X,me,c,null)}re(i,m,S,I);return;case"option":for(Ve in c)if(c.hasOwnProperty(Ve)&&(m=c[Ve],m!=null))switch(Ve){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ki(i,l,Ve,m,c,null)}return;case"dialog":zr("beforetoggle",i),zr("toggle",i),zr("cancel",i),zr("close",i);break;case"iframe":case"object":zr("load",i);break;case"video":case"audio":for(m=0;m<pa.length;m++)zr(pa[m],i);break;case"image":zr("error",i),zr("load",i);break;case"details":zr("toggle",i);break;case"embed":case"source":case"link":zr("error",i),zr("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(bt in c)if(c.hasOwnProperty(bt)&&(m=c[bt],m!=null))switch(bt){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:Ki(i,l,bt,m,c,null)}return;default:if(At(l)){for(Ht in c)c.hasOwnProperty(Ht)&&(m=c[Ht],m!==void 0&&e4(i,l,Ht,m,c,void 0));return}}for(me in c)c.hasOwnProperty(me)&&(m=c[me],m!=null&&Ki(i,l,me,m,c,null))}function t4(i,l,c,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,I=null,X=null,me=null,Ve=null,bt=null,Ht=null;for(Rt in c){var jt=c[Rt];if(c.hasOwnProperty(Rt)&&jt!=null)switch(Rt){case"checked":break;case"value":break;case"defaultValue":Ve=jt;default:m.hasOwnProperty(Rt)||Ki(i,l,Rt,null,m,jt)}}for(var xt in m){var Rt=m[xt];if(jt=c[xt],m.hasOwnProperty(xt)&&(Rt!=null||jt!=null))switch(xt){case"type":I=Rt;break;case"name":S=Rt;break;case"checked":bt=Rt;break;case"defaultChecked":Ht=Rt;break;case"value":X=Rt;break;case"defaultValue":me=Rt;break;case"children":case"dangerouslySetInnerHTML":if(Rt!=null)throw Error(a(137,l));break;default:Rt!==jt&&Ki(i,l,xt,Rt,m,jt)}}jn(i,X,me,Ve,bt,Ht,I,S);return;case"select":Rt=X=me=xt=null;for(I in c)if(Ve=c[I],c.hasOwnProperty(I)&&Ve!=null)switch(I){case"value":break;case"multiple":Rt=Ve;default:m.hasOwnProperty(I)||Ki(i,l,I,null,m,Ve)}for(S in m)if(I=m[S],Ve=c[S],m.hasOwnProperty(S)&&(I!=null||Ve!=null))switch(S){case"value":xt=I;break;case"defaultValue":me=I;break;case"multiple":X=I;default:I!==Ve&&Ki(i,l,S,I,m,Ve)}l=me,c=X,m=Rt,xt!=null?D(i,!!c,xt,!1):!!m!=!!c&&(l!=null?D(i,!!c,l,!0):D(i,!!c,c?[]:"",!1));return;case"textarea":Rt=xt=null;for(me in c)if(S=c[me],c.hasOwnProperty(me)&&S!=null&&!m.hasOwnProperty(me))switch(me){case"value":break;case"children":break;default:Ki(i,l,me,null,m,S)}for(X in m)if(S=m[X],I=c[X],m.hasOwnProperty(X)&&(S!=null||I!=null))switch(X){case"value":xt=S;break;case"defaultValue":Rt=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:S!==I&&Ki(i,l,X,S,m,I)}H(i,xt,Rt);return;case"option":for(var xn in c)if(xt=c[xn],c.hasOwnProperty(xn)&&xt!=null&&!m.hasOwnProperty(xn))switch(xn){case"selected":i.selected=!1;break;default:Ki(i,l,xn,null,m,xt)}for(Ve in m)if(xt=m[Ve],Rt=c[Ve],m.hasOwnProperty(Ve)&&xt!==Rt&&(xt!=null||Rt!=null))switch(Ve){case"selected":i.selected=xt&&typeof xt!="function"&&typeof xt!="symbol";break;default:Ki(i,l,Ve,xt,m,Rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rr in c)xt=c[rr],c.hasOwnProperty(rr)&&xt!=null&&!m.hasOwnProperty(rr)&&Ki(i,l,rr,null,m,xt);for(bt in m)if(xt=m[bt],Rt=c[bt],m.hasOwnProperty(bt)&&xt!==Rt&&(xt!=null||Rt!=null))switch(bt){case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(a(137,l));break;default:Ki(i,l,bt,xt,m,Rt)}return;default:if(At(l)){for(var ki in c)xt=c[ki],c.hasOwnProperty(ki)&&xt!==void 0&&!m.hasOwnProperty(ki)&&e4(i,l,ki,void 0,m,xt);for(Ht in m)xt=m[Ht],Rt=c[Ht],!m.hasOwnProperty(Ht)||xt===Rt||xt===void 0&&Rt===void 0||e4(i,l,Ht,xt,m,Rt);return}}for(var ot in c)xt=c[ot],c.hasOwnProperty(ot)&&xt!=null&&!m.hasOwnProperty(ot)&&Ki(i,l,ot,null,m,xt);for(jt in m)xt=m[jt],Rt=c[jt],!m.hasOwnProperty(jt)||xt===Rt||xt==null&&Rt==null||Ki(i,l,jt,xt,m,Rt)}function v2(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function N3(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var S=c[m],I=S.transferSize,X=S.initiatorType,me=S.duration;if(I&&me&&v2(X)){for(X=0,me=S.responseEnd,m+=1;m<c.length;m++){var Ve=c[m],bt=Ve.startTime;if(bt>me)break;var Ht=Ve.transferSize,jt=Ve.initiatorType;Ht&&v2(jt)&&(Ve=Ve.responseEnd,X+=Ht*(Ve<me?1:(me-bt)/(Ve-bt)))}if(--m,l+=8*(I+X)/(S.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ac=null,R1=null;function u0(i){return i.nodeType===9?i:i.ownerDocument}function Fo(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n4(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function y2(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ph=null;function T2(){var i=window.event;return i&&i.type==="popstate"?i===Ph?!1:(Ph=i,!0):(Ph=null,!1)}var _2=typeof setTimeout=="function"?setTimeout:void 0,r4=typeof clearTimeout=="function"?clearTimeout:void 0,Ao=typeof Promise=="function"?Promise:void 0,Ic=typeof queueMicrotask=="function"?queueMicrotask:typeof Ao<"u"?function(i){return Ao.resolve(null).then(i).catch(j5)}:_2;function j5(i){setTimeout(function(){throw i})}function Iu(i){return i==="head"}function Fh(i,l){var c=l,m=0;do{var S=c.nextSibling;if(i.removeChild(c),S&&S.nodeType===8)if(c=S.data,c==="/$"||c==="/&"){if(m===0){i.removeChild(S),Bc(l);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")ns(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,ns(c);for(var I=c.firstChild;I;){var X=I.nextSibling,me=I.nodeName;I[te]||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&I.rel.toLowerCase()==="stylesheet"||c.removeChild(I),I=X}}else c==="body"&&ns(i.ownerDocument.body);c=S}while(c);Bc(l)}function D0(i,l){var c=i;i=0;do{var m=c.nextSibling;if(c.nodeType===1?l?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(l?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=m}while(c)}function i4(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":i4(c),Nt(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function Xl(i,l,c,m){for(;i.nodeType===1;){var S=c;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[te])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(I=i.getAttribute("rel"),I==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(I!==S.rel||i.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||i.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||i.getAttribute("title")!==(S.title==null?null:S.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(I=i.getAttribute("src"),(I!==(S.src==null?null:S.src)||i.getAttribute("type")!==(S.type==null?null:S.type)||i.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&I&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var I=S.name==null?null:""+S.name;if(S.type==="hidden"&&i.getAttribute("name")===I)return i}else return i;if(i=zo(i.nextSibling),i===null)break}return null}function Di(i,l,c){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=zo(i.nextSibling),i===null))return null;return i}function ma(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=zo(i.nextSibling),i===null))return null;return i}function Mc(i){return i.data==="$?"||i.data==="$~"}function N1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function s4(i,l){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||c.readyState!=="loading")l();else{var m=function(){l(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function zo(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var E2=null;function c0(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(l===0)return zo(i.nextSibling);l--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||l++}i=i.nextSibling}return null}function Bi(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(l===0)return i;l--}else c!=="/$"&&c!=="/&"||l++}i=i.previousSibling}return null}function ga(i,l,c){switch(l=u0(c),i){case"html":if(i=l.documentElement,!i)throw Error(a(452));return i;case"head":if(i=l.head,!i)throw Error(a(453));return i;case"body":if(i=l.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function ns(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Nt(i)}var sl=new Map,Tn=new Set;function Ka(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var B0=$t.d;$t.d={f:w2,r:hi,D:Nc,C:O3,L:Oc,m:x2,X:L3,S:k2,M:Io};function w2(){var i=B0.f(),l=Ch();return i||l}function hi(i){var l=wn(i);l!==null&&l.tag===5&&l.type==="form"?T3(l):B0.r(i)}var Rc=typeof document>"u"?null:document;function S2(i,l,c){var m=Rc;if(m&&typeof l=="string"&&l){var S=js(l);S='link[rel="'+i+'"][href="'+S+'"]',typeof c=="string"&&(S+='[crossorigin="'+c+'"]'),Tn.has(S)||(Tn.add(S),i={rel:i,crossOrigin:c,href:l},m.querySelector(S)===null&&(l=m.createElement("link"),vo(l,"link",i),cr(l),m.head.appendChild(l)))}}function Nc(i){B0.D(i),S2("dns-prefetch",i,null)}function O3(i,l){B0.C(i,l),S2("preconnect",i,l)}function Oc(i,l,c){B0.L(i,l,c);var m=Rc;if(m&&i&&l){var S='link[rel="preload"][as="'+js(l)+'"]';l==="image"&&c&&c.imageSrcSet?(S+='[imagesrcset="'+js(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(S+='[imagesizes="'+js(c.imageSizes)+'"]')):S+='[href="'+js(i)+'"]';var I=S;switch(l){case"style":I=ol(i);break;case"script":I=P0(i)}sl.has(I)||(i=A({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:i,as:l},c),sl.set(I,i),m.querySelector(S)!==null||l==="style"&&m.querySelector(jl(I))||l==="script"&&m.querySelector(Mu(I))||(l=m.createElement("link"),vo(l,"link",i),cr(l),m.head.appendChild(l)))}}function x2(i,l){B0.m(i,l);var c=Rc;if(c&&i){var m=l&&typeof l.as=="string"?l.as:"script",S='link[rel="modulepreload"][as="'+js(m)+'"][href="'+js(i)+'"]',I=S;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=P0(i)}if(!sl.has(I)&&(i=A({rel:"modulepreload",href:i},l),sl.set(I,i),c.querySelector(S)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Mu(I)))return}m=c.createElement("link"),vo(m,"link",i),cr(m),c.head.appendChild(m)}}}function k2(i,l,c){B0.S(i,l,c);var m=Rc;if(m&&i){var S=Or(m).hoistableStyles,I=ol(i);l=l||"default";var X=S.get(I);if(!X){var me={loading:0,preload:null};if(X=m.querySelector(jl(I)))me.loading=5;else{i=A({rel:"stylesheet",href:i,"data-precedence":l},c),(c=sl.get(I))&&Dc(i,c);var Ve=X=m.createElement("link");cr(Ve),vo(Ve,"link",i),Ve._p=new Promise(function(bt,Ht){Ve.onload=bt,Ve.onerror=Ht}),Ve.addEventListener("load",function(){me.loading|=1}),Ve.addEventListener("error",function(){me.loading|=2}),me.loading|=4,Ru(X,l,m)}X={type:"stylesheet",instance:X,count:1,state:me},S.set(I,X)}}}function L3(i,l){B0.X(i,l);var c=Rc;if(c&&i){var m=Or(c).hoistableScripts,S=P0(i),I=m.get(S);I||(I=c.querySelector(Mu(S)),I||(i=A({src:i,async:!0},l),(l=sl.get(S))&&L1(i,l),I=c.createElement("script"),cr(I),vo(I,"link",i),c.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},m.set(S,I))}}function Io(i,l){B0.M(i,l);var c=Rc;if(c&&i){var m=Or(c).hoistableScripts,S=P0(i),I=m.get(S);I||(I=c.querySelector(Mu(S)),I||(i=A({src:i,async:!0,type:"module"},l),(l=sl.get(S))&&L1(i,l),I=c.createElement("script"),cr(I),vo(I,"link",i),c.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},m.set(S,I))}}function Lc(i,l,c,m){var S=(S=sn.current)?Ka(S):null;if(!S)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=ol(c.href),c=Or(S).hoistableStyles,m=c.get(l),m||(m={type:"style",instance:null,count:0,state:null},c.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=ol(c.href);var I=Or(S).hoistableStyles,X=I.get(i);if(X||(S=S.ownerDocument||S,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(i,X),(I=S.querySelector(jl(i)))&&!I._p&&(X.instance=I,X.state.loading=5),sl.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},sl.set(i,c),I||D3(S,i,c,X.state))),l&&m===null)throw Error(a(528,""));return X}if(l&&m!==null)throw Error(a(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=P0(c),c=Or(S).hoistableScripts,m=c.get(l),m||(m={type:"script",instance:null,count:0,state:null},c.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function ol(i){return'href="'+js(i)+'"'}function jl(i){return'link[rel="stylesheet"]['+i+"]"}function Sl(i){return A({},i,{"data-precedence":i.precedence,precedence:null})}function D3(i,l,c,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),vo(l,"link",c),cr(l),i.head.appendChild(l))}function P0(i){return'[src="'+js(i)+'"]'}function Mu(i){return"script[async]"+i}function O1(i,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+js(c.href)+'"]');if(m)return l.instance=m,cr(m),m;var S=A({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),cr(m),vo(m,"style",S),Ru(m,c.precedence,i),l.instance=m;case"stylesheet":S=ol(c.href);var I=i.querySelector(jl(S));if(I)return l.state.loading|=4,l.instance=I,cr(I),I;m=Sl(c),(S=sl.get(S))&&Dc(m,S),I=(i.ownerDocument||i).createElement("link"),cr(I);var X=I;return X._p=new Promise(function(me,Ve){X.onload=me,X.onerror=Ve}),vo(I,"link",m),l.state.loading|=4,Ru(I,c.precedence,i),l.instance=I;case"script":return I=P0(c.src),(S=i.querySelector(Mu(I)))?(l.instance=S,cr(S),S):(m=c,(S=sl.get(I))&&(m=A({},c),L1(m,S)),i=i.ownerDocument||i,S=i.createElement("script"),cr(S),vo(S,"link",m),i.head.appendChild(S),l.instance=S);case"void":return null;default:throw Error(a(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Ru(m,c.precedence,i));return l.instance}function Ru(i,l,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=m.length?m[m.length-1]:null,I=S,X=0;X<m.length;X++){var me=m[X];if(me.dataset.precedence===l)I=me;else if(I!==S)break}I?I.parentNode.insertBefore(i,I.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(i,l.firstChild))}function Dc(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function L1(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var zh=null;function C2(i,l,c){if(zh===null){var m=new Map,S=zh=new Map;S.set(c,m)}else S=zh,m=S.get(c),m||(m=new Map,S.set(c,m));if(m.has(i))return m;for(m.set(i,null),c=c.getElementsByTagName(i),S=0;S<c.length;S++){var I=c[S];if(!(I[te]||I[Y]||i==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var X=I.getAttribute(l)||"";X=i+X;var me=m.get(X);me?me.push(I):m.set(X,[I])}}return m}function o4(i,l,c){i=i.ownerDocument||i,i.head.insertBefore(c,l==="title"?i.querySelector("head > title"):null)}function $a(i,l,c){if(c===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Ji(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function B3(i,l,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var S=ol(m.href),I=l.querySelector(jl(S));if(I){l=I._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=P1.bind(i),l.then(i,i)),c.state.loading|=4,c.instance=I,cr(I);return}I=l.ownerDocument||l,m=Sl(m),(S=sl.get(S))&&Dc(m,S),I=I.createElement("link"),cr(I);var X=I;X._p=new Promise(function(me,Ve){X.onload=me,X.onerror=Ve}),vo(I,"link",m),c.instance=I}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=P1.bind(i),l.addEventListener("load",c),l.addEventListener("error",c))}}var D1=0;function B1(i,l){return i.stylesheets&&i.count===0&&Mo(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var m=setTimeout(function(){if(i.stylesheets&&Mo(i,i.stylesheets),i.unsuspend){var I=i.unsuspend;i.unsuspend=null,I()}},6e4+l);0<i.imgBytes&&D1===0&&(D1=62500*N3());var S=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Mo(i,i.stylesheets),i.unsuspend)){var I=i.unsuspend;i.unsuspend=null,I()}},(i.imgBytes>D1?50:800)+l);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(S)}}:null}function P1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mo(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Uh=null;function Mo(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Uh=new Map,l.forEach(P3,i),Uh=null,P1.call(i))}function P3(i,l){if(!(l.state.loading&4)){var c=Uh.get(i);if(c)var m=c.get(null);else{c=new Map,Uh.set(i,c);for(var S=i.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<S.length;I++){var X=S[I];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(c.set(X.dataset.precedence,X),m=X)}m&&c.set(null,m)}S=l.instance,X=S.getAttribute("data-precedence"),I=c.get(X)||m,I===m&&c.set(null,S),c.set(X,S),this.count++,m=P1.bind(this),S.addEventListener("load",m),S.addEventListener("error",m),I?I.parentNode.insertBefore(S,I.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(S,i.firstChild)),l.state.loading|=4}}var F1={$$typeof:be,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function l4(i,l,c,m,S,I,X,me,Ve){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=m,this.onUncaughtError=S,this.onCaughtError=I,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ve,this.incompleteTransitions=new Map}function A2(i,l,c,m,S,I,X,me,Ve,bt,Ht,jt){return i=new l4(i,l,c,X,Ve,bt,Ht,jt,me),l=1,I===!0&&(l|=24),I=Eo(3,null,null,l),i.current=I,I.stateNode=i,l=hc(),l.refCount++,i.pooledCache=l,l.refCount++,I.memoizedState={element:m,isDehydrated:c,cache:l},Hi(I),i}function F3(i){return i?(i=dl,i):dl}function I2(i,l,c,m,S,I){S=F3(S),m.context===null?m.context=S:m.pendingContext=S,m=as(l),m.payload={element:c},I=I===void 0?null:I,I!==null&&(m.callback=I),c=$s(i,m,l),c!==null&&(Co(c,i,l),Nr(c,i,l))}function z3(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<l?c:l}}function M2(i,l){z3(i,l),(i=i.alternate)&&z3(i,l)}function R2(i){if(i.tag===13||i.tag===31){var l=Jo(i,67108864);l!==null&&Co(l,i,67108864),M2(i,67108864)}}function N2(i){if(i.tag===13||i.tag===31){var l=ko();l=W(l);var c=Jo(i,l);c!==null&&Co(c,i,l),M2(i,l)}}var z1=!0;function O2(i,l,c,m){var S=Ze.T;Ze.T=null;var I=$t.p;try{$t.p=2,a4(i,l,c,m)}finally{$t.p=I,Ze.T=S}}function U3(i,l,c,m){var S=Ze.T;Ze.T=null;var I=$t.p;try{$t.p=8,a4(i,l,c,m)}finally{$t.p=I,Ze.T=S}}function a4(i,l,c,m){if(z1){var S=Yl(m);if(S===null)Ya(i,l,m,u4,c),B2(i,m);else if(Y5(S,i,l,c,m))m.stopPropagation();else if(B2(i,m),l&4&&-1<c4.indexOf(i)){for(;S!==null;){var I=wn(S);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var X=$e(I.pendingLanes);if(X!==0){var me=I;for(me.pendingLanes|=2,me.entangledLanes|=2;X;){var Ve=1<<31-Re(X);me.entanglements[1]|=Ve,X&=~Ve}L0(I),(xi&6)===0&&(Sh=Vn()+500,C1(0))}}break;case 31:case 13:me=Jo(I,2),me!==null&&Co(me,I,2),Ch(),M2(I,2)}if(I=Yl(m),I===null&&Ya(i,l,m,u4,c),I===S)break;S=I}S!==null&&m.stopPropagation()}else Ya(i,l,m,null,c)}}function Yl(i){return i=gn(i),L2(i)}var u4=null;function L2(i){if(u4=null,i=Se(i),i!==null){var l=p(i);if(l===null)i=null;else{var c=l.tag;if(c===13){if(i=$(l),i!==null)return i;i=null}else if(c===31){if(i=_(l),i!==null)return i;i=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return u4=i,null}function D2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(U()){case ne:return 2;case Ce:return 8;case Le:case tt:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var Hh=!1,Ja=null,ba=null,Kl=null,U1=new Map,Nu=new Map,Za=[],c4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B2(i,l){switch(i){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":Kl=null;break;case"pointerover":case"pointerout":U1.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(l.pointerId)}}function Gh(i,l,c,m,S,I){return i===null||i.nativeEvent!==I?(i={blockedOn:l,domEventName:c,eventSystemFlags:m,nativeEvent:I,targetContainers:[S]},l!==null&&(l=wn(l),l!==null&&R2(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),i)}function Y5(i,l,c,m,S){switch(l){case"focusin":return Ja=Gh(Ja,i,l,c,m,S),!0;case"dragenter":return ba=Gh(ba,i,l,c,m,S),!0;case"mouseover":return Kl=Gh(Kl,i,l,c,m,S),!0;case"pointerover":var I=S.pointerId;return U1.set(I,Gh(U1.get(I)||null,i,l,c,m,S)),!0;case"gotpointercapture":return I=S.pointerId,Nu.set(I,Gh(Nu.get(I)||null,i,l,c,m,S)),!0}return!1}function Vh(i){var l=Se(i.target);if(l!==null){var c=p(l);if(c!==null){if(l=c.tag,l===13){if(l=$(c),l!==null){i.blockedOn=l,P(i.priority,function(){N2(c)});return}}else if(l===31){if(l=_(c),l!==null){i.blockedOn=l,P(i.priority,function(){N2(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function H1(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var c=Yl(i.nativeEvent);if(c===null){c=i.nativeEvent;var m=new c.constructor(c.type,c);Sn=m,c.target.dispatchEvent(m),Sn=null}else return l=wn(c),l!==null&&R2(l),i.blockedOn=c,!1;l.shift()}return!0}function H3(i,l,c){H1(i)&&c.delete(l)}function G3(){Hh=!1,Ja!==null&&H1(Ja)&&(Ja=null),ba!==null&&H1(ba)&&(ba=null),Kl!==null&&H1(Kl)&&(Kl=null),U1.forEach(H3),Nu.forEach(H3)}function G1(i,l){i.blockedOn===l&&(i.blockedOn=null,Hh||(Hh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,G3)))}var V1=null;function Qa(i){V1!==i&&(V1=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){V1===i&&(V1=null);for(var l=0;l<i.length;l+=3){var c=i[l],m=i[l+1],S=i[l+2];if(typeof m!="function"){if(L2(m||c)===null)continue;break}var I=wn(c);I!==null&&(i.splice(l,3),l-=3,_t(I,{pending:!0,data:S,method:c.method,action:m},m,S))}}))}function Bc(i){function l(Ve){return G1(Ve,i)}Ja!==null&&G1(Ja,i),ba!==null&&G1(ba,i),Kl!==null&&G1(Kl,i),U1.forEach(l),Nu.forEach(l);for(var c=0;c<Za.length;c++){var m=Za[c];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Za.length&&(c=Za[0],c.blockedOn===null);)Vh(c),c.blockedOn===null&&Za.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var S=c[m],I=c[m+1],X=S[we]||null;if(typeof I=="function")X||Qa(c);else if(X){var me=null;if(I&&I.hasAttribute("formAction")){if(S=I,X=I[we]||null)me=X.formAction;else if(L2(S)!==null)continue}else me=X.action;typeof me=="function"?c[m+1]=me:(c.splice(m,3),m-=3),Qa(c)}}}function Wh(){function i(I){I.canIntercept&&I.info==="react-transition"&&I.intercept({handler:function(){return new Promise(function(X){return S=X})},focusReset:"manual",scroll:"manual"})}function l(){S!==null&&(S(),S=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var I=navigation.currentEntry;I&&I.url!=null&&navigation.navigate(I.url,{state:I.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,S=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),S!==null&&(S(),S=null)}}}function Ro(i){this._internalRoot=i}h4.prototype.render=Ro.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(a(409));var c=l.current,m=ko();I2(c,m,i,l,null,null)},h4.prototype.unmount=Ro.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;I2(i.current,2,null,i,null,null),Ch(),l[Q]=null}};function h4(i){this._internalRoot=i}h4.prototype.unstable_scheduleHydration=function(i){if(i){var l=x();i={blockedOn:null,target:i,priority:l};for(var c=0;c<Za.length&&l!==0&&l<Za[c].priority;c++);Za.splice(c,0,i),c===0&&Vh(i)}};var qe=o.version;if(qe!=="19.2.0")throw Error(a(527,qe,"19.2.0"));$t.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=E(l),i=i!==null?w(i):null,i=i===null?null:i.stateNode,i};var va={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Ze,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{N=Ou.inject(va),ue=Ou}catch{}}return W2.createRoot=function(i,l){if(!h(i))throw Error(a(299));var c=!1,m="",S=q4,I=E3,X=X4;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(S=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&(X=l.onRecoverableError)),l=A2(i,1,!1,null,null,c,m,null,S,I,X,Wh),i[Q]=l.current,Qd(i),new Ro(l)},W2.hydrateRoot=function(i,l,c){if(!h(i))throw Error(a(299));var m=!1,S="",I=q4,X=E3,me=X4,Ve=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onUncaughtError!==void 0&&(I=c.onUncaughtError),c.onCaughtError!==void 0&&(X=c.onCaughtError),c.onRecoverableError!==void 0&&(me=c.onRecoverableError),c.formState!==void 0&&(Ve=c.formState)),l=A2(i,1,!0,l,c??null,m,S,Ve,I,X,me,Wh),l.context=F3(null),c=l.current,m=ko(),m=W(m),S=as(m),S.callback=null,$s(c,S,m),c=m,l.current.lanes=c,Sr(l,c),L0(l),i[Q]=l.current,Qd(i),new h4(l)},W2.version="19.2.0",W2}var Yp;function H$(){if(Yp)return C6.exports;Yp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),C6.exports=U$(),C6.exports}var G$=H$();const V$=qu(G$);var R6={exports:{}},Kp;function W$(){return Kp||(Kp=1,(function(r){var o=(function(){var n=String.fromCharCode,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",p={};function $(T,E){if(!p[T]){p[T]={};for(var w=0;w<T.length;w++)p[T][T.charAt(w)]=w}return p[T][E]}var _={compressToBase64:function(T){if(T==null)return"";var E=_._compress(T,6,function(w){return a.charAt(w)});switch(E.length%4){default:case 0:return E;case 1:return E+"===";case 2:return E+"==";case 3:return E+"="}},decompressFromBase64:function(T){return T==null?"":T==""?null:_._decompress(T.length,32,function(E){return $(a,T.charAt(E))})},compressToUTF16:function(T){return T==null?"":_._compress(T,15,function(E){return n(E+32)})+" "},decompressFromUTF16:function(T){return T==null?"":T==""?null:_._decompress(T.length,16384,function(E){return T.charCodeAt(E)-32})},compressToUint8Array:function(T){for(var E=_.compress(T),w=new Uint8Array(E.length*2),A=0,z=E.length;A<z;A++){var B=E.charCodeAt(A);w[A*2]=B>>>8,w[A*2+1]=B%256}return w},decompressFromUint8Array:function(T){if(T==null)return _.decompress(T);for(var E=new Array(T.length/2),w=0,A=E.length;w<A;w++)E[w]=T[w*2]*256+T[w*2+1];var z=[];return E.forEach(function(B){z.push(n(B))}),_.decompress(z.join(""))},compressToEncodedURIComponent:function(T){return T==null?"":_._compress(T,6,function(E){return h.charAt(E)})},decompressFromEncodedURIComponent:function(T){return T==null?"":T==""?null:(T=T.replace(/ /g,"+"),_._decompress(T.length,32,function(E){return $(h,T.charAt(E))}))},compress:function(T){return _._compress(T,16,function(E){return n(E)})},_compress:function(T,E,w){if(T==null)return"";var A,z,B={},Z={},ce="",oe="",j="",ie=2,be=3,Ie=2,Ge=[],Te=0,We=0,lt;for(lt=0;lt<T.length;lt+=1)if(ce=T.charAt(lt),Object.prototype.hasOwnProperty.call(B,ce)||(B[ce]=be++,Z[ce]=!0),oe=j+ce,Object.prototype.hasOwnProperty.call(B,oe))j=oe;else{if(Object.prototype.hasOwnProperty.call(Z,j)){if(j.charCodeAt(0)<256){for(A=0;A<Ie;A++)Te=Te<<1,We==E-1?(We=0,Ge.push(w(Te)),Te=0):We++;for(z=j.charCodeAt(0),A=0;A<8;A++)Te=Te<<1|z&1,We==E-1?(We=0,Ge.push(w(Te)),Te=0):We++,z=z>>1}else{for(z=1,A=0;A<Ie;A++)Te=Te<<1|z,We==E-1?(We=0,Ge.push(w(Te)),Te=0):We++,z=0;for(z=j.charCodeAt(0),A=0;A<16;A++)Te=Te<<1|z&1,We==E-1?(We=0,Ge.push(w(Te)),Te=0):We++,z=z>>1}ie--,ie==0&&(ie=Math.pow(2,Ie),Ie++),delete Z[j]}else for(z=B[j],A=0;A<Ie;A++)Te=Te<<1|z&1,We==E-1?(We=0,Ge.push(w(Te)),Te=0):We++,z=z>>1;ie--,ie==0&&(ie=Math.pow(2,Ie),Ie++),B[oe]=be++,j=String(ce)}if(j!==""){if(Object.prototype.hasOwnProperty.call(Z,j)){if(j.charCodeAt(0)<256){for(A=0;A<Ie;A++)Te=Te<<1,We==E-1?(We=0,Ge.push(w(Te)),Te=0):We++;for(z=j.charCodeAt(0),A=0;A<8;A++)Te=Te<<1|z&1,We==E-1?(We=0,Ge.push(w(Te)),Te=0):We++,z=z>>1}else{for(z=1,A=0;A<Ie;A++)Te=Te<<1|z,We==E-1?(We=0,Ge.push(w(Te)),Te=0):We++,z=0;for(z=j.charCodeAt(0),A=0;A<16;A++)Te=Te<<1|z&1,We==E-1?(We=0,Ge.push(w(Te)),Te=0):We++,z=z>>1}ie--,ie==0&&(ie=Math.pow(2,Ie),Ie++),delete Z[j]}else for(z=B[j],A=0;A<Ie;A++)Te=Te<<1|z&1,We==E-1?(We=0,Ge.push(w(Te)),Te=0):We++,z=z>>1;ie--,ie==0&&(ie=Math.pow(2,Ie),Ie++)}for(z=2,A=0;A<Ie;A++)Te=Te<<1|z&1,We==E-1?(We=0,Ge.push(w(Te)),Te=0):We++,z=z>>1;for(;;)if(Te=Te<<1,We==E-1){Ge.push(w(Te));break}else We++;return Ge.join("")},decompress:function(T){return T==null?"":T==""?null:_._decompress(T.length,32768,function(E){return T.charCodeAt(E)})},_decompress:function(T,E,w){var A=[],z=4,B=4,Z=3,ce="",oe=[],j,ie,be,Ie,Ge,Te,We,lt={val:w(0),position:E,index:1};for(j=0;j<3;j+=1)A[j]=j;for(be=0,Ge=Math.pow(2,2),Te=1;Te!=Ge;)Ie=lt.val&lt.position,lt.position>>=1,lt.position==0&&(lt.position=E,lt.val=w(lt.index++)),be|=(Ie>0?1:0)*Te,Te<<=1;switch(be){case 0:for(be=0,Ge=Math.pow(2,8),Te=1;Te!=Ge;)Ie=lt.val&lt.position,lt.position>>=1,lt.position==0&&(lt.position=E,lt.val=w(lt.index++)),be|=(Ie>0?1:0)*Te,Te<<=1;We=n(be);break;case 1:for(be=0,Ge=Math.pow(2,16),Te=1;Te!=Ge;)Ie=lt.val&lt.position,lt.position>>=1,lt.position==0&&(lt.position=E,lt.val=w(lt.index++)),be|=(Ie>0?1:0)*Te,Te<<=1;We=n(be);break;case 2:return""}for(A[3]=We,ie=We,oe.push(We);;){if(lt.index>T)return"";for(be=0,Ge=Math.pow(2,Z),Te=1;Te!=Ge;)Ie=lt.val&lt.position,lt.position>>=1,lt.position==0&&(lt.position=E,lt.val=w(lt.index++)),be|=(Ie>0?1:0)*Te,Te<<=1;switch(We=be){case 0:for(be=0,Ge=Math.pow(2,8),Te=1;Te!=Ge;)Ie=lt.val&lt.position,lt.position>>=1,lt.position==0&&(lt.position=E,lt.val=w(lt.index++)),be|=(Ie>0?1:0)*Te,Te<<=1;A[B++]=n(be),We=B-1,z--;break;case 1:for(be=0,Ge=Math.pow(2,16),Te=1;Te!=Ge;)Ie=lt.val&lt.position,lt.position>>=1,lt.position==0&&(lt.position=E,lt.val=w(lt.index++)),be|=(Ie>0?1:0)*Te,Te<<=1;A[B++]=n(be),We=B-1,z--;break;case 2:return oe.join("")}if(z==0&&(z=Math.pow(2,Z),Z++),A[We])ce=A[We];else if(We===B)ce=ie+ie.charAt(0);else return null;oe.push(ce),A[B++]=ie+ce.charAt(0),z--,ie=ce,z==0&&(z=Math.pow(2,Z),Z++)}}};return _})();r!=null?r.exports=o:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return o})})(R6)),R6.exports}var q$=W$();const qm=qu(q$),Ho={defaultGrid:[[4,4,4,4,4,4,4,4],[4,2,1,1,1,1,3,4],[4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4]],THEME:{0:"",1:"",2:"",3:"",4:"",PLAYER:""},checkMove:(r,o,n)=>{if(!r||!r[n]||typeof r[n][o]>"u")return"WALL";const a=r[n][o];return a===4||a===0?"WALL":a===3?"WIN":"OK"},look:(r,o,n,a,h)=>{let p=a;h==="LEFT"?p=(a+3)%4:h==="RIGHT"&&(p=(a+1)%4);let $=o,_=n;return p===0?$++:p===1?_++:p===2?$--:p===3&&_--,Ho.checkMove(r,$,_)!=="WALL"},resizeGrid:(r,o,n)=>{const a=[];for(let h=0;h<o;h++){const p=[];for(let $=0;$<n;$++)r[h]&&r[h][$]!==void 0?p.push(r[h][$]):p.push(4);a.push(p)}return a}};function X$({levelData:r,onUpdate:o}){const[n,a]=kn.useState(4),h=r.startPos||{x:1,y:1,dir:1},p=r.grid||Ho.defaultGrid,$=p.length,_=p[0]?.length||0,T=[{id:1,label:"Chemin",icon:""},{id:4,label:"Mur",icon:""},{id:3,label:"Arrive",icon:""}],E=(B,Z)=>{const ce=Math.max(3,Math.min(50,B)),oe=Math.max(3,Math.min(50,Z));if(ce===$&&oe===_)return;const j=Ho.resizeGrid(p,ce,oe);o({...r,grid:j})},w=(B,Z)=>{const ce=p.map(oe=>[...oe]);if(n===2){for(let oe=0;oe<ce.length;oe++)for(let j=0;j<ce[oe].length;j++)ce[oe][j]===2&&(ce[oe][j]=1);ce[B][Z]=2,o({...r,grid:ce,startPos:{...h,x:Z,y:B}})}else ce[B][Z]=n,o({...r,grid:ce})},A=B=>{o({...r,startPos:{...h,dir:parseInt(B)}})},z=h.dir*90+90;return _e.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[_e.jsxs("div",{className:"bg-white border-b border-slate-200 px-4 py-3 shadow-sm z-10 flex flex-wrap items-center justify-between gap-4",children:[_e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[_e.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 p-1.5 rounded-lg border border-slate-200",children:[_e.jsx("span",{className:"text-xs font-bold text-slate-400 px-1",children:"DIM"}),_e.jsx("input",{type:"number",min:"3",max:"50",value:_,onChange:B=>E($,parseInt(B.target.value)||3),className:"w-12 text-center text-sm font-bold bg-white border border-slate-300 rounded focus:ring-2 focus:ring-blue-500 outline-none"}),_e.jsx("span",{className:"text-slate-400 font-bold",children:""}),_e.jsx("input",{type:"number",min:"3",max:"50",value:$,onChange:B=>E(parseInt(B.target.value)||3,_),className:"w-12 text-center text-sm font-bold bg-white border border-slate-300 rounded focus:ring-2 focus:ring-blue-500 outline-none"})]}),_e.jsxs("div",{className:"flex items-center gap-3 bg-slate-100 p-1.5 rounded-lg border border-slate-200",children:[_e.jsx("span",{className:"text-xs font-bold text-slate-400 px-1",children:"DIR"}),_e.jsx("input",{type:"range",min:"0",max:"3",step:"1",value:h.dir,onChange:B=>A(B.target.value),className:"w-20 cursor-pointer accent-blue-600"}),_e.jsx("span",{className:"text-xl transition-transform duration-300",style:{transform:`rotate(${z}deg)`},children:""})]})]}),_e.jsxs("div",{className:"flex flex-wrap gap-2",children:[_e.jsx("button",{onClick:()=>a(2),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-bold transition-all border whitespace-nowrap
                    ${n===2?"bg-emerald-100 text-emerald-700 border-emerald-300 shadow-sm":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:" Dpart"}),T.map(B=>_e.jsxs("button",{onClick:()=>a(B.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-bold transition-all border whitespace-nowrap
                        ${n===B.id?"bg-blue-100 text-blue-700 border-blue-300 shadow-sm":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:[_e.jsx("span",{children:B.icon})," ",B.label]},B.id))]})]}),_e.jsx("div",{className:"flex-1 overflow-auto bg-slate-200/50 relative checkerboard-bg",children:_e.jsx("div",{className:"min-h-full min-w-full flex items-center justify-center p-8",children:_e.jsx("div",{className:"shadow-2xl border-4 border-slate-700 bg-slate-800",style:{display:"grid",gridTemplateColumns:`repeat(${_}, 1fr)`,gap:"1px",width:"fit-content",maxWidth:"100%"},children:p.map((B,Z)=>B.map((ce,oe)=>{const j=ce===2,ie="40px";return _e.jsxs("div",{onClick:()=>w(Z,oe),style:{width:ie,height:ie},className:`relative flex items-center justify-center cursor-pointer transition-colors duration-100
                                    ${ce===4?"bg-slate-700 hover:bg-slate-600":ce===2?"bg-emerald-400":"bg-white hover:bg-blue-50"}
                                `,children:[_e.jsx("span",{style:{fontSize:"20px",opacity:j?.3:1,userSelect:"none"},children:ce===2?"":Ho.THEME[ce]}),j&&_e.jsx("div",{style:{position:"absolute",transform:`rotate(${z}deg)`,fontSize:"20px",transition:"transform 0.2s",pointerEvents:"none"},children:Ho.THEME.PLAYER})]},`${Z}-${oe}`)}))})})}),_e.jsx("style",{children:`
        .checkerboard-bg {
            background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
            background-size: 20px 20px;
        }
      `})]})}function j$({levelData:r,onUpdate:o}){const[n,a]=kn.useState(""),[h,p]=kn.useState(0),$=r.inputs||{},_=r.hiddenVars||[],T=r.lockedVars||[],E=r.targets||{};kn.useEffect(()=>{const j=Object.keys($),be=Object.keys(E).filter(Ie=>!j.includes(Ie));if(be.length>0){console.log(" Nettoyage cibles orphelines :",be);const Ie={...E};be.forEach(Ge=>delete Ie[Ge]),o({...r,targets:Ie})}},[$,E]);const w=j=>{if(typeof j=="string"){const ie=j.trim();if(ie.startsWith("[")&&ie.endsWith("]"))try{return JSON.parse(ie)}catch{return j}if(ie.startsWith("@")||ie===""||ie.endsWith(".")||ie.endsWith(","))return j;const be=Number(ie.replace(",","."));if(!isNaN(be))return be}return j},A=()=>{if(!n)return;const j={...$,[n]:w(h)};o({...r,inputs:j}),a(""),p(0)},z=j=>{const ie={...$};delete ie[j];const be=_.filter(Te=>Te!==j),Ie=T.filter(Te=>Te!==j),Ge={...E};delete Ge[j],o({...r,inputs:ie,hiddenVars:be,lockedVars:Ie,targets:Ge})},B=j=>{let ie=[..._],be=[...T];const Ie=_.includes(j),Ge=T.includes(j);!Ie&&!Ge?be.push(j):Ge?(be=be.filter(Te=>Te!==j),ie.push(j)):ie=ie.filter(Te=>Te!==j),o({...r,hiddenVars:ie,lockedVars:be})},Z=(j,ie)=>{const be={...$,[j]:w(ie)};o({...r,inputs:be})},ce=j=>{const ie={...E};ie[j]!==void 0?delete ie[j]:ie[j]=$[j],o({...r,targets:ie})},oe=(j,ie)=>{const be={...E,[j]:w(ie)};o({...r,targets:be})};return _e.jsxs("div",{style:{padding:"15px",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #ddd"},children:[_e.jsx("h4",{style:{marginTop:0,color:"#2c3e50"},children:" Configuration Labo"}),_e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[_e.jsxs("div",{children:[_e.jsx("h5",{style:{margin:"0 0 10px 0",borderBottom:"1px solid #eee"},children:"1. Variables (Mmoire)"}),_e.jsxs("div",{style:{display:"flex",gap:"5px",marginBottom:"10px"},children:[_e.jsx("input",{type:"text",placeholder:"Nom (x)",value:n,onChange:j=>a(j.target.value),style:{flex:1,padding:"5px",width:"50px"}}),_e.jsx("input",{type:"text",placeholder:"Val (0)",value:h,onChange:j=>p(j.target.value),style:{flex:1,padding:"5px",width:"50px"}}),_e.jsx("button",{onClick:A,style:{cursor:"pointer",background:"#27ae60",color:"white",border:"none",borderRadius:"4px",padding:"0 10px"},children:"ok"})]}),Object.entries($).map(([j,ie])=>{const be=_.includes(j),Ie=T.includes(j);let Ge="",Te="white";Ie&&(Ge="",Te="#fff3cd"),be&&(Ge="",Te="#eee");const We=typeof ie=="object"?JSON.stringify(ie):ie;return _e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",marginBottom:"5px",background:Te,padding:"5px",borderRadius:"4px",border:"1px solid #ccc"},children:[_e.jsx("button",{onClick:()=>B(j),style:{border:"none",background:"none",cursor:"pointer"},children:Ge}),_e.jsx("span",{style:{fontWeight:"bold",width:"30px"},children:j}),_e.jsx("span",{style:{color:"#888"},children:"="}),_e.jsx("input",{type:"text",value:We,onChange:lt=>Z(j,lt.target.value),style:{flex:1,border:"1px solid #ddd",borderRadius:"3px",padding:"2px"}}),_e.jsx("button",{onClick:()=>z(j),style:{color:"#e74c3c",border:"none",background:"none",cursor:"pointer"},children:""})]},j)})]}),_e.jsxs("div",{children:[_e.jsx("h5",{style:{margin:"0 0 10px 0",borderBottom:"1px solid #eee"},children:"2. Objectifs (Fin)"}),Object.keys($).map(j=>{const ie=E[j]!==void 0,be=E[j],Ie=typeof be=="object"?JSON.stringify(be):be??"";return _e.jsxs("div",{style:{marginBottom:"5px",display:"flex",alignItems:"center",opacity:ie?1:.5},children:[_e.jsx("input",{type:"checkbox",checked:ie,onChange:()=>ce(j),style:{marginRight:"8px"}}),_e.jsx("span",{style:{fontWeight:"bold",width:"30px"},children:j}),ie&&_e.jsxs(_e.Fragment,{children:[_e.jsx("span",{style:{marginRight:"5px"},children:"="}),_e.jsx("input",{type:"text",value:Ie,onChange:Ge=>oe(j,Ge.target.value),style:{width:"80px",padding:"2px",borderColor:"#27ae60",borderStyle:"solid",borderWidth:"1px",borderRadius:"3px"}})]})]},j)})]})]})]})}const Uu=300;function Y$({levelData:r,onUpdate:o}){const n=r.startPos?.x??0,a=r.startPos?.y??0,h=r.startPos?.dir??0,p=(E,w)=>{let A=parseInt(w)||0;E==="dir"&&A===360&&(A=0);const z={x:n,y:a,dir:h,...r.startPos,[E]:A};o({...r,startPos:z})},$=E=>Uu/2+E,_=E=>Uu/2-E,T=h;return _e.jsx("div",{className:"h-full w-full bg-slate-50 overflow-y-auto custom-scrollbar relative",children:_e.jsxs("div",{className:"min-h-full flex flex-col lg:flex-row items-center justify-center p-8 gap-8 lg:gap-12",children:[_e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden shrink-0 transition-all hover:shadow-2xl",style:{width:Uu,height:Uu},children:[_e.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0 opacity-20 pointer-events-none",children:[_e.jsx("defs",{children:_e.jsx("pattern",{id:"gridSmallTurtle",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:_e.jsx("path",{d:"M 50 0 L 0 0 0 50",fill:"none",stroke:"#94a3b8",strokeWidth:"1"})})}),_e.jsx("rect",{width:"100%",height:"100%",fill:"url(#gridSmallTurtle)"}),_e.jsx("line",{x1:Uu/2,y1:"0",x2:Uu/2,y2:Uu,stroke:"#ef4444",strokeWidth:"1",strokeDasharray:"4 4"}),_e.jsx("line",{x1:"0",y1:Uu/2,x2:Uu,y2:Uu/2,stroke:"#ef4444",strokeWidth:"1",strokeDasharray:"4 4"})]}),_e.jsx("div",{className:"absolute w-10 h-10 -ml-5 -mt-5 transition-transform duration-200 ease-out flex items-center justify-center",style:{left:$(n),top:_(a),transform:`rotate(${T}deg)`},children:_e.jsxs("svg",{viewBox:"0 0 40 40",fill:"none",className:"w-full h-full drop-shadow-md",children:[_e.jsx("circle",{cx:"20",cy:"20",r:"12",stroke:"#334155",strokeWidth:"3",fill:"rgba(255,255,255,0.9)"}),_e.jsx("path",{d:"M 34 20 L 26 15 L 26 25 Z",fill:"#334155"})]})})]}),_e.jsxs("div",{className:"w-full max-w-sm bg-white p-6 rounded-2xl border border-slate-200 shadow-md shrink-0",children:[_e.jsxs("h4",{className:"text-sm font-extrabold text-slate-600 uppercase tracking-widest mb-6 text-center flex items-center justify-center gap-2",children:[_e.jsx("span",{children:""})," Position de dpart"]}),_e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[_e.jsxs("div",{className:"flex flex-col",children:[_e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 ml-1",children:"Horizontal (X)"}),_e.jsx("input",{type:"number",value:n,onChange:E=>p("x",E.target.value),className:"w-full text-center font-mono text-lg bg-slate-50 border border-slate-200 rounded-lg py-2 focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all outline-none"})]}),_e.jsxs("div",{className:"flex flex-col",children:[_e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 ml-1",children:"Vertical (Y)"}),_e.jsx("input",{type:"number",value:a,onChange:E=>p("y",E.target.value),className:"w-full text-center font-mono text-lg bg-slate-50 border border-slate-200 rounded-lg py-2 focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all outline-none"})]})]}),_e.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[_e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[_e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Direction"}),_e.jsxs("span",{className:"text-xl font-bold text-blue-600 font-mono",children:[h,""]})]}),_e.jsx("input",{type:"range",min:"0",max:"270",step:"90",value:h>=360?0:h,onChange:E=>p("dir",E.target.value),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600 mb-2"}),_e.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400",children:[_e.jsx("span",{children:"Est"}),_e.jsx("span",{children:"Sud"}),_e.jsx("span",{children:"Ouest"}),_e.jsx("span",{children:"Nord"})]})]})]})]})})}function K$({levelData:r,onUpdate:o}){const n=r.equation||{a:2,b:4,c:0,d:10,implicit:!1};kn.useEffect(()=>{(!r.allowedBlocks||r.allowedBlocks.length===0)&&o({...r,equation:n,allowedBlocks:["equation_op_both","equation_term_x","math_number"]})},[]);const a=h=>{const p={...n,...h},$=`${p.a}*x + ${p.b}`,_=`${p.c}*x + ${p.d}`;o({...r,equation:{...p,lhs:$,rhs:_,sign:"="},allowedBlocks:["equation_op_both","equation_term_x","math_number"]})};return _e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[_e.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 pb-4",children:[_e.jsx("h3",{className:"text-lg font-bold text-slate-700 flex items-center gap-2",children:" Gnrateur d'quation"}),_e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-blue-50 px-3 py-1 rounded-lg border border-blue-100 hover:bg-blue-100 transition-colors",children:[_e.jsx("input",{type:"checkbox",checked:n.implicit||!1,onChange:h=>a({implicit:h.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),_e.jsx("span",{className:"text-xs font-bold text-blue-700",children:"Multiplication Implicite (2x)"})]})]}),_e.jsx("div",{className:"space-y-4",children:["a","b","c","d"].map(h=>_e.jsxs("div",{className:"flex items-center gap-4",children:[_e.jsx("label",{className:"w-6 font-bold text-slate-500 uppercase",children:h}),_e.jsx("input",{type:"range",min:"-20",max:"20",step:"1",value:n[h],onChange:p=>a({[h]:parseInt(p.target.value)}),className:"flex-1 h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),_e.jsx("span",{className:"w-8 text-right font-mono font-bold text-slate-700",children:n[h]})]},h))}),_e.jsxs("div",{className:"bg-slate-800 text-white p-4 rounded-xl text-center font-mono text-xl shadow-inner",children:[n.a,"x ",n.b>=0?"+":"",n.b," = ",n.c,"x ",n.d>=0?"+":"",n.d]})]})}var f5={exports:{}},J$=f5.exports,Jp;function O5(){return Jp||(Jp=1,(function(r,o){(function(n,a){r.exports=a()})(J$,function(){var n={},a,h,p,$,_,T,E,w,A,z,B,Z,ce,oe,j,ie,be,Ie,Ge,Te,We,lt,Je,Xe,Pt,He,Lt,yt,rt,Ze,$t,ft,It,le,Be,ct,ke,Zt,Ot,sn,yn,hr,Yn,an,Xn,dt,tn,Wr,Zn,pr,on,Ei,Fi,Qn,ss,yi,sr,Vn,U,ne,Ce,Le,tt,Qe,Ct,kt,N,ue,De,Re,Dt,Cn,Qr,ds,fs,G,$e,Pe,et,Ft,dn,Hn,Sr,Ml,To,vr,L,W,Jt,x,P,K,Y,we,Q,Ee,Ue,Ke,st,te,Nt,Se,wn,In,Or,cr,On,Zi,si,fn,xr,Rs,oi,Ir,Qt,fe,Ci,ps,dr,Lr,$n,tr,Ur,Sa,js,jn,d,k,D,H,re,he,Ae,ge,pt,At,Tt,hn,qt,nn,Sn,gn,zt,nr,Pn,Kn,Dr,ir,ei,Ys,rs,Fn,li,Ai,zi,Qi,ti,Wn,Yr,pi,ho,ni,Ps,_o,Yt,Ii,qi,t0,n0,Fs,Ns,qr,Ss,Vo,Rl,Nl,Ol,iu,fo,jc,Yc,ih,Ju,ul,mr,su,V0,xa,Zu,g0,$0,Kc,b0,ka,W0,Qu,v0,Ll,ec,tc,ou,Ca,Aa,q0,Dl,Ia,lu,cl,y,M,se,ve,Ne,je,at,St,Vt,Xt,pn,Mt,Un,Ln,Gn,er,yr,Br,en,Nn,Mr,or,Xr,ai,Kr,ri,Jr,Ti,Pr,Ui,ms,xs,_i,zs,po,ks,Cr,os,de,wi,es,hl,ro,mo,Ks,ls,lr,Js,Mi,go,r0,Bl,y0,Jo,nc,Pl,dl,rc,Eo,ic,Fl,td,X0,T0,au,j0,_0,Ma,Zo,Ra,zl,sc,Y0,wo,Wo,i0,qo,Qo,Lo,oc,lc,Ul,ac,ts,Xi,Hr,E0,Us,s0,o0,sh,oh,Na,l0,Jc,Oa,uc,K0,Hl,w0,Gl,La,el,S0,uu,tl,Zs,cu,hu,cc,Zc,lh,is,hc,x0,k0,Qc,Da,J0,e1,Dn,nl,io,Ri,fl,g,f,b,C,O,V,J,pe,xe,ze,it,ut,wt,Kt,vn,Mn,Rr,gr,Tr,ui,jr,Hi,gs,as,$s,Nr,mi,gi,Ni,ci,ji,$o,Z0,du,dc,t1,C0,rl,pl,Q0,nd,rd,Ba,Xo,Hs,ah,Vl,kr,Gi,Os,fc,Pa,ea,n1,r1,fu,id,bs,sd,i1,I4,od,b3,ta,uh,pc,Do,Ls,mc,gc,s1,ch,A0,o1,hh,dh,ld,ad,M4,R4,N4,O4,ud,L4,v3,D4,B4,cd,fh,hd,dd,fd,pd,md,gd,l1,pu,P4,a1,u1,$d,ph,F4,bd,vd,yd,Td,_d,Ed,z4,wd,Sd,U4,H4,y3,_t;a=function(e,t,s,u){if(!(e instanceof Ut)&&typeof e!="string"||`${e}`.trim()==="")throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=`${e}`.toLowerCase(),typeof t!="string"||t.trim()==="")throw Error('Invalid name "'+t+'". The name must be a non-empty string.');const v=t.toLowerCase();if(!s)throw Error("Can not register a null value");let R=Fa[e],ee=c1[e];if(R||(R=Fa[e]=Object.create(null),ee=c1[e]=Object.create(null)),h(e,s),!u&&R[v]&&R[v]!==s)throw Error('Name "'+v+'" with type "'+e+'" already registered.');R[v]=s,ee[v]=t},h=function(e,t){switch(e){case String(Ut.FIELD):if(typeof t.fromJson!="function")throw Error('Type "'+e+'" must have a fromJson function')}},p=function(e,t){e=`${e}`.toLowerCase(),t=t.toLowerCase();const s=Fa[e];s&&s[t]?(delete Fa[e][t],delete c1[e][t]):console.warn("Unable to unregister ["+t+"]["+e+"] from the registry.")},$=function(e,t,s){e=`${e}`.toLowerCase(),t=t.toLowerCase();const u=Fa[e];if(!u||!u[t]){if(t="Unable to find ["+t+"]["+e+"] in the registry.",s)throw Error(t+" You must require or register a "+e+" plugin.");return console.warn(t),null}return u[t]},_=function(e,t){return e=`${e}`.toLowerCase(),t=t.toLowerCase(),(e=Fa[e])?!!e[t]:!1},T=function(e,t,s){return $(e,t,s)},E=function(e,t,s){return $(e,t,s)},w=function(e,t,s){e=`${e}`.toLowerCase();var u=Fa[e];if(!u){if(u=`Unable to find [${e}] in the registry.`,s)throw Error(`${u} You must require or register a ${e} plugin.`);return console.warn(u),null}if(!t)return u;e=c1[e],s=Object.create(null);for(const v of Object.keys(u))s[e[v]]=u[v];return s},A=function(e,t,s){return t=t.plugins[String(e)]||ml,typeof t=="function"?t:T(e,t,s)},z=function(e,t){B(),mh=setTimeout(function(){t&&t.handleRightClick(e)},_3)},B=function(){mh&&(clearTimeout(mh),mh=0)},Z=function(){d1=null},ce=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&j(e)},oe=function(e){return`${e.pointerId}`},j=function(e){const t=oe(e);return d1?d1===t:e.type==="pointerdown"?(d1=t,!0):!1},ie=function(e,t,s,u,v){function R(Me){(v||ce(Me))&&(s?u.call(s,Me):u(Me))}const ee=[];if(t in na)for(let Me=0;Me<na[t].length;Me++){const Bt=na[t][Me];e.addEventListener(Bt,R,!1),ee.push([e,Bt,R])}else e.addEventListener(t,R,!1),ee.push([e,t,R]);return ee},be=function(e,t,s,u){function v(ee){s?u.call(s,ee):u(ee)}const R=[];if(t in na)for(let ee=0;ee<na[t].length;ee++){const Me=na[t][ee];e.addEventListener(Me,v,!1),R.push([e,Me,v])}else e.addEventListener(t,v,!1),R.push([e,t,v]);return R},Ie=function(e){const t=e[e.length-1][2];for(;e.length;){const[s,u,v]=e.pop();s.removeEventListener(u,v,!1)}return t},Ge=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||e.target.getAttribute("data-is-text-input")==="true")return!0;if(e.target instanceof HTMLInputElement)return e=e.target,e.type==="text"||e.type==="number"||e.type==="email"||e.type==="password"||e.type==="search"||e.type==="tel"||e.type==="url";if(e.target instanceof HTMLTextAreaElement)return!0}return!1},Te=function(e){return e.ctrlKey&&Ad?!0:e.button===2},We=function(e,t,s){const u=t.createSVGPoint();return u.x=e.clientX,u.y=e.clientY,s||(s=t.getScreenCTM().inverse()),u.matrixTransform(s)},lt=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*Qs,y:e.deltaY*Qs};case 2:return{x:e.deltaX*So,y:e.deltaY*So}}},Je=function(){return"blockly-"+(S3++).toString(36)},Xe=function(){return g1.genUid()},Pt=function(e){return e.type===mt.BLOCK_CREATE},He=function(e){return e.type===mt.BLOCK_DELETE},Lt=function(e){return e.type===mt.BLOCK_CHANGE},yt=function(e){return e.type===mt.BLOCK_FIELD_INTERMEDIATE_CHANGE},rt=function(e){return e.type===mt.BLOCK_MOVE},Ze=function(e){return e.type===mt.CLICK},$t=function(e){return e.type===mt.BUBBLE_OPEN},ft=function(e){return e.type===mt.VIEWPORT_CHANGE},n.setRecordUndo$$module$build$src$core$events$utils=function(e){$h=e},It=function(){return $h},le=function(e){Q4.fireInternal(e)},Be=function(e){if(sn()){if(!ia.length)try{requestAnimationFrame(()=>{setTimeout(ct,0)})}catch{setTimeout(ct,0)}ke(e)}},ct=function(){const e=Zt(ia);ia.length=0;for(const t of e){if(!t.workspaceId)continue;let s;(s=tt(t.workspaceId))==null||s.fireChangeListener(t)}},ke=function(e){if(Lt(e)&&e.element==="mutation"){let t;for(t=ia.length;t>0;t--){const s=ia[t-1];if(s.group!==e.group||s.workspaceId!==e.workspaceId||!rt(s)||s.newParentId!==e.blockId)break}ia.splice(t,0,e)}else ia.push(e)},Zt=function(e){const t=[];for(const s of e)if(e=t[t.length-1],!s.isNull())if(e&&e.workspaceId===s.workspaceId&&e.group===s.group)if(rt(s)&&rt(e)&&s.blockId===e.blockId){if(e.newParentId=s.newParentId,e.newInputName=s.newInputName,e.newCoordinate=s.newCoordinate,e.reason||s.reason){let u,v;e.reason=Array.from(new Set(((u=e.reason)!=null?u:[]).concat((v=s.reason)!=null?v:[])))}}else Lt(s)&&Lt(e)&&s.blockId===e.blockId&&s.element===e.element&&s.name===e.name?e.newValue=s.newValue:ft(s)&&ft(e)?(e.viewTop=s.viewTop,e.viewLeft=s.viewLeft,e.scale=s.scale,e.oldScale=s.oldScale):Ze(s)&&$t(e)||t.push(s);else t.push(s);return e=t.filter(s=>!s.isNull())},Ot=function(){for(let e=0,t;t=ia[e];e++)t.recordUndo=!1},n.disable$$module$build$src$core$events$utils=function(){b1++},n.enable$$module$build$src$core$events$utils=function(){b1--},sn=function(){return b1===0},n.getGroup$$module$build$src$core$events$utils=function(){return Z4},n.setGroup$$module$build$src$core$events$utils=function(e){Q4.setGroupInternal(e)},yn=function(e){Z4=typeof e=="boolean"?e?Xe():"":e},hr=function(e){const t=[];e=e.getDescendants(!1);for(let s=0,u;u=e[s];s++)t[s]=u.id;return t},Yn=function(e,t){const s=an(e.type);if(!s)throw Error("Unknown event type.");return s.fromJson(e,t)},an=function(e){const t=T(Ut.EVENT,e);if(!t)throw Error(`Event type ${e} not found in registry.`);return t},Xn=function(e){if((rt(e)||Pt(e))&&e.workspaceId){var t=tt(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=t.getBlockById(e.blockId)){const s=$h;try{$h=!1;const u=e.getParent();if(u&&!u.hasDisabledReason(bh)){const v=e.getDescendants(!1);for(let R=0,ee;ee=v[R];R++)ee.setDisabledReason(!1,bh)}else if((e.outputConnection||e.previousConnection)&&!t.isDragging())do e.setDisabledReason(!0,bh),e=e.getNextBlock();while(e)}finally{$h=s}}}},dt=function(e,t,s){e=document.createElementNS(v1,`${e}`);for(const u in t)e.setAttribute(u,`${t[u]}`);return s&&s.appendChild(e),e},tn=function(e,t){return t=t.split(" "),t.every(s=>e.classList.contains(s))?!1:(e.classList.add(...t),!0)},Wr=function(e,t){e.classList.remove(...t.split(" "))},Zn=function(e,t){return t=t.split(" "),t.every(s=>!e.classList.contains(s))?!1:(e.classList.remove(...t),!0)},pr=function(e,t){return e.classList.contains(t)},on=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},Ei=function(e,t){const s=t.nextSibling;if(t=t.parentNode,!t)throw Error("Reference node has no parent.");s?t.insertBefore(e,s):t.appendChild(e)},Fi=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},Qn=function(){vh++,a0||(a0=Object.create(null))},ss=function(){vh--,vh||(a0=null)},yi=function(e){const t=e.textContent+`
`+e.className.baseVal;var s;return a0&&(s=a0[t])||(s=window.getComputedStyle(e),s=Vn(e,s.fontSize,s.fontWeight,s.fontFamily),a0&&(a0[t]=s)),s},sr=function(e,t,s,u){return Vn(e,t+"pt",s,u)},Vn=function(e,t,s,u){const v=e.textContent;e=v+`
`+e.className.baseVal;var R;return a0&&(R=a0[e])||($u||(R=document.createElement("canvas"),R.className="blocklyComputeCanvas",document.body.appendChild(R),$u=R.getContext("2d")),v&&$u?($u.font=s+" "+t+" "+u,R=$u.measureText(v).width):R=0,a0&&(a0[e]=R)),R},U=function(e,t,s,u){const v=document.createElement("span");v.style.font=s+" "+t+" "+u,v.textContent=e,e=document.createElement("div"),e.style.width="1px",e.style.height="0",t=document.createElement("div"),t.style.display="flex",t.style.position="fixed",t.style.top="0",t.style.left="0",t.appendChild(v),t.appendChild(e),document.body.appendChild(t),s={height:0,baseline:0};try{t.style.alignItems="baseline",s.baseline=e.offsetTop-v.offsetTop,t.style.alignItems="flex-end",s.height=e.offsetTop-v.offsetTop}finally{document.body.removeChild(t)}return s},n.getFocusManager$$module$build$src$core$focus_manager=function(){return xo.getFocusManager()},ne=function(e){return e&&typeof e.getFocusableElement=="function"&&typeof e.getFocusableTree=="function"&&typeof e.onNodeFocus=="function"&&typeof e.onNodeBlur=="function"&&typeof e.canBeFocused=="function"},Ce=function(e){return ne(e)&&typeof e.id=="string"&&typeof e.workspace=="object"&&typeof e.select=="function"&&typeof e.unselect=="function"},Le=function(e,t){for(const s in t)t[s]!==null&&Array.isArray(t[s])?e[s]=Le(e[s]||[],t[s]):e[s]=t[s]!==null&&typeof t[s]=="object"?Le(e[s]||Object.create(null),t[s]):t[s];return e},tt=function(e){return yh[e]||null},Qe=function(){const e=[];for(const t in yh)e.push(yh[t]);return e},Ct=function(e){yh[e.id]=e},kt=function(e){delete yh[e.id]},N=function(){return t2},ue=function(e){t2=e},De=function(){const e=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();return e&&Ce(e)?e:null},Re=function(e){n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)},Dt=function(e){const t=De();let s,u,v,R;const ee=new(an(mt.SELECTED))((s=t?.id)!=null?s:null,(u=e?.id)!=null?u:null,(R=(v=e?.workspace.id)!=null?v:t?.workspace.id)!=null?R:"");le(ee)},Cn=function(){return oa},Qr=function(e){oa=e},ds=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;const t=e.getParentSvg(),s=e.getCachedParentSvgSize();var u=t.parentElement;if(u instanceof HTMLElement){var v=u.offsetWidth;u=u.offsetHeight,s.width!==v&&(t.setAttribute("width",v+"px"),e.setCachedParentSvgSize(v,null)),s.height!==u&&(t.setAttribute("height",u+"px"),e.setCachedParentSvgSize(null,u)),e.resize()}},fs=function(e,t){const s=Object.create(null),u=e.getDescendants(!0);t&&(e=e.getNextBlock())&&(e=u.indexOf(e),u.splice(e,u.length-e));for(let v=0,R;R=u[v];v++)s[R.type]?s[R.type]++:s[R.type]=1;return s},G=function(e){return function(){this.jsonInit(e)}},$e=function(e){n2.defineBlocksWithJsonArrayInternal(e)},Pe=function(e){n.defineBlocks$$module$build$src$core$common(n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(e))},n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(e){const t={};for(let s=0;s<e.length;s++){const u=e[s];if(!u){console.warn(`Block definition #${s} in JSON array is ${u}. Skipping`);continue}const v=u.type;v?t[v]={init:G(u)}:console.warn(`Block definition #${s} in JSON array is missing a type attribute. Skipping.`)}return t},n.defineBlocks$$module$build$src$core$common=function(e){for(const t of Object.keys(e)){const s=e[t];t in vs&&console.warn(`Block definition "${t}" overwrites previous definition.`),vs[t]=s}},et=function(e){let t=N();const s=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedTree();for(const u of Qe())if(s===u){t=u;break}!Ge(e)&&t&&(!t.rendered||t.isFlyout||t.isVisible())&&Vi.registry.onKeyDown(t,e)},Ft=function(e,t){return t=e.indexOf(t),t===-1?!1:(e.splice(t,1),!0)},dn=function(e){if(Id)throw Error("CSS already injected");Md+=`
`+e},Hn=function(e,t){Id||(Id=!0,e&&(e=t.replace(/[\\/]$/,""),t=Md.replace(/<<<PATH>>>/g,e),Md="",e=document.createElement("style"),e.id="blockly-common-style",t=document.createTextNode(t),e.appendChild(t),document.head.insertBefore(e,document.head.firstChild)))},Sr=function(e){return Rd.getSizeInternal(e)},Ml=function(e){if(vr(e,"display")!=="none")return To(e);const t=e.style,s=t.display,u=t.visibility,v=t.position;t.visibility="hidden",t.position="absolute",t.display="inline";const R=e.offsetWidth;return e=e.offsetHeight,t.display=s,t.position=v,t.visibility=u,new _r(R,e)},To=function(e){return new _r(e.offsetWidth,e.offsetHeight)},vr=function(e,t){return e=window.getComputedStyle(e),e[t]||e.getPropertyValue(t)},L=function(e){const t=new Wt(0,0);e=e.getBoundingClientRect();var s=document.documentElement;return s=new Wt(window.pageXOffset||s.scrollLeft,window.pageYOffset||s.scrollTop),t.x=e.left+s.x,t.y=e.top+s.y,t},W=function(){const e=document.body,t=document.documentElement;return new Wt(e.scrollLeft||t.scrollLeft,e.scrollTop||t.scrollTop)},Jt=function(e){const t=parseFloat(vr(e,"borderLeftWidth")),s=parseFloat(vr(e,"borderRightWidth")),u=parseFloat(vr(e,"borderTopWidth"));return e=parseFloat(vr(e,"borderBottomWidth")),new $r(u,e,t,s)},x=function(e,t,s){e=P(e,t,s),t.scrollLeft=e.x,t.scrollTop=e.y},P=function(e,t,s){var u=L(e),v=L(t),R=Jt(t);const ee=u.x-v.x-R.left;return u=u.y-v.y-R.top,v=To(e),e=t.clientWidth-v.width,v=t.clientHeight-v.height,R=t.scrollLeft,t=t.scrollTop,s?(R+=ee-e/2,t+=u-v/2):(R+=Math.min(ee,Math.max(ee-e,0)),t+=Math.min(u,Math.max(u-v,0))),new Wt(R,t)},K=function(e){const t=new Wt(0,0);var s=e.x&&e.getAttribute("x");const u=e.y&&e.getAttribute("y");return s&&(t.x=parseInt(s)),u&&(t.y=parseInt(u)),(s=(s=e.getAttribute("transform"))&&s.match(Th))&&(t.x+=Number(s[1]),s[3]&&(t.y+=Number(s[3]))),(e=e.getAttribute("style"))&&e.includes("translate")&&(e=e.match(o2))&&(t.x+=Number(e[1]),e[3]&&(t.y+=Number(e[3]))),t},Y=function(e){let t=0,s=0;for(;e;){const u=K(e);if(t+=u.x,s+=u.y,(" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv "))break;e=e.parentNode}return new Wt(t,s)},we=function(){const e=W();return new $r(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},Q=function(){const e=document.documentElement,t=window;return new Wt(t.pageXOffset||e.scrollLeft,t.pageYOffset||e.scrollTop)},Ee=function(e,t){var s=t.x;t=t.y;const u=e.getInjectionDiv().getBoundingClientRect();return s=new Wt(s-u.left,t-u.top),t=e.getOriginOffsetInPixels(),Wt.difference(s,t).scale(1/e.scale)},Ue=function(e,t){var s=t.scale(e.scale);t=s.x,s=s.y;const u=e.getInjectionDiv().getBoundingClientRect();return e=e.getOriginOffsetInPixels(),new Wt(t+u.left+e.x,s+u.top+e.y)},Ke=function(e){({document:Nd=Nd,DOMParser:y1=y1,XMLSerializer:T1=T1}=e),_h=new y1,oo=new T1},n.createElement$$module$build$src$core$utils$xml=function(e){return Nd.createElementNS(ys,e)},n.createTextNode$$module$build$src$core$utils$xml=function(e){return Nd.createTextNode(e)},n.textToDom$$module$build$src$core$utils$xml=function(e){let t=_h.parseFromString(e,"text/xml");if(t&&t.documentElement&&!t.getElementsByTagName("parsererror").length)return t.documentElement;if((t=_h.parseFromString(e,"text/html"))&&t.body.firstChild&&t.body.firstChild.nodeName.toLowerCase()==="xml")return t.body.firstChild;throw Error(`DOMParser was unable to parse: ${e}`)},st=function(e){return te(oo.serializeToString(e))},te=function(e){return e.replace(gl,t=>`&#${t.charCodeAt(0)};`)},Nt=function(e){return e?((e instanceof Element||typeof e=="string")&&(e=fn(e),e=On(e)),Se(e),e):null},Se=function(e){const t=e.kind;if(e=e.contents,t&&t!==l2&&t!==Od)throw Error("Invalid toolbox kind "+t+". Please supply either "+l2+" or "+Od);if(!e)throw Error("Toolbox must have a contents attribute.")},wn=function(e){return e?e.contents?e.contents:Array.isArray(e)&&e.length>0&&!e[0].nodeType?e:Zi(e):[]},In=function(e){return x3.hasCategoriesInternal(e)},Or=function(e){if(!e)return!1;const t=e.kind;return t?t===Od:!!e.contents.filter(s=>s.kind.toUpperCase()==="CATEGORY").length},cr=function(e){return e&&e.contents?!!e.contents.filter(function(t){return t.kind.toUpperCase()==="CATEGORY"}).length:!1},On=function(e){const t={contents:Zi(e)};return e instanceof Node&&si(e,t),t},Zi=function(e){const t=[];let s=e.childNodes;s||(s=e);for(let u=0,v;v=s[u];u++){if(!v.tagName)continue;e={};const R=v.tagName.toUpperCase();e.kind=R,R==="BLOCK"?e.blockxml=v:v.childNodes&&v.childNodes.length>0&&(e.contents=Zi(v)),si(v,e),t.push(e)}return t},si=function(e,t){for(let s=0;s<e.attributes.length;s++){const u=e.attributes[s];u.nodeName.includes("css-")?(t.cssconfig=t.cssconfig||{},t.cssconfig[u.nodeName.replace("css-","")]=u.value):t[u.nodeName]=u.value}},fn=function(e){let t=null;if(e)if(typeof e=="string"){if(t=n.textToDom$$module$build$src$core$utils$xml(e),t.nodeName.toLowerCase()!=="xml")throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(t=e);return t},xr=function(e,t,s,u,v,R){const ee=R.scrollbar&&R.scrollbar.canScrollVertically();return e.horizontal===jo.LEFT?(s=v.absoluteMetrics.left+s,ee&&R.RTL&&(s+=Cs.scrollbarThickness)):(s=v.absoluteMetrics.left+v.viewMetrics.width-t.width-s,ee&&!R.RTL&&(s-=Cs.scrollbarThickness)),e.vertical===Vs.TOP?e=v.absoluteMetrics.top+u:(e=v.absoluteMetrics.top+v.viewMetrics.height-t.height-u,R.scrollbar&&R.scrollbar.canScrollHorizontally()&&(e-=Cs.scrollbarThickness)),new $r(e,e+t.height,s,s+t.width)},Rs=function(e,t){return{horizontal:t.toolboxMetrics.position===Er.LEFT||e.horizontalLayout&&!e.RTL?jo.RIGHT:jo.LEFT,vertical:t.toolboxMetrics.position===Er.BOTTOM?Vs.TOP:Vs.BOTTOM}},oi=function(e,t,s,u){const v=e.left,R=e.right-e.left,ee=e.bottom-e.top;for(let Me=0;Me<u.length;Me++){const Bt=u[Me];e.intersects(Bt)&&(e=s===Ga.UP?Bt.top-ee-t:Bt.bottom+t,e=new $r(e,e+ee,v,v+R),Me=-1)}return e},Ir=function(e,t){a(Ut.SERIALIZER,e,t)},Qt=function(e){p(Ut.SERIALIZER,e)},fe=function(e,{addCoordinates:t=!1,saveIds:s=!0}={}){const u=e.workspace,v=Object.create(null);return v.height=e.getSize().height,v.width=e.getSize().width,s&&(v.id=e.id),t&&(t=e.getRelativeToSurfaceXY(),v.x=u.RTL?u.getWidth()-t.x:t.x,v.y=t.y),e.getText()&&(v.text=e.getText()),e.isCollapsed()&&(v.collapsed=!0),e.isOwnEditable()||(v.editable=!1),e.isOwnMovable()||(v.movable=!1),e.isOwnDeletable()||(v.deletable=!1),v},Ci=function(e,t,{recordUndo:s=!1}={}){const u=It();if(n.setRecordUndo$$module$build$src$core$events$utils(s),s=t.newComment(e.id),e.text!==void 0&&s.setText(e.text),e.x!==void 0||e.y!==void 0){const R=s.getRelativeToSurfaceXY();let ee,Me=(ee=e.x)!=null?ee:R.x;Me=t.RTL?t.getWidth()-Me:Me;var v;t=(v=e.y)!=null?v:R.y,s.moveTo(new Wt(Me,t))}if(e.width!==void 0||e.height){v=s.getSize();let R,ee;s.setSize(new _r((R=e.width)!=null?R:v.width,(ee=e.height)!=null?ee:v.height))}return e.collapsed!==void 0&&s.setCollapsed(e.collapsed),e.editable!==void 0&&s.setEditable(e.editable),e.movable!==void 0&&s.setMovable(e.movable),e.deletable!==void 0&&s.setDeletable(e.deletable),n.setRecordUndo$$module$build$src$core$events$utils(u),s},ps=function(e,t){a(Ut.PASTER,e,t)},dr=function(e){p(Ut.PASTER,e)},Lr=function(e){const t=e.workspace,s=e.getRelativeToSurfaceXY(),u=new Wt(0,0),v=t.getTopComments(!1).filter(R=>R.id!==e.id).map(R=>R.getRelativeToSurfaceXY());for(;$n(Wt.sum(s,u),v);)u.translate(t.RTL?-30:30,30);e.moveTo(Wt.sum(s,u))},$n=function(e,t){return t.some(s=>Math.abs(s.x-e.x)<=1&&Math.abs(s.y-e.y)<=1)},tr=function(e,t){e.setAttribute(Eh,t)},Ur=function(e,t,s){Array.isArray(s)&&(s=s.join(" ")),e.setAttribute(k3+t,`${s}`)},Sa=function(e){return e&&typeof e.saveState=="function"&&typeof e.loadState=="function"},js=function(e){return D(e),k()?(H(),Promise.resolve()):(Tu||(Tu=new Promise(t=>{N0=t,Ds=window.requestAnimationFrame(()=>{H(),t()})})),Tu)},jn=function(){return Tu||Promise.resolve()},d=function(e){e||window.cancelAnimationFrame(Ds),H(e),!e&&N0&&N0()},k=function(){return X4},D=function(e){ha.add(e),yu.set(e,n.getGroup$$module$build$src$core$events$utils());const t=e.getParent();t?D(t):Ko.add(e)},H=function(e){const t=e?new Set([e]):new Set([...Ko].map(R=>R.workspace)),s=[...Ko].filter(he).filter(R=>t.has(R.workspace));for(var u of s)Ae(u);for(const R of t)R.resizeContents();for(var v of s)u=v.getRelativeToSurfaceXY(),v.updateComponentLocations(u);for(const R of s)v=n.getGroup$$module$build$src$core$events$utils(),(u=yu.get(R))&&n.setGroup$$module$build$src$core$events$utils(u),R.bumpNeighbours(),n.setGroup$$module$build$src$core$events$utils(v);for(const R of s)re(R);e||(Tu=null)},re=function(e){Ko.delete(e),ha.delete(e),yu.delete(e);for(const t of e.getChildren(!1))re(t)},he=function(e){return!e.isDisposed()&&!e.getParent()},Ae=function(e){if(ha.has(e)&&e.initialized){for(const t of e.getChildren(!1))Ae(t);e.renderEfficiently()}},ge=function(e,t){wh(e,t)},pt=function(e=Ud){wh=e},At=function(e,t){Sh(e,t)},Tt=function(e=u2){Sh=e},hn=function(e,t,s){qa(e,t,s)},qt=function(e=xh){qa=e},nn=function(e,t){Xa(e,t)},Sn=function(e=uo){Xa=e},gn=function(e){return e&&typeof e.getProcedureDef=="function"},zt=function(e){return e&&typeof e.getProcedureCall=="function"&&typeof e.renameProcedure=="function"},nr=function(e){return e.getVariableModel!==void 0},Pn=function(e,t,s,u){e=e+" was deprecated in "+t+" and will be deleted in "+s+".",u&&(e+=`
Use `+u+" instead."),da.has(e)||(da.add(e),console.warn(e))},n.allUsedVarModels$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let s=0;s<e.length;s++){const u=e[s].getVarModels();if(u)for(let v=0;v<u.length;v++){const R=u[v];R.getId()&&t.add(R)}}return Array.from(t.values())},n.allDeveloperVariables$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let u=0,v;v=e[u];u++){var s=v.getDeveloperVariables;if(s){s=s();for(let R=0;R<s.length;R++)t.add(s[R])}}return Array.from(t.values())},Kn=function(e){return Dr(e,!1)},Dr=function(e,t=!0){return vs.variables_set||vs.variables_get||console.warn("There are no variable blocks, but there is a variable category."),t?(Pn("The XML return value of Blockly.Variables.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),Ys(e)):(e.registerButtonCallback("CREATE_VARIABLE",function(s){zi(s.getTargetWorkspace())}),[{kind:"button",text:"%{BKY_NEW_VARIABLE}",callbackkey:"CREATE_VARIABLE"},...ei(e,e.getVariableMap().getVariablesOfType(""),!0)])},ir=function(e){return{VAR:{name:e.getName(),type:e.getType()}}},ei=function(e,t,s,u="variables_get",v="variables_set"){s&&(s=vs.math_change),e=[];const R=t.slice(-1)[0];return R&&(vs[v]&&e.push({kind:"block",type:v,gap:s?8:24,fields:ir(R)}),s&&e.push({kind:"block",type:"math_change",gap:vs[u]?20:8,fields:ir(R),inputs:{DELTA:{shadow:{type:"math_number",fields:{NUM:1}}}}})),vs[u]&&e.push(...t.sort(Yt).map(ee=>({kind:"block",type:u,gap:8,fields:ir(ee)}))),e},Ys=function(e){let t=[];const s=document.createElement("button");return s.setAttribute("text","%{BKY_NEW_VARIABLE}"),s.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(u){zi(u.getTargetWorkspace())}),t.push(s),e=rs(e),t=t.concat(e)},rs=function(e){e=e.getVariableMap().getVariablesOfType("");const t=[];if(e.length>0){var s=e[e.length-1];if(vs.variables_set){var u=n.createElement$$module$build$src$core$utils$xml("block");u.setAttribute("type","variables_set"),u.setAttribute("gap",vs.math_change?"8":"24"),u.appendChild(ni(s)),t.push(u)}if(vs.math_change&&(u=n.createElement$$module$build$src$core$utils$xml("block"),u.setAttribute("type","math_change"),u.setAttribute("gap",vs.variables_get?"20":"8"),u.appendChild(ni(s)),s=n.textToDom$$module$build$src$core$utils$xml('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),u.appendChild(s),t.push(u)),vs.variables_get){e.sort(Yt);for(let v=0,R;R=e[v];v++)s=n.createElement$$module$build$src$core$utils$xml("block"),s.setAttribute("type","variables_get"),s.setAttribute("gap","8"),s.appendChild(ni(R)),t.push(s)}}return t},Fn=function(e){return w1.generateUniqueNameInternal(e)},li=function(e){return Ai(Gd.charAt(0),e.getVariableMap().getAllVariables().map(t=>t.getName()))},Ai=function(e,t){if(!t.length)return e;const s=Gd;let u="",v=s.indexOf(e);for(;;){let R=!1;for(let ee=0;ee<t.length;ee++)if(t[ee].toLowerCase()===e){R=!0;break}if(!R)break;v++,v===s.length&&(v=0,u=`${Number(u)+1}`),e=s.charAt(v)+u}return e},zi=function(e,t,s){function u(R){Qi(n.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,R,function(ee){if(ee){var Me=Wn(ee,e);if(Me){if(Me.getType()===v)var Bt=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace("%1",Me.getName());else Bt=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,Bt=Bt.replace("%1",Me.getName()).replace("%2",Me.getType());ge(Bt,function(){u(ee)})}else e.getVariableMap().createVariable(ee,v),t&&t(ee)}else t&&t(null)})}const v=s||"";u("")},n.renameVariable$$module$build$src$core$variables=function(e,t,s){function u(v){const R=n.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace("%1",t.getName());Qi(R,v,function(ee){if(ee){var Me=ti(ee,t.getType(),e),Bt=Yr(t.getName(),ee,e);if(Me||Bt){var zn="";Me?zn=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",Me.getName()).replace("%2",Me.getType()):Bt&&(zn=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",ee).replace("%2",Bt)),ge(zn,function(){u(ee)})}else e.getVariableMap().renameVariable(t,ee),s&&s(ee)}else s&&s(null)})}u("")},Qi=function(e,t,s){hn(e,t,function(u){u&&(u=u.replace(/[\s\xa0]+/g," ").trim(),u===n.Msg$$module$build$src$core$msg.RENAME_VARIABLE||u===n.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(u=null),s(u)})},ti=function(e,t,s){s=s.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let u=0,v;v=s[u];u++)if(v.getName().toLowerCase()===e&&v.getType()!==t)return v;return null},Wn=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let s=0,u;u=t[s];s++)if(u.getName().toLowerCase()===e)return u;return null},Yr=function(e,t,s){return s.getProcedureMap().getProcedures().length?pi(e,t,s):ho(e,t,s)},pi=function(e,t,s){e=e.toLowerCase(),t=t.toLowerCase(),s=s.getProcedureMap().getProcedures();for(const v of s){var u=v.getParameters().filter(nr).map(R=>R.getVariableModel().getName());if(u&&(s=u.some(R=>R.toLowerCase()===e),u=u.some(R=>R.toLowerCase()===t),s&&u))return v.getName()}return null},ho=function(e,t,s){e=e.toLowerCase(),t=t.toLowerCase(),s=s.getAllBlocks(!1);for(const v of s){if(!gn(v))continue;s=v.getProcedureDef();var u=s[1];const R=u.some(ee=>ee.toLowerCase()===e);if(u=u.some(ee=>ee.toLowerCase()===t),R&&u)return s[0]}return null},ni=function(e){const t=n.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name","VAR"),t.setAttribute("id",e.getId()),t.setAttribute("variabletype",e.getType()),e=n.createTextNode$$module$build$src$core$utils$xml(e.getName()),t.appendChild(e),t},n.getOrCreateVariablePackage$$module$build$src$core$variables=function(e,t,s,u){let v=n.getVariable$$module$build$src$core$variables(e,t,s,u);return v||(v=Ps(e,t,s,u)),v},n.getVariable$$module$build$src$core$variables=function(e,t,s,u){const v=e.getPotentialVariableMap();let R=null;if(t&&(R=e.getVariableById(t),!R&&v&&(R=v.getVariableById(t)),R))return R;if(s){if(u===void 0)throw Error("Tried to look up a variable by name without a type");R=e.getVariable(s,u),!R&&v&&(R=v.getVariable(s,u))}return R},Ps=function(e,t,s,u){const v=e.getVariableMap(),R=e.getPotentialVariableMap();return s||(s=Fn(e.isFlyout?e.targetWorkspace:e)),R?R.createVariable(s,u,t??void 0):v.createVariable(s,u,t)},_o=function(e,t){e=e.getAllVariables();const s=[];if(t.length!==e.length)for(let u=0;u<e.length;u++){const v=e[u];t.includes(v)||s.push(v)}return s},Yt=function(e,t){return e.getName().localeCompare(t.getName(),void 0,{sensitivity:"base"})},Ii=function(e,t){const s=[];e=e.getAllBlocks(!1);for(let u=0;u<e.length;u++){const v=e[u].getVarModels();if(v)for(let R=0;R<v.length;R++)v[R].getId()===t&&s.push(e[u])}return s},n.deleteVariable$$module$build$src$core$variables=function(e,t,s){var u=t.getName();const v=Ii(e,t.getId());for(let R=v.length-1;R>=0;R--){const ee=v[R];if(ee.type==="procedures_defnoreturn"||ee.type==="procedures_defreturn"){s=String(ee.getFieldValue("NAME")),u=n.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",u).replace("%2",s),ge(u);return}ee===s&&v.splice(R,1)}s&&v.length||v.length>1?(u=n.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(v.length+(s&&!s.workspace.isFlyout?1:0))).replace("%2",u),At(u,R=>{R&&t&&e.getVariableMap().deleteVariable(t)})):e.getVariableMap().deleteVariable(t)},qi=function(e,{addCoordinates:t=!1,addInputBlocks:s=!0,addNextBlocks:u=!0,doFullSerialization:v=!0,saveIds:R=!0}={}){if(e.isInsertionMarker())return null;const ee={type:e.type,id:R?e.id:void 0};return t&&n0(e,ee),t0(e,ee),Fs(e,ee,v),Ns(e,ee,v),qr(e,ee,v),s&&Ss(e,ee,v,R),u&&Vo(e,ee,v,R),ee},t0=function(e,t){e.isCollapsed()&&(t.collapsed=!0),e.isEnabled()||(t.disabledReasons=Array.from(e.getDisabledReasons())),e.isOwnDeletable()||(t.deletable=!1),e.isOwnMovable()||(t.movable=!1),e.isOwnEditable()||(t.editable=!1),e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&(t.inline=e.inputsInline),e.data&&(t.data=e.data)},n0=function(e,t){const s=e.workspace;e=e.getRelativeToSurfaceXY(),t.x=Math.round(s.RTL?s.getWidth()-e.x:e.x),t.y=Math.round(e.y)},Fs=function(e,t,s){e.saveExtraState?(e=e.saveExtraState(s),e!==null&&(t.extraState=e)):e.mutationToDom&&(e=e.mutationToDom(),e!==null&&(t.extraState=ts(e).replace(' xmlns="https://developers.google.com/blockly/xml"',"")))},Ns=function(e,t,s){const u=Object.create(null);for(const v of e.getIcons())Sa(v)&&(e=v.saveState(s))&&(u[v.getType().toString()]=e);Object.keys(u).length&&(t.icons=u)},qr=function(e,t,s){const u=Object.create(null);for(const v of e.getFields())v.isSerializable()&&(u[v.name]=v.saveState(s));Object.keys(u).length&&(t.fields=u)},Ss=function(e,t,s,u){const v=Object.create(null);for(let R=0;R<e.inputList.length;R++){const ee=e.inputList[R];if(!ee.connection)continue;const Me=Rl(ee.connection,s,u);Me&&(v[ee.name]=Me)}Object.keys(v).length&&(t.inputs=v)},Vo=function(e,t,s,u){e.nextConnection&&(e=Rl(e.nextConnection,s,u))&&(t.next=e)},Rl=function(e,t,s){const u=e.getShadowState(!0);if(e=e.targetBlock(),!u&&!e)return null;const v=Object.create(null);return u&&(v.shadow=u),e&&!e.isShadow()&&(v.block=qi(e,{doFullSerialization:t,saveIds:s})),v},Nl=function(e,t,{recordUndo:s=!1}={}){return e=Ol(e,t,{recordUndo:s}),t.rendered&&d(),e},Ol=function(e,t,{parentConnection:s,isShadow:u=!1,recordUndo:v=!1}={}){const R=It();n.setRecordUndo$$module$build$src$core$events$utils(v),(v=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0),n.disable$$module$build$src$core$events$utils();const ee=t.getAllVariables();let Me;try{Me=iu(e,t,{parentConnection:s,isShadow:u})}finally{n.enable$$module$build$src$core$events$utils()}if(fo(t,ee),sn()&&le(new(an(mt.BLOCK_CREATE))(Me)),n.setGroup$$module$build$src$core$events$utils(v),n.setRecordUndo$$module$build$src$core$events$utils(R),t.rendered){const Bt=Me;setTimeout(()=>{Bt.disposed||Bt.setConnectionTracking(!0)},1)}return Me},iu=function(e,t,{parentConnection:s,isShadow:u=!1}={}){if(!e.type)throw new c2(e);const v=t.newBlock(e.type,e.id);return v.setShadow(u),jc(v,e),Yc(v,e),ih(v,e),Ju(s,v,e),ul(v,e),mr(v,e),su(v,e),V0(v,e),Zu(v,t.rendered),v},fo=function(e,t){if(sn())for(e=_o(e,t),t=0;t<e.length;t++){const s=e[t];le(new(an(mt.VAR_CREATE))(s))}},jc=function(e,t){let s=t.x===void 0?0:t.x;t=t.y===void 0?0:t.y;const u=e.workspace;s=u.RTL?u.getWidth()-s:s,e.moveBy(s,t)},Yc=function(e,t){if(t.collapsed&&e.setCollapsed(!0),t.deletable===!1&&e.setDeletable(!1),t.movable===!1&&e.setMovable(!1),t.editable===!1&&e.setEditable(!1),t.enabled===!1&&e.setDisabledReason(!0,fr),Array.isArray(t.disabledReasons))for(const s of t.disabledReasons)e.setDisabledReason(!0,s);t.inline!==void 0&&e.setInputsInline(t.inline),t.data!==void 0&&(e.data=t.data)},ih=function(e,t){t.extraState&&(e.loadExtraState?e.loadExtraState(t.extraState):e.domToMutation&&e.domToMutation(n.textToDom$$module$build$src$core$utils$xml(t.extraState)))},Ju=function(e,t,s){if(e){if(e.getSourceBlock().isShadow()&&!t.isShadow())throw new d2(s);if(e.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var u=t.outputConnection;if(!u)throw new Co("output",t,s)}else if(u=t.previousConnection,!u)throw new Co("previous",t,s);if(!e.connect(u)){const v=t.workspace.connectionChecker;throw new h2(v.getErrorMessage(v.canConnectWithReason(u,e,!1),u,e),e.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE?"output connection":"previous connection",t,s)}}},ul=function(e,t){if(t.icons){var s=Object.keys(t.icons);for(const v of s){s=t.icons[v];var u=e.getIcon(v);if(!u){if(u=T(Ut.ICON,v,!1),!u)throw new C3(v,e,t);u=new u(e),e.addIcon(u)}Sa(u)&&u.loadState(s)}}},mr=function(e,t){if(t.fields){var s=Object.keys(t.fields);for(let u=0;u<s.length;u++){const v=s[u],R=t.fields[v],ee=e.getField(v);ee?ee.loadState(R):console.warn(`Ignoring non-existant field ${v} in block ${e.type}`)}}},su=function(e,t){if(t.inputs){var s=Object.keys(t.inputs);for(let u=0;u<s.length;u++){const v=s[u],R=e.getInput(v);if(!R||!R.connection)throw new Co(v,e,t);xa(R.connection,t.inputs[v])}}},V0=function(e,t){if(t.next){if(!e.nextConnection)throw new Co("next",e,t);xa(e.nextConnection,t.next)}},xa=function(e,t){t.shadow&&e.setShadowState(t.shadow),t.block&&iu(t.block,e.getSourceBlock().workspace,{parentConnection:e})},Zu=function(e,t){if(t){e.setConnectionTracking(!1),e.initSvg(),e.queueRender();for(const s of e.getIcons())s.onLocationChange(e.getRelativeToSurfaceXY())}else e.initModel()},g0=function(e){return typeof e.bubbleIsVisible=="function"&&typeof e.setBubbleVisible=="function"&&typeof e.getBubble=="function"},$0=function(e){return e*Math.PI/180},Kc=function(e){return e*180/Math.PI},b0=function(e,t,s){if(s<e){const u=s;s=e,e=u}return Math.max(e,Math.min(t,s))},ka=function(){document.querySelector(".blocklyDropDownDiv")||(cs=document.createElement("div"),cs.className="blocklyDropDownDiv",cs.tabIndex=-1,(Cn()||document.body).appendChild(cs),S1=document.createElement("div"),S1.className="blocklyDropDownContent",cs.appendChild(S1),Sc=ie(S1,"keydown",null,et),Su=document.createElement("div"),Su.className="blocklyDropDownArrow",cs.appendChild(Su),cs.style.opacity="0",cs.style.transition="transform "+Wd+"s, opacity "+Wd+"s")},W0=function(e){qd=e},Qu=function(){return ja},v0=function(){return S1},Ll=function(){Sc&&(Ie(Sc),Sc=null),cs.remove(),ka()},ec=function(e,t){cs.style.backgroundColor=e,cs.style.borderColor=t},tc=function(e,t,s,u,v=!0){return q0(Ca(t),e,v,s,u)},ou=function(e,t,s,u=!0){return g2=!0,q0(Aa(e),e,u,t,s)},Ca=function(e){var t=e.getSvgRoot();const s=e.workspace.scale,u=e.height*s;return e=e.width*s,t=L(t),new $r(t.y,t.y+u,t.x,t.x+e)},Aa=function(e){return e=e.getScaledBBox(),new $r(e.top,e.bottom,e.left,e.right)},q0=function(e,t,s,u,v){const R=e.left+(e.right-e.left)/2,ee=e.bottom;e=e.top,v&&(e+=v),v=t.getSourceBlock();let Me=v.workspace;for(;Me.options.parentWorkspace;)Me=Me.options.parentWorkspace;return W0(Me.getParentSvg().parentNode),Dl(t,v.RTL,R,ee,R,e,s,u)},Dl=function(e,t,s,u,v,R,ee,Me){return ja=e,wu=Me||null,cs.style.direction=t?"rtl":"ltr",e=N(),m2=e.getRenderer().getClassName(),wc=e.getTheme().getClassName(),tn(cs,m2),tn(cs,wc),s=je(s,u,v,R),ee&&(Rh=n.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(cs)),s},Ia=function(e,t,s,u){return e=y(e,s.left,s.right,u.width),{initialX:e.divX,initialY:t,finalX:e.divX,finalY:t+f2,arrowX:e.arrowX,arrowY:-9,arrowAtTop:!0,arrowVisible:!0}},lu=function(e,t,s,u){return e=y(e,s.left,s.right,u.width),{initialX:e.divX,initialY:t-u.height,finalX:e.divX,finalY:t-u.height-f2,arrowX:e.arrowX,arrowY:u.height-Mh*2-Ih/2,arrowAtTop:!1,arrowVisible:!0}},cl=function(e,t,s){return e=y(e,t.left,t.right,s.width),{initialX:e.divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},y=function(e,t,s,u){return t=b0(t,e-u/2,s-u),e=e-Ih/2-t,s=Vd,e=b0(s,e,u-s-Ih),{arrowX:e,divX:t}},M=function(){return!!ja},se=function(e,t){return ja===e?(t?Ne():ve(),!0):!1},ve=function(){cs.style.transform="translate(0, 0)",cs.style.opacity="0",p2=setTimeout(function(){Ne()},Wd*1e3),wu&&(wu(),wu=null)},Ne=function(){M()&&(p2&&clearTimeout(p2),wu&&(wu(),wu=null),Ll(),ja=null,N().markFocused(),Rh&&(Rh(),Rh=null))},je=function(e,t,s,u){e=Xd.getPositionMetrics(e,t,s,u),e.arrowVisible?(t=e.arrowX,s=e.arrowY,u=e.arrowAtTop?45:225,Su.style.display="",Su.style.transform=`translate(${t}px, ${s}px) rotate(${u}deg)`,Su.setAttribute("class","blocklyDropDownArrow")):Su.style.display="none",t=Math.floor(e.initialX),s=Math.floor(e.initialY),u=Math.floor(e.finalX);const v=Math.floor(e.finalY);return cs.style.left=t+"px",cs.style.top=s+"px",cs.style.display="block",cs.style.opacity="1",cs.style.transform="translate("+(u-t)+"px,"+(v-s)+"px)",!!e.arrowAtTop},at=function(){if(ja){var e=ja.getSourceBlock();e=g2?Aa(ja):Ca(e);const t=e.left+(e.right-e.left)/2;je(t,e.bottom,t,e.top)}else ve()},St=function(e){return e.length?e.reduce(function(t,s){return t.length<s.length?t:s}).length:0},Vt=function(e,t){if(!e.length)return 0;if(e.length===1)return e[0].length;let s=0;t=t||St(e);let u;for(u=0;u<t;u++){for(var v=e[0][u],R=1;R<e.length;R++)if(v!==e[R][u])return s;v===" "&&(s=u+1)}for(v=1;v<e.length;v++)if((R=e[v][u])&&R!==" ")return s;return t},Xt=function(e,t){if(!e.length)return 0;if(e.length===1)return e[0].length;let s=0;t=t||St(e);let u;for(u=0;u<t;u++){for(var v=e[0].substr(-u-1,1),R=1;R<e.length;R++)if(v!==e[R].substr(-u-1,1))return s;v===" "&&(s=u+1)}for(v=1;v<e.length;v++)if((R=e[v].charAt(e[v].length-u-1))&&R!==" ")return s;return t},n.wrap$$module$build$src$core$utils$string=function(e,t){e=e.split(`
`);for(let s=0;s<e.length;s++)e[s]=pn(e[s],t);return e.join(`
`)},pn=function(e,t){if(e.length<=t)return e;const s=e.trim().split(/\s+/);for(var u=0;u<s.length;u++)s[u].length>t&&(t=s[u].length);var v=-1/0;let R,ee=1;do{u=v,R=e,e=[],v=s.length/ee;let Me=1;for(let Bt=0;Bt<s.length-1;Bt++)Me<(Bt+1.5)/v?(Me++,e[Bt]=!0):e[Bt]=!1;e=Un(s,e,t),v=Mt(s,e,t),e=Ln(s,e),ee++}while(v>u);return R},Mt=function(e,t,s){const u=[0],v=[];for(var R=0;R<e.length;R++)u[u.length-1]+=e[R].length,t[R]===!0?(u.push(0),v.push(e[R].charAt(e[R].length-1))):t[R]===!1&&u[u.length-1]++;for(e=Math.max(...u),t=0,R=0;R<u.length;R++)t-=Math.pow(Math.abs(s-u[R]),1.5)*2,t-=Math.pow(e-u[R],1.5),".?!".includes(v[R])?t+=s/3:",;)]}".includes(v[R])&&(t+=s/4);return u.length>1&&u[u.length-1]<=u[u.length-2]&&(t+=.5),t},Un=function(e,t,s){let u=Mt(e,t,s),v;for(let R=0;R<t.length-1;R++){if(t[R]===t[R+1])continue;const ee=[].concat(t);ee[R]=!ee[R],ee[R+1]=!ee[R+1];const Me=Mt(e,ee,s);Me>u&&(u=Me,v=ee)}return v?Un(e,v,s):t},Ln=function(e,t){const s=[];for(let u=0;u<e.length;u++)s.push(e[u]),t[u]!==void 0&&s.push(t[u]?`
`:" ");return s.join("")},n.isNumber$$module$build$src$core$utils$string=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},Gn=function(e){x1=e},er=function(){return x1},yr=function(){return Nh},Br=function(){return eo},en=function(e){if(e=Nn(e)){for(e=e.tooltip;typeof e=="function";)e=e();if(typeof e!="string")throw Error("Tooltip function must return a string.");return e}return""},Nn=function(e){for(;e&&e.tooltip;){if(typeof e.tooltip=="string"||typeof e.tooltip=="function")return e;e=e.tooltip}return null},Mr=function(){document.querySelector(".blocklyTooltipDiv")||(eo=document.createElement("div"),eo.className="blocklyTooltipDiv",(Cn()||document.body).appendChild(eo))},or=function(e){e.mouseOverWrapper_=be(e,"pointerover",null,ai),e.mouseOutWrapper_=be(e,"pointerout",null,Kr),e.addEventListener("pointermove",ri,!1)},Xr=function(e){e&&(Ie(e.mouseOverWrapper_),Ie(e.mouseOutWrapper_),e.removeEventListener("pointermove",ri))},ai=function(e){xc||(e=Nn(e.currentTarget),Tl!==e&&(Ti(),ku=null,Tl=e),clearTimeout(I3))},Kr=function(e){xc||(I3=setTimeout(function(){ku=Tl=null,Ti()},1),clearTimeout(kc),kc=0)},ri=function(e){if(Tl&&Tl.tooltip&&!xc)if(Nh){const t=k1-e.pageX;e=xu-e.pageY,Math.sqrt(t*t+e*e)>L0&&Ti()}else ku!==Tl&&(clearTimeout(kc),k1=e.pageX,xu=e.pageY,kc=setTimeout(zs,C1))},Jr=function(){ku=Tl=null,Ti()},Ti=function(){Nh&&(Nh=!1,eo&&(eo.style.display="none")),kc&&(clearTimeout(kc),kc=0)},Pr=function(){Ti(),xc=!0},Ui=function(){xc=!1},ms=function(){eo&&Tl&&(typeof x1=="function"?x1(eo,Tl):xs())},xs=function(){var e=en(Tl);e=n.wrap$$module$build$src$core$utils$string(e,A3),e=e.split(`
`);for(let t=0;t<e.length;t++){const s=document.createElement("div");s.appendChild(document.createTextNode(e[t])),eo.appendChild(s)}},_i=function(e){const t=document.documentElement.clientWidth,s=document.documentElement.clientHeight;let u=k1;u=e?u-(Oh+eo.offsetWidth):u+Oh;let v=xu+fa;return v+eo.offsetHeight>s+window.scrollY&&(v-=eo.offsetHeight+2*fa),e?u=Math.max(jd-window.scrollX,u):u+eo.offsetWidth>t+window.scrollX-2*jd&&(u=t-eo.offsetWidth-2*jd),{x:u,y:v}},zs=function(){if(!xc&&(ku=Tl,eo)){eo.textContent="",ms();var e=Tl.RTL;eo.style.direction=e?"rtl":"ltr",eo.style.display="block",Nh=!0;var{x:t,y:s}=_i(e);eo.style.left=t+"px",eo.style.top=s+"px"}},po=function(){return Yd},ks=function(e){Yd=e},Cr=function(){return Kd},os=function(e){Kd=e},de=function(e){e=`${e}`.toLowerCase().trim();var t=M3[e];if(t||(t=e.substring(0,2)==="0x"?"#"+e.substring(2):e,t=t[0]==="#"?t:"#"+t,/^#[0-9a-f]{6}$/.test(t)))return t;if(/^#[0-9a-f]{3}$/.test(t))return["#",t[1],t[1],t[2],t[2],t[3],t[3]].join("");var s=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return s&&(e=Number(s[1]),t=Number(s[2]),s=Number(s[3]),e>=0&&e<256&&t>=0&&t<256&&s>=0&&s<256)?wi(e,t,s):null},wi=function(e,t,s){return t=e<<16|t<<8|s,e<16?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},es=function(e){return e=de(e),e?(e=parseInt(e.substr(1),16),[e>>16,e>>8&255,e&255]):[0,0,0]},hl=function(e,t,s){let u=0,v=0,R=0;if(t===0)R=v=u=s;else{const ee=Math.floor(e/60),Me=e/60-ee;e=s*(1-t);const Bt=s*(1-t*Me);switch(t=s*(1-t*(1-Me)),ee){case 1:u=Bt,v=s,R=e;break;case 2:u=e,v=s,R=t;break;case 3:u=e,v=Bt,R=s;break;case 4:u=t,v=e,R=s;break;case 5:u=s,v=e,R=Bt;break;case 6:case 0:u=s,v=t,R=e}}return wi(Math.floor(u),Math.floor(v),Math.floor(R))},ro=function(e,t,s){return e=de(e),!e||(t=de(t),!t)?null:(e=es(e),t=es(t),wi(Math.round(t[0]+s*(e[0]-t[0])),Math.round(t[1]+s*(e[1]-t[1])),Math.round(t[2]+s*(e[2]-t[2]))))},mo=function(e){return hl(e,Yd,Kd*255)},Ks=function(e,t,s){const u=[];var v=e.split("");v.push("");var R=0;e=[];let ee=null;for(let zn=0;zn<v.length;zn++){var Me=v[zn];if(R===0)if(Me==="%")(R=e.join(""))&&u.push(R),e.length=0,R=1;else if(s&&Me===`
`){const qs=e.join("");qs&&u.push(qs),e.length=0,u.push(Me)}else e.push(Me);else if(R===1)Me==="%"?(e.push(Me),R=0):t&&"0"<=Me&&Me<="9"?(R=2,ee=Me,(Me=e.join(""))&&u.push(Me),e.length=0):Me==="{"?R=3:(e.push("%",Me),R=0);else if(R===2)if("0"<=Me&&Me<="9")ee+=Me;else{var Bt=void 0;u.push(parseInt((Bt=ee)!=null?Bt:"",10)),zn--,R=0}else R===3&&(Me===""?(e.splice(0,0,"%{"),zn--,R=0):Me!=="}"?e.push(Me):(R=e.join(""),/[A-Z]\w*/i.test(R)?(Me=R.toUpperCase(),(Me=Me.startsWith("BKY_")?Me.substring(4):null)&&Me in n.Msg$$module$build$src$core$msg?(R=n.Msg$$module$build$src$core$msg[Me],typeof R=="string"?Array.prototype.push.apply(u,Ks(R,t,s)):t?u.push(`${R}`):u.push(R)):u.push("%{"+R+"}")):u.push("%{"+R+"}"),R=e.length=0))}for((t=e.join(""))&&u.push(t),Bt=[],e.length=0,v=0;v<u.length;v++)typeof u[v]!="string"||s&&u[v]===`
`?((t=e.join(""))&&Bt.push(t),e.length=0,Bt.push(u[v])):e.push(u[v]);return(t=e.join(""))&&Bt.push(t),e.length=0,Bt},ls=function(e){return Ks(e,!0,!0)},lr=function(e){return typeof e!="string"?e:(e=Ks(e,!1,!1),e.length?String(e[0]):"")},Js=function(e){let t=!0;const s=n.Msg$$module$build$src$core$msg,u=e.match(/%{BKY_[A-Z]\w*}/gi);if(u)for(let v=0;v<u.length;v++){const R=u[v].toUpperCase();s[R.slice(6,-1)]===void 0&&(console.warn("No message string for "+u[v]+" in "+e),t=!1)}return t},Mi=function(e){const t=typeof e=="string"?lr(e):e;var s=Number(t);if(!isNaN(s)&&0<=s&&s<=360)return{hue:s,hex:hl(s,po(),Cr()*255)};if(s=de(t))return{hue:null,hex:s};throw s='Invalid colour: "'+t+'"',e!==t&&(s+=' (from "'+e+'")'),Error(s)},go=function(){return wl},r0=function(e){if(wl=e,e===null){let t;(t=document.querySelector("."+$2))==null||t.remove()}},Bl=function(){const e=Cn()||document.body,t=document.querySelector("div."+$2);t?wl=t:(wl=document.createElement("div"),wl.className=$2,wl.tabIndex=-1),ie(wl,"keydown",null,et),e.appendChild(wl)},y0=function(e,t,s,u,v=!0){if(Jo(),Cu=e,Zd=s,s=wl){if(s.style.direction=t?"rtl":"ltr",s.style.display="block",!u&&e instanceof Li){let Me;u=(Me=e.getSourceBlock())==null?void 0:Me.workspace}var R;Jd=(R=u)!=null?R:null;var ee;e=(ee=u)!=null?ee:N(),pa=e.getRenderer().getClassName(),I1=e.getTheme().getClassName(),pa&&tn(s,pa),I1&&tn(s,I1),v&&(zr=n.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(s))}},Jo=function(){if(nc()){Cu=null;var e=wl;e&&(e.style.display="none",e.style.left="",e.style.top="",Zd&&(Zd(),Zd=null),e.textContent="",pa&&(Zn(e,pa),pa=""),I1&&(Zn(e,I1),I1=""),N().markFocused(),zr&&(zr(),zr=null))}},nc=function(){return!!Cu},Pl=function(e){Cu===e&&Jo()},dl=function(e){let t=Jd===null,s=e;for(;!t&&s;){if(s===e){t=!0;break}s=e.options.parentWorkspace}t&&Jo()},rc=function(e,t,s){wl.style.left=e+"px",wl.style.top=t+"px",wl.style.height=s+"px"},Eo=function(e,t,s,u){const v=Fl(e,t,s);e=ic(e,t,s,u),v<0?rc(e,0,s.height+v):rc(e,v,s.height)},ic=function(e,t,s,u){return u?Math.min(Math.max(t.right-s.width,e.left),e.right-s.width):Math.max(Math.min(t.left,e.right-s.width),e.left)},Fl=function(e,t,s){return t.bottom+s.height>=e.bottom?t.top-s.height:t.bottom},td=function(e){return!(e==null||!e.repositionForWindowResize)},X0=function(){td(Cu)&&Cu.repositionForWindowResize()||Jo()},T0=function(){return Cc},au=function(e){Cc=e},j0=function(e,t,s,u,v){if(y0(Qd,s,sc,u),t.length){v||(e instanceof PointerEvent?v=new Wt(e.clientX,e.clientY):(console.warn("Context menu opened with keyboard but no location given"),v=new Wt(0,0)));var R=_0(t,s,e,v);Lh=R,Ma(R,s,v),setTimeout(function(){R.focus()},1),Cc=null}else zl()},_0=function(e,t,s,u){const v=new a2;v.setRole(bl.MENU);for(let R=0;R<e.length;R++){const ee=e[R];if(ee.separator){v.addChild(new xi);continue}const Me=new Fd(ee.text);Me.setRightToLeft(t),Me.setRole(bl.MENUITEM),v.addChild(Me),Me.setEnabled(ee.enabled),ee.enabled&&Me.onAction(function(Bt,zn){zl(),requestAnimationFrame(()=>{setTimeout(()=>{ee.callback(ee.scope,s,zn,u)},0)})},{})}return v},Ma=function(e,t,s){const u=we();s=new $r(s.y+u.top,s.y+u.top,s.x+u.left,s.x+u.left),Zo(e);const v=e.getSize();t&&(s.left+=v.width,s.right+=v.width,u.left+=v.width,u.right+=v.width),Eo(u,s,v,t),e.focus()},Zo=function(e){var t=go();if(!t)throw Error("Attempting to create a context menu when widget div is null");t=e.render(t),tn(t,"blocklyContextMenu"),ie(t,"contextmenu",null,Ra),e.focus()},Ra=function(e){e.preventDefault(),e.stopPropagation()},zl=function(){Pl(Qd),Cc=null},sc=function(){Lh&&(Lh.dispose(),Lh=null)},n.callbackFactory$$module$build$src$core$contextmenu=function(e,t){return()=>{n.disable$$module$build$src$core$events$utils();let s;try{s=t instanceof Element?s0(t,e.workspace):Ol(t,e.workspace);const u=e.getRelativeToSurfaceXY();u.x=e.RTL?u.x-n.config$$module$build$src$core$config.snapRadius:u.x+n.config$$module$build$src$core$config.snapRadius,u.y+=n.config$$module$build$src$core$config.snapRadius*2,s.moveBy(u.x,u.y)}finally{n.enable$$module$build$src$core$events$utils()}return sn()&&!s.isShadow()&&le(new(an(mt.BLOCK_CREATE))(s)),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(s),s}},Y0=function(e,t){return t=We(t,e.getParentSvg(),e.getInverseScreenCTM()),t.x/=e.scale,t.y/=e.scale,t},wo=function(e,t,s){t=Y0(e,t),b2.set(e,Wt.difference(s,t))},Wo=function(e,t){if(t=Y0(e,t),e=b2.get(e),!e)throw Error("Drag not initialized");return Wt.sum(e,t)},i0=function(e,t=!1){const s=n.createElement$$module$build$src$core$utils$xml("xml");var u=Qo(n.allUsedVarModels$$module$build$src$core$variables(e));u.hasChildNodes()&&s.appendChild(u);for(const v of e.getTopComments())s.appendChild(qo(v,t));for(e=e.getTopBlocks(!0),u=0;u<e.length;u++)s.appendChild(Lo(e[u],t));return s},qo=function(e,t=!1){const s=n.createElement$$module$build$src$core$utils$xml("comment");t||s.setAttribute("id",e.id),t=e.workspace;const u=e.getRelativeToSurfaceXY().clone();return u.x=t.RTL?t.getWidth()-u.x:u.x,s.setAttribute("x",`${u.x}`),s.setAttribute("y",`${u.y}`),s.setAttribute("w",`${e.getSize().width}`),s.setAttribute("h",`${e.getSize().height}`),e.getText()&&(s.textContent=e.getText()),e.isCollapsed()&&s.setAttribute("collapsed","true"),e.isOwnEditable()||s.setAttribute("editable","false"),e.isOwnMovable()||s.setAttribute("movable","false"),e.isOwnDeletable()||s.setAttribute("deletable","false"),s},Qo=function(e){const t=n.createElement$$module$build$src$core$utils$xml("variables");for(let s=0;s<e.length;s++){const u=e[s],v=n.createElement$$module$build$src$core$utils$xml("variable");v.appendChild(n.createTextNode$$module$build$src$core$utils$xml(u.getName())),u.getType()&&v.setAttribute("type",u.getType()),v.id=u.getId(),t.appendChild(v)}return t},Lo=function(e,t){if(e.isInsertionMarker()&&(e=e.getChildren(!1)[0],!e))return new DocumentFragment;let s=0;if(e.workspace.RTL&&(s=e.workspace.getWidth()),t=Ul(e,t),La(t)){const u=e.getRelativeToSurfaceXY();t.setAttribute("x",String(Math.round(e.workspace.RTL?s-u.x:u.x))),t.setAttribute("y",String(Math.round(u.y)))}return t},oc=function(e){if(e.isSerializable()){const t=n.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name",e.name||""),e.toXml(t)}return null},lc=function(e,t){for(const s of e.getFields())(e=oc(s))&&t.appendChild(e)},Ul=function(e,t){if(e.isInsertionMarker())return(t=e.getChildren(!1)[0])?Ul(t):new DocumentFragment;const s=n.createElement$$module$build$src$core$utils$xml(e.isShadow()?"shadow":"block");if(s.setAttribute("type",e.type),t||(s.id=e.id),e.mutationToDom){var u=e.mutationToDom();u&&(u.hasChildNodes()||u.hasAttributes())&&s.appendChild(u)}if(lc(e,s),u=e.getCommentText()){var v=e.getIcon(_s.COMMENT),R=v.getBubbleSize(),ee=v.bubbleIsVisible();v=v.getBubbleLocation();var Me=n.createElement$$module$build$src$core$utils$xml("comment");Me.appendChild(n.createTextNode$$module$build$src$core$utils$xml(u)),Me.setAttribute("pinned",`${ee}`),Me.setAttribute("h",`${R.height}`),Me.setAttribute("w",`${R.width}`),v&&(Me.setAttribute("x",`${e.workspace.RTL?e.workspace.getWidth()-(v.x+R.width):v.x}`),Me.setAttribute("y",`${v.y}`)),s.appendChild(Me)}for(e.data&&(u=n.createElement$$module$build$src$core$utils$xml("data"),u.appendChild(n.createTextNode$$module$build$src$core$utils$xml(e.data)),s.appendChild(u)),u=0;u<e.inputList.length;u++){R=e.inputList[u];var Bt=void 0;ee=!0,R.type!==n.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&R.type!==n.inputTypes$$module$build$src$core$inputs$input_types.END_ROW&&(v=R.connection.targetBlock(),R.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE?Bt=n.createElement$$module$build$src$core$utils$xml("value"):R.type===n.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(Bt=n.createElement$$module$build$src$core$utils$xml("statement")),Me=R.connection.getShadowDom(),!Me||v&&v.isShadow()||Bt.appendChild(ac(Me,t)),v&&(v=Ul(v,t),v.nodeType===I0.ELEMENT_NODE&&(Bt.appendChild(v),ee=!1)),Bt.setAttribute("name",R.name),ee||s.appendChild(Bt))}e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&s.setAttribute("inline",String(e.inputsInline)),e.isCollapsed()&&s.setAttribute("collapsed","true"),e.isEnabled()||s.setAttribute("disabled-reasons",Array.from(e.getDisabledReasons()).map(encodeURIComponent).join(",")),e.isOwnDeletable()||s.setAttribute("deletable","false"),e.isOwnMovable()||s.setAttribute("movable","false"),e.isOwnEditable()||s.setAttribute("editable","false"),Bt=e.getNextBlock();let zn;return Bt&&(u=Ul(Bt,t),u.nodeType===I0.ELEMENT_NODE&&(zn=n.createElement$$module$build$src$core$utils$xml("next"),zn.appendChild(u),s.appendChild(zn))),e=e.nextConnection&&e.nextConnection.getShadowDom(),!e||Bt&&Bt.isShadow()||zn.appendChild(ac(e,t)),s},ac=function(e,t){let s=e=e.cloneNode(!0),u;for(;s;)if(t&&s.nodeName==="shadow"&&s.removeAttribute("id"),s.firstChild)s=s.firstChild;else{for(;s&&!s.nextSibling;){u=s,s=s.parentNode;let v;u.nodeType===I0.TEXT_NODE&&u.data.trim()===""&&((v=s)==null?void 0:v.firstChild)!==u&&on(u)}s&&(u=s,s=s.nextSibling,u.nodeType===I0.TEXT_NODE&&u.data.trim()===""&&on(u))}return e},ts=function(e){return st(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},Xi=function(e){e=ts(e).split("<");let t="";for(let s=1;s<e.length;s++){const u=e[s];u[0]==="/"&&(t=t.substring(2)),e[s]=t+"<"+u,u[0]!=="/"&&u.slice(-2)!=="/>"&&(t+="  ")}return e=e.join(`
`),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},Hr=function(e,t){return t.setResizesEnabled(!1),t.clear(),e=n.domToWorkspace$$module$build$src$core$xml(e,t),t.setResizesEnabled(!0),e},n.domToWorkspace$$module$build$src$core$xml=function(e,t){let s=0;t.RTL&&(s=t.getWidth());const u=[];Qn();const v=n.getGroup$$module$build$src$core$events$utils();v||n.setGroup$$module$build$src$core$events$utils(!0),t.setResizesEnabled&&t.setResizesEnabled(!1);let R=!0;try{for(let ee=0,Me;Me=e.childNodes[ee];ee++){const Bt=Me.nodeName.toLowerCase(),zn=Me;if(Bt==="block"||Bt==="shadow"&&!It()){const qs=s0(zn,t);u.push(qs.id);let hs;const al=parseInt((hs=zn.getAttribute("x"))!=null?hs:"10",10);let Pc;const zu=parseInt((Pc=zn.getAttribute("y"))!=null?Pc:"10",10);isNaN(al)||isNaN(zu)||qs.moveBy(t.RTL?s-al:al,zu,["create"]),R=!1}else{if(Bt==="shadow")throw TypeError("Shadow block cannot be a top-level block.");if(Bt==="comment")E0(zn,t);else if(Bt==="variables"){if(R)o0(zn,t);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");R=!1}}}}finally{n.setGroup$$module$build$src$core$events$utils(v),t.setResizesEnabled&&t.setResizesEnabled(!0),t.rendered&&d(),ss()}return le(new(an(mt.FINISHED_LOADING))(t)),u},E0=function(e,t){var s;const u=(s=e.getAttribute("id"))!=null?s:void 0;s=t.rendered?new u0(t,u):new R1(t,u);var v;s.setText((v=e.textContent)!=null?v:"");var R;v=parseInt((R=e.getAttribute("x"))!=null?R:"",10);let ee;R=parseInt((ee=e.getAttribute("y"))!=null?ee:"",10),isNaN(v)||isNaN(R)||(v=t.RTL?t.getWidth()-v:v,s.moveTo(new Wt(v,R)));var Me;t=parseInt((Me=e.getAttribute("w"))!=null?Me:"",10);let Bt;return Me=parseInt((Bt=e.getAttribute("h"))!=null?Bt:"",10),isNaN(t)||isNaN(Me)||s.setSize(new _r(t,Me)),e.getAttribute("collapsed")==="true"&&s.setCollapsed(!0),e.getAttribute("editable")==="false"&&s.setEditable(!1),e.getAttribute("movable")==="false"&&s.setMovable(!1),e.getAttribute("deletable")==="false"&&s.setDeletable(!1),s},Us=function(e,t){if(!t.getBlocksBoundingBox)return n.domToWorkspace$$module$build$src$core$xml(e,t);var s=t.getBlocksBoundingBox();if(e=n.domToWorkspace$$module$build$src$core$xml(e,t),s&&s.top!==s.bottom){var u=s.bottom;s=t.RTL?s.right:s.left;var v=1/0;let R=-1/0,ee=1/0;for(let Me=0;Me<e.length;Me++){const Bt=t.getBlockById(e[Me]).getRelativeToSurfaceXY();Bt.y<ee&&(ee=Bt.y),Bt.x<v&&(v=Bt.x),Bt.x>R&&(R=Bt.x)}for(u=u-ee+10,s=t.RTL?s-R:s-v,v=0;v<e.length;v++)t.getBlockById(e[v]).moveBy(s,u,["create"])}return e},n.domToBlock$$module$build$src$core$xml=function(e,t){return e=s0(e,t),t.rendered&&d(),e},s0=function(e,t){n.disable$$module$build$src$core$events$utils();var s=t.getAllVariables();let u;try{if(u=Hl(e,t),t.rendered){const v=u,R=u.getDescendants(!1);v.setConnectionTracking(!1);for(let ee=R.length-1;ee>=0;ee--)R[ee].initSvg();for(let ee=R.length-1;ee>=0;ee--)R[ee].queueRender();setTimeout(function(){v.disposed||v.setConnectionTracking(!0)},1),t.resizeContents()}else{const v=u.getDescendants(!1);for(let R=v.length-1;R>=0;R--)v[R].initModel()}}finally{n.enable$$module$build$src$core$events$utils()}if(sn()){for(e=_o(t,s),t=0;t<e.length;t++)s=e[t],le(new(an(mt.VAR_CREATE))(s));le(new(an(mt.BLOCK_CREATE))(u))}return u},o0=function(e,t){for(let u=0;u<e.children.length;u++){var s=e.children[u];const v=s.getAttribute("type"),R=s.getAttribute("id");if(s=s.textContent,!s)break;let ee;t.getVariableMap().createVariable(s,(ee=v)!=null?ee:void 0,R)}},sh=function(e){const t={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let s=0;s<e.children.length;s++){const u=e.children[s];if(u.nodeType!==I0.TEXT_NODE)switch(u.nodeName.toLowerCase()){case"mutation":t.mutation.push(u);break;case"comment":t.comment.push(u);break;case"data":t.data.push(u);break;case"title":case"field":t.field.push(u);break;case"value":case"statement":t.input.push(u);break;case"next":t.next.push(u);break;default:console.warn("Ignoring unknown tag: "+u.nodeName)}}return t},oh=function(e,t){let s=!1;for(let u=0;u<e.length;u++){const v=e[u];t.domToMutation&&(t.domToMutation(v),t.initSvg&&(s=!0))}return s},Na=function(e,t){for(let s=0;s<e.length;s++){const u=e[s],v=u.textContent,R=u.getAttribute("pinned")==="true";let ee;const Me=parseInt((ee=u.getAttribute("w"))!=null?ee:"50",10);let Bt;const zn=parseInt((Bt=u.getAttribute("h"))!=null?Bt:"50",10);let qs,hs=parseInt((qs=u.getAttribute("x"))!=null?qs:"",10),al;const Pc=parseInt((al=u.getAttribute("y"))!=null?al:"",10);t.setCommentText(v);const zu=t.getIcon(_s.COMMENT);isNaN(Me)||isNaN(zn)||zu.setBubbleSize(new _r(Me,zn)),zu.setBubbleVisible(R),setTimeout(()=>{isNaN(hs)||isNaN(Pc)||(hs=t.workspace.RTL?t.workspace.getWidth()-(hs+Me):hs,zu.setBubbleLocation(new Wt(hs,Pc))),zu.setBubbleVisible(R)},1)}},l0=function(e,t){for(let s=0;s<e.length;s++)t.data=e[s].textContent},Jc=function(e,t){for(let s=0;s<e.length;s++){const u=e[s],v=u.getAttribute("name");v?w0(t,v,u):console.warn(`Ignoring unnamed field in block ${t.type}`)}},Oa=function(e){let t=null,s=null;for(let u=0;u<e.childNodes.length;u++){const v=e.childNodes[u];La(v)&&(v.nodeName.toLowerCase()==="block"?t=v:v.nodeName.toLowerCase()==="shadow"&&(s=v))}return{childBlockElement:t,childShadowElement:s}},uc=function(e,t,s,u){for(let R=0;R<e.length;R++){var v=e[R];const ee=v.getAttribute("name"),Me=ee?s.getInput(ee):null;if(!Me){console.warn("Ignoring non-existent input "+ee+" in block "+u);break}if(v=Oa(v),v.childBlockElement){if(!Me.connection)throw TypeError("Input connection does not exist.");Hl(v.childBlockElement,t,Me.connection,!1)}if(v.childShadowElement){let Bt;(Bt=Me.connection)==null||Bt.setShadowDom(v.childShadowElement)}}},K0=function(e,t,s){for(let u=0;u<e.length;u++){const v=Oa(e[u]);if(v.childBlockElement){if(!s.nextConnection)throw TypeError("Next statement does not exist.");if(s.nextConnection.isConnected())throw TypeError("Next statement is already connected.");Hl(v.childBlockElement,t,s.nextConnection,!0)}v.childShadowElement&&s.nextConnection&&s.nextConnection.setShadowDom(v.childShadowElement)}},Hl=function(e,t,s,u){var v;const R=e.getAttribute("type");if(!R)throw TypeError("Block type unspecified: "+e.outerHTML);var ee=(v=e.getAttribute("id"))!=null?v:void 0;v=t.newBlock(R,ee),ee=sh(e);const Me=oh(ee.mutation,v);if(Na(ee.comment,v),l0(ee.data,v),s)if(u)if(v.previousConnection)s.connect(v.previousConnection);else throw TypeError("Next block does not have previous statement.");else if(v.outputConnection)s.connect(v.outputConnection);else if(v.previousConnection)s.connect(v.previousConnection);else throw TypeError("Child block does not have output or previous statement.");if(Jc(ee.field,v),uc(ee.input,t,v,R),K0(ee.next,t,v),Me&&v.initSvg(),(t=e.getAttribute("inline"))&&v.setInputsInline(t==="true"),(t=e.getAttribute("disabled"))&&v.setDisabledReason(t==="true"||t==="disabled",fr),t=e.getAttribute("disabled-reasons"),t!==null)for(var Bt of t.split(","))v.setDisabledReason(!0,decodeURIComponent(Bt));if((Bt=e.getAttribute("deletable"))&&v.setDeletable(Bt==="true"),(Bt=e.getAttribute("movable"))&&v.setMovable(Bt==="true"),(Bt=e.getAttribute("editable"))&&v.setEditable(Bt==="true"),(Bt=e.getAttribute("collapsed"))&&v.setCollapsed(Bt==="true"),e.nodeName.toLowerCase()==="shadow"){for(e=v.getChildren(!1),Bt=0;Bt<e.length;Bt++)if(!e[Bt].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");v.setShadow(!0)}return v},w0=function(e,t,s){const u=e.getField(t);u?u.fromXml(s):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},Gl=function(e){for(let t=0;t<e.childNodes.length;t++){const s=e.childNodes[t];if(s.nodeName.toLowerCase()==="next"){e.removeChild(s);break}}},La=function(e){return e.nodeType===I0.ELEMENT_NODE},el=function(e,t){a(Ut.FIELD,e,t,!0)},S0=function(e){p(Ut.FIELD,e)},n.fromJson$$module$build$src$core$field_registry=function(e){return _2.fromJsonInternal(e)},uu=function(e){const t=E(Ut.FIELD,e.type);return t?t.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},tl=function(e){return e&&typeof e=="object"&&"src"in e&&typeof e.src=="string"&&"alt"in e&&typeof e.alt=="string"&&"width"in e&&typeof e.width=="number"&&"height"in e&&typeof e.height=="number"},n.register$$module$build$src$core$extensions=function(e,t){if(typeof e!="string"||e.trim()==="")throw Error('Error: Invalid extension name "'+e+'"');if(zo[e])throw Error('Error: Extension "'+e+'" is already registered.');if(typeof t!="function")throw Error('Error: Extension "'+e+'" must be a function');zo[e]=t},n.registerMixin$$module$build$src$core$extensions=function(e,t){if(!t||typeof t!="object")throw Error('Error: Mixin "'+e+'" must be a object');n.register$$module$build$src$core$extensions(e,function(){this.mixin(t)})},n.registerMutator$$module$build$src$core$extensions=function(e,t,s,u){const v='Error when registering mutator "'+e+'": ';x0(v,t);const R=is(t,v);if(s&&typeof s!="function")throw Error(v+'Extension "'+e+'" is not a function');n.register$$module$build$src$core$extensions(e,function(){R&&this.setMutator(new n.MutatorIcon$$module$build$src$core$icons$mutator_icon(u||[],this)),this.mixin(t),s&&s.apply(this)})},Zs=function(e){cu(e)?delete zo[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},cu=function(e){return!!zo[e]},hu=function(e,t,s){const u=zo[e];if(typeof u!="function")throw Error('Error: Extension "'+e+'" not found.');let v;if(s?cc(e,t):v=k0(t),u.apply(t),s)x0('Error after applying mutator "'+e+'": ',t);else if(!Qc(v,t))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},cc=function(e,t){if(k0(t).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+t.id)},Zc=function(e,t){return hc(e.mutationToDom,e.domToMutation,t+" mutationToDom/domToMutation")},lh=function(e,t){return hc(e.saveExtraState,e.loadExtraState,t+" saveExtraState/loadExtraState")},is=function(e,t){return hc(e.compose,e.decompose,t+" compose/decompose")},hc=function(e,t,s){if(e&&t){if(typeof e!="function"||typeof t!="function")throw Error(s+" must be a function");return!0}if(!e&&!t)return!1;throw Error(s+"Must have both or neither functions")},x0=function(e,t){const s=Zc(t,e),u=lh(t,e);if(!s&&!u)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");is(t,e)},k0=function(e){const t=[];return e.domToMutation!==void 0&&t.push(e.domToMutation),e.mutationToDom!==void 0&&t.push(e.mutationToDom),e.saveExtraState!==void 0&&t.push(e.saveExtraState),e.loadExtraState!==void 0&&t.push(e.loadExtraState),e.compose!==void 0&&t.push(e.compose),e.decompose!==void 0&&t.push(e.decompose),t},Qc=function(e,t){if(t=k0(t),t.length!==e.length)return!1;for(let s=0;s<t.length;s++)if(e[s]!==t[s])return!1;return!0},Da=function(e){if(typeof document!="object")throw Error("runAfterPageLoad() requires browser document.");if(document.readyState==="complete")e();else{const t=setInterval(function(){document.readyState==="complete"&&(clearInterval(t),e())},10)}},n.buildTooltipForDropdown$$module$build$src$core$extensions=function(e,t){const s=[];return function(){s.includes(this.type)||(J0(this,e,t),s.push(this.type)),this.setTooltip((function(){const u=String(this.getFieldValue(e));return lr(t[u])}).bind(this))}},J0=function(e,t,s){var u=e.getField(t);if(u instanceof Ao&&!u.isOptionListDynamic()){u=u.getOptions();for(const v of u)v!==Ao.SEPARATOR&&([,u]=v,s[u]===void 0&&console.warn(`No tooltip mapping for value ${u} of field ${t} of block type ${e.type}.`))}},n.buildTooltipWithFieldText$$module$build$src$core$extensions=function(e,t){return function(){this.setTooltip((function(){const s=this.getField(t);return lr(e).replace("%1",s?s.getText():"")}).bind(this))}},e1=function(){const e=this.tooltip;this.setTooltip((function(){const t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||e}).bind(this))},Dn=function(e,t){return" "+e+","+t+" "},nl=function(e,t){return" "+e+t.join("")},io=function(e,t){return" M "+e+","+t+" "},Ri=function(e,t){return" m "+e+","+t+" "},fl=function(e,t){return" l "+e+","+t+" "},g=function(e){return" l"+e.join("")},f=function(e,t){return" "+e+" "+t+" "},b=function(e,t,s,u){return e+" "+s+" "+s+" "+t+u},C=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},O=function(e,t){let s=null;t=t.outputConnection;const u=t?.getConnectionChecker();for(let v=0,R;R=e.inputList[v];v++){const ee=R.connection;let Me;if(ee&&((Me=u)!=null&&Me.canConnect(t,ee,!1))){if(s)return null;s=ee}}return s},V=function(e,t){let s;for(;s=O(e,t);)if(e=s.targetBlock(),!e||e.isShadow())return s;return null},J=function(e){return ne(e)&&typeof e.getType=="function"&&typeof e.initView=="function"&&typeof e.dispose=="function"&&typeof e.getWeight=="function"&&typeof e.getSize=="function"&&typeof e.applyColour=="function"&&typeof e.hideForInsertionMarker=="function"&&typeof e.updateEditable=="function"&&typeof e.updateCollapsed=="function"&&typeof e.isShownWhenCollapsed=="function"&&typeof e.setOffsetInBlock=="function"&&typeof e.onLocationChange=="function"&&typeof e.onClick=="function"},pe=function(e){return J(e)&&g0(e)&&Sa(e)&&typeof e.setText=="function"&&typeof e.getText=="function"&&typeof e.setBubbleSize=="function"&&typeof e.getBubbleSize=="function"&&typeof e.setBubbleLocation=="function"&&typeof e.getBubbleLocation=="function"&&e.getType()===_s.COMMENT},xe=function(e){if(!(e.getDescendants(!1).length>100)){var t=e.workspace,s=e.getSvgRoot();t.getAudioManager().play("delete");var u=e.getRelativeToSurfaceXY(),v=s.cloneNode(!0);v.setAttribute("transform","translate("+u.x+","+u.y+")");var R;(R=t.getLayerManager())==null||R.appendToAnimationLayer({getSvgRoot:()=>v}),ze(v,{x:u.x,y:u.y,width:e.width,height:e.height},t.RTL,new Date)}},ze=function(e,t,s,u){const v=(new Date().getTime()-u.getTime())/150;v>1?on(e):(e.setAttribute("transform","translate("+(t.x+(s?-1:1)*t.width/2*v)+","+(t.y+t.height/2*v)+") scale("+(1-v)+")"),setTimeout(ze,10,e,t,s,u))},it=function(e){var t=e.workspace;const s=t.scale;if(t.getAudioManager().play("click"),!(s<1)){var u=t.getSvgXY(e.getSvgRoot());e.outputConnection?(u.x+=(e.RTL?3:-3)*s,u.y+=13*s):e.previousConnection&&(u.x+=(e.RTL?-23:23)*s,u.y+=3*s);var v=dt(ht.CIRCLE,{cx:u.x,cy:u.y,r:0,fill:"none",stroke:"#888","stroke-width":10},t.getParentSvg());e=dt(ht.ANIMATE,{id:"animationCircle",begin:"indefinite",attributeName:"r",dur:"150ms",from:0,to:25*s},v),t=dt(ht.ANIMATE,{id:"animationOpacity",begin:"indefinite",attributeName:"opacity",dur:"150ms",from:1,to:0},v),e.beginElement(),t.beginElement(),setTimeout(()=>void on(v),150)}},ut=function(e){if(Kt(),e.workspace.getAudioManager().play("disconnect"),!(e.workspace.scale<1)){var t=e.getHeightWidth().height;t=Math.atan(10/t)/Math.PI*180,e.RTL||(t*=-1),O1=e,wt(e,t,new Date,0)}},wt=function(e,t,s,u){const v=[.66,1,.66,0,-.66,-1,-.66,0];let R="";s.getTime()+200>new Date().getTime()&&(R=`skewX(${Math.round(v[u%v.length]*t)})`,Mu=setTimeout(wt,15,e,t,s,u+1)),e.getSvgRoot().setAttribute("transform",`${e.getTranslation()} ${R}`)},Kt=function(){O1&&(Mu&&(clearTimeout(Mu),Mu=null),O1.getSvgRoot().setAttribute("transform",O1.getTranslation()),O1=null)},vn=function(e,t){e.workspace.RTL&&(t.x=e.workspace.getWidth()-t.x);const s=e.workspace,u=n.config$$module$build$src$core$config.snapRadius,v=Wt.difference(t,e.getRelativeToSurfaceXY()),R=new Wt(0,0),ee=s.getAllBlocks(!1).filter(Me=>Me.id!=e.id).map(Me=>Me.getRelativeToSurfaceXY());for(;Mn(Wt.sum(t,R),ee)||Rr(e,Wt.sum(v,R),u);)s.RTL?R.translate(-u,u*2):R.translate(u,u*2);e.moveTo(Wt.sum(t,R))},Mn=function(e,t){return t.some(s=>Math.abs(s.x-e.x)<=1&&Math.abs(s.y-e.y)<=1)},Rr=function(e,t,s){return e.getConnections_(!1).some(u=>!!u.closest(s,t).connection)},gr=function(e,t,s){const u=s.getBoundingRectangle(),v=u.right-u.left,R=b0(t.top,u.top,t.top+t.height-(u.bottom-u.top))-u.top;let ee=t.left;return t=t.left+t.width-v,e.RTL?ee=Math.min(t,ee):t=Math.max(ee,t),(e=b0(ee,u.left,t)-u.left)||R?(s.moveBy(e,R,["inbounds"]),!0):!1},Tr=function(e){return t=>{var s=e.getMetricsManager();if(s.hasFixedEdges()&&!e.isDragging()){var u;if(K4.includes((u=t.type)!=null?u:"")){u=s.getScrollMetrics(!0);const v=ui(e,t);v&&(s=n.getGroup$$module$build$src$core$events$utils()||!1,n.setGroup$$module$build$src$core$events$utils(t.group),gr(e,u,v)&&!t.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),n.setGroup$$module$build$src$core$events$utils(s))}else ft(t)&&t.scale&&t.oldScale&&t.scale>t.oldScale&&jr(e)}}},ui=function(e,t){let s=null;switch(t.type){case mt.BLOCK_CREATE:case mt.BLOCK_MOVE:(s=e.getBlockById(t.blockId))&&(s=s.getRootBlock());break;case mt.COMMENT_CREATE:case mt.COMMENT_MOVE:case mt.COMMENT_RESIZE:s=e.getCommentById(t.commentId)}return s},jr=function(e){var t=e.getMetricsManager();if(t.hasFixedEdges()&&!e.isDragging()){t=t.getScrollMetrics(!0);var s=e.getTopBoundedElements();for(let u=0,v;v=s[u];u++)gr(e,t,v)}},Hi=function(e){return e&&typeof e.isDeletable=="function"&&typeof e.dispose=="function"&&typeof e.setDeleteStyle=="function"},gs=function(e,t){const s=e.getIcons();for(const u of e.inputList){if(!u.isVisible())continue;s.push(...u.fieldRow);let v;if((v=u.connection)!=null&&v.targetBlock())if(e=u.connection.targetBlock(),u.connection.type!==Tn.NEXT_STATEMENT||t)s.push(e);else{let R;(e=(R=e.lastConnectionInStack(!1))==null?void 0:R.getSourceBlock())&&s.push(e)}else{let R;((R=u.connection)==null?void 0:R.type)===Tn.INPUT_VALUE&&s.push(u.connection)}}return s},as=function(e,t){const s=e.workspace.getTopBoundedElements(!0).filter(v=>ne(v));e=s.indexOf(e instanceof Ji?e.getRootBlock():e)+t;let u=null;if(e>=0&&e<s.length?u=s[e]:e<0?u=s[s.length-1]:e>=s.length&&(u=s[0]),t<0&&u instanceof Ji){let v,R;return(R=(v=u.lastConnectionInStack(!1))==null?void 0:v.getSourceBlock())!=null?R:u}return u},$s=function(e,t){var s;let u;const v=e instanceof Ji?(u=(s=e.outputConnection)==null?void 0:s.targetBlock())!=null?u:e.getSurroundParent():e.getSourceBlock();return!(v instanceof Ji)||(s=gs(v,t>0),e=s.indexOf(e),e===-1)?null:(t=e+t,t>=0&&t<s.length?s[t]:null)},Nr=function(e,t){a(Ut.ICON,e.toString(),t)},mi=function(e){p(Ut.ICON,e)},gi=function(e){return e&&typeof e.getRelativeToSurfaceXY=="function"&&typeof e.isMovable=="function"&&typeof e.startDrag=="function"&&typeof e.drag=="function"&&typeof e.endDrag=="function"&&typeof e.revertDrag=="function"},Ni=function(e){return e&&typeof e.autoHide=="function"},ci=function(e){return typeof e.getProcedureModel=="function"&&typeof e.doProcedureUpdate=="function"&&typeof e.isProcedureDef=="function"},ji=function(e){return e&&typeof e.startPublishing=="function"&&typeof e.stopPublishing=="function"},$o=function(e){const t=e.getProcedureMap().getProcedures().filter(u=>!u.getReturnTypes()).map(u=>[u.getName(),u.getParameters().map(v=>v.getName()),!1]);e.getBlocksByType("procedures_defnoreturn",!1).forEach(u=>{!ci(u)&&gn(u)&&t.push(u.getProcedureDef())});const s=e.getProcedureMap().getProcedures().filter(u=>!!u.getReturnTypes()).map(u=>[u.getName(),u.getParameters().map(v=>v.getName()),!0]);return e.getBlocksByType("procedures_defreturn",!1).forEach(u=>{!ci(u)&&gn(u)&&s.push(u.getProcedureDef())}),t.sort(Z0),s.sort(Z0),[t,s]},Z0=function(e,t){return e[0].localeCompare(t[0],void 0,{sensitivity:"base"})},n.findLegalName$$module$build$src$core$procedures=function(e,t){if(t.isInFlyout)return e;for(e=e||n.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";!du(e,t.workspace,t);){const s=e.match(/^(.*?)(\d+)$/);e=s?s[1]+(parseInt(s[2])+1):e+"2"}return e},du=function(e,t,s){return!dc(e,t,s)},dc=function(e,t,s){for(const u of t.getAllBlocks(!1))if(u!==s&&gn(u)&&n.Names$$module$build$src$core$names.equals(u.getProcedureDef()[0],e))return!0;s=s&&ci(s)?s?.getProcedureModel():void 0;for(const u of t.getProcedureMap().getProcedures())if(u!==s&&n.Names$$module$build$src$core$names.equals(u.getName(),e))return!0;return!1},n.rename$$module$build$src$core$procedures=function(e){var t=this.getSourceBlock();if(!t)throw new Ws;e=e.trim();const s=n.findLegalName$$module$build$src$core$procedures(e,t);ci(t)&&!t.isInsertionMarker()&&t.getProcedureModel().setName(s);const u=this.getValue();if(u!==e&&u!==s)for(e=t.workspace.getAllBlocks(!1),t=0;t<e.length;t++){const v=e[t];v.renameProcedure&&v.renameProcedure(u,s)}return s},t1=function(e){function t(R,ee){for(let Bt=0;Bt<R.length;Bt++){var Me=R[Bt][0];const zn=R[Bt][1],qs=n.createElement$$module$build$src$core$utils$xml("block");qs.setAttribute("type",ee),qs.setAttribute("gap","16");const hs=n.createElement$$module$build$src$core$utils$xml("mutation");for(hs.setAttribute("name",Me),qs.appendChild(hs),Me=0;Me<zn.length;Me++){const al=n.createElement$$module$build$src$core$utils$xml("arg");al.setAttribute("name",zn[Me]),hs.appendChild(al)}s.push(qs)}}const s=[];if(vs.procedures_defnoreturn){var u=n.createElement$$module$build$src$core$utils$xml("block");u.setAttribute("type","procedures_defnoreturn"),u.setAttribute("gap","16");var v=n.createElement$$module$build$src$core$utils$xml("field");v.setAttribute("name","NAME"),v.appendChild(n.createTextNode$$module$build$src$core$utils$xml(n.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE)),u.appendChild(v),s.push(u)}return vs.procedures_defreturn&&(u=n.createElement$$module$build$src$core$utils$xml("block"),u.setAttribute("type","procedures_defreturn"),u.setAttribute("gap","16"),v=n.createElement$$module$build$src$core$utils$xml("field"),v.setAttribute("name","NAME"),v.appendChild(n.createTextNode$$module$build$src$core$utils$xml(n.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),u.appendChild(v),s.push(u)),vs.procedures_ifreturn&&(u=n.createElement$$module$build$src$core$utils$xml("block"),u.setAttribute("type","procedures_ifreturn"),u.setAttribute("gap","16"),s.push(u)),s.length&&s[s.length-1].setAttribute("gap","24"),e=$o(e),t(e[0],"procedures_callnoreturn"),t(e[1],"procedures_callreturn"),s},C0=function(e){return rl(e,!1)},rl=function(e,t=!0){function s(v,R){for(const[ee,Me]of v)u.push({kind:"block",type:R,gap:16,extraState:{name:ee,params:Me}})}if(t)return Pn("The XML return value of Blockly.Procedures.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),t1(e);const u=[];return vs.procedures_defnoreturn&&u.push({kind:"block",type:"procedures_defnoreturn",gap:16,fields:{NAME:n.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE}}),vs.procedures_defreturn&&u.push({kind:"block",type:"procedures_defreturn",gap:16,fields:{NAME:n.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE}}),vs.procedures_ifreturn&&u.push({kind:"block",type:"procedures_ifreturn",gap:16}),u.length&&(u[u.length-1].gap=24),e=$o(e),s(e[0],"procedures_callnoreturn"),s(e[1],"procedures_callreturn"),u},pl=function(e){var t=[],s=e.getBlocksByType("procedures_mutatorarg",!1);for(let R=0,ee;ee=s[R];R++)t.push(ee.getFieldValue("NAME"));s=n.createElement$$module$build$src$core$utils$xml("xml");const u=n.createElement$$module$build$src$core$utils$xml("block");u.setAttribute("type","procedures_mutatorarg");const v=n.createElement$$module$build$src$core$utils$xml("field");v.setAttribute("name","NAME"),t=Ai(n.DEFAULT_ARG$$module$build$src$core$procedures,t),t=n.createTextNode$$module$build$src$core$utils$xml(t),v.appendChild(t),u.appendChild(v),s.appendChild(u),e.updateToolbox(s)},Q0=function(e){if($t(e)&&e.bubbleType==="mutator"&&e.isOpen&&e.blockId){e=tt(e.workspaceId).getBlockById(e.blockId);var t=e.type;(t==="procedures_defnoreturn"||t==="procedures_defreturn")&&(e=e.getIcon(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),pl(e),e.addChangeListener(nd))}},nd=function(e){(Pt(e)||He(e)||Lt(e)||yt(e))&&(e=tt(e.workspaceId),pl(e))},rd=function(e,t){return t.getAllBlocks(!1).filter(s=>Ba(s,e)||zt(s)&&n.Names$$module$build$src$core$names.equals(s.getProcedureCall(),e))},Ba=function(e,t){return ci(e)&&!e.isProcedureDef()&&e.getProcedureModel()&&n.Names$$module$build$src$core$names.equals(e.getProcedureModel().getName(),t)},n.mutateCallers$$module$build$src$core$procedures=function(e){const t=It();var s=e.getProcedureDef()[0];const u=e.mutationToDom(!0);e=rd(s,e.workspace);for(let R=0,ee;ee=e[R];R++){s=(s=ee.mutationToDom())&&st(s),ee.domToMutation&&ee.domToMutation(u);var v=ee.mutationToDom();v=v&&st(v),s!==v&&(n.setRecordUndo$$module$build$src$core$events$utils(!1),le(new(an(mt.BLOCK_CHANGE))(ee,"mutation",null,s,v)),n.setRecordUndo$$module$build$src$core$events$utils(t))}},n.getDefinition$$module$build$src$core$procedures=function(e,t){for(const s of t.getAllBlocks(!1))if(ci(s)&&s.isProcedureDef()&&n.Names$$module$build$src$core$names.equals(s.getProcedureModel().getName(),e)||gn(s)&&n.Names$$module$build$src$core$names.equals(s.getProcedureDef()[0],e))return s;return null},Xo=function(e){return e.isDynamic},Hs=function(e){return e.pathDown!==void 0&&e.pathUp!==void 0},ah=function(e){return e.pathLeft!==void 0&&e.pathRight!==void 0},Vl=function(e,t){a(Ut.RENDERER,e,t)},kr=function(e){p(Ut.RENDERER,e)},Gi=function(e,t,s){return e=new(T(Ut.RENDERER,e))(e),e.init(t,s),e},Os=function(e){zi(e.getTargetWorkspace(),void 0,"String")},fc=function(e){zi(e.getTargetWorkspace(),void 0,"Number")},Pa=function(e){zi(e.getTargetWorkspace(),void 0,"Colour")},ea=function(e){return n1(e,!1)},n1=function(e,t=!0){return vs.variables_set_dynamic||vs.variables_get_dynamic||console.warn("There are no dynamic variable blocks, but there is a dynamic variable category."),t?(Pn("The XML return value of Blockly.VariablesDynamic.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),r1(e)):(e.registerButtonCallback("CREATE_VARIABLE_STRING",Os),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",fc),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",Pa),[{kind:"button",text:n.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE,callbackkey:"CREATE_VARIABLE_STRING"},{kind:"button",text:n.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE,callbackkey:"CREATE_VARIABLE_NUMBER"},{kind:"button",text:n.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE,callbackkey:"CREATE_VARIABLE_COLOUR"},...ei(e,e.getVariableMap().getAllVariables(),!1,"variables_get_dynamic","variables_set_dynamic")])},r1=function(e){let t=[],s=document.createElement("button");return s.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE),s.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),t.push(s),s=document.createElement("button"),s.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE),s.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),t.push(s),s=document.createElement("button"),s.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE),s.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),t.push(s),e.registerButtonCallback("CREATE_VARIABLE_STRING",Os),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",fc),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",Pa),e=fu(e),t=t.concat(e)},fu=function(e){e=e.getVariableMap().getAllVariables();const t=[];if(e.length>0){if(vs.variables_set_dynamic){var s=e[e.length-1];const u=n.createElement$$module$build$src$core$utils$xml("block");u.setAttribute("type","variables_set_dynamic"),u.setAttribute("gap","24"),u.appendChild(ni(s)),t.push(u)}if(vs.variables_get_dynamic){e.sort(Yt);for(let u=0,v;v=e[u];u++)s=n.createElement$$module$build$src$core$utils$xml("block"),s.setAttribute("type","variables_get_dynamic"),s.setAttribute("gap","8"),s.appendChild(ni(v)),t.push(s)}}return t},id=function(e,t){const s=e.toCopyData();return P2=s,F2=Ce(e)&&e.workspace instanceof xl?e.workspace:null,X3=t,s},bs=function(){return P2},sd=function(e){P2=e},i1=function(){return F2},I4=function(e){F2=e},od=function(){return X3},b3=function(e){X3=e},ta=function(e,t,s){return e&&t?uh(e,t,s):P2&&F2?uh(P2,F2,X3):null},uh=function(e,t,s){let u;t=t.isMutator?t:(u=t.options.parentWorkspace)!=null?u:t;let v,R;return(R=(v=E(Ut.PASTER,e.paster,!1))==null?void 0:v.paste(e,t,s))!=null?R:null},pc=function(e){return e&&typeof e.toCopyData=="function"},Do=function(){Vi.registry.register({name:Lu.ESCAPE,preconditionFn(e){return!e.isReadOnly()},callback(e){return e.hideChaff(),!0},keyCodes:[Bi.ESC]})},Ls=function(){Vi.registry.register({name:Lu.DELETE,preconditionFn(e,t){return t=t.focusedNode,!e.isReadOnly()&&t!=null&&Hi(t)&&t.isDeletable()&&!e.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(e,t,s,u){return t.preventDefault(),e=u.focusedNode,e instanceof Ji?e.checkAndDelete():Hi(e)&&e.isDeletable()&&(n.setGroup$$module$build$src$core$events$utils(!0),e.dispose(),n.setGroup$$module$build$src$core$events$utils(!1)),!0},keyCodes:[Bi.DELETE,Bi.BACKSPACE]})},mc=function(e){return pc(e)&&Hi(e)&&gi(e)?e.isCopyable?e.isCopyable():e instanceof Ji||e instanceof u0?e.isOwnDeletable()&&e.isOwnMovable():e.isDeletable()&&e.isMovable():!1},gc=function(e){return mc(e)&&Hi(e)&&e.isDeletable()},s1=function(){const e=Vi.registry.createSerializedKey(Bi.C,[Bi.CTRL]),t=Vi.registry.createSerializedKey(Bi.C,[Bi.META]);Vi.registry.register({name:Lu.COPY,preconditionFn(s,u){return u=u.focusedNode,s=s.isFlyout?s.targetWorkspace:s,!!u&&!!s&&!s.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&mc(u)},callback(s,u,v,R){return u.preventDefault(),u=R.focusedNode,!u||!pc(u)||!mc(u)||(s=s.isFlyout?s.targetWorkspace:s,!s)?!1:(u.workspace.isFlyout||s.hideChaff(),s=gi(u)&&u.workspace==s?u.getRelativeToSurfaceXY():void 0,!!id(u,s))},keyCodes:[e,t]})},ch=function(){const e=Vi.registry.createSerializedKey(Bi.X,[Bi.CTRL]),t=Vi.registry.createSerializedKey(Bi.X,[Bi.META]);Vi.registry.register({name:Lu.CUT,preconditionFn(s,u){return u=u.focusedNode,!!u&&!s.isReadOnly()&&!s.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&gc(u)},callback(s,u,v,R){return s=R.focusedNode,!s||!gc(s)||!pc(s)?!1:(u=gi(s)?s.getRelativeToSurfaceXY():void 0,u=id(s,u),s instanceof Ji?s.checkAndDelete():Hi(s)&&s.dispose(),!!u)},keyCodes:[e,t]})},A0=function(){const e=Vi.registry.createSerializedKey(Bi.V,[Bi.CTRL]),t=Vi.registry.createSerializedKey(Bi.V,[Bi.META]);Vi.registry.register({name:Lu.PASTE,preconditionFn(){var s=i1();return!s||!s.rendered?!1:(s=s.isFlyout?s.targetWorkspace:s,!!bs()&&!!s&&!s.isReadOnly()&&!s.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken())},callback(s,u){if(s=bs(),!s)return!1;var v=i1();if(!v||(v=v.isFlyout?v.targetWorkspace:v,!v||v.isReadOnly()))return!1;if(u instanceof PointerEvent)return u=Ee(v,new Wt(u.clientX,u.clientY)),!!ta(s,v,u);if(u=od(),!u)return!!ta(s,v);const{left:R,top:ee,width:Me,height:Bt}=v.getMetricsManager().getViewMetrics(!0);return new $r(ee,ee+Bt,R,R+Me).contains(u.x,u.y)?!!ta(s,v):(u=new Wt(R+Me/2,ee+Bt/2),!!ta(s,v,u))},keyCodes:[e,t]})},o1=function(){const e=Vi.registry.createSerializedKey(Bi.Z,[Bi.CTRL]),t=Vi.registry.createSerializedKey(Bi.Z,[Bi.META]);Vi.registry.register({name:Lu.UNDO,preconditionFn(s){return!s.isReadOnly()&&!s.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(s,u){return s.hideChaff(),s.undo(!1),u.preventDefault(),!0},keyCodes:[e,t]})},hh=function(){const e=Vi.registry.createSerializedKey(Bi.Z,[Bi.CTRL,Bi.SHIFT]),t=Vi.registry.createSerializedKey(Bi.Z,[Bi.META,Bi.SHIFT]),s=Vi.registry.createSerializedKey(Bi.Y,[Bi.CTRL]);Vi.registry.register({name:Lu.REDO,preconditionFn(u){return!u.isDragging()&&!u.isReadOnly()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(u,v){return u.hideChaff(),u.undo(!0),v.preventDefault(),!0},keyCodes:[e,t,s]})},dh=function(){Do(),Ls(),s1(),ch(),A0(),o1(),hh()},ld=function(e){const t=e.saveState();return e.getParameters().length&&(t.parameters=e.getParameters().map(s=>s.saveState())),t},ad=function(e,t,s,u){if(e=e.loadState(s,u),!s.parameters)return e;for(const[v,R]of s.parameters.entries())e.insertParameter(t.loadState(R,u),v);return e},M4=function(e){const t=Object.create(null),s=w(Ut.SERIALIZER,!0);for(const u in s){let v;const R=(v=s[u])==null?void 0:v.save(e);R&&(t[u]=R)}return t},R4=function(e,t,{recordUndo:s=!1}={}){var u=w(Ut.SERIALIZER,!0);if(u){u=Object.entries(u).sort((R,ee)=>ee[1].priority-R[1].priority);var v=It();n.setRecordUndo$$module$build$src$core$events$utils(s),(s=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0),Qn(),t instanceof xl&&t.setResizesEnabled(!1);for(const[,R]of u.reverse()){let ee;(ee=R)==null||ee.clear(t)}for(const[R,ee]of u.reverse())if(e[R]){let Me;(Me=ee)==null||Me.load(e[R],t)}t instanceof xl&&t.setResizesEnabled(!0),ss(),le(new(an(mt.FINISHED_LOADING))(t)),n.setGroup$$module$build$src$core$events$utils(s),n.setRecordUndo$$module$build$src$core$events$utils(v)}},N4=function(e,t){let s=null;s=typeof e=="string"?document.getElementById(e)||document.querySelector(e):e;var u;if(!document.contains(s)&&document!==((u=s)==null?void 0:u.ownerDocument))throw Error("Error: container is not in current document");e=new D0(t||{}),u=document.createElement("div"),tn(u,"injectionDiv"),t!=null&&t.rtl&&tn(u,"blocklyRTL"),s.appendChild(u),t=O4(u,e);const v=ud(u,t,e);return L4(v),ue(v),ds(v),u.addEventListener("focusin",function(){ue(v)}),ie(u,"keydown",null,et),v},O4=function(e,t){e.setAttribute("dir","LTR"),Hn(t.hasCss,t.pathToMedia);const s=dt(ht.SVG,{xmlns:v1,"xmlns:html":Ua,"xmlns:xlink":il,version:"1.1",class:"blocklySvg"},e),u=dt(ht.DEFS,{},s),v=String(Math.random()).substring(2);return t.gridPattern=H1.createDom(v,t.gridOptions,u,e),s},ud=function(e,t,s){s.parentWorkspace=null,s=new xl(s);const u=s.options;s.scale=u.zoomOptions.startScale,t.appendChild(s.createDom("blocklyMainBackground",e));var v=s.getRenderer().getClassName();return v&&tn(e,v),(v=s.getTheme().getClassName())&&tn(e,v),!u.hasCategories&&u.languageTree&&(e=s.addFlyout(ht.SVG),Ei(e,t)),u.hasTrashcan&&s.addTrashcan(),u.zoomOptions&&u.zoomOptions.controls&&s.addZoomControls(),s.getThemeManager().subscribe(t,"workspaceBackgroundColour","background-color"),s.translate(0,0),s.addChangeListener(Tr(s)),ds(s),Bl(),ka(),Mr(),s},L4=function(e){const t=e.options;var s=e.getParentSvg();if(ie(s.parentNode,"contextmenu",null,function(u){Ge(u)||u.preventDefault()}),s=ie(window,"resize",null,function(){Ti(),e.hideComponents(!0),at(),X0(),ds(e),jr(e)}),e.setResizeHandlerWrapper(s),v3(),t.languageTree){s=e.getToolbox();const u=e.getFlyout(!0);s?s.init():u&&(u.init(e),u.show(t.languageTree),typeof u.scrollToStart=="function"&&u.scrollToStart())}t.hasTrashcan&&e.trashcan.init(),t.zoomOptions&&t.zoomOptions.controls&&e.zoomControls_.init(),t.moveOptions&&t.moveOptions.scrollbars?(e.scrollbar=new ba(e,t.moveOptions.scrollbars===!0||!!t.moveOptions.scrollbars.horizontal,t.moveOptions.scrollbars===!0||!!t.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),t.hasSounds&&D4(t.pathToMedia,e)},v3=function(){W7||(ie(document,"scroll",null,function(){const e=Qe();for(let t=0,s;s=e[t];t++)s instanceof xl&&s.updateInverseScreenCTM()}),be(document,"touchend",null,B),be(document,"touchcancel",null,B)),W7=!0},D4=function(e,t){function s(){for(;v.length;){const R=v.pop();R&&Ie(R)}u.preload()}const u=t.getAudioManager();u.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),u.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),u.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");const v=[];v.push(ie(document,"pointermove",null,s,!0)),v.push(ie(document,"touchstart",null,s,!0))},B4=function(e){if(!e||!e.isSimpleReporter())return!1;let t;return(t=e.getFields().next().value)==null?void 0:t.isFullBlockField()},cd=function(){wr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.UNDO},preconditionFn(e){return e.workspace.getUndoStack().length>0?"enabled":"disabled"},callback(e){e.workspace.undo(!1)},scopeType:wr.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},fh=function(){wr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.REDO},preconditionFn(e){return e.workspace.getRedoStack().length>0?"enabled":"disabled"},callback(e){e.workspace.undo(!0)},scopeType:wr.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},hd=function(){wr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.CLEAN_UP},preconditionFn(e){return e.workspace.isMovable()?e.workspace.getTopBlocks(!1).length>1?"enabled":"disabled":"hidden"},callback(e){e.workspace.cleanUp()},scopeType:wr.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},dd=function(e,t){function s(R){v--,R.setCollapsed(e),v===0&&n.setGroup$$module$build$src$core$events$utils(!1)}let u=0,v=0;n.setGroup$$module$build$src$core$events$utils(!0);for(let R=0;R<t.length;R++){let ee=t[R];for(;ee;)v++,setTimeout(s.bind(null,ee),u),ee=ee.getNextBlock(),u+=10}},fd=function(){wr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.COLLAPSE_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let s=e[t];for(;s;){if(!s.isCollapsed())return"enabled";s=s.getNextBlock()}}return"disabled"}return"hidden"},callback(e){dd(!0,e.workspace.getTopBlocks(!0))},scopeType:wr.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},pd=function(){wr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.EXPAND_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let s=e[t];for(;s;){if(s.isCollapsed())return"enabled";s=s.getNextBlock()}}return"disabled"}return"hidden"},callback(e){dd(!1,e.workspace.getTopBlocks(!0))},scopeType:wr.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},md=function(e,t){if(e.isDeletable())Array.prototype.push.apply(t,e.getDescendants(!1));else{e=e.getChildren(!1);for(let s=0;s<e.length;s++)md(e[s],t)}},gd=function(e){const t=[];e=e.getTopBlocks(!0);for(let s=0;s<e.length;s++)md(e[s],t);return t},l1=function(e,t){t?n.setGroup$$module$build$src$core$events$utils(t):(n.setGroup$$module$build$src$core$events$utils(!0),t=n.getGroup$$module$build$src$core$events$utils());const s=e.shift();s&&(s.isDeadOrDying()?l1(e,t):(s.dispose(!1,!0),setTimeout(l1,10,e,t))),n.setGroup$$module$build$src$core$events$utils(!1)},pu=function(){wr.registry.register({displayText(e){return e.workspace?(e=gd(e.workspace).length,e===1?n.Msg$$module$build$src$core$msg.DELETE_BLOCK:n.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)):""},preconditionFn(e){return e.workspace&&gd(e.workspace).length>0?"enabled":"disabled"},callback(e){if(e.workspace){e.workspace.cancelCurrentGesture();var t=gd(e.workspace);t.length<2?l1(t):At(n.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace("%1",String(t.length)),function(s){s&&l1(t)})}},scopeType:wr.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},P4=function(){cd(),fh(),hd(),fd(),pd(),pu()},a1=function(){wr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback(e){if(e.block){var t=e.block.toCopyData();t&&ta(t,e.block.workspace)}},scopeType:wr.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},u1=function(){wr.registry.register({displayText(e){return e.block.hasIcon(Yl.TYPE)?n.Msg$$module$build$src$core$msg.REMOVE_COMMENT:n.Msg$$module$build$src$core$msg.ADD_COMMENT},preconditionFn(e){return e=e.block,!e||e.isInFlyout||!e.workspace.options.comments||e.isCollapsed()||!e.isEditable()||!e.hasIcon(Yl.TYPE)&&B4(e)?"hidden":"enabled"},callback(e){(e=e.block)&&e.hasIcon(Yl.TYPE)?e.setCommentText(null):e.setCommentText("")},scopeType:wr.ScopeType.BLOCK,id:"blockComment",weight:2})},$d=function(){wr.registry.register({displayText(e){return e.block.getInputsInline()?n.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:n.Msg$$module$build$src$core$msg.INLINE_INPUTS},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.isMovable()&&!e.isCollapsed()){for(let t=1;t<e.inputList.length;t++)if(!(e.inputList[t-1]instanceof K3||e.inputList[t]instanceof K3))return"enabled"}return"hidden"},callback(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:wr.ScopeType.BLOCK,id:"blockInline",weight:3})},ph=function(){wr.registry.register({displayText(e){return e.block.isCollapsed()?n.Msg$$module$build$src$core$msg.EXPAND_BLOCK:n.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:wr.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},F4=function(){wr.registry.register({displayText(e){return e.block.hasDisabledReason(fr)?n.Msg$$module$build$src$core$msg.ENABLE_BLOCK:n.Msg$$module$build$src$core$msg.DISABLE_BLOCK},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.workspace.options.disable&&e.isEditable()){var t=e.getDisabledReasons();return t=t.size>(t.has(fr)?1:0),e.getInheritedDisabled()||t?"disabled":"enabled"}return"hidden"},callback(e){e=e.block;const t=n.getGroup$$module$build$src$core$events$utils();t||n.setGroup$$module$build$src$core$events$utils(!0),e.setDisabledReason(!e.hasDisabledReason(fr),fr),n.setGroup$$module$build$src$core$events$utils(t)},scopeType:wr.ScopeType.BLOCK,id:"blockDisable",weight:5})},bd=function(){wr.registry.register({displayText(e){var t=e.block;return e=t.getDescendants(!1).length,(t=t.getNextBlock())&&(e-=t.getDescendants(!1).length),e===1?n.Msg$$module$build$src$core$msg.DELETE_BLOCK:n.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)},preconditionFn(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback(e){e.block&&e.block.checkAndDelete()},scopeType:wr.ScopeType.BLOCK,id:"blockDelete",weight:6})},vd=function(){wr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.HELP},preconditionFn(e){return e=e.block,(typeof e.helpUrl=="function"?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback(e){e.block.showHelp()},scopeType:wr.ScopeType.BLOCK,id:"blockHelp",weight:7})},yd=function(){wr.registry.register({displayText:()=>n.Msg$$module$build$src$core$msg.REMOVE_COMMENT,preconditionFn(e){let t;return(t=e.comment)!=null&&t.isDeletable()?"enabled":"hidden"},callback(e){n.setGroup$$module$build$src$core$events$utils(!0);let t;(t=e.comment)==null||t.dispose(),n.setGroup$$module$build$src$core$events$utils(!1)},scopeType:wr.ScopeType.COMMENT,id:"commentDelete",weight:6})},Td=function(){wr.registry.register({displayText:()=>n.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,preconditionFn(e){let t;return(t=e.comment)!=null&&t.isMovable()?"enabled":"hidden"},callback(e){if(e.comment){var t=e.comment.toCopyData();t&&ta(t,e.comment.workspace)}},scopeType:wr.ScopeType.COMMENT,id:"commentDuplicate",weight:1})},_d=function(){wr.registry.register({displayText:()=>n.Msg$$module$build$src$core$msg.ADD_COMMENT,preconditionFn:e=>{let t;return(t=e.workspace)!=null&&t.isMutator?"hidden":"enabled"},callback:(e,t,s,u)=>{(e=e.workspace)&&(n.setGroup$$module$build$src$core$events$utils(!0),t=new u0(e),t.setPlaceholderText(n.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT),t.moveTo(Ee(e,new Wt(u.x,u.y))),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(t),n.setGroup$$module$build$src$core$events$utils(!1))},scopeType:wr.ScopeType.WORKSPACE,id:"commentCreate",weight:8})},Ed=function(){a1(),u1(),$d(),ph(),F4(),bd(),vd()},z4=function(){Td(),yd(),_d()},wd=function(){P4(),Ed()},Sd=function(e){return e&&typeof e.paste=="function"},U4=function(e){return e&&typeof e.getSvgRoot=="function"},H4=function(e){return e.isSelectable()},y3=function(e){N().hideChaff(e)},_t=_t||{},_t.scope={},_t.ASSUME_ES5=!1,_t.ASSUME_ES6=!1,_t.ASSUME_ES2020=!1,_t.ASSUME_NO_NATIVE_MAP=!1,_t.ASSUME_NO_NATIVE_SET=!1,_t.ISOLATE_POLYFILLS=!1,_t.FORCE_POLYFILL_PROMISE=!1,_t.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,_t.INSTRUMENT_ASYNC_CONTEXT=!0,_t.objectCreate=_t.ASSUME_ES5||typeof Object.create=="function"?Object.create:function(e){var t=function(){};return t.prototype=e,new t},_t.defineProperty=_t.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,s){return e==Array.prototype||e==Object.prototype||(e[t]=s.value),e},_t.getGlobal=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fp=="object"&&Fp];for(var t=0;t<e.length;++t){var s=e[t];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")},_t.global=_t.ASSUME_ES2020?globalThis:_t.getGlobal(this),_t.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",_t.TRUST_ES6_POLYFILLS=!_t.ISOLATE_POLYFILLS||_t.IS_SYMBOL_NATIVE,_t.polyfills={},_t.propertyToPolyfillSymbol={},_t.POLYFILL_PREFIX="$jscp$",_t.polyfill=function(e,t,s,u){t&&(_t.ISOLATE_POLYFILLS?_t.polyfillIsolated(e,t,s,u):_t.polyfillUnisolated(e,t,s,u))},_t.polyfillUnisolated=function(e,t,s,u){for(s=_t.global,e=e.split("."),u=0;u<e.length-1;u++){var v=e[u];if(!(v in s))return;s=s[v]}e=e[e.length-1],u=s[e],t=t(u),t!=u&&t!=null&&_t.defineProperty(s,e,{configurable:!0,writable:!0,value:t})},_t.polyfillIsolated=function(e,t,s,u){var v=e.split(".");e=v.length===1,u=v[0],u=!e&&u in _t.polyfills?_t.polyfills:_t.global;for(var R=0;R<v.length-1;R++){var ee=v[R];if(!(ee in u))return;u=u[ee]}v=v[v.length-1],s=_t.IS_SYMBOL_NATIVE&&s==="es6"?u[v]:null,t=t(s),t!=null&&(e?_t.defineProperty(_t.polyfills,v,{configurable:!0,writable:!0,value:t}):t!==s&&(_t.propertyToPolyfillSymbol[v]===void 0&&(s=Math.random()*1e9>>>0,_t.propertyToPolyfillSymbol[v]=_t.IS_SYMBOL_NATIVE?_t.global.Symbol(v):_t.POLYFILL_PREFIX+s+"$"+v),_t.defineProperty(u,_t.propertyToPolyfillSymbol[v],{configurable:!0,writable:!0,value:t})))},_t.getConstructImplementation=function(){function e(){function s(){}return Reflect.construct(s,[],function(){}),new s instanceof s}if(_t.TRUST_ES6_POLYFILLS&&typeof Reflect<"u"&&Reflect.construct){if(e())return Reflect.construct;var t=Reflect.construct;return function(s,u,v){return s=t(s,u),v&&Reflect.setPrototypeOf(s,v.prototype),s}}return function(s,u,v){return v===void 0&&(v=s),v=_t.objectCreate(v.prototype||Object.prototype),Function.prototype.apply.call(s,v,u)||v}},_t.construct={valueOf:_t.getConstructImplementation}.valueOf(),_t.underscoreProtoCanBeSet=function(){var e={a:!0},t={};try{return t.__proto__=e,t.a}catch{}return!1},_t.setPrototypeOf=_t.ASSUME_ES6||_t.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf:_t.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,_t.inherits=function(e,t){if(e.prototype=_t.objectCreate(t.prototype),e.prototype.constructor=e,_t.ASSUME_ES6||_t.setPrototypeOf){var s=_t.setPrototypeOf;s(e,t)}else for(s in t)if(s!="prototype")if(Object.defineProperties){var u=Object.getOwnPropertyDescriptor(t,s);u&&Object.defineProperty(e,s,u)}else e[s]=t[s];e.superClass_=t.prototype},_t.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},_t.arrayIterator=function(e){return{next:_t.arrayIteratorImpl(e)}},_t.makeIterator=function(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if(typeof e.length=="number")return _t.arrayIterator(e);throw Error(String(e)+" is not an iterable or ArrayLike")},_t.arrayFromIterator=function(e){for(var t,s=[];!(t=e.next()).done;)s.push(t.value);return s},_t.arrayFromIterable=function(e){return e instanceof Array?e:_t.arrayFromIterator(_t.makeIterator(e))},_t.generator={},_t.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},_t.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},_t.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},_t.generator.Context.prototype.stop_=function(){this.isRunning_=!1},_t.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},_t.generator.Context.prototype.next_=function(e){this.yieldResult=e},_t.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},_t.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},_t.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},_t.generator.Context.prototype.yield=function(e,t){return this.nextAddress=t,{value:e}},_t.generator.Context.prototype.yieldAll=function(e,t){e=_t.makeIterator(e);var s=e.next();if(_t.generator.ensureIteratorResultIsObject_(s),s.done)this.yieldResult=s.value,this.nextAddress=t;else return this.yieldAllIterator_=e,this.yield(s.value,t)},_t.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},_t.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},_t.generator.Context.prototype.setCatchFinallyBlocks=function(e,t){this.catchAddress_=e,t!=null&&(this.finallyAddress_=t)},_t.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},_t.generator.Context.prototype.leaveTryBlock=function(e,t){this.nextAddress=e,this.catchAddress_=t||0},_t.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e},_t.generator.Context.prototype.enterFinallyBlock=function(e,t,s){s?this.finallyContexts_[s]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=t||0},_t.generator.Context.prototype.leaveFinallyBlock=function(e,t){if(t=this.finallyContexts_.splice(t||0)[0],t=this.abruptCompletion_=this.abruptCompletion_||t){if(t.isException)return this.jumpToErrorHandler_();t.jumpTo!=null&&this.finallyAddress_<t.jumpTo?(this.nextAddress=t.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},_t.generator.Context.prototype.forIn=function(e){return new _t.generator.Context.PropertyIterator(e)},_t.generator.Context.PropertyIterator=function(e){this.object_=e,this.properties_=[];for(var t in e)this.properties_.push(t);this.properties_.reverse()},_t.generator.Context.PropertyIterator.prototype.getNext=function(){for(;this.properties_.length>0;){var e=this.properties_.pop();if(e in this.object_)return e}return null},_t.generator.Engine_=function(e){this.context_=new _t.generator.Context,this.program_=e},_t.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},_t.generator.Engine_.prototype.return_=function(e){this.context_.start_();var t=this.context_.yieldAllIterator_;return t?this.yieldAllStep_("return"in t?t.return:function(s){return{value:s,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},_t.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},_t.generator.Engine_.prototype.yieldAllStep_=function(e,t,s){try{var u=e.call(this.context_.yieldAllIterator_,t);if(_t.generator.ensureIteratorResultIsObject_(u),!u.done)return this.context_.stop_(),u;var v=u.value}catch(R){return this.context_.yieldAllIterator_=null,this.context_.throw_(R),this.nextStep_()}return this.context_.yieldAllIterator_=null,s.call(this.context_,v),this.nextStep_()},_t.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(t){this.context_.yieldResult=void 0,this.context_.throw_(t)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}},_t.generator.Generator_=function(e){this.next=function(t){return e.next_(t)},this.throw=function(t){return e.throw_(t)},this.return=function(t){return e.return_(t)},this[Symbol.iterator]=function(){return this}},_t.generator.createGenerator=function(e,t){return t=new _t.generator.Generator_(new _t.generator.Engine_(t)),_t.setPrototypeOf&&e.prototype&&_t.setPrototypeOf(t,e.prototype),t},_t.asyncExecutePromiseGenerator=function(e){function t(u){return e.next(u)}function s(u){return e.throw(u)}return new Promise(function(u,v){function R(ee){ee.done?u(ee.value):Promise.resolve(ee.value).then(t,s).then(R,v)}R(e.next())})},_t.asyncExecutePromiseGeneratorFunction=function(e){return _t.asyncExecutePromiseGenerator(e())},_t.asyncExecutePromiseGeneratorProgram=function(e){return _t.asyncExecutePromiseGenerator(new _t.generator.Generator_(new _t.generator.Engine_(e)))},_t.polyfill("globalThis",function(e){return e||_t.global},"es_2020","es3"),_t.polyfill("Array.prototype.includes",function(e){return e||function(t,s){var u=this;u instanceof String&&(u=String(u));var v=u.length;for(s=s||0,s<0&&(s=Math.max(s+v,0));s<v;s++){var R=u[s];if(R===t||Object.is(R,t))return!0}return!1}},"es7","es3"),_t.checkEs6ConformanceViaProxy=function(){try{var e={},t=Object.create(new _t.global.Proxy(e,{get:function(s,u,v){return s==e&&u=="q"&&v==t}}));return t.q===!0}catch{return!1}},_t.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,_t.ES6_CONFORMANCE=_t.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&_t.checkEs6ConformanceViaProxy(),_t.initSymbol=function(){},_t.iteratorPrototype=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},_t.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},_t.MapEntry=function(){},_t.polyfill("Set.prototype.difference",function(e){return e||function(t){_t.checkIsSetInstance(this),_t.checkIsSetLike(t);var s=_t.getSmallerAndLargerSets(this,t);t=new Set(this);var u=s.smallerSetIterator;s=s.largerSet;for(var v=u.next();!v.done;)s.has(v.value)&&t.delete(v.value),v=u.next();return t}},"es_next","es6"),_t.checkIsSetLike=function(e){if(typeof e!="object"||e===null||typeof e.size!="number"||e.size<0||typeof e.keys!="function"||typeof e.has!="function")throw new TypeError("Argument must be set-like")},_t.checkIsValidIterator=function(e){if(typeof e!="object"||e===null||typeof e.next!="function")throw new TypeError("Invalid iterator.");return e},_t.getSmallerAndLargerSets=function(e,t){return e.size<=t.size?{smallerSetIterator:e.keys(),largerSet:t}:{smallerSetIterator:_t.checkIsValidIterator(t.keys()),largerSet:e}},_t.checkIsSetInstance=function(e){if(!(e instanceof Set))throw new TypeError("Method must be called on an instance of Set.")},_t.iteratorFromArray=function(e,t){if(_t.ASSUME_ES6)return e[Symbol.iterator]();e instanceof String&&(e+="");var s=0,u=!1,v={next:function(){if(!u&&s<e.length){var R=s++;return{value:t(R,e[R]),done:!1}}return u=!0,{done:!0,value:void 0}}};return v[Symbol.iterator]=function(){return v},v},_t.polyfill("Array.prototype.values",function(e){return e||function(){return _t.iteratorFromArray(this,function(t,s){return s})}},"es8","es3"),_t.polyfill("Array.prototype.flatMap",function(e){return e||function(t,s){var u=[];return Array.prototype.forEach.call(this,function(v,R){v=t.call(s,v,R,this),Array.isArray(v)?u.push.apply(u,v):u.push(v)}),u}},"es9","es5"),_t.polyfill("Array.prototype.flat",function(e){return e||function(t){t=t===void 0?1:t;var s=[];return Array.prototype.forEach.call(this,function(u){Array.isArray(u)&&t>0?(u=Array.prototype.flat.call(u,t-1),s.push.apply(s,u)):s.push(u)}),s}},"es9","es5"),_t.polyfill("Object.entries",function(e){return e||function(t){var s=[],u;for(u in t)_t.owns(t,u)&&s.push([u,t[u]]);return s}},"es8","es3"),_t.polyfill("Object.values",function(e){return e||function(t){var s=[],u;for(u in t)_t.owns(t,u)&&s.push(t[u]);return s}},"es8","es3");var Fa=Object.create(null),T3={typeMap:Fa},c1=Object.create(null),ml="default",Ut=class{constructor(e){this.name=e}toString(){return this.name}};Ut.CONNECTION_CHECKER=new Ut("connectionChecker"),Ut.CONNECTION_PREVIEWER=new Ut("connectionPreviewer"),Ut.CURSOR=new Ut("cursor"),Ut.EVENT=new Ut("event"),Ut.FIELD=new Ut("field"),Ut.INPUT=new Ut("input"),Ut.RENDERER=new Ut("renderer"),Ut.TOOLBOX=new Ut("toolbox"),Ut.THEME=new Ut("theme"),Ut.TOOLBOX_ITEM=new Ut("toolboxItem"),Ut.FLYOUTS_VERTICAL_TOOLBOX=new Ut("flyoutsVerticalToolbox"),Ut.FLYOUTS_HORIZONTAL_TOOLBOX=new Ut("flyoutsHorizontalToolbox"),Ut.FLYOUT_INFLATER=new Ut("flyoutInflater"),Ut.METRICS_MANAGER=new Ut("metricsManager"),Ut.BLOCK_DRAGGER=new Ut("blockDragger"),Ut.SERIALIZER=new Ut("serializer"),Ut.ICON=new Ut("icon"),Ut.PASTER=new Ut("paster"),Ut.VARIABLE_MODEL=new Ut("variableModel"),Ut.VARIABLE_MAP=new Ut("variableMap");var za={DEFAULT:ml,TEST_ONLY:T3};za.Type=Ut,za.getAllItems=w,za.getClass=T,za.getClassFromOptions=A,za.getObject=E,za.hasItem=_,za.register=a,za.unregister=p;var vs=Object.create(null),_3=750,h1="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),d1=null,na={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},mh=0,mu={TOUCH_ENABLED:h1,TOUCH_MAP:na};mu.checkTouchIdentifier=j,mu.clearTouchIdentifier=Z,mu.getTouchIdentifierFromEvent=oe,mu.longStart=z,mu.longStop=B,mu.shouldHandleEvent=ce;var $c,G4,xd,V4,f1,p1,kd,W4,gu,q4;(function(e){function t(u){return s.includes(u.toUpperCase())}$c=e;const s=$c.toUpperCase();G4=t("JavaFX"),xd=t("WebKit"),V4=t("Gecko")&&!xd,f1=t("Android"),e=globalThis.navigator&&globalThis.navigator.maxTouchPoints,p1=t("iPad")||t("Macintosh")&&e>0,kd=t("iPhone")&&!p1,W4=t("Macintosh"),gu=p1||f1&&!t("Mobile")||t("Silk"),q4=!gu&&(kd||f1)})(globalThis.navigator&&globalThis.navigator.userAgent||"");var E3=$c,X4=G4,gh=V4,Cd=f1,m1=p1,j4=kd,Ad=W4,w3=q4,Y4={ANDROID:Cd,GECKO:gh,IPAD:m1,IPHONE:j4,JavaFx:X4,MAC:Ad,MOBILE:w3,raw:E3},Qs=40,So=125,ra={};ra.bind=be,ra.conditionalBind=ie,ra.getScrollDeltaPixels=lt,ra.isRightButton=Te,ra.isTargetInput=Ge,ra.mouseToSvg=We,ra.unbind=Ie;var mt;(function(e){e.BLOCK_CREATE="create",e.BLOCK_DELETE="delete",e.BLOCK_CHANGE="change",e.BLOCK_FIELD_INTERMEDIATE_CHANGE="block_field_intermediate_change",e.BLOCK_MOVE="move",e.VAR_CREATE="var_create",e.VAR_DELETE="var_delete",e.VAR_RENAME="var_rename",e.VAR_TYPE_CHANGE="var_type_change",e.UI="ui",e.BLOCK_DRAG="drag",e.SELECTED="selected",e.CLICK="click",e.MARKER_MOVE="marker_move",e.BUBBLE_OPEN="bubble_open",e.TRASHCAN_OPEN="trashcan_open",e.TOOLBOX_ITEM_SELECT="toolbox_item_select",e.THEME_CHANGE="theme_change",e.VIEWPORT_CHANGE="viewport_change",e.COMMENT_CREATE="comment_create",e.COMMENT_DELETE="comment_delete",e.COMMENT_CHANGE="comment_change",e.COMMENT_MOVE="comment_move",e.COMMENT_RESIZE="comment_resize",e.COMMENT_DRAG="comment_drag",e.COMMENT_COLLAPSE="comment_collapse",e.FINISHED_LOADING="finished_loading"})(mt||(mt={}));var K4=[mt.BLOCK_CREATE,mt.BLOCK_MOVE,mt.COMMENT_CREATE,mt.COMMENT_MOVE],J4="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",g1={genUid:()=>{const e=J4.length,t=[];for(let s=0;s<20;s++)t[s]=J4.charAt(Math.random()*e);return t.join("")}},S3=0,$1={TEST_ONLY:g1};$1.genUid=Xe,$1.getNextUniqueId=Je;var Z4="",$h=!0,b1=0,bh="ORPHANED_BLOCK",ia=[],Q4={FIRE_QUEUE:ia,enqueueEvent:ke,fireNow:ct,fireInternal:Be,setGroupInternal:yn};n.disable$$module$build$src$core$events$utils,n.enable$$module$build$src$core$events$utils,n.getGroup$$module$build$src$core$events$utils,n.setGroup$$module$build$src$core$events$utils,n.setRecordUndo$$module$build$src$core$events$utils;var v1="http://www.w3.org/2000/svg",Ua="http://www.w3.org/1999/xhtml",il="http://www.w3.org/1999/xlink",I0;(function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"})(I0||(I0={}));var a0=null,vh=0,$u=null,so={HTML_NS:Ua};so.NodeType=I0,so.SVG_NS=v1,so.XLINK_NS=il,so.addClass=tn,so.createSvgElement=dt,so.getFastTextWidth=sr,so.getFastTextWidthWithSizeString=Vn,so.getTextWidth=yi,so.hasClass=pr,so.insertAfter=Ei,so.measureFontMetrics=U,so.removeClass=Zn,so.removeClasses=Wr,so.removeNode=on,so.setCssTransform=Fi,so.startTextWidthCache=Qn,so.stopTextWidthCache=ss;var bo=class{static findFocusedNode(e){var t=e.getRootFocusableNode();if(!t.canBeFocused())return null;var s=t.getFocusableElement();return pr(s,bo.ACTIVE_CLASS_NAME)||pr(s,bo.PASSIVE_CSS_CLASS_NAME)||(t=s.querySelector(this.ACTIVE_FOCUS_NODE_CSS_SELECTOR),(t instanceof HTMLElement||t instanceof SVGElement)&&(t=bo.findFocusableNodeFor(t,e)))?t:(s=s.querySelector(this.PASSIVE_FOCUS_NODE_CSS_SELECTOR),(s instanceof HTMLElement||s instanceof SVGElement)&&(e=bo.findFocusableNodeFor(s,e))?e:null)}static findFocusableNodeFor(e,t){if(!e.id||e.id==="null"||t.getNestedTrees().map(v=>bo.findFocusableNodeFor(e,v)).findIndex(v=>!!v)!==-1)return null;var s=t.getRootFocusableNode();if(s.canBeFocused()&&e===s.getFocusableElement())return s;var u;return(s=(u=t.lookUpFocusableNode(e.id))!=null?u:null)?s:(u=e.parentElement,!s&&u?bo.findFocusableNodeFor(u,t):null)}};bo.ACTIVE_CLASS_NAME="blocklyActiveFocus",bo.PASSIVE_CSS_CLASS_NAME="blocklyPassiveFocus",bo.ACTIVE_FOCUS_NODE_CSS_SELECTOR=`.${bo.ACTIVE_CLASS_NAME}`,bo.PASSIVE_FOCUS_NODE_CSS_SELECTOR=`.${bo.PASSIVE_CSS_CLASS_NAME}`;var e2=class{constructor(e,t){this.tree=e,this.rootShouldBeAutoTabbable=t}},xo=class{constructor(e){this.previouslyFocusedNode=this.focusedNode=null,this.registeredTrees=[],this.isUpdatingFocusedNode=this.recentlyLostAllFocus=this.lockFocusStateChanges=this.currentlyHoldsEphemeralFocus=!1;const t=s=>{if(!this.isUpdatingFocusedNode){this.recentlyLostAllFocus=!s;var u=null;if(s instanceof HTMLElement||s instanceof SVGElement){for(var v of this.registeredTrees)if(u=bo.findFocusableNodeFor(s,v.tree))break}if(u&&u.canBeFocused()){s=u.getFocusableTree();let R;v=(R=this.focusedNode)==null?void 0:R.getFocusableTree(),u===s.getRootFocusableNode()&&s!==v?this.focusTree(s):this.focusNode(u)}else this.defocusCurrentFocusedNode()}};e("focusin",s=>{s instanceof FocusEvent&&t(document.activeElement)}),e("focusout",s=>{s instanceof FocusEvent&&t(s.relatedTarget)})}registerTree(e,t=!1){if(this.ensureManagerIsUnlocked(),this.isRegistered(e))throw Error(`Attempted to re-register already registered tree: ${e}.`);this.registeredTrees.push(new e2(e,t));const s=e.getRootFocusableNode().getFocusableElement();if(!s.id||s.id==="null")throw Error(`Attempting to register a tree with a root element that has an invalid ID: ${e}.`);t&&(s.tabIndex=0)}isRegistered(e){return!!this.lookUpRegistration(e)}lookUpRegistration(e){let t;return(t=this.registeredTrees.find(s=>s.tree===e))!=null?t:null}unregisterTree(e){if(this.ensureManagerIsUnlocked(),!this.isRegistered(e))throw Error(`Attempted to unregister not registered tree: ${e}.`);var t=this.registeredTrees.findIndex(v=>v.tree===e);const s=this.registeredTrees[t];this.registeredTrees.splice(t,1),t=bo.findFocusedNode(e);const u=e.getRootFocusableNode();t&&this.removeHighlight(t),this.focusedNode!==t&&this.focusedNode!==u||this.updateFocusedNode(null),this.removeHighlight(u),s.rootShouldBeAutoTabbable&&e.getRootFocusableNode().getFocusableElement().removeAttribute("tabindex")}getFocusedTree(){let e,t;return(t=(e=this.focusedNode)==null?void 0:e.getFocusableTree())!=null?t:null}getFocusedNode(){return this.focusedNode}focusTree(e){if(this.ensureManagerIsUnlocked(),!this.isRegistered(e))throw Error(`Attempted to focus unregistered tree: ${e}.`);const t=bo.findFocusedNode(e),s=e.getRestoredFocusableNode(t);e=e.getRootFocusableNode();let u;this.focusNode((u=s??t)!=null?u:e)}focusNode(e){this.ensureManagerIsUnlocked();const t=!this.currentlyHoldsEphemeralFocus;t&&(this.isUpdatingFocusedNode=!0);var s,u=((s=this.focusedNode)==null?void 0:s.getFocusableElement())!==document.activeElement;if(this.focusedNode!==e||u)if(e.canBeFocused()){if(s=e.getFocusableTree(),!this.isRegistered(s))throw Error(`Attempted to focus unregistered node: ${e}.`);u=e.getFocusableElement(),u.id&&u.id!=="null"||console.warn("Trying to focus a node that has an invalid ID.");var v=bo.findFocusableNodeFor(u,s);u=bo.findFocusedNode(s);var R=e;if(v!==e){R=s.getRestoredFocusableNode(u),e=s.getRootFocusableNode();var ee;R=(ee=R??u)!=null?ee:e}e=this.focusedNode,ee=e?.getFocusableTree(),e&&this.passivelyFocusNode(e,s),s=s.getRootFocusableNode(),u&&this.removeHighlight(u),s!==R&&this.removeHighlight(s),this.currentlyHoldsEphemeralFocus||this.activelyFocusNode(R,ee??null),this.updateFocusedNode(R)}else console.warn("Trying to focus a node that can't be focused.");t&&(this.isUpdatingFocusedNode=!1)}takeEphemeralFocus(e){if(this.ensureManagerIsUnlocked(),this.currentlyHoldsEphemeralFocus)throw Error(`Attempted to take ephemeral focus when it's already held, with new element: ${e}.`);this.currentlyHoldsEphemeralFocus=!0,this.focusedNode&&this.passivelyFocusNode(this.focusedNode,null),e.focus({preventScroll:!0});let t=!1;return()=>{if(t)throw Error(`Attempted to finish ephemeral focus twice for element: ${e}.`);if(t=!0,this.currentlyHoldsEphemeralFocus=!1,this.focusedNode){this.activelyFocusNode(this.focusedNode,null);const s=this.focusedNode;setTimeout(()=>{!this.focusedNode&&this.previouslyFocusedNode===s&&this.recentlyLostAllFocus&&this.focusNode(s)},0)}}}ephemeralFocusTaken(){return this.currentlyHoldsEphemeralFocus}ensureManagerIsUnlocked(){if(this.lockFocusStateChanges)throw Error("FocusManager state changes cannot happen in a tree/node focus/blur callback.")}updateFocusedNode(e){this.previouslyFocusedNode=this.focusedNode,this.focusedNode=e}defocusCurrentFocusedNode(){this.focusedNode&&!this.currentlyHoldsEphemeralFocus&&(this.passivelyFocusNode(this.focusedNode,null),this.updateFocusedNode(null))}activelyFocusNode(e,t){this.lockFocusStateChanges=!0;const s=e.getFocusableTree(),u=e.getFocusableElement();let v;const R=(v=this.lookUpRegistration(s))==null?void 0:v.rootShouldBeAutoTabbable;s!==t&&(s.onTreeFocus(e,t),R&&(s.getRootFocusableNode().getFocusableElement().tabIndex=-1)),e.onNodeFocus(),this.lockFocusStateChanges=!1,R&&e===s.getRootFocusableNode()||u.hasAttribute("tabindex")||(u.tabIndex=-1),this.setNodeToVisualActiveFocus(e),u.focus({preventScroll:!0})}passivelyFocusNode(e,t){this.lockFocusStateChanges=!0;const s=e.getFocusableTree();if(s!==t){s.onTreeBlur(t);let u;(u=this.lookUpRegistration(s))!=null&&u.rootShouldBeAutoTabbable&&(s.getRootFocusableNode().getFocusableElement().tabIndex=0)}e.onNodeBlur(),this.lockFocusStateChanges=!1,s!==t&&this.setNodeToVisualPassiveFocus(e)}setNodeToVisualActiveFocus(e){e=e.getFocusableElement(),tn(e,xo.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),Zn(e,xo.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}setNodeToVisualPassiveFocus(e){e=e.getFocusableElement(),Zn(e,xo.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),tn(e,xo.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}removeHighlight(e){e=e.getFocusableElement(),Zn(e,xo.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),Zn(e,xo.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}static getFocusManager(){return xo.focusManager||(xo.focusManager=new xo(document.addEventListener)),xo.focusManager}};xo.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME="blocklyActiveFocus",xo.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME="blocklyPassiveFocus",xo.focusManager=null,n.getFocusManager$$module$build$src$core$focus_manager;var sa={};sa.deepMerge=Le;var Vi=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(e,t){if(this.shortcuts.get(e.name)&&!t)throw Error(`Shortcut named "${e.name}" already exists.`);if(this.shortcuts.set(e.name,e),t=e.keyCodes,t!=null&&t.length)for(const s of t)this.addKeyMapping(s,e.name,!!e.allowCollision)}unregister(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn(`Keyboard shortcut named "${e}" not found.`),!1)}addKeyMapping(e,t,s){e=`${e}`;const u=this.keyMap.get(e);if(u&&!s)throw Error(`Shortcut named "${t}" collides with shortcuts "${u}"`);u&&s?u.unshift(t):this.keyMap.set(e,[t])}removeKeyMapping(e,t,s){const u=this.keyMap.get(e);if(!u)return s||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1;const v=u.indexOf(t);return v>-1?(u.splice(v,1),u.length===0&&this.keyMap.delete(e),!0):(s||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1)}removeAllKeyMappings(e){for(const t of this.keyMap.keys())this.removeKeyMapping(t,e,!0)}setKeyMap(e){this.keyMap.clear();for(const t in e)this.keyMap.set(t,e[t])}getKeyMap(){const e=Object.create(null);for(const[t,s]of this.keyMap)e[t]=s;return e}getRegistry(){const e=Object.create(null);for(const[t,s]of this.shortcuts)e[t]=s;return Le(Object.create(null),e)}onKeyDown(e,t){var s=this.serializeKeyEvent(t);if(s=this.getShortcutNamesByKeyCode(s),!s)return!1;for(const u of s){s=this.shortcuts.get(u);let v;if(!s||s.preconditionFn&&!s.preconditionFn(e,{focusedNode:(v=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?v:void 0}))continue;let R,ee,Me;if((ee=(R=s).callback)!=null&&ee.call(R,e,t,s,{focusedNode:(Me=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?Me:void 0}))return!0}return!1}getShortcutNamesByKeyCode(e){let t;return((t=this.keyMap.get(e))==null?void 0:t.slice())||[]}getKeyCodesByShortcutName(e){const t=[];for(const[s,u]of this.keyMap)u.indexOf(e)>-1&&t.push(s);return t}serializeKeyEvent(e){let t="";for(const s in Vi.modifierKeys)e.getModifierState(s)&&(t!==""&&(t+="+"),t+=s);return t!==""&&e.keyCode?t+="+"+e.keyCode:e.keyCode&&(t=String(e.keyCode)),t}checkModifiers(e){for(const t of e)if(!(t in Vi.modifierKeys))throw Error(t+" is not a valid modifier key.")}createSerializedKey(e,t){let s="";if(t){this.checkModifiers(t);for(const u in Vi.modifierKeys)t.includes(Vi.modifierKeys[u])&&(s!==""&&(s+="+"),s+=u)}return s!==""&&e?s+="+"+e:e&&(s=`${e}`),s}};Vi.registry=new Vi,(function(e){e=e.modifierKeys||(e.modifierKeys={}),e[e.Shift=16]="Shift",e[e.Control=17]="Control",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta"})(Vi||(Vi={}));var yh=Object.create(null),t2,oa,bc=[],n2={defineBlocksWithJsonArrayInternal:Pe},Gs={TEST_ONLY:n2};Gs.createBlockDefinitionsFromJsonArray=n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common,Gs.defineBlocks=n.defineBlocks$$module$build$src$core$common,Gs.defineBlocksWithJsonArray=$e,Gs.draggingConnections=bc,Gs.fireSelectedEvent=Dt,Gs.getAllWorkspaces=Qe,Gs.getBlockTypeCounts=fs,Gs.getMainWorkspace=N,Gs.getParentContainer=Cn,Gs.getSelected=De,Gs.getWorkspaceById=tt,Gs.globalShortcutHandler=et,Gs.registerWorkspace=Ct,Gs.setMainWorkspace=ue,Gs.setParentContainer=Qr,Gs.setSelected=Re,Gs.svgResize=ds,Gs.unregisterWorkpace=kt;var la=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=n.getGroup$$module$build$src$core$events$utils(),this.recordUndo=It()}toJson(){return{type:this.type,group:this.group}}static fromJson(e,t,s){return s.isBlank=!1,s.group=e.group||"",s.workspaceId=t.id,s}isNull(){return!1}run(e){}getEventWorkspace_(){let e;if(this.workspaceId&&(e=tt(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}},$i=class extends la{constructor(e){super(),this.recordUndo=!1,this.isUiEvent=!0,this.isBlank=typeof e>"u",this.workspaceId=e||""}},r2=class extends $i{constructor(e,t,s){t=e?e.workspace.id:t,t===null&&(t=void 0),super(t),this.type=mt.CLICK,this.blockId=e?e.id:void 0,this.targetType=s}toJson(){const e=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new r2),t.targetType=e.targetType,t.blockId=e.blockId,t}},i2;(function(e){e.BLOCK="block",e.WORKSPACE="workspace",e.ZOOM_CONTROLS="zoom_controls"})(i2||(i2={})),a(Ut.EVENT,mt.CLICK,r2);var s2={};s2.removeElem=Ft;var Wl=class{constructor(e){this.name=e}toString(){return this.name}};Wl.POSITIONABLE=new Wl("positionable"),Wl.DRAG_TARGET=new Wl("drag_target"),Wl.DELETE_AREA=new Wl("delete_area"),Wl.AUTOHIDEABLE=new Wl("autohideable");var Si=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(e,t){const s=e.component.id;if(!t&&this.componentData.has(s)){var u;throw Error('Plugin "'+s+'" with capabilities "'+((u=this.componentData.get(s))==null?void 0:u.capabilities)+'" already added.')}for(this.componentData.set(s,e),t=[],u=0;u<e.capabilities.length;u++){const v=String(e.capabilities[u]).toLowerCase();if(t.push(v),this.capabilityToComponentIds.has(v)){let R;(R=this.capabilityToComponentIds.get(v))==null||R.push(s)}else this.capabilityToComponentIds.set(v,[s])}this.componentData.get(s).capabilities=t}removeComponent(e){const t=this.componentData.get(e);if(t){for(let s=0;s<t.capabilities.length;s++){const u=String(t.capabilities[s]).toLowerCase();Ft(this.capabilityToComponentIds.get(u),e)}this.componentData.delete(e)}}addCapability(e,t){if(!this.getComponent(e))throw Error('Cannot add capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');if(this.hasCapability(e,t))console.warn('Plugin "'+e+'already has capability "'+t+'"');else{t=`${t}`.toLowerCase();var s;(s=this.componentData.get(e))==null||s.capabilities.push(t);var u;(u=this.capabilityToComponentIds.get(t))==null||u.push(e)}}removeCapability(e,t){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?(t=`${t}`.toLowerCase(),Ft(this.componentData.get(e).capabilities,t),Ft(this.capabilityToComponentIds.get(t),e)):console.warn('Plugin "'+e+`doesn't have capability "`+t+'" to remove')}hasCapability(e,t){return t=`${t}`.toLowerCase(),this.componentData.has(e)&&this.componentData.get(e).capabilities.includes(t)}getComponent(e){let t;return(t=this.componentData.get(e))==null?void 0:t.component}getComponents(e,t){if(e=`${e}`.toLowerCase(),e=this.capabilityToComponentIds.get(e),!e)return[];const s=[];if(t){const u=[];e.forEach(v=>{u.push(this.componentData.get(v))}),u.sort(function(v,R){return v.weight-R.weight}),u.forEach(function(v){s.push(v.component)})}else e.forEach(u=>{s.push(this.componentData.get(u).component)});return s}};Si.Capability=Wl,(function(e){e=e.ComponentWeight||(e.ComponentWeight={}),e[e.TOOLBOX_WEIGHT=0]="TOOLBOX_WEIGHT",e[e.FLYOUT_WEIGHT=1]="FLYOUT_WEIGHT",e[e.TRASHCAN_WEIGHT=2]="TRASHCAN_WEIGHT",e[e.ZOOM_CONTROLS_WEIGHT=3]="ZOOM_CONTROLS_WEIGHT"})(Si||(Si={})),Si.ComponentWeight;var Id=!1,Md=`
.blocklySvg {
  background-color: #fff;
  outline: none;
  overflow: hidden;  /* IE overflows by default. */
  position: absolute;
  display: block;
}

.blocklyWidgetDiv {
  display: none;
  position: absolute;
  z-index: 99999;  /* big value for bootstrap3 compatibility */
}

.injectionDiv {
  height: 100%;
  position: relative;
  overflow: hidden;  /* So blocks in drag surface disappear at edges */
  touch-action: none;
  user-select: none;
  -webkit-user-select: none;
}

.blocklyBlockCanvas.blocklyCanvasTransitioning,
.blocklyBubbleCanvas.blocklyCanvasTransitioning {
  transition: transform .5s;
}

.blocklyEmboss {
  filter: var(--blocklyEmbossFilter);
}

.blocklyTooltipDiv {
  background-color: #ffffc7;
  border: 1px solid #ddc;
  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);
  color: #000;
  display: none;
  font: 9pt sans-serif;
  opacity: .9;
  padding: 2px;
  position: absolute;
  z-index: 100000;  /* big value for bootstrap3 compatibility */
}

.blocklyDropDownDiv {
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1000;
  display: none;
  border: 1px solid;
  border-color: #dadce0;
  background-color: #fff;
  border-radius: 2px;
  padding: 4px;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv:focus {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownContent {
  max-height: 300px;  /* @todo: spec for maximum height. */
}

.blocklyDropDownArrow {
  position: absolute;
  left: 0;
  top: 0;
  width: 16px;
  height: 16px;
  z-index: -1;
  background-color: inherit;
  border-color: inherit;
  border-top: 1px solid;
  border-left: 1px solid;
  border-top-left-radius: 4px;
  border-color: inherit;
}

.blocklyHighlighted>.blocklyPath {
  filter: var(--blocklyEmbossFilter);
}

.blocklyHighlightedConnectionPath {
  fill: none;
  stroke: #fc3;
  stroke-width: 4px;
}

.blocklyPathLight {
  fill: none;
  stroke-linecap: round;
  stroke-width: 1;
}

.blocklySelected>.blocklyPathLight {
  display: none;
}

.blocklyDraggable {
  cursor: grab;
  cursor: -webkit-grab;
}

.blocklyDragging {
  cursor: grabbing;
  cursor: -webkit-grabbing;
  /* Drag surface disables events to not block the toolbox, so we have to
   * reenable them here for the cursor values to work. */
  pointer-events: auto;
}

  /* Changes cursor on mouse down. Not effective in Firefox because of
     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */
.blocklyDraggable:active {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

.blocklyDragging.blocklyDraggingDelete,
.blocklyDragging.blocklyDraggingDelete .blocklyField {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyDragging>.blocklyPath,
.blocklyDragging>.blocklyPathLight {
  fill-opacity: .8;
  stroke-opacity: .8;
}

.blocklyDragging>.blocklyPathDark {
  display: none;
}

.blocklyDisabledPattern>.blocklyPath {
  fill: var(--blocklyDisabledPattern);
  fill-opacity: .5;
  stroke-opacity: .5;
}

.blocklyDisabled>.blocklyPathLight,
.blocklyDisabled>.blocklyPathDark {
  display: none;
}

.blocklyInsertionMarker>.blocklyPath,
.blocklyInsertionMarker>.blocklyPathLight,
.blocklyInsertionMarker>.blocklyPathDark {
  fill-opacity: .2;
  stroke: none;
}

.blocklyNonEditableField>text {
  pointer-events: none;
}

.blocklyFlyout {
  position: absolute;
  z-index: 20;
}

.blocklyText text {
  cursor: default;
}

/*
  Don't allow users to select text.  It gets annoying when trying to
  drag a block and selected text moves instead.
*/
.blocklySvg text {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  cursor: inherit;
}

.blocklyIconGroup {
  cursor: default;
}

.blocklyIconGroup:not(:hover):not(:focus),
.blocklyIconGroupReadonly {
  opacity: .6;
}

.blocklyIconShape {
  fill: #00f;
  stroke: #fff;
  stroke-width: 1px;
}

.blocklyIconSymbol {
  fill: #fff;
}

.blocklyMinimalBody {
  margin: 0;
  padding: 0;
  height: 100%;
}

.blocklyHtmlInput {
  border: none;
  border-radius: 4px;
  height: 100%;
  margin: 0;
  outline: none;
  padding: 0;
  width: 100%;
  text-align: center;
  display: block;
  box-sizing: border-box;
}

/* Remove the increase and decrease arrows on the field number editor */
input.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,
input.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield;
}

.blocklyMainBackground {
  stroke-width: 1;
  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */
}

.blocklyMutatorBackground {
  fill: #fff;
  stroke: #ddd;
  stroke-width: 1;
}

.blocklyFlyoutBackground {
  fill: #ddd;
  fill-opacity: .8;
}

.blocklyMainWorkspaceScrollbar {
  z-index: 20;
}

.blocklyFlyoutScrollbar {
  z-index: 30;
}

.blocklyScrollbarHorizontal,
.blocklyScrollbarVertical {
  position: absolute;
  outline: none;
}

.blocklyScrollbarBackground {
  opacity: 0;
  pointer-events: none;
}

.blocklyScrollbarHandle {
  fill: #ccc;
}

.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyScrollbarHandle:hover {
  fill: #bbb;
}

/* Darken flyout scrollbars due to being on a grey background. */
/* By contrast, workspace scrollbars are on a white background. */
.blocklyFlyout .blocklyScrollbarHandle {
  fill: #bbb;
}

.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyFlyout .blocklyScrollbarHandle:hover {
  fill: #aaa;
}

.blocklyInvalidInput {
  background: #faa;
}

.blocklyVerticalMarker {
  stroke-width: 3px;
  fill: rgba(255,255,255,.5);
  pointer-events: none;
}

.blocklyComputeCanvas {
  position: absolute;
  width: 0;
  height: 0;
}

.blocklyNoPointerEvents {
  pointer-events: none;
}

.blocklyContextMenu {
  border-radius: 4px;
  max-height: 100%;
}

.blocklyDropdownMenu {
  border-radius: 2px;
  padding: 0 !important;
}

.blocklyDropdownMenu .blocklyMenuItem {
  /* 28px on the left for icon or checkbox. */
  padding-left: 28px;
}

/* BiDi override for the resting state. */
.blocklyDropdownMenu .blocklyMenuItemRtl {
  /* Flip left/right padding for BiDi. */
  padding-left: 5px;
  padding-right: 28px;
}

.blocklyWidgetDiv .blocklyMenu {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  background: #fff;
  border: 1px solid transparent;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
  font: normal 13px Arial, sans-serif;
  margin: 0;
  outline: none;
  padding: 4px 0;
  position: absolute;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

.blocklyWidgetDiv .blocklyMenu:focus {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv .blocklyMenu {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  background: inherit;  /* Compatibility with gapi, reset from goog-menu */
  border: inherit;  /* Compatibility with gapi, reset from goog-menu */
  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;
  outline: none;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

/* State: resting. */
.blocklyMenuItem {
  border: none;
  color: #000;
  cursor: pointer;
  list-style: none;
  margin: 0;
  /* 7em on the right for shortcut. */
  min-width: 7em;
  padding: 6px 15px;
  white-space: nowrap;
}

/* State: disabled. */
.blocklyMenuItemDisabled {
  color: #ccc;
  cursor: inherit;
}

/* State: hover. */
.blocklyMenuItemHighlight {
  background-color: rgba(0,0,0,.1);
}

/* State: selected/checked. */
.blocklyMenuItemCheckbox {
  height: 16px;
  position: absolute;
  width: 16px;
}

.blocklyMenuItemSelected .blocklyMenuItemCheckbox {
  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;
  float: left;
  margin-left: -24px;
  position: static;  /* Scroll with the menu. */
}

.blocklyMenuItemRtl .blocklyMenuItemCheckbox {
  float: right;
  margin-right: -24px;
}

.blocklyMenuSeparator {
  background-color: #ccc;
  height: 1px;
  border: 0;
  margin-left: 4px;
  margin-right: 4px;
}

.blocklyBlockDragSurface, .blocklyAnimationLayer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: visible !important;
  z-index: 80;
  pointer-events: none;
}

.blocklyField {
  cursor: default;
}

.blocklyInputField {
  cursor: text;
}

.blocklyDragging .blocklyField,
.blocklyDragging .blocklyIconGroup {
  cursor: grabbing;
}

.blocklyActiveFocus:is(
  .blocklyFlyout,
  .blocklyWorkspace,
  .blocklyField,
  .blocklyPath,
  .blocklyHighlightedConnectionPath,
  .blocklyComment,
  .blocklyBubble,
  .blocklyIconGroup,
  .blocklyTextarea
) {
  outline: none;
}
`,vc={};vc.inject=Hn,vc.register=dn;var Wt=class{constructor(e,t){this.x=e,this.y=t}clone(){return new Wt(this.x,this.y)}scale(e){return this.x*=e,this.y*=e,this}translate(e,t){return this.x+=e,this.y+=t,this}static equals(e,t){return e===t?!0:e&&t?e.x===t.x&&e.y===t.y:!1}static distance(e,t){const s=e.x-t.x;return e=e.y-t.y,Math.sqrt(s*s+e*e)}static magnitude(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static difference(e,t){return new Wt(e.x-t.x,e.y-t.y)}static sum(e,t){return new Wt(e.x+t.x,e.y+t.y)}},ht=class{constructor(e){this.tagName=e}toString(){return this.tagName}};ht.ANIMATE=new ht("animate"),ht.CIRCLE=new ht("circle"),ht.CLIPPATH=new ht("clipPath"),ht.DEFS=new ht("defs"),ht.FECOMPOSITE=new ht("feComposite"),ht.FECOMPONENTTRANSFER=new ht("feComponentTransfer"),ht.FEFLOOD=new ht("feFlood"),ht.FEFUNCA=new ht("feFuncA"),ht.FEGAUSSIANBLUR=new ht("feGaussianBlur"),ht.FEPOINTLIGHT=new ht("fePointLight"),ht.FESPECULARLIGHTING=new ht("feSpecularLighting"),ht.FILTER=new ht("filter"),ht.FOREIGNOBJECT=new ht("foreignObject"),ht.G=new ht("g"),ht.IMAGE=new ht("image"),ht.LINE=new ht("line"),ht.PATH=new ht("path"),ht.PATTERN=new ht("pattern"),ht.POLYGON=new ht("polygon"),ht.RECT=new ht("rect"),ht.SVG=new ht("svg"),ht.TEXT=new ht("text"),ht.TSPAN=new ht("tspan");var $r=class{constructor(e,t,s,u){this.top=e,this.bottom=t,this.left=s,this.right=u}static from(e){return new $r(e.y,e.y+e.height,e.x,e.x+e.width)}clone(){return new $r(this.top,this.bottom,this.left,this.right)}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}getOrigin(){return new Wt(this.left,this.top)}contains(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom}intersects(e){return this.left<=e.right&&this.right>=e.left&&this.bottom>=e.top&&this.top<=e.bottom}static equals(e,t){return e===t?!0:e&&t?e.top===t.top&&e.bottom===t.bottom&&e.left===t.left&&e.right===t.right:!1}static createFromPoint(e,t,s){const u=e.x;return e=e.y,new $r(e,e+s,u,u+t)}},_r=class{constructor(e,t){this.width=e,this.height=t}static equals(e,t){return e===t?!0:e&&t?e.width===t.width&&e.height===t.height:!1}static max(e,t){return new _r(Math.max(e.width,t.width),Math.max(e.height,t.height))}static min(e,t){return new _r(Math.min(e.width,t.width),Math.min(e.height,t.height))}},Rd={getSizeInternal:Ml},aa={TEST_ONLY:Rd};aa.getBorderBox=Jt,aa.getComputedStyle=vr,aa.getContainerOffsetToScrollInto=P,aa.getPageOffset=L,aa.getSize=Sr,aa.getViewportPageOffset=W,aa.scrollIntoContainerView=x;var Th=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,o2=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,Ha={XY_REGEX:Th,XY_STYLE_REGEX:o2},us={TEST_ONLY:Ha};us.getDocumentScroll=Q,us.getInjectionDivXY=Y,us.getRelativeXY=K,us.getViewportBBox=we,us.screenToWsCoordinates=Ee,us.wsToScreenCoordinates=Ue;var Cs=class{constructor(e,t,s,u,v){this.workspace=e,this.horizontal=t,this.oldHostMetrics=null,this.ratio=1,this.origin=new Wt(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new Wt(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=s||!1,this.margin=v!==void 0?v:Cs.DEFAULT_SCROLLBAR_MARGIN,e="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),u&&(e+=" "+u),this.outerSvg=dt(ht.SVG,{class:e}),u=dt(ht.G,{},this.outerSvg),this.svgBackground=dt(ht.RECT,{class:"blocklyScrollbarBackground"},u),e=Math.floor((Cs.scrollbarThickness-5)/2),this.svgHandle=dt(ht.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},u),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),Ei(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),t?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=ie(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=ie(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){const e=Cs.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(e)),this.outerSvg.setAttribute("height",String(e)),this.svgHandle.setAttribute("height",String(e-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(e)),this.outerSvg.setAttribute("width",String(e)),this.svgHandle.setAttribute("width",String(e-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),Ie(this.onMouseDownBarWrapper_),Ie(this.onMouseDownHandleWrapper_),on(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(e){return e=e<=0||isNaN(e)?0:Math.min(e,this.scrollbarLength)}setHandleLength(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(e){return e=e<=0||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}setHandlePosition(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(e,t){this.position.x=e,this.position.y=t,Fi(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(e){!e&&(e=this.workspace.getMetrics(),!e)||this.oldHostMetrics&&Cs.metricsAreEquivalent(e,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(e):this.resizeVertical(e),this.oldHostMetrics=e,this.updateMetrics())}requiresViewResize(e){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop:!0}resizeHorizontal(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}resizeViewHorizontal(e){var t=e.viewWidth-this.margin*2;this.pair&&(t-=Cs.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),t=e.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(t+=Cs.scrollbarThickness),this.setPosition(t,e.absoluteTop+e.viewHeight-Cs.scrollbarThickness-this.margin),this.resizeContentHorizontal(e)}resizeContentHorizontal(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewWidth/e.scrollWidth;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollWidth-e.viewWidth;var s=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/t*s,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=s/t}}resizeVertical(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}resizeViewVertical(e){let t=e.viewHeight-this.margin*2;this.pair&&(t-=Cs.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),this.setPosition(this.workspace.RTL?e.absoluteLeft+this.margin:e.absoluteLeft+e.viewWidth-Cs.scrollbarThickness-this.margin,e.absoluteTop+this.margin),this.resizeContentVertical(e)}resizeContentVertical(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewHeight/e.scrollHeight;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollHeight-e.viewHeight;var s=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/t*s,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=s/t}}isVisible(){return this.isHandleVisible}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay_()}setVisible(e){if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.setVisibleInternal(e)}setVisibleInternal(e){const t=e!==this.isVisible();this.isHandleVisible=e,t&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(e){if(this.workspace.markFocused(),Z(),this.cleanUp(),Te(e))e.stopPropagation();else{var t=We(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());t=this.horizontal?t.x:t.y;var s=Y(this.svgHandle);s=this.horizontal?s.x:s.y;var u=this.handlePosition,v=this.handleLength*.95;t<=s?u-=v:t>=s+this.handleLength&&(u+=v),this.setHandlePosition(this.constrainHandlePosition(u)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}onMouseDownHandle(e){this.workspace.markFocused(),this.cleanUp(),Te(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=ie(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=ie(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}onMouseMoveHandle(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){Z(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(Ie(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(Ie(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}updateMetrics(){const e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}set(e,t){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(t||t===void 0)&&this.updateMetrics()}setOrigin(e,t){this.origin=new Wt(e,t)}static metricsAreEquivalent(e,t){return e.viewWidth===t.viewWidth&&e.viewHeight===t.viewHeight&&e.viewLeft===t.viewLeft&&e.viewTop===t.viewTop&&e.absoluteTop===t.absoluteTop&&e.absoluteLeft===t.absoluteLeft&&e.scrollWidth===t.scrollWidth&&e.scrollHeight===t.scrollHeight&&e.scrollLeft===t.scrollLeft&&e.scrollTop===t.scrollTop}};Cs.scrollbarThickness=h1?25:15,Cs.DEFAULT_SCROLLBAR_MARGIN=.5;var _h={parseFromString:function(){throw Error("DOMParser was not found in the global scope and was not properly injected using injectDependencies")}},oo={serializeToString:function(){throw Error("XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies")}},{document:Nd,DOMParser:y1,XMLSerializer:T1}=globalThis;y1&&(_h=new y1),T1&&(oo=new T1);var ys="https://developers.google.com/blockly/xml",gl=/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,$l={NAME_SPACE:ys};$l.createElement=n.createElement$$module$build$src$core$utils$xml,$l.createTextNode=n.createTextNode$$module$build$src$core$utils$xml,$l.domToText=st,$l.injectDependencies=Ke,$l.textToDom=n.textToDom$$module$build$src$core$utils$xml;var Od="categoryToolbox",l2="flyoutToolbox",Er;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"})(Er||(Er={}));var x3={hasCategoriesInternal:Or},M0={};M0.Position=Er,M0.TEST_ONLY=x3,M0.convertFlyoutDefToJsonArray=wn,M0.convertToolboxDefToJson=Nt,M0.hasCategories=In,M0.isCategoryCollapsible=cr,M0.parseToolboxTree=fn;var Vs;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"})(Vs||(Vs={}));var jo;(function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"})(jo||(jo={}));var Ga;(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"})(Ga||(Ga={}));var lo={};lo.bumpDirection=Ga,lo.bumpPositionRect=oi,lo.getCornerOppositeToolbox=Rs,lo.getStartPositionRect=xr,lo.horizontalPosition=jo,lo.verticalPosition=Vs;var Yo={width:96,height:124,url:"sprites.png"},ua=class{constructor(e){this.workspace=e,this.id="zoomControls",this.boundEvents=[],this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=dt(ht.G,{});const e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:Si.ComponentWeight.ZOOM_CONTROLS_WEIGHT,capabilities:[Si.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&on(this.svgGroup);for(const e of this.boundEvents)Ie(e);this.boundEvents.length=0}getBoundingRectangle(){let e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new $r(this.top,this.top+e,this.left,this.left+this.WIDTH)}position(e,t){if(this.initialized){var s=Rs(this.workspace,e),u=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(u+=this.LARGE_SPACING+this.HEIGHT),e=xr(s,new _r(this.WIDTH,u),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),s=s.vertical,t=oi(e,this.MARGIN_VERTICAL,s===Vs.TOP?Ga.DOWN:Ga.UP,t),s===Vs.TOP){var v=this.SMALL_SPACING+this.HEIGHT,R;(R=this.zoomInGroup)==null||R.setAttribute("transform","translate(0, "+v+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(v+this.LARGE_SPACING+this.HEIGHT)+")")}else{R=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;let Me;(Me=this.zoomInGroup)==null||Me.setAttribute("transform","translate(0, "+R+")"),R=R+this.SMALL_SPACING+this.HEIGHT,(v=this.zoomOutGroup)==null||v.setAttribute("transform","translate(0, "+R+")")}this.top=t.top,this.left=t.left;var ee;(ee=this.svgGroup)==null||ee.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(e){this.zoomOutGroup=dt(ht.G,{class:"blocklyZoom blocklyZoomOut"},this.svgGroup);const t=dt(ht.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);dt(ht.RECT,{width:32,height:32},t),dt(ht.IMAGE,{width:Yo.width,height:Yo.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS(il,"xlink:href",this.workspace.options.pathToMedia+Yo.url),this.boundEvents.push(ie(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)))}createZoomInSvg(e){this.zoomInGroup=dt(ht.G,{class:"blocklyZoom blocklyZoomIn"},this.svgGroup);const t=dt(ht.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);dt(ht.RECT,{width:32,height:32},t),dt(ht.IMAGE,{width:Yo.width,height:Yo.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS(il,"xlink:href",this.workspace.options.pathToMedia+Yo.url),this.boundEvents.push(ie(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)))}zoom(e,t){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),Z(),t.stopPropagation(),t.preventDefault()}createZoomResetSvg(e){this.zoomResetGroup=dt(ht.G,{class:"blocklyZoom blocklyZoomReset"},this.svgGroup);const t=dt(ht.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);dt(ht.RECT,{width:32,height:32},t),dt(ht.IMAGE,{width:Yo.width,height:Yo.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS(il,"xlink:href",this.workspace.options.pathToMedia+Yo.url),this.boundEvents.push(ie(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)))}resetZoom(e){this.workspace.markFocused();const t=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(t),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),Z(),e.stopPropagation(),e.preventDefault()}fireZoomEvent(){const e=new(an(mt.CLICK))(null,this.workspace.id,"zoom_controls");le(e)}};dn(`
.blocklyZoom>image, .blocklyZoom>svg>image {
  opacity: .4;
}

.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {
  opacity: .6;
}

.blocklyZoom>image:active, .blocklyZoom>svg>image:active {
  opacity: .8;
}
`);var bu=100,ca=75,Ld=50,Dd=25,R0={BLOCKS:Ld,PROCEDURES:ca,VARIABLES:bu,WORKSPACE_COMMENTS:Dd},Bd={};Bd.register=Ir,Bd.unregister=Qt;var yc=class{constructor(){this.priority=Dd}save(e){const t=[];for(const s of e.getTopComments())(e=fe(s,{addCoordinates:!0,saveIds:!0}))&&t.push(e);return t.length?t:null}load(e,t){for(const s of e)Ci(s,t,{recordUndo:It()})}clear(e){for(const t of e.getTopComments())t.dispose()}};Ir("workspaceComments",new yc);var vu={};vu.WorkspaceCommentSerializer=yc,vu.append=Ci,vu.save=fe;var Tc={};Tc.register=ps,Tc.unregister=dr;var Va=class{paste(e,t,s){e=e.commentState,s&&(e.x=s.x,e.y=s.y),n.disable$$module$build$src$core$events$utils();let u;try{u=Ci(e,t),Lr(u)}finally{n.enable$$module$build$src$core$events$utils()}return u?(sn()&&le(new(an(mt.COMMENT_CREATE))(u)),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(u),u):null}};Va.TYPE="workspace-comment",ps(Va.TYPE,new Va);var Pd;Pd=28,n.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:Pd,connectingSnapRadius:Pd,currentConnectionPreference:8,bumpDelay:250},n.config$$module$build$src$core$config;var k3="aria-",Eh="role",bl;(function(e){e.GRID="grid",e.GRIDCELL="gridcell",e.GROUP="group",e.LISTBOX="listbox",e.MENU="menu",e.MENUITEM="menuitem",e.MENUITEMCHECKBOX="menuitemcheckbox",e.OPTION="option",e.PRESENTATION="presentation",e.ROW="row",e.TREE="tree",e.TREEITEM="treeitem",e.SEPARATOR="separator",e.STATUS="status"})(bl||(bl={}));var Ts;(function(e){e.ACTIVEDESCENDANT="activedescendant",e.COLCOUNT="colcount",e.DISABLED="disabled",e.EXPANDED="expanded",e.INVALID="invalid",e.LABEL="label",e.LABELLEDBY="labelledby",e.LEVEL="level",e.ORIENTATION="orientation",e.POSINSET="posinset",e.ROWCOUNT="rowcount",e.SELECTED="selected",e.SETSIZE="setsize",e.VALUEMAX="valuemax",e.VALUEMIN="valuemin",e.LIVE="live",e.HIDDEN="hidden"})(Ts||(Ts={}));var _1={};_1.Role=bl,_1.State=Ts,_1.setRole=tr,_1.setState=Ur;var Fd=class{constructor(e,t){this.content=e,this.opt_value=t,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){const e=document.createElement("div");e.id=Je(),this.element=e,e.className="blocklyMenuItem "+(this.enabled?"":"blocklyMenuItemDisabled ")+(this.checked?"blocklyMenuItemSelected ":"")+(this.highlight?"blocklyMenuItemHighlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl ":"");const t=document.createElement("div");if(t.className="blocklyMenuItemContent",this.checkable){var s=document.createElement("div");s.className="blocklyMenuItemCheckbox ",t.appendChild(s)}return s=this.content,typeof this.content=="string"&&(s=document.createTextNode(this.content)),t.appendChild(s),e.appendChild(t),this.roleName&&tr(e,this.roleName),Ur(e,Ts.SELECTED,this.checkable&&this.checked||!1),Ur(e,Ts.DISABLED,!this.enabled),e}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let e;return(e=this.opt_value)!=null?e:null}setRightToLeft(e){this.rightToLeft=e}setRole(e){this.roleName=e}setCheckable(e){this.checkable=e}setChecked(e){this.checked=e}setHighlighted(e){this.highlight=e;const t=this.getElement();t&&this.isEnabled()&&(e?tn(t,"blocklyMenuItemHighlight"):Zn(t,"blocklyMenuItemHighlight"))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}performAction(e){this.isEnabled()&&this.actionHandler&&this.actionHandler(this,e)}onAction(e,t){this.actionHandler=e.bind(t)}},a2=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.pointerLeaveHandler=this.pointerEnterHandler=this.clickHandler=this.pointerMoveHandler=this.highlightedItem=this.openingCoords=null}addChild(e){this.menuItems.push(e)}render(e){const t=document.createElement("div");t.className="blocklyMenu",t.tabIndex=0,this.roleName&&tr(t,this.roleName),this.element=t;for(let s=0,u;u=this.menuItems[s];s++)t.appendChild(u.createDom());return this.pointerMoveHandler=ie(t,"pointermove",this,this.handlePointerMove,!0),this.clickHandler=ie(t,"pointerup",this,this.handleClick,!0),this.pointerEnterHandler=ie(t,"pointerenter",this,this.handlePointerEnter,!0),this.pointerLeaveHandler=ie(t,"pointerleave",this,this.handlePointerLeave,!0),this.onKeyDownHandler=ie(t,"keydown",this,this.handleKeyEvent),e.appendChild(t),t}getElement(){return this.element}focus(){const e=this.getElement();e&&e.focus({preventScroll:!0})}blur(){const e=this.getElement();e&&e.blur()}setRole(e){this.roleName=e}dispose(){this.pointerMoveHandler&&(Ie(this.pointerMoveHandler),this.pointerMoveHandler=null),this.clickHandler&&(Ie(this.clickHandler),this.clickHandler=null),this.pointerEnterHandler&&(Ie(this.pointerEnterHandler),this.pointerEnterHandler=null),this.pointerLeaveHandler&&(Ie(this.pointerLeaveHandler),this.pointerLeaveHandler=null),this.onKeyDownHandler&&(Ie(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let e=0,t;t=this.menuItems[e];e++)t.dispose();this.element=null}getMenuItem(e){const t=this.getElement();for(;e&&e!==t;){if(e.classList.contains("blocklyMenuItem")){const s=this.getMenuItems();for(let u=0,v;v=s[u];u++)if(v.getElement()===e)return v}e=e.parentElement}return null}setHighlighted(e){var t=this.highlightedItem;if(t&&(t.setHighlighted(!1),this.highlightedItem=null),e){e.setHighlighted(!0),this.highlightedItem=e,t=this.getElement();const s=e.getElement();t&&s&&(x(s,t),Ur(t,Ts.ACTIVEDESCENDANT,e.getId()))}}highlightNext(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}highlightPrevious(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e<0?this.menuItems.length:e,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(e,t){e+=t;let s;const u=this.getMenuItems();for(;s=u[e];){if(s.isEnabled()){this.setHighlighted(s);break}e+=t}}handlePointerMove(e){Math.max(Math.abs(e.movementX),Math.abs(e.movementY))!==0&&(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}handleClick(e){var t=this.openingCoords;if(this.openingCoords=null,t&&typeof e.clientX=="number"){const s=new Wt(e.clientX,e.clientY);if(Wt.distance(t,s)<1)return}(t=this.getMenuItem(e.target))&&t.performAction(e)}handlePointerEnter(e){this.focus()}handlePointerLeave(e){this.getElement()&&this.setHighlighted(null)}handleKeyEvent(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var t=this.highlightedItem;switch(e.key){case"Enter":case" ":t&&t.performAction(e);break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}getSize(){const e=this.getElement(),t=Sr(e);return t.height=e.scrollHeight,t}getMenuItems(){return this.menuItems.filter(e=>e instanceof Fd)}},xi=class{constructor(){this.element=null}createDom(){return this.element=document.createElement("hr"),this.element.className="blocklyMenuSeparator",tr(this.element,bl.SEPARATOR),this.element}dispose(){let e;(e=this.element)==null||e.remove(),this.element=null}},Oi="_TEMP_COLLAPSED_INPUT",Fr="_TEMP_COLLAPSED_FIELD",fr="MANUALLY_DISABLED",Yi={COLLAPSED_FIELD_NAME:Fr,COLLAPSED_INPUT_NAME:Oi,MANUALLY_DISABLED:fr};(function(e){e[e.VALUE=1]="VALUE",e[e.STATEMENT=3]="STATEMENT",e[e.DUMMY=5]="DUMMY",e[e.CUSTOM=6]="CUSTOM",e[e.END_ROW=7]="END_ROW"})(n.inputTypes$$module$build$src$core$inputs$input_types||(n.inputTypes$$module$build$src$core$inputs$input_types={})),n.inputTypes$$module$build$src$core$inputs$input_types;var Ko=new Set,ha=new WeakSet,yu=new WeakMap,Tu=null,N0=null,Ds=0,O0={};O0.finishQueuedRenders=jn,O0.queueRender=js,O0.triggerQueuedRenders=d;var Wa,zd;n.Msg$$module$build$src$core$msg=Object.create(null),Wa=function(e){Object.keys(e).forEach(function(t){n.Msg$$module$build$src$core$msg[t]=e[t]})},zd={Msg:n.Msg$$module$build$src$core$msg,setLocale:Wa};var Bo="blocklyToast",_c="blocklyToastMessage",E1="blocklyToastCloseButton",ao=class{static show(e,t){if(t.oncePerSession&&t.id){if(this.shownIds.has(t.id))return;this.shownIds.add(t.id)}this.hide(e);const s=this.createDom(e,t);requestAnimationFrame(()=>{s.style.bottom="2rem"})}static createDom(e,t){const{message:s,duration:u=5,assertiveness:v=ao.Assertiveness.POLITE}=t,R=document.createElement("div");e.getInjectionDiv().appendChild(R),R.dataset.toastId=t.id,R.className=Bo,tr(R,bl.STATUS),Ur(R,Ts.LIVE,v),t=R.appendChild(document.createElement("div")),t.className=_c,t.innerText=s,t=R.appendChild(document.createElement("button")),t.className=E1,Ur(t,Ts.LABEL,n.Msg$$module$build$src$core$msg.CLOSE);var ee=dt(ht.SVG,{width:24,height:24,viewBox:"0 0 24 24",fill:"none"},t);Ur(ee,Ts.HIDDEN,!0),dt(ht.RECT,{x:19.7782,y:2.80762,width:2,height:24,transform:"rotate(45, 19.7782, 2.80762)",fill:"black"},ee),dt(ht.RECT,{x:2.80762,y:4.22183,width:2,height:24,transform:"rotate(-45, 2.80762, 4.22183)",fill:"black"},ee),t.addEventListener("click",()=>{R.remove(),e.markFocused()});let Me;return t=()=>{Me=setTimeout(()=>R.remove(),u*1e3)},ee=()=>clearTimeout(Me),R.addEventListener("focusin",ee),R.addEventListener("focusout",t),R.addEventListener("mouseenter",ee),R.addEventListener("mousemove",ee),R.addEventListener("mouseleave",t),t(),R}static hide(e,t){e=e.getInjectionDiv().querySelector(`.${Bo}`),e instanceof HTMLElement&&(!t||t===e.dataset.toastId)&&e.remove()}};ao.shownIds=new Set,(function(e){e=e.Assertiveness||(e.Assertiveness={}),e.ASSERTIVE="assertive",e.POLITE="polite"})(ao||(ao={})),dn(`
.${Bo} {
  font-size: 1.2rem;
  position: absolute;
  bottom: -10rem;
  right: 2rem;
  padding: 1rem;
  color: black;
  background-color: white;
  border: 2px solid black;
  border-radius: 0.4rem;
  z-index: 999;
  display: flex;
  align-items: center;
  gap: 0.8rem;
  line-height: 1.5;
  transition: bottom 0.3s ease-out;
}

.${Bo} .${_c} {
  maxWidth: 18rem;
}

.${Bo} .${E1} {
  margin: 0;
  padding: 0.2rem;
  background-color: transparent;
  color: black;
  border: none;
  cursor: pointer;
}
`);var Ud=function(e,t){window.alert(e),t&&t()},wh=Ud,u2=function(e,t){t(window.confirm(e))},Sh=u2,xh=function(e,t,s){s(window.prompt(e,t))},qa=xh,uo=ao.show.bind(ao),Xa=uo,vl={};vl.alert=ge,vl.confirm=At,vl.prompt=hn,vl.setAlert=pt,vl.setConfirm=Tt,vl.setPrompt=qt,vl.setToast=Sn,vl.toast=nn;var da=new Set,Hd={};Hd.warn=Pn;var kh="VARIABLE",Gd="ijkmnopqrstuvwxyzabcdefgh",w1={generateUniqueNameInternal:li},As={CATEGORY_NAME:kh,TEST_ONLY:w1,VAR_LETTER_OPTIONS:Gd};As.allDeveloperVariables=n.allDeveloperVariables$$module$build$src$core$variables,As.allUsedVarModels=n.allUsedVarModels$$module$build$src$core$variables,As.compareByName=Yt,As.createVariableButtonHandler=zi,As.deleteVariable=n.deleteVariable$$module$build$src$core$variables,As.flyoutCategory=Dr,As.flyoutCategoryBlocks=rs,As.generateUniqueName=Fn,As.generateUniqueNameFromOptions=Ai,As.generateVariableFieldDom=ni,As.getAddedVariables=_o,As.getOrCreateVariablePackage=n.getOrCreateVariablePackage$$module$build$src$core$variables,As.getVariable=n.getVariable$$module$build$src$core$variables,As.getVariableUsesById=Ii,As.internalFlyoutCategory=Kn,As.jsonFlyoutCategoryBlocks=ei,As.nameUsedWithAnyType=Wn,As.nameUsedWithConflictingParam=Yr,As.promptName=Qi,As.renameVariable=n.renameVariable$$module$build$src$core$variables;var ko=class extends Error{},c2=class extends ko{constructor(e){super("Expected to find a 'type' property, defining the block type"),this.state=e}},Co=class extends ko{constructor(e,t,s){super(`The block ${t.toDevString()} is missing a(n) ${e}
connection`),this.block=t,this.state=s}},h2=class extends ko{constructor(e,t,s,u){super(`The block ${s.toDevString()} could not connect its
${t} to its parent, because: ${e}`),this.childBlock=s,this.childState=u}},d2=class extends ko{constructor(e){super(`Encountered a real block which is defined as a child of a shadow
block. It is an invariant of Blockly that shadow blocks only have shadow
children`),this.state=e}},C3=class extends ko{constructor(e,t,s){super(`Cannot add an icon of type '${e}' to the block ${t.toDevString()}, because there is no icon registered with type '${e}'. Make sure that all of your icons have been registered.`),this.block=t,this.state=s}},yl={};yl.BadConnectionCheck=h2,yl.DeserializationError=ko,yl.MissingBlockType=c2,yl.MissingConnection=Co,yl.RealChildOfShadow=d2,yl.UnregisteredIcon=C3;var Ch=class{constructor(){this.priority=Ld}save(e){const t=[];for(const s of e.getTopBlocks(!1))(e=qi(s,{addCoordinates:!0,doFullSerialization:!1}))&&t.push(e);return t.length?{languageVersion:0,blocks:t}:null}load(e,t){e=e.blocks;for(const s of e)Nl(s,t,{recordUndo:It()})}clear(e){for(const t of e.getTopBlocks(!1))t.dispose(!1)}};Ir("blocks",new Ch);var Ec={};Ec.BlockSerializer=Ch,Ec.append=Nl,Ec.appendInternal=Ol,Ec.save=qi;var _s=class{constructor(e){this.name=e}toString(){return this.name}equals(e){return this.name===e.toString()}};_s.MUTATOR=new _s("mutator"),_s.WARNING=new _s("warning"),_s.COMMENT=new _s("comment");var _u=class extends la{constructor(e){super(),this.isBlank=!e,e&&(this.blockId=e.id,this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new _u),t.blockId=e.blockId,t}},Eu=class extends _u{constructor(e,t,s,u,v){super(e),this.type=mt.BLOCK_CHANGE,e&&(this.element=t,this.name=s||void 0,this.oldValue=u,this.newValue=v)}toJson(){const e=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,this.disabledReason&&(e.disabledReason=this.disabledReason),e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new Eu),t.element=e.element,t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,e.disabledReason!==void 0&&(t.disabledReason=e.disabledReason),t}setDisabledReason(e){if(this.element!=="disabled")throw Error('Cannot set the disabled reason for a BlockChange event if the element is not "disabled".');this.disabledReason=e}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(t=t.getBlockById(this.blockId),!t)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");const s=t.getIcon(_s.MUTATOR);switch(s&&g0(s)&&s.bubbleIsVisible()&&s.setBubbleVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":t.setCommentText(e||null);break;case"collapsed":t.setCollapsed(!!e);break;case"disabled":var u;t.setDisabledReason(!!e,(u=this.disabledReason)!=null?u:fr);break;case"inline":t.setInputsInline(!!e);break;case"mutation":u=Eu.getExtraBlockState_(t),t.loadExtraState?t.loadExtraState(JSON.parse(e||"{}")):t.domToMutation&&t.domToMutation(n.textToDom$$module$build$src$core$utils$xml(e||"<mutation/>")),le(new Eu(t,"mutation",null,u,e));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(e){return e.saveExtraState?(e=e.saveExtraState(!0))?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?ts(e):""}};a(Ut.EVENT,mt.BLOCK_CHANGE,Eu);var Ah={};Ah.clamp=b0,Ah.toDegrees=Kc,Ah.toRadians=$0;var Ih=16,Mh=1,Vd=12,f2=16,Wd=.25,p2=null,wu=null,m2="",wc="",cs,S1,Su,qd=null,ja=null,g2=null,Rh=null,Sc=null,Xd={getBoundsInfo:function(){const e=L(qd),t=Sr(qd);return{left:e.x,right:e.x+t.width,top:e.y,bottom:e.y+t.height,width:t.width,height:t.height}},getPositionMetrics:function(e,t,s,u){const v=Xd.getBoundsInfo(),R=Sr(cs);return t+R.height<v.bottom?Ia(e,t,v,R):u-R.height>v.top?lu(s,u,v,R):t+R.height<document.documentElement.clientHeight?Ia(e,t,v,R):u-R.height>document.documentElement.clientTop?lu(s,u,v,R):cl(e,v,R)}},Po={ANIMATION_TIME:Wd,ARROW_HORIZONTAL_PADDING:Vd,ARROW_SIZE:Ih,BORDER_SIZE:Mh,PADDING_Y:f2,TEST_ONLY:Xd};Po.clearContent=Ll,Po.createDom=ka,Po.getContentDiv=v0,Po.getOwner=Qu,Po.getPositionX=y,Po.hide=ve,Po.hideIfOwner=se,Po.hideWithoutAnimation=Ne,Po.isVisible=M,Po.repositionForWindowResize=at,Po.setBoundsElement=W0,Po.setColour=ec,Po.show=Dl,Po.showPositionedByBlock=tc,Po.showPositionedByField=ou;var bi={};bi.commonWordPrefix=Vt,bi.commonWordSuffix=Xt,bi.isNumber=n.isNumber$$module$build$src$core$utils$string,bi.shortestStringLength=St,bi.wrap=n.wrap$$module$build$src$core$utils$string;var x1=void 0,Nh=!1,xc=!1,A3=50,I3=0,kc=0,k1=0,xu=0,Tl=null,ku=null,Oh=0,fa=10,L0=10,C1=750,jd=5,eo=null,_l={HOVER_MS:C1,LIMIT:A3,MARGINS:jd,OFFSET_X:Oh,OFFSET_Y:fa,RADIUS_OK:L0};_l.bindMouseEvents=or,_l.block=Pr,_l.createDom=Mr,_l.dispose=Jr,_l.getCustomTooltip=er,_l.getDiv=Br,_l.getTooltipOfObject=en,_l.hide=Ti,_l.isVisible=yr,_l.setCustomTooltip=Gn,_l.unbindMouseEvents=Xr,_l.unblock=Ui;var Yd=.45,Kd=.65,M3={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},El={};El.blend=ro,El.getHsvSaturation=po,El.getHsvValue=Cr,El.hexToRgb=es,El.hsvToHex=hl,El.hueToHex=mo,El.names=M3,El.parse=de,El.rgbToHex=wi,El.setHsvSaturation=ks,El.setHsvValue=os;var A1={};A1.checkMessageReferences=Js,A1.parseBlockColour=Mi,A1.replaceMessageReferences=lr,A1.tokenizeInterpolation=ls;var Li=class{get size_(){return this.size}set size_(e){this.size=e}constructor(e,t,s){this.DEFAULT_VALUE=null,this.name=void 0,this.tooltip=this.validator_=null,this.size=new _r(0,0),this.constants_=this.mouseDownWrapper=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.id_=null,this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new _r(0,0),e!==Li.SKIP_SETUP&&(s&&this.configure_(s),this.setValue(e),t&&this.setValidator(t))}configure_(e){e.tooltip&&this.setTooltip(lr(e.tooltip))}setSourceBlock(e){if(this.sourceBlock_)throw Error("Field already bound to a block");if(this.sourceBlock_=e,e.id.includes("_field"))throw Error(`Field ID indicator is contained in block ID. This may cause problems with focus: ${e.id}.`);this.id_=`${e.id}_field_${Je()}`}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){if(!this.fieldGroup_){var e=this.id_;if(!e)throw Error("Expected ID to be defined prior to init.");this.fieldGroup_=dt(ht.G,{id:e}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip),this.bindEvents_(),this.initModel(),this.applyColour()}}initView(){this.createBorderRect_(),this.createTextElement_(),this.fieldGroup_&&tn(this.fieldGroup_,"blocklyField")}initModel(){}isFullBlockField(){return!this.borderRect_}createBorderRect_(){this.borderRect_=dt(ht.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=dt(ht.TEXT,{class:"blocklyText blocklyFieldText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){const e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");or(e),this.mouseDownWrapper=ie(e,"pointerdown",this,this.onMouseDown_)}fromXml(e){this.setValue(e.textContent)}toXml(e){return e.textContent=this.getValue(),e}saveState(e){return e=this.saveLegacyState(Li),e!==null?e:this.getValue()}loadState(e){this.loadLegacyState(Li,e)||this.setValue(e)}saveLegacyState(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?(e=n.createElement$$module$build$src$core$utils$xml("field"),e.setAttribute("name",this.name||""),st(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(e,t){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml?(this.fromXml(n.textToDom$$module$build$src$core$utils$xml(t)),!0):!1}dispose(){se(this),Pl(this);let e;(e=this.getSourceBlock())!=null&&e.isDeadOrDying()||on(this.fieldGroup_),this.disposed=!0}updateEditable(){const e=this.fieldGroup_,t=this.getSourceBlock();this.EDITABLE&&e&&t&&(this.enabled_&&t.isEditable()?(tn(e,"blocklyEditableField"),Zn(e,"blocklyNonEditableField")):(tn(e,"blocklyNonEditableField"),Zn(e,"blocklyEditableField")))}setEnabled(e){this.enabled_=e,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==Li.prototype.showEditor_}isClickableInFlyout(e){return!e}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}isVisible(){return this.visible_}setVisible(e){if(this.visible_!==e){this.visible_=e;var t=this.fieldGroup_;t&&(t.style.display=e?"block":"none")}}setValidator(e){this.validator_=e}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(e){this.isClickable()&&this.showEditor_(e)}showEditor_(e){}repositionForWindowResize(){return!1}updateSize_(e){const t=this.getConstants();e=e!==void 0?e:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let s=e*2,u=t.FIELD_TEXT_HEIGHT,v=0;this.textElement_&&(v=yi(this.textElement_),s+=v),this.isFullBlockField()||(u=Math.max(u,t.FIELD_BORDER_RECT_HEIGHT)),this.size_=new _r(s,u),this.positionTextElement_(e,v),this.positionBorderRect_()}positionTextElement_(e,t){if(this.textElement_){var s=this.getConstants(),u=this.size_.height/2,v;this.textElement_.setAttribute("x",String((v=this.getSourceBlock())!=null&&v.RTL?this.size_.width-t-e:e)),this.textElement_.setAttribute("y",String(s.FIELD_TEXT_BASELINE_CENTER?u:u-s.FIELD_TEXT_HEIGHT/2+s.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){return this.isVisible()?(this.isDirty_&&(this.render_(),this.isDirty_=!1),this.size_):new _r(0,0)}getScaledBBox(){let e;var t=this.getSourceBlock();if(!t)throw new Ws;if(this.isFullBlockField()){var s=this.sourceBlock_.getHeightWidth();const u=t.workspace.scale;e=this.getAbsoluteXY_(),t=(s.width+1)*u,s=(s.height+1)*u,gh?(e.x+=1.5*u,e.y+=1.5*u):(e.x-=.5*u,e.y-=.5*u)}else s=this.borderRect_.getBoundingClientRect(),e=L(this.borderRect_),t=s.width,s=s.height;return new $r(e.y,e.y+s,e.x,e.x+t)}onLocationChange(e){}getDisplayText_(){let e=this.getText();return e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+""),e=e.replace(/\s/g,Li.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+=""),e}getText(){const e=this.getText_();return String(e!==null?e:this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&this.sourceBlock_.queueRender()}setValue(e,t=!0){if(e!==null){var s=n.getGroup$$module$build$src$core$events$utils();s||n.setGroup$$module$build$src$core$events$utils(!0);try{const Bt=this.doClassValidation_(e),zn=this.processValidation(e,Bt,t);if(!(zn instanceof Error)){var u,v=(u=this.getValidator())==null?void 0:u.call(this,zn),R=this.processValidation(zn,v,t);if(!(R instanceof Error)){var ee=this.sourceBlock_;if(!ee||!ee.disposed){var Me=this.getValue();Me===R?this.doValueUpdate_(R):(this.doValueUpdate_(R),t&&ee&&sn()&&le(new(an(mt.BLOCK_CHANGE))(ee,"field",this.name||null,Me,R)),this.isDirty_&&this.forceRerender())}}}}finally{n.setGroup$$module$build$src$core$events$utils(s)}}}processValidation(e,t,s){return t===null?(this.doValueInvalid_(e,s),this.isDirty_&&this.forceRerender(),Error()):t===void 0?e:t}getValue(){return this.value_}doClassValidation_(e){return e??null}doValueUpdate_(e){this.value_=e,this.isDirty_=!0}doValueInvalid_(e,t){}onMouseDown_(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}setTooltip(e){e||e===""||(e=this.sourceBlock_);const t=this.getClickTarget_();t?t.tooltip=e:this.tooltip=e}getTooltip(){const e=this.getClickTarget_();return en(e||{tooltip:this.tooltip})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return L(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let e=null;const t=this.getSourceBlock();if(!t)throw new Ws;const s=t.inputList;for(let u=0;u<t.inputList.length;u++){const v=s[u],R=v.fieldRow;for(let ee=0;ee<R.length;ee++)if(R[ee]===this){e=v;break}}return e}getFlipRtl(){return!1}onShortcut(e){return!1}getFocusableElement(){if(!this.fieldGroup_)throw Error("This field currently has no representative DOM element.");return this.fieldGroup_}getFocusableTree(){const e=this.getSourceBlock();if(!e)throw new Ws;return e.workspace}onNodeFocus(){const e=this.getSourceBlock();e.workspace.scrollBoundsIntoView(e.getBoundingRectangleWithoutChildren())}onNodeBlur(){}canBeFocused(){return!0}static fromJson(e){throw Error("Attempted to instantiate a field from the registry that hasn't defined a 'fromJson' method.")}};Li.NBSP="",Li.SKIP_SETUP=Symbol("SKIP_SETUP");var Ws=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}},Cu=null,Jd=null,Zd=null,$2="blocklyWidgetDiv",pa="",I1="",wl,zr=null,ql={};ql.createDom=Bl,ql.getDiv=go,ql.hide=Jo,ql.hideIfOwner=Pl,ql.hideIfOwnerIsInWorkspace=dl,ql.isVisible=nc,ql.positionWithAnchor=Eo,ql.repositionForWindowResize=X0,ql.show=y0,ql.testOnly_setDiv=r0;var Cc=null,Qd={},Lh=null,Ya={};Ya.callbackFactory=n.callbackFactory$$module$build$src$core$contextmenu,Ya.dispose=sc,Ya.getCurrentBlock=T0,Ya.hide=zl,Ya.setCurrentBlock=au,Ya.show=j0;var wr=class{constructor(){this.registeredItems=new Map,this.reset()}reset(){this.registeredItems.clear()}register(e){if(this.registeredItems.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registeredItems.set(e.id,e)}unregister(e){if(!this.registeredItems.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registeredItems.delete(e)}getItem(e){let t;return(t=this.registeredItems.get(e))!=null?t:null}getContextMenuOptions(e,t){const s=[];for(const u of this.registeredItems.values()){if(u.scopeType&&(u.scopeType===M1.BLOCK&&!e.block||u.scopeType===M1.COMMENT&&!e.comment||u.scopeType===M1.WORKSPACE&&!e.workspace))continue;let v;if(v={scope:e,weight:u.weight},u.separator)v=Object.assign({},v,{separator:!0});else{const R=u.preconditionFn(e,t);if(R==="hidden")continue;const ee=typeof u.displayText=="function"?u.displayText(e):u.displayText;v=Object.assign({},v,{text:ee,callback:u.callback,enabled:R==="enabled"})}s.push(v)}return s.sort(function(u,v){return u.weight-v.weight}),s}};(function(e){var t=e.ScopeType||(e.ScopeType={});t.BLOCK="block",t.WORKSPACE="workspace",t.COMMENT="comment",e.registry=new e})(wr||(wr={}));var M1=wr.ScopeType,Au=50,Dh=100,X5={BLOCK:Au,BUBBLE:Dh},R3=class{constructor(e){this.comment=e,this.startLoc=null,this.workspace=e.workspace}isMovable(){return this.comment.isOwnMovable()&&!this.comment.isDeadOrDying()&&!this.workspace.isReadOnly()}startDrag(){this.fireDragStartEvent(),this.startLoc=this.comment.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.comment),this.comment.setDragging(!0)}drag(e){this.comment.moveDuringDrag(e)}endDrag(){this.fireDragEndEvent(),this.fireMoveEvent();let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.comment,Au),this.comment.setDragging(!1),this.comment.snapToGrid(),this.workspace.setResizesEnabled(!0)}fireDragStartEvent(){const e=new(an(mt.COMMENT_DRAG))(this.comment,!0);le(e)}fireDragEndEvent(){const e=new(an(mt.COMMENT_DRAG))(this.comment,!1);le(e)}fireMoveEvent(){if(!this.comment.isDeadOrDying()){var e=new(an(mt.COMMENT_MOVE))(this.comment);e.setReason(["drag"]),e.oldCoordinate_=this.startLoc,e.recordNew(),le(e)}}revertDrag(){this.startLoc&&this.comment.moveDuringDrag(this.startLoc)}},b2=new WeakMap,Bh=class{constructor(e,t,s,u){this.id=e,this.workspace=t,this.container=s,this.commentView=u}isVisible(){return this.icon.checkVisibility()}getCommentView(){return this.commentView}getSize(e=!1){var t=this.icon.getBBox();return t=$r.from(t),e&&(e=this.getMargin(),t.left-=e,t.top-=e,t.bottom+=e,t.right+=e),t}getMargin(){return(this.container.getBBox().height-this.icon.getBBox().height)/2}getFocusableElement(){return this.icon}getFocusableTree(){return this.workspace}onNodeFocus(){const e=this.getCommentView();var t=e.getRelativeToSurfaceXY();const s=e.getSize();t=new $r(t.y,t.y+s.height,t.x,t.x+s.width),e.workspace.scrollBoundsIntoView(t)}onNodeBlur(){}canBeFocused(){return this.isVisible()}},Ki="_collapse_bar_button",e4=class extends Bh{constructor(e,t,s,u){super(e,t,s,u),this.id=e,this.workspace=t,this.container=s,this.commentView=u,this.icon=dt(ht.IMAGE,{class:"blocklyFoldoutIcon",href:`${this.workspace.options.pathToMedia}foldout-icon.svg`,id:`${this.id}${Ki}`},this.container),this.bindId=ie(this.icon,"pointerdown",this,this.performAction.bind(this))}dispose(){Ie(this.bindId)}reposition(){const e=this.getMargin();this.icon.setAttribute("y",`${e}`),this.icon.setAttribute("x",`${e}`)}performAction(e){Z(),this.getCommentView().bringToFront(),e&&e instanceof PointerEvent&&Te(e)?e.stopPropagation():(this.getCommentView().setCollapsed(!this.getCommentView().isCollapsed()),this.workspace.hideChaff(),e?.stopPropagation())}},vo="_comment_textarea_",t4=class{constructor(e,t,s){this.workspace=e,this.onFinishEditing=s,this.textChangeListeners=[],this.text="",this.foreignObject=dt(ht.FOREIGNOBJECT,{class:"blocklyCommentForeignObject"}),e=document.createElementNS(Ua,"body"),e.setAttribute("xmlns",Ua),e.className="blocklyMinimalBody",this.textArea=document.createElementNS(Ua,"textarea"),this.textArea.setAttribute("tabindex","-1"),this.textArea.setAttribute("dir",this.workspace.RTL?"RTL":"LTR"),tn(this.textArea,"blocklyCommentText"),tn(this.textArea,"blocklyTextarea"),tn(this.textArea,"blocklyText"),e.appendChild(this.textArea),this.foreignObject.appendChild(e),t&&(this.id=t+vo,this.textArea.setAttribute("id",this.id)),ie(this.textArea,"change",this,this.onTextChange),ie(this.textArea,"pointerdown",this,u=>{u.stopPropagation(),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this),Z()}),ie(this.textArea,"wheel",this,u=>{u.stopPropagation()}),ie(this.textArea,"keydown",this,this.handleKeyDown)}getDom(){return this.foreignObject}getText(){return this.text}setText(e){this.textArea.value=e,this.onTextChange()}onTextChange(){const e=this.text;this.text=this.textArea.value;for(let t=this.textChangeListeners.length-1;t>=0;t--)this.textChangeListeners[t](e,this.text)}handleKeyDown(e){(e.key==="Escape"||e.key==="Enter"&&(e.ctrlKey||e.metaKey))&&(this.onFinishEditing&&this.onFinishEditing(),e.stopPropagation())}addTextChangeListener(e){this.textChangeListeners.push(e)}removeTextChangeListener(e){this.textChangeListeners.splice(this.textChangeListeners.indexOf(e),1)}setPlaceholderText(e){this.textArea.placeholder=e}setEditable(e){e?this.textArea.removeAttribute("readonly"):this.textArea.setAttribute("readonly","true")}updateSize(e,t){this.foreignObject.setAttribute("height",`${e.height-t.height}`),this.foreignObject.setAttribute("width",`${e.width}`),this.foreignObject.setAttribute("y",`${t.height}`),this.workspace.RTL&&this.foreignObject.setAttribute("x",`${-e.width}`)}getFocusableElement(){return this.textArea}getFocusableTree(){return this.workspace}onNodeFocus(){const e=$r.from(this.foreignObject.getBoundingClientRect());this.workspace.scrollBoundsIntoView($r.createFromPoint(Ee(this.workspace,e.getOrigin()),e.getWidth(),e.getHeight()))}onNodeBlur(){}canBeFocused(){return!!this.id}},v2="_delete_bar_button",N3=class extends Bh{constructor(e,t,s,u){super(e,t,s,u),this.id=e,this.workspace=t,this.container=s,this.commentView=u,this.icon=dt(ht.IMAGE,{class:"blocklyDeleteIcon",href:`${this.workspace.options.pathToMedia}delete-icon.svg`,id:`${this.id}${v2}`},s),this.bindId=ie(this.icon,"pointerdown",this,this.performAction.bind(this))}dispose(){Ie(this.bindId)}reposition(){const e=this.getMargin();this.icon.setAttribute("x","0");const t=this.container.getBBox();this.icon.setAttribute("y",`${e}`),this.icon.setAttribute("x",`${t.width-this.getSize(!0).getWidth()}`)}performAction(e){Z(),e&&e instanceof PointerEvent&&Te(e)?e.stopPropagation():(this.getCommentView().dispose(),e?.stopPropagation(),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.workspace))}},Ac=class{constructor(e,t){this.workspace=e,this.commentId=t,this.collapsed=!1,this.editable=!0,this.location=new Wt(0,0),this.sizeChangeListeners=[],this.disposeListeners=[],this.collapseChangeListeners=[],this.resizePointerMoveListener=this.resizePointerUpListener=null,this.disposed=this.disposing=!1,this.svgRoot=dt(ht.G,{class:"blocklyComment blocklyEditable blocklyDraggable"}),this.highlightRect=this.createHighlightRect(this.svgRoot),{topBarGroup:this.topBarGroup,topBarBackground:this.topBarBackground,deleteButton:this.deleteButton,foldoutButton:this.foldoutButton,textPreview:this.textPreview,textPreviewNode:this.textPreviewNode}=this.createTopBar(this.svgRoot),this.commentEditor=this.createTextArea(),this.resizeHandle=this.createResizeHandle(this.svgRoot,e);let s;(s=e.getLayerManager())==null||s.append(this,Au),this.size=Ac.defaultCommentSize,this.setSizeWithoutFiringEvents(this.size),this.moveTo(new Wt(0,0))}createHighlightRect(e){return dt(ht.RECT,{class:"blocklyCommentHighlight"},e)}createTopBar(e){e=dt(ht.G,{class:"blocklyCommentTopbar"},e);const t=dt(ht.RECT,{class:"blocklyCommentTopbarBackground"},e),s=new N3(this.commentId,this.workspace,e,this),u=new e4(this.commentId,this.workspace,e,this);this.addDisposeListener(()=>{s.dispose(),u.dispose()});const v=dt(ht.TEXT,{class:"blocklyCommentPreview blocklyCommentText blocklyText"},e),R=document.createTextNode("");return v.appendChild(R),{topBarGroup:e,topBarBackground:t,deleteButton:s,foldoutButton:u,textPreview:v,textPreviewNode:R}}createTextArea(){const e=new t4(this.workspace,this.commentId,()=>this.svgRoot.focus());return this.svgRoot.appendChild(e.getDom()),e.addTextChangeListener((t,s)=>{this.updateTextPreview(s),this.setSize(this.size)}),e}getEditorFocusableNode(){return this.commentEditor}createResizeHandle(e,t){return e=dt(ht.IMAGE,{class:"blocklyResizeHandle",href:`${t.options.pathToMedia}resize-handle.svg`},e),ie(e,"pointerdown",this,this.onResizePointerDown),e}getSvgRoot(){return this.svgRoot}getSize(){return this.collapsed?this.topBarBackground.getBBox():this.size}setSizeWithoutFiringEvents(e){const t=this.topBarBackground.getBBox(),s=this.textPreview.getBBox(),u=this.resizeHandle.getBBox();this.size=e=_r.max(e,this.calcMinSize(t)),this.svgRoot.setAttribute("height",`${e.height}`),this.svgRoot.setAttribute("width",`${e.width}`),this.updateHighlightRect(e),this.updateTopBarSize(e),this.commentEditor.updateSize(e,t),this.deleteButton.reposition(),this.foldoutButton.reposition(),this.updateTextPreviewSize(e,t,s),this.updateResizeHandlePosition(e,u)}setSize(e){const t=this.preResizeSize||this.size;this.setSizeWithoutFiringEvents(e),this.onSizeChange(t,this.size)}calcMinSize(e){var t;this.updateTextPreview((t=this.commentEditor.getText())!=null?t:"");let s=t=yi(this.textPreview);return this.foldoutButton.isVisible()?s+=this.foldoutButton.getSize(!0).getWidth():t&&(s+=4),this.deleteButton.isVisible()?s+=this.deleteButton.getSize(!0).getWidth():t&&(s+=4),new _r(s,e.height+20)}updateHighlightRect(e){this.highlightRect.setAttribute("height",`${e.height}`),this.highlightRect.setAttribute("width",`${e.width}`),this.workspace.RTL&&this.highlightRect.setAttribute("x",`${-e.width}`)}updateTopBarSize(e){this.topBarBackground.setAttribute("width",`${e.width}`)}updateTextPreviewSize(e,t,s){t=(t.height-s.height)/2;const u=this.foldoutButton.getSize(!0),v=this.deleteButton.getSize(!0);e=e.width-u.getWidth()-v.getWidth(),this.textPreview.setAttribute("x",`${(this.workspace.RTL?-1:1)*u.getWidth()}`),this.textPreview.setAttribute("y",`${t+s.height/2}`),this.textPreview.setAttribute("width",`${e}`)}updateResizeHandlePosition(e,t){this.resizeHandle.setAttribute("y",`${e.height-t.height}`),this.resizeHandle.setAttribute("x",`${e.width-t.width}`)}onSizeChange(e,t){for(let s=this.sizeChangeListeners.length-1;s>=0;s--)this.sizeChangeListeners[s](e,t)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}removeSizeChangeListener(e){this.sizeChangeListeners.splice(this.sizeChangeListeners.indexOf(e),1)}onResizePointerDown(e){this.isEditable()&&(this.bringToFront(),Te(e)||(this.preResizeSize=this.getSize(),wo(this.workspace,e,new Wt(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=ie(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=ie(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation())}onResizePointerUp(e){Z(),this.resizePointerUpListener&&(Ie(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(Ie(this.resizePointerMoveListener),this.resizePointerMoveListener=null),this.setSize(this.size),this.preResizeSize=void 0}onResizePointerMove(e){e=Wo(this.workspace,e),this.setSizeWithoutFiringEvents(new _r(this.workspace.RTL?-e.x:e.x,e.y))}isCollapsed(){return this.collapsed}setCollapsed(e){(this.collapsed=e)?tn(this.svgRoot,"blocklyCollapsed"):Zn(this.svgRoot,"blocklyCollapsed"),this.setSizeWithoutFiringEvents(this.size),this.onCollapse()}onCollapse(){for(let e=this.collapseChangeListeners.length-1;e>=0;e--)this.collapseChangeListeners[e](this.collapsed)}addOnCollapseListener(e){this.collapseChangeListeners.push(e)}removeOnCollapseListener(e){this.collapseChangeListeners.splice(this.collapseChangeListeners.indexOf(e),1)}isEditable(){return this.editable}setEditable(e){(this.editable=e)?(tn(this.svgRoot,"blocklyEditable"),Zn(this.svgRoot,"blocklyReadonly")):(Zn(this.svgRoot,"blocklyEditable"),tn(this.svgRoot,"blocklyReadonly")),this.commentEditor.setEditable(e)}getRelativeToSurfaceXY(){return this.location}moveTo(e){this.location=e,this.svgRoot.setAttribute("transform",`translate(${e.x}, ${e.y})`)}getText(){return this.commentEditor.getText()}setText(e){this.commentEditor.setText(e)}setPlaceholderText(e){this.commentEditor.setPlaceholderText(e)}addTextChangeListener(e){this.commentEditor.addTextChangeListener(e)}removeTextChangeListener(e){this.commentEditor.removeTextChangeListener(e)}updateTextPreview(e){this.textPreviewNode.textContent=this.truncateText(e)}truncateText(e){return e.length>=12?`${e.substring(0,9)}...`:e}bringToFront(){const e=this.svgRoot.parentNode,t=e.childNodes;t[t.length-1]!==this.svgRoot&&e.appendChild(this.svgRoot)}onDeleteDown(e){Z(),Te(e)||this.dispose(),e.stopPropagation()}dispose(){this.disposing=!0,on(this.svgRoot);for(let e=this.disposeListeners.length-1;e>=0;e--)this.disposeListeners[e]();this.disposeListeners.length=0,this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}addDisposeListener(e){this.disposeListeners.push(e)}removeDisposeListener(e){this.disposeListeners.splice(this.disposeListeners.indexOf(e),1)}getCommentBarButtons(){return[this.foldoutButton,this.deleteButton]}};Ac.defaultCommentSize=new _r(120,100),dn(`
.injectionDiv {
  --commentFillColour: #FFFCC7;
  --commentBorderColour: #F2E49B;
}

.blocklyComment .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 1px solid var(--commentBorderColour);
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}

.blocklyReadonly.blocklyComment .blocklyTextarea {
  cursor: inherit;
}

.blocklyDeleteIcon {
  width: 20px;
  height: 20px;
  display: none;
  cursor: pointer;
}

.blocklyFoldoutIcon {
  width: 20px;
  height: 20px;
  transform-origin: 12px 12px;
  cursor: pointer;
}
.blocklyResizeHandle {
  width: 12px;
  height: 12px;
  cursor: se-resize;
}
.blocklyReadonly.blocklyComment .blocklyResizeHandle {
  cursor: inherit;
}

.blocklyCommentTopbarBackground {
  fill: var(--commentBorderColour);
  height: 24px;
}

.blocklyComment .blocklyCommentPreview.blocklyText {
  fill: #000;
  dominant-baseline: middle;
  visibility: hidden;
}

.blocklyCollapsed.blocklyComment .blocklyCommentPreview {
  visibility: visible;
}

.blocklyCollapsed.blocklyComment .blocklyCommentForeignObject,
.blocklyCollapsed.blocklyComment .blocklyResizeHandle {
  display: none;
}

.blocklyCollapsed.blocklyComment .blocklyFoldoutIcon {
  transform: rotate(-90deg);
}

.blocklyRTL .blocklyCommentTopbar {
  transform: scale(-1, 1);
}

.blocklyRTL .blocklyCommentForeignObject {
  direction: rtl;
}

.blocklyRTL .blocklyCommentPreview {
  /* Revert the scale and control RTL using direction instead. */
  transform: scale(-1, 1);
  direction: rtl;
}

.blocklyRTL .blocklyResizeHandle {
  transform: scale(-1, 1);
  cursor: sw-resize;
}

.blocklyCommentHighlight {
  fill: none;
}

.blocklyCommentText.blocklyActiveFocus {
  border-color: #fc3;
  border-width: 2px;
}

.blocklySelected .blocklyCommentHighlight {
  stroke: #fc3;
  stroke-width: 3px;
}

.blocklyCollapsed.blocklySelected .blocklyCommentHighlight {
  stroke: none;
}

.blocklyCollapsed.blocklySelected .blocklyCommentTopbarBackground {
  stroke: #fc3;
  stroke-width: 3px;
}
`);var R1=class{constructor(e,t){this.workspace=e,this.text="",this.collapsed=!1,this.deletable=this.movable=this.editable=!0,this.location=new Wt(0,0),this.disposing=this.disposed=!1,this.id=t&&!e.getCommentById(t)?t:Xe(),this.size=Ac.defaultCommentSize,e.addTopComment(this),this.fireCreateEvent()}fireCreateEvent(){sn()&&le(new(an(mt.COMMENT_CREATE))(this))}fireDeleteEvent(){sn()&&le(new(an(mt.COMMENT_DELETE))(this))}fireChangeEvent(e,t){sn()&&le(new(an(mt.COMMENT_CHANGE))(this,e,t))}fireCollapseEvent(e){sn()&&le(new(an(mt.COMMENT_COLLAPSE))(this,e))}setText(e){const t=this.text;this.text=e,this.fireChangeEvent(t,e)}getText(){return this.text}setSize(e){const t=new(an(mt.COMMENT_RESIZE))(this);this.size=e,t.recordCurrentSizeAsNewSize(),le(t)}getSize(){return this.size}setCollapsed(e){this.collapsed=e,this.fireCollapseEvent(e)}isCollapsed(){return this.collapsed}setEditable(e){this.editable=e}isEditable(){return this.isOwnEditable()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setMovable(e){this.movable=e}isMovable(){return this.isOwnMovable()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnMovable(){return this.movable}setDeletable(e){this.deletable=e}isDeletable(){return this.isOwnDeletable()&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnDeletable(){return this.deletable}moveTo(e,t){const s=new(an(mt.COMMENT_MOVE))(this);t&&s.setReason(t),this.location=e,s.recordNew(),le(s)}getRelativeToSurfaceXY(){return this.location}dispose(){this.disposing=!0,this.fireDeleteEvent(),this.workspace.removeTopComment(this),this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}},u0=class extends R1{constructor(e,t){super(e,t),this.dragStrategy=new R3(this),this.workspace=e,this.view=new Ac(e,this.id),this.view.setSize(this.getSize()),this.view.setEditable(this.isEditable()),this.view.getSvgRoot().setAttribute("data-id",this.id),this.view.getSvgRoot().setAttribute("id",this.id),this.addModelUpdateBindings(),ie(this.view.getSvgRoot(),"pointerdown",this,this.startGesture)}addModelUpdateBindings(){this.view.addTextChangeListener((e,t)=>void super.setText(t)),this.view.addSizeChangeListener((e,t)=>void super.setSize(t)),this.view.addOnCollapseListener(()=>void super.setCollapsed(this.view.isCollapsed())),this.view.addDisposeListener(()=>{this.isDeadOrDying()||this.dispose()})}setText(e){this.view.setText(e)}setPlaceholderText(e){this.view.setPlaceholderText(e)}setSize(e){this.view.setSize(e)}setCollapsed(e){this.view.setCollapsed(e)}setEditable(e){super.setEditable(e),this.view.setEditable(this.isEditable())}getSvgRoot(){return this.view.getSvgRoot()}getSize(){return super.getSize()}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY();var t,s;const u=(s=(t=this.view)==null?void 0:t.getSize())!=null?s:this.getSize();return this.workspace.RTL?(t=e.x-u.width,s=e.x):(t=e.x,s=e.x+u.width),new $r(e.y,e.y+u.height,t,s)}moveBy(e,t,s){const u=this.getRelativeToSurfaceXY();e=new Wt(u.x+e,u.y+t),this.moveTo(e,s)}moveTo(e,t){super.moveTo(e,t),this.view.moveTo(e)}moveDuringDrag(e){this.location=e,this.view.moveTo(e)}setDragging(e){e?tn(this.getSvgRoot(),"blocklyDragging"):Zn(this.getSvgRoot(),"blocklyDragging")}dispose(){this.disposing=!0;const e=n.getFocusManager$$module$build$src$core$focus_manager();e.getFocusedNode()===this&&setTimeout(()=>e.focusTree(this.workspace),0),this.view.isDeadOrDying()||this.view.dispose(),super.dispose()}startGesture(e){const t=this.workspace.getGesture(e);t&&(t.handleCommentStart(e,this),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this))}setDeleteStyle(e){e?tn(this.getSvgRoot(),"blocklyDraggingDelete"):Zn(this.getSvgRoot(),"blocklyDraggingDelete")}isCopyable(){return this.isOwnMovable()&&this.isOwnDeletable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){tn(this.getSvgRoot(),"blocklySelected"),Dt(this)}unselect(){Zn(this.getSvgRoot(),"blocklySelected"),Dt(null)}toCopyData(){return{paster:Va.TYPE,commentState:fe(this,{addCoordinates:!0,saveIds:!1})}}showContextMenu(e){const t=wr.registry.getContextMenuOptions({comment:this,focusedNode:this},e);let s;s=e instanceof PointerEvent?new Wt(e.clientX,e.clientY):Ue(this.workspace,this.getRelativeToSurfaceXY()).translate(10,10),j0(e,t,this.workspace.RTL,this.workspace,s)}snapToGrid(){if(!this.isDeadOrDying()){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var t=this.getRelativeToSurfaceXY();e=e.alignXY(t),e!==t&&this.moveTo(e,["snap"])}}}getEditorFocusableNode(){return this.view.getEditorFocusableNode()}getFocusableElement(){return this.getSvgRoot()}getFocusableTree(){return this.workspace}onNodeFocus(){this.select();let e;(e=this.workspace.getLayerManager())==null||e.append(this,Au),this.workspace.scrollBoundsIntoView(this.getBoundingRectangle())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}},Fo={};Fo.appendDomToWorkspace=Us,Fo.blockToDom=Ul,Fo.blockToDomWithXY=Lo,Fo.clearWorkspaceAndLoadFromXml=Hr,Fo.deleteNext=Gl,Fo.domToBlock=n.domToBlock$$module$build$src$core$xml,Fo.domToBlockInternal=s0,Fo.domToPrettyText=Xi,Fo.domToText=ts,Fo.domToVariables=o0,Fo.domToWorkspace=n.domToWorkspace$$module$build$src$core$xml,Fo.loadWorkspaceComment=E0,Fo.saveWorkspaceComment=qo,Fo.variablesToDom=Qo,Fo.workspaceToDom=i0;var n4=class extends _u{constructor(e){super(e),this.type=mt.BLOCK_CREATE,e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=Lo(e),this.ids=hr(e),this.json=qi(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=ts(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new n4),t.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),t.ids=e.ids,t.json=e.json,e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!y2(t,this.ids))if(e)Nl(this.json,t);else for(e=0;e<this.ids.length;e++){const s=this.ids[e],u=t.getBlockById(s);u?u.dispose(!1):s===this.blockId&&console.warn("Can't uncreate non-existent block: "+s)}}},y2=function(e,t){return t.map(s=>e.getBlockById(s)).filter(s=>s&&s.isShadow()).length===t.length};a(Ut.EVENT,mt.BLOCK_CREATE,n4);var Ph=class extends $i{constructor(e,t){super(t),this.type=mt.THEME_CHANGE,this.themeName=e}toJson(){const e=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new Ph),t.themeName=e.themeName,t}};a(Ut.EVENT,mt.THEME_CHANGE,Ph);var T2=class extends $i{constructor(e,t,s,u,v){super(u),this.type=mt.VIEWPORT_CHANGE,this.viewTop=e,this.viewLeft=t,this.scale=s,this.oldScale=v}toJson(){const e=super.toJson();if(this.viewTop===void 0)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(this.viewLeft===void 0)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(this.scale===void 0)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(this.oldScale===void 0)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new T2),t.viewTop=e.viewTop,t.viewLeft=e.viewLeft,t.scale=e.scale,t.oldScale=e.oldScale,t}};a(Ut.EVENT,mt.VIEWPORT_CHANGE,T2);var _2={fromJsonInternal:uu},r4={TEST_ONLY:_2};r4.fromJson=n.fromJson$$module$build$src$core$field_registry,r4.register=el,r4.unregister=S0;var Ao=class extends Li{constructor(e,t,s){super(Li.SKIP_SETUP),this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null,this.SERIALIZABLE=!0,this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null,e!==Li.SKIP_SETUP&&(this.setOptions(e),s&&this.configure_(s),t&&this.setValidator(t))}fromXml(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}loadState(e){this.loadLegacyState(Ao,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement=dt(ht.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&tn(this.borderRect_,"blocklyDropdownRect"),this.fieldGroup_&&(tn(this.fieldGroup_,"blocklyField"),tn(this.fieldGroup_,"blocklyDropdownField"))}shouldAddBorderRect_(){let e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!((e=this.getSourceBlock())!=null&&e.isShadow())}createTextArrow_(){this.arrow=dt(ht.TSPAN,{},this.textElement_);let e;this.arrow.appendChild(document.createTextNode((e=this.getSourceBlock())!=null&&e.RTL?Ao.ARROW_CHAR+" ":" "+Ao.ARROW_CHAR)),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.arrow.setAttribute("dominant-baseline","central");let t;(t=this.getSourceBlock())!=null&&t.RTL?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=dt(ht.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow.setAttributeNS(il,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(e){var t=this.getSourceBlock();if(!t)throw new Ws;this.dropdownCreate(),this.menu_&&(this.menu_.openingCoords=e&&typeof e.clientX=="number"?new Wt(e.clientX,e.clientY):null,Ll(),e=this.menu_.render(v0()),tn(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(t=t.getColour(),e=this.sourceBlock_.getColourTertiary(),ec(t,e)),ou(this,this.dropdownDispose_.bind(this)),v0().style.height=`${this.menu_.getSize().height}px`,this.menu_.focus(),this.selectedMenuItem&&this.menu_.setHighlighted(this.selectedMenuItem),this.applyColour())}dropdownCreate(){const e=this.getSourceBlock();if(!e)throw new Ws;const t=new a2;t.setRole(bl.LISTBOX),this.menu_=t;const s=this.getOptions(!1);this.selectedMenuItem=null;for(let v=0;v<s.length;v++){var u=s[v];if(u===Ao.SEPARATOR){t.addChild(new xi);continue}const[R,ee]=u;tl(R)?(u=new Image(R.width,R.height),u.src=R.src,u.alt=R.alt):u=R,u=new Fd(u,ee),u.setRole(bl.OPTION),u.setRightToLeft(e.RTL),u.setCheckable(!0),t.addChild(u),u.setChecked(ee===this.value_),ee===this.value_&&(this.selectedMenuItem=u),u.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem=this.menu_=null,this.applyColour()}handleMenuActionEvent(e){se(this,!0),this.onItemSelected_(this.menu_,e)}onItemSelected_(e,t){this.setValue(t.getValue())}isOptionListDynamic(){return typeof this.menuGenerator_=="function"}getOptions(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:e&&this.generatedOptions?this.generatedOptions:(this.generatedOptions=this.menuGenerator_(),this.validateOptions(this.generatedOptions),this.generatedOptions)}setOptions(e){Array.isArray(e)?(this.validateOptions(e),e=this.trimOptions(e),this.menuGenerator_=e.options,this.prefixField=e.prefix||null,this.suffixField=e.suffix||null):this.menuGenerator_=e,this.selectedOption=this.getOptions(!1)[0],this.setValue(this.selectedOption[1])}doClassValidation_(e){return this.getOptions(!0).some(t=>t[1]===e)?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}doValueUpdate_(e){super.doValueUpdate_(e),e=this.getOptions(!0);for(let t=0,s;s=e[t];t++)s[1]===this.value_&&(this.selectedOption=s)}applyColour(){const e=this.sourceBlock_;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.getColourTertiary()),this.menu_?this.borderRect_.setAttribute("fill",e.getColourTertiary()):this.borderRect_.setAttribute("fill","transparent")),e&&this.arrow&&(e.isShadow()?this.arrow.style.fill=e.getColourSecondary():this.arrow.style.fill=e.getColour())}render_(){this.getTextContent().nodeValue="",this.imageElement.style.display="none";const e=this.selectedOption&&this.selectedOption[0];tl(e)?this.renderSelectedImage(e):this.renderSelectedText(),this.positionBorderRect_()}renderSelectedImage(e){const t=this.getSourceBlock();if(!t)throw new Ws;this.imageElement.style.display="",this.imageElement.setAttributeNS(il,"xlink:href",e.src),this.imageElement.setAttribute("height",String(e.height)),this.imageElement.setAttribute("width",String(e.width));const s=Number(e.height);e=Number(e.width);var u=!!this.borderRect_;const v=Math.max(u?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,s+Ao.IMAGE_Y_PADDING);u=u?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let R;R=this.svgArrow?this.positionSVGArrow(e+u,v/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):yi(this.arrow),this.size_=new _r(e+R+u*2,v);let ee=0;t.RTL?this.imageElement.setAttribute("x",`${u+R}`):(ee=e+R,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement.setAttribute("x",`${u}`)),this.imageElement.setAttribute("y",String(v/2-s/2)),this.positionTextElement_(ee+u,e+R)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();tn(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var t=!!this.borderRect_;e=Math.max(t?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const s=yi(this.getTextElement());t=t?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let u=0;this.svgArrow&&(u=this.positionSVGArrow(s+t,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_=new _r(s+u+t*2,e),this.positionTextElement_(t,s)}positionSVGArrow(e,t){if(!this.svgArrow)return 0;const s=this.getSourceBlock();if(!s)throw new Ws;const u=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,v=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,R=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow.setAttribute("transform","translate("+(s.RTL?u:e+v)+","+t+")"),R+v}getText_(){if(!this.selectedOption)return null;const e=this.selectedOption[0];if(tl(e))return e.alt;if(typeof HTMLElement<"u"&&e instanceof HTMLElement){let t,s;return(s=(t=e.title)!=null?t:e.ariaLabel)!=null?s:e.innerText}return typeof e=="string"?e:(console.warn("Can't get text for existing dropdown option. If you're using HTMLElement dropdown options in node, ensure you're using jsdom-global or similar."),null)}static fromJson(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}trimOptions(e){let t=!1;const s=e.map(ee=>{if(ee===Ao.SEPARATOR)return t=!0,ee;const[Me,Bt]=ee;return typeof Me=="string"?[lr(Me),Bt]:(t=!0,[tl(Me)?Object.assign({},Me,{alt:lr(Me.alt)}):Me,Bt])});if(t||e.length<2)return{options:s};var u=s.map(([ee])=>ee),v=St(u);e=Vt(u,v);const R=Xt(u,v);return!e&&!R||v<=e+R?{options:s}:(v=e?u[0].substring(0,e-1):void 0,u=R?u[0].substr(1-R):void 0,{options:this.applyTrim(s,e,R),prefix:v,suffix:u})}applyTrim(e,t,s){return e.map(([u,v])=>[u.substring(t,u.length-s),v])}validateOptions(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");let t=!1;for(let s=0;s<e.length;s++){const u=e[s];Array.isArray(u)||u===Ao.SEPARATOR?typeof u[1]!="string"?(t=!0,console.error(`Invalid option[${s}]: Each FieldDropdown option id must be a string.
          Found ${u[1]} in: ${u}`)):!u[0]||typeof u[0]=="string"||tl(u[0])||typeof HTMLElement<"u"&&u[0]instanceof HTMLElement||(t=!0,console.error(`Invalid option[${s}]: Each FieldDropdown option must have a string
          label, image description, or HTML element. Found ${u[0]} in: ${u}`)):(t=!0,console.error(`Invalid option[${s}]: Each FieldDropdown option must be an array or
          the string literal 'separator'. Found: ${u}`))}if(t)throw TypeError("Found invalid FieldDropdown options.")}};Ao.SEPARATOR="separator",Ao.ARROW_CHAR="",Ao.IMAGE_Y_OFFSET=5,Ao.IMAGE_Y_PADDING=Ao.IMAGE_Y_OFFSET*2,el("field_dropdown",Ao);var Ic=class{constructor(e,t,s,u){this.name=e,this.startHats=!1,this.blockStyles=t||Object.create(null),this.categoryStyles=s||Object.create(null),this.componentStyles=u||Object.create(null),this.fontStyle=Object.create(null),a(Ut.THEME,e,this,!0)}getClassName(){return this.name+"-theme"}setBlockStyle(e,t){this.blockStyles[e]=t}setCategoryStyle(e,t){this.categoryStyles[e]=t}getComponentStyle(e){if(e=this.componentStyles[e],!e)return null;if(typeof e=="string"){const t=this.getComponentStyle(e);if(t)return t}return`${e}`}setComponentStyle(e,t){this.componentStyles[e]=t}setFontStyle(e){this.fontStyle=e}setStartHats(e){this.startHats=e}static defineTheme(e,t){e=e.toLowerCase();const s=new Ic(e);let u=t.base;if(u){if(typeof u=="string"){let v;u=(v=E(Ut.THEME,u))!=null?v:void 0}u instanceof Ic&&(Le(s,u),s.name=e)}return Le(s.blockStyles,t.blockStyles),Le(s.categoryStyles,t.categoryStyles),Le(s.componentStyles,t.componentStyles),Le(s.fontStyle,t.fontStyle),t.startHats!==null&&(s.startHats=t.startHats),s}},j5={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},Iu={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},Fh=new Ic("classic",j5,Iu),D0=class{constructor(e){this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let t=null,s=!1;var u=!1,v=!1,R=!1,ee=!1,Me=!1;const Bt=!!e.readOnly;if(!Bt){var zn;t=Nt((zn=e.toolbox)!=null?zn:null),s=In(t),u=e.trashcan,u=u===void 0?s:u,v=e.collapse,v=v===void 0?s:v,R=e.comments,R=R===void 0?s:R,ee=e.disable,ee=ee===void 0?s:ee,Me=e.sounds,Me=Me===void 0?!0:Me}zn=e.maxTrashcanContents,u?zn===void 0&&(zn=32):zn=0;const qs=!!e.rtl;let hs=e.horizontalLayout;hs===void 0&&(hs=!1);var al=e.toolboxPosition!=="end";al=hs?al?Er.TOP:Er.BOTTOM:al===qs?Er.RIGHT:Er.LEFT;let Pc=e.css;Pc===void 0&&(Pc=!0);let zu="https://blockly-demo.appspot.com/static/media/";e.media&&(zu=e.media.endsWith("/")?e.media:e.media+"/");const Lp=e.oneBasedIndex,R$=e.renderer||"geras",N$=e.plugins||{};let S6=e.modalInputs;S6===void 0&&(S6=!0),this.RTL=qs,this.oneBasedIndex=Lp===void 0?!0:Lp,this.collapse=v,this.comments=R,this.disable=ee,this.readOnly=Bt,this.maxBlocks=e.maxBlocks||1/0;let Dp;this.maxInstances=(Dp=e.maxInstances)!=null?Dp:null,this.modalInputs=S6,this.pathToMedia=zu,this.hasCategories=s,this.moveOptions=D0.parseMoveOptions(e,s),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=u,this.maxTrashcanContents=zn,this.hasSounds=Me,this.hasCss=Pc,this.horizontalLayout=hs,this.languageTree=t,this.gridOptions=D0.parseGridOptions(e),this.zoomOptions=D0.parseZoomOptions(e),this.toolboxPosition=al,this.theme=D0.parseThemeOptions(e),this.renderer=R$;let Bp;this.rendererOverrides=(Bp=e.rendererOverrides)!=null?Bp:null;let Pp;this.parentWorkspace=(Pp=e.parentWorkspace)!=null?Pp:null,this.plugins=N$}static parseMoveOptions(e,t){const s=e.move||{},u={};return s.scrollbars===void 0&&e.scrollbars===void 0?u.scrollbars=t:typeof s.scrollbars=="object"?(u.scrollbars={horizontal:!!s.scrollbars.horizontal,vertical:!!s.scrollbars.vertical},u.scrollbars.horizontal&&u.scrollbars.vertical?u.scrollbars=!0:u.scrollbars.horizontal||u.scrollbars.vertical||(u.scrollbars=!1)):u.scrollbars=!!s.scrollbars||!!e.scrollbars,u.wheel=u.scrollbars&&s.wheel!==void 0?!!s.wheel:typeof u.scrollbars=="object",u.drag=u.scrollbars?s.drag===void 0?!0:!!s.drag:!1,u}static parseZoomOptions(e){e=e.zoom||{};const t={};return t.controls=e.controls===void 0?!1:!!e.controls,t.wheel=e.wheel===void 0?!1:!!e.wheel,t.startScale=e.startScale===void 0?1:Number(e.startScale),t.maxScale=e.maxScale===void 0?3:Number(e.maxScale),t.minScale=e.minScale===void 0?.3:Number(e.minScale),t.scaleSpeed=e.scaleSpeed===void 0?1.2:Number(e.scaleSpeed),t.pinch=e.pinch===void 0?t.wheel||t.controls:!!e.pinch,t}static parseGridOptions(e){e=e.grid||{};const t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=e.length===void 0?1:Number(e.length),t.snap=t.spacing>0&&!!e.snap,t}static parseThemeOptions(e){return e=e.theme||Fh,typeof e=="string"?E(Ut.THEME,e):e instanceof Ic?e:Ic.defineTheme(e.name||"builtin"+Je(),e)}},i4=class{constructor(e,t){this.bubble=e,this.workspace=t,this.startLoc=null}isMovable(){return!0}startDrag(){this.startLoc=this.bubble.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.bubble),this.bubble.setDragging&&this.bubble.setDragging(!0)}drag(e){this.bubble.moveDuringDrag(e)}endDrag(){this.workspace.setResizesEnabled(!0);let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.bubble,Dh),this.bubble.setDragging(!1)}revertDrag(){this.startLoc&&this.bubble.moveDuringDrag(this.startLoc)}},Xl,Di=class{constructor(e,t,s,u,v){this.workspace=e,this.anchor=t,this.ownerRect=s,this.owner=v,this.size=new _r(0,0),this.colour="#ffffff",this.disposed=!1,this.relativeLeft=this.relativeTop=0,this.dragStrategy=new i4(this,this.workspace),this.id=Je(),this.svgRoot=dt(ht.G,{class:"blocklyBubble"},e.getBubbleCanvas()),e=dt(ht.G,{class:"blocklyEmboss"},this.svgRoot),this.tail=dt(ht.PATH,{class:"blocklyBubbleTail"},e),this.background=dt(ht.RECT,{class:"blocklyDraggable",x:0,y:0,rx:Xl.BORDER_WIDTH,ry:Xl.BORDER_WIDTH},e),this.contentContainer=dt(ht.G,{},this.svgRoot),this.focusableElement=u??this.svgRoot,this.focusableElement.setAttribute("id",this.id),ie(this.background,"pointerdown",this,this.onMouseDown),ie(this.focusableElement,"keydown",this,this.onKeyDown)}dispose(){on(this.svgRoot),this.disposed=!0}setAnchorLocation(e,t=!1){this.anchor=e,t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}setPositionRelativeToAnchor(e,t){this.relativeLeft=e,this.relativeTop=t,this.positionRelativeToAnchor(),this.renderTail()}getSize(){return this.size}setSize(e,t=!1){e.width=Math.max(e.width,Xl.MIN_SIZE),e.height=Math.max(e.height,Xl.MIN_SIZE),this.size=e,this.background.setAttribute("width",`${e.width}`),this.background.setAttribute("height",`${e.height}`),t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}getColour(){return this.colour}setColour(e){this.colour=e,this.tail.setAttribute("fill",e),this.background.setAttribute("fill",e)}onMouseDown(e){let t;(t=this.workspace.getGesture(e))==null||t.handleBubbleStart(e,this),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)}onKeyDown(e){e.key==="Escape"&&this.owner&&(this.owner.setBubbleVisible(!1),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.owner))}positionRelativeToAnchor(){let e=this.anchor.x;e=this.workspace.RTL?e-(this.relativeLeft+this.size.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchor.y)}moveTo(e,t){this.svgRoot.setAttribute("transform",`translate(${e}, ${t})`)}positionByRect(e=new $r(0,0,0,0)){var t=this.workspace.getMetricsManager().getViewMetrics(!0),s=this.getOptimalRelativeLeft(t),u=this.getOptimalRelativeTop(t);const v={x:s,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},R={x:-this.size.width-30,y:u};u={x:e.getWidth(),y:u};var ee={x:s,y:e.getHeight()};s=e.getWidth()<e.getHeight()?u:ee,e=e.getWidth()<e.getHeight()?ee:u,u=this.getOverlap(v,t),ee=this.getOverlap(R,t);const Me=this.getOverlap(s,t);t=this.getOverlap(e,t),t=Math.max(u,ee,Me,t),u===t?(this.relativeLeft=v.x,this.relativeTop=v.y):ee===t?(this.relativeLeft=R.x,this.relativeTop=R.y):Me===t?(this.relativeLeft=s.x,this.relativeTop=s.y):(this.relativeLeft=e.x,this.relativeTop=e.y),this.positionRelativeToAnchor()}getOverlap(e,t){var s=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x+this.anchor.x;return e=e.y+this.anchor.y,Math.max(0,Math.min(1,(Math.min(s+this.size.width,t.left+t.width)-Math.max(s,t.left))*(Math.min(e+this.size.height,t.top+t.height)-Math.max(e,t.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(e){let t=-this.size.width/4;if(this.size.width>e.width)return t;if(e=this.getWorkspaceViewRect(e),this.workspace.RTL){var s=this.anchor.x-t;s-this.size.width<e.left?t=-(e.left-this.anchor.x+this.size.width):s>e.right&&(t=-(e.right-this.anchor.x))}else{s=t+this.anchor.x;const u=s+this.size.width;s<e.left?t=e.left-this.anchor.x:u>e.right&&(t=e.right-this.anchor.x-this.size.width)}return t}getOptimalRelativeTop(e){let t=-this.size.height/4;if(this.size.height>e.height)return t;const s=this.anchor.y+t,u=s+this.size.height;return e=this.getWorkspaceViewRect(e),s<e.top?t=e.top-this.anchor.y:u>e.bottom&&(t=e.bottom-this.anchor.y-this.size.height),t}getWorkspaceViewRect(e){const t=e.top;let s=e.top+e.height,u=e.left;return e=e.left+e.width,s-=this.getScrollbarThickness(),this.workspace.RTL?u-=this.getScrollbarThickness():e-=this.getScrollbarThickness(),new $r(t,s,u,e)}getScrollbarThickness(){return Cs.scrollbarThickness/this.workspace.scale}renderTail(){const e=[];var t=this.size.width/2,s=this.size.height/2,u=-this.relativeLeft,v=-this.relativeTop;if(t===u&&s===v)e.push("M "+t+","+s);else{v-=s,u-=t,this.workspace.RTL&&(u*=-1);var R=Math.sqrt(v*v+u*u),ee=Math.acos(u/R);v<0&&(ee=2*Math.PI-ee);var Me=ee+Math.PI/2;Me>Math.PI*2&&(Me-=Math.PI*2);var Bt=Math.sin(Me);const qs=Math.cos(Me);let hs=(this.size.width+this.size.height)/Xl.TAIL_THICKNESS;hs=Math.min(hs,this.size.width,this.size.height)/4,Me=1-Xl.ANCHOR_RADIUS/R,u=t+Me*u,v=s+Me*v,Me=t+hs*qs;const al=s+hs*Bt;t-=hs*qs,s-=hs*Bt,Bt=$0(this.workspace.RTL?-Xl.TAIL_ANGLE:Xl.TAIL_ANGLE),Bt=ee+Bt,Bt>Math.PI*2&&(Bt-=Math.PI*2),ee=Math.sin(Bt)*R/Xl.TAIL_BEND,R=Math.cos(Bt)*R/Xl.TAIL_BEND,e.push("M"+Me+","+al),e.push("C"+(Me+R)+","+(al+ee)+" "+u+","+v+" "+u+","+v),e.push("C"+u+","+v+" "+(t+R)+","+(s+ee)+" "+t+","+s)}e.push("z");let zn;(zn=this.tail)==null||zn.setAttribute("d",e.join(" "))}bringToFront(){let e;const t=(e=this.svgRoot)==null?void 0:e.parentNode;return this.svgRoot&&t?.lastChild!==this.svgRoot?(t?.appendChild(this.svgRoot),!0):!1}getRelativeToSurfaceXY(){return new Wt(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(e){this.moveTo(e.x,e.y),this.relativeLeft=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x-this.anchor.x,this.relativeTop=e.y-this.anchor.y,this.renderTail()}setDragging(e){}setDeleteStyle(e){}isDeletable(){return!1}showContextMenu(e){}isMovable(){return!0}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){Dt(this)}unselect(){Dt(null)}getFocusableElement(){return this.focusableElement}getFocusableTree(){return this.workspace}onNodeFocus(){this.select(),this.bringToFront();var e=this.getRelativeToSurfaceXY();const t=this.getSize();e=new $r(e.y,e.y+t.height,e.x,e.x+t.width),this.workspace.scrollBoundsIntoView(e)}onNodeBlur(){this.unselect()}canBeFocused(){return!0}getOwner(){return this.owner}};Xl=Di,Di.BORDER_WIDTH=6,Di.DOUBLE_BORDER=Xl.BORDER_WIDTH*2,Di.MIN_SIZE=Xl.DOUBLE_BORDER,Di.TAIL_THICKNESS=1,Di.TAIL_ANGLE=20,Di.TAIL_BEND=4,Di.ANCHOR_RADIUS=8;var ma=class extends Di{constructor(e,t,s,u){super(t,s,u),this.workspace=t,this.anchor=s,this.ownerRect=u,this.autoLayout=!0,t=new D0(e),this.validateWorkspaceOptions(t),this.svgDialog=dt(ht.SVG,{x:Di.BORDER_WIDTH,y:Di.BORDER_WIDTH},this.contentContainer),e.parentWorkspace=this.workspace,this.miniWorkspace=this.newWorkspaceSvg(new D0(e)),this.miniWorkspace.internalIsMutator=!0,e=this.miniWorkspace.createDom("blocklyMutatorBackground"),this.svgDialog.appendChild(e),t.languageTree&&(e.insertBefore(this.miniWorkspace.addFlyout(ht.G),this.miniWorkspace.getCanvas()),e=this.miniWorkspace.getFlyout(),e?.init(this.miniWorkspace),e?.show(t.languageTree)),tn(this.svgRoot,"blocklyMiniWorkspaceBubble"),this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this));let v,R;(v=this.miniWorkspace.getFlyout())==null||(R=v.getWorkspace())==null||R.addChangeListener(this.onWorkspaceChange.bind(this)),this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose(),super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(e){this.miniWorkspace.addChangeListener(e)}validateWorkspaceOptions(e){if(e.hasCategories)throw Error("The miniworkspace bubble does not support toolboxes with categories");if(e.hasTrashcan)throw Error("The miniworkspace bubble does not support trashcans");if(e.zoomOptions.controls||e.zoomOptions.wheel||e.zoomOptions.pinch)throw Error("The miniworkspace bubble does not support zooming");if(e.moveOptions.scrollbars||e.moveOptions.wheel||e.moveOptions.drag)throw Error("The miniworkspace bubble does not scrolling/moving the workspace");if(e.horizontalLayout)throw Error("The miniworkspace bubble does not support horizontal layouts")}onWorkspaceChange(){this.bumpBlocksIntoBounds(),this.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress)for(const e of this.miniWorkspace.getTopBlocks(!1)){const t=e.getRelativeToSurfaceXY();if(t.y<20&&e.moveBy(0,20-t.y),e.RTL){let s=-20;const u=this.miniWorkspace.getFlyout();u&&(s-=u.getWidth()),t.x>s&&e.moveBy(s-t.x,0)}else t.x<20&&e.moveBy(20-t.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress){this.autoLayout&&(this.autoLayout=!this.miniWorkspace.keyboardMoveInProgress);var e=this.getSize(),t=this.calculateWorkspaceSize();Math.abs(e.width-t.width)<ma.MINIMUM_VIEW_CHANGE&&Math.abs(e.height-t.height)<ma.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute("width",`${t.width}px`),this.svgDialog.setAttribute("height",`${t.height}px`),this.miniWorkspace.setCachedParentSvgSize(t.width,t.height),this.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute("transform",`translate(${t.width}, 0)`),this.setSize(new _r(t.width+Di.DOUBLE_BORDER,t.height+Di.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){var e=this.miniWorkspace.getCanvas().getBBox();let t=e.width+ma.MARGIN;e=e.height+ma.MARGIN;const s=this.miniWorkspace.getFlyout();if(s){const u=s.getWorkspace().getMetricsManager().getScrollMetrics();e=Math.max(e,u.height+20),t+=s.getWidth()}return new _r(t,e)}updateBlockStyles(){for(var e of this.miniWorkspace.getAllBlocks(!1))e.setStyle(e.getStyleName());let t;if(e=(t=this.miniWorkspace.getFlyout())==null?void 0:t.getWorkspace())for(const s of e.getAllBlocks(!1))s.setStyle(s.getStyleName())}moveDuringDrag(e){super.moveDuringDrag(e),this.autoLayout=!1}moveTo(e,t){super.moveTo(e,t),this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}};ma.MINIMUM_VIEW_CHANGE=10,ma.MARGIN=Di.DOUBLE_BORDER*3;var Mc=class{constructor(e){this.sourceBlock=e,this.offsetInBlock=new Wt(0,0),this.workspaceLocation=new Wt(0,0),this.svgRoot=null,this.tooltip=e,this.id=Je()}getType(){throw Error("Icons must implement getType")}initView(e){if(!this.svgRoot){var t=this.sourceBlock;this.svgRoot=dt(ht.G,{class:"blocklyIconGroup",id:this.id}),t.getSvgRoot().appendChild(this.svgRoot),this.updateSvgRootOffset(),ie(this.svgRoot,"pointerdown",this,e),this.svgRoot.tooltip=this,or(this.svgRoot)}}dispose(){Xr(this.svgRoot),on(this.svgRoot)}getWeight(){return-1}getSize(){return new _r(0,0)}setTooltip(e){this.tooltip=e??this.sourceBlock}getTooltip(){return this.tooltip}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display="none":this.svgRoot.style.display="block",g0(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display="none")}isShownWhenCollapsed(){return!1}setOffsetInBlock(e){this.offsetInBlock=e,this.updateSvgRootOffset()}updateSvgRootOffset(){let e;(e=this.svgRoot)==null||e.setAttribute("transform",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`)}onLocationChange(e){this.workspaceLocation=Wt.sum(e,this.offsetInBlock)}onClick(){}isClickableInFlyout(e){return!0}getFocusableElement(){const e=this.svgRoot;if(!e)throw Error("Attempting to focus uninitialized icon.");return e}getFocusableTree(){return this.sourceBlock.workspace}onNodeFocus(){var e=this.sourceBlock.getBoundingRectangle();e=new $r(e.top+this.offsetInBlock.y,e.top+this.offsetInBlock.y+this.getSize().height,e.left+this.offsetInBlock.x,e.left+this.offsetInBlock.x+this.getSize().width),this.sourceBlock.workspace.scrollBoundsIntoView(e)}onNodeBlur(){}canBeFocused(){return!0}getSourceBlock(){return this.sourceBlock}},N1,s4;N1=17,s4=16,n.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends Mc{constructor(e,t){super(t),this.flyoutBlockTypes=e,this.sourceBlock=t,this.saveConnectionsListener=this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(e){this.svgRoot||(super.initView(e),dt(ht.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},this.svgRoot),dt(ht.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},this.svgRoot),dt(ht.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},this.svgRoot),tn(this.svgRoot,"blocklyMutatorIcon"))}dispose(){super.dispose();let e;(e=this.miniWorkspaceBubble)==null||e.dispose()}getWeight(){return n.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new _r(N1,N1)}applyColour(){super.applyColour();let e;(e=this.miniWorkspaceBubble)==null||e.setColour(this.sourceBlock.getColour());let t;(t=this.miniWorkspaceBubble)==null||t.updateBlockStyles()}updateCollapsed(){super.updateCollapsed(),this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(e){super.onLocationChange(e);let t;(t=this.miniWorkspaceBubble)==null||t.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick(),this.sourceBlock.isEditable()&&this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(e){const t=this;return(0,_t.asyncExecutePromiseGeneratorFunction)(function*(){if(t.bubbleIsVisible()!==e){if(yield jn(),e){t.miniWorkspaceBubble=new ma(t.getMiniWorkspaceConfig(),t.sourceBlock.workspace,t.getAnchorLocation(),t.getBubbleOwnerRect()),t.applyColour(),t.createRootBlock(),t.addSaveConnectionsListener();let s;(s=t.miniWorkspaceBubble)==null||s.addWorkspaceChangeListener(t.createMiniWorkspaceChangeListener())}else{let s;(s=t.miniWorkspaceBubble)==null||s.dispose(),t.miniWorkspaceBubble=null,t.saveConnectionsListener&&t.sourceBlock.workspace.removeChangeListener(t.saveConnectionsListener),t.saveConnectionsListener=null}le(new(an(mt.BUBBLE_OPEN))(t.sourceBlock,e,"mutator"))}})}getBubble(){return this.miniWorkspaceBubble}getMiniWorkspaceConfig(){let e;const t={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:(e=this.sourceBlock.workspace.options.rendererOverrides)!=null?e:void 0};return this.flyoutBlockTypes.length&&(t.toolbox={kind:"flyoutToolbox",contents:this.flyoutBlockTypes.map(s=>({kind:"block",type:s}))}),t}getAnchorLocation(){const e=N1/2;return Wt.sum(this.workspaceLocation,new Wt(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new $r(e.y,e.y+e.height,e.x,e.x+e.width)}createRootBlock(){if(!this.sourceBlock.decompose)throw Error("Blocks with mutator icons must include a decompose method");this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());for(var e of this.rootBlock.getDescendants(!1))e.queueRender();this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1);let t,s,u,v;e=(v=(t=this.miniWorkspaceBubble)==null||(s=t.getWorkspace())==null||(u=s.getFlyout())==null?void 0:u.getWidth())!=null?v:0,this.rootBlock.moveBy(this.rootBlock.RTL?-(e+s4):s4,s4)}addSaveConnectionsListener(){this.sourceBlock.saveConnections&&this.rootBlock&&(this.saveConnectionsListener=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}createMiniWorkspaceChangeListener(){return e=>{n.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(e)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null,this.recomposeSourceBlock()},0))}}static isIgnorableMutatorEvent(e){return e.isUiEvent||Pt(e)||Lt(e)&&e.element==="disabled"}recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error("Blocks with mutator icons must include a compose method");var e=n.getGroup$$module$build$src$core$events$utils();e||n.setGroup$$module$build$src$core$events$utils(!0);var t=Eu.getExtraBlockState_(this.sourceBlock);this.sourceBlock.compose(this.rootBlock);var s=Eu.getExtraBlockState_(this.sourceBlock);t!==s&&le(new(an(mt.BLOCK_CHANGE))(this.sourceBlock,"mutation",null,t,s)),n.setGroup$$module$build$src$core$events$utils(e)}}getWorkspace(){let e;return(e=this.miniWorkspaceBubble)==null?void 0:e.getWorkspace()}},n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=_s.MUTATOR,n.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1,n.MutatorIcon$$module$build$src$core$icons$mutator_icon;var zo=Object.create(null),E2={allExtensions:zo};n.register$$module$build$src$core$extensions("parent_tooltip_when_inline",e1);var c0={TEST_ONLY:E2};c0.apply=hu,c0.buildTooltipForDropdown=n.buildTooltipForDropdown$$module$build$src$core$extensions,c0.buildTooltipWithFieldText=n.buildTooltipWithFieldText$$module$build$src$core$extensions,c0.isRegistered=cu,c0.register=n.register$$module$build$src$core$extensions,c0.registerMixin=n.registerMixin$$module$build$src$core$extensions,c0.registerMutator=n.registerMutator$$module$build$src$core$extensions,c0.runAfterPageLoad=Da,c0.unregister=Zs;var Bi;(function(e){e[e.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",e[e.MAC_ENTER=3]="MAC_ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.NUM_CENTER=12]="NUM_CENTER",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.FF_SEMICOLON=59]="FF_SEMICOLON",e[e.FF_EQUALS=61]="FF_EQUALS",e[e.FF_DASH=173]="FF_DASH",e[e.FF_HASH=163]="FF_HASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.AT_SIGN=64]="AT_SIGN",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META=91]="META",e[e.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",e[e.CONTEXT_MENU=93]="CONTEXT_MENU",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_MULTIPLY=106]="NUM_MULTIPLY",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_PERIOD=110]="NUM_PERIOD",e[e.NUM_DIVISION=111]="NUM_DIVISION",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUMLOCK=144]="NUMLOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",e[e.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",e[e.SEMICOLON=186]="SEMICOLON",e[e.DASH=189]="DASH",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.APOSTROPHE=192]="APOSTROPHE",e[e.TILDE=192]="TILDE",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE",e[e.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",e[e.BACKSLASH=220]="BACKSLASH",e[e.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",e[e.WIN_KEY=224]="WIN_KEY",e[e.MAC_FF_META=224]="MAC_FF_META",e[e.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",e[e.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",e[e.WIN_IME=229]="WIN_IME",e[e.VK_NONAME=252]="VK_NONAME",e[e.PHANTOM=255]="PHANTOM"})(Bi||(Bi={}));var ga={};ga.arc=b,ga.curve=nl,ga.line=g,ga.lineOnAxis=f,ga.lineTo=fl,ga.moveBy=Ri,ga.moveTo=io,ga.point=Dn;var ns={};ns.Coordinate=Wt,ns.KeyCodes=Bi,ns.Rect=$r,ns.Size=_r,ns.Svg=ht,ns.aria=_1,ns.array=s2,ns.browserEvents=ra,ns.colour=El,ns.deprecation=Hd,ns.dom=so,ns.extensions=c0,ns.idGenerator=$1,ns.math=Ah,ns.object=sa,ns.parsing=A1,ns.string=bi,ns.style=aa,ns.svgMath=us,ns.svgPaths=ga,ns.toolbox=M0,ns.userAgent=Y4,ns.xml=$l;var sl=class extends Di{constructor(e,t,s,u){super(e,t,s,void 0,u),this.workspace=e,this.anchor=t,this.ownerRect=s,this.owner=u,this.resizePointerMoveListener=this.resizePointerUpListener=null,this.sizeChangeListeners=[],this.locationChangeListeners=[],this.DEFAULT_SIZE=new _r(160+Di.DOUBLE_BORDER,80+Di.DOUBLE_BORDER),this.MIN_SIZE=new _r(45+Di.DOUBLE_BORDER,20+Di.DOUBLE_BORDER),this.editable=!0,tn(this.svgRoot,"blocklyTextInputBubble"),this.editor=new t4(e,this.id,()=>{n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)}),this.contentContainer.appendChild(this.editor.getDom()),this.resizeGroup=this.createResizeHandle(this.svgRoot,e),this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.editor.getText()}setText(e){this.editor.setText(e)}setEditable(e){this.editable=e,this.editor.setEditable(e)}isEditable(){return this.editable}addTextChangeListener(e){this.editor.addTextChangeListener(e)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}addLocationChangeListener(e){this.locationChangeListeners.push(e)}createResizeHandle(e,t){return e=dt(ht.IMAGE,{class:"blocklyResizeHandle",href:`${t.options.pathToMedia}resize-handle.svg`},e),ie(e,"pointerdown",this,this.onResizePointerDown),e}setSize(e,t=!1){e.width=Math.max(e.width,this.MIN_SIZE.width),e.height=Math.max(e.height,this.MIN_SIZE.height);const s=e.width-Di.DOUBLE_BORDER,u=e.height-Di.DOUBLE_BORDER;this.editor.updateSize(new _r(s,u),new _r(0,0)),this.editor.getDom().setAttribute("x",`${Di.DOUBLE_BORDER/2}`),this.editor.getDom().setAttribute("y",`${Di.DOUBLE_BORDER/2}`),this.resizeGroup.setAttribute("y",`${u}`),this.workspace.RTL?this.resizeGroup.setAttribute("x",`${-Di.DOUBLE_BORDER}`):this.resizeGroup.setAttribute("x",`${s}`),super.setSize(e,t),this.onSizeChange()}getSize(){return super.getSize()}moveDuringDrag(e){super.moveDuringDrag(e),this.onLocationChange()}setPositionRelativeToAnchor(e,t){super.setPositionRelativeToAnchor(e,t),this.onLocationChange()}positionByRect(e=new $r(0,0,0,0)){super.positionByRect(e),this.onLocationChange()}onResizePointerDown(e){this.bringToFront(),Te(e)||(wo(this.workspace,e,new Wt(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=ie(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=ie(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation()}onResizePointerUp(e){Z(),this.resizePointerUpListener&&(Ie(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(Ie(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(e){e=Wo(this.workspace,e),this.setSize(new _r(this.workspace.RTL?-e.x:e.x,e.y),!1),this.onSizeChange()}onSizeChange(){for(const e of this.sizeChangeListeners)e()}onLocationChange(){for(const e of this.locationChangeListeners)e()}getEditor(){return this.editor}};dn(`
.blocklyTextInputBubble .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 0;
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}
`);var Tn;(function(e){e[e.INPUT_VALUE=1]="INPUT_VALUE",e[e.OUTPUT_VALUE=2]="OUTPUT_VALUE",e[e.NEXT_STATEMENT=3]="NEXT_STATEMENT",e[e.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"})(Tn||(Tn={}));var Ka=class{constructor(e){this.connectionChecker=e,this.connections=[]}addConnection(e,t){t=this.calculateIndexForYPos(t),this.connections.splice(t,0,e)}findIndexOfConnection(e,t){if(!this.connections.length)return-1;const s=this.calculateIndexForYPos(t);if(s>=this.connections.length)return-1;t=e.y;let u=s;for(;u>=0&&this.connections[u].y===t;){if(this.connections[u]===e)return u;u--}for(u=s;u<this.connections.length&&this.connections[u].y===t;){if(this.connections[u]===e)return u;u++}return-1}calculateIndexForYPos(e){if(!this.connections.length)return 0;let t=0,s=this.connections.length;for(;t<s;){const u=Math.floor((t+s)/2);if(this.connections[u].y<e)t=u+1;else if(this.connections[u].y>e)s=u;else{t=u;break}}return t}removeConnection(e,t){if(e=this.findIndexOfConnection(e,t),e===-1)throw Error("Unable to find connection in connectionDB.");this.connections.splice(e,1)}getNeighbours(e,t){function s(zn){const qs=v-u[zn].x,hs=R-u[zn].y;return Math.sqrt(qs*qs+hs*hs)<=t&&Bt.push(u[zn]),hs<t}const u=this.connections,v=e.x,R=e.y;e=0;let ee=u.length-2,Me=ee;for(;e<Me;)u[Me].y<R?e=Me:ee=Me,Me=Math.floor((e+ee)/2);const Bt=[];if(ee=e=Me,u.length){for(;e>=0&&s(e);)e--;do ee++;while(ee<u.length&&s(ee))}return Bt}isInYRange(e,t,s){return Math.abs(this.connections[e].y-t)<=s}searchForClosest(e,t,s){if(!this.connections.length)return{connection:null,radius:t};const u=e.y,v=e.x;e.x=v+s.x,e.y=u+s.y;var R=this.calculateIndexForYPos(e.y);s=null;let ee=t,Me,Bt=R-1;for(;Bt>=0&&this.isInYRange(Bt,e.y,t);)Me=this.connections[Bt],this.connectionChecker.canConnect(e,Me,!0,ee)&&(s=Me,ee=Me.distanceFrom(e)),Bt--;for(;R<this.connections.length&&this.isInYRange(R,e.y,t);)Me=this.connections[R],this.connectionChecker.canConnect(e,Me,!0,ee)&&(s=Me,ee=Me.distanceFrom(e)),R++;return e.x=v,e.y=u,{connection:s,radius:ee}}static init(e){const t=[];return t[Tn.INPUT_VALUE]=new Ka(e),t[Tn.OUTPUT_VALUE]=new Ka(e),t[Tn.NEXT_STATEMENT]=new Ka(e),t[Tn.PREVIOUS_STATEMENT]=new Ka(e),t}},B0=class extends $i{constructor(e,t,s){super(s),this.type=mt.SELECTED,this.oldElementId=e??void 0,this.newElementId=t??void 0}toJson(){const e=super.toJson();return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new B0),t.oldElementId=e.oldElementId,t.newElementId=e.newElementId,t}};a(Ut.EVENT,mt.SELECTED,B0);var w2=class extends _u{constructor(e){if(super(e),this.type=mt.BLOCK_DELETE,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=Lo(e),this.ids=hr(e),this.wasShadow=e.isShadow(),this.oldJson=qi(e,{addCoordinates:!0})}}toJson(){const e=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(this.wasShadow===void 0)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=ts(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new w2),t.oldXml=n.textToDom$$module$build$src$core$utils$xml(e.oldXml),t.ids=e.ids,t.wasShadow=e.wasShadow||t.oldXml.tagName.toLowerCase()==="shadow",t.oldJson=e.oldJson,e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){const s=this.ids[e],u=t.getBlockById(s);u?u.dispose(!1):s===this.blockId&&console.warn("Can't delete non-existent block: "+s)}else Nl(this.oldJson,t)}};a(Ut.EVENT,mt.BLOCK_DELETE,w2);var hi=class{constructor(e,t){if(this.type=t,this.targetConnection=null,this.disposed=!1,this.shadowDom=this.check=null,this.y=this.x=0,this.shadowState=null,this.sourceBlock_=e,e.id.includes("_connection"))throw Error(`Connection ID indicator is contained in block ID. This will cause problems with focus: ${e.id}.`);this.id=`${e.id}_connection_${Je()}`}connect_(e){const t=Tn.INPUT_VALUE,s=this.getSourceBlock();var u=e.getSourceBlock();e.isConnected()&&e.disconnectInternal(!1);let v;if(this.isConnected()){const ee=this.stashShadowState(),Me=this.targetBlock();Me.isShadow()?Me.dispose(!1):(this.disconnectInternal(),v=Me),this.applyShadowState(ee)}let R;sn()&&(R=new(an(mt.BLOCK_MOVE))(u),R.setReason(["connect"])),C(this,e),u.setParent(s),R&&(R.recordNew(),le(R)),v&&(e=this.type===t?v.outputConnection:v.previousConnection)&&((u=hi.getConnectionForOrphanedConnection(u,e))?e.connect(u):e.onFailedConnect(this))}dispose(){if(this.isConnected()){this.isSuperior()&&this.setShadowStateInternal();const e=this.targetBlock();e&&!e.isDeadOrDying()&&e.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===Tn.INPUT_VALUE||this.type===Tn.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(e){}connect(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){const t=n.getGroup$$module$build$src$core$events$utils();t||n.setGroup$$module$build$src$core$events$utils(!0),this.isSuperior()?this.connect_(e):e.connect_(this),n.setGroup$$module$build$src$core$events$utils(t)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(e=!0){const{parentConnection:t,childConnection:s}=this.getParentAndChildConnections();if(!t||!s)throw Error("Source connection not connected.");const u=n.getGroup$$module$build$src$core$events$utils();u||n.setGroup$$module$build$src$core$events$utils(!0);let v;sn()&&(v=new(an(mt.BLOCK_MOVE))(s.getSourceBlock()),v.setReason(["disconnect"]));const R=this.targetConnection;R&&(R.targetConnection=null),this.targetConnection=null,e&&s.getSourceBlock().setParent(null),v&&(v.recordNew(),le(v)),s.getSourceBlock().isShadow()||t.respawnShadow_(),n.setGroup$$module$build$src$core$events$utils(u)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(e,t){if(this.getSourceBlock().isDeadOrDying())return!1;var s;return t=(s=e.getInput(t))==null?void 0:s.connection,s=this.targetBlock(),s&&s!==e||!t||t.targetConnection===this?!1:(t.isConnected()&&t.disconnect(),t.connect(this),!0)}targetBlock(){if(this.isConnected()){let e,t;return(t=(e=this.targetConnection)==null?void 0:e.getSourceBlock())!=null?t:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return e?(Array.isArray(e)||(e=[e]),this.check=e,this.onCheckChanged_()):this.check=null,this}getCheck(){return this.check}setShadowDom(e){this.setShadowStateInternal({shadowDom:e})}getShadowDom(e){return e&&this.targetBlock().isShadow()?Ul(this.targetBlock()):this.shadowDom}setShadowState(e){this.setShadowStateInternal({shadowState:e})}getShadowState(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?qi(this.targetBlock()):this.shadowState}neighbours(e){return[]}getParentInput(){let e=null;const t=this.sourceBlock_.inputList;for(let s=0;s<t.length;s++)if(t[s].connection===this){e=t[s];break}return e}toString(){const e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var t="Output Connection of ";else if(e.previousConnection===this)t="Previous Connection of ";else if(e.nextConnection===this)t="Next Connection of ";else{t=null;for(let s=0,u;u=e.inputList[s];s++)if(u.connection===this){t=u;break}if(t)t='Input "'+t.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}return t+e.toDevString()}stashShadowState(){const e=this.getShadowDom(!0),t=this.getShadowState(!0);return this.shadowState=this.shadowDom=null,{shadowDom:e,shadowState:t}}applyShadowState({shadowDom:e,shadowState:t}){this.shadowDom=e,this.shadowState=t}setShadowStateInternal({shadowDom:e=null,shadowState:t=null}={}){this.shadowDom=e,this.shadowState=t,this.getSourceBlock().isDeadOrDying()||((e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())):(e=this.createShadowBlock(!1),this.serializeShadow(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())))}createShadowBlock(e){var t=this.getSourceBlock();const s=this.getShadowState(),u=this.getShadowDom();if(t.isDeadOrDying()||!s&&!u)return null;if(s)return t=Ol(s,t.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(u){if(t=s0(u,t.workspace),e)if(this.type===Tn.INPUT_VALUE){if(!t.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(t.outputConnection))throw Error("Could not connect shadow block to connection")}else if(this.type===Tn.NEXT_STATEMENT){if(!t.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(t.previousConnection))throw Error("Could not connect shadow block to connection")}else throw Error("Cannot connect a shadow block to a previous/output connection");return t}return null}serializeShadow(e){e&&(this.shadowDom=Ul(e),this.shadowState=qi(e))}static getConnectionForOrphanedConnection(e,t){if(t.type===Tn.OUTPUT_VALUE)return V(e,t.getSourceBlock());e=e.lastConnectionInStack(!0);const s=t.getConnectionChecker();return e&&s.canConnect(t,e,!1)?e:null}};hi.CAN_CONNECT=0,hi.REASON_SELF_CONNECTION=1,hi.REASON_WRONG_TYPE=2,hi.REASON_TARGET_NULL=3,hi.REASON_CHECKS_FAILED=4,hi.REASON_DIFFERENT_WORKSPACES=5,hi.REASON_SHADOW_PARENT=6,hi.REASON_DRAG_CHECKS_FAILED=7,hi.REASON_PREVIOUS_AND_OUTPUT=8;var Rc=class extends Error{constructor(e){super(`Tried to append an icon of type ${e.getType()} when an icon of that type already exists on the block. Use getIcon to access the existing icon.`),this.icon=e}},S2={};S2.DuplicateIconType=Rc,(function(e){e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(n.Align$$module$build$src$core$inputs$align||(n.Align$$module$build$src$core$inputs$align={})),n.Align$$module$build$src$core$inputs$align;var Nc=class extends Li{constructor(e,t,s){super(Li.SKIP_SETUP),this.class=null,this.EDITABLE=!1,this.maxDisplayLength=1/0,e!==Li.SKIP_SETUP&&(s?this.configure_(s):this.class=t||null,this.setValue(e))}configure_(e){super.configure_(e),e.class&&(this.class=e.class)}initView(){this.createTextElement_(),this.class&&tn(this.getTextElement(),this.class),this.fieldGroup_&&tn(this.fieldGroup_,"blocklyLabelField")}doClassValidation_(e){return e==null?null:`${e}`}setClass(e){this.textElement_&&(this.class&&Zn(this.textElement_,this.class),e&&tn(this.textElement_,e)),this.class=e}static fromJson(e){return new this(lr(e.text),void 0,e)}};el("field_label",Nc),Nc.prototype.DEFAULT_VALUE="";var O3=30,Oc=[];Oc[Tn.INPUT_VALUE]=Tn.OUTPUT_VALUE,Oc[Tn.OUTPUT_VALUE]=Tn.INPUT_VALUE,Oc[Tn.NEXT_STATEMENT]=Tn.PREVIOUS_STATEMENT,Oc[Tn.PREVIOUS_STATEMENT]=Tn.NEXT_STATEMENT;var x2="RENAME_VARIABLE_ID",k2="DELETE_VARIABLE_ID",L3=10,Io=class extends hi{constructor(e,t){super(e,t),this.highlighted=!1,this.targetConnection=null,this.db=e.workspace.connectionDBList[t],this.dbOpposite=e.workspace.connectionDBList[Oc[t]],this.offsetInBlock=new Wt(0,0),this.trackedState=Io.TrackedState.WILL_TRACK}dispose(){super.dispose(),this.trackedState===Io.TrackedState.TRACKED&&this.db.removeConnection(this,this.y);let e,t;(t=(e=this.sourceBlock_.pathObject).removeConnectionHighlight)==null||t.call(e,this)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(e){const t=this.x-e.x;return e=this.y-e.y,Math.sqrt(t*t+e*e)}bumpAwayFrom(e,t=!1){if(!this.sourceBlock_.workspace.isDragging()){var s=n.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*L3),u=n.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*L3),v=e.sourceBlock_.getRootBlock(),R=this.sourceBlock_.getRootBlock();if(!v.isInFlyout&&!R.isInFlyout){var ee=!0;if(R.isMovable())v.isMovable()&&t&&(u=-u);else if(v.isMovable())ee=!1,s=-s,u=-u;else return;t=ee?e:this,e=ee?this:e,v=ee?R:v,v.RTL&&(s=-s),v.moveBy(t.x+s-e.x,t.y+u-e.y,["bump"])}}}moveTo(e,t){let s=!1;return this.trackedState===Io.TrackedState.WILL_TRACK?(this.db.addConnection(this,t),this.trackedState=Io.TrackedState.TRACKED,s=!0):this.trackedState===Io.TrackedState.TRACKED&&(this.db.removeConnection(this,this.y),this.db.addConnection(this,t),s=!0),this.x=e,this.y=t,s}moveBy(e,t){return this.moveTo(this.x+e,this.y+t)}moveToOffset(e){return this.moveTo(e.x+this.offsetInBlock.x,e.y+this.offsetInBlock.y)}setOffsetInBlock(e,t){this.offsetInBlock.x=e,this.offsetInBlock.y=t}getOffsetInBlock(){return this.offsetInBlock}tightenEfficiently(){var e=this.targetConnection;const t=this.targetBlock();e&&t&&(e=Wt.difference(this.offsetInBlock,e.offsetInBlock),t.translate(e.x,e.y))}closest(e,t){return this.dbOpposite.searchForClosest(this,e,t)}highlight(){this.highlighted=!0;const e=this.findHighlightSvg();e&&(e.style.display="")}unhighlight(){this.highlighted=!1;const e=this.findHighlightSvg();e&&(e.style.display="none")}isHighlighted(){return this.highlighted}setTracking(e){e&&this.trackedState===Io.TrackedState.TRACKED||!e&&this.trackedState===Io.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db.addConnection(this,this.y),this.trackedState=Io.TrackedState.TRACKED):(this.trackedState===Io.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=Io.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){const e=this.targetBlock().getDescendants(!1);for(let t=0;t<e.length;t++){const s=e[t],u=s.getConnections_(!0);for(let v=0;v<u.length;v++)u[v].setTracking(!1);for(const v of s.getIcons())g0(v)&&v.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let e=[];if(this.type!==Tn.INPUT_VALUE&&this.type!==Tn.NEXT_STATEMENT)return e;const t=this.targetBlock();if(t){let s;t.isCollapsed()?(s=[],t.outputConnection&&s.push(t.outputConnection),t.nextConnection&&s.push(t.nextConnection),t.previousConnection&&s.push(t.previousConnection)):s=t.getConnections_(!0);for(let u=0;u<s.length;u++)e.push(...s[u].startTrackingAll());e.length||(e=[t])}return e}onFailedConnect(e){const t=this.getSourceBlock();if(It()){const s=n.getGroup$$module$build$src$core$events$utils();setTimeout((function(){t.isDisposed()||t.getParent()||(n.setGroup$$module$build$src$core$events$utils(s),this.bumpAwayFrom(e),n.setGroup$$module$build$src$core$events$utils(!1))}).bind(this),n.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(e=!0){const{parentConnection:t,childConnection:s}=this.getParentAndChildConnections();if(t&&s){var u=n.getGroup$$module$build$src$core$events$utils();u||n.setGroup$$module$build$src$core$events$utils(!0);var v=t.getSourceBlock(),R=s.getSourceBlock();super.disconnectInternal(e),v.queueRender(),R.updateDisabled(),R.queueRender(),R.getSvgRoot().style.display="block",n.setGroup$$module$build$src$core$events$utils(u)}}respawnShadow_(){super.respawnShadow_();const e=this.targetBlock();e&&(e.initSvg(),e.queueRender())}neighbours(e){return this.dbOpposite.getNeighbours(this,e)}connect_(e){super.connect_(e);var t=this.getSourceBlock();e=e.getSourceBlock(),t.updateDisabled(),e.updateDisabled(),e.queueRender(),(t=t.getInputWithBlock(e))&&(t=t.isVisible(),e.getSvgRoot().style.display=t?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return super.setCheck(e),this.sourceBlock_.queueRender(),this}showContextMenu(e){const t=wr.registry.getContextMenuOptions({focusedNode:this},e);if(t.length){var s=this.getSourceBlock(),u=s.workspace;if(e instanceof PointerEvent)var v=new Wt(e.clientX,e.clientY);else v=new Wt(this.x,this.y),v=Ue(u,v).translate(s.RTL?-5:5,5);j0(e,t,s.RTL,u,v)}}getFocusableElement(){const e=this.findHighlightSvg();if(e)return e;throw Error("No highlight SVG found corresponding to this connection.")}getFocusableTree(){return this.getSourceBlock().workspace}onNodeFocus(){this.highlight(),this.getSourceBlock().workspace.scrollBoundsIntoView(this.getSourceBlock().getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unhighlight()}canBeFocused(){return!0}findHighlightSvg(){return document.getElementById(this.id)}};(function(e){e=e.TrackedState||(e.TrackedState={}),e[e.WILL_TRACK=-1]="WILL_TRACK",e[e.UNTRACKED=0]="UNTRACKED",e[e.TRACKED=1]="TRACKED"})(Io||(Io={})),Io.TrackedState;var Lc=class{constructor(e,t){this.name=e,this.sourceBlock=t,this.fieldRow=[],this.align=n.Align$$module$build$src$core$inputs$align.LEFT,this.visible=!0,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM,this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this}insertFieldAt(e,t,s){if(e<0||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(t||t===""&&s)&&(typeof t=="string"&&(t=n.fromJson$$module$build$src$core$field_registry({type:"field_label",text:t})),t.setSourceBlock(this.sourceBlock),this.sourceBlock.initialized&&this.initField(t),t.name=s,t.setVisible(this.isVisible()),t.prefixField&&(e=this.insertFieldAt(e,t.prefixField)),this.fieldRow.splice(e,0,t),e++,t.suffixField&&(e=this.insertFieldAt(e,t.suffixField)),this.sourceBlock.rendered&&this.sourceBlock.queueRender()),e}removeField(e,t){for(let s=0,u;u=this.fieldRow[s];s++)if(u.name===e)return u.dispose(),this.fieldRow.splice(s,1),this.sourceBlock.rendered&&this.sourceBlock.queueRender(),!0;if(t)return!1;throw Error('Field "'+e+'" not found.')}isVisible(){return this.visible}setVisible(e){let t=[];if(this.visible===e)return t;this.visible=e;for(let s=0,u;u=this.fieldRow[s];s++)u.setVisible(e);if(this.connection&&this.connection instanceof Io){e?t=this.connection.startTrackingAll():this.connection.stopTrackingAll();const s=this.connection.targetBlock();s&&(s.getSvgRoot().style.display=e?"block":"none")}return t}markDirty(){for(let e=0,t;t=this.fieldRow[e];e++)t.markDirty()}setCheck(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}setAlign(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}setShadowDom(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){for(const e of this.fieldRow)e.init()}initModel(){for(const e of this.fieldRow)e.initModel()}initField(e){this.sourceBlock.rendered?e.init():e.initModel()}dispose(){for(let e=0,t;t=this.fieldRow[e];e++)t.dispose();this.connection&&this.connection.dispose()}makeConnection(e){return this.sourceBlock.makeConnection_(e)}},ol=class extends Lc{constructor(e,t){super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},jl=class extends Lc{constructor(e,t){super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.END_ROW}},Sl=class extends Lc{constructor(e,t){if(!e)throw Error("Statement inputs must have a non-empty name");super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT,this.connection=this.makeConnection(Tn.NEXT_STATEMENT)}},D3;n.ValueInput$$module$build$src$core$inputs$value_input=class extends Lc{constructor(e,t){if(!e)throw Error("Value inputs must have a non-empty name");super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.VALUE,this.connection=this.makeConnection(Tn.INPUT_VALUE)}},D3={},D3.ValueInput=n.ValueInput$$module$build$src$core$inputs$value_input;var P0=class{constructor(e,t,s){if(this.data=null,this.disposed=!1,this.hue=null,this.colour_="#000000",this.styleName_="",this.suppressPrefixSuffix=!1,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.icons=[],this.disabledReasons=new Set,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable=this.movable=this.deletable=!0,this.collapsed_=this.shadow=!1,this.outputShape_=null,this.rendered=this.isInsertionMarker_=this.initialized=this.disposing=!1,this.onchangeWrapper=this.helpUrl=null,this.statementInputCount=0,this.workspace=e,this.id=s&&!e.getBlockById(s)?s:Xe(),e.setBlockById(this.id,this),this.xy=new Wt(0,0),this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,t){if(this.type=t,s=vs[t],!s||typeof s!="object")throw TypeError("Invalid block definition for type: "+t);Object.assign(this,s)}e.addTopBlock(this),e.addTypedBlock(this),new.target===P0&&this.doInit_()}doInit_(){const e=n.getGroup$$module$build$src$core$events$utils();e||n.setGroup$$module$build$src$core$events$utils(!0);const t=It();try{typeof this.init=="function"&&(n.setRecordUndo$$module$build$src$core$events$utils(!1),this.init(),n.setRecordUndo$$module$build$src$core$events$utils(t)),sn()&&le(new(an(mt.BLOCK_CREATE))(this))}finally{n.setGroup$$module$build$src$core$events$utils(e),n.setRecordUndo$$module$build$src$core$events$utils(t)}this.inputsInlineDefault=this.inputsInline,typeof this.onchange=="function"&&this.setOnChange(this.onchange)}dispose(e=!1){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.unplug(e),sn()&&le(new(an(mt.BLOCK_DELETE))(this)),this.workspace.removeTopBlock(this),this.disposeInternal()}disposeInternal(){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),typeof this.destroy=="function"&&this.destroy(),this.childBlocks_.forEach(e=>e.disposeInternal()),this.inputList.forEach(e=>e.dispose()),this.inputList.length=0,this.getConnections_(!0).forEach(e=>e.dispose()),this.disposed=!0}isDeadOrDying(){return this.disposing||this.disposed}initModel(){if(!this.initialized){for(const e of this.inputList)e.initModel();this.initialized=!0}}unplug(e){this.outputConnection&&this.unplugFromRow(e),this.previousConnection&&this.unplugFromStack(e)}unplugFromRow(e){let t=null,s;(s=this.outputConnection)!=null&&s.isConnected()&&(t=this.outputConnection.targetConnection,this.outputConnection.disconnect()),t&&e&&(e=this.getOnlyValueConnection())&&e.isConnected()&&!e.targetBlock().isShadow()&&(e=e.targetConnection,e?.disconnect(),this.workspace.connectionChecker.canConnect(e,t,!1)?t.connect(e):e?.onFailedConnect(t))}getOnlyValueConnection(){let e=null;for(let t=0;t<this.inputList.length;t++){const s=this.inputList[t].connection;if(s&&s.type===Tn.INPUT_VALUE&&s.targetConnection){if(e)return null;e=s}}return e}unplugFromStack(e){let t=null,s;if((s=this.previousConnection)!=null&&s.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect()),e){for(e=this.getNextBlock();e&&(e.isShadow()||!e.isMovable());)e=e.getNextBlock();if(e){var u,v,R,ee;e=(ee=(u=e.previousConnection)==null||(v=u.targetBlock())==null||(R=v.nextConnection)==null?void 0:R.targetConnection)!=null?ee:null,e?.disconnect(),t&&this.workspace.connectionChecker.canConnect(t,e,!1)&&t.connect(e)}}}getConnections_(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(let t=0,s;s=this.inputList[t];t++)s.connection&&e.push(s.connection);return e}lastConnectionInStack(e){let t=this.nextConnection;for(;t;){const s=t.targetBlock();if(!s||e&&s.isShadow())return t;t=s.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(e){for(let t=0,s;s=this.inputList[t];t++)if(s.connection&&s.connection.targetBlock()===e)return s;return null}getSurroundParent(){let e=this,t;do if(t=e,e=e.getParent(),!e)return null;while(e.getNextBlock()===t);return e}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getRootBlock(){let e,t=this;do e=t,t=e.parentBlock_;while(t);return e}getTopStackBlock(){let e=this,t;do t=e.getPreviousBlock();while(t&&t.getNextBlock()===e&&(e=t));return e}getChildren(e){if(!e)return this.childBlocks_;e=[];for(let s=0,u;u=this.inputList[s];s++)if(u.connection){var t=u.connection.targetBlock();t&&e.push(t)}return(t=this.getNextBlock())&&e.push(t),e}setParent(e){if(e!==this.parentBlock_){var t=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),s=!!t;if(s&&e&&t!==e)throw Error("Block connected to superior one that is not new parent.");if(!s&&e)throw Error("Block not connected to new parent.");if(s&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?Ft(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(e){const t=[this],s=this.getChildren(e);for(let u,v=0;u=s[v];v++)t.push(...u.getDescendants(e));return t}isDeletable(){return this.deletable&&!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnDeletable(){return this.deletable}setDeletable(e){this.deletable=e}isMovable(){return this.movable&&!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnMovable(){return this.movable}setMovable(e){this.movable=e}isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable(fs(this,!0)):!0}isShadow(){return this.shadow}setShadow(e){this.shadow=e}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(e){this.isInsertionMarker_=e}isEditable(){return this.editable&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setEditable(e){this.editable=e;for(const t of this.getFields())t.updateEditable()}isDisposed(){return this.disposed}isSimpleReporter(){if(!this.outputConnection)return!1;for(const e of this.inputList)if(e.connection||e.fieldRow.length>1)return!1;return!0}getMatchingConnection(e,t){const s=this.getConnections_(!0);if(e=e.getConnections_(!0),s.length!==e.length)throw Error("Connection lists did not match in length.");for(let u=0;u<e.length;u++)if(e[u]===t)return s[u];return null}setHelpUrl(e){this.helpUrl=e}setTooltip(e){this.tooltip=e}getTooltip(){return en(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue}setColour(e){e=Mi(e),this.hue=e.hue,this.colour_=e.hex}setStyle(e){this.styleName_=e}setOnChange(e){if(e&&typeof e!="function")throw Error("onchange must be a function.");this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.onchange=e,this.onchangeWrapper=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper)}getField(e){if(typeof e!="string")throw TypeError("Block.prototype.getField expects a string with the field name but received "+(e===void 0?"nothing":e+" of type "+typeof e)+" instead");for(const t of this.getFields())if(t.name===e)return t;return null}*getFields(){for(const e of this.inputList)for(const t of e.fieldRow)yield t}getVars(){const e=[];for(const t of this.getFields())t.referencesVariables()&&e.push(t.getValue());return e}getVarModels(){const e=[];for(const t of this.getFields())if(t.referencesVariables()){const s=this.workspace.getVariableById(t.getValue());s&&e.push(s)}return e}updateVarName(e){for(const t of this.getFields())t.referencesVariables()&&e.getId()===t.getValue()&&t.refreshVariableName()}renameVarById(e,t){for(const s of this.getFields())s.referencesVariables()&&e===s.getValue()&&s.setValue(t)}getFieldValue(e){return(e=this.getField(e))?e.getValue():null}setFieldValue(e,t){const s=this.getField(t);if(!s)throw Error('Field "'+t+'" not found.');s.setValue(e)}setPreviousStatement(e,t){if(e)t===void 0&&(t=null),this.previousConnection||(this.previousConnection=this.makeConnection_(Tn.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(t);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(e,t){if(e)t===void 0&&(t=null),this.nextConnection||(this.nextConnection=this.makeConnection_(Tn.NEXT_STATEMENT)),this.nextConnection.setCheck(t);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(e,t){if(e)t===void 0&&(t=null),this.outputConnection||(this.outputConnection=this.makeConnection_(Tn.OUTPUT_VALUE)),this.outputConnection.setCheck(t);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(e){this.inputsInline!==e&&(le(new(an(mt.BLOCK_CHANGE))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}getInputsInline(){if(this.inputsInline!==void 0)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof ol&&this.inputList[e]instanceof ol)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof n.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[e]instanceof ol)return!0;for(e=0;e<this.inputList.length;e++)if(this.inputList[e]instanceof jl)return!0;return!1}setOutputShape(e){this.outputShape_=e}getOutputShape(){return this.outputShape_}isEnabled(){return this.disabledReasons.size===0}setDisabledReason(e,t){e||this.workspace.options.disable||!this.hasDisabledReason(fr)||t==fr||this.setDisabledReason(!1,fr),this.disabledReasons.has(t)!==e&&(e?this.disabledReasons.add(t):this.disabledReasons.delete(t),e=new(an(mt.BLOCK_CHANGE))(this,"disabled",null,!e,e),e.setDisabledReason(t),le(e))}getInheritedDisabled(){let e=this.getSurroundParent();for(;e;){if(!e.isEnabled())return!0;e=e.getSurroundParent()}return!1}hasDisabledReason(e){return this.disabledReasons.has(e)}getDisabledReasons(){return this.disabledReasons}isCollapsed(){return this.collapsed_}setCollapsed(e){this.collapsed_!==e&&(le(new(an(mt.BLOCK_CHANGE))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}toString(e,t){t=this.toTokens(t);for(let u=2;u<t.length;u++)t[u-2]==="("&&t[u]===")"&&(t[u-2]=t[u-1],t.splice(u-1,2));let s="";return t=t.reduce((u,v)=>(u=u+(s==="("||v===")"?"":" ")+v,s=v[v.length-1],u),""),t=t.trim()||"???",e&&t.length>e&&(t=t.substring(0,e-3)+"..."),t}toTokens(e="?"){const t=[];for(const u of this.inputList)if(u.name!=Oi){for(const v of u.fieldRow)t.push(v.getText());if(u.connection){const v=u.connection.targetBlock();if(v){var s=u.connection;let R=s.getCheck();!R&&s.targetConnection&&(R=s.targetConnection.getCheck()),(s=!!R&&(R.includes("Boolean")||R.includes("Number")))&&t.push("("),t.push(...v.toTokens(e)),s&&t.push(")")}else t.push(e)}}return t}appendValueInput(e){return this.appendInput(new n.ValueInput$$module$build$src$core$inputs$value_input(e,this))}appendStatementInput(e){return this.statementInputCount++,this.appendInput(new Sl(e,this))}appendDummyInput(e=""){return this.appendInput(new ol(e,this))}appendEndRowInput(e=""){return this.appendInput(new jl(e,this))}appendInput(e){return this.inputList.push(e),e}appendInputFromRegistry(e,t){return(e=T(Ut.INPUT,e,!1))?this.appendInput(new e(t,this)):null}jsonInit(e){var t=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(t+"Must not have both an output and a previousStatement.");for(var s=0;e["args"+s];){if(e["message"+s]===void 0)throw Error(t+`args${s} must have a corresponding message (message${s}).`);s++}if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(t+"Must not have both a colour and a style.");for(e.style?this.jsonInitStyle(e,t):this.jsonInitColour(e,t),s=0;e["message"+s]!==void 0;)this.interpolate(e["message"+s],e["args"+s]||[],e["implicitAlign"+s]||e["lastDummyAlign"+s],t),s++;if(e.inputsInline!==void 0&&(n.disable$$module$build$src$core$events$utils(),this.setInputsInline(e.inputsInline),n.enable$$module$build$src$core$events$utils()),e.output!==void 0&&this.setOutput(!0,e.output),e.outputShape!==void 0&&this.setOutputShape(e.outputShape),e.previousStatement!==void 0&&this.setPreviousStatement(!0,e.previousStatement),e.nextStatement!==void 0&&this.setNextStatement(!0,e.nextStatement),e.tooltip!==void 0&&(s=lr(e.tooltip),this.setTooltip(s)),e.enableContextMenu!==void 0&&(this.contextMenu=!!e.enableContextMenu),e.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),e.helpUrl!==void 0&&(s=lr(e.helpUrl),this.setHelpUrl(s)),typeof e.extensions=="string"&&(console.warn(t+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),e.mutator!==void 0&&hu(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(t=0;t<e.length;t++)hu(e[t],this,!1)}jsonInitColour(e,t){if("colour"in e)if(e.colour===void 0)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch{console.warn(t+"Illegal colour value: ",e)}}}jsonInitStyle(e,t){e=e.style;try{this.setStyle(e)}catch{console.warn(t+"Style does not exist: ",e)}}mixin(e,t){if(t!==void 0&&typeof t!="boolean")throw Error("opt_disableCheck must be a boolean if provided");if(!t){t=[];for(const s in e)this[s]!==void 0&&t.push(s);if(t.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(t))}Object.assign(this,e)}interpolate(e,t,s,u){e=ls(e),this.validateTokens(e,t.length),t=this.interpolateArguments(e,t,s),s=[];for(let v=0,R;R=t[v];v++)if(this.isInputKeyword(R.type)){if(e=this.inputFromJson(R,u)){for(let ee=0,Me;Me=s[ee];ee++)e.appendField(Me[0],Me[1]);s.length=0}}else(e=this.fieldFromJson(R))&&s.push([e,R.name])}validateTokens(e,t){const s=[];let u=0;for(let v=0;v<e.length;v++){const R=e[v];if(typeof R=="number"){if(R<1||R>t)throw Error('Block "'+this.type+'": Message index %'+R+" out of range.");if(s[R])throw Error('Block "'+this.type+'": Message index %'+R+" duplicated.");s[R]=!0,u++}}if(u!==t)throw Error('Block "'+this.type+'": Message does not reference all '+t+" arg(s).")}interpolateArguments(e,t,s){const u=[];for(let R=0;R<e.length;R++){var v=e[R];if(typeof v=="number"&&(v=t[v-1]),typeof v=="string"){if(v===`
`)v={type:"input_end_row"},s&&(v.align=s);else if(v=this.stringToFieldJson(v),!v)continue}u.push(v)}return(e=u.length)&&!this.isInputKeyword(u[e-1].type)&&(e={type:"input_dummy"},s&&(e.align=s),u.push(e)),u}fieldFromJson(e){const t=n.fromJson$$module$build$src$core$field_registry(e);return!t&&e.alt?typeof e.alt=="string"?(e=this.stringToFieldJson(e.alt))?this.fieldFromJson(e):null:this.fieldFromJson(e.alt):t}inputFromJson(e,t){var s={LEFT:n.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:n.Align$$module$build$src$core$inputs$align.RIGHT,CENTRE:n.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:n.Align$$module$build$src$core$inputs$align.CENTRE};let u;switch(e.type){case"input_value":u=this.appendValueInput(e.name);break;case"input_statement":u=this.appendStatementInput(e.name);break;case"input_dummy":u=this.appendDummyInput(e.name);break;case"input_end_row":u=this.appendEndRowInput(e.name);break;default:u=this.appendInputFromRegistry(e.type,e.name)}return u?(e.check&&u.setCheck(e.check),e.align&&(s=s[e.align.toUpperCase()],s===void 0?console.warn(t+"Illegal align value: ",e.align):u.setAlign(s)),u):null}isInputKeyword(e){return e==="input_value"||e==="input_statement"||e==="input_dummy"||e==="input_end_row"||_(Ut.INPUT,e)}stringToFieldJson(e){return(e=e.trim())?{type:"field_label",text:e}:null}moveInputBefore(e,t){if(e!==t){var s=-1,u=t?-1:this.inputList.length;for(let v=0,R;R=this.inputList[v];v++)if(R.name===e){if(s=v,u!==-1)break}else if(t&&R.name===t&&(u=v,s!==-1))break;if(s===-1)throw Error('Named input "'+e+'" not found.');if(u===-1)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(s,u)}}moveNumberedInputBefore(e,t){if(e===t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");const s=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,s)}removeInput(e,t){for(let s=0,u;u=this.inputList[s];s++)if(u.name===e)return u instanceof Sl&&this.statementInputCount--,u.dispose(),this.inputList.splice(s,1),!0;if(t)return!1;throw Error("Input not found: "+e)}getInput(e){for(let t=0,s;s=this.inputList[t];t++)if(s.name===e)return s;return null}getInputTargetBlock(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}getCommentText(){let e,t;return(t=(e=this.getIcon(_s.COMMENT))==null?void 0:e.getText())!=null?t:null}setCommentText(e){var t;let s;const u=(s=(t=this.getIcon(_s.COMMENT))==null?void 0:t.getText())!=null?s:null;if(u!==e){if(e!==null){if(t=this.getIcon(_s.COMMENT),!t){if(t=T(Ut.ICON,_s.COMMENT.toString(),!1),!t)throw Error("No comment icon class is registered, so a comment cannot be set");if(t=new t(this),!pe(t))throw Error("The class registered as a comment icon does not conform to the ICommentIcon interface");t=this.addIcon(t)}n.disable$$module$build$src$core$events$utils(),t.setText(e),n.enable$$module$build$src$core$events$utils()}else this.removeIcon(_s.COMMENT);le(new(an(mt.BLOCK_CHANGE))(this,"comment",null,u,e))}}setWarningText(e,t){}setMutator(e){}addIcon(e){if(this.hasIcon(e.getType()))throw new Rc(e);return this.icons.push(e),this.icons.sort((t,s)=>t.getWeight()-s.getWeight()),e}removeIcon(e){if(!this.hasIcon(e))return!1;let t;return(t=this.getIcon(e))==null||t.dispose(),this.icons=this.icons.filter(s=>!s.getType().equals(e)),!0}hasIcon(e){return this.icons.some(t=>t.getType().equals(e))}getIcon(e){return e instanceof _s?this.icons.find(t=>t.getType().equals(e)):this.icons.find(t=>t.getType().toString()===e)}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy}moveBy(e,t,s){if(this.parentBlock_)throw Error("Block has parent");const u=new(an(mt.BLOCK_MOVE))(this);s&&u.setReason(s),this.xy.translate(e,t),u.recordNew(),le(u)}makeConnection_(e){return new hi(this,e)}allInputsFilled(e){if(e===void 0&&(e=!0),!e&&this.isShadow())return!1;for(let s=0,u;u=this.inputList[s];s++)if(u.connection){var t=u.connection.targetBlock();if(!t||!t.allInputsFilled(e))return!1}return(t=this.getNextBlock())?t.allInputsFilled(e):!0}toDevString(){let e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}};P0.COLLAPSED_INPUT_NAME=Oi,P0.COLLAPSED_FIELD_NAME=Fr;var Mu=null,O1=null,Ru={};Ru.connectionUiEffect=it,Ru.disconnectUiEffect=ut,Ru.disconnectUiStop=Kt,Ru.disposeUiEffect=xe;var Dc=class{paste(e,t,s){if(!t.isCapacityAvailable(e.typeCounts))return null;s&&(e.blockState.x=s.x,e.blockState.y=s.y),s=s||new Wt(e.blockState.x||0,e.blockState.y||0),n.disable$$module$build$src$core$events$utils();let u;try{u=Nl(e.blockState,t),vn(u,s)}finally{n.enable$$module$build$src$core$events$utils()}if(!u)return u;sn()&&!u.isShadow()&&le(new(an(mt.BLOCK_CREATE))(u));const v=u;return jn().then(()=>n.getFocusManager$$module$build$src$core$focus_manager().focusNode(v)),u}};Dc.TYPE="block",ps(Dc.TYPE,new Dc);var L1={};L1.bumpIntoBounds=gr,L1.bumpIntoBoundsHandler=Tr,L1.bumpTopObjectsIntoBounds=jr;var zh=class{constructor(e){this.block=e,this.connectionPreviewer=this.connectionCandidate=this.startLoc=this.startChildConn=this.startParentConn=null,this.dragging=!1,this.dragOffset=new Wt(0,0),this.originalEventGroup="",this.workspace=e.workspace}isMovable(){if(this.block.isShadow()){let e,t;return(t=(e=this.block.getParent())==null?void 0:e.isMovable())!=null?t:!1}return this.block.isOwnMovable()&&!this.block.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.block.isInFlyout}startDrag(e){if(this.block.isShadow())this.startDraggingShadow(e);else{this.dragging=!0,this.fireDragStartEvent(),this.startLoc=this.block.getRelativeToSurfaceXY(),this.connectionCandidate=null,this.connectionPreviewer=new(A(Ut.CONNECTION_PREVIEWER,this.workspace.options))(this.block),Qn(),this.workspace.setResizesEnabled(!1),Kt(),e=this.shouldHealStack(e),this.shouldDisconnect(e)&&this.disconnectBlock(e),this.block.setDragging(!0);var t;(t=this.workspace.getLayerManager())==null||t.moveToDragLayer(this.block)}}shouldHealStack(e){return!!e&&(e.altKey||e.ctrlKey||e.metaKey)}startDraggingShadow(e){const t=this.block.getParent();if(!t)throw Error("Tried to drag a shadow block with no parent. Shadow blocks should always have parents.");this.dragOffset=Wt.difference(t.getRelativeToSurfaceXY(),this.block.getRelativeToSurfaceXY()),t.startDrag(e)}shouldDisconnect(e){return!!(this.block.getParent()||e&&this.block.nextConnection&&this.block.nextConnection.targetBlock())}disconnectBlock(e){let t,s,u;if(this.startParentConn=(u=(t=this.block.outputConnection)==null?void 0:t.targetConnection)!=null?u:(s=this.block.previousConnection)==null?void 0:s.targetConnection,e){let v;this.startChildConn=(v=this.block.nextConnection)==null?void 0:v.targetConnection}this.block.unplug(e),ut(this.block)}fireDragStartEvent(){const e=new(an(mt.BLOCK_DRAG))(this.block,!0,this.block.getDescendants(!1));le(e)}fireDragEndEvent(){const e=new(an(mt.BLOCK_DRAG))(this.block,!1,this.block.getDescendants(!1));le(e)}fireMoveEvent(){if(!this.block.isDeadOrDying()){var e=new(an(mt.BLOCK_MOVE))(this.block);e.setReason(["drag"]),e.oldCoordinate=this.startLoc,e.recordNew(),le(e)}}drag(e){if(this.block.isShadow()){let t;(t=this.block.getParent())==null||t.drag(Wt.sum(e,this.dragOffset))}else this.block.moveDuringDrag(e),this.updateConnectionPreview(this.block,Wt.difference(e,this.startLoc))}updateConnectionPreview(e,t){var s=this.connectionCandidate;const u=this.getConnectionCandidate(e,t);if(u){this.connectionCandidate=t=s&&this.currCandidateIsBetter(s,t,u)?s:u;var{local:v,neighbour:R}=t;t=v.type===Tn.OUTPUT_VALUE||v.type===Tn.PREVIOUS_STATEMENT;var ee;if(s=R.isConnected()&&!((ee=R.targetBlock())!=null&&ee.isInsertionMarker()),t&&s&&!this.orphanCanConnectAtEnd(e,R.targetBlock(),v.type)){let Bt;(Bt=this.connectionPreviewer)==null||Bt.previewReplacement(v,R,R.targetBlock())}else{var Me;(Me=this.connectionPreviewer)==null||Me.previewConnection(v,R)}}else{let Bt;(Bt=this.connectionPreviewer)==null||Bt.hidePreview(),this.connectionCandidate=null}}orphanCanConnectAtEnd(e,t,s){return!!hi.getConnectionForOrphanedConnection(e,s===Tn.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}currCandidateIsBetter(e,t,s){const{local:u,neighbour:v}=e;e=new Wt(u.x,u.y);const R=new Wt(v.x,v.y);return t=Wt.distance(Wt.sum(e,t),R),s.distance>t-n.config$$module$build$src$core$config.currentConnectionPreference}getConnectionCandidate(e,t){e=this.getLocalConnections(e);let s=this.getSearchRadius(),u=null;for(const v of e){const{connection:R,radius:ee}=v.closest(s,t);R&&(u={local:v,neighbour:R,distance:ee},s=ee)}return u}getSearchRadius(){return this.connectionCandidate?n.config$$module$build$src$core$config.connectingSnapRadius:n.config$$module$build$src$core$config.snapRadius}getLocalConnections(e){const t=e.getConnections_(!1),s=e.lastConnectionInStack(!0);return s&&s!==e.nextConnection&&t.push(s),t}endDrag(e){if(this.block.isShadow()){let s;(s=this.block.getParent())==null||s.endDrag(e)}else{this.originalEventGroup=n.getGroup$$module$build$src$core$events$utils(),this.fireDragEndEvent(),this.fireMoveEvent(),ss(),Kt();var t;if((t=this.connectionPreviewer)==null||t.hidePreview(),!this.block.isDeadOrDying()&&this.dragging){let s;(s=this.workspace.getLayerManager())==null||s.moveOffDragLayer(this.block,Au),this.block.setDragging(!1)}this.connectionCandidate?(this.applyConnections(this.connectionCandidate),this.disposeStep()):this.block.queueRender().then(()=>this.disposeStep())}}disposeStep(){const e=n.getGroup$$module$build$src$core$events$utils();n.setGroup$$module$build$src$core$events$utils(this.originalEventGroup),this.block.snapToGrid();let t;(t=this.connectionPreviewer)==null||t.dispose(),this.workspace.setResizesEnabled(!0),n.setGroup$$module$build$src$core$events$utils(e)}applyConnections(e){const{local:t,neighbour:s}=e;t.connect(s);const u=t.isSuperior()?s:t,v=this.block.getRootBlock();jn().then(()=>{it(u.getSourceBlock()),setTimeout(()=>{v.bringToFront()},0)})}revertDrag(){if(this.block.isShadow()){let s;(s=this.block.getParent())==null||s.revertDrag()}else{var e;(e=this.connectionPreviewer)==null||e.hidePreview(),this.connectionCandidate=null;var t;if((t=this.startChildConn)==null||t.connect(this.block.nextConnection),this.startParentConn)switch(this.startParentConn.type){case Tn.INPUT_VALUE:this.startParentConn.connect(this.block.outputConnection);break;case Tn.NEXT_STATEMENT:this.startParentConn.connect(this.block.previousConnection)}else{this.block.moveTo(this.startLoc,["drag"]);let s;(s=this.workspace.getLayerManager())==null||s.moveOffDragLayer(this.block,Au),gr(this.workspace,this.workspace.getMetricsManager().getScrollMetrics(!0),this.block)}this.startParentConn=this.startChildConn=null,this.block.setDragging(!1),this.dragging=!1}}},C2=class extends Di{constructor(e,t,s,u){super(t,s,u),this.text=e,this.workspace=t,this.anchor=s,this.ownerRect=u,this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize(),tn(this.svgRoot,"blocklyTextBubble")}getText(){return this.text}setText(e){this.text=e,on(this.paragraph),this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}stringToSvg(e,t){return t=this.createParagraph(t),e=this.createTextFragments(t,e),this.workspace.RTL&&this.rightAlignTextFragments(t.getBBox().width,e),t}createParagraph(e){return dt(ht.G,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",transform:`translate(0,${Di.BORDER_WIDTH})`,style:`direction: ${this.workspace.RTL?"rtl":"ltr"}`},e)}createTextFragments(e,t){let s=1;return t.split(`
`).map(u=>{const v=dt(ht.TEXT,{y:`${s}em`,x:Di.BORDER_WIDTH},e);return u=document.createTextNode(u),v.appendChild(u),s+=1,v})}rightAlignTextFragments(e,t){for(const s of t)s.setAttribute("text-anchor","start"),s.setAttribute("x",`${e+Di.BORDER_WIDTH}`)}updateBubbleSize(){const e=this.paragraph.getBBox();this.setSize(new _r(e.width+Di.BORDER_WIDTH*2,e.height+Di.BORDER_WIDTH*2),!0)}},o4=17,$a=class extends Mc{constructor(e){super(e),this.sourceBlock=e,this.textMap=new Map,this.textBubble=null}getType(){return $a.TYPE}initView(e){this.svgRoot||(super.initView(e),dt(ht.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},this.svgRoot),dt(ht.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},this.svgRoot),dt(ht.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},this.svgRoot),tn(this.svgRoot,"blocklyWarningIcon"))}dispose(){super.dispose();let e;(e=this.textBubble)==null||e.dispose()}getWeight(){return $a.WEIGHT}getSize(){return new _r(o4,o4)}applyColour(){super.applyColour();let e;(e=this.textBubble)==null||e.setColour(this.sourceBlock.getColour())}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(e){super.onLocationChange(e);let t;(t=this.textBubble)==null||t.setAnchorLocation(this.getAnchorLocation())}addMessage(e,t){if(this.textMap.get(t)===e)return this;e?this.textMap.set(t,e):this.textMap.delete(t);let s;return(s=this.textBubble)==null||s.setText(this.getText()),this}getText(){return[...this.textMap.values()].join(`
`)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(e){const t=this;return(0,_t.asyncExecutePromiseGeneratorFunction)(function*(){if(t.bubbleIsVisible()!==e){if(yield jn(),e)t.textBubble=new C2(t.getText(),t.sourceBlock.workspace,t.getAnchorLocation(),t.getBubbleOwnerRect()),t.applyColour();else{let s;(s=t.textBubble)==null||s.dispose(),t.textBubble=null}le(new(an(mt.BUBBLE_OPEN))(t.sourceBlock,e,"warning"))}})}getBubble(){return this.textBubble}getAnchorLocation(){const e=o4/2;return Wt.sum(this.workspaceLocation,new Wt(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new $r(e.y,e.y+e.height,e.x,e.x+e.width)}};$a.TYPE=_s.WARNING,$a.WEIGHT=2;var Ji=class extends P0{constructor(e,t,s){if(super(e,t,s),this.childlessWidth=this.width=this.height=0,this.warningTextDb=new Map,this.mutator=null,this.rendered=!0,this.visuallyDisabled=!1,this.translation="",this.dragging=!1,this.relativeCoords=new Wt(0,0),this.dragStrategy=new zh(this),!e.rendered)throw TypeError("Cannot create a rendered block in a headless workspace");this.workspace=e,this.svgGroup=dt(ht.G,{}),t&&tn(this.svgGroup,t),this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup,this.style),e=this.pathObject.svgPath,e.tooltip=this,or(e),this.svgGroup.setAttribute("data-id",this.id),e.id=Je(),this.doInit_()}initSvg(){if(!this.initialized){for(var e of this.inputList)e.init();for(const t of this.getIcons())t.initView(this.createIconPointerDownListener(t)),t.updateEditable();this.applyColour(),this.pathObject.updateMovable(this.isMovable()||this.isInFlyout),(e=this.getSvgRoot())&&ie(e,"pointerdown",this,this.onMouseDown),e.parentNode||this.workspace.getCanvas().appendChild(e),this.initialized=!0}}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){this.addSelect(),Dt(this)}unselect(){this.removeSelect(),Dt(null)}setParent(e){var t=this.parentBlock_;if(e!==t){Qn(),super.setParent(e),ss();var s=this.getSvgRoot();if(!this.workspace.isClearing&&s){var u=this.getRelativeToSurfaceXY(),v=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode(),R,ee=this.getSvgRoot().contains((R=v?.getFocusableElement())!=null?R:null);e?(e.getSvgRoot().appendChild(s),ee&&v&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(v)):t&&(e=this.workspace.getCanvas().querySelector(".blocklyDragging"),t=e?.parentElement,R=this.workspace.getCanvas(),t===R?R.insertBefore(s,e):(R.appendChild(s),ee&&v&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(v)),this.translate(u.x,u.y)),this.applyColour()}}}getRelativeToSurfaceXY(){const e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");let t=0,s=0,u=this.getSvgRoot();if(u)do{const v=K(u);t+=v.x,s+=v.y,u=u.parentNode}while(u&&!e.hasLayer(u));return new Wt(t,s)}moveBy(e,t,s){if(this.parentBlock_)throw Error("Block has parent");const u=sn();let v=null;u&&(v=new(an(mt.BLOCK_MOVE))(this),s&&v.setReason(s)),e=new Wt(e,t),t=this.getRelativeToSurfaceXY(),e=Wt.sum(t,e),this.translate(e.x,e.y),this.updateComponentLocations(e),u&&v&&(v.recordNew(),le(v)),this.workspace.resizeContents()}translate(e,t){this.translation=`translate(${e}, ${t})`,this.relativeCoords=new Wt(e,t),this.getSvgRoot().setAttribute("transform",this.getTranslation())}getTranslation(){return this.translation}moveTo(e,t){const s=this.getRelativeToSurfaceXY();this.moveBy(e.x-s.x,e.y-s.y,t)}moveDuringDrag(e){this.translate(e.x,e.y),this.getSvgRoot().setAttribute("transform",this.getTranslation()),this.updateComponentLocations(e)}snapToGrid(){if(!this.isDeadOrDying()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var t=this.getRelativeToSurfaceXY();e=e.alignXY(t),e!==t&&this.moveTo(e,["snap"])}}}getBoundingRectangle(){return this.getBoundingRectangleWithDimensions(this.getHeightWidth())}getBoundingRectangleWithoutChildren(){return this.getBoundingRectangleWithDimensions({height:this.height,width:this.childlessWidth})}getBoundingRectangleWithDimensions(e){const t=this.getRelativeToSurfaceXY();let s,u;return this.RTL?(s=t.x-e.width,u=t.x):(s=t.x,u=t.x+e.width),new $r(t.y,t.y+e.height,s,u)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let e=0,t;t=this.inputList[e];e++)t.markDirty()}setCollapsed(e){this.collapsed_!==e&&(super.setCollapsed(e),this.updateCollapsed())}childHasWarning(){const e=this.getChildren(!1);for(const t of e)if(t.getIcon($a.TYPE)||t.childHasWarning())return!0;return!1}updateCollapsed(){var e=this.isCollapsed();const t=Oi,s=Fr;for(let v=0,R;R=this.inputList[v];v++)R.name!==t&&R.setVisible(!e);for(var u of this.getIcons())u.updateCollapsed();e?(tn(this.svgGroup,"blocklyCollapsed"),this.childHasWarning()&&this.setWarningText(n.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,Ji.COLLAPSED_WARNING_ID),e=this.toString(O3),(u=this.getField(s))?u.setValue(e):(this.getInput(t)||this.appendDummyInput(t)).appendField(new Nc(e),s)):(this.updateDisabled(),this.removeInput(t),Zn(this.svgGroup,"blocklyCollapsed"),this.setWarningText(null,Ji.COLLAPSED_WARNING_ID))}onMouseDown(e){if(!this.workspace.isReadOnly()){var t=this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)}}showHelp(){const e=typeof this.helpUrl=="function"?this.helpUrl():this.helpUrl;e&&window.open(e)}generateContextMenu(e){return this.workspace.isReadOnly()||!this.contextMenu?null:(e=wr.registry.getContextMenuOptions({block:this,focusedNode:this},e),this.customContextMenu&&this.customContextMenu(e),e)}calculateContextMenuLocation(e){if(e instanceof PointerEvent)return new Wt(e.clientX,e.clientY);e=Ue(this.workspace,this.getRelativeToSurfaceXY());let t,s;const u=(t=this.inputList.filter(v=>v.isVisible()).flatMap(v=>v.fieldRow).find(v=>v.isVisible()))==null||(s=t.getSvgRoot())==null?void 0:s.getBoundingClientRect();return new Wt(this.RTL?e.x-5:e.x+5,(u&&u.height?u.y+u.height:e.y+this.height)+5)}showContextMenu(e){const t=this.generateContextMenu(e),s=this.calculateContextMenuLocation(e);t&&t.length&&(j0(e,t,this.RTL,this.workspace,s),au(this))}updateComponentLocations(e){this.dragging||this.updateConnectionLocations(e),this.updateIconLocations(e),this.updateFieldLocations(e);for(const t of this.getChildren(!1))t.updateComponentLocations(Wt.sum(e,t.relativeCoords))}updateConnectionLocations(e){for(const t of this.getConnections_(!1))t.moveToOffset(e)}updateIconLocations(e){for(const t of this.getIcons())t.onLocationChange(e)}updateFieldLocations(e){for(const t of this.inputList)for(const s of t.fieldRow)s.onLocationChange(e)}addClass(e){tn(this.svgGroup,e)}removeClass(e){Zn(this.svgGroup,e)}setDragging(e){(this.dragging=e)?(this.translation="",bc.push(...this.getConnections_(!0)),this.addClass("blocklyDragging")):(bc.length=0,this.removeClass("blocklyDragging"));for(let t=0;t<this.childBlocks_.length;t++)this.childBlocks_[t].setDragging(e)}setMovable(e){super.setMovable(e),this.pathObject.updateMovable(e)}setEditable(e){super.setEditable(e),e?Zn(this.svgGroup,"blocklyNotEditable"):tn(this.svgGroup,"blocklyNotEditable"),e=this.getIcons();for(let t=0;t<e.length;t++)e[t].updateEditable()}setShadow(e){super.setShadow(e),this.applyColour()}setInsertionMarker(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup}dispose(e,t){this.disposing=!0,Jr(),zl();const s=n.getFocusManager$$module$build$src$core$focus_manager();var u,v;if(this.getSvgRoot().contains((v=(u=s.getFocusedNode())==null?void 0:u.getFocusableElement())!=null?v:null)){if(u=this.getParent(),!u){let R;if(v=(R=this.outputConnection)!=null?R:this.previousConnection){let ee;u=(ee=v.closest(0,new Wt(0,0)).connection)==null?void 0:ee.getSourceBlock()}}u?s.focusNode(u):setTimeout(()=>s.focusTree(this.workspace),0)}t&&(this.unplug(e),xe(this)),super.dispose(!!e),on(this.svgGroup)}disposeInternal(){this.disposing=!0,super.disposeInternal(),n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===this&&this.workspace.cancelCurrentGesture(),[...this.warningTextDb.values()].forEach(e=>clearTimeout(e)),this.warningTextDb.clear(),this.getIcons().forEach(e=>e.dispose())}checkAndDelete(){this.workspace.isFlyout||(n.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),n.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(e=!1){return this.isInsertionMarker_?null:{paster:Dc.TYPE,blockState:qi(this,{addCoordinates:!0,addNextBlocks:e,saveIds:!1}),typeCounts:fs(this,!0)}}applyColour(){var e,t;for((t=(e=this.pathObject).applyColour)==null||t.call(e,this),e=this.getIcons(),t=0;t<e.length;t++)e[t].applyColour();for(const s of this.getFields())s.applyColour()}updateDisabled(){const e=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===e){let t;(t=this.getNextBlock())==null||t.updateDisabled()}else{this.applyColour(),this.visuallyDisabled=e;for(const t of this.getChildren(!1))t.updateDisabled()}}setWarningText(e,t=""){if(t)this.warningTextDb.has(t)&&(clearTimeout(this.warningTextDb.get(t)),this.warningTextDb.delete(t));else{for(var s of this.warningTextDb.values())clearTimeout(s);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(t,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(t),this.setWarningText(e,t))},100));else if(this.isInFlyout&&(e=null),s=this.getIcon($a.TYPE),e){let u=this.getSurroundParent(),v=null;for(;u;)u.isCollapsed()&&(v=u),u=u.getSurroundParent();v&&v.setWarningText(n.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,Ji.COLLAPSED_WARNING_ID),s?s.addMessage(e,t):this.addIcon(new $a(this).addMessage(e,t))}else s&&(t?(s.addMessage("",t),s.getText()||this.removeIcon($a.TYPE)):this.removeIcon($a.TYPE))}setMutator(e){this.removeIcon(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE),e&&this.addIcon(e)}addIcon(e){return super.addIcon(e),e instanceof n.MutatorIcon$$module$build$src$core$icons$mutator_icon&&(this.mutator=e),e.initView(this.createIconPointerDownListener(e)),e.applyColour(),e.updateEditable(),this.queueRender(),e}createIconPointerDownListener(e){return t=>{this.isDeadOrDying()||(t=this.workspace.getGesture(t))&&t.setStartIcon(e)}}removeIcon(e){const t=super.removeIcon(e);return e.equals(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null),this.queueRender(),t}setDisabledReason(e,t){const s=this.isEnabled();super.setDisabledReason(e,t),this.isEnabled()===s||this.getInheritedDisabled()||this.updateDisabled()}setDeletable(e){super.setDeletable(e),e?Zn(this.svgGroup,"blocklyNotDeletable"):tn(this.svgGroup,"blocklyNotDeletable")}setHighlighted(e){this.pathObject.updateHighlighted(e)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(e){this.pathObject.updateDraggingDelete(e)}getColour(){return this.style.colourPrimary}setColour(e){super.setColour(e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_);let t,s;(s=(t=this.pathObject).setStyle)==null||s.call(t,e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}setStyle(e){const t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_&&Zn(this.svgGroup,this.styleName_),t){this.hat=t.hat;let s,u;(u=(s=this.pathObject).setStyle)==null||u.call(s,t),this.colour_=t.colourPrimary,this.style=t,this.applyColour(),tn(this.svgGroup,e),this.styleName_=e}else throw Error("Invalid style name: "+e)}getStyle(){return this.style}bringToFront(e=!1){const t=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();let s=this;if(!s.isDeadOrDying()){do{const u=s.getSvgRoot(),v=u.parentNode,R=v.childNodes;if(R[R.length-1]!==u&&v.appendChild(u),e)break;s=s.getParent()}while(s);t&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(t)}}setPreviousStatement(e,t){super.setPreviousStatement(e,t),this.queueRender()}setNextStatement(e,t){super.setNextStatement(e,t),this.queueRender()}setOutput(e,t){super.setOutput(e,t),this.queueRender()}setInputsInline(e){super.setInputsInline(e),this.queueRender()}removeInput(e,t){return e=super.removeInput(e,t),this.queueRender(),e}moveNumberedInputBefore(e,t){super.moveNumberedInputBefore(e,t),this.queueRender()}appendInput(e){return super.appendInput(e),this.queueRender(),e}setConnectionTracking(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var s=this.inputList[t].connection;s&&(s.setTracking(e),(s=s.targetBlock())&&s.setConnectionTracking(e))}}getConnections_(e){const t=[];if(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_)for(let s=0,u;u=this.inputList[s];s++)u.connection&&t.push(u.connection);return t}lastConnectionInStack(e){return super.lastConnectionInStack(e)}getMatchingConnection(e,t){return super.getMatchingConnection(e,t)}makeConnection_(e){return new Io(this,e)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){const e=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||e.isInFlyout))for(const t of this.getConnections_(!1)){if(t.isSuperior()){let s;(s=t.targetBlock())==null||s.bumpNeighbours()}for(const s of t.neighbours(n.config$$module$build$src$core$config.snapRadius))s.getSourceBlock().getRootBlock()!==e&&(t.isConnected()&&s.isConnected()||(t.isSuperior()?s.bumpAwayFrom(t,!1):t.bumpAwayFrom(s,!0)))}}scheduleSnapAndBump(){this.snapToGrid(),this.bumpNeighbours()}positionNearConnection(e,t,s){if(e.type===Tn.NEXT_STATEMENT||e.type===Tn.INPUT_VALUE){let u=t.x;t=t.y,u+=s.x-e.getOffsetInBlock().x,t+=s.y-e.getOffsetInBlock().y,this.moveBy(u,t)}}getChildren(e){return super.getChildren(e)}queueRender(){return js(this)}render(){this.queueRender(),d()}renderEfficiently(){Qn(),this.isCollapsed()&&this.updateCollapsed(),this.isEnabled()||this.updateDisabled(),this.workspace.getRenderer().render(this),this.tightenChildrenEfficiently(),ss()}tightenChildrenEfficiently(){for(const e of this.inputList){const t=e.connection;t&&t.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}getHeightWidth(){let e=this.height,t=this.width;var s=this.getNextBlock();if(s){s=s.getHeightWidth();const u=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=s.height-u,t=Math.max(t,s.width)}return{height:e,width:t}}fadeForReplacement(e){this.pathObject.updateReplacementFade(e)}highlightShapeForInput(e,t){this.pathObject.updateShapeForInputHighlight(e,t)}getDragStrategy(){return this.dragStrategy}setDragStrategy(e){this.dragStrategy=e}isCopyable(){return this.isOwnDeletable()&&this.isOwnMovable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(e){this.dragStrategy.startDrag(e)}drag(e,t){this.dragStrategy.drag(e,t)}endDrag(e){this.dragStrategy.endDrag(e)}revertDrag(){this.dragStrategy.revertDrag()}toFlyoutInfo(){const e=Object.assign({},{kind:"BLOCK"},qi(this)),t=new Set(["id","height","width","pinned","enabled"]),s=function(u){for(const v in u)t.has(v)?delete u[v]:typeof u[v]=="object"&&s(u[v])};return s(e),[e]}jsonInit(e){super.jsonInit(e),e.classes&&this.addClass(Array.isArray(e.classes)?e.classes.join(" "):e.classes)}getFocusableElement(){return this.pathObject.svgPath}getFocusableTree(){return this.workspace}onNodeFocus(){this.select(),this.workspace.scrollBoundsIntoView(this.getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}};Ji.INLINE=-1,Ji.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var B3=class{constructor(){}onDragEnter(e){}onDragOver(e){}onDragExit(e){}onDrop(e){}getClientRect(){return null}shouldPreventMove(e){return!1}},D1=class extends B3{constructor(){super(),this.wouldDelete_=!1}wouldDelete(e){return e instanceof Ji?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e)):this.updateWouldDelete_(Hi(e)&&e.isDeletable()),this.wouldDelete_}updateWouldDelete_(e){this.wouldDelete_=e}},B1=class{constructor(e,t){this.element=e,this.type=t}getElement(){return this.element}getType(){return this.type}},P1=class{constructor(e){this.workspace_=e}getDimensionsPx_(e){let t=0,s=0;return e&&(t=e.getWidth(),s=e.getHeight()),new _r(t,s)}getFlyoutMetrics(e){return e=this.getDimensionsPx_(this.workspace_.getFlyout(e)),{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let e=0,t=0;const s=this.getToolboxMetrics(),u=this.getFlyoutMetrics(),v=!!this.workspace_.getToolbox();var R;const ee=!((R=this.workspace_.getFlyout())!=null&&R.autoClose);R=v?s.position:u.position;const Me=R===Er.TOP;return R===Er.LEFT&&(v&&(e+=s.width),ee&&(e+=u.width)),Me&&(v&&(t+=s.height),ee&&(t+=u.height)),{top:t,left:e}}getViewMetrics(e){e=e?this.workspace_.scale:1;const t=this.getSvgMetrics(),s=this.getToolboxMetrics(),u=this.getFlyoutMetrics(),v=!!this.workspace_.getToolbox();var R;const ee=!((R=this.workspace_.getFlyout())!=null&&R.autoClose);R=v?s.position:u.position;const Me=R===Er.LEFT||R===Er.RIGHT;return(R===Er.TOP||R===Er.BOTTOM)&&(v&&(t.height-=s.height),ee&&(t.height-=u.height)),Me&&(v&&(t.width-=s.width),ee&&(t.width-=u.width)),{height:t.height/e,width:t.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}getContentMetrics(e){e=e?1:this.workspace_.scale;const t=this.workspace_.getBlocksBoundingBox();return{height:(t.bottom-t.top)*e,width:(t.right-t.left)*e,top:t.top*e,left:t.left*e}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(e){if(!this.hasFixedEdges())return{};const t=this.workspace_.isMovableHorizontally(),s=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);const u={};return s||(u.top=e.top,u.bottom=e.top+e.height),t||(u.left=e.left,u.right=e.left+e.width),u}getPaddedContent_(e,t){const s=t.top+t.height,u=t.left+t.width,v=e.width;e=e.height;const R=v/2,ee=e/2;return{top:Math.min(t.top-ee,s-e),bottom:Math.max(s+ee,t.top+e),left:Math.min(t.left-R,u-v),right:Math.max(u+R,t.left+v)}}getScrollMetrics(e,t,s){e=e?this.workspace_.scale:1,t=t||this.getViewMetrics(!1);var u=s||this.getContentMetrics();s=this.getComputedFixedEdges_(t),t=this.getPaddedContent_(t,u),u=s.top!==void 0?s.top:t.top;const v=s.left!==void 0?s.left:t.left;return{top:u/e,left:v/e,width:((s.right!==void 0?s.right:t.right)-v)/e,height:((s.bottom!==void 0?s.bottom:t.bottom)-u)/e}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const e=this.getToolboxMetrics(),t=this.getFlyoutMetrics(!0),s=this.getSvgMetrics(),u=this.getAbsoluteMetrics(),v=this.getViewMetrics(),R=this.getContentMetrics(),ee=this.getScrollMetrics(!1,v,R);return{contentHeight:R.height,contentWidth:R.width,contentTop:R.top,contentLeft:R.left,scrollHeight:ee.height,scrollWidth:ee.width,scrollTop:ee.top,scrollLeft:ee.left,viewHeight:v.height,viewWidth:v.width,viewTop:v.top,viewLeft:v.left,absoluteTop:u.top,absoluteLeft:u.left,svgHeight:s.height,svgWidth:s.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:t.width,flyoutHeight:t.height}}};a(Ut.METRICS_MANAGER,ml,P1);var Uh=class extends P1{constructor(e,t){super(e),this.flyout_=t}getBoundingBox(){let e;try{e=this.workspace_.getCanvas().getBBox()}catch{e={height:0,y:0,width:0,x:0}}return e}getContentMetrics(e){const t=this.getBoundingBox();return e=e?1:this.workspace_.scale,{height:t.height*e,width:t.width*e,top:t.y*e,left:t.x*e}}getScrollMetrics(e,t,s){return t=s||this.getContentMetrics(),s=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(t.height+2*s)/e,width:(t.width+t.left+s)/e,top:0,left:0}}},Mo=class{constructor(e,t,s,u){this.workspace=e,this.targetWorkspace=t,this.isFlyoutLabel=u,this.height=this.width=0,this.cursorSvg=this.svgText=null,this.text=s.text,this.position=new Wt(0,0),this.callbackKey=s.callbackKey||s.callbackkey,this.cssClass=s["web-class"]||null,this.info=s,e=this.isFlyoutLabel?"blocklyFlyoutLabel":"blocklyFlyoutButton",this.cssClass&&(e+=" "+this.cssClass),this.id=Je(),this.svgGroup=dt(ht.G,{id:this.id,class:e},this.workspace.getCanvas());let v;this.isFlyoutLabel||(v=dt(ht.RECT,{class:"blocklyFlyoutButtonShadow",rx:Mo.BORDER_RADIUS,ry:Mo.BORDER_RADIUS,x:1,y:1},this.svgGroup)),e=dt(ht.RECT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:Mo.BORDER_RADIUS,ry:Mo.BORDER_RADIUS},this.svgGroup),t=dt(ht.TEXT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup),s=lr(this.text),this.workspace.RTL&&(s+=""),t.textContent=s,this.isFlyoutLabel&&(this.svgText=t,this.workspace.getThemeManager().subscribe(this.svgText,"flyoutForegroundColour","fill")),u=vr(t,"fontSize");const R=vr(t,"fontWeight"),ee=vr(t,"fontFamily");if(this.width=Vn(t,u,R,ee),s=U(s,u,R,ee),this.height=this.height||s.height,!this.isFlyoutLabel){this.width+=2*Mo.TEXT_MARGIN_X,this.height+=2*Mo.TEXT_MARGIN_Y;let Me;(Me=v)==null||Me.setAttribute("width",String(this.width));let Bt;(Bt=v)==null||Bt.setAttribute("height",String(this.height))}e.setAttribute("width",String(this.width)),e.setAttribute("height",String(this.height)),t.setAttribute("x",String(this.width/2)),t.setAttribute("y",String(this.height/2-s.height/2+s.baseline)),this.updateTransform(),this.onMouseDownWrapper=ie(this.svgGroup,"pointerdown",this,this.onMouseDown),this.onMouseUpWrapper=ie(this.svgGroup,"pointerup",this,this.onMouseUp)}createDom(){return this.svgGroup}show(){this.updateTransform(),this.svgGroup.setAttribute("display","block")}updateTransform(){this.svgGroup.setAttribute("transform","translate("+this.position.x+","+this.position.y+")")}moveTo(e,t){this.position.x=e,this.position.y=t,this.updateTransform()}moveBy(e,t,s){this.moveTo(this.position.x+e,this.position.y+t)}isLabel(){return this.isFlyoutLabel}getPosition(){return this.position}getBoundingRectangle(){return new $r(this.position.y,this.position.y+this.height,this.position.x,this.position.x+this.width)}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}getWorkspace(){return this.workspace}dispose(){Ie(this.onMouseDownWrapper),Ie(this.onMouseUpWrapper),this.svgGroup&&on(this.svgGroup),this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}setCursorSvg(e){e?this.svgGroup&&(this.svgGroup.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}onMouseUp(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isFlyoutLabel&&this.callbackKey?console.warn("Labels should not have callbacks. Label text: "+this.text):this.isFlyoutLabel||this.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isFlyoutLabel||(e=this.targetWorkspace.getButtonCallback(this.callbackKey))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text)}onMouseDown(e){const t=this.targetWorkspace.getGesture(e),s=this.targetWorkspace.getFlyout();t&&s&&t.handleFlyoutStart(e,s)}getSvgRoot(){return this.svgGroup}getFocusableElement(){return this.svgGroup}getFocusableTree(){return this.workspace}onNodeFocus(){var e=this.getPosition();e=new $r(e.y,e.y+this.height,e.x,e.x+this.width),this.workspace.scrollBoundsIntoView(e)}onNodeBlur(){}canBeFocused(){return!0}};Mo.TEXT_MARGIN_X=5,Mo.TEXT_MARGIN_Y=2,Mo.BORDER_RADIUS=4,dn(`
.blocklyFlyoutButton {
  fill: #888;
  cursor: default;
}

.blocklyFlyoutButtonShadow {
  fill: #666;
}

.blocklyFlyoutButton:hover {
  fill: #aaa;
}

.blocklyFlyoutLabel {
  cursor: default;
}

.blocklyFlyoutLabelBackground {
  opacity: 0;
}
`);var P3=class{getFirstChild(e){return null}getParent(e){return e.getWorkspace()}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Mo}},F1=class{constructor(e,t){this.policy=e,this.flyout=t}getFirstChild(e){return null}getParent(e){return this.policy.getParent(e)}getNextSibling(e){const t=this.flyout.getContents();if(!t)return null;let s=t.findIndex(u=>u.getElement()===e);return s===-1?null:(s++,s>=t.length&&(s=0),t[s].getElement())}getPreviousSibling(e){const t=this.flyout.getContents();if(!t)return null;let s=t.findIndex(u=>u.getElement()===e);return s===-1?null:(s--,s<0&&(s=t.length-1),t[s].getElement())}isNavigable(e){return this.policy.isNavigable(e)}isApplicable(e){return this.policy.isApplicable(e)}},l4=class{constructor(e,t){this.gap=e,this.axis=t,this.y=this.x=0}getBoundingRectangle(){switch(this.axis){case"x":return new $r(this.y,this.y,this.x,this.x+this.gap);case"y":return new $r(this.y,this.y+this.gap,this.x,this.x)}}moveBy(e,t,s){this.x+=e,this.y+=t}isNavigable(){return!1}getFocusableElement(){throw Error("Cannot be focused")}getFocusableTree(){throw Error("Cannot be focused")}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}},A2=class{getFirstChild(e){return null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return!1}isApplicable(e){return e instanceof l4}},F3=class{getFirstChild(e){return e.getEditor()}getParent(e){let t;return(t=e.getOwner())!=null?t:null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof sl}},I2=class{getFirstChild(e){return gs(e,!0)[0]}getParent(e){var t;if((t=e.previousConnection)!=null&&t.targetBlock()){if(t=e.getSurroundParent())return t}else{let s;if((s=e.outputConnection)!=null&&s.targetBlock())return e.outputConnection.targetBlock()}return e.workspace}getNextSibling(e){let t;if((t=e.nextConnection)!=null&&t.targetBlock()){let u;return(u=e.nextConnection)==null?void 0:u.targetBlock()}let s;return(s=e.outputConnection)!=null&&s.targetBlock()?$s(e,1):e.getSurroundParent()?$s(e.getTopStackBlock(),1):this.getParent(e)instanceof xl?as(e,1):null}getPreviousSibling(e){let t;if((t=e.previousConnection)!=null&&t.targetBlock()){let u;return(u=e.previousConnection)==null?void 0:u.targetBlock()}let s;return(s=e.outputConnection)!=null&&s.targetBlock()?$s(e,-1):this.getParent(e)instanceof xl?as(e,-1):null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Ji}},z3=class{getFirstChild(e){return null}getParent(e){return e.getCommentView().workspace.getCommentById(e.getCommentView().commentId)}getNextSibling(e){const t=e.getCommentView().getCommentBarButtons();return e=t.indexOf(e),e>=0&&e+1<t.length?t[e+1]:null}getPreviousSibling(e){const t=e.getCommentView().getCommentBarButtons();return e=t.indexOf(e),e>0?t[e-1]:null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Bh}},M2=class{getFirstChild(e){return null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof t4}},R2=class{getFirstChild(e){return e.getParentInput()?e.targetConnection:null}getParent(e){return e.getSourceBlock()}getNextSibling(e){if(e.getParentInput())return $s(e,1);if(e.type===Tn.NEXT_STATEMENT){const s=e.targetConnection;var t=e.getSourceBlock();if(!s&&t.getRootBlock().lastConnectionInStack(!1)===e){e=t.workspace.getTopBlocks(!0),t=e.indexOf(t.getRootBlock())+1,t>=e.length&&(t=0),t=e[t];let u;return(u=this.getParentConnection(t))!=null?u:t}return s}return e.getSourceBlock()}getPreviousSibling(e){if(e.getParentInput())return $s(e,-1);if(e.type===Tn.PREVIOUS_STATEMENT||e.type===Tn.OUTPUT_VALUE){const s=e.targetConnection&&!e.targetConnection.getParentInput()?e.targetConnection:null;var t=e.getSourceBlock();if(!s&&this.getParentConnection(t.getRootBlock())===e){e=t.workspace.getTopBlocks(!0),t=e.indexOf(t.getRootBlock())-1,t<0&&(t=e.length-1),t=e[t];let u;return(u=t.lastConnectionInStack(!1))!=null?u:t}return s}return e.type===Tn.NEXT_STATEMENT?e.getSourceBlock():null}getParentConnection(e){let t;return!e.outputConnection||(t=e.previousConnection)!=null&&t.isConnected()?e.previousConnection:e.outputConnection}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Io}},N2=class{getFirstChild(e){return null}getParent(e){return e.getSourceBlock()}getNextSibling(e){return $s(e,1)}getPreviousSibling(e){return $s(e,-1)}isNavigable(e){let t;return e.canBeFocused()&&e.isVisible()&&(e.isClickable()||e.isCurrentlyEditable())&&!((t=e.getSourceBlock())!=null&&t.isSimpleReporter()&&e.isFullBlockField())&&e.getParentInput().isVisible()}isApplicable(e){return e instanceof Li}},z1={};z1.register=Nr,z1.unregister=mi;var O2=17,U3=160,a4=80,Yl=class extends Mc{constructor(e){super(e),this.sourceBlock=e,this.textInputBubble=null,this.text="",this.bubbleSize=new _r(U3,a4),this.bubbleVisiblity=!1}getType(){return Yl.TYPE}initView(e){this.svgRoot||(super.initView(e),dt(ht.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},this.svgRoot),dt(ht.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},this.svgRoot),dt(ht.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},this.svgRoot),tn(this.svgRoot,"blocklyCommentIcon"))}dispose(){super.dispose();let e;(e=this.textInputBubble)==null||e.dispose()}getWeight(){return Yl.WEIGHT}getSize(){return new _r(O2,O2)}applyColour(){super.applyColour();const e=this.sourceBlock.getColour();let t;(t=this.textInputBubble)==null||t.setColour(e)}updateEditable(){const e=this,t=()=>super.updateEditable;return(0,_t.asyncExecutePromiseGeneratorFunction)(function*(){t().call(e),e.bubbleIsVisible()&&(yield e.setBubbleVisible(!1),yield e.setBubbleVisible(!0))})}onLocationChange(e){const t=this.workspaceLocation;super.onLocationChange(e),this.bubbleLocation&&(e=Wt.difference(this.workspaceLocation,t),this.bubbleLocation=Wt.sum(this.bubbleLocation,e)),e=this.getAnchorLocation();let s;(s=this.textInputBubble)==null||s.setAnchorLocation(e)}setText(e){const t=this.text;le(new(an(mt.BLOCK_CHANGE))(this.sourceBlock,"comment",null,t,e)),this.text=e;let s;(s=this.textInputBubble)==null||s.setText(this.text)}getText(){return this.text}setBubbleSize(e){this.bubbleSize=e;let t;(t=this.textInputBubble)==null||t.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}setBubbleLocation(e){this.bubbleLocation=e;let t;(t=this.textInputBubble)==null||t.moveDuringDrag(e)}getBubbleLocation(){return this.bubbleLocation}saveState(){if(this.text){const e={text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width},t=this.getBubbleLocation();return t&&(e.x=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(t.x+this.bubbleSize.width):t.x,e.y=t.y),e}return null}loadState(e){let t;this.text=(t=e.text)!=null?t:"";let s,u;this.bubbleSize=new _r((s=e.width)!=null?s:U3,(u=e.height)!=null?u:a4);let v;this.bubbleVisiblity=(v=e.pinned)!=null?v:!1,this.setBubbleVisible(this.bubbleVisiblity);let R=e.x;const ee=e.y;jn().then(()=>{R&&ee&&(R=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(R+this.bubbleSize.width):R,this.setBubbleLocation(new Wt(R,ee)))})}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}onTextChange(){if(this.textInputBubble){var e=this.textInputBubble.getText();this.text!==e&&(le(new(an(mt.BLOCK_CHANGE))(this.sourceBlock,"comment",null,this.text,e)),this.text=e)}}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}onBubbleLocationChange(){this.textInputBubble&&(this.bubbleLocation=this.textInputBubble.getRelativeToSurfaceXY())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(e){const t=this;return(0,_t.asyncExecutePromiseGeneratorFunction)(function*(){t.bubbleVisiblity!==e&&(t.bubbleVisiblity=e,yield jn(),!t.sourceBlock.rendered||t.sourceBlock.isInFlyout||t.sourceBlock.isInsertionMarker()||(e?(t.sourceBlock.isEditable()?t.showEditableBubble():t.showNonEditableBubble(),t.applyColour()):t.hideBubble(),le(new(an(mt.BUBBLE_OPEN))(t.sourceBlock,e,"comment"))))})}getBubble(){return this.textInputBubble}showEditableBubble(){this.createBubble();let e;(e=this.textInputBubble)==null||e.addTextChangeListener(()=>this.onTextChange());let t;(t=this.textInputBubble)==null||t.addSizeChangeListener(()=>this.onSizeChange())}showNonEditableBubble(){this.createBubble();let e;(e=this.textInputBubble)==null||e.setEditable(!1)}createBubble(){this.textInputBubble=new sl(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect(),this),this.textInputBubble.setText(this.getText()),this.textInputBubble.setSize(this.bubbleSize,!0),this.bubbleLocation&&this.textInputBubble.moveDuringDrag(this.bubbleLocation),this.textInputBubble.addTextChangeListener(()=>this.onTextChange()),this.textInputBubble.addSizeChangeListener(()=>this.onSizeChange()),this.textInputBubble.addLocationChangeListener(()=>this.onBubbleLocationChange())}hideBubble(){let e;(e=this.textInputBubble)==null||e.dispose(),this.textInputBubble=null}getAnchorLocation(){const e=O2/2;return Wt.sum(this.workspaceLocation,new Wt(e,e))}getBubbleOwnerRect(){return this.sourceBlock.getBoundingRectangleWithoutChildren()}};Yl.TYPE=_s.COMMENT,Yl.WEIGHT=3,Nr(Yl.TYPE,Yl);var u4=class{getFirstChild(e){if(e instanceof n.MutatorIcon$$module$build$src$core$icons$mutator_icon&&e.bubbleIsVisible()&&n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===e){let t,s;return(s=(t=e.getBubble())==null?void 0:t.getWorkspace())!=null?s:null}if(e instanceof Yl&&e.bubbleIsVisible()&&n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===e){let t,s;return(s=(t=e.getBubble())==null?void 0:t.getEditor())!=null?s:null}return null}getParent(e){return e.getSourceBlock()}getNextSibling(e){return $s(e,1)}getPreviousSibling(e){return $s(e,-1)}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Mc}},L2=class{getFirstChild(e){return e.view.getCommentBarButtons()[0]}getParent(e){return e.workspace}getNextSibling(e){return as(e,1)}getPreviousSibling(e){return as(e,-1)}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof u0}},D2=class{getFirstChild(e){return e=e.getTopBlocks(!0),e.length?e[0]:null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()&&!e.isMutator}isApplicable(e){return e instanceof xl}},Hh=class{constructor(){this.rules=[new I2,new N2,new R2,new D2,new u4,new L2,new z3,new F3,new M2]}addNavigationPolicy(e){this.rules.push(e)}get(e){return this.rules.find(t=>t.isApplicable(e))}getFirstChild(e){let t;const s=(t=this.get(e))==null?void 0:t.getFirstChild(e);if(!s)return null;let u;return(u=this.get(s))!=null&&u.isNavigable(s)?s:this.getFirstChild(s)||this.getNextSibling(s)}getParent(e){let t;const s=(t=this.get(e))==null?void 0:t.getParent(e);if(!s)return null;let u;return(u=this.get(s))!=null&&u.isNavigable(s)?s:this.getParent(s)}getNextSibling(e){let t;const s=(t=this.get(e))==null?void 0:t.getNextSibling(e);if(!s)return null;let u;return(u=this.get(s))!=null&&u.isNavigable(s)?s:this.getNextSibling(s)}getPreviousSibling(e){let t;const s=(t=this.get(e))==null?void 0:t.getPreviousSibling(e);if(!s)return null;let u;return(u=this.get(s))!=null&&u.isNavigable(s)?s:this.getPreviousSibling(s)}},Ja=class extends Hh{constructor(e){super(),this.rules.push(new P3,new A2),this.rules=this.rules.map(t=>new F1(t,e))}},ba=class{constructor(e,t,s,u,v){this.workspace=e,this.oldHostMetrics=this.corner_=this.vScroll=this.hScroll=null,t=t===void 0?!0:t,s=s===void 0?!0:s;const R=t&&s;t&&(this.hScroll=new Cs(e,!0,R,u,v)),s&&(this.vScroll=new Cs(e,!1,R,u,v)),R&&(this.corner_=dt(ht.RECT,{height:Cs.scrollbarThickness,width:Cs.scrollbarThickness,class:"blocklyScrollbarBackground"}),Ei(this.corner_,e.getBubbleCanvas()))}dispose(){on(this.corner_),this.oldHostMetrics=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const e=this.workspace.getMetrics();if(e){var t=!1,s=!1;if(this.oldHostMetrics&&this.oldHostMetrics.viewWidth===e.viewWidth&&this.oldHostMetrics.viewHeight===e.viewHeight&&this.oldHostMetrics.absoluteTop===e.absoluteTop&&this.oldHostMetrics.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics&&this.oldHostMetrics.scrollWidth===e.scrollWidth&&this.oldHostMetrics.viewLeft===e.viewLeft&&this.oldHostMetrics.scrollLeft===e.scrollLeft||(t=!0),this.oldHostMetrics&&this.oldHostMetrics.scrollHeight===e.scrollHeight&&this.oldHostMetrics.viewTop===e.viewTop&&this.oldHostMetrics.scrollTop===e.scrollTop||(s=!0)):s=t=!0,t||s){try{n.disable$$module$build$src$core$events$utils(),this.hScroll&&t&&this.hScroll.resize(e),this.vScroll&&s&&this.vScroll.resize(e)}finally{n.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics||this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft){let u;(u=this.corner_)==null||u.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteTop!==e.absoluteTop){let u;(u=this.corner_)==null||u.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics=e}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(e,t){this.hScroll&&this.hScroll.setOrigin(e,t),this.vScroll&&this.vScroll.setOrigin(e,t)}set(e,t,s){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(t,!1),(s||s===void 0)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}setX(e){this.hScroll&&this.hScroll.set(e,!0)}setY(e){this.vScroll&&this.vScroll.set(e,!0)}setContainerVisible(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}isVisible(){let e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}setVisible(e){this.hScroll&&this.hScroll.setVisibleInternal(e),this.vScroll&&this.vScroll.setVisibleInternal(e)}resizeContent(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}resizeView(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}},Kl="sep",U1=class{load(e,t){return e=new l4(0,t.horizontalLayout?"x":"y"),new B1(e,Kl)}gapForItem(e,t){let s;return(s=parseInt(String(e.gap)))!=null?s:t}disposeItem(e){}getType(){return Kl}};a(Ut.FLYOUT_INFLATER,Kl,U1);var Nu=class extends D1{constructor(e){super(),this.horizontalLayout=!1,this.boundEvents=[],this.reflowWrapper=null,this.contents=[],this.autoClose=!0,this.visible=!1,this.containerVisible=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,this.inflaters=new Map,e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new xl(e),this.workspace_.setMetricsManager(new Uh(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.visible),this.workspace_.setNavigator(new Ja(this)),this.id=Xe(),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=this.MARGIN*3,this.GAP_Y=this.MARGIN*3}createDom(e){return this.svgGroup_=dt(e,{class:"blocklyFlyout"}),this.svgGroup_.style.display="none",this.svgBackground_=dt(ht.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new ba(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),this.boundEvents.push(ie(this.svgGroup_,"wheel",this,this.wheel_)),this.boundEvents.push(ie(this.svgBackground_,"pointerdown",this,this.onMouseDown)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:Si.ComponentWeight.FLYOUT_WEIGHT,capabilities:[Si.Capability.AUTOHIDEABLE,Si.Capability.DELETE_AREA,Si.Capability.DRAG_TARGET]})}dispose(){this.hide(),this.targetWorkspace.getComponentManager().removeComponent(this.id);for(const e of this.boundEvents)Ie(e);this.boundEvents.length=0,this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&on(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}setAutoClose(e){this.autoClose=e,this.targetWorkspace.recordDragTargets(),this.targetWorkspace.resizeContents()}autoHide(e){!e&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}getTargetWorkspace(){return this.targetWorkspace}isVisible(){return this.visible}setVisible(e){const t=e!==this.isVisible();this.visible=e,t&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay()}getContents(){return this.contents}setContents(e){this.contents=e}updateDisplay(){let e;e=this.containerVisible?this.isVisible():!1,this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none");let t;(t=this.workspace_.scrollbar)==null||t.setContainerVisible(e)}positionAt_(e,t,s,u){let v;(v=this.svgGroup_)==null||v.setAttribute("width",`${e}`);let R;(R=this.svgGroup_)==null||R.setAttribute("height",`${t}`),this.workspace_.setCachedParentSvgSize(e,t),this.svgGroup_&&Fi(this.svgGroup_,"translate("+s+"px,"+u+"px)"),(e=this.workspace_.scrollbar)&&(e.setOrigin(s,u),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}hide(){this.isVisible()&&(this.setVisible(!1),this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null))}show(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks(),typeof e=="string"&&(e=this.getDynamicCategoryContents(e)),this.setVisible(!0),e=wn(e),e=this.createFlyoutInfo(e),d(this.workspace_),this.setContents(e),this.layout_(e),this.horizontalLayout?this.height_=0:this.width_=0,this.reflow(),this.workspace_.setResizesEnabled(!0),this.reflowWrapper=t=>{t.type!==mt.BLOCK_CHANGE&&t.type!==mt.BLOCK_FIELD_INTERMEDIATE_CHANGE||this.reflow()},this.workspace_.addChangeListener(this.reflowWrapper)}createFlyoutInfo(e){const t=[],s=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const u of e)"custom"in u&&(e=this.getDynamicCategoryContents(u.custom),e=wn(e),t.push(...this.createFlyoutInfo(e))),e=u.kind.toLowerCase(),(e=this.getInflaterForType(e))&&(t.push(e.load(u,this)),(e=e.gapForItem(u,s))&&t.push(new B1(new l4(e,this.horizontalLayout?"x":"y"),Kl)));return this.normalizeSeparators(t)}normalizeSeparators(e){for(let t=e.length-1;t>0;t--){const s=e[t].getType().toLowerCase(),u=e[t-1].getType().toLowerCase();s===Kl&&u===Kl&&e.splice(t-1,1)}return e}getDynamicCategoryContents(e){if(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e),typeof e!="function")throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}clearOldBlocks(){this.getContents().forEach(t=>{let s;(s=this.getInflaterForType(t.getType()))==null||s.disposeItem(t)});let e;(e=this.workspace_.getPotentialVariableMap())==null||e.clear()}onMouseDown(e){const t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)}isBlockCreatable(e){return e.isEnabled()&&!this.getTargetWorkspace().isReadOnly()}createBlock(e){let t=null;n.disable$$module$build$src$core$events$utils();var s=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{t=this.placeNewBlock(e)}finally{n.enable$$module$build$src$core$events$utils()}if(this.targetWorkspace.hideChaff(),e=_o(this.targetWorkspace,s),sn()){for(n.setGroup$$module$build$src$core$events$utils(!0),s=0;s<e.length;s++){const u=e[s];le(new(an(mt.VAR_CREATE))(u))}le(new(an(mt.BLOCK_CREATE))(t))}return this.autoClose&&this.hide(),t}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowInternal_(),this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1}placeNewBlock(e){var t=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered");const s=this.serializeBlock(e);return t.setResizesEnabled(!1),t=Nl(s,t),this.positionNewBlock(e,t),t}serializeBlock(e){return qi(e)}positionNewBlock(e,t){const s=this.targetWorkspace;var u=s.getOriginOffsetInPixels(),v=this.workspace_.getOriginOffsetInPixels();e=e.getRelativeToSurfaceXY(),e.scale(this.workspace_.scale),v=Wt.sum(v,e),u=Wt.difference(v,u),u.scale(1/s.scale),t.moveTo(new Wt(u.x,u.y))}getInflaterForType(e){if(this.inflaters.has(e)){var t;return(t=this.inflaters.get(e))!=null?t:null}return(t=T(Ut.FLYOUT_INFLATER,e))?(t=new t,this.inflaters.set(e,t),t):null}getFocusableElement(){throw Error("Flyouts are not directly focusable.")}getFocusableTree(){throw Error("Flyouts are not directly focusable.")}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}getRootFocusableNode(){throw Error("Flyouts are not directly focusable.")}getRestoredFocusableNode(e){throw Error("Flyouts are not directly focusable.")}getNestedTrees(){throw Error("Flyouts are not directly focusable.")}lookUpFocusableNode(e){throw Error("Flyouts are not directly focusable.")}onTreeFocus(e,t){}onTreeBlur(e){throw Error("Flyouts are not directly focusable.")}},Za=class{constructor(){this.isActive=!1,this.activeClassName="blocklyKeyboardNavigation"}setIsActive(e=!0){this.isActive=e,this.updateActiveVisualization()}getIsActive(){return this.isActive}updateActiveVisualization(){this.isActive?document.body.classList.add(this.activeClassName):document.body.classList.remove(this.activeClassName)}},c4=new Za,B2=class{constructor(e){this.workspace=e,this.horizontalScrollEnabled=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled=this.workspace.isMovableVertically(),this.startScrollXY_=new Wt(e.scrollX,e.scrollY)}dispose(){this.workspace=null}startDrag(){}endDrag(e){this.drag(e)}drag(e){if(e=Wt.sum(this.startScrollXY_,e),this.horizontalScrollEnabled&&this.verticalScrollEnabled)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled)this.workspace.scroll(e.x,this.workspace.scrollY);else if(this.verticalScrollEnabled)this.workspace.scroll(this.workspace.scrollX,e.y);else throw new TypeError("Invalid state.")}},Gh=5,Y5=6,Vh=class{constructor(e,t){this.creatorWorkspace=t,this.mouseDownXY=new Wt(0,0),this.startWorkspace_=this.targetBlock=this.startComment=this.startBlock=this.startIcon=this.startField=this.startBubble=null,this.hasExceededDragRadius=!1,this.boundEvents=[],this.workspaceDragger=this.dragger=null,this.dragging=!1,this.flyout=null,this.multiTouch=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1,this.cachedPoints=new Map,this.startDistance=this.previousScale=0,this.currentDropdownOwner=this.isPinchZoomEnabled=null,this.mostRecentEvent=e,this.currentDragDeltaXY=new Wt(0,0)}dispose(){Z(),Ui(),this.creatorWorkspace.clearGesture();for(const e of this.boundEvents)Ie(e);this.boundEvents.length=0,this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(e){const t=new Wt(e.clientX,e.clientY);this.updateDragDelta(t)&&(this.updateIsDragging(e),B()),this.mostRecentEvent=e}updateDragDelta(e){return this.currentDragDeltaXY=Wt.difference(e,this.mouseDownXY),this.hasExceededDragRadius?!1:this.hasExceededDragRadius=Wt.magnitude(this.currentDragDeltaXY)>(this.flyout?n.config$$module$build$src$core$config.flyoutDragRadius:n.config$$module$build$src$core$config.dragRadius)}updateIsDraggingFromFlyout(){let e;if(!this.targetBlock||(e=this.flyout)==null||!e.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error(`Cannot update dragging from the flyout because the ' +
          'flyout's target workspace is undefined`);return!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)?(this.startWorkspace_=this.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),!0):!1}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.dragging=!0,this.workspaceDragger=new B2(this.startWorkspace_),this.workspaceDragger.startDrag())}updateIsDragging(e){if(!this.startWorkspace_)throw Error("Cannot update dragging because the start workspace is undefined");if(this.calledUpdateIsDragging)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging=!0,this.flyout&&this.updateIsDraggingFromFlyout();const t=De();t&&gi(t)&&t.isMovable()?(this.dragging=!0,this.dragger=this.createDragger(t,this.startWorkspace_),this.dragger.onDragStart(e),this.dragger.onDrag(e,this.currentDragDeltaXY)):this.updateIsDraggingWorkspace()}createDragger(e,t){return new(A(Ut.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(e,t)}doStart(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,Ge(e)?this.cancel():(this.gestureHasStarted=!0,Kt(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=Qu(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=e,Pr(),Te(e)?this.handleRightClick(e):(e.type.toLowerCase()==="pointerdown"&&e.pointerType!=="mouse"&&z(e,this),this.mouseDownXY=new Wt(e.clientX,e.clientY),this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}bindMouseEvents(e){this.boundEvents.push(ie(document,"pointerdown",null,this.handleStart.bind(this),!0)),this.boundEvents.push(ie(document,"pointermove",null,this.handleMove.bind(this),!0)),this.boundEvents.push(ie(document,"pointerup",null,this.handleUp.bind(this),!0)),this.boundEvents.push(ie(document,"pointercancel",null,this.handleUp.bind(this),!0)),e.preventDefault(),e.stopPropagation()}handleStart(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&B())}handleMove(e){this.isDragging()&&ce(e)||!this.isMultiTouch()?(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),B())}handleUp(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!ce(e))return;if(this.updateFromEvent(e),B(),this.isEnding_){console.log("Trying to end a gesture recursively.");return}this.isEnding_=!0,this.dragger?(c4.setIsActive(!1),this.dragger.onDragEnd(e,this.currentDragDeltaXY)):this.workspaceDragger?(c4.setIsActive(!1),this.workspaceDragger.endDrag(this.currentDragDeltaXY)):this.isBubbleClick()||this.isCommentClick()||(this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(e))}e.preventDefault(),e.stopPropagation(),this.dispose()}handleTouchStart(e){var t=oe(e);this.cachedPoints.set(t,this.getTouchPoint(e));var s=Array.from(this.cachedPoints.keys());s.length===2&&(t=this.cachedPoints.get(s[0]),s=this.cachedPoints.get(s[1]),this.startDistance=Wt.distance(t,s),this.multiTouch=!0,e.preventDefault())}handleTouchMove(e){const t=oe(e);this.cachedPoints.set(t,this.getTouchPoint(e)),this.isPinchZoomEnabled&&this.cachedPoints.size===2?this.handlePinch(e):(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation())}handlePinch(e){var t=Array.from(this.cachedPoints.keys()),s=this.cachedPoints.get(t[0]);if(t=this.cachedPoints.get(t[1]),s=Wt.distance(s,t)/this.startDistance,this.previousScale>0&&this.previousScale<1/0){if(t=s-this.previousScale,t=t>0?t*Gh:t*Y5,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");const u=this.startWorkspace_,v=We(e,u.getParentSvg(),u.getInverseScreenCTM());u.zoom(v.x,v.y,t)}this.previousScale=s,e.preventDefault()}handleTouchEnd(e){e=oe(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),this.cachedPoints.size<2&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(e){return this.startWorkspace_?new Wt(e.pageX,e.pageY):null}isMultiTouch(){return this.multiTouch}cancel(){this.isEnding_||(B(),this.dragger?this.dragger.onDragEnd(this.mostRecentEvent,this.currentDragDeltaXY):this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY),this.dispose())}handleRightClick(e){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(e)):this.startBubble?this.startBubble.showContextMenu(e):this.startComment?(this.startComment.workspace.hideChaff(),this.startComment.showContextMenu(e)):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startWorkspace_),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),c4.setIsActive(!1),this.dispose()}handleWsStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace(t),this.mostRecentEvent=e,this.startBlock||this.startBubble||this.startComment?this.startBlock&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startBlock):n.getFocusManager$$module$build$src$core$focus_manager().focusNode(t),this.doStart(e)}fireWorkspaceClick(e){le(new(an(mt.CLICK))(null,e.id,"workspace"))}handleFlyoutStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout(t),this.handleWsStart(e,t.getWorkspace())}handleBlockStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent=e}handleBubbleStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent=e}handleCommentStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleCommentStart, but the gesture had already been started.");this.setStartComment(t),this.mostRecentEvent=e}doFieldClick(){if(!this.startField)throw Error("Cannot do a field click because the start field is undefined");this.bringBlockToFront(),this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent)}doIconClick(){if(!this.startIcon)throw Error("Cannot do an icon click because the start icon is undefined");this.bringBlockToFront(),this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error("Cannot do a block click because the target block is undefined");if(this.flyout.isBlockCreatable(this.targetBlock)){n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0);var e=this.flyout.createBlock(this.targetBlock);e.snapToGrid(),e.bumpNeighbours(),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");e=new(an(mt.CLICK))(this.startBlock,this.startWorkspace_.id,"block"),le(e)}this.bringBlockToFront(),n.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(e){this.fireWorkspaceClick(this.startWorkspace_||this.creatorWorkspace)}bringBlockToFront(){this.targetBlock&&!this.flyout&&(n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),this.targetBlock.bringToFront())}setStartField(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField||(this.startField=e)}setStartIcon(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartIcon, but the gesture had already been started.");this.startIcon||(this.startIcon=e)}setStartBubble(e){this.startBubble||(this.startBubble=e)}setStartComment(e){this.startComment||(this.startComment=e)}setStartBlock(e){this.startBlock||this.startBubble||(this.startBlock=e,e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock(e.getRootBlock()):this.setTargetBlock(e))}setTargetBlock(e){e.isShadow()?this.setTargetBlock(e.getParent()):(this.targetBlock=e,n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e))}setStartWorkspace(e){this.startWorkspace_||(this.startWorkspace_=e)}setStartFlyout(e){this.flyout||(this.flyout=e)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isCommentClick(){return!!this.startComment&&!this.hasExceededDragRadius}isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}isFieldClick(){return this.startField?this.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose)):!1}isIconClick(){if(!this.startIcon)return!1;const e=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&e}isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}getCurrentDragger(){let e,t;return(t=(e=this.workspaceDragger)!=null?e:this.dragger)!=null?t:null}isDragging(){return this.dragging}hasStarted(){return this.gestureHasStarted}static inProgress(){const e=Qe();for(let t=0,s;s=e[t];t++)if(s.currentGesture_)return!0;return!1}},H1=class{constructor(e,t){this.pattern=e,this.scale=1;let s;this.spacing=(s=t.spacing)!=null?s:0;let u;this.length=(u=t.length)!=null?u:1,this.line2=(this.line1=e.firstChild)&&this.line1.nextSibling;let v;this.snapToGrid=(v=t.snap)!=null?v:!1}setSpacing(e){this.spacing=e,this.update(this.scale)}getSpacing(){return this.spacing}setLength(e){this.length=e,this.update(this.scale)}getLength(){return this.length}setSnapToGrid(e){this.snapToGrid=e}shouldSnap(){return this.snapToGrid}getPatternId(){return this.pattern.id}update(e){this.scale=e;var t=this.spacing*e;this.pattern.setAttribute("width",`${t}`),this.pattern.setAttribute("height",`${t}`),t=Math.floor(this.spacing/2)+.5;let s=t-this.length/2,u=t+this.length/2;t*=e,s*=e,u*=e,this.setLineAttributes(this.line1,e,s,u,t,t),this.setLineAttributes(this.line2,e,t,t,s,u)}setLineAttributes(e,t,s,u,v,R){e&&(e.setAttribute("stroke-width",`${t}`),e.setAttribute("x1",`${s}`),e.setAttribute("y1",`${v}`),e.setAttribute("x2",`${u}`),e.setAttribute("y2",`${R}`))}moveTo(e,t){this.pattern.setAttribute("x",`${e}`),this.pattern.setAttribute("y",`${t}`)}alignXY(e){var t=this.getSpacing();const s=t/2,u=Math.round(Math.round((e.x-s)/t)*t+s);return t=Math.round(Math.round((e.y-s)/t)*t+s),u===e.x&&t===e.y?e:new Wt(u,t)}static createDom(e,t,s,u){e=dt(ht.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},s);let v,R;if(((v=t.length)!=null?v:1)>0&&((R=t.spacing)!=null?R:0)>0){dt(ht.LINE,{stroke:t.colour},e);let ee;(ee=t.length)!=null&&ee&&dt(ht.LINE,{stroke:t.colour},e)}else dt(ht.LINE,{},e);return u&&u.style.setProperty("--blocklyGridPattern",`url(#${e.id})`),e}},H3=class{constructor(e){this.workspace=e,this.layers=new Map,(e=e.getInjectionDiv())&&(this.dragLayer=this.createDragLayer(e),this.animationLayer=this.createAnimationLayer(e)),e=this.createLayer(Au),tn(e,"blocklyBlockCanvas"),e=this.createLayer(Dh),tn(e,"blocklyBubbleCanvas")}createDragLayer(e){const t=dt(ht.SVG,{class:"blocklyBlockDragSurface",xmlns:v1,"xmlns:html":Ua,"xmlns:xlink":il,version:"1.1"});return e.append(t),dt(ht.G,{},t)}createAnimationLayer(e){const t=dt(ht.SVG,{class:"blocklyAnimationLayer",xmlns:v1,"xmlns:html":Ua,"xmlns:xlink":il,version:"1.1"});return e.append(t),dt(ht.G,{},t)}appendToAnimationLayer(e){let t;const s=(t=this.dragLayer)==null?void 0:t.getAttribute("transform");if(s){let v;(v=this.animationLayer)==null||v.setAttribute("transform",s)}let u;(u=this.animationLayer)==null||u.appendChild(e.getSvgRoot())}translateLayers(e,t){e=`translate(${e.x}, ${e.y}) scale(${t})`;let s;(s=this.dragLayer)==null||s.setAttribute("transform",e);for(const[,u]of this.layers)u.setAttribute("transform",e)}moveToDragLayer(e){let t;(t=this.dragLayer)==null||t.appendChild(e.getSvgRoot()),e.canBeFocused()&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}moveOffDragLayer(e,t){this.append(e,t),e.canBeFocused()&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}append(e,t){this.layers.has(t)||this.createLayer(t),e=e.getSvgRoot();let s;if(((s=this.layers.get(t))==null?void 0:s.lastChild)!==e){let u;(u=this.layers.get(t))==null||u.appendChild(e)}}createLayer(e){const t=this.workspace.getSvgGroup(),s=dt(ht.G,{});let u=!1;const v=[...this.layers].sort((R,ee)=>R[0]-ee[0]);for(const[R,ee]of v)if(e<R){t.insertBefore(s,ee),u=!0;break}return u||t.appendChild(s),this.layers.set(e,s),s}hasLayer(e){return e===this.dragLayer||new Set(this.layers.values()).has(e)}getBlockLayer(){return this.layers.get(Au)}getBubbleLayer(){return this.layers.get(Dh)}},G3=class{constructor(){this.curNode=this.colour=null,this.type="marker"}getCurNode(){return this.curNode}setCurNode(e){this.curNode=e}dispose(){this.curNode=null}getSourceBlockFromNode(e){return e instanceof Ji?e:e instanceof Li||e instanceof Io?e.getSourceBlock():null}getSourceBlock(){return this.getSourceBlockFromNode(this.getCurNode())}},G1=class extends G3{constructor(e){super(),this.workspace=e,this.type="cursor",this.potentialNodes=null}next(){var e=this.getCurNode();return e?((e=this.getNextNode(e,t=>{let s;return t instanceof Ji&&!((s=t.outputConnection)!=null&&s.targetBlock())||t instanceof u0},!0))&&this.setCurNode(e),e):null}in(){var e=this.getCurNode();return e?((e=this.getNextNode(e,()=>!0,!0))&&this.setCurNode(e),e):null}prev(){var e=this.getCurNode();return e?((e=this.getPreviousNode(e,t=>{let s;return t instanceof Ji&&!((s=t.outputConnection)!=null&&s.targetBlock())||t instanceof u0},!0))&&this.setCurNode(e),e):null}out(){var e=this.getCurNode();return e?((e=this.getPreviousNode(e,()=>!0,!0))&&this.setCurNode(e),e):null}atEndOfLine(){var e=this.getCurNode();if(!e)return!1;const t=this.getNextNode(e,()=>!0,!0);return e=this.getNextNode(e,s=>{let u;return s instanceof Ji&&!((u=s.outputConnection)!=null&&u.targetBlock())},!0),t===e}getNextNodeImpl(e,t,s=new Set){if(!e||s.has(e))return null;let u=this.workspace.getNavigator().getFirstChild(e)||this.workspace.getNavigator().getNextSibling(e);for(var v=e;v&&!u&&(v=this.workspace.getNavigator().getParent(v),!!v);)u=this.workspace.getNavigator().getNextSibling(v);return t(u)?u:u?(s.add(e),this.getNextNodeImpl(u,t,s)):null}getNextNode(e,t,s){return!e||!s&&this.getLastNode()===e?null:this.getNextNodeImpl(e,t)}getPreviousNodeImpl(e,t,s=new Set){if(!e||s.has(e))return null;const u=this.getRightMostChild(this.workspace.getNavigator().getPreviousSibling(e),e)||this.workspace.getNavigator().getParent(e);return t(u)?u:u?(s.add(e),this.getPreviousNodeImpl(u,t,s)):null}getPreviousNode(e,t,s){return!e||!s&&this.getFirstNode()===e?null:this.getPreviousNodeImpl(e,t)}getRightMostChild(e,t){if(!e)return e;let s=this.workspace.getNavigator().getFirstChild(e);if(!s||s===t)return e;for(e=s;e&&e!==t;e=this.workspace.getNavigator().getNextSibling(s))s=e;return this.getRightMostChild(s,t)}preDelete(e){var t=this.getCurNode();t=t?[t]:[];var s;let u,v;const R=(v=(s=e.previousConnection)==null?void 0:s.targetConnection)!=null?v:(u=e.outputConnection)==null?void 0:u.targetConnection;R&&t.push(R),(s=e.getNextBlock())&&t.push(s),(e=e.getParent())&&t.push(e),t.push(this.workspace),this.potentialNodes=t}postDelete(){const e=this.potentialNodes;if(this.potentialNodes=null,!e)throw Error("must call preDelete first");for(const t of e){let s;if((s=this.getSourceBlockFromNode(t))==null||!s.disposed){this.setCurNode(t);return}}throw Error("no valid nodes in this.potentialNodes")}getCurNode(){return n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()}setCurNode(e){n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}getFirstNode(){return this.workspace.getNavigator().getFirstChild(this.workspace)}getLastNode(){const e=this.getFirstNode();return this.getPreviousNode(e,()=>!0,!0)}};a(Ut.CURSOR,ml,G1);var V1=class{constructor(e){this.workspace=e,this.markers=new Map,this.cursor=new G1(this.workspace)}registerMarker(e,t){this.markers.has(e)&&this.unregisterMarker(e),this.markers.set(e,t)}unregisterMarker(e){const t=this.markers.get(e);if(t)t.dispose(),this.markers.delete(e);else throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.")}getCursor(){return this.cursor}getMarker(e){return this.markers.get(e)||null}setCursor(e){this.cursor=e}dispose(){const e=Object.keys(this.markers);for(let t=0,s;s=e[t];t++)this.unregisterMarker(s);this.markers.clear(),this.cursor.dispose()}};V1.LOCAL_MARKER="local_marker_1";var Qa={};Qa.CommentIcon=Yl,Qa.Icon=Mc,Qa.IconType=_s,Qa.MutatorIcon=n.MutatorIcon$$module$build$src$core$icons$mutator_icon,Qa.WarningIcon=$a,Qa.exceptions=S2,Qa.registry=z1,n.Names$$module$build$src$core$names=class{constructor(e,t){this.db=new Map,this.dbReverse=new Set,this.variableMap=null,this.variablePrefix=t||"",this.reservedWords=new Set(e?e.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap=null}setVariableMap(e){this.variableMap=e}getNameForUserVariable(e){return this.variableMap?(e=this.variableMap.getVariableById(e))?e.getName():null:(console.warn(`Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:
Blockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());`),null)}populateVariables(e){e=n.allUsedVarModels$$module$build$src$core$variables(e);for(let t=0;t<e.length;t++)this.getName(e[t].getId(),n.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(e,t){let s=e;t===n.NameType$$module$build$src$core$names.VARIABLE&&(e=this.getNameForUserVariable(e))&&(s=e),e=s.toLowerCase();const u=t===n.NameType$$module$build$src$core$names.VARIABLE||t===n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"";this.db.has(t)||this.db.set(t,new Map);const v=this.db.get(t);return v.has(e)?u+v.get(e):(t=this.getDistinctName(s,t),v.set(e,t.substr(u.length)),t)}getUserNames(e){let t;return(e=(t=this.db.get(e))==null?void 0:t.keys())?Array.from(e):[]}getDistinctName(e,t){e=this.safeName(e);let s=null,u,v;for(;this.dbReverse.has(e+((u=s)!=null?u:""))||this.reservedWords.has(e+((v=s)!=null?v:""));)s=s?s+1:2;let R;return e+=(R=s)!=null?R:"",this.dbReverse.add(e),(t===n.NameType$$module$build$src$core$names.VARIABLE||t===n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"")+e}safeName(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),"0123456789".includes(e[0])&&(e="my_"+e)):e=n.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed",e}static equals(e,t){return e.toLowerCase()===t.toLowerCase()}},(function(e){e=e.NameType||(e.NameType={}),e.DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",e.VARIABLE="VARIABLE",e.PROCEDURE="PROCEDURE"})(n.Names$$module$build$src$core$names||(n.Names$$module$build$src$core$names={})),n.NameType$$module$build$src$core$names=n.Names$$module$build$src$core$names.NameType,n.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,n.NameType$$module$build$src$core$names,n.Names$$module$build$src$core$names;var Bc=class extends Map{constructor(){super()}set(e,t){return this.get(e)===t?this:(super.set(e,t),ji(t)&&t.startPublishing(),this)}delete(e){const t=this.get(e);return e=super.delete(e),e&&(ji(t)&&t.stopPublishing(),e)}clear(){if(this.size)for(const e of this.keys())this.delete(e)}add(e){return this.set(e.getId(),e)}getProcedures(){return[...this.values()]}},Wh,Ro;Wh="PROCEDURE",n.DEFAULT_ARG$$module$build$src$core$procedures="x",Ro={CATEGORY_NAME:Wh,DEFAULT_ARG:n.DEFAULT_ARG$$module$build$src$core$procedures},Ro.ObservableProcedureMap=Bc,Ro.allProcedures=$o,Ro.findLegalName=n.findLegalName$$module$build$src$core$procedures,Ro.flyoutCategory=rl,Ro.getCallers=rd,Ro.getDefinition=n.getDefinition$$module$build$src$core$procedures,Ro.internalFlyoutCategory=C0,Ro.isNameUsed=dc,Ro.isProcedureBlock=ci,Ro.mutateCallers=n.mutateCallers$$module$build$src$core$procedures,Ro.mutatorOpenListener=Q0,Ro.rename=n.rename$$module$build$src$core$procedures;var h4=class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}getType(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}isField(e){return(e.type&this.FIELD)>=1}isHat(e){return(e.type&this.HAT)>=1}isIcon(e){return(e.type&this.ICON)>=1}isSpacer(e){return(e.type&this.SPACER)>=1}isInRowSpacer(e){return(e.type&this.IN_ROW_SPACER)>=1}isSpacerRow(e){return(e.type&this.BETWEEN_ROW_SPACER)>=1}isInput(e){return(e.type&this.INPUT)>=1}isExternalInput(e){return(e.type&this.EXTERNAL_VALUE_INPUT)>=1}isInlineInput(e){return(e.type&this.INLINE_INPUT)>=1}isStatementInput(e){return(e.type&this.STATEMENT_INPUT)>=1}isPreviousConnection(e){return(e.type&this.PREVIOUS_CONNECTION)>=1}isNextConnection(e){return(e.type&this.NEXT_CONNECTION)>=1}isPreviousOrNextConnection(e){return this.isPreviousConnection(e)||this.isNextConnection(e)}isRoundCorner(e){return(e.type&this.LEFT_ROUND_CORNER)>=1||(e.type&this.RIGHT_ROUND_CORNER)>=1}isLeftRoundedCorner(e){return this.isRoundCorner(e)&&(e.type&this.LEFT_ROUND_CORNER)>=1}isRightRoundedCorner(e){return this.isRoundCorner(e)&&(e.type&this.RIGHT_ROUND_CORNER)>=1}isLeftSquareCorner(e){return(e.type&this.LEFT_SQUARE_CORNER)>=1}isRightSquareCorner(e){return(e.type&this.RIGHT_SQUARE_CORNER)>=1}isCorner(e){return(e.type&this.CORNER)>=1}isJaggedEdge(e){return(e.type&this.JAGGED_EDGE)>=1}isRow(e){return(e.type&this.ROW)>=1}isBetweenRowSpacer(e){return(e.type&this.BETWEEN_ROW_SPACER)>=1}isTopRow(e){return(e.type&this.TOP_ROW)>=1}isBottomRow(e){return(e.type&this.BOTTOM_ROW)>=1}isTopOrBottomRow(e){return this.isTopRow(e)||this.isBottomRow(e)}isInputRow(e){return(e.type&this.INPUT_ROW)>=1}},qe=new h4,va=class{constructor(e){this.centerline=this.xPos=this.height=this.width=0,this.constants_=e,this.type=qe.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},Ou=class{constructor(e){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=e,this.type=qe.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let e=this.elements.length-1;e>=0;e--){const t=this.elements[e];if(qe.isInput(t))return t}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let e=0;e<this.elements.length;e++){const t=this.elements[e];if(qe.isInRowSpacer(t))return t}return null}getLastSpacer(){for(let e=this.elements.length-1;e>=0;e--){const t=this.elements[e];if(qe.isInRowSpacer(t))return t}return null}},i=class extends Ou{constructor(e){super(e),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=qe.BOTTOM_ROW}hasLeftSquareCorner(e){return!!e.outputConnection||!!e.getNextBlock()}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,s=0;for(let u=0;u<this.elements.length;u++){const v=this.elements[u];t+=v.width,qe.isSpacer(v)||(qe.isNextConnection(v)?s=Math.max(s,v.height):e=Math.max(e,v.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+s,this.descenderHeight=s,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},l=class extends va{constructor(e,t){super(e),this.connectionModel=t,this.type|=qe.CONNECTION,this.shape=this.constants_.shapeFor(t),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.highlighted=t.isHighlighted()}},c=class extends l{constructor(e,t){super(e,t.connection),this.input=t,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=qe.INPUT,this.align=t.align,(this.connectedBlock=t.connection&&t.connection.targetBlock()?t.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},m=class extends c{constructor(e,t){super(e,t),this.height=0,this.type|=qe.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},S=class extends va{constructor(e,t,s){super(e),this.field=t,this.parentInput=s,this.isEditable=t.EDITABLE,this.flipRtl=t.getFlipRtl(),this.type|=qe.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width}},I=class extends va{constructor(e){super(e),this.type|=qe.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},X=class extends va{constructor(e,t){super(e),this.icon=t,this.flipRtl=!1,this.type|=qe.ICON,e=t.getSize(),this.height=e.height,this.width=e.width}},me=class extends va{constructor(e,t){super(e),this.type|=qe.SPACER|qe.IN_ROW_SPACER,this.width=t,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},Ve=class extends c{constructor(e,t){super(e,t),this.type|=qe.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},bt=class extends Ou{constructor(e){super(e),this.connectedBlockWidths=0,this.type|=qe.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let e=0;for(let t=0;t<this.elements.length;t++){const s=this.elements[t];this.width+=s.width,qe.isInput(s)&&(qe.isStatementInput(s)?e+=s.connectedBlockWidth:qe.isExternalInput(s)&&s.connectedBlockWidth!==0&&(e+=s.connectedBlockWidth-s.connectionWidth)),qe.isSpacer(s)||(this.height=Math.max(this.height,s.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},Ht=class extends va{constructor(e){super(e),this.type|=qe.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},jt=class extends l{constructor(e,t){super(e,t),this.type|=qe.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},xt=class extends l{constructor(e,t){super(e,t),this.connectionOffsetX=0,this.type|=qe.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},Rt=class extends l{constructor(e,t){super(e,t),this.type|=qe.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},xn=class extends va{constructor(e,t){super(e),this.type=(t&&t!=="left"?qe.RIGHT_ROUND_CORNER:qe.LEFT_ROUND_CORNER)|qe.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},rr=class extends Ou{constructor(e,t,s){super(e),this.height=t,this.width=s,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type|=qe.SPACER|qe.BETWEEN_ROW_SPACER,this.elements=[new me(this.constants_,s)]}measure(){}},ki=class extends va{constructor(e,t){super(e),this.type=(t&&t!=="left"?qe.RIGHT_SQUARE_CORNER:qe.LEFT_SQUARE_CORNER)|qe.CORNER,this.width=this.height=this.constants_.NO_PADDING}},ot=class extends c{constructor(e,t){super(e,t),this.type|=qe.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},Ye=class extends Ou{constructor(e){super(e),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=qe.TOP_ROW}hasLeftSquareCorner(e){const t=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,s=e.getPreviousBlock();return!!e.outputConnection||t||(s?s.getNextBlock()===e:!1)}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,s=0;for(let u=0;u<this.elements.length;u++){const v=this.elements[u];t+=v.width,qe.isSpacer(v)||(qe.isHat(v)?s=Math.max(s,v.ascenderHeight):e=Math.max(e,v.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+s,this.capline=this.ascenderHeight=s,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},gt=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs=null,this.embossFilterId="",this.embossFilter=null,this.disabledPatternId="",this.disabledPattern=null,this.debugFilterId="",this.cssNode=this.debugFilter=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=Ri(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(e){this.blockStyles=Object.create(null);const t=e.blockStyles;for(const s in t)this.blockStyles[s]=this.validatedBlockStyle_(t[s]);this.setDynamicProperties_(e)}setDynamicProperties_(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=e.startHats!==void 0?e.startHats:this.ADD_START_HATS}setFontConstants_(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=U("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}setComponentConstants_(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(e){const t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}}getBlockStyle(e){return this.blockStyles[e||""]||(e&&e.startsWith("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(e){return this.validatedBlockStyle_({colourPrimary:e})}validatedBlockStyle_(e){const t={};return e&&Object.assign(t,e),e=Mi(t.colourPrimary||"#000"),t.colourPrimary=e.hex,t.colourSecondary=t.colourSecondary?Mi(t.colourSecondary).hex:this.generateSecondaryColour_(t.colourPrimary),t.colourTertiary=t.colourTertiary?Mi(t.colourTertiary).hex:this.generateTertiaryColour_(t.colourPrimary),t.hat=t.hat||"",t}generateSecondaryColour_(e){return ro("#fff",e,.6)||e}generateTertiaryColour_(e){return ro("#fff",e,.3)||e}dispose(){this.embossFilter&&on(this.embossFilter),this.disabledPattern&&on(this.disabledPattern),this.debugFilter&&on(this.debugFilter),this.cssNode=null}makeJaggedTeeth(){const e=this.JAGGED_TEETH_HEIGHT,t=this.JAGGED_TEETH_WIDTH,s=g([Dn(t,e/4),Dn(-t*2,e/2),Dn(t,e/4)]);return{height:e,width:t,path:s}}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,s=nl("c",[Dn(30,-e),Dn(70,-e),Dn(t,0)]);return{height:e*.75,width:t,path:s}}makePuzzleTab(){function e(R){R=R?-1:1;const ee=-R;var Me=s/2;const Bt=Me+2.5,zn=Me+.5,qs=Dn(-t,R*Me);return Me=Dn(t,R*Me),nl("c",[Dn(0,R*Bt),Dn(-t,ee*zn),qs])+nl("s",[Dn(t,ee*2.5),Me])}const t=this.TAB_WIDTH,s=this.TAB_HEIGHT,u=e(!0),v=e(!1);return{type:this.SHAPES.PUZZLE,width:t,height:s,pathDown:v,pathUp:u}}makeNotch(){function e(ee){return g([Dn(ee*u,s),Dn(ee*3,0),Dn(ee*u,-s)])}const t=this.NOTCH_WIDTH,s=this.NOTCH_HEIGHT,u=(t-3)/2,v=e(1),R=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:s,pathLeft:v,pathRight:R}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=b("a","0 0,0",e,Dn(-e,e)),s=b("a","0 0,0",e,Dn(e,e));return{width:e,height:e,pathTop:t,pathBottom:s}}makeOutsideCorners(){const e=this.CORNER_RADIUS,t=Ri(0,e)+b("a","0 0,1",e,Dn(e,-e)),s=b("a","0 0,1",e,Dn(e,e)),u=b("a","0 0,1",e,Dn(-e,-e)),v=b("a","0 0,1",e,Dn(-e,e));return{topLeft:t,topRight:s,bottomRight:v,bottomLeft:u,rightHeight:e}}shapeFor(e){switch(e.type){case Tn.INPUT_VALUE:case Tn.OUTPUT_VALUE:return this.PUZZLE_TAB;case Tn.PREVIOUS_STATEMENT:case Tn.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(e,t,s,u){this.injectCSS_(t,s),this.defs=dt(ht.DEFS,{},e),e=dt(ht.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs),dt(ht.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),t=dt(ht.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),dt(ht.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},t),dt(ht.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),dt(ht.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter=e,e=dt(ht.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs),dt(ht.RECT,{width:10,height:10,fill:"#aaa"},e),dt(ht.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern=e,this.createDebugFilter(),u&&(u.style.setProperty("--blocklyEmbossFilter",`url(#${this.embossFilterId})`),u.style.setProperty("--blocklyDisabledPattern",`url(#${this.disabledPatternId})`),u.style.setProperty("--blocklyDebugFilter",`url(#${this.debugFilterId})`))}createDebugFilter(){if(!this.debugFilter){const e=dt(ht.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs),t=dt(ht.FECOMPONENTTRANSFER,{result:"outBlur"},e);dt(ht.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),dt(ht.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),dt(ht.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter=e}}injectCSS_(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode=document.getElementById(e);const s=t.join(`
`);this.cssNode?this.cssNode.firstChild.textContent=s:(t=document.createElement("style"),t.id=e,e=document.createTextNode(s),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode=t)}getCSS_(e){return[`${e} .blocklyText, `,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableField>rect,`,`${e} .blocklyEditableField>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",`${e} .blocklyNonEditableField>text,`,`${e} .blocklyEditableField>text {`,"fill: #000;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #000;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #000;","}",`${e} .blocklyEditableField:not(.blocklyEditing):hover>rect {`,"stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",`${e} .blocklySelected>.blocklyPath {`,"stroke: #fc3;","stroke-width: 3px;","}",`${e} .blocklyHighlightedConnectionPath {`,"stroke: #fc3;","}",`${e} .blocklyReplaceable .blocklyPath {`,"fill-opacity: .5;","}",`${e} .blocklyReplaceable .blocklyPathLight,`,`${e} .blocklyReplaceable .blocklyPathDark {`,"display: none;","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},Gt=class{constructor(e,t){this.inlinePath_=this.outlinePath_="",this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.constants_=t.getRenderer().getConstants()}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),this.block_.pathObject.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),this.recordSizeOnBlock_()}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren,this.block_.childlessWidth=this.info_.width}drawOutline_(){this.drawTop_();for(let e=1;e<this.info_.rows.length-1;e++){const t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()}drawTop_(){const e=this.info_.topRow,t=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=Ri(e.xPos,this.info_.startY);for(let s=0,u;u=t[s];s++)qe.isLeftRoundedCorner(u)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:qe.isRightRoundedCorner(u)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:qe.isPreviousConnection(u)?this.outlinePath_+=u.shape.pathLeft:qe.isHat(u)?this.outlinePath_+=this.constants_.START_HAT.path:qe.isSpacer(u)&&(this.outlinePath_+=f("h",u.width));this.outlinePath_+=f("v",e.height-e.ascenderHeight)}drawJaggedEdge_(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+f("v",e.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(e){const t=e.getLastInput();this.positionExternalValueConnection_(e);const s=Xo(t.shape)?t.shape.pathDown(t.height):t.shape.pathDown;this.outlinePath_+=f("H",t.xPos+t.width)+s+f("v",e.height-t.connectionHeight)}drawStatementInput_(e){var t=e.getLastInput();if(t){var s=t.xPos+t.notchOffset+t.shape.width;t=t.shape.pathRight+f("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var u=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=f("H",s)+t+f("v",u)+this.constants_.INSIDE_CORNERS.pathBottom+f("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}drawRightSideRow_(e){this.outlinePath_+=f("V",e.yPos+e.height)}drawBottom_(){const e=this.info_.bottomRow,t=e.elements;this.positionNextConnection_();let s=0,u="";for(let v=t.length-1,R;R=t[v];v--)qe.isNextConnection(R)?u+=R.shape.pathRight:qe.isLeftSquareCorner(R)?u+=f("H",e.xPos):qe.isLeftRoundedCorner(R)?u+=this.constants_.OUTSIDE_CORNERS.bottomLeft:qe.isRightRoundedCorner(R)?(u+=this.constants_.OUTSIDE_CORNERS.bottomRight,s=this.constants_.OUTSIDE_CORNERS.rightHeight):qe.isSpacer(R)&&(u+=f("h",R.width*-1));this.outlinePath_+=f("V",e.baseline-s),this.outlinePath_+=u}drawLeft_(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){const t=e.connectionOffsetY+e.height;e=Xo(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=f("V",t)+e}this.outlinePath_+="z"}drawInternals_(){for(let e=0,t;t=this.info_.rows[e];e++)for(let s=0,u;u=t.elements[s];s++)qe.isInlineInput(u)?this.drawInlineInput_(u):(qe.isIcon(u)||qe.isField(u))&&this.layoutField_(u)}layoutField_(e){const t=e.centerline-e.height/2;let s=e.xPos;var u="";this.info_.RTL&&(s=-(s+e.width),e.flipRtl&&(s+=e.width,u="scale(-1 1)")),qe.isIcon(e)?(u=e.icon,u.setOffsetInBlock(new Wt(s,t)),this.info_.isInsertionMarker&&u.hideForInsertionMarker()):(e=e.field.getSvgRoot(),e.setAttribute("transform","translate("+s+","+t+")"+u),this.info_.isInsertionMarker&&e.setAttribute("display","none"))}drawInlineInput_(e){const t=e.width,s=e.height,u=e.connectionOffsetY,v=e.connectionHeight+u;this.inlinePath_+=io(e.xPos+e.connectionWidth,e.centerline-s/2)+f("v",u)+e.shape.pathDown+f("v",s-v)+f("h",t-e.connectionWidth)+f("v",-s)+"z",this.positionInlineInputConnection_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let s=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(s*=-1),e.connectionModel.setOffsetInBlock(s,t+e.connectionOffsetY)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(t!=null&&t.connectionModel){let s=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(s*=-1),t.connectionModel.setOffsetInBlock(s,e.yPos)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let s=e.xPos+e.width;this.info_.RTL&&(s*=-1),t.connectionModel.setOffsetInBlock(s,e.yPos)}}positionPreviousConnection_(){const e=this.info_.topRow;if(e.connection){const t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,s=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-s:s,e.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}updateConnectionHighlights(){for(const e of this.info_.rows)for(const t of e.elements){if(!(t instanceof l))continue;const s=this.drawConnectionHighlightPath(t);s&&(s.style.display=t.highlighted?"":"none")}}drawConnectionHighlightPath(e){const t=e.connectionModel;e=t.type===Tn.INPUT_VALUE||t.type===Tn.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(e):this.getStatementConnectionHighlightPath(e);const s=t.getSourceBlock();let u,v;return(v=(u=s.pathObject).addConnectionHighlight)==null?void 0:v.call(u,t,e,t.getOffsetInBlock(),s.RTL)}getExpressionConnectionHighlightPath(e){let t="";return Xo(e.shape)?t=e.shape.pathDown(e.height):Hs(e.shape)&&(t=e.shape.pathDown),e=this.constants_.TAB_OFFSET_FROM_TOP,Ri(0,-e)+f("v",e)+t+f("v",e)}getStatementConnectionHighlightPath(e){if(!ah(e.shape))throw Error("Statement connections should have notch shapes");const t=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return Ri(-t,0)+f("h",t)+e.shape.pathLeft+f("h",t)}},qn=class{constructor(e,t){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.startY=this.startX=0,this.renderer_=e,this.block_=t,this.constants_=this.renderer_.getConstants(),this.outputConnection=t.outputConnection?new xt(this.constants_,t.outputConnection):null,this.isInline=t.getInputsInline()&&!t.isCollapsed(),this.isCollapsed=t.isCollapsed(),this.isInsertionMarker=t.isInsertionMarker(),this.RTL=t.RTL,this.topRow=new Ye(this.constants_),this.bottomRow=new i(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let e=new bt(this.constants_);this.inputRows.push(e);var t=this.block_.getIcons();for(let s=0,u;u=t[s];s++){const v=new X(this.constants_,u);this.isCollapsed&&!u.isShownWhenCollapsed()||e.elements.push(v)}t=void 0;for(let s=0,u;u=this.block_.inputList[s];s++)if(u.isVisible()){this.shouldStartNewRow_(u,t)&&(this.rows.push(e),e=new bt(this.constants_),this.inputRows.push(e));for(let v=0,R;R=u.fieldRow[v];v++)e.elements.push(new S(this.constants_,R,u));this.addInput_(u,e),t=u}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new Ht(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var e=!!this.block_.previousConnection;const t=(this.block_.hat?this.block_.hat==="cap":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;let s=this.topRow.hasLeftSquareCorner(this.block_)?ki:xn;this.topRow.elements.push(new s(this.constants_)),t?(e=new I(this.constants_),this.topRow.elements.push(e)):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new Rt(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0]instanceof Sl&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,s=this.topRow.hasRightSquareCorner(this.block_)?ki:xn,this.topRow.elements.push(new s(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof Sl?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new ki(this.constants_)):this.bottomRow.elements.push(new xn(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new jt(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new ki(this.constants_,"right")):this.bottomRow.elements.push(new xn(this.constants_,"right"))}addInput_(e,t){this.isInline&&e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new Ve(this.constants_,e)),t.hasInlineInput=!0):e instanceof Sl?(t.elements.push(new ot(this.constants_,e)),t.hasStatement=!0):e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new m(this.constants_,e)),t.hasExternalInput=!0):(e instanceof ol||e instanceof jl)&&(t.minHeight=Math.max(t.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),t.align===null&&(t.align=e.align)}shouldStartNewRow_(e,t){return t?t instanceof jl||e instanceof Sl||t instanceof Sl?!0:e instanceof n.ValueInput$$module$build$src$core$inputs$value_input||e instanceof ol||t instanceof n.ValueInput$$module$build$src$core$inputs$value_input?!this.isInline:!1:!1}addElemSpacing_(){for(let e=0,t;t=this.rows[e];e++){const s=t.elements;if(t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new me(this.constants_,this.getInRowSpacing_(null,s[0]))),s.length){for(let u=0;u<s.length-1;u++){t.elements.push(s[u]);const v=this.getInRowSpacing_(s[u],s[u+1]);t.elements.push(new me(this.constants_,v))}t.elements.push(s[s.length-1]),t.endsWithElemSpacer()&&t.elements.push(new me(this.constants_,this.getInRowSpacing_(s[s.length-1],null)))}}}getInRowSpacing_(e,t){if(!e&&t&&qe.isStatementInput(t))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&qe.isInput(e)&&!t){if(qe.isExternalInput(e))return this.constants_.NO_PADDING;if(qe.isInlineInput(e))return this.constants_.LARGE_PADDING;if(qe.isStatementInput(e))return this.constants_.NO_PADDING}return e&&qe.isLeftSquareCorner(e)&&t&&(qe.isPreviousConnection(t)||qe.isNextConnection(t))?t.notchOffset:e&&qe.isLeftRoundedCorner(e)&&t&&(qe.isPreviousConnection(t)||qe.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&qe.isField(e)&&e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING}computeBounds_(){let e=0,t=0,s=0;for(let v=0,R;R=this.rows[v];v++){if(R.measure(),t=Math.max(t,R.width),R.hasStatement){var u=R.getLastInput();let ee,Me;u=R.width-((Me=(ee=u)==null?void 0:ee.width)!=null?Me:0),e=Math.max(e,u)}s=Math.max(s,R.widthWithConnectedBlocks)}this.statementEdge=e,this.width=t;for(let v=0,R;R=this.rows[v];v++)R.hasStatement&&(R.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(t,s),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let t=0,s;s=this.rows[t];t++)if(s.hasStatement)this.alignStatementRow_(s);else{var e=s.width;e=this.getDesiredRowWidth_(s)-e,e>0&&this.addAlignmentPadding_(s,e),qe.isTopOrBottomRow(s)&&(s.widthWithConnectedBlocks=s.width)}}getDesiredRowWidth_(e){return this.width-this.startX}addAlignmentPadding_(e,t){const s=e.getFirstSpacer(),u=e.getLastSpacer();if((e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=t),e.align===n.Align$$module$build$src$core$inputs$align.LEFT&&u)u.width+=t;else if(e.align===n.Align$$module$build$src$core$inputs$align.CENTRE&&s&&u)s.width+=t/2,u.width+=t/2;else if(e.align===n.Align$$module$build$src$core$inputs$align.RIGHT&&s)s.width+=t;else if(u)u.width+=t;else return;e.width+=t}alignStatementRow_(e){const t=e.getLastInput();if(t){var s=e.width-t.width,u=this.statementEdge;s=u-s,s>0&&this.addAlignmentPadding_(e,s),s=e.width,u=this.getDesiredRowWidth_(e),t.width+=u-s,t.height=Math.max(t.height,e.height),e.width+=u-s,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}addRowSpacing_(){const e=this.rows;this.rows=[];for(let t=0;t<e.length;t++)this.rows.push(e[t]),t!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))}makeSpacerRow_(e,t){var s=this.getSpacerRowHeight_(e,t);const u=this.getSpacerRowWidth_(e,t);return s=new rr(this.constants_,s,u),e.hasStatement&&(s.followsStatement=!0),t.hasStatement&&(s.precedesStatement=!0),s}getSpacerRowWidth_(e,t){return this.width-this.startX}getSpacerRowHeight_(e,t){return this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){return qe.isSpacer(t)?e.yPos+t.height/2:qe.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,qe.isNextConnection(t)?e+t.height/2:e-t.height/2):qe.isTopRow(e)?qe.isHat(t)?e.capline-t.height/2:e.capline+t.height/2:e.yPos+e.height/2}recordElemPositions_(e){let t=e.xPos;for(let s=0,u;u=e.elements[s];s++)qe.isSpacer(u)&&(u.height=e.height),u.xPos=t,u.centerline=this.getElemCenterline_(e,u),t+=u.width}finalize_(){let e=0,t=0;for(let s=0,u;u=this.rows[s];s++)u.yPos=t,u.xPos=this.startX,t+=u.height,e=Math.max(e,u.widthWithConnectedBlocks),this.recordElemPositions_(u);if(this.outputConnection&&this.block_.nextConnection){const s=this.block_.nextConnection.targetBlock();s&&(e=Math.max(e,s.getHeightWidth().width))}this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline,this.bottomRow.baseline=t-this.bottomRow.descenderHeight}getMeasureableForConnection(e){let t;if(((t=this.outputConnection)==null?void 0:t.connectionModel)===e)return this.outputConnection;for(const s of this.rows)for(const u of s.elements)if(u instanceof l&&u.connectionModel===e)return u;return null}},di=class{constructor(e,t,s){this.connectionHighlights=new WeakMap,this.highlightOffsets=new WeakMap,this.constants=s,this.style=t,this.svgRoot=e,this.svgPath=dt(ht.PATH,{class:"blocklyPath"},this.svgRoot),this.setClass_("blocklyBlock",!0)}setPath(e){this.svgPath.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}applyColour(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}setStyle(e){this.style=e}setClass_(e,t){e&&(t?tn(this.svgRoot,e):Zn(this.svgRoot,e))}updateHighlighted(e){e?this.setClass_("blocklyHighlighted",!0):this.setClass_("blocklyHighlighted",!1)}updateShadow_(e){e?(this.setClass_("blocklyShadow",!0),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)):this.setClass_("blocklyShadow",!1)}updateDisabled_(e){this.setClass_("blocklyDisabled",e),this.setClass_("blocklyDisabledPattern",e)}updateSelected(e){this.setClass_("blocklySelected",e)}updateDraggingDelete(e){this.setClass_("blocklyDraggingDelete",e)}updateInsertionMarker(e){this.setClass_("blocklyInsertionMarker",e)}updateMovable(e){this.setClass_("blocklyDraggable",e)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,t){}addConnectionHighlight(e,t,s,u){return s=`translate(${s.x}, ${s.y})`+(u?" scale(-1 1)":""),(u=this.connectionHighlights.get(e))?(u.setAttribute("d",t),u.setAttribute("transform",s),u):(t=dt(ht.PATH,{id:e.id,class:"blocklyHighlightedConnectionPath",style:"display: none;",d:t,transform:s},this.svgRoot),this.connectionHighlights.set(e,t),t)}removeConnectionHighlight(e){const t=this.connectionHighlights.get(e);t&&(on(t),this.connectionHighlights.delete(e))}},Bn=class{constructor(e){this.overrides=null,this.name=e}getClassName(){return this.name+"-renderer"}init(e,t){this.constants_=this.makeConstants_(),t&&(this.overrides=t,Object.assign(this.constants_,t)),this.constants_.setTheme(e),this.constants_.init()}createDom(e,t,s){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName(),s)}refreshDom(e,t,s){const u=this.getConstants();u.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=u.randomIdentifier,this.constants_.setTheme(t),this.constants_.init(),this.createDom(e,t,s)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new gt}makeRenderInfo_(e){return new qn(this,e)}makeDrawer_(e,t){return new Gt(e,t)}makePathObject(e,t){return new di(e,t,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(e){return!0}orphanCanConnectAtEnd(e,t,s){return!!hi.getConnectionForOrphanedConnection(e,s===Tn.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}render(e){const t=this.makeRenderInfo_(e);t.measure(),this.makeDrawer_(e,t).draw()}},_n={};_n.BottomRow=i,_n.Connection=l,_n.ConstantProvider=gt,_n.Drawer=Gt,_n.ExternalValueInput=m,_n.Field=S,_n.Hat=I,_n.Icon=X,_n.InRowSpacer=me,_n.InlineInput=Ve,_n.InputConnection=c,_n.InputRow=bt,_n.JaggedEdge=Ht,_n.Measurable=va,_n.NextConnection=jt,_n.OutputConnection=xt,_n.PathObject=di,_n.PreviousConnection=Rt,_n.RenderInfo=qn,_n.Renderer=Bn,_n.RoundCorner=xn,_n.Row=Ou,_n.SpacerRow=rr,_n.SquareCorner=ki,_n.StatementInput=ot,_n.TopRow=Ye,_n.Types=qe,_n.init=Gi,_n.register=Vl,_n.unregister=kr;var Zr=class{constructor(e,t){this.workspace=e,this.theme=t,this.subscribedWorkspaces=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(e){var t=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(t&&(t=t.getClassName())&&Zn(e,t),(t=this.theme.getClassName())&&tn(e,t));for(let s=0,u;u=this.subscribedWorkspaces[s];s++)u.refreshTheme();for(const[s,u]of this.componentDB)for(const v of u){e=v.element,t=v.propertyName;const R=this.theme&&this.theme.getComponentStyle(s);e.style.setProperty(t,R||"")}for(const s of this.subscribedWorkspaces)s.hideChaff()}subscribeWorkspace(e){this.subscribedWorkspaces.push(e)}unsubscribeWorkspace(e){if(!Ft(this.subscribedWorkspaces,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(e,t,s){this.componentDB.has(t)||this.componentDB.set(t,[]),this.componentDB.get(t).push({element:e,propertyName:s}),t=this.theme&&this.theme.getComponentStyle(t),e.style.setProperty(s,t||"")}unsubscribe(e){if(e)for(const[t,s]of this.componentDB){for(let u=s.length-1;u>=0;u--)s[u].element===e&&s.splice(u,1);s.length||this.componentDB.delete(t)}}dispose(){this.subscribedWorkspaces.length=0,this.componentDB.clear()}},vi="VARIABLE_DYNAMIC",ll={CATEGORY_NAME:vi};ll.flyoutCategory=n1,ll.flyoutCategoryBlocks=fu,ll.internalFlyoutCategory=ea,ll.onCreateVariableButtonClick_Colour=Pa,ll.onCreateVariableButtonClick_Number=fc,ll.onCreateVariableButtonClick_String=Os;var V3=class{canConnect(e,t,s,u){return this.canConnectWithReason(e,t,s,u)===hi.CAN_CONNECT}canConnectWithReason(e,t,s,u){const v=this.doSafetyChecks(e,t);return v!==hi.CAN_CONNECT?v:this.doTypeChecks(e,t)?s&&!this.doDragChecks(e,t,u||0)?hi.REASON_DRAG_CHECKS_FAILED:hi.CAN_CONNECT:hi.REASON_CHECKS_FAILED}getErrorMessage(e,t,s){switch(e){case hi.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case hi.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case hi.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case hi.REASON_TARGET_NULL:return"Target connection is null.";case hi.REASON_CHECKS_FAILED:return"Connection checks failed. "+(t+" expected "+t.getCheck()+", found "+s.getCheck());case hi.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case hi.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case hi.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(e,t){if(!e||!t)return hi.REASON_TARGET_NULL;let s,u,v;return e.isSuperior()?(s=e.getSourceBlock(),u=t.getSourceBlock(),v=t):(u=e.getSourceBlock(),s=t.getSourceBlock(),v=e,e=t),s===u?hi.REASON_SELF_CONNECTION:v.type!==Oc[e.type]?hi.REASON_WRONG_TYPE:s.workspace!==u.workspace?hi.REASON_DIFFERENT_WORKSPACES:s.isShadow()&&!u.isShadow()?hi.REASON_SHADOW_PARENT:v.type===Tn.OUTPUT_VALUE&&u.previousConnection&&u.previousConnection.isConnected()||v.type===Tn.PREVIOUS_STATEMENT&&u.outputConnection&&u.outputConnection.isConnected()?hi.REASON_PREVIOUS_AND_OUTPUT:hi.CAN_CONNECT}doTypeChecks(e,t){if(e=e.getCheck(),t=t.getCheck(),!e||!t)return!0;for(let s=0;s<e.length;s++)if(t.includes(e[s]))return!0;return!1}doDragChecks(e,t,s){if(e.distanceFrom(t)>s||t.getSourceBlock().isInsertionMarker())return!1;switch(t.type){case Tn.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,t);case Tn.OUTPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case Tn.INPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;case Tn.NEXT_STATEMENT:if(t.isConnected()&&!e.getSourceBlock().nextConnection&&!t.targetBlock().isShadow()&&t.targetBlock().nextConnection||t.targetBlock()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;default:return!1}return!bc.includes(t)}canConnectToPrevious_(e,t){return e.targetConnection||bc.includes(t)?!1:t.targetConnection?(e=t.targetBlock(),e.isInsertionMarker()?!e.getPreviousBlock():!1):!0}};a(Ut.CONNECTION_CHECKER,ml,V3);var d4=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(e){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new Bc,this.readOnly=!1,this.potentialVariableMap=null,this.id=Xe(),Ct(this),this.options=e||new D0({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(A(Ut.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new(this.getVariableMapClass())(this),this.setIsReadOnly(this.options.readOnly)}dispose(){this.listeners.length=0,this.clear(),kt(this)}sortObjects(e,t){const s=u=>({getBoundingRectangle:()=>{const v=u.getRelativeToSurfaceXY();return new $r(v.y,v.y,v.x,v.x)},moveBy:()=>{}});return this.sortByOrigin(s(e),s(t))}sortByOrigin(e,t){const s=Math.sin($0(d4.SCAN_ANGLE))*(this.RTL?-1:1);return e=e.getBoundingRectangle().getOrigin(),t=t.getBoundingRectangle().getOrigin(),e.y+s*e.x-(t.y+s*t.x)}addTopBlock(e){this.topBlocks.push(e)}removeTopBlock(e){if(!Ft(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(e=!1){const t=[].concat(this.topBlocks);return e&&t.length>1&&t.sort(this.sortObjects.bind(this)),t}addTypedBlock(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}removeTypedBlock(e){Ft(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}getBlocksByType(e,t=!1){return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),t&&e&&e.length>1&&e.sort(this.sortObjects.bind(this)),e.filter(s=>!s.isInsertionMarker())):[]}addTopComment(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}removeTopComment(e){if(!Ft(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}getTopComments(e=!1){const t=[].concat(this.topComments);return e&&t.length>1&&t.sort(this.sortObjects.bind(this)),t}getAllBlocks(e=!1){if(e){var t=this.getTopBlocks(!0);e=[];for(let s=0;s<t.length;s++)e.push(...t[s].getDescendants(!0))}else for(e=this.getTopBlocks(!1),t=0;t<e.length;t++)e.push(...e[t].getChildren(!1));return e.filter(s=>!s.isInsertionMarker())}clear(){this.isClearing=!0;try{const e=n.getGroup$$module$build$src$core$events$utils();for(e||n.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();n.setGroup$$module$build$src$core$events$utils(e),this.isFlyout||this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(e,t){Pn("Blockly.Workspace.renameVariableById","v12","v13","Blockly.Workspace.getVariableMap().renameVariable"),(e=this.variableMap.getVariableById(e))&&this.variableMap.renameVariable(e,t)}createVariable(e,t,s){return Pn("Blockly.Workspace.createVariable","v12","v13","Blockly.Workspace.getVariableMap().createVariable"),this.variableMap.createVariable(e,t??void 0,s??void 0)}getVariableUsesById(e){return Pn("Blockly.Workspace.getVariableUsesById","v12","v13","Blockly.Variables.getVariableUsesById"),Ii(this,e)}deleteVariableById(e){Pn("Blockly.Workspace.deleteVariableById","v12","v13","Blockly.Workspace.getVariableMap().deleteVariable");const t=this.variableMap.getVariableById(e);t?n.deleteVariable$$module$build$src$core$variables(this,t):console.warn(`Can't delete non-existent variable: ${e}`)}getVariable(e,t){return Pn("Blockly.Workspace.getVariable","v12","v13","Blockly.Workspace.getVariableMap().getVariable"),this.variableMap.getVariable(e,t)}getVariableById(e){return Pn("Blockly.Workspace.getVariableById","v12","v13","Blockly.Workspace.getVariableMap().getVariableById"),this.variableMap.getVariableById(e)}getVariablesOfType(e){return Pn("Blockly.Workspace.getVariablesOfType","v12","v13","Blockly.Workspace.getVariableMap().getVariablesOfType"),this.variableMap.getVariablesOfType(e??"")}getAllVariables(){return Pn("Blockly.Workspace.getAllVariables","v12","v13","Blockly.Workspace.getVariableMap().getAllVariables"),this.variableMap.getAllVariables()}getAllVariableNames(){return Pn("Blockly.Workspace.getAllVariableNames","v12","v13","Blockly.Workspace.getVariableMap().getAllVariables"),this.variableMap.getAllVariables().map(e=>e.getName())}getWidth(){return 0}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(e){return this.options.maxInstances?(this.options.maxInstances[e]!==void 0?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}isCapacityAvailable(e){if(!this.hasBlockLimits())return!0;let t=0;for(const s in e){if(e[s]>this.remainingCapacityOfType(s))return!1;t+=e[s]}return!(t>this.remainingCapacity())}hasBlockLimits(){return this.options.maxBlocks!==1/0||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(e){var t=e?this.redoStack_:this.undoStack_,s=e?this.undoStack_:this.redoStack_;const u=t.pop();if(u){for(var v=[u];t.length&&u.group&&u.group===t[t.length-1].group;){const R=t.pop();R&&v.push(R)}for(t=0;t<v.length;t++)s.push(v[t]);n.setRecordUndo$$module$build$src$core$events$utils(!1);try{for(s=0;s<v.length;s++)v[s].run(e)}finally{n.setRecordUndo$$module$build$src$core$events$utils(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,Ot()}addChangeListener(e){return this.listeners.push(e),e}removeChangeListener(e){Ft(this.listeners,e)}fireChangeListener(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&this.MAX_UNDO>=0;)this.undoStack_.shift();for(let t=0;t<this.listeners.length;t++)(0,this.listeners[t])(e)}getBlockById(e){return this.blockDB.get(e)||null}setBlockById(e,t){this.blockDB.set(e,t)}removeBlockById(e){this.blockDB.delete(e)}getCommentById(e){let t;return(t=this.commentDB.get(e))!=null?t:null}allInputsFilled(e){const t=this.getTopBlocks(!1);for(let s=0;s<t.length;s++)if(!t[s].allInputsFilled(e))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new(this.getVariableMapClass())(this,!0)}getVariableMap(){return this.variableMap}setVariableMap(e){this.variableMap=e}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let e=null;const t=this.options.parentWorkspace;return this.isFlyout?t&&t.options&&(e=t.options.parentWorkspace):t&&(e=t),e}static getById(e){return tt(e)}static getAll(){return Qe()}getVariableMapClass(){const e=A(Ut.VARIABLE_MAP,this.options,!0);if(!e)throw Error("No variable map is registered.");return e}isReadOnly(){return this.readOnly}setIsReadOnly(e){this.readOnly=e,this.options.readOnly=e}};d4.SCAN_ANGLE=3;var u$=100,k7=class{constructor(e){this.parentWorkspace=e,this.sounds=new Map,this.lastSound=null,this.muted=!1}dispose(){this.sounds.clear()}load(e,t){if(e.length){try{var s=new globalThis.Audio}catch{return}for(let v=0;v<e.length;v++){const R=e[v],ee=R.match(/\.(\w+)$/);if(ee&&s.canPlayType("audio/"+ee[1])){var u=new globalThis.Audio(R);break}}u&&this.sounds.set(t,u)}}preload(){for(const e of this.sounds.values()){e.volume=.01;const t=e.play();if(t!==void 0?t.then(e.pause).catch(function(){}):e.pause(),m1||j4)break}}play(e,t){if(!this.muted){var s=this.sounds.get(e);s?(e=new Date,this.lastSound!==null&&e.getTime()-this.lastSound.getTime()<u$||(this.lastSound=e,s=m1||Cd?s:s.cloneNode(),s.volume=t===void 0?1:t,s.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,t)}}setMuted(e){this.muted=e}getMuted(){return this.muted}},c$=20,xl=class extends d4{constructor(e){super(e),this.resizeHandlerWrapper=null,this.resizesEnabled=this.visible=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.inverseScreenCTM=this.targetWorkspace=this.dummyWheelListener=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=this.currentGesture_=this.toolbox=this.flyout=this.scrollbar=this.trashcan=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardMoveInProgress=this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=this.layerManager=null,this.navigator=new Hh,this.metricsManager=new(A(Ut.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=e.setMetrics||xl.setTopLevelWorkspaceMetrics,this.componentManager=new Si,this.connectionDBList=Ka.init(this.connectionChecker),this.audioManager=new k7(e.parentWorkspace),this.grid=this.options.gridPattern?new H1(this.options.gridPattern,e.gridOptions):null,this.markerManager=new V1(this),As&&Kn&&this.registerToolboxCategoryCallback(kh,Kn),ll&&ea&&this.registerToolboxCategoryCallback(vi,ea),Ro&&C0&&(this.registerToolboxCategoryCallback(Wh,C0),this.addChangeListener(Q0)),this.addChangeListener(this.variableChangeCallback.bind(this)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new Zr(this,this.options.theme||Fh),this.themeManager_.subscribeWorkspace(this);let t;this.renderer=Gi(this.options.renderer||"geras",this.getTheme(),(t=this.options.rendererOverrides)!=null?t:void 0),this.cachedParentSvgSize=new _r(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}getMarker(e){return this.markerManager.getMarker(e)}getCursor(){return this.markerManager.getCursor()}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(e){e||(e=Fh),this.themeManager_.setTheme(e)}refreshTheme(){if(this.svgGroup_){var e=this.options.parentWorkspace===null;this.renderer.refreshDom(this.svgGroup_,this.getTheme(),e?this.getInjectionDiv():void 0)}this.updateBlockStyles(this.getAllBlocks(!1).filter(t=>!!t.getStyleName())),this.refreshToolboxSelection(),this.toolbox&&this.toolbox.refreshTheme(),this.isVisible()&&this.setVisible(!0),e=new(an(mt.THEME_CHANGE))(this.getTheme().name,this.id),le(e)}updateBlockStyles(e){for(let t=0,s;s=e[t];t++){const u=s.getStyleName();u&&s.setStyle(u)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.visible}getSvgXY(e){let t=0,s=0,u=1;(this.getCanvas().contains(e)||this.getBubbleCanvas().contains(e))&&(u=this.scale);do{const v=K(e);(e===this.getCanvas()||e===this.getBubbleCanvas())&&(u=1),t+=v.x*u,s+=v.y*u,e=e.parentNode}while(e&&e!==this.getParentSvg()&&e!==this.getInjectionDiv());return new Wt(t,s)}getCachedParentSvgSize(){const e=this.cachedParentSvgSize;return new _r(e.width,e.height)}getOriginOffsetInPixels(){return Y(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let e=this.svgGroup_;for(;e;){if((" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv ")){this.injectionDiv=e;break}e=e.parentNode}}return this.injectionDiv}getSvgGroup(){return this.svgGroup_}getBlockCanvas(){return this.getCanvas()}setResizeHandlerWrapper(e){this.resizeHandlerWrapper=e}createDom(e,t){return this.injectionDiv||(this.injectionDiv=t??null),this.svgGroup_=dt(ht.G,{class:"blocklyWorkspace",id:this.id}),t&&Ur(this.svgGroup_,Ts.LABEL,n.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL),e&&(this.svgBackground_=dt(ht.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),e==="blocklyMainBackground"&&this.grid?this.svgBackground_.style.fill="var(--blocklyGridPattern)":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.layerManager=new H3(this),this.svgBlockCanvas_=this.layerManager.getBlockLayer(),this.svgBubbleCanvas_=this.layerManager.getBubbleLayer(),this.isFlyout||(ie(this.svgGroup_,"pointerdown",this,this.onMouseDown,!1),this.dummyWheelListener=()=>{},document.body.addEventListener("wheel",this.dummyWheelListener),ie(this.svgGroup_,"wheel",this,this.onMouseWheel)),this.options.hasCategories&&(this.toolbox=new(A(Ut.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=A(Ut.CURSOR,this.options))&&this.markerManager.setCursor(new e(this)),e=this.options.parentWorkspace===null,this.renderer.createDom(this.svgGroup_,this.getTheme(),e?this.getInjectionDiv():void 0),n.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,!!this.injectionDiv||this.isFlyout),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&on(this.svgGroup_),this.toolbox&&(this.toolbox.dispose(),this.toolbox=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){const e=this.getParentSvg();e&&e.parentNode&&on(e.parentNode)}this.resizeHandlerWrapper&&(Ie(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null),this.dummyWheelListener&&(document.body.removeEventListener("wheel",this.dummyWheelListener),this.dummyWheelListener=null),n.getFocusManager$$module$build$src$core$focus_manager().isRegistered(this)&&n.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}addTrashcan(){this.trashcan=xl.newTrashcan(this);const e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.getCanvas())}static newTrashcan(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new ua(this);const e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}copyOptionsForFlyout(){return new D0({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,plugins:this.options.plugins,modalInputs:this.options.modalInputs,move:{scrollbars:!0}})}addFlyout(e){const t=this.copyOptionsForFlyout();return t.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(A(Ut.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(t):new(A(Ut.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(t),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}getFlyout(e){return this.flyout||e?this.flyout:this.toolbox?this.toolbox.getFlyout():null}getToolbox(){return this.toolbox}updateScreenCalculations(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox?this.toolbox.position():this.flyout&&this.flyout.position();const e=this.componentManager.getComponents(Si.Capability.POSITIONABLE,!0),t=this.getMetricsManager().getUiMetrics(),s=[];for(let u=0,v;v=e[u];u++){v.position(t,s);const R=v.getBoundingRectangle();R&&s.push(R)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations()}updateScreenCalculationsIfScrolled(){const e=Q();Wt.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations())}getLayerManager(){return this.layerManager}getCanvas(){return this.layerManager.getBlockLayer()}setCachedParentSvgSize(e,t){const s=this.getParentSvg();e!=null&&(this.cachedParentSvgSize.width=e,s.setAttribute("data-cached-width",`${e}`)),t!=null&&(this.cachedParentSvgSize.height=t,s.setAttribute("data-cached-height",`${t}`))}getBubbleCanvas(){return this.layerManager.getBubbleLayer()}getParentSvg(){if(!this.cachedParentSvg){let e=this.svgGroup_;for(;e;){if(e.tagName==="svg"){this.cachedParentSvg=e;break}e=e.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(sn()){var e=this.scale,t=-this.scrollY,s=-this.scrollX;if(!(e===this.oldScale&&Math.abs(t-this.oldTop)<1&&Math.abs(s-this.oldLeft)<1)){var u=new(an(mt.VIEWPORT_CHANGE))(t,s,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=t,this.oldLeft=s,le(u)}}}translate(e,t){let s;(s=this.layerManager)==null||s.translateLayers(new Wt(e,t),this.scale);let u;(u=this.grid)==null||u.moveTo(e,t),this.maybeFireViewportChangeEvent()}getWidth(){const e=this.getMetrics();return e?e.viewWidth/this.scale:0}setVisible(e){this.visible=e,this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox&&this.toolbox.setVisible(e),e||this.hideChaff(!0))}render(){const e=this.getAllBlocks(!1);for(let t=e.length-1;t>=0;t--)e[t].queueRender();this.getTopBlocks().flatMap(t=>t.getDescendants(!1)).filter(t=>t.isInsertionMarker()).forEach(t=>t.queueRender())}highlightBlock(e,t){if(t===void 0){for(let s=0,u;u=this.highlightedBlocks[s];s++)u.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((t=t===void 0||t)?this.highlightedBlocks.includes(e)||this.highlightedBlocks.push(e):Ft(this.highlightedBlocks,e),e.setHighlighted(t))}variableChangeCallback(e){switch(e.type){case mt.VAR_CREATE:case mt.VAR_DELETE:case mt.VAR_RENAME:case mt.VAR_TYPE_CHANGE:this.refreshToolboxSelection()}}refreshToolboxSelection(){const e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox&&e.toolbox.getFlyout()&&e.toolbox.refreshSelection()}recordDragTargets(){const e=this.componentManager.getComponents(Si.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let t=0,s;s=e[t];t++){const u=s.getClientRect();u&&this.dragTargetAreas.push({component:s,clientRect:u})}}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}getDragTarget(e){for(let t=0,s;s=this.dragTargetAreas[t];t++)if(s.clientRect.contains(e.clientX,e.clientY))return s.component;return null}onMouseDown(e){const t=this.getGesture(e);t&&t.handleWsStart(e,this)}startDrag(e,t){wo(this,e,t)}moveDrag(e){return Wo(this,e)}setKeyboardMoveInProgress(e){this.keyboardMoveInProgress=e}isDragging(){return this.keyboardMoveInProgress||this.currentGesture_!==null&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}onMouseWheel(e){if(Vh.inProgress())e.preventDefault(),e.stopPropagation();else{var t=this.options.zoomOptions&&this.options.zoomOptions.wheel,s=this.options.moveOptions&&this.options.moveOptions.wheel;if(t||s){var u=lt(e);if(Ad)var v=e.metaKey;t&&(e.ctrlKey||v||!s)?(u=-u.y/50,t=We(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(t.x,t.y,u)):(t=this.scrollX-u.x,s=this.scrollY-u.y,e.shiftKey&&!u.x&&(t=this.scrollX-u.y,s=this.scrollY),this.scroll(t,s)),e.preventDefault()}}}getBlocksBoundingBox(){const e=this.getTopBoundedElements();if(!e.length)return new $r(0,0,0,0);const t=e[0].getBoundingRectangle();for(let u=1;u<e.length;u++){var s=e[u];s.isInsertionMarker&&s.isInsertionMarker()||(s=s.getBoundingRectangle(),s.top<t.top&&(t.top=s.top),s.bottom>t.bottom&&(t.bottom=s.bottom),s.left<t.left&&(t.left=s.left),s.right>t.right&&(t.right=s.right))}return t}cleanUp(){this.setResizesEnabled(!1);const e=n.getGroup$$module$build$src$core$events$utils();e||n.setGroup$$module$build$src$core$events$utils(!0);var t=this.getTopBlocks(!0),s=t.filter(ee=>ee.isMovable());const u=t.filter(ee=>!ee.isMovable()).map(ee=>ee.getBoundingRectangle());t=function(ee){for(const Me of u)if(ee.intersects(Me))return Me;return null};var v=0;const R=this.renderer.getConstants().MIN_BLOCK_HEIGHT;for(const ee of s){for(s=ee.getBoundingRectangle(),ee.moveBy(-s.left,v-s.top,["cleanup"]),ee.snapToGrid(),s=ee.getBoundingRectangle(),v=t(s);v!=null;)v=v.top+v.getHeight()+R,ee.moveBy(0,v-s.top,["cleanup"]),ee.snapToGrid(),s=ee.getBoundingRectangle(),v=t(s);v=ee.getRelativeToSurfaceXY().y+ee.getHeightWidth().height+R}n.setGroup$$module$build$src$core$events$utils(e),this.setResizesEnabled(!0)}showContextMenu(e){if(!this.isReadOnly()&&!this.isFlyout){var t=wr.registry.getContextMenuOptions({workspace:this,focusedNode:this},e);this.configureContextMenu&&this.configureContextMenu(t,e);var s=e instanceof PointerEvent?new Wt(e.clientX,e.clientY):Ue(this,new Wt(5,5));j0(e,t,this.RTL,this,s)}}updateToolbox(e){if(e=Nt(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(In(e)){if(!this.toolbox)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(ue(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(e,t,s){s=Math.pow(this.options.zoomOptions.scaleSpeed,s);const u=this.scale*s;if(this.scale!==u){u>this.options.zoomOptions.maxScale?s=this.options.zoomOptions.maxScale/this.scale:u<this.options.zoomOptions.minScale&&(s=this.options.zoomOptions.minScale/this.scale);var v=this.getCanvas().getCTM(),R=this.getParentSvg().createSVGPoint();R.x=e,R.y=t,R=R.matrixTransform(v.inverse()),e=R.x,t=R.y,v=v.translate(e*(1-s),t*(1-s)).scale(s),this.scrollX=v.e,this.scrollY=v.f,this.setScale(u)}}zoomCenter(e){var t=this.getMetrics();let s;this.flyout?(s=t.svgWidth?t.svgWidth/2:0,t=t.svgHeight?t.svgHeight/2:0):(s=t.viewWidth/2+t.absoluteLeft,t=t.viewHeight/2+t.absoluteTop),this.zoom(s,t,e)}zoomToFit(){if(this.isMovable()){var e=this.getMetrics(),t=e.viewWidth;e=e.viewHeight;var s=this.getBlocksBoundingBox(),u=c$*2,v=s.right-s.left+u;if(s=s.bottom-s.top+u,v){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),s+=this.flyout.getHeight()/this.scale):(t+=this.flyout.getWidth(),v+=this.flyout.getWidth()/this.scale)),t/=v,e/=s,n.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(t,e)),this.scrollCenter()}finally{n.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){tn(this.getCanvas(),"blocklyCanvasTransitioning"),tn(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}endCanvasTransition(){Zn(this.getCanvas(),"blocklyCanvasTransitioning"),Zn(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var e=this.getMetrics(),t=(e.scrollWidth-e.viewWidth)/2,s=(e.scrollHeight-e.viewHeight)/2;t=-t-e.scrollLeft,s=-s-e.scrollTop,this.scroll(t,s)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(e,t){if(this.isMovable()){var s=e?this.getBlockById(e):null;if(s){e=s.getRelativeToSurfaceXY(),s=t?{height:s.height,width:s.width}:s.getHeightWidth();var u=this.scale;t=(e.x+(this.RTL?-1:1)*s.width/2)*u,e=(e.y+s.height/2)*u,s=this.getMetrics(),this.scroll(-(t-s.viewWidth/2),-(e-s.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}getScale(){return this.scale}getAbsoluteScale(){const e=s=>{if(s.isFlyout){let u;const v=(u=s.targetWorkspace)==null?void 0:u.getFlyout();if(v instanceof Nu)return v.getFlyoutScale()}return s.getScale()},t=(s,u)=>s.options.parentWorkspace&&s.options.parentWorkspace.getSvgGroup().contains(s.getSvgGroup())?t(s.options.parentWorkspace,u*e(s)):u*e(s);return t(this,1)}scroll(e,t){this.hideChaff(!0);const s=this.getMetrics();e=Math.min(e,-s.scrollLeft),t=Math.min(t,-s.scrollTop);const u=s.scrollTop+Math.max(0,s.scrollHeight-s.viewHeight);e=Math.max(e,-(s.scrollLeft+Math.max(0,s.scrollWidth-s.viewWidth))),t=Math.max(t,-u),this.scrollX=e,this.scrollY=t,this.scrollbar&&this.scrollbar.set(-(e+s.scrollLeft),-(t+s.scrollTop),!1),e+=s.absoluteLeft,t+=s.absoluteTop,this.translate(e,t)}getBlockById(e){return super.getBlockById(e)}getAllBlocks(e=!1){return super.getAllBlocks(e)}getTopBlocks(e=!1){return super.getTopBlocks(e)}addTopBlock(e){this.addTopBoundedElement(e),super.addTopBlock(e)}removeTopBlock(e){this.removeTopBoundedElement(e),super.removeTopBlock(e)}addTopComment(e){this.addTopBoundedElement(e),super.addTopComment(e)}removeTopComment(e){this.removeTopBoundedElement(e),super.removeTopComment(e)}getTopComments(e=!1){return super.getTopComments(e)}getCommentById(e){return super.getCommentById(e)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(e){this.topBoundedElements.push(e)}removeTopBoundedElement(e){Ft(this.topBoundedElements,e)}getTopBoundedElements(e=!1){const t=[].concat(this.topBoundedElements);return e&&t.sort(this.sortByOrigin.bind(this)),t}setResizesEnabled(e){const t=!this.resizesEnabled&&e;this.resizesEnabled=e,t&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(e,t){if(typeof t!="function")throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,t)}getButtonCallback(e){let t;return(t=this.flyoutButtonCallbacks.get(e))!=null?t:null}removeButtonCallback(e){this.flyoutButtonCallbacks.delete(e)}registerToolboxCategoryCallback(e,t){if(typeof t!="function")throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,t)}getToolboxCategoryCallback(e){return this.toolboxCategoryCallbacks.get(e)||null}removeToolboxCategoryCallback(e){this.toolboxCategoryCallbacks.delete(e)}getGesture(e){if(this.keyboardMoveInProgress)return e.preventDefault(),e.stopPropagation(),null;const t=e.type==="pointerdown";let s;return t&&((s=this.currentGesture_)!=null&&s.hasStarted())&&(console.warn("Tried to start the same gesture twice."),this.currentGesture_.cancel()),!this.currentGesture_&&t&&(this.currentGesture_=new Vh(e,this)),this.currentGesture_}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(e=!1){Ti(),dl(this),Ne(),this.hideComponents(e)}hideComponents(e=!1){this.getComponentManager().getComponents(Si.Capability.AUTOHIDEABLE,!0).forEach(t=>t.autoHide(e))}static setTopLevelWorkspaceMetrics(e){const t=this.getMetrics();typeof e.x=="number"&&(this.scrollX=-(t.scrollLeft+(t.scrollWidth-t.viewWidth)*e.x)),typeof e.y=="number"&&(this.scrollY=-(t.scrollTop+(t.scrollHeight-t.viewHeight)*e.y)),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)}addClass(e){this.injectionDiv&&tn(this.injectionDiv,e)}removeClass(e){this.injectionDiv&&Zn(this.injectionDiv,e)}setIsReadOnly(e){super.setIsReadOnly(e),e?this.addClass("blocklyReadOnly"):this.removeClass("blocklyReadOnly")}scrollBoundsIntoView(e,t=10){if(!Vh.inProgress()){var s=this.getScale(),u=this.getMetricsManager().getViewMetrics(!0);if(u=new $r(u.top,u.top+u.height,u.left,u.left+u.width),!(e.left>=u.left&&e.top>=u.top&&e.right<=u.right&&e.bottom<=u.bottom)){e=e.clone(),e.top-=t,e.bottom+=t,e.left-=t,e.right+=t;var v=t=0;e.left<u.left?t=this.RTL?Math.min(u.left-e.left,u.right-e.right):u.left-e.left:e.right>u.right&&(t=this.RTL?u.right-e.right:Math.max(u.right-e.right,u.left-e.left)),e.top<u.top?v=u.top-e.top:e.bottom>u.bottom&&(v=Math.max(u.bottom-e.bottom,u.top-e.top)),this.scroll(this.scrollX+t*s,this.scrollY+v*s)}}}getFocusableElement(){return this.svgGroup_}getFocusableTree(){return this.isMutator&&this.options.parentWorkspace||this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(e){if(e)return null;let t;if(e=(t=this.targetWorkspace)==null?void 0:t.getFlyout(),this.isFlyout&&e){let u,v;return(v=(u=e.getContents().find(R=>(R=R.getElement(),ne(R)&&R.canBeFocused())))==null?void 0:u.getElement())!=null?v:null}let s;return(s=this.getTopBlocks(!0)[0])!=null?s:null}getNestedTrees(){const e=this.getAllBlocks().map(s=>s.getIcons()).flat().filter(s=>s instanceof n.MutatorIcon$$module$build$src$core$icons$mutator_icon&&s.bubbleIsVisible()).map(s=>{let u;return(u=s.getBubble())==null?void 0:u.getWorkspace()}).filter(s=>!!s),t=this.getFlyout(!0);return t&&e.push(t.getWorkspace()),e}searchForWorkspaceComment(e){for(const t of this.getTopComments())if(t instanceof u0&&t.canBeFocused()&&t.getFocusableElement().id===e)return t}lookUpFocusableNode(e){var t;const s=(t=this.targetWorkspace)==null?void 0:t.getFlyout();if(this.isFlyout&&s){for(var u of s.getContents())if(t=u.getElement(),ne(t)&&t.canBeFocused()&&t.getFocusableElement().id===e)return t}if(u=e.indexOf("_field_"),t=e.indexOf("_connection_"),u!==-1){var v=e.substring(0,u);if(v=this.getBlockById(v)){for(var R of v.getFields())if(R.canBeFocused()&&R.getFocusableElement().id===e)return R}return null}if(t!==-1){if(v=e.substring(0,t),v=this.getBlockById(v)){for(const Me of v.getConnections_(!0))if(Me.id===e)return Me}return null}if(R=Math.max(e.indexOf(vo),e.indexOf(Ki),e.indexOf(v2)),R!==-1&&(R=e.substring(0,R),R=this.searchForWorkspaceComment(R))){if(e.indexOf(vo)>-1)return R.getEditorFocusableNode();var ee;return(ee=R.view.getCommentBarButtons().find(Me=>Me.getFocusableElement().id.includes(e)))!=null?ee:null}if((ee=this.getAllBlocks(!1).find(Me=>Me.getFocusableElement().id===e))||(ee=this.searchForWorkspaceComment(e)))return ee;ee=this.getAllBlocks().map(Me=>Me.getIcons()).flat();for(v of ee){if(v.canBeFocused()&&v.getFocusableElement().id===e)return v;if(g0(v)){if((ee=v.getBubble())&&ee.canBeFocused()&&ee.getFocusableElement().id===e)return ee;if(ee instanceof sl&&ee.getEditor().getFocusableElement().id===e)return ee.getEditor()}}return null}onTreeFocus(e,t){}onTreeBlur(e){if(this.isFlyout&&this.targetWorkspace&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()){var t=this.targetWorkspace.getToolbox();t&&e===t||Ni(t)&&t.autoHide(!1)}}getNavigator(){return this.navigator}setNavigator(e){this.navigator=e}},f4=class extends la{constructor(e){super(),this.isBlank=typeof e>"u",e&&(this.varId=e.getId(),this.workspaceId=e.getWorkspace().id)}toJson(){const e=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new f4),t.varId=e.varId,t}},K5=class extends f4{constructor(e){super(e),this.type=mt.VAR_CREATE,e&&(this.varType=e.getType(),this.varName=e.getName())}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new K5),t.varType=e.varType,t.varName=e.varName,t}run(e){var t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");t=t.getVariableMap(),e?t.createVariable(this.varName,this.varType,this.varId):(e=t.getVariableById(this.varId))&&t.deleteVariable(e)}};a(Ut.EVENT,mt.VAR_CREATE,K5);var C7=class{constructor(e,t,s,u){this.workspace=e,this.name=t,this.type=s||"",this.id=u||Xe()}getId(){return this.id}getName(){return this.name}setName(e){return this.name=e,this}getType(){return this.type}setType(e){return this.type=e,this}getWorkspace(){return this.workspace}save(){const e={name:this.getName(),id:this.getId()},t=this.getType();return t&&(e.type=t),e}static load(e,t){e=new this(t,e.name,e.type,e.id),t.getVariableMap().addVariable(e),le(new(an(mt.VAR_CREATE))(e))}};a(Ut.VARIABLE_MODEL,ml,C7);var J5=class extends f4{constructor(e){super(e),this.type=mt.VAR_DELETE,e&&(this.varType=e.getType(),this.varName=e.getName())}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new J5),t.varType=e.varType,t.varName=e.varName,t}run(e){var t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");t=t.getVariableMap(),e?(e=t.getVariableById(this.varId))&&t.deleteVariable(e):t.createVariable(this.varName,this.varType,this.varId)}};a(Ut.EVENT,mt.VAR_DELETE,J5);var Z5=class extends f4{constructor(e,t){super(e),this.type=mt.VAR_RENAME,e&&(this.oldName=e.getName(),this.newName=typeof t>"u"?"":t)}toJson(){const e=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new Z5),t.oldName=e.oldName,t.newName=e.newName,t}run(e){var t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");t=t.getVariableMap();const s=t.getVariableById(this.varId);e?s&&t.renameVariable(s,this.newName):s&&t.renameVariable(s,this.oldName)}};a(Ut.EVENT,mt.VAR_RENAME,Z5);var A7=class{constructor(e,t=!1){this.workspace=e,this.potentialMap=t,this.variableMap=new Map}clear(){for(const e of this.variableMap.values())for(const t of e.values())this.deleteVariable(t);if(this.variableMap.size!==0)throw Error("Non-empty variable map")}renameVariable(e,t){if(e.getName()===t)return e;var s=e.getType();s=this.getVariable(t,s);const u=this.workspace.getAllBlocks(!1);let v="";this.potentialMap||(v=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0);try{s&&s.getId()!==e.getId()?this.renameVariableWithConflict(e,t,s,u):this.renameVariableAndUses(e,t,u)}finally{this.potentialMap||n.setGroup$$module$build$src$core$events$utils(v)}return e}changeVariableType(e,t){const s=e.getType();if(s===t)return e;var u=this.variableMap.get(s);u?.delete(e.getId()),u?.size===0&&this.variableMap.delete(s),e.setType(t);let v;return u=(v=this.variableMap.get(t))!=null?v:new Map,u.set(e.getId(),e),this.variableMap.has(t)||this.variableMap.set(t,u),le(new(an(mt.VAR_TYPE_CHANGE))(e,s,t)),e}renameVariableById(e,t){Pn("VariableMap.renameVariableById","v12","v13","VariableMap.renameVariable");const s=this.getVariableById(e);if(!s)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(s,t)}renameVariableAndUses(e,t,s){for(this.potentialMap||le(new(an(mt.VAR_RENAME))(e,t)),e.setName(t),t=0;t<s.length;t++)s[t].updateVarName(e)}renameVariableWithConflict(e,t,s,u){const v=e.getType(),R=s.getName();for(t!==R&&this.renameVariableAndUses(s,t,u),t=0;t<u.length;t++)u[t].renameVarById(e.getId(),s.getId());this.potentialMap||le(new(an(mt.VAR_DELETE))(e));let ee;(ee=this.variableMap.get(v))==null||ee.delete(e.getId())}createVariable(e,t,s){var u=this.getVariable(e,t);if(u){if(s&&u.getId()!==s)throw Error('Variable "'+e+'" is already in use and its id is "'+u.getId()+'" which conflicts with the passed in id, "'+s+'".');return u}if(s&&this.getVariableById(s))throw Error('Variable id, "'+s+'", is already in use.');if(u=s||Xe(),t=t||"",s=A(Ut.VARIABLE_MODEL,this.workspace.options,!0),!s)throw Error("No variable model is registered.");u=new s(this.workspace,e,t,u);let v;return e=(v=this.variableMap.get(t))!=null?v:new Map,e.set(u.getId(),u),this.variableMap.has(t)||this.variableMap.set(t,e),this.potentialMap||le(new(an(mt.VAR_CREATE))(u)),u}addVariable(e){const t=e.getType();this.variableMap.has(t)||this.variableMap.set(t,new Map);let s;(s=this.variableMap.get(t))==null||s.set(e.getId(),e)}deleteVariable(e){const t=Ii(this.workspace,e.getId());let s="";this.potentialMap||(s=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0);try{for(let v=0;v<t.length;v++)t[v].dispose(!0);const u=this.variableMap.get(e.getType());u&&u.has(e.getId())&&(u.delete(e.getId()),this.potentialMap||le(new(an(mt.VAR_DELETE))(e)),u.size===0&&this.variableMap.delete(e.getType()))}finally{this.potentialMap||n.setGroup$$module$build$src$core$events$utils(s)}}deleteVariableById(e){Pn("VariableMap.deleteVariableById","v12","v13","Blockly.Variables.deleteVariable"),(e=this.getVariableById(e))&&n.deleteVariable$$module$build$src$core$variables(this.workspace,e)}getVariable(e,t){if(t=this.variableMap.get(t||""),!t)return null;let s;return(s=[...t.values()].find(u=>n.Names$$module$build$src$core$names.equals(u.getName(),e)))!=null?s:null}getVariableById(e){for(const t of this.variableMap.values())if(t.has(e)){let s;return(s=t.get(e))!=null?s:null}return null}getVariablesOfType(e){return(e=this.variableMap.get(e||""))?[...e.values()]:[]}getTypes(){return[...this.variableMap.keys()]}getAllVariables(){let e=[];for(const t of this.variableMap.values())e=e.concat(...t.values());return e}getAllVariableNames(){Pn("VariableMap.getAllVariableNames","v12","v13","Blockly.Variables.getAllVariables");const e=[];for(const t of this.variableMap.values())for(const s of t.values())e.push(s.getName());return e}getVariableUsesById(e){return Pn("VariableMap.getVariableUsesById","v12","v13","Blockly.Variables.getVariableUsesById"),Ii(this.workspace,e)}};a(Ut.VARIABLE_MAP,ml,A7);var Q5=class extends $i{constructor(e,t){super(t),this.type=mt.TRASHCAN_OPEN,this.isOpen=e}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new Q5),t.isOpen=e.isOpen,t}};a(Ut.EVENT,mt.TRASHCAN_OPEN,Q5);var I7=class extends D1{constructor(e){super(),this.workspace=e,this.id="trashcan",this.contents=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness=0,this.lidTask=this.svgLid=this.svgGroup=null,this.top=this.left=this.lidOpen=0,this.initialized=!1,this.workspace.options.maxTrashcanContents<=0||(e=this.workspace.copyOptionsForFlyout(),this.workspace.horizontalLayout?(e.toolboxPosition=this.workspace.toolboxPosition===Er.TOP?Er.BOTTOM:Er.TOP,this.flyout=new(A(Ut.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(e)):(e.toolboxPosition=this.workspace.toolboxPosition===Er.RIGHT?Er.LEFT:Er.RIGHT,this.flyout=new(A(Ut.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(e)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){this.svgGroup=dt(ht.G,{class:"blocklyTrash"});let e;const t=String(Math.random()).substring(2);e=dt(ht.CLIPPATH,{id:"blocklyTrashBodyClipPath"+t},this.svgGroup),dt(ht.RECT,{width:p4,height:W3,y:m4},e);const s=dt(ht.IMAGE,{width:Yo.width,x:-e6,height:Yo.height,y:-t6,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup);return s.setAttributeNS(il,"xlink:href",this.workspace.options.pathToMedia+Yo.url),e=dt(ht.CLIPPATH,{id:"blocklyTrashLidClipPath"+t},this.svgGroup),dt(ht.RECT,{width:p4,height:m4},e),this.svgLid=dt(ht.IMAGE,{width:Yo.width,x:-e6,height:Yo.height,y:-t6,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup),this.svgLid.setAttributeNS(il,"xlink:href",this.workspace.options.pathToMedia+Yo.url),be(this.svgGroup,"pointerdown",this,this.blockMouseDownWhenOpenable),be(this.svgGroup,"pointerup",this,this.click),be(s,"pointerover",this,this.mouseOver),be(s,"pointerout",this,this.mouseOut),this.animateLid(),this.svgGroup}init(){if(this.workspace.options.maxTrashcanContents>0){const e=this.flyout.createDom(ht.SVG);tn(e,"blocklyTrashcanFlyout"),Ei(e,this.workspace.getParentSvg()),this.flyout.init(this.workspace)}this.workspace.getComponentManager().addComponent({component:this,weight:Si.ComponentWeight.TRASHCAN_WEIGHT,capabilities:[Si.Capability.AUTOHIDEABLE,Si.Capability.DELETE_AREA,Si.Capability.DRAG_TARGET,Si.Capability.POSITIONABLE]}),this.initialized=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup&&on(this.svgGroup),this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var e=this.contents.map(function(s){return JSON.parse(s)}),t=this.workspace.getParentSvg().style;t.cursor="wait",setTimeout(()=>{let s;(s=this.flyout)==null||s.show(e),t.cursor="";let u;(u=this.workspace.scrollbar)==null||u.setVisible(!1)},10),this.fireUiEvent(!0)}}closeFlyout(){if(this.contentsIsOpen()){var e;(e=this.flyout)==null||e.hide();var t;(t=this.workspace.scrollbar)==null||t.setVisible(!0),this.fireUiEvent(!1),this.workspace.recordDragTargets()}}autoHide(e){!e&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(e,t){if(this.initialized){var s=Rs(this.workspace,e);e=xr(s,new _r(p4,W3+m4),h$,M7,e,this.workspace),t=oi(e,M7,s.vertical===Vs.TOP?Ga.DOWN:Ga.UP,t),this.top=t.top,this.left=t.left;var u;(u=this.svgGroup)==null||u.setAttribute("transform","translate("+this.left+","+this.top+")");var v;(v=this.flyout)==null||v.position()}}getBoundingRectangle(){return new $r(this.top,this.top+W3+m4,this.left,this.left+p4)}getClientRect(){if(!this.svgGroup)return null;var e=this.svgGroup.getBoundingClientRect();const t=e.top+t6-q3;return e=e.left+e6-q3,new $r(t,t+m4+W3+2*q3,e,e+p4+2*q3)}onDragOver(e){this.setLidOpen(this.wouldDelete_)}onDragExit(e){this.setLidOpen(!1)}onDrop(e){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(e){this.isLidOpen!==e&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=e,this.animateLid())}animateLid(){const e=p$;var t=1/(e+1);this.lidOpen+=this.isLidOpen?t:-t,this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1),this.setLidAngle(this.lidOpen*N7),t=R7+this.lidOpen*(m$-R7),this.svgGroup&&(this.svgGroup.style.opacity=`${t}`),this.lidOpen>this.minOpenness&&this.lidOpen<1&&(this.lidTask=setTimeout(this.animateLid.bind(this),f$/e))}setLidAngle(e){const t=this.workspace.toolboxPosition===Er.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let s;(s=this.svgLid)==null||s.setAttribute("transform","rotate("+(t?-e:e)+","+(t?4:p4-4)+","+(m4-2)+")")}setMinOpenness(e){this.minOpenness=e,this.isLidOpen||this.setLidAngle(e*N7)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}fireUiEvent(e){e=new(an(mt.TRASHCAN_OPEN))(e,this.workspace.id),le(e)}blockMouseDownWhenOpenable(e){!this.contentsIsOpen()&&this.hasContents()&&e.stopPropagation()}mouseOver(){this.hasContents()&&this.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(e){if(!(this.workspace.options.maxTrashcanContents<=0||!He(e)||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson(e.oldJson)),!this.contents.includes(e)){for(this.contents.unshift(e);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(d$)}}}cleanBlockJson(e){function t(s){if(s){if(delete s.id,delete s.x,delete s.y,delete s.enabled,delete s.disabledReasons,s.icons&&s.icons.comment){var u=s.icons.comment;delete u.height,delete u.width,delete u.pinned}u=s.inputs;for(var v in u){var R=u[v];const ee=R.block;R=R.shadow,ee&&t(ee),R&&t(R)}s.next&&(v=s.next,s=v.block,v=v.shadow,s&&t(s),v&&t(v))}}return e=JSON.parse(JSON.stringify(e)),t(e),Object.assign({},{kind:"BLOCK"},e)}},p4=47,W3=44,m4=16,M7=20,h$=20,q3=10,e6=0,t6=32,d$=.1,f$=80,p$=4,R7=.4,m$=.8,N7=45,P2=null,F2=null,X3=void 0,eu={};eu.BlockPaster=Dc,eu.copy=id,eu.getLastCopiedData=bs,eu.getLastCopiedLocation=od,eu.getLastCopiedWorkspace=i1,eu.paste=ta,eu.registry=Tc,eu.setLastCopiedData=sd,eu.setLastCopiedLocation=b3,eu.setLastCopiedWorkspace=I4;var W1={};W1.CollapseCommentBarButton=e4,W1.CommentBarButton=Bh,W1.CommentEditor=t4,W1.CommentView=Ac,W1.DeleteCommentBarButton=N3,W1.RenderedWorkspaceComment=u0,W1.WorkspaceComment=R1;var Lu;(function(e){e.ESCAPE="escape",e.DELETE="delete",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.UNDO="undo",e.REDO="redo"})(Lu||(Lu={})),dh();var Du={};Du.names=Lu,Du.registerCopy=s1,Du.registerCut=ch,Du.registerDefaultShortcuts=dh,Du.registerDelete=Ls,Du.registerEscape=Do,Du.registerPaste=A0,Du.registerRedo=hh,Du.registerUndo=o1;var g$=class{constructor(e,t){this.procedureModelClass=e,this.parameterModelClass=t,this.priority=ca}save(e){return e=e.getProcedureMap().getProcedures().map(t=>ld(t)),e.length?e:null}load(e,t){const s=t.getProcedureMap();for(const u of e)s.add(ad(this.procedureModelClass,this.parameterModelClass,u,t))}clear(e){e.getProcedureMap().clear()}},j3={};j3.ProcedureSerializer=g$,j3.loadProcedure=ad,j3.saveProcedure=ld;var O7=class{constructor(){this.priority=bu}save(e){return e=e.getAllVariables().map(t=>t.save()),e.length?e:null}load(e,t){const s=E(Ut.VARIABLE_MODEL,ml);e.forEach(u=>{s?.load(u,t)})}clear(e){e.getVariableMap().clear()}};Ir("variables",new O7);var L7={};L7.VariableSerializer=O7;var n6={};n6.load=R4,n6.save=M4;var $$={blocks:Ec,exceptions:yl,priorities:R0,procedures:j3,registry:Bd,variables:L7,workspaceComments:vu,workspaces:n6};"Blockly"in globalThis||(globalThis.Blockly={Msg:zd});var r6="label",D7=class{load(e,t){return e=new Mo(t.getWorkspace(),t.targetWorkspace,e,!0),e.show(),new B1(e,r6)}gapForItem(e,t){return t}disposeItem(e){e=e.getElement(),e instanceof Mo&&e.dispose()}getType(){return r6}};a(Ut.FLYOUT_INFLATER,r6,D7);var B7=class extends gt{constructor(e){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null,e&&(this.GRID_UNIT=e),this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=6*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=8*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(e){super.setFontConstants_(e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+this.FIELD_BORDER_RECT_Y_PADDING*2}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(e){super.setDynamicProperties_(e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const t=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=t&&!isNaN(t)?t:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter&&on(this.selectedGlowFilter),this.replacementGlowFilter&&on(this.replacementGlowFilter)}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,s=nl("c",[Dn(25,-e),Dn(71,-e),Dn(t,0)]);return{height:e*.75,width:t,path:s}}makeHexagonal(){function e(s,u,v){var R=s/2;return R=R>t?t:R,v=v?-1:1,s=(u?-1:1)*s/2,fl(-v*R,s)+fl(v*R,s)}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(s){return s/=2,s>t?t:s},height(s){return s},connectionOffsetY(s){return s/2},connectionOffsetX(s){return-s},pathDown(s){return e(s,!1,!1)},pathUp(s){return e(s,!0,!1)},pathRightDown(s){return e(s,!1,!0)},pathRightUp(s){return e(s,!1,!0)}}}makeRounded(){function e(u,v,R){const ee=u>s?u-s:0;u=(u>s?s:u)/2;const Me=R===v?"0":"1";return b("a","0 0,"+Me,u,Dn((R?1:-1)*u,(v?-1:1)*u))+f("v",(v?-1:1)*ee)+b("a","0 0,"+Me,u,Dn((R?-1:1)*u,(v?-1:1)*u))}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,s=t*2;return{type:this.SHAPES.ROUND,isDynamic:!0,width(u){return u/=2,u>t?t:u},height(u){return u},connectionOffsetY(u){return u/2},connectionOffsetX(u){return-u},pathDown(u){return e(u,!1,!1)},pathUp(u){return e(u,!0,!1)},pathRightDown(u){return e(u,!1,!0)},pathRightUp(u){return e(u,!1,!0)}}}makeSquared(){function e(s,u,v){s-=t*2;const R=v===u?"0":"1";return b("a","0 0,"+R,t,Dn((v?1:-1)*t,(u?-1:1)*t))+f("v",(u?-1:1)*s)+b("a","0 0,"+R,t,Dn((v?-1:1)*t,(u?-1:1)*t))}const t=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(s){return t},height(s){return s},connectionOffsetY(s){return s/2},connectionOffsetX(s){return-s},pathDown(s){return e(s,!1,!1)},pathUp(s){return e(s,!0,!1)},pathRightDown(s){return e(s,!1,!0)},pathRightUp(s){return e(s,!1,!0)}}}shapeFor(e){let t=e.getCheck();switch(!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),e.type){case Tn.INPUT_VALUE:case Tn.OUTPUT_VALUE:if(e=e.getSourceBlock().getOutputShape(),e!==null)switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return t&&t.includes("Boolean")?this.HEXAGONAL:t&&t.includes("Number")?this.ROUNDED:(t&&t.includes("String"),this.ROUNDED);case Tn.PREVIOUS_STATEMENT:case Tn.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function e(zn){return nl("c",[Dn(zn*v/2,0),Dn(zn*v*3/4,ee/2),Dn(zn*v,ee)])+g([Dn(zn*v,R)])+nl("c",[Dn(zn*v/4,ee/2),Dn(zn*v/2,ee),Dn(zn*v,ee)])+f("h",zn*u)+nl("c",[Dn(zn*v/2,0),Dn(zn*v*3/4,-(ee/2)),Dn(zn*v,-ee)])+g([Dn(zn*v,-R)])+nl("c",[Dn(zn*v/4,-(ee/2)),Dn(zn*v/2,-ee),Dn(zn*v,-ee)])}const t=this.NOTCH_WIDTH,s=this.NOTCH_HEIGHT,u=t/3,v=u/3,R=s/2,ee=R/2,Me=e(1),Bt=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:s,pathLeft:Me,pathRight:Bt}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=b("a","0 0,0",e,Dn(-e,e)),s=b("a","0 0,1",e,Dn(-e,e)),u=b("a","0 0,0",e,Dn(e,e)),v=b("a","0 0,1",e,Dn(e,e));return{width:e,height:e,pathTop:t,pathBottom:u,rightWidth:e,rightHeight:e,pathTopRight:s,pathBottomRight:v}}generateSecondaryColour_(e){return ro("#000",e,.15)||e}generateTertiaryColour_(e){return ro("#000",e,.25)||e}createDom(e,t,s,u){super.createDom(e,t,s,u),e=dt(ht.DEFS,{},e),t=dt(ht.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),dt(ht.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},t),s=dt(ht.FECOMPONENTTRANSFER,{result:"outBlur"},t),dt(ht.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},s),dt(ht.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),dt(ht.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.selectedGlowFilterId=t.id,this.selectedGlowFilter=t,e=dt(ht.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),dt(ht.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),t=dt(ht.FECOMPONENTTRANSFER,{result:"outBlur"},e),dt(ht.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),dt(ht.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),dt(ht.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),dt(ht.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter=e,u&&(u.style.setProperty("--blocklySelectedGlowFilter",`url(#${this.selectedGlowFilterId})`),u.style.setProperty("--blocklyReplacementGlowFilter",`url(#${this.replacementGlowFilterId})`))}getCSS_(e){return[`${e} .blocklyText,`,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyTextInputBubble textarea {`,"font-weight: normal;","}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableField>rect:not(.blocklyDropdownRect),`,`${e} .blocklyEditableField>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",`${e} .blocklyNonEditableField>text,`,`${e} .blocklyEditableField>text,`,`${e} .blocklyNonEditableField>g>text,`,`${e} .blocklyEditableField>g>text {`,"fill: #575E75;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #575E75;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #575E75;","}",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableField:not(.blocklyEditing):hover>rect,",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableField:not(.blocklyEditing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",`${e} .blocklyDropdownText {`,"fill: #fff !important;","}",`${e}.blocklyWidgetDiv .blocklyMenuItem,`,`${e}.blocklyDropDownDiv .blocklyMenuItem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e}.blocklyDropDownDiv .blocklyMenuItemContent {`,"color: #fff;","}",`${e} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",`${e} .blocklyDisabledPattern > .blocklyOutlinePath {`,"fill: var(--blocklyDisabledPattern)","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}",`${e} .blocklySelected>.blocklyPath.blocklyPathSelected {`,"fill: none;","filter: var(--blocklySelectedGlowFilter);","}",`${e} .blocklyReplaceable>.blocklyPath {`,"filter: var(--blocklyReplacementGlowFilter);","}"]}},P7=class extends Gt{constructor(e,t){super(e,t)}draw(){const e=this.block_.pathObject;e.beginDrawing(),this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),e.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(e){if(!(e.height<=0)){if(qe.isSpacer(e)){const u=e.precedesStatement;var t=e.followsStatement;if(u||t){const v=this.constants_.INSIDE_CORNERS;var s=v.rightHeight;s=e.height-(u?s:0),t=t?v.pathBottomRight:"",e=s>0?f("V",e.yPos+s):"",this.outlinePath_+=t+e+(u?v.pathTopRight:"");return}}this.outlinePath_+=f("V",e.yPos+e.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){const e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=Ri(e.xPos,this.info_.startY),this.outlinePath_+=f("h",e.width)}drawFlatBottom_(){const e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=f("V",e.baseline),this.outlinePath_+=f("h",-e.width)}drawInlineInput_(e){this.positionInlineInputConnection_(e);const t=e.input.name;e.connectedBlock||this.info_.isInsertionMarker||(e=io(e.xPos+e.connectionWidth,e.centerline-e.height/2)+this.getInlineInputPath(e),this.block_.pathObject.setOutlinePath(t,e))}getInlineInputPath(e){const t=e.width-e.connectionWidth*2,s=e.height;return f("h",t)+e.shape.pathRightDown(s)+f("h",-t)+e.shape.pathUp(s)+"z"}drawStatementInput_(e){var t=e.getLastInput();const s=t.xPos+t.notchOffset+t.shape.width,u=this.constants_.INSIDE_CORNERS,v=t.shape.pathRight+f("h",-(t.notchOffset-u.width))+u.pathTop,R=e.height-2*u.height;t=u.pathBottom+f("h",t.notchOffset-u.width)+(t.connectedBottomNextConnection?"":t.shape.pathLeft),this.outlinePath_+=f("H",s)+v+f("v",R)+t+f("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}drawConnectionHighlightPath(e){const t=e.connectionModel;if(t.type===Tn.NEXT_STATEMENT||t.type===Tn.PREVIOUS_STATEMENT||t.type===Tn.OUTPUT_VALUE&&!e.isDynamicShape)return super.drawConnectionHighlightPath(e);e=t.type===Tn.INPUT_VALUE?io(e.connectionWidth,-e.height/2)+this.getInlineInputPath(e):io(e.width,-e.height/2)+e.shape.pathDown(e.height);const s=t.getSourceBlock();let u,v;return(v=(u=s.pathObject).addConnectionHighlight)==null?void 0:v.call(u,t,e,t.getOffsetInBlock(),s.RTL)}},qh=class extends Li{constructor(e,t,s,u,v,R,ee){if(super(Li.SKIP_SETUP),this.imageElement=this.clickHandler=null,this.flipRtl=this.isDirty_=this.EDITABLE=!1,this.altText="",s=Number(lr(s)),t=Number(lr(t)),isNaN(s)||isNaN(t))throw Error("Height and width values of an image field must cast to numbers.");if(s<=0||t<=0)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new _r(t,s+qh.Y_PADDING),this.imageHeight=s,typeof v=="function"&&(this.clickHandler=v),e!==Li.SKIP_SETUP&&(ee?this.configure_(ee):(this.flipRtl=!!R,this.altText=lr(u)||""),this.setValue(lr(e)))}configure_(e){super.configure_(e),e.flipRtl&&(this.flipRtl=e.flipRtl),e.alt&&(this.altText=lr(e.alt))}initView(){this.imageElement=dt(ht.IMAGE,{height:this.imageHeight+"px",width:this.size_.width+"px",alt:this.altText},this.fieldGroup_),this.imageElement.setAttributeNS(il,"xlink:href",this.value_),this.fieldGroup_&&tn(this.fieldGroup_,"blocklyImageField"),this.clickHandler&&(this.imageElement.style.cursor="pointer")}updateSize_(){}doClassValidation_(e){return typeof e!="string"?null:e}doValueUpdate_(e){this.value_=e,this.imageElement&&this.imageElement.setAttributeNS(il,"xlink:href",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(e){e!==this.altText&&(this.altText=e||"",this.imageElement&&this.imageElement.setAttribute("alt",this.altText))}isClickable(){return super.isClickable()&&!!this.clickHandler}showEditor_(){this.clickHandler&&this.clickHandler(this)}setOnClickHandler(e){this.clickHandler=e}getText_(){return this.altText}static fromJson(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}};qh.Y_PADDING=1,el("field_image",qh),qh.prototype.DEFAULT_VALUE="";var Y3=14,g4=class extends Li{set size_(e){super.size_=e}get size_(){const e=super.size_;return e.width<Y3&&(e.width=Y3),e}constructor(e,t,s){super(Li.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onInputWrapper=this.onKeyDownWrapper=this.valueWhenEditorWasOpened_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,e!==Li.SKIP_SETUP&&(s&&this.configure_(s),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.spellcheck!==void 0&&(this.spellcheck_=e.spellcheck)}initView(){if(!this.getSourceBlock())throw new Ws;super.initView(),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot()),this.fieldGroup_&&tn(this.fieldGroup_,"blocklyInputField")}isFullBlockField(){const e=this.getSourceBlock();if(!e)throw new Ws;let t;return this.fullBlockClickTarget_=!((t=this.getConstants())==null||!t.FULL_BLOCK_FIELDS)&&e.isSimpleReporter()}doValueInvalid_(e,t=!0){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.valueWhenEditorWasOpened_,this.sourceBlock_&&sn()&&this.value_!==e&&t&&le(new(an(mt.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}doValueUpdate_(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}applyColour(){const e=this.getSourceBlock();if(!e)throw new Ws;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?(this.borderRect_.style.display="block",this.borderRect_.setAttribute("stroke",e.getColourTertiary())):(this.borderRect_.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}getSize(){let e;return(e=this.getConstants())!=null&&e.FULL_BLOCK_FIELDS&&(this.render_(),this.isDirty_=!1),super.getSize()}onLocationChange(){this.isBeingEdited_&&this.resizeEditor_()}render_(){if(super.render_(),this.isBeingEdited_){var e=this.htmlInput_;this.isTextValid_?(Zn(e,"blocklyInvalidInput"),Ur(e,Ts.INVALID,!1)):(tn(e,"blocklyInvalidInput"),Ur(e,Ts.INVALID,!0))}if(e=this.getSourceBlock(),!e)throw new Ws;this.getConstants().FULL_BLOCK_FIELDS&&e.applyColour()}setSpellcheck(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(e,t=!1,s=!0){this.workspace_=this.sourceBlock_.workspace,!t&&this.workspace_.options.modalInputs&&(w3||Cd||m1)?this.showPromptEditor():this.showInlineEditor(t,s)}showPromptEditor(){hn(n.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,this.getText(),e=>{e!==null&&this.setValue(this.getValueFromEditorText_(e)),this.onFinishEditing_(this.value_)})}showInlineEditor(e,t){const s=this.getSourceBlock();if(!s)throw new Ws;y0(this,s.RTL,this.widgetDispose_.bind(this),this.workspace_,t),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,this.valueWhenEditorWasOpened_=this.value_,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var e=this.getSourceBlock();if(!e)throw new Ws;n.setGroup$$module$build$src$core$events$utils(!0);const t=go();var s=this.getClickTarget_();if(!s)throw Error("A click target has not been set.");tn(s,"blocklyEditing"),s=document.createElement("input"),s.className="blocklyHtmlInput",s.setAttribute("spellcheck",this.spellcheck_);const u=this.workspace_.getAbsoluteScale();var v=this.getConstants().FIELD_TEXT_FONTSIZE*u+"pt";return t.style.fontSize=v,s.style.fontSize=v,v=g4.BORDERRADIUS*u+"px",this.isFullBlockField()&&(v=this.getScaledBBox(),v=(v.bottom-v.top)/2+"px",e=e.getParent()?e.getParent().getColourTertiary():this.sourceBlock_.getColourTertiary(),s.style.border=1*u+"px solid "+e,t.style.borderRadius=v,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*u+"px")),s.style.borderRadius=v,t.appendChild(s),s.value=s.defaultValue=this.getEditorText_(this.value_),s.setAttribute("data-untyped-default-value",String(this.value_)),this.resizeEditor_(),this.bindInputEvents_(s),s}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),this.sourceBlock_&&sn()&&this.valueWhenEditorWasOpened_!==null&&this.valueWhenEditorWasOpened_!==this.value_&&(le(new(an(mt.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null),n.setGroup$$module$build$src$core$events$utils(!1),this.unbindInputEvents_();var e=go().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,e=this.getClickTarget_(),!e)throw Error("A click target has not been set.");Zn(e,"blocklyEditing")}onFinishEditing_(e){}bindInputEvents_(e){this.onKeyDownWrapper=ie(e,"keydown",this,this.onHtmlInputKeyDown_),this.onInputWrapper=ie(e,"input",this,this.onHtmlInputChange)}unbindInputEvents_(){this.onKeyDownWrapper&&(Ie(this.onKeyDownWrapper),this.onKeyDownWrapper=null),this.onInputWrapper&&(Ie(this.onInputWrapper),this.onInputWrapper=null)}onHtmlInputKeyDown_(e){if(e.key==="Enter")Pl(this),Ne();else if(e.key==="Escape")this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value"),!1),Pl(this),Ne();else if(e.key==="Tab"){e.preventDefault();var t,s=(t=this.workspace_)==null?void 0:t.getCursor();t=u=>(u instanceof g4||u instanceof Ji&&u.isSimpleReporter())&&u!==this.getSourceBlock(),e=e.shiftKey?s?.getPreviousNode(this,t,!1):s?.getNextNode(this,t,!1),e=e instanceof Ji&&e.isSimpleReporter()?e.getFields().next().value:e,e instanceof g4&&(Pl(this),Ne(),s=e.getSourceBlock(),e.isFullBlockField()&&s&&s instanceof Ji?n.getFocusManager$$module$build$src$core$focus_manager().focusNode(s):n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e),e.showEditor())}}onHtmlInputChange(e){e=this.value_,this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1),this.sourceBlock_&&sn()&&this.value_!==e&&le(new(an(mt.BLOCK_FIELD_INTERMEDIATE_CHANGE))(this.sourceBlock_,this.name||null,e,this.value_))}setEditorValue_(e,t=!0){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e,t)}resizeEditor_(){jn().then(()=>{const e=this.getSourceBlock();if(!e)throw new Ws;const t=go(),s=this.getScaledBBox();t.style.width=s.right-s.left+"px",t.style.height=s.bottom-s.top+"px";const u=s.top;t.style.left=`${e.RTL?s.right-t.offsetWidth:s.left}px`,t.style.top=`${u}px`})}repositionForWindowResize(){let e;const t=(e=this.getSourceBlock())==null?void 0:e.getRootBlock();return t instanceof Ji?(gr(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),t)||this.resizeEditor_(),!0):!1}positionTextElement_(e,t){const s=e*2+t;super.positionTextElement_(e+(s<Y3?(Y3-s)/2:0),t)}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(e){return`${e}`}getValueFromEditorText_(e){return e}};g4.BORDERRADIUS=4,n.FieldTextInput$$module$build$src$core$field_textinput=class extends g4{constructor(e,t,s){super(e,t,s)}initView(){super.initView(),this.fieldGroup_&&tn(this.fieldGroup_,"blocklyTextInputField")}doClassValidation_(e){return e===void 0?null:`${e}`}static fromJson(e){return new this(lr(e.text),void 0,e)}},el("field_input",n.FieldTextInput$$module$build$src$core$field_textinput),n.FieldTextInput$$module$build$src$core$field_textinput.prototype.DEFAULT_VALUE="",n.FieldTextInput$$module$build$src$core$field_textinput;var F7=class extends i{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){return!!e.outputConnection}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},K3=class extends ot{constructor(e,t){if(super(e,t),this.connectedBottomNextConnection=!1,this.connectedBlock){for(e=this.connectedBlock;t=e.getNextBlock();)e=t;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},z7=class extends va{constructor(e){super(e),this.width=this.height=0,this.type|=qe.getType("RIGHT_CONNECTION")}},U7=class extends Ye{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){const t=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},H7=class extends qn{constructor(e,t){super(e,t),this.isInline=!0,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.topRow=new U7(this.constants_),this.bottomRow=new F7(this.constants_),this.isMultiRow=!t.getInputsInline()||t.isCollapsed(),this.hasStatementInput=t.statementInputCount>0,this.rightSide=this.outputConnection?new z7(this.constants_):null,this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(e,t){return t?t instanceof jl||e instanceof Sl||t instanceof Sl?!0:e instanceof n.ValueInput$$module$build$src$core$inputs$value_input||e instanceof ol||e instanceof jl?!this.isInline||this.isMultiRow:!1:!1}getDesiredRowWidth_(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(e)}getInRowSpacing_(e,t){return e&&t||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&t&&qe.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&qe.isLeftRoundedCorner(e)&&t&&(qe.isPreviousConnection(t)||qe.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&qe.isLeftSquareCorner(e)&&t&&qe.isHat(t)||e&&qe.isField(e)&&e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(e,t){if(qe.isTopRow(e)&&qe.isBottomRow(t))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;const s=qe.isInputRow(e)&&e.hasStatement,u=qe.isInputRow(t)&&t.hasStatement;return u||s?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),u&&s?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):qe.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):qe.isBottomRow(t)?this.outputConnection?!t.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(e,t){const s=this.width-this.startX;return qe.isInputRow(e)&&e.hasStatement||qe.isInputRow(t)&&t.hasStatement?Math.max(s,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):s}getElemCenterline_(e,t){if(e.hasStatement&&!qe.isSpacer(t)&&!qe.isStatementInput(t))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(qe.isInlineInput(t)){const s=t.connectedBlock;if(s&&s.outputConnection&&s.nextConnection)return e.yPos+s.height/2}return super.getElemCenterline_(e,t)}addInput_(e,t){if((e instanceof ol||e instanceof jl)&&t.hasDummyInput&&t.align===n.Align$$module$build$src$core$inputs$align.LEFT&&e.align===n.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(t,e);else if(e instanceof Sl){t.elements.push(new K3(this.constants_,e)),t.hasStatement=!0,t.align===null&&(t.align=e.align);return}super.addInput_(e,t)}addAlignmentPadding_(e,t){if(this.rightAlignedDummyInputs.get(e)){let s;for(let u=0;u<e.elements.length;u++){const v=e.elements[u];if(qe.isSpacer(v)&&(s=v),qe.isField(v)&&v.parentInput===this.rightAlignedDummyInputs.get(e))break}if(s){s.width+=t,e.width+=t;return}}super.addAlignmentPadding_(e,t)}adjustXPosition_(){const e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let t=e;for(let v=2;v<this.rows.length-1;v+=2){var s=this.rows[v-1];const R=this.rows[v];var u=this.rows[v+1];if(s=v===2?!!this.topRow.hasPreviousConnection:!!s.followsStatement,u=v+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!u.precedesStatement,qe.isInputRow(R)&&R.hasStatement){R.measure();let ee,Me;t=R.width-((Me=(ee=R.getLastInput())==null?void 0:ee.width)!=null?Me:0)+e}else if(s&&(v===2||u)&&qe.isInputRow(R)&&!R.hasStatement){u=R.xPos,s=null;for(let ee=0;ee<R.elements.length;ee++){const Me=R.elements[ee];qe.isSpacer(Me)&&(s=Me),!(s&&(qe.isField(Me)||qe.isInput(Me))&&u<t)||qe.isField(Me)&&(Me.field instanceof Nc||Me.field instanceof qh)||(s.width+=t-u),u+=Me.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var t=0,s=0;s<this.rows.length;s++){const u=this.rows[s];u.yPos=t,t+=u.height}this.height=t,s=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,t=e.height(s),s=e.width(s),this.outputConnection.height=t,this.outputConnection.width=s,this.outputConnection.startX=s,this.outputConnection.connectionOffsetY=e.connectionOffsetY(t),this.outputConnection.connectionOffsetX=e.connectionOffsetX(s),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=s,this.rightSide.height=t,this.rightSide.width=e,this.rightSide.centerline=t/2,this.rightSide.xPos=this.width+e),this.startX=s,this.width+=s+e,this.widthWithChildren+=s+e}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,t=0;t<this.rows.length;t++){var s=this.rows[t];if(!qe.isInputRow(s))continue;e=s.elements[s.elements.length-2];let u=this.getNegativeSpacing_(s.elements[1]),v=this.getNegativeSpacing_(e);e=u+v;const R=this.constants_.MIN_BLOCK_WIDTH+this.outputConnection.width*2;this.width-e<R&&(e=this.width-R,u=e/2,v=e/2),s.elements.unshift(new me(this.constants_,-u)),s.elements.push(new me(this.constants_,-v))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,t=0;t<this.rows.length;t++)s=this.rows[t],qe.isTopOrBottomRow(s)&&(s.elements[1].width-=e),s.width-=e,s.widthWithConnectedBlocks-=e}}getNegativeSpacing_(e){if(!e||!this.outputConnection)return 0;const t=this.outputConnection.width;var s=this.outputConnection.shape.type;const u=this.constants_;if(this.inputRows.length>1)switch(s){case u.SHAPES.ROUND:return s=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,s=this.height/2>s?s:this.height/2,t-s*(1-Math.sin(Math.acos((s-this.constants_.SMALL_PADDING)/s)));default:return 0}if(qe.isInlineInput(e)){const v=e.connectedBlock;return e=v?v.pathObject.outputShapeType:e.shape.type,e==null||v&&v.outputConnection&&(v.statementInputCount||v.nextConnection)||s===u.SHAPES.HEXAGONAL&&s!==e?0:t-this.constants_.SHAPE_IN_SHAPE_PADDING[s][e]}return qe.isField(e)?s===u.SHAPES.ROUND&&e.field instanceof n.FieldTextInput$$module$build$src$core$field_textinput?t-2.75*u.GRID_UNIT:t-this.constants_.SHAPE_IN_SHAPE_PADDING[s][0]:qe.isIcon(e)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let u=2;u<this.rows.length-1;u+=2){const v=this.rows[u-1],R=this.rows[u],ee=this.rows[u+1];var e=u===2,t=u+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!ee.precedesStatement;if(e?this.topRow.hasPreviousConnection:v.followsStatement){var s=R.elements[1];if(s=R.elements.length===3&&s instanceof S&&(s.field instanceof Nc||s.field instanceof qh),!e&&s)v.height-=this.constants_.SMALL_PADDING,ee.height-=this.constants_.SMALL_PADDING,R.height-=this.constants_.MEDIUM_PADDING;else if(!e&&!t)v.height+=this.constants_.SMALL_PADDING;else if(t){for(e=!1,t=0;t<R.elements.length;t++)if(s=R.elements[t],qe.isInlineInput(s)&&s.connectedBlock&&!s.connectedBlock.isShadow()&&s.connectedBlock.getHeightWidth().height>=40){e=!0;break}e&&(v.height-=this.constants_.SMALL_PADDING,ee.height-=this.constants_.SMALL_PADDING)}}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},G7=class extends di{constructor(e,t,s){super(e,t,s),this.svgPathSelected=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=s}setPath(e){super.setPath(e),this.svgPathSelected&&this.svgPathSelected.setAttribute("d",e)}applyColour(e){super.applyColour(e);const t=e.getParent();e.isShadow()&&t&&this.svgPath.setAttribute("stroke",t.getColourTertiary());for(const s of this.outlines.values())s.setAttribute("fill",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const e of this.outlines.values())e.setAttribute("transform","scale(-1 1)")}updateSelected(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.classList.add("blocklyPathSelected"),Zn(this.svgPathSelected,xo.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),Zn(this.svgPathSelected,xo.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME),this.svgPathSelected.removeAttribute("tabindex"),this.svgPathSelected.removeAttribute("id"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,t){e=e.getParentInput().name,(e=this.getOutlinePath(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}beginDrawing(){this.remainingOutlines.clear();for(const e of this.outlines.keys())this.remainingOutlines.add(e)}endDrawing(){if(this.remainingOutlines.size)for(const e of this.remainingOutlines)this.removeOutlinePath(e);this.remainingOutlines.clear()}setOutlinePath(e,t){e=this.getOutlinePath(e),e.setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)}getOutlinePath(e){return this.outlines.has(e)||this.outlines.set(e,dt(ht.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}removeOutlinePath(e){let t,s;(t=this.outlines.get(e))==null||(s=t.parentNode)==null||s.removeChild(this.outlines.get(e)),this.outlines.delete(e)}},i6=class extends Bn{constructor(e){super(e)}makeConstants_(){return new B7}makeRenderInfo_(e){return new H7(this,e)}makeDrawer_(e,t){return new P7(e,t)}makePathObject(e,t){return new G7(e,t,this.getConstants())}getConstants(){return this.constants_}};Vl("zelos",i6);var V7=class{constructor(e){this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null,this.workspace=e.workspace}previewReplacement(e,t,s){n.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=s,s.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(t)&&(t.highlight(),this.staticConn=t)}finally{n.enable$$module$build$src$core$events$utils()}}previewConnection(e,t){if(e!==this.draggedConn||t!==this.staticConn){n.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(e,t)&&(this.markerConn=this.previewMarker(e,t)),this.workspace.getRenderer().shouldHighlightConnection(t)&&t.highlight(),this.draggedConn=e,this.staticConn=t}finally{n.enable$$module$build$src$core$events$utils()}}}shouldUseMarkerPreview(e,t){return t.type===Tn.PREVIOUS_STATEMENT||t.type===Tn.NEXT_STATEMENT||!(this.workspace.getRenderer()instanceof i6)}previewMarker(e,t){const s=e.getSourceBlock(),u=this.createInsertionMarker(s),v=this.getMatchingConnection(s,u,e);if(!v)return null;u.queueRender(),d(),v.connect(t);const R={x:t.x-v.x,y:t.y-v.y},ee=v.getOffsetInBlock().clone();return jn().then(()=>{if(!u.isDeadOrDying()){n.disable$$module$build$src$core$events$utils();try{u?.positionNearConnection(v,R,ee),u?.getSvgRoot().setAttribute("visibility","visible")}finally{n.enable$$module$build$src$core$events$utils()}}}),v}serializeBlockToInsertionMarker(e){const t=qi(e,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!t)throw Error(`Failed to serialize source block. ${e.toDevString()}`);return t}createInsertionMarker(e){e=this.serializeBlockToInsertionMarker(e),e=Nl(e,this.workspace);for(const t of e.getDescendants(!1))t.setInsertionMarker(!0);return e.initSvg(),e.getSvgRoot().setAttribute("visibility","hidden"),e}getMatchingConnection(e,t,s){if(e=e.getConnections_(!0),t=t.getConnections_(!0),e.length!==t.length)return null;for(let u=0;u<e.length;u++)if(e[u]===s)return t[u];return null}hidePreview(){n.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{n.enable$$module$build$src$core$events$utils()}}hideInsertionMarker(e){const t=e.getSourceBlock(),s=t.outputConnection;let u;if((u=t.previousConnection)!=null&&u.targetConnection||s!=null&&s.targetConnection)t.unplug(!0);else{let v;(v=e.targetBlock())==null||v.unplug(!1)}t.dispose()}dispose(){this.hidePreview()}};a(Ut.CONNECTION_PREVIEWER,ml,V7);var q1={};q1.Align=n.Align$$module$build$src$core$inputs$align,q1.DummyInput=ol,q1.EndRowInput=jl,q1.Input=Lc,q1.StatementInput=Sl,q1.ValueInput=n.ValueInput$$module$build$src$core$inputs$value_input,q1.inputTypes=n.inputTypes$$module$build$src$core$inputs$input_types;var W7=!1,q7;n.CodeGenerator$$module$build$src$core$generator=class{constructor(e){this.forBlock=Object.create(null),this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=N());var t=[];this.init(e),e=e.getTopBlocks(!0);for(let s=0,u;u=e[s];s++){let v=this.blockToCode(u);Array.isArray(v)&&(v=v[0]),v&&(u.outputConnection&&(v=this.scrubNakedValue(v),this.STATEMENT_PREFIX&&!u.suppressPrefixSuffix&&(v=this.injectId(this.STATEMENT_PREFIX,u)+v),this.STATEMENT_SUFFIX&&!u.suppressPrefixSuffix&&(v+=this.injectId(this.STATEMENT_SUFFIX,u))),t.push(v))}return t=t.join(`
`),t=this.finish(t),t=t.replace(/^\s+\n/,""),t=t.replace(/\n\s+$/,`
`),t=t.replace(/[ \t]+\n/g,`
`)}prefixLines(e,t){return t+e.replace(/(?!\n$)\n/g,`
`+t)}allNestedComments(e){const t=[];e=e.getDescendants(!0);for(let s=0;s<e.length;s++){const u=e[s].getCommentText();u&&t.push(u)}return t.length&&t.push(""),t.join(`
`)}blockToCode(e,t){if(this.isInitialized===!1&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var s=this.forBlock[e.type];if(typeof s!="function")throw Error(`${this.name_} generator does not know how to generate code for block type "${e.type}".`);if(s=s.call(e,e,this),Array.isArray(s)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,s[0],t),s[1]]}if(typeof s=="string")return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(s=this.injectId(this.STATEMENT_PREFIX,e)+s),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(s+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,s,t);if(s===null)return"";throw SyntaxError("Invalid code generated: "+s)}valueToCode(e,t,s){if(isNaN(s))throw TypeError("Expecting valid order from block: "+e.type);var u=e.getInputTargetBlock(t);if(!u&&!e.getInput(t))throw ReferenceError(`Input "${t}" doesn't exist on "${e.type}"`);if(!u||(t=this.blockToCode(u),t===""))return"";if(!Array.isArray(t))throw TypeError(`Expecting tuple from value block: ${u.type} See developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information`);if(e=t[0],t=t[1],isNaN(t))throw TypeError("Expecting valid order from value block: "+u.type);if(!e)return"";u=!1;var v=Math.floor(s);const R=Math.floor(t);if(v<=R&&(v!==R||v!==0&&v!==99)){for(u=!0,v=0;v<this.ORDER_OVERRIDES.length;v++)if(this.ORDER_OVERRIDES[v][0]===s&&this.ORDER_OVERRIDES[v][1]===t){u=!1;break}}return u&&(e="("+e+")"),e}statementToCode(e,t){const s=e.getInputTargetBlock(t);if(!s&&!e.getInput(t))throw ReferenceError(`Input "${t}" doesn't exist on "${e.type}"`);if(e=this.blockToCode(s),typeof e!="string")throw TypeError("Expecting code from statement block: "+(s&&s.type));return e&&(e=this.prefixLines(e,this.INDENT)),e}addLoopTrap(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e}injectId(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")}addReservedWords(e){this.RESERVED_WORDS_+=e+","}provideFunction_(e,t){if(!this.definitions_[e]){const s=this.nameDB_.getDistinctName(e,n.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[e]=s,Array.isArray(t)&&(t=t.join(`
`)),t=t.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,s);let u;for(;u!==t;)u=t,t=t.replace(/^(( {2})*) {2}/gm,"$1\0");t=t.replace(/\0/g,this.INDENT),this.definitions_[e]=t}return this.functionNames_[e]}getVariableName(e){return this.getName(e,n.NameType$$module$build$src$core$names.VARIABLE)}getProcedureName(e){return this.getName(e,n.NameType$$module$build$src$core$names.PROCEDURE)}getName(e,t){if(!this.nameDB_)throw Error("Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.");return this.nameDB_.getName(e,t)}init(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(e,t,s){return t}finish(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}scrubNakedValue(e){return e}},q7={},q7.CodeGenerator=n.CodeGenerator$$module$build$src$core$generator;var s6=class extends Nu{constructor(e){super(e)}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),s=t.getScrollMetrics(),u=t.getViewMetrics();t=t.getAbsoluteMetrics(),typeof e.y=="number"&&(this.workspace_.scrollY=-(s.top+(s.height-u.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),s=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===Er.LEFT?e.width:s.width-this.getWidth():this.toolboxPosition_===Er.LEFT?0:s.width:this.toolboxPosition_===Er.LEFT?0:s.width+t.left-this.getWidth()}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height;var t=this.getWidth()-this.CORNER_RADIUS;this.setBackgroundPath(t,e.height-2*this.CORNER_RADIUS),e=this.getX(),t=this.getY(),this.positionAt_(this.getWidth(),this.getHeight(),e,t)}}setBackgroundPath(e,t){const s=this.toolboxPosition_===Er.RIGHT;var u=e+this.CORNER_RADIUS;u=["M "+(s?u:0)+",0"],u.push("h",s?-e:e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,s?0:1,s?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("v",Math.max(0,t)),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,s?0:1,s?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("h",s?e:-e),u.push("z"),this.svgBackground_.setAttribute("d",u.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setY(0)}wheel_(e){var t=lt(e);if(t.y){const s=this.workspace_.getMetricsManager(),u=s.getScrollMetrics();t=s.getViewMetrics().top-u.top+t.y;let v;(v=this.workspace_.scrollbar)==null||v.setY(t),dl(this.workspace_),Ne()}e.preventDefault(),e.stopPropagation()}layout_(e){this.workspace_.scale=this.targetWorkspace.scale;var t=this.MARGIN;const s=this.RTL?t:t+this.tabWidth_;for(const u of e)u.getElement().moveBy(s,t),t+=u.getElement().getBoundingRectangle().getHeight()}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.left;return this.toolboxPosition_===Er.LEFT?new $r(-1e9,1e9,-1e9,t+e.width):new $r(-1e9,1e9,t,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=this.getContents().reduce((t,s)=>Math.max(t,s.getElement().getBoundingRectangle().getWidth()),0);if(e+=this.MARGIN*1.5+this.tabWidth_,e*=this.workspace_.scale,e+=Cs.scrollbarThickness,this.getWidth()!==e){if(this.RTL)for(const t of this.getContents()){const s=t.getElement().getBoundingRectangle().left,u=e/this.workspace_.scale-t.getElement().getBoundingRectangle().getWidth()-this.MARGIN-this.tabWidth_;t.getElement().moveBy(u-s,0)}this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Er.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};s6.registryName="verticalFlyout",a(Ut.FLYOUTS_VERTICAL_TOOLBOX,ml,s6);var X7=class extends Nu{constructor(e){super(e),this.horizontalLayout=!0}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),s=t.getScrollMetrics(),u=t.getViewMetrics();t=t.getAbsoluteMetrics(),typeof e.x=="number"&&(this.workspace_.scrollX=-(s.left+(s.width-u.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),s=e.getViewMetrics();e=e.getToolboxMetrics();const u=this.toolboxPosition_===Er.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?u?e.height:s.height-this.getHeight():u?0:s.height:u?0:s.height+t.top-this.getHeight()}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,e=e.width-2*this.CORNER_RADIUS;var t=this.getHeight()-this.CORNER_RADIUS;this.setBackgroundPath(e,t),e=this.getX(),t=this.getY(),this.positionAt_(this.getWidth(),this.getHeight(),e,t)}}setBackgroundPath(e,t){const s=this.toolboxPosition_===Er.TOP,u=["M 0,"+(s?0:this.CORNER_RADIUS)];s?(u.push("h",e+2*this.CORNER_RADIUS),u.push("v",t),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("h",-e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),u.push("h",e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("v",t),u.push("h",-e-2*this.CORNER_RADIUS)),u.push("z"),this.svgBackground_.setAttribute("d",u.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setX(this.RTL?1/0:0)}wheel_(e){var t=lt(e);if(t=t.x||t.y){const s=this.workspace_.getMetricsManager(),u=s.getScrollMetrics();t=s.getViewMetrics().left-u.left+t;let v;(v=this.workspace_.scrollbar)==null||v.setX(t),dl(this.workspace_),Ne()}e.preventDefault(),e.stopPropagation()}layout_(e){this.workspace_.scale=this.targetWorkspace.scale;const t=this.MARGIN;let s=t+this.tabWidth_;this.RTL&&(e=e.reverse());for(const u of e)e=u.getElement().getBoundingRectangle(),e=this.RTL?s+e.getWidth():s,u.getElement().moveBy(e,t),s+=u.getElement().getBoundingRectangle().getWidth()}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.top;return this.toolboxPosition_===Er.TOP?new $r(-1e9,t+e.height,-1e9,1e9):new $r(t,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=this.getContents().reduce((t,s)=>Math.max(t,s.getElement().getBoundingRectangle().getHeight()),0);e+=this.MARGIN*1.5,e*=this.workspace_.scale,e+=Cs.scrollbarThickness,this.getHeight()!==e&&(this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Er.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets())}};a(Ut.FLYOUTS_HORIZONTAL_TOOLBOX,ml,X7);var z2=class extends Ao{constructor(e,t,s,u,v){super(Li.SKIP_SETUP),this.defaultType="",this.variableTypes=[],this.variable=null,this.SERIALIZABLE=!0,this.menuGenerator_=z2.dropdownCreate,this.defaultVariableName=typeof e=="string"?e:"",this.size_=new _r(0,0),e!==Li.SKIP_SETUP&&(v?this.configure_(v):this.setTypes(s,u),t&&this.setValidator(t))}configure_(e){super.configure_(e),this.setTypes(e.variableTypes,e.defaultType)}initModel(){var e=this.getSourceBlock();if(!e)throw new Ws;this.variable||(e=n.getOrCreateVariablePackage$$module$build$src$core$variables(e.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(e.getId()))}initView(){super.initView(),tn(this.fieldGroup_,"blocklyVariableField")}shouldAddBorderRect_(){const e=this.getSourceBlock();if(!e)throw new Ws;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||e.type!=="variables_get")}fromXml(e){var t=this.getSourceBlock();if(!t)throw new Ws;const s=e.getAttribute("id"),u=e.textContent,v=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(t=n.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,s,u,v),v!==null&&v!==t.getType())throw Error("Serialized variable type with id '"+t.getId()+"' had type "+t.getType()+", and does not match variable field that references it: "+ts(e)+".");this.setValue(t.getId())}toXml(e){return this.initModel(),e.id=this.variable.getId(),e.textContent=this.variable.getName(),this.variable.getType()&&e.setAttribute("variabletype",this.variable.getType()),e}saveState(e){var t=this.saveLegacyState(z2);return t!==null||(this.initModel(),t={id:this.variable.getId()},e&&(t.name=this.variable.getName(),t.type=this.variable.getType())),t}loadState(e){const t=this.getSourceBlock();if(!t)throw new Ws;this.loadLegacyState(z2,e)||(e=n.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}setSourceBlock(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(e)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.getName():""}getVariable(){return this.variable}getDefaultType(){return this.defaultType}getValidator(){return this.variable?this.validator_:null}doClassValidation_(e){if(e===null)return null;var t=this.getSourceBlock();if(!t)throw new Ws;return t=n.getVariable$$module$build$src$core$variables(t.workspace,e),t?(t=t.getType(),this.typeIsAllowed(t)?e:(console.warn("Variable type doesn't match this field!  Type was "+t),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}doValueUpdate_(e){const t=this.getSourceBlock();if(!t)throw new Ws;this.variable=n.getVariable$$module$build$src$core$variables(t.workspace,e),super.doValueUpdate_(e)}typeIsAllowed(e){const t=this.getVariableTypes();if(!t)return!0;for(let s=0;s<t.length;s++)if(e===t[s])return!0;return!1}getVariableTypes(){if(this.variableTypes)return this.variableTypes;if(!this.sourceBlock_||this.sourceBlock_.isDeadOrDying())return[""];let e=this.sourceBlock_.workspace.getVariableMap().getTypes();if(this.sourceBlock_.isInFlyout){const t=this.sourceBlock_.workspace.getPotentialVariableMap();if(!t)return e;e=Array.from(new Set([...e,...t.getTypes()]))}return e}setTypes(e=null,t=""){var s=this.getText();if(Array.isArray(e)){if(e.length===0)throw Error(`'variableTypes' of field variable ${s} was an empty list. If you want to include all variable types, pass 'null' instead.`);s=!1;for(let u=0;u<e.length;u++)e[u]===t&&(s=!0);if(!s)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}else if(e!==null)throw Error(`'variableTypes' was not an array or null in the definition of FieldVariable ${s}`);this.defaultType=t,this.variableTypes=e}refreshVariableName(){this.forceRerender()}onItemSelected_(e,t){if(e=t.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===x2&&this.variable){n.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,this.variable);return}if(e===k2&&this.variable){e=this.variable.getWorkspace(),n.deleteVariable$$module$build$src$core$variables(e,this.variable,this.sourceBlock_);return}}this.setValue(e)}referencesVariables(){return!0}static fromJson(e){return new this(lr(e.variable),void 0,void 0,void 0,e)}static dropdownCreate(){if(!this.variable)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const e=this.getText();let t=[];var s=this.getSourceBlock();if(s&&!s.isDeadOrDying()){s=s.workspace;const R=this.getVariableTypes();for(let ee=0;ee<R.length;ee++){const Me=R[ee],Bt=s.getVariableMap().getVariablesOfType(Me);if(t=t.concat(Bt),s.isFlyout){var u=void 0,v=void 0;t=t.concat((v=(u=s.getPotentialVariableMap())==null?void 0:u.getVariablesOfType(Me))!=null?v:[])}}}for(t.sort(Yt),u=[],v=0;v<t.length;v++)u[v]=[t[v].getName(),t[v].getId()];return u.push([n.Msg$$module$build$src$core$msg.RENAME_VARIABLE,x2]),n.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&u.push([n.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",e),k2]),u}};el("field_variable",z2);var o6=class extends g4{constructor(e,t,s,u,v,R){super(Li.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces=null,this.spellcheck_=!1,e!==Li.SKIP_SETUP&&(R?this.configure_(R):this.setConstraints(t,s,u),this.setValue(e),v&&this.setValidator(v))}configure_(e){super.configure_(e),this.setMinInternal(e.min),this.setMaxInternal(e.max),this.setPrecisionInternal(e.precision)}setConstraints(e,t,s){this.setMinInternal(e),this.setMaxInternal(t),this.setPrecisionInternal(s),this.setValue(this.getValue())}setMin(e){this.setMinInternal(e),this.setValue(this.getValue())}setMinInternal(e){e==null?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))}getMin(){return this.min_}setMax(e){this.setMaxInternal(e),this.setValue(this.getValue())}setMaxInternal(e){e==null?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))}getMax(){return this.max_}setPrecision(e){this.setPrecisionInternal(e),this.setValue(this.getValue())}setPrecisionInternal(e){this.precision_=Number(e)||0;let t=String(this.precision_);t.includes("e")&&(t=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));const s=t.indexOf(".");this.decimalPlaces=s===-1?e?0:null:t.length-s-1}getPrecision(){return this.precision_}doClassValidation_(e){return e===null||(e=`${e}`.replace(/O/gi,"0"),e=e.replace(/,/g,""),e=e.replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e))?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),this.decimalPlaces!==null&&(e=Number(e.toFixed(this.decimalPlaces))),e)}widgetCreate_(){const e=super.widgetCreate_();return this.min_>-1/0&&(e.min=`${this.min_}`,Ur(e,Ts.VALUEMIN,this.min_)),this.max_<1/0&&(e.max=`${this.max_}`,Ur(e,Ts.VALUEMAX,this.max_)),e}initView(){super.initView(),this.fieldGroup_&&tn(this.fieldGroup_,"blocklyNumberField")}static fromJson(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}};el("field_number",o6),o6.prototype.DEFAULT_VALUE=0;var j7=class extends Nc{constructor(e,t,s){super(String(e??""),t,s),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(e){return new this(lr(e.text),void 0,e)}};el("field_label_serializable",j7);var Xh=class extends Li{constructor(e,t,s){super(Li.SKIP_SETUP),this.SERIALIZABLE=!0,this.value_=this.value_,this.checkChar=Xh.CHECK_CHAR,e!==Li.SKIP_SETUP&&(s&&this.configure_(s),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.checkCharacter&&(this.checkChar=e.checkCharacter)}saveState(){const e=this.saveLegacyState(Xh);return e!==null?e:this.getValueBoolean()}initView(){super.initView();const e=this.getTextElement();tn(this.fieldGroup_,"blocklyCheckboxField"),e.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(e){this.checkChar=e||Xh.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(e){return e===!0||e==="TRUE"?"TRUE":e===!1||e==="FALSE"?"FALSE":null}doValueUpdate_(e){this.value_=this.convertValueToBool(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool(this.value_))}convertValueToBool(e){return typeof e=="string"?e==="TRUE":!!e}static fromJson(e){return new this(e.checked,void 0,e)}};Xh.CHECK_CHAR="",el("field_checkbox",Xh),Xh.prototype.DEFAULT_VALUE=!1;var Y7=class{constructor(e,t){this.draggable=e,this.workspace=t,this.dragTarget=null,this.startLoc=e.getRelativeToSurfaceXY()}onDragStart(e){n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.draggable.startDrag(e)}onDrag(e,t){this.moveDraggable(e,t),t=this.getRoot(this.draggable),Hi(t)&&t.setDeleteStyle(this.wouldDeleteDraggable(e,t)),this.updateDragTarget(e)}updateDragTarget(e){e=this.workspace.getDragTarget(e);const t=this.getRoot(this.draggable);if(this.dragTarget!==e){let s;(s=this.dragTarget)==null||s.onDragExit(t),e?.onDragEnter(t)}e?.onDragOver(t),this.dragTarget=e}moveDraggable(e,t){t=this.pixelsToWorkspaceUnits(t),t=Wt.sum(this.startLoc,t),this.draggable.drag(t,e)}wouldDeleteDraggable(e,t){return(e=this.workspace.getDragTarget(e))&&this.workspace.getComponentManager().hasCapability(e.id,Si.Capability.DELETE_AREA)?e.wouldDelete(t):!1}onDragEnd(e){const t=n.getGroup$$module$build$src$core$events$utils();var s=this.workspace.getDragTarget(e);const u=this.getRoot(this.draggable);if(s){let v;(v=this.dragTarget)==null||v.onDrop(u)}this.shouldReturnToStart(e,u)&&this.draggable.revertDrag(),(s=Hi(u)&&this.wouldDeleteDraggable(e,u))&&this.draggable instanceof Ji&&xe(this.draggable.getRootBlock()),this.draggable.endDrag(e),s&&Hi(u)&&(n.setGroup$$module$build$src$core$events$utils(t),u.dispose()),n.setGroup$$module$build$src$core$events$utils(!1),!s&&ne(this.draggable)&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.draggable)}getRoot(e){return e instanceof Ji?e.getRootBlock():e}shouldReturnToStart(e,t){return(e=this.workspace.getDragTarget(e))?e.shouldPreventMove(t):!1}pixelsToWorkspaceUnits(e){return e=new Wt(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}};a(Ut.BLOCK_DRAGGER,ml,Y7);var U2={};U2.BlockDragStrategy=zh,U2.BubbleDragStrategy=i4,U2.CommentDragStrategy=R3,U2.Dragger=Y7;var l6=class extends $i{constructor(e,t,s){super(e?e.workspace.id:void 0),this.type=mt.BLOCK_DRAG,e&&(this.blockId=e.id,this.isStart=t,this.blocks=s)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.blockId===void 0)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new l6),t.isStart=e.isStart,t.blockId=e.blockId,t.blocks=e.blocks,t}};a(Ut.EVENT,mt.BLOCK_DRAG,l6);var a6=class extends _u{constructor(e,t,s,u){super(e),this.type=mt.BLOCK_FIELD_INTERMEDIATE_CHANGE,this.recordUndo=!1,e&&(this.name=t,this.oldValue=s,this.newValue=u)}toJson(){const e=super.toJson();if(!this.name)throw Error("The changed field name is undefined. Either pass a name to the constructor, or call fromJson.");return e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new a6),t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,t}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(t=t.getBlockById(this.blockId),!t)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");e=e?this.newValue:this.oldValue,(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name)}};a(Ut.EVENT,mt.BLOCK_FIELD_INTERMEDIATE_CHANGE,a6);var u6=class extends _u{constructor(e){super(e),this.type=mt.BLOCK_MOVE,e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}toJson(){const e=super.toJson();return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate=`${Math.round(this.oldCoordinate.x)}, ${Math.round(this.oldCoordinate.y)}`),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate=`${Math.round(this.newCoordinate.x)}, ${Math.round(this.newCoordinate.y)}`),this.reason&&(e.reason=this.reason),this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new u6),t.oldParentId=e.oldParentId,t.oldInputName=e.oldInputName,e.oldCoordinate&&(s=e.oldCoordinate.split(","),t.oldCoordinate=new Wt(Number(s[0]),Number(s[1]))),t.newParentId=e.newParentId,t.newInputName=e.newInputName,e.newCoordinate&&(s=e.newCoordinate.split(","),t.newCoordinate=new Wt(Number(s[0]),Number(s[1]))),e.reason!==void 0&&(t.reason=e.reason),e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}recordNew(){const e=this.currentLocation();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}setReason(e){this.reason=e}currentLocation(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var t=e.getBlockById(this.blockId);if(!t)throw Error("The block associated with the block move event could not be found");e={};const s=t.getParent();return s?(e.parentId=s.id,(t=s.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&Wt.equals(this.oldCoordinate,this.newCoordinate)}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var s=t.getBlockById(this.blockId);if(s){var u=e?this.newParentId:this.oldParentId,v=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,u){var R=t.getBlockById(u);if(!R){console.warn("Can't connect to non-existent block: "+u);return}}if(s.getParent()&&s.unplug(),e)v=s.getRelativeToSurfaceXY(),s.moveBy(e.x-v.x,e.y-v.y,this.reason);else{t=s.outputConnection,(!t||s.previousConnection&&s.previousConnection.isConnected())&&(t=s.previousConnection);let ee,Me;s=(Me=t)==null?void 0:Me.type,v?(s=R.getInput(v))&&(ee=s.connection):s===Tn.PREVIOUS_STATEMENT&&(ee=R.nextConnection),ee&&t?t.connect(ee):console.warn("Can't connect to non-existent input: "+v)}}else console.warn("Can't move non-existent block: "+this.blockId)}};a(Ut.EVENT,mt.BLOCK_MOVE,u6);var c6=class extends $i{constructor(e,t,s){super(e?e.workspace.id:void 0),this.type=mt.BUBBLE_OPEN,e&&(this.blockId=e.id,this.isOpen=t,this.bubbleType=s)}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new c6),t.isOpen=e.isOpen,t.bubbleType=e.bubbleType,t.blockId=e.blockId,t}},h6;(function(e){e.MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning"})(h6||(h6={})),a(Ut.EVENT,mt.BUBBLE_OPEN,c6);var Bu=class extends la{constructor(e){super(),this.isBlank=!e,e&&(this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=n.getGroup$$module$build$src$core$events$utils(),this.recordUndo=It())}toJson(){const e=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new Bu),t.commentId=e.commentId,t}static CommentCreateDeleteHelper(e,t){const s=e.getEventWorkspace_();if(t){if(!e.json)throw Error("Encountered a comment event without proper json");Ci(e.json,s)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(t=s.getCommentById(e.commentId))?t.dispose():console.warn("Can't delete non-existent comment: "+e.commentId)}}},d6=class extends Bu{constructor(e,t,s){super(e),this.type=mt.COMMENT_CHANGE,e&&(this.oldContents_=typeof t>"u"?"":t,this.newContents_=typeof s>"u"?"":s)}toJson(){const e=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new d6),t.oldContents_=e.oldContents,t.newContents_=e.newContents,t}isNull(){return this.oldContents_===this.newContents_}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){var s=e?this.newContents_:this.oldContents_;if(s===void 0)throw Error(e?"The new contents is undefined. Either pass a value to the constructor, or call fromJson":"The old contents is undefined. Either pass a value to the constructor, or call fromJson");t.setText(s)}else console.warn("Can't change non-existent comment: "+this.commentId)}};a(Ut.EVENT,mt.COMMENT_CHANGE,d6);var f6=class extends Bu{constructor(e,t){super(e),this.newCollapsed=t,this.type=mt.COMMENT_COLLAPSE}toJson(){const e=super.toJson();if(this.newCollapsed===void 0)throw Error("The new collapse value undefined. Either call recordNew, or call fromJson");return e.newCollapsed=this.newCollapsed,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new f6),t.newCollapsed=e.newCollapsed,t}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(t=t.getCommentById(this.commentId))?t.setCollapsed(e?!!this.newCollapsed:!this.newCollapsed):console.warn("Can't collapse or uncollapse non-existent comment: "+this.commentId)}};a(Ut.EVENT,mt.COMMENT_COLLAPSE,f6);var p6=class extends Bu{constructor(e){super(e),this.type=mt.COMMENT_CREATE,e&&(this.xml=qo(e),this.json=fe(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=ts(this.xml),e.json=this.json,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new p6),t.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),t.json=e.json,t}run(e){Bu.CommentCreateDeleteHelper(this,e)}};a(Ut.EVENT,mt.COMMENT_CREATE,p6);var m6=class extends Bu{constructor(e){super(e),this.type=mt.COMMENT_DELETE,e&&(this.xml=qo(e),this.json=fe(e,{addCoordinates:!0}))}run(e){Bu.CommentCreateDeleteHelper(this,!e)}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=ts(this.xml),e.json=this.json,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new m6),t.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),t.json=e.json,t}};a(Ut.EVENT,mt.COMMENT_DELETE,m6);var g6=class extends $i{constructor(e,t){super(e?e.workspace.id:void 0),this.type=mt.COMMENT_DRAG,e&&(this.commentId=e.id,this.isStart=t)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.commentId===void 0)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.isStart=this.isStart,e.commentId=this.commentId,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new g6),t.isStart=e.isStart,t.commentId=e.commentId,t}};a(Ut.EVENT,mt.COMMENT_DRAG,g6);var $6=class extends Bu{constructor(e){super(e),this.type=mt.COMMENT_MOVE,e&&(this.comment_=e,this.oldCoordinate_=e.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setReason(e){this.reason=e}setOldCoordinate(e){this.oldCoordinate_=e}toJson(){const e=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, ${Math.round(this.oldCoordinate_.y)}`,e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new $6),s=e.oldCoordinate.split(","),t.oldCoordinate_=new Wt(Number(s[0]),Number(s[1])),s=e.newCoordinate.split(","),t.newCoordinate_=new Wt(Number(s[0]),Number(s[1])),t}isNull(){return Wt.equals(this.oldCoordinate_,this.newCoordinate_)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(e=e?this.newCoordinate_:this.oldCoordinate_,!e)throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");t.moveTo(e)}else console.warn("Can't move non-existent comment: "+this.commentId)}};a(Ut.EVENT,mt.COMMENT_MOVE,$6);var b6=class extends Bu{constructor(e){super(e),this.type=mt.COMMENT_RESIZE,e&&(this.oldSize=e.getSize())}recordCurrentSizeAsNewSize(){if(this.newSize)throw Error("Tried to record the new size of a comment on the same event twice.");var e=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(e=e.getCommentById(this.commentId),!e)throw Error("The comment associated with the comment resize event could not be found");this.newSize=e.getSize()}toJson(){const e=super.toJson();if(!this.oldSize)throw Error("The old comment size is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newSize)throw Error("The new comment size is undefined. Either call recordCurrentSizeAsNewSize, or call fromJson");return e.oldWidth=Math.round(this.oldSize.width),e.oldHeight=Math.round(this.oldSize.height),e.newWidth=Math.round(this.newSize.width),e.newHeight=Math.round(this.newSize.height),e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new b6),t.oldSize=new _r(e.oldWidth,e.oldHeight),t.newSize=new _r(e.newWidth,e.newHeight),t}isNull(){return _r.equals(this.oldSize,this.newSize)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(e=e?this.newSize:this.oldSize,!e)throw Error("Either oldSize or newSize is undefined. Either pass a comment to the constructor and call recordCurrentSizeAsNewSize, or call fromJson");t.setSize(e)}else console.warn("Can't resize non-existent comment: "+this.commentId)}};a(Ut.EVENT,mt.COMMENT_RESIZE,b6);var v6=class extends $i{constructor(e,t,s){super(s),this.type=mt.TOOLBOX_ITEM_SELECT,this.oldItem=e??void 0,this.newItem=t??void 0}toJson(){const e=super.toJson();return e.oldItem=this.oldItem,e.newItem=this.newItem,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new v6),t.oldItem=e.oldItem,t.newItem=e.newItem,t}};a(Ut.EVENT,mt.TOOLBOX_ITEM_SELECT,v6);var y6=class extends f4{constructor(e,t,s){super(e),this.oldType=t,this.newType=s,this.type=mt.VAR_TYPE_CHANGE}toJson(){const e=super.toJson();if(!this.oldType||!this.newType)throw Error("The variable's types are undefined. Either pass them to the constructor, or call fromJson");return e.oldType=this.oldType,e.newType=this.newType,e}static fromJson(e,t,s){return t=super.fromJson(e,t,s??new y6),t.oldType=e.oldType,t.newType=e.newType,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldType||!this.newType)throw Error("The variable's types are undefined. Either pass them to the constructor, or call fromJson");const s=t.getVariableMap().getVariableById(this.varId);s&&(e?t.getVariableMap().changeVariableType(s,this.newType):t.getVariableMap().changeVariableType(s,this.oldType))}};a(Ut.EVENT,mt.VAR_TYPE_CHANGE,y6);var K7=class extends la{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.type=mt.FINISHED_LOADING,this.isBlank=!!e,e&&(this.workspaceId=e.id)}};a(Ut.EVENT,mt.FINISHED_LOADING,K7);var J7,Z7,Q7,ep,tp,np,rp,ip,sp,op,lp,ap,up,cp,hp,dp,fp,pp,mp,gp,$p,bp,vp,yp,bn;n.BLOCK_CHANGE$$module$build$src$core$events$events=mt.BLOCK_CHANGE,n.BLOCK_CREATE$$module$build$src$core$events$events=mt.BLOCK_CREATE,n.BLOCK_DELETE$$module$build$src$core$events$events=mt.BLOCK_DELETE,J7=mt.BLOCK_DRAG,n.BLOCK_MOVE$$module$build$src$core$events$events=mt.BLOCK_MOVE,Z7=mt.BLOCK_FIELD_INTERMEDIATE_CHANGE,Q7=mt.BUBBLE_OPEN,ep=mt.BLOCK_CHANGE,tp=mt.CLICK,np=mt.COMMENT_CHANGE,rp=mt.COMMENT_CREATE,ip=mt.COMMENT_DELETE,sp=mt.COMMENT_MOVE,op=mt.COMMENT_RESIZE,lp=mt.COMMENT_DRAG,ap=mt.BLOCK_CREATE,up=mt.BLOCK_DELETE,cp=mt.FINISHED_LOADING,hp=mt.BLOCK_MOVE,dp=mt.SELECTED,fp=mt.THEME_CHANGE,pp=mt.TOOLBOX_ITEM_SELECT,mp=mt.TRASHCAN_OPEN,gp=mt.UI,$p=mt.VAR_CREATE,bp=mt.VAR_DELETE,vp=mt.VAR_RENAME,yp=mt.VIEWPORT_CHANGE,bn={},bn.Abstract=la,bn.BLOCK_CHANGE=n.BLOCK_CHANGE$$module$build$src$core$events$events,bn.BLOCK_CREATE=n.BLOCK_CREATE$$module$build$src$core$events$events,bn.BLOCK_DELETE=n.BLOCK_DELETE$$module$build$src$core$events$events,bn.BLOCK_DRAG=J7,bn.BLOCK_FIELD_INTERMEDIATE_CHANGE=Z7,bn.BLOCK_MOVE=n.BLOCK_MOVE$$module$build$src$core$events$events,bn.BUBBLE_OPEN=Q7,bn.BUMP_EVENTS=K4,bn.BlockBase=_u,bn.BlockChange=Eu,bn.BlockCreate=n4,bn.BlockDelete=w2,bn.BlockDrag=l6,bn.BlockFieldIntermediateChange=a6,bn.BlockMove=u6,bn.BubbleOpen=c6,bn.BubbleType=h6,bn.CHANGE=ep,bn.CLICK=tp,bn.COMMENT_CHANGE=np,bn.COMMENT_CREATE=rp,bn.COMMENT_DELETE=ip,bn.COMMENT_DRAG=lp,bn.COMMENT_MOVE=sp,bn.COMMENT_RESIZE=op,bn.CREATE=ap,bn.Click=r2,bn.ClickTarget=i2,bn.CommentBase=Bu,bn.CommentChange=d6,bn.CommentCollapse=f6,bn.CommentCreate=p6,bn.CommentDelete=m6,bn.CommentDrag=g6,bn.CommentMove=$6,bn.CommentResize=b6,bn.DELETE=up,bn.FINISHED_LOADING=cp,bn.FinishedLoading=K7,bn.MOVE=hp,bn.SELECTED=dp,bn.Selected=B0,bn.THEME_CHANGE=fp,bn.TOOLBOX_ITEM_SELECT=pp,bn.TRASHCAN_OPEN=mp,bn.ThemeChange=Ph,bn.ToolboxItemSelect=v6,bn.TrashcanOpen=Q5,bn.UI=gp,bn.UiBase=$i,bn.VAR_CREATE=$p,bn.VAR_DELETE=bp,bn.VAR_RENAME=vp,bn.VIEWPORT_CHANGE=yp,bn.VarBase=f4,bn.VarCreate=K5,bn.VarDelete=J5,bn.VarRename=Z5,bn.VarTypeChange=y6,bn.ViewportChange=T2,bn.clearPendingUndo=Ot,bn.disable=n.disable$$module$build$src$core$events$utils,bn.disableOrphans=Xn,bn.enable=n.enable$$module$build$src$core$events$utils,bn.filter=Zt,bn.fire=le,bn.fromJson=Yn,bn.get=an,bn.getDescendantIds=hr,bn.getGroup=n.getGroup$$module$build$src$core$events$utils,bn.getRecordUndo=It,bn.isEnabled=sn,bn.setGroup=n.setGroup$$module$build$src$core$events$utils,bn.setRecordUndo=n.setRecordUndo$$module$build$src$core$events$utils;var Pu={};Pu.BottomRow=F7,Pu.ConstantProvider=B7,Pu.Drawer=P7,Pu.PathObject=G7,Pu.RenderInfo=H7,Pu.Renderer=i6,Pu.RightConnectionShape=z7,Pu.StatementInput=K3,Pu.TopRow=U7,wd();var Uo={};Uo.registerCleanup=hd,Uo.registerCollapse=fd,Uo.registerCollapseExpandBlock=ph,Uo.registerComment=u1,Uo.registerCommentCreate=_d,Uo.registerCommentDelete=yd,Uo.registerCommentDuplicate=Td,Uo.registerCommentOptions=z4,Uo.registerDefaultOptions=wd,Uo.registerDelete=bd,Uo.registerDeleteAll=pu,Uo.registerDisable=F4,Uo.registerDuplicate=a1,Uo.registerExpand=pd,Uo.registerHelp=vd,Uo.registerInline=$d,Uo.registerRedo=fh,Uo.registerUndo=cd;var T6="button",Tp=class{load(e,t){return e=new Mo(t.getWorkspace(),t.targetWorkspace,e,!1),e.show(),new B1(e,T6)}gapForItem(e,t){return t}disposeItem(e){e=e.getElement(),e instanceof Mo&&e.dispose()}getType(){return T6}};a(Ut.FLYOUT_INFLATER,T6,Tp);var H2={};H2.Bubble=Di,H2.MiniWorkspaceBubble=ma,H2.TextBubble=C2,H2.TextInputBubble=sl;var b$="WORKSPACE_AT_BLOCK_CAPACITY",_6="block",_p=class{constructor(){this.permanentlyDisabledBlocks=new Set,this.listeners=new Map,this.capacityWrapper=this.filterFlyoutBasedOnCapacity.bind(this)}load(e,t){return this.setFlyout(t),e=this.createBlock(e,t.getWorkspace()),e.isEnabled()?this.updateStateBasedOnCapacity(e):this.permanentlyDisabledBlocks.add(e),e.getDescendants(!1).forEach(s=>s.isInFlyout=!0),this.addBlockListeners(e),new B1(e,_6)}createBlock(e,t){return e.blockxml?(e=typeof e.blockxml=="string"?n.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,t=s0(e,t)):(e.enabled===void 0&&(e.enabled=e.disabled!=="true"&&e.disabled!==!0),e.disabledReasons===void 0&&e.enabled===!1&&(e.disabledReasons=[fr]),"x"in e&&delete e.x,"y"in e&&delete e.y,t=Ol(e,t)),t}gapForItem(e,t){let s;return e.gap?s=parseInt(String(e.gap)):e.blockxml&&(e=typeof e.blockxml=="string"?n.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,s=parseInt(e.getAttribute("gap"))),!s||isNaN(s)?t:s}disposeItem(e){e=e.getElement(),e instanceof Ji&&(this.removeListeners(e.id),e.dispose(!1,!1))}removeListeners(e){let t;((t=this.listeners.get(e))!=null?t:[]).forEach(s=>Ie(s)),this.listeners.delete(e)}setFlyout(e){if(this.flyout!==e){if(this.flyout){let s;(s=this.flyout.targetWorkspace)==null||s.removeChangeListener(this.capacityWrapper)}this.flyout=e;var t;(t=this.flyout.targetWorkspace)==null||t.addChangeListener(this.capacityWrapper)}}updateStateBasedOnCapacity(e){let t,s;const u=(t=this.flyout)==null||(s=t.targetWorkspace)==null?void 0:s.isCapacityAvailable(fs(e));for(;e;)e.setDisabledReason(!u,b$),e=e.getNextBlock()}addBlockListeners(e){const t=[];t.push(ie(e.getSvgRoot(),"pointerdown",e,s=>{let u,v;const R=(u=this.flyout)==null||(v=u.targetWorkspace)==null?void 0:v.getGesture(s);R&&this.flyout&&(R.setStartBlock(e),R.handleFlyoutStart(s,this.flyout))})),t.push(be(e.getSvgRoot(),"pointermove",null,()=>{let s,u;!((s=this.flyout)==null||(u=s.targetWorkspace)==null)&&u.isDragging()||e.addSelect()})),t.push(be(e.getSvgRoot(),"pointerleave",null,()=>{let s,u;!((s=this.flyout)==null||(u=s.targetWorkspace)==null)&&u.isDragging()||e.removeSelect()})),this.listeners.set(e.id,t)}filterFlyoutBasedOnCapacity(e){!this.flyout||e&&e.type!==mt.BLOCK_CREATE&&e.type!==mt.BLOCK_DELETE||this.flyout.getWorkspace().getTopBlocks(!1).forEach(t=>{this.permanentlyDisabledBlocks.has(t)||this.updateStateBasedOnCapacity(t)})}getType(){return _6}};a(Ut.FLYOUT_INFLATER,_6,_p);var Ep=class extends gt{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(e){return super.getCSS_(e).concat([`${e} .blocklyInsertionMarker>.blocklyPathLight,`,`${e} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"])}},wp=class{constructor(e){this.inlineSteps_=this.steps_="",this.info_=e,this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+`
`+this.inlineSteps_}drawTopCorner(e){this.steps_+=Ri(e.xPos,this.info_.startY);for(let t=0,s;s=e.elements[t];t++)qe.isLeftSquareCorner(s)?this.steps_+=this.highlightConstants_.START_POINT:qe.isLeftRoundedCorner(s)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):qe.isPreviousConnection(s)?this.steps_+=this.notchPaths_.pathLeft:qe.isHat(s)?this.steps_+=this.startPaths_.path(this.RTL_):qe.isSpacer(s)&&s.width!==0&&(this.steps_+=f("H",s.xPos+s.width-this.highlightOffset));this.steps_+=f("H",e.xPos+e.width-this.highlightOffset)}drawJaggedEdge_(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+f("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(e){const t=e.getLastInput();if(this.RTL_){const s=e.height-t.connectionHeight;this.steps_+=io(t.xPos+t.width-this.highlightOffset,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+f("v",s)}else this.steps_+=io(t.xPos+t.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(e){const t=e.getLastInput();if(t)if(this.RTL_){const s=e.height-2*this.insideCornerPaths_.height;this.steps_+=io(t.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+f("v",s)+this.insideCornerPaths_.pathBottom(this.RTL_)+fl(e.width-t.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=io(t.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+fl(e.width-t.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(e){const t=e.xPos+e.width-this.highlightOffset;e instanceof rr&&e.followsStatement&&(this.steps_+=f("H",t)),this.RTL_&&(this.steps_+=f("H",t),e.height>this.highlightOffset&&(this.steps_+=f("V",e.yPos+e.height-this.highlightOffset)))}drawBottomRow(e){if(this.RTL_)this.steps_+=f("V",e.baseline-this.highlightOffset);else{const t=this.info_.bottomRow.elements[0];qe.isLeftSquareCorner(t)?this.steps_+=io(e.xPos+this.highlightOffset,e.baseline-this.highlightOffset):qe.isLeftRoundedCorner(t)&&(this.steps_+=io(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=io(this.info_.startX,e):(this.steps_+=io(this.info_.startX+this.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=f("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,qe.isLeftRoundedCorner(e.elements[0])?this.steps_+=f("V",this.outsideCornerPaths_.height):this.steps_+=f("V",e.capline+this.highlightOffset))}drawInlineInput(e){const t=this.highlightOffset,s=e.xPos+e.connectionWidth;var u=e.centerline-e.height/2;const v=e.width-e.connectionWidth,R=u+t;this.RTL_?(u=e.connectionOffsetY-t,e=e.height-(e.connectionOffsetY+e.connectionHeight)+t,this.inlineSteps_+=io(s-t,R)+f("v",u)+this.puzzleTabPaths_.pathDown(this.RTL_)+f("v",e)+f("h",v)):this.inlineSteps_+=io(e.xPos+e.width+t,R)+f("v",e.height)+f("h",-v)+io(s,u+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},Sp=class extends Gt{constructor(e,t){super(e,t),this.highlighter_=new wp(t)}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights();const e=this.block_.pathObject;e.setPath(this.outlinePath_+`
`+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(e){this.highlighter_.drawJaggedEdge_(e),super.drawJaggedEdge_(e)}drawValueInput_(e){this.highlighter_.drawValueInput(e),super.drawValueInput_(e)}drawStatementInput_(e){this.highlighter_.drawStatementInput(e),super.drawStatementInput_(e)}drawRightSideRow_(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=f("H",e.xPos+e.width)+f("V",e.yPos+e.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(e){this.highlighter_.drawInlineInput(e),super.drawInlineInput_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let s=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(s*=-1),e.connectionModel.setOffsetInBlock(s,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(t!=null&&t.connectionModel){let s=e.xPos+e.statementEdge+t.notchOffset;s=this.info_.RTL?s*-1:s+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(s,e.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let s=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(s*=-1),t.connectionModel.setOffsetInBlock(s,e.yPos)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,s=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-s:s)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}},xp=class{constructor(e){this.OFFSET=.5,this.constantProvider=e,this.START_POINT=Ri(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,s=(1-Math.SQRT1_2)*(e+t)-t,u=Ri(s,s)+b("a","0 0,0",e,Dn(-s-t,e-s)),v=b("a","0 0,0",e+t,Dn(e+t,e+t)),R=Ri(s,-s)+b("a","0 0,0",e+t,Dn(e-s,s+t));return{width:e+t,height:e,pathTop(ee){return ee?u:""},pathBottom(ee){return ee?v:R}}}makeOutsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,s=(1-Math.SQRT1_2)*(e-t)+t,u=Ri(s,s)+b("a","0 0,1",e-t,Dn(e-s,-s+t)),v=Ri(t,e)+b("a","0 0,1",e-t,Dn(e,-e+t)),R=-s,ee=Ri(s,R)+b("a","0 0,1",e-t,Dn(-s+t,-R-e));return{height:e,topLeft(Me){return Me?u:v},bottomLeft(){return ee}}}makePuzzleTab(){const e=this.constantProvider.TAB_WIDTH,t=this.constantProvider.TAB_HEIGHT,s=Ri(-2,-t+2.5+.9)+fl(e*-.45,-2.1),u=f("v",2.5)+Ri(-e*.97,2.5)+nl("q",[Dn(-e*.05,10),Dn(e*.3,9.5)])+Ri(e*.67,-1.9)+f("v",2.5),v=f("v",-1.5)+Ri(e*-.92,-.5)+nl("q",[Dn(e*-.19,-5.5),Dn(0,-11)])+Ri(e*.92,1),R=Ri(-5,t-.7)+fl(e*.46,-2.1);return{width:e,height:t,pathUp(ee){return ee?s:v},pathDown(ee){return ee?u:R}}}makeNotch(){return{pathLeft:f("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:fl(5.1,2.6)+Ri(-10.2,6.8)+fl(5.1,2.6),height:12,width:10.2}}makeStartHat(){const e=this.constantProvider.START_HAT.height,t=Ri(25,-8.7)+nl("c",[Dn(29.7,-6.2),Dn(57.2,-.5),Dn(75,8.7)]),s=nl("c",[Dn(17.8,-9.2),Dn(45.3,-14.9),Dn(75,-8.7)])+io(100.5,e+.5);return{path(u){return u?t:s}}}},kp=class extends Ve{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},Cp=class extends ot{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},Ap=class extends qn{constructor(e,t){super(e,t),this.renderer_=e}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof Sl||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(e,t){this.isInline&&e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new kp(this.constants_,e)),t.hasInlineInput=!0):e instanceof Sl?(t.elements.push(new Cp(this.constants_,e)),t.hasStatement=!0):e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new m(this.constants_,e)),t.hasExternalInput=!0):(e instanceof ol||e instanceof jl)&&(t.minHeight=Math.max(t.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),this.isInline||t.align!==null||(t.align=e.align)}addElemSpacing_(){let e=!1;for(let s=0,u;u=this.rows[s];s++)u.hasExternalInput&&(e=!0);for(let s=0,u;u=this.rows[s];s++){var t=u.elements;if(u.elements=[],u.startsWithElemSpacer()&&u.elements.push(new me(this.constants_,this.getInRowSpacing_(null,t[0]))),t.length){for(let v=0;v<t.length-1;v++){u.elements.push(t[v]);const R=this.getInRowSpacing_(t[v],t[v+1]);u.elements.push(new me(this.constants_,R))}u.elements.push(t[t.length-1]),u.endsWithElemSpacer()&&(t=this.getInRowSpacing_(t[t.length-1],null),e&&u.hasDummyInput&&(t+=this.constants_.TAB_WIDTH),u.elements.push(new me(this.constants_,t)))}}}getInRowSpacing_(e,t){if(!e)return t&&qe.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&qe.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&qe.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!qe.isInput(e)&&(!t||qe.isStatementInput(t)))return qe.isField(e)&&e.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:qe.isIcon(e)?this.constants_.LARGE_PADDING*2+1:qe.isHat(e)?this.constants_.NO_PADDING:qe.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:qe.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:qe.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(qe.isInput(e)&&!t){if(qe.isExternalInput(e))return this.constants_.NO_PADDING;if(qe.isInlineInput(e))return this.constants_.LARGE_PADDING;if(qe.isStatementInput(e))return this.constants_.NO_PADDING}if(!qe.isInput(e)&&t&&qe.isInput(t)){if(qe.isField(e)&&e.isEditable){if(qe.isInlineInput(t)||qe.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(qe.isInlineInput(t)||qe.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(qe.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(qe.isIcon(e)&&t&&!qe.isInput(t))return this.constants_.LARGE_PADDING;if(qe.isInlineInput(e)&&t&&qe.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(qe.isLeftSquareCorner(e)&&t){if(qe.isHat(t))return this.constants_.NO_PADDING;if(qe.isPreviousConnection(t))return t.notchOffset;if(qe.isNextConnection(t))return t.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(qe.isLeftRoundedCorner(e)&&t){if(qe.isPreviousConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS;if(qe.isNextConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return qe.isField(e)&&t&&qe.isField(t)&&e.isEditable===t.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:t&&qe.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return qe.isTopRow(e)&&qe.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:qe.isTopRow(e)||qe.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||!e.hasStatement&&t.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(qe.isSpacer(t))return e.yPos+t.height/2;if(qe.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,qe.isNextConnection(t)?e+t.height/2:e-t.height/2;if(qe.isTopRow(e))return qe.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let s=e.yPos;return qe.isField(t)||qe.isIcon(t)?(s+=t.height/2,(e.hasInlineInput||e.hasStatement)&&t.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(s+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):s=qe.isInlineInput(t)?s+t.height/2:s+e.height/2,s}alignRowElements_(){if(this.isInline){var e=0,t=new WeakMap,s=null;for(let u=this.rows.length-1,v;v=this.rows[u];u--)t.set(v,e),qe.isInputRow(v)&&(v.hasStatement&&this.alignStatementRow_(v),s&&s.hasStatement&&v.width<s.width?t.set(v,s.width):e=v.hasStatement?v.width:Math.max(e,v.width),s=v);e=0;for(let u=0,v;v=this.rows[u];u++)v.hasStatement?e=this.getDesiredRowWidth_(v):qe.isSpacer(v)?v.width=Math.max(e,t.get(v)):(s=v.width,e=Math.max(e,t.get(v))-s,e>0&&this.addAlignmentPadding_(v,e),e=v.width)}else super.alignRowElements_()}getDesiredRowWidth_(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(e)}finalize_(){let e=0,t=0;for(let u=0,v;v=this.rows[u];u++){v.yPos=t,v.xPos=this.startX,t+=v.height,e=Math.max(e,v.widthWithConnectedBlocks);var s=t-this.topRow.ascenderHeight;v===this.bottomRow&&s<this.constants_.MIN_BLOCK_HEIGHT&&(s=this.constants_.MIN_BLOCK_HEIGHT-s,this.bottomRow.height+=s,t+=s),this.recordElemPositions_(v)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(s=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,s.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=t+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},Ip=class extends di{constructor(e,t,s){super(e,t,s),this.constants=s,this.colourDark="#000000",this.svgPathDark=dt(ht.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=dt(ht.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}setHighlightPath(e){this.svgPathLight.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(e),this.svgPath.setAttribute("stroke","none")}setStyle(e){this.style=e,this.colourDark=ro("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(e){super.updateHighlighted(e),this.svgPathLight.style.display=e?"none":"inline"}updateShadow_(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(e){super.updateDisabled_(e),e&&this.svgPath.setAttribute("stroke","none")}},Mp=class extends Bn{constructor(e){super(e),this.highlightConstants=null}init(e,t){super.init(e,t),this.highlightConstants=this.makeHighlightConstants_(),this.highlightConstants.init()}refreshDom(e,t,s){super.refreshDom(e,t,s),this.getHighlightConstants().init()}makeConstants_(){return new Ep}makeRenderInfo_(e){return new Ap(this,e)}makeDrawer_(e,t){return new Sp(e,t)}makePathObject(e,t){return new Ip(e,t,this.getConstants())}makeHighlightConstants_(){return new xp(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants}};Vl("geras",Mp);var Fu={};Fu.ConstantProvider=Ep,Fu.Drawer=Sp,Fu.HighlightConstantProvider=xp,Fu.Highlighter=wp,Fu.InlineInput=kp,Fu.PathObject=Ip,Fu.RenderInfo=Ap,Fu.Renderer=Mp,Fu.StatementInput=Cp;var Rp=class extends qn{constructor(e,t){super(e,t)}getRenderer(){return this.renderer_}addElemSpacing_(){let e=!1;for(var t=0;t<this.rows.length;t++)if(this.rows[t].hasExternalInput){e=!0;break}for(t=0;t<this.rows.length;t++){const u=this.rows[t];var s=u.elements;if(u.elements=[],u.startsWithElemSpacer()&&u.elements.push(new me(this.constants_,this.getInRowSpacing_(null,s[0]))),s.length){for(let v=0;v<s.length-1;v++){u.elements.push(s[v]);const R=this.getInRowSpacing_(s[v],s[v+1]);u.elements.push(new me(this.constants_,R))}u.elements.push(s[s.length-1]),u.endsWithElemSpacer()&&(s=this.getInRowSpacing_(s[s.length-1],null),e&&u.hasDummyInput&&(s+=this.constants_.TAB_WIDTH),u.elements.push(new me(this.constants_,s)))}}}getInRowSpacing_(e,t){if(!e)return t&&qe.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&qe.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&qe.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!qe.isInput(e)&&!t)return qe.isField(e)&&e.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:qe.isIcon(e)?this.constants_.LARGE_PADDING*2+1:qe.isHat(e)?this.constants_.NO_PADDING:qe.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:qe.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:qe.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(qe.isInput(e)&&!t){if(qe.isExternalInput(e))return this.constants_.NO_PADDING;if(qe.isInlineInput(e))return this.constants_.LARGE_PADDING;if(qe.isStatementInput(e))return this.constants_.NO_PADDING}if(!qe.isInput(e)&&t&&qe.isInput(t)){if(qe.isField(e)&&e.isEditable){if(qe.isInlineInput(t)||qe.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(qe.isInlineInput(t)||qe.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(qe.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(qe.isIcon(e)&&t&&!qe.isInput(t))return this.constants_.LARGE_PADDING;if(qe.isInlineInput(e)&&t&&qe.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(qe.isLeftSquareCorner(e)&&t){if(qe.isHat(t))return this.constants_.NO_PADDING;if(qe.isPreviousConnection(t)||qe.isNextConnection(t))return t.notchOffset}return qe.isLeftRoundedCorner(e)&&t?t.notchOffset-this.constants_.CORNER_RADIUS:qe.isField(e)&&t&&qe.isField(t)&&e.isEditable===t.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:t&&qe.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return qe.isTopRow(e)&&qe.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:qe.isTopRow(e)||qe.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||e.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(qe.isSpacer(t))return e.yPos+t.height/2;if(qe.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,qe.isNextConnection(t)?e+t.height/2:e-t.height/2;if(qe.isTopRow(e))return qe.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let s=e.yPos;return s=qe.isField(t)&&e.hasStatement?s+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+t.height/2):s+e.height/2}finalize_(){let e=0,t=0;for(var s=0;s<this.rows.length;s++){const v=this.rows[s];v.yPos=t,v.xPos=this.startX,t+=v.height,e=Math.max(e,v.widthWithConnectedBlocks);var u=t-this.topRow.ascenderHeight;v===this.bottomRow&&u<this.constants_.MIN_BLOCK_HEIGHT&&(u=this.constants_.MIN_BLOCK_HEIGHT-u,this.bottomRow.height+=u,t+=u),this.recordElemPositions_(v)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(s=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,s.getHeightWidth().width)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline}},Np=class extends Bn{constructor(e){super(e)}makeRenderInfo_(e){return new Rp(this,e)}};Vl("thrasos",Np);var E6={};E6.RenderInfo=Rp,E6.Renderer=Np;var v$={colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},y$={colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}},T$=new Ic("zelos",v$,y$),_$={Classic:Fh,Zelos:T$},w6=class{constructor(e,t,s){this.id_=e.toolboxitemid||Je(),this.level_=(this.parent_=s||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=t,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(e){}getFocusableElement(){const e=this.getDiv();if(!e)throw Error("Trying to access toolbox item before DOM is initialized.");if(!(e instanceof HTMLElement))throw Error("Toolbox item div is unexpectedly not an HTML element.");return e}getFocusableTree(){return this.parentToolbox_}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}},tu=class extends w6{constructor(e,t,s){super(e,t,s),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),this.toolboxItemDef_.hidden==="true"&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategoryContainer",row:"blocklyToolboxCategory",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyToolboxCategoryIcon",label:"blocklyToolboxCategoryLabel",contents:"blocklyToolboxCategoryGroup",selected:"blocklyToolboxSelected",openicon:"blocklyToolboxCategoryIconOpen",closedicon:"blocklyToolboxCategoryIconClosed"}}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(let t=0;t<e.length;t++){const s=e[t];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(s)}}parseCategoryDef_(e){this.name_="name"in e?lr(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),tr(this.htmlDiv_,bl.TREEITEM),Ur(this.htmlDiv_,Ts.SELECTED,!1),Ur(this.htmlDiv_,Ts.LEVEL,this.level_+1),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),tr(this.iconDom_,bl.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);const e=this.labelDom_.getAttribute("id");return e&&Ur(this.htmlDiv_,Ts.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){const e=document.createElement("div");e.tabIndex=-1,e.id=this.getId();const t=this.cssConfig_.container;return t&&tn(e,t),e}createRowContainer_(){const e=document.createElement("div");var t=this.cssConfig_.row;return t&&tn(e,t),t=`${tu.nestedPadding*this.getLevel()}px`,this.workspace_.RTL?e.style.paddingRight=t:e.style.paddingLeft=t,e}createRowContentsContainer_(){const e=document.createElement("div"),t=this.cssConfig_.rowcontentcontainer;return t&&tn(e,t),e}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&tn(e,t)}return e.style.display="inline-block",e}createLabelDom_(e){const t=document.createElement("span");return t.setAttribute("id",this.getId()+".label"),t.textContent=e,(e=this.cssConfig_.label)&&tn(t,e),t}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(e){e&&(e=tu.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}getColour_(e){const t=e.categorystyle||e.categoryStyle;if((e=e.colour)&&t)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(t)return this.getColourfromStyle(t);if(e)return this.parseColour(e)}return""}getColourfromStyle(e){var t=this.workspace_.getTheme();if(e&&t){if((t=t.categoryStyles[e])&&t.colour)return this.parseColour(t.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour(e){if(e=lr(e),e==null||e==="")return"";var t=Number(e);return isNaN(t)?(t=de(e))?t:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):mo(t)}openIcon_(e){if(e){var t=this.cssConfig_.closedicon;t&&Wr(e,t),(t=this.cssConfig_.openicon)&&tn(e,t)}}closeIcon_(e){if(e){var t=this.cssConfig_.openicon;t&&Wr(e,t),(t=this.cssConfig_.closedicon)&&tn(e,t)}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let e=this;for(;e.getParent();)if(e=e.getParent(),!e.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(e){}setSelected(e){if(this.rowDiv_){var t=this.cssConfig_.selected;if(e){const s=this.parseColour(tu.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||s,t&&tn(this.rowDiv_,t)}else this.rowDiv_.style.backgroundColor="",t&&Zn(this.rowDiv_,t);Ur(this.htmlDiv_,Ts.SELECTED,e)}}setDisabled(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",`${e}`),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(e){this.flyoutItems_=[],this.toolboxItemDef_=typeof e=="string"?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:wn(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){on(this.htmlDiv_)}};tu.registrationName="category",tu.nestedPadding=19,tu.borderWidth=8,tu.defaultBackgroundColour="#57e",dn(`
.blocklyToolboxCategory:not(.blocklyToolboxSelected):hover {
  background-color: rgba(255, 255, 255, .2);
}

.blocklyToolbox[layout="h"] .blocklyToolboxCategoryContainer {
  margin: 1px 5px 1px 0;
}

.blocklyToolbox[dir="RTL"][layout="h"] .blocklyToolboxCategoryContainer {
  margin: 1px 0 1px 5px;
}

.blocklyToolboxCategory {
  height: 22px;
  line-height: 22px;
  margin-bottom: 3px;
  padding-right: 8px;
  white-space: nowrap;
}

.blocklyToolbox[dir="RTL"] .blocklyToolboxCategory {
  margin-left: 8px;
  padding-right: 0;
}

.blocklyToolboxCategoryIcon {
  background-image: url(<<<PATH>>>/sprites.png);
  height: 16px;
  vertical-align: middle;
  visibility: hidden;
  width: 16px;
}

.blocklyToolboxCategoryIconClosed {
  background-position: -32px -1px;
}

.blocklyToolbox[dir="RTL"] .blocklyToolboxCategoryIconClosed {
  background-position: 0 -1px;
}

.blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {
  background-position: -32px -17px;
}

.blocklyToolbox[dir="RTL"] .blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {
  background-position: 0 -17px;
}

.blocklyToolboxCategoryIconOpen {
  background-position: -16px -1px;
}

.blocklyToolboxSelected>.blocklyToolboxCategoryIconOpen {
  background-position: -16px -17px;
}

.blocklyToolboxCategoryLabel {
  cursor: default;
  font: 16px sans-serif;
  padding: 0 3px;
  vertical-align: middle;
}

.blocklyToolboxDelete .blocklyToolboxCategoryLabel {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxSelected .blocklyToolboxCategoryLabel {
  color: #fff;
}
`),a(Ut.TOOLBOX_ITEM,tu.registrationName,tu);var G2=class extends w6{constructor(e,t){super(e,t),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv=null,Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}init(){this.createDom_()}createDom_(){const e=document.createElement("div");e.tabIndex=-1,e.id=this.getId();const t=this.cssConfig_.container;return t&&tn(e,t),this.htmlDiv=e}getDiv(){return this.htmlDiv}dispose(){on(this.htmlDiv)}};G2.registrationName="sep",dn(`
.blocklyTreeSeparator {
  border-bottom: solid #e5e5e5 1px;
  height: 0;
  margin: 5px 0;
}

.blocklyToolbox[layout="h"] .blocklyTreeSeparator {
  border-right: solid #e5e5e5 1px;
  border-bottom: none;
  height: auto;
  margin: 0 5px 0 5px;
  padding: 5px 0;
  width: 0;
}
`),a(Ut.TOOLBOX_ITEM,G2.registrationName,G2);var $4=class extends tu{constructor(e,t,s){super(e,t,s),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){const e=super.makeDefaultCssConfig_();return e.contents="blocklyToolboxCategoryGroup",e}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else{const t=e.contents;if(t){this.flyoutItems_=[],e=!0;for(let s=0;s<t.length;s++){const u=t[s];!_(Ut.TOOLBOX_ITEM,u.kind)||u.kind.toLowerCase()===G2.registrationName&&e?(this.flyoutItems_.push(u),e=!0):(this.createToolboxItem(u),e=!1)}}}}createToolboxItem(e){let t=e.kind;t.toUpperCase()==="CATEGORY"&&cr(e)&&(t=$4.registrationName),e=new(T(Ut.TOOLBOX_ITEM,t))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}init(){super.init(),this.setExpanded(this.toolboxItemDef_.expanded==="true"||this.toolboxItemDef_.expanded===!0)}createDom_(){super.createDom_();const e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),tr(this.subcategoriesDiv_,bl.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.closeIcon_(this.iconDom_),Ur(this.htmlDiv_,Ts.EXPANDED,!1),this.htmlDiv_}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&tn(e,t),e.style.visibility="visible"}return e.style.display="inline-block",e}createSubCategoriesDom_(e){const t=document.createElement("div");t.style.display="none";var s=this.cssConfig_.contents;for(s&&tn(t,s),s=0;s<e.length;s++){const u=e[s];u.init();const v=u.getDiv();if(t.appendChild(v),u.getClickTarget){let R;(R=u.getClickTarget())==null||R.setAttribute("id",u.getId())}}return t}setExpanded(e){if(this.expanded_!==e){if(this.expanded_=e)this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_);else{let t;(t=this.parentToolbox_.getFlyout())==null||t.setVisible(!1),this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)}Ur(this.htmlDiv_,Ts.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize()}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none";const t=this.getChildToolboxItems();for(let s=0;s<t.length;s++)t[s].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(e){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};$4.registrationName="collapsibleCategory",a(Ut.TOOLBOX_ITEM,$4.registrationName,$4);var Op=class extends D1{constructor(e){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.height_=this.width_=0,this.flyout=null,this.contents=new Map,this.previouslySelectedItem_=this.selectedItem_=null,this.boundEvents_=[],this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout=e.options.horizontalLayout,this.RTL=e.options.RTL,this.toolboxPosition=e.options.toolboxPosition}onShortcut(e){return!1}init(){var e=this.workspace_;const t=e.getParentSvg();this.flyout=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_);const s=this.flyout.createDom("svg");tn(s,"blocklyToolboxFlyout"),Ei(s,t),this.setVisible(!0),this.flyout.init(e),this.render(this.toolboxDef_),e=e.getThemeManager(),e.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:Si.ComponentWeight.TOOLBOX_WEIGHT,capabilities:[Si.Capability.AUTOHIDEABLE,Si.Capability.DELETE_AREA,Si.Capability.DRAG_TARGET]}),n.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,!0)}createDom_(e){e=e.getParentSvg();const t=this.createContainer_();return t.id=Je(),this.contentsDiv_=this.createContentsContainer_(),tr(this.contentsDiv_,bl.TREE),t.appendChild(this.contentsDiv_),e.parentNode.insertBefore(t,e),this.attachEvents_(t,this.contentsDiv_),t}createContainer_(){const e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),tn(e,"blocklyToolbox"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}createContentsContainer_(){const e=document.createElement("div");return tn(e,"blocklyToolboxCategoryGroup"),this.isHorizontal()&&(e.style.flexDirection="row"),e}attachEvents_(e,t){e=ie(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),t=ie(t,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(t)}onClick_(e){if(Te(e)||e.target===this.HtmlDiv)N().hideChaff(!1);else{var t=e.target.getAttribute("id");t&&(t=this.getToolboxItemById(t),t.isSelectable()&&(this.setSelectedItem(t),t.onClick(e))),N().hideChaff(!0)}Z()}onKeyDown_(e){let t=!1;switch(e.key){case"ArrowDown":t=this.selectNext();break;case"ArrowUp":t=this.selectPrevious();break;case"ArrowLeft":t=this.selectParent();break;case"ArrowRight":t=this.selectChild();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),t=!0);break;default:t=!1}!t&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(t=this.selectedItem_.onKeyDown(e)),t&&e.preventDefault()}createFlyout_(){const e=this.workspace_,t=e.copyOptionsForFlyout();return t.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?A(Ut.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):A(Ut.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(t)}render(e){this.toolboxDef_=e,this.contents.forEach(t=>t.dispose()),this.contents.clear(),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}renderContents_(e){const t=document.createDocumentFragment();for(let s=0;s<e.length;s++)this.createToolboxItem(e[s],t);this.contentsDiv_.appendChild(t)}createToolboxItem(e,t){var s=e.kind;s.toUpperCase()==="CATEGORY"&&cr(e)&&(s=$4.registrationName),(s=T(Ut.TOOLBOX_ITEM,s.toLowerCase()))&&(e=new s(e,this),e.init(),this.addToolboxItem_(e),(s=e.getDiv())&&t.appendChild(s),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}addToolboxItem_(e){if(this.contents.set(e.getId(),e),e.isCollapsible()){e=e.getChildToolboxItems();for(let t=0;t<e.length;t++)this.addToolboxItem_(e[t])}}getToolboxItems(){return[...this.contents.values()]}addStyle(e){e&&this.HtmlDiv&&tn(this.HtmlDiv,e)}removeStyle(e){e&&this.HtmlDiv&&Zn(this.HtmlDiv,e)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect();const t=e.top,s=t+e.height,u=e.left;return e=u+e.width,this.toolboxPosition===Er.TOP?new $r(-1e7,s,-1e7,1e7):this.toolboxPosition===Er.BOTTOM?new $r(t,1e7,-1e7,1e7):this.toolboxPosition===Er.LEFT?new $r(-1e7,1e7,-1e7,e):new $r(-1e7,1e7,u,1e7)}wouldDelete(e){return e instanceof Ji?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(Hi(e)&&e.isDeletable()),this.wouldDelete_}onDragEnter(e){this.updateCursorDeleteStyle_(!0)}onDragExit(e){this.updateCursorDeleteStyle_(!1)}onDrop(e){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(e){const t=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(t):this.removeStyle(t)}getToolboxItemById(e){return this.contents.get(e)||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout}position(){const e=this.workspace_.getMetrics(),t=this.HtmlDiv;t&&(this.horizontalLayout?(t.style.left="0",t.style.height="auto",t.style.width="100%",this.height_=t.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===Er.TOP?t.style.top="0":t.style.bottom="0"):(this.toolboxPosition===Er.RIGHT?t.style.right="0":t.style.left="0",t.style.height="100%",this.width_=t.offsetWidth,this.height_=e.viewHeight),this.flyout.position())}handleToolboxItemResize(){const e=this.workspace_;var t=this.HtmlDiv.getBoundingClientRect();const s=this.getFlyout(),u=this.toolboxPosition===Er.LEFT?e.scrollX+t.width+(s!=null&&s.isVisible()?s.getWidth():0):e.scrollX;t=this.toolboxPosition===Er.TOP?e.scrollY+t.height+(s!=null&&s.isVisible()?s.getHeight():0):e.scrollY,e.translate(u,t),ds(e)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){this.contents.forEach(e=>{e.refreshTheme&&e.refreshTheme()})}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout.show(this.selectedItem_.getContents())}setVisible(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}autoHide(e){!e&&this.flyout&&this.flyout.autoClose&&this.clearSelection()}setSelectedItem(e){const t=this.selectedItem_;!e&&!t||e&&!H4(e)||(this.shouldDeselectItem_(t,e)&&t!==null&&this.deselectItem_(t),this.shouldSelectItem_(t,e)&&e!==null&&this.selectItem_(t,e),this.updateFlyout_(t,e),this.fireSelectEvent(t,e))}shouldDeselectItem_(e,t){return e!==null&&(!e.isCollapsible()||e!==t)}shouldSelectItem_(e,t){return t!==null&&t!==e}deselectItem_(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),Ur(this.contentsDiv_,Ts.ACTIVEDESCENDANT,"")}selectItem_(e,t){this.selectedItem_=t,this.previouslySelectedItem_=e,t.setSelected(!0),Ur(this.contentsDiv_,Ts.ACTIVEDESCENDANT,t.getId())}selectItemByPosition(e){(e=this.getToolboxItems()[e])&&this.setSelectedItem(e)}updateFlyout_(e,t){t&&(e!==t||t.isCollapsible())&&t.getContents().length?(this.flyout.show(t.getContents()),this.flyout.scrollToStart()):this.flyout.hide()}fireSelectEvent(e,t){const s=e&&e.getName();let u=t&&t.getName();e===t&&(u=null),e=new(an(mt.TOOLBOX_ITEM_SELECT))(s,u,this.workspace_.id),le(e)}selectParent(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1}selectChild(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;const e=this.selectedItem_;return e.isExpanded()?this.selectNext():e.toggleExpanded(),!0}selectNext(){if(!this.selectedItem_)return!1;const e=[...this.contents.values()];let t=e.indexOf(this.selectedItem_)+1;if(t>-1&&t<e.length){let s=e[t];for(;s&&!s.isSelectable();)s=e[++t];if(s&&s.isSelectable())return this.setSelectedItem(s),!0}return!1}selectPrevious(){if(!this.selectedItem_)return!1;const e=[...this.contents.values()];let t=e.indexOf(this.selectedItem_)-1;if(t>-1&&t<e.length){let s=e[t];for(;s&&!s.isSelectable();)s=e[--t];if(s&&s.isSelectable())return this.setSelectedItem(s),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout.dispose(),this.contents.forEach(e=>e.dispose());for(let e=0;e<this.boundEvents_.length;e++)Ie(this.boundEvents_[e]);this.boundEvents_=[],this.contents.clear(),this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),on(this.HtmlDiv)),n.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}getFocusableElement(){if(!this.HtmlDiv)throw Error("Toolbox DOM has not yet been created.");return this.HtmlDiv}getFocusableTree(){return this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(e){if(!e||e===this){let t;return(t=this.getToolboxItems().find(s=>s.isSelectable()))!=null?t:null}return null}getNestedTrees(){return[]}lookUpFocusableNode(e){return this.getToolboxItemById(e)}onTreeFocus(e,t){e!==this?this.getSelectedItem()!==e&&this.setSelectedItem(e):this.clearSelection()}onTreeBlur(e){let t;e&&e===((t=this.flyout)==null?void 0:t.getWorkspace())||this.autoHide(!1)}};dn(`
.blocklyToolboxDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxGrab {
  cursor: url("<<<PATH>>>/handclosed.cur"), auto;
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* Category tree in Toolbox. */
.blocklyToolbox {
  box-sizing: border-box;
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  background-color: #ddd;
  overflow-x: visible;
  overflow-y: auto;
  padding: 4px 0 4px 0;
  position: absolute;
  z-index: 70;  /* so blocks go under toolbox when dragging */
  -webkit-tap-highlight-color: transparent;  /* issue #1345 */
}

.blocklyToolboxCategoryGroup {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
}

.blocklyToolboxCategoryGroup:focus {
  outline: none;
}
`),a(Ut.TOOLBOX,ml,Op);var E$="12.3.1",w$=Tn.INPUT_VALUE,S$=Tn.OUTPUT_VALUE,x$=Tn.NEXT_STATEMENT,k$=Tn.PREVIOUS_STATEMENT,C$=Er.TOP,A$=Er.BOTTOM,I$=Er.LEFT,M$=Er.RIGHT;d4.prototype.newBlock=function(e,t){return new P0(this,e,t)},xl.prototype.newBlock=function(e,t){return new Ji(this,e,t)},d4.prototype.newComment=function(e){return new R1(this,e)},xl.prototype.newComment=function(e){return new u0(this,e)},xl.newTrashcan=function(e){return new I7(e)},ma.prototype.newWorkspaceSvg=function(e){return new xl(e)},n.Names$$module$build$src$core$names.prototype.populateProcedures=function(e){e=$o(e),e=e[0].concat(e[1]);for(let t=0;t<e.length;t++)this.getName(e[t][0],n.Names$$module$build$src$core$names.NameType.PROCEDURE)};var vt={};return vt.Block=P0,vt.BlockFlyoutInflater=_p,vt.BlockNavigationPolicy=I2,vt.BlockSvg=Ji,vt.Blocks=vs,vt.ButtonFlyoutInflater=Tp,vt.COLLAPSED_FIELD_NAME=Fr,vt.COLLAPSED_INPUT_NAME=Oi,vt.COLLAPSE_CHARS=O3,vt.CodeGenerator=n.CodeGenerator$$module$build$src$core$generator,vt.CollapsibleToolboxCategory=$4,vt.ComponentManager=Si,vt.Connection=hi,vt.ConnectionChecker=V3,vt.ConnectionDB=Ka,vt.ConnectionNavigationPolicy=R2,vt.ConnectionType=Tn,vt.ContextMenu=Ya,vt.ContextMenuItems=Uo,vt.ContextMenuRegistry=wr,vt.Css=vc,vt.DELETE_VARIABLE_ID=k2,vt.DeleteArea=D1,vt.DragTarget=B3,vt.DropDownDiv=Po,vt.Events=bn,vt.Extensions=c0,vt.Field=Li,vt.FieldCheckbox=Xh,vt.FieldDropdown=Ao,vt.FieldImage=qh,vt.FieldLabel=Nc,vt.FieldLabelSerializable=j7,vt.FieldNavigationPolicy=N2,vt.FieldNumber=o6,vt.FieldTextInput=n.FieldTextInput$$module$build$src$core$field_textinput,vt.FieldVariable=z2,vt.Flyout=Nu,vt.FlyoutButton=Mo,vt.FlyoutButtonNavigationPolicy=P3,vt.FlyoutItem=B1,vt.FlyoutMetricsManager=Uh,vt.FlyoutNavigationPolicy=F1,vt.FlyoutNavigator=Ja,vt.FlyoutSeparator=l4,vt.FlyoutSeparatorNavigationPolicy=A2,vt.FocusManager=xo,vt.FocusableTreeTraverser=bo,vt.Generator=n.CodeGenerator$$module$build$src$core$generator,vt.Gesture=Vh,vt.Grid=H1,vt.HorizontalFlyout=X7,vt.INPUT_VALUE=w$,vt.Input=Lc,vt.InsertionMarkerPreviewer=V7,vt.KeyboardNavigationController=Za,vt.LabelFlyoutInflater=D7,vt.LineCursor=G1,vt.Marker=G3,vt.MarkerManager=V1,vt.Menu=a2,vt.MenuItem=Fd,vt.MetricsManager=P1,vt.Msg=n.Msg$$module$build$src$core$msg,vt.NEXT_STATEMENT=x$,vt.Names=n.Names$$module$build$src$core$names,vt.Navigator=Hh,vt.OPPOSITE_TYPE=Oc,vt.OUTPUT_VALUE=S$,vt.Options=D0,vt.PREVIOUS_STATEMENT=k$,vt.PROCEDURE_CATEGORY_NAME=Wh,vt.Procedures=Ro,vt.RENAME_VARIABLE_ID=x2,vt.RenderedConnection=Io,vt.Scrollbar=Cs,vt.ScrollbarPair=ba,vt.SeparatorFlyoutInflater=U1,vt.ShortcutItems=Du,vt.ShortcutRegistry=Vi,vt.TOOLBOX_AT_BOTTOM=A$,vt.TOOLBOX_AT_LEFT=I$,vt.TOOLBOX_AT_RIGHT=M$,vt.TOOLBOX_AT_TOP=C$,vt.Theme=Ic,vt.ThemeManager=Zr,vt.Themes=_$,vt.Toast=ao,vt.Toolbox=Op,vt.ToolboxCategory=tu,vt.ToolboxItem=w6,vt.ToolboxSeparator=G2,vt.Tooltip=_l,vt.Touch=mu,vt.Trashcan=I7,vt.UnattachedFieldError=Ws,vt.VARIABLE_CATEGORY_NAME=kh,vt.VARIABLE_DYNAMIC_CATEGORY_NAME=vi,vt.VERSION=E$,vt.VariableMap=A7,vt.VariableModel=C7,vt.Variables=As,vt.VariablesDynamic=ll,vt.VerticalFlyout=s6,vt.WidgetDiv=ql,vt.Workspace=d4,vt.WorkspaceAudio=k7,vt.WorkspaceDragger=B2,vt.WorkspaceNavigationPolicy=D2,vt.WorkspaceSvg=xl,vt.Xml=Fo,vt.ZoomControls=ua,vt.blockAnimations=Ru,vt.blockRendering=_n,vt.browserEvents=ra,vt.bubbles=H2,vt.bumpObjects=L1,vt.clipboard=eu,vt.comments=W1,vt.common=Gs,vt.config=n.config$$module$build$src$core$config,vt.constants=Yi,vt.defineBlocksWithJsonArray=$e,vt.dialog=vl,vt.dragging=U2,vt.fieldRegistry=r4,vt.geras=Fu,vt.getFocusManager=n.getFocusManager$$module$build$src$core$focus_manager,vt.getMainWorkspace=N,vt.getSelected=De,vt.hasBubble=g0,vt.hideChaff=y3,vt.icons=Qa,vt.inject=N4,vt.inputs=q1,vt.isCopyable=pc,vt.isDeletable=Hi,vt.isDraggable=gi,vt.isIcon=J,vt.isObservable=ji,vt.isPaster=Sd,vt.isRenderedElement=U4,vt.isSelectable=Ce,vt.isSerializable=Sa,vt.isVariableBackedParameterModel=nr,vt.keyboardNavigationController=c4,vt.layers=X5,vt.navigateBlock=$s,vt.navigateStacks=as,vt.procedures=Ro,vt.registry=za,vt.renderManagement=O0,vt.serialization=$$,vt.setLocale=Wa,vt.setParentContainer=Qr,vt.svgResize=ds,vt.thrasos=E6,vt.uiPosition=lo,vt.utils=ns,vt.zelos=Pu,vt.__namespace__=n,vt})})(f5)),f5.exports}var Z$=O5();const Q$=qu(Z$),{Block:cC,BlockFlyoutInflater:hC,BlockNavigationPolicy:dC,BlockSvg:fC,Blocks:pC,ButtonFlyoutInflater:mC,COLLAPSED_FIELD_NAME:gC,COLLAPSED_INPUT_NAME:$C,COLLAPSE_CHARS:bC,CodeGenerator:vC,CollapsibleToolboxCategory:yC,ComponentManager:TC,Connection:_C,ConnectionChecker:EC,ConnectionDB:wC,ConnectionNavigationPolicy:SC,ConnectionType:xC,ContextMenu:kC,ContextMenuItems:CC,ContextMenuRegistry:AC,Css:IC,DELETE_VARIABLE_ID:MC,DeleteArea:RC,DragTarget:NC,DropDownDiv:OC,Events:LC,Extensions:DC,Field:BC,FieldCheckbox:PC,FieldDropdown:FC,FieldImage:zC,FieldLabel:UC,FieldLabelSerializable:HC,FieldNavigationPolicy:GC,FieldNumber:VC,FieldTextInput:WC,FieldVariable:qC,Flyout:XC,FlyoutButton:jC,FlyoutButtonNavigationPolicy:YC,FlyoutItem:KC,FlyoutMetricsManager:JC,FlyoutNavigationPolicy:ZC,FlyoutNavigator:QC,FlyoutSeparator:eA,FlyoutSeparatorNavigationPolicy:tA,FocusManager:nA,FocusableTreeTraverser:rA,Generator:iA,Gesture:sA,Grid:oA,HorizontalFlyout:lA,INPUT_VALUE:aA,Input:uA,InsertionMarkerPreviewer:cA,KeyboardNavigationController:hA,LabelFlyoutInflater:dA,LineCursor:fA,Marker:pA,MarkerManager:mA,Menu:gA,MenuItem:$A,MetricsManager:bA,Msg:vA,NEXT_STATEMENT:yA,Names:TA,Navigator:_A,OPPOSITE_TYPE:EA,OUTPUT_VALUE:wA,Options:SA,PREVIOUS_STATEMENT:xA,PROCEDURE_CATEGORY_NAME:kA,Procedures:CA,RENAME_VARIABLE_ID:AA,RenderedConnection:IA,Scrollbar:MA,ScrollbarPair:RA,SeparatorFlyoutInflater:NA,ShortcutItems:OA,ShortcutRegistry:LA,TOOLBOX_AT_BOTTOM:DA,TOOLBOX_AT_LEFT:BA,TOOLBOX_AT_RIGHT:PA,TOOLBOX_AT_TOP:FA,Theme:zA,ThemeManager:UA,Themes:HA,Toast:GA,Toolbox:VA,ToolboxCategory:WA,ToolboxItem:qA,ToolboxSeparator:XA,Tooltip:jA,Touch:YA,Trashcan:KA,UnattachedFieldError:JA,VARIABLE_CATEGORY_NAME:ZA,VARIABLE_DYNAMIC_CATEGORY_NAME:QA,VERSION:eI,VariableMap:tI,VariableModel:nI,Variables:rI,VariablesDynamic:iI,VerticalFlyout:sI,WidgetDiv:oI,Workspace:lI,WorkspaceAudio:aI,WorkspaceDragger:uI,WorkspaceNavigationPolicy:cI,WorkspaceSvg:hI,Xml:J2,ZoomControls:dI,blockAnimations:fI,blockRendering:pI,browserEvents:mI,bubbles:gI,bumpObjects:$I,clipboard:bI,comments:vI,common:yI,config:TI,constants:_I,defineBlocksWithJsonArray:EI,dialog:wI,dragging:SI,fieldRegistry:xI,geras:kI,getFocusManager:CI,getMainWorkspace:AI,getSelected:II,hasBubble:MI,hideChaff:RI,icons:NI,inject:eb,inputs:OI,isCopyable:LI,isDeletable:DI,isDraggable:BI,isIcon:PI,isObservable:FI,isPaster:zI,isRenderedElement:UI,isSelectable:HI,isSerializable:GI,isVariableBackedParameterModel:VI,keyboardNavigationController:WI,layers:qI,navigateBlock:XI,navigateStacks:jI,procedures:YI,registry:KI,renderManagement:JI,serialization:Xm,setLocale:ZI,setParentContainer:QI,svgResize:eM,thrasos:tM,uiPosition:nM,utils:tb,zelos:rM}=Q$;function nb(r,o){var n=null,a=null,h=function(){for(var $=[],_=0;_<arguments.length;_++)$[_]=arguments[_];a=function(){n=null,r.apply(void 0,$)},n!=null&&clearTimeout(n),n=window.setTimeout(a,o)},p=function(){n!=null&&(clearTimeout(n),a&&a())};return[h,p]}var E5=function(){return E5=Object.assign||function(r){for(var o,n=1,a=arguments.length;n<a;n++){o=arguments[n];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(r[h]=o[h])}return r},E5.apply(this,arguments)};function rb(r,o,n){try{return o.getAllBlocks(!1).length>0?void 0:(J2.domToWorkspace(tb.xml.textToDom(r),o),!0)}catch(a){return n&&n(a),!1}}function ib(r,o,n){try{return Xm.workspaces.load(r,o),!0}catch(a){return n&&n(a),!1}}var sb=function(r){var o=r.ref,n=r.initialXml,a=r.initialJson,h=r.toolboxConfiguration,p=r.workspaceConfiguration,$=r.onWorkspaceChange,_=r.onImportXmlError,T=r.onImportError,E=r.onInject,w=r.onDispose;T=T??_;var A=Bs.useState(null),z=A[0],B=A[1],Z=Bs.useState(n||null),ce=Z[0],oe=Z[1],j=Bs.useState(a||null),ie=j[0],be=j[1],Ie=Bs.useState(!1),Ge=Ie[0],Te=Ie[1],We=Bs.useState(!1),lt=We[0],Je=We[1],Xe=Bs.useRef(p);Bs.useEffect(function(){Xe.current=p},[p]);var Pt=Bs.useRef(h);Bs.useEffect(function(){Pt.current=h,h&&z&&!p?.readOnly&&z.updateToolbox(h)},[h,z,p]);var He=Bs.useRef(E),Lt=Bs.useRef(w);Bs.useEffect(function(){He.current=E},[E]),Bs.useEffect(function(){Lt.current=w},[w]);var yt=Bs.useCallback(function(rt){$&&$(rt)},[$]);return Bs.useEffect(function(){if(o.current){var rt=eb(o.current,E5(E5({},Xe.current),{toolbox:Pt.current}));B(rt),Te(!1),Je(!1),He.current&&He.current(rt);var Ze=Lt.current;return function(){rt.dispose(),Ze&&Ze(rt)}}},[o]),Bs.useEffect(function(){z&&!lt&&yt(z)},[yt,lt,z]),Bs.useEffect(function(){if(z!=null){var rt=function(){yt(z)};return z.addChangeListener(rt),function(){z.removeChangeListener(rt)}}},[z,yt]),Bs.useEffect(function(){if(z!=null){var rt=nb(function(){var ft=J2.domToText(J2.workspaceToDom(z));if(ft!==ce){var It=Xm.workspaces.save(z);be(It),oe(ft)}},200),Ze=rt[0],$t=rt[1];return z.addChangeListener(Ze),function(){z.removeChangeListener(Ze),$t()}}},[z,ce]),Bs.useEffect(function(){if(ce&&z&&!Ge){var rt=rb(ce,z,T);rt||oe(null),Te(!0)}else if(ie&&z&&!Ge){var rt=ib(ie,z,T);rt||be(null);var Ze=J2.domToText(J2.workspaceToDom(z));oe(Ze),Te(!0)}},[ie,ce,z,Ge,T]),{workspace:z,xml:ce,json:ie}},N6={exports:{}},O6,Zp;function ob(){if(Zp)return O6;Zp=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return O6=r,O6}var L6,Qp;function lb(){if(Qp)return L6;Qp=1;var r=ob();function o(){}function n(){}return n.resetWarningCache=o,L6=function(){function a($,_,T,E,w,A){if(A!==r){var z=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw z.name="Invariant Violation",z}}a.isRequired=a;function h(){return a}var p={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:h,element:a,elementType:a,instanceOf:h,node:a,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:n,resetWarningCache:o};return p.PropTypes=p,p},L6}var e8;function jm(){return e8||(e8=1,N6.exports=lb()()),N6.exports}var ab=jm();const ya=qu(ab);var ub={initialXml:ya.string,initialJson:ya.object,toolboxConfiguration:ya.object,workspaceConfiguration:ya.object,className:ya.string,onWorkspaceChange:ya.func,onImportXmlError:ya.func,onImportError:ya.func,onXmlChange:ya.func,onJsonChange:ya.func,onInject:ya.func,onDispose:ya.func};function zf(r){var o=r.initialXml,n=r.initialJson,a=r.toolboxConfiguration,h=r.workspaceConfiguration,p=r.className,$=r.onWorkspaceChange,_=r.onXmlChange,T=r.onJsonChange,E=r.onImportXmlError,w=r.onImportError,A=r.onInject,z=r.onDispose,B=Bs.useRef(null),Z=sb({ref:B,initialXml:o,initialJson:n,toolboxConfiguration:a,workspaceConfiguration:h,onWorkspaceChange:$,onImportXmlError:E,onImportError:w,onInject:A,onDispose:z}),ce=Z.xml,oe=Z.json,j=Bs.useRef(_);Bs.useEffect(function(){j.current=_},[_]);var ie=Bs.useRef(T);return Bs.useEffect(function(){ie.current=T},[T]),Bs.useEffect(function(){j.current&&ce&&j.current(ce),ie.current&&oe&&ie.current(oe)},[ce,oe]),_e.jsx("div",{className:p,ref:B})}zf.propTypes=ub;var p5={exports:{}},m5={exports:{}},cb=m5.exports,t8;function hb(){return t8||(t8=1,(function(r,o){(function(n,a){r.exports=a()})(cb,function(){var n=n||{Msg:Object.create(null)};return n.Msg.ADD_COMMENT="Add Comment",n.Msg.ALT_KEY="Alt",n.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",n.Msg.CHANGE_VALUE_TITLE="Change value:",n.Msg.CHROME_OS="ChromeOS",n.Msg.CLEAN_UP="Clean up Blocks",n.Msg.CLOSE="Close",n.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",n.Msg.COLLAPSE_ALL="Collapse Blocks",n.Msg.COLLAPSE_BLOCK="Collapse Block",n.Msg.COLOUR_BLEND_COLOUR1="colour 1",n.Msg.COLOUR_BLEND_COLOUR2="colour 2",n.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",n.Msg.COLOUR_BLEND_RATIO="ratio",n.Msg.COLOUR_BLEND_TITLE="blend",n.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",n.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",n.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",n.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",n.Msg.COLOUR_RANDOM_TITLE="random colour",n.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",n.Msg.COLOUR_RGB_BLUE="blue",n.Msg.COLOUR_RGB_GREEN="green",n.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",n.Msg.COLOUR_RGB_RED="red",n.Msg.COLOUR_RGB_TITLE="colour with",n.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",n.Msg.COMMAND_KEY=" Command",n.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",n.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",n.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",n.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",n.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",n.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",n.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",n.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",n.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",n.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",n.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",n.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",n.Msg.CONTROLS_IF_MSG_ELSE="else",n.Msg.CONTROLS_IF_MSG_ELSEIF="else if",n.Msg.CONTROLS_IF_MSG_IF="if",n.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",n.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",n.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",n.Msg.CONTROLS_REPEAT_INPUT_DO="do",n.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",n.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",n.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",n.Msg.CONTROL_KEY="Ctrl",n.Msg.COPY_SHORTCUT="Copy",n.Msg.CUT_SHORTCUT="Cut",n.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",n.Msg.DELETE_BLOCK="Delete Block",n.Msg.DELETE_VARIABLE="Delete the '%1' variable",n.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",n.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",n.Msg.DIALOG_CANCEL="Cancel",n.Msg.DIALOG_OK="OK",n.Msg.DISABLE_BLOCK="Disable Block",n.Msg.DUPLICATE_BLOCK="Duplicate",n.Msg.DUPLICATE_COMMENT="Duplicate Comment",n.Msg.EDIT_BLOCK_CONTENTS="Edit Block contents",n.Msg.ENABLE_BLOCK="Enable Block",n.Msg.EXPAND_ALL="Expand Blocks",n.Msg.EXPAND_BLOCK="Expand Block",n.Msg.EXTERNAL_INPUTS="External Inputs",n.Msg.HELP="Help",n.Msg.HELP_PROMPT="Press %1 for help on keyboard controls",n.Msg.INLINE_INPUTS="Inline Inputs",n.Msg.KEYBOARD_NAV_CONSTRAINED_MOVE_HINT="Use the arrow keys to move, then %1 to accept the position",n.Msg.KEYBOARD_NAV_COPIED_HINT="Copied. Press %1 to paste.",n.Msg.KEYBOARD_NAV_CUT_HINT="Cut. Press %1 to paste.",n.Msg.KEYBOARD_NAV_UNCONSTRAINED_MOVE_HINT="Hold %1 and use arrow keys to move freely, then %2 to accept the position",n.Msg.LINUX="Linux",n.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",n.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",n.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",n.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",n.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",n.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",n.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",n.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",n.Msg.LISTS_GET_INDEX_FIRST="first",n.Msg.LISTS_GET_INDEX_FROM_END="# from end",n.Msg.LISTS_GET_INDEX_FROM_START="#",n.Msg.LISTS_GET_INDEX_GET="get",n.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",n.Msg.LISTS_GET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",n.Msg.LISTS_GET_INDEX_LAST="last",n.Msg.LISTS_GET_INDEX_RANDOM="random",n.Msg.LISTS_GET_INDEX_REMOVE="remove",n.Msg.LISTS_GET_INDEX_TAIL="",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",n.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",n.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",n.Msg.LISTS_GET_SUBLIST_END_LAST="to last",n.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",n.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",n.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",n.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",n.Msg.LISTS_GET_SUBLIST_TAIL="",n.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",n.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",n.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",n.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",n.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#finding-items-in-a-list",n.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",n.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",n.Msg.LISTS_INLIST="in list",n.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",n.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",n.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",n.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",n.Msg.LISTS_LENGTH_TITLE="length of %1",n.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",n.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",n.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",n.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",n.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",n.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",n.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",n.Msg.LISTS_SET_INDEX_INPUT_TO="as",n.Msg.LISTS_SET_INDEX_INSERT="insert at",n.Msg.LISTS_SET_INDEX_SET="set",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",n.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",n.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",n.Msg.LISTS_SORT_ORDER_DESCENDING="descending",n.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",n.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",n.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",n.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",n.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",n.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",n.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",n.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",n.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",n.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",n.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",n.Msg.LOGIC_BOOLEAN_FALSE="false",n.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",n.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",n.Msg.LOGIC_BOOLEAN_TRUE="true",n.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",n.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",n.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",n.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",n.Msg.LOGIC_NEGATE_TITLE="not %1",n.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",n.Msg.LOGIC_NULL="null",n.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",n.Msg.LOGIC_NULL_TOOLTIP="Returns null.",n.Msg.LOGIC_OPERATION_AND="and",n.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",n.Msg.LOGIC_OPERATION_OR="or",n.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",n.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",n.Msg.LOGIC_TERNARY_CONDITION="test",n.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",n.Msg.LOGIC_TERNARY_IF_FALSE="if false",n.Msg.LOGIC_TERNARY_IF_TRUE="if true",n.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",n.Msg.MAC_OS="macOS",n.Msg.MATH_ADDITION_SYMBOL="+",n.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",n.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",n.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",n.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",n.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",n.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",n.Msg.MATH_CHANGE_TITLE="change %1 by %2",n.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",n.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",n.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants:  (3.141), e (2.718),  (1.618), sqrt(2) (1.414), sqrt() (0.707), or  (infinity).",n.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",n.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",n.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",n.Msg.MATH_DIVISION_SYMBOL="",n.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",n.Msg.MATH_IS_EVEN="is even",n.Msg.MATH_IS_NEGATIVE="is negative",n.Msg.MATH_IS_ODD="is odd",n.Msg.MATH_IS_POSITIVE="is positive",n.Msg.MATH_IS_PRIME="is prime",n.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",n.Msg.MATH_IS_WHOLE="is whole",n.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",n.Msg.MATH_MODULO_TITLE="remainder of %1  %2",n.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",n.Msg.MATH_MULTIPLICATION_SYMBOL="",n.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",n.Msg.MATH_NUMBER_TOOLTIP="A number.",n.Msg.MATH_ONLIST_HELPURL="",n.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",n.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",n.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",n.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",n.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",n.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",n.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",n.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",n.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",n.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",n.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",n.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",n.Msg.MATH_POWER_SYMBOL="^",n.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",n.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",n.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",n.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",n.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",n.Msg.MATH_ROUND_OPERATOR_ROUND="round",n.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",n.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",n.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",n.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",n.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",n.Msg.MATH_SINGLE_OP_ROOT="square root",n.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",n.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",n.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",n.Msg.MATH_SUBTRACTION_SYMBOL="-",n.Msg.MATH_TRIG_ACOS="acos",n.Msg.MATH_TRIG_ASIN="asin",n.Msg.MATH_TRIG_ATAN="atan",n.Msg.MATH_TRIG_COS="cos",n.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",n.Msg.MATH_TRIG_SIN="sin",n.Msg.MATH_TRIG_TAN="tan",n.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",n.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",n.Msg.MOVE_BLOCK="Move Block",n.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",n.Msg.NEW_NUMBER_VARIABLE="Create number variable...",n.Msg.NEW_STRING_VARIABLE="Create string variable...",n.Msg.NEW_VARIABLE="Create variable...",n.Msg.NEW_VARIABLE_TITLE="New variable name:",n.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",n.Msg.OPTION_KEY=" Option",n.Msg.ORDINAL_NUMBER_SUFFIX="",n.Msg.PASTE_SHORTCUT="Paste",n.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",n.Msg.PROCEDURES_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",n.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",n.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CALL_DISABLED_DEF_WARNING="Can't run the user-defined function '%1' because the definition block is disabled.",n.Msg.PROCEDURES_CREATE_DO="Create '%1'",n.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",n.Msg.PROCEDURES_DEFNORETURN_DO="",n.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",n.Msg.PROCEDURES_DEFNORETURN_TITLE="to",n.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",n.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFRETURN_RETURN="return",n.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",n.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",n.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",n.Msg.PROCEDURES_IFRETURN_HELPURL="https://c2.com/cgi/wiki?GuardClause",n.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",n.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",n.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",n.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",n.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",n.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",n.Msg.REDO="Redo",n.Msg.REMOVE_COMMENT="Remove Comment",n.Msg.RENAME_VARIABLE="Rename variable...",n.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",n.Msg.SHORTCUTS_CODE_NAVIGATION="Code navigation",n.Msg.SHORTCUTS_EDITING="Editing",n.Msg.SHORTCUTS_GENERAL="General",n.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_APPEND_TITLE="to %1 append text %2",n.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",n.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",n.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",n.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",n.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",n.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",n.Msg.TEXT_CHARAT_FIRST="get first letter",n.Msg.TEXT_CHARAT_FROM_END="get letter # from end",n.Msg.TEXT_CHARAT_FROM_START="get letter #",n.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",n.Msg.TEXT_CHARAT_LAST="get last letter",n.Msg.TEXT_CHARAT_RANDOM="get random letter",n.Msg.TEXT_CHARAT_TAIL="",n.Msg.TEXT_CHARAT_TITLE="in text %1 %2",n.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",n.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",n.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",n.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",n.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",n.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",n.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",n.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",n.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",n.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",n.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",n.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",n.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",n.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",n.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",n.Msg.TEXT_GET_SUBSTRING_TAIL="",n.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",n.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",n.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",n.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",n.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",n.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",n.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",n.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",n.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",n.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",n.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",n.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",n.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_LENGTH_TITLE="length of %1",n.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",n.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",n.Msg.TEXT_PRINT_TITLE="print %1",n.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",n.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",n.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",n.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",n.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",n.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",n.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",n.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",n.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",n.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",n.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",n.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",n.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",n.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",n.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",n.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",n.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",n.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",n.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",n.Msg.TODAY="Today",n.Msg.UNDO="Undo",n.Msg.UNKNOWN="Unknown",n.Msg.UNNAMED_KEY="unnamed",n.Msg.VARIABLES_DEFAULT_NAME="item",n.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",n.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",n.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",n.Msg.VARIABLES_SET="set %1 to %2",n.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",n.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",n.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",n.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER="A variable named '%1' already exists as a parameter in the procedure '%2'.",n.Msg.WINDOWS="Windows",n.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",n.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",n.Msg.CONTROLS_FOREACH_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_FOR_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=n.Msg.CONTROLS_IF_MSG_ELSEIF,n.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=n.Msg.CONTROLS_IF_MSG_ELSE,n.Msg.CONTROLS_IF_IF_TITLE_IF=n.Msg.CONTROLS_IF_MSG_IF,n.Msg.CONTROLS_IF_MSG_THEN=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.LISTS_CREATE_WITH_ITEM_TITLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.MATH_CHANGE_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.PROCEDURES_DEFRETURN_COMMENT=n.Msg.PROCEDURES_DEFNORETURN_COMMENT,n.Msg.PROCEDURES_DEFRETURN_DO=n.Msg.PROCEDURES_DEFNORETURN_DO,n.Msg.PROCEDURES_DEFRETURN_PROCEDURE=n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,n.Msg.PROCEDURES_DEFRETURN_TITLE=n.Msg.PROCEDURES_DEFNORETURN_TITLE,n.Msg.TEXT_APPEND_VARIABLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.COLOUR_HUE="20",n.Msg.LISTS_HUE="260",n.Msg.LOGIC_HUE="210",n.Msg.LOOPS_HUE="120",n.Msg.MATH_HUE="230",n.Msg.PROCEDURES_HUE="290",n.Msg.TEXTS_HUE="160",n.Msg.VARIABLES_DYNAMIC_HUE="310",n.Msg.VARIABLES_HUE="330",n.Msg})})(m5)),m5.exports}var g5={exports:{}},db=g5.exports,n8;function fb(){return n8||(n8=1,(function(r,o){(function(n,a){r.exports=a(O5())})(db,function(n){var a=n.__namespace__,h=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),p={customContextMenu:function(N){if(this.isInFlyout)(this.type==="variables_get_dynamic"||this.type==="variables_get_reporter_dynamic")&&(De={text:a.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:$(this)},Re=this.getField("VAR").getText(),Re={text:a.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",Re),enabled:!0,callback:_(this)},N.unshift(De),N.unshift(Re));else{if(this.type==="variables_get_dynamic")var ue="variables_set_dynamic",De=a.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else ue="variables_get_dynamic",De=a.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var Re=this.getField("VAR");ue={type:ue,fields:{VAR:Re.saveState(!0)}},N.push({enabled:this.workspace.remainingCapacity()>0,text:De.replace("%1",Re.getText()),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,ue)})}},onchange:function(N){N=this.getFieldValue("VAR"),N=a.getVariable$$module$build$src$core$variables(this.workspace,N),this.type==="variables_get_dynamic"?this.outputConnection.setCheck(N.getType()):this.getInput("VALUE").connection.setCheck(N.getType())}},$=function(N){return function(){const ue=N.workspace,De=N.getField("VAR").getVariable();a.renameVariable$$module$build$src$core$variables(ue,De)}},_=function(N){return function(){const ue=N.getField("VAR").getVariable();ue&&a.deleteVariable$$module$build$src$core$variables(ue.getWorkspace(),ue,N)}};a.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter",p),a.defineBlocks$$module$build$src$core$common(h);var T={blocks:h},E=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),w={customContextMenu:function(N){if(this.isInFlyout)(this.type==="variables_get"||this.type==="variables_get_reporter")&&(De={text:a.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:A(this)},Re=this.getField("VAR").getText(),Re={text:a.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",Re),enabled:!0,callback:z(this)},N.unshift(De),N.unshift(Re));else{if(this.type==="variables_get")var ue="variables_set",De=a.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else ue="variables_get",De=a.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var Re=this.getField("VAR");ue={type:ue,fields:{VAR:Re.saveState(!0)}},N.push({enabled:this.workspace.remainingCapacity()>0,text:De.replace("%1",Re.getText()),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,ue)})}}},A=function(N){return function(){const ue=N.workspace,De=N.getField("VAR").getVariable();a.renameVariable$$module$build$src$core$variables(ue,De)}},z=function(N){return function(){const ue=N.getField("VAR").getVariable();ue&&a.deleteVariable$$module$build$src$core$variables(ue.getWorkspace(),ue,N)}};a.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter",w),a.defineBlocks$$module$build$src$core$common(E);var B={blocks:E},Z=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),ce={init:function(){this.WHERE_OPTIONS_1=[[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);const N=ue=>{const De=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+ue]});return De.setValidator(function(Re){const Dt=this.getValue();Re=Re==="FROM_START"||Re==="FROM_END",Re!==(Dt==="FROM_START"||Dt==="FROM_END")&&this.getSourceBlock().updateAt_(ue,Re)}),De};this.appendDummyInput("WHERE1_INPUT").appendField(N(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(N(2),"WHERE2"),this.appendDummyInput("AT2"),a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const N=a.createElement$$module$build$src$core$utils$xml("mutation");var ue=this.getInput("AT1")instanceof a.ValueInput$$module$build$src$core$inputs$value_input;return N.setAttribute("at1",`${ue}`),ue=this.getInput("AT2")instanceof a.ValueInput$$module$build$src$core$inputs$value_input,N.setAttribute("at2",`${ue}`),N},domToMutation:function(N){const ue=N.getAttribute("at1")==="true";N=N.getAttribute("at2")==="true",this.updateAt_(1,ue),this.updateAt_(2,N)},updateAt_:function(N,ue){this.removeInput("AT"+N),this.removeInput("ORDINAL"+N,!0),ue?(this.appendValueInput("AT"+N).setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+N).appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+N),N===2&&a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL)),N===1&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT"))}};Z.text_getSubstring=ce,Z.text_changeCase={init:function(){const N=[[a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:N}),"CASE"),this.setOutput(!0,"String"),this.setTooltip(a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}},Z.text_trim={init:function(){const N=[[a.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[a.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[a.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:N}),"MODE"),this.setOutput(!0,"String"),this.setTooltip(a.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}},Z.text_print={init:function(){this.jsonInit({message0:a.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:a.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:a.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};var oe={updateType_:function(N){this.outputConnection.setCheck(N==="NUMBER"?"Number":"String")},mutationToDom:function(){const N=a.createElement$$module$build$src$core$utils$xml("mutation");return N.setAttribute("type",this.getFieldValue("TYPE")),N},domToMutation:function(N){this.updateType_(N.getAttribute("type"))}};Z.text_prompt_ext=Object.assign({},oe,{init:function(){var N=[[a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),N=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:N}),N.setValidator(ue=>{this.updateType_(ue)}),this.appendValueInput("TEXT").appendField(N,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),Z.text_prompt=Object.assign({},oe,{init:function(){this.mixin(j);var N=[[a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),N=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:N}),N.setValidator(ue=>{this.updateType_(ue)}),this.appendDummyInput().appendField(N,"TYPE").appendField(this.newQuote_(!0)).appendField(a.fromJson$$module$build$src$core$field_registry({type:"field_input",text:""}),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),Z.text_count={init:function(){this.jsonInit({message0:a.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:a.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:a.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}},Z.text_replace={init:function(){this.jsonInit({message0:a.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:a.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:a.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}},Z.text_reverse={init:function(){this.jsonInit({message0:a.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:a.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:a.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};var j={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(N){for(let ue=0,De;De=this.inputList[ue];ue++)for(let Re=0,Dt;Dt=De.fieldRow[Re];Re++)if(N===Dt.name){De.insertFieldAt(Re,this.newQuote_(!0)),De.insertFieldAt(Re+2,this.newQuote_(!1));return}console.warn('field named "'+N+'" not found in '+this.toDevString())},newQuote_:function(N){return N=this.RTL?!N:N,a.fromJson$$module$build$src$core$field_registry({type:"field_image",src:N?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,height:this.QUOTE_IMAGE_HEIGHT,alt:N?"":""})}},ie=function(){this.mixin(j),this.quoteField_("TEXT")},be={itemCount_:0,mutationToDom:function(){const N=a.createElement$$module$build$src$core$utils$xml("mutation");return N.setAttribute("items",`${this.itemCount_}`),N},domToMutation:function(N){this.itemCount_=parseInt(N.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(N){this.itemCount_=N.itemCount,this.updateShape_()},decompose:function(N){const ue=N.newBlock("text_create_join_container");ue.initSvg();let De=ue.getInput("STACK").connection;for(let Re=0;Re<this.itemCount_;Re++){const Dt=N.newBlock("text_create_join_item");Dt.initSvg(),De.connect(Dt.previousConnection),De=Dt.nextConnection}return ue},compose:function(N){var ue=N.getInputTargetBlock("STACK");for(N=[];ue;)ue.isInsertionMarker()||N.push(ue.valueConnection_),ue=ue.getNextBlock();for(ue=0;ue<this.itemCount_;ue++){const De=this.getInput("ADD"+ue).connection.targetConnection;De&&!N.includes(De)&&De.disconnect()}for(this.itemCount_=N.length,this.updateShape_(),ue=0;ue<this.itemCount_;ue++){let De;(De=N[ue])==null||De.reconnect(this,"ADD"+ue)}},saveConnections:function(N){N=N.getInputTargetBlock("STACK");let ue=0;for(;N;){if(N.isInsertionMarker()){N=N.getNextBlock();continue}const De=this.getInput("ADD"+ue);N.valueConnection_=De&&De.connection.targetConnection,N=N.getNextBlock(),ue++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var N=0;N<this.itemCount_;N++)if(!this.getInput("ADD"+N)){const ue=this.appendValueInput("ADD"+N).setAlign(a.Align$$module$build$src$core$inputs$align.RIGHT);N===0&&ue.appendField(a.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(N=this.itemCount_;this.getInput("ADD"+N);N++)this.removeInput("ADD"+N)}},Ie=function(){this.mixin(j),this.itemCount_=2,this.updateShape_(),this.setMutator(new a.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"],this))};a.register$$module$build$src$core$extensions("text_append_tooltip",a.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var Ge=function(){this.setTooltip(()=>a.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))},Te={isAt_:!1,mutationToDom:function(){const N=a.createElement$$module$build$src$core$utils$xml("mutation");return N.setAttribute("at",`${this.isAt_}`),N},domToMutation:function(N){N=N.getAttribute("at")!=="false",this.updateAt_(N)},updateAt_:function(N){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),N&&(this.appendValueInput("AT").setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)),a.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL)),this.isAt_=N}},We=function(){this.getField("WHERE").setValidator(function(N){N=N==="FROM_START"||N==="FROM_END";const ue=this.getSourceBlock();N!==ue.isAt_&&ue.updateAt_(N)}),this.updateAt_(!0),this.setTooltip(()=>{var N=this.getFieldValue("WHERE");let ue=a.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;return(N==="FROM_START"||N==="FROM_END")&&(N=N==="FROM_START"?a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(ue+="  "+N.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),ue})};a.register$$module$build$src$core$extensions("text_indexOf_tooltip",Ge),a.register$$module$build$src$core$extensions("text_quotes",ie),a.registerMixin$$module$build$src$core$extensions("quote_image_mixin",j),a.registerMutator$$module$build$src$core$extensions("text_join_mutator",be,Ie),a.registerMutator$$module$build$src$core$extensions("text_charAt_mutator",Te,We),a.defineBlocks$$module$build$src$core$common(Z);var lt={blocks:Z},Je={},Xe={setStatements_:function(N){this.hasStatements_!==N&&(N?(this.appendStatementInput("STACK").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=N)},updateParams_:function(){let N="";this.arguments_.length&&(N=a.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),a.disable$$module$build$src$core$events$utils();try{this.setFieldValue(N,"PARAMS")}finally{a.enable$$module$build$src$core$events$utils()}},mutationToDom:function(N){const ue=a.createElement$$module$build$src$core$utils$xml("mutation");N&&ue.setAttribute("name",this.getFieldValue("NAME"));for(let De=0;De<this.argumentVarModels_.length;De++){const Re=a.createElement$$module$build$src$core$utils$xml("arg"),Dt=this.argumentVarModels_[De];Re.setAttribute("name",Dt.getName()),Re.setAttribute("varid",Dt.getId()),N&&this.paramIds_&&Re.setAttribute("paramId",this.paramIds_[De]),ue.appendChild(Re)}return this.hasStatements_||ue.setAttribute("statements","false"),ue},domToMutation:function(N){this.arguments_=[],this.argumentVarModels_=[];for(let De=0,Re;Re=N.childNodes[De];De++)if(Re.nodeName.toLowerCase()==="arg"){var ue=Re;const Dt=ue.getAttribute("name");ue=ue.getAttribute("varid")||ue.getAttribute("varId"),this.arguments_.push(Dt),ue=a.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,ue,Dt,""),ue!==null?this.argumentVarModels_.push(ue):console.log(`Failed to create a variable named "${Dt}", ignoring.`)}this.updateParams_(),a.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(N.getAttribute("statements")!=="false")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const N=Object.create(null);if(this.argumentVarModels_.length){N.params=[];for(let ue=0;ue<this.argumentVarModels_.length;ue++)N.params.push({name:this.argumentVarModels_[ue].getName(),id:this.argumentVarModels_[ue].getId()})}return this.hasStatements_||(N.hasStatements=!1),N},loadExtraState:function(N){if(this.arguments_=[],this.argumentVarModels_=[],N.params)for(let De=0;De<N.params.length;De++){var ue=N.params[De];ue=a.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,ue.id,ue.name,""),this.arguments_.push(ue.getName()),this.argumentVarModels_.push(ue)}this.updateParams_(),a.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(N.hasStatements!==!1)},decompose:function(N){const ue=a.createElement$$module$build$src$core$utils$xml("block");ue.setAttribute("type","procedures_mutatorcontainer");var De=a.createElement$$module$build$src$core$utils$xml("statement");De.setAttribute("name","STACK"),ue.appendChild(De);for(let Dt=0;Dt<this.arguments_.length;Dt++){const Cn=a.createElement$$module$build$src$core$utils$xml("block");Cn.setAttribute("type","procedures_mutatorarg");var Re=a.createElement$$module$build$src$core$utils$xml("field");Re.setAttribute("name","NAME");const Qr=a.createTextNode$$module$build$src$core$utils$xml(this.arguments_[Dt]);Re.appendChild(Qr),Cn.appendChild(Re),Re=a.createElement$$module$build$src$core$utils$xml("next"),Cn.appendChild(Re),De.appendChild(Cn),De=Re}return N=a.domToBlock$$module$build$src$core$xml(ue,N),this.type==="procedures_defreturn"?N.setFieldValue(this.hasStatements_,"STATEMENTS"):N.removeInput("STATEMENT_INPUT"),a.mutateCallers$$module$build$src$core$procedures(this),N},compose:function(N){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let ue=N.getInputTargetBlock("STACK");for(;ue&&!ue.isInsertionMarker();){var De=ue.getFieldValue("NAME");this.arguments_.push(De),De=this.workspace.getVariable(De,""),this.argumentVarModels_.push(De),this.paramIds_.push(ue.id),ue=ue.nextConnection&&ue.nextConnection.targetBlock()}if(this.updateParams_(),a.mutateCallers$$module$build$src$core$procedures(this),N=N.getFieldValue("STATEMENTS"),N!==null&&(N=N==="TRUE",this.hasStatements_!==N))if(N){this.setStatements_(!0);var Re;(Re=this.statementConnection_)==null||Re.reconnect(this,"STACK"),this.statementConnection_=null}else Re=this.getInput("STACK").connection,(this.statementConnection_=Re.targetConnection)&&(Re=Re.targetBlock(),Re.unplug(),Re.bumpNeighbours()),this.setStatements_(!1)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(N,ue){var De=this.workspace.getVariableById(N);if(De.getType()===""){De=De.getName(),ue=this.workspace.getVariableById(ue);var Re=!1;for(let Dt=0;Dt<this.argumentVarModels_.length;Dt++)this.argumentVarModels_[Dt].getId()===N&&(this.arguments_[Dt]=ue.getName(),this.argumentVarModels_[Dt]=ue,Re=!0);Re&&(this.displayRenamedVar_(De,ue.getName()),a.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(N){const ue=N.getName();let De=!1,Re;for(let Dt=0;Dt<this.argumentVarModels_.length;Dt++)this.argumentVarModels_[Dt].getId()===N.getId()&&(Re=this.arguments_[Dt],this.arguments_[Dt]=ue,De=!0);De&&(this.displayRenamedVar_(Re,ue),a.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(N,ue){this.updateParams_();var De=this.getIcon(a.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(De&&De.bubbleIsVisible()){De=De.getWorkspace().getAllBlocks(!1);for(let Re=0,Dt;Dt=De[Re];Re++)Dt.type==="procedures_mutatorarg"&&a.Names$$module$build$src$core$names.equals(N,Dt.getFieldValue("NAME"))&&Dt.setFieldValue(ue,"NAME")}},customContextMenu:function(N){if(!this.isInFlyout){var ue=this.getFieldValue("NAME"),De={type:this.callType_,extraState:{name:ue,params:this.arguments_}};if(N.push({enabled:!0,text:a.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1",ue),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,De)}),!this.isCollapsed())for(ue=0;ue<this.argumentVarModels_.length;ue++){De=this.argumentVarModels_[ue];const Re={type:"variables_get",fields:{VAR:{name:De.getName(),id:De.getId(),type:De.getType()}}};N.push({enabled:!0,text:a.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",De.getName()),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,Re)})}}}};Je.procedures_defnoreturn=Object.assign({},Xe,{init:function(){var N=a.findLegalName$$module$build$src$core$procedures("",this);N=a.fromJson$$module$build$src$core$field_registry({type:"field_input",text:N}),N.setValidator(a.rename$$module$build$src$core$procedures),N.setSpellcheck(!1),this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(N,"NAME").appendField("","PARAMS"),this.setMutator(new a.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),Je.procedures_defreturn=Object.assign({},Xe,{init:function(){var N=a.findLegalName$$module$build$src$core$procedures("",this);N=a.fromJson$$module$build$src$core$field_registry({type:"field_input",text:N}),N.setValidator(a.rename$$module$build$src$core$procedures),N.setSpellcheck(!1),this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(N,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(a.Align$$module$build$src$core$inputs$align.RIGHT).appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new a.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"});var Pt={init:function(){this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField(a.fromJson$$module$build$src$core$field_registry({type:"field_checkbox",checked:!0}),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}};Je.procedures_mutatorcontainer=Pt;var He=class extends a.FieldTextInput$$module$build$src$core$field_textinput{constructor(){super(...arguments),this.editingInteractively=!1}showEditor_(N){super.showEditor_(N),this.editingInteractively=!0,this.editingVariable=void 0}onFinishEditing_(N){super.onFinishEditing_(N),this.editingInteractively=!1}},Lt={init:function(){const N=new He(a.DEFAULT_ARG$$module$build$src$core$procedures,this.validator_);this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(N,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1},validator_:function(N){var ue=this.getSourceBlock();const De=ue.workspace.getRootWorkspace();if(N=N.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!N)return null;const Re=(ue.workspace.targetWorkspace||ue.workspace).getAllBlocks(!1),Dt=N.toLowerCase();for(let Cn=0;Cn<Re.length;Cn++){if(Re[Cn].id===this.getSourceBlock().id)continue;const Qr=Re[Cn].getFieldValue("NAME");if(Qr&&Qr.toLowerCase()===Dt)return null}return ue.isInFlyout||((ue=De.getVariable(N,""))&&ue.getName()!==N&&De.renameVariableById(ue.getId(),N),ue||(this.editingInteractively?this.editingVariable?De.renameVariableById(this.editingVariable.getId(),N):this.editingVariable=De.createVariable(N,""):De.createVariable(N,""))),N}};Je.procedures_mutatorarg=Lt;var yt="DISABLED_PROCEDURE_DEFINITION",rt={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(N,ue){a.Names$$module$build$src$core$names.equals(N,this.getProcedureCall())&&(this.setFieldValue(ue,"NAME"),this.setTooltip((this.outputConnection?a.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:a.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",ue)))},setProcedureParameters_:function(N,ue){var De=a.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);if((De=(De=De&&De.getIcon(a.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&De.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),N.join(`
`)===this.arguments_.join(`
`))this.quarkIds_=ue;else{if(ue.length!==N.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);for(let Dt=0;Dt<this.arguments_.length;Dt++){var Re=this.getInput("ARG"+Dt);Re&&(Re=Re.connection.targetConnection,this.quarkConnections_[this.quarkIds_[Dt]]=Re,De&&Re&&!ue.includes(this.quarkIds_[Dt])&&(Re.disconnect(),Re.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(N),this.argumentVarModels_=[],N=0;N<this.arguments_.length;N++)De=a.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[N],""),this.argumentVarModels_.push(De);if(this.updateShape_(),this.quarkIds_=ue){for(ue=0;ue<this.arguments_.length;ue++)if(N=this.quarkIds_[ue],N in this.quarkConnections_){let Dt;(Dt=this.quarkConnections_[N])!=null&&Dt.reconnect(this,"ARG"+ue)||delete this.quarkConnections_[N]}}}},updateShape_:function(){for(var N=0;N<this.arguments_.length;N++){var ue=this.getField("ARGNAME"+N);if(ue){a.disable$$module$build$src$core$events$utils();try{ue.setValue(this.arguments_[N])}finally{a.enable$$module$build$src$core$events$utils()}}else ue=a.fromJson$$module$build$src$core$field_registry({type:"field_label",text:this.arguments_[N]}),this.appendValueInput("ARG"+N).setAlign(a.Align$$module$build$src$core$inputs$align.RIGHT).appendField(ue,"ARGNAME"+N)}for(N=this.arguments_.length;this.getInput("ARG"+N);N++)this.removeInput("ARG"+N);(N=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||N.appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"):this.getField("WITH")&&N.removeField("WITH"))},mutationToDom:function(){const N=a.createElement$$module$build$src$core$utils$xml("mutation");N.setAttribute("name",this.getProcedureCall());for(let ue=0;ue<this.arguments_.length;ue++){const De=a.createElement$$module$build$src$core$utils$xml("arg");De.setAttribute("name",this.arguments_[ue]),N.appendChild(De)}return N},domToMutation:function(N){var ue=N.getAttribute("name");this.renameProcedure(this.getProcedureCall(),ue),ue=[];const De=[];for(let Re=0,Dt;Dt=N.childNodes[Re];Re++)Dt.nodeName.toLowerCase()==="arg"&&(ue.push(Dt.getAttribute("name")),De.push(Dt.getAttribute("paramId")));this.setProcedureParameters_(ue,De)},saveExtraState:function(){const N=Object.create(null);return N.name=this.getProcedureCall(),this.arguments_.length&&(N.params=this.arguments_),N},loadExtraState:function(N){if(this.renameProcedure(this.getProcedureCall(),N.name),N=N.params){const ue=[];ue.length=N.length,ue.fill(null),this.setProcedureParameters_(N,ue)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(N){if(this.workspace&&!this.workspace.isFlyout&&N.recordUndo)if(N.type===a.BLOCK_CREATE$$module$build$src$core$events$events&&N.ids.includes(this.id)){var ue=this.getProcedureCall(),De=a.getDefinition$$module$build$src$core$procedures(ue,this.workspace);if(!De||De.type===this.defType_&&JSON.stringify(De.getVars())===JSON.stringify(this.arguments_)||(De=null),De)De.isEnabled()||(this.setDisabledReason(!0,yt),this.setWarningText(a.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",ue)));else{a.setGroup$$module$build$src$core$events$utils(N.group),N=a.createElement$$module$build$src$core$utils$xml("xml"),ue=a.createElement$$module$build$src$core$utils$xml("block"),ue.setAttribute("type",this.defType_),De=this.getRelativeToSurfaceXY();var Re=De.y+a.config$$module$build$src$core$config.snapRadius*2;ue.setAttribute("x",`${De.x+a.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`),ue.setAttribute("y",`${Re}`),De=this.mutationToDom(),ue.appendChild(De),De=a.createElement$$module$build$src$core$utils$xml("field"),De.setAttribute("name","NAME"),Re=this.getProcedureCall();const Dt=a.findLegalName$$module$build$src$core$procedures(Re,this);Re!==Dt&&this.renameProcedure(Re,Dt),De.appendChild(a.createTextNode$$module$build$src$core$utils$xml(Re)),ue.appendChild(De),N.appendChild(ue),a.domToWorkspace$$module$build$src$core$xml(N,this.workspace),a.setGroup$$module$build$src$core$events$utils(!1)}}else N.type===a.BLOCK_DELETE$$module$build$src$core$events$events?(ue=this.getProcedureCall(),a.getDefinition$$module$build$src$core$procedures(ue,this.workspace)||(a.setGroup$$module$build$src$core$events$utils(N.group),this.dispose(!0),a.setGroup$$module$build$src$core$events$utils(!1))):N.type===a.BLOCK_CHANGE$$module$build$src$core$events$events&&N.element==="disabled"&&(ue=this.getProcedureCall(),(Re=a.getDefinition$$module$build$src$core$procedures(ue,this.workspace))&&Re.id===N.blockId&&((De=a.getGroup$$module$build$src$core$events$utils())&&console.log("Saw an existing group while responding to a definition change"),a.setGroup$$module$build$src$core$events$utils(N.group),N=Re.isEnabled(),this.setDisabledReason(!N,yt),this.setWarningText(N?null:a.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",ue)),a.setGroup$$module$build$src$core$events$utils(De)))},customContextMenu:function(N){if(this.workspace.isMovable()){var ue=this.getProcedureCall(),De=this.workspace;N.push({enabled:!0,text:a.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const Re=a.getDefinition$$module$build$src$core$procedures(ue,De);Re&&(De.centerOnBlock(Re.id),a.getFocusManager$$module$build$src$core$focus_manager().focusNode(Re))}})}}};Je.procedures_callnoreturn=Object.assign({},rt,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defnoreturn"}),Je.procedures_callreturn=Object.assign({},rt,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defreturn"});var Ze="UNPARENTED_IFRETURN",$t={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(a.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){const N=a.createElement$$module$build$src$core$utils$xml("mutation");return N.setAttribute("value",String(Number(this.hasReturnValue_))),N},domToMutation:function(N){this.hasReturnValue_=N.getAttribute("value")==="1",this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(N){if(!(this.workspace.isDragging&&this.workspace.isDragging()||N.type!==a.BLOCK_MOVE$$module$build$src$core$events$events&&N.type!==a.BLOCK_CREATE$$module$build$src$core$events$events)){N=!1;var ue=this;do{if(this.FUNCTION_TYPES.includes(ue.type)){N=!0;break}ue=ue.getSurroundParent()}while(ue);if(N?(ue.type==="procedures_defnoreturn"&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):ue.type!=="procedures_defreturn"||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(a.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING),!this.isInFlyout)try{a.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!N,Ze)}finally{a.setRecordUndo$$module$build$src$core$events$utils(!0)}}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};Je.procedures_ifreturn=$t,a.defineBlocks$$module$build$src$core$common(Je);var ft={blocks:Je},It=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["","PI"],["e","E"],["","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt()","SQRT1_2"],["","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),le={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};a.register$$module$build$src$core$extensions("math_op_tooltip",a.buildTooltipForDropdown$$module$build$src$core$extensions("OP",le));var Be={mutationToDom:function(){const N=a.createElement$$module$build$src$core$utils$xml("mutation"),ue=this.getFieldValue("PROPERTY")==="DIVISIBLE_BY";return N.setAttribute("divisor_input",String(ue)),N},domToMutation:function(N){N=N.getAttribute("divisor_input")==="true",this.updateShape_(N)},updateShape_:function(N){const ue=this.getInput("DIVISOR");N?ue||this.appendValueInput("DIVISOR").setCheck("Number"):ue&&this.removeInput("DIVISOR")}},ct=function(){this.getField("PROPERTY").setValidator(function(N){N=N==="DIVISIBLE_BY",this.getSourceBlock().updateShape_(N)})};a.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator",Be,ct),a.register$$module$build$src$core$extensions("math_change_tooltip",a.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var ke={updateType_:function(N){N==="MODE"?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){const N=a.createElement$$module$build$src$core$utils$xml("mutation");return N.setAttribute("op",this.getFieldValue("OP")),N},domToMutation:function(N){if(N=N.getAttribute("op"),N===null)throw new TypeError("xmlElement had no op attribute");this.updateType_(N)}},Zt=function(){this.getField("OP").setValidator((function(N){this.updateType_(N)}).bind(this))};a.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator",ke,Zt),a.defineBlocks$$module$build$src$core$common(It);var Ot={blocks:It},sn=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),yn={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};a.register$$module$build$src$core$extensions("controls_whileUntil_tooltip",a.buildTooltipForDropdown$$module$build$src$core$extensions("MODE",yn));var hr={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};a.register$$module$build$src$core$extensions("controls_flow_tooltip",a.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW",hr));var Yn={customContextMenu:function(N){if(!this.isInFlyout){var ue=this.getField("VAR"),De=ue.getVariable().getName();this.isCollapsed()||De===null||(ue={type:"variables_get",fields:{VAR:ue.saveState(!0)}},N.push({enabled:!0,text:a.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",De),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,ue)}))}}};a.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock",Yn),a.register$$module$build$src$core$extensions("controls_for_tooltip",a.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),a.register$$module$build$src$core$extensions("controls_forEach_tooltip",a.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));var an=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]),Xn="CONTROL_FLOW_NOT_IN_LOOP",dt={getSurroundLoop:function(){let N=this;do{if(an.has(N.type))return N;N=N.getSurroundParent()}while(N);return null},onchange:function(N){const ue=this.workspace;if(ue.isDragging&&!ue.isDragging()&&(N.type===a.BLOCK_MOVE$$module$build$src$core$events$events||N.type===a.BLOCK_CREATE$$module$build$src$core$events$events)&&(N=!!this.getSurroundLoop(),this.setWarningText(N?null:a.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout))try{a.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!N,Xn)}finally{a.setRecordUndo$$module$build$src$core$events$utils(!0)}}};a.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check",dt),a.defineBlocks$$module$build$src$core$common(sn);var tn={blocks:sn,loopTypes:an},Wr=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["","NEQ"],["<","LT"],["","LTE"],[">","GT"],["","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),Zn={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};a.register$$module$build$src$core$extensions("logic_op_tooltip",a.buildTooltipForDropdown$$module$build$src$core$extensions("OP",Zn));var pr={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const N=a.createElement$$module$build$src$core$utils$xml("mutation");return this.elseifCount_&&N.setAttribute("elseif",String(this.elseifCount_)),this.elseCount_&&N.setAttribute("else","1"),N},domToMutation:function(N){this.elseifCount_=parseInt(N.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(N.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const N=Object.create(null);return this.elseifCount_&&(N.elseIfCount=this.elseifCount_),this.elseCount_&&(N.hasElse=!0),N},loadExtraState:function(N){this.elseifCount_=N.elseIfCount||0,this.elseCount_=N.hasElse?1:0,this.updateShape_()},decompose:function(N){const ue=N.newBlock("controls_if_if");ue.initSvg();let De=ue.nextConnection;for(let Re=1;Re<=this.elseifCount_;Re++){const Dt=N.newBlock("controls_if_elseif");Dt.initSvg(),De.connect(Dt.previousConnection),De=Dt.nextConnection}return this.elseCount_&&(N=N.newBlock("controls_if_else"),N.initSvg(),De.connect(N.previousConnection)),ue},compose:function(N){N=N.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;const ue=[null],De=[null];let Re=null;for(;N;){if(!N.isInsertionMarker())switch(N.type){case"controls_if_elseif":this.elseifCount_++,ue.push(N.valueConnection_),De.push(N.statementConnection_);break;case"controls_if_else":this.elseCount_++,Re=N.statementConnection_;break;default:throw TypeError("Unknown block type: "+N.type)}N=N.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(ue,De,Re)},saveConnections:function(N){N=N.nextConnection.targetBlock();let ue=1;for(;N;){if(!N.isInsertionMarker())switch(N.type){case"controls_if_elseif":var De=this.getInput("IF"+ue);const Re=this.getInput("DO"+ue);N.valueConnection_=De&&De.connection.targetConnection,N.statementConnection_=Re&&Re.connection.targetConnection,ue++;break;case"controls_if_else":De=this.getInput("ELSE"),N.statementConnection_=De&&De.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+N.type)}N=N.getNextBlock()}},rebuildShape_:function(){const N=[null],ue=[null];let De=null;this.getInput("ELSE")&&(De=this.getInput("ELSE").connection.targetConnection);for(let Re=1;this.getInput("IF"+Re);Re++){const Dt=this.getInput("IF"+Re),Cn=this.getInput("DO"+Re);N.push(Dt.connection.targetConnection),ue.push(Cn.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(N,ue,De)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var N=1;this.getInput("IF"+N);N++)this.removeInput("IF"+N),this.removeInput("DO"+N);for(N=1;N<=this.elseifCount_;N++)this.appendValueInput("IF"+N).setCheck("Boolean").appendField(a.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+N).appendField(a.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(a.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(N,ue,De){for(let Re=1;Re<=this.elseifCount_;Re++){let Dt;(Dt=N[Re])==null||Dt.reconnect(this,"IF"+Re);let Cn;(Cn=ue[Re])==null||Cn.reconnect(this,"DO"+Re)}De?.reconnect(this,"ELSE")}};a.registerMutator$$module$build$src$core$extensions("controls_if_mutator",pr,null,["controls_if_elseif","controls_if_else"]);var on=function(){this.setTooltip((function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return a.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return a.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return a.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return a.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;return""}).bind(this))};a.register$$module$build$src$core$extensions("controls_if_tooltip",on);var Ei={onchange:function(N){this.prevBlocks_||(this.prevBlocks_=[null,null]);var ue=this.getInputTargetBlock("A");const De=this.getInputTargetBlock("B");ue&&De&&!this.workspace.connectionChecker.doTypeChecks(ue.outputConnection,De.outputConnection)&&(a.setGroup$$module$build$src$core$events$utils(N.group),N=this.prevBlocks_[0],N!==ue&&(ue.unplug(),!N||N.isDisposed()||N.isShadow()||this.getInput("A").connection.connect(N.outputConnection)),ue=this.prevBlocks_[1],ue!==De&&(De.unplug(),!ue||ue.isDisposed()||ue.isShadow()||this.getInput("B").connection.connect(ue.outputConnection)),this.bumpNeighbours(),a.setGroup$$module$build$src$core$events$utils(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},Fi=function(){this.mixin(Ei)};a.register$$module$build$src$core$extensions("logic_compare",Fi);var Qn={prevParentConnection_:null,onchange:function(N){const ue=this.getInputTargetBlock("THEN"),De=this.getInputTargetBlock("ELSE"),Re=this.outputConnection.targetConnection;if((ue||De)&&Re)for(let Dt=0;Dt<2;Dt++){const Cn=Dt===1?ue:De;Cn&&!Cn.workspace.connectionChecker.doTypeChecks(Cn.outputConnection,Re)&&(a.setGroup$$module$build$src$core$events$utils(N.group),Re===this.prevParentConnection_?(this.unplug(),Re.getSourceBlock().bumpNeighbours()):(Cn.unplug(),Cn.bumpNeighbours()),a.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=Re}};a.registerMixin$$module$build$src$core$extensions("logic_ternary",Qn),a.defineBlocks$$module$build$src$core$common(Wr);var ss={blocks:Wr},yi=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),sr={init:function(){this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new a.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"],this)),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const N=a.createElement$$module$build$src$core$utils$xml("mutation");return N.setAttribute("items",String(this.itemCount_)),N},domToMutation:function(N){if(N=N.getAttribute("items"),!N)throw new TypeError("element did not have items");this.itemCount_=parseInt(N,10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(N){this.itemCount_=N.itemCount,this.updateShape_()},decompose:function(N){const ue=N.newBlock("lists_create_with_container");ue.initSvg();let De=ue.getInput("STACK").connection;for(let Re=0;Re<this.itemCount_;Re++){const Dt=N.newBlock("lists_create_with_item");if(Dt.initSvg(),!Dt.previousConnection)throw Error("itemBlock has no previousConnection");De.connect(Dt.previousConnection),De=Dt.nextConnection}return ue},compose:function(N){var ue=N.getInputTargetBlock("STACK");for(N=[];ue;)ue.isInsertionMarker()||N.push(ue.valueConnection_),ue=ue.getNextBlock();for(ue=0;ue<this.itemCount_;ue++){const De=this.getInput("ADD"+ue).connection.targetConnection;De&&!N.includes(De)&&De.disconnect()}for(this.itemCount_=N.length,this.updateShape_(),ue=0;ue<this.itemCount_;ue++){let De;(De=N[ue])==null||De.reconnect(this,"ADD"+ue)}},saveConnections:function(N){N=N.getInputTargetBlock("STACK");let ue=0;for(;N;){if(N.isInsertionMarker()){N=N.getNextBlock();continue}const De=this.getInput("ADD"+ue);let Re;N.valueConnection_=(Re=De)==null?void 0:Re.connection.targetConnection,N=N.getNextBlock(),ue++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(a.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var N=0;N<this.itemCount_;N++)if(!this.getInput("ADD"+N)){const ue=this.appendValueInput("ADD"+N).setAlign(a.Align$$module$build$src$core$inputs$align.RIGHT);N===0&&ue.appendField(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(N=this.itemCount_;this.getInput("ADD"+N);N++)this.removeInput("ADD"+N)}};yi.lists_create_with=sr;var Vn={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}};yi.lists_create_with_container=Vn;var U={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}};yi.lists_create_with_item=U;var ne={init:function(){var N=[[a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,"FIRST"],[a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,"LAST"]];if(this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST),N=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:N}),!N)throw Error("field_dropdown not found");this.appendValueInput("FIND").appendField(N,"END"),this.setInputsInline(!0),this.setTooltip(()=>a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))}};yi.lists_indexOf=ne;var Ce={init:function(){var N=[[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,"GET"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),N=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:N}),N.setValidator(function(ue){ue=ue==="REMOVE",this.getSourceBlock().updateStatement_(ue)}),this.appendValueInput("VALUE").setCheck("Array").appendField(a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(N,"MODE").appendField("","SPACE"),N=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS}),N.setValidator(function(ue){const De=this.getValue();ue=ue==="FROM_START"||ue==="FROM_END",ue!==(De==="FROM_START"||De==="FROM_END")&&this.getSourceBlock().updateAt_(ue)}),this.appendDummyInput().appendField(N,"WHERE"),this.appendDummyInput("AT"),a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0),this.setTooltip(()=>{const ue=this.getFieldValue("MODE"),De=this.getFieldValue("WHERE");let Re="";switch(ue+" "+De){case"GET FROM_START":case"GET FROM_END":Re=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":Re=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":Re=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":Re=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":Re=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":Re=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":Re=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":Re=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":Re=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":Re=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":Re=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":Re=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return(De==="FROM_START"||De==="FROM_END")&&(Re+="  "+(De==="FROM_START"?a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),Re})},mutationToDom:function(){const N=a.createElement$$module$build$src$core$utils$xml("mutation");N.setAttribute("statement",String(!this.outputConnection));const ue=this.getInput("AT")instanceof a.ValueInput$$module$build$src$core$inputs$value_input;return N.setAttribute("at",String(ue)),N},domToMutation:function(N){const ue=N.getAttribute("statement")==="true";this.updateStatement_(ue),N=N.getAttribute("at")!=="false",this.updateAt_(N)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(N){N.isStatement?this.updateStatement_(!0):typeof N=="string"&&this.domToMutation(a.textToDom$$module$build$src$core$utils$xml(N))},updateStatement_:function(N){N!==!this.outputConnection&&(this.unplug(!0,!0),N?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(N){this.removeInput("AT"),this.removeInput("ORDINAL",!0),N?(this.appendValueInput("AT").setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};yi.lists_getIndex=Ce;var Le={init:function(){var N=[[a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,"SET"],[a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST),N=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:N}),this.appendDummyInput().appendField(N,"MODE").appendField("","SPACE"),N=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS}),N.setValidator(function(ue){const De=this.getValue();ue=ue==="FROM_START"||ue==="FROM_END",ue!==(De==="FROM_START"||De==="FROM_END")&&this.getSourceBlock().updateAt_(ue)}),this.appendDummyInput().appendField(N,"WHERE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0),this.setTooltip(()=>{const ue=this.getFieldValue("MODE"),De=this.getFieldValue("WHERE");let Re="";switch(ue+" "+De){case"SET FROM_START":case"SET FROM_END":Re=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":Re=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":Re=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":Re=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":Re=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":Re=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":Re=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":Re=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return(De==="FROM_START"||De==="FROM_END")&&(Re+="  "+a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),Re})},mutationToDom:function(){const N=a.createElement$$module$build$src$core$utils$xml("mutation"),ue=this.getInput("AT")instanceof a.ValueInput$$module$build$src$core$inputs$value_input;return N.setAttribute("at",String(ue)),N},domToMutation:function(N){N=N.getAttribute("at")!=="false",this.updateAt_(N)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(N){this.removeInput("AT"),this.removeInput("ORDINAL",!0),N?(this.appendValueInput("AT").setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO")}};yi.lists_setIndex=Le;var tt={init:function(){this.WHERE_OPTIONS_1=[[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);const N=ue=>{const De=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+ue]});return De.setValidator(function(Re){const Dt=this.getValue();Re=Re==="FROM_START"||Re==="FROM_END",Re!==(Dt==="FROM_START"||Dt==="FROM_END")&&this.getSourceBlock().updateAt_(ue,Re)}),De};this.appendDummyInput("WHERE1_INPUT").appendField(N(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(N(2),"WHERE2"),this.appendDummyInput("AT2"),a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const N=a.createElement$$module$build$src$core$utils$xml("mutation");var ue=this.getInput("AT1")instanceof a.ValueInput$$module$build$src$core$inputs$value_input;return N.setAttribute("at1",String(ue)),ue=this.getInput("AT2")instanceof a.ValueInput$$module$build$src$core$inputs$value_input,N.setAttribute("at2",String(ue)),N},domToMutation:function(N){const ue=N.getAttribute("at1")==="true";N=N.getAttribute("at2")==="true",this.updateAt_(1,ue),this.updateAt_(2,N)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(N,ue){this.removeInput("AT"+N),this.removeInput("ORDINAL"+N,!0),ue?(this.appendValueInput("AT"+N).setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+N).appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+N),N===1&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT")),a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};yi.lists_getSublist=tt,yi.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},yi.lists_split={init:function(){const N=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:[[a.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[a.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]]});if(!N)throw Error("field_dropdown not found");N.setValidator(ue=>{this.updateType_(ue)}),this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(N,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(a.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(()=>{const ue=this.getFieldValue("MODE");if(ue==="SPLIT")return a.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(ue==="JOIN")return a.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+ue)})},updateType_:function(N){if(this.getFieldValue("MODE")!==N){const ue=this.getInput("INPUT").connection;ue.setShadowDom(null);const De=ue.targetBlock();De&&(ue.disconnect(),De.isShadow()?De.dispose(!1):this.bumpNeighbours())}N==="SPLIT"?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){const N=a.createElement$$module$build$src$core$utils$xml("mutation");return N.setAttribute("mode",this.getFieldValue("MODE")),N},domToMutation:function(N){this.updateType_(N.getAttribute("mode"))},saveExtraState:function(){return{mode:this.getFieldValue("MODE")}},loadExtraState:function(N){this.updateType_(N.mode)}},a.defineBlocks$$module$build$src$core$common(yi);var Qe={blocks:yi},Ct=Object.assign({},yi,Wr,sn,It,Je,Z,E,h),kt={blocks:Ct,lists:Qe,logic:ss,loops:tn,math:Ot,procedures:ft,texts:lt,variables:B,variablesDynamic:T};return kt.__namespace__=a,kt})})(g5)),g5.exports}var pb=p5.exports,r8;function mb(){return r8||(r8=1,(function(r,o){(function(n,a){r.exports=a(O5(),hb(),fb())})(pb,function(n,a,h){return n.setLocale(a),n})})(p5)),p5.exports}var gb=mb();const $b=qu(gb),{Block:iM,BlockFlyoutInflater:sM,BlockNavigationPolicy:oM,BlockSvg:lM,Blocks:D6,ButtonFlyoutInflater:aM,COLLAPSED_FIELD_NAME:uM,COLLAPSED_INPUT_NAME:cM,COLLAPSE_CHARS:hM,CodeGenerator:dM,CollapsibleToolboxCategory:fM,ComponentManager:pM,Connection:mM,ConnectionChecker:gM,ConnectionDB:$M,ConnectionNavigationPolicy:bM,ConnectionType:vM,ContextMenu:yM,ContextMenuItems:TM,ContextMenuRegistry:_M,Css:EM,DELETE_VARIABLE_ID:wM,DeleteArea:SM,DragTarget:xM,DropDownDiv:kM,Events:CM,Extensions:AM,Field:IM,FieldCheckbox:MM,FieldDropdown:RM,FieldImage:NM,FieldLabel:OM,FieldLabelSerializable:LM,FieldNavigationPolicy:DM,FieldNumber:BM,FieldTextInput:PM,FieldVariable:FM,Flyout:zM,FlyoutButton:UM,FlyoutButtonNavigationPolicy:HM,FlyoutItem:GM,FlyoutMetricsManager:VM,FlyoutNavigationPolicy:WM,FlyoutNavigator:qM,FlyoutSeparator:XM,FlyoutSeparatorNavigationPolicy:jM,FocusManager:YM,FocusableTreeTraverser:KM,Generator:JM,Gesture:ZM,Grid:QM,HorizontalFlyout:eR,INPUT_VALUE:tR,Input:nR,InsertionMarkerPreviewer:rR,KeyboardNavigationController:iR,LabelFlyoutInflater:sR,LineCursor:oR,Marker:lR,MarkerManager:aR,Menu:uR,MenuItem:cR,MetricsManager:hR,Msg:dR,NEXT_STATEMENT:fR,Names:pR,Navigator:mR,OPPOSITE_TYPE:gR,OUTPUT_VALUE:$R,Options:bR,PREVIOUS_STATEMENT:vR,PROCEDURE_CATEGORY_NAME:yR,Procedures:TR,RENAME_VARIABLE_ID:_R,RenderedConnection:ER,Scrollbar:wR,ScrollbarPair:SR,SeparatorFlyoutInflater:xR,ShortcutItems:kR,ShortcutRegistry:CR,TOOLBOX_AT_BOTTOM:AR,TOOLBOX_AT_LEFT:IR,TOOLBOX_AT_RIGHT:MR,TOOLBOX_AT_TOP:RR,Theme:NR,ThemeManager:OR,Themes:LR,Toast:DR,Toolbox:BR,ToolboxCategory:PR,ToolboxItem:FR,ToolboxSeparator:zR,Tooltip:UR,Touch:HR,Trashcan:GR,UnattachedFieldError:VR,VARIABLE_CATEGORY_NAME:WR,VARIABLE_DYNAMIC_CATEGORY_NAME:qR,VERSION:XR,VariableMap:jR,VariableModel:YR,Variables:KR,VariablesDynamic:JR,VerticalFlyout:ZR,WidgetDiv:QR,Workspace:bb,WorkspaceAudio:eN,WorkspaceDragger:tN,WorkspaceNavigationPolicy:nN,WorkspaceSvg:rN,Xml:Ym,ZoomControls:iN,blockAnimations:sN,blockRendering:oN,browserEvents:lN,bubbles:aN,bumpObjects:uN,clipboard:cN,comments:hN,common:dN,config:fN,constants:pN,defineBlocksWithJsonArray:q2,dialog:mN,dragging:gN,fieldRegistry:$N,geras:bN,getFocusManager:vN,getMainWorkspace:yN,getSelected:TN,hasBubble:_N,hideChaff:EN,icons:wN,inject:SN,inputs:xN,isCopyable:kN,isDeletable:CN,isDraggable:AN,isIcon:IN,isObservable:MN,isPaster:RN,isRenderedElement:NN,isSelectable:ON,isSerializable:LN,isVariableBackedParameterModel:DN,keyboardNavigationController:BN,layers:PN,navigateBlock:FN,navigateStacks:zN,procedures:UN,registry:HN,renderManagement:GN,serialization:VN,setLocale:WN,setParentContainer:qN,svgResize:bf,thrasos:XN,uiPosition:jN,utils:Km,zelos:YN}=$b;var $5={exports:{}},vb=$5.exports,i8;function yb(){return i8||(i8=1,(function(r,o){(function(n,a){r.exports=a(O5())})(vb,function(n){var a=n.__namespace__,h=function(G,$e){return["[]",U.ATOMIC]},p=function(G,$e){const Pe=Array(G.itemCount_);for(let et=0;et<G.itemCount_;et++)Pe[et]=$e.valueToCode(G,"ADD"+et,U.NONE)||"null";return["["+Pe.join(", ")+"]",U.ATOMIC]},$=function(G,$e){const Pe=$e.provideFunction_("listsRepeat",`
function ${$e.FUNCTION_NAME_PLACEHOLDER_}(value, n) {
  var array = [];
  for (var i = 0; i < n; i++) {
    array[i] = value;
  }
  return array;
}
`),et=$e.valueToCode(G,"ITEM",U.NONE)||"null";return G=$e.valueToCode(G,"NUM",U.NONE)||"0",[Pe+"("+et+", "+G+")",U.FUNCTION_CALL]},_=function(G,$e){return[($e.valueToCode(G,"VALUE",U.MEMBER)||"[]")+".length",U.MEMBER]},T=function(G,$e){return["!"+($e.valueToCode(G,"VALUE",U.MEMBER)||"[]")+".length",U.LOGICAL_NOT]},E=function(G,$e){const Pe=G.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",et=$e.valueToCode(G,"FIND",U.NONE)||"''";return $e=($e.valueToCode(G,"VALUE",U.MEMBER)||"[]")+"."+Pe+"("+et+")",G.workspace.options.oneBasedIndex?[$e+" + 1",U.ADDITION]:[$e,U.FUNCTION_CALL]},w=function(G,$e){const Pe=G.getFieldValue("MODE")||"GET",et=G.getFieldValue("WHERE")||"FROM_START";var Ft=$e.valueToCode(G,"VALUE",et==="RANDOM"?U.NONE:U.MEMBER)||"[]";switch(et){case"FIRST":if(Pe==="GET")return[Ft+"[0]",U.MEMBER];if(Pe==="GET_REMOVE")return[Ft+".shift()",U.MEMBER];if(Pe==="REMOVE")return Ft+`.shift();
`;break;case"LAST":if(Pe==="GET")return[Ft+".slice(-1)[0]",U.MEMBER];if(Pe==="GET_REMOVE")return[Ft+".pop()",U.MEMBER];if(Pe==="REMOVE")return Ft+`.pop();
`;break;case"FROM_START":if(G=$e.getAdjusted(G,"AT"),Pe==="GET")return[Ft+"["+G+"]",U.MEMBER];if(Pe==="GET_REMOVE")return[Ft+".splice("+G+", 1)[0]",U.FUNCTION_CALL];if(Pe==="REMOVE")return Ft+".splice("+G+`, 1);
`;break;case"FROM_END":if(G=$e.getAdjusted(G,"AT",1,!0),Pe==="GET")return[Ft+".slice("+G+")[0]",U.FUNCTION_CALL];if(Pe==="GET_REMOVE")return[Ft+".splice("+G+", 1)[0]",U.FUNCTION_CALL];if(Pe==="REMOVE")return Ft+".splice("+G+", 1);";break;case"RANDOM":if(Ft=$e.provideFunction_("listsGetRandomItem",`
function ${$e.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {
  var x = Math.floor(Math.random() * list.length);
  if (remove) {
    return list.splice(x, 1)[0];
  } else {
    return list[x];
  }
}
`)+"("+Ft+", "+(Pe!=="GET")+")",Pe==="GET"||Pe==="GET_REMOVE")return[Ft,U.FUNCTION_CALL];if(Pe==="REMOVE")return Ft+`;
`}throw Error("Unhandled combination (lists_getIndex).")},A=function(G,$e){function Pe(){if(et.match(/^\w+$/))return"";const Sr=$e.nameDB_.getDistinctName("tmpList",a.NameType$$module$build$src$core$names.VARIABLE),Ml="var "+Sr+" = "+et+`;
`;return et=Sr,Ml}let et=$e.valueToCode(G,"LIST",U.MEMBER)||"[]";const Ft=G.getFieldValue("MODE")||"GET";var dn=G.getFieldValue("WHERE")||"FROM_START";const Hn=$e.valueToCode(G,"TO",U.ASSIGNMENT)||"null";switch(dn){case"FIRST":if(Ft==="SET")return et+"[0] = "+Hn+`;
`;if(Ft==="INSERT")return et+".unshift("+Hn+`);
`;break;case"LAST":if(Ft==="SET")return Pe()+(et+"["+et+".length - 1] = "+Hn+`;
`);if(Ft==="INSERT")return et+".push("+Hn+`);
`;break;case"FROM_START":if(G=$e.getAdjusted(G,"AT"),Ft==="SET")return et+"["+G+"] = "+Hn+`;
`;if(Ft==="INSERT")return et+".splice("+G+", 0, "+Hn+`);
`;break;case"FROM_END":if(G=$e.getAdjusted(G,"AT",1,!1,U.SUBTRACTION),dn=Pe(),Ft==="SET")return dn+(et+"["+et+".length - "+G+"] = "+Hn+`;
`);if(Ft==="INSERT")return dn+(et+".splice("+et+".length - "+G+", 0, "+Hn+`);
`);break;case"RANDOM":if(G=Pe(),dn=$e.nameDB_.getDistinctName("tmpX",a.NameType$$module$build$src$core$names.VARIABLE),G+="var "+dn+" = Math.floor(Math.random() * "+et+`.length);
`,Ft==="SET")return G+(et+"["+dn+"] = "+Hn+`;
`);if(Ft==="INSERT")return G+(et+".splice("+dn+", 0, "+Hn+`);
`)}throw Error("Unhandled combination (lists_setIndex).")},z=function(G,$e){var Pe={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"},et=$e.valueToCode(G,"LIST",U.MEMBER)||"[]";const Ft=G.getFieldValue("WHERE1"),dn=G.getFieldValue("WHERE2");if(Ft==="FIRST"&&dn==="LAST")et+=".slice(0)";else if(et.match(/^\w+$/)||Ft!=="FROM_END"&&dn==="FROM_START"){switch(Ft){case"FROM_START":Pe=$e.getAdjusted(G,"AT1");break;case"FROM_END":Pe=$e.getAdjusted(G,"AT1",1,!1,U.SUBTRACTION),Pe=et+".length - "+Pe;break;case"FIRST":Pe="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(dn){case"FROM_START":$e=$e.getAdjusted(G,"AT2",1);break;case"FROM_END":$e=$e.getAdjusted(G,"AT2",0,!1,U.SUBTRACTION),$e=et+".length - "+$e;break;case"LAST":$e=et+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}et=et+".slice("+Pe+", "+$e+")"}else{const Hn=$e.getAdjusted(G,"AT1");G=$e.getAdjusted(G,"AT2"),et=$e.provideFunction_("subsequence"+Pe[Ft]+Pe[dn],`
function ${$e.FUNCTION_NAME_PLACEHOLDER_}(sequence${Ft==="FROM_END"||Ft==="FROM_START"?", at1":""}${dn==="FROM_END"||dn==="FROM_START"?", at2":""}) {
  var start = ${Ce("sequence",Ft,"at1")};
  var end = ${Ce("sequence",dn,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+et+(Ft==="FROM_END"||Ft==="FROM_START"?", "+Hn:"")+(dn==="FROM_END"||dn==="FROM_START"?", "+G:"")+")"}return[et,U.FUNCTION_CALL]},B=function(G,$e){const Pe=$e.valueToCode(G,"LIST",U.FUNCTION_CALL)||"[]",et=G.getFieldValue("DIRECTION")==="1"?1:-1;return G=G.getFieldValue("TYPE"),$e=$e.provideFunction_("listsGetSortCompare",`
function ${$e.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {
  var compareFuncs = {
    'NUMERIC': function(a, b) {
        return Number(a) - Number(b); },
    'TEXT': function(a, b) {
        return String(a) > String(b) ? 1 : -1; },
    'IGNORE_CASE': function(a, b) {
        return String(a).toLowerCase() > String(b).toLowerCase() ? 1 : -1; },
  };
  var compare = compareFuncs[type];
  return function(a, b) { return compare(a, b) * direction; };
}
      `),[Pe+".slice().sort("+$e+'("'+G+'", '+et+"))",U.FUNCTION_CALL]},Z=function(G,$e){let Pe=$e.valueToCode(G,"INPUT",U.MEMBER);if($e=$e.valueToCode(G,"DELIM",U.NONE)||"''",G=G.getFieldValue("MODE"),G==="SPLIT")Pe||(Pe="''"),G="split";else if(G==="JOIN")Pe||(Pe="[]"),G="join";else throw Error("Unknown mode: "+G);return[Pe+"."+G+"("+$e+")",U.FUNCTION_CALL]},ce=function(G,$e){return[($e.valueToCode(G,"LIST",U.FUNCTION_CALL)||"[]")+".slice().reverse()",U.FUNCTION_CALL]},oe=function(G,$e){var Pe=0;let et="";$e.STATEMENT_PREFIX&&(et+=$e.injectId($e.STATEMENT_PREFIX,G));do{const Ft=$e.valueToCode(G,"IF"+Pe,U.NONE)||"false";let dn=$e.statementToCode(G,"DO"+Pe);$e.STATEMENT_SUFFIX&&(dn=$e.prefixLines($e.injectId($e.STATEMENT_SUFFIX,G),$e.INDENT)+dn),et+=(Pe>0?" else ":"")+"if ("+Ft+`) {
`+dn+"}",Pe++}while(G.getInput("IF"+Pe));return(G.getInput("ELSE")||$e.STATEMENT_SUFFIX)&&(Pe=G.getInput("ELSE")?$e.statementToCode(G,"ELSE"):"",$e.STATEMENT_SUFFIX&&(Pe=$e.prefixLines($e.injectId($e.STATEMENT_SUFFIX,G),$e.INDENT)+Pe),et+=` else {
`+Pe+"}"),et+`
`},j=function(G,$e){const Pe={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[G.getFieldValue("OP")],et=Pe==="=="||Pe==="!="?U.EQUALITY:U.RELATIONAL,Ft=$e.valueToCode(G,"A",et)||"0";return G=$e.valueToCode(G,"B",et)||"0",[Ft+" "+Pe+" "+G,et]},ie=function(G,$e){const Pe=G.getFieldValue("OP")==="AND"?"&&":"||",et=Pe==="&&"?U.LOGICAL_AND:U.LOGICAL_OR;let Ft=$e.valueToCode(G,"A",et);return G=$e.valueToCode(G,"B",et),Ft||G?($e=Pe==="&&"?"true":"false",Ft||(Ft=$e),G||(G=$e)):G=Ft="false",[Ft+" "+Pe+" "+G,et]},be=function(G,$e){const Pe=U.LOGICAL_NOT;return["!"+($e.valueToCode(G,"BOOL",Pe)||"true"),Pe]},Ie=function(G,$e){return[G.getFieldValue("BOOL")==="TRUE"?"true":"false",U.ATOMIC]},Ge=function(G,$e){return["null",U.ATOMIC]},Te=function(G,$e){const Pe=$e.valueToCode(G,"IF",U.CONDITIONAL)||"false",et=$e.valueToCode(G,"THEN",U.CONDITIONAL)||"null";return G=$e.valueToCode(G,"ELSE",U.CONDITIONAL)||"null",[Pe+" ? "+et+" : "+G,U.CONDITIONAL]},We=function(G,$e){let Pe;Pe=G.getField("TIMES")?String(Number(G.getFieldValue("TIMES"))):$e.valueToCode(G,"TIMES",U.ASSIGNMENT)||"0";let et=$e.statementToCode(G,"DO");et=$e.addLoopTrap(et,G),G="";const Ft=$e.nameDB_.getDistinctName("count",a.NameType$$module$build$src$core$names.VARIABLE);let dn=Pe;return Pe.match(/^\w+$/)||a.isNumber$$module$build$src$core$utils$string(Pe)||(dn=$e.nameDB_.getDistinctName("repeat_end",a.NameType$$module$build$src$core$names.VARIABLE),G+="var "+dn+" = "+Pe+`;
`),G+("for (var "+Ft+" = 0; "+Ft+" < "+dn+"; "+Ft+`++) {
`+et+`}
`)},lt=function(G,$e){const Pe=G.getFieldValue("MODE")==="UNTIL";let et=$e.valueToCode(G,"BOOL",Pe?U.LOGICAL_NOT:U.NONE)||"false",Ft=$e.statementToCode(G,"DO");return Ft=$e.addLoopTrap(Ft,G),Pe&&(et="!"+et),"while ("+et+`) {
`+Ft+`}
`},Je=function(G,$e){var Pe=$e.getVariableName(G.getFieldValue("VAR")),et=$e.valueToCode(G,"FROM",U.ASSIGNMENT)||"0",Ft=$e.valueToCode(G,"TO",U.ASSIGNMENT)||"0";const dn=$e.valueToCode(G,"BY",U.ASSIGNMENT)||"1";let Hn=$e.statementToCode(G,"DO");if(Hn=$e.addLoopTrap(Hn,G),a.isNumber$$module$build$src$core$utils$string(et)&&a.isNumber$$module$build$src$core$utils$string(Ft)&&a.isNumber$$module$build$src$core$utils$string(dn))$e=Number(et)<=Number(Ft),G="for ("+Pe+" = "+et+"; "+Pe+($e?" <= ":" >= ")+Ft+"; "+Pe,Pe=Math.abs(Number(dn)),G=Pe===1?G+($e?"++":"--"):G+(($e?" += ":" -= ")+Pe),G+=`) {
`+Hn+`}
`;else{G="";let Sr=et;et.match(/^\w+$/)||a.isNumber$$module$build$src$core$utils$string(et)||(Sr=$e.nameDB_.getDistinctName(Pe+"_start",a.NameType$$module$build$src$core$names.VARIABLE),G+="var "+Sr+" = "+et+`;
`),et=Ft,Ft.match(/^\w+$/)||a.isNumber$$module$build$src$core$utils$string(Ft)||(et=$e.nameDB_.getDistinctName(Pe+"_end",a.NameType$$module$build$src$core$names.VARIABLE),G+="var "+et+" = "+Ft+`;
`),Ft=$e.nameDB_.getDistinctName(Pe+"_inc",a.NameType$$module$build$src$core$names.VARIABLE),G+="var "+Ft+" = ",G=a.isNumber$$module$build$src$core$utils$string(dn)?G+(Math.abs(Number(dn))+`;
`):G+("Math.abs("+dn+`);
`),G+="if ("+Sr+" > "+et+`) {
`,G+=$e.INDENT+Ft+" = -"+Ft+`;
`,G=G+`}
for (`+(Pe+" = "+Sr+"; "+Ft+" >= 0 ? "+Pe+" <= "+et+" : "+Pe+" >= "+et+"; "+Pe+" += "+Ft+`) {
`+Hn+`}
`)}return G},Xe=function(G,$e){const Pe=$e.getVariableName(G.getFieldValue("VAR"));var et=$e.valueToCode(G,"LIST",U.ASSIGNMENT)||"[]";let Ft=$e.statementToCode(G,"DO");Ft=$e.addLoopTrap(Ft,G),G="";let dn=et;return et.match(/^\w+$/)||(dn=$e.nameDB_.getDistinctName(Pe+"_list",a.NameType$$module$build$src$core$names.VARIABLE),G+="var "+dn+" = "+et+`;
`),et=$e.nameDB_.getDistinctName(Pe+"_index",a.NameType$$module$build$src$core$names.VARIABLE),Ft=$e.INDENT+Pe+" = "+dn+"["+et+`];
`+Ft,G+("for (var "+et+" in "+dn+`) {
`+Ft+`}
`)},Pt=function(G,$e){let Pe="";if($e.STATEMENT_PREFIX&&(Pe+=$e.injectId($e.STATEMENT_PREFIX,G)),$e.STATEMENT_SUFFIX&&(Pe+=$e.injectId($e.STATEMENT_SUFFIX,G)),$e.STATEMENT_PREFIX){const et=G.getSurroundLoop();et&&!et.suppressPrefixSuffix&&(Pe+=$e.injectId($e.STATEMENT_PREFIX,et))}switch(G.getFieldValue("FLOW")){case"BREAK":return Pe+`break;
`;case"CONTINUE":return Pe+`continue;
`}throw Error("Unknown flow statement.")},He=function(G,$e){return G=Number(G.getFieldValue("NUM")),[String(G),G>=0?U.ATOMIC:U.UNARY_NEGATION]},Lt=function(G,$e){var Pe={ADD:[" + ",U.ADDITION],MINUS:[" - ",U.SUBTRACTION],MULTIPLY:[" * ",U.MULTIPLICATION],DIVIDE:[" / ",U.DIVISION],POWER:[null,U.NONE]}[G.getFieldValue("OP")];const et=Pe[0];Pe=Pe[1];const Ft=$e.valueToCode(G,"A",Pe)||"0";return G=$e.valueToCode(G,"B",Pe)||"0",et?[Ft+et+G,Pe]:["Math.pow("+Ft+", "+G+")",U.FUNCTION_CALL]},yt=function(G,$e){const Pe=G.getFieldValue("OP");let et;if(Pe==="NEG")return G=$e.valueToCode(G,"NUM",U.UNARY_NEGATION)||"0",G[0]==="-"&&(G=" "+G),["-"+G,U.UNARY_NEGATION];switch(G=Pe==="SIN"||Pe==="COS"||Pe==="TAN"?$e.valueToCode(G,"NUM",U.DIVISION)||"0":$e.valueToCode(G,"NUM",U.NONE)||"0",Pe){case"ABS":et="Math.abs("+G+")";break;case"ROOT":et="Math.sqrt("+G+")";break;case"LN":et="Math.log("+G+")";break;case"EXP":et="Math.exp("+G+")";break;case"POW10":et="Math.pow(10,"+G+")";break;case"ROUND":et="Math.round("+G+")";break;case"ROUNDUP":et="Math.ceil("+G+")";break;case"ROUNDDOWN":et="Math.floor("+G+")";break;case"SIN":et="Math.sin("+G+" / 180 * Math.PI)";break;case"COS":et="Math.cos("+G+" / 180 * Math.PI)";break;case"TAN":et="Math.tan("+G+" / 180 * Math.PI)"}if(et)return[et,U.FUNCTION_CALL];switch(Pe){case"LOG10":et="Math.log("+G+") / Math.log(10)";break;case"ASIN":et="Math.asin("+G+") / Math.PI * 180";break;case"ACOS":et="Math.acos("+G+") / Math.PI * 180";break;case"ATAN":et="Math.atan("+G+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+Pe)}return[et,U.DIVISION]},rt=function(G,$e){return{PI:["Math.PI",U.MEMBER],E:["Math.E",U.MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",U.DIVISION],SQRT2:["Math.SQRT2",U.MEMBER],SQRT1_2:["Math.SQRT1_2",U.MEMBER],INFINITY:["Infinity",U.ATOMIC]}[G.getFieldValue("CONSTANT")]},Ze=function(G,$e){var Pe={EVEN:[" % 2 === 0",U.MODULUS,U.EQUALITY],ODD:[" % 2 === 1",U.MODULUS,U.EQUALITY],WHOLE:[" % 1 === 0",U.MODULUS,U.EQUALITY],POSITIVE:[" > 0",U.RELATIONAL,U.RELATIONAL],NEGATIVE:[" < 0",U.RELATIONAL,U.RELATIONAL],DIVISIBLE_BY:[null,U.MODULUS,U.EQUALITY],PRIME:[null,U.NONE,U.FUNCTION_CALL]};const et=G.getFieldValue("PROPERTY"),[Ft,dn,Hn]=Pe[et];return Pe=$e.valueToCode(G,"NUMBER_TO_CHECK",dn)||"0",et==="PRIME"?G=$e.provideFunction_("mathIsPrime",`
function ${$e.FUNCTION_NAME_PLACEHOLDER_}(n) {
  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  if (n == 2 || n == 3) {
    return true;
  }
  // False if n is NaN, negative, is 1, or not whole.
  // And false if n is divisible by 2 or 3.
  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {
    return false;
  }
  // Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {
    if (n % (x - 1) === 0 || n % (x + 1) === 0) {
      return false;
    }
  }
  return true;
}
`)+"("+Pe+")":et==="DIVISIBLE_BY"?(G=$e.valueToCode(G,"DIVISOR",U.MODULUS)||"0",G=Pe+" % "+G+" === 0"):G=Pe+Ft,[G,Hn]},$t=function(G,$e){const Pe=$e.valueToCode(G,"DELTA",U.ADDITION)||"0";return G=$e.getVariableName(G.getFieldValue("VAR")),G+" = (typeof "+G+" === 'number' ? "+G+" : 0) + "+Pe+`;
`},ft=function(G,$e){var Pe=G.getFieldValue("OP");switch(Pe){case"SUM":G=$e.valueToCode(G,"LIST",U.MEMBER)||"[]",G+=".reduce(function(x, y) {return x + y;}, 0)";break;case"MIN":G=$e.valueToCode(G,"LIST",U.NONE)||"[]",G="Math.min.apply(null, "+G+")";break;case"MAX":G=$e.valueToCode(G,"LIST",U.NONE)||"[]",G="Math.max.apply(null, "+G+")";break;case"AVERAGE":Pe=$e.provideFunction_("mathMean",`
function ${$e.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;
}
`),G=$e.valueToCode(G,"LIST",U.NONE)||"[]",G=Pe+"("+G+")";break;case"MEDIAN":Pe=$e.provideFunction_("mathMedian",`
function ${$e.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  var localList = myList.filter(function (x) {return typeof x === 'number';});
  if (!localList.length) return null;
  localList.sort(function(a, b) {return b - a;});
  if (localList.length % 2 === 0) {
    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;
  } else {
    return localList[(localList.length - 1) / 2];
  }
}
`),G=$e.valueToCode(G,"LIST",U.NONE)||"[]",G=Pe+"("+G+")";break;case"MODE":Pe=$e.provideFunction_("mathModes",`
function ${$e.FUNCTION_NAME_PLACEHOLDER_}(values) {
  var modes = [];
  var counts = [];
  var maxCount = 0;
  for (var i = 0; i < values.length; i++) {
    var value = values[i];
    var found = false;
    var thisCount;
    for (var j = 0; j < counts.length; j++) {
      if (counts[j][0] === value) {
        thisCount = ++counts[j][1];
        found = true;
        break;
      }
    }
    if (!found) {
      counts.push([value, 1]);
      thisCount = 1;
    }
    maxCount = Math.max(thisCount, maxCount);
  }
  for (var j = 0; j < counts.length; j++) {
    if (counts[j][1] === maxCount) {
      modes.push(counts[j][0]);
    }
  }
  return modes;
}
`),G=$e.valueToCode(G,"LIST",U.NONE)||"[]",G=Pe+"("+G+")";break;case"STD_DEV":Pe=$e.provideFunction_("mathStandardDeviation",`
function ${$e.FUNCTION_NAME_PLACEHOLDER_}(numbers) {
  var n = numbers.length;
  if (!n) return null;
  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;
  var variance = 0;
  for (var j = 0; j < n; j++) {
    variance += Math.pow(numbers[j] - mean, 2);
  }
  variance /= n;
  return Math.sqrt(variance);
}
`),G=$e.valueToCode(G,"LIST",U.NONE)||"[]",G=Pe+"("+G+")";break;case"RANDOM":Pe=$e.provideFunction_("mathRandomList",`
function ${$e.FUNCTION_NAME_PLACEHOLDER_}(list) {
  var x = Math.floor(Math.random() * list.length);
  return list[x];
}
`),G=$e.valueToCode(G,"LIST",U.NONE)||"[]",G=Pe+"("+G+")";break;default:throw Error("Unknown operator: "+Pe)}return[G,U.FUNCTION_CALL]},It=function(G,$e){const Pe=$e.valueToCode(G,"DIVIDEND",U.MODULUS)||"0";return G=$e.valueToCode(G,"DIVISOR",U.MODULUS)||"0",[Pe+" % "+G,U.MODULUS]},le=function(G,$e){const Pe=$e.valueToCode(G,"VALUE",U.NONE)||"0",et=$e.valueToCode(G,"LOW",U.NONE)||"0";return G=$e.valueToCode(G,"HIGH",U.NONE)||"Infinity",["Math.min(Math.max("+Pe+", "+et+"), "+G+")",U.FUNCTION_CALL]},Be=function(G,$e){const Pe=$e.valueToCode(G,"FROM",U.NONE)||"0";return G=$e.valueToCode(G,"TO",U.NONE)||"0",[$e.provideFunction_("mathRandomInt",`
function ${$e.FUNCTION_NAME_PLACEHOLDER_}(a, b) {
  if (a > b) {
    // Swap a and b to ensure a is smaller.
    var c = a;
    a = b;
    b = c;
  }
  return Math.floor(Math.random() * (b - a + 1) + a);
}
`)+"("+Pe+", "+G+")",U.FUNCTION_CALL]},ct=function(G,$e){return["Math.random()",U.FUNCTION_CALL]},ke=function(G,$e){const Pe=$e.valueToCode(G,"X",U.NONE)||"0";return["Math.atan2("+($e.valueToCode(G,"Y",U.NONE)||"0")+", "+Pe+") / Math.PI * 180",U.DIVISION]},Zt=function(G,$e){const Pe=$e.getProcedureName(G.getFieldValue("NAME"));var et="";$e.STATEMENT_PREFIX&&(et+=$e.injectId($e.STATEMENT_PREFIX,G)),$e.STATEMENT_SUFFIX&&(et+=$e.injectId($e.STATEMENT_SUFFIX,G)),et&&(et=$e.prefixLines(et,$e.INDENT));let Ft="";$e.INFINITE_LOOP_TRAP&&(Ft=$e.prefixLines($e.injectId($e.INFINITE_LOOP_TRAP,G),$e.INDENT));let dn="";G.getInput("STACK")&&(dn=$e.statementToCode(G,"STACK"));let Hn="";G.getInput("RETURN")&&(Hn=$e.valueToCode(G,"RETURN",U.NONE)||"");let Sr="";dn&&Hn&&(Sr=et),Hn&&(Hn=$e.INDENT+"return "+Hn+`;
`);const Ml=[],To=G.getVars();for(let vr=0;vr<To.length;vr++)Ml[vr]=$e.getVariableName(To[vr]);return et="function "+Pe+"("+Ml.join(", ")+`) {
`+et+Ft+dn+Sr+Hn+"}",et=$e.scrub_(G,et),$e.definitions_["%"+Pe]=et,null},Ot=function(G,$e){const Pe=$e.getProcedureName(G.getFieldValue("NAME")),et=[],Ft=G.getVars();for(let dn=0;dn<Ft.length;dn++)et[dn]=$e.valueToCode(G,"ARG"+dn,U.NONE)||"null";return[Pe+"("+et.join(", ")+")",U.FUNCTION_CALL]},sn=function(G,$e){return $e.forBlock.procedures_callreturn(G,$e)[0]+`;
`},yn=function(G,$e){let Pe="if ("+($e.valueToCode(G,"CONDITION",U.NONE)||"false")+`) {
`;return $e.STATEMENT_SUFFIX&&(Pe+=$e.prefixLines($e.injectId($e.STATEMENT_SUFFIX,G),$e.INDENT)),G.hasReturnValue_?(G=$e.valueToCode(G,"VALUE",U.NONE)||"null",Pe+=$e.INDENT+"return "+G+`;
`):Pe+=$e.INDENT+`return;
`,Pe+`}
`},hr=function(G,$e){return[$e.quote_(G.getFieldValue("TEXT")),U.ATOMIC]},Yn=function(G,$e){switch(G.itemCount_){case 0:return["''",U.ATOMIC];case 1:return G=$e.valueToCode(G,"ADD0",U.NONE)||"''",ue(G);case 2:var Pe=$e.valueToCode(G,"ADD0",U.NONE)||"''";return G=$e.valueToCode(G,"ADD1",U.NONE)||"''",[ue(Pe)[0]+" + "+ue(G)[0],U.ADDITION];default:Pe=Array(G.itemCount_);for(let et=0;et<G.itemCount_;et++)Pe[et]=$e.valueToCode(G,"ADD"+et,U.NONE)||"''";return["["+Pe.join(",")+"].join('')",U.FUNCTION_CALL]}},an=function(G,$e){const Pe=$e.getVariableName(G.getFieldValue("VAR"));return G=$e.valueToCode(G,"TEXT",U.NONE)||"''",Pe+" += "+ue(G)[0]+`;
`},Xn=function(G,$e){return[($e.valueToCode(G,"VALUE",U.MEMBER)||"''")+".length",U.MEMBER]},dt=function(G,$e){return["!"+($e.valueToCode(G,"VALUE",U.MEMBER)||"''")+".length",U.LOGICAL_NOT]},tn=function(G,$e){const Pe=G.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",et=$e.valueToCode(G,"FIND",U.NONE)||"''";return $e=($e.valueToCode(G,"VALUE",U.MEMBER)||"''")+"."+Pe+"("+et+")",G.workspace.options.oneBasedIndex?[$e+" + 1",U.ADDITION]:[$e,U.FUNCTION_CALL]},Wr=function(G,$e){const Pe=G.getFieldValue("WHERE")||"FROM_START",et=$e.valueToCode(G,"VALUE",Pe==="RANDOM"?U.NONE:U.MEMBER)||"''";switch(Pe){case"FIRST":return[et+".charAt(0)",U.FUNCTION_CALL];case"LAST":return[et+".slice(-1)",U.FUNCTION_CALL];case"FROM_START":return G=$e.getAdjusted(G,"AT"),[et+".charAt("+G+")",U.FUNCTION_CALL];case"FROM_END":return G=$e.getAdjusted(G,"AT",1,!0),[et+".slice("+G+").charAt(0)",U.FUNCTION_CALL];case"RANDOM":return[$e.provideFunction_("textRandomLetter",`
function ${$e.FUNCTION_NAME_PLACEHOLDER_}(text) {
  var x = Math.floor(Math.random() * text.length);
  return text[x];
}
`)+"("+et+")",U.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},Zn=function(G,$e){var Pe={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};const et=G.getFieldValue("WHERE1"),Ft=G.getFieldValue("WHERE2");var dn=et!=="FROM_END"&&et!=="LAST"&&Ft!=="FROM_END"&&Ft!=="LAST",Hn=$e.valueToCode(G,"STRING",dn?U.MEMBER:U.NONE)||"''";if(et==="FIRST"&&Ft==="LAST")return[Hn,U.NONE];if(Hn.match(/^'?\w+'?$/)||dn){switch(et){case"FROM_START":Pe=$e.getAdjusted(G,"AT1");break;case"FROM_END":Pe=$e.getAdjusted(G,"AT1",1,!1,U.SUBTRACTION),Pe=Hn+".length - "+Pe;break;case"FIRST":Pe="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(Ft){case"FROM_START":$e=$e.getAdjusted(G,"AT2",1);break;case"FROM_END":$e=$e.getAdjusted(G,"AT2",0,!1,U.SUBTRACTION),$e=Hn+".length - "+$e;break;case"LAST":$e=Hn+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}Hn=Hn+".slice("+Pe+", "+$e+")"}else dn=$e.getAdjusted(G,"AT1"),G=$e.getAdjusted(G,"AT2"),Hn=$e.provideFunction_("subsequence"+Pe[et]+Pe[Ft],`
function ${$e.FUNCTION_NAME_PLACEHOLDER_}(sequence${et==="FROM_END"||et==="FROM_START"?", at1":""}${Ft==="FROM_END"||Ft==="FROM_START"?", at2":""}) {
  var start = ${De("sequence",et,"at1")};
  var end = ${De("sequence",Ft,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+Hn+(et==="FROM_END"||et==="FROM_START"?", "+dn:"")+(Ft==="FROM_END"||Ft==="FROM_START"?", "+G:"")+")";return[Hn,U.FUNCTION_CALL]},pr=function(G,$e){const Pe={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[G.getFieldValue("CASE")];return G=$e.valueToCode(G,"TEXT",Pe?U.MEMBER:U.NONE)||"''",[Pe?G+Pe:$e.provideFunction_("textToTitleCase",`
function ${$e.FUNCTION_NAME_PLACEHOLDER_}(str) {
  return str.replace(/\\S+/g,
      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});
}
`)+"("+G+")",U.FUNCTION_CALL]},on=function(G,$e){const Pe={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[G.getFieldValue("MODE")];return[($e.valueToCode(G,"TEXT",U.MEMBER)||"''")+Pe,U.FUNCTION_CALL]},Ei=function(G,$e){return"window.alert("+($e.valueToCode(G,"TEXT",U.NONE)||"''")+`);
`},Fi=function(G,$e){return $e="window.prompt("+(G.getField("TEXT")?$e.quote_(G.getFieldValue("TEXT")):$e.valueToCode(G,"TEXT",U.NONE)||"''")+")",G.getFieldValue("TYPE")==="NUMBER"&&($e="Number("+$e+")"),[$e,U.FUNCTION_CALL]},Qn=function(G,$e){const Pe=$e.valueToCode(G,"TEXT",U.NONE)||"''";return G=$e.valueToCode(G,"SUB",U.NONE)||"''",[$e.provideFunction_("textCount",`
function ${$e.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle) {
  if (needle.length === 0) {
    return haystack.length + 1;
  } else {
    return haystack.split(needle).length - 1;
  }
}
`)+"("+Pe+", "+G+")",U.FUNCTION_CALL]},ss=function(G,$e){const Pe=$e.valueToCode(G,"TEXT",U.NONE)||"''",et=$e.valueToCode(G,"FROM",U.NONE)||"''";return G=$e.valueToCode(G,"TO",U.NONE)||"''",[$e.provideFunction_("textReplace",`
function ${$e.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle, replacement) {
  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')
                 .replace(/\\x08/g, '\\\\x08');
  return haystack.replace(new RegExp(needle, 'g'), replacement);
}
`)+"("+Pe+", "+et+", "+G+")",U.FUNCTION_CALL]},yi=function(G,$e){return[($e.valueToCode(G,"TEXT",U.MEMBER)||"''")+".split('').reverse().join('')",U.FUNCTION_CALL]},sr=function(G,$e){return[$e.getVariableName(G.getFieldValue("VAR")),U.ATOMIC]},Vn=function(G,$e){const Pe=$e.valueToCode(G,"VALUE",U.ASSIGNMENT)||"0";return $e.getVariableName(G.getFieldValue("VAR"))+" = "+Pe+`;
`},U;(function(G){G[G.ATOMIC=0]="ATOMIC",G[G.NEW=1.1]="NEW",G[G.MEMBER=1.2]="MEMBER",G[G.FUNCTION_CALL=2]="FUNCTION_CALL",G[G.INCREMENT=3]="INCREMENT",G[G.DECREMENT=3]="DECREMENT",G[G.BITWISE_NOT=4.1]="BITWISE_NOT",G[G.UNARY_PLUS=4.2]="UNARY_PLUS",G[G.UNARY_NEGATION=4.3]="UNARY_NEGATION",G[G.LOGICAL_NOT=4.4]="LOGICAL_NOT",G[G.TYPEOF=4.5]="TYPEOF",G[G.VOID=4.6]="VOID",G[G.DELETE=4.7]="DELETE",G[G.AWAIT=4.8]="AWAIT",G[G.EXPONENTIATION=5]="EXPONENTIATION",G[G.MULTIPLICATION=5.1]="MULTIPLICATION",G[G.DIVISION=5.2]="DIVISION",G[G.MODULUS=5.3]="MODULUS",G[G.SUBTRACTION=6.1]="SUBTRACTION",G[G.ADDITION=6.2]="ADDITION",G[G.BITWISE_SHIFT=7]="BITWISE_SHIFT",G[G.RELATIONAL=8]="RELATIONAL",G[G.IN=8]="IN",G[G.INSTANCEOF=8]="INSTANCEOF",G[G.EQUALITY=9]="EQUALITY",G[G.BITWISE_AND=10]="BITWISE_AND",G[G.BITWISE_XOR=11]="BITWISE_XOR",G[G.BITWISE_OR=12]="BITWISE_OR",G[G.LOGICAL_AND=13]="LOGICAL_AND",G[G.LOGICAL_OR=14]="LOGICAL_OR",G[G.CONDITIONAL=15]="CONDITIONAL",G[G.ASSIGNMENT=16]="ASSIGNMENT",G[G.YIELD=17]="YIELD",G[G.COMMA=18]="COMMA",G[G.NONE=99]="NONE"})(U||(U={}));var ne=class extends a.CodeGenerator$$module$build$src$core$generator{constructor(G="JavaScript"){super(G),this.ORDER_OVERRIDES=[[U.FUNCTION_CALL,U.MEMBER],[U.FUNCTION_CALL,U.FUNCTION_CALL],[U.MEMBER,U.MEMBER],[U.MEMBER,U.FUNCTION_CALL],[U.LOGICAL_NOT,U.LOGICAL_NOT],[U.MULTIPLICATION,U.MULTIPLICATION],[U.ADDITION,U.ADDITION],[U.LOGICAL_AND,U.LOGICAL_AND],[U.LOGICAL_OR,U.LOGICAL_OR]],this.isInitialized=!1;for(const $e in U)G=U[$e],typeof G!="string"&&(this["ORDER_"+$e]=G);this.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(globalThis).join(","))}init(G){super.init(G),this.nameDB_?this.nameDB_.reset():this.nameDB_=new a.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(G.getVariableMap()),this.nameDB_.populateVariables(G),this.nameDB_.populateProcedures(G);const $e=[];var Pe=a.allDeveloperVariables$$module$build$src$core$variables(G);for(let et=0;et<Pe.length;et++)$e.push(this.nameDB_.getName(Pe[et],a.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));for(G=a.allUsedVarModels$$module$build$src$core$variables(G),Pe=0;Pe<G.length;Pe++)$e.push(this.nameDB_.getName(G[Pe].getId(),a.NameType$$module$build$src$core$names.VARIABLE));$e.length&&(this.definitions_.variables="var "+$e.join(", ")+";"),this.isInitialized=!0}finish(G){const $e=Object.values(this.definitions_);return super.finish(G),this.isInitialized=!1,this.nameDB_.reset(),$e.join(`

`)+`


`+G}scrubNakedValue(G){return G+`;
`}quote_(G){return G=G.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`).replace(/'/g,"\\'"),"'"+G+"'"}multiline_quote_(G){return G.split(/\n/g).map(this.quote_).join(` + '\\n' +
`)}scrub_(G,$e,Pe=!1){let et="";if(!G.outputConnection||!G.outputConnection.targetConnection){var Ft=G.getCommentText();Ft&&(Ft=a.wrap$$module$build$src$core$utils$string(Ft,this.COMMENT_WRAP-3),et+=this.prefixLines(Ft+`
`,"// "));for(let dn=0;dn<G.inputList.length;dn++)G.inputList[dn].type===a.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(Ft=G.inputList[dn].connection.targetBlock())&&(Ft=this.allNestedComments(Ft))&&(et+=this.prefixLines(Ft,"// "))}return G=G.nextConnection&&G.nextConnection.targetBlock(),Pe=Pe?"":this.blockToCode(G),et+$e+Pe}getAdjusted(G,$e,Pe=0,et=!1,Ft=U.NONE){G.workspace.options.oneBasedIndex&&Pe--;const dn=G.workspace.options.oneBasedIndex?"1":"0";let Hn=Ft;return Pe>0?Hn=U.ADDITION:Pe<0?Hn=U.SUBTRACTION:et&&(Hn=U.UNARY_NEGATION),G=this.valueToCode(G,$e,Hn)||dn,Pe===0&&!et?G:a.isNumber$$module$build$src$core$utils$string(G)?(G=String(Number(G)+Pe),et&&(G=String(-Number(G))),G):(Pe>0?G=`${G} + ${Pe}`:Pe<0&&(G=`${G} - ${-Pe}`),et&&(G=Pe?`-(${G})`:`-${G}`),Math.floor(Ft)>=Math.floor(Hn)&&(G=`(${G})`),G)}},Ce=function(G,$e,Pe){return $e==="FIRST"?"0":$e==="FROM_END"?G+".length - 1 - "+Pe:$e==="LAST"?G+".length - 1":Pe},Le={};Le.lists_create_empty=h,Le.lists_create_with=p,Le.lists_getIndex=w,Le.lists_getSublist=z,Le.lists_indexOf=E,Le.lists_isEmpty=T,Le.lists_length=_,Le.lists_repeat=$,Le.lists_reverse=ce,Le.lists_setIndex=A,Le.lists_sort=B,Le.lists_split=Z;var tt={};tt.controls_if=oe,tt.controls_ifelse=oe,tt.logic_boolean=Ie,tt.logic_compare=j,tt.logic_negate=be,tt.logic_null=Ge,tt.logic_operation=ie,tt.logic_ternary=Te;var Qe={};Qe.controls_flow_statements=Pt,Qe.controls_for=Je,Qe.controls_forEach=Xe,Qe.controls_repeat=We,Qe.controls_repeat_ext=We,Qe.controls_whileUntil=lt;var Ct={};Ct.math_arithmetic=Lt,Ct.math_atan2=ke,Ct.math_change=$t,Ct.math_constant=rt,Ct.math_constrain=le,Ct.math_modulo=It,Ct.math_number=He,Ct.math_number_property=Ze,Ct.math_on_list=ft,Ct.math_random_float=ct,Ct.math_random_int=Be,Ct.math_round=yt,Ct.math_single=yt,Ct.math_trig=yt;var kt={};kt.procedures_callnoreturn=sn,kt.procedures_callreturn=Ot,kt.procedures_defnoreturn=Zt,kt.procedures_defreturn=Zt,kt.procedures_ifreturn=yn;var N=/^\s*'([^']|\\')*'\s*$/,ue=function(G){return N.test(G)?[G,U.ATOMIC]:["String("+G+")",U.FUNCTION_CALL]},De=function(G,$e,Pe){return $e==="FIRST"?"0":$e==="FROM_END"?G+".length - 1 - "+Pe:$e==="LAST"?G+".length - 1":Pe},Re={};Re.text=hr,Re.text_append=an,Re.text_changeCase=pr,Re.text_charAt=Wr,Re.text_count=Qn,Re.text_getSubstring=Zn,Re.text_indexOf=tn,Re.text_isEmpty=dt,Re.text_join=Yn,Re.text_length=Xn,Re.text_print=Ei,Re.text_prompt=Fi,Re.text_prompt_ext=Fi,Re.text_replace=ss,Re.text_reverse=yi,Re.text_trim=on;var Dt={};Dt.variables_get=sr,Dt.variables_set=Vn;var Cn={};Cn.variables_get_dynamic=sr,Cn.variables_set_dynamic=Vn;var Qr=new ne,ds=Object.assign({},Le,tt,Qe,Ct,kt,Re,Dt,Cn);for(const G in ds)Qr.forBlock[G]=ds[G];var fs={};return fs.JavascriptGenerator=ne,fs.Order=U,fs.javascriptGenerator=Qr,fs.__namespace__=a,fs})})($5)),$5.exports}var Tb=yb();const _b=qu(Tb),{JavascriptGenerator:KN,Order:JN,javascriptGenerator:An}=_b,s8="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIj48Y2lyY2xlIGN4PSIxMCIgY3k9IjEwIiByPSIzIiBmaWxsPSJ3aGl0ZSIvPjxjaXJjbGUgY3g9IjEwIiBjeT0iMTAiIHI9IjEwIiBmaWxsPSJub25lIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIG9wYWNpdHk9IjAuNSI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgZnJvbT0iMyIgdG89IjEwIiBkdXI9IjEuNXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIi8+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgZnJvbT0iMSIgdG89IjAiIGR1cj0iMS41cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiLz48L2NpcmNsZT48L3N2Zz4=";let o8=!1;const Uf=()=>{if(o8)return;o8=!0,console.log(" Enregistrement global des blocs (V4)..."),q2([{type:"maze_move_forward",message0:"Avancer ",previousStatement:null,nextStatement:null,colour:160},{type:"maze_turn",message0:"Pivoter %1 ",args0:[{type:"field_dropdown",name:"DIR",options:[[" gauche ","LEFT"],[" droite ","RIGHT"]]}],previousStatement:null,nextStatement:null,colour:160},{type:"maze_forever",message0:"Rpter jusqu'  %1",args0:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:120},{type:"maze_if",message0:"Si chemin %1 %2 %3 faire %4",args0:[{type:"field_dropdown",name:"DIR",options:[["devant ","AHEAD"],[" gauche ","LEFT"],[" droite ","RIGHT"]]},{type:"field_image",src:s8,width:15,height:15,alt:"Radar"},{type:"input_dummy"},{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:210},{type:"maze_if_else",message0:"Si chemin %1 %2 %3 faire %4 sinon %5",args0:[{type:"field_dropdown",name:"DIR",options:[["devant ","AHEAD"],[" gauche ","LEFT"],[" droite ","RIGHT"]]},{type:"field_image",src:s8,width:15,height:15,alt:"Radar"},{type:"input_dummy"},{type:"input_statement",name:"DO"},{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,colour:210}]),An.forBlock.maze_move_forward=o=>`actions.push({type: "MOVE", id: "${o.id}"}); api.move();
`,An.forBlock.maze_turn=o=>{const n=o.getFieldValue("DIR");return`actions.push({type: "TURN_${n}", id: "${o.id}"}); api.turn('${n}');
`},An.forBlock.maze_forever=o=>{const n=An.statementToCode(o,"DO");return`while (!api.isDone() && api.safeCheck()) {
      actions.push({type: "LOOP_CHECK", id: "${o.id}"}); 
      ${n}
    }
`},An.forBlock.maze_if=o=>{const n=o.getFieldValue("DIR"),a=An.statementToCode(o,"DO");return`actions.push({type: "SCAN", dir: "${n}", id: "${o.id}"}); if (api.isPath('${n}')) {
${a}}
`},An.forBlock.maze_if_else=o=>{const n=o.getFieldValue("DIR"),a=An.statementToCode(o,"DO"),h=An.statementToCode(o,"ELSE");return`actions.push({type: "SCAN", dir: "${n}", id: "${o.id}"}); if (api.isPath('${n}')) {
${a}} else {
${h}}
`},q2([{type:"turtle_move",message0:"avancer  de %1 pas",args0:[{type:"input_value",name:"VALUE",check:"Number"}],previousStatement:null,nextStatement:null,colour:160},{type:"turtle_turn",message0:"pivoter %1 de %2 degrs ",args0:[{type:"field_dropdown",name:"DIR",options:[[" gauche","LEFT"],[" droite","RIGHT"]]},{type:"input_value",name:"VALUE",check:"Number"}],previousStatement:null,nextStatement:null,colour:160},{type:"turtle_pen",message0:"stylo %1",args0:[{type:"field_dropdown",name:"STATE",options:[["lev ","UP"],["baiss ","DOWN"]]}],previousStatement:null,nextStatement:null,colour:160},{type:"turtle_color",message0:"couleur %1",args0:[{type:"field_colour",name:"COLOR",colour:"#ff0000"}],previousStatement:null,nextStatement:null,colour:160}]),An.forBlock.turtle_move=o=>`actions.push({type: 'MOVE', id: "${o.id}", dist: ${An.valueToCode(o,"VALUE",An.ORDER_ATOMIC)||"0"}});
`,An.forBlock.turtle_turn=o=>{const n=o.getFieldValue("DIR"),a=An.valueToCode(o,"VALUE",An.ORDER_ATOMIC)||"0",h=n==="LEFT"?`-${a}`:a;return`actions.push({type: 'TURN', id: "${o.id}", angle: ${h}});
`},An.forBlock.turtle_pen=o=>`actions.push({type: 'PEN', id: "${o.id}", state: '${o.getFieldValue("STATE")}'});
`,An.forBlock.turtle_color=o=>`actions.push({type: 'COLOR', id: "${o.id}", color: '${o.getFieldValue("COLOR")}'});
`,An.forBlock.variables_set=o=>{const n=An.valueToCode(o,"VALUE",An.ORDER_ATOMIC)||"0",a=o.getField("VAR").getText();return`try { ${a} = ${n}; actions.push({type: 'SET', id: "${o.id}", var: '${a}', val: ${a}}); } catch(e) { console.error(e); }
`},D6.text_print||q2([{type:"text_print",message0:"afficher %1",args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,colour:160}]),An.forBlock.text_print=o=>{const n=An.valueToCode(o,"TEXT",An.ORDER_NONE)||"''";return`actions.push({type: 'PRINT', id: "${o.id}", msg: ${n}});
`},D6.system_var_get||(D6.system_var_get={init:function(){this.jsonInit({message0:"%1",args0:[{type:"field_label_serializable",name:"VAR_NAME",text:"VAR"}],output:null,colour:60,editable:!1})}}),An.forBlock.system_var_get=o=>[o.getField("VAR_NAME").getText(),An.ORDER_ATOMIC],q2([{type:"equation_op_both",message0:"Aux deux cts %1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["Ajouter +","ADD"],["Soustraire -","SUB"],["Multiplier ","MUL"],["Diviser /","DIV"]]},{type:"input_value",name:"VAL"}],previousStatement:null,nextStatement:null,colour:230,tooltip:"Applique une opration aux deux membres de l'quation"}]),An.forBlock.equation_op_both=o=>{const n=o.getFieldValue("OP"),a=An.valueToCode(o,"VAL",An.ORDER_ATOMIC)||"0";return`actions.push({ type: 'OP_BOTH', operator: '${{ADD:"+",SUB:"-",MUL:"*",DIV:"/"}[n]}', value: ${a} });
`},q2([{type:"equation_term_x",message0:"%1 x",args0:[{type:"field_number",name:"COEFF",value:1,precision:1}],output:null,colour:230,tooltip:"Reprsente une inconnue (ex: 2x, -x...)"}]),An.forBlock.equation_term_x=o=>[`"${o.getFieldValue("COEFF")}*x"`,An.ORDER_ATOMIC];const r=(o,n)=>{const a=o.getFieldValue("WHERE")||"FROM_START";let h="0";switch(a){case"FIRST":h="0";break;case"LAST":h=`${n}.length - 1`;break;case"FROM_START":h=String(An.valueToCode(o,"AT",An.ORDER_NONE)||"1").match(/^\d+$/)?parseInt(An.valueToCode(o,"AT",An.ORDER_NONE)||"1",10)-1:`(${An.valueToCode(o,"AT",An.ORDER_NONE)||"1"} - 1)`;break;case"FROM_END":h=`${n}.length - ${An.valueToCode(o,"AT",An.ORDER_NONE)||"1"}`;break;case"RANDOM":h=`Math.floor(Math.random() * ${n}.length)`;break}return h};An.forBlock.lists_create_with=o=>{const n=new Array(o.itemCount_);for(let a=0;a<o.itemCount_;a++)n[a]=An.valueToCode(o,"ADD"+a,An.ORDER_NONE)||"0";return["["+n.join(", ")+"]",An.ORDER_ATOMIC]},An.forBlock.lists_getIndex=o=>[`${An.valueToCode(o,"VALUE",An.ORDER_MEMBER)||"[]"}[${r(o,An.valueToCode(o,"VALUE",An.ORDER_MEMBER)||"[]")}]`,An.ORDER_MEMBER],An.forBlock.lists_setIndex=o=>`${An.valueToCode(o,"LIST",An.ORDER_MEMBER)||"[]"}[${r(o,An.valueToCode(o,"LIST",An.ORDER_MEMBER)||"[]")}] = ${An.valueToCode(o,"TO",An.ORDER_ASSIGNMENT)||"null"};
actions.push({type: 'SET', id: "${o.id}", var: '${An.valueToCode(o,"LIST",An.ORDER_MEMBER)||"[]"}', val: ${An.valueToCode(o,"LIST",An.ORDER_MEMBER)||"[]"}});
`,An.forBlock.lists_length=o=>[`${An.valueToCode(o,"VALUE",An.ORDER_MEMBER)||"[]"}.length`,An.ORDER_MEMBER]},J3={maze_move_forward:'<block type="maze_move_forward"></block>',maze_forever:'<block type="maze_forever"></block>',maze_if:'<block type="maze_if"></block>',maze_if_else:'<block type="maze_if_else"></block>',maze_turn:`
    <block type="maze_turn"><field name="DIR">LEFT</field></block>
    <block type="maze_turn"><field name="DIR">RIGHT</field></block>
  `,turtle_move:`
    <block type="turtle_move">
      <value name="VALUE"><shadow type="math_number"><field name="NUM">50</field></shadow></value>
    </block>
  `,turtle_turn:`
    <block type="turtle_turn">
      <value name="VALUE"><shadow type="math_number"><field name="NUM">90</field></shadow></value>
    </block>
  `,turtle_pen:`
    <block type="turtle_pen"><field name="STATE">UP</field></block>
    <block type="turtle_pen"><field name="STATE">DOWN</field></block>
  `,turtle_color:`
    <block type="turtle_color"><field name="COLOR">#ff0000</field></block>
  `,equation_op_both:`
    <block type="equation_op_both">
      <value name="VAL"><shadow type="math_number"><field name="NUM">1</field></shadow></value>
    </block>
  `,equation_term_x:`
    <block type="equation_term_x">
      <field name="COEFF">1</field>
    </block>
  `,controls_repeat_ext:`
    <block type="controls_repeat_ext">
      <value name="TIMES">
        <shadow type="math_number"><field name="NUM">5</field></shadow>
      </value>
    </block>
  `,controls_whileUntil:'<block type="controls_whileUntil"></block>',controls_if:'<block type="controls_if"></block>',logic_compare:'<block type="logic_compare"></block>',logic_operation:'<block type="logic_operation"></block>',math_number:'<block type="math_number"></block>',math_arithmetic:`
    <block type="math_arithmetic">
      <value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow></value>
      <value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value>
    </block>
  `,math_modulo:`
    <block type="math_modulo">
      <value name="DIVIDEND"><shadow type="math_number"><field name="NUM">10</field></shadow></value>
      <value name="DIVISOR"><shadow type="math_number"><field name="NUM">2</field></shadow></value>
    </block>
  `,math_random_int:`
    <block type="math_random_int">
      <value name="FROM"><shadow type="math_number"><field name="NUM">1</field></shadow></value>
      <value name="TO"><shadow type="math_number"><field name="NUM">100</field></shadow></value>
    </block>
  `,lists_create_with:'<block type="lists_create_with"><mutation items="3"></mutation></block>',lists_getIndex:'<block type="lists_getIndex"></block>',lists_setIndex:'<block type="lists_setIndex"></block>',lists_length:'<block type="lists_length"></block>',text_print:'<block type="text_print"></block>',text_prompt_ext:'<block type="text_prompt_ext"><value name="TEXT"><shadow type="text"><field name="TEXT">?</field></shadow></value></block>',variables_get:'<block type="variables_get"></block>',variables_set:'<block type="variables_set"></block>'},Eb={maze_move_forward:"Avancer ",maze_turn:"Pivoter ",maze_if:"Si chemin... ",maze_if_else:"Si... Sinon... ",maze_forever:"Rpter jusqu' ",turtle_move:"Avancer ",turtle_turn:"Pivoter ",turtle_pen:"Stylo ",turtle_color:"Couleur ",controls_repeat_ext:"Rpter N fois",controls_whileUntil:"Rpter tant que",controls_if:"Si... Alors",logic_compare:"Comparaison",logic_operation:"Oprateur",math_number:"Nombre",math_arithmetic:"Calcul",math_modulo:"Reste",math_random_int:"Alatoire",equation_op_both:"Opration quation",equation_term_x:"Terme X (ax)",text_print:"Afficher",text_prompt_ext:"Demander",lists_create_with:"Crer liste",lists_getIndex:"Lire lment",lists_setIndex:"Modifier lment",lists_length:"Longueur liste",variables_set:"Dfinir variable",variables_get:"Lire variable"},Jm={MAZE:["Mouvements","Capteurs","Logique"],TURTLE:["Tortue","Logique","Mathmatiques","Variables"],MATH:["Mathmatiques","Listes","Variables","Interactions","Logique"],EQUATION:["Algbre"]},i3={Mouvements:["maze_move_forward","maze_turn"],Capteurs:["maze_if","maze_if_else","maze_forever"],Tortue:["turtle_move","turtle_turn","turtle_pen","turtle_color"],Logique:["controls_repeat_ext","controls_whileUntil","controls_if","logic_compare","logic_operation"],Mathmatiques:["math_number","math_arithmetic","math_modulo","math_random_int"],Listes:["lists_create_with","lists_getIndex","lists_setIndex","lists_length"],Variables:["variables_set"],Interactions:["text_print","text_prompt_ext"],Algbre:["equation_op_both","equation_term_x","math_number"]},c3=(r,o,n=[],a=[])=>Zm(r,o,n,a),wb=(r,o,n=[],a=[])=>{const h=Jm[r]||[];let p=[];return h.forEach($=>{i3[$]&&(p=[...p,...i3[$]])}),Zm(p,o,n,a,!0)},Zm=(r,o,n,a,h=!1)=>{let p="",$=new Set(r||[]);const _=(r||[]).length,T=h||_>=6;let E=!1,w="";if(o&&Object.keys(o).length>0){const z=Object.keys(o).filter(B=>!n.includes(B));z.length>0&&(z.forEach(B=>{a.includes(B)?w+=`<block type="system_var_get"><field name="VAR_NAME">${B}</field></block>`:(w+=`<block type="variables_get"><field name="VAR">${B}</field></block>`,$.has("variables_set")&&(w+=`<block type="variables_set"><field name="VAR">${B}</field></block>`))}),w&&(T?(p+=`<category name="Variables" colour="330">${w}</category>`,E=!0):p+=w,w="",$.delete("variables_set"),$.delete("variables_get")))}Object.entries(i3).forEach(([z,B])=>{const Z=B.filter(oe=>$.has(oe));if(Z.length===0&&!h)return;const ce=h?B:Z;if(ce.length>0){let oe="";if(ce.forEach(j=>{J3[j]&&(oe+=J3[j],$.delete(j))}),T){let j="0";z==="Mouvements"&&(j="120"),z==="Tortue"&&(j="160"),z==="Logique"&&(j="210"),z==="Mathmatiques"&&(j="230"),z==="Listes"&&(j="260"),z==="Interactions"&&(j="160"),z==="Algbre"&&(j="290"),p+=`<category name="${z}" colour="${j}">${oe}</category>`,E=!0}else p+=oe}});let A=w;return $.forEach(z=>{J3[z]&&(A+=J3[z])}),E?A&&(p+=`<category name=" Divers" colour="0">${A}</category>`):p+=A,{xml:`<xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">${p}</xml>`,hasCategories:E}};function Sb({levelData:r,onUpdate:o}){const n=kn.useRef(null),[a,h]=kn.useState("START"),[p,$]=kn.useState(!1);kn.useEffect(()=>{const j=setTimeout(()=>{try{Uf(),$(!0)}catch(ie){console.error(ie)}},10);return()=>clearTimeout(j)},[]);const _={scrollbars:!0,trashcan:!0,readOnly:!1,zoom:{controls:!0,wheel:!0,startScale:.9}},T=r.type||"MAZE",E=kn.useMemo(()=>c3(r.allowedBlocks,r.inputs,r.hiddenVars,r.lockedVars),[r.allowedBlocks,r.inputs,r.hiddenVars,r.lockedVars]),w=kn.useMemo(()=>wb(T,r.inputs,r.hiddenVars,r.lockedVars),[T,r.inputs,r.hiddenVars,r.lockedVars]),A=a==="SOLUTION"?w:E,z=`${r.id}-${T}-${a}-${A.hasCategories?"CAT":"FLY"}`,B=j=>{n.current=j,window.setTimeout(()=>bf(j),0)};kn.useEffect(()=>{n.current&&p&&n.current.updateToolbox(A.xml)},[A,p]);const Z=j=>{const ie=r.allowedBlocks||[],be=ie.includes(j)?ie.filter(Ie=>Ie!==j):[...ie,j];o({...r,allowedBlocks:be})},ce=j=>{const ie=i3[j]||[],be=r.allowedBlocks||[],Ge=ie.every(Te=>be.includes(Te))?be.filter(Te=>!ie.includes(Te)):[...be,...ie.filter(Te=>!be.includes(Te))];o({...r,allowedBlocks:Ge})},oe=Jm[T]||[];return p?_e.jsxs("div",{className:"flex flex-col h-full gap-4",children:[_e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 h-[55%] min-h-[400px]",children:[_e.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden relative flex flex-col",children:[T==="MAZE"&&_e.jsx(X$,{levelData:r,onUpdate:o}),T==="TURTLE"&&_e.jsx(Y$,{levelData:r,onUpdate:o}),T==="MATH"&&_e.jsx(j$,{levelData:r,onUpdate:o}),T==="EQUATION"&&_e.jsx(K$,{levelData:r,onUpdate:o})]}),_e.jsxs("div",{className:"w-full lg:w-80 flex-shrink-0 bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col overflow-hidden",children:[_e.jsx("div",{className:"p-3 border-b border-slate-100 bg-slate-50/50",children:_e.jsxs("h4",{className:"m-0 text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[_e.jsx("span",{children:""})," Configuration"]})}),_e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar space-y-5",children:[_e.jsxs("div",{children:[_e.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase",children:"Consigne"}),_e.jsx("textarea",{value:r.instruction||"",onChange:j=>o({...r,instruction:j.target.value}),className:"w-full h-24 p-2 text-sm text-slate-700 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none bg-slate-50 focus:bg-white",placeholder:"Instructions en Markdown..."})]}),_e.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100 flex justify-between items-center",children:[_e.jsx("label",{className:"text-xs font-bold text-emerald-600",children:" Objectif (Par)"}),_e.jsxs("div",{className:"flex items-center gap-2",children:[_e.jsx("input",{type:"number",min:"1",value:r.maxBlocks||5,onChange:j=>o({...r,maxBlocks:parseInt(j.target.value)}),className:"w-14 p-1 text-center font-bold text-sm text-slate-700 border border-slate-200 rounded focus:ring-2 focus:ring-emerald-500"}),_e.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"blocs"})]})]}),_e.jsxs("div",{children:[_e.jsx("h4",{className:"text-[10px] font-bold text-slate-400 mb-2 uppercase border-t border-slate-100 pt-3",children:" Blocs autoriss"}),_e.jsx("div",{className:"space-y-1",children:oe.map(j=>{const ie=i3[j]||[],be=r.allowedBlocks||[],Ie=ie.every(Te=>be.includes(Te)),Ge=ie.some(Te=>be.includes(Te))&&!Ie;return j==="Variables"&&(!r.inputs||Object.keys(r.inputs).length===0)?null:_e.jsxs("details",{open:Ie||Ge,className:"group border border-slate-100 rounded-lg overflow-hidden bg-white",children:[_e.jsxs("summary",{className:"flex items-center justify-between p-2 bg-slate-50/80 cursor-pointer select-none hover:bg-slate-100",children:[_e.jsx("span",{className:"text-xs font-bold text-slate-600",children:j}),_e.jsx("input",{type:"checkbox",checked:Ie,ref:Te=>{Te&&(Te.indeterminate=Ge)},onChange:Te=>{Te.stopPropagation(),ce(j)},className:"w-3.5 h-3.5 rounded text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"})]}),_e.jsx("div",{className:"p-2 space-y-1",children:ie.map(Te=>_e.jsx("div",{className:"flex items-center hover:bg-blue-50/50 p-1 rounded transition-colors",children:_e.jsxs("label",{className:"flex-1 cursor-pointer flex items-center text-[11px] text-slate-500 gap-2",children:[_e.jsx("input",{type:"checkbox",checked:be.includes(Te),onChange:()=>Z(Te),className:"w-3.5 h-3.5 rounded text-blue-600 focus:ring-blue-500 border-gray-300"}),Eb[Te]||Te]})},Te))})]},j)})})]})]})]})]}),_e.jsxs("div",{className:"flex-1 flex flex-col bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden min-h-[300px]",children:[_e.jsx("div",{className:"flex border-b border-slate-100 bg-slate-50",children:[{id:"START",label:" Code lve (Dpart)",color:"blue"},{id:"SOLUTION",label:" Solution Prof",color:"emerald"}].map(j=>_e.jsx("button",{onClick:()=>h(j.id),className:`
                        flex-1 py-2 text-xs font-bold uppercase tracking-wider transition-all
                        ${a===j.id?`text-${j.color}-600 bg-white border-t-2 border-${j.color}-500`:"text-slate-400 hover:text-slate-600 hover:bg-slate-100"}
                    `,children:j.label},j.id))}),_e.jsx("div",{className:`flex-1 relative ${a==="SOLUTION"?"bg-emerald-50/30":"bg-white"}`,children:_e.jsx("div",{className:"absolute inset-0 blockly-container-custom",children:_e.jsx(zf,{className:"blockly-div w-full h-full",toolboxConfiguration:A.xml,workspaceConfiguration:_,initialXml:a==="START"?r.startBlocks||"<xml></xml>":r.solutionBlocks||"<xml></xml>",onXmlChange:j=>{o(a==="START"?{...r,startBlocks:j}:{...r,solutionBlocks:j})},onInject:B},z)})})]})]}):_e.jsx("div",{className:"p-10 text-center text-slate-400 animate-pulse",children:"Chargement..."})}const Z3=[{id:"MAZE",label:"Labyrinthe",icon:"",defaultBlocks:["maze_move_forward","maze_turn","maze_forever","maze_if"]},{id:"TURTLE",label:"Tortue",icon:"",defaultBlocks:["turtle_move","turtle_turn","turtle_pen","turtle_color","controls_repeat_ext"]},{id:"MATH",label:"Labo",icon:"",defaultBlocks:["variables_set","math_number","math_arithmetic","text_print"]},{id:"EQUATION",label:"quation",icon:"",defaultBlocks:["equation_op_both","math_number"]}],xb={MAZE:"",TURTLE:"",MATH:"",EQUATION:""};function kb(){const[r,o]=kn.useState(()=>{const be=localStorage.getItem("blokaly_builder_autosave");if(be)try{return JSON.parse(be)}catch(Ie){console.error(Ie)}return{title:"Ma Nouvelle Campagne",levels:[{id:1,type:"MAZE",grid:Ho.defaultGrid,startPos:{x:1,y:1},maxBlocks:5,allowedBlocks:Z3[0].defaultBlocks}]}}),[n,a]=kn.useState(0),h=kn.useRef(null),p=kn.useRef(null),$=kn.useRef(null);kn.useEffect(()=>{localStorage.setItem("blokaly_builder_autosave",JSON.stringify(r))},[r]);const _=be=>{const Ie=[...r.levels];Ie[n]=be,o({...r,levels:Ie})},T=be=>{const Ie=r.levels[n];if(Ie.type===be)return;const Ge=Z3.find(We=>We.id===be);let Te={};be==="MAZE"?Te={grid:Ho.defaultGrid,startPos:{x:1,y:1,dir:1},maxBlocks:10}:be==="TURTLE"?Te={startPos:{x:0,y:0,dir:0},maxBlocks:10,grid:void 0}:be==="MATH"?Te={maxBlocks:20,startPos:void 0}:be==="EQUATION"&&(Te={equation:{a:2,b:4,c:0,d:10,lhs:"2*x+4",rhs:"10"},maxBlocks:5}),confirm(`Passer en mode ${Ge.label} ? Cela rinitialisera ce niveau.`)&&_({...Ie,type:be,allowedBlocks:Ge.defaultBlocks,startBlocks:"<xml></xml>",solutionBlocks:"<xml></xml>",...Te})},E=(be,Ie)=>{h.current=Ie},w=(be,Ie)=>{p.current=Ie,be.preventDefault()},A=()=>{const be=h.current,Ie=p.current;if(be!==null&&Ie!==null&&be!==Ie){const Ge=[...r.levels],Te=Ge[be];Ge.splice(be,1),Ge.splice(Ie,0,Te),o({...r,levels:Ge}),a(Ie)}h.current=null,p.current=null},z=()=>{const be=Z3[0],Ie={id:Date.now(),type:be.id,grid:Ho.defaultGrid,startPos:{x:1,y:1},maxBlocks:10,allowedBlocks:be.defaultBlocks};o({...r,levels:[...r.levels,Ie]}),a(r.levels.length)},B=be=>{const Ie={...JSON.parse(JSON.stringify(r.levels[be])),id:Date.now()},Ge=[...r.levels];Ge.splice(be+1,0,Ie),o({...r,levels:Ge}),a(be+1)},Z=be=>{if(r.levels.length<=1)return alert("Impossible de supprimer le dernier niveau !");const Ie=r.levels.filter((Ge,Te)=>Te!==be);o({...r,levels:Ie}),be<=n&&a(Math.max(0,n-1))},ce=()=>{const be=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),Ie=document.createElement("a");Ie.href=URL.createObjectURL(be),Ie.download=`${r.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.blokaly.json`,Ie.click()},oe=be=>{const Ie=be.target.files[0];if(!Ie)return;const Ge=new FileReader;Ge.onload=Te=>{try{const We=JSON.parse(Te.target.result);if(!We.levels||!Array.isArray(We.levels))throw new Error("Format invalide (pas de niveaux)");confirm(`Charger la campagne "${We.title||"Sans titre"}" ?`)&&(o(We),a(0))}catch(We){alert("Erreur lors du chargement : "+We.message)}},Ge.readAsText(Ie),be.target.value=null},j=()=>{const be=new URL(window.location.href);be.search=`?data=${qm.compressToEncodedURIComponent(JSON.stringify(r))}&preview=1`,window.open(be.toString(),"_blank")},ie=r.levels[n];return _e.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-50 font-sans",children:[_e.jsxs("div",{className:"w-64 bg-slate-900 text-white flex flex-col border-r border-slate-800 flex-shrink-0 z-20",children:[_e.jsxs("div",{className:"p-6 bg-slate-950 border-b border-slate-800",children:[_e.jsx("label",{className:"text-xs uppercase font-bold text-slate-500 tracking-wider mb-1 block",children:"Campagne"}),_e.jsx("input",{type:"text",value:r.title,onChange:be=>o({...r,title:be.target.value}),className:"bg-transparent border-none text-lg font-bold text-white w-full focus:ring-0 placeholder-slate-600 p-0",placeholder:"Titre..."})]}),_e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-1",children:r.levels.map((be,Ie)=>_e.jsxs("div",{draggable:!0,onDragStart:Ge=>E(Ge,Ie),onDragEnter:Ge=>w(Ge,Ie),onDragEnd:A,onDragOver:Ge=>Ge.preventDefault(),onClick:()=>a(Ie),className:`group flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all border border-transparent ${Ie===n?"bg-blue-600 text-white shadow-md":"text-slate-400 hover:bg-slate-800"}`,children:[_e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[_e.jsx("span",{className:"cursor-grab opacity-50",children:""}),_e.jsx("span",{className:"text-lg",children:xb[be.type]||""}),_e.jsxs("span",{className:"truncate text-sm font-medium",children:["Niveau ",Ie+1]})]}),_e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100",children:[_e.jsx("button",{onClick:Ge=>{Ge.stopPropagation(),B(Ie)},className:"p-1 hover:bg-white/20 rounded",title:"Dupliquer",children:""}),r.levels.length>1&&_e.jsx("button",{onClick:Ge=>{Ge.stopPropagation(),Z(Ie)},className:"p-1 hover:bg-red-500/20 text-red-400 rounded",title:"Supprimer",children:""})]})]},be.id))}),_e.jsxs("div",{className:"p-4 bg-slate-950 border-t border-slate-800 flex flex-col gap-2",children:[_e.jsxs("button",{onClick:z,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded font-bold text-xs flex justify-center gap-2",children:[_e.jsx("span",{children:"+"})," Nouveau Niveau"]}),_e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[_e.jsx("button",{onClick:ce,className:"py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded text-xs transition-colors",children:" Export"}),_e.jsx("button",{onClick:()=>$.current.click(),className:"py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded text-xs transition-colors",children:" Import"})]}),_e.jsx("input",{type:"file",ref:$,className:"hidden",onChange:oe,accept:".json"})]})]}),_e.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[_e.jsxs("div",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 shadow-sm z-10 shrink-0",children:[_e.jsxs("div",{className:"flex items-center gap-6",children:[_e.jsxs("h2",{className:"text-lg font-bold text-slate-700 whitespace-nowrap",children:["Niveau ",n+1]}),_e.jsx("div",{className:"flex bg-slate-100 p-1 rounded-lg border border-slate-200",children:Z3.map(be=>{const Ie=ie?.type===be.id;return _e.jsxs("button",{onClick:()=>T(be.id),className:`
                                flex items-center gap-2 px-3 py-1.5 rounded-md text-xs font-bold transition-all
                                ${Ie?"bg-white text-blue-600 shadow-sm ring-1 ring-black/5":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"}
                            `,children:[_e.jsx("span",{children:be.icon}),_e.jsx("span",{className:"hidden xl:inline",children:be.label})]},be.id)})})]}),_e.jsx("button",{onClick:j,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-bold text-xs shadow transition-all flex items-center gap-2",children:" TESTER"})]}),_e.jsx("div",{className:"flex-1 overflow-hidden p-6 bg-slate-50",children:ie?_e.jsx(Sb,{levelData:ie,onUpdate:_},ie.id):_e.jsx("div",{className:"flex h-full items-center justify-center text-slate-400",children:"Slectionnez un niveau..."})})]})]})}const Cb={position:"absolute",width:"100%",height:"100%",top:0,left:0,backgroundColor:"rgba(46, 204, 113, 0.5)",borderRadius:"50%",animation:"radarPing 0.5s ease-out forwards",zIndex:5},Ab=`
@keyframes radarPing {
  0% { transform: scale(0.2); opacity: 0.8; }
  100% { transform: scale(1.5); opacity: 0; }
}
`;function Ib({grid:r,playerPos:o,playerDir:n,lastAction:a}){const h=n*90+90,p=r.length,$=r[0].length,_=a&&a.type==="SCAN";let T=null;const E=w=>(w%4+4)%4;if(_)if(a.dir==="SELF")T={x:o.x,y:o.y};else{const w=E(n);let A=w;a.dir==="LEFT"&&(A=(w+3)%4),a.dir==="RIGHT"&&(A=(w+1)%4);let z=0,B=0;A===0&&(z=1),A===1&&(B=1),A===2&&(z=-1),A===3&&(B=-1),T={x:o.x+z,y:o.y+B}}return _e.jsxs("div",{style:Q3.container,children:[_e.jsx("style",{children:Ab}),_e.jsx("div",{style:{...Q3.grid,gridTemplateColumns:`repeat(${$}, 1fr)`,aspectRatio:`${$} / ${p}`},children:r.map((w,A)=>w.map((z,B)=>{const Z=o.x===B&&o.y===A,ce=T&&T.x===B&&T.y===A,oe=`min(40px, ${60/Math.max(p,$)}vmin)`;return _e.jsxs("div",{style:Q3.cell,children:[_e.jsx("span",{style:{zIndex:1,fontSize:oe},children:Ho.THEME[z]||""}),Z&&_e.jsx("div",{style:{...Q3.player,transform:`rotate(${h}deg)`,fontSize:oe},children:Ho.THEME.PLAYER}),ce&&_e.jsx("div",{style:Cb},a._uid)]},`${A}-${B}`)}))})]})}const Q3={container:{display:"flex",justifyContent:"center",alignItems:"center",background:"#2c3e50",padding:"10px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.3)",width:"100%",height:"100%",overflow:"hidden"},grid:{display:"grid",gap:"1px",backgroundColor:"#34495e",border:"4px solid #34495e",width:"auto",height:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"},cell:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",background:"#ecf0f1",overflow:"visible"},player:{position:"absolute",zIndex:10,transition:"transform 0.2s ease, top 0.2s ease, left 0.2s ease",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"}},Qm={id:"MAZE",RenderComponent:Ib,registerBlocks:(r,o)=>{},getToolboxXML:(r,o,n,a)=>c3(r,o,n,a),executeStep:(r,o,n)=>{const a=r||{x:n.startPos?.x||0,y:n.startPos?.y||1,dir:n.startPos?.dir!==void 0?n.startPos.dir:0};let{x:h,y:p,dir:$}=a,_="RUNNING";const T=typeof o=="object"&&o.type?o.type:o,E=w=>(w%4+4)%4;if(T==="MOVE"){let w=h,A=p;const z=E($);z===0?w++:z===1?A++:z===2?w--:z===3&&A--;const B=Ho.checkMove(n.grid||Ho.defaultGrid,w,A);B==="OK"||B==="WIN"?(h=w,p=A,B==="WIN"&&(_="WIN")):_="LOST"}else T&&T.startsWith("TURN_")&&($=T.split("_")[1]==="LEFT"?$-1:$+1);return{newState:{x:h,y:p,dir:$},status:_}}};function Mb({state:r,history:o,hiddenVars:n}){const a=r?.variables||{},h=o||[],p=n||[],$=Object.entries(a).filter(([T])=>!p.includes(T)),_=({value:T})=>Array.isArray(T)?_e.jsxs("div",{style:{display:"flex",gap:"2px",marginTop:"5px"},children:[T.map((E,w)=>_e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[_e.jsx("div",{style:{border:"1px solid #2c3e50",padding:"4px 8px",minWidth:"20px",textAlign:"center",background:"#fff",fontSize:"1.2rem",fontWeight:"bold"},children:E}),_e.jsx("div",{style:{fontSize:"0.6rem",color:"#7f8c8d"},children:w})]},w)),T.length===0&&_e.jsx("span",{style:{fontStyle:"italic",color:"#aaa"},children:"Vide []"})]}):_e.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#2c3e50"},children:T});return _e.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",padding:"10px",boxSizing:"border-box",gap:"15px",background:"#2c3e50"},children:[_e.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",justifyContent:"center",alignContent:"flex-start",minHeight:"130px"},children:[$.map(([T,E])=>{const w=Array.isArray(E);return _e.jsxs("div",{style:{background:"white",borderRadius:"8px",minWidth:w?"160px":"100px",height:"auto",minHeight:"120px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",padding:"10px",boxShadow:"0 4px 0 #bdc3c7",animation:"popIn 0.3s"},children:[_e.jsx("div",{style:{fontWeight:"bold",color:"#7f8c8d",borderBottom:"2px solid #eee",width:"100%",textAlign:"center",marginBottom:"5px"},children:T}),_e.jsx(_,{value:E}),_e.jsx("div",{style:{fontSize:"0.6rem",color:"#ccc",textTransform:"uppercase",marginTop:"5px"},children:w?`LISTE (${E.length})`:typeof E})]},T)}),$.length===0&&_e.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontStyle:"italic",marginTop:"20px"},children:Object.keys(a).length>0?"Mmoire masque ":"Mmoire vide"})]}),_e.jsxs("div",{style:{flex:1,background:"#ecf0f1",borderRadius:"8px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[_e.jsx("div",{style:{padding:"8px 15px",background:"#bdc3c7",fontWeight:"bold",color:"#2c3e50",fontSize:"0.9rem",borderBottom:"1px solid #95a5a6"},children:">_ Terminal / Historique"}),_e.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"10px",fontFamily:"monospace",fontSize:"0.9rem",background:"#222",color:"#2ecc71"},children:[h.map((T,E)=>_e.jsxs("div",{style:{marginBottom:"4px"},children:[_e.jsxs("span",{style:{color:"#555",marginRight:"10px"},children:[E+1,"."]}),T]},E)),_e.jsx("div",{style:{animation:"blink 1s infinite",display:"inline-block"},children:""})]})]}),_e.jsx("style",{children:"@keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } } @keyframes blink { 50% { opacity: 0; } }"})]})}const Rb=(r,o)=>{if(Array.isArray(r)||Array.isArray(o))return JSON.stringify(r)===JSON.stringify(o);const n=String(r).replace(",",".").trim(),a=String(o).replace(",",".").trim(),h=parseFloat(n),p=parseFloat(a);return!isNaN(h)&&!isNaN(p)&&n!==""&&a!==""?Math.abs(h-p)<1e-6:n===a},Nb={id:"MATH",RenderComponent:Mb,registerBlocks:()=>{},getToolboxXML:(r,o,n,a)=>c3(r,o,n,a),executeStep:(r,o,n)=>{const a=r||{variables:{...n.inputs},logs:[]},h={...a.variables},p=[...a.logs],$=n.hiddenVars||[],_=n.lockedVars||[];if(o.type==="SET")if($.includes(o.var)||_.includes(o.var))p.push(` ERREUR : ${o.var} est protge.`),console.warn(`[MathPlugin] Tentative d'criture sur variable protge : ${o.var}`);else{console.log(`[MathPlugin] SET ${o.var} =`,o.val,`(Type: ${typeof o.val})`),h[o.var]=o.val;let T=o.val;Array.isArray(o.val)&&(T=JSON.stringify(o.val)),p.push(` ${o.var} <- ${T}`)}else o.type==="PRINT"&&p.push(` ${o.msg}`);return{newState:{variables:h,logs:p},status:"RUNNING"}},checkVictory:(r,o)=>{const n=o.targets||{},a=Object.keys(n),h=r?.variables||{};if(console.group(" DEBUG VALIDATION MATHS"),console.log("1 Variables en fin de jeu :",JSON.parse(JSON.stringify(h))),console.log("2 Objectifs (Targets) dfinis :",JSON.parse(JSON.stringify(n))),a.length===0)return console.log(" Aucun objectif dfini -> Pas de victoire auto."),console.groupEnd(),!1;const $=a.map(_=>{const T=h[_];let E=n[_];if(typeof E=="string"&&E.startsWith("@")){const A=E.substring(1);o.inputs&&o.inputs[A]!==void 0?(E=o.inputs[A],console.log(`    Rfrence ${n[_]} rsolue en :`,E)):console.warn(`    Rfrence ${n[_]} introuvable dans les inputs !`)}const w=Rb(T,E);return console.log(` Test Variable '${_}' :`),console.log("   - Attendu :",E,`(Type: ${typeof E})`),console.log("   - Reu    :",T,`(Type: ${typeof T})`),console.log(`   - Rsultat: ${w?" OK":" CHEC"}`),w}).every(_=>_===!0);return console.log(" RSULTAT FINAL :",$?"VICTOIRE":"CHEC (Essaye encore)"),console.groupEnd(),$}},X1=400,j1=400;function Ob({state:r,playerPos:o,playerDir:n,modelLines:a}){const h=kn.useRef(null),p=kn.useRef(null),$=r?.x!==void 0?r.x:o?.x,_=r?.y!==void 0?r.y:o?.y,T=r?.dir!==void 0?r.dir:n,E=Number.isFinite(Number($))?Number($):0,w=Number.isFinite(Number(_))?Number(_):0,A=Number.isFinite(Number(T))?Number(T):0,z=r?.lines||[],B=j=>X1/2+j,Z=j=>j1/2-j,ce=(j,ie,be=null)=>{j.clearRect(0,0,X1,j1),j.lineCap="round",j.lineJoin="round",ie&&ie.forEach(Ie=>{j.beginPath(),j.strokeStyle=be||Ie.color||"#2c3e50",j.lineWidth=be?4:Ie.width||2,be&&(j.globalAlpha=.3),j.moveTo(B(Ie.x1),Z(Ie.y1)),j.lineTo(B(Ie.x2),Z(Ie.y2)),j.stroke(),be&&(j.globalAlpha=1)})};kn.useEffect(()=>{if(p.current&&a){const j=p.current.getContext("2d");ce(j,a,"#95a5a6")}},[a]),kn.useEffect(()=>{if(h.current){const j=h.current.getContext("2d");ce(j,z)}},[z]);const oe=A;return _e.jsxs("div",{style:{position:"relative",width:X1,height:j1,background:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[_e.jsxs("svg",{width:"100%",height:"100%",style:{position:"absolute",top:0,left:0,zIndex:1},children:[_e.jsx("defs",{children:_e.jsx("pattern",{id:"grid",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:_e.jsx("path",{d:"M 50 0 L 0 0 0 50",fill:"none",stroke:"#f4f4f4",strokeWidth:"1"})})}),_e.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),_e.jsx("line",{x1:X1/2,y1:"0",x2:X1/2,y2:j1,stroke:"#ddd",strokeWidth:"1"}),_e.jsx("line",{x1:"0",y1:j1/2,x2:X1,y2:j1/2,stroke:"#ddd",strokeWidth:"1"})]}),_e.jsx("canvas",{ref:p,width:X1,height:j1,style:{position:"absolute",top:0,left:0,zIndex:2,pointerEvents:"none"}}),_e.jsx("canvas",{ref:h,width:X1,height:j1,style:{position:"absolute",top:0,left:0,zIndex:3}}),_e.jsx("div",{style:{position:"absolute",left:B(E),top:Z(w),width:"40px",height:"40px",marginLeft:"-20px",marginTop:"-20px",transform:`rotate(${oe}deg)`,transformOrigin:"center center",zIndex:4,transition:"all 0.1s linear",pointerEvents:"none"},children:_e.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_e.jsx("circle",{cx:"20",cy:"20",r:"12",stroke:"#2c3e50",strokeWidth:"3",fill:"rgba(255,255,255,0.8)"}),_e.jsx("path",{d:"M 34 20 L 26 15 L 26 25 Z",fill:"#2c3e50"})]})})]})}const Lb={id:"TURTLE",RenderComponent:Ob,registerBlocks:()=>{},getToolboxXML:r=>c3(r,null,[],[]),executeStep:(r,o,n)=>{const a=r||{x:n.startPos?.x||0,y:n.startPos?.y||0,dir:n.startPos?.dir!==void 0?n.startPos.dir:0,penDown:!0,color:"#2c3e50",lines:[]};let{x:h,y:p,dir:$,penDown:_,color:T,lines:E}=a;const w=[...E];if(o.type==="MOVE"){const A=parseFloat(o.dist),z=$*(Math.PI/180),B=h+A*Math.cos(z),Z=p-A*Math.sin(z);_&&w.push({x1:h,y1:p,x2:B,y2:Z,color:T}),h=B,p=Z}else o.type==="TURN"?$+=parseFloat(o.angle):o.type==="PEN"?_=o.state==="DOWN":o.type==="COLOR"&&(T=o.color);return{newState:{x:h,y:p,dir:$,penDown:_,color:T,lines:w},status:"RUNNING"}},checkVictory:(r,o,n)=>{if(!n||n.length===0)return!1;const a=r?.lines||[],h=400,p=400,$=document.createElement("canvas");$.width=h,$.height=p;const _=$.getContext("2d"),T=document.createElement("canvas");T.width=h,T.height=p;const E=T.getContext("2d"),w=(oe,j)=>{oe.lineWidth=6,oe.lineCap="round",oe.strokeStyle="#000",j.forEach(ie=>{oe.beginPath();const be=Ge=>h/2+Ge,Ie=Ge=>p/2-Ge;oe.moveTo(be(ie.x1),Ie(ie.y1)),oe.lineTo(be(ie.x2),Ie(ie.y2)),oe.stroke()})};w(_,n),w(E,a);const A=_.getImageData(0,0,h,p).data,z=E.getImageData(0,0,h,p).data;let B=0,Z=0;for(let oe=3;oe<A.length;oe+=4)A[oe]>50&&(Z++,z[oe]<50&&B++);return 1-B/(Z||1)>.85}};var Z2={exports:{}},b5={exports:{}},Db=b5.exports,l8;function Bb(){return l8||(l8=1,(function(r,o){(function(a,h){r.exports=h()})(typeof self<"u"?self:Db,function(){return(function(){var n={};(function(){n.d=function(g,f){for(var b in f)n.o(f,b)&&!n.o(g,b)&&Object.defineProperty(g,b,{enumerable:!0,get:f[b]})}})(),(function(){n.o=function(g,f){return Object.prototype.hasOwnProperty.call(g,f)}})();var a={};n.d(a,{default:function(){return fl}});class h{constructor(f,b){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let C="KaTeX parse error: "+f,O,V;const J=b&&b.loc;if(J&&J.start<=J.end){const xe=J.lexer.input;O=J.start,V=J.end,O===xe.length?C+=" at end of input: ":C+=" at position "+(O+1)+": ";const ze=xe.slice(O,V).replace(/[^]/g,"$&");let it;O>15?it=""+xe.slice(O-15,O):it=xe.slice(0,O);let ut;V+15<xe.length?ut=xe.slice(V,V+15)+"":ut=xe.slice(V),C+=it+ze+ut}const pe=new Error(C);return pe.name="ParseError",pe.__proto__=h.prototype,pe.position=O,O!=null&&V!=null&&(pe.length=V-O),pe.rawMessage=f,pe}}h.prototype.__proto__=Error.prototype;var p=h;const $=function(g,f){return g===void 0?f:g},_=/([A-Z])/g,T=function(g){return g.replace(_,"-$1").toLowerCase()},E={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},w=/[&><"']/g;function A(g){return String(g).replace(w,f=>E[f])}const z=function(g){return g.type==="ordgroup"||g.type==="color"?g.body.length===1?z(g.body[0]):g:g.type==="font"?z(g.body):g},B=function(g){const f=z(g);return f.type==="mathord"||f.type==="textord"||f.type==="atom"},Z=function(g){if(!g)throw new Error("Expected non-null, but got "+String(g));return g};var oe={deflt:$,escape:A,hyphenate:T,getBaseElem:z,isCharacterBox:B,protocolFromUrl:function(g){const f=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(g);return f?f[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(f[1])?null:f[1].toLowerCase():"_relative"}};const j={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:g=>"#"+g},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(g,f)=>(f.push(g),f)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:g=>Math.max(0,g),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:g=>Math.max(0,g),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:g=>Math.max(0,g),cli:"-e, --max-expand <n>",cliProcessor:g=>g==="Infinity"?1/0:parseInt(g)},globalGroup:{type:"boolean",cli:!1}};function ie(g){if(g.default)return g.default;const f=g.type,b=Array.isArray(f)?f[0]:f;if(typeof b!="string")return b.enum[0];switch(b){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class be{constructor(f){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,f=f||{};for(const b in j)if(j.hasOwnProperty(b)){const C=j[b];this[b]=f[b]!==void 0?C.processor?C.processor(f[b]):f[b]:ie(C)}}reportNonstrict(f,b,C){let O=this.strict;if(typeof O=="function"&&(O=O(f,b,C)),!(!O||O==="ignore")){if(O===!0||O==="error")throw new p("LaTeX-incompatible input and strict mode is set to 'error': "+(b+" ["+f+"]"),C);O==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(b+" ["+f+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+O+"': "+b+" ["+f+"]"))}}useStrictBehavior(f,b,C){let O=this.strict;if(typeof O=="function")try{O=O(f,b,C)}catch{O="error"}return!O||O==="ignore"?!1:O===!0||O==="error"?!0:O==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(b+" ["+f+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+O+"': "+b+" ["+f+"]")),!1)}isTrusted(f){if(f.url&&!f.protocol){const C=oe.protocolFromUrl(f.url);if(C==null)return!1;f.protocol=C}return!!(typeof this.trust=="function"?this.trust(f):this.trust)}}class Ie{constructor(f,b,C){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=f,this.size=b,this.cramped=C}sup(){return Lt[yt[this.id]]}sub(){return Lt[rt[this.id]]}fracNum(){return Lt[Ze[this.id]]}fracDen(){return Lt[$t[this.id]]}cramp(){return Lt[ft[this.id]]}text(){return Lt[It[this.id]]}isTight(){return this.size>=2}}const Ge=0,Te=1,We=2,lt=3,Je=4,Xe=5,Pt=6,He=7,Lt=[new Ie(Ge,0,!1),new Ie(Te,0,!0),new Ie(We,1,!1),new Ie(lt,1,!0),new Ie(Je,2,!1),new Ie(Xe,2,!0),new Ie(Pt,3,!1),new Ie(He,3,!0)],yt=[Je,Xe,Je,Xe,Pt,He,Pt,He],rt=[Xe,Xe,Xe,Xe,He,He,He,He],Ze=[We,lt,Je,Xe,Pt,He,Pt,He],$t=[lt,lt,Xe,Xe,He,He,He,He],ft=[Te,Te,lt,lt,Xe,Xe,He,He],It=[Ge,Te,We,lt,We,lt,We,lt];var le={DISPLAY:Lt[Ge],TEXT:Lt[We],SCRIPT:Lt[Je],SCRIPTSCRIPT:Lt[Pt]};const Be=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function ct(g){for(let f=0;f<Be.length;f++){const b=Be[f];for(let C=0;C<b.blocks.length;C++){const O=b.blocks[C];if(g>=O[0]&&g<=O[1])return b.name}}return null}const ke=[];Be.forEach(g=>g.blocks.forEach(f=>ke.push(...f)));function Zt(g){for(let f=0;f<ke.length;f+=2)if(g>=ke[f]&&g<=ke[f+1])return!0;return!1}const Ot=80,sn=function(g,f){return"M95,"+(622+g+f)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+g/2.075+" -"+g+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+g)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+g)+" "+f+"h400000v"+(40+g)+"h-400000z"},yn=function(g,f){return"M263,"+(601+g+f)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+g/2.084+" -"+g+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+g)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+g)+" "+f+"h400000v"+(40+g)+"h-400000z"},hr=function(g,f){return"M983 "+(10+g+f)+`
l`+g/3.13+" -"+g+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+g)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+g)+" "+f+"h400000v"+(40+g)+"h-400000z"},Yn=function(g,f){return"M424,"+(2398+g+f)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+g/4.223+" -"+g+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+g)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+g)+" "+f+`
h400000v`+(40+g)+"h-400000z"},an=function(g,f){return"M473,"+(2713+g+f)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+g/5.298+" -"+g+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+g)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+g)+" "+f+"h400000v"+(40+g)+"H1017.7z"},Xn=function(g){const f=g/2;return"M400000 "+g+" H0 L"+f+" 0 l65 45 L145 "+(g-80)+" H400000z"},dt=function(g,f,b){const C=b-54-f-g;return"M702 "+(g+f)+"H400000"+(40+g)+`
H742v`+C+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+f+"H400000v"+(40+g)+"H742z"},tn=function(g,f,b){f=1e3*f;let C="";switch(g){case"sqrtMain":C=sn(f,Ot);break;case"sqrtSize1":C=yn(f,Ot);break;case"sqrtSize2":C=hr(f,Ot);break;case"sqrtSize3":C=Yn(f,Ot);break;case"sqrtSize4":C=an(f,Ot);break;case"sqrtTall":C=dt(f,Ot,b)}return C},Wr=function(g,f){switch(g){case"":return"M291 0 H417 V"+f+" H291z M291 0 H417 V"+f+" H291z";case"":return"M145 0 H188 V"+f+" H145z M145 0 H188 V"+f+" H145z";case"":return"M145 0 H188 V"+f+" H145z M145 0 H188 V"+f+" H145z"+("M367 0 H410 V"+f+" H367z M367 0 H410 V"+f+" H367z");case"":return"M457 0 H583 V"+f+" H457z M457 0 H583 V"+f+" H457z";case"":return"M319 0 H403 V"+f+" H319z M319 0 H403 V"+f+" H319z";case"":return"M263 0 H347 V"+f+" H263z M263 0 H347 V"+f+" H263z";case"":return"M384 0 H504 V"+f+" H384z M384 0 H504 V"+f+" H384z";case"":return"M312 0 H355 V"+f+" H312z M312 0 H355 V"+f+" H312z";case"":return"M257 0 H300 V"+f+" H257z M257 0 H300 V"+f+" H257z"+("M478 0 H521 V"+f+" H478z M478 0 H521 V"+f+" H478z");default:return""}},Zn={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},pr=function(g,f){switch(g){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+f+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+f+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+f+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+f+" v1759 h84z";case"vert":return"M145 15 v585 v"+f+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-f+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+f+" v585 h43z";case"doublevert":return"M145 15 v585 v"+f+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-f+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+f+` v585 h43z
M367 15 v585 v`+f+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-f+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+f+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+f+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+f+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+f+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+f+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+f+` v602 h84z
M403 1759 V0 H319 V1759 v`+f+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+f+` v602 h84z
M347 1759 V0 h-84 V1759 v`+f+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(f+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(f+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(f+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(f+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};var on={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const Ei={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Fi={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function Qn(g,f){on[g]=f}function ss(g,f,b){if(!on[f])throw new Error("Font metrics not found for font: "+f+".");let C=g.charCodeAt(0),O=on[f][C];if(!O&&g[0]in Fi&&(C=Fi[g[0]].charCodeAt(0),O=on[f][C]),!O&&b==="text"&&Zt(C)&&(O=on[f][77]),O)return{depth:O[0],height:O[1],italic:O[2],skew:O[3],width:O[4]}}const yi={};function sr(g){let f;if(g>=5?f=0:g>=3?f=1:f=2,!yi[f]){const b=yi[f]={cssEmPerMu:Ei.quad[f]/18};for(const C in Ei)Ei.hasOwnProperty(C)&&(b[C]=Ei[C][f])}return yi[f]}const Vn=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],U=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],ne=function(g,f){return f.size<2?g:Vn[g-1][f.size-1]};class Ce{constructor(f){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=f.style,this.color=f.color,this.size=f.size||Ce.BASESIZE,this.textSize=f.textSize||this.size,this.phantom=!!f.phantom,this.font=f.font||"",this.fontFamily=f.fontFamily||"",this.fontWeight=f.fontWeight||"",this.fontShape=f.fontShape||"",this.sizeMultiplier=U[this.size-1],this.maxSize=f.maxSize,this.minRuleThickness=f.minRuleThickness,this._fontMetrics=void 0}extend(f){const b={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const C in f)f.hasOwnProperty(C)&&(b[C]=f[C]);return new Ce(b)}havingStyle(f){return this.style===f?this:this.extend({style:f,size:ne(this.textSize,f)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(f){return this.size===f&&this.textSize===f?this:this.extend({style:this.style.text(),size:f,textSize:f,sizeMultiplier:U[f-1]})}havingBaseStyle(f){f=f||this.style.text();const b=ne(Ce.BASESIZE,f);return this.size===b&&this.textSize===Ce.BASESIZE&&this.style===f?this:this.extend({style:f,size:b})}havingBaseSizing(){let f;switch(this.style.id){case 4:case 5:f=3;break;case 6:case 7:f=1;break;default:f=6}return this.extend({style:this.style.text(),size:f})}withColor(f){return this.extend({color:f})}withPhantom(){return this.extend({phantom:!0})}withFont(f){return this.extend({font:f})}withTextFontFamily(f){return this.extend({fontFamily:f,font:""})}withTextFontWeight(f){return this.extend({fontWeight:f,font:""})}withTextFontShape(f){return this.extend({fontShape:f,font:""})}sizingClasses(f){return f.size!==this.size?["sizing","reset-size"+f.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ce.BASESIZE?["sizing","reset-size"+this.size,"size"+Ce.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=sr(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ce.BASESIZE=6;var Le=Ce;const tt={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Qe={ex:!0,em:!0,mu:!0},Ct=function(g){return typeof g!="string"&&(g=g.unit),g in tt||g in Qe||g==="ex"},kt=function(g,f){let b;if(g.unit in tt)b=tt[g.unit]/f.fontMetrics().ptPerEm/f.sizeMultiplier;else if(g.unit==="mu")b=f.fontMetrics().cssEmPerMu;else{let C;if(f.style.isTight()?C=f.havingStyle(f.style.text()):C=f,g.unit==="ex")b=C.fontMetrics().xHeight;else if(g.unit==="em")b=C.fontMetrics().quad;else throw new p("Invalid unit: '"+g.unit+"'");C!==f&&(b*=C.sizeMultiplier/f.sizeMultiplier)}return Math.min(g.number*b,f.maxSize)},N=function(g){return+g.toFixed(4)+"em"},ue=function(g){return g.filter(f=>f).join(" ")},De=function(g,f,b){if(this.classes=g||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=b||{},f){f.style.isTight()&&this.classes.push("mtight");const C=f.getColor();C&&(this.style.color=C)}},Re=function(g){const f=document.createElement(g);f.className=ue(this.classes);for(const b in this.style)this.style.hasOwnProperty(b)&&(f.style[b]=this.style[b]);for(const b in this.attributes)this.attributes.hasOwnProperty(b)&&f.setAttribute(b,this.attributes[b]);for(let b=0;b<this.children.length;b++)f.appendChild(this.children[b].toNode());return f},Dt=/[\s"'>/=\x00-\x1f]/,Cn=function(g){let f="<"+g;this.classes.length&&(f+=' class="'+oe.escape(ue(this.classes))+'"');let b="";for(const C in this.style)this.style.hasOwnProperty(C)&&(b+=oe.hyphenate(C)+":"+this.style[C]+";");b&&(f+=' style="'+oe.escape(b)+'"');for(const C in this.attributes)if(this.attributes.hasOwnProperty(C)){if(Dt.test(C))throw new p("Invalid attribute name '"+C+"'");f+=" "+C+'="'+oe.escape(this.attributes[C])+'"'}f+=">";for(let C=0;C<this.children.length;C++)f+=this.children[C].toMarkup();return f+="</"+g+">",f};class Qr{constructor(f,b,C,O){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,De.call(this,f,C,O),this.children=b||[]}setAttribute(f,b){this.attributes[f]=b}hasClass(f){return this.classes.includes(f)}toNode(){return Re.call(this,"span")}toMarkup(){return Cn.call(this,"span")}}class ds{constructor(f,b,C,O){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,De.call(this,b,O),this.children=C||[],this.setAttribute("href",f)}setAttribute(f,b){this.attributes[f]=b}hasClass(f){return this.classes.includes(f)}toNode(){return Re.call(this,"a")}toMarkup(){return Cn.call(this,"a")}}class fs{constructor(f,b,C){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=b,this.src=f,this.classes=["mord"],this.style=C}hasClass(f){return this.classes.includes(f)}toNode(){const f=document.createElement("img");f.src=this.src,f.alt=this.alt,f.className="mord";for(const b in this.style)this.style.hasOwnProperty(b)&&(f.style[b]=this.style[b]);return f}toMarkup(){let f='<img src="'+oe.escape(this.src)+'"'+(' alt="'+oe.escape(this.alt)+'"'),b="";for(const C in this.style)this.style.hasOwnProperty(C)&&(b+=oe.hyphenate(C)+":"+this.style[C]+";");return b&&(f+=' style="'+oe.escape(b)+'"'),f+="'/>",f}}const G={:"",:"",:"",:""};class $e{constructor(f,b,C,O,V,J,pe,xe){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=f,this.height=b||0,this.depth=C||0,this.italic=O||0,this.skew=V||0,this.width=J||0,this.classes=pe||[],this.style=xe||{},this.maxFontSize=0;const ze=ct(this.text.charCodeAt(0));ze&&this.classes.push(ze+"_fallback"),/[]/.test(this.text)&&(this.text=G[this.text])}hasClass(f){return this.classes.includes(f)}toNode(){const f=document.createTextNode(this.text);let b=null;this.italic>0&&(b=document.createElement("span"),b.style.marginRight=N(this.italic)),this.classes.length>0&&(b=b||document.createElement("span"),b.className=ue(this.classes));for(const C in this.style)this.style.hasOwnProperty(C)&&(b=b||document.createElement("span"),b.style[C]=this.style[C]);return b?(b.appendChild(f),b):f}toMarkup(){let f=!1,b="<span";this.classes.length&&(f=!0,b+=' class="',b+=oe.escape(ue(this.classes)),b+='"');let C="";this.italic>0&&(C+="margin-right:"+this.italic+"em;");for(const V in this.style)this.style.hasOwnProperty(V)&&(C+=oe.hyphenate(V)+":"+this.style[V]+";");C&&(f=!0,b+=' style="'+oe.escape(C)+'"');const O=oe.escape(this.text);return f?(b+=">",b+=O,b+="</span>",b):O}}class Pe{constructor(f,b){this.children=void 0,this.attributes=void 0,this.children=f||[],this.attributes=b||{}}toNode(){const b=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const C in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,C)&&b.setAttribute(C,this.attributes[C]);for(let C=0;C<this.children.length;C++)b.appendChild(this.children[C].toNode());return b}toMarkup(){let f='<svg xmlns="http://www.w3.org/2000/svg"';for(const b in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,b)&&(f+=" "+b+'="'+oe.escape(this.attributes[b])+'"');f+=">";for(let b=0;b<this.children.length;b++)f+=this.children[b].toMarkup();return f+="</svg>",f}}class et{constructor(f,b){this.pathName=void 0,this.alternate=void 0,this.pathName=f,this.alternate=b}toNode(){const b=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?b.setAttribute("d",this.alternate):b.setAttribute("d",Zn[this.pathName]),b}toMarkup(){return this.alternate?'<path d="'+oe.escape(this.alternate)+'"/>':'<path d="'+oe.escape(Zn[this.pathName])+'"/>'}}class Ft{constructor(f){this.attributes=void 0,this.attributes=f||{}}toNode(){const b=document.createElementNS("http://www.w3.org/2000/svg","line");for(const C in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,C)&&b.setAttribute(C,this.attributes[C]);return b}toMarkup(){let f="<line";for(const b in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,b)&&(f+=" "+b+'="'+oe.escape(this.attributes[b])+'"');return f+="/>",f}}function dn(g){if(g instanceof $e)return g;throw new Error("Expected symbolNode but got "+String(g)+".")}function Hn(g){if(g instanceof Qr)return g;throw new Error("Expected span<HtmlDomNode> but got "+String(g)+".")}const Sr={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Ml={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},To={math:{},text:{}};var vr=To;function L(g,f,b,C,O,V){To[g][O]={font:f,group:b,replace:C},V&&C&&(To[g][C]=To[g][O])}const W="math",Jt="text",x="main",P="ams",K="accent-token",Y="bin",we="close",Q="inner",Ee="mathord",Ue="op-token",Ke="open",st="punct",te="rel",Nt="spacing",Se="textord";L(W,x,te,"","\\equiv",!0),L(W,x,te,"","\\prec",!0),L(W,x,te,"","\\succ",!0),L(W,x,te,"","\\sim",!0),L(W,x,te,"","\\perp"),L(W,x,te,"","\\preceq",!0),L(W,x,te,"","\\succeq",!0),L(W,x,te,"","\\simeq",!0),L(W,x,te,"","\\mid",!0),L(W,x,te,"","\\ll",!0),L(W,x,te,"","\\gg",!0),L(W,x,te,"","\\asymp",!0),L(W,x,te,"","\\parallel"),L(W,x,te,"","\\bowtie",!0),L(W,x,te,"","\\smile",!0),L(W,x,te,"","\\sqsubseteq",!0),L(W,x,te,"","\\sqsupseteq",!0),L(W,x,te,"","\\doteq",!0),L(W,x,te,"","\\frown",!0),L(W,x,te,"","\\ni",!0),L(W,x,te,"","\\propto",!0),L(W,x,te,"","\\vdash",!0),L(W,x,te,"","\\dashv",!0),L(W,x,te,"","\\owns"),L(W,x,st,".","\\ldotp"),L(W,x,st,"","\\cdotp"),L(W,x,Se,"#","\\#"),L(Jt,x,Se,"#","\\#"),L(W,x,Se,"&","\\&"),L(Jt,x,Se,"&","\\&"),L(W,x,Se,"","\\aleph",!0),L(W,x,Se,"","\\forall",!0),L(W,x,Se,"","\\hbar",!0),L(W,x,Se,"","\\exists",!0),L(W,x,Se,"","\\nabla",!0),L(W,x,Se,"","\\flat",!0),L(W,x,Se,"","\\ell",!0),L(W,x,Se,"","\\natural",!0),L(W,x,Se,"","\\clubsuit",!0),L(W,x,Se,"","\\wp",!0),L(W,x,Se,"","\\sharp",!0),L(W,x,Se,"","\\diamondsuit",!0),L(W,x,Se,"","\\Re",!0),L(W,x,Se,"","\\heartsuit",!0),L(W,x,Se,"","\\Im",!0),L(W,x,Se,"","\\spadesuit",!0),L(W,x,Se,"","\\S",!0),L(Jt,x,Se,"","\\S"),L(W,x,Se,"","\\P",!0),L(Jt,x,Se,"","\\P"),L(W,x,Se,"","\\dag"),L(Jt,x,Se,"","\\dag"),L(Jt,x,Se,"","\\textdagger"),L(W,x,Se,"","\\ddag"),L(Jt,x,Se,"","\\ddag"),L(Jt,x,Se,"","\\textdaggerdbl"),L(W,x,we,"","\\rmoustache",!0),L(W,x,Ke,"","\\lmoustache",!0),L(W,x,we,"","\\rgroup",!0),L(W,x,Ke,"","\\lgroup",!0),L(W,x,Y,"","\\mp",!0),L(W,x,Y,"","\\ominus",!0),L(W,x,Y,"","\\uplus",!0),L(W,x,Y,"","\\sqcap",!0),L(W,x,Y,"","\\ast"),L(W,x,Y,"","\\sqcup",!0),L(W,x,Y,"","\\bigcirc",!0),L(W,x,Y,"","\\bullet",!0),L(W,x,Y,"","\\ddagger"),L(W,x,Y,"","\\wr",!0),L(W,x,Y,"","\\amalg"),L(W,x,Y,"&","\\And"),L(W,x,te,"","\\longleftarrow",!0),L(W,x,te,"","\\Leftarrow",!0),L(W,x,te,"","\\Longleftarrow",!0),L(W,x,te,"","\\longrightarrow",!0),L(W,x,te,"","\\Rightarrow",!0),L(W,x,te,"","\\Longrightarrow",!0),L(W,x,te,"","\\leftrightarrow",!0),L(W,x,te,"","\\longleftrightarrow",!0),L(W,x,te,"","\\Leftrightarrow",!0),L(W,x,te,"","\\Longleftrightarrow",!0),L(W,x,te,"","\\mapsto",!0),L(W,x,te,"","\\longmapsto",!0),L(W,x,te,"","\\nearrow",!0),L(W,x,te,"","\\hookleftarrow",!0),L(W,x,te,"","\\hookrightarrow",!0),L(W,x,te,"","\\searrow",!0),L(W,x,te,"","\\leftharpoonup",!0),L(W,x,te,"","\\rightharpoonup",!0),L(W,x,te,"","\\swarrow",!0),L(W,x,te,"","\\leftharpoondown",!0),L(W,x,te,"","\\rightharpoondown",!0),L(W,x,te,"","\\nwarrow",!0),L(W,x,te,"","\\rightleftharpoons",!0),L(W,P,te,"","\\nless",!0),L(W,P,te,"","\\@nleqslant"),L(W,P,te,"","\\@nleqq"),L(W,P,te,"","\\lneq",!0),L(W,P,te,"","\\lneqq",!0),L(W,P,te,"","\\@lvertneqq"),L(W,P,te,"","\\lnsim",!0),L(W,P,te,"","\\lnapprox",!0),L(W,P,te,"","\\nprec",!0),L(W,P,te,"","\\npreceq",!0),L(W,P,te,"","\\precnsim",!0),L(W,P,te,"","\\precnapprox",!0),L(W,P,te,"","\\nsim",!0),L(W,P,te,"","\\@nshortmid"),L(W,P,te,"","\\nmid",!0),L(W,P,te,"","\\nvdash",!0),L(W,P,te,"","\\nvDash",!0),L(W,P,te,"","\\ntriangleleft"),L(W,P,te,"","\\ntrianglelefteq",!0),L(W,P,te,"","\\subsetneq",!0),L(W,P,te,"","\\@varsubsetneq"),L(W,P,te,"","\\subsetneqq",!0),L(W,P,te,"","\\@varsubsetneqq"),L(W,P,te,"","\\ngtr",!0),L(W,P,te,"","\\@ngeqslant"),L(W,P,te,"","\\@ngeqq"),L(W,P,te,"","\\gneq",!0),L(W,P,te,"","\\gneqq",!0),L(W,P,te,"","\\@gvertneqq"),L(W,P,te,"","\\gnsim",!0),L(W,P,te,"","\\gnapprox",!0),L(W,P,te,"","\\nsucc",!0),L(W,P,te,"","\\nsucceq",!0),L(W,P,te,"","\\succnsim",!0),L(W,P,te,"","\\succnapprox",!0),L(W,P,te,"","\\ncong",!0),L(W,P,te,"","\\@nshortparallel"),L(W,P,te,"","\\nparallel",!0),L(W,P,te,"","\\nVDash",!0),L(W,P,te,"","\\ntriangleright"),L(W,P,te,"","\\ntrianglerighteq",!0),L(W,P,te,"","\\@nsupseteqq"),L(W,P,te,"","\\supsetneq",!0),L(W,P,te,"","\\@varsupsetneq"),L(W,P,te,"","\\supsetneqq",!0),L(W,P,te,"","\\@varsupsetneqq"),L(W,P,te,"","\\nVdash",!0),L(W,P,te,"","\\precneqq",!0),L(W,P,te,"","\\succneqq",!0),L(W,P,te,"","\\@nsubseteqq"),L(W,P,Y,"","\\unlhd"),L(W,P,Y,"","\\unrhd"),L(W,P,te,"","\\nleftarrow",!0),L(W,P,te,"","\\nrightarrow",!0),L(W,P,te,"","\\nLeftarrow",!0),L(W,P,te,"","\\nRightarrow",!0),L(W,P,te,"","\\nleftrightarrow",!0),L(W,P,te,"","\\nLeftrightarrow",!0),L(W,P,te,"","\\vartriangle"),L(W,P,Se,"","\\hslash"),L(W,P,Se,"","\\triangledown"),L(W,P,Se,"","\\lozenge"),L(W,P,Se,"","\\circledS"),L(W,P,Se,"","\\circledR"),L(Jt,P,Se,"","\\circledR"),L(W,P,Se,"","\\measuredangle",!0),L(W,P,Se,"","\\nexists"),L(W,P,Se,"","\\mho"),L(W,P,Se,"","\\Finv",!0),L(W,P,Se,"","\\Game",!0),L(W,P,Se,"","\\backprime"),L(W,P,Se,"","\\blacktriangle"),L(W,P,Se,"","\\blacktriangledown"),L(W,P,Se,"","\\blacksquare"),L(W,P,Se,"","\\blacklozenge"),L(W,P,Se,"","\\bigstar"),L(W,P,Se,"","\\sphericalangle",!0),L(W,P,Se,"","\\complement",!0),L(W,P,Se,"","\\eth",!0),L(Jt,x,Se,"",""),L(W,P,Se,"","\\diagup"),L(W,P,Se,"","\\diagdown"),L(W,P,Se,"","\\square"),L(W,P,Se,"","\\Box"),L(W,P,Se,"","\\Diamond"),L(W,P,Se,"","\\yen",!0),L(Jt,P,Se,"","\\yen",!0),L(W,P,Se,"","\\checkmark",!0),L(Jt,P,Se,"","\\checkmark"),L(W,P,Se,"","\\beth",!0),L(W,P,Se,"","\\daleth",!0),L(W,P,Se,"","\\gimel",!0),L(W,P,Se,"","\\digamma",!0),L(W,P,Se,"","\\varkappa"),L(W,P,Ke,"","\\@ulcorner",!0),L(W,P,we,"","\\@urcorner",!0),L(W,P,Ke,"","\\@llcorner",!0),L(W,P,we,"","\\@lrcorner",!0),L(W,P,te,"","\\leqq",!0),L(W,P,te,"","\\leqslant",!0),L(W,P,te,"","\\eqslantless",!0),L(W,P,te,"","\\lesssim",!0),L(W,P,te,"","\\lessapprox",!0),L(W,P,te,"","\\approxeq",!0),L(W,P,Y,"","\\lessdot"),L(W,P,te,"","\\lll",!0),L(W,P,te,"","\\lessgtr",!0),L(W,P,te,"","\\lesseqgtr",!0),L(W,P,te,"","\\lesseqqgtr",!0),L(W,P,te,"","\\doteqdot"),L(W,P,te,"","\\risingdotseq",!0),L(W,P,te,"","\\fallingdotseq",!0),L(W,P,te,"","\\backsim",!0),L(W,P,te,"","\\backsimeq",!0),L(W,P,te,"","\\subseteqq",!0),L(W,P,te,"","\\Subset",!0),L(W,P,te,"","\\sqsubset",!0),L(W,P,te,"","\\preccurlyeq",!0),L(W,P,te,"","\\curlyeqprec",!0),L(W,P,te,"","\\precsim",!0),L(W,P,te,"","\\precapprox",!0),L(W,P,te,"","\\vartriangleleft"),L(W,P,te,"","\\trianglelefteq"),L(W,P,te,"","\\vDash",!0),L(W,P,te,"","\\Vvdash",!0),L(W,P,te,"","\\smallsmile"),L(W,P,te,"","\\smallfrown"),L(W,P,te,"","\\bumpeq",!0),L(W,P,te,"","\\Bumpeq",!0),L(W,P,te,"","\\geqq",!0),L(W,P,te,"","\\geqslant",!0),L(W,P,te,"","\\eqslantgtr",!0),L(W,P,te,"","\\gtrsim",!0),L(W,P,te,"","\\gtrapprox",!0),L(W,P,Y,"","\\gtrdot"),L(W,P,te,"","\\ggg",!0),L(W,P,te,"","\\gtrless",!0),L(W,P,te,"","\\gtreqless",!0),L(W,P,te,"","\\gtreqqless",!0),L(W,P,te,"","\\eqcirc",!0),L(W,P,te,"","\\circeq",!0),L(W,P,te,"","\\triangleq",!0),L(W,P,te,"","\\thicksim"),L(W,P,te,"","\\thickapprox"),L(W,P,te,"","\\supseteqq",!0),L(W,P,te,"","\\Supset",!0),L(W,P,te,"","\\sqsupset",!0),L(W,P,te,"","\\succcurlyeq",!0),L(W,P,te,"","\\curlyeqsucc",!0),L(W,P,te,"","\\succsim",!0),L(W,P,te,"","\\succapprox",!0),L(W,P,te,"","\\vartriangleright"),L(W,P,te,"","\\trianglerighteq"),L(W,P,te,"","\\Vdash",!0),L(W,P,te,"","\\shortmid"),L(W,P,te,"","\\shortparallel"),L(W,P,te,"","\\between",!0),L(W,P,te,"","\\pitchfork",!0),L(W,P,te,"","\\varpropto"),L(W,P,te,"","\\blacktriangleleft"),L(W,P,te,"","\\therefore",!0),L(W,P,te,"","\\backepsilon"),L(W,P,te,"","\\blacktriangleright"),L(W,P,te,"","\\because",!0),L(W,P,te,"","\\llless"),L(W,P,te,"","\\gggtr"),L(W,P,Y,"","\\lhd"),L(W,P,Y,"","\\rhd"),L(W,P,te,"","\\eqsim",!0),L(W,x,te,"","\\Join"),L(W,P,te,"","\\Doteq",!0),L(W,P,Y,"","\\dotplus",!0),L(W,P,Y,"","\\smallsetminus"),L(W,P,Y,"","\\Cap",!0),L(W,P,Y,"","\\Cup",!0),L(W,P,Y,"","\\doublebarwedge",!0),L(W,P,Y,"","\\boxminus",!0),L(W,P,Y,"","\\boxplus",!0),L(W,P,Y,"","\\divideontimes",!0),L(W,P,Y,"","\\ltimes",!0),L(W,P,Y,"","\\rtimes",!0),L(W,P,Y,"","\\leftthreetimes",!0),L(W,P,Y,"","\\rightthreetimes",!0),L(W,P,Y,"","\\curlywedge",!0),L(W,P,Y,"","\\curlyvee",!0),L(W,P,Y,"","\\circleddash",!0),L(W,P,Y,"","\\circledast",!0),L(W,P,Y,"","\\centerdot"),L(W,P,Y,"","\\intercal",!0),L(W,P,Y,"","\\doublecap"),L(W,P,Y,"","\\doublecup"),L(W,P,Y,"","\\boxtimes",!0),L(W,P,te,"","\\dashrightarrow",!0),L(W,P,te,"","\\dashleftarrow",!0),L(W,P,te,"","\\leftleftarrows",!0),L(W,P,te,"","\\leftrightarrows",!0),L(W,P,te,"","\\Lleftarrow",!0),L(W,P,te,"","\\twoheadleftarrow",!0),L(W,P,te,"","\\leftarrowtail",!0),L(W,P,te,"","\\looparrowleft",!0),L(W,P,te,"","\\leftrightharpoons",!0),L(W,P,te,"","\\curvearrowleft",!0),L(W,P,te,"","\\circlearrowleft",!0),L(W,P,te,"","\\Lsh",!0),L(W,P,te,"","\\upuparrows",!0),L(W,P,te,"","\\upharpoonleft",!0),L(W,P,te,"","\\downharpoonleft",!0),L(W,x,te,"","\\origof",!0),L(W,x,te,"","\\imageof",!0),L(W,P,te,"","\\multimap",!0),L(W,P,te,"","\\leftrightsquigarrow",!0),L(W,P,te,"","\\rightrightarrows",!0),L(W,P,te,"","\\rightleftarrows",!0),L(W,P,te,"","\\twoheadrightarrow",!0),L(W,P,te,"","\\rightarrowtail",!0),L(W,P,te,"","\\looparrowright",!0),L(W,P,te,"","\\curvearrowright",!0),L(W,P,te,"","\\circlearrowright",!0),L(W,P,te,"","\\Rsh",!0),L(W,P,te,"","\\downdownarrows",!0),L(W,P,te,"","\\upharpoonright",!0),L(W,P,te,"","\\downharpoonright",!0),L(W,P,te,"","\\rightsquigarrow",!0),L(W,P,te,"","\\leadsto"),L(W,P,te,"","\\Rrightarrow",!0),L(W,P,te,"","\\restriction"),L(W,x,Se,"","`"),L(W,x,Se,"$","\\$"),L(Jt,x,Se,"$","\\$"),L(Jt,x,Se,"$","\\textdollar"),L(W,x,Se,"%","\\%"),L(Jt,x,Se,"%","\\%"),L(W,x,Se,"_","\\_"),L(Jt,x,Se,"_","\\_"),L(Jt,x,Se,"_","\\textunderscore"),L(W,x,Se,"","\\angle",!0),L(W,x,Se,"","\\infty",!0),L(W,x,Se,"","\\prime"),L(W,x,Se,"","\\triangle"),L(W,x,Se,"","\\Gamma",!0),L(W,x,Se,"","\\Delta",!0),L(W,x,Se,"","\\Theta",!0),L(W,x,Se,"","\\Lambda",!0),L(W,x,Se,"","\\Xi",!0),L(W,x,Se,"","\\Pi",!0),L(W,x,Se,"","\\Sigma",!0),L(W,x,Se,"","\\Upsilon",!0),L(W,x,Se,"","\\Phi",!0),L(W,x,Se,"","\\Psi",!0),L(W,x,Se,"","\\Omega",!0),L(W,x,Se,"A",""),L(W,x,Se,"B",""),L(W,x,Se,"E",""),L(W,x,Se,"Z",""),L(W,x,Se,"H",""),L(W,x,Se,"I",""),L(W,x,Se,"K",""),L(W,x,Se,"M",""),L(W,x,Se,"N",""),L(W,x,Se,"O",""),L(W,x,Se,"P",""),L(W,x,Se,"T",""),L(W,x,Se,"X",""),L(W,x,Se,"","\\neg",!0),L(W,x,Se,"","\\lnot"),L(W,x,Se,"","\\top"),L(W,x,Se,"","\\bot"),L(W,x,Se,"","\\emptyset"),L(W,P,Se,"","\\varnothing"),L(W,x,Ee,"","\\alpha",!0),L(W,x,Ee,"","\\beta",!0),L(W,x,Ee,"","\\gamma",!0),L(W,x,Ee,"","\\delta",!0),L(W,x,Ee,"","\\epsilon",!0),L(W,x,Ee,"","\\zeta",!0),L(W,x,Ee,"","\\eta",!0),L(W,x,Ee,"","\\theta",!0),L(W,x,Ee,"","\\iota",!0),L(W,x,Ee,"","\\kappa",!0),L(W,x,Ee,"","\\lambda",!0),L(W,x,Ee,"","\\mu",!0),L(W,x,Ee,"","\\nu",!0),L(W,x,Ee,"","\\xi",!0),L(W,x,Ee,"","\\omicron",!0),L(W,x,Ee,"","\\pi",!0),L(W,x,Ee,"","\\rho",!0),L(W,x,Ee,"","\\sigma",!0),L(W,x,Ee,"","\\tau",!0),L(W,x,Ee,"","\\upsilon",!0),L(W,x,Ee,"","\\phi",!0),L(W,x,Ee,"","\\chi",!0),L(W,x,Ee,"","\\psi",!0),L(W,x,Ee,"","\\omega",!0),L(W,x,Ee,"","\\varepsilon",!0),L(W,x,Ee,"","\\vartheta",!0),L(W,x,Ee,"","\\varpi",!0),L(W,x,Ee,"","\\varrho",!0),L(W,x,Ee,"","\\varsigma",!0),L(W,x,Ee,"","\\varphi",!0),L(W,x,Y,"","*",!0),L(W,x,Y,"+","+"),L(W,x,Y,"","-",!0),L(W,x,Y,"","\\cdot",!0),L(W,x,Y,"","\\circ",!0),L(W,x,Y,"","\\div",!0),L(W,x,Y,"","\\pm",!0),L(W,x,Y,"","\\times",!0),L(W,x,Y,"","\\cap",!0),L(W,x,Y,"","\\cup",!0),L(W,x,Y,"","\\setminus",!0),L(W,x,Y,"","\\land"),L(W,x,Y,"","\\lor"),L(W,x,Y,"","\\wedge",!0),L(W,x,Y,"","\\vee",!0),L(W,x,Se,"","\\surd"),L(W,x,Ke,"","\\langle",!0),L(W,x,Ke,"","\\lvert"),L(W,x,Ke,"","\\lVert"),L(W,x,we,"?","?"),L(W,x,we,"!","!"),L(W,x,we,"","\\rangle",!0),L(W,x,we,"","\\rvert"),L(W,x,we,"","\\rVert"),L(W,x,te,"=","="),L(W,x,te,":",":"),L(W,x,te,"","\\approx",!0),L(W,x,te,"","\\cong",!0),L(W,x,te,"","\\ge"),L(W,x,te,"","\\geq",!0),L(W,x,te,"","\\gets"),L(W,x,te,">","\\gt",!0),L(W,x,te,"","\\in",!0),L(W,x,te,"","\\@not"),L(W,x,te,"","\\subset",!0),L(W,x,te,"","\\supset",!0),L(W,x,te,"","\\subseteq",!0),L(W,x,te,"","\\supseteq",!0),L(W,P,te,"","\\nsubseteq",!0),L(W,P,te,"","\\nsupseteq",!0),L(W,x,te,"","\\models"),L(W,x,te,"","\\leftarrow",!0),L(W,x,te,"","\\le"),L(W,x,te,"","\\leq",!0),L(W,x,te,"<","\\lt",!0),L(W,x,te,"","\\rightarrow",!0),L(W,x,te,"","\\to"),L(W,P,te,"","\\ngeq",!0),L(W,P,te,"","\\nleq",!0),L(W,x,Nt,"","\\ "),L(W,x,Nt,"","\\space"),L(W,x,Nt,"","\\nobreakspace"),L(Jt,x,Nt,"","\\ "),L(Jt,x,Nt,""," "),L(Jt,x,Nt,"","\\space"),L(Jt,x,Nt,"","\\nobreakspace"),L(W,x,Nt,null,"\\nobreak"),L(W,x,Nt,null,"\\allowbreak"),L(W,x,st,",",","),L(W,x,st,";",";"),L(W,P,Y,"","\\barwedge",!0),L(W,P,Y,"","\\veebar",!0),L(W,x,Y,"","\\odot",!0),L(W,x,Y,"","\\oplus",!0),L(W,x,Y,"","\\otimes",!0),L(W,x,Se,"","\\partial",!0),L(W,x,Y,"","\\oslash",!0),L(W,P,Y,"","\\circledcirc",!0),L(W,P,Y,"","\\boxdot",!0),L(W,x,Y,"","\\bigtriangleup"),L(W,x,Y,"","\\bigtriangledown"),L(W,x,Y,"","\\dagger"),L(W,x,Y,"","\\diamond"),L(W,x,Y,"","\\star"),L(W,x,Y,"","\\triangleleft"),L(W,x,Y,"","\\triangleright"),L(W,x,Ke,"{","\\{"),L(Jt,x,Se,"{","\\{"),L(Jt,x,Se,"{","\\textbraceleft"),L(W,x,we,"}","\\}"),L(Jt,x,Se,"}","\\}"),L(Jt,x,Se,"}","\\textbraceright"),L(W,x,Ke,"{","\\lbrace"),L(W,x,we,"}","\\rbrace"),L(W,x,Ke,"[","\\lbrack",!0),L(Jt,x,Se,"[","\\lbrack",!0),L(W,x,we,"]","\\rbrack",!0),L(Jt,x,Se,"]","\\rbrack",!0),L(W,x,Ke,"(","\\lparen",!0),L(W,x,we,")","\\rparen",!0),L(Jt,x,Se,"<","\\textless",!0),L(Jt,x,Se,">","\\textgreater",!0),L(W,x,Ke,"","\\lfloor",!0),L(W,x,we,"","\\rfloor",!0),L(W,x,Ke,"","\\lceil",!0),L(W,x,we,"","\\rceil",!0),L(W,x,Se,"\\","\\backslash"),L(W,x,Se,"","|"),L(W,x,Se,"","\\vert"),L(Jt,x,Se,"|","\\textbar",!0),L(W,x,Se,"","\\|"),L(W,x,Se,"","\\Vert"),L(Jt,x,Se,"","\\textbardbl"),L(Jt,x,Se,"~","\\textasciitilde"),L(Jt,x,Se,"\\","\\textbackslash"),L(Jt,x,Se,"^","\\textasciicircum"),L(W,x,te,"","\\uparrow",!0),L(W,x,te,"","\\Uparrow",!0),L(W,x,te,"","\\downarrow",!0),L(W,x,te,"","\\Downarrow",!0),L(W,x,te,"","\\updownarrow",!0),L(W,x,te,"","\\Updownarrow",!0),L(W,x,Ue,"","\\coprod"),L(W,x,Ue,"","\\bigvee"),L(W,x,Ue,"","\\bigwedge"),L(W,x,Ue,"","\\biguplus"),L(W,x,Ue,"","\\bigcap"),L(W,x,Ue,"","\\bigcup"),L(W,x,Ue,"","\\int"),L(W,x,Ue,"","\\intop"),L(W,x,Ue,"","\\iint"),L(W,x,Ue,"","\\iiint"),L(W,x,Ue,"","\\prod"),L(W,x,Ue,"","\\sum"),L(W,x,Ue,"","\\bigotimes"),L(W,x,Ue,"","\\bigoplus"),L(W,x,Ue,"","\\bigodot"),L(W,x,Ue,"","\\oint"),L(W,x,Ue,"","\\oiint"),L(W,x,Ue,"","\\oiiint"),L(W,x,Ue,"","\\bigsqcup"),L(W,x,Ue,"","\\smallint"),L(Jt,x,Q,"","\\textellipsis"),L(W,x,Q,"","\\mathellipsis"),L(Jt,x,Q,"","\\ldots",!0),L(W,x,Q,"","\\ldots",!0),L(W,x,Q,"","\\@cdots",!0),L(W,x,Q,"","\\ddots",!0),L(W,x,Se,"","\\varvdots"),L(Jt,x,Se,"","\\varvdots"),L(W,x,K,"","\\acute"),L(W,x,K,"","\\grave"),L(W,x,K,"","\\ddot"),L(W,x,K,"~","\\tilde"),L(W,x,K,"","\\bar"),L(W,x,K,"","\\breve"),L(W,x,K,"","\\check"),L(W,x,K,"^","\\hat"),L(W,x,K,"","\\vec"),L(W,x,K,"","\\dot"),L(W,x,K,"","\\mathring"),L(W,x,Ee,"","\\@imath"),L(W,x,Ee,"","\\@jmath"),L(W,x,Se,"",""),L(W,x,Se,"",""),L(Jt,x,Se,"","\\i",!0),L(Jt,x,Se,"","\\j",!0),L(Jt,x,Se,"","\\ss",!0),L(Jt,x,Se,"","\\ae",!0),L(Jt,x,Se,"","\\oe",!0),L(Jt,x,Se,"","\\o",!0),L(Jt,x,Se,"","\\AE",!0),L(Jt,x,Se,"","\\OE",!0),L(Jt,x,Se,"","\\O",!0),L(Jt,x,K,"","\\'"),L(Jt,x,K,"","\\`"),L(Jt,x,K,"","\\^"),L(Jt,x,K,"","\\~"),L(Jt,x,K,"","\\="),L(Jt,x,K,"","\\u"),L(Jt,x,K,"","\\."),L(Jt,x,K,"","\\c"),L(Jt,x,K,"","\\r"),L(Jt,x,K,"","\\v"),L(Jt,x,K,"",'\\"'),L(Jt,x,K,"","\\H"),L(Jt,x,K,"","\\textcircled");const wn={"--":!0,"---":!0,"``":!0,"''":!0};L(Jt,x,Se,"","--",!0),L(Jt,x,Se,"","\\textendash"),L(Jt,x,Se,"","---",!0),L(Jt,x,Se,"","\\textemdash"),L(Jt,x,Se,"","`",!0),L(Jt,x,Se,"","\\textquoteleft"),L(Jt,x,Se,"","'",!0),L(Jt,x,Se,"","\\textquoteright"),L(Jt,x,Se,"","``",!0),L(Jt,x,Se,"","\\textquotedblleft"),L(Jt,x,Se,"","''",!0),L(Jt,x,Se,"","\\textquotedblright"),L(W,x,Se,"","\\degree",!0),L(Jt,x,Se,"","\\degree"),L(Jt,x,Se,"","\\textdegree",!0),L(W,x,Se,"","\\pounds"),L(W,x,Se,"","\\mathsterling",!0),L(Jt,x,Se,"","\\pounds"),L(Jt,x,Se,"","\\textsterling",!0),L(W,P,Se,"","\\maltese"),L(Jt,P,Se,"","\\maltese");const In='0123456789/@."';for(let g=0;g<In.length;g++){const f=In.charAt(g);L(W,x,Se,f,f)}const Or='0123456789!@*()-=+";:?/.,';for(let g=0;g<Or.length;g++){const f=Or.charAt(g);L(Jt,x,Se,f,f)}const cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let g=0;g<cr.length;g++){const f=cr.charAt(g);L(W,x,Ee,f,f),L(Jt,x,Se,f,f)}L(W,P,Se,"C",""),L(Jt,P,Se,"C",""),L(W,P,Se,"H",""),L(Jt,P,Se,"H",""),L(W,P,Se,"N",""),L(Jt,P,Se,"N",""),L(W,P,Se,"P",""),L(Jt,P,Se,"P",""),L(W,P,Se,"Q",""),L(Jt,P,Se,"Q",""),L(W,P,Se,"R",""),L(Jt,P,Se,"R",""),L(W,P,Se,"Z",""),L(Jt,P,Se,"Z",""),L(W,x,Ee,"h",""),L(Jt,x,Ee,"h","");let On="";for(let g=0;g<cr.length;g++){const f=cr.charAt(g);On=String.fromCharCode(55349,56320+g),L(W,x,Ee,f,On),L(Jt,x,Se,f,On),On=String.fromCharCode(55349,56372+g),L(W,x,Ee,f,On),L(Jt,x,Se,f,On),On=String.fromCharCode(55349,56424+g),L(W,x,Ee,f,On),L(Jt,x,Se,f,On),On=String.fromCharCode(55349,56580+g),L(W,x,Ee,f,On),L(Jt,x,Se,f,On),On=String.fromCharCode(55349,56684+g),L(W,x,Ee,f,On),L(Jt,x,Se,f,On),On=String.fromCharCode(55349,56736+g),L(W,x,Ee,f,On),L(Jt,x,Se,f,On),On=String.fromCharCode(55349,56788+g),L(W,x,Ee,f,On),L(Jt,x,Se,f,On),On=String.fromCharCode(55349,56840+g),L(W,x,Ee,f,On),L(Jt,x,Se,f,On),On=String.fromCharCode(55349,56944+g),L(W,x,Ee,f,On),L(Jt,x,Se,f,On),g<26&&(On=String.fromCharCode(55349,56632+g),L(W,x,Ee,f,On),L(Jt,x,Se,f,On),On=String.fromCharCode(55349,56476+g),L(W,x,Ee,f,On),L(Jt,x,Se,f,On))}On="",L(W,x,Ee,"k",On),L(Jt,x,Se,"k",On);for(let g=0;g<10;g++){const f=g.toString();On=String.fromCharCode(55349,57294+g),L(W,x,Ee,f,On),L(Jt,x,Se,f,On),On=String.fromCharCode(55349,57314+g),L(W,x,Ee,f,On),L(Jt,x,Se,f,On),On=String.fromCharCode(55349,57324+g),L(W,x,Ee,f,On),L(Jt,x,Se,f,On),On=String.fromCharCode(55349,57334+g),L(W,x,Ee,f,On),L(Jt,x,Se,f,On)}const Zi="";for(let g=0;g<Zi.length;g++){const f=Zi.charAt(g);L(W,x,Ee,f,f),L(Jt,x,Se,f,f)}const si=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],fn=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],xr=function(g,f){const b=g.charCodeAt(0),C=g.charCodeAt(1),O=(b-55296)*1024+(C-56320)+65536,V=f==="math"?0:1;if(119808<=O&&O<120484){const J=Math.floor((O-119808)/26);return[si[J][2],si[J][V]]}else if(120782<=O&&O<=120831){const J=Math.floor((O-120782)/10);return[fn[J][2],fn[J][V]]}else{if(O===120485||O===120486)return[si[0][2],si[0][V]];if(120486<O&&O<120782)return["",""];throw new p("Unsupported character: "+g)}};class Rs{constructor(f){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=f,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(f){return this.classes.includes(f)}toNode(){const f=document.createDocumentFragment();for(let b=0;b<this.children.length;b++)f.appendChild(this.children[b].toNode());return f}toMarkup(){let f="";for(let b=0;b<this.children.length;b++)f+=this.children[b].toMarkup();return f}toText(){const f=b=>b.toText();return this.children.map(f).join("")}}const oi=function(g,f,b){return vr[b][g]&&vr[b][g].replace&&(g=vr[b][g].replace),{value:g,metrics:ss(g,f,b)}},Ir=function(g,f,b,C,O){const V=oi(g,f,b),J=V.metrics;g=V.value;let pe;if(J){let xe=J.italic;(b==="text"||C&&C.font==="mathit")&&(xe=0),pe=new $e(g,J.height,J.depth,xe,J.skew,J.width,O)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+g+"' in style '"+f+"' and mode '"+b+"'")),pe=new $e(g,0,0,0,0,0,O);if(C){pe.maxFontSize=C.sizeMultiplier,C.style.isTight()&&pe.classes.push("mtight");const xe=C.getColor();xe&&(pe.style.color=xe)}return pe},Qt=function(g,f,b,C){return C===void 0&&(C=[]),b.font==="boldsymbol"&&oi(g,"Main-Bold",f).metrics?Ir(g,"Main-Bold",f,b,C.concat(["mathbf"])):g==="\\"||vr[f][g].font==="main"?Ir(g,"Main-Regular",f,b,C):Ir(g,"AMS-Regular",f,b,C.concat(["amsrm"]))},fe=function(g,f,b,C,O){return O!=="textord"&&oi(g,"Math-BoldItalic",f).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Ci=function(g,f,b){const C=g.mode,O=g.text,V=["mord"],J=C==="math"||C==="text"&&f.font,pe=J?f.font:f.fontFamily;let xe="",ze="";if(O.charCodeAt(0)===55349&&([xe,ze]=xr(O,C)),xe.length>0)return Ir(O,xe,C,f,V.concat(ze));if(pe){let it,ut;if(pe==="boldsymbol"){const wt=fe(O,C,f,V,b);it=wt.fontName,ut=[wt.fontClass]}else J?(it=re[pe].fontName,ut=[pe]):(it=H(pe,f.fontWeight,f.fontShape),ut=[pe,f.fontWeight,f.fontShape]);if(oi(O,it,C).metrics)return Ir(O,it,C,f,V.concat(ut));if(wn.hasOwnProperty(O)&&it.slice(0,10)==="Typewriter"){const wt=[];for(let Kt=0;Kt<O.length;Kt++)wt.push(Ir(O[Kt],it,C,f,V.concat(ut)));return js(wt)}}if(b==="mathord")return Ir(O,"Math-Italic",C,f,V.concat(["mathnormal"]));if(b==="textord"){const it=vr[C][O]&&vr[C][O].font;if(it==="ams"){const ut=H("amsrm",f.fontWeight,f.fontShape);return Ir(O,ut,C,f,V.concat("amsrm",f.fontWeight,f.fontShape))}else if(it==="main"||!it){const ut=H("textrm",f.fontWeight,f.fontShape);return Ir(O,ut,C,f,V.concat(f.fontWeight,f.fontShape))}else{const ut=H(it,f.fontWeight,f.fontShape);return Ir(O,ut,C,f,V.concat(ut,f.fontWeight,f.fontShape))}}else throw new Error("unexpected type: "+b+" in makeOrd")},ps=(g,f)=>{if(ue(g.classes)!==ue(f.classes)||g.skew!==f.skew||g.maxFontSize!==f.maxFontSize)return!1;if(g.classes.length===1){const b=g.classes[0];if(b==="mbin"||b==="mord")return!1}for(const b in g.style)if(g.style.hasOwnProperty(b)&&g.style[b]!==f.style[b])return!1;for(const b in f.style)if(f.style.hasOwnProperty(b)&&g.style[b]!==f.style[b])return!1;return!0},dr=g=>{for(let f=0;f<g.length-1;f++){const b=g[f],C=g[f+1];b instanceof $e&&C instanceof $e&&ps(b,C)&&(b.text+=C.text,b.height=Math.max(b.height,C.height),b.depth=Math.max(b.depth,C.depth),b.italic=C.italic,g.splice(f+1,1),f--)}return g},Lr=function(g){let f=0,b=0,C=0;for(let O=0;O<g.children.length;O++){const V=g.children[O];V.height>f&&(f=V.height),V.depth>b&&(b=V.depth),V.maxFontSize>C&&(C=V.maxFontSize)}g.height=f,g.depth=b,g.maxFontSize=C},$n=function(g,f,b,C){const O=new Qr(g,f,b,C);return Lr(O),O},tr=(g,f,b,C)=>new Qr(g,f,b,C),Ur=function(g,f,b){const C=$n([g],[],f);return C.height=Math.max(b||f.fontMetrics().defaultRuleThickness,f.minRuleThickness),C.style.borderBottomWidth=N(C.height),C.maxFontSize=1,C},Sa=function(g,f,b,C){const O=new ds(g,f,b,C);return Lr(O),O},js=function(g){const f=new Rs(g);return Lr(f),f},jn=function(g,f){return g instanceof Rs?$n([],[g],f):g},d=function(g){if(g.positionType==="individualShift"){const b=g.children,C=[b[0]],O=-b[0].shift-b[0].elem.depth;let V=O;for(let J=1;J<b.length;J++){const pe=-b[J].shift-V-b[J].elem.depth,xe=pe-(b[J-1].elem.height+b[J-1].elem.depth);V=V+pe,C.push({type:"kern",size:xe}),C.push(b[J])}return{children:C,depth:O}}let f;if(g.positionType==="top"){let b=g.positionData;for(let C=0;C<g.children.length;C++){const O=g.children[C];b-=O.type==="kern"?O.size:O.elem.height+O.elem.depth}f=b}else if(g.positionType==="bottom")f=-g.positionData;else{const b=g.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(g.positionType==="shift")f=-b.elem.depth-g.positionData;else if(g.positionType==="firstBaseline")f=-b.elem.depth;else throw new Error("Invalid positionType "+g.positionType+".")}return{children:g.children,depth:f}},k=function(g,f){const{children:b,depth:C}=d(g);let O=0;for(let Kt=0;Kt<b.length;Kt++){const vn=b[Kt];if(vn.type==="elem"){const Mn=vn.elem;O=Math.max(O,Mn.maxFontSize,Mn.height)}}O+=2;const V=$n(["pstrut"],[]);V.style.height=N(O);const J=[];let pe=C,xe=C,ze=C;for(let Kt=0;Kt<b.length;Kt++){const vn=b[Kt];if(vn.type==="kern")ze+=vn.size;else{const Mn=vn.elem,Rr=vn.wrapperClasses||[],gr=vn.wrapperStyle||{},Tr=$n(Rr,[V,Mn],void 0,gr);Tr.style.top=N(-O-ze-Mn.depth),vn.marginLeft&&(Tr.style.marginLeft=vn.marginLeft),vn.marginRight&&(Tr.style.marginRight=vn.marginRight),J.push(Tr),ze+=Mn.height+Mn.depth}pe=Math.min(pe,ze),xe=Math.max(xe,ze)}const it=$n(["vlist"],J);it.style.height=N(xe);let ut;if(pe<0){const Kt=$n([],[]),vn=$n(["vlist"],[Kt]);vn.style.height=N(-pe);const Mn=$n(["vlist-s"],[new $e("")]);ut=[$n(["vlist-r"],[it,Mn]),$n(["vlist-r"],[vn])]}else ut=[$n(["vlist-r"],[it])];const wt=$n(["vlist-t"],ut);return ut.length===2&&wt.classes.push("vlist-t2"),wt.height=xe,wt.depth=-pe,wt},D=(g,f)=>{const b=$n(["mspace"],[],f),C=kt(g,f);return b.style.marginRight=N(C),b},H=function(g,f,b){let C="";switch(g){case"amsrm":C="AMS";break;case"textrm":C="Main";break;case"textsf":C="SansSerif";break;case"texttt":C="Typewriter";break;default:C=g}let O;return f==="textbf"&&b==="textit"?O="BoldItalic":f==="textbf"?O="Bold":f==="textit"?O="Italic":O="Regular",C+"-"+O},re={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},he={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var ge={fontMap:re,makeSymbol:Ir,mathsym:Qt,makeSpan:$n,makeSvgSpan:tr,makeLineSpan:Ur,makeAnchor:Sa,makeFragment:js,wrapFragment:jn,makeVList:k,makeOrd:Ci,makeGlue:D,staticSvg:function(g,f){const[b,C,O]=he[g],V=new et(b),J=new Pe([V],{width:N(C),height:N(O),style:"width:"+N(C),viewBox:"0 0 "+1e3*C+" "+1e3*O,preserveAspectRatio:"xMinYMin"}),pe=tr(["overlay"],[J],f);return pe.height=O,pe.style.height=N(O),pe.style.width=N(C),pe},svgData:he,tryCombineChars:dr};const pt={number:3,unit:"mu"},At={number:4,unit:"mu"},Tt={number:5,unit:"mu"},hn={mord:{mop:pt,mbin:At,mrel:Tt,minner:pt},mop:{mord:pt,mop:pt,mrel:Tt,minner:pt},mbin:{mord:At,mop:At,mopen:At,minner:At},mrel:{mord:Tt,mop:Tt,mopen:Tt,minner:Tt},mopen:{},mclose:{mop:pt,mbin:At,mrel:Tt,minner:pt},mpunct:{mord:pt,mop:pt,mrel:Tt,mopen:pt,mclose:pt,mpunct:pt,minner:pt},minner:{mord:pt,mop:pt,mbin:At,mrel:Tt,mopen:pt,mpunct:pt,minner:pt}},qt={mord:{mop:pt},mop:{mord:pt,mop:pt},mbin:{},mrel:{},mopen:{},mclose:{mop:pt},mpunct:{},minner:{mop:pt}},nn={},Sn={},gn={};function zt(g){let{type:f,names:b,props:C,handler:O,htmlBuilder:V,mathmlBuilder:J}=g;const pe={type:f,numArgs:C.numArgs,argTypes:C.argTypes,allowedInArgument:!!C.allowedInArgument,allowedInText:!!C.allowedInText,allowedInMath:C.allowedInMath===void 0?!0:C.allowedInMath,numOptionalArgs:C.numOptionalArgs||0,infix:!!C.infix,primitive:!!C.primitive,handler:O};for(let xe=0;xe<b.length;++xe)nn[b[xe]]=pe;f&&(V&&(Sn[f]=V),J&&(gn[f]=J))}function nr(g){let{type:f,htmlBuilder:b,mathmlBuilder:C}=g;zt({type:f,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:b,mathmlBuilder:C})}const Pn=function(g){return g.type==="ordgroup"&&g.body.length===1?g.body[0]:g},Kn=function(g){return g.type==="ordgroup"?g.body:[g]},Dr=ge.makeSpan,ir=["leftmost","mbin","mopen","mrel","mop","mpunct"],ei=["rightmost","mrel","mclose","mpunct"],Ys={display:le.DISPLAY,text:le.TEXT,script:le.SCRIPT,scriptscript:le.SCRIPTSCRIPT},rs={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Fn=function(g,f,b,C){C===void 0&&(C=[null,null]);const O=[];for(let ze=0;ze<g.length;ze++){const it=Wn(g[ze],f);if(it instanceof Rs){const ut=it.children;O.push(...ut)}else O.push(it)}if(ge.tryCombineChars(O),!b)return O;let V=f;if(g.length===1){const ze=g[0];ze.type==="sizing"?V=f.havingSize(ze.size):ze.type==="styling"&&(V=f.havingStyle(Ys[ze.style]))}const J=Dr([C[0]||"leftmost"],[],f),pe=Dr([C[1]||"rightmost"],[],f),xe=b==="root";return li(O,(ze,it)=>{const ut=it.classes[0],wt=ze.classes[0];ut==="mbin"&&ei.includes(wt)?it.classes[0]="mord":wt==="mbin"&&ir.includes(ut)&&(ze.classes[0]="mord")},{node:J},pe,xe),li(O,(ze,it)=>{const ut=Qi(it),wt=Qi(ze),Kt=ut&&wt?ze.hasClass("mtight")?qt[ut][wt]:hn[ut][wt]:null;if(Kt)return ge.makeGlue(Kt,V)},{node:J},pe,xe),O},li=function(g,f,b,C,O){C&&g.push(C);let V=0;for(;V<g.length;V++){const J=g[V],pe=Ai(J);if(pe){li(pe.children,f,b,null,O);continue}const xe=!J.hasClass("mspace");if(xe){const ze=f(J,b.node);ze&&(b.insertAfter?b.insertAfter(ze):(g.unshift(ze),V++))}xe?b.node=J:O&&J.hasClass("newline")&&(b.node=Dr(["leftmost"])),b.insertAfter=(ze=>it=>{g.splice(ze+1,0,it),V++})(V)}C&&g.pop()},Ai=function(g){return g instanceof Rs||g instanceof ds||g instanceof Qr&&g.hasClass("enclosing")?g:null},zi=function(g,f){const b=Ai(g);if(b){const C=b.children;if(C.length){if(f==="right")return zi(C[C.length-1],"right");if(f==="left")return zi(C[0],"left")}}return g},Qi=function(g,f){return g?(f&&(g=zi(g,f)),rs[g.classes[0]]||null):null},ti=function(g,f){const b=["nulldelimiter"].concat(g.baseSizingClasses());return Dr(f.concat(b))},Wn=function(g,f,b){if(!g)return Dr();if(Sn[g.type]){let C=Sn[g.type](g,f);if(b&&f.size!==b.size){C=Dr(f.sizingClasses(b),[C],f);const O=f.sizeMultiplier/b.sizeMultiplier;C.height*=O,C.depth*=O}return C}else throw new p("Got group of unknown type: '"+g.type+"'")};function Yr(g,f){const b=Dr(["base"],g,f),C=Dr(["strut"]);return C.style.height=N(b.height+b.depth),b.depth&&(C.style.verticalAlign=N(-b.depth)),b.children.unshift(C),b}function pi(g,f){let b=null;g.length===1&&g[0].type==="tag"&&(b=g[0].tag,g=g[0].body);const C=Fn(g,f,"root");let O;C.length===2&&C[1].hasClass("tag")&&(O=C.pop());const V=[];let J=[];for(let ze=0;ze<C.length;ze++)if(J.push(C[ze]),C[ze].hasClass("mbin")||C[ze].hasClass("mrel")||C[ze].hasClass("allowbreak")){let it=!1;for(;ze<C.length-1&&C[ze+1].hasClass("mspace")&&!C[ze+1].hasClass("newline");)ze++,J.push(C[ze]),C[ze].hasClass("nobreak")&&(it=!0);it||(V.push(Yr(J,f)),J=[])}else C[ze].hasClass("newline")&&(J.pop(),J.length>0&&(V.push(Yr(J,f)),J=[]),V.push(C[ze]));J.length>0&&V.push(Yr(J,f));let pe;b?(pe=Yr(Fn(b,f,!0)),pe.classes=["tag"],V.push(pe)):O&&V.push(O);const xe=Dr(["katex-html"],V);if(xe.setAttribute("aria-hidden","true"),pe){const ze=pe.children[0];ze.style.height=N(xe.height+xe.depth),xe.depth&&(ze.style.verticalAlign=N(-xe.depth))}return xe}function ho(g){return new Rs(g)}class ni{constructor(f,b,C){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=f,this.attributes={},this.children=b||[],this.classes=C||[]}setAttribute(f,b){this.attributes[f]=b}getAttribute(f){return this.attributes[f]}toNode(){const f=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const b in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,b)&&f.setAttribute(b,this.attributes[b]);this.classes.length>0&&(f.className=ue(this.classes));for(let b=0;b<this.children.length;b++)if(this.children[b]instanceof Ps&&this.children[b+1]instanceof Ps){let C=this.children[b].toText()+this.children[++b].toText();for(;this.children[b+1]instanceof Ps;)C+=this.children[++b].toText();f.appendChild(new Ps(C).toNode())}else f.appendChild(this.children[b].toNode());return f}toMarkup(){let f="<"+this.type;for(const b in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,b)&&(f+=" "+b+'="',f+=oe.escape(this.attributes[b]),f+='"');this.classes.length>0&&(f+=' class ="'+oe.escape(ue(this.classes))+'"'),f+=">";for(let b=0;b<this.children.length;b++)f+=this.children[b].toMarkup();return f+="</"+this.type+">",f}toText(){return this.children.map(f=>f.toText()).join("")}}class Ps{constructor(f){this.text=void 0,this.text=f}toNode(){return document.createTextNode(this.text)}toMarkup(){return oe.escape(this.toText())}toText(){return this.text}}class _o{constructor(f){this.width=void 0,this.character=void 0,this.width=f,f>=.05555&&f<=.05556?this.character="":f>=.1666&&f<=.1667?this.character="":f>=.2222&&f<=.2223?this.character="":f>=.2777&&f<=.2778?this.character="":f>=-.05556&&f<=-.05555?this.character="":f>=-.1667&&f<=-.1666?this.character="":f>=-.2223&&f<=-.2222?this.character="":f>=-.2778&&f<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const f=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return f.setAttribute("width",N(this.width)),f}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+N(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Yt={MathNode:ni,TextNode:Ps,SpaceNode:_o,newDocumentFragment:ho};const Ii=function(g,f,b){return vr[f][g]&&vr[f][g].replace&&g.charCodeAt(0)!==55349&&!(wn.hasOwnProperty(g)&&b&&(b.fontFamily&&b.fontFamily.slice(4,6)==="tt"||b.font&&b.font.slice(4,6)==="tt"))&&(g=vr[f][g].replace),new Yt.TextNode(g)},qi=function(g){return g.length===1?g[0]:new Yt.MathNode("mrow",g)},t0=function(g,f){if(f.fontFamily==="texttt")return"monospace";if(f.fontFamily==="textsf")return f.fontShape==="textit"&&f.fontWeight==="textbf"?"sans-serif-bold-italic":f.fontShape==="textit"?"sans-serif-italic":f.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(f.fontShape==="textit"&&f.fontWeight==="textbf")return"bold-italic";if(f.fontShape==="textit")return"italic";if(f.fontWeight==="textbf")return"bold";const b=f.font;if(!b||b==="mathnormal")return null;const C=g.mode;if(b==="mathit")return"italic";if(b==="boldsymbol")return g.type==="textord"?"bold":"bold-italic";if(b==="mathbf")return"bold";if(b==="mathbb")return"double-struck";if(b==="mathsfit")return"sans-serif-italic";if(b==="mathfrak")return"fraktur";if(b==="mathscr"||b==="mathcal")return"script";if(b==="mathsf")return"sans-serif";if(b==="mathtt")return"monospace";let O=g.text;if(["\\imath","\\jmath"].includes(O))return null;vr[C][O]&&vr[C][O].replace&&(O=vr[C][O].replace);const V=ge.fontMap[b].fontName;return ss(O,V,C)?ge.fontMap[b].variant:null};function n0(g){if(!g)return!1;if(g.type==="mi"&&g.children.length===1){const f=g.children[0];return f instanceof Ps&&f.text==="."}else if(g.type==="mo"&&g.children.length===1&&g.getAttribute("separator")==="true"&&g.getAttribute("lspace")==="0em"&&g.getAttribute("rspace")==="0em"){const f=g.children[0];return f instanceof Ps&&f.text===","}else return!1}const Fs=function(g,f,b){if(g.length===1){const V=qr(g[0],f);return b&&V instanceof ni&&V.type==="mo"&&(V.setAttribute("lspace","0em"),V.setAttribute("rspace","0em")),[V]}const C=[];let O;for(let V=0;V<g.length;V++){const J=qr(g[V],f);if(J instanceof ni&&O instanceof ni){if(J.type==="mtext"&&O.type==="mtext"&&J.getAttribute("mathvariant")===O.getAttribute("mathvariant")){O.children.push(...J.children);continue}else if(J.type==="mn"&&O.type==="mn"){O.children.push(...J.children);continue}else if(n0(J)&&O.type==="mn"){O.children.push(...J.children);continue}else if(J.type==="mn"&&n0(O))J.children=[...O.children,...J.children],C.pop();else if((J.type==="msup"||J.type==="msub")&&J.children.length>=1&&(O.type==="mn"||n0(O))){const pe=J.children[0];pe instanceof ni&&pe.type==="mn"&&(pe.children=[...O.children,...pe.children],C.pop())}else if(O.type==="mi"&&O.children.length===1){const pe=O.children[0];if(pe instanceof Ps&&pe.text===""&&(J.type==="mo"||J.type==="mi"||J.type==="mn")){const xe=J.children[0];xe instanceof Ps&&xe.text.length>0&&(xe.text=xe.text.slice(0,1)+""+xe.text.slice(1),C.pop())}}}C.push(J),O=J}return C},Ns=function(g,f,b){return qi(Fs(g,f,b))},qr=function(g,f){if(!g)return new Yt.MathNode("mrow");if(gn[g.type])return gn[g.type](g,f);throw new p("Got group of unknown type: '"+g.type+"'")};function Ss(g,f,b,C,O){const V=Fs(g,b);let J;V.length===1&&V[0]instanceof ni&&["mrow","mtable"].includes(V[0].type)?J=V[0]:J=new Yt.MathNode("mrow",V);const pe=new Yt.MathNode("annotation",[new Yt.TextNode(f)]);pe.setAttribute("encoding","application/x-tex");const xe=new Yt.MathNode("semantics",[J,pe]),ze=new Yt.MathNode("math",[xe]);ze.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),C&&ze.setAttribute("display","block");const it=O?"katex":"katex-mathml";return ge.makeSpan([it],[ze])}const Vo=function(g){return new Le({style:g.displayMode?le.DISPLAY:le.TEXT,maxSize:g.maxSize,minRuleThickness:g.minRuleThickness})},Rl=function(g,f){if(f.displayMode){const b=["katex-display"];f.leqno&&b.push("leqno"),f.fleqn&&b.push("fleqn"),g=ge.makeSpan(b,[g])}return g},Nl=function(g,f,b){const C=Vo(b);let O;if(b.output==="mathml")return Ss(g,f,C,b.displayMode,!0);if(b.output==="html"){const V=pi(g,C);O=ge.makeSpan(["katex"],[V])}else{const V=Ss(g,f,C,b.displayMode,!1),J=pi(g,C);O=ge.makeSpan(["katex"],[V,J])}return Rl(O,b)},Ol=function(g,f,b){const C=Vo(b),O=pi(g,C),V=ge.makeSpan(["katex"],[O]);return Rl(V,b)},iu={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},fo=function(g){const f=new Yt.MathNode("mo",[new Yt.TextNode(iu[g.replace(/^\\/,"")])]);return f.setAttribute("stretchy","true"),f},jc={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Yc=function(g){return g.type==="ordgroup"?g.body.length:1};var ul={encloseSpan:function(g,f,b,C,O){let V;const J=g.height+g.depth+b+C;if(/fbox|color|angl/.test(f)){if(V=ge.makeSpan(["stretchy",f],[],O),f==="fbox"){const pe=O.color&&O.getColor();pe&&(V.style.borderColor=pe)}}else{const pe=[];/^[bx]cancel$/.test(f)&&pe.push(new Ft({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(f)&&pe.push(new Ft({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const xe=new Pe(pe,{width:"100%",height:N(J)});V=ge.makeSvgSpan([],[xe],O)}return V.height=J,V.style.height=N(J),V},mathMLnode:fo,svgSpan:function(g,f){function b(){let J=4e5;const pe=g.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(pe)){const ze=Yc(g.base);let it,ut,wt;if(ze>5)pe==="widehat"||pe==="widecheck"?(it=420,J=2364,wt=.42,ut=pe+"4"):(it=312,J=2340,wt=.34,ut="tilde4");else{const Mn=[1,1,2,2,3,3][ze];pe==="widehat"||pe==="widecheck"?(J=[0,1062,2364,2364,2364][Mn],it=[0,239,300,360,420][Mn],wt=[0,.24,.3,.3,.36,.42][Mn],ut=pe+Mn):(J=[0,600,1033,2339,2340][Mn],it=[0,260,286,306,312][Mn],wt=[0,.26,.286,.3,.306,.34][Mn],ut="tilde"+Mn)}const Kt=new et(ut),vn=new Pe([Kt],{width:"100%",height:N(wt),viewBox:"0 0 "+J+" "+it,preserveAspectRatio:"none"});return{span:ge.makeSvgSpan([],[vn],f),minWidth:0,height:wt}}else{const xe=[],ze=jc[pe],[it,ut,wt]=ze,Kt=wt/1e3,vn=it.length;let Mn,Rr;if(vn===1){const gr=ze[3];Mn=["hide-tail"],Rr=[gr]}else if(vn===2)Mn=["halfarrow-left","halfarrow-right"],Rr=["xMinYMin","xMaxYMin"];else if(vn===3)Mn=["brace-left","brace-center","brace-right"],Rr=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+vn+" children.");for(let gr=0;gr<vn;gr++){const Tr=new et(it[gr]),ui=new Pe([Tr],{width:"400em",height:N(Kt),viewBox:"0 0 "+J+" "+wt,preserveAspectRatio:Rr[gr]+" slice"}),jr=ge.makeSvgSpan([Mn[gr]],[ui],f);if(vn===1)return{span:jr,minWidth:ut,height:Kt};jr.style.height=N(Kt),xe.push(jr)}return{span:ge.makeSpan(["stretchy"],xe,f),minWidth:ut,height:Kt}}}const{span:C,minWidth:O,height:V}=b();return C.height=V,C.style.height=N(V),O>0&&(C.style.minWidth=N(O)),C}};function mr(g,f){if(!g||g.type!==f)throw new Error("Expected node of type "+f+", but got "+(g?"node of type "+g.type:String(g)));return g}function su(g){const f=V0(g);if(!f)throw new Error("Expected node of symbol group type, but got "+(g?"node of type "+g.type:String(g)));return f}function V0(g){return g&&(g.type==="atom"||Ml.hasOwnProperty(g.type))?g:null}const xa=(g,f)=>{let b,C,O;g&&g.type==="supsub"?(C=mr(g.base,"accent"),b=C.base,g.base=b,O=Hn(Wn(g,f)),g.base=C):(C=mr(g,"accent"),b=C.base);const V=Wn(b,f.havingCrampedStyle()),J=C.isShifty&&oe.isCharacterBox(b);let pe=0;if(J){const wt=oe.getBaseElem(b),Kt=Wn(wt,f.havingCrampedStyle());pe=dn(Kt).skew}const xe=C.label==="\\c";let ze=xe?V.height+V.depth:Math.min(V.height,f.fontMetrics().xHeight),it;if(C.isStretchy)it=ul.svgSpan(C,f),it=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:V},{type:"elem",elem:it,wrapperClasses:["svg-align"],wrapperStyle:pe>0?{width:"calc(100% - "+N(2*pe)+")",marginLeft:N(2*pe)}:void 0}]},f);else{let wt,Kt;C.label==="\\vec"?(wt=ge.staticSvg("vec",f),Kt=ge.svgData.vec[1]):(wt=ge.makeOrd({mode:C.mode,text:C.label},f,"textord"),wt=dn(wt),wt.italic=0,Kt=wt.width,xe&&(ze+=wt.depth)),it=ge.makeSpan(["accent-body"],[wt]);const vn=C.label==="\\textcircled";vn&&(it.classes.push("accent-full"),ze=V.height);let Mn=pe;vn||(Mn-=Kt/2),it.style.left=N(Mn),C.label==="\\textcircled"&&(it.style.top=".2em"),it=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:V},{type:"kern",size:-ze},{type:"elem",elem:it}]},f)}const ut=ge.makeSpan(["mord","accent"],[it],f);return O?(O.children[0]=ut,O.height=Math.max(ut.height,O.height),O.classes[0]="mord",O):ut},Zu=(g,f)=>{const b=g.isStretchy?ul.mathMLnode(g.label):new Yt.MathNode("mo",[Ii(g.label,g.mode)]),C=new Yt.MathNode("mover",[qr(g.base,f),b]);return C.setAttribute("accent","true"),C},g0=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(g=>"\\"+g).join("|"));zt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(g,f)=>{const b=Pn(f[0]),C=!g0.test(g.funcName),O=!C||g.funcName==="\\widehat"||g.funcName==="\\widetilde"||g.funcName==="\\widecheck";return{type:"accent",mode:g.parser.mode,label:g.funcName,isStretchy:C,isShifty:O,base:b}},htmlBuilder:xa,mathmlBuilder:Zu}),zt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(g,f)=>{const b=f[0];let C=g.parser.mode;return C==="math"&&(g.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+g.funcName+" works only in text mode"),C="text"),{type:"accent",mode:C,label:g.funcName,isStretchy:!1,isShifty:!0,base:b}},htmlBuilder:xa,mathmlBuilder:Zu}),zt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(g,f)=>{let{parser:b,funcName:C}=g;const O=f[0];return{type:"accentUnder",mode:b.mode,label:C,base:O}},htmlBuilder:(g,f)=>{const b=Wn(g.base,f),C=ul.svgSpan(g,f),O=g.label==="\\utilde"?.12:0,V=ge.makeVList({positionType:"top",positionData:b.height,children:[{type:"elem",elem:C,wrapperClasses:["svg-align"]},{type:"kern",size:O},{type:"elem",elem:b}]},f);return ge.makeSpan(["mord","accentunder"],[V],f)},mathmlBuilder:(g,f)=>{const b=ul.mathMLnode(g.label),C=new Yt.MathNode("munder",[qr(g.base,f),b]);return C.setAttribute("accentunder","true"),C}});const $0=g=>{const f=new Yt.MathNode("mpadded",g?[g]:[]);return f.setAttribute("width","+0.6em"),f.setAttribute("lspace","0.3em"),f};zt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(g,f,b){let{parser:C,funcName:O}=g;return{type:"xArrow",mode:C.mode,label:O,body:f[0],below:b[0]}},htmlBuilder(g,f){const b=f.style;let C=f.havingStyle(b.sup());const O=ge.wrapFragment(Wn(g.body,C,f),f),V=g.label.slice(0,2)==="\\x"?"x":"cd";O.classes.push(V+"-arrow-pad");let J;g.below&&(C=f.havingStyle(b.sub()),J=ge.wrapFragment(Wn(g.below,C,f),f),J.classes.push(V+"-arrow-pad"));const pe=ul.svgSpan(g,f),xe=-f.fontMetrics().axisHeight+.5*pe.height;let ze=-f.fontMetrics().axisHeight-.5*pe.height-.111;(O.depth>.25||g.label==="\\xleftequilibrium")&&(ze-=O.depth);let it;if(J){const ut=-f.fontMetrics().axisHeight+J.height+.5*pe.height+.111;it=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:O,shift:ze},{type:"elem",elem:pe,shift:xe},{type:"elem",elem:J,shift:ut}]},f)}else it=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:O,shift:ze},{type:"elem",elem:pe,shift:xe}]},f);return it.children[0].children[0].children[1].classes.push("svg-align"),ge.makeSpan(["mrel","x-arrow"],[it],f)},mathmlBuilder(g,f){const b=ul.mathMLnode(g.label);b.setAttribute("minsize",g.label.charAt(0)==="x"?"1.75em":"3.0em");let C;if(g.body){const O=$0(qr(g.body,f));if(g.below){const V=$0(qr(g.below,f));C=new Yt.MathNode("munderover",[b,V,O])}else C=new Yt.MathNode("mover",[b,O])}else if(g.below){const O=$0(qr(g.below,f));C=new Yt.MathNode("munder",[b,O])}else C=$0(),C=new Yt.MathNode("mover",[b,C]);return C}});const Kc=ge.makeSpan;function b0(g,f){const b=Fn(g.body,f,!0);return Kc([g.mclass],b,f)}function ka(g,f){let b;const C=Fs(g.body,f);return g.mclass==="minner"?b=new Yt.MathNode("mpadded",C):g.mclass==="mord"?g.isCharacterBox?(b=C[0],b.type="mi"):b=new Yt.MathNode("mi",C):(g.isCharacterBox?(b=C[0],b.type="mo"):b=new Yt.MathNode("mo",C),g.mclass==="mbin"?(b.attributes.lspace="0.22em",b.attributes.rspace="0.22em"):g.mclass==="mpunct"?(b.attributes.lspace="0em",b.attributes.rspace="0.17em"):g.mclass==="mopen"||g.mclass==="mclose"?(b.attributes.lspace="0em",b.attributes.rspace="0em"):g.mclass==="minner"&&(b.attributes.lspace="0.0556em",b.attributes.width="+0.1111em")),b}zt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(g,f){let{parser:b,funcName:C}=g;const O=f[0];return{type:"mclass",mode:b.mode,mclass:"m"+C.slice(5),body:Kn(O),isCharacterBox:oe.isCharacterBox(O)}},htmlBuilder:b0,mathmlBuilder:ka});const W0=g=>{const f=g.type==="ordgroup"&&g.body.length?g.body[0]:g;return f.type==="atom"&&(f.family==="bin"||f.family==="rel")?"m"+f.family:"mord"};zt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(g,f){let{parser:b}=g;return{type:"mclass",mode:b.mode,mclass:W0(f[0]),body:Kn(f[1]),isCharacterBox:oe.isCharacterBox(f[1])}}}),zt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(g,f){let{parser:b,funcName:C}=g;const O=f[1],V=f[0];let J;C!=="\\stackrel"?J=W0(O):J="mrel";const pe={type:"op",mode:O.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:C!=="\\stackrel",body:Kn(O)},xe={type:"supsub",mode:V.mode,base:pe,sup:C==="\\underset"?null:V,sub:C==="\\underset"?V:null};return{type:"mclass",mode:b.mode,mclass:J,body:[xe],isCharacterBox:oe.isCharacterBox(xe)}},htmlBuilder:b0,mathmlBuilder:ka}),zt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(g,f){let{parser:b}=g;return{type:"pmb",mode:b.mode,mclass:W0(f[0]),body:Kn(f[0])}},htmlBuilder(g,f){const b=Fn(g.body,f,!0),C=ge.makeSpan([g.mclass],b,f);return C.style.textShadow="0.02em 0.01em 0.04px",C},mathmlBuilder(g,f){const b=Fs(g.body,f),C=new Yt.MathNode("mstyle",b);return C.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),C}});const Qu={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},v0=()=>({type:"styling",body:[],mode:"math",style:"display"}),Ll=g=>g.type==="textord"&&g.text==="@",ec=(g,f)=>(g.type==="mathord"||g.type==="atom")&&g.text===f;function tc(g,f,b){const C=Qu[g];switch(C){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return b.callFunction(C,[f[0]],[f[1]]);case"\\uparrow":case"\\downarrow":{const O=b.callFunction("\\\\cdleft",[f[0]],[]),V={type:"atom",text:C,mode:"math",family:"rel"},J=b.callFunction("\\Big",[V],[]),pe=b.callFunction("\\\\cdright",[f[1]],[]),xe={type:"ordgroup",mode:"math",body:[O,J,pe]};return b.callFunction("\\\\cdparent",[xe],[])}case"\\\\cdlongequal":return b.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const O={type:"textord",text:"\\Vert",mode:"math"};return b.callFunction("\\Big",[O],[])}default:return{type:"textord",text:" ",mode:"math"}}}function ou(g){const f=[];for(g.gullet.beginGroup(),g.gullet.macros.set("\\cr","\\\\\\relax"),g.gullet.beginGroup();;){f.push(g.parseExpression(!1,"\\\\")),g.gullet.endGroup(),g.gullet.beginGroup();const V=g.fetch().text;if(V==="&"||V==="\\\\")g.consume();else if(V==="\\end"){f[f.length-1].length===0&&f.pop();break}else throw new p("Expected \\\\ or \\cr or \\end",g.nextToken)}let b=[];const C=[b];for(let V=0;V<f.length;V++){const J=f[V];let pe=v0();for(let xe=0;xe<J.length;xe++)if(!Ll(J[xe]))pe.body.push(J[xe]);else{b.push(pe),xe+=1;const ze=su(J[xe]).text,it=new Array(2);if(it[0]={type:"ordgroup",mode:"math",body:[]},it[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(ze)>-1))if("<>AV".indexOf(ze)>-1)for(let Kt=0;Kt<2;Kt++){let vn=!0;for(let Mn=xe+1;Mn<J.length;Mn++){if(ec(J[Mn],ze)){vn=!1,xe=Mn;break}if(Ll(J[Mn]))throw new p("Missing a "+ze+" character to complete a CD arrow.",J[Mn]);it[Kt].body.push(J[Mn])}if(vn)throw new p("Missing a "+ze+" character to complete a CD arrow.",J[xe])}else throw new p('Expected one of "<>AV=|." after @',J[xe]);const wt={type:"styling",body:[tc(ze,it,g)],mode:"math",style:"display"};b.push(wt),pe=v0()}V%2===0?b.push(pe):b.shift(),b=[],C.push(b)}g.gullet.endGroup(),g.gullet.endGroup();const O=new Array(C[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:C,arraystretch:1,addJot:!0,rowGaps:[null],cols:O,colSeparationType:"CD",hLinesBeforeRow:new Array(C.length+1).fill([])}}zt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(g,f){let{parser:b,funcName:C}=g;return{type:"cdlabel",mode:b.mode,side:C.slice(4),label:f[0]}},htmlBuilder(g,f){const b=f.havingStyle(f.style.sup()),C=ge.wrapFragment(Wn(g.label,b,f),f);return C.classes.push("cd-label-"+g.side),C.style.bottom=N(.8-C.depth),C.height=0,C.depth=0,C},mathmlBuilder(g,f){let b=new Yt.MathNode("mrow",[qr(g.label,f)]);return b=new Yt.MathNode("mpadded",[b]),b.setAttribute("width","0"),g.side==="left"&&b.setAttribute("lspace","-1width"),b.setAttribute("voffset","0.7em"),b=new Yt.MathNode("mstyle",[b]),b.setAttribute("displaystyle","false"),b.setAttribute("scriptlevel","1"),b}}),zt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(g,f){let{parser:b}=g;return{type:"cdlabelparent",mode:b.mode,fragment:f[0]}},htmlBuilder(g,f){const b=ge.wrapFragment(Wn(g.fragment,f),f);return b.classes.push("cd-vert-arrow"),b},mathmlBuilder(g,f){return new Yt.MathNode("mrow",[qr(g.fragment,f)])}}),zt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(g,f){let{parser:b}=g;const O=mr(f[0],"ordgroup").body;let V="";for(let xe=0;xe<O.length;xe++){const ze=mr(O[xe],"textord");V+=ze.text}let J=parseInt(V),pe;if(isNaN(J))throw new p("\\@char has non-numeric argument "+V);if(J<0||J>=1114111)throw new p("\\@char with invalid code point "+V);return J<=65535?pe=String.fromCharCode(J):(J-=65536,pe=String.fromCharCode((J>>10)+55296,(J&1023)+56320)),{type:"textord",mode:b.mode,text:pe}}});const Ca=(g,f)=>{const b=Fn(g.body,f.withColor(g.color),!1);return ge.makeFragment(b)},Aa=(g,f)=>{const b=Fs(g.body,f.withColor(g.color)),C=new Yt.MathNode("mstyle",b);return C.setAttribute("mathcolor",g.color),C};zt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(g,f){let{parser:b}=g;const C=mr(f[0],"color-token").color,O=f[1];return{type:"color",mode:b.mode,color:C,body:Kn(O)}},htmlBuilder:Ca,mathmlBuilder:Aa}),zt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(g,f){let{parser:b,breakOnTokenText:C}=g;const O=mr(f[0],"color-token").color;b.gullet.macros.set("\\current@color",O);const V=b.parseExpression(!0,C);return{type:"color",mode:b.mode,color:O,body:V}},htmlBuilder:Ca,mathmlBuilder:Aa}),zt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(g,f,b){let{parser:C}=g;const O=C.gullet.future().text==="["?C.parseSizeGroup(!0):null,V=!C.settings.displayMode||!C.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:C.mode,newLine:V,size:O&&mr(O,"size").value}},htmlBuilder(g,f){const b=ge.makeSpan(["mspace"],[],f);return g.newLine&&(b.classes.push("newline"),g.size&&(b.style.marginTop=N(kt(g.size,f)))),b},mathmlBuilder(g,f){const b=new Yt.MathNode("mspace");return g.newLine&&(b.setAttribute("linebreak","newline"),g.size&&b.setAttribute("height",N(kt(g.size,f)))),b}});const q0={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Dl=g=>{const f=g.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(f))throw new p("Expected a control sequence",g);return f},Ia=g=>{let f=g.gullet.popToken();return f.text==="="&&(f=g.gullet.popToken(),f.text===" "&&(f=g.gullet.popToken())),f},lu=(g,f,b,C)=>{let O=g.gullet.macros.get(b.text);O==null&&(b.noexpand=!0,O={tokens:[b],numArgs:0,unexpandable:!g.gullet.isExpandable(b.text)}),g.gullet.macros.set(f,O,C)};zt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(g){let{parser:f,funcName:b}=g;f.consumeSpaces();const C=f.fetch();if(q0[C.text])return(b==="\\global"||b==="\\\\globallong")&&(C.text=q0[C.text]),mr(f.parseFunction(),"internal");throw new p("Invalid token after macro prefix",C)}}),zt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(g){let{parser:f,funcName:b}=g,C=f.gullet.popToken();const O=C.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(O))throw new p("Expected a control sequence",C);let V=0,J;const pe=[[]];for(;f.gullet.future().text!=="{";)if(C=f.gullet.popToken(),C.text==="#"){if(f.gullet.future().text==="{"){J=f.gullet.future(),pe[V].push("{");break}if(C=f.gullet.popToken(),!/^[1-9]$/.test(C.text))throw new p('Invalid argument number "'+C.text+'"');if(parseInt(C.text)!==V+1)throw new p('Argument number "'+C.text+'" out of order');V++,pe.push([])}else{if(C.text==="EOF")throw new p("Expected a macro definition");pe[V].push(C.text)}let{tokens:xe}=f.gullet.consumeArg();return J&&xe.unshift(J),(b==="\\edef"||b==="\\xdef")&&(xe=f.gullet.expandTokens(xe),xe.reverse()),f.gullet.macros.set(O,{tokens:xe,numArgs:V,delimiters:pe},b===q0[b]),{type:"internal",mode:f.mode}}}),zt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(g){let{parser:f,funcName:b}=g;const C=Dl(f.gullet.popToken());f.gullet.consumeSpaces();const O=Ia(f);return lu(f,C,O,b==="\\\\globallet"),{type:"internal",mode:f.mode}}}),zt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(g){let{parser:f,funcName:b}=g;const C=Dl(f.gullet.popToken()),O=f.gullet.popToken(),V=f.gullet.popToken();return lu(f,C,V,b==="\\\\globalfuture"),f.gullet.pushToken(V),f.gullet.pushToken(O),{type:"internal",mode:f.mode}}});const cl=function(g,f,b){const C=vr.math[g]&&vr.math[g].replace,O=ss(C||g,f,b);if(!O)throw new Error("Unsupported symbol "+g+" and font size "+f+".");return O},y=function(g,f,b,C){const O=b.havingBaseStyle(f),V=ge.makeSpan(C.concat(O.sizingClasses(b)),[g],b),J=O.sizeMultiplier/b.sizeMultiplier;return V.height*=J,V.depth*=J,V.maxFontSize=O.sizeMultiplier,V},M=function(g,f,b){const C=f.havingBaseStyle(b),O=(1-f.sizeMultiplier/C.sizeMultiplier)*f.fontMetrics().axisHeight;g.classes.push("delimcenter"),g.style.top=N(O),g.height-=O,g.depth+=O},se=function(g,f,b,C,O,V){const J=ge.makeSymbol(g,"Main-Regular",O,C),pe=y(J,f,C,V);return b&&M(pe,C,f),pe},ve=function(g,f,b,C){return ge.makeSymbol(g,"Size"+f+"-Regular",b,C)},Ne=function(g,f,b,C,O,V){const J=ve(g,f,O,C),pe=y(ge.makeSpan(["delimsizing","size"+f],[J],C),le.TEXT,C,V);return b&&M(pe,C,le.TEXT),pe},je=function(g,f,b){let C;return f==="Size1-Regular"?C="delim-size1":C="delim-size4",{type:"elem",elem:ge.makeSpan(["delimsizinginner",C],[ge.makeSpan([],[ge.makeSymbol(g,f,b)])])}},at=function(g,f,b){const C=on["Size4-Regular"][g.charCodeAt(0)]?on["Size4-Regular"][g.charCodeAt(0)][4]:on["Size1-Regular"][g.charCodeAt(0)][4],O=new et("inner",Wr(g,Math.round(1e3*f))),V=new Pe([O],{width:N(C),height:N(f),style:"width:"+N(C),viewBox:"0 0 "+1e3*C+" "+Math.round(1e3*f),preserveAspectRatio:"xMinYMin"}),J=ge.makeSvgSpan([],[V],b);return J.height=f,J.style.height=N(f),J.style.width=N(C),{type:"elem",elem:J}},St=.008,Vt={type:"kern",size:-1*St},Xt=["|","\\lvert","\\rvert","\\vert"],pn=["\\|","\\lVert","\\rVert","\\Vert"],Mt=function(g,f,b,C,O,V){let J,pe,xe,ze,it="",ut=0;J=xe=ze=g,pe=null;let wt="Size1-Regular";g==="\\uparrow"?xe=ze="":g==="\\Uparrow"?xe=ze="":g==="\\downarrow"?J=xe="":g==="\\Downarrow"?J=xe="":g==="\\updownarrow"?(J="\\uparrow",xe="",ze="\\downarrow"):g==="\\Updownarrow"?(J="\\Uparrow",xe="",ze="\\Downarrow"):Xt.includes(g)?(xe="",it="vert",ut=333):pn.includes(g)?(xe="",it="doublevert",ut=556):g==="["||g==="\\lbrack"?(J="",xe="",ze="",wt="Size4-Regular",it="lbrack",ut=667):g==="]"||g==="\\rbrack"?(J="",xe="",ze="",wt="Size4-Regular",it="rbrack",ut=667):g==="\\lfloor"||g===""?(xe=J="",ze="",wt="Size4-Regular",it="lfloor",ut=667):g==="\\lceil"||g===""?(J="",xe=ze="",wt="Size4-Regular",it="lceil",ut=667):g==="\\rfloor"||g===""?(xe=J="",ze="",wt="Size4-Regular",it="rfloor",ut=667):g==="\\rceil"||g===""?(J="",xe=ze="",wt="Size4-Regular",it="rceil",ut=667):g==="("||g==="\\lparen"?(J="",xe="",ze="",wt="Size4-Regular",it="lparen",ut=875):g===")"||g==="\\rparen"?(J="",xe="",ze="",wt="Size4-Regular",it="rparen",ut=875):g==="\\{"||g==="\\lbrace"?(J="",pe="",ze="",xe="",wt="Size4-Regular"):g==="\\}"||g==="\\rbrace"?(J="",pe="",ze="",xe="",wt="Size4-Regular"):g==="\\lgroup"||g===""?(J="",ze="",xe="",wt="Size4-Regular"):g==="\\rgroup"||g===""?(J="",ze="",xe="",wt="Size4-Regular"):g==="\\lmoustache"||g===""?(J="",ze="",xe="",wt="Size4-Regular"):(g==="\\rmoustache"||g==="")&&(J="",ze="",xe="",wt="Size4-Regular");const Kt=cl(J,wt,O),vn=Kt.height+Kt.depth,Mn=cl(xe,wt,O),Rr=Mn.height+Mn.depth,gr=cl(ze,wt,O),Tr=gr.height+gr.depth;let ui=0,jr=1;if(pe!==null){const ci=cl(pe,wt,O);ui=ci.height+ci.depth,jr=2}const Hi=vn+Tr+ui,gs=Math.max(0,Math.ceil((f-Hi)/(jr*Rr))),as=Hi+gs*jr*Rr;let $s=C.fontMetrics().axisHeight;b&&($s*=C.sizeMultiplier);const Nr=as/2-$s,mi=[];if(it.length>0){const ci=as-vn-Tr,ji=Math.round(as*1e3),$o=pr(it,Math.round(ci*1e3)),Z0=new et(it,$o),du=(ut/1e3).toFixed(3)+"em",dc=(ji/1e3).toFixed(3)+"em",t1=new Pe([Z0],{width:du,height:dc,viewBox:"0 0 "+ut+" "+ji}),C0=ge.makeSvgSpan([],[t1],C);C0.height=ji/1e3,C0.style.width=du,C0.style.height=dc,mi.push({type:"elem",elem:C0})}else{if(mi.push(je(ze,wt,O)),mi.push(Vt),pe===null){const ci=as-vn-Tr+2*St;mi.push(at(xe,ci,C))}else{const ci=(as-vn-Tr-ui)/2+2*St;mi.push(at(xe,ci,C)),mi.push(Vt),mi.push(je(pe,wt,O)),mi.push(Vt),mi.push(at(xe,ci,C))}mi.push(Vt),mi.push(je(J,wt,O))}const gi=C.havingBaseStyle(le.TEXT),Ni=ge.makeVList({positionType:"bottom",positionData:Nr,children:mi},gi);return y(ge.makeSpan(["delimsizing","mult"],[Ni],gi),le.TEXT,C,V)},Un=80,Ln=.08,Gn=function(g,f,b,C,O){const V=tn(g,C,b),J=new et(g,V),pe=new Pe([J],{width:"400em",height:N(f),viewBox:"0 0 400000 "+b,preserveAspectRatio:"xMinYMin slice"});return ge.makeSvgSpan(["hide-tail"],[pe],O)},er=function(g,f){const b=f.havingBaseSizing(),C=ri("\\surd",g*b.sizeMultiplier,ai,b);let O=b.sizeMultiplier;const V=Math.max(0,f.minRuleThickness-f.fontMetrics().sqrtRuleThickness);let J,pe=0,xe=0,ze=0,it;return C.type==="small"?(ze=1e3+1e3*V+Un,g<1?O=1:g<1.4&&(O=.7),pe=(1+V+Ln)/O,xe=(1+V)/O,J=Gn("sqrtMain",pe,ze,V,f),J.style.minWidth="0.853em",it=.833/O):C.type==="large"?(ze=(1e3+Un)*Nn[C.size],xe=(Nn[C.size]+V)/O,pe=(Nn[C.size]+V+Ln)/O,J=Gn("sqrtSize"+C.size,pe,ze,V,f),J.style.minWidth="1.02em",it=1/O):(pe=g+V+Ln,xe=g+V,ze=Math.floor(1e3*g+V)+Un,J=Gn("sqrtTall",pe,ze,V,f),J.style.minWidth="0.742em",it=1.056),J.height=xe,J.style.height=N(pe),{span:J,advanceWidth:it,ruleWidth:(f.fontMetrics().sqrtRuleThickness+V)*O}},yr=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],Br=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],en=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Nn=[0,1.2,1.8,2.4,3],Mr=function(g,f,b,C,O){if(g==="<"||g==="\\lt"||g===""?g="\\langle":(g===">"||g==="\\gt"||g==="")&&(g="\\rangle"),yr.includes(g)||en.includes(g))return Ne(g,f,!1,b,C,O);if(Br.includes(g))return Mt(g,Nn[f],!1,b,C,O);throw new p("Illegal delimiter: '"+g+"'")},or=[{type:"small",style:le.SCRIPTSCRIPT},{type:"small",style:le.SCRIPT},{type:"small",style:le.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Xr=[{type:"small",style:le.SCRIPTSCRIPT},{type:"small",style:le.SCRIPT},{type:"small",style:le.TEXT},{type:"stack"}],ai=[{type:"small",style:le.SCRIPTSCRIPT},{type:"small",style:le.SCRIPT},{type:"small",style:le.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Kr=function(g){if(g.type==="small")return"Main-Regular";if(g.type==="large")return"Size"+g.size+"-Regular";if(g.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+g.type+"' here.")},ri=function(g,f,b,C){const O=Math.min(2,3-C.style.size);for(let V=O;V<b.length&&b[V].type!=="stack";V++){const J=cl(g,Kr(b[V]),"math");let pe=J.height+J.depth;if(b[V].type==="small"){const xe=C.havingBaseStyle(b[V].style);pe*=xe.sizeMultiplier}if(pe>f)return b[V]}return b[b.length-1]},Jr=function(g,f,b,C,O,V){g==="<"||g==="\\lt"||g===""?g="\\langle":(g===">"||g==="\\gt"||g==="")&&(g="\\rangle");let J;en.includes(g)?J=or:yr.includes(g)?J=ai:J=Xr;const pe=ri(g,f,J,C);return pe.type==="small"?se(g,pe.style,b,C,O,V):pe.type==="large"?Ne(g,pe.size,b,C,O,V):Mt(g,f,b,C,O,V)};var Pr={sqrtImage:er,sizedDelim:Mr,sizeToMaxHeight:Nn,customSizedDelim:Jr,leftRightDelim:function(g,f,b,C,O,V){const J=C.fontMetrics().axisHeight*C.sizeMultiplier,pe=901,xe=5/C.fontMetrics().ptPerEm,ze=Math.max(f-J,b+J),it=Math.max(ze/500*pe,2*ze-xe);return Jr(g,it,!0,C,O,V)}};const Ui={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},ms=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function xs(g,f){const b=V0(g);if(b&&ms.includes(b.text))return b;throw b?new p("Invalid delimiter '"+b.text+"' after '"+f.funcName+"'",g):new p("Invalid delimiter type '"+g.type+"'",g)}zt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(g,f)=>{const b=xs(f[0],g);return{type:"delimsizing",mode:g.parser.mode,size:Ui[g.funcName].size,mclass:Ui[g.funcName].mclass,delim:b.text}},htmlBuilder:(g,f)=>g.delim==="."?ge.makeSpan([g.mclass]):Pr.sizedDelim(g.delim,g.size,f,g.mode,[g.mclass]),mathmlBuilder:g=>{const f=[];g.delim!=="."&&f.push(Ii(g.delim,g.mode));const b=new Yt.MathNode("mo",f);g.mclass==="mopen"||g.mclass==="mclose"?b.setAttribute("fence","true"):b.setAttribute("fence","false"),b.setAttribute("stretchy","true");const C=N(Pr.sizeToMaxHeight[g.size]);return b.setAttribute("minsize",C),b.setAttribute("maxsize",C),b}});function _i(g){if(!g.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}zt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(g,f)=>{const b=g.parser.gullet.macros.get("\\current@color");if(b&&typeof b!="string")throw new p("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:g.parser.mode,delim:xs(f[0],g).text,color:b}}}),zt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(g,f)=>{const b=xs(f[0],g),C=g.parser;++C.leftrightDepth;const O=C.parseExpression(!1);--C.leftrightDepth,C.expect("\\right",!1);const V=mr(C.parseFunction(),"leftright-right");return{type:"leftright",mode:C.mode,body:O,left:b.text,right:V.delim,rightColor:V.color}},htmlBuilder:(g,f)=>{_i(g);const b=Fn(g.body,f,!0,["mopen","mclose"]);let C=0,O=0,V=!1;for(let xe=0;xe<b.length;xe++)b[xe].isMiddle?V=!0:(C=Math.max(b[xe].height,C),O=Math.max(b[xe].depth,O));C*=f.sizeMultiplier,O*=f.sizeMultiplier;let J;if(g.left==="."?J=ti(f,["mopen"]):J=Pr.leftRightDelim(g.left,C,O,f,g.mode,["mopen"]),b.unshift(J),V)for(let xe=1;xe<b.length;xe++){const it=b[xe].isMiddle;it&&(b[xe]=Pr.leftRightDelim(it.delim,C,O,it.options,g.mode,[]))}let pe;if(g.right===".")pe=ti(f,["mclose"]);else{const xe=g.rightColor?f.withColor(g.rightColor):f;pe=Pr.leftRightDelim(g.right,C,O,xe,g.mode,["mclose"])}return b.push(pe),ge.makeSpan(["minner"],b,f)},mathmlBuilder:(g,f)=>{_i(g);const b=Fs(g.body,f);if(g.left!=="."){const C=new Yt.MathNode("mo",[Ii(g.left,g.mode)]);C.setAttribute("fence","true"),b.unshift(C)}if(g.right!=="."){const C=new Yt.MathNode("mo",[Ii(g.right,g.mode)]);C.setAttribute("fence","true"),g.rightColor&&C.setAttribute("mathcolor",g.rightColor),b.push(C)}return qi(b)}}),zt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(g,f)=>{const b=xs(f[0],g);if(!g.parser.leftrightDepth)throw new p("\\middle without preceding \\left",b);return{type:"middle",mode:g.parser.mode,delim:b.text}},htmlBuilder:(g,f)=>{let b;if(g.delim===".")b=ti(f,[]);else{b=Pr.sizedDelim(g.delim,1,f,g.mode,[]);const C={delim:g.delim,options:f};b.isMiddle=C}return b},mathmlBuilder:(g,f)=>{const b=g.delim==="\\vert"||g.delim==="|"?Ii("|","text"):Ii(g.delim,g.mode),C=new Yt.MathNode("mo",[b]);return C.setAttribute("fence","true"),C.setAttribute("lspace","0.05em"),C.setAttribute("rspace","0.05em"),C}});const zs=(g,f)=>{const b=ge.wrapFragment(Wn(g.body,f),f),C=g.label.slice(1);let O=f.sizeMultiplier,V,J=0;const pe=oe.isCharacterBox(g.body);if(C==="sout")V=ge.makeSpan(["stretchy","sout"]),V.height=f.fontMetrics().defaultRuleThickness/O,J=-.5*f.fontMetrics().xHeight;else if(C==="phase"){const ze=kt({number:.6,unit:"pt"},f),it=kt({number:.35,unit:"ex"},f),ut=f.havingBaseSizing();O=O/ut.sizeMultiplier;const wt=b.height+b.depth+ze+it;b.style.paddingLeft=N(wt/2+ze);const Kt=Math.floor(1e3*wt*O),vn=Xn(Kt),Mn=new Pe([new et("phase",vn)],{width:"400em",height:N(Kt/1e3),viewBox:"0 0 400000 "+Kt,preserveAspectRatio:"xMinYMin slice"});V=ge.makeSvgSpan(["hide-tail"],[Mn],f),V.style.height=N(wt),J=b.depth+ze+it}else{/cancel/.test(C)?pe||b.classes.push("cancel-pad"):C==="angl"?b.classes.push("anglpad"):b.classes.push("boxpad");let ze=0,it=0,ut=0;/box/.test(C)?(ut=Math.max(f.fontMetrics().fboxrule,f.minRuleThickness),ze=f.fontMetrics().fboxsep+(C==="colorbox"?0:ut),it=ze):C==="angl"?(ut=Math.max(f.fontMetrics().defaultRuleThickness,f.minRuleThickness),ze=4*ut,it=Math.max(0,.25-b.depth)):(ze=pe?.2:0,it=ze),V=ul.encloseSpan(b,C,ze,it,f),/fbox|boxed|fcolorbox/.test(C)?(V.style.borderStyle="solid",V.style.borderWidth=N(ut)):C==="angl"&&ut!==.049&&(V.style.borderTopWidth=N(ut),V.style.borderRightWidth=N(ut)),J=b.depth+it,g.backgroundColor&&(V.style.backgroundColor=g.backgroundColor,g.borderColor&&(V.style.borderColor=g.borderColor))}let xe;if(g.backgroundColor)xe=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:V,shift:J},{type:"elem",elem:b,shift:0}]},f);else{const ze=/cancel|phase/.test(C)?["svg-align"]:[];xe=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:0},{type:"elem",elem:V,shift:J,wrapperClasses:ze}]},f)}return/cancel/.test(C)&&(xe.height=b.height,xe.depth=b.depth),/cancel/.test(C)&&!pe?ge.makeSpan(["mord","cancel-lap"],[xe],f):ge.makeSpan(["mord"],[xe],f)},po=(g,f)=>{let b=0;const C=new Yt.MathNode(g.label.indexOf("colorbox")>-1?"mpadded":"menclose",[qr(g.body,f)]);switch(g.label){case"\\cancel":C.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":C.setAttribute("notation","downdiagonalstrike");break;case"\\phase":C.setAttribute("notation","phasorangle");break;case"\\sout":C.setAttribute("notation","horizontalstrike");break;case"\\fbox":C.setAttribute("notation","box");break;case"\\angl":C.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(b=f.fontMetrics().fboxsep*f.fontMetrics().ptPerEm,C.setAttribute("width","+"+2*b+"pt"),C.setAttribute("height","+"+2*b+"pt"),C.setAttribute("lspace",b+"pt"),C.setAttribute("voffset",b+"pt"),g.label==="\\fcolorbox"){const O=Math.max(f.fontMetrics().fboxrule,f.minRuleThickness);C.setAttribute("style","border: "+O+"em solid "+String(g.borderColor))}break;case"\\xcancel":C.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return g.backgroundColor&&C.setAttribute("mathbackground",g.backgroundColor),C};zt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(g,f,b){let{parser:C,funcName:O}=g;const V=mr(f[0],"color-token").color,J=f[1];return{type:"enclose",mode:C.mode,label:O,backgroundColor:V,body:J}},htmlBuilder:zs,mathmlBuilder:po}),zt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(g,f,b){let{parser:C,funcName:O}=g;const V=mr(f[0],"color-token").color,J=mr(f[1],"color-token").color,pe=f[2];return{type:"enclose",mode:C.mode,label:O,backgroundColor:J,borderColor:V,body:pe}},htmlBuilder:zs,mathmlBuilder:po}),zt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(g,f){let{parser:b}=g;return{type:"enclose",mode:b.mode,label:"\\fbox",body:f[0]}}}),zt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(g,f){let{parser:b,funcName:C}=g;const O=f[0];return{type:"enclose",mode:b.mode,label:C,body:O}},htmlBuilder:zs,mathmlBuilder:po}),zt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(g,f){let{parser:b}=g;return{type:"enclose",mode:b.mode,label:"\\angl",body:f[0]}}});const ks={};function Cr(g){let{type:f,names:b,props:C,handler:O,htmlBuilder:V,mathmlBuilder:J}=g;const pe={type:f,numArgs:C.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:O};for(let xe=0;xe<b.length;++xe)ks[b[xe]]=pe;V&&(Sn[f]=V),J&&(gn[f]=J)}const os={};function de(g,f){os[g]=f}class wi{constructor(f,b,C){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=f,this.start=b,this.end=C}static range(f,b){return b?!f||!f.loc||!b.loc||f.loc.lexer!==b.loc.lexer?null:new wi(f.loc.lexer,f.loc.start,b.loc.end):f&&f.loc}}class es{constructor(f,b){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=f,this.loc=b}range(f,b){return new es(b,wi.range(this,f))}}function hl(g){const f=[];g.consumeSpaces();let b=g.fetch().text;for(b==="\\relax"&&(g.consume(),g.consumeSpaces(),b=g.fetch().text);b==="\\hline"||b==="\\hdashline";)g.consume(),f.push(b==="\\hdashline"),g.consumeSpaces(),b=g.fetch().text;return f}const ro=g=>{if(!g.parser.settings.displayMode)throw new p("{"+g.envName+"} can be used only in display mode.")};function mo(g){if(g.indexOf("ed")===-1)return g.indexOf("*")===-1}function Ks(g,f,b){let{hskipBeforeAndAfter:C,addJot:O,cols:V,arraystretch:J,colSeparationType:pe,autoTag:xe,singleRow:ze,emptySingleRow:it,maxNumCols:ut,leqno:wt}=f;if(g.gullet.beginGroup(),ze||g.gullet.macros.set("\\cr","\\\\\\relax"),!J){const jr=g.gullet.expandMacroAsText("\\arraystretch");if(jr==null)J=1;else if(J=parseFloat(jr),!J||J<0)throw new p("Invalid \\arraystretch: "+jr)}g.gullet.beginGroup();let Kt=[];const vn=[Kt],Mn=[],Rr=[],gr=xe!=null?[]:void 0;function Tr(){xe&&g.gullet.macros.set("\\@eqnsw","1",!0)}function ui(){gr&&(g.gullet.macros.get("\\df@tag")?(gr.push(g.subparse([new es("\\df@tag")])),g.gullet.macros.set("\\df@tag",void 0,!0)):gr.push(!!xe&&g.gullet.macros.get("\\@eqnsw")==="1"))}for(Tr(),Rr.push(hl(g));;){let jr=g.parseExpression(!1,ze?"\\end":"\\\\");g.gullet.endGroup(),g.gullet.beginGroup(),jr={type:"ordgroup",mode:g.mode,body:jr},b&&(jr={type:"styling",mode:g.mode,style:b,body:[jr]}),Kt.push(jr);const Hi=g.fetch().text;if(Hi==="&"){if(ut&&Kt.length===ut){if(ze||pe)throw new p("Too many tab characters: &",g.nextToken);g.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}g.consume()}else if(Hi==="\\end"){ui(),Kt.length===1&&jr.type==="styling"&&jr.body[0].body.length===0&&(vn.length>1||!it)&&vn.pop(),Rr.length<vn.length+1&&Rr.push([]);break}else if(Hi==="\\\\"){g.consume();let gs;g.gullet.future().text!==" "&&(gs=g.parseSizeGroup(!0)),Mn.push(gs?gs.value:null),ui(),Rr.push(hl(g)),Kt=[],vn.push(Kt),Tr()}else throw new p("Expected & or \\\\ or \\cr or \\end",g.nextToken)}return g.gullet.endGroup(),g.gullet.endGroup(),{type:"array",mode:g.mode,addJot:O,arraystretch:J,body:vn,cols:V,rowGaps:Mn,hskipBeforeAndAfter:C,hLinesBeforeRow:Rr,colSeparationType:pe,tags:gr,leqno:wt}}function ls(g){return g.slice(0,1)==="d"?"display":"text"}const lr=function(g,f){let b,C;const O=g.body.length,V=g.hLinesBeforeRow;let J=0,pe=new Array(O);const xe=[],ze=Math.max(f.fontMetrics().arrayRuleWidth,f.minRuleThickness),it=1/f.fontMetrics().ptPerEm;let ut=5*it;g.colSeparationType&&g.colSeparationType==="small"&&(ut=.2778*(f.havingStyle(le.SCRIPT).sizeMultiplier/f.sizeMultiplier));const wt=g.colSeparationType==="CD"?kt({number:3,unit:"ex"},f):12*it,Kt=3*it,vn=g.arraystretch*wt,Mn=.7*vn,Rr=.3*vn;let gr=0;function Tr(Nr){for(let mi=0;mi<Nr.length;++mi)mi>0&&(gr+=.25),xe.push({pos:gr,isDashed:Nr[mi]})}for(Tr(V[0]),b=0;b<g.body.length;++b){const Nr=g.body[b];let mi=Mn,gi=Rr;J<Nr.length&&(J=Nr.length);const Ni=new Array(Nr.length);for(C=0;C<Nr.length;++C){const $o=Wn(Nr[C],f);gi<$o.depth&&(gi=$o.depth),mi<$o.height&&(mi=$o.height),Ni[C]=$o}const ci=g.rowGaps[b];let ji=0;ci&&(ji=kt(ci,f),ji>0&&(ji+=Rr,gi<ji&&(gi=ji),ji=0)),g.addJot&&(gi+=Kt),Ni.height=mi,Ni.depth=gi,gr+=mi,Ni.pos=gr,gr+=gi+ji,pe[b]=Ni,Tr(V[b+1])}const ui=gr/2+f.fontMetrics().axisHeight,jr=g.cols||[],Hi=[];let gs,as;const $s=[];if(g.tags&&g.tags.some(Nr=>Nr))for(b=0;b<O;++b){const Nr=pe[b],mi=Nr.pos-ui,gi=g.tags[b];let Ni;gi===!0?Ni=ge.makeSpan(["eqn-num"],[],f):gi===!1?Ni=ge.makeSpan([],[],f):Ni=ge.makeSpan([],Fn(gi,f,!0),f),Ni.depth=Nr.depth,Ni.height=Nr.height,$s.push({type:"elem",elem:Ni,shift:mi})}for(C=0,as=0;C<J||as<jr.length;++C,++as){let Nr=jr[as]||{},mi=!0;for(;Nr.type==="separator";){if(mi||(gs=ge.makeSpan(["arraycolsep"],[]),gs.style.width=N(f.fontMetrics().doubleRuleSep),Hi.push(gs)),Nr.separator==="|"||Nr.separator===":"){const ci=Nr.separator==="|"?"solid":"dashed",ji=ge.makeSpan(["vertical-separator"],[],f);ji.style.height=N(gr),ji.style.borderRightWidth=N(ze),ji.style.borderRightStyle=ci,ji.style.margin="0 "+N(-ze/2);const $o=gr-ui;$o&&(ji.style.verticalAlign=N(-$o)),Hi.push(ji)}else throw new p("Invalid separator type: "+Nr.separator);as++,Nr=jr[as]||{},mi=!1}if(C>=J)continue;let gi;(C>0||g.hskipBeforeAndAfter)&&(gi=oe.deflt(Nr.pregap,ut),gi!==0&&(gs=ge.makeSpan(["arraycolsep"],[]),gs.style.width=N(gi),Hi.push(gs)));let Ni=[];for(b=0;b<O;++b){const ci=pe[b],ji=ci[C];if(!ji)continue;const $o=ci.pos-ui;ji.depth=ci.depth,ji.height=ci.height,Ni.push({type:"elem",elem:ji,shift:$o})}Ni=ge.makeVList({positionType:"individualShift",children:Ni},f),Ni=ge.makeSpan(["col-align-"+(Nr.align||"c")],[Ni]),Hi.push(Ni),(C<J-1||g.hskipBeforeAndAfter)&&(gi=oe.deflt(Nr.postgap,ut),gi!==0&&(gs=ge.makeSpan(["arraycolsep"],[]),gs.style.width=N(gi),Hi.push(gs)))}if(pe=ge.makeSpan(["mtable"],Hi),xe.length>0){const Nr=ge.makeLineSpan("hline",f,ze),mi=ge.makeLineSpan("hdashline",f,ze),gi=[{type:"elem",elem:pe,shift:0}];for(;xe.length>0;){const Ni=xe.pop(),ci=Ni.pos-ui;Ni.isDashed?gi.push({type:"elem",elem:mi,shift:ci}):gi.push({type:"elem",elem:Nr,shift:ci})}pe=ge.makeVList({positionType:"individualShift",children:gi},f)}if($s.length===0)return ge.makeSpan(["mord"],[pe],f);{let Nr=ge.makeVList({positionType:"individualShift",children:$s},f);return Nr=ge.makeSpan(["tag"],[Nr],f),ge.makeFragment([pe,Nr])}},Js={c:"center ",l:"left ",r:"right "},Mi=function(g,f){const b=[],C=new Yt.MathNode("mtd",[],["mtr-glue"]),O=new Yt.MathNode("mtd",[],["mml-eqn-num"]);for(let ut=0;ut<g.body.length;ut++){const wt=g.body[ut],Kt=[];for(let vn=0;vn<wt.length;vn++)Kt.push(new Yt.MathNode("mtd",[qr(wt[vn],f)]));g.tags&&g.tags[ut]&&(Kt.unshift(C),Kt.push(C),g.leqno?Kt.unshift(O):Kt.push(O)),b.push(new Yt.MathNode("mtr",Kt))}let V=new Yt.MathNode("mtable",b);const J=g.arraystretch===.5?.1:.16+g.arraystretch-1+(g.addJot?.09:0);V.setAttribute("rowspacing",N(J));let pe="",xe="";if(g.cols&&g.cols.length>0){const ut=g.cols;let wt="",Kt=!1,vn=0,Mn=ut.length;ut[0].type==="separator"&&(pe+="top ",vn=1),ut[ut.length-1].type==="separator"&&(pe+="bottom ",Mn-=1);for(let Rr=vn;Rr<Mn;Rr++)ut[Rr].type==="align"?(xe+=Js[ut[Rr].align],Kt&&(wt+="none "),Kt=!0):ut[Rr].type==="separator"&&Kt&&(wt+=ut[Rr].separator==="|"?"solid ":"dashed ",Kt=!1);V.setAttribute("columnalign",xe.trim()),/[sd]/.test(wt)&&V.setAttribute("columnlines",wt.trim())}if(g.colSeparationType==="align"){const ut=g.cols||[];let wt="";for(let Kt=1;Kt<ut.length;Kt++)wt+=Kt%2?"0em ":"1em ";V.setAttribute("columnspacing",wt.trim())}else g.colSeparationType==="alignat"||g.colSeparationType==="gather"?V.setAttribute("columnspacing","0em"):g.colSeparationType==="small"?V.setAttribute("columnspacing","0.2778em"):g.colSeparationType==="CD"?V.setAttribute("columnspacing","0.5em"):V.setAttribute("columnspacing","1em");let ze="";const it=g.hLinesBeforeRow;pe+=it[0].length>0?"left ":"",pe+=it[it.length-1].length>0?"right ":"";for(let ut=1;ut<it.length-1;ut++)ze+=it[ut].length===0?"none ":it[ut][0]?"dashed ":"solid ";return/[sd]/.test(ze)&&V.setAttribute("rowlines",ze.trim()),pe!==""&&(V=new Yt.MathNode("menclose",[V]),V.setAttribute("notation",pe.trim())),g.arraystretch&&g.arraystretch<1&&(V=new Yt.MathNode("mstyle",[V]),V.setAttribute("scriptlevel","1")),V},go=function(g,f){g.envName.indexOf("ed")===-1&&ro(g);const b=[],C=g.envName.indexOf("at")>-1?"alignat":"align",O=g.envName==="split",V=Ks(g.parser,{cols:b,addJot:!0,autoTag:O?void 0:mo(g.envName),emptySingleRow:!0,colSeparationType:C,maxNumCols:O?2:void 0,leqno:g.parser.settings.leqno},"display");let J,pe=0;const xe={type:"ordgroup",mode:g.mode,body:[]};if(f[0]&&f[0].type==="ordgroup"){let it="";for(let ut=0;ut<f[0].body.length;ut++){const wt=mr(f[0].body[ut],"textord");it+=wt.text}J=Number(it),pe=J*2}const ze=!pe;V.body.forEach(function(it){for(let ut=1;ut<it.length;ut+=2){const wt=mr(it[ut],"styling");mr(wt.body[0],"ordgroup").body.unshift(xe)}if(ze)pe<it.length&&(pe=it.length);else{const ut=it.length/2;if(J<ut)throw new p("Too many math in a row: "+("expected "+J+", but got "+ut),it[0])}});for(let it=0;it<pe;++it){let ut="r",wt=0;it%2===1?ut="l":it>0&&ze&&(wt=1),b[it]={type:"align",align:ut,pregap:wt,postgap:0}}return V.colSeparationType=ze?"align":"alignat",V};Cr({type:"array",names:["array","darray"],props:{numArgs:1},handler(g,f){const O=(V0(f[0])?[f[0]]:mr(f[0],"ordgroup").body).map(function(J){const xe=su(J).text;if("lcr".indexOf(xe)!==-1)return{type:"align",align:xe};if(xe==="|")return{type:"separator",separator:"|"};if(xe===":")return{type:"separator",separator:":"};throw new p("Unknown column alignment: "+xe,J)}),V={cols:O,hskipBeforeAndAfter:!0,maxNumCols:O.length};return Ks(g.parser,V,ls(g.envName))},htmlBuilder:lr,mathmlBuilder:Mi}),Cr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(g){const f={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[g.envName.replace("*","")];let b="c";const C={hskipBeforeAndAfter:!1,cols:[{type:"align",align:b}]};if(g.envName.charAt(g.envName.length-1)==="*"){const J=g.parser;if(J.consumeSpaces(),J.fetch().text==="["){if(J.consume(),J.consumeSpaces(),b=J.fetch().text,"lcr".indexOf(b)===-1)throw new p("Expected l or c or r",J.nextToken);J.consume(),J.consumeSpaces(),J.expect("]"),J.consume(),C.cols=[{type:"align",align:b}]}}const O=Ks(g.parser,C,ls(g.envName)),V=Math.max(0,...O.body.map(J=>J.length));return O.cols=new Array(V).fill({type:"align",align:b}),f?{type:"leftright",mode:g.mode,body:[O],left:f[0],right:f[1],rightColor:void 0}:O},htmlBuilder:lr,mathmlBuilder:Mi}),Cr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(g){const f={arraystretch:.5},b=Ks(g.parser,f,"script");return b.colSeparationType="small",b},htmlBuilder:lr,mathmlBuilder:Mi}),Cr({type:"array",names:["subarray"],props:{numArgs:1},handler(g,f){const O=(V0(f[0])?[f[0]]:mr(f[0],"ordgroup").body).map(function(J){const xe=su(J).text;if("lc".indexOf(xe)!==-1)return{type:"align",align:xe};throw new p("Unknown column alignment: "+xe,J)});if(O.length>1)throw new p("{subarray} can contain only one column");let V={cols:O,hskipBeforeAndAfter:!1,arraystretch:.5};if(V=Ks(g.parser,V,"script"),V.body.length>0&&V.body[0].length>1)throw new p("{subarray} can contain only one column");return V},htmlBuilder:lr,mathmlBuilder:Mi}),Cr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(g){const f={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},b=Ks(g.parser,f,ls(g.envName));return{type:"leftright",mode:g.mode,body:[b],left:g.envName.indexOf("r")>-1?".":"\\{",right:g.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:lr,mathmlBuilder:Mi}),Cr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:go,htmlBuilder:lr,mathmlBuilder:Mi}),Cr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(g){["gather","gather*"].includes(g.envName)&&ro(g);const f={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:mo(g.envName),emptySingleRow:!0,leqno:g.parser.settings.leqno};return Ks(g.parser,f,"display")},htmlBuilder:lr,mathmlBuilder:Mi}),Cr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:go,htmlBuilder:lr,mathmlBuilder:Mi}),Cr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(g){ro(g);const f={autoTag:mo(g.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:g.parser.settings.leqno};return Ks(g.parser,f,"display")},htmlBuilder:lr,mathmlBuilder:Mi}),Cr({type:"array",names:["CD"],props:{numArgs:0},handler(g){return ro(g),ou(g.parser)},htmlBuilder:lr,mathmlBuilder:Mi}),de("\\nonumber","\\gdef\\@eqnsw{0}"),de("\\notag","\\nonumber"),zt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(g,f){throw new p(g.funcName+" valid only within array environment")}});var Bl=ks;zt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(g,f){let{parser:b,funcName:C}=g;const O=f[0];if(O.type!=="ordgroup")throw new p("Invalid environment name",O);let V="";for(let J=0;J<O.body.length;++J)V+=mr(O.body[J],"textord").text;if(C==="\\begin"){if(!Bl.hasOwnProperty(V))throw new p("No such environment: "+V,O);const J=Bl[V],{args:pe,optArgs:xe}=b.parseArguments("\\begin{"+V+"}",J),ze={mode:b.mode,envName:V,parser:b},it=J.handler(ze,pe,xe);b.expect("\\end",!1);const ut=b.nextToken,wt=mr(b.parseFunction(),"environment");if(wt.name!==V)throw new p("Mismatch: \\begin{"+V+"} matched by \\end{"+wt.name+"}",ut);return it}return{type:"environment",mode:b.mode,name:V,nameGroup:O}}});const y0=(g,f)=>{const b=g.font,C=f.withFont(b);return Wn(g.body,C)},Jo=(g,f)=>{const b=g.font,C=f.withFont(b);return qr(g.body,C)},nc={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};zt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(g,f)=>{let{parser:b,funcName:C}=g;const O=Pn(f[0]);let V=C;return V in nc&&(V=nc[V]),{type:"font",mode:b.mode,font:V.slice(1),body:O}},htmlBuilder:y0,mathmlBuilder:Jo}),zt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(g,f)=>{let{parser:b}=g;const C=f[0],O=oe.isCharacterBox(C);return{type:"mclass",mode:b.mode,mclass:W0(C),body:[{type:"font",mode:b.mode,font:"boldsymbol",body:C}],isCharacterBox:O}}}),zt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(g,f)=>{let{parser:b,funcName:C,breakOnTokenText:O}=g;const{mode:V}=b,J=b.parseExpression(!0,O),pe="math"+C.slice(1);return{type:"font",mode:V,font:pe,body:{type:"ordgroup",mode:b.mode,body:J}}},htmlBuilder:y0,mathmlBuilder:Jo});const Pl=(g,f)=>{let b=f;return g==="display"?b=b.id>=le.SCRIPT.id?b.text():le.DISPLAY:g==="text"&&b.size===le.DISPLAY.size?b=le.TEXT:g==="script"?b=le.SCRIPT:g==="scriptscript"&&(b=le.SCRIPTSCRIPT),b},dl=(g,f)=>{const b=Pl(g.size,f.style),C=b.fracNum(),O=b.fracDen();let V;V=f.havingStyle(C);const J=Wn(g.numer,V,f);if(g.continued){const Tr=8.5/f.fontMetrics().ptPerEm,ui=3.5/f.fontMetrics().ptPerEm;J.height=J.height<Tr?Tr:J.height,J.depth=J.depth<ui?ui:J.depth}V=f.havingStyle(O);const pe=Wn(g.denom,V,f);let xe,ze,it;g.hasBarLine?(g.barSize?(ze=kt(g.barSize,f),xe=ge.makeLineSpan("frac-line",f,ze)):xe=ge.makeLineSpan("frac-line",f),ze=xe.height,it=xe.height):(xe=null,ze=0,it=f.fontMetrics().defaultRuleThickness);let ut,wt,Kt;b.size===le.DISPLAY.size||g.size==="display"?(ut=f.fontMetrics().num1,ze>0?wt=3*it:wt=7*it,Kt=f.fontMetrics().denom1):(ze>0?(ut=f.fontMetrics().num2,wt=it):(ut=f.fontMetrics().num3,wt=3*it),Kt=f.fontMetrics().denom2);let vn;if(xe){const Tr=f.fontMetrics().axisHeight;ut-J.depth-(Tr+.5*ze)<wt&&(ut+=wt-(ut-J.depth-(Tr+.5*ze))),Tr-.5*ze-(pe.height-Kt)<wt&&(Kt+=wt-(Tr-.5*ze-(pe.height-Kt)));const ui=-(Tr-.5*ze);vn=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:pe,shift:Kt},{type:"elem",elem:xe,shift:ui},{type:"elem",elem:J,shift:-ut}]},f)}else{const Tr=ut-J.depth-(pe.height-Kt);Tr<wt&&(ut+=.5*(wt-Tr),Kt+=.5*(wt-Tr)),vn=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:pe,shift:Kt},{type:"elem",elem:J,shift:-ut}]},f)}V=f.havingStyle(b),vn.height*=V.sizeMultiplier/f.sizeMultiplier,vn.depth*=V.sizeMultiplier/f.sizeMultiplier;let Mn;b.size===le.DISPLAY.size?Mn=f.fontMetrics().delim1:b.size===le.SCRIPTSCRIPT.size?Mn=f.havingStyle(le.SCRIPT).fontMetrics().delim2:Mn=f.fontMetrics().delim2;let Rr,gr;return g.leftDelim==null?Rr=ti(f,["mopen"]):Rr=Pr.customSizedDelim(g.leftDelim,Mn,!0,f.havingStyle(b),g.mode,["mopen"]),g.continued?gr=ge.makeSpan([]):g.rightDelim==null?gr=ti(f,["mclose"]):gr=Pr.customSizedDelim(g.rightDelim,Mn,!0,f.havingStyle(b),g.mode,["mclose"]),ge.makeSpan(["mord"].concat(V.sizingClasses(f)),[Rr,ge.makeSpan(["mfrac"],[vn]),gr],f)},rc=(g,f)=>{let b=new Yt.MathNode("mfrac",[qr(g.numer,f),qr(g.denom,f)]);if(!g.hasBarLine)b.setAttribute("linethickness","0px");else if(g.barSize){const O=kt(g.barSize,f);b.setAttribute("linethickness",N(O))}const C=Pl(g.size,f.style);if(C.size!==f.style.size){b=new Yt.MathNode("mstyle",[b]);const O=C.size===le.DISPLAY.size?"true":"false";b.setAttribute("displaystyle",O),b.setAttribute("scriptlevel","0")}if(g.leftDelim!=null||g.rightDelim!=null){const O=[];if(g.leftDelim!=null){const V=new Yt.MathNode("mo",[new Yt.TextNode(g.leftDelim.replace("\\",""))]);V.setAttribute("fence","true"),O.push(V)}if(O.push(b),g.rightDelim!=null){const V=new Yt.MathNode("mo",[new Yt.TextNode(g.rightDelim.replace("\\",""))]);V.setAttribute("fence","true"),O.push(V)}return qi(O)}return b};zt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(g,f)=>{let{parser:b,funcName:C}=g;const O=f[0],V=f[1];let J,pe=null,xe=null,ze="auto";switch(C){case"\\dfrac":case"\\frac":case"\\tfrac":J=!0;break;case"\\\\atopfrac":J=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":J=!1,pe="(",xe=")";break;case"\\\\bracefrac":J=!1,pe="\\{",xe="\\}";break;case"\\\\brackfrac":J=!1,pe="[",xe="]";break;default:throw new Error("Unrecognized genfrac command")}switch(C){case"\\dfrac":case"\\dbinom":ze="display";break;case"\\tfrac":case"\\tbinom":ze="text";break}return{type:"genfrac",mode:b.mode,continued:!1,numer:O,denom:V,hasBarLine:J,leftDelim:pe,rightDelim:xe,size:ze,barSize:null}},htmlBuilder:dl,mathmlBuilder:rc}),zt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(g,f)=>{let{parser:b,funcName:C}=g;const O=f[0],V=f[1];return{type:"genfrac",mode:b.mode,continued:!0,numer:O,denom:V,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),zt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(g){let{parser:f,funcName:b,token:C}=g,O;switch(b){case"\\over":O="\\frac";break;case"\\choose":O="\\binom";break;case"\\atop":O="\\\\atopfrac";break;case"\\brace":O="\\\\bracefrac";break;case"\\brack":O="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:f.mode,replaceWith:O,token:C}}});const Eo=["display","text","script","scriptscript"],ic=function(g){let f=null;return g.length>0&&(f=g,f=f==="."?null:f),f};zt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(g,f){let{parser:b}=g;const C=f[4],O=f[5],V=Pn(f[0]),J=V.type==="atom"&&V.family==="open"?ic(V.text):null,pe=Pn(f[1]),xe=pe.type==="atom"&&pe.family==="close"?ic(pe.text):null,ze=mr(f[2],"size");let it,ut=null;ze.isBlank?it=!0:(ut=ze.value,it=ut.number>0);let wt="auto",Kt=f[3];if(Kt.type==="ordgroup"){if(Kt.body.length>0){const vn=mr(Kt.body[0],"textord");wt=Eo[Number(vn.text)]}}else Kt=mr(Kt,"textord"),wt=Eo[Number(Kt.text)];return{type:"genfrac",mode:b.mode,numer:C,denom:O,continued:!1,hasBarLine:it,barSize:ut,leftDelim:J,rightDelim:xe,size:wt}},htmlBuilder:dl,mathmlBuilder:rc}),zt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(g,f){let{parser:b,funcName:C,token:O}=g;return{type:"infix",mode:b.mode,replaceWith:"\\\\abovefrac",size:mr(f[0],"size").value,token:O}}}),zt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(g,f)=>{let{parser:b,funcName:C}=g;const O=f[0],V=Z(mr(f[1],"infix").size),J=f[2],pe=V.number>0;return{type:"genfrac",mode:b.mode,numer:O,denom:J,continued:!1,hasBarLine:pe,barSize:V,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:dl,mathmlBuilder:rc});const Fl=(g,f)=>{const b=f.style;let C,O;g.type==="supsub"?(C=g.sup?Wn(g.sup,f.havingStyle(b.sup()),f):Wn(g.sub,f.havingStyle(b.sub()),f),O=mr(g.base,"horizBrace")):O=mr(g,"horizBrace");const V=Wn(O.base,f.havingBaseStyle(le.DISPLAY)),J=ul.svgSpan(O,f);let pe;if(O.isOver?(pe=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:V},{type:"kern",size:.1},{type:"elem",elem:J}]},f),pe.children[0].children[0].children[1].classes.push("svg-align")):(pe=ge.makeVList({positionType:"bottom",positionData:V.depth+.1+J.height,children:[{type:"elem",elem:J},{type:"kern",size:.1},{type:"elem",elem:V}]},f),pe.children[0].children[0].children[0].classes.push("svg-align")),C){const xe=ge.makeSpan(["mord",O.isOver?"mover":"munder"],[pe],f);O.isOver?pe=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:xe},{type:"kern",size:.2},{type:"elem",elem:C}]},f):pe=ge.makeVList({positionType:"bottom",positionData:xe.depth+.2+C.height+C.depth,children:[{type:"elem",elem:C},{type:"kern",size:.2},{type:"elem",elem:xe}]},f)}return ge.makeSpan(["mord",O.isOver?"mover":"munder"],[pe],f)};zt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(g,f){let{parser:b,funcName:C}=g;return{type:"horizBrace",mode:b.mode,label:C,isOver:/^\\over/.test(C),base:f[0]}},htmlBuilder:Fl,mathmlBuilder:(g,f)=>{const b=ul.mathMLnode(g.label);return new Yt.MathNode(g.isOver?"mover":"munder",[qr(g.base,f),b])}}),zt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(g,f)=>{let{parser:b}=g;const C=f[1],O=mr(f[0],"url").url;return b.settings.isTrusted({command:"\\href",url:O})?{type:"href",mode:b.mode,href:O,body:Kn(C)}:b.formatUnsupportedCmd("\\href")},htmlBuilder:(g,f)=>{const b=Fn(g.body,f,!1);return ge.makeAnchor(g.href,[],b,f)},mathmlBuilder:(g,f)=>{let b=Ns(g.body,f);return b instanceof ni||(b=new ni("mrow",[b])),b.setAttribute("href",g.href),b}}),zt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(g,f)=>{let{parser:b}=g;const C=mr(f[0],"url").url;if(!b.settings.isTrusted({command:"\\url",url:C}))return b.formatUnsupportedCmd("\\url");const O=[];for(let J=0;J<C.length;J++){let pe=C[J];pe==="~"&&(pe="\\textasciitilde"),O.push({type:"textord",mode:"text",text:pe})}const V={type:"text",mode:b.mode,font:"\\texttt",body:O};return{type:"href",mode:b.mode,href:C,body:Kn(V)}}}),zt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(g,f){let{parser:b}=g;return{type:"hbox",mode:b.mode,body:Kn(f[0])}},htmlBuilder(g,f){const b=Fn(g.body,f,!1);return ge.makeFragment(b)},mathmlBuilder(g,f){return new Yt.MathNode("mrow",Fs(g.body,f))}}),zt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(g,f)=>{let{parser:b,funcName:C,token:O}=g;const V=mr(f[0],"raw").string,J=f[1];b.settings.strict&&b.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let pe;const xe={};switch(C){case"\\htmlClass":xe.class=V,pe={command:"\\htmlClass",class:V};break;case"\\htmlId":xe.id=V,pe={command:"\\htmlId",id:V};break;case"\\htmlStyle":xe.style=V,pe={command:"\\htmlStyle",style:V};break;case"\\htmlData":{const ze=V.split(",");for(let it=0;it<ze.length;it++){const ut=ze[it].split("=");if(ut.length!==2)throw new p("Error parsing key-value for \\htmlData");xe["data-"+ut[0].trim()]=ut[1].trim()}pe={command:"\\htmlData",attributes:xe};break}default:throw new Error("Unrecognized html command")}return b.settings.isTrusted(pe)?{type:"html",mode:b.mode,attributes:xe,body:Kn(J)}:b.formatUnsupportedCmd(C)},htmlBuilder:(g,f)=>{const b=Fn(g.body,f,!1),C=["enclosing"];g.attributes.class&&C.push(...g.attributes.class.trim().split(/\s+/));const O=ge.makeSpan(C,b,f);for(const V in g.attributes)V!=="class"&&g.attributes.hasOwnProperty(V)&&O.setAttribute(V,g.attributes[V]);return O},mathmlBuilder:(g,f)=>Ns(g.body,f)}),zt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(g,f)=>{let{parser:b}=g;return{type:"htmlmathml",mode:b.mode,html:Kn(f[0]),mathml:Kn(f[1])}},htmlBuilder:(g,f)=>{const b=Fn(g.html,f,!1);return ge.makeFragment(b)},mathmlBuilder:(g,f)=>Ns(g.mathml,f)});const X0=function(g){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(g))return{number:+g,unit:"bp"};{const f=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(g);if(!f)throw new p("Invalid size: '"+g+"' in \\includegraphics");const b={number:+(f[1]+f[2]),unit:f[3]};if(!Ct(b))throw new p("Invalid unit: '"+b.unit+"' in \\includegraphics.");return b}};zt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(g,f,b)=>{let{parser:C}=g,O={number:0,unit:"em"},V={number:.9,unit:"em"},J={number:0,unit:"em"},pe="";if(b[0]){const it=mr(b[0],"raw").string.split(",");for(let ut=0;ut<it.length;ut++){const wt=it[ut].split("=");if(wt.length===2){const Kt=wt[1].trim();switch(wt[0].trim()){case"alt":pe=Kt;break;case"width":O=X0(Kt);break;case"height":V=X0(Kt);break;case"totalheight":J=X0(Kt);break;default:throw new p("Invalid key: '"+wt[0]+"' in \\includegraphics.")}}}}const xe=mr(f[0],"url").url;return pe===""&&(pe=xe,pe=pe.replace(/^.*[\\/]/,""),pe=pe.substring(0,pe.lastIndexOf("."))),C.settings.isTrusted({command:"\\includegraphics",url:xe})?{type:"includegraphics",mode:C.mode,alt:pe,width:O,height:V,totalheight:J,src:xe}:C.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(g,f)=>{const b=kt(g.height,f);let C=0;g.totalheight.number>0&&(C=kt(g.totalheight,f)-b);let O=0;g.width.number>0&&(O=kt(g.width,f));const V={height:N(b+C)};O>0&&(V.width=N(O)),C>0&&(V.verticalAlign=N(-C));const J=new fs(g.src,g.alt,V);return J.height=b,J.depth=C,J},mathmlBuilder:(g,f)=>{const b=new Yt.MathNode("mglyph",[]);b.setAttribute("alt",g.alt);const C=kt(g.height,f);let O=0;if(g.totalheight.number>0&&(O=kt(g.totalheight,f)-C,b.setAttribute("valign",N(-O))),b.setAttribute("height",N(C+O)),g.width.number>0){const V=kt(g.width,f);b.setAttribute("width",N(V))}return b.setAttribute("src",g.src),b}}),zt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(g,f){let{parser:b,funcName:C}=g;const O=mr(f[0],"size");if(b.settings.strict){const V=C[1]==="m",J=O.value.unit==="mu";V?(J||b.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+C+" supports only mu units, "+("not "+O.value.unit+" units")),b.mode!=="math"&&b.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+C+" works only in math mode")):J&&b.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+C+" doesn't support mu units")}return{type:"kern",mode:b.mode,dimension:O.value}},htmlBuilder(g,f){return ge.makeGlue(g.dimension,f)},mathmlBuilder(g,f){const b=kt(g.dimension,f);return new Yt.SpaceNode(b)}}),zt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(g,f)=>{let{parser:b,funcName:C}=g;const O=f[0];return{type:"lap",mode:b.mode,alignment:C.slice(5),body:O}},htmlBuilder:(g,f)=>{let b;g.alignment==="clap"?(b=ge.makeSpan([],[Wn(g.body,f)]),b=ge.makeSpan(["inner"],[b],f)):b=ge.makeSpan(["inner"],[Wn(g.body,f)]);const C=ge.makeSpan(["fix"],[]);let O=ge.makeSpan([g.alignment],[b,C],f);const V=ge.makeSpan(["strut"]);return V.style.height=N(O.height+O.depth),O.depth&&(V.style.verticalAlign=N(-O.depth)),O.children.unshift(V),O=ge.makeSpan(["thinbox"],[O],f),ge.makeSpan(["mord","vbox"],[O],f)},mathmlBuilder:(g,f)=>{const b=new Yt.MathNode("mpadded",[qr(g.body,f)]);if(g.alignment!=="rlap"){const C=g.alignment==="llap"?"-1":"-0.5";b.setAttribute("lspace",C+"width")}return b.setAttribute("width","0px"),b}}),zt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(g,f){let{funcName:b,parser:C}=g;const O=C.mode;C.switchMode("math");const V=b==="\\("?"\\)":"$",J=C.parseExpression(!1,V);return C.expect(V),C.switchMode(O),{type:"styling",mode:C.mode,style:"text",body:J}}}),zt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(g,f){throw new p("Mismatched "+g.funcName)}});const T0=(g,f)=>{switch(f.style.size){case le.DISPLAY.size:return g.display;case le.TEXT.size:return g.text;case le.SCRIPT.size:return g.script;case le.SCRIPTSCRIPT.size:return g.scriptscript;default:return g.text}};zt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(g,f)=>{let{parser:b}=g;return{type:"mathchoice",mode:b.mode,display:Kn(f[0]),text:Kn(f[1]),script:Kn(f[2]),scriptscript:Kn(f[3])}},htmlBuilder:(g,f)=>{const b=T0(g,f),C=Fn(b,f,!1);return ge.makeFragment(C)},mathmlBuilder:(g,f)=>{const b=T0(g,f);return Ns(b,f)}});const au=(g,f,b,C,O,V,J)=>{g=ge.makeSpan([],[g]);const pe=b&&oe.isCharacterBox(b);let xe,ze;if(f){const wt=Wn(f,C.havingStyle(O.sup()),C);ze={elem:wt,kern:Math.max(C.fontMetrics().bigOpSpacing1,C.fontMetrics().bigOpSpacing3-wt.depth)}}if(b){const wt=Wn(b,C.havingStyle(O.sub()),C);xe={elem:wt,kern:Math.max(C.fontMetrics().bigOpSpacing2,C.fontMetrics().bigOpSpacing4-wt.height)}}let it;if(ze&&xe){const wt=C.fontMetrics().bigOpSpacing5+xe.elem.height+xe.elem.depth+xe.kern+g.depth+J;it=ge.makeVList({positionType:"bottom",positionData:wt,children:[{type:"kern",size:C.fontMetrics().bigOpSpacing5},{type:"elem",elem:xe.elem,marginLeft:N(-V)},{type:"kern",size:xe.kern},{type:"elem",elem:g},{type:"kern",size:ze.kern},{type:"elem",elem:ze.elem,marginLeft:N(V)},{type:"kern",size:C.fontMetrics().bigOpSpacing5}]},C)}else if(xe){const wt=g.height-J;it=ge.makeVList({positionType:"top",positionData:wt,children:[{type:"kern",size:C.fontMetrics().bigOpSpacing5},{type:"elem",elem:xe.elem,marginLeft:N(-V)},{type:"kern",size:xe.kern},{type:"elem",elem:g}]},C)}else if(ze){const wt=g.depth+J;it=ge.makeVList({positionType:"bottom",positionData:wt,children:[{type:"elem",elem:g},{type:"kern",size:ze.kern},{type:"elem",elem:ze.elem,marginLeft:N(V)},{type:"kern",size:C.fontMetrics().bigOpSpacing5}]},C)}else return g;const ut=[it];if(xe&&V!==0&&!pe){const wt=ge.makeSpan(["mspace"],[],C);wt.style.marginRight=N(V),ut.unshift(wt)}return ge.makeSpan(["mop","op-limits"],ut,C)},j0=["\\smallint"],_0=(g,f)=>{let b,C,O=!1,V;g.type==="supsub"?(b=g.sup,C=g.sub,V=mr(g.base,"op"),O=!0):V=mr(g,"op");const J=f.style;let pe=!1;J.size===le.DISPLAY.size&&V.symbol&&!j0.includes(V.name)&&(pe=!0);let xe;if(V.symbol){const ut=pe?"Size2-Regular":"Size1-Regular";let wt="";if((V.name==="\\oiint"||V.name==="\\oiiint")&&(wt=V.name.slice(1),V.name=wt==="oiint"?"\\iint":"\\iiint"),xe=ge.makeSymbol(V.name,ut,"math",f,["mop","op-symbol",pe?"large-op":"small-op"]),wt.length>0){const Kt=xe.italic,vn=ge.staticSvg(wt+"Size"+(pe?"2":"1"),f);xe=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:xe,shift:0},{type:"elem",elem:vn,shift:pe?.08:0}]},f),V.name="\\"+wt,xe.classes.unshift("mop"),xe.italic=Kt}}else if(V.body){const ut=Fn(V.body,f,!0);ut.length===1&&ut[0]instanceof $e?(xe=ut[0],xe.classes[0]="mop"):xe=ge.makeSpan(["mop"],ut,f)}else{const ut=[];for(let wt=1;wt<V.name.length;wt++)ut.push(ge.mathsym(V.name[wt],V.mode,f));xe=ge.makeSpan(["mop"],ut,f)}let ze=0,it=0;return(xe instanceof $e||V.name==="\\oiint"||V.name==="\\oiiint")&&!V.suppressBaseShift&&(ze=(xe.height-xe.depth)/2-f.fontMetrics().axisHeight,it=xe.italic),O?au(xe,b,C,f,J,it,ze):(ze&&(xe.style.position="relative",xe.style.top=N(ze)),xe)},Ma=(g,f)=>{let b;if(g.symbol)b=new ni("mo",[Ii(g.name,g.mode)]),j0.includes(g.name)&&b.setAttribute("largeop","false");else if(g.body)b=new ni("mo",Fs(g.body,f));else{b=new ni("mi",[new Ps(g.name.slice(1))]);const C=new ni("mo",[Ii("","text")]);g.parentIsSupSub?b=new ni("mrow",[b,C]):b=ho([b,C])}return b},Zo={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};zt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(g,f)=>{let{parser:b,funcName:C}=g,O=C;return O.length===1&&(O=Zo[O]),{type:"op",mode:b.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:O}},htmlBuilder:_0,mathmlBuilder:Ma}),zt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(g,f)=>{let{parser:b}=g;const C=f[0];return{type:"op",mode:b.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Kn(C)}},htmlBuilder:_0,mathmlBuilder:Ma});const Ra={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};zt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(g){let{parser:f,funcName:b}=g;return{type:"op",mode:f.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:b}},htmlBuilder:_0,mathmlBuilder:Ma}),zt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(g){let{parser:f,funcName:b}=g;return{type:"op",mode:f.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:b}},htmlBuilder:_0,mathmlBuilder:Ma}),zt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(g){let{parser:f,funcName:b}=g,C=b;return C.length===1&&(C=Ra[C]),{type:"op",mode:f.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:C}},htmlBuilder:_0,mathmlBuilder:Ma});const zl=(g,f)=>{let b,C,O=!1,V;g.type==="supsub"?(b=g.sup,C=g.sub,V=mr(g.base,"operatorname"),O=!0):V=mr(g,"operatorname");let J;if(V.body.length>0){const pe=V.body.map(ze=>{const it=ze.text;return typeof it=="string"?{type:"textord",mode:ze.mode,text:it}:ze}),xe=Fn(pe,f.withFont("mathrm"),!0);for(let ze=0;ze<xe.length;ze++){const it=xe[ze];it instanceof $e&&(it.text=it.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}J=ge.makeSpan(["mop"],xe,f)}else J=ge.makeSpan(["mop"],[],f);return O?au(J,b,C,f,f.style,0,0):J};zt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(g,f)=>{let{parser:b,funcName:C}=g;const O=f[0];return{type:"operatorname",mode:b.mode,body:Kn(O),alwaysHandleSupSub:C==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:zl,mathmlBuilder:(g,f)=>{let b=Fs(g.body,f.withFont("mathrm")),C=!0;for(let J=0;J<b.length;J++){const pe=b[J];if(!(pe instanceof Yt.SpaceNode))if(pe instanceof Yt.MathNode)switch(pe.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const xe=pe.children[0];pe.children.length===1&&xe instanceof Yt.TextNode?xe.text=xe.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):C=!1;break}default:C=!1}else C=!1}if(C){const J=b.map(pe=>pe.toText()).join("");b=[new Yt.TextNode(J)]}const O=new Yt.MathNode("mi",b);O.setAttribute("mathvariant","normal");const V=new Yt.MathNode("mo",[Ii("","text")]);return g.parentIsSupSub?new Yt.MathNode("mrow",[O,V]):Yt.newDocumentFragment([O,V])}}),de("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),nr({type:"ordgroup",htmlBuilder(g,f){return g.semisimple?ge.makeFragment(Fn(g.body,f,!1)):ge.makeSpan(["mord"],Fn(g.body,f,!0),f)},mathmlBuilder(g,f){return Ns(g.body,f,!0)}}),zt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(g,f){let{parser:b}=g;const C=f[0];return{type:"overline",mode:b.mode,body:C}},htmlBuilder(g,f){const b=Wn(g.body,f.havingCrampedStyle()),C=ge.makeLineSpan("overline-line",f),O=f.fontMetrics().defaultRuleThickness,V=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:b},{type:"kern",size:3*O},{type:"elem",elem:C},{type:"kern",size:O}]},f);return ge.makeSpan(["mord","overline"],[V],f)},mathmlBuilder(g,f){const b=new Yt.MathNode("mo",[new Yt.TextNode("")]);b.setAttribute("stretchy","true");const C=new Yt.MathNode("mover",[qr(g.body,f),b]);return C.setAttribute("accent","true"),C}}),zt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(g,f)=>{let{parser:b}=g;const C=f[0];return{type:"phantom",mode:b.mode,body:Kn(C)}},htmlBuilder:(g,f)=>{const b=Fn(g.body,f.withPhantom(),!1);return ge.makeFragment(b)},mathmlBuilder:(g,f)=>{const b=Fs(g.body,f);return new Yt.MathNode("mphantom",b)}}),zt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(g,f)=>{let{parser:b}=g;const C=f[0];return{type:"hphantom",mode:b.mode,body:C}},htmlBuilder:(g,f)=>{let b=ge.makeSpan([],[Wn(g.body,f.withPhantom())]);if(b.height=0,b.depth=0,b.children)for(let C=0;C<b.children.length;C++)b.children[C].height=0,b.children[C].depth=0;return b=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:b}]},f),ge.makeSpan(["mord"],[b],f)},mathmlBuilder:(g,f)=>{const b=Fs(Kn(g.body),f),C=new Yt.MathNode("mphantom",b),O=new Yt.MathNode("mpadded",[C]);return O.setAttribute("height","0px"),O.setAttribute("depth","0px"),O}}),zt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(g,f)=>{let{parser:b}=g;const C=f[0];return{type:"vphantom",mode:b.mode,body:C}},htmlBuilder:(g,f)=>{const b=ge.makeSpan(["inner"],[Wn(g.body,f.withPhantom())]),C=ge.makeSpan(["fix"],[]);return ge.makeSpan(["mord","rlap"],[b,C],f)},mathmlBuilder:(g,f)=>{const b=Fs(Kn(g.body),f),C=new Yt.MathNode("mphantom",b),O=new Yt.MathNode("mpadded",[C]);return O.setAttribute("width","0px"),O}}),zt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(g,f){let{parser:b}=g;const C=mr(f[0],"size").value,O=f[1];return{type:"raisebox",mode:b.mode,dy:C,body:O}},htmlBuilder(g,f){const b=Wn(g.body,f),C=kt(g.dy,f);return ge.makeVList({positionType:"shift",positionData:-C,children:[{type:"elem",elem:b}]},f)},mathmlBuilder(g,f){const b=new Yt.MathNode("mpadded",[qr(g.body,f)]),C=g.dy.number+g.dy.unit;return b.setAttribute("voffset",C),b}}),zt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(g){let{parser:f}=g;return{type:"internal",mode:f.mode}}}),zt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(g,f,b){let{parser:C}=g;const O=b[0],V=mr(f[0],"size"),J=mr(f[1],"size");return{type:"rule",mode:C.mode,shift:O&&mr(O,"size").value,width:V.value,height:J.value}},htmlBuilder(g,f){const b=ge.makeSpan(["mord","rule"],[],f),C=kt(g.width,f),O=kt(g.height,f),V=g.shift?kt(g.shift,f):0;return b.style.borderRightWidth=N(C),b.style.borderTopWidth=N(O),b.style.bottom=N(V),b.width=C,b.height=O+V,b.depth=-V,b.maxFontSize=O*1.125*f.sizeMultiplier,b},mathmlBuilder(g,f){const b=kt(g.width,f),C=kt(g.height,f),O=g.shift?kt(g.shift,f):0,V=f.color&&f.getColor()||"black",J=new Yt.MathNode("mspace");J.setAttribute("mathbackground",V),J.setAttribute("width",N(b)),J.setAttribute("height",N(C));const pe=new Yt.MathNode("mpadded",[J]);return O>=0?pe.setAttribute("height",N(O)):(pe.setAttribute("height",N(O)),pe.setAttribute("depth",N(-O))),pe.setAttribute("voffset",N(O)),pe}});function Y0(g,f,b){const C=Fn(g,f,!1),O=f.sizeMultiplier/b.sizeMultiplier;for(let V=0;V<C.length;V++){const J=C[V].classes.indexOf("sizing");J<0?Array.prototype.push.apply(C[V].classes,f.sizingClasses(b)):C[V].classes[J+1]==="reset-size"+f.size&&(C[V].classes[J+1]="reset-size"+b.size),C[V].height*=O,C[V].depth*=O}return ge.makeFragment(C)}const wo=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];zt({type:"sizing",names:wo,props:{numArgs:0,allowedInText:!0},handler:(g,f)=>{let{breakOnTokenText:b,funcName:C,parser:O}=g;const V=O.parseExpression(!1,b);return{type:"sizing",mode:O.mode,size:wo.indexOf(C)+1,body:V}},htmlBuilder:(g,f)=>{const b=f.havingSize(g.size);return Y0(g.body,b,f)},mathmlBuilder:(g,f)=>{const b=f.havingSize(g.size),C=Fs(g.body,b),O=new Yt.MathNode("mstyle",C);return O.setAttribute("mathsize",N(b.sizeMultiplier)),O}}),zt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(g,f,b)=>{let{parser:C}=g,O=!1,V=!1;const J=b[0]&&mr(b[0],"ordgroup");if(J){let xe="";for(let ze=0;ze<J.body.length;++ze)if(xe=J.body[ze].text,xe==="t")O=!0;else if(xe==="b")V=!0;else{O=!1,V=!1;break}}else O=!0,V=!0;const pe=f[0];return{type:"smash",mode:C.mode,body:pe,smashHeight:O,smashDepth:V}},htmlBuilder:(g,f)=>{const b=ge.makeSpan([],[Wn(g.body,f)]);if(!g.smashHeight&&!g.smashDepth)return b;if(g.smashHeight&&(b.height=0,b.children))for(let O=0;O<b.children.length;O++)b.children[O].height=0;if(g.smashDepth&&(b.depth=0,b.children))for(let O=0;O<b.children.length;O++)b.children[O].depth=0;const C=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:b}]},f);return ge.makeSpan(["mord"],[C],f)},mathmlBuilder:(g,f)=>{const b=new Yt.MathNode("mpadded",[qr(g.body,f)]);return g.smashHeight&&b.setAttribute("height","0px"),g.smashDepth&&b.setAttribute("depth","0px"),b}}),zt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(g,f,b){let{parser:C}=g;const O=b[0],V=f[0];return{type:"sqrt",mode:C.mode,body:V,index:O}},htmlBuilder(g,f){let b=Wn(g.body,f.havingCrampedStyle());b.height===0&&(b.height=f.fontMetrics().xHeight),b=ge.wrapFragment(b,f);const O=f.fontMetrics().defaultRuleThickness;let V=O;f.style.id<le.TEXT.id&&(V=f.fontMetrics().xHeight);let J=O+V/4;const pe=b.height+b.depth+J+O,{span:xe,ruleWidth:ze,advanceWidth:it}=Pr.sqrtImage(pe,f),ut=xe.height-ze;ut>b.height+b.depth+J&&(J=(J+ut-b.height-b.depth)/2);const wt=xe.height-b.height-J-ze;b.style.paddingLeft=N(it);const Kt=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:b,wrapperClasses:["svg-align"]},{type:"kern",size:-(b.height+wt)},{type:"elem",elem:xe},{type:"kern",size:ze}]},f);if(g.index){const vn=f.havingStyle(le.SCRIPTSCRIPT),Mn=Wn(g.index,vn,f),Rr=.6*(Kt.height-Kt.depth),gr=ge.makeVList({positionType:"shift",positionData:-Rr,children:[{type:"elem",elem:Mn}]},f),Tr=ge.makeSpan(["root"],[gr]);return ge.makeSpan(["mord","sqrt"],[Tr,Kt],f)}else return ge.makeSpan(["mord","sqrt"],[Kt],f)},mathmlBuilder(g,f){const{body:b,index:C}=g;return C?new Yt.MathNode("mroot",[qr(b,f),qr(C,f)]):new Yt.MathNode("msqrt",[qr(b,f)])}});const i0={display:le.DISPLAY,text:le.TEXT,script:le.SCRIPT,scriptscript:le.SCRIPTSCRIPT};zt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(g,f){let{breakOnTokenText:b,funcName:C,parser:O}=g;const V=O.parseExpression(!0,b),J=C.slice(1,C.length-5);return{type:"styling",mode:O.mode,style:J,body:V}},htmlBuilder(g,f){const b=i0[g.style],C=f.havingStyle(b).withFont("");return Y0(g.body,C,f)},mathmlBuilder(g,f){const b=i0[g.style],C=f.havingStyle(b),O=Fs(g.body,C),V=new Yt.MathNode("mstyle",O),pe={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[g.style];return V.setAttribute("scriptlevel",pe[0]),V.setAttribute("displaystyle",pe[1]),V}});const qo=function(g,f){const b=g.base;return b?b.type==="op"?b.limits&&(f.style.size===le.DISPLAY.size||b.alwaysHandleSupSub)?_0:null:b.type==="operatorname"?b.alwaysHandleSupSub&&(f.style.size===le.DISPLAY.size||b.limits)?zl:null:b.type==="accent"?oe.isCharacterBox(b.base)?xa:null:b.type==="horizBrace"&&!g.sub===b.isOver?Fl:null:null};nr({type:"supsub",htmlBuilder(g,f){const b=qo(g,f);if(b)return b(g,f);const{base:C,sup:O,sub:V}=g,J=Wn(C,f);let pe,xe;const ze=f.fontMetrics();let it=0,ut=0;const wt=C&&oe.isCharacterBox(C);if(O){const ui=f.havingStyle(f.style.sup());pe=Wn(O,ui,f),wt||(it=J.height-ui.fontMetrics().supDrop*ui.sizeMultiplier/f.sizeMultiplier)}if(V){const ui=f.havingStyle(f.style.sub());xe=Wn(V,ui,f),wt||(ut=J.depth+ui.fontMetrics().subDrop*ui.sizeMultiplier/f.sizeMultiplier)}let Kt;f.style===le.DISPLAY?Kt=ze.sup1:f.style.cramped?Kt=ze.sup3:Kt=ze.sup2;const vn=f.sizeMultiplier,Mn=N(.5/ze.ptPerEm/vn);let Rr=null;if(xe){const ui=g.base&&g.base.type==="op"&&g.base.name&&(g.base.name==="\\oiint"||g.base.name==="\\oiiint");(J instanceof $e||ui)&&(Rr=N(-J.italic))}let gr;if(pe&&xe){it=Math.max(it,Kt,pe.depth+.25*ze.xHeight),ut=Math.max(ut,ze.sub2);const jr=4*ze.defaultRuleThickness;if(it-pe.depth-(xe.height-ut)<jr){ut=jr-(it-pe.depth)+xe.height;const gs=.8*ze.xHeight-(it-pe.depth);gs>0&&(it+=gs,ut-=gs)}const Hi=[{type:"elem",elem:xe,shift:ut,marginRight:Mn,marginLeft:Rr},{type:"elem",elem:pe,shift:-it,marginRight:Mn}];gr=ge.makeVList({positionType:"individualShift",children:Hi},f)}else if(xe){ut=Math.max(ut,ze.sub1,xe.height-.8*ze.xHeight);const ui=[{type:"elem",elem:xe,marginLeft:Rr,marginRight:Mn}];gr=ge.makeVList({positionType:"shift",positionData:ut,children:ui},f)}else if(pe)it=Math.max(it,Kt,pe.depth+.25*ze.xHeight),gr=ge.makeVList({positionType:"shift",positionData:-it,children:[{type:"elem",elem:pe,marginRight:Mn}]},f);else throw new Error("supsub must have either sup or sub.");const Tr=Qi(J,"right")||"mord";return ge.makeSpan([Tr],[J,ge.makeSpan(["msupsub"],[gr])],f)},mathmlBuilder(g,f){let b=!1,C,O;g.base&&g.base.type==="horizBrace"&&(O=!!g.sup,O===g.base.isOver&&(b=!0,C=g.base.isOver)),g.base&&(g.base.type==="op"||g.base.type==="operatorname")&&(g.base.parentIsSupSub=!0);const V=[qr(g.base,f)];g.sub&&V.push(qr(g.sub,f)),g.sup&&V.push(qr(g.sup,f));let J;if(b)J=C?"mover":"munder";else if(g.sub)if(g.sup){const pe=g.base;pe&&pe.type==="op"&&pe.limits&&f.style===le.DISPLAY||pe&&pe.type==="operatorname"&&pe.alwaysHandleSupSub&&(f.style===le.DISPLAY||pe.limits)?J="munderover":J="msubsup"}else{const pe=g.base;pe&&pe.type==="op"&&pe.limits&&(f.style===le.DISPLAY||pe.alwaysHandleSupSub)||pe&&pe.type==="operatorname"&&pe.alwaysHandleSupSub&&(pe.limits||f.style===le.DISPLAY)?J="munder":J="msub"}else{const pe=g.base;pe&&pe.type==="op"&&pe.limits&&(f.style===le.DISPLAY||pe.alwaysHandleSupSub)||pe&&pe.type==="operatorname"&&pe.alwaysHandleSupSub&&(pe.limits||f.style===le.DISPLAY)?J="mover":J="msup"}return new Yt.MathNode(J,V)}}),nr({type:"atom",htmlBuilder(g,f){return ge.mathsym(g.text,g.mode,f,["m"+g.family])},mathmlBuilder(g,f){const b=new Yt.MathNode("mo",[Ii(g.text,g.mode)]);if(g.family==="bin"){const C=t0(g,f);C==="bold-italic"&&b.setAttribute("mathvariant",C)}else g.family==="punct"?b.setAttribute("separator","true"):(g.family==="open"||g.family==="close")&&b.setAttribute("stretchy","false");return b}});const Qo={mi:"italic",mn:"normal",mtext:"normal"};nr({type:"mathord",htmlBuilder(g,f){return ge.makeOrd(g,f,"mathord")},mathmlBuilder(g,f){const b=new Yt.MathNode("mi",[Ii(g.text,g.mode,f)]),C=t0(g,f)||"italic";return C!==Qo[b.type]&&b.setAttribute("mathvariant",C),b}}),nr({type:"textord",htmlBuilder(g,f){return ge.makeOrd(g,f,"textord")},mathmlBuilder(g,f){const b=Ii(g.text,g.mode,f),C=t0(g,f)||"normal";let O;return g.mode==="text"?O=new Yt.MathNode("mtext",[b]):/[0-9]/.test(g.text)?O=new Yt.MathNode("mn",[b]):g.text==="\\prime"?O=new Yt.MathNode("mo",[b]):O=new Yt.MathNode("mi",[b]),C!==Qo[O.type]&&O.setAttribute("mathvariant",C),O}});const Lo={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},oc={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};nr({type:"spacing",htmlBuilder(g,f){if(oc.hasOwnProperty(g.text)){const b=oc[g.text].className||"";if(g.mode==="text"){const C=ge.makeOrd(g,f,"textord");return C.classes.push(b),C}else return ge.makeSpan(["mspace",b],[ge.mathsym(g.text,g.mode,f)],f)}else{if(Lo.hasOwnProperty(g.text))return ge.makeSpan(["mspace",Lo[g.text]],[],f);throw new p('Unknown type of space "'+g.text+'"')}},mathmlBuilder(g,f){let b;if(oc.hasOwnProperty(g.text))b=new Yt.MathNode("mtext",[new Yt.TextNode("")]);else{if(Lo.hasOwnProperty(g.text))return new Yt.MathNode("mspace");throw new p('Unknown type of space "'+g.text+'"')}return b}});const lc=()=>{const g=new Yt.MathNode("mtd",[]);return g.setAttribute("width","50%"),g};nr({type:"tag",mathmlBuilder(g,f){const b=new Yt.MathNode("mtable",[new Yt.MathNode("mtr",[lc(),new Yt.MathNode("mtd",[Ns(g.body,f)]),lc(),new Yt.MathNode("mtd",[Ns(g.tag,f)])])]);return b.setAttribute("width","100%"),b}});const Ul={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},ac={"\\textbf":"textbf","\\textmd":"textmd"},ts={"\\textit":"textit","\\textup":"textup"},Xi=(g,f)=>{const b=g.font;if(b){if(Ul[b])return f.withTextFontFamily(Ul[b]);if(ac[b])return f.withTextFontWeight(ac[b]);if(b==="\\emph")return f.fontShape==="textit"?f.withTextFontShape("textup"):f.withTextFontShape("textit")}else return f;return f.withTextFontShape(ts[b])};zt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(g,f){let{parser:b,funcName:C}=g;const O=f[0];return{type:"text",mode:b.mode,body:Kn(O),font:C}},htmlBuilder(g,f){const b=Xi(g,f),C=Fn(g.body,b,!0);return ge.makeSpan(["mord","text"],C,b)},mathmlBuilder(g,f){const b=Xi(g,f);return Ns(g.body,b)}}),zt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(g,f){let{parser:b}=g;return{type:"underline",mode:b.mode,body:f[0]}},htmlBuilder(g,f){const b=Wn(g.body,f),C=ge.makeLineSpan("underline-line",f),O=f.fontMetrics().defaultRuleThickness,V=ge.makeVList({positionType:"top",positionData:b.height,children:[{type:"kern",size:O},{type:"elem",elem:C},{type:"kern",size:3*O},{type:"elem",elem:b}]},f);return ge.makeSpan(["mord","underline"],[V],f)},mathmlBuilder(g,f){const b=new Yt.MathNode("mo",[new Yt.TextNode("")]);b.setAttribute("stretchy","true");const C=new Yt.MathNode("munder",[qr(g.body,f),b]);return C.setAttribute("accentunder","true"),C}}),zt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(g,f){let{parser:b}=g;return{type:"vcenter",mode:b.mode,body:f[0]}},htmlBuilder(g,f){const b=Wn(g.body,f),C=f.fontMetrics().axisHeight,O=.5*(b.height-C-(b.depth+C));return ge.makeVList({positionType:"shift",positionData:O,children:[{type:"elem",elem:b}]},f)},mathmlBuilder(g,f){return new Yt.MathNode("mpadded",[qr(g.body,f)],["vcenter"])}}),zt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(g,f,b){throw new p("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(g,f){const b=Hr(g),C=[],O=f.havingStyle(f.style.text());for(let V=0;V<b.length;V++){let J=b[V];J==="~"&&(J="\\textasciitilde"),C.push(ge.makeSymbol(J,"Typewriter-Regular",g.mode,O,["mord","texttt"]))}return ge.makeSpan(["mord","text"].concat(O.sizingClasses(f)),ge.tryCombineChars(C),O)},mathmlBuilder(g,f){const b=new Yt.TextNode(Hr(g)),C=new Yt.MathNode("mtext",[b]);return C.setAttribute("mathvariant","monospace"),C}});const Hr=g=>g.body.replace(/ /g,g.star?"":"");var Us=nn;const s0=`[ \r
	]`,o0="\\\\[a-zA-Z@]+",sh="\\\\[^\uD800-\uDFFF]",oh="("+o0+")"+s0+"*",Na=`\\\\(
|[ \r	]+
?)[ \r	]*`,l0="[-]",Jc=new RegExp(l0+"+$"),Oa="("+s0+"+)|"+(Na+"|")+"([!-\\[\\]---]"+(l0+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(l0+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+oh)+("|"+sh+")");class uc{constructor(f,b){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=f,this.settings=b,this.tokenRegex=new RegExp(Oa,"g"),this.catcodes={"%":14,"~":13}}setCatcode(f,b){this.catcodes[f]=b}lex(){const f=this.input,b=this.tokenRegex.lastIndex;if(b===f.length)return new es("EOF",new wi(this,b,b));const C=this.tokenRegex.exec(f);if(C===null||C.index!==b)throw new p("Unexpected character: '"+f[b]+"'",new es(f[b],new wi(this,b,b+1)));const O=C[6]||C[3]||(C[2]?"\\ ":" ");if(this.catcodes[O]===14){const V=f.indexOf(`
`,this.tokenRegex.lastIndex);return V===-1?(this.tokenRegex.lastIndex=f.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=V+1,this.lex()}return new es(O,new wi(this,b,this.tokenRegex.lastIndex))}}class K0{constructor(f,b){f===void 0&&(f={}),b===void 0&&(b={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=b,this.builtins=f,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new p("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const f=this.undefStack.pop();for(const b in f)f.hasOwnProperty(b)&&(f[b]==null?delete this.current[b]:this.current[b]=f[b])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(f){return this.current.hasOwnProperty(f)||this.builtins.hasOwnProperty(f)}get(f){return this.current.hasOwnProperty(f)?this.current[f]:this.builtins[f]}set(f,b,C){if(C===void 0&&(C=!1),C){for(let O=0;O<this.undefStack.length;O++)delete this.undefStack[O][f];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][f]=b)}else{const O=this.undefStack[this.undefStack.length-1];O&&!O.hasOwnProperty(f)&&(O[f]=this.current[f])}b==null?delete this.current[f]:this.current[f]=b}}var w0=os;de("\\noexpand",function(g){const f=g.popToken();return g.isExpandable(f.text)&&(f.noexpand=!0,f.treatAsRelax=!0),{tokens:[f],numArgs:0}}),de("\\expandafter",function(g){const f=g.popToken();return g.expandOnce(!0),{tokens:[f],numArgs:0}}),de("\\@firstoftwo",function(g){return{tokens:g.consumeArgs(2)[0],numArgs:0}}),de("\\@secondoftwo",function(g){return{tokens:g.consumeArgs(2)[1],numArgs:0}}),de("\\@ifnextchar",function(g){const f=g.consumeArgs(3);g.consumeSpaces();const b=g.future();return f[0].length===1&&f[0][0].text===b.text?{tokens:f[1],numArgs:0}:{tokens:f[2],numArgs:0}}),de("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),de("\\TextOrMath",function(g){const f=g.consumeArgs(2);return g.mode==="text"?{tokens:f[0],numArgs:0}:{tokens:f[1],numArgs:0}});const Gl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};de("\\char",function(g){let f=g.popToken(),b,C="";if(f.text==="'")b=8,f=g.popToken();else if(f.text==='"')b=16,f=g.popToken();else if(f.text==="`")if(f=g.popToken(),f.text[0]==="\\")C=f.text.charCodeAt(1);else{if(f.text==="EOF")throw new p("\\char` missing argument");C=f.text.charCodeAt(0)}else b=10;if(b){if(C=Gl[f.text],C==null||C>=b)throw new p("Invalid base-"+b+" digit "+f.text);let O;for(;(O=Gl[g.future().text])!=null&&O<b;)C*=b,C+=O,g.popToken()}return"\\@char{"+C+"}"});const La=(g,f,b,C)=>{let O=g.consumeArg().tokens;if(O.length!==1)throw new p("\\newcommand's first argument must be a macro name");const V=O[0].text,J=g.isDefined(V);if(J&&!f)throw new p("\\newcommand{"+V+"} attempting to redefine "+(V+"; use \\renewcommand"));if(!J&&!b)throw new p("\\renewcommand{"+V+"} when command "+V+" does not yet exist; use \\newcommand");let pe=0;if(O=g.consumeArg().tokens,O.length===1&&O[0].text==="["){let xe="",ze=g.expandNextToken();for(;ze.text!=="]"&&ze.text!=="EOF";)xe+=ze.text,ze=g.expandNextToken();if(!xe.match(/^\s*[0-9]+\s*$/))throw new p("Invalid number of arguments: "+xe);pe=parseInt(xe),O=g.consumeArg().tokens}return J&&C||g.macros.set(V,{tokens:O,numArgs:pe}),""};de("\\newcommand",g=>La(g,!1,!0,!1)),de("\\renewcommand",g=>La(g,!0,!1,!1)),de("\\providecommand",g=>La(g,!0,!0,!0)),de("\\message",g=>{const f=g.consumeArgs(1)[0];return console.log(f.reverse().map(b=>b.text).join("")),""}),de("\\errmessage",g=>{const f=g.consumeArgs(1)[0];return console.error(f.reverse().map(b=>b.text).join("")),""}),de("\\show",g=>{const f=g.popToken(),b=f.text;return console.log(f,g.macros.get(b),Us[b],vr.math[b],vr.text[b]),""}),de("\\bgroup","{"),de("\\egroup","}"),de("~","\\nobreakspace"),de("\\lq","`"),de("\\rq","'"),de("\\aa","\\r a"),de("\\AA","\\r A"),de("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),de("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),de("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),de("","\\mathscr{B}"),de("","\\mathscr{E}"),de("","\\mathscr{F}"),de("","\\mathscr{H}"),de("","\\mathscr{I}"),de("","\\mathscr{L}"),de("","\\mathscr{M}"),de("","\\mathscr{R}"),de("","\\mathfrak{C}"),de("","\\mathfrak{H}"),de("","\\mathfrak{Z}"),de("\\Bbbk","\\Bbb{k}"),de("","\\cdotp"),de("\\llap","\\mathllap{\\textrm{#1}}"),de("\\rlap","\\mathrlap{\\textrm{#1}}"),de("\\clap","\\mathclap{\\textrm{#1}}"),de("\\mathstrut","\\vphantom{(}"),de("\\underbar","\\underline{\\text{#1}}"),de("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),de("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),de("\\ne","\\neq"),de("","\\neq"),de("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),de("","\\notin"),de("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),de("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),de("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),de("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),de("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),de("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),de("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),de("","\\perp"),de("","\\mathclose{!\\mkern-0.8mu!}"),de("","\\notni"),de("","\\ulcorner"),de("","\\urcorner"),de("","\\llcorner"),de("","\\lrcorner"),de("","\\copyright"),de("","\\textregistered"),de("","\\textregistered"),de("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),de("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),de("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),de("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),de("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),de("","\\vdots"),de("\\varGamma","\\mathit{\\Gamma}"),de("\\varDelta","\\mathit{\\Delta}"),de("\\varTheta","\\mathit{\\Theta}"),de("\\varLambda","\\mathit{\\Lambda}"),de("\\varXi","\\mathit{\\Xi}"),de("\\varPi","\\mathit{\\Pi}"),de("\\varSigma","\\mathit{\\Sigma}"),de("\\varUpsilon","\\mathit{\\Upsilon}"),de("\\varPhi","\\mathit{\\Phi}"),de("\\varPsi","\\mathit{\\Psi}"),de("\\varOmega","\\mathit{\\Omega}"),de("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),de("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),de("\\boxed","\\fbox{$\\displaystyle{#1}$}"),de("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),de("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),de("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),de("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),de("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");const el={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};de("\\dots",function(g){let f="\\dotso";const b=g.expandAfterFuture().text;return b in el?f=el[b]:(b.slice(0,4)==="\\not"||b in vr.math&&["bin","rel"].includes(vr.math[b].group))&&(f="\\dotsb"),f});const S0={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};de("\\dotso",function(g){return g.future().text in S0?"\\ldots\\,":"\\ldots"}),de("\\dotsc",function(g){const f=g.future().text;return f in S0&&f!==","?"\\ldots\\,":"\\ldots"}),de("\\cdots",function(g){return g.future().text in S0?"\\@cdots\\,":"\\@cdots"}),de("\\dotsb","\\cdots"),de("\\dotsm","\\cdots"),de("\\dotsi","\\!\\cdots"),de("\\dotsx","\\ldots\\,"),de("\\DOTSI","\\relax"),de("\\DOTSB","\\relax"),de("\\DOTSX","\\relax"),de("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),de("\\,","\\tmspace+{3mu}{.1667em}"),de("\\thinspace","\\,"),de("\\>","\\mskip{4mu}"),de("\\:","\\tmspace+{4mu}{.2222em}"),de("\\medspace","\\:"),de("\\;","\\tmspace+{5mu}{.2777em}"),de("\\thickspace","\\;"),de("\\!","\\tmspace-{3mu}{.1667em}"),de("\\negthinspace","\\!"),de("\\negmedspace","\\tmspace-{4mu}{.2222em}"),de("\\negthickspace","\\tmspace-{5mu}{.277em}"),de("\\enspace","\\kern.5em "),de("\\enskip","\\hskip.5em\\relax"),de("\\quad","\\hskip1em\\relax"),de("\\qquad","\\hskip2em\\relax"),de("\\tag","\\@ifstar\\tag@literal\\tag@paren"),de("\\tag@paren","\\tag@literal{({#1})}"),de("\\tag@literal",g=>{if(g.macros.get("\\df@tag"))throw new p("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),de("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),de("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),de("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),de("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),de("\\newline","\\\\\\relax"),de("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const uu=N(on["Main-Regular"][84][1]-.7*on["Main-Regular"][65][1]);de("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+uu+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),de("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+uu+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),de("\\hspace","\\@ifstar\\@hspacer\\@hspace"),de("\\@hspace","\\hskip #1\\relax"),de("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),de("\\ordinarycolon",":"),de("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),de("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),de("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),de("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),de("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),de("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),de("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),de("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),de("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),de("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),de("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),de("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),de("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),de("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),de("","\\dblcolon"),de("","\\eqcolon"),de("","\\coloneqq"),de("","\\eqqcolon"),de("","\\Coloneqq"),de("\\ratio","\\vcentcolon"),de("\\coloncolon","\\dblcolon"),de("\\colonequals","\\coloneqq"),de("\\coloncolonequals","\\Coloneqq"),de("\\equalscolon","\\eqqcolon"),de("\\equalscoloncolon","\\Eqqcolon"),de("\\colonminus","\\coloneq"),de("\\coloncolonminus","\\Coloneq"),de("\\minuscolon","\\eqcolon"),de("\\minuscoloncolon","\\Eqcolon"),de("\\coloncolonapprox","\\Colonapprox"),de("\\coloncolonsim","\\Colonsim"),de("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),de("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),de("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),de("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),de("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),de("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),de("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),de("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),de("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),de("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),de("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),de("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),de("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),de("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}"),de("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}"),de("\\ngeqq","\\html@mathml{\\@ngeqq}{}"),de("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}"),de("\\nleqq","\\html@mathml{\\@nleqq}{}"),de("\\nleqslant","\\html@mathml{\\@nleqslant}{}"),de("\\nshortmid","\\html@mathml{\\@nshortmid}{}"),de("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}"),de("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}"),de("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}"),de("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}"),de("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}"),de("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}"),de("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}"),de("\\imath","\\html@mathml{\\@imath}{}"),de("\\jmath","\\html@mathml{\\@jmath}{}"),de("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),de("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),de("","\\llbracket"),de("","\\rrbracket"),de("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),de("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),de("","\\lBrace"),de("","\\rBrace"),de("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),de("","\\minuso"),de("\\darr","\\downarrow"),de("\\dArr","\\Downarrow"),de("\\Darr","\\Downarrow"),de("\\lang","\\langle"),de("\\rang","\\rangle"),de("\\uarr","\\uparrow"),de("\\uArr","\\Uparrow"),de("\\Uarr","\\Uparrow"),de("\\N","\\mathbb{N}"),de("\\R","\\mathbb{R}"),de("\\Z","\\mathbb{Z}"),de("\\alef","\\aleph"),de("\\alefsym","\\aleph"),de("\\Alpha","\\mathrm{A}"),de("\\Beta","\\mathrm{B}"),de("\\bull","\\bullet"),de("\\Chi","\\mathrm{X}"),de("\\clubs","\\clubsuit"),de("\\cnums","\\mathbb{C}"),de("\\Complex","\\mathbb{C}"),de("\\Dagger","\\ddagger"),de("\\diamonds","\\diamondsuit"),de("\\empty","\\emptyset"),de("\\Epsilon","\\mathrm{E}"),de("\\Eta","\\mathrm{H}"),de("\\exist","\\exists"),de("\\harr","\\leftrightarrow"),de("\\hArr","\\Leftrightarrow"),de("\\Harr","\\Leftrightarrow"),de("\\hearts","\\heartsuit"),de("\\image","\\Im"),de("\\infin","\\infty"),de("\\Iota","\\mathrm{I}"),de("\\isin","\\in"),de("\\Kappa","\\mathrm{K}"),de("\\larr","\\leftarrow"),de("\\lArr","\\Leftarrow"),de("\\Larr","\\Leftarrow"),de("\\lrarr","\\leftrightarrow"),de("\\lrArr","\\Leftrightarrow"),de("\\Lrarr","\\Leftrightarrow"),de("\\Mu","\\mathrm{M}"),de("\\natnums","\\mathbb{N}"),de("\\Nu","\\mathrm{N}"),de("\\Omicron","\\mathrm{O}"),de("\\plusmn","\\pm"),de("\\rarr","\\rightarrow"),de("\\rArr","\\Rightarrow"),de("\\Rarr","\\Rightarrow"),de("\\real","\\Re"),de("\\reals","\\mathbb{R}"),de("\\Reals","\\mathbb{R}"),de("\\Rho","\\mathrm{P}"),de("\\sdot","\\cdot"),de("\\sect","\\S"),de("\\spades","\\spadesuit"),de("\\sub","\\subset"),de("\\sube","\\subseteq"),de("\\supe","\\supseteq"),de("\\Tau","\\mathrm{T}"),de("\\thetasym","\\vartheta"),de("\\weierp","\\wp"),de("\\Zeta","\\mathrm{Z}"),de("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),de("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),de("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),de("\\bra","\\mathinner{\\langle{#1}|}"),de("\\ket","\\mathinner{|{#1}\\rangle}"),de("\\braket","\\mathinner{\\langle{#1}\\rangle}"),de("\\Bra","\\left\\langle#1\\right|"),de("\\Ket","\\left|#1\\right\\rangle");const tl=g=>f=>{const b=f.consumeArg().tokens,C=f.consumeArg().tokens,O=f.consumeArg().tokens,V=f.consumeArg().tokens,J=f.macros.get("|"),pe=f.macros.get("\\|");f.macros.beginGroup();const xe=ut=>wt=>{g&&(wt.macros.set("|",J),O.length&&wt.macros.set("\\|",pe));let Kt=ut;return!ut&&O.length&&wt.future().text==="|"&&(wt.popToken(),Kt=!0),{tokens:Kt?O:C,numArgs:0}};f.macros.set("|",xe(!1)),O.length&&f.macros.set("\\|",xe(!0));const ze=f.consumeArg().tokens,it=f.expandTokens([...V,...ze,...b]);return f.macros.endGroup(),{tokens:it.reverse(),numArgs:0}};de("\\bra@ket",tl(!1)),de("\\bra@set",tl(!0)),de("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),de("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),de("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),de("\\angln","{\\angl n}"),de("\\blue","\\textcolor{##6495ed}{#1}"),de("\\orange","\\textcolor{##ffa500}{#1}"),de("\\pink","\\textcolor{##ff00af}{#1}"),de("\\red","\\textcolor{##df0030}{#1}"),de("\\green","\\textcolor{##28ae7b}{#1}"),de("\\gray","\\textcolor{gray}{#1}"),de("\\purple","\\textcolor{##9d38bd}{#1}"),de("\\blueA","\\textcolor{##ccfaff}{#1}"),de("\\blueB","\\textcolor{##80f6ff}{#1}"),de("\\blueC","\\textcolor{##63d9ea}{#1}"),de("\\blueD","\\textcolor{##11accd}{#1}"),de("\\blueE","\\textcolor{##0c7f99}{#1}"),de("\\tealA","\\textcolor{##94fff5}{#1}"),de("\\tealB","\\textcolor{##26edd5}{#1}"),de("\\tealC","\\textcolor{##01d1c1}{#1}"),de("\\tealD","\\textcolor{##01a995}{#1}"),de("\\tealE","\\textcolor{##208170}{#1}"),de("\\greenA","\\textcolor{##b6ffb0}{#1}"),de("\\greenB","\\textcolor{##8af281}{#1}"),de("\\greenC","\\textcolor{##74cf70}{#1}"),de("\\greenD","\\textcolor{##1fab54}{#1}"),de("\\greenE","\\textcolor{##0d923f}{#1}"),de("\\goldA","\\textcolor{##ffd0a9}{#1}"),de("\\goldB","\\textcolor{##ffbb71}{#1}"),de("\\goldC","\\textcolor{##ff9c39}{#1}"),de("\\goldD","\\textcolor{##e07d10}{#1}"),de("\\goldE","\\textcolor{##a75a05}{#1}"),de("\\redA","\\textcolor{##fca9a9}{#1}"),de("\\redB","\\textcolor{##ff8482}{#1}"),de("\\redC","\\textcolor{##f9685d}{#1}"),de("\\redD","\\textcolor{##e84d39}{#1}"),de("\\redE","\\textcolor{##bc2612}{#1}"),de("\\maroonA","\\textcolor{##ffbde0}{#1}"),de("\\maroonB","\\textcolor{##ff92c6}{#1}"),de("\\maroonC","\\textcolor{##ed5fa6}{#1}"),de("\\maroonD","\\textcolor{##ca337c}{#1}"),de("\\maroonE","\\textcolor{##9e034e}{#1}"),de("\\purpleA","\\textcolor{##ddd7ff}{#1}"),de("\\purpleB","\\textcolor{##c6b9fc}{#1}"),de("\\purpleC","\\textcolor{##aa87ff}{#1}"),de("\\purpleD","\\textcolor{##7854ab}{#1}"),de("\\purpleE","\\textcolor{##543b78}{#1}"),de("\\mintA","\\textcolor{##f5f9e8}{#1}"),de("\\mintB","\\textcolor{##edf2df}{#1}"),de("\\mintC","\\textcolor{##e0e5cc}{#1}"),de("\\grayA","\\textcolor{##f6f7f7}{#1}"),de("\\grayB","\\textcolor{##f0f1f2}{#1}"),de("\\grayC","\\textcolor{##e3e5e6}{#1}"),de("\\grayD","\\textcolor{##d6d8da}{#1}"),de("\\grayE","\\textcolor{##babec2}{#1}"),de("\\grayF","\\textcolor{##888d93}{#1}"),de("\\grayG","\\textcolor{##626569}{#1}"),de("\\grayH","\\textcolor{##3b3e40}{#1}"),de("\\grayI","\\textcolor{##21242c}{#1}"),de("\\kaBlue","\\textcolor{##314453}{#1}"),de("\\kaGreen","\\textcolor{##71B307}{#1}");const Zs={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class cu{constructor(f,b,C){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=b,this.expansionCount=0,this.feed(f),this.macros=new K0(w0,b.macros),this.mode=C,this.stack=[]}feed(f){this.lexer=new uc(f,this.settings)}switchMode(f){this.mode=f}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(f){this.stack.push(f)}pushTokens(f){this.stack.push(...f)}scanArgument(f){let b,C,O;if(f){if(this.consumeSpaces(),this.future().text!=="[")return null;b=this.popToken(),{tokens:O,end:C}=this.consumeArg(["]"])}else({tokens:O,start:b,end:C}=this.consumeArg());return this.pushToken(new es("EOF",C.loc)),this.pushTokens(O),new es("",wi.range(b,C))}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(f){const b=[],C=f&&f.length>0;C||this.consumeSpaces();const O=this.future();let V,J=0,pe=0;do{if(V=this.popToken(),b.push(V),V.text==="{")++J;else if(V.text==="}"){if(--J,J===-1)throw new p("Extra }",V)}else if(V.text==="EOF")throw new p("Unexpected end of input in a macro argument, expected '"+(f&&C?f[pe]:"}")+"'",V);if(f&&C)if((J===0||J===1&&f[pe]==="{")&&V.text===f[pe]){if(++pe,pe===f.length){b.splice(-pe,pe);break}}else pe=0}while(J!==0||C);return O.text==="{"&&b[b.length-1].text==="}"&&(b.pop(),b.shift()),b.reverse(),{tokens:b,start:O,end:V}}consumeArgs(f,b){if(b){if(b.length!==f+1)throw new p("The length of delimiters doesn't match the number of args!");const O=b[0];for(let V=0;V<O.length;V++){const J=this.popToken();if(O[V]!==J.text)throw new p("Use of the macro doesn't match its definition",J)}}const C=[];for(let O=0;O<f;O++)C.push(this.consumeArg(b&&b[O+1]).tokens);return C}countExpansion(f){if(this.expansionCount+=f,this.expansionCount>this.settings.maxExpand)throw new p("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(f){const b=this.popToken(),C=b.text,O=b.noexpand?null:this._getExpansion(C);if(O==null||f&&O.unexpandable){if(f&&O==null&&C[0]==="\\"&&!this.isDefined(C))throw new p("Undefined control sequence: "+C);return this.pushToken(b),!1}this.countExpansion(1);let V=O.tokens;const J=this.consumeArgs(O.numArgs,O.delimiters);if(O.numArgs){V=V.slice();for(let pe=V.length-1;pe>=0;--pe){let xe=V[pe];if(xe.text==="#"){if(pe===0)throw new p("Incomplete placeholder at end of macro body",xe);if(xe=V[--pe],xe.text==="#")V.splice(pe+1,1);else if(/^[1-9]$/.test(xe.text))V.splice(pe,2,...J[+xe.text-1]);else throw new p("Not a valid argument number",xe)}}}return this.pushTokens(V),V.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const f=this.stack.pop();return f.treatAsRelax&&(f.text="\\relax"),f}throw new Error}expandMacro(f){return this.macros.has(f)?this.expandTokens([new es(f)]):void 0}expandTokens(f){const b=[],C=this.stack.length;for(this.pushTokens(f);this.stack.length>C;)if(this.expandOnce(!0)===!1){const O=this.stack.pop();O.treatAsRelax&&(O.noexpand=!1,O.treatAsRelax=!1),b.push(O)}return this.countExpansion(b.length),b}expandMacroAsText(f){const b=this.expandMacro(f);return b&&b.map(C=>C.text).join("")}_getExpansion(f){const b=this.macros.get(f);if(b==null)return b;if(f.length===1){const O=this.lexer.catcodes[f];if(O!=null&&O!==13)return}const C=typeof b=="function"?b(this):b;if(typeof C=="string"){let O=0;if(C.indexOf("#")!==-1){const ze=C.replace(/##/g,"");for(;ze.indexOf("#"+(O+1))!==-1;)++O}const V=new uc(C,this.settings),J=[];let pe=V.lex();for(;pe.text!=="EOF";)J.push(pe),pe=V.lex();return J.reverse(),{tokens:J,numArgs:O}}return C}isDefined(f){return this.macros.has(f)||Us.hasOwnProperty(f)||vr.math.hasOwnProperty(f)||vr.text.hasOwnProperty(f)||Zs.hasOwnProperty(f)}isExpandable(f){const b=this.macros.get(f);return b!=null?typeof b=="string"||typeof b=="function"||!b.unexpandable:Us.hasOwnProperty(f)&&!Us[f].primitive}}const hu=/^[]/,cc=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Zc={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},lh={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class is{constructor(f,b){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new cu(f,b,this.mode),this.settings=b,this.leftrightDepth=0}expect(f,b){if(b===void 0&&(b=!0),this.fetch().text!==f)throw new p("Expected '"+f+"', got '"+this.fetch().text+"'",this.fetch());b&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(f){this.mode=f,this.gullet.switchMode(f)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const f=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),f}finally{this.gullet.endGroups()}}subparse(f){const b=this.nextToken;this.consume(),this.gullet.pushToken(new es("}")),this.gullet.pushTokens(f);const C=this.parseExpression(!1);return this.expect("}"),this.nextToken=b,C}parseExpression(f,b){const C=[];for(;;){this.mode==="math"&&this.consumeSpaces();const O=this.fetch();if(is.endOfExpression.indexOf(O.text)!==-1||b&&O.text===b||f&&Us[O.text]&&Us[O.text].infix)break;const V=this.parseAtom(b);if(V){if(V.type==="internal")continue}else break;C.push(V)}return this.mode==="text"&&this.formLigatures(C),this.handleInfixNodes(C)}handleInfixNodes(f){let b=-1,C;for(let O=0;O<f.length;O++)if(f[O].type==="infix"){if(b!==-1)throw new p("only one infix operator per group",f[O].token);b=O,C=f[O].replaceWith}if(b!==-1&&C){let O,V;const J=f.slice(0,b),pe=f.slice(b+1);J.length===1&&J[0].type==="ordgroup"?O=J[0]:O={type:"ordgroup",mode:this.mode,body:J},pe.length===1&&pe[0].type==="ordgroup"?V=pe[0]:V={type:"ordgroup",mode:this.mode,body:pe};let xe;return C==="\\\\abovefrac"?xe=this.callFunction(C,[O,f[b],V],[]):xe=this.callFunction(C,[O,V],[]),[xe]}else return f}handleSupSubscript(f){const b=this.fetch(),C=b.text;this.consume(),this.consumeSpaces();let O;do{var V;O=this.parseGroup(f)}while(((V=O)==null?void 0:V.type)==="internal");if(!O)throw new p("Expected group after '"+C+"'",b);return O}formatUnsupportedCmd(f){const b=[];for(let V=0;V<f.length;V++)b.push({type:"textord",mode:"text",text:f[V]});const C={type:"text",mode:this.mode,body:b};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[C]}}parseAtom(f){const b=this.parseGroup("atom",f);if(b?.type==="internal"||this.mode==="text")return b;let C,O;for(;;){this.consumeSpaces();const V=this.fetch();if(V.text==="\\limits"||V.text==="\\nolimits"){if(b&&b.type==="op"){const J=V.text==="\\limits";b.limits=J,b.alwaysHandleSupSub=!0}else if(b&&b.type==="operatorname")b.alwaysHandleSupSub&&(b.limits=V.text==="\\limits");else throw new p("Limit controls must follow a math operator",V);this.consume()}else if(V.text==="^"){if(C)throw new p("Double superscript",V);C=this.handleSupSubscript("superscript")}else if(V.text==="_"){if(O)throw new p("Double subscript",V);O=this.handleSupSubscript("subscript")}else if(V.text==="'"){if(C)throw new p("Double superscript",V);const J={type:"textord",mode:this.mode,text:"\\prime"},pe=[J];for(this.consume();this.fetch().text==="'";)pe.push(J),this.consume();this.fetch().text==="^"&&pe.push(this.handleSupSubscript("superscript")),C={type:"ordgroup",mode:this.mode,body:pe}}else if(cc[V.text]){const J=hu.test(V.text),pe=[];for(pe.push(new es(cc[V.text])),this.consume();;){const ze=this.fetch().text;if(!cc[ze]||hu.test(ze)!==J)break;pe.unshift(new es(cc[ze])),this.consume()}const xe=this.subparse(pe);J?O={type:"ordgroup",mode:"math",body:xe}:C={type:"ordgroup",mode:"math",body:xe}}else break}return C||O?{type:"supsub",mode:this.mode,base:b,sup:C,sub:O}:b}parseFunction(f,b){const C=this.fetch(),O=C.text,V=Us[O];if(!V)return null;if(this.consume(),b&&b!=="atom"&&!V.allowedInArgument)throw new p("Got function '"+O+"' with no arguments"+(b?" as "+b:""),C);if(this.mode==="text"&&!V.allowedInText)throw new p("Can't use function '"+O+"' in text mode",C);if(this.mode==="math"&&V.allowedInMath===!1)throw new p("Can't use function '"+O+"' in math mode",C);const{args:J,optArgs:pe}=this.parseArguments(O,V);return this.callFunction(O,J,pe,C,f)}callFunction(f,b,C,O,V){const J={funcName:f,parser:this,token:O,breakOnTokenText:V},pe=Us[f];if(pe&&pe.handler)return pe.handler(J,b,C);throw new p("No function handler for "+f)}parseArguments(f,b){const C=b.numArgs+b.numOptionalArgs;if(C===0)return{args:[],optArgs:[]};const O=[],V=[];for(let J=0;J<C;J++){let pe=b.argTypes&&b.argTypes[J];const xe=J<b.numOptionalArgs;(b.primitive&&pe==null||b.type==="sqrt"&&J===1&&V[0]==null)&&(pe="primitive");const ze=this.parseGroupOfType("argument to '"+f+"'",pe,xe);if(xe)V.push(ze);else if(ze!=null)O.push(ze);else throw new p("Null argument, please report this as a bug")}return{args:O,optArgs:V}}parseGroupOfType(f,b,C){switch(b){case"color":return this.parseColorGroup(C);case"size":return this.parseSizeGroup(C);case"url":return this.parseUrlGroup(C);case"math":case"text":return this.parseArgumentGroup(C,b);case"hbox":{const O=this.parseArgumentGroup(C,"text");return O!=null?{type:"styling",mode:O.mode,body:[O],style:"text"}:null}case"raw":{const O=this.parseStringGroup("raw",C);return O!=null?{type:"raw",mode:"text",string:O.text}:null}case"primitive":{if(C)throw new p("A primitive argument cannot be optional");const O=this.parseGroup(f);if(O==null)throw new p("Expected group as "+f,this.fetch());return O}case"original":case null:case void 0:return this.parseArgumentGroup(C);default:throw new p("Unknown group type as "+f,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(f,b){const C=this.gullet.scanArgument(b);if(C==null)return null;let O="",V;for(;(V=this.fetch()).text!=="EOF";)O+=V.text,this.consume();return this.consume(),C.text=O,C}parseRegexGroup(f,b){const C=this.fetch();let O=C,V="",J;for(;(J=this.fetch()).text!=="EOF"&&f.test(V+J.text);)O=J,V+=O.text,this.consume();if(V==="")throw new p("Invalid "+b+": '"+C.text+"'",C);return C.range(O,V)}parseColorGroup(f){const b=this.parseStringGroup("color",f);if(b==null)return null;const C=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(b.text);if(!C)throw new p("Invalid color: '"+b.text+"'",b);let O=C[0];return/^[0-9a-f]{6}$/i.test(O)&&(O="#"+O),{type:"color-token",mode:this.mode,color:O}}parseSizeGroup(f){let b,C=!1;if(this.gullet.consumeSpaces(),!f&&this.gullet.future().text!=="{"?b=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):b=this.parseStringGroup("size",f),!b)return null;!f&&b.text.length===0&&(b.text="0pt",C=!0);const O=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(b.text);if(!O)throw new p("Invalid size: '"+b.text+"'",b);const V={number:+(O[1]+O[2]),unit:O[3]};if(!Ct(V))throw new p("Invalid unit: '"+V.unit+"'",b);return{type:"size",mode:this.mode,value:V,isBlank:C}}parseUrlGroup(f){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const b=this.parseStringGroup("url",f);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),b==null)return null;const C=b.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:C}}parseArgumentGroup(f,b){const C=this.gullet.scanArgument(f);if(C==null)return null;const O=this.mode;b&&this.switchMode(b),this.gullet.beginGroup();const V=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const J={type:"ordgroup",mode:this.mode,loc:C.loc,body:V};return b&&this.switchMode(O),J}parseGroup(f,b){const C=this.fetch(),O=C.text;let V;if(O==="{"||O==="\\begingroup"){this.consume();const J=O==="{"?"}":"\\endgroup";this.gullet.beginGroup();const pe=this.parseExpression(!1,J),xe=this.fetch();this.expect(J),this.gullet.endGroup(),V={type:"ordgroup",mode:this.mode,loc:wi.range(C,xe),body:pe,semisimple:O==="\\begingroup"||void 0}}else if(V=this.parseFunction(b,f)||this.parseSymbol(),V==null&&O[0]==="\\"&&!Zs.hasOwnProperty(O)){if(this.settings.throwOnError)throw new p("Undefined control sequence: "+O,C);V=this.formatUnsupportedCmd(O),this.consume()}return V}formLigatures(f){let b=f.length-1;for(let C=0;C<b;++C){const O=f[C],V=O.text;V==="-"&&f[C+1].text==="-"&&(C+1<b&&f[C+2].text==="-"?(f.splice(C,3,{type:"textord",mode:"text",loc:wi.range(O,f[C+2]),text:"---"}),b-=2):(f.splice(C,2,{type:"textord",mode:"text",loc:wi.range(O,f[C+1]),text:"--"}),b-=1)),(V==="'"||V==="`")&&f[C+1].text===V&&(f.splice(C,2,{type:"textord",mode:"text",loc:wi.range(O,f[C+1]),text:V+V}),b-=1)}}parseSymbol(){const f=this.fetch();let b=f.text;if(/^\\verb[^a-zA-Z]/.test(b)){this.consume();let V=b.slice(5);const J=V.charAt(0)==="*";if(J&&(V=V.slice(1)),V.length<2||V.charAt(0)!==V.slice(-1))throw new p(`\\verb assertion failed --
                    please report what input caused this bug`);return V=V.slice(1,-1),{type:"verb",mode:"text",body:V,star:J}}lh.hasOwnProperty(b[0])&&!vr[this.mode][b[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+b[0]+'" used in math mode',f),b=lh[b[0]]+b.slice(1));const C=Jc.exec(b);C&&(b=b.substring(0,C.index),b==="i"?b="":b==="j"&&(b=""));let O;if(vr[this.mode][b]){this.settings.strict&&this.mode==="math"&&Zi.indexOf(b)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+b[0]+'" used in math mode',f);const V=vr[this.mode][b].group,J=wi.range(f);let pe;if(Sr.hasOwnProperty(V)){const xe=V;pe={type:"atom",mode:this.mode,family:xe,loc:J,text:b}}else pe={type:V,mode:this.mode,loc:J,text:b};O=pe}else if(b.charCodeAt(0)>=128)this.settings.strict&&(Zt(b.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+b[0]+'" used in math mode',f):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+b[0]+'"'+(" ("+b.charCodeAt(0)+")"),f)),O={type:"textord",mode:"text",loc:wi.range(f),text:b};else return null;if(this.consume(),C)for(let V=0;V<C[0].length;V++){const J=C[0][V];if(!Zc[J])throw new p("Unknown accent ' "+J+"'",f);const pe=Zc[J][this.mode]||Zc[J].text;if(!pe)throw new p("Accent "+J+" unsupported in "+this.mode+" mode",f);O={type:"accent",mode:this.mode,loc:wi.range(f),label:pe,isStretchy:!1,isShifty:!0,base:O}}return O}}is.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var x0=function(g,f){if(!(typeof g=="string"||g instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const b=new is(g,f);delete b.gullet.macros.current["\\df@tag"];let C=b.parse();if(delete b.gullet.macros.current["\\current@color"],delete b.gullet.macros.current["\\color"],b.gullet.macros.get("\\df@tag")){if(!f.displayMode)throw new p("\\tag works only in display equations");C=[{type:"tag",mode:"text",body:C,tag:b.subparse([new es("\\df@tag")])}]}return C};let k0=function(g,f,b){f.textContent="";const C=e1(g,b).toNode();f.appendChild(C)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),k0=function(){throw new p("KaTeX doesn't work in quirks mode.")});const Qc=function(g,f){return e1(g,f).toMarkup()},Da=function(g,f){const b=new be(f);return x0(g,b)},J0=function(g,f,b){if(b.throwOnError||!(g instanceof p))throw g;const C=ge.makeSpan(["katex-error"],[new $e(f)]);return C.setAttribute("title",g.toString()),C.setAttribute("style","color:"+b.errorColor),C},e1=function(g,f){const b=new be(f);try{const C=x0(g,b);return Nl(C,g,b)}catch(C){return J0(C,g,b)}};var Ri={version:"0.16.25",render:k0,renderToString:Qc,ParseError:p,SETTINGS_SCHEMA:j,__parse:Da,__renderToDomTree:e1,__renderToHTMLTree:function(g,f){const b=new be(f);try{const C=x0(g,b);return Ol(C,g,b)}catch(C){return J0(C,g,b)}},__setFontMetrics:Qn,__defineSymbol:L,__defineFunction:zt,__defineMacro:de,__domTree:{Span:Qr,Anchor:ds,SymbolNode:$e,SvgNode:Pe,PathNode:et,LineNode:Ft}},fl=Ri;return a=a.default,a})()})})(b5)),b5.exports}var Pb=Z2.exports,a8;function Fb(){return a8||(a8=1,(function(r,o){(function(n,a){a(o,N5(),jm(),Bb())})(Pb,function(n,a,h,p){Object.defineProperty(n,"__esModule",{value:!0});function $(oe,j){for(var ie in j)Object.defineProperty(oe,ie,{enumerable:!0,get:j[ie]})}$(n,{BlockMath:()=>Z,InlineMath:()=>ce}),a=E(a),h=_(h),p=_(p);function _(oe){return oe&&oe.__esModule?oe:{default:oe}}function T(oe){if(typeof WeakMap!="function")return null;var j=new WeakMap,ie=new WeakMap;return(T=function(be){return be?ie:j})(oe)}function E(oe,j){if(oe&&oe.__esModule)return oe;if(oe===null||typeof oe!="object"&&typeof oe!="function")return{default:oe};var ie=T(j);if(ie&&ie.has(oe))return ie.get(oe);var be={},Ie=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ge in oe)if(Ge!=="default"&&Object.prototype.hasOwnProperty.call(oe,Ge)){var Te=Ie?Object.getOwnPropertyDescriptor(oe,Ge):null;Te&&(Te.get||Te.set)?Object.defineProperty(be,Ge,Te):be[Ge]=oe[Ge]}return be.default=oe,ie&&ie.set(oe,be),be}const w=(oe,{displayMode:j})=>{const ie=({children:be,errorColor:Ie,math:Ge,renderError:Te})=>{const We=Ge??be,{html:lt,error:Je}=(0,a.useMemo)(()=>{try{return{html:p.default.renderToString(We,{displayMode:j,errorColor:Ie,throwOnError:!!Te}),error:void 0}}catch(Xe){if(Xe instanceof p.default.ParseError||Xe instanceof TypeError)return{error:Xe};throw Xe}},[We,Ie,Te]);return Je?Te?Te(Je):a.default.createElement(oe,{html:`${Je.message}`}):a.default.createElement(oe,{html:lt})};return ie.propTypes={children:h.default.string,errorColor:h.default.string,math:h.default.string,renderError:h.default.func},ie},A={html:h.default.string.isRequired},z=({html:oe})=>a.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:oe}});z.propTypes=A;const B=({html:oe})=>a.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:oe}});B.propTypes=A;const Z=w(z,{displayMode:!0}),ce=w(B,{displayMode:!1})})})(Z2,Z2.exports)),Z2.exports}var B6=Fb();function zb({state:r}){const o=r||{lhs:"",rhs:"",sign:"="},[n,a]=kn.useState(o),[h,p]=kn.useState(!1),$=r?.implicit===!0,_=z=>{if(!z)return"";let B=String(z);return $?(B=B.replace(/(\d)\s*\*\s*([a-zA-Z])/g,"$1$2"),B=B.replace(/\b1([a-zA-Z])/g,"$1"),B=B.replace(/\*/g,"\\times ")):B=B.replace(/\*/g,"\\times "),B},T=z=>z==="*"?"\\times":z==="/"?"\\div":z;kn.useEffect(()=>{if(r&&r.lastOp){p(!0);const z=setTimeout(()=>{p(!1),a(r)},2500);return()=>clearTimeout(z)}else r&&a(r)},[r]);let E=_(n.lhs),w=_(n.rhs);const A=String(n.sign||"=");if(h&&r.lastOp){const z=_(r.lastOp.val),B=`{\\color{#e74c3c} \\quad ${T(r.lastOp.op)} \\; ${z}}`;E=`${E} ${B}`,w=`${w} ${B}`}return _e.jsxs("div",{className:"w-full h-full bg-white flex flex-col justify-center items-center font-sans relative overflow-hidden",children:[_e.jsx("div",{className:"w-full overflow-x-auto flex justify-center p-4 custom-scrollbar",children:_e.jsxs("div",{className:"flex items-center gap-4 text-3xl md:text-4xl text-slate-700 animate-in fade-in duration-500 whitespace-nowrap",children:[_e.jsx("div",{className:"bg-slate-50 px-6 py-4 rounded-2xl border-b-4 border-slate-200 shadow-sm min-w-[120px] text-center flex items-center justify-center",children:E?_e.jsx(B6.InlineMath,{math:E}):_e.jsx("span",{className:"text-slate-300 text-2xl",children:"?"})}),_e.jsx("div",{className:"text-slate-400 font-bold text-2xl",children:_e.jsx(B6.InlineMath,{math:A})}),_e.jsx("div",{className:"bg-slate-50 px-6 py-4 rounded-2xl border-b-4 border-slate-200 shadow-sm min-w-[120px] text-center flex items-center justify-center",children:w?_e.jsx(B6.InlineMath,{math:w}):_e.jsx("span",{className:"text-slate-300 text-2xl",children:"?"})})]})}),_e.jsx("div",{className:"mt-8 text-slate-400 italic text-sm font-medium h-6",children:h?"Calcul en cours...":"En attente d'instructions"})]})}var v5={exports:{}},Ub=v5.exports,u8;function Hb(){return u8||(u8=1,(function(r){var o=(function(n){var a="1.1.13",h=new Ci,p=n.bigInt,$=n.bigDec;$.set({precision:250});var _={},T=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083],E={},w={callPeekers:!1,init_primes:1e3,exclude:[],suppress_errors:!1,PARSE2NUMBER:!1,SAFE:!1,IMAGINARY:"i",FUNCTION_MODULES:[Math],ALLOW_CHARS:[""],USE_MULTICHARACTER_VARS:!0,POWER_OPERATOR:"^",VALIDATION_REGEX:/^[a-z_ABEZHIKMNoOPTX][0-9a-z_ABEZHIKMNoOPTX]*$/i,IMPLIED_MULTIPLICATION_REGEX:/([\+\-\/\*]*[0-9]+)([a-z_ABEZHIKMNoOPTX]+[\+\-\/\*]*)/gi,ALIASES:{:"pi","":"Infinity"},POSITIVE_MULTIPLIERS:!1,CACHE:{},SILENCE_WARNINGS:!1,PRECISION:21,EXPRESSION_DECP:19,DEFAULT_DECP:16,VECTOR:"vector",PARENTHESIS:"parens",SQRT:"sqrt",ABS:"abs",FACTORIAL:"factorial",DOUBLEFACTORIAL:"dfactorial",LONG_PI:"3.14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196",LONG_E:"2.71828182845904523536028747135266249775724709369995957496696762772407663035354759457138217852516642742746639193200305992181741359662904357290033429526059563073813232862794349076323382988075319525101901",PI:Math.PI,E:Math.E,LOG:"log",LOG10:"log10",LOG10_LATEX:"log_{10}",MAX_EXP:2e5,SCIENTIFIC_MAX_DECIMAL_PLACES:14,SCIENTIFIC_IGNORE_ZERO_EXPONENTS:!0};(function(){w.CACHE.roots={};for(var d=40,k=40,D=2;D<=d;D++)for(var H=2;H<=k;H++){var re=p(D).pow(H);w.CACHE.roots[re+"-"+H]=D}})();var A=_.N=1,z=_.P=2,B=_.S=3,Z=_.EX=4,ce=_.FN=5,oe=_.PL=6,j=_.CB=7,ie=_.CP=8,be=w.CONST_HASH="#",Ie=w.PARENTHESIS,Ge=w.SQRT,Te=w.ABS,We=w.FACTORIAL,lt=w.DOUBLEFACTORIAL,Je=[],Xe={},Pt=[],He=[],Lt=function(d,k){if(!w.suppress_errors)throw k?new k(d):new Error(d)},yt=function(d){var k=function(D){this.name=d,this.message=D!==void 0?D:"";var H=new Error(this.message);H.name=this.name,this.stack=H.stack};return k.prototype=Object.create(Error.prototype),k},rt=function(d){return Pt.indexOf(d)!==-1},Ze=function(d){for(var k=d[0],D=1,H=d.length;D<H;D++)if(!d[D].equals(k))return!1;return!0},$t=function(d){He.push(d),w.SHOW_WARNINGS&&console&&console.warn&&console.warn(d)},ft=function(d,k){if(k=k||"variable",w.ALLOW_CHARS.indexOf(d)===-1){var D=w.VALIDATION_REGEX;if(!D.test(d))throw new wn(d+" is not a valid "+k+" name")}},It=function(d){var k=Math.sign(d);if(d=Math.abs(d),/\d+\.?\d*e[\+\-]*\d+/i.test(d)){var D="0",H=String(d).toLowerCase().split("e"),re=H.pop(),he=Math.abs(re),Ae=re/he,ge=H[0].split(".");if(Ae===-1)he=he-ge[0].length,he<0?d=ge[0].slice(0,he)+"."+ge[0].slice(he)+(ge.length===2?ge[1]:""):d=D+"."+new Array(he+1).join(D)+ge.join("");else{var pt=ge[1];pt&&(he=he-pt.length),he<0?d=ge[0]+pt.slice(0,he)+"."+pt.slice(he):d=ge.join("")+new Array(he+1).join(D)}}return k<0?"-"+d:d},le=function(d){for(var k=Math.floor(Math.sqrt(d)),D=2;D<=k;D++)if(d%D===0)return!1;return!0},Be=function(d,k){var D={};return D[d]=k,D},ct=function(d){return/^\d+\.?\d*$/.test(d)},ke=function(d){for(var k=0;k<d.length;k++)if(!ct(d[k]))return!1;return!0},Zt=function(d){return Ot(d)?Zt(d.multiplier.toDecimal()):d%1!==0},Ot=function(d){return d instanceof fe},sn=function(d){return d instanceof oi},yn=function(d,k,D){if(D=D||{c:[],add:function(ge){this.c.indexOf(ge)===-1&&isNaN(ge)&&this.c.push(ge)}},Ot(d)){var H=d.group,re=d.previousGroup;if(H===Z&&yn(d.power,k,D),H===ie||H===j||re===ie||re===j)for(var he in d.symbols)yn(d.symbols[he],k,D);else if(H===B||re===B)d.value==="e"||d.value==="pi"||d.value===w.IMAGINARY||D.add(d.value);else if(H===oe||re===oe)yn(Ce(d.symbols),k,D);else if(H===Z)isNaN(d.value)||D.add(d.value),yn(d.power,k,D);else if(H===ce&&!k)for(var Ae=0;Ae<d.args.length;Ae++)yn(d.args[Ae],k,D)}return D.c.sort()},hr=function(d,k){for(var D=new fe(0),H=0;H<d.length;H++){var re=d[H];D=h.add(D,Ot(re)?re:h.parse(re))}return k?Number(D):D},Yn=function(d,k){d=h.expand(d),k=k||{};var D=function(H,re){k[H]||(k[H]=new fe(0)),k[H]=h.add(k[H],re.clone())};return d.each(function(H){if(H.isConstant("all"))D("constants",H);else if(H.group===B)D(H.value,H);else if(H.group===ce&&(H.fname===Te||H.fname===""))Yn(H.args[0]);else{if(H.group===Z||H.group===ce)throw new Error("Unable to separate. Term cannot be a function!");D(yn(H).join(" "),H)}}),k},an=function(d,k){k=k||d.length;for(var D=0;D<k;D++){var H=d[D];H||(d[D]=new fe(0))}return d},Xn=function(d){return d instanceof Lr},dt=function(d){return d instanceof $n},tn=function(d){return d instanceof tr},Wr=function(d){return d.group===A||d.group===z},Zn=function(d){return d.group===B&&d.multiplier.equals(1)&&d.power.equals(1)},pr=function(d){return Array.isArray(d)},on=function(d){return/^[-+]?\d+e?\+?\d*$/gim.test(d.toString())},Ei=function(d){return Ot(d)&&(d=d.multiplier),d.lessThan(0)},Fi=function(d){return d&&String(d)},Qn=function(d){return"("+d+")"},ss=function(d,k,D,H){return d.substr(0,k)+H+d.substr(D,d.length)},yi=function(d){return d!==void 0&&d.custom},sr=function(d,k){return d<0==k<0},Vn=function(){var d=[].slice.call(arguments),k=d.shift(),D=k.replace(/{(\d+)}/g,function(H,re){var he=d[re];return typeof he=="function"?he():he});return D},U=function(d,k,D){var H=[];D=D||1;for(var re=d;re<=k;re++)H.push(re*D);return H},ne=Object.keys,Ce=function(d,k,D){for(var H in d)break;return k?H:D?{key:H,obj:d[H]}:d[H]},Le=function(d,k,D){for(var H=5,re={},he,Ae=0;Ae<D.length;Ae++)re[D[Ae]]=new fe(Math.floor(Math.random()*H)+1);return Sr("PARSE2NUMBER",function(){he=h.parse(d,re).equals(h.parse(k,re))}),he},tt=function(d,k,D){return ft(d),rt(d)?null:(k=k||yn(h.parse(D)),h.functions[d]=[h.mapped_function,k.length,{name:d,params:k,body:D}],D)},Qe=function(d){return Math.max.apply(void 0,d)},Ct=function(d){return Math.min.apply(void 0,d)},kt=function(d,k){if(d.sort(),k.sort(),d.length===k.length){for(var D=0;D<d.length;D++)if(d[D]!==k[D])return!1;return!0}return!1},N=function(d){for(var k=[],D=d.length,H=0;H<D;H++)k[H]=d[H].clone();return k},ue=function(d,k){k=k||20;var D=[],H,re,he;D.push(d[0]);for(var Ae=0;Ae<d.length-1;Ae++){H=d[Ae],re=d[Ae+1]-H,he=re/k;for(var ge=0;ge<k;ge++)H+=he,D.push(H)}return D},De=function(d){var k,D;if(d.group===ce&&d.fname===""?(k=fe.unwrapPARENS(h.parse(d).toLinear()),D=h.parse(d.power)):d.group===z&&(k=h.parse(d.value),D=h.parse(d.power)),k&&D&&k.group===A&&D.group===A&&k.multiplier.isNegative()){for(var H=[],re=fe.toPolarFormArray(L(d)),he=re[0],Ae=h.arg(k),ge=D.multiplier.den.toString(),pt=D.multiplier.num.toString(),At="(({0})^({1})*(cos({3})+({2})*sin({3})))^({4})",Tt=0;Tt<ge;Tt++){var hn=L(h.parse(Vn("(({0})+2*pi*({1}))/({2})",Ae,Tt,ge))).multiplier.toDecimal();H.push(L(h.parse(Vn(At,he,ge,w.IMAGINARY,hn,pt))))}return Lr.fromArray(H)}else if(d.isConstant(!0,!0)){var qt=d.sign(),Ae=L(d.abs()),nn=h.sqrt(Ae),H=[nn.clone(),nn.negate()];qt<0&&(H=H.map(function(zt){return h.multiply(zt,fe.imaginary())}))}else H=[h.parse(d)];return Lr.fromArray(H)},Re=function(d,k){for(var D=d.length,H=[],re=0;re<d.length;re++)H.push([d[re],k[re]]);H.sort(function(ge,pt){return ge[0]-pt[0]});var he=[],Ae=[];for(re=0;re<D;re++)he.push(H[re][0]),Ae.push(H[re][1]);return[he,Ae]},Dt=function(d,k,D){k=String(k);var H,re,he,Ae;if(d.group===ie){var ge=h.expand(d.clone()).stripVar(k);H=h.subtract(d.clone(),ge.clone()),Ae=ge}else H=d.clone();return re=H.stripVar(k),he=h.divide(H.clone(),re.clone()),Ae=Ae||new fe(0),D?{a:re,x:he,ax:H,b:Ae}:[re,he,H,Ae]},Cn=function(d,k){return on(d)?d>=Number.MAX_VALUE?d.toString():Number(d):(k=typeof k>"u"?14:k,Math.round(d*Math.pow(10,k))/Math.pow(10,k))},Qr=function(d){for(var k="u",D=k,H=0,re=yn(d);!(Pt.indexOf(D)===-1&&re.indexOf(D)===-1);)D=k+H++;for(var he=0,Ae=Pt.length;he<=Ae;he++)if(!Pt[he]){Pt[he]=D;break}return D},ds=function(d){var k=Pt.indexOf(d);k!==-1&&(Pt[k]=void 0)},fs=function(d,k){if(pr(d))for(var D=d.length,H=0;H<D;H++)k.call(d,H);else for(var re in d)d.hasOwnProperty(re)&&k.call(d,re)},G=function(d){return d%2===0},$e=function(d){return 1/(d%1)%2===0},Pe=function(d){for(var k=d.length,D=[],H=0;H<k;H++){var re=d[H];D.indexOf(re)===-1&&D.push(re)}return D},et=function(d){for(var k=yn(d[0],null,null),D=1,H=d.length;D<H;D++)k=k.concat(yn(d[D]));return k=Pe(k).sort(),k},Ft=function(d,k){var D=typeof k;(D!=="function"||D==="undefined")&&(k=function(pt,At){return pt===At});for(var H=[];d.length;){var re=d[0];if(d.length===1){H.push(re);break}var he=[];H.push(re);for(var Ae=1;Ae<d.length;Ae++){var ge=d[Ae];k(re,ge)||he.push(ge)}d=he}return H},dn=function(d){var k=function(D){Pt.indexOf(D)===-1&&Pt.push(D)};typeof d=="string"?k(d):fs(d,function(D){k(D)})},Hn=function(d,k){var D;return pr(d)?D=d.splice(k,1)[0]:(D=d[k],delete d[k]),D},Sr=function(d,k,D,H){var re=w[d];w[d]=D===void 0?!0:!!D;var he=k.call(H);return w[d]=re,he},Ml=function(){var d={};for(var k in h.functions)d[k]=h.functions[k][0];return d},To=function(d){return[].slice.call(d)},vr=function(d,k,D){var H=[];d.each(function(he){if(he.contains(k))var Ae=he.stripVar(k),ge=h.divide(he.clone(),Ae.clone()),pt=ge.power.toDecimal();else Ae=he,pt=0;var At=H[pt];H[pt]=At?h.add(At,Ae):Ae},!0);for(var re=0;re<H.length;re++)H[re]||(H[re]=new fe(0));return H},L=function(d,k){return Sr("PARSE2NUMBER",function(){return h.parse(d,k)},!0)},W=function(d){if(pr(d)){for(var k=new Lr([]),D=0;D<d.length;D++)k.elements.push(W(d[D]));return k}return Ot(d)?d:h.parse(d)},Jt=function(d){for(var k=T[T.length-1]||2,D=k;D<d;D++)le(D)&&T.push(D)},x=function(d){for(var k=0;k<d.length;k++)if(d[k].group!==A)return!1;return!0},P=function(d){for(var k=0;k<d.length;k++)if(!(d[k].isPi()||d[k].isE())&&!d[k].isConstant(!0))return!1;return!0},K=function(d,k,D){(k.isComposite()&&!d.isComposite()||k.isLinear()&&!d.isLinear())&&([d,k]=[k,d]);var H=new fe(0);return d.isLinear()?d.each(function(re){if(k.isComposite())k.isLinear()?k.each(function(Ae){var ge=h.multiply(h.parse(re),h.parse(Ae)),pt=h.expand(h.parse(ge),D);H=h.add(H,pt)},!0):H=h.add(H,h.multiply(re,h.parse(k)));else{var he=h.multiply(h.parse(re),h.parse(k));H=h.add(H,h.expand(he,D))}},!0):H=h.multiply(d,k),H},Y=yt("DivisionByZero"),we=yt("ParseError"),Q=yt("UndefinedError"),Ee=yt("OutOfFunctionDomainError"),Ue=yt("MaximumIterationsReached"),Ke=yt("NerdamerTypeError"),st=yt("ParityError"),te=yt("OperatorError"),Nt=yt("OutOfRangeError"),Se=yt("DimensionError"),wn=yt("InvalidVariableNameError"),In=yt("ValueLimitExceededError"),Or=yt("NerdamerValueError"),cr=yt("SolveError"),On=yt("InfiniteLoopError"),Zi=yt("UnexpectedTokenError"),si={DivisionByZero:Y,ParseError:we,OutOfFunctionDomainError:Ee,UndefinedError:Q,MaximumIterationsReached:Ue,NerdamerTypeError:Ke,ParityError:st,OperatorError:te,OutOfRangeError:Nt,DimensionError:Se,InvalidVariableNameError:wn,ValueLimitExceededError:In,NerdamerValueError:Or,SolveError:cr,InfiniteLoopError:On,UnexpectedTokenError:Zi},fn={csc:function(d){return 1/Math.sin(d)},sec:function(d){return 1/Math.cos(d)},cot:function(d){return 1/Math.tan(d)},acsc:function(d){return Math.asin(1/d)},asec:function(d){return Math.acos(1/d)},acot:function(d){return Math.PI/2-Math.atan(d)},erf:function(d){var k=1/(1+.5*Math.abs(d)),D=1-k*Math.exp(-d*d-1.26551223+k*(1.00002368+k*(.37409196+k*(.09678418+k*(-.18628806+k*(.27886807+k*(-1.13520398+k*(1.48851587+k*(-.82215223+k*.17087277)))))))));return d>=0?D:-D},diff:function(d){var k=.001,D=function(H){return(d(H+k)-d(H-k))/(2*k)};return D},median:function(...d){d.sort(function(D,H){return D-H});var k=Math.floor(d.length/2);return d.length%2?d[k]:(d[k-1]+d[k])/2},fromContinued:function(d){for(var k=d.fractions.slice(),D=1/k.pop(),H=0,re=k.length;H<re;H++)D=1/(k.pop()+D);return d.sign*(d.whole+D)},continuedFraction:function(d,k){k=k||20;for(var D=Math.sign(d),H=Math.abs(d),re=Math.floor(H),he=H-re,Ae=0,ge=!1,pt=1e-14,At=1e7,Tt,hn,qt={whole:re,sign:D,fractions:[]};!ge&&he!==0;){if(Tt=1/he,hn=Math.floor(Tt),hn>At){var nn=fn.fromContinued(qt)-d;if(nn<=Number.EPSILON)break}qt.fractions.push(hn),he=Tt-hn,(he<=pt||Ae>=k-1)&&(ge=!0),Ae++}var Sn=qt.fractions.length-1;return qt.fractions[Sn]===1&&(qt.fractions.pop(),qt.fractions[--Sn]++),qt},bigpow:function(d,k){d instanceof Qt||(d=Qt.create(d)),k instanceof Qt||(k=Qt.create(k));var D=new Qt(0);if(k.isInteger())D.num=d.num.pow(k.toString()),D.den=d.den.pow(k.toString());else{var H=Qt.create(Math.pow(d.num,k.num)),re=Qt.create(Math.pow(d.den,k.num));D.num=fn.nthroot(H,k.den.toString()),D.den=fn.nthroot(re,k.den)}return D},gamma:function(d){var k=7,D=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(d<.5)return Math.PI/(Math.sin(Math.PI*d)*fn.gamma(1-d));d-=1;for(var H=D[0],re=1;re<k+2;re++)H+=D[re]/(d+re);var he=d+k+.5;return Math.sqrt(2*Math.PI)*Math.pow(he,d+.5)*Math.exp(-he)*H},bigfactorial:function(d){for(var k=new p(1),D=2;D<=d;D++)k=k.times(D);return new Qt(k)},bigLog:function(d){var k=["-253631954333118718762629409109262279926288908775918712466601196032/39970093576053625963957478139049824030906352922262642968060706375","0","24553090145869607172412918483124184864289170814122579923404694986469653261608528681589949629750677407356463601998534945057511664951799678336/35422621391945757431676178435630229283255250779216421054188228659061954317501699707236864189383591478024245495110561124597124995986978302375","369017335340917140706044240090243368728616279239227943871048759140274862131699550043150713059889196223917527172547/335894053932612728969975338549993764554481173661218585876475837409922537622385232776657791604345125227005476864000","24606853025626737903121303930100462245506322607985779603220820323211395607931699126390918477501325805513849611930008427268176602460462988972957593458726734897129954728102144/17750092415977639787139561330326170936321452137635322313122938207611787444311735251389066106937796085669460151963285086542745859461943369606018450213014148175716400146484375","399073568781976806715759409052286641738926636328983929439450824555613704676637191564699164303012247386095942144825603522401740680808466858044/247958349743620302021733249049411604982786755454514947379317600613433680222511897950658049325685140346169718465773927872179874971908848116625","1468102989495846944084741146947295378041808701256909016224309866143294556551407470861354311593351276612463858816796714569499021375899793849136855085849133702029337910502448189055357182595424959360/819363879309286303497217527375463120404739098260200279520788950777458900438307356738082930586032462601215802636320993648007907724899611296693997216938989854861043298494990214825163523387600982777","5896704855274661767824574093605344871722790278354431422729640950821239030785642943033153793245906863203822369276271050164634206965056233097479117980782641839669/3030306850569309344013726745100070601277982132543905537366562638553198167007159067544789592089960911065181606283478843359856123992707598685058297067179343872000","76631772943534985713873427262830314617912556928476573358548256872141516989538374761909611879922349479420014771499018155447198112155515453671128814488139633810493264352294560043912066253026059140653027326566801398784/36852092933388988649396042883218509607503204211148493545892849595498822817623842579026942621098851631842754395231561679671400197056377380063233740202370686144673585955581403046886083948450136247134308381940165804875","3159076083816399509754948610929467278257473888282947311280653574634802580912280940686954763313882823327077171624015737719617373932318151594325834524000275847475866299387913048/1437757485694188822758304467756419845842037623148461107362957994816554782989250555362514354661961482939226272309026092009962414616417412938087494467254146002233028411865234375","22266067259907364984531611601870291368272674573653403965630628996687370994139884833897773468149149664829922302484782423514167405397665098388400450149078982462318781750661005833037235183394221496186539779712428265837926417581952/9670030144664428565128962309657100138096047028794689249320859276197340398920725569428532293373676415359965773460364494998334259893079003125373872108770534788283842907318071170285038777091588292539102269617376180390982915567375","14604654564989239958569331443385369522850975185358647132770022716433280072271007767111036877803328768910274400515590151934676819262085211828028638417329558229123989556376108454497813055/6090614019162516693013973409650613208227889078878781039105047015752493519149314227721984436973374032279421344818329285207124280297611253861173835238379831004010748379874393292231671808","1901241885407696031217292877862925220917660047127261026827869027159993239567933534052663335498281439239753018507182016153657409777749792228538380379703411298411623469292891476969894084838876001545818141543890273256985768690847587711270930688/765116019778838839812655402103512685695769161212360553099732689795578904762091216998790589926057819838537805856579109910198553330075924857419395160755642371550113347465300208422126945265887065434116781678702741657275181694851670325469434625","139459806786604751793737926146840623607010208216289543036026206208962059593900745886202214788747453279179283344350478734275973878932538430194363355795823581315329311220701640235653288975569812161436/54371368534412517053056101353618694718215711767266376573138772968257303578467926450212293233332401067673270853953399269852376592855992724934941173346260129257754416412476202526978443681584633116375","1045669091124493070709683241190022970908640501171378776604126771144008324358233819560649021940145166254659028524319517244711645162132513416238958170819347361185944945680269442845829390112062101255500836072082817820950448463314034677353723256969344/396228259004446234921310936915931611736815598535963504660076315228798989932959459406702091180060429080345146735173591749448509810270759531977278642135591672189002006272326131885315743181289970885337574780897529347356567086535505950450897216796875","9912919238915437302006264477931031611447467070103973106567538528951878797932559935860738745374437522819124347510590800370471910492338584284092534264608801221235029062881964101996762011296996851893455828946521/3660537472668264151218961634689665210933936249986285290553357254224360417386515311493310199319523687171757653216994741150377508234317025158302057758196429623723072084157928224798322861732880034847243894784000","9263710175433181746575186369318246002919895649622127410824041370079225200282403368319370743363303164313395723904510539050157032684710468364067204876434546848634842333436957245275217583248805993142227630297924119330553308466662488683624783307023014909360640/3341177182697517248552428837661919299725031035849865632511882688786226888137634168024976033652753689210700218163621739078534353578510364301481093730054725078138658805025014615651043313990684347632166030359086885561104034510990826655289288319840595753002771","5116082230713622171832327542439052727465114322479570603905499496221224653983960598946033081212909066917137546065542953865612718836914393275681318667667521726785633638189373998191090501201427906618075889744489190209584/1805752553736060443820406101277706970767657006346276183748749630179442318063568286372320188433843729960294965366346522303898609655762491623098453269916163621089005711823488749297418113474056676109581110715068124438875","246569125619713282434448566970352231845414317018379160824176638351574938993535464763890962336882760882398479702237564384291290459961036068916857265499633061660562532011248501476114401629839742058389195725393702000011860799793778295606988057303225493814005789533570432/85307063020836305797178273029353623060860009152114361453434032434699636078115114412588719432277441055049132559782203988387794711585368296817222565434951256788867244687081233632650953850383220864394261763844194948389861147622944651546912394593164406926489862036343375","133672026303452911046163998480860917119290576658330909785707604886881155606725822685088929236266583416708668502760907677019598002175122453170574729028452721476464728566191464897928696630979863154661704374206171469014225143/45398130975270785045482567762871405072140548998125471025451666500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","6041693953360002800224091673336562508913199995987479264605216252220579740134601435770085920869376641180763419907442721705887169884230643795126568815123647603047739799302562095542459344811429882053086550900803768964612193941424128649976704727183797495759082741166938351872/2016766992122395667828553277997478570503475626107286343497917705446132017125079612756035254750822860815515899557855166824523851779156336235294914777307802256439645525835223691751931866188957324792276149549076500784191791380803500156776088683900346065830066370370083309875","705868391597244582764749229356331441978820024796066870551110486625729826111158236686696326058778874201639006234449557592353247542995871491078308187261304930042019640830629526023972693107193897009168955674240659026247094657679060/231848642748474339277532000336338632910990823562381469441716922006107433404523316252618490265927265734670539384485699132080062215196462178933963957679882342083893417545858074378754089719547920901917516016346211301054206383643383","101832160604157943093944673541651013907278188571533075311673249923948856034633446617630054761681006062910980371900782781226979391765818325065031889334563981235894369036439929651260587335544056975715076598739977065390678221999918899003881778449092038750712969437519295878491018112/32944277910571666002449086492515464541550138004002141571670657643770713783329063548790202120805341989608877739811787937782240802963962520261844114327432160788193314874913687387269408387417806176202979244637915812905426565263196954203487934225589622864145960079736633434831996625","10655703119271468913597640479490594180964700448340778168715956712130636958373270202484276402718566314881119559090842449610957974112230306343486091910217340665146602598568991520563987490686996746558858366002301982443029430290679385551/3398412687366638541233365137084722368200311117891192348532156645374786104142009695796409107380345795998400850838706661851176885183144928701608654514812261697598380070746520197171576610572921007069104300695592751543563472456384512000","1903039332876763837419920240543738799531131775028971323439870868730321221615515008394327723508670975623498588291298064320786970626232668956372004004897872810230178526101184611242511193415796638694370503100219710864543168952682617801833318493436174387568067811938490953495819438108686336/598806534367503338307287246320963280558134937382149405305466709787179429317914803617527827862441615350396864359976273212272586892074799651088317544101755361439294687323233086696182687664637422796995789967075271448560870681210580691574924544896656175563265378514188341796398162841796875","525573915563826130963525826191411949262846916750432019596028344808298471293378917508549164993368392834023782480702893643486699787870059946429810070222126260200026332874480239090370088123833491499400991181659445914352500247596757005142623368/163278727324937389095822405034435687776345799835442022795533783889356344755225815267819508608559076191292900367982490827396869405536484846115955581043091229202052407483776587687967125885665493681707461345895999542381476164157058393971431375","9263815657177858787273494705338516861045771674838057329170239610953039987023429736752079544014780707408666628475997291124805562998227296677616204140605356257712022384368492575381355563976330347792504605666631512343447560301417325154003481040250148561839861837778597346623630046623751094400/2843321709948499955095590862256744532227698001408929142548057792217790532624003190447363578048562448168721539177458065482170148482375585867230123873178100117094533143052886527452665480614620123764036974180917207421482431983407742154634391264619615289225747664532332469783301704643254076601","407959339726114455622180187758753007349209016396248763075759257357925636039752474207685682218422721827857994768023399625060206708378433960993946156803948655098667156937949174400873748557248801874735834957795040139401560494087476967548060208243867/123780218751812156744401121690996305978134694678934447237402511116731459214498784497436358160964198336874043702652746834763131444030185151143987331404604087778514863973633941401826334750268416015224906056576641018962863645043976537664227639296000","2547676391598917379516698439971914695230548782904479778605691338364453606537643088857116141939170899135026552016969320061900926954008522781162186995856580955090548471448276736878300717869625651893741316530109438876067419826217901657017506157997588944233677467357220316084583383623602865379325184/764562034757392298786420374672266498815021229519853724850874576419885380830752931701831256959159800764672605004880389358601658343203513177084389490286723240185146570925957286083025676875197029662038213216541352875570101363668917766225709569356861275434470568767077844675593176178611021135573625","186545352286463730559933346565311535598243666022232037054735807289501173444103692309735768703898330430135399033529355360391658728987379385732098960609744313878477967971557204207043802935782878745271859468248704012618254203101767841517569443555143252/55399179641621656233589820996143825959365789093262978988289445625153099592463372579496245442338653053662134699646413817866770218574795378644415019944304868289119443774932782235638737888469746745621382139263856603239588594078668393194675445556640625","664884440164786473344854955309049113269357314957985265728106924238588705533437169796551912202931185746193155801905841712503407258166135075966280435780812714252670362202091663287095423712596462690753468682634261029392794173636943978404002804413009590005984736612421172979101972556772005594499779860608/195485517776407145286424460448995460754674039560651791192647586550615878988380153730602665795647187884543361218962125172808792176382956599256188706636727418572541254480798303566840010217729386905041217793614214518363859058348249961790104618910877813067510758225302884815410347238200133693756493703875","2614957283934314904315471338485451166053664494383241929385424599389309215073267052860464009981063483440201193771607520572077231889699858482582363845275452280606276949653970992719332472370351170732899676316967244504534154616036371979031399425846100527685/761493664432749089312665480773496290658029971027686543404885407644062485746072719559288231362060149626237939029641098328278650939665665969011529293869562636656650999759724704272743235210867676873525147820749560155294022488994426729939894753293900972032","124843380518493746761140367283007507854364503961156704095198010255465940085534099747297600085903814014415830785663764373057896014399822131175202342399536439284123918855893825207202244831315575594886675813256448846863723093240955901916229136393454605455444105444987028391748121054399538064686074523506176/36022228212051654395480210378626648518430280334458144892889271272122662467638331091863215146548048144675657239846337165813938424387499358852301016926312083940212100001220180762189978024821166744964908871443681332664798940660421469519997746775275873085770018269706847741064037876137315001228315806659875","827992369063043155578730871896750570951766628472810506926098505028264552046829097082095665194000002802661600196840639204300804225352337632259980703832713031790922485730615305441309917696044954289187837653933158950774246017223571461858939407386087081525130831392/236805932823686534991153393869288530368011574665859226704279685567723830696754821658770176385138917722808377962346690757191122309876922069867472518117628639913077442806147910884267694879089753138429767401700283014143248445966474839193628309668702223994071394625","17347276886878323736540051321582548724378497839789943634071026331001588645519865992773157565595886250230140452154269197770615097377486013097979087647774513500701793885978192218455687078883766086309728287172567466406449372659680040183273634701092561727514713494914793425407149186041796935055187281744386432/4919325621804683623339606849970832094714371903709195539440424738973575902329797546592497378000858196173718145883783709223158260700365224756081275272021856393735663399552166737690038832550853145831185979094979556715294990257315369124065787473707136464772247917156232366320267601622617803514003753662109375","137984231830526866236186357461458917020538108058615632801298091031540729111527734872044790487396302545910108285921421417358113055522725197998483383380192391312304647004240060970929072498293210057120617332323445379424867965764749534125081131327565507524502163460761/38810445792642817561168950890315210470940006613819790543653745327778579787694809782601777514116858514049585074667085399925278459138508514838268321349069481334967221455722811414399738756151414906092225265355449011152267068726417045644222323488445626292574879744000","746567120547823334914136339633766098626636643449144032626270358619125402826113269699709721071135471625588981126637674402048519990010499180844665151971356149292818375448504122545400227696621572263621729512461528550588108384619064912224884465737417596190735966915167530332762203074440688676123756162572829692160/208334337057923929636884170505570363171441147899816815785150954417598643614152856767186132467069365605496210036171429712485182162940460120834349006784956522600679357307849981862006710239311750261522832996877712350330290831638640913932265004107623954913155144975252743257846945609734368518424172846119306643431","64649371728330695076928013661001819989330953381731372450140483779536126948957993261299287753791770622512248630224724990234903928056275080682537641377393210728546364176267034339221558641084730052304770498929958838997239635790469536857863963589118888238069738647239076/17903951498200212327802847425913723358452100686246224008745414214690047078122925247086521362329833307849817944645647750649290248110509395628305970523384831671737569872597295947593410067364379687588919135621621162007748635920864926867870502568935739725312687094047375","2454918942158003099688922026016393688092399295166304634317616773083386087532869193458590448918958337530406410803840837646465522656670050113548208618655070231274778592766244282964463702354872753657766121825196898916725498553882689210280080206627916046484942827487726300822318764058084323314109595329304407466188383616/674880185931325925966586583820010578979699141814417326552629206140252348822939845006845669570885271576698771404162512001549922909048916000017837898649100825976232784446638776021483802989797501705685620612986771521390439936066527738682396560462899753657942715306792783283782238662155922082005591512296007820682995125","74018558041066162916454010680594042518462756234254788158141115244349044958441521749277686851928706433556285971088455226217644009628399441967508838553345152310730562224910795446341601049647392069373970101491741830623078126344928804029524181578945586663110848142571149861/20204153620006780689923328634586091101021423979622170579036140596085566172775051595588438592742563923428900864000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","2127032036758045513335690185608563023954009095206088224487365541995326714285119384743928987635752931664240752323937321097955456543854943206092931247498833001499955456190701695430459583885125382086777607021670447795321669948733328973350279846928613949120929250312666393359442423066212311060931469017737106028339882830848/576612418511902928757340062840968526862381326698309578771238715462180282212422302261044980131594522407066369222998903808960617461164985318633518680304995784614308979881735537678182134128319596636920719106506829571072447362052319438091347699720147003209417806230149598345068078717948025207635448205253184540936478445125","35289653975561083576641954928762116897061274899517309102784750384002335187117263273488751066569234386120759866204372398611196356888479036949053282301027789530999737306501029700128744408015642211359442183943916106790666114870974212159410284751571905275610921784716184508440/9503006066880728386808143045924119024212377150217533250562188228062174064693375135306438120385877320162710918716613546077156389583384656340709638430674364232343609717735574035535102953482366914421205216675248471695111720986346092738728929878538430662191272737183832556131","102633551023964794485575491065909467125458972250222581133681080524371507544152979467328048718122409841060527545925136196267751819689935599599321090571687632103850847605493223603751038996548520557330016046032671961857623066292962260173840972332108111505971231021442896036760967107060309991355545554631003681544611731245475968/27459658121882266328752886605529964804078316737648012166874496015808620265471203512606463219297059547428855195782384236337998738233668399173746663289852416697917397644234441300570212555870401420579737973722145663287124151049692290432756231390864184491891697469874600345958989433125942336757049639797225309327019275689074625","10034393558388390065766795008210457368713365491566387292163814915435906649268119060550511145023450790393353937124495488860451123302412204483570913557762460385297770427946219119911920640306914453207097103853766023934602534502476962159682750262143380527529536498215384467975023/2667919902603322771586358077760621955455470781865624844984169443739075976572061827709528710108877015489050369589117491611045518221354793418884447632063538994046714401229510497599783726376490260140723032102883617341970952663947646017489439179953454964374887388652792446976000","248528145263843375390386172800048509380966183384567983242213959113927668429802237067505890436957693495616107089384741585283620097982859345081736730899912519273262934785992235852866637878831878448348444611412764161078458068549719800733237024285525816723480868704742804077255242682077291713092790250511567621735004237450946304/65676865669148624809340872151906045781446981664561196686217551358486802274698228825404698950974939545099727242259547145392352658637333562345477931951890984276718673618736565926663528625796412420753961231404680876558659735251469326707567479071881966875336951133475135427640218972722939427821842173216282390058040618896484375","7805448718805635696495809414501206964843262114470109146341305656318015059743127114324245035489577134938579856003956861881125856595981500593426840968087618241785931128978516340812066502964561231235073012672356530509663384739132686548934288703179479011016719045530855033205271548/2050525178024039744126592505352202216905491833360272553169520915020715464206141942151086176509423406413311520838568324134077402841030113427309725873344806030836314500267104070131451720947531994814710189000076651895520222646974590481497382830325485174899169093049299764813276375","3355325071293197839434119105039673324264765809771192815982246040415580387729382404624613875653005261578877047405365032178619450963731719777167015959920645055600439987161800547901539269321100559393048973255388860193948274255340335876890491746900991668165565729269698196233805991206691196045182214641935483083662356666996922240/876402579119117579582569839757462461050855174353108858954282915644790659429341853404829661899850841645529640454766173209897510988090318303454542547519850473808789222552969933222203420847859171250332350076509996295844203965564448154484566493395403967626596213792922784509892086361572955175655987334882030766001799867659814117","218871061991045868372866381545267589365410350294028138778572466235486397478028823720846191998825628156716190463263492304639890659254282445466806224943413446008645087186307985343574807361972238230520975439736199291019544576443791916302825193643774360055545186783819367378492631806297/56849560726416896431557940314760680962653658127458002233782028041537121216487790008085876994020812492987733987414743604239935223783349870516284048368761617736127892160849065895223288023531930411718807065209903593668117085505482007061969339237404945180379460053180570404846043136000","5008685108365226931582937964451700746853986170633433728409171904803795018146152804690759530990140552460596075588463394200510044617816085275660078502126507209302951286606953039953843685800941558212440519542602092919776366067720586295390886070120828199562643208637974347390938772070049344991272621102622931576339988103674070876518912/1293888539680354282541277646947380627241979967611883341823378331667976045287311988103163380651334828012840330710760757271860219584371109472132211215957402251594055009937397184768184517621978947384029376766290498101728971145633139541827544539988344772578184316843734267915665730981857376872622787627370859411909330227080697966353375","15388340113525711660227566446101909585796746979396093776960989868457211684028149502578116456785221720682202816140911944661051001675127262774824593420825587319436537346311831003212424497488485098543512314062112948777572038731823948224734505930748371522309451168088057190162878224801232/3954220582960831691377435160890656173654063611768428458807273708040518769541211737927975894584024448193835165167801976423275767590502552964407494549049777006346189436817215329891530811451811864579644894987864267389290848598289794977382504890216219362031324635609053075313568115234375","5099039333987561374222193551155323470675617979816941646196895589439391685938046865391119484510329634015275893520725135141878751153360264368353595348921951280561029028912953500944814771064409611917475818956659775131751121312316084465321917769679881052144364834485866477379437705913911371481828140817759401117780199246301705600020671104/1303503600297679371136943454060319958680553228879031326679449263682048703103464872914972900105569835004878963701599765030590097739639045890060548760692125546754294514068052902543220382104483822438283040090444827980927544440984823535260277595466339403795403200720622852069244768910603820007632395190204569927612348189089161551951106625","4902837141334073026145827027361937996261324349722726869116185158777439337041263482852376194988371853413467559557923410949898048139830183335197992754748294810838187068126867611615800383834975563313220497573778480109264178673389149671194149749735833378557143135481387904961537942569904075/1247045310545991266291285730016853118981099516935251861146038369985109288084420528171217942065832292739130145780833406014673689119563698528225048800794718789218267628507713621235056538202070171596177775095071513194885568843375526804796016261173388452184505503341132236719484809714335744","38114743522716832107917466438257616720476488812538316101658139632867788464381862291240727309611460187159930652186486096300862388591521625093237019662273764387591494074792574929490381910446287947994150655077877204446864004067956087975012773988833339521775463977233068498404144221045837190392670308437391686081418318624745039402145439223552/9647001083383999453668111809775451078976046488746916070976218645431946648087171586252172936600115032316383427265217993193444199863138429602138841976586190525451324093772097241349417938578878934577091671046050326087898259692917931230974174799815198493279413438192301437068820185757869608523761456160341754512329264442115351926967120404125","573695055225225727008803730767518906490704995929177617646275646884555707960986625481944101622708415415988844740028718027554452662358957933526173824325955904005404113684003841990198157072540659184995738719040024647370869010473254071681533880576462368600901824622431045529064651675640055917092/144509482511118816399089096021290587489594541280398871255876563615464628718527634679330291741479135415168539765887291789615790513527330600394937614433502341116068305347468133950204152174094704092402978083370792135432486240914953928188835819767755172666693219213868545854371103120604946200875","23876960329653589647925126180903391687666378233201794403339630995420215267415575142266707357255726330536094448314199602616026935251126469221925945960901748679919435908556550271504767784553484434363646489174587463466333864577705745452492395785557425904735048180164697040313528831173448025400634629163795223739061661461986923675833880378496/5986312408594306954013526197465608559068621248896320652512228238115589875514604632230098997609482248000888567135685167138762172475788060284232459813998201719590208742091697294562538265829954186149162974972471533202880368317237508987477069872431064075005305838801862900501819963793062041081601844759452202282545840716920793056488037109375","58168289917567723171226992383559866214094157894992327555495441698028867727845766488121900626912848698952863438654895252811583144479300382761129433911280049009362667380001406579175563745824368613319103673817094498117944856004415812877213722455299491145649879676787079744410765053845551958756701/14517067289347903655500020160671113450349743650636953726251191692074385521975132268313263723831804150872238173602847065423463131917373356798750100313145228608894881457107689499956903046984443545789053438946050974567665049237414588435796381674590098629779384355275820782532479708807512981504000","728621890568281859295409481422447012528302594365693410763821707074444799793690738137592101239862736313347273167450056625929591960610208335290882047413011571781161008296084630072829079783328937418641417642857196346026366370059522990813537731394823630207433267854616768658990289454635793326766697884798538576055949457122067828153655416688640/181030730759516991863708593747964787874073354051675597050399087612142539517308720603687322924426591889179726492403913356461908748733972707460063017057809060190437917851790767968877215795679844983288935075688219234885360839984681619084834228226744165610073685719017596630302462070188937998558312507638434329299017584329479516410907786681093","86855946923438322218622470067224691860808273886184997065663554841573982963995340977083049132518812923329423480393306918856650577072525633920456721265953575424233701929892019410099166322511413146891121248381648145391642571638857576890568882512129960291171866772665863159474602604647289052079991768/21485753507365901947528588896402264670781310878547726104482740647554738151100954835784115119035980523529677083504495839730499664052882400915208251594384038810917282207449860876251558307288700200910747338758723324686939379138206117634546981163355060740270734146780942696291669461182599512320099625","2158989152301022938148680102142188531448821359505188055264665167313418619665693092337665573150374231484840948447637297247277576415460889296724813940128955070240137590073233263168835678714131062764247434144994737610229909964847568491446606012581370840699582055341626266533733744293929658949697805855362114229666626620766245630122333733703618176/531794915405164005613733454597931482878479882704956110685223892325074211694837836221759995948610212818642789132749082430059593652854659130217225506942675608692701447738732031302987802196501895840510235161825501235133794449421919927396142470196961877376701957829921152848178076410141813926924749057304222282687697297216661687583257901415465125","139432548574396829074586704387656697097760057897628994548358619815052936481650396157428747411173567801047221928593253479330480454469358220685854351236980383914223693722868233819483137401339800304943891968050399345430243790898955416907228948287367356990263740207046902209563417267686591994743547621/34201151688775214071963206765436083445901621442002061707492082843232231754829227303539041286301398668437202547003300396162741375435703188500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","11008517174872833286150985180322584448162884832099344969609291070844193524816852920942383850580217443209402836100467940651581092350600329145627967515818684442171571156446321228596914355704205623857871497315955269266498229823278800717909321269179839084452384509142712677235552103459737790674103994445173074670347080506698168482564009465276165824768/2689223396936080856855299215659204161946704205931885125148201643087176556822542895325191478283706585400237901215485150928036895428721912118467760766508162631903585126377676412573187912443878232521444786090510891599171741773242011017926658231638022943018461086517502584854390836347781674626615709751386455292026775663545470794167629144456268750125","16108638074211260588800537540680707641986073914251424878121255234668558067988171568946079848860335948991834525552515669040163026131919804987340113244760738846884911038097907756220945883750502673899084880578229601870882631165510396775126850307838505063922101682333806284668762825609556049426829531780/3919363961344261777100658318137884299575193089462944554282218278496298610828757650104922583359642384253066896538203596057302203635134833545580869871333892935330950583664400555463557735723364497947986885146043017010159347046389604172186788902608216894094289769850517098027486468084407618748895626853","34420755849180279597302103726180110022640946692592540634353734157479505420320000324260530767186132260970572450489530034440214259559325114511265075416512316229177952140217732655405289808326341696986755141965043719344169685611217958619102774617224847284122901023774956887687026904767714958090256282893003000752947427857703259704682455375442735857024/8342030311716679826889917494957593165464748884572298173556257652389845294530325764837124998293398445804458613956489096007564811101361266196542129764287084823604897187311540561857741285793447174119667215803837719660675298308873496219385226998078648428368061868944322478384684509466965129972030932418920415308276430355882329457342937549162000252625","345888075261020004071220843714060353763382280664960929903544964118831237876694384053904571498830068831026644303797377762345709976595360421502594656308937649239978525713471393570536680412814805076323426256584504251728507416368609420882442293831684681071553766603478479006495757222912500012444787804577811/83505703731469734628961395063481893801938371516752417759131774530720075262459158384433785006689548434701904106312038822969658455364219435022841597243178757423598248565463985786213156556523685666430799283870548238467817226915680747412191245046634279766450629886904716776719219698922088211154187845632000","1061717830619177527082296723099890392273896386613997004874669053445943252046748251883532634529759169500795452576392700472771365240996842610207274128102329096619028487369622001737128463631016494371635687841733644339636164570819431573829173533941056258744442930643735587780907310433371453992062647737259587563398111688659657406089003293576961475848704/255359631537215747979895955806995352799574790340218399351168178555478073997876110889483456972687438702262017800167048243754141722496276537685853311434069991222324039005160057724073156957530106623908696241268268096879569794431919729620178375212905203484165745866913773304319069321426245521467122472046370356725530914587807274074293673038482666015625","274122944106300296738399632684955400761495830361663966466225652918683099779465438024846903286816813856490888796372134557295699980528187779624865098445756013563535339056233912394908544185885547842235097677765325396255649207317018754967666450708249125316192200151505568416495274671679500594656671785202496/65687592621976546250581560102201535533608158256953087745856906437400149205693427285162333502528793675585022025602144243543064185647792948495372442630333800126269123531636800213405254045262127593759539706750242430153456891792533267948231185296091297979933562727112487057234422009426868531651634706262125","7842680480716516803148821198697967237136721860017131244266974996267074742248599085253569637183007740566941125452215834642683053334607896723447140851344501084122965014242091312411884985569341166545074688756440728922408743841592658677792796881188604773469108807869960161395759837407978596679911066586626885830991556090978327508459276025943279064965688960/1872528612245648675720382138045071131304652050696842872529163720558126655075937845539792108048310219395746259570506175902206215101518698490144716531697689534559827422735649881381597761684154409796315455445459537515308174919488497154409643876490472215352056502193150125644288086294418253309947229151074464928874881827227706992859640236086417889990541889","5300824422251242070074569186825929119848111723012841627275830216301188228660779008353049603527567784119877706984722171178137272986345560485784907345500893648715341273841147320288851034078863843374665850852481747000237834238703248634174397792745914847774297223176674917912406659831206869442510948965571661/1261140476013707338477604677428573831791396352814802149994640617701773078174882455512668089072441176857892331468691160991310474734143842336092636848492066592397892638052212250229129355009939118431643425836944282456647571558383755315238500832868535816144280088644939696339160092963629012001958205063168000","2220223718762215584659309059880106334425515875615107369399767892051551634000614327272260081056973863669004224981561870246078120862256383581012183852291444462730018546753183156982897386563561418424093883164027305254176874653780425452987066512563140531367766900610414277825262239199580925879453806414860409441845631158680721091621460775043562065815179617536/526383206607841251253861841374779803798480623722760367843070466043030228662340154304405180907941079883976168609082254331465595267209149963786388600028701073430773581228212441424400748220833542964971495005714483235359479470452593264280645360131482713147116366500300066771223383007216182988263355451923333319170174755334598973202740108032097242475554128875","521891797109626296684891455959263713257353500867652268541535940159815152120871142196535233326890353914761242025931373491906127275561002910157909306979093246574207104081108188995072105948138299097848175016082947174156278439986705241571619793059501724269644447572323501261424770743329858038040685313621446524/123310256826873923765604825413207481739886340225713108649758575106598510022338480189649787216845041382860899099250547657534972156328080736149239332330143771138115695598493059325064119176038137294863053148618656356436332991079150723235214278848602671333076219529535123842212129829931654967367649078369140625","66086044538329677372986118727999622900471937619891337714357792768200341519193500393739322894033303245376225584865369486696276607060432449792893028061817203932068085863800494054274423512956136695211796751845295921015953538329385253280866669403169919614982155350899648626481405781514434761541281229159396787287553493046927448595964103589100429722948913403008/15562137339474350565671240515273666798063901504051979980452491653975250630723677279081058884163396938548780856293034775459223871281049026140999055923743471466471830572672766633086347312178711643724485955576579988182546105048041649947277672869613992334541438784737993706482731696809943027528882927942967419447250586964258807454003775693567366165507144866375","335377615394100148751647837967017467711612297170079949298328061159559939969228226474615711044891085626519877634842694983669611974807129333052471799687426665556738316626171408219730853872410792831871526174987402129691897433888027072807302411474690613948951673562473758814664346259109886876538510453475290967835/78715592752271462306588358880337347638000605031000575876214116610339827495261512281635361568951675037834544811575026718101166562072917855004822606752296233435017284127594847656529606648345533195437635894948829857913798336356647286032372695130461573940500785137424365840081503133157308796505622439791698116608","20090879701618729602554170716780970848925039917987945471322994867171660307998603515745066411687983450400412739285577269751603921163835619296822801840348319742203974023505186187060251544248644338412667631232247108675504629538319425769464277309915502144443973397371136256151336255138506001292355330875114245901820438821732843540725116728866301271466614762497024/4700223519410528857298732096729483544820841497820611795617923063440946097326817340637303431283005509904481323205480729806879570430868897342398783028649633951362398196137429076844504529051072393709154483678349272930361110568616112723747726853614661953537957117231900032044221535502745676310313569997665352252492568100075191900969170979460298189170486601502625","2904778979985524171206573028445379872240558084236464200857594814631031581387804621371822074061289363372523364167184697785570324832815972970658633551879143187709707164796663015180877412717910872234647704536817108676736661804878068078543241390828229923424191204586313620612539678930999769543756218765870513049986792/677408099044823641581658869221044375312077929976719183424865834811543737800956896926637625166844372424044003929341361734886232742770909683021563822987505236295727478159938135467975522336774471915167606673489722102077041330652185811196423400701795791669780695158730756241178262962515917389382302757366325768069625","31270155809329751863885224732454397292230969002004953832354065319735530624996254695453061851449600345977646455072512400760539747054003851289540339425848681804190284451253462663731135337775088379954403740058084949675460445909826322297817535400604180338201322667139062500269285493417563095365899631360901732684124930296643108551710704785906431324876072470231424/7269578038000504017073007978844992319987411732848567116655821196644382777088703228960020894756722675887473977480537577509061256138261063926845643360849217556370868752909531088361229374467207196928745673402380473721018157327193509586295879051411183657185176812738231456253321187419224704301236205478184115996135940848503487199394612616742961108684539794921875","432538822079707760382094121020421735679118830363764570640789368235407853152380328891350816400541189148550353337874309885334920995713154225799660601389784410911658967499100610376065640785585342035058364676314084595283850213942576431310823836792440218271879354669291052589804956435743500204185107215929849054782893113/100246574739326291035824954677502591279343311051719151327066341370995390423713403739043396503785261917771859220535505691760472395306543276314938287868734009582906895763073519374099272340577921671298878837400921045252035507925021904954445172372479744465666760762909731237634082051855588025732494461939980856983552000","1914333673689206389116942789116917579088664511118582610293383428712902211612554212779880638065888518488492298586641997844141510832940409501694726851666478650414191249534733087933879981733561565249818572204932715347752949087800778646065986244657260832234479202201129845117955957242616947361016603702640821256099895469088229339240402478576285854783063612307200/442333801076281757298117784528962837115323835962460661601905131618341609371649347131724700192551574625400701487125984359494804828935577124602622582550626336986871791407398609915208114339012374456785705161994343348351473385887949809051796407340988735853810174589261300681030826392672282630613354461927208579993042968520650313621522933214063366558703422757071","5704691626402072213006354545292364761246893919997531024861408248746241619817955824682639582830486790618668221530365426203424888737658778881721063941495350237419723855000515747725926735319471480027293210991869255971365522170749568996651406002311020883635577590045650037569906001924971041810547543163363976464780729932/1314240362076792592671773873754757443276256223533339004339330559325754574023619698171225777585408160438834449576526997055649849875516310105297894855264038450585295422343454458568152668980131977005808840141079502436391909349182185596381509091427752151860204235071122788499996991078935216686010888734471173124487937875","451219364084386208718456142329444023337343409261545444643031014769484085278440612677813682892926852469540118625738238137458321112005189595703619178533263706811689687213128887082197330137502064260105387500552856851972124172206996205919556553246133218441769325133725631665593372188755090094541462474970525820334385058333756591222492801647110594428922046641945259392/103648250172203340865458115839764297558925693061798169434516001775068769911768281084188883278842546791612199025413573394167639925287068809631958006622842716869211374513136766899877504136929177267362862319748507372147243911522667591375015611312165464514308451222180272935398828092646393830572838772085366567154646425598388620105539619174837489536378605144891769625","1591076564577634575701791393842535460875733974464805197283632670013516183281542903377750304419996681222758401497321278555686661981435637461350320471258386388843198706277657208526372100698700615835733712519332548607115875288787602084336341594576426630670911478276101702119972195558314357975365863803265163991961173/364433108410193393847203348728981296285742202617988970384277162225847256295865554341611171460436362780497179090329831885853324392923449579538286804729856000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","5307507148709435807261229345132535134848030343901300324623409721698217134932866488937772986386501538026693956121121771089740095760486362654754229904633476234090792827930433598453200536551779789049352131005222659995845427680686677324963223653949277037520711609343166926627713758990384011274777087968799793410506391884872456420041494598273703914689586637995139580794368/1212244290381524115082005575105703496583315188540177702780216570265159923654197746388568151706509243638302707511238539845531608313334248788980188054651601536067740709977678222790481348003085034888244447626347312094586389347535167903408519024105748523384932942441843118813819781347089702286481924493361058339731949844620763272778960860509570622673048786968660129650125","3046577098843580578619955603029073328361298436129791931304665777036152915858575282362742008136721284817899542475666054101957899858138590963789072530710775790433466847100422875906866496318804986202089528198912098377828580031852152997907433335176267300286466072997014023120087988748396598176622765923059385876855303940720/693911859077752895978833241338902695755528613729508555938416419864772385336777924892434701804078893822446727762077537955240605927550548046309823051841326355655848406646248595628715185413852040295631448250459076043816328082561248420925930431777502622148019371383254316636979070731427737764160145097293260938978413488819","155310926743873343426312607182060072939030765297630534544899230213054714482456829198485999782086944271490229412707980997432528653509945301574794242118433868747172279224118534460563400440670015323324602117517342201640016853927923976796453577048995243600967202462466681112804476672348206491490513419336308575442086511015101999847896197546900512764233674747415844045184/35278162986589659300679088538176070649273991865663041616088851923111175518405117391134863644540911005782372831496121355954470744169969774540892096320978686548284501139861783292226140413769665461494668479430833892857992401391262903582109993838728281915806394747833588629467613308837196269424421131934859079260185052081536487462257809987002198437182539441349474426375","46729591025621874782758519074451728476386657576036360734358719976400940301493939192083339293779149127132651616972817165172116269307276487158069293114860391502484125554406945249728802484128756924044633825692779783425628292959170597009935305429239702926898931975023598456207165067568919757902764815108751735753431153581849/10585868084079030838651390738371141142245086465033459640458366146849314274285871375459898014414833295804139979016362796357043372316321872357817727821559232353993714062535883074661734509440994664726425399880995133711038483607773782532430879196405793694658185175583691180757783597895616920432527125993118171361116684288000","3736372348124144720852190769710129461145889011598636925228657393934132828633132357232883470466940330848177425542748100211498184494252714616379450272611850068867816250209867530921278645286769418080018709947826876461419654782341309127709703626401211996255743831998918894661053669189312375159058718767082163156988766821194002596331826150321864927832618126580509732359424/844176851007504003627016945212023239308348428094023437269532743221937069345682900884618378849283002998220513307273333096775669556093005637615012750733216460458689282791632437851364674879152695438589692227159038555722539345972833161146108367329370564838671791241431125003401861887477969954740544092178721327724620450947646209914621007186497081420384347438812255859375","1258774755828991281578968023382624723772927642002016270484090409043454336040857926581316994594109169123354553321469500848146015719851609220423736153365139804086413284787598253618361769125996755159571523632747129480387254164008968993734442164892486441152227433281625391753702577143985047832519062595123255569172968685060844/283659859661671181526547833415653453506477950678651675193210969173130116121017723360258249430884213011988678011357458727603413521688184521573094783291496368005697481333739504490647194454695504722542014845706216224432373442438242355188461951883454664693262684873988061018976711201351382163527093784753398257094429403691625","84932063355292829988908961192574710493098897148701473172754949846455626381329456661808566365329266898990829247446356970454502007127269708487563279536825277374133681167235811080298134899629580318813382668399644553111080625918213250223197440426147821225593304993621451053135332451997633132772608233430131400186571793929377129211228689703376067763625568623535588709576320/19089978133324852910950469658566458037096027722326716800113107848115231563787455584278193954518442601810776347091253561956877155673550458955562102935555510392954425196165785410319126098393353878286400877305164869548380670204577544630353859009177051698096136470072137579698473017257397949994722015089768745013713383769765609613514021200888647472804720456494757423299627","802638881530832431828249604040579750916118423833791608589560402449036920165704012070349537114920882938466635598602387718300074733476150548724726460209016834416094317724261857969955414000155807312852092720310159572547644569797512233899495300028159721348599816083166712365215075728968005941610056018023633235372936903015771583/179951197386119079732438617407921535065140503043429174394605652913879982486051627760652197484142547447000508189455126493868229565647284332735552462525598465192073558793335913005459266977086104359621022691931002488052727597513413492393525660272900161375677499228252863529934576881596384036401784035248649026076581302370304000","25208742399375362881099811032135575360109715964024747212026245529087599633280142314962581193303683759605084995818253124445773115574470717199218828756449187055537877478033129862600982068782249943150019637186466260707552416433010545437321814115233841687700051830170191107127799355485920046505591193770164750886037885397478191534797655616745528343172318318678405576430544896/5637713398995569614196397857525646325234056219513202928587580534159596897880731043336790273040813044077153051260989730372846713618900145444802234629922717464041261370803598799826604841654608724727320798324006129524610666235998113655193642594744544226880944882342204407750193512869672849910003246504052298022468012594459974209940607450480609190841893267203392880360823875","732332637178584560220688900268566130246820235956768724845747830959547501950765063982943061181526237061809052444110437930100210105274824607344902764184151030827266142225894655531497849161692760385938786736436977268616029862577293984376170905024712952813234949508186306774257035535805330366742322777611063402455261391021097128/163377988152179636922409938163005948596822656868040662831003991395905185823836089887990201522673196719628247106777881741843786365701135555917263285268753605514812568258179391272113405920369587922702002732667842511108732068683407168090725712401954314293193572654347237716691784386690948494003094992876867763698101043701171875","22391374854299462107923583267570593886002658786775211597896252879708753450794332301142909715845151746786016535157797023153041007263258732991465037648536702217273897876864351559736449481285518249846264600935543582562018874574655740660800634883403597181876364712521253650744197321080655028374602772696770227741610874399454362583980465225235674816785988164157351243193265401728/4983275997188967758382167867656806681565521964135131710678447245984239733544941881418957694612909599261843693554043504855207170782744518943778096768859337980470219783210191765678908537645270392500777411134164918803949155037581108678968701961544979451081836872425574123683574475790997414488641534074873248802450108535183413970057319247033379016606809226547805269752123746375","21252344995592269775107236774689012760750850598567799560343535731251766780016530978663079386453430272698006977668063208502408607227544322945446079708000304179073184745623740466334127867464883762843346619853325415963062181018736410570113171387891518398846617197097407612852037905687899800932343156979591740310928257766081697645/4718515378484509142377558412184183991357747235892194234377932213613746008373918923611236346330189287336493794499188640380975364991548794341177060325509698404571318037298112293926833877103554546466055612498927474225619680186119313129604319096374924037870803554153458104225741255753314955115645304948564151765516183663634546688","76703085666560609319365659209445044957052359500745196718269665234646121134787807938680787341023203786904308047981099228357850016602203539979246579454229078497537148799349353250167621935384193502383187510928609818011142642954550330069991570983902841318203794113898871515702445720207144863877026526025447819537396146822201819435536435835285098485990260677737192230985069824/16989892821104122916312992616665764943723222199277412857053896319814438961475117951904867066845412639236790762432996309717924037467863024360211163971190006272168845197000304328480920483651558672879967350982199768255256753110375467976246339260326422891913564151453729285191351273342206198366624882195135056176502724912849575385576554208844814085228696838834665339811027625","40153831166521391225489894857551838468150576827129133168972859441122728710165233865309084872159583787083130713473702296122465319276461991457173085312407612757280915853584698420083436946976844240063731333638150599017886937783470942007376523947840104246927580254612991191040951001539641947153847776050138532219595746056076776809812/8873576113581065493273519627544307418139908640325227196912114520903505426722086265723900326735989771660987609604507503750212298754414472822477243293638486047313990878348820573874809636084574108909615044524663712495422565151340037564156235745628465172219286664653343193162657374410926171153516871765680561505768223660055617934625","200736374277835272485186523480177159453030082779872429648449412313247640312479214261681899286513818912991945046297334418102711629933437654377760028476767482162031641781499114859553677502002901248124750539270235098492377826240319766677856465093871367817683734079621359186477306173620331748496369122143019303740252461824523590096923561928354020960176605008889579578495073283712/44259440065125442964014453739391594153290923937737136823355312892557975399035370631521014554980129291582486968083228888083079118116286312583989433037097397252506140224404130371160608365777625538148303917306340620019882928744151294738308047800711028158277500317134537540772759486365658024194428796846364486187105343266398338060080611643110071184992193593643605709075927734375","488459049325494693259159444507437983381645757291858092983371672334043029615965882574409808932509285079401239403272414271652617474184321852388397021836909585659327974611273820676128650810907598106588433939541654215766888212287311943387232664417347883717203611092450971786083806323404432266197250919880225892099146722474124874256523/107455855466267410923480140898552598306699341366032095904938430084768624148829473848763761936703072253841751966906142283640379336131083461646777390874405323298406517250231389493084918065243079819898691146841695350589992171102939046740169198394671965069747042621265775948217054519855346617967866614303497258042439052681849864192000","8430374068596413768975326329313648683222744787097373111477788794692418932056901235174019333392845529821722488982447683794746518712070635063397464904489452840169472596494433874412726723065560358405027764015273789053064830528919091414531400589850704395887250756457780868677553068164933299802944396576360356896758745030955907258232257358056931680617626606715393885378887657377280/1850480358582748412767893656294669486390769246349349706200869446679212812264400876685764762211659843658541567071977813110496329850010288179702589501255367345935389050373021591572539260951149696801665953123597521983257852207280970577287472932167362521740230973547070264273850381896786822127290397075758780174083415923482640313277341120938690594859118603017930500014640169211239","58273615882491925540881784328370957720539797010816130007322211512070634295154626813477498607761260613353633996451797686143131893884559909668805628269959901044961666535533876340116728982072626875010391195372759135469446048394835148654407846242721443845351855234347422256700864370273092971804207514736924787577569355949601385705517152/12763172138328432984573837529764902730448666594097466544652830703737195804747682450548488162227364538052585484418491914323658215406327363805353540266048943197822838925184942600367647278764952826664684839953902567694832690683467635727409976388280092262839126779730168889686628630302519063225007497707028600865624133968363921915016625","2685278694947152969468407055109959900160804835228466214479525891103128459065131221736713585038130737099067040196326815283171857977706979990467444622550497565521863441617001097354649972660183038850033950647594754644997436624623325003537308428828750008305464174443210079059253920383411910911594636045517662796811001285984447671371943267419151220518726940455756833040934506414133888/586864816044968996825907488721678304211296267371936463272955488077666796280028127333229453342355554450708284934221461946991556216095213627059047984199091625921432110913096253352065238765240063555347292393427726758010888546427415276046238297382474708612526770055488323003698641493939145624184943388159614111350839555141202024991876221874110644879676602924730506882384603409121625","27700345710264347957758638741952394530538598225904772664391173119594616680996031886665218221392453628824570256438960349220263575741495285780845399187013582169907518462437966962923592601721119258663490655013419675469864809004562272799012227293974254329929404036071055528766397079743200179924243479370594973626764330855493789112414191/6040997839051213541001279276287478343874107660287651711609067205111574718442229224212245187655300348484144001298428958025052162253854676210451657425437588244676589965820312500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","80160269787574270953020489212619791839643207793889009503234879683494928396231769167082355143564723274576166638869430572977442020236299319718643894871736539109822173538266278165276591962215927816541165548699380129014840956895931285215480350321259054359835472320394089646764361802445068798451796525897304221529850133401768027469126408090577121172238802281079916258951770135485696/17444957084936455555074876721808241311651668802091828589911310253709517226715880722948267977560381436307152342821304525073651379763144281678911047276389231713860392794975453518107055568765009486973017341479560154792340888780337029481646046233967923289468141293699236815196553819373828280398488966665994092877680860643266914861837639322607761804740256920429518434353839878280875","2352816897072623416220002134476921108405735955266703519252095150412419264317091785317803024028565851487861978477208755211589867803009700996828082850796103789009194767813611798769297617674631277847910238088040257037678126316866517601388289837575778165301828137259948173292658462765645645868094197736382683775415645307647043205988394700/510973411316690313485681833991645423802776865720580280058344111363363091616558230182669376841383375321912553771027107891991318313938505988903735114191313214327683449514676737796942389784957658395806951715454372568523597420866050825822028817422805046287798054682484158011143949412956697442991898914560191411624040490122951328364833797","6403295584873165688372907494046202150046769667837790834896334486679541887567517050446119511695248926941383207478170182650927368177009669717288184903306689332746127845953193587519575304974203099873732502605739219028995266139383163062837007982999189114810534856227848568800302527760100163350814120545587074865568436789021082619398126713943637898657861949091545516403987546145915409024/1387794272010111535893205703999712437783041553900341112488641528986385462810448493444968969845352401058333929711237978223214186693177251566069419805757440174840170213159651962686467523533938145629444468366235554597245713128812532716616087753947246800626006504878203666972651384731498770435755225220796872155249202960801768048854869001310722927230237083418017482134588865244642658875","82993247683514419570466529457059660634483860665557779709153549045427987672829778520201315148149878525274005978368939092115193636113741972236218502664881450367443614971109677363668874484696543982239492409231870942414193419634675024621942196087473557914167832058111113476295926250739099284241826553737074679953551191767148712684157318697/17950946423927357725787689855263532224005643859095168852729513034456208872420513601894508438640531171097082516559962755244698695622824386001219435651555513795509616906355363573638916895074349491513539093024980575852693293474288638209680085037286354050958859425647536735341886663074581909148323105020337857959651624760873736590065664000","584891611376763781852144397260140844977346305541197362434227194779766612939978629636198589818106137319267243431810481928639442343946346034433828599323416877248326356345631611148749005937144684862502198147087702668524450709118588741606955966569427636630159793409544653944608958808602551061186799401212712216156799273254257486955348236914237644151956226336750212957092204830385441792/126256710861549838395499078249922986417488985866522660521294610280820007499099176190820291214370699289977888813109514854178180265382471972583921477022411657285850911270389720508719377071949050253246021921916685716353393018411683757067093259101151481189635423399611625009617884983318141463140199839724797412514785751549277231259345923662499623640886881048572831787168979644775390625","4743054867460856425399742072925732465660626340183690464743217147109403130730445842673866624947360862438925194786600531200056131309608642363389833474026007798643235346104937733349791667694862514383520689594596660275306247615314272223660862212527346572811422915223417783887717426641317921972456913534338708745549252254865615725859881457906376/1021840037832289788284691535543138164288462770384961802287250236519983887262771944174557087207566030730743075334169628971336358708580124427857321953981475719503574867471090607795242192417162791762511940848493176847925838738242153177311649130718886794249673254183907621449520415060660496225939963471753122766421338241291756892571824984344625","3784664074155769467702999785016514468281913375341134899878893061325465790589101335015569840325786070795267055386681356241209412947116340524588831510768864231937929260236754881829005065056310226407358204278658699999612596866156294195316867934035877283950841910726224355461522065773816109849107487214275801829843762482082803559183694631856772777313673086715631547326400170962722842240/813783281473223559981291694175087508812520505931454895884442580280342455516154674683217348039336712901850738745276445107477919518905155156380620466135946654952837573797479076027688866326359448543065305071605591497778941561986579230698384305536224430794233462949056326864499827444363206162251104552740175503996670997705423888382328014210171324376593090187604268086334796245552762333","1946671258536842642381655747294621776070051525209940130115769153666368932042152311477746728678182920842238801763565726086459485050237860693394471644023999467670017470376746609892484192072297938254898880354014176373253875722410186683852253828299669530022166361304397631667133689128358365296701757782382475692465977794960109690362462330857/417774039698408581013003883929127512062321623871486379101498968145670269174833505080260389860863417408848209525427705249526516766731427603641806256289098209429110794311660844125377702016056984573671024035213045475132134896835814746425864304907974005950155657789157496389234919107772201305672421982198984613601511388413381215220924416000","328578487723377153600821813410631465225159589727320893988991729306688663770697528156625398176929288628930496338036815910669579019719633124832162035588583242320537435554101841406566009219059042888412893352417446437227440076869427577701706713564212185163005644118869496869980925214424591264870388237079776503547314587137721633918824664946974571838634860386893404364499977966899068777016064/70382695927096628347637455030970644630942872888311870124896575877585692281624151103204551947776906510366521972834357031777287506848887607457751667816514216907338309372900327919413372044625602555866294337672022362865161523684052940126509854895320132828009551012639156341878073682501185688461720664801829933689280752623773789373199210473995823367199793407048741191786377993390965297664875","2617201476921368517857942326432090876874414269689140439151907982631768946799200744678055980827789859579196832718849393046147656447672531861353456343821196812881882023188898815179947651274131166835133965629115749368441605680383605331300030886676081418867305170012032824011912531673468215561506423833911621270680104083533917562622600478548/559567121085534865189976875600841717161617153776904752351231210970240323460800785728739412474960421770806162360125774000625035522428160837855944215417821324758873127567654244465281354654299068546570789547691342609793050301258532586131013585959164719533123826201937801986942606844854123769532447570107525081084531848318874835968017578125","636225736038986537559880265988431731529837451289737542395494683393492040808565905376235074534207026537145408562785279823547657299565440309510931336394031904920056464959974743525662459433889398003683078967642651812081450227654478095420306880762753401111260630654049389197602389949892636943971690212484981672010398108426002137114819838399222096538921225458913266993881960732663394566024064/135776510176793971074115131648637508758953050390591773574951317807919051619690313331192027871176160424663811116849856489187562728496099757910540362703888937768555824513740118941387831822900198029266206334350448626733139136083404404120210893986654422850183837974770675600952078956326317698998103770833069712616832650406225828969036781514645731022616236082175582937900731419575337473384125","266695771933124633677367149389643417608461366874310588884377151539325854547826373711099517873721616543570605935954334944030816383858485296542260152894035979141266909050267414072982042090341712035518685997484257326212454742816979806460287972757626105526907510197321350895873473656215941034605746494172316089636216915825022339855304925515685/56811706665210352283362623728191218698295056176625217939528332247537278605113496147630185544004654583441448319260578659922931798845493756189402805173037491645434052737405379674607517658118427614090338938517963215812444779184193933749520313676564187507594274551791388039139409235056119788261689087831209441779870873305232021728002651979776","3511806683161697708497547617957719390189982761002154386881580160856792742952365159764830433511949678304281539875366378131195670004345568047690216126001067194904446295336734931691743477531830892015690816210752795806120303198745685394015161323982229908105397857791180342330098240702332072396030780386362735967021055250450666535422528637737695053315137238368787607412459874094164027214953984/746741569878639983491390741637813989978804202898438708743258000150996080386381281307609038830698579358879333079215327202911977568726258527646560497079622703052765164031089590965199628534477381843079892123440214378949632707668935001371616475282883095939750704292616758568964786737752325652839226013335092148777788733453702438432279149298482004122593243860829060557386699231448957232420125","499543951252504651717279461487337168721376180441322735807713499521878076780205427598086756686061009718016175215146305489885835839673419698751530207404115002383180054704927695269921072232395828258826213554806570423602966743337801741633869267620843626804016742412046844770601322513184123515405692795346790813502805238635003099976693786012816/106032986203682550514602969462803214831559442358811656484036951559991322084935692953211120289352600484987931812632505499612220494311324679562152078883141464406938524087376964935494245010636163705698220308243980789514815579319533341929989455211613890905485981353837321342730307819060825125980500975023479813757024395422041501208805339176375","8540849722242122835873311629952985285477986765819584558233324868363310302206006773828897816547299245727087876984857726652932481899766510637403577175623031467933486823994040576431755172220921921877192006685053572215922347418846423419683723609799729359551828522978186208983138345476801247634773975311405913274552616037005854836040162212761099347518242200807692224460514057530656658616850816/1809694575992816440924165741094996511361288430727981159314194000585536832192004274726651828760263522962868944612215633976203596150606503849595633388319338251977160257979846235995654357082321611719654136058257458753105122024859078420173515189641515736029725847315662215778251370398007468665986604529263071981040014321717598469319370651877296085250322599247141397427185438573360443115234375","51377057693118720457387330519321684810411289582445982078756989158447711080414032055843805733348558621949380554029375294451303430269197115810494758213980833379214402452992657502777067850631862453239349835215260705131864911194740832694498014048717871429797341104227759557199716944554347879767916801106279081864127192611546757627038037780244683/10867246748205139797826516105458406878398263495890048637741584969144406206902037615496936724683237700974333817527350121106320991054058406504571347680049945745432432384570515723033245430148177097144850158758462968940525568041926860856763884474605057056550146491001458649244094211354153171337463406192651150028767064600270112838159624568832000","2517199821548153657910904242290029026229621935918771922146425373057248090467388430999870036608278542449661971830076845113363443421757278612394167195431759807908413353743377586893872930828548256216510734912027450642648789925142482023713336937258932978503310551945630359646777080073329099268529064437120002567758664419443374110941824106727218341795100740316967386497091058915066147604481280/531524260324016969370728057738851340792702640911631807178654723224511108065633433027773388768889035083734041289308124943130099580765995149865288328550751289346866467755881013217287175392101334538392596956248952430438673292186779006015549928829953979591250274457658042926539541422697852390294886719770034058916886894408015624288115732154492554105512936468520265305162358665491880968652687","937159485027553069020805864547349554547661693803137696125140510201297417077233061462068930061915381468160677500445535971818609631674361074587732183297775728389124966713749450996643183965795829780345678634356741756033039293590264355732129789110416943789326482663579413229893878422643110852069225671783017610387570935863228248464396615988222968188/197552642195166614912991396771845374656891854357948006221100585931656016640982345159207601253599235265353060942313995345483862152489766993442419668492877390774016299878943454249209917002169480134131612530977452579520564400124908392339263545911443803619972765231094502745980083350567509014991735227390978850048088378721210219321877150756855372125","5119346675109082499980756672052066247676641510661024682574296075659671743397880591881419516307292610449161239233139088348510165442597278965718490070997173182184417648987611422446347235659085092530927312760229499083348217392125906851921500360553758600756698605047197529446594606336369425040236883171542367713951500007600355406492128741649090501989105696576697387613035366083536629358444229248/1077349190930018641197987339365056771667455373500846354778079878558146320193384166982231171317419356136237346389570422332278447217033773023556383420372685049620361481309067017697564760747047839930422553324681218253359586320952896352245366885171583221864112040038531116947187482413031483309534553461613717398523132176948321964066833901215878133594739833910960843185464241840039390204295097875","58469980853327028628854378052548435225264353747414624620847476036979290604604988637469977624105451959796142112200285366199247075503424204044884512269071061176877225315884188402954249683107639777479663275428465242905314418930053869461904934138752031124685541853599407727446896558064252696813370692668496452783003306386669962110734257851955001481/12284458784412533668960387046583440199646081362484321078872891438551639470826582933879934711861551014258493898870867541349962531447724393381011633785884743889445407749238183080941846528000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","632694338036291086868292541736272151517212971647680989553388199374739841494700315711180961760384484042159533979873604395621016272772109619401112452105475906812313548587880899058905419220497456502543971131226430775692744506047039958551641270070996110661036371362526401525207493270590999387476275629412687473362310414634469788979236895300129227082421021999210841384596617452097273320509348159488/132710874087075221626157136110978536488168313127228703025408943153782802265472978945703742152954881438058373686972477195846162708986982742647038014147903817539418442869011995988024638278746664230046452545499722614320284478925059527086663455478374200352375121910000967044366831275681254530914306064535110528723482282501358749001657608122307686482720926189537227492041135055090784059994118192625","2022422468242151190347511883185841333968390991430363660248687284021524206079162212007263606819387821055183192871951076644707111802972354128011904720586729919826758651167984507804867954970064938022106484656560866447290934136610214175516487579122328055482392137619829739560923807880779865442016530712986750711199998190148885726144596663143651240/423528009127070458603837580844559347493775236970253513203186912091140251858605354218715508091394564000304400858761758838182654201653901408046974668599216804223721114331085507752600832390227068985693006017591304916519540245902645712532993889000048992026931475754508248265356181099817467608863068068953756055334213584649136541490530849577363647","150542201776735231618709653388506394887777837646651406023174643241783006776019388336318216053045300417086929061565868663031237502137150880313922488106751241006715449458736723129545400133450376339156062387859536289694727635468338235084533552501618659272047966040838509286942825414463511175531001410923014751124732748099355476332649458471135027773371541572374016038525336728276024676601778299264/31475618522527975728853391146702172347290819252268551219771201846701658848754300838383637247014705706066050673096278897933831272607774110183488615338021656923433335661890414740664480671162459271850877855521869741833030384682549648626038314686632195158507693321505500888988183270276134667071014075017317692121986144742473139078857816578133693776368882596780120407949076129685719314703426278875","162664351499283182546788129866259011542529017155637405328005084357078048074065548349602626724265307733005745244338982661090506394708170105916177679714664432754153795772811389612700051002336719842784098507498286260450939289109123759859710248621544296008356071415713931721102824434964336667980062728653562369697289761913925215639430496443820411811651/33956433298509232632327667206936379248172049619640091186698677954874297837764235300806836350019565970550533206216590639008637925266405524715041372407701947953283803854153876844320283735281209725651036513491246238622967031979233265136280687995181375582844780830517825595245506321879177965868747546127685256867456319112247572348416655367667187712000","27228583713734183629451808889147559240254570554044667607519238865891084165382075658707675405673276615039702916443152954157535195508033284355580742761569101934821088036084480297442018005972653124248838420021440899368869744141698556359295489470499243402799483082406238128875386939389123336303631993557844565927960009744780823166462314116039469622216263221278402673028225214534859076857413557466368/5675134787340359276387085910732530678163604187009567576895331134521132071092293139167824957253050637085885426100206370974479279292804959049999647539684766632278449357893560561608633329561385765035738071726214510832066885156767060324427330401967034889966727638276371320401053302413136551142103678412692111973028587922399670456670380189570979581674699102934733563330382821732200682163238525390625","1340937726818688387636018677960518622106989311577445614347061615417831160296369500704524022869612973331444242000788110133157689786976834913297544087249593601420972111789552905846168933014570399562460789075871112224533723259660967481288525220689577290386781169316008987012566216235876842757183233207943071523447855623001920854571597886491163165150556/279054368814522483241446594911968519760869180429079780837994812436395792594449929617293503975169489945136244602350941695478861584261665582123038340824700224583170270427163469762789603657025958695551448477050958557681299495041994050951692916032501884523150972841782658389836059236040091605838583126400660344344601879969354053137568588338096589095875","8910951660339249479517731530773509037034977353457185453617569046885132434552771722727442649095007828468878374139001808825741829728375370140505088133244952288239619141544661695065318568074863317054989982620944602245967155400712702259180443238473885690297281525960618905625084639870407113029712510345262279507055197024677292523214467306898573956604928730377318210588837126450942086527893437954864000/1851573255256476362977604759655284263358595254392797078730401113550522214182030016660458780180636930591149034499142464357511158868625309442843792189394292787657774627425816694628839987456477799348874853555586931850788645677998004186437300173080088839930384424797706381282430208961565555953254145002318893188197561315855286173276564036402546798318351229978103276843822345004757661005876638005274037","84997663352987536417038496128111159210386455419431137931308301989414462311135708114322046234708053448098538629166672456703651524480738219822858469100454933583774404032968304328859365484249897913676382909050450855222567147661842184538302991526635974158862033287154321908483007506326807469239745851379559259262425675035790574846229470041596801343087041/17634687575122715507915388096857069366146981156897230620371714518707518105157483283253374797127075689236298114335734874553183291806268149747826050838089931351158483980735336772879045027213982661634865556129548356487722537193914986994283729746578044621115589195066212043187229606921062007047940293972381121200723292297716621231320254309060321476608000","1648849257486312935416274009474520589799750757877252390543329851029437452988499485179026845292068377957697884739052491455807688429630524210823560524122596610276957537756142278585091315141096146341773982302888007751632401090642472506538817998043326415693840862261701364114923327286462650797963969289743571514890723145251583881752876340628073395708716735192690808352188867334842743895738955762067968/341580411902962140529547622267381834425264893226447658723654120920549166416114849731588552578626041597847002946105459812230979900480135423787717825697955152193526724029890829615845314765605770060975538542976523177976182401820926854406945392167140347444433885786340415437006775075196031433365827874254477351374236932624514469241634422312990555534789607377023339236417434574755566856489013828206625","4899626659231633406569362199187192352933567344960498139854460545644210119722856870634652562532083546344965166340063297647520613455037240144734014575196764021102614748218834054157165781057405100578668000290493431869797883155764963238760612333048336953434663867580862692267574574465371615023999531030446250351305046572267686566999209229202587258144318592/1013522377571209303732207048597964555261512342860326827024786500686692475697570284120359840724596444209277948648863014479460188496587721578075151793081823795161404110811480269106846359964436993190293615381593756076515012514100289406862487971220020752628653845345780766244842386136740768474703009091552043945843632199999007070800871588289737701416015625","362903847358088423032098939589019598036593525722040887883164115981767777873860799955715587436566233010543937498922435963385091400670303956612881974450548904906949032005878241638546734597308786514086678561900713741746905742866635779432216761799371793260025549698865319760786921444505323758235164807966277024031605673481480590193724980659448692487108892154809490199414370023696404259691299614147712/74959603173756091922435708504751461448318819548943586676159545028063979695880930926805574951275602951047845904770828900645717477098988124553474616764040938121171776556999069351772286262529729056288451037717198273521810585868307402693261479298923209587143468206907278220909447483738730657438961435587752873879244136801168836767273934997417156543866722171766794171623224855358640156858606843576125","8521348154958613550574095745596657249924328336262127244827955886474742319277424381360677655239017583606851483318951440691757875270001283229585075137091617073509041644097526047127618954293881264113694362598157456878784814696577083997902588926421675843291157049153701100218784481406086810264243143337016042301806376864424632290226377881206765051896745/1757584673254145109614914862134217345456065873908262753169404848658913774363650863904627183104777337461445063704655164325930891269843669860409763569362863600932267319335889540453302785099532688264425988677082044905948179153286276609910158854349711054144968131934713419772852663860893241364433872853338630216232313607969790083448433666334742108176384","1802461420562646993856730082999823508145602238125054717836501201545920604020389361370931345491160549787411668288359013059160331370751496329806488246135100776263777863399096485894306306621852596694700845918608199329091852956315870664531614358379176680326508877329862713333336188556181470928613423972314983964578645688876556351433429494008513812136152576866650152623510296911708111085518974142728903424/371238439252064016214448115231139360835481920731625321084601566992497057371416121407293286027832357816257507287295719261141426130159269433199862002841433235955835172774430690352481806933860390015899973299268361513643524088242973968537595085600335021120523852420135081643310663869327371821064862449426404044951571585406092523478861879148545678639697679215289523234342337347529225543852787599016265125","88795280670112240977945082069219541902481768504536167808816453021962616596410396813316064685579412429940019071114917828928080181638058444302439626425155946562362550070187433083541414569447612195370911498321149367969974762244140788494955146280201020345849385865084095189982291190135293114489407801749533448443222584092575861096946605418438181411489276/18262596223069549313969288693970246663726147886364354584825624311486557881239003216971630599389642752648815377795018130449384513824927138566203714891090017787258920529990523519479383032564209629983810866231367438270859421572641494420831435563580050954867101292568399107965982704216434467243223964964535464624988344342084084237484262612100980519602625","752911409358158070688133336918078236438086521781731735123294741731669530734909563155732092406099003582749182967246236657021875488130304108082404134004381196925042617909108654109138702993903561036987511410396567636331465803949049946947888490287210013788802287247422993384874670368649616782837096233384279817294778916419067404863458318451722971117669642134894906235066332205740872938406767767019265664/154635332883086377656813458754577288834216641577439356891585125701020579768315520324293435008561626926046988056302745604248220408154454267643222328696606367409715369481567213640103076112146615938180089303294709009813772509602954514391675152597458428326644988225555987883250642389550531163153338541870029415077982539614784206119074702022117790679351778993541426110436276530890609137713909149169921875","15286089077439918584953144558775765002061832952090847117286473868694909713791678395221438112006475047633028543501632631679316850512797978594476229228325228403849089079675681042224057234415951253954044235099139983386056610384489202589484570852048157272551098909455253037561994944665563291526597323199530997923272894119350512727802414680772513760081360291/3135161418037836259442831302977219750614726139657718770206960776514822107155928800694375522572523712277389679035632531727155957120566617736817225541673148354829212969778664144907503411589126111888917929495106029890532891919001138770210977012708107496187227751496980000137223047079127096028939624830654227758737339725345681745847598157538483308068864000","17723482381737693269787076798246423310802126092500438681864673375704464394105734049099094818738115345706100191580982712146882034618103161268453808819471603805345990162762722549964406042295355916458624836894291267553138041035528315839108252422478610879301656207772491548742981990469454529537049123948604931661837539943536878260665617524824604291547373872716194154198824107266275716083848262625068958720/3630091565725887087605600771358216927099748013831912080380983545872077197366172619225751217619097657405660172801849926220948413919823038425519006413005998509677472226729295278652284861834178791332630676772284971762683579047508016687969040658592436230062049051143001484384767836353233324570686249824980508520186643477313941054900197268584495128610811273834192099099592687485176400539748616360799518357","39160514032490258389003214587901781721548011632821053230881239001436341012396166857515197251499460842954863342641015306304854226194551189224721257664420778416733889030680295206179109679627522113592373938602737416822981698362363553492610842201005420727750505681358595340127099855823746410663750133019743170700888375554918213182862789028531284364877435896/8009919337434786244380818390213546866794958389603666737562053423775386173149395943310276429895991903753441584557917565343673605019989336264748588735390182130334278887642569515202100870042209261561001627386525182096090194076839370589780431326097965428311786635366819094633651297179987340498215947144870164066409654464551017761658775207392803825996394875","18188388167811476762477659006849121912679763597132233588170406666718758511478154418948855160838212151370453213943784067796172102916618102024199200086478021533171984254799008541948973652219533819511807681148179806051835318645591102296256347927018942348574774821478499092054497390790734798143983945096982240517058861467440217558586822663985584775920517755909444876443211404222400335500608733284461685888/3715278241795087610941547133490827711133909145414878217965273061493740719983191775105550559905283733134189195190321643965858771461560130864714477448011225816210219450040558581571206711791272284197614810026220745160693898421068168630870850392739817340370146186703867097982858560347971281142766235850971837330222970900661653800041795020382847588362774677568059355238174402415384788280852059532958121625","46353430636874284402376008361176880938798775506236714098123916668545331718677407145199311191108199195405139575147933283523305343027297808443653460575141799729554209181454676876263582758919969948546918471128299522715691694855904535448703118221685887195383025133924852224568922999317583667985459047407473419196367812949579858081181660610155317911318937349/9455890179897829052705408931064120820559254220394152447502395298827357144081378513080398823188243663943177539817982481713456798757563952162598464929784370305696420245648035222083207596797327498500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","13607414211126412689435920170832779523235279308039712294681570127241403406455725064605210473923965685858012114332021572088551127762628892611459785625407107300355287623761046438724706918300976102581928643740596336865698485838431972050267114940079353996100620311097561405192365496385584164725035842307146351211183443267583872067352881387294766804298681841402861626441205037637282007810811602289501477350144/2772205947240095684743358245950494400934136973845543049938212403703005150954425087866758842625041409060217562878157900197951382737615822655863548356735553650755342108183641353142157728364469706919993519071329069805875834057743793434164720370026073143626055293058601124362130539040404491770346043977106988100969901297669523170508321703496903672333781306743488573086901583022550356345156457496396749797875","23264350093315690507131500726914401771633259602904894387312742275462601574788485574913195967854009886824436237740789910851843045306673524324611130536719802717912615609109285261163220007241492964833933975789257681755002054890453747803418465119567389315754801791950553304034666399677630030683759466627797123971742061866928213780452325847848901682792886840980/4733430508316851445525799359992627142007028326865116523033957869609125212251136452396410236930025876982265915963089597825393317909648054808274488356887197933393799241941120691826916741647173843634076299630884655997401370400734954098249519111198509015387869462198674657171808841005212058822254513429836457539629035675822719720295352508916898476137111981397","538960934807826161927564251064896730663918579817797131801326848839524373936888402762331254883505157846659830555799909822861853145306547699817986010353774500545305596630924815657016569444824389893996399550343022444937690798126189162954188680257730893424775303801562327757655350002001080811866451425665301674688928515041429654624970707803336800125648742168380676815769457467038849213225206824671025803392/109517448833211208909213522579666376007937648875042608355810687327424621469323788799169718267715808580775296460944943658428295481347915131091297305260674731651980547668762317138753250458639043477453950774629862540017034566407286963562574188172753764978963685535201028286359818524519980885827473904574840285411260037264057197155527809916623487144493019982419606308144576939532055057697567269576800542875","24451481554350251656598350124163983489544445991992661049829014268366250968046589127810466483349378560701491445658725080497078590986743512397927747885285095846398852574219367580068049729894667374214861939897557930527646930793431512683750733092448862551580494245486308114129295467976874843852138144539250235632985676953662288536669286915983261820949386845806781/4962240683851186225340479316959605207278948397833849899236383273145853045488131674290332609876751222112917095096150531825255611911377071887145019702433883343849119017643117746273523770961304609989779231048095665388209125939879595509516490230961558353074751312876252070889983946768175488341370453053495319823381943793679003096504200440997908071027962806272000","166591964685609920525429719961758335887941461052357297159523350448241484106515158310298216150030768812873781356326923214637847449893575074813991141092681107583183275003570804134461187213143832123628701876041315736048451374824101256980832991214945762266748755723551899001458245164317581617731332466039757786839492869211248064662857987111284518155462148044812626055842061283907063784492325693994911811072/33765943466859756347231737285768516240749714264564410814839966011490233598006227246396923594069488496368994857718734549787000213944990695920130591750377483911116845697231074543526982580529937081378303555262933800375576494067959129682770065443667091668104132884375840812635624862495548888467575848428463895756394050252457592540570490061561616914443009224917652440212112452400106121785938739776611328125","142464729519206642943985715465196065680101634264787375740459792619754842396453535646509170066091478069799080172299369994438836484938378991283020978342879057271045033903518255546705211647900945143546293360496661466657600494787228476009216508124736254967761901224547269496682078470378676865981855568197705507111970901389105723589666709580851611656838285777566736/28839643075889294346635430272525349651555039807615358795334663734940126053968249608601725991946342449660829847322517564370606746964714098508298705743689729306507554363954348780144675937510900983622836770223945538844314468550644543502501484521561567788992156632892028591678742014134130878101553633195551605796158103033794695984958987367799607407626319024034625","380457154857422076784416625436182734840012277442496600178664323821064977485271288502806124740204295811759917468598315932331219906040253463960961995849761235911145436552991677050565022181516596464968316292789048809559129516930574340710998611088996508613850407294743457197519091160170604426002924022923388338999324182261954685794522778833029950214443271526469607532589775916381786492089432407550224137344640/76922142291839859196033215395526448408989799722090330866256930898223012427332209054699494033511478050536463051459450844520020426942553107946282832072826069342120835351421637970462054707566481086202287686453371483126873188020538661871147778312986131920021929455276187425940666580158173676284545586944833678819622895550345083175685846944633982680908505900099388037050135210936852210263717185637166725605577","79999800708369666670693340813609265988600461251844239982904928629083975986385235816587497657678297663151298709076884516168798694292862559083730259839524968813932151813233366175091317046758260934357096757322369138747731224414176608247605314668045838769433811781490030635374856042786947109101585097035794969502111354126773165391577217071956928171336060247633607/16154850265413610119312596299635391433380319311682208755390341659152160578366244774029302281068833963848811596545791104919556346810193385001196395489740571188884873246131813864782581356887110499639544662322008824704830818136660544673293865921754569356583698951612797219776290835161780326945625621758204931298948625885081325268123344406261740843197232316416000","26517014004241498798848003208133111307300592620947908933072661812816683085261359696887064436611747292468717739609776825664344064024535028242737616786238200200498291226984541942836459188328346609549239724653950302145388877472274074665166631509490297630344351573245265440164082334092997307729007429218385933622623935704482371360985836659823269511115937443161532987660855490906546130131716829909388620539153152/5348257529530073524280989257577050878033239486885664777340947102417077875628238501791711336803418503616042922880218860266611595594400020206192599559925169589023339295256084579966533260861249529670141854632965231468533448709363477120437277477668173149958267956654411822360053335695956270719680086524322530514249891157439878407417971839744392044064720476417844056346174795601710447583861127956455406902139625","71197348290771978405602732839537012310626009318133570890482364371056186523989330157966045289127980687764218363064941391483781008265266963537623770685390148810455244349859354857421474277963009857011653865476081389968122418691934354122230780300833008753686234433642072919923583176333668289998661499146617277981691372057042930131717336250309680764289256080895092/14342680993892886303954853579883363225921109635079605392320944523109187641283117181461662846411912306480691901515655220490850586434947504504317080144378185989596578890875561336496479576651516902048606328604696610314441229321219627021610788398730173161473456954861916116391687748151443335513249810808309201830214153565966339609616397865465842187404632568359375","342401018754023891059352629509715357053454506037284788725127073168445189422181540408896452651232759821766616850264122591225331120588918865882061344322996688880669665450231982002597398732201789017495427566260651180470635467002453249479483900268320570004293679361696197905823690145326531180324429318916092471863347575533714871355651558610515931373080997536792242278529575700808878786732127630024064418468916608/68894647682461956089382461406499759613691148650738957016015844830333168307020284281532026442272618372290646283794122772122665531108484704223311663270836645399554940741928358317884620420886609705267248656765357348477857852684140561714900614303731786621656041881975328169543884661780531057279582784036689401206706069028229798913082362331334839997133771880514515972024899408556517159759907883793675672065360125","190286571838805495686895463752492174798162827967490343625540320679760700551286395956241059969689020885714190883323266375067607282890063444652926151862650426323339187596278760962390404656342309737428214493422028545912504503974763216230927196187743439226243880933947417760147785405444976177822143722569696182520826218120595298059020305548681823408268556482981325/38242608291912408815838081993045123864617058390583394828737640036167893859507494091864963383596867701436244007905770284939991912884465101575490548813894148831966132970730263562113961685364216989999844961688441914455435934703797359360780356482629495214859917249465567846934284121032247250332634283689409883499295469118485912489058982596725212975311140618764288","15345379701153714436938289567639102307887273898834051456693981514956329731572600026866162286097662958712922836383881840211072389867463987895894067288699955858337488812343674818565432780224654423872618380928462939482247900055572079914753652915184313685270722583926261499687728814560680092231526501970431280783177357735398580700300402036873780385926225005561766822479878280891130232036389707452005183370152749056/3080426623087819678602049171756961824196425548529619576972793653585089380165862889092832375934535464160425580449193072125955685099151500755278763306599307218302635233595329082702148677300945556130106197481236122437978375963261172524503625593066102601042060541617791008722569799735202779005407381267021641545644264334109052258081225159748043792288699674153722046659880085850980843460715080965607434114275256125","36443601662144279337033484452272105547257065463167427418525882851507989449375452076227652634440476502702584889057376829320548464677623038648843251719168810701744338735202853412651160681259533015293997501525430222870696235141468274274064390273214484922080219643095978640300874086585386991338440415203863901714217818222666715642467237183267303214471854472286478344/7307237990148312451155090506264642657872224684879860008436735430879314349554023096366846856470375025555139219961666754780864835035902856314981482268319886395881809659368275720375576152008289949085453326722156553603358879420820012964006978808113307340321824660484441618487292138631579616351777191144073820686595597986548374588839763719082323114663844043046087375","1575294930860663922843149113097927168024893739962464327016763741314068438447271326302129681931564068796631337571133444163024224071270063174829664848259482066723104251718808936762938249028582992557822551950212098797718627418782376027133576209718376784834456568694813577764300716139817031545408608110880973380162736536313173329973171844528083756524804574267826691156368696436273087171467254161930265910972517504/315498546654512047637461608750018349421492986465373840347519942494904200733840189483934245529561231604050629653992944140351106887747105945984325466452136415067807666316202346895657914393512001212656936450425268507235863153258769360296536050028695266363553141327896064944506216017933135251875087069031098099192325817395958019524956320840925176589616439477134480262100237057953933117460110224783420562744140625","7692057599553133417225997786980128299372439542315125030077404519679450372805989755158000864378924877036225189784045171045139667691524763609840822628706422918926410377185494048355128046783294954373197082851501927410350313585640237550107070936498164597231431242858771457898152684298047446530220873884022213114819556822050178579707210264243087257050468000092842761/1538814487241112760739561704846381585063002784795057066438330325566843108114787083741788078680861495340026117682606689156065008672344707615420501964123121620401073675430690541617930520947170306763541251152854304975131871537939618684186766168376514664494488691311397307418298556185724993104760692216619178358268934740746932420562664234738576394742559349407744000","15190836470550557926140012263310230378455340797095100474720776113765300081463960235506950799869073894127884189857505951314428810423734978025409205413789025720642609035117121385453856877706229778165533034683130064865256448444765902482146676668197546098809055341050873494446231793312407516463576380102073171090898973046611572020564659042146465345334273595086941562425006763960197801018796906114925005810069684480/3035556598829526968124942916297025416522606357010637652635799096498208643970273828496655227572100159414352020909846298817521082538898702393916708804775798552206401718323929157863173504795127180177622667376867235806208021329981136637175570409791442328468473111768140746895005561471574356889047981458002257872092408771959478275534098789982899056118498417649167444480913552548249005268380838457505944462494874581","2923754549090941424546974281011770689534961442264350984393235983189168024079617848190236639328676436485460311093391982825027512234467853098757486086492333410753919927528867817406389678461354257841007722472106464785557179844602277350411593959136520732862935740433163383885526249897183805981219416420390137516812715245569037561966929572448247077578419534651990827044/583599691615378545100950777601104007812792435102945248411439102112424251478512952087517463400054567832353967731887062349496616445419782499817548928078665212077449420216892583997505908858360011413290038645573504472422610780073975450391707084016931661068694024023083417126286468909117254531307085545768412513447197205482285022417611018126886491416133665625891075125","441922815213568908489589193556560586318864326425397702047965372289295962228254658331201274291697626694859414786292266008476137667843874780506886929181835469302142365772763129838217316953835831059616268288399119642314758261677639945004547833810080700127847214666763863338091523753898362699222880772298183760217731228628442782431573977490761665091005756534420789258276075174436091798475838370152192077494553263232/88113527373573049332749294663402406454524640221866407165839162576979477138694653404281889227416977618913249275712917582743426231744980461918772793673202077716234026090308791893409200158969108910565467273725064769890443408324386897017825489615600787634985397885230455168591240328585041836771921929567914891379235573982442311269392541694564675053636078990836491104116280492254795616055818375774141667319774630875","91197133767962483852278456285591810579974783077874307589555559715577599604626819245000672929518645004771085106770784762994476973842713035791487204122653245797126906189270204029735872508462106527240320932458036231707311992868347221176460407003487373754014365881209649632547685657666691589606571865740595829983849941049450471212387808617247938941417000965198123059467/18163679611214677813643455199979098261849405189805364986036911945012016248297645596270602508015864371788974684317239728239847888960155365342460843559658233069613218442910226128113196984801126248862273503232000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","733396724434554481470656964167233690851279923085197144879644750437402627936723531635898542414136943003236478432848965516925891956615111678444586384493883113385335463639674699443808084827715994137410743992130712903997815471369201406683862985677774155704267039224546352414417632475628136460919900347977754644214725932476856018335195927604771408949980634142255497812566866795799230501026066145434755838336990365184/145912495644159810313026420025053989609942265686388630266226856650796088768164358961644113076809511566125145395699271530802891523741636707532676065833327082092521989958971154798465784847092870457944857590623097781956884297103961713362268264159015928554707158239398721416218953003215109202771651993622244788505649098445109438104466256408060944298437033058380804126574878377874459371251056800895394904459469832875","167606423853658713615749101123336326908381619586838606922565378505211386185130407423587264776519589295420758009764678759213587906216543160801059029133457062067529468464636376639307690657945597847080706144898920305379653754920571797771178341550808041652360635584401789901525709166172283390177673009483341826911179861584213314395893323035527116283758445038413646757280/33310364848744488727470761889861069993071965180756187311178124887286133554324042422503263994717993129539448310743598138364172889305532401505890384806078790034557049074169245078416704866867380089103064821732673967120808611636618526737138435792818828990403374766228037003927569643972203993263329403469747342204808360947840103843317533210523853631711601450617095736473","22466735478643771803624909352181817912387732117378538284107485621001246177152644141853604633676939694208131243081227668237716194316732125445041260568403752325416203858329469477774720998849334961751541191761521224644520742691981372782009394826739249604257098248751626957528543558542443122470657230835176462612530464044652140581367666271771882198747182114685116336512604038833327707163107207664705120728068987996560512/4460342260599110071819142535903990817893424192972341872394014748315090430999224107274777695306032783105944721337053156074851240201179902835353097683269298594190456286888326067932777720561181760369783486872666974623910515795208353605697065447942804414120030678603538761538385793829787734830129764152263691296719726909633580318897787729004972323599773548689272008712427926734258913271101899780538635213826239542884125","1972862002066252798837977155272535342727415329632252213508267781390870646909686724955861608046325765650407340102472833428905279473185818898693854344138403744757857928883601637909604082588338869612221777263582365745419719805587946558326048087138197694016224613118304623864709183681172362693106460535117459192992832969130895829916210933710820035479169562970982784580861/391262854245936198649509275719624152305206807261382621390946060636032376057385723427601113233050260359684153963520782285097664628279596618521963444574543409076428660874564026651742234728997339844161514273669735686516761239076529088145208958938384732800586298943281728435207452253170935715239392534815683367114290676180839217919539381651841151674859715992309727232000","25408691426286653276004556426513401767718328640048945917745783225459709487487356095164164652218100925888847689099153320777389381851598236046402124684511968385325107497047025485302333503075085562533472482645023963717347867696861885363417595298751490212495932766872748125111115039311507374363000062513977436921772096443948159289707996749061007112458126301618769295162649600673247799961118662602756889448152517364992/5033870770817104909025512331238419776407331281944565644457345507262881100618908405924951559853352841154730802006750688581603270849880756026262217651685813584900300357685874044482329601894134443542753690048962260914642678445058891387041919581376195543193199307524572671344323361282633828144708683536721118910549933336800461248338059209853766305058943888965279863852107507075916981165164543199352920055389404296875","616565940481577765011174617619124841631603944267256178093555235591208387588894068005162766513720546626399308168923904625210748051788652328072241494243040185611373035059619136712559505023703153194815611268503291295059648269772663939137446253437248541496631852986499688052678961495116210133458596866684413931188348798244969797973846568160999564540652111599082181871436/122025682149627484528651507368051367620578469392233875493556828623437869650284356703295836998178256875766319508797903923638967073687991229708051285605187358616531926112736402511567721889845693991963610192161413692928378708223712791930113386840109729368772998347036090902364801014045328348830748307179590755723160142468563977011700764517880467116766150322736003147125","979882056834583241477188686550561625289337025747787132773853690143359657519481397575561812727394470125172272246774578404543257210124412718725081536309818383310896102958167337333430555168671327992395916735022711297435263157670501117734412587691271084981140167017421900852550822579410636184333142944411060788723653596377015359036101170054828623669169047118551010102258802465554033173968468183492058271365801755986560/193732066620504775981759812703028757608600125742477178751189607602983198559778039141192492589734277739017909889924488699372940787977794555519474807920198944109549023547259912324279741006975129518191081373554817584214941629021088206977532599055014150433581544599721903881284581257812850697423350805715586436114842183295730680490110793225514602133304729484547181740290534056445482186430729398701311563285494964645419","1138059441890428903336718712159907364975959482163004276901676063186939296217569849990951930955270849692775077813359573394435924934540269310629731801376134549169322946310756738187834128956671195358413024062230774111935109203207768898525882417078119314003162592087920755572050993355843681931139257303484526223461840939880759908449181135029327442039666513325916729112853/224777393704985303260433439401503507705148576727364388720387174977154204629336985298082893443205223017966145098064861566754244624732671470935725326043491911142467178027013112527668183783450932992534517827863293825061296257420183669383719043873666284378647952385401303733274771042385666436214517205678674213118374889121542369996042313879258622144464565403138392064000","614262617634904509410555695398092190166323289787703954329113412647342230855826568873946233136303566178604275296873234926652080462259552775254755109931312516616838091852915397846984381183732773411263828600108443070778861986849272794442105107285234729077818614332155890946804257724112143631642663084660012362691100872465148864413343598067567142977134846266425075195546265101720326272502009234689388355365794889444257557504/121200854655310345878069155190734381476914416893031941761756379148622591310152793328910334357724762079139509813381997287954319983165971628429295803162563856219211627796200599196263868781937234015821367575512548522790158101892507996780675863234181700253545912643548466256938936835469646114659598727592390628209362096738343417775009361678599075671154405137663077798419897932404104579113056038271753988669813988076515476125","106893445531995430131837569895703697604978445859412739331042151546083234373443601923983714252801103551874986033841637079479794895452077803182698291822629713500021995241940133037200268381793282318691568234728329378829301282121562652452936297422136961147432559766896143081059518238234777055931999714973999553456547746825617168005650221542417216291412324174772893635832/21070287546583154895102927029203125577385528350171457634203261197137238923923245382493868134869009844094435068284335909266152042903157700510534904847257436666980671067329084409346149729385625108233234542133838924281113454526471855573271066865534480974484196644173270141056470857666632902827625475719738076524047736123182255306429677688129231682978570461273193359375","1112742798776748551928744983308584493817112400536084744850969025063360679785378789764875076529575583792571198510306186417773101346425704969671256564494135750783642910394213727189639661184379341961737135764570942961692159177189753139209638929302928699705042832922774012622017270172331722295881412111812933593370743210214549038212395941675257558442878012136484052827439007483777859391215222647499741572327725689840850048/219121905514652575155579185322367175400669386131891843382447432851122462422992147756333729893028362013318264155489537138133372703295804002840920402482110260590055749843170064921843460498824128274420925357547023876488939786863662801268798987685503391058250902634999352652063668663245829496836853509616873246554292796823779397317819134891873583857621623143253788854530146303641400986028503534408870194989478421253057625","983995170259637497940121707857673268620603982844439610076334749792119502557380361624096960070148627663305171311646851566811683351232268240169848810658089698606409195744471343416197434926513684882439596141368794175162315633192028977211909698595778839497844847281262559899914504080092844816319298286511436690429175757804604673752838786852277255064434365401871903307643705/193579499709739777577893639665643417521924510242119561765932078835121983190401762561436208758210519231103767232899529457440602166918701550386152070813526760823513884391055054076485295945972185402977095815609448651316824455250005505410192101148149284756928250258632031981439345164037318129987999546683113483700660879431801728391911161900686707231543216283304182063038464","30691013076836380319652884848585431917439358375118437035944950498156836885409110087616602043242747413728866747975631727566613593257623099549583001362246649928075859944695060947434885707102684568632559339383409378997568182445019183928058902445738702610436187907199482604867148445903921474846103586253320950728989228898324829144701782792767763794895137313050381112872972806712570559942583906619373159053654481250809168128/6031936190594376585238407905469035598668211679521553144958053099463931217856780171872253258738635531385711702176347575597387389685526098889278278029314982721284691198967204664771178761416891317672705719303088746953644978471289001577698554025410820041497108311270431130911021653860874238212040640737171103823631718483572464361276703378587106311153455557896527384426327053165214814954154328483257657424873929502112904625","33633002641218571027682690377239300567277297301791434890431645909447040830457253186262970747405514897340315490970846553666201190386457221846694126637998462873786334837901001833771510353365825087187582807843940479192544772559118293851131234910638705258664901225494129023244916125545283621607920983287799648992632814461828998517949449887522866259724675318233522060729654796/6603800575190864815125307817934327053530311915572323544225173935830559756077637251538096164499112411672913910767032482188570876526606118068929913515497400397562722669603861813453418621246538114872330536044519242663538662076583511078523573320035084744399535581216815034837553165853576616422592790103728141443697362408727056813977234078214386771115586436985105038873998875","9090550743395453237608373761422705922989356346696677314277463900103283296889488490217663400349361962695279888433677856471792856853109469433355422802663947305503479561493033851081993247556828544308258821557994512133708656174864544457143793106703578476914924328960109390350040954158797845288786321215010324565010420734044059968931558099077932776525974187717655105951506223649947806568984848883258144616897526257038550656/1783219994432430133950472014582130883873515063182143523712063859964133099770763874744121895885645346884371273930727450069430704145915261127061538288702855011220545530326588799412076879985026006593893648911637986337776174555198865379578424838210466703683642106934154603710587408512357351455891557594977191641529451749437270208258072920514602243985184744955476557012910446023911358037761232253615162335336208343505859375","396226087129511787616470716244996965529391571019620342657409150252952330537366537352182763477820160355931003174946109480036915624974500187179367618457008802667089004678925595775249725629495848146669773574395699032785024522882892752987825063933573399691764866816284097232869198405981830106568826923407996367321353003569052419999880089180418759265274331299787468134974811/77651132902382550540201641628906752945078964002822585000619340261128555048628863996784740469908853602590877726845475670110127527874088625214912598995012971630852593597027649154487264595100300180591016581254965295280089902497540043916128232871685159131211213497239568483141031137909208031392464815187505714066235868748950184065923236670418822911614780061752905170944000","1288523130900767412477856952035690867153496584747510253984686336382980221603917538996138294311274357713893956725672062832264871415025750136690143411884111580335458539824573239771267043414225271729141508235839982033182605445173050590151912297720800168687369852280323356691345317649445843078291369394324862039143247087442309135074453265658730028145500871559458519282433012494054724678302957276371418936282902434203225600/252284450515080370603949213084529993395050575951188044032908270470514999880554862449223347761507020354321422785760279154913310488296485989979706208254206974075438570521939826124860483842758137231373182496438568202110337751291106165654945352183167578675508602832478752400011567482434301614269579368882858973850914513870297071866544875650189106576672289734326492492059816669288907018095832842249738081022227281715919357","559506782175368748187145067236900803925823792088293851453005882621173124590368101213652371965740365119375069053747415415684193092607523211636912074219215053809881814859129515591479780669511533619258835199715146655774919418434080807837587396115955105126806762961292429904380132116986984435528307613054828929294602185927322238461491059740342387266084431988727321711184308176/109446188216864405154936682374609448082436347600301765944233278303643744736544109262794383069197271409398615846380701459882784547857821831816863216080069944818453908760476475874319791512782445408136169878207358663250499628002971644430164185578966399908622640732411885568638054229180673755690889471388585521113862492432946110902070139679164884208988489955874131206343597375","365842109776085256207829452385781129402656684569922320812625438296958174120084800064669048017227033185969596458778213306152397766619692644694641677223213185977626940193107608138827771259334379895020377700759789774994800008933137569543592829220611543060189849601828342989023692876182148818363689293009174358168826340010491728715549904988196347316703985894355217235339548078187164176255405596310602921647203428200269666176/71497266937783826306774367225149833789788300609530680399994804704196212252148324552193149332755057982662844988588678159610516634667597707204818296457616315484973288944637139939912166034691155272078609876888919170894915224022982785138928008133003473320018151370486895637936102520353951511525996197267572355782608352075229547764732602557133494648237258900273354364050662921889937355682486287799239363976556848320046933875","59378684894605773397070783936113244261297966863668546282887298999811950599772732377979382620766180662159460666220894896896564357533604962977968843474062092083279165837424210591042655271577974272394203253875965589611493384384257117088518521598379301169916060951350650621757237206805037261878212424267780312614942173870651684587166691539909068452932891649554575072205080763/11593916877920131260484148322810317629326850763057953025674154928920977965095141485536566217873796019006709247938019404840440511433467040918770165456925609124166970862430104329357419669175323763143377917913760028500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","440706629842402075137926797732405268015915199334341565218443748798479563505125605478061664327658137598204192554352688830679475840386882350034150077506804799859586772904929402683276898098601814091430598259347980573084686932949502809068565420937301632494387691284902026088950093888426872222813857928092871267130505744095697172494119689779474840037266295586359244899477781345249657455186847452249040895151288114085352974933708544/85971876318334010542313048056773419567285701852816309711738644074302467763075671531248793080425349570584102078764464196653843973936119037322000695949209283327606280423406302517302874806092835694196353778161663338667091195199032831587897410329509487165187753418615356836636352319310103639079123698118997500068644500893282438137614420288839230827096109835206605385673197123994357393257304049093683934224826006704198171592304125","13220371178312284248107863849287558696210741535280184003301555188086761767176560823174196915070378763091889333203635784037294769747641959860810039816533609140662043493962707445564057197150603226797446933532133956054671103942520142568674339411250001585991743608723150284270101326419464088290151483823061613403673956918458456165552482913079283537536214967294211244361353060/2576683013797055224377707713704899315377379548630511095136568220145808780162671473907260623503552385384482723173913562423316997528913651044277418227616447815609873991028073011738113927961824632868956802271260292075825561646156680740323686126811928372672670917332613490241615850953660246271541592056143611581223295045062157404996958100136358649109693659623847024011265147","1538372578072246705266078247950089219881197139399081643650271348770110178217959856819170325400476655944115553238940541695152110949081675985299189913515975242840473616169775880272489805123124548256666658584129873597192213080038937409046114908719298170078476325423466734429870048697383304265342125425087105698152643145531760853127801123272389134514333752173173161562273487752064850461823726948588221913540799816489566883798912/299566102446745552813544808169323270315327122249327394279467999308669285416179486075255023523726449428151807672528368606071047812907935426406886253284580296349349558797128593446316786243666290649442956134448480598303527795996222703837663605600624271807461605295956674925277658331760000117761013381199880905748188151556184620779667670278558839116983636972680749836497346863752662521197700717702790359162307617024566689271625","281696937222363685333688097915539146272117417024070728031063821781398985795813333650547982965341298894634762289669256129805545549280355643122501181852136332529515756074502902204877664395456278205770206019663082511098956468724829475220996427130295010430751942126263620206886404244432409164651524408198286831329682605959881993845189585640874220032515465014097345759490750307207/54806274927935495596891312029173862473687610099325998583092091915101265393157631244775387832621032230434007486602816972765210205596482942091518459849775458089575743699797096697542306049628939919466378189656065461708686421130956996965004776108499273871055615413566043083634090083096967567965373203683231171594922347812966905149873265654962896456451681332216735396249206784000","228506238533410805238253122961471637501498406104430046727793420497895852412513560203475440156216063574654372726194215013407325207763369075250819386897086702757125418327084312933061738392406321003231853349865003322697360659712771167066453430309997639548320673279964210730701373707765051246595806673865646607841876463608039111252607452843372970797479959213447237540830563469297144446069689149549515457318899981763489792/44418759813188470246596822974281932219088697005123285598909329328419879212164564561558656547678211265529803086702843380128457744445765859393426675396393053094588240457569380155526179040891009717323059641035189017918495485630657360525410506453554255734005459614858972904374739673834145083512160883402151636664208253116362089211658645312778404886460203600762546810897889629330022309705583438699250109493732452392578125","2396110297187570506257836426251930521245117960980667897194680897478996322590925380310917400763581787981992131769075961259393685331523600287377841990678117113566991100720996059187144934569703045966210306282348527729533806882408323961336166190162075154579344185244957673138372347997134388801085788353482276257401005734929059700346687783400772331280644647089520646562669857652648/465370154262863030800729180763091967573522779260407615567563274096037297593764955820626213827962697601334935773802201919483657310282236100250543992334865461800976838791035335861420892967699843608855185710753433852279737724446294443337363478679601049432404435672469098850676302728116369979460222148206944323730586138087862719386327396334468302608499235112520318322763857676375","1188272888075247520453568790651819187486389546755745961952033150576243575862120569399808467067800830890874391487822723879717525264875722720416173276963170672622214121308038530968291758445510982186014289745026439477197148445087614813262170975056866881909056450023324743409114115141145340480846088869807540798073417035168139476153897066325127540609756310068558610112731607522096096821938163134080426356894899245575410494080/230586762395914863625709048789913840511134004337945700368117795195769576856434588144361459740833007125516905017415184787078710001969815416281381427387949263792200577791644278234661952852149216540491852757174842146376788280677956350901082838474705227642420261641783722891948710833898248566893322144435457967452449965772543077421407816225704952270697016152452032506898311260979594550143344971416786595888053149375287120733","1072184299258468249004114536023934869518152618369895613271618698908405514630154819453979477077738526673716264830106745031385951736108376866253955319711026042389282009348594845497252059906901748860111986811345742998968284077119165082435598381810306691078037018432766116865792677955520465319184311529667642995217214507658693259694586107847099911341219913576038605872218680562047/207882129535607118520818565811162643811811563516006836924341123976848022970024793004700710992938987476728640943834012473687892481059618823520721737479364352887178017866425027953255856440099446112508663603319745066750522936408781591578321031173620445865113295407603090322283539974563690157418931060565698315406021569491751612761888641141446406531645379264720684248398299136000","158094023904374464057702010126993231151433474361820266584020400101533651587072432728050776506672527718975042616651177034635188178967462982926261516748842073587981953038445977514446838733557926696939591069712397947055261777416704028506441173540338327591514650398349069348381309688677335132100441905603664282735310299686268721634369502296867409514777359935022301425165750780988231639828675424239931533849896744198012747670272/30626384366513923671063955469537776291182594080083494737341604579575446319190916924682809546024369330706012653799783122328775875399363759308193432327358837772825609356553955350401725689682838701996446404559005896479618311357573203081153855961484398360670837599853294627153740224543175497655414585918231215639906924313779933211774291565425360415684556655021031131349317390382320286092667852173815259422737956767922154798375","12216278924286401897470540169822542417611356797676160128176706721343511598951866107858729405615631246003458062949723290192242594609994613705183460814797527214549142043573863947658832694800184691222426521703728394203722420336773310908687071670107794543022567943478843065246011544888390757810534211554666736239506503613750756246364621509359804902243487113673014588325806249988332/2364584127734680580481708368927921125934330000162935118371174269642831409084634375654239735054363928748162229294829526339927907778510530444646754603322373712788147193691037688552857183116332292048731726305451516954679277320777955342295564000586923227775208580772868590742136150431152495718132142742153643081187691849828217592954519485869135930755646768375299870967864990234375","578939195017447864385837341975558679292903716580114421030538728778491606282153588930983966100514147976321305616196463174070345884292672842497715966933722088536619333912687108737657068701352918582656105418491672377271304970407730786932913490869797471081081431072836814581099271832696990064828717287258860166842791984158634684078346453202928137987930328826212011774670396356151265781053547412633310327737900786639842674288716416/111966291649651600701875186827360807558960817589719096407887999108024557254221008849510152469119211567152616745769256123968832250104006560061907741567034087109512483357851919402017950812795426393415409198268246337542639470834168040295134130657073201020340432236723824670803498949071870597039309004562024033656488150406105175401372709011082725359382691270659245312133919518760328422827067578306005644825927050994860723405473375","8041514821545833865350873212853873042112343327573364523948780030849543753072688526717886590013028227714585965095216381829914996539132359247488639692828639170075726301411777307168737667077730792892326979446426349813642680537699905651125068091362135055902152994216233622733424128982011248923051410141033146604688083721413402395290842738021365861670415833356403364696759583009635/1553937833499559104910551811592138833189892464446761247731330672284191313590708439680460540329836344767557599746234213006493842842879398684745864919973051635127080738612248150108793397855113122368507483429209127035263504194847798809612278864438287815470711036548695032421148125849669175729331459149833945183228413961985381338162155596008680906676498435954178226973272371625984","12059659399309169167301353842123191409306995788633965680414620302285606896146667751472818541537183787935352700725982053536032930866708413010971856856768384974849695774437178790890015242323873769697407411558706626105140596160049735605389301414460825674631122462760014451298494875244754354054447697502521388381253293175367558014453865905104467382184997528879171136492277222127399012368677604910497789360212571238146627048080568400384/2328494054002703067219004484782931471919751585969487160602269605916676223315055450845942763690581877771159615428854802721943114463834992106300185328876910271612375509166975628540839858771078495267566008071532876816826751069408153323840515037497664871689085370699991860738368371510578076683395101062439493831773194498579620513073693022191702398601471237166387045790480861932005012807234071429628725981935147069738988682858417182625","683009426705008850682549700382901603742691705123356866338951397347368059105140826655486518416578697931244347554322654428162554903861783227680935341690740579867651545205562690172425016836559678937794312287639193745517811234257062356826622207475918293015140472942579713388671782202262396642735640315948612572908444501108579457520714632371056288874351015666995549139003946314085696/131769214246522869780429817236150406548549044658474416909806179734873399109656411633488099249198882165279745627038984487365589625562901914030850178330133080409420340227179447548044572594184601425691821617928130423410997853384425373999967759499571890326740433081063424903098252502791477854302204200941376983295622430177445507316706609802292121282957519571162158620971952084486375","1418116259749091420309271913909337143756589314597557128553117870573928055109322864794169592355058370891251425125187770724828108988587888087023982451205475980371440423992838481547236638456717520835668859093413956339261802305597694403381021863258753441889536361061407579332570493634254542013337999844407181346815549594836374497512447969751514466481466717590255369810506813543577735080228718660747940956248427356785784199073569408/273368882980516556922532339653303822104510203916024760371844491705599093435133738774975538364241630079468712981056336655766117378160822393876348755370711942273876284944422610974149712212944211513462921649872232656449940987552227525504529710373144228818606127541937831103642415534318303187393593236209298242574677293352798419428712873685798636474667204083938875672934235816396371477146089168375198141802684403955936431884765625","546411077581845999248238069684194831621691193366466972898628141511422317954477211865167402284211971296286346492698354214043840080181702652132835681239302798339667835439189275457116051279366194551632712819028177402221815140045210690908631767786711675029194359998826252332434573121740830827417293557234891406021102083555472155479148332697839972702631641910213821827820374586459319/105246945889799140338072754365901705544530661781295362563214285953881890233987516230568663143342952799036341701952267011236663118111226623815975847494372076420199418712941018288738590264475520229651370015377608638075866459684692488079223686296541020897904588347083045723167762682959422858996673894180805702299907478685374065593161226849447131100462022089783265346597553176576000","2398330640958841474772606439916070050977544535580605737383995160447105736276950196885906408317628083110923322157113892928963237845914017845444295040924101784423382681801754191301860383927129006953354739240926643562987838836997453985855576402628166875869041032631651591871962852884189548538272285387092843044669499688035134181859376665409767886188304314888753894905317929877238322615838524354191263502347881033855441181420399360/461588070868590122892265681879734295007029130965626060552783760068897000195207878227714842617470320231527222074701444349530952699708435668339712860464533455345665068841333232359698449088497137068713309811942968433868609329301082001752617420002377892756821532220676085014874112083615054550278903960627185675459015343606391094523511117705747842645927349130302549554534056269331809016770715819934970200483161548527932617036185253","6041015879424725383006424536130409209607854044642113747266098198777011981328765528361630516108680392500990580908509403483891763219659726090675140672989657743882183951954294745396417829943469201306594018454995862321821016087416840247422350906412007336103086620396467456181771583200365740253389107968122850063607085957109965406634738740996318415514360956028575560979203447735121436/1161752799109428422288020947061281540989708937450568100764830251908850596717606701047413407636907934320789870175907792017513896999208892282137299070761467096211814586909598705615312819596495636017728313513520193786266452836805291464826226833593878504804389728477191170027729963773716267868284479768397603444919008915279522376004326398403851684761808785381609370767169521034383625","13240077436443988749179508462267267187169441948722358165090554769250505713747934643200804819418670147225695324432684266924694524337920816452346599774452681831320005286326986675907899608537972384924882996757503264622991355949039882526389342174307168805166215838138277557052303430492669193939212362638263582899713198716541723383138016564027766560215944409353427176135895982596327685665844815618402881202645610620284792793420780517248/2544223084468158291883698813309541801455311468982232546872485444308211415529998472787377800559884210837213042932180479090277285630234238711851480232520137856848809986631784843528381778520727465146661792797924458540957133423665746229799675650290296217658444899605236550972043549278128087645211909479009099766619355677984218929672461506691980442071860591767266913041147587815452007726513853820116629482732060593116624596368806566625","1953999166296955830935495158735359200362904181792947794529339487489730042568305997099959302322956898299616194932283060554261566410988618045107398092345476532371402134206635235570281738377188438407703089325315446371127042537576093536896282955524842632708645655481028161471313608974238110718242273935956977555610147714316158486553633871312187084618154014921190595222799283957140353/375191165084882521037046014569185165885459082629136124177286500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"];if(k[d])return Qt.quick.apply(null,k[d].split("/"));d=new Qt(d);for(var D=80,H=new Qt(0),re=d.subtract(new Qt(1)),he=d.add(new Qt(1)),Ae=0;Ae<D;Ae++){var ge=new Qt(2*Ae+1),pt=fn.bigpow(re.divide(he),ge),At=ge.clone().invert().multiply(pt);H=H.add(At)}return H.multiply(new Qt(2))},factorial:function(d){var k=d%1===0;if(k&&d<0)return NaN;if(!k)return fn.gamma(d+1);for(var D=1,H=2;H<=d;H++)D=D*H;return D},dfactorial:function(d){if(on(d)){var k=d%2===0,D=k?d/2:(d+1)/2,H=new Qt(1);if(k)for(var re=1;re<=D;re++)H=H.multiply(new Qt(2).multiply(new Qt(re)));else for(var re=1;re<=D;re++)H=H.multiply(new Qt(2).multiply(new Qt(re)).subtract(new Qt(1)))}else H=Math.pow(2,(1+2*d-Math.cos(Math.PI*d))/4)*Math.pow(Math.PI,(Math.cos(Math.PI*d)-1)/4)*fn.gamma(1+d/2);return H},GCD:function(){for(var d=Pe([].slice.call(arguments).map(function(re){return Math.abs(re)})).sort(),k=Math.abs(d.shift()),D=d.length;D-- >0;)for(var H=Math.abs(d.shift());;){if(k%=H,k===0){k=H;break}if(H%=k,H===0)break}return k},QGCD:function(){for(var d=[].slice.call(arguments),k=d[0],D=1;D<d.length;D++){var H=d[D],re=k.isNegative()&&H.isNegative()?-1:1;k=H.gcd(k),re<0&&k.negate()}return k},LCM:function(d,k){return d*k/fn.GCD(d,k)},pow:function(d,k){return d<0&&Math.abs(k)<1?1/k%2===0?NaN:-Math.pow(Math.abs(d),k):Math.pow(d,k)},factor:function(d){d=Number(d);var k=Math.sign(d);d=Math.abs(d);var D=fn.ifactor(d),H=new fe;H.symbols={},H.group=j;for(var re in D){var he=new fe(1);he.group=z,he.value=re,he.power=new fe(D[re]),H.symbols[re]=he}return H.updateHash(),d===1&&(H=new fe(d)),k<0&&H.negate(),H},sfactor:function(d,k){k=k||{};var D=Math.floor(Math.sqrt(d)),H=T[T.length-1];D>H&&d<1e6&&Jt(D);for(var re=T.length,he=0;he<re;he++)for(var Ae=T[he];d%Ae===0;)d=d/Ae,k[Ae]=(k[Ae]||0)+1;return d>1&&(k[d]=1),k},ifactor:function(d){var k=new p(d);if(d=String(d),d==="0")return{0:1};d=new p(d);var D=d.sign?-1:1;d=d.abs();var H={};if(d.lt("65536"))H=fn.sfactor(d,H);else{var re=function(Tt){Tt.isPrime()?H[Tt]=(H[Tt]||0)+1:H=fn.sfactor(Tt,H)};try{for(var he=1e3,Ae=0;!d.abs().equals(1);)if(d.isPrime()){re(d);break}else{let Tt=function(hn){for(var qt=new p(hn),nn=2,Sn=new p(hn),gn=new p(1);gn.equals(1);){for(var zt=0;zt<=nn&&gn.equals(1);zt++){if(Ae++>he)throw new Error("stopping");Sn=Sn.pow(2).add(1).mod(d),gn=p.gcd(Sn.minus(qt).abs(),d)}nn=nn*2,qt=Sn}return gn.equals(d)?Tt(hn+1):gn};var At=Tt,ge=Tt(2);re(ge),d=d.divide(ge)}}catch{H={},re(k)}}if(D===-1){var pt=Ct(ne(H));H["-"+pt]=H[pt],delete H[pt]}return H},boxfactor:function(d,k){k=k||200;for(var D,H,re=Math.floor(5/12*d),he=0,Ae=!1;D=Math.floor(d/re),H=d%re,H!==0;){if(Ae)return[d,1];re=Math.max(H,re-H),he++,Ae=he>k}return[D,re,he]},fib:function(d){var k=Math.sign(d);d=Math.abs(d),k=G(d)?k:Math.abs(k);for(var D=0,H=1,re=1,he=2;he<=d;he++)re=D+H,D=H,H=re;return re*k},mod:function(d,k){return d%k},integer_part:function(d){var k=Math.sign(d);return k*Math.floor(Math.abs(d))},simpson:function(d,k,D,H){var re=function(nn,Sn,gn){var zt=nn(Sn),nr=1e-12;return isNaN(zt)&&(zt=nn(gn===1?Sn+nr:Sn-nr)),zt};H=H||1e-4;var he=Math.abs(Math.floor((D-k)/H));he%2!==0&&he++;for(var Ae=(D-k)/he,ge=re(d,k,1),pt=!1,At=k+Ae,Tt,hn,qt=1;qt<he;qt++)Tt=pt?2:4,hn=Tt*re(d,At,1),ge+=hn,pt=!pt,At+=Ae;return(ge+re(d,At,2))*(Ae/3)},num_integrate:function(d,k,D,H,re){if(re<0)throw new Error("max depth cannot be negative");function he(pt,At,Tt,hn,qt,nn,Sn,gn,zt,nr,Pn){if(Pn.nanEncountered)return NaN;var Kn,Dr,ir,ei,Ys,rs,Fn,li,Ai,zi;if(Kn=Tt-At,Dr=pt(At+Kn*.25),ir=pt(Tt-Kn*.25),isNaN(Dr)){Pn.nanEncountered=!0;return}if(isNaN(ir)){Pn.nanEncountered=!0;return}if(ei=Kn*(hn+4*Dr+qt)/12,Ys=Kn*(qt+4*ir+nn)/12,rs=ei+Ys,zi=(rs-Sn)/15,!(Pn.maxDepthCount>1e3*zt))return nr>zt?(Pn.maxDepthCount++,rs+zi):Math.abs(zi)<gn?rs+zi:(Fn=At+Kn*.5,li=he(pt,At,Fn,hn,Dr,qt,ei,gn*.5,zt,nr+1,Pn),isNaN(li)?(Pn.nanEncountered=!0,NaN):(Ai=he(pt,Fn,Tt,qt,ir,nn,Ys,gn*.5,zt,nr+1,Pn),isNaN(Ai)?(Pn.nanEncountered=!0,NaN):li+Ai))}function Ae(pt,At,Tt,hn,qt){var nn={maxDepthCount:0,nanEncountered:!1};hn===void 0&&(hn=1e-9),qt===void 0&&(qt=45);var Sn=pt(At),gn=pt(.5*(At+Tt)),zt=pt(Tt),nr=(Sn+4*gn+zt)*(Tt-At)/6,Pn=he(pt,At,Tt,Sn,gn,zt,nr,hn,qt,1,nn);if(nn.maxDepthCount>0&&$t("integrate-adaptive-simpson: Warning: maximum recursion depth ("+qt+") reached "+nn.maxDepthCount+" times"),nn.nanEncountered)throw new Error("Function does not converge over interval!");return Pn}var ge;try{ge=Ae(d,k,D,H,re)}catch{return fn.simpson(d,k,D)}return Cn(ge,12)},Ci:function(d){for(var k=20,D=.5772156649015329,H=0,re=1;re<k;re++){var he=2*re;H+=Math.pow(-1,re)*Math.pow(d,he)/(he*fn.factorial(he))}return Math.log(d)+D+H},Si:function(d){for(var k=20,D=0,H=0;H<k;H++){var re=2*H;D+=Math.pow(-1,H)*Math.pow(d,re+1)/((re+1)*fn.factorial(re+1))}return D},Ei:function(d){if(Number(d)===0)return-1/0;for(var k=30,D=.5772156649015329,H=0,re=1;re<k;re++)H+=Math.pow(d,re)/(re*fn.factorial(re));return D+Math.abs(Math.log(d))+H},Shi:function(d){for(var k=30,D=0,H,re,he=0;he<k;he++)H=2*he,re=H+1,D+=Math.pow(d,re)/(re*re*fn.factorial(H));return D},Chi:function(d){var k,D,H;return k=.001,D=.5772156649015329,H=function(re){return(Math.cosh(re)-1)/re},Math.log(d)+D+fn.num_integrate(H,.002,d,k)},Li:function(d){return fn.Ei(fn.bigLog(d))},gamma_incomplete:function(d,re){for(var D=d-1,H=0,re=re||0,he=0;he<D;he++)H+=Math.pow(re,he)/fn.factorial(he);return fn.factorial(D)*Math.exp(-re)*H},step:function(d){return d>0?1:d<0?0:.5},rect:function(k){var k=Math.abs(k);return k===.5?k:k>.5?0:1},sinc:function(d){return d.equals(0)?1:Math.sin(d)/d},tri:function(d){return d=Math.abs(d),d>=1?0:1-d},nthroot:function(d,k){if(d instanceof Qt||(d=new Qt(d.toString())),k instanceof Qt||(k=new Qt(k.toString())),k.equals(1))return d;var D=d.divide(new Qt(2)),H=new Qt(1e-15),re,he,Ae,ge=k.clone().invert(),pt=k.subtract(new Qt(1));do{var At=fn.bigpow(D,pt),Tt=ge.multiply(d.divide(At).subtract(D)).toDecimal(25);if(re=Qt.create(Tt),Ae)break;D=D.add(re);var Tt=re.toDecimal();Ae=he?he===Tt:!1,he=Tt}while(re.abs().gte(H));return D},sqrt:function(d){d instanceof Qt||(d=new Qt(d));var k,D,H,re,he=0,Ae=!1,ge=new Qt(1e-20);k=d.divide(new Qt(2));var pt=1e3;do{if(he>pt)throw new Error("Unable to calculate square root for "+d);k=k.add(d.divide(k)).divide(new Qt(2)),k=new Qt(k.decimal(30)),D=d.subtract(k.multiply(k)),re=H?H.equals(D):!1,(D.clone().abs().lessThan(ge)||re)&&(Ae=!0),H=D,he++}while(!Ae);return k}};w.FUNCTION_MODULES.push(fn),dn(fn),Math.sign=Math.sign||function(d){return d=+d,d===0||isNaN(d)?d:d>0?1:-1},Math.cosh=Math.cosh||function(d){var k=Math.exp(d);return(k+1/k)/2},Math.sech=Math.sech||function(d){return 1/Math.cosh(d)},Math.csch=Math.csch||function(d){return 1/Math.sinh(d)},Math.coth=Math.coth||function(d){return 1/Math.tanh(d)},Math.sinh=Math.sinh||function(d){var k=Math.exp(d);return(k-1/k)/2},Math.tanh=Math.tanh||function(d){if(d===1/0)return 1;if(d===-1/0)return-1;var k=Math.exp(2*d);return(k-1)/(k+1)},Math.asinh=Math.asinh||function(d){return d===-1/0?d:Math.log(d+Math.sqrt(d*d+1))},Math.acosh=Math.acosh||function(d){return Math.log(d+Math.sqrt(d*d-1))},Math.atanh=Math.atanh||function(d){return Math.log((1+d)/(1-d))/2},Math.log10=Math.log10||function(d){return Math.log(d)*Math.LOG10E},Math.trunc=Math.trunc||function(d){return isNaN(d)?NaN:d>0?Math.floor(d):Math.ceil(d)};function xr(d,k,D,H){var re=k==="hash",he=void 0,Ae=re?void 0:k,ge=Ae==="decimal"||Ae==="decimals";ge&&typeof H>"u"&&(H=w.DEFAULT_DECP);function pt(Fn){switch(k){case"decimals":case"decimal":return he=he||function(Vo){return!1},Fn.valueOf();case"recurring":he=he||function(Vo){return Vo.indexOf("'")!==-1};var Yt=Fn.toString(),Ii=/^-?\d+(?:\/\d+)?$/.exec(Yt);if(Ii.length===0)return Yt;var qi=Ii[0].split("/"),li=!1,Ai=Number(qi[0]);Ai<0&&(Ai=-Ai,li=!0);var zi=Number(qi[1]);zi||(zi=1);var Ns=Math.floor(Ai/zi),Qi=10*(Ai-Ns*zi);for(Ns=Ns.toString()+".";Qi&&Qi<zi;)Qi*=10,Ns+="0";for(var ti="",Wn=[],Yr=0;;){if(typeof Wn[Qi]<"u"){var pi=ti.slice(0,Wn[Qi]),ho=ti.slice(Wn[Qi]),ni=Ns+pi+"'"+ho+"'";return(li?"-":"")+ni.replace("'0'","").replace(/\.$/,"")}var Ps=Math.floor(Qi/zi),_o=Qi-Ps*zi;Wn[Qi]=Yr,ti+=Ps.toString(),Yr+=1,Qi=10*_o}case"mixed":he=he||function(Vo){return Vo.indexOf("/")!==-1};var Yt=Fn.toString(),Ii=/^-?\d+(?:\/\d+)?$/.exec(Yt);if(Ii.length===0)return Yt;var qi=Ii[0].split("/"),t0=new p(qi[0]),n0=new p(qi[1]);n0.equals(0)&&(n0=new p(1));var Fs=t0.divmod(n0),Ns=Fs.quotient,qr=Fs.remainder,Ss=qi[0][0]==="-"||Ns.equals(0)||qr.equals(0)?"":"+";return(Ns.equals(0)?"":Ns.toString())+Ss+(qr.equals(0)?"":qr.toString()+"/"+qi[1]);case"scientific":return he=he||function(Vo){return!1},new Ir(Fn.valueOf()).toString(w.SCIENTIFIC_MAX_DECIMAL_PLACES);default:return he=he||function(Vo){return Vo.indexOf("/")!==-1},Fn.toString()}}if(Ot(d)){var At="",Tt="",hn="",qt=d.group||D,nn=d.value;if(!re){var Sn=pt(d.multiplier);Sn=="-1"&&String(d.multiplier)==="-1"&&(hn="-",Sn="1"),Sn!="1"&&(At=Sn);var gn=d.power?pt(d.power):"";gn!="1"&&(Ot(gn)?Tt=xr(gn,Ae):Tt=gn)}switch(qt){case A:At="";var zt=H&&ge?d.multiplier.toDecimal(H):pt(d.multiplier);nn=String(d.multiplier)=="-1"?"1":zt,Tt="";break;case oe:nn=d.collectSymbols().map(function(Fn){var li=xr(Fn,Ae,D,H);return li=="0"&&(li=""),li}).sort().join("+").replace(/\+\-/g,"-");break;case ie:nn=d.collectSymbols().map(function(Fn){var li=xr(Fn,Ae,D,H);return li=="0"&&(li=""),li}).sort().join("+").replace(/\+\-/g,"-");break;case j:nn=d.collectSymbols(function(Fn){var li=Fn.group;return(li===oe||li===ie)&&Fn.power.equals(1)&&Fn.multiplier.equals(1)?Qn(xr(Fn,Ae)):xr(Fn,Ae)}).join("*");break;case Z:var nr=d.previousGroup,Pn=d.power.group;nr===oe&&(nn=d.collectSymbols(xr,Ae).join("+").replace("+-","-")),!(nr===A||nr===B||nr===ce)&&!re&&(nn=Qn(nn)),(Pn===ie||Pn===j||Pn===oe||d.power.multiplier.toString()!="1")&&Tt&&(Tt=Qn(Tt));break}if(qt===ce&&(nn=d.fname+Qn(d.args.map(function(Fn){return xr(Fn,Ae)}).join(","))),qt===ce&&d.fname in E){var Kn=xr(d.args[0]),Dr=xr(d.args[1]);d.args[0].isComposite()&&(Kn=Qn(Kn)),d.args[1].isComposite()&&(Dr=Qn(Dr)),nn=Kn+E[d.fname]+Dr}Tt&&qt!==Z&&he(Tt)&&(Tt=Qn(Tt)),((qt===ie||qt===oe)&&(At&&At!="1"||hn==="-")||(qt===j||qt===ie||qt===oe)&&Tt&&Tt!="1"||!re&&qt===z&&nn==-1||d.fname===Ie)&&(nn=Qn(nn)),H&&(k==="decimal"||k==="decimals"&&At)&&(At=Cn(At,H));var ir=hn+At;if(At&&he(At)&&(ir=Qn(ir)),Tt<0&&(Tt=Qn(Tt)),At&&(ir=ir+"*"),Tt){if(nn==="e"&&w.E_TO_EXP)return ir+"exp"+Qn(Tt);Tt=w.POWER_OPERATOR+Tt}qt===Z&&nn.charAt(0)==="-"&&(nn=Qn(nn));var ei=ir+nn;return d.parens&&(ei=Qn(ei)),ei+Tt}else if(Xn(d)){for(var Ys=d.elements.length,ir=[],rs=0;rs<Ys;rs++)ir.push(d.elements[rs].text(k));return"["+ir.join(",")+"]"}else try{return d.toString()}catch{return""}}function Rs(d){if(le(d))return[d];for(var k=d,D=1,H=[],re=2220446049250313e-31;D<k;){var he=d/D,Ae=Math.floor(he),ge=he-Ae;if(ge<=re&&D>1){if(le(D)&&(T.indexOf(D)===-1&&T.push(D),H.push(D)),le(Ae)){H.push(Ae);break}k=Ae}D++}return H.sort(function(pt,At){return pt-At})}Rs(314146179365);function oi(d){this.symbol=d}oi.getExpression=function(d,k){(d==="last"||!d)&&(d=Je.length),d==="first"&&(d=1);var D=d-1,H=Je[D],re=H&&new oi(H);return re},oi.prototype={text:function(d,k){return k=k||w.EXPRESSION_DECP,d=d||"decimals",this.symbol.text_?this.symbol.text_(d):xr(this.symbol,d,void 0,k)},latex:function(d){return this.symbol.latex?this.symbol.latex(d):dr.latex(this.symbol,d)},valueOf:function(){return this.symbol.valueOf()},evaluate:function(){if(Xn(this.symbol)&&this.symbol.dimensions()===0)return this;var d=arguments[0],k,D=1;typeof d=="string"?k=d.charAt(0)==="%"?oi.getExpression(d.substr(1)).text():d:d instanceof oi||Ot(d)?k=d.text():(k=this.symbol.text(),D--);var H=arguments[D]||{},re=new oi(Sr("PARSE2NUMBER",function(){return h.parse(k,H)},!0));return re},buildFunction:function(d){return Ur.build(this.symbol,d)},isNumber:function(){return Wr(this.symbol)},isInfinity:function(){return Math.abs(this.symbol.multiplier)===1/0},isImaginary:function(){return L(h.parse(this.symbol)).isImaginary()},variables:function(){return yn(this.symbol)},toString:function(){try{return pr(this.symbol)?"["+this.symbol.toString()+"]":this.symbol.toString()}catch{return""}},toDecimal:function(d){w.precision=d;var k=xr(this.symbol,"decimals");return w.precision=void 0,k},isFraction:function(){return Zt(this.symbol)},isPolynomial:function(){return this.symbol.isPoly()},sub:function(d,k){return new oi(this.symbol.sub(h.parse(d),h.parse(k)))},operation:function(d,k){return sn(k)?k=k.symbol:Ot(k)||(k=h.parse(k)),new oi(h[d](this.symbol.clone(),k.clone()))},add:function(d){return this.operation("add",d)},subtract:function(d){return this.operation("subtract",d)},multiply:function(d){return this.operation("multiply",d)},divide:function(d){return this.operation("divide",d)},pow:function(d){return this.operation("pow",d)},expand:function(){return new oi(h.expand(this.symbol))},each:function(d,k){if(this.symbol.each)this.symbol.each(d,k);else if(pr(this.symbol))for(var k=0;k<this.symbol.length;k++)d.call(this.symbol,this.symbol[k],k);else d.call(this.symbol)},eq:function(d){Ot(d)||(d=h.parse(d));try{var k=h.subtract(this.symbol.clone(),d);return k.equals(0)}catch{return!1}},lt:function(d){Ot(d)||(d=h.parse(d));try{var k=L(h.subtract(this.symbol.clone(),d));return k.lessThan(0)}catch{return!1}},gt:function(d){Ot(d)||(d=h.parse(d));try{var k=L(h.subtract(this.symbol.clone(),d));return k.greaterThan(0)}catch{return!1}},gte:function(d){return this.gt(d)||this.eq(d)},lte:function(d){return this.lt(d)||this.eq(d)},numerator:function(){return new oi(this.symbol.getNum())},denominator:function(){return new oi(this.symbol.getDenom())},hasFunction:function(d){return this.symbol.containsFunction(d)},contains:function(d){return this.symbol.contains(d)}},oi.prototype.toTeX=oi.prototype.latex;function Ir(d){return this instanceof Ir?(d=String(typeof d>"u"?0:d),d.startsWith("-")?(this.sign=-1,d=d.substr(1,d.length)):this.sign=1,Ir.isScientific(d)?this.fromScientific(d):this.convert(d),this):new Ir(d)}Ir.prototype={fromScientific:function(d){var k=String(d).toLowerCase().split("e");return this.coeff=k[0],this.exponent=k[1],this},convert:function(d){var k=d.split("."),D=k[0]||"",H=k[1]||"";D=Ir.removeLeadingZeroes(D),H=Ir.removeTrailingZeroes(H);var re=D.length,he=D+H,Ae=Ir.leadingZeroes(he).length;this.exponent=re-(Ae+1);var ge=Ir.removeLeadingZeroes(he);this.coeff=ge.charAt(0)+"."+(ge.substr(1,ge.length)||"0");var pt=this.coeff.split(".")[1]||"";return this.decp=pt==="0"?0:pt.length,this.dec=H,this.wholes=D,this},round:function(d){var k=this.copy();if(d=Number(d),d===0)k.coeff=k.coeff.charAt(0);else{var D=this.coeff.substring(0,d+1),H=this.coeff.substring(d+1,d+3),re=H.charAt(0);H.charAt(1)>4&&re++,k.coeff=D+re}return k},copy:function(){var d=new Ir(0);return d.coeff=this.coeff,d.exponent=this.exponent,d.sign=this.sign,d},toString:function(d){var k;if(w.SCIENTIFIC_IGNORE_ZERO_EXPONENTS&&this.exponent===0&&this.decp<d)this.decp===0?k=this.wholes:k=this.coeff;else{var D=typeof d>"u"?this.coeff:Ir.round(this.coeff,Math.min(d,this.decp||1));k=this.exponent===0?D:D+"e"+this.exponent}return(this.sign===-1?"-":"")+k}},Ir.isScientific=function(d){return/\d+\.?\d*e[\+\-]*\d+/i.test(d)},Ir.leadingZeroes=function(d){var k=d.match(/^(0*).*$/);return k?k[1]:""},Ir.removeLeadingZeroes=function(d){var k=d.match(/^0*(.*)$/);return k?k[1]:""},Ir.removeTrailingZeroes=function(d){var k=d.match(/0*$/);return k?d.substring(0,d.length-k[0].length):""},Ir.round=function(d,k){var D=Cn(d,k),H=String(D).split(".").pop(),re=k-H.length;return re>0&&(D=D+new Array(re+1).join(0)),D};function Qt(d){if(d instanceof Qt)return d;if(d===void 0)return this;try{if(on(d))try{this.num=p(d),this.den=p(1)}catch{return Qt.simple(d)}else{var k=d instanceof $?ps.quickConversion(d):ps.convert(d);this.num=new p(k[0]),this.den=new p(k[1])}}catch{return Qt.simple(d)}}Qt.create=function(d){if(d instanceof Qt)return d;d=d.toString();var k=d.charAt(0)==="-";k&&(d=d.substr(1,d.length-1));var D=new Qt(d);return k&&D.negate(),D},Qt.isFrac=function(d){return d instanceof Qt},Qt.quick=function(d,k){var D=new Qt;return D.num=new p(d),D.den=new p(k),D},Qt.simple=function(d){for(var k=String(It(d)),D=k.split("."),H=D.join(""),re=1,he=(D[1]||"").length,Ae=0;Ae<he;Ae++)re+="0";var ge=Qt.quick(H,re);return ge.simplify()},Qt.prototype={multiply:function(d){if(this.isOne())return d.clone();if(d.isOne())return this.clone();var k=this.clone();return k.num=k.num.multiply(d.num),k.den=k.den.multiply(d.den),k.simplify()},divide:function(d){if(d.equals(0))throw new Y("Division by zero not allowed!");return this.clone().multiply(d.clone().invert()).simplify()},subtract:function(d){return this.clone().add(d.clone().neg())},neg:function(){return this.num=this.num.multiply(-1),this},add:function(d){var k=this.den,D=d.den,H=this.clone(),re=H.num,he=d.num;return k.equals(D)?H.num=re.add(he):(H.num=re.multiply(D).add(he.multiply(k)),H.den=k.multiply(D)),H.simplify()},mod:function(d){var k=this.clone(),D=d.clone();return k.num=k.num.multiply(D.den),k.den=k.den.multiply(D.den),D.num=D.num.multiply(this.den),D.den=D.den.multiply(this.den),k.num=k.num.mod(D.num),k.simplify()},simplify:function(){var d=p.gcd(this.num,this.den);return this.num=this.num.divide(d),this.den=this.den.divide(d),this},clone:function(){var d=new Qt;return d.num=new p(this.num),d.den=new p(this.den),d},decimal:function(d){var k=this.num.isNegative()?"-":"";if(this.num.equals(this.den))return"1";d=d||w.PRECISION,d++;for(var D=[],H=this.num.abs(),re=this.den,he=0;he<d;he++){var Ae=H.divide(re),ge=H.subtract(Ae.multiply(re));if(D.push(Ae),ge.equals(0))break;H=ge.times(10)}var pt=D.shift();if(D.length===0)return k+pt.toString();if(he===d){for(var At=[],he=0;he<2;he++)At.unshift(D.pop());D.push(Math.round(At.join(".")))}var Tt=pt.toString()+"."+D.join("");return k+Tt},toDecimal:function(d){return d=d||w.PRECISION,d?this.decimal(d):this.num/this.den},qcompare:function(d){return[this.num.multiply(d.den),d.num.multiply(this.den)]},equals:function(d){isNaN(d)||(d=new Qt(d));var k=this.qcompare(d);return k[0].equals(k[1])},absEquals:function(d){isNaN(d)||(d=new Qt(d));var k=this.qcompare(d);return k[0].abs().equals(k[1])},greaterThan:function(d){isNaN(d)||(d=new Qt(d));var k=this.qcompare(d);return k[0].gt(k[1])},gte:function(d){return this.greaterThan(d)||this.equals(d)},lte:function(d){return this.lessThan(d)||this.equals(d)},lessThan:function(d){isNaN(d)||(d=new Qt(d));var k=this.qcompare(d);return k[0].lt(k[1])},isInteger:function(){return this.den.equals(1)},negate:function(){return this.num=this.num.multiply(-1),this},invert:function(){var d=this.den;if(!this.num.equals(0)){var k=this.num.isNegative();this.den=this.num.abs(),this.num=d,k&&(this.num=this.num.multiply(-1))}return this},isOne:function(){return this.num.equals(1)&&this.den.equals(1)},sign:function(){return this.num.isNegative()?-1:1},abs:function(){return this.num=this.num.abs(),this},gcd:function(d){return Qt.quick(p.gcd(d.num,this.num),p.lcm(d.den,this.den))},toString:function(){return this.den.equals(1)?this.num.toString():this.num.toString()+"/"+this.den.toString()},valueOf:function(){if(w.USE_BIG)return new $(this.num.toString()).div(new $(this.den.toString()));var d=this.num/this.den;return d},isNegative:function(){return this.toDecimal()<0}};function fe(d){var k=d==="Infinity";return this instanceof fe?(d instanceof $&&(d=d.toString()),/^(\-?\+?\d+)\.?\d*e?\-?\+?\d*/i.test(d)||d instanceof $?(this.group=A,this.value=be,this.multiplier=new Qt(d)):(this.group=B,ft(d),this.value=d,this.multiplier=new Qt(1),this.imaginary=d===w.IMAGINARY,this.isInfinity=k),this.power=new Qt(1),this):new fe(d)}fe.imaginary=function(){var d=new fe(w.IMAGINARY);return d.imaginary=!0,d},fe.infinity=function(d){var k=new fe("Infinity");return d===-1&&k.negate(),k},fe.shell=function(d,k){var D=new fe(k);return D.group=d,D.symbols={},D.length=0,D},fe.unwrapSQRT=function(d,k){var D=d.power;if(d.fname===Ge&&(d.isLinear()||k)){var H=d.args[0].clone();H.power=H.power.multiply(new Qt(.5)),H.multiplier=H.multiplier.multiply(d.multiplier),d=H,k&&(d.power=D.multiply(new Qt(.5)))}return d},fe.hyp=function(d,k){return d=d||new fe(0),k=k||new fe(0),h.sqrt(h.add(h.pow(d.clone(),new fe(2)),h.pow(k.clone(),new fe(2))))},fe.toPolarFormArray=function(d){var k,D,H,re;return k=d.realpart(),D=d.imagpart(),H=fe.hyp(k,D),re=k.equals(0)?h.parse("pi/2"):h.trig.atan(h.divide(D,k)),[H,re]},fe.unwrapPARENS=function(d){if(d.fname===""){var k=d.args[0];return k.power=k.power.multiply(d.power),k.multiplier=k.multiplier.multiply(d.multiplier),d.fname===""?fe.unwrapPARENS(k):k}return d},fe.create=function(d,k){return k=k===void 0?1:k,h.parse("("+d+")^("+k+")")},fe.prototype={getNth:function(d){var k=L(h.pow(h.parse(this.multiplier),h.parse(d).invert())),D=h.parse(Cn(k)),H=L(h.pow(D,h.parse(d)));return H.equals(h.parse(this.multiplier))?D:k},isToNth:function(d){var k=this.getNth(d),D=on(k),H;return this.group===j?(H=!0,this.each(function(re){var he=re.isToNth(d);he||(H=!1)})):H=this.group===A?!0:on(h.divide(h.parse(this.power),h.parse(d))),D&&H},isSquare:function(){return this.isToNth(2)},isCube:function(){return this.isToNth(3)},isSimple:function(){return this.power.equals(1)&&this.multiplier.equals(1)},powSimp:function(){if(this.group===j){var d=[],D=this.multiplier.sign();this.each(function(hn){var qt=hn.power;if(Ot(qt)||qt.equals(1))return this.clone();d.push(qt)});var k=new Qt(Ct(d)),D=this.multiplier.sign(),H=this.multiplier.clone().abs(),re=fn.ifactor(H),he=new Qt(1),Ae=new Qt(1);for(var ge in re){var pt=new Qt(re[ge]);pt.lessThan(k)||(pt=pt.divide(k).subtract(new Qt(1)),Ae=Ae.multiply(new Qt(ge))),he=he.multiply(h.parse(Qn(ge)+"^"+Qn(pt)).multiplier)}var At=new fe(Ae);this.each(function(hn){hn=hn.clone(),hn.power=hn.power.divide(k),At=h.multiply(At,hn)});var Tt=h.symfunction(Ie,[At]);return Tt.power=k,Tt.multiplier=D<0?he.negate():he,Tt}return this.clone()},equals:function(d){return Ot(d)||(d=new fe(d)),this.value===d.value&&this.power.equals(d.power)&&this.multiplier.equals(d.multiplier)&&this.group===d.group},abs:function(){var d=this.clone();return d.multiplier.abs(),d},gt:function(d){return Ot(d)||(d=new fe(d)),this.isConstant()&&d.isConstant()&&this.multiplier.greaterThan(d.multiplier)},gte:function(d){return Ot(d)||(d=new fe(d)),this.equals(d)||this.isConstant()&&d.isConstant()&&this.multiplier.greaterThan(d.multiplier)},lt:function(d){return Ot(d)||(d=new fe(d)),this.isConstant()&&d.isConstant()&&this.multiplier.lessThan(d.multiplier)},lte:function(d){return Ot(d)||(d=new fe(d)),this.equals(d)||this.isConstant()&&d.isConstant()&&this.multiplier.lessThan(d.multiplier)},isPoly:function(d){var k=this.group,D=this.power;if(!on(D)||D<0)return!1;if(k===A||k===B||this.isConstant(!0))return!0;var H=yn(this);if(k===j&&H.length===1){var re=H[0];if(!re)return!0;for(var he in this.symbols){var Ae=this.symbols[he];if(Ae.group===ce&&!Ae.args[0].isConstant()||!Ae.contains(re)&&!Ae.isConstant(!0))return!1}return!0}if(this.isComposite()||k===j&&d){if(!d&&H.length>1)return!1;for(var he in this.symbols)if(!this.symbols[he].isPoly(d))return!1;return!0}else return!1},stripVar:function(d,k){var D;return(this.group===oe||this.group===B)&&this.value===d?D=new fe(k?0:this.multiplier):this.group===j&&this.isLinear()?(D=new fe(1),this.each(function(H){H.contains(d,!0)||(D=h.multiply(D,H.clone()))}),D.multiplier=D.multiplier.multiply(this.multiplier)):this.group===ie&&!this.isLinear()?D=new fe(this.multiplier):this.group===ie&&this.isLinear()?(D=new fe(0),this.each(function(H){if(!H.contains(d)){var re=H.clone();re.multiplier=re.multiplier.multiply(this.multiplier),D=h.add(D,re)}}),D.equals(0)&&(D=new fe(this.multiplier))):this.group===Z&&this.power.contains(d,!0)?D=new fe(this.multiplier):this.group===ce&&this.contains(d)?D=new fe(this.multiplier):D=this.clone(),D},toArray:function(d,k){k=k||{arr:[],add:function(ge,pt){var At=this.arr[pt];this.arr[pt]=At?h.add(At,ge):ge}};var D=this.group;if(D===B&&this.contains(d))k.add(new fe(this.multiplier),this.power);else if(D===j){var H=this.stripVar(d),re=h.divide(this.clone(),H.clone()),he=re.isConstant()?0:re.power;k.add(H,he)}else if(D===oe&&this.value===d)this.each(function(ge,pt){k.add(ge.stripVar(d),pt)});else if(D===ie)this.each(function(ge){ge.toArray(d,k)});else{if(this.contains(d))throw new Ke("Cannot convert to array! Exiting");k.add(this.clone(),0)}k=k.arr;for(var Ae=0;Ae<k.length;Ae++)k[Ae]||(k[Ae]=new fe(0));return k},hasFunc:function(d){var k=this.group===ce||this.group===Z;if(k&&!d||k&&this.contains(d))return!0;if(this.symbols){for(var D in this.symbols)if(this.symbols[D].hasFunc(d))return!0}return!1},sub:function(d,k){d=Ot(d)?d.clone():h.parse(d),k=Ot(k)?k.clone():h.parse(k),(d.group===A||d.group===z)&&Lt("Cannot substitute a number. Must be a variable");var D=!1,H=d.multiplier.equals(1),re=this.multiplier.clone(),he;if(this.value===d.value&&(this.group!==oe&&d.group!==oe||this.group===oe&&d.group===oe))(H||d.multiplier.equals(this.multiplier))&&(d.isLinear()?he=k:d.power.equals(this.power)&&(he=k,D=!0),d.multiplier.equals(this.multiplier)&&(re=new Qt(1)));else if(this.group===j||this.previousGroup===j)he=new fe(1),this.each(function(nn){var Sn=h.parse(nn.sub(d,k));he=h.multiply(he,Sn)});else if(this.isComposite()){var Ae=this.clone();if(d.isComposite()&&Ae.isComposite()&&Ae.isLinear()&&d.isLinear()){var ge=function(nn,Sn){for(var gn in nn.symbols){var zt=nn.symbols[gn];if(zt.isComposite()&&ge(zt,Sn)||zt.equals(Sn))return!0}return!1};for(var pt in d.symbols)if(!ge(Ae,d.symbols[pt]))return Ae.clone();he=h.add(h.subtract(Ae.clone(),d),k)}else he=new fe(0),Ae.each(function(nn){he=h.add(he,nn.sub(d,k))})}else if(this.group===Z)he=h.parse(this.value).sub(d,k);else if(this.group===ce){for(var At=[],Tt=0;Tt<this.args.length;Tt++){var hn=this.args[Tt];Ot(hn)||(hn=h.parse(hn)),At.push(hn.sub(d,k))}he=h.symfunction(this.fname,At)}if(he){if(!D){var qt=this.group===Z?this.power.sub(d,k):h.parse(this.power);he=h.pow(he,qt)}return he.multiplier=he.multiplier.multiply(re),he}return this.clone()},isMonomial:function(){if(this.group===B)return!0;if(this.group===j){for(var d in this.symbols)if(this.symbols[d].group!==B)return!1}else return!1;return!0},isPi:function(){return this.group===B&&this.value==="pi"},sign:function(){return this.multiplier.sign()},isE:function(){return this.value==="e"},isSQRT:function(){return this.fname===Ge},isConstant:function(d,k){if(k&&this.group===j){for(var D in this.symbols)if(this.symbols[D].isConstant(!0))return!0}if(d==="functions"&&this.isComposite()){var H=!0;return this.each(function(he){he.isConstant(d,k)||(H=!1)},!0),H}if(d==="all"&&(this.isPi()||this.isE()))return!0;if(d&&this.group===ce){for(var re=0;re<this.args.length;re++)if(!this.args[re].isConstant(d))return!1;return!0}return d?Wr(this):this.value===be},isImaginary:function(){if(this.imaginary)return!0;if(this.symbols){for(var d in this.symbols)if(this.symbols[d].isImaginary())return!0}return!1},realpart:function(){if(this.isConstant())return this.clone();if(this.imaginary)return new fe(0);if(this.isComposite()){var d=new fe(0);return this.each(function(k){d=h.add(d,k.realpart())}),d}else if(this.isImaginary())return new fe(0);return this.clone()},imagpart:function(){if(this.group===B&&this.isImaginary())return new fe(this.multiplier);if(this.isComposite()){var d=new fe(0);return this.each(function(k){d=h.add(d,k.imagpart())}),d}return this.group===j?this.stripVar(w.IMAGINARY):new fe(0)},isInteger:function(){return this.isConstant()&&this.multiplier.isInteger()},isLinear:function(d){if(d){if(this.isConstant())return!0;if(this.group===B)return this.value===d?this.power.equals(1):!0;if(this.isComposite()&&this.power.equals(1)){for(var k in this.symbols)if(!this.symbols[k].isLinear(d))return!1;return!0}return this.group===j&&this.symbols[d]?this.symbols[d].isLinear(d):!1}else return this.power.equals(1)},containsFunction:function(d){if(typeof d=="string"&&(d=[d]),this.group===ce&&d.indexOf(this.fname)!==-1)return!0;if(this.symbols){for(var k in this.symbols)if(this.symbols[k].containsFunction(d))return!0}return!1},multiplyPower:function(d){if(this.group===A&&this.multiplier.equals(1))return this;var k=this.power;if(this.group!==Z&&d.group===A){var D=d.multiplier;this.group===A&&!D.isInteger()&&this.convert(z),this.power=k.equals(1)?D.clone():k.multiply(D),this.group===z&&on(this.power)&&(this.value=Math.pow(this.value,this.power),this.toLinear(),this.convert(A))}else this.group!==Z&&(k=new fe(k),this.convert(Z)),this.power=h.multiply(k,d);return this},setPower:function(d,k){if(this.group===A&&this.multiplier.equals(1))return this;if(this.group===Z&&!Ot(d))this.group=this.previousGroup,delete this.previousGroup,this.group===A?(this.multiplier=new Qt(this.value),this.value=be):this.power=d;else{var D=!1;Ot(d)&&(d.group===A?d=d.multiplier:D=!0);var H=D?Z:z;this.power=d,this.group===A&&H&&this.convert(H,k)}return this},isInverse:function(){return this.group===Z?this.power.multiplier.lessThan(0):this.power<0},clone:function(d){var k=d||new fe(0),D=["value","group","length","previousGroup","imaginary","fname","args","isInfinity","scientific"],H=D.length,re;if(this.symbols){k.symbols={};for(var he in this.symbols)k.symbols[he]=this.symbols[he].clone()}for(re=0;re<H;re++)this[D[re]]!==void 0&&(k[D[re]]=this[D[re]]);return k.power=this.power.clone(),k.multiplier=this.multiplier.clone(),this.isConversion&&(k.isConversion=this.isConversion),this.isUnit&&(k.isUnit=this.isUnit),k},toUnitMultiplier:function(d){return this.multiplier.num=new p(this.multiplier.num.isNegative()&&d?-1:1),this.multiplier.den=new p(1),this},toLinear:function(){return this.power.equals(1)?this:(this.setPower(new Qt(1)),this)},each:function(d,k){if(!this.symbols)d.call(this,this,this.value);else for(var D in this.symbols){var H=this.symbols[D];if(H.group===oe&&k)for(var re in H.symbols)d.call(D,H.symbols[re],re);else d.call(this,H,D)}},valueOf:function(){return this.group===A?this.multiplier.valueOf():this.power===0?1:this.multiplier===0?0:xr(this,"decimals")},contains:function(d,k){d=String(d);var D=this.group;if(this.value===d)return!0;if(this.symbols){for(var H in this.symbols)if(this.symbols[H].contains(d,k))return!0}if(D===ce||this.previousGroup===ce){for(var re=0;re<this.args.length;re++)if(this.args[re].contains(d,k))return!0}return D===Z&&(k&&this.power.contains(d,k)||this.value===d)?!0:this.value===d},negate:function(){return this.multiplier.negate(),(this.group===ie||this.group===oe)&&this.distributeMultiplier(),this},invert:function(d,k){return d||(this.multiplier=this.multiplier.invert()),Ot(this.power)?this.power.negate():this.group===j&&k?this.each(function(D){return D.invert()}):this.power&&this.group!==A&&this.power.negate(),this},distributeMultiplier:function(d){var k=d?this.power.absEquals(1):this.power.equals(1);if(this.symbols&&k&&this.group!==j&&!this.multiplier.equals(1)){for(var D in this.symbols){var H=this.symbols[D];H.multiplier=H.multiplier.multiply(this.multiplier),H.distributeMultiplier()}this.toUnitMultiplier()}return this},distributeExponent:function(){if(!this.power.equals(1)){var d=this.power;for(var k in this.symbols){var D=this.symbols[k];D.group===Z?D.power=h.multiply(D.power,new fe(d)):this.symbols[k].power=this.symbols[k].power.multiply(d)}this.toLinear()}return this},convert:function(d,k){if(d>ce){var D=this.clone();this.symbols={},d===j?D.toUnitMultiplier():this.toUnitMultiplier(),this.group===ce&&(D.args=this.args,delete this.args,delete this.fname),this.isImgSymbol&&delete this.isImgSymbol,this.toLinear(),this.symbols[D.keyForGroup(d)]=D,this.group=d,this.length=1}else if(d===Z)this.group===A&&this.multiplier.equals(1)||(this.group!==Z&&(this.previousGroup=this.group),this.group===A?(this.value=this.multiplier.num.toString(),this.toUnitMultiplier()):this.value=xr(this,"hash"),this.group=Z);else if(d===A){var H=this.multiplier.toDecimal();this.symbols&&(this.symbols=void 0),new fe(this.group===z?H*Math.pow(this.value,this.power):H).clone(this)}else d===z&&this.group===A&&(this.value=k?this.multiplier.num.toString():Math.abs(this.multiplier.num.toString()),this.toUnitMultiplier(!k),this.group=z);return this},insert:function(d,k){if(Ot(d)||Lt("Object "+d+" is not of type Symbol!"),this.symbols){var D=this.group;if(D>ce){var H=d.keyForGroup(D),re=H in this.symbols?this.symbols[H]:!1;if(k==="add"){var he=H;re?(this.symbols[he]=h.add(re,d),this.symbols[he].multiplier.equals(0)&&(delete this.symbols[he],this.length--,this.length===0&&(this.convert(A),this.multiplier=new Qt(0)))):(this.symbols[H]=d,this.length++)}else d.group===z&&on(d.power)&&d.convert(A),d.group!==Z?(this.multiplier=this.multiplier.multiply(d.multiplier),d.toUnitMultiplier()):(d.parens=d.multiplier.lessThan(0),this.multiplier=this.multiplier.multiply(d.multiplier.clone().abs()),d.toUnitMultiplier(!0)),re&&(d=h.multiply(Hn(this.symbols,H),d),d.isConstant()&&(this.multiplier=this.multiplier.multiply(d.multiplier),d=new fe(1)),this.length--),d.isOne(!0)?d.multiplier.lessThan(0)&&this.negate():(this.symbols[H]=d,this.length++);this.length===0&&this.convert(A),(this.group===ie||this.group===j)&&this.updateHash()}}return this},attach:function(d){if(pr(d)){for(var k=0;k<d.length;k++)this.insert(d[k],"add");return this}return this.insert(d,"add")},combine:function(d){if(pr(d)){for(var k=0;k<d.length;k++)this.insert(d[k],"multiply");return this}return this.insert(d,"multiply")},updateHash:function(){if(this.group!==A)if(this.group===ce){for(var d="",k=this.args,D=this.fname===Ie,H=0;H<k.length;H++)d+=(H===0?"":",")+xr(k[H]);var re=D?"":this.fname;this.value=re+(D?d:Qn(d))}else this.group===B||this.group===oe||(this.value=xr(this,"hash"))},keyForGroup:function(d){var k=this.group,D;if(k===A)D=this.value;else if(k===B||k===z)d===oe?D=this.power.toDecimal():D=this.value;else if(k===ce)d===oe?D=this.power.toDecimal():D=xr(this,"hash");else{if(k===oe)return d===j?D=xr(this,"hash"):d===ie?this.power.equals(1)?D=this.value:D=Qn(xr(this,"hash"))+w.POWER_OPERATOR+this.power.toDecimal():d===oe?D=this.power.toString():D=this.value,D;k===ie?(d===ie&&(D=xr(this,"hash")),d===oe?D=this.power.toDecimal():D=this.value):k===j?d===oe?D=this.power.toDecimal():D=xr(this,"hash"):k===Z&&(d===oe?D=xr(this.power):D=xr(this,"hash"))}return D},collectSymbols:function(d,k,D,H){var re=[];if(!this.symbols)re.push(this);else for(var he in this.symbols){var Ae=this.symbols[he];H&&(Ae.group===oe||Ae.group===ie)?re=re.concat(Ae.collectSymbols()):re.push(d?d(Ae,k):Ae)}return D===null&&(D=void 0),re.sort(D)},latex:function(d){return dr.latex(this,d)},text:function(d){return xr(this,d)},isOne:function(d){var k=d?"absEquals":"equals";return this.group===A?this.multiplier[k](1):this.power.equals(0)},isComposite:function(){var d=this.group,k=this.previousGroup;return d===ie||d===oe||k===oe||k===ie},isCombination:function(){var d=this.group,k=this.previousGroup;return d===j||k===j},lessThan:function(d){return this.multiplier.lessThan(d)},greaterThan:function(d){return Ot(d)||(d=new fe(d)),!this.isConstant(!0)||!d.isConstant(!0)?!1:this.multiplier.greaterThan(d.multiplier)},getDenom:function(){var d,k;if(k=this.clone(),this.group===j&&this.power.lessThan(0)&&(k=h.expand(k)),k.power.lessThan(0)||k.group===Z&&k.power.multiplier.lessThan(0)){var D=h.parse(k.multiplier.den);d=k.toUnitMultiplier(),d.power.negate(),d=h.multiply(D,d)}else if(k.group===j){d=h.parse(k.multiplier.den);for(var H in k.symbols){var re=k.symbols[H];(re.power<0||re.group===Z&&re.power.multiplier.lessThan(0))&&(d=h.multiply(d,k.symbols[H].clone().invert()))}}else d=h.parse(k.multiplier.den);return d},getNum:function(){var d,k;return k=this.clone(),k.group===j&&k.power.lessThan(0)&&(k=h.expand(k)),k.power.greaterThan(0)&&k.group!==j||k.group===Z&&k.power.multiplier.greaterThan(0)?d=h.multiply(h.parse(k.multiplier.num),k.toUnitMultiplier()):k.group===j?(d=h.parse(k.multiplier.num),k.each(function(D){(D.power>0||D.group===Z&&D.power.multiplier>0)&&(d=h.multiply(d,D.clone()))})):d=h.parse(k.multiplier.num),d},toString:function(){return this.text()}};function Ci(){var d=this,k={},D={names:[],actions:[]};function H(y,M){this.start=y,this.end=M}H.prototype.isConstant=function(){return this.start.isConstant()&&this.end.isConstant()},H.prototype.text=function(){return xr(this.start)+":"+xr(this.end)};function re(){this.elements=[]}re.prototype.append=function(y){this.elements.push(y)},re.prototype.getItems=function(){return this.elements},re.prototype.toString=function(){return d.pretty_print(this.elements)},re.create=function(y){var M=new re;return y&&M.append(y),M};function he(y,M,se){if(this.type=M,this.value=y,se!==void 0&&(this.column=se+1),M===he.OPERATOR){var ve=At[y];for(var Ne in ve)this[Ne]=ve[Ne]}else M===he.FUNCTION&&(this.precedence=he.MAX_PRECEDENCE,this.leftAssoc=!1)}he.prototype.toString=function(){return this.value},he.prototype.toString=function(){return this.is_prefix?"`"+this.value:this.value},he.OPERATOR="OPERATOR",he.VARIABLE_OR_LITERAL="VARIABLE_OR_LITERAL",he.FUNCTION="FUNCTION",he.UNIT="UNIT",he.KEYWORD="KEYWORD",he.MAX_PRECEDENCE=999,this.classes={Collection:re,Slice:H,Token:he};var Ae={prec:void 0,cos:function(y,M){var se,ve;return se=d.parse(Math.cos(y)*Math.cosh(M)),ve=d.parse(Math.sin(y)*Math.sinh(M)),d.subtract(se,d.multiply(ve,fe.imaginary()))},sin:function(y,M){var se,ve;return se=d.parse(Math.sin(y)*Math.cosh(M)),ve=d.parse(Math.cos(y)*Math.sinh(M)),d.subtract(se,d.multiply(ve,fe.imaginary()))},tan:function(y,M){var se,ve;return se=d.parse(Math.sin(2*y)/(Math.cos(2*y)+Math.cosh(2*M))),ve=d.parse(Math.sinh(2*M)/(Math.cos(2*y)+Math.cosh(2*M))),d.add(se,d.multiply(ve,fe.imaginary()))},sec:function(y,M){var se=this.removeDen(this.cos(y,M));return d.subtract(se[0],d.multiply(se[1],fe.imaginary()))},csc:function(y,M){var se=this.removeDen(this.sin(y,M));return d.add(se[0],d.multiply(se[1],fe.imaginary()))},cot:function(y,M){var se=this.removeDen(this.tan(y,M));return d.subtract(se[0],d.multiply(se[1],fe.imaginary()))},acos:function(y,M){var se,ve,Ne,je,at,St;return se=this.fromArray([y,M]),St=d.pow(se.clone(),new fe(2)),ve=d.expand(St),Ne=d.multiply(ti(d.subtract(new fe(1),ve)),fe.imaginary()),je=d.expand(d.add(se.clone(),Ne)),at=Ss(je),d.expand(d.multiply(fe.imaginary().negate(),at))},asin:function(y,M){return d.subtract(d.parse("pi/2"),this.acos(y,M))},atan:function(y,M){if(y.equals(0)&&(M.equals(1)||M.equals(-1)))return d.parse(`${fe.infinity()}*${w.IMAGINARY}*${M}`);var se,ve,Ne,je;return je=Ae.fromArray([y,M]),se=d.expand(d.multiply(fe.imaginary(),je.clone())),ve=Ss(d.expand(d.subtract(new fe(1),se.clone()))),Ne=Ss(d.expand(d.add(new fe(1),se.clone()))),d.expand(d.multiply(d.divide(fe.imaginary(),new fe(2)),d.subtract(ve,Ne)))},asec:function(y,M){var se=this.removeDen([y,M]);return se[1].negate(),this.acos.apply(this,se)},acsc:function(y,M){var se=this.removeDen([y,M]);return se[1].negate(),this.asin.apply(this,se)},acot:function(y,M){var se=this.removeDen([y,M]);return se[1].negate(),this.atan.apply(this,se)},cosh:function(y,M){var se,ve;return se=d.parse(Math.cosh(y)*Math.cos(M)),ve=d.parse(Math.sinh(y)*Math.sin(M)),d.add(se,d.multiply(ve,fe.imaginary()))},sinh:function(y,M){var se,ve;return se=d.parse(Math.sinh(y)*Math.cos(M)),ve=d.parse(Math.cosh(y)*Math.sin(M)),d.add(se,d.multiply(ve,fe.imaginary()))},tanh:function(y,M){var se,ve;return se=d.parse(Math.sinh(2*y)/(Math.cos(2*M)+Math.cosh(2*y))),ve=d.parse(Math.sin(2*M)/(Math.cos(2*M)+Math.cosh(2*y))),d.subtract(se,d.multiply(ve,fe.imaginary()))},sech:function(y,M){var se=this.removeDen(this.cosh(y,M));return d.subtract(se[0],d.multiply(se[1],fe.imaginary()))},csch:function(y,M){var se=this.removeDen(this.sinh(y,M));return d.subtract(se[0],d.multiply(se[1],fe.imaginary()))},coth:function(y,M){var se=this.removeDen(this.tanh(y,M));return d.add(se[0],d.multiply(se[1],fe.imaginary()))},acosh:function(y,M){var se,ve,Ne;return Ne=this.fromArray([y,M]),se=ti(d.add(Ne.clone(),new fe(1))),ve=ti(d.subtract(Ne.clone(),new fe(1))),d.expand(Ss(d.add(Ne,d.expand(d.multiply(se,ve)))))},asinh:function(y,M){var se,ve;return ve=this.fromArray([y,M]),se=ti(d.add(new fe(1),d.expand(d.pow(ve.clone(),new fe(2))))),d.expand(Ss(d.add(ve,se)))},atanh:function(y,M){var se,ve,Ne;return Ne=this.fromArray([y,M]),se=Ss(d.add(Ne.clone(),new fe(1))),ve=Ss(d.subtract(new fe(1),Ne)),d.expand(d.divide(d.subtract(se,ve),new fe(2)))},asech:function(y,M){var se=this.removeDen([y,M]);return se[1].negate(),this.acosh.apply(this,se)},acsch:function(y,M){var se=this.removeDen([y,M]);return se[1].negate(),this.asinh.apply(this,se)},acoth:function(y,M){var se=this.removeDen([y,M]);return se[1].negate(),this.atanh.apply(this,se)},sqrt:function(y){var M,se,ve,Ne,je;return M=y.realpart(),se=y.imagpart(),ve=fe.hyp(M,se),Ne=d.add(M.clone(),ve),je=ti(d.multiply(new fe(2),Ne.clone())),d.add(d.divide(Ne.clone(),je.clone()),d.multiply(d.divide(se,je),fe.imaginary()))},log:function(y,M){var se,ve,Ne;return se=Ss(fe.hyp(y,M)),Ne=w.USE_BIG?fe($.atan2(M.multiplier.toDecimal(),y.multiplier.toDecimal())):Math.atan2(M,y),ve=d.parse(Ne),d.add(se,d.multiply(fe.imaginary(),ve))},erf(y,M){return d.symfunction("erf",[y])},removeDen:function(y){var M,se,ve,Ne,je;return pr(y)?(se=y[0],ve=y[1]):(se=y.realpart(),ve=y.imagpart()),M=Math.pow(se,2)+Math.pow(ve,2),Ne=d.parse(se/M),je=d.parse(ve/M),[Ne,je]},fromArray:function(y){return d.add(y[0],d.multiply(fe.imaginary(),y[1]))},evaluate:function(y,M){var se,ve,Ne;if(Ne=y.power.sign(),y.power=y.power.abs(),y.power.greaterThan(1)&&(y=d.expand(y)),Ne<0){var je=this.removeDen(y);se=je[0],ve=je[1]}else se=y.realpart(),ve=y.imagpart();return se.isConstant("all")&&ve.isConstant("all")?this[M].call(this,se,ve):d.symfunction(M,[y])}},ge=this.trig={cos:function(y){if(y.equals("pi")&&y.multiplier.den.equals(2))return new fe(0);if(w.PARSE2NUMBER){if(y.equals(new fe(w.PI/2)))return new fe(0);if(y.isConstant())return w.USE_BIG?new fe($.cos(y.multiplier.toDecimal())):new fe(Math.cos(y.valueOf()));if(y.isImaginary())return Ae.evaluate(y,"cos")}if(y.equals(0))return new fe(1);var M,se=!1,ve=Rl(y.multiplier.toDecimal()),Ne=y.multiplier.abs();if(y.multiplier=Ne,y.isPi()&&y.isLinear())if(on(Ne))M=new fe(G(Ne)?1:-1);else{Number(Ne.num);var je=Number(Ne.den);je===2?M=new fe(0):je===3?(M=d.parse("1/2"),se=!0):je===4?(M=d.parse("1/sqrt(2)"),se=!0):je===6?(M=d.parse("sqrt(3)/2"),se=!0):M=d.symfunction("cos",[y])}return se&&(ve===2||ve===3)&&M.negate(),M||(M=d.symfunction("cos",[y])),M},sin:function(y){if(w.PARSE2NUMBER){if(y.isConstant())return y%Math.PI===0?new fe(0):w.USE_BIG?new fe($.sin(y.multiplier.toDecimal())):new fe(Math.sin(y.valueOf()));if(y.isImaginary())return Ae.evaluate(y,"sin")}if(y.equals(0))return new fe(0);var M,se=!1,ve=Rl(y.multiplier.toDecimal()),Ne=y.multiplier.sign(),je=y.multiplier.abs();if(y.multiplier=je,y.equals("pi"))M=new fe(0);else if(y.isPi()&&y.isLinear())if(on(je))M=new fe(0);else{je.num;var at=je.den;at==2?(M=new fe(1),se=!0):at==3?(M=d.parse("sqrt(3)/2"),se=!0):at==4?(M=d.parse("1/sqrt(2)"),se=!0):at==6?(M=d.parse("1/2"),se=!0):M=d.multiply(new fe(Ne),d.symfunction("sin",[y]))}return M||(M=d.multiply(new fe(Ne),d.symfunction("sin",[y]))),se&&(ve===3||ve===4)&&M.negate(),M},tan:function(y){if(w.PARSE2NUMBER){if(y%Math.PI===0&&y.isLinear())return new fe(0);if(y.isConstant())return w.USE_BIG?new fe($.tan(y.multiplier.toDecimal())):new fe(Math.tan(y.valueOf()));if(y.isImaginary())return Ae.evaluate(y,"tan")}var M,se=!1,ve=Rl(y.multiplier.toDecimal()),Ne=y.multiplier;if(y.multiplier=Ne,y.isPi()&&y.isLinear())if(on(Ne))M=new fe(0);else{Ne.num;var je=Ne.den;if(je==2)throw new Q("tan is undefined for "+y.toString());je==3?(M=d.parse("sqrt(3)"),se=!0):je==4?(M=new fe(1),se=!0):je==6?(M=d.parse("1/sqrt(3)"),se=!0):M=d.symfunction("tan",[y])}return M||(M=d.symfunction("tan",[y])),se&&(ve===2||ve===4)&&M.negate(),M},sec:function(y){if(w.PARSE2NUMBER)return y.isConstant()?w.USE_BIG?new fe(new $(1).dividedBy($.cos(y.multiplier.toDecimal()))):new fe(fn.sec(y.valueOf())):y.isImaginary()?Ae.evaluate(y,"sec"):d.parse(Vn("1/cos({0})",y));var M,se=!1,ve=Rl(y.multiplier.toDecimal()),Ne=y.multiplier.abs();if(y.multiplier=Ne,y.isPi()&&y.isLinear())if(on(Ne))M=new fe(G(Ne)?1:-1);else{Ne.num;var je=Ne.den;if(je==2)throw new Q("sec is undefined for "+y.toString());je==3?(M=new fe(2),se=!0):je==4?(M=d.parse("sqrt(2)"),se=!0):je==6?(M=d.parse("2/sqrt(3)"),se=!0):M=d.symfunction("sec",[y])}return se&&(ve===2||ve===3)&&M.negate(),M||(M=d.symfunction("sec",[y])),M},csc:function(y){if(w.PARSE2NUMBER)return y.isConstant()?w.USE_BIG?new fe(new $(1).dividedBy($.sin(y.multiplier.toDecimal()))):new fe(fn.csc(y.valueOf())):y.isImaginary()?Ae.evaluate(y,"csc"):d.parse(Vn("1/sin({0})",y));var M,se=!1,ve=Rl(y.multiplier.toDecimal()),Ne=y.multiplier.sign(),je=y.multiplier.abs();if(y.multiplier=je,y.isPi()&&y.isLinear()){if(on(je))throw new Q("csc is undefined for "+y.toString());je.num;var at=je.den;at==2?(M=new fe(1),se=!0):at==3?(M=d.parse("2/sqrt(3)"),se=!0):at==4?(M=d.parse("sqrt(2)"),se=!0):at==6?(M=new fe(2),se=!0):M=d.multiply(new fe(Ne),d.symfunction("csc",[y]))}return M||(M=d.multiply(new fe(Ne),d.symfunction("csc",[y]))),se&&(ve===3||ve===4)&&M.negate(),M},cot:function(y){if(w.PARSE2NUMBER)return y%(Math.PI/2)===0?new fe(0):y.isConstant()?w.USE_BIG?new fe(new $(1).dividedBy($.tan(y.multiplier.toDecimal()))):new fe(fn.cot(y.valueOf())):y.isImaginary()?Ae.evaluate(y,"cot"):d.parse(Vn("1/tan({0})",y));var M,se=!1,ve=Rl(y.multiplier.toDecimal()),Ne=y.multiplier;if(y.multiplier=Ne,y.isPi()&&y.isLinear()){if(on(Ne))throw new Q("cot is undefined for "+y.toString());Ne.num;var je=Ne.den;je==2?M=new fe(0):je==3?(M=d.parse("1/sqrt(3)"),se=!0):je==4?(M=new fe(1),se=!0):je==6?(M=d.parse("sqrt(3)"),se=!0):M=d.symfunction("cot",[y])}return M||(M=d.symfunction("cot",[y])),se&&(ve===2||ve===4)&&M.negate(),M},acos:function(y){if(w.PARSE2NUMBER){if(y.isConstant()){if(y.gt(1)||y.lt(-1)){var M=y.toString();return fo(L(`pi/2-asin(${M})`))}return w.USE_BIG?new fe($.acos(y.multiplier.toDecimal())):new fe(Math.acos(y.valueOf()))}if(y.isImaginary())return Ae.evaluate(y,"acos")}return d.symfunction("acos",arguments)},asin:function(y){if(w.PARSE2NUMBER){if(y.isConstant()){if(y.gt(1)||y.lt(-1)){var M=w.IMAGINARY,se=y.multiplier.toDecimal();return fo(L(`${M}*log(sqrt(1-${se}^2)-${M}*${se})`))}return w.USE_BIG?new fe($.asin(y.multiplier.toDecimal())):new fe(Math.asin(y.valueOf()))}if(y.isImaginary())return Ae.evaluate(y,"asin")}return d.symfunction("asin",arguments)},atan:function(y){var M;if(y.equals(0))M=new fe(0);else{if(w.PARSE2NUMBER)return y.isConstant()?w.USE_BIG?new fe($.atan(y.multiplier.toDecimal())):new fe(Math.atan(y.valueOf())):y.isImaginary()?Ae.evaluate(y,"atan"):d.symfunction("atan",arguments);y.equals(-1)?M=d.parse("-pi/4"):M=d.symfunction("atan",arguments)}return M},asec:function(y){if(w.PARSE2NUMBER){if(y.equals(0))throw new Ee("Input is out of the domain of sec!");if(y.isConstant())return ge.acos(y.invert());if(y.isImaginary())return Ae.evaluate(y,"asec")}return d.symfunction("asec",arguments)},acsc:function(y){if(w.PARSE2NUMBER){if(y.isConstant())return ge.asin(y.invert());if(y.isImaginary())return Ae.evaluate(y,"acsc")}return d.symfunction("acsc",arguments)},acot:function(y){if(w.PARSE2NUMBER){if(y.isConstant())return new d.add(d.parse("pi/2"),ge.atan(y).negate());if(y.isImaginary())return Ae.evaluate(y,"acot")}return d.symfunction("acot",arguments)},atan2:function(y,M){if(y.equals(0)&&M.equals(0))throw new Q("atan2 is undefined for 0, 0");return w.PARSE2NUMBER&&y.isConstant()&&M.isConstant()?new fe(Math.atan2(y,M)):d.symfunction("atan2",arguments)}},pt=this.trigh={cosh:function(y){if(w.PARSE2NUMBER){if(y.isConstant())return new fe(Math.cosh(y.valueOf()));if(y.isImaginary())return Ae.evaluate(y,"cosh")}return d.symfunction("cosh",arguments)},sinh:function(y){if(w.PARSE2NUMBER){if(y.isConstant())return new fe(Math.sinh(y.valueOf()));if(y.isImaginary())return Ae.evaluate(y,"sinh")}return d.symfunction("sinh",arguments)},tanh:function(y){if(w.PARSE2NUMBER){if(y.isConstant())return new fe(Math.tanh(y.valueOf()));if(y.isImaginary())return Ae.evaluate(y,"tanh")}return d.symfunction("tanh",arguments)},sech:function(y){return w.PARSE2NUMBER?y.isConstant()?new fe(Math.sech(y.valueOf())):y.isImaginary()?Ae.evaluate(y,"sech"):d.parse(Vn("1/cosh({0})",y)):d.symfunction("sech",arguments)},csch:function(y){return w.PARSE2NUMBER?y.isConstant()?new fe(Math.csch(y.valueOf())):y.isImaginary()?Ae.evaluate(y,"csch"):d.parse(Vn("1/sinh({0})",y)):d.symfunction("csch",arguments)},coth:function(y){return w.PARSE2NUMBER?y.isConstant()?new fe(Math.coth(y.valueOf())):y.isImaginary()?Ae.evaluate(y,"coth"):d.parse(Vn("1/tanh({0})",y)):d.symfunction("coth",arguments)},acosh:function(y){var M;return w.PARSE2NUMBER&&y.isImaginary()?M=Ae.evaluate(y,"acosh"):w.PARSE2NUMBER?M=L(d.parse(Vn(w.LOG+"(({0})+sqrt(({0})^2-1))",y.toString()))):M=d.symfunction("acosh",arguments),M},asinh:function(y){var M;return w.PARSE2NUMBER&&y.isImaginary()?M=Ae.evaluate(y,"asinh"):w.PARSE2NUMBER?M=L(d.parse(Vn(w.LOG+"(({0})+sqrt(({0})^2+1))",y.toString()))):M=d.symfunction("asinh",arguments),M},atanh:function(y){var M;return w.PARSE2NUMBER&&y.isImaginary()?M=Ae.evaluate(y,"atanh"):w.PARSE2NUMBER?M=L(d.parse(Vn("(1/2)*"+w.LOG+"((1+({0}))/(1-({0})))",y.toString()))):M=d.symfunction("atanh",arguments),M},asech:function(y){var M;return w.PARSE2NUMBER&&y.isImaginary()?M=Ae.evaluate(y,"asech"):w.PARSE2NUMBER?M=L(Ss(d.add(y.clone().invert(),ti(d.subtract(d.pow(y,new fe(-2)),new fe(1)))))):M=d.symfunction("asech",arguments),M},acsch:function(y){var M;return w.PARSE2NUMBER&&y.isImaginary()?M=Ae.evaluate(y,"acsch"):w.PARSE2NUMBER?M=L(d.parse(Vn(w.LOG+"((1+sqrt(1+({0})^2))/({0}))",y.toString()))):M=d.symfunction("acsch",arguments),M},acoth:function(y){var M;return w.PARSE2NUMBER&&y.isImaginary()?M=Ae.evaluate(y,"acoth"):w.PARSE2NUMBER?y.equals(1)?M=fe.infinity():M=L(d.divide(Ss(d.divide(d.add(y.clone(),new fe(1)),d.subtract(y.clone(),new fe(1)))),new fe(2))):M=d.symfunction("acoth",arguments),M}};this.units={};var At={"\\":{precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(y){return y}},"!!":{precedence:7,operator:"!!",action:"dfactorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(y){return d.symfunction(w.DOUBLEFACTORIAL,[y])}},"!":{precedence:7,operator:"!",action:"factorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(y){return Dr(y)}},"^":{precedence:6,operator:"^",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"**":{precedence:6,operator:"**",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"%":{precedence:4,operator:"%",action:"percent",prefix:!1,postfix:!0,leftAssoc:!0,overloaded:!0,overloadAction:"mod",overloadLeftAssoc:!1,operation:function(y){return d.divide(y,new fe(100))}},"*":{precedence:4,operator:"*",action:"multiply",prefix:!1,postfix:!1,leftAssoc:!1},"/":{precedence:4,operator:"/",action:"divide",prefix:!1,postfix:!1,leftAssoc:!1},"+":{precedence:3,operator:"+",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(y){return y}},plus:{precedence:3,operator:"plus",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(y){return y}},"-":{precedence:3,operator:"-",action:"subtract",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(y){return y.negate()}},"=":{precedence:2,operator:"=",action:"equals",prefix:!1,postfix:!1,leftAssoc:!1},"==":{precedence:1,operator:"==",action:"eq",prefix:!1,postfix:!1,leftAssoc:!1},"<":{precedence:1,operator:"<",action:"lt",prefix:!1,postfix:!1,leftAssoc:!1},"<=":{precedence:1,operator:"<=",action:"lte",prefix:!1,postfix:!1,leftAssoc:!1},">":{precedence:1,operator:">",action:"gt",prefix:!1,postfix:!1,leftAssoc:!1},"=>":{precedence:1,operator:"=>",action:"gte",prefix:!1,postfix:!1,leftAssoc:!1},",":{precedence:0,operator:",",action:"comma",prefix:!1,postfix:!1,leftAssoc:!1},":":{precedence:0,operator:",",action:"assign",prefix:!1,postfix:!1,leftAssoc:!1,vectorFn:"slice"},":=":{precedence:0,operator:",",action:"function_assign",prefix:!1,postfix:!1,leftAssoc:!0}},Tt={"(":{type:"round",id:1,is_open:!0,is_close:!1},")":{type:"round",id:2,is_open:!1,is_close:!0},"[":{type:"square",id:3,is_open:!0,is_close:!1,maps_to:"vector"},"]":{type:"square",id:4,is_open:!1,is_close:!0},"{":{type:"curly",id:5,is_open:!0,is_close:!1,maps_to:"Set"},"}":{type:"curly",id:6,is_open:!1,is_close:!0}},hn=this.functions={cos:[ge.cos,1],sin:[ge.sin,1],tan:[ge.tan,1],sec:[ge.sec,1],csc:[ge.csc,1],cot:[ge.cot,1],acos:[ge.acos,1],asin:[ge.asin,1],atan:[ge.atan,1],arccos:[ge.acos,1],arcsin:[ge.asin,1],arctan:[ge.atan,1],asec:[ge.asec,1],acsc:[ge.acsc,1],acot:[ge.acot,1],atan2:[ge.atan2,2],acoth:[pt.acoth,1],asech:[pt.asech,1],acsch:[pt.acsch,1],sinh:[pt.sinh,1],cosh:[pt.cosh,1],tanh:[pt.tanh,1],asinh:[pt.asinh,1],sech:[pt.sech,1],csch:[pt.csch,1],coth:[pt.coth,1],acosh:[pt.acosh,1],atanh:[pt.atanh,1],log10:[,1],exp:[li,1],radians:[Ai,1],degrees:[zi,1],min:[Fs,-1],max:[n0,-1],erf:[,1],floor:[,1],ceil:[,1],trunc:[,1],Si:[,1],step:[,1],rect:[,1],sinc:[Fn,1],tri:[,1],sign:[Ns,1],Ci:[,1],Ei:[,1],Shi:[,1],Chi:[,1],Li:[,1],fib:[,1],fact:[Dr,1],factorial:[Dr,1],continued_fraction:[ir,[1,2]],dfactorial:[,1],gamma_incomplete:[,[1,2]],round:[Vo,[1,2]],scientific:[Yr,[1,2]],mod:[ei,2],pfactor:[ho,1],vector:[g0,-1],matrix:[$0,-1],Set:[Kc,-1],imatrix:[jc,-1],parens:[Pn,-1],sqrt:[ti,1],cbrt:[Wn,1],nthroot:[pi,2],log:[Ss,[1,2]],expand:[iu,1],abs:[Kn,1],invert:[Ll,1],determinant:[b0,1],size:[ka,1],transpose:[v0,1],dot:[W0,2],cross:[Qu,2],vecget:[Yc,2],vecset:[Ju,3],vectrim:[ih,[1,2]],matget:[ul,3],matset:[Zu,4],matgetrow:[mr,2],matsetrow:[su,3],matgetcol:[V0,2],matsetcol:[xa,3],rationalize:[Qi,1],IF:[Ys,3],is_in:[rs,2],realpart:[ni,1],imagpart:[Ps,1],conjugate:[_o,1],arg:[Yt,1],polarform:[Ii,1],rectform:[qi,1],sort:[qr,[1,2]],integer_part:[,1],union:[ec,2],contains:[ou,2],intersection:[tc,2],difference:[Ca,2],intersects:[Aa,2],is_subset:[q0,2],print:[Dl,-1]};this.error=Lt;var qt=function(y){for(var M=w.FUNCTION_MODULES,se=M.length,ve=0;ve<se;ve++){var Ne=M[ve];if(y in Ne)return Ne[y]}Lt("The function "+y+" is undefined!")};this.override=function(y,M){k[y]||(k[y]=[]),k[y].push(this[y]),this[y]=M},this.restore=function(y){this[y]&&(this[y]=k[y].pop())},this.extend=function(y,M,se){var ve=this,Ne=this[y];if(typeof Ne=="function"&&typeof M=="function"){var je=this[y];this[y]=function(at,St){return Ot(at)&&Ot(St)&&!se?je.call(ve,at,St):M.call(ve,at,St,je)}}},this.symfunction=function(y,M){var se=new fe(y);return se.group=ce,typeof M=="object"&&(M=[].slice.call(M)),se.args=M,se.fname=y===Ie?"":y,se.updateHash(),se},this.callfunction=function(y,M,se){var ve=hn[y];ve||Lt("Nerdamer currently does not support the function "+y);var Ne=ve[1]||se,je=ve[0],at;if(M instanceof Array||(M=M!==void 0?[M]:[]),Ne!==-1){var St=pr(Ne),Vt=St?Ne[0]:Ne,Xt=St?Ne[1]:Ne,pn=M.length,Mt=y+" requires a {0} of {1} arguments. {2} provided!";pn<Vt&&Lt(Vn(Mt,"minimum",Vt,pn)),pn>Xt&&Lt(Vn(Mt,"maximum",Xt,pn))}var Un=x(M);return je?at=je.apply(ve[2],M):(je=qt(y),w.PARSE2NUMBER&&Un?at=Nl(je.apply(je,M)):at=d.symfunction(y,M)),at},this.operator_filter_regex=(function(){var y="^\\"+Object.keys(At).filter(function(M){if(M.length===1)return M}).join("\\");return new RegExp("(["+y+"])\\s+(["+y+"])")})(),this.setOperator=function(y,M,se){var ve=y.operator;if(At[ve]=y,M&&(this[y.action]=M),d[ve]=y.operation,!y.action&&!(y.prefix||y.postif)&&(y.action=ve),se==="over"||se==="under"){var Ne=y.precedence;for(var je in At){var at=At[je],St=se==="over"?at.precedence>=Ne:at.precedence>Ne;St&&at.precedence++}}},this.getOperator=function(y){return At[y]},this.aliasOperator=function(y,M){var se={},ve=At[y];for(var Ne in ve)se[Ne]=ve[Ne];se.operator=M,this.setOperator(se)},this.getOperators=function(){return At},this.getBrackets=function(){return Tt};var nn=function(y){y=String(y);for(var M=0;M<D.actions.length;M++)y=D.actions[M].call(this,y);for(y=y.replace(/\s+/g," "),/e/gi.test(y)&&(y=y.replace(/\-*\d+\.*\d*e\+?\-?\d+/gi,function(ve){return It(ve)})),y=y.replace(w.IMPLIED_MULTIPLICATION_REGEX,function(){var ve=arguments[4],Ne=arguments[1],je=arguments[2],at=arguments[3],St=ve.charAt(at),Vt="",Xt="*";return St.match(/[\+\-\/\*]/)||(Vt=ve.charAt(at-1)),Vt.match(/[a-z]/i)&&(Xt=""),Ne+Xt+je}).replace(/([a-z0-9_]+)/gi,function(ve,Ne){return w.USE_MULTICHARACTER_VARS===!1&&!(Ne in hn)&&isNaN(Ne)?Ne.split("").join("*"):Ne}).replace(/\)\(/g,")*(")||"0";;){var se=y;if(y=y.replace(/([a-z0-9_]+)(\()|(\))([a-z0-9]+)/gi,function(ve,Ne,je,at,St){var Vt=Ne||at,Xt=je||St;return Vt in hn?Vt+Xt:Vt+"*"+Xt}),se===y)break}return y};this.initConstants=function(){this.CONSTANTS={E:new fe(w.E),PI:new fe(w.PI)}},this.pretty_print=function(y){if(Array.isArray(y)){var M=y.map(se=>d.pretty_print(se)).join(", ");return y.type==="vector"?"vector<"+M+">":"("+M+")"}return y.toString()},this.peekers={pre_operator:[],post_operator:[],pre_function:[],post_function:[]},this.callPeekers=function(y){if(w.callPeekers)for(var M=this.peekers[y],se=To(arguments).slice(1).map(Fi),ve=0;ve<M.length;ve++)M[ve].apply(null,se)},this.tokenize=function(y){y=String(y),y=y.trim().replace(/\s+/g," ");for(var M in Tt){var se=new RegExp(Tt[M].is_close?"\\s+\\"+M:"\\"+M+"\\s+","g");y=y.replace(se,M)}for(var ve=0,Ne=y.length,je=0,at=[],St=[at],Vt=St[0],Xt=0,pn=[],Mt=!1,Un=" ",Ln="",Gn=",",er="-",yr="*",Br=function(Cr,os){var de=[];Cr!==void 0&&(de.type=Cr),de.column=os,St.push(de),Vt.push(de),Vt=de,Xt++},en=function(){St.pop(),Vt=St[--Xt]},Nn=function(Cr){Cr=Cr!==void 0?Cr:ve;for(var os=Cr+1;y.charAt(os++)in At;);return y.substring(Cr,os-1)},Mr=function(Cr){for(var os=ve-Cr.length,de=[],wi=Cr.charAt(0),es=1,hl=Cr.length;es<hl;es++){var ro=Cr.charAt(es),mo=wi+ro;mo in At?wi=mo:(de.push(new he(wi,he.OPERATOR,os+es)),wi=ro)}return de.push(new he(wi,he.OPERATOR,os+es)),de},or=function(Cr,os){os===void 0&&(os=y.substring(je,Cr)),os in d.units?Vt.push(new he(os,he.UNIT,je)):os!==""&&Vt.push(new he(os,he.VARIABLE_OR_LITERAL,je))},Xr=function(Cr){Vt.push(new he(Cr,he.FUNCTION,je))},ai=function(Cr){je=Cr+1},Kr=function(){je=je+Pr.length-2,ve=je-1};ve<Ne;ve++){var ri=y.charAt(ve);if(ri in At){or(ve);var Jr=Vt[0]&&ct(Vt[0]),Ti=Jr&&ri===yr;Mt&&je<ve&&!(ri===Gn||Ti)&&(Mt=!1,en()),ai(ve+1);var Pr=Nn(ve);Kr(),Vt.push.apply(Vt,Mr(Pr))}else if(ri in Tt){var Ui=Tt[ri];if(Ui.is_open){pn.push([Ui,je]);var ms=y.substring(je,ve);ms in hn?Xr(ms):ms!==""&&Vt.push(new he(ms,he.VARIABLE_OR_LITERAL,je)),Br(Ui.maps_to,ve)}else if(Ui.is_close){var xs=pn.pop();if(xs){if(xs[0].id!==Ui.id-1)throw new st("Parity error")}else throw new st("Missing open bracket for bracket at: "+(ve+1));or(ve),en()}ai(ve)}else if(ri===Un){var _i=y.substring(je,ve),zs=y.charAt(ve+1);if(Mt){if(_i in At)Vt.push(new he(_i,he.OPERATOR,ve));else{or(void 0,_i),en();var po=zs in At;(po&&At[zs].value===er||!po)&&Vt.push(new he(yr,he.OPERATOR,ve))}Mt=!1}else{var ms=y.substring(je,ve);if(ms in hn)Mt=!0,Xr(ms),Br();else if(ms in At)Vt.push(new he(ms,he.OPERATOR,ve));else{or(void 0,ms);var zs=y.charAt(ve+1);_i!==Ln&&zs!==Ln&&!(_i in At)&&!(zs in At)&&Vt.push(new he(yr,he.OPERATOR,ve))}}ai(ve)}}if(pn.length){var ks=pn.pop();throw new st("Missing closed bracket for bracket at "+(ks[1]+1))}return or(ve),at},this.toRPN=function(y){var M=y.type,se=y.length,ve,Ne=[],je=[],at=[],St=function(yr,Br){for(;yr.length;)Br.push(yr.pop())};for(ve=0;ve<se;ve++){var Vt=y[ve];if(Vt.type!==he.OPERATOR)break;if(!Vt.prefix)throw new te("Not a prefix operator");Vt.is_prefix=!0,je.push(Vt)}for(;ve<se;ve++){var Xt=y[ve];if(Xt.type===he.OPERATOR){var pn=Xt;if(pn.overloaded){var Mt=y[ve+1];Mt&&Mt.type===he.VARIABLE_OR_LITERAL&&(pn.postfix=!1,pn.action=pn.overloadAction,pn.leftAssoc=pn.overloadLeftAssoc)}for(;je.length;){var Un=je[je.length-1];if(!(Un.precedence>pn.precedence||!pn.leftAssoc&&Un.precedence===pn.precedence))break;Ne.push(je.pop())}if((M==="vector"||M==="set")&&"vectorFn"in pn&&(pn.action=pn.vectorFn),pn.postfix){var Ln=y[ve-1];if(Ln){if(Ln.type===he.OPERATOR&&!Ln.postfix)throw new te("Unexpected prefix operator '"+Ln.value+"'! at "+Ln.column)}else throw new te("Unexpected prefix operator '"+Xt.value+"'! at "+Xt.column)}else do{var Mt=y[ve+1],Gn=Mt?Mt.type===he.OPERATOR:!1;if(Gn){if(!Mt.prefix)throw new te("A prefix operator was expected at "+Mt.column);Mt.is_prefix=!0,at.push(Mt),ve++}}while(Gn);for(pn.is_prefix?at.push(pn):je.push(pn);at.length&&(pn.leftAssoc||!pn.leftAssoc&&at[at.length-1].precedence>=pn.precedence);)je.push(at.pop())}else if(Xt.type===he.VARIABLE_OR_LITERAL){Ne.length===0&&St(at,je),Ne.push(Xt);var er=je[je.length-1];(!er||!er.leftAssoc)&&St(at,Ne)}else Xt.type===he.FUNCTION?je.push(Xt):Xt.type===he.UNIT&&Ne.push(Xt);Array.isArray(Xt)&&(Ne.push(this.toRPN(Xt)),Xt.type&&Ne.push(new he(Xt.type,he.FUNCTION,Xt.column)))}return St(je,Ne),St(at,Ne),Ne},this.parseRPN=function(y,M){try{M=M||{};for(var se in M)M[se]=d.parse(M[se],{});w.PARSE2NUMBER&&("e"in M||(M.e=new fe(w.E)),"pi"in M||(M.pi=new fe(w.PI)));for(var ve=[],Ne=0,je=y.length;Ne<je;Ne++){var at=y[Ne];if(Array.isArray(at)&&(at=this.parseRPN(at,M)),at)if(at.type===he.OPERATOR)if(at.is_prefix||at.postfix)ve.push(at.operation(ve.pop()));else{var St=ve.pop(),Vt=ve.pop();if(typeof Vt>"u")throw new te(at+" is not a valid postfix operator at "+at.column);var Xt=at.action==="comma";Vt instanceof tr&&!Xt&&(Vt=Lr.fromSet(Vt)),St instanceof tr&&!Xt&&(St=Lr.fromSet(St)),this.callPeekers("pre_operator",Vt,St,at);var pn=d[at.action](Vt,St);this.callPeekers("post_operator",pn,Vt,St,at),ve.push(pn)}else if(at.type===he.FUNCTION){var Mt=ve.pop(),Un=Mt.parent;Mt instanceof re||(Mt=re.create(Mt));var Ln=at.value,Gn=Mt.getItems();this.callPeekers("pre_function",Ln,Gn);var er=d.callfunction(Ln,Gn);this.callPeekers("post_function",er,Ln,Gn);var yr=ve[ve.length-1],Br=y[Ne+1],en=Br&&Br.type===he.OPERATOR&&Br.value===",";if(!en&&er instanceof Lr&&yr&&yr.elements&&!(yr instanceof re)){var Nn=ve.pop(),Mr=er.elements[0];if(!Mr.isConstant())Nn.getter=Mr,ve.push(Nn),ve.push(er);else if(Mr instanceof H)ve.push(Lr.fromArray(Nn.elements.slice(Mr.start,Mr.end)));else{var or=Number(Mr),Xr=Nn.elements.length;if(or<0&&(or=Xr+or),or<0||or>=Xr)throw new Nt("Index out of range "+(at.column+1));var ai=Nn.elements[or];Nn.getter=or,ai.parent=Nn,ve.push(ai)}}else Un&&(er.parent=Un),ve.push(er)}else{var Kr,ri=at.value;ri in w.ALIASES?at=d.parse(w.ALIASES[at]):at.type===he.VARIABLE_OR_LITERAL?at=new fe(ri):at.type===he.UNIT&&(at=new fe(ri),at.isUnit=!0),ri in d.CONSTANTS?(Kr=at,at=new fe(d.CONSTANTS[ri])):ri in M&&ri!==M[ri].toString()?(Kr=at,at=M[ri].clone()):ri in Xe&&(Kr=at,at=Xe[ri].clone()),Kr&&(at.subbed=Kr),ve.push(at)}}var Jr=ve[0];if(["undefined","string","number"].indexOf(typeof Jr)!==-1)throw new Zi("Unexpected token!");return Jr}catch(Pr){var Ti=[Ee];throw Ti.forEach(function(Ui){if(Pr instanceof Ui)throw new Ui(Pr.message+": "+at.column)}),new we(Pr.message+": "+at.column)}};function Sn(y){this.type=y.type,this.value=y.value,this.left=y.left,this.right=y.right}Sn.prototype.toString=function(){var y=this.left?this.left.toString()+"---":"",M=this.right?"---"+this.right.toString():"";return y+"("+this.value+")"+M},Sn.prototype.toHTML=function(y,M){y=y||0,M=typeof M>"u"?4:M;var se=function(at){return" ".repeat(M*at)},je="",ve=this.left?se(y+1)+`<li>
`+this.left.toHTML(y+2,M)+se(y+1)+`</li> 
`:"",Ne=this.right?se(y+1)+`<li>
`+this.right.toHTML(y+2,M)+se(y+1)+`</li>
`:"",je=se(y)+'<div class="'+this.type.toLowerCase()+'"><span>'+this.value+"</span></div>"+se(y)+`
`;return(ve||Ne)&&(je+=se(y)+`<ul>
`+ve+Ne+se(y)+`</ul>
`),je+="",je},this.tree=function(y){for(var M=[],se=0;se<y.length;se++){var ve=y[se];if(Array.isArray(ve)){ve=this.tree(ve),M.push(ve);continue}if(ve.type===he.OPERATOR)if(ve.is_prefix||ve.postfix){var Ne=ve.is_prefix?"left":"right",je=M.pop();ve=new Sn(ve),ve[Ne]=je,M.push(ve)}else ve=new Sn(ve),ve.right=M.pop(),ve.left=M.pop(),M.push(ve);else if(ve.type===he.FUNCTION){ve=new Sn(ve);var at=M.pop();if(ve.right=at,ve.value==="object"){var je=M[M.length-1];if(je){for(;je.right;)je=je.right;je.right=ve;continue}}M.push(ve)}else M.push(new Sn(ve))}return M[0]},this.parse=function(y,M){y=nn(y),M=M||{};var se=this.tokenize(y),ve=this.toRPN(se);return this.parseRPN(ve,M)},this.toObject=function(y){var M=function(se){for(var ve=[],Ne=0,je=se.length;Ne<je;Ne++){var at=se[Ne],St=at.value;if(at.type===he.VARIABLE_OR_LITERAL)ve.push(new fe(St));else if(at.type===he.FUNCTION){Ne++;var Vt=d.symfunction(St,M(se[Ne]));Vt.isConversion=!0,ve.push(Vt)}else at.type===he.OPERATOR?ve.push(St):ve.push(M(at))}return ve};return M(d.tokenize(y))};var gn=function(y){for(var M,se=0,ve=[[]],M=0,Ne=y.length;M<Ne;M++)y[M]===","?(se++,ve[se]=[]):ve[se].push(y[M]);return ve},zt=function(y){return y.replace(/^\\left\((.+)\\right\)$/g,function(M,se){return se||M})},nr=function(y){for(var M=[];y.length;){var se=y.shift(),ve=y[0],Ne=pr(ve),je=ve==="-";if(se==="^"&&(ve==="+"?y.shift():Ne&&ve[0]==="+"&&ve.shift(),Ne&&ve.length===1&&y.unshift(y.shift()[0])),se==="^"&&(Ne&&ve[0]==="-"||je)){var at=M.pop(),St=M[M.length-1],Vt="1";St==="*"?(M.pop(),Vt=M.pop()):pr(St)&&(Vt=M.pop()),M.push(Vt,"/",at,se),Ne?ve.shift():y.shift(),Ne&&ve.length===1&&M.push(y.shift()[0])}else M.push(se)}return M};this.toTeX=function(y,M){M=M||{};var se=M.decimals===!0?"decimals":void 0,ve=typeof y=="string"?this.toObject(y):y,Ne=[],je=typeof M.cdot>"u"?"\\cdot":M.cdot;if(ve=nr(ve),pr(ve)){for(var at=[],St,Vt,Xt=0;Xt<ve.length;Xt++)St=ve[Xt],ve[Xt+1]==="^"?(Vt=ve[Xt+2],at.push(dr.braces(this.toTeX([St]))+"^"+dr.braces(this.toTeX([Vt]))),Xt+=2):at.push(St);ve=at}for(var Xt=0,pn=ve.length;Xt<pn;Xt++){var Mt=ve[Xt];if(Mt==="*"&&(Mt=je),Ot(Mt))if(Mt.group===ce){var Un=Mt.fname,Ln;if(Un===Ge)Ln="\\sqrt"+dr.braces(this.toTeX(Mt.args));else if(Un===Te)Ln=dr.brackets(this.toTeX(Mt.args),"abs");else if(Un===Ie)Ln=dr.brackets(this.toTeX(Mt.args),"parens");else if(Un===w.LOG10)Ln="\\"+w.LOG10_LATEX+"\\left( "+this.toTeX(Mt.args)+"\\right)";else if(Un==="integrate"){var Gn=gn(Mt.args),er=dr.braces(this.toTeX(Gn[0])),yr=this.toTeX(Gn[1]);Ln="\\int "+er+"\\, d"+yr}else if(Un==="defint"){var Gn=gn(Mt.args),er=dr.braces(this.toTeX(Gn[0])),yr=this.toTeX(Gn[3]),Br=this.toTeX(Gn[1]),en=this.toTeX(Gn[2]);Ln="\\int\\limits_{"+Br+"}^{"+en+"} "+er+"\\, d"+yr}else if(Un==="diff"){var Gn=gn(Mt.args),yr="",er=dr.braces(this.toTeX(Gn[0]));if(Gn.length===1){var Nn=[];for(or=0;or<Gn[0].length;or++)Gn[0][or].group===3&&Nn.push(Gn[0][or].value);Nn.sort(),yr=Nn.length>0?"\\frac{d}{d "+Nn[0]+"}":"\\frac{d}{d x}"}else Gn.length===2?yr="\\frac{d}{d "+Gn[1]+"}":yr="\\frac{d^{"+Gn[2]+"}}{d "+this.toTeX(Gn[1])+"^{"+Gn[2]+"}}";Ln=yr+"\\left("+er+"\\right)"}else if(Un==="sum"||Un==="product"){var Mr=[[],[],[],[]],or=0,Xt;for(Xt=0;Xt<Mt.args.length;Xt++){if(Mt.args[Xt]===","){or++;continue}Mr[or].push(Mt.args[Xt])}Ln=(Un==="sum"?"\\sum_":"\\prod_")+dr.braces(this.toTeX(Mr[1])+" = "+this.toTeX(Mr[2])),Ln+="^"+dr.braces(this.toTeX(Mr[3]))+dr.braces(this.toTeX(Mr[0]))}else if(Un==="limit"){var Xr=gn(Mt.args).map(function(Kr){return Array.isArray(Kr)?d.toTeX(Kr.join("")):d.toTeX(String(Kr))});Ln="\\lim_"+dr.braces(Xr[1]+"\\to "+Xr[2])+" "+dr.braces(Xr[0])}else Un===We||Un===lt?Ln=this.toTeX(Mt.args)+(Un===We?"!":"!!"):Ln=dr.latex(Mt,se);Ne.push(Ln)}else Ne.push(dr.latex(Mt,se));else pr(Mt)?Ne.push(dr.brackets(this.toTeX(Mt))):Mt==="/"?Ne.push(dr.frac(zt(Ne.pop()),zt(this.toTeX([ve[++Xt]])))):Ne.push(Mt)}return Ne.join(" ")};function Pn(y){return w.PARSE2NUMBER?y:d.symfunction("parens",[y])}function Kn(y){if(y.isInfinity)return fe.infinity();if(y.multiplier.lessThan(0)&&y.multiplier.negate(),y.isImaginary()){var M=y.realpart(),se=y.imagpart();if(M.isConstant()&&se.isConstant())return ti(d.add(d.pow(M,new fe(2)),d.pow(se,new fe(2))))}else if(Wr(y)||G(y.power))return y;if(y.isComposite()){var ve=[];y.each(function(at){ve.push(at.multiplier)});var Ne=fn.QGCD.apply(null,ve);Ne.lessThan(0)&&(y.multiplier=y.multiplier.multiply(new Qt(-1)),y.distributeMultiplier())}var je=d.parse(y.multiplier);return y.toUnitMultiplier(),d.multiply(je,d.symfunction(Te,[y]))}function Dr(y){var M;if(Xn(y)){var se=new Lr;return y.each(function(pn,Mt){se.set(Mt-1,Dr(pn))}),se}if(dt(y)){var ve=new $n;return y.each(function(pn,Mt,Un){ve.set(Mt,Un,Dr(pn))}),ve}if(w.PARSE2NUMBER&&y.isConstant())return on(y)?M=fn.bigfactorial(y):M=fn.gamma(y.multiplier.add(new Qt(1)).toDecimal()),M=Nl(M),M;if(y.isConstant()){var Ne=y.getDenom();if(Ne.equals(2)){var je=y.getNum(),at,St,Vt,Xt;return y.multiplier.isNegative()?(Xt=d.subtract(je.negate(),new fe(1)).multiplier.divide(new Qt(2)),at=d.pow(new fe(-4),new fe(Xt)).multiplier.multiply(fn.bigfactorial(Xt)),St=fn.bigfactorial(new Qt(2).multiply(Xt))):(Xt=d.add(je,new fe(1)).multiplier.divide(new Qt(2)),at=fn.bigfactorial(new Qt(2).multiply(Xt)),St=d.pow(new fe(4),new fe(Xt)).multiplier.multiply(fn.bigfactorial(Xt))),Vt=at.divide(St),d.multiply(d.parse("sqrt(pi)"),new fe(Vt))}}return d.symfunction(We,[y])}function ir(y,M){var se=L(y);if(se.isConstant()){var ve=fn.continuedFraction(se,M),Ne=Lr.fromArray(ve.fractions.map(function(je){return new fe(je)}));return Lr.fromArray([new fe(ve.sign),new fe(ve.whole),Ne])}return d.symfunction("continued_fraction",arguments)}function ei(y,M){if(y.isConstant()&&M.isConstant()){var se=new fe(1);return se.multiplier=se.multiplier.multiply(y.multiplier.mod(M.multiplier)),se}var ve=d.divide(y.clone(),M.clone());return on(ve)?new fe(0):d.symfunction("mod",[y,M])}function Ys(y,M,se){return typeof y!="boolean"&&Wr(y)&&(y=!!Number(y)),y?M:se}function rs(y,M){if(dt(y))for(var se=0,ve=y.rows();se<ve;se++)for(var Ne=0,je=y.cols();Ne<je;Ne++){var at=y.elements[se][Ne];if(at.equals(M))return new fe(1)}else if(y.elements){for(var se=0,ve=y.elements.length;se<ve;se++)if(y.elements[se].equals(M))return new fe(1)}return new fe(0)}function Fn(y){return w.PARSE2NUMBER?y.isConstant()?new fe(fn.sinc(y)):d.parse(Vn("sin({0})/({0})",y)):d.symfunction("sinc",[y])}function li(y){return y.fname===w.LOG&&y.isLinear()?d.pow(y.args[0],fe.create(y.multiplier)):d.parse(Vn("e^({0})",y))}function Ai(y){return d.parse(Vn("({0})*pi/180",y))}function zi(y){return d.parse(Vn("({0})*180/pi",y))}function Qi(y){if(y.isComposite()){var M=new fe(0),se,ve,Ne,je,at,St,Vt,Xt;return y.each(function(pn){se=pn.getNum(),ve=pn.getDenom(),Ne=M.getNum(),je=M.getDenom(),at=d.multiply(ve,Ne),St=d.multiply(se,je),Vt=d.expand(d.add(at,St)),Xt=d.multiply(je,ve),M=d.divide(Vt,Xt)},!0),M}return y}function ti(y){if(Ot(y)||(y=d.parse(y)),y.group===Z)return d.symfunction(Ge,[y]);y.fname===""&&y.power.equals(1)&&(y=y.args[0]);var M=y.multiplier.sign()<0;if(w.PARSE2NUMBER){if(y.isConstant()&&!M)return new fe($.sqrt(y.multiplier.toDecimal()));if(y.isImaginary())return Ae.sqrt(y);if(y.group===B)return d.symfunction("sqrt",[y])}var se,ve,Ne=y.isConstant();if(y.group===j&&y.isLinear()){var je=ti(fe(y.multiplier));for(var at in y.symbols){var St=y.symbols[at];je=d.multiply(je,ti(St))}ve=je}else if(y.fname===Ge){var at=y.args[0],Vt=y.multiplier;at.setPower(y.power.multiply(new Qt(.25))),ve=at,Vt.equals(1)||(ve=d.multiply(ti(d.parse(Vt)),ve))}else if(!y.power.isInteger())y.setPower(y.power.multiply(new Qt(.5))),ve=y;else if(y.multiplier<0&&y.group===B){var Xt=d.parse(y.multiplier).negate(),pn=d.parse(y).toUnitMultiplier().negate();ve=d.multiply(d.symfunction(w.SQRT,[pn]),ti(Xt))}else{var Mt=y.power.sign();y.power=y.power.abs(),Ne&&y.multiplier.lessThan(0)&&(se=fe.imaginary(),y.multiplier=y.multiplier.abs());var Un=y.multiplier.toDecimal(),Ln=Math.abs(Un),Gn=Math.sqrt(Ln),je;if(on(Gn))je=new fe(Gn);else if(on(Un)){var er=fn.ifactor(Un),yr=1;for(var St in er){var Br=er[St],en=Br-Br%2;if(en){var Nn=Math.pow(St,en);yr*=Math.pow(St,en/2),Un/=Nn}}je=d.multiply(d.symfunction(Ge,[new fe(Un)]),new fe(yr))}else{for(var Mr=[new fe(y.multiplier.num),new fe(y.multiplier.den)],or=[new fe(1),new fe(1)],Xr=[new fe(1),new fe(1)],ai=0;ai<2;ai++){var Br=Mr[ai];ho(Br).each(function(Jr){Jr=fe.unwrapPARENS(Jr);var Ti=Jr.clone().toLinear(),Pr=Number(Jr.power),Ui=Pr%2,ms=(Pr-Ui)/2;or[ai]=d.multiply(or[ai],d.pow(Ti,new fe(ms))),Xr[ai]=d.multiply(Xr[ai],ti(d.pow(Ti,new fe(Ui))))})}je=d.divide(d.multiply(or[0],Xr[0]),d.multiply(or[1],Xr[1]))}y=y.toUnitMultiplier(!0),y.isOne()?ve=y:G(y.power.toString())?ve=d.pow(y.clone(),new fe(.5)):ve=d.symfunction(Ge,[y]),Mt<0&&ve.power.negate(),je&&(ve=d.multiply(je,ve)),se&&(ve=d.multiply(se,ve))}return M&&w.PARSE2NUMBER?d.parse(ve):ve}function Wn(y){if(!y.isConstant(!0)){var M,se=y.power/3,ve=d.pow(d.parse(y.multiplier),new fe(1/3)),Ne=y.toUnitMultiplier();return on(se)?M=d.pow(Ne.toLinear(),d.parse(se)):Ne.group===j?(M=new fe(1),Ne.each(function(je){M=d.multiply(M,Wn(je))})):M=d.symfunction("cbrt",[Ne]),d.multiply(ve,M)}return pi(y,new fe(3))}function Yr(y,M){return y.scientific=M||10,y}function pi(y,M,se,ve){if(M=L(d.parse(M)),M.equals(0))throw new Q("Unable to calculate nthroots of zero");if(y<0&&G(M))throw new Error("Cannot calculate nthroot of negative number for even powers");if(!y.isConstant(!0))return d.symfunction("nthroot",arguments);y.group!==A&&(y=L(y)),typeof ve>"u"&&(ve=!0),se=se||25;var Ne=y.sign(),je,at;if(Ne<0&&(y=Kn(y)),on(y)&&M.isConstant()){y<18446744073709552e3?at=Qt.create(Math.pow(y,1/M)):at=fn.nthroot(y,M);var je;return ve&&(je=new fe(at)),je=new fe(at.toDecimal(se)),d.multiply(new fe(Ne),je)}}function ho(y){if(y.greaterThan(9999999999998891e26)||y.equals(-1))return y;if(y.equals(Math.PI))return new fe(Math.PI);if(y=L(y.clone()),y.isConstant()){var M=new fe(1),se=y.toString();if(on(se)){var ve=fn.ifactor(se);for(var Ne in ve){var je=ve[Ne];M=d.multiply(M,d.symfunction("parens",[new fe(Ne).setPower(new Qt(je))]))}}else{var at=ho(new fe(y.multiplier.num)),St=ho(new fe(y.multiplier.den));M=d.multiply(d.symfunction("parens",[at]),d.symfunction("parens",[St]).invert())}}else M=d.symfunction("pfactor",arguments);return M}function ni(y){return y.realpart()}function Ps(y){return y.imagpart()}function _o(y){var M=y.realpart(),se=y.imagpart();return d.add(M,d.multiply(se.negate(),fe.imaginary()))}function Yt(y){var M=y.realpart(),se=y.imagpart();return M.isConstant()&&se.isConstant()?se.equals(0)&&M.equals(-1)?d.parse("pi"):se.equals(1)&&M.equals(0)?d.parse("pi/2"):se.equals(1)&&M.equals(1)?d.parse("pi/4"):new fe(Math.atan2(se,M)):d.symfunction("atan2",[se,M])}function Ii(y){var M,se,ve,Ne;return M=fe.toPolarFormArray(y),Ne=M[1],se=M[0],ve=d.parse(Vn("e^({0}*({1}))",w.IMAGINARY,Ne)),d.multiply(se,ve)}function qi(y){var M=y.clone();try{var se,ve,Ne,je,at,St,Vt;return se=Dt(y,"e",!0),ve=d.divide(se.x.power,fe.imaginary()),Ne=L(ge.tan(ve)),je=d.pow(se.a,new fe(2)),St=Ne.getDenom(!0),Vt=Ne.getNum(),at=fe.hyp(Vt,St),at.equals(se.a)?d.add(St,d.multiply(fe.imaginary(),Vt)):M}catch{return M}}function t0(y,M){M.map(function(je){je.numVal=L(je).multiplier});for(var se,ve,Ne;;){if(se=M.length,se<2)return M[0];ve=M.pop(),Ne=M[se-2],(y==="min"?ve.numVal<Ne.numVal:ve.numVal>Ne.numVal)&&(M.pop(),M.push(ve))}}function n0(){var y=[].slice.call(arguments);return Ze(y)?y[0]:x(y)?new fe(Math.max.apply(null,y)):w.SYMBOLIC_MIN_MAX&&P(y)?t0("max",y):d.symfunction("max",y)}function Fs(){var y=[].slice.call(arguments);return Ze(y)?y[0]:x(y)?new fe(Math.min.apply(null,y)):w.SYMBOLIC_MIN_MAX&&P(y)?t0("min",y):d.symfunction("min",y)}function Ns(y){return y.isConstant(!0)?new fe(Math.sign(L(y))):d.symfunction("sign",arguments)}function qr(y,M){M=M?M.toString():"asc";var se=function(Ne){return Ne.group===A?Ne.multiplier:Ne.group===ce?Ne.fname===""?se(Ne.args[0]):Ne.fname:Ne.group===B?Ne.power:Ne.value},ve=Xn(y)?y.elements:y.collectSymbols();return new Lr(ve.sort(function(Ne,je){var at=se(Ne),St=se(je);return M==="desc"?St-at:at-St}))}function Ss(y,M){if(y.equals(1))return new fe(0);var se;if(y.fname===Ge&&y.multiplier.equals(1))return se=d.divide(Ss(y.args[0]),new fe(2)),y.power.sign()<0&&se.negate(),se;if(y.equals(0))throw new Q(w.LOG+"(0) is undefined!");if(y.isImaginary())return Ae.evaluate(y,w.LOG);if(y.isConstant()&&typeof M<"u"&&M.isConstant()){var ve=Math.log(y),Ne=Math.log(M);se=new fe(ve/Ne)}else if(y.group===Z&&y.power.multiplier.lessThan(0)||y.power.toString()==="-1")y.power.negate(),se=Ss(y).negate();else if(y.value==="e"&&y.multiplier.equals(1)){var je=y.power;se=Ot(je)?je:new fe(je)}else if(y.group===ce&&y.fname==="exp"){var at=y.args[0];y.multiplier.equals(1)?se=d.multiply(at,new fe(y.power)):se=d.symfunction(w.LOG,[y])}else if(w.PARSE2NUMBER&&Wr(y)){y=d.parse(y);var St;y.multiplier.lessThan(0)&&(y.negate(),St=d.multiply(new fe(Math.PI),new fe("i"))),se=new fe(Math.log(y.multiplier.toDecimal())),St&&(se=d.add(se,St))}else{var at;!y.power.equals(1)&&!y.contains("e")&&(at=y.group===Z?y.power:new fe(y.power),y.toLinear()),arguments.length>1&&Ze(arguments)?se=new fe(1):se=d.symfunction(w.LOG,arguments),at&&(se=d.multiply(at,se))}return se}function Vo(y,M){var se=M&&M.isConstant()||typeof M>"u";if(y.isConstant()&&se){var ve,Ne,je,at;return ve=y,M&&M.lessThan(0)&&(M=Kn(M),Ne=Number(y).toExponential().toString().split("e"),ve=Ne[0],je=Ne[1]),at=new fe(Cn(ve,Number(M||0))),d.multiply(at,d.pow(new fe(10),new fe(je||0)))}return d.symfunction("round",arguments)}function Rl(y){var M=y%2,se;return M<0&&(M=2+M),M>=0&&M<=.5?se=1:M>.5&&M<=1?se=2:M>1&&M<=1.5?se=3:se=4,se}function Nl(y){if(!isFinite(y)){var M=Math.sign(y),se=new fe(String(Math.abs(y)));return se.multiplier=se.multiplier.multiply(new Qt(M)),se}if(Ot(y))return y;if(typeof y=="number")try{y=Qt.simple(y)}catch{y=new Qt(y)}var ve=new fe(0);return ve.multiplier=y,ve}function Ol(y){var M=y.group,se;if(M===ie){var ve=y.getNum(),Ne=y.getDenom()||new fe(1),je=Number(y.power),at=new fe(1);if(Math.abs(je)===1){Ne.each(function(Xt){Xt.group===j?at=d.multiply(at,Ol(Xt.getDenom())):Xt.power.lessThan(0)&&(at=d.multiply(at,Ol(Xt.clone().toUnitMultiplier())))});var St=new fe(0);Ne.each(function(Xt){St=d.add(d.divide(Xt,at.clone()),St)}),at.invert();var Vt;ve.isComposite()?(Vt=new fe(0),ve.each(function(Xt){Vt=d.add(d.multiply(Ol(Xt),at.clone()),Vt)})):Vt=d.multiply(at,ve),se=d.divide(Vt,St)}}else M===j?(se=new fe(1),y.each(function(Xt){se=d.multiply(se,d.clean(Xt))})):M===ce&&y.args.length===1&&y.args[0].isConstant()&&(se=Sr("PARSE2NUMBER",function(){return d.parse(y)},!0));return se||(se=y),se}function iu(y,M){return M=M||{expand_denominator:!0,expand_functions:!0},fo(y,M)}function fo(y,M){if(Array.isArray(y))return y.map(function(Gn){return fo(Gn,M)});if(M=M||{},y.group===ce&&y.fname===""){var se=fo(y.args[0],M),ve=fo(d.pow(se,d.parse(y.power)),M);return d.multiply(d.parse(y.multiplier),ve).distributeMultiplier()}if([A,z,B].indexOf(y.group)!==-1)return y;var Ne=y.clone();try{var je=y.multiplier.toString(),at=Number(y.power),St=y;if(y.isComposite()&&on(y.power)&&y.power>0){var Vt=at-1,se=new fe(0);y.each(function(er){se=d.add(se,fo(d.parse(er),M))});for(var Xt=d.parse(se),pn=0;pn<Vt;pn++)Xt=K(Xt,se,M);St=d.multiply(d.parse(je),Xt).distributeMultiplier()}else if(y.group===ce&&M.expand_functions===!0){var Mt=[];y.args.forEach(function(Gn){Mt.push(fo(Gn,M))}),St=d.pow(d.symfunction(y.fname,Mt),d.parse(y.power)),St=d.multiply(St,d.parse(y.multiplier))}else if(y.isComposite()&&on(y.power)&&y.power<0&&M.expand_denominator===!0)y=y.invert(),St=fo(y,M),St.invert();else if(y.group===j){var Un=function(er){switch(er.group){case ie:return 0;case oe:return 1;case j:return 2;case ce:return 3;default:return 4}},Ln=y.collectSymbols().sort(function(er,yr){return Un(yr)-Un(er)}).map(function(er){var yr=d.pow(er,d.parse(at)),Br=fo(yr,M);return Br}),se=Ln.pop();se.isComposite()&&se.isLinear()?(Ln.forEach(function(er){se=K(se,er,M)}),se.isComposite()?(se.power>1&&(se=fo(d.pow(se,d.parse(se.power)),M)),St=d.multiply(d.parse(je),se).distributeMultiplier()):St=se):(St=se,Ln.forEach(function(er){St=d.multiply(St,er)}),St=d.multiply(St,d.parse(je)).distributeMultiplier()),St.group===j&&(St=d.parse(St))}else St=y;return St}catch{return Ne}return Ne}function jc(y){return $n.identity(y)}function Yc(y,M){return M.isConstant()&&on(M)?y.elements[M]:d.symfunction("vecget",arguments)}function ih(y,M){return M=typeof M>"u"?1e-14:M,y=y.clone(),M=Number(M),y.elements.sort(function(se,ve){return ve.group-se.group}),y.elements=Ft(y.elements,function(se,ve){var Ne=Number(d.subtract(L(se),L(ve)).abs());return Ne<=M}),y}function Ju(y,M,se){return M.isConstant?(y.elements[M]=se,y):d.symfunction("vecset",arguments)}function ul(y,M,se){return M.isConstant()&&se.isConstant()?y.elements[M][se]:d.symfunction("matget",arguments)}function mr(y,M){return M.isConstant()?new $n(y.elements[M]):d.symfunction("matgetrow",arguments)}function su(y,M,se){if(!M.isConstant())return d.symfunction("matsetrow",arguments);if(y.elements[M].length!==se.elements.length)throw new Se("Matrix row must match row dimensions!");var ve=y.clone();return ve.elements[M]=se.clone().elements,ve}function V0(y,M){if(!M.isConstant())return d.symfunction("matgetcol",arguments);M=Number(M);var se=$n.fromArray([]);return y.each(function(ve,Ne,je){je===M&&se.elements.push([ve.clone()])}),se}function xa(y,M,se){if(!M.isConstant())return d.symfunction("matsetcol",arguments);if(M=Number(M),y.rows()!==se.elements.length)throw new Se("Matrix columns must match number of columns!");return se.each(function(ve,Ne){y.set(Ne-1,M,ve.elements[0].clone())}),y}function Zu(y,M,se,ve){return y.elements[M][se]=ve,y}function g0(){return new Lr([].slice.call(arguments))}function $0(){return $n.fromArray(arguments)}function Kc(){return tr.fromArray(arguments)}function b0(y){return dt(y)?y.determinant():y}function ka(y){var M;return dt(y)?M=[new fe(y.cols()),new fe(y.rows())]:Xn(y)||tn(y)?M=new fe(y.elements.length):Lt("size expects a matrix or a vector"),M}function W0(y,M){if(Xn(y)&&Xn(M))return y.dot(M);Lt("function dot expects 2 vectors")}function Qu(y,M){if(Xn(y)&&Xn(M))return y.cross(M);Lt("function cross expects 2 vectors")}function v0(y){if(dt(y))return y.transpose();Lt("function transpose expects a matrix")}function Ll(y){if(dt(y))return y.invert();Lt("invert expects a matrix")}function ec(y,M){return y.union(M)}function tc(y,M){return y.intersection(M)}function ou(y,M){return y.contains(M)}function Ca(y,M){return y.difference(M)}function Aa(y,M){return new fe(Number(y.intersects(M)))}function q0(y,M){return new fe(Number(y.is_subset(M)))}function Dl(){To(arguments).map(function(y){console.log(y.toString())})}function Ia(y){if(!Ot(y.power)&&y.power.absEquals(.5)){var M=y.power.sign(),se=ti(y.group===z?new fe(y.value):y.toLinear());return M<0&&se.invert(),se}return y}function lu(y){if(y.group===z){var M=y.value,se=Rs(M)[0];if(!se)return $t("Unable to compute prime factors. This should not happen. Please review and report."),y;var ve=new Qt(Math.log(M)/Math.log(se)),Ne=ve.multiply(y.power);if(Ne.den>y.power.den)return y;on(Ne)?y=fe(Math.pow(se,Ne)):y=new fe(se).setPower(Ne)}return y}this.expand=fo,this.round=Vo,this.clean=Ol,this.sqrt=ti,this.cbrt=Wn,this.abs=Kn,this.log=Ss,this.rationalize=Qi,this.nthroot=pi,this.arg=Yt,this.conjugate=_o,this.imagpart=Ps,this.realpart=ni,this.getFunction=function(y){return hn[y][0]},this.addPreprocessor=function(y,M,se,ve){var Ne=D.names,je=D.actions;if(typeof M!="function")throw new PreprocessorError("Incorrect parameters. Function expected!");se?ve?(Ne.splice(se,0,y),je.splice(se,0,M)):(Ne[se]=y,je[se]=M):(Ne.push(y),je.push(M))},this.getPreprocessors=function(){for(var y={},M=0,se=y.names.length;M<se;M++){var ve=y.names[M];y[ve]={order:M,action:y.actions[M]}}return y},this.removePreprocessor=function(y,M){var se=D.names.indexOf(y);M?(Hn(D.names,se),Hn(D.actions,se)):(D.names[se]=void 0,D.actions[se]=void 0)},this.mapped_function=function(){for(var y={},M=this.params,se=0;se<M.length;se++)y[M[se]]=String(arguments[se]);return d.parse(this.body,y)},this.add=function(y,M){var se=Ot(y),ve=Ot(M);if(se&&ve){if(y.unit||M.unit)return d.Unit.add(y,M);if(y.isInfinity||M.isInfinity){var Ne=y.multiplier.lessThan(0),je=M.multiplier.lessThan(0);if(y.isInfinity&&M.isInfinity&&Ne!==je)throw new Q("("+y+")+("+M+") is not defined!");var at=fe.infinity();return je&&at.negate(),at}if(y.isComposite()&&y.isLinear()&&M.isComposite()&&M.isLinear()&&(y.distributeMultiplier(),M.distributeMultiplier(),M.length>y.length&&y.group===M.group&&([y,M]=[M,y])),y.multiplier.equals(0))return M;if(M.multiplier.equals(0))return y;if(y.isConstant()&&M.isConstant()&&w.PARSE2NUMBER){var Nn=new fe(y.multiplier.add(M.multiplier).toDecimal(w.PRECISION));return Nn}var St=y.group,Vt=M.group,Xt=y.power.toString(),pn=M.power.toString();if(St<Vt||St===Vt&&Xt>pn&&pn>0)return this.add(M,y);if(St===j&&Vt===oe&&y.value===M.value){var Mt=y;y=M,M=Mt,St=y.group,Vt=M.group,Xt=y.power.toString(),pn=M.power.toString()}var Un=Xt===pn,Ln=y.value,Gn=M.value,er=y.isComposite(),yr=M.isComposite(),Br,en,Nn;if(er&&(Br=xr(y,"hash")),yr&&(en=xr(M,"hash")),St===ie&&Vt===ie&&M.isLinear()&&!y.isLinear()&&Br!==en)return this.add(M,y);St===oe&&Vt===oe&&(Ln=Br,Gn=en);var Mr=St===z&&Vt===A,or=y.value===M.multiplier.toString(),Xr=Ln===Gn||Br===en&&Br!==void 0||Mr&&or;if(Xr&&Un&&St===Vt)if(Mr&&(M=M.convert(z)),St===oe&&(Vt===B||Vt===z))y.distributeMultiplier(),Nn=y.attach(M);else if(Nn=y,y.multiplier.isOne()&&M.multiplier.isOne()&&St===ie&&y.isLinear()&&M.isLinear())for(var ai in M.symbols){var Kr=M.symbols[ai];Nn.attach(Kr)}else Nn.multiplier=Nn.multiplier.add(M.multiplier);else if(Xr&&St!==oe)St===ie&&Vt===oe?(M.insert(y,"add"),Nn=M):(Nn=fe.shell(oe).attach([y,M]),Nn.value=St===oe?Br:Ln);else if(er&&y.isLinear()){var ri=St===Vt,Jr=St===oe&&Vt===oe;if(Jr&&(ri=y.value===M.value),y.distributeMultiplier(),M.isComposite()&&M.isLinear()&&ri){M.distributeMultiplier();for(var ai in M.symbols){var Kr=M.symbols[ai];y.attach(Kr)}Nn=y}else Jr&&y.value!==en||St===oe&&!Xr?(Nn=fe.shell(ie).attach([y,M]),Nn.updateHash()):Nn=y.attach(M)}else{if(St===ce&&y.fname===Ge&&Vt!==Z&&M.power.equals(.5)){var Ti=M.multiplier.clone();M=ti(M.toUnitMultiplier().toLinear()),M.multiplier=Ti}y.length===2&&M.length===2&&G(y.power)&&G(M.power)?Nn=d.add(fo(y),fo(M)):(Nn=fe.shell(ie).attach([y,M]),Nn.updateHash())}if(Nn.multiplier.equals(0)&&(Nn=new fe(0)),Nn.length===1){var Ti=Nn.multiplier;Nn=Ce(Nn.symbols),Nn.multiplier=Nn.multiplier.multiply(Ti)}return Nn}else{if(ve&&!se){var Mt=y;y=M,M=Mt,Mt=ve,ve=se,se=Mt}var Pr=dt(M);if(se&&Pr){var Ui=new $n;M.eachElement(function(xs,_i,zs){Ui.set(_i,zs,d.add(y.clone(),xs))}),M=Ui}else if(dt(y)&&Pr)M=y.add(M);else if(se&&Xn(M))M.each(function(xs,_i){_i--,M.elements[_i]=d.add(y.clone(),M.elements[_i])});else if(Xn(y)&&Xn(M))M.each(function(xs,_i){_i--,M.elements[_i]=d.add(y.elements[_i],M.elements[_i])});else{if(Xn(y)&&dt(M))return d.add(M,y);if(dt(y)&&Xn(M))if(M.elements.length===y.rows()){var Ui=new $n,ms=y.cols();return M.each(function(_i,zs){for(var po=[],ks=0;ks<ms;ks++)po.push(d.add(y.elements[zs-1][ks].clone(),_i.clone()));Ui.elements.push(po)}),Ui}else Lt("Dimensions must match!")}return M}},this.subtract=function(y,M){var se=se=Ot(y),ve=Ot(M);if(se&&ve)return y.unit||M.unit?d.Unit.subtract(y,M):this.add(y,M.negate());if(ve&&Xn(y))M=y.map(function(at){return d.subtract(at,M.clone())});else if(se&&Xn(M))M=M.map(function(at){return d.subtract(y.clone(),at)});else if(Xn(y)&&Xn(M))y.dimensions()===M.dimensions()?M=y.subtract(M):d.error("Unable to subtract vectors. Dimensions do not match.");else if(dt(y)&&Xn(M))if(M.elements.length===y.rows()){var Ne=new $n,je=y.cols();return M.each(function(at,St){for(var Vt=[],Xt=0;Xt<je;Xt++)Vt.push(d.subtract(y.elements[St-1][Xt].clone(),at.clone()));Ne.elements.push(Vt)}),Ne}else Lt("Dimensions must match!");else if(Xn(y)&&dt(M)){var Ne=M.clone().negate();return d.add(Ne,y)}else if(dt(y)&&dt(M))M=y.subtract(M);else if(dt(y)&&ve){var Ne=new $n;y.each(function(St,Vt,Xt){Ne.set(Vt,Xt,d.subtract(St,M.clone()))}),M=Ne}else if(se&&dt(M)){var Ne=new $n;M.each(function(St,Vt,Xt){Ne.set(Vt,Xt,d.subtract(y.clone(),St))}),M=Ne}return M},this.multiply=function(y,M){var se=Ot(y),ve=Ot(M);if(se&&M instanceof re)return M.elements.push(y),M;if(se&&ve){if(M.isUnit){var en=y.clone();return y.unit=M,en}if(y.unit||M.unit)return d.Unit.multiply(y,M);if(y.isInfinity||M.isInfinity){if(y.equals(0)||M.equals(0))throw new Q(y+"*"+M+" is undefined!");if(M.power.lessThan(0)){if(y.isInfinity)throw new Q("Infinity/Infinity is not defined!");return new fe(0)}var er=y.multiplier.multiply(M.multiplier).sign(),Ne=fe.infinity();if(y.isConstant()||M.isConstant()||y.isInfinity&&M.isInfinity)return er<0&&Ne.negate(),Ne}if(y.isConstant()&&M.isConstant()&&w.PARSE2NUMBER){var je=new $(y.multiplier.toDecimal()).times(new $(M.multiplier.toDecimal())).toFixed(),at=new fe(je);return at}if(y.isOne())return M.clone();if(M.isOne())return y.clone();if(y.multiplier.equals(0)||M.multiplier.equals(0))return new fe(0);if(M.group>y.group&&M.group!==ie)return this.multiply(M,y);if(y.group===j&&M.group===oe&&y.value===M.value){var je=y;y=M,M=je}var St=y.group,Vt=M.group,Xt=M.multiplier.num,pn=M.multiplier.den;if(St===ce&&y.fname===Ge&&!M.isConstant()&&y.args[0].value===M.value&&!y.args[0].multiplier.lessThan(0)){var Mt=y.power,Un=d.parse(y.multiplier);y=d.multiply(Un,y.args[0].clone()),y.setPower(new Qt(.5).multiply(Mt)),St=y.group}else St===ce&&y.fname===Ge&&y.multiplier.equals(1)&&y.power.equals(-1)&&M.isConstant()&&y.args[0].equals(M)&&(y=d.symfunction(Ge,[M.clone()]),M=new fe(1));var Ln=y.value,Gn=M.value,er=new Qt(y.sign()),yr=St===z&&Vt===A&&M.multiplier.equals(y.value),Br=yr?new Qt(1).multiply(y.multiplier).abs():y.multiplier.multiply(M.multiplier).abs(),en=y.clone().toUnitMultiplier();if(M=M.clone().toUnitMultiplier(!0),St===ce&&Vt===ce){var Nn=y.args[0].clone(),Mr=M.args[0].clone();if(y.fname===Ge&&M.fname===Ge&&y.isLinear()&&M.isLinear()){var or=d.divide(Nn,Mr).invert();or.gt(1)&&on(or)&&(en=d.multiply(y.args[0].clone(),ti(or.clone())),M=new fe(1))}else if(y.fname===We&&M.fname===We&&!Nn.isConstant()&&!Mr.isConstant()&&M.power<0){var Xr=d.subtract(Nn.clone(),Mr.clone());if(Xr.isConstant())if(je=new fe(1),Xr<0){for(var ai=0,Kr=Math.abs(Xr);ai<=Kr;ai++){var ri=d.add(Nn.clone(),new fe(ai));je=d.multiply(je,ri)}en=d.multiply(d.pow(Nn,new fe(y.power)),d.pow(je,new fe(M.power))),M=new fe(1)}else{for(var ai=0,Kr=Math.abs(Xr);ai<=Kr;ai++){var ri=d.add(Mr.clone(),new fe(ai));je=d.multiply(je,ri)}en=d.multiply(d.pow(je,new fe(y.power)),d.pow(Mr,new fe(M.power))),M=new fe(1)}}}if(Ln===Gn&&St===oe&&St===Vt&&(Ln=y.text("hash"),Gn=M.text("hash")),Vt===Z&&M.previousGroup===oe&&St===oe&&(Ln=xr(y,"hash",Z)),(Ln===Gn||yr)&&!(St===oe&&(Vt===B||Vt===z||Vt===ce))&&!(St===oe&&Vt===j)){var Jr=y.power,Ti=M.power,Pr=Ot(Jr),Ui=Ot(Ti),ms=Pr||Ui;if(St===oe&&Vt!==oe&&M.previousGroup!==oe&&Jr.equals(1))en=new fe(0),y.each(function(ls){en=d.add(en,d.multiply(ls,M.clone()))},!0);else{if(en.power=ms?d.add(Ot(Jr)?Jr:new fe(Jr),Ot(Ti)?Ti:new fe(Ti)):St===A?Jr:Jr.add(Ti),en.power.equals(0)&&(en=en.convert(A)),ms&&en.convert(Z),y.imaginary&&M.imaginary){var xs=G(en.power%2);xs&&(en=new fe(1),Br.negate())}en.group!==Z&&en.previousGroup&&(en.previousGroup=void 0),en.multiplier=en.multiplier.multiply(M.multiplier)}}else if(St===j&&y.isLinear())if(Vt===j&&M.distributeExponent(),Vt===j&&M.isLinear()){for(var ri in M.symbols){var _i=M.symbols[ri];en=en.combine(_i)}en.multiplier=en.multiplier.multiply(M.multiplier)}else en.combine(M);else if(St!==A){if(St===j)en.distributeExponent(),en.combine(M);else if(!M.isOne()){var zs=M.multiplier.clone();M.toUnitMultiplier(),en=fe.shell(j).combine([en,M]),en.multiplier=en.multiplier.multiply(zs)}}else en=M.clone().toUnitMultiplier();if(en.group===z){var po=Math.log(en.value),ks=Math.log(Xt)/po,Cr=Math.log(pn)/po,os=Br.num/Xt,de=Br.den/pn;ks!==0&&on(ks)&&on(os)&&(en.power=en.power.add(new Qt(ks)),Br.num/=Xt),Cr!==0&&on(Cr)&&on(de)&&(en.power=en.power.subtract(new Qt(Cr)),Br.den/=pn)}if(en.length===1){var je=en.multiplier;en=Ce(en.symbols),en.multiplier=en.multiplier.multiply(je)}var wi=en.power.toString();if(G(wi)&&en.fname===Ge){er=er*en.sign();var es=en.power;en=en.args[0],en=d.multiply(new fe(Br),d.pow(en,new fe(es.divide(new Qt(2))))),er<0&&en.negate()}else en.multiplier=en.multiplier.multiply(Br).multiply(er),en.group===ie&&en.isImaginary()&&en.distributeMultiplier();return en.group===z&&on(en.power.toDecimal())&&(en=en.convert(A)),en}else{ve&&!se&&(je=y,y=M,M=je,je=ve,ve=se,se=je);var hl=dt(M),ro=dt(y);if(se&&hl){var mo=new $n;M.eachElement(function(ls,lr,Js){mo.set(lr,Js,d.multiply(y.clone(),ls))}),M=mo}else if(ro&&hl)M=y.multiply(M);else if(se&&Xn(M))M.each(function(ls,lr){lr--,M.elements[lr]=d.multiply(y.clone(),M.elements[lr])});else if(Xn(y)&&Xn(M))M.each(function(ls,lr){lr--,M.elements[lr]=d.multiply(y.elements[lr],M.elements[lr])});else{if(Xn(y)&&dt(M))return this.multiply(M,y);if(dt(y)&&Xn(M))if(M.elements.length===y.rows()){var mo=new $n,Ks=y.cols();return M.each(function(lr,Js){for(var Mi=[],go=0;go<Ks;go++)Mi.push(d.multiply(y.elements[Js-1][go].clone(),lr.clone()));mo.elements.push(Mi)}),mo}else Lt("Dimensions must match!")}return M}},this.divide=function(y,M){var se=Ot(y),ve=Ot(M);if(se&&ve){if(y.unit||M.unit)return d.Unit.divide(y,M);var Ne;if(M.equals(0))throw new Y("Division by zero not allowed!");return y.isConstant()&&M.isConstant()?(Ne=y.clone(),Ne.multiplier=Ne.multiplier.divide(M.multiplier)):(M.invert(),Ne=d.multiply(y,M)),Ne}else{var je=Xn(y),at=Xn(M);if(se&&at)M=M.map(function(pn){return d.divide(y.clone(),pn)});else if(je&&ve)M=y.map(function(pn){return d.divide(pn,M.clone())});else if(je&&at)y.dimensions()===M.dimensions()?M=M.map(function(pn,Mt){return d.divide(y.elements[--Mt],pn)}):d.error("Cannot divide vectors. Dimensions do not match!");else{var St=dt(y),Vt=dt(M);if(St&&ve){var Xt=new $n;y.eachElement(function(pn,Mt,Un){Xt.set(Mt,Un,d.divide(pn,M.clone()))}),M=Xt}else if(se&&Vt){var Xt=new $n;M.eachElement(function(Mt,Un,Ln){Xt.set(Un,Ln,d.divide(y.clone(),Mt))}),M=Xt}else if(St&&Vt){var Xt=new $n;y.rows()===M.rows()&&y.cols()===M.cols()?(y.eachElement(function(Mt,Un,Ln){Xt.set(Un,Ln,d.divide(Mt,M.elements[Un][Ln]))}),M=Xt):d.error("Dimensions do not match!")}else if(St&&at)if(y.cols()===M.dimensions()){var Xt=new $n;y.eachElement(function(Mt,Un,Ln){Xt.set(Un,Ln,d.divide(Mt,M.elements[Un].clone()))}),M=Xt}else d.error("Unable to divide matrix by vector.")}return M}},this.pow=function(y,M){var se=Ot(y),ve=Ot(M);if(se&&ve){if(y.unit||M.unit)return d.Unit.pow(y,M);if(y.group===ce&&y.fname===Te&&G(M)){var pn=y.multiplier.clone(),Ne=d.pow(y.args[0],M);return Ne.multiplier=pn,Ne}if(y.isInfinity||M.isInfinity){if(y.isInfinity&&M.isInfinity)throw new Q("("+y+")^("+M+") is undefined!");if(y.isConstant()&&M.isInfinity){if(y.equals(0)){if(M.lessThan(0))throw new Q("0^Infinity is undefined!");return new fe(0)}if(y.equals(1))throw new Q("1^"+M.toString()+" is undefined!");if(M.lessThan(0))return new fe(0);if(!y.lessThan(0))return fe.infinity()}if(y.isInfinity&&M.isConstant()){if(M.equals(0))throw new Q(y+"^0 is undefined!");return M.lessThan(0)?new fe(0):d.multiply(fe.infinity(),d.pow(new fe(y.sign()),M.clone()))}}var je=y.equals(0),at=M.equals(0);if(je&&at)throw new Q("0^0 is undefined!");if(je&&M.isConstant()&&M.multiplier.greaterThan(0))return new fe(0);if(at)return new fe(1);var St=M.isConstant(),Vt=y.isConstant(),Xt=M.isInteger(),pn=y.multiplier,Mt=y.clone();if(Vt&&St&&y.equals(0)&&M.lessThan(0))throw new Q("Division by zero is not allowed!");if(w.PARSE2NUMBER&&Vt&&St&&y.sign()<0&&$e(M)){var Un,Ln,Gn;return Un=Math.PI*M,Ln=new fe(Math.cos(Un)),Gn=d.multiply(fe.imaginary(),new fe(Math.sin(Un))),d.add(Ln,Gn)}if(w.PARSE2NUMBER&&y.isImaginary()&&St&&on(M)&&!M.lessThan(0)){var Ln,Gn,er,yr,Br,en,Nn;if(Ln=y.realpart(),Gn=y.imagpart(),Ln.isConstant("all")&&Gn.isConstant("all"))return Nn=w.USE_BIG?fe($.atan2(Ti.multiplier.toDecimal(),er.multiplier.toDecimal()).times(M.toString())):Math.atan2(Gn,Ln)*M,yr=new fe(Nn),er=d.pow(fe.hyp(Ln,Gn),M),Br=d.multiply(er.clone(),d.trig.cos(yr.clone())),en=d.multiply(er,d.trig.sin(yr)),d.add(Br,d.multiply(fe.imaginary(),en))}if(Mt.toUnitMultiplier(),Mt.group===ce&&Mt.fname===Ge&&!St){var Mr=Mt.args[0];Mr.multiplyPower(new fe(.5)),Mr.multiplier.multiply(Mt.multiplier),Mr.multiplyPower(M),Mt=Mr}else{var or=pn.sign();$e(M)&&or<0&&(Mt.negate(),Mt=d.symfunction(Ie,[Mt]),Mt.negate()),Mt.multiplyPower(M)}if(Vt&&St&&w.PARSE2NUMBER){var Xr;or<0&&(y.negate(),M.multiplier.den.equals(2)?Xr=new fe(w.IMAGINARY):on(M.multiplier)?G(M.multiplier)?Xr=new fe(1):Xr=new fe(-1):G(M.multiplier.den)?Xr=d.pow(d.symfunction(Ie,[new fe(or)]),M.clone()):Xr=new fe(Math.pow(or,M.multiplier.num))),Mt=new fe(Math.pow(y.multiplier.toDecimal(),M.multiplier.toDecimal())),Xr&&(Mt=d.multiply(Mt,Xr))}else if(Xt&&!pn.equals(1)){var ai=M.abs();if(ai.gt(w.MAX_EXP))return M.sign()<0?new fe(0):fe.infinity();var Kr=M.multiplier.toDecimal(),ri=Math.sign(Kr);Kr=Math.abs(Kr);var Jr=new Qt(1);Jr.num=pn.num.pow(Kr),Jr.den=pn.den.pow(Kr),ri<0&&Jr.invert(),Mt.multiplier=Mt.multiplier.multiply(Jr)}else{var or=y.sign();if(M.isConstant()&&y.isConstant()&&!M.multiplier.den.equals(1)&&or<0)if(M.multiplier.den.equals(2)){var Ti=new fe(w.IMAGINARY);y.negate(),M.lessThan(0)&&(Ti.negate(),M.negate()),Mt=d.multiply(d.pow(y,M),Ti)}else{var Pr=y.clone();Pr.multiplier.negate(),Mt=d.pow(d.symfunction(Ie,[new fe(or)]),M.clone());var Ui=d.pow(new fe(Pr.multiplier.num),M.clone()),ms=d.pow(new fe(Pr.multiplier.den),M.clone()),er=d.divide(Ui,ms);Mt=d.multiply(Mt,er)}else if(w.PARSE2NUMBER&&M.isImaginary()){var Ln=M.realpart(),Gn=M.imagpart(),Pr=y.clone().toLinear(),xs=d.pow(Pr.clone(),Ln),_i=Ss(Pr.clone()),zs=ge.cos(d.multiply(Gn.clone(),_i)),po=d.multiply(ge.sin(d.multiply(Gn,Ss(Pr))),fe.imaginary());Mt=d.multiply(xs,d.add(zs,po)),Mt=d.expand(d.parse(Mt))}else{var ks=y.group===A&&or<0,Cr=Ia(new fe(ks?pn.num:Math.abs(pn.num)).setPower(M.clone())),os=Ia(new fe(pn.den).setPower(M.clone()).invert());if(y.imaginary)if(Xt){var Mr,Kr,de;Mr=Math.sign(M),Kr=Kn(M),de=Kr%4,Mt=new fe(G(de)?-1:w.IMAGINARY),(de===0||Mr<0&&de===1||Mr>0&&de===3)&&Mt.negate()}else{var wi=M.multiplier.multiply(Qt.quick(1,2)),es=Math.pow(-1,wi.num);Mt=G(wi.den)?new fe(-1).setPower(wi,!0):new fe(es)}if(or<0&&!ks&&Mt.negate(),St&&y.group!==Z){var hl=G(M.multiplier.den),ro=G(y.power),de=Mt.power.toDecimal(),mo=G(de);if(hl&&ro&&!mo){if(de===1)Mt=d.symfunction(Te,[Mt]);else if(on(de))Mt=d.multiply(d.symfunction(Te,[Mt.clone().toLinear()]),Mt.clone().setPower(new Qt(de-1)));else{var Kr=Mt.power;Mt=d.symfunction(Te,[Mt.toLinear()]).setPower(Kr)}w.POSITIVE_MULTIPLIERS&&Mt.fname===Te&&(Mt=Mt.args[0])}}if(M.equals(2)&&Mt.group===j){var Ks=new fe(1);Mt.each(function(r0){Ks=d.multiply(Ks,d.pow(r0,M))}),Mt=Ks}}}if(Mt=Ia(Mt),Cr&&os&&(Mt=d.multiply(Mt,lu(d.multiply(Cr,os)))),Mt.fname===Ge){var ls=Mt.group===Z,lr=ls?Mt.power.multiplier.toString():Mt.power.toString();if(G(lr)){var Js=ls?d.divide(Mt.power,new fe(2)):new fe(Mt.power.divide(new Qt(2))),pn=Mt.multiplier;Mt=d.pow(Mt.args[0],Js),Mt.multiplier=Mt.multiplier.multiply(pn)}}else if(!w.IGNORE_E&&Mt.isE()&&Mt.group===Z&&Mt.power.contains("pi")&&Mt.power.contains(w.IMAGINARY)&&M.group===j){var yr=M.stripVar(w.IMAGINARY);Mt=d.add(ge.cos(yr),d.multiply(fe.imaginary(),ge.sin(yr)))}return Mt}else{if(Xn(y)&&ve)y=y.map(function(go){return d.pow(go,M.clone())});else if(dt(y)&&ve){var Mi=new $n;y.eachElement(function(go,r0,Bl){Mi.set(r0,Bl,d.pow(go,M.clone()))}),y=Mi}else if(se&&dt(M)){var Mi=new $n;M.eachElement(function(r0,Bl,y0){Mi.set(Bl,y0,d.pow(y.clone(),r0))}),y=Mi}return y}},this.comma=function(y,M){return y instanceof re||(y=re.create(y)),y.append(M),y},this.mod=function(y,M){return ei(y,M)},this.slice=function(y,M){return new H(y,M)},this.equals=function(y,M){return y.group!==B&&!y.isLinear()&&Lt("Cannot set equality for "+y.toString()),Xe[y.value]=M.clone(),M},this.percent=function(y){return d.divide(y,new fe(100))},this.assign=function(y,M){if(y instanceof re&&M instanceof re)return y.elements.map(function(ve,Ne){return d.assign(ve,M.elements[Ne])}),Lr.fromArray(M.elements);if(y.parent){var se=y.parent;return se.elements[se.getter]=M,delete se.getter,se}if(y.group!==B)throw new Or("Cannot complete operation. Incorrect LH value for "+y);return Xe[y.value]=M,M},this.function_assign=function(y,M){var se=y.elements.pop();return tt(se,y.elements,M)};var cl=function(y){return new fe(y===!0?1:0)};this.eq=function(y,M){return cl(y.equals(M))},this.gt=function(y,M){return cl(y.gt(M))},this.gte=function(y,M){return cl(y.gte(M))},this.lt=function(y,M){return cl(y.lt(M))},this.lte=function(y,M){return cl(y.lte(M))},this.factorial=function(y){return this.symfunction(We,[y])},this.dfactorial=function(y){return this.symfunction(lt,[y])}}var ps={convert:function(d,k){var D;if(d===0)D=[0,1];else if(d<1e-6||d>1e20){var H=this.quickConversion(Number(d));if(H[1]<=1e20){var re=Math.abs(d),he=d/re;D=this.fullConversion(re.toFixed((H[1]+"").length-1)),D[0]=D[0]*he}else D=H}else D=this.fullConversion(d);return D},quickConversion:function(d){var k=function(H){typeof H!="string"&&(H=H.toString());var re="",he=H.charAt(0);return he==="-"?(H=H.substr(1,H.length),re="-"):he==="+"&&(H=H.substr(1,H.length)),{sign:re,value:H}};function D(H){Ir.isScientific(H)&&(H=It(H));var re=k(H),he=re.value.split("."),Ae;he.length===1?Ae=he[0]:Ae=he[0]+he[1];var ge=he[1]?he[1].length:0,pt=`1${"0".repeat(ge)}`;return Ae!=="0"&&(Ae=Ae.replace(/^0+/,"")),[re.sign+Ae,pt]}return D(d)},fullConversion:function(d){for(var k=!1,D=0,H=1,re=1,he=0,Ae=0,ge=d,pt=1e-16;!k;){Ae++,Ae>1e4&&(k=!0);var At=Math.floor(ge),Tt=D+At*re,hn=H+At*he,qt=ge-At;qt<pt&&(k=!0),ge=1/qt,D=re,H=he,re=Tt,he=hn,(Math.abs(Tt/hn-d)<pt||Ae>30)&&(k=!0)}return[Tt,hn]}},dr={parser:(function(){var d=["classes","setOperator","getOperators","getBrackets","tokenize","toRPN","tree","units"],k=new Ci;for(var D in k)d.indexOf(D)===-1&&delete k[D];k.setOperator({precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(re){return re}}),k.setOperator({precedence:8,operator:"\\,",action:"slash_comma",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(re){return re}});var H=k.getBrackets();return H["{"].maps_to=void 0,k})(),space:"~",dot:" \\cdot ",latex:function(d,k){if(d.clone&&(d=d.clone()),d instanceof h.classes.Collection&&(d=d.elements),pr(d)){for(var D=[],H=0;H<d.length;H++){var re=d[H];Ot(re)||(re=h.parse(re)),D.push(this.latex(re,k))}return this.brackets(D.join(", "),"square")}else if(dt(d)){for(var he=`\\begin{pmatrix}
`,H=0;H<d.elements.length;H++){for(var Ae=[],ge=d.elements[H],pt=0;pt<ge.length;pt++)Ae.push(this.latex(ge[pt],k));he+=Ae.join(" & "),H<d.elements.length-1&&(he+=`\\\\
`)}return he+="\\end{pmatrix}",he}else if(Xn(d)){for(var he="\\left[",H=0;H<d.elements.length;H++)he+=this.latex(d.elements[H],k)+" "+(H!==d.elements.length-1?",\\,":"");return he+="\\right]",he}else if(tn(d)){for(var he="\\{",H=0;H<d.elements.length;H++)he+=this.latex(d.elements[H],k)+" "+(H!==d.elements.length-1?",\\,":"");return he+="\\}",he}d=d.clone();var At=k==="decimal"||k==="decimals",Tt=d.power,hn=Ei(Tt),qt=d.multiplier.lessThan(0);if(d.group===z&&At)return String(d.multiplier.toDecimal()*Math.pow(d.value,d.power.toDecimal()));d.multiplier=d.multiplier.abs();var nn;if(At){var Sn=String(d.multiplier.toDecimal());nn=[Sn,""]}else nn=[d.multiplier.num,d.multiplier.den];var gn=this.value(d,hn,k,qt),zt;hn&&Tt.negate(),At?(zt=Ot(Tt)?dr.latex(Tt,k):String(Tt.toDecimal()),String(zt)==="1"&&(zt="")):Ot(Tt)?zt=this.latex(Tt,k):zt=this.formatFrac(Tt,!0);var nr=["",""],Pn=hn?1:0;nr[Pn]=zt;var Kn=(qt?"-":"")+this.set(nn,gn,nr,d.group===j);return Kn.replace(/\+\-/gi,"-")},greek:{alpha:"\\alpha",beta:"\\beta",gamma:"\\gamma",delta:"\\delta",epsilon:"\\epsilon",zeta:"\\zeta",eta:"\\eta",theta:"\\theta",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",mu:"\\mu",nu:"\\nu",xi:"\\xi",omnikron:"\\omnikron",pi:"\\pi",rho:"\\rho",sigma:"\\sigma",tau:"\\tau",upsilon:"\\upsilon",phi:"\\phi",chi:"\\chi",psi:"\\psi",omega:"\\omega",Gamma:"\\Gamma",Delta:"\\Delta",Epsilon:"\\Epsilon",Theta:"\\Theta",Lambda:"\\Lambda",Xi:"\\Xi",Pi:"\\Pi",Sigma:"\\Sigma",Phi:"\\Phi",Psi:"\\Psi",Omega:"\\Omega"},symbols:{arccos:"\\arccos",cos:"\\cos",csc:"\\csc",exp:"\\exp",ker:"\\ker",limsup:"\\limsup",min:"\\min",sinh:"\\sinh",arcsin:"\\arcsin",cosh:"\\cosh",deg:"\\deg",gcd:"\\gcd",lg:"\\lg",ln:"\\ln",Pr:"\\Pr",sqrt:"\\sqrt",sup:"\\sup",arctan:"\\arctan",cot:"\\cot",det:"\\det",hom:"\\hom",lim:"\\lim",log:"\\log",LN:"\\LN",sec:"\\sec",tan:"\\tan",arg:"\\arg",coth:"\\coth",dim:"\\dim",inf:"\\inf",liminf:"\\liminf",max:"\\max",sin:"\\sin",tanh:"\\tanh"},value:function(d,k,D,H){var re=d.group,he=d.previousGroup,Ae=["",""],ge=k?1:0;if(d.isInfinity)Ae[ge]="\\infty";else if(re===B||re===z||he===B||he===z||he===A){var pt=this.formatSubscripts(d.value);pt.replace&&(pt=pt.replace(/(.+)_$/,"$1\\_"));var At=String(pt).split("_"),Tt=this.greek[At[0]];Tt&&(At[0]=Tt,pt=At.join("_"));var d=this.symbols[At[0]];d&&(At[0]=d,pt=At.join("_")),Ae[ge]=pt}else if(re===ce||he===ce){for(var hn,qt=[],nn=d.fname,Sn=0;Sn<d.args.length;Sn++){var gn=d.args[Sn],zt;typeof gn=="string"?zt=gn:zt=this.latex(gn,D),qt.push(zt)}if(nn===Ge)Ae[ge]="\\sqrt"+this.braces(qt.join(","));else if(nn===Te)Ae[ge]=this.brackets(qt.join(","),"abs");else if(nn===Ie)Ae[ge]=this.brackets(qt.join(","),"parens");else if(nn==="limit")Ae[ge]=" \\lim\\limits_{"+qt[1]+" \\to "+qt[2]+"} "+qt[0];else if(nn==="integrate")Ae[ge]="\\int"+this.braces(qt[0])+this.braces("d"+qt[1]);else if(nn==="defint")Ae[ge]="\\int\\limits_"+this.braces(qt[1])+"^"+this.braces(qt[2])+" "+qt[0]+" d"+qt[3];else if(nn===We||nn===lt){var gn=d.args[0];gn.power.equals(1)&&(gn.isComposite()||gn.isCombination())&&(qt[0]=this.brackets(qt[0])),Ae[ge]=qt[0]+(nn===We?"!":"!!")}else if(nn==="floor")Ae[ge]="\\left \\lfloor"+this.braces(qt[0])+"\\right \\rfloor";else if(nn==="ceil")Ae[ge]="\\left \\lceil"+this.braces(qt[0])+"\\right \\rceil";else if(nn===w.LOG&&qt.length>1)Ae[ge]="\\mathrm"+this.braces(w.LOG)+"_"+this.braces(qt[1])+this.brackets(qt[0]);else if(nn===w.LOG10)Ae[ge]="\\mathrm"+this.braces(w.LOG)+"_"+this.braces(10)+this.brackets(qt[0]);else if(nn==="sum"){var nr=qt[0],Pn=qt[1],Kn=qt[2],Dr=qt[3];Ae[ge]="\\sum\\limits_{"+this.braces(Pn)+"="+this.braces(Kn)+"}^"+this.braces(Dr)+" "+this.braces(nr)}else if(nn==="product"){var nr=qt[0],Pn=qt[1],Kn=qt[2],Dr=qt[3];Ae[ge]="\\prod\\limits_{"+this.braces(Pn)+"="+this.braces(Kn)+"}^"+this.braces(Dr)+" "+this.braces(nr)}else if(nn==="nthroot")Ae[ge]="\\sqrt["+qt[1]+"]"+this.braces(qt[0]);else if(nn==="mod")Ae[ge]=qt[0]+" \\bmod "+qt[1];else if(nn==="realpart")Ae[ge]="\\operatorname{Re}"+this.brackets(qt[0]);else if(nn==="imagpart")Ae[ge]="\\operatorname{Im}"+this.brackets(qt[0]);else{var hn=nn!==""?"\\mathrm"+this.braces(nn.replace(/_/g,"\\_")):"";d.isConversion?Ae[ge]=hn+this.brackets(qt.join(""),"parens"):Ae[ge]=hn+this.brackets(qt.join(","),"parens")}}else if(d.isComposite()){for(var ir=d.collectSymbols().sort(re===ie||he===ie?function(Yr,pi){return pi.group-Yr.group}:function(Yr,pi){var ho=Ot(Yr.power)?-1:Yr.power,ni=Ot(pi.power)?-1:pi.power;return ni-ho}),ei=[],Ys=ir.length,Sn=0;Sn<Ys;Sn++)ei.push(dr.latex(ir[Sn],D));var pt=ei.join("+");Ae[ge]=!(d.isLinear()&&d.multiplier.equals(1))||H?this.brackets(pt,"parens"):pt}else if(re===j||he===Z||he===j){re===j&&d.distributeExponent();var rs=[],Fn=[],li=[],Ai=[],zi=0,Qi=0,ti=function(Wn,Yr,pi){if(pi>1&&Yr.length>0)for(var ho=Yr.length,ni=0;ni<ho;ni++){var Ps=Yr[ni],_o=Wn[Ps];/^\\left\(.+\\right\)\^\{.+\}$/g.test(_o)||/^\\left\(.+\\right\)$/g.test(_o)||(Wn[Ps]=dr.brackets(_o,"parens"))}return Wn};d.each(function(Wn){var Yr=Ei(Wn.power),pi;Yr?(pi=dr.latex(Wn.invert(),D),Qi++,Wn.isComposite()&&(d.multiplier.den!=1&&Math.abs(Wn.power)==1&&(pi=dr.brackets(pi,"parens")),li.push(rs.length)),rs.push(pi)):(pi=dr.latex(Wn,D),zi++,Wn.isComposite()&&(d.multiplier.num!=1&&Math.abs(Wn.power)==1&&(pi=dr.brackets(pi,"parens")),Ai.push(Fn.length)),Fn.push(pi))}),ti(Fn,Ai,zi),Ae[0]=Fn.join(this.dot),ti(rs,li,Qi),Ae[1]=rs.join(this.dot)}return Ae},set:function(d,k,D,H){var re=function(nn){return/^\\left\(.+\\right\)$/.test(nn)};if(D&&(D=this.formatP(D)),H){var he=D[0];D[0]=""}k=this.merge(k,D);var Ae=d[0],ge=d[1],pt=k[0],At=k[1];pt&&Number(Ae)===1&&(Ae=""),Number(ge)===1&&(ge="");var Tt=this.join(Ae,pt,re(pt)?"":this.dot),hn=this.join(ge,At,re(At)?"":this.dot);if(Tt&&hn){var qt=this.frac(Tt,hn);return H&&he&&(qt=this.brackets(qt)+he),qt}else return Tt},merge:function(d,k){for(var D=[],H=0;H<2;H++)D[H]=d[H]+k[H];return D},join:function(d,k,D){return!d&&!k?"":d&&!k?d:k&&!d?k:d+D+k},formatSubscripts:function(d){for(var k=d.toString().split("_"),D="";k.length>1;)k.length>0&&(D="_"+this.braces(k.pop()+D));return k[0]+D},formatP:function(d){for(var k=0;k<2;k++){var D=d[k];D&&(d[k]="^"+this.braces(D))}return d},formatFrac:function(d,k){var D=d.num.toString(),H=d.den.toString();return k&&D==="1"&&H==="1"?"":H==="1"?D:this.frac(D,H)},frac:function(d,k){return"\\frac"+this.braces(d)+this.braces(k)},braces:function(d){return"{"+d+"}"},brackets:function(d,k){k=k||"parens";var D={parens:["(",")"],square:["[","]"],brace:["{","}"],abs:["|","|"],angle:["\\langle","\\rangle"]},H=D[k];return"\\left"+H[0]+d+"\\right"+H[1]},filterTokens:function(d){var k=[];pr(d)&&(k.type=d.type);for(var D=["\\","left","right","big","Big","large","Large"],H=0,re=d.length;H<re;H++){var he=d[H],Ae=d[H+1];he.value==="\\"&&Ae.value==="\\"?k.push(he):pr(he)?k.push(dr.filterTokens(he)):D.indexOf(he.value)===-1&&k.push(he)}return k},parse:function(d){var k,D,H="",re=this.filterTokens(d),he={cdot:"",times:"",infty:"Infinity"},Ae=function(ir){return re[typeof ir>"u"?++k:k+=ir]},ge=function(){return dr.parse(Ae())},pt=function(ir){return ir in he?he[ir]:ir==="*"&&re[k+1].value==="&"?(Ae(2),","):ir==="&"?(Ae(),","):ir==="\\"?"],[":ir};for(k=0,D=re.length;k<D;k++){var At=re[k];if(At.value==="frac"){var Tt=ge(),hn=ge();H+=Tt+"/"+hn}else if(At.value in dr.symbols)if(At.value===Ge&&re[k+1].type==="vector"&&re[k+2].type==="Set"){var qt=ge(),nn=ge();H+=nn+"^"+Qn("1/"+qt)}else H+=At.value+ge();else if(At.value==="int"){var Sn=ge();k++;var gn=Ae().value;gn=pt(gn.substring(1,gn.length)),H+="integrate"+Qn(Sn+","+gn)}else if(At.value==="int_"){var D=ge();k++;var zt=Ae().value;if(zt===void 0){k--;var zt=ge()}var Sn=ge(),gn=Ae().value;if(gn===",")var gn=Ae().value;if(gn==="differentialD"){k++;var gn=Ae().value}if(gn==="mathrm"){k++;var gn=Ae().value}H+="defint"+Qn(Sn+","+D+","+zt+","+gn)}else if(At.value&&At.value.startsWith("int_")){var D=At.value.replace("int_","");console.log("uppernow"),k++;var zt=Ae().value;if(zt===void 0){k--;var zt=ge()}var Sn=ge(),gn=Ae().value;if(gn===",")var gn=Ae().value;if(gn==="differentialD"){k++;var gn=Ae().value}if(gn==="mathrm"){k++;var gn=Ae().value}H+="defint"+Qn(Sn+","+D+","+zt+","+gn)}else if(At.value==="mathrm"){var Sn=re[++k][0].value;H+=Sn+ge()}else if(At.value==="sum_"||At.value==="prod_"){var nr=At.value==="sum_"?"sum":"product",Pn=Ae();k++;var Kn=ge(),Sn=ge();H+=nr+Qn([Sn,pt(Pn[0]),pt(Pn[2]),pt(Kn)].join(","))}else if(At.value==="lim_"){var Pn=Ae();H+="limit"+Qn([ge(),pt(Pn[0]),pt(Pn[2])].join(","))}else if(At.value==="begin"){var Pn=Ae();if(Array.isArray(Pn)){var Dr=Pn[0].value;Dr==="matrix"&&(H+="matrix([")}}else if(At.value==="end"){var Pn=Ae();if(Array.isArray(Pn)){var Dr=Pn[0].value;Dr==="matrix"&&(H+="])")}}else Array.isArray(At)?H+=pt(dr.parse(At)):H+=pt(At.value.toString())}return Qn(H)}};function Lr(d){Xn(d)?this.elements=d.items.slice(0):pr(d)?this.elements=d.slice(0):this.elements=[].slice.call(arguments)}Lr.arrayPrefill=function(d,k){var D=[];k=k||0;for(var H=0;H<d;H++)D[H]=k;return D},Lr.fromArray=function(d){var k=new Lr;return k.elements=d,k},Lr.fromSet=function(d){return Lr.fromArray(d.elements)},Lr.prototype={custom:!0,e:function(d){return d<1||d>this.elements.length?null:this.elements[d-1]},set:function(d,k){Ot(k)||(k=new fe(k)),this.elements[d]=k},dimensions:function(){return this.elements.length},modulus:function(){return Sr("SAFE",function(){return h.pow(this.dot(this.clone()),new fe(.5))},void 0,this)},eql:function(d){var k=this.elements.length,D=d.elements||d;if(k!==D.length)return!1;do if(Math.abs(h.subtract(this.elements[k-1],D[k-1]).valueOf())>PRECISION)return!1;while(--k);return!0},clone:function(){for(var d=new Lr,k=this.elements.length,D=0;D<k;D++)d.elements.push(this.elements[D].clone());return this.getter&&(d.getter=this.getter.clone()),d},map:function(d){var k=[];return this.each(function(D,H){k.push(d(D,H))}),new Lr(k)},each:function(d){var k=this.elements.length,D=k,H;do H=D-k,d(this.elements[H],H+1);while(--k)},toUnitVector:function(){return Sr("SAFE",function(){var d=this.modulus();return d.valueOf()===0?this.clone():this.map(function(k){return h.divide(k,d)})},void 0,this)},angleFrom:function(d){return Sr("SAFE",function(){var k=d.elements||d,D=this.elements.length;if(D!==k.length)return null;var H=new fe(0),re=new fe(0),he=new fe(0);this.each(function(At,Tt){H=h.add(H,h.multiply(At,k[Tt-1])),re=h.add(re,h.multiply(At,At)),he=h.add(he,h.multiply(k[Tt-1],k[Tt-1]))}),re=h.pow(re,new fe(.5)),he=h.pow(he,new fe(.5));var Ae=h.multiply(re,he);if(Ae.valueOf()===0)return null;var ge=h.divide(H,Ae),pt=ge.valueOf();return pt<-1&&(ge=-1),pt>1&&(ge=1),new fe(Math.acos(ge))},void 0,this)},isParallelTo:function(d){var k=this.angleFrom(d).valueOf();return k===null?null:k<=PRECISION},isAntiparallelTo:function(d){var k=this.angleFrom(d).valueOf();return k===null?null:Math.abs(k-Math.PI)<=PRECISION},isPerpendicularTo:function(d){var k=this.dot(d);return k===null?null:Math.abs(k)<=PRECISION},add:function(d){return Sr("SAFE",function(){var k=d.elements||d;return this.elements.length!==k.length?null:this.map(function(D,H){return h.add(D,k[H-1])})},void 0,this)},subtract:function(d){return Sr("SAFE",function(){var k=d.elements||d;return this.elements.length!==k.length?null:this.map(function(D,H){return h.subtract(D,k[H-1])})},void 0,this)},multiply:function(d){return this.map(function(k){return k.clone()*d.clone()})},x:function(d){return this.multiply(d)},dot:function(d){return Sr("SAFE",function(){var k=d.elements||d,D=new fe(0),H=this.elements.length;if(H!==k.length)return null;do D=h.add(D,h.multiply(this.elements[H-1],k[H-1]));while(--H);return D},void 0,this)},cross:function(d){var k=d.elements||d;if(this.elements.length!==3||k.length!==3)return null;var D=this.elements;return Sr("SAFE",function(){return new Lr([h.subtract(h.multiply(D[1],k[2]),h.multiply(D[2],k[1])),h.subtract(h.multiply(D[2],k[0]),h.multiply(D[0],k[2])),h.subtract(h.multiply(D[0],k[1]),h.multiply(D[1],k[0]))])},void 0,this)},max:function(){var d=0,k=this.elements.length,D=k,H;do H=D-k,Math.abs(this.elements[H].valueOf())>Math.abs(d.valueOf())&&(d=this.elements[H]);while(--k);return d},magnitude:function(){var d=new fe(0);return this.each(function(k){d=h.add(d,h.pow(k,new fe(2)))}),h.sqrt(d)},indexOf:function(d){var k=null,D=this.elements.length,H=D,re;do re=H-D,k===null&&this.elements[re].valueOf()===d.valueOf()&&(k=re+1);while(--D);return k},text:function(d){return xr(this)},toString:function(){return this.text()},latex:function(d){for(var k=[],D=0;D<this.elements.length;D++)k.push(dr.latex.call(dr,this.elements[D],d));return"["+k.join(", ")+"]"}};function $n(){var d=arguments,k=d.length,D,H=[];if(dt(d))for(D=0;D<k;D++)H.push(d[D].slice(0));else{var re,he,Ae;for(D=0;D<k;D++)re=d[D],Xn(re)&&(re=re.elements),pr(re)||(re=[re]),Ae=re.length,he&&he!==Ae&&Lt("Unable to create Matrix. Row dimensions do not match!"),H.push(re),he=Ae}this.elements=H}$n.identity=function(d){for(var k=new $n,D=0;D<d;D++){k.elements.push([]);for(var H=0;H<d;H++)k.set(D,H,D===H?new fe(1):new fe(0))}return k},$n.fromArray=function(d){function k(D){return $n.apply(this,D)}return k.prototype=$n.prototype,new k(d)},$n.zeroMatrix=function(d,k){for(var D=new $n,H=0;H<d;H++)D.elements.push(Lr.arrayPrefill(k,new fe(0)));return D},$n.prototype={custom:!0,get:function(d,k){if(this.elements[d])return this.elements[d][k]},map:function(d,k){var D=new $n;return this.each(function(H,re,he){D.set(re,he,d.call(D,H),k)}),D},set:function(d,k,D,H){this.elements[d]||(this.elements[d]=[]),this.elements[d][k]=H||Ot(D)?D:new fe(D)},cols:function(){return this.elements[0].length},rows:function(){return this.elements.length},row:function(d){return!d||d>this.cols()?[]:this.elements[d-1]},col:function(d){var k=this.rows(),D=[];if(d>this.cols()||!d)return D;for(var H=0;H<k;H++)D.push(this.elements[H][d-1]);return D},eachElement:function(d){var k=this.rows(),D=this.cols(),H,re;for(H=0;H<k;H++)for(re=0;re<D;re++)d.call(this,this.elements[H][re],H,re)},determinant:function(){if(!this.isSquare())return null;var d=this.toRightTriangular(),k=d.elements[0][0],D=d.elements.length-1,H=D,re;do re=H-D+1,k=h.multiply(k,d.elements[re][re]);while(--D);return k},isSquare:function(){return this.elements.length===this.elements[0].length},isSingular:function(){return this.isSquare()&&this.determinant()===0},augment:function(d){var k=this.rows(),D=d.rows();k!==D&&Lt("Cannot augment matrix. Rows don't match.");for(var H=0;H<k;H++)this.elements[H]=this.elements[H].concat(d.elements[H]);return this},clone:function(){for(var d=this.rows(),k=this.cols(),D=new $n,H=0;H<d;H++){D.elements[H]=[];for(var re=0;re<k;re++){var he=this.elements[H][re];D.elements[H][re]=Ot(he)?he.clone():he}}return D},invert:function(){return this.isSquare()||Lt("Matrix is not square!"),Sr("SAFE",function(){var d=this.elements.length,k=d,D,H,re=$n.identity(d),he=this.augment(re).toRightTriangular(),Ae,ge=he.elements[0].length,pt,At,Tt,hn=[],qt;do{D=d-1,At=[],Ae=ge,hn[D]=[],Tt=he.elements[D][D];do pt=ge-Ae,qt=h.divide(he.elements[D][pt],Tt.clone()),At.push(qt),pt>=k&&hn[D].push(qt);while(--Ae);for(he.elements[D]=At,H=0;H<D;H++){At=[],Ae=ge;do pt=ge-Ae,At.push(h.subtract(he.elements[H][pt].clone(),h.multiply(he.elements[D][pt].clone(),he.elements[H][D].clone())));while(--Ae);he.elements[H]=At}}while(--d);return $n.fromArray(hn)},void 0,this)},toRightTriangular:function(){return Sr("SAFE",function(){var d=this.clone(),k,D,H,re=this.elements.length,he=re,Ae,ge,pt=this.elements[0].length,At;do{if(Ae=he-re,D=d.elements[Ae][Ae],D.valueOf()===0){for(var Tt=Ae+1;Tt<he;Tt++)if(H=d.elements[Tt][Ae],H&&H.valueOf()!==0){k=[],ge=pt;do At=pt-ge,k.push(h.add(d.elements[Ae][At].clone(),d.elements[Tt][At].clone()));while(--ge);d.elements[Ae]=k;break}}var D=d.elements[Ae][Ae];if(D.valueOf()!==0)for(Tt=Ae+1;Tt<he;Tt++){var hn=h.divide(d.elements[Tt][Ae].clone(),d.elements[Ae][Ae].clone());k=[],ge=pt;do At=pt-ge,k.push(At<=Ae?new fe(0):h.subtract(d.elements[Tt][At].clone(),h.multiply(d.elements[Ae][At].clone(),hn.clone())));while(--ge);d.elements[Tt]=k}}while(--re);return d},void 0,this)},transpose:function(){var d=this.elements.length,k=this.elements[0].length,D=new $n,H=k,re,he,Ae;do{re=k-H,D.elements[re]=[],he=d;do Ae=d-he,D.elements[re][Ae]=this.elements[Ae][re].clone();while(--he)}while(--H);return D},canMultiplyFromLeft:function(d){var k=dt(d)?d.elements.length:d.length;return this.elements[0].length===k},sameSize:function(d){return this.rows()===d.rows()&&this.cols()===d.cols()},multiply:function(d){return Sr("SAFE",function(){var k=d.elements||d;if(!this.canMultiplyFromLeft(k)){if(this.sameSize(d)){for(var D=new $n,H=this.rows(),ge=0;ge<H;ge++){var re=h.multiply(new Lr(this.elements[ge]),new Lr(d.elements[ge]));D.elements[ge]=re.elements}return D}return null}var he=this.elements.length,Ae=he,ge,pt,At=k[0].length,Tt,hn=this.elements[0].length,qt=[],nn,Sn,gn;do{ge=Ae-he,qt[ge]=[],pt=At;do{Tt=At-pt,nn=new fe(0),Sn=hn;do gn=hn-Sn,nn=h.add(nn,h.multiply(this.elements[ge][gn],k[gn][Tt]));while(--Sn);qt[ge][Tt]=nn}while(--pt)}while(--he);return $n.fromArray(qt)},void 0,this)},add:function(d,k){var D=new $n;return this.sameSize(d)&&this.eachElement(function(H,re,he){var Ae=h.add(H.clone(),d.elements[re][he].clone());k&&(Ae=k.call(D,Ae,H,d.elements[re][he])),D.set(re,he,Ae)}),D},subtract:function(d,k){var D=new $n;return this.sameSize(d)&&this.eachElement(function(H,re,he){var Ae=h.subtract(H.clone(),d.elements[re][he].clone());k&&(Ae=k.call(D,Ae,H,d.elements[re][he])),D.set(re,he,Ae)}),D},negate:function(){return this.each(function(d){return d.negate()}),this},toVector:function(){if(this.rows()===1||this.cols()===1){var d=new Lr;return d.elements=this.elements,d}return this},toString:function(d,k){for(var D=this.rows(),H=[],re=0;re<D;re++)H.push("["+this.elements[re].map(function(he){var Ae=k?he.multiplier.toDecimal():he.toString();return he!==void 0?Ae:""}).join(",")+"]");return"matrix"+Qn(H.join(","))},text:function(){return"matrix("+this.elements.toString("")+")"},latex:function(d){var k=this.cols(),D=this.elements;return Vn("\\begin{vmatrix}{0}\\end{vmatrix}",function(){var H=[];for(var re in D){for(var he=[],Ae=0;Ae<k;Ae++)he.push(dr.latex.call(dr,D[re][Ae],d));H.push(he.join(" & "))}return H.join(" \\cr ")})}},$n.prototype.each=$n.prototype.eachElement;function tr(d){if(this.elements=[],Xn(d)||(d=Lr.fromArray(arguments)),d)for(var k=d.elements,D=0,H=k.length;D<H;D++)this.add(k[D])}tr.fromArray=function(d){function k(D){return tr.apply(this,D)}return k.prototype=tr.prototype,new k(d)},tr.prototype={add:function(d){this.contains(d)||this.elements.push(d.clone())},contains:function(d){for(var k=0;k<this.elements.length;k++){var D=this.elements[k];if(d.equals(D))return!0}return!1},each:function(d){for(var k=this.elements,D=new tr,H=0,re=k.length;H<re;H++){var he=k[H];d.call(this,he,D,H)}return D},clone:function(){var d=new tr;return this.each(function(k){d.add(k.clone())}),d},union:function(d){var k=this.clone();return d.each(function(D){k.add(D)}),k},difference:function(d){var k=this.clone();return d.each(function(D){k.remove(D)}),k},remove:function(d){for(var k=0,D=this.elements.length;k<D;k++){var H=this.elements[k];if(H.equals(d))return Hn(this.elements,k),!0}return!1},intersection:function(d){var k=new tr,D=this;return d.each(function(H){D.contains(H)&&k.add(H)}),k},intersects:function(d){return this.intersection(d).elements.length>0},is_subset:function(d){for(var k=d.elements,D=0,H=k.length;D<H;D++)if(!this.contains(k[D]))return!1;return!0},toString:function(){return"{"+this.elements.join(",")+"}"}};var Ur={dependencies:{_rename:{"Math2.factorial":"factorial"},factorial:{"Math2.gamma":fn.gamma},gamma_incomplete:{"Math2.factorial":fn.factorial},Li:{"Math2.Ei":fn.Ei,"Math2.bigLog":fn.bigLog,Frac:Qt},Ci:{"Math2.factorial":fn.factorial},Ei:{"Math2.factorial":fn.factorial},Si:{"Math2.factorial":fn.factorial},Shi:{"Math2.factorial":fn.factorial},Chi:{isInt:on,nround:Cn,"Math2.num_integrate":fn.num_integrate},factor:{"Math2.ifactor":fn.ifactor,Symbol:fe},num_integrate:{"Math2.simpson":fn.simpson,nround:Cn},fib:{even:G}},reformat:{diff:function(d,k){var D=d.args[1].toString(),H="var f = "+Ur.build(d.args[0].toString(),[D])+";";return k[1]+="var diff = "+fn.diff.toString()+";",k[1]+=H,["diff(f)("+D+")",k]}},getProperName:function(d){var k={continued_fraction:"continuedFraction"};return k[d]||d},compileDependencies:function(d,k){var D=Ur.dependencies[d],H=k&&k[1]?k[1]:"",re=k&&k[0]?k[0]:{};for(var he in D)if(typeof D[he]!="object"){var Ae=he.split(".");H+="var "+(Ae.length>1?Ae[1]:Ae[0])+"="+D[he]+";",re[he]=Ae.pop()}return[re,H]},getArgsDeps:function(d,k){for(var D=d.args,H=0;H<D.length;H++)d.args[H].each(function(re){re.group===ce&&(k=Ur.compileDependencies(re.fname,k))});return k},build:function(d,k){d=Sr("PARSE2NUMBER",function(){return h.parse(d)},!0);var D=yn(d),H=[],re=[],he=function(Tt,hn){Tt.fname===""&&(Tt=fe.unwrapPARENS(Tt)),hn=hn||[];var qt=[],nn=Tt.group,Sn="",gn=function(ir){var ei=ir===j?"*":"+",Ys=[];for(var rs in Tt.symbols){var Fn=Tt.symbols[rs],li=he(Fn,hn)[0];Fn.isComposite()&&(li=Qn(li)),Ys.push(li)}var Ai=Ys.join(ei);return Ai=Ai&&!Tt.multiplier.equals(1)?Qn(Ai):Ai,Ai},zt=function(ir){var ei;return ir in Math?ei="Math."+ir:(ir=Ur.getProperName(ir),H.indexOf(ir)===-1&&(hn.push("var "+ir+" = "+fn[ir].toString()+"; "),H.push(ir)),ei=ir),ei=ei+Qn(Tt.args.map(function(Ys){return he(Ys,hn)[0]}).join(",")),ei};nn===A?qt.push(Tt.multiplier.toDecimal()):Tt.multiplier.equals(-1)?Sn="-":Tt.multiplier.equals(1)||qt.push(Tt.multiplier.toDecimal());var nr;if(nn===B||nn===z)nr=Tt.value;else if(nn===ce)if(re=Ur.compileDependencies(Tt.fname,re),re=Ur.getArgsDeps(Tt,re),Ur.reformat[Tt.fname]){var Pn=Ur.reformat[Tt.fname](Tt,re);re=Pn[1],nr=Pn[0]}else nr=zt(Tt.fname);else if(nn===Z){var Kn=Tt.previousGroup;Kn===A||Kn===B?nr=Tt.value:Kn===ce?(nr=zt(Tt.fname),re=Ur.compileDependencies(Tt.fname,re),re=Ur.getArgsDeps(Tt,re)):nr=gn(Tt.previousGroup)}else nr=gn(Tt.group);if(Tt.group!==A&&!Tt.power.equals(1)){var Dr=he(h.parse(Tt.power));hn.push(Dr[1]),nr="Math.pow"+Qn(nr+","+Dr[0])}return nr&&qt.push(Sn+nr),[qt.join("*"),hn.join("").replace(/\n+\s+/g," ")]};k&&(D=k);var Ae=he(d);for(var ge in re[0]){var pt=re[0][ge];Ae[1]=Ae[1].replace(ge,pt),re[1]=re[1].replace(ge,pt)}var At=new Function(D,(re[1]||"")+Ae[1]+" return "+Ae[0]+";");return At}};(function(){dn(h.CONSTANTS),dn(h.functions),h.initConstants(),h.error||(h.error=Lt),w.LOG_FNS={log:h.functions.log,log10:h.functions.log10}})();var Sa={allSame:Ze,allNumeric:ke,arguments2Array:To,arrayAddSlices:ue,arrayClone:N,arrayMax:Qe,arrayMin:Ct,arrayEqual:kt,arrayUnique:Pe,arrayGetVariables:et,arraySum:hr,block:Sr,build:Ur.build,clearU:ds,comboSort:Re,compare:Le,convertToVector:W,customError:yt,customType:yi,decompose_fn:Dt,each:fs,evaluate:L,even:G,evenFraction:$e,fillHoles:an,firstObject:Ce,format:Vn,generatePrimes:Jt,getCoeffs:vr,getU:Qr,importFunctions:Ml,inBrackets:Qn,isArray:pr,isExpression:sn,isFraction:Zt,isInt:on,isMatrix:dt,isNegative:Ei,isNumericSymbol:Wr,isPrime:le,isReserved:rt,isSymbol:Ot,isVariableSymbol:Zn,isVector:Xn,keys:ne,knownVariable:Be,nroots:De,remove:Hn,reserveNames:dn,range:U,round:Cn,sameSign:sr,scientificToDecimal:It,separate:Yn,stringReplace:ss,text:xr,validateName:ft,variables:yn,warn:$t},js={groups:_,Symbol:fe,Expression:oi,Frac:Qt,Vector:Lr,Matrix:$n,Parser:Ci,Scientific:Ir,Fraction:ps,Math2:fn,LaTeX:dr,Utils:Sa,PARSER:h,PARENTHESIS:Ie,Settings:w,err:Lt,bigInt:p,bigDec:$,exceptions:si},jn=function(d,k,D,H){var re=!1,he=/^([a-z_][a-z\d\_]*)\(([a-z_,\s]*)\):=(.+)$/gi.exec(d);if(he)return o.setFunction(he[1],he[2].split(","),he[3]);d instanceof oi&&(d=d.toString()),pr(D)||(D=typeof D>"u"?[]:[D]),D.forEach(function(ge){if(ge==="numer"){re=!0;return}var pt=h.functions[D];pt&&pt[1]===1&&(d=`${ge}(${d})`)});var Ae=Sr("PARSE2NUMBER",function(){return h.parse(d,k)},re||w.PARSE2NUMBER);return H?Je[H-1]=Ae:Je.push(Ae),new oi(Ae)};return jn.rpn=function(d){return h.tokenize(h.toRPN(d))},jn.convertToLaTeX=function(d,k){return h.toTeX(d,k)},jn.convertFromLaTeX=function(d){var k=dr.parse(h.tokenize(d));return new oi(h.parse(k))},jn.version=function(d){if(d)try{return js[d].version}catch{return"No module named "+d+" found!"}return a},jn.getWarnings=function(){return He},jn.setConstant=function(d,k){if(ft(d),!rt(d))if(k==="delete"||k==="")delete h.CONSTANTS[d];else{if(isNaN(k))throw new Ke("Constant must be a number!");h.CONSTANTS[d]=k}return this},jn.getConstant=function(d){return String(h.constant[d])},jn.setFunction=tt,jn.getCore=function(){return js},jn.getExpression=jn.getEquation=oi.getExpression,jn.reserved=function(d){return d?Pt:Pt.join(", ")},jn.clear=function(d,k){if(d==="all")Je=[];else if(d==="last")Je.pop();else if(d==="first")Je.shift();else{var D=d?d-1:Je.length;k===!0?Je[D]=void 0:Hn(Je,D)}return this},jn.flush=function(){return this.clear("all"),this},jn.expressions=function(d,k,D){for(var H=d?{}:[],re=0;re<Je.length;re++){var he=k?dr.latex(Je[re],D):xr(Je[re],D);d?H[re+1]=he:H.push(he)}return H},jn.register=function(d){var k=this.getCore();if(pr(d))for(var D=0;D<d.length;D++)d&&this.register(d[D]);else if(d&&w.exclude.indexOf(d.name)===-1){if(d.dependencies){for(var D=0;D<d.dependencies.length;D++)if(!k[d.dependencies[D]])throw new Error(Vn("{0} requires {1} to be loaded!",d.name,d.dependencies[D]))}var H=d.parent,re=d.build.call(k);if(H){k[H]||(k[d.parent]={});var he=H==="nerdamer"?this:k[H];he[d.name]=re}d.visible&&(h.functions[d.name]=[re,d.numargs])}},jn.validateName=ft,jn.validVarName=function(d){try{return ft(d),Pt.indexOf(d)===-1}catch{return!1}},jn.supported=function(){return ne(h.functions)},jn.numEquations=jn.numExpressions=function(){return Je.length},jn.setVar=function(d,k){return ft(d),d in h.CONSTANTS&&Lt("Cannot set value for constant "+d),k==="delete"||k===""?delete Xe[d]:Xe[d]=Ot(k)?k:h.parse(k),this},jn.getVar=function(d){return Xe[d]},jn.clearVars=function(){return Xe={},this},jn.load=function(d){return d.call(this),this},jn.getVars=function(d,k){d=d||"text";var D={};if(d==="object")D=Xe;else for(var H in Xe)d==="latex"?D[H]=Xe[H].latex(k):d==="text"&&(D[H]=Xe[H].text(k));return D},jn.set=function(d,k){if(typeof d=="object")for(var D in d)jn.set(D,d[D]);var H=["SAFE"];H.indexOf(d)!==-1&&Lt("Cannot modify setting: "+d),d==="PRECISION"?($.set({precision:k}),w.PRECISION=k,k>21&&this.set("USE_BIG",!0)):d==="USE_LN"&&k===!0?(w.LOG="LN",w.LOG10="log",h.functions.log=w.LOG_FNS.log10,h.functions.log[0]=function(re){return re.isConstant()?new fe(Math.log10(re)):h.symfunction(w.LOG10,[re])},h.functions.LN=w.LOG_FNS.log,delete h.functions.log10):w[d]=k},jn.get=function(d){return w[d]},jn.updateAPI=function(d){var k=function(H){return function(){for(var re=[].slice.call(arguments),he=0;he<re.length;he++)re[he]=h.parse(re[he]);return new oi(Sr("PARSE2NUMBER",function(){return h.callfunction(H,re)}))}};for(var D in h.functions)(!(D in jn)||d)&&(jn[D]=k(D))},jn.replaceFunction=function(d,k,D){var H=h.functions[d],re=typeof D>"u"?H[1]:D;h.functions[d]=[k.call(void 0,H[0],js),re]},jn.setOperator=function(d,k){h.setOperator(d,k)},jn.getOperator=function(d){return h.getOperator(d)},jn.aliasOperator=function(d,k){h.aliasOperator(d,k)},jn.tree=function(d){return h.tree(h.toRPN(h.tokenize(d)))},jn.htmlTree=function(d,k){var D=this.tree(d);return`<div class="tree">
    <ul>
        <li>
`+D.toHTML(3,k)+`
        </li>
    </ul>
</div>`},jn.addPeeker=function(d,k){h.peekers[d]&&h.peekers[d].push(k)},jn.removePeeker=function(d,k){Hn(h.peekers[d],k)},jn.parse=function(d){return String(d).split(";").map(function(k){return h.parse(k)})},jn.updateAPI(),jn})({bigInt:(function(){var n=(function(a){var h=1e7,p=7,$=9007199254740992,_=B($),T=Math.log($);function E(U,ne){return typeof U>"u"?E[0]:typeof ne<"u"?+ne==10?sr(U):pr(U,ne):sr(U)}function w(U,ne){this.value=U,this.sign=ne,this.isSmall=!1}w.prototype=Object.create(E.prototype);function A(U){this.value=U,this.sign=U<0,this.isSmall=!0}A.prototype=Object.create(E.prototype);function z(U){return-$<U&&U<$}function B(U){return U<1e7?[U]:U<1e14?[U%1e7,Math.floor(U/1e7)]:[U%1e7,Math.floor(U/1e7)%1e7,Math.floor(U/1e14)]}function Z(U){ce(U);var ne=U.length;if(ne<4&&It(U,_)<0)switch(ne){case 0:return 0;case 1:return U[0];case 2:return U[0]+U[1]*h;default:return U[0]+(U[1]+U[2]*h)*h}return U}function ce(U){for(var ne=U.length;U[--ne]===0;);U.length=ne+1}function oe(U){for(var ne=new Array(U),Ce=-1;++Ce<U;)ne[Ce]=0;return ne}function j(U){return U>0?Math.floor(U):Math.ceil(U)}function ie(U,ne){var Ce=U.length,Le=ne.length,tt=new Array(Ce),Qe=0,Ct=h,kt,N;for(N=0;N<Le;N++)kt=U[N]+ne[N]+Qe,Qe=kt>=Ct?1:0,tt[N]=kt-Qe*Ct;for(;N<Ce;)kt=U[N]+Qe,Qe=kt===Ct?1:0,tt[N++]=kt-Qe*Ct;return Qe>0&&tt.push(Qe),tt}function be(U,ne){return U.length>=ne.length?ie(U,ne):ie(ne,U)}function Ie(U,ne){var Ce=U.length,Le=new Array(Ce),tt=h,Qe,Ct;for(Ct=0;Ct<Ce;Ct++)Qe=U[Ct]-tt+ne,ne=Math.floor(Qe/tt),Le[Ct]=Qe-ne*tt,ne+=1;for(;ne>0;)Le[Ct++]=ne%tt,ne=Math.floor(ne/tt);return Le}w.prototype.add=function(U){var ne=sr(U);if(this.sign!==ne.sign)return this.subtract(ne.negate());var Ce=this.value,Le=ne.value;return ne.isSmall?new w(Ie(Ce,Math.abs(Le)),this.sign):new w(be(Ce,Le),this.sign)},w.prototype.plus=w.prototype.add,A.prototype.add=function(U){var ne=sr(U),Ce=this.value;if(Ce<0!==ne.sign)return this.subtract(ne.negate());var Le=ne.value;if(ne.isSmall){if(z(Ce+Le))return new A(Ce+Le);Le=B(Math.abs(Le))}return new w(Ie(Le,Math.abs(Ce)),Ce<0)},A.prototype.plus=A.prototype.add;function Ge(U,ne){var Ce=U.length,Le=ne.length,tt=new Array(Ce),Qe=0,Ct=h,kt,N;for(kt=0;kt<Le;kt++)N=U[kt]-Qe-ne[kt],N<0?(N+=Ct,Qe=1):Qe=0,tt[kt]=N;for(kt=Le;kt<Ce;kt++){if(N=U[kt]-Qe,N<0)N+=Ct;else{tt[kt++]=N;break}tt[kt]=N}for(;kt<Ce;kt++)tt[kt]=U[kt];return ce(tt),tt}function Te(U,ne,Ce){var Le;return It(U,ne)>=0?Le=Ge(U,ne):(Le=Ge(ne,U),Ce=!Ce),Le=Z(Le),typeof Le=="number"?(Ce&&(Le=-Le),new A(Le)):new w(Le,Ce)}function We(U,ne,Ce){var Le=U.length,tt=new Array(Le),Qe=-ne,Ct=h,kt,N;for(kt=0;kt<Le;kt++)N=U[kt]+Qe,Qe=Math.floor(N/Ct),N%=Ct,tt[kt]=N<0?N+Ct:N;return tt=Z(tt),typeof tt=="number"?(Ce&&(tt=-tt),new A(tt)):new w(tt,Ce)}w.prototype.subtract=function(U){var ne=sr(U);if(this.sign!==ne.sign)return this.add(ne.negate());var Ce=this.value,Le=ne.value;return ne.isSmall?We(Ce,Math.abs(Le),this.sign):Te(Ce,Le,this.sign)},w.prototype.minus=w.prototype.subtract,A.prototype.subtract=function(U){var ne=sr(U),Ce=this.value;if(Ce<0!==ne.sign)return this.add(ne.negate());var Le=ne.value;return ne.isSmall?new A(Ce-Le):We(Le,Math.abs(Ce),Ce>=0)},A.prototype.minus=A.prototype.subtract,w.prototype.negate=function(){return new w(this.value,!this.sign)},A.prototype.negate=function(){var U=this.sign,ne=new A(-this.value);return ne.sign=!U,ne},w.prototype.abs=function(){return new w(this.value,!1)},A.prototype.abs=function(){return new A(Math.abs(this.value))};function lt(U,ne){var Ce=U.length,Le=ne.length,tt=Ce+Le,Qe=oe(tt),Ct=h,kt,N,ue,De,Re;for(ue=0;ue<Ce;++ue){De=U[ue];for(var Dt=0;Dt<Le;++Dt)Re=ne[Dt],kt=De*Re+Qe[ue+Dt],N=Math.floor(kt/Ct),Qe[ue+Dt]=kt-N*Ct,Qe[ue+Dt+1]+=N}return ce(Qe),Qe}function Je(U,ne){var Ce=U.length,Le=new Array(Ce),tt=h,Qe=0,Ct,kt;for(kt=0;kt<Ce;kt++)Ct=U[kt]*ne+Qe,Qe=Math.floor(Ct/tt),Le[kt]=Ct-Qe*tt;for(;Qe>0;)Le[kt++]=Qe%tt,Qe=Math.floor(Qe/tt);return Le}function Xe(U,ne){for(var Ce=[];ne-- >0;)Ce.push(0);return Ce.concat(U)}function Pt(U,ne){var Ce=Math.max(U.length,ne.length);if(Ce<=30)return lt(U,ne);Ce=Math.ceil(Ce/2);var Le=U.slice(Ce),tt=U.slice(0,Ce),Qe=ne.slice(Ce),Ct=ne.slice(0,Ce),kt=Pt(tt,Ct),N=Pt(Le,Qe),ue=Pt(be(tt,Le),be(Ct,Qe)),De=be(be(kt,Xe(Ge(Ge(ue,kt),N),Ce)),Xe(N,2*Ce));return ce(De),De}function He(U,ne){return-.012*U-.012*ne+15e-6*U*ne>0}w.prototype.multiply=function(U){var ne=sr(U),Ce=this.value,Le=ne.value,tt=this.sign!==ne.sign,Qe;if(ne.isSmall){if(Le===0)return E[0];if(Le===1)return this;if(Le===-1)return this.negate();if(Qe=Math.abs(Le),Qe<h)return new w(Je(Ce,Qe),tt);Le=B(Qe)}return He(Ce.length,Le.length)?new w(Pt(Ce,Le),tt):new w(lt(Ce,Le),tt)},w.prototype.times=w.prototype.multiply;function Lt(U,ne,Ce){return U<h?new w(Je(ne,U),Ce):new w(lt(ne,B(U)),Ce)}A.prototype._multiplyBySmall=function(U){return z(U.value*this.value)?new A(U.value*this.value):Lt(Math.abs(U.value),B(Math.abs(this.value)),this.sign!==U.sign)},w.prototype._multiplyBySmall=function(U){return U.value===0?E[0]:U.value===1?this:U.value===-1?this.negate():Lt(Math.abs(U.value),this.value,this.sign!==U.sign)},A.prototype.multiply=function(U){return sr(U)._multiplyBySmall(this)},A.prototype.times=A.prototype.multiply;function yt(U){var ne=U.length,Ce=oe(ne+ne),Le=h,tt,Qe,Ct,kt,N;for(Ct=0;Ct<ne;Ct++){kt=U[Ct],Qe=0-kt*kt;for(var ue=Ct;ue<ne;ue++)N=U[ue],tt=2*(kt*N)+Ce[Ct+ue]+Qe,Qe=Math.floor(tt/Le),Ce[Ct+ue]=tt-Qe*Le;Ce[Ct+ne]=Qe}return ce(Ce),Ce}w.prototype.square=function(){return new w(yt(this.value),!1)},A.prototype.square=function(){var U=this.value*this.value;return z(U)?new A(U):new w(yt(B(Math.abs(this.value))),!1)};function rt(U,ne){var Ce=U.length,Le=ne.length,tt=h,Qe=oe(ne.length),Ct=ne[Le-1],kt=Math.ceil(tt/(2*Ct)),N=Je(U,kt),ue=Je(ne,kt),De,Re,Dt,Cn,Qr,ds,fs;for(N.length<=Ce&&N.push(0),ue.push(0),Ct=ue[Le-1],Re=Ce-Le;Re>=0;Re--){for(De=tt-1,N[Re+Le]!==Ct&&(De=Math.floor((N[Re+Le]*tt+N[Re+Le-1])/Ct)),Dt=0,Cn=0,ds=ue.length,Qr=0;Qr<ds;Qr++)Dt+=De*ue[Qr],fs=Math.floor(Dt/tt),Cn+=N[Re+Qr]-(Dt-fs*tt),Dt=fs,Cn<0?(N[Re+Qr]=Cn+tt,Cn=-1):(N[Re+Qr]=Cn,Cn=0);for(;Cn!==0;){for(De-=1,Dt=0,Qr=0;Qr<ds;Qr++)Dt+=N[Re+Qr]-tt+ue[Qr],Dt<0?(N[Re+Qr]=Dt+tt,Dt=0):(N[Re+Qr]=Dt,Dt=1);Cn+=Dt}Qe[Re]=De}return N=$t(N,kt)[0],[Z(Qe),Z(N)]}function Ze(U,ne){for(var Ce=U.length,Le=ne.length,tt=[],Qe=[],Ct=h,kt,N,ue,De,Re;Ce;){if(Qe.unshift(U[--Ce]),ce(Qe),It(Qe,ne)<0){tt.push(0);continue}N=Qe.length,ue=Qe[N-1]*Ct+Qe[N-2],De=ne[Le-1]*Ct+ne[Le-2],N>Le&&(ue=(ue+1)*Ct),kt=Math.ceil(ue/De);do{if(Re=Je(ne,kt),It(Re,Qe)<=0)break;kt--}while(kt);tt.push(kt),Qe=Ge(Qe,Re)}return tt.reverse(),[Z(tt),Z(Qe)]}function $t(U,ne){var Ce=U.length,Le=oe(Ce),tt=h,Qe,Ct,kt,N;for(kt=0,Qe=Ce-1;Qe>=0;--Qe)N=kt*tt+U[Qe],Ct=j(N/ne),kt=N-Ct*ne,Le[Qe]=Ct|0;return[Le,kt|0]}function ft(U,ne){var Ce,Le=sr(ne),tt=U.value,Qe=Le.value,Ct;if(Qe===0)throw new Error("Cannot divide by zero");if(U.isSmall)return Le.isSmall?[new A(j(tt/Qe)),new A(tt%Qe)]:[E[0],U];if(Le.isSmall){if(Qe===1)return[U,E[0]];if(Qe==-1)return[U.negate(),E[0]];var kt=Math.abs(Qe);if(kt<h){Ce=$t(tt,kt),Ct=Z(Ce[0]);var N=Ce[1];return U.sign&&(N=-N),typeof Ct=="number"?(U.sign!==Le.sign&&(Ct=-Ct),[new A(Ct),new A(N)]):[new w(Ct,U.sign!==Le.sign),new A(N)]}Qe=B(kt)}var ue=It(tt,Qe);if(ue===-1)return[E[0],U];if(ue===0)return[E[U.sign===Le.sign?1:-1],E[0]];tt.length+Qe.length<=200?Ce=rt(tt,Qe):Ce=Ze(tt,Qe),Ct=Ce[0];var De=U.sign!==Le.sign,Re=Ce[1],Dt=U.sign;return typeof Ct=="number"?(De&&(Ct=-Ct),Ct=new A(Ct)):Ct=new w(Ct,De),typeof Re=="number"?(Dt&&(Re=-Re),Re=new A(Re)):Re=new w(Re,Dt),[Ct,Re]}w.prototype.divmod=function(U){var ne=ft(this,U);return{quotient:ne[0],remainder:ne[1]}},A.prototype.divmod=w.prototype.divmod,w.prototype.divide=function(U){return ft(this,U)[0]},A.prototype.over=A.prototype.divide=w.prototype.over=w.prototype.divide,w.prototype.mod=function(U){return ft(this,U)[1]},A.prototype.remainder=A.prototype.mod=w.prototype.remainder=w.prototype.mod,w.prototype.pow=function(U){var ne=sr(U),Ce=this.value,Le=ne.value,tt,Qe,Ct;if(Le===0)return E[1];if(Ce===0)return E[0];if(Ce===1)return E[1];if(Ce===-1)return ne.isEven()?E[1]:E[-1];if(ne.sign)return E[0];if(!ne.isSmall)throw new Error("The exponent "+ne.toString()+" is too large.");if(this.isSmall&&z(tt=Math.pow(Ce,Le)))return new A(j(tt));for(Qe=this,Ct=E[1];Le&!0&&(Ct=Ct.times(Qe),--Le),Le!==0;)Le/=2,Qe=Qe.square();return Ct},A.prototype.pow=w.prototype.pow,w.prototype.modPow=function(U,ne){if(U=sr(U),ne=sr(ne),ne.isZero())throw new Error("Cannot take modPow with modulus 0");for(var Ce=E[1],Le=this.mod(ne);U.isPositive();){if(Le.isZero())return E[0];U.isOdd()&&(Ce=Ce.multiply(Le).mod(ne)),U=U.divide(2),Le=Le.square().mod(ne)}return Ce},A.prototype.modPow=w.prototype.modPow;function It(U,ne){if(U.length!==ne.length)return U.length>ne.length?1:-1;for(var Ce=U.length-1;Ce>=0;Ce--)if(U[Ce]!==ne[Ce])return U[Ce]>ne[Ce]?1:-1;return 0}w.prototype.compareAbs=function(U){var ne=sr(U),Ce=this.value,Le=ne.value;return ne.isSmall?1:It(Ce,Le)},A.prototype.compareAbs=function(U){var ne=sr(U),Ce=Math.abs(this.value),Le=ne.value;return ne.isSmall?(Le=Math.abs(Le),Ce===Le?0:Ce>Le?1:-1):-1},w.prototype.compare=function(U){if(U===1/0)return-1;if(U===-1/0)return 1;var ne=sr(U),Ce=this.value,Le=ne.value;return this.sign!==ne.sign?ne.sign?1:-1:ne.isSmall?this.sign?-1:1:It(Ce,Le)*(this.sign?-1:1)},w.prototype.compareTo=w.prototype.compare,A.prototype.compare=function(U){if(U===1/0)return-1;if(U===-1/0)return 1;var ne=sr(U),Ce=this.value,Le=ne.value;return ne.isSmall?Ce==Le?0:Ce>Le?1:-1:Ce<0!==ne.sign?Ce<0?-1:1:Ce<0?1:-1},A.prototype.compareTo=A.prototype.compare,w.prototype.equals=function(U){return this.compare(U)===0},A.prototype.eq=A.prototype.equals=w.prototype.eq=w.prototype.equals,w.prototype.notEquals=function(U){return this.compare(U)!==0},A.prototype.neq=A.prototype.notEquals=w.prototype.neq=w.prototype.notEquals,w.prototype.greater=function(U){return this.compare(U)>0},A.prototype.gt=A.prototype.greater=w.prototype.gt=w.prototype.greater,w.prototype.lesser=function(U){return this.compare(U)<0},A.prototype.lt=A.prototype.lesser=w.prototype.lt=w.prototype.lesser,w.prototype.greaterOrEquals=function(U){return this.compare(U)>=0},A.prototype.geq=A.prototype.greaterOrEquals=w.prototype.geq=w.prototype.greaterOrEquals,w.prototype.lesserOrEquals=function(U){return this.compare(U)<=0},A.prototype.leq=A.prototype.lesserOrEquals=w.prototype.leq=w.prototype.lesserOrEquals,w.prototype.isEven=function(){return(this.value[0]&1)===0},A.prototype.isEven=function(){return(this.value&1)===0},w.prototype.isOdd=function(){return(this.value[0]&1)===1},A.prototype.isOdd=function(){return(this.value&1)===1},w.prototype.isPositive=function(){return!this.sign},A.prototype.isPositive=function(){return this.value>0},w.prototype.isNegative=function(){return this.sign},A.prototype.isNegative=function(){return this.value<0},w.prototype.isUnit=function(){return!1},A.prototype.isUnit=function(){return Math.abs(this.value)===1},w.prototype.isZero=function(){return!1},A.prototype.isZero=function(){return this.value===0},w.prototype.isDivisibleBy=function(U){var ne=sr(U),Ce=ne.value;return Ce===0?!1:Ce===1?!0:Ce===2?this.isEven():this.mod(ne).equals(E[0])},A.prototype.isDivisibleBy=w.prototype.isDivisibleBy;function le(U){var ne=U.abs();if(ne.isUnit())return!1;if(ne.equals(2)||ne.equals(3)||ne.equals(5))return!0;if(ne.isEven()||ne.isDivisibleBy(3)||ne.isDivisibleBy(5))return!1;if(ne.lesser(49))return!0}function Be(U,ne){for(var Ce=U.prev(),Le=Ce,tt=0,Qe,Ct,kt;Le.isEven();)Le=Le.divide(2),tt++;e:for(Ct=0;Ct<ne.length;Ct++)if(!U.lesser(ne[Ct])&&(kt=n(ne[Ct]).modPow(Le,U),!(kt.equals(E[1])||kt.equals(Ce)))){for(Qe=tt-1;Qe!=0;Qe--){if(kt=kt.square().mod(U),kt.isUnit())return!1;if(kt.equals(Ce))continue e}return!1}return!0}w.prototype.isPrime=function(U){var ne=le(this);if(ne!==a)return ne;var Ce=this.abs(),Le=Ce.bitLength();if(Le<=64)return Be(Ce,[2,325,9375,28178,450775,9780504,1795265022]);for(var tt=Math.log(2)*Le,Qe=Math.ceil(U===!0?2*Math.pow(tt,2):tt),Ct=[],kt=0;kt<Qe;kt++)Ct.push(n(kt+2));return Be(Ce,Ct)},A.prototype.isPrime=w.prototype.isPrime,w.prototype.isProbablePrime=function(U){var ne=le(this);if(ne!==a)return ne;for(var Ce=this.abs(),Le=U===a?5:U,tt=[],Qe=0;Qe<Le;Qe++)tt.push(n.randBetween(2,Ce.minus(2)));return Be(Ce,tt)},A.prototype.isProbablePrime=w.prototype.isProbablePrime,w.prototype.modInv=function(U){for(var ne=n.zero,Ce=n.one,Le=sr(U),tt=this.abs(),Qe,Ct,kt;!tt.equals(n.zero);)Qe=Le.divide(tt),Ct=ne,kt=Le,ne=Ce,Le=tt,Ce=Ct.subtract(Qe.multiply(Ce)),tt=kt.subtract(Qe.multiply(tt));if(!Le.equals(1))throw new Error(this.toString()+" and "+U.toString()+" are not co-prime");return ne.compare(0)===-1&&(ne=ne.add(U)),this.isNegative()?ne.negate():ne},A.prototype.modInv=w.prototype.modInv,w.prototype.next=function(){var U=this.value;return this.sign?We(U,1,this.sign):new w(Ie(U,1),this.sign)},A.prototype.next=function(){var U=this.value;return U+1<$?new A(U+1):new w(_,!1)},w.prototype.prev=function(){var U=this.value;return this.sign?new w(Ie(U,1),!0):We(U,1,this.sign)},A.prototype.prev=function(){var U=this.value;return U-1>-$?new A(U-1):new w(_,!0)};for(var ct=[1];2*ct[ct.length-1]<=h;)ct.push(2*ct[ct.length-1]);var ke=ct.length,Zt=ct[ke-1];function Ot(U){return(typeof U=="number"||typeof U=="string")&&+Math.abs(U)<=h||U instanceof w&&U.value.length<=1}w.prototype.shiftLeft=function(U){if(!Ot(U))throw new Error(String(U)+" is too large for shifting.");if(U=+U,U<0)return this.shiftRight(-U);var ne=this;if(ne.isZero())return ne;for(;U>=ke;)ne=ne.multiply(Zt),U-=ke-1;return ne.multiply(ct[U])},A.prototype.shiftLeft=w.prototype.shiftLeft,w.prototype.shiftRight=function(U){var ne;if(!Ot(U))throw new Error(String(U)+" is too large for shifting.");if(U=+U,U<0)return this.shiftLeft(-U);for(var Ce=this;U>=ke;){if(Ce.isZero()||Ce.isNegative()&&Ce.isUnit())return Ce;ne=ft(Ce,Zt),Ce=ne[1].isNegative()?ne[0].prev():ne[0],U-=ke-1}return ne=ft(Ce,ct[U]),ne[1].isNegative()?ne[0].prev():ne[0]},A.prototype.shiftRight=w.prototype.shiftRight;function sn(U,ne,Ce){ne=sr(ne);for(var Le=U.isNegative(),tt=ne.isNegative(),Qe=Le?U.not():U,Ct=tt?ne.not():ne,kt=0,N=0,ue=null,De=null,Re=[];!Qe.isZero()||!Ct.isZero();)ue=ft(Qe,Zt),kt=ue[1].toJSNumber(),Le&&(kt=Zt-1-kt),De=ft(Ct,Zt),N=De[1].toJSNumber(),tt&&(N=Zt-1-N),Qe=ue[0],Ct=De[0],Re.push(Ce(kt,N));for(var Dt=Ce(Le?1:0,tt?1:0)!==0?n(-1):n(0),Cn=Re.length-1;Cn>=0;Cn-=1)Dt=Dt.multiply(Zt).add(n(Re[Cn]));return Dt}w.prototype.not=function(){return this.negate().prev()},A.prototype.not=w.prototype.not,w.prototype.and=function(U){return sn(this,U,function(ne,Ce){return ne&Ce})},A.prototype.and=w.prototype.and,w.prototype.or=function(U){return sn(this,U,function(ne,Ce){return ne|Ce})},A.prototype.or=w.prototype.or,w.prototype.xor=function(U){return sn(this,U,function(ne,Ce){return ne^Ce})},A.prototype.xor=w.prototype.xor;var yn=1<<30,hr=(h&-h)*(h&-h)|yn;function Yn(U){var ne=U.value,Ce=typeof ne=="number"?ne|yn:ne[0]+ne[1]*h|hr;return Ce&-Ce}function an(U,ne){if(ne.compareTo(U)<=0){var Ce=an(U,ne.square(ne)),Le=Ce.p,tt=Ce.e,Qe=Le.multiply(ne);return Qe.compareTo(U)<=0?{p:Qe,e:tt*2+1}:{p:Le,e:tt*2}}return{p:n(1),e:0}}w.prototype.bitLength=function(){var U=this;return U.compareTo(n(0))<0&&(U=U.negate().subtract(n(1))),U.compareTo(n(0))===0?n(0):n(an(U,n(2)).e).add(n(1))},A.prototype.bitLength=w.prototype.bitLength;function Xn(U,ne){return U=sr(U),ne=sr(ne),U.greater(ne)?U:ne}function dt(U,ne){return U=sr(U),ne=sr(ne),U.lesser(ne)?U:ne}function tn(U,ne){if(U=sr(U).abs(),ne=sr(ne).abs(),U.equals(ne))return U;if(U.isZero())return ne;if(ne.isZero())return U;for(var Ce=E[1],Le,tt;U.isEven()&&ne.isEven();)Le=Math.min(Yn(U),Yn(ne)),U=U.divide(Le),ne=ne.divide(Le),Ce=Ce.multiply(Le);for(;U.isEven();)U=U.divide(Yn(U));do{for(;ne.isEven();)ne=ne.divide(Yn(ne));U.greater(ne)&&(tt=ne,ne=U,U=tt),ne=ne.subtract(U)}while(!ne.isZero());return Ce.isUnit()?U:U.multiply(Ce)}function Wr(U,ne){return U=sr(U).abs(),ne=sr(ne).abs(),U.divide(tn(U,ne)).multiply(ne)}function Zn(U,ne){U=sr(U),ne=sr(ne);var Ce=dt(U,ne),Le=Xn(U,ne),tt=Le.subtract(Ce).add(1);if(tt.isSmall)return Ce.add(Math.floor(Math.random()*tt));for(var Qe=tt.value.length-1,Ct=[],kt=!0,N=Qe;N>=0;N--){var ue=kt?tt.value[N]:h,De=j(Math.random()*ue);Ct.unshift(De),De<ue&&(kt=!1)}return Ct=Z(Ct),Ce.add(typeof Ct=="number"?new A(Ct):new w(Ct,!1))}var pr=function(U,ne){for(var Ce=U.length,Le,tt=Math.abs(ne),Le=0;Le<Ce;Le++){var Qe=U[Le].toLowerCase();if(Qe!=="-"&&/[a-z0-9]/.test(Qe)){if(/[0-9]/.test(Qe)&&+Qe>=tt){if(Qe==="1"&&tt===1)continue;throw new Error(Qe+" is not a valid digit in base "+ne+".")}else if(Qe.charCodeAt(0)-87>=tt)throw new Error(Qe+" is not a valid digit in base "+ne+".")}}if(2<=ne&&ne<=36&&Ce<=T/Math.log(ne)){var Ct=parseInt(U,ne);if(isNaN(Ct))throw new Error(Qe+" is not a valid digit in base "+ne+".");return new A(parseInt(U,ne))}ne=sr(ne);var kt=[],N=U[0]==="-";for(Le=N?1:0;Le<U.length;Le++){var Qe=U[Le].toLowerCase(),ue=Qe.charCodeAt(0);if(48<=ue&&ue<=57)kt.push(sr(Qe));else if(97<=ue&&ue<=122)kt.push(sr(Qe.charCodeAt(0)-87));else if(Qe==="<"){var De=Le;do Le++;while(U[Le]!==">");kt.push(sr(U.slice(De+1,Le)))}else throw new Error(Qe+" is not a valid character")}return on(kt,ne,N)};function on(U,ne,Ce){var Le=E[0],tt=E[1],Qe;for(Qe=U.length-1;Qe>=0;Qe--)Le=Le.add(U[Qe].times(tt)),tt=tt.times(ne);return Ce?Le.negate():Le}function Ei(U){return U<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(U):"<"+U+">"}function Fi(U,ne){if(ne=n(ne),ne.isZero()){if(U.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(ne.equals(-1)){if(U.isZero())return{value:[0],isNegative:!1};if(U.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-U)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var Ce=Array.apply(null,Array(+U-1)).map(Array.prototype.valueOf,[0,1]);return Ce.unshift([1]),{value:[].concat.apply([],Ce),isNegative:!1}}var Le=!1;if(U.isNegative()&&ne.isPositive()&&(Le=!0,U=U.abs()),ne.equals(1))return U.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+U)).map(Number.prototype.valueOf,1),isNegative:Le};for(var tt=[],Qe=U,Ct;Qe.isNegative()||Qe.compareAbs(ne)>=0;){Ct=Qe.divmod(ne),Qe=Ct.quotient;var kt=Ct.remainder;kt.isNegative()&&(kt=ne.minus(kt).abs(),Qe=Qe.next()),tt.push(kt.toJSNumber())}return tt.push(Qe.toJSNumber()),{value:tt.reverse(),isNegative:Le}}function Qn(U,ne){var Ce=Fi(U,ne);return(Ce.isNegative?"-":"")+Ce.value.map(Ei).join("")}w.prototype.toArray=function(U){return Fi(this,U)},A.prototype.toArray=function(U){return Fi(this,U)},w.prototype.toString=function(U){if(U===a&&(U=10),U!==10)return Qn(this,U);for(var ne=this.value,Ce=ne.length,Le=String(ne[--Ce]),tt="0000000",Qe;--Ce>=0;)Qe=String(ne[Ce]),Le+=tt.slice(Qe.length)+Qe;var Ct=this.sign?"-":"";return Ct+Le},A.prototype.toString=function(U){return U===a&&(U=10),U!=10?Qn(this,U):String(this.value)},w.prototype.toJSON=A.prototype.toJSON=function(){return this.toString()},w.prototype.valueOf=function(){return parseInt(this.toString(),10)},w.prototype.toJSNumber=w.prototype.valueOf,A.prototype.valueOf=function(){return this.value},A.prototype.toJSNumber=A.prototype.valueOf;function ss(U){if(z(+U)){var ne=+U;if(ne===j(ne))return new A(ne);throw new Error("Invalid integer: "+U)}var Ce=U[0]==="-";Ce&&(U=U.slice(1));var Le=U.split(/e/i);if(Le.length>2)throw new Error("Invalid integer: "+Le.join("e"));if(Le.length===2){var tt=Le[1];if(tt[0]==="+"&&(tt=tt.slice(1)),tt=+tt,tt!==j(tt)||!z(tt))throw new Error("Invalid integer: "+tt+" is not a valid exponent.");var Qe=Le[0],Ct=Qe.indexOf(".");if(Ct>=0&&(tt-=Qe.length-Ct-1,Qe=Qe.slice(0,Ct)+Qe.slice(Ct+1)),tt<0)throw new Error("Cannot include negative exponent part for integers");Qe+=new Array(tt+1).join("0"),U=Qe}var kt=/^([0-9][0-9]*)$/.test(U);if(!kt)throw new Error("Invalid integer: "+U);for(var N=[],ue=U.length,De=p,Re=ue-De;ue>0;)N.push(+U.slice(Re,ue)),Re-=De,Re<0&&(Re=0),ue-=De;return ce(N),new w(N,Ce)}function yi(U){if(z(U)){if(U!==j(U))throw new Error(U+" is not an integer.");return new A(U)}return ss(U.toString())}function sr(U){return typeof U=="number"?yi(U):typeof U=="string"?ss(U):U}for(var Vn=0;Vn<1e3;Vn++)E[Vn]=new A(Vn),Vn>0&&(E[-Vn]=new A(-Vn));return E.one=E[1],E.zero=E[0],E.minusOne=E[-1],E.max=Xn,E.min=dt,E.gcd=tn,E.lcm=Wr,E.isInstance=function(U){return U instanceof w||U instanceof A},E.randBetween=Zn,E.fromArray=function(U,ne,Ce){return on(U.map(sr),sr(ne||10),Ce)},E})();return r.hasOwnProperty("exports")&&(r.exports=n),n})(),bigDec:(function(n){var a,h,p,$,_=9e15,T=1e9,E="0123456789abcdef",w="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",A="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",z={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-_,maxE:_,crypto:!1},B=!0,Z="[DecimalError] ",ce=Z+"Invalid argument: ",oe=Z+"Precision limit exceeded",j=Z+"crypto unavailable",ie=Math.floor,be=Math.pow,Ie=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Ge=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Te=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,We=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lt=1e7,Je=7,Xe=w.length-1,Pt=A.length-1,He={name:"[object Decimal]"};function Lt(x){var P,K,Y,we=x.length-1,Q="",Ee=x[0];if(we>0){for(Q+=Ee,P=1;P<we;P++)Y=x[P]+"",(K=Je-Y.length)&&(Q+=Zt(K)),Q+=Y;Ee=x[P],(K=Je-(Y=Ee+"").length)&&(Q+=Zt(K))}else if(Ee===0)return"0";for(;Ee%10==0;)Ee/=10;return Q+Ee}function yt(x,P,K){if(x!==~~x||x<P||x>K)throw Error(ce+x)}function rt(x,P,K,Y){var we,Q,Ee,Ue;for(Q=x[0];Q>=10;Q/=10)--P;return--P<0?(P+=Je,we=0):(we=Math.ceil((P+1)/Je),P%=Je),Q=be(10,Je-P),Ue=x[we]%Q|0,Y==null?P<3?(P==0?Ue=Ue/100|0:P==1&&(Ue=Ue/10|0),Ee=K<4&&Ue==99999||K>3&&Ue==49999||Ue==5e4||Ue==0):Ee=(K<4&&Ue+1==Q||K>3&&Ue+1==Q/2)&&(x[we+1]/Q/100|0)==be(10,P-2)-1||(Ue==Q/2||Ue==0)&&(x[we+1]/Q/100|0)==0:P<4?(P==0?Ue=Ue/1e3|0:P==1?Ue=Ue/100|0:P==2&&(Ue=Ue/10|0),Ee=(Y||K<4)&&Ue==9999||!Y&&K>3&&Ue==4999):Ee=((Y||K<4)&&Ue+1==Q||!Y&&K>3&&Ue+1==Q/2)&&(x[we+1]/Q/1e3|0)==be(10,P-3)-1,Ee}function Ze(x,P,K){for(var Y,we,Q=[0],Ee=0,Ue=x.length;Ee<Ue;){for(we=Q.length;we--;)Q[we]*=P;for(Q[0]+=E.indexOf(x.charAt(Ee++)),Y=0;Y<Q.length;Y++)Q[Y]>K-1&&(Q[Y+1]===void 0&&(Q[Y+1]=0),Q[Y+1]+=Q[Y]/K|0,Q[Y]%=K)}return Q.reverse()}He.absoluteValue=He.abs=function(){var x=new this.constructor(this);return x.s<0&&(x.s=1),ft(x)},He.ceil=function(){return ft(new this.constructor(this),this.e+1,2)},He.comparedTo=He.cmp=function(x){var P,K,Y,we,Q=this,Ee=Q.d,Ue=(x=new Q.constructor(x)).d,Ke=Q.s,st=x.s;if(!Ee||!Ue)return Ke&&st?Ke!==st?Ke:Ee===Ue?0:!Ee^Ke<0?1:-1:NaN;if(!Ee[0]||!Ue[0])return Ee[0]?Ke:Ue[0]?-st:0;if(Ke!==st)return Ke;if(Q.e!==x.e)return Q.e>x.e^Ke<0?1:-1;for(P=0,K=(Y=Ee.length)<(we=Ue.length)?Y:we;P<K;++P)if(Ee[P]!==Ue[P])return Ee[P]>Ue[P]^Ke<0?1:-1;return Y===we?0:Y>we^Ke<0?1:-1},He.cosine=He.cos=function(){var x,P,K=this,Y=K.constructor;return K.d?K.d[0]?(x=Y.precision,P=Y.rounding,Y.precision=x+Math.max(K.e,K.sd())+Je,Y.rounding=1,K=(function(we,Q){var Ee,Ue,Ke=Q.d.length;Ke<32?(Ee=Math.ceil(Ke/3),Ue=(1/Wr(4,Ee)).toString()):(Ee=16,Ue="2.3283064365386962890625e-10"),we.precision+=Ee,Q=tn(we,1,Q.times(Ue),new we(1));for(var st=Ee;st--;){var te=Q.times(Q);Q=te.times(te).minus(te).times(8).plus(1)}return we.precision-=Ee,Q})(Y,Zn(Y,K)),Y.precision=x,Y.rounding=P,ft($==2||$==3?K.neg():K,x,P,!0)):new Y(1):new Y(NaN)},He.cubeRoot=He.cbrt=function(){var x,P,K,Y,we,Q,Ee,Ue,Ke,st,te=this,Nt=te.constructor;if(!te.isFinite()||te.isZero())return new Nt(te);for(B=!1,(Q=te.s*be(te.s*te,.3333333333333333))&&Math.abs(Q)!=1/0?Y=new Nt(Q.toString()):(K=Lt(te.d),(Q=((x=te.e)-K.length+1)%3)&&(K+=Q==1||Q==-2?"0":"00"),Q=be(K,.3333333333333333),x=ie((x+1)/3)-(x%3==(x<0?-1:2)),(Y=new Nt(K=Q==1/0?"5e"+x:(K=Q.toExponential()).slice(0,K.indexOf("e")+1)+x)).s=te.s),Ee=(x=Nt.precision)+3;;)if(st=(Ke=(Ue=Y).times(Ue).times(Ue)).plus(te),Y=$t(st.plus(te).times(Ue),st.plus(Ke),Ee+2,1),Lt(Ue.d).slice(0,Ee)===(K=Lt(Y.d)).slice(0,Ee)){if((K=K.slice(Ee-3,Ee+1))!="9999"&&(we||K!="4999")){+K&&(+K.slice(1)||K.charAt(0)!="5")||(ft(Y,x+1,1),P=!Y.times(Y).times(Y).eq(te));break}if(!we&&(ft(Ue,x+1,0),Ue.times(Ue).times(Ue).eq(te))){Y=Ue;break}Ee+=4,we=1}return B=!0,ft(Y,x,Nt.rounding,P)},He.decimalPlaces=He.dp=function(){var x,P=this.d,K=NaN;if(P){if(K=((x=P.length-1)-ie(this.e/Je))*Je,x=P[x])for(;x%10==0;x/=10)K--;K<0&&(K=0)}return K},He.dividedBy=He.div=function(x){return $t(this,new this.constructor(x))},He.dividedToIntegerBy=He.divToInt=function(x){var P=this.constructor;return ft($t(this,new P(x),0,1,1),P.precision,P.rounding)},He.equals=He.eq=function(x){return this.cmp(x)===0},He.floor=function(){return ft(new this.constructor(this),this.e+1,3)},He.greaterThan=He.gt=function(x){return this.cmp(x)>0},He.greaterThanOrEqualTo=He.gte=function(x){var P=this.cmp(x);return P==1||P===0},He.hyperbolicCosine=He.cosh=function(){var x,P,K,Y,we,Q=this,Ee=Q.constructor,Ue=new Ee(1);if(!Q.isFinite())return new Ee(Q.s?1/0:NaN);if(Q.isZero())return Ue;K=Ee.precision,Y=Ee.rounding,Ee.precision=K+Math.max(Q.e,Q.sd())+4,Ee.rounding=1,(we=Q.d.length)<32?P=(1/Wr(4,x=Math.ceil(we/3))).toString():(x=16,P="2.3283064365386962890625e-10"),Q=tn(Ee,1,Q.times(P),new Ee(1),!0);for(var Ke,st=x,te=new Ee(8);st--;)Ke=Q.times(Q),Q=Ue.minus(Ke.times(te.minus(Ke.times(te))));return ft(Q,Ee.precision=K,Ee.rounding=Y,!0)},He.hyperbolicSine=He.sinh=function(){var x,P,K,Y,we=this,Q=we.constructor;if(!we.isFinite()||we.isZero())return new Q(we);if(P=Q.precision,K=Q.rounding,Q.precision=P+Math.max(we.e,we.sd())+4,Q.rounding=1,(Y=we.d.length)<3)we=tn(Q,2,we,we,!0);else{x=(x=1.4*Math.sqrt(Y))>16?16:0|x,we=tn(Q,2,we=we.times(1/Wr(5,x)),we,!0);for(var Ee,Ue=new Q(5),Ke=new Q(16),st=new Q(20);x--;)Ee=we.times(we),we=we.times(Ue.plus(Ee.times(Ke.times(Ee).plus(st))))}return Q.precision=P,Q.rounding=K,ft(we,P,K,!0)},He.hyperbolicTangent=He.tanh=function(){var x,P,K=this,Y=K.constructor;return K.isFinite()?K.isZero()?new Y(K):(x=Y.precision,P=Y.rounding,Y.precision=x+7,Y.rounding=1,$t(K.sinh(),K.cosh(),Y.precision=x,Y.rounding=P)):new Y(K.s)},He.inverseCosine=He.acos=function(){var x,P=this,K=P.constructor,Y=P.abs().cmp(1),we=K.precision,Q=K.rounding;return Y!==-1?Y===0?P.isNeg()?ct(K,we,Q):new K(0):new K(NaN):P.isZero()?ct(K,we+4,Q).times(.5):(K.precision=we+6,K.rounding=1,P=P.asin(),x=ct(K,we+4,Q).times(.5),K.precision=we,K.rounding=Q,x.minus(P))},He.inverseHyperbolicCosine=He.acosh=function(){var x,P,K=this,Y=K.constructor;return K.lte(1)?new Y(K.eq(1)?0:NaN):K.isFinite()?(x=Y.precision,P=Y.rounding,Y.precision=x+Math.max(Math.abs(K.e),K.sd())+4,Y.rounding=1,B=!1,K=K.times(K).minus(1).sqrt().plus(K),B=!0,Y.precision=x,Y.rounding=P,K.ln()):new Y(K)},He.inverseHyperbolicSine=He.asinh=function(){var x,P,K=this,Y=K.constructor;return!K.isFinite()||K.isZero()?new Y(K):(x=Y.precision,P=Y.rounding,Y.precision=x+2*Math.max(Math.abs(K.e),K.sd())+6,Y.rounding=1,B=!1,K=K.times(K).plus(1).sqrt().plus(K),B=!0,Y.precision=x,Y.rounding=P,K.ln())},He.inverseHyperbolicTangent=He.atanh=function(){var x,P,K,Y,we=this,Q=we.constructor;return we.isFinite()?we.e>=0?new Q(we.abs().eq(1)?we.s/0:we.isZero()?we:NaN):(x=Q.precision,P=Q.rounding,Y=we.sd(),Math.max(Y,x)<2*-we.e-1?ft(new Q(we),x,P,!0):(Q.precision=K=Y-we.e,we=$t(we.plus(1),new Q(1).minus(we),K+x,1),Q.precision=x+4,Q.rounding=1,we=we.ln(),Q.precision=x,Q.rounding=P,we.times(.5))):new Q(NaN)},He.inverseSine=He.asin=function(){var x,P,K,Y,we=this,Q=we.constructor;return we.isZero()?new Q(we):(P=we.abs().cmp(1),K=Q.precision,Y=Q.rounding,P!==-1?P===0?((x=ct(Q,K+4,Y).times(.5)).s=we.s,x):new Q(NaN):(Q.precision=K+6,Q.rounding=1,we=we.div(new Q(1).minus(we.times(we)).sqrt().plus(1)).atan(),Q.precision=K,Q.rounding=Y,we.times(2)))},He.inverseTangent=He.atan=function(){var x,P,K,Y,we,Q,Ee,Ue,Ke,st=this,te=st.constructor,Nt=te.precision,Se=te.rounding;if(st.isFinite()){if(st.isZero())return new te(st);if(st.abs().eq(1)&&Nt+4<=Pt)return(Ee=ct(te,Nt+4,Se).times(.25)).s=st.s,Ee}else{if(!st.s)return new te(NaN);if(Nt+4<=Pt)return(Ee=ct(te,Nt+4,Se).times(.5)).s=st.s,Ee}for(te.precision=Ue=Nt+10,te.rounding=1,x=K=Math.min(28,Ue/Je+2|0);x;--x)st=st.div(st.times(st).plus(1).sqrt().plus(1));for(B=!1,P=Math.ceil(Ue/Je),Y=1,Ke=st.times(st),Ee=new te(st),we=st;x!==-1;)if(we=we.times(Ke),Q=Ee.minus(we.div(Y+=2)),we=we.times(Ke),(Ee=Q.plus(we.div(Y+=2))).d[P]!==void 0)for(x=P;Ee.d[x]===Q.d[x]&&x--;);return K&&(Ee=Ee.times(2<<K-1)),B=!0,ft(Ee,te.precision=Nt,te.rounding=Se,!0)},He.isFinite=function(){return!!this.d},He.isInteger=He.isInt=function(){return!!this.d&&ie(this.e/Je)>this.d.length-2},He.isNaN=function(){return!this.s},He.isNegative=He.isNeg=function(){return this.s<0},He.isPositive=He.isPos=function(){return this.s>0},He.isZero=function(){return!!this.d&&this.d[0]===0},He.lessThan=He.lt=function(x){return this.cmp(x)<0},He.lessThanOrEqualTo=He.lte=function(x){return this.cmp(x)<1},He.logarithm=He.log=function(x){var P,K,Y,we,Q,Ee,Ue,Ke,st=this.constructor,te=st.precision,Nt=st.rounding;if(x==null)x=new st(10),P=!0;else{if(K=(x=new st(x)).d,x.s<0||!K||!K[0]||x.eq(1))return new st(NaN);P=x.eq(10)}if(K=this.d,this.s<0||!K||!K[0]||this.eq(1))return new st(K&&!K[0]?-1/0:this.s!=1?NaN:K?0:1/0);if(P)if(K.length>1)Q=!0;else{for(we=K[0];we%10==0;)we/=10;Q=we!==1}if(B=!1,Ee=Yn(this,Ue=te+5),Y=P?Be(st,Ue+10):Yn(x,Ue),rt((Ke=$t(Ee,Y,Ue,1)).d,we=te,Nt))do if(Ee=Yn(this,Ue+=10),Y=P?Be(st,Ue+10):Yn(x,Ue),Ke=$t(Ee,Y,Ue,1),!Q){+Lt(Ke.d).slice(we+1,we+15)+1==1e14&&(Ke=ft(Ke,te+1,0));break}while(rt(Ke.d,we+=10,Nt));return B=!0,ft(Ke,te,Nt)},He.minus=He.sub=function(x){var P,K,Y,we,Q,Ee,Ue,Ke,st,te,Nt,Se,wn=this,In=wn.constructor;if(x=new In(x),!wn.d||!x.d)return wn.s&&x.s?wn.d?x.s=-x.s:x=new In(x.d||wn.s!==x.s?wn:NaN):x=new In(NaN),x;if(wn.s!=x.s)return x.s=-x.s,wn.plus(x);if(st=wn.d,Se=x.d,Ue=In.precision,Ke=In.rounding,!st[0]||!Se[0]){if(Se[0])x.s=-x.s;else{if(!st[0])return new In(Ke===3?-0:0);x=new In(wn)}return B?ft(x,Ue,Ke):x}if(K=ie(x.e/Je),te=ie(wn.e/Je),st=st.slice(),Q=te-K){for((Nt=Q<0)?(P=st,Q=-Q,Ee=Se.length):(P=Se,K=te,Ee=st.length),Q>(Y=Math.max(Math.ceil(Ue/Je),Ee)+2)&&(Q=Y,P.length=1),P.reverse(),Y=Q;Y--;)P.push(0);P.reverse()}else{for((Nt=(Y=st.length)<(Ee=Se.length))&&(Ee=Y),Y=0;Y<Ee;Y++)if(st[Y]!=Se[Y]){Nt=st[Y]<Se[Y];break}Q=0}for(Nt&&(P=st,st=Se,Se=P,x.s=-x.s),Ee=st.length,Y=Se.length-Ee;Y>0;--Y)st[Ee++]=0;for(Y=Se.length;Y>Q;){if(st[--Y]<Se[Y]){for(we=Y;we&&st[--we]===0;)st[we]=lt-1;--st[we],st[Y]+=lt}st[Y]-=Se[Y]}for(;st[--Ee]===0;)st.pop();for(;st[0]===0;st.shift())--K;return st[0]?(x.d=st,x.e=le(st,K),B?ft(x,Ue,Ke):x):new In(Ke===3?-0:0)},He.modulo=He.mod=function(x){var P,K=this,Y=K.constructor;return x=new Y(x),!K.d||!x.s||x.d&&!x.d[0]?new Y(NaN):!x.d||K.d&&!K.d[0]?ft(new Y(K),Y.precision,Y.rounding):(B=!1,Y.modulo==9?(P=$t(K,x.abs(),0,3,1)).s*=x.s:P=$t(K,x,0,Y.modulo,1),P=P.times(x),B=!0,K.minus(P))},He.naturalExponential=He.exp=function(){return hr(this)},He.naturalLogarithm=He.ln=function(){return Yn(this)},He.negated=He.neg=function(){var x=new this.constructor(this);return x.s=-x.s,ft(x)},He.plus=He.add=function(x){var P,K,Y,we,Q,Ee,Ue,Ke,st,te,Nt=this,Se=Nt.constructor;if(x=new Se(x),!Nt.d||!x.d)return Nt.s&&x.s?Nt.d||(x=new Se(x.d||Nt.s===x.s?Nt:NaN)):x=new Se(NaN),x;if(Nt.s!=x.s)return x.s=-x.s,Nt.minus(x);if(st=Nt.d,te=x.d,Ue=Se.precision,Ke=Se.rounding,!st[0]||!te[0])return te[0]||(x=new Se(Nt)),B?ft(x,Ue,Ke):x;if(Q=ie(Nt.e/Je),Y=ie(x.e/Je),st=st.slice(),we=Q-Y){for(we<0?(K=st,we=-we,Ee=te.length):(K=te,Y=Q,Ee=st.length),we>(Ee=(Q=Math.ceil(Ue/Je))>Ee?Q+1:Ee+1)&&(we=Ee,K.length=1),K.reverse();we--;)K.push(0);K.reverse()}for((Ee=st.length)-(we=te.length)<0&&(we=Ee,K=te,te=st,st=K),P=0;we;)P=(st[--we]=st[we]+te[we]+P)/lt|0,st[we]%=lt;for(P&&(st.unshift(P),++Y),Ee=st.length;st[--Ee]==0;)st.pop();return x.d=st,x.e=le(st,Y),B?ft(x,Ue,Ke):x},He.precision=He.sd=function(x){var P,K=this;if(x!==void 0&&x!==!!x&&x!==1&&x!==0)throw Error(ce+x);return K.d?(P=ke(K.d),x&&K.e+1>P&&(P=K.e+1)):P=NaN,P},He.round=function(){var x=this,P=x.constructor;return ft(new P(x),x.e+1,P.rounding)},He.sine=He.sin=function(){var x,P,K=this,Y=K.constructor;return K.isFinite()?K.isZero()?new Y(K):(x=Y.precision,P=Y.rounding,Y.precision=x+Math.max(K.e,K.sd())+Je,Y.rounding=1,K=(function(we,Q){var Ee,Ue=Q.d.length;if(Ue<3)return tn(we,2,Q,Q);Ee=(Ee=1.4*Math.sqrt(Ue))>16?16:0|Ee,Q=Q.times(1/Wr(5,Ee)),Q=tn(we,2,Q,Q);for(var Ke,st=new we(5),te=new we(16),Nt=new we(20);Ee--;)Ke=Q.times(Q),Q=Q.times(st.plus(Ke.times(te.times(Ke).minus(Nt))));return Q})(Y,Zn(Y,K)),Y.precision=x,Y.rounding=P,ft($>2?K.neg():K,x,P,!0)):new Y(NaN)},He.squareRoot=He.sqrt=function(){var x,P,K,Y,we,Q,Ee=this,Ue=Ee.d,Ke=Ee.e,st=Ee.s,te=Ee.constructor;if(st!==1||!Ue||!Ue[0])return new te(!st||st<0&&(!Ue||Ue[0])?NaN:Ue?Ee:1/0);for(B=!1,(st=Math.sqrt(+Ee))==0||st==1/0?(((P=Lt(Ue)).length+Ke)%2==0&&(P+="0"),st=Math.sqrt(P),Ke=ie((Ke+1)/2)-(Ke<0||Ke%2),Y=new te(P=st==1/0?"5e"+Ke:(P=st.toExponential()).slice(0,P.indexOf("e")+1)+Ke)):Y=new te(st.toString()),K=(Ke=te.precision)+3;;)if(Y=(Q=Y).plus($t(Ee,Q,K+2,1)).times(.5),Lt(Q.d).slice(0,K)===(P=Lt(Y.d)).slice(0,K)){if((P=P.slice(K-3,K+1))!="9999"&&(we||P!="4999")){+P&&(+P.slice(1)||P.charAt(0)!="5")||(ft(Y,Ke+1,1),x=!Y.times(Y).eq(Ee));break}if(!we&&(ft(Q,Ke+1,0),Q.times(Q).eq(Ee))){Y=Q;break}K+=4,we=1}return B=!0,ft(Y,Ke,te.rounding,x)},He.tangent=He.tan=function(){var x,P,K=this,Y=K.constructor;return K.isFinite()?K.isZero()?new Y(K):(x=Y.precision,P=Y.rounding,Y.precision=x+10,Y.rounding=1,(K=K.sin()).s=1,K=$t(K,new Y(1).minus(K.times(K)).sqrt(),x+10,0),Y.precision=x,Y.rounding=P,ft($==2||$==4?K.neg():K,x,P,!0)):new Y(NaN)},He.times=He.mul=function(x){var P,K,Y,we,Q,Ee,Ue,Ke,st,te=this,Nt=te.constructor,Se=te.d,wn=(x=new Nt(x)).d;if(x.s*=te.s,!(Se&&Se[0]&&wn&&wn[0]))return new Nt(!x.s||Se&&!Se[0]&&!wn||wn&&!wn[0]&&!Se?NaN:Se&&wn?0*x.s:x.s/0);for(K=ie(te.e/Je)+ie(x.e/Je),(Ke=Se.length)<(st=wn.length)&&(Q=Se,Se=wn,wn=Q,Ee=Ke,Ke=st,st=Ee),Q=[],Y=Ee=Ke+st;Y--;)Q.push(0);for(Y=st;--Y>=0;){for(P=0,we=Ke+Y;we>Y;)Ue=Q[we]+wn[Y]*Se[we-Y-1]+P,Q[we--]=Ue%lt|0,P=Ue/lt|0;Q[we]=(Q[we]+P)%lt|0}for(;!Q[--Ee];)Q.pop();return P?++K:Q.shift(),x.d=Q,x.e=le(Q,K),B?ft(x,Nt.precision,Nt.rounding):x},He.toBinary=function(x,P){return pr(this,2,x,P)},He.toDecimalPlaces=He.toDP=function(x,P){var K=this,Y=K.constructor;return K=new Y(K),x===void 0?K:(yt(x,0,T),P===void 0?P=Y.rounding:yt(P,0,8),ft(K,x+K.e+1,P))},He.toExponential=function(x,P){var K,Y=this,we=Y.constructor;return x===void 0?K=It(Y,!0):(yt(x,0,T),P===void 0?P=we.rounding:yt(P,0,8),K=It(Y=ft(new we(Y),x+1,P),!0,x+1)),Y.isNeg()&&!Y.isZero()?"-"+K:K},He.toFixed=function(x,P){var K,Y,we=this,Q=we.constructor;return x===void 0?K=It(we):(yt(x,0,T),P===void 0?P=Q.rounding:yt(P,0,8),K=It(Y=ft(new Q(we),x+we.e+1,P),!1,x+Y.e+1)),we.isNeg()&&!we.isZero()?"-"+K:K},He.toFraction=function(x){var P,K,Y,we,Q,Ee,Ue,Ke,st,te,Nt,Se,wn=this,In=wn.d,Or=wn.constructor;if(!In)return new Or(wn);if(st=K=new Or(1),Y=Ke=new Or(0),Ee=(Q=(P=new Or(Y)).e=ke(In)-wn.e-1)%Je,P.d[0]=be(10,Ee<0?Je+Ee:Ee),x==null)x=Q>0?P:st;else{if(!(Ue=new Or(x)).isInt()||Ue.lt(st))throw Error(ce+Ue);x=Ue.gt(P)?Q>0?P:st:Ue}for(B=!1,Ue=new Or(Lt(In)),te=Or.precision,Or.precision=Q=In.length*Je*2;Nt=$t(Ue,P,0,1,1),(we=K.plus(Nt.times(Y))).cmp(x)!=1;)K=Y,Y=we,we=st,st=Ke.plus(Nt.times(we)),Ke=we,we=P,P=Ue.minus(Nt.times(we)),Ue=we;return we=$t(x.minus(K),Y,0,1,1),Ke=Ke.plus(we.times(st)),K=K.plus(we.times(Y)),Ke.s=st.s=wn.s,Se=$t(st,Y,Q,1).minus(wn).abs().cmp($t(Ke,K,Q,1).minus(wn).abs())<1?[st,Y]:[Ke,K],Or.precision=te,B=!0,Se},He.toHexadecimal=He.toHex=function(x,P){return pr(this,16,x,P)},He.toNearest=function(x,P){var K=this,Y=K.constructor;if(K=new Y(K),x==null){if(!K.d)return K;x=new Y(1),P=Y.rounding}else{if(x=new Y(x),P===void 0?P=Y.rounding:yt(P,0,8),!K.d)return x.s?K:x;if(!x.d)return x.s&&(x.s=K.s),x}return x.d[0]?(B=!1,K=$t(K,x,0,P,1).times(x),B=!0,ft(K)):(x.s=K.s,K=x),K},He.toNumber=function(){return+this},He.toOctal=function(x,P){return pr(this,8,x,P)},He.toPower=He.pow=function(x){var P,K,Y,we,Q,Ee,Ue=this,Ke=Ue.constructor,st=+(x=new Ke(x));if(!(Ue.d&&x.d&&Ue.d[0]&&x.d[0]))return new Ke(be(+Ue,st));if((Ue=new Ke(Ue)).eq(1))return Ue;if(Y=Ke.precision,Q=Ke.rounding,x.eq(1))return ft(Ue,Y,Q);if((P=ie(x.e/Je))>=x.d.length-1&&(K=st<0?-st:st)<=9007199254740991)return we=Ot(Ke,Ue,K,Y),x.s<0?new Ke(1).div(we):ft(we,Y,Q);if((Ee=Ue.s)<0){if(P<x.d.length-1)return new Ke(NaN);if((1&x.d[P])==0&&(Ee=1),Ue.e==0&&Ue.d[0]==1&&Ue.d.length==1)return Ue.s=Ee,Ue}return(P=(K=be(+Ue,st))!=0&&isFinite(K)?new Ke(K+"").e:ie(st*(Math.log("0."+Lt(Ue.d))/Math.LN10+Ue.e+1)))>Ke.maxE+1||P<Ke.minE-1?new Ke(P>0?Ee/0:0):(B=!1,Ke.rounding=Ue.s=1,K=Math.min(12,(P+"").length),(we=hr(x.times(Yn(Ue,Y+K)),Y)).d&&rt((we=ft(we,Y+5,1)).d,Y,Q)&&(P=Y+10,+Lt((we=ft(hr(x.times(Yn(Ue,P+K)),P),P+5,1)).d).slice(Y+1,Y+15)+1==1e14&&(we=ft(we,Y+1,0))),we.s=Ee,B=!0,Ke.rounding=Q,ft(we,Y,Q))},He.toPrecision=function(x,P){var K,Y=this,we=Y.constructor;return x===void 0?K=It(Y,Y.e<=we.toExpNeg||Y.e>=we.toExpPos):(yt(x,1,T),P===void 0?P=we.rounding:yt(P,0,8),K=It(Y=ft(new we(Y),x,P),x<=Y.e||Y.e<=we.toExpNeg,x)),Y.isNeg()&&!Y.isZero()?"-"+K:K},He.toSignificantDigits=He.toSD=function(x,P){var K=this.constructor;return x===void 0?(x=K.precision,P=K.rounding):(yt(x,1,T),P===void 0?P=K.rounding:yt(P,0,8)),ft(new K(this),x,P)},He.toString=function(){var x=this,P=x.constructor,K=It(x,x.e<=P.toExpNeg||x.e>=P.toExpPos);return x.isNeg()&&!x.isZero()?"-"+K:K},He.truncated=He.trunc=function(){return ft(new this.constructor(this),this.e+1,1)},He.valueOf=He.toJSON=function(){var x=this,P=x.constructor,K=It(x,x.e<=P.toExpNeg||x.e>=P.toExpPos);return x.isNeg()?"-"+K:K};var $t=(function(){function x(Y,we,Q){var Ee,Ue=0,Ke=Y.length;for(Y=Y.slice();Ke--;)Ee=Y[Ke]*we+Ue,Y[Ke]=Ee%Q|0,Ue=Ee/Q|0;return Ue&&Y.unshift(Ue),Y}function P(Y,we,Q,Ee){var Ue,Ke;if(Q!=Ee)Ke=Q>Ee?1:-1;else for(Ue=Ke=0;Ue<Q;Ue++)if(Y[Ue]!=we[Ue]){Ke=Y[Ue]>we[Ue]?1:-1;break}return Ke}function K(Y,we,Q,Ee){for(var Ue=0;Q--;)Y[Q]-=Ue,Ue=Y[Q]<we[Q]?1:0,Y[Q]=Ue*Ee+Y[Q]-we[Q];for(;!Y[0]&&Y.length>1;)Y.shift()}return function(Y,we,Q,Ee,Ue,Ke){var st,te,Nt,Se,wn,In,Or,cr,On,Zi,si,fn,xr,Rs,oi,Ir,Qt,fe,Ci,ps,dr=Y.constructor,Lr=Y.s==we.s?1:-1,$n=Y.d,tr=we.d;if(!($n&&$n[0]&&tr&&tr[0]))return new dr(Y.s&&we.s&&($n?!tr||$n[0]!=tr[0]:tr)?$n&&$n[0]==0||!tr?0*Lr:Lr/0:NaN);for(Ke?(wn=1,te=Y.e-we.e):(Ke=lt,wn=Je,te=ie(Y.e/wn)-ie(we.e/wn)),Ci=tr.length,Qt=$n.length,Zi=(On=new dr(Lr)).d=[],Nt=0;tr[Nt]==($n[Nt]||0);Nt++);if(tr[Nt]>($n[Nt]||0)&&te--,Q==null?(Rs=Q=dr.precision,Ee=dr.rounding):Rs=Ue?Q+(Y.e-we.e)+1:Q,Rs<0)Zi.push(1),In=!0;else{if(Rs=Rs/wn+2|0,Nt=0,Ci==1){for(Se=0,tr=tr[0],Rs++;(Nt<Qt||Se)&&Rs--;Nt++)oi=Se*Ke+($n[Nt]||0),Zi[Nt]=oi/tr|0,Se=oi%tr|0;In=Se||Nt<Qt}else{for((Se=Ke/(tr[0]+1)|0)>1&&(tr=x(tr,Se,Ke),$n=x($n,Se,Ke),Ci=tr.length,Qt=$n.length),Ir=Ci,fn=(si=$n.slice(0,Ci)).length;fn<Ci;)si[fn++]=0;(ps=tr.slice()).unshift(0),fe=tr[0],tr[1]>=Ke/2&&++fe;do Se=0,(st=P(tr,si,Ci,fn))<0?(xr=si[0],Ci!=fn&&(xr=xr*Ke+(si[1]||0)),(Se=xr/fe|0)>1?(Se>=Ke&&(Se=Ke-1),(st=P(Or=x(tr,Se,Ke),si,cr=Or.length,fn=si.length))==1&&(Se--,K(Or,Ci<cr?ps:tr,cr,Ke))):(Se==0&&(st=Se=1),Or=tr.slice()),(cr=Or.length)<fn&&Or.unshift(0),K(si,Or,fn,Ke),st==-1&&(st=P(tr,si,Ci,fn=si.length))<1&&(Se++,K(si,Ci<fn?ps:tr,fn,Ke)),fn=si.length):st===0&&(Se++,si=[0]),Zi[Nt++]=Se,st&&si[0]?si[fn++]=$n[Ir]||0:(si=[$n[Ir]],fn=1);while((Ir++<Qt||si[0]!==void 0)&&Rs--);In=si[0]!==void 0}Zi[0]||Zi.shift()}if(wn==1)On.e=te,h=In;else{for(Nt=1,Se=Zi[0];Se>=10;Se/=10)Nt++;On.e=Nt+te*wn-1,ft(On,Ue?Q+On.e+1:Q,Ee,In)}return On}})();function ft(x,P,K,Y){var we,Q,Ee,Ue,Ke,st,te,Nt,Se,wn=x.constructor;e:if(P!=null){if(!(Nt=x.d))return x;for(we=1,Ue=Nt[0];Ue>=10;Ue/=10)we++;if((Q=P-we)<0)Q+=Je,Ee=P,Ke=(te=Nt[Se=0])/be(10,we-Ee-1)%10|0;else if((Se=Math.ceil((Q+1)/Je))>=(Ue=Nt.length)){if(!Y)break e;for(;Ue++<=Se;)Nt.push(0);te=Ke=0,we=1,Ee=(Q%=Je)-Je+1}else{for(te=Ue=Nt[Se],we=1;Ue>=10;Ue/=10)we++;Ke=(Ee=(Q%=Je)-Je+we)<0?0:te/be(10,we-Ee-1)%10|0}if(Y=Y||P<0||Nt[Se+1]!==void 0||(Ee<0?te:te%be(10,we-Ee-1)),st=K<4?(Ke||Y)&&(K==0||K==(x.s<0?3:2)):Ke>5||Ke==5&&(K==4||Y||K==6&&(Q>0?Ee>0?te/be(10,we-Ee):0:Nt[Se-1])%10&1||K==(x.s<0?8:7)),P<1||!Nt[0])return Nt.length=0,st?(P-=x.e+1,Nt[0]=be(10,(Je-P%Je)%Je),x.e=-P||0):Nt[0]=x.e=0,x;if(Q==0?(Nt.length=Se,Ue=1,Se--):(Nt.length=Se+1,Ue=be(10,Je-Q),Nt[Se]=Ee>0?(te/be(10,we-Ee)%be(10,Ee)|0)*Ue:0),st)for(;;){if(Se==0){for(Q=1,Ee=Nt[0];Ee>=10;Ee/=10)Q++;for(Ee=Nt[0]+=Ue,Ue=1;Ee>=10;Ee/=10)Ue++;Q!=Ue&&(x.e++,Nt[0]==lt&&(Nt[0]=1));break}if(Nt[Se]+=Ue,Nt[Se]!=lt)break;Nt[Se--]=0,Ue=1}for(Q=Nt.length;Nt[--Q]===0;)Nt.pop()}return B&&(x.e>wn.maxE?(x.d=null,x.e=NaN):x.e<wn.minE&&(x.e=0,x.d=[0])),x}function It(x,P,K){if(!x.isFinite())return an(x);var Y,we=x.e,Q=Lt(x.d),Ee=Q.length;return P?(K&&(Y=K-Ee)>0?Q=Q.charAt(0)+"."+Q.slice(1)+Zt(Y):Ee>1&&(Q=Q.charAt(0)+"."+Q.slice(1)),Q=Q+(x.e<0?"e":"e+")+x.e):we<0?(Q="0."+Zt(-we-1)+Q,K&&(Y=K-Ee)>0&&(Q+=Zt(Y))):we>=Ee?(Q+=Zt(we+1-Ee),K&&(Y=K-we-1)>0&&(Q=Q+"."+Zt(Y))):((Y=we+1)<Ee&&(Q=Q.slice(0,Y)+"."+Q.slice(Y)),K&&(Y=K-Ee)>0&&(we+1===Ee&&(Q+="."),Q+=Zt(Y))),Q}function le(x,P){var K=x[0];for(P*=Je;K>=10;K/=10)P++;return P}function Be(x,P,K){if(P>Xe)throw B=!0,K&&(x.precision=K),Error(oe);return ft(new x(w),P,1,!0)}function ct(x,P,K){if(P>Pt)throw Error(oe);return ft(new x(A),P,K,!0)}function ke(x){var P=x.length-1,K=P*Je+1;if(P=x[P]){for(;P%10==0;P/=10)K--;for(P=x[0];P>=10;P/=10)K++}return K}function Zt(x){for(var P="";x--;)P+="0";return P}function Ot(x,P,K,Y){var we,Q=new x(1),Ee=Math.ceil(Y/Je+4);for(B=!1;;){if(K%2&&on((Q=Q.times(P)).d,Ee)&&(we=!0),(K=ie(K/2))===0){K=Q.d.length-1,we&&Q.d[K]===0&&++Q.d[K];break}on((P=P.times(P)).d,Ee)}return B=!0,Q}function sn(x){return 1&x.d[x.d.length-1]}function yn(x,P,K){for(var Y,we=new x(P[0]),Q=0;++Q<P.length;){if(!(Y=new x(P[Q])).s){we=Y;break}we[K](Y)&&(we=Y)}return we}function hr(x,P){var K,Y,we,Q,Ee,Ue,Ke,st=0,te=0,Nt=0,Se=x.constructor,wn=Se.rounding,In=Se.precision;if(!x.d||!x.d[0]||x.e>17)return new Se(x.d?x.d[0]?x.s<0?0:1/0:1:x.s?x.s<0?0:x:NaN);for(P==null?(B=!1,Ke=In):Ke=P,Ue=new Se(.03125);x.e>-2;)x=x.times(Ue),Nt+=5;for(Ke+=Y=Math.log(be(2,Nt))/Math.LN10*2+5|0,K=Q=Ee=new Se(1),Se.precision=Ke;;){if(Q=ft(Q.times(x),Ke,1),K=K.times(++te),Lt((Ue=Ee.plus($t(Q,K,Ke,1))).d).slice(0,Ke)===Lt(Ee.d).slice(0,Ke)){for(we=Nt;we--;)Ee=ft(Ee.times(Ee),Ke,1);if(P!=null)return Se.precision=In,Ee;if(!(st<3&&rt(Ee.d,Ke-Y,wn,st)))return ft(Ee,Se.precision=In,wn,B=!0);Se.precision=Ke+=10,K=Q=Ue=new Se(1),te=0,st++}Ee=Ue}}function Yn(x,P){var K,Y,we,Q,Ee,Ue,Ke,st,te,Nt,Se,wn=1,In=x,Or=In.d,cr=In.constructor,On=cr.rounding,Zi=cr.precision;if(In.s<0||!Or||!Or[0]||!In.e&&Or[0]==1&&Or.length==1)return new cr(Or&&!Or[0]?-1/0:In.s!=1?NaN:Or?0:In);if(P==null?(B=!1,te=Zi):te=P,cr.precision=te+=10,Y=(K=Lt(Or)).charAt(0),!(Math.abs(Q=In.e)<15e14))return st=Be(cr,te+2,Zi).times(Q+""),In=Yn(new cr(Y+"."+K.slice(1)),te-10).plus(st),cr.precision=Zi,P==null?ft(In,Zi,On,B=!0):In;for(;Y<7&&Y!=1||Y==1&&K.charAt(1)>3;)Y=(K=Lt((In=In.times(x)).d)).charAt(0),wn++;for(Q=In.e,Y>1?(In=new cr("0."+K),Q++):In=new cr(Y+"."+K.slice(1)),Nt=In,Ke=Ee=In=$t(In.minus(1),In.plus(1),te,1),Se=ft(In.times(In),te,1),we=3;;){if(Ee=ft(Ee.times(Se),te,1),Lt((st=Ke.plus($t(Ee,new cr(we),te,1))).d).slice(0,te)===Lt(Ke.d).slice(0,te)){if(Ke=Ke.times(2),Q!==0&&(Ke=Ke.plus(Be(cr,te+2,Zi).times(Q+""))),Ke=$t(Ke,new cr(wn),te,1),P!=null)return cr.precision=Zi,Ke;if(!rt(Ke.d,te-10,On,Ue))return ft(Ke,cr.precision=Zi,On,B=!0);cr.precision=te+=10,st=Ee=In=$t(Nt.minus(1),Nt.plus(1),te,1),Se=ft(In.times(In),te,1),we=Ue=1}Ke=st,we+=2}}function an(x){return String(x.s*x.s/0)}function Xn(x,P){var K,Y,we;for((K=P.indexOf("."))>-1&&(P=P.replace(".","")),(Y=P.search(/e/i))>0?(K<0&&(K=Y),K+=+P.slice(Y+1),P=P.substring(0,Y)):K<0&&(K=P.length),Y=0;P.charCodeAt(Y)===48;Y++);for(we=P.length;P.charCodeAt(we-1)===48;--we);if(P=P.slice(Y,we)){if(we-=Y,x.e=K=K-Y-1,x.d=[],Y=(K+1)%Je,K<0&&(Y+=Je),Y<we){for(Y&&x.d.push(+P.slice(0,Y)),we-=Je;Y<we;)x.d.push(+P.slice(Y,Y+=Je));P=P.slice(Y),Y=Je-P.length}else Y-=we;for(;Y--;)P+="0";x.d.push(+P),B&&(x.e>x.constructor.maxE?(x.d=null,x.e=NaN):x.e<x.constructor.minE&&(x.e=0,x.d=[0]))}else x.e=0,x.d=[0];return x}function dt(x,P){var K,Y,we,Q,Ee,Ue,Ke,st,te;if(P==="Infinity"||P==="NaN")return+P||(x.s=NaN),x.e=NaN,x.d=null,x;if(Ge.test(P))K=16,P=P.toLowerCase();else if(Ie.test(P))K=2;else{if(!Te.test(P))throw Error(ce+P);K=8}for((Q=P.search(/p/i))>0?(Ke=+P.slice(Q+1),P=P.substring(2,Q)):P=P.slice(2),Ee=(Q=P.indexOf("."))>=0,Y=x.constructor,Ee&&(Q=(Ue=(P=P.replace(".","")).length)-Q,we=Ot(Y,new Y(K),Q,2*Q)),Q=te=(st=Ze(P,K,lt)).length-1;st[Q]===0;--Q)st.pop();return Q<0?new Y(0*x.s):(x.e=le(st,te),x.d=st,B=!1,Ee&&(x=$t(x,we,4*Ue)),Ke&&(x=x.times(Math.abs(Ke)<54?be(2,Ke):a.pow(2,Ke))),B=!0,x)}function tn(x,P,K,Y,we){var Q,Ee,Ue,Ke,st=x.precision,te=Math.ceil(st/Je);for(B=!1,Ke=K.times(K),Ue=new x(Y);;){if(Ee=$t(Ue.times(Ke),new x(P++*P++),st,1),Ue=we?Y.plus(Ee):Y.minus(Ee),Y=$t(Ee.times(Ke),new x(P++*P++),st,1),(Ee=Ue.plus(Y)).d[te]!==void 0){for(Q=te;Ee.d[Q]===Ue.d[Q]&&Q--;);if(Q==-1)break}Q=Ue,Ue=Y,Y=Ee,Ee=Q}return B=!0,Ee.d.length=te+1,Ee}function Wr(x,P){for(var K=x;--P;)K*=x;return K}function Zn(x,P){var K,Y=P.s<0,we=ct(x,x.precision,1),Q=we.times(.5);if((P=P.abs()).lte(Q))return $=Y?4:1,P;if((K=P.divToInt(we)).isZero())$=Y?3:2;else{if((P=P.minus(K.times(we))).lte(Q))return $=sn(K)?Y?2:3:Y?4:1,P;$=sn(K)?Y?1:4:Y?3:2}return P.minus(we).abs()}function pr(x,P,K,Y){var we,Q,Ee,Ue,Ke,st,te,Nt,Se,wn=x.constructor,In=K!==void 0;if(In?(yt(K,1,T),Y===void 0?Y=wn.rounding:yt(Y,0,8)):(K=wn.precision,Y=wn.rounding),x.isFinite()){for(In?(we=2,P==16?K=4*K-3:P==8&&(K=3*K-2)):we=P,(Ee=(te=It(x)).indexOf("."))>=0&&(te=te.replace(".",""),(Se=new wn(1)).e=te.length-Ee,Se.d=Ze(It(Se),10,we),Se.e=Se.d.length),Q=Ke=(Nt=Ze(te,10,we)).length;Nt[--Ke]==0;)Nt.pop();if(Nt[0]){if(Ee<0?Q--:((x=new wn(x)).d=Nt,x.e=Q,Nt=(x=$t(x,Se,K,Y,0,we)).d,Q=x.e,st=h),Ee=Nt[K],Ue=we/2,st=st||Nt[K+1]!==void 0,st=Y<4?(Ee!==void 0||st)&&(Y===0||Y===(x.s<0?3:2)):Ee>Ue||Ee===Ue&&(Y===4||st||Y===6&&1&Nt[K-1]||Y===(x.s<0?8:7)),Nt.length=K,st)for(;++Nt[--K]>we-1;)Nt[K]=0,K||(++Q,Nt.unshift(1));for(Ke=Nt.length;!Nt[Ke-1];--Ke);for(Ee=0,te="";Ee<Ke;Ee++)te+=E.charAt(Nt[Ee]);if(In){if(Ke>1)if(P==16||P==8){for(Ee=P==16?4:3,--Ke;Ke%Ee;Ke++)te+="0";for(Ke=(Nt=Ze(te,we,P)).length;!Nt[Ke-1];--Ke);for(Ee=1,te="1.";Ee<Ke;Ee++)te+=E.charAt(Nt[Ee])}else te=te.charAt(0)+"."+te.slice(1);te=te+(Q<0?"p":"p+")+Q}else if(Q<0){for(;++Q;)te="0"+te;te="0."+te}else if(++Q>Ke)for(Q-=Ke;Q--;)te+="0";else Q<Ke&&(te=te.slice(0,Q)+"."+te.slice(Q))}else te=In?"0p+0":"0";te=(P==16?"0x":P==2?"0b":P==8?"0o":"")+te}else te=an(x);return x.s<0?"-"+te:te}function on(x,P){if(x.length>P)return x.length=P,!0}function Ei(x){return new this(x).abs()}function Fi(x){return new this(x).acos()}function Qn(x){return new this(x).acosh()}function ss(x,P){return new this(x).plus(P)}function yi(x){return new this(x).asin()}function sr(x){return new this(x).asinh()}function Vn(x){return new this(x).atan()}function U(x){return new this(x).atanh()}function ne(x,P){x=new this(x),P=new this(P);var K,Y=this.precision,we=this.rounding,Q=Y+4;return x.s&&P.s?x.d||P.d?!P.d||x.isZero()?(K=P.s<0?ct(this,Y,we):new this(0)).s=x.s:!x.d||P.isZero()?(K=ct(this,Q,1).times(.5)).s=x.s:P.s<0?(this.precision=Q,this.rounding=1,K=this.atan($t(x,P,Q,1)),P=ct(this,Q,1),this.precision=Y,this.rounding=we,K=x.s<0?K.minus(P):K.plus(P)):K=this.atan($t(x,P,Q,1)):(K=ct(this,Q,1).times(P.s>0?.25:.75)).s=x.s:K=new this(NaN),K}function Ce(x){return new this(x).cbrt()}function Le(x){return ft(x=new this(x),x.e+1,2)}function tt(x){if(!x||typeof x!="object")throw Error(Z+"Object expected");var P,K,Y,we=x.defaults===!0,Q=["precision",1,T,"rounding",0,8,"toExpNeg",-_,0,"toExpPos",0,_,"maxE",0,_,"minE",-_,0,"modulo",0,9];for(P=0;P<Q.length;P+=3)if(K=Q[P],we&&(this[K]=z[K]),(Y=x[K])!==void 0){if(!(ie(Y)===Y&&Y>=Q[P+1]&&Y<=Q[P+2]))throw Error(ce+K+": "+Y);this[K]=Y}if(K="crypto",we&&(this[K]=z[K]),(Y=x[K])!==void 0){if(Y!==!0&&Y!==!1&&Y!==0&&Y!==1)throw Error(ce+K+": "+Y);if(Y){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(j);this[K]=!0}else this[K]=!1}return this}function Qe(x){return new this(x).cos()}function Ct(x){return new this(x).cosh()}function kt(x,P){return new this(x).div(P)}function N(x){return new this(x).exp()}function ue(x){return ft(x=new this(x),x.e+1,3)}function De(){var x,P,K=new this(0);for(B=!1,x=0;x<arguments.length;)if((P=new this(arguments[x++])).d)K.d&&(K=K.plus(P.times(P)));else{if(P.s)return B=!0,new this(1/0);K=P}return B=!0,K.sqrt()}function Re(x){return x instanceof a||x&&x.name==="[object Decimal]"||!1}function Dt(x){return new this(x).ln()}function Cn(x,P){return new this(x).log(P)}function Qr(x){return new this(x).log(2)}function ds(x){return new this(x).log(10)}function fs(){return yn(this,arguments,"lt")}function G(){return yn(this,arguments,"gt")}function $e(x,P){return new this(x).mod(P)}function Pe(x,P){return new this(x).mul(P)}function et(x,P){return new this(x).pow(P)}function Ft(x){var P,K,Y,we,Q=0,Ee=new this(1),Ue=[];if(x===void 0?x=this.precision:yt(x,1,T),Y=Math.ceil(x/Je),this.crypto)if(crypto.getRandomValues)for(P=crypto.getRandomValues(new Uint32Array(Y));Q<Y;)(we=P[Q])>=429e7?P[Q]=crypto.getRandomValues(new Uint32Array(1))[0]:Ue[Q++]=we%1e7;else{if(!crypto.randomBytes)throw Error(j);for(P=crypto.randomBytes(Y*=4);Q<Y;)(we=P[Q]+(P[Q+1]<<8)+(P[Q+2]<<16)+((127&P[Q+3])<<24))>=214e7?crypto.randomBytes(4).copy(P,Q):(Ue.push(we%1e7),Q+=4);Q=Y/4}else for(;Q<Y;)Ue[Q++]=1e7*Math.random()|0;for(Y=Ue[--Q],x%=Je,Y&&x&&(we=be(10,Je-x),Ue[Q]=(Y/we|0)*we);Ue[Q]===0;Q--)Ue.pop();if(Q<0)K=0,Ue=[0];else{for(K=-1;Ue[0]===0;K-=Je)Ue.shift();for(Y=1,we=Ue[0];we>=10;we/=10)Y++;Y<Je&&(K-=Je-Y)}return Ee.e=K,Ee.d=Ue,Ee}function dn(x){return ft(x=new this(x),x.e+1,this.rounding)}function Hn(x){return(x=new this(x)).d?x.d[0]?x.s:0*x.s:x.s||NaN}function Sr(x){return new this(x).sin()}function Ml(x){return new this(x).sinh()}function To(x){return new this(x).sqrt()}function vr(x,P){return new this(x).sub(P)}function L(x){return new this(x).tan()}function W(x){return new this(x).tanh()}function Jt(x){return ft(x=new this(x),x.e+1,1)}return(a=(function x(P){var K,Y,we;function Q(Ee){var Ue,Ke,st,te=this;if(!(te instanceof Q))return new Q(Ee);if(te.constructor=Q,Ee instanceof Q)return te.s=Ee.s,void(B?!Ee.d||Ee.e>Q.maxE?(te.e=NaN,te.d=null):Ee.e<Q.minE?(te.e=0,te.d=[0]):(te.e=Ee.e,te.d=Ee.d.slice()):(te.e=Ee.e,te.d=Ee.d?Ee.d.slice():Ee.d));if((st=typeof Ee)=="number"){if(Ee===0)return te.s=1/Ee<0?-1:1,te.e=0,void(te.d=[0]);if(Ee<0?(Ee=-Ee,te.s=-1):te.s=1,Ee===~~Ee&&Ee<1e7){for(Ue=0,Ke=Ee;Ke>=10;Ke/=10)Ue++;return void(B?Ue>Q.maxE?(te.e=NaN,te.d=null):Ue<Q.minE?(te.e=0,te.d=[0]):(te.e=Ue,te.d=[Ee]):(te.e=Ue,te.d=[Ee]))}return 0*Ee!=0?(Ee||(te.s=NaN),te.e=NaN,void(te.d=null)):Xn(te,Ee.toString())}if(st!=="string")throw Error(ce+Ee);return(Ke=Ee.charCodeAt(0))===45?(Ee=Ee.slice(1),te.s=-1):(Ke===43&&(Ee=Ee.slice(1)),te.s=1),We.test(Ee)?Xn(te,Ee):dt(te,Ee)}if(Q.prototype=He,Q.ROUND_UP=0,Q.ROUND_DOWN=1,Q.ROUND_CEIL=2,Q.ROUND_FLOOR=3,Q.ROUND_HALF_UP=4,Q.ROUND_HALF_DOWN=5,Q.ROUND_HALF_EVEN=6,Q.ROUND_HALF_CEIL=7,Q.ROUND_HALF_FLOOR=8,Q.EUCLID=9,Q.config=Q.set=tt,Q.clone=x,Q.isDecimal=Re,Q.abs=Ei,Q.acos=Fi,Q.acosh=Qn,Q.add=ss,Q.asin=yi,Q.asinh=sr,Q.atan=Vn,Q.atanh=U,Q.atan2=ne,Q.cbrt=Ce,Q.ceil=Le,Q.cos=Qe,Q.cosh=Ct,Q.div=kt,Q.exp=N,Q.floor=ue,Q.hypot=De,Q.ln=Dt,Q.log=Cn,Q.log10=ds,Q.log2=Qr,Q.max=fs,Q.min=G,Q.mod=$e,Q.mul=Pe,Q.pow=et,Q.random=Ft,Q.round=dn,Q.sign=Hn,Q.sin=Sr,Q.sinh=Ml,Q.sqrt=To,Q.sub=vr,Q.tan=L,Q.tanh=W,Q.trunc=Jt,P===void 0&&(P={}),P&&P.defaults!==!0)for(we=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],K=0;K<we.length;)P.hasOwnProperty(Y=we[K++])||(P[Y]=this[Y]);return Q.config(P),Q})(z)).default=a.Decimal=a,w=new a(w),A=new a(A),r.exports?(typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(He[Symbol.for("nodejs.util.inspect.custom")]=He.toString,He[Symbol.toStringTag]="Decimal"),r.exports=a):(n||(n=typeof self<"u"&&self&&self.self==self?self:window),p=n.Decimal,a.noConflict=function(){return n.Decimal=p,a},n.Decimal=a),a})(Ub)});r.exports=o})(v5)),v5.exports}var Gb=Hb();const c8=qu(Gb),Vb={id:"EQUATION",RenderComponent:zb,getToolboxXML:r=>c3(r),executeStep:(r,o,n)=>{const a=r||{lhs:n.equation?.lhs||"x",rhs:n.equation?.rhs||"0",sign:n.equation?.sign||"=",implicit:n.equation?.implicit||!1,history:[]};if(!o)return{newState:a,status:"RUNNING"};let{lhs:h,rhs:p}=a;if(o.type==="OP_BOTH"){const $=o.value,_=o.operator,T=`(${h}) ${_} (${$})`,E=`(${p}) ${_} (${$})`,w=c8(T).text(),A=c8(E).text();return{newState:{lhs:w,rhs:A,sign:a.sign,implicit:a.implicit,lastOp:{op:_,val:$,rawLhs:T,rawRhs:E}},status:"RUNNING"}}return{newState:a,status:"RUNNING"}},checkVictory:r=>{const o=r.lhs.replace(/\s/g,""),n=r.rhs.replace(/\s/g,""),a=o==="x"&&!isNaN(parseFloat(n)),h=n==="x"&&!isNaN(parseFloat(o));return a||h}};function Wb({isOpen:r,stats:o,token:n,status:a,onReplay:h,onMenu:p,onNext:$}){if(!r)return null;const _=a==="WON",T=a==="FAILED",E=a==="LOST";let w="Niveau Termin !",A=o.stars===3?" Code Parfait !":" Tu peux optimiser...",z="text-emerald-600",B="";T?(w="Presque...",A="Le rsultat ne correspond pas au modle.",z="text-amber-500",B=""):E&&(w="Ae !",A="Le robot a rencontr un obstacle.",z="text-red-500",B="");const Z=()=>_?_e.jsx("div",{className:"flex justify-center gap-2 mb-6",children:[0,1,2].map(ce=>_e.jsx("span",{className:`text-5xl transition-all duration-500 ${ce<o.stars?"text-yellow-400 drop-shadow-lg scale-110":"text-slate-200"}`,children:""},ce))}):_e.jsx("div",{className:"text-6xl mb-4 grayscale opacity-50",children:B});return _e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:_e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md text-center transform transition-all scale-100 border border-white/20",children:[_e.jsx("h1",{className:`text-3xl font-extrabold mb-2 ${z} drop-shadow-sm`,children:w}),_e.jsx("div",{className:"my-4",children:Z()}),_e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-100 mb-6",children:[_?_e.jsxs("p",{className:"text-slate-600 font-medium",children:[" Blocs utiliss : ",_e.jsx("strong",{className:"text-slate-900 text-lg",children:o.blockCount})," ",_e.jsxs("span",{className:"text-slate-400",children:["/ ",o.target]})]}):_e.jsx("p",{className:"font-bold text-slate-500",children:"Essaie encore !"}),_e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:A})]}),_&&_e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-100 rounded-lg text-left",children:[_e.jsx("p",{className:"text-xs font-bold text-blue-400 uppercase mb-2",children:" Code de preuve :"}),_e.jsx("div",{className:"font-mono text-xs bg-white p-2 rounded border border-blue-200 text-slate-600 break-all select-all",children:n})]}),_e.jsxs("div",{className:"flex gap-3 justify-center",children:[_e.jsx("button",{onClick:h,className:"flex-1 py-3 px-4 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-xl font-bold transition-colors",children:" Rejouer"}),_e.jsx("button",{onClick:p,className:"flex-1 py-3 px-4 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-xl font-bold transition-colors",children:" Menu"}),_&&$&&_e.jsx("button",{onClick:$,className:"flex-[1.5] py-3 px-4 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl font-bold shadow-lg shadow-emerald-200 transition-all hover:-translate-y-0.5",children:" Suivant"})]})]})})}function h8(r){const o=[],n=String(r||"");let a=n.indexOf(","),h=0,p=!1;for(;!p;){a===-1&&(a=n.length,p=!0);const $=n.slice(h,a).trim();($||!p)&&o.push($),h=a+1,a=n.indexOf(",",h)}return o}function qb(r,o){const n={};return(r[r.length-1]===""?[...r,""]:r).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Xb=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jb=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Yb={};function d8(r,o){return(Yb.jsx?jb:Xb).test(r)}const Kb=/[ \t\n\f\r]/g;function Jb(r){return typeof r=="object"?r.type==="text"?f8(r.value):!1:f8(r)}function f8(r){return r.replace(Kb,"")===""}class h3{constructor(o,n,a){this.normal=n,this.property=o,a&&(this.space=a)}}h3.prototype.normal={};h3.prototype.property={};h3.prototype.space=void 0;function e9(r,o){const n={},a={};for(const h of r)Object.assign(n,h.property),Object.assign(a,h.normal);return new h3(n,a,o)}function s3(r){return r.toLowerCase()}class p0{constructor(o,n){this.attribute=n,this.property=o}}p0.prototype.attribute="";p0.prototype.booleanish=!1;p0.prototype.boolean=!1;p0.prototype.commaOrSpaceSeparated=!1;p0.prototype.commaSeparated=!1;p0.prototype.defined=!1;p0.prototype.mustUseProperty=!1;p0.prototype.number=!1;p0.prototype.overloadedBoolean=!1;p0.prototype.property="";p0.prototype.spaceSeparated=!1;p0.prototype.space=void 0;let Zb=0;const Gr=Zh(),No=Zh(),vf=Zh(),cn=Zh(),Is=Zh(),_4=Zh(),F0=Zh();function Zh(){return 2**++Zb}const yf=Object.freeze(Object.defineProperty({__proto__:null,boolean:Gr,booleanish:No,commaOrSpaceSeparated:F0,commaSeparated:_4,number:cn,overloadedBoolean:vf,spaceSeparated:Is},Symbol.toStringTag,{value:"Module"})),P6=Object.keys(yf);class Hf extends p0{constructor(o,n,a,h){let p=-1;if(super(o,n),p8(this,"space",h),typeof a=="number")for(;++p<P6.length;){const $=P6[p];p8(this,P6[p],(a&yf[$])===yf[$])}}}Hf.prototype.defined=!0;function p8(r,o,n){n&&(r[o]=n)}function x4(r){const o={},n={};for(const[a,h]of Object.entries(r.properties)){const p=new Hf(a,r.transform(r.attributes||{},a),h,r.space);r.mustUseProperty&&r.mustUseProperty.includes(a)&&(p.mustUseProperty=!0),o[a]=p,n[s3(a)]=a,n[s3(p.attribute)]=a}return new h3(o,n,r.space)}const t9=x4({properties:{ariaActiveDescendant:null,ariaAtomic:No,ariaAutoComplete:null,ariaBusy:No,ariaChecked:No,ariaColCount:cn,ariaColIndex:cn,ariaColSpan:cn,ariaControls:Is,ariaCurrent:null,ariaDescribedBy:Is,ariaDetails:null,ariaDisabled:No,ariaDropEffect:Is,ariaErrorMessage:null,ariaExpanded:No,ariaFlowTo:Is,ariaGrabbed:No,ariaHasPopup:null,ariaHidden:No,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Is,ariaLevel:cn,ariaLive:null,ariaModal:No,ariaMultiLine:No,ariaMultiSelectable:No,ariaOrientation:null,ariaOwns:Is,ariaPlaceholder:null,ariaPosInSet:cn,ariaPressed:No,ariaReadOnly:No,ariaRelevant:null,ariaRequired:No,ariaRoleDescription:Is,ariaRowCount:cn,ariaRowIndex:cn,ariaRowSpan:cn,ariaSelected:No,ariaSetSize:cn,ariaSort:null,ariaValueMax:cn,ariaValueMin:cn,ariaValueNow:cn,ariaValueText:null,role:null},transform(r,o){return o==="role"?o:"aria-"+o.slice(4).toLowerCase()}});function n9(r,o){return o in r?r[o]:o}function r9(r,o){return n9(r,o.toLowerCase())}const Qb=x4({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:_4,acceptCharset:Is,accessKey:Is,action:null,allow:null,allowFullScreen:Gr,allowPaymentRequest:Gr,allowUserMedia:Gr,alt:null,as:null,async:Gr,autoCapitalize:null,autoComplete:Is,autoFocus:Gr,autoPlay:Gr,blocking:Is,capture:null,charSet:null,checked:Gr,cite:null,className:Is,cols:cn,colSpan:null,content:null,contentEditable:No,controls:Gr,controlsList:Is,coords:cn|_4,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Gr,defer:Gr,dir:null,dirName:null,disabled:Gr,download:vf,draggable:No,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Gr,formTarget:null,headers:Is,height:cn,hidden:vf,high:cn,href:null,hrefLang:null,htmlFor:Is,httpEquiv:Is,id:null,imageSizes:null,imageSrcSet:null,inert:Gr,inputMode:null,integrity:null,is:null,isMap:Gr,itemId:null,itemProp:Is,itemRef:Is,itemScope:Gr,itemType:Is,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Gr,low:cn,manifest:null,max:null,maxLength:cn,media:null,method:null,min:null,minLength:cn,multiple:Gr,muted:Gr,name:null,nonce:null,noModule:Gr,noValidate:Gr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Gr,optimum:cn,pattern:null,ping:Is,placeholder:null,playsInline:Gr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Gr,referrerPolicy:null,rel:Is,required:Gr,reversed:Gr,rows:cn,rowSpan:cn,sandbox:Is,scope:null,scoped:Gr,seamless:Gr,selected:Gr,shadowRootClonable:Gr,shadowRootDelegatesFocus:Gr,shadowRootMode:null,shape:null,size:cn,sizes:null,slot:null,span:cn,spellCheck:No,src:null,srcDoc:null,srcLang:null,srcSet:null,start:cn,step:null,style:null,tabIndex:cn,target:null,title:null,translate:null,type:null,typeMustMatch:Gr,useMap:null,value:No,width:cn,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Is,axis:null,background:null,bgColor:null,border:cn,borderColor:null,bottomMargin:cn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Gr,declare:Gr,event:null,face:null,frame:null,frameBorder:null,hSpace:cn,leftMargin:cn,link:null,longDesc:null,lowSrc:null,marginHeight:cn,marginWidth:cn,noResize:Gr,noHref:Gr,noShade:Gr,noWrap:Gr,object:null,profile:null,prompt:null,rev:null,rightMargin:cn,rules:null,scheme:null,scrolling:No,standby:null,summary:null,text:null,topMargin:cn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:cn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Gr,disableRemotePlayback:Gr,prefix:null,property:null,results:cn,security:null,unselectable:null},space:"html",transform:r9}),ev=x4({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:F0,accentHeight:cn,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:cn,amplitude:cn,arabicForm:null,ascent:cn,attributeName:null,attributeType:null,azimuth:cn,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:cn,by:null,calcMode:null,capHeight:cn,className:Is,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:cn,diffuseConstant:cn,direction:null,display:null,dur:null,divisor:cn,dominantBaseline:null,download:Gr,dx:null,dy:null,edgeMode:null,editable:null,elevation:cn,enableBackground:null,end:null,event:null,exponent:cn,externalResourcesRequired:null,fill:null,fillOpacity:cn,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:_4,g2:_4,glyphName:_4,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:cn,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:cn,horizOriginX:cn,horizOriginY:cn,id:null,ideographic:cn,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:cn,k:cn,k1:cn,k2:cn,k3:cn,k4:cn,kernelMatrix:F0,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:cn,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:cn,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:cn,overlineThickness:cn,paintOrder:null,panose1:null,path:null,pathLength:cn,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Is,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:cn,pointsAtY:cn,pointsAtZ:cn,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:F0,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:F0,rev:F0,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:F0,requiredFeatures:F0,requiredFonts:F0,requiredFormats:F0,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:cn,specularExponent:cn,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:cn,strikethroughThickness:cn,string:null,stroke:null,strokeDashArray:F0,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:cn,strokeOpacity:cn,strokeWidth:null,style:null,surfaceScale:cn,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:F0,tabIndex:cn,tableValues:null,target:null,targetX:cn,targetY:cn,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:F0,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:cn,underlineThickness:cn,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:cn,values:null,vAlphabetic:cn,vMathematical:cn,vectorEffect:null,vHanging:cn,vIdeographic:cn,version:null,vertAdvY:cn,vertOriginX:cn,vertOriginY:cn,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:cn,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:n9}),i9=x4({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(r,o){return"xlink:"+o.slice(5).toLowerCase()}}),s9=x4({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:r9}),o9=x4({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(r,o){return"xml:"+o.slice(3).toLowerCase()}}),tv={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},nv=/[A-Z]/g,m8=/-[a-z]/g,rv=/^data[-\w.:]+$/i;function l9(r,o){const n=s3(o);let a=o,h=p0;if(n in r.normal)return r.property[r.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&rv.test(o)){if(o.charAt(4)==="-"){const p=o.slice(5).replace(m8,sv);a="data"+p.charAt(0).toUpperCase()+p.slice(1)}else{const p=o.slice(4);if(!m8.test(p)){let $=p.replace(nv,iv);$.charAt(0)!=="-"&&($="-"+$),o="data"+$}}h=Hf}return new h(a,o)}function iv(r){return"-"+r.toLowerCase()}function sv(r){return r.charAt(1).toUpperCase()}const a9=e9([t9,Qb,i9,s9,o9],"html"),L5=e9([t9,ev,i9,s9,o9],"svg");function g8(r){const o=String(r||"").trim();return o?o.split(/[ \t\n\r\f]+/g):[]}function ov(r){return r.join(" ").trim()}var b4={},F6,$8;function lv(){if($8)return F6;$8=1;var r=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,o=/\n/g,n=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,h=/^:\s*/,p=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,$=/^[;\s]*/,_=/^\s+|\s+$/g,T=`
`,E="/",w="*",A="",z="comment",B="declaration";function Z(oe,j){if(typeof oe!="string")throw new TypeError("First argument must be a string");if(!oe)return[];j=j||{};var ie=1,be=1;function Ie(yt){var rt=yt.match(o);rt&&(ie+=rt.length);var Ze=yt.lastIndexOf(T);be=~Ze?yt.length-Ze:be+yt.length}function Ge(){var yt={line:ie,column:be};return function(rt){return rt.position=new Te(yt),Je(),rt}}function Te(yt){this.start=yt,this.end={line:ie,column:be},this.source=j.source}Te.prototype.content=oe;function We(yt){var rt=new Error(j.source+":"+ie+":"+be+": "+yt);if(rt.reason=yt,rt.filename=j.source,rt.line=ie,rt.column=be,rt.source=oe,!j.silent)throw rt}function lt(yt){var rt=yt.exec(oe);if(rt){var Ze=rt[0];return Ie(Ze),oe=oe.slice(Ze.length),rt}}function Je(){lt(n)}function Xe(yt){var rt;for(yt=yt||[];rt=Pt();)rt!==!1&&yt.push(rt);return yt}function Pt(){var yt=Ge();if(!(E!=oe.charAt(0)||w!=oe.charAt(1))){for(var rt=2;A!=oe.charAt(rt)&&(w!=oe.charAt(rt)||E!=oe.charAt(rt+1));)++rt;if(rt+=2,A===oe.charAt(rt-1))return We("End of comment missing");var Ze=oe.slice(2,rt-2);return be+=2,Ie(Ze),oe=oe.slice(rt),be+=2,yt({type:z,comment:Ze})}}function He(){var yt=Ge(),rt=lt(a);if(rt){if(Pt(),!lt(h))return We("property missing ':'");var Ze=lt(p),$t=yt({type:B,property:ce(rt[0].replace(r,A)),value:Ze?ce(Ze[0].replace(r,A)):A});return lt($),$t}}function Lt(){var yt=[];Xe(yt);for(var rt;rt=He();)rt!==!1&&(yt.push(rt),Xe(yt));return yt}return Je(),Lt()}function ce(oe){return oe?oe.replace(_,A):A}return F6=Z,F6}var b8;function av(){if(b8)return b4;b8=1;var r=b4&&b4.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b4,"__esModule",{value:!0}),b4.default=n;const o=r(lv());function n(a,h){let p=null;if(!a||typeof a!="string")return p;const $=(0,o.default)(a),_=typeof h=="function";return $.forEach(T=>{if(T.type!=="declaration")return;const{property:E,value:w}=T;_?h(E,w,T):w&&(p=p||{},p[E]=w)}),p}return b4}var X2={},v8;function uv(){if(v8)return X2;v8=1,Object.defineProperty(X2,"__esModule",{value:!0}),X2.camelCase=void 0;var r=/^--[a-zA-Z0-9_-]+$/,o=/-([a-z])/g,n=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,h=/^-(ms)-/,p=function(E){return!E||n.test(E)||r.test(E)},$=function(E,w){return w.toUpperCase()},_=function(E,w){return"".concat(w,"-")},T=function(E,w){return w===void 0&&(w={}),p(E)?E:(E=E.toLowerCase(),w.reactCompat?E=E.replace(h,_):E=E.replace(a,_),E.replace(o,$))};return X2.camelCase=T,X2}var j2,y8;function cv(){if(y8)return j2;y8=1;var r=j2&&j2.__importDefault||function(h){return h&&h.__esModule?h:{default:h}},o=r(av()),n=uv();function a(h,p){var $={};return!h||typeof h!="string"||(0,o.default)(h,function(_,T){_&&T&&($[(0,n.camelCase)(_,p)]=T)}),$}return a.default=a,j2=a,j2}var hv=cv();const dv=qu(hv),u9=c9("end"),Gf=c9("start");function c9(r){return o;function o(n){const a=n&&n.position&&n.position[r]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function fv(r){const o=Gf(r),n=u9(r);if(o&&n)return{start:o,end:n}}function e3(r){return!r||typeof r!="object"?"":"position"in r||"type"in r?T8(r.position):"start"in r||"end"in r?T8(r):"line"in r||"column"in r?Tf(r):""}function Tf(r){return _8(r&&r.line)+":"+_8(r&&r.column)}function T8(r){return Tf(r&&r.start)+"-"+Tf(r&&r.end)}function _8(r){return r&&typeof r=="number"?r:1}class Il extends Error{constructor(o,n,a){super(),typeof n=="string"&&(a=n,n=void 0);let h="",p={},$=!1;if(n&&("line"in n&&"column"in n?p={place:n}:"start"in n&&"end"in n?p={place:n}:"type"in n?p={ancestors:[n],place:n.position}:p={...n}),typeof o=="string"?h=o:!p.cause&&o&&($=!0,h=o.message,p.cause=o),!p.ruleId&&!p.source&&typeof a=="string"){const T=a.indexOf(":");T===-1?p.ruleId=a:(p.source=a.slice(0,T),p.ruleId=a.slice(T+1))}if(!p.place&&p.ancestors&&p.ancestors){const T=p.ancestors[p.ancestors.length-1];T&&(p.place=T.position)}const _=p.place&&"start"in p.place?p.place.start:p.place;this.ancestors=p.ancestors||void 0,this.cause=p.cause||void 0,this.column=_?_.column:void 0,this.fatal=void 0,this.file="",this.message=h,this.line=_?_.line:void 0,this.name=e3(p.place)||"1:1",this.place=p.place||void 0,this.reason=this.message,this.ruleId=p.ruleId||void 0,this.source=p.source||void 0,this.stack=$&&p.cause&&typeof p.cause.stack=="string"?p.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Il.prototype.file="";Il.prototype.name="";Il.prototype.reason="";Il.prototype.message="";Il.prototype.stack="";Il.prototype.column=void 0;Il.prototype.line=void 0;Il.prototype.ancestors=void 0;Il.prototype.cause=void 0;Il.prototype.fatal=void 0;Il.prototype.place=void 0;Il.prototype.ruleId=void 0;Il.prototype.source=void 0;const Vf={}.hasOwnProperty,pv=new Map,mv=/[A-Z]/g,gv=new Set(["table","tbody","thead","tfoot","tr"]),$v=new Set(["td","th"]),h9="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function bv(r,o){if(!o||o.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=o.filePath||void 0;let a;if(o.development){if(typeof o.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=xv(n,o.jsxDEV)}else{if(typeof o.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof o.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=Sv(n,o.jsx,o.jsxs)}const h={Fragment:o.Fragment,ancestors:[],components:o.components||{},create:a,elementAttributeNameCase:o.elementAttributeNameCase||"react",evaluater:o.createEvaluater?o.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:o.ignoreInvalidStyle||!1,passKeys:o.passKeys!==!1,passNode:o.passNode||!1,schema:o.space==="svg"?L5:a9,stylePropertyNameCase:o.stylePropertyNameCase||"dom",tableCellAlignToStyle:o.tableCellAlignToStyle!==!1},p=d9(h,r,void 0);return p&&typeof p!="string"?p:h.create(r,h.Fragment,{children:p||void 0},void 0)}function d9(r,o,n){if(o.type==="element")return vv(r,o,n);if(o.type==="mdxFlowExpression"||o.type==="mdxTextExpression")return yv(r,o);if(o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement")return _v(r,o,n);if(o.type==="mdxjsEsm")return Tv(r,o);if(o.type==="root")return Ev(r,o,n);if(o.type==="text")return wv(r,o)}function vv(r,o,n){const a=r.schema;let h=a;o.tagName.toLowerCase()==="svg"&&a.space==="html"&&(h=L5,r.schema=h),r.ancestors.push(o);const p=p9(r,o.tagName,!1),$=kv(r,o);let _=qf(r,o);return gv.has(o.tagName)&&(_=_.filter(function(T){return typeof T=="string"?!Jb(T):!0})),f9(r,$,p,o),Wf($,_),r.ancestors.pop(),r.schema=a,r.create(o,p,$,n)}function yv(r,o){if(o.data&&o.data.estree&&r.evaluater){const a=o.data.estree.body[0];return a.type,r.evaluater.evaluateExpression(a.expression)}o3(r,o.position)}function Tv(r,o){if(o.data&&o.data.estree&&r.evaluater)return r.evaluater.evaluateProgram(o.data.estree);o3(r,o.position)}function _v(r,o,n){const a=r.schema;let h=a;o.name==="svg"&&a.space==="html"&&(h=L5,r.schema=h),r.ancestors.push(o);const p=o.name===null?r.Fragment:p9(r,o.name,!0),$=Cv(r,o),_=qf(r,o);return f9(r,$,p,o),Wf($,_),r.ancestors.pop(),r.schema=a,r.create(o,p,$,n)}function Ev(r,o,n){const a={};return Wf(a,qf(r,o)),r.create(o,r.Fragment,a,n)}function wv(r,o){return o.value}function f9(r,o,n,a){typeof n!="string"&&n!==r.Fragment&&r.passNode&&(o.node=a)}function Wf(r,o){if(o.length>0){const n=o.length>1?o:o[0];n&&(r.children=n)}}function Sv(r,o,n){return a;function a(h,p,$,_){const E=Array.isArray($.children)?n:o;return _?E(p,$,_):E(p,$)}}function xv(r,o){return n;function n(a,h,p,$){const _=Array.isArray(p.children),T=Gf(a);return o(h,p,$,_,{columnNumber:T?T.column-1:void 0,fileName:r,lineNumber:T?T.line:void 0},void 0)}}function kv(r,o){const n={};let a,h;for(h in o.properties)if(h!=="children"&&Vf.call(o.properties,h)){const p=Av(r,h,o.properties[h]);if(p){const[$,_]=p;r.tableCellAlignToStyle&&$==="align"&&typeof _=="string"&&$v.has(o.tagName)?a=_:n[$]=_}}if(a){const p=n.style||(n.style={});p[r.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return n}function Cv(r,o){const n={};for(const a of o.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&r.evaluater){const p=a.data.estree.body[0];p.type;const $=p.expression;$.type;const _=$.properties[0];_.type,Object.assign(n,r.evaluater.evaluateExpression(_.argument))}else o3(r,o.position);else{const h=a.name;let p;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&r.evaluater){const _=a.value.data.estree.body[0];_.type,p=r.evaluater.evaluateExpression(_.expression)}else o3(r,o.position);else p=a.value===null?!0:a.value;n[h]=p}return n}function qf(r,o){const n=[];let a=-1;const h=r.passKeys?new Map:pv;for(;++a<o.children.length;){const p=o.children[a];let $;if(r.passKeys){const T=p.type==="element"?p.tagName:p.type==="mdxJsxFlowElement"||p.type==="mdxJsxTextElement"?p.name:void 0;if(T){const E=h.get(T)||0;$=T+"-"+E,h.set(T,E+1)}}const _=d9(r,p,$);_!==void 0&&n.push(_)}return n}function Av(r,o,n){const a=l9(r.schema,o);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=a.commaSeparated?qb(n):ov(n)),a.property==="style"){let h=typeof n=="object"?n:Iv(r,String(n));return r.stylePropertyNameCase==="css"&&(h=Mv(h)),["style",h]}return[r.elementAttributeNameCase==="react"&&a.space?tv[a.property]||a.property:a.attribute,n]}}function Iv(r,o){try{return dv(o,{reactCompat:!0})}catch(n){if(r.ignoreInvalidStyle)return{};const a=n,h=new Il("Cannot parse `style` attribute",{ancestors:r.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw h.file=r.filePath||void 0,h.url=h9+"#cannot-parse-style-attribute",h}}function p9(r,o,n){let a;if(!n)a={type:"Literal",value:o};else if(o.includes(".")){const h=o.split(".");let p=-1,$;for(;++p<h.length;){const _=d8(h[p])?{type:"Identifier",name:h[p]}:{type:"Literal",value:h[p]};$=$?{type:"MemberExpression",object:$,property:_,computed:!!(p&&_.type==="Literal"),optional:!1}:_}a=$}else a=d8(o)&&!/^[a-z]/.test(o)?{type:"Identifier",name:o}:{type:"Literal",value:o};if(a.type==="Literal"){const h=a.value;return Vf.call(r.components,h)?r.components[h]:h}if(r.evaluater)return r.evaluater.evaluateExpression(a);o3(r)}function o3(r,o){const n=new Il("Cannot handle MDX estrees without `createEvaluater`",{ancestors:r.ancestors,place:o,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=r.filePath||void 0,n.url=h9+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Mv(r){const o={};let n;for(n in r)Vf.call(r,n)&&(o[Rv(n)]=r[n]);return o}function Rv(r){let o=r.replace(mv,Nv);return o.slice(0,3)==="ms-"&&(o="-"+o),o}function Nv(r){return"-"+r.toLowerCase()}const z6={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ov={};function Xf(r,o){const n=Ov,a=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,h=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return m9(r,a,h)}function m9(r,o,n){if(Lv(r)){if("value"in r)return r.type==="html"&&!n?"":r.value;if(o&&"alt"in r&&r.alt)return r.alt;if("children"in r)return E8(r.children,o,n)}return Array.isArray(r)?E8(r,o,n):""}function E8(r,o,n){const a=[];let h=-1;for(;++h<r.length;)a[h]=m9(r[h],o,n);return a.join("")}function Lv(r){return!!(r&&typeof r=="object")}const w8=document.createElement("i");function jf(r){const o="&"+r+";";w8.innerHTML=o;const n=w8.textContent;return n.charCodeAt(n.length-1)===59&&r!=="semi"||n===o?!1:n}function U0(r,o,n,a){const h=r.length;let p=0,$;if(o<0?o=-o>h?0:h+o:o=o>h?h:o,n=n>0?n:0,a.length<1e4)$=Array.from(a),$.unshift(o,n),r.splice(...$);else for(n&&r.splice(o,n);p<a.length;)$=a.slice(p,p+1e4),$.unshift(o,0),r.splice(...$),p+=1e4,o+=1e4}function Ta(r,o){return r.length>0?(U0(r,r.length,0,o),r):o}const S8={}.hasOwnProperty;function g9(r){const o={};let n=-1;for(;++n<r.length;)Dv(o,r[n]);return o}function Dv(r,o){let n;for(n in o){const h=(S8.call(r,n)?r[n]:void 0)||(r[n]={}),p=o[n];let $;if(p)for($ in p){S8.call(h,$)||(h[$]=[]);const _=p[$];Bv(h[$],Array.isArray(_)?_:_?[_]:[])}}}function Bv(r,o){let n=-1;const a=[];for(;++n<o.length;)(o[n].add==="after"?r:a).push(o[n]);U0(r,0,0,a)}function $9(r,o){const n=Number.parseInt(r,o);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ru(r){return r.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Zl=nh(/[A-Za-z]/),Al=nh(/[\dA-Za-z]/),Pv=nh(/[#-'*+\--9=?A-Z^-~]/);function w5(r){return r!==null&&(r<32||r===127)}const _f=nh(/\d/),Fv=nh(/[\dA-Fa-f]/),zv=nh(/[!-/:-@[-`{-~]/);function Jn(r){return r!==null&&r<-2}function Es(r){return r!==null&&(r<0||r===32)}function fi(r){return r===-2||r===-1||r===32}const D5=nh(new RegExp("\\p{P}|\\p{S}","u")),Jh=nh(/\s/);function nh(r){return o;function o(n){return n!==null&&n>-1&&r.test(String.fromCharCode(n))}}function k4(r){const o=[];let n=-1,a=0,h=0;for(;++n<r.length;){const p=r.charCodeAt(n);let $="";if(p===37&&Al(r.charCodeAt(n+1))&&Al(r.charCodeAt(n+2)))h=2;else if(p<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(p))||($=String.fromCharCode(p));else if(p>55295&&p<57344){const _=r.charCodeAt(n+1);p<56320&&_>56319&&_<57344?($=String.fromCharCode(p,_),h=1):$=""}else $=String.fromCharCode(p);$&&(o.push(r.slice(a,n),encodeURIComponent($)),a=n+h+1,$=""),h&&(n+=h,h=0)}return o.join("")+r.slice(a)}function ii(r,o,n,a){const h=a?a-1:Number.POSITIVE_INFINITY;let p=0;return $;function $(T){return fi(T)?(r.enter(n),_(T)):o(T)}function _(T){return fi(T)&&p++<h?(r.consume(T),_):(r.exit(n),o(T))}}const Uv={tokenize:Hv};function Hv(r){const o=r.attempt(this.parser.constructs.contentInitial,a,h);let n;return o;function a(_){if(_===null){r.consume(_);return}return r.enter("lineEnding"),r.consume(_),r.exit("lineEnding"),ii(r,o,"linePrefix")}function h(_){return r.enter("paragraph"),p(_)}function p(_){const T=r.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=T),n=T,$(_)}function $(_){if(_===null){r.exit("chunkText"),r.exit("paragraph"),r.consume(_);return}return Jn(_)?(r.consume(_),r.exit("chunkText"),p):(r.consume(_),$)}}const Gv={tokenize:Vv},x8={tokenize:Wv};function Vv(r){const o=this,n=[];let a=0,h,p,$;return _;function _(be){if(a<n.length){const Ie=n[a];return o.containerState=Ie[1],r.attempt(Ie[0].continuation,T,E)(be)}return E(be)}function T(be){if(a++,o.containerState._closeFlow){o.containerState._closeFlow=void 0,h&&ie();const Ie=o.events.length;let Ge=Ie,Te;for(;Ge--;)if(o.events[Ge][0]==="exit"&&o.events[Ge][1].type==="chunkFlow"){Te=o.events[Ge][1].end;break}j(a);let We=Ie;for(;We<o.events.length;)o.events[We][1].end={...Te},We++;return U0(o.events,Ge+1,0,o.events.slice(Ie)),o.events.length=We,E(be)}return _(be)}function E(be){if(a===n.length){if(!h)return z(be);if(h.currentConstruct&&h.currentConstruct.concrete)return Z(be);o.interrupt=!!(h.currentConstruct&&!h._gfmTableDynamicInterruptHack)}return o.containerState={},r.check(x8,w,A)(be)}function w(be){return h&&ie(),j(a),z(be)}function A(be){return o.parser.lazy[o.now().line]=a!==n.length,$=o.now().offset,Z(be)}function z(be){return o.containerState={},r.attempt(x8,B,Z)(be)}function B(be){return a++,n.push([o.currentConstruct,o.containerState]),z(be)}function Z(be){if(be===null){h&&ie(),j(0),r.consume(be);return}return h=h||o.parser.flow(o.now()),r.enter("chunkFlow",{_tokenizer:h,contentType:"flow",previous:p}),ce(be)}function ce(be){if(be===null){oe(r.exit("chunkFlow"),!0),j(0),r.consume(be);return}return Jn(be)?(r.consume(be),oe(r.exit("chunkFlow")),a=0,o.interrupt=void 0,_):(r.consume(be),ce)}function oe(be,Ie){const Ge=o.sliceStream(be);if(Ie&&Ge.push(null),be.previous=p,p&&(p.next=be),p=be,h.defineSkip(be.start),h.write(Ge),o.parser.lazy[be.start.line]){let Te=h.events.length;for(;Te--;)if(h.events[Te][1].start.offset<$&&(!h.events[Te][1].end||h.events[Te][1].end.offset>$))return;const We=o.events.length;let lt=We,Je,Xe;for(;lt--;)if(o.events[lt][0]==="exit"&&o.events[lt][1].type==="chunkFlow"){if(Je){Xe=o.events[lt][1].end;break}Je=!0}for(j(a),Te=We;Te<o.events.length;)o.events[Te][1].end={...Xe},Te++;U0(o.events,lt+1,0,o.events.slice(We)),o.events.length=Te}}function j(be){let Ie=n.length;for(;Ie-- >be;){const Ge=n[Ie];o.containerState=Ge[1],Ge[0].exit.call(o,r)}n.length=be}function ie(){h.write([null]),p=void 0,h=void 0,o.containerState._closeFlow=void 0}}function Wv(r,o,n){return ii(r,r.attempt(this.parser.constructs.document,o,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function w4(r){if(r===null||Es(r)||Jh(r))return 1;if(D5(r))return 2}function B5(r,o,n){const a=[];let h=-1;for(;++h<r.length;){const p=r[h].resolveAll;p&&!a.includes(p)&&(o=p(o,n),a.push(p))}return o}const Ef={name:"attention",resolveAll:qv,tokenize:Xv};function qv(r,o){let n=-1,a,h,p,$,_,T,E,w;for(;++n<r.length;)if(r[n][0]==="enter"&&r[n][1].type==="attentionSequence"&&r[n][1]._close){for(a=n;a--;)if(r[a][0]==="exit"&&r[a][1].type==="attentionSequence"&&r[a][1]._open&&o.sliceSerialize(r[a][1]).charCodeAt(0)===o.sliceSerialize(r[n][1]).charCodeAt(0)){if((r[a][1]._close||r[n][1]._open)&&(r[n][1].end.offset-r[n][1].start.offset)%3&&!((r[a][1].end.offset-r[a][1].start.offset+r[n][1].end.offset-r[n][1].start.offset)%3))continue;T=r[a][1].end.offset-r[a][1].start.offset>1&&r[n][1].end.offset-r[n][1].start.offset>1?2:1;const A={...r[a][1].end},z={...r[n][1].start};k8(A,-T),k8(z,T),$={type:T>1?"strongSequence":"emphasisSequence",start:A,end:{...r[a][1].end}},_={type:T>1?"strongSequence":"emphasisSequence",start:{...r[n][1].start},end:z},p={type:T>1?"strongText":"emphasisText",start:{...r[a][1].end},end:{...r[n][1].start}},h={type:T>1?"strong":"emphasis",start:{...$.start},end:{..._.end}},r[a][1].end={...$.start},r[n][1].start={..._.end},E=[],r[a][1].end.offset-r[a][1].start.offset&&(E=Ta(E,[["enter",r[a][1],o],["exit",r[a][1],o]])),E=Ta(E,[["enter",h,o],["enter",$,o],["exit",$,o],["enter",p,o]]),E=Ta(E,B5(o.parser.constructs.insideSpan.null,r.slice(a+1,n),o)),E=Ta(E,[["exit",p,o],["enter",_,o],["exit",_,o],["exit",h,o]]),r[n][1].end.offset-r[n][1].start.offset?(w=2,E=Ta(E,[["enter",r[n][1],o],["exit",r[n][1],o]])):w=0,U0(r,a-1,n-a+3,E),n=a+E.length-w-2;break}}for(n=-1;++n<r.length;)r[n][1].type==="attentionSequence"&&(r[n][1].type="data");return r}function Xv(r,o){const n=this.parser.constructs.attentionMarkers.null,a=this.previous,h=w4(a);let p;return $;function $(T){return p=T,r.enter("attentionSequence"),_(T)}function _(T){if(T===p)return r.consume(T),_;const E=r.exit("attentionSequence"),w=w4(T),A=!w||w===2&&h||n.includes(T),z=!h||h===2&&w||n.includes(a);return E._open=!!(p===42?A:A&&(h||!z)),E._close=!!(p===42?z:z&&(w||!A)),o(T)}}function k8(r,o){r.column+=o,r.offset+=o,r._bufferIndex+=o}const jv={name:"autolink",tokenize:Yv};function Yv(r,o,n){let a=0;return h;function h(B){return r.enter("autolink"),r.enter("autolinkMarker"),r.consume(B),r.exit("autolinkMarker"),r.enter("autolinkProtocol"),p}function p(B){return Zl(B)?(r.consume(B),$):B===64?n(B):E(B)}function $(B){return B===43||B===45||B===46||Al(B)?(a=1,_(B)):E(B)}function _(B){return B===58?(r.consume(B),a=0,T):(B===43||B===45||B===46||Al(B))&&a++<32?(r.consume(B),_):(a=0,E(B))}function T(B){return B===62?(r.exit("autolinkProtocol"),r.enter("autolinkMarker"),r.consume(B),r.exit("autolinkMarker"),r.exit("autolink"),o):B===null||B===32||B===60||w5(B)?n(B):(r.consume(B),T)}function E(B){return B===64?(r.consume(B),w):Pv(B)?(r.consume(B),E):n(B)}function w(B){return Al(B)?A(B):n(B)}function A(B){return B===46?(r.consume(B),a=0,w):B===62?(r.exit("autolinkProtocol").type="autolinkEmail",r.enter("autolinkMarker"),r.consume(B),r.exit("autolinkMarker"),r.exit("autolink"),o):z(B)}function z(B){if((B===45||Al(B))&&a++<63){const Z=B===45?z:A;return r.consume(B),Z}return n(B)}}const d3={partial:!0,tokenize:Kv};function Kv(r,o,n){return a;function a(p){return fi(p)?ii(r,h,"linePrefix")(p):h(p)}function h(p){return p===null||Jn(p)?o(p):n(p)}}const b9={continuation:{tokenize:Zv},exit:Qv,name:"blockQuote",tokenize:Jv};function Jv(r,o,n){const a=this;return h;function h($){if($===62){const _=a.containerState;return _.open||(r.enter("blockQuote",{_container:!0}),_.open=!0),r.enter("blockQuotePrefix"),r.enter("blockQuoteMarker"),r.consume($),r.exit("blockQuoteMarker"),p}return n($)}function p($){return fi($)?(r.enter("blockQuotePrefixWhitespace"),r.consume($),r.exit("blockQuotePrefixWhitespace"),r.exit("blockQuotePrefix"),o):(r.exit("blockQuotePrefix"),o($))}}function Zv(r,o,n){const a=this;return h;function h($){return fi($)?ii(r,p,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):p($)}function p($){return r.attempt(b9,o,n)($)}}function Qv(r){r.exit("blockQuote")}const v9={name:"characterEscape",tokenize:ey};function ey(r,o,n){return a;function a(p){return r.enter("characterEscape"),r.enter("escapeMarker"),r.consume(p),r.exit("escapeMarker"),h}function h(p){return zv(p)?(r.enter("characterEscapeValue"),r.consume(p),r.exit("characterEscapeValue"),r.exit("characterEscape"),o):n(p)}}const y9={name:"characterReference",tokenize:ty};function ty(r,o,n){const a=this;let h=0,p,$;return _;function _(A){return r.enter("characterReference"),r.enter("characterReferenceMarker"),r.consume(A),r.exit("characterReferenceMarker"),T}function T(A){return A===35?(r.enter("characterReferenceMarkerNumeric"),r.consume(A),r.exit("characterReferenceMarkerNumeric"),E):(r.enter("characterReferenceValue"),p=31,$=Al,w(A))}function E(A){return A===88||A===120?(r.enter("characterReferenceMarkerHexadecimal"),r.consume(A),r.exit("characterReferenceMarkerHexadecimal"),r.enter("characterReferenceValue"),p=6,$=Fv,w):(r.enter("characterReferenceValue"),p=7,$=_f,w(A))}function w(A){if(A===59&&h){const z=r.exit("characterReferenceValue");return $===Al&&!jf(a.sliceSerialize(z))?n(A):(r.enter("characterReferenceMarker"),r.consume(A),r.exit("characterReferenceMarker"),r.exit("characterReference"),o)}return $(A)&&h++<p?(r.consume(A),w):n(A)}}const C8={partial:!0,tokenize:ry},A8={concrete:!0,name:"codeFenced",tokenize:ny};function ny(r,o,n){const a=this,h={partial:!0,tokenize:Ge};let p=0,$=0,_;return T;function T(Te){return E(Te)}function E(Te){const We=a.events[a.events.length-1];return p=We&&We[1].type==="linePrefix"?We[2].sliceSerialize(We[1],!0).length:0,_=Te,r.enter("codeFenced"),r.enter("codeFencedFence"),r.enter("codeFencedFenceSequence"),w(Te)}function w(Te){return Te===_?($++,r.consume(Te),w):$<3?n(Te):(r.exit("codeFencedFenceSequence"),fi(Te)?ii(r,A,"whitespace")(Te):A(Te))}function A(Te){return Te===null||Jn(Te)?(r.exit("codeFencedFence"),a.interrupt?o(Te):r.check(C8,ce,Ie)(Te)):(r.enter("codeFencedFenceInfo"),r.enter("chunkString",{contentType:"string"}),z(Te))}function z(Te){return Te===null||Jn(Te)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),A(Te)):fi(Te)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),ii(r,B,"whitespace")(Te)):Te===96&&Te===_?n(Te):(r.consume(Te),z)}function B(Te){return Te===null||Jn(Te)?A(Te):(r.enter("codeFencedFenceMeta"),r.enter("chunkString",{contentType:"string"}),Z(Te))}function Z(Te){return Te===null||Jn(Te)?(r.exit("chunkString"),r.exit("codeFencedFenceMeta"),A(Te)):Te===96&&Te===_?n(Te):(r.consume(Te),Z)}function ce(Te){return r.attempt(h,Ie,oe)(Te)}function oe(Te){return r.enter("lineEnding"),r.consume(Te),r.exit("lineEnding"),j}function j(Te){return p>0&&fi(Te)?ii(r,ie,"linePrefix",p+1)(Te):ie(Te)}function ie(Te){return Te===null||Jn(Te)?r.check(C8,ce,Ie)(Te):(r.enter("codeFlowValue"),be(Te))}function be(Te){return Te===null||Jn(Te)?(r.exit("codeFlowValue"),ie(Te)):(r.consume(Te),be)}function Ie(Te){return r.exit("codeFenced"),o(Te)}function Ge(Te,We,lt){let Je=0;return Xe;function Xe(rt){return Te.enter("lineEnding"),Te.consume(rt),Te.exit("lineEnding"),Pt}function Pt(rt){return Te.enter("codeFencedFence"),fi(rt)?ii(Te,He,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(rt):He(rt)}function He(rt){return rt===_?(Te.enter("codeFencedFenceSequence"),Lt(rt)):lt(rt)}function Lt(rt){return rt===_?(Je++,Te.consume(rt),Lt):Je>=$?(Te.exit("codeFencedFenceSequence"),fi(rt)?ii(Te,yt,"whitespace")(rt):yt(rt)):lt(rt)}function yt(rt){return rt===null||Jn(rt)?(Te.exit("codeFencedFence"),We(rt)):lt(rt)}}}function ry(r,o,n){const a=this;return h;function h($){return $===null?n($):(r.enter("lineEnding"),r.consume($),r.exit("lineEnding"),p)}function p($){return a.parser.lazy[a.now().line]?n($):o($)}}const U6={name:"codeIndented",tokenize:sy},iy={partial:!0,tokenize:oy};function sy(r,o,n){const a=this;return h;function h(E){return r.enter("codeIndented"),ii(r,p,"linePrefix",5)(E)}function p(E){const w=a.events[a.events.length-1];return w&&w[1].type==="linePrefix"&&w[2].sliceSerialize(w[1],!0).length>=4?$(E):n(E)}function $(E){return E===null?T(E):Jn(E)?r.attempt(iy,$,T)(E):(r.enter("codeFlowValue"),_(E))}function _(E){return E===null||Jn(E)?(r.exit("codeFlowValue"),$(E)):(r.consume(E),_)}function T(E){return r.exit("codeIndented"),o(E)}}function oy(r,o,n){const a=this;return h;function h($){return a.parser.lazy[a.now().line]?n($):Jn($)?(r.enter("lineEnding"),r.consume($),r.exit("lineEnding"),h):ii(r,p,"linePrefix",5)($)}function p($){const _=a.events[a.events.length-1];return _&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?o($):Jn($)?h($):n($)}}const ly={name:"codeText",previous:uy,resolve:ay,tokenize:cy};function ay(r){let o=r.length-4,n=3,a,h;if((r[n][1].type==="lineEnding"||r[n][1].type==="space")&&(r[o][1].type==="lineEnding"||r[o][1].type==="space")){for(a=n;++a<o;)if(r[a][1].type==="codeTextData"){r[n][1].type="codeTextPadding",r[o][1].type="codeTextPadding",n+=2,o-=2;break}}for(a=n-1,o++;++a<=o;)h===void 0?a!==o&&r[a][1].type!=="lineEnding"&&(h=a):(a===o||r[a][1].type==="lineEnding")&&(r[h][1].type="codeTextData",a!==h+2&&(r[h][1].end=r[a-1][1].end,r.splice(h+2,a-h-2),o-=a-h-2,a=h+2),h=void 0);return r}function uy(r){return r!==96||this.events[this.events.length-1][1].type==="characterEscape"}function cy(r,o,n){let a=0,h,p;return $;function $(A){return r.enter("codeText"),r.enter("codeTextSequence"),_(A)}function _(A){return A===96?(r.consume(A),a++,_):(r.exit("codeTextSequence"),T(A))}function T(A){return A===null?n(A):A===32?(r.enter("space"),r.consume(A),r.exit("space"),T):A===96?(p=r.enter("codeTextSequence"),h=0,w(A)):Jn(A)?(r.enter("lineEnding"),r.consume(A),r.exit("lineEnding"),T):(r.enter("codeTextData"),E(A))}function E(A){return A===null||A===32||A===96||Jn(A)?(r.exit("codeTextData"),T(A)):(r.consume(A),E)}function w(A){return A===96?(r.consume(A),h++,w):h===a?(r.exit("codeTextSequence"),r.exit("codeText"),o(A)):(p.type="codeTextData",E(A))}}class hy{constructor(o){this.left=o?[...o]:[],this.right=[]}get(o){if(o<0||o>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+o+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return o<this.left.length?this.left[o]:this.right[this.right.length-o+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(o,n){const a=n??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(o,a):o>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-o+this.left.length).reverse():this.left.slice(o).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(o,n,a){const h=n||0;this.setCursor(Math.trunc(o));const p=this.right.splice(this.right.length-h,Number.POSITIVE_INFINITY);return a&&Y2(this.left,a),p.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(o){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(o)}pushMany(o){this.setCursor(Number.POSITIVE_INFINITY),Y2(this.left,o)}unshift(o){this.setCursor(0),this.right.push(o)}unshiftMany(o){this.setCursor(0),Y2(this.right,o.reverse())}setCursor(o){if(!(o===this.left.length||o>this.left.length&&this.right.length===0||o<0&&this.left.length===0))if(o<this.left.length){const n=this.left.splice(o,Number.POSITIVE_INFINITY);Y2(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-o,Number.POSITIVE_INFINITY);Y2(this.left,n.reverse())}}}function Y2(r,o){let n=0;if(o.length<1e4)r.push(...o);else for(;n<o.length;)r.push(...o.slice(n,n+1e4)),n+=1e4}function T9(r){const o={};let n=-1,a,h,p,$,_,T,E;const w=new hy(r);for(;++n<w.length;){for(;n in o;)n=o[n];if(a=w.get(n),n&&a[1].type==="chunkFlow"&&w.get(n-1)[1].type==="listItemPrefix"&&(T=a[1]._tokenizer.events,p=0,p<T.length&&T[p][1].type==="lineEndingBlank"&&(p+=2),p<T.length&&T[p][1].type==="content"))for(;++p<T.length&&T[p][1].type!=="content";)T[p][1].type==="chunkText"&&(T[p][1]._isInFirstContentOfListItem=!0,p++);if(a[0]==="enter")a[1].contentType&&(Object.assign(o,dy(w,n)),n=o[n],E=!0);else if(a[1]._container){for(p=n,h=void 0;p--;)if($=w.get(p),$[1].type==="lineEnding"||$[1].type==="lineEndingBlank")$[0]==="enter"&&(h&&(w.get(h)[1].type="lineEndingBlank"),$[1].type="lineEnding",h=p);else if(!($[1].type==="linePrefix"||$[1].type==="listItemIndent"))break;h&&(a[1].end={...w.get(h)[1].start},_=w.slice(h,n),_.unshift(a),w.splice(h,n-h+1,_))}}return U0(r,0,Number.POSITIVE_INFINITY,w.slice(0)),!E}function dy(r,o){const n=r.get(o)[1],a=r.get(o)[2];let h=o-1;const p=[];let $=n._tokenizer;$||($=a.parser[n.contentType](n.start),n._contentTypeTextTrailing&&($._contentTypeTextTrailing=!0));const _=$.events,T=[],E={};let w,A,z=-1,B=n,Z=0,ce=0;const oe=[ce];for(;B;){for(;r.get(++h)[1]!==B;);p.push(h),B._tokenizer||(w=a.sliceStream(B),B.next||w.push(null),A&&$.defineSkip(B.start),B._isInFirstContentOfListItem&&($._gfmTasklistFirstContentOfListItem=!0),$.write(w),B._isInFirstContentOfListItem&&($._gfmTasklistFirstContentOfListItem=void 0)),A=B,B=B.next}for(B=n;++z<_.length;)_[z][0]==="exit"&&_[z-1][0]==="enter"&&_[z][1].type===_[z-1][1].type&&_[z][1].start.line!==_[z][1].end.line&&(ce=z+1,oe.push(ce),B._tokenizer=void 0,B.previous=void 0,B=B.next);for($.events=[],B?(B._tokenizer=void 0,B.previous=void 0):oe.pop(),z=oe.length;z--;){const j=_.slice(oe[z],oe[z+1]),ie=p.pop();T.push([ie,ie+j.length-1]),r.splice(ie,2,j)}for(T.reverse(),z=-1;++z<T.length;)E[Z+T[z][0]]=Z+T[z][1],Z+=T[z][1]-T[z][0]-1;return E}const fy={resolve:my,tokenize:gy},py={partial:!0,tokenize:$y};function my(r){return T9(r),r}function gy(r,o){let n;return a;function a(_){return r.enter("content"),n=r.enter("chunkContent",{contentType:"content"}),h(_)}function h(_){return _===null?p(_):Jn(_)?r.check(py,$,p)(_):(r.consume(_),h)}function p(_){return r.exit("chunkContent"),r.exit("content"),o(_)}function $(_){return r.consume(_),r.exit("chunkContent"),n.next=r.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,h}}function $y(r,o,n){const a=this;return h;function h($){return r.exit("chunkContent"),r.enter("lineEnding"),r.consume($),r.exit("lineEnding"),ii(r,p,"linePrefix")}function p($){if($===null||Jn($))return n($);const _=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&_&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?o($):r.interrupt(a.parser.constructs.flow,n,o)($)}}function _9(r,o,n,a,h,p,$,_,T){const E=T||Number.POSITIVE_INFINITY;let w=0;return A;function A(j){return j===60?(r.enter(a),r.enter(h),r.enter(p),r.consume(j),r.exit(p),z):j===null||j===32||j===41||w5(j)?n(j):(r.enter(a),r.enter($),r.enter(_),r.enter("chunkString",{contentType:"string"}),ce(j))}function z(j){return j===62?(r.enter(p),r.consume(j),r.exit(p),r.exit(h),r.exit(a),o):(r.enter(_),r.enter("chunkString",{contentType:"string"}),B(j))}function B(j){return j===62?(r.exit("chunkString"),r.exit(_),z(j)):j===null||j===60||Jn(j)?n(j):(r.consume(j),j===92?Z:B)}function Z(j){return j===60||j===62||j===92?(r.consume(j),B):B(j)}function ce(j){return!w&&(j===null||j===41||Es(j))?(r.exit("chunkString"),r.exit(_),r.exit($),r.exit(a),o(j)):w<E&&j===40?(r.consume(j),w++,ce):j===41?(r.consume(j),w--,ce):j===null||j===32||j===40||w5(j)?n(j):(r.consume(j),j===92?oe:ce)}function oe(j){return j===40||j===41||j===92?(r.consume(j),ce):ce(j)}}function E9(r,o,n,a,h,p){const $=this;let _=0,T;return E;function E(B){return r.enter(a),r.enter(h),r.consume(B),r.exit(h),r.enter(p),w}function w(B){return _>999||B===null||B===91||B===93&&!T||B===94&&!_&&"_hiddenFootnoteSupport"in $.parser.constructs?n(B):B===93?(r.exit(p),r.enter(h),r.consume(B),r.exit(h),r.exit(a),o):Jn(B)?(r.enter("lineEnding"),r.consume(B),r.exit("lineEnding"),w):(r.enter("chunkString",{contentType:"string"}),A(B))}function A(B){return B===null||B===91||B===93||Jn(B)||_++>999?(r.exit("chunkString"),w(B)):(r.consume(B),T||(T=!fi(B)),B===92?z:A)}function z(B){return B===91||B===92||B===93?(r.consume(B),_++,A):A(B)}}function w9(r,o,n,a,h,p){let $;return _;function _(z){return z===34||z===39||z===40?(r.enter(a),r.enter(h),r.consume(z),r.exit(h),$=z===40?41:z,T):n(z)}function T(z){return z===$?(r.enter(h),r.consume(z),r.exit(h),r.exit(a),o):(r.enter(p),E(z))}function E(z){return z===$?(r.exit(p),T($)):z===null?n(z):Jn(z)?(r.enter("lineEnding"),r.consume(z),r.exit("lineEnding"),ii(r,E,"linePrefix")):(r.enter("chunkString",{contentType:"string"}),w(z))}function w(z){return z===$||z===null||Jn(z)?(r.exit("chunkString"),E(z)):(r.consume(z),z===92?A:w)}function A(z){return z===$||z===92?(r.consume(z),w):w(z)}}function t3(r,o){let n;return a;function a(h){return Jn(h)?(r.enter("lineEnding"),r.consume(h),r.exit("lineEnding"),n=!0,a):fi(h)?ii(r,a,n?"linePrefix":"lineSuffix")(h):o(h)}}const by={name:"definition",tokenize:yy},vy={partial:!0,tokenize:Ty};function yy(r,o,n){const a=this;let h;return p;function p(B){return r.enter("definition"),$(B)}function $(B){return E9.call(a,r,_,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(B)}function _(B){return h=ru(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),B===58?(r.enter("definitionMarker"),r.consume(B),r.exit("definitionMarker"),T):n(B)}function T(B){return Es(B)?t3(r,E)(B):E(B)}function E(B){return _9(r,w,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(B)}function w(B){return r.attempt(vy,A,A)(B)}function A(B){return fi(B)?ii(r,z,"whitespace")(B):z(B)}function z(B){return B===null||Jn(B)?(r.exit("definition"),a.parser.defined.push(h),o(B)):n(B)}}function Ty(r,o,n){return a;function a(_){return Es(_)?t3(r,h)(_):n(_)}function h(_){return w9(r,p,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(_)}function p(_){return fi(_)?ii(r,$,"whitespace")(_):$(_)}function $(_){return _===null||Jn(_)?o(_):n(_)}}const _y={name:"hardBreakEscape",tokenize:Ey};function Ey(r,o,n){return a;function a(p){return r.enter("hardBreakEscape"),r.consume(p),h}function h(p){return Jn(p)?(r.exit("hardBreakEscape"),o(p)):n(p)}}const wy={name:"headingAtx",resolve:Sy,tokenize:xy};function Sy(r,o){let n=r.length-2,a=3,h,p;return r[a][1].type==="whitespace"&&(a+=2),n-2>a&&r[n][1].type==="whitespace"&&(n-=2),r[n][1].type==="atxHeadingSequence"&&(a===n-1||n-4>a&&r[n-2][1].type==="whitespace")&&(n-=a+1===n?2:4),n>a&&(h={type:"atxHeadingText",start:r[a][1].start,end:r[n][1].end},p={type:"chunkText",start:r[a][1].start,end:r[n][1].end,contentType:"text"},U0(r,a,n-a+1,[["enter",h,o],["enter",p,o],["exit",p,o],["exit",h,o]])),r}function xy(r,o,n){let a=0;return h;function h(w){return r.enter("atxHeading"),p(w)}function p(w){return r.enter("atxHeadingSequence"),$(w)}function $(w){return w===35&&a++<6?(r.consume(w),$):w===null||Es(w)?(r.exit("atxHeadingSequence"),_(w)):n(w)}function _(w){return w===35?(r.enter("atxHeadingSequence"),T(w)):w===null||Jn(w)?(r.exit("atxHeading"),o(w)):fi(w)?ii(r,_,"whitespace")(w):(r.enter("atxHeadingText"),E(w))}function T(w){return w===35?(r.consume(w),T):(r.exit("atxHeadingSequence"),_(w))}function E(w){return w===null||w===35||Es(w)?(r.exit("atxHeadingText"),_(w)):(r.consume(w),E)}}const ky=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],I8=["pre","script","style","textarea"],Cy={concrete:!0,name:"htmlFlow",resolveTo:My,tokenize:Ry},Ay={partial:!0,tokenize:Oy},Iy={partial:!0,tokenize:Ny};function My(r){let o=r.length;for(;o--&&!(r[o][0]==="enter"&&r[o][1].type==="htmlFlow"););return o>1&&r[o-2][1].type==="linePrefix"&&(r[o][1].start=r[o-2][1].start,r[o+1][1].start=r[o-2][1].start,r.splice(o-2,2)),r}function Ry(r,o,n){const a=this;let h,p,$,_,T;return E;function E(ke){return w(ke)}function w(ke){return r.enter("htmlFlow"),r.enter("htmlFlowData"),r.consume(ke),A}function A(ke){return ke===33?(r.consume(ke),z):ke===47?(r.consume(ke),p=!0,ce):ke===63?(r.consume(ke),h=3,a.interrupt?o:le):Zl(ke)?(r.consume(ke),$=String.fromCharCode(ke),oe):n(ke)}function z(ke){return ke===45?(r.consume(ke),h=2,B):ke===91?(r.consume(ke),h=5,_=0,Z):Zl(ke)?(r.consume(ke),h=4,a.interrupt?o:le):n(ke)}function B(ke){return ke===45?(r.consume(ke),a.interrupt?o:le):n(ke)}function Z(ke){const Zt="CDATA[";return ke===Zt.charCodeAt(_++)?(r.consume(ke),_===Zt.length?a.interrupt?o:He:Z):n(ke)}function ce(ke){return Zl(ke)?(r.consume(ke),$=String.fromCharCode(ke),oe):n(ke)}function oe(ke){if(ke===null||ke===47||ke===62||Es(ke)){const Zt=ke===47,Ot=$.toLowerCase();return!Zt&&!p&&I8.includes(Ot)?(h=1,a.interrupt?o(ke):He(ke)):ky.includes($.toLowerCase())?(h=6,Zt?(r.consume(ke),j):a.interrupt?o(ke):He(ke)):(h=7,a.interrupt&&!a.parser.lazy[a.now().line]?n(ke):p?ie(ke):be(ke))}return ke===45||Al(ke)?(r.consume(ke),$+=String.fromCharCode(ke),oe):n(ke)}function j(ke){return ke===62?(r.consume(ke),a.interrupt?o:He):n(ke)}function ie(ke){return fi(ke)?(r.consume(ke),ie):Xe(ke)}function be(ke){return ke===47?(r.consume(ke),Xe):ke===58||ke===95||Zl(ke)?(r.consume(ke),Ie):fi(ke)?(r.consume(ke),be):Xe(ke)}function Ie(ke){return ke===45||ke===46||ke===58||ke===95||Al(ke)?(r.consume(ke),Ie):Ge(ke)}function Ge(ke){return ke===61?(r.consume(ke),Te):fi(ke)?(r.consume(ke),Ge):be(ke)}function Te(ke){return ke===null||ke===60||ke===61||ke===62||ke===96?n(ke):ke===34||ke===39?(r.consume(ke),T=ke,We):fi(ke)?(r.consume(ke),Te):lt(ke)}function We(ke){return ke===T?(r.consume(ke),T=null,Je):ke===null||Jn(ke)?n(ke):(r.consume(ke),We)}function lt(ke){return ke===null||ke===34||ke===39||ke===47||ke===60||ke===61||ke===62||ke===96||Es(ke)?Ge(ke):(r.consume(ke),lt)}function Je(ke){return ke===47||ke===62||fi(ke)?be(ke):n(ke)}function Xe(ke){return ke===62?(r.consume(ke),Pt):n(ke)}function Pt(ke){return ke===null||Jn(ke)?He(ke):fi(ke)?(r.consume(ke),Pt):n(ke)}function He(ke){return ke===45&&h===2?(r.consume(ke),Ze):ke===60&&h===1?(r.consume(ke),$t):ke===62&&h===4?(r.consume(ke),Be):ke===63&&h===3?(r.consume(ke),le):ke===93&&h===5?(r.consume(ke),It):Jn(ke)&&(h===6||h===7)?(r.exit("htmlFlowData"),r.check(Ay,ct,Lt)(ke)):ke===null||Jn(ke)?(r.exit("htmlFlowData"),Lt(ke)):(r.consume(ke),He)}function Lt(ke){return r.check(Iy,yt,ct)(ke)}function yt(ke){return r.enter("lineEnding"),r.consume(ke),r.exit("lineEnding"),rt}function rt(ke){return ke===null||Jn(ke)?Lt(ke):(r.enter("htmlFlowData"),He(ke))}function Ze(ke){return ke===45?(r.consume(ke),le):He(ke)}function $t(ke){return ke===47?(r.consume(ke),$="",ft):He(ke)}function ft(ke){if(ke===62){const Zt=$.toLowerCase();return I8.includes(Zt)?(r.consume(ke),Be):He(ke)}return Zl(ke)&&$.length<8?(r.consume(ke),$+=String.fromCharCode(ke),ft):He(ke)}function It(ke){return ke===93?(r.consume(ke),le):He(ke)}function le(ke){return ke===62?(r.consume(ke),Be):ke===45&&h===2?(r.consume(ke),le):He(ke)}function Be(ke){return ke===null||Jn(ke)?(r.exit("htmlFlowData"),ct(ke)):(r.consume(ke),Be)}function ct(ke){return r.exit("htmlFlow"),o(ke)}}function Ny(r,o,n){const a=this;return h;function h($){return Jn($)?(r.enter("lineEnding"),r.consume($),r.exit("lineEnding"),p):n($)}function p($){return a.parser.lazy[a.now().line]?n($):o($)}}function Oy(r,o,n){return a;function a(h){return r.enter("lineEnding"),r.consume(h),r.exit("lineEnding"),r.attempt(d3,o,n)}}const Ly={name:"htmlText",tokenize:Dy};function Dy(r,o,n){const a=this;let h,p,$;return _;function _(le){return r.enter("htmlText"),r.enter("htmlTextData"),r.consume(le),T}function T(le){return le===33?(r.consume(le),E):le===47?(r.consume(le),Ge):le===63?(r.consume(le),be):Zl(le)?(r.consume(le),lt):n(le)}function E(le){return le===45?(r.consume(le),w):le===91?(r.consume(le),p=0,Z):Zl(le)?(r.consume(le),ie):n(le)}function w(le){return le===45?(r.consume(le),B):n(le)}function A(le){return le===null?n(le):le===45?(r.consume(le),z):Jn(le)?($=A,$t(le)):(r.consume(le),A)}function z(le){return le===45?(r.consume(le),B):A(le)}function B(le){return le===62?Ze(le):le===45?z(le):A(le)}function Z(le){const Be="CDATA[";return le===Be.charCodeAt(p++)?(r.consume(le),p===Be.length?ce:Z):n(le)}function ce(le){return le===null?n(le):le===93?(r.consume(le),oe):Jn(le)?($=ce,$t(le)):(r.consume(le),ce)}function oe(le){return le===93?(r.consume(le),j):ce(le)}function j(le){return le===62?Ze(le):le===93?(r.consume(le),j):ce(le)}function ie(le){return le===null||le===62?Ze(le):Jn(le)?($=ie,$t(le)):(r.consume(le),ie)}function be(le){return le===null?n(le):le===63?(r.consume(le),Ie):Jn(le)?($=be,$t(le)):(r.consume(le),be)}function Ie(le){return le===62?Ze(le):be(le)}function Ge(le){return Zl(le)?(r.consume(le),Te):n(le)}function Te(le){return le===45||Al(le)?(r.consume(le),Te):We(le)}function We(le){return Jn(le)?($=We,$t(le)):fi(le)?(r.consume(le),We):Ze(le)}function lt(le){return le===45||Al(le)?(r.consume(le),lt):le===47||le===62||Es(le)?Je(le):n(le)}function Je(le){return le===47?(r.consume(le),Ze):le===58||le===95||Zl(le)?(r.consume(le),Xe):Jn(le)?($=Je,$t(le)):fi(le)?(r.consume(le),Je):Ze(le)}function Xe(le){return le===45||le===46||le===58||le===95||Al(le)?(r.consume(le),Xe):Pt(le)}function Pt(le){return le===61?(r.consume(le),He):Jn(le)?($=Pt,$t(le)):fi(le)?(r.consume(le),Pt):Je(le)}function He(le){return le===null||le===60||le===61||le===62||le===96?n(le):le===34||le===39?(r.consume(le),h=le,Lt):Jn(le)?($=He,$t(le)):fi(le)?(r.consume(le),He):(r.consume(le),yt)}function Lt(le){return le===h?(r.consume(le),h=void 0,rt):le===null?n(le):Jn(le)?($=Lt,$t(le)):(r.consume(le),Lt)}function yt(le){return le===null||le===34||le===39||le===60||le===61||le===96?n(le):le===47||le===62||Es(le)?Je(le):(r.consume(le),yt)}function rt(le){return le===47||le===62||Es(le)?Je(le):n(le)}function Ze(le){return le===62?(r.consume(le),r.exit("htmlTextData"),r.exit("htmlText"),o):n(le)}function $t(le){return r.exit("htmlTextData"),r.enter("lineEnding"),r.consume(le),r.exit("lineEnding"),ft}function ft(le){return fi(le)?ii(r,It,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(le):It(le)}function It(le){return r.enter("htmlTextData"),$(le)}}const Yf={name:"labelEnd",resolveAll:zy,resolveTo:Uy,tokenize:Hy},By={tokenize:Gy},Py={tokenize:Vy},Fy={tokenize:Wy};function zy(r){let o=-1;const n=[];for(;++o<r.length;){const a=r[o][1];if(n.push(r[o]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const h=a.type==="labelImage"?4:2;a.type="data",o+=h}}return r.length!==n.length&&U0(r,0,r.length,n),r}function Uy(r,o){let n=r.length,a=0,h,p,$,_;for(;n--;)if(h=r[n][1],p){if(h.type==="link"||h.type==="labelLink"&&h._inactive)break;r[n][0]==="enter"&&h.type==="labelLink"&&(h._inactive=!0)}else if($){if(r[n][0]==="enter"&&(h.type==="labelImage"||h.type==="labelLink")&&!h._balanced&&(p=n,h.type!=="labelLink")){a=2;break}}else h.type==="labelEnd"&&($=n);const T={type:r[p][1].type==="labelLink"?"link":"image",start:{...r[p][1].start},end:{...r[r.length-1][1].end}},E={type:"label",start:{...r[p][1].start},end:{...r[$][1].end}},w={type:"labelText",start:{...r[p+a+2][1].end},end:{...r[$-2][1].start}};return _=[["enter",T,o],["enter",E,o]],_=Ta(_,r.slice(p+1,p+a+3)),_=Ta(_,[["enter",w,o]]),_=Ta(_,B5(o.parser.constructs.insideSpan.null,r.slice(p+a+4,$-3),o)),_=Ta(_,[["exit",w,o],r[$-2],r[$-1],["exit",E,o]]),_=Ta(_,r.slice($+1)),_=Ta(_,[["exit",T,o]]),U0(r,p,r.length,_),r}function Hy(r,o,n){const a=this;let h=a.events.length,p,$;for(;h--;)if((a.events[h][1].type==="labelImage"||a.events[h][1].type==="labelLink")&&!a.events[h][1]._balanced){p=a.events[h][1];break}return _;function _(z){return p?p._inactive?A(z):($=a.parser.defined.includes(ru(a.sliceSerialize({start:p.end,end:a.now()}))),r.enter("labelEnd"),r.enter("labelMarker"),r.consume(z),r.exit("labelMarker"),r.exit("labelEnd"),T):n(z)}function T(z){return z===40?r.attempt(By,w,$?w:A)(z):z===91?r.attempt(Py,w,$?E:A)(z):$?w(z):A(z)}function E(z){return r.attempt(Fy,w,A)(z)}function w(z){return o(z)}function A(z){return p._balanced=!0,n(z)}}function Gy(r,o,n){return a;function a(A){return r.enter("resource"),r.enter("resourceMarker"),r.consume(A),r.exit("resourceMarker"),h}function h(A){return Es(A)?t3(r,p)(A):p(A)}function p(A){return A===41?w(A):_9(r,$,_,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(A)}function $(A){return Es(A)?t3(r,T)(A):w(A)}function _(A){return n(A)}function T(A){return A===34||A===39||A===40?w9(r,E,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(A):w(A)}function E(A){return Es(A)?t3(r,w)(A):w(A)}function w(A){return A===41?(r.enter("resourceMarker"),r.consume(A),r.exit("resourceMarker"),r.exit("resource"),o):n(A)}}function Vy(r,o,n){const a=this;return h;function h(_){return E9.call(a,r,p,$,"reference","referenceMarker","referenceString")(_)}function p(_){return a.parser.defined.includes(ru(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?o(_):n(_)}function $(_){return n(_)}}function Wy(r,o,n){return a;function a(p){return r.enter("reference"),r.enter("referenceMarker"),r.consume(p),r.exit("referenceMarker"),h}function h(p){return p===93?(r.enter("referenceMarker"),r.consume(p),r.exit("referenceMarker"),r.exit("reference"),o):n(p)}}const qy={name:"labelStartImage",resolveAll:Yf.resolveAll,tokenize:Xy};function Xy(r,o,n){const a=this;return h;function h(_){return r.enter("labelImage"),r.enter("labelImageMarker"),r.consume(_),r.exit("labelImageMarker"),p}function p(_){return _===91?(r.enter("labelMarker"),r.consume(_),r.exit("labelMarker"),r.exit("labelImage"),$):n(_)}function $(_){return _===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(_):o(_)}}const jy={name:"labelStartLink",resolveAll:Yf.resolveAll,tokenize:Yy};function Yy(r,o,n){const a=this;return h;function h($){return r.enter("labelLink"),r.enter("labelMarker"),r.consume($),r.exit("labelMarker"),r.exit("labelLink"),p}function p($){return $===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n($):o($)}}const H6={name:"lineEnding",tokenize:Ky};function Ky(r,o){return n;function n(a){return r.enter("lineEnding"),r.consume(a),r.exit("lineEnding"),ii(r,o,"linePrefix")}}const y5={name:"thematicBreak",tokenize:Jy};function Jy(r,o,n){let a=0,h;return p;function p(E){return r.enter("thematicBreak"),$(E)}function $(E){return h=E,_(E)}function _(E){return E===h?(r.enter("thematicBreakSequence"),T(E)):a>=3&&(E===null||Jn(E))?(r.exit("thematicBreak"),o(E)):n(E)}function T(E){return E===h?(r.consume(E),a++,T):(r.exit("thematicBreakSequence"),fi(E)?ii(r,_,"whitespace")(E):_(E))}}const h0={continuation:{tokenize:tT},exit:rT,name:"list",tokenize:eT},Zy={partial:!0,tokenize:iT},Qy={partial:!0,tokenize:nT};function eT(r,o,n){const a=this,h=a.events[a.events.length-1];let p=h&&h[1].type==="linePrefix"?h[2].sliceSerialize(h[1],!0).length:0,$=0;return _;function _(B){const Z=a.containerState.type||(B===42||B===43||B===45?"listUnordered":"listOrdered");if(Z==="listUnordered"?!a.containerState.marker||B===a.containerState.marker:_f(B)){if(a.containerState.type||(a.containerState.type=Z,r.enter(Z,{_container:!0})),Z==="listUnordered")return r.enter("listItemPrefix"),B===42||B===45?r.check(y5,n,E)(B):E(B);if(!a.interrupt||B===49)return r.enter("listItemPrefix"),r.enter("listItemValue"),T(B)}return n(B)}function T(B){return _f(B)&&++$<10?(r.consume(B),T):(!a.interrupt||$<2)&&(a.containerState.marker?B===a.containerState.marker:B===41||B===46)?(r.exit("listItemValue"),E(B)):n(B)}function E(B){return r.enter("listItemMarker"),r.consume(B),r.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||B,r.check(d3,a.interrupt?n:w,r.attempt(Zy,z,A))}function w(B){return a.containerState.initialBlankLine=!0,p++,z(B)}function A(B){return fi(B)?(r.enter("listItemPrefixWhitespace"),r.consume(B),r.exit("listItemPrefixWhitespace"),z):n(B)}function z(B){return a.containerState.size=p+a.sliceSerialize(r.exit("listItemPrefix"),!0).length,o(B)}}function tT(r,o,n){const a=this;return a.containerState._closeFlow=void 0,r.check(d3,h,p);function h(_){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,ii(r,o,"listItemIndent",a.containerState.size+1)(_)}function p(_){return a.containerState.furtherBlankLines||!fi(_)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,$(_)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,r.attempt(Qy,o,$)(_))}function $(_){return a.containerState._closeFlow=!0,a.interrupt=void 0,ii(r,r.attempt(h0,o,n),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_)}}function nT(r,o,n){const a=this;return ii(r,h,"listItemIndent",a.containerState.size+1);function h(p){const $=a.events[a.events.length-1];return $&&$[1].type==="listItemIndent"&&$[2].sliceSerialize($[1],!0).length===a.containerState.size?o(p):n(p)}}function rT(r){r.exit(this.containerState.type)}function iT(r,o,n){const a=this;return ii(r,h,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function h(p){const $=a.events[a.events.length-1];return!fi(p)&&$&&$[1].type==="listItemPrefixWhitespace"?o(p):n(p)}}const M8={name:"setextUnderline",resolveTo:sT,tokenize:oT};function sT(r,o){let n=r.length,a,h,p;for(;n--;)if(r[n][0]==="enter"){if(r[n][1].type==="content"){a=n;break}r[n][1].type==="paragraph"&&(h=n)}else r[n][1].type==="content"&&r.splice(n,1),!p&&r[n][1].type==="definition"&&(p=n);const $={type:"setextHeading",start:{...r[a][1].start},end:{...r[r.length-1][1].end}};return r[h][1].type="setextHeadingText",p?(r.splice(h,0,["enter",$,o]),r.splice(p+1,0,["exit",r[a][1],o]),r[a][1].end={...r[p][1].end}):r[a][1]=$,r.push(["exit",$,o]),r}function oT(r,o,n){const a=this;let h;return p;function p(E){let w=a.events.length,A;for(;w--;)if(a.events[w][1].type!=="lineEnding"&&a.events[w][1].type!=="linePrefix"&&a.events[w][1].type!=="content"){A=a.events[w][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||A)?(r.enter("setextHeadingLine"),h=E,$(E)):n(E)}function $(E){return r.enter("setextHeadingLineSequence"),_(E)}function _(E){return E===h?(r.consume(E),_):(r.exit("setextHeadingLineSequence"),fi(E)?ii(r,T,"lineSuffix")(E):T(E))}function T(E){return E===null||Jn(E)?(r.exit("setextHeadingLine"),o(E)):n(E)}}const lT={tokenize:aT};function aT(r){const o=this,n=r.attempt(d3,a,r.attempt(this.parser.constructs.flowInitial,h,ii(r,r.attempt(this.parser.constructs.flow,h,r.attempt(fy,h)),"linePrefix")));return n;function a(p){if(p===null){r.consume(p);return}return r.enter("lineEndingBlank"),r.consume(p),r.exit("lineEndingBlank"),o.currentConstruct=void 0,n}function h(p){if(p===null){r.consume(p);return}return r.enter("lineEnding"),r.consume(p),r.exit("lineEnding"),o.currentConstruct=void 0,n}}const uT={resolveAll:x9()},cT=S9("string"),hT=S9("text");function S9(r){return{resolveAll:x9(r==="text"?dT:void 0),tokenize:o};function o(n){const a=this,h=this.parser.constructs[r],p=n.attempt(h,$,_);return $;function $(w){return E(w)?p(w):_(w)}function _(w){if(w===null){n.consume(w);return}return n.enter("data"),n.consume(w),T}function T(w){return E(w)?(n.exit("data"),p(w)):(n.consume(w),T)}function E(w){if(w===null)return!0;const A=h[w];let z=-1;if(A)for(;++z<A.length;){const B=A[z];if(!B.previous||B.previous.call(a,a.previous))return!0}return!1}}}function x9(r){return o;function o(n,a){let h=-1,p;for(;++h<=n.length;)p===void 0?n[h]&&n[h][1].type==="data"&&(p=h,h++):(!n[h]||n[h][1].type!=="data")&&(h!==p+2&&(n[p][1].end=n[h-1][1].end,n.splice(p+2,h-p-2),h=p+2),p=void 0);return r?r(n,a):n}}function dT(r,o){let n=0;for(;++n<=r.length;)if((n===r.length||r[n][1].type==="lineEnding")&&r[n-1][1].type==="data"){const a=r[n-1][1],h=o.sliceStream(a);let p=h.length,$=-1,_=0,T;for(;p--;){const E=h[p];if(typeof E=="string"){for($=E.length;E.charCodeAt($-1)===32;)_++,$--;if($)break;$=-1}else if(E===-2)T=!0,_++;else if(E!==-1){p++;break}}if(o._contentTypeTextTrailing&&n===r.length&&(_=0),_){const E={type:n===r.length||T||_<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:p?$:a.start._bufferIndex+$,_index:a.start._index+p,line:a.end.line,column:a.end.column-_,offset:a.end.offset-_},end:{...a.end}};a.end={...E.start},a.start.offset===a.end.offset?Object.assign(a,E):(r.splice(n,0,["enter",E,o],["exit",E,o]),n+=2)}n++}return r}const fT={42:h0,43:h0,45:h0,48:h0,49:h0,50:h0,51:h0,52:h0,53:h0,54:h0,55:h0,56:h0,57:h0,62:b9},pT={91:by},mT={[-2]:U6,[-1]:U6,32:U6},gT={35:wy,42:y5,45:[M8,y5],60:Cy,61:M8,95:y5,96:A8,126:A8},$T={38:y9,92:v9},bT={[-5]:H6,[-4]:H6,[-3]:H6,33:qy,38:y9,42:Ef,60:[jv,Ly],91:jy,92:[_y,v9],93:Yf,95:Ef,96:ly},vT={null:[Ef,uT]},yT={null:[42,95]},TT={null:[]},_T=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yT,contentInitial:pT,disable:TT,document:fT,flow:gT,flowInitial:mT,insideSpan:vT,string:$T,text:bT},Symbol.toStringTag,{value:"Module"}));function ET(r,o,n){let a={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const h={},p=[];let $=[],_=[];const T={attempt:We(Ge),check:We(Te),consume:ie,enter:be,exit:Ie,interrupt:We(Te,{interrupt:!0})},E={code:null,containerState:{},defineSkip:ce,events:[],now:Z,parser:r,previous:null,sliceSerialize:z,sliceStream:B,write:A};let w=o.tokenize.call(E,T);return o.resolveAll&&p.push(o),E;function A(Pt){return $=Ta($,Pt),oe(),$[$.length-1]!==null?[]:(lt(o,0),E.events=B5(p,E.events,E),E.events)}function z(Pt,He){return ST(B(Pt),He)}function B(Pt){return wT($,Pt)}function Z(){const{_bufferIndex:Pt,_index:He,line:Lt,column:yt,offset:rt}=a;return{_bufferIndex:Pt,_index:He,line:Lt,column:yt,offset:rt}}function ce(Pt){h[Pt.line]=Pt.column,Xe()}function oe(){let Pt;for(;a._index<$.length;){const He=$[a._index];if(typeof He=="string")for(Pt=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===Pt&&a._bufferIndex<He.length;)j(He.charCodeAt(a._bufferIndex));else j(He)}}function j(Pt){w=w(Pt)}function ie(Pt){Jn(Pt)?(a.line++,a.column=1,a.offset+=Pt===-3?2:1,Xe()):Pt!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===$[a._index].length&&(a._bufferIndex=-1,a._index++)),E.previous=Pt}function be(Pt,He){const Lt=He||{};return Lt.type=Pt,Lt.start=Z(),E.events.push(["enter",Lt,E]),_.push(Lt),Lt}function Ie(Pt){const He=_.pop();return He.end=Z(),E.events.push(["exit",He,E]),He}function Ge(Pt,He){lt(Pt,He.from)}function Te(Pt,He){He.restore()}function We(Pt,He){return Lt;function Lt(yt,rt,Ze){let $t,ft,It,le;return Array.isArray(yt)?ct(yt):"tokenize"in yt?ct([yt]):Be(yt);function Be(sn){return yn;function yn(hr){const Yn=hr!==null&&sn[hr],an=hr!==null&&sn.null,Xn=[...Array.isArray(Yn)?Yn:Yn?[Yn]:[],...Array.isArray(an)?an:an?[an]:[]];return ct(Xn)(hr)}}function ct(sn){return $t=sn,ft=0,sn.length===0?Ze:ke(sn[ft])}function ke(sn){return yn;function yn(hr){return le=Je(),It=sn,sn.partial||(E.currentConstruct=sn),sn.name&&E.parser.constructs.disable.null.includes(sn.name)?Ot():sn.tokenize.call(He?Object.assign(Object.create(E),He):E,T,Zt,Ot)(hr)}}function Zt(sn){return Pt(It,le),rt}function Ot(sn){return le.restore(),++ft<$t.length?ke($t[ft]):Ze}}}function lt(Pt,He){Pt.resolveAll&&!p.includes(Pt)&&p.push(Pt),Pt.resolve&&U0(E.events,He,E.events.length-He,Pt.resolve(E.events.slice(He),E)),Pt.resolveTo&&(E.events=Pt.resolveTo(E.events,E))}function Je(){const Pt=Z(),He=E.previous,Lt=E.currentConstruct,yt=E.events.length,rt=Array.from(_);return{from:yt,restore:Ze};function Ze(){a=Pt,E.previous=He,E.currentConstruct=Lt,E.events.length=yt,_=rt,Xe()}}function Xe(){a.line in h&&a.column<2&&(a.column=h[a.line],a.offset+=h[a.line]-1)}}function wT(r,o){const n=o.start._index,a=o.start._bufferIndex,h=o.end._index,p=o.end._bufferIndex;let $;if(n===h)$=[r[n].slice(a,p)];else{if($=r.slice(n,h),a>-1){const _=$[0];typeof _=="string"?$[0]=_.slice(a):$.shift()}p>0&&$.push(r[h].slice(0,p))}return $}function ST(r,o){let n=-1;const a=[];let h;for(;++n<r.length;){const p=r[n];let $;if(typeof p=="string")$=p;else switch(p){case-5:{$="\r";break}case-4:{$=`
`;break}case-3:{$=`\r
`;break}case-2:{$=o?" ":"	";break}case-1:{if(!o&&h)continue;$=" ";break}default:$=String.fromCharCode(p)}h=p===-2,a.push($)}return a.join("")}function xT(r){const a={constructs:g9([_T,...(r||{}).extensions||[]]),content:h(Uv),defined:[],document:h(Gv),flow:h(lT),lazy:{},string:h(cT),text:h(hT)};return a;function h(p){return $;function $(_){return ET(a,p,_)}}}function kT(r){for(;!T9(r););return r}const R8=/[\0\t\n\r]/g;function CT(){let r=1,o="",n=!0,a;return h;function h(p,$,_){const T=[];let E,w,A,z,B;for(p=o+(typeof p=="string"?p.toString():new TextDecoder($||void 0).decode(p)),A=0,o="",n&&(p.charCodeAt(0)===65279&&A++,n=void 0);A<p.length;){if(R8.lastIndex=A,E=R8.exec(p),z=E&&E.index!==void 0?E.index:p.length,B=p.charCodeAt(z),!E){o=p.slice(A);break}if(B===10&&A===z&&a)T.push(-3),a=void 0;else switch(a&&(T.push(-5),a=void 0),A<z&&(T.push(p.slice(A,z)),r+=z-A),B){case 0:{T.push(65533),r++;break}case 9:{for(w=Math.ceil(r/4)*4,T.push(-2);r++<w;)T.push(-1);break}case 10:{T.push(-4),r=1;break}default:a=!0,r=1}A=z+1}return _&&(a&&T.push(-5),o&&T.push(o),T.push(null)),T}}const AT=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function IT(r){return r.replace(AT,MT)}function MT(r,o,n){if(o)return o;if(n.charCodeAt(0)===35){const h=n.charCodeAt(1),p=h===120||h===88;return $9(n.slice(p?2:1),p?16:10)}return jf(n)||r}const k9={}.hasOwnProperty;function RT(r,o,n){return typeof o!="string"&&(n=o,o=void 0),NT(n)(kT(xT(n).document().write(CT()(r,o,!0))))}function NT(r){const o={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:p(Fi),autolinkProtocol:Je,autolinkEmail:Je,atxHeading:p(Zn),blockQuote:p(an),characterEscape:Je,characterReference:Je,codeFenced:p(Xn),codeFencedFenceInfo:$,codeFencedFenceMeta:$,codeIndented:p(Xn,$),codeText:p(dt,$),codeTextData:Je,data:Je,codeFlowValue:Je,definition:p(tn),definitionDestinationString:$,definitionLabelString:$,definitionTitleString:$,emphasis:p(Wr),hardBreakEscape:p(pr),hardBreakTrailing:p(pr),htmlFlow:p(on,$),htmlFlowData:Je,htmlText:p(on,$),htmlTextData:Je,image:p(Ei),label:$,link:p(Fi),listItem:p(ss),listItemValue:z,listOrdered:p(Qn,A),listUnordered:p(Qn),paragraph:p(yi),reference:ke,referenceString:$,resourceDestinationString:$,resourceTitleString:$,setextHeading:p(Zn),strong:p(sr),thematicBreak:p(U)},exit:{atxHeading:T(),atxHeadingSequence:Ge,autolink:T(),autolinkEmail:Yn,autolinkProtocol:hr,blockQuote:T(),characterEscapeValue:Xe,characterReferenceMarkerHexadecimal:Ot,characterReferenceMarkerNumeric:Ot,characterReferenceValue:sn,characterReference:yn,codeFenced:T(oe),codeFencedFence:ce,codeFencedFenceInfo:B,codeFencedFenceMeta:Z,codeFlowValue:Xe,codeIndented:T(j),codeText:T(rt),codeTextData:Xe,data:Xe,definition:T(),definitionDestinationString:Ie,definitionLabelString:ie,definitionTitleString:be,emphasis:T(),hardBreakEscape:T(He),hardBreakTrailing:T(He),htmlFlow:T(Lt),htmlFlowData:Xe,htmlText:T(yt),htmlTextData:Xe,image:T($t),label:It,labelText:ft,lineEnding:Pt,link:T(Ze),listItem:T(),listOrdered:T(),listUnordered:T(),paragraph:T(),referenceString:Zt,resourceDestinationString:le,resourceTitleString:Be,resource:ct,setextHeading:T(lt),setextHeadingLineSequence:We,setextHeadingText:Te,strong:T(),thematicBreak:T()}};C9(o,(r||{}).mdastExtensions||[]);const n={};return a;function a(ne){let Ce={type:"root",children:[]};const Le={stack:[Ce],tokenStack:[],config:o,enter:_,exit:E,buffer:$,resume:w,data:n},tt=[];let Qe=-1;for(;++Qe<ne.length;)if(ne[Qe][1].type==="listOrdered"||ne[Qe][1].type==="listUnordered")if(ne[Qe][0]==="enter")tt.push(Qe);else{const Ct=tt.pop();Qe=h(ne,Ct,Qe)}for(Qe=-1;++Qe<ne.length;){const Ct=o[ne[Qe][0]];k9.call(Ct,ne[Qe][1].type)&&Ct[ne[Qe][1].type].call(Object.assign({sliceSerialize:ne[Qe][2].sliceSerialize},Le),ne[Qe][1])}if(Le.tokenStack.length>0){const Ct=Le.tokenStack[Le.tokenStack.length-1];(Ct[1]||N8).call(Le,void 0,Ct[0])}for(Ce.position={start:Y1(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:Y1(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},Qe=-1;++Qe<o.transforms.length;)Ce=o.transforms[Qe](Ce)||Ce;return Ce}function h(ne,Ce,Le){let tt=Ce-1,Qe=-1,Ct=!1,kt,N,ue,De;for(;++tt<=Le;){const Re=ne[tt];switch(Re[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Re[0]==="enter"?Qe++:Qe--,De=void 0;break}case"lineEndingBlank":{Re[0]==="enter"&&(kt&&!De&&!Qe&&!ue&&(ue=tt),De=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:De=void 0}if(!Qe&&Re[0]==="enter"&&Re[1].type==="listItemPrefix"||Qe===-1&&Re[0]==="exit"&&(Re[1].type==="listUnordered"||Re[1].type==="listOrdered")){if(kt){let Dt=tt;for(N=void 0;Dt--;){const Cn=ne[Dt];if(Cn[1].type==="lineEnding"||Cn[1].type==="lineEndingBlank"){if(Cn[0]==="exit")continue;N&&(ne[N][1].type="lineEndingBlank",Ct=!0),Cn[1].type="lineEnding",N=Dt}else if(!(Cn[1].type==="linePrefix"||Cn[1].type==="blockQuotePrefix"||Cn[1].type==="blockQuotePrefixWhitespace"||Cn[1].type==="blockQuoteMarker"||Cn[1].type==="listItemIndent"))break}ue&&(!N||ue<N)&&(kt._spread=!0),kt.end=Object.assign({},N?ne[N][1].start:Re[1].end),ne.splice(N||tt,0,["exit",kt,Re[2]]),tt++,Le++}if(Re[1].type==="listItemPrefix"){const Dt={type:"listItem",_spread:!1,start:Object.assign({},Re[1].start),end:void 0};kt=Dt,ne.splice(tt,0,["enter",Dt,Re[2]]),tt++,Le++,ue=void 0,De=!0}}}return ne[Ce][1]._spread=Ct,Le}function p(ne,Ce){return Le;function Le(tt){_.call(this,ne(tt),tt),Ce&&Ce.call(this,tt)}}function $(){this.stack.push({type:"fragment",children:[]})}function _(ne,Ce,Le){this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([Ce,Le||void 0]),ne.position={start:Y1(Ce.start),end:void 0}}function T(ne){return Ce;function Ce(Le){ne&&ne.call(this,Le),E.call(this,Le)}}function E(ne,Ce){const Le=this.stack.pop(),tt=this.tokenStack.pop();if(tt)tt[0].type!==ne.type&&(Ce?Ce.call(this,ne,tt[0]):(tt[1]||N8).call(this,ne,tt[0]));else throw new Error("Cannot close `"+ne.type+"` ("+e3({start:ne.start,end:ne.end})+"): its not open");Le.position.end=Y1(ne.end)}function w(){return Xf(this.stack.pop())}function A(){this.data.expectingFirstListItemValue=!0}function z(ne){if(this.data.expectingFirstListItemValue){const Ce=this.stack[this.stack.length-2];Ce.start=Number.parseInt(this.sliceSerialize(ne),10),this.data.expectingFirstListItemValue=void 0}}function B(){const ne=this.resume(),Ce=this.stack[this.stack.length-1];Ce.lang=ne}function Z(){const ne=this.resume(),Ce=this.stack[this.stack.length-1];Ce.meta=ne}function ce(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function oe(){const ne=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function j(){const ne=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ne.replace(/(\r?\n|\r)$/g,"")}function ie(ne){const Ce=this.resume(),Le=this.stack[this.stack.length-1];Le.label=Ce,Le.identifier=ru(this.sliceSerialize(ne)).toLowerCase()}function be(){const ne=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ne}function Ie(){const ne=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ne}function Ge(ne){const Ce=this.stack[this.stack.length-1];if(!Ce.depth){const Le=this.sliceSerialize(ne).length;Ce.depth=Le}}function Te(){this.data.setextHeadingSlurpLineEnding=!0}function We(ne){const Ce=this.stack[this.stack.length-1];Ce.depth=this.sliceSerialize(ne).codePointAt(0)===61?1:2}function lt(){this.data.setextHeadingSlurpLineEnding=void 0}function Je(ne){const Le=this.stack[this.stack.length-1].children;let tt=Le[Le.length-1];(!tt||tt.type!=="text")&&(tt=Vn(),tt.position={start:Y1(ne.start),end:void 0},Le.push(tt)),this.stack.push(tt)}function Xe(ne){const Ce=this.stack.pop();Ce.value+=this.sliceSerialize(ne),Ce.position.end=Y1(ne.end)}function Pt(ne){const Ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Le=Ce.children[Ce.children.length-1];Le.position.end=Y1(ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&o.canContainEols.includes(Ce.type)&&(Je.call(this,ne),Xe.call(this,ne))}function He(){this.data.atHardBreak=!0}function Lt(){const ne=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ne}function yt(){const ne=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ne}function rt(){const ne=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ne}function Ze(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=Ce,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function $t(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=Ce,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function ft(ne){const Ce=this.sliceSerialize(ne),Le=this.stack[this.stack.length-2];Le.label=IT(Ce),Le.identifier=ru(Ce).toLowerCase()}function It(){const ne=this.stack[this.stack.length-1],Ce=this.resume(),Le=this.stack[this.stack.length-1];if(this.data.inReference=!0,Le.type==="link"){const tt=ne.children;Le.children=tt}else Le.alt=Ce}function le(){const ne=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ne}function Be(){const ne=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ne}function ct(){this.data.inReference=void 0}function ke(){this.data.referenceType="collapsed"}function Zt(ne){const Ce=this.resume(),Le=this.stack[this.stack.length-1];Le.label=Ce,Le.identifier=ru(this.sliceSerialize(ne)).toLowerCase(),this.data.referenceType="full"}function Ot(ne){this.data.characterReferenceType=ne.type}function sn(ne){const Ce=this.sliceSerialize(ne),Le=this.data.characterReferenceType;let tt;Le?(tt=$9(Ce,Le==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):tt=jf(Ce);const Qe=this.stack[this.stack.length-1];Qe.value+=tt}function yn(ne){const Ce=this.stack.pop();Ce.position.end=Y1(ne.end)}function hr(ne){Xe.call(this,ne);const Ce=this.stack[this.stack.length-1];Ce.url=this.sliceSerialize(ne)}function Yn(ne){Xe.call(this,ne);const Ce=this.stack[this.stack.length-1];Ce.url="mailto:"+this.sliceSerialize(ne)}function an(){return{type:"blockquote",children:[]}}function Xn(){return{type:"code",lang:null,meta:null,value:""}}function dt(){return{type:"inlineCode",value:""}}function tn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Wr(){return{type:"emphasis",children:[]}}function Zn(){return{type:"heading",depth:0,children:[]}}function pr(){return{type:"break"}}function on(){return{type:"html",value:""}}function Ei(){return{type:"image",title:null,url:"",alt:null}}function Fi(){return{type:"link",title:null,url:"",children:[]}}function Qn(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function ss(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function yi(){return{type:"paragraph",children:[]}}function sr(){return{type:"strong",children:[]}}function Vn(){return{type:"text",value:""}}function U(){return{type:"thematicBreak"}}}function Y1(r){return{line:r.line,column:r.column,offset:r.offset}}function C9(r,o){let n=-1;for(;++n<o.length;){const a=o[n];Array.isArray(a)?C9(r,a):OT(r,a)}}function OT(r,o){let n;for(n in o)if(k9.call(o,n))switch(n){case"canContainEols":{const a=o[n];a&&r[n].push(...a);break}case"transforms":{const a=o[n];a&&r[n].push(...a);break}case"enter":case"exit":{const a=o[n];a&&Object.assign(r[n],a);break}}}function N8(r,o){throw r?new Error("Cannot close `"+r.type+"` ("+e3({start:r.start,end:r.end})+"): a different token (`"+o.type+"`, "+e3({start:o.start,end:o.end})+") is open"):new Error("Cannot close document, a token (`"+o.type+"`, "+e3({start:o.start,end:o.end})+") is still open")}function LT(r){const o=this;o.parser=n;function n(a){return RT(a,{...o.data("settings"),...r,extensions:o.data("micromarkExtensions")||[],mdastExtensions:o.data("fromMarkdownExtensions")||[]})}}function DT(r,o){const n={type:"element",tagName:"blockquote",properties:{},children:r.wrap(r.all(o),!0)};return r.patch(o,n),r.applyData(o,n)}function BT(r,o){const n={type:"element",tagName:"br",properties:{},children:[]};return r.patch(o,n),[r.applyData(o,n),{type:"text",value:`
`}]}function PT(r,o){const n=o.value?o.value+`
`:"",a={};o.lang&&(a.className=["language-"+o.lang]);let h={type:"element",tagName:"code",properties:a,children:[{type:"text",value:n}]};return o.meta&&(h.data={meta:o.meta}),r.patch(o,h),h=r.applyData(o,h),h={type:"element",tagName:"pre",properties:{},children:[h]},r.patch(o,h),h}function FT(r,o){const n={type:"element",tagName:"del",properties:{},children:r.all(o)};return r.patch(o,n),r.applyData(o,n)}function zT(r,o){const n={type:"element",tagName:"em",properties:{},children:r.all(o)};return r.patch(o,n),r.applyData(o,n)}function UT(r,o){const n=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",a=String(o.identifier).toUpperCase(),h=k4(a.toLowerCase()),p=r.footnoteOrder.indexOf(a);let $,_=r.footnoteCounts.get(a);_===void 0?(_=0,r.footnoteOrder.push(a),$=r.footnoteOrder.length):$=p+1,_+=1,r.footnoteCounts.set(a,_);const T={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+h,id:n+"fnref-"+h+(_>1?"-"+_:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String($)}]};r.patch(o,T);const E={type:"element",tagName:"sup",properties:{},children:[T]};return r.patch(o,E),r.applyData(o,E)}function HT(r,o){const n={type:"element",tagName:"h"+o.depth,properties:{},children:r.all(o)};return r.patch(o,n),r.applyData(o,n)}function GT(r,o){if(r.options.allowDangerousHtml){const n={type:"raw",value:o.value};return r.patch(o,n),r.applyData(o,n)}}function A9(r,o){const n=o.referenceType;let a="]";if(n==="collapsed"?a+="[]":n==="full"&&(a+="["+(o.label||o.identifier)+"]"),o.type==="imageReference")return[{type:"text",value:"!["+o.alt+a}];const h=r.all(o),p=h[0];p&&p.type==="text"?p.value="["+p.value:h.unshift({type:"text",value:"["});const $=h[h.length-1];return $&&$.type==="text"?$.value+=a:h.push({type:"text",value:a}),h}function VT(r,o){const n=String(o.identifier).toUpperCase(),a=r.definitionById.get(n);if(!a)return A9(r,o);const h={src:k4(a.url||""),alt:o.alt};a.title!==null&&a.title!==void 0&&(h.title=a.title);const p={type:"element",tagName:"img",properties:h,children:[]};return r.patch(o,p),r.applyData(o,p)}function WT(r,o){const n={src:k4(o.url)};o.alt!==null&&o.alt!==void 0&&(n.alt=o.alt),o.title!==null&&o.title!==void 0&&(n.title=o.title);const a={type:"element",tagName:"img",properties:n,children:[]};return r.patch(o,a),r.applyData(o,a)}function qT(r,o){const n={type:"text",value:o.value.replace(/\r?\n|\r/g," ")};r.patch(o,n);const a={type:"element",tagName:"code",properties:{},children:[n]};return r.patch(o,a),r.applyData(o,a)}function XT(r,o){const n=String(o.identifier).toUpperCase(),a=r.definitionById.get(n);if(!a)return A9(r,o);const h={href:k4(a.url||"")};a.title!==null&&a.title!==void 0&&(h.title=a.title);const p={type:"element",tagName:"a",properties:h,children:r.all(o)};return r.patch(o,p),r.applyData(o,p)}function jT(r,o){const n={href:k4(o.url)};o.title!==null&&o.title!==void 0&&(n.title=o.title);const a={type:"element",tagName:"a",properties:n,children:r.all(o)};return r.patch(o,a),r.applyData(o,a)}function YT(r,o,n){const a=r.all(o),h=n?KT(n):I9(o),p={},$=[];if(typeof o.checked=="boolean"){const w=a[0];let A;w&&w.type==="element"&&w.tagName==="p"?A=w:(A={type:"element",tagName:"p",properties:{},children:[]},a.unshift(A)),A.children.length>0&&A.children.unshift({type:"text",value:" "}),A.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:o.checked,disabled:!0},children:[]}),p.className=["task-list-item"]}let _=-1;for(;++_<a.length;){const w=a[_];(h||_!==0||w.type!=="element"||w.tagName!=="p")&&$.push({type:"text",value:`
`}),w.type==="element"&&w.tagName==="p"&&!h?$.push(...w.children):$.push(w)}const T=a[a.length-1];T&&(h||T.type!=="element"||T.tagName!=="p")&&$.push({type:"text",value:`
`});const E={type:"element",tagName:"li",properties:p,children:$};return r.patch(o,E),r.applyData(o,E)}function KT(r){let o=!1;if(r.type==="list"){o=r.spread||!1;const n=r.children;let a=-1;for(;!o&&++a<n.length;)o=I9(n[a])}return o}function I9(r){const o=r.spread;return o??r.children.length>1}function JT(r,o){const n={},a=r.all(o);let h=-1;for(typeof o.start=="number"&&o.start!==1&&(n.start=o.start);++h<a.length;){const $=a[h];if($.type==="element"&&$.tagName==="li"&&$.properties&&Array.isArray($.properties.className)&&$.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const p={type:"element",tagName:o.ordered?"ol":"ul",properties:n,children:r.wrap(a,!0)};return r.patch(o,p),r.applyData(o,p)}function ZT(r,o){const n={type:"element",tagName:"p",properties:{},children:r.all(o)};return r.patch(o,n),r.applyData(o,n)}function QT(r,o){const n={type:"root",children:r.wrap(r.all(o))};return r.patch(o,n),r.applyData(o,n)}function e_(r,o){const n={type:"element",tagName:"strong",properties:{},children:r.all(o)};return r.patch(o,n),r.applyData(o,n)}function t_(r,o){const n=r.all(o),a=n.shift(),h=[];if(a){const $={type:"element",tagName:"thead",properties:{},children:r.wrap([a],!0)};r.patch(o.children[0],$),h.push($)}if(n.length>0){const $={type:"element",tagName:"tbody",properties:{},children:r.wrap(n,!0)},_=Gf(o.children[1]),T=u9(o.children[o.children.length-1]);_&&T&&($.position={start:_,end:T}),h.push($)}const p={type:"element",tagName:"table",properties:{},children:r.wrap(h,!0)};return r.patch(o,p),r.applyData(o,p)}function n_(r,o,n){const a=n?n.children:void 0,p=(a?a.indexOf(o):1)===0?"th":"td",$=n&&n.type==="table"?n.align:void 0,_=$?$.length:o.children.length;let T=-1;const E=[];for(;++T<_;){const A=o.children[T],z={},B=$?$[T]:void 0;B&&(z.align=B);let Z={type:"element",tagName:p,properties:z,children:[]};A&&(Z.children=r.all(A),r.patch(A,Z),Z=r.applyData(A,Z)),E.push(Z)}const w={type:"element",tagName:"tr",properties:{},children:r.wrap(E,!0)};return r.patch(o,w),r.applyData(o,w)}function r_(r,o){const n={type:"element",tagName:"td",properties:{},children:r.all(o)};return r.patch(o,n),r.applyData(o,n)}const O8=9,L8=32;function i_(r){const o=String(r),n=/\r?\n|\r/g;let a=n.exec(o),h=0;const p=[];for(;a;)p.push(D8(o.slice(h,a.index),h>0,!0),a[0]),h=a.index+a[0].length,a=n.exec(o);return p.push(D8(o.slice(h),h>0,!1)),p.join("")}function D8(r,o,n){let a=0,h=r.length;if(o){let p=r.codePointAt(a);for(;p===O8||p===L8;)a++,p=r.codePointAt(a)}if(n){let p=r.codePointAt(h-1);for(;p===O8||p===L8;)h--,p=r.codePointAt(h-1)}return h>a?r.slice(a,h):""}function s_(r,o){const n={type:"text",value:i_(String(o.value))};return r.patch(o,n),r.applyData(o,n)}function o_(r,o){const n={type:"element",tagName:"hr",properties:{},children:[]};return r.patch(o,n),r.applyData(o,n)}const l_={blockquote:DT,break:BT,code:PT,delete:FT,emphasis:zT,footnoteReference:UT,heading:HT,html:GT,imageReference:VT,image:WT,inlineCode:qT,linkReference:XT,link:jT,listItem:YT,list:JT,paragraph:ZT,root:QT,strong:e_,table:t_,tableCell:r_,tableRow:n_,text:s_,thematicBreak:o_,toml:e5,yaml:e5,definition:e5,footnoteDefinition:e5};function e5(){}const M9=-1,P5=0,n3=1,S5=2,Kf=3,Jf=4,Zf=5,Qf=6,R9=7,N9=8,B8=typeof self=="object"?self:globalThis,a_=(r,o)=>{const n=(h,p)=>(r.set(p,h),h),a=h=>{if(r.has(h))return r.get(h);const[p,$]=o[h];switch(p){case P5:case M9:return n($,h);case n3:{const _=n([],h);for(const T of $)_.push(a(T));return _}case S5:{const _=n({},h);for(const[T,E]of $)_[a(T)]=a(E);return _}case Kf:return n(new Date($),h);case Jf:{const{source:_,flags:T}=$;return n(new RegExp(_,T),h)}case Zf:{const _=n(new Map,h);for(const[T,E]of $)_.set(a(T),a(E));return _}case Qf:{const _=n(new Set,h);for(const T of $)_.add(a(T));return _}case R9:{const{name:_,message:T}=$;return n(new B8[_](T),h)}case N9:return n(BigInt($),h);case"BigInt":return n(Object(BigInt($)),h);case"ArrayBuffer":return n(new Uint8Array($).buffer,$);case"DataView":{const{buffer:_}=new Uint8Array($);return n(new DataView(_),$)}}return n(new B8[p]($),h)};return a},P8=r=>a_(new Map,r)(0),v4="",{toString:u_}={},{keys:c_}=Object,K2=r=>{const o=typeof r;if(o!=="object"||!r)return[P5,o];const n=u_.call(r).slice(8,-1);switch(n){case"Array":return[n3,v4];case"Object":return[S5,v4];case"Date":return[Kf,v4];case"RegExp":return[Jf,v4];case"Map":return[Zf,v4];case"Set":return[Qf,v4];case"DataView":return[n3,n]}return n.includes("Array")?[n3,n]:n.includes("Error")?[R9,n]:[S5,n]},t5=([r,o])=>r===P5&&(o==="function"||o==="symbol"),h_=(r,o,n,a)=>{const h=($,_)=>{const T=a.push($)-1;return n.set(_,T),T},p=$=>{if(n.has($))return n.get($);let[_,T]=K2($);switch(_){case P5:{let w=$;switch(T){case"bigint":_=N9,w=$.toString();break;case"function":case"symbol":if(r)throw new TypeError("unable to serialize "+T);w=null;break;case"undefined":return h([M9],$)}return h([_,w],$)}case n3:{if(T){let z=$;return T==="DataView"?z=new Uint8Array($.buffer):T==="ArrayBuffer"&&(z=new Uint8Array($)),h([T,[...z]],$)}const w=[],A=h([_,w],$);for(const z of $)w.push(p(z));return A}case S5:{if(T)switch(T){case"BigInt":return h([T,$.toString()],$);case"Boolean":case"Number":case"String":return h([T,$.valueOf()],$)}if(o&&"toJSON"in $)return p($.toJSON());const w=[],A=h([_,w],$);for(const z of c_($))(r||!t5(K2($[z])))&&w.push([p(z),p($[z])]);return A}case Kf:return h([_,$.toISOString()],$);case Jf:{const{source:w,flags:A}=$;return h([_,{source:w,flags:A}],$)}case Zf:{const w=[],A=h([_,w],$);for(const[z,B]of $)(r||!(t5(K2(z))||t5(K2(B))))&&w.push([p(z),p(B)]);return A}case Qf:{const w=[],A=h([_,w],$);for(const z of $)(r||!t5(K2(z)))&&w.push(p(z));return A}}const{message:E}=$;return h([_,{name:T,message:E}],$)};return p},F8=(r,{json:o,lossy:n}={})=>{const a=[];return h_(!(o||n),!!o,new Map,a)(r),a},x5=typeof structuredClone=="function"?(r,o)=>o&&("json"in o||"lossy"in o)?P8(F8(r,o)):structuredClone(r):(r,o)=>P8(F8(r,o));function d_(r,o){const n=[{type:"text",value:""}];return o>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(o)}]}),n}function f_(r,o){return"Back to reference "+(r+1)+(o>1?"-"+o:"")}function p_(r){const o=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",n=r.options.footnoteBackContent||d_,a=r.options.footnoteBackLabel||f_,h=r.options.footnoteLabel||"Footnotes",p=r.options.footnoteLabelTagName||"h2",$=r.options.footnoteLabelProperties||{className:["sr-only"]},_=[];let T=-1;for(;++T<r.footnoteOrder.length;){const E=r.footnoteById.get(r.footnoteOrder[T]);if(!E)continue;const w=r.all(E),A=String(E.identifier).toUpperCase(),z=k4(A.toLowerCase());let B=0;const Z=[],ce=r.footnoteCounts.get(A);for(;ce!==void 0&&++B<=ce;){Z.length>0&&Z.push({type:"text",value:" "});let ie=typeof n=="string"?n:n(T,B);typeof ie=="string"&&(ie={type:"text",value:ie}),Z.push({type:"element",tagName:"a",properties:{href:"#"+o+"fnref-"+z+(B>1?"-"+B:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(T,B),className:["data-footnote-backref"]},children:Array.isArray(ie)?ie:[ie]})}const oe=w[w.length-1];if(oe&&oe.type==="element"&&oe.tagName==="p"){const ie=oe.children[oe.children.length-1];ie&&ie.type==="text"?ie.value+=" ":oe.children.push({type:"text",value:" "}),oe.children.push(...Z)}else w.push(...Z);const j={type:"element",tagName:"li",properties:{id:o+"fn-"+z},children:r.wrap(w,!0)};r.patch(E,j),_.push(j)}if(_.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:p,properties:{...x5($),id:"footnote-label"},children:[{type:"text",value:h}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:r.wrap(_,!0)},{type:"text",value:`
`}]}}const f3=(function(r){if(r==null)return b_;if(typeof r=="function")return F5(r);if(typeof r=="object")return Array.isArray(r)?m_(r):g_(r);if(typeof r=="string")return $_(r);throw new Error("Expected function, string, or object as test")});function m_(r){const o=[];let n=-1;for(;++n<r.length;)o[n]=f3(r[n]);return F5(a);function a(...h){let p=-1;for(;++p<o.length;)if(o[p].apply(this,h))return!0;return!1}}function g_(r){const o=r;return F5(n);function n(a){const h=a;let p;for(p in r)if(h[p]!==o[p])return!1;return!0}}function $_(r){return F5(o);function o(n){return n&&n.type===r}}function F5(r){return o;function o(n,a,h){return!!(v_(n)&&r.call(this,n,typeof a=="number"?a:void 0,h||void 0))}}function b_(){return!0}function v_(r){return r!==null&&typeof r=="object"&&"type"in r}const O9=[],y_=!0,wf=!1,L9="skip";function e7(r,o,n,a){let h;typeof o=="function"&&typeof n!="function"?(a=n,n=o):h=o;const p=f3(h),$=a?-1:1;_(r,void 0,[])();function _(T,E,w){const A=T&&typeof T=="object"?T:{};if(typeof A.type=="string"){const B=typeof A.tagName=="string"?A.tagName:typeof A.name=="string"?A.name:void 0;Object.defineProperty(z,"name",{value:"node ("+(T.type+(B?"<"+B+">":""))+")"})}return z;function z(){let B=O9,Z,ce,oe;if((!o||p(T,E,w[w.length-1]||void 0))&&(B=T_(n(T,w)),B[0]===wf))return B;if("children"in T&&T.children){const j=T;if(j.children&&B[0]!==L9)for(ce=(a?j.children.length:-1)+$,oe=w.concat(j);ce>-1&&ce<j.children.length;){const ie=j.children[ce];if(Z=_(ie,ce,oe)(),Z[0]===wf)return Z;ce=typeof Z[1]=="number"?Z[1]:ce+$}}return B}}}function T_(r){return Array.isArray(r)?r:typeof r=="number"?[y_,r]:r==null?O9:[r]}function t7(r,o,n,a){let h,p,$;typeof o=="function"&&typeof n!="function"?(p=void 0,$=o,h=n):(p=o,$=n,h=a),e7(r,p,_,h);function _(T,E){const w=E[E.length-1],A=w?w.children.indexOf(T):void 0;return $(T,A,w)}}const Sf={}.hasOwnProperty,__={};function E_(r,o){const n=o||__,a=new Map,h=new Map,p=new Map,$={...l_,...n.handlers},_={all:E,applyData:S_,definitionById:a,footnoteById:h,footnoteCounts:p,footnoteOrder:[],handlers:$,one:T,options:n,patch:w_,wrap:k_};return t7(r,function(w){if(w.type==="definition"||w.type==="footnoteDefinition"){const A=w.type==="definition"?a:h,z=String(w.identifier).toUpperCase();A.has(z)||A.set(z,w)}}),_;function T(w,A){const z=w.type,B=_.handlers[z];if(Sf.call(_.handlers,z)&&B)return B(_,w,A);if(_.options.passThrough&&_.options.passThrough.includes(z)){if("children"in w){const{children:ce,...oe}=w,j=x5(oe);return j.children=_.all(w),j}return x5(w)}return(_.options.unknownHandler||x_)(_,w,A)}function E(w){const A=[];if("children"in w){const z=w.children;let B=-1;for(;++B<z.length;){const Z=_.one(z[B],w);if(Z){if(B&&z[B-1].type==="break"&&(!Array.isArray(Z)&&Z.type==="text"&&(Z.value=z8(Z.value)),!Array.isArray(Z)&&Z.type==="element")){const ce=Z.children[0];ce&&ce.type==="text"&&(ce.value=z8(ce.value))}Array.isArray(Z)?A.push(...Z):A.push(Z)}}}return A}}function w_(r,o){r.position&&(o.position=fv(r))}function S_(r,o){let n=o;if(r&&r.data){const a=r.data.hName,h=r.data.hChildren,p=r.data.hProperties;if(typeof a=="string")if(n.type==="element")n.tagName=a;else{const $="children"in n?n.children:[n];n={type:"element",tagName:a,properties:{},children:$}}n.type==="element"&&p&&Object.assign(n.properties,x5(p)),"children"in n&&n.children&&h!==null&&h!==void 0&&(n.children=h)}return n}function x_(r,o){const n=o.data||{},a="value"in o&&!(Sf.call(n,"hProperties")||Sf.call(n,"hChildren"))?{type:"text",value:o.value}:{type:"element",tagName:"div",properties:{},children:r.all(o)};return r.patch(o,a),r.applyData(o,a)}function k_(r,o){const n=[];let a=-1;for(o&&n.push({type:"text",value:`
`});++a<r.length;)a&&n.push({type:"text",value:`
`}),n.push(r[a]);return o&&r.length>0&&n.push({type:"text",value:`
`}),n}function z8(r){let o=0,n=r.charCodeAt(o);for(;n===9||n===32;)o++,n=r.charCodeAt(o);return r.slice(o)}function U8(r,o){const n=E_(r,o),a=n.one(r,void 0),h=p_(n),p=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return h&&p.children.push({type:"text",value:`
`},h),p}function C_(r,o){return r&&"run"in r?async function(n,a){const h=U8(n,{file:a,...o});await r.run(h,a)}:function(n,a){return U8(n,{file:a,...r||o})}}function H8(r){if(r)throw r}var G6,G8;function A_(){if(G8)return G6;G8=1;var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,h=function(E){return typeof Array.isArray=="function"?Array.isArray(E):o.call(E)==="[object Array]"},p=function(E){if(!E||o.call(E)!=="[object Object]")return!1;var w=r.call(E,"constructor"),A=E.constructor&&E.constructor.prototype&&r.call(E.constructor.prototype,"isPrototypeOf");if(E.constructor&&!w&&!A)return!1;var z;for(z in E);return typeof z>"u"||r.call(E,z)},$=function(E,w){n&&w.name==="__proto__"?n(E,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):E[w.name]=w.newValue},_=function(E,w){if(w==="__proto__")if(r.call(E,w)){if(a)return a(E,w).value}else return;return E[w]};return G6=function T(){var E,w,A,z,B,Z,ce=arguments[0],oe=1,j=arguments.length,ie=!1;for(typeof ce=="boolean"&&(ie=ce,ce=arguments[1]||{},oe=2),(ce==null||typeof ce!="object"&&typeof ce!="function")&&(ce={});oe<j;++oe)if(E=arguments[oe],E!=null)for(w in E)A=_(ce,w),z=_(E,w),ce!==z&&(ie&&z&&(p(z)||(B=h(z)))?(B?(B=!1,Z=A&&h(A)?A:[]):Z=A&&p(A)?A:{},$(ce,{name:w,newValue:T(ie,Z,z)})):typeof z<"u"&&$(ce,{name:w,newValue:z}));return ce},G6}var I_=A_();const V6=qu(I_);function xf(r){if(typeof r!="object"||r===null)return!1;const o=Object.getPrototypeOf(r);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function M_(){const r=[],o={run:n,use:a};return o;function n(...h){let p=-1;const $=h.pop();if(typeof $!="function")throw new TypeError("Expected function as last argument, not "+$);_(null,...h);function _(T,...E){const w=r[++p];let A=-1;if(T){$(T);return}for(;++A<h.length;)(E[A]===null||E[A]===void 0)&&(E[A]=h[A]);h=E,w?R_(w,_)(...E):$(null,...E)}}function a(h){if(typeof h!="function")throw new TypeError("Expected `middelware` to be a function, not "+h);return r.push(h),o}}function R_(r,o){let n;return a;function a(...$){const _=r.length>$.length;let T;_&&$.push(h);try{T=r.apply(this,$)}catch(E){const w=E;if(_&&n)throw w;return h(w)}_||(T&&T.then&&typeof T.then=="function"?T.then(p,h):T instanceof Error?h(T):p(T))}function h($,..._){n||(n=!0,o($,..._))}function p($){h(null,$)}}const Hu={basename:N_,dirname:O_,extname:L_,join:D_,sep:"/"};function N_(r,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');p3(r);let n=0,a=-1,h=r.length,p;if(o===void 0||o.length===0||o.length>r.length){for(;h--;)if(r.codePointAt(h)===47){if(p){n=h+1;break}}else a<0&&(p=!0,a=h+1);return a<0?"":r.slice(n,a)}if(o===r)return"";let $=-1,_=o.length-1;for(;h--;)if(r.codePointAt(h)===47){if(p){n=h+1;break}}else $<0&&(p=!0,$=h+1),_>-1&&(r.codePointAt(h)===o.codePointAt(_--)?_<0&&(a=h):(_=-1,a=$));return n===a?a=$:a<0&&(a=r.length),r.slice(n,a)}function O_(r){if(p3(r),r.length===0)return".";let o=-1,n=r.length,a;for(;--n;)if(r.codePointAt(n)===47){if(a){o=n;break}}else a||(a=!0);return o<0?r.codePointAt(0)===47?"/":".":o===1&&r.codePointAt(0)===47?"//":r.slice(0,o)}function L_(r){p3(r);let o=r.length,n=-1,a=0,h=-1,p=0,$;for(;o--;){const _=r.codePointAt(o);if(_===47){if($){a=o+1;break}continue}n<0&&($=!0,n=o+1),_===46?h<0?h=o:p!==1&&(p=1):h>-1&&(p=-1)}return h<0||n<0||p===0||p===1&&h===n-1&&h===a+1?"":r.slice(h,n)}function D_(...r){let o=-1,n;for(;++o<r.length;)p3(r[o]),r[o]&&(n=n===void 0?r[o]:n+"/"+r[o]);return n===void 0?".":B_(n)}function B_(r){p3(r);const o=r.codePointAt(0)===47;let n=P_(r,!o);return n.length===0&&!o&&(n="."),n.length>0&&r.codePointAt(r.length-1)===47&&(n+="/"),o?"/"+n:n}function P_(r,o){let n="",a=0,h=-1,p=0,$=-1,_,T;for(;++$<=r.length;){if($<r.length)_=r.codePointAt($);else{if(_===47)break;_=47}if(_===47){if(!(h===$-1||p===1))if(h!==$-1&&p===2){if(n.length<2||a!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(T=n.lastIndexOf("/"),T!==n.length-1){T<0?(n="",a=0):(n=n.slice(0,T),a=n.length-1-n.lastIndexOf("/")),h=$,p=0;continue}}else if(n.length>0){n="",a=0,h=$,p=0;continue}}o&&(n=n.length>0?n+"/..":"..",a=2)}else n.length>0?n+="/"+r.slice(h+1,$):n=r.slice(h+1,$),a=$-h-1;h=$,p=0}else _===46&&p>-1?p++:p=-1}return n}function p3(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}const F_={cwd:z_};function z_(){return"/"}function kf(r){return!!(r!==null&&typeof r=="object"&&"href"in r&&r.href&&"protocol"in r&&r.protocol&&r.auth===void 0)}function U_(r){if(typeof r=="string")r=new URL(r);else if(!kf(r)){const o=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+r+"`");throw o.code="ERR_INVALID_ARG_TYPE",o}if(r.protocol!=="file:"){const o=new TypeError("The URL must be of scheme file");throw o.code="ERR_INVALID_URL_SCHEME",o}return H_(r)}function H_(r){if(r.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const o=r.pathname;let n=-1;for(;++n<o.length;)if(o.codePointAt(n)===37&&o.codePointAt(n+1)===50){const a=o.codePointAt(n+2);if(a===70||a===102){const h=new TypeError("File URL path must not include encoded / characters");throw h.code="ERR_INVALID_FILE_URL_PATH",h}}return decodeURIComponent(o)}const W6=["history","path","basename","stem","extname","dirname"];class D9{constructor(o){let n;o?kf(o)?n={path:o}:typeof o=="string"||G_(o)?n={value:o}:n=o:n={},this.cwd="cwd"in n?"":F_.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<W6.length;){const p=W6[a];p in n&&n[p]!==void 0&&n[p]!==null&&(this[p]=p==="history"?[...n[p]]:n[p])}let h;for(h in n)W6.includes(h)||(this[h]=n[h])}get basename(){return typeof this.path=="string"?Hu.basename(this.path):void 0}set basename(o){X6(o,"basename"),q6(o,"basename"),this.path=Hu.join(this.dirname||"",o)}get dirname(){return typeof this.path=="string"?Hu.dirname(this.path):void 0}set dirname(o){V8(this.basename,"dirname"),this.path=Hu.join(o||"",this.basename)}get extname(){return typeof this.path=="string"?Hu.extname(this.path):void 0}set extname(o){if(q6(o,"extname"),V8(this.dirname,"extname"),o){if(o.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(o.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Hu.join(this.dirname,this.stem+(o||""))}get path(){return this.history[this.history.length-1]}set path(o){kf(o)&&(o=U_(o)),X6(o,"path"),this.path!==o&&this.history.push(o)}get stem(){return typeof this.path=="string"?Hu.basename(this.path,this.extname):void 0}set stem(o){X6(o,"stem"),q6(o,"stem"),this.path=Hu.join(this.dirname||"",o+(this.extname||""))}fail(o,n,a){const h=this.message(o,n,a);throw h.fatal=!0,h}info(o,n,a){const h=this.message(o,n,a);return h.fatal=void 0,h}message(o,n,a){const h=new Il(o,n,a);return this.path&&(h.name=this.path+":"+h.name,h.file=this.path),h.fatal=!1,this.messages.push(h),h}toString(o){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(o||void 0).decode(this.value)}}function q6(r,o){if(r&&r.includes(Hu.sep))throw new Error("`"+o+"` cannot be a path: did not expect `"+Hu.sep+"`")}function X6(r,o){if(!r)throw new Error("`"+o+"` cannot be empty")}function V8(r,o){if(!r)throw new Error("Setting `"+o+"` requires `path` to be set too")}function G_(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const V_=(function(r){const a=this.constructor.prototype,h=a[r],p=function(){return h.apply(p,arguments)};return Object.setPrototypeOf(p,a),p}),W_={}.hasOwnProperty;class n7 extends V_{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=M_()}copy(){const o=new n7;let n=-1;for(;++n<this.attachers.length;){const a=this.attachers[n];o.use(...a)}return o.data(V6(!0,{},this.namespace)),o}data(o,n){return typeof o=="string"?arguments.length===2?(K6("data",this.frozen),this.namespace[o]=n,this):W_.call(this.namespace,o)&&this.namespace[o]||void 0:o?(K6("data",this.frozen),this.namespace=o,this):this.namespace}freeze(){if(this.frozen)return this;const o=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const h=n.call(o,...a);typeof h=="function"&&this.transformers.use(h)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(o){this.freeze();const n=n5(o),a=this.parser||this.Parser;return j6("parse",a),a(String(n),n)}process(o,n){const a=this;return this.freeze(),j6("process",this.parser||this.Parser),Y6("process",this.compiler||this.Compiler),n?h(void 0,n):new Promise(h);function h(p,$){const _=n5(o),T=a.parse(_);a.run(T,_,function(w,A,z){if(w||!A||!z)return E(w);const B=A,Z=a.stringify(B,z);j_(Z)?z.value=Z:z.result=Z,E(w,z)});function E(w,A){w||!A?$(w):p?p(A):n(void 0,A)}}}processSync(o){let n=!1,a;return this.freeze(),j6("processSync",this.parser||this.Parser),Y6("processSync",this.compiler||this.Compiler),this.process(o,h),q8("processSync","process",n),a;function h(p,$){n=!0,H8(p),a=$}}run(o,n,a){W8(o),this.freeze();const h=this.transformers;return!a&&typeof n=="function"&&(a=n,n=void 0),a?p(void 0,a):new Promise(p);function p($,_){const T=n5(n);h.run(o,T,E);function E(w,A,z){const B=A||o;w?_(w):$?$(B):a(void 0,B,z)}}}runSync(o,n){let a=!1,h;return this.run(o,n,p),q8("runSync","run",a),h;function p($,_){H8($),h=_,a=!0}}stringify(o,n){this.freeze();const a=n5(n),h=this.compiler||this.Compiler;return Y6("stringify",h),W8(o),h(o,a)}use(o,...n){const a=this.attachers,h=this.namespace;if(K6("use",this.frozen),o!=null)if(typeof o=="function")T(o,n);else if(typeof o=="object")Array.isArray(o)?_(o):$(o);else throw new TypeError("Expected usable value, not `"+o+"`");return this;function p(E){if(typeof E=="function")T(E,[]);else if(typeof E=="object")if(Array.isArray(E)){const[w,...A]=E;T(w,A)}else $(E);else throw new TypeError("Expected usable value, not `"+E+"`")}function $(E){if(!("plugins"in E)&&!("settings"in E))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");_(E.plugins),E.settings&&(h.settings=V6(!0,h.settings,E.settings))}function _(E){let w=-1;if(E!=null)if(Array.isArray(E))for(;++w<E.length;){const A=E[w];p(A)}else throw new TypeError("Expected a list of plugins, not `"+E+"`")}function T(E,w){let A=-1,z=-1;for(;++A<a.length;)if(a[A][0]===E){z=A;break}if(z===-1)a.push([E,...w]);else if(w.length>0){let[B,...Z]=w;const ce=a[z][1];xf(ce)&&xf(B)&&(B=V6(!0,ce,B)),a[z]=[E,B,...Z]}}}}const q_=new n7().freeze();function j6(r,o){if(typeof o!="function")throw new TypeError("Cannot `"+r+"` without `parser`")}function Y6(r,o){if(typeof o!="function")throw new TypeError("Cannot `"+r+"` without `compiler`")}function K6(r,o){if(o)throw new Error("Cannot call `"+r+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function W8(r){if(!xf(r)||typeof r.type!="string")throw new TypeError("Expected node, got `"+r+"`")}function q8(r,o,n){if(!n)throw new Error("`"+r+"` finished async. Use `"+o+"` instead")}function n5(r){return X_(r)?r:new D9(r)}function X_(r){return!!(r&&typeof r=="object"&&"message"in r&&"messages"in r)}function j_(r){return typeof r=="string"||Y_(r)}function Y_(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const K_="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",X8=[],j8={allowDangerousHtml:!0},J_=/^(https?|ircs?|mailto|xmpp)$/i,Z_=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Q_(r){const o=eE(r),n=tE(r);return nE(o.runSync(o.parse(n),n),r)}function eE(r){const o=r.rehypePlugins||X8,n=r.remarkPlugins||X8,a=r.remarkRehypeOptions?{...r.remarkRehypeOptions,...j8}:j8;return q_().use(LT).use(n).use(C_,a).use(o)}function tE(r){const o=r.children||"",n=new D9;return typeof o=="string"&&(n.value=o),n}function nE(r,o){const n=o.allowedElements,a=o.allowElement,h=o.components,p=o.disallowedElements,$=o.skipHtml,_=o.unwrapDisallowed,T=o.urlTransform||rE;for(const w of Z_)Object.hasOwn(o,w.from)&&(""+w.from+(w.to?"use `"+w.to+"` instead":"remove it")+K_+w.id,void 0);return t7(r,E),bv(r,{Fragment:_e.Fragment,components:h,ignoreInvalidStyle:!0,jsx:_e.jsx,jsxs:_e.jsxs,passKeys:!0,passNode:!0});function E(w,A,z){if(w.type==="raw"&&z&&typeof A=="number")return $?z.children.splice(A,1):z.children[A]={type:"text",value:w.value},A;if(w.type==="element"){let B;for(B in z6)if(Object.hasOwn(z6,B)&&Object.hasOwn(w.properties,B)){const Z=w.properties[B],ce=z6[B];(ce===null||ce.includes(w.tagName))&&(w.properties[B]=T(String(Z||""),B,w))}}if(w.type==="element"){let B=n?!n.includes(w.tagName):p?p.includes(w.tagName):!1;if(!B&&a&&typeof A=="number"&&(B=!a(w,A,z)),B&&z&&typeof A=="number")return _&&w.children?z.children.splice(A,1,...w.children):z.children.splice(A,1),A}}}function rE(r){const o=r.indexOf(":"),n=r.indexOf("?"),a=r.indexOf("#"),h=r.indexOf("/");return o===-1||h!==-1&&o>h||n!==-1&&o>n||a!==-1&&o>a||J_.test(r.slice(0,o))?r:""}function B9(r,o){const n=String(r);let a=n.indexOf(o),h=a,p=0,$=0;if(typeof o!="string")throw new TypeError("Expected substring");for(;a!==-1;)a===h?++p>$&&($=p):p=1,h=a+o.length,a=n.indexOf(o,h);return $}function iE(){return{enter:{mathFlow:r,mathFlowFenceMeta:o,mathText:p},exit:{mathFlow:h,mathFlowFence:a,mathFlowFenceMeta:n,mathFlowValue:_,mathText:$,mathTextData:_}};function r(T){const E={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[E]}},T)}function o(){this.buffer()}function n(){const T=this.resume(),E=this.stack[this.stack.length-1];E.type,E.meta=T}function a(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function h(T){const E=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),w=this.stack[this.stack.length-1];w.type,this.exit(T),w.value=E;const A=w.data.hChildren[0];A.type,A.tagName,A.children.push({type:"text",value:E}),this.data.mathFlowInside=void 0}function p(T){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},T),this.buffer()}function $(T){const E=this.resume(),w=this.stack[this.stack.length-1];w.type,this.exit(T),w.value=E,w.data.hChildren.push({type:"text",value:E})}function _(T){this.config.enter.data.call(this,T),this.config.exit.data.call(this,T)}}function sE(r){let o=(r||{}).singleDollarTextMath;return o==null&&(o=!0),a.peek=h,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:o?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:a}};function n(p,$,_,T){const E=p.value||"",w=_.createTracker(T),A="$".repeat(Math.max(B9(E,"$")+1,2)),z=_.enter("mathFlow");let B=w.move(A);if(p.meta){const Z=_.enter("mathFlowMeta");B+=w.move(_.safe(p.meta,{after:`
`,before:B,encode:["$"],...w.current()})),Z()}return B+=w.move(`
`),E&&(B+=w.move(E+`
`)),B+=w.move(A),z(),B}function a(p,$,_){let T=p.value||"",E=1;for(o||E++;new RegExp("(^|[^$])"+"\\$".repeat(E)+"([^$]|$)").test(T);)E++;const w="$".repeat(E);/[^ \r\n]/.test(T)&&(/^[ \r\n]/.test(T)&&/[ \r\n]$/.test(T)||/^\$|\$$/.test(T))&&(T=" "+T+" ");let A=-1;for(;++A<_.unsafe.length;){const z=_.unsafe[A];if(!z.atBreak)continue;const B=_.compilePattern(z);let Z;for(;Z=B.exec(T);){let ce=Z.index;T.codePointAt(ce)===10&&T.codePointAt(ce-1)===13&&ce--,T=T.slice(0,ce)+" "+T.slice(Z.index+1)}}return w+T+w}function h(){return"$"}}const oE={tokenize:lE,concrete:!0,name:"mathFlow"},Y8={tokenize:aE,partial:!0};function lE(r,o,n){const a=this,h=a.events[a.events.length-1],p=h&&h[1].type==="linePrefix"?h[2].sliceSerialize(h[1],!0).length:0;let $=0;return _;function _(ie){return r.enter("mathFlow"),r.enter("mathFlowFence"),r.enter("mathFlowFenceSequence"),T(ie)}function T(ie){return ie===36?(r.consume(ie),$++,T):$<2?n(ie):(r.exit("mathFlowFenceSequence"),ii(r,E,"whitespace")(ie))}function E(ie){return ie===null||Jn(ie)?A(ie):(r.enter("mathFlowFenceMeta"),r.enter("chunkString",{contentType:"string"}),w(ie))}function w(ie){return ie===null||Jn(ie)?(r.exit("chunkString"),r.exit("mathFlowFenceMeta"),A(ie)):ie===36?n(ie):(r.consume(ie),w)}function A(ie){return r.exit("mathFlowFence"),a.interrupt?o(ie):r.attempt(Y8,z,oe)(ie)}function z(ie){return r.attempt({tokenize:j,partial:!0},oe,B)(ie)}function B(ie){return(p?ii(r,Z,"linePrefix",p+1):Z)(ie)}function Z(ie){return ie===null?oe(ie):Jn(ie)?r.attempt(Y8,z,oe)(ie):(r.enter("mathFlowValue"),ce(ie))}function ce(ie){return ie===null||Jn(ie)?(r.exit("mathFlowValue"),Z(ie)):(r.consume(ie),ce)}function oe(ie){return r.exit("mathFlow"),o(ie)}function j(ie,be,Ie){let Ge=0;return ii(ie,Te,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function Te(Je){return ie.enter("mathFlowFence"),ie.enter("mathFlowFenceSequence"),We(Je)}function We(Je){return Je===36?(Ge++,ie.consume(Je),We):Ge<$?Ie(Je):(ie.exit("mathFlowFenceSequence"),ii(ie,lt,"whitespace")(Je))}function lt(Je){return Je===null||Jn(Je)?(ie.exit("mathFlowFence"),be(Je)):Ie(Je)}}}function aE(r,o,n){const a=this;return h;function h($){return $===null?o($):(r.enter("lineEnding"),r.consume($),r.exit("lineEnding"),p)}function p($){return a.parser.lazy[a.now().line]?n($):o($)}}function uE(r){let n=(r||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:a,resolve:cE,previous:hE,name:"mathText"};function a(h,p,$){let _=0,T,E;return w;function w(ce){return h.enter("mathText"),h.enter("mathTextSequence"),A(ce)}function A(ce){return ce===36?(h.consume(ce),_++,A):_<2&&!n?$(ce):(h.exit("mathTextSequence"),z(ce))}function z(ce){return ce===null?$(ce):ce===36?(E=h.enter("mathTextSequence"),T=0,Z(ce)):ce===32?(h.enter("space"),h.consume(ce),h.exit("space"),z):Jn(ce)?(h.enter("lineEnding"),h.consume(ce),h.exit("lineEnding"),z):(h.enter("mathTextData"),B(ce))}function B(ce){return ce===null||ce===32||ce===36||Jn(ce)?(h.exit("mathTextData"),z(ce)):(h.consume(ce),B)}function Z(ce){return ce===36?(h.consume(ce),T++,Z):T===_?(h.exit("mathTextSequence"),h.exit("mathText"),p(ce)):(E.type="mathTextData",B(ce))}}}function cE(r){let o=r.length-4,n=3,a,h;if((r[n][1].type==="lineEnding"||r[n][1].type==="space")&&(r[o][1].type==="lineEnding"||r[o][1].type==="space")){for(a=n;++a<o;)if(r[a][1].type==="mathTextData"){r[o][1].type="mathTextPadding",r[n][1].type="mathTextPadding",n+=2,o-=2;break}}for(a=n-1,o++;++a<=o;)h===void 0?a!==o&&r[a][1].type!=="lineEnding"&&(h=a):(a===o||r[a][1].type==="lineEnding")&&(r[h][1].type="mathTextData",a!==h+2&&(r[h][1].end=r[a-1][1].end,r.splice(h+2,a-h-2),o-=a-h-2,a=h+2),h=void 0);return r}function hE(r){return r!==36||this.events[this.events.length-1][1].type==="characterEscape"}function dE(r){return{flow:{36:oE},text:{36:uE(r)}}}class f0{constructor(o,n,a){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=o,this.start=n,this.end=a}static range(o,n){return n?!o||!o.loc||!n.loc||o.loc.lexer!==n.loc.lexer?null:new f0(o.loc.lexer,o.loc.start,n.loc.end):o&&o.loc}}class H0{constructor(o,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=o,this.loc=n}range(o,n){return new H0(n,f0.range(this,o))}}class un{constructor(o,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var a="KaTeX parse error: "+o,h,p,$=n&&n.loc;if($&&$.start<=$.end){var _=$.lexer.input;h=$.start,p=$.end,h===_.length?a+=" at end of input: ":a+=" at position "+(h+1)+": ";var T=_.slice(h,p).replace(/[^]/g,"$&"),E;h>15?E=""+_.slice(h-15,h):E=_.slice(0,h);var w;p+15<_.length?w=_.slice(p,p+15)+"":w=_.slice(p),a+=E+T+w}var A=new Error(a);return A.name="ParseError",A.__proto__=un.prototype,A.position=h,h!=null&&p!=null&&(A.length=p-h),A.rawMessage=o,A}}un.prototype.__proto__=Error.prototype;var fE=function(o,n){return o===void 0?n:o},pE=/([A-Z])/g,mE=function(o){return o.replace(pE,"-$1").toLowerCase()},gE={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},$E=/[&><"']/g;function bE(r){return String(r).replace($E,o=>gE[o])}var P9=function r(o){return o.type==="ordgroup"||o.type==="color"?o.body.length===1?r(o.body[0]):o:o.type==="font"?r(o.body):o},vE=function(o){var n=P9(o);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},yE=function(o){if(!o)throw new Error("Expected non-null, but got "+String(o));return o},TE=function(o){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(o);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Wi={deflt:fE,escape:bE,hyphenate:mE,getBaseElem:P9,isCharacterBox:vE,protocolFromUrl:TE},T5={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:r=>"#"+r},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(r,o)=>(o.push(r),o)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:r=>Math.max(0,r),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:r=>Math.max(0,r),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:r=>Math.max(0,r),cli:"-e, --max-expand <n>",cliProcessor:r=>r==="Infinity"?1/0:parseInt(r)},globalGroup:{type:"boolean",cli:!1}};function _E(r){if(r.default)return r.default;var o=r.type,n=Array.isArray(o)?o[0]:o;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class r7{constructor(o){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,o=o||{};for(var n in T5)if(T5.hasOwnProperty(n)){var a=T5[n];this[n]=o[n]!==void 0?a.processor?a.processor(o[n]):o[n]:_E(a)}}reportNonstrict(o,n,a){var h=this.strict;if(typeof h=="function"&&(h=h(o,n,a)),!(!h||h==="ignore")){if(h===!0||h==="error")throw new un("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+o+"]"),a);h==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+o+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+h+"': "+n+" ["+o+"]"))}}useStrictBehavior(o,n,a){var h=this.strict;if(typeof h=="function")try{h=h(o,n,a)}catch{h="error"}return!h||h==="ignore"?!1:h===!0||h==="error"?!0:h==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+o+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+h+"': "+n+" ["+o+"]")),!1)}isTrusted(o){if(o.url&&!o.protocol){var n=Wi.protocolFromUrl(o.url);if(n==null)return!1;o.protocol=n}var a=typeof this.trust=="function"?this.trust(o):this.trust;return!!a}}class K1{constructor(o,n,a){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=o,this.size=n,this.cramped=a}sup(){return Gu[EE[this.id]]}sub(){return Gu[wE[this.id]]}fracNum(){return Gu[SE[this.id]]}fracDen(){return Gu[xE[this.id]]}cramp(){return Gu[kE[this.id]]}text(){return Gu[CE[this.id]]}isTight(){return this.size>=2}}var i7=0,k5=1,E4=2,Uc=3,l3=4,_a=5,S4=6,Ql=7,Gu=[new K1(i7,0,!1),new K1(k5,0,!0),new K1(E4,1,!1),new K1(Uc,1,!0),new K1(l3,2,!1),new K1(_a,2,!0),new K1(S4,3,!1),new K1(Ql,3,!0)],EE=[l3,_a,l3,_a,S4,Ql,S4,Ql],wE=[_a,_a,_a,_a,Ql,Ql,Ql,Ql],SE=[E4,Uc,l3,_a,S4,Ql,S4,Ql],xE=[Uc,Uc,_a,_a,Ql,Ql,Ql,Ql],kE=[k5,k5,Uc,Uc,_a,_a,Ql,Ql],CE=[i7,k5,E4,Uc,E4,Uc,E4,Uc],ur={DISPLAY:Gu[i7],TEXT:Gu[E4],SCRIPT:Gu[l3],SCRIPTSCRIPT:Gu[S4]},Cf=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function AE(r){for(var o=0;o<Cf.length;o++)for(var n=Cf[o],a=0;a<n.blocks.length;a++){var h=n.blocks[a];if(r>=h[0]&&r<=h[1])return n.name}return null}var _5=[];Cf.forEach(r=>r.blocks.forEach(o=>_5.push(...o)));function F9(r){for(var o=0;o<_5.length;o+=2)if(r>=_5[o]&&r<=_5[o+1])return!0;return!1}var y4=80,IE=function(o,n){return"M95,"+(622+o+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+o/2.075+" -"+o+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+o)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+o)+" "+n+"h400000v"+(40+o)+"h-400000z"},ME=function(o,n){return"M263,"+(601+o+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+o/2.084+" -"+o+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+o)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+o)+" "+n+"h400000v"+(40+o)+"h-400000z"},RE=function(o,n){return"M983 "+(10+o+n)+`
l`+o/3.13+" -"+o+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+o)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+o)+" "+n+"h400000v"+(40+o)+"h-400000z"},NE=function(o,n){return"M424,"+(2398+o+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+o/4.223+" -"+o+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+o)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+o)+" "+n+`
h400000v`+(40+o)+"h-400000z"},OE=function(o,n){return"M473,"+(2713+o+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+o/5.298+" -"+o+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+o)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+o)+" "+n+"h400000v"+(40+o)+"H1017.7z"},LE=function(o){var n=o/2;return"M400000 "+o+" H0 L"+n+" 0 l65 45 L145 "+(o-80)+" H400000z"},DE=function(o,n,a){var h=a-54-n-o;return"M702 "+(o+n)+"H400000"+(40+o)+`
H742v`+h+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+o)+"H742z"},BE=function(o,n,a){n=1e3*n;var h="";switch(o){case"sqrtMain":h=IE(n,y4);break;case"sqrtSize1":h=ME(n,y4);break;case"sqrtSize2":h=RE(n,y4);break;case"sqrtSize3":h=NE(n,y4);break;case"sqrtSize4":h=OE(n,y4);break;case"sqrtTall":h=DE(n,y4,a)}return h},PE=function(o,n){switch(o){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},K8={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},FE=function(o,n){switch(o){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let m3=class{constructor(o){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=o,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(o){return this.classes.includes(o)}toNode(){for(var o=document.createDocumentFragment(),n=0;n<this.children.length;n++)o.appendChild(this.children[n].toNode());return o}toMarkup(){for(var o="",n=0;n<this.children.length;n++)o+=this.children[n].toMarkup();return o}toText(){var o=n=>n.toText();return this.children.map(o).join("")}};var Vu={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},r5={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},J8={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function zE(r,o){Vu[r]=o}function s7(r,o,n){if(!Vu[o])throw new Error("Font metrics not found for font: "+o+".");var a=r.charCodeAt(0),h=Vu[o][a];if(!h&&r[0]in J8&&(a=J8[r[0]].charCodeAt(0),h=Vu[o][a]),!h&&n==="text"&&F9(a)&&(h=Vu[o][77]),h)return{depth:h[0],height:h[1],italic:h[2],skew:h[3],width:h[4]}}var J6={};function UE(r){var o;if(r>=5?o=0:r>=3?o=1:o=2,!J6[o]){var n=J6[o]={cssEmPerMu:r5.quad[o]/18};for(var a in r5)r5.hasOwnProperty(a)&&(n[a]=r5[a][o])}return J6[o]}var HE=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Z8=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Q8=function(o,n){return n.size<2?o:HE[o-1][n.size-1]};class zc{constructor(o){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=o.style,this.color=o.color,this.size=o.size||zc.BASESIZE,this.textSize=o.textSize||this.size,this.phantom=!!o.phantom,this.font=o.font||"",this.fontFamily=o.fontFamily||"",this.fontWeight=o.fontWeight||"",this.fontShape=o.fontShape||"",this.sizeMultiplier=Z8[this.size-1],this.maxSize=o.maxSize,this.minRuleThickness=o.minRuleThickness,this._fontMetrics=void 0}extend(o){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a]);return new zc(n)}havingStyle(o){return this.style===o?this:this.extend({style:o,size:Q8(this.textSize,o)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(o){return this.size===o&&this.textSize===o?this:this.extend({style:this.style.text(),size:o,textSize:o,sizeMultiplier:Z8[o-1]})}havingBaseStyle(o){o=o||this.style.text();var n=Q8(zc.BASESIZE,o);return this.size===n&&this.textSize===zc.BASESIZE&&this.style===o?this:this.extend({style:o,size:n})}havingBaseSizing(){var o;switch(this.style.id){case 4:case 5:o=3;break;case 6:case 7:o=1;break;default:o=6}return this.extend({style:this.style.text(),size:o})}withColor(o){return this.extend({color:o})}withPhantom(){return this.extend({phantom:!0})}withFont(o){return this.extend({font:o})}withTextFontFamily(o){return this.extend({fontFamily:o,font:""})}withTextFontWeight(o){return this.extend({fontWeight:o,font:""})}withTextFontShape(o){return this.extend({fontShape:o,font:""})}sizingClasses(o){return o.size!==this.size?["sizing","reset-size"+o.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==zc.BASESIZE?["sizing","reset-size"+this.size,"size"+zc.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=UE(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}zc.BASESIZE=6;var Af={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},GE={ex:!0,em:!0,mu:!0},z9=function(o){return typeof o!="string"&&(o=o.unit),o in Af||o in GE||o==="ex"},no=function(o,n){var a;if(o.unit in Af)a=Af[o.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(o.unit==="mu")a=n.fontMetrics().cssEmPerMu;else{var h;if(n.style.isTight()?h=n.havingStyle(n.style.text()):h=n,o.unit==="ex")a=h.fontMetrics().xHeight;else if(o.unit==="em")a=h.fontMetrics().quad;else throw new un("Invalid unit: '"+o.unit+"'");h!==n&&(a*=h.sizeMultiplier/n.sizeMultiplier)}return Math.min(o.number*a,n.maxSize)},mn=function(o){return+o.toFixed(4)+"em"},Q1=function(o){return o.filter(n=>n).join(" ")},U9=function(o,n,a){if(this.classes=o||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=a||{},n){n.style.isTight()&&this.classes.push("mtight");var h=n.getColor();h&&(this.style.color=h)}},H9=function(o){var n=document.createElement(o);n.className=Q1(this.classes);for(var a in this.style)this.style.hasOwnProperty(a)&&(n.style[a]=this.style[a]);for(var h in this.attributes)this.attributes.hasOwnProperty(h)&&n.setAttribute(h,this.attributes[h]);for(var p=0;p<this.children.length;p++)n.appendChild(this.children[p].toNode());return n},VE=/[\s"'>/=\x00-\x1f]/,G9=function(o){var n="<"+o;this.classes.length&&(n+=' class="'+Wi.escape(Q1(this.classes))+'"');var a="";for(var h in this.style)this.style.hasOwnProperty(h)&&(a+=Wi.hyphenate(h)+":"+this.style[h]+";");a&&(n+=' style="'+Wi.escape(a)+'"');for(var p in this.attributes)if(this.attributes.hasOwnProperty(p)){if(VE.test(p))throw new un("Invalid attribute name '"+p+"'");n+=" "+p+'="'+Wi.escape(this.attributes[p])+'"'}n+=">";for(var $=0;$<this.children.length;$++)n+=this.children[$].toMarkup();return n+="</"+o+">",n};class g3{constructor(o,n,a,h){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,U9.call(this,o,a,h),this.children=n||[]}setAttribute(o,n){this.attributes[o]=n}hasClass(o){return this.classes.includes(o)}toNode(){return H9.call(this,"span")}toMarkup(){return G9.call(this,"span")}}class o7{constructor(o,n,a,h){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,U9.call(this,n,h),this.children=a||[],this.setAttribute("href",o)}setAttribute(o,n){this.attributes[o]=n}hasClass(o){return this.classes.includes(o)}toNode(){return H9.call(this,"a")}toMarkup(){return G9.call(this,"a")}}class WE{constructor(o,n,a){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=o,this.classes=["mord"],this.style=a}hasClass(o){return this.classes.includes(o)}toNode(){var o=document.createElement("img");o.src=this.src,o.alt=this.alt,o.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(o.style[n]=this.style[n]);return o}toMarkup(){var o='<img src="'+Wi.escape(this.src)+'"'+(' alt="'+Wi.escape(this.alt)+'"'),n="";for(var a in this.style)this.style.hasOwnProperty(a)&&(n+=Wi.hyphenate(a)+":"+this.style[a]+";");return n&&(o+=' style="'+Wi.escape(n)+'"'),o+="'/>",o}}var qE={:"",:"",:"",:""};class Ea{constructor(o,n,a,h,p,$,_,T){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=o,this.height=n||0,this.depth=a||0,this.italic=h||0,this.skew=p||0,this.width=$||0,this.classes=_||[],this.style=T||{},this.maxFontSize=0;var E=AE(this.text.charCodeAt(0));E&&this.classes.push(E+"_fallback"),/[]/.test(this.text)&&(this.text=qE[this.text])}hasClass(o){return this.classes.includes(o)}toNode(){var o=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=mn(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Q1(this.classes));for(var a in this.style)this.style.hasOwnProperty(a)&&(n=n||document.createElement("span"),n.style[a]=this.style[a]);return n?(n.appendChild(o),n):o}toMarkup(){var o=!1,n="<span";this.classes.length&&(o=!0,n+=' class="',n+=Wi.escape(Q1(this.classes)),n+='"');var a="";this.italic>0&&(a+="margin-right:"+this.italic+"em;");for(var h in this.style)this.style.hasOwnProperty(h)&&(a+=Wi.hyphenate(h)+":"+this.style[h]+";");a&&(o=!0,n+=' style="'+Wi.escape(a)+'"');var p=Wi.escape(this.text);return o?(n+=">",n+=p,n+="</span>",n):p}}class Gc{constructor(o,n){this.children=void 0,this.attributes=void 0,this.children=o||[],this.attributes=n||{}}toNode(){var o="http://www.w3.org/2000/svg",n=document.createElementNS(o,"svg");for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&n.setAttribute(a,this.attributes[a]);for(var h=0;h<this.children.length;h++)n.appendChild(this.children[h].toNode());return n}toMarkup(){var o='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(o+=" "+n+'="'+Wi.escape(this.attributes[n])+'"');o+=">";for(var a=0;a<this.children.length;a++)o+=this.children[a].toMarkup();return o+="</svg>",o}}class eh{constructor(o,n){this.pathName=void 0,this.alternate=void 0,this.pathName=o,this.alternate=n}toNode(){var o="http://www.w3.org/2000/svg",n=document.createElementNS(o,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",K8[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Wi.escape(this.alternate)+'"/>':'<path d="'+Wi.escape(K8[this.pathName])+'"/>'}}class If{constructor(o){this.attributes=void 0,this.attributes=o||{}}toNode(){var o="http://www.w3.org/2000/svg",n=document.createElementNS(o,"line");for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&n.setAttribute(a,this.attributes[a]);return n}toMarkup(){var o="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(o+=" "+n+'="'+Wi.escape(this.attributes[n])+'"');return o+="/>",o}}function em(r){if(r instanceof Ea)return r;throw new Error("Expected symbolNode but got "+String(r)+".")}function XE(r){if(r instanceof g3)return r;throw new Error("Expected span<HtmlDomNode> but got "+String(r)+".")}var jE={bin:1,close:1,inner:1,open:1,punct:1,rel:1},YE={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ms={math:{},text:{}};function F(r,o,n,a,h,p){Ms[r][h]={font:o,group:n,replace:a},p&&a&&(Ms[r][a]=Ms[r][h])}var q="math",rn="text",ae="main",Oe="ams",Xs="accent-token",Rn="bin",e0="close",C4="inner",ar="mathord",Oo="op-token",G0="open",z5="punct",Fe="rel",qc="spacing",nt="textord";F(q,ae,Fe,"","\\equiv",!0);F(q,ae,Fe,"","\\prec",!0);F(q,ae,Fe,"","\\succ",!0);F(q,ae,Fe,"","\\sim",!0);F(q,ae,Fe,"","\\perp");F(q,ae,Fe,"","\\preceq",!0);F(q,ae,Fe,"","\\succeq",!0);F(q,ae,Fe,"","\\simeq",!0);F(q,ae,Fe,"","\\mid",!0);F(q,ae,Fe,"","\\ll",!0);F(q,ae,Fe,"","\\gg",!0);F(q,ae,Fe,"","\\asymp",!0);F(q,ae,Fe,"","\\parallel");F(q,ae,Fe,"","\\bowtie",!0);F(q,ae,Fe,"","\\smile",!0);F(q,ae,Fe,"","\\sqsubseteq",!0);F(q,ae,Fe,"","\\sqsupseteq",!0);F(q,ae,Fe,"","\\doteq",!0);F(q,ae,Fe,"","\\frown",!0);F(q,ae,Fe,"","\\ni",!0);F(q,ae,Fe,"","\\propto",!0);F(q,ae,Fe,"","\\vdash",!0);F(q,ae,Fe,"","\\dashv",!0);F(q,ae,Fe,"","\\owns");F(q,ae,z5,".","\\ldotp");F(q,ae,z5,"","\\cdotp");F(q,ae,nt,"#","\\#");F(rn,ae,nt,"#","\\#");F(q,ae,nt,"&","\\&");F(rn,ae,nt,"&","\\&");F(q,ae,nt,"","\\aleph",!0);F(q,ae,nt,"","\\forall",!0);F(q,ae,nt,"","\\hbar",!0);F(q,ae,nt,"","\\exists",!0);F(q,ae,nt,"","\\nabla",!0);F(q,ae,nt,"","\\flat",!0);F(q,ae,nt,"","\\ell",!0);F(q,ae,nt,"","\\natural",!0);F(q,ae,nt,"","\\clubsuit",!0);F(q,ae,nt,"","\\wp",!0);F(q,ae,nt,"","\\sharp",!0);F(q,ae,nt,"","\\diamondsuit",!0);F(q,ae,nt,"","\\Re",!0);F(q,ae,nt,"","\\heartsuit",!0);F(q,ae,nt,"","\\Im",!0);F(q,ae,nt,"","\\spadesuit",!0);F(q,ae,nt,"","\\S",!0);F(rn,ae,nt,"","\\S");F(q,ae,nt,"","\\P",!0);F(rn,ae,nt,"","\\P");F(q,ae,nt,"","\\dag");F(rn,ae,nt,"","\\dag");F(rn,ae,nt,"","\\textdagger");F(q,ae,nt,"","\\ddag");F(rn,ae,nt,"","\\ddag");F(rn,ae,nt,"","\\textdaggerdbl");F(q,ae,e0,"","\\rmoustache",!0);F(q,ae,G0,"","\\lmoustache",!0);F(q,ae,e0,"","\\rgroup",!0);F(q,ae,G0,"","\\lgroup",!0);F(q,ae,Rn,"","\\mp",!0);F(q,ae,Rn,"","\\ominus",!0);F(q,ae,Rn,"","\\uplus",!0);F(q,ae,Rn,"","\\sqcap",!0);F(q,ae,Rn,"","\\ast");F(q,ae,Rn,"","\\sqcup",!0);F(q,ae,Rn,"","\\bigcirc",!0);F(q,ae,Rn,"","\\bullet",!0);F(q,ae,Rn,"","\\ddagger");F(q,ae,Rn,"","\\wr",!0);F(q,ae,Rn,"","\\amalg");F(q,ae,Rn,"&","\\And");F(q,ae,Fe,"","\\longleftarrow",!0);F(q,ae,Fe,"","\\Leftarrow",!0);F(q,ae,Fe,"","\\Longleftarrow",!0);F(q,ae,Fe,"","\\longrightarrow",!0);F(q,ae,Fe,"","\\Rightarrow",!0);F(q,ae,Fe,"","\\Longrightarrow",!0);F(q,ae,Fe,"","\\leftrightarrow",!0);F(q,ae,Fe,"","\\longleftrightarrow",!0);F(q,ae,Fe,"","\\Leftrightarrow",!0);F(q,ae,Fe,"","\\Longleftrightarrow",!0);F(q,ae,Fe,"","\\mapsto",!0);F(q,ae,Fe,"","\\longmapsto",!0);F(q,ae,Fe,"","\\nearrow",!0);F(q,ae,Fe,"","\\hookleftarrow",!0);F(q,ae,Fe,"","\\hookrightarrow",!0);F(q,ae,Fe,"","\\searrow",!0);F(q,ae,Fe,"","\\leftharpoonup",!0);F(q,ae,Fe,"","\\rightharpoonup",!0);F(q,ae,Fe,"","\\swarrow",!0);F(q,ae,Fe,"","\\leftharpoondown",!0);F(q,ae,Fe,"","\\rightharpoondown",!0);F(q,ae,Fe,"","\\nwarrow",!0);F(q,ae,Fe,"","\\rightleftharpoons",!0);F(q,Oe,Fe,"","\\nless",!0);F(q,Oe,Fe,"","\\@nleqslant");F(q,Oe,Fe,"","\\@nleqq");F(q,Oe,Fe,"","\\lneq",!0);F(q,Oe,Fe,"","\\lneqq",!0);F(q,Oe,Fe,"","\\@lvertneqq");F(q,Oe,Fe,"","\\lnsim",!0);F(q,Oe,Fe,"","\\lnapprox",!0);F(q,Oe,Fe,"","\\nprec",!0);F(q,Oe,Fe,"","\\npreceq",!0);F(q,Oe,Fe,"","\\precnsim",!0);F(q,Oe,Fe,"","\\precnapprox",!0);F(q,Oe,Fe,"","\\nsim",!0);F(q,Oe,Fe,"","\\@nshortmid");F(q,Oe,Fe,"","\\nmid",!0);F(q,Oe,Fe,"","\\nvdash",!0);F(q,Oe,Fe,"","\\nvDash",!0);F(q,Oe,Fe,"","\\ntriangleleft");F(q,Oe,Fe,"","\\ntrianglelefteq",!0);F(q,Oe,Fe,"","\\subsetneq",!0);F(q,Oe,Fe,"","\\@varsubsetneq");F(q,Oe,Fe,"","\\subsetneqq",!0);F(q,Oe,Fe,"","\\@varsubsetneqq");F(q,Oe,Fe,"","\\ngtr",!0);F(q,Oe,Fe,"","\\@ngeqslant");F(q,Oe,Fe,"","\\@ngeqq");F(q,Oe,Fe,"","\\gneq",!0);F(q,Oe,Fe,"","\\gneqq",!0);F(q,Oe,Fe,"","\\@gvertneqq");F(q,Oe,Fe,"","\\gnsim",!0);F(q,Oe,Fe,"","\\gnapprox",!0);F(q,Oe,Fe,"","\\nsucc",!0);F(q,Oe,Fe,"","\\nsucceq",!0);F(q,Oe,Fe,"","\\succnsim",!0);F(q,Oe,Fe,"","\\succnapprox",!0);F(q,Oe,Fe,"","\\ncong",!0);F(q,Oe,Fe,"","\\@nshortparallel");F(q,Oe,Fe,"","\\nparallel",!0);F(q,Oe,Fe,"","\\nVDash",!0);F(q,Oe,Fe,"","\\ntriangleright");F(q,Oe,Fe,"","\\ntrianglerighteq",!0);F(q,Oe,Fe,"","\\@nsupseteqq");F(q,Oe,Fe,"","\\supsetneq",!0);F(q,Oe,Fe,"","\\@varsupsetneq");F(q,Oe,Fe,"","\\supsetneqq",!0);F(q,Oe,Fe,"","\\@varsupsetneqq");F(q,Oe,Fe,"","\\nVdash",!0);F(q,Oe,Fe,"","\\precneqq",!0);F(q,Oe,Fe,"","\\succneqq",!0);F(q,Oe,Fe,"","\\@nsubseteqq");F(q,Oe,Rn,"","\\unlhd");F(q,Oe,Rn,"","\\unrhd");F(q,Oe,Fe,"","\\nleftarrow",!0);F(q,Oe,Fe,"","\\nrightarrow",!0);F(q,Oe,Fe,"","\\nLeftarrow",!0);F(q,Oe,Fe,"","\\nRightarrow",!0);F(q,Oe,Fe,"","\\nleftrightarrow",!0);F(q,Oe,Fe,"","\\nLeftrightarrow",!0);F(q,Oe,Fe,"","\\vartriangle");F(q,Oe,nt,"","\\hslash");F(q,Oe,nt,"","\\triangledown");F(q,Oe,nt,"","\\lozenge");F(q,Oe,nt,"","\\circledS");F(q,Oe,nt,"","\\circledR");F(rn,Oe,nt,"","\\circledR");F(q,Oe,nt,"","\\measuredangle",!0);F(q,Oe,nt,"","\\nexists");F(q,Oe,nt,"","\\mho");F(q,Oe,nt,"","\\Finv",!0);F(q,Oe,nt,"","\\Game",!0);F(q,Oe,nt,"","\\backprime");F(q,Oe,nt,"","\\blacktriangle");F(q,Oe,nt,"","\\blacktriangledown");F(q,Oe,nt,"","\\blacksquare");F(q,Oe,nt,"","\\blacklozenge");F(q,Oe,nt,"","\\bigstar");F(q,Oe,nt,"","\\sphericalangle",!0);F(q,Oe,nt,"","\\complement",!0);F(q,Oe,nt,"","\\eth",!0);F(rn,ae,nt,"","");F(q,Oe,nt,"","\\diagup");F(q,Oe,nt,"","\\diagdown");F(q,Oe,nt,"","\\square");F(q,Oe,nt,"","\\Box");F(q,Oe,nt,"","\\Diamond");F(q,Oe,nt,"","\\yen",!0);F(rn,Oe,nt,"","\\yen",!0);F(q,Oe,nt,"","\\checkmark",!0);F(rn,Oe,nt,"","\\checkmark");F(q,Oe,nt,"","\\beth",!0);F(q,Oe,nt,"","\\daleth",!0);F(q,Oe,nt,"","\\gimel",!0);F(q,Oe,nt,"","\\digamma",!0);F(q,Oe,nt,"","\\varkappa");F(q,Oe,G0,"","\\@ulcorner",!0);F(q,Oe,e0,"","\\@urcorner",!0);F(q,Oe,G0,"","\\@llcorner",!0);F(q,Oe,e0,"","\\@lrcorner",!0);F(q,Oe,Fe,"","\\leqq",!0);F(q,Oe,Fe,"","\\leqslant",!0);F(q,Oe,Fe,"","\\eqslantless",!0);F(q,Oe,Fe,"","\\lesssim",!0);F(q,Oe,Fe,"","\\lessapprox",!0);F(q,Oe,Fe,"","\\approxeq",!0);F(q,Oe,Rn,"","\\lessdot");F(q,Oe,Fe,"","\\lll",!0);F(q,Oe,Fe,"","\\lessgtr",!0);F(q,Oe,Fe,"","\\lesseqgtr",!0);F(q,Oe,Fe,"","\\lesseqqgtr",!0);F(q,Oe,Fe,"","\\doteqdot");F(q,Oe,Fe,"","\\risingdotseq",!0);F(q,Oe,Fe,"","\\fallingdotseq",!0);F(q,Oe,Fe,"","\\backsim",!0);F(q,Oe,Fe,"","\\backsimeq",!0);F(q,Oe,Fe,"","\\subseteqq",!0);F(q,Oe,Fe,"","\\Subset",!0);F(q,Oe,Fe,"","\\sqsubset",!0);F(q,Oe,Fe,"","\\preccurlyeq",!0);F(q,Oe,Fe,"","\\curlyeqprec",!0);F(q,Oe,Fe,"","\\precsim",!0);F(q,Oe,Fe,"","\\precapprox",!0);F(q,Oe,Fe,"","\\vartriangleleft");F(q,Oe,Fe,"","\\trianglelefteq");F(q,Oe,Fe,"","\\vDash",!0);F(q,Oe,Fe,"","\\Vvdash",!0);F(q,Oe,Fe,"","\\smallsmile");F(q,Oe,Fe,"","\\smallfrown");F(q,Oe,Fe,"","\\bumpeq",!0);F(q,Oe,Fe,"","\\Bumpeq",!0);F(q,Oe,Fe,"","\\geqq",!0);F(q,Oe,Fe,"","\\geqslant",!0);F(q,Oe,Fe,"","\\eqslantgtr",!0);F(q,Oe,Fe,"","\\gtrsim",!0);F(q,Oe,Fe,"","\\gtrapprox",!0);F(q,Oe,Rn,"","\\gtrdot");F(q,Oe,Fe,"","\\ggg",!0);F(q,Oe,Fe,"","\\gtrless",!0);F(q,Oe,Fe,"","\\gtreqless",!0);F(q,Oe,Fe,"","\\gtreqqless",!0);F(q,Oe,Fe,"","\\eqcirc",!0);F(q,Oe,Fe,"","\\circeq",!0);F(q,Oe,Fe,"","\\triangleq",!0);F(q,Oe,Fe,"","\\thicksim");F(q,Oe,Fe,"","\\thickapprox");F(q,Oe,Fe,"","\\supseteqq",!0);F(q,Oe,Fe,"","\\Supset",!0);F(q,Oe,Fe,"","\\sqsupset",!0);F(q,Oe,Fe,"","\\succcurlyeq",!0);F(q,Oe,Fe,"","\\curlyeqsucc",!0);F(q,Oe,Fe,"","\\succsim",!0);F(q,Oe,Fe,"","\\succapprox",!0);F(q,Oe,Fe,"","\\vartriangleright");F(q,Oe,Fe,"","\\trianglerighteq");F(q,Oe,Fe,"","\\Vdash",!0);F(q,Oe,Fe,"","\\shortmid");F(q,Oe,Fe,"","\\shortparallel");F(q,Oe,Fe,"","\\between",!0);F(q,Oe,Fe,"","\\pitchfork",!0);F(q,Oe,Fe,"","\\varpropto");F(q,Oe,Fe,"","\\blacktriangleleft");F(q,Oe,Fe,"","\\therefore",!0);F(q,Oe,Fe,"","\\backepsilon");F(q,Oe,Fe,"","\\blacktriangleright");F(q,Oe,Fe,"","\\because",!0);F(q,Oe,Fe,"","\\llless");F(q,Oe,Fe,"","\\gggtr");F(q,Oe,Rn,"","\\lhd");F(q,Oe,Rn,"","\\rhd");F(q,Oe,Fe,"","\\eqsim",!0);F(q,ae,Fe,"","\\Join");F(q,Oe,Fe,"","\\Doteq",!0);F(q,Oe,Rn,"","\\dotplus",!0);F(q,Oe,Rn,"","\\smallsetminus");F(q,Oe,Rn,"","\\Cap",!0);F(q,Oe,Rn,"","\\Cup",!0);F(q,Oe,Rn,"","\\doublebarwedge",!0);F(q,Oe,Rn,"","\\boxminus",!0);F(q,Oe,Rn,"","\\boxplus",!0);F(q,Oe,Rn,"","\\divideontimes",!0);F(q,Oe,Rn,"","\\ltimes",!0);F(q,Oe,Rn,"","\\rtimes",!0);F(q,Oe,Rn,"","\\leftthreetimes",!0);F(q,Oe,Rn,"","\\rightthreetimes",!0);F(q,Oe,Rn,"","\\curlywedge",!0);F(q,Oe,Rn,"","\\curlyvee",!0);F(q,Oe,Rn,"","\\circleddash",!0);F(q,Oe,Rn,"","\\circledast",!0);F(q,Oe,Rn,"","\\centerdot");F(q,Oe,Rn,"","\\intercal",!0);F(q,Oe,Rn,"","\\doublecap");F(q,Oe,Rn,"","\\doublecup");F(q,Oe,Rn,"","\\boxtimes",!0);F(q,Oe,Fe,"","\\dashrightarrow",!0);F(q,Oe,Fe,"","\\dashleftarrow",!0);F(q,Oe,Fe,"","\\leftleftarrows",!0);F(q,Oe,Fe,"","\\leftrightarrows",!0);F(q,Oe,Fe,"","\\Lleftarrow",!0);F(q,Oe,Fe,"","\\twoheadleftarrow",!0);F(q,Oe,Fe,"","\\leftarrowtail",!0);F(q,Oe,Fe,"","\\looparrowleft",!0);F(q,Oe,Fe,"","\\leftrightharpoons",!0);F(q,Oe,Fe,"","\\curvearrowleft",!0);F(q,Oe,Fe,"","\\circlearrowleft",!0);F(q,Oe,Fe,"","\\Lsh",!0);F(q,Oe,Fe,"","\\upuparrows",!0);F(q,Oe,Fe,"","\\upharpoonleft",!0);F(q,Oe,Fe,"","\\downharpoonleft",!0);F(q,ae,Fe,"","\\origof",!0);F(q,ae,Fe,"","\\imageof",!0);F(q,Oe,Fe,"","\\multimap",!0);F(q,Oe,Fe,"","\\leftrightsquigarrow",!0);F(q,Oe,Fe,"","\\rightrightarrows",!0);F(q,Oe,Fe,"","\\rightleftarrows",!0);F(q,Oe,Fe,"","\\twoheadrightarrow",!0);F(q,Oe,Fe,"","\\rightarrowtail",!0);F(q,Oe,Fe,"","\\looparrowright",!0);F(q,Oe,Fe,"","\\curvearrowright",!0);F(q,Oe,Fe,"","\\circlearrowright",!0);F(q,Oe,Fe,"","\\Rsh",!0);F(q,Oe,Fe,"","\\downdownarrows",!0);F(q,Oe,Fe,"","\\upharpoonright",!0);F(q,Oe,Fe,"","\\downharpoonright",!0);F(q,Oe,Fe,"","\\rightsquigarrow",!0);F(q,Oe,Fe,"","\\leadsto");F(q,Oe,Fe,"","\\Rrightarrow",!0);F(q,Oe,Fe,"","\\restriction");F(q,ae,nt,"","`");F(q,ae,nt,"$","\\$");F(rn,ae,nt,"$","\\$");F(rn,ae,nt,"$","\\textdollar");F(q,ae,nt,"%","\\%");F(rn,ae,nt,"%","\\%");F(q,ae,nt,"_","\\_");F(rn,ae,nt,"_","\\_");F(rn,ae,nt,"_","\\textunderscore");F(q,ae,nt,"","\\angle",!0);F(q,ae,nt,"","\\infty",!0);F(q,ae,nt,"","\\prime");F(q,ae,nt,"","\\triangle");F(q,ae,nt,"","\\Gamma",!0);F(q,ae,nt,"","\\Delta",!0);F(q,ae,nt,"","\\Theta",!0);F(q,ae,nt,"","\\Lambda",!0);F(q,ae,nt,"","\\Xi",!0);F(q,ae,nt,"","\\Pi",!0);F(q,ae,nt,"","\\Sigma",!0);F(q,ae,nt,"","\\Upsilon",!0);F(q,ae,nt,"","\\Phi",!0);F(q,ae,nt,"","\\Psi",!0);F(q,ae,nt,"","\\Omega",!0);F(q,ae,nt,"A","");F(q,ae,nt,"B","");F(q,ae,nt,"E","");F(q,ae,nt,"Z","");F(q,ae,nt,"H","");F(q,ae,nt,"I","");F(q,ae,nt,"K","");F(q,ae,nt,"M","");F(q,ae,nt,"N","");F(q,ae,nt,"O","");F(q,ae,nt,"P","");F(q,ae,nt,"T","");F(q,ae,nt,"X","");F(q,ae,nt,"","\\neg",!0);F(q,ae,nt,"","\\lnot");F(q,ae,nt,"","\\top");F(q,ae,nt,"","\\bot");F(q,ae,nt,"","\\emptyset");F(q,Oe,nt,"","\\varnothing");F(q,ae,ar,"","\\alpha",!0);F(q,ae,ar,"","\\beta",!0);F(q,ae,ar,"","\\gamma",!0);F(q,ae,ar,"","\\delta",!0);F(q,ae,ar,"","\\epsilon",!0);F(q,ae,ar,"","\\zeta",!0);F(q,ae,ar,"","\\eta",!0);F(q,ae,ar,"","\\theta",!0);F(q,ae,ar,"","\\iota",!0);F(q,ae,ar,"","\\kappa",!0);F(q,ae,ar,"","\\lambda",!0);F(q,ae,ar,"","\\mu",!0);F(q,ae,ar,"","\\nu",!0);F(q,ae,ar,"","\\xi",!0);F(q,ae,ar,"","\\omicron",!0);F(q,ae,ar,"","\\pi",!0);F(q,ae,ar,"","\\rho",!0);F(q,ae,ar,"","\\sigma",!0);F(q,ae,ar,"","\\tau",!0);F(q,ae,ar,"","\\upsilon",!0);F(q,ae,ar,"","\\phi",!0);F(q,ae,ar,"","\\chi",!0);F(q,ae,ar,"","\\psi",!0);F(q,ae,ar,"","\\omega",!0);F(q,ae,ar,"","\\varepsilon",!0);F(q,ae,ar,"","\\vartheta",!0);F(q,ae,ar,"","\\varpi",!0);F(q,ae,ar,"","\\varrho",!0);F(q,ae,ar,"","\\varsigma",!0);F(q,ae,ar,"","\\varphi",!0);F(q,ae,Rn,"","*",!0);F(q,ae,Rn,"+","+");F(q,ae,Rn,"","-",!0);F(q,ae,Rn,"","\\cdot",!0);F(q,ae,Rn,"","\\circ",!0);F(q,ae,Rn,"","\\div",!0);F(q,ae,Rn,"","\\pm",!0);F(q,ae,Rn,"","\\times",!0);F(q,ae,Rn,"","\\cap",!0);F(q,ae,Rn,"","\\cup",!0);F(q,ae,Rn,"","\\setminus",!0);F(q,ae,Rn,"","\\land");F(q,ae,Rn,"","\\lor");F(q,ae,Rn,"","\\wedge",!0);F(q,ae,Rn,"","\\vee",!0);F(q,ae,nt,"","\\surd");F(q,ae,G0,"","\\langle",!0);F(q,ae,G0,"","\\lvert");F(q,ae,G0,"","\\lVert");F(q,ae,e0,"?","?");F(q,ae,e0,"!","!");F(q,ae,e0,"","\\rangle",!0);F(q,ae,e0,"","\\rvert");F(q,ae,e0,"","\\rVert");F(q,ae,Fe,"=","=");F(q,ae,Fe,":",":");F(q,ae,Fe,"","\\approx",!0);F(q,ae,Fe,"","\\cong",!0);F(q,ae,Fe,"","\\ge");F(q,ae,Fe,"","\\geq",!0);F(q,ae,Fe,"","\\gets");F(q,ae,Fe,">","\\gt",!0);F(q,ae,Fe,"","\\in",!0);F(q,ae,Fe,"","\\@not");F(q,ae,Fe,"","\\subset",!0);F(q,ae,Fe,"","\\supset",!0);F(q,ae,Fe,"","\\subseteq",!0);F(q,ae,Fe,"","\\supseteq",!0);F(q,Oe,Fe,"","\\nsubseteq",!0);F(q,Oe,Fe,"","\\nsupseteq",!0);F(q,ae,Fe,"","\\models");F(q,ae,Fe,"","\\leftarrow",!0);F(q,ae,Fe,"","\\le");F(q,ae,Fe,"","\\leq",!0);F(q,ae,Fe,"<","\\lt",!0);F(q,ae,Fe,"","\\rightarrow",!0);F(q,ae,Fe,"","\\to");F(q,Oe,Fe,"","\\ngeq",!0);F(q,Oe,Fe,"","\\nleq",!0);F(q,ae,qc,"","\\ ");F(q,ae,qc,"","\\space");F(q,ae,qc,"","\\nobreakspace");F(rn,ae,qc,"","\\ ");F(rn,ae,qc,""," ");F(rn,ae,qc,"","\\space");F(rn,ae,qc,"","\\nobreakspace");F(q,ae,qc,null,"\\nobreak");F(q,ae,qc,null,"\\allowbreak");F(q,ae,z5,",",",");F(q,ae,z5,";",";");F(q,Oe,Rn,"","\\barwedge",!0);F(q,Oe,Rn,"","\\veebar",!0);F(q,ae,Rn,"","\\odot",!0);F(q,ae,Rn,"","\\oplus",!0);F(q,ae,Rn,"","\\otimes",!0);F(q,ae,nt,"","\\partial",!0);F(q,ae,Rn,"","\\oslash",!0);F(q,Oe,Rn,"","\\circledcirc",!0);F(q,Oe,Rn,"","\\boxdot",!0);F(q,ae,Rn,"","\\bigtriangleup");F(q,ae,Rn,"","\\bigtriangledown");F(q,ae,Rn,"","\\dagger");F(q,ae,Rn,"","\\diamond");F(q,ae,Rn,"","\\star");F(q,ae,Rn,"","\\triangleleft");F(q,ae,Rn,"","\\triangleright");F(q,ae,G0,"{","\\{");F(rn,ae,nt,"{","\\{");F(rn,ae,nt,"{","\\textbraceleft");F(q,ae,e0,"}","\\}");F(rn,ae,nt,"}","\\}");F(rn,ae,nt,"}","\\textbraceright");F(q,ae,G0,"{","\\lbrace");F(q,ae,e0,"}","\\rbrace");F(q,ae,G0,"[","\\lbrack",!0);F(rn,ae,nt,"[","\\lbrack",!0);F(q,ae,e0,"]","\\rbrack",!0);F(rn,ae,nt,"]","\\rbrack",!0);F(q,ae,G0,"(","\\lparen",!0);F(q,ae,e0,")","\\rparen",!0);F(rn,ae,nt,"<","\\textless",!0);F(rn,ae,nt,">","\\textgreater",!0);F(q,ae,G0,"","\\lfloor",!0);F(q,ae,e0,"","\\rfloor",!0);F(q,ae,G0,"","\\lceil",!0);F(q,ae,e0,"","\\rceil",!0);F(q,ae,nt,"\\","\\backslash");F(q,ae,nt,"","|");F(q,ae,nt,"","\\vert");F(rn,ae,nt,"|","\\textbar",!0);F(q,ae,nt,"","\\|");F(q,ae,nt,"","\\Vert");F(rn,ae,nt,"","\\textbardbl");F(rn,ae,nt,"~","\\textasciitilde");F(rn,ae,nt,"\\","\\textbackslash");F(rn,ae,nt,"^","\\textasciicircum");F(q,ae,Fe,"","\\uparrow",!0);F(q,ae,Fe,"","\\Uparrow",!0);F(q,ae,Fe,"","\\downarrow",!0);F(q,ae,Fe,"","\\Downarrow",!0);F(q,ae,Fe,"","\\updownarrow",!0);F(q,ae,Fe,"","\\Updownarrow",!0);F(q,ae,Oo,"","\\coprod");F(q,ae,Oo,"","\\bigvee");F(q,ae,Oo,"","\\bigwedge");F(q,ae,Oo,"","\\biguplus");F(q,ae,Oo,"","\\bigcap");F(q,ae,Oo,"","\\bigcup");F(q,ae,Oo,"","\\int");F(q,ae,Oo,"","\\intop");F(q,ae,Oo,"","\\iint");F(q,ae,Oo,"","\\iiint");F(q,ae,Oo,"","\\prod");F(q,ae,Oo,"","\\sum");F(q,ae,Oo,"","\\bigotimes");F(q,ae,Oo,"","\\bigoplus");F(q,ae,Oo,"","\\bigodot");F(q,ae,Oo,"","\\oint");F(q,ae,Oo,"","\\oiint");F(q,ae,Oo,"","\\oiiint");F(q,ae,Oo,"","\\bigsqcup");F(q,ae,Oo,"","\\smallint");F(rn,ae,C4,"","\\textellipsis");F(q,ae,C4,"","\\mathellipsis");F(rn,ae,C4,"","\\ldots",!0);F(q,ae,C4,"","\\ldots",!0);F(q,ae,C4,"","\\@cdots",!0);F(q,ae,C4,"","\\ddots",!0);F(q,ae,nt,"","\\varvdots");F(rn,ae,nt,"","\\varvdots");F(q,ae,Xs,"","\\acute");F(q,ae,Xs,"","\\grave");F(q,ae,Xs,"","\\ddot");F(q,ae,Xs,"~","\\tilde");F(q,ae,Xs,"","\\bar");F(q,ae,Xs,"","\\breve");F(q,ae,Xs,"","\\check");F(q,ae,Xs,"^","\\hat");F(q,ae,Xs,"","\\vec");F(q,ae,Xs,"","\\dot");F(q,ae,Xs,"","\\mathring");F(q,ae,ar,"","\\@imath");F(q,ae,ar,"","\\@jmath");F(q,ae,nt,"","");F(q,ae,nt,"","");F(rn,ae,nt,"","\\i",!0);F(rn,ae,nt,"","\\j",!0);F(rn,ae,nt,"","\\ss",!0);F(rn,ae,nt,"","\\ae",!0);F(rn,ae,nt,"","\\oe",!0);F(rn,ae,nt,"","\\o",!0);F(rn,ae,nt,"","\\AE",!0);F(rn,ae,nt,"","\\OE",!0);F(rn,ae,nt,"","\\O",!0);F(rn,ae,Xs,"","\\'");F(rn,ae,Xs,"","\\`");F(rn,ae,Xs,"","\\^");F(rn,ae,Xs,"","\\~");F(rn,ae,Xs,"","\\=");F(rn,ae,Xs,"","\\u");F(rn,ae,Xs,"","\\.");F(rn,ae,Xs,"","\\c");F(rn,ae,Xs,"","\\r");F(rn,ae,Xs,"","\\v");F(rn,ae,Xs,"",'\\"');F(rn,ae,Xs,"","\\H");F(rn,ae,Xs,"","\\textcircled");var V9={"--":!0,"---":!0,"``":!0,"''":!0};F(rn,ae,nt,"","--",!0);F(rn,ae,nt,"","\\textendash");F(rn,ae,nt,"","---",!0);F(rn,ae,nt,"","\\textemdash");F(rn,ae,nt,"","`",!0);F(rn,ae,nt,"","\\textquoteleft");F(rn,ae,nt,"","'",!0);F(rn,ae,nt,"","\\textquoteright");F(rn,ae,nt,"","``",!0);F(rn,ae,nt,"","\\textquotedblleft");F(rn,ae,nt,"","''",!0);F(rn,ae,nt,"","\\textquotedblright");F(q,ae,nt,"","\\degree",!0);F(rn,ae,nt,"","\\degree");F(rn,ae,nt,"","\\textdegree",!0);F(q,ae,nt,"","\\pounds");F(q,ae,nt,"","\\mathsterling",!0);F(rn,ae,nt,"","\\pounds");F(rn,ae,nt,"","\\textsterling",!0);F(q,Oe,nt,"","\\maltese");F(rn,Oe,nt,"","\\maltese");var tm='0123456789/@."';for(var Z6=0;Z6<tm.length;Z6++){var nm=tm.charAt(Z6);F(q,ae,nt,nm,nm)}var rm='0123456789!@*()-=+";:?/.,';for(var Q6=0;Q6<rm.length;Q6++){var im=rm.charAt(Q6);F(rn,ae,nt,im,im)}var C5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var ef=0;ef<C5.length;ef++){var i5=C5.charAt(ef);F(q,ae,ar,i5,i5),F(rn,ae,nt,i5,i5)}F(q,Oe,nt,"C","");F(rn,Oe,nt,"C","");F(q,Oe,nt,"H","");F(rn,Oe,nt,"H","");F(q,Oe,nt,"N","");F(rn,Oe,nt,"N","");F(q,Oe,nt,"P","");F(rn,Oe,nt,"P","");F(q,Oe,nt,"Q","");F(rn,Oe,nt,"Q","");F(q,Oe,nt,"R","");F(rn,Oe,nt,"R","");F(q,Oe,nt,"Z","");F(rn,Oe,nt,"Z","");F(q,ae,ar,"h","");F(rn,ae,ar,"h","");var br="";for(var Jl=0;Jl<C5.length;Jl++){var co=C5.charAt(Jl);br=String.fromCharCode(55349,56320+Jl),F(q,ae,ar,co,br),F(rn,ae,nt,co,br),br=String.fromCharCode(55349,56372+Jl),F(q,ae,ar,co,br),F(rn,ae,nt,co,br),br=String.fromCharCode(55349,56424+Jl),F(q,ae,ar,co,br),F(rn,ae,nt,co,br),br=String.fromCharCode(55349,56580+Jl),F(q,ae,ar,co,br),F(rn,ae,nt,co,br),br=String.fromCharCode(55349,56684+Jl),F(q,ae,ar,co,br),F(rn,ae,nt,co,br),br=String.fromCharCode(55349,56736+Jl),F(q,ae,ar,co,br),F(rn,ae,nt,co,br),br=String.fromCharCode(55349,56788+Jl),F(q,ae,ar,co,br),F(rn,ae,nt,co,br),br=String.fromCharCode(55349,56840+Jl),F(q,ae,ar,co,br),F(rn,ae,nt,co,br),br=String.fromCharCode(55349,56944+Jl),F(q,ae,ar,co,br),F(rn,ae,nt,co,br),Jl<26&&(br=String.fromCharCode(55349,56632+Jl),F(q,ae,ar,co,br),F(rn,ae,nt,co,br),br=String.fromCharCode(55349,56476+Jl),F(q,ae,ar,co,br),F(rn,ae,nt,co,br))}br="";F(q,ae,ar,"k",br);F(rn,ae,nt,"k",br);for(var jh=0;jh<10;jh++){var J1=jh.toString();br=String.fromCharCode(55349,57294+jh),F(q,ae,ar,J1,br),F(rn,ae,nt,J1,br),br=String.fromCharCode(55349,57314+jh),F(q,ae,ar,J1,br),F(rn,ae,nt,J1,br),br=String.fromCharCode(55349,57324+jh),F(q,ae,ar,J1,br),F(rn,ae,nt,J1,br),br=String.fromCharCode(55349,57334+jh),F(q,ae,ar,J1,br),F(rn,ae,nt,J1,br)}var Mf="";for(var tf=0;tf<Mf.length;tf++){var s5=Mf.charAt(tf);F(q,ae,ar,s5,s5),F(rn,ae,nt,s5,s5)}var o5=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],sm=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],KE=function(o,n){var a=o.charCodeAt(0),h=o.charCodeAt(1),p=(a-55296)*1024+(h-56320)+65536,$=n==="math"?0:1;if(119808<=p&&p<120484){var _=Math.floor((p-119808)/26);return[o5[_][2],o5[_][$]]}else if(120782<=p&&p<=120831){var T=Math.floor((p-120782)/10);return[sm[T][2],sm[T][$]]}else{if(p===120485||p===120486)return[o5[0][2],o5[0][$]];if(120486<p&&p<120782)return["",""];throw new un("Unsupported character: "+o)}},U5=function(o,n,a){return Ms[a][o]&&Ms[a][o].replace&&(o=Ms[a][o].replace),{value:o,metrics:s7(o,n,a)}},nu=function(o,n,a,h,p){var $=U5(o,n,a),_=$.metrics;o=$.value;var T;if(_){var E=_.italic;(a==="text"||h&&h.font==="mathit")&&(E=0),T=new Ea(o,_.height,_.depth,E,_.skew,_.width,p)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+o+"' in style '"+n+"' and mode '"+a+"'")),T=new Ea(o,0,0,0,0,0,p);if(h){T.maxFontSize=h.sizeMultiplier,h.style.isTight()&&T.classes.push("mtight");var w=h.getColor();w&&(T.style.color=w)}return T},JE=function(o,n,a,h){return h===void 0&&(h=[]),a.font==="boldsymbol"&&U5(o,"Main-Bold",n).metrics?nu(o,"Main-Bold",n,a,h.concat(["mathbf"])):o==="\\"||Ms[n][o].font==="main"?nu(o,"Main-Regular",n,a,h):nu(o,"AMS-Regular",n,a,h.concat(["amsrm"]))},ZE=function(o,n,a,h,p){return p!=="textord"&&U5(o,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},QE=function(o,n,a){var h=o.mode,p=o.text,$=["mord"],_=h==="math"||h==="text"&&n.font,T=_?n.font:n.fontFamily,E="",w="";if(p.charCodeAt(0)===55349&&([E,w]=KE(p,h)),E.length>0)return nu(p,E,h,n,$.concat(w));if(T){var A,z;if(T==="boldsymbol"){var B=ZE(p,h,n,$,a);A=B.fontName,z=[B.fontClass]}else _?(A=X9[T].fontName,z=[T]):(A=l5(T,n.fontWeight,n.fontShape),z=[T,n.fontWeight,n.fontShape]);if(U5(p,A,h).metrics)return nu(p,A,h,n,$.concat(z));if(V9.hasOwnProperty(p)&&A.slice(0,10)==="Typewriter"){for(var Z=[],ce=0;ce<p.length;ce++)Z.push(nu(p[ce],A,h,n,$.concat(z)));return q9(Z)}}if(a==="mathord")return nu(p,"Math-Italic",h,n,$.concat(["mathnormal"]));if(a==="textord"){var oe=Ms[h][p]&&Ms[h][p].font;if(oe==="ams"){var j=l5("amsrm",n.fontWeight,n.fontShape);return nu(p,j,h,n,$.concat("amsrm",n.fontWeight,n.fontShape))}else if(oe==="main"||!oe){var ie=l5("textrm",n.fontWeight,n.fontShape);return nu(p,ie,h,n,$.concat(n.fontWeight,n.fontShape))}else{var be=l5(oe,n.fontWeight,n.fontShape);return nu(p,be,h,n,$.concat(be,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+a+" in makeOrd")},ew=(r,o)=>{if(Q1(r.classes)!==Q1(o.classes)||r.skew!==o.skew||r.maxFontSize!==o.maxFontSize)return!1;if(r.classes.length===1){var n=r.classes[0];if(n==="mbin"||n==="mord")return!1}for(var a in r.style)if(r.style.hasOwnProperty(a)&&r.style[a]!==o.style[a])return!1;for(var h in o.style)if(o.style.hasOwnProperty(h)&&r.style[h]!==o.style[h])return!1;return!0},tw=r=>{for(var o=0;o<r.length-1;o++){var n=r[o],a=r[o+1];n instanceof Ea&&a instanceof Ea&&ew(n,a)&&(n.text+=a.text,n.height=Math.max(n.height,a.height),n.depth=Math.max(n.depth,a.depth),n.italic=a.italic,r.splice(o+1,1),o--)}return r},l7=function(o){for(var n=0,a=0,h=0,p=0;p<o.children.length;p++){var $=o.children[p];$.height>n&&(n=$.height),$.depth>a&&(a=$.depth),$.maxFontSize>h&&(h=$.maxFontSize)}o.height=n,o.depth=a,o.maxFontSize=h},d0=function(o,n,a,h){var p=new g3(o,n,a,h);return l7(p),p},W9=(r,o,n,a)=>new g3(r,o,n,a),nw=function(o,n,a){var h=d0([o],[],n);return h.height=Math.max(a||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),h.style.borderBottomWidth=mn(h.height),h.maxFontSize=1,h},rw=function(o,n,a,h){var p=new o7(o,n,a,h);return l7(p),p},q9=function(o){var n=new m3(o);return l7(n),n},iw=function(o,n){return o instanceof m3?d0([],[o],n):o},sw=function(o){if(o.positionType==="individualShift"){for(var n=o.children,a=[n[0]],h=-n[0].shift-n[0].elem.depth,p=h,$=1;$<n.length;$++){var _=-n[$].shift-p-n[$].elem.depth,T=_-(n[$-1].elem.height+n[$-1].elem.depth);p=p+_,a.push({type:"kern",size:T}),a.push(n[$])}return{children:a,depth:h}}var E;if(o.positionType==="top"){for(var w=o.positionData,A=0;A<o.children.length;A++){var z=o.children[A];w-=z.type==="kern"?z.size:z.elem.height+z.elem.depth}E=w}else if(o.positionType==="bottom")E=-o.positionData;else{var B=o.children[0];if(B.type!=="elem")throw new Error('First child must have type "elem".');if(o.positionType==="shift")E=-B.elem.depth-o.positionData;else if(o.positionType==="firstBaseline")E=-B.elem.depth;else throw new Error("Invalid positionType "+o.positionType+".")}return{children:o.children,depth:E}},ow=function(o,n){for(var{children:a,depth:h}=sw(o),p=0,$=0;$<a.length;$++){var _=a[$];if(_.type==="elem"){var T=_.elem;p=Math.max(p,T.maxFontSize,T.height)}}p+=2;var E=d0(["pstrut"],[]);E.style.height=mn(p);for(var w=[],A=h,z=h,B=h,Z=0;Z<a.length;Z++){var ce=a[Z];if(ce.type==="kern")B+=ce.size;else{var oe=ce.elem,j=ce.wrapperClasses||[],ie=ce.wrapperStyle||{},be=d0(j,[E,oe],void 0,ie);be.style.top=mn(-p-B-oe.depth),ce.marginLeft&&(be.style.marginLeft=ce.marginLeft),ce.marginRight&&(be.style.marginRight=ce.marginRight),w.push(be),B+=oe.height+oe.depth}A=Math.min(A,B),z=Math.max(z,B)}var Ie=d0(["vlist"],w);Ie.style.height=mn(z);var Ge;if(A<0){var Te=d0([],[]),We=d0(["vlist"],[Te]);We.style.height=mn(-A);var lt=d0(["vlist-s"],[new Ea("")]);Ge=[d0(["vlist-r"],[Ie,lt]),d0(["vlist-r"],[We])]}else Ge=[d0(["vlist-r"],[Ie])];var Je=d0(["vlist-t"],Ge);return Ge.length===2&&Je.classes.push("vlist-t2"),Je.height=z,Je.depth=-A,Je},lw=(r,o)=>{var n=d0(["mspace"],[],o),a=no(r,o);return n.style.marginRight=mn(a),n},l5=function(o,n,a){var h="";switch(o){case"amsrm":h="AMS";break;case"textrm":h="Main";break;case"textsf":h="SansSerif";break;case"texttt":h="Typewriter";break;default:h=o}var p;return n==="textbf"&&a==="textit"?p="BoldItalic":n==="textbf"?p="Bold":n==="textit"?p="Italic":p="Regular",h+"-"+p},X9={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},j9={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},aw=function(o,n){var[a,h,p]=j9[o],$=new eh(a),_=new Gc([$],{width:mn(h),height:mn(p),style:"width:"+mn(h),viewBox:"0 0 "+1e3*h+" "+1e3*p,preserveAspectRatio:"xMinYMin"}),T=W9(["overlay"],[_],n);return T.height=p,T.style.height=mn(p),T.style.width=mn(h),T},Et={fontMap:X9,makeSymbol:nu,mathsym:JE,makeSpan:d0,makeSvgSpan:W9,makeLineSpan:nw,makeAnchor:rw,makeFragment:q9,wrapFragment:iw,makeVList:ow,makeOrd:QE,makeGlue:lw,staticSvg:aw,svgData:j9,tryCombineChars:tw},to={number:3,unit:"mu"},Yh={number:4,unit:"mu"},Fc={number:5,unit:"mu"},uw={mord:{mop:to,mbin:Yh,mrel:Fc,minner:to},mop:{mord:to,mop:to,mrel:Fc,minner:to},mbin:{mord:Yh,mop:Yh,mopen:Yh,minner:Yh},mrel:{mord:Fc,mop:Fc,mopen:Fc,minner:Fc},mopen:{},mclose:{mop:to,mbin:Yh,mrel:Fc,minner:to},mpunct:{mord:to,mop:to,mrel:Fc,mopen:to,mclose:to,mpunct:to,minner:to},minner:{mord:to,mop:to,mbin:Yh,mrel:Fc,mopen:to,mpunct:to,minner:to}},cw={mord:{mop:to},mop:{mord:to,mop:to},mbin:{},mrel:{},mopen:{},mclose:{mop:to},mpunct:{},minner:{mop:to}},Y9={},A5={},I5={};function En(r){for(var{type:o,names:n,props:a,handler:h,htmlBuilder:p,mathmlBuilder:$}=r,_={type:o,numArgs:a.numArgs,argTypes:a.argTypes,allowedInArgument:!!a.allowedInArgument,allowedInText:!!a.allowedInText,allowedInMath:a.allowedInMath===void 0?!0:a.allowedInMath,numOptionalArgs:a.numOptionalArgs||0,infix:!!a.infix,primitive:!!a.primitive,handler:h},T=0;T<n.length;++T)Y9[n[T]]=_;o&&(p&&(A5[o]=p),$&&(I5[o]=$))}function Qh(r){var{type:o,htmlBuilder:n,mathmlBuilder:a}=r;En({type:o,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:a})}var M5=function(o){return o.type==="ordgroup"&&o.body.length===1?o.body[0]:o},yo=function(o){return o.type==="ordgroup"?o.body:[o]},Vc=Et.makeSpan,hw=["leftmost","mbin","mopen","mrel","mop","mpunct"],dw=["rightmost","mrel","mclose","mpunct"],fw={display:ur.DISPLAY,text:ur.TEXT,script:ur.SCRIPT,scriptscript:ur.SCRIPTSCRIPT},pw={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Go=function(o,n,a,h){h===void 0&&(h=[null,null]);for(var p=[],$=0;$<o.length;$++){var _=Pi(o[$],n);if(_ instanceof m3){var T=_.children;p.push(...T)}else p.push(_)}if(Et.tryCombineChars(p),!a)return p;var E=n;if(o.length===1){var w=o[0];w.type==="sizing"?E=n.havingSize(w.size):w.type==="styling"&&(E=n.havingStyle(fw[w.style]))}var A=Vc([h[0]||"leftmost"],[],n),z=Vc([h[1]||"rightmost"],[],n),B=a==="root";return om(p,(Z,ce)=>{var oe=ce.classes[0],j=Z.classes[0];oe==="mbin"&&dw.includes(j)?ce.classes[0]="mord":j==="mbin"&&hw.includes(oe)&&(Z.classes[0]="mord")},{node:A},z,B),om(p,(Z,ce)=>{var oe=Rf(ce),j=Rf(Z),ie=oe&&j?Z.hasClass("mtight")?cw[oe][j]:uw[oe][j]:null;if(ie)return Et.makeGlue(ie,E)},{node:A},z,B),p},om=function r(o,n,a,h,p){h&&o.push(h);for(var $=0;$<o.length;$++){var _=o[$],T=K9(_);if(T){r(T.children,n,a,null,p);continue}var E=!_.hasClass("mspace");if(E){var w=n(_,a.node);w&&(a.insertAfter?a.insertAfter(w):(o.unshift(w),$++))}E?a.node=_:p&&_.hasClass("newline")&&(a.node=Vc(["leftmost"])),a.insertAfter=(A=>z=>{o.splice(A+1,0,z),$++})($)}h&&o.pop()},K9=function(o){return o instanceof m3||o instanceof o7||o instanceof g3&&o.hasClass("enclosing")?o:null},mw=function r(o,n){var a=K9(o);if(a){var h=a.children;if(h.length){if(n==="right")return r(h[h.length-1],"right");if(n==="left")return r(h[0],"left")}}return o},Rf=function(o,n){return o?(n&&(o=mw(o,n)),pw[o.classes[0]]||null):null},a3=function(o,n){var a=["nulldelimiter"].concat(o.baseSizingClasses());return Vc(n.concat(a))},Pi=function(o,n,a){if(!o)return Vc();if(A5[o.type]){var h=A5[o.type](o,n);if(a&&n.size!==a.size){h=Vc(n.sizingClasses(a),[h],n);var p=n.sizeMultiplier/a.sizeMultiplier;h.height*=p,h.depth*=p}return h}else throw new un("Got group of unknown type: '"+o.type+"'")};function a5(r,o){var n=Vc(["base"],r,o),a=Vc(["strut"]);return a.style.height=mn(n.height+n.depth),n.depth&&(a.style.verticalAlign=mn(-n.depth)),n.children.unshift(a),n}function Nf(r,o){var n=null;r.length===1&&r[0].type==="tag"&&(n=r[0].tag,r=r[0].body);var a=Go(r,o,"root"),h;a.length===2&&a[1].hasClass("tag")&&(h=a.pop());for(var p=[],$=[],_=0;_<a.length;_++)if($.push(a[_]),a[_].hasClass("mbin")||a[_].hasClass("mrel")||a[_].hasClass("allowbreak")){for(var T=!1;_<a.length-1&&a[_+1].hasClass("mspace")&&!a[_+1].hasClass("newline");)_++,$.push(a[_]),a[_].hasClass("nobreak")&&(T=!0);T||(p.push(a5($,o)),$=[])}else a[_].hasClass("newline")&&($.pop(),$.length>0&&(p.push(a5($,o)),$=[]),p.push(a[_]));$.length>0&&p.push(a5($,o));var E;n?(E=a5(Go(n,o,!0)),E.classes=["tag"],p.push(E)):h&&p.push(h);var w=Vc(["katex-html"],p);if(w.setAttribute("aria-hidden","true"),E){var A=E.children[0];A.style.height=mn(w.height+w.depth),w.depth&&(A.style.verticalAlign=mn(-w.depth))}return w}function J9(r){return new m3(r)}class z0{constructor(o,n,a){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=o,this.attributes={},this.children=n||[],this.classes=a||[]}setAttribute(o,n){this.attributes[o]=n}getAttribute(o){return this.attributes[o]}toNode(){var o=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&o.setAttribute(n,this.attributes[n]);this.classes.length>0&&(o.className=Q1(this.classes));for(var a=0;a<this.children.length;a++)if(this.children[a]instanceof Wu&&this.children[a+1]instanceof Wu){for(var h=this.children[a].toText()+this.children[++a].toText();this.children[a+1]instanceof Wu;)h+=this.children[++a].toText();o.appendChild(new Wu(h).toNode())}else o.appendChild(this.children[a].toNode());return o}toMarkup(){var o="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(o+=" "+n+'="',o+=Wi.escape(this.attributes[n]),o+='"');this.classes.length>0&&(o+=' class ="'+Wi.escape(Q1(this.classes))+'"'),o+=">";for(var a=0;a<this.children.length;a++)o+=this.children[a].toMarkup();return o+="</"+this.type+">",o}toText(){return this.children.map(o=>o.toText()).join("")}}class Wu{constructor(o){this.text=void 0,this.text=o}toNode(){return document.createTextNode(this.text)}toMarkup(){return Wi.escape(this.toText())}toText(){return this.text}}class gw{constructor(o){this.width=void 0,this.character=void 0,this.width=o,o>=.05555&&o<=.05556?this.character="":o>=.1666&&o<=.1667?this.character="":o>=.2222&&o<=.2223?this.character="":o>=.2777&&o<=.2778?this.character="":o>=-.05556&&o<=-.05555?this.character="":o>=-.1667&&o<=-.1666?this.character="":o>=-.2223&&o<=-.2222?this.character="":o>=-.2778&&o<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var o=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return o.setAttribute("width",mn(this.width)),o}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+mn(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ln={MathNode:z0,TextNode:Wu,SpaceNode:gw,newDocumentFragment:J9},wa=function(o,n,a){return Ms[n][o]&&Ms[n][o].replace&&o.charCodeAt(0)!==55349&&!(V9.hasOwnProperty(o)&&a&&(a.fontFamily&&a.fontFamily.slice(4,6)==="tt"||a.font&&a.font.slice(4,6)==="tt"))&&(o=Ms[n][o].replace),new ln.TextNode(o)},a7=function(o){return o.length===1?o[0]:new ln.MathNode("mrow",o)},u7=function(o,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var a=n.font;if(!a||a==="mathnormal")return null;var h=o.mode;if(a==="mathit")return"italic";if(a==="boldsymbol")return o.type==="textord"?"bold":"bold-italic";if(a==="mathbf")return"bold";if(a==="mathbb")return"double-struck";if(a==="mathsfit")return"sans-serif-italic";if(a==="mathfrak")return"fraktur";if(a==="mathscr"||a==="mathcal")return"script";if(a==="mathsf")return"sans-serif";if(a==="mathtt")return"monospace";var p=o.text;if(["\\imath","\\jmath"].includes(p))return null;Ms[h][p]&&Ms[h][p].replace&&(p=Ms[h][p].replace);var $=Et.fontMap[a].fontName;return s7(p,$,h)?Et.fontMap[a].variant:null};function nf(r){if(!r)return!1;if(r.type==="mi"&&r.children.length===1){var o=r.children[0];return o instanceof Wu&&o.text==="."}else if(r.type==="mo"&&r.children.length===1&&r.getAttribute("separator")==="true"&&r.getAttribute("lspace")==="0em"&&r.getAttribute("rspace")==="0em"){var n=r.children[0];return n instanceof Wu&&n.text===","}else return!1}var m0=function(o,n,a){if(o.length===1){var h=ws(o[0],n);return a&&h instanceof z0&&h.type==="mo"&&(h.setAttribute("lspace","0em"),h.setAttribute("rspace","0em")),[h]}for(var p=[],$,_=0;_<o.length;_++){var T=ws(o[_],n);if(T instanceof z0&&$ instanceof z0){if(T.type==="mtext"&&$.type==="mtext"&&T.getAttribute("mathvariant")===$.getAttribute("mathvariant")){$.children.push(...T.children);continue}else if(T.type==="mn"&&$.type==="mn"){$.children.push(...T.children);continue}else if(nf(T)&&$.type==="mn"){$.children.push(...T.children);continue}else if(T.type==="mn"&&nf($))T.children=[...$.children,...T.children],p.pop();else if((T.type==="msup"||T.type==="msub")&&T.children.length>=1&&($.type==="mn"||nf($))){var E=T.children[0];E instanceof z0&&E.type==="mn"&&(E.children=[...$.children,...E.children],p.pop())}else if($.type==="mi"&&$.children.length===1){var w=$.children[0];if(w instanceof Wu&&w.text===""&&(T.type==="mo"||T.type==="mi"||T.type==="mn")){var A=T.children[0];A instanceof Wu&&A.text.length>0&&(A.text=A.text.slice(0,1)+""+A.text.slice(1),p.pop())}}}p.push(T),$=T}return p},th=function(o,n,a){return a7(m0(o,n,a))},ws=function(o,n){if(!o)return new ln.MathNode("mrow");if(I5[o.type]){var a=I5[o.type](o,n);return a}else throw new un("Got group of unknown type: '"+o.type+"'")};function lm(r,o,n,a,h){var p=m0(r,n),$;p.length===1&&p[0]instanceof z0&&["mrow","mtable"].includes(p[0].type)?$=p[0]:$=new ln.MathNode("mrow",p);var _=new ln.MathNode("annotation",[new ln.TextNode(o)]);_.setAttribute("encoding","application/x-tex");var T=new ln.MathNode("semantics",[$,_]),E=new ln.MathNode("math",[T]);E.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),a&&E.setAttribute("display","block");var w=h?"katex":"katex-mathml";return Et.makeSpan([w],[E])}var Z9=function(o){return new zc({style:o.displayMode?ur.DISPLAY:ur.TEXT,maxSize:o.maxSize,minRuleThickness:o.minRuleThickness})},Q9=function(o,n){if(n.displayMode){var a=["katex-display"];n.leqno&&a.push("leqno"),n.fleqn&&a.push("fleqn"),o=Et.makeSpan(a,[o])}return o},$w=function(o,n,a){var h=Z9(a),p;if(a.output==="mathml")return lm(o,n,h,a.displayMode,!0);if(a.output==="html"){var $=Nf(o,h);p=Et.makeSpan(["katex"],[$])}else{var _=lm(o,n,h,a.displayMode,!1),T=Nf(o,h);p=Et.makeSpan(["katex"],[_,T])}return Q9(p,a)},bw=function(o,n,a){var h=Z9(a),p=Nf(o,h),$=Et.makeSpan(["katex"],[p]);return Q9($,a)},vw={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},yw=function(o){var n=new ln.MathNode("mo",[new ln.TextNode(vw[o.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},Tw={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},_w=function(o){return o.type==="ordgroup"?o.body.length:1},Ew=function(o,n){function a(){var _=4e5,T=o.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(T)){var E=o,w=_w(E.base),A,z,B;if(w>5)T==="widehat"||T==="widecheck"?(A=420,_=2364,B=.42,z=T+"4"):(A=312,_=2340,B=.34,z="tilde4");else{var Z=[1,1,2,2,3,3][w];T==="widehat"||T==="widecheck"?(_=[0,1062,2364,2364,2364][Z],A=[0,239,300,360,420][Z],B=[0,.24,.3,.3,.36,.42][Z],z=T+Z):(_=[0,600,1033,2339,2340][Z],A=[0,260,286,306,312][Z],B=[0,.26,.286,.3,.306,.34][Z],z="tilde"+Z)}var ce=new eh(z),oe=new Gc([ce],{width:"100%",height:mn(B),viewBox:"0 0 "+_+" "+A,preserveAspectRatio:"none"});return{span:Et.makeSvgSpan([],[oe],n),minWidth:0,height:B}}else{var j=[],ie=Tw[T],[be,Ie,Ge]=ie,Te=Ge/1e3,We=be.length,lt,Je;if(We===1){var Xe=ie[3];lt=["hide-tail"],Je=[Xe]}else if(We===2)lt=["halfarrow-left","halfarrow-right"],Je=["xMinYMin","xMaxYMin"];else if(We===3)lt=["brace-left","brace-center","brace-right"],Je=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+We+" children.");for(var Pt=0;Pt<We;Pt++){var He=new eh(be[Pt]),Lt=new Gc([He],{width:"400em",height:mn(Te),viewBox:"0 0 "+_+" "+Ge,preserveAspectRatio:Je[Pt]+" slice"}),yt=Et.makeSvgSpan([lt[Pt]],[Lt],n);if(We===1)return{span:yt,minWidth:Ie,height:Te};yt.style.height=mn(Te),j.push(yt)}return{span:Et.makeSpan(["stretchy"],j,n),minWidth:Ie,height:Te}}}var{span:h,minWidth:p,height:$}=a();return h.height=$,h.style.height=mn($),p>0&&(h.style.minWidth=mn(p)),h},ww=function(o,n,a,h,p){var $,_=o.height+o.depth+a+h;if(/fbox|color|angl/.test(n)){if($=Et.makeSpan(["stretchy",n],[],p),n==="fbox"){var T=p.color&&p.getColor();T&&($.style.borderColor=T)}}else{var E=[];/^[bx]cancel$/.test(n)&&E.push(new If({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&E.push(new If({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var w=new Gc(E,{width:"100%",height:mn(_)});$=Et.makeSvgSpan([],[w],p)}return $.height=_,$.style.height=mn(_),$},Wc={encloseSpan:ww,mathMLnode:yw,svgSpan:Ew};function Vr(r,o){if(!r||r.type!==o)throw new Error("Expected node of type "+o+", but got "+(r?"node of type "+r.type:String(r)));return r}function c7(r){var o=H5(r);if(!o)throw new Error("Expected node of symbol group type, but got "+(r?"node of type "+r.type:String(r)));return o}function H5(r){return r&&(r.type==="atom"||YE.hasOwnProperty(r.type))?r:null}var h7=(r,o)=>{var n,a,h;r&&r.type==="supsub"?(a=Vr(r.base,"accent"),n=a.base,r.base=n,h=XE(Pi(r,o)),r.base=a):(a=Vr(r,"accent"),n=a.base);var p=Pi(n,o.havingCrampedStyle()),$=a.isShifty&&Wi.isCharacterBox(n),_=0;if($){var T=Wi.getBaseElem(n),E=Pi(T,o.havingCrampedStyle());_=em(E).skew}var w=a.label==="\\c",A=w?p.height+p.depth:Math.min(p.height,o.fontMetrics().xHeight),z;if(a.isStretchy)z=Wc.svgSpan(a,o),z=Et.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:p},{type:"elem",elem:z,wrapperClasses:["svg-align"],wrapperStyle:_>0?{width:"calc(100% - "+mn(2*_)+")",marginLeft:mn(2*_)}:void 0}]},o);else{var B,Z;a.label==="\\vec"?(B=Et.staticSvg("vec",o),Z=Et.svgData.vec[1]):(B=Et.makeOrd({mode:a.mode,text:a.label},o,"textord"),B=em(B),B.italic=0,Z=B.width,w&&(A+=B.depth)),z=Et.makeSpan(["accent-body"],[B]);var ce=a.label==="\\textcircled";ce&&(z.classes.push("accent-full"),A=p.height);var oe=_;ce||(oe-=Z/2),z.style.left=mn(oe),a.label==="\\textcircled"&&(z.style.top=".2em"),z=Et.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:p},{type:"kern",size:-A},{type:"elem",elem:z}]},o)}var j=Et.makeSpan(["mord","accent"],[z],o);return h?(h.children[0]=j,h.height=Math.max(j.height,h.height),h.classes[0]="mord",h):j},eg=(r,o)=>{var n=r.isStretchy?Wc.mathMLnode(r.label):new ln.MathNode("mo",[wa(r.label,r.mode)]),a=new ln.MathNode("mover",[ws(r.base,o),n]);return a.setAttribute("accent","true"),a},Sw=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(r=>"\\"+r).join("|"));En({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(r,o)=>{var n=M5(o[0]),a=!Sw.test(r.funcName),h=!a||r.funcName==="\\widehat"||r.funcName==="\\widetilde"||r.funcName==="\\widecheck";return{type:"accent",mode:r.parser.mode,label:r.funcName,isStretchy:a,isShifty:h,base:n}},htmlBuilder:h7,mathmlBuilder:eg});En({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(r,o)=>{var n=o[0],a=r.parser.mode;return a==="math"&&(r.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+r.funcName+" works only in text mode"),a="text"),{type:"accent",mode:a,label:r.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:h7,mathmlBuilder:eg});En({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(r,o)=>{var{parser:n,funcName:a}=r,h=o[0];return{type:"accentUnder",mode:n.mode,label:a,base:h}},htmlBuilder:(r,o)=>{var n=Pi(r.base,o),a=Wc.svgSpan(r,o),h=r.label==="\\utilde"?.12:0,p=Et.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:a,wrapperClasses:["svg-align"]},{type:"kern",size:h},{type:"elem",elem:n}]},o);return Et.makeSpan(["mord","accentunder"],[p],o)},mathmlBuilder:(r,o)=>{var n=Wc.mathMLnode(r.label),a=new ln.MathNode("munder",[ws(r.base,o),n]);return a.setAttribute("accentunder","true"),a}});var u5=r=>{var o=new ln.MathNode("mpadded",r?[r]:[]);return o.setAttribute("width","+0.6em"),o.setAttribute("lspace","0.3em"),o};En({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(r,o,n){var{parser:a,funcName:h}=r;return{type:"xArrow",mode:a.mode,label:h,body:o[0],below:n[0]}},htmlBuilder(r,o){var n=o.style,a=o.havingStyle(n.sup()),h=Et.wrapFragment(Pi(r.body,a,o),o),p=r.label.slice(0,2)==="\\x"?"x":"cd";h.classes.push(p+"-arrow-pad");var $;r.below&&(a=o.havingStyle(n.sub()),$=Et.wrapFragment(Pi(r.below,a,o),o),$.classes.push(p+"-arrow-pad"));var _=Wc.svgSpan(r,o),T=-o.fontMetrics().axisHeight+.5*_.height,E=-o.fontMetrics().axisHeight-.5*_.height-.111;(h.depth>.25||r.label==="\\xleftequilibrium")&&(E-=h.depth);var w;if($){var A=-o.fontMetrics().axisHeight+$.height+.5*_.height+.111;w=Et.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:E},{type:"elem",elem:_,shift:T},{type:"elem",elem:$,shift:A}]},o)}else w=Et.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:E},{type:"elem",elem:_,shift:T}]},o);return w.children[0].children[0].children[1].classes.push("svg-align"),Et.makeSpan(["mrel","x-arrow"],[w],o)},mathmlBuilder(r,o){var n=Wc.mathMLnode(r.label);n.setAttribute("minsize",r.label.charAt(0)==="x"?"1.75em":"3.0em");var a;if(r.body){var h=u5(ws(r.body,o));if(r.below){var p=u5(ws(r.below,o));a=new ln.MathNode("munderover",[n,p,h])}else a=new ln.MathNode("mover",[n,h])}else if(r.below){var $=u5(ws(r.below,o));a=new ln.MathNode("munder",[n,$])}else a=u5(),a=new ln.MathNode("mover",[n,a]);return a}});var xw=Et.makeSpan;function tg(r,o){var n=Go(r.body,o,!0);return xw([r.mclass],n,o)}function ng(r,o){var n,a=m0(r.body,o);return r.mclass==="minner"?n=new ln.MathNode("mpadded",a):r.mclass==="mord"?r.isCharacterBox?(n=a[0],n.type="mi"):n=new ln.MathNode("mi",a):(r.isCharacterBox?(n=a[0],n.type="mo"):n=new ln.MathNode("mo",a),r.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):r.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):r.mclass==="mopen"||r.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):r.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}En({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(r,o){var{parser:n,funcName:a}=r,h=o[0];return{type:"mclass",mode:n.mode,mclass:"m"+a.slice(5),body:yo(h),isCharacterBox:Wi.isCharacterBox(h)}},htmlBuilder:tg,mathmlBuilder:ng});var G5=r=>{var o=r.type==="ordgroup"&&r.body.length?r.body[0]:r;return o.type==="atom"&&(o.family==="bin"||o.family==="rel")?"m"+o.family:"mord"};En({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(r,o){var{parser:n}=r;return{type:"mclass",mode:n.mode,mclass:G5(o[0]),body:yo(o[1]),isCharacterBox:Wi.isCharacterBox(o[1])}}});En({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(r,o){var{parser:n,funcName:a}=r,h=o[1],p=o[0],$;a!=="\\stackrel"?$=G5(h):$="mrel";var _={type:"op",mode:h.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:a!=="\\stackrel",body:yo(h)},T={type:"supsub",mode:p.mode,base:_,sup:a==="\\underset"?null:p,sub:a==="\\underset"?p:null};return{type:"mclass",mode:n.mode,mclass:$,body:[T],isCharacterBox:Wi.isCharacterBox(T)}},htmlBuilder:tg,mathmlBuilder:ng});En({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(r,o){var{parser:n}=r;return{type:"pmb",mode:n.mode,mclass:G5(o[0]),body:yo(o[0])}},htmlBuilder(r,o){var n=Go(r.body,o,!0),a=Et.makeSpan([r.mclass],n,o);return a.style.textShadow="0.02em 0.01em 0.04px",a},mathmlBuilder(r,o){var n=m0(r.body,o),a=new ln.MathNode("mstyle",n);return a.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),a}});var kw={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},am=()=>({type:"styling",body:[],mode:"math",style:"display"}),um=r=>r.type==="textord"&&r.text==="@",Cw=(r,o)=>(r.type==="mathord"||r.type==="atom")&&r.text===o;function Aw(r,o,n){var a=kw[r];switch(a){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(a,[o[0]],[o[1]]);case"\\uparrow":case"\\downarrow":{var h=n.callFunction("\\\\cdleft",[o[0]],[]),p={type:"atom",text:a,mode:"math",family:"rel"},$=n.callFunction("\\Big",[p],[]),_=n.callFunction("\\\\cdright",[o[1]],[]),T={type:"ordgroup",mode:"math",body:[h,$,_]};return n.callFunction("\\\\cdparent",[T],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var E={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[E],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Iw(r){var o=[];for(r.gullet.beginGroup(),r.gullet.macros.set("\\cr","\\\\\\relax"),r.gullet.beginGroup();;){o.push(r.parseExpression(!1,"\\\\")),r.gullet.endGroup(),r.gullet.beginGroup();var n=r.fetch().text;if(n==="&"||n==="\\\\")r.consume();else if(n==="\\end"){o[o.length-1].length===0&&o.pop();break}else throw new un("Expected \\\\ or \\cr or \\end",r.nextToken)}for(var a=[],h=[a],p=0;p<o.length;p++){for(var $=o[p],_=am(),T=0;T<$.length;T++)if(!um($[T]))_.body.push($[T]);else{a.push(_),T+=1;var E=c7($[T]).text,w=new Array(2);if(w[0]={type:"ordgroup",mode:"math",body:[]},w[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(E)>-1))if("<>AV".indexOf(E)>-1)for(var A=0;A<2;A++){for(var z=!0,B=T+1;B<$.length;B++){if(Cw($[B],E)){z=!1,T=B;break}if(um($[B]))throw new un("Missing a "+E+" character to complete a CD arrow.",$[B]);w[A].body.push($[B])}if(z)throw new un("Missing a "+E+" character to complete a CD arrow.",$[T])}else throw new un('Expected one of "<>AV=|." after @',$[T]);var Z=Aw(E,w,r),ce={type:"styling",body:[Z],mode:"math",style:"display"};a.push(ce),_=am()}p%2===0?a.push(_):a.shift(),a=[],h.push(a)}r.gullet.endGroup(),r.gullet.endGroup();var oe=new Array(h[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:h,arraystretch:1,addJot:!0,rowGaps:[null],cols:oe,colSeparationType:"CD",hLinesBeforeRow:new Array(h.length+1).fill([])}}En({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(r,o){var{parser:n,funcName:a}=r;return{type:"cdlabel",mode:n.mode,side:a.slice(4),label:o[0]}},htmlBuilder(r,o){var n=o.havingStyle(o.style.sup()),a=Et.wrapFragment(Pi(r.label,n,o),o);return a.classes.push("cd-label-"+r.side),a.style.bottom=mn(.8-a.depth),a.height=0,a.depth=0,a},mathmlBuilder(r,o){var n=new ln.MathNode("mrow",[ws(r.label,o)]);return n=new ln.MathNode("mpadded",[n]),n.setAttribute("width","0"),r.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new ln.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});En({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(r,o){var{parser:n}=r;return{type:"cdlabelparent",mode:n.mode,fragment:o[0]}},htmlBuilder(r,o){var n=Et.wrapFragment(Pi(r.fragment,o),o);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(r,o){return new ln.MathNode("mrow",[ws(r.fragment,o)])}});En({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(r,o){for(var{parser:n}=r,a=Vr(o[0],"ordgroup"),h=a.body,p="",$=0;$<h.length;$++){var _=Vr(h[$],"textord");p+=_.text}var T=parseInt(p),E;if(isNaN(T))throw new un("\\@char has non-numeric argument "+p);if(T<0||T>=1114111)throw new un("\\@char with invalid code point "+p);return T<=65535?E=String.fromCharCode(T):(T-=65536,E=String.fromCharCode((T>>10)+55296,(T&1023)+56320)),{type:"textord",mode:n.mode,text:E}}});var rg=(r,o)=>{var n=Go(r.body,o.withColor(r.color),!1);return Et.makeFragment(n)},ig=(r,o)=>{var n=m0(r.body,o.withColor(r.color)),a=new ln.MathNode("mstyle",n);return a.setAttribute("mathcolor",r.color),a};En({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(r,o){var{parser:n}=r,a=Vr(o[0],"color-token").color,h=o[1];return{type:"color",mode:n.mode,color:a,body:yo(h)}},htmlBuilder:rg,mathmlBuilder:ig});En({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(r,o){var{parser:n,breakOnTokenText:a}=r,h=Vr(o[0],"color-token").color;n.gullet.macros.set("\\current@color",h);var p=n.parseExpression(!0,a);return{type:"color",mode:n.mode,color:h,body:p}},htmlBuilder:rg,mathmlBuilder:ig});En({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(r,o,n){var{parser:a}=r,h=a.gullet.future().text==="["?a.parseSizeGroup(!0):null,p=!a.settings.displayMode||!a.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:a.mode,newLine:p,size:h&&Vr(h,"size").value}},htmlBuilder(r,o){var n=Et.makeSpan(["mspace"],[],o);return r.newLine&&(n.classes.push("newline"),r.size&&(n.style.marginTop=mn(no(r.size,o)))),n},mathmlBuilder(r,o){var n=new ln.MathNode("mspace");return r.newLine&&(n.setAttribute("linebreak","newline"),r.size&&n.setAttribute("height",mn(no(r.size,o)))),n}});var Of={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},sg=r=>{var o=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(o))throw new un("Expected a control sequence",r);return o},Mw=r=>{var o=r.gullet.popToken();return o.text==="="&&(o=r.gullet.popToken(),o.text===" "&&(o=r.gullet.popToken())),o},og=(r,o,n,a)=>{var h=r.gullet.macros.get(n.text);h==null&&(n.noexpand=!0,h={tokens:[n],numArgs:0,unexpandable:!r.gullet.isExpandable(n.text)}),r.gullet.macros.set(o,h,a)};En({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(r){var{parser:o,funcName:n}=r;o.consumeSpaces();var a=o.fetch();if(Of[a.text])return(n==="\\global"||n==="\\\\globallong")&&(a.text=Of[a.text]),Vr(o.parseFunction(),"internal");throw new un("Invalid token after macro prefix",a)}});En({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:o,funcName:n}=r,a=o.gullet.popToken(),h=a.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(h))throw new un("Expected a control sequence",a);for(var p=0,$,_=[[]];o.gullet.future().text!=="{";)if(a=o.gullet.popToken(),a.text==="#"){if(o.gullet.future().text==="{"){$=o.gullet.future(),_[p].push("{");break}if(a=o.gullet.popToken(),!/^[1-9]$/.test(a.text))throw new un('Invalid argument number "'+a.text+'"');if(parseInt(a.text)!==p+1)throw new un('Argument number "'+a.text+'" out of order');p++,_.push([])}else{if(a.text==="EOF")throw new un("Expected a macro definition");_[p].push(a.text)}var{tokens:T}=o.gullet.consumeArg();return $&&T.unshift($),(n==="\\edef"||n==="\\xdef")&&(T=o.gullet.expandTokens(T),T.reverse()),o.gullet.macros.set(h,{tokens:T,numArgs:p,delimiters:_},n===Of[n]),{type:"internal",mode:o.mode}}});En({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:o,funcName:n}=r,a=sg(o.gullet.popToken());o.gullet.consumeSpaces();var h=Mw(o);return og(o,a,h,n==="\\\\globallet"),{type:"internal",mode:o.mode}}});En({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:o,funcName:n}=r,a=sg(o.gullet.popToken()),h=o.gullet.popToken(),p=o.gullet.popToken();return og(o,a,p,n==="\\\\globalfuture"),o.gullet.pushToken(p),o.gullet.pushToken(h),{type:"internal",mode:o.mode}}});var Q2=function(o,n,a){var h=Ms.math[o]&&Ms.math[o].replace,p=s7(h||o,n,a);if(!p)throw new Error("Unsupported symbol "+o+" and font size "+n+".");return p},d7=function(o,n,a,h){var p=a.havingBaseStyle(n),$=Et.makeSpan(h.concat(p.sizingClasses(a)),[o],a),_=p.sizeMultiplier/a.sizeMultiplier;return $.height*=_,$.depth*=_,$.maxFontSize=p.sizeMultiplier,$},lg=function(o,n,a){var h=n.havingBaseStyle(a),p=(1-n.sizeMultiplier/h.sizeMultiplier)*n.fontMetrics().axisHeight;o.classes.push("delimcenter"),o.style.top=mn(p),o.height-=p,o.depth+=p},Rw=function(o,n,a,h,p,$){var _=Et.makeSymbol(o,"Main-Regular",p,h),T=d7(_,n,h,$);return a&&lg(T,h,n),T},Nw=function(o,n,a,h){return Et.makeSymbol(o,"Size"+n+"-Regular",a,h)},ag=function(o,n,a,h,p,$){var _=Nw(o,n,p,h),T=d7(Et.makeSpan(["delimsizing","size"+n],[_],h),ur.TEXT,h,$);return a&&lg(T,h,ur.TEXT),T},rf=function(o,n,a){var h;n==="Size1-Regular"?h="delim-size1":h="delim-size4";var p=Et.makeSpan(["delimsizinginner",h],[Et.makeSpan([],[Et.makeSymbol(o,n,a)])]);return{type:"elem",elem:p}},sf=function(o,n,a){var h=Vu["Size4-Regular"][o.charCodeAt(0)]?Vu["Size4-Regular"][o.charCodeAt(0)][4]:Vu["Size1-Regular"][o.charCodeAt(0)][4],p=new eh("inner",PE(o,Math.round(1e3*n))),$=new Gc([p],{width:mn(h),height:mn(n),style:"width:"+mn(h),viewBox:"0 0 "+1e3*h+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),_=Et.makeSvgSpan([],[$],a);return _.height=n,_.style.height=mn(n),_.style.width=mn(h),{type:"elem",elem:_}},Lf=.008,c5={type:"kern",size:-1*Lf},Ow=["|","\\lvert","\\rvert","\\vert"],Lw=["\\|","\\lVert","\\rVert","\\Vert"],ug=function(o,n,a,h,p,$){var _,T,E,w,A="",z=0;_=E=w=o,T=null;var B="Size1-Regular";o==="\\uparrow"?E=w="":o==="\\Uparrow"?E=w="":o==="\\downarrow"?_=E="":o==="\\Downarrow"?_=E="":o==="\\updownarrow"?(_="\\uparrow",E="",w="\\downarrow"):o==="\\Updownarrow"?(_="\\Uparrow",E="",w="\\Downarrow"):Ow.includes(o)?(E="",A="vert",z=333):Lw.includes(o)?(E="",A="doublevert",z=556):o==="["||o==="\\lbrack"?(_="",E="",w="",B="Size4-Regular",A="lbrack",z=667):o==="]"||o==="\\rbrack"?(_="",E="",w="",B="Size4-Regular",A="rbrack",z=667):o==="\\lfloor"||o===""?(E=_="",w="",B="Size4-Regular",A="lfloor",z=667):o==="\\lceil"||o===""?(_="",E=w="",B="Size4-Regular",A="lceil",z=667):o==="\\rfloor"||o===""?(E=_="",w="",B="Size4-Regular",A="rfloor",z=667):o==="\\rceil"||o===""?(_="",E=w="",B="Size4-Regular",A="rceil",z=667):o==="("||o==="\\lparen"?(_="",E="",w="",B="Size4-Regular",A="lparen",z=875):o===")"||o==="\\rparen"?(_="",E="",w="",B="Size4-Regular",A="rparen",z=875):o==="\\{"||o==="\\lbrace"?(_="",T="",w="",E="",B="Size4-Regular"):o==="\\}"||o==="\\rbrace"?(_="",T="",w="",E="",B="Size4-Regular"):o==="\\lgroup"||o===""?(_="",w="",E="",B="Size4-Regular"):o==="\\rgroup"||o===""?(_="",w="",E="",B="Size4-Regular"):o==="\\lmoustache"||o===""?(_="",w="",E="",B="Size4-Regular"):(o==="\\rmoustache"||o==="")&&(_="",w="",E="",B="Size4-Regular");var Z=Q2(_,B,p),ce=Z.height+Z.depth,oe=Q2(E,B,p),j=oe.height+oe.depth,ie=Q2(w,B,p),be=ie.height+ie.depth,Ie=0,Ge=1;if(T!==null){var Te=Q2(T,B,p);Ie=Te.height+Te.depth,Ge=2}var We=ce+be+Ie,lt=Math.max(0,Math.ceil((n-We)/(Ge*j))),Je=We+lt*Ge*j,Xe=h.fontMetrics().axisHeight;a&&(Xe*=h.sizeMultiplier);var Pt=Je/2-Xe,He=[];if(A.length>0){var Lt=Je-ce-be,yt=Math.round(Je*1e3),rt=FE(A,Math.round(Lt*1e3)),Ze=new eh(A,rt),$t=(z/1e3).toFixed(3)+"em",ft=(yt/1e3).toFixed(3)+"em",It=new Gc([Ze],{width:$t,height:ft,viewBox:"0 0 "+z+" "+yt}),le=Et.makeSvgSpan([],[It],h);le.height=yt/1e3,le.style.width=$t,le.style.height=ft,He.push({type:"elem",elem:le})}else{if(He.push(rf(w,B,p)),He.push(c5),T===null){var Be=Je-ce-be+2*Lf;He.push(sf(E,Be,h))}else{var ct=(Je-ce-be-Ie)/2+2*Lf;He.push(sf(E,ct,h)),He.push(c5),He.push(rf(T,B,p)),He.push(c5),He.push(sf(E,ct,h))}He.push(c5),He.push(rf(_,B,p))}var ke=h.havingBaseStyle(ur.TEXT),Zt=Et.makeVList({positionType:"bottom",positionData:Pt,children:He},ke);return d7(Et.makeSpan(["delimsizing","mult"],[Zt],ke),ur.TEXT,h,$)},of=80,lf=.08,af=function(o,n,a,h,p){var $=BE(o,h,a),_=new eh(o,$),T=new Gc([_],{width:"400em",height:mn(n),viewBox:"0 0 400000 "+a,preserveAspectRatio:"xMinYMin slice"});return Et.makeSvgSpan(["hide-tail"],[T],p)},Dw=function(o,n){var a=n.havingBaseSizing(),h=fg("\\surd",o*a.sizeMultiplier,dg,a),p=a.sizeMultiplier,$=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),_,T=0,E=0,w=0,A;return h.type==="small"?(w=1e3+1e3*$+of,o<1?p=1:o<1.4&&(p=.7),T=(1+$+lf)/p,E=(1+$)/p,_=af("sqrtMain",T,w,$,n),_.style.minWidth="0.853em",A=.833/p):h.type==="large"?(w=(1e3+of)*r3[h.size],E=(r3[h.size]+$)/p,T=(r3[h.size]+$+lf)/p,_=af("sqrtSize"+h.size,T,w,$,n),_.style.minWidth="1.02em",A=1/p):(T=o+$+lf,E=o+$,w=Math.floor(1e3*o+$)+of,_=af("sqrtTall",T,w,$,n),_.style.minWidth="0.742em",A=1.056),_.height=E,_.style.height=mn(T),{span:_,advanceWidth:A,ruleWidth:(n.fontMetrics().sqrtRuleThickness+$)*p}},cg=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],Bw=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],hg=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],r3=[0,1.2,1.8,2.4,3],Pw=function(o,n,a,h,p){if(o==="<"||o==="\\lt"||o===""?o="\\langle":(o===">"||o==="\\gt"||o==="")&&(o="\\rangle"),cg.includes(o)||hg.includes(o))return ag(o,n,!1,a,h,p);if(Bw.includes(o))return ug(o,r3[n],!1,a,h,p);throw new un("Illegal delimiter: '"+o+"'")},Fw=[{type:"small",style:ur.SCRIPTSCRIPT},{type:"small",style:ur.SCRIPT},{type:"small",style:ur.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],zw=[{type:"small",style:ur.SCRIPTSCRIPT},{type:"small",style:ur.SCRIPT},{type:"small",style:ur.TEXT},{type:"stack"}],dg=[{type:"small",style:ur.SCRIPTSCRIPT},{type:"small",style:ur.SCRIPT},{type:"small",style:ur.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Uw=function(o){if(o.type==="small")return"Main-Regular";if(o.type==="large")return"Size"+o.size+"-Regular";if(o.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+o.type+"' here.")},fg=function(o,n,a,h){for(var p=Math.min(2,3-h.style.size),$=p;$<a.length&&a[$].type!=="stack";$++){var _=Q2(o,Uw(a[$]),"math"),T=_.height+_.depth;if(a[$].type==="small"){var E=h.havingBaseStyle(a[$].style);T*=E.sizeMultiplier}if(T>n)return a[$]}return a[a.length-1]},pg=function(o,n,a,h,p,$){o==="<"||o==="\\lt"||o===""?o="\\langle":(o===">"||o==="\\gt"||o==="")&&(o="\\rangle");var _;hg.includes(o)?_=Fw:cg.includes(o)?_=dg:_=zw;var T=fg(o,n,_,h);return T.type==="small"?Rw(o,T.style,a,h,p,$):T.type==="large"?ag(o,T.size,a,h,p,$):ug(o,n,a,h,p,$)},Hw=function(o,n,a,h,p,$){var _=h.fontMetrics().axisHeight*h.sizeMultiplier,T=901,E=5/h.fontMetrics().ptPerEm,w=Math.max(n-_,a+_),A=Math.max(w/500*T,2*w-E);return pg(o,A,!0,h,p,$)},Hc={sqrtImage:Dw,sizedDelim:Pw,sizeToMaxHeight:r3,customSizedDelim:pg,leftRightDelim:Hw},cm={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Gw=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function V5(r,o){var n=H5(r);if(n&&Gw.includes(n.text))return n;throw n?new un("Invalid delimiter '"+n.text+"' after '"+o.funcName+"'",r):new un("Invalid delimiter type '"+r.type+"'",r)}En({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(r,o)=>{var n=V5(o[0],r);return{type:"delimsizing",mode:r.parser.mode,size:cm[r.funcName].size,mclass:cm[r.funcName].mclass,delim:n.text}},htmlBuilder:(r,o)=>r.delim==="."?Et.makeSpan([r.mclass]):Hc.sizedDelim(r.delim,r.size,o,r.mode,[r.mclass]),mathmlBuilder:r=>{var o=[];r.delim!=="."&&o.push(wa(r.delim,r.mode));var n=new ln.MathNode("mo",o);r.mclass==="mopen"||r.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var a=mn(Hc.sizeToMaxHeight[r.size]);return n.setAttribute("minsize",a),n.setAttribute("maxsize",a),n}});function hm(r){if(!r.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}En({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(r,o)=>{var n=r.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new un("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:r.parser.mode,delim:V5(o[0],r).text,color:n}}});En({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(r,o)=>{var n=V5(o[0],r),a=r.parser;++a.leftrightDepth;var h=a.parseExpression(!1);--a.leftrightDepth,a.expect("\\right",!1);var p=Vr(a.parseFunction(),"leftright-right");return{type:"leftright",mode:a.mode,body:h,left:n.text,right:p.delim,rightColor:p.color}},htmlBuilder:(r,o)=>{hm(r);for(var n=Go(r.body,o,!0,["mopen","mclose"]),a=0,h=0,p=!1,$=0;$<n.length;$++)n[$].isMiddle?p=!0:(a=Math.max(n[$].height,a),h=Math.max(n[$].depth,h));a*=o.sizeMultiplier,h*=o.sizeMultiplier;var _;if(r.left==="."?_=a3(o,["mopen"]):_=Hc.leftRightDelim(r.left,a,h,o,r.mode,["mopen"]),n.unshift(_),p)for(var T=1;T<n.length;T++){var E=n[T],w=E.isMiddle;w&&(n[T]=Hc.leftRightDelim(w.delim,a,h,w.options,r.mode,[]))}var A;if(r.right===".")A=a3(o,["mclose"]);else{var z=r.rightColor?o.withColor(r.rightColor):o;A=Hc.leftRightDelim(r.right,a,h,z,r.mode,["mclose"])}return n.push(A),Et.makeSpan(["minner"],n,o)},mathmlBuilder:(r,o)=>{hm(r);var n=m0(r.body,o);if(r.left!=="."){var a=new ln.MathNode("mo",[wa(r.left,r.mode)]);a.setAttribute("fence","true"),n.unshift(a)}if(r.right!=="."){var h=new ln.MathNode("mo",[wa(r.right,r.mode)]);h.setAttribute("fence","true"),r.rightColor&&h.setAttribute("mathcolor",r.rightColor),n.push(h)}return a7(n)}});En({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(r,o)=>{var n=V5(o[0],r);if(!r.parser.leftrightDepth)throw new un("\\middle without preceding \\left",n);return{type:"middle",mode:r.parser.mode,delim:n.text}},htmlBuilder:(r,o)=>{var n;if(r.delim===".")n=a3(o,[]);else{n=Hc.sizedDelim(r.delim,1,o,r.mode,[]);var a={delim:r.delim,options:o};n.isMiddle=a}return n},mathmlBuilder:(r,o)=>{var n=r.delim==="\\vert"||r.delim==="|"?wa("|","text"):wa(r.delim,r.mode),a=new ln.MathNode("mo",[n]);return a.setAttribute("fence","true"),a.setAttribute("lspace","0.05em"),a.setAttribute("rspace","0.05em"),a}});var f7=(r,o)=>{var n=Et.wrapFragment(Pi(r.body,o),o),a=r.label.slice(1),h=o.sizeMultiplier,p,$=0,_=Wi.isCharacterBox(r.body);if(a==="sout")p=Et.makeSpan(["stretchy","sout"]),p.height=o.fontMetrics().defaultRuleThickness/h,$=-.5*o.fontMetrics().xHeight;else if(a==="phase"){var T=no({number:.6,unit:"pt"},o),E=no({number:.35,unit:"ex"},o),w=o.havingBaseSizing();h=h/w.sizeMultiplier;var A=n.height+n.depth+T+E;n.style.paddingLeft=mn(A/2+T);var z=Math.floor(1e3*A*h),B=LE(z),Z=new Gc([new eh("phase",B)],{width:"400em",height:mn(z/1e3),viewBox:"0 0 400000 "+z,preserveAspectRatio:"xMinYMin slice"});p=Et.makeSvgSpan(["hide-tail"],[Z],o),p.style.height=mn(A),$=n.depth+T+E}else{/cancel/.test(a)?_||n.classes.push("cancel-pad"):a==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var ce=0,oe=0,j=0;/box/.test(a)?(j=Math.max(o.fontMetrics().fboxrule,o.minRuleThickness),ce=o.fontMetrics().fboxsep+(a==="colorbox"?0:j),oe=ce):a==="angl"?(j=Math.max(o.fontMetrics().defaultRuleThickness,o.minRuleThickness),ce=4*j,oe=Math.max(0,.25-n.depth)):(ce=_?.2:0,oe=ce),p=Wc.encloseSpan(n,a,ce,oe,o),/fbox|boxed|fcolorbox/.test(a)?(p.style.borderStyle="solid",p.style.borderWidth=mn(j)):a==="angl"&&j!==.049&&(p.style.borderTopWidth=mn(j),p.style.borderRightWidth=mn(j)),$=n.depth+oe,r.backgroundColor&&(p.style.backgroundColor=r.backgroundColor,r.borderColor&&(p.style.borderColor=r.borderColor))}var ie;if(r.backgroundColor)ie=Et.makeVList({positionType:"individualShift",children:[{type:"elem",elem:p,shift:$},{type:"elem",elem:n,shift:0}]},o);else{var be=/cancel|phase/.test(a)?["svg-align"]:[];ie=Et.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:p,shift:$,wrapperClasses:be}]},o)}return/cancel/.test(a)&&(ie.height=n.height,ie.depth=n.depth),/cancel/.test(a)&&!_?Et.makeSpan(["mord","cancel-lap"],[ie],o):Et.makeSpan(["mord"],[ie],o)},p7=(r,o)=>{var n=0,a=new ln.MathNode(r.label.indexOf("colorbox")>-1?"mpadded":"menclose",[ws(r.body,o)]);switch(r.label){case"\\cancel":a.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":a.setAttribute("notation","downdiagonalstrike");break;case"\\phase":a.setAttribute("notation","phasorangle");break;case"\\sout":a.setAttribute("notation","horizontalstrike");break;case"\\fbox":a.setAttribute("notation","box");break;case"\\angl":a.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=o.fontMetrics().fboxsep*o.fontMetrics().ptPerEm,a.setAttribute("width","+"+2*n+"pt"),a.setAttribute("height","+"+2*n+"pt"),a.setAttribute("lspace",n+"pt"),a.setAttribute("voffset",n+"pt"),r.label==="\\fcolorbox"){var h=Math.max(o.fontMetrics().fboxrule,o.minRuleThickness);a.setAttribute("style","border: "+h+"em solid "+String(r.borderColor))}break;case"\\xcancel":a.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return r.backgroundColor&&a.setAttribute("mathbackground",r.backgroundColor),a};En({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(r,o,n){var{parser:a,funcName:h}=r,p=Vr(o[0],"color-token").color,$=o[1];return{type:"enclose",mode:a.mode,label:h,backgroundColor:p,body:$}},htmlBuilder:f7,mathmlBuilder:p7});En({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(r,o,n){var{parser:a,funcName:h}=r,p=Vr(o[0],"color-token").color,$=Vr(o[1],"color-token").color,_=o[2];return{type:"enclose",mode:a.mode,label:h,backgroundColor:$,borderColor:p,body:_}},htmlBuilder:f7,mathmlBuilder:p7});En({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(r,o){var{parser:n}=r;return{type:"enclose",mode:n.mode,label:"\\fbox",body:o[0]}}});En({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(r,o){var{parser:n,funcName:a}=r,h=o[0];return{type:"enclose",mode:n.mode,label:a,body:h}},htmlBuilder:f7,mathmlBuilder:p7});En({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(r,o){var{parser:n}=r;return{type:"enclose",mode:n.mode,label:"\\angl",body:o[0]}}});var mg={};function Xu(r){for(var{type:o,names:n,props:a,handler:h,htmlBuilder:p,mathmlBuilder:$}=r,_={type:o,numArgs:a.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:h},T=0;T<n.length;++T)mg[n[T]]=_;p&&(A5[o]=p),$&&(I5[o]=$)}var gg={};function ye(r,o){gg[r]=o}function dm(r){var o=[];r.consumeSpaces();var n=r.fetch().text;for(n==="\\relax"&&(r.consume(),r.consumeSpaces(),n=r.fetch().text);n==="\\hline"||n==="\\hdashline";)r.consume(),o.push(n==="\\hdashline"),r.consumeSpaces(),n=r.fetch().text;return o}var W5=r=>{var o=r.parser.settings;if(!o.displayMode)throw new un("{"+r.envName+"} can be used only in display mode.")};function m7(r){if(r.indexOf("ed")===-1)return r.indexOf("*")===-1}function rh(r,o,n){var{hskipBeforeAndAfter:a,addJot:h,cols:p,arraystretch:$,colSeparationType:_,autoTag:T,singleRow:E,emptySingleRow:w,maxNumCols:A,leqno:z}=o;if(r.gullet.beginGroup(),E||r.gullet.macros.set("\\cr","\\\\\\relax"),!$){var B=r.gullet.expandMacroAsText("\\arraystretch");if(B==null)$=1;else if($=parseFloat(B),!$||$<0)throw new un("Invalid \\arraystretch: "+B)}r.gullet.beginGroup();var Z=[],ce=[Z],oe=[],j=[],ie=T!=null?[]:void 0;function be(){T&&r.gullet.macros.set("\\@eqnsw","1",!0)}function Ie(){ie&&(r.gullet.macros.get("\\df@tag")?(ie.push(r.subparse([new H0("\\df@tag")])),r.gullet.macros.set("\\df@tag",void 0,!0)):ie.push(!!T&&r.gullet.macros.get("\\@eqnsw")==="1"))}for(be(),j.push(dm(r));;){var Ge=r.parseExpression(!1,E?"\\end":"\\\\");r.gullet.endGroup(),r.gullet.beginGroup(),Ge={type:"ordgroup",mode:r.mode,body:Ge},n&&(Ge={type:"styling",mode:r.mode,style:n,body:[Ge]}),Z.push(Ge);var Te=r.fetch().text;if(Te==="&"){if(A&&Z.length===A){if(E||_)throw new un("Too many tab characters: &",r.nextToken);r.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}r.consume()}else if(Te==="\\end"){Ie(),Z.length===1&&Ge.type==="styling"&&Ge.body[0].body.length===0&&(ce.length>1||!w)&&ce.pop(),j.length<ce.length+1&&j.push([]);break}else if(Te==="\\\\"){r.consume();var We=void 0;r.gullet.future().text!==" "&&(We=r.parseSizeGroup(!0)),oe.push(We?We.value:null),Ie(),j.push(dm(r)),Z=[],ce.push(Z),be()}else throw new un("Expected & or \\\\ or \\cr or \\end",r.nextToken)}return r.gullet.endGroup(),r.gullet.endGroup(),{type:"array",mode:r.mode,addJot:h,arraystretch:$,body:ce,cols:p,rowGaps:oe,hskipBeforeAndAfter:a,hLinesBeforeRow:j,colSeparationType:_,tags:ie,leqno:z}}function g7(r){return r.slice(0,1)==="d"?"display":"text"}var ju=function(o,n){var a,h,p=o.body.length,$=o.hLinesBeforeRow,_=0,T=new Array(p),E=[],w=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),A=1/n.fontMetrics().ptPerEm,z=5*A;if(o.colSeparationType&&o.colSeparationType==="small"){var B=n.havingStyle(ur.SCRIPT).sizeMultiplier;z=.2778*(B/n.sizeMultiplier)}var Z=o.colSeparationType==="CD"?no({number:3,unit:"ex"},n):12*A,ce=3*A,oe=o.arraystretch*Z,j=.7*oe,ie=.3*oe,be=0;function Ie(Ei){for(var Fi=0;Fi<Ei.length;++Fi)Fi>0&&(be+=.25),E.push({pos:be,isDashed:Ei[Fi]})}for(Ie($[0]),a=0;a<o.body.length;++a){var Ge=o.body[a],Te=j,We=ie;_<Ge.length&&(_=Ge.length);var lt=new Array(Ge.length);for(h=0;h<Ge.length;++h){var Je=Pi(Ge[h],n);We<Je.depth&&(We=Je.depth),Te<Je.height&&(Te=Je.height),lt[h]=Je}var Xe=o.rowGaps[a],Pt=0;Xe&&(Pt=no(Xe,n),Pt>0&&(Pt+=ie,We<Pt&&(We=Pt),Pt=0)),o.addJot&&(We+=ce),lt.height=Te,lt.depth=We,be+=Te,lt.pos=be,be+=We+Pt,T[a]=lt,Ie($[a+1])}var He=be/2+n.fontMetrics().axisHeight,Lt=o.cols||[],yt=[],rt,Ze,$t=[];if(o.tags&&o.tags.some(Ei=>Ei))for(a=0;a<p;++a){var ft=T[a],It=ft.pos-He,le=o.tags[a],Be=void 0;le===!0?Be=Et.makeSpan(["eqn-num"],[],n):le===!1?Be=Et.makeSpan([],[],n):Be=Et.makeSpan([],Go(le,n,!0),n),Be.depth=ft.depth,Be.height=ft.height,$t.push({type:"elem",elem:Be,shift:It})}for(h=0,Ze=0;h<_||Ze<Lt.length;++h,++Ze){for(var ct=Lt[Ze]||{},ke=!0;ct.type==="separator";){if(ke||(rt=Et.makeSpan(["arraycolsep"],[]),rt.style.width=mn(n.fontMetrics().doubleRuleSep),yt.push(rt)),ct.separator==="|"||ct.separator===":"){var Zt=ct.separator==="|"?"solid":"dashed",Ot=Et.makeSpan(["vertical-separator"],[],n);Ot.style.height=mn(be),Ot.style.borderRightWidth=mn(w),Ot.style.borderRightStyle=Zt,Ot.style.margin="0 "+mn(-w/2);var sn=be-He;sn&&(Ot.style.verticalAlign=mn(-sn)),yt.push(Ot)}else throw new un("Invalid separator type: "+ct.separator);Ze++,ct=Lt[Ze]||{},ke=!1}if(!(h>=_)){var yn=void 0;(h>0||o.hskipBeforeAndAfter)&&(yn=Wi.deflt(ct.pregap,z),yn!==0&&(rt=Et.makeSpan(["arraycolsep"],[]),rt.style.width=mn(yn),yt.push(rt)));var hr=[];for(a=0;a<p;++a){var Yn=T[a],an=Yn[h];if(an){var Xn=Yn.pos-He;an.depth=Yn.depth,an.height=Yn.height,hr.push({type:"elem",elem:an,shift:Xn})}}hr=Et.makeVList({positionType:"individualShift",children:hr},n),hr=Et.makeSpan(["col-align-"+(ct.align||"c")],[hr]),yt.push(hr),(h<_-1||o.hskipBeforeAndAfter)&&(yn=Wi.deflt(ct.postgap,z),yn!==0&&(rt=Et.makeSpan(["arraycolsep"],[]),rt.style.width=mn(yn),yt.push(rt)))}}if(T=Et.makeSpan(["mtable"],yt),E.length>0){for(var dt=Et.makeLineSpan("hline",n,w),tn=Et.makeLineSpan("hdashline",n,w),Wr=[{type:"elem",elem:T,shift:0}];E.length>0;){var Zn=E.pop(),pr=Zn.pos-He;Zn.isDashed?Wr.push({type:"elem",elem:tn,shift:pr}):Wr.push({type:"elem",elem:dt,shift:pr})}T=Et.makeVList({positionType:"individualShift",children:Wr},n)}if($t.length===0)return Et.makeSpan(["mord"],[T],n);var on=Et.makeVList({positionType:"individualShift",children:$t},n);return on=Et.makeSpan(["tag"],[on],n),Et.makeFragment([T,on])},Vw={c:"center ",l:"left ",r:"right "},Yu=function(o,n){for(var a=[],h=new ln.MathNode("mtd",[],["mtr-glue"]),p=new ln.MathNode("mtd",[],["mml-eqn-num"]),$=0;$<o.body.length;$++){for(var _=o.body[$],T=[],E=0;E<_.length;E++)T.push(new ln.MathNode("mtd",[ws(_[E],n)]));o.tags&&o.tags[$]&&(T.unshift(h),T.push(h),o.leqno?T.unshift(p):T.push(p)),a.push(new ln.MathNode("mtr",T))}var w=new ln.MathNode("mtable",a),A=o.arraystretch===.5?.1:.16+o.arraystretch-1+(o.addJot?.09:0);w.setAttribute("rowspacing",mn(A));var z="",B="";if(o.cols&&o.cols.length>0){var Z=o.cols,ce="",oe=!1,j=0,ie=Z.length;Z[0].type==="separator"&&(z+="top ",j=1),Z[Z.length-1].type==="separator"&&(z+="bottom ",ie-=1);for(var be=j;be<ie;be++)Z[be].type==="align"?(B+=Vw[Z[be].align],oe&&(ce+="none "),oe=!0):Z[be].type==="separator"&&oe&&(ce+=Z[be].separator==="|"?"solid ":"dashed ",oe=!1);w.setAttribute("columnalign",B.trim()),/[sd]/.test(ce)&&w.setAttribute("columnlines",ce.trim())}if(o.colSeparationType==="align"){for(var Ie=o.cols||[],Ge="",Te=1;Te<Ie.length;Te++)Ge+=Te%2?"0em ":"1em ";w.setAttribute("columnspacing",Ge.trim())}else o.colSeparationType==="alignat"||o.colSeparationType==="gather"?w.setAttribute("columnspacing","0em"):o.colSeparationType==="small"?w.setAttribute("columnspacing","0.2778em"):o.colSeparationType==="CD"?w.setAttribute("columnspacing","0.5em"):w.setAttribute("columnspacing","1em");var We="",lt=o.hLinesBeforeRow;z+=lt[0].length>0?"left ":"",z+=lt[lt.length-1].length>0?"right ":"";for(var Je=1;Je<lt.length-1;Je++)We+=lt[Je].length===0?"none ":lt[Je][0]?"dashed ":"solid ";return/[sd]/.test(We)&&w.setAttribute("rowlines",We.trim()),z!==""&&(w=new ln.MathNode("menclose",[w]),w.setAttribute("notation",z.trim())),o.arraystretch&&o.arraystretch<1&&(w=new ln.MathNode("mstyle",[w]),w.setAttribute("scriptlevel","1")),w},$g=function(o,n){o.envName.indexOf("ed")===-1&&W5(o);var a=[],h=o.envName.indexOf("at")>-1?"alignat":"align",p=o.envName==="split",$=rh(o.parser,{cols:a,addJot:!0,autoTag:p?void 0:m7(o.envName),emptySingleRow:!0,colSeparationType:h,maxNumCols:p?2:void 0,leqno:o.parser.settings.leqno},"display"),_,T=0,E={type:"ordgroup",mode:o.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var w="",A=0;A<n[0].body.length;A++){var z=Vr(n[0].body[A],"textord");w+=z.text}_=Number(w),T=_*2}var B=!T;$.body.forEach(function(j){for(var ie=1;ie<j.length;ie+=2){var be=Vr(j[ie],"styling"),Ie=Vr(be.body[0],"ordgroup");Ie.body.unshift(E)}if(B)T<j.length&&(T=j.length);else{var Ge=j.length/2;if(_<Ge)throw new un("Too many math in a row: "+("expected "+_+", but got "+Ge),j[0])}});for(var Z=0;Z<T;++Z){var ce="r",oe=0;Z%2===1?ce="l":Z>0&&B&&(oe=1),a[Z]={type:"align",align:ce,pregap:oe,postgap:0}}return $.colSeparationType=B?"align":"alignat",$};Xu({type:"array",names:["array","darray"],props:{numArgs:1},handler(r,o){var n=H5(o[0]),a=n?[o[0]]:Vr(o[0],"ordgroup").body,h=a.map(function($){var _=c7($),T=_.text;if("lcr".indexOf(T)!==-1)return{type:"align",align:T};if(T==="|")return{type:"separator",separator:"|"};if(T===":")return{type:"separator",separator:":"};throw new un("Unknown column alignment: "+T,$)}),p={cols:h,hskipBeforeAndAfter:!0,maxNumCols:h.length};return rh(r.parser,p,g7(r.envName))},htmlBuilder:ju,mathmlBuilder:Yu});Xu({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(r){var o={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[r.envName.replace("*","")],n="c",a={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(r.envName.charAt(r.envName.length-1)==="*"){var h=r.parser;if(h.consumeSpaces(),h.fetch().text==="["){if(h.consume(),h.consumeSpaces(),n=h.fetch().text,"lcr".indexOf(n)===-1)throw new un("Expected l or c or r",h.nextToken);h.consume(),h.consumeSpaces(),h.expect("]"),h.consume(),a.cols=[{type:"align",align:n}]}}var p=rh(r.parser,a,g7(r.envName)),$=Math.max(0,...p.body.map(_=>_.length));return p.cols=new Array($).fill({type:"align",align:n}),o?{type:"leftright",mode:r.mode,body:[p],left:o[0],right:o[1],rightColor:void 0}:p},htmlBuilder:ju,mathmlBuilder:Yu});Xu({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(r){var o={arraystretch:.5},n=rh(r.parser,o,"script");return n.colSeparationType="small",n},htmlBuilder:ju,mathmlBuilder:Yu});Xu({type:"array",names:["subarray"],props:{numArgs:1},handler(r,o){var n=H5(o[0]),a=n?[o[0]]:Vr(o[0],"ordgroup").body,h=a.map(function($){var _=c7($),T=_.text;if("lc".indexOf(T)!==-1)return{type:"align",align:T};throw new un("Unknown column alignment: "+T,$)});if(h.length>1)throw new un("{subarray} can contain only one column");var p={cols:h,hskipBeforeAndAfter:!1,arraystretch:.5};if(p=rh(r.parser,p,"script"),p.body.length>0&&p.body[0].length>1)throw new un("{subarray} can contain only one column");return p},htmlBuilder:ju,mathmlBuilder:Yu});Xu({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(r){var o={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=rh(r.parser,o,g7(r.envName));return{type:"leftright",mode:r.mode,body:[n],left:r.envName.indexOf("r")>-1?".":"\\{",right:r.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ju,mathmlBuilder:Yu});Xu({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:$g,htmlBuilder:ju,mathmlBuilder:Yu});Xu({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(r){["gather","gather*"].includes(r.envName)&&W5(r);var o={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:m7(r.envName),emptySingleRow:!0,leqno:r.parser.settings.leqno};return rh(r.parser,o,"display")},htmlBuilder:ju,mathmlBuilder:Yu});Xu({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:$g,htmlBuilder:ju,mathmlBuilder:Yu});Xu({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(r){W5(r);var o={autoTag:m7(r.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:r.parser.settings.leqno};return rh(r.parser,o,"display")},htmlBuilder:ju,mathmlBuilder:Yu});Xu({type:"array",names:["CD"],props:{numArgs:0},handler(r){return W5(r),Iw(r.parser)},htmlBuilder:ju,mathmlBuilder:Yu});ye("\\nonumber","\\gdef\\@eqnsw{0}");ye("\\notag","\\nonumber");En({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(r,o){throw new un(r.funcName+" valid only within array environment")}});var fm=mg;En({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(r,o){var{parser:n,funcName:a}=r,h=o[0];if(h.type!=="ordgroup")throw new un("Invalid environment name",h);for(var p="",$=0;$<h.body.length;++$)p+=Vr(h.body[$],"textord").text;if(a==="\\begin"){if(!fm.hasOwnProperty(p))throw new un("No such environment: "+p,h);var _=fm[p],{args:T,optArgs:E}=n.parseArguments("\\begin{"+p+"}",_),w={mode:n.mode,envName:p,parser:n},A=_.handler(w,T,E);n.expect("\\end",!1);var z=n.nextToken,B=Vr(n.parseFunction(),"environment");if(B.name!==p)throw new un("Mismatch: \\begin{"+p+"} matched by \\end{"+B.name+"}",z);return A}return{type:"environment",mode:n.mode,name:p,nameGroup:h}}});var bg=(r,o)=>{var n=r.font,a=o.withFont(n);return Pi(r.body,a)},vg=(r,o)=>{var n=r.font,a=o.withFont(n);return ws(r.body,a)},pm={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};En({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(r,o)=>{var{parser:n,funcName:a}=r,h=M5(o[0]),p=a;return p in pm&&(p=pm[p]),{type:"font",mode:n.mode,font:p.slice(1),body:h}},htmlBuilder:bg,mathmlBuilder:vg});En({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(r,o)=>{var{parser:n}=r,a=o[0],h=Wi.isCharacterBox(a);return{type:"mclass",mode:n.mode,mclass:G5(a),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:a}],isCharacterBox:h}}});En({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(r,o)=>{var{parser:n,funcName:a,breakOnTokenText:h}=r,{mode:p}=n,$=n.parseExpression(!0,h),_="math"+a.slice(1);return{type:"font",mode:p,font:_,body:{type:"ordgroup",mode:n.mode,body:$}}},htmlBuilder:bg,mathmlBuilder:vg});var yg=(r,o)=>{var n=o;return r==="display"?n=n.id>=ur.SCRIPT.id?n.text():ur.DISPLAY:r==="text"&&n.size===ur.DISPLAY.size?n=ur.TEXT:r==="script"?n=ur.SCRIPT:r==="scriptscript"&&(n=ur.SCRIPTSCRIPT),n},$7=(r,o)=>{var n=yg(r.size,o.style),a=n.fracNum(),h=n.fracDen(),p;p=o.havingStyle(a);var $=Pi(r.numer,p,o);if(r.continued){var _=8.5/o.fontMetrics().ptPerEm,T=3.5/o.fontMetrics().ptPerEm;$.height=$.height<_?_:$.height,$.depth=$.depth<T?T:$.depth}p=o.havingStyle(h);var E=Pi(r.denom,p,o),w,A,z;r.hasBarLine?(r.barSize?(A=no(r.barSize,o),w=Et.makeLineSpan("frac-line",o,A)):w=Et.makeLineSpan("frac-line",o),A=w.height,z=w.height):(w=null,A=0,z=o.fontMetrics().defaultRuleThickness);var B,Z,ce;n.size===ur.DISPLAY.size||r.size==="display"?(B=o.fontMetrics().num1,A>0?Z=3*z:Z=7*z,ce=o.fontMetrics().denom1):(A>0?(B=o.fontMetrics().num2,Z=z):(B=o.fontMetrics().num3,Z=3*z),ce=o.fontMetrics().denom2);var oe;if(w){var ie=o.fontMetrics().axisHeight;B-$.depth-(ie+.5*A)<Z&&(B+=Z-(B-$.depth-(ie+.5*A))),ie-.5*A-(E.height-ce)<Z&&(ce+=Z-(ie-.5*A-(E.height-ce)));var be=-(ie-.5*A);oe=Et.makeVList({positionType:"individualShift",children:[{type:"elem",elem:E,shift:ce},{type:"elem",elem:w,shift:be},{type:"elem",elem:$,shift:-B}]},o)}else{var j=B-$.depth-(E.height-ce);j<Z&&(B+=.5*(Z-j),ce+=.5*(Z-j)),oe=Et.makeVList({positionType:"individualShift",children:[{type:"elem",elem:E,shift:ce},{type:"elem",elem:$,shift:-B}]},o)}p=o.havingStyle(n),oe.height*=p.sizeMultiplier/o.sizeMultiplier,oe.depth*=p.sizeMultiplier/o.sizeMultiplier;var Ie;n.size===ur.DISPLAY.size?Ie=o.fontMetrics().delim1:n.size===ur.SCRIPTSCRIPT.size?Ie=o.havingStyle(ur.SCRIPT).fontMetrics().delim2:Ie=o.fontMetrics().delim2;var Ge,Te;return r.leftDelim==null?Ge=a3(o,["mopen"]):Ge=Hc.customSizedDelim(r.leftDelim,Ie,!0,o.havingStyle(n),r.mode,["mopen"]),r.continued?Te=Et.makeSpan([]):r.rightDelim==null?Te=a3(o,["mclose"]):Te=Hc.customSizedDelim(r.rightDelim,Ie,!0,o.havingStyle(n),r.mode,["mclose"]),Et.makeSpan(["mord"].concat(p.sizingClasses(o)),[Ge,Et.makeSpan(["mfrac"],[oe]),Te],o)},b7=(r,o)=>{var n=new ln.MathNode("mfrac",[ws(r.numer,o),ws(r.denom,o)]);if(!r.hasBarLine)n.setAttribute("linethickness","0px");else if(r.barSize){var a=no(r.barSize,o);n.setAttribute("linethickness",mn(a))}var h=yg(r.size,o.style);if(h.size!==o.style.size){n=new ln.MathNode("mstyle",[n]);var p=h.size===ur.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",p),n.setAttribute("scriptlevel","0")}if(r.leftDelim!=null||r.rightDelim!=null){var $=[];if(r.leftDelim!=null){var _=new ln.MathNode("mo",[new ln.TextNode(r.leftDelim.replace("\\",""))]);_.setAttribute("fence","true"),$.push(_)}if($.push(n),r.rightDelim!=null){var T=new ln.MathNode("mo",[new ln.TextNode(r.rightDelim.replace("\\",""))]);T.setAttribute("fence","true"),$.push(T)}return a7($)}return n};En({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(r,o)=>{var{parser:n,funcName:a}=r,h=o[0],p=o[1],$,_=null,T=null,E="auto";switch(a){case"\\dfrac":case"\\frac":case"\\tfrac":$=!0;break;case"\\\\atopfrac":$=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":$=!1,_="(",T=")";break;case"\\\\bracefrac":$=!1,_="\\{",T="\\}";break;case"\\\\brackfrac":$=!1,_="[",T="]";break;default:throw new Error("Unrecognized genfrac command")}switch(a){case"\\dfrac":case"\\dbinom":E="display";break;case"\\tfrac":case"\\tbinom":E="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:h,denom:p,hasBarLine:$,leftDelim:_,rightDelim:T,size:E,barSize:null}},htmlBuilder:$7,mathmlBuilder:b7});En({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(r,o)=>{var{parser:n,funcName:a}=r,h=o[0],p=o[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:h,denom:p,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});En({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(r){var{parser:o,funcName:n,token:a}=r,h;switch(n){case"\\over":h="\\frac";break;case"\\choose":h="\\binom";break;case"\\atop":h="\\\\atopfrac";break;case"\\brace":h="\\\\bracefrac";break;case"\\brack":h="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:o.mode,replaceWith:h,token:a}}});var mm=["display","text","script","scriptscript"],gm=function(o){var n=null;return o.length>0&&(n=o,n=n==="."?null:n),n};En({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(r,o){var{parser:n}=r,a=o[4],h=o[5],p=M5(o[0]),$=p.type==="atom"&&p.family==="open"?gm(p.text):null,_=M5(o[1]),T=_.type==="atom"&&_.family==="close"?gm(_.text):null,E=Vr(o[2],"size"),w,A=null;E.isBlank?w=!0:(A=E.value,w=A.number>0);var z="auto",B=o[3];if(B.type==="ordgroup"){if(B.body.length>0){var Z=Vr(B.body[0],"textord");z=mm[Number(Z.text)]}}else B=Vr(B,"textord"),z=mm[Number(B.text)];return{type:"genfrac",mode:n.mode,numer:a,denom:h,continued:!1,hasBarLine:w,barSize:A,leftDelim:$,rightDelim:T,size:z}},htmlBuilder:$7,mathmlBuilder:b7});En({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(r,o){var{parser:n,funcName:a,token:h}=r;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Vr(o[0],"size").value,token:h}}});En({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(r,o)=>{var{parser:n,funcName:a}=r,h=o[0],p=yE(Vr(o[1],"infix").size),$=o[2],_=p.number>0;return{type:"genfrac",mode:n.mode,numer:h,denom:$,continued:!1,hasBarLine:_,barSize:p,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:$7,mathmlBuilder:b7});var Tg=(r,o)=>{var n=o.style,a,h;r.type==="supsub"?(a=r.sup?Pi(r.sup,o.havingStyle(n.sup()),o):Pi(r.sub,o.havingStyle(n.sub()),o),h=Vr(r.base,"horizBrace")):h=Vr(r,"horizBrace");var p=Pi(h.base,o.havingBaseStyle(ur.DISPLAY)),$=Wc.svgSpan(h,o),_;if(h.isOver?(_=Et.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:p},{type:"kern",size:.1},{type:"elem",elem:$}]},o),_.children[0].children[0].children[1].classes.push("svg-align")):(_=Et.makeVList({positionType:"bottom",positionData:p.depth+.1+$.height,children:[{type:"elem",elem:$},{type:"kern",size:.1},{type:"elem",elem:p}]},o),_.children[0].children[0].children[0].classes.push("svg-align")),a){var T=Et.makeSpan(["mord",h.isOver?"mover":"munder"],[_],o);h.isOver?_=Et.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:T},{type:"kern",size:.2},{type:"elem",elem:a}]},o):_=Et.makeVList({positionType:"bottom",positionData:T.depth+.2+a.height+a.depth,children:[{type:"elem",elem:a},{type:"kern",size:.2},{type:"elem",elem:T}]},o)}return Et.makeSpan(["mord",h.isOver?"mover":"munder"],[_],o)},Ww=(r,o)=>{var n=Wc.mathMLnode(r.label);return new ln.MathNode(r.isOver?"mover":"munder",[ws(r.base,o),n])};En({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(r,o){var{parser:n,funcName:a}=r;return{type:"horizBrace",mode:n.mode,label:a,isOver:/^\\over/.test(a),base:o[0]}},htmlBuilder:Tg,mathmlBuilder:Ww});En({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(r,o)=>{var{parser:n}=r,a=o[1],h=Vr(o[0],"url").url;return n.settings.isTrusted({command:"\\href",url:h})?{type:"href",mode:n.mode,href:h,body:yo(a)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(r,o)=>{var n=Go(r.body,o,!1);return Et.makeAnchor(r.href,[],n,o)},mathmlBuilder:(r,o)=>{var n=th(r.body,o);return n instanceof z0||(n=new z0("mrow",[n])),n.setAttribute("href",r.href),n}});En({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(r,o)=>{var{parser:n}=r,a=Vr(o[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:a}))return n.formatUnsupportedCmd("\\url");for(var h=[],p=0;p<a.length;p++){var $=a[p];$==="~"&&($="\\textasciitilde"),h.push({type:"textord",mode:"text",text:$})}var _={type:"text",mode:n.mode,font:"\\texttt",body:h};return{type:"href",mode:n.mode,href:a,body:yo(_)}}});En({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(r,o){var{parser:n}=r;return{type:"hbox",mode:n.mode,body:yo(o[0])}},htmlBuilder(r,o){var n=Go(r.body,o,!1);return Et.makeFragment(n)},mathmlBuilder(r,o){return new ln.MathNode("mrow",m0(r.body,o))}});En({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(r,o)=>{var{parser:n,funcName:a,token:h}=r,p=Vr(o[0],"raw").string,$=o[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var _,T={};switch(a){case"\\htmlClass":T.class=p,_={command:"\\htmlClass",class:p};break;case"\\htmlId":T.id=p,_={command:"\\htmlId",id:p};break;case"\\htmlStyle":T.style=p,_={command:"\\htmlStyle",style:p};break;case"\\htmlData":{for(var E=p.split(","),w=0;w<E.length;w++){var A=E[w].split("=");if(A.length!==2)throw new un("Error parsing key-value for \\htmlData");T["data-"+A[0].trim()]=A[1].trim()}_={command:"\\htmlData",attributes:T};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(_)?{type:"html",mode:n.mode,attributes:T,body:yo($)}:n.formatUnsupportedCmd(a)},htmlBuilder:(r,o)=>{var n=Go(r.body,o,!1),a=["enclosing"];r.attributes.class&&a.push(...r.attributes.class.trim().split(/\s+/));var h=Et.makeSpan(a,n,o);for(var p in r.attributes)p!=="class"&&r.attributes.hasOwnProperty(p)&&h.setAttribute(p,r.attributes[p]);return h},mathmlBuilder:(r,o)=>th(r.body,o)});En({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(r,o)=>{var{parser:n}=r;return{type:"htmlmathml",mode:n.mode,html:yo(o[0]),mathml:yo(o[1])}},htmlBuilder:(r,o)=>{var n=Go(r.html,o,!1);return Et.makeFragment(n)},mathmlBuilder:(r,o)=>th(r.mathml,o)});var uf=function(o){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(o))return{number:+o,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(o);if(!n)throw new un("Invalid size: '"+o+"' in \\includegraphics");var a={number:+(n[1]+n[2]),unit:n[3]};if(!z9(a))throw new un("Invalid unit: '"+a.unit+"' in \\includegraphics.");return a};En({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(r,o,n)=>{var{parser:a}=r,h={number:0,unit:"em"},p={number:.9,unit:"em"},$={number:0,unit:"em"},_="";if(n[0])for(var T=Vr(n[0],"raw").string,E=T.split(","),w=0;w<E.length;w++){var A=E[w].split("=");if(A.length===2){var z=A[1].trim();switch(A[0].trim()){case"alt":_=z;break;case"width":h=uf(z);break;case"height":p=uf(z);break;case"totalheight":$=uf(z);break;default:throw new un("Invalid key: '"+A[0]+"' in \\includegraphics.")}}}var B=Vr(o[0],"url").url;return _===""&&(_=B,_=_.replace(/^.*[\\/]/,""),_=_.substring(0,_.lastIndexOf("."))),a.settings.isTrusted({command:"\\includegraphics",url:B})?{type:"includegraphics",mode:a.mode,alt:_,width:h,height:p,totalheight:$,src:B}:a.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(r,o)=>{var n=no(r.height,o),a=0;r.totalheight.number>0&&(a=no(r.totalheight,o)-n);var h=0;r.width.number>0&&(h=no(r.width,o));var p={height:mn(n+a)};h>0&&(p.width=mn(h)),a>0&&(p.verticalAlign=mn(-a));var $=new WE(r.src,r.alt,p);return $.height=n,$.depth=a,$},mathmlBuilder:(r,o)=>{var n=new ln.MathNode("mglyph",[]);n.setAttribute("alt",r.alt);var a=no(r.height,o),h=0;if(r.totalheight.number>0&&(h=no(r.totalheight,o)-a,n.setAttribute("valign",mn(-h))),n.setAttribute("height",mn(a+h)),r.width.number>0){var p=no(r.width,o);n.setAttribute("width",mn(p))}return n.setAttribute("src",r.src),n}});En({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(r,o){var{parser:n,funcName:a}=r,h=Vr(o[0],"size");if(n.settings.strict){var p=a[1]==="m",$=h.value.unit==="mu";p?($||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" supports only mu units, "+("not "+h.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" works only in math mode")):$&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:h.value}},htmlBuilder(r,o){return Et.makeGlue(r.dimension,o)},mathmlBuilder(r,o){var n=no(r.dimension,o);return new ln.SpaceNode(n)}});En({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(r,o)=>{var{parser:n,funcName:a}=r,h=o[0];return{type:"lap",mode:n.mode,alignment:a.slice(5),body:h}},htmlBuilder:(r,o)=>{var n;r.alignment==="clap"?(n=Et.makeSpan([],[Pi(r.body,o)]),n=Et.makeSpan(["inner"],[n],o)):n=Et.makeSpan(["inner"],[Pi(r.body,o)]);var a=Et.makeSpan(["fix"],[]),h=Et.makeSpan([r.alignment],[n,a],o),p=Et.makeSpan(["strut"]);return p.style.height=mn(h.height+h.depth),h.depth&&(p.style.verticalAlign=mn(-h.depth)),h.children.unshift(p),h=Et.makeSpan(["thinbox"],[h],o),Et.makeSpan(["mord","vbox"],[h],o)},mathmlBuilder:(r,o)=>{var n=new ln.MathNode("mpadded",[ws(r.body,o)]);if(r.alignment!=="rlap"){var a=r.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",a+"width")}return n.setAttribute("width","0px"),n}});En({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,o){var{funcName:n,parser:a}=r,h=a.mode;a.switchMode("math");var p=n==="\\("?"\\)":"$",$=a.parseExpression(!1,p);return a.expect(p),a.switchMode(h),{type:"styling",mode:a.mode,style:"text",body:$}}});En({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,o){throw new un("Mismatched "+r.funcName)}});var $m=(r,o)=>{switch(o.style.size){case ur.DISPLAY.size:return r.display;case ur.TEXT.size:return r.text;case ur.SCRIPT.size:return r.script;case ur.SCRIPTSCRIPT.size:return r.scriptscript;default:return r.text}};En({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(r,o)=>{var{parser:n}=r;return{type:"mathchoice",mode:n.mode,display:yo(o[0]),text:yo(o[1]),script:yo(o[2]),scriptscript:yo(o[3])}},htmlBuilder:(r,o)=>{var n=$m(r,o),a=Go(n,o,!1);return Et.makeFragment(a)},mathmlBuilder:(r,o)=>{var n=$m(r,o);return th(n,o)}});var _g=(r,o,n,a,h,p,$)=>{r=Et.makeSpan([],[r]);var _=n&&Wi.isCharacterBox(n),T,E;if(o){var w=Pi(o,a.havingStyle(h.sup()),a);E={elem:w,kern:Math.max(a.fontMetrics().bigOpSpacing1,a.fontMetrics().bigOpSpacing3-w.depth)}}if(n){var A=Pi(n,a.havingStyle(h.sub()),a);T={elem:A,kern:Math.max(a.fontMetrics().bigOpSpacing2,a.fontMetrics().bigOpSpacing4-A.height)}}var z;if(E&&T){var B=a.fontMetrics().bigOpSpacing5+T.elem.height+T.elem.depth+T.kern+r.depth+$;z=Et.makeVList({positionType:"bottom",positionData:B,children:[{type:"kern",size:a.fontMetrics().bigOpSpacing5},{type:"elem",elem:T.elem,marginLeft:mn(-p)},{type:"kern",size:T.kern},{type:"elem",elem:r},{type:"kern",size:E.kern},{type:"elem",elem:E.elem,marginLeft:mn(p)},{type:"kern",size:a.fontMetrics().bigOpSpacing5}]},a)}else if(T){var Z=r.height-$;z=Et.makeVList({positionType:"top",positionData:Z,children:[{type:"kern",size:a.fontMetrics().bigOpSpacing5},{type:"elem",elem:T.elem,marginLeft:mn(-p)},{type:"kern",size:T.kern},{type:"elem",elem:r}]},a)}else if(E){var ce=r.depth+$;z=Et.makeVList({positionType:"bottom",positionData:ce,children:[{type:"elem",elem:r},{type:"kern",size:E.kern},{type:"elem",elem:E.elem,marginLeft:mn(p)},{type:"kern",size:a.fontMetrics().bigOpSpacing5}]},a)}else return r;var oe=[z];if(T&&p!==0&&!_){var j=Et.makeSpan(["mspace"],[],a);j.style.marginRight=mn(p),oe.unshift(j)}return Et.makeSpan(["mop","op-limits"],oe,a)},Eg=["\\smallint"],A4=(r,o)=>{var n,a,h=!1,p;r.type==="supsub"?(n=r.sup,a=r.sub,p=Vr(r.base,"op"),h=!0):p=Vr(r,"op");var $=o.style,_=!1;$.size===ur.DISPLAY.size&&p.symbol&&!Eg.includes(p.name)&&(_=!0);var T;if(p.symbol){var E=_?"Size2-Regular":"Size1-Regular",w="";if((p.name==="\\oiint"||p.name==="\\oiiint")&&(w=p.name.slice(1),p.name=w==="oiint"?"\\iint":"\\iiint"),T=Et.makeSymbol(p.name,E,"math",o,["mop","op-symbol",_?"large-op":"small-op"]),w.length>0){var A=T.italic,z=Et.staticSvg(w+"Size"+(_?"2":"1"),o);T=Et.makeVList({positionType:"individualShift",children:[{type:"elem",elem:T,shift:0},{type:"elem",elem:z,shift:_?.08:0}]},o),p.name="\\"+w,T.classes.unshift("mop"),T.italic=A}}else if(p.body){var B=Go(p.body,o,!0);B.length===1&&B[0]instanceof Ea?(T=B[0],T.classes[0]="mop"):T=Et.makeSpan(["mop"],B,o)}else{for(var Z=[],ce=1;ce<p.name.length;ce++)Z.push(Et.mathsym(p.name[ce],p.mode,o));T=Et.makeSpan(["mop"],Z,o)}var oe=0,j=0;return(T instanceof Ea||p.name==="\\oiint"||p.name==="\\oiiint")&&!p.suppressBaseShift&&(oe=(T.height-T.depth)/2-o.fontMetrics().axisHeight,j=T.italic),h?_g(T,n,a,o,$,j,oe):(oe&&(T.style.position="relative",T.style.top=mn(oe)),T)},$3=(r,o)=>{var n;if(r.symbol)n=new z0("mo",[wa(r.name,r.mode)]),Eg.includes(r.name)&&n.setAttribute("largeop","false");else if(r.body)n=new z0("mo",m0(r.body,o));else{n=new z0("mi",[new Wu(r.name.slice(1))]);var a=new z0("mo",[wa("","text")]);r.parentIsSupSub?n=new z0("mrow",[n,a]):n=J9([n,a])}return n},qw={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};En({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(r,o)=>{var{parser:n,funcName:a}=r,h=a;return h.length===1&&(h=qw[h]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:h}},htmlBuilder:A4,mathmlBuilder:$3});En({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(r,o)=>{var{parser:n}=r,a=o[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:yo(a)}},htmlBuilder:A4,mathmlBuilder:$3});var Xw={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};En({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(r){var{parser:o,funcName:n}=r;return{type:"op",mode:o.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:A4,mathmlBuilder:$3});En({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(r){var{parser:o,funcName:n}=r;return{type:"op",mode:o.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:A4,mathmlBuilder:$3});En({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(r){var{parser:o,funcName:n}=r,a=n;return a.length===1&&(a=Xw[a]),{type:"op",mode:o.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:A4,mathmlBuilder:$3});var wg=(r,o)=>{var n,a,h=!1,p;r.type==="supsub"?(n=r.sup,a=r.sub,p=Vr(r.base,"operatorname"),h=!0):p=Vr(r,"operatorname");var $;if(p.body.length>0){for(var _=p.body.map(A=>{var z=A.text;return typeof z=="string"?{type:"textord",mode:A.mode,text:z}:A}),T=Go(_,o.withFont("mathrm"),!0),E=0;E<T.length;E++){var w=T[E];w instanceof Ea&&(w.text=w.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}$=Et.makeSpan(["mop"],T,o)}else $=Et.makeSpan(["mop"],[],o);return h?_g($,n,a,o,o.style,0,0):$},jw=(r,o)=>{for(var n=m0(r.body,o.withFont("mathrm")),a=!0,h=0;h<n.length;h++){var p=n[h];if(!(p instanceof ln.SpaceNode))if(p instanceof ln.MathNode)switch(p.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var $=p.children[0];p.children.length===1&&$ instanceof ln.TextNode?$.text=$.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):a=!1;break}default:a=!1}else a=!1}if(a){var _=n.map(w=>w.toText()).join("");n=[new ln.TextNode(_)]}var T=new ln.MathNode("mi",n);T.setAttribute("mathvariant","normal");var E=new ln.MathNode("mo",[wa("","text")]);return r.parentIsSupSub?new ln.MathNode("mrow",[T,E]):ln.newDocumentFragment([T,E])};En({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(r,o)=>{var{parser:n,funcName:a}=r,h=o[0];return{type:"operatorname",mode:n.mode,body:yo(h),alwaysHandleSupSub:a==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:wg,mathmlBuilder:jw});ye("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Qh({type:"ordgroup",htmlBuilder(r,o){return r.semisimple?Et.makeFragment(Go(r.body,o,!1)):Et.makeSpan(["mord"],Go(r.body,o,!0),o)},mathmlBuilder(r,o){return th(r.body,o,!0)}});En({type:"overline",names:["\\overline"],props:{numArgs:1},handler(r,o){var{parser:n}=r,a=o[0];return{type:"overline",mode:n.mode,body:a}},htmlBuilder(r,o){var n=Pi(r.body,o.havingCrampedStyle()),a=Et.makeLineSpan("overline-line",o),h=o.fontMetrics().defaultRuleThickness,p=Et.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*h},{type:"elem",elem:a},{type:"kern",size:h}]},o);return Et.makeSpan(["mord","overline"],[p],o)},mathmlBuilder(r,o){var n=new ln.MathNode("mo",[new ln.TextNode("")]);n.setAttribute("stretchy","true");var a=new ln.MathNode("mover",[ws(r.body,o),n]);return a.setAttribute("accent","true"),a}});En({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(r,o)=>{var{parser:n}=r,a=o[0];return{type:"phantom",mode:n.mode,body:yo(a)}},htmlBuilder:(r,o)=>{var n=Go(r.body,o.withPhantom(),!1);return Et.makeFragment(n)},mathmlBuilder:(r,o)=>{var n=m0(r.body,o);return new ln.MathNode("mphantom",n)}});En({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,o)=>{var{parser:n}=r,a=o[0];return{type:"hphantom",mode:n.mode,body:a}},htmlBuilder:(r,o)=>{var n=Et.makeSpan([],[Pi(r.body,o.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var a=0;a<n.children.length;a++)n.children[a].height=0,n.children[a].depth=0;return n=Et.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},o),Et.makeSpan(["mord"],[n],o)},mathmlBuilder:(r,o)=>{var n=m0(yo(r.body),o),a=new ln.MathNode("mphantom",n),h=new ln.MathNode("mpadded",[a]);return h.setAttribute("height","0px"),h.setAttribute("depth","0px"),h}});En({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,o)=>{var{parser:n}=r,a=o[0];return{type:"vphantom",mode:n.mode,body:a}},htmlBuilder:(r,o)=>{var n=Et.makeSpan(["inner"],[Pi(r.body,o.withPhantom())]),a=Et.makeSpan(["fix"],[]);return Et.makeSpan(["mord","rlap"],[n,a],o)},mathmlBuilder:(r,o)=>{var n=m0(yo(r.body),o),a=new ln.MathNode("mphantom",n),h=new ln.MathNode("mpadded",[a]);return h.setAttribute("width","0px"),h}});En({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(r,o){var{parser:n}=r,a=Vr(o[0],"size").value,h=o[1];return{type:"raisebox",mode:n.mode,dy:a,body:h}},htmlBuilder(r,o){var n=Pi(r.body,o),a=no(r.dy,o);return Et.makeVList({positionType:"shift",positionData:-a,children:[{type:"elem",elem:n}]},o)},mathmlBuilder(r,o){var n=new ln.MathNode("mpadded",[ws(r.body,o)]),a=r.dy.number+r.dy.unit;return n.setAttribute("voffset",a),n}});En({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(r){var{parser:o}=r;return{type:"internal",mode:o.mode}}});En({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(r,o,n){var{parser:a}=r,h=n[0],p=Vr(o[0],"size"),$=Vr(o[1],"size");return{type:"rule",mode:a.mode,shift:h&&Vr(h,"size").value,width:p.value,height:$.value}},htmlBuilder(r,o){var n=Et.makeSpan(["mord","rule"],[],o),a=no(r.width,o),h=no(r.height,o),p=r.shift?no(r.shift,o):0;return n.style.borderRightWidth=mn(a),n.style.borderTopWidth=mn(h),n.style.bottom=mn(p),n.width=a,n.height=h+p,n.depth=-p,n.maxFontSize=h*1.125*o.sizeMultiplier,n},mathmlBuilder(r,o){var n=no(r.width,o),a=no(r.height,o),h=r.shift?no(r.shift,o):0,p=o.color&&o.getColor()||"black",$=new ln.MathNode("mspace");$.setAttribute("mathbackground",p),$.setAttribute("width",mn(n)),$.setAttribute("height",mn(a));var _=new ln.MathNode("mpadded",[$]);return h>=0?_.setAttribute("height",mn(h)):(_.setAttribute("height",mn(h)),_.setAttribute("depth",mn(-h))),_.setAttribute("voffset",mn(h)),_}});function Sg(r,o,n){for(var a=Go(r,o,!1),h=o.sizeMultiplier/n.sizeMultiplier,p=0;p<a.length;p++){var $=a[p].classes.indexOf("sizing");$<0?Array.prototype.push.apply(a[p].classes,o.sizingClasses(n)):a[p].classes[$+1]==="reset-size"+o.size&&(a[p].classes[$+1]="reset-size"+n.size),a[p].height*=h,a[p].depth*=h}return Et.makeFragment(a)}var bm=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Yw=(r,o)=>{var n=o.havingSize(r.size);return Sg(r.body,n,o)};En({type:"sizing",names:bm,props:{numArgs:0,allowedInText:!0},handler:(r,o)=>{var{breakOnTokenText:n,funcName:a,parser:h}=r,p=h.parseExpression(!1,n);return{type:"sizing",mode:h.mode,size:bm.indexOf(a)+1,body:p}},htmlBuilder:Yw,mathmlBuilder:(r,o)=>{var n=o.havingSize(r.size),a=m0(r.body,n),h=new ln.MathNode("mstyle",a);return h.setAttribute("mathsize",mn(n.sizeMultiplier)),h}});En({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(r,o,n)=>{var{parser:a}=r,h=!1,p=!1,$=n[0]&&Vr(n[0],"ordgroup");if($)for(var _="",T=0;T<$.body.length;++T){var E=$.body[T];if(_=E.text,_==="t")h=!0;else if(_==="b")p=!0;else{h=!1,p=!1;break}}else h=!0,p=!0;var w=o[0];return{type:"smash",mode:a.mode,body:w,smashHeight:h,smashDepth:p}},htmlBuilder:(r,o)=>{var n=Et.makeSpan([],[Pi(r.body,o)]);if(!r.smashHeight&&!r.smashDepth)return n;if(r.smashHeight&&(n.height=0,n.children))for(var a=0;a<n.children.length;a++)n.children[a].height=0;if(r.smashDepth&&(n.depth=0,n.children))for(var h=0;h<n.children.length;h++)n.children[h].depth=0;var p=Et.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},o);return Et.makeSpan(["mord"],[p],o)},mathmlBuilder:(r,o)=>{var n=new ln.MathNode("mpadded",[ws(r.body,o)]);return r.smashHeight&&n.setAttribute("height","0px"),r.smashDepth&&n.setAttribute("depth","0px"),n}});En({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(r,o,n){var{parser:a}=r,h=n[0],p=o[0];return{type:"sqrt",mode:a.mode,body:p,index:h}},htmlBuilder(r,o){var n=Pi(r.body,o.havingCrampedStyle());n.height===0&&(n.height=o.fontMetrics().xHeight),n=Et.wrapFragment(n,o);var a=o.fontMetrics(),h=a.defaultRuleThickness,p=h;o.style.id<ur.TEXT.id&&(p=o.fontMetrics().xHeight);var $=h+p/4,_=n.height+n.depth+$+h,{span:T,ruleWidth:E,advanceWidth:w}=Hc.sqrtImage(_,o),A=T.height-E;A>n.height+n.depth+$&&($=($+A-n.height-n.depth)/2);var z=T.height-n.height-$-E;n.style.paddingLeft=mn(w);var B=Et.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+z)},{type:"elem",elem:T},{type:"kern",size:E}]},o);if(r.index){var Z=o.havingStyle(ur.SCRIPTSCRIPT),ce=Pi(r.index,Z,o),oe=.6*(B.height-B.depth),j=Et.makeVList({positionType:"shift",positionData:-oe,children:[{type:"elem",elem:ce}]},o),ie=Et.makeSpan(["root"],[j]);return Et.makeSpan(["mord","sqrt"],[ie,B],o)}else return Et.makeSpan(["mord","sqrt"],[B],o)},mathmlBuilder(r,o){var{body:n,index:a}=r;return a?new ln.MathNode("mroot",[ws(n,o),ws(a,o)]):new ln.MathNode("msqrt",[ws(n,o)])}});var vm={display:ur.DISPLAY,text:ur.TEXT,script:ur.SCRIPT,scriptscript:ur.SCRIPTSCRIPT};En({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r,o){var{breakOnTokenText:n,funcName:a,parser:h}=r,p=h.parseExpression(!0,n),$=a.slice(1,a.length-5);return{type:"styling",mode:h.mode,style:$,body:p}},htmlBuilder(r,o){var n=vm[r.style],a=o.havingStyle(n).withFont("");return Sg(r.body,a,o)},mathmlBuilder(r,o){var n=vm[r.style],a=o.havingStyle(n),h=m0(r.body,a),p=new ln.MathNode("mstyle",h),$={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},_=$[r.style];return p.setAttribute("scriptlevel",_[0]),p.setAttribute("displaystyle",_[1]),p}});var Kw=function(o,n){var a=o.base;if(a)if(a.type==="op"){var h=a.limits&&(n.style.size===ur.DISPLAY.size||a.alwaysHandleSupSub);return h?A4:null}else if(a.type==="operatorname"){var p=a.alwaysHandleSupSub&&(n.style.size===ur.DISPLAY.size||a.limits);return p?wg:null}else{if(a.type==="accent")return Wi.isCharacterBox(a.base)?h7:null;if(a.type==="horizBrace"){var $=!o.sub;return $===a.isOver?Tg:null}else return null}else return null};Qh({type:"supsub",htmlBuilder(r,o){var n=Kw(r,o);if(n)return n(r,o);var{base:a,sup:h,sub:p}=r,$=Pi(a,o),_,T,E=o.fontMetrics(),w=0,A=0,z=a&&Wi.isCharacterBox(a);if(h){var B=o.havingStyle(o.style.sup());_=Pi(h,B,o),z||(w=$.height-B.fontMetrics().supDrop*B.sizeMultiplier/o.sizeMultiplier)}if(p){var Z=o.havingStyle(o.style.sub());T=Pi(p,Z,o),z||(A=$.depth+Z.fontMetrics().subDrop*Z.sizeMultiplier/o.sizeMultiplier)}var ce;o.style===ur.DISPLAY?ce=E.sup1:o.style.cramped?ce=E.sup3:ce=E.sup2;var oe=o.sizeMultiplier,j=mn(.5/E.ptPerEm/oe),ie=null;if(T){var be=r.base&&r.base.type==="op"&&r.base.name&&(r.base.name==="\\oiint"||r.base.name==="\\oiiint");($ instanceof Ea||be)&&(ie=mn(-$.italic))}var Ie;if(_&&T){w=Math.max(w,ce,_.depth+.25*E.xHeight),A=Math.max(A,E.sub2);var Ge=E.defaultRuleThickness,Te=4*Ge;if(w-_.depth-(T.height-A)<Te){A=Te-(w-_.depth)+T.height;var We=.8*E.xHeight-(w-_.depth);We>0&&(w+=We,A-=We)}var lt=[{type:"elem",elem:T,shift:A,marginRight:j,marginLeft:ie},{type:"elem",elem:_,shift:-w,marginRight:j}];Ie=Et.makeVList({positionType:"individualShift",children:lt},o)}else if(T){A=Math.max(A,E.sub1,T.height-.8*E.xHeight);var Je=[{type:"elem",elem:T,marginLeft:ie,marginRight:j}];Ie=Et.makeVList({positionType:"shift",positionData:A,children:Je},o)}else if(_)w=Math.max(w,ce,_.depth+.25*E.xHeight),Ie=Et.makeVList({positionType:"shift",positionData:-w,children:[{type:"elem",elem:_,marginRight:j}]},o);else throw new Error("supsub must have either sup or sub.");var Xe=Rf($,"right")||"mord";return Et.makeSpan([Xe],[$,Et.makeSpan(["msupsub"],[Ie])],o)},mathmlBuilder(r,o){var n=!1,a,h;r.base&&r.base.type==="horizBrace"&&(h=!!r.sup,h===r.base.isOver&&(n=!0,a=r.base.isOver)),r.base&&(r.base.type==="op"||r.base.type==="operatorname")&&(r.base.parentIsSupSub=!0);var p=[ws(r.base,o)];r.sub&&p.push(ws(r.sub,o)),r.sup&&p.push(ws(r.sup,o));var $;if(n)$=a?"mover":"munder";else if(r.sub)if(r.sup){var E=r.base;E&&E.type==="op"&&E.limits&&o.style===ur.DISPLAY||E&&E.type==="operatorname"&&E.alwaysHandleSupSub&&(o.style===ur.DISPLAY||E.limits)?$="munderover":$="msubsup"}else{var T=r.base;T&&T.type==="op"&&T.limits&&(o.style===ur.DISPLAY||T.alwaysHandleSupSub)||T&&T.type==="operatorname"&&T.alwaysHandleSupSub&&(T.limits||o.style===ur.DISPLAY)?$="munder":$="msub"}else{var _=r.base;_&&_.type==="op"&&_.limits&&(o.style===ur.DISPLAY||_.alwaysHandleSupSub)||_&&_.type==="operatorname"&&_.alwaysHandleSupSub&&(_.limits||o.style===ur.DISPLAY)?$="mover":$="msup"}return new ln.MathNode($,p)}});Qh({type:"atom",htmlBuilder(r,o){return Et.mathsym(r.text,r.mode,o,["m"+r.family])},mathmlBuilder(r,o){var n=new ln.MathNode("mo",[wa(r.text,r.mode)]);if(r.family==="bin"){var a=u7(r,o);a==="bold-italic"&&n.setAttribute("mathvariant",a)}else r.family==="punct"?n.setAttribute("separator","true"):(r.family==="open"||r.family==="close")&&n.setAttribute("stretchy","false");return n}});var xg={mi:"italic",mn:"normal",mtext:"normal"};Qh({type:"mathord",htmlBuilder(r,o){return Et.makeOrd(r,o,"mathord")},mathmlBuilder(r,o){var n=new ln.MathNode("mi",[wa(r.text,r.mode,o)]),a=u7(r,o)||"italic";return a!==xg[n.type]&&n.setAttribute("mathvariant",a),n}});Qh({type:"textord",htmlBuilder(r,o){return Et.makeOrd(r,o,"textord")},mathmlBuilder(r,o){var n=wa(r.text,r.mode,o),a=u7(r,o)||"normal",h;return r.mode==="text"?h=new ln.MathNode("mtext",[n]):/[0-9]/.test(r.text)?h=new ln.MathNode("mn",[n]):r.text==="\\prime"?h=new ln.MathNode("mo",[n]):h=new ln.MathNode("mi",[n]),a!==xg[h.type]&&h.setAttribute("mathvariant",a),h}});var cf={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},hf={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Qh({type:"spacing",htmlBuilder(r,o){if(hf.hasOwnProperty(r.text)){var n=hf[r.text].className||"";if(r.mode==="text"){var a=Et.makeOrd(r,o,"textord");return a.classes.push(n),a}else return Et.makeSpan(["mspace",n],[Et.mathsym(r.text,r.mode,o)],o)}else{if(cf.hasOwnProperty(r.text))return Et.makeSpan(["mspace",cf[r.text]],[],o);throw new un('Unknown type of space "'+r.text+'"')}},mathmlBuilder(r,o){var n;if(hf.hasOwnProperty(r.text))n=new ln.MathNode("mtext",[new ln.TextNode("")]);else{if(cf.hasOwnProperty(r.text))return new ln.MathNode("mspace");throw new un('Unknown type of space "'+r.text+'"')}return n}});var ym=()=>{var r=new ln.MathNode("mtd",[]);return r.setAttribute("width","50%"),r};Qh({type:"tag",mathmlBuilder(r,o){var n=new ln.MathNode("mtable",[new ln.MathNode("mtr",[ym(),new ln.MathNode("mtd",[th(r.body,o)]),ym(),new ln.MathNode("mtd",[th(r.tag,o)])])]);return n.setAttribute("width","100%"),n}});var Tm={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},_m={"\\textbf":"textbf","\\textmd":"textmd"},Jw={"\\textit":"textit","\\textup":"textup"},Em=(r,o)=>{var n=r.font;if(n){if(Tm[n])return o.withTextFontFamily(Tm[n]);if(_m[n])return o.withTextFontWeight(_m[n]);if(n==="\\emph")return o.fontShape==="textit"?o.withTextFontShape("textup"):o.withTextFontShape("textit")}else return o;return o.withTextFontShape(Jw[n])};En({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(r,o){var{parser:n,funcName:a}=r,h=o[0];return{type:"text",mode:n.mode,body:yo(h),font:a}},htmlBuilder(r,o){var n=Em(r,o),a=Go(r.body,n,!0);return Et.makeSpan(["mord","text"],a,n)},mathmlBuilder(r,o){var n=Em(r,o);return th(r.body,n)}});En({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(r,o){var{parser:n}=r;return{type:"underline",mode:n.mode,body:o[0]}},htmlBuilder(r,o){var n=Pi(r.body,o),a=Et.makeLineSpan("underline-line",o),h=o.fontMetrics().defaultRuleThickness,p=Et.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:h},{type:"elem",elem:a},{type:"kern",size:3*h},{type:"elem",elem:n}]},o);return Et.makeSpan(["mord","underline"],[p],o)},mathmlBuilder(r,o){var n=new ln.MathNode("mo",[new ln.TextNode("")]);n.setAttribute("stretchy","true");var a=new ln.MathNode("munder",[ws(r.body,o),n]);return a.setAttribute("accentunder","true"),a}});En({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(r,o){var{parser:n}=r;return{type:"vcenter",mode:n.mode,body:o[0]}},htmlBuilder(r,o){var n=Pi(r.body,o),a=o.fontMetrics().axisHeight,h=.5*(n.height-a-(n.depth+a));return Et.makeVList({positionType:"shift",positionData:h,children:[{type:"elem",elem:n}]},o)},mathmlBuilder(r,o){return new ln.MathNode("mpadded",[ws(r.body,o)],["vcenter"])}});En({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(r,o,n){throw new un("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(r,o){for(var n=wm(r),a=[],h=o.havingStyle(o.style.text()),p=0;p<n.length;p++){var $=n[p];$==="~"&&($="\\textasciitilde"),a.push(Et.makeSymbol($,"Typewriter-Regular",r.mode,h,["mord","texttt"]))}return Et.makeSpan(["mord","text"].concat(h.sizingClasses(o)),Et.tryCombineChars(a),h)},mathmlBuilder(r,o){var n=new ln.TextNode(wm(r)),a=new ln.MathNode("mtext",[n]);return a.setAttribute("mathvariant","monospace"),a}});var wm=r=>r.body.replace(/ /g,r.star?"":""),Z1=Y9,kg=`[ \r
	]`,Zw="\\\\[a-zA-Z@]+",Qw="\\\\[^\uD800-\uDFFF]",eS="("+Zw+")"+kg+"*",tS=`\\\\(
|[ \r	]+
?)[ \r	]*`,Df="[-]",nS=new RegExp(Df+"+$"),rS="("+kg+"+)|"+(tS+"|")+"([!-\\[\\]---]"+(Df+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Df+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+eS)+("|"+Qw+")");class Sm{constructor(o,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=o,this.settings=n,this.tokenRegex=new RegExp(rS,"g"),this.catcodes={"%":14,"~":13}}setCatcode(o,n){this.catcodes[o]=n}lex(){var o=this.input,n=this.tokenRegex.lastIndex;if(n===o.length)return new H0("EOF",new f0(this,n,n));var a=this.tokenRegex.exec(o);if(a===null||a.index!==n)throw new un("Unexpected character: '"+o[n]+"'",new H0(o[n],new f0(this,n,n+1)));var h=a[6]||a[3]||(a[2]?"\\ ":" ");if(this.catcodes[h]===14){var p=o.indexOf(`
`,this.tokenRegex.lastIndex);return p===-1?(this.tokenRegex.lastIndex=o.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=p+1,this.lex()}return new H0(h,new f0(this,n,this.tokenRegex.lastIndex))}}class iS{constructor(o,n){o===void 0&&(o={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=o,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new un("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var o=this.undefStack.pop();for(var n in o)o.hasOwnProperty(n)&&(o[n]==null?delete this.current[n]:this.current[n]=o[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(o){return this.current.hasOwnProperty(o)||this.builtins.hasOwnProperty(o)}get(o){return this.current.hasOwnProperty(o)?this.current[o]:this.builtins[o]}set(o,n,a){if(a===void 0&&(a=!1),a){for(var h=0;h<this.undefStack.length;h++)delete this.undefStack[h][o];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][o]=n)}else{var p=this.undefStack[this.undefStack.length-1];p&&!p.hasOwnProperty(o)&&(p[o]=this.current[o])}n==null?delete this.current[o]:this.current[o]=n}}var sS=gg;ye("\\noexpand",function(r){var o=r.popToken();return r.isExpandable(o.text)&&(o.noexpand=!0,o.treatAsRelax=!0),{tokens:[o],numArgs:0}});ye("\\expandafter",function(r){var o=r.popToken();return r.expandOnce(!0),{tokens:[o],numArgs:0}});ye("\\@firstoftwo",function(r){var o=r.consumeArgs(2);return{tokens:o[0],numArgs:0}});ye("\\@secondoftwo",function(r){var o=r.consumeArgs(2);return{tokens:o[1],numArgs:0}});ye("\\@ifnextchar",function(r){var o=r.consumeArgs(3);r.consumeSpaces();var n=r.future();return o[0].length===1&&o[0][0].text===n.text?{tokens:o[1],numArgs:0}:{tokens:o[2],numArgs:0}});ye("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");ye("\\TextOrMath",function(r){var o=r.consumeArgs(2);return r.mode==="text"?{tokens:o[0],numArgs:0}:{tokens:o[1],numArgs:0}});var xm={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ye("\\char",function(r){var o=r.popToken(),n,a="";if(o.text==="'")n=8,o=r.popToken();else if(o.text==='"')n=16,o=r.popToken();else if(o.text==="`")if(o=r.popToken(),o.text[0]==="\\")a=o.text.charCodeAt(1);else{if(o.text==="EOF")throw new un("\\char` missing argument");a=o.text.charCodeAt(0)}else n=10;if(n){if(a=xm[o.text],a==null||a>=n)throw new un("Invalid base-"+n+" digit "+o.text);for(var h;(h=xm[r.future().text])!=null&&h<n;)a*=n,a+=h,r.popToken()}return"\\@char{"+a+"}"});var v7=(r,o,n,a)=>{var h=r.consumeArg().tokens;if(h.length!==1)throw new un("\\newcommand's first argument must be a macro name");var p=h[0].text,$=r.isDefined(p);if($&&!o)throw new un("\\newcommand{"+p+"} attempting to redefine "+(p+"; use \\renewcommand"));if(!$&&!n)throw new un("\\renewcommand{"+p+"} when command "+p+" does not yet exist; use \\newcommand");var _=0;if(h=r.consumeArg().tokens,h.length===1&&h[0].text==="["){for(var T="",E=r.expandNextToken();E.text!=="]"&&E.text!=="EOF";)T+=E.text,E=r.expandNextToken();if(!T.match(/^\s*[0-9]+\s*$/))throw new un("Invalid number of arguments: "+T);_=parseInt(T),h=r.consumeArg().tokens}return $&&a||r.macros.set(p,{tokens:h,numArgs:_}),""};ye("\\newcommand",r=>v7(r,!1,!0,!1));ye("\\renewcommand",r=>v7(r,!0,!1,!1));ye("\\providecommand",r=>v7(r,!0,!0,!0));ye("\\message",r=>{var o=r.consumeArgs(1)[0];return console.log(o.reverse().map(n=>n.text).join("")),""});ye("\\errmessage",r=>{var o=r.consumeArgs(1)[0];return console.error(o.reverse().map(n=>n.text).join("")),""});ye("\\show",r=>{var o=r.popToken(),n=o.text;return console.log(o,r.macros.get(n),Z1[n],Ms.math[n],Ms.text[n]),""});ye("\\bgroup","{");ye("\\egroup","}");ye("~","\\nobreakspace");ye("\\lq","`");ye("\\rq","'");ye("\\aa","\\r a");ye("\\AA","\\r A");ye("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");ye("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");ye("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");ye("","\\mathscr{B}");ye("","\\mathscr{E}");ye("","\\mathscr{F}");ye("","\\mathscr{H}");ye("","\\mathscr{I}");ye("","\\mathscr{L}");ye("","\\mathscr{M}");ye("","\\mathscr{R}");ye("","\\mathfrak{C}");ye("","\\mathfrak{H}");ye("","\\mathfrak{Z}");ye("\\Bbbk","\\Bbb{k}");ye("","\\cdotp");ye("\\llap","\\mathllap{\\textrm{#1}}");ye("\\rlap","\\mathrlap{\\textrm{#1}}");ye("\\clap","\\mathclap{\\textrm{#1}}");ye("\\mathstrut","\\vphantom{(}");ye("\\underbar","\\underline{\\text{#1}}");ye("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');ye("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");ye("\\ne","\\neq");ye("","\\neq");ye("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");ye("","\\notin");ye("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");ye("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");ye("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");ye("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");ye("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");ye("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");ye("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");ye("","\\perp");ye("","\\mathclose{!\\mkern-0.8mu!}");ye("","\\notni");ye("","\\ulcorner");ye("","\\urcorner");ye("","\\llcorner");ye("","\\lrcorner");ye("","\\copyright");ye("","\\textregistered");ye("","\\textregistered");ye("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');ye("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');ye("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');ye("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');ye("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");ye("","\\vdots");ye("\\varGamma","\\mathit{\\Gamma}");ye("\\varDelta","\\mathit{\\Delta}");ye("\\varTheta","\\mathit{\\Theta}");ye("\\varLambda","\\mathit{\\Lambda}");ye("\\varXi","\\mathit{\\Xi}");ye("\\varPi","\\mathit{\\Pi}");ye("\\varSigma","\\mathit{\\Sigma}");ye("\\varUpsilon","\\mathit{\\Upsilon}");ye("\\varPhi","\\mathit{\\Phi}");ye("\\varPsi","\\mathit{\\Psi}");ye("\\varOmega","\\mathit{\\Omega}");ye("\\substack","\\begin{subarray}{c}#1\\end{subarray}");ye("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");ye("\\boxed","\\fbox{$\\displaystyle{#1}$}");ye("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");ye("\\implies","\\DOTSB\\;\\Longrightarrow\\;");ye("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");ye("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");ye("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var km={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ye("\\dots",function(r){var o="\\dotso",n=r.expandAfterFuture().text;return n in km?o=km[n]:(n.slice(0,4)==="\\not"||n in Ms.math&&["bin","rel"].includes(Ms.math[n].group))&&(o="\\dotsb"),o});var y7={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ye("\\dotso",function(r){var o=r.future().text;return o in y7?"\\ldots\\,":"\\ldots"});ye("\\dotsc",function(r){var o=r.future().text;return o in y7&&o!==","?"\\ldots\\,":"\\ldots"});ye("\\cdots",function(r){var o=r.future().text;return o in y7?"\\@cdots\\,":"\\@cdots"});ye("\\dotsb","\\cdots");ye("\\dotsm","\\cdots");ye("\\dotsi","\\!\\cdots");ye("\\dotsx","\\ldots\\,");ye("\\DOTSI","\\relax");ye("\\DOTSB","\\relax");ye("\\DOTSX","\\relax");ye("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");ye("\\,","\\tmspace+{3mu}{.1667em}");ye("\\thinspace","\\,");ye("\\>","\\mskip{4mu}");ye("\\:","\\tmspace+{4mu}{.2222em}");ye("\\medspace","\\:");ye("\\;","\\tmspace+{5mu}{.2777em}");ye("\\thickspace","\\;");ye("\\!","\\tmspace-{3mu}{.1667em}");ye("\\negthinspace","\\!");ye("\\negmedspace","\\tmspace-{4mu}{.2222em}");ye("\\negthickspace","\\tmspace-{5mu}{.277em}");ye("\\enspace","\\kern.5em ");ye("\\enskip","\\hskip.5em\\relax");ye("\\quad","\\hskip1em\\relax");ye("\\qquad","\\hskip2em\\relax");ye("\\tag","\\@ifstar\\tag@literal\\tag@paren");ye("\\tag@paren","\\tag@literal{({#1})}");ye("\\tag@literal",r=>{if(r.macros.get("\\df@tag"))throw new un("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});ye("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");ye("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");ye("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");ye("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");ye("\\newline","\\\\\\relax");ye("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Cg=mn(Vu["Main-Regular"][84][1]-.7*Vu["Main-Regular"][65][1]);ye("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Cg+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");ye("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Cg+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");ye("\\hspace","\\@ifstar\\@hspacer\\@hspace");ye("\\@hspace","\\hskip #1\\relax");ye("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");ye("\\ordinarycolon",":");ye("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");ye("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');ye("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');ye("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');ye("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');ye("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');ye("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');ye("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');ye("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');ye("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');ye("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');ye("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');ye("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');ye("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');ye("","\\dblcolon");ye("","\\eqcolon");ye("","\\coloneqq");ye("","\\eqqcolon");ye("","\\Coloneqq");ye("\\ratio","\\vcentcolon");ye("\\coloncolon","\\dblcolon");ye("\\colonequals","\\coloneqq");ye("\\coloncolonequals","\\Coloneqq");ye("\\equalscolon","\\eqqcolon");ye("\\equalscoloncolon","\\Eqqcolon");ye("\\colonminus","\\coloneq");ye("\\coloncolonminus","\\Coloneq");ye("\\minuscolon","\\eqcolon");ye("\\minuscoloncolon","\\Eqcolon");ye("\\coloncolonapprox","\\Colonapprox");ye("\\coloncolonsim","\\Colonsim");ye("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ye("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");ye("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ye("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");ye("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");ye("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");ye("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");ye("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");ye("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");ye("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");ye("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");ye("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");ye("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");ye("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");ye("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");ye("\\ngeqq","\\html@mathml{\\@ngeqq}{}");ye("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");ye("\\nleqq","\\html@mathml{\\@nleqq}{}");ye("\\nleqslant","\\html@mathml{\\@nleqslant}{}");ye("\\nshortmid","\\html@mathml{\\@nshortmid}{}");ye("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");ye("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");ye("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");ye("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");ye("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");ye("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");ye("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");ye("\\imath","\\html@mathml{\\@imath}{}");ye("\\jmath","\\html@mathml{\\@jmath}{}");ye("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");ye("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");ye("","\\llbracket");ye("","\\rrbracket");ye("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");ye("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");ye("","\\lBrace");ye("","\\rBrace");ye("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");ye("","\\minuso");ye("\\darr","\\downarrow");ye("\\dArr","\\Downarrow");ye("\\Darr","\\Downarrow");ye("\\lang","\\langle");ye("\\rang","\\rangle");ye("\\uarr","\\uparrow");ye("\\uArr","\\Uparrow");ye("\\Uarr","\\Uparrow");ye("\\N","\\mathbb{N}");ye("\\R","\\mathbb{R}");ye("\\Z","\\mathbb{Z}");ye("\\alef","\\aleph");ye("\\alefsym","\\aleph");ye("\\Alpha","\\mathrm{A}");ye("\\Beta","\\mathrm{B}");ye("\\bull","\\bullet");ye("\\Chi","\\mathrm{X}");ye("\\clubs","\\clubsuit");ye("\\cnums","\\mathbb{C}");ye("\\Complex","\\mathbb{C}");ye("\\Dagger","\\ddagger");ye("\\diamonds","\\diamondsuit");ye("\\empty","\\emptyset");ye("\\Epsilon","\\mathrm{E}");ye("\\Eta","\\mathrm{H}");ye("\\exist","\\exists");ye("\\harr","\\leftrightarrow");ye("\\hArr","\\Leftrightarrow");ye("\\Harr","\\Leftrightarrow");ye("\\hearts","\\heartsuit");ye("\\image","\\Im");ye("\\infin","\\infty");ye("\\Iota","\\mathrm{I}");ye("\\isin","\\in");ye("\\Kappa","\\mathrm{K}");ye("\\larr","\\leftarrow");ye("\\lArr","\\Leftarrow");ye("\\Larr","\\Leftarrow");ye("\\lrarr","\\leftrightarrow");ye("\\lrArr","\\Leftrightarrow");ye("\\Lrarr","\\Leftrightarrow");ye("\\Mu","\\mathrm{M}");ye("\\natnums","\\mathbb{N}");ye("\\Nu","\\mathrm{N}");ye("\\Omicron","\\mathrm{O}");ye("\\plusmn","\\pm");ye("\\rarr","\\rightarrow");ye("\\rArr","\\Rightarrow");ye("\\Rarr","\\Rightarrow");ye("\\real","\\Re");ye("\\reals","\\mathbb{R}");ye("\\Reals","\\mathbb{R}");ye("\\Rho","\\mathrm{P}");ye("\\sdot","\\cdot");ye("\\sect","\\S");ye("\\spades","\\spadesuit");ye("\\sub","\\subset");ye("\\sube","\\subseteq");ye("\\supe","\\supseteq");ye("\\Tau","\\mathrm{T}");ye("\\thetasym","\\vartheta");ye("\\weierp","\\wp");ye("\\Zeta","\\mathrm{Z}");ye("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");ye("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");ye("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");ye("\\bra","\\mathinner{\\langle{#1}|}");ye("\\ket","\\mathinner{|{#1}\\rangle}");ye("\\braket","\\mathinner{\\langle{#1}\\rangle}");ye("\\Bra","\\left\\langle#1\\right|");ye("\\Ket","\\left|#1\\right\\rangle");var Ag=r=>o=>{var n=o.consumeArg().tokens,a=o.consumeArg().tokens,h=o.consumeArg().tokens,p=o.consumeArg().tokens,$=o.macros.get("|"),_=o.macros.get("\\|");o.macros.beginGroup();var T=A=>z=>{r&&(z.macros.set("|",$),h.length&&z.macros.set("\\|",_));var B=A;if(!A&&h.length){var Z=z.future();Z.text==="|"&&(z.popToken(),B=!0)}return{tokens:B?h:a,numArgs:0}};o.macros.set("|",T(!1)),h.length&&o.macros.set("\\|",T(!0));var E=o.consumeArg().tokens,w=o.expandTokens([...p,...E,...n]);return o.macros.endGroup(),{tokens:w.reverse(),numArgs:0}};ye("\\bra@ket",Ag(!1));ye("\\bra@set",Ag(!0));ye("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");ye("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");ye("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");ye("\\angln","{\\angl n}");ye("\\blue","\\textcolor{##6495ed}{#1}");ye("\\orange","\\textcolor{##ffa500}{#1}");ye("\\pink","\\textcolor{##ff00af}{#1}");ye("\\red","\\textcolor{##df0030}{#1}");ye("\\green","\\textcolor{##28ae7b}{#1}");ye("\\gray","\\textcolor{gray}{#1}");ye("\\purple","\\textcolor{##9d38bd}{#1}");ye("\\blueA","\\textcolor{##ccfaff}{#1}");ye("\\blueB","\\textcolor{##80f6ff}{#1}");ye("\\blueC","\\textcolor{##63d9ea}{#1}");ye("\\blueD","\\textcolor{##11accd}{#1}");ye("\\blueE","\\textcolor{##0c7f99}{#1}");ye("\\tealA","\\textcolor{##94fff5}{#1}");ye("\\tealB","\\textcolor{##26edd5}{#1}");ye("\\tealC","\\textcolor{##01d1c1}{#1}");ye("\\tealD","\\textcolor{##01a995}{#1}");ye("\\tealE","\\textcolor{##208170}{#1}");ye("\\greenA","\\textcolor{##b6ffb0}{#1}");ye("\\greenB","\\textcolor{##8af281}{#1}");ye("\\greenC","\\textcolor{##74cf70}{#1}");ye("\\greenD","\\textcolor{##1fab54}{#1}");ye("\\greenE","\\textcolor{##0d923f}{#1}");ye("\\goldA","\\textcolor{##ffd0a9}{#1}");ye("\\goldB","\\textcolor{##ffbb71}{#1}");ye("\\goldC","\\textcolor{##ff9c39}{#1}");ye("\\goldD","\\textcolor{##e07d10}{#1}");ye("\\goldE","\\textcolor{##a75a05}{#1}");ye("\\redA","\\textcolor{##fca9a9}{#1}");ye("\\redB","\\textcolor{##ff8482}{#1}");ye("\\redC","\\textcolor{##f9685d}{#1}");ye("\\redD","\\textcolor{##e84d39}{#1}");ye("\\redE","\\textcolor{##bc2612}{#1}");ye("\\maroonA","\\textcolor{##ffbde0}{#1}");ye("\\maroonB","\\textcolor{##ff92c6}{#1}");ye("\\maroonC","\\textcolor{##ed5fa6}{#1}");ye("\\maroonD","\\textcolor{##ca337c}{#1}");ye("\\maroonE","\\textcolor{##9e034e}{#1}");ye("\\purpleA","\\textcolor{##ddd7ff}{#1}");ye("\\purpleB","\\textcolor{##c6b9fc}{#1}");ye("\\purpleC","\\textcolor{##aa87ff}{#1}");ye("\\purpleD","\\textcolor{##7854ab}{#1}");ye("\\purpleE","\\textcolor{##543b78}{#1}");ye("\\mintA","\\textcolor{##f5f9e8}{#1}");ye("\\mintB","\\textcolor{##edf2df}{#1}");ye("\\mintC","\\textcolor{##e0e5cc}{#1}");ye("\\grayA","\\textcolor{##f6f7f7}{#1}");ye("\\grayB","\\textcolor{##f0f1f2}{#1}");ye("\\grayC","\\textcolor{##e3e5e6}{#1}");ye("\\grayD","\\textcolor{##d6d8da}{#1}");ye("\\grayE","\\textcolor{##babec2}{#1}");ye("\\grayF","\\textcolor{##888d93}{#1}");ye("\\grayG","\\textcolor{##626569}{#1}");ye("\\grayH","\\textcolor{##3b3e40}{#1}");ye("\\grayI","\\textcolor{##21242c}{#1}");ye("\\kaBlue","\\textcolor{##314453}{#1}");ye("\\kaGreen","\\textcolor{##71B307}{#1}");var Ig={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class oS{constructor(o,n,a){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(o),this.macros=new iS(sS,n.macros),this.mode=a,this.stack=[]}feed(o){this.lexer=new Sm(o,this.settings)}switchMode(o){this.mode=o}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(o){this.stack.push(o)}pushTokens(o){this.stack.push(...o)}scanArgument(o){var n,a,h;if(o){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:h,end:a}=this.consumeArg(["]"])}else({tokens:h,start:n,end:a}=this.consumeArg());return this.pushToken(new H0("EOF",a.loc)),this.pushTokens(h),new H0("",f0.range(n,a))}consumeSpaces(){for(;;){var o=this.future();if(o.text===" ")this.stack.pop();else break}}consumeArg(o){var n=[],a=o&&o.length>0;a||this.consumeSpaces();var h=this.future(),p,$=0,_=0;do{if(p=this.popToken(),n.push(p),p.text==="{")++$;else if(p.text==="}"){if(--$,$===-1)throw new un("Extra }",p)}else if(p.text==="EOF")throw new un("Unexpected end of input in a macro argument, expected '"+(o&&a?o[_]:"}")+"'",p);if(o&&a)if(($===0||$===1&&o[_]==="{")&&p.text===o[_]){if(++_,_===o.length){n.splice(-_,_);break}}else _=0}while($!==0||a);return h.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:h,end:p}}consumeArgs(o,n){if(n){if(n.length!==o+1)throw new un("The length of delimiters doesn't match the number of args!");for(var a=n[0],h=0;h<a.length;h++){var p=this.popToken();if(a[h]!==p.text)throw new un("Use of the macro doesn't match its definition",p)}}for(var $=[],_=0;_<o;_++)$.push(this.consumeArg(n&&n[_+1]).tokens);return $}countExpansion(o){if(this.expansionCount+=o,this.expansionCount>this.settings.maxExpand)throw new un("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(o){var n=this.popToken(),a=n.text,h=n.noexpand?null:this._getExpansion(a);if(h==null||o&&h.unexpandable){if(o&&h==null&&a[0]==="\\"&&!this.isDefined(a))throw new un("Undefined control sequence: "+a);return this.pushToken(n),!1}this.countExpansion(1);var p=h.tokens,$=this.consumeArgs(h.numArgs,h.delimiters);if(h.numArgs){p=p.slice();for(var _=p.length-1;_>=0;--_){var T=p[_];if(T.text==="#"){if(_===0)throw new un("Incomplete placeholder at end of macro body",T);if(T=p[--_],T.text==="#")p.splice(_+1,1);else if(/^[1-9]$/.test(T.text))p.splice(_,2,...$[+T.text-1]);else throw new un("Not a valid argument number",T)}}}return this.pushTokens(p),p.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var o=this.stack.pop();return o.treatAsRelax&&(o.text="\\relax"),o}throw new Error}expandMacro(o){return this.macros.has(o)?this.expandTokens([new H0(o)]):void 0}expandTokens(o){var n=[],a=this.stack.length;for(this.pushTokens(o);this.stack.length>a;)if(this.expandOnce(!0)===!1){var h=this.stack.pop();h.treatAsRelax&&(h.noexpand=!1,h.treatAsRelax=!1),n.push(h)}return this.countExpansion(n.length),n}expandMacroAsText(o){var n=this.expandMacro(o);return n&&n.map(a=>a.text).join("")}_getExpansion(o){var n=this.macros.get(o);if(n==null)return n;if(o.length===1){var a=this.lexer.catcodes[o];if(a!=null&&a!==13)return}var h=typeof n=="function"?n(this):n;if(typeof h=="string"){var p=0;if(h.indexOf("#")!==-1)for(var $=h.replace(/##/g,"");$.indexOf("#"+(p+1))!==-1;)++p;for(var _=new Sm(h,this.settings),T=[],E=_.lex();E.text!=="EOF";)T.push(E),E=_.lex();T.reverse();var w={tokens:T,numArgs:p};return w}return h}isDefined(o){return this.macros.has(o)||Z1.hasOwnProperty(o)||Ms.math.hasOwnProperty(o)||Ms.text.hasOwnProperty(o)||Ig.hasOwnProperty(o)}isExpandable(o){var n=this.macros.get(o);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Z1.hasOwnProperty(o)&&!Z1[o].primitive}}var Cm=/^[]/,h5=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),df={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},Am={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class q5{constructor(o,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new oS(o,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(o,n){if(n===void 0&&(n=!0),this.fetch().text!==o)throw new un("Expected '"+o+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(o){this.mode=o,this.gullet.switchMode(o)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var o=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),o}finally{this.gullet.endGroups()}}subparse(o){var n=this.nextToken;this.consume(),this.gullet.pushToken(new H0("}")),this.gullet.pushTokens(o);var a=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,a}parseExpression(o,n){for(var a=[];;){this.mode==="math"&&this.consumeSpaces();var h=this.fetch();if(q5.endOfExpression.indexOf(h.text)!==-1||n&&h.text===n||o&&Z1[h.text]&&Z1[h.text].infix)break;var p=this.parseAtom(n);if(p){if(p.type==="internal")continue}else break;a.push(p)}return this.mode==="text"&&this.formLigatures(a),this.handleInfixNodes(a)}handleInfixNodes(o){for(var n=-1,a,h=0;h<o.length;h++)if(o[h].type==="infix"){if(n!==-1)throw new un("only one infix operator per group",o[h].token);n=h,a=o[h].replaceWith}if(n!==-1&&a){var p,$,_=o.slice(0,n),T=o.slice(n+1);_.length===1&&_[0].type==="ordgroup"?p=_[0]:p={type:"ordgroup",mode:this.mode,body:_},T.length===1&&T[0].type==="ordgroup"?$=T[0]:$={type:"ordgroup",mode:this.mode,body:T};var E;return a==="\\\\abovefrac"?E=this.callFunction(a,[p,o[n],$],[]):E=this.callFunction(a,[p,$],[]),[E]}else return o}handleSupSubscript(o){var n=this.fetch(),a=n.text;this.consume(),this.consumeSpaces();var h;do{var p;h=this.parseGroup(o)}while(((p=h)==null?void 0:p.type)==="internal");if(!h)throw new un("Expected group after '"+a+"'",n);return h}formatUnsupportedCmd(o){for(var n=[],a=0;a<o.length;a++)n.push({type:"textord",mode:"text",text:o[a]});var h={type:"text",mode:this.mode,body:n},p={type:"color",mode:this.mode,color:this.settings.errorColor,body:[h]};return p}parseAtom(o){var n=this.parseGroup("atom",o);if(n?.type==="internal"||this.mode==="text")return n;for(var a,h;;){this.consumeSpaces();var p=this.fetch();if(p.text==="\\limits"||p.text==="\\nolimits"){if(n&&n.type==="op"){var $=p.text==="\\limits";n.limits=$,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=p.text==="\\limits");else throw new un("Limit controls must follow a math operator",p);this.consume()}else if(p.text==="^"){if(a)throw new un("Double superscript",p);a=this.handleSupSubscript("superscript")}else if(p.text==="_"){if(h)throw new un("Double subscript",p);h=this.handleSupSubscript("subscript")}else if(p.text==="'"){if(a)throw new un("Double superscript",p);var _={type:"textord",mode:this.mode,text:"\\prime"},T=[_];for(this.consume();this.fetch().text==="'";)T.push(_),this.consume();this.fetch().text==="^"&&T.push(this.handleSupSubscript("superscript")),a={type:"ordgroup",mode:this.mode,body:T}}else if(h5[p.text]){var E=Cm.test(p.text),w=[];for(w.push(new H0(h5[p.text])),this.consume();;){var A=this.fetch().text;if(!h5[A]||Cm.test(A)!==E)break;w.unshift(new H0(h5[A])),this.consume()}var z=this.subparse(w);E?h={type:"ordgroup",mode:"math",body:z}:a={type:"ordgroup",mode:"math",body:z}}else break}return a||h?{type:"supsub",mode:this.mode,base:n,sup:a,sub:h}:n}parseFunction(o,n){var a=this.fetch(),h=a.text,p=Z1[h];if(!p)return null;if(this.consume(),n&&n!=="atom"&&!p.allowedInArgument)throw new un("Got function '"+h+"' with no arguments"+(n?" as "+n:""),a);if(this.mode==="text"&&!p.allowedInText)throw new un("Can't use function '"+h+"' in text mode",a);if(this.mode==="math"&&p.allowedInMath===!1)throw new un("Can't use function '"+h+"' in math mode",a);var{args:$,optArgs:_}=this.parseArguments(h,p);return this.callFunction(h,$,_,a,o)}callFunction(o,n,a,h,p){var $={funcName:o,parser:this,token:h,breakOnTokenText:p},_=Z1[o];if(_&&_.handler)return _.handler($,n,a);throw new un("No function handler for "+o)}parseArguments(o,n){var a=n.numArgs+n.numOptionalArgs;if(a===0)return{args:[],optArgs:[]};for(var h=[],p=[],$=0;$<a;$++){var _=n.argTypes&&n.argTypes[$],T=$<n.numOptionalArgs;(n.primitive&&_==null||n.type==="sqrt"&&$===1&&p[0]==null)&&(_="primitive");var E=this.parseGroupOfType("argument to '"+o+"'",_,T);if(T)p.push(E);else if(E!=null)h.push(E);else throw new un("Null argument, please report this as a bug")}return{args:h,optArgs:p}}parseGroupOfType(o,n,a){switch(n){case"color":return this.parseColorGroup(a);case"size":return this.parseSizeGroup(a);case"url":return this.parseUrlGroup(a);case"math":case"text":return this.parseArgumentGroup(a,n);case"hbox":{var h=this.parseArgumentGroup(a,"text");return h!=null?{type:"styling",mode:h.mode,body:[h],style:"text"}:null}case"raw":{var p=this.parseStringGroup("raw",a);return p!=null?{type:"raw",mode:"text",string:p.text}:null}case"primitive":{if(a)throw new un("A primitive argument cannot be optional");var $=this.parseGroup(o);if($==null)throw new un("Expected group as "+o,this.fetch());return $}case"original":case null:case void 0:return this.parseArgumentGroup(a);default:throw new un("Unknown group type as "+o,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(o,n){var a=this.gullet.scanArgument(n);if(a==null)return null;for(var h="",p;(p=this.fetch()).text!=="EOF";)h+=p.text,this.consume();return this.consume(),a.text=h,a}parseRegexGroup(o,n){for(var a=this.fetch(),h=a,p="",$;($=this.fetch()).text!=="EOF"&&o.test(p+$.text);)h=$,p+=h.text,this.consume();if(p==="")throw new un("Invalid "+n+": '"+a.text+"'",a);return a.range(h,p)}parseColorGroup(o){var n=this.parseStringGroup("color",o);if(n==null)return null;var a=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!a)throw new un("Invalid color: '"+n.text+"'",n);var h=a[0];return/^[0-9a-f]{6}$/i.test(h)&&(h="#"+h),{type:"color-token",mode:this.mode,color:h}}parseSizeGroup(o){var n,a=!1;if(this.gullet.consumeSpaces(),!o&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",o),!n)return null;!o&&n.text.length===0&&(n.text="0pt",a=!0);var h=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!h)throw new un("Invalid size: '"+n.text+"'",n);var p={number:+(h[1]+h[2]),unit:h[3]};if(!z9(p))throw new un("Invalid unit: '"+p.unit+"'",n);return{type:"size",mode:this.mode,value:p,isBlank:a}}parseUrlGroup(o){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",o);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var a=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:a}}parseArgumentGroup(o,n){var a=this.gullet.scanArgument(o);if(a==null)return null;var h=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var p=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var $={type:"ordgroup",mode:this.mode,loc:a.loc,body:p};return n&&this.switchMode(h),$}parseGroup(o,n){var a=this.fetch(),h=a.text,p;if(h==="{"||h==="\\begingroup"){this.consume();var $=h==="{"?"}":"\\endgroup";this.gullet.beginGroup();var _=this.parseExpression(!1,$),T=this.fetch();this.expect($),this.gullet.endGroup(),p={type:"ordgroup",mode:this.mode,loc:f0.range(a,T),body:_,semisimple:h==="\\begingroup"||void 0}}else if(p=this.parseFunction(n,o)||this.parseSymbol(),p==null&&h[0]==="\\"&&!Ig.hasOwnProperty(h)){if(this.settings.throwOnError)throw new un("Undefined control sequence: "+h,a);p=this.formatUnsupportedCmd(h),this.consume()}return p}formLigatures(o){for(var n=o.length-1,a=0;a<n;++a){var h=o[a],p=h.text;p==="-"&&o[a+1].text==="-"&&(a+1<n&&o[a+2].text==="-"?(o.splice(a,3,{type:"textord",mode:"text",loc:f0.range(h,o[a+2]),text:"---"}),n-=2):(o.splice(a,2,{type:"textord",mode:"text",loc:f0.range(h,o[a+1]),text:"--"}),n-=1)),(p==="'"||p==="`")&&o[a+1].text===p&&(o.splice(a,2,{type:"textord",mode:"text",loc:f0.range(h,o[a+1]),text:p+p}),n-=1)}}parseSymbol(){var o=this.fetch(),n=o.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var a=n.slice(5),h=a.charAt(0)==="*";if(h&&(a=a.slice(1)),a.length<2||a.charAt(0)!==a.slice(-1))throw new un(`\\verb assertion failed --
                    please report what input caused this bug`);return a=a.slice(1,-1),{type:"verb",mode:"text",body:a,star:h}}Am.hasOwnProperty(n[0])&&!Ms[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',o),n=Am[n[0]]+n.slice(1));var p=nS.exec(n);p&&(n=n.substring(0,p.index),n==="i"?n="":n==="j"&&(n=""));var $;if(Ms[this.mode][n]){this.settings.strict&&this.mode==="math"&&Mf.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',o);var _=Ms[this.mode][n].group,T=f0.range(o),E;if(jE.hasOwnProperty(_)){var w=_;E={type:"atom",mode:this.mode,family:w,loc:T,text:n}}else E={type:_,mode:this.mode,loc:T,text:n};$=E}else if(n.charCodeAt(0)>=128)this.settings.strict&&(F9(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',o):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),o)),$={type:"textord",mode:"text",loc:f0.range(o),text:n};else return null;if(this.consume(),p)for(var A=0;A<p[0].length;A++){var z=p[0][A];if(!df[z])throw new un("Unknown accent ' "+z+"'",o);var B=df[z][this.mode]||df[z].text;if(!B)throw new un("Accent "+z+" unsupported in "+this.mode+" mode",o);$={type:"accent",mode:this.mode,loc:f0.range(o),label:B,isStretchy:!1,isShifty:!0,base:$}}return $}}q5.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var T7=function(o,n){if(!(typeof o=="string"||o instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var a=new q5(o,n);delete a.gullet.macros.current["\\df@tag"];var h=a.parse();if(delete a.gullet.macros.current["\\current@color"],delete a.gullet.macros.current["\\color"],a.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new un("\\tag works only in display equations");h=[{type:"tag",mode:"text",body:h,tag:a.subparse([new H0("\\df@tag")])}]}return h},Mg=function(o,n,a){n.textContent="";var h=_7(o,a).toNode();n.appendChild(h)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Mg=function(){throw new un("KaTeX doesn't work in quirks mode.")});var lS=function(o,n){var a=_7(o,n).toMarkup();return a},aS=function(o,n){var a=new r7(n);return T7(o,a)},Rg=function(o,n,a){if(a.throwOnError||!(o instanceof un))throw o;var h=Et.makeSpan(["katex-error"],[new Ea(n)]);return h.setAttribute("title",o.toString()),h.setAttribute("style","color:"+a.errorColor),h},_7=function(o,n){var a=new r7(n);try{var h=T7(o,a);return $w(h,o,a)}catch(p){return Rg(p,o,a)}},uS=function(o,n){var a=new r7(n);try{var h=T7(o,a);return bw(h,o,a)}catch(p){return Rg(p,o,a)}},cS="0.16.25",hS={Span:g3,Anchor:o7,SymbolNode:Ea,SvgNode:Gc,PathNode:eh,LineNode:If},Im={version:cS,render:Mg,renderToString:lS,ParseError:un,SETTINGS_SCHEMA:T5,__parse:aS,__renderToDomTree:_7,__renderToHTMLTree:uS,__setFontMetrics:zE,__defineSymbol:F,__defineFunction:En,__defineMacro:ye,__domTree:hS};const dS={};function fS(r){const o=this,n=r||dS,a=o.data(),h=a.micromarkExtensions||(a.micromarkExtensions=[]),p=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),$=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);h.push(dE(n)),p.push(iE()),$.push(sE(n))}const Mm=/[#.]/g;function pS(r,o){const n=r||"",a={};let h=0,p,$;for(;h<n.length;){Mm.lastIndex=h;const _=Mm.exec(n),T=n.slice(h,_?_.index:n.length);T&&(p?p==="#"?a.id=T:Array.isArray(a.className)?a.className.push(T):a.className=[T]:$=T,h+=T.length),_&&(p=_[0],h++)}return{type:"element",tagName:$||o||"div",properties:a,children:[]}}function Ng(r,o,n){const a=n?bS(n):void 0;function h(p,$,..._){let T;if(p==null){T={type:"root",children:[]};const E=$;_.unshift(E)}else{T=pS(p,o);const E=T.tagName.toLowerCase(),w=a?a.get(E):void 0;if(T.tagName=w||E,mS($))_.unshift($);else for(const[A,z]of Object.entries($))gS(r,T.properties,A,z)}for(const E of _)Bf(T.children,E);return T.type==="element"&&T.tagName==="template"&&(T.content={type:"root",children:T.children},T.children=[]),T}return h}function mS(r){if(r===null||typeof r!="object"||Array.isArray(r))return!0;if(typeof r.type!="string")return!1;const o=r,n=Object.keys(r);for(const a of n){const h=o[a];if(h&&typeof h=="object"){if(!Array.isArray(h))return!0;const p=h;for(const $ of p)if(typeof $!="number"&&typeof $!="string")return!0}}return!!("children"in r&&Array.isArray(r.children))}function gS(r,o,n,a){const h=l9(r,n);let p;if(a!=null){if(typeof a=="number"){if(Number.isNaN(a))return;p=a}else typeof a=="boolean"?p=a:typeof a=="string"?h.spaceSeparated?p=g8(a):h.commaSeparated?p=h8(a):h.commaOrSpaceSeparated?p=g8(h8(a).join(" ")):p=Rm(h,h.property,a):Array.isArray(a)?p=[...a]:p=h.property==="style"?$S(a):String(a);if(Array.isArray(p)){const $=[];for(const _ of p)$.push(Rm(h,h.property,_));p=$}h.property==="className"&&Array.isArray(o.className)&&(p=o.className.concat(p)),o[h.property]=p}}function Bf(r,o){if(o!=null)if(typeof o=="number"||typeof o=="string")r.push({type:"text",value:String(o)});else if(Array.isArray(o))for(const n of o)Bf(r,n);else if(typeof o=="object"&&"type"in o)o.type==="root"?Bf(r,o.children):r.push(o);else throw new Error("Expected node, nodes, or string, got `"+o+"`")}function Rm(r,o,n){if(typeof n=="string"){if(r.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((r.boolean||r.overloadedBoolean)&&(n===""||s3(n)===s3(o)))return!0}return n}function $S(r){const o=[];for(const[n,a]of Object.entries(r))o.push([n,a].join(": "));return o.join("; ")}function bS(r){const o=new Map;for(const n of r)o.set(n.toLowerCase(),n);return o}const vS=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],yS=Ng(a9,"div"),TS=Ng(L5,"g",vS),ff={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function _S(r,o){return Og(r,{})||{type:"root",children:[]}}function Og(r,o){const n=ES(r,o);return n&&o.afterTransform&&o.afterTransform(r,n),n}function ES(r,o){switch(r.nodeType){case 1:return kS(r,o);case 3:return SS(r);case 8:return xS(r);case 9:return Nm(r,o);case 10:return wS();case 11:return Nm(r,o);default:return}}function Nm(r,o){return{type:"root",children:Lg(r,o)}}function wS(){return{type:"doctype"}}function SS(r){return{type:"text",value:r.nodeValue||""}}function xS(r){return{type:"comment",value:r.nodeValue||""}}function kS(r,o){const n=r.namespaceURI,a=n===ff.svg?TS:yS,h=n===ff.html?r.tagName.toLowerCase():r.tagName,p=n===ff.html&&h==="template"?r.content:r,$=r.getAttributeNames(),_={};let T=-1;for(;++T<$.length;)_[$[T]]=r.getAttribute($[T])||"";return a(h,_,Lg(p,o))}function Lg(r,o){const n=r.childNodes,a=[];let h=-1;for(;++h<n.length;){const p=Og(n[h],o);p!==void 0&&a.push(p)}return a}new DOMParser;function CS(r,o){const n=AS(r);return _S(n)}function AS(r){const o=document.createElement("template");return o.innerHTML=r,o.content}const Om=(function(r,o,n){const a=f3(n);if(!r||!r.type||!r.children)throw new Error("Expected parent node");if(typeof o=="number"){if(o<0||o===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(o=r.children.indexOf(o),o<0)throw new Error("Expected child node or index");for(;++o<r.children.length;)if(a(r.children[o],o,r))return r.children[o]}),ed=(function(r){if(r==null)return RS;if(typeof r=="string")return MS(r);if(typeof r=="object")return IS(r);if(typeof r=="function")return E7(r);throw new Error("Expected function, string, or array as `test`")});function IS(r){const o=[];let n=-1;for(;++n<r.length;)o[n]=ed(r[n]);return E7(a);function a(...h){let p=-1;for(;++p<o.length;)if(o[p].apply(this,h))return!0;return!1}}function MS(r){return E7(o);function o(n){return n.tagName===r}}function E7(r){return o;function o(n,a,h){return!!(NS(n)&&r.call(this,n,typeof a=="number"?a:void 0,h||void 0))}}function RS(r){return!!(r&&typeof r=="object"&&"type"in r&&r.type==="element"&&"tagName"in r&&typeof r.tagName=="string")}function NS(r){return r!==null&&typeof r=="object"&&"type"in r&&"tagName"in r}const Lm=/\n/g,Dm=/[\t ]+/g,Pf=ed("br"),Bm=ed(US),OS=ed("p"),Pm=ed("tr"),LS=ed(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",zS,HS]),Dg=ed(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function DS(r,o){const n=o||{},a="children"in r?r.children:[],h=Dg(r),p=Fg(r,{whitespace:n.whitespace||"normal"}),$=[];(r.type==="text"||r.type==="comment")&&$.push(...Pg(r,{breakBefore:!0,breakAfter:!0}));let _=-1;for(;++_<a.length;)$.push(...Bg(a[_],r,{whitespace:p,breakBefore:_?void 0:h,breakAfter:_<a.length-1?Pf(a[_+1]):h}));const T=[];let E;for(_=-1;++_<$.length;){const w=$[_];typeof w=="number"?E!==void 0&&w>E&&(E=w):w&&(E!==void 0&&E>-1&&T.push(`
`.repeat(E)||" "),E=-1,T.push(w))}return T.join("")}function Bg(r,o,n){return r.type==="element"?BS(r,o,n):r.type==="text"?n.whitespace==="normal"?Pg(r,n):PS(r):[]}function BS(r,o,n){const a=Fg(r,n),h=r.children||[];let p=-1,$=[];if(LS(r))return $;let _,T;for(Pf(r)||Pm(r)&&Om(o,r,Pm)?T=`
`:OS(r)?(_=2,T=2):Dg(r)&&(_=1,T=1);++p<h.length;)$=$.concat(Bg(h[p],r,{whitespace:a,breakBefore:p?void 0:_,breakAfter:p<h.length-1?Pf(h[p+1]):T}));return Bm(r)&&Om(o,r,Bm)&&$.push("	"),_&&$.unshift(_),T&&$.push(T),$}function Pg(r,o){const n=String(r.value),a=[],h=[];let p=0;for(;p<=n.length;){Lm.lastIndex=p;const T=Lm.exec(n),E=T&&"index"in T?T.index:n.length;a.push(FS(n.slice(p,E).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),p===0?o.breakBefore:!0,E===n.length?o.breakAfter:!0)),p=E+1}let $=-1,_;for(;++$<a.length;)a[$].charCodeAt(a[$].length-1)===8203||$<a.length-1&&a[$+1].charCodeAt(0)===8203?(h.push(a[$]),_=void 0):a[$]?(typeof _=="number"&&h.push(_),h.push(a[$]),_=0):($===0||$===a.length-1)&&h.push(0);return h}function PS(r){return[String(r.value)]}function FS(r,o,n){const a=[];let h=0,p;for(;h<r.length;){Dm.lastIndex=h;const $=Dm.exec(r);p=$?$.index:r.length,!h&&!p&&$&&!o&&a.push(""),h!==p&&a.push(r.slice(h,p)),h=$?p+$[0].length:p}return h!==p&&!n&&a.push(""),a.join(" ")}function Fg(r,o){if(r.type==="element"){const n=r.properties||{};switch(r.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":o.whitespace;case"textarea":return"pre-wrap"}}return o.whitespace}function zS(r){return!!(r.properties||{}).hidden}function US(r){return r.tagName==="td"||r.tagName==="th"}function HS(r){return r.tagName==="dialog"&&!(r.properties||{}).open}const GS={},VS=[];function WS(r){const o=r||GS;return function(n,a){e7(n,"element",function(h,p){const $=Array.isArray(h.properties.className)?h.properties.className:VS,_=$.includes("language-math"),T=$.includes("math-display"),E=$.includes("math-inline");let w=T;if(!_&&!T&&!E)return;let A=p[p.length-1],z=h;if(h.tagName==="code"&&_&&A&&A.type==="element"&&A.tagName==="pre"&&(z=A,A=p[p.length-2],w=!0),!A)return;const B=DS(z,{whitespace:"pre"});let Z;try{Z=Im.renderToString(B,{...o,displayMode:w,throwOnError:!0})}catch(oe){const j=oe,ie=j.name.toLowerCase();a.message("Could not render math with KaTeX",{ancestors:[...p,h],cause:j,place:h.position,ruleId:ie,source:"rehype-katex"});try{Z=Im.renderToString(B,{...o,displayMode:w,strict:"ignore",throwOnError:!1})}catch{Z=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(o.errorColor||"#cc0000"),title:String(oe)},children:[{type:"text",value:B}]}]}}typeof Z=="string"&&(Z=CS(Z).children);const ce=A.children.indexOf(z);return A.children.splice(ce,1,...Z),L9})}}function Fm(r,o){const n=String(r);if(typeof o!="string")throw new TypeError("Expected character");let a=0,h=n.indexOf(o);for(;h!==-1;)a++,h=n.indexOf(o,h+o.length);return a}function qS(r){if(typeof r!="string")throw new TypeError("Expected a string");return r.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function XS(r,o,n){const h=f3((n||{}).ignore||[]),p=jS(o);let $=-1;for(;++$<p.length;)e7(r,"text",_);function _(E,w){let A=-1,z;for(;++A<w.length;){const B=w[A],Z=z?z.children:void 0;if(h(B,Z?Z.indexOf(B):void 0,z))return;z=B}if(z)return T(E,w)}function T(E,w){const A=w[w.length-1],z=p[$][0],B=p[$][1];let Z=0;const oe=A.children.indexOf(E);let j=!1,ie=[];z.lastIndex=0;let be=z.exec(E.value);for(;be;){const Ie=be.index,Ge={index:be.index,input:be.input,stack:[...w,E]};let Te=B(...be,Ge);if(typeof Te=="string"&&(Te=Te.length>0?{type:"text",value:Te}:void 0),Te===!1?z.lastIndex=Ie+1:(Z!==Ie&&ie.push({type:"text",value:E.value.slice(Z,Ie)}),Array.isArray(Te)?ie.push(...Te):Te&&ie.push(Te),Z=Ie+be[0].length,j=!0),!z.global)break;be=z.exec(E.value)}return j?(Z<E.value.length&&ie.push({type:"text",value:E.value.slice(Z)}),A.children.splice(oe,1,...ie)):ie=[E],oe+ie.length}}function jS(r){const o=[];if(!Array.isArray(r))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!r[0]||Array.isArray(r[0])?r:[r];let a=-1;for(;++a<n.length;){const h=n[a];o.push([YS(h[0]),KS(h[1])])}return o}function YS(r){return typeof r=="string"?new RegExp(qS(r),"g"):r}function KS(r){return typeof r=="function"?r:function(){return r}}const pf="phrasing",mf=["autolink","link","image","label"];function JS(){return{transforms:[ix],enter:{literalAutolink:QS,literalAutolinkEmail:gf,literalAutolinkHttp:gf,literalAutolinkWww:gf},exit:{literalAutolink:rx,literalAutolinkEmail:nx,literalAutolinkHttp:ex,literalAutolinkWww:tx}}}function ZS(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:pf,notInConstruct:mf},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:pf,notInConstruct:mf},{character:":",before:"[ps]",after:"\\/",inConstruct:pf,notInConstruct:mf}]}}function QS(r){this.enter({type:"link",title:null,url:"",children:[]},r)}function gf(r){this.config.enter.autolinkProtocol.call(this,r)}function ex(r){this.config.exit.autolinkProtocol.call(this,r)}function tx(r){this.config.exit.data.call(this,r);const o=this.stack[this.stack.length-1];o.type,o.url="http://"+this.sliceSerialize(r)}function nx(r){this.config.exit.autolinkEmail.call(this,r)}function rx(r){this.exit(r)}function ix(r){XS(r,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,sx],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),ox]],{ignore:["link","linkReference"]})}function sx(r,o,n,a,h){let p="";if(!zg(h)||(/^w/i.test(o)&&(n=o+n,o="",p="http://"),!lx(n)))return!1;const $=ax(n+a);if(!$[0])return!1;const _={type:"link",title:null,url:p+o+$[0],children:[{type:"text",value:o+$[0]}]};return $[1]?[_,{type:"text",value:$[1]}]:_}function ox(r,o,n,a){return!zg(a,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+o+"@"+n,children:[{type:"text",value:o+"@"+n}]}}function lx(r){const o=r.split(".");return!(o.length<2||o[o.length-1]&&(/_/.test(o[o.length-1])||!/[a-zA-Z\d]/.test(o[o.length-1]))||o[o.length-2]&&(/_/.test(o[o.length-2])||!/[a-zA-Z\d]/.test(o[o.length-2])))}function ax(r){const o=/[!"&'),.:;<>?\]}]+$/.exec(r);if(!o)return[r,void 0];r=r.slice(0,o.index);let n=o[0],a=n.indexOf(")");const h=Fm(r,"(");let p=Fm(r,")");for(;a!==-1&&h>p;)r+=n.slice(0,a+1),n=n.slice(a+1),a=n.indexOf(")"),p++;return[r,n]}function zg(r,o){const n=r.input.charCodeAt(r.index-1);return(r.index===0||Jh(n)||D5(n))&&(!o||n!==47)}Ug.peek=$x;function ux(){this.buffer()}function cx(r){this.enter({type:"footnoteReference",identifier:"",label:""},r)}function hx(){this.buffer()}function dx(r){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},r)}function fx(r){const o=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ru(this.sliceSerialize(r)).toLowerCase(),n.label=o}function px(r){this.exit(r)}function mx(r){const o=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ru(this.sliceSerialize(r)).toLowerCase(),n.label=o}function gx(r){this.exit(r)}function $x(){return"["}function Ug(r,o,n,a){const h=n.createTracker(a);let p=h.move("[^");const $=n.enter("footnoteReference"),_=n.enter("reference");return p+=h.move(n.safe(n.associationId(r),{after:"]",before:p})),_(),$(),p+=h.move("]"),p}function bx(){return{enter:{gfmFootnoteCallString:ux,gfmFootnoteCall:cx,gfmFootnoteDefinitionLabelString:hx,gfmFootnoteDefinition:dx},exit:{gfmFootnoteCallString:fx,gfmFootnoteCall:px,gfmFootnoteDefinitionLabelString:mx,gfmFootnoteDefinition:gx}}}function vx(r){let o=!1;return r&&r.firstLineBlank&&(o=!0),{handlers:{footnoteDefinition:n,footnoteReference:Ug},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(a,h,p,$){const _=p.createTracker($);let T=_.move("[^");const E=p.enter("footnoteDefinition"),w=p.enter("label");return T+=_.move(p.safe(p.associationId(a),{before:T,after:"]"})),w(),T+=_.move("]:"),a.children&&a.children.length>0&&(_.shift(4),T+=_.move((o?`
`:" ")+p.indentLines(p.containerFlow(a,_.current()),o?Hg:yx))),E(),T}}function yx(r,o,n){return o===0?r:Hg(r,o,n)}function Hg(r,o,n){return(n?"":"    ")+r}const Tx=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Gg.peek=xx;function _x(){return{canContainEols:["delete"],enter:{strikethrough:wx},exit:{strikethrough:Sx}}}function Ex(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Tx}],handlers:{delete:Gg}}}function wx(r){this.enter({type:"delete",children:[]},r)}function Sx(r){this.exit(r)}function Gg(r,o,n,a){const h=n.createTracker(a),p=n.enter("strikethrough");let $=h.move("~~");return $+=n.containerPhrasing(r,{...h.current(),before:$,after:"~"}),$+=h.move("~~"),p(),$}function xx(){return"~"}function kx(r){return r.length}function Cx(r,o){const n=o||{},a=(n.align||[]).concat(),h=n.stringLength||kx,p=[],$=[],_=[],T=[];let E=0,w=-1;for(;++w<r.length;){const ce=[],oe=[];let j=-1;for(r[w].length>E&&(E=r[w].length);++j<r[w].length;){const ie=Ax(r[w][j]);if(n.alignDelimiters!==!1){const be=h(ie);oe[j]=be,(T[j]===void 0||be>T[j])&&(T[j]=be)}ce.push(ie)}$[w]=ce,_[w]=oe}let A=-1;if(typeof a=="object"&&"length"in a)for(;++A<E;)p[A]=zm(a[A]);else{const ce=zm(a);for(;++A<E;)p[A]=ce}A=-1;const z=[],B=[];for(;++A<E;){const ce=p[A];let oe="",j="";ce===99?(oe=":",j=":"):ce===108?oe=":":ce===114&&(j=":");let ie=n.alignDelimiters===!1?1:Math.max(1,T[A]-oe.length-j.length);const be=oe+"-".repeat(ie)+j;n.alignDelimiters!==!1&&(ie=oe.length+ie+j.length,ie>T[A]&&(T[A]=ie),B[A]=ie),z[A]=be}$.splice(1,0,z),_.splice(1,0,B),w=-1;const Z=[];for(;++w<$.length;){const ce=$[w],oe=_[w];A=-1;const j=[];for(;++A<E;){const ie=ce[A]||"";let be="",Ie="";if(n.alignDelimiters!==!1){const Ge=T[A]-(oe[A]||0),Te=p[A];Te===114?be=" ".repeat(Ge):Te===99?Ge%2?(be=" ".repeat(Ge/2+.5),Ie=" ".repeat(Ge/2-.5)):(be=" ".repeat(Ge/2),Ie=be):Ie=" ".repeat(Ge)}n.delimiterStart!==!1&&!A&&j.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&ie==="")&&(n.delimiterStart!==!1||A)&&j.push(" "),n.alignDelimiters!==!1&&j.push(be),j.push(ie),n.alignDelimiters!==!1&&j.push(Ie),n.padding!==!1&&j.push(" "),(n.delimiterEnd!==!1||A!==E-1)&&j.push("|")}Z.push(n.delimiterEnd===!1?j.join("").replace(/ +$/,""):j.join(""))}return Z.join(`
`)}function Ax(r){return r==null?"":String(r)}function zm(r){const o=typeof r=="string"?r.codePointAt(0):0;return o===67||o===99?99:o===76||o===108?108:o===82||o===114?114:0}function Ix(r,o,n,a){const h=n.enter("blockquote"),p=n.createTracker(a);p.move("> "),p.shift(2);const $=n.indentLines(n.containerFlow(r,p.current()),Mx);return h(),$}function Mx(r,o,n){return">"+(n?"":" ")+r}function Rx(r,o){return Um(r,o.inConstruct,!0)&&!Um(r,o.notInConstruct,!1)}function Um(r,o,n){if(typeof o=="string"&&(o=[o]),!o||o.length===0)return n;let a=-1;for(;++a<o.length;)if(r.includes(o[a]))return!0;return!1}function Hm(r,o,n,a){let h=-1;for(;++h<n.unsafe.length;)if(n.unsafe[h].character===`
`&&Rx(n.stack,n.unsafe[h]))return/[ \t]/.test(a.before)?"":" ";return`\\
`}function Nx(r,o){return!!(o.options.fences===!1&&r.value&&!r.lang&&/[^ \r\n]/.test(r.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(r.value))}function Ox(r){const o=r.options.fence||"`";if(o!=="`"&&o!=="~")throw new Error("Cannot serialize code with `"+o+"` for `options.fence`, expected `` ` `` or `~`");return o}function Lx(r,o,n,a){const h=Ox(n),p=r.value||"",$=h==="`"?"GraveAccent":"Tilde";if(Nx(r,n)){const A=n.enter("codeIndented"),z=n.indentLines(p,Dx);return A(),z}const _=n.createTracker(a),T=h.repeat(Math.max(B9(p,h)+1,3)),E=n.enter("codeFenced");let w=_.move(T);if(r.lang){const A=n.enter(`codeFencedLang${$}`);w+=_.move(n.safe(r.lang,{before:w,after:" ",encode:["`"],..._.current()})),A()}if(r.lang&&r.meta){const A=n.enter(`codeFencedMeta${$}`);w+=_.move(" "),w+=_.move(n.safe(r.meta,{before:w,after:`
`,encode:["`"],..._.current()})),A()}return w+=_.move(`
`),p&&(w+=_.move(p+`
`)),w+=_.move(T),E(),w}function Dx(r,o,n){return(n?"":"    ")+r}function w7(r){const o=r.options.quote||'"';if(o!=='"'&&o!=="'")throw new Error("Cannot serialize title with `"+o+"` for `options.quote`, expected `\"`, or `'`");return o}function Bx(r,o,n,a){const h=w7(n),p=h==='"'?"Quote":"Apostrophe",$=n.enter("definition");let _=n.enter("label");const T=n.createTracker(a);let E=T.move("[");return E+=T.move(n.safe(n.associationId(r),{before:E,after:"]",...T.current()})),E+=T.move("]: "),_(),!r.url||/[\0- \u007F]/.test(r.url)?(_=n.enter("destinationLiteral"),E+=T.move("<"),E+=T.move(n.safe(r.url,{before:E,after:">",...T.current()})),E+=T.move(">")):(_=n.enter("destinationRaw"),E+=T.move(n.safe(r.url,{before:E,after:r.title?" ":`
`,...T.current()}))),_(),r.title&&(_=n.enter(`title${p}`),E+=T.move(" "+h),E+=T.move(n.safe(r.title,{before:E,after:h,...T.current()})),E+=T.move(h),_()),$(),E}function Px(r){const o=r.options.emphasis||"*";if(o!=="*"&&o!=="_")throw new Error("Cannot serialize emphasis with `"+o+"` for `options.emphasis`, expected `*`, or `_`");return o}function u3(r){return"&#x"+r.toString(16).toUpperCase()+";"}function R5(r,o,n){const a=w4(r),h=w4(o);return a===void 0?h===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:h===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:a===1?h===void 0?{inside:!1,outside:!1}:h===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:h===void 0?{inside:!1,outside:!1}:h===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Vg.peek=Fx;function Vg(r,o,n,a){const h=Px(n),p=n.enter("emphasis"),$=n.createTracker(a),_=$.move(h);let T=$.move(n.containerPhrasing(r,{after:h,before:_,...$.current()}));const E=T.charCodeAt(0),w=R5(a.before.charCodeAt(a.before.length-1),E,h);w.inside&&(T=u3(E)+T.slice(1));const A=T.charCodeAt(T.length-1),z=R5(a.after.charCodeAt(0),A,h);z.inside&&(T=T.slice(0,-1)+u3(A));const B=$.move(h);return p(),n.attentionEncodeSurroundingInfo={after:z.outside,before:w.outside},_+T+B}function Fx(r,o,n){return n.options.emphasis||"*"}function zx(r,o){let n=!1;return t7(r,function(a){if("value"in a&&/\r?\n|\r/.test(a.value)||a.type==="break")return n=!0,wf}),!!((!r.depth||r.depth<3)&&Xf(r)&&(o.options.setext||n))}function Ux(r,o,n,a){const h=Math.max(Math.min(6,r.depth||1),1),p=n.createTracker(a);if(zx(r,n)){const w=n.enter("headingSetext"),A=n.enter("phrasing"),z=n.containerPhrasing(r,{...p.current(),before:`
`,after:`
`});return A(),w(),z+`
`+(h===1?"=":"-").repeat(z.length-(Math.max(z.lastIndexOf("\r"),z.lastIndexOf(`
`))+1))}const $="#".repeat(h),_=n.enter("headingAtx"),T=n.enter("phrasing");p.move($+" ");let E=n.containerPhrasing(r,{before:"# ",after:`
`,...p.current()});return/^[\t ]/.test(E)&&(E=u3(E.charCodeAt(0))+E.slice(1)),E=E?$+" "+E:$,n.options.closeAtx&&(E+=" "+$),T(),_(),E}Wg.peek=Hx;function Wg(r){return r.value||""}function Hx(){return"<"}qg.peek=Gx;function qg(r,o,n,a){const h=w7(n),p=h==='"'?"Quote":"Apostrophe",$=n.enter("image");let _=n.enter("label");const T=n.createTracker(a);let E=T.move("![");return E+=T.move(n.safe(r.alt,{before:E,after:"]",...T.current()})),E+=T.move("]("),_(),!r.url&&r.title||/[\0- \u007F]/.test(r.url)?(_=n.enter("destinationLiteral"),E+=T.move("<"),E+=T.move(n.safe(r.url,{before:E,after:">",...T.current()})),E+=T.move(">")):(_=n.enter("destinationRaw"),E+=T.move(n.safe(r.url,{before:E,after:r.title?" ":")",...T.current()}))),_(),r.title&&(_=n.enter(`title${p}`),E+=T.move(" "+h),E+=T.move(n.safe(r.title,{before:E,after:h,...T.current()})),E+=T.move(h),_()),E+=T.move(")"),$(),E}function Gx(){return"!"}Xg.peek=Vx;function Xg(r,o,n,a){const h=r.referenceType,p=n.enter("imageReference");let $=n.enter("label");const _=n.createTracker(a);let T=_.move("![");const E=n.safe(r.alt,{before:T,after:"]",..._.current()});T+=_.move(E+"]["),$();const w=n.stack;n.stack=[],$=n.enter("reference");const A=n.safe(n.associationId(r),{before:T,after:"]",..._.current()});return $(),n.stack=w,p(),h==="full"||!E||E!==A?T+=_.move(A+"]"):h==="shortcut"?T=T.slice(0,-1):T+=_.move("]"),T}function Vx(){return"!"}jg.peek=Wx;function jg(r,o,n){let a=r.value||"",h="`",p=-1;for(;new RegExp("(^|[^`])"+h+"([^`]|$)").test(a);)h+="`";for(/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^`|`$/.test(a))&&(a=" "+a+" ");++p<n.unsafe.length;){const $=n.unsafe[p],_=n.compilePattern($);let T;if($.atBreak)for(;T=_.exec(a);){let E=T.index;a.charCodeAt(E)===10&&a.charCodeAt(E-1)===13&&E--,a=a.slice(0,E)+" "+a.slice(T.index+1)}}return h+a+h}function Wx(){return"`"}function Yg(r,o){const n=Xf(r);return!!(!o.options.resourceLink&&r.url&&!r.title&&r.children&&r.children.length===1&&r.children[0].type==="text"&&(n===r.url||"mailto:"+n===r.url)&&/^[a-z][a-z+.-]+:/i.test(r.url)&&!/[\0- <>\u007F]/.test(r.url))}Kg.peek=qx;function Kg(r,o,n,a){const h=w7(n),p=h==='"'?"Quote":"Apostrophe",$=n.createTracker(a);let _,T;if(Yg(r,n)){const w=n.stack;n.stack=[],_=n.enter("autolink");let A=$.move("<");return A+=$.move(n.containerPhrasing(r,{before:A,after:">",...$.current()})),A+=$.move(">"),_(),n.stack=w,A}_=n.enter("link"),T=n.enter("label");let E=$.move("[");return E+=$.move(n.containerPhrasing(r,{before:E,after:"](",...$.current()})),E+=$.move("]("),T(),!r.url&&r.title||/[\0- \u007F]/.test(r.url)?(T=n.enter("destinationLiteral"),E+=$.move("<"),E+=$.move(n.safe(r.url,{before:E,after:">",...$.current()})),E+=$.move(">")):(T=n.enter("destinationRaw"),E+=$.move(n.safe(r.url,{before:E,after:r.title?" ":")",...$.current()}))),T(),r.title&&(T=n.enter(`title${p}`),E+=$.move(" "+h),E+=$.move(n.safe(r.title,{before:E,after:h,...$.current()})),E+=$.move(h),T()),E+=$.move(")"),_(),E}function qx(r,o,n){return Yg(r,n)?"<":"["}Jg.peek=Xx;function Jg(r,o,n,a){const h=r.referenceType,p=n.enter("linkReference");let $=n.enter("label");const _=n.createTracker(a);let T=_.move("[");const E=n.containerPhrasing(r,{before:T,after:"]",..._.current()});T+=_.move(E+"]["),$();const w=n.stack;n.stack=[],$=n.enter("reference");const A=n.safe(n.associationId(r),{before:T,after:"]",..._.current()});return $(),n.stack=w,p(),h==="full"||!E||E!==A?T+=_.move(A+"]"):h==="shortcut"?T=T.slice(0,-1):T+=_.move("]"),T}function Xx(){return"["}function S7(r){const o=r.options.bullet||"*";if(o!=="*"&&o!=="+"&&o!=="-")throw new Error("Cannot serialize items with `"+o+"` for `options.bullet`, expected `*`, `+`, or `-`");return o}function jx(r){const o=S7(r),n=r.options.bulletOther;if(!n)return o==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===o)throw new Error("Expected `bullet` (`"+o+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Yx(r){const o=r.options.bulletOrdered||".";if(o!=="."&&o!==")")throw new Error("Cannot serialize items with `"+o+"` for `options.bulletOrdered`, expected `.` or `)`");return o}function Zg(r){const o=r.options.rule||"*";if(o!=="*"&&o!=="-"&&o!=="_")throw new Error("Cannot serialize rules with `"+o+"` for `options.rule`, expected `*`, `-`, or `_`");return o}function Kx(r,o,n,a){const h=n.enter("list"),p=n.bulletCurrent;let $=r.ordered?Yx(n):S7(n);const _=r.ordered?$==="."?")":".":jx(n);let T=o&&n.bulletLastUsed?$===n.bulletLastUsed:!1;if(!r.ordered){const w=r.children?r.children[0]:void 0;if(($==="*"||$==="-")&&w&&(!w.children||!w.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(T=!0),Zg(n)===$&&w){let A=-1;for(;++A<r.children.length;){const z=r.children[A];if(z&&z.type==="listItem"&&z.children&&z.children[0]&&z.children[0].type==="thematicBreak"){T=!0;break}}}}T&&($=_),n.bulletCurrent=$;const E=n.containerFlow(r,a);return n.bulletLastUsed=$,n.bulletCurrent=p,h(),E}function Jx(r){const o=r.options.listItemIndent||"one";if(o!=="tab"&&o!=="one"&&o!=="mixed")throw new Error("Cannot serialize items with `"+o+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return o}function Zx(r,o,n,a){const h=Jx(n);let p=n.bulletCurrent||S7(n);o&&o.type==="list"&&o.ordered&&(p=(typeof o.start=="number"&&o.start>-1?o.start:1)+(n.options.incrementListMarker===!1?0:o.children.indexOf(r))+p);let $=p.length+1;(h==="tab"||h==="mixed"&&(o&&o.type==="list"&&o.spread||r.spread))&&($=Math.ceil($/4)*4);const _=n.createTracker(a);_.move(p+" ".repeat($-p.length)),_.shift($);const T=n.enter("listItem"),E=n.indentLines(n.containerFlow(r,_.current()),w);return T(),E;function w(A,z,B){return z?(B?"":" ".repeat($))+A:(B?p:p+" ".repeat($-p.length))+A}}function Qx(r,o,n,a){const h=n.enter("paragraph"),p=n.enter("phrasing"),$=n.containerPhrasing(r,a);return p(),h(),$}const ek=f3(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function tk(r,o,n,a){return(r.children.some(function($){return ek($)})?n.containerPhrasing:n.containerFlow).call(n,r,a)}function nk(r){const o=r.options.strong||"*";if(o!=="*"&&o!=="_")throw new Error("Cannot serialize strong with `"+o+"` for `options.strong`, expected `*`, or `_`");return o}Qg.peek=rk;function Qg(r,o,n,a){const h=nk(n),p=n.enter("strong"),$=n.createTracker(a),_=$.move(h+h);let T=$.move(n.containerPhrasing(r,{after:h,before:_,...$.current()}));const E=T.charCodeAt(0),w=R5(a.before.charCodeAt(a.before.length-1),E,h);w.inside&&(T=u3(E)+T.slice(1));const A=T.charCodeAt(T.length-1),z=R5(a.after.charCodeAt(0),A,h);z.inside&&(T=T.slice(0,-1)+u3(A));const B=$.move(h+h);return p(),n.attentionEncodeSurroundingInfo={after:z.outside,before:w.outside},_+T+B}function rk(r,o,n){return n.options.strong||"*"}function ik(r,o,n,a){return n.safe(r.value,a)}function sk(r){const o=r.options.ruleRepetition||3;if(o<3)throw new Error("Cannot serialize rules with repetition `"+o+"` for `options.ruleRepetition`, expected `3` or more");return o}function ok(r,o,n){const a=(Zg(n)+(n.options.ruleSpaces?" ":"")).repeat(sk(n));return n.options.ruleSpaces?a.slice(0,-1):a}const e$={blockquote:Ix,break:Hm,code:Lx,definition:Bx,emphasis:Vg,hardBreak:Hm,heading:Ux,html:Wg,image:qg,imageReference:Xg,inlineCode:jg,link:Kg,linkReference:Jg,list:Kx,listItem:Zx,paragraph:Qx,root:tk,strong:Qg,text:ik,thematicBreak:ok};function lk(){return{enter:{table:ak,tableData:Gm,tableHeader:Gm,tableRow:ck},exit:{codeText:hk,table:uk,tableData:$f,tableHeader:$f,tableRow:$f}}}function ak(r){const o=r._align;this.enter({type:"table",align:o.map(function(n){return n==="none"?null:n}),children:[]},r),this.data.inTable=!0}function uk(r){this.exit(r),this.data.inTable=void 0}function ck(r){this.enter({type:"tableRow",children:[]},r)}function $f(r){this.exit(r)}function Gm(r){this.enter({type:"tableCell",children:[]},r)}function hk(r){let o=this.resume();this.data.inTable&&(o=o.replace(/\\([\\|])/g,dk));const n=this.stack[this.stack.length-1];n.type,n.value=o,this.exit(r)}function dk(r,o){return o==="|"?o:r}function fk(r){const o=r||{},n=o.tableCellPadding,a=o.tablePipeAlign,h=o.stringLength,p=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:z,table:$,tableCell:T,tableRow:_}};function $(B,Z,ce,oe){return E(w(B,ce,oe),B.align)}function _(B,Z,ce,oe){const j=A(B,ce,oe),ie=E([j]);return ie.slice(0,ie.indexOf(`
`))}function T(B,Z,ce,oe){const j=ce.enter("tableCell"),ie=ce.enter("phrasing"),be=ce.containerPhrasing(B,{...oe,before:p,after:p});return ie(),j(),be}function E(B,Z){return Cx(B,{align:Z,alignDelimiters:a,padding:n,stringLength:h})}function w(B,Z,ce){const oe=B.children;let j=-1;const ie=[],be=Z.enter("table");for(;++j<oe.length;)ie[j]=A(oe[j],Z,ce);return be(),ie}function A(B,Z,ce){const oe=B.children;let j=-1;const ie=[],be=Z.enter("tableRow");for(;++j<oe.length;)ie[j]=T(oe[j],B,Z,ce);return be(),ie}function z(B,Z,ce){let oe=e$.inlineCode(B,Z,ce);return ce.stack.includes("tableCell")&&(oe=oe.replace(/\|/g,"\\$&")),oe}}function pk(){return{exit:{taskListCheckValueChecked:Vm,taskListCheckValueUnchecked:Vm,paragraph:gk}}}function mk(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:$k}}}function Vm(r){const o=this.stack[this.stack.length-2];o.type,o.checked=r.type==="taskListCheckValueChecked"}function gk(r){const o=this.stack[this.stack.length-2];if(o&&o.type==="listItem"&&typeof o.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const a=n.children[0];if(a&&a.type==="text"){const h=o.children;let p=-1,$;for(;++p<h.length;){const _=h[p];if(_.type==="paragraph"){$=_;break}}$===n&&(a.value=a.value.slice(1),a.value.length===0?n.children.shift():n.position&&a.position&&typeof a.position.start.offset=="number"&&(a.position.start.column++,a.position.start.offset++,n.position.start=Object.assign({},a.position.start)))}}this.exit(r)}function $k(r,o,n,a){const h=r.children[0],p=typeof r.checked=="boolean"&&h&&h.type==="paragraph",$="["+(r.checked?"x":" ")+"] ",_=n.createTracker(a);p&&_.move($);let T=e$.listItem(r,o,n,{...a,..._.current()});return p&&(T=T.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,E)),T;function E(w){return w+$}}function bk(){return[JS(),bx(),_x(),lk(),pk()]}function vk(r){return{extensions:[ZS(),vx(r),Ex(),fk(r),mk()]}}const yk={tokenize:xk,partial:!0},t$={tokenize:kk,partial:!0},n$={tokenize:Ck,partial:!0},r$={tokenize:Ak,partial:!0},Tk={tokenize:Ik,partial:!0},i$={name:"wwwAutolink",tokenize:wk,previous:o$},s$={name:"protocolAutolink",tokenize:Sk,previous:l$},Xc={name:"emailAutolink",tokenize:Ek,previous:a$},Ku={};function _k(){return{text:Ku}}let Kh=48;for(;Kh<123;)Ku[Kh]=Xc,Kh++,Kh===58?Kh=65:Kh===91&&(Kh=97);Ku[43]=Xc;Ku[45]=Xc;Ku[46]=Xc;Ku[95]=Xc;Ku[72]=[Xc,s$];Ku[104]=[Xc,s$];Ku[87]=[Xc,i$];Ku[119]=[Xc,i$];function Ek(r,o,n){const a=this;let h,p;return $;function $(A){return!Ff(A)||!a$.call(a,a.previous)||x7(a.events)?n(A):(r.enter("literalAutolink"),r.enter("literalAutolinkEmail"),_(A))}function _(A){return Ff(A)?(r.consume(A),_):A===64?(r.consume(A),T):n(A)}function T(A){return A===46?r.check(Tk,w,E)(A):A===45||A===95||Al(A)?(p=!0,r.consume(A),T):w(A)}function E(A){return r.consume(A),h=!0,T}function w(A){return p&&h&&Zl(a.previous)?(r.exit("literalAutolinkEmail"),r.exit("literalAutolink"),o(A)):n(A)}}function wk(r,o,n){const a=this;return h;function h($){return $!==87&&$!==119||!o$.call(a,a.previous)||x7(a.events)?n($):(r.enter("literalAutolink"),r.enter("literalAutolinkWww"),r.check(yk,r.attempt(t$,r.attempt(n$,p),n),n)($))}function p($){return r.exit("literalAutolinkWww"),r.exit("literalAutolink"),o($)}}function Sk(r,o,n){const a=this;let h="",p=!1;return $;function $(A){return(A===72||A===104)&&l$.call(a,a.previous)&&!x7(a.events)?(r.enter("literalAutolink"),r.enter("literalAutolinkHttp"),h+=String.fromCodePoint(A),r.consume(A),_):n(A)}function _(A){if(Zl(A)&&h.length<5)return h+=String.fromCodePoint(A),r.consume(A),_;if(A===58){const z=h.toLowerCase();if(z==="http"||z==="https")return r.consume(A),T}return n(A)}function T(A){return A===47?(r.consume(A),p?E:(p=!0,T)):n(A)}function E(A){return A===null||w5(A)||Es(A)||Jh(A)||D5(A)?n(A):r.attempt(t$,r.attempt(n$,w),n)(A)}function w(A){return r.exit("literalAutolinkHttp"),r.exit("literalAutolink"),o(A)}}function xk(r,o,n){let a=0;return h;function h($){return($===87||$===119)&&a<3?(a++,r.consume($),h):$===46&&a===3?(r.consume($),p):n($)}function p($){return $===null?n($):o($)}}function kk(r,o,n){let a,h,p;return $;function $(E){return E===46||E===95?r.check(r$,T,_)(E):E===null||Es(E)||Jh(E)||E!==45&&D5(E)?T(E):(p=!0,r.consume(E),$)}function _(E){return E===95?a=!0:(h=a,a=void 0),r.consume(E),$}function T(E){return h||a||!p?n(E):o(E)}}function Ck(r,o){let n=0,a=0;return h;function h($){return $===40?(n++,r.consume($),h):$===41&&a<n?p($):$===33||$===34||$===38||$===39||$===41||$===42||$===44||$===46||$===58||$===59||$===60||$===63||$===93||$===95||$===126?r.check(r$,o,p)($):$===null||Es($)||Jh($)?o($):(r.consume($),h)}function p($){return $===41&&a++,r.consume($),h}}function Ak(r,o,n){return a;function a(_){return _===33||_===34||_===39||_===41||_===42||_===44||_===46||_===58||_===59||_===63||_===95||_===126?(r.consume(_),a):_===38?(r.consume(_),p):_===93?(r.consume(_),h):_===60||_===null||Es(_)||Jh(_)?o(_):n(_)}function h(_){return _===null||_===40||_===91||Es(_)||Jh(_)?o(_):a(_)}function p(_){return Zl(_)?$(_):n(_)}function $(_){return _===59?(r.consume(_),a):Zl(_)?(r.consume(_),$):n(_)}}function Ik(r,o,n){return a;function a(p){return r.consume(p),h}function h(p){return Al(p)?n(p):o(p)}}function o$(r){return r===null||r===40||r===42||r===95||r===91||r===93||r===126||Es(r)}function l$(r){return!Zl(r)}function a$(r){return!(r===47||Ff(r))}function Ff(r){return r===43||r===45||r===46||r===95||Al(r)}function x7(r){let o=r.length,n=!1;for(;o--;){const a=r[o][1];if((a.type==="labelLink"||a.type==="labelImage")&&!a._balanced){n=!0;break}if(a._gfmAutolinkLiteralWalkedInto){n=!1;break}}return r.length>0&&!n&&(r[r.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Mk={tokenize:Fk,partial:!0};function Rk(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Dk,continuation:{tokenize:Bk},exit:Pk}},text:{91:{name:"gfmFootnoteCall",tokenize:Lk},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Nk,resolveTo:Ok}}}}function Nk(r,o,n){const a=this;let h=a.events.length;const p=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let $;for(;h--;){const T=a.events[h][1];if(T.type==="labelImage"){$=T;break}if(T.type==="gfmFootnoteCall"||T.type==="labelLink"||T.type==="label"||T.type==="image"||T.type==="link")break}return _;function _(T){if(!$||!$._balanced)return n(T);const E=ru(a.sliceSerialize({start:$.end,end:a.now()}));return E.codePointAt(0)!==94||!p.includes(E.slice(1))?n(T):(r.enter("gfmFootnoteCallLabelMarker"),r.consume(T),r.exit("gfmFootnoteCallLabelMarker"),o(T))}}function Ok(r,o){let n=r.length;for(;n--;)if(r[n][1].type==="labelImage"&&r[n][0]==="enter"){r[n][1];break}r[n+1][1].type="data",r[n+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},r[n+3][1].start),end:Object.assign({},r[r.length-1][1].end)},h={type:"gfmFootnoteCallMarker",start:Object.assign({},r[n+3][1].end),end:Object.assign({},r[n+3][1].end)};h.end.column++,h.end.offset++,h.end._bufferIndex++;const p={type:"gfmFootnoteCallString",start:Object.assign({},h.end),end:Object.assign({},r[r.length-1][1].start)},$={type:"chunkString",contentType:"string",start:Object.assign({},p.start),end:Object.assign({},p.end)},_=[r[n+1],r[n+2],["enter",a,o],r[n+3],r[n+4],["enter",h,o],["exit",h,o],["enter",p,o],["enter",$,o],["exit",$,o],["exit",p,o],r[r.length-2],r[r.length-1],["exit",a,o]];return r.splice(n,r.length-n+1,..._),r}function Lk(r,o,n){const a=this,h=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let p=0,$;return _;function _(A){return r.enter("gfmFootnoteCall"),r.enter("gfmFootnoteCallLabelMarker"),r.consume(A),r.exit("gfmFootnoteCallLabelMarker"),T}function T(A){return A!==94?n(A):(r.enter("gfmFootnoteCallMarker"),r.consume(A),r.exit("gfmFootnoteCallMarker"),r.enter("gfmFootnoteCallString"),r.enter("chunkString").contentType="string",E)}function E(A){if(p>999||A===93&&!$||A===null||A===91||Es(A))return n(A);if(A===93){r.exit("chunkString");const z=r.exit("gfmFootnoteCallString");return h.includes(ru(a.sliceSerialize(z)))?(r.enter("gfmFootnoteCallLabelMarker"),r.consume(A),r.exit("gfmFootnoteCallLabelMarker"),r.exit("gfmFootnoteCall"),o):n(A)}return Es(A)||($=!0),p++,r.consume(A),A===92?w:E}function w(A){return A===91||A===92||A===93?(r.consume(A),p++,E):E(A)}}function Dk(r,o,n){const a=this,h=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let p,$=0,_;return T;function T(Z){return r.enter("gfmFootnoteDefinition")._container=!0,r.enter("gfmFootnoteDefinitionLabel"),r.enter("gfmFootnoteDefinitionLabelMarker"),r.consume(Z),r.exit("gfmFootnoteDefinitionLabelMarker"),E}function E(Z){return Z===94?(r.enter("gfmFootnoteDefinitionMarker"),r.consume(Z),r.exit("gfmFootnoteDefinitionMarker"),r.enter("gfmFootnoteDefinitionLabelString"),r.enter("chunkString").contentType="string",w):n(Z)}function w(Z){if($>999||Z===93&&!_||Z===null||Z===91||Es(Z))return n(Z);if(Z===93){r.exit("chunkString");const ce=r.exit("gfmFootnoteDefinitionLabelString");return p=ru(a.sliceSerialize(ce)),r.enter("gfmFootnoteDefinitionLabelMarker"),r.consume(Z),r.exit("gfmFootnoteDefinitionLabelMarker"),r.exit("gfmFootnoteDefinitionLabel"),z}return Es(Z)||(_=!0),$++,r.consume(Z),Z===92?A:w}function A(Z){return Z===91||Z===92||Z===93?(r.consume(Z),$++,w):w(Z)}function z(Z){return Z===58?(r.enter("definitionMarker"),r.consume(Z),r.exit("definitionMarker"),h.includes(p)||h.push(p),ii(r,B,"gfmFootnoteDefinitionWhitespace")):n(Z)}function B(Z){return o(Z)}}function Bk(r,o,n){return r.check(d3,o,r.attempt(Mk,o,n))}function Pk(r){r.exit("gfmFootnoteDefinition")}function Fk(r,o,n){const a=this;return ii(r,h,"gfmFootnoteDefinitionIndent",5);function h(p){const $=a.events[a.events.length-1];return $&&$[1].type==="gfmFootnoteDefinitionIndent"&&$[2].sliceSerialize($[1],!0).length===4?o(p):n(p)}}function zk(r){let n=(r||{}).singleTilde;const a={name:"strikethrough",tokenize:p,resolveAll:h};return n==null&&(n=!0),{text:{126:a},insideSpan:{null:[a]},attentionMarkers:{null:[126]}};function h($,_){let T=-1;for(;++T<$.length;)if($[T][0]==="enter"&&$[T][1].type==="strikethroughSequenceTemporary"&&$[T][1]._close){let E=T;for(;E--;)if($[E][0]==="exit"&&$[E][1].type==="strikethroughSequenceTemporary"&&$[E][1]._open&&$[T][1].end.offset-$[T][1].start.offset===$[E][1].end.offset-$[E][1].start.offset){$[T][1].type="strikethroughSequence",$[E][1].type="strikethroughSequence";const w={type:"strikethrough",start:Object.assign({},$[E][1].start),end:Object.assign({},$[T][1].end)},A={type:"strikethroughText",start:Object.assign({},$[E][1].end),end:Object.assign({},$[T][1].start)},z=[["enter",w,_],["enter",$[E][1],_],["exit",$[E][1],_],["enter",A,_]],B=_.parser.constructs.insideSpan.null;B&&U0(z,z.length,0,B5(B,$.slice(E+1,T),_)),U0(z,z.length,0,[["exit",A,_],["enter",$[T][1],_],["exit",$[T][1],_],["exit",w,_]]),U0($,E-1,T-E+3,z),T=E+z.length-2;break}}for(T=-1;++T<$.length;)$[T][1].type==="strikethroughSequenceTemporary"&&($[T][1].type="data");return $}function p($,_,T){const E=this.previous,w=this.events;let A=0;return z;function z(Z){return E===126&&w[w.length-1][1].type!=="characterEscape"?T(Z):($.enter("strikethroughSequenceTemporary"),B(Z))}function B(Z){const ce=w4(E);if(Z===126)return A>1?T(Z):($.consume(Z),A++,B);if(A<2&&!n)return T(Z);const oe=$.exit("strikethroughSequenceTemporary"),j=w4(Z);return oe._open=!j||j===2&&!!ce,oe._close=!ce||ce===2&&!!j,_(Z)}}}class Uk{constructor(){this.map=[]}add(o,n,a){Hk(this,o,n,a)}consume(o){if(this.map.sort(function(p,$){return p[0]-$[0]}),this.map.length===0)return;let n=this.map.length;const a=[];for(;n>0;)n-=1,a.push(o.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),o.length=this.map[n][0];a.push(o.slice()),o.length=0;let h=a.pop();for(;h;){for(const p of h)o.push(p);h=a.pop()}this.map.length=0}}function Hk(r,o,n,a){let h=0;if(!(n===0&&a.length===0)){for(;h<r.map.length;){if(r.map[h][0]===o){r.map[h][1]+=n,r.map[h][2].push(...a);return}h+=1}r.map.push([o,n,a])}}function Gk(r,o){let n=!1;const a=[];for(;o<r.length;){const h=r[o];if(n){if(h[0]==="enter")h[1].type==="tableContent"&&a.push(r[o+1][1].type==="tableDelimiterMarker"?"left":"none");else if(h[1].type==="tableContent"){if(r[o-1][1].type==="tableDelimiterMarker"){const p=a.length-1;a[p]=a[p]==="left"?"center":"right"}}else if(h[1].type==="tableDelimiterRow")break}else h[0]==="enter"&&h[1].type==="tableDelimiterRow"&&(n=!0);o+=1}return a}function Vk(){return{flow:{null:{name:"table",tokenize:Wk,resolveAll:qk}}}}function Wk(r,o,n){const a=this;let h=0,p=0,$;return _;function _(Xe){let Pt=a.events.length-1;for(;Pt>-1;){const yt=a.events[Pt][1].type;if(yt==="lineEnding"||yt==="linePrefix")Pt--;else break}const He=Pt>-1?a.events[Pt][1].type:null,Lt=He==="tableHead"||He==="tableRow"?Te:T;return Lt===Te&&a.parser.lazy[a.now().line]?n(Xe):Lt(Xe)}function T(Xe){return r.enter("tableHead"),r.enter("tableRow"),E(Xe)}function E(Xe){return Xe===124||($=!0,p+=1),w(Xe)}function w(Xe){return Xe===null?n(Xe):Jn(Xe)?p>1?(p=0,a.interrupt=!0,r.exit("tableRow"),r.enter("lineEnding"),r.consume(Xe),r.exit("lineEnding"),B):n(Xe):fi(Xe)?ii(r,w,"whitespace")(Xe):(p+=1,$&&($=!1,h+=1),Xe===124?(r.enter("tableCellDivider"),r.consume(Xe),r.exit("tableCellDivider"),$=!0,w):(r.enter("data"),A(Xe)))}function A(Xe){return Xe===null||Xe===124||Es(Xe)?(r.exit("data"),w(Xe)):(r.consume(Xe),Xe===92?z:A)}function z(Xe){return Xe===92||Xe===124?(r.consume(Xe),A):A(Xe)}function B(Xe){return a.interrupt=!1,a.parser.lazy[a.now().line]?n(Xe):(r.enter("tableDelimiterRow"),$=!1,fi(Xe)?ii(r,Z,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Xe):Z(Xe))}function Z(Xe){return Xe===45||Xe===58?oe(Xe):Xe===124?($=!0,r.enter("tableCellDivider"),r.consume(Xe),r.exit("tableCellDivider"),ce):Ge(Xe)}function ce(Xe){return fi(Xe)?ii(r,oe,"whitespace")(Xe):oe(Xe)}function oe(Xe){return Xe===58?(p+=1,$=!0,r.enter("tableDelimiterMarker"),r.consume(Xe),r.exit("tableDelimiterMarker"),j):Xe===45?(p+=1,j(Xe)):Xe===null||Jn(Xe)?Ie(Xe):Ge(Xe)}function j(Xe){return Xe===45?(r.enter("tableDelimiterFiller"),ie(Xe)):Ge(Xe)}function ie(Xe){return Xe===45?(r.consume(Xe),ie):Xe===58?($=!0,r.exit("tableDelimiterFiller"),r.enter("tableDelimiterMarker"),r.consume(Xe),r.exit("tableDelimiterMarker"),be):(r.exit("tableDelimiterFiller"),be(Xe))}function be(Xe){return fi(Xe)?ii(r,Ie,"whitespace")(Xe):Ie(Xe)}function Ie(Xe){return Xe===124?Z(Xe):Xe===null||Jn(Xe)?!$||h!==p?Ge(Xe):(r.exit("tableDelimiterRow"),r.exit("tableHead"),o(Xe)):Ge(Xe)}function Ge(Xe){return n(Xe)}function Te(Xe){return r.enter("tableRow"),We(Xe)}function We(Xe){return Xe===124?(r.enter("tableCellDivider"),r.consume(Xe),r.exit("tableCellDivider"),We):Xe===null||Jn(Xe)?(r.exit("tableRow"),o(Xe)):fi(Xe)?ii(r,We,"whitespace")(Xe):(r.enter("data"),lt(Xe))}function lt(Xe){return Xe===null||Xe===124||Es(Xe)?(r.exit("data"),We(Xe)):(r.consume(Xe),Xe===92?Je:lt)}function Je(Xe){return Xe===92||Xe===124?(r.consume(Xe),lt):lt(Xe)}}function qk(r,o){let n=-1,a=!0,h=0,p=[0,0,0,0],$=[0,0,0,0],_=!1,T=0,E,w,A;const z=new Uk;for(;++n<r.length;){const B=r[n],Z=B[1];B[0]==="enter"?Z.type==="tableHead"?(_=!1,T!==0&&(Wm(z,o,T,E,w),w=void 0,T=0),E={type:"table",start:Object.assign({},Z.start),end:Object.assign({},Z.end)},z.add(n,0,[["enter",E,o]])):Z.type==="tableRow"||Z.type==="tableDelimiterRow"?(a=!0,A=void 0,p=[0,0,0,0],$=[0,n+1,0,0],_&&(_=!1,w={type:"tableBody",start:Object.assign({},Z.start),end:Object.assign({},Z.end)},z.add(n,0,[["enter",w,o]])),h=Z.type==="tableDelimiterRow"?2:w?3:1):h&&(Z.type==="data"||Z.type==="tableDelimiterMarker"||Z.type==="tableDelimiterFiller")?(a=!1,$[2]===0&&(p[1]!==0&&($[0]=$[1],A=d5(z,o,p,h,void 0,A),p=[0,0,0,0]),$[2]=n)):Z.type==="tableCellDivider"&&(a?a=!1:(p[1]!==0&&($[0]=$[1],A=d5(z,o,p,h,void 0,A)),p=$,$=[p[1],n,0,0])):Z.type==="tableHead"?(_=!0,T=n):Z.type==="tableRow"||Z.type==="tableDelimiterRow"?(T=n,p[1]!==0?($[0]=$[1],A=d5(z,o,p,h,n,A)):$[1]!==0&&(A=d5(z,o,$,h,n,A)),h=0):h&&(Z.type==="data"||Z.type==="tableDelimiterMarker"||Z.type==="tableDelimiterFiller")&&($[3]=n)}for(T!==0&&Wm(z,o,T,E,w),z.consume(o.events),n=-1;++n<o.events.length;){const B=o.events[n];B[0]==="enter"&&B[1].type==="table"&&(B[1]._align=Gk(o.events,n))}return r}function d5(r,o,n,a,h,p){const $=a===1?"tableHeader":a===2?"tableDelimiter":"tableData",_="tableContent";n[0]!==0&&(p.end=Object.assign({},T4(o.events,n[0])),r.add(n[0],0,[["exit",p,o]]));const T=T4(o.events,n[1]);if(p={type:$,start:Object.assign({},T),end:Object.assign({},T)},r.add(n[1],0,[["enter",p,o]]),n[2]!==0){const E=T4(o.events,n[2]),w=T4(o.events,n[3]),A={type:_,start:Object.assign({},E),end:Object.assign({},w)};if(r.add(n[2],0,[["enter",A,o]]),a!==2){const z=o.events[n[2]],B=o.events[n[3]];if(z[1].end=Object.assign({},B[1].end),z[1].type="chunkText",z[1].contentType="text",n[3]>n[2]+1){const Z=n[2]+1,ce=n[3]-n[2]-1;r.add(Z,ce,[])}}r.add(n[3]+1,0,[["exit",A,o]])}return h!==void 0&&(p.end=Object.assign({},T4(o.events,h)),r.add(h,0,[["exit",p,o]]),p=void 0),p}function Wm(r,o,n,a,h){const p=[],$=T4(o.events,n);h&&(h.end=Object.assign({},$),p.push(["exit",h,o])),a.end=Object.assign({},$),p.push(["exit",a,o]),r.add(n+1,0,p)}function T4(r,o){const n=r[o],a=n[0]==="enter"?"start":"end";return n[1][a]}const Xk={name:"tasklistCheck",tokenize:Yk};function jk(){return{text:{91:Xk}}}function Yk(r,o,n){const a=this;return h;function h(T){return a.previous!==null||!a._gfmTasklistFirstContentOfListItem?n(T):(r.enter("taskListCheck"),r.enter("taskListCheckMarker"),r.consume(T),r.exit("taskListCheckMarker"),p)}function p(T){return Es(T)?(r.enter("taskListCheckValueUnchecked"),r.consume(T),r.exit("taskListCheckValueUnchecked"),$):T===88||T===120?(r.enter("taskListCheckValueChecked"),r.consume(T),r.exit("taskListCheckValueChecked"),$):n(T)}function $(T){return T===93?(r.enter("taskListCheckMarker"),r.consume(T),r.exit("taskListCheckMarker"),r.exit("taskListCheck"),_):n(T)}function _(T){return Jn(T)?o(T):fi(T)?r.check({tokenize:Kk},o,n)(T):n(T)}}function Kk(r,o,n){return ii(r,a,"whitespace");function a(h){return h===null?n(h):o(h)}}function Jk(r){return g9([_k(),Rk(),zk(r),Vk(),jk()])}const Zk={};function Qk(r){const o=this,n=r||Zk,a=o.data(),h=a.micromarkExtensions||(a.micromarkExtensions=[]),p=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),$=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);h.push(Jk(n)),p.push(bk()),$.push(vk(n))}function eC({title:r,content:o,isCollapsed:n,onToggle:a}){return _e.jsxs("div",{className:`
        relative flex flex-col flex-shrink-0 bg-white border-r border-slate-200 shadow-[4px_0_24px_rgba(0,0,0,0.05)]
        transition-all duration-300 ease-in-out 
        z-50  /* <--- Augmentation drastique du z-index pour passer au-dessus de Blockly */
        ${n?"w-12":"w-96"}
      `,children:[_e.jsx("button",{onClick:a,className:`absolute -right-3 top-6 z-50 w-6 h-6 flex items-center justify-center 
                   bg-white border border-slate-200 rounded-full shadow-md text-slate-500 
                   hover:text-blue-600 hover:scale-110 transition-all cursor-pointer`,title:n?"Ouvrir":"Fermer",children:_e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:`w-3 h-3 transition-transform ${n?"rotate-180":""}`,children:_e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),!n&&_e.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[_e.jsx("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 backdrop-blur-sm",children:_e.jsxs("h2",{className:"m-0 text-xl font-bold text-slate-800 flex items-center gap-2",children:[_e.jsx("span",{className:"text-2xl",children:""})," ",r||"Mission"]})}),_e.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:_e.jsxs("div",{className:"prose prose-slate prose-p:text-slate-600 prose-headings:text-slate-800 prose-strong:text-indigo-600 prose-code:text-pink-500 prose-code:bg-pink-50 prose-code:px-1 prose-code:rounded prose-table:border-collapse prose-th:border prose-th:border-slate-200 prose-th:p-2 prose-td:border prose-td:border-slate-200 prose-td:p-2 text-sm leading-relaxed",children:["              ",o?_e.jsx(Q_,{remarkPlugins:[fS,Qk],rehypePlugins:[WS],children:o}):_e.jsx("p",{className:"text-slate-400 italic text-center mt-10",children:"Aucune consigne pour ce niveau."})]})})]}),n&&_e.jsx("div",{onClick:a,className:"h-full flex items-center justify-center cursor-pointer hover:bg-slate-50 transition-colors",children:_e.jsxs("div",{className:"writing-vertical-rl rotate-180 font-bold text-slate-400 tracking-widest text-xs uppercase flex items-center gap-2",children:[_e.jsx("span",{children:"CONSIGNE"}),_e.jsx("span",{className:"text-lg",children:""})]})}),_e.jsx("style",{children:`
        .writing-vertical-rl { writing-mode: vertical-rl; }
        /* Scrollbar fine pour Chrome/Safari/Edge */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 20px; }
      `})]})}const tC=(r,o)=>{const n=new Date().getHours(),a=`LVL:${r}|ST:${o.stars}|BL:${o.blocks}`;let h=0;for(let p=0;p<a.length;p++){const $=a.charCodeAt(p);h=(h<<5)-h+$+n,h=h&h}return`${a}|#${Math.abs(h).toString(16)}`};function nC(r,o,n){const[a,h]=kn.useState(50),[p,$]=kn.useState(null),[_,T]=kn.useState("IDLE"),[E,w]=kn.useState([]),[A,z]=kn.useState({stars:0,blockCount:0,target:0}),[B,Z]=kn.useState(""),[ce,oe]=kn.useState(null),j=kn.useRef(null),ie=kn.useRef([]),be=kn.useRef(0),Ie=kn.useRef(null);kn.useEffect(()=>{if(!n.solutionBlocks||o.id!=="TURTLE"){w([]);return}const Lt=setTimeout(()=>{try{const yt=new bb,rt=Km.xml.textToDom(n.solutionBlocks);Ym.domToWorkspace(rt,yt),An.init(yt);const Ze=An.workspaceToCode(yt),$t=[];new Function("actions",Ze)($t);let ft=null;$t.forEach(It=>{ft=o.executeStep(ft,It,n).newState}),ft?.lines&&w(It=>JSON.stringify(It)===JSON.stringify(ft.lines)?It:ft.lines),yt.dispose()}catch(yt){console.error("Erreur modle:",yt)}},50);return()=>clearTimeout(Lt)},[n.solutionBlocks,o,n]);const Ge=kn.useCallback(Lt=>{const yt=n.maxBlocks||5;let rt=1;Lt<=yt?rt=3:Lt<=Math.ceil(yt*1.5)&&(rt=2),z({stars:rt,blockCount:Lt,target:yt});const Ze=tC(n.id||1,{stars:rt,blocks:Lt});Z(Ze),T("WON")},[n]),Te=kn.useCallback(()=>{z({stars:0,blockCount:r.current?.getAllBlocks(!1).length||0,target:n.maxBlocks}),T("FAILED")},[n]),We=kn.useCallback(()=>{j.current&&clearTimeout(j.current),T("IDLE"),$(null),oe(null),Ie.current=null,be.current=0,ie.current=[],r.current&&r.current.highlightBlock(null)},[r]),lt=kn.useCallback(()=>{const Lt=ie.current,yt=be.current;if(yt>=Lt.length)return!1;const rt=Lt[yt];if(oe({...rt,_uid:yt}),rt.id&&r.current&&r.current.highlightBlock(rt.id),rt.type==="SCAN")return be.current+=1,!0;let Ze=rt;const $t=o.executeStep(Ie.current,Ze,n);if(Ie.current=$t.newState,$($t.newState),be.current+=1,$t.status==="WIN"){const ft=n.type==="EQUATION"?3e3:500;return setTimeout(()=>Ge(r.current.getAllBlocks(!1).length),ft),!1}else if($t.status==="LOST")return setTimeout(()=>T("LOST"),500),!1;if(be.current>=Lt.length){r.current&&r.current.highlightBlock(null);const ft=n.type==="EQUATION"?3e3:500;return setTimeout(()=>{let It=!1;o.checkVictory&&(It=o.checkVictory(Ie.current,n,E)),It?Ge(r.current.getAllBlocks(!1).length):Te()},ft),!1}return!0},[o,n,E,Ge,Te,r]),Je=kn.useCallback(()=>{if(lt()){let yt=Math.max(5,(100-a)*10);n.type==="EQUATION"&&(yt=Math.max(yt,2500));const rt=ie.current[be.current-1];rt&&rt.type==="SCAN"&&(yt=Math.max(yt,500)),j.current=setTimeout(Je,yt)}},[lt,a,n.type]),Xe=kn.useCallback(()=>{if(!r.current)return;if(_==="PAUSED"){T("RUNNING"),Je();return}We(),An.init(r.current);const Lt=An.workspaceToCode(r.current);let yt="";n.inputs&&Object.entries(n.inputs).forEach(([It,le])=>{yt+=`var ${It} = ${JSON.stringify(le)};
`});let rt={x:n.startPos.x,y:n.startPos.y,dir:n.startPos.dir!==void 0?n.startPos.dir:0},Ze=0;const $t=1e3,ft={move:()=>{let It=rt.x,le=rt.y;rt.dir===0?It++:rt.dir===1?le++:rt.dir===2?It--:rt.dir===3&&le--,Ho.checkMove(n.grid,It,le)!=="WALL"&&(rt.x=It,rt.y=le)},turn:It=>{const le=It;rt.dir=le==="LEFT"?(rt.dir+3)%4:(rt.dir+1)%4},isPath:It=>Ho.look(n.grid,rt.x,rt.y,rt.dir,It),isDone:()=>Ho.checkMove(n.grid,rt.x,rt.y)==="WIN",safeCheck:()=>(Ze++,!(Ze>$t))};try{const It=[];new Function("actions","api",yt+Lt)(It,ft),ie.current=It,be.current=0,Ie.current=null,T("RUNNING"),Je()}catch(It){alert("Erreur excution : "+It.message),T("IDLE")}},[r,n,Je,We,_]),Pt=kn.useCallback(()=>{j.current&&clearTimeout(j.current),T("PAUSED")},[]),He=kn.useCallback(()=>{if(_==="IDLE"||_==="WON"||_==="LOST"||_==="FAILED"){if(!r.current)return;An.init(r.current);const Lt=An.workspaceToCode(r.current);let yt="";n.inputs&&Object.entries(n.inputs).forEach(([It,le])=>yt+=`var ${It} = ${JSON.stringify(le)};
`);let rt={x:n.startPos.x,y:n.startPos.y,dir:n.startPos.dir!==void 0?n.startPos.dir:0},Ze=0;const $t=1e3,ft={move:()=>{let It=rt.x,le=rt.y;rt.dir===0?It++:rt.dir===1?le++:rt.dir===2?It--:rt.dir===3&&le--,Ho.checkMove(n.grid,It,le)!=="WALL"&&(rt.x=It,rt.y=le)},turn:It=>{rt.dir=It==="LEFT"?(rt.dir+3)%4:(rt.dir+1)%4},isPath:It=>Ho.look(n.grid,rt.x,rt.y,rt.dir,It),isDone:()=>Ho.checkMove(n.grid,rt.x,rt.y)==="WIN",safeCheck:()=>(Ze++,!(Ze>$t))};try{const It=[];new Function("actions","api",yt+Lt)(It,ft),ie.current=It,be.current=0,Ie.current=null,T("PAUSED"),lt()}catch(It){alert("Erreur code : "+It.message)}}else _==="RUNNING"&&Pt(),lt(),_!=="WON"&&_!=="FAILED"&&_!=="LOST"&&T("PAUSED")},[_,n,lt,Pt,r]);return{speed:a,setSpeed:h,engineState:p,gameState:_,solutionLines:E,gameStats:A,proofToken:B,run:Xe,reset:We,pause:Pt,stepForward:He,lastAction:ce}}const rC={MAZE:Qm,MATH:Nb,TURTLE:Lb,EQUATION:Vb},iC={collapse:!0,comments:!0,disable:!0,maxBlocks:1/0,trashcan:!0,horizontalLayout:!1,toolboxPosition:"start",css:!0,media:"https://blockly-demo.appspot.com/static/media/",rtl:!1,scrollbars:!0,oneBasedIndex:!0,zoom:{controls:!0,wheel:!0,startScale:1}};function sC({levelData:r,onWin:o,levelIndex:n,onNextLevel:a}){const h=rC[r?.type]||Qm,p=h.RenderComponent,[$,_]=kn.useState(!0),[T,E]=kn.useState(!1),[w,A]=kn.useState(40),[z,B]=kn.useState(!1),Z=kn.useRef(null),ce=kn.useRef(null),oe=kn.useMemo(()=>({...r,grid:r?.grid||Ho.defaultGrid,startPos:{x:Number(r?.startPos?.x)||0,y:Number(r?.startPos?.y)||0,dir:Number(r?.startPos?.dir)||0},solutionBlocks:r?.solutionBlocks||null,allowedBlocks:r?.allowedBlocks,inputs:r?.inputs,hiddenVars:r?.hiddenVars,lockedVars:r?.lockedVars,id:r?.id,instruction:r?.instruction,startBlocks:r?.startBlocks,maxBlocks:r?.maxBlocks}),[r]),{speed:j,setSpeed:ie,engineState:be,gameState:Ie,solutionLines:Ge,gameStats:Te,proofToken:We,run:lt,reset:Je,pause:Xe,stepForward:Pt,lastAction:He}=nC(Z,h,oe),Lt=kn.useMemo(()=>({x:oe.startPos.x,y:oe.startPos.y,dir:oe.startPos.dir}),[oe.startPos]);kn.useEffect(()=>{Ie==="WON"&&o&&o(Te)},[Ie,o,Te]),kn.useEffect(()=>{const It=setTimeout(()=>{try{Uf(),E(!0)}catch{}},10);return()=>clearTimeout(It)},[]);const yt=kn.useMemo(()=>{const It=h.getToolboxXML(oe.allowedBlocks,oe.inputs,oe.hiddenVars,oe.lockedVars);return It.xml||It},[h,oe]),rt=It=>{if(Z.current=It,An.init(It),It.updateToolbox(yt),oe.startBlocks)try{const le=Km.xml.textToDom(oe.startBlocks);Ym.domToWorkspace(le,It)}catch{}window.setTimeout(()=>bf(It),0)};kn.useEffect(()=>{Z.current&&T&&Z.current.updateToolbox(yt)},[yt,T]),kn.useEffect(()=>{if(!Z.current)return;const It=setTimeout(()=>{bf(Z.current)},50);return()=>clearTimeout(It)},[$,w]);const Ze=It=>{B(!0),It.preventDefault()};kn.useEffect(()=>{const It=Be=>{if(!z||!ce.current)return;const ct=ce.current.getBoundingClientRect(),ke=(ct.right-Be.clientX)/ct.width*100;A(Math.min(70,Math.max(20,ke)))},le=()=>{B(!1)};return z&&(window.addEventListener("mousemove",It),window.addEventListener("mouseup",le)),()=>{window.removeEventListener("mousemove",It),window.removeEventListener("mouseup",le)}},[z]);const $t={grid:oe.grid,playerPos:be?{x:be.x,y:be.y}:Lt,playerDir:be?be.dir:Lt.dir,state:be||{variables:oe.inputs,...oe.equation||{}},history:be?.logs,hiddenVars:oe.hiddenVars||[],modelLines:Ge,lastAction:He};if(!T)return _e.jsx("div",{className:"flex h-full items-center justify-center text-slate-400",children:"Chargement..."});const ft=n!==void 0?`Niveau ${n+1}`:typeof oe.id=="number"&&oe.id<1e6?`Niveau ${oe.id}`:"Niveau Test";return _e.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[_e.jsxs("div",{className:"h-16 bg-white border-b border-slate-200 px-6 flex items-center justify-between shadow-sm z-20 flex-shrink-0",children:[_e.jsxs("div",{className:"flex items-center gap-3",children:[Ie==="RUNNING"?_e.jsxs("button",{onClick:Xe,className:"flex items-center gap-2 px-4 py-2 bg-amber-100 text-amber-700 hover:bg-amber-200 rounded-lg font-bold transition-colors",children:[_e.jsx("span",{children:""})," Pause"]}):_e.jsxs("button",{onClick:lt,className:"flex items-center gap-2 px-4 py-2 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 rounded-lg font-bold transition-colors shadow-sm hover:shadow-md",children:[_e.jsx("span",{children:""})," ",Ie==="PAUSED"?"Reprendre":"Excuter"]}),_e.jsxs("button",{onClick:Pt,className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-lg font-medium transition-colors",title:"Pas  pas",children:[" ",_e.jsx("span",{className:"hidden sm:inline",children:"Pas  pas"})]}),_e.jsx("button",{onClick:Je,className:"flex items-center gap-2 px-4 py-2 text-slate-500 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Rinitialiser",children:""})]}),_e.jsxs("div",{className:"flex items-center gap-3 bg-slate-100 px-4 py-2 rounded-full",children:[_e.jsx("span",{className:"text-lg",children:""}),_e.jsx("input",{type:"range",min:"0",max:"100",value:j,onChange:It=>ie(Number(It.target.value)),className:"w-24 h-2 bg-slate-300 rounded-lg appearance-none cursor-pointer accent-blue-600"}),_e.jsx("span",{className:"text-lg",children:""})]})]}),_e.jsxs("div",{ref:ce,className:"flex flex-1 overflow-hidden relative",style:{cursor:z?"col-resize":"auto"},children:[_e.jsx(eC,{title:ft,content:oe.instruction,isCollapsed:!$,onToggle:()=>_(!$)}),_e.jsxs("div",{className:"flex-1 min-w-0 bg-slate-50 relative",children:[_e.jsx(zf,{className:"blockly-div absolute inset-0",toolboxConfiguration:yt,workspaceConfiguration:iC,onInject:rt},`${oe.id}-${h.id}-${JSON.stringify(oe.allowedBlocks||[])}`),z&&_e.jsx("div",{className:"absolute inset-0 z-50 bg-transparent"})]}),_e.jsx("div",{onMouseDown:Ze,className:"w-2 bg-slate-200 hover:bg-blue-400 cursor-col-resize z-30 flex items-center justify-center transition-colors flex-shrink-0",children:_e.jsx("div",{className:"h-8 w-1 bg-slate-400 rounded-full"})}),_e.jsxs("div",{style:{width:`${w}%`},className:"bg-slate-800 flex justify-center items-center overflow-hidden shadow-inner flex-shrink-0 relative",children:[_e.jsx(p,{...$t}),z&&_e.jsx("div",{className:"absolute inset-0 z-50 bg-transparent"})]}),_e.jsx(Wb,{isOpen:Ie==="WON"||Ie==="LOST"||Ie==="FAILED",status:Ie,stats:Te,token:We,onReplay:()=>{Je()},onMenu:()=>window.location.reload(),onNext:a})]})]})}function oC({campaign:r,progress:o,onSelectLevel:n}){return _e.jsxs("div",{style:{padding:"40px",maxWidth:"800px",margin:"0 auto",fontFamily:"sans-serif"},children:[_e.jsxs("h1",{style:{textAlign:"center",color:"#2c3e50",fontSize:"2.5rem"},children:[" ",r.title||"Aventure Blokaly"]}),_e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"20px",marginTop:"40px"},children:r.levels.map((a,h)=>{const p=o[h-1],$=h===0||p&&p.stars>0,_=o[h],T=_?_.stars:0;return _e.jsxs("button",{disabled:!$,onClick:()=>n(h),style:{aspectRatio:"1/1",background:$?T===3?"#2ecc71":"#f1c40f":"#bdc3c7",border:"none",borderRadius:"15px",cursor:$?"pointer":"not-allowed",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",opacity:$?1:.6,transition:"transform 0.2s"},children:[_e.jsx("span",{style:{fontSize:"2rem",marginBottom:"10px"},children:$?T>0?"":"":""}),_e.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"white"},children:["Niveau ",h+1]}),$&&_e.jsxs("div",{style:{marginTop:"10px",color:"white",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:["".repeat(T),"".repeat(3-T)]})]},h)})})]})}const Cl={api:null,isActive:!1,findAPI:r=>{let o=0;for(;r.API==null&&r.parent!=null&&r.parent!=r&&o<10;)o++,r=r.parent;return r.API},init:()=>{try{const r=Cl.findAPI(window);if(r&&(Cl.api=r,r.LMSInitialize("")==="true"))return console.log(" SCORM: Connect !"),Cl.isActive=!0,r.LMSSetValue("cmi.core.score.min","0"),r.LMSSetValue("cmi.core.score.max","100"),r.LMSSetValue("cmi.core.lesson_status","incomplete"),r.LMSCommit(""),!0}catch{console.warn("SCORM introuvable (Mode local ?)")}return!1},setScore:r=>{if(!Cl.isActive||!Cl.api)return;const o=Math.round(r*100);console.log(` SCORM: Envoi note ${o}/100`),Cl.api.LMSSetValue("cmi.core.score.raw",o),o>=100?Cl.api.LMSSetValue("cmi.core.lesson_status","passed"):Cl.api.LMSSetValue("cmi.core.lesson_status","incomplete"),Cl.api.LMSCommit("")},terminate:()=>{Cl.isActive&&Cl.api&&(console.log(" SCORM: Dconnexion."),Cl.api.LMSFinish(""),Cl.isActive=!1)}};function lC({campaign:r,ltiConfig:o,isTeacherMode:n}){const a=r.levels?r:{title:"Campagne",levels:[r]},[h,p]=kn.useState(-1),[$,_]=kn.useState(()=>{const A=localStorage.getItem("blokaly_progress");if(A)try{return JSON.parse(A)}catch(z){console.error("Erreur lecture sauvegarde",z)}return{}});kn.useEffect(()=>(!o&&!n&&Cl.init(),()=>Cl.terminate()),[o,n]);const T=kn.useCallback(A=>{_(z=>{const B={...z,[h]:{stars:A.stars}};localStorage.setItem("blokaly_progress",JSON.stringify(B));const Z=a.levels.length;let ce=0;Object.values(B).forEach(ie=>ce+=ie.stars);const oe=Z*3,j=oe>0?ce/oe:0;return Cl.setScore(j),B})},[h,a]),E=kn.useCallback(()=>{h<a.levels.length-1?p(A=>A+1):p(-1)},[h,a]),w=()=>p(-1);return h===-1?_e.jsxs("div",{className:"min-h-screen bg-slate-100 font-sans",children:[_e.jsxs("div",{className:"bg-slate-800 text-white p-4 flex justify-between items-center shadow-md",children:[n?_e.jsx("button",{onClick:()=>window.location.href=window.location.pathname,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm font-bold transition-colors",children:" Retour diteur"}):_e.jsx("span",{className:"font-bold text-slate-400",children:"Blokaly 974"}),o&&_e.jsx("span",{className:"bg-emerald-600 px-2 py-1 rounded text-xs font-bold",children:"Mode Not (LTI)"})]}),_e.jsx(oC,{campaign:a,progress:$,onSelectLevel:p})]}):_e.jsxs("div",{className:"h-screen flex flex-col font-sans bg-slate-50",children:[_e.jsxs("div",{className:"h-14 bg-slate-900 text-white flex items-center justify-between px-6 shadow-md z-30",children:[_e.jsxs("div",{className:"flex items-center gap-4",children:[_e.jsxs("button",{onClick:w,className:"text-slate-400 hover:text-white transition-colors flex items-center gap-2 text-sm font-bold",children:[_e.jsx("span",{children:""})," Menu"]}),_e.jsx("div",{className:"h-4 w-px bg-slate-700 mx-2"}),_e.jsxs("span",{className:"font-bold text-lg tracking-wide",children:["Niveau ",h+1]})]}),_e.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wider font-bold",children:o?" Suivi Activ":"Mode Entranement"})]}),_e.jsx(sC,{levelData:a.levels[h],levelIndex:h,onWin:T,onNextLevel:E},h)]})}function aC({onFileLoaded:r}){const o=kn.useRef(null),n=a=>{const h=a.target.files[0];if(!h)return;const p=new FileReader;p.onload=$=>{try{const _=JSON.parse($.target.result);r(_)}catch(_){alert("Fichier invalide : "+_.message)}},p.readAsText(h)};return _e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-100 via-blue-50 to-indigo-100 font-sans p-4",children:[_e.jsxs("div",{className:"bg-white/80 backdrop-blur-lg border border-white/50 p-10 rounded-2xl shadow-2xl max-w-lg w-full text-center transition-all hover:shadow-indigo-200/50",children:[_e.jsxs("h1",{className:"text-5xl font-extrabold text-slate-800 mb-2 tracking-tight",children:[" Blokaly ",_e.jsx("span",{className:"text-blue-600",children:"974"})]}),_e.jsx("p",{className:"text-slate-500 text-lg mb-10 font-medium",children:"La plateforme d'algorithmique pour le collge."}),_e.jsxs("div",{className:"mb-8",children:[_e.jsx("h3",{className:"text-sm uppercase tracking-wide text-slate-400 font-bold mb-3",children:"J'ai un fichier d'exercice"}),_e.jsxs("button",{onClick:()=>o.current.click(),className:`w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold py-4 px-6 rounded-xl shadow-lg 
                       transform transition-all duration-200 hover:scale-[1.02] hover:shadow-blue-500/30 active:scale-95 flex items-center justify-center gap-2`,children:[_e.jsx("span",{className:"text-xl",children:""})," Charger un fichier .blokaly"]}),_e.jsx("input",{type:"file",accept:".json",ref:o,style:{display:"none"},onChange:n})]}),_e.jsxs("div",{className:"mb-8",children:[_e.jsx("h3",{className:"text-sm uppercase tracking-wide text-slate-400 font-bold mb-3",children:"Dcouvrir"}),_e.jsx("div",{className:"flex flex-col gap-3",children:_e.jsx("button",{onClick:()=>window.location.href="?url=examples/campagne_de_tests.blokaly.json",className:`w-full bg-white border border-slate-200 text-slate-700 font-semibold py-3 px-4 rounded-xl
                           hover:bg-slate-50 hover:border-blue-300 transition-colors duration-200 flex items-center justify-center gap-2`,children:" Campagne Dmo (Maze & Tortue)"})})]}),_e.jsx("div",{className:"mt-12 pt-6 border-t border-slate-100",children:_e.jsxs("details",{className:"group",children:[_e.jsx("summary",{className:"text-xs text-slate-300 cursor-pointer list-none select-none transition-colors hover:text-slate-400",children:"( Accs Enseignant )"}),_e.jsxs("div",{className:"mt-4 pb-2 animate-in fade-in slide-in-from-top-2 duration-300",children:[_e.jsx("p",{className:"text-xs text-slate-400 mb-3",children:"Crer ou modifier des parcours pdagogiques :"}),_e.jsx("button",{onClick:()=>window.location.href="?mode=editor",className:`bg-slate-100 text-slate-500 border border-slate-200 py-2 px-6 rounded-lg text-sm font-bold
                               hover:bg-slate-200 hover:text-slate-700 transition-colors`,children:" Ouvrir l'Atelier"})]})]})})]}),_e.jsx("style",{children:`
        details > summary::-webkit-details-marker { display: none; }
      `})]})}function uC(){const[r,o]=kn.useState("loading"),[n,a]=kn.useState(null),[h,p]=kn.useState(null),[$,_]=kn.useState(!1),T=E=>{a(E),o("runner")};return kn.useEffect(()=>{const E=new URLSearchParams(window.location.search),w=E.get("data"),A=E.get("url"),z=E.get("lti_token"),B=E.get("api_grade"),Z=E.get("preview"),ce=E.get("mode")==="editor";(async()=>{try{if(Z&&_(!0),z&&A){console.log(" Mode LTI"),p({token:z,apiUrl:B});const j=await fetch(A);if(!j.ok)throw new Error("URL campagne invalide");a(await j.json()),o("runner")}else if(A){console.log(" Mode Lien JSON");const j=await fetch(A);if(!j.ok)throw new Error("Fichier introuvable");a(await j.json()),o("runner")}else if(w){console.log(" Mode LZString");const j=qm.decompressFromEncodedURIComponent(w);a(JSON.parse(j)),o("runner")}else ce?(console.log(" Mode diteur"),o("builder")):(console.log(" Accueil"),o("home"))}catch(j){console.error("Erreur init:",j),alert("Erreur : "+j.message),o("home")}})()},[]),r==="loading"?_e.jsx("div",{style:{padding:20,textAlign:"center"},children:"Chargement..."}):_e.jsxs("div",{className:"App",children:[r==="home"&&_e.jsx(aC,{onFileLoaded:T}),r==="builder"&&_e.jsx(kb,{}),r==="runner"&&_e.jsx(lC,{campaign:n,ltiConfig:h,isTeacherMode:$})]})}Uf();V$.createRoot(document.getElementById("root")).render(_e.jsx(uC,{}));
