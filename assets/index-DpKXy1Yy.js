(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(u){if(u.ep)return;u.ep=!0;const h=r(u);fetch(u.href,h)}})();var u7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function H1(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var s=t.default;if(typeof s=="function"){var r=function i(){var u=!1;try{u=this instanceof i}catch{}return u?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};r.prototype=s.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var u=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,u.get?u:{enumerable:!0,get:function(){return t[i]}})}),r}var Sd={exports:{}},U5={};var mb;function zk(){if(mb)return U5;mb=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(i,u,h){var f=null;if(h!==void 0&&(f=""+h),u.key!==void 0&&(f=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:t,type:i,key:f,ref:u!==void 0?u:null,props:h}}return U5.Fragment=s,U5.jsx=r,U5.jsxs=r,U5}var gb;function Hk(){return gb||(gb=1,Sd.exports=zk()),Sd.exports}var mt=Hk(),xd={exports:{}},bi={};var vb;function Vk(){if(vb)return bi;vb=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),$=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.iterator;function A(xe){return xe===null||typeof xe!="object"?null:(xe=I&&xe[I]||xe["@@iterator"],typeof xe=="function"?xe:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,he={};function V(xe,gt,ze){this.props=xe,this.context=gt,this.refs=he,this.updater=ze||K}V.prototype.isReactComponent={},V.prototype.setState=function(xe,gt){if(typeof xe!="object"&&typeof xe!="function"&&xe!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,xe,gt,"setState")},V.prototype.forceUpdate=function(xe){this.updater.enqueueForceUpdate(this,xe,"forceUpdate")};function le(){}le.prototype=V.prototype;function te(xe,gt,ze){this.props=xe,this.context=gt,this.refs=he,this.updater=ze||K}var Ce=te.prototype=new le;Ce.constructor=te,ne(Ce,V.prototype),Ce.isPureReactComponent=!0;var Oe=Array.isArray;function ce(){}var Be={H:null,A:null,T:null,S:null},je=Object.prototype.hasOwnProperty;function _e(xe,gt,ze){var Ft=ze.ref;return{$$typeof:t,type:xe,key:gt,ref:Ft!==void 0?Ft:null,props:ze}}function b(xe,gt){return _e(xe.type,gt,xe.props)}function O(xe){return typeof xe=="object"&&xe!==null&&xe.$$typeof===t}function N(xe){var gt={"=":"=0",":":"=2"};return"$"+xe.replace(/[=:]/g,function(ze){return gt[ze]})}var R=/\/+/g;function B(xe,gt){return typeof xe=="object"&&xe!==null&&xe.key!=null?N(""+xe.key):gt.toString(36)}function j(xe){switch(xe.status){case"fulfilled":return xe.value;case"rejected":throw xe.reason;default:switch(typeof xe.status=="string"?xe.then(ce,ce):(xe.status="pending",xe.then(function(gt){xe.status==="pending"&&(xe.status="fulfilled",xe.value=gt)},function(gt){xe.status==="pending"&&(xe.status="rejected",xe.reason=gt)})),xe.status){case"fulfilled":return xe.value;case"rejected":throw xe.reason}}throw xe}function J(xe,gt,ze,Ft,Ge){var et=typeof xe;(et==="undefined"||et==="boolean")&&(xe=null);var Ct=!1;if(xe===null)Ct=!0;else switch(et){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(xe.$$typeof){case t:case s:Ct=!0;break;case T:return Ct=xe._init,J(Ct(xe._payload),gt,ze,Ft,Ge)}}if(Ct)return Ge=Ge(xe),Ct=Ft===""?"."+B(xe,0):Ft,Oe(Ge)?(ze="",Ct!=null&&(ze=Ct.replace(R,"$&/")+"/"),J(Ge,gt,ze,"",function(Ut){return Ut})):Ge!=null&&(O(Ge)&&(Ge=b(Ge,ze+(Ge.key==null||xe&&xe.key===Ge.key?"":(""+Ge.key).replace(R,"$&/")+"/")+Ct)),gt.push(Ge)),1;Ct=0;var nt=Ft===""?".":Ft+":";if(Oe(xe))for(var yt=0;yt<xe.length;yt++)Ft=xe[yt],et=nt+B(Ft,yt),Ct+=J(Ft,gt,ze,et,Ge);else if(yt=A(xe),typeof yt=="function")for(xe=yt.call(xe),yt=0;!(Ft=xe.next()).done;)Ft=Ft.value,et=nt+B(Ft,yt++),Ct+=J(Ft,gt,ze,et,Ge);else if(et==="object"){if(typeof xe.then=="function")return J(j(xe),gt,ze,Ft,Ge);throw gt=String(xe),Error("Objects are not valid as a React child (found: "+(gt==="[object Object]"?"object with keys {"+Object.keys(xe).join(", ")+"}":gt)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function fe(xe,gt,ze){if(xe==null)return xe;var Ft=[],Ge=0;return J(xe,Ft,"","",function(et){return gt.call(ze,et,Ge++)}),Ft}function Ne(xe){if(xe._status===-1){var gt=xe._result;gt=gt(),gt.then(function(ze){(xe._status===0||xe._status===-1)&&(xe._status=1,xe._result=ze)},function(ze){(xe._status===0||xe._status===-1)&&(xe._status=2,xe._result=ze)}),xe._status===-1&&(xe._status=0,xe._result=gt)}if(xe._status===1)return xe._result.default;throw xe._result}var qe=typeof reportError=="function"?reportError:function(xe){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var gt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof xe=="object"&&xe!==null&&typeof xe.message=="string"?String(xe.message):String(xe),error:xe});if(!window.dispatchEvent(gt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",xe);return}console.error(xe)},de={map:fe,forEach:function(xe,gt,ze){fe(xe,function(){gt.apply(this,arguments)},ze)},count:function(xe){var gt=0;return fe(xe,function(){gt++}),gt},toArray:function(xe){return fe(xe,function(gt){return gt})||[]},only:function(xe){if(!O(xe))throw Error("React.Children.only expected to receive a single React element child.");return xe}};return bi.Activity=w,bi.Children=de,bi.Component=V,bi.Fragment=r,bi.Profiler=u,bi.PureComponent=te,bi.StrictMode=i,bi.Suspense=y,bi.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Be,bi.__COMPILER_RUNTIME={__proto__:null,c:function(xe){return Be.H.useMemoCache(xe)}},bi.cache=function(xe){return function(){return xe.apply(null,arguments)}},bi.cacheSignal=function(){return null},bi.cloneElement=function(xe,gt,ze){if(xe==null)throw Error("The argument must be a React element, but you passed "+xe+".");var Ft=ne({},xe.props),Ge=xe.key;if(gt!=null)for(et in gt.key!==void 0&&(Ge=""+gt.key),gt)!je.call(gt,et)||et==="key"||et==="__self"||et==="__source"||et==="ref"&&gt.ref===void 0||(Ft[et]=gt[et]);var et=arguments.length-2;if(et===1)Ft.children=ze;else if(1<et){for(var Ct=Array(et),nt=0;nt<et;nt++)Ct[nt]=arguments[nt+2];Ft.children=Ct}return _e(xe.type,Ge,Ft)},bi.createContext=function(xe){return xe={$$typeof:f,_currentValue:xe,_currentValue2:xe,_threadCount:0,Provider:null,Consumer:null},xe.Provider=xe,xe.Consumer={$$typeof:h,_context:xe},xe},bi.createElement=function(xe,gt,ze){var Ft,Ge={},et=null;if(gt!=null)for(Ft in gt.key!==void 0&&(et=""+gt.key),gt)je.call(gt,Ft)&&Ft!=="key"&&Ft!=="__self"&&Ft!=="__source"&&(Ge[Ft]=gt[Ft]);var Ct=arguments.length-2;if(Ct===1)Ge.children=ze;else if(1<Ct){for(var nt=Array(Ct),yt=0;yt<Ct;yt++)nt[yt]=arguments[yt+2];Ge.children=nt}if(xe&&xe.defaultProps)for(Ft in Ct=xe.defaultProps,Ct)Ge[Ft]===void 0&&(Ge[Ft]=Ct[Ft]);return _e(xe,et,Ge)},bi.createRef=function(){return{current:null}},bi.forwardRef=function(xe){return{$$typeof:g,render:xe}},bi.isValidElement=O,bi.lazy=function(xe){return{$$typeof:T,_payload:{_status:-1,_result:xe},_init:Ne}},bi.memo=function(xe,gt){return{$$typeof:$,type:xe,compare:gt===void 0?null:gt}},bi.startTransition=function(xe){var gt=Be.T,ze={};Be.T=ze;try{var Ft=xe(),Ge=Be.S;Ge!==null&&Ge(ze,Ft),typeof Ft=="object"&&Ft!==null&&typeof Ft.then=="function"&&Ft.then(ce,qe)}catch(et){qe(et)}finally{gt!==null&&ze.types!==null&&(gt.types=ze.types),Be.T=gt}},bi.unstable_useCacheRefresh=function(){return Be.H.useCacheRefresh()},bi.use=function(xe){return Be.H.use(xe)},bi.useActionState=function(xe,gt,ze){return Be.H.useActionState(xe,gt,ze)},bi.useCallback=function(xe,gt){return Be.H.useCallback(xe,gt)},bi.useContext=function(xe){return Be.H.useContext(xe)},bi.useDebugValue=function(){},bi.useDeferredValue=function(xe,gt){return Be.H.useDeferredValue(xe,gt)},bi.useEffect=function(xe,gt){return Be.H.useEffect(xe,gt)},bi.useEffectEvent=function(xe){return Be.H.useEffectEvent(xe)},bi.useId=function(){return Be.H.useId()},bi.useImperativeHandle=function(xe,gt,ze){return Be.H.useImperativeHandle(xe,gt,ze)},bi.useInsertionEffect=function(xe,gt){return Be.H.useInsertionEffect(xe,gt)},bi.useLayoutEffect=function(xe,gt){return Be.H.useLayoutEffect(xe,gt)},bi.useMemo=function(xe,gt){return Be.H.useMemo(xe,gt)},bi.useOptimistic=function(xe,gt){return Be.H.useOptimistic(xe,gt)},bi.useReducer=function(xe,gt,ze){return Be.H.useReducer(xe,gt,ze)},bi.useRef=function(xe){return Be.H.useRef(xe)},bi.useState=function(xe){return Be.H.useState(xe)},bi.useSyncExternalStore=function(xe,gt,ze){return Be.H.useSyncExternalStore(xe,gt,ze)},bi.useTransition=function(){return Be.H.useTransition()},bi.version="19.2.0",bi}var $b;function Q9(){return $b||($b=1,xd.exports=Vk()),xd.exports}var br=Q9();const io=Pl(br);var Cd={exports:{}},z5={},Md={exports:{}},kd={};var bb;function Gk(){return bb||(bb=1,(function(t){function s(J,fe){var Ne=J.length;J.push(fe);e:for(;0<Ne;){var qe=Ne-1>>>1,de=J[qe];if(0<u(de,fe))J[qe]=fe,J[Ne]=de,Ne=qe;else break e}}function r(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var fe=J[0],Ne=J.pop();if(Ne!==fe){J[0]=Ne;e:for(var qe=0,de=J.length,xe=de>>>1;qe<xe;){var gt=2*(qe+1)-1,ze=J[gt],Ft=gt+1,Ge=J[Ft];if(0>u(ze,Ne))Ft<de&&0>u(Ge,ze)?(J[qe]=Ge,J[Ft]=Ne,qe=Ft):(J[qe]=ze,J[gt]=Ne,qe=gt);else if(Ft<de&&0>u(Ge,Ne))J[qe]=Ge,J[Ft]=Ne,qe=Ft;else break e}}return fe}function u(J,fe){var Ne=J.sortIndex-fe.sortIndex;return Ne!==0?Ne:J.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;t.unstable_now=function(){return h.now()}}else{var f=Date,g=f.now();t.unstable_now=function(){return f.now()-g}}var y=[],$=[],T=1,w=null,I=3,A=!1,K=!1,ne=!1,he=!1,V=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function Ce(J){for(var fe=r($);fe!==null;){if(fe.callback===null)i($);else if(fe.startTime<=J)i($),fe.sortIndex=fe.expirationTime,s(y,fe);else break;fe=r($)}}function Oe(J){if(ne=!1,Ce(J),!K)if(r(y)!==null)K=!0,ce||(ce=!0,N());else{var fe=r($);fe!==null&&j(Oe,fe.startTime-J)}}var ce=!1,Be=-1,je=5,_e=-1;function b(){return he?!0:!(t.unstable_now()-_e<je)}function O(){if(he=!1,ce){var J=t.unstable_now();_e=J;var fe=!0;try{e:{K=!1,ne&&(ne=!1,le(Be),Be=-1),A=!0;var Ne=I;try{t:{for(Ce(J),w=r(y);w!==null&&!(w.expirationTime>J&&b());){var qe=w.callback;if(typeof qe=="function"){w.callback=null,I=w.priorityLevel;var de=qe(w.expirationTime<=J);if(J=t.unstable_now(),typeof de=="function"){w.callback=de,Ce(J),fe=!0;break t}w===r(y)&&i(y),Ce(J)}else i(y);w=r(y)}if(w!==null)fe=!0;else{var xe=r($);xe!==null&&j(Oe,xe.startTime-J),fe=!1}}break e}finally{w=null,I=Ne,A=!1}fe=void 0}}finally{fe?N():ce=!1}}}var N;if(typeof te=="function")N=function(){te(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,B=R.port2;R.port1.onmessage=O,N=function(){B.postMessage(null)}}else N=function(){V(O,0)};function j(J,fe){Be=V(function(){J(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):je=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_next=function(J){switch(I){case 1:case 2:case 3:var fe=3;break;default:fe=I}var Ne=I;I=fe;try{return J()}finally{I=Ne}},t.unstable_requestPaint=function(){he=!0},t.unstable_runWithPriority=function(J,fe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Ne=I;I=J;try{return fe()}finally{I=Ne}},t.unstable_scheduleCallback=function(J,fe,Ne){var qe=t.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?qe+Ne:qe):Ne=qe,J){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Ne+de,J={id:T++,callback:fe,priorityLevel:J,startTime:Ne,expirationTime:de,sortIndex:-1},Ne>qe?(J.sortIndex=Ne,s($,J),r(y)===null&&J===r($)&&(ne?(le(Be),Be=-1):ne=!0,j(Oe,Ne-qe))):(J.sortIndex=de,s(y,J),K||A||(K=!0,ce||(ce=!0,N()))),J},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(J){var fe=I;return function(){var Ne=I;I=fe;try{return J.apply(this,arguments)}finally{I=Ne}}}})(kd)),kd}var yb;function qk(){return yb||(yb=1,Md.exports=Gk()),Md.exports}var Ad={exports:{}},Y0={};var _b;function Wk(){if(_b)return Y0;_b=1;var t=Q9();function s(y){var $="https://react.dev/errors/"+y;if(1<arguments.length){$+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)$+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(y,$,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:y,containerInfo:$,implementation:T}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,$){if(y==="font")return"";if(typeof $=="string")return $==="use-credentials"?$:""}return Y0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Y0.createPortal=function(y,$){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11)throw Error(s(299));return h(y,$,null,T)},Y0.flushSync=function(y){var $=f.T,T=i.p;try{if(f.T=null,i.p=2,y)return y()}finally{f.T=$,i.p=T,i.d.f()}},Y0.preconnect=function(y,$){typeof y=="string"&&($?($=$.crossOrigin,$=typeof $=="string"?$==="use-credentials"?$:"":void 0):$=null,i.d.C(y,$))},Y0.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},Y0.preinit=function(y,$){if(typeof y=="string"&&$&&typeof $.as=="string"){var T=$.as,w=g(T,$.crossOrigin),I=typeof $.integrity=="string"?$.integrity:void 0,A=typeof $.fetchPriority=="string"?$.fetchPriority:void 0;T==="style"?i.d.S(y,typeof $.precedence=="string"?$.precedence:void 0,{crossOrigin:w,integrity:I,fetchPriority:A}):T==="script"&&i.d.X(y,{crossOrigin:w,integrity:I,fetchPriority:A,nonce:typeof $.nonce=="string"?$.nonce:void 0})}},Y0.preinitModule=function(y,$){if(typeof y=="string")if(typeof $=="object"&&$!==null){if($.as==null||$.as==="script"){var T=g($.as,$.crossOrigin);i.d.M(y,{crossOrigin:T,integrity:typeof $.integrity=="string"?$.integrity:void 0,nonce:typeof $.nonce=="string"?$.nonce:void 0})}}else $==null&&i.d.M(y)},Y0.preload=function(y,$){if(typeof y=="string"&&typeof $=="object"&&$!==null&&typeof $.as=="string"){var T=$.as,w=g(T,$.crossOrigin);i.d.L(y,T,{crossOrigin:w,integrity:typeof $.integrity=="string"?$.integrity:void 0,nonce:typeof $.nonce=="string"?$.nonce:void 0,type:typeof $.type=="string"?$.type:void 0,fetchPriority:typeof $.fetchPriority=="string"?$.fetchPriority:void 0,referrerPolicy:typeof $.referrerPolicy=="string"?$.referrerPolicy:void 0,imageSrcSet:typeof $.imageSrcSet=="string"?$.imageSrcSet:void 0,imageSizes:typeof $.imageSizes=="string"?$.imageSizes:void 0,media:typeof $.media=="string"?$.media:void 0})}},Y0.preloadModule=function(y,$){if(typeof y=="string")if($){var T=g($.as,$.crossOrigin);i.d.m(y,{as:typeof $.as=="string"&&$.as!=="script"?$.as:void 0,crossOrigin:T,integrity:typeof $.integrity=="string"?$.integrity:void 0})}else i.d.m(y)},Y0.requestFormReset=function(y){i.d.r(y)},Y0.unstable_batchedUpdates=function(y,$){return y($)},Y0.useFormState=function(y,$,T){return f.H.useFormState(y,$,T)},Y0.useFormStatus=function(){return f.H.useHostTransitionStatus()},Y0.version="19.2.0",Y0}var wb;function jk(){if(wb)return Ad.exports;wb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),Ad.exports=Wk(),Ad.exports}var Tb;function Xk(){if(Tb)return z5;Tb=1;var t=qk(),s=Q9(),r=jk();function i(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function h(l){var c=l,m=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(m=c.return),l=c.return;while(l)}return c.tag===3?m:null}function f(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function g(l){if(l.tag===31){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function y(l){if(h(l)!==l)throw Error(i(188))}function $(l){var c=l.alternate;if(!c){if(c=h(l),c===null)throw Error(i(188));return c!==l?null:l}for(var m=l,E=c;;){var U=m.return;if(U===null)break;var Z=U.alternate;if(Z===null){if(E=U.return,E!==null){m=E;continue}break}if(U.child===Z.child){for(Z=U.child;Z;){if(Z===m)return y(U),l;if(Z===E)return y(U),c;Z=Z.sibling}throw Error(i(188))}if(m.return!==E.return)m=U,E=Z;else{for(var Ve=!1,At=U.child;At;){if(At===m){Ve=!0,m=U,E=Z;break}if(At===E){Ve=!0,E=U,m=Z;break}At=At.sibling}if(!Ve){for(At=Z.child;At;){if(At===m){Ve=!0,m=Z,E=U;break}if(At===E){Ve=!0,E=Z,m=U;break}At=At.sibling}if(!Ve)throw Error(i(189))}}if(m.alternate!==E)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?l:c}function T(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(c=T(l),c!==null)return c;l=l.sibling}return null}var w=Object.assign,I=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),he=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),te=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),_e=Symbol.for("react.activity"),b=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function N(l){return l===null||typeof l!="object"?null:(l=O&&l[O]||l["@@iterator"],typeof l=="function"?l:null)}var R=Symbol.for("react.client.reference");function B(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===R?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case ne:return"Fragment";case V:return"Profiler";case he:return"StrictMode";case Oe:return"Suspense";case ce:return"SuspenseList";case _e:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case K:return"Portal";case te:return l.displayName||"Context";case le:return(l._context.displayName||"Context")+".Consumer";case Ce:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Be:return c=l.displayName||null,c!==null?c:B(l.type)||"Memo";case je:c=l._payload,l=l._init;try{return B(l(c))}catch{}}return null}var j=Array.isArray,J=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},qe=[],de=-1;function xe(l){return{current:l}}function gt(l){0>de||(l.current=qe[de],qe[de]=null,de--)}function ze(l,c){de++,qe[de]=l.current,l.current=c}var Ft=xe(null),Ge=xe(null),et=xe(null),Ct=xe(null);function nt(l,c){switch(ze(et,c),ze(Ge,l),ze(Ft,null),c.nodeType){case 9:case 11:l=(l=c.documentElement)&&(l=l.namespaceURI)?s0(l):0;break;default:if(l=c.tagName,c=c.namespaceURI)c=s0(c),l=_3(c,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}gt(Ft),ze(Ft,l)}function yt(){gt(Ft),gt(Ge),gt(et)}function Ut(l){l.memoizedState!==null&&ze(Ct,l);var c=Ft.current,m=_3(c,l.type);c!==m&&(ze(Ge,l),ze(Ft,m))}function Ht(l){Ge.current===l&&(gt(Ft),gt(Ge)),Ct.current===l&&(gt(Ct),D2._currentValue=Ne)}var Me,ut;function en(l){if(Me===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);Me=c&&c[1]||"",ut=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+l+ut}var nn=!1;function De(l,c){if(!l||nn)return"";nn=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(c){var rr=function(){throw Error()};if(Object.defineProperty(rr.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rr,[])}catch(Gn){var Bn=Gn}Reflect.construct(l,[],rr)}else{try{rr.call()}catch(Gn){Bn=Gn}l.call(rr.prototype)}}else{try{throw Error()}catch(Gn){Bn=Gn}(rr=l())&&typeof rr.catch=="function"&&rr.catch(function(){})}}catch(Gn){if(Gn&&Bn&&typeof Gn.stack=="string")return[Gn.stack,Bn.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var U=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");U&&U.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Z=E.DetermineComponentFrameRoot(),Ve=Z[0],At=Z[1];if(Ve&&At){var Qt=Ve.split(`
`),An=At.split(`
`);for(U=E=0;E<Qt.length&&!Qt[E].includes("DetermineComponentFrameRoot");)E++;for(;U<An.length&&!An[U].includes("DetermineComponentFrameRoot");)U++;if(E===Qt.length||U===An.length)for(E=Qt.length-1,U=An.length-1;1<=E&&0<=U&&Qt[E]!==An[U];)U--;for(;1<=E&&0<=U;E--,U--)if(Qt[E]!==An[U]){if(E!==1||U!==1)do if(E--,U--,0>U||Qt[E]!==An[U]){var Kn=`
`+Qt[E].replace(" at new "," at ");return l.displayName&&Kn.includes("<anonymous>")&&(Kn=Kn.replace("<anonymous>",l.displayName)),Kn}while(1<=E&&0<=U);break}}}finally{nn=!1,Error.prepareStackTrace=m}return(m=l?l.displayName||l.name:"")?en(m):""}function se(l,c){switch(l.tag){case 26:case 27:case 5:return en(l.type);case 16:return en("Lazy");case 13:return l.child!==c&&c!==null?en("Suspense Fallback"):en("Suspense");case 19:return en("SuspenseList");case 0:case 15:return De(l.type,!1);case 11:return De(l.type.render,!1);case 1:return De(l.type,!0);case 31:return en("Activity");default:return""}}function Ae(l){try{var c="",m=null;do c+=se(l,m),m=l,l=l.return;while(l);return c}catch(E){return`
Error generating stack: `+E.message+`
`+E.stack}}var lt=Object.prototype.hasOwnProperty,Qe=t.unstable_scheduleCallback,Tt=t.unstable_cancelCallback,Et=t.unstable_shouldYield,Vt=t.unstable_requestPaint,rt=t.unstable_now,P=t.unstable_getCurrentPriorityLevel,Re=t.unstable_ImmediatePriority,ke=t.unstable_UserBlockingPriority,ht=t.unstable_NormalPriority,Mt=t.unstable_LowPriority,Ot=t.unstable_IdlePriority,wt=t.log,ft=t.unstable_setDisableYieldValue,Y=null,Ee=null;function Je(l){if(typeof wt=="function"&&ft(l),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(Y,l)}catch{}}var Fe=Math.clz32?Math.clz32:zt,Lt=Math.log,Bt=Math.LN2;function zt(l){return l>>>=0,l===0?32:31-(Lt(l)/Bt|0)|0}var ve=256,Ye=262144,X=4194304;function we(l){var c=l&42;if(c!==0)return c;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function tt(l,c,m){var E=l.pendingLanes;if(E===0)return 0;var U=0,Z=l.suspendedLanes,Ve=l.pingedLanes;l=l.warmLanes;var At=E&134217727;return At!==0?(E=At&~Z,E!==0?U=we(E):(Ve&=At,Ve!==0?U=we(Ve):m||(m=At&~l,m!==0&&(U=we(m))))):(At=E&~Z,At!==0?U=we(At):Ve!==0?U=we(Ve):m||(m=E&~l,m!==0&&(U=we(m)))),U===0?0:c!==0&&c!==U&&(c&Z)===0&&(Z=U&-U,m=c&-c,Z>=m||Z===32&&(m&4194048)!==0)?c:U}function St(l,c){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&c)===0}function Zt(l,c){switch(l){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $n(){var l=X;return X<<=1,(X&62914560)===0&&(X=4194304),l}function pn(l){for(var c=[],m=0;31>m;m++)c.push(l);return c}function sr(l,c){l.pendingLanes|=c,c!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function wr(l,c,m,E,U,Z){var Ve=l.pendingLanes;l.pendingLanes=m,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=m,l.entangledLanes&=m,l.errorRecoveryDisabledLanes&=m,l.shellSuspendCounter=0;var At=l.entanglements,Qt=l.expirationTimes,An=l.hiddenUpdates;for(m=Ve&~m;0<m;){var Kn=31-Fe(m),rr=1<<Kn;At[Kn]=0,Qt[Kn]=-1;var Bn=An[Kn];if(Bn!==null)for(An[Kn]=null,Kn=0;Kn<Bn.length;Kn++){var Gn=Bn[Kn];Gn!==null&&(Gn.lane&=-536870913)}m&=~rr}E!==0&&jn(l,E,0),Z!==0&&U===0&&l.tag!==0&&(l.suspendedLanes|=Z&~(Ve&~c))}function jn(l,c,m){l.pendingLanes|=c,l.suspendedLanes&=~c;var E=31-Fe(c);l.entangledLanes|=c,l.entanglements[E]=l.entanglements[E]|1073741824|m&261930}function En(l,c){var m=l.entangledLanes|=c;for(l=l.entanglements;m;){var E=31-Fe(m),U=1<<E;U&c|l[E]&c&&(l[E]|=c),m&=~U}}function re(l,c){var m=c&-c;return m=(m&42)!==0?1:Te(m),(m&(l.suspendedLanes|c))!==0?0:m}function Te(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function gn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function F(){var l=fe.p;return l!==0?l:(l=window.event,l===void 0?32:I5(l.type))}function ie(l,c){var m=fe.p;try{return fe.p=l,c()}finally{fe.p=m}}var x=Math.random().toString(36).slice(2),W="__reactFiber$"+x,ae="__reactProps$"+x,q="__reactContainer$"+x,ge="__reactEvents$"+x,be="__reactListeners$"+x,Le="__reactHandles$"+x,st="__reactResources$"+x,$e="__reactMarker$"+x;function $t(l){delete l[W],delete l[ae],delete l[ge],delete l[be],delete l[Le]}function Ue(l){var c=l[W];if(c)return c;for(var m=l.parentNode;m;){if(c=m[q]||m[W]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(l=fs(l);l!==null;){if(m=l[W])return m;l=fs(l)}return c}l=m,m=l.parentNode}return null}function p(l){if(l=l[W]||l[q]){var c=l.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return l}return null}function D(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l.stateNode;throw Error(i(33))}function Q(l){var c=l[st];return c||(c=l[st]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function me(l){l[$e]=!0}var He=new Set,_t={};function Gt(l,c){bt(l,c),bt(l+"Capture",c)}function bt(l,c){for(_t[l]=c,l=0;l<c.length;l++)He.add(c[l])}var un=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yt={},fn={};function Un(l){return lt.call(fn,l)?!0:lt.call(Yt,l)?!1:un.test(l)?fn[l]=!0:(Yt[l]=!0,!1)}function Xt(l,c,m){if(Un(c))if(m===null)l.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":l.removeAttribute(c);return;case"boolean":var E=c.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){l.removeAttribute(c);return}}l.setAttribute(c,""+m)}}function Ke(l,c,m){if(m===null)l.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(c);return}l.setAttribute(c,""+m)}}function Pn(l,c,m,E){if(E===null)l.removeAttribute(m);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(m);return}l.setAttributeNS(c,m,""+E)}}function er(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function nr(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function or(l,c,m){var E=Object.getOwnPropertyDescriptor(l.constructor.prototype,c);if(!l.hasOwnProperty(c)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var U=E.get,Z=E.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return U.call(this)},set:function(Ve){m=""+Ve,Z.call(this,Ve)}}),Object.defineProperty(l,c,{enumerable:E.enumerable}),{getValue:function(){return m},setValue:function(Ve){m=""+Ve},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function Cn(l){if(!l._valueTracker){var c=nr(l)?"checked":"value";l._valueTracker=or(l,c,""+l[c])}}function Hn(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var m=c.getValue(),E="";return l&&(E=nr(l)?l.checked?"true":"false":l.value),l=E,l!==m?(c.setValue(l),!0):!1}function mr(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Er=/[\n"\\]/g;function ei(l){return l.replace(Er,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function hr(l,c,m,E,U,Z,Ve,At){l.name="",Ve!=null&&typeof Ve!="function"&&typeof Ve!="symbol"&&typeof Ve!="boolean"?l.type=Ve:l.removeAttribute("type"),c!=null?Ve==="number"?(c===0&&l.value===""||l.value!=c)&&(l.value=""+er(c)):l.value!==""+er(c)&&(l.value=""+er(c)):Ve!=="submit"&&Ve!=="reset"||l.removeAttribute("value"),c!=null?H(l,Ve,er(c)):m!=null?H(l,Ve,er(m)):E!=null&&l.removeAttribute("value"),U==null&&Z!=null&&(l.defaultChecked=!!Z),U!=null&&(l.checked=U&&typeof U!="function"&&typeof U!="symbol"),At!=null&&typeof At!="function"&&typeof At!="symbol"&&typeof At!="boolean"?l.name=""+er(At):l.removeAttribute("name")}function v(l,c,m,E,U,Z,Ve,At){if(Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(l.type=Z),c!=null||m!=null){if(!(Z!=="submit"&&Z!=="reset"||c!=null)){Cn(l);return}m=m!=null?""+er(m):"",c=c!=null?""+er(c):m,At||c===l.value||(l.value=c),l.defaultValue=c}E=E??U,E=typeof E!="function"&&typeof E!="symbol"&&!!E,l.checked=At?l.checked:!!E,l.defaultChecked=!!E,Ve!=null&&typeof Ve!="function"&&typeof Ve!="symbol"&&typeof Ve!="boolean"&&(l.name=Ve),Cn(l)}function H(l,c,m){c==="number"&&mr(l.ownerDocument)===l||l.defaultValue===""+m||(l.defaultValue=""+m)}function ue(l,c,m,E){if(l=l.options,c){c={};for(var U=0;U<m.length;U++)c["$"+m[U]]=!0;for(m=0;m<l.length;m++)U=c.hasOwnProperty("$"+l[m].value),l[m].selected!==U&&(l[m].selected=U),U&&E&&(l[m].defaultSelected=!0)}else{for(m=""+er(m),c=null,U=0;U<l.length;U++){if(l[U].value===m){l[U].selected=!0,E&&(l[U].defaultSelected=!0);return}c!==null||l[U].disabled||(c=l[U])}c!==null&&(c.selected=!0)}}function Se(l,c,m){if(c!=null&&(c=""+er(c),c!==l.value&&(l.value=c),m==null)){l.defaultValue!==c&&(l.defaultValue=c);return}l.defaultValue=m!=null?""+er(m):""}function Xe(l,c,m,E){if(c==null){if(E!=null){if(m!=null)throw Error(i(92));if(j(E)){if(1<E.length)throw Error(i(93));E=E[0]}m=E}m==null&&(m=""),c=m}m=er(c),l.defaultValue=m,E=l.textContent,E===m&&E!==""&&E!==null&&(l.value=E),Cn(l)}function pt(l,c){if(c){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=c;return}}l.textContent=c}var dt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ze(l,c,m){var E=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?E?l.setProperty(c,""):c==="float"?l.cssFloat="":l[c]="":E?l.setProperty(c,m):typeof m!="number"||m===0||dt.has(c)?c==="float"?l.cssFloat=m:l[c]=(""+m).trim():l[c]=m+"px"}function tn(l,c,m){if(c!=null&&typeof c!="object")throw Error(i(62));if(l=l.style,m!=null){for(var E in m)!m.hasOwnProperty(E)||c!=null&&c.hasOwnProperty(E)||(E.indexOf("--")===0?l.setProperty(E,""):E==="float"?l.cssFloat="":l[E]="");for(var U in c)E=c[U],c.hasOwnProperty(U)&&m[U]!==E&&Ze(l,U,E)}else for(var Z in c)c.hasOwnProperty(Z)&&Ze(l,Z,c[Z])}function an(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function z(l){return k.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function We(){}var it=null;function Nt(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Dt=null,cn=null;function Sn(l){var c=p(l);if(c&&(l=c.stateNode)){var m=l[ae]||null;e:switch(l=c.stateNode,c.type){case"input":if(hr(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+ei(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var E=m[c];if(E!==l&&E.form===l.form){var U=E[ae]||null;if(!U)throw Error(i(90));hr(E,U.value,U.defaultValue,U.defaultValue,U.checked,U.defaultChecked,U.type,U.name)}}for(c=0;c<m.length;c++)E=m[c],E.form===l.form&&Hn(E)}break e;case"textarea":Se(l,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&ue(l,!!m.multiple,c,!1)}}}var hn=!1;function bn(l,c,m){if(hn)return l(c,m);hn=!0;try{var E=l(c);return E}finally{if(hn=!1,(Dt!==null||cn!==null)&&(Ih(),Dt&&(c=Dt,l=cn,cn=Dt=null,Sn(c),l)))for(c=0;c<l.length;c++)Sn(l[c])}}function zn(l,c){var m=l.stateNode;if(m===null)return null;var E=m[ae]||null;if(E===null)return null;m=E[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(l=l.type,E=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!E;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(i(231,c,typeof m));return m}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(xn)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{Ir=!1}var mn=null,dr=null,kr=null;function yr(){if(kr)return kr;var l,c=dr,m=c.length,E,U="value"in mn?mn.value:mn.textContent,Z=U.length;for(l=0;l<m&&c[l]===U[l];l++);var Ve=m-l;for(E=1;E<=Ve&&c[m-E]===U[Z-E];E++);return kr=U.slice(l,1<E?1-E:void 0)}function fr(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function vr(){return!0}function lr(){return!1}function _r(l){function c(m,E,U,Z,Ve){this._reactName=m,this._targetInst=U,this.type=E,this.nativeEvent=Z,this.target=Ve,this.currentTarget=null;for(var At in l)l.hasOwnProperty(At)&&(m=l[At],this[At]=m?m(Z):Z[At]);return this.isDefaultPrevented=(Z.defaultPrevented!=null?Z.defaultPrevented:Z.returnValue===!1)?vr:lr,this.isPropagationStopped=lr,this}return w(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),c}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=_r(Dn),cr=w({},Dn,{view:0,detail:0}),Tr=_r(cr),Kr,Vn,Fr,Zr=w({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rl,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Fr&&(Fr&&l.type==="mousemove"?(Kr=l.screenX-Fr.screenX,Vn=l.screenY-Fr.screenY):Vn=Kr=0,Fr=l),Kr)},movementY:function(l){return"movementY"in l?l.movementY:Vn}}),ss=_r(Zr),go=w({},Zr,{dataTransfer:0}),Wi=_r(go),Bs=w({},cr,{relatedTarget:0}),yi=_r(Bs),ks=w({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),oo=_r(ks),Qo=w({},Dn,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),es=_r(Qo),Bi=w({},Dn,{data:0}),c0=_r(Bi),Ps={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e0(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=vo[l])?!!c[l]:!1}function rl(){return e0}var Uo=w({},cr,{key:function(l){if(l.key){var c=Ps[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=fr(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?nl[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rl,charCode:function(l){return l.type==="keypress"?fr(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?fr(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),ai=_r(Uo),Fu=w({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ga=_r(Fu),ru=w({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rl}),Dc=_r(ru),zl=w({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hl=_r(zl),j1=w({},Zr,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Vl=_r(j1),iu=w({},Dn,{newState:0,oldState:0}),va=_r(iu),Bc=[9,13,27,32],Gl=xn&&"CompositionEvent"in window,il=null;xn&&"documentMode"in document&&(il=document.documentMode);var Pc=xn&&"TextEvent"in window&&!il,Fc=xn&&(!Gl||il&&8<il&&11>=il),Uu=" ",su=!1;function ou(l,c){switch(l){case"keyup":return Bc.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var sl=!1;function lu(l,c){switch(l){case"compositionend":return $a(c);case"keypress":return c.which!==32?null:(su=!0,Uu);case"textInput":return l=c.data,l===Uu&&su?null:l;default:return null}}function zu(l,c){if(sl)return l==="compositionend"||!Gl&&ou(l,c)?(l=yr(),kr=dr=mn=null,sl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Fc&&c.locale!=="ko"?null:c.data;default:return null}}var I0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!I0[l.type]:c==="textarea"}function ee(l,c,m,E){Dt?cn?cn.push(E):cn=[E]:Dt=E,c=M2(c,"onChange"),0<c.length&&(m=new Mr("onChange","change",null,m,E),l.push({event:m,listeners:c}))}var ct=null,It=null;function Wt(l){W0(l,0)}function sn(l){var c=D(l);if(Hn(c))return l}function _n(l,c){if(l==="change")return c}var Ln=!1;if(xn){var Zn;if(xn){var tr="oninput"in document;if(!tr){var Sr=document.createElement("div");Sr.setAttribute("oninput","return;"),tr=typeof Sr.oninput=="function"}Zn=tr}else Zn=!1;Ln=Zn&&(!document.documentMode||9<document.documentMode)}function Fn(){ct&&(ct.detachEvent("onpropertychange",Wr),It=ct=null)}function Wr(l){if(l.propertyName==="value"&&sn(It)){var c=[];ee(c,It,l,Nt(l)),bn(Wt,c)}}function zr(l,c,m){l==="focusin"?(Fn(),ct=c,It=m,ct.attachEvent("onpropertychange",Wr)):l==="focusout"&&Fn()}function jr(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return sn(It)}function Qr(l,c){if(l==="click")return sn(c)}function fi(l,c){if(l==="input"||l==="change")return sn(c)}function Si(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var ar=typeof Object.is=="function"?Object.is:Si;function Ur(l,c){if(ar(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var m=Object.keys(l),E=Object.keys(c);if(m.length!==E.length)return!1;for(E=0;E<m.length;E++){var U=m[E];if(!lt.call(c,U)||!ar(l[U],c[U]))return!1}return!0}function _i(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function ri(l,c){var m=_i(l);l=0;for(var E;m;){if(m.nodeType===3){if(E=l+m.textContent.length,l<=c&&E>=c)return{node:m,offset:c-l};l=E}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=_i(m)}}function Ii(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?Ii(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function Ui(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var c=mr(l.document);c instanceof l.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)l=c.contentWindow;else break;c=mr(l.document)}return c}function Ri(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}var Pi=xn&&"documentMode"in document&&11>=document.documentMode,Li=null,Zi=null,xi=null,ps=!1;function Fs(l,c,m){var E=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ps||Li==null||Li!==mr(E)||(E=Li,"selectionStart"in E&&Ri(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),xi&&Ur(xi,E)||(xi=E,E=M2(Zi,"onSelect"),0<E.length&&(c=new Mr("onSelect","select",null,c,m),l.push({event:c,listeners:E}),c.target=Li)))}function Ys(l,c){var m={};return m[l.toLowerCase()]=c.toLowerCase(),m["Webkit"+l]="webkit"+c,m["Moz"+l]="moz"+c,m}var Qi={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},lo={},Oo={};xn&&(Oo=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function Ks(l){if(lo[l])return lo[l];if(!Qi[l])return l;var c=Qi[l],m;for(m in c)if(c.hasOwnProperty(m)&&m in Oo)return lo[l]=c[m];return l}var $i=Ks("animationend"),Ns=Ks("animationiteration"),xt=Ks("animationstart"),ts=Ks("transitionrun"),xs=Ks("transitionstart"),O0=Ks("transitioncancel"),So=Ks("transitionend"),Ro=new Map,$o="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$o.push("scrollEnd");function Is(l,c){Ro.set(l,c),Gt(c,[l])}var ii=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},bo=[],os=0,Lo=0;function xl(){for(var l=os,c=Lo=os=0;c<l;){var m=bo[c];bo[c++]=null;var E=bo[c];bo[c++]=null;var U=bo[c];bo[c++]=null;var Z=bo[c];if(bo[c++]=null,E!==null&&U!==null){var Ve=E.pending;Ve===null?U.next=U:(U.next=Ve.next,Ve.next=U),E.pending=U}Z!==0&&Uc(m,U,Z)}}function ol(l,c,m,E){bo[os++]=l,bo[os++]=c,bo[os++]=m,bo[os++]=E,Lo|=E,l.lanes|=E,l=l.alternate,l!==null&&(l.lanes|=E)}function ql(l,c,m,E){return ol(l,c,m,E),ll(l)}function y0(l,c){return ol(l,null,null,c),ll(l)}function Uc(l,c,m){l.lanes|=m;var E=l.alternate;E!==null&&(E.lanes|=m);for(var U=!1,Z=l.return;Z!==null;)Z.childLanes|=m,E=Z.alternate,E!==null&&(E.childLanes|=m),Z.tag===22&&(l=Z.stateNode,l===null||l._visibility&1||(U=!0)),l=Z,Z=Z.return;return l.tag===3?(Z=l.stateNode,U&&c!==null&&(U=31-Fe(m),l=Z.hiddenUpdates,E=l[U],E===null?l[U]=[c]:E.push(c),c.lane=m|536870912),Z):null}function ll(l){if(50<_2)throw _2=0,Zs=null,Error(i(185));for(var c=l.return;c!==null;)l=c,c=l.return;return l.tag===3?l.stateNode:null}var R0={};function zc(l,c,m,E){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zo(l,c,m,E){return new zc(l,c,m,E)}function Hc(l){return l=l.prototype,!(!l||!l.isReactComponent)}function al(l,c){var m=l.alternate;return m===null?(m=zo(l.tag,c,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=c,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&65011712,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,c=l.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m.refCleanup=l.refCleanup,m}function y4(l,c){l.flags&=65011714;var m=l.alternate;return m===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=m.childLanes,l.lanes=m.lanes,l.child=m.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=m.memoizedProps,l.memoizedState=m.memoizedState,l.updateQueue=m.updateQueue,l.type=m.type,c=m.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),l}function ba(l,c,m,E,U,Z){var Ve=0;if(E=l,typeof l=="function")Hc(l)&&(Ve=1);else if(typeof l=="string")Ve=Va(l,m,Ft.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case _e:return l=zo(31,m,c,U),l.elementType=_e,l.lanes=Z,l;case ne:return Wl(m.children,U,Z,c);case he:Ve=8,U|=24;break;case V:return l=zo(12,m,c,U|2),l.elementType=V,l.lanes=Z,l;case Oe:return l=zo(13,m,c,U),l.elementType=Oe,l.lanes=Z,l;case ce:return l=zo(19,m,c,U),l.elementType=ce,l.lanes=Z,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case te:Ve=10;break e;case le:Ve=9;break e;case Ce:Ve=11;break e;case Be:Ve=14;break e;case je:Ve=16,E=null;break e}Ve=29,m=Error(i(130,l===null?"null":typeof l,"")),E=null}return c=zo(Ve,m,c,U),c.elementType=l,c.type=E,c.lanes=Z,c}function Wl(l,c,m,E){return l=zo(7,l,E,c),l.lanes=m,l}function Hu(l,c,m){return l=zo(6,l,null,c),l.lanes=m,l}function ya(l){var c=zo(18,null,null,0);return c.stateNode=l,c}function jl(l,c,m){return c=zo(4,l.children!==null?l.children:[],l.key,c),c.lanes=m,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}var au=new WeakMap;function _0(l,c){if(typeof l=="object"&&l!==null){var m=au.get(l);return m!==void 0?m:(c={value:l,source:c,stack:Ae(c)},au.set(l,c),c)}return{value:l,source:c,stack:Ae(c)}}var uu=[],ul=0,Vc=null,_a=0,Ho=[],h0=0,Cl=null,f0=1,w0="";function t0(l,c){uu[ul++]=_a,uu[ul++]=Vc,Vc=l,_a=c}function Gc(l,c,m){Ho[h0++]=f0,Ho[h0++]=w0,Ho[h0++]=Cl,Cl=l;var E=f0;l=w0;var U=32-Fe(E)-1;E&=~(1<<U),m+=1;var Z=32-Fe(c)+U;if(30<Z){var Ve=U-U%5;Z=(E&(1<<Ve)-1).toString(32),E>>=Ve,U-=Ve,f0=1<<32-Fe(c)+U|m<<U|E,w0=Z+l}else f0=1<<Z|m<<U|E,w0=l}function qc(l){l.return!==null&&(t0(l,1),Gc(l,1,0))}function cl(l){for(;l===Vc;)Vc=uu[--ul],uu[ul]=null,_a=uu[--ul],uu[ul]=null;for(;l===Cl;)Cl=Ho[--h0],Ho[h0]=null,w0=Ho[--h0],Ho[h0]=null,f0=Ho[--h0],Ho[h0]=null}function Wc(l,c){Ho[h0++]=f0,Ho[h0++]=w0,Ho[h0++]=Cl,f0=c.id,w0=c.overflow,Cl=l}var Cs=null,_s=null,ki=!1,Xl=null,ao=!1,Ml=Error(i(519));function kl(l){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hu(_0(c,l)),Ml}function uh(l){var c=l.stateNode,m=l.type,E=l.memoizedProps;switch(c[W]=l,c[ae]=E,m){case"dialog":Mi("cancel",c),Mi("close",c);break;case"iframe":case"object":case"embed":Mi("load",c);break;case"video":case"audio":for(m=0;m<Ua.length;m++)Mi(Ua[m],c);break;case"source":Mi("error",c);break;case"img":case"image":case"link":Mi("error",c),Mi("load",c);break;case"details":Mi("toggle",c);break;case"input":Mi("invalid",c),v(c,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0);break;case"select":Mi("invalid",c);break;case"textarea":Mi("invalid",c),Xe(c,E.value,E.defaultValue,E.children)}m=E.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||E.suppressHydrationWarning===!0||zh(c.textContent,m)?(E.popover!=null&&(Mi("beforetoggle",c),Mi("toggle",c)),E.onScroll!=null&&Mi("scroll",c),E.onScrollEnd!=null&&Mi("scrollend",c),E.onClick!=null&&(c.onclick=We),c=!0):c=!1,c||kl(l,!0)}function ch(l){for(Cs=l.return;Cs;)switch(Cs.tag){case 5:case 31:case 13:ao=!1;return;case 27:case 3:ao=!0;return;default:Cs=Cs.return}}function cu(l){if(l!==Cs)return!1;if(!ki)return ch(l),ki=!0,!1;var c=l.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=l.type,m=!(m!=="form"&&m!=="button")||g5(l.type,l.memoizedProps)),m=!m),m&&_s&&kl(l),ch(l),c===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));_s=Ol(l)}else if(c===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));_s=Ol(l)}else c===27?(c=_s,cc(l.type)?(l=b5,b5=null,_s=l):_s=c):_s=Cs?o0(l.stateNode.nextSibling):null;return!0}function Al(){_s=Cs=null,ki=!1}function X1(){var l=Xl;return l!==null&&(Ao===null?Ao=l:Ao.push.apply(Ao,l),Xl=null),l}function hu(l){Xl===null?Xl=[l]:Xl.push(l)}var jc=xe(null),wa=null,hl=null;function Yl(l,c,m){ze(jc,c._currentValue),c._currentValue=m}function fl(l){l._currentValue=jc.current,gt(jc)}function fu(l,c,m){for(;l!==null;){var E=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,E!==null&&(E.childLanes|=c)):E!==null&&(E.childLanes&c)!==c&&(E.childLanes|=c),l===m)break;l=l.return}}function T0(l,c,m,E){var U=l.child;for(U!==null&&(U.return=l);U!==null;){var Z=U.dependencies;if(Z!==null){var Ve=U.child;Z=Z.firstContext;e:for(;Z!==null;){var At=Z;Z=U;for(var Qt=0;Qt<c.length;Qt++)if(At.context===c[Qt]){Z.lanes|=m,At=Z.alternate,At!==null&&(At.lanes|=m),fu(Z.return,m,l),E||(Ve=null);break e}Z=At.next}}else if(U.tag===18){if(Ve=U.return,Ve===null)throw Error(i(341));Ve.lanes|=m,Z=Ve.alternate,Z!==null&&(Z.lanes|=m),fu(Ve,m,l),Ve=null}else Ve=U.child;if(Ve!==null)Ve.return=U;else for(Ve=U;Ve!==null;){if(Ve===l){Ve=null;break}if(U=Ve.sibling,U!==null){U.return=Ve.return,Ve=U;break}Ve=Ve.return}U=Ve}}function Kl(l,c,m,E){l=null;for(var U=c,Z=!1;U!==null;){if(!Z){if((U.flags&524288)!==0)Z=!0;else if((U.flags&262144)!==0)break}if(U.tag===10){var Ve=U.alternate;if(Ve===null)throw Error(i(387));if(Ve=Ve.memoizedProps,Ve!==null){var At=U.type;ar(U.pendingProps.value,Ve.value)||(l!==null?l.push(At):l=[At])}}else if(U===Ct.current){if(Ve=U.alternate,Ve===null)throw Error(i(387));Ve.memoizedState.memoizedState!==U.memoizedState.memoizedState&&(l!==null?l.push(D2):l=[D2])}U=U.return}l!==null&&T0(c,l,m,E),c.flags|=262144}function Vu(l){for(l=l.firstContext;l!==null;){if(!ar(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function E0(l){wa=l,hl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function yo(l){return qu(wa,l)}function Gu(l,c){return wa===null&&E0(l),qu(l,c)}function qu(l,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},hl===null){if(l===null)throw Error(i(308));hl=c,l.dependencies={lanes:0,firstContext:c},l.flags|=524288}else hl=hl.next=c;return m}var Xc=typeof AbortController<"u"?AbortController:function(){var l=[],c=this.signal={aborted:!1,addEventListener:function(m,E){l.push(E)}};this.abort=function(){c.aborted=!0,l.forEach(function(m){return m()})}},Y1=t.unstable_scheduleCallback,hh=t.unstable_NormalPriority,As={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yc(){return{controller:new Xc,data:new Map,refCount:0}}function Jl(l){l.refCount--,l.refCount===0&&Y1(hh,function(){l.controller.abort()})}var Zl=null,K1=0,du=0,Ta=null;function J1(l,c){if(Zl===null){var m=Zl=[];K1=0,du=q0(),Ta={status:"pending",value:void 0,then:function(E){m.push(E)}}}return K1++,c.then(Hr,Hr),c}function Hr(){if(--K1===0&&Zl!==null){Ta!==null&&(Ta.status="fulfilled");var l=Zl;Zl=null,du=0,Ta=null;for(var c=0;c<l.length;c++)(0,l[c])()}}function S0(l,c){var m=[],E={status:"pending",value:null,reason:null,then:function(U){m.push(U)}};return l.then(function(){E.status="fulfilled",E.value=c;for(var U=0;U<m.length;U++)(0,m[U])(c)},function(U){for(E.status="rejected",E.reason=U,U=0;U<m.length;U++)(0,m[U])(void 0)}),E}var xo=J.S;J.S=function(l,c){s5=rt(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&J1(l,c),xo!==null&&xo(l,c)};var ls=xe(null);function L0(){var l=ls.current;return l!==null?l:us.pooledCache}function S(l,c){c===null?ze(ls,ls.current):ze(ls,c.pool)}function _(){var l=L0();return l===null?null:{parent:As._currentValue,pool:l}}var C=Error(i(460)),G=Error(i(474)),pe=Error(i(542)),Ie={then:function(){}};function ot(l){return l=l.status,l==="fulfilled"||l==="rejected"}function kt(l,c,m){switch(m=l[m],m===void 0?l.push(c):m!==c&&(c.then(We,We),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,wn(l),l;default:if(typeof c.status=="string")c.then(We,We);else{if(l=us,l!==null&&100<l.shellSuspendCounter)throw Error(i(482));l=c,l.status="pending",l.then(function(E){if(c.status==="pending"){var U=c;U.status="fulfilled",U.value=E}},function(E){if(c.status==="pending"){var U=c;U.status="rejected",U.reason=E}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,wn(l),l}throw Jt=c,C}}function Pt(l){try{var c=l._init;return c(l._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Jt=m,C):m}}var Jt=null;function vn(){if(Jt===null)throw Error(i(459));var l=Jt;return Jt=null,l}function wn(l){if(l===C||l===pe)throw Error(i(483))}var Rn=null,ir=0;function Nr(l){var c=ir;return ir+=1,Rn===null&&(Rn=[]),kt(Rn,l,c)}function Br(l,c){c=c.props.ref,l.ref=c!==void 0?c:null}function wi(l,c){throw c.$$typeof===I?Error(i(525)):(l=Object.prototype.toString.call(c),Error(i(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)))}function ui(l){function c(yn,on){if(l){var kn=yn.deletions;kn===null?(yn.deletions=[on],yn.flags|=16):kn.push(on)}}function m(yn,on){if(!l)return null;for(;on!==null;)c(yn,on),on=on.sibling;return null}function E(yn){for(var on=new Map;yn!==null;)yn.key!==null?on.set(yn.key,yn):on.set(yn.index,yn),yn=yn.sibling;return on}function U(yn,on){return yn=al(yn,on),yn.index=0,yn.sibling=null,yn}function Z(yn,on,kn){return yn.index=kn,l?(kn=yn.alternate,kn!==null?(kn=kn.index,kn<on?(yn.flags|=67108866,on):kn):(yn.flags|=67108866,on)):(yn.flags|=1048576,on)}function Ve(yn){return l&&yn.alternate===null&&(yn.flags|=67108866),yn}function At(yn,on,kn,Jn){return on===null||on.tag!==6?(on=Hu(kn,yn.mode,Jn),on.return=yn,on):(on=U(on,kn),on.return=yn,on)}function Qt(yn,on,kn,Jn){var Xr=kn.type;return Xr===ne?Kn(yn,on,kn.props.children,Jn,kn.key):on!==null&&(on.elementType===Xr||typeof Xr=="object"&&Xr!==null&&Xr.$$typeof===je&&Pt(Xr)===on.type)?(on=U(on,kn.props),Br(on,kn),on.return=yn,on):(on=ba(kn.type,kn.key,kn.props,null,yn.mode,Jn),Br(on,kn),on.return=yn,on)}function An(yn,on,kn,Jn){return on===null||on.tag!==4||on.stateNode.containerInfo!==kn.containerInfo||on.stateNode.implementation!==kn.implementation?(on=jl(kn,yn.mode,Jn),on.return=yn,on):(on=U(on,kn.children||[]),on.return=yn,on)}function Kn(yn,on,kn,Jn,Xr){return on===null||on.tag!==7?(on=Wl(kn,yn.mode,Jn,Xr),on.return=yn,on):(on=U(on,kn),on.return=yn,on)}function rr(yn,on,kn){if(typeof on=="string"&&on!==""||typeof on=="number"||typeof on=="bigint")return on=Hu(""+on,yn.mode,kn),on.return=yn,on;if(typeof on=="object"&&on!==null){switch(on.$$typeof){case A:return kn=ba(on.type,on.key,on.props,null,yn.mode,kn),Br(kn,on),kn.return=yn,kn;case K:return on=jl(on,yn.mode,kn),on.return=yn,on;case je:return on=Pt(on),rr(yn,on,kn)}if(j(on)||N(on))return on=Wl(on,yn.mode,kn,null),on.return=yn,on;if(typeof on.then=="function")return rr(yn,Nr(on),kn);if(on.$$typeof===te)return rr(yn,Gu(yn,on),kn);wi(yn,on)}return null}function Bn(yn,on,kn,Jn){var Xr=on!==null?on.key:null;if(typeof kn=="string"&&kn!==""||typeof kn=="number"||typeof kn=="bigint")return Xr!==null?null:At(yn,on,""+kn,Jn);if(typeof kn=="object"&&kn!==null){switch(kn.$$typeof){case A:return kn.key===Xr?Qt(yn,on,kn,Jn):null;case K:return kn.key===Xr?An(yn,on,kn,Jn):null;case je:return kn=Pt(kn),Bn(yn,on,kn,Jn)}if(j(kn)||N(kn))return Xr!==null?null:Kn(yn,on,kn,Jn,null);if(typeof kn.then=="function")return Bn(yn,on,Nr(kn),Jn);if(kn.$$typeof===te)return Bn(yn,on,Gu(yn,kn),Jn);wi(yn,kn)}return null}function Gn(yn,on,kn,Jn,Xr){if(typeof Jn=="string"&&Jn!==""||typeof Jn=="number"||typeof Jn=="bigint")return yn=yn.get(kn)||null,At(on,yn,""+Jn,Xr);if(typeof Jn=="object"&&Jn!==null){switch(Jn.$$typeof){case A:return yn=yn.get(Jn.key===null?kn:Jn.key)||null,Qt(on,yn,Jn,Xr);case K:return yn=yn.get(Jn.key===null?kn:Jn.key)||null,An(on,yn,Jn,Xr);case je:return Jn=Pt(Jn),Gn(yn,on,kn,Jn,Xr)}if(j(Jn)||N(Jn))return yn=yn.get(kn)||null,Kn(on,yn,Jn,Xr,null);if(typeof Jn.then=="function")return Gn(yn,on,kn,Nr(Jn),Xr);if(Jn.$$typeof===te)return Gn(yn,on,kn,Gu(on,Jn),Xr);wi(on,Jn)}return null}function Dr(yn,on,kn,Jn){for(var Xr=null,Gi=null,Vr=on,Rr=on=0,Di=null;Vr!==null&&Rr<kn.length;Rr++){Vr.index>Rr?(Di=Vr,Vr=null):Di=Vr.sibling;var Ji=Bn(yn,Vr,kn[Rr],Jn);if(Ji===null){Vr===null&&(Vr=Di);break}l&&Vr&&Ji.alternate===null&&c(yn,Vr),on=Z(Ji,on,Rr),Gi===null?Xr=Ji:Gi.sibling=Ji,Gi=Ji,Vr=Di}if(Rr===kn.length)return m(yn,Vr),ki&&t0(yn,Rr),Xr;if(Vr===null){for(;Rr<kn.length;Rr++)Vr=rr(yn,kn[Rr],Jn),Vr!==null&&(on=Z(Vr,on,Rr),Gi===null?Xr=Vr:Gi.sibling=Vr,Gi=Vr);return ki&&t0(yn,Rr),Xr}for(Vr=E(Vr);Rr<kn.length;Rr++)Di=Gn(Vr,yn,Rr,kn[Rr],Jn),Di!==null&&(l&&Di.alternate!==null&&Vr.delete(Di.key===null?Rr:Di.key),on=Z(Di,on,Rr),Gi===null?Xr=Di:Gi.sibling=Di,Gi=Di);return l&&Vr.forEach(function(A0){return c(yn,A0)}),ki&&t0(yn,Rr),Xr}function ti(yn,on,kn,Jn){if(kn==null)throw Error(i(151));for(var Xr=null,Gi=null,Vr=on,Rr=on=0,Di=null,Ji=kn.next();Vr!==null&&!Ji.done;Rr++,Ji=kn.next()){Vr.index>Rr?(Di=Vr,Vr=null):Di=Vr.sibling;var A0=Bn(yn,Vr,Ji.value,Jn);if(A0===null){Vr===null&&(Vr=Di);break}l&&Vr&&A0.alternate===null&&c(yn,Vr),on=Z(A0,on,Rr),Gi===null?Xr=A0:Gi.sibling=A0,Gi=A0,Vr=Di}if(Ji.done)return m(yn,Vr),ki&&t0(yn,Rr),Xr;if(Vr===null){for(;!Ji.done;Rr++,Ji=kn.next())Ji=rr(yn,Ji.value,Jn),Ji!==null&&(on=Z(Ji,on,Rr),Gi===null?Xr=Ji:Gi.sibling=Ji,Gi=Ji);return ki&&t0(yn,Rr),Xr}for(Vr=E(Vr);!Ji.done;Rr++,Ji=kn.next())Ji=Gn(Vr,yn,Rr,Ji.value,Jn),Ji!==null&&(l&&Ji.alternate!==null&&Vr.delete(Ji.key===null?Rr:Ji.key),on=Z(Ji,on,Rr),Gi===null?Xr=Ji:Gi.sibling=Ji,Gi=Ji);return l&&Vr.forEach(function(m8){return c(yn,m8)}),ki&&t0(yn,Rr),Xr}function is(yn,on,kn,Jn){if(typeof kn=="object"&&kn!==null&&kn.type===ne&&kn.key===null&&(kn=kn.props.children),typeof kn=="object"&&kn!==null){switch(kn.$$typeof){case A:e:{for(var Xr=kn.key;on!==null;){if(on.key===Xr){if(Xr=kn.type,Xr===ne){if(on.tag===7){m(yn,on.sibling),Jn=U(on,kn.props.children),Jn.return=yn,yn=Jn;break e}}else if(on.elementType===Xr||typeof Xr=="object"&&Xr!==null&&Xr.$$typeof===je&&Pt(Xr)===on.type){m(yn,on.sibling),Jn=U(on,kn.props),Br(Jn,kn),Jn.return=yn,yn=Jn;break e}m(yn,on);break}else c(yn,on);on=on.sibling}kn.type===ne?(Jn=Wl(kn.props.children,yn.mode,Jn,kn.key),Jn.return=yn,yn=Jn):(Jn=ba(kn.type,kn.key,kn.props,null,yn.mode,Jn),Br(Jn,kn),Jn.return=yn,yn=Jn)}return Ve(yn);case K:e:{for(Xr=kn.key;on!==null;){if(on.key===Xr)if(on.tag===4&&on.stateNode.containerInfo===kn.containerInfo&&on.stateNode.implementation===kn.implementation){m(yn,on.sibling),Jn=U(on,kn.children||[]),Jn.return=yn,yn=Jn;break e}else{m(yn,on);break}else c(yn,on);on=on.sibling}Jn=jl(kn,yn.mode,Jn),Jn.return=yn,yn=Jn}return Ve(yn);case je:return kn=Pt(kn),is(yn,on,kn,Jn)}if(j(kn))return Dr(yn,on,kn,Jn);if(N(kn)){if(Xr=N(kn),typeof Xr!="function")throw Error(i(150));return kn=Xr.call(kn),ti(yn,on,kn,Jn)}if(typeof kn.then=="function")return is(yn,on,Nr(kn),Jn);if(kn.$$typeof===te)return is(yn,on,Gu(yn,kn),Jn);wi(yn,kn)}return typeof kn=="string"&&kn!==""||typeof kn=="number"||typeof kn=="bigint"?(kn=""+kn,on!==null&&on.tag===6?(m(yn,on.sibling),Jn=U(on,kn),Jn.return=yn,yn=Jn):(m(yn,on),Jn=Hu(kn,yn.mode,Jn),Jn.return=yn,yn=Jn),Ve(yn)):m(yn,on)}return function(yn,on,kn,Jn){try{ir=0;var Xr=is(yn,on,kn,Jn);return Rn=null,Xr}catch(Vr){if(Vr===C||Vr===pe)throw Vr;var Gi=zo(29,Vr,null,yn.mode);return Gi.lanes=Jn,Gi.return=yn,Gi}finally{}}}var di=ui(!0),zi=ui(!1),Oi=!1;function ms(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Us(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Os(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function zs(l,c,m){var E=l.updateQueue;if(E===null)return null;if(E=E.shared,(rs&2)!==0){var U=E.pending;return U===null?c.next=c:(c.next=U.next,U.next=c),E.pending=c,c=ll(l),Uc(l,null,m),c}return ol(l,E,c,m),ll(l)}function Ti(l,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var E=c.lanes;E&=l.pendingLanes,m|=E,c.lanes=m,En(l,m)}}function ji(l,c){var m=l.updateQueue,E=l.alternate;if(E!==null&&(E=E.updateQueue,m===E)){var U=null,Z=null;if(m=m.firstBaseUpdate,m!==null){do{var Ve={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};Z===null?U=Z=Ve:Z=Z.next=Ve,m=m.next}while(m!==null);Z===null?U=Z=c:Z=Z.next=c}else U=Z=c;m={baseState:E.baseState,firstBaseUpdate:U,lastBaseUpdate:Z,shared:E.shared,callbacks:E.callbacks},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=c:l.next=c,m.lastBaseUpdate=c}var Xi=!1;function as(){if(Xi){var l=Ta;if(l!==null)throw l}}function Hi(l,c,m,E){Xi=!1;var U=l.updateQueue;Oi=!1;var Z=U.firstBaseUpdate,Ve=U.lastBaseUpdate,At=U.shared.pending;if(At!==null){U.shared.pending=null;var Qt=At,An=Qt.next;Qt.next=null,Ve===null?Z=An:Ve.next=An,Ve=Qt;var Kn=l.alternate;Kn!==null&&(Kn=Kn.updateQueue,At=Kn.lastBaseUpdate,At!==Ve&&(At===null?Kn.firstBaseUpdate=An:At.next=An,Kn.lastBaseUpdate=Qt))}if(Z!==null){var rr=U.baseState;Ve=0,Kn=An=Qt=null,At=Z;do{var Bn=At.lane&-536870913,Gn=Bn!==At.lane;if(Gn?(li&Bn)===Bn:(E&Bn)===Bn){Bn!==0&&Bn===du&&(Xi=!0),Kn!==null&&(Kn=Kn.next={lane:0,tag:At.tag,payload:At.payload,callback:null,next:null});e:{var Dr=l,ti=At;Bn=c;var is=m;switch(ti.tag){case 1:if(Dr=ti.payload,typeof Dr=="function"){rr=Dr.call(is,rr,Bn);break e}rr=Dr;break e;case 3:Dr.flags=Dr.flags&-65537|128;case 0:if(Dr=ti.payload,Bn=typeof Dr=="function"?Dr.call(is,rr,Bn):Dr,Bn==null)break e;rr=w({},rr,Bn);break e;case 2:Oi=!0}}Bn=At.callback,Bn!==null&&(l.flags|=64,Gn&&(l.flags|=8192),Gn=U.callbacks,Gn===null?U.callbacks=[Bn]:Gn.push(Bn))}else Gn={lane:Bn,tag:At.tag,payload:At.payload,callback:At.callback,next:null},Kn===null?(An=Kn=Gn,Qt=rr):Kn=Kn.next=Gn,Ve|=Bn;if(At=At.next,At===null){if(At=U.shared.pending,At===null)break;Gn=At,At=Gn.next,Gn.next=null,U.lastBaseUpdate=Gn,U.shared.pending=null}}while(!0);Kn===null&&(Qt=rr),U.baseState=Qt,U.firstBaseUpdate=An,U.lastBaseUpdate=Kn,Z===null&&(U.shared.lanes=0),sa|=Ve,l.lanes=Ve,l.memoizedState=rr}}function ws(l,c){if(typeof l!="function")throw Error(i(191,l));l.call(c)}function Do(l,c){var m=l.callbacks;if(m!==null)for(l.callbacks=null,l=0;l<m.length;l++)ws(m[l],c)}var Ea=xe(null),Wu=xe(0);function Kc(l,c){l=ia,ze(Wu,l),ze(Ea,c),ia=l|c.baseLanes}function Z1(){ze(Wu,ia),ze(Ea,Ea.current)}function Ql(){ia=Wu.current,gt(Ea),gt(Wu)}var x0=xe(null),D0=null;function Sa(l){var c=l.alternate;ze(uo,uo.current&1),ze(x0,l),D0===null&&(c===null||Ea.current!==null||c.memoizedState!==null)&&(D0=l)}function _4(l){ze(uo,uo.current),ze(x0,l),D0===null&&(D0=l)}function w4(l){l.tag===22?(ze(uo,uo.current),ze(x0,l),D0===null&&(D0=l)):pu()}function pu(){ze(uo,uo.current),ze(x0,x0.current)}function d0(l){gt(x0),D0===l&&(D0=null),gt(uo)}var uo=xe(0);function fh(l){for(var c=l;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m1(m)||A2(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var dl=0,vi=null,gs=null,to=null,Jc=!1,mu=!1,xa=!1,Q1=0,e2=0,ju=null,T4=0;function Hs(){throw Error(i(321))}function E4(l,c){if(c===null)return!1;for(var m=0;m<c.length&&m<l.length;m++)if(!ar(l[m],c[m]))return!1;return!0}function t2(l,c,m,E,U,Z){return dl=Z,vi=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,J.H=l===null||l.memoizedState===null?F6:q4,xa=!1,Z=m(E,U),xa=!1,mu&&(Z=S4(c,m,E,U)),x6(l),Z}function x6(l){J.H=t1;var c=gs!==null&&gs.next!==null;if(dl=0,to=gs=vi=null,Jc=!1,e2=0,ju=null,c)throw Error(i(300));l===null||_o||(l=l.dependencies,l!==null&&Vu(l)&&(_o=!0))}function S4(l,c,m,E){vi=l;var U=0;do{if(mu&&(ju=null),e2=0,mu=!1,25<=U)throw Error(i(301));if(U+=1,to=gs=null,l.updateQueue!=null){var Z=l.updateQueue;Z.lastEffect=null,Z.events=null,Z.stores=null,Z.memoCache!=null&&(Z.memoCache.index=0)}J.H=U6,Z=c(m,E)}while(mu);return Z}function V7(){var l=J.H,c=l.useState()[0];return c=typeof c.then=="function"?e1(c):c,l=l.useState()[0],(gs!==null?gs.memoizedState:null)!==l&&(vi.flags|=1024),c}function Ca(){var l=Q1!==0;return Q1=0,l}function dh(l,c,m){c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~m}function Zc(l){if(Jc){for(l=l.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Jc=!1}dl=0,to=gs=vi=null,mu=!1,e2=Q1=0,ju=null}function n0(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return to===null?vi.memoizedState=to=l:to=to.next=l,to}function no(){if(gs===null){var l=vi.alternate;l=l!==null?l.memoizedState:null}else l=gs.next;var c=to===null?vi.memoizedState:to.next;if(c!==null)to=c,gs=l;else{if(l===null)throw vi.alternate===null?Error(i(467)):Error(i(310));gs=l,l={memoizedState:gs.memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},to===null?vi.memoizedState=to=l:to=to.next=l}return to}function Qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function e1(l){var c=e2;return e2+=1,ju===null&&(ju=[]),l=kt(ju,l,c),c=vi,(to===null?c.memoizedState:to.next)===null&&(c=c.alternate,J.H=c===null||c.memoizedState===null?F6:q4),l}function n2(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return e1(l);if(l.$$typeof===te)return yo(l)}throw Error(i(438,String(l)))}function ph(l){var c=null,m=vi.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var E=vi.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(c={data:E.data.map(function(U){return U.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=Qc(),vi.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(l),E=0;E<l;E++)m[E]=b;return c.index++,m}function ea(l,c){return typeof c=="function"?c(l):c}function r2(l){var c=no();return mh(c,gs,l)}function mh(l,c,m){var E=l.queue;if(E===null)throw Error(i(311));E.lastRenderedReducer=m;var U=l.baseQueue,Z=E.pending;if(Z!==null){if(U!==null){var Ve=U.next;U.next=Z.next,Z.next=Ve}c.baseQueue=U=Z,E.pending=null}if(Z=l.baseState,U===null)l.memoizedState=Z;else{c=U.next;var At=Ve=null,Qt=null,An=c,Kn=!1;do{var rr=An.lane&-536870913;if(rr!==An.lane?(li&rr)===rr:(dl&rr)===rr){var Bn=An.revertLane;if(Bn===0)Qt!==null&&(Qt=Qt.next={lane:0,revertLane:0,gesture:null,action:An.action,hasEagerState:An.hasEagerState,eagerState:An.eagerState,next:null}),rr===du&&(Kn=!0);else if((dl&Bn)===Bn){An=An.next,Bn===du&&(Kn=!0);continue}else rr={lane:0,revertLane:An.revertLane,gesture:null,action:An.action,hasEagerState:An.hasEagerState,eagerState:An.eagerState,next:null},Qt===null?(At=Qt=rr,Ve=Z):Qt=Qt.next=rr,vi.lanes|=Bn,sa|=Bn;rr=An.action,xa&&m(Z,rr),Z=An.hasEagerState?An.eagerState:m(Z,rr)}else Bn={lane:rr,revertLane:An.revertLane,gesture:An.gesture,action:An.action,hasEagerState:An.hasEagerState,eagerState:An.eagerState,next:null},Qt===null?(At=Qt=Bn,Ve=Z):Qt=Qt.next=Bn,vi.lanes|=rr,sa|=rr;An=An.next}while(An!==null&&An!==c);if(Qt===null?Ve=Z:Qt.next=At,!ar(Z,l.memoizedState)&&(_o=!0,Kn&&(m=Ta,m!==null)))throw m;l.memoizedState=Z,l.baseState=Ve,l.baseQueue=Qt,E.lastRenderedState=Z}return U===null&&(E.lanes=0),[l.memoizedState,E.dispatch]}function gh(l){var c=no(),m=c.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=l;var E=m.dispatch,U=m.pending,Z=c.memoizedState;if(U!==null){m.pending=null;var Ve=U=U.next;do Z=l(Z,Ve.action),Ve=Ve.next;while(Ve!==U);ar(Z,c.memoizedState)||(_o=!0),c.memoizedState=Z,c.baseQueue===null&&(c.baseState=Z),m.lastRenderedState=Z}return[Z,E]}function x4(l,c,m){var E=vi,U=no(),Z=ki;if(Z){if(m===void 0)throw Error(i(407));m=m()}else m=c();var Ve=!ar((gs||U).memoizedState,m);if(Ve&&(U.memoizedState=m,_o=!0),U=U.queue,$h(M6.bind(null,E,U,l),[l]),U.getSnapshot!==c||Ve||to!==null&&to.memoizedState.tag&1){if(E.flags|=2048,Xu(9,{destroy:void 0},C6.bind(null,E,U,m,c),null),us===null)throw Error(i(349));Z||(dl&127)!==0||C4(E,c,m)}return m}function C4(l,c,m){l.flags|=16384,l={getSnapshot:c,value:m},c=vi.updateQueue,c===null?(c=Qc(),vi.updateQueue=c,c.stores=[l]):(m=c.stores,m===null?c.stores=[l]:m.push(l))}function C6(l,c,m,E){c.value=m,c.getSnapshot=E,k6(c)&&A6(l)}function M6(l,c,m){return m(function(){k6(c)&&A6(l)})}function k6(l){var c=l.getSnapshot;l=l.value;try{var m=c();return!ar(l,m)}catch{return!0}}function A6(l){var c=y0(l,2);c!==null&&Wo(c,l,2)}function M4(l){var c=n0();if(typeof l=="function"){var m=l;if(l=m(),xa){Je(!0);try{m()}finally{Je(!1)}}}return c.memoizedState=c.baseState=l,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:l},c}function N6(l,c,m,E){return l.baseState=m,mh(l,gs,typeof E=="function"?E:ea)}function G7(l,c,m,E,U){if(Ma(l))throw Error(i(485));if(l=c.action,l!==null){var Z={payload:U,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ve){Z.listeners.push(Ve)}};J.T!==null?m(!0):Z.isTransition=!1,E(Z),m=c.pending,m===null?(Z.next=c.pending=Z,I6(c,Z)):(Z.next=m.next,c.pending=m.next=Z)}}function I6(l,c){var m=c.action,E=c.payload,U=l.state;if(c.isTransition){var Z=J.T,Ve={};J.T=Ve;try{var At=m(U,E),Qt=J.S;Qt!==null&&Qt(Ve,At),O6(l,c,At)}catch(An){vh(l,c,An)}finally{Z!==null&&Ve.types!==null&&(Z.types=Ve.types),J.T=Z}}else try{Z=m(U,E),O6(l,c,Z)}catch(An){vh(l,c,An)}}function O6(l,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(E){k4(l,c,E)},function(E){return vh(l,c,E)}):k4(l,c,m)}function k4(l,c,m){c.status="fulfilled",c.value=m,A4(c),l.state=m,c=l.pending,c!==null&&(m=c.next,m===c?l.pending=null:(m=m.next,c.next=m,I6(l,m)))}function vh(l,c,m){var E=l.pending;if(l.pending=null,E!==null){E=E.next;do c.status="rejected",c.reason=m,A4(c),c=c.next;while(c!==E)}l.action=null}function A4(l){l=l.listeners;for(var c=0;c<l.length;c++)(0,l[c])()}function N4(l,c){return c}function I4(l,c){if(ki){var m=us.formState;if(m!==null){e:{var E=vi;if(ki){if(_s){t:{for(var U=_s,Z=ao;U.nodeType!==8;){if(!Z){U=null;break t}if(U=o0(U.nextSibling),U===null){U=null;break t}}Z=U.data,U=Z==="F!"||Z==="F"?U:null}if(U){_s=o0(U.nextSibling),E=U.data==="F!";break e}}kl(E)}E=!1}E&&(c=m[0])}}return m=n0(),m.memoizedState=m.baseState=c,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N4,lastRenderedState:c},m.queue=E,m=j7.bind(null,vi,E),E.dispatch=m,E=M4(!1),Z=u2.bind(null,vi,!1,E.queue),E=n0(),U={state:c,dispatch:null,action:l,pending:null},E.queue=U,m=G7.bind(null,vi,U,Z,m),U.dispatch=m,E.memoizedState=l,[c,m,!1]}function O4(l){var c=no();return R4(c,gs,l)}function R4(l,c,m){if(c=mh(l,c,N4)[0],l=r2(ea)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var E=e1(c)}catch(Ve){throw Ve===C?pe:Ve}else E=c;c=no();var U=c.queue,Z=U.dispatch;return m!==c.memoizedState&&(vi.flags|=2048,Xu(9,{destroy:void 0},L4.bind(null,U,m),null)),[E,Z,l]}function L4(l,c){l.action=c}function i2(l){var c=no(),m=gs;if(m!==null)return R4(c,m,l);no(),c=c.memoizedState,m=no();var E=m.queue.dispatch;return m.memoizedState=l,[c,E,!1]}function Xu(l,c,m,E){return l={tag:l,create:m,deps:E,inst:c,next:null},c=vi.updateQueue,c===null&&(c=Qc(),vi.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=l.next=l:(E=m.next,m.next=l,l.next=E,c.lastEffect=l),l}function R6(){return no().memoizedState}function s2(l,c,m,E){var U=n0();vi.flags|=l,U.memoizedState=Xu(1|c,{destroy:void 0},m,E===void 0?null:E)}function o2(l,c,m,E){var U=no();E=E===void 0?null:E;var Z=U.memoizedState.inst;gs!==null&&E!==null&&E4(E,gs.memoizedState.deps)?U.memoizedState=Xu(c,Z,m,E):(vi.flags|=l,U.memoizedState=Xu(1|c,Z,m,E))}function D4(l,c){s2(8390656,8,l,c)}function $h(l,c){o2(2048,8,l,c)}function L6(l){vi.flags|=4;var c=vi.updateQueue;if(c===null)c=Qc(),vi.updateQueue=c,c.events=[l];else{var m=c.events;m===null?c.events=[l]:m.push(l)}}function B4(l){var c=no().memoizedState;return L6({ref:c,nextImpl:l}),function(){if((rs&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function P4(l,c){return o2(4,2,l,c)}function F4(l,c){return o2(4,4,l,c)}function U4(l,c){if(typeof c=="function"){l=l();var m=c(l);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function z4(l,c,m){m=m!=null?m.concat([l]):null,o2(4,4,U4.bind(null,c,l),m)}function H4(){}function D6(l,c){var m=no();c=c===void 0?null:c;var E=m.memoizedState;return c!==null&&E4(c,E[1])?E[0]:(m.memoizedState=[l,c],l)}function V4(l,c){var m=no();c=c===void 0?null:c;var E=m.memoizedState;if(c!==null&&E4(c,E[1]))return E[0];if(E=l(),xa){Je(!0);try{l()}finally{Je(!1)}}return m.memoizedState=[E,c],E}function G4(l,c,m){return m===void 0||(dl&1073741824)!==0&&(li&261930)===0?l.memoizedState=c:(l.memoizedState=m,l=o5(),vi.lanes|=l,sa|=l,m)}function B6(l,c,m,E){return ar(m,c)?m:Ea.current!==null?(l=G4(l,m,E),ar(l,c)||(_o=!0),l):(dl&42)===0||(dl&1073741824)!==0&&(li&261930)===0?(_o=!0,l.memoizedState=m):(l=o5(),vi.lanes|=l,sa|=l,c)}function P6(l,c,m,E,U){var Z=fe.p;fe.p=Z!==0&&8>Z?Z:8;var Ve=J.T,At={};J.T=At,u2(l,!1,c,m);try{var Qt=U(),An=J.S;if(An!==null&&An(At,Qt),Qt!==null&&typeof Qt=="object"&&typeof Qt.then=="function"){var Kn=S0(Qt,E);a2(l,c,Kn,qo(l))}else a2(l,c,E,qo(l))}catch(rr){a2(l,c,{then:function(){},status:"rejected",reason:rr},qo())}finally{fe.p=Z,Ve!==null&&At.types!==null&&(Ve.types=At.types),J.T=Ve}}function q7(){}function In(l,c,m,E){if(l.tag!==5)throw Error(i(476));var U=gu(l).queue;P6(l,U,c,Ne,m===null?q7:function(){return W7(l),m(E)})}function gu(l){var c=l.memoizedState;if(c!==null)return c;c={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:Ne},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:m},next:null},l.memoizedState=c,l=l.alternate,l!==null&&(l.memoizedState=c),c}function W7(l){var c=gu(l);c.next===null&&(c=l.alternate.memoizedState),a2(l,c.next.queue,{},qo())}function l2(){return yo(D2)}function B0(){return no().memoizedState}function Yn(){return no().memoizedState}function vu(l){for(var c=l.return;c!==null;){switch(c.tag){case 24:case 3:var m=qo();l=Os(m);var E=zs(c,l,m);E!==null&&(Wo(E,c,m),Ti(E,c,m)),c={cache:Yc()},l.payload=c;return}c=c.return}}function Vs(l,c,m){var E=qo();m={lane:E,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Ma(l)?bh(c,m):(m=ql(l,c,m,E),m!==null&&(Wo(m,l,E),Yu(m,c,E)))}function j7(l,c,m){var E=qo();a2(l,c,m,E)}function a2(l,c,m,E){var U={lane:E,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(Ma(l))bh(c,U);else{var Z=l.alternate;if(l.lanes===0&&(Z===null||Z.lanes===0)&&(Z=c.lastRenderedReducer,Z!==null))try{var Ve=c.lastRenderedState,At=Z(Ve,m);if(U.hasEagerState=!0,U.eagerState=At,ar(At,Ve))return ol(l,c,U,0),us===null&&xl(),!1}catch{}finally{}if(m=ql(l,c,U,E),m!==null)return Wo(m,l,E),Yu(m,c,E),!0}return!1}function u2(l,c,m,E){if(E={lane:2,revertLane:q0(),gesture:null,action:E,hasEagerState:!1,eagerState:null,next:null},Ma(l)){if(c)throw Error(i(479))}else c=ql(l,m,E,2),c!==null&&Wo(c,l,2)}function Ma(l){var c=l.alternate;return l===vi||c!==null&&c===vi}function bh(l,c){mu=Jc=!0;var m=l.pending;m===null?c.next=c:(c.next=m.next,m.next=c),l.pending=c}function Yu(l,c,m){if((m&4194048)!==0){var E=c.lanes;E&=l.pendingLanes,m|=E,c.lanes=m,En(l,m)}}var t1={readContext:yo,use:n2,useCallback:Hs,useContext:Hs,useEffect:Hs,useImperativeHandle:Hs,useLayoutEffect:Hs,useInsertionEffect:Hs,useMemo:Hs,useReducer:Hs,useRef:Hs,useState:Hs,useDebugValue:Hs,useDeferredValue:Hs,useTransition:Hs,useSyncExternalStore:Hs,useId:Hs,useHostTransitionStatus:Hs,useFormState:Hs,useActionState:Hs,useOptimistic:Hs,useMemoCache:Hs,useCacheRefresh:Hs};t1.useEffectEvent=Hs;var F6={readContext:yo,use:n2,useCallback:function(l,c){return n0().memoizedState=[l,c===void 0?null:c],l},useContext:yo,useEffect:D4,useImperativeHandle:function(l,c,m){m=m!=null?m.concat([l]):null,s2(4194308,4,U4.bind(null,c,l),m)},useLayoutEffect:function(l,c){return s2(4194308,4,l,c)},useInsertionEffect:function(l,c){s2(4,2,l,c)},useMemo:function(l,c){var m=n0();c=c===void 0?null:c;var E=l();if(xa){Je(!0);try{l()}finally{Je(!1)}}return m.memoizedState=[E,c],E},useReducer:function(l,c,m){var E=n0();if(m!==void 0){var U=m(c);if(xa){Je(!0);try{m(c)}finally{Je(!1)}}}else U=c;return E.memoizedState=E.baseState=U,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:U},E.queue=l,l=l.dispatch=Vs.bind(null,vi,l),[E.memoizedState,l]},useRef:function(l){var c=n0();return l={current:l},c.memoizedState=l},useState:function(l){l=M4(l);var c=l.queue,m=j7.bind(null,vi,c);return c.dispatch=m,[l.memoizedState,m]},useDebugValue:H4,useDeferredValue:function(l,c){var m=n0();return G4(m,l,c)},useTransition:function(){var l=M4(!1);return l=P6.bind(null,vi,l.queue,!0,!1),n0().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,c,m){var E=vi,U=n0();if(ki){if(m===void 0)throw Error(i(407));m=m()}else{if(m=c(),us===null)throw Error(i(349));(li&127)!==0||C4(E,c,m)}U.memoizedState=m;var Z={value:m,getSnapshot:c};return U.queue=Z,D4(M6.bind(null,E,Z,l),[l]),E.flags|=2048,Xu(9,{destroy:void 0},C6.bind(null,E,Z,m,c),null),m},useId:function(){var l=n0(),c=us.identifierPrefix;if(ki){var m=w0,E=f0;m=(E&~(1<<32-Fe(E)-1)).toString(32)+m,c="_"+c+"R_"+m,m=Q1++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=T4++,c="_"+c+"r_"+m.toString(32)+"_";return l.memoizedState=c},useHostTransitionStatus:l2,useFormState:I4,useActionState:I4,useOptimistic:function(l){var c=n0();c.memoizedState=c.baseState=l;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=u2.bind(null,vi,!0,m),m.dispatch=c,[l,c]},useMemoCache:ph,useCacheRefresh:function(){return n0().memoizedState=vu.bind(null,vi)},useEffectEvent:function(l){var c=n0(),m={impl:l};return c.memoizedState=m,function(){if((rs&2)!==0)throw Error(i(440));return m.impl.apply(void 0,arguments)}}},q4={readContext:yo,use:n2,useCallback:D6,useContext:yo,useEffect:$h,useImperativeHandle:z4,useInsertionEffect:P4,useLayoutEffect:F4,useMemo:V4,useReducer:r2,useRef:R6,useState:function(){return r2(ea)},useDebugValue:H4,useDeferredValue:function(l,c){var m=no();return B6(m,gs.memoizedState,l,c)},useTransition:function(){var l=r2(ea)[0],c=no().memoizedState;return[typeof l=="boolean"?l:e1(l),c]},useSyncExternalStore:x4,useId:B0,useHostTransitionStatus:l2,useFormState:O4,useActionState:O4,useOptimistic:function(l,c){var m=no();return N6(m,gs,l,c)},useMemoCache:ph,useCacheRefresh:Yn};q4.useEffectEvent=B4;var U6={readContext:yo,use:n2,useCallback:D6,useContext:yo,useEffect:$h,useImperativeHandle:z4,useInsertionEffect:P4,useLayoutEffect:F4,useMemo:V4,useReducer:gh,useRef:R6,useState:function(){return gh(ea)},useDebugValue:H4,useDeferredValue:function(l,c){var m=no();return gs===null?G4(m,l,c):B6(m,gs.memoizedState,l,c)},useTransition:function(){var l=gh(ea)[0],c=no().memoizedState;return[typeof l=="boolean"?l:e1(l),c]},useSyncExternalStore:x4,useId:B0,useHostTransitionStatus:l2,useFormState:i2,useActionState:i2,useOptimistic:function(l,c){var m=no();return gs!==null?N6(m,gs,l,c):(m.baseState=l,[l,m.queue.dispatch])},useMemoCache:ph,useCacheRefresh:Yn};U6.useEffectEvent=B4;function c2(l,c,m,E){c=l.memoizedState,m=m(E,c),m=m==null?c:w({},c,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var h2={enqueueSetState:function(l,c,m){l=l._reactInternals;var E=qo(),U=Os(E);U.payload=c,m!=null&&(U.callback=m),c=zs(l,U,E),c!==null&&(Wo(c,l,E),Ti(c,l,E))},enqueueReplaceState:function(l,c,m){l=l._reactInternals;var E=qo(),U=Os(E);U.tag=1,U.payload=c,m!=null&&(U.callback=m),c=zs(l,U,E),c!==null&&(Wo(c,l,E),Ti(c,l,E))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var m=qo(),E=Os(m);E.tag=2,c!=null&&(E.callback=c),c=zs(l,E,m),c!==null&&(Wo(c,l,m),Ti(c,l,m))}};function W4(l,c,m,E,U,Z,Ve){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(E,Z,Ve):c.prototype&&c.prototype.isPureReactComponent?!Ur(m,E)||!Ur(U,Z):!0}function z6(l,c,m,E){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,E),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,E),c.state!==l&&h2.enqueueReplaceState(c,c.state,null)}function Ku(l,c){var m=c;if("ref"in c){m={};for(var E in c)E!=="ref"&&(m[E]=c[E])}if(l=l.defaultProps){m===c&&(m=w({},m));for(var U in l)m[U]===void 0&&(m[U]=l[U])}return m}function H6(l){ii(l)}function X7(l){console.error(l)}function V6(l){ii(l)}function yh(l,c){try{var m=l.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(E){setTimeout(function(){throw E})}}function j4(l,c,m){try{var E=l.onCaughtError;E(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(U){setTimeout(function(){throw U})}}function f2(l,c,m){return m=Os(m),m.tag=3,m.payload={element:null},m.callback=function(){yh(l,c)},m}function G6(l){return l=Os(l),l.tag=3,l}function X4(l,c,m,E){var U=m.type.getDerivedStateFromError;if(typeof U=="function"){var Z=E.value;l.payload=function(){return U(Z)},l.callback=function(){j4(c,m,E)}}var Ve=m.stateNode;Ve!==null&&typeof Ve.componentDidCatch=="function"&&(l.callback=function(){j4(c,m,E),typeof U!="function"&&(Tu===null?Tu=new Set([this]):Tu.add(this));var At=E.stack;this.componentDidCatch(E.value,{componentStack:At!==null?At:""})})}function Y7(l,c,m,E,U){if(m.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(c=m.alternate,c!==null&&Kl(c,m,U,!0),m=x0.current,m!==null){switch(m.tag){case 31:case 13:return D0===null?Lh():m.alternate===null&&ro===0&&(ro=3),m.flags&=-257,m.flags|=65536,m.lanes=U,E===Ie?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([E]):c.add(E),T2(l,E,U)),!1;case 22:return m.flags|=65536,E===Ie?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([E])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([E]):m.add(E)),T2(l,E,U)),!1}throw Error(i(435,m.tag))}return T2(l,E,U),Lh(),!1}if(ki)return c=x0.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=U,E!==Ml&&(l=Error(i(422),{cause:E}),hu(_0(l,m)))):(E!==Ml&&(c=Error(i(423),{cause:E}),hu(_0(c,m))),l=l.current.alternate,l.flags|=65536,U&=-U,l.lanes|=U,E=_0(E,m),U=f2(l.stateNode,E,U),ji(l,U),ro!==4&&(ro=2)),!1;var Z=Error(i(520),{cause:E});if(Z=_0(Z,m),y2===null?y2=[Z]:y2.push(Z),ro!==4&&(ro=2),c===null)return!0;E=_0(E,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,l=U&-U,m.lanes|=l,l=f2(m.stateNode,E,l),ji(m,l),!1;case 1:if(c=m.type,Z=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Tu===null||!Tu.has(Z))))return m.flags|=65536,U&=-U,m.lanes|=U,U=G6(U),X4(U,l,m,E),ji(m,U),!1}m=m.return}while(m!==null);return!1}var q6=Error(i(461)),_o=!1;function Vo(l,c,m,E){c.child=l===null?zi(c,null,m,E):di(c,l.child,m,E)}function ka(l,c,m,E,U){m=m.render;var Z=c.ref;if("ref"in E){var Ve={};for(var At in E)At!=="ref"&&(Ve[At]=E[At])}else Ve=E;return E0(c),E=t2(l,c,m,Ve,Z,U),At=Ca(),l!==null&&!_o?(dh(l,c,U),Na(l,c,U)):(ki&&At&&qc(c),c.flags|=1,Vo(l,c,E,U),c.child)}function Mn(l,c,m,E,U){if(l===null){var Z=m.type;return typeof Z=="function"&&!Hc(Z)&&Z.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=Z,W6(l,c,Z,E,U)):(l=ba(m.type,null,E,c,c.mode,U),l.ref=c.ref,l.return=c,c.child=l)}if(Z=l.child,!vs(l,U)){var Ve=Z.memoizedProps;if(m=m.compare,m=m!==null?m:Ur,m(Ve,E)&&l.ref===c.ref)return Na(l,c,U)}return c.flags|=1,l=al(Z,E),l.ref=c.ref,l.return=c,c.child=l}function W6(l,c,m,E,U){if(l!==null){var Z=l.memoizedProps;if(Ur(Z,E)&&l.ref===c.ref)if(_o=!1,c.pendingProps=E=Z,vs(l,U))(l.flags&131072)!==0&&(_o=!0);else return c.lanes=l.lanes,Na(l,c,U)}return wh(l,c,m,E,U)}function j6(l,c,m,E){var U=E.children,Z=l!==null?l.memoizedState:null;if(l===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),E.mode==="hidden"){if((c.flags&128)!==0){if(Z=Z!==null?Z.baseLanes|m:m,l!==null){for(E=c.child=l.child,U=0;E!==null;)U=U|E.lanes|E.childLanes,E=E.sibling;E=U&~Z}else E=0,c.child=null;return K7(l,c,Z,m,E)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},l!==null&&S(c,Z!==null?Z.cachePool:null),Z!==null?Kc(c,Z):Z1(),w4(c);else return E=c.lanes=536870912,K7(l,c,Z!==null?Z.baseLanes|m:m,m,E)}else Z!==null?(S(c,Z.cachePool),Kc(c,Z),pu(),c.memoizedState=null):(l!==null&&S(c,null),Z1(),pu());return Vo(l,c,U,m),c.child}function d2(l,c){return l!==null&&l.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function K7(l,c,m,E,U){var Z=L0();return Z=Z===null?null:{parent:As._currentValue,pool:Z},c.memoizedState={baseLanes:m,cachePool:Z},l!==null&&S(c,null),Z1(),w4(c),l!==null&&Kl(l,c,E,!0),c.childLanes=U,null}function p2(l,c){return c=Ju({mode:c.mode,children:c.children},l.mode),c.ref=l.ref,l.child=c,c.return=l,c}function X6(l,c,m){return di(c,l.child,null,m),l=p2(c,c.pendingProps),l.flags|=2,d0(c),c.memoizedState=null,l}function _h(l,c,m){var E=c.pendingProps,U=(c.flags&128)!==0;if(c.flags&=-129,l===null){if(ki){if(E.mode==="hidden")return l=p2(c,E),c.lanes=536870912,d2(null,l);if(_4(c),(l=_s)?(l=za(l,ao),l=l!==null&&l.data==="&"?l:null,l!==null&&(c.memoizedState={dehydrated:l,treeContext:Cl!==null?{id:f0,overflow:w0}:null,retryLane:536870912,hydrationErrors:null},m=ya(l),m.return=c,c.child=m,Cs=c,_s=null)):l=null,l===null)throw kl(c);return c.lanes=536870912,null}return p2(c,E)}var Z=l.memoizedState;if(Z!==null){var Ve=Z.dehydrated;if(_4(c),U)if(c.flags&256)c.flags&=-257,c=X6(l,c,m);else if(c.memoizedState!==null)c.child=l.child,c.flags|=128,c=null;else throw Error(i(558));else if(_o||Kl(l,c,m,!1),U=(m&l.childLanes)!==0,_o||U){if(E=us,E!==null&&(Ve=re(E,m),Ve!==0&&Ve!==Z.retryLane))throw Z.retryLane=Ve,y0(l,Ve),Wo(E,l,Ve),q6;Lh(),c=X6(l,c,m)}else l=Z.treeContext,_s=o0(Ve.nextSibling),Cs=c,ki=!0,Xl=null,ao=!1,l!==null&&Wc(c,l),c=p2(c,E),c.flags|=4096;return c}return l=al(l.child,{mode:E.mode,children:E.children}),l.ref=c.ref,c.child=l,l.return=c,l}function m2(l,c){var m=c.ref;if(m===null)l!==null&&l.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(l===null||l.ref!==m)&&(c.flags|=4194816)}}function wh(l,c,m,E,U){return E0(c),m=t2(l,c,m,E,void 0,U),E=Ca(),l!==null&&!_o?(dh(l,c,U),Na(l,c,U)):(ki&&E&&qc(c),c.flags|=1,Vo(l,c,m,U),c.child)}function Aa(l,c,m,E,U,Z){return E0(c),c.updateQueue=null,m=S4(c,E,m,U),x6(l),E=Ca(),l!==null&&!_o?(dh(l,c,Z),Na(l,c,Z)):(ki&&E&&qc(c),c.flags|=1,Vo(l,c,m,Z),c.child)}function Y6(l,c,m,E,U){if(E0(c),c.stateNode===null){var Z=R0,Ve=m.contextType;typeof Ve=="object"&&Ve!==null&&(Z=yo(Ve)),Z=new m(E,Z),c.memoizedState=Z.state!==null&&Z.state!==void 0?Z.state:null,Z.updater=h2,c.stateNode=Z,Z._reactInternals=c,Z=c.stateNode,Z.props=E,Z.state=c.memoizedState,Z.refs={},ms(c),Ve=m.contextType,Z.context=typeof Ve=="object"&&Ve!==null?yo(Ve):R0,Z.state=c.memoizedState,Ve=m.getDerivedStateFromProps,typeof Ve=="function"&&(c2(c,m,Ve,E),Z.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof Z.getSnapshotBeforeUpdate=="function"||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(Ve=Z.state,typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount(),Ve!==Z.state&&h2.enqueueReplaceState(Z,Z.state,null),Hi(c,E,Z,U),as(),Z.state=c.memoizedState),typeof Z.componentDidMount=="function"&&(c.flags|=4194308),E=!0}else if(l===null){Z=c.stateNode;var At=c.memoizedProps,Qt=Ku(m,At);Z.props=Qt;var An=Z.context,Kn=m.contextType;Ve=R0,typeof Kn=="object"&&Kn!==null&&(Ve=yo(Kn));var rr=m.getDerivedStateFromProps;Kn=typeof rr=="function"||typeof Z.getSnapshotBeforeUpdate=="function",At=c.pendingProps!==At,Kn||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(At||An!==Ve)&&z6(c,Z,E,Ve),Oi=!1;var Bn=c.memoizedState;Z.state=Bn,Hi(c,E,Z,U),as(),An=c.memoizedState,At||Bn!==An||Oi?(typeof rr=="function"&&(c2(c,m,rr,E),An=c.memoizedState),(Qt=Oi||W4(c,m,Qt,E,Bn,An,Ve))?(Kn||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(c.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=E,c.memoizedState=An),Z.props=E,Z.state=An,Z.context=Ve,E=Qt):(typeof Z.componentDidMount=="function"&&(c.flags|=4194308),E=!1)}else{Z=c.stateNode,Us(l,c),Ve=c.memoizedProps,Kn=Ku(m,Ve),Z.props=Kn,rr=c.pendingProps,Bn=Z.context,An=m.contextType,Qt=R0,typeof An=="object"&&An!==null&&(Qt=yo(An)),At=m.getDerivedStateFromProps,(An=typeof At=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(Ve!==rr||Bn!==Qt)&&z6(c,Z,E,Qt),Oi=!1,Bn=c.memoizedState,Z.state=Bn,Hi(c,E,Z,U),as();var Gn=c.memoizedState;Ve!==rr||Bn!==Gn||Oi||l!==null&&l.dependencies!==null&&Vu(l.dependencies)?(typeof At=="function"&&(c2(c,m,At,E),Gn=c.memoizedState),(Kn=Oi||W4(c,m,Kn,E,Bn,Gn,Qt)||l!==null&&l.dependencies!==null&&Vu(l.dependencies))?(An||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(E,Gn,Qt),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(E,Gn,Qt)),typeof Z.componentDidUpdate=="function"&&(c.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof Z.componentDidUpdate!="function"||Ve===l.memoizedProps&&Bn===l.memoizedState||(c.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||Ve===l.memoizedProps&&Bn===l.memoizedState||(c.flags|=1024),c.memoizedProps=E,c.memoizedState=Gn),Z.props=E,Z.state=Gn,Z.context=Qt,E=Kn):(typeof Z.componentDidUpdate!="function"||Ve===l.memoizedProps&&Bn===l.memoizedState||(c.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||Ve===l.memoizedProps&&Bn===l.memoizedState||(c.flags|=1024),E=!1)}return Z=E,m2(l,c),E=(c.flags&128)!==0,Z||E?(Z=c.stateNode,m=E&&typeof m.getDerivedStateFromError!="function"?null:Z.render(),c.flags|=1,l!==null&&E?(c.child=di(c,l.child,null,U),c.child=di(c,null,m,U)):Vo(l,c,m,U),c.memoizedState=Z.state,l=c.child):l=Na(l,c,U),l}function g2(l,c,m,E){return Al(),c.flags|=256,Vo(l,c,m,E),c.child}var $u={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function C0(l){return{baseLanes:l,cachePool:_()}}function ta(l,c,m){return l=l!==null?l.childLanes&~m:0,c&&(l|=r0),l}function Nl(l,c,m){var E=c.pendingProps,U=!1,Z=(c.flags&128)!==0,Ve;if((Ve=Z)||(Ve=l!==null&&l.memoizedState===null?!1:(uo.current&2)!==0),Ve&&(U=!0,c.flags&=-129),Ve=(c.flags&32)!==0,c.flags&=-33,l===null){if(ki){if(U?Sa(c):pu(),(l=_s)?(l=za(l,ao),l=l!==null&&l.data!=="&"?l:null,l!==null&&(c.memoizedState={dehydrated:l,treeContext:Cl!==null?{id:f0,overflow:w0}:null,retryLane:536870912,hydrationErrors:null},m=ya(l),m.return=c,c.child=m,Cs=c,_s=null)):l=null,l===null)throw kl(c);return A2(l)?c.lanes=32:c.lanes=536870912,null}var At=E.children;return E=E.fallback,U?(pu(),U=c.mode,At=Ju({mode:"hidden",children:At},U),E=Wl(E,U,m,null),At.return=c,E.return=c,At.sibling=E,c.child=At,E=c.child,E.memoizedState=C0(m),E.childLanes=ta(l,Ve,m),c.memoizedState=$u,d2(null,E)):(Sa(c),Th(c,At))}var Qt=l.memoizedState;if(Qt!==null&&(At=Qt.dehydrated,At!==null)){if(Z)c.flags&256?(Sa(c),c.flags&=-257,c=Co(l,c,m)):c.memoizedState!==null?(pu(),c.child=l.child,c.flags|=128,c=null):(pu(),At=E.fallback,U=c.mode,E=Ju({mode:"visible",children:E.children},U),At=Wl(At,U,m,null),At.flags|=2,E.return=c,At.return=c,E.sibling=At,c.child=E,di(c,l.child,null,m),E=c.child,E.memoizedState=C0(m),E.childLanes=ta(l,Ve,m),c.memoizedState=$u,c=d2(null,E));else if(Sa(c),A2(At)){if(Ve=At.nextSibling&&At.nextSibling.dataset,Ve)var An=Ve.dgst;Ve=An,E=Error(i(419)),E.stack="",E.digest=Ve,hu({value:E,source:null,stack:null}),c=Co(l,c,m)}else if(_o||Kl(l,c,m,!1),Ve=(m&l.childLanes)!==0,_o||Ve){if(Ve=us,Ve!==null&&(E=re(Ve,m),E!==0&&E!==Qt.retryLane))throw Qt.retryLane=E,y0(l,E),Wo(Ve,l,E),q6;m1(At)||Lh(),c=Co(l,c,m)}else m1(At)?(c.flags|=192,c.child=l.child,c=null):(l=Qt.treeContext,_s=o0(At.nextSibling),Cs=c,ki=!0,Xl=null,ao=!1,l!==null&&Wc(c,l),c=Th(c,E.children),c.flags|=4096);return c}return U?(pu(),At=E.fallback,U=c.mode,Qt=l.child,An=Qt.sibling,E=al(Qt,{mode:"hidden",children:E.children}),E.subtreeFlags=Qt.subtreeFlags&65011712,An!==null?At=al(An,At):(At=Wl(At,U,m,null),At.flags|=2),At.return=c,E.return=c,E.sibling=At,c.child=E,d2(null,E),E=c.child,At=l.child.memoizedState,At===null?At=C0(m):(U=At.cachePool,U!==null?(Qt=As._currentValue,U=U.parent!==Qt?{parent:Qt,pool:Qt}:U):U=_(),At={baseLanes:At.baseLanes|m,cachePool:U}),E.memoizedState=At,E.childLanes=ta(l,Ve,m),c.memoizedState=$u,d2(l.child,E)):(Sa(c),m=l.child,l=m.sibling,m=al(m,{mode:"visible",children:E.children}),m.return=c,m.sibling=null,l!==null&&(Ve=c.deletions,Ve===null?(c.deletions=[l],c.flags|=16):Ve.push(l)),c.child=m,c.memoizedState=null,m)}function Th(l,c){return c=Ju({mode:"visible",children:c},l.mode),c.return=l,l.child=c}function Ju(l,c){return l=zo(22,l,null,c),l.lanes=0,l}function Co(l,c,m){return di(c,l.child,null,m),l=Th(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function Bo(l,c,m){l.lanes|=c;var E=l.alternate;E!==null&&(E.lanes|=c),fu(l.return,c,m)}function K6(l,c,m,E,U,Z){var Ve=l.memoizedState;Ve===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:E,tail:m,tailMode:U,treeForkCount:Z}:(Ve.isBackwards=c,Ve.rendering=null,Ve.renderingStartTime=0,Ve.last=E,Ve.tail=m,Ve.tailMode=U,Ve.treeForkCount=Z)}function Go(l,c,m){var E=c.pendingProps,U=E.revealOrder,Z=E.tail;E=E.children;var Ve=uo.current,At=(Ve&2)!==0;if(At?(Ve=Ve&1|2,c.flags|=128):Ve&=1,ze(uo,Ve),Vo(l,c,E,m),E=ki?_a:0,!At&&l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Bo(l,m,c);else if(l.tag===19)Bo(l,m,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(U){case"forwards":for(m=c.child,U=null;m!==null;)l=m.alternate,l!==null&&fh(l)===null&&(U=m),m=m.sibling;m=U,m===null?(U=c.child,c.child=null):(U=m.sibling,m.sibling=null),K6(c,!1,U,m,Z,E);break;case"backwards":case"unstable_legacy-backwards":for(m=null,U=c.child,c.child=null;U!==null;){if(l=U.alternate,l!==null&&fh(l)===null){c.child=U;break}l=U.sibling,U.sibling=m,m=U,U=l}K6(c,!0,m,null,Z,E);break;case"together":K6(c,!1,null,null,void 0,E);break;default:c.memoizedState=null}return c.child}function Na(l,c,m){if(l!==null&&(c.dependencies=l.dependencies),sa|=c.lanes,(m&c.childLanes)===0)if(l!==null){if(Kl(l,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(l!==null&&c.child!==l.child)throw Error(i(153));if(c.child!==null){for(l=c.child,m=al(l,l.pendingProps),c.child=m,m.return=c;l.sibling!==null;)l=l.sibling,m=m.sibling=al(l,l.pendingProps),m.return=c;m.sibling=null}return c.child}function vs(l,c){return(l.lanes&c)!==0?!0:(l=l.dependencies,!!(l!==null&&Vu(l)))}function Eh(l,c,m){switch(c.tag){case 3:nt(c,c.stateNode.containerInfo),Yl(c,As,l.memoizedState.cache),Al();break;case 27:case 5:Ut(c);break;case 4:nt(c,c.stateNode.containerInfo);break;case 10:Yl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,_4(c),null;break;case 13:var E=c.memoizedState;if(E!==null)return E.dehydrated!==null?(Sa(c),c.flags|=128,null):(m&c.child.childLanes)!==0?Nl(l,c,m):(Sa(c),l=Na(l,c,m),l!==null?l.sibling:null);Sa(c);break;case 19:var U=(l.flags&128)!==0;if(E=(m&c.childLanes)!==0,E||(Kl(l,c,m,!1),E=(m&c.childLanes)!==0),U){if(E)return Go(l,c,m);c.flags|=128}if(U=c.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),ze(uo,uo.current),E)break;return null;case 22:return c.lanes=0,j6(l,c,m,c.pendingProps);case 24:Yl(c,As,l.memoizedState.cache)}return Na(l,c,m)}function J6(l,c,m){if(l!==null)if(l.memoizedProps!==c.pendingProps)_o=!0;else{if(!vs(l,m)&&(c.flags&128)===0)return _o=!1,Eh(l,c,m);_o=(l.flags&131072)!==0}else _o=!1,ki&&(c.flags&1048576)!==0&&Gc(c,_a,c.index);switch(c.lanes=0,c.tag){case 16:e:{var E=c.pendingProps;if(l=Pt(c.elementType),c.type=l,typeof l=="function")Hc(l)?(E=Ku(l,E),c.tag=1,c=Y6(null,c,l,E,m)):(c.tag=0,c=wh(null,c,l,E,m));else{if(l!=null){var U=l.$$typeof;if(U===Ce){c.tag=11,c=ka(null,c,l,E,m);break e}else if(U===Be){c.tag=14,c=Mn(null,c,l,E,m);break e}}throw c=B(l)||l,Error(i(306,c,""))}}return c;case 0:return wh(l,c,c.type,c.pendingProps,m);case 1:return E=c.type,U=Ku(E,c.pendingProps),Y6(l,c,E,U,m);case 3:e:{if(nt(c,c.stateNode.containerInfo),l===null)throw Error(i(387));E=c.pendingProps;var Z=c.memoizedState;U=Z.element,Us(l,c),Hi(c,E,null,m);var Ve=c.memoizedState;if(E=Ve.cache,Yl(c,As,E),E!==Z.cache&&T0(c,[As],m,!0),as(),E=Ve.element,Z.isDehydrated)if(Z={element:E,isDehydrated:!1,cache:Ve.cache},c.updateQueue.baseState=Z,c.memoizedState=Z,c.flags&256){c=g2(l,c,E,m);break e}else if(E!==U){U=_0(Error(i(424)),c),hu(U),c=g2(l,c,E,m);break e}else{switch(l=c.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(_s=o0(l.firstChild),Cs=c,ki=!0,Xl=null,ao=!0,m=zi(c,null,E,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Al(),E===U){c=Na(l,c,m);break e}Vo(l,c,E,m)}c=c.child}return c;case 26:return m2(l,c),l===null?(m=b1(c.type,null,c.pendingProps,null))?c.memoizedState=m:ki||(m=c.type,l=c.pendingProps,E=Il(et.current).createElement(m),E[W]=c,E[ae]=l,Po(E,m,l),me(E),c.stateNode=E):c.memoizedState=b1(c.type,l.memoizedProps,c.pendingProps,l.memoizedState),null;case 27:return Ut(c),l===null&&ki&&(E=c.stateNode=Ha(c.type,c.pendingProps,et.current),Cs=c,ao=!0,U=_s,cc(c.type)?(b5=U,_s=o0(E.firstChild)):_s=U),Vo(l,c,c.pendingProps.children,m),m2(l,c),l===null&&(c.flags|=4194304),c.child;case 5:return l===null&&ki&&((U=E=_s)&&(E=gl(E,c.type,c.pendingProps,ao),E!==null?(c.stateNode=E,Cs=c,_s=o0(E.firstChild),ao=!1,U=!0):U=!1),U||kl(c)),Ut(c),U=c.type,Z=c.pendingProps,Ve=l!==null?l.memoizedProps:null,E=Z.children,g5(U,Z)?E=null:Ve!==null&&g5(U,Ve)&&(c.flags|=32),c.memoizedState!==null&&(U=t2(l,c,V7,null,null,m),D2._currentValue=U),m2(l,c),Vo(l,c,E,m),c.child;case 6:return l===null&&ki&&((l=m=_s)&&(m=hs(m,c.pendingProps,ao),m!==null?(c.stateNode=m,Cs=c,_s=null,l=!0):l=!1),l||kl(c)),null;case 13:return Nl(l,c,m);case 4:return nt(c,c.stateNode.containerInfo),E=c.pendingProps,l===null?c.child=di(c,null,E,m):Vo(l,c,E,m),c.child;case 11:return ka(l,c,c.type,c.pendingProps,m);case 7:return Vo(l,c,c.pendingProps,m),c.child;case 8:return Vo(l,c,c.pendingProps.children,m),c.child;case 12:return Vo(l,c,c.pendingProps.children,m),c.child;case 10:return E=c.pendingProps,Yl(c,c.type,E.value),Vo(l,c,E.children,m),c.child;case 9:return U=c.type._context,E=c.pendingProps.children,E0(c),U=yo(U),E=E(U),c.flags|=1,Vo(l,c,E,m),c.child;case 14:return Mn(l,c,c.type,c.pendingProps,m);case 15:return W6(l,c,c.type,c.pendingProps,m);case 19:return Go(l,c,m);case 31:return _h(l,c,m);case 22:return j6(l,c,m,c.pendingProps);case 24:return E0(c),E=yo(As),l===null?(U=L0(),U===null&&(U=us,Z=Yc(),U.pooledCache=Z,Z.refCount++,Z!==null&&(U.pooledCacheLanes|=m),U=Z),c.memoizedState={parent:E,cache:U},ms(c),Yl(c,As,U)):((l.lanes&m)!==0&&(Us(l,c),Hi(c,null,null,m),as()),U=l.memoizedState,Z=c.memoizedState,U.parent!==E?(U={parent:E,cache:E},c.memoizedState=U,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=U),Yl(c,As,E)):(E=Z.cache,Yl(c,As,E),E!==U.cache&&T0(c,[As],m,!0))),Vo(l,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function Ia(l){l.flags|=4}function n1(l,c,m,E,U){if((c=(l.mode&32)!==0)&&(c=!1),c){if(l.flags|=16777216,(U&335544128)===U)if(l.stateNode.complete)l.flags|=8192;else if(rc())l.flags|=8192;else throw Jt=Ie,G}else l.flags&=-16777217}function Z6(l,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!Ss(c))if(rc())l.flags|=8192;else throw Jt=Ie,G}function co(l,c){c!==null&&(l.flags|=4),l.flags&16384&&(c=l.tag!==22?$n():536870912,l.lanes|=c,o1|=c)}function Oa(l,c){if(!ki)switch(l.tailMode){case"hidden":c=l.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var E=null;m!==null;)m.alternate!==null&&(E=m),m=m.sibling;E===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:E.sibling=null}}function Yi(l){var c=l.alternate!==null&&l.alternate.child===l.child,m=0,E=0;if(c)for(var U=l.child;U!==null;)m|=U.lanes|U.childLanes,E|=U.subtreeFlags&65011712,E|=U.flags&65011712,U.return=l,U=U.sibling;else for(U=l.child;U!==null;)m|=U.lanes|U.childLanes,E|=U.subtreeFlags,E|=U.flags,U.return=l,U=U.sibling;return l.subtreeFlags|=E,l.childLanes=m,c}function Q6(l,c,m){var E=c.pendingProps;switch(cl(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yi(c),null;case 1:return Yi(c),null;case 3:return m=c.stateNode,E=null,l!==null&&(E=l.memoizedState.cache),c.memoizedState.cache!==E&&(c.flags|=2048),fl(As),yt(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(l===null||l.child===null)&&(cu(c)?Ia(c):l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,X1())),Yi(c),null;case 26:var U=c.type,Z=c.memoizedState;return l===null?(Ia(c),Z!==null?(Yi(c),Z6(c,Z)):(Yi(c),n1(c,U,null,E,m))):Z?Z!==l.memoizedState?(Ia(c),Yi(c),Z6(c,Z)):(Yi(c),c.flags&=-16777217):(l=l.memoizedProps,l!==E&&Ia(c),Yi(c),n1(c,U,l,E,m)),null;case 27:if(Ht(c),m=et.current,U=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==E&&Ia(c);else{if(!E){if(c.stateNode===null)throw Error(i(166));return Yi(c),null}l=Ft.current,cu(c)?uh(c):(l=Ha(U,E,m),c.stateNode=l,Ia(c))}return Yi(c),null;case 5:if(Ht(c),U=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==E&&Ia(c);else{if(!E){if(c.stateNode===null)throw Error(i(166));return Yi(c),null}if(Z=Ft.current,cu(c))uh(c);else{var Ve=Il(et.current);switch(Z){case 1:Z=Ve.createElementNS("http://www.w3.org/2000/svg",U);break;case 2:Z=Ve.createElementNS("http://www.w3.org/1998/Math/MathML",U);break;default:switch(U){case"svg":Z=Ve.createElementNS("http://www.w3.org/2000/svg",U);break;case"math":Z=Ve.createElementNS("http://www.w3.org/1998/Math/MathML",U);break;case"script":Z=Ve.createElement("div"),Z.innerHTML="<script><\/script>",Z=Z.removeChild(Z.firstChild);break;case"select":Z=typeof E.is=="string"?Ve.createElement("select",{is:E.is}):Ve.createElement("select"),E.multiple?Z.multiple=!0:E.size&&(Z.size=E.size);break;default:Z=typeof E.is=="string"?Ve.createElement(U,{is:E.is}):Ve.createElement(U)}}Z[W]=c,Z[ae]=E;e:for(Ve=c.child;Ve!==null;){if(Ve.tag===5||Ve.tag===6)Z.appendChild(Ve.stateNode);else if(Ve.tag!==4&&Ve.tag!==27&&Ve.child!==null){Ve.child.return=Ve,Ve=Ve.child;continue}if(Ve===c)break e;for(;Ve.sibling===null;){if(Ve.return===null||Ve.return===c)break e;Ve=Ve.return}Ve.sibling.return=Ve.return,Ve=Ve.sibling}c.stateNode=Z;e:switch(Po(Z,U,E),U){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}E&&Ia(c)}}return Yi(c),n1(c,c.type,l===null?null:l.memoizedProps,c.pendingProps,m),null;case 6:if(l&&c.stateNode!=null)l.memoizedProps!==E&&Ia(c);else{if(typeof E!="string"&&c.stateNode===null)throw Error(i(166));if(l=et.current,cu(c)){if(l=c.stateNode,m=c.memoizedProps,E=null,U=Cs,U!==null)switch(U.tag){case 27:case 5:E=U.memoizedProps}l[W]=c,l=!!(l.nodeValue===m||E!==null&&E.suppressHydrationWarning===!0||zh(l.nodeValue,m)),l||kl(c,!0)}else l=Il(l).createTextNode(E),l[W]=c,c.stateNode=l}return Yi(c),null;case 31:if(m=c.memoizedState,l===null||l.memoizedState!==null){if(E=cu(c),m!==null){if(l===null){if(!E)throw Error(i(318));if(l=c.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(557));l[W]=c}else Al(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Yi(c),l=!1}else m=X1(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=m),l=!0;if(!l)return c.flags&256?(d0(c),c):(d0(c),null);if((c.flags&128)!==0)throw Error(i(558))}return Yi(c),null;case 13:if(E=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(U=cu(c),E!==null&&E.dehydrated!==null){if(l===null){if(!U)throw Error(i(318));if(U=c.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(i(317));U[W]=c}else Al(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Yi(c),U=!1}else U=X1(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=U),U=!0;if(!U)return c.flags&256?(d0(c),c):(d0(c),null)}return d0(c),(c.flags&128)!==0?(c.lanes=m,c):(m=E!==null,l=l!==null&&l.memoizedState!==null,m&&(E=c.child,U=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(U=E.alternate.memoizedState.cachePool.pool),Z=null,E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(Z=E.memoizedState.cachePool.pool),Z!==U&&(E.flags|=2048)),m!==l&&m&&(c.child.flags|=8192),co(c,c.updateQueue),Yi(c),null);case 4:return yt(),l===null&&$3(c.stateNode.containerInfo),Yi(c),null;case 10:return fl(c.type),Yi(c),null;case 19:if(gt(uo),E=c.memoizedState,E===null)return Yi(c),null;if(U=(c.flags&128)!==0,Z=E.rendering,Z===null)if(U)Oa(E,!1);else{if(ro!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(Z=fh(l),Z!==null){for(c.flags|=128,Oa(E,!1),l=Z.updateQueue,c.updateQueue=l,co(c,l),c.subtreeFlags=0,l=m,m=c.child;m!==null;)y4(m,l),m=m.sibling;return ze(uo,uo.current&1|2),ki&&t0(c,E.treeForkCount),c.child}l=l.sibling}E.tail!==null&&rt()>kh&&(c.flags|=128,U=!0,Oa(E,!1),c.lanes=4194304)}else{if(!U)if(l=fh(Z),l!==null){if(c.flags|=128,U=!0,l=l.updateQueue,c.updateQueue=l,co(c,l),Oa(E,!0),E.tail===null&&E.tailMode==="hidden"&&!Z.alternate&&!ki)return Yi(c),null}else 2*rt()-E.renderingStartTime>kh&&m!==536870912&&(c.flags|=128,U=!0,Oa(E,!1),c.lanes=4194304);E.isBackwards?(Z.sibling=c.child,c.child=Z):(l=E.last,l!==null?l.sibling=Z:c.child=Z,E.last=Z)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=rt(),l.sibling=null,m=uo.current,ze(uo,U?m&1|2:m&1),ki&&t0(c,E.treeForkCount),l):(Yi(c),null);case 22:case 23:return d0(c),Ql(),E=c.memoizedState!==null,l!==null?l.memoizedState!==null!==E&&(c.flags|=8192):E&&(c.flags|=8192),E?(m&536870912)!==0&&(c.flags&128)===0&&(Yi(c),c.subtreeFlags&6&&(c.flags|=8192)):Yi(c),m=c.updateQueue,m!==null&&co(c,m.retryQueue),m=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),E=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(E=c.memoizedState.cachePool.pool),E!==m&&(c.flags|=2048),l!==null&&gt(ls),null;case 24:return m=null,l!==null&&(m=l.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),fl(As),Yi(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function e5(l,c){switch(cl(c),c.tag){case 1:return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return fl(As),yt(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 26:case 27:case 5:return Ht(c),null;case 31:if(c.memoizedState!==null){if(d0(c),c.alternate===null)throw Error(i(340));Al()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 13:if(d0(c),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Al()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return gt(uo),null;case 4:return yt(),null;case 10:return fl(c.type),null;case 22:case 23:return d0(c),Ql(),l!==null&&gt(ls),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 24:return fl(As),null;case 25:return null;default:return null}}function t5(l,c){switch(cl(c),c.tag){case 3:fl(As),yt();break;case 26:case 27:case 5:Ht(c);break;case 4:yt();break;case 31:c.memoizedState!==null&&d0(c);break;case 13:d0(c);break;case 19:gt(uo);break;case 10:fl(c.type);break;case 22:case 23:d0(c),Ql(),l!==null&&gt(ls);break;case 24:fl(As)}}function pl(l,c){try{var m=c.updateQueue,E=m!==null?m.lastEffect:null;if(E!==null){var U=E.next;m=U;do{if((m.tag&l)===l){E=void 0;var Z=m.create,Ve=m.inst;E=Z(),Ve.destroy=E}m=m.next}while(m!==U)}}catch(At){Ki(c,c.return,At)}}function ns(l,c,m){try{var E=c.updateQueue,U=E!==null?E.lastEffect:null;if(U!==null){var Z=U.next;E=Z;do{if((E.tag&l)===l){var Ve=E.inst,At=Ve.destroy;if(At!==void 0){Ve.destroy=void 0,U=c;var Qt=m,An=At;try{An()}catch(Kn){Ki(U,Qt,Kn)}}}E=E.next}while(E!==Z)}}catch(Kn){Ki(c,c.return,Kn)}}function Y4(l){var c=l.updateQueue;if(c!==null){var m=l.stateNode;try{Do(c,m)}catch(E){Ki(l,l.return,E)}}}function K4(l,c,m){m.props=Ku(l.type,l.memoizedProps),m.state=l.memoizedState;try{m.componentWillUnmount()}catch(E){Ki(l,c,E)}}function r1(l,c){try{var m=l.ref;if(m!==null){switch(l.tag){case 26:case 27:case 5:var E=l.stateNode;break;case 30:E=l.stateNode;break;default:E=l.stateNode}typeof m=="function"?l.refCleanup=m(E):m.current=E}}catch(U){Ki(l,c,U)}}function Qn(l,c){var m=l.ref,E=l.refCleanup;if(m!==null)if(typeof E=="function")try{E()}catch(U){Ki(l,c,U)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(U){Ki(l,c,U)}else m.current=null}function Tn(l){var c=l.type,m=l.memoizedProps,E=l.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&E.focus();break e;case"img":m.src?E.src=m.src:m.srcSet&&(E.srcset=m.srcSet)}}catch(U){Ki(l,l.return,U)}}function ci(l,c,m){try{var E=l.stateNode;y3(E,l.type,m,c),E[ae]=c}catch(U){Ki(l,l.return,U)}}function pi(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&cc(l.type)||l.tag===4}function J4(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||pi(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&cc(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Ra(l,c,m){var E=l.tag;if(E===5||E===6)l=l.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(l,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(l),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=We));else if(E!==4&&(E===27&&cc(l.type)&&(m=l.stateNode,c=null),l=l.child,l!==null))for(Ra(l,c,m),l=l.sibling;l!==null;)Ra(l,c,m),l=l.sibling}function Sh(l,c,m){var E=l.tag;if(E===5||E===6)l=l.stateNode,c?m.insertBefore(l,c):m.appendChild(l);else if(E!==4&&(E===27&&cc(l.type)&&(m=l.stateNode),l=l.child,l!==null))for(Sh(l,c,m),l=l.sibling;l!==null;)Sh(l,c,m),l=l.sibling}function n5(l){var c=l.stateNode,m=l.memoizedProps;try{for(var E=l.type,U=c.attributes;U.length;)c.removeAttributeNode(U[0]);Po(c,E,m),c[W]=l,c[ae]=m}catch(Z){Ki(l,l.return,Z)}}var bu=!1,Rs=!1,Js=!1,xh=typeof WeakSet=="function"?WeakSet:Set,Mo=null;function Z4(l,c){if(l=l.containerInfo,d1=B2,l=Ui(l),Ri(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var E=m.getSelection&&m.getSelection();if(E&&E.rangeCount!==0){m=E.anchorNode;var U=E.anchorOffset,Z=E.focusNode;E=E.focusOffset;try{m.nodeType,Z.nodeType}catch{m=null;break e}var Ve=0,At=-1,Qt=-1,An=0,Kn=0,rr=l,Bn=null;t:for(;;){for(var Gn;rr!==m||U!==0&&rr.nodeType!==3||(At=Ve+U),rr!==Z||E!==0&&rr.nodeType!==3||(Qt=Ve+E),rr.nodeType===3&&(Ve+=rr.nodeValue.length),(Gn=rr.firstChild)!==null;)Bn=rr,rr=Gn;for(;;){if(rr===l)break t;if(Bn===m&&++An===U&&(At=Ve),Bn===Z&&++Kn===E&&(Qt=Ve),(Gn=rr.nextSibling)!==null)break;rr=Bn,Bn=rr.parentNode}rr=Gn}m=At===-1||Qt===-1?null:{start:At,end:Qt}}else m=null}m=m||{start:0,end:0}}else m=null;for(k2={focusedElem:l,selectionRange:m},B2=!1,Mo=c;Mo!==null;)if(c=Mo,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,Mo=l;else for(;Mo!==null;){switch(c=Mo,Z=c.alternate,l=c.flags,c.tag){case 0:if((l&4)!==0&&(l=c.updateQueue,l=l!==null?l.events:null,l!==null))for(m=0;m<l.length;m++)U=l[m],U.ref.impl=U.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&Z!==null){l=void 0,m=c,U=Z.memoizedProps,Z=Z.memoizedState,E=m.stateNode;try{var Dr=Ku(m.type,U);l=E.getSnapshotBeforeUpdate(Dr,Z),E.__reactInternalSnapshotBeforeUpdate=l}catch(ti){Ki(m,m.return,ti)}}break;case 3:if((l&1024)!==0){if(l=c.stateNode.containerInfo,m=l.nodeType,m===9)T3(l);else if(m===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":T3(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(i(163))}if(l=c.sibling,l!==null){l.return=c.return,Mo=l;break}Mo=c.return}}function v2(l,c,m){var E=m.flags;switch(m.tag){case 0:case 11:case 15:La(l,m),E&4&&pl(5,m);break;case 1:if(La(l,m),E&4)if(l=m.stateNode,c===null)try{l.componentDidMount()}catch(Ve){Ki(m,m.return,Ve)}else{var U=Ku(m.type,c.memoizedProps);c=c.memoizedState;try{l.componentDidUpdate(U,c,l.__reactInternalSnapshotBeforeUpdate)}catch(Ve){Ki(m,m.return,Ve)}}E&64&&Y4(m),E&512&&r1(m,m.return);break;case 3:if(La(l,m),E&64&&(l=m.updateQueue,l!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{Do(l,c)}catch(Ve){Ki(m,m.return,Ve)}}break;case 27:c===null&&E&4&&n5(m);case 26:case 5:La(l,m),c===null&&E&4&&Tn(m),E&512&&r1(m,m.return);break;case 12:La(l,m);break;case 31:La(l,m),E&4&&r5(l,m);break;case 13:La(l,m),E&4&&mi(l,m),E&64&&(l=m.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(m=e8.bind(null,m),E3(l,m))));break;case 22:if(E=m.memoizedState!==null||bu,!E){c=c!==null&&c.memoizedState!==null||Rs,U=bu;var Z=Rs;bu=E,(Rs=c)&&!Z?Da(l,m,(m.subtreeFlags&8772)!==0):La(l,m),bu=U,Rs=Z}break;case 30:break;default:La(l,m)}}function $2(l){var c=l.alternate;c!==null&&(l.alternate=null,$2(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&$t(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Gs=null,P0=!1;function F0(l,c,m){for(m=m.child;m!==null;)Q4(l,c,m),m=m.sibling}function Q4(l,c,m){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(Y,m)}catch{}switch(m.tag){case 26:Rs||Qn(m,c),F0(l,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Rs||Qn(m,c);var E=Gs,U=P0;cc(m.type)&&(Gs=m.stateNode,P0=!1),F0(l,c,m),Ms(m.stateNode),Gs=E,P0=U;break;case 5:Rs||Qn(m,c);case 6:if(E=Gs,U=P0,Gs=null,F0(l,c,m),Gs=E,P0=U,Gs!==null)if(P0)try{(Gs.nodeType===9?Gs.body:Gs.nodeName==="HTML"?Gs.ownerDocument.body:Gs).removeChild(m.stateNode)}catch(Z){Ki(m,c,Z)}else try{Gs.removeChild(m.stateNode)}catch(Z){Ki(m,c,Z)}break;case 18:Gs!==null&&(P0?(l=Gs,Vh(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,m.stateNode),_1(l)):Vh(Gs,m.stateNode));break;case 4:E=Gs,U=P0,Gs=m.stateNode.containerInfo,P0=!0,F0(l,c,m),Gs=E,P0=U;break;case 0:case 11:case 14:case 15:ns(2,m,c),Rs||ns(4,m,c),F0(l,c,m);break;case 1:Rs||(Qn(m,c),E=m.stateNode,typeof E.componentWillUnmount=="function"&&K4(m,c,E)),F0(l,c,m);break;case 21:F0(l,c,m);break;case 22:Rs=(E=Rs)||m.memoizedState!==null,F0(l,c,m),Rs=E;break;default:F0(l,c,m)}}function r5(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{_1(l)}catch(m){Ki(c,c.return,m)}}}function mi(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{_1(l)}catch(m){Ki(c,c.return,m)}}function J7(l){switch(l.tag){case 31:case 13:case 19:var c=l.stateNode;return c===null&&(c=l.stateNode=new xh),c;case 22:return l=l.stateNode,c=l._retryCache,c===null&&(c=l._retryCache=new xh),c;default:throw Error(i(435,l.tag))}}function na(l,c){var m=J7(l);c.forEach(function(E){if(!m.has(E)){m.add(E);var U=t8.bind(null,l,E);E.then(U,U)}})}function ho(l,c){var m=c.deletions;if(m!==null)for(var E=0;E<m.length;E++){var U=m[E],Z=l,Ve=c,At=Ve;e:for(;At!==null;){switch(At.tag){case 27:if(cc(At.type)){Gs=At.stateNode,P0=!1;break e}break;case 5:Gs=At.stateNode,P0=!1;break e;case 3:case 4:Gs=At.stateNode.containerInfo,P0=!0;break e}At=At.return}if(Gs===null)throw Error(i(160));Q4(Z,Ve,U),Gs=null,P0=!1,Z=U.alternate,Z!==null&&(Z.return=null),U.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)yu(c,l),c=c.sibling}var p0=null;function yu(l,c){var m=l.alternate,E=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:ho(c,l),ko(l),E&4&&(ns(3,l,l.return),pl(3,l),ns(5,l,l.return));break;case 1:ho(c,l),ko(l),E&512&&(Rs||m===null||Qn(m,m.return)),E&64&&bu&&(l=l.updateQueue,l!==null&&(E=l.callbacks,E!==null&&(m=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=m===null?E:m.concat(E))));break;case 26:var U=p0;if(ho(c,l),ko(l),E&512&&(Rs||m===null||Qn(m,m.return)),E&4){var Z=m!==null?m.memoizedState:null;if(E=l.memoizedState,m===null)if(E===null)if(l.stateNode===null){e:{E=l.type,m=l.memoizedProps,U=U.ownerDocument||U;t:switch(E){case"title":Z=U.getElementsByTagName("title")[0],(!Z||Z[$e]||Z[W]||Z.namespaceURI==="http://www.w3.org/2000/svg"||Z.hasAttribute("itemprop"))&&(Z=U.createElement(E),U.head.insertBefore(Z,U.querySelector("head > title"))),Po(Z,E,m),Z[W]=l,me(Z),E=Z;break e;case"link":var Ve=E5("link","href",U).get(E+(m.href||""));if(Ve){for(var At=0;At<Ve.length;At++)if(Z=Ve[At],Z.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&Z.getAttribute("rel")===(m.rel==null?null:m.rel)&&Z.getAttribute("title")===(m.title==null?null:m.title)&&Z.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){Ve.splice(At,1);break t}}Z=U.createElement(E),Po(Z,E,m),U.head.appendChild(Z);break;case"meta":if(Ve=E5("meta","content",U).get(E+(m.content||""))){for(At=0;At<Ve.length;At++)if(Z=Ve[At],Z.getAttribute("content")===(m.content==null?null:""+m.content)&&Z.getAttribute("name")===(m.name==null?null:m.name)&&Z.getAttribute("property")===(m.property==null?null:m.property)&&Z.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&Z.getAttribute("charset")===(m.charSet==null?null:m.charSet)){Ve.splice(At,1);break t}}Z=U.createElement(E),Po(Z,E,m),U.head.appendChild(Z);break;default:throw Error(i(468,E))}Z[W]=l,me(Z),E=Z}l.stateNode=E}else S3(U,l.type,l.stateNode);else l.stateNode=N2(U,E,l.memoizedProps);else Z!==E?(Z===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):Z.count--,E===null?S3(U,l.type,l.stateNode):N2(U,E,l.memoizedProps)):E===null&&l.stateNode!==null&&ci(l,l.memoizedProps,m.memoizedProps)}break;case 27:ho(c,l),ko(l),E&512&&(Rs||m===null||Qn(m,m.return)),m!==null&&E&4&&ci(l,l.memoizedProps,m.memoizedProps);break;case 5:if(ho(c,l),ko(l),E&512&&(Rs||m===null||Qn(m,m.return)),l.flags&32){U=l.stateNode;try{pt(U,"")}catch(Dr){Ki(l,l.return,Dr)}}E&4&&l.stateNode!=null&&(U=l.memoizedProps,ci(l,U,m!==null?m.memoizedProps:U)),E&1024&&(Js=!0);break;case 6:if(ho(c,l),ko(l),E&4){if(l.stateNode===null)throw Error(i(162));E=l.memoizedProps,m=l.stateNode;try{m.nodeValue=E}catch(Dr){Ki(l,l.return,Dr)}}break;case 3:if(Gh=null,U=p0,p0=Cu(c.containerInfo),ho(c,l),p0=U,ko(l),E&4&&m!==null&&m.memoizedState.isDehydrated)try{_1(c.containerInfo)}catch(Dr){Ki(l,l.return,Dr)}Js&&(Js=!1,m0(l));break;case 4:E=p0,p0=Cu(l.stateNode.containerInfo),ho(c,l),ko(l),p0=E;break;case 12:ho(c,l),ko(l);break;case 31:ho(c,l),ko(l),E&4&&(E=l.updateQueue,E!==null&&(l.updateQueue=null,na(l,E)));break;case 13:ho(c,l),ko(l),l.child.flags&8192&&l.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Mh=rt()),E&4&&(E=l.updateQueue,E!==null&&(l.updateQueue=null,na(l,E)));break;case 22:U=l.memoizedState!==null;var Qt=m!==null&&m.memoizedState!==null,An=bu,Kn=Rs;if(bu=An||U,Rs=Kn||Qt,ho(c,l),Rs=Kn,bu=An,ko(l),E&8192)e:for(c=l.stateNode,c._visibility=U?c._visibility&-2:c._visibility|1,U&&(m===null||Qt||bu||Rs||Zu(l)),m=null,c=l;;){if(c.tag===5||c.tag===26){if(m===null){Qt=m=c;try{if(Z=Qt.stateNode,U)Ve=Z.style,typeof Ve.setProperty=="function"?Ve.setProperty("display","none","important"):Ve.display="none";else{At=Qt.stateNode;var rr=Qt.memoizedProps.style,Bn=rr!=null&&rr.hasOwnProperty("display")?rr.display:null;At.style.display=Bn==null||typeof Bn=="boolean"?"":(""+Bn).trim()}}catch(Dr){Ki(Qt,Qt.return,Dr)}}}else if(c.tag===6){if(m===null){Qt=c;try{Qt.stateNode.nodeValue=U?"":Qt.memoizedProps}catch(Dr){Ki(Qt,Qt.return,Dr)}}}else if(c.tag===18){if(m===null){Qt=c;try{var Gn=Qt.stateNode;U?la(Gn,!0):la(Qt.stateNode,!1)}catch(Dr){Ki(Qt,Qt.return,Dr)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}E&4&&(E=l.updateQueue,E!==null&&(m=E.retryQueue,m!==null&&(E.retryQueue=null,na(l,m))));break;case 19:ho(c,l),ko(l),E&4&&(E=l.updateQueue,E!==null&&(l.updateQueue=null,na(l,E)));break;case 30:break;case 21:break;default:ho(c,l),ko(l)}}function ko(l){var c=l.flags;if(c&2){try{for(var m,E=l.return;E!==null;){if(pi(E)){m=E;break}E=E.return}if(m==null)throw Error(i(160));switch(m.tag){case 27:var U=m.stateNode,Z=J4(l);Sh(l,Z,U);break;case 5:var Ve=m.stateNode;m.flags&32&&(pt(Ve,""),m.flags&=-33);var At=J4(l);Sh(l,At,Ve);break;case 3:case 4:var Qt=m.stateNode.containerInfo,An=J4(l);Ra(l,An,Qt);break;default:throw Error(i(161))}}catch(Kn){Ki(l,l.return,Kn)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function m0(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var c=l;m0(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),l=l.sibling}}function La(l,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)v2(l,c.alternate,c),c=c.sibling}function Zu(l){for(l=l.child;l!==null;){var c=l;switch(c.tag){case 0:case 11:case 14:case 15:ns(4,c,c.return),Zu(c);break;case 1:Qn(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&K4(c,c.return,m),Zu(c);break;case 27:Ms(c.stateNode);case 26:case 5:Qn(c,c.return),Zu(c);break;case 22:c.memoizedState===null&&Zu(c);break;case 30:Zu(c);break;default:Zu(c)}l=l.sibling}}function Da(l,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var E=c.alternate,U=l,Z=c,Ve=Z.flags;switch(Z.tag){case 0:case 11:case 15:Da(U,Z,m),pl(4,Z);break;case 1:if(Da(U,Z,m),E=Z,U=E.stateNode,typeof U.componentDidMount=="function")try{U.componentDidMount()}catch(An){Ki(E,E.return,An)}if(E=Z,U=E.updateQueue,U!==null){var At=E.stateNode;try{var Qt=U.shared.hiddenCallbacks;if(Qt!==null)for(U.shared.hiddenCallbacks=null,U=0;U<Qt.length;U++)ws(Qt[U],At)}catch(An){Ki(E,E.return,An)}}m&&Ve&64&&Y4(Z),r1(Z,Z.return);break;case 27:n5(Z);case 26:case 5:Da(U,Z,m),m&&E===null&&Ve&4&&Tn(Z),r1(Z,Z.return);break;case 12:Da(U,Z,m);break;case 31:Da(U,Z,m),m&&Ve&4&&r5(U,Z);break;case 13:Da(U,Z,m),m&&Ve&4&&mi(U,Z);break;case 22:Z.memoizedState===null&&Da(U,Z,m),r1(Z,Z.return);break;case 30:break;default:Da(U,Z,m)}c=c.sibling}}function e3(l,c){var m=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),l=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(l=c.memoizedState.cachePool.pool),l!==m&&(l!=null&&l.refCount++,m!=null&&Jl(m))}function t3(l,c){l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&Jl(l))}function ra(l,c,m,E){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)n3(l,c,m,E),c=c.sibling}function n3(l,c,m,E){var U=c.flags;switch(c.tag){case 0:case 11:case 15:ra(l,c,m,E),U&2048&&pl(9,c);break;case 1:ra(l,c,m,E);break;case 3:ra(l,c,m,E),U&2048&&(l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&Jl(l)));break;case 12:if(U&2048){ra(l,c,m,E),l=c.stateNode;try{var Z=c.memoizedProps,Ve=Z.id,At=Z.onPostCommit;typeof At=="function"&&At(Ve,c.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Qt){Ki(c,c.return,Qt)}}else ra(l,c,m,E);break;case 31:ra(l,c,m,E);break;case 13:ra(l,c,m,E);break;case 23:break;case 22:Z=c.stateNode,Ve=c.alternate,c.memoizedState!==null?Z._visibility&2?ra(l,c,m,E):Qu(l,c):Z._visibility&2?ra(l,c,m,E):(Z._visibility|=2,i1(l,c,m,E,(c.subtreeFlags&10256)!==0||!1)),U&2048&&e3(Ve,c);break;case 24:ra(l,c,m,E),U&2048&&t3(c.alternate,c);break;default:ra(l,c,m,E)}}function i1(l,c,m,E,U){for(U=U&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var Z=l,Ve=c,At=m,Qt=E,An=Ve.flags;switch(Ve.tag){case 0:case 11:case 15:i1(Z,Ve,At,Qt,U),pl(8,Ve);break;case 23:break;case 22:var Kn=Ve.stateNode;Ve.memoizedState!==null?Kn._visibility&2?i1(Z,Ve,At,Qt,U):Qu(Z,Ve):(Kn._visibility|=2,i1(Z,Ve,At,Qt,U)),U&&An&2048&&e3(Ve.alternate,Ve);break;case 24:i1(Z,Ve,At,Qt,U),U&&An&2048&&t3(Ve.alternate,Ve);break;default:i1(Z,Ve,At,Qt,U)}c=c.sibling}}function Qu(l,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=l,E=c,U=E.flags;switch(E.tag){case 22:Qu(m,E),U&2048&&e3(E.alternate,E);break;case 24:Qu(m,E),U&2048&&t3(E.alternate,E);break;default:Qu(m,E)}c=c.sibling}}var s1=8192;function _u(l,c,m){if(l.subtreeFlags&s1)for(l=l.child;l!==null;)r3(l,c,m),l=l.sibling}function r3(l,c,m){switch(l.tag){case 26:_u(l,c,m),l.flags&s1&&l.memoizedState!==null&&a8(m,p0,l.memoizedState,l.memoizedProps);break;case 5:_u(l,c,m);break;case 3:case 4:var E=p0;p0=Cu(l.stateNode.containerInfo),_u(l,c,m),p0=E;break;case 22:l.memoizedState===null&&(E=l.alternate,E!==null&&E.memoizedState!==null?(E=s1,s1=16777216,_u(l,c,m),s1=E):_u(l,c,m));break;default:_u(l,c,m)}}function Z7(l){var c=l.alternate;if(c!==null&&(l=c.child,l!==null)){c.child=null;do c=l.sibling,l.sibling=null,l=c;while(l!==null)}}function Ch(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var E=c[m];Mo=E,b2(E,l)}Z7(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)U0(l),l=l.sibling}function U0(l){switch(l.tag){case 0:case 11:case 15:Ch(l),l.flags&2048&&ns(9,l,l.return);break;case 3:Ch(l);break;case 12:Ch(l);break;case 22:var c=l.stateNode;l.memoizedState!==null&&c._visibility&2&&(l.return===null||l.return.tag!==13)?(c._visibility&=-3,qs(l)):Ch(l);break;default:Ch(l)}}function qs(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var E=c[m];Mo=E,b2(E,l)}Z7(l)}for(l=l.child;l!==null;){switch(c=l,c.tag){case 0:case 11:case 15:ns(8,c,c.return),qs(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,qs(c));break;default:qs(c)}l=l.sibling}}function b2(l,c){for(;Mo!==null;){var m=Mo;switch(m.tag){case 0:case 11:case 15:ns(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var E=m.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:Jl(m.memoizedState.cache)}if(E=m.child,E!==null)E.return=m,Mo=E;else e:for(m=l;Mo!==null;){E=Mo;var U=E.sibling,Z=E.return;if($2(E),E===m){Mo=null;break e}if(U!==null){U.return=Z,Mo=U;break e}Mo=Z}}}var i3={getCacheForType:function(l){var c=yo(As),m=c.data.get(l);return m===void 0&&(m=l(),c.data.set(l,m)),m},cacheSignal:function(){return yo(As).controller.signal}},i5=typeof WeakMap=="function"?WeakMap:Map,rs=0,us=null,Ci=null,li=0,Ts=0,g0=null,Ba=!1,ec=!1,tc=!1,ia=0,ro=0,sa=0,wu=0,s3=0,r0=0,o1=0,y2=null,Ao=null,o3=!1,Mh=0,s5=0,kh=1/0,Ah=null,Tu=null,No=0,Eu=null,z0=null,Pa=0,l3=0,Nh=null,a3=null,_2=0,Zs=null;function qo(){return(rs&2)!==0&&li!==0?li&-li:J.T!==null?q0():F()}function o5(){if(r0===0)if((li&536870912)===0||ki){var l=Ye;Ye<<=1,(Ye&3932160)===0&&(Ye=262144),r0=l}else r0=536870912;return l=x0.current,l!==null&&(l.flags|=32),r0}function Wo(l,c,m){(l===us&&(Ts===2||Ts===9)||l.cancelPendingCommit!==null)&&(Ws(l,0),H0(l,li,r0,!1)),sr(l,m),((rs&2)===0||l!==us)&&(l===us&&((rs&2)===0&&(wu|=m),ro===4&&H0(l,li,r0,!1)),oa(l))}function l5(l,c,m){if((rs&6)!==0)throw Error(i(327));var E=!m&&(c&127)===0&&(c&l.expiredLanes)===0||St(l,c),U=E?c3(l,c):u3(l,c,!0),Z=E;do{if(U===0){ec&&!E&&H0(l,c,0,!1);break}else{if(m=l.current.alternate,Z&&!Q7(m)){U=u3(l,c,!1),Z=!1;continue}if(U===2){if(Z=c,l.errorRecoveryDisabledLanes&Z)var Ve=0;else Ve=l.pendingLanes&-536870913,Ve=Ve!==0?Ve:Ve&536870912?536870912:0;if(Ve!==0){c=Ve;e:{var At=l;U=y2;var Qt=At.current.memoizedState.isDehydrated;if(Qt&&(Ws(At,Ve).flags|=256),Ve=u3(At,Ve,!1),Ve!==2){if(tc&&!Qt){At.errorRecoveryDisabledLanes|=Z,wu|=Z,U=4;break e}Z=Ao,Ao=U,Z!==null&&(Ao===null?Ao=Z:Ao.push.apply(Ao,Z))}U=Ve}if(Z=!1,U!==2)continue}}if(U===1){Ws(l,0),H0(l,c,0,!0);break}e:{switch(E=l,Z=U,Z){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:H0(E,c,r0,!Ba);break e;case 2:Ao=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(U=Mh+300-rt(),10<U)){if(H0(E,c,r0,!Ba),tt(E,0,!0)!==0)break e;Pa=c,E.timeoutHandle=$5(a5.bind(null,E,m,Ao,Ah,o3,c,r0,wu,o1,Ba,Z,"Throttled",-0,0),U);break e}a5(E,m,Ao,Ah,o3,c,r0,wu,o1,Ba,Z,null,-0,0)}}break}while(!0);oa(l)}function a5(l,c,m,E,U,Z,Ve,At,Qt,An,Kn,rr,Bn,Gn){if(l.timeoutHandle=-1,rr=c.subtreeFlags,rr&8192||(rr&16785408)===16785408){rr={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:We},r3(c,Z,rr);var Dr=(Z&62914560)===Z?Mh-rt():(Z&4194048)===Z?s5-rt():0;if(Dr=R2(rr,Dr),Dr!==null){Pa=Z,l.cancelPendingCommit=Dr(sc.bind(null,l,c,Z,m,E,U,Ve,At,Qt,Kn,rr,null,Bn,Gn)),H0(l,Z,Ve,!An);return}}sc(l,c,Z,m,E,U,Ve,At,Qt)}function Q7(l){for(var c=l;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var E=0;E<m.length;E++){var U=m[E],Z=U.getSnapshot;U=U.value;try{if(!ar(Z(),U))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function H0(l,c,m,E){c&=~s3,c&=~wu,l.suspendedLanes|=c,l.pingedLanes&=~c,E&&(l.warmLanes|=c),E=l.expirationTimes;for(var U=c;0<U;){var Z=31-Fe(U),Ve=1<<Z;E[Z]=-1,U&=~Ve}m!==0&&jn(l,m,c)}function Ih(){return(rs&6)===0?(S2(0),!1):!0}function l1(){if(Ci!==null){if(Ts===0)var l=Ci.return;else l=Ci,hl=wa=null,Zc(l),Rn=null,ir=0,l=Ci;for(;l!==null;)t5(l.alternate,l),l=l.return;Ci=null}}function Ws(l,c){var m=l.timeoutHandle;m!==-1&&(l.timeoutHandle=-1,w3(m)),m=l.cancelPendingCommit,m!==null&&(l.cancelPendingCommit=null,m()),Pa=0,l1(),us=l,Ci=m=al(l.current,null),li=c,Ts=0,g0=null,Ba=!1,ec=St(l,c),tc=!1,o1=r0=s3=wu=sa=ro=0,Ao=y2=null,o3=!1,(c&8)!==0&&(c|=c&32);var E=l.entangledLanes;if(E!==0)for(l=l.entanglements,E&=c;0<E;){var U=31-Fe(E),Z=1<<U;c|=l[U],E&=~Z}return ia=c,xl(),m}function nc(l,c){vi=null,J.H=t1,c===C||c===pe?(c=vn(),Ts=3):c===G?(c=vn(),Ts=4):Ts=c===q6?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,g0=c,Ci===null&&(ro=1,yh(l,_0(c,l.current)))}function rc(){var l=x0.current;return l===null?!0:(li&4194048)===li?D0===null:(li&62914560)===li||(li&536870912)!==0?l===D0:!1}function Oh(){var l=J.H;return J.H=t1,l===null?t1:l}function Rh(){var l=J.A;return J.A=i3,l}function Lh(){ro=4,Ba||(li&4194048)!==li&&x0.current!==null||(ec=!0),(sa&134217727)===0&&(wu&134217727)===0||us===null||H0(us,li,r0,!1)}function u3(l,c,m){var E=rs;rs|=2;var U=Oh(),Z=Rh();(us!==l||li!==c)&&(Ah=null,Ws(l,c)),c=!1;var Ve=ro;e:do try{if(Ts!==0&&Ci!==null){var At=Ci,Qt=g0;switch(Ts){case 8:l1(),Ve=6;break e;case 3:case 2:case 9:case 6:x0.current===null&&(c=!0);var An=Ts;if(Ts=0,g0=null,a1(l,At,Qt,An),m&&ec){Ve=0;break e}break;default:An=Ts,Ts=0,g0=null,a1(l,At,Qt,An)}}u5(),Ve=ro;break}catch(Kn){nc(l,Kn)}while(!0);return c&&l.shellSuspendCounter++,hl=wa=null,rs=E,J.H=U,J.A=Z,Ci===null&&(us=null,li=0,xl()),Ve}function u5(){for(;Ci!==null;)ic(Ci)}function c3(l,c){var m=rs;rs|=2;var E=Oh(),U=Rh();us!==l||li!==c?(Ah=null,kh=rt()+500,Ws(l,c)):ec=St(l,c);e:do try{if(Ts!==0&&Ci!==null){c=Ci;var Z=g0;t:switch(Ts){case 1:Ts=0,g0=null,a1(l,c,Z,1);break;case 2:case 9:if(ot(Z)){Ts=0,g0=null,h5(c);break}c=function(){Ts!==2&&Ts!==9||us!==l||(Ts=7),oa(l)},Z.then(c,c);break e;case 3:Ts=7;break e;case 4:Ts=5;break e;case 7:ot(Z)?(Ts=0,g0=null,h5(c)):(Ts=0,g0=null,a1(l,c,Z,7));break;case 5:var Ve=null;switch(Ci.tag){case 26:Ve=Ci.memoizedState;case 5:case 27:var At=Ci;if(Ve?Ss(Ve):At.stateNode.complete){Ts=0,g0=null;var Qt=At.sibling;if(Qt!==null)Ci=Qt;else{var An=At.return;An!==null?(Ci=An,Ls(An)):Ci=null}break t}}Ts=0,g0=null,a1(l,c,Z,5);break;case 6:Ts=0,g0=null,a1(l,c,Z,6);break;case 8:l1(),ro=6;break e;default:throw Error(i(462))}}c5();break}catch(Kn){nc(l,Kn)}while(!0);return hl=wa=null,J.H=E,J.A=U,rs=m,Ci!==null?0:(us=null,li=0,xl(),ro)}function c5(){for(;Ci!==null&&!Et();)ic(Ci)}function ic(l){var c=J6(l.alternate,l,ia);l.memoizedProps=l.pendingProps,c===null?Ls(l):Ci=c}function h5(l){var c=l,m=c.alternate;switch(c.tag){case 15:case 0:c=Aa(m,c,c.pendingProps,c.type,void 0,li);break;case 11:c=Aa(m,c,c.pendingProps,c.type.render,c.ref,li);break;case 5:Zc(c);default:t5(m,c),c=Ci=y4(c,ia),c=J6(m,c,ia)}l.memoizedProps=l.pendingProps,c===null?Ls(l):Ci=c}function a1(l,c,m,E){hl=wa=null,Zc(c),Rn=null,ir=0;var U=c.return;try{if(Y7(l,U,c,m,li)){ro=1,yh(l,_0(m,l.current)),Ci=null;return}}catch(Z){if(U!==null)throw Ci=U,Z;ro=1,yh(l,_0(m,l.current)),Ci=null;return}c.flags&32768?(ki||E===1?l=!0:ec||(li&536870912)!==0?l=!1:(Ba=l=!0,(E===2||E===9||E===3||E===6)&&(E=x0.current,E!==null&&E.tag===13&&(E.flags|=16384))),w2(c,l)):Ls(c)}function Ls(l){var c=l;do{if((c.flags&32768)!==0){w2(c,Ba);return}l=c.return;var m=Q6(c.alternate,c,ia);if(m!==null){Ci=m;return}if(c=c.sibling,c!==null){Ci=c;return}Ci=c=l}while(c!==null);ro===0&&(ro=5)}function w2(l,c){do{var m=e5(l.alternate,l);if(m!==null){m.flags&=32767,Ci=m;return}if(m=l.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(l=l.sibling,l!==null)){Ci=l;return}Ci=l=m}while(l!==null);ro=6,Ci=null}function sc(l,c,m,E,U,Z,Ve,At,Qt){l.cancelPendingCommit=null;do u1();while(No!==0);if((rs&6)!==0)throw Error(i(327));if(c!==null){if(c===l.current)throw Error(i(177));if(Z=c.lanes|c.childLanes,Z|=Lo,wr(l,m,Z,Ve,At,Qt),l===us&&(Ci=us=null,li=0),z0=c,Eu=l,Pa=m,l3=Z,Nh=U,a3=E,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,h1(ht,function(){return f3(),null})):(l.callbackNode=null,l.callbackPriority=0),E=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||E){E=J.T,J.T=null,U=fe.p,fe.p=2,Ve=rs,rs|=4;try{Z4(l,c,m)}finally{rs=Ve,fe.p=U,J.T=E}}No=1,h3(),Su(),f5()}}function h3(){if(No===1){No=0;var l=Eu,c=z0,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=J.T,J.T=null;var E=fe.p;fe.p=2;var U=rs;rs|=4;try{yu(c,l);var Z=k2,Ve=Ui(l.containerInfo),At=Z.focusedElem,Qt=Z.selectionRange;if(Ve!==At&&At&&At.ownerDocument&&Ii(At.ownerDocument.documentElement,At)){if(Qt!==null&&Ri(At)){var An=Qt.start,Kn=Qt.end;if(Kn===void 0&&(Kn=An),"selectionStart"in At)At.selectionStart=An,At.selectionEnd=Math.min(Kn,At.value.length);else{var rr=At.ownerDocument||document,Bn=rr&&rr.defaultView||window;if(Bn.getSelection){var Gn=Bn.getSelection(),Dr=At.textContent.length,ti=Math.min(Qt.start,Dr),is=Qt.end===void 0?ti:Math.min(Qt.end,Dr);!Gn.extend&&ti>is&&(Ve=is,is=ti,ti=Ve);var yn=ri(At,ti),on=ri(At,is);if(yn&&on&&(Gn.rangeCount!==1||Gn.anchorNode!==yn.node||Gn.anchorOffset!==yn.offset||Gn.focusNode!==on.node||Gn.focusOffset!==on.offset)){var kn=rr.createRange();kn.setStart(yn.node,yn.offset),Gn.removeAllRanges(),ti>is?(Gn.addRange(kn),Gn.extend(on.node,on.offset)):(kn.setEnd(on.node,on.offset),Gn.addRange(kn))}}}}for(rr=[],Gn=At;Gn=Gn.parentNode;)Gn.nodeType===1&&rr.push({element:Gn,left:Gn.scrollLeft,top:Gn.scrollTop});for(typeof At.focus=="function"&&At.focus(),At=0;At<rr.length;At++){var Jn=rr[At];Jn.element.scrollLeft=Jn.left,Jn.element.scrollTop=Jn.top}}B2=!!d1,k2=d1=null}finally{rs=U,fe.p=E,J.T=m}}l.current=c,No=2}}function Su(){if(No===2){No=0;var l=Eu,c=z0,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=J.T,J.T=null;var E=fe.p;fe.p=2;var U=rs;rs|=4;try{v2(l,c.alternate,c)}finally{rs=U,fe.p=E,J.T=m}}No=3}}function f5(){if(No===4||No===3){No=0,Vt();var l=Eu,c=z0,m=Pa,E=a3;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?No=5:(No=0,z0=Eu=null,Dh(l,l.pendingLanes));var U=l.pendingLanes;if(U===0&&(Tu=null),gn(m),c=c.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(Y,c,void 0,(c.current.flags&128)===128)}catch{}if(E!==null){c=J.T,U=fe.p,fe.p=2,J.T=null;try{for(var Z=l.onRecoverableError,Ve=0;Ve<E.length;Ve++){var At=E[Ve];Z(At.value,{componentStack:At.stack})}}finally{J.T=c,fe.p=U}}(Pa&3)!==0&&u1(),oa(l),U=l.pendingLanes,(m&261930)!==0&&(U&42)!==0?l===Zs?_2++:(_2=0,Zs=l):_2=0,S2(0)}}function Dh(l,c){(l.pooledCacheLanes&=c)===0&&(c=l.pooledCache,c!=null&&(l.pooledCache=null,Jl(c)))}function u1(){return h3(),Su(),f5(),f3()}function f3(){if(No!==5)return!1;var l=Eu,c=l3;l3=0;var m=gn(Pa),E=J.T,U=fe.p;try{fe.p=32>m?32:m,J.T=null,m=Nh,Nh=null;var Z=Eu,Ve=Pa;if(No=0,z0=Eu=null,Pa=0,(rs&6)!==0)throw Error(i(331));var At=rs;if(rs|=4,U0(Z.current),n3(Z,Z.current,Ve,m),rs=At,S2(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(Y,Z)}catch{}return!0}finally{fe.p=U,J.T=E,Dh(l,c)}}function i0(l,c,m){c=_0(m,c),c=f2(l.stateNode,c,2),l=zs(l,c,2),l!==null&&(sr(l,2),oa(l))}function Ki(l,c,m){if(l.tag===3)i0(l,l,m);else for(;c!==null;){if(c.tag===3){i0(c,l,m);break}else if(c.tag===1){var E=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Tu===null||!Tu.has(E))){l=_0(m,l),m=G6(2),E=zs(c,m,2),E!==null&&(X4(m,E,c,l),sr(E,2),oa(E));break}}c=c.return}}function T2(l,c,m){var E=l.pingCache;if(E===null){E=l.pingCache=new i5;var U=new Set;E.set(c,U)}else U=E.get(c),U===void 0&&(U=new Set,E.set(c,U));U.has(m)||(tc=!0,U.add(m),l=Bh.bind(null,l,c,m),c.then(l,l))}function Bh(l,c,m){var E=l.pingCache;E!==null&&E.delete(c),l.pingedLanes|=l.suspendedLanes&m,l.warmLanes&=~m,us===l&&(li&m)===m&&(ro===4||ro===3&&(li&62914560)===li&&300>rt()-Mh?(rs&2)===0&&Ws(l,0):s3|=m,o1===li&&(o1=0)),oa(l)}function c1(l,c){c===0&&(c=$n()),l=y0(l,c),l!==null&&(sr(l,c),oa(l))}function e8(l){var c=l.memoizedState,m=0;c!==null&&(m=c.retryLane),c1(l,m)}function t8(l,c){var m=0;switch(l.tag){case 31:case 13:var E=l.stateNode,U=l.memoizedState;U!==null&&(m=U.retryLane);break;case 19:E=l.stateNode;break;case 22:E=l.stateNode._retryCache;break;default:throw Error(i(314))}E!==null&&E.delete(c),c1(l,m)}function h1(l,c){return Qe(l,c)}var E2=null,oc=null,V0=!1,lc=!1,Ph=!1,Fa=0;function oa(l){l!==oc&&l.next===null&&(oc===null?E2=oc=l:oc=oc.next=l),lc=!0,V0||(V0=!0,n8())}function S2(l,c){if(!Ph&&lc){Ph=!0;do for(var m=!1,E=E2;E!==null;){if(l!==0){var U=E.pendingLanes;if(U===0)var Z=0;else{var Ve=E.suspendedLanes,At=E.pingedLanes;Z=(1<<31-Fe(42|l)+1)-1,Z&=U&~(Ve&~At),Z=Z&201326741?Z&201326741|1:Z?Z|2:0}Z!==0&&(m=!0,m3(E,Z))}else Z=li,Z=tt(E,E===us?Z:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),(Z&3)===0||St(E,Z)||(m=!0,m3(E,Z));E=E.next}while(m);Ph=!1}}function d3(){wo()}function wo(){lc=V0=!1;var l=0;Fa!==0&&v5()&&(l=Fa);for(var c=rt(),m=null,E=E2;E!==null;){var U=E.next,Z=G0(E,c);Z===0?(E.next=null,m===null?E2=U:m.next=U,U===null&&(oc=m)):(m=E,(l!==0||(Z&3)!==0)&&(lc=!0)),E=U}No!==0&&No!==5||S2(l),Fa!==0&&(Fa=0)}function G0(l,c){for(var m=l.suspendedLanes,E=l.pingedLanes,U=l.expirationTimes,Z=l.pendingLanes&-62914561;0<Z;){var Ve=31-Fe(Z),At=1<<Ve,Qt=U[Ve];Qt===-1?((At&m)===0||(At&E)!==0)&&(U[Ve]=Zt(At,c)):Qt<=c&&(l.expiredLanes|=At),Z&=~At}if(c=us,m=li,m=tt(l,l===c?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),E=l.callbackNode,m===0||l===c&&(Ts===2||Ts===9)||l.cancelPendingCommit!==null)return E!==null&&E!==null&&Tt(E),l.callbackNode=null,l.callbackPriority=0;if((m&3)===0||St(l,m)){if(c=m&-m,c===l.callbackPriority)return c;switch(E!==null&&Tt(E),gn(m)){case 2:case 8:m=ke;break;case 32:m=ht;break;case 268435456:m=Ot;break;default:m=ht}return E=p3.bind(null,l),m=Qe(m,E),l.callbackPriority=c,l.callbackNode=m,c}return E!==null&&E!==null&&Tt(E),l.callbackPriority=2,l.callbackNode=null,2}function p3(l,c){if(No!==0&&No!==5)return l.callbackNode=null,l.callbackPriority=0,null;var m=l.callbackNode;if(u1()&&l.callbackNode!==m)return null;var E=li;return E=tt(l,l===us?E:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),E===0?null:(l5(l,E,c),G0(l,rt()),l.callbackNode!=null&&l.callbackNode===m?p3.bind(null,l):null)}function m3(l,c){if(u1())return null;l5(l,c,!0)}function n8(){p1(function(){(rs&6)!==0?Qe(Re,d3):wo()})}function q0(){if(Fa===0){var l=du;l===0&&(l=ve,ve<<=1,(ve&261888)===0&&(ve=256)),Fa=l}return Fa}function x2(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:z(""+l)}function cs(l,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,l.id&&m.setAttribute("form",l.id),c.parentNode.insertBefore(m,c),l=new FormData(l),m.parentNode.removeChild(m),l}function fo(l,c,m,E,U){if(c==="submit"&&m&&m.stateNode===U){var Z=x2((U[ae]||null).action),Ve=E.submitter;Ve&&(c=(c=Ve[ae]||null)?x2(c.formAction):Ve.getAttribute("formAction"),c!==null&&(Z=c,Ve=null));var At=new Mr("action","action",null,E,U);l.push({event:At,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(Fa!==0){var Qt=Ve?cs(U,Ve):new FormData(U);In(m,{pending:!0,data:Qt,method:U.method,action:Z},null,Qt)}}else typeof Z=="function"&&(At.preventDefault(),Qt=Ve?cs(U,Ve):new FormData(U),In(m,{pending:!0,data:Qt,method:U.method,action:Z},Z,Qt))},currentTarget:U}]})}}for(var ac=0;ac<$o.length;ac++){var g3=$o[ac],v3=g3.toLowerCase(),d5=g3[0].toUpperCase()+g3.slice(1);Is(v3,"on"+d5)}Is($i,"onAnimationEnd"),Is(Ns,"onAnimationIteration"),Is(xt,"onAnimationStart"),Is("dblclick","onDoubleClick"),Is("focusin","onFocus"),Is("focusout","onBlur"),Is(ts,"onTransitionRun"),Is(xs,"onTransitionStart"),Is(O0,"onTransitionCancel"),Is(So,"onTransitionEnd"),bt("onMouseEnter",["mouseout","mouseover"]),bt("onMouseLeave",["mouseout","mouseover"]),bt("onPointerEnter",["pointerout","pointerover"]),bt("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ua));function W0(l,c){c=(c&4)!==0;for(var m=0;m<l.length;m++){var E=l[m],U=E.event;E=E.listeners;e:{var Z=void 0;if(c)for(var Ve=E.length-1;0<=Ve;Ve--){var At=E[Ve],Qt=At.instance,An=At.currentTarget;if(At=At.listener,Qt!==Z&&U.isPropagationStopped())break e;Z=At,U.currentTarget=An;try{Z(U)}catch(Kn){ii(Kn)}U.currentTarget=null,Z=Qt}else for(Ve=0;Ve<E.length;Ve++){if(At=E[Ve],Qt=At.instance,An=At.currentTarget,At=At.listener,Qt!==Z&&U.isPropagationStopped())break e;Z=At,U.currentTarget=An;try{Z(U)}catch(Kn){ii(Kn)}U.currentTarget=null,Z=Qt}}}}function Mi(l,c){var m=c[ge];m===void 0&&(m=c[ge]=new Set);var E=l+"__bubble";m.has(E)||(Fh(c,l,2,!1),m.add(E))}function ml(l,c,m){var E=0;c&&(E|=4),Fh(m,l,E,c)}var f1="_reactListening"+Math.random().toString(36).slice(2);function $3(l){if(!l[f1]){l[f1]=!0,He.forEach(function(m){m!=="selectionchange"&&(C2.has(m)||ml(m,!1,l),ml(m,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[f1]||(c[f1]=!0,ml("selectionchange",!1,c))}}function Fh(l,c,m,E){switch(I5(c)){case 2:var U=A5;break;case 8:U=f8;break;default:U=C3}m=U.bind(null,c,m,l),U=void 0,!Ir||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(U=!0),E?U!==void 0?l.addEventListener(c,m,{capture:!0,passive:U}):l.addEventListener(c,m,!0):U!==void 0?l.addEventListener(c,m,{passive:U}):l.addEventListener(c,m,!1)}function xu(l,c,m,E,U){var Z=E;if((c&1)===0&&(c&2)===0&&E!==null)e:for(;;){if(E===null)return;var Ve=E.tag;if(Ve===3||Ve===4){var At=E.stateNode.containerInfo;if(At===U)break;if(Ve===4)for(Ve=E.return;Ve!==null;){var Qt=Ve.tag;if((Qt===3||Qt===4)&&Ve.stateNode.containerInfo===U)return;Ve=Ve.return}for(;At!==null;){if(Ve=Ue(At),Ve===null)return;if(Qt=Ve.tag,Qt===5||Qt===6||Qt===26||Qt===27){E=Z=Ve;continue e}At=At.parentNode}}E=E.return}bn(function(){var An=Z,Kn=Nt(m),rr=[];e:{var Bn=Ro.get(l);if(Bn!==void 0){var Gn=Mr,Dr=l;switch(l){case"keypress":if(fr(m)===0)break e;case"keydown":case"keyup":Gn=ai;break;case"focusin":Dr="focus",Gn=yi;break;case"focusout":Dr="blur",Gn=yi;break;case"beforeblur":case"afterblur":Gn=yi;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Gn=ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Gn=Wi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Gn=Dc;break;case $i:case Ns:case xt:Gn=oo;break;case So:Gn=Hl;break;case"scroll":case"scrollend":Gn=Tr;break;case"wheel":Gn=Vl;break;case"copy":case"cut":case"paste":Gn=es;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Gn=ga;break;case"toggle":case"beforetoggle":Gn=va}var ti=(c&4)!==0,is=!ti&&(l==="scroll"||l==="scrollend"),yn=ti?Bn!==null?Bn+"Capture":null:Bn;ti=[];for(var on=An,kn;on!==null;){var Jn=on;if(kn=Jn.stateNode,Jn=Jn.tag,Jn!==5&&Jn!==26&&Jn!==27||kn===null||yn===null||(Jn=zn(on,yn),Jn!=null&&ti.push(gi(on,Jn,kn))),is)break;on=on.return}0<ti.length&&(Bn=new Gn(Bn,Dr,null,m,Kn),rr.push({event:Bn,listeners:ti}))}}if((c&7)===0){e:{if(Bn=l==="mouseover"||l==="pointerover",Gn=l==="mouseout"||l==="pointerout",Bn&&m!==it&&(Dr=m.relatedTarget||m.fromElement)&&(Ue(Dr)||Dr[q]))break e;if((Gn||Bn)&&(Bn=Kn.window===Kn?Kn:(Bn=Kn.ownerDocument)?Bn.defaultView||Bn.parentWindow:window,Gn?(Dr=m.relatedTarget||m.toElement,Gn=An,Dr=Dr?Ue(Dr):null,Dr!==null&&(is=h(Dr),ti=Dr.tag,Dr!==is||ti!==5&&ti!==27&&ti!==6)&&(Dr=null)):(Gn=null,Dr=An),Gn!==Dr)){if(ti=ss,Jn="onMouseLeave",yn="onMouseEnter",on="mouse",(l==="pointerout"||l==="pointerover")&&(ti=ga,Jn="onPointerLeave",yn="onPointerEnter",on="pointer"),is=Gn==null?Bn:D(Gn),kn=Dr==null?Bn:D(Dr),Bn=new ti(Jn,on+"leave",Gn,m,Kn),Bn.target=is,Bn.relatedTarget=kn,Jn=null,Ue(Kn)===An&&(ti=new ti(yn,on+"enter",Dr,m,Kn),ti.target=kn,ti.relatedTarget=is,Jn=ti),is=Jn,Gn&&Dr)t:{for(ti=uc,yn=Gn,on=Dr,kn=0,Jn=yn;Jn;Jn=ti(Jn))kn++;Jn=0;for(var Xr=on;Xr;Xr=ti(Xr))Jn++;for(;0<kn-Jn;)yn=ti(yn),kn--;for(;0<Jn-kn;)on=ti(on),Jn--;for(;kn--;){if(yn===on||on!==null&&yn===on.alternate){ti=yn;break t}yn=ti(yn),on=ti(on)}ti=null}else ti=null;Gn!==null&&Uh(rr,Bn,Gn,ti,!1),Dr!==null&&is!==null&&Uh(rr,is,Dr,ti,!0)}}e:{if(Bn=An?D(An):window,Gn=Bn.nodeName&&Bn.nodeName.toLowerCase(),Gn==="select"||Gn==="input"&&Bn.type==="file")var Gi=_n;else if(L(Bn))if(Ln)Gi=fi;else{Gi=jr;var Vr=zr}else Gn=Bn.nodeName,!Gn||Gn.toLowerCase()!=="input"||Bn.type!=="checkbox"&&Bn.type!=="radio"?An&&an(An.elementType)&&(Gi=_n):Gi=Qr;if(Gi&&(Gi=Gi(l,An))){ee(rr,Gi,m,Kn);break e}Vr&&Vr(l,Bn,An),l==="focusout"&&An&&Bn.type==="number"&&An.memoizedProps.value!=null&&H(Bn,"number",Bn.value)}switch(Vr=An?D(An):window,l){case"focusin":(L(Vr)||Vr.contentEditable==="true")&&(Li=Vr,Zi=An,xi=null);break;case"focusout":xi=Zi=Li=null;break;case"mousedown":ps=!0;break;case"contextmenu":case"mouseup":case"dragend":ps=!1,Fs(rr,m,Kn);break;case"selectionchange":if(Pi)break;case"keydown":case"keyup":Fs(rr,m,Kn)}var Rr;if(Gl)e:{switch(l){case"compositionstart":var Di="onCompositionStart";break e;case"compositionend":Di="onCompositionEnd";break e;case"compositionupdate":Di="onCompositionUpdate";break e}Di=void 0}else sl?ou(l,m)&&(Di="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(Di="onCompositionStart");Di&&(Fc&&m.locale!=="ko"&&(sl||Di!=="onCompositionStart"?Di==="onCompositionEnd"&&sl&&(Rr=yr()):(mn=Kn,dr="value"in mn?mn.value:mn.textContent,sl=!0)),Vr=M2(An,Di),0<Vr.length&&(Di=new c0(Di,l,null,m,Kn),rr.push({event:Di,listeners:Vr}),Rr?Di.data=Rr:(Rr=$a(m),Rr!==null&&(Di.data=Rr)))),(Rr=Pc?lu(l,m):zu(l,m))&&(Di=M2(An,"onBeforeInput"),0<Di.length&&(Vr=new c0("onBeforeInput","beforeinput",null,m,Kn),rr.push({event:Vr,listeners:Di}),Vr.data=Rr)),fo(rr,l,An,m,Kn)}W0(rr,c)})}function gi(l,c,m){return{instance:l,listener:c,currentTarget:m}}function M2(l,c){for(var m=c+"Capture",E=[];l!==null;){var U=l,Z=U.stateNode;if(U=U.tag,U!==5&&U!==26&&U!==27||Z===null||(U=zn(l,m),U!=null&&E.unshift(gi(l,U,Z)),U=zn(l,c),U!=null&&E.push(gi(l,U,Z))),l.tag===3)return E;l=l.return}return[]}function uc(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function Uh(l,c,m,E,U){for(var Z=c._reactName,Ve=[];m!==null&&m!==E;){var At=m,Qt=At.alternate,An=At.stateNode;if(At=At.tag,Qt!==null&&Qt===E)break;At!==5&&At!==26&&At!==27||An===null||(Qt=An,U?(An=zn(m,Z),An!=null&&Ve.unshift(gi(m,An,Qt))):U||(An=zn(m,Z),An!=null&&Ve.push(gi(m,An,Qt)))),m=m.return}Ve.length!==0&&l.push({event:c,listeners:Ve})}var Wf=/\r\n?/g,r8=/\u0000|\uFFFD/g;function p5(l){return(typeof l=="string"?l:""+l).replace(Wf,`
`).replace(r8,"")}function zh(l,c){return c=p5(c),p5(l)===c}function Es(l,c,m,E,U,Z){switch(m){case"children":typeof E=="string"?c==="body"||c==="textarea"&&E===""||pt(l,E):(typeof E=="number"||typeof E=="bigint")&&c!=="body"&&pt(l,""+E);break;case"className":Ke(l,"class",E);break;case"tabIndex":Ke(l,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":Ke(l,m,E);break;case"style":tn(l,E,Z);break;case"data":if(c!=="object"){Ke(l,"data",E);break}case"src":case"href":if(E===""&&(c!=="a"||m!=="href")){l.removeAttribute(m);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){l.removeAttribute(m);break}E=z(""+E),l.setAttribute(m,E);break;case"action":case"formAction":if(typeof E=="function"){l.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Z=="function"&&(m==="formAction"?(c!=="input"&&Es(l,c,"name",U.name,U,null),Es(l,c,"formEncType",U.formEncType,U,null),Es(l,c,"formMethod",U.formMethod,U,null),Es(l,c,"formTarget",U.formTarget,U,null)):(Es(l,c,"encType",U.encType,U,null),Es(l,c,"method",U.method,U,null),Es(l,c,"target",U.target,U,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){l.removeAttribute(m);break}E=z(""+E),l.setAttribute(m,E);break;case"onClick":E!=null&&(l.onclick=We);break;case"onScroll":E!=null&&Mi("scroll",l);break;case"onScrollEnd":E!=null&&Mi("scrollend",l);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(i(61));if(m=E.__html,m!=null){if(U.children!=null)throw Error(i(60));l.innerHTML=m}}break;case"multiple":l.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":l.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){l.removeAttribute("xlink:href");break}m=z(""+E),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?l.setAttribute(m,""+E):l.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?l.setAttribute(m,""):l.removeAttribute(m);break;case"capture":case"download":E===!0?l.setAttribute(m,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?l.setAttribute(m,E):l.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?l.setAttribute(m,E):l.removeAttribute(m);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?l.removeAttribute(m):l.setAttribute(m,E);break;case"popover":Mi("beforetoggle",l),Mi("toggle",l),Xt(l,"popover",E);break;case"xlinkActuate":Pn(l,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":Pn(l,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":Pn(l,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":Pn(l,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":Pn(l,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":Pn(l,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":Pn(l,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":Pn(l,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":Pn(l,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":Xt(l,"is",E);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=ln.get(m)||m,Xt(l,m,E))}}function b3(l,c,m,E,U,Z){switch(m){case"style":tn(l,E,Z);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(i(61));if(m=E.__html,m!=null){if(U.children!=null)throw Error(i(60));l.innerHTML=m}}break;case"children":typeof E=="string"?pt(l,E):(typeof E=="number"||typeof E=="bigint")&&pt(l,""+E);break;case"onScroll":E!=null&&Mi("scroll",l);break;case"onScrollEnd":E!=null&&Mi("scrollend",l);break;case"onClick":E!=null&&(l.onclick=We);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_t.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(U=m.endsWith("Capture"),c=m.slice(2,U?m.length-7:void 0),Z=l[ae]||null,Z=Z!=null?Z[m]:null,typeof Z=="function"&&l.removeEventListener(c,Z,U),typeof E=="function")){typeof Z!="function"&&Z!==null&&(m in l?l[m]=null:l.hasAttribute(m)&&l.removeAttribute(m)),l.addEventListener(c,E,U);break e}m in l?l[m]=E:E===!0?l.setAttribute(m,""):Xt(l,m,E)}}}function Po(l,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mi("error",l),Mi("load",l);var E=!1,U=!1,Z;for(Z in m)if(m.hasOwnProperty(Z)){var Ve=m[Z];if(Ve!=null)switch(Z){case"src":E=!0;break;case"srcSet":U=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Es(l,c,Z,Ve,m,null)}}U&&Es(l,c,"srcSet",m.srcSet,m,null),E&&Es(l,c,"src",m.src,m,null);return;case"input":Mi("invalid",l);var At=Z=Ve=U=null,Qt=null,An=null;for(E in m)if(m.hasOwnProperty(E)){var Kn=m[E];if(Kn!=null)switch(E){case"name":U=Kn;break;case"type":Ve=Kn;break;case"checked":Qt=Kn;break;case"defaultChecked":An=Kn;break;case"value":Z=Kn;break;case"defaultValue":At=Kn;break;case"children":case"dangerouslySetInnerHTML":if(Kn!=null)throw Error(i(137,c));break;default:Es(l,c,E,Kn,m,null)}}v(l,Z,At,Qt,An,Ve,U,!1);return;case"select":Mi("invalid",l),E=Ve=Z=null;for(U in m)if(m.hasOwnProperty(U)&&(At=m[U],At!=null))switch(U){case"value":Z=At;break;case"defaultValue":Ve=At;break;case"multiple":E=At;default:Es(l,c,U,At,m,null)}c=Z,m=Ve,l.multiple=!!E,c!=null?ue(l,!!E,c,!1):m!=null&&ue(l,!!E,m,!0);return;case"textarea":Mi("invalid",l),Z=U=E=null;for(Ve in m)if(m.hasOwnProperty(Ve)&&(At=m[Ve],At!=null))switch(Ve){case"value":E=At;break;case"defaultValue":U=At;break;case"children":Z=At;break;case"dangerouslySetInnerHTML":if(At!=null)throw Error(i(91));break;default:Es(l,c,Ve,At,m,null)}Xe(l,E,U,Z);return;case"option":for(Qt in m)if(m.hasOwnProperty(Qt)&&(E=m[Qt],E!=null))switch(Qt){case"selected":l.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:Es(l,c,Qt,E,m,null)}return;case"dialog":Mi("beforetoggle",l),Mi("toggle",l),Mi("cancel",l),Mi("close",l);break;case"iframe":case"object":Mi("load",l);break;case"video":case"audio":for(E=0;E<Ua.length;E++)Mi(Ua[E],l);break;case"image":Mi("error",l),Mi("load",l);break;case"details":Mi("toggle",l);break;case"embed":case"source":case"link":Mi("error",l),Mi("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(An in m)if(m.hasOwnProperty(An)&&(E=m[An],E!=null))switch(An){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Es(l,c,An,E,m,null)}return;default:if(an(c)){for(Kn in m)m.hasOwnProperty(Kn)&&(E=m[Kn],E!==void 0&&b3(l,c,Kn,E,m,void 0));return}}for(At in m)m.hasOwnProperty(At)&&(E=m[At],E!=null&&Es(l,c,At,E,m,null))}function y3(l,c,m,E){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var U=null,Z=null,Ve=null,At=null,Qt=null,An=null,Kn=null;for(Gn in m){var rr=m[Gn];if(m.hasOwnProperty(Gn)&&rr!=null)switch(Gn){case"checked":break;case"value":break;case"defaultValue":Qt=rr;default:E.hasOwnProperty(Gn)||Es(l,c,Gn,null,E,rr)}}for(var Bn in E){var Gn=E[Bn];if(rr=m[Bn],E.hasOwnProperty(Bn)&&(Gn!=null||rr!=null))switch(Bn){case"type":Z=Gn;break;case"name":U=Gn;break;case"checked":An=Gn;break;case"defaultChecked":Kn=Gn;break;case"value":Ve=Gn;break;case"defaultValue":At=Gn;break;case"children":case"dangerouslySetInnerHTML":if(Gn!=null)throw Error(i(137,c));break;default:Gn!==rr&&Es(l,c,Bn,Gn,E,rr)}}hr(l,Ve,At,Qt,An,Kn,Z,U);return;case"select":Gn=Ve=At=Bn=null;for(Z in m)if(Qt=m[Z],m.hasOwnProperty(Z)&&Qt!=null)switch(Z){case"value":break;case"multiple":Gn=Qt;default:E.hasOwnProperty(Z)||Es(l,c,Z,null,E,Qt)}for(U in E)if(Z=E[U],Qt=m[U],E.hasOwnProperty(U)&&(Z!=null||Qt!=null))switch(U){case"value":Bn=Z;break;case"defaultValue":At=Z;break;case"multiple":Ve=Z;default:Z!==Qt&&Es(l,c,U,Z,E,Qt)}c=At,m=Ve,E=Gn,Bn!=null?ue(l,!!m,Bn,!1):!!E!=!!m&&(c!=null?ue(l,!!m,c,!0):ue(l,!!m,m?[]:"",!1));return;case"textarea":Gn=Bn=null;for(At in m)if(U=m[At],m.hasOwnProperty(At)&&U!=null&&!E.hasOwnProperty(At))switch(At){case"value":break;case"children":break;default:Es(l,c,At,null,E,U)}for(Ve in E)if(U=E[Ve],Z=m[Ve],E.hasOwnProperty(Ve)&&(U!=null||Z!=null))switch(Ve){case"value":Bn=U;break;case"defaultValue":Gn=U;break;case"children":break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(91));break;default:U!==Z&&Es(l,c,Ve,U,E,Z)}Se(l,Bn,Gn);return;case"option":for(var Dr in m)if(Bn=m[Dr],m.hasOwnProperty(Dr)&&Bn!=null&&!E.hasOwnProperty(Dr))switch(Dr){case"selected":l.selected=!1;break;default:Es(l,c,Dr,null,E,Bn)}for(Qt in E)if(Bn=E[Qt],Gn=m[Qt],E.hasOwnProperty(Qt)&&Bn!==Gn&&(Bn!=null||Gn!=null))switch(Qt){case"selected":l.selected=Bn&&typeof Bn!="function"&&typeof Bn!="symbol";break;default:Es(l,c,Qt,Bn,E,Gn)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ti in m)Bn=m[ti],m.hasOwnProperty(ti)&&Bn!=null&&!E.hasOwnProperty(ti)&&Es(l,c,ti,null,E,Bn);for(An in E)if(Bn=E[An],Gn=m[An],E.hasOwnProperty(An)&&Bn!==Gn&&(Bn!=null||Gn!=null))switch(An){case"children":case"dangerouslySetInnerHTML":if(Bn!=null)throw Error(i(137,c));break;default:Es(l,c,An,Bn,E,Gn)}return;default:if(an(c)){for(var is in m)Bn=m[is],m.hasOwnProperty(is)&&Bn!==void 0&&!E.hasOwnProperty(is)&&b3(l,c,is,void 0,E,Bn);for(Kn in E)Bn=E[Kn],Gn=m[Kn],!E.hasOwnProperty(Kn)||Bn===Gn||Bn===void 0&&Gn===void 0||b3(l,c,Kn,Bn,E,Gn);return}}for(var yn in m)Bn=m[yn],m.hasOwnProperty(yn)&&Bn!=null&&!E.hasOwnProperty(yn)&&Es(l,c,yn,null,E,Bn);for(rr in E)Bn=E[rr],Gn=m[rr],!E.hasOwnProperty(rr)||Bn===Gn||Bn==null&&Gn==null||Es(l,c,rr,Bn,E,Gn)}function m5(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function i8(){if(typeof performance.getEntriesByType=="function"){for(var l=0,c=0,m=performance.getEntriesByType("resource"),E=0;E<m.length;E++){var U=m[E],Z=U.transferSize,Ve=U.initiatorType,At=U.duration;if(Z&&At&&m5(Ve)){for(Ve=0,At=U.responseEnd,E+=1;E<m.length;E++){var Qt=m[E],An=Qt.startTime;if(An>At)break;var Kn=Qt.transferSize,rr=Qt.initiatorType;Kn&&m5(rr)&&(Qt=Qt.responseEnd,Ve+=Kn*(Qt<At?1:(At-An)/(Qt-An)))}if(--E,c+=8*(Z+Ve)/(U.duration/1e3),l++,10<l)break}}if(0<l)return c/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var d1=null,k2=null;function Il(l){return l.nodeType===9?l:l.ownerDocument}function s0(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _3(l,c){if(l===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&c==="foreignObject"?0:l}function g5(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Hh=null;function v5(){var l=window.event;return l&&l.type==="popstate"?l===Hh?!1:(Hh=l,!0):(Hh=null,!1)}var $5=typeof setTimeout=="function"?setTimeout:void 0,w3=typeof clearTimeout=="function"?clearTimeout:void 0,jo=typeof Promise=="function"?Promise:void 0,p1=typeof queueMicrotask=="function"?queueMicrotask:typeof jo<"u"?function(l){return jo.resolve(null).then(l).catch(jf)}:$5;function jf(l){setTimeout(function(){throw l})}function cc(l){return l==="head"}function Vh(l,c){var m=c,E=0;do{var U=m.nextSibling;if(l.removeChild(m),U&&U.nodeType===8)if(m=U.data,m==="/$"||m==="/&"){if(E===0){l.removeChild(U),_1(c);return}E--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")E++;else if(m==="html")Ms(l.ownerDocument.documentElement);else if(m==="head"){m=l.ownerDocument.head,Ms(m);for(var Z=m.firstChild;Z;){var Ve=Z.nextSibling,At=Z.nodeName;Z[$e]||At==="SCRIPT"||At==="STYLE"||At==="LINK"&&Z.rel.toLowerCase()==="stylesheet"||m.removeChild(Z),Z=Ve}}else m==="body"&&Ms(l.ownerDocument.body);m=U}while(m);_1(c)}function la(l,c){var m=l;l=0;do{var E=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),E&&E.nodeType===8)if(m=E.data,m==="/$"){if(l===0)break;l--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||l++;m=E}while(m)}function T3(l){var c=l.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":T3(m),$t(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}l.removeChild(m)}}function gl(l,c,m,E){for(;l.nodeType===1;){var U=m;if(l.nodeName.toLowerCase()!==c.toLowerCase()){if(!E&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(E){if(!l[$e])switch(c){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(Z=l.getAttribute("rel"),Z==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(Z!==U.rel||l.getAttribute("href")!==(U.href==null||U.href===""?null:U.href)||l.getAttribute("crossorigin")!==(U.crossOrigin==null?null:U.crossOrigin)||l.getAttribute("title")!==(U.title==null?null:U.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(Z=l.getAttribute("src"),(Z!==(U.src==null?null:U.src)||l.getAttribute("type")!==(U.type==null?null:U.type)||l.getAttribute("crossorigin")!==(U.crossOrigin==null?null:U.crossOrigin))&&Z&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(c==="input"&&l.type==="hidden"){var Z=U.name==null?null:""+U.name;if(U.type==="hidden"&&l.getAttribute("name")===Z)return l}else return l;if(l=o0(l.nextSibling),l===null)break}return null}function hs(l,c,m){if(c==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!m||(l=o0(l.nextSibling),l===null))return null;return l}function za(l,c){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!c||(l=o0(l.nextSibling),l===null))return null;return l}function m1(l){return l.data==="$?"||l.data==="$~"}function A2(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function E3(l,c){var m=l.ownerDocument;if(l.data==="$~")l._reactRetry=c;else if(l.data!=="$?"||m.readyState!=="loading")c();else{var E=function(){c(),m.removeEventListener("DOMContentLoaded",E)};m.addEventListener("DOMContentLoaded",E),l._reactRetry=E}}function o0(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return l}var b5=null;function Ol(l){l=l.nextSibling;for(var c=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"||m==="/&"){if(c===0)return o0(l.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}l=l.nextSibling}return null}function fs(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return l;c--}else m!=="/$"&&m!=="/&"||c++}l=l.previousSibling}return null}function Ha(l,c,m){switch(c=Il(m),l){case"html":if(l=c.documentElement,!l)throw Error(i(452));return l;case"head":if(l=c.head,!l)throw Error(i(453));return l;case"body":if(l=c.body,!l)throw Error(i(454));return l;default:throw Error(i(451))}}function Ms(l){for(var c=l.attributes;c.length;)l.removeAttributeNode(c[0]);$t(l)}var M0=new Map,Or=new Set;function Cu(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var aa=fe.d;fe.d={f:y5,r:Vi,D:v1,C:s8,L:$1,m:w5,X:o8,S:T5,M:Xo};function y5(){var l=aa.f(),c=Ih();return l||c}function Vi(l){var c=p(l);c!==null&&c.tag===5&&c.type==="form"?W7(c):aa.r(l)}var g1=typeof document>"u"?null:document;function _5(l,c,m){var E=g1;if(E&&typeof c=="string"&&c){var U=ei(c);U='link[rel="'+l+'"][href="'+U+'"]',typeof m=="string"&&(U+='[crossorigin="'+m+'"]'),Or.has(U)||(Or.add(U),l={rel:l,crossOrigin:m,href:c},E.querySelector(U)===null&&(c=E.createElement("link"),Po(c,"link",l),me(c),E.head.appendChild(c)))}}function v1(l){aa.D(l),_5("dns-prefetch",l,null)}function s8(l,c){aa.C(l,c),_5("preconnect",l,c)}function $1(l,c,m){aa.L(l,c,m);var E=g1;if(E&&l&&c){var U='link[rel="preload"][as="'+ei(c)+'"]';c==="image"&&m&&m.imageSrcSet?(U+='[imagesrcset="'+ei(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(U+='[imagesizes="'+ei(m.imageSizes)+'"]')):U+='[href="'+ei(l)+'"]';var Z=U;switch(c){case"style":Z=k0(l);break;case"script":Z=ua(l)}M0.has(Z)||(l=w({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:l,as:c},m),M0.set(Z,l),E.querySelector(U)!==null||c==="style"&&E.querySelector(vl(Z))||c==="script"&&E.querySelector(hc(Z))||(c=E.createElement("link"),Po(c,"link",l),me(c),E.head.appendChild(c)))}}function w5(l,c){aa.m(l,c);var m=g1;if(m&&l){var E=c&&typeof c.as=="string"?c.as:"script",U='link[rel="modulepreload"][as="'+ei(E)+'"][href="'+ei(l)+'"]',Z=U;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Z=ua(l)}if(!M0.has(Z)&&(l=w({rel:"modulepreload",href:l},c),M0.set(Z,l),m.querySelector(U)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(hc(Z)))return}E=m.createElement("link"),Po(E,"link",l),me(E),m.head.appendChild(E)}}}function T5(l,c,m){aa.S(l,c,m);var E=g1;if(E&&l){var U=Q(E).hoistableStyles,Z=k0(l);c=c||"default";var Ve=U.get(Z);if(!Ve){var At={loading:0,preload:null};if(Ve=E.querySelector(vl(Z)))At.loading=5;else{l=w({rel:"stylesheet",href:l,"data-precedence":c},m),(m=M0.get(Z))&&y1(l,m);var Qt=Ve=E.createElement("link");me(Qt),Po(Qt,"link",l),Qt._p=new Promise(function(An,Kn){Qt.onload=An,Qt.onerror=Kn}),Qt.addEventListener("load",function(){At.loading|=1}),Qt.addEventListener("error",function(){At.loading|=2}),At.loading|=4,fc(Ve,c,E)}Ve={type:"stylesheet",instance:Ve,count:1,state:At},U.set(Z,Ve)}}}function o8(l,c){aa.X(l,c);var m=g1;if(m&&l){var E=Q(m).hoistableScripts,U=ua(l),Z=E.get(U);Z||(Z=m.querySelector(hc(U)),Z||(l=w({src:l,async:!0},c),(c=M0.get(U))&&I2(l,c),Z=m.createElement("script"),me(Z),Po(Z,"link",l),m.head.appendChild(Z)),Z={type:"script",instance:Z,count:1,state:null},E.set(U,Z))}}function Xo(l,c){aa.M(l,c);var m=g1;if(m&&l){var E=Q(m).hoistableScripts,U=ua(l),Z=E.get(U);Z||(Z=m.querySelector(hc(U)),Z||(l=w({src:l,async:!0,type:"module"},c),(c=M0.get(U))&&I2(l,c),Z=m.createElement("script"),me(Z),Po(Z,"link",l),m.head.appendChild(Z)),Z={type:"script",instance:Z,count:1,state:null},E.set(U,Z))}}function b1(l,c,m,E){var U=(U=et.current)?Cu(U):null;if(!U)throw Error(i(446));switch(l){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=k0(m.href),m=Q(U).hoistableStyles,E=m.get(c),E||(E={type:"style",instance:null,count:0,state:null},m.set(c,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){l=k0(m.href);var Z=Q(U).hoistableStyles,Ve=Z.get(l);if(Ve||(U=U.ownerDocument||U,Ve={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Z.set(l,Ve),(Z=U.querySelector(vl(l)))&&!Z._p&&(Ve.instance=Z,Ve.state.loading=5),M0.has(l)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},M0.set(l,m),Z||l8(U,l,m,Ve.state))),c&&E===null)throw Error(i(528,""));return Ve}if(c&&E!==null)throw Error(i(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=ua(m),m=Q(U).hoistableScripts,E=m.get(c),E||(E={type:"script",instance:null,count:0,state:null},m.set(c,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,l))}}function k0(l){return'href="'+ei(l)+'"'}function vl(l){return'link[rel="stylesheet"]['+l+"]"}function j0(l){return w({},l,{"data-precedence":l.precedence,precedence:null})}function l8(l,c,m,E){l.querySelector('link[rel="preload"][as="style"]['+c+"]")?E.loading=1:(c=l.createElement("link"),E.preload=c,c.addEventListener("load",function(){return E.loading|=1}),c.addEventListener("error",function(){return E.loading|=2}),Po(c,"link",m),me(c),l.head.appendChild(c))}function ua(l){return'[src="'+ei(l)+'"]'}function hc(l){return"script[async]"+l}function N2(l,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var E=l.querySelector('style[data-href~="'+ei(m.href)+'"]');if(E)return c.instance=E,me(E),E;var U=w({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return E=(l.ownerDocument||l).createElement("style"),me(E),Po(E,"style",U),fc(E,m.precedence,l),c.instance=E;case"stylesheet":U=k0(m.href);var Z=l.querySelector(vl(U));if(Z)return c.state.loading|=4,c.instance=Z,me(Z),Z;E=j0(m),(U=M0.get(U))&&y1(E,U),Z=(l.ownerDocument||l).createElement("link"),me(Z);var Ve=Z;return Ve._p=new Promise(function(At,Qt){Ve.onload=At,Ve.onerror=Qt}),Po(Z,"link",E),c.state.loading|=4,fc(Z,m.precedence,l),c.instance=Z;case"script":return Z=ua(m.src),(U=l.querySelector(hc(Z)))?(c.instance=U,me(U),U):(E=m,(U=M0.get(Z))&&(E=w({},m),I2(E,U)),l=l.ownerDocument||l,U=l.createElement("script"),me(U),Po(U,"link",E),l.head.appendChild(U),c.instance=U);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(E=c.instance,c.state.loading|=4,fc(E,m.precedence,l));return c.instance}function fc(l,c,m){for(var E=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),U=E.length?E[E.length-1]:null,Z=U,Ve=0;Ve<E.length;Ve++){var At=E[Ve];if(At.dataset.precedence===c)Z=At;else if(Z!==U)break}Z?Z.parentNode.insertBefore(l,Z.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(l,c.firstChild))}function y1(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.title==null&&(l.title=c.title)}function I2(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.integrity==null&&(l.integrity=c.integrity)}var Gh=null;function E5(l,c,m){if(Gh===null){var E=new Map,U=Gh=new Map;U.set(m,E)}else U=Gh,E=U.get(m),E||(E=new Map,U.set(m,E));if(E.has(l))return E;for(E.set(l,null),m=m.getElementsByTagName(l),U=0;U<m.length;U++){var Z=m[U];if(!(Z[$e]||Z[W]||l==="link"&&Z.getAttribute("rel")==="stylesheet")&&Z.namespaceURI!=="http://www.w3.org/2000/svg"){var Ve=Z.getAttribute(c)||"";Ve=l+Ve;var At=E.get(Ve);At?At.push(Z):E.set(Ve,[Z])}}return E}function S3(l,c,m){l=l.ownerDocument||l,l.head.insertBefore(m,c==="title"?l.querySelector("head > title"):null)}function Va(l,c,m){if(m===1||c.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return l=c.disabled,typeof c.precedence=="string"&&l==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function Ss(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function a8(l,c,m,E){if(m.type==="stylesheet"&&(typeof E.media!="string"||matchMedia(E.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var U=k0(E.href),Z=c.querySelector(vl(U));if(Z){c=Z._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(l.count++,l=L2.bind(l),c.then(l,l)),m.state.loading|=4,m.instance=Z,me(Z);return}Z=c.ownerDocument||c,E=j0(E),(U=M0.get(U))&&y1(E,U),Z=Z.createElement("link"),me(Z);var Ve=Z;Ve._p=new Promise(function(At,Qt){Ve.onload=At,Ve.onerror=Qt}),Po(Z,"link",E),m.instance=Z}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(l.count++,m=L2.bind(l),c.addEventListener("load",m),c.addEventListener("error",m))}}var O2=0;function R2(l,c){return l.stylesheets&&l.count===0&&Yo(l,l.stylesheets),0<l.count||0<l.imgCount?function(m){var E=setTimeout(function(){if(l.stylesheets&&Yo(l,l.stylesheets),l.unsuspend){var Z=l.unsuspend;l.unsuspend=null,Z()}},6e4+c);0<l.imgBytes&&O2===0&&(O2=62500*i8());var U=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Yo(l,l.stylesheets),l.unsuspend)){var Z=l.unsuspend;l.unsuspend=null,Z()}},(l.imgBytes>O2?50:800)+c);return l.unsuspend=m,function(){l.unsuspend=null,clearTimeout(E),clearTimeout(U)}}:null}function L2(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yo(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var qh=null;function Yo(l,c){l.stylesheets=null,l.unsuspend!==null&&(l.count++,qh=new Map,c.forEach(u8,l),qh=null,L2.call(l))}function u8(l,c){if(!(c.state.loading&4)){var m=qh.get(l);if(m)var E=m.get(null);else{m=new Map,qh.set(l,m);for(var U=l.querySelectorAll("link[data-precedence],style[data-precedence]"),Z=0;Z<U.length;Z++){var Ve=U[Z];(Ve.nodeName==="LINK"||Ve.getAttribute("media")!=="not all")&&(m.set(Ve.dataset.precedence,Ve),E=Ve)}E&&m.set(null,E)}U=c.instance,Ve=U.getAttribute("data-precedence"),Z=m.get(Ve)||E,Z===E&&m.set(null,U),m.set(Ve,U),this.count++,E=L2.bind(this),U.addEventListener("load",E),U.addEventListener("error",E),Z?Z.parentNode.insertBefore(U,Z.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(U,l.firstChild)),c.state.loading|=4}}var D2={$$typeof:te,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function x3(l,c,m,E,U,Z,Ve,At,Qt){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pn(0),this.hiddenUpdates=pn(null),this.identifierPrefix=E,this.onUncaughtError=U,this.onCaughtError=Z,this.onRecoverableError=Ve,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Qt,this.incompleteTransitions=new Map}function S5(l,c,m,E,U,Z,Ve,At,Qt,An,Kn,rr){return l=new x3(l,c,m,Ve,Qt,An,Kn,rr,At),c=1,Z===!0&&(c|=24),Z=zo(3,null,null,c),l.current=Z,Z.stateNode=l,c=Yc(),c.refCount++,l.pooledCache=c,c.refCount++,Z.memoizedState={element:E,isDehydrated:m,cache:c},ms(Z),l}function c8(l){return l?(l=R0,l):R0}function x5(l,c,m,E,U,Z){U=c8(U),E.context===null?E.context=U:E.pendingContext=U,E=Os(c),E.payload={element:m},Z=Z===void 0?null:Z,Z!==null&&(E.callback=Z),m=zs(l,E,c),m!==null&&(Wo(m,l,c),Ti(m,l,c))}function h8(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<c?m:c}}function C5(l,c){h8(l,c),(l=l.alternate)&&h8(l,c)}function M5(l){if(l.tag===13||l.tag===31){var c=y0(l,67108864);c!==null&&Wo(c,l,67108864),C5(l,67108864)}}function k5(l){if(l.tag===13||l.tag===31){var c=qo();c=Te(c);var m=y0(l,c);m!==null&&Wo(m,l,c),C5(l,c)}}var B2=!0;function A5(l,c,m,E){var U=J.T;J.T=null;var Z=fe.p;try{fe.p=2,C3(l,c,m,E)}finally{fe.p=Z,J.T=U}}function f8(l,c,m,E){var U=J.T;J.T=null;var Z=fe.p;try{fe.p=8,C3(l,c,m,E)}finally{fe.p=Z,J.T=U}}function C3(l,c,m,E){if(B2){var U=$l(E);if(U===null)xu(l,c,E,M3,m),O5(l,E);else if(Xf(U,l,c,m,E))E.stopPropagation();else if(O5(l,E),c&4&&-1<k3.indexOf(l)){for(;U!==null;){var Z=p(U);if(Z!==null)switch(Z.tag){case 3:if(Z=Z.stateNode,Z.current.memoizedState.isDehydrated){var Ve=we(Z.pendingLanes);if(Ve!==0){var At=Z;for(At.pendingLanes|=2,At.entangledLanes|=2;Ve;){var Qt=1<<31-Fe(Ve);At.entanglements[1]|=Qt,Ve&=~Qt}oa(Z),(rs&6)===0&&(kh=rt()+500,S2(0))}}break;case 31:case 13:At=y0(Z,2),At!==null&&Wo(At,Z,2),Ih(),C5(Z,2)}if(Z=$l(E),Z===null&&xu(l,c,E,M3,m),Z===U)break;U=Z}U!==null&&E.stopPropagation()}else xu(l,c,E,null,m)}}function $l(l){return l=Nt(l),N5(l)}var M3=null;function N5(l){if(M3=null,l=Ue(l),l!==null){var c=h(l);if(c===null)l=null;else{var m=c.tag;if(m===13){if(l=f(c),l!==null)return l;l=null}else if(m===31){if(l=g(c),l!==null)return l;l=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null)}}return M3=l,null}function I5(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(P()){case Re:return 2;case ke:return 8;case ht:case Mt:return 32;case Ot:return 268435456;default:return 32}default:return 32}}var Wh=!1,Mu=null,Ga=null,bl=null,P2=new Map,dc=new Map,ku=[],k3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O5(l,c){switch(l){case"focusin":case"focusout":Mu=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":bl=null;break;case"pointerover":case"pointerout":P2.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(c.pointerId)}}function jh(l,c,m,E,U,Z){return l===null||l.nativeEvent!==Z?(l={blockedOn:c,domEventName:m,eventSystemFlags:E,nativeEvent:Z,targetContainers:[U]},c!==null&&(c=p(c),c!==null&&M5(c)),l):(l.eventSystemFlags|=E,c=l.targetContainers,U!==null&&c.indexOf(U)===-1&&c.push(U),l)}function Xf(l,c,m,E,U){switch(c){case"focusin":return Mu=jh(Mu,l,c,m,E,U),!0;case"dragenter":return Ga=jh(Ga,l,c,m,E,U),!0;case"mouseover":return bl=jh(bl,l,c,m,E,U),!0;case"pointerover":var Z=U.pointerId;return P2.set(Z,jh(P2.get(Z)||null,l,c,m,E,U)),!0;case"gotpointercapture":return Z=U.pointerId,dc.set(Z,jh(dc.get(Z)||null,l,c,m,E,U)),!0}return!1}function Xh(l){var c=Ue(l.target);if(c!==null){var m=h(c);if(m!==null){if(c=m.tag,c===13){if(c=f(m),c!==null){l.blockedOn=c,ie(l.priority,function(){k5(m)});return}}else if(c===31){if(c=g(m),c!==null){l.blockedOn=c,ie(l.priority,function(){k5(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function F2(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var m=$l(l.nativeEvent);if(m===null){m=l.nativeEvent;var E=new m.constructor(m.type,m);it=E,m.target.dispatchEvent(E),it=null}else return c=p(m),c!==null&&M5(c),l.blockedOn=m,!1;c.shift()}return!0}function d8(l,c,m){F2(l)&&m.delete(c)}function p8(){Wh=!1,Mu!==null&&F2(Mu)&&(Mu=null),Ga!==null&&F2(Ga)&&(Ga=null),bl!==null&&F2(bl)&&(bl=null),P2.forEach(d8),dc.forEach(d8)}function U2(l,c){l.blockedOn===c&&(l.blockedOn=null,Wh||(Wh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,p8)))}var z2=null;function Au(l){z2!==l&&(z2=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){z2===l&&(z2=null);for(var c=0;c<l.length;c+=3){var m=l[c],E=l[c+1],U=l[c+2];if(typeof E!="function"){if(N5(E||m)===null)continue;break}var Z=p(m);Z!==null&&(l.splice(c,3),c-=3,In(Z,{pending:!0,data:U,method:m.method,action:E},E,U))}}))}function _1(l){function c(Qt){return U2(Qt,l)}Mu!==null&&U2(Mu,l),Ga!==null&&U2(Ga,l),bl!==null&&U2(bl,l),P2.forEach(c),dc.forEach(c);for(var m=0;m<ku.length;m++){var E=ku[m];E.blockedOn===l&&(E.blockedOn=null)}for(;0<ku.length&&(m=ku[0],m.blockedOn===null);)Xh(m),m.blockedOn===null&&ku.shift();if(m=(l.ownerDocument||l).$$reactFormReplay,m!=null)for(E=0;E<m.length;E+=3){var U=m[E],Z=m[E+1],Ve=U[ae]||null;if(typeof Z=="function")Ve||Au(m);else if(Ve){var At=null;if(Z&&Z.hasAttribute("formAction")){if(U=Z,Ve=Z[ae]||null)At=Ve.formAction;else if(N5(U)!==null)continue}else At=Ve.action;typeof At=="function"?m[E+1]=At:(m.splice(E,3),E-=3),Au(m)}}}function Yh(){function l(Z){Z.canIntercept&&Z.info==="react-transition"&&Z.intercept({handler:function(){return new Promise(function(Ve){return U=Ve})},focusReset:"manual",scroll:"manual"})}function c(){U!==null&&(U(),U=null),E||setTimeout(m,20)}function m(){if(!E&&!navigation.transition){var Z=navigation.currentEntry;Z&&Z.url!=null&&navigation.navigate(Z.url,{state:Z.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var E=!1,U=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){E=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),U!==null&&(U(),U=null)}}}function Ko(l){this._internalRoot=l}A3.prototype.render=Ko.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(i(409));var m=c.current,E=qo();x5(m,E,l,c,null,null)},A3.prototype.unmount=Ko.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;x5(l.current,2,null,l,null,null),Ih(),c[q]=null}};function A3(l){this._internalRoot=l}A3.prototype.unstable_scheduleHydration=function(l){if(l){var c=F();l={blockedOn:null,target:l,priority:c};for(var m=0;m<ku.length&&c!==0&&c<ku[m].priority;m++);ku.splice(m,0,l),m===0&&Xh(l)}};var rn=s.version;if(rn!=="19.2.0")throw Error(i(527,rn,"19.2.0"));fe.findDOMNode=function(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(i(188)):(l=Object.keys(l).join(","),Error(i(268,l)));return l=$(c),l=l!==null?T(l):null,l=l===null?null:l.stateNode,l};var qa={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Y=pc.inject(qa),Ee=pc}catch{}}return z5.createRoot=function(l,c){if(!u(l))throw Error(i(299));var m=!1,E="",U=H6,Z=X7,Ve=V6;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onUncaughtError!==void 0&&(U=c.onUncaughtError),c.onCaughtError!==void 0&&(Z=c.onCaughtError),c.onRecoverableError!==void 0&&(Ve=c.onRecoverableError)),c=S5(l,1,!1,null,null,m,E,null,U,Z,Ve,Yh),l[q]=c.current,$3(l),new Ko(c)},z5.hydrateRoot=function(l,c,m){if(!u(l))throw Error(i(299));var E=!1,U="",Z=H6,Ve=X7,At=V6,Qt=null;return m!=null&&(m.unstable_strictMode===!0&&(E=!0),m.identifierPrefix!==void 0&&(U=m.identifierPrefix),m.onUncaughtError!==void 0&&(Z=m.onUncaughtError),m.onCaughtError!==void 0&&(Ve=m.onCaughtError),m.onRecoverableError!==void 0&&(At=m.onRecoverableError),m.formState!==void 0&&(Qt=m.formState)),c=S5(l,1,!0,c,m??null,E,U,Qt,Z,Ve,At,Yh),c.context=c8(null),m=c.current,E=qo(),E=Te(E),U=Os(E),U.callback=null,zs(m,U,E),m=E,c.current.lanes=m,sr(c,m),oa(c),l[q]=c.current,$3(l),new A3(c)},z5.version="19.2.0",z5}var Eb;function Yk(){if(Eb)return Cd.exports;Eb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),Cd.exports=Xk(),Cd.exports}var Kk=Yk();const Jk=Pl(Kk);var Nd={exports:{}},Sb;function Zk(){return Sb||(Sb=1,(function(t){var s=(function(){var r=String.fromCharCode,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",h={};function f(y,$){if(!h[y]){h[y]={};for(var T=0;T<y.length;T++)h[y][y.charAt(T)]=T}return h[y][$]}var g={compressToBase64:function(y){if(y==null)return"";var $=g._compress(y,6,function(T){return i.charAt(T)});switch($.length%4){default:case 0:return $;case 1:return $+"===";case 2:return $+"==";case 3:return $+"="}},decompressFromBase64:function(y){return y==null?"":y==""?null:g._decompress(y.length,32,function($){return f(i,y.charAt($))})},compressToUTF16:function(y){return y==null?"":g._compress(y,15,function($){return r($+32)})+" "},decompressFromUTF16:function(y){return y==null?"":y==""?null:g._decompress(y.length,16384,function($){return y.charCodeAt($)-32})},compressToUint8Array:function(y){for(var $=g.compress(y),T=new Uint8Array($.length*2),w=0,I=$.length;w<I;w++){var A=$.charCodeAt(w);T[w*2]=A>>>8,T[w*2+1]=A%256}return T},decompressFromUint8Array:function(y){if(y==null)return g.decompress(y);for(var $=new Array(y.length/2),T=0,w=$.length;T<w;T++)$[T]=y[T*2]*256+y[T*2+1];var I=[];return $.forEach(function(A){I.push(r(A))}),g.decompress(I.join(""))},compressToEncodedURIComponent:function(y){return y==null?"":g._compress(y,6,function($){return u.charAt($)})},decompressFromEncodedURIComponent:function(y){return y==null?"":y==""?null:(y=y.replace(/ /g,"+"),g._decompress(y.length,32,function($){return f(u,y.charAt($))}))},compress:function(y){return g._compress(y,16,function($){return r($)})},_compress:function(y,$,T){if(y==null)return"";var w,I,A={},K={},ne="",he="",V="",le=2,te=3,Ce=2,Oe=[],ce=0,Be=0,je;for(je=0;je<y.length;je+=1)if(ne=y.charAt(je),Object.prototype.hasOwnProperty.call(A,ne)||(A[ne]=te++,K[ne]=!0),he=V+ne,Object.prototype.hasOwnProperty.call(A,he))V=he;else{if(Object.prototype.hasOwnProperty.call(K,V)){if(V.charCodeAt(0)<256){for(w=0;w<Ce;w++)ce=ce<<1,Be==$-1?(Be=0,Oe.push(T(ce)),ce=0):Be++;for(I=V.charCodeAt(0),w=0;w<8;w++)ce=ce<<1|I&1,Be==$-1?(Be=0,Oe.push(T(ce)),ce=0):Be++,I=I>>1}else{for(I=1,w=0;w<Ce;w++)ce=ce<<1|I,Be==$-1?(Be=0,Oe.push(T(ce)),ce=0):Be++,I=0;for(I=V.charCodeAt(0),w=0;w<16;w++)ce=ce<<1|I&1,Be==$-1?(Be=0,Oe.push(T(ce)),ce=0):Be++,I=I>>1}le--,le==0&&(le=Math.pow(2,Ce),Ce++),delete K[V]}else for(I=A[V],w=0;w<Ce;w++)ce=ce<<1|I&1,Be==$-1?(Be=0,Oe.push(T(ce)),ce=0):Be++,I=I>>1;le--,le==0&&(le=Math.pow(2,Ce),Ce++),A[he]=te++,V=String(ne)}if(V!==""){if(Object.prototype.hasOwnProperty.call(K,V)){if(V.charCodeAt(0)<256){for(w=0;w<Ce;w++)ce=ce<<1,Be==$-1?(Be=0,Oe.push(T(ce)),ce=0):Be++;for(I=V.charCodeAt(0),w=0;w<8;w++)ce=ce<<1|I&1,Be==$-1?(Be=0,Oe.push(T(ce)),ce=0):Be++,I=I>>1}else{for(I=1,w=0;w<Ce;w++)ce=ce<<1|I,Be==$-1?(Be=0,Oe.push(T(ce)),ce=0):Be++,I=0;for(I=V.charCodeAt(0),w=0;w<16;w++)ce=ce<<1|I&1,Be==$-1?(Be=0,Oe.push(T(ce)),ce=0):Be++,I=I>>1}le--,le==0&&(le=Math.pow(2,Ce),Ce++),delete K[V]}else for(I=A[V],w=0;w<Ce;w++)ce=ce<<1|I&1,Be==$-1?(Be=0,Oe.push(T(ce)),ce=0):Be++,I=I>>1;le--,le==0&&(le=Math.pow(2,Ce),Ce++)}for(I=2,w=0;w<Ce;w++)ce=ce<<1|I&1,Be==$-1?(Be=0,Oe.push(T(ce)),ce=0):Be++,I=I>>1;for(;;)if(ce=ce<<1,Be==$-1){Oe.push(T(ce));break}else Be++;return Oe.join("")},decompress:function(y){return y==null?"":y==""?null:g._decompress(y.length,32768,function($){return y.charCodeAt($)})},_decompress:function(y,$,T){var w=[],I=4,A=4,K=3,ne="",he=[],V,le,te,Ce,Oe,ce,Be,je={val:T(0),position:$,index:1};for(V=0;V<3;V+=1)w[V]=V;for(te=0,Oe=Math.pow(2,2),ce=1;ce!=Oe;)Ce=je.val&je.position,je.position>>=1,je.position==0&&(je.position=$,je.val=T(je.index++)),te|=(Ce>0?1:0)*ce,ce<<=1;switch(te){case 0:for(te=0,Oe=Math.pow(2,8),ce=1;ce!=Oe;)Ce=je.val&je.position,je.position>>=1,je.position==0&&(je.position=$,je.val=T(je.index++)),te|=(Ce>0?1:0)*ce,ce<<=1;Be=r(te);break;case 1:for(te=0,Oe=Math.pow(2,16),ce=1;ce!=Oe;)Ce=je.val&je.position,je.position>>=1,je.position==0&&(je.position=$,je.val=T(je.index++)),te|=(Ce>0?1:0)*ce,ce<<=1;Be=r(te);break;case 2:return""}for(w[3]=Be,le=Be,he.push(Be);;){if(je.index>y)return"";for(te=0,Oe=Math.pow(2,K),ce=1;ce!=Oe;)Ce=je.val&je.position,je.position>>=1,je.position==0&&(je.position=$,je.val=T(je.index++)),te|=(Ce>0?1:0)*ce,ce<<=1;switch(Be=te){case 0:for(te=0,Oe=Math.pow(2,8),ce=1;ce!=Oe;)Ce=je.val&je.position,je.position>>=1,je.position==0&&(je.position=$,je.val=T(je.index++)),te|=(Ce>0?1:0)*ce,ce<<=1;w[A++]=r(te),Be=A-1,I--;break;case 1:for(te=0,Oe=Math.pow(2,16),ce=1;ce!=Oe;)Ce=je.val&je.position,je.position>>=1,je.position==0&&(je.position=$,je.val=T(je.index++)),te|=(Ce>0?1:0)*ce,ce<<=1;w[A++]=r(te),Be=A-1,I--;break;case 2:return he.join("")}if(I==0&&(I=Math.pow(2,K),K++),w[Be])ne=w[Be];else if(Be===A)ne=le+le.charAt(0);else return null;he.push(ne),w[A++]=le+ne.charAt(0),I--,le=ne,I==0&&(I=Math.pow(2,K),K++)}}};return g})();t!=null?t.exports=s:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return s})})(Nd)),Nd.exports}var Qk=Zk();const JT=Pl(Qk),Q0={defaultGrid:[[4,4,4,4,4,4,4,4],[4,2,1,1,1,1,3,4],[4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4]],THEME:{0:"",1:"",2:"",3:"",4:"",PLAYER:""},checkMove:(t,s,r)=>{if(!t||!t[r]||typeof t[r][s]>"u")return"WALL";const i=t[r][s];return i===4||i===0?"WALL":i===3?"WIN":"OK"},look:(t,s,r,i,u)=>{let h=i;u==="LEFT"?h=(i+3)%4:u==="RIGHT"&&(h=(i+1)%4);let f=s,g=r;return h===0?f++:h===1?g++:h===2?f--:h===3&&g--,Q0.checkMove(t,f,g)!=="WALL"},resizeGrid:(t,s,r)=>{const i=[];for(let u=0;u<s;u++){const h=[];for(let f=0;f<r;f++)t[u]&&t[u][f]!==void 0?h.push(t[u][f]):h.push(4);i.push(h)}return i}};function eA({levelData:t,onUpdate:s}){const[r,i]=br.useState(4),u=t.startPos||{x:1,y:1,dir:1},h=t.grid||Q0.defaultGrid,f=h.length,g=h[0]?.length||0,y=[{id:1,label:"Chemin",icon:""},{id:4,label:"Mur",icon:""},{id:3,label:"Arrive",icon:""}],$=(A,K)=>{const ne=Math.max(3,Math.min(50,A)),he=Math.max(3,Math.min(50,K));if(ne===f&&he===g)return;const V=Q0.resizeGrid(h,ne,he);s({...t,grid:V})},T=(A,K)=>{const ne=h.map(he=>[...he]);if(r===2){for(let he=0;he<ne.length;he++)for(let V=0;V<ne[he].length;V++)ne[he][V]===2&&(ne[he][V]=1);ne[A][K]=2,s({...t,grid:ne,startPos:{...u,x:K,y:A}})}else ne[A][K]=r,s({...t,grid:ne})},w=A=>{s({...t,startPos:{...u,dir:parseInt(A)}})},I=u.dir*90+90;return mt.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[mt.jsxs("div",{className:"bg-white border-b border-slate-200 px-4 py-3 shadow-sm z-10 flex flex-wrap items-center justify-between gap-4",children:[mt.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[mt.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 p-1.5 rounded-lg border border-slate-200",children:[mt.jsx("span",{className:"text-xs font-bold text-slate-400 px-1",children:"DIM"}),mt.jsx("input",{type:"number",min:"3",max:"50",value:g,onChange:A=>$(f,parseInt(A.target.value)||3),className:"w-12 text-center text-sm font-bold bg-white border border-slate-300 rounded focus:ring-2 focus:ring-blue-500 outline-none"}),mt.jsx("span",{className:"text-slate-400 font-bold",children:""}),mt.jsx("input",{type:"number",min:"3",max:"50",value:f,onChange:A=>$(parseInt(A.target.value)||3,g),className:"w-12 text-center text-sm font-bold bg-white border border-slate-300 rounded focus:ring-2 focus:ring-blue-500 outline-none"})]}),mt.jsxs("div",{className:"flex items-center gap-3 bg-slate-100 p-1.5 rounded-lg border border-slate-200",children:[mt.jsx("span",{className:"text-xs font-bold text-slate-400 px-1",children:"DIR"}),mt.jsx("input",{type:"range",min:"0",max:"3",step:"1",value:u.dir,onChange:A=>w(A.target.value),className:"w-20 cursor-pointer accent-blue-600"}),mt.jsx("span",{className:"text-xl transition-transform duration-300",style:{transform:`rotate(${I}deg)`},children:""})]})]}),mt.jsxs("div",{className:"flex flex-wrap gap-2",children:[mt.jsx("button",{onClick:()=>i(2),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-bold transition-all border whitespace-nowrap
                    ${r===2?"bg-emerald-100 text-emerald-700 border-emerald-300 shadow-sm":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:" Dpart"}),y.map(A=>mt.jsxs("button",{onClick:()=>i(A.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-bold transition-all border whitespace-nowrap
                        ${r===A.id?"bg-blue-100 text-blue-700 border-blue-300 shadow-sm":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:[mt.jsx("span",{children:A.icon})," ",A.label]},A.id))]})]}),mt.jsx("div",{className:"flex-1 overflow-auto bg-slate-200/50 relative checkerboard-bg",children:mt.jsx("div",{className:"min-h-full min-w-full flex items-center justify-center p-8",children:mt.jsx("div",{className:"shadow-2xl border-4 border-slate-700 bg-slate-800",style:{display:"grid",gridTemplateColumns:`repeat(${g}, 1fr)`,gap:"1px",width:"fit-content",maxWidth:"100%"},children:h.map((A,K)=>A.map((ne,he)=>{const V=ne===2,le="40px";return mt.jsxs("div",{onClick:()=>T(K,he),style:{width:le,height:le},className:`relative flex items-center justify-center cursor-pointer transition-colors duration-100
                                    ${ne===4?"bg-slate-700 hover:bg-slate-600":ne===2?"bg-emerald-400":"bg-white hover:bg-blue-50"}
                                `,children:[mt.jsx("span",{style:{fontSize:"20px",opacity:V?.3:1,userSelect:"none"},children:ne===2?"":Q0.THEME[ne]}),V&&mt.jsx("div",{style:{position:"absolute",transform:`rotate(${I}deg)`,fontSize:"20px",transition:"transform 0.2s",pointerEvents:"none"},children:Q0.THEME.PLAYER})]},`${K}-${he}`)}))})})}),mt.jsx("style",{children:`
        .checkerboard-bg {
            background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
            background-size: 20px 20px;
        }
      `})]})}function tA({levelData:t,onUpdate:s}){const[r,i]=br.useState(""),[u,h]=br.useState(0),f=t.inputs||{},g=t.hiddenVars||[],y=t.lockedVars||[],$=t.targets||{};br.useEffect(()=>{const V=Object.keys(f),te=Object.keys($).filter(Ce=>!V.includes(Ce));if(te.length>0){console.log(" Nettoyage cibles orphelines :",te);const Ce={...$};te.forEach(Oe=>delete Ce[Oe]),s({...t,targets:Ce})}},[f,$]);const T=V=>{if(typeof V=="string"){const le=V.trim();if(le.startsWith("[")&&le.endsWith("]"))try{return JSON.parse(le)}catch{return V}if(le.startsWith("@")||le===""||le.endsWith(".")||le.endsWith(","))return V;const te=Number(le.replace(",","."));if(!isNaN(te))return te}return V},w=()=>{if(!r)return;const V={...f,[r]:T(u)};s({...t,inputs:V}),i(""),h(0)},I=V=>{const le={...f};delete le[V];const te=g.filter(ce=>ce!==V),Ce=y.filter(ce=>ce!==V),Oe={...$};delete Oe[V],s({...t,inputs:le,hiddenVars:te,lockedVars:Ce,targets:Oe})},A=V=>{let le=[...g],te=[...y];const Ce=g.includes(V),Oe=y.includes(V);!Ce&&!Oe?te.push(V):Oe?(te=te.filter(ce=>ce!==V),le.push(V)):le=le.filter(ce=>ce!==V),s({...t,hiddenVars:le,lockedVars:te})},K=(V,le)=>{const te={...f,[V]:T(le)};s({...t,inputs:te})},ne=V=>{const le={...$};le[V]!==void 0?delete le[V]:le[V]=f[V],s({...t,targets:le})},he=(V,le)=>{const te={...$,[V]:T(le)};s({...t,targets:te})};return mt.jsxs("div",{style:{padding:"15px",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #ddd"},children:[mt.jsx("h4",{style:{marginTop:0,color:"#2c3e50"},children:" Configuration Labo"}),mt.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[mt.jsxs("div",{children:[mt.jsx("h5",{style:{margin:"0 0 10px 0",borderBottom:"1px solid #eee"},children:"1. Variables (Mmoire)"}),mt.jsxs("div",{style:{display:"flex",gap:"5px",marginBottom:"10px"},children:[mt.jsx("input",{type:"text",placeholder:"Nom (x)",value:r,onChange:V=>i(V.target.value),style:{flex:1,padding:"5px",width:"50px"}}),mt.jsx("input",{type:"text",placeholder:"Val (0)",value:u,onChange:V=>h(V.target.value),style:{flex:1,padding:"5px",width:"50px"}}),mt.jsx("button",{onClick:w,style:{cursor:"pointer",background:"#27ae60",color:"white",border:"none",borderRadius:"4px",padding:"0 10px"},children:"ok"})]}),Object.entries(f).map(([V,le])=>{const te=g.includes(V),Ce=y.includes(V);let Oe="",ce="white";Ce&&(Oe="",ce="#fff3cd"),te&&(Oe="",ce="#eee");const Be=typeof le=="object"?JSON.stringify(le):le;return mt.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",marginBottom:"5px",background:ce,padding:"5px",borderRadius:"4px",border:"1px solid #ccc"},children:[mt.jsx("button",{onClick:()=>A(V),style:{border:"none",background:"none",cursor:"pointer"},children:Oe}),mt.jsx("span",{style:{fontWeight:"bold",width:"30px"},children:V}),mt.jsx("span",{style:{color:"#888"},children:"="}),mt.jsx("input",{type:"text",value:Be,onChange:je=>K(V,je.target.value),style:{flex:1,border:"1px solid #ddd",borderRadius:"3px",padding:"2px"}}),mt.jsx("button",{onClick:()=>I(V),style:{color:"#e74c3c",border:"none",background:"none",cursor:"pointer"},children:""})]},V)})]}),mt.jsxs("div",{children:[mt.jsx("h5",{style:{margin:"0 0 10px 0",borderBottom:"1px solid #eee"},children:"2. Objectifs (Fin)"}),Object.keys(f).map(V=>{const le=$[V]!==void 0,te=$[V],Ce=typeof te=="object"?JSON.stringify(te):te??"";return mt.jsxs("div",{style:{marginBottom:"5px",display:"flex",alignItems:"center",opacity:le?1:.5},children:[mt.jsx("input",{type:"checkbox",checked:le,onChange:()=>ne(V),style:{marginRight:"8px"}}),mt.jsx("span",{style:{fontWeight:"bold",width:"30px"},children:V}),le&&mt.jsxs(mt.Fragment,{children:[mt.jsx("span",{style:{marginRight:"5px"},children:"="}),mt.jsx("input",{type:"text",value:Ce,onChange:Oe=>he(V,Oe.target.value),style:{width:"80px",padding:"2px",borderColor:"#27ae60",borderStyle:"solid",borderWidth:"1px",borderRadius:"3px"}})]})]},V)})]})]})]})}const _c=300;function nA({levelData:t,onUpdate:s}){const r=t.startPos?.x??0,i=t.startPos?.y??0,u=t.startPos?.dir??0,h=($,T)=>{let w=parseInt(T)||0;$==="dir"&&w===360&&(w=0);const I={x:r,y:i,dir:u,...t.startPos,[$]:w};s({...t,startPos:I})},f=$=>_c/2+$,g=$=>_c/2-$,y=u;return mt.jsx("div",{className:"h-full w-full bg-slate-50 overflow-y-auto custom-scrollbar relative",children:mt.jsxs("div",{className:"min-h-full flex flex-col lg:flex-row items-center justify-center p-8 gap-8 lg:gap-12",children:[mt.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden shrink-0 transition-all hover:shadow-2xl",style:{width:_c,height:_c},children:[mt.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0 opacity-20 pointer-events-none",children:[mt.jsx("defs",{children:mt.jsx("pattern",{id:"gridSmallTurtle",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:mt.jsx("path",{d:"M 50 0 L 0 0 0 50",fill:"none",stroke:"#94a3b8",strokeWidth:"1"})})}),mt.jsx("rect",{width:"100%",height:"100%",fill:"url(#gridSmallTurtle)"}),mt.jsx("line",{x1:_c/2,y1:"0",x2:_c/2,y2:_c,stroke:"#ef4444",strokeWidth:"1",strokeDasharray:"4 4"}),mt.jsx("line",{x1:"0",y1:_c/2,x2:_c,y2:_c/2,stroke:"#ef4444",strokeWidth:"1",strokeDasharray:"4 4"})]}),mt.jsx("div",{className:"absolute w-10 h-10 -ml-5 -mt-5 transition-transform duration-200 ease-out flex items-center justify-center",style:{left:f(r),top:g(i),transform:`rotate(${y}deg)`},children:mt.jsxs("svg",{viewBox:"0 0 40 40",fill:"none",className:"w-full h-full drop-shadow-md",children:[mt.jsx("circle",{cx:"20",cy:"20",r:"12",stroke:"#334155",strokeWidth:"3",fill:"rgba(255,255,255,0.9)"}),mt.jsx("path",{d:"M 34 20 L 26 15 L 26 25 Z",fill:"#334155"})]})})]}),mt.jsxs("div",{className:"w-full max-w-sm bg-white p-6 rounded-2xl border border-slate-200 shadow-md shrink-0",children:[mt.jsxs("h4",{className:"text-sm font-extrabold text-slate-600 uppercase tracking-widest mb-6 text-center flex items-center justify-center gap-2",children:[mt.jsx("span",{children:""})," Position de dpart"]}),mt.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[mt.jsxs("div",{className:"flex flex-col",children:[mt.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 ml-1",children:"Horizontal (X)"}),mt.jsx("input",{type:"number",value:r,onChange:$=>h("x",$.target.value),className:"w-full text-center font-mono text-lg bg-slate-50 border border-slate-200 rounded-lg py-2 focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all outline-none"})]}),mt.jsxs("div",{className:"flex flex-col",children:[mt.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 ml-1",children:"Vertical (Y)"}),mt.jsx("input",{type:"number",value:i,onChange:$=>h("y",$.target.value),className:"w-full text-center font-mono text-lg bg-slate-50 border border-slate-200 rounded-lg py-2 focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all outline-none"})]})]}),mt.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[mt.jsxs("div",{className:"flex justify-between items-center mb-3",children:[mt.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Direction"}),mt.jsxs("span",{className:"text-xl font-bold text-blue-600 font-mono",children:[u,""]})]}),mt.jsx("input",{type:"range",min:"0",max:"270",step:"90",value:u>=360?0:u,onChange:$=>h("dir",$.target.value),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600 mb-2"}),mt.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400",children:[mt.jsx("span",{children:"Est"}),mt.jsx("span",{children:"Sud"}),mt.jsx("span",{children:"Ouest"}),mt.jsx("span",{children:"Nord"})]})]})]})]})})}var Z8={exports:{}},rA=Z8.exports,xb;function r4(){return xb||(xb=1,(function(t){var s=(function(r){var i="1.1.13",u=new Pn,h=r.bigInt,f=r.bigDec;f.set({precision:250});var g={},y=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083],$={},T={callPeekers:!1,init_primes:1e3,exclude:[],suppress_errors:!1,PARSE2NUMBER:!1,SAFE:!1,IMAGINARY:"i",FUNCTION_MODULES:[Math],ALLOW_CHARS:[""],USE_MULTICHARACTER_VARS:!0,POWER_OPERATOR:"^",VALIDATION_REGEX:/^[a-z_ABEZHIKMNoOPTX][0-9a-z_ABEZHIKMNoOPTX]*$/i,IMPLIED_MULTIPLICATION_REGEX:/([\+\-\/\*]*[0-9]+)([a-z_ABEZHIKMNoOPTX]+[\+\-\/\*]*)/gi,ALIASES:{:"pi","":"Infinity"},POSITIVE_MULTIPLIERS:!1,CACHE:{},SILENCE_WARNINGS:!1,PRECISION:21,EXPRESSION_DECP:19,DEFAULT_DECP:16,VECTOR:"vector",PARENTHESIS:"parens",SQRT:"sqrt",ABS:"abs",FACTORIAL:"factorial",DOUBLEFACTORIAL:"dfactorial",LONG_PI:"3.14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196",LONG_E:"2.71828182845904523536028747135266249775724709369995957496696762772407663035354759457138217852516642742746639193200305992181741359662904357290033429526059563073813232862794349076323382988075319525101901",PI:Math.PI,E:Math.E,LOG:"log",LOG10:"log10",LOG10_LATEX:"log_{10}",MAX_EXP:2e5,SCIENTIFIC_MAX_DECIMAL_PLACES:14,SCIENTIFIC_IGNORE_ZERO_EXPONENTS:!0};(function(){T.CACHE.roots={};for(var v=40,H=40,ue=2;ue<=v;ue++)for(var Se=2;Se<=H;Se++){var Xe=h(ue).pow(Se);T.CACHE.roots[Xe+"-"+Se]=ue}})();var w=g.N=1,I=g.P=2,A=g.S=3,K=g.EX=4,ne=g.FN=5,he=g.PL=6,V=g.CB=7,le=g.CP=8,te=T.CONST_HASH="#",Ce=T.PARENTHESIS,Oe=T.SQRT,ce=T.ABS,Be=T.FACTORIAL,je=T.DOUBLEFACTORIAL,_e=[],b={},O=[],N=[],R=function(v,H){if(!T.suppress_errors)throw H?new H(v):new Error(v)},B=function(v){var H=function(ue){this.name=v,this.message=ue!==void 0?ue:"";var Se=new Error(this.message);Se.name=this.name,this.stack=Se.stack};return H.prototype=Object.create(Error.prototype),H},j=function(v){return O.indexOf(v)!==-1},J=function(v){for(var H=v[0],ue=1,Se=v.length;ue<Se;ue++)if(!v[ue].equals(H))return!1;return!0},fe=function(v){N.push(v),T.SHOW_WARNINGS&&console&&console.warn&&console.warn(v)},Ne=function(v,H){if(H=H||"variable",T.ALLOW_CHARS.indexOf(v)===-1){var ue=T.VALIDATION_REGEX;if(!ue.test(v))throw new p(v+" is not a valid "+H+" name")}},qe=function(v){var H=Math.sign(v);if(v=Math.abs(v),/\d+\.?\d*e[\+\-]*\d+/i.test(v)){var ue="0",Se=String(v).toLowerCase().split("e"),Xe=Se.pop(),pt=Math.abs(Xe),dt=Xe/pt,Ze=Se[0].split(".");if(dt===-1)pt=pt-Ze[0].length,pt<0?v=Ze[0].slice(0,pt)+"."+Ze[0].slice(pt)+(Ze.length===2?Ze[1]:""):v=ue+"."+new Array(pt+1).join(ue)+Ze.join("");else{var tn=Ze[1];tn&&(pt=pt-tn.length),pt<0?v=Ze[0]+tn.slice(0,pt)+"."+tn.slice(pt):v=Ze.join("")+new Array(pt+1).join(ue)}}return H<0?"-"+v:v},de=function(v){for(var H=Math.floor(Math.sqrt(v)),ue=2;ue<=H;ue++)if(v%ue===0)return!1;return!0},xe=function(v,H){var ue={};return ue[v]=H,ue},gt=function(v){return/^\d+\.?\d*$/.test(v)},ze=function(v){for(var H=0;H<v.length;H++)if(!gt(v[H]))return!1;return!0},Ft=function(v){return Ge(v)?Ft(v.multiplier.toDecimal()):v%1!==0},Ge=function(v){return v instanceof Ke},et=function(v){return v instanceof fn},Ct=function(v,H,ue){if(ue=ue||{c:[],add:function(Ze){this.c.indexOf(Ze)===-1&&isNaN(Ze)&&this.c.push(Ze)}},Ge(v)){var Se=v.group,Xe=v.previousGroup;if(Se===K&&Ct(v.power,H,ue),Se===le||Se===V||Xe===le||Xe===V)for(var pt in v.symbols)Ct(v.symbols[pt],H,ue);else if(Se===A||Xe===A)v.value==="e"||v.value==="pi"||v.value===T.IMAGINARY||ue.add(v.value);else if(Se===he||Xe===he)Ct(ke(v.symbols),H,ue);else if(Se===K)isNaN(v.value)||ue.add(v.value),Ct(v.power,H,ue);else if(Se===ne&&!H)for(var dt=0;dt<v.args.length;dt++)Ct(v.args[dt],H,ue)}return ue.c.sort()},nt=function(v,H){for(var ue=new Ke(0),Se=0;Se<v.length;Se++){var Xe=v[Se];ue=u.add(ue,Ge(Xe)?Xe:u.parse(Xe))}return H?Number(ue):ue},yt=function(v,H){v=u.expand(v),H=H||{};var ue=function(Se,Xe){H[Se]||(H[Se]=new Ke(0)),H[Se]=u.add(H[Se],Xe.clone())};return v.each(function(Se){if(Se.isConstant("all"))ue("constants",Se);else if(Se.group===A)ue(Se.value,Se);else if(Se.group===ne&&(Se.fname===ce||Se.fname===""))yt(Se.args[0]);else{if(Se.group===K||Se.group===ne)throw new Error("Unable to separate. Term cannot be a function!");ue(Ct(Se).join(" "),Se)}}),H},Ut=function(v,H){H=H||v.length;for(var ue=0;ue<H;ue++){var Se=v[ue];Se||(v[ue]=new Ke(0))}return v},Ht=function(v){return v instanceof or},Me=function(v){return v instanceof Cn},ut=function(v){return v instanceof Hn},en=function(v){return v.group===w||v.group===I},nn=function(v){return v.group===A&&v.multiplier.equals(1)&&v.power.equals(1)},De=function(v){return Array.isArray(v)},se=function(v){return/^[-+]?\d+e?\+?\d*$/gim.test(v.toString())},Ae=function(v){return Ge(v)&&(v=v.multiplier),v.lessThan(0)},lt=function(v){return v&&String(v)},Qe=function(v){return"("+v+")"},Tt=function(v,H,ue,Se){return v.substr(0,H)+Se+v.substr(ue,v.length)},Et=function(v){return v!==void 0&&v.custom},Vt=function(v,H){return v<0==H<0},rt=function(){var v=[].slice.call(arguments),H=v.shift(),ue=H.replace(/{(\d+)}/g,function(Se,Xe){var pt=v[Xe];return typeof pt=="function"?pt():pt});return ue},P=function(v,H,ue){var Se=[];ue=ue||1;for(var Xe=v;Xe<=H;Xe++)Se.push(Xe*ue);return Se},Re=Object.keys,ke=function(v,H,ue){for(var Se in v)break;return H?Se:ue?{key:Se,obj:v[Se]}:v[Se]},ht=function(v,H,ue){for(var Se=5,Xe={},pt,dt=0;dt<ue.length;dt++)Xe[ue[dt]]=new Ke(Math.floor(Math.random()*Se)+1);return sr("PARSE2NUMBER",function(){pt=u.parse(v,Xe).equals(u.parse(H,Xe))}),pt},Mt=function(v,H,ue){return Ne(v),j(v)?null:(H=H||Ct(u.parse(ue)),u.functions[v]=[u.mapped_function,H.length,{name:v,params:H,body:ue}],ue)},Ot=function(v){return Math.max.apply(void 0,v)},wt=function(v){return Math.min.apply(void 0,v)},ft=function(v,H){if(v.sort(),H.sort(),v.length===H.length){for(var ue=0;ue<v.length;ue++)if(v[ue]!==H[ue])return!1;return!0}return!1},Y=function(v){for(var H=[],ue=v.length,Se=0;Se<ue;Se++)H[Se]=v[Se].clone();return H},Ee=function(v,H){H=H||20;var ue=[],Se,Xe,pt;ue.push(v[0]);for(var dt=0;dt<v.length-1;dt++){Se=v[dt],Xe=v[dt+1]-Se,pt=Xe/H;for(var Ze=0;Ze<H;Ze++)Se+=pt,ue.push(Se)}return ue},Je=function(v){var H,ue;if(v.group===ne&&v.fname===""?(H=Ke.unwrapPARENS(u.parse(v).toLinear()),ue=u.parse(v.power)):v.group===I&&(H=u.parse(v.value),ue=u.parse(v.power)),H&&ue&&H.group===w&&ue.group===w&&H.multiplier.isNegative()){for(var Se=[],Xe=Ke.toPolarFormArray(re(v)),pt=Xe[0],dt=u.arg(H),Ze=ue.multiplier.den.toString(),tn=ue.multiplier.num.toString(),an="(({0})^({1})*(cos({3})+({2})*sin({3})))^({4})",ln=0;ln<Ze;ln++){var k=re(u.parse(rt("(({0})+2*pi*({1}))/({2})",dt,ln,Ze))).multiplier.toDecimal();Se.push(re(u.parse(rt(an,pt,Ze,T.IMAGINARY,k,tn))))}return or.fromArray(Se)}else if(v.isConstant(!0,!0)){var z=v.sign(),dt=re(v.abs()),We=u.sqrt(dt),Se=[We.clone(),We.negate()];z<0&&(Se=Se.map(function(Dt){return u.multiply(Dt,Ke.imaginary())}))}else Se=[u.parse(v)];return or.fromArray(Se)},Fe=function(v,H){for(var ue=v.length,Se=[],Xe=0;Xe<v.length;Xe++)Se.push([v[Xe],H[Xe]]);Se.sort(function(Ze,tn){return Ze[0]-tn[0]});var pt=[],dt=[];for(Xe=0;Xe<ue;Xe++)pt.push(Se[Xe][0]),dt.push(Se[Xe][1]);return[pt,dt]},Lt=function(v,H,ue){H=String(H);var Se,Xe,pt,dt;if(v.group===le){var Ze=u.expand(v.clone()).stripVar(H);Se=u.subtract(v.clone(),Ze.clone()),dt=Ze}else Se=v.clone();return Xe=Se.stripVar(H),pt=u.divide(Se.clone(),Xe.clone()),dt=dt||new Ke(0),ue?{a:Xe,x:pt,ax:Se,b:dt}:[Xe,pt,Se,dt]},Bt=function(v,H){return se(v)?v>=Number.MAX_VALUE?v.toString():Number(v):(H=typeof H>"u"?14:H,Math.round(v*Math.pow(10,H))/Math.pow(10,H))},zt=function(v){for(var H="u",ue=H,Se=0,Xe=Ct(v);!(O.indexOf(ue)===-1&&Xe.indexOf(ue)===-1);)ue=H+Se++;for(var pt=0,dt=O.length;pt<=dt;pt++)if(!O[pt]){O[pt]=ue;break}return ue},ve=function(v){var H=O.indexOf(v);H!==-1&&(O[H]=void 0)},Ye=function(v,H){if(De(v))for(var ue=v.length,Se=0;Se<ue;Se++)H.call(v,Se);else for(var Xe in v)v.hasOwnProperty(Xe)&&H.call(v,Xe)},X=function(v){return v%2===0},we=function(v){return 1/(v%1)%2===0},tt=function(v){for(var H=v.length,ue=[],Se=0;Se<H;Se++){var Xe=v[Se];ue.indexOf(Xe)===-1&&ue.push(Xe)}return ue},St=function(v){for(var H=Ct(v[0],null,null),ue=1,Se=v.length;ue<Se;ue++)H=H.concat(Ct(v[ue]));return H=tt(H).sort(),H},Zt=function(v,H){var ue=typeof H;(ue!=="function"||ue==="undefined")&&(H=function(tn,an){return tn===an});for(var Se=[];v.length;){var Xe=v[0];if(v.length===1){Se.push(Xe);break}var pt=[];Se.push(Xe);for(var dt=1;dt<v.length;dt++){var Ze=v[dt];H(Xe,Ze)||pt.push(Ze)}v=pt}return Se},$n=function(v){var H=function(ue){O.indexOf(ue)===-1&&O.push(ue)};typeof v=="string"?H(v):Ye(v,function(ue){H(ue)})},pn=function(v,H){var ue;return De(v)?ue=v.splice(H,1)[0]:(ue=v[H],delete v[H]),ue},sr=function(v,H,ue,Se){var Xe=T[v];T[v]=ue===void 0?!0:!!ue;var pt=H.call(Se);return T[v]=Xe,pt},wr=function(){var v={};for(var H in u.functions)v[H]=u.functions[H][0];return v},jn=function(v){return[].slice.call(v)},En=function(v,H,ue){var Se=[];v.each(function(pt){if(pt.contains(H))var dt=pt.stripVar(H),Ze=u.divide(pt.clone(),dt.clone()),tn=Ze.power.toDecimal();else dt=pt,tn=0;var an=Se[tn];Se[tn]=an?u.add(an,dt):dt},!0);for(var Xe=0;Xe<Se.length;Xe++)Se[Xe]||(Se[Xe]=new Ke(0));return Se},re=function(v,H){return sr("PARSE2NUMBER",function(){return u.parse(v,H)},!0)},Te=function(v){if(De(v)){for(var H=new or([]),ue=0;ue<v.length;ue++)H.elements.push(Te(v[ue]));return H}return Ge(v)?v:u.parse(v)},gn=function(v){for(var H=y[y.length-1]||2,ue=H;ue<v;ue++)de(ue)&&y.push(ue)},F=function(v){for(var H=0;H<v.length;H++)if(v[H].group!==w)return!1;return!0},ie=function(v){for(var H=0;H<v.length;H++)if(!(v[H].isPi()||v[H].isE())&&!v[H].isConstant(!0))return!1;return!0},x=function(v,H,ue){(H.isComposite()&&!v.isComposite()||H.isLinear()&&!v.isLinear())&&([v,H]=[H,v]);var Se=new Ke(0);return v.isLinear()?v.each(function(Xe){if(H.isComposite())H.isLinear()?H.each(function(dt){var Ze=u.multiply(u.parse(Xe),u.parse(dt)),tn=u.expand(u.parse(Ze),ue);Se=u.add(Se,tn)},!0):Se=u.add(Se,u.multiply(Xe,u.parse(H)));else{var pt=u.multiply(u.parse(Xe),u.parse(H));Se=u.add(Se,u.expand(pt,ue))}},!0):Se=u.multiply(v,H),Se},W=B("DivisionByZero"),ae=B("ParseError"),q=B("UndefinedError"),ge=B("OutOfFunctionDomainError"),be=B("MaximumIterationsReached"),Le=B("NerdamerTypeError"),st=B("ParityError"),$e=B("OperatorError"),$t=B("OutOfRangeError"),Ue=B("DimensionError"),p=B("InvalidVariableNameError"),D=B("ValueLimitExceededError"),Q=B("NerdamerValueError"),me=B("SolveError"),He=B("InfiniteLoopError"),_t=B("UnexpectedTokenError"),Gt={DivisionByZero:W,ParseError:ae,OutOfFunctionDomainError:ge,UndefinedError:q,MaximumIterationsReached:be,NerdamerTypeError:Le,ParityError:st,OperatorError:$e,OutOfRangeError:$t,DimensionError:Ue,InvalidVariableNameError:p,ValueLimitExceededError:D,NerdamerValueError:Q,SolveError:me,InfiniteLoopError:He,UnexpectedTokenError:_t},bt={csc:function(v){return 1/Math.sin(v)},sec:function(v){return 1/Math.cos(v)},cot:function(v){return 1/Math.tan(v)},acsc:function(v){return Math.asin(1/v)},asec:function(v){return Math.acos(1/v)},acot:function(v){return Math.PI/2-Math.atan(v)},erf:function(v){var H=1/(1+.5*Math.abs(v)),ue=1-H*Math.exp(-v*v-1.26551223+H*(1.00002368+H*(.37409196+H*(.09678418+H*(-.18628806+H*(.27886807+H*(-1.13520398+H*(1.48851587+H*(-.82215223+H*.17087277)))))))));return v>=0?ue:-ue},diff:function(v){var H=.001,ue=function(Se){return(v(Se+H)-v(Se-H))/(2*H)};return ue},median:function(...v){v.sort(function(ue,Se){return ue-Se});var H=Math.floor(v.length/2);return v.length%2?v[H]:(v[H-1]+v[H])/2},fromContinued:function(v){for(var H=v.fractions.slice(),ue=1/H.pop(),Se=0,Xe=H.length;Se<Xe;Se++)ue=1/(H.pop()+ue);return v.sign*(v.whole+ue)},continuedFraction:function(v,H){H=H||20;for(var ue=Math.sign(v),Se=Math.abs(v),Xe=Math.floor(Se),pt=Se-Xe,dt=0,Ze=!1,tn=1e-14,an=1e7,ln,k,z={whole:Xe,sign:ue,fractions:[]};!Ze&&pt!==0;){if(ln=1/pt,k=Math.floor(ln),k>an){var We=bt.fromContinued(z)-v;if(We<=Number.EPSILON)break}z.fractions.push(k),pt=ln-k,(pt<=tn||dt>=H-1)&&(Ze=!0),dt++}var it=z.fractions.length-1;return z.fractions[it]===1&&(z.fractions.pop(),z.fractions[--it]++),z},bigpow:function(v,H){v instanceof Xt||(v=Xt.create(v)),H instanceof Xt||(H=Xt.create(H));var ue=new Xt(0);if(H.isInteger())ue.num=v.num.pow(H.toString()),ue.den=v.den.pow(H.toString());else{var Se=Xt.create(Math.pow(v.num,H.num)),Xe=Xt.create(Math.pow(v.den,H.num));ue.num=bt.nthroot(Se,H.den.toString()),ue.den=bt.nthroot(Xe,H.den)}return ue},gamma:function(v){var H=7,ue=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(v<.5)return Math.PI/(Math.sin(Math.PI*v)*bt.gamma(1-v));v-=1;for(var Se=ue[0],Xe=1;Xe<H+2;Xe++)Se+=ue[Xe]/(v+Xe);var pt=v+H+.5;return Math.sqrt(2*Math.PI)*Math.pow(pt,v+.5)*Math.exp(-pt)*Se},bigfactorial:function(v){for(var H=new h(1),ue=2;ue<=v;ue++)H=H.times(ue);return new Xt(H)},bigLog:function(v){var H=["-253631954333118718762629409109262279926288908775918712466601196032/39970093576053625963957478139049824030906352922262642968060706375","0","24553090145869607172412918483124184864289170814122579923404694986469653261608528681589949629750677407356463601998534945057511664951799678336/35422621391945757431676178435630229283255250779216421054188228659061954317501699707236864189383591478024245495110561124597124995986978302375","369017335340917140706044240090243368728616279239227943871048759140274862131699550043150713059889196223917527172547/335894053932612728969975338549993764554481173661218585876475837409922537622385232776657791604345125227005476864000","24606853025626737903121303930100462245506322607985779603220820323211395607931699126390918477501325805513849611930008427268176602460462988972957593458726734897129954728102144/17750092415977639787139561330326170936321452137635322313122938207611787444311735251389066106937796085669460151963285086542745859461943369606018450213014148175716400146484375","399073568781976806715759409052286641738926636328983929439450824555613704676637191564699164303012247386095942144825603522401740680808466858044/247958349743620302021733249049411604982786755454514947379317600613433680222511897950658049325685140346169718465773927872179874971908848116625","1468102989495846944084741146947295378041808701256909016224309866143294556551407470861354311593351276612463858816796714569499021375899793849136855085849133702029337910502448189055357182595424959360/819363879309286303497217527375463120404739098260200279520788950777458900438307356738082930586032462601215802636320993648007907724899611296693997216938989854861043298494990214825163523387600982777","5896704855274661767824574093605344871722790278354431422729640950821239030785642943033153793245906863203822369276271050164634206965056233097479117980782641839669/3030306850569309344013726745100070601277982132543905537366562638553198167007159067544789592089960911065181606283478843359856123992707598685058297067179343872000","76631772943534985713873427262830314617912556928476573358548256872141516989538374761909611879922349479420014771499018155447198112155515453671128814488139633810493264352294560043912066253026059140653027326566801398784/36852092933388988649396042883218509607503204211148493545892849595498822817623842579026942621098851631842754395231561679671400197056377380063233740202370686144673585955581403046886083948450136247134308381940165804875","3159076083816399509754948610929467278257473888282947311280653574634802580912280940686954763313882823327077171624015737719617373932318151594325834524000275847475866299387913048/1437757485694188822758304467756419845842037623148461107362957994816554782989250555362514354661961482939226272309026092009962414616417412938087494467254146002233028411865234375","22266067259907364984531611601870291368272674573653403965630628996687370994139884833897773468149149664829922302484782423514167405397665098388400450149078982462318781750661005833037235183394221496186539779712428265837926417581952/9670030144664428565128962309657100138096047028794689249320859276197340398920725569428532293373676415359965773460364494998334259893079003125373872108770534788283842907318071170285038777091588292539102269617376180390982915567375","14604654564989239958569331443385369522850975185358647132770022716433280072271007767111036877803328768910274400515590151934676819262085211828028638417329558229123989556376108454497813055/6090614019162516693013973409650613208227889078878781039105047015752493519149314227721984436973374032279421344818329285207124280297611253861173835238379831004010748379874393292231671808","1901241885407696031217292877862925220917660047127261026827869027159993239567933534052663335498281439239753018507182016153657409777749792228538380379703411298411623469292891476969894084838876001545818141543890273256985768690847587711270930688/765116019778838839812655402103512685695769161212360553099732689795578904762091216998790589926057819838537805856579109910198553330075924857419395160755642371550113347465300208422126945265887065434116781678702741657275181694851670325469434625","139459806786604751793737926146840623607010208216289543036026206208962059593900745886202214788747453279179283344350478734275973878932538430194363355795823581315329311220701640235653288975569812161436/54371368534412517053056101353618694718215711767266376573138772968257303578467926450212293233332401067673270853953399269852376592855992724934941173346260129257754416412476202526978443681584633116375","1045669091124493070709683241190022970908640501171378776604126771144008324358233819560649021940145166254659028524319517244711645162132513416238958170819347361185944945680269442845829390112062101255500836072082817820950448463314034677353723256969344/396228259004446234921310936915931611736815598535963504660076315228798989932959459406702091180060429080345146735173591749448509810270759531977278642135591672189002006272326131885315743181289970885337574780897529347356567086535505950450897216796875","9912919238915437302006264477931031611447467070103973106567538528951878797932559935860738745374437522819124347510590800370471910492338584284092534264608801221235029062881964101996762011296996851893455828946521/3660537472668264151218961634689665210933936249986285290553357254224360417386515311493310199319523687171757653216994741150377508234317025158302057758196429623723072084157928224798322861732880034847243894784000","9263710175433181746575186369318246002919895649622127410824041370079225200282403368319370743363303164313395723904510539050157032684710468364067204876434546848634842333436957245275217583248805993142227630297924119330553308466662488683624783307023014909360640/3341177182697517248552428837661919299725031035849865632511882688786226888137634168024976033652753689210700218163621739078534353578510364301481093730054725078138658805025014615651043313990684347632166030359086885561104034510990826655289288319840595753002771","5116082230713622171832327542439052727465114322479570603905499496221224653983960598946033081212909066917137546065542953865612718836914393275681318667667521726785633638189373998191090501201427906618075889744489190209584/1805752553736060443820406101277706970767657006346276183748749630179442318063568286372320188433843729960294965366346522303898609655762491623098453269916163621089005711823488749297418113474056676109581110715068124438875","246569125619713282434448566970352231845414317018379160824176638351574938993535464763890962336882760882398479702237564384291290459961036068916857265499633061660562532011248501476114401629839742058389195725393702000011860799793778295606988057303225493814005789533570432/85307063020836305797178273029353623060860009152114361453434032434699636078115114412588719432277441055049132559782203988387794711585368296817222565434951256788867244687081233632650953850383220864394261763844194948389861147622944651546912394593164406926489862036343375","133672026303452911046163998480860917119290576658330909785707604886881155606725822685088929236266583416708668502760907677019598002175122453170574729028452721476464728566191464897928696630979863154661704374206171469014225143/45398130975270785045482567762871405072140548998125471025451666500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","6041693953360002800224091673336562508913199995987479264605216252220579740134601435770085920869376641180763419907442721705887169884230643795126568815123647603047739799302562095542459344811429882053086550900803768964612193941424128649976704727183797495759082741166938351872/2016766992122395667828553277997478570503475626107286343497917705446132017125079612756035254750822860815515899557855166824523851779156336235294914777307802256439645525835223691751931866188957324792276149549076500784191791380803500156776088683900346065830066370370083309875","705868391597244582764749229356331441978820024796066870551110486625729826111158236686696326058778874201639006234449557592353247542995871491078308187261304930042019640830629526023972693107193897009168955674240659026247094657679060/231848642748474339277532000336338632910990823562381469441716922006107433404523316252618490265927265734670539384485699132080062215196462178933963957679882342083893417545858074378754089719547920901917516016346211301054206383643383","101832160604157943093944673541651013907278188571533075311673249923948856034633446617630054761681006062910980371900782781226979391765818325065031889334563981235894369036439929651260587335544056975715076598739977065390678221999918899003881778449092038750712969437519295878491018112/32944277910571666002449086492515464541550138004002141571670657643770713783329063548790202120805341989608877739811787937782240802963962520261844114327432160788193314874913687387269408387417806176202979244637915812905426565263196954203487934225589622864145960079736633434831996625","10655703119271468913597640479490594180964700448340778168715956712130636958373270202484276402718566314881119559090842449610957974112230306343486091910217340665146602598568991520563987490686996746558858366002301982443029430290679385551/3398412687366638541233365137084722368200311117891192348532156645374786104142009695796409107380345795998400850838706661851176885183144928701608654514812261697598380070746520197171576610572921007069104300695592751543563472456384512000","1903039332876763837419920240543738799531131775028971323439870868730321221615515008394327723508670975623498588291298064320786970626232668956372004004897872810230178526101184611242511193415796638694370503100219710864543168952682617801833318493436174387568067811938490953495819438108686336/598806534367503338307287246320963280558134937382149405305466709787179429317914803617527827862441615350396864359976273212272586892074799651088317544101755361439294687323233086696182687664637422796995789967075271448560870681210580691574924544896656175563265378514188341796398162841796875","525573915563826130963525826191411949262846916750432019596028344808298471293378917508549164993368392834023782480702893643486699787870059946429810070222126260200026332874480239090370088123833491499400991181659445914352500247596757005142623368/163278727324937389095822405034435687776345799835442022795533783889356344755225815267819508608559076191292900367982490827396869405536484846115955581043091229202052407483776587687967125885665493681707461345895999542381476164157058393971431375","9263815657177858787273494705338516861045771674838057329170239610953039987023429736752079544014780707408666628475997291124805562998227296677616204140605356257712022384368492575381355563976330347792504605666631512343447560301417325154003481040250148561839861837778597346623630046623751094400/2843321709948499955095590862256744532227698001408929142548057792217790532624003190447363578048562448168721539177458065482170148482375585867230123873178100117094533143052886527452665480614620123764036974180917207421482431983407742154634391264619615289225747664532332469783301704643254076601","407959339726114455622180187758753007349209016396248763075759257357925636039752474207685682218422721827857994768023399625060206708378433960993946156803948655098667156937949174400873748557248801874735834957795040139401560494087476967548060208243867/123780218751812156744401121690996305978134694678934447237402511116731459214498784497436358160964198336874043702652746834763131444030185151143987331404604087778514863973633941401826334750268416015224906056576641018962863645043976537664227639296000","2547676391598917379516698439971914695230548782904479778605691338364453606537643088857116141939170899135026552016969320061900926954008522781162186995856580955090548471448276736878300717869625651893741316530109438876067419826217901657017506157997588944233677467357220316084583383623602865379325184/764562034757392298786420374672266498815021229519853724850874576419885380830752931701831256959159800764672605004880389358601658343203513177084389490286723240185146570925957286083025676875197029662038213216541352875570101363668917766225709569356861275434470568767077844675593176178611021135573625","186545352286463730559933346565311535598243666022232037054735807289501173444103692309735768703898330430135399033529355360391658728987379385732098960609744313878477967971557204207043802935782878745271859468248704012618254203101767841517569443555143252/55399179641621656233589820996143825959365789093262978988289445625153099592463372579496245442338653053662134699646413817866770218574795378644415019944304868289119443774932782235638737888469746745621382139263856603239588594078668393194675445556640625","664884440164786473344854955309049113269357314957985265728106924238588705533437169796551912202931185746193155801905841712503407258166135075966280435780812714252670362202091663287095423712596462690753468682634261029392794173636943978404002804413009590005984736612421172979101972556772005594499779860608/195485517776407145286424460448995460754674039560651791192647586550615878988380153730602665795647187884543361218962125172808792176382956599256188706636727418572541254480798303566840010217729386905041217793614214518363859058348249961790104618910877813067510758225302884815410347238200133693756493703875","2614957283934314904315471338485451166053664494383241929385424599389309215073267052860464009981063483440201193771607520572077231889699858482582363845275452280606276949653970992719332472370351170732899676316967244504534154616036371979031399425846100527685/761493664432749089312665480773496290658029971027686543404885407644062485746072719559288231362060149626237939029641098328278650939665665969011529293869562636656650999759724704272743235210867676873525147820749560155294022488994426729939894753293900972032","124843380518493746761140367283007507854364503961156704095198010255465940085534099747297600085903814014415830785663764373057896014399822131175202342399536439284123918855893825207202244831315575594886675813256448846863723093240955901916229136393454605455444105444987028391748121054399538064686074523506176/36022228212051654395480210378626648518430280334458144892889271272122662467638331091863215146548048144675657239846337165813938424387499358852301016926312083940212100001220180762189978024821166744964908871443681332664798940660421469519997746775275873085770018269706847741064037876137315001228315806659875","827992369063043155578730871896750570951766628472810506926098505028264552046829097082095665194000002802661600196840639204300804225352337632259980703832713031790922485730615305441309917696044954289187837653933158950774246017223571461858939407386087081525130831392/236805932823686534991153393869288530368011574665859226704279685567723830696754821658770176385138917722808377962346690757191122309876922069867472518117628639913077442806147910884267694879089753138429767401700283014143248445966474839193628309668702223994071394625","17347276886878323736540051321582548724378497839789943634071026331001588645519865992773157565595886250230140452154269197770615097377486013097979087647774513500701793885978192218455687078883766086309728287172567466406449372659680040183273634701092561727514713494914793425407149186041796935055187281744386432/4919325621804683623339606849970832094714371903709195539440424738973575902329797546592497378000858196173718145883783709223158260700365224756081275272021856393735663399552166737690038832550853145831185979094979556715294990257315369124065787473707136464772247917156232366320267601622617803514003753662109375","137984231830526866236186357461458917020538108058615632801298091031540729111527734872044790487396302545910108285921421417358113055522725197998483383380192391312304647004240060970929072498293210057120617332323445379424867965764749534125081131327565507524502163460761/38810445792642817561168950890315210470940006613819790543653745327778579787694809782601777514116858514049585074667085399925278459138508514838268321349069481334967221455722811414399738756151414906092225265355449011152267068726417045644222323488445626292574879744000","746567120547823334914136339633766098626636643449144032626270358619125402826113269699709721071135471625588981126637674402048519990010499180844665151971356149292818375448504122545400227696621572263621729512461528550588108384619064912224884465737417596190735966915167530332762203074440688676123756162572829692160/208334337057923929636884170505570363171441147899816815785150954417598643614152856767186132467069365605496210036171429712485182162940460120834349006784956522600679357307849981862006710239311750261522832996877712350330290831638640913932265004107623954913155144975252743257846945609734368518424172846119306643431","64649371728330695076928013661001819989330953381731372450140483779536126948957993261299287753791770622512248630224724990234903928056275080682537641377393210728546364176267034339221558641084730052304770498929958838997239635790469536857863963589118888238069738647239076/17903951498200212327802847425913723358452100686246224008745414214690047078122925247086521362329833307849817944645647750649290248110509395628305970523384831671737569872597295947593410067364379687588919135621621162007748635920864926867870502568935739725312687094047375","2454918942158003099688922026016393688092399295166304634317616773083386087532869193458590448918958337530406410803840837646465522656670050113548208618655070231274778592766244282964463702354872753657766121825196898916725498553882689210280080206627916046484942827487726300822318764058084323314109595329304407466188383616/674880185931325925966586583820010578979699141814417326552629206140252348822939845006845669570885271576698771404162512001549922909048916000017837898649100825976232784446638776021483802989797501705685620612986771521390439936066527738682396560462899753657942715306792783283782238662155922082005591512296007820682995125","74018558041066162916454010680594042518462756234254788158141115244349044958441521749277686851928706433556285971088455226217644009628399441967508838553345152310730562224910795446341601049647392069373970101491741830623078126344928804029524181578945586663110848142571149861/20204153620006780689923328634586091101021423979622170579036140596085566172775051595588438592742563923428900864000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","2127032036758045513335690185608563023954009095206088224487365541995326714285119384743928987635752931664240752323937321097955456543854943206092931247498833001499955456190701695430459583885125382086777607021670447795321669948733328973350279846928613949120929250312666393359442423066212311060931469017737106028339882830848/576612418511902928757340062840968526862381326698309578771238715462180282212422302261044980131594522407066369222998903808960617461164985318633518680304995784614308979881735537678182134128319596636920719106506829571072447362052319438091347699720147003209417806230149598345068078717948025207635448205253184540936478445125","35289653975561083576641954928762116897061274899517309102784750384002335187117263273488751066569234386120759866204372398611196356888479036949053282301027789530999737306501029700128744408015642211359442183943916106790666114870974212159410284751571905275610921784716184508440/9503006066880728386808143045924119024212377150217533250562188228062174064693375135306438120385877320162710918716613546077156389583384656340709638430674364232343609717735574035535102953482366914421205216675248471695111720986346092738728929878538430662191272737183832556131","102633551023964794485575491065909467125458972250222581133681080524371507544152979467328048718122409841060527545925136196267751819689935599599321090571687632103850847605493223603751038996548520557330016046032671961857623066292962260173840972332108111505971231021442896036760967107060309991355545554631003681544611731245475968/27459658121882266328752886605529964804078316737648012166874496015808620265471203512606463219297059547428855195782384236337998738233668399173746663289852416697917397644234441300570212555870401420579737973722145663287124151049692290432756231390864184491891697469874600345958989433125942336757049639797225309327019275689074625","10034393558388390065766795008210457368713365491566387292163814915435906649268119060550511145023450790393353937124495488860451123302412204483570913557762460385297770427946219119911920640306914453207097103853766023934602534502476962159682750262143380527529536498215384467975023/2667919902603322771586358077760621955455470781865624844984169443739075976572061827709528710108877015489050369589117491611045518221354793418884447632063538994046714401229510497599783726376490260140723032102883617341970952663947646017489439179953454964374887388652792446976000","248528145263843375390386172800048509380966183384567983242213959113927668429802237067505890436957693495616107089384741585283620097982859345081736730899912519273262934785992235852866637878831878448348444611412764161078458068549719800733237024285525816723480868704742804077255242682077291713092790250511567621735004237450946304/65676865669148624809340872151906045781446981664561196686217551358486802274698228825404698950974939545099727242259547145392352658637333562345477931951890984276718673618736565926663528625796412420753961231404680876558659735251469326707567479071881966875336951133475135427640218972722939427821842173216282390058040618896484375","7805448718805635696495809414501206964843262114470109146341305656318015059743127114324245035489577134938579856003956861881125856595981500593426840968087618241785931128978516340812066502964561231235073012672356530509663384739132686548934288703179479011016719045530855033205271548/2050525178024039744126592505352202216905491833360272553169520915020715464206141942151086176509423406413311520838568324134077402841030113427309725873344806030836314500267104070131451720947531994814710189000076651895520222646974590481497382830325485174899169093049299764813276375","3355325071293197839434119105039673324264765809771192815982246040415580387729382404624613875653005261578877047405365032178619450963731719777167015959920645055600439987161800547901539269321100559393048973255388860193948274255340335876890491746900991668165565729269698196233805991206691196045182214641935483083662356666996922240/876402579119117579582569839757462461050855174353108858954282915644790659429341853404829661899850841645529640454766173209897510988090318303454542547519850473808789222552969933222203420847859171250332350076509996295844203965564448154484566493395403967626596213792922784509892086361572955175655987334882030766001799867659814117","218871061991045868372866381545267589365410350294028138778572466235486397478028823720846191998825628156716190463263492304639890659254282445466806224943413446008645087186307985343574807361972238230520975439736199291019544576443791916302825193643774360055545186783819367378492631806297/56849560726416896431557940314760680962653658127458002233782028041537121216487790008085876994020812492987733987414743604239935223783349870516284048368761617736127892160849065895223288023531930411718807065209903593668117085505482007061969339237404945180379460053180570404846043136000","5008685108365226931582937964451700746853986170633433728409171904803795018146152804690759530990140552460596075588463394200510044617816085275660078502126507209302951286606953039953843685800941558212440519542602092919776366067720586295390886070120828199562643208637974347390938772070049344991272621102622931576339988103674070876518912/1293888539680354282541277646947380627241979967611883341823378331667976045287311988103163380651334828012840330710760757271860219584371109472132211215957402251594055009937397184768184517621978947384029376766290498101728971145633139541827544539988344772578184316843734267915665730981857376872622787627370859411909330227080697966353375","15388340113525711660227566446101909585796746979396093776960989868457211684028149502578116456785221720682202816140911944661051001675127262774824593420825587319436537346311831003212424497488485098543512314062112948777572038731823948224734505930748371522309451168088057190162878224801232/3954220582960831691377435160890656173654063611768428458807273708040518769541211737927975894584024448193835165167801976423275767590502552964407494549049777006346189436817215329891530811451811864579644894987864267389290848598289794977382504890216219362031324635609053075313568115234375","5099039333987561374222193551155323470675617979816941646196895589439391685938046865391119484510329634015275893520725135141878751153360264368353595348921951280561029028912953500944814771064409611917475818956659775131751121312316084465321917769679881052144364834485866477379437705913911371481828140817759401117780199246301705600020671104/1303503600297679371136943454060319958680553228879031326679449263682048703103464872914972900105569835004878963701599765030590097739639045890060548760692125546754294514068052902543220382104483822438283040090444827980927544440984823535260277595466339403795403200720622852069244768910603820007632395190204569927612348189089161551951106625","4902837141334073026145827027361937996261324349722726869116185158777439337041263482852376194988371853413467559557923410949898048139830183335197992754748294810838187068126867611615800383834975563313220497573778480109264178673389149671194149749735833378557143135481387904961537942569904075/1247045310545991266291285730016853118981099516935251861146038369985109288084420528171217942065832292739130145780833406014673689119563698528225048800794718789218267628507713621235056538202070171596177775095071513194885568843375526804796016261173388452184505503341132236719484809714335744","38114743522716832107917466438257616720476488812538316101658139632867788464381862291240727309611460187159930652186486096300862388591521625093237019662273764387591494074792574929490381910446287947994150655077877204446864004067956087975012773988833339521775463977233068498404144221045837190392670308437391686081418318624745039402145439223552/9647001083383999453668111809775451078976046488746916070976218645431946648087171586252172936600115032316383427265217993193444199863138429602138841976586190525451324093772097241349417938578878934577091671046050326087898259692917931230974174799815198493279413438192301437068820185757869608523761456160341754512329264442115351926967120404125","573695055225225727008803730767518906490704995929177617646275646884555707960986625481944101622708415415988844740028718027554452662358957933526173824325955904005404113684003841990198157072540659184995738719040024647370869010473254071681533880576462368600901824622431045529064651675640055917092/144509482511118816399089096021290587489594541280398871255876563615464628718527634679330291741479135415168539765887291789615790513527330600394937614433502341116068305347468133950204152174094704092402978083370792135432486240914953928188835819767755172666693219213868545854371103120604946200875","23876960329653589647925126180903391687666378233201794403339630995420215267415575142266707357255726330536094448314199602616026935251126469221925945960901748679919435908556550271504767784553484434363646489174587463466333864577705745452492395785557425904735048180164697040313528831173448025400634629163795223739061661461986923675833880378496/5986312408594306954013526197465608559068621248896320652512228238115589875514604632230098997609482248000888567135685167138762172475788060284232459813998201719590208742091697294562538265829954186149162974972471533202880368317237508987477069872431064075005305838801862900501819963793062041081601844759452202282545840716920793056488037109375","58168289917567723171226992383559866214094157894992327555495441698028867727845766488121900626912848698952863438654895252811583144479300382761129433911280049009362667380001406579175563745824368613319103673817094498117944856004415812877213722455299491145649879676787079744410765053845551958756701/14517067289347903655500020160671113450349743650636953726251191692074385521975132268313263723831804150872238173602847065423463131917373356798750100313145228608894881457107689499956903046984443545789053438946050974567665049237414588435796381674590098629779384355275820782532479708807512981504000","728621890568281859295409481422447012528302594365693410763821707074444799793690738137592101239862736313347273167450056625929591960610208335290882047413011571781161008296084630072829079783328937418641417642857196346026366370059522990813537731394823630207433267854616768658990289454635793326766697884798538576055949457122067828153655416688640/181030730759516991863708593747964787874073354051675597050399087612142539517308720603687322924426591889179726492403913356461908748733972707460063017057809060190437917851790767968877215795679844983288935075688219234885360839984681619084834228226744165610073685719017596630302462070188937998558312507638434329299017584329479516410907786681093","86855946923438322218622470067224691860808273886184997065663554841573982963995340977083049132518812923329423480393306918856650577072525633920456721265953575424233701929892019410099166322511413146891121248381648145391642571638857576890568882512129960291171866772665863159474602604647289052079991768/21485753507365901947528588896402264670781310878547726104482740647554738151100954835784115119035980523529677083504495839730499664052882400915208251594384038810917282207449860876251558307288700200910747338758723324686939379138206117634546981163355060740270734146780942696291669461182599512320099625","2158989152301022938148680102142188531448821359505188055264665167313418619665693092337665573150374231484840948447637297247277576415460889296724813940128955070240137590073233263168835678714131062764247434144994737610229909964847568491446606012581370840699582055341626266533733744293929658949697805855362114229666626620766245630122333733703618176/531794915405164005613733454597931482878479882704956110685223892325074211694837836221759995948610212818642789132749082430059593652854659130217225506942675608692701447738732031302987802196501895840510235161825501235133794449421919927396142470196961877376701957829921152848178076410141813926924749057304222282687697297216661687583257901415465125","139432548574396829074586704387656697097760057897628994548358619815052936481650396157428747411173567801047221928593253479330480454469358220685854351236980383914223693722868233819483137401339800304943891968050399345430243790898955416907228948287367356990263740207046902209563417267686591994743547621/34201151688775214071963206765436083445901621442002061707492082843232231754829227303539041286301398668437202547003300396162741375435703188500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","11008517174872833286150985180322584448162884832099344969609291070844193524816852920942383850580217443209402836100467940651581092350600329145627967515818684442171571156446321228596914355704205623857871497315955269266498229823278800717909321269179839084452384509142712677235552103459737790674103994445173074670347080506698168482564009465276165824768/2689223396936080856855299215659204161946704205931885125148201643087176556822542895325191478283706585400237901215485150928036895428721912118467760766508162631903585126377676412573187912443878232521444786090510891599171741773242011017926658231638022943018461086517502584854390836347781674626615709751386455292026775663545470794167629144456268750125","16108638074211260588800537540680707641986073914251424878121255234668558067988171568946079848860335948991834525552515669040163026131919804987340113244760738846884911038097907756220945883750502673899084880578229601870882631165510396775126850307838505063922101682333806284668762825609556049426829531780/3919363961344261777100658318137884299575193089462944554282218278496298610828757650104922583359642384253066896538203596057302203635134833545580869871333892935330950583664400555463557735723364497947986885146043017010159347046389604172186788902608216894094289769850517098027486468084407618748895626853","34420755849180279597302103726180110022640946692592540634353734157479505420320000324260530767186132260970572450489530034440214259559325114511265075416512316229177952140217732655405289808326341696986755141965043719344169685611217958619102774617224847284122901023774956887687026904767714958090256282893003000752947427857703259704682455375442735857024/8342030311716679826889917494957593165464748884572298173556257652389845294530325764837124998293398445804458613956489096007564811101361266196542129764287084823604897187311540561857741285793447174119667215803837719660675298308873496219385226998078648428368061868944322478384684509466965129972030932418920415308276430355882329457342937549162000252625","345888075261020004071220843714060353763382280664960929903544964118831237876694384053904571498830068831026644303797377762345709976595360421502594656308937649239978525713471393570536680412814805076323426256584504251728507416368609420882442293831684681071553766603478479006495757222912500012444787804577811/83505703731469734628961395063481893801938371516752417759131774530720075262459158384433785006689548434701904106312038822969658455364219435022841597243178757423598248565463985786213156556523685666430799283870548238467817226915680747412191245046634279766450629886904716776719219698922088211154187845632000","1061717830619177527082296723099890392273896386613997004874669053445943252046748251883532634529759169500795452576392700472771365240996842610207274128102329096619028487369622001737128463631016494371635687841733644339636164570819431573829173533941056258744442930643735587780907310433371453992062647737259587563398111688659657406089003293576961475848704/255359631537215747979895955806995352799574790340218399351168178555478073997876110889483456972687438702262017800167048243754141722496276537685853311434069991222324039005160057724073156957530106623908696241268268096879569794431919729620178375212905203484165745866913773304319069321426245521467122472046370356725530914587807274074293673038482666015625","274122944106300296738399632684955400761495830361663966466225652918683099779465438024846903286816813856490888796372134557295699980528187779624865098445756013563535339056233912394908544185885547842235097677765325396255649207317018754967666450708249125316192200151505568416495274671679500594656671785202496/65687592621976546250581560102201535533608158256953087745856906437400149205693427285162333502528793675585022025602144243543064185647792948495372442630333800126269123531636800213405254045262127593759539706750242430153456891792533267948231185296091297979933562727112487057234422009426868531651634706262125","7842680480716516803148821198697967237136721860017131244266974996267074742248599085253569637183007740566941125452215834642683053334607896723447140851344501084122965014242091312411884985569341166545074688756440728922408743841592658677792796881188604773469108807869960161395759837407978596679911066586626885830991556090978327508459276025943279064965688960/1872528612245648675720382138045071131304652050696842872529163720558126655075937845539792108048310219395746259570506175902206215101518698490144716531697689534559827422735649881381597761684154409796315455445459537515308174919488497154409643876490472215352056502193150125644288086294418253309947229151074464928874881827227706992859640236086417889990541889","5300824422251242070074569186825929119848111723012841627275830216301188228660779008353049603527567784119877706984722171178137272986345560485784907345500893648715341273841147320288851034078863843374665850852481747000237834238703248634174397792745914847774297223176674917912406659831206869442510948965571661/1261140476013707338477604677428573831791396352814802149994640617701773078174882455512668089072441176857892331468691160991310474734143842336092636848492066592397892638052212250229129355009939118431643425836944282456647571558383755315238500832868535816144280088644939696339160092963629012001958205063168000","2220223718762215584659309059880106334425515875615107369399767892051551634000614327272260081056973863669004224981561870246078120862256383581012183852291444462730018546753183156982897386563561418424093883164027305254176874653780425452987066512563140531367766900610414277825262239199580925879453806414860409441845631158680721091621460775043562065815179617536/526383206607841251253861841374779803798480623722760367843070466043030228662340154304405180907941079883976168609082254331465595267209149963786388600028701073430773581228212441424400748220833542964971495005714483235359479470452593264280645360131482713147116366500300066771223383007216182988263355451923333319170174755334598973202740108032097242475554128875","521891797109626296684891455959263713257353500867652268541535940159815152120871142196535233326890353914761242025931373491906127275561002910157909306979093246574207104081108188995072105948138299097848175016082947174156278439986705241571619793059501724269644447572323501261424770743329858038040685313621446524/123310256826873923765604825413207481739886340225713108649758575106598510022338480189649787216845041382860899099250547657534972156328080736149239332330143771138115695598493059325064119176038137294863053148618656356436332991079150723235214278848602671333076219529535123842212129829931654967367649078369140625","66086044538329677372986118727999622900471937619891337714357792768200341519193500393739322894033303245376225584865369486696276607060432449792893028061817203932068085863800494054274423512956136695211796751845295921015953538329385253280866669403169919614982155350899648626481405781514434761541281229159396787287553493046927448595964103589100429722948913403008/15562137339474350565671240515273666798063901504051979980452491653975250630723677279081058884163396938548780856293034775459223871281049026140999055923743471466471830572672766633086347312178711643724485955576579988182546105048041649947277672869613992334541438784737993706482731696809943027528882927942967419447250586964258807454003775693567366165507144866375","335377615394100148751647837967017467711612297170079949298328061159559939969228226474615711044891085626519877634842694983669611974807129333052471799687426665556738316626171408219730853872410792831871526174987402129691897433888027072807302411474690613948951673562473758814664346259109886876538510453475290967835/78715592752271462306588358880337347638000605031000575876214116610339827495261512281635361568951675037834544811575026718101166562072917855004822606752296233435017284127594847656529606648345533195437635894948829857913798336356647286032372695130461573940500785137424365840081503133157308796505622439791698116608","20090879701618729602554170716780970848925039917987945471322994867171660307998603515745066411687983450400412739285577269751603921163835619296822801840348319742203974023505186187060251544248644338412667631232247108675504629538319425769464277309915502144443973397371136256151336255138506001292355330875114245901820438821732843540725116728866301271466614762497024/4700223519410528857298732096729483544820841497820611795617923063440946097326817340637303431283005509904481323205480729806879570430868897342398783028649633951362398196137429076844504529051072393709154483678349272930361110568616112723747726853614661953537957117231900032044221535502745676310313569997665352252492568100075191900969170979460298189170486601502625","2904778979985524171206573028445379872240558084236464200857594814631031581387804621371822074061289363372523364167184697785570324832815972970658633551879143187709707164796663015180877412717910872234647704536817108676736661804878068078543241390828229923424191204586313620612539678930999769543756218765870513049986792/677408099044823641581658869221044375312077929976719183424865834811543737800956896926637625166844372424044003929341361734886232742770909683021563822987505236295727478159938135467975522336774471915167606673489722102077041330652185811196423400701795791669780695158730756241178262962515917389382302757366325768069625","31270155809329751863885224732454397292230969002004953832354065319735530624996254695453061851449600345977646455072512400760539747054003851289540339425848681804190284451253462663731135337775088379954403740058084949675460445909826322297817535400604180338201322667139062500269285493417563095365899631360901732684124930296643108551710704785906431324876072470231424/7269578038000504017073007978844992319987411732848567116655821196644382777088703228960020894756722675887473977480537577509061256138261063926845643360849217556370868752909531088361229374467207196928745673402380473721018157327193509586295879051411183657185176812738231456253321187419224704301236205478184115996135940848503487199394612616742961108684539794921875","432538822079707760382094121020421735679118830363764570640789368235407853152380328891350816400541189148550353337874309885334920995713154225799660601389784410911658967499100610376065640785585342035058364676314084595283850213942576431310823836792440218271879354669291052589804956435743500204185107215929849054782893113/100246574739326291035824954677502591279343311051719151327066341370995390423713403739043396503785261917771859220535505691760472395306543276314938287868734009582906895763073519374099272340577921671298878837400921045252035507925021904954445172372479744465666760762909731237634082051855588025732494461939980856983552000","1914333673689206389116942789116917579088664511118582610293383428712902211612554212779880638065888518488492298586641997844141510832940409501694726851666478650414191249534733087933879981733561565249818572204932715347752949087800778646065986244657260832234479202201129845117955957242616947361016603702640821256099895469088229339240402478576285854783063612307200/442333801076281757298117784528962837115323835962460661601905131618341609371649347131724700192551574625400701487125984359494804828935577124602622582550626336986871791407398609915208114339012374456785705161994343348351473385887949809051796407340988735853810174589261300681030826392672282630613354461927208579993042968520650313621522933214063366558703422757071","5704691626402072213006354545292364761246893919997531024861408248746241619817955824682639582830486790618668221530365426203424888737658778881721063941495350237419723855000515747725926735319471480027293210991869255971365522170749568996651406002311020883635577590045650037569906001924971041810547543163363976464780729932/1314240362076792592671773873754757443276256223533339004339330559325754574023619698171225777585408160438834449576526997055649849875516310105297894855264038450585295422343454458568152668980131977005808840141079502436391909349182185596381509091427752151860204235071122788499996991078935216686010888734471173124487937875","451219364084386208718456142329444023337343409261545444643031014769484085278440612677813682892926852469540118625738238137458321112005189595703619178533263706811689687213128887082197330137502064260105387500552856851972124172206996205919556553246133218441769325133725631665593372188755090094541462474970525820334385058333756591222492801647110594428922046641945259392/103648250172203340865458115839764297558925693061798169434516001775068769911768281084188883278842546791612199025413573394167639925287068809631958006622842716869211374513136766899877504136929177267362862319748507372147243911522667591375015611312165464514308451222180272935398828092646393830572838772085366567154646425598388620105539619174837489536378605144891769625","1591076564577634575701791393842535460875733974464805197283632670013516183281542903377750304419996681222758401497321278555686661981435637461350320471258386388843198706277657208526372100698700615835733712519332548607115875288787602084336341594576426630670911478276101702119972195558314357975365863803265163991961173/364433108410193393847203348728981296285742202617988970384277162225847256295865554341611171460436362780497179090329831885853324392923449579538286804729856000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","5307507148709435807261229345132535134848030343901300324623409721698217134932866488937772986386501538026693956121121771089740095760486362654754229904633476234090792827930433598453200536551779789049352131005222659995845427680686677324963223653949277037520711609343166926627713758990384011274777087968799793410506391884872456420041494598273703914689586637995139580794368/1212244290381524115082005575105703496583315188540177702780216570265159923654197746388568151706509243638302707511238539845531608313334248788980188054651601536067740709977678222790481348003085034888244447626347312094586389347535167903408519024105748523384932942441843118813819781347089702286481924493361058339731949844620763272778960860509570622673048786968660129650125","3046577098843580578619955603029073328361298436129791931304665777036152915858575282362742008136721284817899542475666054101957899858138590963789072530710775790433466847100422875906866496318804986202089528198912098377828580031852152997907433335176267300286466072997014023120087988748396598176622765923059385876855303940720/693911859077752895978833241338902695755528613729508555938416419864772385336777924892434701804078893822446727762077537955240605927550548046309823051841326355655848406646248595628715185413852040295631448250459076043816328082561248420925930431777502622148019371383254316636979070731427737764160145097293260938978413488819","155310926743873343426312607182060072939030765297630534544899230213054714482456829198485999782086944271490229412707980997432528653509945301574794242118433868747172279224118534460563400440670015323324602117517342201640016853927923976796453577048995243600967202462466681112804476672348206491490513419336308575442086511015101999847896197546900512764233674747415844045184/35278162986589659300679088538176070649273991865663041616088851923111175518405117391134863644540911005782372831496121355954470744169969774540892096320978686548284501139861783292226140413769665461494668479430833892857992401391262903582109993838728281915806394747833588629467613308837196269424421131934859079260185052081536487462257809987002198437182539441349474426375","46729591025621874782758519074451728476386657576036360734358719976400940301493939192083339293779149127132651616972817165172116269307276487158069293114860391502484125554406945249728802484128756924044633825692779783425628292959170597009935305429239702926898931975023598456207165067568919757902764815108751735753431153581849/10585868084079030838651390738371141142245086465033459640458366146849314274285871375459898014414833295804139979016362796357043372316321872357817727821559232353993714062535883074661734509440994664726425399880995133711038483607773782532430879196405793694658185175583691180757783597895616920432527125993118171361116684288000","3736372348124144720852190769710129461145889011598636925228657393934132828633132357232883470466940330848177425542748100211498184494252714616379450272611850068867816250209867530921278645286769418080018709947826876461419654782341309127709703626401211996255743831998918894661053669189312375159058718767082163156988766821194002596331826150321864927832618126580509732359424/844176851007504003627016945212023239308348428094023437269532743221937069345682900884618378849283002998220513307273333096775669556093005637615012750733216460458689282791632437851364674879152695438589692227159038555722539345972833161146108367329370564838671791241431125003401861887477969954740544092178721327724620450947646209914621007186497081420384347438812255859375","1258774755828991281578968023382624723772927642002016270484090409043454336040857926581316994594109169123354553321469500848146015719851609220423736153365139804086413284787598253618361769125996755159571523632747129480387254164008968993734442164892486441152227433281625391753702577143985047832519062595123255569172968685060844/283659859661671181526547833415653453506477950678651675193210969173130116121017723360258249430884213011988678011357458727603413521688184521573094783291496368005697481333739504490647194454695504722542014845706216224432373442438242355188461951883454664693262684873988061018976711201351382163527093784753398257094429403691625","84932063355292829988908961192574710493098897148701473172754949846455626381329456661808566365329266898990829247446356970454502007127269708487563279536825277374133681167235811080298134899629580318813382668399644553111080625918213250223197440426147821225593304993621451053135332451997633132772608233430131400186571793929377129211228689703376067763625568623535588709576320/19089978133324852910950469658566458037096027722326716800113107848115231563787455584278193954518442601810776347091253561956877155673550458955562102935555510392954425196165785410319126098393353878286400877305164869548380670204577544630353859009177051698096136470072137579698473017257397949994722015089768745013713383769765609613514021200888647472804720456494757423299627","802638881530832431828249604040579750916118423833791608589560402449036920165704012070349537114920882938466635598602387718300074733476150548724726460209016834416094317724261857969955414000155807312852092720310159572547644569797512233899495300028159721348599816083166712365215075728968005941610056018023633235372936903015771583/179951197386119079732438617407921535065140503043429174394605652913879982486051627760652197484142547447000508189455126493868229565647284332735552462525598465192073558793335913005459266977086104359621022691931002488052727597513413492393525660272900161375677499228252863529934576881596384036401784035248649026076581302370304000","25208742399375362881099811032135575360109715964024747212026245529087599633280142314962581193303683759605084995818253124445773115574470717199218828756449187055537877478033129862600982068782249943150019637186466260707552416433010545437321814115233841687700051830170191107127799355485920046505591193770164750886037885397478191534797655616745528343172318318678405576430544896/5637713398995569614196397857525646325234056219513202928587580534159596897880731043336790273040813044077153051260989730372846713618900145444802234629922717464041261370803598799826604841654608724727320798324006129524610666235998113655193642594744544226880944882342204407750193512869672849910003246504052298022468012594459974209940607450480609190841893267203392880360823875","732332637178584560220688900268566130246820235956768724845747830959547501950765063982943061181526237061809052444110437930100210105274824607344902764184151030827266142225894655531497849161692760385938786736436977268616029862577293984376170905024712952813234949508186306774257035535805330366742322777611063402455261391021097128/163377988152179636922409938163005948596822656868040662831003991395905185823836089887990201522673196719628247106777881741843786365701135555917263285268753605514812568258179391272113405920369587922702002732667842511108732068683407168090725712401954314293193572654347237716691784386690948494003094992876867763698101043701171875","22391374854299462107923583267570593886002658786775211597896252879708753450794332301142909715845151746786016535157797023153041007263258732991465037648536702217273897876864351559736449481285518249846264600935543582562018874574655740660800634883403597181876364712521253650744197321080655028374602772696770227741610874399454362583980465225235674816785988164157351243193265401728/4983275997188967758382167867656806681565521964135131710678447245984239733544941881418957694612909599261843693554043504855207170782744518943778096768859337980470219783210191765678908537645270392500777411134164918803949155037581108678968701961544979451081836872425574123683574475790997414488641534074873248802450108535183413970057319247033379016606809226547805269752123746375","21252344995592269775107236774689012760750850598567799560343535731251766780016530978663079386453430272698006977668063208502408607227544322945446079708000304179073184745623740466334127867464883762843346619853325415963062181018736410570113171387891518398846617197097407612852037905687899800932343156979591740310928257766081697645/4718515378484509142377558412184183991357747235892194234377932213613746008373918923611236346330189287336493794499188640380975364991548794341177060325509698404571318037298112293926833877103554546466055612498927474225619680186119313129604319096374924037870803554153458104225741255753314955115645304948564151765516183663634546688","76703085666560609319365659209445044957052359500745196718269665234646121134787807938680787341023203786904308047981099228357850016602203539979246579454229078497537148799349353250167621935384193502383187510928609818011142642954550330069991570983902841318203794113898871515702445720207144863877026526025447819537396146822201819435536435835285098485990260677737192230985069824/16989892821104122916312992616665764943723222199277412857053896319814438961475117951904867066845412639236790762432996309717924037467863024360211163971190006272168845197000304328480920483651558672879967350982199768255256753110375467976246339260326422891913564151453729285191351273342206198366624882195135056176502724912849575385576554208844814085228696838834665339811027625","40153831166521391225489894857551838468150576827129133168972859441122728710165233865309084872159583787083130713473702296122465319276461991457173085312407612757280915853584698420083436946976844240063731333638150599017886937783470942007376523947840104246927580254612991191040951001539641947153847776050138532219595746056076776809812/8873576113581065493273519627544307418139908640325227196912114520903505426722086265723900326735989771660987609604507503750212298754414472822477243293638486047313990878348820573874809636084574108909615044524663712495422565151340037564156235745628465172219286664653343193162657374410926171153516871765680561505768223660055617934625","200736374277835272485186523480177159453030082779872429648449412313247640312479214261681899286513818912991945046297334418102711629933437654377760028476767482162031641781499114859553677502002901248124750539270235098492377826240319766677856465093871367817683734079621359186477306173620331748496369122143019303740252461824523590096923561928354020960176605008889579578495073283712/44259440065125442964014453739391594153290923937737136823355312892557975399035370631521014554980129291582486968083228888083079118116286312583989433037097397252506140224404130371160608365777625538148303917306340620019882928744151294738308047800711028158277500317134537540772759486365658024194428796846364486187105343266398338060080611643110071184992193593643605709075927734375","488459049325494693259159444507437983381645757291858092983371672334043029615965882574409808932509285079401239403272414271652617474184321852388397021836909585659327974611273820676128650810907598106588433939541654215766888212287311943387232664417347883717203611092450971786083806323404432266197250919880225892099146722474124874256523/107455855466267410923480140898552598306699341366032095904938430084768624148829473848763761936703072253841751966906142283640379336131083461646777390874405323298406517250231389493084918065243079819898691146841695350589992171102939046740169198394671965069747042621265775948217054519855346617967866614303497258042439052681849864192000","8430374068596413768975326329313648683222744787097373111477788794692418932056901235174019333392845529821722488982447683794746518712070635063397464904489452840169472596494433874412726723065560358405027764015273789053064830528919091414531400589850704395887250756457780868677553068164933299802944396576360356896758745030955907258232257358056931680617626606715393885378887657377280/1850480358582748412767893656294669486390769246349349706200869446679212812264400876685764762211659843658541567071977813110496329850010288179702589501255367345935389050373021591572539260951149696801665953123597521983257852207280970577287472932167362521740230973547070264273850381896786822127290397075758780174083415923482640313277341120938690594859118603017930500014640169211239","58273615882491925540881784328370957720539797010816130007322211512070634295154626813477498607761260613353633996451797686143131893884559909668805628269959901044961666535533876340116728982072626875010391195372759135469446048394835148654407846242721443845351855234347422256700864370273092971804207514736924787577569355949601385705517152/12763172138328432984573837529764902730448666594097466544652830703737195804747682450548488162227364538052585484418491914323658215406327363805353540266048943197822838925184942600367647278764952826664684839953902567694832690683467635727409976388280092262839126779730168889686628630302519063225007497707028600865624133968363921915016625","2685278694947152969468407055109959900160804835228466214479525891103128459065131221736713585038130737099067040196326815283171857977706979990467444622550497565521863441617001097354649972660183038850033950647594754644997436624623325003537308428828750008305464174443210079059253920383411910911594636045517662796811001285984447671371943267419151220518726940455756833040934506414133888/586864816044968996825907488721678304211296267371936463272955488077666796280028127333229453342355554450708284934221461946991556216095213627059047984199091625921432110913096253352065238765240063555347292393427726758010888546427415276046238297382474708612526770055488323003698641493939145624184943388159614111350839555141202024991876221874110644879676602924730506882384603409121625","27700345710264347957758638741952394530538598225904772664391173119594616680996031886665218221392453628824570256438960349220263575741495285780845399187013582169907518462437966962923592601721119258663490655013419675469864809004562272799012227293974254329929404036071055528766397079743200179924243479370594973626764330855493789112414191/6040997839051213541001279276287478343874107660287651711609067205111574718442229224212245187655300348484144001298428958025052162253854676210451657425437588244676589965820312500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","80160269787574270953020489212619791839643207793889009503234879683494928396231769167082355143564723274576166638869430572977442020236299319718643894871736539109822173538266278165276591962215927816541165548699380129014840956895931285215480350321259054359835472320394089646764361802445068798451796525897304221529850133401768027469126408090577121172238802281079916258951770135485696/17444957084936455555074876721808241311651668802091828589911310253709517226715880722948267977560381436307152342821304525073651379763144281678911047276389231713860392794975453518107055568765009486973017341479560154792340888780337029481646046233967923289468141293699236815196553819373828280398488966665994092877680860643266914861837639322607761804740256920429518434353839878280875","2352816897072623416220002134476921108405735955266703519252095150412419264317091785317803024028565851487861978477208755211589867803009700996828082850796103789009194767813611798769297617674631277847910238088040257037678126316866517601388289837575778165301828137259948173292658462765645645868094197736382683775415645307647043205988394700/510973411316690313485681833991645423802776865720580280058344111363363091616558230182669376841383375321912553771027107891991318313938505988903735114191313214327683449514676737796942389784957658395806951715454372568523597420866050825822028817422805046287798054682484158011143949412956697442991898914560191411624040490122951328364833797","6403295584873165688372907494046202150046769667837790834896334486679541887567517050446119511695248926941383207478170182650927368177009669717288184903306689332746127845953193587519575304974203099873732502605739219028995266139383163062837007982999189114810534856227848568800302527760100163350814120545587074865568436789021082619398126713943637898657861949091545516403987546145915409024/1387794272010111535893205703999712437783041553900341112488641528986385462810448493444968969845352401058333929711237978223214186693177251566069419805757440174840170213159651962686467523533938145629444468366235554597245713128812532716616087753947246800626006504878203666972651384731498770435755225220796872155249202960801768048854869001310722927230237083418017482134588865244642658875","82993247683514419570466529457059660634483860665557779709153549045427987672829778520201315148149878525274005978368939092115193636113741972236218502664881450367443614971109677363668874484696543982239492409231870942414193419634675024621942196087473557914167832058111113476295926250739099284241826553737074679953551191767148712684157318697/17950946423927357725787689855263532224005643859095168852729513034456208872420513601894508438640531171097082516559962755244698695622824386001219435651555513795509616906355363573638916895074349491513539093024980575852693293474288638209680085037286354050958859425647536735341886663074581909148323105020337857959651624760873736590065664000","584891611376763781852144397260140844977346305541197362434227194779766612939978629636198589818106137319267243431810481928639442343946346034433828599323416877248326356345631611148749005937144684862502198147087702668524450709118588741606955966569427636630159793409544653944608958808602551061186799401212712216156799273254257486955348236914237644151956226336750212957092204830385441792/126256710861549838395499078249922986417488985866522660521294610280820007499099176190820291214370699289977888813109514854178180265382471972583921477022411657285850911270389720508719377071949050253246021921916685716353393018411683757067093259101151481189635423399611625009617884983318141463140199839724797412514785751549277231259345923662499623640886881048572831787168979644775390625","4743054867460856425399742072925732465660626340183690464743217147109403130730445842673866624947360862438925194786600531200056131309608642363389833474026007798643235346104937733349791667694862514383520689594596660275306247615314272223660862212527346572811422915223417783887717426641317921972456913534338708745549252254865615725859881457906376/1021840037832289788284691535543138164288462770384961802287250236519983887262771944174557087207566030730743075334169628971336358708580124427857321953981475719503574867471090607795242192417162791762511940848493176847925838738242153177311649130718886794249673254183907621449520415060660496225939963471753122766421338241291756892571824984344625","3784664074155769467702999785016514468281913375341134899878893061325465790589101335015569840325786070795267055386681356241209412947116340524588831510768864231937929260236754881829005065056310226407358204278658699999612596866156294195316867934035877283950841910726224355461522065773816109849107487214275801829843762482082803559183694631856772777313673086715631547326400170962722842240/813783281473223559981291694175087508812520505931454895884442580280342455516154674683217348039336712901850738745276445107477919518905155156380620466135946654952837573797479076027688866326359448543065305071605591497778941561986579230698384305536224430794233462949056326864499827444363206162251104552740175503996670997705423888382328014210171324376593090187604268086334796245552762333","1946671258536842642381655747294621776070051525209940130115769153666368932042152311477746728678182920842238801763565726086459485050237860693394471644023999467670017470376746609892484192072297938254898880354014176373253875722410186683852253828299669530022166361304397631667133689128358365296701757782382475692465977794960109690362462330857/417774039698408581013003883929127512062321623871486379101498968145670269174833505080260389860863417408848209525427705249526516766731427603641806256289098209429110794311660844125377702016056984573671024035213045475132134896835814746425864304907974005950155657789157496389234919107772201305672421982198984613601511388413381215220924416000","328578487723377153600821813410631465225159589727320893988991729306688663770697528156625398176929288628930496338036815910669579019719633124832162035588583242320537435554101841406566009219059042888412893352417446437227440076869427577701706713564212185163005644118869496869980925214424591264870388237079776503547314587137721633918824664946974571838634860386893404364499977966899068777016064/70382695927096628347637455030970644630942872888311870124896575877585692281624151103204551947776906510366521972834357031777287506848887607457751667816514216907338309372900327919413372044625602555866294337672022362865161523684052940126509854895320132828009551012639156341878073682501185688461720664801829933689280752623773789373199210473995823367199793407048741191786377993390965297664875","2617201476921368517857942326432090876874414269689140439151907982631768946799200744678055980827789859579196832718849393046147656447672531861353456343821196812881882023188898815179947651274131166835133965629115749368441605680383605331300030886676081418867305170012032824011912531673468215561506423833911621270680104083533917562622600478548/559567121085534865189976875600841717161617153776904752351231210970240323460800785728739412474960421770806162360125774000625035522428160837855944215417821324758873127567654244465281354654299068546570789547691342609793050301258532586131013585959164719533123826201937801986942606844854123769532447570107525081084531848318874835968017578125","636225736038986537559880265988431731529837451289737542395494683393492040808565905376235074534207026537145408562785279823547657299565440309510931336394031904920056464959974743525662459433889398003683078967642651812081450227654478095420306880762753401111260630654049389197602389949892636943971690212484981672010398108426002137114819838399222096538921225458913266993881960732663394566024064/135776510176793971074115131648637508758953050390591773574951317807919051619690313331192027871176160424663811116849856489187562728496099757910540362703888937768555824513740118941387831822900198029266206334350448626733139136083404404120210893986654422850183837974770675600952078956326317698998103770833069712616832650406225828969036781514645731022616236082175582937900731419575337473384125","266695771933124633677367149389643417608461366874310588884377151539325854547826373711099517873721616543570605935954334944030816383858485296542260152894035979141266909050267414072982042090341712035518685997484257326212454742816979806460287972757626105526907510197321350895873473656215941034605746494172316089636216915825022339855304925515685/56811706665210352283362623728191218698295056176625217939528332247537278605113496147630185544004654583441448319260578659922931798845493756189402805173037491645434052737405379674607517658118427614090338938517963215812444779184193933749520313676564187507594274551791388039139409235056119788261689087831209441779870873305232021728002651979776","3511806683161697708497547617957719390189982761002154386881580160856792742952365159764830433511949678304281539875366378131195670004345568047690216126001067194904446295336734931691743477531830892015690816210752795806120303198745685394015161323982229908105397857791180342330098240702332072396030780386362735967021055250450666535422528637737695053315137238368787607412459874094164027214953984/746741569878639983491390741637813989978804202898438708743258000150996080386381281307609038830698579358879333079215327202911977568726258527646560497079622703052765164031089590965199628534477381843079892123440214378949632707668935001371616475282883095939750704292616758568964786737752325652839226013335092148777788733453702438432279149298482004122593243860829060557386699231448957232420125","499543951252504651717279461487337168721376180441322735807713499521878076780205427598086756686061009718016175215146305489885835839673419698751530207404115002383180054704927695269921072232395828258826213554806570423602966743337801741633869267620843626804016742412046844770601322513184123515405692795346790813502805238635003099976693786012816/106032986203682550514602969462803214831559442358811656484036951559991322084935692953211120289352600484987931812632505499612220494311324679562152078883141464406938524087376964935494245010636163705698220308243980789514815579319533341929989455211613890905485981353837321342730307819060825125980500975023479813757024395422041501208805339176375","8540849722242122835873311629952985285477986765819584558233324868363310302206006773828897816547299245727087876984857726652932481899766510637403577175623031467933486823994040576431755172220921921877192006685053572215922347418846423419683723609799729359551828522978186208983138345476801247634773975311405913274552616037005854836040162212761099347518242200807692224460514057530656658616850816/1809694575992816440924165741094996511361288430727981159314194000585536832192004274726651828760263522962868944612215633976203596150606503849595633388319338251977160257979846235995654357082321611719654136058257458753105122024859078420173515189641515736029725847315662215778251370398007468665986604529263071981040014321717598469319370651877296085250322599247141397427185438573360443115234375","51377057693118720457387330519321684810411289582445982078756989158447711080414032055843805733348558621949380554029375294451303430269197115810494758213980833379214402452992657502777067850631862453239349835215260705131864911194740832694498014048717871429797341104227759557199716944554347879767916801106279081864127192611546757627038037780244683/10867246748205139797826516105458406878398263495890048637741584969144406206902037615496936724683237700974333817527350121106320991054058406504571347680049945745432432384570515723033245430148177097144850158758462968940525568041926860856763884474605057056550146491001458649244094211354153171337463406192651150028767064600270112838159624568832000","2517199821548153657910904242290029026229621935918771922146425373057248090467388430999870036608278542449661971830076845113363443421757278612394167195431759807908413353743377586893872930828548256216510734912027450642648789925142482023713336937258932978503310551945630359646777080073329099268529064437120002567758664419443374110941824106727218341795100740316967386497091058915066147604481280/531524260324016969370728057738851340792702640911631807178654723224511108065633433027773388768889035083734041289308124943130099580765995149865288328550751289346866467755881013217287175392101334538392596956248952430438673292186779006015549928829953979591250274457658042926539541422697852390294886719770034058916886894408015624288115732154492554105512936468520265305162358665491880968652687","937159485027553069020805864547349554547661693803137696125140510201297417077233061462068930061915381468160677500445535971818609631674361074587732183297775728389124966713749450996643183965795829780345678634356741756033039293590264355732129789110416943789326482663579413229893878422643110852069225671783017610387570935863228248464396615988222968188/197552642195166614912991396771845374656891854357948006221100585931656016640982345159207601253599235265353060942313995345483862152489766993442419668492877390774016299878943454249209917002169480134131612530977452579520564400124908392339263545911443803619972765231094502745980083350567509014991735227390978850048088378721210219321877150756855372125","5119346675109082499980756672052066247676641510661024682574296075659671743397880591881419516307292610449161239233139088348510165442597278965718490070997173182184417648987611422446347235659085092530927312760229499083348217392125906851921500360553758600756698605047197529446594606336369425040236883171542367713951500007600355406492128741649090501989105696576697387613035366083536629358444229248/1077349190930018641197987339365056771667455373500846354778079878558146320193384166982231171317419356136237346389570422332278447217033773023556383420372685049620361481309067017697564760747047839930422553324681218253359586320952896352245366885171583221864112040038531116947187482413031483309534553461613717398523132176948321964066833901215878133594739833910960843185464241840039390204295097875","58469980853327028628854378052548435225264353747414624620847476036979290604604988637469977624105451959796142112200285366199247075503424204044884512269071061176877225315884188402954249683107639777479663275428465242905314418930053869461904934138752031124685541853599407727446896558064252696813370692668496452783003306386669962110734257851955001481/12284458784412533668960387046583440199646081362484321078872891438551639470826582933879934711861551014258493898870867541349962531447724393381011633785884743889445407749238183080941846528000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","632694338036291086868292541736272151517212971647680989553388199374739841494700315711180961760384484042159533979873604395621016272772109619401112452105475906812313548587880899058905419220497456502543971131226430775692744506047039958551641270070996110661036371362526401525207493270590999387476275629412687473362310414634469788979236895300129227082421021999210841384596617452097273320509348159488/132710874087075221626157136110978536488168313127228703025408943153782802265472978945703742152954881438058373686972477195846162708986982742647038014147903817539418442869011995988024638278746664230046452545499722614320284478925059527086663455478374200352375121910000967044366831275681254530914306064535110528723482282501358749001657608122307686482720926189537227492041135055090784059994118192625","2022422468242151190347511883185841333968390991430363660248687284021524206079162212007263606819387821055183192871951076644707111802972354128011904720586729919826758651167984507804867954970064938022106484656560866447290934136610214175516487579122328055482392137619829739560923807880779865442016530712986750711199998190148885726144596663143651240/423528009127070458603837580844559347493775236970253513203186912091140251858605354218715508091394564000304400858761758838182654201653901408046974668599216804223721114331085507752600832390227068985693006017591304916519540245902645712532993889000048992026931475754508248265356181099817467608863068068953756055334213584649136541490530849577363647","150542201776735231618709653388506394887777837646651406023174643241783006776019388336318216053045300417086929061565868663031237502137150880313922488106751241006715449458736723129545400133450376339156062387859536289694727635468338235084533552501618659272047966040838509286942825414463511175531001410923014751124732748099355476332649458471135027773371541572374016038525336728276024676601778299264/31475618522527975728853391146702172347290819252268551219771201846701658848754300838383637247014705706066050673096278897933831272607774110183488615338021656923433335661890414740664480671162459271850877855521869741833030384682549648626038314686632195158507693321505500888988183270276134667071014075017317692121986144742473139078857816578133693776368882596780120407949076129685719314703426278875","162664351499283182546788129866259011542529017155637405328005084357078048074065548349602626724265307733005745244338982661090506394708170105916177679714664432754153795772811389612700051002336719842784098507498286260450939289109123759859710248621544296008356071415713931721102824434964336667980062728653562369697289761913925215639430496443820411811651/33956433298509232632327667206936379248172049619640091186698677954874297837764235300806836350019565970550533206216590639008637925266405524715041372407701947953283803854153876844320283735281209725651036513491246238622967031979233265136280687995181375582844780830517825595245506321879177965868747546127685256867456319112247572348416655367667187712000","27228583713734183629451808889147559240254570554044667607519238865891084165382075658707675405673276615039702916443152954157535195508033284355580742761569101934821088036084480297442018005972653124248838420021440899368869744141698556359295489470499243402799483082406238128875386939389123336303631993557844565927960009744780823166462314116039469622216263221278402673028225214534859076857413557466368/5675134787340359276387085910732530678163604187009567576895331134521132071092293139167824957253050637085885426100206370974479279292804959049999647539684766632278449357893560561608633329561385765035738071726214510832066885156767060324427330401967034889966727638276371320401053302413136551142103678412692111973028587922399670456670380189570979581674699102934733563330382821732200682163238525390625","1340937726818688387636018677960518622106989311577445614347061615417831160296369500704524022869612973331444242000788110133157689786976834913297544087249593601420972111789552905846168933014570399562460789075871112224533723259660967481288525220689577290386781169316008987012566216235876842757183233207943071523447855623001920854571597886491163165150556/279054368814522483241446594911968519760869180429079780837994812436395792594449929617293503975169489945136244602350941695478861584261665582123038340824700224583170270427163469762789603657025958695551448477050958557681299495041994050951692916032501884523150972841782658389836059236040091605838583126400660344344601879969354053137568588338096589095875","8910951660339249479517731530773509037034977353457185453617569046885132434552771722727442649095007828468878374139001808825741829728375370140505088133244952288239619141544661695065318568074863317054989982620944602245967155400712702259180443238473885690297281525960618905625084639870407113029712510345262279507055197024677292523214467306898573956604928730377318210588837126450942086527893437954864000/1851573255256476362977604759655284263358595254392797078730401113550522214182030016660458780180636930591149034499142464357511158868625309442843792189394292787657774627425816694628839987456477799348874853555586931850788645677998004186437300173080088839930384424797706381282430208961565555953254145002318893188197561315855286173276564036402546798318351229978103276843822345004757661005876638005274037","84997663352987536417038496128111159210386455419431137931308301989414462311135708114322046234708053448098538629166672456703651524480738219822858469100454933583774404032968304328859365484249897913676382909050450855222567147661842184538302991526635974158862033287154321908483007506326807469239745851379559259262425675035790574846229470041596801343087041/17634687575122715507915388096857069366146981156897230620371714518707518105157483283253374797127075689236298114335734874553183291806268149747826050838089931351158483980735336772879045027213982661634865556129548356487722537193914986994283729746578044621115589195066212043187229606921062007047940293972381121200723292297716621231320254309060321476608000","1648849257486312935416274009474520589799750757877252390543329851029437452988499485179026845292068377957697884739052491455807688429630524210823560524122596610276957537756142278585091315141096146341773982302888007751632401090642472506538817998043326415693840862261701364114923327286462650797963969289743571514890723145251583881752876340628073395708716735192690808352188867334842743895738955762067968/341580411902962140529547622267381834425264893226447658723654120920549166416114849731588552578626041597847002946105459812230979900480135423787717825697955152193526724029890829615845314765605770060975538542976523177976182401820926854406945392167140347444433885786340415437006775075196031433365827874254477351374236932624514469241634422312990555534789607377023339236417434574755566856489013828206625","4899626659231633406569362199187192352933567344960498139854460545644210119722856870634652562532083546344965166340063297647520613455037240144734014575196764021102614748218834054157165781057405100578668000290493431869797883155764963238760612333048336953434663867580862692267574574465371615023999531030446250351305046572267686566999209229202587258144318592/1013522377571209303732207048597964555261512342860326827024786500686692475697570284120359840724596444209277948648863014479460188496587721578075151793081823795161404110811480269106846359964436993190293615381593756076515012514100289406862487971220020752628653845345780766244842386136740768474703009091552043945843632199999007070800871588289737701416015625","362903847358088423032098939589019598036593525722040887883164115981767777873860799955715587436566233010543937498922435963385091400670303956612881974450548904906949032005878241638546734597308786514086678561900713741746905742866635779432216761799371793260025549698865319760786921444505323758235164807966277024031605673481480590193724980659448692487108892154809490199414370023696404259691299614147712/74959603173756091922435708504751461448318819548943586676159545028063979695880930926805574951275602951047845904770828900645717477098988124553474616764040938121171776556999069351772286262529729056288451037717198273521810585868307402693261479298923209587143468206907278220909447483738730657438961435587752873879244136801168836767273934997417156543866722171766794171623224855358640156858606843576125","8521348154958613550574095745596657249924328336262127244827955886474742319277424381360677655239017583606851483318951440691757875270001283229585075137091617073509041644097526047127618954293881264113694362598157456878784814696577083997902588926421675843291157049153701100218784481406086810264243143337016042301806376864424632290226377881206765051896745/1757584673254145109614914862134217345456065873908262753169404848658913774363650863904627183104777337461445063704655164325930891269843669860409763569362863600932267319335889540453302785099532688264425988677082044905948179153286276609910158854349711054144968131934713419772852663860893241364433872853338630216232313607969790083448433666334742108176384","1802461420562646993856730082999823508145602238125054717836501201545920604020389361370931345491160549787411668288359013059160331370751496329806488246135100776263777863399096485894306306621852596694700845918608199329091852956315870664531614358379176680326508877329862713333336188556181470928613423972314983964578645688876556351433429494008513812136152576866650152623510296911708111085518974142728903424/371238439252064016214448115231139360835481920731625321084601566992497057371416121407293286027832357816257507287295719261141426130159269433199862002841433235955835172774430690352481806933860390015899973299268361513643524088242973968537595085600335021120523852420135081643310663869327371821064862449426404044951571585406092523478861879148545678639697679215289523234342337347529225543852787599016265125","88795280670112240977945082069219541902481768504536167808816453021962616596410396813316064685579412429940019071114917828928080181638058444302439626425155946562362550070187433083541414569447612195370911498321149367969974762244140788494955146280201020345849385865084095189982291190135293114489407801749533448443222584092575861096946605418438181411489276/18262596223069549313969288693970246663726147886364354584825624311486557881239003216971630599389642752648815377795018130449384513824927138566203714891090017787258920529990523519479383032564209629983810866231367438270859421572641494420831435563580050954867101292568399107965982704216434467243223964964535464624988344342084084237484262612100980519602625","752911409358158070688133336918078236438086521781731735123294741731669530734909563155732092406099003582749182967246236657021875488130304108082404134004381196925042617909108654109138702993903561036987511410396567636331465803949049946947888490287210013788802287247422993384874670368649616782837096233384279817294778916419067404863458318451722971117669642134894906235066332205740872938406767767019265664/154635332883086377656813458754577288834216641577439356891585125701020579768315520324293435008561626926046988056302745604248220408154454267643222328696606367409715369481567213640103076112146615938180089303294709009813772509602954514391675152597458428326644988225555987883250642389550531163153338541870029415077982539614784206119074702022117790679351778993541426110436276530890609137713909149169921875","15286089077439918584953144558775765002061832952090847117286473868694909713791678395221438112006475047633028543501632631679316850512797978594476229228325228403849089079675681042224057234415951253954044235099139983386056610384489202589484570852048157272551098909455253037561994944665563291526597323199530997923272894119350512727802414680772513760081360291/3135161418037836259442831302977219750614726139657718770206960776514822107155928800694375522572523712277389679035632531727155957120566617736817225541673148354829212969778664144907503411589126111888917929495106029890532891919001138770210977012708107496187227751496980000137223047079127096028939624830654227758737339725345681745847598157538483308068864000","17723482381737693269787076798246423310802126092500438681864673375704464394105734049099094818738115345706100191580982712146882034618103161268453808819471603805345990162762722549964406042295355916458624836894291267553138041035528315839108252422478610879301656207772491548742981990469454529537049123948604931661837539943536878260665617524824604291547373872716194154198824107266275716083848262625068958720/3630091565725887087605600771358216927099748013831912080380983545872077197366172619225751217619097657405660172801849926220948413919823038425519006413005998509677472226729295278652284861834178791332630676772284971762683579047508016687969040658592436230062049051143001484384767836353233324570686249824980508520186643477313941054900197268584495128610811273834192099099592687485176400539748616360799518357","39160514032490258389003214587901781721548011632821053230881239001436341012396166857515197251499460842954863342641015306304854226194551189224721257664420778416733889030680295206179109679627522113592373938602737416822981698362363553492610842201005420727750505681358595340127099855823746410663750133019743170700888375554918213182862789028531284364877435896/8009919337434786244380818390213546866794958389603666737562053423775386173149395943310276429895991903753441584557917565343673605019989336264748588735390182130334278887642569515202100870042209261561001627386525182096090194076839370589780431326097965428311786635366819094633651297179987340498215947144870164066409654464551017761658775207392803825996394875","18188388167811476762477659006849121912679763597132233588170406666718758511478154418948855160838212151370453213943784067796172102916618102024199200086478021533171984254799008541948973652219533819511807681148179806051835318645591102296256347927018942348574774821478499092054497390790734798143983945096982240517058861467440217558586822663985584775920517755909444876443211404222400335500608733284461685888/3715278241795087610941547133490827711133909145414878217965273061493740719983191775105550559905283733134189195190321643965858771461560130864714477448011225816210219450040558581571206711791272284197614810026220745160693898421068168630870850392739817340370146186703867097982858560347971281142766235850971837330222970900661653800041795020382847588362774677568059355238174402415384788280852059532958121625","46353430636874284402376008361176880938798775506236714098123916668545331718677407145199311191108199195405139575147933283523305343027297808443653460575141799729554209181454676876263582758919969948546918471128299522715691694855904535448703118221685887195383025133924852224568922999317583667985459047407473419196367812949579858081181660610155317911318937349/9455890179897829052705408931064120820559254220394152447502395298827357144081378513080398823188243663943177539817982481713456798757563952162598464929784370305696420245648035222083207596797327498500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","13607414211126412689435920170832779523235279308039712294681570127241403406455725064605210473923965685858012114332021572088551127762628892611459785625407107300355287623761046438724706918300976102581928643740596336865698485838431972050267114940079353996100620311097561405192365496385584164725035842307146351211183443267583872067352881387294766804298681841402861626441205037637282007810811602289501477350144/2772205947240095684743358245950494400934136973845543049938212403703005150954425087866758842625041409060217562878157900197951382737615822655863548356735553650755342108183641353142157728364469706919993519071329069805875834057743793434164720370026073143626055293058601124362130539040404491770346043977106988100969901297669523170508321703496903672333781306743488573086901583022550356345156457496396749797875","23264350093315690507131500726914401771633259602904894387312742275462601574788485574913195967854009886824436237740789910851843045306673524324611130536719802717912615609109285261163220007241492964833933975789257681755002054890453747803418465119567389315754801791950553304034666399677630030683759466627797123971742061866928213780452325847848901682792886840980/4733430508316851445525799359992627142007028326865116523033957869609125212251136452396410236930025876982265915963089597825393317909648054808274488356887197933393799241941120691826916741647173843634076299630884655997401370400734954098249519111198509015387869462198674657171808841005212058822254513429836457539629035675822719720295352508916898476137111981397","538960934807826161927564251064896730663918579817797131801326848839524373936888402762331254883505157846659830555799909822861853145306547699817986010353774500545305596630924815657016569444824389893996399550343022444937690798126189162954188680257730893424775303801562327757655350002001080811866451425665301674688928515041429654624970707803336800125648742168380676815769457467038849213225206824671025803392/109517448833211208909213522579666376007937648875042608355810687327424621469323788799169718267715808580775296460944943658428295481347915131091297305260674731651980547668762317138753250458639043477453950774629862540017034566407286963562574188172753764978963685535201028286359818524519980885827473904574840285411260037264057197155527809916623487144493019982419606308144576939532055057697567269576800542875","24451481554350251656598350124163983489544445991992661049829014268366250968046589127810466483349378560701491445658725080497078590986743512397927747885285095846398852574219367580068049729894667374214861939897557930527646930793431512683750733092448862551580494245486308114129295467976874843852138144539250235632985676953662288536669286915983261820949386845806781/4962240683851186225340479316959605207278948397833849899236383273145853045488131674290332609876751222112917095096150531825255611911377071887145019702433883343849119017643117746273523770961304609989779231048095665388209125939879595509516490230961558353074751312876252070889983946768175488341370453053495319823381943793679003096504200440997908071027962806272000","166591964685609920525429719961758335887941461052357297159523350448241484106515158310298216150030768812873781356326923214637847449893575074813991141092681107583183275003570804134461187213143832123628701876041315736048451374824101256980832991214945762266748755723551899001458245164317581617731332466039757786839492869211248064662857987111284518155462148044812626055842061283907063784492325693994911811072/33765943466859756347231737285768516240749714264564410814839966011490233598006227246396923594069488496368994857718734549787000213944990695920130591750377483911116845697231074543526982580529937081378303555262933800375576494067959129682770065443667091668104132884375840812635624862495548888467575848428463895756394050252457592540570490061561616914443009224917652440212112452400106121785938739776611328125","142464729519206642943985715465196065680101634264787375740459792619754842396453535646509170066091478069799080172299369994438836484938378991283020978342879057271045033903518255546705211647900945143546293360496661466657600494787228476009216508124736254967761901224547269496682078470378676865981855568197705507111970901389105723589666709580851611656838285777566736/28839643075889294346635430272525349651555039807615358795334663734940126053968249608601725991946342449660829847322517564370606746964714098508298705743689729306507554363954348780144675937510900983622836770223945538844314468550644543502501484521561567788992156632892028591678742014134130878101553633195551605796158103033794695984958987367799607407626319024034625","380457154857422076784416625436182734840012277442496600178664323821064977485271288502806124740204295811759917468598315932331219906040253463960961995849761235911145436552991677050565022181516596464968316292789048809559129516930574340710998611088996508613850407294743457197519091160170604426002924022923388338999324182261954685794522778833029950214443271526469607532589775916381786492089432407550224137344640/76922142291839859196033215395526448408989799722090330866256930898223012427332209054699494033511478050536463051459450844520020426942553107946282832072826069342120835351421637970462054707566481086202287686453371483126873188020538661871147778312986131920021929455276187425940666580158173676284545586944833678819622895550345083175685846944633982680908505900099388037050135210936852210263717185637166725605577","79999800708369666670693340813609265988600461251844239982904928629083975986385235816587497657678297663151298709076884516168798694292862559083730259839524968813932151813233366175091317046758260934357096757322369138747731224414176608247605314668045838769433811781490030635374856042786947109101585097035794969502111354126773165391577217071956928171336060247633607/16154850265413610119312596299635391433380319311682208755390341659152160578366244774029302281068833963848811596545791104919556346810193385001196395489740571188884873246131813864782581356887110499639544662322008824704830818136660544673293865921754569356583698951612797219776290835161780326945625621758204931298948625885081325268123344406261740843197232316416000","26517014004241498798848003208133111307300592620947908933072661812816683085261359696887064436611747292468717739609776825664344064024535028242737616786238200200498291226984541942836459188328346609549239724653950302145388877472274074665166631509490297630344351573245265440164082334092997307729007429218385933622623935704482371360985836659823269511115937443161532987660855490906546130131716829909388620539153152/5348257529530073524280989257577050878033239486885664777340947102417077875628238501791711336803418503616042922880218860266611595594400020206192599559925169589023339295256084579966533260861249529670141854632965231468533448709363477120437277477668173149958267956654411822360053335695956270719680086524322530514249891157439878407417971839744392044064720476417844056346174795601710447583861127956455406902139625","71197348290771978405602732839537012310626009318133570890482364371056186523989330157966045289127980687764218363064941391483781008265266963537623770685390148810455244349859354857421474277963009857011653865476081389968122418691934354122230780300833008753686234433642072919923583176333668289998661499146617277981691372057042930131717336250309680764289256080895092/14342680993892886303954853579883363225921109635079605392320944523109187641283117181461662846411912306480691901515655220490850586434947504504317080144378185989596578890875561336496479576651516902048606328604696610314441229321219627021610788398730173161473456954861916116391687748151443335513249810808309201830214153565966339609616397865465842187404632568359375","342401018754023891059352629509715357053454506037284788725127073168445189422181540408896452651232759821766616850264122591225331120588918865882061344322996688880669665450231982002597398732201789017495427566260651180470635467002453249479483900268320570004293679361696197905823690145326531180324429318916092471863347575533714871355651558610515931373080997536792242278529575700808878786732127630024064418468916608/68894647682461956089382461406499759613691148650738957016015844830333168307020284281532026442272618372290646283794122772122665531108484704223311663270836645399554940741928358317884620420886609705267248656765357348477857852684140561714900614303731786621656041881975328169543884661780531057279582784036689401206706069028229798913082362331334839997133771880514515972024899408556517159759907883793675672065360125","190286571838805495686895463752492174798162827967490343625540320679760700551286395956241059969689020885714190883323266375067607282890063444652926151862650426323339187596278760962390404656342309737428214493422028545912504503974763216230927196187743439226243880933947417760147785405444976177822143722569696182520826218120595298059020305548681823408268556482981325/38242608291912408815838081993045123864617058390583394828737640036167893859507494091864963383596867701436244007905770284939991912884465101575490548813894148831966132970730263562113961685364216989999844961688441914455435934703797359360780356482629495214859917249465567846934284121032247250332634283689409883499295469118485912489058982596725212975311140618764288","15345379701153714436938289567639102307887273898834051456693981514956329731572600026866162286097662958712922836383881840211072389867463987895894067288699955858337488812343674818565432780224654423872618380928462939482247900055572079914753652915184313685270722583926261499687728814560680092231526501970431280783177357735398580700300402036873780385926225005561766822479878280891130232036389707452005183370152749056/3080426623087819678602049171756961824196425548529619576972793653585089380165862889092832375934535464160425580449193072125955685099151500755278763306599307218302635233595329082702148677300945556130106197481236122437978375963261172524503625593066102601042060541617791008722569799735202779005407381267021641545644264334109052258081225159748043792288699674153722046659880085850980843460715080965607434114275256125","36443601662144279337033484452272105547257065463167427418525882851507989449375452076227652634440476502702584889057376829320548464677623038648843251719168810701744338735202853412651160681259533015293997501525430222870696235141468274274064390273214484922080219643095978640300874086585386991338440415203863901714217818222666715642467237183267303214471854472286478344/7307237990148312451155090506264642657872224684879860008436735430879314349554023096366846856470375025555139219961666754780864835035902856314981482268319886395881809659368275720375576152008289949085453326722156553603358879420820012964006978808113307340321824660484441618487292138631579616351777191144073820686595597986548374588839763719082323114663844043046087375","1575294930860663922843149113097927168024893739962464327016763741314068438447271326302129681931564068796631337571133444163024224071270063174829664848259482066723104251718808936762938249028582992557822551950212098797718627418782376027133576209718376784834456568694813577764300716139817031545408608110880973380162736536313173329973171844528083756524804574267826691156368696436273087171467254161930265910972517504/315498546654512047637461608750018349421492986465373840347519942494904200733840189483934245529561231604050629653992944140351106887747105945984325466452136415067807666316202346895657914393512001212656936450425268507235863153258769360296536050028695266363553141327896064944506216017933135251875087069031098099192325817395958019524956320840925176589616439477134480262100237057953933117460110224783420562744140625","7692057599553133417225997786980128299372439542315125030077404519679450372805989755158000864378924877036225189784045171045139667691524763609840822628706422918926410377185494048355128046783294954373197082851501927410350313585640237550107070936498164597231431242858771457898152684298047446530220873884022213114819556822050178579707210264243087257050468000092842761/1538814487241112760739561704846381585063002784795057066438330325566843108114787083741788078680861495340026117682606689156065008672344707615420501964123121620401073675430690541617930520947170306763541251152854304975131871537939618684186766168376514664494488691311397307418298556185724993104760692216619178358268934740746932420562664234738576394742559349407744000","15190836470550557926140012263310230378455340797095100474720776113765300081463960235506950799869073894127884189857505951314428810423734978025409205413789025720642609035117121385453856877706229778165533034683130064865256448444765902482146676668197546098809055341050873494446231793312407516463576380102073171090898973046611572020564659042146465345334273595086941562425006763960197801018796906114925005810069684480/3035556598829526968124942916297025416522606357010637652635799096498208643970273828496655227572100159414352020909846298817521082538898702393916708804775798552206401718323929157863173504795127180177622667376867235806208021329981136637175570409791442328468473111768140746895005561471574356889047981458002257872092408771959478275534098789982899056118498417649167444480913552548249005268380838457505944462494874581","2923754549090941424546974281011770689534961442264350984393235983189168024079617848190236639328676436485460311093391982825027512234467853098757486086492333410753919927528867817406389678461354257841007722472106464785557179844602277350411593959136520732862935740433163383885526249897183805981219416420390137516812715245569037561966929572448247077578419534651990827044/583599691615378545100950777601104007812792435102945248411439102112424251478512952087517463400054567832353967731887062349496616445419782499817548928078665212077449420216892583997505908858360011413290038645573504472422610780073975450391707084016931661068694024023083417126286468909117254531307085545768412513447197205482285022417611018126886491416133665625891075125","441922815213568908489589193556560586318864326425397702047965372289295962228254658331201274291697626694859414786292266008476137667843874780506886929181835469302142365772763129838217316953835831059616268288399119642314758261677639945004547833810080700127847214666763863338091523753898362699222880772298183760217731228628442782431573977490761665091005756534420789258276075174436091798475838370152192077494553263232/88113527373573049332749294663402406454524640221866407165839162576979477138694653404281889227416977618913249275712917582743426231744980461918772793673202077716234026090308791893409200158969108910565467273725064769890443408324386897017825489615600787634985397885230455168591240328585041836771921929567914891379235573982442311269392541694564675053636078990836491104116280492254795616055818375774141667319774630875","91197133767962483852278456285591810579974783077874307589555559715577599604626819245000672929518645004771085106770784762994476973842713035791487204122653245797126906189270204029735872508462106527240320932458036231707311992868347221176460407003487373754014365881209649632547685657666691589606571865740595829983849941049450471212387808617247938941417000965198123059467/18163679611214677813643455199979098261849405189805364986036911945012016248297645596270602508015864371788974684317239728239847888960155365342460843559658233069613218442910226128113196984801126248862273503232000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","733396724434554481470656964167233690851279923085197144879644750437402627936723531635898542414136943003236478432848965516925891956615111678444586384493883113385335463639674699443808084827715994137410743992130712903997815471369201406683862985677774155704267039224546352414417632475628136460919900347977754644214725932476856018335195927604771408949980634142255497812566866795799230501026066145434755838336990365184/145912495644159810313026420025053989609942265686388630266226856650796088768164358961644113076809511566125145395699271530802891523741636707532676065833327082092521989958971154798465784847092870457944857590623097781956884297103961713362268264159015928554707158239398721416218953003215109202771651993622244788505649098445109438104466256408060944298437033058380804126574878377874459371251056800895394904459469832875","167606423853658713615749101123336326908381619586838606922565378505211386185130407423587264776519589295420758009764678759213587906216543160801059029133457062067529468464636376639307690657945597847080706144898920305379653754920571797771178341550808041652360635584401789901525709166172283390177673009483341826911179861584213314395893323035527116283758445038413646757280/33310364848744488727470761889861069993071965180756187311178124887286133554324042422503263994717993129539448310743598138364172889305532401505890384806078790034557049074169245078416704866867380089103064821732673967120808611636618526737138435792818828990403374766228037003927569643972203993263329403469747342204808360947840103843317533210523853631711601450617095736473","22466735478643771803624909352181817912387732117378538284107485621001246177152644141853604633676939694208131243081227668237716194316732125445041260568403752325416203858329469477774720998849334961751541191761521224644520742691981372782009394826739249604257098248751626957528543558542443122470657230835176462612530464044652140581367666271771882198747182114685116336512604038833327707163107207664705120728068987996560512/4460342260599110071819142535903990817893424192972341872394014748315090430999224107274777695306032783105944721337053156074851240201179902835353097683269298594190456286888326067932777720561181760369783486872666974623910515795208353605697065447942804414120030678603538761538385793829787734830129764152263691296719726909633580318897787729004972323599773548689272008712427926734258913271101899780538635213826239542884125","1972862002066252798837977155272535342727415329632252213508267781390870646909686724955861608046325765650407340102472833428905279473185818898693854344138403744757857928883601637909604082588338869612221777263582365745419719805587946558326048087138197694016224613118304623864709183681172362693106460535117459192992832969130895829916210933710820035479169562970982784580861/391262854245936198649509275719624152305206807261382621390946060636032376057385723427601113233050260359684153963520782285097664628279596618521963444574543409076428660874564026651742234728997339844161514273669735686516761239076529088145208958938384732800586298943281728435207452253170935715239392534815683367114290676180839217919539381651841151674859715992309727232000","25408691426286653276004556426513401767718328640048945917745783225459709487487356095164164652218100925888847689099153320777389381851598236046402124684511968385325107497047025485302333503075085562533472482645023963717347867696861885363417595298751490212495932766872748125111115039311507374363000062513977436921772096443948159289707996749061007112458126301618769295162649600673247799961118662602756889448152517364992/5033870770817104909025512331238419776407331281944565644457345507262881100618908405924951559853352841154730802006750688581603270849880756026262217651685813584900300357685874044482329601894134443542753690048962260914642678445058891387041919581376195543193199307524572671344323361282633828144708683536721118910549933336800461248338059209853766305058943888965279863852107507075916981165164543199352920055389404296875","616565940481577765011174617619124841631603944267256178093555235591208387588894068005162766513720546626399308168923904625210748051788652328072241494243040185611373035059619136712559505023703153194815611268503291295059648269772663939137446253437248541496631852986499688052678961495116210133458596866684413931188348798244969797973846568160999564540652111599082181871436/122025682149627484528651507368051367620578469392233875493556828623437869650284356703295836998178256875766319508797903923638967073687991229708051285605187358616531926112736402511567721889845693991963610192161413692928378708223712791930113386840109729368772998347036090902364801014045328348830748307179590755723160142468563977011700764517880467116766150322736003147125","979882056834583241477188686550561625289337025747787132773853690143359657519481397575561812727394470125172272246774578404543257210124412718725081536309818383310896102958167337333430555168671327992395916735022711297435263157670501117734412587691271084981140167017421900852550822579410636184333142944411060788723653596377015359036101170054828623669169047118551010102258802465554033173968468183492058271365801755986560/193732066620504775981759812703028757608600125742477178751189607602983198559778039141192492589734277739017909889924488699372940787977794555519474807920198944109549023547259912324279741006975129518191081373554817584214941629021088206977532599055014150433581544599721903881284581257812850697423350805715586436114842183295730680490110793225514602133304729484547181740290534056445482186430729398701311563285494964645419","1138059441890428903336718712159907364975959482163004276901676063186939296217569849990951930955270849692775077813359573394435924934540269310629731801376134549169322946310756738187834128956671195358413024062230774111935109203207768898525882417078119314003162592087920755572050993355843681931139257303484526223461840939880759908449181135029327442039666513325916729112853/224777393704985303260433439401503507705148576727364388720387174977154204629336985298082893443205223017966145098064861566754244624732671470935725326043491911142467178027013112527668183783450932992534517827863293825061296257420183669383719043873666284378647952385401303733274771042385666436214517205678674213118374889121542369996042313879258622144464565403138392064000","614262617634904509410555695398092190166323289787703954329113412647342230855826568873946233136303566178604275296873234926652080462259552775254755109931312516616838091852915397846984381183732773411263828600108443070778861986849272794442105107285234729077818614332155890946804257724112143631642663084660012362691100872465148864413343598067567142977134846266425075195546265101720326272502009234689388355365794889444257557504/121200854655310345878069155190734381476914416893031941761756379148622591310152793328910334357724762079139509813381997287954319983165971628429295803162563856219211627796200599196263868781937234015821367575512548522790158101892507996780675863234181700253545912643548466256938936835469646114659598727592390628209362096738343417775009361678599075671154405137663077798419897932404104579113056038271753988669813988076515476125","106893445531995430131837569895703697604978445859412739331042151546083234373443601923983714252801103551874986033841637079479794895452077803182698291822629713500021995241940133037200268381793282318691568234728329378829301282121562652452936297422136961147432559766896143081059518238234777055931999714973999553456547746825617168005650221542417216291412324174772893635832/21070287546583154895102927029203125577385528350171457634203261197137238923923245382493868134869009844094435068284335909266152042903157700510534904847257436666980671067329084409346149729385625108233234542133838924281113454526471855573271066865534480974484196644173270141056470857666632902827625475719738076524047736123182255306429677688129231682978570461273193359375","1112742798776748551928744983308584493817112400536084744850969025063360679785378789764875076529575583792571198510306186417773101346425704969671256564494135750783642910394213727189639661184379341961737135764570942961692159177189753139209638929302928699705042832922774012622017270172331722295881412111812933593370743210214549038212395941675257558442878012136484052827439007483777859391215222647499741572327725689840850048/219121905514652575155579185322367175400669386131891843382447432851122462422992147756333729893028362013318264155489537138133372703295804002840920402482110260590055749843170064921843460498824128274420925357547023876488939786863662801268798987685503391058250902634999352652063668663245829496836853509616873246554292796823779397317819134891873583857621623143253788854530146303641400986028503534408870194989478421253057625","983995170259637497940121707857673268620603982844439610076334749792119502557380361624096960070148627663305171311646851566811683351232268240169848810658089698606409195744471343416197434926513684882439596141368794175162315633192028977211909698595778839497844847281262559899914504080092844816319298286511436690429175757804604673752838786852277255064434365401871903307643705/193579499709739777577893639665643417521924510242119561765932078835121983190401762561436208758210519231103767232899529457440602166918701550386152070813526760823513884391055054076485295945972185402977095815609448651316824455250005505410192101148149284756928250258632031981439345164037318129987999546683113483700660879431801728391911161900686707231543216283304182063038464","30691013076836380319652884848585431917439358375118437035944950498156836885409110087616602043242747413728866747975631727566613593257623099549583001362246649928075859944695060947434885707102684568632559339383409378997568182445019183928058902445738702610436187907199482604867148445903921474846103586253320950728989228898324829144701782792767763794895137313050381112872972806712570559942583906619373159053654481250809168128/6031936190594376585238407905469035598668211679521553144958053099463931217856780171872253258738635531385711702176347575597387389685526098889278278029314982721284691198967204664771178761416891317672705719303088746953644978471289001577698554025410820041497108311270431130911021653860874238212040640737171103823631718483572464361276703378587106311153455557896527384426327053165214814954154328483257657424873929502112904625","33633002641218571027682690377239300567277297301791434890431645909447040830457253186262970747405514897340315490970846553666201190386457221846694126637998462873786334837901001833771510353365825087187582807843940479192544772559118293851131234910638705258664901225494129023244916125545283621607920983287799648992632814461828998517949449887522866259724675318233522060729654796/6603800575190864815125307817934327053530311915572323544225173935830559756077637251538096164499112411672913910767032482188570876526606118068929913515497400397562722669603861813453418621246538114872330536044519242663538662076583511078523573320035084744399535581216815034837553165853576616422592790103728141443697362408727056813977234078214386771115586436985105038873998875","9090550743395453237608373761422705922989356346696677314277463900103283296889488490217663400349361962695279888433677856471792856853109469433355422802663947305503479561493033851081993247556828544308258821557994512133708656174864544457143793106703578476914924328960109390350040954158797845288786321215010324565010420734044059968931558099077932776525974187717655105951506223649947806568984848883258144616897526257038550656/1783219994432430133950472014582130883873515063182143523712063859964133099770763874744121895885645346884371273930727450069430704145915261127061538288702855011220545530326588799412076879985026006593893648911637986337776174555198865379578424838210466703683642106934154603710587408512357351455891557594977191641529451749437270208258072920514602243985184744955476557012910446023911358037761232253615162335336208343505859375","396226087129511787616470716244996965529391571019620342657409150252952330537366537352182763477820160355931003174946109480036915624974500187179367618457008802667089004678925595775249725629495848146669773574395699032785024522882892752987825063933573399691764866816284097232869198405981830106568826923407996367321353003569052419999880089180418759265274331299787468134974811/77651132902382550540201641628906752945078964002822585000619340261128555048628863996784740469908853602590877726845475670110127527874088625214912598995012971630852593597027649154487264595100300180591016581254965295280089902497540043916128232871685159131211213497239568483141031137909208031392464815187505714066235868748950184065923236670418822911614780061752905170944000","1288523130900767412477856952035690867153496584747510253984686336382980221603917538996138294311274357713893956725672062832264871415025750136690143411884111580335458539824573239771267043414225271729141508235839982033182605445173050590151912297720800168687369852280323356691345317649445843078291369394324862039143247087442309135074453265658730028145500871559458519282433012494054724678302957276371418936282902434203225600/252284450515080370603949213084529993395050575951188044032908270470514999880554862449223347761507020354321422785760279154913310488296485989979706208254206974075438570521939826124860483842758137231373182496438568202110337751291106165654945352183167578675508602832478752400011567482434301614269579368882858973850914513870297071866544875650189106576672289734326492492059816669288907018095832842249738081022227281715919357","559506782175368748187145067236900803925823792088293851453005882621173124590368101213652371965740365119375069053747415415684193092607523211636912074219215053809881814859129515591479780669511533619258835199715146655774919418434080807837587396115955105126806762961292429904380132116986984435528307613054828929294602185927322238461491059740342387266084431988727321711184308176/109446188216864405154936682374609448082436347600301765944233278303643744736544109262794383069197271409398615846380701459882784547857821831816863216080069944818453908760476475874319791512782445408136169878207358663250499628002971644430164185578966399908622640732411885568638054229180673755690889471388585521113862492432946110902070139679164884208988489955874131206343597375","365842109776085256207829452385781129402656684569922320812625438296958174120084800064669048017227033185969596458778213306152397766619692644694641677223213185977626940193107608138827771259334379895020377700759789774994800008933137569543592829220611543060189849601828342989023692876182148818363689293009174358168826340010491728715549904988196347316703985894355217235339548078187164176255405596310602921647203428200269666176/71497266937783826306774367225149833789788300609530680399994804704196212252148324552193149332755057982662844988588678159610516634667597707204818296457616315484973288944637139939912166034691155272078609876888919170894915224022982785138928008133003473320018151370486895637936102520353951511525996197267572355782608352075229547764732602557133494648237258900273354364050662921889937355682486287799239363976556848320046933875","59378684894605773397070783936113244261297966863668546282887298999811950599772732377979382620766180662159460666220894896896564357533604962977968843474062092083279165837424210591042655271577974272394203253875965589611493384384257117088518521598379301169916060951350650621757237206805037261878212424267780312614942173870651684587166691539909068452932891649554575072205080763/11593916877920131260484148322810317629326850763057953025674154928920977965095141485536566217873796019006709247938019404840440511433467040918770165456925609124166970862430104329357419669175323763143377917913760028500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","440706629842402075137926797732405268015915199334341565218443748798479563505125605478061664327658137598204192554352688830679475840386882350034150077506804799859586772904929402683276898098601814091430598259347980573084686932949502809068565420937301632494387691284902026088950093888426872222813857928092871267130505744095697172494119689779474840037266295586359244899477781345249657455186847452249040895151288114085352974933708544/85971876318334010542313048056773419567285701852816309711738644074302467763075671531248793080425349570584102078764464196653843973936119037322000695949209283327606280423406302517302874806092835694196353778161663338667091195199032831587897410329509487165187753418615356836636352319310103639079123698118997500068644500893282438137614420288839230827096109835206605385673197123994357393257304049093683934224826006704198171592304125","13220371178312284248107863849287558696210741535280184003301555188086761767176560823174196915070378763091889333203635784037294769747641959860810039816533609140662043493962707445564057197150603226797446933532133956054671103942520142568674339411250001585991743608723150284270101326419464088290151483823061613403673956918458456165552482913079283537536214967294211244361353060/2576683013797055224377707713704899315377379548630511095136568220145808780162671473907260623503552385384482723173913562423316997528913651044277418227616447815609873991028073011738113927961824632868956802271260292075825561646156680740323686126811928372672670917332613490241615850953660246271541592056143611581223295045062157404996958100136358649109693659623847024011265147","1538372578072246705266078247950089219881197139399081643650271348770110178217959856819170325400476655944115553238940541695152110949081675985299189913515975242840473616169775880272489805123124548256666658584129873597192213080038937409046114908719298170078476325423466734429870048697383304265342125425087105698152643145531760853127801123272389134514333752173173161562273487752064850461823726948588221913540799816489566883798912/299566102446745552813544808169323270315327122249327394279467999308669285416179486075255023523726449428151807672528368606071047812907935426406886253284580296349349558797128593446316786243666290649442956134448480598303527795996222703837663605600624271807461605295956674925277658331760000117761013381199880905748188151556184620779667670278558839116983636972680749836497346863752662521197700717702790359162307617024566689271625","281696937222363685333688097915539146272117417024070728031063821781398985795813333650547982965341298894634762289669256129805545549280355643122501181852136332529515756074502902204877664395456278205770206019663082511098956468724829475220996427130295010430751942126263620206886404244432409164651524408198286831329682605959881993845189585640874220032515465014097345759490750307207/54806274927935495596891312029173862473687610099325998583092091915101265393157631244775387832621032230434007486602816972765210205596482942091518459849775458089575743699797096697542306049628939919466378189656065461708686421130956996965004776108499273871055615413566043083634090083096967567965373203683231171594922347812966905149873265654962896456451681332216735396249206784000","228506238533410805238253122961471637501498406104430046727793420497895852412513560203475440156216063574654372726194215013407325207763369075250819386897086702757125418327084312933061738392406321003231853349865003322697360659712771167066453430309997639548320673279964210730701373707765051246595806673865646607841876463608039111252607452843372970797479959213447237540830563469297144446069689149549515457318899981763489792/44418759813188470246596822974281932219088697005123285598909329328419879212164564561558656547678211265529803086702843380128457744445765859393426675396393053094588240457569380155526179040891009717323059641035189017918495485630657360525410506453554255734005459614858972904374739673834145083512160883402151636664208253116362089211658645312778404886460203600762546810897889629330022309705583438699250109493732452392578125","2396110297187570506257836426251930521245117960980667897194680897478996322590925380310917400763581787981992131769075961259393685331523600287377841990678117113566991100720996059187144934569703045966210306282348527729533806882408323961336166190162075154579344185244957673138372347997134388801085788353482276257401005734929059700346687783400772331280644647089520646562669857652648/465370154262863030800729180763091967573522779260407615567563274096037297593764955820626213827962697601334935773802201919483657310282236100250543992334865461800976838791035335861420892967699843608855185710753433852279737724446294443337363478679601049432404435672469098850676302728116369979460222148206944323730586138087862719386327396334468302608499235112520318322763857676375","1188272888075247520453568790651819187486389546755745961952033150576243575862120569399808467067800830890874391487822723879717525264875722720416173276963170672622214121308038530968291758445510982186014289745026439477197148445087614813262170975056866881909056450023324743409114115141145340480846088869807540798073417035168139476153897066325127540609756310068558610112731607522096096821938163134080426356894899245575410494080/230586762395914863625709048789913840511134004337945700368117795195769576856434588144361459740833007125516905017415184787078710001969815416281381427387949263792200577791644278234661952852149216540491852757174842146376788280677956350901082838474705227642420261641783722891948710833898248566893322144435457967452449965772543077421407816225704952270697016152452032506898311260979594550143344971416786595888053149375287120733","1072184299258468249004114536023934869518152618369895613271618698908405514630154819453979477077738526673716264830106745031385951736108376866253955319711026042389282009348594845497252059906901748860111986811345742998968284077119165082435598381810306691078037018432766116865792677955520465319184311529667642995217214507658693259694586107847099911341219913576038605872218680562047/207882129535607118520818565811162643811811563516006836924341123976848022970024793004700710992938987476728640943834012473687892481059618823520721737479364352887178017866425027953255856440099446112508663603319745066750522936408781591578321031173620445865113295407603090322283539974563690157418931060565698315406021569491751612761888641141446406531645379264720684248398299136000","158094023904374464057702010126993231151433474361820266584020400101533651587072432728050776506672527718975042616651177034635188178967462982926261516748842073587981953038445977514446838733557926696939591069712397947055261777416704028506441173540338327591514650398349069348381309688677335132100441905603664282735310299686268721634369502296867409514777359935022301425165750780988231639828675424239931533849896744198012747670272/30626384366513923671063955469537776291182594080083494737341604579575446319190916924682809546024369330706012653799783122328775875399363759308193432327358837772825609356553955350401725689682838701996446404559005896479618311357573203081153855961484398360670837599853294627153740224543175497655414585918231215639906924313779933211774291565425360415684556655021031131349317390382320286092667852173815259422737956767922154798375","12216278924286401897470540169822542417611356797676160128176706721343511598951866107858729405615631246003458062949723290192242594609994613705183460814797527214549142043573863947658832694800184691222426521703728394203722420336773310908687071670107794543022567943478843065246011544888390757810534211554666736239506503613750756246364621509359804902243487113673014588325806249988332/2364584127734680580481708368927921125934330000162935118371174269642831409084634375654239735054363928748162229294829526339927907778510530444646754603322373712788147193691037688552857183116332292048731726305451516954679277320777955342295564000586923227775208580772868590742136150431152495718132142742153643081187691849828217592954519485869135930755646768375299870967864990234375","578939195017447864385837341975558679292903716580114421030538728778491606282153588930983966100514147976321305616196463174070345884292672842497715966933722088536619333912687108737657068701352918582656105418491672377271304970407730786932913490869797471081081431072836814581099271832696990064828717287258860166842791984158634684078346453202928137987930328826212011774670396356151265781053547412633310327737900786639842674288716416/111966291649651600701875186827360807558960817589719096407887999108024557254221008849510152469119211567152616745769256123968832250104006560061907741567034087109512483357851919402017950812795426393415409198268246337542639470834168040295134130657073201020340432236723824670803498949071870597039309004562024033656488150406105175401372709011082725359382691270659245312133919518760328422827067578306005644825927050994860723405473375","8041514821545833865350873212853873042112343327573364523948780030849543753072688526717886590013028227714585965095216381829914996539132359247488639692828639170075726301411777307168737667077730792892326979446426349813642680537699905651125068091362135055902152994216233622733424128982011248923051410141033146604688083721413402395290842738021365861670415833356403364696759583009635/1553937833499559104910551811592138833189892464446761247731330672284191313590708439680460540329836344767557599746234213006493842842879398684745864919973051635127080738612248150108793397855113122368507483429209127035263504194847798809612278864438287815470711036548695032421148125849669175729331459149833945183228413961985381338162155596008680906676498435954178226973272371625984","12059659399309169167301353842123191409306995788633965680414620302285606896146667751472818541537183787935352700725982053536032930866708413010971856856768384974849695774437178790890015242323873769697407411558706626105140596160049735605389301414460825674631122462760014451298494875244754354054447697502521388381253293175367558014453865905104467382184997528879171136492277222127399012368677604910497789360212571238146627048080568400384/2328494054002703067219004484782931471919751585969487160602269605916676223315055450845942763690581877771159615428854802721943114463834992106300185328876910271612375509166975628540839858771078495267566008071532876816826751069408153323840515037497664871689085370699991860738368371510578076683395101062439493831773194498579620513073693022191702398601471237166387045790480861932005012807234071429628725981935147069738988682858417182625","683009426705008850682549700382901603742691705123356866338951397347368059105140826655486518416578697931244347554322654428162554903861783227680935341690740579867651545205562690172425016836559678937794312287639193745517811234257062356826622207475918293015140472942579713388671782202262396642735640315948612572908444501108579457520714632371056288874351015666995549139003946314085696/131769214246522869780429817236150406548549044658474416909806179734873399109656411633488099249198882165279745627038984487365589625562901914030850178330133080409420340227179447548044572594184601425691821617928130423410997853384425373999967759499571890326740433081063424903098252502791477854302204200941376983295622430177445507316706609802292121282957519571162158620971952084486375","1418116259749091420309271913909337143756589314597557128553117870573928055109322864794169592355058370891251425125187770724828108988587888087023982451205475980371440423992838481547236638456717520835668859093413956339261802305597694403381021863258753441889536361061407579332570493634254542013337999844407181346815549594836374497512447969751514466481466717590255369810506813543577735080228718660747940956248427356785784199073569408/273368882980516556922532339653303822104510203916024760371844491705599093435133738774975538364241630079468712981056336655766117378160822393876348755370711942273876284944422610974149712212944211513462921649872232656449940987552227525504529710373144228818606127541937831103642415534318303187393593236209298242574677293352798419428712873685798636474667204083938875672934235816396371477146089168375198141802684403955936431884765625","546411077581845999248238069684194831621691193366466972898628141511422317954477211865167402284211971296286346492698354214043840080181702652132835681239302798339667835439189275457116051279366194551632712819028177402221815140045210690908631767786711675029194359998826252332434573121740830827417293557234891406021102083555472155479148332697839972702631641910213821827820374586459319/105246945889799140338072754365901705544530661781295362563214285953881890233987516230568663143342952799036341701952267011236663118111226623815975847494372076420199418712941018288738590264475520229651370015377608638075866459684692488079223686296541020897904588347083045723167762682959422858996673894180805702299907478685374065593161226849447131100462022089783265346597553176576000","2398330640958841474772606439916070050977544535580605737383995160447105736276950196885906408317628083110923322157113892928963237845914017845444295040924101784423382681801754191301860383927129006953354739240926643562987838836997453985855576402628166875869041032631651591871962852884189548538272285387092843044669499688035134181859376665409767886188304314888753894905317929877238322615838524354191263502347881033855441181420399360/461588070868590122892265681879734295007029130965626060552783760068897000195207878227714842617470320231527222074701444349530952699708435668339712860464533455345665068841333232359698449088497137068713309811942968433868609329301082001752617420002377892756821532220676085014874112083615054550278903960627185675459015343606391094523511117705747842645927349130302549554534056269331809016770715819934970200483161548527932617036185253","6041015879424725383006424536130409209607854044642113747266098198777011981328765528361630516108680392500990580908509403483891763219659726090675140672989657743882183951954294745396417829943469201306594018454995862321821016087416840247422350906412007336103086620396467456181771583200365740253389107968122850063607085957109965406634738740996318415514360956028575560979203447735121436/1161752799109428422288020947061281540989708937450568100764830251908850596717606701047413407636907934320789870175907792017513896999208892282137299070761467096211814586909598705615312819596495636017728313513520193786266452836805291464826226833593878504804389728477191170027729963773716267868284479768397603444919008915279522376004326398403851684761808785381609370767169521034383625","13240077436443988749179508462267267187169441948722358165090554769250505713747934643200804819418670147225695324432684266924694524337920816452346599774452681831320005286326986675907899608537972384924882996757503264622991355949039882526389342174307168805166215838138277557052303430492669193939212362638263582899713198716541723383138016564027766560215944409353427176135895982596327685665844815618402881202645610620284792793420780517248/2544223084468158291883698813309541801455311468982232546872485444308211415529998472787377800559884210837213042932180479090277285630234238711851480232520137856848809986631784843528381778520727465146661792797924458540957133423665746229799675650290296217658444899605236550972043549278128087645211909479009099766619355677984218929672461506691980442071860591767266913041147587815452007726513853820116629482732060593116624596368806566625","1953999166296955830935495158735359200362904181792947794529339487489730042568305997099959302322956898299616194932283060554261566410988618045107398092345476532371402134206635235570281738377188438407703089325315446371127042537576093536896282955524842632708645655481028161471313608974238110718242273935956977555610147714316158486553633871312187084618154014921190595222799283957140353/375191165084882521037046014569185165885459082629136124177286500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"];if(H[v])return Xt.quick.apply(null,H[v].split("/"));v=new Xt(v);for(var ue=80,Se=new Xt(0),Xe=v.subtract(new Xt(1)),pt=v.add(new Xt(1)),dt=0;dt<ue;dt++){var Ze=new Xt(2*dt+1),tn=bt.bigpow(Xe.divide(pt),Ze),an=Ze.clone().invert().multiply(tn);Se=Se.add(an)}return Se.multiply(new Xt(2))},factorial:function(v){var H=v%1===0;if(H&&v<0)return NaN;if(!H)return bt.gamma(v+1);for(var ue=1,Se=2;Se<=v;Se++)ue=ue*Se;return ue},dfactorial:function(v){if(se(v)){var H=v%2===0,ue=H?v/2:(v+1)/2,Se=new Xt(1);if(H)for(var Xe=1;Xe<=ue;Xe++)Se=Se.multiply(new Xt(2).multiply(new Xt(Xe)));else for(var Xe=1;Xe<=ue;Xe++)Se=Se.multiply(new Xt(2).multiply(new Xt(Xe)).subtract(new Xt(1)))}else Se=Math.pow(2,(1+2*v-Math.cos(Math.PI*v))/4)*Math.pow(Math.PI,(Math.cos(Math.PI*v)-1)/4)*bt.gamma(1+v/2);return Se},GCD:function(){for(var v=tt([].slice.call(arguments).map(function(Xe){return Math.abs(Xe)})).sort(),H=Math.abs(v.shift()),ue=v.length;ue-- >0;)for(var Se=Math.abs(v.shift());;){if(H%=Se,H===0){H=Se;break}if(Se%=H,Se===0)break}return H},QGCD:function(){for(var v=[].slice.call(arguments),H=v[0],ue=1;ue<v.length;ue++){var Se=v[ue],Xe=H.isNegative()&&Se.isNegative()?-1:1;H=Se.gcd(H),Xe<0&&H.negate()}return H},LCM:function(v,H){return v*H/bt.GCD(v,H)},pow:function(v,H){return v<0&&Math.abs(H)<1?1/H%2===0?NaN:-Math.pow(Math.abs(v),H):Math.pow(v,H)},factor:function(v){v=Number(v);var H=Math.sign(v);v=Math.abs(v);var ue=bt.ifactor(v),Se=new Ke;Se.symbols={},Se.group=V;for(var Xe in ue){var pt=new Ke(1);pt.group=I,pt.value=Xe,pt.power=new Ke(ue[Xe]),Se.symbols[Xe]=pt}return Se.updateHash(),v===1&&(Se=new Ke(v)),H<0&&Se.negate(),Se},sfactor:function(v,H){H=H||{};var ue=Math.floor(Math.sqrt(v)),Se=y[y.length-1];ue>Se&&v<1e6&&gn(ue);for(var Xe=y.length,pt=0;pt<Xe;pt++)for(var dt=y[pt];v%dt===0;)v=v/dt,H[dt]=(H[dt]||0)+1;return v>1&&(H[v]=1),H},ifactor:function(v){var H=new h(v);if(v=String(v),v==="0")return{0:1};v=new h(v);var ue=v.sign?-1:1;v=v.abs();var Se={};if(v.lt("65536"))Se=bt.sfactor(v,Se);else{var Xe=function(ln){ln.isPrime()?Se[ln]=(Se[ln]||0)+1:Se=bt.sfactor(ln,Se)};try{for(var pt=1e3,dt=0;!v.abs().equals(1);)if(v.isPrime()){Xe(v);break}else{let ln=function(k){for(var z=new h(k),We=2,it=new h(k),Nt=new h(1);Nt.equals(1);){for(var Dt=0;Dt<=We&&Nt.equals(1);Dt++){if(dt++>pt)throw new Error("stopping");it=it.pow(2).add(1).mod(v),Nt=h.gcd(it.minus(z).abs(),v)}We=We*2,z=it}return Nt.equals(v)?ln(k+1):Nt};var an=ln,Ze=ln(2);Xe(Ze),v=v.divide(Ze)}}catch{Se={},Xe(H)}}if(ue===-1){var tn=wt(Re(Se));Se["-"+tn]=Se[tn],delete Se[tn]}return Se},boxfactor:function(v,H){H=H||200;for(var ue,Se,Xe=Math.floor(5/12*v),pt=0,dt=!1;ue=Math.floor(v/Xe),Se=v%Xe,Se!==0;){if(dt)return[v,1];Xe=Math.max(Se,Xe-Se),pt++,dt=pt>H}return[ue,Xe,pt]},fib:function(v){var H=Math.sign(v);v=Math.abs(v),H=X(v)?H:Math.abs(H);for(var ue=0,Se=1,Xe=1,pt=2;pt<=v;pt++)Xe=ue+Se,ue=Se,Se=Xe;return Xe*H},mod:function(v,H){return v%H},integer_part:function(v){var H=Math.sign(v);return H*Math.floor(Math.abs(v))},simpson:function(v,H,ue,Se){var Xe=function(We,it,Nt){var Dt=We(it),cn=1e-12;return isNaN(Dt)&&(Dt=We(Nt===1?it+cn:it-cn)),Dt};Se=Se||1e-4;var pt=Math.abs(Math.floor((ue-H)/Se));pt%2!==0&&pt++;for(var dt=(ue-H)/pt,Ze=Xe(v,H,1),tn=!1,an=H+dt,ln,k,z=1;z<pt;z++)ln=tn?2:4,k=ln*Xe(v,an,1),Ze+=k,tn=!tn,an+=dt;return(Ze+Xe(v,an,2))*(dt/3)},num_integrate:function(v,H,ue,Se,Xe){if(Xe<0)throw new Error("max depth cannot be negative");function pt(tn,an,ln,k,z,We,it,Nt,Dt,cn,Sn){if(Sn.nanEncountered)return NaN;var hn,bn,zn,xn,Ir,qn,mn,dr,kr,yr;if(hn=ln-an,bn=tn(an+hn*.25),zn=tn(ln-hn*.25),isNaN(bn)){Sn.nanEncountered=!0;return}if(isNaN(zn)){Sn.nanEncountered=!0;return}if(xn=hn*(k+4*bn+z)/12,Ir=hn*(z+4*zn+We)/12,qn=xn+Ir,yr=(qn-it)/15,!(Sn.maxDepthCount>1e3*Dt))return cn>Dt?(Sn.maxDepthCount++,qn+yr):Math.abs(yr)<Nt?qn+yr:(mn=an+hn*.5,dr=pt(tn,an,mn,k,bn,z,xn,Nt*.5,Dt,cn+1,Sn),isNaN(dr)?(Sn.nanEncountered=!0,NaN):(kr=pt(tn,mn,ln,z,zn,We,Ir,Nt*.5,Dt,cn+1,Sn),isNaN(kr)?(Sn.nanEncountered=!0,NaN):dr+kr))}function dt(tn,an,ln,k,z){var We={maxDepthCount:0,nanEncountered:!1};k===void 0&&(k=1e-9),z===void 0&&(z=45);var it=tn(an),Nt=tn(.5*(an+ln)),Dt=tn(ln),cn=(it+4*Nt+Dt)*(ln-an)/6,Sn=pt(tn,an,ln,it,Nt,Dt,cn,k,z,1,We);if(We.maxDepthCount>0&&fe("integrate-adaptive-simpson: Warning: maximum recursion depth ("+z+") reached "+We.maxDepthCount+" times"),We.nanEncountered)throw new Error("Function does not converge over interval!");return Sn}var Ze;try{Ze=dt(v,H,ue,Se,Xe)}catch{return bt.simpson(v,H,ue)}return Bt(Ze,12)},Ci:function(v){for(var H=20,ue=.5772156649015329,Se=0,Xe=1;Xe<H;Xe++){var pt=2*Xe;Se+=Math.pow(-1,Xe)*Math.pow(v,pt)/(pt*bt.factorial(pt))}return Math.log(v)+ue+Se},Si:function(v){for(var H=20,ue=0,Se=0;Se<H;Se++){var Xe=2*Se;ue+=Math.pow(-1,Se)*Math.pow(v,Xe+1)/((Xe+1)*bt.factorial(Xe+1))}return ue},Ei:function(v){if(Number(v)===0)return-1/0;for(var H=30,ue=.5772156649015329,Se=0,Xe=1;Xe<H;Xe++)Se+=Math.pow(v,Xe)/(Xe*bt.factorial(Xe));return ue+Math.abs(Math.log(v))+Se},Shi:function(v){for(var H=30,ue=0,Se,Xe,pt=0;pt<H;pt++)Se=2*pt,Xe=Se+1,ue+=Math.pow(v,Xe)/(Xe*Xe*bt.factorial(Se));return ue},Chi:function(v){var H,ue,Se;return H=.001,ue=.5772156649015329,Se=function(Xe){return(Math.cosh(Xe)-1)/Xe},Math.log(v)+ue+bt.num_integrate(Se,.002,v,H)},Li:function(v){return bt.Ei(bt.bigLog(v))},gamma_incomplete:function(v,Xe){for(var ue=v-1,Se=0,Xe=Xe||0,pt=0;pt<ue;pt++)Se+=Math.pow(Xe,pt)/bt.factorial(pt);return bt.factorial(ue)*Math.exp(-Xe)*Se},step:function(v){return v>0?1:v<0?0:.5},rect:function(H){var H=Math.abs(H);return H===.5?H:H>.5?0:1},sinc:function(v){return v.equals(0)?1:Math.sin(v)/v},tri:function(v){return v=Math.abs(v),v>=1?0:1-v},nthroot:function(v,H){if(v instanceof Xt||(v=new Xt(v.toString())),H instanceof Xt||(H=new Xt(H.toString())),H.equals(1))return v;var ue=v.divide(new Xt(2)),Se=new Xt(1e-15),Xe,pt,dt,Ze=H.clone().invert(),tn=H.subtract(new Xt(1));do{var an=bt.bigpow(ue,tn),ln=Ze.multiply(v.divide(an).subtract(ue)).toDecimal(25);if(Xe=Xt.create(ln),dt)break;ue=ue.add(Xe);var ln=Xe.toDecimal();dt=pt?pt===ln:!1,pt=ln}while(Xe.abs().gte(Se));return ue},sqrt:function(v){v instanceof Xt||(v=new Xt(v));var H,ue,Se,Xe,pt=0,dt=!1,Ze=new Xt(1e-20);H=v.divide(new Xt(2));var tn=1e3;do{if(pt>tn)throw new Error("Unable to calculate square root for "+v);H=H.add(v.divide(H)).divide(new Xt(2)),H=new Xt(H.decimal(30)),ue=v.subtract(H.multiply(H)),Xe=Se?Se.equals(ue):!1,(ue.clone().abs().lessThan(Ze)||Xe)&&(dt=!0),Se=ue,pt++}while(!dt);return H}};T.FUNCTION_MODULES.push(bt),$n(bt),Math.sign=Math.sign||function(v){return v=+v,v===0||isNaN(v)?v:v>0?1:-1},Math.cosh=Math.cosh||function(v){var H=Math.exp(v);return(H+1/H)/2},Math.sech=Math.sech||function(v){return 1/Math.cosh(v)},Math.csch=Math.csch||function(v){return 1/Math.sinh(v)},Math.coth=Math.coth||function(v){return 1/Math.tanh(v)},Math.sinh=Math.sinh||function(v){var H=Math.exp(v);return(H-1/H)/2},Math.tanh=Math.tanh||function(v){if(v===1/0)return 1;if(v===-1/0)return-1;var H=Math.exp(2*v);return(H-1)/(H+1)},Math.asinh=Math.asinh||function(v){return v===-1/0?v:Math.log(v+Math.sqrt(v*v+1))},Math.acosh=Math.acosh||function(v){return Math.log(v+Math.sqrt(v*v-1))},Math.atanh=Math.atanh||function(v){return Math.log((1+v)/(1-v))/2},Math.log10=Math.log10||function(v){return Math.log(v)*Math.LOG10E},Math.trunc=Math.trunc||function(v){return isNaN(v)?NaN:v>0?Math.floor(v):Math.ceil(v)};function un(v,H,ue,Se){var Xe=H==="hash",pt=void 0,dt=Xe?void 0:H,Ze=dt==="decimal"||dt==="decimals";Ze&&typeof Se>"u"&&(Se=T.DEFAULT_DECP);function tn(mn){switch(H){case"decimals":case"decimal":return pt=pt||function(oo){return!1},mn.valueOf();case"recurring":pt=pt||function(oo){return oo.indexOf("'")!==-1};var Vn=mn.toString(),Fr=/^-?\d+(?:\/\d+)?$/.exec(Vn);if(Fr.length===0)return Vn;var Zr=Fr[0].split("/"),dr=!1,kr=Number(Zr[0]);kr<0&&(kr=-kr,dr=!0);var yr=Number(Zr[1]);yr||(yr=1);var Bs=Math.floor(kr/yr),fr=10*(kr-Bs*yr);for(Bs=Bs.toString()+".";fr&&fr<yr;)fr*=10,Bs+="0";for(var vr="",lr=[],_r=0;;){if(typeof lr[fr]<"u"){var Dn=vr.slice(0,lr[fr]),Mr=vr.slice(lr[fr]),cr=Bs+Dn+"'"+Mr+"'";return(dr?"-":"")+cr.replace("'0'","").replace(/\.$/,"")}var Tr=Math.floor(fr/yr),Kr=fr-Tr*yr;lr[fr]=_r,vr+=Tr.toString(),_r+=1,fr=10*Kr}case"mixed":pt=pt||function(oo){return oo.indexOf("/")!==-1};var Vn=mn.toString(),Fr=/^-?\d+(?:\/\d+)?$/.exec(Vn);if(Fr.length===0)return Vn;var Zr=Fr[0].split("/"),ss=new h(Zr[0]),go=new h(Zr[1]);go.equals(0)&&(go=new h(1));var Wi=ss.divmod(go),Bs=Wi.quotient,yi=Wi.remainder,ks=Zr[0][0]==="-"||Bs.equals(0)||yi.equals(0)?"":"+";return(Bs.equals(0)?"":Bs.toString())+ks+(yi.equals(0)?"":yi.toString()+"/"+Zr[1]);case"scientific":return pt=pt||function(oo){return!1},new Un(mn.valueOf()).toString(T.SCIENTIFIC_MAX_DECIMAL_PLACES);default:return pt=pt||function(oo){return oo.indexOf("/")!==-1},mn.toString()}}if(Ge(v)){var an="",ln="",k="",z=v.group||ue,We=v.value;if(!Xe){var it=tn(v.multiplier);it=="-1"&&String(v.multiplier)==="-1"&&(k="-",it="1"),it!="1"&&(an=it);var Nt=v.power?tn(v.power):"";Nt!="1"&&(Ge(Nt)?ln=un(Nt,dt):ln=Nt)}switch(z){case w:an="";var Dt=Se&&Ze?v.multiplier.toDecimal(Se):tn(v.multiplier);We=String(v.multiplier)=="-1"?"1":Dt,ln="";break;case he:We=v.collectSymbols().map(function(mn){var dr=un(mn,dt,ue,Se);return dr=="0"&&(dr=""),dr}).sort().join("+").replace(/\+\-/g,"-");break;case le:We=v.collectSymbols().map(function(mn){var dr=un(mn,dt,ue,Se);return dr=="0"&&(dr=""),dr}).sort().join("+").replace(/\+\-/g,"-");break;case V:We=v.collectSymbols(function(mn){var dr=mn.group;return(dr===he||dr===le)&&mn.power.equals(1)&&mn.multiplier.equals(1)?Qe(un(mn,dt)):un(mn,dt)}).join("*");break;case K:var cn=v.previousGroup,Sn=v.power.group;cn===he&&(We=v.collectSymbols(un,dt).join("+").replace("+-","-")),!(cn===w||cn===A||cn===ne)&&!Xe&&(We=Qe(We)),(Sn===le||Sn===V||Sn===he||v.power.multiplier.toString()!="1")&&ln&&(ln=Qe(ln));break}if(z===ne&&(We=v.fname+Qe(v.args.map(function(mn){return un(mn,dt)}).join(","))),z===ne&&v.fname in $){var hn=un(v.args[0]),bn=un(v.args[1]);v.args[0].isComposite()&&(hn=Qe(hn)),v.args[1].isComposite()&&(bn=Qe(bn)),We=hn+$[v.fname]+bn}ln&&z!==K&&pt(ln)&&(ln=Qe(ln)),((z===le||z===he)&&(an&&an!="1"||k==="-")||(z===V||z===le||z===he)&&ln&&ln!="1"||!Xe&&z===I&&We==-1||v.fname===Ce)&&(We=Qe(We)),Se&&(H==="decimal"||H==="decimals"&&an)&&(an=Bt(an,Se));var zn=k+an;if(an&&pt(an)&&(zn=Qe(zn)),ln<0&&(ln=Qe(ln)),an&&(zn=zn+"*"),ln){if(We==="e"&&T.E_TO_EXP)return zn+"exp"+Qe(ln);ln=T.POWER_OPERATOR+ln}z===K&&We.charAt(0)==="-"&&(We=Qe(We));var xn=zn+We;return v.parens&&(xn=Qe(xn)),xn+ln}else if(Ht(v)){for(var Ir=v.elements.length,zn=[],qn=0;qn<Ir;qn++)zn.push(v.elements[qn].text(H));return"["+zn.join(",")+"]"}else try{return v.toString()}catch{return""}}function Yt(v){if(de(v))return[v];for(var H=v,ue=1,Se=[],Xe=2220446049250313e-31;ue<H;){var pt=v/ue,dt=Math.floor(pt),Ze=pt-dt;if(Ze<=Xe&&ue>1){if(de(ue)&&(y.indexOf(ue)===-1&&y.push(ue),Se.push(ue)),de(dt)){Se.push(dt);break}H=dt}ue++}return Se.sort(function(tn,an){return tn-an})}Yt(314146179365);function fn(v){this.symbol=v}fn.getExpression=function(v,H){(v==="last"||!v)&&(v=_e.length),v==="first"&&(v=1);var ue=v-1,Se=_e[ue],Xe=Se&&new fn(Se);return Xe},fn.prototype={text:function(v,H){return H=H||T.EXPRESSION_DECP,v=v||"decimals",this.symbol.text_?this.symbol.text_(v):un(this.symbol,v,void 0,H)},latex:function(v){return this.symbol.latex?this.symbol.latex(v):nr.latex(this.symbol,v)},valueOf:function(){return this.symbol.valueOf()},evaluate:function(){if(Ht(this.symbol)&&this.symbol.dimensions()===0)return this;var v=arguments[0],H,ue=1;typeof v=="string"?H=v.charAt(0)==="%"?fn.getExpression(v.substr(1)).text():v:v instanceof fn||Ge(v)?H=v.text():(H=this.symbol.text(),ue--);var Se=arguments[ue]||{},Xe=new fn(sr("PARSE2NUMBER",function(){return u.parse(H,Se)},!0));return Xe},buildFunction:function(v){return mr.build(this.symbol,v)},isNumber:function(){return en(this.symbol)},isInfinity:function(){return Math.abs(this.symbol.multiplier)===1/0},isImaginary:function(){return re(u.parse(this.symbol)).isImaginary()},variables:function(){return Ct(this.symbol)},toString:function(){try{return De(this.symbol)?"["+this.symbol.toString()+"]":this.symbol.toString()}catch{return""}},toDecimal:function(v){T.precision=v;var H=un(this.symbol,"decimals");return T.precision=void 0,H},isFraction:function(){return Ft(this.symbol)},isPolynomial:function(){return this.symbol.isPoly()},sub:function(v,H){return new fn(this.symbol.sub(u.parse(v),u.parse(H)))},operation:function(v,H){return et(H)?H=H.symbol:Ge(H)||(H=u.parse(H)),new fn(u[v](this.symbol.clone(),H.clone()))},add:function(v){return this.operation("add",v)},subtract:function(v){return this.operation("subtract",v)},multiply:function(v){return this.operation("multiply",v)},divide:function(v){return this.operation("divide",v)},pow:function(v){return this.operation("pow",v)},expand:function(){return new fn(u.expand(this.symbol))},each:function(v,H){if(this.symbol.each)this.symbol.each(v,H);else if(De(this.symbol))for(var H=0;H<this.symbol.length;H++)v.call(this.symbol,this.symbol[H],H);else v.call(this.symbol)},eq:function(v){Ge(v)||(v=u.parse(v));try{var H=u.subtract(this.symbol.clone(),v);return H.equals(0)}catch{return!1}},lt:function(v){Ge(v)||(v=u.parse(v));try{var H=re(u.subtract(this.symbol.clone(),v));return H.lessThan(0)}catch{return!1}},gt:function(v){Ge(v)||(v=u.parse(v));try{var H=re(u.subtract(this.symbol.clone(),v));return H.greaterThan(0)}catch{return!1}},gte:function(v){return this.gt(v)||this.eq(v)},lte:function(v){return this.lt(v)||this.eq(v)},numerator:function(){return new fn(this.symbol.getNum())},denominator:function(){return new fn(this.symbol.getDenom())},hasFunction:function(v){return this.symbol.containsFunction(v)},contains:function(v){return this.symbol.contains(v)}},fn.prototype.toTeX=fn.prototype.latex;function Un(v){return this instanceof Un?(v=String(typeof v>"u"?0:v),v.startsWith("-")?(this.sign=-1,v=v.substr(1,v.length)):this.sign=1,Un.isScientific(v)?this.fromScientific(v):this.convert(v),this):new Un(v)}Un.prototype={fromScientific:function(v){var H=String(v).toLowerCase().split("e");return this.coeff=H[0],this.exponent=H[1],this},convert:function(v){var H=v.split("."),ue=H[0]||"",Se=H[1]||"";ue=Un.removeLeadingZeroes(ue),Se=Un.removeTrailingZeroes(Se);var Xe=ue.length,pt=ue+Se,dt=Un.leadingZeroes(pt).length;this.exponent=Xe-(dt+1);var Ze=Un.removeLeadingZeroes(pt);this.coeff=Ze.charAt(0)+"."+(Ze.substr(1,Ze.length)||"0");var tn=this.coeff.split(".")[1]||"";return this.decp=tn==="0"?0:tn.length,this.dec=Se,this.wholes=ue,this},round:function(v){var H=this.copy();if(v=Number(v),v===0)H.coeff=H.coeff.charAt(0);else{var ue=this.coeff.substring(0,v+1),Se=this.coeff.substring(v+1,v+3),Xe=Se.charAt(0);Se.charAt(1)>4&&Xe++,H.coeff=ue+Xe}return H},copy:function(){var v=new Un(0);return v.coeff=this.coeff,v.exponent=this.exponent,v.sign=this.sign,v},toString:function(v){var H;if(T.SCIENTIFIC_IGNORE_ZERO_EXPONENTS&&this.exponent===0&&this.decp<v)this.decp===0?H=this.wholes:H=this.coeff;else{var ue=typeof v>"u"?this.coeff:Un.round(this.coeff,Math.min(v,this.decp||1));H=this.exponent===0?ue:ue+"e"+this.exponent}return(this.sign===-1?"-":"")+H}},Un.isScientific=function(v){return/\d+\.?\d*e[\+\-]*\d+/i.test(v)},Un.leadingZeroes=function(v){var H=v.match(/^(0*).*$/);return H?H[1]:""},Un.removeLeadingZeroes=function(v){var H=v.match(/^0*(.*)$/);return H?H[1]:""},Un.removeTrailingZeroes=function(v){var H=v.match(/0*$/);return H?v.substring(0,v.length-H[0].length):""},Un.round=function(v,H){var ue=Bt(v,H),Se=String(ue).split(".").pop(),Xe=H-Se.length;return Xe>0&&(ue=ue+new Array(Xe+1).join(0)),ue};function Xt(v){if(v instanceof Xt)return v;if(v===void 0)return this;try{if(se(v))try{this.num=h(v),this.den=h(1)}catch{return Xt.simple(v)}else{var H=v instanceof f?er.quickConversion(v):er.convert(v);this.num=new h(H[0]),this.den=new h(H[1])}}catch{return Xt.simple(v)}}Xt.create=function(v){if(v instanceof Xt)return v;v=v.toString();var H=v.charAt(0)==="-";H&&(v=v.substr(1,v.length-1));var ue=new Xt(v);return H&&ue.negate(),ue},Xt.isFrac=function(v){return v instanceof Xt},Xt.quick=function(v,H){var ue=new Xt;return ue.num=new h(v),ue.den=new h(H),ue},Xt.simple=function(v){for(var H=String(qe(v)),ue=H.split("."),Se=ue.join(""),Xe=1,pt=(ue[1]||"").length,dt=0;dt<pt;dt++)Xe+="0";var Ze=Xt.quick(Se,Xe);return Ze.simplify()},Xt.prototype={multiply:function(v){if(this.isOne())return v.clone();if(v.isOne())return this.clone();var H=this.clone();return H.num=H.num.multiply(v.num),H.den=H.den.multiply(v.den),H.simplify()},divide:function(v){if(v.equals(0))throw new W("Division by zero not allowed!");return this.clone().multiply(v.clone().invert()).simplify()},subtract:function(v){return this.clone().add(v.clone().neg())},neg:function(){return this.num=this.num.multiply(-1),this},add:function(v){var H=this.den,ue=v.den,Se=this.clone(),Xe=Se.num,pt=v.num;return H.equals(ue)?Se.num=Xe.add(pt):(Se.num=Xe.multiply(ue).add(pt.multiply(H)),Se.den=H.multiply(ue)),Se.simplify()},mod:function(v){var H=this.clone(),ue=v.clone();return H.num=H.num.multiply(ue.den),H.den=H.den.multiply(ue.den),ue.num=ue.num.multiply(this.den),ue.den=ue.den.multiply(this.den),H.num=H.num.mod(ue.num),H.simplify()},simplify:function(){var v=h.gcd(this.num,this.den);return this.num=this.num.divide(v),this.den=this.den.divide(v),this},clone:function(){var v=new Xt;return v.num=new h(this.num),v.den=new h(this.den),v},decimal:function(v){var H=this.num.isNegative()?"-":"";if(this.num.equals(this.den))return"1";v=v||T.PRECISION,v++;for(var ue=[],Se=this.num.abs(),Xe=this.den,pt=0;pt<v;pt++){var dt=Se.divide(Xe),Ze=Se.subtract(dt.multiply(Xe));if(ue.push(dt),Ze.equals(0))break;Se=Ze.times(10)}var tn=ue.shift();if(ue.length===0)return H+tn.toString();if(pt===v){for(var an=[],pt=0;pt<2;pt++)an.unshift(ue.pop());ue.push(Math.round(an.join(".")))}var ln=tn.toString()+"."+ue.join("");return H+ln},toDecimal:function(v){return v=v||T.PRECISION,v?this.decimal(v):this.num/this.den},qcompare:function(v){return[this.num.multiply(v.den),v.num.multiply(this.den)]},equals:function(v){isNaN(v)||(v=new Xt(v));var H=this.qcompare(v);return H[0].equals(H[1])},absEquals:function(v){isNaN(v)||(v=new Xt(v));var H=this.qcompare(v);return H[0].abs().equals(H[1])},greaterThan:function(v){isNaN(v)||(v=new Xt(v));var H=this.qcompare(v);return H[0].gt(H[1])},gte:function(v){return this.greaterThan(v)||this.equals(v)},lte:function(v){return this.lessThan(v)||this.equals(v)},lessThan:function(v){isNaN(v)||(v=new Xt(v));var H=this.qcompare(v);return H[0].lt(H[1])},isInteger:function(){return this.den.equals(1)},negate:function(){return this.num=this.num.multiply(-1),this},invert:function(){var v=this.den;if(!this.num.equals(0)){var H=this.num.isNegative();this.den=this.num.abs(),this.num=v,H&&(this.num=this.num.multiply(-1))}return this},isOne:function(){return this.num.equals(1)&&this.den.equals(1)},sign:function(){return this.num.isNegative()?-1:1},abs:function(){return this.num=this.num.abs(),this},gcd:function(v){return Xt.quick(h.gcd(v.num,this.num),h.lcm(v.den,this.den))},toString:function(){return this.den.equals(1)?this.num.toString():this.num.toString()+"/"+this.den.toString()},valueOf:function(){if(T.USE_BIG)return new f(this.num.toString()).div(new f(this.den.toString()));var v=this.num/this.den;return v},isNegative:function(){return this.toDecimal()<0}};function Ke(v){var H=v==="Infinity";return this instanceof Ke?(v instanceof f&&(v=v.toString()),/^(\-?\+?\d+)\.?\d*e?\-?\+?\d*/i.test(v)||v instanceof f?(this.group=w,this.value=te,this.multiplier=new Xt(v)):(this.group=A,Ne(v),this.value=v,this.multiplier=new Xt(1),this.imaginary=v===T.IMAGINARY,this.isInfinity=H),this.power=new Xt(1),this):new Ke(v)}Ke.imaginary=function(){var v=new Ke(T.IMAGINARY);return v.imaginary=!0,v},Ke.infinity=function(v){var H=new Ke("Infinity");return v===-1&&H.negate(),H},Ke.shell=function(v,H){var ue=new Ke(H);return ue.group=v,ue.symbols={},ue.length=0,ue},Ke.unwrapSQRT=function(v,H){var ue=v.power;if(v.fname===Oe&&(v.isLinear()||H)){var Se=v.args[0].clone();Se.power=Se.power.multiply(new Xt(.5)),Se.multiplier=Se.multiplier.multiply(v.multiplier),v=Se,H&&(v.power=ue.multiply(new Xt(.5)))}return v},Ke.hyp=function(v,H){return v=v||new Ke(0),H=H||new Ke(0),u.sqrt(u.add(u.pow(v.clone(),new Ke(2)),u.pow(H.clone(),new Ke(2))))},Ke.toPolarFormArray=function(v){var H,ue,Se,Xe;return H=v.realpart(),ue=v.imagpart(),Se=Ke.hyp(H,ue),Xe=H.equals(0)?u.parse("pi/2"):u.trig.atan(u.divide(ue,H)),[Se,Xe]},Ke.unwrapPARENS=function(v){if(v.fname===""){var H=v.args[0];return H.power=H.power.multiply(v.power),H.multiplier=H.multiplier.multiply(v.multiplier),v.fname===""?Ke.unwrapPARENS(H):H}return v},Ke.create=function(v,H){return H=H===void 0?1:H,u.parse("("+v+")^("+H+")")},Ke.prototype={getNth:function(v){var H=re(u.pow(u.parse(this.multiplier),u.parse(v).invert())),ue=u.parse(Bt(H)),Se=re(u.pow(ue,u.parse(v)));return Se.equals(u.parse(this.multiplier))?ue:H},isToNth:function(v){var H=this.getNth(v),ue=se(H),Se;return this.group===V?(Se=!0,this.each(function(Xe){var pt=Xe.isToNth(v);pt||(Se=!1)})):Se=this.group===w?!0:se(u.divide(u.parse(this.power),u.parse(v))),ue&&Se},isSquare:function(){return this.isToNth(2)},isCube:function(){return this.isToNth(3)},isSimple:function(){return this.power.equals(1)&&this.multiplier.equals(1)},powSimp:function(){if(this.group===V){var v=[],ue=this.multiplier.sign();this.each(function(k){var z=k.power;if(Ge(z)||z.equals(1))return this.clone();v.push(z)});var H=new Xt(wt(v)),ue=this.multiplier.sign(),Se=this.multiplier.clone().abs(),Xe=bt.ifactor(Se),pt=new Xt(1),dt=new Xt(1);for(var Ze in Xe){var tn=new Xt(Xe[Ze]);tn.lessThan(H)||(tn=tn.divide(H).subtract(new Xt(1)),dt=dt.multiply(new Xt(Ze))),pt=pt.multiply(u.parse(Qe(Ze)+"^"+Qe(tn)).multiplier)}var an=new Ke(dt);this.each(function(k){k=k.clone(),k.power=k.power.divide(H),an=u.multiply(an,k)});var ln=u.symfunction(Ce,[an]);return ln.power=H,ln.multiplier=ue<0?pt.negate():pt,ln}return this.clone()},equals:function(v){return Ge(v)||(v=new Ke(v)),this.value===v.value&&this.power.equals(v.power)&&this.multiplier.equals(v.multiplier)&&this.group===v.group},abs:function(){var v=this.clone();return v.multiplier.abs(),v},gt:function(v){return Ge(v)||(v=new Ke(v)),this.isConstant()&&v.isConstant()&&this.multiplier.greaterThan(v.multiplier)},gte:function(v){return Ge(v)||(v=new Ke(v)),this.equals(v)||this.isConstant()&&v.isConstant()&&this.multiplier.greaterThan(v.multiplier)},lt:function(v){return Ge(v)||(v=new Ke(v)),this.isConstant()&&v.isConstant()&&this.multiplier.lessThan(v.multiplier)},lte:function(v){return Ge(v)||(v=new Ke(v)),this.equals(v)||this.isConstant()&&v.isConstant()&&this.multiplier.lessThan(v.multiplier)},isPoly:function(v){var H=this.group,ue=this.power;if(!se(ue)||ue<0)return!1;if(H===w||H===A||this.isConstant(!0))return!0;var Se=Ct(this);if(H===V&&Se.length===1){var Xe=Se[0];if(!Xe)return!0;for(var pt in this.symbols){var dt=this.symbols[pt];if(dt.group===ne&&!dt.args[0].isConstant()||!dt.contains(Xe)&&!dt.isConstant(!0))return!1}return!0}if(this.isComposite()||H===V&&v){if(!v&&Se.length>1)return!1;for(var pt in this.symbols)if(!this.symbols[pt].isPoly(v))return!1;return!0}else return!1},stripVar:function(v,H){var ue;return(this.group===he||this.group===A)&&this.value===v?ue=new Ke(H?0:this.multiplier):this.group===V&&this.isLinear()?(ue=new Ke(1),this.each(function(Se){Se.contains(v,!0)||(ue=u.multiply(ue,Se.clone()))}),ue.multiplier=ue.multiplier.multiply(this.multiplier)):this.group===le&&!this.isLinear()?ue=new Ke(this.multiplier):this.group===le&&this.isLinear()?(ue=new Ke(0),this.each(function(Se){if(!Se.contains(v)){var Xe=Se.clone();Xe.multiplier=Xe.multiplier.multiply(this.multiplier),ue=u.add(ue,Xe)}}),ue.equals(0)&&(ue=new Ke(this.multiplier))):this.group===K&&this.power.contains(v,!0)?ue=new Ke(this.multiplier):this.group===ne&&this.contains(v)?ue=new Ke(this.multiplier):ue=this.clone(),ue},toArray:function(v,H){H=H||{arr:[],add:function(Ze,tn){var an=this.arr[tn];this.arr[tn]=an?u.add(an,Ze):Ze}};var ue=this.group;if(ue===A&&this.contains(v))H.add(new Ke(this.multiplier),this.power);else if(ue===V){var Se=this.stripVar(v),Xe=u.divide(this.clone(),Se.clone()),pt=Xe.isConstant()?0:Xe.power;H.add(Se,pt)}else if(ue===he&&this.value===v)this.each(function(Ze,tn){H.add(Ze.stripVar(v),tn)});else if(ue===le)this.each(function(Ze){Ze.toArray(v,H)});else{if(this.contains(v))throw new Le("Cannot convert to array! Exiting");H.add(this.clone(),0)}H=H.arr;for(var dt=0;dt<H.length;dt++)H[dt]||(H[dt]=new Ke(0));return H},hasFunc:function(v){var H=this.group===ne||this.group===K;if(H&&!v||H&&this.contains(v))return!0;if(this.symbols){for(var ue in this.symbols)if(this.symbols[ue].hasFunc(v))return!0}return!1},sub:function(v,H){v=Ge(v)?v.clone():u.parse(v),H=Ge(H)?H.clone():u.parse(H),(v.group===w||v.group===I)&&R("Cannot substitute a number. Must be a variable");var ue=!1,Se=v.multiplier.equals(1),Xe=this.multiplier.clone(),pt;if(this.value===v.value&&(this.group!==he&&v.group!==he||this.group===he&&v.group===he))(Se||v.multiplier.equals(this.multiplier))&&(v.isLinear()?pt=H:v.power.equals(this.power)&&(pt=H,ue=!0),v.multiplier.equals(this.multiplier)&&(Xe=new Xt(1)));else if(this.group===V||this.previousGroup===V)pt=new Ke(1),this.each(function(We){var it=u.parse(We.sub(v,H));pt=u.multiply(pt,it)});else if(this.isComposite()){var dt=this.clone();if(v.isComposite()&&dt.isComposite()&&dt.isLinear()&&v.isLinear()){var Ze=function(We,it){for(var Nt in We.symbols){var Dt=We.symbols[Nt];if(Dt.isComposite()&&Ze(Dt,it)||Dt.equals(it))return!0}return!1};for(var tn in v.symbols)if(!Ze(dt,v.symbols[tn]))return dt.clone();pt=u.add(u.subtract(dt.clone(),v),H)}else pt=new Ke(0),dt.each(function(We){pt=u.add(pt,We.sub(v,H))})}else if(this.group===K)pt=u.parse(this.value).sub(v,H);else if(this.group===ne){for(var an=[],ln=0;ln<this.args.length;ln++){var k=this.args[ln];Ge(k)||(k=u.parse(k)),an.push(k.sub(v,H))}pt=u.symfunction(this.fname,an)}if(pt){if(!ue){var z=this.group===K?this.power.sub(v,H):u.parse(this.power);pt=u.pow(pt,z)}return pt.multiplier=pt.multiplier.multiply(Xe),pt}return this.clone()},isMonomial:function(){if(this.group===A)return!0;if(this.group===V){for(var v in this.symbols)if(this.symbols[v].group!==A)return!1}else return!1;return!0},isPi:function(){return this.group===A&&this.value==="pi"},sign:function(){return this.multiplier.sign()},isE:function(){return this.value==="e"},isSQRT:function(){return this.fname===Oe},isConstant:function(v,H){if(H&&this.group===V){for(var ue in this.symbols)if(this.symbols[ue].isConstant(!0))return!0}if(v==="functions"&&this.isComposite()){var Se=!0;return this.each(function(pt){pt.isConstant(v,H)||(Se=!1)},!0),Se}if(v==="all"&&(this.isPi()||this.isE()))return!0;if(v&&this.group===ne){for(var Xe=0;Xe<this.args.length;Xe++)if(!this.args[Xe].isConstant(v))return!1;return!0}return v?en(this):this.value===te},isImaginary:function(){if(this.imaginary)return!0;if(this.symbols){for(var v in this.symbols)if(this.symbols[v].isImaginary())return!0}return!1},realpart:function(){if(this.isConstant())return this.clone();if(this.imaginary)return new Ke(0);if(this.isComposite()){var v=new Ke(0);return this.each(function(H){v=u.add(v,H.realpart())}),v}else if(this.isImaginary())return new Ke(0);return this.clone()},imagpart:function(){if(this.group===A&&this.isImaginary())return new Ke(this.multiplier);if(this.isComposite()){var v=new Ke(0);return this.each(function(H){v=u.add(v,H.imagpart())}),v}return this.group===V?this.stripVar(T.IMAGINARY):new Ke(0)},isInteger:function(){return this.isConstant()&&this.multiplier.isInteger()},isLinear:function(v){if(v){if(this.isConstant())return!0;if(this.group===A)return this.value===v?this.power.equals(1):!0;if(this.isComposite()&&this.power.equals(1)){for(var H in this.symbols)if(!this.symbols[H].isLinear(v))return!1;return!0}return this.group===V&&this.symbols[v]?this.symbols[v].isLinear(v):!1}else return this.power.equals(1)},containsFunction:function(v){if(typeof v=="string"&&(v=[v]),this.group===ne&&v.indexOf(this.fname)!==-1)return!0;if(this.symbols){for(var H in this.symbols)if(this.symbols[H].containsFunction(v))return!0}return!1},multiplyPower:function(v){if(this.group===w&&this.multiplier.equals(1))return this;var H=this.power;if(this.group!==K&&v.group===w){var ue=v.multiplier;this.group===w&&!ue.isInteger()&&this.convert(I),this.power=H.equals(1)?ue.clone():H.multiply(ue),this.group===I&&se(this.power)&&(this.value=Math.pow(this.value,this.power),this.toLinear(),this.convert(w))}else this.group!==K&&(H=new Ke(H),this.convert(K)),this.power=u.multiply(H,v);return this},setPower:function(v,H){if(this.group===w&&this.multiplier.equals(1))return this;if(this.group===K&&!Ge(v))this.group=this.previousGroup,delete this.previousGroup,this.group===w?(this.multiplier=new Xt(this.value),this.value=te):this.power=v;else{var ue=!1;Ge(v)&&(v.group===w?v=v.multiplier:ue=!0);var Se=ue?K:I;this.power=v,this.group===w&&Se&&this.convert(Se,H)}return this},isInverse:function(){return this.group===K?this.power.multiplier.lessThan(0):this.power<0},clone:function(v){var H=v||new Ke(0),ue=["value","group","length","previousGroup","imaginary","fname","args","isInfinity","scientific"],Se=ue.length,Xe;if(this.symbols){H.symbols={};for(var pt in this.symbols)H.symbols[pt]=this.symbols[pt].clone()}for(Xe=0;Xe<Se;Xe++)this[ue[Xe]]!==void 0&&(H[ue[Xe]]=this[ue[Xe]]);return H.power=this.power.clone(),H.multiplier=this.multiplier.clone(),this.isConversion&&(H.isConversion=this.isConversion),this.isUnit&&(H.isUnit=this.isUnit),H},toUnitMultiplier:function(v){return this.multiplier.num=new h(this.multiplier.num.isNegative()&&v?-1:1),this.multiplier.den=new h(1),this},toLinear:function(){return this.power.equals(1)?this:(this.setPower(new Xt(1)),this)},each:function(v,H){if(!this.symbols)v.call(this,this,this.value);else for(var ue in this.symbols){var Se=this.symbols[ue];if(Se.group===he&&H)for(var Xe in Se.symbols)v.call(ue,Se.symbols[Xe],Xe);else v.call(this,Se,ue)}},valueOf:function(){return this.group===w?this.multiplier.valueOf():this.power===0?1:this.multiplier===0?0:un(this,"decimals")},contains:function(v,H){v=String(v);var ue=this.group;if(this.value===v)return!0;if(this.symbols){for(var Se in this.symbols)if(this.symbols[Se].contains(v,H))return!0}if(ue===ne||this.previousGroup===ne){for(var Xe=0;Xe<this.args.length;Xe++)if(this.args[Xe].contains(v,H))return!0}return ue===K&&(H&&this.power.contains(v,H)||this.value===v)?!0:this.value===v},negate:function(){return this.multiplier.negate(),(this.group===le||this.group===he)&&this.distributeMultiplier(),this},invert:function(v,H){return v||(this.multiplier=this.multiplier.invert()),Ge(this.power)?this.power.negate():this.group===V&&H?this.each(function(ue){return ue.invert()}):this.power&&this.group!==w&&this.power.negate(),this},distributeMultiplier:function(v){var H=v?this.power.absEquals(1):this.power.equals(1);if(this.symbols&&H&&this.group!==V&&!this.multiplier.equals(1)){for(var ue in this.symbols){var Se=this.symbols[ue];Se.multiplier=Se.multiplier.multiply(this.multiplier),Se.distributeMultiplier()}this.toUnitMultiplier()}return this},distributeExponent:function(){if(!this.power.equals(1)){var v=this.power;for(var H in this.symbols){var ue=this.symbols[H];ue.group===K?ue.power=u.multiply(ue.power,new Ke(v)):this.symbols[H].power=this.symbols[H].power.multiply(v)}this.toLinear()}return this},convert:function(v,H){if(v>ne){var ue=this.clone();this.symbols={},v===V?ue.toUnitMultiplier():this.toUnitMultiplier(),this.group===ne&&(ue.args=this.args,delete this.args,delete this.fname),this.isImgSymbol&&delete this.isImgSymbol,this.toLinear(),this.symbols[ue.keyForGroup(v)]=ue,this.group=v,this.length=1}else if(v===K)this.group===w&&this.multiplier.equals(1)||(this.group!==K&&(this.previousGroup=this.group),this.group===w?(this.value=this.multiplier.num.toString(),this.toUnitMultiplier()):this.value=un(this,"hash"),this.group=K);else if(v===w){var Se=this.multiplier.toDecimal();this.symbols&&(this.symbols=void 0),new Ke(this.group===I?Se*Math.pow(this.value,this.power):Se).clone(this)}else v===I&&this.group===w&&(this.value=H?this.multiplier.num.toString():Math.abs(this.multiplier.num.toString()),this.toUnitMultiplier(!H),this.group=I);return this},insert:function(v,H){if(Ge(v)||R("Object "+v+" is not of type Symbol!"),this.symbols){var ue=this.group;if(ue>ne){var Se=v.keyForGroup(ue),Xe=Se in this.symbols?this.symbols[Se]:!1;if(H==="add"){var pt=Se;Xe?(this.symbols[pt]=u.add(Xe,v),this.symbols[pt].multiplier.equals(0)&&(delete this.symbols[pt],this.length--,this.length===0&&(this.convert(w),this.multiplier=new Xt(0)))):(this.symbols[Se]=v,this.length++)}else v.group===I&&se(v.power)&&v.convert(w),v.group!==K?(this.multiplier=this.multiplier.multiply(v.multiplier),v.toUnitMultiplier()):(v.parens=v.multiplier.lessThan(0),this.multiplier=this.multiplier.multiply(v.multiplier.clone().abs()),v.toUnitMultiplier(!0)),Xe&&(v=u.multiply(pn(this.symbols,Se),v),v.isConstant()&&(this.multiplier=this.multiplier.multiply(v.multiplier),v=new Ke(1)),this.length--),v.isOne(!0)?v.multiplier.lessThan(0)&&this.negate():(this.symbols[Se]=v,this.length++);this.length===0&&this.convert(w),(this.group===le||this.group===V)&&this.updateHash()}}return this},attach:function(v){if(De(v)){for(var H=0;H<v.length;H++)this.insert(v[H],"add");return this}return this.insert(v,"add")},combine:function(v){if(De(v)){for(var H=0;H<v.length;H++)this.insert(v[H],"multiply");return this}return this.insert(v,"multiply")},updateHash:function(){if(this.group!==w)if(this.group===ne){for(var v="",H=this.args,ue=this.fname===Ce,Se=0;Se<H.length;Se++)v+=(Se===0?"":",")+un(H[Se]);var Xe=ue?"":this.fname;this.value=Xe+(ue?v:Qe(v))}else this.group===A||this.group===he||(this.value=un(this,"hash"))},keyForGroup:function(v){var H=this.group,ue;if(H===w)ue=this.value;else if(H===A||H===I)v===he?ue=this.power.toDecimal():ue=this.value;else if(H===ne)v===he?ue=this.power.toDecimal():ue=un(this,"hash");else{if(H===he)return v===V?ue=un(this,"hash"):v===le?this.power.equals(1)?ue=this.value:ue=Qe(un(this,"hash"))+T.POWER_OPERATOR+this.power.toDecimal():v===he?ue=this.power.toString():ue=this.value,ue;H===le?(v===le&&(ue=un(this,"hash")),v===he?ue=this.power.toDecimal():ue=this.value):H===V?v===he?ue=this.power.toDecimal():ue=un(this,"hash"):H===K&&(v===he?ue=un(this.power):ue=un(this,"hash"))}return ue},collectSymbols:function(v,H,ue,Se){var Xe=[];if(!this.symbols)Xe.push(this);else for(var pt in this.symbols){var dt=this.symbols[pt];Se&&(dt.group===he||dt.group===le)?Xe=Xe.concat(dt.collectSymbols()):Xe.push(v?v(dt,H):dt)}return ue===null&&(ue=void 0),Xe.sort(ue)},latex:function(v){return nr.latex(this,v)},text:function(v){return un(this,v)},isOne:function(v){var H=v?"absEquals":"equals";return this.group===w?this.multiplier[H](1):this.power.equals(0)},isComposite:function(){var v=this.group,H=this.previousGroup;return v===le||v===he||H===he||H===le},isCombination:function(){var v=this.group,H=this.previousGroup;return v===V||H===V},lessThan:function(v){return this.multiplier.lessThan(v)},greaterThan:function(v){return Ge(v)||(v=new Ke(v)),!this.isConstant(!0)||!v.isConstant(!0)?!1:this.multiplier.greaterThan(v.multiplier)},getDenom:function(){var v,H;if(H=this.clone(),this.group===V&&this.power.lessThan(0)&&(H=u.expand(H)),H.power.lessThan(0)||H.group===K&&H.power.multiplier.lessThan(0)){var ue=u.parse(H.multiplier.den);v=H.toUnitMultiplier(),v.power.negate(),v=u.multiply(ue,v)}else if(H.group===V){v=u.parse(H.multiplier.den);for(var Se in H.symbols){var Xe=H.symbols[Se];(Xe.power<0||Xe.group===K&&Xe.power.multiplier.lessThan(0))&&(v=u.multiply(v,H.symbols[Se].clone().invert()))}}else v=u.parse(H.multiplier.den);return v},getNum:function(){var v,H;return H=this.clone(),H.group===V&&H.power.lessThan(0)&&(H=u.expand(H)),H.power.greaterThan(0)&&H.group!==V||H.group===K&&H.power.multiplier.greaterThan(0)?v=u.multiply(u.parse(H.multiplier.num),H.toUnitMultiplier()):H.group===V?(v=u.parse(H.multiplier.num),H.each(function(ue){(ue.power>0||ue.group===K&&ue.power.multiplier>0)&&(v=u.multiply(v,ue.clone()))})):v=u.parse(H.multiplier.num),v},toString:function(){return this.text()}};function Pn(){var v=this,H={},ue={names:[],actions:[]};function Se(L,ee){this.start=L,this.end=ee}Se.prototype.isConstant=function(){return this.start.isConstant()&&this.end.isConstant()},Se.prototype.text=function(){return un(this.start)+":"+un(this.end)};function Xe(){this.elements=[]}Xe.prototype.append=function(L){this.elements.push(L)},Xe.prototype.getItems=function(){return this.elements},Xe.prototype.toString=function(){return v.pretty_print(this.elements)},Xe.create=function(L){var ee=new Xe;return L&&ee.append(L),ee};function pt(L,ee,ct){if(this.type=ee,this.value=L,ct!==void 0&&(this.column=ct+1),ee===pt.OPERATOR){var It=an[L];for(var Wt in It)this[Wt]=It[Wt]}else ee===pt.FUNCTION&&(this.precedence=pt.MAX_PRECEDENCE,this.leftAssoc=!1)}pt.prototype.toString=function(){return this.value},pt.prototype.toString=function(){return this.is_prefix?"`"+this.value:this.value},pt.OPERATOR="OPERATOR",pt.VARIABLE_OR_LITERAL="VARIABLE_OR_LITERAL",pt.FUNCTION="FUNCTION",pt.UNIT="UNIT",pt.KEYWORD="KEYWORD",pt.MAX_PRECEDENCE=999,this.classes={Collection:Xe,Slice:Se,Token:pt};var dt={prec:void 0,cos:function(L,ee){var ct,It;return ct=v.parse(Math.cos(L)*Math.cosh(ee)),It=v.parse(Math.sin(L)*Math.sinh(ee)),v.subtract(ct,v.multiply(It,Ke.imaginary()))},sin:function(L,ee){var ct,It;return ct=v.parse(Math.sin(L)*Math.cosh(ee)),It=v.parse(Math.cos(L)*Math.sinh(ee)),v.subtract(ct,v.multiply(It,Ke.imaginary()))},tan:function(L,ee){var ct,It;return ct=v.parse(Math.sin(2*L)/(Math.cos(2*L)+Math.cosh(2*ee))),It=v.parse(Math.sinh(2*ee)/(Math.cos(2*L)+Math.cosh(2*ee))),v.add(ct,v.multiply(It,Ke.imaginary()))},sec:function(L,ee){var ct=this.removeDen(this.cos(L,ee));return v.subtract(ct[0],v.multiply(ct[1],Ke.imaginary()))},csc:function(L,ee){var ct=this.removeDen(this.sin(L,ee));return v.add(ct[0],v.multiply(ct[1],Ke.imaginary()))},cot:function(L,ee){var ct=this.removeDen(this.tan(L,ee));return v.subtract(ct[0],v.multiply(ct[1],Ke.imaginary()))},acos:function(L,ee){var ct,It,Wt,sn,_n,Ln;return ct=this.fromArray([L,ee]),Ln=v.pow(ct.clone(),new Ke(2)),It=v.expand(Ln),Wt=v.multiply(vr(v.subtract(new Ke(1),It)),Ke.imaginary()),sn=v.expand(v.add(ct.clone(),Wt)),_n=ks(sn),v.expand(v.multiply(Ke.imaginary().negate(),_n))},asin:function(L,ee){return v.subtract(v.parse("pi/2"),this.acos(L,ee))},atan:function(L,ee){if(L.equals(0)&&(ee.equals(1)||ee.equals(-1)))return v.parse(`${Ke.infinity()}*${T.IMAGINARY}*${ee}`);var ct,It,Wt,sn;return sn=dt.fromArray([L,ee]),ct=v.expand(v.multiply(Ke.imaginary(),sn.clone())),It=ks(v.expand(v.subtract(new Ke(1),ct.clone()))),Wt=ks(v.expand(v.add(new Ke(1),ct.clone()))),v.expand(v.multiply(v.divide(Ke.imaginary(),new Ke(2)),v.subtract(It,Wt)))},asec:function(L,ee){var ct=this.removeDen([L,ee]);return ct[1].negate(),this.acos.apply(this,ct)},acsc:function(L,ee){var ct=this.removeDen([L,ee]);return ct[1].negate(),this.asin.apply(this,ct)},acot:function(L,ee){var ct=this.removeDen([L,ee]);return ct[1].negate(),this.atan.apply(this,ct)},cosh:function(L,ee){var ct,It;return ct=v.parse(Math.cosh(L)*Math.cos(ee)),It=v.parse(Math.sinh(L)*Math.sin(ee)),v.add(ct,v.multiply(It,Ke.imaginary()))},sinh:function(L,ee){var ct,It;return ct=v.parse(Math.sinh(L)*Math.cos(ee)),It=v.parse(Math.cosh(L)*Math.sin(ee)),v.add(ct,v.multiply(It,Ke.imaginary()))},tanh:function(L,ee){var ct,It;return ct=v.parse(Math.sinh(2*L)/(Math.cos(2*ee)+Math.cosh(2*L))),It=v.parse(Math.sin(2*ee)/(Math.cos(2*ee)+Math.cosh(2*L))),v.subtract(ct,v.multiply(It,Ke.imaginary()))},sech:function(L,ee){var ct=this.removeDen(this.cosh(L,ee));return v.subtract(ct[0],v.multiply(ct[1],Ke.imaginary()))},csch:function(L,ee){var ct=this.removeDen(this.sinh(L,ee));return v.subtract(ct[0],v.multiply(ct[1],Ke.imaginary()))},coth:function(L,ee){var ct=this.removeDen(this.tanh(L,ee));return v.add(ct[0],v.multiply(ct[1],Ke.imaginary()))},acosh:function(L,ee){var ct,It,Wt;return Wt=this.fromArray([L,ee]),ct=vr(v.add(Wt.clone(),new Ke(1))),It=vr(v.subtract(Wt.clone(),new Ke(1))),v.expand(ks(v.add(Wt,v.expand(v.multiply(ct,It)))))},asinh:function(L,ee){var ct,It;return It=this.fromArray([L,ee]),ct=vr(v.add(new Ke(1),v.expand(v.pow(It.clone(),new Ke(2))))),v.expand(ks(v.add(It,ct)))},atanh:function(L,ee){var ct,It,Wt;return Wt=this.fromArray([L,ee]),ct=ks(v.add(Wt.clone(),new Ke(1))),It=ks(v.subtract(new Ke(1),Wt)),v.expand(v.divide(v.subtract(ct,It),new Ke(2)))},asech:function(L,ee){var ct=this.removeDen([L,ee]);return ct[1].negate(),this.acosh.apply(this,ct)},acsch:function(L,ee){var ct=this.removeDen([L,ee]);return ct[1].negate(),this.asinh.apply(this,ct)},acoth:function(L,ee){var ct=this.removeDen([L,ee]);return ct[1].negate(),this.atanh.apply(this,ct)},sqrt:function(L){var ee,ct,It,Wt,sn;return ee=L.realpart(),ct=L.imagpart(),It=Ke.hyp(ee,ct),Wt=v.add(ee.clone(),It),sn=vr(v.multiply(new Ke(2),Wt.clone())),v.add(v.divide(Wt.clone(),sn.clone()),v.multiply(v.divide(ct,sn),Ke.imaginary()))},log:function(L,ee){var ct,It,Wt;return ct=ks(Ke.hyp(L,ee)),Wt=T.USE_BIG?Ke(f.atan2(ee.multiplier.toDecimal(),L.multiplier.toDecimal())):Math.atan2(ee,L),It=v.parse(Wt),v.add(ct,v.multiply(Ke.imaginary(),It))},erf(L,ee){return v.symfunction("erf",[L])},removeDen:function(L){var ee,ct,It,Wt,sn;return De(L)?(ct=L[0],It=L[1]):(ct=L.realpart(),It=L.imagpart()),ee=Math.pow(ct,2)+Math.pow(It,2),Wt=v.parse(ct/ee),sn=v.parse(It/ee),[Wt,sn]},fromArray:function(L){return v.add(L[0],v.multiply(Ke.imaginary(),L[1]))},evaluate:function(L,ee){var ct,It,Wt;if(Wt=L.power.sign(),L.power=L.power.abs(),L.power.greaterThan(1)&&(L=v.expand(L)),Wt<0){var sn=this.removeDen(L);ct=sn[0],It=sn[1]}else ct=L.realpart(),It=L.imagpart();return ct.isConstant("all")&&It.isConstant("all")?this[ee].call(this,ct,It):v.symfunction(ee,[L])}},Ze=this.trig={cos:function(L){if(L.equals("pi")&&L.multiplier.den.equals(2))return new Ke(0);if(T.PARSE2NUMBER){if(L.equals(new Ke(T.PI/2)))return new Ke(0);if(L.isConstant())return T.USE_BIG?new Ke(f.cos(L.multiplier.toDecimal())):new Ke(Math.cos(L.valueOf()));if(L.isImaginary())return dt.evaluate(L,"cos")}if(L.equals(0))return new Ke(1);var ee,ct=!1,It=Qo(L.multiplier.toDecimal()),Wt=L.multiplier.abs();if(L.multiplier=Wt,L.isPi()&&L.isLinear())if(se(Wt))ee=new Ke(X(Wt)?1:-1);else{Number(Wt.num);var sn=Number(Wt.den);sn===2?ee=new Ke(0):sn===3?(ee=v.parse("1/2"),ct=!0):sn===4?(ee=v.parse("1/sqrt(2)"),ct=!0):sn===6?(ee=v.parse("sqrt(3)/2"),ct=!0):ee=v.symfunction("cos",[L])}return ct&&(It===2||It===3)&&ee.negate(),ee||(ee=v.symfunction("cos",[L])),ee},sin:function(L){if(T.PARSE2NUMBER){if(L.isConstant())return L%Math.PI===0?new Ke(0):T.USE_BIG?new Ke(f.sin(L.multiplier.toDecimal())):new Ke(Math.sin(L.valueOf()));if(L.isImaginary())return dt.evaluate(L,"sin")}if(L.equals(0))return new Ke(0);var ee,ct=!1,It=Qo(L.multiplier.toDecimal()),Wt=L.multiplier.sign(),sn=L.multiplier.abs();if(L.multiplier=sn,L.equals("pi"))ee=new Ke(0);else if(L.isPi()&&L.isLinear())if(se(sn))ee=new Ke(0);else{sn.num;var _n=sn.den;_n==2?(ee=new Ke(1),ct=!0):_n==3?(ee=v.parse("sqrt(3)/2"),ct=!0):_n==4?(ee=v.parse("1/sqrt(2)"),ct=!0):_n==6?(ee=v.parse("1/2"),ct=!0):ee=v.multiply(new Ke(Wt),v.symfunction("sin",[L]))}return ee||(ee=v.multiply(new Ke(Wt),v.symfunction("sin",[L]))),ct&&(It===3||It===4)&&ee.negate(),ee},tan:function(L){if(T.PARSE2NUMBER){if(L%Math.PI===0&&L.isLinear())return new Ke(0);if(L.isConstant())return T.USE_BIG?new Ke(f.tan(L.multiplier.toDecimal())):new Ke(Math.tan(L.valueOf()));if(L.isImaginary())return dt.evaluate(L,"tan")}var ee,ct=!1,It=Qo(L.multiplier.toDecimal()),Wt=L.multiplier;if(L.multiplier=Wt,L.isPi()&&L.isLinear())if(se(Wt))ee=new Ke(0);else{Wt.num;var sn=Wt.den;if(sn==2)throw new q("tan is undefined for "+L.toString());sn==3?(ee=v.parse("sqrt(3)"),ct=!0):sn==4?(ee=new Ke(1),ct=!0):sn==6?(ee=v.parse("1/sqrt(3)"),ct=!0):ee=v.symfunction("tan",[L])}return ee||(ee=v.symfunction("tan",[L])),ct&&(It===2||It===4)&&ee.negate(),ee},sec:function(L){if(T.PARSE2NUMBER)return L.isConstant()?T.USE_BIG?new Ke(new f(1).dividedBy(f.cos(L.multiplier.toDecimal()))):new Ke(bt.sec(L.valueOf())):L.isImaginary()?dt.evaluate(L,"sec"):v.parse(rt("1/cos({0})",L));var ee,ct=!1,It=Qo(L.multiplier.toDecimal()),Wt=L.multiplier.abs();if(L.multiplier=Wt,L.isPi()&&L.isLinear())if(se(Wt))ee=new Ke(X(Wt)?1:-1);else{Wt.num;var sn=Wt.den;if(sn==2)throw new q("sec is undefined for "+L.toString());sn==3?(ee=new Ke(2),ct=!0):sn==4?(ee=v.parse("sqrt(2)"),ct=!0):sn==6?(ee=v.parse("2/sqrt(3)"),ct=!0):ee=v.symfunction("sec",[L])}return ct&&(It===2||It===3)&&ee.negate(),ee||(ee=v.symfunction("sec",[L])),ee},csc:function(L){if(T.PARSE2NUMBER)return L.isConstant()?T.USE_BIG?new Ke(new f(1).dividedBy(f.sin(L.multiplier.toDecimal()))):new Ke(bt.csc(L.valueOf())):L.isImaginary()?dt.evaluate(L,"csc"):v.parse(rt("1/sin({0})",L));var ee,ct=!1,It=Qo(L.multiplier.toDecimal()),Wt=L.multiplier.sign(),sn=L.multiplier.abs();if(L.multiplier=sn,L.isPi()&&L.isLinear()){if(se(sn))throw new q("csc is undefined for "+L.toString());sn.num;var _n=sn.den;_n==2?(ee=new Ke(1),ct=!0):_n==3?(ee=v.parse("2/sqrt(3)"),ct=!0):_n==4?(ee=v.parse("sqrt(2)"),ct=!0):_n==6?(ee=new Ke(2),ct=!0):ee=v.multiply(new Ke(Wt),v.symfunction("csc",[L]))}return ee||(ee=v.multiply(new Ke(Wt),v.symfunction("csc",[L]))),ct&&(It===3||It===4)&&ee.negate(),ee},cot:function(L){if(T.PARSE2NUMBER)return L%(Math.PI/2)===0?new Ke(0):L.isConstant()?T.USE_BIG?new Ke(new f(1).dividedBy(f.tan(L.multiplier.toDecimal()))):new Ke(bt.cot(L.valueOf())):L.isImaginary()?dt.evaluate(L,"cot"):v.parse(rt("1/tan({0})",L));var ee,ct=!1,It=Qo(L.multiplier.toDecimal()),Wt=L.multiplier;if(L.multiplier=Wt,L.isPi()&&L.isLinear()){if(se(Wt))throw new q("cot is undefined for "+L.toString());Wt.num;var sn=Wt.den;sn==2?ee=new Ke(0):sn==3?(ee=v.parse("1/sqrt(3)"),ct=!0):sn==4?(ee=new Ke(1),ct=!0):sn==6?(ee=v.parse("sqrt(3)"),ct=!0):ee=v.symfunction("cot",[L])}return ee||(ee=v.symfunction("cot",[L])),ct&&(It===2||It===4)&&ee.negate(),ee},acos:function(L){if(T.PARSE2NUMBER){if(L.isConstant()){if(L.gt(1)||L.lt(-1)){var ee=L.toString();return Ps(re(`pi/2-asin(${ee})`))}return T.USE_BIG?new Ke(f.acos(L.multiplier.toDecimal())):new Ke(Math.acos(L.valueOf()))}if(L.isImaginary())return dt.evaluate(L,"acos")}return v.symfunction("acos",arguments)},asin:function(L){if(T.PARSE2NUMBER){if(L.isConstant()){if(L.gt(1)||L.lt(-1)){var ee=T.IMAGINARY,ct=L.multiplier.toDecimal();return Ps(re(`${ee}*log(sqrt(1-${ct}^2)-${ee}*${ct})`))}return T.USE_BIG?new Ke(f.asin(L.multiplier.toDecimal())):new Ke(Math.asin(L.valueOf()))}if(L.isImaginary())return dt.evaluate(L,"asin")}return v.symfunction("asin",arguments)},atan:function(L){var ee;if(L.equals(0))ee=new Ke(0);else{if(T.PARSE2NUMBER)return L.isConstant()?T.USE_BIG?new Ke(f.atan(L.multiplier.toDecimal())):new Ke(Math.atan(L.valueOf())):L.isImaginary()?dt.evaluate(L,"atan"):v.symfunction("atan",arguments);L.equals(-1)?ee=v.parse("-pi/4"):ee=v.symfunction("atan",arguments)}return ee},asec:function(L){if(T.PARSE2NUMBER){if(L.equals(0))throw new ge("Input is out of the domain of sec!");if(L.isConstant())return Ze.acos(L.invert());if(L.isImaginary())return dt.evaluate(L,"asec")}return v.symfunction("asec",arguments)},acsc:function(L){if(T.PARSE2NUMBER){if(L.isConstant())return Ze.asin(L.invert());if(L.isImaginary())return dt.evaluate(L,"acsc")}return v.symfunction("acsc",arguments)},acot:function(L){if(T.PARSE2NUMBER){if(L.isConstant())return new v.add(v.parse("pi/2"),Ze.atan(L).negate());if(L.isImaginary())return dt.evaluate(L,"acot")}return v.symfunction("acot",arguments)},atan2:function(L,ee){if(L.equals(0)&&ee.equals(0))throw new q("atan2 is undefined for 0, 0");return T.PARSE2NUMBER&&L.isConstant()&&ee.isConstant()?new Ke(Math.atan2(L,ee)):v.symfunction("atan2",arguments)}},tn=this.trigh={cosh:function(L){if(T.PARSE2NUMBER){if(L.isConstant())return new Ke(Math.cosh(L.valueOf()));if(L.isImaginary())return dt.evaluate(L,"cosh")}return v.symfunction("cosh",arguments)},sinh:function(L){if(T.PARSE2NUMBER){if(L.isConstant())return new Ke(Math.sinh(L.valueOf()));if(L.isImaginary())return dt.evaluate(L,"sinh")}return v.symfunction("sinh",arguments)},tanh:function(L){if(T.PARSE2NUMBER){if(L.isConstant())return new Ke(Math.tanh(L.valueOf()));if(L.isImaginary())return dt.evaluate(L,"tanh")}return v.symfunction("tanh",arguments)},sech:function(L){return T.PARSE2NUMBER?L.isConstant()?new Ke(Math.sech(L.valueOf())):L.isImaginary()?dt.evaluate(L,"sech"):v.parse(rt("1/cosh({0})",L)):v.symfunction("sech",arguments)},csch:function(L){return T.PARSE2NUMBER?L.isConstant()?new Ke(Math.csch(L.valueOf())):L.isImaginary()?dt.evaluate(L,"csch"):v.parse(rt("1/sinh({0})",L)):v.symfunction("csch",arguments)},coth:function(L){return T.PARSE2NUMBER?L.isConstant()?new Ke(Math.coth(L.valueOf())):L.isImaginary()?dt.evaluate(L,"coth"):v.parse(rt("1/tanh({0})",L)):v.symfunction("coth",arguments)},acosh:function(L){var ee;return T.PARSE2NUMBER&&L.isImaginary()?ee=dt.evaluate(L,"acosh"):T.PARSE2NUMBER?ee=re(v.parse(rt(T.LOG+"(({0})+sqrt(({0})^2-1))",L.toString()))):ee=v.symfunction("acosh",arguments),ee},asinh:function(L){var ee;return T.PARSE2NUMBER&&L.isImaginary()?ee=dt.evaluate(L,"asinh"):T.PARSE2NUMBER?ee=re(v.parse(rt(T.LOG+"(({0})+sqrt(({0})^2+1))",L.toString()))):ee=v.symfunction("asinh",arguments),ee},atanh:function(L){var ee;return T.PARSE2NUMBER&&L.isImaginary()?ee=dt.evaluate(L,"atanh"):T.PARSE2NUMBER?ee=re(v.parse(rt("(1/2)*"+T.LOG+"((1+({0}))/(1-({0})))",L.toString()))):ee=v.symfunction("atanh",arguments),ee},asech:function(L){var ee;return T.PARSE2NUMBER&&L.isImaginary()?ee=dt.evaluate(L,"asech"):T.PARSE2NUMBER?ee=re(ks(v.add(L.clone().invert(),vr(v.subtract(v.pow(L,new Ke(-2)),new Ke(1)))))):ee=v.symfunction("asech",arguments),ee},acsch:function(L){var ee;return T.PARSE2NUMBER&&L.isImaginary()?ee=dt.evaluate(L,"acsch"):T.PARSE2NUMBER?ee=re(v.parse(rt(T.LOG+"((1+sqrt(1+({0})^2))/({0}))",L.toString()))):ee=v.symfunction("acsch",arguments),ee},acoth:function(L){var ee;return T.PARSE2NUMBER&&L.isImaginary()?ee=dt.evaluate(L,"acoth"):T.PARSE2NUMBER?L.equals(1)?ee=Ke.infinity():ee=re(v.divide(ks(v.divide(v.add(L.clone(),new Ke(1)),v.subtract(L.clone(),new Ke(1)))),new Ke(2))):ee=v.symfunction("acoth",arguments),ee}};this.units={};var an={"\\":{precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(L){return L}},"!!":{precedence:7,operator:"!!",action:"dfactorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(L){return v.symfunction(T.DOUBLEFACTORIAL,[L])}},"!":{precedence:7,operator:"!",action:"factorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(L){return bn(L)}},"^":{precedence:6,operator:"^",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"**":{precedence:6,operator:"**",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"%":{precedence:4,operator:"%",action:"percent",prefix:!1,postfix:!0,leftAssoc:!0,overloaded:!0,overloadAction:"mod",overloadLeftAssoc:!1,operation:function(L){return v.divide(L,new Ke(100))}},"*":{precedence:4,operator:"*",action:"multiply",prefix:!1,postfix:!1,leftAssoc:!1},"/":{precedence:4,operator:"/",action:"divide",prefix:!1,postfix:!1,leftAssoc:!1},"+":{precedence:3,operator:"+",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(L){return L}},plus:{precedence:3,operator:"plus",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(L){return L}},"-":{precedence:3,operator:"-",action:"subtract",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(L){return L.negate()}},"=":{precedence:2,operator:"=",action:"equals",prefix:!1,postfix:!1,leftAssoc:!1},"==":{precedence:1,operator:"==",action:"eq",prefix:!1,postfix:!1,leftAssoc:!1},"<":{precedence:1,operator:"<",action:"lt",prefix:!1,postfix:!1,leftAssoc:!1},"<=":{precedence:1,operator:"<=",action:"lte",prefix:!1,postfix:!1,leftAssoc:!1},">":{precedence:1,operator:">",action:"gt",prefix:!1,postfix:!1,leftAssoc:!1},"=>":{precedence:1,operator:"=>",action:"gte",prefix:!1,postfix:!1,leftAssoc:!1},",":{precedence:0,operator:",",action:"comma",prefix:!1,postfix:!1,leftAssoc:!1},":":{precedence:0,operator:",",action:"assign",prefix:!1,postfix:!1,leftAssoc:!1,vectorFn:"slice"},":=":{precedence:0,operator:",",action:"function_assign",prefix:!1,postfix:!1,leftAssoc:!0}},ln={"(":{type:"round",id:1,is_open:!0,is_close:!1},")":{type:"round",id:2,is_open:!1,is_close:!0},"[":{type:"square",id:3,is_open:!0,is_close:!1,maps_to:"vector"},"]":{type:"square",id:4,is_open:!1,is_close:!0},"{":{type:"curly",id:5,is_open:!0,is_close:!1,maps_to:"Set"},"}":{type:"curly",id:6,is_open:!1,is_close:!0}},k=this.functions={cos:[Ze.cos,1],sin:[Ze.sin,1],tan:[Ze.tan,1],sec:[Ze.sec,1],csc:[Ze.csc,1],cot:[Ze.cot,1],acos:[Ze.acos,1],asin:[Ze.asin,1],atan:[Ze.atan,1],arccos:[Ze.acos,1],arcsin:[Ze.asin,1],arctan:[Ze.atan,1],asec:[Ze.asec,1],acsc:[Ze.acsc,1],acot:[Ze.acot,1],atan2:[Ze.atan2,2],acoth:[tn.acoth,1],asech:[tn.asech,1],acsch:[tn.acsch,1],sinh:[tn.sinh,1],cosh:[tn.cosh,1],tanh:[tn.tanh,1],asinh:[tn.asinh,1],sech:[tn.sech,1],csch:[tn.csch,1],coth:[tn.coth,1],acosh:[tn.acosh,1],atanh:[tn.atanh,1],log10:[,1],exp:[dr,1],radians:[kr,1],degrees:[yr,1],min:[Wi,-1],max:[go,-1],erf:[,1],floor:[,1],ceil:[,1],trunc:[,1],Si:[,1],step:[,1],rect:[,1],sinc:[mn,1],tri:[,1],sign:[Bs,1],Ci:[,1],Ei:[,1],Shi:[,1],Chi:[,1],Li:[,1],fib:[,1],fact:[bn,1],factorial:[bn,1],continued_fraction:[zn,[1,2]],dfactorial:[,1],gamma_incomplete:[,[1,2]],round:[oo,[1,2]],scientific:[_r,[1,2]],mod:[xn,2],pfactor:[Mr,1],vector:[zl,-1],matrix:[Hl,-1],Set:[j1,-1],imatrix:[nl,-1],parens:[Sn,-1],sqrt:[vr,1],cbrt:[lr,1],nthroot:[Dn,2],log:[ks,[1,2]],expand:[c0,1],abs:[hn,1],invert:[il,1],determinant:[Vl,1],size:[iu,1],transpose:[Gl,1],dot:[va,2],cross:[Bc,2],vecget:[vo,2],vecset:[rl,3],vectrim:[e0,[1,2]],matget:[Uo,3],matset:[Dc,4],matgetrow:[ai,2],matsetrow:[Fu,3],matgetcol:[ga,2],matsetcol:[ru,3],rationalize:[fr,1],IF:[Ir,3],is_in:[qn,2],realpart:[cr,1],imagpart:[Tr,1],conjugate:[Kr,1],arg:[Vn,1],polarform:[Fr,1],rectform:[Zr,1],sort:[yi,[1,2]],integer_part:[,1],union:[Pc,2],contains:[Uu,2],intersection:[Fc,2],difference:[su,2],intersects:[ou,2],is_subset:[$a,2],print:[sl,-1]};this.error=R;var z=function(L){for(var ee=T.FUNCTION_MODULES,ct=ee.length,It=0;It<ct;It++){var Wt=ee[It];if(L in Wt)return Wt[L]}R("The function "+L+" is undefined!")};this.override=function(L,ee){H[L]||(H[L]=[]),H[L].push(this[L]),this[L]=ee},this.restore=function(L){this[L]&&(this[L]=H[L].pop())},this.extend=function(L,ee,ct){var It=this,Wt=this[L];if(typeof Wt=="function"&&typeof ee=="function"){var sn=this[L];this[L]=function(_n,Ln){return Ge(_n)&&Ge(Ln)&&!ct?sn.call(It,_n,Ln):ee.call(It,_n,Ln,sn)}}},this.symfunction=function(L,ee){var ct=new Ke(L);return ct.group=ne,typeof ee=="object"&&(ee=[].slice.call(ee)),ct.args=ee,ct.fname=L===Ce?"":L,ct.updateHash(),ct},this.callfunction=function(L,ee,ct){var It=k[L];It||R("Nerdamer currently does not support the function "+L);var Wt=It[1]||ct,sn=It[0],_n;if(ee instanceof Array||(ee=ee!==void 0?[ee]:[]),Wt!==-1){var Ln=De(Wt),Zn=Ln?Wt[0]:Wt,tr=Ln?Wt[1]:Wt,Sr=ee.length,Fn=L+" requires a {0} of {1} arguments. {2} provided!";Sr<Zn&&R(rt(Fn,"minimum",Zn,Sr)),Sr>tr&&R(rt(Fn,"maximum",tr,Sr))}var Wr=F(ee);return sn?_n=sn.apply(It[2],ee):(sn=z(L),T.PARSE2NUMBER&&Wr?_n=es(sn.apply(sn,ee)):_n=v.symfunction(L,ee)),_n},this.operator_filter_regex=(function(){var L="^\\"+Object.keys(an).filter(function(ee){if(ee.length===1)return ee}).join("\\");return new RegExp("(["+L+"])\\s+(["+L+"])")})(),this.setOperator=function(L,ee,ct){var It=L.operator;if(an[It]=L,ee&&(this[L.action]=ee),v[It]=L.operation,!L.action&&!(L.prefix||L.postif)&&(L.action=It),ct==="over"||ct==="under"){var Wt=L.precedence;for(var sn in an){var _n=an[sn],Ln=ct==="over"?_n.precedence>=Wt:_n.precedence>Wt;Ln&&_n.precedence++}}},this.getOperator=function(L){return an[L]},this.aliasOperator=function(L,ee){var ct={},It=an[L];for(var Wt in It)ct[Wt]=It[Wt];ct.operator=ee,this.setOperator(ct)},this.getOperators=function(){return an},this.getBrackets=function(){return ln};var We=function(L){L=String(L);for(var ee=0;ee<ue.actions.length;ee++)L=ue.actions[ee].call(this,L);for(L=L.replace(/\s+/g," "),/e/gi.test(L)&&(L=L.replace(/\-*\d+\.*\d*e\+?\-?\d+/gi,function(It){return qe(It)})),L=L.replace(T.IMPLIED_MULTIPLICATION_REGEX,function(){var It=arguments[4],Wt=arguments[1],sn=arguments[2],_n=arguments[3],Ln=It.charAt(_n),Zn="",tr="*";return Ln.match(/[\+\-\/\*]/)||(Zn=It.charAt(_n-1)),Zn.match(/[a-z]/i)&&(tr=""),Wt+tr+sn}).replace(/([a-z0-9_]+)/gi,function(It,Wt){return T.USE_MULTICHARACTER_VARS===!1&&!(Wt in k)&&isNaN(Wt)?Wt.split("").join("*"):Wt}).replace(/\)\(/g,")*(")||"0";;){var ct=L;if(L=L.replace(/([a-z0-9_]+)(\()|(\))([a-z0-9]+)/gi,function(It,Wt,sn,_n,Ln){var Zn=Wt||_n,tr=sn||Ln;return Zn in k?Zn+tr:Zn+"*"+tr}),ct===L)break}return L};this.initConstants=function(){this.CONSTANTS={E:new Ke(T.E),PI:new Ke(T.PI)}},this.pretty_print=function(L){if(Array.isArray(L)){var ee=L.map(ct=>v.pretty_print(ct)).join(", ");return L.type==="vector"?"vector<"+ee+">":"("+ee+")"}return L.toString()},this.peekers={pre_operator:[],post_operator:[],pre_function:[],post_function:[]},this.callPeekers=function(L){if(T.callPeekers)for(var ee=this.peekers[L],ct=jn(arguments).slice(1).map(lt),It=0;It<ee.length;It++)ee[It].apply(null,ct)},this.tokenize=function(L){L=String(L),L=L.trim().replace(/\s+/g," ");for(var ee in ln){var ct=new RegExp(ln[ee].is_close?"\\s+\\"+ee:"\\"+ee+"\\s+","g");L=L.replace(ct,ee)}for(var It=0,Wt=L.length,sn=0,_n=[],Ln=[_n],Zn=Ln[0],tr=0,Sr=[],Fn=!1,Wr=" ",zr="",jr=",",Qr="-",fi="*",Si=function($i,Ns){var xt=[];$i!==void 0&&(xt.type=$i),xt.column=Ns,Ln.push(xt),Zn.push(xt),Zn=xt,tr++},ar=function(){Ln.pop(),Zn=Ln[--tr]},Ur=function($i){$i=$i!==void 0?$i:It;for(var Ns=$i+1;L.charAt(Ns++)in an;);return L.substring($i,Ns-1)},_i=function($i){for(var Ns=It-$i.length,xt=[],ts=$i.charAt(0),xs=1,O0=$i.length;xs<O0;xs++){var So=$i.charAt(xs),Ro=ts+So;Ro in an?ts=Ro:(xt.push(new pt(ts,pt.OPERATOR,Ns+xs)),ts=So)}return xt.push(new pt(ts,pt.OPERATOR,Ns+xs)),xt},ri=function($i,Ns){Ns===void 0&&(Ns=L.substring(sn,$i)),Ns in v.units?Zn.push(new pt(Ns,pt.UNIT,sn)):Ns!==""&&Zn.push(new pt(Ns,pt.VARIABLE_OR_LITERAL,sn))},Ii=function($i){Zn.push(new pt($i,pt.FUNCTION,sn))},Ui=function($i){sn=$i+1},Ri=function(){sn=sn+xi.length-2,It=sn-1};It<Wt;It++){var Pi=L.charAt(It);if(Pi in an){ri(It);var Li=Zn[0]&&gt(Zn[0]),Zi=Li&&Pi===fi;Fn&&sn<It&&!(Pi===jr||Zi)&&(Fn=!1,ar()),Ui(It+1);var xi=Ur(It);Ri(),Zn.push.apply(Zn,_i(xi))}else if(Pi in ln){var ps=ln[Pi];if(ps.is_open){Sr.push([ps,sn]);var Fs=L.substring(sn,It);Fs in k?Ii(Fs):Fs!==""&&Zn.push(new pt(Fs,pt.VARIABLE_OR_LITERAL,sn)),Si(ps.maps_to,It)}else if(ps.is_close){var Ys=Sr.pop();if(Ys){if(Ys[0].id!==ps.id-1)throw new st("Parity error")}else throw new st("Missing open bracket for bracket at: "+(It+1));ri(It),ar()}Ui(It)}else if(Pi===Wr){var Qi=L.substring(sn,It),lo=L.charAt(It+1);if(Fn){if(Qi in an)Zn.push(new pt(Qi,pt.OPERATOR,It));else{ri(void 0,Qi),ar();var Oo=lo in an;(Oo&&an[lo].value===Qr||!Oo)&&Zn.push(new pt(fi,pt.OPERATOR,It))}Fn=!1}else{var Fs=L.substring(sn,It);if(Fs in k)Fn=!0,Ii(Fs),Si();else if(Fs in an)Zn.push(new pt(Fs,pt.OPERATOR,It));else{ri(void 0,Fs);var lo=L.charAt(It+1);Qi!==zr&&lo!==zr&&!(Qi in an)&&!(lo in an)&&Zn.push(new pt(fi,pt.OPERATOR,It))}}Ui(It)}}if(Sr.length){var Ks=Sr.pop();throw new st("Missing closed bracket for bracket at "+(Ks[1]+1))}return ri(It),_n},this.toRPN=function(L){var ee=L.type,ct=L.length,It,Wt=[],sn=[],_n=[],Ln=function(fi,Si){for(;fi.length;)Si.push(fi.pop())};for(It=0;It<ct;It++){var Zn=L[It];if(Zn.type!==pt.OPERATOR)break;if(!Zn.prefix)throw new $e("Not a prefix operator");Zn.is_prefix=!0,sn.push(Zn)}for(;It<ct;It++){var tr=L[It];if(tr.type===pt.OPERATOR){var Sr=tr;if(Sr.overloaded){var Fn=L[It+1];Fn&&Fn.type===pt.VARIABLE_OR_LITERAL&&(Sr.postfix=!1,Sr.action=Sr.overloadAction,Sr.leftAssoc=Sr.overloadLeftAssoc)}for(;sn.length;){var Wr=sn[sn.length-1];if(!(Wr.precedence>Sr.precedence||!Sr.leftAssoc&&Wr.precedence===Sr.precedence))break;Wt.push(sn.pop())}if((ee==="vector"||ee==="set")&&"vectorFn"in Sr&&(Sr.action=Sr.vectorFn),Sr.postfix){var zr=L[It-1];if(zr){if(zr.type===pt.OPERATOR&&!zr.postfix)throw new $e("Unexpected prefix operator '"+zr.value+"'! at "+zr.column)}else throw new $e("Unexpected prefix operator '"+tr.value+"'! at "+tr.column)}else do{var Fn=L[It+1],jr=Fn?Fn.type===pt.OPERATOR:!1;if(jr){if(!Fn.prefix)throw new $e("A prefix operator was expected at "+Fn.column);Fn.is_prefix=!0,_n.push(Fn),It++}}while(jr);for(Sr.is_prefix?_n.push(Sr):sn.push(Sr);_n.length&&(Sr.leftAssoc||!Sr.leftAssoc&&_n[_n.length-1].precedence>=Sr.precedence);)sn.push(_n.pop())}else if(tr.type===pt.VARIABLE_OR_LITERAL){Wt.length===0&&Ln(_n,sn),Wt.push(tr);var Qr=sn[sn.length-1];(!Qr||!Qr.leftAssoc)&&Ln(_n,Wt)}else tr.type===pt.FUNCTION?sn.push(tr):tr.type===pt.UNIT&&Wt.push(tr);Array.isArray(tr)&&(Wt.push(this.toRPN(tr)),tr.type&&Wt.push(new pt(tr.type,pt.FUNCTION,tr.column)))}return Ln(sn,Wt),Ln(_n,Wt),Wt},this.parseRPN=function(L,ee){try{ee=ee||{};for(var ct in ee)ee[ct]=v.parse(ee[ct],{});T.PARSE2NUMBER&&("e"in ee||(ee.e=new Ke(T.E)),"pi"in ee||(ee.pi=new Ke(T.PI)));for(var It=[],Wt=0,sn=L.length;Wt<sn;Wt++){var _n=L[Wt];if(Array.isArray(_n)&&(_n=this.parseRPN(_n,ee)),_n)if(_n.type===pt.OPERATOR)if(_n.is_prefix||_n.postfix)It.push(_n.operation(It.pop()));else{var Ln=It.pop(),Zn=It.pop();if(typeof Zn>"u")throw new $e(_n+" is not a valid postfix operator at "+_n.column);var tr=_n.action==="comma";Zn instanceof Hn&&!tr&&(Zn=or.fromSet(Zn)),Ln instanceof Hn&&!tr&&(Ln=or.fromSet(Ln)),this.callPeekers("pre_operator",Zn,Ln,_n);var Sr=v[_n.action](Zn,Ln);this.callPeekers("post_operator",Sr,Zn,Ln,_n),It.push(Sr)}else if(_n.type===pt.FUNCTION){var Fn=It.pop(),Wr=Fn.parent;Fn instanceof Xe||(Fn=Xe.create(Fn));var zr=_n.value,jr=Fn.getItems();this.callPeekers("pre_function",zr,jr);var Qr=v.callfunction(zr,jr);this.callPeekers("post_function",Qr,zr,jr);var fi=It[It.length-1],Si=L[Wt+1],ar=Si&&Si.type===pt.OPERATOR&&Si.value===",";if(!ar&&Qr instanceof or&&fi&&fi.elements&&!(fi instanceof Xe)){var Ur=It.pop(),_i=Qr.elements[0];if(!_i.isConstant())Ur.getter=_i,It.push(Ur),It.push(Qr);else if(_i instanceof Se)It.push(or.fromArray(Ur.elements.slice(_i.start,_i.end)));else{var ri=Number(_i),Ii=Ur.elements.length;if(ri<0&&(ri=Ii+ri),ri<0||ri>=Ii)throw new $t("Index out of range "+(_n.column+1));var Ui=Ur.elements[ri];Ur.getter=ri,Ui.parent=Ur,It.push(Ui)}}else Wr&&(Qr.parent=Wr),It.push(Qr)}else{var Ri,Pi=_n.value;Pi in T.ALIASES?_n=v.parse(T.ALIASES[_n]):_n.type===pt.VARIABLE_OR_LITERAL?_n=new Ke(Pi):_n.type===pt.UNIT&&(_n=new Ke(Pi),_n.isUnit=!0),Pi in v.CONSTANTS?(Ri=_n,_n=new Ke(v.CONSTANTS[Pi])):Pi in ee&&Pi!==ee[Pi].toString()?(Ri=_n,_n=ee[Pi].clone()):Pi in b&&(Ri=_n,_n=b[Pi].clone()),Ri&&(_n.subbed=Ri),It.push(_n)}}var Li=It[0];if(["undefined","string","number"].indexOf(typeof Li)!==-1)throw new _t("Unexpected token!");return Li}catch(xi){var Zi=[ge];throw Zi.forEach(function(ps){if(xi instanceof ps)throw new ps(xi.message+": "+_n.column)}),new ae(xi.message+": "+_n.column)}};function it(L){this.type=L.type,this.value=L.value,this.left=L.left,this.right=L.right}it.prototype.toString=function(){var L=this.left?this.left.toString()+"---":"",ee=this.right?"---"+this.right.toString():"";return L+"("+this.value+")"+ee},it.prototype.toHTML=function(L,ee){L=L||0,ee=typeof ee>"u"?4:ee;var ct=function(_n){return" ".repeat(ee*_n)},sn="",It=this.left?ct(L+1)+`<li>
`+this.left.toHTML(L+2,ee)+ct(L+1)+`</li> 
`:"",Wt=this.right?ct(L+1)+`<li>
`+this.right.toHTML(L+2,ee)+ct(L+1)+`</li>
`:"",sn=ct(L)+'<div class="'+this.type.toLowerCase()+'"><span>'+this.value+"</span></div>"+ct(L)+`
`;return(It||Wt)&&(sn+=ct(L)+`<ul>
`+It+Wt+ct(L)+`</ul>
`),sn+="",sn},this.tree=function(L){for(var ee=[],ct=0;ct<L.length;ct++){var It=L[ct];if(Array.isArray(It)){It=this.tree(It),ee.push(It);continue}if(It.type===pt.OPERATOR)if(It.is_prefix||It.postfix){var Wt=It.is_prefix?"left":"right",sn=ee.pop();It=new it(It),It[Wt]=sn,ee.push(It)}else It=new it(It),It.right=ee.pop(),It.left=ee.pop(),ee.push(It);else if(It.type===pt.FUNCTION){It=new it(It);var _n=ee.pop();if(It.right=_n,It.value==="object"){var sn=ee[ee.length-1];if(sn){for(;sn.right;)sn=sn.right;sn.right=It;continue}}ee.push(It)}else ee.push(new it(It))}return ee[0]},this.parse=function(L,ee){L=We(L),ee=ee||{};var ct=this.tokenize(L),It=this.toRPN(ct);return this.parseRPN(It,ee)},this.toObject=function(L){var ee=function(ct){for(var It=[],Wt=0,sn=ct.length;Wt<sn;Wt++){var _n=ct[Wt],Ln=_n.value;if(_n.type===pt.VARIABLE_OR_LITERAL)It.push(new Ke(Ln));else if(_n.type===pt.FUNCTION){Wt++;var Zn=v.symfunction(Ln,ee(ct[Wt]));Zn.isConversion=!0,It.push(Zn)}else _n.type===pt.OPERATOR?It.push(Ln):It.push(ee(_n))}return It};return ee(v.tokenize(L))};var Nt=function(L){for(var ee,ct=0,It=[[]],ee=0,Wt=L.length;ee<Wt;ee++)L[ee]===","?(ct++,It[ct]=[]):It[ct].push(L[ee]);return It},Dt=function(L){return L.replace(/^\\left\((.+)\\right\)$/g,function(ee,ct){return ct||ee})},cn=function(L){for(var ee=[];L.length;){var ct=L.shift(),It=L[0],Wt=De(It),sn=It==="-";if(ct==="^"&&(It==="+"?L.shift():Wt&&It[0]==="+"&&It.shift(),Wt&&It.length===1&&L.unshift(L.shift()[0])),ct==="^"&&(Wt&&It[0]==="-"||sn)){var _n=ee.pop(),Ln=ee[ee.length-1],Zn="1";Ln==="*"?(ee.pop(),Zn=ee.pop()):De(Ln)&&(Zn=ee.pop()),ee.push(Zn,"/",_n,ct),Wt?It.shift():L.shift(),Wt&&It.length===1&&ee.push(L.shift()[0])}else ee.push(ct)}return ee};this.toTeX=function(L,ee){ee=ee||{};var ct=ee.decimals===!0?"decimals":void 0,It=typeof L=="string"?this.toObject(L):L,Wt=[],sn=typeof ee.cdot>"u"?"\\cdot":ee.cdot;if(It=cn(It),De(It)){for(var _n=[],Ln,Zn,tr=0;tr<It.length;tr++)Ln=It[tr],It[tr+1]==="^"?(Zn=It[tr+2],_n.push(nr.braces(this.toTeX([Ln]))+"^"+nr.braces(this.toTeX([Zn]))),tr+=2):_n.push(Ln);It=_n}for(var tr=0,Sr=It.length;tr<Sr;tr++){var Fn=It[tr];if(Fn==="*"&&(Fn=sn),Ge(Fn))if(Fn.group===ne){var Wr=Fn.fname,zr;if(Wr===Oe)zr="\\sqrt"+nr.braces(this.toTeX(Fn.args));else if(Wr===ce)zr=nr.brackets(this.toTeX(Fn.args),"abs");else if(Wr===Ce)zr=nr.brackets(this.toTeX(Fn.args),"parens");else if(Wr===T.LOG10)zr="\\"+T.LOG10_LATEX+"\\left( "+this.toTeX(Fn.args)+"\\right)";else if(Wr==="integrate"){var jr=Nt(Fn.args),Qr=nr.braces(this.toTeX(jr[0])),fi=this.toTeX(jr[1]);zr="\\int "+Qr+"\\, d"+fi}else if(Wr==="defint"){var jr=Nt(Fn.args),Qr=nr.braces(this.toTeX(jr[0])),fi=this.toTeX(jr[3]),Si=this.toTeX(jr[1]),ar=this.toTeX(jr[2]);zr="\\int\\limits_{"+Si+"}^{"+ar+"} "+Qr+"\\, d"+fi}else if(Wr==="diff"){var jr=Nt(Fn.args),fi="",Qr=nr.braces(this.toTeX(jr[0]));if(jr.length===1){var Ur=[];for(ri=0;ri<jr[0].length;ri++)jr[0][ri].group===3&&Ur.push(jr[0][ri].value);Ur.sort(),fi=Ur.length>0?"\\frac{d}{d "+Ur[0]+"}":"\\frac{d}{d x}"}else jr.length===2?fi="\\frac{d}{d "+jr[1]+"}":fi="\\frac{d^{"+jr[2]+"}}{d "+this.toTeX(jr[1])+"^{"+jr[2]+"}}";zr=fi+"\\left("+Qr+"\\right)"}else if(Wr==="sum"||Wr==="product"){var _i=[[],[],[],[]],ri=0,tr;for(tr=0;tr<Fn.args.length;tr++){if(Fn.args[tr]===","){ri++;continue}_i[ri].push(Fn.args[tr])}zr=(Wr==="sum"?"\\sum_":"\\prod_")+nr.braces(this.toTeX(_i[1])+" = "+this.toTeX(_i[2])),zr+="^"+nr.braces(this.toTeX(_i[3]))+nr.braces(this.toTeX(_i[0]))}else if(Wr==="limit"){var Ii=Nt(Fn.args).map(function(Ri){return Array.isArray(Ri)?v.toTeX(Ri.join("")):v.toTeX(String(Ri))});zr="\\lim_"+nr.braces(Ii[1]+"\\to "+Ii[2])+" "+nr.braces(Ii[0])}else Wr===Be||Wr===je?zr=this.toTeX(Fn.args)+(Wr===Be?"!":"!!"):zr=nr.latex(Fn,ct);Wt.push(zr)}else Wt.push(nr.latex(Fn,ct));else De(Fn)?Wt.push(nr.brackets(this.toTeX(Fn))):Fn==="/"?Wt.push(nr.frac(Dt(Wt.pop()),Dt(this.toTeX([It[++tr]])))):Wt.push(Fn)}return Wt.join(" ")};function Sn(L){return T.PARSE2NUMBER?L:v.symfunction("parens",[L])}function hn(L){if(L.isInfinity)return Ke.infinity();if(L.multiplier.lessThan(0)&&L.multiplier.negate(),L.isImaginary()){var ee=L.realpart(),ct=L.imagpart();if(ee.isConstant()&&ct.isConstant())return vr(v.add(v.pow(ee,new Ke(2)),v.pow(ct,new Ke(2))))}else if(en(L)||X(L.power))return L;if(L.isComposite()){var It=[];L.each(function(_n){It.push(_n.multiplier)});var Wt=bt.QGCD.apply(null,It);Wt.lessThan(0)&&(L.multiplier=L.multiplier.multiply(new Xt(-1)),L.distributeMultiplier())}var sn=v.parse(L.multiplier);return L.toUnitMultiplier(),v.multiply(sn,v.symfunction(ce,[L]))}function bn(L){var ee;if(Ht(L)){var ct=new or;return L.each(function(Sr,Fn){ct.set(Fn-1,bn(Sr))}),ct}if(Me(L)){var It=new Cn;return L.each(function(Sr,Fn,Wr){It.set(Fn,Wr,bn(Sr))}),It}if(T.PARSE2NUMBER&&L.isConstant())return se(L)?ee=bt.bigfactorial(L):ee=bt.gamma(L.multiplier.add(new Xt(1)).toDecimal()),ee=es(ee),ee;if(L.isConstant()){var Wt=L.getDenom();if(Wt.equals(2)){var sn=L.getNum(),_n,Ln,Zn,tr;return L.multiplier.isNegative()?(tr=v.subtract(sn.negate(),new Ke(1)).multiplier.divide(new Xt(2)),_n=v.pow(new Ke(-4),new Ke(tr)).multiplier.multiply(bt.bigfactorial(tr)),Ln=bt.bigfactorial(new Xt(2).multiply(tr))):(tr=v.add(sn,new Ke(1)).multiplier.divide(new Xt(2)),_n=bt.bigfactorial(new Xt(2).multiply(tr)),Ln=v.pow(new Ke(4),new Ke(tr)).multiplier.multiply(bt.bigfactorial(tr))),Zn=_n.divide(Ln),v.multiply(v.parse("sqrt(pi)"),new Ke(Zn))}}return v.symfunction(Be,[L])}function zn(L,ee){var ct=re(L);if(ct.isConstant()){var It=bt.continuedFraction(ct,ee),Wt=or.fromArray(It.fractions.map(function(sn){return new Ke(sn)}));return or.fromArray([new Ke(It.sign),new Ke(It.whole),Wt])}return v.symfunction("continued_fraction",arguments)}function xn(L,ee){if(L.isConstant()&&ee.isConstant()){var ct=new Ke(1);return ct.multiplier=ct.multiplier.multiply(L.multiplier.mod(ee.multiplier)),ct}var It=v.divide(L.clone(),ee.clone());return se(It)?new Ke(0):v.symfunction("mod",[L,ee])}function Ir(L,ee,ct){return typeof L!="boolean"&&en(L)&&(L=!!Number(L)),L?ee:ct}function qn(L,ee){if(Me(L))for(var ct=0,It=L.rows();ct<It;ct++)for(var Wt=0,sn=L.cols();Wt<sn;Wt++){var _n=L.elements[ct][Wt];if(_n.equals(ee))return new Ke(1)}else if(L.elements){for(var ct=0,It=L.elements.length;ct<It;ct++)if(L.elements[ct].equals(ee))return new Ke(1)}return new Ke(0)}function mn(L){return T.PARSE2NUMBER?L.isConstant()?new Ke(bt.sinc(L)):v.parse(rt("sin({0})/({0})",L)):v.symfunction("sinc",[L])}function dr(L){return L.fname===T.LOG&&L.isLinear()?v.pow(L.args[0],Ke.create(L.multiplier)):v.parse(rt("e^({0})",L))}function kr(L){return v.parse(rt("({0})*pi/180",L))}function yr(L){return v.parse(rt("({0})*180/pi",L))}function fr(L){if(L.isComposite()){var ee=new Ke(0),ct,It,Wt,sn,_n,Ln,Zn,tr;return L.each(function(Sr){ct=Sr.getNum(),It=Sr.getDenom(),Wt=ee.getNum(),sn=ee.getDenom(),_n=v.multiply(It,Wt),Ln=v.multiply(ct,sn),Zn=v.expand(v.add(_n,Ln)),tr=v.multiply(sn,It),ee=v.divide(Zn,tr)},!0),ee}return L}function vr(L){if(Ge(L)||(L=v.parse(L)),L.group===K)return v.symfunction(Oe,[L]);L.fname===""&&L.power.equals(1)&&(L=L.args[0]);var ee=L.multiplier.sign()<0;if(T.PARSE2NUMBER){if(L.isConstant()&&!ee)return new Ke(f.sqrt(L.multiplier.toDecimal()));if(L.isImaginary())return dt.sqrt(L);if(L.group===A)return v.symfunction("sqrt",[L])}var ct,It,Wt=L.isConstant();if(L.group===V&&L.isLinear()){var sn=vr(Ke(L.multiplier));for(var _n in L.symbols){var Ln=L.symbols[_n];sn=v.multiply(sn,vr(Ln))}It=sn}else if(L.fname===Oe){var _n=L.args[0],Zn=L.multiplier;_n.setPower(L.power.multiply(new Xt(.25))),It=_n,Zn.equals(1)||(It=v.multiply(vr(v.parse(Zn)),It))}else if(!L.power.isInteger())L.setPower(L.power.multiply(new Xt(.5))),It=L;else if(L.multiplier<0&&L.group===A){var tr=v.parse(L.multiplier).negate(),Sr=v.parse(L).toUnitMultiplier().negate();It=v.multiply(v.symfunction(T.SQRT,[Sr]),vr(tr))}else{var Fn=L.power.sign();L.power=L.power.abs(),Wt&&L.multiplier.lessThan(0)&&(ct=Ke.imaginary(),L.multiplier=L.multiplier.abs());var Wr=L.multiplier.toDecimal(),zr=Math.abs(Wr),jr=Math.sqrt(zr),sn;if(se(jr))sn=new Ke(jr);else if(se(Wr)){var Qr=bt.ifactor(Wr),fi=1;for(var Ln in Qr){var Si=Qr[Ln],ar=Si-Si%2;if(ar){var Ur=Math.pow(Ln,ar);fi*=Math.pow(Ln,ar/2),Wr/=Ur}}sn=v.multiply(v.symfunction(Oe,[new Ke(Wr)]),new Ke(fi))}else{for(var _i=[new Ke(L.multiplier.num),new Ke(L.multiplier.den)],ri=[new Ke(1),new Ke(1)],Ii=[new Ke(1),new Ke(1)],Ui=0;Ui<2;Ui++){var Si=_i[Ui];Mr(Si).each(function(Li){Li=Ke.unwrapPARENS(Li);var Zi=Li.clone().toLinear(),xi=Number(Li.power),ps=xi%2,Fs=(xi-ps)/2;ri[Ui]=v.multiply(ri[Ui],v.pow(Zi,new Ke(Fs))),Ii[Ui]=v.multiply(Ii[Ui],vr(v.pow(Zi,new Ke(ps))))})}sn=v.divide(v.multiply(ri[0],Ii[0]),v.multiply(ri[1],Ii[1]))}L=L.toUnitMultiplier(!0),L.isOne()?It=L:X(L.power.toString())?It=v.pow(L.clone(),new Ke(.5)):It=v.symfunction(Oe,[L]),Fn<0&&It.power.negate(),sn&&(It=v.multiply(sn,It)),ct&&(It=v.multiply(ct,It))}return ee&&T.PARSE2NUMBER?v.parse(It):It}function lr(L){if(!L.isConstant(!0)){var ee,ct=L.power/3,It=v.pow(v.parse(L.multiplier),new Ke(1/3)),Wt=L.toUnitMultiplier();return se(ct)?ee=v.pow(Wt.toLinear(),v.parse(ct)):Wt.group===V?(ee=new Ke(1),Wt.each(function(sn){ee=v.multiply(ee,lr(sn))})):ee=v.symfunction("cbrt",[Wt]),v.multiply(It,ee)}return Dn(L,new Ke(3))}function _r(L,ee){return L.scientific=ee||10,L}function Dn(L,ee,ct,It){if(ee=re(v.parse(ee)),ee.equals(0))throw new q("Unable to calculate nthroots of zero");if(L<0&&X(ee))throw new Error("Cannot calculate nthroot of negative number for even powers");if(!L.isConstant(!0))return v.symfunction("nthroot",arguments);L.group!==w&&(L=re(L)),typeof It>"u"&&(It=!0),ct=ct||25;var Wt=L.sign(),sn,_n;if(Wt<0&&(L=hn(L)),se(L)&&ee.isConstant()){L<18446744073709552e3?_n=Xt.create(Math.pow(L,1/ee)):_n=bt.nthroot(L,ee);var sn;return It&&(sn=new Ke(_n)),sn=new Ke(_n.toDecimal(ct)),v.multiply(new Ke(Wt),sn)}}function Mr(L){if(L.greaterThan(9999999999998891e26)||L.equals(-1))return L;if(L.equals(Math.PI))return new Ke(Math.PI);if(L=re(L.clone()),L.isConstant()){var ee=new Ke(1),ct=L.toString();if(se(ct)){var It=bt.ifactor(ct);for(var Wt in It){var sn=It[Wt];ee=v.multiply(ee,v.symfunction("parens",[new Ke(Wt).setPower(new Xt(sn))]))}}else{var _n=Mr(new Ke(L.multiplier.num)),Ln=Mr(new Ke(L.multiplier.den));ee=v.multiply(v.symfunction("parens",[_n]),v.symfunction("parens",[Ln]).invert())}}else ee=v.symfunction("pfactor",arguments);return ee}function cr(L){return L.realpart()}function Tr(L){return L.imagpart()}function Kr(L){var ee=L.realpart(),ct=L.imagpart();return v.add(ee,v.multiply(ct.negate(),Ke.imaginary()))}function Vn(L){var ee=L.realpart(),ct=L.imagpart();return ee.isConstant()&&ct.isConstant()?ct.equals(0)&&ee.equals(-1)?v.parse("pi"):ct.equals(1)&&ee.equals(0)?v.parse("pi/2"):ct.equals(1)&&ee.equals(1)?v.parse("pi/4"):new Ke(Math.atan2(ct,ee)):v.symfunction("atan2",[ct,ee])}function Fr(L){var ee,ct,It,Wt;return ee=Ke.toPolarFormArray(L),Wt=ee[1],ct=ee[0],It=v.parse(rt("e^({0}*({1}))",T.IMAGINARY,Wt)),v.multiply(ct,It)}function Zr(L){var ee=L.clone();try{var ct,It,Wt,sn,_n,Ln,Zn;return ct=Lt(L,"e",!0),It=v.divide(ct.x.power,Ke.imaginary()),Wt=re(Ze.tan(It)),sn=v.pow(ct.a,new Ke(2)),Ln=Wt.getDenom(!0),Zn=Wt.getNum(),_n=Ke.hyp(Zn,Ln),_n.equals(ct.a)?v.add(Ln,v.multiply(Ke.imaginary(),Zn)):ee}catch{return ee}}function ss(L,ee){ee.map(function(sn){sn.numVal=re(sn).multiplier});for(var ct,It,Wt;;){if(ct=ee.length,ct<2)return ee[0];It=ee.pop(),Wt=ee[ct-2],(L==="min"?It.numVal<Wt.numVal:It.numVal>Wt.numVal)&&(ee.pop(),ee.push(It))}}function go(){var L=[].slice.call(arguments);return J(L)?L[0]:F(L)?new Ke(Math.max.apply(null,L)):T.SYMBOLIC_MIN_MAX&&ie(L)?ss("max",L):v.symfunction("max",L)}function Wi(){var L=[].slice.call(arguments);return J(L)?L[0]:F(L)?new Ke(Math.min.apply(null,L)):T.SYMBOLIC_MIN_MAX&&ie(L)?ss("min",L):v.symfunction("min",L)}function Bs(L){return L.isConstant(!0)?new Ke(Math.sign(re(L))):v.symfunction("sign",arguments)}function yi(L,ee){ee=ee?ee.toString():"asc";var ct=function(Wt){return Wt.group===w?Wt.multiplier:Wt.group===ne?Wt.fname===""?ct(Wt.args[0]):Wt.fname:Wt.group===A?Wt.power:Wt.value},It=Ht(L)?L.elements:L.collectSymbols();return new or(It.sort(function(Wt,sn){var _n=ct(Wt),Ln=ct(sn);return ee==="desc"?Ln-_n:_n-Ln}))}function ks(L,ee){if(L.equals(1))return new Ke(0);var ct;if(L.fname===Oe&&L.multiplier.equals(1))return ct=v.divide(ks(L.args[0]),new Ke(2)),L.power.sign()<0&&ct.negate(),ct;if(L.equals(0))throw new q(T.LOG+"(0) is undefined!");if(L.isImaginary())return dt.evaluate(L,T.LOG);if(L.isConstant()&&typeof ee<"u"&&ee.isConstant()){var It=Math.log(L),Wt=Math.log(ee);ct=new Ke(It/Wt)}else if(L.group===K&&L.power.multiplier.lessThan(0)||L.power.toString()==="-1")L.power.negate(),ct=ks(L).negate();else if(L.value==="e"&&L.multiplier.equals(1)){var sn=L.power;ct=Ge(sn)?sn:new Ke(sn)}else if(L.group===ne&&L.fname==="exp"){var _n=L.args[0];L.multiplier.equals(1)?ct=v.multiply(_n,new Ke(L.power)):ct=v.symfunction(T.LOG,[L])}else if(T.PARSE2NUMBER&&en(L)){L=v.parse(L);var Ln;L.multiplier.lessThan(0)&&(L.negate(),Ln=v.multiply(new Ke(Math.PI),new Ke("i"))),ct=new Ke(Math.log(L.multiplier.toDecimal())),Ln&&(ct=v.add(ct,Ln))}else{var _n;!L.power.equals(1)&&!L.contains("e")&&(_n=L.group===K?L.power:new Ke(L.power),L.toLinear()),arguments.length>1&&J(arguments)?ct=new Ke(1):ct=v.symfunction(T.LOG,arguments),_n&&(ct=v.multiply(_n,ct))}return ct}function oo(L,ee){var ct=ee&&ee.isConstant()||typeof ee>"u";if(L.isConstant()&&ct){var It,Wt,sn,_n;return It=L,ee&&ee.lessThan(0)&&(ee=hn(ee),Wt=Number(L).toExponential().toString().split("e"),It=Wt[0],sn=Wt[1]),_n=new Ke(Bt(It,Number(ee||0))),v.multiply(_n,v.pow(new Ke(10),new Ke(sn||0)))}return v.symfunction("round",arguments)}function Qo(L){var ee=L%2,ct;return ee<0&&(ee=2+ee),ee>=0&&ee<=.5?ct=1:ee>.5&&ee<=1?ct=2:ee>1&&ee<=1.5?ct=3:ct=4,ct}function es(L){if(!isFinite(L)){var ee=Math.sign(L),ct=new Ke(String(Math.abs(L)));return ct.multiplier=ct.multiplier.multiply(new Xt(ee)),ct}if(Ge(L))return L;if(typeof L=="number")try{L=Xt.simple(L)}catch{L=new Xt(L)}var It=new Ke(0);return It.multiplier=L,It}function Bi(L){var ee=L.group,ct;if(ee===le){var It=L.getNum(),Wt=L.getDenom()||new Ke(1),sn=Number(L.power),_n=new Ke(1);if(Math.abs(sn)===1){Wt.each(function(tr){tr.group===V?_n=v.multiply(_n,Bi(tr.getDenom())):tr.power.lessThan(0)&&(_n=v.multiply(_n,Bi(tr.clone().toUnitMultiplier())))});var Ln=new Ke(0);Wt.each(function(tr){Ln=v.add(v.divide(tr,_n.clone()),Ln)}),_n.invert();var Zn;It.isComposite()?(Zn=new Ke(0),It.each(function(tr){Zn=v.add(v.multiply(Bi(tr),_n.clone()),Zn)})):Zn=v.multiply(_n,It),ct=v.divide(Zn,Ln)}}else ee===V?(ct=new Ke(1),L.each(function(tr){ct=v.multiply(ct,v.clean(tr))})):ee===ne&&L.args.length===1&&L.args[0].isConstant()&&(ct=sr("PARSE2NUMBER",function(){return v.parse(L)},!0));return ct||(ct=L),ct}function c0(L,ee){return ee=ee||{expand_denominator:!0,expand_functions:!0},Ps(L,ee)}function Ps(L,ee){if(Array.isArray(L))return L.map(function(jr){return Ps(jr,ee)});if(ee=ee||{},L.group===ne&&L.fname===""){var ct=Ps(L.args[0],ee),It=Ps(v.pow(ct,v.parse(L.power)),ee);return v.multiply(v.parse(L.multiplier),It).distributeMultiplier()}if([w,I,A].indexOf(L.group)!==-1)return L;var Wt=L.clone();try{var sn=L.multiplier.toString(),_n=Number(L.power),Ln=L;if(L.isComposite()&&se(L.power)&&L.power>0){var Zn=_n-1,ct=new Ke(0);L.each(function(Qr){ct=v.add(ct,Ps(v.parse(Qr),ee))});for(var tr=v.parse(ct),Sr=0;Sr<Zn;Sr++)tr=x(tr,ct,ee);Ln=v.multiply(v.parse(sn),tr).distributeMultiplier()}else if(L.group===ne&&ee.expand_functions===!0){var Fn=[];L.args.forEach(function(jr){Fn.push(Ps(jr,ee))}),Ln=v.pow(v.symfunction(L.fname,Fn),v.parse(L.power)),Ln=v.multiply(Ln,v.parse(L.multiplier))}else if(L.isComposite()&&se(L.power)&&L.power<0&&ee.expand_denominator===!0)L=L.invert(),Ln=Ps(L,ee),Ln.invert();else if(L.group===V){var Wr=function(Qr){switch(Qr.group){case le:return 0;case he:return 1;case V:return 2;case ne:return 3;default:return 4}},zr=L.collectSymbols().sort(function(Qr,fi){return Wr(fi)-Wr(Qr)}).map(function(Qr){var fi=v.pow(Qr,v.parse(_n)),Si=Ps(fi,ee);return Si}),ct=zr.pop();ct.isComposite()&&ct.isLinear()?(zr.forEach(function(Qr){ct=x(ct,Qr,ee)}),ct.isComposite()?(ct.power>1&&(ct=Ps(v.pow(ct,v.parse(ct.power)),ee)),Ln=v.multiply(v.parse(sn),ct).distributeMultiplier()):Ln=ct):(Ln=ct,zr.forEach(function(Qr){Ln=v.multiply(Ln,Qr)}),Ln=v.multiply(Ln,v.parse(sn)).distributeMultiplier()),Ln.group===V&&(Ln=v.parse(Ln))}else Ln=L;return Ln}catch{return Wt}return Wt}function nl(L){return Cn.identity(L)}function vo(L,ee){return ee.isConstant()&&se(ee)?L.elements[ee]:v.symfunction("vecget",arguments)}function e0(L,ee){return ee=typeof ee>"u"?1e-14:ee,L=L.clone(),ee=Number(ee),L.elements.sort(function(ct,It){return It.group-ct.group}),L.elements=Zt(L.elements,function(ct,It){var Wt=Number(v.subtract(re(ct),re(It)).abs());return Wt<=ee}),L}function rl(L,ee,ct){return ee.isConstant?(L.elements[ee]=ct,L):v.symfunction("vecset",arguments)}function Uo(L,ee,ct){return ee.isConstant()&&ct.isConstant()?L.elements[ee][ct]:v.symfunction("matget",arguments)}function ai(L,ee){return ee.isConstant()?new Cn(L.elements[ee]):v.symfunction("matgetrow",arguments)}function Fu(L,ee,ct){if(!ee.isConstant())return v.symfunction("matsetrow",arguments);if(L.elements[ee].length!==ct.elements.length)throw new Ue("Matrix row must match row dimensions!");var It=L.clone();return It.elements[ee]=ct.clone().elements,It}function ga(L,ee){if(!ee.isConstant())return v.symfunction("matgetcol",arguments);ee=Number(ee);var ct=Cn.fromArray([]);return L.each(function(It,Wt,sn){sn===ee&&ct.elements.push([It.clone()])}),ct}function ru(L,ee,ct){if(!ee.isConstant())return v.symfunction("matsetcol",arguments);if(ee=Number(ee),L.rows()!==ct.elements.length)throw new Ue("Matrix columns must match number of columns!");return ct.each(function(It,Wt){L.set(Wt-1,ee,It.elements[0].clone())}),L}function Dc(L,ee,ct,It){return L.elements[ee][ct]=It,L}function zl(){return new or([].slice.call(arguments))}function Hl(){return Cn.fromArray(arguments)}function j1(){return Hn.fromArray(arguments)}function Vl(L){return Me(L)?L.determinant():L}function iu(L){var ee;return Me(L)?ee=[new Ke(L.cols()),new Ke(L.rows())]:Ht(L)||ut(L)?ee=new Ke(L.elements.length):R("size expects a matrix or a vector"),ee}function va(L,ee){if(Ht(L)&&Ht(ee))return L.dot(ee);R("function dot expects 2 vectors")}function Bc(L,ee){if(Ht(L)&&Ht(ee))return L.cross(ee);R("function cross expects 2 vectors")}function Gl(L){if(Me(L))return L.transpose();R("function transpose expects a matrix")}function il(L){if(Me(L))return L.invert();R("invert expects a matrix")}function Pc(L,ee){return L.union(ee)}function Fc(L,ee){return L.intersection(ee)}function Uu(L,ee){return L.contains(ee)}function su(L,ee){return L.difference(ee)}function ou(L,ee){return new Ke(Number(L.intersects(ee)))}function $a(L,ee){return new Ke(Number(L.is_subset(ee)))}function sl(){jn(arguments).map(function(L){console.log(L.toString())})}function lu(L){if(!Ge(L.power)&&L.power.absEquals(.5)){var ee=L.power.sign(),ct=vr(L.group===I?new Ke(L.value):L.toLinear());return ee<0&&ct.invert(),ct}return L}function zu(L){if(L.group===I){var ee=L.value,ct=Yt(ee)[0];if(!ct)return fe("Unable to compute prime factors. This should not happen. Please review and report."),L;var It=new Xt(Math.log(ee)/Math.log(ct)),Wt=It.multiply(L.power);if(Wt.den>L.power.den)return L;se(Wt)?L=Ke(Math.pow(ct,Wt)):L=new Ke(ct).setPower(Wt)}return L}this.expand=Ps,this.round=oo,this.clean=Bi,this.sqrt=vr,this.cbrt=lr,this.abs=hn,this.log=ks,this.rationalize=fr,this.nthroot=Dn,this.arg=Vn,this.conjugate=Kr,this.imagpart=Tr,this.realpart=cr,this.getFunction=function(L){return k[L][0]},this.addPreprocessor=function(L,ee,ct,It){var Wt=ue.names,sn=ue.actions;if(typeof ee!="function")throw new PreprocessorError("Incorrect parameters. Function expected!");ct?It?(Wt.splice(ct,0,L),sn.splice(ct,0,ee)):(Wt[ct]=L,sn[ct]=ee):(Wt.push(L),sn.push(ee))},this.getPreprocessors=function(){for(var L={},ee=0,ct=L.names.length;ee<ct;ee++){var It=L.names[ee];L[It]={order:ee,action:L.actions[ee]}}return L},this.removePreprocessor=function(L,ee){var ct=ue.names.indexOf(L);ee?(pn(ue.names,ct),pn(ue.actions,ct)):(ue.names[ct]=void 0,ue.actions[ct]=void 0)},this.mapped_function=function(){for(var L={},ee=this.params,ct=0;ct<ee.length;ct++)L[ee[ct]]=String(arguments[ct]);return v.parse(this.body,L)},this.add=function(L,ee){var ct=Ge(L),It=Ge(ee);if(ct&&It){if(L.unit||ee.unit)return v.Unit.add(L,ee);if(L.isInfinity||ee.isInfinity){var Wt=L.multiplier.lessThan(0),sn=ee.multiplier.lessThan(0);if(L.isInfinity&&ee.isInfinity&&Wt!==sn)throw new q("("+L+")+("+ee+") is not defined!");var _n=Ke.infinity();return sn&&_n.negate(),_n}if(L.isComposite()&&L.isLinear()&&ee.isComposite()&&ee.isLinear()&&(L.distributeMultiplier(),ee.distributeMultiplier(),ee.length>L.length&&L.group===ee.group&&([L,ee]=[ee,L])),L.multiplier.equals(0))return ee;if(ee.multiplier.equals(0))return L;if(L.isConstant()&&ee.isConstant()&&T.PARSE2NUMBER){var Ur=new Ke(L.multiplier.add(ee.multiplier).toDecimal(T.PRECISION));return Ur}var Ln=L.group,Zn=ee.group,tr=L.power.toString(),Sr=ee.power.toString();if(Ln<Zn||Ln===Zn&&tr>Sr&&Sr>0)return this.add(ee,L);if(Ln===V&&Zn===he&&L.value===ee.value){var Fn=L;L=ee,ee=Fn,Ln=L.group,Zn=ee.group,tr=L.power.toString(),Sr=ee.power.toString()}var Wr=tr===Sr,zr=L.value,jr=ee.value,Qr=L.isComposite(),fi=ee.isComposite(),Si,ar,Ur;if(Qr&&(Si=un(L,"hash")),fi&&(ar=un(ee,"hash")),Ln===le&&Zn===le&&ee.isLinear()&&!L.isLinear()&&Si!==ar)return this.add(ee,L);Ln===he&&Zn===he&&(zr=Si,jr=ar);var _i=Ln===I&&Zn===w,ri=L.value===ee.multiplier.toString(),Ii=zr===jr||Si===ar&&Si!==void 0||_i&&ri;if(Ii&&Wr&&Ln===Zn)if(_i&&(ee=ee.convert(I)),Ln===he&&(Zn===A||Zn===I))L.distributeMultiplier(),Ur=L.attach(ee);else if(Ur=L,L.multiplier.isOne()&&ee.multiplier.isOne()&&Ln===le&&L.isLinear()&&ee.isLinear())for(var Ui in ee.symbols){var Ri=ee.symbols[Ui];Ur.attach(Ri)}else Ur.multiplier=Ur.multiplier.add(ee.multiplier);else if(Ii&&Ln!==he)Ln===le&&Zn===he?(ee.insert(L,"add"),Ur=ee):(Ur=Ke.shell(he).attach([L,ee]),Ur.value=Ln===he?Si:zr);else if(Qr&&L.isLinear()){var Pi=Ln===Zn,Li=Ln===he&&Zn===he;if(Li&&(Pi=L.value===ee.value),L.distributeMultiplier(),ee.isComposite()&&ee.isLinear()&&Pi){ee.distributeMultiplier();for(var Ui in ee.symbols){var Ri=ee.symbols[Ui];L.attach(Ri)}Ur=L}else Li&&L.value!==ar||Ln===he&&!Ii?(Ur=Ke.shell(le).attach([L,ee]),Ur.updateHash()):Ur=L.attach(ee)}else{if(Ln===ne&&L.fname===Oe&&Zn!==K&&ee.power.equals(.5)){var Zi=ee.multiplier.clone();ee=vr(ee.toUnitMultiplier().toLinear()),ee.multiplier=Zi}L.length===2&&ee.length===2&&X(L.power)&&X(ee.power)?Ur=v.add(Ps(L),Ps(ee)):(Ur=Ke.shell(le).attach([L,ee]),Ur.updateHash())}if(Ur.multiplier.equals(0)&&(Ur=new Ke(0)),Ur.length===1){var Zi=Ur.multiplier;Ur=ke(Ur.symbols),Ur.multiplier=Ur.multiplier.multiply(Zi)}return Ur}else{if(It&&!ct){var Fn=L;L=ee,ee=Fn,Fn=It,It=ct,ct=Fn}var xi=Me(ee);if(ct&&xi){var ps=new Cn;ee.eachElement(function(Ys,Qi,lo){ps.set(Qi,lo,v.add(L.clone(),Ys))}),ee=ps}else if(Me(L)&&xi)ee=L.add(ee);else if(ct&&Ht(ee))ee.each(function(Ys,Qi){Qi--,ee.elements[Qi]=v.add(L.clone(),ee.elements[Qi])});else if(Ht(L)&&Ht(ee))ee.each(function(Ys,Qi){Qi--,ee.elements[Qi]=v.add(L.elements[Qi],ee.elements[Qi])});else{if(Ht(L)&&Me(ee))return v.add(ee,L);if(Me(L)&&Ht(ee))if(ee.elements.length===L.rows()){var ps=new Cn,Fs=L.cols();return ee.each(function(Qi,lo){for(var Oo=[],Ks=0;Ks<Fs;Ks++)Oo.push(v.add(L.elements[lo-1][Ks].clone(),Qi.clone()));ps.elements.push(Oo)}),ps}else R("Dimensions must match!")}return ee}},this.subtract=function(L,ee){var ct=ct=Ge(L),It=Ge(ee);if(ct&&It)return L.unit||ee.unit?v.Unit.subtract(L,ee):this.add(L,ee.negate());if(It&&Ht(L))ee=L.map(function(_n){return v.subtract(_n,ee.clone())});else if(ct&&Ht(ee))ee=ee.map(function(_n){return v.subtract(L.clone(),_n)});else if(Ht(L)&&Ht(ee))L.dimensions()===ee.dimensions()?ee=L.subtract(ee):v.error("Unable to subtract vectors. Dimensions do not match.");else if(Me(L)&&Ht(ee))if(ee.elements.length===L.rows()){var Wt=new Cn,sn=L.cols();return ee.each(function(_n,Ln){for(var Zn=[],tr=0;tr<sn;tr++)Zn.push(v.subtract(L.elements[Ln-1][tr].clone(),_n.clone()));Wt.elements.push(Zn)}),Wt}else R("Dimensions must match!");else if(Ht(L)&&Me(ee)){var Wt=ee.clone().negate();return v.add(Wt,L)}else if(Me(L)&&Me(ee))ee=L.subtract(ee);else if(Me(L)&&It){var Wt=new Cn;L.each(function(Ln,Zn,tr){Wt.set(Zn,tr,v.subtract(Ln,ee.clone()))}),ee=Wt}else if(ct&&Me(ee)){var Wt=new Cn;ee.each(function(Ln,Zn,tr){Wt.set(Zn,tr,v.subtract(L.clone(),Ln))}),ee=Wt}return ee},this.multiply=function(L,ee){var ct=Ge(L),It=Ge(ee);if(ct&&ee instanceof Xe)return ee.elements.push(L),ee;if(ct&&It){if(ee.isUnit){var ar=L.clone();return L.unit=ee,ar}if(L.unit||ee.unit)return v.Unit.multiply(L,ee);if(L.isInfinity||ee.isInfinity){if(L.equals(0)||ee.equals(0))throw new q(L+"*"+ee+" is undefined!");if(ee.power.lessThan(0)){if(L.isInfinity)throw new q("Infinity/Infinity is not defined!");return new Ke(0)}var Qr=L.multiplier.multiply(ee.multiplier).sign(),Wt=Ke.infinity();if(L.isConstant()||ee.isConstant()||L.isInfinity&&ee.isInfinity)return Qr<0&&Wt.negate(),Wt}if(L.isConstant()&&ee.isConstant()&&T.PARSE2NUMBER){var sn=new f(L.multiplier.toDecimal()).times(new f(ee.multiplier.toDecimal())).toFixed(),_n=new Ke(sn);return _n}if(L.isOne())return ee.clone();if(ee.isOne())return L.clone();if(L.multiplier.equals(0)||ee.multiplier.equals(0))return new Ke(0);if(ee.group>L.group&&ee.group!==le)return this.multiply(ee,L);if(L.group===V&&ee.group===he&&L.value===ee.value){var sn=L;L=ee,ee=sn}var Ln=L.group,Zn=ee.group,tr=ee.multiplier.num,Sr=ee.multiplier.den;if(Ln===ne&&L.fname===Oe&&!ee.isConstant()&&L.args[0].value===ee.value&&!L.args[0].multiplier.lessThan(0)){var Fn=L.power,Wr=v.parse(L.multiplier);L=v.multiply(Wr,L.args[0].clone()),L.setPower(new Xt(.5).multiply(Fn)),Ln=L.group}else Ln===ne&&L.fname===Oe&&L.multiplier.equals(1)&&L.power.equals(-1)&&ee.isConstant()&&L.args[0].equals(ee)&&(L=v.symfunction(Oe,[ee.clone()]),ee=new Ke(1));var zr=L.value,jr=ee.value,Qr=new Xt(L.sign()),fi=Ln===I&&Zn===w&&ee.multiplier.equals(L.value),Si=fi?new Xt(1).multiply(L.multiplier).abs():L.multiplier.multiply(ee.multiplier).abs(),ar=L.clone().toUnitMultiplier();if(ee=ee.clone().toUnitMultiplier(!0),Ln===ne&&Zn===ne){var Ur=L.args[0].clone(),_i=ee.args[0].clone();if(L.fname===Oe&&ee.fname===Oe&&L.isLinear()&&ee.isLinear()){var ri=v.divide(Ur,_i).invert();ri.gt(1)&&se(ri)&&(ar=v.multiply(L.args[0].clone(),vr(ri.clone())),ee=new Ke(1))}else if(L.fname===Be&&ee.fname===Be&&!Ur.isConstant()&&!_i.isConstant()&&ee.power<0){var Ii=v.subtract(Ur.clone(),_i.clone());if(Ii.isConstant())if(sn=new Ke(1),Ii<0){for(var Ui=0,Ri=Math.abs(Ii);Ui<=Ri;Ui++){var Pi=v.add(Ur.clone(),new Ke(Ui));sn=v.multiply(sn,Pi)}ar=v.multiply(v.pow(Ur,new Ke(L.power)),v.pow(sn,new Ke(ee.power))),ee=new Ke(1)}else{for(var Ui=0,Ri=Math.abs(Ii);Ui<=Ri;Ui++){var Pi=v.add(_i.clone(),new Ke(Ui));sn=v.multiply(sn,Pi)}ar=v.multiply(v.pow(sn,new Ke(L.power)),v.pow(_i,new Ke(ee.power))),ee=new Ke(1)}}}if(zr===jr&&Ln===he&&Ln===Zn&&(zr=L.text("hash"),jr=ee.text("hash")),Zn===K&&ee.previousGroup===he&&Ln===he&&(zr=un(L,"hash",K)),(zr===jr||fi)&&!(Ln===he&&(Zn===A||Zn===I||Zn===ne))&&!(Ln===he&&Zn===V)){var Li=L.power,Zi=ee.power,xi=Ge(Li),ps=Ge(Zi),Fs=xi||ps;if(Ln===he&&Zn!==he&&ee.previousGroup!==he&&Li.equals(1))ar=new Ke(0),L.each(function(Is){ar=v.add(ar,v.multiply(Is,ee.clone()))},!0);else{if(ar.power=Fs?v.add(Ge(Li)?Li:new Ke(Li),Ge(Zi)?Zi:new Ke(Zi)):Ln===w?Li:Li.add(Zi),ar.power.equals(0)&&(ar=ar.convert(w)),Fs&&ar.convert(K),L.imaginary&&ee.imaginary){var Ys=X(ar.power%2);Ys&&(ar=new Ke(1),Si.negate())}ar.group!==K&&ar.previousGroup&&(ar.previousGroup=void 0),ar.multiplier=ar.multiplier.multiply(ee.multiplier)}}else if(Ln===V&&L.isLinear())if(Zn===V&&ee.distributeExponent(),Zn===V&&ee.isLinear()){for(var Pi in ee.symbols){var Qi=ee.symbols[Pi];ar=ar.combine(Qi)}ar.multiplier=ar.multiplier.multiply(ee.multiplier)}else ar.combine(ee);else if(Ln!==w){if(Ln===V)ar.distributeExponent(),ar.combine(ee);else if(!ee.isOne()){var lo=ee.multiplier.clone();ee.toUnitMultiplier(),ar=Ke.shell(V).combine([ar,ee]),ar.multiplier=ar.multiplier.multiply(lo)}}else ar=ee.clone().toUnitMultiplier();if(ar.group===I){var Oo=Math.log(ar.value),Ks=Math.log(tr)/Oo,$i=Math.log(Sr)/Oo,Ns=Si.num/tr,xt=Si.den/Sr;Ks!==0&&se(Ks)&&se(Ns)&&(ar.power=ar.power.add(new Xt(Ks)),Si.num/=tr),$i!==0&&se($i)&&se(xt)&&(ar.power=ar.power.subtract(new Xt($i)),Si.den/=Sr)}if(ar.length===1){var sn=ar.multiplier;ar=ke(ar.symbols),ar.multiplier=ar.multiplier.multiply(sn)}var ts=ar.power.toString();if(X(ts)&&ar.fname===Oe){Qr=Qr*ar.sign();var xs=ar.power;ar=ar.args[0],ar=v.multiply(new Ke(Si),v.pow(ar,new Ke(xs.divide(new Xt(2))))),Qr<0&&ar.negate()}else ar.multiplier=ar.multiplier.multiply(Si).multiply(Qr),ar.group===le&&ar.isImaginary()&&ar.distributeMultiplier();return ar.group===I&&se(ar.power.toDecimal())&&(ar=ar.convert(w)),ar}else{It&&!ct&&(sn=L,L=ee,ee=sn,sn=It,It=ct,ct=sn);var O0=Me(ee),So=Me(L);if(ct&&O0){var Ro=new Cn;ee.eachElement(function(Is,ii,bo){Ro.set(ii,bo,v.multiply(L.clone(),Is))}),ee=Ro}else if(So&&O0)ee=L.multiply(ee);else if(ct&&Ht(ee))ee.each(function(Is,ii){ii--,ee.elements[ii]=v.multiply(L.clone(),ee.elements[ii])});else if(Ht(L)&&Ht(ee))ee.each(function(Is,ii){ii--,ee.elements[ii]=v.multiply(L.elements[ii],ee.elements[ii])});else{if(Ht(L)&&Me(ee))return this.multiply(ee,L);if(Me(L)&&Ht(ee))if(ee.elements.length===L.rows()){var Ro=new Cn,$o=L.cols();return ee.each(function(ii,bo){for(var os=[],Lo=0;Lo<$o;Lo++)os.push(v.multiply(L.elements[bo-1][Lo].clone(),ii.clone()));Ro.elements.push(os)}),Ro}else R("Dimensions must match!")}return ee}},this.divide=function(L,ee){var ct=Ge(L),It=Ge(ee);if(ct&&It){if(L.unit||ee.unit)return v.Unit.divide(L,ee);var Wt;if(ee.equals(0))throw new W("Division by zero not allowed!");return L.isConstant()&&ee.isConstant()?(Wt=L.clone(),Wt.multiplier=Wt.multiplier.divide(ee.multiplier)):(ee.invert(),Wt=v.multiply(L,ee)),Wt}else{var sn=Ht(L),_n=Ht(ee);if(ct&&_n)ee=ee.map(function(Sr){return v.divide(L.clone(),Sr)});else if(sn&&It)ee=L.map(function(Sr){return v.divide(Sr,ee.clone())});else if(sn&&_n)L.dimensions()===ee.dimensions()?ee=ee.map(function(Sr,Fn){return v.divide(L.elements[--Fn],Sr)}):v.error("Cannot divide vectors. Dimensions do not match!");else{var Ln=Me(L),Zn=Me(ee);if(Ln&&It){var tr=new Cn;L.eachElement(function(Sr,Fn,Wr){tr.set(Fn,Wr,v.divide(Sr,ee.clone()))}),ee=tr}else if(ct&&Zn){var tr=new Cn;ee.eachElement(function(Fn,Wr,zr){tr.set(Wr,zr,v.divide(L.clone(),Fn))}),ee=tr}else if(Ln&&Zn){var tr=new Cn;L.rows()===ee.rows()&&L.cols()===ee.cols()?(L.eachElement(function(Fn,Wr,zr){tr.set(Wr,zr,v.divide(Fn,ee.elements[Wr][zr]))}),ee=tr):v.error("Dimensions do not match!")}else if(Ln&&_n)if(L.cols()===ee.dimensions()){var tr=new Cn;L.eachElement(function(Fn,Wr,zr){tr.set(Wr,zr,v.divide(Fn,ee.elements[Wr].clone()))}),ee=tr}else v.error("Unable to divide matrix by vector.")}return ee}},this.pow=function(L,ee){var ct=Ge(L),It=Ge(ee);if(ct&&It){if(L.unit||ee.unit)return v.Unit.pow(L,ee);if(L.group===ne&&L.fname===ce&&X(ee)){var Sr=L.multiplier.clone(),Wt=v.pow(L.args[0],ee);return Wt.multiplier=Sr,Wt}if(L.isInfinity||ee.isInfinity){if(L.isInfinity&&ee.isInfinity)throw new q("("+L+")^("+ee+") is undefined!");if(L.isConstant()&&ee.isInfinity){if(L.equals(0)){if(ee.lessThan(0))throw new q("0^Infinity is undefined!");return new Ke(0)}if(L.equals(1))throw new q("1^"+ee.toString()+" is undefined!");if(ee.lessThan(0))return new Ke(0);if(!L.lessThan(0))return Ke.infinity()}if(L.isInfinity&&ee.isConstant()){if(ee.equals(0))throw new q(L+"^0 is undefined!");return ee.lessThan(0)?new Ke(0):v.multiply(Ke.infinity(),v.pow(new Ke(L.sign()),ee.clone()))}}var sn=L.equals(0),_n=ee.equals(0);if(sn&&_n)throw new q("0^0 is undefined!");if(sn&&ee.isConstant()&&ee.multiplier.greaterThan(0))return new Ke(0);if(_n)return new Ke(1);var Ln=ee.isConstant(),Zn=L.isConstant(),tr=ee.isInteger(),Sr=L.multiplier,Fn=L.clone();if(Zn&&Ln&&L.equals(0)&&ee.lessThan(0))throw new q("Division by zero is not allowed!");if(T.PARSE2NUMBER&&Zn&&Ln&&L.sign()<0&&we(ee)){var Wr,zr,jr;return Wr=Math.PI*ee,zr=new Ke(Math.cos(Wr)),jr=v.multiply(Ke.imaginary(),new Ke(Math.sin(Wr))),v.add(zr,jr)}if(T.PARSE2NUMBER&&L.isImaginary()&&Ln&&se(ee)&&!ee.lessThan(0)){var zr,jr,Qr,fi,Si,ar,Ur;if(zr=L.realpart(),jr=L.imagpart(),zr.isConstant("all")&&jr.isConstant("all"))return Ur=T.USE_BIG?Ke(f.atan2(Zi.multiplier.toDecimal(),Qr.multiplier.toDecimal()).times(ee.toString())):Math.atan2(jr,zr)*ee,fi=new Ke(Ur),Qr=v.pow(Ke.hyp(zr,jr),ee),Si=v.multiply(Qr.clone(),v.trig.cos(fi.clone())),ar=v.multiply(Qr,v.trig.sin(fi)),v.add(Si,v.multiply(Ke.imaginary(),ar))}if(Fn.toUnitMultiplier(),Fn.group===ne&&Fn.fname===Oe&&!Ln){var _i=Fn.args[0];_i.multiplyPower(new Ke(.5)),_i.multiplier.multiply(Fn.multiplier),_i.multiplyPower(ee),Fn=_i}else{var ri=Sr.sign();we(ee)&&ri<0&&(Fn.negate(),Fn=v.symfunction(Ce,[Fn]),Fn.negate()),Fn.multiplyPower(ee)}if(Zn&&Ln&&T.PARSE2NUMBER){var Ii;ri<0&&(L.negate(),ee.multiplier.den.equals(2)?Ii=new Ke(T.IMAGINARY):se(ee.multiplier)?X(ee.multiplier)?Ii=new Ke(1):Ii=new Ke(-1):X(ee.multiplier.den)?Ii=v.pow(v.symfunction(Ce,[new Ke(ri)]),ee.clone()):Ii=new Ke(Math.pow(ri,ee.multiplier.num))),Fn=new Ke(Math.pow(L.multiplier.toDecimal(),ee.multiplier.toDecimal())),Ii&&(Fn=v.multiply(Fn,Ii))}else if(tr&&!Sr.equals(1)){var Ui=ee.abs();if(Ui.gt(T.MAX_EXP))return ee.sign()<0?new Ke(0):Ke.infinity();var Ri=ee.multiplier.toDecimal(),Pi=Math.sign(Ri);Ri=Math.abs(Ri);var Li=new Xt(1);Li.num=Sr.num.pow(Ri),Li.den=Sr.den.pow(Ri),Pi<0&&Li.invert(),Fn.multiplier=Fn.multiplier.multiply(Li)}else{var ri=L.sign();if(ee.isConstant()&&L.isConstant()&&!ee.multiplier.den.equals(1)&&ri<0)if(ee.multiplier.den.equals(2)){var Zi=new Ke(T.IMAGINARY);L.negate(),ee.lessThan(0)&&(Zi.negate(),ee.negate()),Fn=v.multiply(v.pow(L,ee),Zi)}else{var xi=L.clone();xi.multiplier.negate(),Fn=v.pow(v.symfunction(Ce,[new Ke(ri)]),ee.clone());var ps=v.pow(new Ke(xi.multiplier.num),ee.clone()),Fs=v.pow(new Ke(xi.multiplier.den),ee.clone()),Qr=v.divide(ps,Fs);Fn=v.multiply(Fn,Qr)}else if(T.PARSE2NUMBER&&ee.isImaginary()){var zr=ee.realpart(),jr=ee.imagpart(),xi=L.clone().toLinear(),Ys=v.pow(xi.clone(),zr),Qi=ks(xi.clone()),lo=Ze.cos(v.multiply(jr.clone(),Qi)),Oo=v.multiply(Ze.sin(v.multiply(jr,ks(xi))),Ke.imaginary());Fn=v.multiply(Ys,v.add(lo,Oo)),Fn=v.expand(v.parse(Fn))}else{var Ks=L.group===w&&ri<0,$i=lu(new Ke(Ks?Sr.num:Math.abs(Sr.num)).setPower(ee.clone())),Ns=lu(new Ke(Sr.den).setPower(ee.clone()).invert());if(L.imaginary)if(tr){var _i,Ri,xt;_i=Math.sign(ee),Ri=hn(ee),xt=Ri%4,Fn=new Ke(X(xt)?-1:T.IMAGINARY),(xt===0||_i<0&&xt===1||_i>0&&xt===3)&&Fn.negate()}else{var ts=ee.multiplier.multiply(Xt.quick(1,2)),xs=Math.pow(-1,ts.num);Fn=X(ts.den)?new Ke(-1).setPower(ts,!0):new Ke(xs)}if(ri<0&&!Ks&&Fn.negate(),Ln&&L.group!==K){var O0=X(ee.multiplier.den),So=X(L.power),xt=Fn.power.toDecimal(),Ro=X(xt);if(O0&&So&&!Ro){if(xt===1)Fn=v.symfunction(ce,[Fn]);else if(se(xt))Fn=v.multiply(v.symfunction(ce,[Fn.clone().toLinear()]),Fn.clone().setPower(new Xt(xt-1)));else{var Ri=Fn.power;Fn=v.symfunction(ce,[Fn.toLinear()]).setPower(Ri)}T.POSITIVE_MULTIPLIERS&&Fn.fname===ce&&(Fn=Fn.args[0])}}if(ee.equals(2)&&Fn.group===V){var $o=new Ke(1);Fn.each(function(xl){$o=v.multiply($o,v.pow(xl,ee))}),Fn=$o}}}if(Fn=lu(Fn),$i&&Ns&&(Fn=v.multiply(Fn,zu(v.multiply($i,Ns)))),Fn.fname===Oe){var Is=Fn.group===K,ii=Is?Fn.power.multiplier.toString():Fn.power.toString();if(X(ii)){var bo=Is?v.divide(Fn.power,new Ke(2)):new Ke(Fn.power.divide(new Xt(2))),Sr=Fn.multiplier;Fn=v.pow(Fn.args[0],bo),Fn.multiplier=Fn.multiplier.multiply(Sr)}}else if(!T.IGNORE_E&&Fn.isE()&&Fn.group===K&&Fn.power.contains("pi")&&Fn.power.contains(T.IMAGINARY)&&ee.group===V){var fi=ee.stripVar(T.IMAGINARY);Fn=v.add(Ze.cos(fi),v.multiply(Ke.imaginary(),Ze.sin(fi)))}return Fn}else{if(Ht(L)&&It)L=L.map(function(Lo){return v.pow(Lo,ee.clone())});else if(Me(L)&&It){var os=new Cn;L.eachElement(function(Lo,xl,ol){os.set(xl,ol,v.pow(Lo,ee.clone()))}),L=os}else if(ct&&Me(ee)){var os=new Cn;ee.eachElement(function(xl,ol,ql){os.set(ol,ql,v.pow(L.clone(),xl))}),L=os}return L}},this.comma=function(L,ee){return L instanceof Xe||(L=Xe.create(L)),L.append(ee),L},this.mod=function(L,ee){return xn(L,ee)},this.slice=function(L,ee){return new Se(L,ee)},this.equals=function(L,ee){return L.group!==A&&!L.isLinear()&&R("Cannot set equality for "+L.toString()),b[L.value]=ee.clone(),ee},this.percent=function(L){return v.divide(L,new Ke(100))},this.assign=function(L,ee){if(L instanceof Xe&&ee instanceof Xe)return L.elements.map(function(It,Wt){return v.assign(It,ee.elements[Wt])}),or.fromArray(ee.elements);if(L.parent){var ct=L.parent;return ct.elements[ct.getter]=ee,delete ct.getter,ct}if(L.group!==A)throw new Q("Cannot complete operation. Incorrect LH value for "+L);return b[L.value]=ee,ee},this.function_assign=function(L,ee){var ct=L.elements.pop();return Mt(ct,L.elements,ee)};var I0=function(L){return new Ke(L===!0?1:0)};this.eq=function(L,ee){return I0(L.equals(ee))},this.gt=function(L,ee){return I0(L.gt(ee))},this.gte=function(L,ee){return I0(L.gte(ee))},this.lt=function(L,ee){return I0(L.lt(ee))},this.lte=function(L,ee){return I0(L.lte(ee))},this.factorial=function(L){return this.symfunction(Be,[L])},this.dfactorial=function(L){return this.symfunction(je,[L])}}var er={convert:function(v,H){var ue;if(v===0)ue=[0,1];else if(v<1e-6||v>1e20){var Se=this.quickConversion(Number(v));if(Se[1]<=1e20){var Xe=Math.abs(v),pt=v/Xe;ue=this.fullConversion(Xe.toFixed((Se[1]+"").length-1)),ue[0]=ue[0]*pt}else ue=Se}else ue=this.fullConversion(v);return ue},quickConversion:function(v){var H=function(Se){typeof Se!="string"&&(Se=Se.toString());var Xe="",pt=Se.charAt(0);return pt==="-"?(Se=Se.substr(1,Se.length),Xe="-"):pt==="+"&&(Se=Se.substr(1,Se.length)),{sign:Xe,value:Se}};function ue(Se){Un.isScientific(Se)&&(Se=qe(Se));var Xe=H(Se),pt=Xe.value.split("."),dt;pt.length===1?dt=pt[0]:dt=pt[0]+pt[1];var Ze=pt[1]?pt[1].length:0,tn=`1${"0".repeat(Ze)}`;return dt!=="0"&&(dt=dt.replace(/^0+/,"")),[Xe.sign+dt,tn]}return ue(v)},fullConversion:function(v){for(var H=!1,ue=0,Se=1,Xe=1,pt=0,dt=0,Ze=v,tn=1e-16;!H;){dt++,dt>1e4&&(H=!0);var an=Math.floor(Ze),ln=ue+an*Xe,k=Se+an*pt,z=Ze-an;z<tn&&(H=!0),Ze=1/z,ue=Xe,Se=pt,Xe=ln,pt=k,(Math.abs(ln/k-v)<tn||dt>30)&&(H=!0)}return[ln,k]}},nr={parser:(function(){var v=["classes","setOperator","getOperators","getBrackets","tokenize","toRPN","tree","units"],H=new Pn;for(var ue in H)v.indexOf(ue)===-1&&delete H[ue];H.setOperator({precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(Xe){return Xe}}),H.setOperator({precedence:8,operator:"\\,",action:"slash_comma",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(Xe){return Xe}});var Se=H.getBrackets();return Se["{"].maps_to=void 0,H})(),space:"~",dot:" \\cdot ",latex:function(v,H){if(v.clone&&(v=v.clone()),v instanceof u.classes.Collection&&(v=v.elements),De(v)){for(var ue=[],Se=0;Se<v.length;Se++){var Xe=v[Se];Ge(Xe)||(Xe=u.parse(Xe)),ue.push(this.latex(Xe,H))}return this.brackets(ue.join(", "),"square")}else if(Me(v)){for(var pt=`\\begin{pmatrix}
`,Se=0;Se<v.elements.length;Se++){for(var dt=[],Ze=v.elements[Se],tn=0;tn<Ze.length;tn++)dt.push(this.latex(Ze[tn],H));pt+=dt.join(" & "),Se<v.elements.length-1&&(pt+=`\\\\
`)}return pt+="\\end{pmatrix}",pt}else if(Ht(v)){for(var pt="\\left[",Se=0;Se<v.elements.length;Se++)pt+=this.latex(v.elements[Se],H)+" "+(Se!==v.elements.length-1?",\\,":"");return pt+="\\right]",pt}else if(ut(v)){for(var pt="\\{",Se=0;Se<v.elements.length;Se++)pt+=this.latex(v.elements[Se],H)+" "+(Se!==v.elements.length-1?",\\,":"");return pt+="\\}",pt}v=v.clone();var an=H==="decimal"||H==="decimals",ln=v.power,k=Ae(ln),z=v.multiplier.lessThan(0);if(v.group===I&&an)return String(v.multiplier.toDecimal()*Math.pow(v.value,v.power.toDecimal()));v.multiplier=v.multiplier.abs();var We;if(an){var it=String(v.multiplier.toDecimal());We=[it,""]}else We=[v.multiplier.num,v.multiplier.den];var Nt=this.value(v,k,H,z),Dt;k&&ln.negate(),an?(Dt=Ge(ln)?nr.latex(ln,H):String(ln.toDecimal()),String(Dt)==="1"&&(Dt="")):Ge(ln)?Dt=this.latex(ln,H):Dt=this.formatFrac(ln,!0);var cn=["",""],Sn=k?1:0;cn[Sn]=Dt;var hn=(z?"-":"")+this.set(We,Nt,cn,v.group===V);return hn.replace(/\+\-/gi,"-")},greek:{alpha:"\\alpha",beta:"\\beta",gamma:"\\gamma",delta:"\\delta",epsilon:"\\epsilon",zeta:"\\zeta",eta:"\\eta",theta:"\\theta",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",mu:"\\mu",nu:"\\nu",xi:"\\xi",omnikron:"\\omnikron",pi:"\\pi",rho:"\\rho",sigma:"\\sigma",tau:"\\tau",upsilon:"\\upsilon",phi:"\\phi",chi:"\\chi",psi:"\\psi",omega:"\\omega",Gamma:"\\Gamma",Delta:"\\Delta",Epsilon:"\\Epsilon",Theta:"\\Theta",Lambda:"\\Lambda",Xi:"\\Xi",Pi:"\\Pi",Sigma:"\\Sigma",Phi:"\\Phi",Psi:"\\Psi",Omega:"\\Omega"},symbols:{arccos:"\\arccos",cos:"\\cos",csc:"\\csc",exp:"\\exp",ker:"\\ker",limsup:"\\limsup",min:"\\min",sinh:"\\sinh",arcsin:"\\arcsin",cosh:"\\cosh",deg:"\\deg",gcd:"\\gcd",lg:"\\lg",ln:"\\ln",Pr:"\\Pr",sqrt:"\\sqrt",sup:"\\sup",arctan:"\\arctan",cot:"\\cot",det:"\\det",hom:"\\hom",lim:"\\lim",log:"\\log",LN:"\\LN",sec:"\\sec",tan:"\\tan",arg:"\\arg",coth:"\\coth",dim:"\\dim",inf:"\\inf",liminf:"\\liminf",max:"\\max",sin:"\\sin",tanh:"\\tanh"},value:function(v,H,ue,Se){var Xe=v.group,pt=v.previousGroup,dt=["",""],Ze=H?1:0;if(v.isInfinity)dt[Ze]="\\infty";else if(Xe===A||Xe===I||pt===A||pt===I||pt===w){var tn=this.formatSubscripts(v.value);tn.replace&&(tn=tn.replace(/(.+)_$/,"$1\\_"));var an=String(tn).split("_"),ln=this.greek[an[0]];ln&&(an[0]=ln,tn=an.join("_"));var v=this.symbols[an[0]];v&&(an[0]=v,tn=an.join("_")),dt[Ze]=tn}else if(Xe===ne||pt===ne){for(var k,z=[],We=v.fname,it=0;it<v.args.length;it++){var Nt=v.args[it],Dt;typeof Nt=="string"?Dt=Nt:Dt=this.latex(Nt,ue),z.push(Dt)}if(We===Oe)dt[Ze]="\\sqrt"+this.braces(z.join(","));else if(We===ce)dt[Ze]=this.brackets(z.join(","),"abs");else if(We===Ce)dt[Ze]=this.brackets(z.join(","),"parens");else if(We==="limit")dt[Ze]=" \\lim\\limits_{"+z[1]+" \\to "+z[2]+"} "+z[0];else if(We==="integrate")dt[Ze]="\\int"+this.braces(z[0])+this.braces("d"+z[1]);else if(We==="defint")dt[Ze]="\\int\\limits_"+this.braces(z[1])+"^"+this.braces(z[2])+" "+z[0]+" d"+z[3];else if(We===Be||We===je){var Nt=v.args[0];Nt.power.equals(1)&&(Nt.isComposite()||Nt.isCombination())&&(z[0]=this.brackets(z[0])),dt[Ze]=z[0]+(We===Be?"!":"!!")}else if(We==="floor")dt[Ze]="\\left \\lfloor"+this.braces(z[0])+"\\right \\rfloor";else if(We==="ceil")dt[Ze]="\\left \\lceil"+this.braces(z[0])+"\\right \\rceil";else if(We===T.LOG&&z.length>1)dt[Ze]="\\mathrm"+this.braces(T.LOG)+"_"+this.braces(z[1])+this.brackets(z[0]);else if(We===T.LOG10)dt[Ze]="\\mathrm"+this.braces(T.LOG)+"_"+this.braces(10)+this.brackets(z[0]);else if(We==="sum"){var cn=z[0],Sn=z[1],hn=z[2],bn=z[3];dt[Ze]="\\sum\\limits_{"+this.braces(Sn)+"="+this.braces(hn)+"}^"+this.braces(bn)+" "+this.braces(cn)}else if(We==="product"){var cn=z[0],Sn=z[1],hn=z[2],bn=z[3];dt[Ze]="\\prod\\limits_{"+this.braces(Sn)+"="+this.braces(hn)+"}^"+this.braces(bn)+" "+this.braces(cn)}else if(We==="nthroot")dt[Ze]="\\sqrt["+z[1]+"]"+this.braces(z[0]);else if(We==="mod")dt[Ze]=z[0]+" \\bmod "+z[1];else if(We==="realpart")dt[Ze]="\\operatorname{Re}"+this.brackets(z[0]);else if(We==="imagpart")dt[Ze]="\\operatorname{Im}"+this.brackets(z[0]);else{var k=We!==""?"\\mathrm"+this.braces(We.replace(/_/g,"\\_")):"";v.isConversion?dt[Ze]=k+this.brackets(z.join(""),"parens"):dt[Ze]=k+this.brackets(z.join(","),"parens")}}else if(v.isComposite()){for(var zn=v.collectSymbols().sort(Xe===le||pt===le?function(_r,Dn){return Dn.group-_r.group}:function(_r,Dn){var Mr=Ge(_r.power)?-1:_r.power,cr=Ge(Dn.power)?-1:Dn.power;return cr-Mr}),xn=[],Ir=zn.length,it=0;it<Ir;it++)xn.push(nr.latex(zn[it],ue));var tn=xn.join("+");dt[Ze]=!(v.isLinear()&&v.multiplier.equals(1))||Se?this.brackets(tn,"parens"):tn}else if(Xe===V||pt===K||pt===V){Xe===V&&v.distributeExponent();var qn=[],mn=[],dr=[],kr=[],yr=0,fr=0,vr=function(lr,_r,Dn){if(Dn>1&&_r.length>0)for(var Mr=_r.length,cr=0;cr<Mr;cr++){var Tr=_r[cr],Kr=lr[Tr];/^\\left\(.+\\right\)\^\{.+\}$/g.test(Kr)||/^\\left\(.+\\right\)$/g.test(Kr)||(lr[Tr]=nr.brackets(Kr,"parens"))}return lr};v.each(function(lr){var _r=Ae(lr.power),Dn;_r?(Dn=nr.latex(lr.invert(),ue),fr++,lr.isComposite()&&(v.multiplier.den!=1&&Math.abs(lr.power)==1&&(Dn=nr.brackets(Dn,"parens")),dr.push(qn.length)),qn.push(Dn)):(Dn=nr.latex(lr,ue),yr++,lr.isComposite()&&(v.multiplier.num!=1&&Math.abs(lr.power)==1&&(Dn=nr.brackets(Dn,"parens")),kr.push(mn.length)),mn.push(Dn))}),vr(mn,kr,yr),dt[0]=mn.join(this.dot),vr(qn,dr,fr),dt[1]=qn.join(this.dot)}return dt},set:function(v,H,ue,Se){var Xe=function(We){return/^\\left\(.+\\right\)$/.test(We)};if(ue&&(ue=this.formatP(ue)),Se){var pt=ue[0];ue[0]=""}H=this.merge(H,ue);var dt=v[0],Ze=v[1],tn=H[0],an=H[1];tn&&Number(dt)===1&&(dt=""),Number(Ze)===1&&(Ze="");var ln=this.join(dt,tn,Xe(tn)?"":this.dot),k=this.join(Ze,an,Xe(an)?"":this.dot);if(ln&&k){var z=this.frac(ln,k);return Se&&pt&&(z=this.brackets(z)+pt),z}else return ln},merge:function(v,H){for(var ue=[],Se=0;Se<2;Se++)ue[Se]=v[Se]+H[Se];return ue},join:function(v,H,ue){return!v&&!H?"":v&&!H?v:H&&!v?H:v+ue+H},formatSubscripts:function(v){for(var H=v.toString().split("_"),ue="";H.length>1;)H.length>0&&(ue="_"+this.braces(H.pop()+ue));return H[0]+ue},formatP:function(v){for(var H=0;H<2;H++){var ue=v[H];ue&&(v[H]="^"+this.braces(ue))}return v},formatFrac:function(v,H){var ue=v.num.toString(),Se=v.den.toString();return H&&ue==="1"&&Se==="1"?"":Se==="1"?ue:this.frac(ue,Se)},frac:function(v,H){return"\\frac"+this.braces(v)+this.braces(H)},braces:function(v){return"{"+v+"}"},brackets:function(v,H){H=H||"parens";var ue={parens:["(",")"],square:["[","]"],brace:["{","}"],abs:["|","|"],angle:["\\langle","\\rangle"]},Se=ue[H];return"\\left"+Se[0]+v+"\\right"+Se[1]},filterTokens:function(v){var H=[];De(v)&&(H.type=v.type);for(var ue=["\\","left","right","big","Big","large","Large"],Se=0,Xe=v.length;Se<Xe;Se++){var pt=v[Se],dt=v[Se+1];pt.value==="\\"&&dt.value==="\\"?H.push(pt):De(pt)?H.push(nr.filterTokens(pt)):ue.indexOf(pt.value)===-1&&H.push(pt)}return H},parse:function(v){var H,ue,Se="",Xe=this.filterTokens(v),pt={cdot:"",times:"",infty:"Infinity"},dt=function(zn){return Xe[typeof zn>"u"?++H:H+=zn]},Ze=function(){return nr.parse(dt())},tn=function(zn){return zn in pt?pt[zn]:zn==="*"&&Xe[H+1].value==="&"?(dt(2),","):zn==="&"?(dt(),","):zn==="\\"?"],[":zn};for(H=0,ue=Xe.length;H<ue;H++){var an=Xe[H];if(an.value==="frac"){var ln=Ze(),k=Ze();Se+=ln+"/"+k}else if(an.value in nr.symbols)if(an.value===Oe&&Xe[H+1].type==="vector"&&Xe[H+2].type==="Set"){var z=Ze(),We=Ze();Se+=We+"^"+Qe("1/"+z)}else Se+=an.value+Ze();else if(an.value==="int"){var it=Ze();H++;var Nt=dt().value;Nt=tn(Nt.substring(1,Nt.length)),Se+="integrate"+Qe(it+","+Nt)}else if(an.value==="int_"){var ue=Ze();H++;var Dt=dt().value;if(Dt===void 0){H--;var Dt=Ze()}var it=Ze(),Nt=dt().value;if(Nt===",")var Nt=dt().value;if(Nt==="differentialD"){H++;var Nt=dt().value}if(Nt==="mathrm"){H++;var Nt=dt().value}Se+="defint"+Qe(it+","+ue+","+Dt+","+Nt)}else if(an.value&&an.value.startsWith("int_")){var ue=an.value.replace("int_","");console.log("uppernow"),H++;var Dt=dt().value;if(Dt===void 0){H--;var Dt=Ze()}var it=Ze(),Nt=dt().value;if(Nt===",")var Nt=dt().value;if(Nt==="differentialD"){H++;var Nt=dt().value}if(Nt==="mathrm"){H++;var Nt=dt().value}Se+="defint"+Qe(it+","+ue+","+Dt+","+Nt)}else if(an.value==="mathrm"){var it=Xe[++H][0].value;Se+=it+Ze()}else if(an.value==="sum_"||an.value==="prod_"){var cn=an.value==="sum_"?"sum":"product",Sn=dt();H++;var hn=Ze(),it=Ze();Se+=cn+Qe([it,tn(Sn[0]),tn(Sn[2]),tn(hn)].join(","))}else if(an.value==="lim_"){var Sn=dt();Se+="limit"+Qe([Ze(),tn(Sn[0]),tn(Sn[2])].join(","))}else if(an.value==="begin"){var Sn=dt();if(Array.isArray(Sn)){var bn=Sn[0].value;bn==="matrix"&&(Se+="matrix([")}}else if(an.value==="end"){var Sn=dt();if(Array.isArray(Sn)){var bn=Sn[0].value;bn==="matrix"&&(Se+="])")}}else Array.isArray(an)?Se+=tn(nr.parse(an)):Se+=tn(an.value.toString())}return Qe(Se)}};function or(v){Ht(v)?this.elements=v.items.slice(0):De(v)?this.elements=v.slice(0):this.elements=[].slice.call(arguments)}or.arrayPrefill=function(v,H){var ue=[];H=H||0;for(var Se=0;Se<v;Se++)ue[Se]=H;return ue},or.fromArray=function(v){var H=new or;return H.elements=v,H},or.fromSet=function(v){return or.fromArray(v.elements)},or.prototype={custom:!0,e:function(v){return v<1||v>this.elements.length?null:this.elements[v-1]},set:function(v,H){Ge(H)||(H=new Ke(H)),this.elements[v]=H},dimensions:function(){return this.elements.length},modulus:function(){return sr("SAFE",function(){return u.pow(this.dot(this.clone()),new Ke(.5))},void 0,this)},eql:function(v){var H=this.elements.length,ue=v.elements||v;if(H!==ue.length)return!1;do if(Math.abs(u.subtract(this.elements[H-1],ue[H-1]).valueOf())>PRECISION)return!1;while(--H);return!0},clone:function(){for(var v=new or,H=this.elements.length,ue=0;ue<H;ue++)v.elements.push(this.elements[ue].clone());return this.getter&&(v.getter=this.getter.clone()),v},map:function(v){var H=[];return this.each(function(ue,Se){H.push(v(ue,Se))}),new or(H)},each:function(v){var H=this.elements.length,ue=H,Se;do Se=ue-H,v(this.elements[Se],Se+1);while(--H)},toUnitVector:function(){return sr("SAFE",function(){var v=this.modulus();return v.valueOf()===0?this.clone():this.map(function(H){return u.divide(H,v)})},void 0,this)},angleFrom:function(v){return sr("SAFE",function(){var H=v.elements||v,ue=this.elements.length;if(ue!==H.length)return null;var Se=new Ke(0),Xe=new Ke(0),pt=new Ke(0);this.each(function(an,ln){Se=u.add(Se,u.multiply(an,H[ln-1])),Xe=u.add(Xe,u.multiply(an,an)),pt=u.add(pt,u.multiply(H[ln-1],H[ln-1]))}),Xe=u.pow(Xe,new Ke(.5)),pt=u.pow(pt,new Ke(.5));var dt=u.multiply(Xe,pt);if(dt.valueOf()===0)return null;var Ze=u.divide(Se,dt),tn=Ze.valueOf();return tn<-1&&(Ze=-1),tn>1&&(Ze=1),new Ke(Math.acos(Ze))},void 0,this)},isParallelTo:function(v){var H=this.angleFrom(v).valueOf();return H===null?null:H<=PRECISION},isAntiparallelTo:function(v){var H=this.angleFrom(v).valueOf();return H===null?null:Math.abs(H-Math.PI)<=PRECISION},isPerpendicularTo:function(v){var H=this.dot(v);return H===null?null:Math.abs(H)<=PRECISION},add:function(v){return sr("SAFE",function(){var H=v.elements||v;return this.elements.length!==H.length?null:this.map(function(ue,Se){return u.add(ue,H[Se-1])})},void 0,this)},subtract:function(v){return sr("SAFE",function(){var H=v.elements||v;return this.elements.length!==H.length?null:this.map(function(ue,Se){return u.subtract(ue,H[Se-1])})},void 0,this)},multiply:function(v){return this.map(function(H){return H.clone()*v.clone()})},x:function(v){return this.multiply(v)},dot:function(v){return sr("SAFE",function(){var H=v.elements||v,ue=new Ke(0),Se=this.elements.length;if(Se!==H.length)return null;do ue=u.add(ue,u.multiply(this.elements[Se-1],H[Se-1]));while(--Se);return ue},void 0,this)},cross:function(v){var H=v.elements||v;if(this.elements.length!==3||H.length!==3)return null;var ue=this.elements;return sr("SAFE",function(){return new or([u.subtract(u.multiply(ue[1],H[2]),u.multiply(ue[2],H[1])),u.subtract(u.multiply(ue[2],H[0]),u.multiply(ue[0],H[2])),u.subtract(u.multiply(ue[0],H[1]),u.multiply(ue[1],H[0]))])},void 0,this)},max:function(){var v=0,H=this.elements.length,ue=H,Se;do Se=ue-H,Math.abs(this.elements[Se].valueOf())>Math.abs(v.valueOf())&&(v=this.elements[Se]);while(--H);return v},magnitude:function(){var v=new Ke(0);return this.each(function(H){v=u.add(v,u.pow(H,new Ke(2)))}),u.sqrt(v)},indexOf:function(v){var H=null,ue=this.elements.length,Se=ue,Xe;do Xe=Se-ue,H===null&&this.elements[Xe].valueOf()===v.valueOf()&&(H=Xe+1);while(--ue);return H},text:function(v){return un(this)},toString:function(){return this.text()},latex:function(v){for(var H=[],ue=0;ue<this.elements.length;ue++)H.push(nr.latex.call(nr,this.elements[ue],v));return"["+H.join(", ")+"]"}};function Cn(){var v=arguments,H=v.length,ue,Se=[];if(Me(v))for(ue=0;ue<H;ue++)Se.push(v[ue].slice(0));else{var Xe,pt,dt;for(ue=0;ue<H;ue++)Xe=v[ue],Ht(Xe)&&(Xe=Xe.elements),De(Xe)||(Xe=[Xe]),dt=Xe.length,pt&&pt!==dt&&R("Unable to create Matrix. Row dimensions do not match!"),Se.push(Xe),pt=dt}this.elements=Se}Cn.identity=function(v){for(var H=new Cn,ue=0;ue<v;ue++){H.elements.push([]);for(var Se=0;Se<v;Se++)H.set(ue,Se,ue===Se?new Ke(1):new Ke(0))}return H},Cn.fromArray=function(v){function H(ue){return Cn.apply(this,ue)}return H.prototype=Cn.prototype,new H(v)},Cn.zeroMatrix=function(v,H){for(var ue=new Cn,Se=0;Se<v;Se++)ue.elements.push(or.arrayPrefill(H,new Ke(0)));return ue},Cn.prototype={custom:!0,get:function(v,H){if(this.elements[v])return this.elements[v][H]},map:function(v,H){var ue=new Cn;return this.each(function(Se,Xe,pt){ue.set(Xe,pt,v.call(ue,Se),H)}),ue},set:function(v,H,ue,Se){this.elements[v]||(this.elements[v]=[]),this.elements[v][H]=Se||Ge(ue)?ue:new Ke(ue)},cols:function(){return this.elements[0].length},rows:function(){return this.elements.length},row:function(v){return!v||v>this.cols()?[]:this.elements[v-1]},col:function(v){var H=this.rows(),ue=[];if(v>this.cols()||!v)return ue;for(var Se=0;Se<H;Se++)ue.push(this.elements[Se][v-1]);return ue},eachElement:function(v){var H=this.rows(),ue=this.cols(),Se,Xe;for(Se=0;Se<H;Se++)for(Xe=0;Xe<ue;Xe++)v.call(this,this.elements[Se][Xe],Se,Xe)},determinant:function(){if(!this.isSquare())return null;var v=this.toRightTriangular(),H=v.elements[0][0],ue=v.elements.length-1,Se=ue,Xe;do Xe=Se-ue+1,H=u.multiply(H,v.elements[Xe][Xe]);while(--ue);return H},isSquare:function(){return this.elements.length===this.elements[0].length},isSingular:function(){return this.isSquare()&&this.determinant()===0},augment:function(v){var H=this.rows(),ue=v.rows();H!==ue&&R("Cannot augment matrix. Rows don't match.");for(var Se=0;Se<H;Se++)this.elements[Se]=this.elements[Se].concat(v.elements[Se]);return this},clone:function(){for(var v=this.rows(),H=this.cols(),ue=new Cn,Se=0;Se<v;Se++){ue.elements[Se]=[];for(var Xe=0;Xe<H;Xe++){var pt=this.elements[Se][Xe];ue.elements[Se][Xe]=Ge(pt)?pt.clone():pt}}return ue},invert:function(){return this.isSquare()||R("Matrix is not square!"),sr("SAFE",function(){var v=this.elements.length,H=v,ue,Se,Xe=Cn.identity(v),pt=this.augment(Xe).toRightTriangular(),dt,Ze=pt.elements[0].length,tn,an,ln,k=[],z;do{ue=v-1,an=[],dt=Ze,k[ue]=[],ln=pt.elements[ue][ue];do tn=Ze-dt,z=u.divide(pt.elements[ue][tn],ln.clone()),an.push(z),tn>=H&&k[ue].push(z);while(--dt);for(pt.elements[ue]=an,Se=0;Se<ue;Se++){an=[],dt=Ze;do tn=Ze-dt,an.push(u.subtract(pt.elements[Se][tn].clone(),u.multiply(pt.elements[ue][tn].clone(),pt.elements[Se][ue].clone())));while(--dt);pt.elements[Se]=an}}while(--v);return Cn.fromArray(k)},void 0,this)},toRightTriangular:function(){return sr("SAFE",function(){var v=this.clone(),H,ue,Se,Xe=this.elements.length,pt=Xe,dt,Ze,tn=this.elements[0].length,an;do{if(dt=pt-Xe,ue=v.elements[dt][dt],ue.valueOf()===0){for(var ln=dt+1;ln<pt;ln++)if(Se=v.elements[ln][dt],Se&&Se.valueOf()!==0){H=[],Ze=tn;do an=tn-Ze,H.push(u.add(v.elements[dt][an].clone(),v.elements[ln][an].clone()));while(--Ze);v.elements[dt]=H;break}}var ue=v.elements[dt][dt];if(ue.valueOf()!==0)for(ln=dt+1;ln<pt;ln++){var k=u.divide(v.elements[ln][dt].clone(),v.elements[dt][dt].clone());H=[],Ze=tn;do an=tn-Ze,H.push(an<=dt?new Ke(0):u.subtract(v.elements[ln][an].clone(),u.multiply(v.elements[dt][an].clone(),k.clone())));while(--Ze);v.elements[ln]=H}}while(--Xe);return v},void 0,this)},transpose:function(){var v=this.elements.length,H=this.elements[0].length,ue=new Cn,Se=H,Xe,pt,dt;do{Xe=H-Se,ue.elements[Xe]=[],pt=v;do dt=v-pt,ue.elements[Xe][dt]=this.elements[dt][Xe].clone();while(--pt)}while(--Se);return ue},canMultiplyFromLeft:function(v){var H=Me(v)?v.elements.length:v.length;return this.elements[0].length===H},sameSize:function(v){return this.rows()===v.rows()&&this.cols()===v.cols()},multiply:function(v){return sr("SAFE",function(){var H=v.elements||v;if(!this.canMultiplyFromLeft(H)){if(this.sameSize(v)){for(var ue=new Cn,Se=this.rows(),Ze=0;Ze<Se;Ze++){var Xe=u.multiply(new or(this.elements[Ze]),new or(v.elements[Ze]));ue.elements[Ze]=Xe.elements}return ue}return null}var pt=this.elements.length,dt=pt,Ze,tn,an=H[0].length,ln,k=this.elements[0].length,z=[],We,it,Nt;do{Ze=dt-pt,z[Ze]=[],tn=an;do{ln=an-tn,We=new Ke(0),it=k;do Nt=k-it,We=u.add(We,u.multiply(this.elements[Ze][Nt],H[Nt][ln]));while(--it);z[Ze][ln]=We}while(--tn)}while(--pt);return Cn.fromArray(z)},void 0,this)},add:function(v,H){var ue=new Cn;return this.sameSize(v)&&this.eachElement(function(Se,Xe,pt){var dt=u.add(Se.clone(),v.elements[Xe][pt].clone());H&&(dt=H.call(ue,dt,Se,v.elements[Xe][pt])),ue.set(Xe,pt,dt)}),ue},subtract:function(v,H){var ue=new Cn;return this.sameSize(v)&&this.eachElement(function(Se,Xe,pt){var dt=u.subtract(Se.clone(),v.elements[Xe][pt].clone());H&&(dt=H.call(ue,dt,Se,v.elements[Xe][pt])),ue.set(Xe,pt,dt)}),ue},negate:function(){return this.each(function(v){return v.negate()}),this},toVector:function(){if(this.rows()===1||this.cols()===1){var v=new or;return v.elements=this.elements,v}return this},toString:function(v,H){for(var ue=this.rows(),Se=[],Xe=0;Xe<ue;Xe++)Se.push("["+this.elements[Xe].map(function(pt){var dt=H?pt.multiplier.toDecimal():pt.toString();return pt!==void 0?dt:""}).join(",")+"]");return"matrix"+Qe(Se.join(","))},text:function(){return"matrix("+this.elements.toString("")+")"},latex:function(v){var H=this.cols(),ue=this.elements;return rt("\\begin{vmatrix}{0}\\end{vmatrix}",function(){var Se=[];for(var Xe in ue){for(var pt=[],dt=0;dt<H;dt++)pt.push(nr.latex.call(nr,ue[Xe][dt],v));Se.push(pt.join(" & "))}return Se.join(" \\cr ")})}},Cn.prototype.each=Cn.prototype.eachElement;function Hn(v){if(this.elements=[],Ht(v)||(v=or.fromArray(arguments)),v)for(var H=v.elements,ue=0,Se=H.length;ue<Se;ue++)this.add(H[ue])}Hn.fromArray=function(v){function H(ue){return Hn.apply(this,ue)}return H.prototype=Hn.prototype,new H(v)},Hn.prototype={add:function(v){this.contains(v)||this.elements.push(v.clone())},contains:function(v){for(var H=0;H<this.elements.length;H++){var ue=this.elements[H];if(v.equals(ue))return!0}return!1},each:function(v){for(var H=this.elements,ue=new Hn,Se=0,Xe=H.length;Se<Xe;Se++){var pt=H[Se];v.call(this,pt,ue,Se)}return ue},clone:function(){var v=new Hn;return this.each(function(H){v.add(H.clone())}),v},union:function(v){var H=this.clone();return v.each(function(ue){H.add(ue)}),H},difference:function(v){var H=this.clone();return v.each(function(ue){H.remove(ue)}),H},remove:function(v){for(var H=0,ue=this.elements.length;H<ue;H++){var Se=this.elements[H];if(Se.equals(v))return pn(this.elements,H),!0}return!1},intersection:function(v){var H=new Hn,ue=this;return v.each(function(Se){ue.contains(Se)&&H.add(Se)}),H},intersects:function(v){return this.intersection(v).elements.length>0},is_subset:function(v){for(var H=v.elements,ue=0,Se=H.length;ue<Se;ue++)if(!this.contains(H[ue]))return!1;return!0},toString:function(){return"{"+this.elements.join(",")+"}"}};var mr={dependencies:{_rename:{"Math2.factorial":"factorial"},factorial:{"Math2.gamma":bt.gamma},gamma_incomplete:{"Math2.factorial":bt.factorial},Li:{"Math2.Ei":bt.Ei,"Math2.bigLog":bt.bigLog,Frac:Xt},Ci:{"Math2.factorial":bt.factorial},Ei:{"Math2.factorial":bt.factorial},Si:{"Math2.factorial":bt.factorial},Shi:{"Math2.factorial":bt.factorial},Chi:{isInt:se,nround:Bt,"Math2.num_integrate":bt.num_integrate},factor:{"Math2.ifactor":bt.ifactor,Symbol:Ke},num_integrate:{"Math2.simpson":bt.simpson,nround:Bt},fib:{even:X}},reformat:{diff:function(v,H){var ue=v.args[1].toString(),Se="var f = "+mr.build(v.args[0].toString(),[ue])+";";return H[1]+="var diff = "+bt.diff.toString()+";",H[1]+=Se,["diff(f)("+ue+")",H]}},getProperName:function(v){var H={continued_fraction:"continuedFraction"};return H[v]||v},compileDependencies:function(v,H){var ue=mr.dependencies[v],Se=H&&H[1]?H[1]:"",Xe=H&&H[0]?H[0]:{};for(var pt in ue)if(typeof ue[pt]!="object"){var dt=pt.split(".");Se+="var "+(dt.length>1?dt[1]:dt[0])+"="+ue[pt]+";",Xe[pt]=dt.pop()}return[Xe,Se]},getArgsDeps:function(v,H){for(var ue=v.args,Se=0;Se<ue.length;Se++)v.args[Se].each(function(Xe){Xe.group===ne&&(H=mr.compileDependencies(Xe.fname,H))});return H},build:function(v,H){v=sr("PARSE2NUMBER",function(){return u.parse(v)},!0);var ue=Ct(v),Se=[],Xe=[],pt=function(ln,k){ln.fname===""&&(ln=Ke.unwrapPARENS(ln)),k=k||[];var z=[],We=ln.group,it="",Nt=function(zn){var xn=zn===V?"*":"+",Ir=[];for(var qn in ln.symbols){var mn=ln.symbols[qn],dr=pt(mn,k)[0];mn.isComposite()&&(dr=Qe(dr)),Ir.push(dr)}var kr=Ir.join(xn);return kr=kr&&!ln.multiplier.equals(1)?Qe(kr):kr,kr},Dt=function(zn){var xn;return zn in Math?xn="Math."+zn:(zn=mr.getProperName(zn),Se.indexOf(zn)===-1&&(k.push("var "+zn+" = "+bt[zn].toString()+"; "),Se.push(zn)),xn=zn),xn=xn+Qe(ln.args.map(function(Ir){return pt(Ir,k)[0]}).join(",")),xn};We===w?z.push(ln.multiplier.toDecimal()):ln.multiplier.equals(-1)?it="-":ln.multiplier.equals(1)||z.push(ln.multiplier.toDecimal());var cn;if(We===A||We===I)cn=ln.value;else if(We===ne)if(Xe=mr.compileDependencies(ln.fname,Xe),Xe=mr.getArgsDeps(ln,Xe),mr.reformat[ln.fname]){var Sn=mr.reformat[ln.fname](ln,Xe);Xe=Sn[1],cn=Sn[0]}else cn=Dt(ln.fname);else if(We===K){var hn=ln.previousGroup;hn===w||hn===A?cn=ln.value:hn===ne?(cn=Dt(ln.fname),Xe=mr.compileDependencies(ln.fname,Xe),Xe=mr.getArgsDeps(ln,Xe)):cn=Nt(ln.previousGroup)}else cn=Nt(ln.group);if(ln.group!==w&&!ln.power.equals(1)){var bn=pt(u.parse(ln.power));k.push(bn[1]),cn="Math.pow"+Qe(cn+","+bn[0])}return cn&&z.push(it+cn),[z.join("*"),k.join("").replace(/\n+\s+/g," ")]};H&&(ue=H);var dt=pt(v);for(var Ze in Xe[0]){var tn=Xe[0][Ze];dt[1]=dt[1].replace(Ze,tn),Xe[1]=Xe[1].replace(Ze,tn)}var an=new Function(ue,(Xe[1]||"")+dt[1]+" return "+dt[0]+";");return an}};(function(){$n(u.CONSTANTS),$n(u.functions),u.initConstants(),u.error||(u.error=R),T.LOG_FNS={log:u.functions.log,log10:u.functions.log10}})();var Er={allSame:J,allNumeric:ze,arguments2Array:jn,arrayAddSlices:Ee,arrayClone:Y,arrayMax:Ot,arrayMin:wt,arrayEqual:ft,arrayUnique:tt,arrayGetVariables:St,arraySum:nt,block:sr,build:mr.build,clearU:ve,comboSort:Fe,compare:ht,convertToVector:Te,customError:B,customType:Et,decompose_fn:Lt,each:Ye,evaluate:re,even:X,evenFraction:we,fillHoles:Ut,firstObject:ke,format:rt,generatePrimes:gn,getCoeffs:En,getU:zt,importFunctions:wr,inBrackets:Qe,isArray:De,isExpression:et,isFraction:Ft,isInt:se,isMatrix:Me,isNegative:Ae,isNumericSymbol:en,isPrime:de,isReserved:j,isSymbol:Ge,isVariableSymbol:nn,isVector:Ht,keys:Re,knownVariable:xe,nroots:Je,remove:pn,reserveNames:$n,range:P,round:Bt,sameSign:Vt,scientificToDecimal:qe,separate:yt,stringReplace:Tt,text:un,validateName:Ne,variables:Ct,warn:fe},ei={groups:g,Symbol:Ke,Expression:fn,Frac:Xt,Vector:or,Matrix:Cn,Parser:Pn,Scientific:Un,Fraction:er,Math2:bt,LaTeX:nr,Utils:Er,PARSER:u,PARENTHESIS:Ce,Settings:T,err:R,bigInt:h,bigDec:f,exceptions:Gt},hr=function(v,H,ue,Se){var Xe=!1,pt=/^([a-z_][a-z\d\_]*)\(([a-z_,\s]*)\):=(.+)$/gi.exec(v);if(pt)return s.setFunction(pt[1],pt[2].split(","),pt[3]);v instanceof fn&&(v=v.toString()),De(ue)||(ue=typeof ue>"u"?[]:[ue]),ue.forEach(function(Ze){if(Ze==="numer"){Xe=!0;return}var tn=u.functions[ue];tn&&tn[1]===1&&(v=`${Ze}(${v})`)});var dt=sr("PARSE2NUMBER",function(){return u.parse(v,H)},Xe||T.PARSE2NUMBER);return Se?_e[Se-1]=dt:_e.push(dt),new fn(dt)};return hr.rpn=function(v){return u.tokenize(u.toRPN(v))},hr.convertToLaTeX=function(v,H){return u.toTeX(v,H)},hr.convertFromLaTeX=function(v){var H=nr.parse(u.tokenize(v));return new fn(u.parse(H))},hr.version=function(v){if(v)try{return ei[v].version}catch{return"No module named "+v+" found!"}return i},hr.getWarnings=function(){return N},hr.setConstant=function(v,H){if(Ne(v),!j(v))if(H==="delete"||H==="")delete u.CONSTANTS[v];else{if(isNaN(H))throw new Le("Constant must be a number!");u.CONSTANTS[v]=H}return this},hr.getConstant=function(v){return String(u.constant[v])},hr.setFunction=Mt,hr.getCore=function(){return ei},hr.getExpression=hr.getEquation=fn.getExpression,hr.reserved=function(v){return v?O:O.join(", ")},hr.clear=function(v,H){if(v==="all")_e=[];else if(v==="last")_e.pop();else if(v==="first")_e.shift();else{var ue=v?v-1:_e.length;H===!0?_e[ue]=void 0:pn(_e,ue)}return this},hr.flush=function(){return this.clear("all"),this},hr.expressions=function(v,H,ue){for(var Se=v?{}:[],Xe=0;Xe<_e.length;Xe++){var pt=H?nr.latex(_e[Xe],ue):un(_e[Xe],ue);v?Se[Xe+1]=pt:Se.push(pt)}return Se},hr.register=function(v){var H=this.getCore();if(De(v))for(var ue=0;ue<v.length;ue++)v&&this.register(v[ue]);else if(v&&T.exclude.indexOf(v.name)===-1){if(v.dependencies){for(var ue=0;ue<v.dependencies.length;ue++)if(!H[v.dependencies[ue]])throw new Error(rt("{0} requires {1} to be loaded!",v.name,v.dependencies[ue]))}var Se=v.parent,Xe=v.build.call(H);if(Se){H[Se]||(H[v.parent]={});var pt=Se==="nerdamer"?this:H[Se];pt[v.name]=Xe}v.visible&&(u.functions[v.name]=[Xe,v.numargs])}},hr.validateName=Ne,hr.validVarName=function(v){try{return Ne(v),O.indexOf(v)===-1}catch{return!1}},hr.supported=function(){return Re(u.functions)},hr.numEquations=hr.numExpressions=function(){return _e.length},hr.setVar=function(v,H){return Ne(v),v in u.CONSTANTS&&R("Cannot set value for constant "+v),H==="delete"||H===""?delete b[v]:b[v]=Ge(H)?H:u.parse(H),this},hr.getVar=function(v){return b[v]},hr.clearVars=function(){return b={},this},hr.load=function(v){return v.call(this),this},hr.getVars=function(v,H){v=v||"text";var ue={};if(v==="object")ue=b;else for(var Se in b)v==="latex"?ue[Se]=b[Se].latex(H):v==="text"&&(ue[Se]=b[Se].text(H));return ue},hr.set=function(v,H){if(typeof v=="object")for(var ue in v)hr.set(ue,v[ue]);var Se=["SAFE"];Se.indexOf(v)!==-1&&R("Cannot modify setting: "+v),v==="PRECISION"?(f.set({precision:H}),T.PRECISION=H,H>21&&this.set("USE_BIG",!0)):v==="USE_LN"&&H===!0?(T.LOG="LN",T.LOG10="log",u.functions.log=T.LOG_FNS.log10,u.functions.log[0]=function(Xe){return Xe.isConstant()?new Ke(Math.log10(Xe)):u.symfunction(T.LOG10,[Xe])},u.functions.LN=T.LOG_FNS.log,delete u.functions.log10):T[v]=H},hr.get=function(v){return T[v]},hr.updateAPI=function(v){var H=function(Se){return function(){for(var Xe=[].slice.call(arguments),pt=0;pt<Xe.length;pt++)Xe[pt]=u.parse(Xe[pt]);return new fn(sr("PARSE2NUMBER",function(){return u.callfunction(Se,Xe)}))}};for(var ue in u.functions)(!(ue in hr)||v)&&(hr[ue]=H(ue))},hr.replaceFunction=function(v,H,ue){var Se=u.functions[v],Xe=typeof ue>"u"?Se[1]:ue;u.functions[v]=[H.call(void 0,Se[0],ei),Xe]},hr.setOperator=function(v,H){u.setOperator(v,H)},hr.getOperator=function(v){return u.getOperator(v)},hr.aliasOperator=function(v,H){u.aliasOperator(v,H)},hr.tree=function(v){return u.tree(u.toRPN(u.tokenize(v)))},hr.htmlTree=function(v,H){var ue=this.tree(v);return`<div class="tree">
    <ul>
        <li>
`+ue.toHTML(3,H)+`
        </li>
    </ul>
</div>`},hr.addPeeker=function(v,H){u.peekers[v]&&u.peekers[v].push(H)},hr.removePeeker=function(v,H){pn(u.peekers[v],H)},hr.parse=function(v){return String(v).split(";").map(function(H){return u.parse(H)})},hr.updateAPI(),hr})({bigInt:(function(){var r=(function(i){var u=1e7,h=7,f=9007199254740992,g=A(f),y=Math.log(f);function $(P,Re){return typeof P>"u"?$[0]:typeof Re<"u"?+Re==10?Vt(P):De(P,Re):Vt(P)}function T(P,Re){this.value=P,this.sign=Re,this.isSmall=!1}T.prototype=Object.create($.prototype);function w(P){this.value=P,this.sign=P<0,this.isSmall=!0}w.prototype=Object.create($.prototype);function I(P){return-f<P&&P<f}function A(P){return P<1e7?[P]:P<1e14?[P%1e7,Math.floor(P/1e7)]:[P%1e7,Math.floor(P/1e7)%1e7,Math.floor(P/1e14)]}function K(P){ne(P);var Re=P.length;if(Re<4&&qe(P,g)<0)switch(Re){case 0:return 0;case 1:return P[0];case 2:return P[0]+P[1]*u;default:return P[0]+(P[1]+P[2]*u)*u}return P}function ne(P){for(var Re=P.length;P[--Re]===0;);P.length=Re+1}function he(P){for(var Re=new Array(P),ke=-1;++ke<P;)Re[ke]=0;return Re}function V(P){return P>0?Math.floor(P):Math.ceil(P)}function le(P,Re){var ke=P.length,ht=Re.length,Mt=new Array(ke),Ot=0,wt=u,ft,Y;for(Y=0;Y<ht;Y++)ft=P[Y]+Re[Y]+Ot,Ot=ft>=wt?1:0,Mt[Y]=ft-Ot*wt;for(;Y<ke;)ft=P[Y]+Ot,Ot=ft===wt?1:0,Mt[Y++]=ft-Ot*wt;return Ot>0&&Mt.push(Ot),Mt}function te(P,Re){return P.length>=Re.length?le(P,Re):le(Re,P)}function Ce(P,Re){var ke=P.length,ht=new Array(ke),Mt=u,Ot,wt;for(wt=0;wt<ke;wt++)Ot=P[wt]-Mt+Re,Re=Math.floor(Ot/Mt),ht[wt]=Ot-Re*Mt,Re+=1;for(;Re>0;)ht[wt++]=Re%Mt,Re=Math.floor(Re/Mt);return ht}T.prototype.add=function(P){var Re=Vt(P);if(this.sign!==Re.sign)return this.subtract(Re.negate());var ke=this.value,ht=Re.value;return Re.isSmall?new T(Ce(ke,Math.abs(ht)),this.sign):new T(te(ke,ht),this.sign)},T.prototype.plus=T.prototype.add,w.prototype.add=function(P){var Re=Vt(P),ke=this.value;if(ke<0!==Re.sign)return this.subtract(Re.negate());var ht=Re.value;if(Re.isSmall){if(I(ke+ht))return new w(ke+ht);ht=A(Math.abs(ht))}return new T(Ce(ht,Math.abs(ke)),ke<0)},w.prototype.plus=w.prototype.add;function Oe(P,Re){var ke=P.length,ht=Re.length,Mt=new Array(ke),Ot=0,wt=u,ft,Y;for(ft=0;ft<ht;ft++)Y=P[ft]-Ot-Re[ft],Y<0?(Y+=wt,Ot=1):Ot=0,Mt[ft]=Y;for(ft=ht;ft<ke;ft++){if(Y=P[ft]-Ot,Y<0)Y+=wt;else{Mt[ft++]=Y;break}Mt[ft]=Y}for(;ft<ke;ft++)Mt[ft]=P[ft];return ne(Mt),Mt}function ce(P,Re,ke){var ht;return qe(P,Re)>=0?ht=Oe(P,Re):(ht=Oe(Re,P),ke=!ke),ht=K(ht),typeof ht=="number"?(ke&&(ht=-ht),new w(ht)):new T(ht,ke)}function Be(P,Re,ke){var ht=P.length,Mt=new Array(ht),Ot=-Re,wt=u,ft,Y;for(ft=0;ft<ht;ft++)Y=P[ft]+Ot,Ot=Math.floor(Y/wt),Y%=wt,Mt[ft]=Y<0?Y+wt:Y;return Mt=K(Mt),typeof Mt=="number"?(ke&&(Mt=-Mt),new w(Mt)):new T(Mt,ke)}T.prototype.subtract=function(P){var Re=Vt(P);if(this.sign!==Re.sign)return this.add(Re.negate());var ke=this.value,ht=Re.value;return Re.isSmall?Be(ke,Math.abs(ht),this.sign):ce(ke,ht,this.sign)},T.prototype.minus=T.prototype.subtract,w.prototype.subtract=function(P){var Re=Vt(P),ke=this.value;if(ke<0!==Re.sign)return this.add(Re.negate());var ht=Re.value;return Re.isSmall?new w(ke-ht):Be(ht,Math.abs(ke),ke>=0)},w.prototype.minus=w.prototype.subtract,T.prototype.negate=function(){return new T(this.value,!this.sign)},w.prototype.negate=function(){var P=this.sign,Re=new w(-this.value);return Re.sign=!P,Re},T.prototype.abs=function(){return new T(this.value,!1)},w.prototype.abs=function(){return new w(Math.abs(this.value))};function je(P,Re){var ke=P.length,ht=Re.length,Mt=ke+ht,Ot=he(Mt),wt=u,ft,Y,Ee,Je,Fe;for(Ee=0;Ee<ke;++Ee){Je=P[Ee];for(var Lt=0;Lt<ht;++Lt)Fe=Re[Lt],ft=Je*Fe+Ot[Ee+Lt],Y=Math.floor(ft/wt),Ot[Ee+Lt]=ft-Y*wt,Ot[Ee+Lt+1]+=Y}return ne(Ot),Ot}function _e(P,Re){var ke=P.length,ht=new Array(ke),Mt=u,Ot=0,wt,ft;for(ft=0;ft<ke;ft++)wt=P[ft]*Re+Ot,Ot=Math.floor(wt/Mt),ht[ft]=wt-Ot*Mt;for(;Ot>0;)ht[ft++]=Ot%Mt,Ot=Math.floor(Ot/Mt);return ht}function b(P,Re){for(var ke=[];Re-- >0;)ke.push(0);return ke.concat(P)}function O(P,Re){var ke=Math.max(P.length,Re.length);if(ke<=30)return je(P,Re);ke=Math.ceil(ke/2);var ht=P.slice(ke),Mt=P.slice(0,ke),Ot=Re.slice(ke),wt=Re.slice(0,ke),ft=O(Mt,wt),Y=O(ht,Ot),Ee=O(te(Mt,ht),te(wt,Ot)),Je=te(te(ft,b(Oe(Oe(Ee,ft),Y),ke)),b(Y,2*ke));return ne(Je),Je}function N(P,Re){return-.012*P-.012*Re+15e-6*P*Re>0}T.prototype.multiply=function(P){var Re=Vt(P),ke=this.value,ht=Re.value,Mt=this.sign!==Re.sign,Ot;if(Re.isSmall){if(ht===0)return $[0];if(ht===1)return this;if(ht===-1)return this.negate();if(Ot=Math.abs(ht),Ot<u)return new T(_e(ke,Ot),Mt);ht=A(Ot)}return N(ke.length,ht.length)?new T(O(ke,ht),Mt):new T(je(ke,ht),Mt)},T.prototype.times=T.prototype.multiply;function R(P,Re,ke){return P<u?new T(_e(Re,P),ke):new T(je(Re,A(P)),ke)}w.prototype._multiplyBySmall=function(P){return I(P.value*this.value)?new w(P.value*this.value):R(Math.abs(P.value),A(Math.abs(this.value)),this.sign!==P.sign)},T.prototype._multiplyBySmall=function(P){return P.value===0?$[0]:P.value===1?this:P.value===-1?this.negate():R(Math.abs(P.value),this.value,this.sign!==P.sign)},w.prototype.multiply=function(P){return Vt(P)._multiplyBySmall(this)},w.prototype.times=w.prototype.multiply;function B(P){var Re=P.length,ke=he(Re+Re),ht=u,Mt,Ot,wt,ft,Y;for(wt=0;wt<Re;wt++){ft=P[wt],Ot=0-ft*ft;for(var Ee=wt;Ee<Re;Ee++)Y=P[Ee],Mt=2*(ft*Y)+ke[wt+Ee]+Ot,Ot=Math.floor(Mt/ht),ke[wt+Ee]=Mt-Ot*ht;ke[wt+Re]=Ot}return ne(ke),ke}T.prototype.square=function(){return new T(B(this.value),!1)},w.prototype.square=function(){var P=this.value*this.value;return I(P)?new w(P):new T(B(A(Math.abs(this.value))),!1)};function j(P,Re){var ke=P.length,ht=Re.length,Mt=u,Ot=he(Re.length),wt=Re[ht-1],ft=Math.ceil(Mt/(2*wt)),Y=_e(P,ft),Ee=_e(Re,ft),Je,Fe,Lt,Bt,zt,ve,Ye;for(Y.length<=ke&&Y.push(0),Ee.push(0),wt=Ee[ht-1],Fe=ke-ht;Fe>=0;Fe--){for(Je=Mt-1,Y[Fe+ht]!==wt&&(Je=Math.floor((Y[Fe+ht]*Mt+Y[Fe+ht-1])/wt)),Lt=0,Bt=0,ve=Ee.length,zt=0;zt<ve;zt++)Lt+=Je*Ee[zt],Ye=Math.floor(Lt/Mt),Bt+=Y[Fe+zt]-(Lt-Ye*Mt),Lt=Ye,Bt<0?(Y[Fe+zt]=Bt+Mt,Bt=-1):(Y[Fe+zt]=Bt,Bt=0);for(;Bt!==0;){for(Je-=1,Lt=0,zt=0;zt<ve;zt++)Lt+=Y[Fe+zt]-Mt+Ee[zt],Lt<0?(Y[Fe+zt]=Lt+Mt,Lt=0):(Y[Fe+zt]=Lt,Lt=1);Bt+=Lt}Ot[Fe]=Je}return Y=fe(Y,ft)[0],[K(Ot),K(Y)]}function J(P,Re){for(var ke=P.length,ht=Re.length,Mt=[],Ot=[],wt=u,ft,Y,Ee,Je,Fe;ke;){if(Ot.unshift(P[--ke]),ne(Ot),qe(Ot,Re)<0){Mt.push(0);continue}Y=Ot.length,Ee=Ot[Y-1]*wt+Ot[Y-2],Je=Re[ht-1]*wt+Re[ht-2],Y>ht&&(Ee=(Ee+1)*wt),ft=Math.ceil(Ee/Je);do{if(Fe=_e(Re,ft),qe(Fe,Ot)<=0)break;ft--}while(ft);Mt.push(ft),Ot=Oe(Ot,Fe)}return Mt.reverse(),[K(Mt),K(Ot)]}function fe(P,Re){var ke=P.length,ht=he(ke),Mt=u,Ot,wt,ft,Y;for(ft=0,Ot=ke-1;Ot>=0;--Ot)Y=ft*Mt+P[Ot],wt=V(Y/Re),ft=Y-wt*Re,ht[Ot]=wt|0;return[ht,ft|0]}function Ne(P,Re){var ke,ht=Vt(Re),Mt=P.value,Ot=ht.value,wt;if(Ot===0)throw new Error("Cannot divide by zero");if(P.isSmall)return ht.isSmall?[new w(V(Mt/Ot)),new w(Mt%Ot)]:[$[0],P];if(ht.isSmall){if(Ot===1)return[P,$[0]];if(Ot==-1)return[P.negate(),$[0]];var ft=Math.abs(Ot);if(ft<u){ke=fe(Mt,ft),wt=K(ke[0]);var Y=ke[1];return P.sign&&(Y=-Y),typeof wt=="number"?(P.sign!==ht.sign&&(wt=-wt),[new w(wt),new w(Y)]):[new T(wt,P.sign!==ht.sign),new w(Y)]}Ot=A(ft)}var Ee=qe(Mt,Ot);if(Ee===-1)return[$[0],P];if(Ee===0)return[$[P.sign===ht.sign?1:-1],$[0]];Mt.length+Ot.length<=200?ke=j(Mt,Ot):ke=J(Mt,Ot),wt=ke[0];var Je=P.sign!==ht.sign,Fe=ke[1],Lt=P.sign;return typeof wt=="number"?(Je&&(wt=-wt),wt=new w(wt)):wt=new T(wt,Je),typeof Fe=="number"?(Lt&&(Fe=-Fe),Fe=new w(Fe)):Fe=new T(Fe,Lt),[wt,Fe]}T.prototype.divmod=function(P){var Re=Ne(this,P);return{quotient:Re[0],remainder:Re[1]}},w.prototype.divmod=T.prototype.divmod,T.prototype.divide=function(P){return Ne(this,P)[0]},w.prototype.over=w.prototype.divide=T.prototype.over=T.prototype.divide,T.prototype.mod=function(P){return Ne(this,P)[1]},w.prototype.remainder=w.prototype.mod=T.prototype.remainder=T.prototype.mod,T.prototype.pow=function(P){var Re=Vt(P),ke=this.value,ht=Re.value,Mt,Ot,wt;if(ht===0)return $[1];if(ke===0)return $[0];if(ke===1)return $[1];if(ke===-1)return Re.isEven()?$[1]:$[-1];if(Re.sign)return $[0];if(!Re.isSmall)throw new Error("The exponent "+Re.toString()+" is too large.");if(this.isSmall&&I(Mt=Math.pow(ke,ht)))return new w(V(Mt));for(Ot=this,wt=$[1];ht&!0&&(wt=wt.times(Ot),--ht),ht!==0;)ht/=2,Ot=Ot.square();return wt},w.prototype.pow=T.prototype.pow,T.prototype.modPow=function(P,Re){if(P=Vt(P),Re=Vt(Re),Re.isZero())throw new Error("Cannot take modPow with modulus 0");for(var ke=$[1],ht=this.mod(Re);P.isPositive();){if(ht.isZero())return $[0];P.isOdd()&&(ke=ke.multiply(ht).mod(Re)),P=P.divide(2),ht=ht.square().mod(Re)}return ke},w.prototype.modPow=T.prototype.modPow;function qe(P,Re){if(P.length!==Re.length)return P.length>Re.length?1:-1;for(var ke=P.length-1;ke>=0;ke--)if(P[ke]!==Re[ke])return P[ke]>Re[ke]?1:-1;return 0}T.prototype.compareAbs=function(P){var Re=Vt(P),ke=this.value,ht=Re.value;return Re.isSmall?1:qe(ke,ht)},w.prototype.compareAbs=function(P){var Re=Vt(P),ke=Math.abs(this.value),ht=Re.value;return Re.isSmall?(ht=Math.abs(ht),ke===ht?0:ke>ht?1:-1):-1},T.prototype.compare=function(P){if(P===1/0)return-1;if(P===-1/0)return 1;var Re=Vt(P),ke=this.value,ht=Re.value;return this.sign!==Re.sign?Re.sign?1:-1:Re.isSmall?this.sign?-1:1:qe(ke,ht)*(this.sign?-1:1)},T.prototype.compareTo=T.prototype.compare,w.prototype.compare=function(P){if(P===1/0)return-1;if(P===-1/0)return 1;var Re=Vt(P),ke=this.value,ht=Re.value;return Re.isSmall?ke==ht?0:ke>ht?1:-1:ke<0!==Re.sign?ke<0?-1:1:ke<0?1:-1},w.prototype.compareTo=w.prototype.compare,T.prototype.equals=function(P){return this.compare(P)===0},w.prototype.eq=w.prototype.equals=T.prototype.eq=T.prototype.equals,T.prototype.notEquals=function(P){return this.compare(P)!==0},w.prototype.neq=w.prototype.notEquals=T.prototype.neq=T.prototype.notEquals,T.prototype.greater=function(P){return this.compare(P)>0},w.prototype.gt=w.prototype.greater=T.prototype.gt=T.prototype.greater,T.prototype.lesser=function(P){return this.compare(P)<0},w.prototype.lt=w.prototype.lesser=T.prototype.lt=T.prototype.lesser,T.prototype.greaterOrEquals=function(P){return this.compare(P)>=0},w.prototype.geq=w.prototype.greaterOrEquals=T.prototype.geq=T.prototype.greaterOrEquals,T.prototype.lesserOrEquals=function(P){return this.compare(P)<=0},w.prototype.leq=w.prototype.lesserOrEquals=T.prototype.leq=T.prototype.lesserOrEquals,T.prototype.isEven=function(){return(this.value[0]&1)===0},w.prototype.isEven=function(){return(this.value&1)===0},T.prototype.isOdd=function(){return(this.value[0]&1)===1},w.prototype.isOdd=function(){return(this.value&1)===1},T.prototype.isPositive=function(){return!this.sign},w.prototype.isPositive=function(){return this.value>0},T.prototype.isNegative=function(){return this.sign},w.prototype.isNegative=function(){return this.value<0},T.prototype.isUnit=function(){return!1},w.prototype.isUnit=function(){return Math.abs(this.value)===1},T.prototype.isZero=function(){return!1},w.prototype.isZero=function(){return this.value===0},T.prototype.isDivisibleBy=function(P){var Re=Vt(P),ke=Re.value;return ke===0?!1:ke===1?!0:ke===2?this.isEven():this.mod(Re).equals($[0])},w.prototype.isDivisibleBy=T.prototype.isDivisibleBy;function de(P){var Re=P.abs();if(Re.isUnit())return!1;if(Re.equals(2)||Re.equals(3)||Re.equals(5))return!0;if(Re.isEven()||Re.isDivisibleBy(3)||Re.isDivisibleBy(5))return!1;if(Re.lesser(49))return!0}function xe(P,Re){for(var ke=P.prev(),ht=ke,Mt=0,Ot,wt,ft;ht.isEven();)ht=ht.divide(2),Mt++;e:for(wt=0;wt<Re.length;wt++)if(!P.lesser(Re[wt])&&(ft=r(Re[wt]).modPow(ht,P),!(ft.equals($[1])||ft.equals(ke)))){for(Ot=Mt-1;Ot!=0;Ot--){if(ft=ft.square().mod(P),ft.isUnit())return!1;if(ft.equals(ke))continue e}return!1}return!0}T.prototype.isPrime=function(P){var Re=de(this);if(Re!==i)return Re;var ke=this.abs(),ht=ke.bitLength();if(ht<=64)return xe(ke,[2,325,9375,28178,450775,9780504,1795265022]);for(var Mt=Math.log(2)*ht,Ot=Math.ceil(P===!0?2*Math.pow(Mt,2):Mt),wt=[],ft=0;ft<Ot;ft++)wt.push(r(ft+2));return xe(ke,wt)},w.prototype.isPrime=T.prototype.isPrime,T.prototype.isProbablePrime=function(P){var Re=de(this);if(Re!==i)return Re;for(var ke=this.abs(),ht=P===i?5:P,Mt=[],Ot=0;Ot<ht;Ot++)Mt.push(r.randBetween(2,ke.minus(2)));return xe(ke,Mt)},w.prototype.isProbablePrime=T.prototype.isProbablePrime,T.prototype.modInv=function(P){for(var Re=r.zero,ke=r.one,ht=Vt(P),Mt=this.abs(),Ot,wt,ft;!Mt.equals(r.zero);)Ot=ht.divide(Mt),wt=Re,ft=ht,Re=ke,ht=Mt,ke=wt.subtract(Ot.multiply(ke)),Mt=ft.subtract(Ot.multiply(Mt));if(!ht.equals(1))throw new Error(this.toString()+" and "+P.toString()+" are not co-prime");return Re.compare(0)===-1&&(Re=Re.add(P)),this.isNegative()?Re.negate():Re},w.prototype.modInv=T.prototype.modInv,T.prototype.next=function(){var P=this.value;return this.sign?Be(P,1,this.sign):new T(Ce(P,1),this.sign)},w.prototype.next=function(){var P=this.value;return P+1<f?new w(P+1):new T(g,!1)},T.prototype.prev=function(){var P=this.value;return this.sign?new T(Ce(P,1),!0):Be(P,1,this.sign)},w.prototype.prev=function(){var P=this.value;return P-1>-f?new w(P-1):new T(g,!0)};for(var gt=[1];2*gt[gt.length-1]<=u;)gt.push(2*gt[gt.length-1]);var ze=gt.length,Ft=gt[ze-1];function Ge(P){return(typeof P=="number"||typeof P=="string")&&+Math.abs(P)<=u||P instanceof T&&P.value.length<=1}T.prototype.shiftLeft=function(P){if(!Ge(P))throw new Error(String(P)+" is too large for shifting.");if(P=+P,P<0)return this.shiftRight(-P);var Re=this;if(Re.isZero())return Re;for(;P>=ze;)Re=Re.multiply(Ft),P-=ze-1;return Re.multiply(gt[P])},w.prototype.shiftLeft=T.prototype.shiftLeft,T.prototype.shiftRight=function(P){var Re;if(!Ge(P))throw new Error(String(P)+" is too large for shifting.");if(P=+P,P<0)return this.shiftLeft(-P);for(var ke=this;P>=ze;){if(ke.isZero()||ke.isNegative()&&ke.isUnit())return ke;Re=Ne(ke,Ft),ke=Re[1].isNegative()?Re[0].prev():Re[0],P-=ze-1}return Re=Ne(ke,gt[P]),Re[1].isNegative()?Re[0].prev():Re[0]},w.prototype.shiftRight=T.prototype.shiftRight;function et(P,Re,ke){Re=Vt(Re);for(var ht=P.isNegative(),Mt=Re.isNegative(),Ot=ht?P.not():P,wt=Mt?Re.not():Re,ft=0,Y=0,Ee=null,Je=null,Fe=[];!Ot.isZero()||!wt.isZero();)Ee=Ne(Ot,Ft),ft=Ee[1].toJSNumber(),ht&&(ft=Ft-1-ft),Je=Ne(wt,Ft),Y=Je[1].toJSNumber(),Mt&&(Y=Ft-1-Y),Ot=Ee[0],wt=Je[0],Fe.push(ke(ft,Y));for(var Lt=ke(ht?1:0,Mt?1:0)!==0?r(-1):r(0),Bt=Fe.length-1;Bt>=0;Bt-=1)Lt=Lt.multiply(Ft).add(r(Fe[Bt]));return Lt}T.prototype.not=function(){return this.negate().prev()},w.prototype.not=T.prototype.not,T.prototype.and=function(P){return et(this,P,function(Re,ke){return Re&ke})},w.prototype.and=T.prototype.and,T.prototype.or=function(P){return et(this,P,function(Re,ke){return Re|ke})},w.prototype.or=T.prototype.or,T.prototype.xor=function(P){return et(this,P,function(Re,ke){return Re^ke})},w.prototype.xor=T.prototype.xor;var Ct=1<<30,nt=(u&-u)*(u&-u)|Ct;function yt(P){var Re=P.value,ke=typeof Re=="number"?Re|Ct:Re[0]+Re[1]*u|nt;return ke&-ke}function Ut(P,Re){if(Re.compareTo(P)<=0){var ke=Ut(P,Re.square(Re)),ht=ke.p,Mt=ke.e,Ot=ht.multiply(Re);return Ot.compareTo(P)<=0?{p:Ot,e:Mt*2+1}:{p:ht,e:Mt*2}}return{p:r(1),e:0}}T.prototype.bitLength=function(){var P=this;return P.compareTo(r(0))<0&&(P=P.negate().subtract(r(1))),P.compareTo(r(0))===0?r(0):r(Ut(P,r(2)).e).add(r(1))},w.prototype.bitLength=T.prototype.bitLength;function Ht(P,Re){return P=Vt(P),Re=Vt(Re),P.greater(Re)?P:Re}function Me(P,Re){return P=Vt(P),Re=Vt(Re),P.lesser(Re)?P:Re}function ut(P,Re){if(P=Vt(P).abs(),Re=Vt(Re).abs(),P.equals(Re))return P;if(P.isZero())return Re;if(Re.isZero())return P;for(var ke=$[1],ht,Mt;P.isEven()&&Re.isEven();)ht=Math.min(yt(P),yt(Re)),P=P.divide(ht),Re=Re.divide(ht),ke=ke.multiply(ht);for(;P.isEven();)P=P.divide(yt(P));do{for(;Re.isEven();)Re=Re.divide(yt(Re));P.greater(Re)&&(Mt=Re,Re=P,P=Mt),Re=Re.subtract(P)}while(!Re.isZero());return ke.isUnit()?P:P.multiply(ke)}function en(P,Re){return P=Vt(P).abs(),Re=Vt(Re).abs(),P.divide(ut(P,Re)).multiply(Re)}function nn(P,Re){P=Vt(P),Re=Vt(Re);var ke=Me(P,Re),ht=Ht(P,Re),Mt=ht.subtract(ke).add(1);if(Mt.isSmall)return ke.add(Math.floor(Math.random()*Mt));for(var Ot=Mt.value.length-1,wt=[],ft=!0,Y=Ot;Y>=0;Y--){var Ee=ft?Mt.value[Y]:u,Je=V(Math.random()*Ee);wt.unshift(Je),Je<Ee&&(ft=!1)}return wt=K(wt),ke.add(typeof wt=="number"?new w(wt):new T(wt,!1))}var De=function(P,Re){for(var ke=P.length,ht,Mt=Math.abs(Re),ht=0;ht<ke;ht++){var Ot=P[ht].toLowerCase();if(Ot!=="-"&&/[a-z0-9]/.test(Ot)){if(/[0-9]/.test(Ot)&&+Ot>=Mt){if(Ot==="1"&&Mt===1)continue;throw new Error(Ot+" is not a valid digit in base "+Re+".")}else if(Ot.charCodeAt(0)-87>=Mt)throw new Error(Ot+" is not a valid digit in base "+Re+".")}}if(2<=Re&&Re<=36&&ke<=y/Math.log(Re)){var wt=parseInt(P,Re);if(isNaN(wt))throw new Error(Ot+" is not a valid digit in base "+Re+".");return new w(parseInt(P,Re))}Re=Vt(Re);var ft=[],Y=P[0]==="-";for(ht=Y?1:0;ht<P.length;ht++){var Ot=P[ht].toLowerCase(),Ee=Ot.charCodeAt(0);if(48<=Ee&&Ee<=57)ft.push(Vt(Ot));else if(97<=Ee&&Ee<=122)ft.push(Vt(Ot.charCodeAt(0)-87));else if(Ot==="<"){var Je=ht;do ht++;while(P[ht]!==">");ft.push(Vt(P.slice(Je+1,ht)))}else throw new Error(Ot+" is not a valid character")}return se(ft,Re,Y)};function se(P,Re,ke){var ht=$[0],Mt=$[1],Ot;for(Ot=P.length-1;Ot>=0;Ot--)ht=ht.add(P[Ot].times(Mt)),Mt=Mt.times(Re);return ke?ht.negate():ht}function Ae(P){return P<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(P):"<"+P+">"}function lt(P,Re){if(Re=r(Re),Re.isZero()){if(P.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(Re.equals(-1)){if(P.isZero())return{value:[0],isNegative:!1};if(P.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-P)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var ke=Array.apply(null,Array(+P-1)).map(Array.prototype.valueOf,[0,1]);return ke.unshift([1]),{value:[].concat.apply([],ke),isNegative:!1}}var ht=!1;if(P.isNegative()&&Re.isPositive()&&(ht=!0,P=P.abs()),Re.equals(1))return P.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+P)).map(Number.prototype.valueOf,1),isNegative:ht};for(var Mt=[],Ot=P,wt;Ot.isNegative()||Ot.compareAbs(Re)>=0;){wt=Ot.divmod(Re),Ot=wt.quotient;var ft=wt.remainder;ft.isNegative()&&(ft=Re.minus(ft).abs(),Ot=Ot.next()),Mt.push(ft.toJSNumber())}return Mt.push(Ot.toJSNumber()),{value:Mt.reverse(),isNegative:ht}}function Qe(P,Re){var ke=lt(P,Re);return(ke.isNegative?"-":"")+ke.value.map(Ae).join("")}T.prototype.toArray=function(P){return lt(this,P)},w.prototype.toArray=function(P){return lt(this,P)},T.prototype.toString=function(P){if(P===i&&(P=10),P!==10)return Qe(this,P);for(var Re=this.value,ke=Re.length,ht=String(Re[--ke]),Mt="0000000",Ot;--ke>=0;)Ot=String(Re[ke]),ht+=Mt.slice(Ot.length)+Ot;var wt=this.sign?"-":"";return wt+ht},w.prototype.toString=function(P){return P===i&&(P=10),P!=10?Qe(this,P):String(this.value)},T.prototype.toJSON=w.prototype.toJSON=function(){return this.toString()},T.prototype.valueOf=function(){return parseInt(this.toString(),10)},T.prototype.toJSNumber=T.prototype.valueOf,w.prototype.valueOf=function(){return this.value},w.prototype.toJSNumber=w.prototype.valueOf;function Tt(P){if(I(+P)){var Re=+P;if(Re===V(Re))return new w(Re);throw new Error("Invalid integer: "+P)}var ke=P[0]==="-";ke&&(P=P.slice(1));var ht=P.split(/e/i);if(ht.length>2)throw new Error("Invalid integer: "+ht.join("e"));if(ht.length===2){var Mt=ht[1];if(Mt[0]==="+"&&(Mt=Mt.slice(1)),Mt=+Mt,Mt!==V(Mt)||!I(Mt))throw new Error("Invalid integer: "+Mt+" is not a valid exponent.");var Ot=ht[0],wt=Ot.indexOf(".");if(wt>=0&&(Mt-=Ot.length-wt-1,Ot=Ot.slice(0,wt)+Ot.slice(wt+1)),Mt<0)throw new Error("Cannot include negative exponent part for integers");Ot+=new Array(Mt+1).join("0"),P=Ot}var ft=/^([0-9][0-9]*)$/.test(P);if(!ft)throw new Error("Invalid integer: "+P);for(var Y=[],Ee=P.length,Je=h,Fe=Ee-Je;Ee>0;)Y.push(+P.slice(Fe,Ee)),Fe-=Je,Fe<0&&(Fe=0),Ee-=Je;return ne(Y),new T(Y,ke)}function Et(P){if(I(P)){if(P!==V(P))throw new Error(P+" is not an integer.");return new w(P)}return Tt(P.toString())}function Vt(P){return typeof P=="number"?Et(P):typeof P=="string"?Tt(P):P}for(var rt=0;rt<1e3;rt++)$[rt]=new w(rt),rt>0&&($[-rt]=new w(-rt));return $.one=$[1],$.zero=$[0],$.minusOne=$[-1],$.max=Ht,$.min=Me,$.gcd=ut,$.lcm=en,$.isInstance=function(P){return P instanceof T||P instanceof w},$.randBetween=nn,$.fromArray=function(P,Re,ke){return se(P.map(Vt),Vt(Re||10),ke)},$})();return t.hasOwnProperty("exports")&&(t.exports=r),r})(),bigDec:(function(r){var i,u,h,f,g=9e15,y=1e9,$="0123456789abcdef",T="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",w="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",I={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-g,maxE:g,crypto:!1},A=!0,K="[DecimalError] ",ne=K+"Invalid argument: ",he=K+"Precision limit exceeded",V=K+"crypto unavailable",le=Math.floor,te=Math.pow,Ce=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Oe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ce=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Be=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,je=1e7,_e=7,b=T.length-1,O=w.length-1,N={name:"[object Decimal]"};function R(F){var ie,x,W,ae=F.length-1,q="",ge=F[0];if(ae>0){for(q+=ge,ie=1;ie<ae;ie++)W=F[ie]+"",(x=_e-W.length)&&(q+=Ft(x)),q+=W;ge=F[ie],(x=_e-(W=ge+"").length)&&(q+=Ft(x))}else if(ge===0)return"0";for(;ge%10==0;)ge/=10;return q+ge}function B(F,ie,x){if(F!==~~F||F<ie||F>x)throw Error(ne+F)}function j(F,ie,x,W){var ae,q,ge,be;for(q=F[0];q>=10;q/=10)--ie;return--ie<0?(ie+=_e,ae=0):(ae=Math.ceil((ie+1)/_e),ie%=_e),q=te(10,_e-ie),be=F[ae]%q|0,W==null?ie<3?(ie==0?be=be/100|0:ie==1&&(be=be/10|0),ge=x<4&&be==99999||x>3&&be==49999||be==5e4||be==0):ge=(x<4&&be+1==q||x>3&&be+1==q/2)&&(F[ae+1]/q/100|0)==te(10,ie-2)-1||(be==q/2||be==0)&&(F[ae+1]/q/100|0)==0:ie<4?(ie==0?be=be/1e3|0:ie==1?be=be/100|0:ie==2&&(be=be/10|0),ge=(W||x<4)&&be==9999||!W&&x>3&&be==4999):ge=((W||x<4)&&be+1==q||!W&&x>3&&be+1==q/2)&&(F[ae+1]/q/1e3|0)==te(10,ie-3)-1,ge}function J(F,ie,x){for(var W,ae,q=[0],ge=0,be=F.length;ge<be;){for(ae=q.length;ae--;)q[ae]*=ie;for(q[0]+=$.indexOf(F.charAt(ge++)),W=0;W<q.length;W++)q[W]>x-1&&(q[W+1]===void 0&&(q[W+1]=0),q[W+1]+=q[W]/x|0,q[W]%=x)}return q.reverse()}N.absoluteValue=N.abs=function(){var F=new this.constructor(this);return F.s<0&&(F.s=1),Ne(F)},N.ceil=function(){return Ne(new this.constructor(this),this.e+1,2)},N.comparedTo=N.cmp=function(F){var ie,x,W,ae,q=this,ge=q.d,be=(F=new q.constructor(F)).d,Le=q.s,st=F.s;if(!ge||!be)return Le&&st?Le!==st?Le:ge===be?0:!ge^Le<0?1:-1:NaN;if(!ge[0]||!be[0])return ge[0]?Le:be[0]?-st:0;if(Le!==st)return Le;if(q.e!==F.e)return q.e>F.e^Le<0?1:-1;for(ie=0,x=(W=ge.length)<(ae=be.length)?W:ae;ie<x;++ie)if(ge[ie]!==be[ie])return ge[ie]>be[ie]^Le<0?1:-1;return W===ae?0:W>ae^Le<0?1:-1},N.cosine=N.cos=function(){var F,ie,x=this,W=x.constructor;return x.d?x.d[0]?(F=W.precision,ie=W.rounding,W.precision=F+Math.max(x.e,x.sd())+_e,W.rounding=1,x=(function(ae,q){var ge,be,Le=q.d.length;Le<32?(ge=Math.ceil(Le/3),be=(1/en(4,ge)).toString()):(ge=16,be="2.3283064365386962890625e-10"),ae.precision+=ge,q=ut(ae,1,q.times(be),new ae(1));for(var st=ge;st--;){var $e=q.times(q);q=$e.times($e).minus($e).times(8).plus(1)}return ae.precision-=ge,q})(W,nn(W,x)),W.precision=F,W.rounding=ie,Ne(f==2||f==3?x.neg():x,F,ie,!0)):new W(1):new W(NaN)},N.cubeRoot=N.cbrt=function(){var F,ie,x,W,ae,q,ge,be,Le,st,$e=this,$t=$e.constructor;if(!$e.isFinite()||$e.isZero())return new $t($e);for(A=!1,(q=$e.s*te($e.s*$e,.3333333333333333))&&Math.abs(q)!=1/0?W=new $t(q.toString()):(x=R($e.d),(q=((F=$e.e)-x.length+1)%3)&&(x+=q==1||q==-2?"0":"00"),q=te(x,.3333333333333333),F=le((F+1)/3)-(F%3==(F<0?-1:2)),(W=new $t(x=q==1/0?"5e"+F:(x=q.toExponential()).slice(0,x.indexOf("e")+1)+F)).s=$e.s),ge=(F=$t.precision)+3;;)if(st=(Le=(be=W).times(be).times(be)).plus($e),W=fe(st.plus($e).times(be),st.plus(Le),ge+2,1),R(be.d).slice(0,ge)===(x=R(W.d)).slice(0,ge)){if((x=x.slice(ge-3,ge+1))!="9999"&&(ae||x!="4999")){+x&&(+x.slice(1)||x.charAt(0)!="5")||(Ne(W,F+1,1),ie=!W.times(W).times(W).eq($e));break}if(!ae&&(Ne(be,F+1,0),be.times(be).times(be).eq($e))){W=be;break}ge+=4,ae=1}return A=!0,Ne(W,F,$t.rounding,ie)},N.decimalPlaces=N.dp=function(){var F,ie=this.d,x=NaN;if(ie){if(x=((F=ie.length-1)-le(this.e/_e))*_e,F=ie[F])for(;F%10==0;F/=10)x--;x<0&&(x=0)}return x},N.dividedBy=N.div=function(F){return fe(this,new this.constructor(F))},N.dividedToIntegerBy=N.divToInt=function(F){var ie=this.constructor;return Ne(fe(this,new ie(F),0,1,1),ie.precision,ie.rounding)},N.equals=N.eq=function(F){return this.cmp(F)===0},N.floor=function(){return Ne(new this.constructor(this),this.e+1,3)},N.greaterThan=N.gt=function(F){return this.cmp(F)>0},N.greaterThanOrEqualTo=N.gte=function(F){var ie=this.cmp(F);return ie==1||ie===0},N.hyperbolicCosine=N.cosh=function(){var F,ie,x,W,ae,q=this,ge=q.constructor,be=new ge(1);if(!q.isFinite())return new ge(q.s?1/0:NaN);if(q.isZero())return be;x=ge.precision,W=ge.rounding,ge.precision=x+Math.max(q.e,q.sd())+4,ge.rounding=1,(ae=q.d.length)<32?ie=(1/en(4,F=Math.ceil(ae/3))).toString():(F=16,ie="2.3283064365386962890625e-10"),q=ut(ge,1,q.times(ie),new ge(1),!0);for(var Le,st=F,$e=new ge(8);st--;)Le=q.times(q),q=be.minus(Le.times($e.minus(Le.times($e))));return Ne(q,ge.precision=x,ge.rounding=W,!0)},N.hyperbolicSine=N.sinh=function(){var F,ie,x,W,ae=this,q=ae.constructor;if(!ae.isFinite()||ae.isZero())return new q(ae);if(ie=q.precision,x=q.rounding,q.precision=ie+Math.max(ae.e,ae.sd())+4,q.rounding=1,(W=ae.d.length)<3)ae=ut(q,2,ae,ae,!0);else{F=(F=1.4*Math.sqrt(W))>16?16:0|F,ae=ut(q,2,ae=ae.times(1/en(5,F)),ae,!0);for(var ge,be=new q(5),Le=new q(16),st=new q(20);F--;)ge=ae.times(ae),ae=ae.times(be.plus(ge.times(Le.times(ge).plus(st))))}return q.precision=ie,q.rounding=x,Ne(ae,ie,x,!0)},N.hyperbolicTangent=N.tanh=function(){var F,ie,x=this,W=x.constructor;return x.isFinite()?x.isZero()?new W(x):(F=W.precision,ie=W.rounding,W.precision=F+7,W.rounding=1,fe(x.sinh(),x.cosh(),W.precision=F,W.rounding=ie)):new W(x.s)},N.inverseCosine=N.acos=function(){var F,ie=this,x=ie.constructor,W=ie.abs().cmp(1),ae=x.precision,q=x.rounding;return W!==-1?W===0?ie.isNeg()?gt(x,ae,q):new x(0):new x(NaN):ie.isZero()?gt(x,ae+4,q).times(.5):(x.precision=ae+6,x.rounding=1,ie=ie.asin(),F=gt(x,ae+4,q).times(.5),x.precision=ae,x.rounding=q,F.minus(ie))},N.inverseHyperbolicCosine=N.acosh=function(){var F,ie,x=this,W=x.constructor;return x.lte(1)?new W(x.eq(1)?0:NaN):x.isFinite()?(F=W.precision,ie=W.rounding,W.precision=F+Math.max(Math.abs(x.e),x.sd())+4,W.rounding=1,A=!1,x=x.times(x).minus(1).sqrt().plus(x),A=!0,W.precision=F,W.rounding=ie,x.ln()):new W(x)},N.inverseHyperbolicSine=N.asinh=function(){var F,ie,x=this,W=x.constructor;return!x.isFinite()||x.isZero()?new W(x):(F=W.precision,ie=W.rounding,W.precision=F+2*Math.max(Math.abs(x.e),x.sd())+6,W.rounding=1,A=!1,x=x.times(x).plus(1).sqrt().plus(x),A=!0,W.precision=F,W.rounding=ie,x.ln())},N.inverseHyperbolicTangent=N.atanh=function(){var F,ie,x,W,ae=this,q=ae.constructor;return ae.isFinite()?ae.e>=0?new q(ae.abs().eq(1)?ae.s/0:ae.isZero()?ae:NaN):(F=q.precision,ie=q.rounding,W=ae.sd(),Math.max(W,F)<2*-ae.e-1?Ne(new q(ae),F,ie,!0):(q.precision=x=W-ae.e,ae=fe(ae.plus(1),new q(1).minus(ae),x+F,1),q.precision=F+4,q.rounding=1,ae=ae.ln(),q.precision=F,q.rounding=ie,ae.times(.5))):new q(NaN)},N.inverseSine=N.asin=function(){var F,ie,x,W,ae=this,q=ae.constructor;return ae.isZero()?new q(ae):(ie=ae.abs().cmp(1),x=q.precision,W=q.rounding,ie!==-1?ie===0?((F=gt(q,x+4,W).times(.5)).s=ae.s,F):new q(NaN):(q.precision=x+6,q.rounding=1,ae=ae.div(new q(1).minus(ae.times(ae)).sqrt().plus(1)).atan(),q.precision=x,q.rounding=W,ae.times(2)))},N.inverseTangent=N.atan=function(){var F,ie,x,W,ae,q,ge,be,Le,st=this,$e=st.constructor,$t=$e.precision,Ue=$e.rounding;if(st.isFinite()){if(st.isZero())return new $e(st);if(st.abs().eq(1)&&$t+4<=O)return(ge=gt($e,$t+4,Ue).times(.25)).s=st.s,ge}else{if(!st.s)return new $e(NaN);if($t+4<=O)return(ge=gt($e,$t+4,Ue).times(.5)).s=st.s,ge}for($e.precision=be=$t+10,$e.rounding=1,F=x=Math.min(28,be/_e+2|0);F;--F)st=st.div(st.times(st).plus(1).sqrt().plus(1));for(A=!1,ie=Math.ceil(be/_e),W=1,Le=st.times(st),ge=new $e(st),ae=st;F!==-1;)if(ae=ae.times(Le),q=ge.minus(ae.div(W+=2)),ae=ae.times(Le),(ge=q.plus(ae.div(W+=2))).d[ie]!==void 0)for(F=ie;ge.d[F]===q.d[F]&&F--;);return x&&(ge=ge.times(2<<x-1)),A=!0,Ne(ge,$e.precision=$t,$e.rounding=Ue,!0)},N.isFinite=function(){return!!this.d},N.isInteger=N.isInt=function(){return!!this.d&&le(this.e/_e)>this.d.length-2},N.isNaN=function(){return!this.s},N.isNegative=N.isNeg=function(){return this.s<0},N.isPositive=N.isPos=function(){return this.s>0},N.isZero=function(){return!!this.d&&this.d[0]===0},N.lessThan=N.lt=function(F){return this.cmp(F)<0},N.lessThanOrEqualTo=N.lte=function(F){return this.cmp(F)<1},N.logarithm=N.log=function(F){var ie,x,W,ae,q,ge,be,Le,st=this.constructor,$e=st.precision,$t=st.rounding;if(F==null)F=new st(10),ie=!0;else{if(x=(F=new st(F)).d,F.s<0||!x||!x[0]||F.eq(1))return new st(NaN);ie=F.eq(10)}if(x=this.d,this.s<0||!x||!x[0]||this.eq(1))return new st(x&&!x[0]?-1/0:this.s!=1?NaN:x?0:1/0);if(ie)if(x.length>1)q=!0;else{for(ae=x[0];ae%10==0;)ae/=10;q=ae!==1}if(A=!1,ge=yt(this,be=$e+5),W=ie?xe(st,be+10):yt(F,be),j((Le=fe(ge,W,be,1)).d,ae=$e,$t))do if(ge=yt(this,be+=10),W=ie?xe(st,be+10):yt(F,be),Le=fe(ge,W,be,1),!q){+R(Le.d).slice(ae+1,ae+15)+1==1e14&&(Le=Ne(Le,$e+1,0));break}while(j(Le.d,ae+=10,$t));return A=!0,Ne(Le,$e,$t)},N.minus=N.sub=function(F){var ie,x,W,ae,q,ge,be,Le,st,$e,$t,Ue,p=this,D=p.constructor;if(F=new D(F),!p.d||!F.d)return p.s&&F.s?p.d?F.s=-F.s:F=new D(F.d||p.s!==F.s?p:NaN):F=new D(NaN),F;if(p.s!=F.s)return F.s=-F.s,p.plus(F);if(st=p.d,Ue=F.d,be=D.precision,Le=D.rounding,!st[0]||!Ue[0]){if(Ue[0])F.s=-F.s;else{if(!st[0])return new D(Le===3?-0:0);F=new D(p)}return A?Ne(F,be,Le):F}if(x=le(F.e/_e),$e=le(p.e/_e),st=st.slice(),q=$e-x){for(($t=q<0)?(ie=st,q=-q,ge=Ue.length):(ie=Ue,x=$e,ge=st.length),q>(W=Math.max(Math.ceil(be/_e),ge)+2)&&(q=W,ie.length=1),ie.reverse(),W=q;W--;)ie.push(0);ie.reverse()}else{for(($t=(W=st.length)<(ge=Ue.length))&&(ge=W),W=0;W<ge;W++)if(st[W]!=Ue[W]){$t=st[W]<Ue[W];break}q=0}for($t&&(ie=st,st=Ue,Ue=ie,F.s=-F.s),ge=st.length,W=Ue.length-ge;W>0;--W)st[ge++]=0;for(W=Ue.length;W>q;){if(st[--W]<Ue[W]){for(ae=W;ae&&st[--ae]===0;)st[ae]=je-1;--st[ae],st[W]+=je}st[W]-=Ue[W]}for(;st[--ge]===0;)st.pop();for(;st[0]===0;st.shift())--x;return st[0]?(F.d=st,F.e=de(st,x),A?Ne(F,be,Le):F):new D(Le===3?-0:0)},N.modulo=N.mod=function(F){var ie,x=this,W=x.constructor;return F=new W(F),!x.d||!F.s||F.d&&!F.d[0]?new W(NaN):!F.d||x.d&&!x.d[0]?Ne(new W(x),W.precision,W.rounding):(A=!1,W.modulo==9?(ie=fe(x,F.abs(),0,3,1)).s*=F.s:ie=fe(x,F,0,W.modulo,1),ie=ie.times(F),A=!0,x.minus(ie))},N.naturalExponential=N.exp=function(){return nt(this)},N.naturalLogarithm=N.ln=function(){return yt(this)},N.negated=N.neg=function(){var F=new this.constructor(this);return F.s=-F.s,Ne(F)},N.plus=N.add=function(F){var ie,x,W,ae,q,ge,be,Le,st,$e,$t=this,Ue=$t.constructor;if(F=new Ue(F),!$t.d||!F.d)return $t.s&&F.s?$t.d||(F=new Ue(F.d||$t.s===F.s?$t:NaN)):F=new Ue(NaN),F;if($t.s!=F.s)return F.s=-F.s,$t.minus(F);if(st=$t.d,$e=F.d,be=Ue.precision,Le=Ue.rounding,!st[0]||!$e[0])return $e[0]||(F=new Ue($t)),A?Ne(F,be,Le):F;if(q=le($t.e/_e),W=le(F.e/_e),st=st.slice(),ae=q-W){for(ae<0?(x=st,ae=-ae,ge=$e.length):(x=$e,W=q,ge=st.length),ae>(ge=(q=Math.ceil(be/_e))>ge?q+1:ge+1)&&(ae=ge,x.length=1),x.reverse();ae--;)x.push(0);x.reverse()}for((ge=st.length)-(ae=$e.length)<0&&(ae=ge,x=$e,$e=st,st=x),ie=0;ae;)ie=(st[--ae]=st[ae]+$e[ae]+ie)/je|0,st[ae]%=je;for(ie&&(st.unshift(ie),++W),ge=st.length;st[--ge]==0;)st.pop();return F.d=st,F.e=de(st,W),A?Ne(F,be,Le):F},N.precision=N.sd=function(F){var ie,x=this;if(F!==void 0&&F!==!!F&&F!==1&&F!==0)throw Error(ne+F);return x.d?(ie=ze(x.d),F&&x.e+1>ie&&(ie=x.e+1)):ie=NaN,ie},N.round=function(){var F=this,ie=F.constructor;return Ne(new ie(F),F.e+1,ie.rounding)},N.sine=N.sin=function(){var F,ie,x=this,W=x.constructor;return x.isFinite()?x.isZero()?new W(x):(F=W.precision,ie=W.rounding,W.precision=F+Math.max(x.e,x.sd())+_e,W.rounding=1,x=(function(ae,q){var ge,be=q.d.length;if(be<3)return ut(ae,2,q,q);ge=(ge=1.4*Math.sqrt(be))>16?16:0|ge,q=q.times(1/en(5,ge)),q=ut(ae,2,q,q);for(var Le,st=new ae(5),$e=new ae(16),$t=new ae(20);ge--;)Le=q.times(q),q=q.times(st.plus(Le.times($e.times(Le).minus($t))));return q})(W,nn(W,x)),W.precision=F,W.rounding=ie,Ne(f>2?x.neg():x,F,ie,!0)):new W(NaN)},N.squareRoot=N.sqrt=function(){var F,ie,x,W,ae,q,ge=this,be=ge.d,Le=ge.e,st=ge.s,$e=ge.constructor;if(st!==1||!be||!be[0])return new $e(!st||st<0&&(!be||be[0])?NaN:be?ge:1/0);for(A=!1,(st=Math.sqrt(+ge))==0||st==1/0?(((ie=R(be)).length+Le)%2==0&&(ie+="0"),st=Math.sqrt(ie),Le=le((Le+1)/2)-(Le<0||Le%2),W=new $e(ie=st==1/0?"5e"+Le:(ie=st.toExponential()).slice(0,ie.indexOf("e")+1)+Le)):W=new $e(st.toString()),x=(Le=$e.precision)+3;;)if(W=(q=W).plus(fe(ge,q,x+2,1)).times(.5),R(q.d).slice(0,x)===(ie=R(W.d)).slice(0,x)){if((ie=ie.slice(x-3,x+1))!="9999"&&(ae||ie!="4999")){+ie&&(+ie.slice(1)||ie.charAt(0)!="5")||(Ne(W,Le+1,1),F=!W.times(W).eq(ge));break}if(!ae&&(Ne(q,Le+1,0),q.times(q).eq(ge))){W=q;break}x+=4,ae=1}return A=!0,Ne(W,Le,$e.rounding,F)},N.tangent=N.tan=function(){var F,ie,x=this,W=x.constructor;return x.isFinite()?x.isZero()?new W(x):(F=W.precision,ie=W.rounding,W.precision=F+10,W.rounding=1,(x=x.sin()).s=1,x=fe(x,new W(1).minus(x.times(x)).sqrt(),F+10,0),W.precision=F,W.rounding=ie,Ne(f==2||f==4?x.neg():x,F,ie,!0)):new W(NaN)},N.times=N.mul=function(F){var ie,x,W,ae,q,ge,be,Le,st,$e=this,$t=$e.constructor,Ue=$e.d,p=(F=new $t(F)).d;if(F.s*=$e.s,!(Ue&&Ue[0]&&p&&p[0]))return new $t(!F.s||Ue&&!Ue[0]&&!p||p&&!p[0]&&!Ue?NaN:Ue&&p?0*F.s:F.s/0);for(x=le($e.e/_e)+le(F.e/_e),(Le=Ue.length)<(st=p.length)&&(q=Ue,Ue=p,p=q,ge=Le,Le=st,st=ge),q=[],W=ge=Le+st;W--;)q.push(0);for(W=st;--W>=0;){for(ie=0,ae=Le+W;ae>W;)be=q[ae]+p[W]*Ue[ae-W-1]+ie,q[ae--]=be%je|0,ie=be/je|0;q[ae]=(q[ae]+ie)%je|0}for(;!q[--ge];)q.pop();return ie?++x:q.shift(),F.d=q,F.e=de(q,x),A?Ne(F,$t.precision,$t.rounding):F},N.toBinary=function(F,ie){return De(this,2,F,ie)},N.toDecimalPlaces=N.toDP=function(F,ie){var x=this,W=x.constructor;return x=new W(x),F===void 0?x:(B(F,0,y),ie===void 0?ie=W.rounding:B(ie,0,8),Ne(x,F+x.e+1,ie))},N.toExponential=function(F,ie){var x,W=this,ae=W.constructor;return F===void 0?x=qe(W,!0):(B(F,0,y),ie===void 0?ie=ae.rounding:B(ie,0,8),x=qe(W=Ne(new ae(W),F+1,ie),!0,F+1)),W.isNeg()&&!W.isZero()?"-"+x:x},N.toFixed=function(F,ie){var x,W,ae=this,q=ae.constructor;return F===void 0?x=qe(ae):(B(F,0,y),ie===void 0?ie=q.rounding:B(ie,0,8),x=qe(W=Ne(new q(ae),F+ae.e+1,ie),!1,F+W.e+1)),ae.isNeg()&&!ae.isZero()?"-"+x:x},N.toFraction=function(F){var ie,x,W,ae,q,ge,be,Le,st,$e,$t,Ue,p=this,D=p.d,Q=p.constructor;if(!D)return new Q(p);if(st=x=new Q(1),W=Le=new Q(0),ge=(q=(ie=new Q(W)).e=ze(D)-p.e-1)%_e,ie.d[0]=te(10,ge<0?_e+ge:ge),F==null)F=q>0?ie:st;else{if(!(be=new Q(F)).isInt()||be.lt(st))throw Error(ne+be);F=be.gt(ie)?q>0?ie:st:be}for(A=!1,be=new Q(R(D)),$e=Q.precision,Q.precision=q=D.length*_e*2;$t=fe(be,ie,0,1,1),(ae=x.plus($t.times(W))).cmp(F)!=1;)x=W,W=ae,ae=st,st=Le.plus($t.times(ae)),Le=ae,ae=ie,ie=be.minus($t.times(ae)),be=ae;return ae=fe(F.minus(x),W,0,1,1),Le=Le.plus(ae.times(st)),x=x.plus(ae.times(W)),Le.s=st.s=p.s,Ue=fe(st,W,q,1).minus(p).abs().cmp(fe(Le,x,q,1).minus(p).abs())<1?[st,W]:[Le,x],Q.precision=$e,A=!0,Ue},N.toHexadecimal=N.toHex=function(F,ie){return De(this,16,F,ie)},N.toNearest=function(F,ie){var x=this,W=x.constructor;if(x=new W(x),F==null){if(!x.d)return x;F=new W(1),ie=W.rounding}else{if(F=new W(F),ie===void 0?ie=W.rounding:B(ie,0,8),!x.d)return F.s?x:F;if(!F.d)return F.s&&(F.s=x.s),F}return F.d[0]?(A=!1,x=fe(x,F,0,ie,1).times(F),A=!0,Ne(x)):(F.s=x.s,x=F),x},N.toNumber=function(){return+this},N.toOctal=function(F,ie){return De(this,8,F,ie)},N.toPower=N.pow=function(F){var ie,x,W,ae,q,ge,be=this,Le=be.constructor,st=+(F=new Le(F));if(!(be.d&&F.d&&be.d[0]&&F.d[0]))return new Le(te(+be,st));if((be=new Le(be)).eq(1))return be;if(W=Le.precision,q=Le.rounding,F.eq(1))return Ne(be,W,q);if((ie=le(F.e/_e))>=F.d.length-1&&(x=st<0?-st:st)<=9007199254740991)return ae=Ge(Le,be,x,W),F.s<0?new Le(1).div(ae):Ne(ae,W,q);if((ge=be.s)<0){if(ie<F.d.length-1)return new Le(NaN);if((1&F.d[ie])==0&&(ge=1),be.e==0&&be.d[0]==1&&be.d.length==1)return be.s=ge,be}return(ie=(x=te(+be,st))!=0&&isFinite(x)?new Le(x+"").e:le(st*(Math.log("0."+R(be.d))/Math.LN10+be.e+1)))>Le.maxE+1||ie<Le.minE-1?new Le(ie>0?ge/0:0):(A=!1,Le.rounding=be.s=1,x=Math.min(12,(ie+"").length),(ae=nt(F.times(yt(be,W+x)),W)).d&&j((ae=Ne(ae,W+5,1)).d,W,q)&&(ie=W+10,+R((ae=Ne(nt(F.times(yt(be,ie+x)),ie),ie+5,1)).d).slice(W+1,W+15)+1==1e14&&(ae=Ne(ae,W+1,0))),ae.s=ge,A=!0,Le.rounding=q,Ne(ae,W,q))},N.toPrecision=function(F,ie){var x,W=this,ae=W.constructor;return F===void 0?x=qe(W,W.e<=ae.toExpNeg||W.e>=ae.toExpPos):(B(F,1,y),ie===void 0?ie=ae.rounding:B(ie,0,8),x=qe(W=Ne(new ae(W),F,ie),F<=W.e||W.e<=ae.toExpNeg,F)),W.isNeg()&&!W.isZero()?"-"+x:x},N.toSignificantDigits=N.toSD=function(F,ie){var x=this.constructor;return F===void 0?(F=x.precision,ie=x.rounding):(B(F,1,y),ie===void 0?ie=x.rounding:B(ie,0,8)),Ne(new x(this),F,ie)},N.toString=function(){var F=this,ie=F.constructor,x=qe(F,F.e<=ie.toExpNeg||F.e>=ie.toExpPos);return F.isNeg()&&!F.isZero()?"-"+x:x},N.truncated=N.trunc=function(){return Ne(new this.constructor(this),this.e+1,1)},N.valueOf=N.toJSON=function(){var F=this,ie=F.constructor,x=qe(F,F.e<=ie.toExpNeg||F.e>=ie.toExpPos);return F.isNeg()?"-"+x:x};var fe=(function(){function F(W,ae,q){var ge,be=0,Le=W.length;for(W=W.slice();Le--;)ge=W[Le]*ae+be,W[Le]=ge%q|0,be=ge/q|0;return be&&W.unshift(be),W}function ie(W,ae,q,ge){var be,Le;if(q!=ge)Le=q>ge?1:-1;else for(be=Le=0;be<q;be++)if(W[be]!=ae[be]){Le=W[be]>ae[be]?1:-1;break}return Le}function x(W,ae,q,ge){for(var be=0;q--;)W[q]-=be,be=W[q]<ae[q]?1:0,W[q]=be*ge+W[q]-ae[q];for(;!W[0]&&W.length>1;)W.shift()}return function(W,ae,q,ge,be,Le){var st,$e,$t,Ue,p,D,Q,me,He,_t,Gt,bt,un,Yt,fn,Un,Xt,Ke,Pn,er,nr=W.constructor,or=W.s==ae.s?1:-1,Cn=W.d,Hn=ae.d;if(!(Cn&&Cn[0]&&Hn&&Hn[0]))return new nr(W.s&&ae.s&&(Cn?!Hn||Cn[0]!=Hn[0]:Hn)?Cn&&Cn[0]==0||!Hn?0*or:or/0:NaN);for(Le?(p=1,$e=W.e-ae.e):(Le=je,p=_e,$e=le(W.e/p)-le(ae.e/p)),Pn=Hn.length,Xt=Cn.length,_t=(He=new nr(or)).d=[],$t=0;Hn[$t]==(Cn[$t]||0);$t++);if(Hn[$t]>(Cn[$t]||0)&&$e--,q==null?(Yt=q=nr.precision,ge=nr.rounding):Yt=be?q+(W.e-ae.e)+1:q,Yt<0)_t.push(1),D=!0;else{if(Yt=Yt/p+2|0,$t=0,Pn==1){for(Ue=0,Hn=Hn[0],Yt++;($t<Xt||Ue)&&Yt--;$t++)fn=Ue*Le+(Cn[$t]||0),_t[$t]=fn/Hn|0,Ue=fn%Hn|0;D=Ue||$t<Xt}else{for((Ue=Le/(Hn[0]+1)|0)>1&&(Hn=F(Hn,Ue,Le),Cn=F(Cn,Ue,Le),Pn=Hn.length,Xt=Cn.length),Un=Pn,bt=(Gt=Cn.slice(0,Pn)).length;bt<Pn;)Gt[bt++]=0;(er=Hn.slice()).unshift(0),Ke=Hn[0],Hn[1]>=Le/2&&++Ke;do Ue=0,(st=ie(Hn,Gt,Pn,bt))<0?(un=Gt[0],Pn!=bt&&(un=un*Le+(Gt[1]||0)),(Ue=un/Ke|0)>1?(Ue>=Le&&(Ue=Le-1),(st=ie(Q=F(Hn,Ue,Le),Gt,me=Q.length,bt=Gt.length))==1&&(Ue--,x(Q,Pn<me?er:Hn,me,Le))):(Ue==0&&(st=Ue=1),Q=Hn.slice()),(me=Q.length)<bt&&Q.unshift(0),x(Gt,Q,bt,Le),st==-1&&(st=ie(Hn,Gt,Pn,bt=Gt.length))<1&&(Ue++,x(Gt,Pn<bt?er:Hn,bt,Le)),bt=Gt.length):st===0&&(Ue++,Gt=[0]),_t[$t++]=Ue,st&&Gt[0]?Gt[bt++]=Cn[Un]||0:(Gt=[Cn[Un]],bt=1);while((Un++<Xt||Gt[0]!==void 0)&&Yt--);D=Gt[0]!==void 0}_t[0]||_t.shift()}if(p==1)He.e=$e,u=D;else{for($t=1,Ue=_t[0];Ue>=10;Ue/=10)$t++;He.e=$t+$e*p-1,Ne(He,be?q+He.e+1:q,ge,D)}return He}})();function Ne(F,ie,x,W){var ae,q,ge,be,Le,st,$e,$t,Ue,p=F.constructor;e:if(ie!=null){if(!($t=F.d))return F;for(ae=1,be=$t[0];be>=10;be/=10)ae++;if((q=ie-ae)<0)q+=_e,ge=ie,Le=($e=$t[Ue=0])/te(10,ae-ge-1)%10|0;else if((Ue=Math.ceil((q+1)/_e))>=(be=$t.length)){if(!W)break e;for(;be++<=Ue;)$t.push(0);$e=Le=0,ae=1,ge=(q%=_e)-_e+1}else{for($e=be=$t[Ue],ae=1;be>=10;be/=10)ae++;Le=(ge=(q%=_e)-_e+ae)<0?0:$e/te(10,ae-ge-1)%10|0}if(W=W||ie<0||$t[Ue+1]!==void 0||(ge<0?$e:$e%te(10,ae-ge-1)),st=x<4?(Le||W)&&(x==0||x==(F.s<0?3:2)):Le>5||Le==5&&(x==4||W||x==6&&(q>0?ge>0?$e/te(10,ae-ge):0:$t[Ue-1])%10&1||x==(F.s<0?8:7)),ie<1||!$t[0])return $t.length=0,st?(ie-=F.e+1,$t[0]=te(10,(_e-ie%_e)%_e),F.e=-ie||0):$t[0]=F.e=0,F;if(q==0?($t.length=Ue,be=1,Ue--):($t.length=Ue+1,be=te(10,_e-q),$t[Ue]=ge>0?($e/te(10,ae-ge)%te(10,ge)|0)*be:0),st)for(;;){if(Ue==0){for(q=1,ge=$t[0];ge>=10;ge/=10)q++;for(ge=$t[0]+=be,be=1;ge>=10;ge/=10)be++;q!=be&&(F.e++,$t[0]==je&&($t[0]=1));break}if($t[Ue]+=be,$t[Ue]!=je)break;$t[Ue--]=0,be=1}for(q=$t.length;$t[--q]===0;)$t.pop()}return A&&(F.e>p.maxE?(F.d=null,F.e=NaN):F.e<p.minE&&(F.e=0,F.d=[0])),F}function qe(F,ie,x){if(!F.isFinite())return Ut(F);var W,ae=F.e,q=R(F.d),ge=q.length;return ie?(x&&(W=x-ge)>0?q=q.charAt(0)+"."+q.slice(1)+Ft(W):ge>1&&(q=q.charAt(0)+"."+q.slice(1)),q=q+(F.e<0?"e":"e+")+F.e):ae<0?(q="0."+Ft(-ae-1)+q,x&&(W=x-ge)>0&&(q+=Ft(W))):ae>=ge?(q+=Ft(ae+1-ge),x&&(W=x-ae-1)>0&&(q=q+"."+Ft(W))):((W=ae+1)<ge&&(q=q.slice(0,W)+"."+q.slice(W)),x&&(W=x-ge)>0&&(ae+1===ge&&(q+="."),q+=Ft(W))),q}function de(F,ie){var x=F[0];for(ie*=_e;x>=10;x/=10)ie++;return ie}function xe(F,ie,x){if(ie>b)throw A=!0,x&&(F.precision=x),Error(he);return Ne(new F(T),ie,1,!0)}function gt(F,ie,x){if(ie>O)throw Error(he);return Ne(new F(w),ie,x,!0)}function ze(F){var ie=F.length-1,x=ie*_e+1;if(ie=F[ie]){for(;ie%10==0;ie/=10)x--;for(ie=F[0];ie>=10;ie/=10)x++}return x}function Ft(F){for(var ie="";F--;)ie+="0";return ie}function Ge(F,ie,x,W){var ae,q=new F(1),ge=Math.ceil(W/_e+4);for(A=!1;;){if(x%2&&se((q=q.times(ie)).d,ge)&&(ae=!0),(x=le(x/2))===0){x=q.d.length-1,ae&&q.d[x]===0&&++q.d[x];break}se((ie=ie.times(ie)).d,ge)}return A=!0,q}function et(F){return 1&F.d[F.d.length-1]}function Ct(F,ie,x){for(var W,ae=new F(ie[0]),q=0;++q<ie.length;){if(!(W=new F(ie[q])).s){ae=W;break}ae[x](W)&&(ae=W)}return ae}function nt(F,ie){var x,W,ae,q,ge,be,Le,st=0,$e=0,$t=0,Ue=F.constructor,p=Ue.rounding,D=Ue.precision;if(!F.d||!F.d[0]||F.e>17)return new Ue(F.d?F.d[0]?F.s<0?0:1/0:1:F.s?F.s<0?0:F:NaN);for(ie==null?(A=!1,Le=D):Le=ie,be=new Ue(.03125);F.e>-2;)F=F.times(be),$t+=5;for(Le+=W=Math.log(te(2,$t))/Math.LN10*2+5|0,x=q=ge=new Ue(1),Ue.precision=Le;;){if(q=Ne(q.times(F),Le,1),x=x.times(++$e),R((be=ge.plus(fe(q,x,Le,1))).d).slice(0,Le)===R(ge.d).slice(0,Le)){for(ae=$t;ae--;)ge=Ne(ge.times(ge),Le,1);if(ie!=null)return Ue.precision=D,ge;if(!(st<3&&j(ge.d,Le-W,p,st)))return Ne(ge,Ue.precision=D,p,A=!0);Ue.precision=Le+=10,x=q=be=new Ue(1),$e=0,st++}ge=be}}function yt(F,ie){var x,W,ae,q,ge,be,Le,st,$e,$t,Ue,p=1,D=F,Q=D.d,me=D.constructor,He=me.rounding,_t=me.precision;if(D.s<0||!Q||!Q[0]||!D.e&&Q[0]==1&&Q.length==1)return new me(Q&&!Q[0]?-1/0:D.s!=1?NaN:Q?0:D);if(ie==null?(A=!1,$e=_t):$e=ie,me.precision=$e+=10,W=(x=R(Q)).charAt(0),!(Math.abs(q=D.e)<15e14))return st=xe(me,$e+2,_t).times(q+""),D=yt(new me(W+"."+x.slice(1)),$e-10).plus(st),me.precision=_t,ie==null?Ne(D,_t,He,A=!0):D;for(;W<7&&W!=1||W==1&&x.charAt(1)>3;)W=(x=R((D=D.times(F)).d)).charAt(0),p++;for(q=D.e,W>1?(D=new me("0."+x),q++):D=new me(W+"."+x.slice(1)),$t=D,Le=ge=D=fe(D.minus(1),D.plus(1),$e,1),Ue=Ne(D.times(D),$e,1),ae=3;;){if(ge=Ne(ge.times(Ue),$e,1),R((st=Le.plus(fe(ge,new me(ae),$e,1))).d).slice(0,$e)===R(Le.d).slice(0,$e)){if(Le=Le.times(2),q!==0&&(Le=Le.plus(xe(me,$e+2,_t).times(q+""))),Le=fe(Le,new me(p),$e,1),ie!=null)return me.precision=_t,Le;if(!j(Le.d,$e-10,He,be))return Ne(Le,me.precision=_t,He,A=!0);me.precision=$e+=10,st=ge=D=fe($t.minus(1),$t.plus(1),$e,1),Ue=Ne(D.times(D),$e,1),ae=be=1}Le=st,ae+=2}}function Ut(F){return String(F.s*F.s/0)}function Ht(F,ie){var x,W,ae;for((x=ie.indexOf("."))>-1&&(ie=ie.replace(".","")),(W=ie.search(/e/i))>0?(x<0&&(x=W),x+=+ie.slice(W+1),ie=ie.substring(0,W)):x<0&&(x=ie.length),W=0;ie.charCodeAt(W)===48;W++);for(ae=ie.length;ie.charCodeAt(ae-1)===48;--ae);if(ie=ie.slice(W,ae)){if(ae-=W,F.e=x=x-W-1,F.d=[],W=(x+1)%_e,x<0&&(W+=_e),W<ae){for(W&&F.d.push(+ie.slice(0,W)),ae-=_e;W<ae;)F.d.push(+ie.slice(W,W+=_e));ie=ie.slice(W),W=_e-ie.length}else W-=ae;for(;W--;)ie+="0";F.d.push(+ie),A&&(F.e>F.constructor.maxE?(F.d=null,F.e=NaN):F.e<F.constructor.minE&&(F.e=0,F.d=[0]))}else F.e=0,F.d=[0];return F}function Me(F,ie){var x,W,ae,q,ge,be,Le,st,$e;if(ie==="Infinity"||ie==="NaN")return+ie||(F.s=NaN),F.e=NaN,F.d=null,F;if(Oe.test(ie))x=16,ie=ie.toLowerCase();else if(Ce.test(ie))x=2;else{if(!ce.test(ie))throw Error(ne+ie);x=8}for((q=ie.search(/p/i))>0?(Le=+ie.slice(q+1),ie=ie.substring(2,q)):ie=ie.slice(2),ge=(q=ie.indexOf("."))>=0,W=F.constructor,ge&&(q=(be=(ie=ie.replace(".","")).length)-q,ae=Ge(W,new W(x),q,2*q)),q=$e=(st=J(ie,x,je)).length-1;st[q]===0;--q)st.pop();return q<0?new W(0*F.s):(F.e=de(st,$e),F.d=st,A=!1,ge&&(F=fe(F,ae,4*be)),Le&&(F=F.times(Math.abs(Le)<54?te(2,Le):i.pow(2,Le))),A=!0,F)}function ut(F,ie,x,W,ae){var q,ge,be,Le,st=F.precision,$e=Math.ceil(st/_e);for(A=!1,Le=x.times(x),be=new F(W);;){if(ge=fe(be.times(Le),new F(ie++*ie++),st,1),be=ae?W.plus(ge):W.minus(ge),W=fe(ge.times(Le),new F(ie++*ie++),st,1),(ge=be.plus(W)).d[$e]!==void 0){for(q=$e;ge.d[q]===be.d[q]&&q--;);if(q==-1)break}q=be,be=W,W=ge,ge=q}return A=!0,ge.d.length=$e+1,ge}function en(F,ie){for(var x=F;--ie;)x*=F;return x}function nn(F,ie){var x,W=ie.s<0,ae=gt(F,F.precision,1),q=ae.times(.5);if((ie=ie.abs()).lte(q))return f=W?4:1,ie;if((x=ie.divToInt(ae)).isZero())f=W?3:2;else{if((ie=ie.minus(x.times(ae))).lte(q))return f=et(x)?W?2:3:W?4:1,ie;f=et(x)?W?1:4:W?3:2}return ie.minus(ae).abs()}function De(F,ie,x,W){var ae,q,ge,be,Le,st,$e,$t,Ue,p=F.constructor,D=x!==void 0;if(D?(B(x,1,y),W===void 0?W=p.rounding:B(W,0,8)):(x=p.precision,W=p.rounding),F.isFinite()){for(D?(ae=2,ie==16?x=4*x-3:ie==8&&(x=3*x-2)):ae=ie,(ge=($e=qe(F)).indexOf("."))>=0&&($e=$e.replace(".",""),(Ue=new p(1)).e=$e.length-ge,Ue.d=J(qe(Ue),10,ae),Ue.e=Ue.d.length),q=Le=($t=J($e,10,ae)).length;$t[--Le]==0;)$t.pop();if($t[0]){if(ge<0?q--:((F=new p(F)).d=$t,F.e=q,$t=(F=fe(F,Ue,x,W,0,ae)).d,q=F.e,st=u),ge=$t[x],be=ae/2,st=st||$t[x+1]!==void 0,st=W<4?(ge!==void 0||st)&&(W===0||W===(F.s<0?3:2)):ge>be||ge===be&&(W===4||st||W===6&&1&$t[x-1]||W===(F.s<0?8:7)),$t.length=x,st)for(;++$t[--x]>ae-1;)$t[x]=0,x||(++q,$t.unshift(1));for(Le=$t.length;!$t[Le-1];--Le);for(ge=0,$e="";ge<Le;ge++)$e+=$.charAt($t[ge]);if(D){if(Le>1)if(ie==16||ie==8){for(ge=ie==16?4:3,--Le;Le%ge;Le++)$e+="0";for(Le=($t=J($e,ae,ie)).length;!$t[Le-1];--Le);for(ge=1,$e="1.";ge<Le;ge++)$e+=$.charAt($t[ge])}else $e=$e.charAt(0)+"."+$e.slice(1);$e=$e+(q<0?"p":"p+")+q}else if(q<0){for(;++q;)$e="0"+$e;$e="0."+$e}else if(++q>Le)for(q-=Le;q--;)$e+="0";else q<Le&&($e=$e.slice(0,q)+"."+$e.slice(q))}else $e=D?"0p+0":"0";$e=(ie==16?"0x":ie==2?"0b":ie==8?"0o":"")+$e}else $e=Ut(F);return F.s<0?"-"+$e:$e}function se(F,ie){if(F.length>ie)return F.length=ie,!0}function Ae(F){return new this(F).abs()}function lt(F){return new this(F).acos()}function Qe(F){return new this(F).acosh()}function Tt(F,ie){return new this(F).plus(ie)}function Et(F){return new this(F).asin()}function Vt(F){return new this(F).asinh()}function rt(F){return new this(F).atan()}function P(F){return new this(F).atanh()}function Re(F,ie){F=new this(F),ie=new this(ie);var x,W=this.precision,ae=this.rounding,q=W+4;return F.s&&ie.s?F.d||ie.d?!ie.d||F.isZero()?(x=ie.s<0?gt(this,W,ae):new this(0)).s=F.s:!F.d||ie.isZero()?(x=gt(this,q,1).times(.5)).s=F.s:ie.s<0?(this.precision=q,this.rounding=1,x=this.atan(fe(F,ie,q,1)),ie=gt(this,q,1),this.precision=W,this.rounding=ae,x=F.s<0?x.minus(ie):x.plus(ie)):x=this.atan(fe(F,ie,q,1)):(x=gt(this,q,1).times(ie.s>0?.25:.75)).s=F.s:x=new this(NaN),x}function ke(F){return new this(F).cbrt()}function ht(F){return Ne(F=new this(F),F.e+1,2)}function Mt(F){if(!F||typeof F!="object")throw Error(K+"Object expected");var ie,x,W,ae=F.defaults===!0,q=["precision",1,y,"rounding",0,8,"toExpNeg",-g,0,"toExpPos",0,g,"maxE",0,g,"minE",-g,0,"modulo",0,9];for(ie=0;ie<q.length;ie+=3)if(x=q[ie],ae&&(this[x]=I[x]),(W=F[x])!==void 0){if(!(le(W)===W&&W>=q[ie+1]&&W<=q[ie+2]))throw Error(ne+x+": "+W);this[x]=W}if(x="crypto",ae&&(this[x]=I[x]),(W=F[x])!==void 0){if(W!==!0&&W!==!1&&W!==0&&W!==1)throw Error(ne+x+": "+W);if(W){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(V);this[x]=!0}else this[x]=!1}return this}function Ot(F){return new this(F).cos()}function wt(F){return new this(F).cosh()}function ft(F,ie){return new this(F).div(ie)}function Y(F){return new this(F).exp()}function Ee(F){return Ne(F=new this(F),F.e+1,3)}function Je(){var F,ie,x=new this(0);for(A=!1,F=0;F<arguments.length;)if((ie=new this(arguments[F++])).d)x.d&&(x=x.plus(ie.times(ie)));else{if(ie.s)return A=!0,new this(1/0);x=ie}return A=!0,x.sqrt()}function Fe(F){return F instanceof i||F&&F.name==="[object Decimal]"||!1}function Lt(F){return new this(F).ln()}function Bt(F,ie){return new this(F).log(ie)}function zt(F){return new this(F).log(2)}function ve(F){return new this(F).log(10)}function Ye(){return Ct(this,arguments,"lt")}function X(){return Ct(this,arguments,"gt")}function we(F,ie){return new this(F).mod(ie)}function tt(F,ie){return new this(F).mul(ie)}function St(F,ie){return new this(F).pow(ie)}function Zt(F){var ie,x,W,ae,q=0,ge=new this(1),be=[];if(F===void 0?F=this.precision:B(F,1,y),W=Math.ceil(F/_e),this.crypto)if(crypto.getRandomValues)for(ie=crypto.getRandomValues(new Uint32Array(W));q<W;)(ae=ie[q])>=429e7?ie[q]=crypto.getRandomValues(new Uint32Array(1))[0]:be[q++]=ae%1e7;else{if(!crypto.randomBytes)throw Error(V);for(ie=crypto.randomBytes(W*=4);q<W;)(ae=ie[q]+(ie[q+1]<<8)+(ie[q+2]<<16)+((127&ie[q+3])<<24))>=214e7?crypto.randomBytes(4).copy(ie,q):(be.push(ae%1e7),q+=4);q=W/4}else for(;q<W;)be[q++]=1e7*Math.random()|0;for(W=be[--q],F%=_e,W&&F&&(ae=te(10,_e-F),be[q]=(W/ae|0)*ae);be[q]===0;q--)be.pop();if(q<0)x=0,be=[0];else{for(x=-1;be[0]===0;x-=_e)be.shift();for(W=1,ae=be[0];ae>=10;ae/=10)W++;W<_e&&(x-=_e-W)}return ge.e=x,ge.d=be,ge}function $n(F){return Ne(F=new this(F),F.e+1,this.rounding)}function pn(F){return(F=new this(F)).d?F.d[0]?F.s:0*F.s:F.s||NaN}function sr(F){return new this(F).sin()}function wr(F){return new this(F).sinh()}function jn(F){return new this(F).sqrt()}function En(F,ie){return new this(F).sub(ie)}function re(F){return new this(F).tan()}function Te(F){return new this(F).tanh()}function gn(F){return Ne(F=new this(F),F.e+1,1)}return(i=(function F(ie){var x,W,ae;function q(ge){var be,Le,st,$e=this;if(!($e instanceof q))return new q(ge);if($e.constructor=q,ge instanceof q)return $e.s=ge.s,void(A?!ge.d||ge.e>q.maxE?($e.e=NaN,$e.d=null):ge.e<q.minE?($e.e=0,$e.d=[0]):($e.e=ge.e,$e.d=ge.d.slice()):($e.e=ge.e,$e.d=ge.d?ge.d.slice():ge.d));if((st=typeof ge)=="number"){if(ge===0)return $e.s=1/ge<0?-1:1,$e.e=0,void($e.d=[0]);if(ge<0?(ge=-ge,$e.s=-1):$e.s=1,ge===~~ge&&ge<1e7){for(be=0,Le=ge;Le>=10;Le/=10)be++;return void(A?be>q.maxE?($e.e=NaN,$e.d=null):be<q.minE?($e.e=0,$e.d=[0]):($e.e=be,$e.d=[ge]):($e.e=be,$e.d=[ge]))}return 0*ge!=0?(ge||($e.s=NaN),$e.e=NaN,void($e.d=null)):Ht($e,ge.toString())}if(st!=="string")throw Error(ne+ge);return(Le=ge.charCodeAt(0))===45?(ge=ge.slice(1),$e.s=-1):(Le===43&&(ge=ge.slice(1)),$e.s=1),Be.test(ge)?Ht($e,ge):Me($e,ge)}if(q.prototype=N,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=Mt,q.clone=F,q.isDecimal=Fe,q.abs=Ae,q.acos=lt,q.acosh=Qe,q.add=Tt,q.asin=Et,q.asinh=Vt,q.atan=rt,q.atanh=P,q.atan2=Re,q.cbrt=ke,q.ceil=ht,q.cos=Ot,q.cosh=wt,q.div=ft,q.exp=Y,q.floor=Ee,q.hypot=Je,q.ln=Lt,q.log=Bt,q.log10=ve,q.log2=zt,q.max=Ye,q.min=X,q.mod=we,q.mul=tt,q.pow=St,q.random=Zt,q.round=$n,q.sign=pn,q.sin=sr,q.sinh=wr,q.sqrt=jn,q.sub=En,q.tan=re,q.tanh=Te,q.trunc=gn,ie===void 0&&(ie={}),ie&&ie.defaults!==!0)for(ae=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],x=0;x<ae.length;)ie.hasOwnProperty(W=ae[x++])||(ie[W]=this[W]);return q.config(ie),q})(I)).default=i.Decimal=i,T=new i(T),w=new i(w),t.exports?(typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(N[Symbol.for("nodejs.util.inspect.custom")]=N.toString,N[Symbol.toStringTag]="Decimal"),t.exports=i):(r||(r=typeof self<"u"&&self&&self.self==self?self:window),h=r.Decimal,i.noConflict=function(){return r.Decimal=h,i},r.Decimal=i),i})(rA)});t.exports=s})(Z8)),Z8.exports}var iA=r4();const b9=Pl(iA);function sA({levelData:t,onUpdate:s}){const r=t.equation||{a:2,b:4,c:0,d:10,sign:"=",implicit:!1,showGraph:!1},[i,u]=br.useState(!1),[h,f]=br.useState("");br.useEffect(()=>{(!t.allowedBlocks||t.allowedBlocks.length===0)&&g({...r},!0);const w=`${r.a}*x + ${r.b} ${r.sign} ${r.c}*x + ${r.d}`;f(w)},[]);const g=(w,I=!1)=>{const A=w.manualLhs||`${w.a}*x + ${w.b}`,K=w.manualRhs||`${w.c}*x + ${w.d}`,ne={...t,equation:{...w,lhs:A,rhs:K,sign:w.sign}};I&&(ne.allowedBlocks=["equation_op_both","equation_term_x","equation_verify","equation_solution_state","math_number"]),s(ne)},y=w=>{const I={...r,...w,manualLhs:null,manualRhs:null};g(I),f(`${I.a}*x + ${I.b} ${I.sign} ${I.c}*x + ${I.d}`)},$=()=>{const w=Math.floor(Math.random()*10)-5,I=Math.floor(Math.random()*5)+2,A=Math.floor(Math.random()*I),K=Math.floor(Math.random()*10),ne=I*w+K-A*w,he=["=","<",">","\\leq","\\geq"],V=he[Math.floor(Math.random()*he.length)];y({a:I,b:K,c:A,d:ne,sign:V})},T=w=>{const I=w.target.value;f(I);const A=I.match(/(.*?)(<=|>=|<|>|=)(.*)/);if(A)try{const K=A[1].trim(),ne=A[2].trim(),he=A[3].trim();let V=ne;ne==="<="&&(V="\\leq"),ne===">="&&(V="\\geq"),b9(K),b9(he),g({...r,manualLhs:K,manualRhs:he,sign:V})}catch{}};return mt.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[mt.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 pb-4",children:[mt.jsx("h3",{className:"text-sm font-bold text-slate-700 flex items-center gap-2 uppercase tracking-wider",children:" Gnrateur"}),mt.jsxs("div",{className:"flex gap-2",children:[mt.jsxs("button",{onClick:$,className:"text-xs bg-purple-100 text-purple-700 px-3 py-1.5 rounded-lg font-bold hover:bg-purple-200 transition-colors flex items-center gap-1",children:[mt.jsx("span",{children:""})," Alatoire"]}),mt.jsx("button",{onClick:()=>u(!i),className:`text-xs px-3 py-1.5 rounded-lg font-bold transition-colors ${i?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:i?"Mode Sliders":"Mode Texte"})]})]}),i?mt.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-300",children:[mt.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase",children:"quation Libre"}),mt.jsx("input",{type:"text",value:h,onChange:T,className:"w-full p-3 font-mono text-lg border-2 border-slate-200 rounded-xl focus:border-blue-500 outline-none text-center text-slate-700",placeholder:"3*x + 5 <= 2*x - 1"})]}):mt.jsxs("div",{className:"space-y-5 animate-in fade-in slide-in-from-top-2 duration-300",children:[["a","b","c","d"].map(w=>mt.jsxs("div",{className:"flex items-center gap-4 group",children:[mt.jsx("label",{className:"w-4 text-xs font-bold text-slate-400 uppercase",children:w}),mt.jsx("input",{type:"range",min:"-20",max:"20",step:"1",value:r[w],onChange:I=>y({[w]:parseInt(I.target.value)}),className:"flex-1 h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-500 group-hover:accent-blue-400"}),mt.jsx("span",{className:"w-8 text-right font-mono font-bold text-slate-700",children:r[w]})]},w)),mt.jsxs("div",{className:"flex items-center gap-4 bg-slate-100 p-2 rounded-lg",children:[mt.jsx("label",{className:"w-16 text-xs font-bold text-slate-500 uppercase",children:"Signe :"}),mt.jsx("div",{className:"flex gap-2 flex-1 justify-center",children:["=","<",">","\\leq","\\geq"].map(w=>mt.jsx("button",{onClick:()=>y({sign:w}),className:`w-10 h-10 flex items-center justify-center rounded font-bold text-lg font-mono transition-all ${r.sign===w?"bg-white shadow text-blue-600 ring-2 ring-blue-200":"text-slate-400 hover:bg-white hover:text-slate-600"}`,children:w==="\\leq"?"":w==="\\geq"?"":w},w))})]})]}),mt.jsx("div",{className:"space-y-3 border-t border-slate-100 pt-4",children:mt.jsxs("div",{className:"flex justify-between gap-2",children:[mt.jsxs("label",{className:"flex-1 flex items-center gap-2 cursor-pointer bg-slate-50 px-3 py-2 rounded-lg border border-slate-100 hover:bg-slate-100 transition-colors",children:[mt.jsx("input",{type:"checkbox",checked:r.implicit||!1,onChange:w=>y({implicit:w.target.checked}),className:"w-4 h-4 text-blue-600 rounded"}),mt.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Implicit (2x)"})]}),mt.jsxs("label",{className:"flex-1 flex items-center gap-2 cursor-pointer bg-slate-50 px-3 py-2 rounded-lg border border-slate-100 hover:bg-slate-100 transition-colors",children:[mt.jsx("input",{type:"checkbox",checked:r.showGraph||!1,onChange:w=>y({showGraph:w.target.checked}),className:"w-4 h-4 text-emerald-600 rounded"}),mt.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Graphique"})]})]})})]})}var Q8={exports:{}},oA=Q8.exports,Cb;function x7(){return Cb||(Cb=1,(function(t,s){(function(r,i){t.exports=i()})(oA,function(){var r={},i,u,h,f,g,y,$,T,w,I,A,K,ne,he,V,le,te,Ce,Oe,ce,Be,je,_e,b,O,N,R,B,j,J,fe,Ne,qe,de,xe,gt,ze,Ft,Ge,et,Ct,nt,yt,Ut,Ht,Me,ut,en,nn,De,se,Ae,lt,Qe,Tt,Et,Vt,rt,P,Re,ke,ht,Mt,Ot,wt,ft,Y,Ee,Je,Fe,Lt,Bt,zt,ve,Ye,X,we,tt,St,Zt,$n,pn,sr,wr,jn,En,re,Te,gn,F,ie,x,W,ae,q,ge,be,Le,st,$e,$t,Ue,p,D,Q,me,He,_t,Gt,bt,un,Yt,fn,Un,Xt,Ke,Pn,er,nr,or,Cn,Hn,mr,Er,ei,hr,v,H,ue,Se,Xe,pt,dt,Ze,tn,an,ln,k,z,We,it,Nt,Dt,cn,Sn,hn,bn,zn,xn,Ir,qn,mn,dr,kr,yr,fr,vr,lr,_r,Dn,Mr,cr,Tr,Kr,Vn,Fr,Zr,ss,go,Wi,Bs,yi,ks,oo,Qo,es,Bi,c0,Ps,nl,vo,e0,rl,Uo,ai,Fu,ga,ru,Dc,zl,Hl,j1,Vl,iu,va,Bc,Gl,il,Pc,Fc,Uu,su,ou,$a,sl,lu,zu,I0,L,ee,ct,It,Wt,sn,_n,Ln,Zn,tr,Sr,Fn,Wr,zr,jr,Qr,fi,Si,ar,Ur,_i,ri,Ii,Ui,Ri,Pi,Li,Zi,xi,ps,Fs,Ys,Qi,lo,Oo,Ks,$i,Ns,xt,ts,xs,O0,So,Ro,$o,Is,ii,bo,os,Lo,xl,ol,ql,y0,Uc,ll,R0,zc,zo,Hc,al,y4,ba,Wl,Hu,ya,jl,au,_0,uu,ul,Vc,_a,Ho,h0,Cl,f0,w0,t0,Gc,qc,cl,Wc,Cs,_s,ki,Xl,ao,Ml,kl,uh,ch,cu,Al,X1,hu,jc,wa,hl,Yl,fl,fu,T0,Kl,Vu,E0,yo,Gu,qu,Xc,Y1,hh,As,Yc,Jl,Zl,K1,du,Ta,J1,Hr,S0,xo,ls,L0,S,_,C,G,pe,Ie,ot,kt,Pt,Jt,vn,wn,Rn,ir,Nr,Br,wi,ui,di,zi,Oi,ms,Us,Os,zs,Ti,ji,Xi,as,Hi,ws,Do,Ea,Wu,Kc,Z1,Ql,x0,D0,Sa,_4,w4,pu,d0,uo,fh,dl,vi,gs,to,Jc,mu,xa,Q1,e2,ju,T4,Hs,E4,t2,x6,S4,V7,Ca,dh,Zc,n0,no,Qc,e1,n2,ph,ea,r2,mh,gh,x4,C4,C6,M6,k6,A6,M4,N6,G7,I6,O6,k4,vh,A4,N4,I4,O4,R4,L4,i2,Xu,R6,s2,o2,D4,$h,L6,B4,P4,F4,U4,z4,H4,D6,V4,G4,B6,P6,q7,In;i=function(e,o,a,d){if(!(e instanceof Yn)&&typeof e!="string"||`${e}`.trim()==="")throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=`${e}`.toLowerCase(),typeof o!="string"||o.trim()==="")throw Error('Invalid name "'+o+'". The name must be a non-empty string.');const M=o.toLowerCase();if(!a)throw Error("Can not register a null value");let oe=gu[e],at=l2[e];if(oe||(oe=gu[e]=Object.create(null),at=l2[e]=Object.create(null)),u(e,a),!d&&oe[M]&&oe[M]!==a)throw Error('Name "'+M+'" with type "'+e+'" already registered.');oe[M]=a,at[M]=o},u=function(e,o){switch(e){case String(Yn.FIELD):if(typeof o.fromJson!="function")throw Error('Type "'+e+'" must have a fromJson function')}},h=function(e,o){e=`${e}`.toLowerCase(),o=o.toLowerCase();const a=gu[e];a&&a[o]?(delete gu[e][o],delete l2[e][o]):console.warn("Unable to unregister ["+o+"]["+e+"] from the registry.")},f=function(e,o,a){e=`${e}`.toLowerCase(),o=o.toLowerCase();const d=gu[e];if(!d||!d[o]){if(o="Unable to find ["+o+"]["+e+"] in the registry.",a)throw Error(o+" You must require or register a "+e+" plugin.");return console.warn(o),null}return d[o]},g=function(e,o){return e=`${e}`.toLowerCase(),o=o.toLowerCase(),(e=gu[e])?!!e[o]:!1},y=function(e,o,a){return f(e,o,a)},$=function(e,o,a){return f(e,o,a)},T=function(e,o,a){e=`${e}`.toLowerCase();var d=gu[e];if(!d){if(d=`Unable to find [${e}] in the registry.`,a)throw Error(`${d} You must require or register a ${e} plugin.`);return console.warn(d),null}if(!o)return d;e=l2[e],a=Object.create(null);for(const M of Object.keys(d))a[e[M]]=d[M];return a},w=function(e,o,a){return o=o.plugins[String(e)]||B0,typeof o=="function"?o:y(e,o,a)},I=function(e,o){A(),bh=setTimeout(function(){o&&o.handleRightClick(e)},j7)},A=function(){bh&&(clearTimeout(bh),bh=0)},K=function(){u2=null},ne=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&V(e)},he=function(e){return`${e.pointerId}`},V=function(e){const o=he(e);return u2?u2===o:e.type==="pointerdown"?(u2=o,!0):!1},le=function(e,o,a,d,M){function oe(qt){(M||ne(qt))&&(a?d.call(a,qt):d(qt))}const at=[];if(o in Ma)for(let qt=0;qt<Ma[o].length;qt++){const Wn=Ma[o][qt];e.addEventListener(Wn,oe,!1),at.push([e,Wn,oe])}else e.addEventListener(o,oe,!1),at.push([e,o,oe]);return at},te=function(e,o,a,d){function M(at){a?d.call(a,at):d(at)}const oe=[];if(o in Ma)for(let at=0;at<Ma[o].length;at++){const qt=Ma[o][at];e.addEventListener(qt,M,!1),oe.push([e,qt,M])}else e.addEventListener(o,M,!1),oe.push([e,o,M]);return oe},Ce=function(e){const o=e[e.length-1][2];for(;e.length;){const[a,d,M]=e.pop();a.removeEventListener(d,M,!1)}return o},Oe=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||e.target.getAttribute("data-is-text-input")==="true")return!0;if(e.target instanceof HTMLInputElement)return e=e.target,e.type==="text"||e.type==="number"||e.type==="email"||e.type==="password"||e.type==="search"||e.type==="tel"||e.type==="url";if(e.target instanceof HTMLTextAreaElement)return!0}return!1},ce=function(e){return e.ctrlKey&&X4?!0:e.button===2},Be=function(e,o,a){const d=o.createSVGPoint();return d.x=e.clientX,d.y=e.clientY,a||(a=o.getScreenCTM().inverse()),d.matrixTransform(a)},je=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*_o,y:e.deltaY*_o};case 2:return{x:e.deltaX*Vo,y:e.deltaY*Vo}}},_e=function(){return"blockly-"+(K7++).toString(36)},b=function(){return d2.genUid()},O=function(e){return e.type===Mn.BLOCK_CREATE},N=function(e){return e.type===Mn.BLOCK_DELETE},R=function(e){return e.type===Mn.BLOCK_CHANGE},B=function(e){return e.type===Mn.BLOCK_FIELD_INTERMEDIATE_CHANGE},j=function(e){return e.type===Mn.BLOCK_MOVE},J=function(e){return e.type===Mn.CLICK},fe=function(e){return e.type===Mn.BUBBLE_OPEN},Ne=function(e){return e.type===Mn.VIEWPORT_CHANGE},r.setRecordUndo$$module$build$src$core$events$utils=function(e){_h=e},qe=function(){return _h},de=function(e){Y6.fireInternal(e)},xe=function(e){if(et()){if(!Aa.length)try{requestAnimationFrame(()=>{setTimeout(gt,0)})}catch{setTimeout(gt,0)}ze(e)}},gt=function(){const e=Ft(Aa);Aa.length=0;for(const o of e){if(!o.workspaceId)continue;let a;(a=Mt(o.workspaceId))==null||a.fireChangeListener(o)}},ze=function(e){if(R(e)&&e.element==="mutation"){let o;for(o=Aa.length;o>0;o--){const a=Aa[o-1];if(a.group!==e.group||a.workspaceId!==e.workspaceId||!j(a)||a.newParentId!==e.blockId)break}Aa.splice(o,0,e)}else Aa.push(e)},Ft=function(e){const o=[];for(const a of e)if(e=o[o.length-1],!a.isNull())if(e&&e.workspaceId===a.workspaceId&&e.group===a.group)if(j(a)&&j(e)&&a.blockId===e.blockId){if(e.newParentId=a.newParentId,e.newInputName=a.newInputName,e.newCoordinate=a.newCoordinate,e.reason||a.reason){let d,M;e.reason=Array.from(new Set(((d=e.reason)!=null?d:[]).concat((M=a.reason)!=null?M:[])))}}else R(a)&&R(e)&&a.blockId===e.blockId&&a.element===e.element&&a.name===e.name?e.newValue=a.newValue:Ne(a)&&Ne(e)?(e.viewTop=a.viewTop,e.viewLeft=a.viewLeft,e.scale=a.scale,e.oldScale=a.oldScale):J(a)&&fe(e)||o.push(a);else o.push(a);return e=o.filter(a=>!a.isNull())},Ge=function(){for(let e=0,o;o=Aa[e];e++)o.recordUndo=!1},r.disable$$module$build$src$core$events$utils=function(){m2++},r.enable$$module$build$src$core$events$utils=function(){m2--},et=function(){return m2===0},r.getGroup$$module$build$src$core$events$utils=function(){return X6},r.setGroup$$module$build$src$core$events$utils=function(e){Y6.setGroupInternal(e)},Ct=function(e){X6=typeof e=="boolean"?e?b():"":e},nt=function(e){const o=[];e=e.getDescendants(!1);for(let a=0,d;d=e[a];a++)o[a]=d.id;return o},yt=function(e,o){const a=Ut(e.type);if(!a)throw Error("Unknown event type.");return a.fromJson(e,o)},Ut=function(e){const o=y(Yn.EVENT,e);if(!o)throw Error(`Event type ${e} not found in registry.`);return o},Ht=function(e){if((j(e)||O(e))&&e.workspaceId){var o=Mt(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=o.getBlockById(e.blockId)){const a=_h;try{_h=!1;const d=e.getParent();if(d&&!d.hasDisabledReason(wh)){const M=e.getDescendants(!1);for(let oe=0,at;at=M[oe];oe++)at.setDisabledReason(!1,wh)}else if((e.outputConnection||e.previousConnection)&&!o.isDragging())do e.setDisabledReason(!0,wh),e=e.getNextBlock();while(e)}finally{_h=a}}}},Me=function(e,o,a){e=document.createElementNS(g2,`${e}`);for(const d in o)e.setAttribute(d,`${o[d]}`);return a&&a.appendChild(e),e},ut=function(e,o){return o=o.split(" "),o.every(a=>e.classList.contains(a))?!1:(e.classList.add(...o),!0)},en=function(e,o){e.classList.remove(...o.split(" "))},nn=function(e,o){return o=o.split(" "),o.every(a=>!e.classList.contains(a))?!1:(e.classList.remove(...o),!0)},De=function(e,o){return e.classList.contains(o)},se=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},Ae=function(e,o){const a=o.nextSibling;if(o=o.parentNode,!o)throw Error("Reference node has no parent.");a?o.insertBefore(e,a):o.appendChild(e)},lt=function(e,o){e.style.transform=o,e.style["-webkit-transform"]=o},Qe=function(){Th++,Nl||(Nl=Object.create(null))},Tt=function(){Th--,Th||(Nl=null)},Et=function(e){const o=e.textContent+`
`+e.className.baseVal;var a;return Nl&&(a=Nl[o])||(a=window.getComputedStyle(e),a=rt(e,a.fontSize,a.fontWeight,a.fontFamily),Nl&&(Nl[o]=a)),a},Vt=function(e,o,a,d){return rt(e,o+"pt",a,d)},rt=function(e,o,a,d){const M=e.textContent;e=M+`
`+e.className.baseVal;var oe;return Nl&&(oe=Nl[e])||(Ju||(oe=document.createElement("canvas"),oe.className="blocklyComputeCanvas",document.body.appendChild(oe),Ju=oe.getContext("2d")),M&&Ju?(Ju.font=a+" "+o+" "+d,oe=Ju.measureText(M).width):oe=0,Nl&&(Nl[e]=oe)),oe},P=function(e,o,a,d){const M=document.createElement("span");M.style.font=a+" "+o+" "+d,M.textContent=e,e=document.createElement("div"),e.style.width="1px",e.style.height="0",o=document.createElement("div"),o.style.display="flex",o.style.position="fixed",o.style.top="0",o.style.left="0",o.appendChild(M),o.appendChild(e),document.body.appendChild(o),a={height:0,baseline:0};try{o.style.alignItems="baseline",a.baseline=e.offsetTop-M.offsetTop,o.style.alignItems="flex-end",a.height=e.offsetTop-M.offsetTop}finally{document.body.removeChild(o)}return a},r.getFocusManager$$module$build$src$core$focus_manager=function(){return Go.getFocusManager()},Re=function(e){return e&&typeof e.getFocusableElement=="function"&&typeof e.getFocusableTree=="function"&&typeof e.onNodeFocus=="function"&&typeof e.onNodeBlur=="function"&&typeof e.canBeFocused=="function"},ke=function(e){return Re(e)&&typeof e.id=="string"&&typeof e.workspace=="object"&&typeof e.select=="function"&&typeof e.unselect=="function"},ht=function(e,o){for(const a in o)o[a]!==null&&Array.isArray(o[a])?e[a]=ht(e[a]||[],o[a]):e[a]=o[a]!==null&&typeof o[a]=="object"?ht(e[a]||Object.create(null),o[a]):o[a];return e},Mt=function(e){return Eh[e]||null},Ot=function(){const e=[];for(const o in Eh)e.push(Eh[o]);return e},wt=function(e){Eh[e.id]=e},ft=function(e){delete Eh[e.id]},Y=function(){return J6},Ee=function(e){J6=e},Je=function(){const e=r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();return e&&ke(e)?e:null},Fe=function(e){r.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)},Lt=function(e){const o=Je();let a,d,M,oe;const at=new(Ut(Mn.SELECTED))((a=o?.id)!=null?a:null,(d=e?.id)!=null?d:null,(oe=(M=e?.workspace.id)!=null?M:o?.workspace.id)!=null?oe:"");de(at)},Bt=function(){return Ia},zt=function(e){Ia=e},ve=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;const o=e.getParentSvg(),a=e.getCachedParentSvgSize();var d=o.parentElement;if(d instanceof HTMLElement){var M=d.offsetWidth;d=d.offsetHeight,a.width!==M&&(o.setAttribute("width",M+"px"),e.setCachedParentSvgSize(M,null)),a.height!==d&&(o.setAttribute("height",d+"px"),e.setCachedParentSvgSize(null,d)),e.resize()}},Ye=function(e,o){const a=Object.create(null),d=e.getDescendants(!0);o&&(e=e.getNextBlock())&&(e=d.indexOf(e),d.splice(e,d.length-e));for(let M=0,oe;oe=d[M];M++)a[oe.type]?a[oe.type]++:a[oe.type]=1;return a},X=function(e){return function(){this.jsonInit(e)}},we=function(e){Z6.defineBlocksWithJsonArrayInternal(e)},tt=function(e){r.defineBlocks$$module$build$src$core$common(r.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(e))},r.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(e){const o={};for(let a=0;a<e.length;a++){const d=e[a];if(!d){console.warn(`Block definition #${a} in JSON array is ${d}. Skipping`);continue}const M=d.type;M?o[M]={init:X(d)}:console.warn(`Block definition #${a} in JSON array is missing a type attribute. Skipping.`)}return o},r.defineBlocks$$module$build$src$core$common=function(e){for(const o of Object.keys(e)){const a=e[o];o in Vs&&console.warn(`Block definition "${o}" overwrites previous definition.`),Vs[o]=a}},St=function(e){let o=Y();const a=r.getFocusManager$$module$build$src$core$focus_manager().getFocusedTree();for(const d of Ot())if(a===d){o=d;break}!Oe(e)&&o&&(!o.rendered||o.isFlyout||o.isVisible())&&vs.registry.onKeyDown(o,e)},Zt=function(e,o){return o=e.indexOf(o),o===-1?!1:(e.splice(o,1),!0)},$n=function(e){if(Y4)throw Error("CSS already injected");K4+=`
`+e},pn=function(e,o){Y4||(Y4=!0,e&&(e=o.replace(/[\\/]$/,""),o=K4.replace(/<<<PATH>>>/g,e),K4="",e=document.createElement("style"),e.id="blockly-common-style",o=document.createTextNode(o),e.appendChild(o),document.head.insertBefore(e,document.head.firstChild)))},sr=function(e){return J4.getSizeInternal(e)},wr=function(e){if(En(e,"display")!=="none")return jn(e);const o=e.style,a=o.display,d=o.visibility,M=o.position;o.visibility="hidden",o.position="absolute",o.display="inline";const oe=e.offsetWidth;return e=e.offsetHeight,o.display=a,o.position=M,o.visibility=d,new pi(oe,e)},jn=function(e){return new pi(e.offsetWidth,e.offsetHeight)},En=function(e,o){return e=window.getComputedStyle(e),e[o]||e.getPropertyValue(o)},re=function(e){const o=new Qn(0,0);e=e.getBoundingClientRect();var a=document.documentElement;return a=new Qn(window.pageXOffset||a.scrollLeft,window.pageYOffset||a.scrollTop),o.x=e.left+a.x,o.y=e.top+a.y,o},Te=function(){const e=document.body,o=document.documentElement;return new Qn(e.scrollLeft||o.scrollLeft,e.scrollTop||o.scrollTop)},gn=function(e){const o=parseFloat(En(e,"borderLeftWidth")),a=parseFloat(En(e,"borderRightWidth")),d=parseFloat(En(e,"borderTopWidth"));return e=parseFloat(En(e,"borderBottomWidth")),new ci(d,e,o,a)},F=function(e,o,a){e=ie(e,o,a),o.scrollLeft=e.x,o.scrollTop=e.y},ie=function(e,o,a){var d=re(e),M=re(o),oe=gn(o);const at=d.x-M.x-oe.left;return d=d.y-M.y-oe.top,M=jn(e),e=o.clientWidth-M.width,M=o.clientHeight-M.height,oe=o.scrollLeft,o=o.scrollTop,a?(oe+=at-e/2,o+=d-M/2):(oe+=Math.min(at,Math.max(at-e,0)),o+=Math.min(d,Math.max(d-M,0))),new Qn(oe,o)},x=function(e){const o=new Qn(0,0);var a=e.x&&e.getAttribute("x");const d=e.y&&e.getAttribute("y");return a&&(o.x=parseInt(a)),d&&(o.y=parseInt(d)),(a=(a=e.getAttribute("transform"))&&a.match(Sh))&&(o.x+=Number(a[1]),a[3]&&(o.y+=Number(a[3]))),(e=e.getAttribute("style"))&&e.includes("translate")&&(e=e.match(n5))&&(o.x+=Number(e[1]),e[3]&&(o.y+=Number(e[3]))),o},W=function(e){let o=0,a=0;for(;e;){const d=x(e);if(o+=d.x,a+=d.y,(" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv "))break;e=e.parentNode}return new Qn(o,a)},ae=function(){const e=Te();return new ci(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},q=function(){const e=document.documentElement,o=window;return new Qn(o.pageXOffset||e.scrollLeft,o.pageYOffset||e.scrollTop)},ge=function(e,o){var a=o.x;o=o.y;const d=e.getInjectionDiv().getBoundingClientRect();return a=new Qn(a-d.left,o-d.top),o=e.getOriginOffsetInPixels(),Qn.difference(a,o).scale(1/e.scale)},be=function(e,o){var a=o.scale(e.scale);o=a.x,a=a.y;const d=e.getInjectionDiv().getBoundingClientRect();return e=e.getOriginOffsetInPixels(),new Qn(o+d.left+e.x,a+d.top+e.y)},Le=function(e){({document:Z4=Z4,DOMParser:v2=v2,XMLSerializer:$2=$2}=e),xh=new v2,Mo=new $2},r.createElement$$module$build$src$core$utils$xml=function(e){return Z4.createElementNS(Gs,e)},r.createTextNode$$module$build$src$core$utils$xml=function(e){return Z4.createTextNode(e)},r.textToDom$$module$build$src$core$utils$xml=function(e){let o=xh.parseFromString(e,"text/xml");if(o&&o.documentElement&&!o.getElementsByTagName("parsererror").length)return o.documentElement;if((o=xh.parseFromString(e,"text/html"))&&o.body.firstChild&&o.body.firstChild.nodeName.toLowerCase()==="xml")return o.body.firstChild;throw Error(`DOMParser was unable to parse: ${e}`)},st=function(e){return $e(Mo.serializeToString(e))},$e=function(e){return e.replace(P0,o=>`&#${o.charCodeAt(0)};`)},$t=function(e){return e?((e instanceof Element||typeof e=="string")&&(e=bt(e),e=He(e)),Ue(e),e):null},Ue=function(e){const o=e.kind;if(e=e.contents,o&&o!==r5&&o!==Q4)throw Error("Invalid toolbox kind "+o+". Please supply either "+r5+" or "+Q4);if(!e)throw Error("Toolbox must have a contents attribute.")},p=function(e){return e?e.contents?e.contents:Array.isArray(e)&&e.length>0&&!e[0].nodeType?e:_t(e):[]},D=function(e){return J7.hasCategoriesInternal(e)},Q=function(e){if(!e)return!1;const o=e.kind;return o?o===Q4:!!e.contents.filter(a=>a.kind.toUpperCase()==="CATEGORY").length},me=function(e){return e&&e.contents?!!e.contents.filter(function(o){return o.kind.toUpperCase()==="CATEGORY"}).length:!1},He=function(e){const o={contents:_t(e)};return e instanceof Node&&Gt(e,o),o},_t=function(e){const o=[];let a=e.childNodes;a||(a=e);for(let d=0,M;M=a[d];d++){if(!M.tagName)continue;e={};const oe=M.tagName.toUpperCase();e.kind=oe,oe==="BLOCK"?e.blockxml=M:M.childNodes&&M.childNodes.length>0&&(e.contents=_t(M)),Gt(M,e),o.push(e)}return o},Gt=function(e,o){for(let a=0;a<e.attributes.length;a++){const d=e.attributes[a];d.nodeName.includes("css-")?(o.cssconfig=o.cssconfig||{},o.cssconfig[d.nodeName.replace("css-","")]=d.value):o[d.nodeName]=d.value}},bt=function(e){let o=null;if(e)if(typeof e=="string"){if(o=r.textToDom$$module$build$src$core$utils$xml(e),o.nodeName.toLowerCase()!=="xml")throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(o=e);return o},un=function(e,o,a,d,M,oe){const at=oe.scrollbar&&oe.scrollbar.canScrollVertically();return e.horizontal===p0.LEFT?(a=M.absoluteMetrics.left+a,at&&oe.RTL&&(a+=Js.scrollbarThickness)):(a=M.absoluteMetrics.left+M.viewMetrics.width-o.width-a,at&&!oe.RTL&&(a-=Js.scrollbarThickness)),e.vertical===ho.TOP?e=M.absoluteMetrics.top+d:(e=M.absoluteMetrics.top+M.viewMetrics.height-o.height-d,oe.scrollbar&&oe.scrollbar.canScrollHorizontally()&&(e-=Js.scrollbarThickness)),new ci(e,e+o.height,a,a+o.width)},Yt=function(e,o){return{horizontal:o.toolboxMetrics.position===mi.LEFT||e.horizontalLayout&&!e.RTL?p0.RIGHT:p0.LEFT,vertical:o.toolboxMetrics.position===mi.BOTTOM?ho.TOP:ho.BOTTOM}},fn=function(e,o,a,d){const M=e.left,oe=e.right-e.left,at=e.bottom-e.top;for(let qt=0;qt<d.length;qt++){const Wn=d[qt];e.intersects(Wn)&&(e=a===yu.UP?Wn.top-at-o:Wn.bottom+o,e=new ci(e,e+at,M,M+oe),qt=-1)}return e},Un=function(e,o){i(Yn.SERIALIZER,e,o)},Xt=function(e){h(Yn.SERIALIZER,e)},Ke=function(e,{addCoordinates:o=!1,saveIds:a=!0}={}){const d=e.workspace,M=Object.create(null);return M.height=e.getSize().height,M.width=e.getSize().width,a&&(M.id=e.id),o&&(o=e.getRelativeToSurfaceXY(),M.x=d.RTL?d.getWidth()-o.x:o.x,M.y=o.y),e.getText()&&(M.text=e.getText()),e.isCollapsed()&&(M.collapsed=!0),e.isOwnEditable()||(M.editable=!1),e.isOwnMovable()||(M.movable=!1),e.isOwnDeletable()||(M.deletable=!1),M},Pn=function(e,o,{recordUndo:a=!1}={}){const d=qe();if(r.setRecordUndo$$module$build$src$core$events$utils(a),a=o.newComment(e.id),e.text!==void 0&&a.setText(e.text),e.x!==void 0||e.y!==void 0){const oe=a.getRelativeToSurfaceXY();let at,qt=(at=e.x)!=null?at:oe.x;qt=o.RTL?o.getWidth()-qt:qt;var M;o=(M=e.y)!=null?M:oe.y,a.moveTo(new Qn(qt,o))}if(e.width!==void 0||e.height){M=a.getSize();let oe,at;a.setSize(new pi((oe=e.width)!=null?oe:M.width,(at=e.height)!=null?at:M.height))}return e.collapsed!==void 0&&a.setCollapsed(e.collapsed),e.editable!==void 0&&a.setEditable(e.editable),e.movable!==void 0&&a.setMovable(e.movable),e.deletable!==void 0&&a.setDeletable(e.deletable),r.setRecordUndo$$module$build$src$core$events$utils(d),a},er=function(e,o){i(Yn.PASTER,e,o)},nr=function(e){h(Yn.PASTER,e)},or=function(e){const o=e.workspace,a=e.getRelativeToSurfaceXY(),d=new Qn(0,0),M=o.getTopComments(!1).filter(oe=>oe.id!==e.id).map(oe=>oe.getRelativeToSurfaceXY());for(;Cn(Qn.sum(a,d),M);)d.translate(o.RTL?-30:30,30);e.moveTo(Qn.sum(a,d))},Cn=function(e,o){return o.some(a=>Math.abs(a.x-e.x)<=1&&Math.abs(a.y-e.y)<=1)},Hn=function(e,o){e.setAttribute(Ch,o)},mr=function(e,o,a){Array.isArray(a)&&(a=a.join(" ")),e.setAttribute(Z7+o,`${a}`)},Er=function(e){return e&&typeof e.saveState=="function"&&typeof e.loadState=="function"},ei=function(e){return ue(e),H()?(Se(),Promise.resolve()):(tc||(tc=new Promise(o=>{ia=o,ro=window.requestAnimationFrame(()=>{Se(),o()})})),tc)},hr=function(){return tc||Promise.resolve()},v=function(e){e||window.cancelAnimationFrame(ro),Se(e),!e&&ia&&ia()},H=function(){return V6},ue=function(e){Ba.add(e),ec.set(e,r.getGroup$$module$build$src$core$events$utils());const o=e.getParent();o?ue(o):g0.add(e)},Se=function(e){const o=e?new Set([e]):new Set([...g0].map(oe=>oe.workspace)),a=[...g0].filter(pt).filter(oe=>o.has(oe.workspace));for(var d of a)dt(d);for(const oe of o)oe.resizeContents();for(var M of a)d=M.getRelativeToSurfaceXY(),M.updateComponentLocations(d);for(const oe of a)M=r.getGroup$$module$build$src$core$events$utils(),(d=ec.get(oe))&&r.setGroup$$module$build$src$core$events$utils(d),oe.bumpNeighbours(),r.setGroup$$module$build$src$core$events$utils(M);for(const oe of a)Xe(oe);e||(tc=null)},Xe=function(e){g0.delete(e),Ba.delete(e),ec.delete(e);for(const o of e.getChildren(!1))Xe(o)},pt=function(e){return!e.isDisposed()&&!e.getParent()},dt=function(e){if(Ba.has(e)&&e.initialized){for(const o of e.getChildren(!1))dt(o);e.renderEfficiently()}},Ze=function(e,o){Mh(e,o)},tn=function(e=o3){Mh=e},an=function(e,o){kh(e,o)},ln=function(e=s5){kh=e},k=function(e,o,a){Tu(e,o,a)},z=function(e=Ah){Tu=e},We=function(e,o){Eu(e,o)},it=function(e=No){Eu=e},Nt=function(e){return e&&typeof e.getProcedureDef=="function"},Dt=function(e){return e&&typeof e.getProcedureCall=="function"&&typeof e.renameProcedure=="function"},cn=function(e){return e.getVariableModel!==void 0},Sn=function(e,o,a,d){e=e+" was deprecated in "+o+" and will be deleted in "+a+".",d&&(e+=`
Use `+d+" instead."),Pa.has(e)||(Pa.add(e),console.warn(e))},r.allUsedVarModels$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const o=new Set;for(let a=0;a<e.length;a++){const d=e[a].getVarModels();if(d)for(let M=0;M<d.length;M++){const oe=d[M];oe.getId()&&o.add(oe)}}return Array.from(o.values())},r.allDeveloperVariables$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const o=new Set;for(let d=0,M;M=e[d];d++){var a=M.getDeveloperVariables;if(a){a=a();for(let oe=0;oe<a.length;oe++)o.add(a[oe])}}return Array.from(o.values())},hn=function(e){return bn(e,!1)},bn=function(e,o=!0){return Vs.variables_set||Vs.variables_get||console.warn("There are no variable blocks, but there is a variable category."),o?(Sn("The XML return value of Blockly.Variables.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),Ir(e)):(e.registerButtonCallback("CREATE_VARIABLE",function(a){yr(a.getTargetWorkspace())}),[{kind:"button",text:"%{BKY_NEW_VARIABLE}",callbackkey:"CREATE_VARIABLE"},...xn(e,e.getVariableMap().getVariablesOfType(""),!0)])},zn=function(e){return{VAR:{name:e.getName(),type:e.getType()}}},xn=function(e,o,a,d="variables_get",M="variables_set"){a&&(a=Vs.math_change),e=[];const oe=o.slice(-1)[0];return oe&&(Vs[M]&&e.push({kind:"block",type:M,gap:a?8:24,fields:zn(oe)}),a&&e.push({kind:"block",type:"math_change",gap:Vs[d]?20:8,fields:zn(oe),inputs:{DELTA:{shadow:{type:"math_number",fields:{NUM:1}}}}})),Vs[d]&&e.push(...o.sort(Vn).map(at=>({kind:"block",type:d,gap:8,fields:zn(at)}))),e},Ir=function(e){let o=[];const a=document.createElement("button");return a.setAttribute("text","%{BKY_NEW_VARIABLE}"),a.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(d){yr(d.getTargetWorkspace())}),o.push(a),e=qn(e),o=o.concat(e)},qn=function(e){e=e.getVariableMap().getVariablesOfType("");const o=[];if(e.length>0){var a=e[e.length-1];if(Vs.variables_set){var d=r.createElement$$module$build$src$core$utils$xml("block");d.setAttribute("type","variables_set"),d.setAttribute("gap",Vs.math_change?"8":"24"),d.appendChild(cr(a)),o.push(d)}if(Vs.math_change&&(d=r.createElement$$module$build$src$core$utils$xml("block"),d.setAttribute("type","math_change"),d.setAttribute("gap",Vs.variables_get?"20":"8"),d.appendChild(cr(a)),a=r.textToDom$$module$build$src$core$utils$xml('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),d.appendChild(a),o.push(d)),Vs.variables_get){e.sort(Vn);for(let M=0,oe;oe=e[M];M++)a=r.createElement$$module$build$src$core$utils$xml("block"),a.setAttribute("type","variables_get"),a.setAttribute("gap","8"),a.appendChild(cr(oe)),o.push(a)}}return o},mn=function(e){return _2.generateUniqueNameInternal(e)},dr=function(e){return kr(a3.charAt(0),e.getVariableMap().getAllVariables().map(o=>o.getName()))},kr=function(e,o){if(!o.length)return e;const a=a3;let d="",M=a.indexOf(e);for(;;){let oe=!1;for(let at=0;at<o.length;at++)if(o[at].toLowerCase()===e){oe=!0;break}if(!oe)break;M++,M===a.length&&(M=0,d=`${Number(d)+1}`),e=a.charAt(M)+d}return e},yr=function(e,o,a){function d(oe){fr(r.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,oe,function(at){if(at){var qt=lr(at,e);if(qt){if(qt.getType()===M)var Wn=r.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace("%1",qt.getName());else Wn=r.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,Wn=Wn.replace("%1",qt.getName()).replace("%2",qt.getType());Ze(Wn,function(){d(at)})}else e.getVariableMap().createVariable(at,M),o&&o(at)}else o&&o(null)})}const M=a||"";d("")},r.renameVariable$$module$build$src$core$variables=function(e,o,a){function d(M){const oe=r.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace("%1",o.getName());fr(oe,M,function(at){if(at){var qt=vr(at,o.getType(),e),Wn=_r(o.getName(),at,e);if(qt||Wn){var Gr="";qt?Gr=r.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",qt.getName()).replace("%2",qt.getType()):Wn&&(Gr=r.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",at).replace("%2",Wn)),Ze(Gr,function(){d(at)})}else e.getVariableMap().renameVariable(o,at),a&&a(at)}else a&&a(null)})}d("")},fr=function(e,o,a){k(e,o,function(d){d&&(d=d.replace(/[\s\xa0]+/g," ").trim(),d===r.Msg$$module$build$src$core$msg.RENAME_VARIABLE||d===r.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(d=null),a(d)})},vr=function(e,o,a){a=a.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let d=0,M;M=a[d];d++)if(M.getName().toLowerCase()===e&&M.getType()!==o)return M;return null},lr=function(e,o){o=o.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let a=0,d;d=o[a];a++)if(d.getName().toLowerCase()===e)return d;return null},_r=function(e,o,a){return a.getProcedureMap().getProcedures().length?Dn(e,o,a):Mr(e,o,a)},Dn=function(e,o,a){e=e.toLowerCase(),o=o.toLowerCase(),a=a.getProcedureMap().getProcedures();for(const M of a){var d=M.getParameters().filter(cn).map(oe=>oe.getVariableModel().getName());if(d&&(a=d.some(oe=>oe.toLowerCase()===e),d=d.some(oe=>oe.toLowerCase()===o),a&&d))return M.getName()}return null},Mr=function(e,o,a){e=e.toLowerCase(),o=o.toLowerCase(),a=a.getAllBlocks(!1);for(const M of a){if(!Nt(M))continue;a=M.getProcedureDef();var d=a[1];const oe=d.some(at=>at.toLowerCase()===e);if(d=d.some(at=>at.toLowerCase()===o),oe&&d)return a[0]}return null},cr=function(e){const o=r.createElement$$module$build$src$core$utils$xml("field");return o.setAttribute("name","VAR"),o.setAttribute("id",e.getId()),o.setAttribute("variabletype",e.getType()),e=r.createTextNode$$module$build$src$core$utils$xml(e.getName()),o.appendChild(e),o},r.getOrCreateVariablePackage$$module$build$src$core$variables=function(e,o,a,d){let M=r.getVariable$$module$build$src$core$variables(e,o,a,d);return M||(M=Tr(e,o,a,d)),M},r.getVariable$$module$build$src$core$variables=function(e,o,a,d){const M=e.getPotentialVariableMap();let oe=null;if(o&&(oe=e.getVariableById(o),!oe&&M&&(oe=M.getVariableById(o)),oe))return oe;if(a){if(d===void 0)throw Error("Tried to look up a variable by name without a type");oe=e.getVariable(a,d),!oe&&M&&(oe=M.getVariable(a,d))}return oe},Tr=function(e,o,a,d){const M=e.getVariableMap(),oe=e.getPotentialVariableMap();return a||(a=mn(e.isFlyout?e.targetWorkspace:e)),oe?oe.createVariable(a,d,o??void 0):M.createVariable(a,d,o)},Kr=function(e,o){e=e.getAllVariables();const a=[];if(o.length!==e.length)for(let d=0;d<e.length;d++){const M=e[d];o.includes(M)||a.push(M)}return a},Vn=function(e,o){return e.getName().localeCompare(o.getName(),void 0,{sensitivity:"base"})},Fr=function(e,o){const a=[];e=e.getAllBlocks(!1);for(let d=0;d<e.length;d++){const M=e[d].getVarModels();if(M)for(let oe=0;oe<M.length;oe++)M[oe].getId()===o&&a.push(e[d])}return a},r.deleteVariable$$module$build$src$core$variables=function(e,o,a){var d=o.getName();const M=Fr(e,o.getId());for(let oe=M.length-1;oe>=0;oe--){const at=M[oe];if(at.type==="procedures_defnoreturn"||at.type==="procedures_defreturn"){a=String(at.getFieldValue("NAME")),d=r.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a),Ze(d);return}at===a&&M.splice(oe,1)}a&&M.length||M.length>1?(d=r.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(M.length+(a&&!a.workspace.isFlyout?1:0))).replace("%2",d),an(d,oe=>{oe&&o&&e.getVariableMap().deleteVariable(o)})):e.getVariableMap().deleteVariable(o)},Zr=function(e,{addCoordinates:o=!1,addInputBlocks:a=!0,addNextBlocks:d=!0,doFullSerialization:M=!0,saveIds:oe=!0}={}){if(e.isInsertionMarker())return null;const at={type:e.type,id:oe?e.id:void 0};return o&&go(e,at),ss(e,at),Wi(e,at,M),Bs(e,at,M),yi(e,at,M),a&&ks(e,at,M,oe),d&&oo(e,at,M,oe),at},ss=function(e,o){e.isCollapsed()&&(o.collapsed=!0),e.isEnabled()||(o.disabledReasons=Array.from(e.getDisabledReasons())),e.isOwnDeletable()||(o.deletable=!1),e.isOwnMovable()||(o.movable=!1),e.isOwnEditable()||(o.editable=!1),e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&(o.inline=e.inputsInline),e.data&&(o.data=e.data)},go=function(e,o){const a=e.workspace;e=e.getRelativeToSurfaceXY(),o.x=Math.round(a.RTL?a.getWidth()-e.x:e.x),o.y=Math.round(e.y)},Wi=function(e,o,a){e.saveExtraState?(e=e.saveExtraState(a),e!==null&&(o.extraState=e)):e.mutationToDom&&(e=e.mutationToDom(),e!==null&&(o.extraState=Cs(e).replace(' xmlns="https://developers.google.com/blockly/xml"',"")))},Bs=function(e,o,a){const d=Object.create(null);for(const M of e.getIcons())Er(M)&&(e=M.saveState(a))&&(d[M.getType().toString()]=e);Object.keys(d).length&&(o.icons=d)},yi=function(e,o,a){const d=Object.create(null);for(const M of e.getFields())M.isSerializable()&&(d[M.name]=M.saveState(a));Object.keys(d).length&&(o.fields=d)},ks=function(e,o,a,d){const M=Object.create(null);for(let oe=0;oe<e.inputList.length;oe++){const at=e.inputList[oe];if(!at.connection)continue;const qt=Qo(at.connection,a,d);qt&&(M[at.name]=qt)}Object.keys(M).length&&(o.inputs=M)},oo=function(e,o,a,d){e.nextConnection&&(e=Qo(e.nextConnection,a,d))&&(o.next=e)},Qo=function(e,o,a){const d=e.getShadowState(!0);if(e=e.targetBlock(),!d&&!e)return null;const M=Object.create(null);return d&&(M.shadow=d),e&&!e.isShadow()&&(M.block=Zr(e,{doFullSerialization:o,saveIds:a})),M},es=function(e,o,{recordUndo:a=!1}={}){return e=Bi(e,o,{recordUndo:a}),o.rendered&&v(),e},Bi=function(e,o,{parentConnection:a,isShadow:d=!1,recordUndo:M=!1}={}){const oe=qe();r.setRecordUndo$$module$build$src$core$events$utils(M),(M=r.getGroup$$module$build$src$core$events$utils())||r.setGroup$$module$build$src$core$events$utils(!0),r.disable$$module$build$src$core$events$utils();const at=o.getAllVariables();let qt;try{qt=c0(e,o,{parentConnection:a,isShadow:d})}finally{r.enable$$module$build$src$core$events$utils()}if(Ps(o,at),et()&&de(new(Ut(Mn.BLOCK_CREATE))(qt)),r.setGroup$$module$build$src$core$events$utils(M),r.setRecordUndo$$module$build$src$core$events$utils(oe),o.rendered){const Wn=qt;setTimeout(()=>{Wn.disposed||Wn.setConnectionTracking(!0)},1)}return qt},c0=function(e,o,{parentConnection:a,isShadow:d=!1}={}){if(!e.type)throw new o5(e);const M=o.newBlock(e.type,e.id);return M.setShadow(d),nl(M,e),vo(M,e),e0(M,e),rl(a,M,e),Uo(M,e),ai(M,e),Fu(M,e),ga(M,e),Dc(M,o.rendered),M},Ps=function(e,o){if(et())for(e=Kr(e,o),o=0;o<e.length;o++){const a=e[o];de(new(Ut(Mn.VAR_CREATE))(a))}},nl=function(e,o){let a=o.x===void 0?0:o.x;o=o.y===void 0?0:o.y;const d=e.workspace;a=d.RTL?d.getWidth()-a:a,e.moveBy(a,o)},vo=function(e,o){if(o.collapsed&&e.setCollapsed(!0),o.deletable===!1&&e.setDeletable(!1),o.movable===!1&&e.setMovable(!1),o.editable===!1&&e.setEditable(!1),o.enabled===!1&&e.setDisabledReason(!0,li),Array.isArray(o.disabledReasons))for(const a of o.disabledReasons)e.setDisabledReason(!0,a);o.inline!==void 0&&e.setInputsInline(o.inline),o.data!==void 0&&(e.data=o.data)},e0=function(e,o){o.extraState&&(e.loadExtraState?e.loadExtraState(o.extraState):e.domToMutation&&e.domToMutation(r.textToDom$$module$build$src$core$utils$xml(o.extraState)))},rl=function(e,o,a){if(e){if(e.getSourceBlock().isShadow()&&!o.isShadow())throw new a5(a);if(e.type===r.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var d=o.outputConnection;if(!d)throw new Wo("output",o,a)}else if(d=o.previousConnection,!d)throw new Wo("previous",o,a);if(!e.connect(d)){const M=o.workspace.connectionChecker;throw new l5(M.getErrorMessage(M.canConnectWithReason(d,e,!1),d,e),e.type===r.inputTypes$$module$build$src$core$inputs$input_types.VALUE?"output connection":"previous connection",o,a)}}},Uo=function(e,o){if(o.icons){var a=Object.keys(o.icons);for(const M of a){a=o.icons[M];var d=e.getIcon(M);if(!d){if(d=y(Yn.ICON,M,!1),!d)throw new Q7(M,e,o);d=new d(e),e.addIcon(d)}Er(d)&&d.loadState(a)}}},ai=function(e,o){if(o.fields){var a=Object.keys(o.fields);for(let d=0;d<a.length;d++){const M=a[d],oe=o.fields[M],at=e.getField(M);at?at.loadState(oe):console.warn(`Ignoring non-existant field ${M} in block ${e.type}`)}}},Fu=function(e,o){if(o.inputs){var a=Object.keys(o.inputs);for(let d=0;d<a.length;d++){const M=a[d],oe=e.getInput(M);if(!oe||!oe.connection)throw new Wo(M,e,o);ru(oe.connection,o.inputs[M])}}},ga=function(e,o){if(o.next){if(!e.nextConnection)throw new Wo("next",e,o);ru(e.nextConnection,o.next)}},ru=function(e,o){o.shadow&&e.setShadowState(o.shadow),o.block&&c0(o.block,e.getSourceBlock().workspace,{parentConnection:e})},Dc=function(e,o){if(o){e.setConnectionTracking(!1),e.initSvg(),e.queueRender();for(const a of e.getIcons())a.onLocationChange(e.getRelativeToSurfaceXY())}else e.initModel()},zl=function(e){return typeof e.bubbleIsVisible=="function"&&typeof e.setBubbleVisible=="function"&&typeof e.getBubble=="function"},Hl=function(e){return e*Math.PI/180},j1=function(e){return e*180/Math.PI},Vl=function(e,o,a){if(a<e){const d=a;a=e,e=d}return Math.max(e,Math.min(o,a))},iu=function(){document.querySelector(".blocklyDropDownDiv")||(Ls=document.createElement("div"),Ls.className="blocklyDropDownDiv",Ls.tabIndex=-1,(Bt()||document.body).appendChild(Ls),w2=document.createElement("div"),w2.className="blocklyDropDownContent",Ls.appendChild(w2),u1=le(w2,"keydown",null,St),sc=document.createElement("div"),sc.className="blocklyDropDownArrow",Ls.appendChild(sc),Ls.style.opacity="0",Ls.style.transition="transform "+c3+"s, opacity "+c3+"s")},va=function(e){h3=e},Bc=function(){return Su},Gl=function(){return w2},il=function(){u1&&(Ce(u1),u1=null),Ls.remove(),iu()},Pc=function(e,o){Ls.style.backgroundColor=e,Ls.style.borderColor=o},Fc=function(e,o,a,d,M=!0){return $a(su(o),e,M,a,d)},Uu=function(e,o,a,d=!0){return f5=!0,$a(ou(e),e,d,o,a)},su=function(e){var o=e.getSvgRoot();const a=e.workspace.scale,d=e.height*a;return e=e.width*a,o=re(o),new ci(o.y,o.y+d,o.x,o.x+e)},ou=function(e){return e=e.getScaledBBox(),new ci(e.top,e.bottom,e.left,e.right)},$a=function(e,o,a,d,M){const oe=e.left+(e.right-e.left)/2,at=e.bottom;e=e.top,M&&(e+=M),M=o.getSourceBlock();let qt=M.workspace;for(;qt.options.parentWorkspace;)qt=qt.options.parentWorkspace;return va(qt.getParentSvg().parentNode),sl(o,M.RTL,oe,at,oe,e,a,d)},sl=function(e,o,a,d,M,oe,at,qt){return Su=e,ic=qt||null,Ls.style.direction=o?"rtl":"ltr",e=Y(),h5=e.getRenderer().getClassName(),a1=e.getTheme().getClassName(),ut(Ls,h5),ut(Ls,a1),a=sn(a,d,M,oe),at&&(Dh=r.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(Ls)),a},lu=function(e,o,a,d){return e=L(e,a.left,a.right,d.width),{initialX:e.divX,initialY:o,finalX:e.divX,finalY:o+u5,arrowX:e.arrowX,arrowY:-9,arrowAtTop:!0,arrowVisible:!0}},zu=function(e,o,a,d){return e=L(e,a.left,a.right,d.width),{initialX:e.divX,initialY:o-d.height,finalX:e.divX,finalY:o-d.height-u5,arrowX:e.arrowX,arrowY:d.height-Lh*2-Rh/2,arrowAtTop:!1,arrowVisible:!0}},I0=function(e,o,a){return e=L(e,o.left,o.right,a.width),{initialX:e.divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},L=function(e,o,a,d){return o=Vl(o,e-d/2,a-d),e=e-Rh/2-o,a=u3,e=Vl(a,e,d-a-Rh),{arrowX:e,divX:o}},ee=function(){return!!Su},ct=function(e,o){return Su===e?(o?Wt():It(),!0):!1},It=function(){Ls.style.transform="translate(0, 0)",Ls.style.opacity="0",c5=setTimeout(function(){Wt()},c3*1e3),ic&&(ic(),ic=null)},Wt=function(){ee()&&(c5&&clearTimeout(c5),ic&&(ic(),ic=null),il(),Su=null,Y().markFocused(),Dh&&(Dh(),Dh=null))},sn=function(e,o,a,d){e=f3.getPositionMetrics(e,o,a,d),e.arrowVisible?(o=e.arrowX,a=e.arrowY,d=e.arrowAtTop?45:225,sc.style.display="",sc.style.transform=`translate(${o}px, ${a}px) rotate(${d}deg)`,sc.setAttribute("class","blocklyDropDownArrow")):sc.style.display="none",o=Math.floor(e.initialX),a=Math.floor(e.initialY),d=Math.floor(e.finalX);const M=Math.floor(e.finalY);return Ls.style.left=o+"px",Ls.style.top=a+"px",Ls.style.display="block",Ls.style.opacity="1",Ls.style.transform="translate("+(d-o)+"px,"+(M-a)+"px)",!!e.arrowAtTop},_n=function(){if(Su){var e=Su.getSourceBlock();e=f5?ou(Su):su(e);const o=e.left+(e.right-e.left)/2;sn(o,e.bottom,o,e.top)}else It()},Ln=function(e){return e.length?e.reduce(function(o,a){return o.length<a.length?o:a}).length:0},Zn=function(e,o){if(!e.length)return 0;if(e.length===1)return e[0].length;let a=0;o=o||Ln(e);let d;for(d=0;d<o;d++){for(var M=e[0][d],oe=1;oe<e.length;oe++)if(M!==e[oe][d])return a;M===" "&&(a=d+1)}for(M=1;M<e.length;M++)if((oe=e[M][d])&&oe!==" ")return a;return o},tr=function(e,o){if(!e.length)return 0;if(e.length===1)return e[0].length;let a=0;o=o||Ln(e);let d;for(d=0;d<o;d++){for(var M=e[0].substr(-d-1,1),oe=1;oe<e.length;oe++)if(M!==e[oe].substr(-d-1,1))return a;M===" "&&(a=d+1)}for(M=1;M<e.length;M++)if((oe=e[M].charAt(e[M].length-d-1))&&oe!==" ")return a;return o},r.wrap$$module$build$src$core$utils$string=function(e,o){e=e.split(`
`);for(let a=0;a<e.length;a++)e[a]=Sr(e[a],o);return e.join(`
`)},Sr=function(e,o){if(e.length<=o)return e;const a=e.trim().split(/\s+/);for(var d=0;d<a.length;d++)a[d].length>o&&(o=a[d].length);var M=-1/0;let oe,at=1;do{d=M,oe=e,e=[],M=a.length/at;let qt=1;for(let Wn=0;Wn<a.length-1;Wn++)qt<(Wn+1.5)/M?(qt++,e[Wn]=!0):e[Wn]=!1;e=Wr(a,e,o),M=Fn(a,e,o),e=zr(a,e),at++}while(M>d);return oe},Fn=function(e,o,a){const d=[0],M=[];for(var oe=0;oe<e.length;oe++)d[d.length-1]+=e[oe].length,o[oe]===!0?(d.push(0),M.push(e[oe].charAt(e[oe].length-1))):o[oe]===!1&&d[d.length-1]++;for(e=Math.max(...d),o=0,oe=0;oe<d.length;oe++)o-=Math.pow(Math.abs(a-d[oe]),1.5)*2,o-=Math.pow(e-d[oe],1.5),".?!".includes(M[oe])?o+=a/3:",;)]}".includes(M[oe])&&(o+=a/4);return d.length>1&&d[d.length-1]<=d[d.length-2]&&(o+=.5),o},Wr=function(e,o,a){let d=Fn(e,o,a),M;for(let oe=0;oe<o.length-1;oe++){if(o[oe]===o[oe+1])continue;const at=[].concat(o);at[oe]=!at[oe],at[oe+1]=!at[oe+1];const qt=Fn(e,at,a);qt>d&&(d=qt,M=at)}return M?Wr(e,M,a):o},zr=function(e,o){const a=[];for(let d=0;d<e.length;d++)a.push(e[d]),o[d]!==void 0&&a.push(o[d]?`
`:" ");return a.join("")},r.isNumber$$module$build$src$core$utils$string=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},jr=function(e){T2=e},Qr=function(){return T2},fi=function(){return Bh},Si=function(){return wo},ar=function(e){if(e=Ur(e)){for(e=e.tooltip;typeof e=="function";)e=e();if(typeof e!="string")throw Error("Tooltip function must return a string.");return e}return""},Ur=function(e){for(;e&&e.tooltip;){if(typeof e.tooltip=="string"||typeof e.tooltip=="function")return e;e=e.tooltip}return null},_i=function(){document.querySelector(".blocklyTooltipDiv")||(wo=document.createElement("div"),wo.className="blocklyTooltipDiv",(Bt()||document.body).appendChild(wo))},ri=function(e){e.mouseOverWrapper_=te(e,"pointerover",null,Ui),e.mouseOutWrapper_=te(e,"pointerout",null,Ri),e.addEventListener("pointermove",Pi,!1)},Ii=function(e){e&&(Ce(e.mouseOverWrapper_),Ce(e.mouseOutWrapper_),e.removeEventListener("pointermove",Pi))},Ui=function(e){c1||(e=Ur(e.currentTarget),V0!==e&&(Zi(),lc=null,V0=e),clearTimeout(t8))},Ri=function(e){c1||(t8=setTimeout(function(){lc=V0=null,Zi()},1),clearTimeout(h1),h1=0)},Pi=function(e){if(V0&&V0.tooltip&&!c1)if(Bh){const o=E2-e.pageX;e=oc-e.pageY,Math.sqrt(o*o+e*e)>oa&&Zi()}else lc!==V0&&(clearTimeout(h1),E2=e.pageX,oc=e.pageY,h1=setTimeout(lo,S2))},Li=function(){lc=V0=null,Zi()},Zi=function(){Bh&&(Bh=!1,wo&&(wo.style.display="none")),h1&&(clearTimeout(h1),h1=0)},xi=function(){Zi(),c1=!0},ps=function(){c1=!1},Fs=function(){wo&&V0&&(typeof T2=="function"?T2(wo,V0):Ys())},Ys=function(){var e=ar(V0);e=r.wrap$$module$build$src$core$utils$string(e,e8),e=e.split(`
`);for(let o=0;o<e.length;o++){const a=document.createElement("div");a.appendChild(document.createTextNode(e[o])),wo.appendChild(a)}},Qi=function(e){const o=document.documentElement.clientWidth,a=document.documentElement.clientHeight;let d=E2;d=e?d-(Ph+wo.offsetWidth):d+Ph;let M=oc+Fa;return M+wo.offsetHeight>a+window.scrollY&&(M-=wo.offsetHeight+2*Fa),e?d=Math.max(d3-window.scrollX,d):d+wo.offsetWidth>o+window.scrollX-2*d3&&(d=o-wo.offsetWidth-2*d3),{x:d,y:M}},lo=function(){if(!c1&&(lc=V0,wo)){wo.textContent="",Fs();var e=V0.RTL;wo.style.direction=e?"rtl":"ltr",wo.style.display="block",Bh=!0;var{x:o,y:a}=Qi(e);wo.style.left=o+"px",wo.style.top=a+"px"}},Oo=function(){return p3},Ks=function(e){p3=e},$i=function(){return m3},Ns=function(e){m3=e},xt=function(e){e=`${e}`.toLowerCase().trim();var o=n8[e];if(o||(o=e.substring(0,2)==="0x"?"#"+e.substring(2):e,o=o[0]==="#"?o:"#"+o,/^#[0-9a-f]{6}$/.test(o)))return o;if(/^#[0-9a-f]{3}$/.test(o))return["#",o[1],o[1],o[2],o[2],o[3],o[3]].join("");var a=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return a&&(e=Number(a[1]),o=Number(a[2]),a=Number(a[3]),e>=0&&e<256&&o>=0&&o<256&&a>=0&&a<256)?ts(e,o,a):null},ts=function(e,o,a){return o=e<<16|o<<8|a,e<16?"#"+(16777216|o).toString(16).substr(1):"#"+o.toString(16)},xs=function(e){return e=xt(e),e?(e=parseInt(e.substr(1),16),[e>>16,e>>8&255,e&255]):[0,0,0]},O0=function(e,o,a){let d=0,M=0,oe=0;if(o===0)oe=M=d=a;else{const at=Math.floor(e/60),qt=e/60-at;e=a*(1-o);const Wn=a*(1-o*qt);switch(o=a*(1-o*(1-qt)),at){case 1:d=Wn,M=a,oe=e;break;case 2:d=e,M=a,oe=o;break;case 3:d=e,M=Wn,oe=a;break;case 4:d=o,M=e,oe=a;break;case 5:d=a,M=e,oe=Wn;break;case 6:case 0:d=a,M=o,oe=e}}return ts(Math.floor(d),Math.floor(M),Math.floor(oe))},So=function(e,o,a){return e=xt(e),!e||(o=xt(o),!o)?null:(e=xs(e),o=xs(o),ts(Math.round(o[0]+a*(e[0]-o[0])),Math.round(o[1]+a*(e[1]-o[1])),Math.round(o[2]+a*(e[2]-o[2]))))},Ro=function(e){return O0(e,p3,m3*255)},$o=function(e,o,a){const d=[];var M=e.split("");M.push("");var oe=0;e=[];let at=null;for(let Gr=0;Gr<M.length;Gr++){var qt=M[Gr];if(oe===0)if(qt==="%")(oe=e.join(""))&&d.push(oe),e.length=0,oe=1;else if(a&&qt===`
`){const po=e.join("");po&&d.push(po),e.length=0,d.push(qt)}else e.push(qt);else if(oe===1)qt==="%"?(e.push(qt),oe=0):o&&"0"<=qt&&qt<="9"?(oe=2,at=qt,(qt=e.join(""))&&d.push(qt),e.length=0):qt==="{"?oe=3:(e.push("%",qt),oe=0);else if(oe===2)if("0"<=qt&&qt<="9")at+=qt;else{var Wn=void 0;d.push(parseInt((Wn=at)!=null?Wn:"",10)),Gr--,oe=0}else oe===3&&(qt===""?(e.splice(0,0,"%{"),Gr--,oe=0):qt!=="}"?e.push(qt):(oe=e.join(""),/[A-Z]\w*/i.test(oe)?(qt=oe.toUpperCase(),(qt=qt.startsWith("BKY_")?qt.substring(4):null)&&qt in r.Msg$$module$build$src$core$msg?(oe=r.Msg$$module$build$src$core$msg[qt],typeof oe=="string"?Array.prototype.push.apply(d,$o(oe,o,a)):o?d.push(`${oe}`):d.push(oe)):d.push("%{"+oe+"}")):d.push("%{"+oe+"}"),oe=e.length=0))}for((o=e.join(""))&&d.push(o),Wn=[],e.length=0,M=0;M<d.length;M++)typeof d[M]!="string"||a&&d[M]===`
`?((o=e.join(""))&&Wn.push(o),e.length=0,Wn.push(d[M])):e.push(d[M]);return(o=e.join(""))&&Wn.push(o),e.length=0,Wn},Is=function(e){return $o(e,!0,!0)},ii=function(e){return typeof e!="string"?e:(e=$o(e,!1,!1),e.length?String(e[0]):"")},bo=function(e){let o=!0;const a=r.Msg$$module$build$src$core$msg,d=e.match(/%{BKY_[A-Z]\w*}/gi);if(d)for(let M=0;M<d.length;M++){const oe=d[M].toUpperCase();a[oe.slice(6,-1)]===void 0&&(console.warn("No message string for "+d[M]+" in "+e),o=!1)}return o},os=function(e){const o=typeof e=="string"?ii(e):e;var a=Number(o);if(!isNaN(a)&&0<=a&&a<=360)return{hue:a,hex:O0(a,Oo(),$i()*255)};if(a=xt(o))return{hue:null,hex:a};throw a='Invalid colour: "'+o+'"',e!==o&&(a+=' (from "'+e+'")'),Error(a)},Lo=function(){return W0},xl=function(e){if(W0=e,e===null){let o;(o=document.querySelector("."+d5))==null||o.remove()}},ol=function(){const e=Bt()||document.body,o=document.querySelector("div."+d5);o?W0=o:(W0=document.createElement("div"),W0.className=d5,W0.tabIndex=-1),le(W0,"keydown",null,St),e.appendChild(W0)},ql=function(e,o,a,d,M=!0){if(y0(),ac=e,v3=a,a=W0){if(a.style.direction=o?"rtl":"ltr",a.style.display="block",!d&&e instanceof cs){let qt;d=(qt=e.getSourceBlock())==null?void 0:qt.workspace}var oe;g3=(oe=d)!=null?oe:null;var at;e=(at=d)!=null?at:Y(),Ua=e.getRenderer().getClassName(),C2=e.getTheme().getClassName(),Ua&&ut(a,Ua),C2&&ut(a,C2),M&&(Mi=r.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(a))}},y0=function(){if(Uc()){ac=null;var e=W0;e&&(e.style.display="none",e.style.left="",e.style.top="",v3&&(v3(),v3=null),e.textContent="",Ua&&(nn(e,Ua),Ua=""),C2&&(nn(e,C2),C2=""),Y().markFocused(),Mi&&(Mi(),Mi=null))}},Uc=function(){return!!ac},ll=function(e){ac===e&&y0()},R0=function(e){let o=g3===null,a=e;for(;!o&&a;){if(a===e){o=!0;break}a=e.options.parentWorkspace}o&&y0()},zc=function(e,o,a){W0.style.left=e+"px",W0.style.top=o+"px",W0.style.height=a+"px"},zo=function(e,o,a,d){const M=al(e,o,a);e=Hc(e,o,a,d),M<0?zc(e,0,a.height+M):zc(e,M,a.height)},Hc=function(e,o,a,d){return d?Math.min(Math.max(o.right-a.width,e.left),e.right-a.width):Math.max(Math.min(o.left,e.right-a.width),e.left)},al=function(e,o,a){return o.bottom+a.height>=e.bottom?o.top-a.height:o.bottom},y4=function(e){return!(e==null||!e.repositionForWindowResize)},ba=function(){y4(ac)&&ac.repositionForWindowResize()||y0()},Wl=function(){return f1},Hu=function(e){f1=e},ya=function(e,o,a,d,M){if(ql($3,a,Vc,d),o.length){M||(e instanceof PointerEvent?M=new Qn(e.clientX,e.clientY):(console.warn("Context menu opened with keyboard but no location given"),M=new Qn(0,0)));var oe=jl(o,a,e,M);Fh=oe,au(oe,a,M),setTimeout(function(){oe.focus()},1),f1=null}else ul()},jl=function(e,o,a,d){const M=new i5;M.setRole(U0.MENU);for(let oe=0;oe<e.length;oe++){const at=e[oe];if(at.separator){M.addChild(new rs);continue}const qt=new i3(at.text);qt.setRightToLeft(o),qt.setRole(U0.MENUITEM),M.addChild(qt),qt.setEnabled(at.enabled),at.enabled&&qt.onAction(function(Wn,Gr){ul(),requestAnimationFrame(()=>{setTimeout(()=>{at.callback(at.scope,a,Gr,d)},0)})},{})}return M},au=function(e,o,a){const d=ae();a=new ci(a.y+d.top,a.y+d.top,a.x+d.left,a.x+d.left),_0(e);const M=e.getSize();o&&(a.left+=M.width,a.right+=M.width,d.left+=M.width,d.right+=M.width),zo(d,a,M,o),e.focus()},_0=function(e){var o=Lo();if(!o)throw Error("Attempting to create a context menu when widget div is null");o=e.render(o),ut(o,"blocklyContextMenu"),le(o,"contextmenu",null,uu),e.focus()},uu=function(e){e.preventDefault(),e.stopPropagation()},ul=function(){ll($3),f1=null},Vc=function(){Fh&&(Fh.dispose(),Fh=null)},r.callbackFactory$$module$build$src$core$contextmenu=function(e,o){return()=>{r.disable$$module$build$src$core$events$utils();let a;try{a=o instanceof Element?Ml(o,e.workspace):Bi(o,e.workspace);const d=e.getRelativeToSurfaceXY();d.x=e.RTL?d.x-r.config$$module$build$src$core$config.snapRadius:d.x+r.config$$module$build$src$core$config.snapRadius,d.y+=r.config$$module$build$src$core$config.snapRadius*2,a.moveBy(d.x,d.y)}finally{r.enable$$module$build$src$core$events$utils()}return et()&&!a.isShadow()&&de(new(Ut(Mn.BLOCK_CREATE))(a)),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(a),a}},_a=function(e,o){return o=Be(o,e.getParentSvg(),e.getInverseScreenCTM()),o.x/=e.scale,o.y/=e.scale,o},Ho=function(e,o,a){o=_a(e,o),p5.set(e,Qn.difference(a,o))},h0=function(e,o){if(o=_a(e,o),e=p5.get(e),!e)throw Error("Drag not initialized");return Qn.sum(e,o)},Cl=function(e,o=!1){const a=r.createElement$$module$build$src$core$utils$xml("xml");var d=w0(r.allUsedVarModels$$module$build$src$core$variables(e));d.hasChildNodes()&&a.appendChild(d);for(const M of e.getTopComments())a.appendChild(f0(M,o));for(e=e.getTopBlocks(!0),d=0;d<e.length;d++)a.appendChild(t0(e[d],o));return a},f0=function(e,o=!1){const a=r.createElement$$module$build$src$core$utils$xml("comment");o||a.setAttribute("id",e.id),o=e.workspace;const d=e.getRelativeToSurfaceXY().clone();return d.x=o.RTL?o.getWidth()-d.x:d.x,a.setAttribute("x",`${d.x}`),a.setAttribute("y",`${d.y}`),a.setAttribute("w",`${e.getSize().width}`),a.setAttribute("h",`${e.getSize().height}`),e.getText()&&(a.textContent=e.getText()),e.isCollapsed()&&a.setAttribute("collapsed","true"),e.isOwnEditable()||a.setAttribute("editable","false"),e.isOwnMovable()||a.setAttribute("movable","false"),e.isOwnDeletable()||a.setAttribute("deletable","false"),a},w0=function(e){const o=r.createElement$$module$build$src$core$utils$xml("variables");for(let a=0;a<e.length;a++){const d=e[a],M=r.createElement$$module$build$src$core$utils$xml("variable");M.appendChild(r.createTextNode$$module$build$src$core$utils$xml(d.getName())),d.getType()&&M.setAttribute("type",d.getType()),M.id=d.getId(),o.appendChild(M)}return o},t0=function(e,o){if(e.isInsertionMarker()&&(e=e.getChildren(!1)[0],!e))return new DocumentFragment;let a=0;if(e.workspace.RTL&&(a=e.workspace.getWidth()),o=cl(e,o),fu(o)){const d=e.getRelativeToSurfaceXY();o.setAttribute("x",String(Math.round(e.workspace.RTL?a-d.x:d.x))),o.setAttribute("y",String(Math.round(d.y)))}return o},Gc=function(e){if(e.isSerializable()){const o=r.createElement$$module$build$src$core$utils$xml("field");return o.setAttribute("name",e.name||""),e.toXml(o)}return null},qc=function(e,o){for(const a of e.getFields())(e=Gc(a))&&o.appendChild(e)},cl=function(e,o){if(e.isInsertionMarker())return(o=e.getChildren(!1)[0])?cl(o):new DocumentFragment;const a=r.createElement$$module$build$src$core$utils$xml(e.isShadow()?"shadow":"block");if(a.setAttribute("type",e.type),o||(a.id=e.id),e.mutationToDom){var d=e.mutationToDom();d&&(d.hasChildNodes()||d.hasAttributes())&&a.appendChild(d)}if(qc(e,a),d=e.getCommentText()){var M=e.getIcon(Ws.COMMENT),oe=M.getBubbleSize(),at=M.bubbleIsVisible();M=M.getBubbleLocation();var qt=r.createElement$$module$build$src$core$utils$xml("comment");qt.appendChild(r.createTextNode$$module$build$src$core$utils$xml(d)),qt.setAttribute("pinned",`${at}`),qt.setAttribute("h",`${oe.height}`),qt.setAttribute("w",`${oe.width}`),M&&(qt.setAttribute("x",`${e.workspace.RTL?e.workspace.getWidth()-(M.x+oe.width):M.x}`),qt.setAttribute("y",`${M.y}`)),a.appendChild(qt)}for(e.data&&(d=r.createElement$$module$build$src$core$utils$xml("data"),d.appendChild(r.createTextNode$$module$build$src$core$utils$xml(e.data)),a.appendChild(d)),d=0;d<e.inputList.length;d++){oe=e.inputList[d];var Wn=void 0;at=!0,oe.type!==r.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&oe.type!==r.inputTypes$$module$build$src$core$inputs$input_types.END_ROW&&(M=oe.connection.targetBlock(),oe.type===r.inputTypes$$module$build$src$core$inputs$input_types.VALUE?Wn=r.createElement$$module$build$src$core$utils$xml("value"):oe.type===r.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(Wn=r.createElement$$module$build$src$core$utils$xml("statement")),qt=oe.connection.getShadowDom(),!qt||M&&M.isShadow()||Wn.appendChild(Wc(qt,o)),M&&(M=cl(M,o),M.nodeType===ta.ELEMENT_NODE&&(Wn.appendChild(M),at=!1)),Wn.setAttribute("name",oe.name),at||a.appendChild(Wn))}e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&a.setAttribute("inline",String(e.inputsInline)),e.isCollapsed()&&a.setAttribute("collapsed","true"),e.isEnabled()||a.setAttribute("disabled-reasons",Array.from(e.getDisabledReasons()).map(encodeURIComponent).join(",")),e.isOwnDeletable()||a.setAttribute("deletable","false"),e.isOwnMovable()||a.setAttribute("movable","false"),e.isOwnEditable()||a.setAttribute("editable","false"),Wn=e.getNextBlock();let Gr;return Wn&&(d=cl(Wn,o),d.nodeType===ta.ELEMENT_NODE&&(Gr=r.createElement$$module$build$src$core$utils$xml("next"),Gr.appendChild(d),a.appendChild(Gr))),e=e.nextConnection&&e.nextConnection.getShadowDom(),!e||Wn&&Wn.isShadow()||Gr.appendChild(Wc(e,o)),a},Wc=function(e,o){let a=e=e.cloneNode(!0),d;for(;a;)if(o&&a.nodeName==="shadow"&&a.removeAttribute("id"),a.firstChild)a=a.firstChild;else{for(;a&&!a.nextSibling;){d=a,a=a.parentNode;let M;d.nodeType===ta.TEXT_NODE&&d.data.trim()===""&&((M=a)==null?void 0:M.firstChild)!==d&&se(d)}a&&(d=a,a=a.nextSibling,d.nodeType===ta.TEXT_NODE&&d.data.trim()===""&&se(d))}return e},Cs=function(e){return st(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},_s=function(e){e=Cs(e).split("<");let o="";for(let a=1;a<e.length;a++){const d=e[a];d[0]==="/"&&(o=o.substring(2)),e[a]=o+"<"+d,d[0]!=="/"&&d.slice(-2)!=="/>"&&(o+="  ")}return e=e.join(`
`),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},ki=function(e,o){return o.setResizesEnabled(!1),o.clear(),e=r.domToWorkspace$$module$build$src$core$xml(e,o),o.setResizesEnabled(!0),e},r.domToWorkspace$$module$build$src$core$xml=function(e,o){let a=0;o.RTL&&(a=o.getWidth());const d=[];Qe();const M=r.getGroup$$module$build$src$core$events$utils();M||r.setGroup$$module$build$src$core$events$utils(!0),o.setResizesEnabled&&o.setResizesEnabled(!1);let oe=!0;try{for(let at=0,qt;qt=e.childNodes[at];at++){const Wn=qt.nodeName.toLowerCase(),Gr=qt;if(Wn==="block"||Wn==="shadow"&&!qe()){const po=Ml(Gr,o);d.push(po.id);let Ds;const N0=parseInt((Ds=Gr.getAttribute("x"))!=null?Ds:"10",10);let w1;const yc=parseInt((w1=Gr.getAttribute("y"))!=null?w1:"10",10);isNaN(N0)||isNaN(yc)||po.moveBy(o.RTL?a-N0:N0,yc,["create"]),oe=!1}else{if(Wn==="shadow")throw TypeError("Shadow block cannot be a top-level block.");if(Wn==="comment")Xl(Gr,o);else if(Wn==="variables"){if(oe)kl(Gr,o);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");oe=!1}}}}finally{r.setGroup$$module$build$src$core$events$utils(M),o.setResizesEnabled&&o.setResizesEnabled(!0),o.rendered&&v(),Tt()}return de(new(Ut(Mn.FINISHED_LOADING))(o)),d},Xl=function(e,o){var a;const d=(a=e.getAttribute("id"))!=null?a:void 0;a=o.rendered?new Il(o,d):new k2(o,d);var M;a.setText((M=e.textContent)!=null?M:"");var oe;M=parseInt((oe=e.getAttribute("x"))!=null?oe:"",10);let at;oe=parseInt((at=e.getAttribute("y"))!=null?at:"",10),isNaN(M)||isNaN(oe)||(M=o.RTL?o.getWidth()-M:M,a.moveTo(new Qn(M,oe)));var qt;o=parseInt((qt=e.getAttribute("w"))!=null?qt:"",10);let Wn;return qt=parseInt((Wn=e.getAttribute("h"))!=null?Wn:"",10),isNaN(o)||isNaN(qt)||a.setSize(new pi(o,qt)),e.getAttribute("collapsed")==="true"&&a.setCollapsed(!0),e.getAttribute("editable")==="false"&&a.setEditable(!1),e.getAttribute("movable")==="false"&&a.setMovable(!1),e.getAttribute("deletable")==="false"&&a.setDeletable(!1),a},ao=function(e,o){if(!o.getBlocksBoundingBox)return r.domToWorkspace$$module$build$src$core$xml(e,o);var a=o.getBlocksBoundingBox();if(e=r.domToWorkspace$$module$build$src$core$xml(e,o),a&&a.top!==a.bottom){var d=a.bottom;a=o.RTL?a.right:a.left;var M=1/0;let oe=-1/0,at=1/0;for(let qt=0;qt<e.length;qt++){const Wn=o.getBlockById(e[qt]).getRelativeToSurfaceXY();Wn.y<at&&(at=Wn.y),Wn.x<M&&(M=Wn.x),Wn.x>oe&&(oe=Wn.x)}for(d=d-at+10,a=o.RTL?a-oe:a-M,M=0;M<e.length;M++)o.getBlockById(e[M]).moveBy(a,d,["create"])}return e},r.domToBlock$$module$build$src$core$xml=function(e,o){return e=Ml(e,o),o.rendered&&v(),e},Ml=function(e,o){r.disable$$module$build$src$core$events$utils();var a=o.getAllVariables();let d;try{if(d=hl(e,o),o.rendered){const M=d,oe=d.getDescendants(!1);M.setConnectionTracking(!1);for(let at=oe.length-1;at>=0;at--)oe[at].initSvg();for(let at=oe.length-1;at>=0;at--)oe[at].queueRender();setTimeout(function(){M.disposed||M.setConnectionTracking(!0)},1),o.resizeContents()}else{const M=d.getDescendants(!1);for(let oe=M.length-1;oe>=0;oe--)M[oe].initModel()}}finally{r.enable$$module$build$src$core$events$utils()}if(et()){for(e=Kr(o,a),o=0;o<e.length;o++)a=e[o],de(new(Ut(Mn.VAR_CREATE))(a));de(new(Ut(Mn.BLOCK_CREATE))(d))}return d},kl=function(e,o){for(let d=0;d<e.children.length;d++){var a=e.children[d];const M=a.getAttribute("type"),oe=a.getAttribute("id");if(a=a.textContent,!a)break;let at;o.getVariableMap().createVariable(a,(at=M)!=null?at:void 0,oe)}},uh=function(e){const o={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let a=0;a<e.children.length;a++){const d=e.children[a];if(d.nodeType!==ta.TEXT_NODE)switch(d.nodeName.toLowerCase()){case"mutation":o.mutation.push(d);break;case"comment":o.comment.push(d);break;case"data":o.data.push(d);break;case"title":case"field":o.field.push(d);break;case"value":case"statement":o.input.push(d);break;case"next":o.next.push(d);break;default:console.warn("Ignoring unknown tag: "+d.nodeName)}}return o},ch=function(e,o){let a=!1;for(let d=0;d<e.length;d++){const M=e[d];o.domToMutation&&(o.domToMutation(M),o.initSvg&&(a=!0))}return a},cu=function(e,o){for(let a=0;a<e.length;a++){const d=e[a],M=d.textContent,oe=d.getAttribute("pinned")==="true";let at;const qt=parseInt((at=d.getAttribute("w"))!=null?at:"50",10);let Wn;const Gr=parseInt((Wn=d.getAttribute("h"))!=null?Wn:"50",10);let po,Ds=parseInt((po=d.getAttribute("x"))!=null?po:"",10),N0;const w1=parseInt((N0=d.getAttribute("y"))!=null?N0:"",10);o.setCommentText(M);const yc=o.getIcon(Ws.COMMENT);isNaN(qt)||isNaN(Gr)||yc.setBubbleSize(new pi(qt,Gr)),yc.setBubbleVisible(oe),setTimeout(()=>{isNaN(Ds)||isNaN(w1)||(Ds=o.workspace.RTL?o.workspace.getWidth()-(Ds+qt):Ds,yc.setBubbleLocation(new Qn(Ds,w1))),yc.setBubbleVisible(oe)},1)}},Al=function(e,o){for(let a=0;a<e.length;a++)o.data=e[a].textContent},X1=function(e,o){for(let a=0;a<e.length;a++){const d=e[a],M=d.getAttribute("name");M?Yl(o,M,d):console.warn(`Ignoring unnamed field in block ${o.type}`)}},hu=function(e){let o=null,a=null;for(let d=0;d<e.childNodes.length;d++){const M=e.childNodes[d];fu(M)&&(M.nodeName.toLowerCase()==="block"?o=M:M.nodeName.toLowerCase()==="shadow"&&(a=M))}return{childBlockElement:o,childShadowElement:a}},jc=function(e,o,a,d){for(let oe=0;oe<e.length;oe++){var M=e[oe];const at=M.getAttribute("name"),qt=at?a.getInput(at):null;if(!qt){console.warn("Ignoring non-existent input "+at+" in block "+d);break}if(M=hu(M),M.childBlockElement){if(!qt.connection)throw TypeError("Input connection does not exist.");hl(M.childBlockElement,o,qt.connection,!1)}if(M.childShadowElement){let Wn;(Wn=qt.connection)==null||Wn.setShadowDom(M.childShadowElement)}}},wa=function(e,o,a){for(let d=0;d<e.length;d++){const M=hu(e[d]);if(M.childBlockElement){if(!a.nextConnection)throw TypeError("Next statement does not exist.");if(a.nextConnection.isConnected())throw TypeError("Next statement is already connected.");hl(M.childBlockElement,o,a.nextConnection,!0)}M.childShadowElement&&a.nextConnection&&a.nextConnection.setShadowDom(M.childShadowElement)}},hl=function(e,o,a,d){var M;const oe=e.getAttribute("type");if(!oe)throw TypeError("Block type unspecified: "+e.outerHTML);var at=(M=e.getAttribute("id"))!=null?M:void 0;M=o.newBlock(oe,at),at=uh(e);const qt=ch(at.mutation,M);if(cu(at.comment,M),Al(at.data,M),a)if(d)if(M.previousConnection)a.connect(M.previousConnection);else throw TypeError("Next block does not have previous statement.");else if(M.outputConnection)a.connect(M.outputConnection);else if(M.previousConnection)a.connect(M.previousConnection);else throw TypeError("Child block does not have output or previous statement.");if(X1(at.field,M),jc(at.input,o,M,oe),wa(at.next,o,M),qt&&M.initSvg(),(o=e.getAttribute("inline"))&&M.setInputsInline(o==="true"),(o=e.getAttribute("disabled"))&&M.setDisabledReason(o==="true"||o==="disabled",li),o=e.getAttribute("disabled-reasons"),o!==null)for(var Wn of o.split(","))M.setDisabledReason(!0,decodeURIComponent(Wn));if((Wn=e.getAttribute("deletable"))&&M.setDeletable(Wn==="true"),(Wn=e.getAttribute("movable"))&&M.setMovable(Wn==="true"),(Wn=e.getAttribute("editable"))&&M.setEditable(Wn==="true"),(Wn=e.getAttribute("collapsed"))&&M.setCollapsed(Wn==="true"),e.nodeName.toLowerCase()==="shadow"){for(e=M.getChildren(!1),Wn=0;Wn<e.length;Wn++)if(!e[Wn].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");M.setShadow(!0)}return M},Yl=function(e,o,a){const d=e.getField(o);d?d.fromXml(a):console.warn("Ignoring non-existent field "+o+" in block "+e.type)},fl=function(e){for(let o=0;o<e.childNodes.length;o++){const a=e.childNodes[o];if(a.nodeName.toLowerCase()==="next"){e.removeChild(a);break}}},fu=function(e){return e.nodeType===ta.ELEMENT_NODE},T0=function(e,o){i(Yn.FIELD,e,o,!0)},Kl=function(e){h(Yn.FIELD,e)},r.fromJson$$module$build$src$core$field_registry=function(e){return $5.fromJsonInternal(e)},Vu=function(e){const o=$(Yn.FIELD,e.type);return o?o.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},E0=function(e){return e&&typeof e=="object"&&"src"in e&&typeof e.src=="string"&&"alt"in e&&typeof e.alt=="string"&&"width"in e&&typeof e.width=="number"&&"height"in e&&typeof e.height=="number"},r.register$$module$build$src$core$extensions=function(e,o){if(typeof e!="string"||e.trim()==="")throw Error('Error: Invalid extension name "'+e+'"');if(o0[e])throw Error('Error: Extension "'+e+'" is already registered.');if(typeof o!="function")throw Error('Error: Extension "'+e+'" must be a function');o0[e]=o},r.registerMixin$$module$build$src$core$extensions=function(e,o){if(!o||typeof o!="object")throw Error('Error: Mixin "'+e+'" must be a object');r.register$$module$build$src$core$extensions(e,function(){this.mixin(o)})},r.registerMutator$$module$build$src$core$extensions=function(e,o,a,d){const M='Error when registering mutator "'+e+'": ';Jl(M,o);const oe=As(o,M);if(a&&typeof a!="function")throw Error(M+'Extension "'+e+'" is not a function');r.register$$module$build$src$core$extensions(e,function(){oe&&this.setMutator(new r.MutatorIcon$$module$build$src$core$icons$mutator_icon(d||[],this)),this.mixin(o),a&&a.apply(this)})},yo=function(e){Gu(e)?delete o0[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},Gu=function(e){return!!o0[e]},qu=function(e,o,a){const d=o0[e];if(typeof d!="function")throw Error('Error: Extension "'+e+'" not found.');let M;if(a?Xc(e,o):M=Zl(o),d.apply(o),a)Jl('Error after applying mutator "'+e+'": ',o);else if(!K1(M,o))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},Xc=function(e,o){if(Zl(o).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+o.id)},Y1=function(e,o){return Yc(e.mutationToDom,e.domToMutation,o+" mutationToDom/domToMutation")},hh=function(e,o){return Yc(e.saveExtraState,e.loadExtraState,o+" saveExtraState/loadExtraState")},As=function(e,o){return Yc(e.compose,e.decompose,o+" compose/decompose")},Yc=function(e,o,a){if(e&&o){if(typeof e!="function"||typeof o!="function")throw Error(a+" must be a function");return!0}if(!e&&!o)return!1;throw Error(a+"Must have both or neither functions")},Jl=function(e,o){const a=Y1(o,e),d=hh(o,e);if(!a&&!d)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");As(o,e)},Zl=function(e){const o=[];return e.domToMutation!==void 0&&o.push(e.domToMutation),e.mutationToDom!==void 0&&o.push(e.mutationToDom),e.saveExtraState!==void 0&&o.push(e.saveExtraState),e.loadExtraState!==void 0&&o.push(e.loadExtraState),e.compose!==void 0&&o.push(e.compose),e.decompose!==void 0&&o.push(e.decompose),o},K1=function(e,o){if(o=Zl(o),o.length!==e.length)return!1;for(let a=0;a<o.length;a++)if(e[a]!==o[a])return!1;return!0},du=function(e){if(typeof document!="object")throw Error("runAfterPageLoad() requires browser document.");if(document.readyState==="complete")e();else{const o=setInterval(function(){document.readyState==="complete"&&(clearInterval(o),e())},10)}},r.buildTooltipForDropdown$$module$build$src$core$extensions=function(e,o){const a=[];return function(){a.includes(this.type)||(Ta(this,e,o),a.push(this.type)),this.setTooltip((function(){const d=String(this.getFieldValue(e));return ii(o[d])}).bind(this))}},Ta=function(e,o,a){var d=e.getField(o);if(d instanceof jo&&!d.isOptionListDynamic()){d=d.getOptions();for(const M of d)M!==jo.SEPARATOR&&([,d]=M,a[d]===void 0&&console.warn(`No tooltip mapping for value ${d} of field ${o} of block type ${e.type}.`))}},r.buildTooltipWithFieldText$$module$build$src$core$extensions=function(e,o){return function(){this.setTooltip((function(){const a=this.getField(o);return ii(e).replace("%1",a?a.getText():"")}).bind(this))}},J1=function(){const e=this.tooltip;this.setTooltip((function(){const o=this.getParent();return o&&o.getInputsInline()&&o.tooltip||e}).bind(this))},Hr=function(e,o){return" "+e+","+o+" "},S0=function(e,o){return" "+e+o.join("")},xo=function(e,o){return" M "+e+","+o+" "},ls=function(e,o){return" m "+e+","+o+" "},L0=function(e,o){return" l "+e+","+o+" "},S=function(e){return" l"+e.join("")},_=function(e,o){return" "+e+" "+o+" "},C=function(e,o,a,d){return e+" "+a+" "+a+" "+o+d},G=function(e,o){if(!e||!o)throw Error("Cannot connect null connections.");e.targetConnection=o,o.targetConnection=e},pe=function(e,o){let a=null;o=o.outputConnection;const d=o?.getConnectionChecker();for(let M=0,oe;oe=e.inputList[M];M++){const at=oe.connection;let qt;if(at&&((qt=d)!=null&&qt.canConnect(o,at,!1))){if(a)return null;a=at}}return a},Ie=function(e,o){let a;for(;a=pe(e,o);)if(e=a.targetBlock(),!e||e.isShadow())return a;return null},ot=function(e){return Re(e)&&typeof e.getType=="function"&&typeof e.initView=="function"&&typeof e.dispose=="function"&&typeof e.getWeight=="function"&&typeof e.getSize=="function"&&typeof e.applyColour=="function"&&typeof e.hideForInsertionMarker=="function"&&typeof e.updateEditable=="function"&&typeof e.updateCollapsed=="function"&&typeof e.isShownWhenCollapsed=="function"&&typeof e.setOffsetInBlock=="function"&&typeof e.onLocationChange=="function"&&typeof e.onClick=="function"},kt=function(e){return ot(e)&&zl(e)&&Er(e)&&typeof e.setText=="function"&&typeof e.getText=="function"&&typeof e.setBubbleSize=="function"&&typeof e.getBubbleSize=="function"&&typeof e.setBubbleLocation=="function"&&typeof e.getBubbleLocation=="function"&&e.getType()===Ws.COMMENT},Pt=function(e){if(!(e.getDescendants(!1).length>100)){var o=e.workspace,a=e.getSvgRoot();o.getAudioManager().play("delete");var d=e.getRelativeToSurfaceXY(),M=a.cloneNode(!0);M.setAttribute("transform","translate("+d.x+","+d.y+")");var oe;(oe=o.getLayerManager())==null||oe.appendToAnimationLayer({getSvgRoot:()=>M}),Jt(M,{x:d.x,y:d.y,width:e.width,height:e.height},o.RTL,new Date)}},Jt=function(e,o,a,d){const M=(new Date().getTime()-d.getTime())/150;M>1?se(e):(e.setAttribute("transform","translate("+(o.x+(a?-1:1)*o.width/2*M)+","+(o.y+o.height/2*M)+") scale("+(1-M)+")"),setTimeout(Jt,10,e,o,a,d))},vn=function(e){var o=e.workspace;const a=o.scale;if(o.getAudioManager().play("click"),!(a<1)){var d=o.getSvgXY(e.getSvgRoot());e.outputConnection?(d.x+=(e.RTL?3:-3)*a,d.y+=13*a):e.previousConnection&&(d.x+=(e.RTL?-23:23)*a,d.y+=3*a);var M=Me(Tn.CIRCLE,{cx:d.x,cy:d.y,r:0,fill:"none",stroke:"#888","stroke-width":10},o.getParentSvg());e=Me(Tn.ANIMATE,{id:"animationCircle",begin:"indefinite",attributeName:"r",dur:"150ms",from:0,to:25*a},M),o=Me(Tn.ANIMATE,{id:"animationOpacity",begin:"indefinite",attributeName:"opacity",dur:"150ms",from:1,to:0},M),e.beginElement(),o.beginElement(),setTimeout(()=>void se(M),150)}},wn=function(e){if(ir(),e.workspace.getAudioManager().play("disconnect"),!(e.workspace.scale<1)){var o=e.getHeightWidth().height;o=Math.atan(10/o)/Math.PI*180,e.RTL||(o*=-1),N2=e,Rn(e,o,new Date,0)}},Rn=function(e,o,a,d){const M=[.66,1,.66,0,-.66,-1,-.66,0];let oe="";a.getTime()+200>new Date().getTime()&&(oe=`skewX(${Math.round(M[d%M.length]*o)})`,hc=setTimeout(Rn,15,e,o,a,d+1)),e.getSvgRoot().setAttribute("transform",`${e.getTranslation()} ${oe}`)},ir=function(){N2&&(hc&&(clearTimeout(hc),hc=null),N2.getSvgRoot().setAttribute("transform",N2.getTranslation()),N2=null)},Nr=function(e,o){e.workspace.RTL&&(o.x=e.workspace.getWidth()-o.x);const a=e.workspace,d=r.config$$module$build$src$core$config.snapRadius,M=Qn.difference(o,e.getRelativeToSurfaceXY()),oe=new Qn(0,0),at=a.getAllBlocks(!1).filter(qt=>qt.id!=e.id).map(qt=>qt.getRelativeToSurfaceXY());for(;Br(Qn.sum(o,oe),at)||wi(e,Qn.sum(M,oe),d);)a.RTL?oe.translate(-d,d*2):oe.translate(d,d*2);e.moveTo(Qn.sum(o,oe))},Br=function(e,o){return o.some(a=>Math.abs(a.x-e.x)<=1&&Math.abs(a.y-e.y)<=1)},wi=function(e,o,a){return e.getConnections_(!1).some(d=>!!d.closest(a,o).connection)},ui=function(e,o,a){const d=a.getBoundingRectangle(),M=d.right-d.left,oe=Vl(o.top,d.top,o.top+o.height-(d.bottom-d.top))-d.top;let at=o.left;return o=o.left+o.width-M,e.RTL?at=Math.min(o,at):o=Math.max(at,o),(e=Vl(at,d.left,o)-d.left)||oe?(a.moveBy(e,oe,["inbounds"]),!0):!1},di=function(e){return o=>{var a=e.getMetricsManager();if(a.hasFixedEdges()&&!e.isDragging()){var d;if(W6.includes((d=o.type)!=null?d:"")){d=a.getScrollMetrics(!0);const M=zi(e,o);M&&(a=r.getGroup$$module$build$src$core$events$utils()||!1,r.setGroup$$module$build$src$core$events$utils(o.group),ui(e,d,M)&&!o.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),r.setGroup$$module$build$src$core$events$utils(a))}else Ne(o)&&o.scale&&o.oldScale&&o.scale>o.oldScale&&Oi(e)}}},zi=function(e,o){let a=null;switch(o.type){case Mn.BLOCK_CREATE:case Mn.BLOCK_MOVE:(a=e.getBlockById(o.blockId))&&(a=a.getRootBlock());break;case Mn.COMMENT_CREATE:case Mn.COMMENT_MOVE:case Mn.COMMENT_RESIZE:a=e.getCommentById(o.commentId)}return a},Oi=function(e){var o=e.getMetricsManager();if(o.hasFixedEdges()&&!e.isDragging()){o=o.getScrollMetrics(!0);var a=e.getTopBoundedElements();for(let d=0,M;M=a[d];d++)ui(e,o,M)}},ms=function(e){return e&&typeof e.isDeletable=="function"&&typeof e.dispose=="function"&&typeof e.setDeleteStyle=="function"},Us=function(e,o){const a=e.getIcons();for(const d of e.inputList){if(!d.isVisible())continue;a.push(...d.fieldRow);let M;if((M=d.connection)!=null&&M.targetBlock())if(e=d.connection.targetBlock(),d.connection.type!==Or.NEXT_STATEMENT||o)a.push(e);else{let oe;(e=(oe=e.lastConnectionInStack(!1))==null?void 0:oe.getSourceBlock())&&a.push(e)}else{let oe;((oe=d.connection)==null?void 0:oe.type)===Or.INPUT_VALUE&&a.push(d.connection)}}return a},Os=function(e,o){const a=e.workspace.getTopBoundedElements(!0).filter(M=>Re(M));e=a.indexOf(e instanceof Ss?e.getRootBlock():e)+o;let d=null;if(e>=0&&e<a.length?d=a[e]:e<0?d=a[a.length-1]:e>=a.length&&(d=a[0]),o<0&&d instanceof Ss){let M,oe;return(oe=(M=d.lastConnectionInStack(!1))==null?void 0:M.getSourceBlock())!=null?oe:d}return d},zs=function(e,o){var a;let d;const M=e instanceof Ss?(d=(a=e.outputConnection)==null?void 0:a.targetBlock())!=null?d:e.getSurroundParent():e.getSourceBlock();return!(M instanceof Ss)||(a=Us(M,o>0),e=a.indexOf(e),e===-1)?null:(o=e+o,o>=0&&o<a.length?a[o]:null)},Ti=function(e,o){i(Yn.ICON,e.toString(),o)},ji=function(e){h(Yn.ICON,e)},Xi=function(e){return e&&typeof e.getRelativeToSurfaceXY=="function"&&typeof e.isMovable=="function"&&typeof e.startDrag=="function"&&typeof e.drag=="function"&&typeof e.endDrag=="function"&&typeof e.revertDrag=="function"},as=function(e){return e&&typeof e.autoHide=="function"},Hi=function(e){return typeof e.getProcedureModel=="function"&&typeof e.doProcedureUpdate=="function"&&typeof e.isProcedureDef=="function"},ws=function(e){return e&&typeof e.startPublishing=="function"&&typeof e.stopPublishing=="function"},Do=function(e){const o=e.getProcedureMap().getProcedures().filter(d=>!d.getReturnTypes()).map(d=>[d.getName(),d.getParameters().map(M=>M.getName()),!1]);e.getBlocksByType("procedures_defnoreturn",!1).forEach(d=>{!Hi(d)&&Nt(d)&&o.push(d.getProcedureDef())});const a=e.getProcedureMap().getProcedures().filter(d=>!!d.getReturnTypes()).map(d=>[d.getName(),d.getParameters().map(M=>M.getName()),!0]);return e.getBlocksByType("procedures_defreturn",!1).forEach(d=>{!Hi(d)&&Nt(d)&&a.push(d.getProcedureDef())}),o.sort(Ea),a.sort(Ea),[o,a]},Ea=function(e,o){return e[0].localeCompare(o[0],void 0,{sensitivity:"base"})},r.findLegalName$$module$build$src$core$procedures=function(e,o){if(o.isInFlyout)return e;for(e=e||r.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";!Wu(e,o.workspace,o);){const a=e.match(/^(.*?)(\d+)$/);e=a?a[1]+(parseInt(a[2])+1):e+"2"}return e},Wu=function(e,o,a){return!Kc(e,o,a)},Kc=function(e,o,a){for(const d of o.getAllBlocks(!1))if(d!==a&&Nt(d)&&r.Names$$module$build$src$core$names.equals(d.getProcedureDef()[0],e))return!0;a=a&&Hi(a)?a?.getProcedureModel():void 0;for(const d of o.getProcedureMap().getProcedures())if(d!==a&&r.Names$$module$build$src$core$names.equals(d.getName(),e))return!0;return!1},r.rename$$module$build$src$core$procedures=function(e){var o=this.getSourceBlock();if(!o)throw new fo;e=e.trim();const a=r.findLegalName$$module$build$src$core$procedures(e,o);Hi(o)&&!o.isInsertionMarker()&&o.getProcedureModel().setName(a);const d=this.getValue();if(d!==e&&d!==a)for(e=o.workspace.getAllBlocks(!1),o=0;o<e.length;o++){const M=e[o];M.renameProcedure&&M.renameProcedure(d,a)}return a},Z1=function(e){function o(oe,at){for(let Wn=0;Wn<oe.length;Wn++){var qt=oe[Wn][0];const Gr=oe[Wn][1],po=r.createElement$$module$build$src$core$utils$xml("block");po.setAttribute("type",at),po.setAttribute("gap","16");const Ds=r.createElement$$module$build$src$core$utils$xml("mutation");for(Ds.setAttribute("name",qt),po.appendChild(Ds),qt=0;qt<Gr.length;qt++){const N0=r.createElement$$module$build$src$core$utils$xml("arg");N0.setAttribute("name",Gr[qt]),Ds.appendChild(N0)}a.push(po)}}const a=[];if(Vs.procedures_defnoreturn){var d=r.createElement$$module$build$src$core$utils$xml("block");d.setAttribute("type","procedures_defnoreturn"),d.setAttribute("gap","16");var M=r.createElement$$module$build$src$core$utils$xml("field");M.setAttribute("name","NAME"),M.appendChild(r.createTextNode$$module$build$src$core$utils$xml(r.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE)),d.appendChild(M),a.push(d)}return Vs.procedures_defreturn&&(d=r.createElement$$module$build$src$core$utils$xml("block"),d.setAttribute("type","procedures_defreturn"),d.setAttribute("gap","16"),M=r.createElement$$module$build$src$core$utils$xml("field"),M.setAttribute("name","NAME"),M.appendChild(r.createTextNode$$module$build$src$core$utils$xml(r.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),d.appendChild(M),a.push(d)),Vs.procedures_ifreturn&&(d=r.createElement$$module$build$src$core$utils$xml("block"),d.setAttribute("type","procedures_ifreturn"),d.setAttribute("gap","16"),a.push(d)),a.length&&a[a.length-1].setAttribute("gap","24"),e=Do(e),o(e[0],"procedures_callnoreturn"),o(e[1],"procedures_callreturn"),a},Ql=function(e){return x0(e,!1)},x0=function(e,o=!0){function a(M,oe){for(const[at,qt]of M)d.push({kind:"block",type:oe,gap:16,extraState:{name:at,params:qt}})}if(o)return Sn("The XML return value of Blockly.Procedures.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),Z1(e);const d=[];return Vs.procedures_defnoreturn&&d.push({kind:"block",type:"procedures_defnoreturn",gap:16,fields:{NAME:r.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE}}),Vs.procedures_defreturn&&d.push({kind:"block",type:"procedures_defreturn",gap:16,fields:{NAME:r.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE}}),Vs.procedures_ifreturn&&d.push({kind:"block",type:"procedures_ifreturn",gap:16}),d.length&&(d[d.length-1].gap=24),e=Do(e),a(e[0],"procedures_callnoreturn"),a(e[1],"procedures_callreturn"),d},D0=function(e){var o=[],a=e.getBlocksByType("procedures_mutatorarg",!1);for(let oe=0,at;at=a[oe];oe++)o.push(at.getFieldValue("NAME"));a=r.createElement$$module$build$src$core$utils$xml("xml");const d=r.createElement$$module$build$src$core$utils$xml("block");d.setAttribute("type","procedures_mutatorarg");const M=r.createElement$$module$build$src$core$utils$xml("field");M.setAttribute("name","NAME"),o=kr(r.DEFAULT_ARG$$module$build$src$core$procedures,o),o=r.createTextNode$$module$build$src$core$utils$xml(o),M.appendChild(o),d.appendChild(M),a.appendChild(d),e.updateToolbox(a)},Sa=function(e){if(fe(e)&&e.bubbleType==="mutator"&&e.isOpen&&e.blockId){e=Mt(e.workspaceId).getBlockById(e.blockId);var o=e.type;(o==="procedures_defnoreturn"||o==="procedures_defreturn")&&(e=e.getIcon(r.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),D0(e),e.addChangeListener(_4))}},_4=function(e){(O(e)||N(e)||R(e)||B(e))&&(e=Mt(e.workspaceId),D0(e))},w4=function(e,o){return o.getAllBlocks(!1).filter(a=>pu(a,e)||Dt(a)&&r.Names$$module$build$src$core$names.equals(a.getProcedureCall(),e))},pu=function(e,o){return Hi(e)&&!e.isProcedureDef()&&e.getProcedureModel()&&r.Names$$module$build$src$core$names.equals(e.getProcedureModel().getName(),o)},r.mutateCallers$$module$build$src$core$procedures=function(e){const o=qe();var a=e.getProcedureDef()[0];const d=e.mutationToDom(!0);e=w4(a,e.workspace);for(let oe=0,at;at=e[oe];oe++){a=(a=at.mutationToDom())&&st(a),at.domToMutation&&at.domToMutation(d);var M=at.mutationToDom();M=M&&st(M),a!==M&&(r.setRecordUndo$$module$build$src$core$events$utils(!1),de(new(Ut(Mn.BLOCK_CHANGE))(at,"mutation",null,a,M)),r.setRecordUndo$$module$build$src$core$events$utils(o))}},r.getDefinition$$module$build$src$core$procedures=function(e,o){for(const a of o.getAllBlocks(!1))if(Hi(a)&&a.isProcedureDef()&&r.Names$$module$build$src$core$names.equals(a.getProcedureModel().getName(),e)||Nt(a)&&r.Names$$module$build$src$core$names.equals(a.getProcedureDef()[0],e))return a;return null},d0=function(e){return e.isDynamic},uo=function(e){return e.pathDown!==void 0&&e.pathUp!==void 0},fh=function(e){return e.pathLeft!==void 0&&e.pathRight!==void 0},dl=function(e,o){i(Yn.RENDERER,e,o)},vi=function(e){h(Yn.RENDERER,e)},gs=function(e,o,a){return e=new(y(Yn.RENDERER,e))(e),e.init(o,a),e},to=function(e){yr(e.getTargetWorkspace(),void 0,"String")},Jc=function(e){yr(e.getTargetWorkspace(),void 0,"Number")},mu=function(e){yr(e.getTargetWorkspace(),void 0,"Colour")},xa=function(e){return Q1(e,!1)},Q1=function(e,o=!0){return Vs.variables_set_dynamic||Vs.variables_get_dynamic||console.warn("There are no dynamic variable blocks, but there is a dynamic variable category."),o?(Sn("The XML return value of Blockly.VariablesDynamic.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),e2(e)):(e.registerButtonCallback("CREATE_VARIABLE_STRING",to),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",Jc),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",mu),[{kind:"button",text:r.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE,callbackkey:"CREATE_VARIABLE_STRING"},{kind:"button",text:r.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE,callbackkey:"CREATE_VARIABLE_NUMBER"},{kind:"button",text:r.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE,callbackkey:"CREATE_VARIABLE_COLOUR"},...xn(e,e.getVariableMap().getAllVariables(),!1,"variables_get_dynamic","variables_set_dynamic")])},e2=function(e){let o=[],a=document.createElement("button");return a.setAttribute("text",r.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE),a.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),o.push(a),a=document.createElement("button"),a.setAttribute("text",r.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE),a.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),o.push(a),a=document.createElement("button"),a.setAttribute("text",r.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE),a.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),o.push(a),e.registerButtonCallback("CREATE_VARIABLE_STRING",to),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",Jc),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",mu),e=ju(e),o=o.concat(e)},ju=function(e){e=e.getVariableMap().getAllVariables();const o=[];if(e.length>0){if(Vs.variables_set_dynamic){var a=e[e.length-1];const d=r.createElement$$module$build$src$core$utils$xml("block");d.setAttribute("type","variables_set_dynamic"),d.setAttribute("gap","24"),d.appendChild(cr(a)),o.push(d)}if(Vs.variables_get_dynamic){e.sort(Vn);for(let d=0,M;M=e[d];d++)a=r.createElement$$module$build$src$core$utils$xml("block"),a.setAttribute("type","variables_get_dynamic"),a.setAttribute("gap","8"),a.appendChild(cr(M)),o.push(a)}}return o},T4=function(e,o){const a=e.toCopyData();return R5=a,L5=ke(e)&&e.workspace instanceof X0?e.workspace:null,$8=o,a},Hs=function(){return R5},E4=function(e){R5=e},t2=function(){return L5},x6=function(e){L5=e},S4=function(){return $8},V7=function(e){$8=e},Ca=function(e,o,a){return e&&o?dh(e,o,a):R5&&L5?dh(R5,L5,$8):null},dh=function(e,o,a){let d;o=o.isMutator?o:(d=o.options.parentWorkspace)!=null?d:o;let M,oe;return(oe=(M=$(Yn.PASTER,e.paster,!1))==null?void 0:M.paste(e,o,a))!=null?oe:null},Zc=function(e){return e&&typeof e.toCopyData=="function"},n0=function(){vs.registry.register({name:mc.ESCAPE,preconditionFn(e){return!e.isReadOnly()},callback(e){return e.hideChaff(),!0},keyCodes:[fs.ESC]})},no=function(){vs.registry.register({name:mc.DELETE,preconditionFn(e,o){return o=o.focusedNode,!e.isReadOnly()&&o!=null&&ms(o)&&o.isDeletable()&&!e.isDragging()&&!r.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(e,o,a,d){return o.preventDefault(),e=d.focusedNode,e instanceof Ss?e.checkAndDelete():ms(e)&&e.isDeletable()&&(r.setGroup$$module$build$src$core$events$utils(!0),e.dispose(),r.setGroup$$module$build$src$core$events$utils(!1)),!0},keyCodes:[fs.DELETE,fs.BACKSPACE]})},Qc=function(e){return Zc(e)&&ms(e)&&Xi(e)?e.isCopyable?e.isCopyable():e instanceof Ss||e instanceof Il?e.isOwnDeletable()&&e.isOwnMovable():e.isDeletable()&&e.isMovable():!1},e1=function(e){return Qc(e)&&ms(e)&&e.isDeletable()},n2=function(){const e=vs.registry.createSerializedKey(fs.C,[fs.CTRL]),o=vs.registry.createSerializedKey(fs.C,[fs.META]);vs.registry.register({name:mc.COPY,preconditionFn(a,d){return d=d.focusedNode,a=a.isFlyout?a.targetWorkspace:a,!!d&&!!a&&!a.isDragging()&&!r.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&Qc(d)},callback(a,d,M,oe){return d.preventDefault(),d=oe.focusedNode,!d||!Zc(d)||!Qc(d)||(a=a.isFlyout?a.targetWorkspace:a,!a)?!1:(d.workspace.isFlyout||a.hideChaff(),a=Xi(d)&&d.workspace==a?d.getRelativeToSurfaceXY():void 0,!!T4(d,a))},keyCodes:[e,o]})},ph=function(){const e=vs.registry.createSerializedKey(fs.X,[fs.CTRL]),o=vs.registry.createSerializedKey(fs.X,[fs.META]);vs.registry.register({name:mc.CUT,preconditionFn(a,d){return d=d.focusedNode,!!d&&!a.isReadOnly()&&!a.isDragging()&&!r.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&e1(d)},callback(a,d,M,oe){return a=oe.focusedNode,!a||!e1(a)||!Zc(a)?!1:(d=Xi(a)?a.getRelativeToSurfaceXY():void 0,d=T4(a,d),a instanceof Ss?a.checkAndDelete():ms(a)&&a.dispose(),!!d)},keyCodes:[e,o]})},ea=function(){const e=vs.registry.createSerializedKey(fs.V,[fs.CTRL]),o=vs.registry.createSerializedKey(fs.V,[fs.META]);vs.registry.register({name:mc.PASTE,preconditionFn(){var a=t2();return!a||!a.rendered?!1:(a=a.isFlyout?a.targetWorkspace:a,!!Hs()&&!!a&&!a.isReadOnly()&&!a.isDragging()&&!r.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken())},callback(a,d){if(a=Hs(),!a)return!1;var M=t2();if(!M||(M=M.isFlyout?M.targetWorkspace:M,!M||M.isReadOnly()))return!1;if(d instanceof PointerEvent)return d=ge(M,new Qn(d.clientX,d.clientY)),!!Ca(a,M,d);if(d=S4(),!d)return!!Ca(a,M);const{left:oe,top:at,width:qt,height:Wn}=M.getMetricsManager().getViewMetrics(!0);return new ci(at,at+Wn,oe,oe+qt).contains(d.x,d.y)?!!Ca(a,M):(d=new Qn(oe+qt/2,at+Wn/2),!!Ca(a,M,d))},keyCodes:[e,o]})},r2=function(){const e=vs.registry.createSerializedKey(fs.Z,[fs.CTRL]),o=vs.registry.createSerializedKey(fs.Z,[fs.META]);vs.registry.register({name:mc.UNDO,preconditionFn(a){return!a.isReadOnly()&&!a.isDragging()&&!r.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(a,d){return a.hideChaff(),a.undo(!1),d.preventDefault(),!0},keyCodes:[e,o]})},mh=function(){const e=vs.registry.createSerializedKey(fs.Z,[fs.CTRL,fs.SHIFT]),o=vs.registry.createSerializedKey(fs.Z,[fs.META,fs.SHIFT]),a=vs.registry.createSerializedKey(fs.Y,[fs.CTRL]);vs.registry.register({name:mc.REDO,preconditionFn(d){return!d.isDragging()&&!d.isReadOnly()&&!r.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(d,M){return d.hideChaff(),d.undo(!0),M.preventDefault(),!0},keyCodes:[e,o,a]})},gh=function(){n0(),no(),n2(),ph(),ea(),r2(),mh()},x4=function(e){const o=e.saveState();return e.getParameters().length&&(o.parameters=e.getParameters().map(a=>a.saveState())),o},C4=function(e,o,a,d){if(e=e.loadState(a,d),!a.parameters)return e;for(const[M,oe]of a.parameters.entries())e.insertParameter(o.loadState(oe,d),M);return e},C6=function(e){const o=Object.create(null),a=T(Yn.SERIALIZER,!0);for(const d in a){let M;const oe=(M=a[d])==null?void 0:M.save(e);oe&&(o[d]=oe)}return o},M6=function(e,o,{recordUndo:a=!1}={}){var d=T(Yn.SERIALIZER,!0);if(d){d=Object.entries(d).sort((oe,at)=>at[1].priority-oe[1].priority);var M=qe();r.setRecordUndo$$module$build$src$core$events$utils(a),(a=r.getGroup$$module$build$src$core$events$utils())||r.setGroup$$module$build$src$core$events$utils(!0),Qe(),o instanceof X0&&o.setResizesEnabled(!1);for(const[,oe]of d.reverse()){let at;(at=oe)==null||at.clear(o)}for(const[oe,at]of d.reverse())if(e[oe]){let qt;(qt=at)==null||qt.load(e[oe],o)}o instanceof X0&&o.setResizesEnabled(!0),Tt(),de(new(Ut(Mn.FINISHED_LOADING))(o)),r.setGroup$$module$build$src$core$events$utils(a),r.setRecordUndo$$module$build$src$core$events$utils(M)}},k6=function(e,o){let a=null;a=typeof e=="string"?document.getElementById(e)||document.querySelector(e):e;var d;if(!document.contains(a)&&document!==((d=a)==null?void 0:d.ownerDocument))throw Error("Error: container is not in current document");e=new la(o||{}),d=document.createElement("div"),ut(d,"injectionDiv"),o!=null&&o.rtl&&ut(d,"blocklyRTL"),a.appendChild(d),o=A6(d,e);const M=M4(d,o,e);return N6(M),Ee(M),ve(M),d.addEventListener("focusin",function(){Ee(M)}),le(d,"keydown",null,St),M},A6=function(e,o){e.setAttribute("dir","LTR"),pn(o.hasCss,o.pathToMedia);const a=Me(Tn.SVG,{xmlns:g2,"xmlns:html":$u,"xmlns:xlink":C0,version:"1.1",class:"blocklySvg"},e),d=Me(Tn.DEFS,{},a),M=String(Math.random()).substring(2);return o.gridPattern=F2.createDom(M,o.gridOptions,d,e),a},M4=function(e,o,a){a.parentWorkspace=null,a=new X0(a);const d=a.options;a.scale=d.zoomOptions.startScale,o.appendChild(a.createDom("blocklyMainBackground",e));var M=a.getRenderer().getClassName();return M&&ut(e,M),(M=a.getTheme().getClassName())&&ut(e,M),!d.hasCategories&&d.languageTree&&(e=a.addFlyout(Tn.SVG),Ae(e,o)),d.hasTrashcan&&a.addTrashcan(),d.zoomOptions&&d.zoomOptions.controls&&a.addZoomControls(),a.getThemeManager().subscribe(o,"workspaceBackgroundColour","background-color"),a.translate(0,0),a.addChangeListener(di(a)),ve(a),ol(),iu(),_i(),a},N6=function(e){const o=e.options;var a=e.getParentSvg();if(le(a.parentNode,"contextmenu",null,function(d){Oe(d)||d.preventDefault()}),a=le(window,"resize",null,function(){Zi(),e.hideComponents(!0),_n(),ba(),ve(e),Oi(e)}),e.setResizeHandlerWrapper(a),G7(),o.languageTree){a=e.getToolbox();const d=e.getFlyout(!0);a?a.init():d&&(d.init(e),d.show(o.languageTree),typeof d.scrollToStart=="function"&&d.scrollToStart())}o.hasTrashcan&&e.trashcan.init(),o.zoomOptions&&o.zoomOptions.controls&&e.zoomControls_.init(),o.moveOptions&&o.moveOptions.scrollbars?(e.scrollbar=new Ga(e,o.moveOptions.scrollbars===!0||!!o.moveOptions.scrollbars.horizontal,o.moveOptions.scrollbars===!0||!!o.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),o.hasSounds&&I6(o.pathToMedia,e)},G7=function(){_$||(le(document,"scroll",null,function(){const e=Ot();for(let o=0,a;a=e[o];o++)a instanceof X0&&a.updateInverseScreenCTM()}),te(document,"touchend",null,A),te(document,"touchcancel",null,A)),_$=!0},I6=function(e,o){function a(){for(;M.length;){const oe=M.pop();oe&&Ce(oe)}d.preload()}const d=o.getAudioManager();d.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),d.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),d.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");const M=[];M.push(le(document,"pointermove",null,a,!0)),M.push(le(document,"touchstart",null,a,!0))},O6=function(e){if(!e||!e.isSimpleReporter())return!1;let o;return(o=e.getFields().next().value)==null?void 0:o.isFullBlockField()},k4=function(){gi.registry.register({displayText(){return r.Msg$$module$build$src$core$msg.UNDO},preconditionFn(e){return e.workspace.getUndoStack().length>0?"enabled":"disabled"},callback(e){e.workspace.undo(!1)},scopeType:gi.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},vh=function(){gi.registry.register({displayText(){return r.Msg$$module$build$src$core$msg.REDO},preconditionFn(e){return e.workspace.getRedoStack().length>0?"enabled":"disabled"},callback(e){e.workspace.undo(!0)},scopeType:gi.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},A4=function(){gi.registry.register({displayText(){return r.Msg$$module$build$src$core$msg.CLEAN_UP},preconditionFn(e){return e.workspace.isMovable()?e.workspace.getTopBlocks(!1).length>1?"enabled":"disabled":"hidden"},callback(e){e.workspace.cleanUp()},scopeType:gi.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},N4=function(e,o){function a(oe){M--,oe.setCollapsed(e),M===0&&r.setGroup$$module$build$src$core$events$utils(!1)}let d=0,M=0;r.setGroup$$module$build$src$core$events$utils(!0);for(let oe=0;oe<o.length;oe++){let at=o[oe];for(;at;)M++,setTimeout(a.bind(null,at),d),at=at.getNextBlock(),d+=10}},I4=function(){gi.registry.register({displayText(){return r.Msg$$module$build$src$core$msg.COLLAPSE_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let o=0;o<e.length;o++){let a=e[o];for(;a;){if(!a.isCollapsed())return"enabled";a=a.getNextBlock()}}return"disabled"}return"hidden"},callback(e){N4(!0,e.workspace.getTopBlocks(!0))},scopeType:gi.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},O4=function(){gi.registry.register({displayText(){return r.Msg$$module$build$src$core$msg.EXPAND_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let o=0;o<e.length;o++){let a=e[o];for(;a;){if(a.isCollapsed())return"enabled";a=a.getNextBlock()}}return"disabled"}return"hidden"},callback(e){N4(!1,e.workspace.getTopBlocks(!0))},scopeType:gi.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},R4=function(e,o){if(e.isDeletable())Array.prototype.push.apply(o,e.getDescendants(!1));else{e=e.getChildren(!1);for(let a=0;a<e.length;a++)R4(e[a],o)}},L4=function(e){const o=[];e=e.getTopBlocks(!0);for(let a=0;a<e.length;a++)R4(e[a],o);return o},i2=function(e,o){o?r.setGroup$$module$build$src$core$events$utils(o):(r.setGroup$$module$build$src$core$events$utils(!0),o=r.getGroup$$module$build$src$core$events$utils());const a=e.shift();a&&(a.isDeadOrDying()?i2(e,o):(a.dispose(!1,!0),setTimeout(i2,10,e,o))),r.setGroup$$module$build$src$core$events$utils(!1)},Xu=function(){gi.registry.register({displayText(e){return e.workspace?(e=L4(e.workspace).length,e===1?r.Msg$$module$build$src$core$msg.DELETE_BLOCK:r.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)):""},preconditionFn(e){return e.workspace&&L4(e.workspace).length>0?"enabled":"disabled"},callback(e){if(e.workspace){e.workspace.cancelCurrentGesture();var o=L4(e.workspace);o.length<2?i2(o):an(r.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace("%1",String(o.length)),function(a){a&&i2(o)})}},scopeType:gi.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},R6=function(){k4(),vh(),A4(),I4(),O4(),Xu()},s2=function(){gi.registry.register({displayText(){return r.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback(e){if(e.block){var o=e.block.toCopyData();o&&Ca(o,e.block.workspace)}},scopeType:gi.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},o2=function(){gi.registry.register({displayText(e){return e.block.hasIcon($l.TYPE)?r.Msg$$module$build$src$core$msg.REMOVE_COMMENT:r.Msg$$module$build$src$core$msg.ADD_COMMENT},preconditionFn(e){return e=e.block,!e||e.isInFlyout||!e.workspace.options.comments||e.isCollapsed()||!e.isEditable()||!e.hasIcon($l.TYPE)&&O6(e)?"hidden":"enabled"},callback(e){(e=e.block)&&e.hasIcon($l.TYPE)?e.setCommentText(null):e.setCommentText("")},scopeType:gi.ScopeType.BLOCK,id:"blockComment",weight:2})},D4=function(){gi.registry.register({displayText(e){return e.block.getInputsInline()?r.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:r.Msg$$module$build$src$core$msg.INLINE_INPUTS},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.isMovable()&&!e.isCollapsed()){for(let o=1;o<e.inputList.length;o++)if(!(e.inputList[o-1]instanceof _8||e.inputList[o]instanceof _8))return"enabled"}return"hidden"},callback(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:gi.ScopeType.BLOCK,id:"blockInline",weight:3})},$h=function(){gi.registry.register({displayText(e){return e.block.isCollapsed()?r.Msg$$module$build$src$core$msg.EXPAND_BLOCK:r.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:gi.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},L6=function(){gi.registry.register({displayText(e){return e.block.hasDisabledReason(li)?r.Msg$$module$build$src$core$msg.ENABLE_BLOCK:r.Msg$$module$build$src$core$msg.DISABLE_BLOCK},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.workspace.options.disable&&e.isEditable()){var o=e.getDisabledReasons();return o=o.size>(o.has(li)?1:0),e.getInheritedDisabled()||o?"disabled":"enabled"}return"hidden"},callback(e){e=e.block;const o=r.getGroup$$module$build$src$core$events$utils();o||r.setGroup$$module$build$src$core$events$utils(!0),e.setDisabledReason(!e.hasDisabledReason(li),li),r.setGroup$$module$build$src$core$events$utils(o)},scopeType:gi.ScopeType.BLOCK,id:"blockDisable",weight:5})},B4=function(){gi.registry.register({displayText(e){var o=e.block;return e=o.getDescendants(!1).length,(o=o.getNextBlock())&&(e-=o.getDescendants(!1).length),e===1?r.Msg$$module$build$src$core$msg.DELETE_BLOCK:r.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)},preconditionFn(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback(e){e.block&&e.block.checkAndDelete()},scopeType:gi.ScopeType.BLOCK,id:"blockDelete",weight:6})},P4=function(){gi.registry.register({displayText(){return r.Msg$$module$build$src$core$msg.HELP},preconditionFn(e){return e=e.block,(typeof e.helpUrl=="function"?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback(e){e.block.showHelp()},scopeType:gi.ScopeType.BLOCK,id:"blockHelp",weight:7})},F4=function(){gi.registry.register({displayText:()=>r.Msg$$module$build$src$core$msg.REMOVE_COMMENT,preconditionFn(e){let o;return(o=e.comment)!=null&&o.isDeletable()?"enabled":"hidden"},callback(e){r.setGroup$$module$build$src$core$events$utils(!0);let o;(o=e.comment)==null||o.dispose(),r.setGroup$$module$build$src$core$events$utils(!1)},scopeType:gi.ScopeType.COMMENT,id:"commentDelete",weight:6})},U4=function(){gi.registry.register({displayText:()=>r.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,preconditionFn(e){let o;return(o=e.comment)!=null&&o.isMovable()?"enabled":"hidden"},callback(e){if(e.comment){var o=e.comment.toCopyData();o&&Ca(o,e.comment.workspace)}},scopeType:gi.ScopeType.COMMENT,id:"commentDuplicate",weight:1})},z4=function(){gi.registry.register({displayText:()=>r.Msg$$module$build$src$core$msg.ADD_COMMENT,preconditionFn:e=>{let o;return(o=e.workspace)!=null&&o.isMutator?"hidden":"enabled"},callback:(e,o,a,d)=>{(e=e.workspace)&&(r.setGroup$$module$build$src$core$events$utils(!0),o=new Il(e),o.setPlaceholderText(r.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT),o.moveTo(ge(e,new Qn(d.x,d.y))),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(o),r.setGroup$$module$build$src$core$events$utils(!1))},scopeType:gi.ScopeType.WORKSPACE,id:"commentCreate",weight:8})},H4=function(){s2(),o2(),D4(),$h(),L6(),B4(),P4()},D6=function(){U4(),F4(),z4()},V4=function(){R6(),H4()},G4=function(e){return e&&typeof e.paste=="function"},B6=function(e){return e&&typeof e.getSvgRoot=="function"},P6=function(e){return e.isSelectable()},q7=function(e){Y().hideChaff(e)},In=In||{},In.scope={},In.ASSUME_ES5=!1,In.ASSUME_ES6=!1,In.ASSUME_ES2020=!1,In.ASSUME_NO_NATIVE_MAP=!1,In.ASSUME_NO_NATIVE_SET=!1,In.ISOLATE_POLYFILLS=!1,In.FORCE_POLYFILL_PROMISE=!1,In.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,In.INSTRUMENT_ASYNC_CONTEXT=!0,In.objectCreate=In.ASSUME_ES5||typeof Object.create=="function"?Object.create:function(e){var o=function(){};return o.prototype=e,new o},In.defineProperty=In.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,o,a){return e==Array.prototype||e==Object.prototype||(e[o]=a.value),e},In.getGlobal=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof u7=="object"&&u7];for(var o=0;o<e.length;++o){var a=e[o];if(a&&a.Math==Math)return a}throw Error("Cannot find global object")},In.global=In.ASSUME_ES2020?globalThis:In.getGlobal(this),In.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",In.TRUST_ES6_POLYFILLS=!In.ISOLATE_POLYFILLS||In.IS_SYMBOL_NATIVE,In.polyfills={},In.propertyToPolyfillSymbol={},In.POLYFILL_PREFIX="$jscp$",In.polyfill=function(e,o,a,d){o&&(In.ISOLATE_POLYFILLS?In.polyfillIsolated(e,o,a,d):In.polyfillUnisolated(e,o,a,d))},In.polyfillUnisolated=function(e,o,a,d){for(a=In.global,e=e.split("."),d=0;d<e.length-1;d++){var M=e[d];if(!(M in a))return;a=a[M]}e=e[e.length-1],d=a[e],o=o(d),o!=d&&o!=null&&In.defineProperty(a,e,{configurable:!0,writable:!0,value:o})},In.polyfillIsolated=function(e,o,a,d){var M=e.split(".");e=M.length===1,d=M[0],d=!e&&d in In.polyfills?In.polyfills:In.global;for(var oe=0;oe<M.length-1;oe++){var at=M[oe];if(!(at in d))return;d=d[at]}M=M[M.length-1],a=In.IS_SYMBOL_NATIVE&&a==="es6"?d[M]:null,o=o(a),o!=null&&(e?In.defineProperty(In.polyfills,M,{configurable:!0,writable:!0,value:o}):o!==a&&(In.propertyToPolyfillSymbol[M]===void 0&&(a=Math.random()*1e9>>>0,In.propertyToPolyfillSymbol[M]=In.IS_SYMBOL_NATIVE?In.global.Symbol(M):In.POLYFILL_PREFIX+a+"$"+M),In.defineProperty(d,In.propertyToPolyfillSymbol[M],{configurable:!0,writable:!0,value:o})))},In.getConstructImplementation=function(){function e(){function a(){}return Reflect.construct(a,[],function(){}),new a instanceof a}if(In.TRUST_ES6_POLYFILLS&&typeof Reflect<"u"&&Reflect.construct){if(e())return Reflect.construct;var o=Reflect.construct;return function(a,d,M){return a=o(a,d),M&&Reflect.setPrototypeOf(a,M.prototype),a}}return function(a,d,M){return M===void 0&&(M=a),M=In.objectCreate(M.prototype||Object.prototype),Function.prototype.apply.call(a,M,d)||M}},In.construct={valueOf:In.getConstructImplementation}.valueOf(),In.underscoreProtoCanBeSet=function(){var e={a:!0},o={};try{return o.__proto__=e,o.a}catch{}return!1},In.setPrototypeOf=In.ASSUME_ES6||In.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf:In.underscoreProtoCanBeSet()?function(e,o){if(e.__proto__=o,e.__proto__!==o)throw new TypeError(e+" is not extensible");return e}:null,In.inherits=function(e,o){if(e.prototype=In.objectCreate(o.prototype),e.prototype.constructor=e,In.ASSUME_ES6||In.setPrototypeOf){var a=In.setPrototypeOf;a(e,o)}else for(a in o)if(a!="prototype")if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(o,a);d&&Object.defineProperty(e,a,d)}else e[a]=o[a];e.superClass_=o.prototype},In.arrayIteratorImpl=function(e){var o=0;return function(){return o<e.length?{done:!1,value:e[o++]}:{done:!0}}},In.arrayIterator=function(e){return{next:In.arrayIteratorImpl(e)}},In.makeIterator=function(e){var o=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];if(o)return o.call(e);if(typeof e.length=="number")return In.arrayIterator(e);throw Error(String(e)+" is not an iterable or ArrayLike")},In.arrayFromIterator=function(e){for(var o,a=[];!(o=e.next()).done;)a.push(o.value);return a},In.arrayFromIterable=function(e){return e instanceof Array?e:In.arrayFromIterator(In.makeIterator(e))},In.generator={},In.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},In.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},In.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},In.generator.Context.prototype.stop_=function(){this.isRunning_=!1},In.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},In.generator.Context.prototype.next_=function(e){this.yieldResult=e},In.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},In.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},In.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},In.generator.Context.prototype.yield=function(e,o){return this.nextAddress=o,{value:e}},In.generator.Context.prototype.yieldAll=function(e,o){e=In.makeIterator(e);var a=e.next();if(In.generator.ensureIteratorResultIsObject_(a),a.done)this.yieldResult=a.value,this.nextAddress=o;else return this.yieldAllIterator_=e,this.yield(a.value,o)},In.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},In.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},In.generator.Context.prototype.setCatchFinallyBlocks=function(e,o){this.catchAddress_=e,o!=null&&(this.finallyAddress_=o)},In.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},In.generator.Context.prototype.leaveTryBlock=function(e,o){this.nextAddress=e,this.catchAddress_=o||0},In.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e},In.generator.Context.prototype.enterFinallyBlock=function(e,o,a){a?this.finallyContexts_[a]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=o||0},In.generator.Context.prototype.leaveFinallyBlock=function(e,o){if(o=this.finallyContexts_.splice(o||0)[0],o=this.abruptCompletion_=this.abruptCompletion_||o){if(o.isException)return this.jumpToErrorHandler_();o.jumpTo!=null&&this.finallyAddress_<o.jumpTo?(this.nextAddress=o.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},In.generator.Context.prototype.forIn=function(e){return new In.generator.Context.PropertyIterator(e)},In.generator.Context.PropertyIterator=function(e){this.object_=e,this.properties_=[];for(var o in e)this.properties_.push(o);this.properties_.reverse()},In.generator.Context.PropertyIterator.prototype.getNext=function(){for(;this.properties_.length>0;){var e=this.properties_.pop();if(e in this.object_)return e}return null},In.generator.Engine_=function(e){this.context_=new In.generator.Context,this.program_=e},In.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},In.generator.Engine_.prototype.return_=function(e){this.context_.start_();var o=this.context_.yieldAllIterator_;return o?this.yieldAllStep_("return"in o?o.return:function(a){return{value:a,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},In.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},In.generator.Engine_.prototype.yieldAllStep_=function(e,o,a){try{var d=e.call(this.context_.yieldAllIterator_,o);if(In.generator.ensureIteratorResultIsObject_(d),!d.done)return this.context_.stop_(),d;var M=d.value}catch(oe){return this.context_.yieldAllIterator_=null,this.context_.throw_(oe),this.nextStep_()}return this.context_.yieldAllIterator_=null,a.call(this.context_,M),this.nextStep_()},In.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(o){this.context_.yieldResult=void 0,this.context_.throw_(o)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}},In.generator.Generator_=function(e){this.next=function(o){return e.next_(o)},this.throw=function(o){return e.throw_(o)},this.return=function(o){return e.return_(o)},this[Symbol.iterator]=function(){return this}},In.generator.createGenerator=function(e,o){return o=new In.generator.Generator_(new In.generator.Engine_(o)),In.setPrototypeOf&&e.prototype&&In.setPrototypeOf(o,e.prototype),o},In.asyncExecutePromiseGenerator=function(e){function o(d){return e.next(d)}function a(d){return e.throw(d)}return new Promise(function(d,M){function oe(at){at.done?d(at.value):Promise.resolve(at.value).then(o,a).then(oe,M)}oe(e.next())})},In.asyncExecutePromiseGeneratorFunction=function(e){return In.asyncExecutePromiseGenerator(e())},In.asyncExecutePromiseGeneratorProgram=function(e){return In.asyncExecutePromiseGenerator(new In.generator.Generator_(new In.generator.Engine_(e)))},In.polyfill("globalThis",function(e){return e||In.global},"es_2020","es3"),In.polyfill("Array.prototype.includes",function(e){return e||function(o,a){var d=this;d instanceof String&&(d=String(d));var M=d.length;for(a=a||0,a<0&&(a=Math.max(a+M,0));a<M;a++){var oe=d[a];if(oe===o||Object.is(oe,o))return!0}return!1}},"es7","es3"),In.checkEs6ConformanceViaProxy=function(){try{var e={},o=Object.create(new In.global.Proxy(e,{get:function(a,d,M){return a==e&&d=="q"&&M==o}}));return o.q===!0}catch{return!1}},In.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,In.ES6_CONFORMANCE=In.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&In.checkEs6ConformanceViaProxy(),In.initSymbol=function(){},In.iteratorPrototype=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},In.owns=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},In.MapEntry=function(){},In.polyfill("Set.prototype.difference",function(e){return e||function(o){In.checkIsSetInstance(this),In.checkIsSetLike(o);var a=In.getSmallerAndLargerSets(this,o);o=new Set(this);var d=a.smallerSetIterator;a=a.largerSet;for(var M=d.next();!M.done;)a.has(M.value)&&o.delete(M.value),M=d.next();return o}},"es_next","es6"),In.checkIsSetLike=function(e){if(typeof e!="object"||e===null||typeof e.size!="number"||e.size<0||typeof e.keys!="function"||typeof e.has!="function")throw new TypeError("Argument must be set-like")},In.checkIsValidIterator=function(e){if(typeof e!="object"||e===null||typeof e.next!="function")throw new TypeError("Invalid iterator.");return e},In.getSmallerAndLargerSets=function(e,o){return e.size<=o.size?{smallerSetIterator:e.keys(),largerSet:o}:{smallerSetIterator:In.checkIsValidIterator(o.keys()),largerSet:e}},In.checkIsSetInstance=function(e){if(!(e instanceof Set))throw new TypeError("Method must be called on an instance of Set.")},In.iteratorFromArray=function(e,o){if(In.ASSUME_ES6)return e[Symbol.iterator]();e instanceof String&&(e+="");var a=0,d=!1,M={next:function(){if(!d&&a<e.length){var oe=a++;return{value:o(oe,e[oe]),done:!1}}return d=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M},In.polyfill("Array.prototype.values",function(e){return e||function(){return In.iteratorFromArray(this,function(o,a){return a})}},"es8","es3"),In.polyfill("Array.prototype.flatMap",function(e){return e||function(o,a){var d=[];return Array.prototype.forEach.call(this,function(M,oe){M=o.call(a,M,oe,this),Array.isArray(M)?d.push.apply(d,M):d.push(M)}),d}},"es9","es5"),In.polyfill("Array.prototype.flat",function(e){return e||function(o){o=o===void 0?1:o;var a=[];return Array.prototype.forEach.call(this,function(d){Array.isArray(d)&&o>0?(d=Array.prototype.flat.call(d,o-1),a.push.apply(a,d)):a.push(d)}),a}},"es9","es5"),In.polyfill("Object.entries",function(e){return e||function(o){var a=[],d;for(d in o)In.owns(o,d)&&a.push([d,o[d]]);return a}},"es8","es3"),In.polyfill("Object.values",function(e){return e||function(o){var a=[],d;for(d in o)In.owns(o,d)&&a.push(o[d]);return a}},"es8","es3");var gu=Object.create(null),W7={typeMap:gu},l2=Object.create(null),B0="default",Yn=class{constructor(e){this.name=e}toString(){return this.name}};Yn.CONNECTION_CHECKER=new Yn("connectionChecker"),Yn.CONNECTION_PREVIEWER=new Yn("connectionPreviewer"),Yn.CURSOR=new Yn("cursor"),Yn.EVENT=new Yn("event"),Yn.FIELD=new Yn("field"),Yn.INPUT=new Yn("input"),Yn.RENDERER=new Yn("renderer"),Yn.TOOLBOX=new Yn("toolbox"),Yn.THEME=new Yn("theme"),Yn.TOOLBOX_ITEM=new Yn("toolboxItem"),Yn.FLYOUTS_VERTICAL_TOOLBOX=new Yn("flyoutsVerticalToolbox"),Yn.FLYOUTS_HORIZONTAL_TOOLBOX=new Yn("flyoutsHorizontalToolbox"),Yn.FLYOUT_INFLATER=new Yn("flyoutInflater"),Yn.METRICS_MANAGER=new Yn("metricsManager"),Yn.BLOCK_DRAGGER=new Yn("blockDragger"),Yn.SERIALIZER=new Yn("serializer"),Yn.ICON=new Yn("icon"),Yn.PASTER=new Yn("paster"),Yn.VARIABLE_MODEL=new Yn("variableModel"),Yn.VARIABLE_MAP=new Yn("variableMap");var vu={DEFAULT:B0,TEST_ONLY:W7};vu.Type=Yn,vu.getAllItems=T,vu.getClass=y,vu.getClassFromOptions=w,vu.getObject=$,vu.hasItem=g,vu.register=i,vu.unregister=h;var Vs=Object.create(null),j7=750,a2="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),u2=null,Ma={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},bh=0,Yu={TOUCH_ENABLED:a2,TOUCH_MAP:Ma};Yu.checkTouchIdentifier=V,Yu.clearTouchIdentifier=K,Yu.getTouchIdentifierFromEvent=he,Yu.longStart=I,Yu.longStop=A,Yu.shouldHandleEvent=ne;var t1,F6,q4,U6,c2,h2,W4,z6,Ku,H6;(function(e){function o(d){return a.includes(d.toUpperCase())}t1=e;const a=t1.toUpperCase();F6=o("JavaFX"),q4=o("WebKit"),U6=o("Gecko")&&!q4,c2=o("Android"),e=globalThis.navigator&&globalThis.navigator.maxTouchPoints,h2=o("iPad")||o("Macintosh")&&e>0,W4=o("iPhone")&&!h2,z6=o("Macintosh"),Ku=h2||c2&&!o("Mobile")||o("Silk"),H6=!Ku&&(W4||c2)})(globalThis.navigator&&globalThis.navigator.userAgent||"");var X7=t1,V6=F6,yh=U6,j4=c2,f2=h2,G6=W4,X4=z6,Y7=H6,q6={ANDROID:j4,GECKO:yh,IPAD:f2,IPHONE:G6,JavaFx:V6,MAC:X4,MOBILE:Y7,raw:X7},_o=40,Vo=125,ka={};ka.bind=te,ka.conditionalBind=le,ka.getScrollDeltaPixels=je,ka.isRightButton=ce,ka.isTargetInput=Oe,ka.mouseToSvg=Be,ka.unbind=Ce;var Mn;(function(e){e.BLOCK_CREATE="create",e.BLOCK_DELETE="delete",e.BLOCK_CHANGE="change",e.BLOCK_FIELD_INTERMEDIATE_CHANGE="block_field_intermediate_change",e.BLOCK_MOVE="move",e.VAR_CREATE="var_create",e.VAR_DELETE="var_delete",e.VAR_RENAME="var_rename",e.VAR_TYPE_CHANGE="var_type_change",e.UI="ui",e.BLOCK_DRAG="drag",e.SELECTED="selected",e.CLICK="click",e.MARKER_MOVE="marker_move",e.BUBBLE_OPEN="bubble_open",e.TRASHCAN_OPEN="trashcan_open",e.TOOLBOX_ITEM_SELECT="toolbox_item_select",e.THEME_CHANGE="theme_change",e.VIEWPORT_CHANGE="viewport_change",e.COMMENT_CREATE="comment_create",e.COMMENT_DELETE="comment_delete",e.COMMENT_CHANGE="comment_change",e.COMMENT_MOVE="comment_move",e.COMMENT_RESIZE="comment_resize",e.COMMENT_DRAG="comment_drag",e.COMMENT_COLLAPSE="comment_collapse",e.FINISHED_LOADING="finished_loading"})(Mn||(Mn={}));var W6=[Mn.BLOCK_CREATE,Mn.BLOCK_MOVE,Mn.COMMENT_CREATE,Mn.COMMENT_MOVE],j6="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d2={genUid:()=>{const e=j6.length,o=[];for(let a=0;a<20;a++)o[a]=j6.charAt(Math.random()*e);return o.join("")}},K7=0,p2={TEST_ONLY:d2};p2.genUid=b,p2.getNextUniqueId=_e;var X6="",_h=!0,m2=0,wh="ORPHANED_BLOCK",Aa=[],Y6={FIRE_QUEUE:Aa,enqueueEvent:ze,fireNow:gt,fireInternal:xe,setGroupInternal:Ct};r.disable$$module$build$src$core$events$utils,r.enable$$module$build$src$core$events$utils,r.getGroup$$module$build$src$core$events$utils,r.setGroup$$module$build$src$core$events$utils,r.setRecordUndo$$module$build$src$core$events$utils;var g2="http://www.w3.org/2000/svg",$u="http://www.w3.org/1999/xhtml",C0="http://www.w3.org/1999/xlink",ta;(function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"})(ta||(ta={}));var Nl=null,Th=0,Ju=null,Co={HTML_NS:$u};Co.NodeType=ta,Co.SVG_NS=g2,Co.XLINK_NS=C0,Co.addClass=ut,Co.createSvgElement=Me,Co.getFastTextWidth=Vt,Co.getFastTextWidthWithSizeString=rt,Co.getTextWidth=Et,Co.hasClass=De,Co.insertAfter=Ae,Co.measureFontMetrics=P,Co.removeClass=nn,Co.removeClasses=en,Co.removeNode=se,Co.setCssTransform=lt,Co.startTextWidthCache=Qe,Co.stopTextWidthCache=Tt;var Bo=class{static findFocusedNode(e){var o=e.getRootFocusableNode();if(!o.canBeFocused())return null;var a=o.getFocusableElement();return De(a,Bo.ACTIVE_CLASS_NAME)||De(a,Bo.PASSIVE_CSS_CLASS_NAME)||(o=a.querySelector(this.ACTIVE_FOCUS_NODE_CSS_SELECTOR),(o instanceof HTMLElement||o instanceof SVGElement)&&(o=Bo.findFocusableNodeFor(o,e)))?o:(a=a.querySelector(this.PASSIVE_FOCUS_NODE_CSS_SELECTOR),(a instanceof HTMLElement||a instanceof SVGElement)&&(e=Bo.findFocusableNodeFor(a,e))?e:null)}static findFocusableNodeFor(e,o){if(!e.id||e.id==="null"||o.getNestedTrees().map(M=>Bo.findFocusableNodeFor(e,M)).findIndex(M=>!!M)!==-1)return null;var a=o.getRootFocusableNode();if(a.canBeFocused()&&e===a.getFocusableElement())return a;var d;return(a=(d=o.lookUpFocusableNode(e.id))!=null?d:null)?a:(d=e.parentElement,!a&&d?Bo.findFocusableNodeFor(d,o):null)}};Bo.ACTIVE_CLASS_NAME="blocklyActiveFocus",Bo.PASSIVE_CSS_CLASS_NAME="blocklyPassiveFocus",Bo.ACTIVE_FOCUS_NODE_CSS_SELECTOR=`.${Bo.ACTIVE_CLASS_NAME}`,Bo.PASSIVE_FOCUS_NODE_CSS_SELECTOR=`.${Bo.PASSIVE_CSS_CLASS_NAME}`;var K6=class{constructor(e,o){this.tree=e,this.rootShouldBeAutoTabbable=o}},Go=class{constructor(e){this.previouslyFocusedNode=this.focusedNode=null,this.registeredTrees=[],this.isUpdatingFocusedNode=this.recentlyLostAllFocus=this.lockFocusStateChanges=this.currentlyHoldsEphemeralFocus=!1;const o=a=>{if(!this.isUpdatingFocusedNode){this.recentlyLostAllFocus=!a;var d=null;if(a instanceof HTMLElement||a instanceof SVGElement){for(var M of this.registeredTrees)if(d=Bo.findFocusableNodeFor(a,M.tree))break}if(d&&d.canBeFocused()){a=d.getFocusableTree();let oe;M=(oe=this.focusedNode)==null?void 0:oe.getFocusableTree(),d===a.getRootFocusableNode()&&a!==M?this.focusTree(a):this.focusNode(d)}else this.defocusCurrentFocusedNode()}};e("focusin",a=>{a instanceof FocusEvent&&o(document.activeElement)}),e("focusout",a=>{a instanceof FocusEvent&&o(a.relatedTarget)})}registerTree(e,o=!1){if(this.ensureManagerIsUnlocked(),this.isRegistered(e))throw Error(`Attempted to re-register already registered tree: ${e}.`);this.registeredTrees.push(new K6(e,o));const a=e.getRootFocusableNode().getFocusableElement();if(!a.id||a.id==="null")throw Error(`Attempting to register a tree with a root element that has an invalid ID: ${e}.`);o&&(a.tabIndex=0)}isRegistered(e){return!!this.lookUpRegistration(e)}lookUpRegistration(e){let o;return(o=this.registeredTrees.find(a=>a.tree===e))!=null?o:null}unregisterTree(e){if(this.ensureManagerIsUnlocked(),!this.isRegistered(e))throw Error(`Attempted to unregister not registered tree: ${e}.`);var o=this.registeredTrees.findIndex(M=>M.tree===e);const a=this.registeredTrees[o];this.registeredTrees.splice(o,1),o=Bo.findFocusedNode(e);const d=e.getRootFocusableNode();o&&this.removeHighlight(o),this.focusedNode!==o&&this.focusedNode!==d||this.updateFocusedNode(null),this.removeHighlight(d),a.rootShouldBeAutoTabbable&&e.getRootFocusableNode().getFocusableElement().removeAttribute("tabindex")}getFocusedTree(){let e,o;return(o=(e=this.focusedNode)==null?void 0:e.getFocusableTree())!=null?o:null}getFocusedNode(){return this.focusedNode}focusTree(e){if(this.ensureManagerIsUnlocked(),!this.isRegistered(e))throw Error(`Attempted to focus unregistered tree: ${e}.`);const o=Bo.findFocusedNode(e),a=e.getRestoredFocusableNode(o);e=e.getRootFocusableNode();let d;this.focusNode((d=a??o)!=null?d:e)}focusNode(e){this.ensureManagerIsUnlocked();const o=!this.currentlyHoldsEphemeralFocus;o&&(this.isUpdatingFocusedNode=!0);var a,d=((a=this.focusedNode)==null?void 0:a.getFocusableElement())!==document.activeElement;if(this.focusedNode!==e||d)if(e.canBeFocused()){if(a=e.getFocusableTree(),!this.isRegistered(a))throw Error(`Attempted to focus unregistered node: ${e}.`);d=e.getFocusableElement(),d.id&&d.id!=="null"||console.warn("Trying to focus a node that has an invalid ID.");var M=Bo.findFocusableNodeFor(d,a);d=Bo.findFocusedNode(a);var oe=e;if(M!==e){oe=a.getRestoredFocusableNode(d),e=a.getRootFocusableNode();var at;oe=(at=oe??d)!=null?at:e}e=this.focusedNode,at=e?.getFocusableTree(),e&&this.passivelyFocusNode(e,a),a=a.getRootFocusableNode(),d&&this.removeHighlight(d),a!==oe&&this.removeHighlight(a),this.currentlyHoldsEphemeralFocus||this.activelyFocusNode(oe,at??null),this.updateFocusedNode(oe)}else console.warn("Trying to focus a node that can't be focused.");o&&(this.isUpdatingFocusedNode=!1)}takeEphemeralFocus(e){if(this.ensureManagerIsUnlocked(),this.currentlyHoldsEphemeralFocus)throw Error(`Attempted to take ephemeral focus when it's already held, with new element: ${e}.`);this.currentlyHoldsEphemeralFocus=!0,this.focusedNode&&this.passivelyFocusNode(this.focusedNode,null),e.focus({preventScroll:!0});let o=!1;return()=>{if(o)throw Error(`Attempted to finish ephemeral focus twice for element: ${e}.`);if(o=!0,this.currentlyHoldsEphemeralFocus=!1,this.focusedNode){this.activelyFocusNode(this.focusedNode,null);const a=this.focusedNode;setTimeout(()=>{!this.focusedNode&&this.previouslyFocusedNode===a&&this.recentlyLostAllFocus&&this.focusNode(a)},0)}}}ephemeralFocusTaken(){return this.currentlyHoldsEphemeralFocus}ensureManagerIsUnlocked(){if(this.lockFocusStateChanges)throw Error("FocusManager state changes cannot happen in a tree/node focus/blur callback.")}updateFocusedNode(e){this.previouslyFocusedNode=this.focusedNode,this.focusedNode=e}defocusCurrentFocusedNode(){this.focusedNode&&!this.currentlyHoldsEphemeralFocus&&(this.passivelyFocusNode(this.focusedNode,null),this.updateFocusedNode(null))}activelyFocusNode(e,o){this.lockFocusStateChanges=!0;const a=e.getFocusableTree(),d=e.getFocusableElement();let M;const oe=(M=this.lookUpRegistration(a))==null?void 0:M.rootShouldBeAutoTabbable;a!==o&&(a.onTreeFocus(e,o),oe&&(a.getRootFocusableNode().getFocusableElement().tabIndex=-1)),e.onNodeFocus(),this.lockFocusStateChanges=!1,oe&&e===a.getRootFocusableNode()||d.hasAttribute("tabindex")||(d.tabIndex=-1),this.setNodeToVisualActiveFocus(e),d.focus({preventScroll:!0})}passivelyFocusNode(e,o){this.lockFocusStateChanges=!0;const a=e.getFocusableTree();if(a!==o){a.onTreeBlur(o);let d;(d=this.lookUpRegistration(a))!=null&&d.rootShouldBeAutoTabbable&&(a.getRootFocusableNode().getFocusableElement().tabIndex=0)}e.onNodeBlur(),this.lockFocusStateChanges=!1,a!==o&&this.setNodeToVisualPassiveFocus(e)}setNodeToVisualActiveFocus(e){e=e.getFocusableElement(),ut(e,Go.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),nn(e,Go.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}setNodeToVisualPassiveFocus(e){e=e.getFocusableElement(),nn(e,Go.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),ut(e,Go.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}removeHighlight(e){e=e.getFocusableElement(),nn(e,Go.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),nn(e,Go.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}static getFocusManager(){return Go.focusManager||(Go.focusManager=new Go(document.addEventListener)),Go.focusManager}};Go.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME="blocklyActiveFocus",Go.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME="blocklyPassiveFocus",Go.focusManager=null,r.getFocusManager$$module$build$src$core$focus_manager;var Na={};Na.deepMerge=ht;var vs=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(e,o){if(this.shortcuts.get(e.name)&&!o)throw Error(`Shortcut named "${e.name}" already exists.`);if(this.shortcuts.set(e.name,e),o=e.keyCodes,o!=null&&o.length)for(const a of o)this.addKeyMapping(a,e.name,!!e.allowCollision)}unregister(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn(`Keyboard shortcut named "${e}" not found.`),!1)}addKeyMapping(e,o,a){e=`${e}`;const d=this.keyMap.get(e);if(d&&!a)throw Error(`Shortcut named "${o}" collides with shortcuts "${d}"`);d&&a?d.unshift(o):this.keyMap.set(e,[o])}removeKeyMapping(e,o,a){const d=this.keyMap.get(e);if(!d)return a||console.warn(`No keyboard shortcut named "${o}" registered with key code "${e}"`),!1;const M=d.indexOf(o);return M>-1?(d.splice(M,1),d.length===0&&this.keyMap.delete(e),!0):(a||console.warn(`No keyboard shortcut named "${o}" registered with key code "${e}"`),!1)}removeAllKeyMappings(e){for(const o of this.keyMap.keys())this.removeKeyMapping(o,e,!0)}setKeyMap(e){this.keyMap.clear();for(const o in e)this.keyMap.set(o,e[o])}getKeyMap(){const e=Object.create(null);for(const[o,a]of this.keyMap)e[o]=a;return e}getRegistry(){const e=Object.create(null);for(const[o,a]of this.shortcuts)e[o]=a;return ht(Object.create(null),e)}onKeyDown(e,o){var a=this.serializeKeyEvent(o);if(a=this.getShortcutNamesByKeyCode(a),!a)return!1;for(const d of a){a=this.shortcuts.get(d);let M;if(!a||a.preconditionFn&&!a.preconditionFn(e,{focusedNode:(M=r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?M:void 0}))continue;let oe,at,qt;if((at=(oe=a).callback)!=null&&at.call(oe,e,o,a,{focusedNode:(qt=r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?qt:void 0}))return!0}return!1}getShortcutNamesByKeyCode(e){let o;return((o=this.keyMap.get(e))==null?void 0:o.slice())||[]}getKeyCodesByShortcutName(e){const o=[];for(const[a,d]of this.keyMap)d.indexOf(e)>-1&&o.push(a);return o}serializeKeyEvent(e){let o="";for(const a in vs.modifierKeys)e.getModifierState(a)&&(o!==""&&(o+="+"),o+=a);return o!==""&&e.keyCode?o+="+"+e.keyCode:e.keyCode&&(o=String(e.keyCode)),o}checkModifiers(e){for(const o of e)if(!(o in vs.modifierKeys))throw Error(o+" is not a valid modifier key.")}createSerializedKey(e,o){let a="";if(o){this.checkModifiers(o);for(const d in vs.modifierKeys)o.includes(vs.modifierKeys[d])&&(a!==""&&(a+="+"),a+=d)}return a!==""&&e?a+="+"+e:e&&(a=`${e}`),a}};vs.registry=new vs,(function(e){e=e.modifierKeys||(e.modifierKeys={}),e[e.Shift=16]="Shift",e[e.Control=17]="Control",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta"})(vs||(vs={}));var Eh=Object.create(null),J6,Ia,n1=[],Z6={defineBlocksWithJsonArrayInternal:tt},co={TEST_ONLY:Z6};co.createBlockDefinitionsFromJsonArray=r.createBlockDefinitionsFromJsonArray$$module$build$src$core$common,co.defineBlocks=r.defineBlocks$$module$build$src$core$common,co.defineBlocksWithJsonArray=we,co.draggingConnections=n1,co.fireSelectedEvent=Lt,co.getAllWorkspaces=Ot,co.getBlockTypeCounts=Ye,co.getMainWorkspace=Y,co.getParentContainer=Bt,co.getSelected=Je,co.getWorkspaceById=Mt,co.globalShortcutHandler=St,co.registerWorkspace=wt,co.setMainWorkspace=Ee,co.setParentContainer=zt,co.setSelected=Fe,co.svgResize=ve,co.unregisterWorkpace=ft;var Oa=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=r.getGroup$$module$build$src$core$events$utils(),this.recordUndo=qe()}toJson(){return{type:this.type,group:this.group}}static fromJson(e,o,a){return a.isBlank=!1,a.group=e.group||"",a.workspaceId=o.id,a}isNull(){return!1}run(e){}getEventWorkspace_(){let e;if(this.workspaceId&&(e=Mt(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}},Yi=class extends Oa{constructor(e){super(),this.recordUndo=!1,this.isUiEvent=!0,this.isBlank=typeof e>"u",this.workspaceId=e||""}},Q6=class extends Yi{constructor(e,o,a){o=e?e.workspace.id:o,o===null&&(o=void 0),super(o),this.type=Mn.CLICK,this.blockId=e?e.id:void 0,this.targetType=a}toJson(){const e=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new Q6),o.targetType=e.targetType,o.blockId=e.blockId,o}},e5;(function(e){e.BLOCK="block",e.WORKSPACE="workspace",e.ZOOM_CONTROLS="zoom_controls"})(e5||(e5={})),i(Yn.EVENT,Mn.CLICK,Q6);var t5={};t5.removeElem=Zt;var pl=class{constructor(e){this.name=e}toString(){return this.name}};pl.POSITIONABLE=new pl("positionable"),pl.DRAG_TARGET=new pl("drag_target"),pl.DELETE_AREA=new pl("delete_area"),pl.AUTOHIDEABLE=new pl("autohideable");var ns=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(e,o){const a=e.component.id;if(!o&&this.componentData.has(a)){var d;throw Error('Plugin "'+a+'" with capabilities "'+((d=this.componentData.get(a))==null?void 0:d.capabilities)+'" already added.')}for(this.componentData.set(a,e),o=[],d=0;d<e.capabilities.length;d++){const M=String(e.capabilities[d]).toLowerCase();if(o.push(M),this.capabilityToComponentIds.has(M)){let oe;(oe=this.capabilityToComponentIds.get(M))==null||oe.push(a)}else this.capabilityToComponentIds.set(M,[a])}this.componentData.get(a).capabilities=o}removeComponent(e){const o=this.componentData.get(e);if(o){for(let a=0;a<o.capabilities.length;a++){const d=String(o.capabilities[a]).toLowerCase();Zt(this.capabilityToComponentIds.get(d),e)}this.componentData.delete(e)}}addCapability(e,o){if(!this.getComponent(e))throw Error('Cannot add capability, "'+o+'". Plugin "'+e+'" has not been added to the ComponentManager');if(this.hasCapability(e,o))console.warn('Plugin "'+e+'already has capability "'+o+'"');else{o=`${o}`.toLowerCase();var a;(a=this.componentData.get(e))==null||a.capabilities.push(o);var d;(d=this.capabilityToComponentIds.get(o))==null||d.push(e)}}removeCapability(e,o){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+o+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,o)?(o=`${o}`.toLowerCase(),Zt(this.componentData.get(e).capabilities,o),Zt(this.capabilityToComponentIds.get(o),e)):console.warn('Plugin "'+e+`doesn't have capability "`+o+'" to remove')}hasCapability(e,o){return o=`${o}`.toLowerCase(),this.componentData.has(e)&&this.componentData.get(e).capabilities.includes(o)}getComponent(e){let o;return(o=this.componentData.get(e))==null?void 0:o.component}getComponents(e,o){if(e=`${e}`.toLowerCase(),e=this.capabilityToComponentIds.get(e),!e)return[];const a=[];if(o){const d=[];e.forEach(M=>{d.push(this.componentData.get(M))}),d.sort(function(M,oe){return M.weight-oe.weight}),d.forEach(function(M){a.push(M.component)})}else e.forEach(d=>{a.push(this.componentData.get(d).component)});return a}};ns.Capability=pl,(function(e){e=e.ComponentWeight||(e.ComponentWeight={}),e[e.TOOLBOX_WEIGHT=0]="TOOLBOX_WEIGHT",e[e.FLYOUT_WEIGHT=1]="FLYOUT_WEIGHT",e[e.TRASHCAN_WEIGHT=2]="TRASHCAN_WEIGHT",e[e.ZOOM_CONTROLS_WEIGHT=3]="ZOOM_CONTROLS_WEIGHT"})(ns||(ns={})),ns.ComponentWeight;var Y4=!1,K4=`
.blocklySvg {
  background-color: #fff;
  outline: none;
  overflow: hidden;  /* IE overflows by default. */
  position: absolute;
  display: block;
}

.blocklyWidgetDiv {
  display: none;
  position: absolute;
  z-index: 99999;  /* big value for bootstrap3 compatibility */
}

.injectionDiv {
  height: 100%;
  position: relative;
  overflow: hidden;  /* So blocks in drag surface disappear at edges */
  touch-action: none;
  user-select: none;
  -webkit-user-select: none;
}

.blocklyBlockCanvas.blocklyCanvasTransitioning,
.blocklyBubbleCanvas.blocklyCanvasTransitioning {
  transition: transform .5s;
}

.blocklyEmboss {
  filter: var(--blocklyEmbossFilter);
}

.blocklyTooltipDiv {
  background-color: #ffffc7;
  border: 1px solid #ddc;
  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);
  color: #000;
  display: none;
  font: 9pt sans-serif;
  opacity: .9;
  padding: 2px;
  position: absolute;
  z-index: 100000;  /* big value for bootstrap3 compatibility */
}

.blocklyDropDownDiv {
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1000;
  display: none;
  border: 1px solid;
  border-color: #dadce0;
  background-color: #fff;
  border-radius: 2px;
  padding: 4px;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv:focus {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownContent {
  max-height: 300px;  /* @todo: spec for maximum height. */
}

.blocklyDropDownArrow {
  position: absolute;
  left: 0;
  top: 0;
  width: 16px;
  height: 16px;
  z-index: -1;
  background-color: inherit;
  border-color: inherit;
  border-top: 1px solid;
  border-left: 1px solid;
  border-top-left-radius: 4px;
  border-color: inherit;
}

.blocklyHighlighted>.blocklyPath {
  filter: var(--blocklyEmbossFilter);
}

.blocklyHighlightedConnectionPath {
  fill: none;
  stroke: #fc3;
  stroke-width: 4px;
}

.blocklyPathLight {
  fill: none;
  stroke-linecap: round;
  stroke-width: 1;
}

.blocklySelected>.blocklyPathLight {
  display: none;
}

.blocklyDraggable {
  cursor: grab;
  cursor: -webkit-grab;
}

.blocklyDragging {
  cursor: grabbing;
  cursor: -webkit-grabbing;
  /* Drag surface disables events to not block the toolbox, so we have to
   * reenable them here for the cursor values to work. */
  pointer-events: auto;
}

  /* Changes cursor on mouse down. Not effective in Firefox because of
     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */
.blocklyDraggable:active {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

.blocklyDragging.blocklyDraggingDelete,
.blocklyDragging.blocklyDraggingDelete .blocklyField {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyDragging>.blocklyPath,
.blocklyDragging>.blocklyPathLight {
  fill-opacity: .8;
  stroke-opacity: .8;
}

.blocklyDragging>.blocklyPathDark {
  display: none;
}

.blocklyDisabledPattern>.blocklyPath {
  fill: var(--blocklyDisabledPattern);
  fill-opacity: .5;
  stroke-opacity: .5;
}

.blocklyDisabled>.blocklyPathLight,
.blocklyDisabled>.blocklyPathDark {
  display: none;
}

.blocklyInsertionMarker>.blocklyPath,
.blocklyInsertionMarker>.blocklyPathLight,
.blocklyInsertionMarker>.blocklyPathDark {
  fill-opacity: .2;
  stroke: none;
}

.blocklyNonEditableField>text {
  pointer-events: none;
}

.blocklyFlyout {
  position: absolute;
  z-index: 20;
}

.blocklyText text {
  cursor: default;
}

/*
  Don't allow users to select text.  It gets annoying when trying to
  drag a block and selected text moves instead.
*/
.blocklySvg text {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  cursor: inherit;
}

.blocklyIconGroup {
  cursor: default;
}

.blocklyIconGroup:not(:hover):not(:focus),
.blocklyIconGroupReadonly {
  opacity: .6;
}

.blocklyIconShape {
  fill: #00f;
  stroke: #fff;
  stroke-width: 1px;
}

.blocklyIconSymbol {
  fill: #fff;
}

.blocklyMinimalBody {
  margin: 0;
  padding: 0;
  height: 100%;
}

.blocklyHtmlInput {
  border: none;
  border-radius: 4px;
  height: 100%;
  margin: 0;
  outline: none;
  padding: 0;
  width: 100%;
  text-align: center;
  display: block;
  box-sizing: border-box;
}

/* Remove the increase and decrease arrows on the field number editor */
input.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,
input.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield;
}

.blocklyMainBackground {
  stroke-width: 1;
  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */
}

.blocklyMutatorBackground {
  fill: #fff;
  stroke: #ddd;
  stroke-width: 1;
}

.blocklyFlyoutBackground {
  fill: #ddd;
  fill-opacity: .8;
}

.blocklyMainWorkspaceScrollbar {
  z-index: 20;
}

.blocklyFlyoutScrollbar {
  z-index: 30;
}

.blocklyScrollbarHorizontal,
.blocklyScrollbarVertical {
  position: absolute;
  outline: none;
}

.blocklyScrollbarBackground {
  opacity: 0;
  pointer-events: none;
}

.blocklyScrollbarHandle {
  fill: #ccc;
}

.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyScrollbarHandle:hover {
  fill: #bbb;
}

/* Darken flyout scrollbars due to being on a grey background. */
/* By contrast, workspace scrollbars are on a white background. */
.blocklyFlyout .blocklyScrollbarHandle {
  fill: #bbb;
}

.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyFlyout .blocklyScrollbarHandle:hover {
  fill: #aaa;
}

.blocklyInvalidInput {
  background: #faa;
}

.blocklyVerticalMarker {
  stroke-width: 3px;
  fill: rgba(255,255,255,.5);
  pointer-events: none;
}

.blocklyComputeCanvas {
  position: absolute;
  width: 0;
  height: 0;
}

.blocklyNoPointerEvents {
  pointer-events: none;
}

.blocklyContextMenu {
  border-radius: 4px;
  max-height: 100%;
}

.blocklyDropdownMenu {
  border-radius: 2px;
  padding: 0 !important;
}

.blocklyDropdownMenu .blocklyMenuItem {
  /* 28px on the left for icon or checkbox. */
  padding-left: 28px;
}

/* BiDi override for the resting state. */
.blocklyDropdownMenu .blocklyMenuItemRtl {
  /* Flip left/right padding for BiDi. */
  padding-left: 5px;
  padding-right: 28px;
}

.blocklyWidgetDiv .blocklyMenu {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  background: #fff;
  border: 1px solid transparent;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
  font: normal 13px Arial, sans-serif;
  margin: 0;
  outline: none;
  padding: 4px 0;
  position: absolute;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

.blocklyWidgetDiv .blocklyMenu:focus {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv .blocklyMenu {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  background: inherit;  /* Compatibility with gapi, reset from goog-menu */
  border: inherit;  /* Compatibility with gapi, reset from goog-menu */
  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;
  outline: none;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

/* State: resting. */
.blocklyMenuItem {
  border: none;
  color: #000;
  cursor: pointer;
  list-style: none;
  margin: 0;
  /* 7em on the right for shortcut. */
  min-width: 7em;
  padding: 6px 15px;
  white-space: nowrap;
}

/* State: disabled. */
.blocklyMenuItemDisabled {
  color: #ccc;
  cursor: inherit;
}

/* State: hover. */
.blocklyMenuItemHighlight {
  background-color: rgba(0,0,0,.1);
}

/* State: selected/checked. */
.blocklyMenuItemCheckbox {
  height: 16px;
  position: absolute;
  width: 16px;
}

.blocklyMenuItemSelected .blocklyMenuItemCheckbox {
  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;
  float: left;
  margin-left: -24px;
  position: static;  /* Scroll with the menu. */
}

.blocklyMenuItemRtl .blocklyMenuItemCheckbox {
  float: right;
  margin-right: -24px;
}

.blocklyMenuSeparator {
  background-color: #ccc;
  height: 1px;
  border: 0;
  margin-left: 4px;
  margin-right: 4px;
}

.blocklyBlockDragSurface, .blocklyAnimationLayer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: visible !important;
  z-index: 80;
  pointer-events: none;
}

.blocklyField {
  cursor: default;
}

.blocklyInputField {
  cursor: text;
}

.blocklyDragging .blocklyField,
.blocklyDragging .blocklyIconGroup {
  cursor: grabbing;
}

.blocklyActiveFocus:is(
  .blocklyFlyout,
  .blocklyWorkspace,
  .blocklyField,
  .blocklyPath,
  .blocklyHighlightedConnectionPath,
  .blocklyComment,
  .blocklyBubble,
  .blocklyIconGroup,
  .blocklyTextarea
) {
  outline: none;
}
`,r1={};r1.inject=pn,r1.register=$n;var Qn=class{constructor(e,o){this.x=e,this.y=o}clone(){return new Qn(this.x,this.y)}scale(e){return this.x*=e,this.y*=e,this}translate(e,o){return this.x+=e,this.y+=o,this}static equals(e,o){return e===o?!0:e&&o?e.x===o.x&&e.y===o.y:!1}static distance(e,o){const a=e.x-o.x;return e=e.y-o.y,Math.sqrt(a*a+e*e)}static magnitude(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static difference(e,o){return new Qn(e.x-o.x,e.y-o.y)}static sum(e,o){return new Qn(e.x+o.x,e.y+o.y)}},Tn=class{constructor(e){this.tagName=e}toString(){return this.tagName}};Tn.ANIMATE=new Tn("animate"),Tn.CIRCLE=new Tn("circle"),Tn.CLIPPATH=new Tn("clipPath"),Tn.DEFS=new Tn("defs"),Tn.FECOMPOSITE=new Tn("feComposite"),Tn.FECOMPONENTTRANSFER=new Tn("feComponentTransfer"),Tn.FEFLOOD=new Tn("feFlood"),Tn.FEFUNCA=new Tn("feFuncA"),Tn.FEGAUSSIANBLUR=new Tn("feGaussianBlur"),Tn.FEPOINTLIGHT=new Tn("fePointLight"),Tn.FESPECULARLIGHTING=new Tn("feSpecularLighting"),Tn.FILTER=new Tn("filter"),Tn.FOREIGNOBJECT=new Tn("foreignObject"),Tn.G=new Tn("g"),Tn.IMAGE=new Tn("image"),Tn.LINE=new Tn("line"),Tn.PATH=new Tn("path"),Tn.PATTERN=new Tn("pattern"),Tn.POLYGON=new Tn("polygon"),Tn.RECT=new Tn("rect"),Tn.SVG=new Tn("svg"),Tn.TEXT=new Tn("text"),Tn.TSPAN=new Tn("tspan");var ci=class{constructor(e,o,a,d){this.top=e,this.bottom=o,this.left=a,this.right=d}static from(e){return new ci(e.y,e.y+e.height,e.x,e.x+e.width)}clone(){return new ci(this.top,this.bottom,this.left,this.right)}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}getOrigin(){return new Qn(this.left,this.top)}contains(e,o){return e>=this.left&&e<=this.right&&o>=this.top&&o<=this.bottom}intersects(e){return this.left<=e.right&&this.right>=e.left&&this.bottom>=e.top&&this.top<=e.bottom}static equals(e,o){return e===o?!0:e&&o?e.top===o.top&&e.bottom===o.bottom&&e.left===o.left&&e.right===o.right:!1}static createFromPoint(e,o,a){const d=e.x;return e=e.y,new ci(e,e+a,d,d+o)}},pi=class{constructor(e,o){this.width=e,this.height=o}static equals(e,o){return e===o?!0:e&&o?e.width===o.width&&e.height===o.height:!1}static max(e,o){return new pi(Math.max(e.width,o.width),Math.max(e.height,o.height))}static min(e,o){return new pi(Math.min(e.width,o.width),Math.min(e.height,o.height))}},J4={getSizeInternal:wr},Ra={TEST_ONLY:J4};Ra.getBorderBox=gn,Ra.getComputedStyle=En,Ra.getContainerOffsetToScrollInto=ie,Ra.getPageOffset=re,Ra.getSize=sr,Ra.getViewportPageOffset=Te,Ra.scrollIntoContainerView=F;var Sh=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,n5=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,bu={XY_REGEX:Sh,XY_STYLE_REGEX:n5},Rs={TEST_ONLY:bu};Rs.getDocumentScroll=q,Rs.getInjectionDivXY=W,Rs.getRelativeXY=x,Rs.getViewportBBox=ae,Rs.screenToWsCoordinates=ge,Rs.wsToScreenCoordinates=be;var Js=class{constructor(e,o,a,d,M){this.workspace=e,this.horizontal=o,this.oldHostMetrics=null,this.ratio=1,this.origin=new Qn(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new Qn(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=a||!1,this.margin=M!==void 0?M:Js.DEFAULT_SCROLLBAR_MARGIN,e="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),d&&(e+=" "+d),this.outerSvg=Me(Tn.SVG,{class:e}),d=Me(Tn.G,{},this.outerSvg),this.svgBackground=Me(Tn.RECT,{class:"blocklyScrollbarBackground"},d),e=Math.floor((Js.scrollbarThickness-5)/2),this.svgHandle=Me(Tn.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},d),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),Ae(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),o?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=le(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=le(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){const e=Js.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(e)),this.outerSvg.setAttribute("height",String(e)),this.svgHandle.setAttribute("height",String(e-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(e)),this.outerSvg.setAttribute("width",String(e)),this.svgHandle.setAttribute("width",String(e-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),Ce(this.onMouseDownBarWrapper_),Ce(this.onMouseDownHandleWrapper_),se(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(e){return e=e<=0||isNaN(e)?0:Math.min(e,this.scrollbarLength)}setHandleLength(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(e){return e=e<=0||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}setHandlePosition(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(e,o){this.position.x=e,this.position.y=o,lt(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(e){!e&&(e=this.workspace.getMetrics(),!e)||this.oldHostMetrics&&Js.metricsAreEquivalent(e,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(e):this.resizeVertical(e),this.oldHostMetrics=e,this.updateMetrics())}requiresViewResize(e){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop:!0}resizeHorizontal(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}resizeViewHorizontal(e){var o=e.viewWidth-this.margin*2;this.pair&&(o-=Js.scrollbarThickness),this.setScrollbarLength(Math.max(0,o)),o=e.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(o+=Js.scrollbarThickness),this.setPosition(o,e.absoluteTop+e.viewHeight-Js.scrollbarThickness-this.margin),this.resizeContentHorizontal(e)}resizeContentHorizontal(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var o=this.scrollbarLength*e.viewWidth/e.scrollWidth;o=this.constrainHandleLength(o),this.setHandleLength(o),o=e.scrollWidth-e.viewWidth;var a=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/o*a,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=a/o}}resizeVertical(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}resizeViewVertical(e){let o=e.viewHeight-this.margin*2;this.pair&&(o-=Js.scrollbarThickness),this.setScrollbarLength(Math.max(0,o)),this.setPosition(this.workspace.RTL?e.absoluteLeft+this.margin:e.absoluteLeft+e.viewWidth-Js.scrollbarThickness-this.margin,e.absoluteTop+this.margin),this.resizeContentVertical(e)}resizeContentVertical(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var o=this.scrollbarLength*e.viewHeight/e.scrollHeight;o=this.constrainHandleLength(o),this.setHandleLength(o),o=e.scrollHeight-e.viewHeight;var a=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/o*a,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=a/o}}isVisible(){return this.isHandleVisible}setContainerVisible(e){const o=e!==this.containerVisible;this.containerVisible=e,o&&this.updateDisplay_()}setVisible(e){if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.setVisibleInternal(e)}setVisibleInternal(e){const o=e!==this.isVisible();this.isHandleVisible=e,o&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(e){if(this.workspace.markFocused(),K(),this.cleanUp(),ce(e))e.stopPropagation();else{var o=Be(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());o=this.horizontal?o.x:o.y;var a=W(this.svgHandle);a=this.horizontal?a.x:a.y;var d=this.handlePosition,M=this.handleLength*.95;o<=a?d-=M:o>=a+this.handleLength&&(d+=M),this.setHandlePosition(this.constrainHandlePosition(d)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}onMouseDownHandle(e){this.workspace.markFocused(),this.cleanUp(),ce(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=le(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=le(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}onMouseMoveHandle(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){K(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(Ce(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(Ce(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}updateMetrics(){const e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}set(e,o){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(o||o===void 0)&&this.updateMetrics()}setOrigin(e,o){this.origin=new Qn(e,o)}static metricsAreEquivalent(e,o){return e.viewWidth===o.viewWidth&&e.viewHeight===o.viewHeight&&e.viewLeft===o.viewLeft&&e.viewTop===o.viewTop&&e.absoluteTop===o.absoluteTop&&e.absoluteLeft===o.absoluteLeft&&e.scrollWidth===o.scrollWidth&&e.scrollHeight===o.scrollHeight&&e.scrollLeft===o.scrollLeft&&e.scrollTop===o.scrollTop}};Js.scrollbarThickness=a2?25:15,Js.DEFAULT_SCROLLBAR_MARGIN=.5;var xh={parseFromString:function(){throw Error("DOMParser was not found in the global scope and was not properly injected using injectDependencies")}},Mo={serializeToString:function(){throw Error("XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies")}},{document:Z4,DOMParser:v2,XMLSerializer:$2}=globalThis;v2&&(xh=new v2),$2&&(Mo=new $2);var Gs="https://developers.google.com/blockly/xml",P0=/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,F0={NAME_SPACE:Gs};F0.createElement=r.createElement$$module$build$src$core$utils$xml,F0.createTextNode=r.createTextNode$$module$build$src$core$utils$xml,F0.domToText=st,F0.injectDependencies=Le,F0.textToDom=r.textToDom$$module$build$src$core$utils$xml;var Q4="categoryToolbox",r5="flyoutToolbox",mi;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"})(mi||(mi={}));var J7={hasCategoriesInternal:Q},na={};na.Position=mi,na.TEST_ONLY=J7,na.convertFlyoutDefToJsonArray=p,na.convertToolboxDefToJson=$t,na.hasCategories=D,na.isCategoryCollapsible=me,na.parseToolboxTree=bt;var ho;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"})(ho||(ho={}));var p0;(function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"})(p0||(p0={}));var yu;(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"})(yu||(yu={}));var ko={};ko.bumpDirection=yu,ko.bumpPositionRect=fn,ko.getCornerOppositeToolbox=Yt,ko.getStartPositionRect=un,ko.horizontalPosition=p0,ko.verticalPosition=ho;var m0={width:96,height:124,url:"sprites.png"},La=class{constructor(e){this.workspace=e,this.id="zoomControls",this.boundEvents=[],this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=Me(Tn.G,{});const e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:ns.ComponentWeight.ZOOM_CONTROLS_WEIGHT,capabilities:[ns.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&se(this.svgGroup);for(const e of this.boundEvents)Ce(e);this.boundEvents.length=0}getBoundingRectangle(){let e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new ci(this.top,this.top+e,this.left,this.left+this.WIDTH)}position(e,o){if(this.initialized){var a=Yt(this.workspace,e),d=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(d+=this.LARGE_SPACING+this.HEIGHT),e=un(a,new pi(this.WIDTH,d),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),a=a.vertical,o=fn(e,this.MARGIN_VERTICAL,a===ho.TOP?yu.DOWN:yu.UP,o),a===ho.TOP){var M=this.SMALL_SPACING+this.HEIGHT,oe;(oe=this.zoomInGroup)==null||oe.setAttribute("transform","translate(0, "+M+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(M+this.LARGE_SPACING+this.HEIGHT)+")")}else{oe=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;let qt;(qt=this.zoomInGroup)==null||qt.setAttribute("transform","translate(0, "+oe+")"),oe=oe+this.SMALL_SPACING+this.HEIGHT,(M=this.zoomOutGroup)==null||M.setAttribute("transform","translate(0, "+oe+")")}this.top=o.top,this.left=o.left;var at;(at=this.svgGroup)==null||at.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(e){this.zoomOutGroup=Me(Tn.G,{class:"blocklyZoom blocklyZoomOut"},this.svgGroup);const o=Me(Tn.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);Me(Tn.RECT,{width:32,height:32},o),Me(Tn.IMAGE,{width:m0.width,height:m0.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS(C0,"xlink:href",this.workspace.options.pathToMedia+m0.url),this.boundEvents.push(le(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)))}createZoomInSvg(e){this.zoomInGroup=Me(Tn.G,{class:"blocklyZoom blocklyZoomIn"},this.svgGroup);const o=Me(Tn.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);Me(Tn.RECT,{width:32,height:32},o),Me(Tn.IMAGE,{width:m0.width,height:m0.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS(C0,"xlink:href",this.workspace.options.pathToMedia+m0.url),this.boundEvents.push(le(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)))}zoom(e,o){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),K(),o.stopPropagation(),o.preventDefault()}createZoomResetSvg(e){this.zoomResetGroup=Me(Tn.G,{class:"blocklyZoom blocklyZoomReset"},this.svgGroup);const o=Me(Tn.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);Me(Tn.RECT,{width:32,height:32},o),Me(Tn.IMAGE,{width:m0.width,height:m0.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS(C0,"xlink:href",this.workspace.options.pathToMedia+m0.url),this.boundEvents.push(le(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)))}resetZoom(e){this.workspace.markFocused();const o=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(o),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),K(),e.stopPropagation(),e.preventDefault()}fireZoomEvent(){const e=new(Ut(Mn.CLICK))(null,this.workspace.id,"zoom_controls");de(e)}};$n(`
.blocklyZoom>image, .blocklyZoom>svg>image {
  opacity: .4;
}

.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {
  opacity: .6;
}

.blocklyZoom>image:active, .blocklyZoom>svg>image:active {
  opacity: .8;
}
`);var Zu=100,Da=75,e3=50,t3=25,ra={BLOCKS:e3,PROCEDURES:Da,VARIABLES:Zu,WORKSPACE_COMMENTS:t3},n3={};n3.register=Un,n3.unregister=Xt;var i1=class{constructor(){this.priority=t3}save(e){const o=[];for(const a of e.getTopComments())(e=Ke(a,{addCoordinates:!0,saveIds:!0}))&&o.push(e);return o.length?o:null}load(e,o){for(const a of e)Pn(a,o,{recordUndo:qe()})}clear(e){for(const o of e.getTopComments())o.dispose()}};Un("workspaceComments",new i1);var Qu={};Qu.WorkspaceCommentSerializer=i1,Qu.append=Pn,Qu.save=Ke;var s1={};s1.register=er,s1.unregister=nr;var _u=class{paste(e,o,a){e=e.commentState,a&&(e.x=a.x,e.y=a.y),r.disable$$module$build$src$core$events$utils();let d;try{d=Pn(e,o),or(d)}finally{r.enable$$module$build$src$core$events$utils()}return d?(et()&&de(new(Ut(Mn.COMMENT_CREATE))(d)),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(d),d):null}};_u.TYPE="workspace-comment",er(_u.TYPE,new _u);var r3;r3=28,r.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:r3,connectingSnapRadius:r3,currentConnectionPreference:8,bumpDelay:250},r.config$$module$build$src$core$config;var Z7="aria-",Ch="role",U0;(function(e){e.GRID="grid",e.GRIDCELL="gridcell",e.GROUP="group",e.LISTBOX="listbox",e.MENU="menu",e.MENUITEM="menuitem",e.MENUITEMCHECKBOX="menuitemcheckbox",e.OPTION="option",e.PRESENTATION="presentation",e.ROW="row",e.TREE="tree",e.TREEITEM="treeitem",e.SEPARATOR="separator",e.STATUS="status"})(U0||(U0={}));var qs;(function(e){e.ACTIVEDESCENDANT="activedescendant",e.COLCOUNT="colcount",e.DISABLED="disabled",e.EXPANDED="expanded",e.INVALID="invalid",e.LABEL="label",e.LABELLEDBY="labelledby",e.LEVEL="level",e.ORIENTATION="orientation",e.POSINSET="posinset",e.ROWCOUNT="rowcount",e.SELECTED="selected",e.SETSIZE="setsize",e.VALUEMAX="valuemax",e.VALUEMIN="valuemin",e.LIVE="live",e.HIDDEN="hidden"})(qs||(qs={}));var b2={};b2.Role=U0,b2.State=qs,b2.setRole=Hn,b2.setState=mr;var i3=class{constructor(e,o){this.content=e,this.opt_value=o,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){const e=document.createElement("div");e.id=_e(),this.element=e,e.className="blocklyMenuItem "+(this.enabled?"":"blocklyMenuItemDisabled ")+(this.checked?"blocklyMenuItemSelected ":"")+(this.highlight?"blocklyMenuItemHighlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl ":"");const o=document.createElement("div");if(o.className="blocklyMenuItemContent",this.checkable){var a=document.createElement("div");a.className="blocklyMenuItemCheckbox ",o.appendChild(a)}return a=this.content,typeof this.content=="string"&&(a=document.createTextNode(this.content)),o.appendChild(a),e.appendChild(o),this.roleName&&Hn(e,this.roleName),mr(e,qs.SELECTED,this.checkable&&this.checked||!1),mr(e,qs.DISABLED,!this.enabled),e}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let e;return(e=this.opt_value)!=null?e:null}setRightToLeft(e){this.rightToLeft=e}setRole(e){this.roleName=e}setCheckable(e){this.checkable=e}setChecked(e){this.checked=e}setHighlighted(e){this.highlight=e;const o=this.getElement();o&&this.isEnabled()&&(e?ut(o,"blocklyMenuItemHighlight"):nn(o,"blocklyMenuItemHighlight"))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}performAction(e){this.isEnabled()&&this.actionHandler&&this.actionHandler(this,e)}onAction(e,o){this.actionHandler=e.bind(o)}},i5=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.pointerLeaveHandler=this.pointerEnterHandler=this.clickHandler=this.pointerMoveHandler=this.highlightedItem=this.openingCoords=null}addChild(e){this.menuItems.push(e)}render(e){const o=document.createElement("div");o.className="blocklyMenu",o.tabIndex=0,this.roleName&&Hn(o,this.roleName),this.element=o;for(let a=0,d;d=this.menuItems[a];a++)o.appendChild(d.createDom());return this.pointerMoveHandler=le(o,"pointermove",this,this.handlePointerMove,!0),this.clickHandler=le(o,"pointerup",this,this.handleClick,!0),this.pointerEnterHandler=le(o,"pointerenter",this,this.handlePointerEnter,!0),this.pointerLeaveHandler=le(o,"pointerleave",this,this.handlePointerLeave,!0),this.onKeyDownHandler=le(o,"keydown",this,this.handleKeyEvent),e.appendChild(o),o}getElement(){return this.element}focus(){const e=this.getElement();e&&e.focus({preventScroll:!0})}blur(){const e=this.getElement();e&&e.blur()}setRole(e){this.roleName=e}dispose(){this.pointerMoveHandler&&(Ce(this.pointerMoveHandler),this.pointerMoveHandler=null),this.clickHandler&&(Ce(this.clickHandler),this.clickHandler=null),this.pointerEnterHandler&&(Ce(this.pointerEnterHandler),this.pointerEnterHandler=null),this.pointerLeaveHandler&&(Ce(this.pointerLeaveHandler),this.pointerLeaveHandler=null),this.onKeyDownHandler&&(Ce(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let e=0,o;o=this.menuItems[e];e++)o.dispose();this.element=null}getMenuItem(e){const o=this.getElement();for(;e&&e!==o;){if(e.classList.contains("blocklyMenuItem")){const a=this.getMenuItems();for(let d=0,M;M=a[d];d++)if(M.getElement()===e)return M}e=e.parentElement}return null}setHighlighted(e){var o=this.highlightedItem;if(o&&(o.setHighlighted(!1),this.highlightedItem=null),e){e.setHighlighted(!0),this.highlightedItem=e,o=this.getElement();const a=e.getElement();o&&a&&(F(a,o),mr(o,qs.ACTIVEDESCENDANT,e.getId()))}}highlightNext(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}highlightPrevious(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e<0?this.menuItems.length:e,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(e,o){e+=o;let a;const d=this.getMenuItems();for(;a=d[e];){if(a.isEnabled()){this.setHighlighted(a);break}e+=o}}handlePointerMove(e){Math.max(Math.abs(e.movementX),Math.abs(e.movementY))!==0&&(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}handleClick(e){var o=this.openingCoords;if(this.openingCoords=null,o&&typeof e.clientX=="number"){const a=new Qn(e.clientX,e.clientY);if(Qn.distance(o,a)<1)return}(o=this.getMenuItem(e.target))&&o.performAction(e)}handlePointerEnter(e){this.focus()}handlePointerLeave(e){this.getElement()&&this.setHighlighted(null)}handleKeyEvent(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var o=this.highlightedItem;switch(e.key){case"Enter":case" ":o&&o.performAction(e);break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}getSize(){const e=this.getElement(),o=sr(e);return o.height=e.scrollHeight,o}getMenuItems(){return this.menuItems.filter(e=>e instanceof i3)}},rs=class{constructor(){this.element=null}createDom(){return this.element=document.createElement("hr"),this.element.className="blocklyMenuSeparator",Hn(this.element,U0.SEPARATOR),this.element}dispose(){let e;(e=this.element)==null||e.remove(),this.element=null}},us="_TEMP_COLLAPSED_INPUT",Ci="_TEMP_COLLAPSED_FIELD",li="MANUALLY_DISABLED",Ts={COLLAPSED_FIELD_NAME:Ci,COLLAPSED_INPUT_NAME:us,MANUALLY_DISABLED:li};(function(e){e[e.VALUE=1]="VALUE",e[e.STATEMENT=3]="STATEMENT",e[e.DUMMY=5]="DUMMY",e[e.CUSTOM=6]="CUSTOM",e[e.END_ROW=7]="END_ROW"})(r.inputTypes$$module$build$src$core$inputs$input_types||(r.inputTypes$$module$build$src$core$inputs$input_types={})),r.inputTypes$$module$build$src$core$inputs$input_types;var g0=new Set,Ba=new WeakSet,ec=new WeakMap,tc=null,ia=null,ro=0,sa={};sa.finishQueuedRenders=hr,sa.queueRender=ei,sa.triggerQueuedRenders=v;var wu,s3;r.Msg$$module$build$src$core$msg=Object.create(null),wu=function(e){Object.keys(e).forEach(function(o){r.Msg$$module$build$src$core$msg[o]=e[o]})},s3={Msg:r.Msg$$module$build$src$core$msg,setLocale:wu};var r0="blocklyToast",o1="blocklyToastMessage",y2="blocklyToastCloseButton",Ao=class{static show(e,o){if(o.oncePerSession&&o.id){if(this.shownIds.has(o.id))return;this.shownIds.add(o.id)}this.hide(e);const a=this.createDom(e,o);requestAnimationFrame(()=>{a.style.bottom="2rem"})}static createDom(e,o){const{message:a,duration:d=5,assertiveness:M=Ao.Assertiveness.POLITE}=o,oe=document.createElement("div");e.getInjectionDiv().appendChild(oe),oe.dataset.toastId=o.id,oe.className=r0,Hn(oe,U0.STATUS),mr(oe,qs.LIVE,M),o=oe.appendChild(document.createElement("div")),o.className=o1,o.innerText=a,o=oe.appendChild(document.createElement("button")),o.className=y2,mr(o,qs.LABEL,r.Msg$$module$build$src$core$msg.CLOSE);var at=Me(Tn.SVG,{width:24,height:24,viewBox:"0 0 24 24",fill:"none"},o);mr(at,qs.HIDDEN,!0),Me(Tn.RECT,{x:19.7782,y:2.80762,width:2,height:24,transform:"rotate(45, 19.7782, 2.80762)",fill:"black"},at),Me(Tn.RECT,{x:2.80762,y:4.22183,width:2,height:24,transform:"rotate(-45, 2.80762, 4.22183)",fill:"black"},at),o.addEventListener("click",()=>{oe.remove(),e.markFocused()});let qt;return o=()=>{qt=setTimeout(()=>oe.remove(),d*1e3)},at=()=>clearTimeout(qt),oe.addEventListener("focusin",at),oe.addEventListener("focusout",o),oe.addEventListener("mouseenter",at),oe.addEventListener("mousemove",at),oe.addEventListener("mouseleave",o),o(),oe}static hide(e,o){e=e.getInjectionDiv().querySelector(`.${r0}`),e instanceof HTMLElement&&(!o||o===e.dataset.toastId)&&e.remove()}};Ao.shownIds=new Set,(function(e){e=e.Assertiveness||(e.Assertiveness={}),e.ASSERTIVE="assertive",e.POLITE="polite"})(Ao||(Ao={})),$n(`
.${r0} {
  font-size: 1.2rem;
  position: absolute;
  bottom: -10rem;
  right: 2rem;
  padding: 1rem;
  color: black;
  background-color: white;
  border: 2px solid black;
  border-radius: 0.4rem;
  z-index: 999;
  display: flex;
  align-items: center;
  gap: 0.8rem;
  line-height: 1.5;
  transition: bottom 0.3s ease-out;
}

.${r0} .${o1} {
  maxWidth: 18rem;
}

.${r0} .${y2} {
  margin: 0;
  padding: 0.2rem;
  background-color: transparent;
  color: black;
  border: none;
  cursor: pointer;
}
`);var o3=function(e,o){window.alert(e),o&&o()},Mh=o3,s5=function(e,o){o(window.confirm(e))},kh=s5,Ah=function(e,o,a){a(window.prompt(e,o))},Tu=Ah,No=Ao.show.bind(Ao),Eu=No,z0={};z0.alert=Ze,z0.confirm=an,z0.prompt=k,z0.setAlert=tn,z0.setConfirm=ln,z0.setPrompt=z,z0.setToast=it,z0.toast=We;var Pa=new Set,l3={};l3.warn=Sn;var Nh="VARIABLE",a3="ijkmnopqrstuvwxyzabcdefgh",_2={generateUniqueNameInternal:dr},Zs={CATEGORY_NAME:Nh,TEST_ONLY:_2,VAR_LETTER_OPTIONS:a3};Zs.allDeveloperVariables=r.allDeveloperVariables$$module$build$src$core$variables,Zs.allUsedVarModels=r.allUsedVarModels$$module$build$src$core$variables,Zs.compareByName=Vn,Zs.createVariableButtonHandler=yr,Zs.deleteVariable=r.deleteVariable$$module$build$src$core$variables,Zs.flyoutCategory=bn,Zs.flyoutCategoryBlocks=qn,Zs.generateUniqueName=mn,Zs.generateUniqueNameFromOptions=kr,Zs.generateVariableFieldDom=cr,Zs.getAddedVariables=Kr,Zs.getOrCreateVariablePackage=r.getOrCreateVariablePackage$$module$build$src$core$variables,Zs.getVariable=r.getVariable$$module$build$src$core$variables,Zs.getVariableUsesById=Fr,Zs.internalFlyoutCategory=hn,Zs.jsonFlyoutCategoryBlocks=xn,Zs.nameUsedWithAnyType=lr,Zs.nameUsedWithConflictingParam=_r,Zs.promptName=fr,Zs.renameVariable=r.renameVariable$$module$build$src$core$variables;var qo=class extends Error{},o5=class extends qo{constructor(e){super("Expected to find a 'type' property, defining the block type"),this.state=e}},Wo=class extends qo{constructor(e,o,a){super(`The block ${o.toDevString()} is missing a(n) ${e}
connection`),this.block=o,this.state=a}},l5=class extends qo{constructor(e,o,a,d){super(`The block ${a.toDevString()} could not connect its
${o} to its parent, because: ${e}`),this.childBlock=a,this.childState=d}},a5=class extends qo{constructor(e){super(`Encountered a real block which is defined as a child of a shadow
block. It is an invariant of Blockly that shadow blocks only have shadow
children`),this.state=e}},Q7=class extends qo{constructor(e,o,a){super(`Cannot add an icon of type '${e}' to the block ${o.toDevString()}, because there is no icon registered with type '${e}'. Make sure that all of your icons have been registered.`),this.block=o,this.state=a}},H0={};H0.BadConnectionCheck=l5,H0.DeserializationError=qo,H0.MissingBlockType=o5,H0.MissingConnection=Wo,H0.RealChildOfShadow=a5,H0.UnregisteredIcon=Q7;var Ih=class{constructor(){this.priority=e3}save(e){const o=[];for(const a of e.getTopBlocks(!1))(e=Zr(a,{addCoordinates:!0,doFullSerialization:!1}))&&o.push(e);return o.length?{languageVersion:0,blocks:o}:null}load(e,o){e=e.blocks;for(const a of e)es(a,o,{recordUndo:qe()})}clear(e){for(const o of e.getTopBlocks(!1))o.dispose(!1)}};Un("blocks",new Ih);var l1={};l1.BlockSerializer=Ih,l1.append=es,l1.appendInternal=Bi,l1.save=Zr;var Ws=class{constructor(e){this.name=e}toString(){return this.name}equals(e){return this.name===e.toString()}};Ws.MUTATOR=new Ws("mutator"),Ws.WARNING=new Ws("warning"),Ws.COMMENT=new Ws("comment");var nc=class extends Oa{constructor(e){super(),this.isBlank=!e,e&&(this.blockId=e.id,this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new nc),o.blockId=e.blockId,o}},rc=class extends nc{constructor(e,o,a,d,M){super(e),this.type=Mn.BLOCK_CHANGE,e&&(this.element=o,this.name=a||void 0,this.oldValue=d,this.newValue=M)}toJson(){const e=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,this.disabledReason&&(e.disabledReason=this.disabledReason),e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new rc),o.element=e.element,o.name=e.name,o.oldValue=e.oldValue,o.newValue=e.newValue,e.disabledReason!==void 0&&(o.disabledReason=e.disabledReason),o}setDisabledReason(e){if(this.element!=="disabled")throw Error('Cannot set the disabled reason for a BlockChange event if the element is not "disabled".');this.disabledReason=e}isNull(){return this.oldValue===this.newValue}run(e){var o=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(o=o.getBlockById(this.blockId),!o)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");const a=o.getIcon(Ws.MUTATOR);switch(a&&zl(a)&&a.bubbleIsVisible()&&a.setBubbleVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(o=o.getField(this.name))?o.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":o.setCommentText(e||null);break;case"collapsed":o.setCollapsed(!!e);break;case"disabled":var d;o.setDisabledReason(!!e,(d=this.disabledReason)!=null?d:li);break;case"inline":o.setInputsInline(!!e);break;case"mutation":d=rc.getExtraBlockState_(o),o.loadExtraState?o.loadExtraState(JSON.parse(e||"{}")):o.domToMutation&&o.domToMutation(r.textToDom$$module$build$src$core$utils$xml(e||"<mutation/>")),de(new rc(o,"mutation",null,d,e));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(e){return e.saveExtraState?(e=e.saveExtraState(!0))?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?Cs(e):""}};i(Yn.EVENT,Mn.BLOCK_CHANGE,rc);var Oh={};Oh.clamp=Vl,Oh.toDegrees=j1,Oh.toRadians=Hl;var Rh=16,Lh=1,u3=12,u5=16,c3=.25,c5=null,ic=null,h5="",a1="",Ls,w2,sc,h3=null,Su=null,f5=null,Dh=null,u1=null,f3={getBoundsInfo:function(){const e=re(h3),o=sr(h3);return{left:e.x,right:e.x+o.width,top:e.y,bottom:e.y+o.height,width:o.width,height:o.height}},getPositionMetrics:function(e,o,a,d){const M=f3.getBoundsInfo(),oe=sr(Ls);return o+oe.height<M.bottom?lu(e,o,M,oe):d-oe.height>M.top?zu(a,d,M,oe):o+oe.height<document.documentElement.clientHeight?lu(e,o,M,oe):d-oe.height>document.documentElement.clientTop?zu(a,d,M,oe):I0(e,M,oe)}},i0={ANIMATION_TIME:c3,ARROW_HORIZONTAL_PADDING:u3,ARROW_SIZE:Rh,BORDER_SIZE:Lh,PADDING_Y:u5,TEST_ONLY:f3};i0.clearContent=il,i0.createDom=iu,i0.getContentDiv=Gl,i0.getOwner=Bc,i0.getPositionX=L,i0.hide=It,i0.hideIfOwner=ct,i0.hideWithoutAnimation=Wt,i0.isVisible=ee,i0.repositionForWindowResize=_n,i0.setBoundsElement=va,i0.setColour=Pc,i0.show=sl,i0.showPositionedByBlock=Fc,i0.showPositionedByField=Uu;var Ki={};Ki.commonWordPrefix=Zn,Ki.commonWordSuffix=tr,Ki.isNumber=r.isNumber$$module$build$src$core$utils$string,Ki.shortestStringLength=Ln,Ki.wrap=r.wrap$$module$build$src$core$utils$string;var T2=void 0,Bh=!1,c1=!1,e8=50,t8=0,h1=0,E2=0,oc=0,V0=null,lc=null,Ph=0,Fa=10,oa=10,S2=750,d3=5,wo=null,G0={HOVER_MS:S2,LIMIT:e8,MARGINS:d3,OFFSET_X:Ph,OFFSET_Y:Fa,RADIUS_OK:oa};G0.bindMouseEvents=ri,G0.block=xi,G0.createDom=_i,G0.dispose=Li,G0.getCustomTooltip=Qr,G0.getDiv=Si,G0.getTooltipOfObject=ar,G0.hide=Zi,G0.isVisible=fi,G0.setCustomTooltip=jr,G0.unbindMouseEvents=Ii,G0.unblock=ps;var p3=.45,m3=.65,n8={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},q0={};q0.blend=So,q0.getHsvSaturation=Oo,q0.getHsvValue=$i,q0.hexToRgb=xs,q0.hsvToHex=O0,q0.hueToHex=Ro,q0.names=n8,q0.parse=xt,q0.rgbToHex=ts,q0.setHsvSaturation=Ks,q0.setHsvValue=Ns;var x2={};x2.checkMessageReferences=bo,x2.parseBlockColour=os,x2.replaceMessageReferences=ii,x2.tokenizeInterpolation=Is;var cs=class{get size_(){return this.size}set size_(e){this.size=e}constructor(e,o,a){this.DEFAULT_VALUE=null,this.name=void 0,this.tooltip=this.validator_=null,this.size=new pi(0,0),this.constants_=this.mouseDownWrapper=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.id_=null,this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new pi(0,0),e!==cs.SKIP_SETUP&&(a&&this.configure_(a),this.setValue(e),o&&this.setValidator(o))}configure_(e){e.tooltip&&this.setTooltip(ii(e.tooltip))}setSourceBlock(e){if(this.sourceBlock_)throw Error("Field already bound to a block");if(this.sourceBlock_=e,e.id.includes("_field"))throw Error(`Field ID indicator is contained in block ID. This may cause problems with focus: ${e.id}.`);this.id_=`${e.id}_field_${_e()}`}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){if(!this.fieldGroup_){var e=this.id_;if(!e)throw Error("Expected ID to be defined prior to init.");this.fieldGroup_=Me(Tn.G,{id:e}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip),this.bindEvents_(),this.initModel(),this.applyColour()}}initView(){this.createBorderRect_(),this.createTextElement_(),this.fieldGroup_&&ut(this.fieldGroup_,"blocklyField")}initModel(){}isFullBlockField(){return!this.borderRect_}createBorderRect_(){this.borderRect_=Me(Tn.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=Me(Tn.TEXT,{class:"blocklyText blocklyFieldText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){const e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");ri(e),this.mouseDownWrapper=le(e,"pointerdown",this,this.onMouseDown_)}fromXml(e){this.setValue(e.textContent)}toXml(e){return e.textContent=this.getValue(),e}saveState(e){return e=this.saveLegacyState(cs),e!==null?e:this.getValue()}loadState(e){this.loadLegacyState(cs,e)||this.setValue(e)}saveLegacyState(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?(e=r.createElement$$module$build$src$core$utils$xml("field"),e.setAttribute("name",this.name||""),st(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(e,o){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml?(this.fromXml(r.textToDom$$module$build$src$core$utils$xml(o)),!0):!1}dispose(){ct(this),ll(this);let e;(e=this.getSourceBlock())!=null&&e.isDeadOrDying()||se(this.fieldGroup_),this.disposed=!0}updateEditable(){const e=this.fieldGroup_,o=this.getSourceBlock();this.EDITABLE&&e&&o&&(this.enabled_&&o.isEditable()?(ut(e,"blocklyEditableField"),nn(e,"blocklyNonEditableField")):(ut(e,"blocklyNonEditableField"),nn(e,"blocklyEditableField")))}setEnabled(e){this.enabled_=e,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==cs.prototype.showEditor_}isClickableInFlyout(e){return!e}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}isVisible(){return this.visible_}setVisible(e){if(this.visible_!==e){this.visible_=e;var o=this.fieldGroup_;o&&(o.style.display=e?"block":"none")}}setValidator(e){this.validator_=e}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(e){this.isClickable()&&this.showEditor_(e)}showEditor_(e){}repositionForWindowResize(){return!1}updateSize_(e){const o=this.getConstants();e=e!==void 0?e:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let a=e*2,d=o.FIELD_TEXT_HEIGHT,M=0;this.textElement_&&(M=Et(this.textElement_),a+=M),this.isFullBlockField()||(d=Math.max(d,o.FIELD_BORDER_RECT_HEIGHT)),this.size_=new pi(a,d),this.positionTextElement_(e,M),this.positionBorderRect_()}positionTextElement_(e,o){if(this.textElement_){var a=this.getConstants(),d=this.size_.height/2,M;this.textElement_.setAttribute("x",String((M=this.getSourceBlock())!=null&&M.RTL?this.size_.width-o-e:e)),this.textElement_.setAttribute("y",String(a.FIELD_TEXT_BASELINE_CENTER?d:d-a.FIELD_TEXT_HEIGHT/2+a.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){return this.isVisible()?(this.isDirty_&&(this.render_(),this.isDirty_=!1),this.size_):new pi(0,0)}getScaledBBox(){let e;var o=this.getSourceBlock();if(!o)throw new fo;if(this.isFullBlockField()){var a=this.sourceBlock_.getHeightWidth();const d=o.workspace.scale;e=this.getAbsoluteXY_(),o=(a.width+1)*d,a=(a.height+1)*d,yh?(e.x+=1.5*d,e.y+=1.5*d):(e.x-=.5*d,e.y-=.5*d)}else a=this.borderRect_.getBoundingClientRect(),e=re(this.borderRect_),o=a.width,a=a.height;return new ci(e.y,e.y+a,e.x,e.x+o)}onLocationChange(e){}getDisplayText_(){let e=this.getText();return e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+""),e=e.replace(/\s/g,cs.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+=""),e}getText(){const e=this.getText_();return String(e!==null?e:this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&this.sourceBlock_.queueRender()}setValue(e,o=!0){if(e!==null){var a=r.getGroup$$module$build$src$core$events$utils();a||r.setGroup$$module$build$src$core$events$utils(!0);try{const Wn=this.doClassValidation_(e),Gr=this.processValidation(e,Wn,o);if(!(Gr instanceof Error)){var d,M=(d=this.getValidator())==null?void 0:d.call(this,Gr),oe=this.processValidation(Gr,M,o);if(!(oe instanceof Error)){var at=this.sourceBlock_;if(!at||!at.disposed){var qt=this.getValue();qt===oe?this.doValueUpdate_(oe):(this.doValueUpdate_(oe),o&&at&&et()&&de(new(Ut(Mn.BLOCK_CHANGE))(at,"field",this.name||null,qt,oe)),this.isDirty_&&this.forceRerender())}}}}finally{r.setGroup$$module$build$src$core$events$utils(a)}}}processValidation(e,o,a){return o===null?(this.doValueInvalid_(e,a),this.isDirty_&&this.forceRerender(),Error()):o===void 0?e:o}getValue(){return this.value_}doClassValidation_(e){return e??null}doValueUpdate_(e){this.value_=e,this.isDirty_=!0}doValueInvalid_(e,o){}onMouseDown_(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}setTooltip(e){e||e===""||(e=this.sourceBlock_);const o=this.getClickTarget_();o?o.tooltip=e:this.tooltip=e}getTooltip(){const e=this.getClickTarget_();return ar(e||{tooltip:this.tooltip})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return re(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let e=null;const o=this.getSourceBlock();if(!o)throw new fo;const a=o.inputList;for(let d=0;d<o.inputList.length;d++){const M=a[d],oe=M.fieldRow;for(let at=0;at<oe.length;at++)if(oe[at]===this){e=M;break}}return e}getFlipRtl(){return!1}onShortcut(e){return!1}getFocusableElement(){if(!this.fieldGroup_)throw Error("This field currently has no representative DOM element.");return this.fieldGroup_}getFocusableTree(){const e=this.getSourceBlock();if(!e)throw new fo;return e.workspace}onNodeFocus(){const e=this.getSourceBlock();e.workspace.scrollBoundsIntoView(e.getBoundingRectangleWithoutChildren())}onNodeBlur(){}canBeFocused(){return!0}static fromJson(e){throw Error("Attempted to instantiate a field from the registry that hasn't defined a 'fromJson' method.")}};cs.NBSP="",cs.SKIP_SETUP=Symbol("SKIP_SETUP");var fo=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}},ac=null,g3=null,v3=null,d5="blocklyWidgetDiv",Ua="",C2="",W0,Mi=null,ml={};ml.createDom=ol,ml.getDiv=Lo,ml.hide=y0,ml.hideIfOwner=ll,ml.hideIfOwnerIsInWorkspace=R0,ml.isVisible=Uc,ml.positionWithAnchor=zo,ml.repositionForWindowResize=ba,ml.show=ql,ml.testOnly_setDiv=xl;var f1=null,$3={},Fh=null,xu={};xu.callbackFactory=r.callbackFactory$$module$build$src$core$contextmenu,xu.dispose=Vc,xu.getCurrentBlock=Wl,xu.hide=ul,xu.setCurrentBlock=Hu,xu.show=ya;var gi=class{constructor(){this.registeredItems=new Map,this.reset()}reset(){this.registeredItems.clear()}register(e){if(this.registeredItems.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registeredItems.set(e.id,e)}unregister(e){if(!this.registeredItems.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registeredItems.delete(e)}getItem(e){let o;return(o=this.registeredItems.get(e))!=null?o:null}getContextMenuOptions(e,o){const a=[];for(const d of this.registeredItems.values()){if(d.scopeType&&(d.scopeType===M2.BLOCK&&!e.block||d.scopeType===M2.COMMENT&&!e.comment||d.scopeType===M2.WORKSPACE&&!e.workspace))continue;let M;if(M={scope:e,weight:d.weight},d.separator)M=Object.assign({},M,{separator:!0});else{const oe=d.preconditionFn(e,o);if(oe==="hidden")continue;const at=typeof d.displayText=="function"?d.displayText(e):d.displayText;M=Object.assign({},M,{text:at,callback:d.callback,enabled:oe==="enabled"})}a.push(M)}return a.sort(function(d,M){return d.weight-M.weight}),a}};(function(e){var o=e.ScopeType||(e.ScopeType={});o.BLOCK="block",o.WORKSPACE="workspace",o.COMMENT="comment",e.registry=new e})(gi||(gi={}));var M2=gi.ScopeType,uc=50,Uh=100,Wf={BLOCK:uc,BUBBLE:Uh},r8=class{constructor(e){this.comment=e,this.startLoc=null,this.workspace=e.workspace}isMovable(){return this.comment.isOwnMovable()&&!this.comment.isDeadOrDying()&&!this.workspace.isReadOnly()}startDrag(){this.fireDragStartEvent(),this.startLoc=this.comment.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.comment),this.comment.setDragging(!0)}drag(e){this.comment.moveDuringDrag(e)}endDrag(){this.fireDragEndEvent(),this.fireMoveEvent();let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.comment,uc),this.comment.setDragging(!1),this.comment.snapToGrid(),this.workspace.setResizesEnabled(!0)}fireDragStartEvent(){const e=new(Ut(Mn.COMMENT_DRAG))(this.comment,!0);de(e)}fireDragEndEvent(){const e=new(Ut(Mn.COMMENT_DRAG))(this.comment,!1);de(e)}fireMoveEvent(){if(!this.comment.isDeadOrDying()){var e=new(Ut(Mn.COMMENT_MOVE))(this.comment);e.setReason(["drag"]),e.oldCoordinate_=this.startLoc,e.recordNew(),de(e)}}revertDrag(){this.startLoc&&this.comment.moveDuringDrag(this.startLoc)}},p5=new WeakMap,zh=class{constructor(e,o,a,d){this.id=e,this.workspace=o,this.container=a,this.commentView=d}isVisible(){return this.icon.checkVisibility()}getCommentView(){return this.commentView}getSize(e=!1){var o=this.icon.getBBox();return o=ci.from(o),e&&(e=this.getMargin(),o.left-=e,o.top-=e,o.bottom+=e,o.right+=e),o}getMargin(){return(this.container.getBBox().height-this.icon.getBBox().height)/2}getFocusableElement(){return this.icon}getFocusableTree(){return this.workspace}onNodeFocus(){const e=this.getCommentView();var o=e.getRelativeToSurfaceXY();const a=e.getSize();o=new ci(o.y,o.y+a.height,o.x,o.x+a.width),e.workspace.scrollBoundsIntoView(o)}onNodeBlur(){}canBeFocused(){return this.isVisible()}},Es="_collapse_bar_button",b3=class extends zh{constructor(e,o,a,d){super(e,o,a,d),this.id=e,this.workspace=o,this.container=a,this.commentView=d,this.icon=Me(Tn.IMAGE,{class:"blocklyFoldoutIcon",href:`${this.workspace.options.pathToMedia}foldout-icon.svg`,id:`${this.id}${Es}`},this.container),this.bindId=le(this.icon,"pointerdown",this,this.performAction.bind(this))}dispose(){Ce(this.bindId)}reposition(){const e=this.getMargin();this.icon.setAttribute("y",`${e}`),this.icon.setAttribute("x",`${e}`)}performAction(e){K(),this.getCommentView().bringToFront(),e&&e instanceof PointerEvent&&ce(e)?e.stopPropagation():(this.getCommentView().setCollapsed(!this.getCommentView().isCollapsed()),this.workspace.hideChaff(),e?.stopPropagation())}},Po="_comment_textarea_",y3=class{constructor(e,o,a){this.workspace=e,this.onFinishEditing=a,this.textChangeListeners=[],this.text="",this.foreignObject=Me(Tn.FOREIGNOBJECT,{class:"blocklyCommentForeignObject"}),e=document.createElementNS($u,"body"),e.setAttribute("xmlns",$u),e.className="blocklyMinimalBody",this.textArea=document.createElementNS($u,"textarea"),this.textArea.setAttribute("tabindex","-1"),this.textArea.setAttribute("dir",this.workspace.RTL?"RTL":"LTR"),ut(this.textArea,"blocklyCommentText"),ut(this.textArea,"blocklyTextarea"),ut(this.textArea,"blocklyText"),e.appendChild(this.textArea),this.foreignObject.appendChild(e),o&&(this.id=o+Po,this.textArea.setAttribute("id",this.id)),le(this.textArea,"change",this,this.onTextChange),le(this.textArea,"pointerdown",this,d=>{d.stopPropagation(),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this),K()}),le(this.textArea,"wheel",this,d=>{d.stopPropagation()}),le(this.textArea,"keydown",this,this.handleKeyDown)}getDom(){return this.foreignObject}getText(){return this.text}setText(e){this.textArea.value=e,this.onTextChange()}onTextChange(){const e=this.text;this.text=this.textArea.value;for(let o=this.textChangeListeners.length-1;o>=0;o--)this.textChangeListeners[o](e,this.text)}handleKeyDown(e){(e.key==="Escape"||e.key==="Enter"&&(e.ctrlKey||e.metaKey))&&(this.onFinishEditing&&this.onFinishEditing(),e.stopPropagation())}addTextChangeListener(e){this.textChangeListeners.push(e)}removeTextChangeListener(e){this.textChangeListeners.splice(this.textChangeListeners.indexOf(e),1)}setPlaceholderText(e){this.textArea.placeholder=e}setEditable(e){e?this.textArea.removeAttribute("readonly"):this.textArea.setAttribute("readonly","true")}updateSize(e,o){this.foreignObject.setAttribute("height",`${e.height-o.height}`),this.foreignObject.setAttribute("width",`${e.width}`),this.foreignObject.setAttribute("y",`${o.height}`),this.workspace.RTL&&this.foreignObject.setAttribute("x",`${-e.width}`)}getFocusableElement(){return this.textArea}getFocusableTree(){return this.workspace}onNodeFocus(){const e=ci.from(this.foreignObject.getBoundingClientRect());this.workspace.scrollBoundsIntoView(ci.createFromPoint(ge(this.workspace,e.getOrigin()),e.getWidth(),e.getHeight()))}onNodeBlur(){}canBeFocused(){return!!this.id}},m5="_delete_bar_button",i8=class extends zh{constructor(e,o,a,d){super(e,o,a,d),this.id=e,this.workspace=o,this.container=a,this.commentView=d,this.icon=Me(Tn.IMAGE,{class:"blocklyDeleteIcon",href:`${this.workspace.options.pathToMedia}delete-icon.svg`,id:`${this.id}${m5}`},a),this.bindId=le(this.icon,"pointerdown",this,this.performAction.bind(this))}dispose(){Ce(this.bindId)}reposition(){const e=this.getMargin();this.icon.setAttribute("x","0");const o=this.container.getBBox();this.icon.setAttribute("y",`${e}`),this.icon.setAttribute("x",`${o.width-this.getSize(!0).getWidth()}`)}performAction(e){K(),e&&e instanceof PointerEvent&&ce(e)?e.stopPropagation():(this.getCommentView().dispose(),e?.stopPropagation(),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.workspace))}},d1=class{constructor(e,o){this.workspace=e,this.commentId=o,this.collapsed=!1,this.editable=!0,this.location=new Qn(0,0),this.sizeChangeListeners=[],this.disposeListeners=[],this.collapseChangeListeners=[],this.resizePointerMoveListener=this.resizePointerUpListener=null,this.disposed=this.disposing=!1,this.svgRoot=Me(Tn.G,{class:"blocklyComment blocklyEditable blocklyDraggable"}),this.highlightRect=this.createHighlightRect(this.svgRoot),{topBarGroup:this.topBarGroup,topBarBackground:this.topBarBackground,deleteButton:this.deleteButton,foldoutButton:this.foldoutButton,textPreview:this.textPreview,textPreviewNode:this.textPreviewNode}=this.createTopBar(this.svgRoot),this.commentEditor=this.createTextArea(),this.resizeHandle=this.createResizeHandle(this.svgRoot,e);let a;(a=e.getLayerManager())==null||a.append(this,uc),this.size=d1.defaultCommentSize,this.setSizeWithoutFiringEvents(this.size),this.moveTo(new Qn(0,0))}createHighlightRect(e){return Me(Tn.RECT,{class:"blocklyCommentHighlight"},e)}createTopBar(e){e=Me(Tn.G,{class:"blocklyCommentTopbar"},e);const o=Me(Tn.RECT,{class:"blocklyCommentTopbarBackground"},e),a=new i8(this.commentId,this.workspace,e,this),d=new b3(this.commentId,this.workspace,e,this);this.addDisposeListener(()=>{a.dispose(),d.dispose()});const M=Me(Tn.TEXT,{class:"blocklyCommentPreview blocklyCommentText blocklyText"},e),oe=document.createTextNode("");return M.appendChild(oe),{topBarGroup:e,topBarBackground:o,deleteButton:a,foldoutButton:d,textPreview:M,textPreviewNode:oe}}createTextArea(){const e=new y3(this.workspace,this.commentId,()=>this.svgRoot.focus());return this.svgRoot.appendChild(e.getDom()),e.addTextChangeListener((o,a)=>{this.updateTextPreview(a),this.setSize(this.size)}),e}getEditorFocusableNode(){return this.commentEditor}createResizeHandle(e,o){return e=Me(Tn.IMAGE,{class:"blocklyResizeHandle",href:`${o.options.pathToMedia}resize-handle.svg`},e),le(e,"pointerdown",this,this.onResizePointerDown),e}getSvgRoot(){return this.svgRoot}getSize(){return this.collapsed?this.topBarBackground.getBBox():this.size}setSizeWithoutFiringEvents(e){const o=this.topBarBackground.getBBox(),a=this.textPreview.getBBox(),d=this.resizeHandle.getBBox();this.size=e=pi.max(e,this.calcMinSize(o)),this.svgRoot.setAttribute("height",`${e.height}`),this.svgRoot.setAttribute("width",`${e.width}`),this.updateHighlightRect(e),this.updateTopBarSize(e),this.commentEditor.updateSize(e,o),this.deleteButton.reposition(),this.foldoutButton.reposition(),this.updateTextPreviewSize(e,o,a),this.updateResizeHandlePosition(e,d)}setSize(e){const o=this.preResizeSize||this.size;this.setSizeWithoutFiringEvents(e),this.onSizeChange(o,this.size)}calcMinSize(e){var o;this.updateTextPreview((o=this.commentEditor.getText())!=null?o:"");let a=o=Et(this.textPreview);return this.foldoutButton.isVisible()?a+=this.foldoutButton.getSize(!0).getWidth():o&&(a+=4),this.deleteButton.isVisible()?a+=this.deleteButton.getSize(!0).getWidth():o&&(a+=4),new pi(a,e.height+20)}updateHighlightRect(e){this.highlightRect.setAttribute("height",`${e.height}`),this.highlightRect.setAttribute("width",`${e.width}`),this.workspace.RTL&&this.highlightRect.setAttribute("x",`${-e.width}`)}updateTopBarSize(e){this.topBarBackground.setAttribute("width",`${e.width}`)}updateTextPreviewSize(e,o,a){o=(o.height-a.height)/2;const d=this.foldoutButton.getSize(!0),M=this.deleteButton.getSize(!0);e=e.width-d.getWidth()-M.getWidth(),this.textPreview.setAttribute("x",`${(this.workspace.RTL?-1:1)*d.getWidth()}`),this.textPreview.setAttribute("y",`${o+a.height/2}`),this.textPreview.setAttribute("width",`${e}`)}updateResizeHandlePosition(e,o){this.resizeHandle.setAttribute("y",`${e.height-o.height}`),this.resizeHandle.setAttribute("x",`${e.width-o.width}`)}onSizeChange(e,o){for(let a=this.sizeChangeListeners.length-1;a>=0;a--)this.sizeChangeListeners[a](e,o)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}removeSizeChangeListener(e){this.sizeChangeListeners.splice(this.sizeChangeListeners.indexOf(e),1)}onResizePointerDown(e){this.isEditable()&&(this.bringToFront(),ce(e)||(this.preResizeSize=this.getSize(),Ho(this.workspace,e,new Qn(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=le(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=le(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation())}onResizePointerUp(e){K(),this.resizePointerUpListener&&(Ce(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(Ce(this.resizePointerMoveListener),this.resizePointerMoveListener=null),this.setSize(this.size),this.preResizeSize=void 0}onResizePointerMove(e){e=h0(this.workspace,e),this.setSizeWithoutFiringEvents(new pi(this.workspace.RTL?-e.x:e.x,e.y))}isCollapsed(){return this.collapsed}setCollapsed(e){(this.collapsed=e)?ut(this.svgRoot,"blocklyCollapsed"):nn(this.svgRoot,"blocklyCollapsed"),this.setSizeWithoutFiringEvents(this.size),this.onCollapse()}onCollapse(){for(let e=this.collapseChangeListeners.length-1;e>=0;e--)this.collapseChangeListeners[e](this.collapsed)}addOnCollapseListener(e){this.collapseChangeListeners.push(e)}removeOnCollapseListener(e){this.collapseChangeListeners.splice(this.collapseChangeListeners.indexOf(e),1)}isEditable(){return this.editable}setEditable(e){(this.editable=e)?(ut(this.svgRoot,"blocklyEditable"),nn(this.svgRoot,"blocklyReadonly")):(nn(this.svgRoot,"blocklyEditable"),ut(this.svgRoot,"blocklyReadonly")),this.commentEditor.setEditable(e)}getRelativeToSurfaceXY(){return this.location}moveTo(e){this.location=e,this.svgRoot.setAttribute("transform",`translate(${e.x}, ${e.y})`)}getText(){return this.commentEditor.getText()}setText(e){this.commentEditor.setText(e)}setPlaceholderText(e){this.commentEditor.setPlaceholderText(e)}addTextChangeListener(e){this.commentEditor.addTextChangeListener(e)}removeTextChangeListener(e){this.commentEditor.removeTextChangeListener(e)}updateTextPreview(e){this.textPreviewNode.textContent=this.truncateText(e)}truncateText(e){return e.length>=12?`${e.substring(0,9)}...`:e}bringToFront(){const e=this.svgRoot.parentNode,o=e.childNodes;o[o.length-1]!==this.svgRoot&&e.appendChild(this.svgRoot)}onDeleteDown(e){K(),ce(e)||this.dispose(),e.stopPropagation()}dispose(){this.disposing=!0,se(this.svgRoot);for(let e=this.disposeListeners.length-1;e>=0;e--)this.disposeListeners[e]();this.disposeListeners.length=0,this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}addDisposeListener(e){this.disposeListeners.push(e)}removeDisposeListener(e){this.disposeListeners.splice(this.disposeListeners.indexOf(e),1)}getCommentBarButtons(){return[this.foldoutButton,this.deleteButton]}};d1.defaultCommentSize=new pi(120,100),$n(`
.injectionDiv {
  --commentFillColour: #FFFCC7;
  --commentBorderColour: #F2E49B;
}

.blocklyComment .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 1px solid var(--commentBorderColour);
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}

.blocklyReadonly.blocklyComment .blocklyTextarea {
  cursor: inherit;
}

.blocklyDeleteIcon {
  width: 20px;
  height: 20px;
  display: none;
  cursor: pointer;
}

.blocklyFoldoutIcon {
  width: 20px;
  height: 20px;
  transform-origin: 12px 12px;
  cursor: pointer;
}
.blocklyResizeHandle {
  width: 12px;
  height: 12px;
  cursor: se-resize;
}
.blocklyReadonly.blocklyComment .blocklyResizeHandle {
  cursor: inherit;
}

.blocklyCommentTopbarBackground {
  fill: var(--commentBorderColour);
  height: 24px;
}

.blocklyComment .blocklyCommentPreview.blocklyText {
  fill: #000;
  dominant-baseline: middle;
  visibility: hidden;
}

.blocklyCollapsed.blocklyComment .blocklyCommentPreview {
  visibility: visible;
}

.blocklyCollapsed.blocklyComment .blocklyCommentForeignObject,
.blocklyCollapsed.blocklyComment .blocklyResizeHandle {
  display: none;
}

.blocklyCollapsed.blocklyComment .blocklyFoldoutIcon {
  transform: rotate(-90deg);
}

.blocklyRTL .blocklyCommentTopbar {
  transform: scale(-1, 1);
}

.blocklyRTL .blocklyCommentForeignObject {
  direction: rtl;
}

.blocklyRTL .blocklyCommentPreview {
  /* Revert the scale and control RTL using direction instead. */
  transform: scale(-1, 1);
  direction: rtl;
}

.blocklyRTL .blocklyResizeHandle {
  transform: scale(-1, 1);
  cursor: sw-resize;
}

.blocklyCommentHighlight {
  fill: none;
}

.blocklyCommentText.blocklyActiveFocus {
  border-color: #fc3;
  border-width: 2px;
}

.blocklySelected .blocklyCommentHighlight {
  stroke: #fc3;
  stroke-width: 3px;
}

.blocklyCollapsed.blocklySelected .blocklyCommentHighlight {
  stroke: none;
}

.blocklyCollapsed.blocklySelected .blocklyCommentTopbarBackground {
  stroke: #fc3;
  stroke-width: 3px;
}
`);var k2=class{constructor(e,o){this.workspace=e,this.text="",this.collapsed=!1,this.deletable=this.movable=this.editable=!0,this.location=new Qn(0,0),this.disposing=this.disposed=!1,this.id=o&&!e.getCommentById(o)?o:b(),this.size=d1.defaultCommentSize,e.addTopComment(this),this.fireCreateEvent()}fireCreateEvent(){et()&&de(new(Ut(Mn.COMMENT_CREATE))(this))}fireDeleteEvent(){et()&&de(new(Ut(Mn.COMMENT_DELETE))(this))}fireChangeEvent(e,o){et()&&de(new(Ut(Mn.COMMENT_CHANGE))(this,e,o))}fireCollapseEvent(e){et()&&de(new(Ut(Mn.COMMENT_COLLAPSE))(this,e))}setText(e){const o=this.text;this.text=e,this.fireChangeEvent(o,e)}getText(){return this.text}setSize(e){const o=new(Ut(Mn.COMMENT_RESIZE))(this);this.size=e,o.recordCurrentSizeAsNewSize(),de(o)}getSize(){return this.size}setCollapsed(e){this.collapsed=e,this.fireCollapseEvent(e)}isCollapsed(){return this.collapsed}setEditable(e){this.editable=e}isEditable(){return this.isOwnEditable()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setMovable(e){this.movable=e}isMovable(){return this.isOwnMovable()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnMovable(){return this.movable}setDeletable(e){this.deletable=e}isDeletable(){return this.isOwnDeletable()&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnDeletable(){return this.deletable}moveTo(e,o){const a=new(Ut(Mn.COMMENT_MOVE))(this);o&&a.setReason(o),this.location=e,a.recordNew(),de(a)}getRelativeToSurfaceXY(){return this.location}dispose(){this.disposing=!0,this.fireDeleteEvent(),this.workspace.removeTopComment(this),this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}},Il=class extends k2{constructor(e,o){super(e,o),this.dragStrategy=new r8(this),this.workspace=e,this.view=new d1(e,this.id),this.view.setSize(this.getSize()),this.view.setEditable(this.isEditable()),this.view.getSvgRoot().setAttribute("data-id",this.id),this.view.getSvgRoot().setAttribute("id",this.id),this.addModelUpdateBindings(),le(this.view.getSvgRoot(),"pointerdown",this,this.startGesture)}addModelUpdateBindings(){this.view.addTextChangeListener((e,o)=>void super.setText(o)),this.view.addSizeChangeListener((e,o)=>void super.setSize(o)),this.view.addOnCollapseListener(()=>void super.setCollapsed(this.view.isCollapsed())),this.view.addDisposeListener(()=>{this.isDeadOrDying()||this.dispose()})}setText(e){this.view.setText(e)}setPlaceholderText(e){this.view.setPlaceholderText(e)}setSize(e){this.view.setSize(e)}setCollapsed(e){this.view.setCollapsed(e)}setEditable(e){super.setEditable(e),this.view.setEditable(this.isEditable())}getSvgRoot(){return this.view.getSvgRoot()}getSize(){return super.getSize()}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY();var o,a;const d=(a=(o=this.view)==null?void 0:o.getSize())!=null?a:this.getSize();return this.workspace.RTL?(o=e.x-d.width,a=e.x):(o=e.x,a=e.x+d.width),new ci(e.y,e.y+d.height,o,a)}moveBy(e,o,a){const d=this.getRelativeToSurfaceXY();e=new Qn(d.x+e,d.y+o),this.moveTo(e,a)}moveTo(e,o){super.moveTo(e,o),this.view.moveTo(e)}moveDuringDrag(e){this.location=e,this.view.moveTo(e)}setDragging(e){e?ut(this.getSvgRoot(),"blocklyDragging"):nn(this.getSvgRoot(),"blocklyDragging")}dispose(){this.disposing=!0;const e=r.getFocusManager$$module$build$src$core$focus_manager();e.getFocusedNode()===this&&setTimeout(()=>e.focusTree(this.workspace),0),this.view.isDeadOrDying()||this.view.dispose(),super.dispose()}startGesture(e){const o=this.workspace.getGesture(e);o&&(o.handleCommentStart(e,this),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this))}setDeleteStyle(e){e?ut(this.getSvgRoot(),"blocklyDraggingDelete"):nn(this.getSvgRoot(),"blocklyDraggingDelete")}isCopyable(){return this.isOwnMovable()&&this.isOwnDeletable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){ut(this.getSvgRoot(),"blocklySelected"),Lt(this)}unselect(){nn(this.getSvgRoot(),"blocklySelected"),Lt(null)}toCopyData(){return{paster:_u.TYPE,commentState:Ke(this,{addCoordinates:!0,saveIds:!1})}}showContextMenu(e){const o=gi.registry.getContextMenuOptions({comment:this,focusedNode:this},e);let a;a=e instanceof PointerEvent?new Qn(e.clientX,e.clientY):be(this.workspace,this.getRelativeToSurfaceXY()).translate(10,10),ya(e,o,this.workspace.RTL,this.workspace,a)}snapToGrid(){if(!this.isDeadOrDying()){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var o=this.getRelativeToSurfaceXY();e=e.alignXY(o),e!==o&&this.moveTo(e,["snap"])}}}getEditorFocusableNode(){return this.view.getEditorFocusableNode()}getFocusableElement(){return this.getSvgRoot()}getFocusableTree(){return this.workspace}onNodeFocus(){this.select();let e;(e=this.workspace.getLayerManager())==null||e.append(this,uc),this.workspace.scrollBoundsIntoView(this.getBoundingRectangle())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}},s0={};s0.appendDomToWorkspace=ao,s0.blockToDom=cl,s0.blockToDomWithXY=t0,s0.clearWorkspaceAndLoadFromXml=ki,s0.deleteNext=fl,s0.domToBlock=r.domToBlock$$module$build$src$core$xml,s0.domToBlockInternal=Ml,s0.domToPrettyText=_s,s0.domToText=Cs,s0.domToVariables=kl,s0.domToWorkspace=r.domToWorkspace$$module$build$src$core$xml,s0.loadWorkspaceComment=Xl,s0.saveWorkspaceComment=f0,s0.variablesToDom=w0,s0.workspaceToDom=Cl;var _3=class extends nc{constructor(e){super(e),this.type=Mn.BLOCK_CREATE,e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=t0(e),this.ids=nt(e),this.json=Zr(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=Cs(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new _3),o.xml=r.textToDom$$module$build$src$core$utils$xml(e.xml),o.ids=e.ids,o.json=e.json,e.recordUndo!==void 0&&(o.recordUndo=e.recordUndo),o}run(e){const o=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!g5(o,this.ids))if(e)es(this.json,o);else for(e=0;e<this.ids.length;e++){const a=this.ids[e],d=o.getBlockById(a);d?d.dispose(!1):a===this.blockId&&console.warn("Can't uncreate non-existent block: "+a)}}},g5=function(e,o){return o.map(a=>e.getBlockById(a)).filter(a=>a&&a.isShadow()).length===o.length};i(Yn.EVENT,Mn.BLOCK_CREATE,_3);var Hh=class extends Yi{constructor(e,o){super(o),this.type=Mn.THEME_CHANGE,this.themeName=e}toJson(){const e=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new Hh),o.themeName=e.themeName,o}};i(Yn.EVENT,Mn.THEME_CHANGE,Hh);var v5=class extends Yi{constructor(e,o,a,d,M){super(d),this.type=Mn.VIEWPORT_CHANGE,this.viewTop=e,this.viewLeft=o,this.scale=a,this.oldScale=M}toJson(){const e=super.toJson();if(this.viewTop===void 0)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(this.viewLeft===void 0)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(this.scale===void 0)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(this.oldScale===void 0)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new v5),o.viewTop=e.viewTop,o.viewLeft=e.viewLeft,o.scale=e.scale,o.oldScale=e.oldScale,o}};i(Yn.EVENT,Mn.VIEWPORT_CHANGE,v5);var $5={fromJsonInternal:Vu},w3={TEST_ONLY:$5};w3.fromJson=r.fromJson$$module$build$src$core$field_registry,w3.register=T0,w3.unregister=Kl;var jo=class extends cs{constructor(e,o,a){super(cs.SKIP_SETUP),this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null,this.SERIALIZABLE=!0,this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null,e!==cs.SKIP_SETUP&&(this.setOptions(e),a&&this.configure_(a),o&&this.setValidator(o))}fromXml(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}loadState(e){this.loadLegacyState(jo,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement=Me(Tn.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&ut(this.borderRect_,"blocklyDropdownRect"),this.fieldGroup_&&(ut(this.fieldGroup_,"blocklyField"),ut(this.fieldGroup_,"blocklyDropdownField"))}shouldAddBorderRect_(){let e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!((e=this.getSourceBlock())!=null&&e.isShadow())}createTextArrow_(){this.arrow=Me(Tn.TSPAN,{},this.textElement_);let e;this.arrow.appendChild(document.createTextNode((e=this.getSourceBlock())!=null&&e.RTL?jo.ARROW_CHAR+" ":" "+jo.ARROW_CHAR)),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.arrow.setAttribute("dominant-baseline","central");let o;(o=this.getSourceBlock())!=null&&o.RTL?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=Me(Tn.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow.setAttributeNS(C0,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(e){var o=this.getSourceBlock();if(!o)throw new fo;this.dropdownCreate(),this.menu_&&(this.menu_.openingCoords=e&&typeof e.clientX=="number"?new Qn(e.clientX,e.clientY):null,il(),e=this.menu_.render(Gl()),ut(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(o=o.getColour(),e=this.sourceBlock_.getColourTertiary(),Pc(o,e)),Uu(this,this.dropdownDispose_.bind(this)),Gl().style.height=`${this.menu_.getSize().height}px`,this.menu_.focus(),this.selectedMenuItem&&this.menu_.setHighlighted(this.selectedMenuItem),this.applyColour())}dropdownCreate(){const e=this.getSourceBlock();if(!e)throw new fo;const o=new i5;o.setRole(U0.LISTBOX),this.menu_=o;const a=this.getOptions(!1);this.selectedMenuItem=null;for(let M=0;M<a.length;M++){var d=a[M];if(d===jo.SEPARATOR){o.addChild(new rs);continue}const[oe,at]=d;E0(oe)?(d=new Image(oe.width,oe.height),d.src=oe.src,d.alt=oe.alt):d=oe,d=new i3(d,at),d.setRole(U0.OPTION),d.setRightToLeft(e.RTL),d.setCheckable(!0),o.addChild(d),d.setChecked(at===this.value_),at===this.value_&&(this.selectedMenuItem=d),d.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem=this.menu_=null,this.applyColour()}handleMenuActionEvent(e){ct(this,!0),this.onItemSelected_(this.menu_,e)}onItemSelected_(e,o){this.setValue(o.getValue())}isOptionListDynamic(){return typeof this.menuGenerator_=="function"}getOptions(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:e&&this.generatedOptions?this.generatedOptions:(this.generatedOptions=this.menuGenerator_(),this.validateOptions(this.generatedOptions),this.generatedOptions)}setOptions(e){Array.isArray(e)?(this.validateOptions(e),e=this.trimOptions(e),this.menuGenerator_=e.options,this.prefixField=e.prefix||null,this.suffixField=e.suffix||null):this.menuGenerator_=e,this.selectedOption=this.getOptions(!1)[0],this.setValue(this.selectedOption[1])}doClassValidation_(e){return this.getOptions(!0).some(o=>o[1]===e)?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}doValueUpdate_(e){super.doValueUpdate_(e),e=this.getOptions(!0);for(let o=0,a;a=e[o];o++)a[1]===this.value_&&(this.selectedOption=a)}applyColour(){const e=this.sourceBlock_;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.getColourTertiary()),this.menu_?this.borderRect_.setAttribute("fill",e.getColourTertiary()):this.borderRect_.setAttribute("fill","transparent")),e&&this.arrow&&(e.isShadow()?this.arrow.style.fill=e.getColourSecondary():this.arrow.style.fill=e.getColour())}render_(){this.getTextContent().nodeValue="",this.imageElement.style.display="none";const e=this.selectedOption&&this.selectedOption[0];E0(e)?this.renderSelectedImage(e):this.renderSelectedText(),this.positionBorderRect_()}renderSelectedImage(e){const o=this.getSourceBlock();if(!o)throw new fo;this.imageElement.style.display="",this.imageElement.setAttributeNS(C0,"xlink:href",e.src),this.imageElement.setAttribute("height",String(e.height)),this.imageElement.setAttribute("width",String(e.width));const a=Number(e.height);e=Number(e.width);var d=!!this.borderRect_;const M=Math.max(d?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,a+jo.IMAGE_Y_PADDING);d=d?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let oe;oe=this.svgArrow?this.positionSVGArrow(e+d,M/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):Et(this.arrow),this.size_=new pi(e+oe+d*2,M);let at=0;o.RTL?this.imageElement.setAttribute("x",`${d+oe}`):(at=e+oe,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement.setAttribute("x",`${d}`)),this.imageElement.setAttribute("y",String(M/2-a/2)),this.positionTextElement_(at+d,e+oe)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();ut(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var o=!!this.borderRect_;e=Math.max(o?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const a=Et(this.getTextElement());o=o?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let d=0;this.svgArrow&&(d=this.positionSVGArrow(a+o,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_=new pi(a+d+o*2,e),this.positionTextElement_(o,a)}positionSVGArrow(e,o){if(!this.svgArrow)return 0;const a=this.getSourceBlock();if(!a)throw new fo;const d=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,M=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,oe=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow.setAttribute("transform","translate("+(a.RTL?d:e+M)+","+o+")"),oe+M}getText_(){if(!this.selectedOption)return null;const e=this.selectedOption[0];if(E0(e))return e.alt;if(typeof HTMLElement<"u"&&e instanceof HTMLElement){let o,a;return(a=(o=e.title)!=null?o:e.ariaLabel)!=null?a:e.innerText}return typeof e=="string"?e:(console.warn("Can't get text for existing dropdown option. If you're using HTMLElement dropdown options in node, ensure you're using jsdom-global or similar."),null)}static fromJson(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}trimOptions(e){let o=!1;const a=e.map(at=>{if(at===jo.SEPARATOR)return o=!0,at;const[qt,Wn]=at;return typeof qt=="string"?[ii(qt),Wn]:(o=!0,[E0(qt)?Object.assign({},qt,{alt:ii(qt.alt)}):qt,Wn])});if(o||e.length<2)return{options:a};var d=a.map(([at])=>at),M=Ln(d);e=Zn(d,M);const oe=tr(d,M);return!e&&!oe||M<=e+oe?{options:a}:(M=e?d[0].substring(0,e-1):void 0,d=oe?d[0].substr(1-oe):void 0,{options:this.applyTrim(a,e,oe),prefix:M,suffix:d})}applyTrim(e,o,a){return e.map(([d,M])=>[d.substring(o,d.length-a),M])}validateOptions(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");let o=!1;for(let a=0;a<e.length;a++){const d=e[a];Array.isArray(d)||d===jo.SEPARATOR?typeof d[1]!="string"?(o=!0,console.error(`Invalid option[${a}]: Each FieldDropdown option id must be a string.
          Found ${d[1]} in: ${d}`)):!d[0]||typeof d[0]=="string"||E0(d[0])||typeof HTMLElement<"u"&&d[0]instanceof HTMLElement||(o=!0,console.error(`Invalid option[${a}]: Each FieldDropdown option must have a string
          label, image description, or HTML element. Found ${d[0]} in: ${d}`)):(o=!0,console.error(`Invalid option[${a}]: Each FieldDropdown option must be an array or
          the string literal 'separator'. Found: ${d}`))}if(o)throw TypeError("Found invalid FieldDropdown options.")}};jo.SEPARATOR="separator",jo.ARROW_CHAR="",jo.IMAGE_Y_OFFSET=5,jo.IMAGE_Y_PADDING=jo.IMAGE_Y_OFFSET*2,T0("field_dropdown",jo);var p1=class{constructor(e,o,a,d){this.name=e,this.startHats=!1,this.blockStyles=o||Object.create(null),this.categoryStyles=a||Object.create(null),this.componentStyles=d||Object.create(null),this.fontStyle=Object.create(null),i(Yn.THEME,e,this,!0)}getClassName(){return this.name+"-theme"}setBlockStyle(e,o){this.blockStyles[e]=o}setCategoryStyle(e,o){this.categoryStyles[e]=o}getComponentStyle(e){if(e=this.componentStyles[e],!e)return null;if(typeof e=="string"){const o=this.getComponentStyle(e);if(o)return o}return`${e}`}setComponentStyle(e,o){this.componentStyles[e]=o}setFontStyle(e){this.fontStyle=e}setStartHats(e){this.startHats=e}static defineTheme(e,o){e=e.toLowerCase();const a=new p1(e);let d=o.base;if(d){if(typeof d=="string"){let M;d=(M=$(Yn.THEME,d))!=null?M:void 0}d instanceof p1&&(ht(a,d),a.name=e)}return ht(a.blockStyles,o.blockStyles),ht(a.categoryStyles,o.categoryStyles),ht(a.componentStyles,o.componentStyles),ht(a.fontStyle,o.fontStyle),o.startHats!==null&&(a.startHats=o.startHats),a}},jf={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},cc={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},Vh=new p1("classic",jf,cc),la=class{constructor(e){this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let o=null,a=!1;var d=!1,M=!1,oe=!1,at=!1,qt=!1;const Wn=!!e.readOnly;if(!Wn){var Gr;o=$t((Gr=e.toolbox)!=null?Gr:null),a=D(o),d=e.trashcan,d=d===void 0?a:d,M=e.collapse,M=M===void 0?a:M,oe=e.comments,oe=oe===void 0?a:oe,at=e.disable,at=at===void 0?a:at,qt=e.sounds,qt=qt===void 0?!0:qt}Gr=e.maxTrashcanContents,d?Gr===void 0&&(Gr=32):Gr=0;const po=!!e.rtl;let Ds=e.horizontalLayout;Ds===void 0&&(Ds=!1);var N0=e.toolboxPosition!=="end";N0=Ds?N0?mi.TOP:mi.BOTTOM:N0===po?mi.RIGHT:mi.LEFT;let w1=e.css;w1===void 0&&(w1=!0);let yc="https://blockly-demo.appspot.com/static/media/";e.media&&(yc=e.media.endsWith("/")?e.media:e.media+"/");const hb=e.oneBasedIndex,Fk=e.renderer||"geras",Uk=e.plugins||{};let Ed=e.modalInputs;Ed===void 0&&(Ed=!0),this.RTL=po,this.oneBasedIndex=hb===void 0?!0:hb,this.collapse=M,this.comments=oe,this.disable=at,this.readOnly=Wn,this.maxBlocks=e.maxBlocks||1/0;let fb;this.maxInstances=(fb=e.maxInstances)!=null?fb:null,this.modalInputs=Ed,this.pathToMedia=yc,this.hasCategories=a,this.moveOptions=la.parseMoveOptions(e,a),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=d,this.maxTrashcanContents=Gr,this.hasSounds=qt,this.hasCss=w1,this.horizontalLayout=Ds,this.languageTree=o,this.gridOptions=la.parseGridOptions(e),this.zoomOptions=la.parseZoomOptions(e),this.toolboxPosition=N0,this.theme=la.parseThemeOptions(e),this.renderer=Fk;let db;this.rendererOverrides=(db=e.rendererOverrides)!=null?db:null;let pb;this.parentWorkspace=(pb=e.parentWorkspace)!=null?pb:null,this.plugins=Uk}static parseMoveOptions(e,o){const a=e.move||{},d={};return a.scrollbars===void 0&&e.scrollbars===void 0?d.scrollbars=o:typeof a.scrollbars=="object"?(d.scrollbars={horizontal:!!a.scrollbars.horizontal,vertical:!!a.scrollbars.vertical},d.scrollbars.horizontal&&d.scrollbars.vertical?d.scrollbars=!0:d.scrollbars.horizontal||d.scrollbars.vertical||(d.scrollbars=!1)):d.scrollbars=!!a.scrollbars||!!e.scrollbars,d.wheel=d.scrollbars&&a.wheel!==void 0?!!a.wheel:typeof d.scrollbars=="object",d.drag=d.scrollbars?a.drag===void 0?!0:!!a.drag:!1,d}static parseZoomOptions(e){e=e.zoom||{};const o={};return o.controls=e.controls===void 0?!1:!!e.controls,o.wheel=e.wheel===void 0?!1:!!e.wheel,o.startScale=e.startScale===void 0?1:Number(e.startScale),o.maxScale=e.maxScale===void 0?3:Number(e.maxScale),o.minScale=e.minScale===void 0?.3:Number(e.minScale),o.scaleSpeed=e.scaleSpeed===void 0?1.2:Number(e.scaleSpeed),o.pinch=e.pinch===void 0?o.wheel||o.controls:!!e.pinch,o}static parseGridOptions(e){e=e.grid||{};const o={};return o.spacing=Number(e.spacing)||0,o.colour=e.colour||"#888",o.length=e.length===void 0?1:Number(e.length),o.snap=o.spacing>0&&!!e.snap,o}static parseThemeOptions(e){return e=e.theme||Vh,typeof e=="string"?$(Yn.THEME,e):e instanceof p1?e:p1.defineTheme(e.name||"builtin"+_e(),e)}},T3=class{constructor(e,o){this.bubble=e,this.workspace=o,this.startLoc=null}isMovable(){return!0}startDrag(){this.startLoc=this.bubble.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.bubble),this.bubble.setDragging&&this.bubble.setDragging(!0)}drag(e){this.bubble.moveDuringDrag(e)}endDrag(){this.workspace.setResizesEnabled(!0);let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.bubble,Uh),this.bubble.setDragging(!1)}revertDrag(){this.startLoc&&this.bubble.moveDuringDrag(this.startLoc)}},gl,hs=class{constructor(e,o,a,d,M){this.workspace=e,this.anchor=o,this.ownerRect=a,this.owner=M,this.size=new pi(0,0),this.colour="#ffffff",this.disposed=!1,this.relativeLeft=this.relativeTop=0,this.dragStrategy=new T3(this,this.workspace),this.id=_e(),this.svgRoot=Me(Tn.G,{class:"blocklyBubble"},e.getBubbleCanvas()),e=Me(Tn.G,{class:"blocklyEmboss"},this.svgRoot),this.tail=Me(Tn.PATH,{class:"blocklyBubbleTail"},e),this.background=Me(Tn.RECT,{class:"blocklyDraggable",x:0,y:0,rx:gl.BORDER_WIDTH,ry:gl.BORDER_WIDTH},e),this.contentContainer=Me(Tn.G,{},this.svgRoot),this.focusableElement=d??this.svgRoot,this.focusableElement.setAttribute("id",this.id),le(this.background,"pointerdown",this,this.onMouseDown),le(this.focusableElement,"keydown",this,this.onKeyDown)}dispose(){se(this.svgRoot),this.disposed=!0}setAnchorLocation(e,o=!1){this.anchor=e,o?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}setPositionRelativeToAnchor(e,o){this.relativeLeft=e,this.relativeTop=o,this.positionRelativeToAnchor(),this.renderTail()}getSize(){return this.size}setSize(e,o=!1){e.width=Math.max(e.width,gl.MIN_SIZE),e.height=Math.max(e.height,gl.MIN_SIZE),this.size=e,this.background.setAttribute("width",`${e.width}`),this.background.setAttribute("height",`${e.height}`),o?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}getColour(){return this.colour}setColour(e){this.colour=e,this.tail.setAttribute("fill",e),this.background.setAttribute("fill",e)}onMouseDown(e){let o;(o=this.workspace.getGesture(e))==null||o.handleBubbleStart(e,this),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)}onKeyDown(e){e.key==="Escape"&&this.owner&&(this.owner.setBubbleVisible(!1),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.owner))}positionRelativeToAnchor(){let e=this.anchor.x;e=this.workspace.RTL?e-(this.relativeLeft+this.size.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchor.y)}moveTo(e,o){this.svgRoot.setAttribute("transform",`translate(${e}, ${o})`)}positionByRect(e=new ci(0,0,0,0)){var o=this.workspace.getMetricsManager().getViewMetrics(!0),a=this.getOptimalRelativeLeft(o),d=this.getOptimalRelativeTop(o);const M={x:a,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},oe={x:-this.size.width-30,y:d};d={x:e.getWidth(),y:d};var at={x:a,y:e.getHeight()};a=e.getWidth()<e.getHeight()?d:at,e=e.getWidth()<e.getHeight()?at:d,d=this.getOverlap(M,o),at=this.getOverlap(oe,o);const qt=this.getOverlap(a,o);o=this.getOverlap(e,o),o=Math.max(d,at,qt,o),d===o?(this.relativeLeft=M.x,this.relativeTop=M.y):at===o?(this.relativeLeft=oe.x,this.relativeTop=oe.y):qt===o?(this.relativeLeft=a.x,this.relativeTop=a.y):(this.relativeLeft=e.x,this.relativeTop=e.y),this.positionRelativeToAnchor()}getOverlap(e,o){var a=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x+this.anchor.x;return e=e.y+this.anchor.y,Math.max(0,Math.min(1,(Math.min(a+this.size.width,o.left+o.width)-Math.max(a,o.left))*(Math.min(e+this.size.height,o.top+o.height)-Math.max(e,o.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(e){let o=-this.size.width/4;if(this.size.width>e.width)return o;if(e=this.getWorkspaceViewRect(e),this.workspace.RTL){var a=this.anchor.x-o;a-this.size.width<e.left?o=-(e.left-this.anchor.x+this.size.width):a>e.right&&(o=-(e.right-this.anchor.x))}else{a=o+this.anchor.x;const d=a+this.size.width;a<e.left?o=e.left-this.anchor.x:d>e.right&&(o=e.right-this.anchor.x-this.size.width)}return o}getOptimalRelativeTop(e){let o=-this.size.height/4;if(this.size.height>e.height)return o;const a=this.anchor.y+o,d=a+this.size.height;return e=this.getWorkspaceViewRect(e),a<e.top?o=e.top-this.anchor.y:d>e.bottom&&(o=e.bottom-this.anchor.y-this.size.height),o}getWorkspaceViewRect(e){const o=e.top;let a=e.top+e.height,d=e.left;return e=e.left+e.width,a-=this.getScrollbarThickness(),this.workspace.RTL?d-=this.getScrollbarThickness():e-=this.getScrollbarThickness(),new ci(o,a,d,e)}getScrollbarThickness(){return Js.scrollbarThickness/this.workspace.scale}renderTail(){const e=[];var o=this.size.width/2,a=this.size.height/2,d=-this.relativeLeft,M=-this.relativeTop;if(o===d&&a===M)e.push("M "+o+","+a);else{M-=a,d-=o,this.workspace.RTL&&(d*=-1);var oe=Math.sqrt(M*M+d*d),at=Math.acos(d/oe);M<0&&(at=2*Math.PI-at);var qt=at+Math.PI/2;qt>Math.PI*2&&(qt-=Math.PI*2);var Wn=Math.sin(qt);const po=Math.cos(qt);let Ds=(this.size.width+this.size.height)/gl.TAIL_THICKNESS;Ds=Math.min(Ds,this.size.width,this.size.height)/4,qt=1-gl.ANCHOR_RADIUS/oe,d=o+qt*d,M=a+qt*M,qt=o+Ds*po;const N0=a+Ds*Wn;o-=Ds*po,a-=Ds*Wn,Wn=Hl(this.workspace.RTL?-gl.TAIL_ANGLE:gl.TAIL_ANGLE),Wn=at+Wn,Wn>Math.PI*2&&(Wn-=Math.PI*2),at=Math.sin(Wn)*oe/gl.TAIL_BEND,oe=Math.cos(Wn)*oe/gl.TAIL_BEND,e.push("M"+qt+","+N0),e.push("C"+(qt+oe)+","+(N0+at)+" "+d+","+M+" "+d+","+M),e.push("C"+d+","+M+" "+(o+oe)+","+(a+at)+" "+o+","+a)}e.push("z");let Gr;(Gr=this.tail)==null||Gr.setAttribute("d",e.join(" "))}bringToFront(){let e;const o=(e=this.svgRoot)==null?void 0:e.parentNode;return this.svgRoot&&o?.lastChild!==this.svgRoot?(o?.appendChild(this.svgRoot),!0):!1}getRelativeToSurfaceXY(){return new Qn(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(e){this.moveTo(e.x,e.y),this.relativeLeft=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x-this.anchor.x,this.relativeTop=e.y-this.anchor.y,this.renderTail()}setDragging(e){}setDeleteStyle(e){}isDeletable(){return!1}showContextMenu(e){}isMovable(){return!0}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){Lt(this)}unselect(){Lt(null)}getFocusableElement(){return this.focusableElement}getFocusableTree(){return this.workspace}onNodeFocus(){this.select(),this.bringToFront();var e=this.getRelativeToSurfaceXY();const o=this.getSize();e=new ci(e.y,e.y+o.height,e.x,e.x+o.width),this.workspace.scrollBoundsIntoView(e)}onNodeBlur(){this.unselect()}canBeFocused(){return!0}getOwner(){return this.owner}};gl=hs,hs.BORDER_WIDTH=6,hs.DOUBLE_BORDER=gl.BORDER_WIDTH*2,hs.MIN_SIZE=gl.DOUBLE_BORDER,hs.TAIL_THICKNESS=1,hs.TAIL_ANGLE=20,hs.TAIL_BEND=4,hs.ANCHOR_RADIUS=8;var za=class extends hs{constructor(e,o,a,d){super(o,a,d),this.workspace=o,this.anchor=a,this.ownerRect=d,this.autoLayout=!0,o=new la(e),this.validateWorkspaceOptions(o),this.svgDialog=Me(Tn.SVG,{x:hs.BORDER_WIDTH,y:hs.BORDER_WIDTH},this.contentContainer),e.parentWorkspace=this.workspace,this.miniWorkspace=this.newWorkspaceSvg(new la(e)),this.miniWorkspace.internalIsMutator=!0,e=this.miniWorkspace.createDom("blocklyMutatorBackground"),this.svgDialog.appendChild(e),o.languageTree&&(e.insertBefore(this.miniWorkspace.addFlyout(Tn.G),this.miniWorkspace.getCanvas()),e=this.miniWorkspace.getFlyout(),e?.init(this.miniWorkspace),e?.show(o.languageTree)),ut(this.svgRoot,"blocklyMiniWorkspaceBubble"),this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this));let M,oe;(M=this.miniWorkspace.getFlyout())==null||(oe=M.getWorkspace())==null||oe.addChangeListener(this.onWorkspaceChange.bind(this)),this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose(),super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(e){this.miniWorkspace.addChangeListener(e)}validateWorkspaceOptions(e){if(e.hasCategories)throw Error("The miniworkspace bubble does not support toolboxes with categories");if(e.hasTrashcan)throw Error("The miniworkspace bubble does not support trashcans");if(e.zoomOptions.controls||e.zoomOptions.wheel||e.zoomOptions.pinch)throw Error("The miniworkspace bubble does not support zooming");if(e.moveOptions.scrollbars||e.moveOptions.wheel||e.moveOptions.drag)throw Error("The miniworkspace bubble does not scrolling/moving the workspace");if(e.horizontalLayout)throw Error("The miniworkspace bubble does not support horizontal layouts")}onWorkspaceChange(){this.bumpBlocksIntoBounds(),this.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress)for(const e of this.miniWorkspace.getTopBlocks(!1)){const o=e.getRelativeToSurfaceXY();if(o.y<20&&e.moveBy(0,20-o.y),e.RTL){let a=-20;const d=this.miniWorkspace.getFlyout();d&&(a-=d.getWidth()),o.x>a&&e.moveBy(a-o.x,0)}else o.x<20&&e.moveBy(20-o.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress){this.autoLayout&&(this.autoLayout=!this.miniWorkspace.keyboardMoveInProgress);var e=this.getSize(),o=this.calculateWorkspaceSize();Math.abs(e.width-o.width)<za.MINIMUM_VIEW_CHANGE&&Math.abs(e.height-o.height)<za.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute("width",`${o.width}px`),this.svgDialog.setAttribute("height",`${o.height}px`),this.miniWorkspace.setCachedParentSvgSize(o.width,o.height),this.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute("transform",`translate(${o.width}, 0)`),this.setSize(new pi(o.width+hs.DOUBLE_BORDER,o.height+hs.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){var e=this.miniWorkspace.getCanvas().getBBox();let o=e.width+za.MARGIN;e=e.height+za.MARGIN;const a=this.miniWorkspace.getFlyout();if(a){const d=a.getWorkspace().getMetricsManager().getScrollMetrics();e=Math.max(e,d.height+20),o+=a.getWidth()}return new pi(o,e)}updateBlockStyles(){for(var e of this.miniWorkspace.getAllBlocks(!1))e.setStyle(e.getStyleName());let o;if(e=(o=this.miniWorkspace.getFlyout())==null?void 0:o.getWorkspace())for(const a of e.getAllBlocks(!1))a.setStyle(a.getStyleName())}moveDuringDrag(e){super.moveDuringDrag(e),this.autoLayout=!1}moveTo(e,o){super.moveTo(e,o),this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}};za.MINIMUM_VIEW_CHANGE=10,za.MARGIN=hs.DOUBLE_BORDER*3;var m1=class{constructor(e){this.sourceBlock=e,this.offsetInBlock=new Qn(0,0),this.workspaceLocation=new Qn(0,0),this.svgRoot=null,this.tooltip=e,this.id=_e()}getType(){throw Error("Icons must implement getType")}initView(e){if(!this.svgRoot){var o=this.sourceBlock;this.svgRoot=Me(Tn.G,{class:"blocklyIconGroup",id:this.id}),o.getSvgRoot().appendChild(this.svgRoot),this.updateSvgRootOffset(),le(this.svgRoot,"pointerdown",this,e),this.svgRoot.tooltip=this,ri(this.svgRoot)}}dispose(){Ii(this.svgRoot),se(this.svgRoot)}getWeight(){return-1}getSize(){return new pi(0,0)}setTooltip(e){this.tooltip=e??this.sourceBlock}getTooltip(){return this.tooltip}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display="none":this.svgRoot.style.display="block",zl(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display="none")}isShownWhenCollapsed(){return!1}setOffsetInBlock(e){this.offsetInBlock=e,this.updateSvgRootOffset()}updateSvgRootOffset(){let e;(e=this.svgRoot)==null||e.setAttribute("transform",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`)}onLocationChange(e){this.workspaceLocation=Qn.sum(e,this.offsetInBlock)}onClick(){}isClickableInFlyout(e){return!0}getFocusableElement(){const e=this.svgRoot;if(!e)throw Error("Attempting to focus uninitialized icon.");return e}getFocusableTree(){return this.sourceBlock.workspace}onNodeFocus(){var e=this.sourceBlock.getBoundingRectangle();e=new ci(e.top+this.offsetInBlock.y,e.top+this.offsetInBlock.y+this.getSize().height,e.left+this.offsetInBlock.x,e.left+this.offsetInBlock.x+this.getSize().width),this.sourceBlock.workspace.scrollBoundsIntoView(e)}onNodeBlur(){}canBeFocused(){return!0}getSourceBlock(){return this.sourceBlock}},A2,E3;A2=17,E3=16,r.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends m1{constructor(e,o){super(o),this.flyoutBlockTypes=e,this.sourceBlock=o,this.saveConnectionsListener=this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return r.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(e){this.svgRoot||(super.initView(e),Me(Tn.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},this.svgRoot),Me(Tn.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},this.svgRoot),Me(Tn.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},this.svgRoot),ut(this.svgRoot,"blocklyMutatorIcon"))}dispose(){super.dispose();let e;(e=this.miniWorkspaceBubble)==null||e.dispose()}getWeight(){return r.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new pi(A2,A2)}applyColour(){super.applyColour();let e;(e=this.miniWorkspaceBubble)==null||e.setColour(this.sourceBlock.getColour());let o;(o=this.miniWorkspaceBubble)==null||o.updateBlockStyles()}updateCollapsed(){super.updateCollapsed(),this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(e){super.onLocationChange(e);let o;(o=this.miniWorkspaceBubble)==null||o.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick(),this.sourceBlock.isEditable()&&this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(e){const o=this;return(0,In.asyncExecutePromiseGeneratorFunction)(function*(){if(o.bubbleIsVisible()!==e){if(yield hr(),e){o.miniWorkspaceBubble=new za(o.getMiniWorkspaceConfig(),o.sourceBlock.workspace,o.getAnchorLocation(),o.getBubbleOwnerRect()),o.applyColour(),o.createRootBlock(),o.addSaveConnectionsListener();let a;(a=o.miniWorkspaceBubble)==null||a.addWorkspaceChangeListener(o.createMiniWorkspaceChangeListener())}else{let a;(a=o.miniWorkspaceBubble)==null||a.dispose(),o.miniWorkspaceBubble=null,o.saveConnectionsListener&&o.sourceBlock.workspace.removeChangeListener(o.saveConnectionsListener),o.saveConnectionsListener=null}de(new(Ut(Mn.BUBBLE_OPEN))(o.sourceBlock,e,"mutator"))}})}getBubble(){return this.miniWorkspaceBubble}getMiniWorkspaceConfig(){let e;const o={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:(e=this.sourceBlock.workspace.options.rendererOverrides)!=null?e:void 0};return this.flyoutBlockTypes.length&&(o.toolbox={kind:"flyoutToolbox",contents:this.flyoutBlockTypes.map(a=>({kind:"block",type:a}))}),o}getAnchorLocation(){const e=A2/2;return Qn.sum(this.workspaceLocation,new Qn(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new ci(e.y,e.y+e.height,e.x,e.x+e.width)}createRootBlock(){if(!this.sourceBlock.decompose)throw Error("Blocks with mutator icons must include a decompose method");this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());for(var e of this.rootBlock.getDescendants(!1))e.queueRender();this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1);let o,a,d,M;e=(M=(o=this.miniWorkspaceBubble)==null||(a=o.getWorkspace())==null||(d=a.getFlyout())==null?void 0:d.getWidth())!=null?M:0,this.rootBlock.moveBy(this.rootBlock.RTL?-(e+E3):E3,E3)}addSaveConnectionsListener(){this.sourceBlock.saveConnections&&this.rootBlock&&(this.saveConnectionsListener=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}createMiniWorkspaceChangeListener(){return e=>{r.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(e)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null,this.recomposeSourceBlock()},0))}}static isIgnorableMutatorEvent(e){return e.isUiEvent||O(e)||R(e)&&e.element==="disabled"}recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error("Blocks with mutator icons must include a compose method");var e=r.getGroup$$module$build$src$core$events$utils();e||r.setGroup$$module$build$src$core$events$utils(!0);var o=rc.getExtraBlockState_(this.sourceBlock);this.sourceBlock.compose(this.rootBlock);var a=rc.getExtraBlockState_(this.sourceBlock);o!==a&&de(new(Ut(Mn.BLOCK_CHANGE))(this.sourceBlock,"mutation",null,o,a)),r.setGroup$$module$build$src$core$events$utils(e)}}getWorkspace(){let e;return(e=this.miniWorkspaceBubble)==null?void 0:e.getWorkspace()}},r.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=Ws.MUTATOR,r.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1,r.MutatorIcon$$module$build$src$core$icons$mutator_icon;var o0=Object.create(null),b5={allExtensions:o0};r.register$$module$build$src$core$extensions("parent_tooltip_when_inline",J1);var Ol={TEST_ONLY:b5};Ol.apply=qu,Ol.buildTooltipForDropdown=r.buildTooltipForDropdown$$module$build$src$core$extensions,Ol.buildTooltipWithFieldText=r.buildTooltipWithFieldText$$module$build$src$core$extensions,Ol.isRegistered=Gu,Ol.register=r.register$$module$build$src$core$extensions,Ol.registerMixin=r.registerMixin$$module$build$src$core$extensions,Ol.registerMutator=r.registerMutator$$module$build$src$core$extensions,Ol.runAfterPageLoad=du,Ol.unregister=yo;var fs;(function(e){e[e.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",e[e.MAC_ENTER=3]="MAC_ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.NUM_CENTER=12]="NUM_CENTER",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.FF_SEMICOLON=59]="FF_SEMICOLON",e[e.FF_EQUALS=61]="FF_EQUALS",e[e.FF_DASH=173]="FF_DASH",e[e.FF_HASH=163]="FF_HASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.AT_SIGN=64]="AT_SIGN",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META=91]="META",e[e.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",e[e.CONTEXT_MENU=93]="CONTEXT_MENU",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_MULTIPLY=106]="NUM_MULTIPLY",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_PERIOD=110]="NUM_PERIOD",e[e.NUM_DIVISION=111]="NUM_DIVISION",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUMLOCK=144]="NUMLOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",e[e.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",e[e.SEMICOLON=186]="SEMICOLON",e[e.DASH=189]="DASH",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.APOSTROPHE=192]="APOSTROPHE",e[e.TILDE=192]="TILDE",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE",e[e.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",e[e.BACKSLASH=220]="BACKSLASH",e[e.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",e[e.WIN_KEY=224]="WIN_KEY",e[e.MAC_FF_META=224]="MAC_FF_META",e[e.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",e[e.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",e[e.WIN_IME=229]="WIN_IME",e[e.VK_NONAME=252]="VK_NONAME",e[e.PHANTOM=255]="PHANTOM"})(fs||(fs={}));var Ha={};Ha.arc=C,Ha.curve=S0,Ha.line=S,Ha.lineOnAxis=_,Ha.lineTo=L0,Ha.moveBy=ls,Ha.moveTo=xo,Ha.point=Hr;var Ms={};Ms.Coordinate=Qn,Ms.KeyCodes=fs,Ms.Rect=ci,Ms.Size=pi,Ms.Svg=Tn,Ms.aria=b2,Ms.array=t5,Ms.browserEvents=ka,Ms.colour=q0,Ms.deprecation=l3,Ms.dom=Co,Ms.extensions=Ol,Ms.idGenerator=p2,Ms.math=Oh,Ms.object=Na,Ms.parsing=x2,Ms.string=Ki,Ms.style=Ra,Ms.svgMath=Rs,Ms.svgPaths=Ha,Ms.toolbox=na,Ms.userAgent=q6,Ms.xml=F0;var M0=class extends hs{constructor(e,o,a,d){super(e,o,a,void 0,d),this.workspace=e,this.anchor=o,this.ownerRect=a,this.owner=d,this.resizePointerMoveListener=this.resizePointerUpListener=null,this.sizeChangeListeners=[],this.locationChangeListeners=[],this.DEFAULT_SIZE=new pi(160+hs.DOUBLE_BORDER,80+hs.DOUBLE_BORDER),this.MIN_SIZE=new pi(45+hs.DOUBLE_BORDER,20+hs.DOUBLE_BORDER),this.editable=!0,ut(this.svgRoot,"blocklyTextInputBubble"),this.editor=new y3(e,this.id,()=>{r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)}),this.contentContainer.appendChild(this.editor.getDom()),this.resizeGroup=this.createResizeHandle(this.svgRoot,e),this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.editor.getText()}setText(e){this.editor.setText(e)}setEditable(e){this.editable=e,this.editor.setEditable(e)}isEditable(){return this.editable}addTextChangeListener(e){this.editor.addTextChangeListener(e)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}addLocationChangeListener(e){this.locationChangeListeners.push(e)}createResizeHandle(e,o){return e=Me(Tn.IMAGE,{class:"blocklyResizeHandle",href:`${o.options.pathToMedia}resize-handle.svg`},e),le(e,"pointerdown",this,this.onResizePointerDown),e}setSize(e,o=!1){e.width=Math.max(e.width,this.MIN_SIZE.width),e.height=Math.max(e.height,this.MIN_SIZE.height);const a=e.width-hs.DOUBLE_BORDER,d=e.height-hs.DOUBLE_BORDER;this.editor.updateSize(new pi(a,d),new pi(0,0)),this.editor.getDom().setAttribute("x",`${hs.DOUBLE_BORDER/2}`),this.editor.getDom().setAttribute("y",`${hs.DOUBLE_BORDER/2}`),this.resizeGroup.setAttribute("y",`${d}`),this.workspace.RTL?this.resizeGroup.setAttribute("x",`${-hs.DOUBLE_BORDER}`):this.resizeGroup.setAttribute("x",`${a}`),super.setSize(e,o),this.onSizeChange()}getSize(){return super.getSize()}moveDuringDrag(e){super.moveDuringDrag(e),this.onLocationChange()}setPositionRelativeToAnchor(e,o){super.setPositionRelativeToAnchor(e,o),this.onLocationChange()}positionByRect(e=new ci(0,0,0,0)){super.positionByRect(e),this.onLocationChange()}onResizePointerDown(e){this.bringToFront(),ce(e)||(Ho(this.workspace,e,new Qn(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=le(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=le(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation()}onResizePointerUp(e){K(),this.resizePointerUpListener&&(Ce(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(Ce(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(e){e=h0(this.workspace,e),this.setSize(new pi(this.workspace.RTL?-e.x:e.x,e.y),!1),this.onSizeChange()}onSizeChange(){for(const e of this.sizeChangeListeners)e()}onLocationChange(){for(const e of this.locationChangeListeners)e()}getEditor(){return this.editor}};$n(`
.blocklyTextInputBubble .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 0;
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}
`);var Or;(function(e){e[e.INPUT_VALUE=1]="INPUT_VALUE",e[e.OUTPUT_VALUE=2]="OUTPUT_VALUE",e[e.NEXT_STATEMENT=3]="NEXT_STATEMENT",e[e.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"})(Or||(Or={}));var Cu=class{constructor(e){this.connectionChecker=e,this.connections=[]}addConnection(e,o){o=this.calculateIndexForYPos(o),this.connections.splice(o,0,e)}findIndexOfConnection(e,o){if(!this.connections.length)return-1;const a=this.calculateIndexForYPos(o);if(a>=this.connections.length)return-1;o=e.y;let d=a;for(;d>=0&&this.connections[d].y===o;){if(this.connections[d]===e)return d;d--}for(d=a;d<this.connections.length&&this.connections[d].y===o;){if(this.connections[d]===e)return d;d++}return-1}calculateIndexForYPos(e){if(!this.connections.length)return 0;let o=0,a=this.connections.length;for(;o<a;){const d=Math.floor((o+a)/2);if(this.connections[d].y<e)o=d+1;else if(this.connections[d].y>e)a=d;else{o=d;break}}return o}removeConnection(e,o){if(e=this.findIndexOfConnection(e,o),e===-1)throw Error("Unable to find connection in connectionDB.");this.connections.splice(e,1)}getNeighbours(e,o){function a(Gr){const po=M-d[Gr].x,Ds=oe-d[Gr].y;return Math.sqrt(po*po+Ds*Ds)<=o&&Wn.push(d[Gr]),Ds<o}const d=this.connections,M=e.x,oe=e.y;e=0;let at=d.length-2,qt=at;for(;e<qt;)d[qt].y<oe?e=qt:at=qt,qt=Math.floor((e+at)/2);const Wn=[];if(at=e=qt,d.length){for(;e>=0&&a(e);)e--;do at++;while(at<d.length&&a(at))}return Wn}isInYRange(e,o,a){return Math.abs(this.connections[e].y-o)<=a}searchForClosest(e,o,a){if(!this.connections.length)return{connection:null,radius:o};const d=e.y,M=e.x;e.x=M+a.x,e.y=d+a.y;var oe=this.calculateIndexForYPos(e.y);a=null;let at=o,qt,Wn=oe-1;for(;Wn>=0&&this.isInYRange(Wn,e.y,o);)qt=this.connections[Wn],this.connectionChecker.canConnect(e,qt,!0,at)&&(a=qt,at=qt.distanceFrom(e)),Wn--;for(;oe<this.connections.length&&this.isInYRange(oe,e.y,o);)qt=this.connections[oe],this.connectionChecker.canConnect(e,qt,!0,at)&&(a=qt,at=qt.distanceFrom(e)),oe++;return e.x=M,e.y=d,{connection:a,radius:at}}static init(e){const o=[];return o[Or.INPUT_VALUE]=new Cu(e),o[Or.OUTPUT_VALUE]=new Cu(e),o[Or.NEXT_STATEMENT]=new Cu(e),o[Or.PREVIOUS_STATEMENT]=new Cu(e),o}},aa=class extends Yi{constructor(e,o,a){super(a),this.type=Mn.SELECTED,this.oldElementId=e??void 0,this.newElementId=o??void 0}toJson(){const e=super.toJson();return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new aa),o.oldElementId=e.oldElementId,o.newElementId=e.newElementId,o}};i(Yn.EVENT,Mn.SELECTED,aa);var y5=class extends nc{constructor(e){if(super(e),this.type=Mn.BLOCK_DELETE,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=t0(e),this.ids=nt(e),this.wasShadow=e.isShadow(),this.oldJson=Zr(e,{addCoordinates:!0})}}toJson(){const e=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(this.wasShadow===void 0)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=Cs(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new y5),o.oldXml=r.textToDom$$module$build$src$core$utils$xml(e.oldXml),o.ids=e.ids,o.wasShadow=e.wasShadow||o.oldXml.tagName.toLowerCase()==="shadow",o.oldJson=e.oldJson,e.recordUndo!==void 0&&(o.recordUndo=e.recordUndo),o}run(e){const o=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){const a=this.ids[e],d=o.getBlockById(a);d?d.dispose(!1):a===this.blockId&&console.warn("Can't delete non-existent block: "+a)}else es(this.oldJson,o)}};i(Yn.EVENT,Mn.BLOCK_DELETE,y5);var Vi=class{constructor(e,o){if(this.type=o,this.targetConnection=null,this.disposed=!1,this.shadowDom=this.check=null,this.y=this.x=0,this.shadowState=null,this.sourceBlock_=e,e.id.includes("_connection"))throw Error(`Connection ID indicator is contained in block ID. This will cause problems with focus: ${e.id}.`);this.id=`${e.id}_connection_${_e()}`}connect_(e){const o=Or.INPUT_VALUE,a=this.getSourceBlock();var d=e.getSourceBlock();e.isConnected()&&e.disconnectInternal(!1);let M;if(this.isConnected()){const at=this.stashShadowState(),qt=this.targetBlock();qt.isShadow()?qt.dispose(!1):(this.disconnectInternal(),M=qt),this.applyShadowState(at)}let oe;et()&&(oe=new(Ut(Mn.BLOCK_MOVE))(d),oe.setReason(["connect"])),G(this,e),d.setParent(a),oe&&(oe.recordNew(),de(oe)),M&&(e=this.type===o?M.outputConnection:M.previousConnection)&&((d=Vi.getConnectionForOrphanedConnection(d,e))?e.connect(d):e.onFailedConnect(this))}dispose(){if(this.isConnected()){this.isSuperior()&&this.setShadowStateInternal();const e=this.targetBlock();e&&!e.isDeadOrDying()&&e.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===Or.INPUT_VALUE||this.type===Or.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(e){}connect(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){const o=r.getGroup$$module$build$src$core$events$utils();o||r.setGroup$$module$build$src$core$events$utils(!0),this.isSuperior()?this.connect_(e):e.connect_(this),r.setGroup$$module$build$src$core$events$utils(o)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(e=!0){const{parentConnection:o,childConnection:a}=this.getParentAndChildConnections();if(!o||!a)throw Error("Source connection not connected.");const d=r.getGroup$$module$build$src$core$events$utils();d||r.setGroup$$module$build$src$core$events$utils(!0);let M;et()&&(M=new(Ut(Mn.BLOCK_MOVE))(a.getSourceBlock()),M.setReason(["disconnect"]));const oe=this.targetConnection;oe&&(oe.targetConnection=null),this.targetConnection=null,e&&a.getSourceBlock().setParent(null),M&&(M.recordNew(),de(M)),a.getSourceBlock().isShadow()||o.respawnShadow_(),r.setGroup$$module$build$src$core$events$utils(d)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(e,o){if(this.getSourceBlock().isDeadOrDying())return!1;var a;return o=(a=e.getInput(o))==null?void 0:a.connection,a=this.targetBlock(),a&&a!==e||!o||o.targetConnection===this?!1:(o.isConnected()&&o.disconnect(),o.connect(this),!0)}targetBlock(){if(this.isConnected()){let e,o;return(o=(e=this.targetConnection)==null?void 0:e.getSourceBlock())!=null?o:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return e?(Array.isArray(e)||(e=[e]),this.check=e,this.onCheckChanged_()):this.check=null,this}getCheck(){return this.check}setShadowDom(e){this.setShadowStateInternal({shadowDom:e})}getShadowDom(e){return e&&this.targetBlock().isShadow()?cl(this.targetBlock()):this.shadowDom}setShadowState(e){this.setShadowStateInternal({shadowState:e})}getShadowState(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?Zr(this.targetBlock()):this.shadowState}neighbours(e){return[]}getParentInput(){let e=null;const o=this.sourceBlock_.inputList;for(let a=0;a<o.length;a++)if(o[a].connection===this){e=o[a];break}return e}toString(){const e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var o="Output Connection of ";else if(e.previousConnection===this)o="Previous Connection of ";else if(e.nextConnection===this)o="Next Connection of ";else{o=null;for(let a=0,d;d=e.inputList[a];a++)if(d.connection===this){o=d;break}if(o)o='Input "'+o.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}return o+e.toDevString()}stashShadowState(){const e=this.getShadowDom(!0),o=this.getShadowState(!0);return this.shadowState=this.shadowDom=null,{shadowDom:e,shadowState:o}}applyShadowState({shadowDom:e,shadowState:o}){this.shadowDom=e,this.shadowState=o}setShadowStateInternal({shadowDom:e=null,shadowState:o=null}={}){this.shadowDom=e,this.shadowState=o,this.getSourceBlock().isDeadOrDying()||((e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())):(e=this.createShadowBlock(!1),this.serializeShadow(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())))}createShadowBlock(e){var o=this.getSourceBlock();const a=this.getShadowState(),d=this.getShadowDom();if(o.isDeadOrDying()||!a&&!d)return null;if(a)return o=Bi(a,o.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(d){if(o=Ml(d,o.workspace),e)if(this.type===Or.INPUT_VALUE){if(!o.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(o.outputConnection))throw Error("Could not connect shadow block to connection")}else if(this.type===Or.NEXT_STATEMENT){if(!o.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(o.previousConnection))throw Error("Could not connect shadow block to connection")}else throw Error("Cannot connect a shadow block to a previous/output connection");return o}return null}serializeShadow(e){e&&(this.shadowDom=cl(e),this.shadowState=Zr(e))}static getConnectionForOrphanedConnection(e,o){if(o.type===Or.OUTPUT_VALUE)return Ie(e,o.getSourceBlock());e=e.lastConnectionInStack(!0);const a=o.getConnectionChecker();return e&&a.canConnect(o,e,!1)?e:null}};Vi.CAN_CONNECT=0,Vi.REASON_SELF_CONNECTION=1,Vi.REASON_WRONG_TYPE=2,Vi.REASON_TARGET_NULL=3,Vi.REASON_CHECKS_FAILED=4,Vi.REASON_DIFFERENT_WORKSPACES=5,Vi.REASON_SHADOW_PARENT=6,Vi.REASON_DRAG_CHECKS_FAILED=7,Vi.REASON_PREVIOUS_AND_OUTPUT=8;var g1=class extends Error{constructor(e){super(`Tried to append an icon of type ${e.getType()} when an icon of that type already exists on the block. Use getIcon to access the existing icon.`),this.icon=e}},_5={};_5.DuplicateIconType=g1,(function(e){e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(r.Align$$module$build$src$core$inputs$align||(r.Align$$module$build$src$core$inputs$align={})),r.Align$$module$build$src$core$inputs$align;var v1=class extends cs{constructor(e,o,a){super(cs.SKIP_SETUP),this.class=null,this.EDITABLE=!1,this.maxDisplayLength=1/0,e!==cs.SKIP_SETUP&&(a?this.configure_(a):this.class=o||null,this.setValue(e))}configure_(e){super.configure_(e),e.class&&(this.class=e.class)}initView(){this.createTextElement_(),this.class&&ut(this.getTextElement(),this.class),this.fieldGroup_&&ut(this.fieldGroup_,"blocklyLabelField")}doClassValidation_(e){return e==null?null:`${e}`}setClass(e){this.textElement_&&(this.class&&nn(this.textElement_,this.class),e&&ut(this.textElement_,e)),this.class=e}static fromJson(e){return new this(ii(e.text),void 0,e)}};T0("field_label",v1),v1.prototype.DEFAULT_VALUE="";var s8=30,$1=[];$1[Or.INPUT_VALUE]=Or.OUTPUT_VALUE,$1[Or.OUTPUT_VALUE]=Or.INPUT_VALUE,$1[Or.NEXT_STATEMENT]=Or.PREVIOUS_STATEMENT,$1[Or.PREVIOUS_STATEMENT]=Or.NEXT_STATEMENT;var w5="RENAME_VARIABLE_ID",T5="DELETE_VARIABLE_ID",o8=10,Xo=class extends Vi{constructor(e,o){super(e,o),this.highlighted=!1,this.targetConnection=null,this.db=e.workspace.connectionDBList[o],this.dbOpposite=e.workspace.connectionDBList[$1[o]],this.offsetInBlock=new Qn(0,0),this.trackedState=Xo.TrackedState.WILL_TRACK}dispose(){super.dispose(),this.trackedState===Xo.TrackedState.TRACKED&&this.db.removeConnection(this,this.y);let e,o;(o=(e=this.sourceBlock_.pathObject).removeConnectionHighlight)==null||o.call(e,this)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(e){const o=this.x-e.x;return e=this.y-e.y,Math.sqrt(o*o+e*e)}bumpAwayFrom(e,o=!1){if(!this.sourceBlock_.workspace.isDragging()){var a=r.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*o8),d=r.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*o8),M=e.sourceBlock_.getRootBlock(),oe=this.sourceBlock_.getRootBlock();if(!M.isInFlyout&&!oe.isInFlyout){var at=!0;if(oe.isMovable())M.isMovable()&&o&&(d=-d);else if(M.isMovable())at=!1,a=-a,d=-d;else return;o=at?e:this,e=at?this:e,M=at?oe:M,M.RTL&&(a=-a),M.moveBy(o.x+a-e.x,o.y+d-e.y,["bump"])}}}moveTo(e,o){let a=!1;return this.trackedState===Xo.TrackedState.WILL_TRACK?(this.db.addConnection(this,o),this.trackedState=Xo.TrackedState.TRACKED,a=!0):this.trackedState===Xo.TrackedState.TRACKED&&(this.db.removeConnection(this,this.y),this.db.addConnection(this,o),a=!0),this.x=e,this.y=o,a}moveBy(e,o){return this.moveTo(this.x+e,this.y+o)}moveToOffset(e){return this.moveTo(e.x+this.offsetInBlock.x,e.y+this.offsetInBlock.y)}setOffsetInBlock(e,o){this.offsetInBlock.x=e,this.offsetInBlock.y=o}getOffsetInBlock(){return this.offsetInBlock}tightenEfficiently(){var e=this.targetConnection;const o=this.targetBlock();e&&o&&(e=Qn.difference(this.offsetInBlock,e.offsetInBlock),o.translate(e.x,e.y))}closest(e,o){return this.dbOpposite.searchForClosest(this,e,o)}highlight(){this.highlighted=!0;const e=this.findHighlightSvg();e&&(e.style.display="")}unhighlight(){this.highlighted=!1;const e=this.findHighlightSvg();e&&(e.style.display="none")}isHighlighted(){return this.highlighted}setTracking(e){e&&this.trackedState===Xo.TrackedState.TRACKED||!e&&this.trackedState===Xo.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db.addConnection(this,this.y),this.trackedState=Xo.TrackedState.TRACKED):(this.trackedState===Xo.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=Xo.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){const e=this.targetBlock().getDescendants(!1);for(let o=0;o<e.length;o++){const a=e[o],d=a.getConnections_(!0);for(let M=0;M<d.length;M++)d[M].setTracking(!1);for(const M of a.getIcons())zl(M)&&M.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let e=[];if(this.type!==Or.INPUT_VALUE&&this.type!==Or.NEXT_STATEMENT)return e;const o=this.targetBlock();if(o){let a;o.isCollapsed()?(a=[],o.outputConnection&&a.push(o.outputConnection),o.nextConnection&&a.push(o.nextConnection),o.previousConnection&&a.push(o.previousConnection)):a=o.getConnections_(!0);for(let d=0;d<a.length;d++)e.push(...a[d].startTrackingAll());e.length||(e=[o])}return e}onFailedConnect(e){const o=this.getSourceBlock();if(qe()){const a=r.getGroup$$module$build$src$core$events$utils();setTimeout((function(){o.isDisposed()||o.getParent()||(r.setGroup$$module$build$src$core$events$utils(a),this.bumpAwayFrom(e),r.setGroup$$module$build$src$core$events$utils(!1))}).bind(this),r.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(e=!0){const{parentConnection:o,childConnection:a}=this.getParentAndChildConnections();if(o&&a){var d=r.getGroup$$module$build$src$core$events$utils();d||r.setGroup$$module$build$src$core$events$utils(!0);var M=o.getSourceBlock(),oe=a.getSourceBlock();super.disconnectInternal(e),M.queueRender(),oe.updateDisabled(),oe.queueRender(),oe.getSvgRoot().style.display="block",r.setGroup$$module$build$src$core$events$utils(d)}}respawnShadow_(){super.respawnShadow_();const e=this.targetBlock();e&&(e.initSvg(),e.queueRender())}neighbours(e){return this.dbOpposite.getNeighbours(this,e)}connect_(e){super.connect_(e);var o=this.getSourceBlock();e=e.getSourceBlock(),o.updateDisabled(),e.updateDisabled(),e.queueRender(),(o=o.getInputWithBlock(e))&&(o=o.isVisible(),e.getSvgRoot().style.display=o?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return super.setCheck(e),this.sourceBlock_.queueRender(),this}showContextMenu(e){const o=gi.registry.getContextMenuOptions({focusedNode:this},e);if(o.length){var a=this.getSourceBlock(),d=a.workspace;if(e instanceof PointerEvent)var M=new Qn(e.clientX,e.clientY);else M=new Qn(this.x,this.y),M=be(d,M).translate(a.RTL?-5:5,5);ya(e,o,a.RTL,d,M)}}getFocusableElement(){const e=this.findHighlightSvg();if(e)return e;throw Error("No highlight SVG found corresponding to this connection.")}getFocusableTree(){return this.getSourceBlock().workspace}onNodeFocus(){this.highlight(),this.getSourceBlock().workspace.scrollBoundsIntoView(this.getSourceBlock().getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unhighlight()}canBeFocused(){return!0}findHighlightSvg(){return document.getElementById(this.id)}};(function(e){e=e.TrackedState||(e.TrackedState={}),e[e.WILL_TRACK=-1]="WILL_TRACK",e[e.UNTRACKED=0]="UNTRACKED",e[e.TRACKED=1]="TRACKED"})(Xo||(Xo={})),Xo.TrackedState;var b1=class{constructor(e,o){this.name=e,this.sourceBlock=o,this.fieldRow=[],this.align=r.Align$$module$build$src$core$inputs$align.LEFT,this.visible=!0,this.type=r.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM,this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(e,o){return this.insertFieldAt(this.fieldRow.length,e,o),this}insertFieldAt(e,o,a){if(e<0||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(o||o===""&&a)&&(typeof o=="string"&&(o=r.fromJson$$module$build$src$core$field_registry({type:"field_label",text:o})),o.setSourceBlock(this.sourceBlock),this.sourceBlock.initialized&&this.initField(o),o.name=a,o.setVisible(this.isVisible()),o.prefixField&&(e=this.insertFieldAt(e,o.prefixField)),this.fieldRow.splice(e,0,o),e++,o.suffixField&&(e=this.insertFieldAt(e,o.suffixField)),this.sourceBlock.rendered&&this.sourceBlock.queueRender()),e}removeField(e,o){for(let a=0,d;d=this.fieldRow[a];a++)if(d.name===e)return d.dispose(),this.fieldRow.splice(a,1),this.sourceBlock.rendered&&this.sourceBlock.queueRender(),!0;if(o)return!1;throw Error('Field "'+e+'" not found.')}isVisible(){return this.visible}setVisible(e){let o=[];if(this.visible===e)return o;this.visible=e;for(let a=0,d;d=this.fieldRow[a];a++)d.setVisible(e);if(this.connection&&this.connection instanceof Xo){e?o=this.connection.startTrackingAll():this.connection.stopTrackingAll();const a=this.connection.targetBlock();a&&(a.getSvgRoot().style.display=e?"block":"none")}return o}markDirty(){for(let e=0,o;o=this.fieldRow[e];e++)o.markDirty()}setCheck(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}setAlign(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}setShadowDom(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){for(const e of this.fieldRow)e.init()}initModel(){for(const e of this.fieldRow)e.initModel()}initField(e){this.sourceBlock.rendered?e.init():e.initModel()}dispose(){for(let e=0,o;o=this.fieldRow[e];e++)o.dispose();this.connection&&this.connection.dispose()}makeConnection(e){return this.sourceBlock.makeConnection_(e)}},k0=class extends b1{constructor(e,o){super(e,o),this.name=e,this.type=r.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},vl=class extends b1{constructor(e,o){super(e,o),this.name=e,this.type=r.inputTypes$$module$build$src$core$inputs$input_types.END_ROW}},j0=class extends b1{constructor(e,o){if(!e)throw Error("Statement inputs must have a non-empty name");super(e,o),this.name=e,this.type=r.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT,this.connection=this.makeConnection(Or.NEXT_STATEMENT)}},l8;r.ValueInput$$module$build$src$core$inputs$value_input=class extends b1{constructor(e,o){if(!e)throw Error("Value inputs must have a non-empty name");super(e,o),this.name=e,this.type=r.inputTypes$$module$build$src$core$inputs$input_types.VALUE,this.connection=this.makeConnection(Or.INPUT_VALUE)}},l8={},l8.ValueInput=r.ValueInput$$module$build$src$core$inputs$value_input;var ua=class{constructor(e,o,a){if(this.data=null,this.disposed=!1,this.hue=null,this.colour_="#000000",this.styleName_="",this.suppressPrefixSuffix=!1,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.icons=[],this.disabledReasons=new Set,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable=this.movable=this.deletable=!0,this.collapsed_=this.shadow=!1,this.outputShape_=null,this.rendered=this.isInsertionMarker_=this.initialized=this.disposing=!1,this.onchangeWrapper=this.helpUrl=null,this.statementInputCount=0,this.workspace=e,this.id=a&&!e.getBlockById(a)?a:b(),e.setBlockById(this.id,this),this.xy=new Qn(0,0),this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,o){if(this.type=o,a=Vs[o],!a||typeof a!="object")throw TypeError("Invalid block definition for type: "+o);Object.assign(this,a)}e.addTopBlock(this),e.addTypedBlock(this),new.target===ua&&this.doInit_()}doInit_(){const e=r.getGroup$$module$build$src$core$events$utils();e||r.setGroup$$module$build$src$core$events$utils(!0);const o=qe();try{typeof this.init=="function"&&(r.setRecordUndo$$module$build$src$core$events$utils(!1),this.init(),r.setRecordUndo$$module$build$src$core$events$utils(o)),et()&&de(new(Ut(Mn.BLOCK_CREATE))(this))}finally{r.setGroup$$module$build$src$core$events$utils(e),r.setRecordUndo$$module$build$src$core$events$utils(o)}this.inputsInlineDefault=this.inputsInline,typeof this.onchange=="function"&&this.setOnChange(this.onchange)}dispose(e=!1){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.unplug(e),et()&&de(new(Ut(Mn.BLOCK_DELETE))(this)),this.workspace.removeTopBlock(this),this.disposeInternal()}disposeInternal(){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),typeof this.destroy=="function"&&this.destroy(),this.childBlocks_.forEach(e=>e.disposeInternal()),this.inputList.forEach(e=>e.dispose()),this.inputList.length=0,this.getConnections_(!0).forEach(e=>e.dispose()),this.disposed=!0}isDeadOrDying(){return this.disposing||this.disposed}initModel(){if(!this.initialized){for(const e of this.inputList)e.initModel();this.initialized=!0}}unplug(e){this.outputConnection&&this.unplugFromRow(e),this.previousConnection&&this.unplugFromStack(e)}unplugFromRow(e){let o=null,a;(a=this.outputConnection)!=null&&a.isConnected()&&(o=this.outputConnection.targetConnection,this.outputConnection.disconnect()),o&&e&&(e=this.getOnlyValueConnection())&&e.isConnected()&&!e.targetBlock().isShadow()&&(e=e.targetConnection,e?.disconnect(),this.workspace.connectionChecker.canConnect(e,o,!1)?o.connect(e):e?.onFailedConnect(o))}getOnlyValueConnection(){let e=null;for(let o=0;o<this.inputList.length;o++){const a=this.inputList[o].connection;if(a&&a.type===Or.INPUT_VALUE&&a.targetConnection){if(e)return null;e=a}}return e}unplugFromStack(e){let o=null,a;if((a=this.previousConnection)!=null&&a.isConnected()&&(o=this.previousConnection.targetConnection,this.previousConnection.disconnect()),e){for(e=this.getNextBlock();e&&(e.isShadow()||!e.isMovable());)e=e.getNextBlock();if(e){var d,M,oe,at;e=(at=(d=e.previousConnection)==null||(M=d.targetBlock())==null||(oe=M.nextConnection)==null?void 0:oe.targetConnection)!=null?at:null,e?.disconnect(),o&&this.workspace.connectionChecker.canConnect(o,e,!1)&&o.connect(e)}}}getConnections_(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(let o=0,a;a=this.inputList[o];o++)a.connection&&e.push(a.connection);return e}lastConnectionInStack(e){let o=this.nextConnection;for(;o;){const a=o.targetBlock();if(!a||e&&a.isShadow())return o;o=a.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(e){for(let o=0,a;a=this.inputList[o];o++)if(a.connection&&a.connection.targetBlock()===e)return a;return null}getSurroundParent(){let e=this,o;do if(o=e,e=e.getParent(),!e)return null;while(e.getNextBlock()===o);return e}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getRootBlock(){let e,o=this;do e=o,o=e.parentBlock_;while(o);return e}getTopStackBlock(){let e=this,o;do o=e.getPreviousBlock();while(o&&o.getNextBlock()===e&&(e=o));return e}getChildren(e){if(!e)return this.childBlocks_;e=[];for(let a=0,d;d=this.inputList[a];a++)if(d.connection){var o=d.connection.targetBlock();o&&e.push(o)}return(o=this.getNextBlock())&&e.push(o),e}setParent(e){if(e!==this.parentBlock_){var o=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),a=!!o;if(a&&e&&o!==e)throw Error("Block connected to superior one that is not new parent.");if(!a&&e)throw Error("Block not connected to new parent.");if(a&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?Zt(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(e){const o=[this],a=this.getChildren(e);for(let d,M=0;d=a[M];M++)o.push(...d.getDescendants(e));return o}isDeletable(){return this.deletable&&!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnDeletable(){return this.deletable}setDeletable(e){this.deletable=e}isMovable(){return this.movable&&!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnMovable(){return this.movable}setMovable(e){this.movable=e}isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable(Ye(this,!0)):!0}isShadow(){return this.shadow}setShadow(e){this.shadow=e}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(e){this.isInsertionMarker_=e}isEditable(){return this.editable&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setEditable(e){this.editable=e;for(const o of this.getFields())o.updateEditable()}isDisposed(){return this.disposed}isSimpleReporter(){if(!this.outputConnection)return!1;for(const e of this.inputList)if(e.connection||e.fieldRow.length>1)return!1;return!0}getMatchingConnection(e,o){const a=this.getConnections_(!0);if(e=e.getConnections_(!0),a.length!==e.length)throw Error("Connection lists did not match in length.");for(let d=0;d<e.length;d++)if(e[d]===o)return a[d];return null}setHelpUrl(e){this.helpUrl=e}setTooltip(e){this.tooltip=e}getTooltip(){return ar(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue}setColour(e){e=os(e),this.hue=e.hue,this.colour_=e.hex}setStyle(e){this.styleName_=e}setOnChange(e){if(e&&typeof e!="function")throw Error("onchange must be a function.");this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.onchange=e,this.onchangeWrapper=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper)}getField(e){if(typeof e!="string")throw TypeError("Block.prototype.getField expects a string with the field name but received "+(e===void 0?"nothing":e+" of type "+typeof e)+" instead");for(const o of this.getFields())if(o.name===e)return o;return null}*getFields(){for(const e of this.inputList)for(const o of e.fieldRow)yield o}getVars(){const e=[];for(const o of this.getFields())o.referencesVariables()&&e.push(o.getValue());return e}getVarModels(){const e=[];for(const o of this.getFields())if(o.referencesVariables()){const a=this.workspace.getVariableById(o.getValue());a&&e.push(a)}return e}updateVarName(e){for(const o of this.getFields())o.referencesVariables()&&e.getId()===o.getValue()&&o.refreshVariableName()}renameVarById(e,o){for(const a of this.getFields())a.referencesVariables()&&e===a.getValue()&&a.setValue(o)}getFieldValue(e){return(e=this.getField(e))?e.getValue():null}setFieldValue(e,o){const a=this.getField(o);if(!a)throw Error('Field "'+o+'" not found.');a.setValue(e)}setPreviousStatement(e,o){if(e)o===void 0&&(o=null),this.previousConnection||(this.previousConnection=this.makeConnection_(Or.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(o);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(e,o){if(e)o===void 0&&(o=null),this.nextConnection||(this.nextConnection=this.makeConnection_(Or.NEXT_STATEMENT)),this.nextConnection.setCheck(o);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(e,o){if(e)o===void 0&&(o=null),this.outputConnection||(this.outputConnection=this.makeConnection_(Or.OUTPUT_VALUE)),this.outputConnection.setCheck(o);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(e){this.inputsInline!==e&&(de(new(Ut(Mn.BLOCK_CHANGE))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}getInputsInline(){if(this.inputsInline!==void 0)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof k0&&this.inputList[e]instanceof k0)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof r.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[e]instanceof k0)return!0;for(e=0;e<this.inputList.length;e++)if(this.inputList[e]instanceof vl)return!0;return!1}setOutputShape(e){this.outputShape_=e}getOutputShape(){return this.outputShape_}isEnabled(){return this.disabledReasons.size===0}setDisabledReason(e,o){e||this.workspace.options.disable||!this.hasDisabledReason(li)||o==li||this.setDisabledReason(!1,li),this.disabledReasons.has(o)!==e&&(e?this.disabledReasons.add(o):this.disabledReasons.delete(o),e=new(Ut(Mn.BLOCK_CHANGE))(this,"disabled",null,!e,e),e.setDisabledReason(o),de(e))}getInheritedDisabled(){let e=this.getSurroundParent();for(;e;){if(!e.isEnabled())return!0;e=e.getSurroundParent()}return!1}hasDisabledReason(e){return this.disabledReasons.has(e)}getDisabledReasons(){return this.disabledReasons}isCollapsed(){return this.collapsed_}setCollapsed(e){this.collapsed_!==e&&(de(new(Ut(Mn.BLOCK_CHANGE))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}toString(e,o){o=this.toTokens(o);for(let d=2;d<o.length;d++)o[d-2]==="("&&o[d]===")"&&(o[d-2]=o[d-1],o.splice(d-1,2));let a="";return o=o.reduce((d,M)=>(d=d+(a==="("||M===")"?"":" ")+M,a=M[M.length-1],d),""),o=o.trim()||"???",e&&o.length>e&&(o=o.substring(0,e-3)+"..."),o}toTokens(e="?"){const o=[];for(const d of this.inputList)if(d.name!=us){for(const M of d.fieldRow)o.push(M.getText());if(d.connection){const M=d.connection.targetBlock();if(M){var a=d.connection;let oe=a.getCheck();!oe&&a.targetConnection&&(oe=a.targetConnection.getCheck()),(a=!!oe&&(oe.includes("Boolean")||oe.includes("Number")))&&o.push("("),o.push(...M.toTokens(e)),a&&o.push(")")}else o.push(e)}}return o}appendValueInput(e){return this.appendInput(new r.ValueInput$$module$build$src$core$inputs$value_input(e,this))}appendStatementInput(e){return this.statementInputCount++,this.appendInput(new j0(e,this))}appendDummyInput(e=""){return this.appendInput(new k0(e,this))}appendEndRowInput(e=""){return this.appendInput(new vl(e,this))}appendInput(e){return this.inputList.push(e),e}appendInputFromRegistry(e,o){return(e=y(Yn.INPUT,e,!1))?this.appendInput(new e(o,this)):null}jsonInit(e){var o=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(o+"Must not have both an output and a previousStatement.");for(var a=0;e["args"+a];){if(e["message"+a]===void 0)throw Error(o+`args${a} must have a corresponding message (message${a}).`);a++}if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(o+"Must not have both a colour and a style.");for(e.style?this.jsonInitStyle(e,o):this.jsonInitColour(e,o),a=0;e["message"+a]!==void 0;)this.interpolate(e["message"+a],e["args"+a]||[],e["implicitAlign"+a]||e["lastDummyAlign"+a],o),a++;if(e.inputsInline!==void 0&&(r.disable$$module$build$src$core$events$utils(),this.setInputsInline(e.inputsInline),r.enable$$module$build$src$core$events$utils()),e.output!==void 0&&this.setOutput(!0,e.output),e.outputShape!==void 0&&this.setOutputShape(e.outputShape),e.previousStatement!==void 0&&this.setPreviousStatement(!0,e.previousStatement),e.nextStatement!==void 0&&this.setNextStatement(!0,e.nextStatement),e.tooltip!==void 0&&(a=ii(e.tooltip),this.setTooltip(a)),e.enableContextMenu!==void 0&&(this.contextMenu=!!e.enableContextMenu),e.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),e.helpUrl!==void 0&&(a=ii(e.helpUrl),this.setHelpUrl(a)),typeof e.extensions=="string"&&(console.warn(o+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),e.mutator!==void 0&&qu(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(o=0;o<e.length;o++)qu(e[o],this,!1)}jsonInitColour(e,o){if("colour"in e)if(e.colour===void 0)console.warn(o+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch{console.warn(o+"Illegal colour value: ",e)}}}jsonInitStyle(e,o){e=e.style;try{this.setStyle(e)}catch{console.warn(o+"Style does not exist: ",e)}}mixin(e,o){if(o!==void 0&&typeof o!="boolean")throw Error("opt_disableCheck must be a boolean if provided");if(!o){o=[];for(const a in e)this[a]!==void 0&&o.push(a);if(o.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(o))}Object.assign(this,e)}interpolate(e,o,a,d){e=Is(e),this.validateTokens(e,o.length),o=this.interpolateArguments(e,o,a),a=[];for(let M=0,oe;oe=o[M];M++)if(this.isInputKeyword(oe.type)){if(e=this.inputFromJson(oe,d)){for(let at=0,qt;qt=a[at];at++)e.appendField(qt[0],qt[1]);a.length=0}}else(e=this.fieldFromJson(oe))&&a.push([e,oe.name])}validateTokens(e,o){const a=[];let d=0;for(let M=0;M<e.length;M++){const oe=e[M];if(typeof oe=="number"){if(oe<1||oe>o)throw Error('Block "'+this.type+'": Message index %'+oe+" out of range.");if(a[oe])throw Error('Block "'+this.type+'": Message index %'+oe+" duplicated.");a[oe]=!0,d++}}if(d!==o)throw Error('Block "'+this.type+'": Message does not reference all '+o+" arg(s).")}interpolateArguments(e,o,a){const d=[];for(let oe=0;oe<e.length;oe++){var M=e[oe];if(typeof M=="number"&&(M=o[M-1]),typeof M=="string"){if(M===`
`)M={type:"input_end_row"},a&&(M.align=a);else if(M=this.stringToFieldJson(M),!M)continue}d.push(M)}return(e=d.length)&&!this.isInputKeyword(d[e-1].type)&&(e={type:"input_dummy"},a&&(e.align=a),d.push(e)),d}fieldFromJson(e){const o=r.fromJson$$module$build$src$core$field_registry(e);return!o&&e.alt?typeof e.alt=="string"?(e=this.stringToFieldJson(e.alt))?this.fieldFromJson(e):null:this.fieldFromJson(e.alt):o}inputFromJson(e,o){var a={LEFT:r.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:r.Align$$module$build$src$core$inputs$align.RIGHT,CENTRE:r.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:r.Align$$module$build$src$core$inputs$align.CENTRE};let d;switch(e.type){case"input_value":d=this.appendValueInput(e.name);break;case"input_statement":d=this.appendStatementInput(e.name);break;case"input_dummy":d=this.appendDummyInput(e.name);break;case"input_end_row":d=this.appendEndRowInput(e.name);break;default:d=this.appendInputFromRegistry(e.type,e.name)}return d?(e.check&&d.setCheck(e.check),e.align&&(a=a[e.align.toUpperCase()],a===void 0?console.warn(o+"Illegal align value: ",e.align):d.setAlign(a)),d):null}isInputKeyword(e){return e==="input_value"||e==="input_statement"||e==="input_dummy"||e==="input_end_row"||g(Yn.INPUT,e)}stringToFieldJson(e){return(e=e.trim())?{type:"field_label",text:e}:null}moveInputBefore(e,o){if(e!==o){var a=-1,d=o?-1:this.inputList.length;for(let M=0,oe;oe=this.inputList[M];M++)if(oe.name===e){if(a=M,d!==-1)break}else if(o&&oe.name===o&&(d=M,a!==-1))break;if(a===-1)throw Error('Named input "'+e+'" not found.');if(d===-1)throw Error('Reference input "'+o+'" not found.');this.moveNumberedInputBefore(a,d)}}moveNumberedInputBefore(e,o){if(e===o)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(o>this.inputList.length)throw RangeError("Reference input "+o+" out of bounds.");const a=this.inputList[e];this.inputList.splice(e,1),e<o&&o--,this.inputList.splice(o,0,a)}removeInput(e,o){for(let a=0,d;d=this.inputList[a];a++)if(d.name===e)return d instanceof j0&&this.statementInputCount--,d.dispose(),this.inputList.splice(a,1),!0;if(o)return!1;throw Error("Input not found: "+e)}getInput(e){for(let o=0,a;a=this.inputList[o];o++)if(a.name===e)return a;return null}getInputTargetBlock(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}getCommentText(){let e,o;return(o=(e=this.getIcon(Ws.COMMENT))==null?void 0:e.getText())!=null?o:null}setCommentText(e){var o;let a;const d=(a=(o=this.getIcon(Ws.COMMENT))==null?void 0:o.getText())!=null?a:null;if(d!==e){if(e!==null){if(o=this.getIcon(Ws.COMMENT),!o){if(o=y(Yn.ICON,Ws.COMMENT.toString(),!1),!o)throw Error("No comment icon class is registered, so a comment cannot be set");if(o=new o(this),!kt(o))throw Error("The class registered as a comment icon does not conform to the ICommentIcon interface");o=this.addIcon(o)}r.disable$$module$build$src$core$events$utils(),o.setText(e),r.enable$$module$build$src$core$events$utils()}else this.removeIcon(Ws.COMMENT);de(new(Ut(Mn.BLOCK_CHANGE))(this,"comment",null,d,e))}}setWarningText(e,o){}setMutator(e){}addIcon(e){if(this.hasIcon(e.getType()))throw new g1(e);return this.icons.push(e),this.icons.sort((o,a)=>o.getWeight()-a.getWeight()),e}removeIcon(e){if(!this.hasIcon(e))return!1;let o;return(o=this.getIcon(e))==null||o.dispose(),this.icons=this.icons.filter(a=>!a.getType().equals(e)),!0}hasIcon(e){return this.icons.some(o=>o.getType().equals(e))}getIcon(e){return e instanceof Ws?this.icons.find(o=>o.getType().equals(e)):this.icons.find(o=>o.getType().toString()===e)}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy}moveBy(e,o,a){if(this.parentBlock_)throw Error("Block has parent");const d=new(Ut(Mn.BLOCK_MOVE))(this);a&&d.setReason(a),this.xy.translate(e,o),d.recordNew(),de(d)}makeConnection_(e){return new Vi(this,e)}allInputsFilled(e){if(e===void 0&&(e=!0),!e&&this.isShadow())return!1;for(let a=0,d;d=this.inputList[a];a++)if(d.connection){var o=d.connection.targetBlock();if(!o||!o.allInputsFilled(e))return!1}return(o=this.getNextBlock())?o.allInputsFilled(e):!0}toDevString(){let e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}};ua.COLLAPSED_INPUT_NAME=us,ua.COLLAPSED_FIELD_NAME=Ci;var hc=null,N2=null,fc={};fc.connectionUiEffect=vn,fc.disconnectUiEffect=wn,fc.disconnectUiStop=ir,fc.disposeUiEffect=Pt;var y1=class{paste(e,o,a){if(!o.isCapacityAvailable(e.typeCounts))return null;a&&(e.blockState.x=a.x,e.blockState.y=a.y),a=a||new Qn(e.blockState.x||0,e.blockState.y||0),r.disable$$module$build$src$core$events$utils();let d;try{d=es(e.blockState,o),Nr(d,a)}finally{r.enable$$module$build$src$core$events$utils()}if(!d)return d;et()&&!d.isShadow()&&de(new(Ut(Mn.BLOCK_CREATE))(d));const M=d;return hr().then(()=>r.getFocusManager$$module$build$src$core$focus_manager().focusNode(M)),d}};y1.TYPE="block",er(y1.TYPE,new y1);var I2={};I2.bumpIntoBounds=ui,I2.bumpIntoBoundsHandler=di,I2.bumpTopObjectsIntoBounds=Oi;var Gh=class{constructor(e){this.block=e,this.connectionPreviewer=this.connectionCandidate=this.startLoc=this.startChildConn=this.startParentConn=null,this.dragging=!1,this.dragOffset=new Qn(0,0),this.originalEventGroup="",this.workspace=e.workspace}isMovable(){if(this.block.isShadow()){let e,o;return(o=(e=this.block.getParent())==null?void 0:e.isMovable())!=null?o:!1}return this.block.isOwnMovable()&&!this.block.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.block.isInFlyout}startDrag(e){if(this.block.isShadow())this.startDraggingShadow(e);else{this.dragging=!0,this.fireDragStartEvent(),this.startLoc=this.block.getRelativeToSurfaceXY(),this.connectionCandidate=null,this.connectionPreviewer=new(w(Yn.CONNECTION_PREVIEWER,this.workspace.options))(this.block),Qe(),this.workspace.setResizesEnabled(!1),ir(),e=this.shouldHealStack(e),this.shouldDisconnect(e)&&this.disconnectBlock(e),this.block.setDragging(!0);var o;(o=this.workspace.getLayerManager())==null||o.moveToDragLayer(this.block)}}shouldHealStack(e){return!!e&&(e.altKey||e.ctrlKey||e.metaKey)}startDraggingShadow(e){const o=this.block.getParent();if(!o)throw Error("Tried to drag a shadow block with no parent. Shadow blocks should always have parents.");this.dragOffset=Qn.difference(o.getRelativeToSurfaceXY(),this.block.getRelativeToSurfaceXY()),o.startDrag(e)}shouldDisconnect(e){return!!(this.block.getParent()||e&&this.block.nextConnection&&this.block.nextConnection.targetBlock())}disconnectBlock(e){let o,a,d;if(this.startParentConn=(d=(o=this.block.outputConnection)==null?void 0:o.targetConnection)!=null?d:(a=this.block.previousConnection)==null?void 0:a.targetConnection,e){let M;this.startChildConn=(M=this.block.nextConnection)==null?void 0:M.targetConnection}this.block.unplug(e),wn(this.block)}fireDragStartEvent(){const e=new(Ut(Mn.BLOCK_DRAG))(this.block,!0,this.block.getDescendants(!1));de(e)}fireDragEndEvent(){const e=new(Ut(Mn.BLOCK_DRAG))(this.block,!1,this.block.getDescendants(!1));de(e)}fireMoveEvent(){if(!this.block.isDeadOrDying()){var e=new(Ut(Mn.BLOCK_MOVE))(this.block);e.setReason(["drag"]),e.oldCoordinate=this.startLoc,e.recordNew(),de(e)}}drag(e){if(this.block.isShadow()){let o;(o=this.block.getParent())==null||o.drag(Qn.sum(e,this.dragOffset))}else this.block.moveDuringDrag(e),this.updateConnectionPreview(this.block,Qn.difference(e,this.startLoc))}updateConnectionPreview(e,o){var a=this.connectionCandidate;const d=this.getConnectionCandidate(e,o);if(d){this.connectionCandidate=o=a&&this.currCandidateIsBetter(a,o,d)?a:d;var{local:M,neighbour:oe}=o;o=M.type===Or.OUTPUT_VALUE||M.type===Or.PREVIOUS_STATEMENT;var at;if(a=oe.isConnected()&&!((at=oe.targetBlock())!=null&&at.isInsertionMarker()),o&&a&&!this.orphanCanConnectAtEnd(e,oe.targetBlock(),M.type)){let Wn;(Wn=this.connectionPreviewer)==null||Wn.previewReplacement(M,oe,oe.targetBlock())}else{var qt;(qt=this.connectionPreviewer)==null||qt.previewConnection(M,oe)}}else{let Wn;(Wn=this.connectionPreviewer)==null||Wn.hidePreview(),this.connectionCandidate=null}}orphanCanConnectAtEnd(e,o,a){return!!Vi.getConnectionForOrphanedConnection(e,a===Or.OUTPUT_VALUE?o.outputConnection:o.previousConnection)}currCandidateIsBetter(e,o,a){const{local:d,neighbour:M}=e;e=new Qn(d.x,d.y);const oe=new Qn(M.x,M.y);return o=Qn.distance(Qn.sum(e,o),oe),a.distance>o-r.config$$module$build$src$core$config.currentConnectionPreference}getConnectionCandidate(e,o){e=this.getLocalConnections(e);let a=this.getSearchRadius(),d=null;for(const M of e){const{connection:oe,radius:at}=M.closest(a,o);oe&&(d={local:M,neighbour:oe,distance:at},a=at)}return d}getSearchRadius(){return this.connectionCandidate?r.config$$module$build$src$core$config.connectingSnapRadius:r.config$$module$build$src$core$config.snapRadius}getLocalConnections(e){const o=e.getConnections_(!1),a=e.lastConnectionInStack(!0);return a&&a!==e.nextConnection&&o.push(a),o}endDrag(e){if(this.block.isShadow()){let a;(a=this.block.getParent())==null||a.endDrag(e)}else{this.originalEventGroup=r.getGroup$$module$build$src$core$events$utils(),this.fireDragEndEvent(),this.fireMoveEvent(),Tt(),ir();var o;if((o=this.connectionPreviewer)==null||o.hidePreview(),!this.block.isDeadOrDying()&&this.dragging){let a;(a=this.workspace.getLayerManager())==null||a.moveOffDragLayer(this.block,uc),this.block.setDragging(!1)}this.connectionCandidate?(this.applyConnections(this.connectionCandidate),this.disposeStep()):this.block.queueRender().then(()=>this.disposeStep())}}disposeStep(){const e=r.getGroup$$module$build$src$core$events$utils();r.setGroup$$module$build$src$core$events$utils(this.originalEventGroup),this.block.snapToGrid();let o;(o=this.connectionPreviewer)==null||o.dispose(),this.workspace.setResizesEnabled(!0),r.setGroup$$module$build$src$core$events$utils(e)}applyConnections(e){const{local:o,neighbour:a}=e;o.connect(a);const d=o.isSuperior()?a:o,M=this.block.getRootBlock();hr().then(()=>{vn(d.getSourceBlock()),setTimeout(()=>{M.bringToFront()},0)})}revertDrag(){if(this.block.isShadow()){let a;(a=this.block.getParent())==null||a.revertDrag()}else{var e;(e=this.connectionPreviewer)==null||e.hidePreview(),this.connectionCandidate=null;var o;if((o=this.startChildConn)==null||o.connect(this.block.nextConnection),this.startParentConn)switch(this.startParentConn.type){case Or.INPUT_VALUE:this.startParentConn.connect(this.block.outputConnection);break;case Or.NEXT_STATEMENT:this.startParentConn.connect(this.block.previousConnection)}else{this.block.moveTo(this.startLoc,["drag"]);let a;(a=this.workspace.getLayerManager())==null||a.moveOffDragLayer(this.block,uc),ui(this.workspace,this.workspace.getMetricsManager().getScrollMetrics(!0),this.block)}this.startParentConn=this.startChildConn=null,this.block.setDragging(!1),this.dragging=!1}}},E5=class extends hs{constructor(e,o,a,d){super(o,a,d),this.text=e,this.workspace=o,this.anchor=a,this.ownerRect=d,this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize(),ut(this.svgRoot,"blocklyTextBubble")}getText(){return this.text}setText(e){this.text=e,se(this.paragraph),this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}stringToSvg(e,o){return o=this.createParagraph(o),e=this.createTextFragments(o,e),this.workspace.RTL&&this.rightAlignTextFragments(o.getBBox().width,e),o}createParagraph(e){return Me(Tn.G,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",transform:`translate(0,${hs.BORDER_WIDTH})`,style:`direction: ${this.workspace.RTL?"rtl":"ltr"}`},e)}createTextFragments(e,o){let a=1;return o.split(`
`).map(d=>{const M=Me(Tn.TEXT,{y:`${a}em`,x:hs.BORDER_WIDTH},e);return d=document.createTextNode(d),M.appendChild(d),a+=1,M})}rightAlignTextFragments(e,o){for(const a of o)a.setAttribute("text-anchor","start"),a.setAttribute("x",`${e+hs.BORDER_WIDTH}`)}updateBubbleSize(){const e=this.paragraph.getBBox();this.setSize(new pi(e.width+hs.BORDER_WIDTH*2,e.height+hs.BORDER_WIDTH*2),!0)}},S3=17,Va=class extends m1{constructor(e){super(e),this.sourceBlock=e,this.textMap=new Map,this.textBubble=null}getType(){return Va.TYPE}initView(e){this.svgRoot||(super.initView(e),Me(Tn.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},this.svgRoot),Me(Tn.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},this.svgRoot),Me(Tn.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},this.svgRoot),ut(this.svgRoot,"blocklyWarningIcon"))}dispose(){super.dispose();let e;(e=this.textBubble)==null||e.dispose()}getWeight(){return Va.WEIGHT}getSize(){return new pi(S3,S3)}applyColour(){super.applyColour();let e;(e=this.textBubble)==null||e.setColour(this.sourceBlock.getColour())}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(e){super.onLocationChange(e);let o;(o=this.textBubble)==null||o.setAnchorLocation(this.getAnchorLocation())}addMessage(e,o){if(this.textMap.get(o)===e)return this;e?this.textMap.set(o,e):this.textMap.delete(o);let a;return(a=this.textBubble)==null||a.setText(this.getText()),this}getText(){return[...this.textMap.values()].join(`
`)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(e){const o=this;return(0,In.asyncExecutePromiseGeneratorFunction)(function*(){if(o.bubbleIsVisible()!==e){if(yield hr(),e)o.textBubble=new E5(o.getText(),o.sourceBlock.workspace,o.getAnchorLocation(),o.getBubbleOwnerRect()),o.applyColour();else{let a;(a=o.textBubble)==null||a.dispose(),o.textBubble=null}de(new(Ut(Mn.BUBBLE_OPEN))(o.sourceBlock,e,"warning"))}})}getBubble(){return this.textBubble}getAnchorLocation(){const e=S3/2;return Qn.sum(this.workspaceLocation,new Qn(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new ci(e.y,e.y+e.height,e.x,e.x+e.width)}};Va.TYPE=Ws.WARNING,Va.WEIGHT=2;var Ss=class extends ua{constructor(e,o,a){if(super(e,o,a),this.childlessWidth=this.width=this.height=0,this.warningTextDb=new Map,this.mutator=null,this.rendered=!0,this.visuallyDisabled=!1,this.translation="",this.dragging=!1,this.relativeCoords=new Qn(0,0),this.dragStrategy=new Gh(this),!e.rendered)throw TypeError("Cannot create a rendered block in a headless workspace");this.workspace=e,this.svgGroup=Me(Tn.G,{}),o&&ut(this.svgGroup,o),this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup,this.style),e=this.pathObject.svgPath,e.tooltip=this,ri(e),this.svgGroup.setAttribute("data-id",this.id),e.id=_e(),this.doInit_()}initSvg(){if(!this.initialized){for(var e of this.inputList)e.init();for(const o of this.getIcons())o.initView(this.createIconPointerDownListener(o)),o.updateEditable();this.applyColour(),this.pathObject.updateMovable(this.isMovable()||this.isInFlyout),(e=this.getSvgRoot())&&le(e,"pointerdown",this,this.onMouseDown),e.parentNode||this.workspace.getCanvas().appendChild(e),this.initialized=!0}}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){this.addSelect(),Lt(this)}unselect(){this.removeSelect(),Lt(null)}setParent(e){var o=this.parentBlock_;if(e!==o){Qe(),super.setParent(e),Tt();var a=this.getSvgRoot();if(!this.workspace.isClearing&&a){var d=this.getRelativeToSurfaceXY(),M=r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode(),oe,at=this.getSvgRoot().contains((oe=M?.getFocusableElement())!=null?oe:null);e?(e.getSvgRoot().appendChild(a),at&&M&&r.getFocusManager$$module$build$src$core$focus_manager().focusNode(M)):o&&(e=this.workspace.getCanvas().querySelector(".blocklyDragging"),o=e?.parentElement,oe=this.workspace.getCanvas(),o===oe?oe.insertBefore(a,e):(oe.appendChild(a),at&&M&&r.getFocusManager$$module$build$src$core$focus_manager().focusNode(M)),this.translate(d.x,d.y)),this.applyColour()}}}getRelativeToSurfaceXY(){const e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");let o=0,a=0,d=this.getSvgRoot();if(d)do{const M=x(d);o+=M.x,a+=M.y,d=d.parentNode}while(d&&!e.hasLayer(d));return new Qn(o,a)}moveBy(e,o,a){if(this.parentBlock_)throw Error("Block has parent");const d=et();let M=null;d&&(M=new(Ut(Mn.BLOCK_MOVE))(this),a&&M.setReason(a)),e=new Qn(e,o),o=this.getRelativeToSurfaceXY(),e=Qn.sum(o,e),this.translate(e.x,e.y),this.updateComponentLocations(e),d&&M&&(M.recordNew(),de(M)),this.workspace.resizeContents()}translate(e,o){this.translation=`translate(${e}, ${o})`,this.relativeCoords=new Qn(e,o),this.getSvgRoot().setAttribute("transform",this.getTranslation())}getTranslation(){return this.translation}moveTo(e,o){const a=this.getRelativeToSurfaceXY();this.moveBy(e.x-a.x,e.y-a.y,o)}moveDuringDrag(e){this.translate(e.x,e.y),this.getSvgRoot().setAttribute("transform",this.getTranslation()),this.updateComponentLocations(e)}snapToGrid(){if(!this.isDeadOrDying()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var o=this.getRelativeToSurfaceXY();e=e.alignXY(o),e!==o&&this.moveTo(e,["snap"])}}}getBoundingRectangle(){return this.getBoundingRectangleWithDimensions(this.getHeightWidth())}getBoundingRectangleWithoutChildren(){return this.getBoundingRectangleWithDimensions({height:this.height,width:this.childlessWidth})}getBoundingRectangleWithDimensions(e){const o=this.getRelativeToSurfaceXY();let a,d;return this.RTL?(a=o.x-e.width,d=o.x):(a=o.x,d=o.x+e.width),new ci(o.y,o.y+e.height,a,d)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let e=0,o;o=this.inputList[e];e++)o.markDirty()}setCollapsed(e){this.collapsed_!==e&&(super.setCollapsed(e),this.updateCollapsed())}childHasWarning(){const e=this.getChildren(!1);for(const o of e)if(o.getIcon(Va.TYPE)||o.childHasWarning())return!0;return!1}updateCollapsed(){var e=this.isCollapsed();const o=us,a=Ci;for(let M=0,oe;oe=this.inputList[M];M++)oe.name!==o&&oe.setVisible(!e);for(var d of this.getIcons())d.updateCollapsed();e?(ut(this.svgGroup,"blocklyCollapsed"),this.childHasWarning()&&this.setWarningText(r.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,Ss.COLLAPSED_WARNING_ID),e=this.toString(s8),(d=this.getField(a))?d.setValue(e):(this.getInput(o)||this.appendDummyInput(o)).appendField(new v1(e),a)):(this.updateDisabled(),this.removeInput(o),nn(this.svgGroup,"blocklyCollapsed"),this.setWarningText(null,Ss.COLLAPSED_WARNING_ID))}onMouseDown(e){if(!this.workspace.isReadOnly()){var o=this.workspace.getGesture(e);o&&o.handleBlockStart(e,this)}}showHelp(){const e=typeof this.helpUrl=="function"?this.helpUrl():this.helpUrl;e&&window.open(e)}generateContextMenu(e){return this.workspace.isReadOnly()||!this.contextMenu?null:(e=gi.registry.getContextMenuOptions({block:this,focusedNode:this},e),this.customContextMenu&&this.customContextMenu(e),e)}calculateContextMenuLocation(e){if(e instanceof PointerEvent)return new Qn(e.clientX,e.clientY);e=be(this.workspace,this.getRelativeToSurfaceXY());let o,a;const d=(o=this.inputList.filter(M=>M.isVisible()).flatMap(M=>M.fieldRow).find(M=>M.isVisible()))==null||(a=o.getSvgRoot())==null?void 0:a.getBoundingClientRect();return new Qn(this.RTL?e.x-5:e.x+5,(d&&d.height?d.y+d.height:e.y+this.height)+5)}showContextMenu(e){const o=this.generateContextMenu(e),a=this.calculateContextMenuLocation(e);o&&o.length&&(ya(e,o,this.RTL,this.workspace,a),Hu(this))}updateComponentLocations(e){this.dragging||this.updateConnectionLocations(e),this.updateIconLocations(e),this.updateFieldLocations(e);for(const o of this.getChildren(!1))o.updateComponentLocations(Qn.sum(e,o.relativeCoords))}updateConnectionLocations(e){for(const o of this.getConnections_(!1))o.moveToOffset(e)}updateIconLocations(e){for(const o of this.getIcons())o.onLocationChange(e)}updateFieldLocations(e){for(const o of this.inputList)for(const a of o.fieldRow)a.onLocationChange(e)}addClass(e){ut(this.svgGroup,e)}removeClass(e){nn(this.svgGroup,e)}setDragging(e){(this.dragging=e)?(this.translation="",n1.push(...this.getConnections_(!0)),this.addClass("blocklyDragging")):(n1.length=0,this.removeClass("blocklyDragging"));for(let o=0;o<this.childBlocks_.length;o++)this.childBlocks_[o].setDragging(e)}setMovable(e){super.setMovable(e),this.pathObject.updateMovable(e)}setEditable(e){super.setEditable(e),e?nn(this.svgGroup,"blocklyNotEditable"):ut(this.svgGroup,"blocklyNotEditable"),e=this.getIcons();for(let o=0;o<e.length;o++)e[o].updateEditable()}setShadow(e){super.setShadow(e),this.applyColour()}setInsertionMarker(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup}dispose(e,o){this.disposing=!0,Li(),ul();const a=r.getFocusManager$$module$build$src$core$focus_manager();var d,M;if(this.getSvgRoot().contains((M=(d=a.getFocusedNode())==null?void 0:d.getFocusableElement())!=null?M:null)){if(d=this.getParent(),!d){let oe;if(M=(oe=this.outputConnection)!=null?oe:this.previousConnection){let at;d=(at=M.closest(0,new Qn(0,0)).connection)==null?void 0:at.getSourceBlock()}}d?a.focusNode(d):setTimeout(()=>a.focusTree(this.workspace),0)}o&&(this.unplug(e),Pt(this)),super.dispose(!!e),se(this.svgGroup)}disposeInternal(){this.disposing=!0,super.disposeInternal(),r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===this&&this.workspace.cancelCurrentGesture(),[...this.warningTextDb.values()].forEach(e=>clearTimeout(e)),this.warningTextDb.clear(),this.getIcons().forEach(e=>e.dispose())}checkAndDelete(){this.workspace.isFlyout||(r.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),r.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(e=!1){return this.isInsertionMarker_?null:{paster:y1.TYPE,blockState:Zr(this,{addCoordinates:!0,addNextBlocks:e,saveIds:!1}),typeCounts:Ye(this,!0)}}applyColour(){var e,o;for((o=(e=this.pathObject).applyColour)==null||o.call(e,this),e=this.getIcons(),o=0;o<e.length;o++)e[o].applyColour();for(const a of this.getFields())a.applyColour()}updateDisabled(){const e=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===e){let o;(o=this.getNextBlock())==null||o.updateDisabled()}else{this.applyColour(),this.visuallyDisabled=e;for(const o of this.getChildren(!1))o.updateDisabled()}}setWarningText(e,o=""){if(o)this.warningTextDb.has(o)&&(clearTimeout(this.warningTextDb.get(o)),this.warningTextDb.delete(o));else{for(var a of this.warningTextDb.values())clearTimeout(a);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(o,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(o),this.setWarningText(e,o))},100));else if(this.isInFlyout&&(e=null),a=this.getIcon(Va.TYPE),e){let d=this.getSurroundParent(),M=null;for(;d;)d.isCollapsed()&&(M=d),d=d.getSurroundParent();M&&M.setWarningText(r.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,Ss.COLLAPSED_WARNING_ID),a?a.addMessage(e,o):this.addIcon(new Va(this).addMessage(e,o))}else a&&(o?(a.addMessage("",o),a.getText()||this.removeIcon(Va.TYPE)):this.removeIcon(Va.TYPE))}setMutator(e){this.removeIcon(r.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE),e&&this.addIcon(e)}addIcon(e){return super.addIcon(e),e instanceof r.MutatorIcon$$module$build$src$core$icons$mutator_icon&&(this.mutator=e),e.initView(this.createIconPointerDownListener(e)),e.applyColour(),e.updateEditable(),this.queueRender(),e}createIconPointerDownListener(e){return o=>{this.isDeadOrDying()||(o=this.workspace.getGesture(o))&&o.setStartIcon(e)}}removeIcon(e){const o=super.removeIcon(e);return e.equals(r.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null),this.queueRender(),o}setDisabledReason(e,o){const a=this.isEnabled();super.setDisabledReason(e,o),this.isEnabled()===a||this.getInheritedDisabled()||this.updateDisabled()}setDeletable(e){super.setDeletable(e),e?nn(this.svgGroup,"blocklyNotDeletable"):ut(this.svgGroup,"blocklyNotDeletable")}setHighlighted(e){this.pathObject.updateHighlighted(e)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(e){this.pathObject.updateDraggingDelete(e)}getColour(){return this.style.colourPrimary}setColour(e){super.setColour(e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_);let o,a;(a=(o=this.pathObject).setStyle)==null||a.call(o,e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}setStyle(e){const o=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_&&nn(this.svgGroup,this.styleName_),o){this.hat=o.hat;let a,d;(d=(a=this.pathObject).setStyle)==null||d.call(a,o),this.colour_=o.colourPrimary,this.style=o,this.applyColour(),ut(this.svgGroup,e),this.styleName_=e}else throw Error("Invalid style name: "+e)}getStyle(){return this.style}bringToFront(e=!1){const o=r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();let a=this;if(!a.isDeadOrDying()){do{const d=a.getSvgRoot(),M=d.parentNode,oe=M.childNodes;if(oe[oe.length-1]!==d&&M.appendChild(d),e)break;a=a.getParent()}while(a);o&&r.getFocusManager$$module$build$src$core$focus_manager().focusNode(o)}}setPreviousStatement(e,o){super.setPreviousStatement(e,o),this.queueRender()}setNextStatement(e,o){super.setNextStatement(e,o),this.queueRender()}setOutput(e,o){super.setOutput(e,o),this.queueRender()}setInputsInline(e){super.setInputsInline(e),this.queueRender()}removeInput(e,o){return e=super.removeInput(e,o),this.queueRender(),e}moveNumberedInputBefore(e,o){super.moveNumberedInputBefore(e,o),this.queueRender()}appendInput(e){return super.appendInput(e),this.queueRender(),e}setConnectionTracking(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var o=this.nextConnection.targetBlock();o&&o.setConnectionTracking(e)}if(!this.collapsed_)for(o=0;o<this.inputList.length;o++){var a=this.inputList[o].connection;a&&(a.setTracking(e),(a=a.targetBlock())&&a.setConnectionTracking(e))}}getConnections_(e){const o=[];if(this.outputConnection&&o.push(this.outputConnection),this.previousConnection&&o.push(this.previousConnection),this.nextConnection&&o.push(this.nextConnection),e||!this.collapsed_)for(let a=0,d;d=this.inputList[a];a++)d.connection&&o.push(d.connection);return o}lastConnectionInStack(e){return super.lastConnectionInStack(e)}getMatchingConnection(e,o){return super.getMatchingConnection(e,o)}makeConnection_(e){return new Xo(this,e)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){const e=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||e.isInFlyout))for(const o of this.getConnections_(!1)){if(o.isSuperior()){let a;(a=o.targetBlock())==null||a.bumpNeighbours()}for(const a of o.neighbours(r.config$$module$build$src$core$config.snapRadius))a.getSourceBlock().getRootBlock()!==e&&(o.isConnected()&&a.isConnected()||(o.isSuperior()?a.bumpAwayFrom(o,!1):o.bumpAwayFrom(a,!0)))}}scheduleSnapAndBump(){this.snapToGrid(),this.bumpNeighbours()}positionNearConnection(e,o,a){if(e.type===Or.NEXT_STATEMENT||e.type===Or.INPUT_VALUE){let d=o.x;o=o.y,d+=a.x-e.getOffsetInBlock().x,o+=a.y-e.getOffsetInBlock().y,this.moveBy(d,o)}}getChildren(e){return super.getChildren(e)}queueRender(){return ei(this)}render(){this.queueRender(),v()}renderEfficiently(){Qe(),this.isCollapsed()&&this.updateCollapsed(),this.isEnabled()||this.updateDisabled(),this.workspace.getRenderer().render(this),this.tightenChildrenEfficiently(),Tt()}tightenChildrenEfficiently(){for(const e of this.inputList){const o=e.connection;o&&o.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}getHeightWidth(){let e=this.height,o=this.width;var a=this.getNextBlock();if(a){a=a.getHeightWidth();const d=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=a.height-d,o=Math.max(o,a.width)}return{height:e,width:o}}fadeForReplacement(e){this.pathObject.updateReplacementFade(e)}highlightShapeForInput(e,o){this.pathObject.updateShapeForInputHighlight(e,o)}getDragStrategy(){return this.dragStrategy}setDragStrategy(e){this.dragStrategy=e}isCopyable(){return this.isOwnDeletable()&&this.isOwnMovable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(e){this.dragStrategy.startDrag(e)}drag(e,o){this.dragStrategy.drag(e,o)}endDrag(e){this.dragStrategy.endDrag(e)}revertDrag(){this.dragStrategy.revertDrag()}toFlyoutInfo(){const e=Object.assign({},{kind:"BLOCK"},Zr(this)),o=new Set(["id","height","width","pinned","enabled"]),a=function(d){for(const M in d)o.has(M)?delete d[M]:typeof d[M]=="object"&&a(d[M])};return a(e),[e]}jsonInit(e){super.jsonInit(e),e.classes&&this.addClass(Array.isArray(e.classes)?e.classes.join(" "):e.classes)}getFocusableElement(){return this.pathObject.svgPath}getFocusableTree(){return this.workspace}onNodeFocus(){this.select(),this.workspace.scrollBoundsIntoView(this.getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}};Ss.INLINE=-1,Ss.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var a8=class{constructor(){}onDragEnter(e){}onDragOver(e){}onDragExit(e){}onDrop(e){}getClientRect(){return null}shouldPreventMove(e){return!1}},O2=class extends a8{constructor(){super(),this.wouldDelete_=!1}wouldDelete(e){return e instanceof Ss?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e)):this.updateWouldDelete_(ms(e)&&e.isDeletable()),this.wouldDelete_}updateWouldDelete_(e){this.wouldDelete_=e}},R2=class{constructor(e,o){this.element=e,this.type=o}getElement(){return this.element}getType(){return this.type}},L2=class{constructor(e){this.workspace_=e}getDimensionsPx_(e){let o=0,a=0;return e&&(o=e.getWidth(),a=e.getHeight()),new pi(o,a)}getFlyoutMetrics(e){return e=this.getDimensionsPx_(this.workspace_.getFlyout(e)),{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let e=0,o=0;const a=this.getToolboxMetrics(),d=this.getFlyoutMetrics(),M=!!this.workspace_.getToolbox();var oe;const at=!((oe=this.workspace_.getFlyout())!=null&&oe.autoClose);oe=M?a.position:d.position;const qt=oe===mi.TOP;return oe===mi.LEFT&&(M&&(e+=a.width),at&&(e+=d.width)),qt&&(M&&(o+=a.height),at&&(o+=d.height)),{top:o,left:e}}getViewMetrics(e){e=e?this.workspace_.scale:1;const o=this.getSvgMetrics(),a=this.getToolboxMetrics(),d=this.getFlyoutMetrics(),M=!!this.workspace_.getToolbox();var oe;const at=!((oe=this.workspace_.getFlyout())!=null&&oe.autoClose);oe=M?a.position:d.position;const qt=oe===mi.LEFT||oe===mi.RIGHT;return(oe===mi.TOP||oe===mi.BOTTOM)&&(M&&(o.height-=a.height),at&&(o.height-=d.height)),qt&&(M&&(o.width-=a.width),at&&(o.width-=d.width)),{height:o.height/e,width:o.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}getContentMetrics(e){e=e?1:this.workspace_.scale;const o=this.workspace_.getBlocksBoundingBox();return{height:(o.bottom-o.top)*e,width:(o.right-o.left)*e,top:o.top*e,left:o.left*e}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(e){if(!this.hasFixedEdges())return{};const o=this.workspace_.isMovableHorizontally(),a=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);const d={};return a||(d.top=e.top,d.bottom=e.top+e.height),o||(d.left=e.left,d.right=e.left+e.width),d}getPaddedContent_(e,o){const a=o.top+o.height,d=o.left+o.width,M=e.width;e=e.height;const oe=M/2,at=e/2;return{top:Math.min(o.top-at,a-e),bottom:Math.max(a+at,o.top+e),left:Math.min(o.left-oe,d-M),right:Math.max(d+oe,o.left+M)}}getScrollMetrics(e,o,a){e=e?this.workspace_.scale:1,o=o||this.getViewMetrics(!1);var d=a||this.getContentMetrics();a=this.getComputedFixedEdges_(o),o=this.getPaddedContent_(o,d),d=a.top!==void 0?a.top:o.top;const M=a.left!==void 0?a.left:o.left;return{top:d/e,left:M/e,width:((a.right!==void 0?a.right:o.right)-M)/e,height:((a.bottom!==void 0?a.bottom:o.bottom)-d)/e}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const e=this.getToolboxMetrics(),o=this.getFlyoutMetrics(!0),a=this.getSvgMetrics(),d=this.getAbsoluteMetrics(),M=this.getViewMetrics(),oe=this.getContentMetrics(),at=this.getScrollMetrics(!1,M,oe);return{contentHeight:oe.height,contentWidth:oe.width,contentTop:oe.top,contentLeft:oe.left,scrollHeight:at.height,scrollWidth:at.width,scrollTop:at.top,scrollLeft:at.left,viewHeight:M.height,viewWidth:M.width,viewTop:M.top,viewLeft:M.left,absoluteTop:d.top,absoluteLeft:d.left,svgHeight:a.height,svgWidth:a.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:o.width,flyoutHeight:o.height}}};i(Yn.METRICS_MANAGER,B0,L2);var qh=class extends L2{constructor(e,o){super(e),this.flyout_=o}getBoundingBox(){let e;try{e=this.workspace_.getCanvas().getBBox()}catch{e={height:0,y:0,width:0,x:0}}return e}getContentMetrics(e){const o=this.getBoundingBox();return e=e?1:this.workspace_.scale,{height:o.height*e,width:o.width*e,top:o.y*e,left:o.x*e}}getScrollMetrics(e,o,a){return o=a||this.getContentMetrics(),a=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(o.height+2*a)/e,width:(o.width+o.left+a)/e,top:0,left:0}}},Yo=class{constructor(e,o,a,d){this.workspace=e,this.targetWorkspace=o,this.isFlyoutLabel=d,this.height=this.width=0,this.cursorSvg=this.svgText=null,this.text=a.text,this.position=new Qn(0,0),this.callbackKey=a.callbackKey||a.callbackkey,this.cssClass=a["web-class"]||null,this.info=a,e=this.isFlyoutLabel?"blocklyFlyoutLabel":"blocklyFlyoutButton",this.cssClass&&(e+=" "+this.cssClass),this.id=_e(),this.svgGroup=Me(Tn.G,{id:this.id,class:e},this.workspace.getCanvas());let M;this.isFlyoutLabel||(M=Me(Tn.RECT,{class:"blocklyFlyoutButtonShadow",rx:Yo.BORDER_RADIUS,ry:Yo.BORDER_RADIUS,x:1,y:1},this.svgGroup)),e=Me(Tn.RECT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:Yo.BORDER_RADIUS,ry:Yo.BORDER_RADIUS},this.svgGroup),o=Me(Tn.TEXT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup),a=ii(this.text),this.workspace.RTL&&(a+=""),o.textContent=a,this.isFlyoutLabel&&(this.svgText=o,this.workspace.getThemeManager().subscribe(this.svgText,"flyoutForegroundColour","fill")),d=En(o,"fontSize");const oe=En(o,"fontWeight"),at=En(o,"fontFamily");if(this.width=rt(o,d,oe,at),a=P(a,d,oe,at),this.height=this.height||a.height,!this.isFlyoutLabel){this.width+=2*Yo.TEXT_MARGIN_X,this.height+=2*Yo.TEXT_MARGIN_Y;let qt;(qt=M)==null||qt.setAttribute("width",String(this.width));let Wn;(Wn=M)==null||Wn.setAttribute("height",String(this.height))}e.setAttribute("width",String(this.width)),e.setAttribute("height",String(this.height)),o.setAttribute("x",String(this.width/2)),o.setAttribute("y",String(this.height/2-a.height/2+a.baseline)),this.updateTransform(),this.onMouseDownWrapper=le(this.svgGroup,"pointerdown",this,this.onMouseDown),this.onMouseUpWrapper=le(this.svgGroup,"pointerup",this,this.onMouseUp)}createDom(){return this.svgGroup}show(){this.updateTransform(),this.svgGroup.setAttribute("display","block")}updateTransform(){this.svgGroup.setAttribute("transform","translate("+this.position.x+","+this.position.y+")")}moveTo(e,o){this.position.x=e,this.position.y=o,this.updateTransform()}moveBy(e,o,a){this.moveTo(this.position.x+e,this.position.y+o)}isLabel(){return this.isFlyoutLabel}getPosition(){return this.position}getBoundingRectangle(){return new ci(this.position.y,this.position.y+this.height,this.position.x,this.position.x+this.width)}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}getWorkspace(){return this.workspace}dispose(){Ce(this.onMouseDownWrapper),Ce(this.onMouseUpWrapper),this.svgGroup&&se(this.svgGroup),this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}setCursorSvg(e){e?this.svgGroup&&(this.svgGroup.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}onMouseUp(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isFlyoutLabel&&this.callbackKey?console.warn("Labels should not have callbacks. Label text: "+this.text):this.isFlyoutLabel||this.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isFlyoutLabel||(e=this.targetWorkspace.getButtonCallback(this.callbackKey))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text)}onMouseDown(e){const o=this.targetWorkspace.getGesture(e),a=this.targetWorkspace.getFlyout();o&&a&&o.handleFlyoutStart(e,a)}getSvgRoot(){return this.svgGroup}getFocusableElement(){return this.svgGroup}getFocusableTree(){return this.workspace}onNodeFocus(){var e=this.getPosition();e=new ci(e.y,e.y+this.height,e.x,e.x+this.width),this.workspace.scrollBoundsIntoView(e)}onNodeBlur(){}canBeFocused(){return!0}};Yo.TEXT_MARGIN_X=5,Yo.TEXT_MARGIN_Y=2,Yo.BORDER_RADIUS=4,$n(`
.blocklyFlyoutButton {
  fill: #888;
  cursor: default;
}

.blocklyFlyoutButtonShadow {
  fill: #666;
}

.blocklyFlyoutButton:hover {
  fill: #aaa;
}

.blocklyFlyoutLabel {
  cursor: default;
}

.blocklyFlyoutLabelBackground {
  opacity: 0;
}
`);var u8=class{getFirstChild(e){return null}getParent(e){return e.getWorkspace()}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Yo}},D2=class{constructor(e,o){this.policy=e,this.flyout=o}getFirstChild(e){return null}getParent(e){return this.policy.getParent(e)}getNextSibling(e){const o=this.flyout.getContents();if(!o)return null;let a=o.findIndex(d=>d.getElement()===e);return a===-1?null:(a++,a>=o.length&&(a=0),o[a].getElement())}getPreviousSibling(e){const o=this.flyout.getContents();if(!o)return null;let a=o.findIndex(d=>d.getElement()===e);return a===-1?null:(a--,a<0&&(a=o.length-1),o[a].getElement())}isNavigable(e){return this.policy.isNavigable(e)}isApplicable(e){return this.policy.isApplicable(e)}},x3=class{constructor(e,o){this.gap=e,this.axis=o,this.y=this.x=0}getBoundingRectangle(){switch(this.axis){case"x":return new ci(this.y,this.y,this.x,this.x+this.gap);case"y":return new ci(this.y,this.y+this.gap,this.x,this.x)}}moveBy(e,o,a){this.x+=e,this.y+=o}isNavigable(){return!1}getFocusableElement(){throw Error("Cannot be focused")}getFocusableTree(){throw Error("Cannot be focused")}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}},S5=class{getFirstChild(e){return null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return!1}isApplicable(e){return e instanceof x3}},c8=class{getFirstChild(e){return e.getEditor()}getParent(e){let o;return(o=e.getOwner())!=null?o:null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof M0}},x5=class{getFirstChild(e){return Us(e,!0)[0]}getParent(e){var o;if((o=e.previousConnection)!=null&&o.targetBlock()){if(o=e.getSurroundParent())return o}else{let a;if((a=e.outputConnection)!=null&&a.targetBlock())return e.outputConnection.targetBlock()}return e.workspace}getNextSibling(e){let o;if((o=e.nextConnection)!=null&&o.targetBlock()){let d;return(d=e.nextConnection)==null?void 0:d.targetBlock()}let a;return(a=e.outputConnection)!=null&&a.targetBlock()?zs(e,1):e.getSurroundParent()?zs(e.getTopStackBlock(),1):this.getParent(e)instanceof X0?Os(e,1):null}getPreviousSibling(e){let o;if((o=e.previousConnection)!=null&&o.targetBlock()){let d;return(d=e.previousConnection)==null?void 0:d.targetBlock()}let a;return(a=e.outputConnection)!=null&&a.targetBlock()?zs(e,-1):this.getParent(e)instanceof X0?Os(e,-1):null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Ss}},h8=class{getFirstChild(e){return null}getParent(e){return e.getCommentView().workspace.getCommentById(e.getCommentView().commentId)}getNextSibling(e){const o=e.getCommentView().getCommentBarButtons();return e=o.indexOf(e),e>=0&&e+1<o.length?o[e+1]:null}getPreviousSibling(e){const o=e.getCommentView().getCommentBarButtons();return e=o.indexOf(e),e>0?o[e-1]:null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof zh}},C5=class{getFirstChild(e){return null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof y3}},M5=class{getFirstChild(e){return e.getParentInput()?e.targetConnection:null}getParent(e){return e.getSourceBlock()}getNextSibling(e){if(e.getParentInput())return zs(e,1);if(e.type===Or.NEXT_STATEMENT){const a=e.targetConnection;var o=e.getSourceBlock();if(!a&&o.getRootBlock().lastConnectionInStack(!1)===e){e=o.workspace.getTopBlocks(!0),o=e.indexOf(o.getRootBlock())+1,o>=e.length&&(o=0),o=e[o];let d;return(d=this.getParentConnection(o))!=null?d:o}return a}return e.getSourceBlock()}getPreviousSibling(e){if(e.getParentInput())return zs(e,-1);if(e.type===Or.PREVIOUS_STATEMENT||e.type===Or.OUTPUT_VALUE){const a=e.targetConnection&&!e.targetConnection.getParentInput()?e.targetConnection:null;var o=e.getSourceBlock();if(!a&&this.getParentConnection(o.getRootBlock())===e){e=o.workspace.getTopBlocks(!0),o=e.indexOf(o.getRootBlock())-1,o<0&&(o=e.length-1),o=e[o];let d;return(d=o.lastConnectionInStack(!1))!=null?d:o}return a}return e.type===Or.NEXT_STATEMENT?e.getSourceBlock():null}getParentConnection(e){let o;return!e.outputConnection||(o=e.previousConnection)!=null&&o.isConnected()?e.previousConnection:e.outputConnection}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Xo}},k5=class{getFirstChild(e){return null}getParent(e){return e.getSourceBlock()}getNextSibling(e){return zs(e,1)}getPreviousSibling(e){return zs(e,-1)}isNavigable(e){let o;return e.canBeFocused()&&e.isVisible()&&(e.isClickable()||e.isCurrentlyEditable())&&!((o=e.getSourceBlock())!=null&&o.isSimpleReporter()&&e.isFullBlockField())&&e.getParentInput().isVisible()}isApplicable(e){return e instanceof cs}},B2={};B2.register=Ti,B2.unregister=ji;var A5=17,f8=160,C3=80,$l=class extends m1{constructor(e){super(e),this.sourceBlock=e,this.textInputBubble=null,this.text="",this.bubbleSize=new pi(f8,C3),this.bubbleVisiblity=!1}getType(){return $l.TYPE}initView(e){this.svgRoot||(super.initView(e),Me(Tn.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},this.svgRoot),Me(Tn.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},this.svgRoot),Me(Tn.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},this.svgRoot),ut(this.svgRoot,"blocklyCommentIcon"))}dispose(){super.dispose();let e;(e=this.textInputBubble)==null||e.dispose()}getWeight(){return $l.WEIGHT}getSize(){return new pi(A5,A5)}applyColour(){super.applyColour();const e=this.sourceBlock.getColour();let o;(o=this.textInputBubble)==null||o.setColour(e)}updateEditable(){const e=this,o=()=>super.updateEditable;return(0,In.asyncExecutePromiseGeneratorFunction)(function*(){o().call(e),e.bubbleIsVisible()&&(yield e.setBubbleVisible(!1),yield e.setBubbleVisible(!0))})}onLocationChange(e){const o=this.workspaceLocation;super.onLocationChange(e),this.bubbleLocation&&(e=Qn.difference(this.workspaceLocation,o),this.bubbleLocation=Qn.sum(this.bubbleLocation,e)),e=this.getAnchorLocation();let a;(a=this.textInputBubble)==null||a.setAnchorLocation(e)}setText(e){const o=this.text;de(new(Ut(Mn.BLOCK_CHANGE))(this.sourceBlock,"comment",null,o,e)),this.text=e;let a;(a=this.textInputBubble)==null||a.setText(this.text)}getText(){return this.text}setBubbleSize(e){this.bubbleSize=e;let o;(o=this.textInputBubble)==null||o.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}setBubbleLocation(e){this.bubbleLocation=e;let o;(o=this.textInputBubble)==null||o.moveDuringDrag(e)}getBubbleLocation(){return this.bubbleLocation}saveState(){if(this.text){const e={text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width},o=this.getBubbleLocation();return o&&(e.x=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(o.x+this.bubbleSize.width):o.x,e.y=o.y),e}return null}loadState(e){let o;this.text=(o=e.text)!=null?o:"";let a,d;this.bubbleSize=new pi((a=e.width)!=null?a:f8,(d=e.height)!=null?d:C3);let M;this.bubbleVisiblity=(M=e.pinned)!=null?M:!1,this.setBubbleVisible(this.bubbleVisiblity);let oe=e.x;const at=e.y;hr().then(()=>{oe&&at&&(oe=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(oe+this.bubbleSize.width):oe,this.setBubbleLocation(new Qn(oe,at)))})}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}onTextChange(){if(this.textInputBubble){var e=this.textInputBubble.getText();this.text!==e&&(de(new(Ut(Mn.BLOCK_CHANGE))(this.sourceBlock,"comment",null,this.text,e)),this.text=e)}}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}onBubbleLocationChange(){this.textInputBubble&&(this.bubbleLocation=this.textInputBubble.getRelativeToSurfaceXY())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(e){const o=this;return(0,In.asyncExecutePromiseGeneratorFunction)(function*(){o.bubbleVisiblity!==e&&(o.bubbleVisiblity=e,yield hr(),!o.sourceBlock.rendered||o.sourceBlock.isInFlyout||o.sourceBlock.isInsertionMarker()||(e?(o.sourceBlock.isEditable()?o.showEditableBubble():o.showNonEditableBubble(),o.applyColour()):o.hideBubble(),de(new(Ut(Mn.BUBBLE_OPEN))(o.sourceBlock,e,"comment"))))})}getBubble(){return this.textInputBubble}showEditableBubble(){this.createBubble();let e;(e=this.textInputBubble)==null||e.addTextChangeListener(()=>this.onTextChange());let o;(o=this.textInputBubble)==null||o.addSizeChangeListener(()=>this.onSizeChange())}showNonEditableBubble(){this.createBubble();let e;(e=this.textInputBubble)==null||e.setEditable(!1)}createBubble(){this.textInputBubble=new M0(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect(),this),this.textInputBubble.setText(this.getText()),this.textInputBubble.setSize(this.bubbleSize,!0),this.bubbleLocation&&this.textInputBubble.moveDuringDrag(this.bubbleLocation),this.textInputBubble.addTextChangeListener(()=>this.onTextChange()),this.textInputBubble.addSizeChangeListener(()=>this.onSizeChange()),this.textInputBubble.addLocationChangeListener(()=>this.onBubbleLocationChange())}hideBubble(){let e;(e=this.textInputBubble)==null||e.dispose(),this.textInputBubble=null}getAnchorLocation(){const e=A5/2;return Qn.sum(this.workspaceLocation,new Qn(e,e))}getBubbleOwnerRect(){return this.sourceBlock.getBoundingRectangleWithoutChildren()}};$l.TYPE=Ws.COMMENT,$l.WEIGHT=3,Ti($l.TYPE,$l);var M3=class{getFirstChild(e){if(e instanceof r.MutatorIcon$$module$build$src$core$icons$mutator_icon&&e.bubbleIsVisible()&&r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===e){let o,a;return(a=(o=e.getBubble())==null?void 0:o.getWorkspace())!=null?a:null}if(e instanceof $l&&e.bubbleIsVisible()&&r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===e){let o,a;return(a=(o=e.getBubble())==null?void 0:o.getEditor())!=null?a:null}return null}getParent(e){return e.getSourceBlock()}getNextSibling(e){return zs(e,1)}getPreviousSibling(e){return zs(e,-1)}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof m1}},N5=class{getFirstChild(e){return e.view.getCommentBarButtons()[0]}getParent(e){return e.workspace}getNextSibling(e){return Os(e,1)}getPreviousSibling(e){return Os(e,-1)}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Il}},I5=class{getFirstChild(e){return e=e.getTopBlocks(!0),e.length?e[0]:null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()&&!e.isMutator}isApplicable(e){return e instanceof X0}},Wh=class{constructor(){this.rules=[new x5,new k5,new M5,new I5,new M3,new N5,new h8,new c8,new C5]}addNavigationPolicy(e){this.rules.push(e)}get(e){return this.rules.find(o=>o.isApplicable(e))}getFirstChild(e){let o;const a=(o=this.get(e))==null?void 0:o.getFirstChild(e);if(!a)return null;let d;return(d=this.get(a))!=null&&d.isNavigable(a)?a:this.getFirstChild(a)||this.getNextSibling(a)}getParent(e){let o;const a=(o=this.get(e))==null?void 0:o.getParent(e);if(!a)return null;let d;return(d=this.get(a))!=null&&d.isNavigable(a)?a:this.getParent(a)}getNextSibling(e){let o;const a=(o=this.get(e))==null?void 0:o.getNextSibling(e);if(!a)return null;let d;return(d=this.get(a))!=null&&d.isNavigable(a)?a:this.getNextSibling(a)}getPreviousSibling(e){let o;const a=(o=this.get(e))==null?void 0:o.getPreviousSibling(e);if(!a)return null;let d;return(d=this.get(a))!=null&&d.isNavigable(a)?a:this.getPreviousSibling(a)}},Mu=class extends Wh{constructor(e){super(),this.rules.push(new u8,new S5),this.rules=this.rules.map(o=>new D2(o,e))}},Ga=class{constructor(e,o,a,d,M){this.workspace=e,this.oldHostMetrics=this.corner_=this.vScroll=this.hScroll=null,o=o===void 0?!0:o,a=a===void 0?!0:a;const oe=o&&a;o&&(this.hScroll=new Js(e,!0,oe,d,M)),a&&(this.vScroll=new Js(e,!1,oe,d,M)),oe&&(this.corner_=Me(Tn.RECT,{height:Js.scrollbarThickness,width:Js.scrollbarThickness,class:"blocklyScrollbarBackground"}),Ae(this.corner_,e.getBubbleCanvas()))}dispose(){se(this.corner_),this.oldHostMetrics=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const e=this.workspace.getMetrics();if(e){var o=!1,a=!1;if(this.oldHostMetrics&&this.oldHostMetrics.viewWidth===e.viewWidth&&this.oldHostMetrics.viewHeight===e.viewHeight&&this.oldHostMetrics.absoluteTop===e.absoluteTop&&this.oldHostMetrics.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics&&this.oldHostMetrics.scrollWidth===e.scrollWidth&&this.oldHostMetrics.viewLeft===e.viewLeft&&this.oldHostMetrics.scrollLeft===e.scrollLeft||(o=!0),this.oldHostMetrics&&this.oldHostMetrics.scrollHeight===e.scrollHeight&&this.oldHostMetrics.viewTop===e.viewTop&&this.oldHostMetrics.scrollTop===e.scrollTop||(a=!0)):a=o=!0,o||a){try{r.disable$$module$build$src$core$events$utils(),this.hScroll&&o&&this.hScroll.resize(e),this.vScroll&&a&&this.vScroll.resize(e)}finally{r.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics||this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft){let d;(d=this.corner_)==null||d.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteTop!==e.absoluteTop){let d;(d=this.corner_)==null||d.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics=e}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(e,o){this.hScroll&&this.hScroll.setOrigin(e,o),this.vScroll&&this.vScroll.setOrigin(e,o)}set(e,o,a){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(o,!1),(a||a===void 0)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}setX(e){this.hScroll&&this.hScroll.set(e,!0)}setY(e){this.vScroll&&this.vScroll.set(e,!0)}setContainerVisible(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}isVisible(){let e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}setVisible(e){this.hScroll&&this.hScroll.setVisibleInternal(e),this.vScroll&&this.vScroll.setVisibleInternal(e)}resizeContent(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}resizeView(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}},bl="sep",P2=class{load(e,o){return e=new x3(0,o.horizontalLayout?"x":"y"),new R2(e,bl)}gapForItem(e,o){let a;return(a=parseInt(String(e.gap)))!=null?a:o}disposeItem(e){}getType(){return bl}};i(Yn.FLYOUT_INFLATER,bl,P2);var dc=class extends O2{constructor(e){super(),this.horizontalLayout=!1,this.boundEvents=[],this.reflowWrapper=null,this.contents=[],this.autoClose=!0,this.visible=!1,this.containerVisible=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,this.inflaters=new Map,e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new X0(e),this.workspace_.setMetricsManager(new qh(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.visible),this.workspace_.setNavigator(new Mu(this)),this.id=b(),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=this.MARGIN*3,this.GAP_Y=this.MARGIN*3}createDom(e){return this.svgGroup_=Me(e,{class:"blocklyFlyout"}),this.svgGroup_.style.display="none",this.svgBackground_=Me(Tn.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new Ga(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),this.boundEvents.push(le(this.svgGroup_,"wheel",this,this.wheel_)),this.boundEvents.push(le(this.svgBackground_,"pointerdown",this,this.onMouseDown)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:ns.ComponentWeight.FLYOUT_WEIGHT,capabilities:[ns.Capability.AUTOHIDEABLE,ns.Capability.DELETE_AREA,ns.Capability.DRAG_TARGET]})}dispose(){this.hide(),this.targetWorkspace.getComponentManager().removeComponent(this.id);for(const e of this.boundEvents)Ce(e);this.boundEvents.length=0,this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&se(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}setAutoClose(e){this.autoClose=e,this.targetWorkspace.recordDragTargets(),this.targetWorkspace.resizeContents()}autoHide(e){!e&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}getTargetWorkspace(){return this.targetWorkspace}isVisible(){return this.visible}setVisible(e){const o=e!==this.isVisible();this.visible=e,o&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}setContainerVisible(e){const o=e!==this.containerVisible;this.containerVisible=e,o&&this.updateDisplay()}getContents(){return this.contents}setContents(e){this.contents=e}updateDisplay(){let e;e=this.containerVisible?this.isVisible():!1,this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none");let o;(o=this.workspace_.scrollbar)==null||o.setContainerVisible(e)}positionAt_(e,o,a,d){let M;(M=this.svgGroup_)==null||M.setAttribute("width",`${e}`);let oe;(oe=this.svgGroup_)==null||oe.setAttribute("height",`${o}`),this.workspace_.setCachedParentSvgSize(e,o),this.svgGroup_&&lt(this.svgGroup_,"translate("+a+"px,"+d+"px)"),(e=this.workspace_.scrollbar)&&(e.setOrigin(a,d),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}hide(){this.isVisible()&&(this.setVisible(!1),this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null))}show(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks(),typeof e=="string"&&(e=this.getDynamicCategoryContents(e)),this.setVisible(!0),e=p(e),e=this.createFlyoutInfo(e),v(this.workspace_),this.setContents(e),this.layout_(e),this.horizontalLayout?this.height_=0:this.width_=0,this.reflow(),this.workspace_.setResizesEnabled(!0),this.reflowWrapper=o=>{o.type!==Mn.BLOCK_CHANGE&&o.type!==Mn.BLOCK_FIELD_INTERMEDIATE_CHANGE||this.reflow()},this.workspace_.addChangeListener(this.reflowWrapper)}createFlyoutInfo(e){const o=[],a=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const d of e)"custom"in d&&(e=this.getDynamicCategoryContents(d.custom),e=p(e),o.push(...this.createFlyoutInfo(e))),e=d.kind.toLowerCase(),(e=this.getInflaterForType(e))&&(o.push(e.load(d,this)),(e=e.gapForItem(d,a))&&o.push(new R2(new x3(e,this.horizontalLayout?"x":"y"),bl)));return this.normalizeSeparators(o)}normalizeSeparators(e){for(let o=e.length-1;o>0;o--){const a=e[o].getType().toLowerCase(),d=e[o-1].getType().toLowerCase();a===bl&&d===bl&&e.splice(o-1,1)}return e}getDynamicCategoryContents(e){if(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e),typeof e!="function")throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}clearOldBlocks(){this.getContents().forEach(o=>{let a;(a=this.getInflaterForType(o.getType()))==null||a.disposeItem(o)});let e;(e=this.workspace_.getPotentialVariableMap())==null||e.clear()}onMouseDown(e){const o=this.targetWorkspace.getGesture(e);o&&o.handleFlyoutStart(e,this)}isBlockCreatable(e){return e.isEnabled()&&!this.getTargetWorkspace().isReadOnly()}createBlock(e){let o=null;r.disable$$module$build$src$core$events$utils();var a=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{o=this.placeNewBlock(e)}finally{r.enable$$module$build$src$core$events$utils()}if(this.targetWorkspace.hideChaff(),e=Kr(this.targetWorkspace,a),et()){for(r.setGroup$$module$build$src$core$events$utils(!0),a=0;a<e.length;a++){const d=e[a];de(new(Ut(Mn.VAR_CREATE))(d))}de(new(Ut(Mn.BLOCK_CREATE))(o))}return this.autoClose&&this.hide(),o}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowInternal_(),this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1}placeNewBlock(e){var o=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered");const a=this.serializeBlock(e);return o.setResizesEnabled(!1),o=es(a,o),this.positionNewBlock(e,o),o}serializeBlock(e){return Zr(e)}positionNewBlock(e,o){const a=this.targetWorkspace;var d=a.getOriginOffsetInPixels(),M=this.workspace_.getOriginOffsetInPixels();e=e.getRelativeToSurfaceXY(),e.scale(this.workspace_.scale),M=Qn.sum(M,e),d=Qn.difference(M,d),d.scale(1/a.scale),o.moveTo(new Qn(d.x,d.y))}getInflaterForType(e){if(this.inflaters.has(e)){var o;return(o=this.inflaters.get(e))!=null?o:null}return(o=y(Yn.FLYOUT_INFLATER,e))?(o=new o,this.inflaters.set(e,o),o):null}getFocusableElement(){throw Error("Flyouts are not directly focusable.")}getFocusableTree(){throw Error("Flyouts are not directly focusable.")}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}getRootFocusableNode(){throw Error("Flyouts are not directly focusable.")}getRestoredFocusableNode(e){throw Error("Flyouts are not directly focusable.")}getNestedTrees(){throw Error("Flyouts are not directly focusable.")}lookUpFocusableNode(e){throw Error("Flyouts are not directly focusable.")}onTreeFocus(e,o){}onTreeBlur(e){throw Error("Flyouts are not directly focusable.")}},ku=class{constructor(){this.isActive=!1,this.activeClassName="blocklyKeyboardNavigation"}setIsActive(e=!0){this.isActive=e,this.updateActiveVisualization()}getIsActive(){return this.isActive}updateActiveVisualization(){this.isActive?document.body.classList.add(this.activeClassName):document.body.classList.remove(this.activeClassName)}},k3=new ku,O5=class{constructor(e){this.workspace=e,this.horizontalScrollEnabled=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled=this.workspace.isMovableVertically(),this.startScrollXY_=new Qn(e.scrollX,e.scrollY)}dispose(){this.workspace=null}startDrag(){}endDrag(e){this.drag(e)}drag(e){if(e=Qn.sum(this.startScrollXY_,e),this.horizontalScrollEnabled&&this.verticalScrollEnabled)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled)this.workspace.scroll(e.x,this.workspace.scrollY);else if(this.verticalScrollEnabled)this.workspace.scroll(this.workspace.scrollX,e.y);else throw new TypeError("Invalid state.")}},jh=5,Xf=6,Xh=class{constructor(e,o){this.creatorWorkspace=o,this.mouseDownXY=new Qn(0,0),this.startWorkspace_=this.targetBlock=this.startComment=this.startBlock=this.startIcon=this.startField=this.startBubble=null,this.hasExceededDragRadius=!1,this.boundEvents=[],this.workspaceDragger=this.dragger=null,this.dragging=!1,this.flyout=null,this.multiTouch=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1,this.cachedPoints=new Map,this.startDistance=this.previousScale=0,this.currentDropdownOwner=this.isPinchZoomEnabled=null,this.mostRecentEvent=e,this.currentDragDeltaXY=new Qn(0,0)}dispose(){K(),ps(),this.creatorWorkspace.clearGesture();for(const e of this.boundEvents)Ce(e);this.boundEvents.length=0,this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(e){const o=new Qn(e.clientX,e.clientY);this.updateDragDelta(o)&&(this.updateIsDragging(e),A()),this.mostRecentEvent=e}updateDragDelta(e){return this.currentDragDeltaXY=Qn.difference(e,this.mouseDownXY),this.hasExceededDragRadius?!1:this.hasExceededDragRadius=Qn.magnitude(this.currentDragDeltaXY)>(this.flyout?r.config$$module$build$src$core$config.flyoutDragRadius:r.config$$module$build$src$core$config.dragRadius)}updateIsDraggingFromFlyout(){let e;if(!this.targetBlock||(e=this.flyout)==null||!e.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error(`Cannot update dragging from the flyout because the ' +
          'flyout's target workspace is undefined`);return!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)?(this.startWorkspace_=this.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),r.getGroup$$module$build$src$core$events$utils()||r.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),!0):!1}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.dragging=!0,this.workspaceDragger=new O5(this.startWorkspace_),this.workspaceDragger.startDrag())}updateIsDragging(e){if(!this.startWorkspace_)throw Error("Cannot update dragging because the start workspace is undefined");if(this.calledUpdateIsDragging)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging=!0,this.flyout&&this.updateIsDraggingFromFlyout();const o=Je();o&&Xi(o)&&o.isMovable()?(this.dragging=!0,this.dragger=this.createDragger(o,this.startWorkspace_),this.dragger.onDragStart(e),this.dragger.onDrag(e,this.currentDragDeltaXY)):this.updateIsDraggingWorkspace()}createDragger(e,o){return new(w(Yn.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(e,o)}doStart(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,Oe(e)?this.cancel():(this.gestureHasStarted=!0,ir(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=Bc(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=e,xi(),ce(e)?this.handleRightClick(e):(e.type.toLowerCase()==="pointerdown"&&e.pointerType!=="mouse"&&I(e,this),this.mouseDownXY=new Qn(e.clientX,e.clientY),this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}bindMouseEvents(e){this.boundEvents.push(le(document,"pointerdown",null,this.handleStart.bind(this),!0)),this.boundEvents.push(le(document,"pointermove",null,this.handleMove.bind(this),!0)),this.boundEvents.push(le(document,"pointerup",null,this.handleUp.bind(this),!0)),this.boundEvents.push(le(document,"pointercancel",null,this.handleUp.bind(this),!0)),e.preventDefault(),e.stopPropagation()}handleStart(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&A())}handleMove(e){this.isDragging()&&ne(e)||!this.isMultiTouch()?(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),A())}handleUp(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!ne(e))return;if(this.updateFromEvent(e),A(),this.isEnding_){console.log("Trying to end a gesture recursively.");return}this.isEnding_=!0,this.dragger?(k3.setIsActive(!1),this.dragger.onDragEnd(e,this.currentDragDeltaXY)):this.workspaceDragger?(k3.setIsActive(!1),this.workspaceDragger.endDrag(this.currentDragDeltaXY)):this.isBubbleClick()||this.isCommentClick()||(this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(e))}e.preventDefault(),e.stopPropagation(),this.dispose()}handleTouchStart(e){var o=he(e);this.cachedPoints.set(o,this.getTouchPoint(e));var a=Array.from(this.cachedPoints.keys());a.length===2&&(o=this.cachedPoints.get(a[0]),a=this.cachedPoints.get(a[1]),this.startDistance=Qn.distance(o,a),this.multiTouch=!0,e.preventDefault())}handleTouchMove(e){const o=he(e);this.cachedPoints.set(o,this.getTouchPoint(e)),this.isPinchZoomEnabled&&this.cachedPoints.size===2?this.handlePinch(e):(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation())}handlePinch(e){var o=Array.from(this.cachedPoints.keys()),a=this.cachedPoints.get(o[0]);if(o=this.cachedPoints.get(o[1]),a=Qn.distance(a,o)/this.startDistance,this.previousScale>0&&this.previousScale<1/0){if(o=a-this.previousScale,o=o>0?o*jh:o*Xf,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");const d=this.startWorkspace_,M=Be(e,d.getParentSvg(),d.getInverseScreenCTM());d.zoom(M.x,M.y,o)}this.previousScale=a,e.preventDefault()}handleTouchEnd(e){e=he(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),this.cachedPoints.size<2&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(e){return this.startWorkspace_?new Qn(e.pageX,e.pageY):null}isMultiTouch(){return this.multiTouch}cancel(){this.isEnding_||(A(),this.dragger?this.dragger.onDragEnd(this.mostRecentEvent,this.currentDragDeltaXY):this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY),this.dispose())}handleRightClick(e){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(e)):this.startBubble?this.startBubble.showContextMenu(e):this.startComment?(this.startComment.workspace.hideChaff(),this.startComment.showContextMenu(e)):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startWorkspace_),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),k3.setIsActive(!1),this.dispose()}handleWsStart(e,o){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace(o),this.mostRecentEvent=e,this.startBlock||this.startBubble||this.startComment?this.startBlock&&r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startBlock):r.getFocusManager$$module$build$src$core$focus_manager().focusNode(o),this.doStart(e)}fireWorkspaceClick(e){de(new(Ut(Mn.CLICK))(null,e.id,"workspace"))}handleFlyoutStart(e,o){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout(o),this.handleWsStart(e,o.getWorkspace())}handleBlockStart(e,o){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(o),this.mostRecentEvent=e}handleBubbleStart(e,o){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(o),this.mostRecentEvent=e}handleCommentStart(e,o){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleCommentStart, but the gesture had already been started.");this.setStartComment(o),this.mostRecentEvent=e}doFieldClick(){if(!this.startField)throw Error("Cannot do a field click because the start field is undefined");this.bringBlockToFront(),this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent)}doIconClick(){if(!this.startIcon)throw Error("Cannot do an icon click because the start icon is undefined");this.bringBlockToFront(),this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error("Cannot do a block click because the target block is undefined");if(this.flyout.isBlockCreatable(this.targetBlock)){r.getGroup$$module$build$src$core$events$utils()||r.setGroup$$module$build$src$core$events$utils(!0);var e=this.flyout.createBlock(this.targetBlock);e.snapToGrid(),e.bumpNeighbours(),r.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");e=new(Ut(Mn.CLICK))(this.startBlock,this.startWorkspace_.id,"block"),de(e)}this.bringBlockToFront(),r.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(e){this.fireWorkspaceClick(this.startWorkspace_||this.creatorWorkspace)}bringBlockToFront(){this.targetBlock&&!this.flyout&&(r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),this.targetBlock.bringToFront())}setStartField(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField||(this.startField=e)}setStartIcon(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartIcon, but the gesture had already been started.");this.startIcon||(this.startIcon=e)}setStartBubble(e){this.startBubble||(this.startBubble=e)}setStartComment(e){this.startComment||(this.startComment=e)}setStartBlock(e){this.startBlock||this.startBubble||(this.startBlock=e,e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock(e.getRootBlock()):this.setTargetBlock(e))}setTargetBlock(e){e.isShadow()?this.setTargetBlock(e.getParent()):(this.targetBlock=e,r.getFocusManager$$module$build$src$core$focus_manager().focusNode(e))}setStartWorkspace(e){this.startWorkspace_||(this.startWorkspace_=e)}setStartFlyout(e){this.flyout||(this.flyout=e)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isCommentClick(){return!!this.startComment&&!this.hasExceededDragRadius}isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}isFieldClick(){return this.startField?this.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose)):!1}isIconClick(){if(!this.startIcon)return!1;const e=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&e}isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}getCurrentDragger(){let e,o;return(o=(e=this.workspaceDragger)!=null?e:this.dragger)!=null?o:null}isDragging(){return this.dragging}hasStarted(){return this.gestureHasStarted}static inProgress(){const e=Ot();for(let o=0,a;a=e[o];o++)if(a.currentGesture_)return!0;return!1}},F2=class{constructor(e,o){this.pattern=e,this.scale=1;let a;this.spacing=(a=o.spacing)!=null?a:0;let d;this.length=(d=o.length)!=null?d:1,this.line2=(this.line1=e.firstChild)&&this.line1.nextSibling;let M;this.snapToGrid=(M=o.snap)!=null?M:!1}setSpacing(e){this.spacing=e,this.update(this.scale)}getSpacing(){return this.spacing}setLength(e){this.length=e,this.update(this.scale)}getLength(){return this.length}setSnapToGrid(e){this.snapToGrid=e}shouldSnap(){return this.snapToGrid}getPatternId(){return this.pattern.id}update(e){this.scale=e;var o=this.spacing*e;this.pattern.setAttribute("width",`${o}`),this.pattern.setAttribute("height",`${o}`),o=Math.floor(this.spacing/2)+.5;let a=o-this.length/2,d=o+this.length/2;o*=e,a*=e,d*=e,this.setLineAttributes(this.line1,e,a,d,o,o),this.setLineAttributes(this.line2,e,o,o,a,d)}setLineAttributes(e,o,a,d,M,oe){e&&(e.setAttribute("stroke-width",`${o}`),e.setAttribute("x1",`${a}`),e.setAttribute("y1",`${M}`),e.setAttribute("x2",`${d}`),e.setAttribute("y2",`${oe}`))}moveTo(e,o){this.pattern.setAttribute("x",`${e}`),this.pattern.setAttribute("y",`${o}`)}alignXY(e){var o=this.getSpacing();const a=o/2,d=Math.round(Math.round((e.x-a)/o)*o+a);return o=Math.round(Math.round((e.y-a)/o)*o+a),d===e.x&&o===e.y?e:new Qn(d,o)}static createDom(e,o,a,d){e=Me(Tn.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},a);let M,oe;if(((M=o.length)!=null?M:1)>0&&((oe=o.spacing)!=null?oe:0)>0){Me(Tn.LINE,{stroke:o.colour},e);let at;(at=o.length)!=null&&at&&Me(Tn.LINE,{stroke:o.colour},e)}else Me(Tn.LINE,{},e);return d&&d.style.setProperty("--blocklyGridPattern",`url(#${e.id})`),e}},d8=class{constructor(e){this.workspace=e,this.layers=new Map,(e=e.getInjectionDiv())&&(this.dragLayer=this.createDragLayer(e),this.animationLayer=this.createAnimationLayer(e)),e=this.createLayer(uc),ut(e,"blocklyBlockCanvas"),e=this.createLayer(Uh),ut(e,"blocklyBubbleCanvas")}createDragLayer(e){const o=Me(Tn.SVG,{class:"blocklyBlockDragSurface",xmlns:g2,"xmlns:html":$u,"xmlns:xlink":C0,version:"1.1"});return e.append(o),Me(Tn.G,{},o)}createAnimationLayer(e){const o=Me(Tn.SVG,{class:"blocklyAnimationLayer",xmlns:g2,"xmlns:html":$u,"xmlns:xlink":C0,version:"1.1"});return e.append(o),Me(Tn.G,{},o)}appendToAnimationLayer(e){let o;const a=(o=this.dragLayer)==null?void 0:o.getAttribute("transform");if(a){let M;(M=this.animationLayer)==null||M.setAttribute("transform",a)}let d;(d=this.animationLayer)==null||d.appendChild(e.getSvgRoot())}translateLayers(e,o){e=`translate(${e.x}, ${e.y}) scale(${o})`;let a;(a=this.dragLayer)==null||a.setAttribute("transform",e);for(const[,d]of this.layers)d.setAttribute("transform",e)}moveToDragLayer(e){let o;(o=this.dragLayer)==null||o.appendChild(e.getSvgRoot()),e.canBeFocused()&&r.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}moveOffDragLayer(e,o){this.append(e,o),e.canBeFocused()&&r.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}append(e,o){this.layers.has(o)||this.createLayer(o),e=e.getSvgRoot();let a;if(((a=this.layers.get(o))==null?void 0:a.lastChild)!==e){let d;(d=this.layers.get(o))==null||d.appendChild(e)}}createLayer(e){const o=this.workspace.getSvgGroup(),a=Me(Tn.G,{});let d=!1;const M=[...this.layers].sort((oe,at)=>oe[0]-at[0]);for(const[oe,at]of M)if(e<oe){o.insertBefore(a,at),d=!0;break}return d||o.appendChild(a),this.layers.set(e,a),a}hasLayer(e){return e===this.dragLayer||new Set(this.layers.values()).has(e)}getBlockLayer(){return this.layers.get(uc)}getBubbleLayer(){return this.layers.get(Uh)}},p8=class{constructor(){this.curNode=this.colour=null,this.type="marker"}getCurNode(){return this.curNode}setCurNode(e){this.curNode=e}dispose(){this.curNode=null}getSourceBlockFromNode(e){return e instanceof Ss?e:e instanceof cs||e instanceof Xo?e.getSourceBlock():null}getSourceBlock(){return this.getSourceBlockFromNode(this.getCurNode())}},U2=class extends p8{constructor(e){super(),this.workspace=e,this.type="cursor",this.potentialNodes=null}next(){var e=this.getCurNode();return e?((e=this.getNextNode(e,o=>{let a;return o instanceof Ss&&!((a=o.outputConnection)!=null&&a.targetBlock())||o instanceof Il},!0))&&this.setCurNode(e),e):null}in(){var e=this.getCurNode();return e?((e=this.getNextNode(e,()=>!0,!0))&&this.setCurNode(e),e):null}prev(){var e=this.getCurNode();return e?((e=this.getPreviousNode(e,o=>{let a;return o instanceof Ss&&!((a=o.outputConnection)!=null&&a.targetBlock())||o instanceof Il},!0))&&this.setCurNode(e),e):null}out(){var e=this.getCurNode();return e?((e=this.getPreviousNode(e,()=>!0,!0))&&this.setCurNode(e),e):null}atEndOfLine(){var e=this.getCurNode();if(!e)return!1;const o=this.getNextNode(e,()=>!0,!0);return e=this.getNextNode(e,a=>{let d;return a instanceof Ss&&!((d=a.outputConnection)!=null&&d.targetBlock())},!0),o===e}getNextNodeImpl(e,o,a=new Set){if(!e||a.has(e))return null;let d=this.workspace.getNavigator().getFirstChild(e)||this.workspace.getNavigator().getNextSibling(e);for(var M=e;M&&!d&&(M=this.workspace.getNavigator().getParent(M),!!M);)d=this.workspace.getNavigator().getNextSibling(M);return o(d)?d:d?(a.add(e),this.getNextNodeImpl(d,o,a)):null}getNextNode(e,o,a){return!e||!a&&this.getLastNode()===e?null:this.getNextNodeImpl(e,o)}getPreviousNodeImpl(e,o,a=new Set){if(!e||a.has(e))return null;const d=this.getRightMostChild(this.workspace.getNavigator().getPreviousSibling(e),e)||this.workspace.getNavigator().getParent(e);return o(d)?d:d?(a.add(e),this.getPreviousNodeImpl(d,o,a)):null}getPreviousNode(e,o,a){return!e||!a&&this.getFirstNode()===e?null:this.getPreviousNodeImpl(e,o)}getRightMostChild(e,o){if(!e)return e;let a=this.workspace.getNavigator().getFirstChild(e);if(!a||a===o)return e;for(e=a;e&&e!==o;e=this.workspace.getNavigator().getNextSibling(a))a=e;return this.getRightMostChild(a,o)}preDelete(e){var o=this.getCurNode();o=o?[o]:[];var a;let d,M;const oe=(M=(a=e.previousConnection)==null?void 0:a.targetConnection)!=null?M:(d=e.outputConnection)==null?void 0:d.targetConnection;oe&&o.push(oe),(a=e.getNextBlock())&&o.push(a),(e=e.getParent())&&o.push(e),o.push(this.workspace),this.potentialNodes=o}postDelete(){const e=this.potentialNodes;if(this.potentialNodes=null,!e)throw Error("must call preDelete first");for(const o of e){let a;if((a=this.getSourceBlockFromNode(o))==null||!a.disposed){this.setCurNode(o);return}}throw Error("no valid nodes in this.potentialNodes")}getCurNode(){return r.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()}setCurNode(e){r.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}getFirstNode(){return this.workspace.getNavigator().getFirstChild(this.workspace)}getLastNode(){const e=this.getFirstNode();return this.getPreviousNode(e,()=>!0,!0)}};i(Yn.CURSOR,B0,U2);var z2=class{constructor(e){this.workspace=e,this.markers=new Map,this.cursor=new U2(this.workspace)}registerMarker(e,o){this.markers.has(e)&&this.unregisterMarker(e),this.markers.set(e,o)}unregisterMarker(e){const o=this.markers.get(e);if(o)o.dispose(),this.markers.delete(e);else throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.")}getCursor(){return this.cursor}getMarker(e){return this.markers.get(e)||null}setCursor(e){this.cursor=e}dispose(){const e=Object.keys(this.markers);for(let o=0,a;a=e[o];o++)this.unregisterMarker(a);this.markers.clear(),this.cursor.dispose()}};z2.LOCAL_MARKER="local_marker_1";var Au={};Au.CommentIcon=$l,Au.Icon=m1,Au.IconType=Ws,Au.MutatorIcon=r.MutatorIcon$$module$build$src$core$icons$mutator_icon,Au.WarningIcon=Va,Au.exceptions=_5,Au.registry=B2,r.Names$$module$build$src$core$names=class{constructor(e,o){this.db=new Map,this.dbReverse=new Set,this.variableMap=null,this.variablePrefix=o||"",this.reservedWords=new Set(e?e.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap=null}setVariableMap(e){this.variableMap=e}getNameForUserVariable(e){return this.variableMap?(e=this.variableMap.getVariableById(e))?e.getName():null:(console.warn(`Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:
Blockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());`),null)}populateVariables(e){e=r.allUsedVarModels$$module$build$src$core$variables(e);for(let o=0;o<e.length;o++)this.getName(e[o].getId(),r.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(e,o){let a=e;o===r.NameType$$module$build$src$core$names.VARIABLE&&(e=this.getNameForUserVariable(e))&&(a=e),e=a.toLowerCase();const d=o===r.NameType$$module$build$src$core$names.VARIABLE||o===r.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"";this.db.has(o)||this.db.set(o,new Map);const M=this.db.get(o);return M.has(e)?d+M.get(e):(o=this.getDistinctName(a,o),M.set(e,o.substr(d.length)),o)}getUserNames(e){let o;return(e=(o=this.db.get(e))==null?void 0:o.keys())?Array.from(e):[]}getDistinctName(e,o){e=this.safeName(e);let a=null,d,M;for(;this.dbReverse.has(e+((d=a)!=null?d:""))||this.reservedWords.has(e+((M=a)!=null?M:""));)a=a?a+1:2;let oe;return e+=(oe=a)!=null?oe:"",this.dbReverse.add(e),(o===r.NameType$$module$build$src$core$names.VARIABLE||o===r.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"")+e}safeName(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),"0123456789".includes(e[0])&&(e="my_"+e)):e=r.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed",e}static equals(e,o){return e.toLowerCase()===o.toLowerCase()}},(function(e){e=e.NameType||(e.NameType={}),e.DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",e.VARIABLE="VARIABLE",e.PROCEDURE="PROCEDURE"})(r.Names$$module$build$src$core$names||(r.Names$$module$build$src$core$names={})),r.NameType$$module$build$src$core$names=r.Names$$module$build$src$core$names.NameType,r.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=r.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,r.NameType$$module$build$src$core$names,r.Names$$module$build$src$core$names;var _1=class extends Map{constructor(){super()}set(e,o){return this.get(e)===o?this:(super.set(e,o),ws(o)&&o.startPublishing(),this)}delete(e){const o=this.get(e);return e=super.delete(e),e&&(ws(o)&&o.stopPublishing(),e)}clear(){if(this.size)for(const e of this.keys())this.delete(e)}add(e){return this.set(e.getId(),e)}getProcedures(){return[...this.values()]}},Yh,Ko;Yh="PROCEDURE",r.DEFAULT_ARG$$module$build$src$core$procedures="x",Ko={CATEGORY_NAME:Yh,DEFAULT_ARG:r.DEFAULT_ARG$$module$build$src$core$procedures},Ko.ObservableProcedureMap=_1,Ko.allProcedures=Do,Ko.findLegalName=r.findLegalName$$module$build$src$core$procedures,Ko.flyoutCategory=x0,Ko.getCallers=w4,Ko.getDefinition=r.getDefinition$$module$build$src$core$procedures,Ko.internalFlyoutCategory=Ql,Ko.isNameUsed=Kc,Ko.isProcedureBlock=Hi,Ko.mutateCallers=r.mutateCallers$$module$build$src$core$procedures,Ko.mutatorOpenListener=Sa,Ko.rename=r.rename$$module$build$src$core$procedures;var A3=class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}getType(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}isField(e){return(e.type&this.FIELD)>=1}isHat(e){return(e.type&this.HAT)>=1}isIcon(e){return(e.type&this.ICON)>=1}isSpacer(e){return(e.type&this.SPACER)>=1}isInRowSpacer(e){return(e.type&this.IN_ROW_SPACER)>=1}isSpacerRow(e){return(e.type&this.BETWEEN_ROW_SPACER)>=1}isInput(e){return(e.type&this.INPUT)>=1}isExternalInput(e){return(e.type&this.EXTERNAL_VALUE_INPUT)>=1}isInlineInput(e){return(e.type&this.INLINE_INPUT)>=1}isStatementInput(e){return(e.type&this.STATEMENT_INPUT)>=1}isPreviousConnection(e){return(e.type&this.PREVIOUS_CONNECTION)>=1}isNextConnection(e){return(e.type&this.NEXT_CONNECTION)>=1}isPreviousOrNextConnection(e){return this.isPreviousConnection(e)||this.isNextConnection(e)}isRoundCorner(e){return(e.type&this.LEFT_ROUND_CORNER)>=1||(e.type&this.RIGHT_ROUND_CORNER)>=1}isLeftRoundedCorner(e){return this.isRoundCorner(e)&&(e.type&this.LEFT_ROUND_CORNER)>=1}isRightRoundedCorner(e){return this.isRoundCorner(e)&&(e.type&this.RIGHT_ROUND_CORNER)>=1}isLeftSquareCorner(e){return(e.type&this.LEFT_SQUARE_CORNER)>=1}isRightSquareCorner(e){return(e.type&this.RIGHT_SQUARE_CORNER)>=1}isCorner(e){return(e.type&this.CORNER)>=1}isJaggedEdge(e){return(e.type&this.JAGGED_EDGE)>=1}isRow(e){return(e.type&this.ROW)>=1}isBetweenRowSpacer(e){return(e.type&this.BETWEEN_ROW_SPACER)>=1}isTopRow(e){return(e.type&this.TOP_ROW)>=1}isBottomRow(e){return(e.type&this.BOTTOM_ROW)>=1}isTopOrBottomRow(e){return this.isTopRow(e)||this.isBottomRow(e)}isInputRow(e){return(e.type&this.INPUT_ROW)>=1}},rn=new A3,qa=class{constructor(e){this.centerline=this.xPos=this.height=this.width=0,this.constants_=e,this.type=rn.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},pc=class{constructor(e){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=e,this.type=rn.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let e=this.elements.length-1;e>=0;e--){const o=this.elements[e];if(rn.isInput(o))return o}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let e=0;e<this.elements.length;e++){const o=this.elements[e];if(rn.isInRowSpacer(o))return o}return null}getLastSpacer(){for(let e=this.elements.length-1;e>=0;e--){const o=this.elements[e];if(rn.isInRowSpacer(o))return o}return null}},l=class extends pc{constructor(e){super(e),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=rn.BOTTOM_ROW}hasLeftSquareCorner(e){return!!e.outputConnection||!!e.getNextBlock()}hasRightSquareCorner(e){return!0}measure(){let e=0,o=0,a=0;for(let d=0;d<this.elements.length;d++){const M=this.elements[d];o+=M.width,rn.isSpacer(M)||(rn.isNextConnection(M)?a=Math.max(a,M.height):e=Math.max(e,M.height))}this.width=Math.max(this.minWidth,o),this.height=Math.max(this.minHeight,e)+a,this.descenderHeight=a,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},c=class extends qa{constructor(e,o){super(e),this.connectionModel=o,this.type|=rn.CONNECTION,this.shape=this.constants_.shapeFor(o),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.highlighted=o.isHighlighted()}},m=class extends c{constructor(e,o){super(e,o.connection),this.input=o,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=rn.INPUT,this.align=o.align,(this.connectedBlock=o.connection&&o.connection.targetBlock()?o.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},E=class extends m{constructor(e,o){super(e,o),this.height=0,this.type|=rn.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},U=class extends qa{constructor(e,o,a){super(e),this.field=o,this.parentInput=a,this.isEditable=o.EDITABLE,this.flipRtl=o.getFlipRtl(),this.type|=rn.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width}},Z=class extends qa{constructor(e){super(e),this.type|=rn.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},Ve=class extends qa{constructor(e,o){super(e),this.icon=o,this.flipRtl=!1,this.type|=rn.ICON,e=o.getSize(),this.height=e.height,this.width=e.width}},At=class extends qa{constructor(e,o){super(e),this.type|=rn.SPACER|rn.IN_ROW_SPACER,this.width=o,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},Qt=class extends m{constructor(e,o){super(e,o),this.type|=rn.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},An=class extends pc{constructor(e){super(e),this.connectedBlockWidths=0,this.type|=rn.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let e=0;for(let o=0;o<this.elements.length;o++){const a=this.elements[o];this.width+=a.width,rn.isInput(a)&&(rn.isStatementInput(a)?e+=a.connectedBlockWidth:rn.isExternalInput(a)&&a.connectedBlockWidth!==0&&(e+=a.connectedBlockWidth-a.connectionWidth)),rn.isSpacer(a)||(this.height=Math.max(this.height,a.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},Kn=class extends qa{constructor(e){super(e),this.type|=rn.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},rr=class extends c{constructor(e,o){super(e,o),this.type|=rn.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},Bn=class extends c{constructor(e,o){super(e,o),this.connectionOffsetX=0,this.type|=rn.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},Gn=class extends c{constructor(e,o){super(e,o),this.type|=rn.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},Dr=class extends qa{constructor(e,o){super(e),this.type=(o&&o!=="left"?rn.RIGHT_ROUND_CORNER:rn.LEFT_ROUND_CORNER)|rn.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},ti=class extends pc{constructor(e,o,a){super(e),this.height=o,this.width=a,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type|=rn.SPACER|rn.BETWEEN_ROW_SPACER,this.elements=[new At(this.constants_,a)]}measure(){}},is=class extends qa{constructor(e,o){super(e),this.type=(o&&o!=="left"?rn.RIGHT_SQUARE_CORNER:rn.LEFT_SQUARE_CORNER)|rn.CORNER,this.width=this.height=this.constants_.NO_PADDING}},yn=class extends m{constructor(e,o){super(e,o),this.type|=rn.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},on=class extends pc{constructor(e){super(e),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=rn.TOP_ROW}hasLeftSquareCorner(e){const o=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,a=e.getPreviousBlock();return!!e.outputConnection||o||(a?a.getNextBlock()===e:!1)}hasRightSquareCorner(e){return!0}measure(){let e=0,o=0,a=0;for(let d=0;d<this.elements.length;d++){const M=this.elements[d];o+=M.width,rn.isSpacer(M)||(rn.isHat(M)?a=Math.max(a,M.ascenderHeight):e=Math.max(e,M.height))}this.width=Math.max(this.minWidth,o),this.height=Math.max(this.minHeight,e)+a,this.capline=this.ascenderHeight=a,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},kn=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs=null,this.embossFilterId="",this.embossFilter=null,this.disabledPatternId="",this.disabledPattern=null,this.debugFilterId="",this.cssNode=this.debugFilter=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=ls(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(e){this.blockStyles=Object.create(null);const o=e.blockStyles;for(const a in o)this.blockStyles[a]=this.validatedBlockStyle_(o[a]);this.setDynamicProperties_(e)}setDynamicProperties_(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=e.startHats!==void 0?e.startHats:this.ADD_START_HATS}setFontConstants_(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=P("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}setComponentConstants_(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(e){const o="auto_"+e;return this.blockStyles[o]||(this.blockStyles[o]=this.createBlockStyle_(e)),{style:this.blockStyles[o],name:o}}getBlockStyle(e){return this.blockStyles[e||""]||(e&&e.startsWith("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(e){return this.validatedBlockStyle_({colourPrimary:e})}validatedBlockStyle_(e){const o={};return e&&Object.assign(o,e),e=os(o.colourPrimary||"#000"),o.colourPrimary=e.hex,o.colourSecondary=o.colourSecondary?os(o.colourSecondary).hex:this.generateSecondaryColour_(o.colourPrimary),o.colourTertiary=o.colourTertiary?os(o.colourTertiary).hex:this.generateTertiaryColour_(o.colourPrimary),o.hat=o.hat||"",o}generateSecondaryColour_(e){return So("#fff",e,.6)||e}generateTertiaryColour_(e){return So("#fff",e,.3)||e}dispose(){this.embossFilter&&se(this.embossFilter),this.disabledPattern&&se(this.disabledPattern),this.debugFilter&&se(this.debugFilter),this.cssNode=null}makeJaggedTeeth(){const e=this.JAGGED_TEETH_HEIGHT,o=this.JAGGED_TEETH_WIDTH,a=S([Hr(o,e/4),Hr(-o*2,e/2),Hr(o,e/4)]);return{height:e,width:o,path:a}}makeStartHat(){const e=this.START_HAT_HEIGHT,o=this.START_HAT_WIDTH,a=S0("c",[Hr(30,-e),Hr(70,-e),Hr(o,0)]);return{height:e*.75,width:o,path:a}}makePuzzleTab(){function e(oe){oe=oe?-1:1;const at=-oe;var qt=a/2;const Wn=qt+2.5,Gr=qt+.5,po=Hr(-o,oe*qt);return qt=Hr(o,oe*qt),S0("c",[Hr(0,oe*Wn),Hr(-o,at*Gr),po])+S0("s",[Hr(o,at*2.5),qt])}const o=this.TAB_WIDTH,a=this.TAB_HEIGHT,d=e(!0),M=e(!1);return{type:this.SHAPES.PUZZLE,width:o,height:a,pathDown:M,pathUp:d}}makeNotch(){function e(at){return S([Hr(at*d,a),Hr(at*3,0),Hr(at*d,-a)])}const o=this.NOTCH_WIDTH,a=this.NOTCH_HEIGHT,d=(o-3)/2,M=e(1),oe=e(-1);return{type:this.SHAPES.NOTCH,width:o,height:a,pathLeft:M,pathRight:oe}}makeInsideCorners(){const e=this.CORNER_RADIUS,o=C("a","0 0,0",e,Hr(-e,e)),a=C("a","0 0,0",e,Hr(e,e));return{width:e,height:e,pathTop:o,pathBottom:a}}makeOutsideCorners(){const e=this.CORNER_RADIUS,o=ls(0,e)+C("a","0 0,1",e,Hr(e,-e)),a=C("a","0 0,1",e,Hr(e,e)),d=C("a","0 0,1",e,Hr(-e,-e)),M=C("a","0 0,1",e,Hr(-e,e));return{topLeft:o,topRight:a,bottomRight:M,bottomLeft:d,rightHeight:e}}shapeFor(e){switch(e.type){case Or.INPUT_VALUE:case Or.OUTPUT_VALUE:return this.PUZZLE_TAB;case Or.PREVIOUS_STATEMENT:case Or.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(e,o,a,d){this.injectCSS_(o,a),this.defs=Me(Tn.DEFS,{},e),e=Me(Tn.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs),Me(Tn.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),o=Me(Tn.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),Me(Tn.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},o),Me(Tn.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),Me(Tn.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter=e,e=Me(Tn.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs),Me(Tn.RECT,{width:10,height:10,fill:"#aaa"},e),Me(Tn.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern=e,this.createDebugFilter(),d&&(d.style.setProperty("--blocklyEmbossFilter",`url(#${this.embossFilterId})`),d.style.setProperty("--blocklyDisabledPattern",`url(#${this.disabledPatternId})`),d.style.setProperty("--blocklyDebugFilter",`url(#${this.debugFilterId})`))}createDebugFilter(){if(!this.debugFilter){const e=Me(Tn.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs),o=Me(Tn.FECOMPONENTTRANSFER,{result:"outBlur"},e);Me(Tn.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},o),Me(Tn.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),Me(Tn.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter=e}}injectCSS_(e,o){o=this.getCSS_(o),e="blockly-renderer-style-"+e,this.cssNode=document.getElementById(e);const a=o.join(`
`);this.cssNode?this.cssNode.firstChild.textContent=a:(o=document.createElement("style"),o.id=e,e=document.createTextNode(a),o.appendChild(e),document.head.insertBefore(o,document.head.firstChild),this.cssNode=o)}getCSS_(e){return[`${e} .blocklyText, `,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableField>rect,`,`${e} .blocklyEditableField>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",`${e} .blocklyNonEditableField>text,`,`${e} .blocklyEditableField>text {`,"fill: #000;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #000;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #000;","}",`${e} .blocklyEditableField:not(.blocklyEditing):hover>rect {`,"stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",`${e} .blocklySelected>.blocklyPath {`,"stroke: #fc3;","stroke-width: 3px;","}",`${e} .blocklyHighlightedConnectionPath {`,"stroke: #fc3;","}",`${e} .blocklyReplaceable .blocklyPath {`,"fill-opacity: .5;","}",`${e} .blocklyReplaceable .blocklyPathLight,`,`${e} .blocklyReplaceable .blocklyPathDark {`,"display: none;","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},Jn=class{constructor(e,o){this.inlinePath_=this.outlinePath_="",this.block_=e,this.info_=o,this.topLeft_=e.getRelativeToSurfaceXY(),this.constants_=o.getRenderer().getConstants()}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),this.block_.pathObject.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),this.recordSizeOnBlock_()}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren,this.block_.childlessWidth=this.info_.width}drawOutline_(){this.drawTop_();for(let e=1;e<this.info_.rows.length-1;e++){const o=this.info_.rows[e];o.hasJaggedEdge?this.drawJaggedEdge_(o):o.hasStatement?this.drawStatementInput_(o):o.hasExternalInput?this.drawValueInput_(o):this.drawRightSideRow_(o)}this.drawBottom_(),this.drawLeft_()}drawTop_(){const e=this.info_.topRow,o=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=ls(e.xPos,this.info_.startY);for(let a=0,d;d=o[a];a++)rn.isLeftRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:rn.isRightRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:rn.isPreviousConnection(d)?this.outlinePath_+=d.shape.pathLeft:rn.isHat(d)?this.outlinePath_+=this.constants_.START_HAT.path:rn.isSpacer(d)&&(this.outlinePath_+=_("h",d.width));this.outlinePath_+=_("v",e.height-e.ascenderHeight)}drawJaggedEdge_(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+_("v",e.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(e){const o=e.getLastInput();this.positionExternalValueConnection_(e);const a=d0(o.shape)?o.shape.pathDown(o.height):o.shape.pathDown;this.outlinePath_+=_("H",o.xPos+o.width)+a+_("v",e.height-o.connectionHeight)}drawStatementInput_(e){var o=e.getLastInput();if(o){var a=o.xPos+o.notchOffset+o.shape.width;o=o.shape.pathRight+_("h",-(o.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var d=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=_("H",a)+o+_("v",d)+this.constants_.INSIDE_CORNERS.pathBottom+_("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}drawRightSideRow_(e){this.outlinePath_+=_("V",e.yPos+e.height)}drawBottom_(){const e=this.info_.bottomRow,o=e.elements;this.positionNextConnection_();let a=0,d="";for(let M=o.length-1,oe;oe=o[M];M--)rn.isNextConnection(oe)?d+=oe.shape.pathRight:rn.isLeftSquareCorner(oe)?d+=_("H",e.xPos):rn.isLeftRoundedCorner(oe)?d+=this.constants_.OUTSIDE_CORNERS.bottomLeft:rn.isRightRoundedCorner(oe)?(d+=this.constants_.OUTSIDE_CORNERS.bottomRight,a=this.constants_.OUTSIDE_CORNERS.rightHeight):rn.isSpacer(oe)&&(d+=_("h",oe.width*-1));this.outlinePath_+=_("V",e.baseline-a),this.outlinePath_+=d}drawLeft_(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){const o=e.connectionOffsetY+e.height;e=d0(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=_("V",o)+e}this.outlinePath_+="z"}drawInternals_(){for(let e=0,o;o=this.info_.rows[e];e++)for(let a=0,d;d=o.elements[a];a++)rn.isInlineInput(d)?this.drawInlineInput_(d):(rn.isIcon(d)||rn.isField(d))&&this.layoutField_(d)}layoutField_(e){const o=e.centerline-e.height/2;let a=e.xPos;var d="";this.info_.RTL&&(a=-(a+e.width),e.flipRtl&&(a+=e.width,d="scale(-1 1)")),rn.isIcon(e)?(d=e.icon,d.setOffsetInBlock(new Qn(a,o)),this.info_.isInsertionMarker&&d.hideForInsertionMarker()):(e=e.field.getSvgRoot(),e.setAttribute("transform","translate("+a+","+o+")"+d),this.info_.isInsertionMarker&&e.setAttribute("display","none"))}drawInlineInput_(e){const o=e.width,a=e.height,d=e.connectionOffsetY,M=e.connectionHeight+d;this.inlinePath_+=xo(e.xPos+e.connectionWidth,e.centerline-a/2)+_("v",d)+e.shape.pathDown+_("v",a-M)+_("h",o-e.connectionWidth)+_("v",-a)+"z",this.positionInlineInputConnection_(e)}positionInlineInputConnection_(e){const o=e.centerline-e.height/2;if(e.connectionModel){let a=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(a*=-1),e.connectionModel.setOffsetInBlock(a,o+e.connectionOffsetY)}}positionStatementInputConnection_(e){const o=e.getLastInput();if(o!=null&&o.connectionModel){let a=e.xPos+e.statementEdge+o.notchOffset;this.info_.RTL&&(a*=-1),o.connectionModel.setOffsetInBlock(a,e.yPos)}}positionExternalValueConnection_(e){const o=e.getLastInput();if(o&&o.connectionModel){let a=e.xPos+e.width;this.info_.RTL&&(a*=-1),o.connectionModel.setOffsetInBlock(a,e.yPos)}}positionPreviousConnection_(){const e=this.info_.topRow;if(e.connection){const o=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-o:o,0)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const o=e.connection,a=o.xPos;o.connectionModel.setOffsetInBlock(this.info_.RTL?-a:a,e.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}updateConnectionHighlights(){for(const e of this.info_.rows)for(const o of e.elements){if(!(o instanceof c))continue;const a=this.drawConnectionHighlightPath(o);a&&(a.style.display=o.highlighted?"":"none")}}drawConnectionHighlightPath(e){const o=e.connectionModel;e=o.type===Or.INPUT_VALUE||o.type===Or.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(e):this.getStatementConnectionHighlightPath(e);const a=o.getSourceBlock();let d,M;return(M=(d=a.pathObject).addConnectionHighlight)==null?void 0:M.call(d,o,e,o.getOffsetInBlock(),a.RTL)}getExpressionConnectionHighlightPath(e){let o="";return d0(e.shape)?o=e.shape.pathDown(e.height):uo(e.shape)&&(o=e.shape.pathDown),e=this.constants_.TAB_OFFSET_FROM_TOP,ls(0,-e)+_("v",e)+o+_("v",e)}getStatementConnectionHighlightPath(e){if(!fh(e.shape))throw Error("Statement connections should have notch shapes");const o=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return ls(-o,0)+_("h",o)+e.shape.pathLeft+_("h",o)}},Xr=class{constructor(e,o){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.startY=this.startX=0,this.renderer_=e,this.block_=o,this.constants_=this.renderer_.getConstants(),this.outputConnection=o.outputConnection?new Bn(this.constants_,o.outputConnection):null,this.isInline=o.getInputsInline()&&!o.isCollapsed(),this.isCollapsed=o.isCollapsed(),this.isInsertionMarker=o.isInsertionMarker(),this.RTL=o.RTL,this.topRow=new on(this.constants_),this.bottomRow=new l(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let e=new An(this.constants_);this.inputRows.push(e);var o=this.block_.getIcons();for(let a=0,d;d=o[a];a++){const M=new Ve(this.constants_,d);this.isCollapsed&&!d.isShownWhenCollapsed()||e.elements.push(M)}o=void 0;for(let a=0,d;d=this.block_.inputList[a];a++)if(d.isVisible()){this.shouldStartNewRow_(d,o)&&(this.rows.push(e),e=new An(this.constants_),this.inputRows.push(e));for(let M=0,oe;oe=d.fieldRow[M];M++)e.elements.push(new U(this.constants_,oe,d));this.addInput_(d,e),o=d}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new Kn(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var e=!!this.block_.previousConnection;const o=(this.block_.hat?this.block_.hat==="cap":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;let a=this.topRow.hasLeftSquareCorner(this.block_)?is:Dr;this.topRow.elements.push(new a(this.constants_)),o?(e=new Z(this.constants_),this.topRow.elements.push(e)):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new Gn(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0]instanceof j0&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,a=this.topRow.hasRightSquareCorner(this.block_)?is:Dr,this.topRow.elements.push(new a(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof j0?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new is(this.constants_)):this.bottomRow.elements.push(new Dr(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new rr(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new is(this.constants_,"right")):this.bottomRow.elements.push(new Dr(this.constants_,"right"))}addInput_(e,o){this.isInline&&e instanceof r.ValueInput$$module$build$src$core$inputs$value_input?(o.elements.push(new Qt(this.constants_,e)),o.hasInlineInput=!0):e instanceof j0?(o.elements.push(new yn(this.constants_,e)),o.hasStatement=!0):e instanceof r.ValueInput$$module$build$src$core$inputs$value_input?(o.elements.push(new E(this.constants_,e)),o.hasExternalInput=!0):(e instanceof k0||e instanceof vl)&&(o.minHeight=Math.max(o.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),o.hasDummyInput=!0),o.align===null&&(o.align=e.align)}shouldStartNewRow_(e,o){return o?o instanceof vl||e instanceof j0||o instanceof j0?!0:e instanceof r.ValueInput$$module$build$src$core$inputs$value_input||e instanceof k0||o instanceof r.ValueInput$$module$build$src$core$inputs$value_input?!this.isInline:!1:!1}addElemSpacing_(){for(let e=0,o;o=this.rows[e];e++){const a=o.elements;if(o.elements=[],o.startsWithElemSpacer()&&o.elements.push(new At(this.constants_,this.getInRowSpacing_(null,a[0]))),a.length){for(let d=0;d<a.length-1;d++){o.elements.push(a[d]);const M=this.getInRowSpacing_(a[d],a[d+1]);o.elements.push(new At(this.constants_,M))}o.elements.push(a[a.length-1]),o.endsWithElemSpacer()&&o.elements.push(new At(this.constants_,this.getInRowSpacing_(a[a.length-1],null)))}}}getInRowSpacing_(e,o){if(!e&&o&&rn.isStatementInput(o))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&rn.isInput(e)&&!o){if(rn.isExternalInput(e))return this.constants_.NO_PADDING;if(rn.isInlineInput(e))return this.constants_.LARGE_PADDING;if(rn.isStatementInput(e))return this.constants_.NO_PADDING}return e&&rn.isLeftSquareCorner(e)&&o&&(rn.isPreviousConnection(o)||rn.isNextConnection(o))?o.notchOffset:e&&rn.isLeftRoundedCorner(e)&&o&&(rn.isPreviousConnection(o)||rn.isNextConnection(o))?o.notchOffset-this.constants_.CORNER_RADIUS:e&&rn.isField(e)&&e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING}computeBounds_(){let e=0,o=0,a=0;for(let M=0,oe;oe=this.rows[M];M++){if(oe.measure(),o=Math.max(o,oe.width),oe.hasStatement){var d=oe.getLastInput();let at,qt;d=oe.width-((qt=(at=d)==null?void 0:at.width)!=null?qt:0),e=Math.max(e,d)}a=Math.max(a,oe.widthWithConnectedBlocks)}this.statementEdge=e,this.width=o;for(let M=0,oe;oe=this.rows[M];M++)oe.hasStatement&&(oe.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(o,a),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let o=0,a;a=this.rows[o];o++)if(a.hasStatement)this.alignStatementRow_(a);else{var e=a.width;e=this.getDesiredRowWidth_(a)-e,e>0&&this.addAlignmentPadding_(a,e),rn.isTopOrBottomRow(a)&&(a.widthWithConnectedBlocks=a.width)}}getDesiredRowWidth_(e){return this.width-this.startX}addAlignmentPadding_(e,o){const a=e.getFirstSpacer(),d=e.getLastSpacer();if((e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=o),e.align===r.Align$$module$build$src$core$inputs$align.LEFT&&d)d.width+=o;else if(e.align===r.Align$$module$build$src$core$inputs$align.CENTRE&&a&&d)a.width+=o/2,d.width+=o/2;else if(e.align===r.Align$$module$build$src$core$inputs$align.RIGHT&&a)a.width+=o;else if(d)d.width+=o;else return;e.width+=o}alignStatementRow_(e){const o=e.getLastInput();if(o){var a=e.width-o.width,d=this.statementEdge;a=d-a,a>0&&this.addAlignmentPadding_(e,a),a=e.width,d=this.getDesiredRowWidth_(e),o.width+=d-a,o.height=Math.max(o.height,e.height),e.width+=d-a,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}addRowSpacing_(){const e=this.rows;this.rows=[];for(let o=0;o<e.length;o++)this.rows.push(e[o]),o!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[o],e[o+1]))}makeSpacerRow_(e,o){var a=this.getSpacerRowHeight_(e,o);const d=this.getSpacerRowWidth_(e,o);return a=new ti(this.constants_,a,d),e.hasStatement&&(a.followsStatement=!0),o.hasStatement&&(a.precedesStatement=!0),a}getSpacerRowWidth_(e,o){return this.width-this.startX}getSpacerRowHeight_(e,o){return this.constants_.MEDIUM_PADDING}getElemCenterline_(e,o){return rn.isSpacer(o)?e.yPos+o.height/2:rn.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,rn.isNextConnection(o)?e+o.height/2:e-o.height/2):rn.isTopRow(e)?rn.isHat(o)?e.capline-o.height/2:e.capline+o.height/2:e.yPos+e.height/2}recordElemPositions_(e){let o=e.xPos;for(let a=0,d;d=e.elements[a];a++)rn.isSpacer(d)&&(d.height=e.height),d.xPos=o,d.centerline=this.getElemCenterline_(e,d),o+=d.width}finalize_(){let e=0,o=0;for(let a=0,d;d=this.rows[a];a++)d.yPos=o,d.xPos=this.startX,o+=d.height,e=Math.max(e,d.widthWithConnectedBlocks),this.recordElemPositions_(d);if(this.outputConnection&&this.block_.nextConnection){const a=this.block_.nextConnection.targetBlock();a&&(e=Math.max(e,a.getHeightWidth().width))}this.widthWithChildren=e+this.startX,this.height=o,this.startY=this.topRow.capline,this.bottomRow.baseline=o-this.bottomRow.descenderHeight}getMeasureableForConnection(e){let o;if(((o=this.outputConnection)==null?void 0:o.connectionModel)===e)return this.outputConnection;for(const a of this.rows)for(const d of a.elements)if(d instanceof c&&d.connectionModel===e)return d;return null}},Gi=class{constructor(e,o,a){this.connectionHighlights=new WeakMap,this.highlightOffsets=new WeakMap,this.constants=a,this.style=o,this.svgRoot=e,this.svgPath=Me(Tn.PATH,{class:"blocklyPath"},this.svgRoot),this.setClass_("blocklyBlock",!0)}setPath(e){this.svgPath.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}applyColour(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}setStyle(e){this.style=e}setClass_(e,o){e&&(o?ut(this.svgRoot,e):nn(this.svgRoot,e))}updateHighlighted(e){e?this.setClass_("blocklyHighlighted",!0):this.setClass_("blocklyHighlighted",!1)}updateShadow_(e){e?(this.setClass_("blocklyShadow",!0),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)):this.setClass_("blocklyShadow",!1)}updateDisabled_(e){this.setClass_("blocklyDisabled",e),this.setClass_("blocklyDisabledPattern",e)}updateSelected(e){this.setClass_("blocklySelected",e)}updateDraggingDelete(e){this.setClass_("blocklyDraggingDelete",e)}updateInsertionMarker(e){this.setClass_("blocklyInsertionMarker",e)}updateMovable(e){this.setClass_("blocklyDraggable",e)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,o){}addConnectionHighlight(e,o,a,d){return a=`translate(${a.x}, ${a.y})`+(d?" scale(-1 1)":""),(d=this.connectionHighlights.get(e))?(d.setAttribute("d",o),d.setAttribute("transform",a),d):(o=Me(Tn.PATH,{id:e.id,class:"blocklyHighlightedConnectionPath",style:"display: none;",d:o,transform:a},this.svgRoot),this.connectionHighlights.set(e,o),o)}removeConnectionHighlight(e){const o=this.connectionHighlights.get(e);o&&(se(o),this.connectionHighlights.delete(e))}},Vr=class{constructor(e){this.overrides=null,this.name=e}getClassName(){return this.name+"-renderer"}init(e,o){this.constants_=this.makeConstants_(),o&&(this.overrides=o,Object.assign(this.constants_,o)),this.constants_.setTheme(e),this.constants_.init()}createDom(e,o,a){this.constants_.createDom(e,this.name+"-"+o.name,"."+this.getClassName()+"."+o.getClassName(),a)}refreshDom(e,o,a){const d=this.getConstants();d.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=d.randomIdentifier,this.constants_.setTheme(o),this.constants_.init(),this.createDom(e,o,a)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new kn}makeRenderInfo_(e){return new Xr(this,e)}makeDrawer_(e,o){return new Jn(e,o)}makePathObject(e,o){return new Gi(e,o,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(e){return!0}orphanCanConnectAtEnd(e,o,a){return!!Vi.getConnectionForOrphanedConnection(e,a===Or.OUTPUT_VALUE?o.outputConnection:o.previousConnection)}render(e){const o=this.makeRenderInfo_(e);o.measure(),this.makeDrawer_(e,o).draw()}},Rr={};Rr.BottomRow=l,Rr.Connection=c,Rr.ConstantProvider=kn,Rr.Drawer=Jn,Rr.ExternalValueInput=E,Rr.Field=U,Rr.Hat=Z,Rr.Icon=Ve,Rr.InRowSpacer=At,Rr.InlineInput=Qt,Rr.InputConnection=m,Rr.InputRow=An,Rr.JaggedEdge=Kn,Rr.Measurable=qa,Rr.NextConnection=rr,Rr.OutputConnection=Bn,Rr.PathObject=Gi,Rr.PreviousConnection=Gn,Rr.RenderInfo=Xr,Rr.Renderer=Vr,Rr.RoundCorner=Dr,Rr.Row=pc,Rr.SpacerRow=ti,Rr.SquareCorner=is,Rr.StatementInput=yn,Rr.TopRow=on,Rr.Types=rn,Rr.init=gs,Rr.register=dl,Rr.unregister=vi;var Di=class{constructor(e,o){this.workspace=e,this.theme=o,this.subscribedWorkspaces=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(e){var o=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(o&&(o=o.getClassName())&&nn(e,o),(o=this.theme.getClassName())&&ut(e,o));for(let a=0,d;d=this.subscribedWorkspaces[a];a++)d.refreshTheme();for(const[a,d]of this.componentDB)for(const M of d){e=M.element,o=M.propertyName;const oe=this.theme&&this.theme.getComponentStyle(a);e.style.setProperty(o,oe||"")}for(const a of this.subscribedWorkspaces)a.hideChaff()}subscribeWorkspace(e){this.subscribedWorkspaces.push(e)}unsubscribeWorkspace(e){if(!Zt(this.subscribedWorkspaces,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(e,o,a){this.componentDB.has(o)||this.componentDB.set(o,[]),this.componentDB.get(o).push({element:e,propertyName:a}),o=this.theme&&this.theme.getComponentStyle(o),e.style.setProperty(a,o||"")}unsubscribe(e){if(e)for(const[o,a]of this.componentDB){for(let d=a.length-1;d>=0;d--)a[d].element===e&&a.splice(d,1);a.length||this.componentDB.delete(o)}}dispose(){this.subscribedWorkspaces.length=0,this.componentDB.clear()}},Ji="VARIABLE_DYNAMIC",A0={CATEGORY_NAME:Ji};A0.flyoutCategory=Q1,A0.flyoutCategoryBlocks=ju,A0.internalFlyoutCategory=xa,A0.onCreateVariableButtonClick_Colour=mu,A0.onCreateVariableButtonClick_Number=Jc,A0.onCreateVariableButtonClick_String=to;var m8=class{canConnect(e,o,a,d){return this.canConnectWithReason(e,o,a,d)===Vi.CAN_CONNECT}canConnectWithReason(e,o,a,d){const M=this.doSafetyChecks(e,o);return M!==Vi.CAN_CONNECT?M:this.doTypeChecks(e,o)?a&&!this.doDragChecks(e,o,d||0)?Vi.REASON_DRAG_CHECKS_FAILED:Vi.CAN_CONNECT:Vi.REASON_CHECKS_FAILED}getErrorMessage(e,o,a){switch(e){case Vi.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case Vi.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case Vi.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case Vi.REASON_TARGET_NULL:return"Target connection is null.";case Vi.REASON_CHECKS_FAILED:return"Connection checks failed. "+(o+" expected "+o.getCheck()+", found "+a.getCheck());case Vi.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case Vi.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case Vi.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(e,o){if(!e||!o)return Vi.REASON_TARGET_NULL;let a,d,M;return e.isSuperior()?(a=e.getSourceBlock(),d=o.getSourceBlock(),M=o):(d=e.getSourceBlock(),a=o.getSourceBlock(),M=e,e=o),a===d?Vi.REASON_SELF_CONNECTION:M.type!==$1[e.type]?Vi.REASON_WRONG_TYPE:a.workspace!==d.workspace?Vi.REASON_DIFFERENT_WORKSPACES:a.isShadow()&&!d.isShadow()?Vi.REASON_SHADOW_PARENT:M.type===Or.OUTPUT_VALUE&&d.previousConnection&&d.previousConnection.isConnected()||M.type===Or.PREVIOUS_STATEMENT&&d.outputConnection&&d.outputConnection.isConnected()?Vi.REASON_PREVIOUS_AND_OUTPUT:Vi.CAN_CONNECT}doTypeChecks(e,o){if(e=e.getCheck(),o=o.getCheck(),!e||!o)return!0;for(let a=0;a<e.length;a++)if(o.includes(e[a]))return!0;return!1}doDragChecks(e,o,a){if(e.distanceFrom(o)>a||o.getSourceBlock().isInsertionMarker())return!1;switch(o.type){case Or.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,o);case Or.OUTPUT_VALUE:if(o.isConnected()&&!o.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case Or.INPUT_VALUE:if(o.isConnected()&&!o.targetBlock().isMovable()&&!o.targetBlock().isShadow())return!1;break;case Or.NEXT_STATEMENT:if(o.isConnected()&&!e.getSourceBlock().nextConnection&&!o.targetBlock().isShadow()&&o.targetBlock().nextConnection||o.targetBlock()&&!o.targetBlock().isMovable()&&!o.targetBlock().isShadow())return!1;break;default:return!1}return!n1.includes(o)}canConnectToPrevious_(e,o){return e.targetConnection||n1.includes(o)?!1:o.targetConnection?(e=o.targetBlock(),e.isInsertionMarker()?!e.getPreviousBlock():!1):!0}};i(Yn.CONNECTION_CHECKER,B0,m8);var N3=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(e){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new _1,this.readOnly=!1,this.potentialVariableMap=null,this.id=b(),wt(this),this.options=e||new la({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(w(Yn.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new(this.getVariableMapClass())(this),this.setIsReadOnly(this.options.readOnly)}dispose(){this.listeners.length=0,this.clear(),ft(this)}sortObjects(e,o){const a=d=>({getBoundingRectangle:()=>{const M=d.getRelativeToSurfaceXY();return new ci(M.y,M.y,M.x,M.x)},moveBy:()=>{}});return this.sortByOrigin(a(e),a(o))}sortByOrigin(e,o){const a=Math.sin(Hl(N3.SCAN_ANGLE))*(this.RTL?-1:1);return e=e.getBoundingRectangle().getOrigin(),o=o.getBoundingRectangle().getOrigin(),e.y+a*e.x-(o.y+a*o.x)}addTopBlock(e){this.topBlocks.push(e)}removeTopBlock(e){if(!Zt(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(e=!1){const o=[].concat(this.topBlocks);return e&&o.length>1&&o.sort(this.sortObjects.bind(this)),o}addTypedBlock(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}removeTypedBlock(e){Zt(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}getBlocksByType(e,o=!1){return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),o&&e&&e.length>1&&e.sort(this.sortObjects.bind(this)),e.filter(a=>!a.isInsertionMarker())):[]}addTopComment(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}removeTopComment(e){if(!Zt(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}getTopComments(e=!1){const o=[].concat(this.topComments);return e&&o.length>1&&o.sort(this.sortObjects.bind(this)),o}getAllBlocks(e=!1){if(e){var o=this.getTopBlocks(!0);e=[];for(let a=0;a<o.length;a++)e.push(...o[a].getDescendants(!0))}else for(e=this.getTopBlocks(!1),o=0;o<e.length;o++)e.push(...e[o].getChildren(!1));return e.filter(a=>!a.isInsertionMarker())}clear(){this.isClearing=!0;try{const e=r.getGroup$$module$build$src$core$events$utils();for(e||r.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();r.setGroup$$module$build$src$core$events$utils(e),this.isFlyout||this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(e,o){Sn("Blockly.Workspace.renameVariableById","v12","v13","Blockly.Workspace.getVariableMap().renameVariable"),(e=this.variableMap.getVariableById(e))&&this.variableMap.renameVariable(e,o)}createVariable(e,o,a){return Sn("Blockly.Workspace.createVariable","v12","v13","Blockly.Workspace.getVariableMap().createVariable"),this.variableMap.createVariable(e,o??void 0,a??void 0)}getVariableUsesById(e){return Sn("Blockly.Workspace.getVariableUsesById","v12","v13","Blockly.Variables.getVariableUsesById"),Fr(this,e)}deleteVariableById(e){Sn("Blockly.Workspace.deleteVariableById","v12","v13","Blockly.Workspace.getVariableMap().deleteVariable");const o=this.variableMap.getVariableById(e);o?r.deleteVariable$$module$build$src$core$variables(this,o):console.warn(`Can't delete non-existent variable: ${e}`)}getVariable(e,o){return Sn("Blockly.Workspace.getVariable","v12","v13","Blockly.Workspace.getVariableMap().getVariable"),this.variableMap.getVariable(e,o)}getVariableById(e){return Sn("Blockly.Workspace.getVariableById","v12","v13","Blockly.Workspace.getVariableMap().getVariableById"),this.variableMap.getVariableById(e)}getVariablesOfType(e){return Sn("Blockly.Workspace.getVariablesOfType","v12","v13","Blockly.Workspace.getVariableMap().getVariablesOfType"),this.variableMap.getVariablesOfType(e??"")}getAllVariables(){return Sn("Blockly.Workspace.getAllVariables","v12","v13","Blockly.Workspace.getVariableMap().getAllVariables"),this.variableMap.getAllVariables()}getAllVariableNames(){return Sn("Blockly.Workspace.getAllVariableNames","v12","v13","Blockly.Workspace.getVariableMap().getAllVariables"),this.variableMap.getAllVariables().map(e=>e.getName())}getWidth(){return 0}newBlock(e,o){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(e){return this.options.maxInstances?(this.options.maxInstances[e]!==void 0?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}isCapacityAvailable(e){if(!this.hasBlockLimits())return!0;let o=0;for(const a in e){if(e[a]>this.remainingCapacityOfType(a))return!1;o+=e[a]}return!(o>this.remainingCapacity())}hasBlockLimits(){return this.options.maxBlocks!==1/0||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(e){var o=e?this.redoStack_:this.undoStack_,a=e?this.undoStack_:this.redoStack_;const d=o.pop();if(d){for(var M=[d];o.length&&d.group&&d.group===o[o.length-1].group;){const oe=o.pop();oe&&M.push(oe)}for(o=0;o<M.length;o++)a.push(M[o]);r.setRecordUndo$$module$build$src$core$events$utils(!1);try{for(a=0;a<M.length;a++)M[a].run(e)}finally{r.setRecordUndo$$module$build$src$core$events$utils(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,Ge()}addChangeListener(e){return this.listeners.push(e),e}removeChangeListener(e){Zt(this.listeners,e)}fireChangeListener(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&this.MAX_UNDO>=0;)this.undoStack_.shift();for(let o=0;o<this.listeners.length;o++)(0,this.listeners[o])(e)}getBlockById(e){return this.blockDB.get(e)||null}setBlockById(e,o){this.blockDB.set(e,o)}removeBlockById(e){this.blockDB.delete(e)}getCommentById(e){let o;return(o=this.commentDB.get(e))!=null?o:null}allInputsFilled(e){const o=this.getTopBlocks(!1);for(let a=0;a<o.length;a++)if(!o[a].allInputsFilled(e))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new(this.getVariableMapClass())(this,!0)}getVariableMap(){return this.variableMap}setVariableMap(e){this.variableMap=e}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let e=null;const o=this.options.parentWorkspace;return this.isFlyout?o&&o.options&&(e=o.options.parentWorkspace):o&&(e=o),e}static getById(e){return Mt(e)}static getAll(){return Ot()}getVariableMapClass(){const e=w(Yn.VARIABLE_MAP,this.options,!0);if(!e)throw Error("No variable map is registered.");return e}isReadOnly(){return this.readOnly}setIsReadOnly(e){this.readOnly=e,this.options.readOnly=e}};N3.SCAN_ANGLE=3;var gk=100,r$=class{constructor(e){this.parentWorkspace=e,this.sounds=new Map,this.lastSound=null,this.muted=!1}dispose(){this.sounds.clear()}load(e,o){if(e.length){try{var a=new globalThis.Audio}catch{return}for(let M=0;M<e.length;M++){const oe=e[M],at=oe.match(/\.(\w+)$/);if(at&&a.canPlayType("audio/"+at[1])){var d=new globalThis.Audio(oe);break}}d&&this.sounds.set(o,d)}}preload(){for(const e of this.sounds.values()){e.volume=.01;const o=e.play();if(o!==void 0?o.then(e.pause).catch(function(){}):e.pause(),f2||G6)break}}play(e,o){if(!this.muted){var a=this.sounds.get(e);a?(e=new Date,this.lastSound!==null&&e.getTime()-this.lastSound.getTime()<gk||(this.lastSound=e,a=f2||j4?a:a.cloneNode(),a.volume=o===void 0?1:o,a.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,o)}}setMuted(e){this.muted=e}getMuted(){return this.muted}},vk=20,X0=class extends N3{constructor(e){super(e),this.resizeHandlerWrapper=null,this.resizesEnabled=this.visible=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.inverseScreenCTM=this.targetWorkspace=this.dummyWheelListener=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=this.currentGesture_=this.toolbox=this.flyout=this.scrollbar=this.trashcan=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardMoveInProgress=this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=this.layerManager=null,this.navigator=new Wh,this.metricsManager=new(w(Yn.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=e.setMetrics||X0.setTopLevelWorkspaceMetrics,this.componentManager=new ns,this.connectionDBList=Cu.init(this.connectionChecker),this.audioManager=new r$(e.parentWorkspace),this.grid=this.options.gridPattern?new F2(this.options.gridPattern,e.gridOptions):null,this.markerManager=new z2(this),Zs&&hn&&this.registerToolboxCategoryCallback(Nh,hn),A0&&xa&&this.registerToolboxCategoryCallback(Ji,xa),Ko&&Ql&&(this.registerToolboxCategoryCallback(Yh,Ql),this.addChangeListener(Sa)),this.addChangeListener(this.variableChangeCallback.bind(this)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new Di(this,this.options.theme||Vh),this.themeManager_.subscribeWorkspace(this);let o;this.renderer=gs(this.options.renderer||"geras",this.getTheme(),(o=this.options.rendererOverrides)!=null?o:void 0),this.cachedParentSvgSize=new pi(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}getMarker(e){return this.markerManager.getMarker(e)}getCursor(){return this.markerManager.getCursor()}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(e){e||(e=Vh),this.themeManager_.setTheme(e)}refreshTheme(){if(this.svgGroup_){var e=this.options.parentWorkspace===null;this.renderer.refreshDom(this.svgGroup_,this.getTheme(),e?this.getInjectionDiv():void 0)}this.updateBlockStyles(this.getAllBlocks(!1).filter(o=>!!o.getStyleName())),this.refreshToolboxSelection(),this.toolbox&&this.toolbox.refreshTheme(),this.isVisible()&&this.setVisible(!0),e=new(Ut(Mn.THEME_CHANGE))(this.getTheme().name,this.id),de(e)}updateBlockStyles(e){for(let o=0,a;a=e[o];o++){const d=a.getStyleName();d&&a.setStyle(d)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.visible}getSvgXY(e){let o=0,a=0,d=1;(this.getCanvas().contains(e)||this.getBubbleCanvas().contains(e))&&(d=this.scale);do{const M=x(e);(e===this.getCanvas()||e===this.getBubbleCanvas())&&(d=1),o+=M.x*d,a+=M.y*d,e=e.parentNode}while(e&&e!==this.getParentSvg()&&e!==this.getInjectionDiv());return new Qn(o,a)}getCachedParentSvgSize(){const e=this.cachedParentSvgSize;return new pi(e.width,e.height)}getOriginOffsetInPixels(){return W(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let e=this.svgGroup_;for(;e;){if((" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv ")){this.injectionDiv=e;break}e=e.parentNode}}return this.injectionDiv}getSvgGroup(){return this.svgGroup_}getBlockCanvas(){return this.getCanvas()}setResizeHandlerWrapper(e){this.resizeHandlerWrapper=e}createDom(e,o){return this.injectionDiv||(this.injectionDiv=o??null),this.svgGroup_=Me(Tn.G,{class:"blocklyWorkspace",id:this.id}),o&&mr(this.svgGroup_,qs.LABEL,r.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL),e&&(this.svgBackground_=Me(Tn.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),e==="blocklyMainBackground"&&this.grid?this.svgBackground_.style.fill="var(--blocklyGridPattern)":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.layerManager=new d8(this),this.svgBlockCanvas_=this.layerManager.getBlockLayer(),this.svgBubbleCanvas_=this.layerManager.getBubbleLayer(),this.isFlyout||(le(this.svgGroup_,"pointerdown",this,this.onMouseDown,!1),this.dummyWheelListener=()=>{},document.body.addEventListener("wheel",this.dummyWheelListener),le(this.svgGroup_,"wheel",this,this.onMouseWheel)),this.options.hasCategories&&(this.toolbox=new(w(Yn.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=w(Yn.CURSOR,this.options))&&this.markerManager.setCursor(new e(this)),e=this.options.parentWorkspace===null,this.renderer.createDom(this.svgGroup_,this.getTheme(),e?this.getInjectionDiv():void 0),r.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,!!this.injectionDiv||this.isFlyout),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&se(this.svgGroup_),this.toolbox&&(this.toolbox.dispose(),this.toolbox=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){const e=this.getParentSvg();e&&e.parentNode&&se(e.parentNode)}this.resizeHandlerWrapper&&(Ce(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null),this.dummyWheelListener&&(document.body.removeEventListener("wheel",this.dummyWheelListener),this.dummyWheelListener=null),r.getFocusManager$$module$build$src$core$focus_manager().isRegistered(this)&&r.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}addTrashcan(){this.trashcan=X0.newTrashcan(this);const e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.getCanvas())}static newTrashcan(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new La(this);const e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}copyOptionsForFlyout(){return new la({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,plugins:this.options.plugins,modalInputs:this.options.modalInputs,move:{scrollbars:!0}})}addFlyout(e){const o=this.copyOptionsForFlyout();return o.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(w(Yn.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(o):new(w(Yn.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(o),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}getFlyout(e){return this.flyout||e?this.flyout:this.toolbox?this.toolbox.getFlyout():null}getToolbox(){return this.toolbox}updateScreenCalculations(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox?this.toolbox.position():this.flyout&&this.flyout.position();const e=this.componentManager.getComponents(ns.Capability.POSITIONABLE,!0),o=this.getMetricsManager().getUiMetrics(),a=[];for(let d=0,M;M=e[d];d++){M.position(o,a);const oe=M.getBoundingRectangle();oe&&a.push(oe)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations()}updateScreenCalculationsIfScrolled(){const e=q();Qn.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations())}getLayerManager(){return this.layerManager}getCanvas(){return this.layerManager.getBlockLayer()}setCachedParentSvgSize(e,o){const a=this.getParentSvg();e!=null&&(this.cachedParentSvgSize.width=e,a.setAttribute("data-cached-width",`${e}`)),o!=null&&(this.cachedParentSvgSize.height=o,a.setAttribute("data-cached-height",`${o}`))}getBubbleCanvas(){return this.layerManager.getBubbleLayer()}getParentSvg(){if(!this.cachedParentSvg){let e=this.svgGroup_;for(;e;){if(e.tagName==="svg"){this.cachedParentSvg=e;break}e=e.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(et()){var e=this.scale,o=-this.scrollY,a=-this.scrollX;if(!(e===this.oldScale&&Math.abs(o-this.oldTop)<1&&Math.abs(a-this.oldLeft)<1)){var d=new(Ut(Mn.VIEWPORT_CHANGE))(o,a,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=o,this.oldLeft=a,de(d)}}}translate(e,o){let a;(a=this.layerManager)==null||a.translateLayers(new Qn(e,o),this.scale);let d;(d=this.grid)==null||d.moveTo(e,o),this.maybeFireViewportChangeEvent()}getWidth(){const e=this.getMetrics();return e?e.viewWidth/this.scale:0}setVisible(e){this.visible=e,this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox&&this.toolbox.setVisible(e),e||this.hideChaff(!0))}render(){const e=this.getAllBlocks(!1);for(let o=e.length-1;o>=0;o--)e[o].queueRender();this.getTopBlocks().flatMap(o=>o.getDescendants(!1)).filter(o=>o.isInsertionMarker()).forEach(o=>o.queueRender())}highlightBlock(e,o){if(o===void 0){for(let a=0,d;d=this.highlightedBlocks[a];a++)d.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((o=o===void 0||o)?this.highlightedBlocks.includes(e)||this.highlightedBlocks.push(e):Zt(this.highlightedBlocks,e),e.setHighlighted(o))}variableChangeCallback(e){switch(e.type){case Mn.VAR_CREATE:case Mn.VAR_DELETE:case Mn.VAR_RENAME:case Mn.VAR_TYPE_CHANGE:this.refreshToolboxSelection()}}refreshToolboxSelection(){const e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox&&e.toolbox.getFlyout()&&e.toolbox.refreshSelection()}recordDragTargets(){const e=this.componentManager.getComponents(ns.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let o=0,a;a=e[o];o++){const d=a.getClientRect();d&&this.dragTargetAreas.push({component:a,clientRect:d})}}newBlock(e,o){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}getDragTarget(e){for(let o=0,a;a=this.dragTargetAreas[o];o++)if(a.clientRect.contains(e.clientX,e.clientY))return a.component;return null}onMouseDown(e){const o=this.getGesture(e);o&&o.handleWsStart(e,this)}startDrag(e,o){Ho(this,e,o)}moveDrag(e){return h0(this,e)}setKeyboardMoveInProgress(e){this.keyboardMoveInProgress=e}isDragging(){return this.keyboardMoveInProgress||this.currentGesture_!==null&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}onMouseWheel(e){if(Xh.inProgress())e.preventDefault(),e.stopPropagation();else{var o=this.options.zoomOptions&&this.options.zoomOptions.wheel,a=this.options.moveOptions&&this.options.moveOptions.wheel;if(o||a){var d=je(e);if(X4)var M=e.metaKey;o&&(e.ctrlKey||M||!a)?(d=-d.y/50,o=Be(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(o.x,o.y,d)):(o=this.scrollX-d.x,a=this.scrollY-d.y,e.shiftKey&&!d.x&&(o=this.scrollX-d.y,a=this.scrollY),this.scroll(o,a)),e.preventDefault()}}}getBlocksBoundingBox(){const e=this.getTopBoundedElements();if(!e.length)return new ci(0,0,0,0);const o=e[0].getBoundingRectangle();for(let d=1;d<e.length;d++){var a=e[d];a.isInsertionMarker&&a.isInsertionMarker()||(a=a.getBoundingRectangle(),a.top<o.top&&(o.top=a.top),a.bottom>o.bottom&&(o.bottom=a.bottom),a.left<o.left&&(o.left=a.left),a.right>o.right&&(o.right=a.right))}return o}cleanUp(){this.setResizesEnabled(!1);const e=r.getGroup$$module$build$src$core$events$utils();e||r.setGroup$$module$build$src$core$events$utils(!0);var o=this.getTopBlocks(!0),a=o.filter(at=>at.isMovable());const d=o.filter(at=>!at.isMovable()).map(at=>at.getBoundingRectangle());o=function(at){for(const qt of d)if(at.intersects(qt))return qt;return null};var M=0;const oe=this.renderer.getConstants().MIN_BLOCK_HEIGHT;for(const at of a){for(a=at.getBoundingRectangle(),at.moveBy(-a.left,M-a.top,["cleanup"]),at.snapToGrid(),a=at.getBoundingRectangle(),M=o(a);M!=null;)M=M.top+M.getHeight()+oe,at.moveBy(0,M-a.top,["cleanup"]),at.snapToGrid(),a=at.getBoundingRectangle(),M=o(a);M=at.getRelativeToSurfaceXY().y+at.getHeightWidth().height+oe}r.setGroup$$module$build$src$core$events$utils(e),this.setResizesEnabled(!0)}showContextMenu(e){if(!this.isReadOnly()&&!this.isFlyout){var o=gi.registry.getContextMenuOptions({workspace:this,focusedNode:this},e);this.configureContextMenu&&this.configureContextMenu(o,e);var a=e instanceof PointerEvent?new Qn(e.clientX,e.clientY):be(this,new Qn(5,5));ya(e,o,this.RTL,this,a)}}updateToolbox(e){if(e=$t(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(D(e)){if(!this.toolbox)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(Ee(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(e,o,a){a=Math.pow(this.options.zoomOptions.scaleSpeed,a);const d=this.scale*a;if(this.scale!==d){d>this.options.zoomOptions.maxScale?a=this.options.zoomOptions.maxScale/this.scale:d<this.options.zoomOptions.minScale&&(a=this.options.zoomOptions.minScale/this.scale);var M=this.getCanvas().getCTM(),oe=this.getParentSvg().createSVGPoint();oe.x=e,oe.y=o,oe=oe.matrixTransform(M.inverse()),e=oe.x,o=oe.y,M=M.translate(e*(1-a),o*(1-a)).scale(a),this.scrollX=M.e,this.scrollY=M.f,this.setScale(d)}}zoomCenter(e){var o=this.getMetrics();let a;this.flyout?(a=o.svgWidth?o.svgWidth/2:0,o=o.svgHeight?o.svgHeight/2:0):(a=o.viewWidth/2+o.absoluteLeft,o=o.viewHeight/2+o.absoluteTop),this.zoom(a,o,e)}zoomToFit(){if(this.isMovable()){var e=this.getMetrics(),o=e.viewWidth;e=e.viewHeight;var a=this.getBlocksBoundingBox(),d=vk*2,M=a.right-a.left+d;if(a=a.bottom-a.top+d,M){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),a+=this.flyout.getHeight()/this.scale):(o+=this.flyout.getWidth(),M+=this.flyout.getWidth()/this.scale)),o/=M,e/=a,r.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(o,e)),this.scrollCenter()}finally{r.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){ut(this.getCanvas(),"blocklyCanvasTransitioning"),ut(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}endCanvasTransition(){nn(this.getCanvas(),"blocklyCanvasTransitioning"),nn(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var e=this.getMetrics(),o=(e.scrollWidth-e.viewWidth)/2,a=(e.scrollHeight-e.viewHeight)/2;o=-o-e.scrollLeft,a=-a-e.scrollTop,this.scroll(o,a)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(e,o){if(this.isMovable()){var a=e?this.getBlockById(e):null;if(a){e=a.getRelativeToSurfaceXY(),a=o?{height:a.height,width:a.width}:a.getHeightWidth();var d=this.scale;o=(e.x+(this.RTL?-1:1)*a.width/2)*d,e=(e.y+a.height/2)*d,a=this.getMetrics(),this.scroll(-(o-a.viewWidth/2),-(e-a.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}getScale(){return this.scale}getAbsoluteScale(){const e=a=>{if(a.isFlyout){let d;const M=(d=a.targetWorkspace)==null?void 0:d.getFlyout();if(M instanceof dc)return M.getFlyoutScale()}return a.getScale()},o=(a,d)=>a.options.parentWorkspace&&a.options.parentWorkspace.getSvgGroup().contains(a.getSvgGroup())?o(a.options.parentWorkspace,d*e(a)):d*e(a);return o(this,1)}scroll(e,o){this.hideChaff(!0);const a=this.getMetrics();e=Math.min(e,-a.scrollLeft),o=Math.min(o,-a.scrollTop);const d=a.scrollTop+Math.max(0,a.scrollHeight-a.viewHeight);e=Math.max(e,-(a.scrollLeft+Math.max(0,a.scrollWidth-a.viewWidth))),o=Math.max(o,-d),this.scrollX=e,this.scrollY=o,this.scrollbar&&this.scrollbar.set(-(e+a.scrollLeft),-(o+a.scrollTop),!1),e+=a.absoluteLeft,o+=a.absoluteTop,this.translate(e,o)}getBlockById(e){return super.getBlockById(e)}getAllBlocks(e=!1){return super.getAllBlocks(e)}getTopBlocks(e=!1){return super.getTopBlocks(e)}addTopBlock(e){this.addTopBoundedElement(e),super.addTopBlock(e)}removeTopBlock(e){this.removeTopBoundedElement(e),super.removeTopBlock(e)}addTopComment(e){this.addTopBoundedElement(e),super.addTopComment(e)}removeTopComment(e){this.removeTopBoundedElement(e),super.removeTopComment(e)}getTopComments(e=!1){return super.getTopComments(e)}getCommentById(e){return super.getCommentById(e)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(e){this.topBoundedElements.push(e)}removeTopBoundedElement(e){Zt(this.topBoundedElements,e)}getTopBoundedElements(e=!1){const o=[].concat(this.topBoundedElements);return e&&o.sort(this.sortByOrigin.bind(this)),o}setResizesEnabled(e){const o=!this.resizesEnabled&&e;this.resizesEnabled=e,o&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(e,o){if(typeof o!="function")throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,o)}getButtonCallback(e){let o;return(o=this.flyoutButtonCallbacks.get(e))!=null?o:null}removeButtonCallback(e){this.flyoutButtonCallbacks.delete(e)}registerToolboxCategoryCallback(e,o){if(typeof o!="function")throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,o)}getToolboxCategoryCallback(e){return this.toolboxCategoryCallbacks.get(e)||null}removeToolboxCategoryCallback(e){this.toolboxCategoryCallbacks.delete(e)}getGesture(e){if(this.keyboardMoveInProgress)return e.preventDefault(),e.stopPropagation(),null;const o=e.type==="pointerdown";let a;return o&&((a=this.currentGesture_)!=null&&a.hasStarted())&&(console.warn("Tried to start the same gesture twice."),this.currentGesture_.cancel()),!this.currentGesture_&&o&&(this.currentGesture_=new Xh(e,this)),this.currentGesture_}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(e=!1){Zi(),R0(this),Wt(),this.hideComponents(e)}hideComponents(e=!1){this.getComponentManager().getComponents(ns.Capability.AUTOHIDEABLE,!0).forEach(o=>o.autoHide(e))}static setTopLevelWorkspaceMetrics(e){const o=this.getMetrics();typeof e.x=="number"&&(this.scrollX=-(o.scrollLeft+(o.scrollWidth-o.viewWidth)*e.x)),typeof e.y=="number"&&(this.scrollY=-(o.scrollTop+(o.scrollHeight-o.viewHeight)*e.y)),this.translate(this.scrollX+o.absoluteLeft,this.scrollY+o.absoluteTop)}addClass(e){this.injectionDiv&&ut(this.injectionDiv,e)}removeClass(e){this.injectionDiv&&nn(this.injectionDiv,e)}setIsReadOnly(e){super.setIsReadOnly(e),e?this.addClass("blocklyReadOnly"):this.removeClass("blocklyReadOnly")}scrollBoundsIntoView(e,o=10){if(!Xh.inProgress()){var a=this.getScale(),d=this.getMetricsManager().getViewMetrics(!0);if(d=new ci(d.top,d.top+d.height,d.left,d.left+d.width),!(e.left>=d.left&&e.top>=d.top&&e.right<=d.right&&e.bottom<=d.bottom)){e=e.clone(),e.top-=o,e.bottom+=o,e.left-=o,e.right+=o;var M=o=0;e.left<d.left?o=this.RTL?Math.min(d.left-e.left,d.right-e.right):d.left-e.left:e.right>d.right&&(o=this.RTL?d.right-e.right:Math.max(d.right-e.right,d.left-e.left)),e.top<d.top?M=d.top-e.top:e.bottom>d.bottom&&(M=Math.max(d.bottom-e.bottom,d.top-e.top)),this.scroll(this.scrollX+o*a,this.scrollY+M*a)}}}getFocusableElement(){return this.svgGroup_}getFocusableTree(){return this.isMutator&&this.options.parentWorkspace||this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(e){if(e)return null;let o;if(e=(o=this.targetWorkspace)==null?void 0:o.getFlyout(),this.isFlyout&&e){let d,M;return(M=(d=e.getContents().find(oe=>(oe=oe.getElement(),Re(oe)&&oe.canBeFocused())))==null?void 0:d.getElement())!=null?M:null}let a;return(a=this.getTopBlocks(!0)[0])!=null?a:null}getNestedTrees(){const e=this.getAllBlocks().map(a=>a.getIcons()).flat().filter(a=>a instanceof r.MutatorIcon$$module$build$src$core$icons$mutator_icon&&a.bubbleIsVisible()).map(a=>{let d;return(d=a.getBubble())==null?void 0:d.getWorkspace()}).filter(a=>!!a),o=this.getFlyout(!0);return o&&e.push(o.getWorkspace()),e}searchForWorkspaceComment(e){for(const o of this.getTopComments())if(o instanceof Il&&o.canBeFocused()&&o.getFocusableElement().id===e)return o}lookUpFocusableNode(e){var o;const a=(o=this.targetWorkspace)==null?void 0:o.getFlyout();if(this.isFlyout&&a){for(var d of a.getContents())if(o=d.getElement(),Re(o)&&o.canBeFocused()&&o.getFocusableElement().id===e)return o}if(d=e.indexOf("_field_"),o=e.indexOf("_connection_"),d!==-1){var M=e.substring(0,d);if(M=this.getBlockById(M)){for(var oe of M.getFields())if(oe.canBeFocused()&&oe.getFocusableElement().id===e)return oe}return null}if(o!==-1){if(M=e.substring(0,o),M=this.getBlockById(M)){for(const qt of M.getConnections_(!0))if(qt.id===e)return qt}return null}if(oe=Math.max(e.indexOf(Po),e.indexOf(Es),e.indexOf(m5)),oe!==-1&&(oe=e.substring(0,oe),oe=this.searchForWorkspaceComment(oe))){if(e.indexOf(Po)>-1)return oe.getEditorFocusableNode();var at;return(at=oe.view.getCommentBarButtons().find(qt=>qt.getFocusableElement().id.includes(e)))!=null?at:null}if((at=this.getAllBlocks(!1).find(qt=>qt.getFocusableElement().id===e))||(at=this.searchForWorkspaceComment(e)))return at;at=this.getAllBlocks().map(qt=>qt.getIcons()).flat();for(M of at){if(M.canBeFocused()&&M.getFocusableElement().id===e)return M;if(zl(M)){if((at=M.getBubble())&&at.canBeFocused()&&at.getFocusableElement().id===e)return at;if(at instanceof M0&&at.getEditor().getFocusableElement().id===e)return at.getEditor()}}return null}onTreeFocus(e,o){}onTreeBlur(e){if(this.isFlyout&&this.targetWorkspace&&!r.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()){var o=this.targetWorkspace.getToolbox();o&&e===o||as(o)&&o.autoHide(!1)}}getNavigator(){return this.navigator}setNavigator(e){this.navigator=e}},I3=class extends Oa{constructor(e){super(),this.isBlank=typeof e>"u",e&&(this.varId=e.getId(),this.workspaceId=e.getWorkspace().id)}toJson(){const e=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new I3),o.varId=e.varId,o}},Yf=class extends I3{constructor(e){super(e),this.type=Mn.VAR_CREATE,e&&(this.varType=e.getType(),this.varName=e.getName())}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new Yf),o.varType=e.varType,o.varName=e.varName,o}run(e){var o=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");o=o.getVariableMap(),e?o.createVariable(this.varName,this.varType,this.varId):(e=o.getVariableById(this.varId))&&o.deleteVariable(e)}};i(Yn.EVENT,Mn.VAR_CREATE,Yf);var i$=class{constructor(e,o,a,d){this.workspace=e,this.name=o,this.type=a||"",this.id=d||b()}getId(){return this.id}getName(){return this.name}setName(e){return this.name=e,this}getType(){return this.type}setType(e){return this.type=e,this}getWorkspace(){return this.workspace}save(){const e={name:this.getName(),id:this.getId()},o=this.getType();return o&&(e.type=o),e}static load(e,o){e=new this(o,e.name,e.type,e.id),o.getVariableMap().addVariable(e),de(new(Ut(Mn.VAR_CREATE))(e))}};i(Yn.VARIABLE_MODEL,B0,i$);var Kf=class extends I3{constructor(e){super(e),this.type=Mn.VAR_DELETE,e&&(this.varType=e.getType(),this.varName=e.getName())}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new Kf),o.varType=e.varType,o.varName=e.varName,o}run(e){var o=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");o=o.getVariableMap(),e?(e=o.getVariableById(this.varId))&&o.deleteVariable(e):o.createVariable(this.varName,this.varType,this.varId)}};i(Yn.EVENT,Mn.VAR_DELETE,Kf);var Jf=class extends I3{constructor(e,o){super(e),this.type=Mn.VAR_RENAME,e&&(this.oldName=e.getName(),this.newName=typeof o>"u"?"":o)}toJson(){const e=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new Jf),o.oldName=e.oldName,o.newName=e.newName,o}run(e){var o=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");o=o.getVariableMap();const a=o.getVariableById(this.varId);e?a&&o.renameVariable(a,this.newName):a&&o.renameVariable(a,this.oldName)}};i(Yn.EVENT,Mn.VAR_RENAME,Jf);var s$=class{constructor(e,o=!1){this.workspace=e,this.potentialMap=o,this.variableMap=new Map}clear(){for(const e of this.variableMap.values())for(const o of e.values())this.deleteVariable(o);if(this.variableMap.size!==0)throw Error("Non-empty variable map")}renameVariable(e,o){if(e.getName()===o)return e;var a=e.getType();a=this.getVariable(o,a);const d=this.workspace.getAllBlocks(!1);let M="";this.potentialMap||(M=r.getGroup$$module$build$src$core$events$utils())||r.setGroup$$module$build$src$core$events$utils(!0);try{a&&a.getId()!==e.getId()?this.renameVariableWithConflict(e,o,a,d):this.renameVariableAndUses(e,o,d)}finally{this.potentialMap||r.setGroup$$module$build$src$core$events$utils(M)}return e}changeVariableType(e,o){const a=e.getType();if(a===o)return e;var d=this.variableMap.get(a);d?.delete(e.getId()),d?.size===0&&this.variableMap.delete(a),e.setType(o);let M;return d=(M=this.variableMap.get(o))!=null?M:new Map,d.set(e.getId(),e),this.variableMap.has(o)||this.variableMap.set(o,d),de(new(Ut(Mn.VAR_TYPE_CHANGE))(e,a,o)),e}renameVariableById(e,o){Sn("VariableMap.renameVariableById","v12","v13","VariableMap.renameVariable");const a=this.getVariableById(e);if(!a)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(a,o)}renameVariableAndUses(e,o,a){for(this.potentialMap||de(new(Ut(Mn.VAR_RENAME))(e,o)),e.setName(o),o=0;o<a.length;o++)a[o].updateVarName(e)}renameVariableWithConflict(e,o,a,d){const M=e.getType(),oe=a.getName();for(o!==oe&&this.renameVariableAndUses(a,o,d),o=0;o<d.length;o++)d[o].renameVarById(e.getId(),a.getId());this.potentialMap||de(new(Ut(Mn.VAR_DELETE))(e));let at;(at=this.variableMap.get(M))==null||at.delete(e.getId())}createVariable(e,o,a){var d=this.getVariable(e,o);if(d){if(a&&d.getId()!==a)throw Error('Variable "'+e+'" is already in use and its id is "'+d.getId()+'" which conflicts with the passed in id, "'+a+'".');return d}if(a&&this.getVariableById(a))throw Error('Variable id, "'+a+'", is already in use.');if(d=a||b(),o=o||"",a=w(Yn.VARIABLE_MODEL,this.workspace.options,!0),!a)throw Error("No variable model is registered.");d=new a(this.workspace,e,o,d);let M;return e=(M=this.variableMap.get(o))!=null?M:new Map,e.set(d.getId(),d),this.variableMap.has(o)||this.variableMap.set(o,e),this.potentialMap||de(new(Ut(Mn.VAR_CREATE))(d)),d}addVariable(e){const o=e.getType();this.variableMap.has(o)||this.variableMap.set(o,new Map);let a;(a=this.variableMap.get(o))==null||a.set(e.getId(),e)}deleteVariable(e){const o=Fr(this.workspace,e.getId());let a="";this.potentialMap||(a=r.getGroup$$module$build$src$core$events$utils())||r.setGroup$$module$build$src$core$events$utils(!0);try{for(let M=0;M<o.length;M++)o[M].dispose(!0);const d=this.variableMap.get(e.getType());d&&d.has(e.getId())&&(d.delete(e.getId()),this.potentialMap||de(new(Ut(Mn.VAR_DELETE))(e)),d.size===0&&this.variableMap.delete(e.getType()))}finally{this.potentialMap||r.setGroup$$module$build$src$core$events$utils(a)}}deleteVariableById(e){Sn("VariableMap.deleteVariableById","v12","v13","Blockly.Variables.deleteVariable"),(e=this.getVariableById(e))&&r.deleteVariable$$module$build$src$core$variables(this.workspace,e)}getVariable(e,o){if(o=this.variableMap.get(o||""),!o)return null;let a;return(a=[...o.values()].find(d=>r.Names$$module$build$src$core$names.equals(d.getName(),e)))!=null?a:null}getVariableById(e){for(const o of this.variableMap.values())if(o.has(e)){let a;return(a=o.get(e))!=null?a:null}return null}getVariablesOfType(e){return(e=this.variableMap.get(e||""))?[...e.values()]:[]}getTypes(){return[...this.variableMap.keys()]}getAllVariables(){let e=[];for(const o of this.variableMap.values())e=e.concat(...o.values());return e}getAllVariableNames(){Sn("VariableMap.getAllVariableNames","v12","v13","Blockly.Variables.getAllVariables");const e=[];for(const o of this.variableMap.values())for(const a of o.values())e.push(a.getName());return e}getVariableUsesById(e){return Sn("VariableMap.getVariableUsesById","v12","v13","Blockly.Variables.getVariableUsesById"),Fr(this.workspace,e)}};i(Yn.VARIABLE_MAP,B0,s$);var Zf=class extends Yi{constructor(e,o){super(o),this.type=Mn.TRASHCAN_OPEN,this.isOpen=e}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new Zf),o.isOpen=e.isOpen,o}};i(Yn.EVENT,Mn.TRASHCAN_OPEN,Zf);var o$=class extends O2{constructor(e){super(),this.workspace=e,this.id="trashcan",this.contents=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness=0,this.lidTask=this.svgLid=this.svgGroup=null,this.top=this.left=this.lidOpen=0,this.initialized=!1,this.workspace.options.maxTrashcanContents<=0||(e=this.workspace.copyOptionsForFlyout(),this.workspace.horizontalLayout?(e.toolboxPosition=this.workspace.toolboxPosition===mi.TOP?mi.BOTTOM:mi.TOP,this.flyout=new(w(Yn.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(e)):(e.toolboxPosition=this.workspace.toolboxPosition===mi.RIGHT?mi.LEFT:mi.RIGHT,this.flyout=new(w(Yn.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(e)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){this.svgGroup=Me(Tn.G,{class:"blocklyTrash"});let e;const o=String(Math.random()).substring(2);e=Me(Tn.CLIPPATH,{id:"blocklyTrashBodyClipPath"+o},this.svgGroup),Me(Tn.RECT,{width:O3,height:g8,y:R3},e);const a=Me(Tn.IMAGE,{width:m0.width,x:-Qf,height:m0.height,y:-ed,"clip-path":"url(#blocklyTrashBodyClipPath"+o+")"},this.svgGroup);return a.setAttributeNS(C0,"xlink:href",this.workspace.options.pathToMedia+m0.url),e=Me(Tn.CLIPPATH,{id:"blocklyTrashLidClipPath"+o},this.svgGroup),Me(Tn.RECT,{width:O3,height:R3},e),this.svgLid=Me(Tn.IMAGE,{width:m0.width,x:-Qf,height:m0.height,y:-ed,"clip-path":"url(#blocklyTrashLidClipPath"+o+")"},this.svgGroup),this.svgLid.setAttributeNS(C0,"xlink:href",this.workspace.options.pathToMedia+m0.url),te(this.svgGroup,"pointerdown",this,this.blockMouseDownWhenOpenable),te(this.svgGroup,"pointerup",this,this.click),te(a,"pointerover",this,this.mouseOver),te(a,"pointerout",this,this.mouseOut),this.animateLid(),this.svgGroup}init(){if(this.workspace.options.maxTrashcanContents>0){const e=this.flyout.createDom(Tn.SVG);ut(e,"blocklyTrashcanFlyout"),Ae(e,this.workspace.getParentSvg()),this.flyout.init(this.workspace)}this.workspace.getComponentManager().addComponent({component:this,weight:ns.ComponentWeight.TRASHCAN_WEIGHT,capabilities:[ns.Capability.AUTOHIDEABLE,ns.Capability.DELETE_AREA,ns.Capability.DRAG_TARGET,ns.Capability.POSITIONABLE]}),this.initialized=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup&&se(this.svgGroup),this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var e=this.contents.map(function(a){return JSON.parse(a)}),o=this.workspace.getParentSvg().style;o.cursor="wait",setTimeout(()=>{let a;(a=this.flyout)==null||a.show(e),o.cursor="";let d;(d=this.workspace.scrollbar)==null||d.setVisible(!1)},10),this.fireUiEvent(!0)}}closeFlyout(){if(this.contentsIsOpen()){var e;(e=this.flyout)==null||e.hide();var o;(o=this.workspace.scrollbar)==null||o.setVisible(!0),this.fireUiEvent(!1),this.workspace.recordDragTargets()}}autoHide(e){!e&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(e,o){if(this.initialized){var a=Yt(this.workspace,e);e=un(a,new pi(O3,g8+R3),$k,l$,e,this.workspace),o=fn(e,l$,a.vertical===ho.TOP?yu.DOWN:yu.UP,o),this.top=o.top,this.left=o.left;var d;(d=this.svgGroup)==null||d.setAttribute("transform","translate("+this.left+","+this.top+")");var M;(M=this.flyout)==null||M.position()}}getBoundingRectangle(){return new ci(this.top,this.top+g8+R3,this.left,this.left+O3)}getClientRect(){if(!this.svgGroup)return null;var e=this.svgGroup.getBoundingClientRect();const o=e.top+ed-v8;return e=e.left+Qf-v8,new ci(o,o+R3+g8+2*v8,e,e+O3+2*v8)}onDragOver(e){this.setLidOpen(this.wouldDelete_)}onDragExit(e){this.setLidOpen(!1)}onDrop(e){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(e){this.isLidOpen!==e&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=e,this.animateLid())}animateLid(){const e=_k;var o=1/(e+1);this.lidOpen+=this.isLidOpen?o:-o,this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1),this.setLidAngle(this.lidOpen*u$),o=a$+this.lidOpen*(wk-a$),this.svgGroup&&(this.svgGroup.style.opacity=`${o}`),this.lidOpen>this.minOpenness&&this.lidOpen<1&&(this.lidTask=setTimeout(this.animateLid.bind(this),yk/e))}setLidAngle(e){const o=this.workspace.toolboxPosition===mi.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let a;(a=this.svgLid)==null||a.setAttribute("transform","rotate("+(o?-e:e)+","+(o?4:O3-4)+","+(R3-2)+")")}setMinOpenness(e){this.minOpenness=e,this.isLidOpen||this.setLidAngle(e*u$)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}fireUiEvent(e){e=new(Ut(Mn.TRASHCAN_OPEN))(e,this.workspace.id),de(e)}blockMouseDownWhenOpenable(e){!this.contentsIsOpen()&&this.hasContents()&&e.stopPropagation()}mouseOver(){this.hasContents()&&this.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(e){if(!(this.workspace.options.maxTrashcanContents<=0||!N(e)||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson(e.oldJson)),!this.contents.includes(e)){for(this.contents.unshift(e);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(bk)}}}cleanBlockJson(e){function o(a){if(a){if(delete a.id,delete a.x,delete a.y,delete a.enabled,delete a.disabledReasons,a.icons&&a.icons.comment){var d=a.icons.comment;delete d.height,delete d.width,delete d.pinned}d=a.inputs;for(var M in d){var oe=d[M];const at=oe.block;oe=oe.shadow,at&&o(at),oe&&o(oe)}a.next&&(M=a.next,a=M.block,M=M.shadow,a&&o(a),M&&o(M))}}return e=JSON.parse(JSON.stringify(e)),o(e),Object.assign({},{kind:"BLOCK"},e)}},O3=47,g8=44,R3=16,l$=20,$k=20,v8=10,Qf=0,ed=32,bk=.1,yk=80,_k=4,a$=.4,wk=.8,u$=45,R5=null,L5=null,$8=void 0,Nu={};Nu.BlockPaster=y1,Nu.copy=T4,Nu.getLastCopiedData=Hs,Nu.getLastCopiedLocation=S4,Nu.getLastCopiedWorkspace=t2,Nu.paste=Ca,Nu.registry=s1,Nu.setLastCopiedData=E4,Nu.setLastCopiedLocation=V7,Nu.setLastCopiedWorkspace=x6;var H2={};H2.CollapseCommentBarButton=b3,H2.CommentBarButton=zh,H2.CommentEditor=y3,H2.CommentView=d1,H2.DeleteCommentBarButton=i8,H2.RenderedWorkspaceComment=Il,H2.WorkspaceComment=k2;var mc;(function(e){e.ESCAPE="escape",e.DELETE="delete",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.UNDO="undo",e.REDO="redo"})(mc||(mc={})),gh();var gc={};gc.names=mc,gc.registerCopy=n2,gc.registerCut=ph,gc.registerDefaultShortcuts=gh,gc.registerDelete=no,gc.registerEscape=n0,gc.registerPaste=ea,gc.registerRedo=mh,gc.registerUndo=r2;var Tk=class{constructor(e,o){this.procedureModelClass=e,this.parameterModelClass=o,this.priority=Da}save(e){return e=e.getProcedureMap().getProcedures().map(o=>x4(o)),e.length?e:null}load(e,o){const a=o.getProcedureMap();for(const d of e)a.add(C4(this.procedureModelClass,this.parameterModelClass,d,o))}clear(e){e.getProcedureMap().clear()}},b8={};b8.ProcedureSerializer=Tk,b8.loadProcedure=C4,b8.saveProcedure=x4;var c$=class{constructor(){this.priority=Zu}save(e){return e=e.getAllVariables().map(o=>o.save()),e.length?e:null}load(e,o){const a=$(Yn.VARIABLE_MODEL,B0);e.forEach(d=>{a?.load(d,o)})}clear(e){e.getVariableMap().clear()}};Un("variables",new c$);var h$={};h$.VariableSerializer=c$;var td={};td.load=M6,td.save=C6;var Ek={blocks:l1,exceptions:H0,priorities:ra,procedures:b8,registry:n3,variables:h$,workspaceComments:Qu,workspaces:td};"Blockly"in globalThis||(globalThis.Blockly={Msg:s3});var nd="label",f$=class{load(e,o){return e=new Yo(o.getWorkspace(),o.targetWorkspace,e,!0),e.show(),new R2(e,nd)}gapForItem(e,o){return o}disposeItem(e){e=e.getElement(),e instanceof Yo&&e.dispose()}getType(){return nd}};i(Yn.FLYOUT_INFLATER,nd,f$);var d$=class extends kn{constructor(e){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null,e&&(this.GRID_UNIT=e),this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=6*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=8*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(e){super.setFontConstants_(e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+this.FIELD_BORDER_RECT_Y_PADDING*2}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(e){super.setDynamicProperties_(e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const o=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=o&&!isNaN(o)?o:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter&&se(this.selectedGlowFilter),this.replacementGlowFilter&&se(this.replacementGlowFilter)}makeStartHat(){const e=this.START_HAT_HEIGHT,o=this.START_HAT_WIDTH,a=S0("c",[Hr(25,-e),Hr(71,-e),Hr(o,0)]);return{height:e*.75,width:o,path:a}}makeHexagonal(){function e(a,d,M){var oe=a/2;return oe=oe>o?o:oe,M=M?-1:1,a=(d?-1:1)*a/2,L0(-M*oe,a)+L0(M*oe,a)}const o=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(a){return a/=2,a>o?o:a},height(a){return a},connectionOffsetY(a){return a/2},connectionOffsetX(a){return-a},pathDown(a){return e(a,!1,!1)},pathUp(a){return e(a,!0,!1)},pathRightDown(a){return e(a,!1,!0)},pathRightUp(a){return e(a,!1,!0)}}}makeRounded(){function e(d,M,oe){const at=d>a?d-a:0;d=(d>a?a:d)/2;const qt=oe===M?"0":"1";return C("a","0 0,"+qt,d,Hr((oe?1:-1)*d,(M?-1:1)*d))+_("v",(M?-1:1)*at)+C("a","0 0,"+qt,d,Hr((oe?-1:1)*d,(M?-1:1)*d))}const o=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,a=o*2;return{type:this.SHAPES.ROUND,isDynamic:!0,width(d){return d/=2,d>o?o:d},height(d){return d},connectionOffsetY(d){return d/2},connectionOffsetX(d){return-d},pathDown(d){return e(d,!1,!1)},pathUp(d){return e(d,!0,!1)},pathRightDown(d){return e(d,!1,!0)},pathRightUp(d){return e(d,!1,!0)}}}makeSquared(){function e(a,d,M){a-=o*2;const oe=M===d?"0":"1";return C("a","0 0,"+oe,o,Hr((M?1:-1)*o,(d?-1:1)*o))+_("v",(d?-1:1)*a)+C("a","0 0,"+oe,o,Hr((M?-1:1)*o,(d?-1:1)*o))}const o=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(a){return o},height(a){return a},connectionOffsetY(a){return a/2},connectionOffsetX(a){return-a},pathDown(a){return e(a,!1,!1)},pathUp(a){return e(a,!0,!1)},pathRightDown(a){return e(a,!1,!0)},pathRightUp(a){return e(a,!1,!0)}}}shapeFor(e){let o=e.getCheck();switch(!o&&e.targetConnection&&(o=e.targetConnection.getCheck()),e.type){case Or.INPUT_VALUE:case Or.OUTPUT_VALUE:if(e=e.getSourceBlock().getOutputShape(),e!==null)switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return o&&o.includes("Boolean")?this.HEXAGONAL:o&&o.includes("Number")?this.ROUNDED:(o&&o.includes("String"),this.ROUNDED);case Or.PREVIOUS_STATEMENT:case Or.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function e(Gr){return S0("c",[Hr(Gr*M/2,0),Hr(Gr*M*3/4,at/2),Hr(Gr*M,at)])+S([Hr(Gr*M,oe)])+S0("c",[Hr(Gr*M/4,at/2),Hr(Gr*M/2,at),Hr(Gr*M,at)])+_("h",Gr*d)+S0("c",[Hr(Gr*M/2,0),Hr(Gr*M*3/4,-(at/2)),Hr(Gr*M,-at)])+S([Hr(Gr*M,-oe)])+S0("c",[Hr(Gr*M/4,-(at/2)),Hr(Gr*M/2,-at),Hr(Gr*M,-at)])}const o=this.NOTCH_WIDTH,a=this.NOTCH_HEIGHT,d=o/3,M=d/3,oe=a/2,at=oe/2,qt=e(1),Wn=e(-1);return{type:this.SHAPES.NOTCH,width:o,height:a,pathLeft:qt,pathRight:Wn}}makeInsideCorners(){const e=this.CORNER_RADIUS,o=C("a","0 0,0",e,Hr(-e,e)),a=C("a","0 0,1",e,Hr(-e,e)),d=C("a","0 0,0",e,Hr(e,e)),M=C("a","0 0,1",e,Hr(e,e));return{width:e,height:e,pathTop:o,pathBottom:d,rightWidth:e,rightHeight:e,pathTopRight:a,pathBottomRight:M}}generateSecondaryColour_(e){return So("#000",e,.15)||e}generateTertiaryColour_(e){return So("#000",e,.25)||e}createDom(e,o,a,d){super.createDom(e,o,a,d),e=Me(Tn.DEFS,{},e),o=Me(Tn.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),Me(Tn.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},o),a=Me(Tn.FECOMPONENTTRANSFER,{result:"outBlur"},o),Me(Tn.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},a),Me(Tn.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},o),Me(Tn.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},o),this.selectedGlowFilterId=o.id,this.selectedGlowFilter=o,e=Me(Tn.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),Me(Tn.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),o=Me(Tn.FECOMPONENTTRANSFER,{result:"outBlur"},e),Me(Tn.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},o),Me(Tn.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),Me(Tn.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),Me(Tn.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter=e,d&&(d.style.setProperty("--blocklySelectedGlowFilter",`url(#${this.selectedGlowFilterId})`),d.style.setProperty("--blocklyReplacementGlowFilter",`url(#${this.replacementGlowFilterId})`))}getCSS_(e){return[`${e} .blocklyText,`,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyTextInputBubble textarea {`,"font-weight: normal;","}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableField>rect:not(.blocklyDropdownRect),`,`${e} .blocklyEditableField>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",`${e} .blocklyNonEditableField>text,`,`${e} .blocklyEditableField>text,`,`${e} .blocklyNonEditableField>g>text,`,`${e} .blocklyEditableField>g>text {`,"fill: #575E75;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #575E75;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #575E75;","}",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableField:not(.blocklyEditing):hover>rect,",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableField:not(.blocklyEditing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",`${e} .blocklyDropdownText {`,"fill: #fff !important;","}",`${e}.blocklyWidgetDiv .blocklyMenuItem,`,`${e}.blocklyDropDownDiv .blocklyMenuItem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e}.blocklyDropDownDiv .blocklyMenuItemContent {`,"color: #fff;","}",`${e} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",`${e} .blocklyDisabledPattern > .blocklyOutlinePath {`,"fill: var(--blocklyDisabledPattern)","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}",`${e} .blocklySelected>.blocklyPath.blocklyPathSelected {`,"fill: none;","filter: var(--blocklySelectedGlowFilter);","}",`${e} .blocklyReplaceable>.blocklyPath {`,"filter: var(--blocklyReplacementGlowFilter);","}"]}},p$=class extends Jn{constructor(e,o){super(e,o)}draw(){const e=this.block_.pathObject;e.beginDrawing(),this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),e.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(e){if(!(e.height<=0)){if(rn.isSpacer(e)){const d=e.precedesStatement;var o=e.followsStatement;if(d||o){const M=this.constants_.INSIDE_CORNERS;var a=M.rightHeight;a=e.height-(d?a:0),o=o?M.pathBottomRight:"",e=a>0?_("V",e.yPos+a):"",this.outlinePath_+=o+e+(d?M.pathTopRight:"");return}}this.outlinePath_+=_("V",e.yPos+e.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){const e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=ls(e.xPos,this.info_.startY),this.outlinePath_+=_("h",e.width)}drawFlatBottom_(){const e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=_("V",e.baseline),this.outlinePath_+=_("h",-e.width)}drawInlineInput_(e){this.positionInlineInputConnection_(e);const o=e.input.name;e.connectedBlock||this.info_.isInsertionMarker||(e=xo(e.xPos+e.connectionWidth,e.centerline-e.height/2)+this.getInlineInputPath(e),this.block_.pathObject.setOutlinePath(o,e))}getInlineInputPath(e){const o=e.width-e.connectionWidth*2,a=e.height;return _("h",o)+e.shape.pathRightDown(a)+_("h",-o)+e.shape.pathUp(a)+"z"}drawStatementInput_(e){var o=e.getLastInput();const a=o.xPos+o.notchOffset+o.shape.width,d=this.constants_.INSIDE_CORNERS,M=o.shape.pathRight+_("h",-(o.notchOffset-d.width))+d.pathTop,oe=e.height-2*d.height;o=d.pathBottom+_("h",o.notchOffset-d.width)+(o.connectedBottomNextConnection?"":o.shape.pathLeft),this.outlinePath_+=_("H",a)+M+_("v",oe)+o+_("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}drawConnectionHighlightPath(e){const o=e.connectionModel;if(o.type===Or.NEXT_STATEMENT||o.type===Or.PREVIOUS_STATEMENT||o.type===Or.OUTPUT_VALUE&&!e.isDynamicShape)return super.drawConnectionHighlightPath(e);e=o.type===Or.INPUT_VALUE?xo(e.connectionWidth,-e.height/2)+this.getInlineInputPath(e):xo(e.width,-e.height/2)+e.shape.pathDown(e.height);const a=o.getSourceBlock();let d,M;return(M=(d=a.pathObject).addConnectionHighlight)==null?void 0:M.call(d,o,e,o.getOffsetInBlock(),a.RTL)}},Kh=class extends cs{constructor(e,o,a,d,M,oe,at){if(super(cs.SKIP_SETUP),this.imageElement=this.clickHandler=null,this.flipRtl=this.isDirty_=this.EDITABLE=!1,this.altText="",a=Number(ii(a)),o=Number(ii(o)),isNaN(a)||isNaN(o))throw Error("Height and width values of an image field must cast to numbers.");if(a<=0||o<=0)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new pi(o,a+Kh.Y_PADDING),this.imageHeight=a,typeof M=="function"&&(this.clickHandler=M),e!==cs.SKIP_SETUP&&(at?this.configure_(at):(this.flipRtl=!!oe,this.altText=ii(d)||""),this.setValue(ii(e)))}configure_(e){super.configure_(e),e.flipRtl&&(this.flipRtl=e.flipRtl),e.alt&&(this.altText=ii(e.alt))}initView(){this.imageElement=Me(Tn.IMAGE,{height:this.imageHeight+"px",width:this.size_.width+"px",alt:this.altText},this.fieldGroup_),this.imageElement.setAttributeNS(C0,"xlink:href",this.value_),this.fieldGroup_&&ut(this.fieldGroup_,"blocklyImageField"),this.clickHandler&&(this.imageElement.style.cursor="pointer")}updateSize_(){}doClassValidation_(e){return typeof e!="string"?null:e}doValueUpdate_(e){this.value_=e,this.imageElement&&this.imageElement.setAttributeNS(C0,"xlink:href",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(e){e!==this.altText&&(this.altText=e||"",this.imageElement&&this.imageElement.setAttribute("alt",this.altText))}isClickable(){return super.isClickable()&&!!this.clickHandler}showEditor_(){this.clickHandler&&this.clickHandler(this)}setOnClickHandler(e){this.clickHandler=e}getText_(){return this.altText}static fromJson(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}};Kh.Y_PADDING=1,T0("field_image",Kh),Kh.prototype.DEFAULT_VALUE="";var y8=14,L3=class extends cs{set size_(e){super.size_=e}get size_(){const e=super.size_;return e.width<y8&&(e.width=y8),e}constructor(e,o,a){super(cs.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onInputWrapper=this.onKeyDownWrapper=this.valueWhenEditorWasOpened_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,e!==cs.SKIP_SETUP&&(a&&this.configure_(a),this.setValue(e),o&&this.setValidator(o))}configure_(e){super.configure_(e),e.spellcheck!==void 0&&(this.spellcheck_=e.spellcheck)}initView(){if(!this.getSourceBlock())throw new fo;super.initView(),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot()),this.fieldGroup_&&ut(this.fieldGroup_,"blocklyInputField")}isFullBlockField(){const e=this.getSourceBlock();if(!e)throw new fo;let o;return this.fullBlockClickTarget_=!((o=this.getConstants())==null||!o.FULL_BLOCK_FIELDS)&&e.isSimpleReporter()}doValueInvalid_(e,o=!0){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.valueWhenEditorWasOpened_,this.sourceBlock_&&et()&&this.value_!==e&&o&&de(new(Ut(Mn.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}doValueUpdate_(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}applyColour(){const e=this.getSourceBlock();if(!e)throw new fo;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?(this.borderRect_.style.display="block",this.borderRect_.setAttribute("stroke",e.getColourTertiary())):(this.borderRect_.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}getSize(){let e;return(e=this.getConstants())!=null&&e.FULL_BLOCK_FIELDS&&(this.render_(),this.isDirty_=!1),super.getSize()}onLocationChange(){this.isBeingEdited_&&this.resizeEditor_()}render_(){if(super.render_(),this.isBeingEdited_){var e=this.htmlInput_;this.isTextValid_?(nn(e,"blocklyInvalidInput"),mr(e,qs.INVALID,!1)):(ut(e,"blocklyInvalidInput"),mr(e,qs.INVALID,!0))}if(e=this.getSourceBlock(),!e)throw new fo;this.getConstants().FULL_BLOCK_FIELDS&&e.applyColour()}setSpellcheck(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(e,o=!1,a=!0){this.workspace_=this.sourceBlock_.workspace,!o&&this.workspace_.options.modalInputs&&(Y7||j4||f2)?this.showPromptEditor():this.showInlineEditor(o,a)}showPromptEditor(){k(r.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,this.getText(),e=>{e!==null&&this.setValue(this.getValueFromEditorText_(e)),this.onFinishEditing_(this.value_)})}showInlineEditor(e,o){const a=this.getSourceBlock();if(!a)throw new fo;ql(this,a.RTL,this.widgetDispose_.bind(this),this.workspace_,o),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,this.valueWhenEditorWasOpened_=this.value_,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var e=this.getSourceBlock();if(!e)throw new fo;r.setGroup$$module$build$src$core$events$utils(!0);const o=Lo();var a=this.getClickTarget_();if(!a)throw Error("A click target has not been set.");ut(a,"blocklyEditing"),a=document.createElement("input"),a.className="blocklyHtmlInput",a.setAttribute("spellcheck",this.spellcheck_);const d=this.workspace_.getAbsoluteScale();var M=this.getConstants().FIELD_TEXT_FONTSIZE*d+"pt";return o.style.fontSize=M,a.style.fontSize=M,M=L3.BORDERRADIUS*d+"px",this.isFullBlockField()&&(M=this.getScaledBBox(),M=(M.bottom-M.top)/2+"px",e=e.getParent()?e.getParent().getColourTertiary():this.sourceBlock_.getColourTertiary(),a.style.border=1*d+"px solid "+e,o.style.borderRadius=M,o.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(o.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*d+"px")),a.style.borderRadius=M,o.appendChild(a),a.value=a.defaultValue=this.getEditorText_(this.value_),a.setAttribute("data-untyped-default-value",String(this.value_)),this.resizeEditor_(),this.bindInputEvents_(a),a}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),this.sourceBlock_&&et()&&this.valueWhenEditorWasOpened_!==null&&this.valueWhenEditorWasOpened_!==this.value_&&(de(new(Ut(Mn.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null),r.setGroup$$module$build$src$core$events$utils(!1),this.unbindInputEvents_();var e=Lo().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,e=this.getClickTarget_(),!e)throw Error("A click target has not been set.");nn(e,"blocklyEditing")}onFinishEditing_(e){}bindInputEvents_(e){this.onKeyDownWrapper=le(e,"keydown",this,this.onHtmlInputKeyDown_),this.onInputWrapper=le(e,"input",this,this.onHtmlInputChange)}unbindInputEvents_(){this.onKeyDownWrapper&&(Ce(this.onKeyDownWrapper),this.onKeyDownWrapper=null),this.onInputWrapper&&(Ce(this.onInputWrapper),this.onInputWrapper=null)}onHtmlInputKeyDown_(e){if(e.key==="Enter")ll(this),Wt();else if(e.key==="Escape")this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value"),!1),ll(this),Wt();else if(e.key==="Tab"){e.preventDefault();var o,a=(o=this.workspace_)==null?void 0:o.getCursor();o=d=>(d instanceof L3||d instanceof Ss&&d.isSimpleReporter())&&d!==this.getSourceBlock(),e=e.shiftKey?a?.getPreviousNode(this,o,!1):a?.getNextNode(this,o,!1),e=e instanceof Ss&&e.isSimpleReporter()?e.getFields().next().value:e,e instanceof L3&&(ll(this),Wt(),a=e.getSourceBlock(),e.isFullBlockField()&&a&&a instanceof Ss?r.getFocusManager$$module$build$src$core$focus_manager().focusNode(a):r.getFocusManager$$module$build$src$core$focus_manager().focusNode(e),e.showEditor())}}onHtmlInputChange(e){e=this.value_,this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1),this.sourceBlock_&&et()&&this.value_!==e&&de(new(Ut(Mn.BLOCK_FIELD_INTERMEDIATE_CHANGE))(this.sourceBlock_,this.name||null,e,this.value_))}setEditorValue_(e,o=!0){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e,o)}resizeEditor_(){hr().then(()=>{const e=this.getSourceBlock();if(!e)throw new fo;const o=Lo(),a=this.getScaledBBox();o.style.width=a.right-a.left+"px",o.style.height=a.bottom-a.top+"px";const d=a.top;o.style.left=`${e.RTL?a.right-o.offsetWidth:a.left}px`,o.style.top=`${d}px`})}repositionForWindowResize(){let e;const o=(e=this.getSourceBlock())==null?void 0:e.getRootBlock();return o instanceof Ss?(ui(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),o)||this.resizeEditor_(),!0):!1}positionTextElement_(e,o){const a=e*2+o;super.positionTextElement_(e+(a<y8?(y8-a)/2:0),o)}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(e){return`${e}`}getValueFromEditorText_(e){return e}};L3.BORDERRADIUS=4,r.FieldTextInput$$module$build$src$core$field_textinput=class extends L3{constructor(e,o,a){super(e,o,a)}initView(){super.initView(),this.fieldGroup_&&ut(this.fieldGroup_,"blocklyTextInputField")}doClassValidation_(e){return e===void 0?null:`${e}`}static fromJson(e){return new this(ii(e.text),void 0,e)}},T0("field_input",r.FieldTextInput$$module$build$src$core$field_textinput),r.FieldTextInput$$module$build$src$core$field_textinput.prototype.DEFAULT_VALUE="",r.FieldTextInput$$module$build$src$core$field_textinput;var m$=class extends l{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){return!!e.outputConnection}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},_8=class extends yn{constructor(e,o){if(super(e,o),this.connectedBottomNextConnection=!1,this.connectedBlock){for(e=this.connectedBlock;o=e.getNextBlock();)e=o;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},g$=class extends qa{constructor(e){super(e),this.width=this.height=0,this.type|=rn.getType("RIGHT_CONNECTION")}},v$=class extends on{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){const o=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||o}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},$$=class extends Xr{constructor(e,o){super(e,o),this.isInline=!0,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.topRow=new v$(this.constants_),this.bottomRow=new m$(this.constants_),this.isMultiRow=!o.getInputsInline()||o.isCollapsed(),this.hasStatementInput=o.statementInputCount>0,this.rightSide=this.outputConnection?new g$(this.constants_):null,this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(e,o){return o?o instanceof vl||e instanceof j0||o instanceof j0?!0:e instanceof r.ValueInput$$module$build$src$core$inputs$value_input||e instanceof k0||e instanceof vl?!this.isInline||this.isMultiRow:!1:!1}getDesiredRowWidth_(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(e)}getInRowSpacing_(e,o){return e&&o||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&o&&rn.isStatementInput(o)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&rn.isLeftRoundedCorner(e)&&o&&(rn.isPreviousConnection(o)||rn.isNextConnection(o))?o.notchOffset-this.constants_.CORNER_RADIUS:e&&rn.isLeftSquareCorner(e)&&o&&rn.isHat(o)||e&&rn.isField(e)&&e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(e,o){if(rn.isTopRow(e)&&rn.isBottomRow(o))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;const a=rn.isInputRow(e)&&e.hasStatement,d=rn.isInputRow(o)&&o.hasStatement;return d||a?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),d&&a?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):rn.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):rn.isBottomRow(o)?this.outputConnection?!o.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(e,o){const a=this.width-this.startX;return rn.isInputRow(e)&&e.hasStatement||rn.isInputRow(o)&&o.hasStatement?Math.max(a,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):a}getElemCenterline_(e,o){if(e.hasStatement&&!rn.isSpacer(o)&&!rn.isStatementInput(o))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(rn.isInlineInput(o)){const a=o.connectedBlock;if(a&&a.outputConnection&&a.nextConnection)return e.yPos+a.height/2}return super.getElemCenterline_(e,o)}addInput_(e,o){if((e instanceof k0||e instanceof vl)&&o.hasDummyInput&&o.align===r.Align$$module$build$src$core$inputs$align.LEFT&&e.align===r.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(o,e);else if(e instanceof j0){o.elements.push(new _8(this.constants_,e)),o.hasStatement=!0,o.align===null&&(o.align=e.align);return}super.addInput_(e,o)}addAlignmentPadding_(e,o){if(this.rightAlignedDummyInputs.get(e)){let a;for(let d=0;d<e.elements.length;d++){const M=e.elements[d];if(rn.isSpacer(M)&&(a=M),rn.isField(M)&&M.parentInput===this.rightAlignedDummyInputs.get(e))break}if(a){a.width+=o,e.width+=o;return}}super.addAlignmentPadding_(e,o)}adjustXPosition_(){const e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let o=e;for(let M=2;M<this.rows.length-1;M+=2){var a=this.rows[M-1];const oe=this.rows[M];var d=this.rows[M+1];if(a=M===2?!!this.topRow.hasPreviousConnection:!!a.followsStatement,d=M+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!d.precedesStatement,rn.isInputRow(oe)&&oe.hasStatement){oe.measure();let at,qt;o=oe.width-((qt=(at=oe.getLastInput())==null?void 0:at.width)!=null?qt:0)+e}else if(a&&(M===2||d)&&rn.isInputRow(oe)&&!oe.hasStatement){d=oe.xPos,a=null;for(let at=0;at<oe.elements.length;at++){const qt=oe.elements[at];rn.isSpacer(qt)&&(a=qt),!(a&&(rn.isField(qt)||rn.isInput(qt))&&d<o)||rn.isField(qt)&&(qt.field instanceof v1||qt.field instanceof Kh)||(a.width+=o-d),d+=qt.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var o=0,a=0;a<this.rows.length;a++){const d=this.rows[a];d.yPos=o,o+=d.height}this.height=o,a=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,o=e.height(a),a=e.width(a),this.outputConnection.height=o,this.outputConnection.width=a,this.outputConnection.startX=a,this.outputConnection.connectionOffsetY=e.connectionOffsetY(o),this.outputConnection.connectionOffsetX=e.connectionOffsetX(a),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=a,this.rightSide.height=o,this.rightSide.width=e,this.rightSide.centerline=o/2,this.rightSide.xPos=this.width+e),this.startX=a,this.width+=a+e,this.widthWithChildren+=a+e}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,o=0;o<this.rows.length;o++){var a=this.rows[o];if(!rn.isInputRow(a))continue;e=a.elements[a.elements.length-2];let d=this.getNegativeSpacing_(a.elements[1]),M=this.getNegativeSpacing_(e);e=d+M;const oe=this.constants_.MIN_BLOCK_WIDTH+this.outputConnection.width*2;this.width-e<oe&&(e=this.width-oe,d=e/2,M=e/2),a.elements.unshift(new At(this.constants_,-d)),a.elements.push(new At(this.constants_,-M))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,o=0;o<this.rows.length;o++)a=this.rows[o],rn.isTopOrBottomRow(a)&&(a.elements[1].width-=e),a.width-=e,a.widthWithConnectedBlocks-=e}}getNegativeSpacing_(e){if(!e||!this.outputConnection)return 0;const o=this.outputConnection.width;var a=this.outputConnection.shape.type;const d=this.constants_;if(this.inputRows.length>1)switch(a){case d.SHAPES.ROUND:return a=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,a=this.height/2>a?a:this.height/2,o-a*(1-Math.sin(Math.acos((a-this.constants_.SMALL_PADDING)/a)));default:return 0}if(rn.isInlineInput(e)){const M=e.connectedBlock;return e=M?M.pathObject.outputShapeType:e.shape.type,e==null||M&&M.outputConnection&&(M.statementInputCount||M.nextConnection)||a===d.SHAPES.HEXAGONAL&&a!==e?0:o-this.constants_.SHAPE_IN_SHAPE_PADDING[a][e]}return rn.isField(e)?a===d.SHAPES.ROUND&&e.field instanceof r.FieldTextInput$$module$build$src$core$field_textinput?o-2.75*d.GRID_UNIT:o-this.constants_.SHAPE_IN_SHAPE_PADDING[a][0]:rn.isIcon(e)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let d=2;d<this.rows.length-1;d+=2){const M=this.rows[d-1],oe=this.rows[d],at=this.rows[d+1];var e=d===2,o=d+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!at.precedesStatement;if(e?this.topRow.hasPreviousConnection:M.followsStatement){var a=oe.elements[1];if(a=oe.elements.length===3&&a instanceof U&&(a.field instanceof v1||a.field instanceof Kh),!e&&a)M.height-=this.constants_.SMALL_PADDING,at.height-=this.constants_.SMALL_PADDING,oe.height-=this.constants_.MEDIUM_PADDING;else if(!e&&!o)M.height+=this.constants_.SMALL_PADDING;else if(o){for(e=!1,o=0;o<oe.elements.length;o++)if(a=oe.elements[o],rn.isInlineInput(a)&&a.connectedBlock&&!a.connectedBlock.isShadow()&&a.connectedBlock.getHeightWidth().height>=40){e=!0;break}e&&(M.height-=this.constants_.SMALL_PADDING,at.height-=this.constants_.SMALL_PADDING)}}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},b$=class extends Gi{constructor(e,o,a){super(e,o,a),this.svgPathSelected=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=a}setPath(e){super.setPath(e),this.svgPathSelected&&this.svgPathSelected.setAttribute("d",e)}applyColour(e){super.applyColour(e);const o=e.getParent();e.isShadow()&&o&&this.svgPath.setAttribute("stroke",o.getColourTertiary());for(const a of this.outlines.values())a.setAttribute("fill",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const e of this.outlines.values())e.setAttribute("transform","scale(-1 1)")}updateSelected(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.classList.add("blocklyPathSelected"),nn(this.svgPathSelected,Go.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),nn(this.svgPathSelected,Go.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME),this.svgPathSelected.removeAttribute("tabindex"),this.svgPathSelected.removeAttribute("id"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,o){e=e.getParentInput().name,(e=this.getOutlinePath(e))&&(o?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}beginDrawing(){this.remainingOutlines.clear();for(const e of this.outlines.keys())this.remainingOutlines.add(e)}endDrawing(){if(this.remainingOutlines.size)for(const e of this.remainingOutlines)this.removeOutlinePath(e);this.remainingOutlines.clear()}setOutlinePath(e,o){e=this.getOutlinePath(e),e.setAttribute("d",o),e.setAttribute("fill",this.style.colourTertiary)}getOutlinePath(e){return this.outlines.has(e)||this.outlines.set(e,Me(Tn.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}removeOutlinePath(e){let o,a;(o=this.outlines.get(e))==null||(a=o.parentNode)==null||a.removeChild(this.outlines.get(e)),this.outlines.delete(e)}},rd=class extends Vr{constructor(e){super(e)}makeConstants_(){return new d$}makeRenderInfo_(e){return new $$(this,e)}makeDrawer_(e,o){return new p$(e,o)}makePathObject(e,o){return new b$(e,o,this.getConstants())}getConstants(){return this.constants_}};dl("zelos",rd);var y$=class{constructor(e){this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null,this.workspace=e.workspace}previewReplacement(e,o,a){r.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=a,a.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(o)&&(o.highlight(),this.staticConn=o)}finally{r.enable$$module$build$src$core$events$utils()}}previewConnection(e,o){if(e!==this.draggedConn||o!==this.staticConn){r.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(e,o)&&(this.markerConn=this.previewMarker(e,o)),this.workspace.getRenderer().shouldHighlightConnection(o)&&o.highlight(),this.draggedConn=e,this.staticConn=o}finally{r.enable$$module$build$src$core$events$utils()}}}shouldUseMarkerPreview(e,o){return o.type===Or.PREVIOUS_STATEMENT||o.type===Or.NEXT_STATEMENT||!(this.workspace.getRenderer()instanceof rd)}previewMarker(e,o){const a=e.getSourceBlock(),d=this.createInsertionMarker(a),M=this.getMatchingConnection(a,d,e);if(!M)return null;d.queueRender(),v(),M.connect(o);const oe={x:o.x-M.x,y:o.y-M.y},at=M.getOffsetInBlock().clone();return hr().then(()=>{if(!d.isDeadOrDying()){r.disable$$module$build$src$core$events$utils();try{d?.positionNearConnection(M,oe,at),d?.getSvgRoot().setAttribute("visibility","visible")}finally{r.enable$$module$build$src$core$events$utils()}}}),M}serializeBlockToInsertionMarker(e){const o=Zr(e,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!o)throw Error(`Failed to serialize source block. ${e.toDevString()}`);return o}createInsertionMarker(e){e=this.serializeBlockToInsertionMarker(e),e=es(e,this.workspace);for(const o of e.getDescendants(!1))o.setInsertionMarker(!0);return e.initSvg(),e.getSvgRoot().setAttribute("visibility","hidden"),e}getMatchingConnection(e,o,a){if(e=e.getConnections_(!0),o=o.getConnections_(!0),e.length!==o.length)return null;for(let d=0;d<e.length;d++)if(e[d]===a)return o[d];return null}hidePreview(){r.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{r.enable$$module$build$src$core$events$utils()}}hideInsertionMarker(e){const o=e.getSourceBlock(),a=o.outputConnection;let d;if((d=o.previousConnection)!=null&&d.targetConnection||a!=null&&a.targetConnection)o.unplug(!0);else{let M;(M=e.targetBlock())==null||M.unplug(!1)}o.dispose()}dispose(){this.hidePreview()}};i(Yn.CONNECTION_PREVIEWER,B0,y$);var V2={};V2.Align=r.Align$$module$build$src$core$inputs$align,V2.DummyInput=k0,V2.EndRowInput=vl,V2.Input=b1,V2.StatementInput=j0,V2.ValueInput=r.ValueInput$$module$build$src$core$inputs$value_input,V2.inputTypes=r.inputTypes$$module$build$src$core$inputs$input_types;var _$=!1,w$;r.CodeGenerator$$module$build$src$core$generator=class{constructor(e){this.forBlock=Object.create(null),this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=Y());var o=[];this.init(e),e=e.getTopBlocks(!0);for(let a=0,d;d=e[a];a++){let M=this.blockToCode(d);Array.isArray(M)&&(M=M[0]),M&&(d.outputConnection&&(M=this.scrubNakedValue(M),this.STATEMENT_PREFIX&&!d.suppressPrefixSuffix&&(M=this.injectId(this.STATEMENT_PREFIX,d)+M),this.STATEMENT_SUFFIX&&!d.suppressPrefixSuffix&&(M+=this.injectId(this.STATEMENT_SUFFIX,d))),o.push(M))}return o=o.join(`
`),o=this.finish(o),o=o.replace(/^\s+\n/,""),o=o.replace(/\n\s+$/,`
`),o=o.replace(/[ \t]+\n/g,`
`)}prefixLines(e,o){return o+e.replace(/(?!\n$)\n/g,`
`+o)}allNestedComments(e){const o=[];e=e.getDescendants(!0);for(let a=0;a<e.length;a++){const d=e[a].getCommentText();d&&o.push(d)}return o.length&&o.push(""),o.join(`
`)}blockToCode(e,o){if(this.isInitialized===!1&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return o?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return o?"":this.blockToCode(e.getChildren(!1)[0]);var a=this.forBlock[e.type];if(typeof a!="function")throw Error(`${this.name_} generator does not know how to generate code for block type "${e.type}".`);if(a=a.call(e,e,this),Array.isArray(a)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,a[0],o),a[1]]}if(typeof a=="string")return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(a=this.injectId(this.STATEMENT_PREFIX,e)+a),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(a+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,a,o);if(a===null)return"";throw SyntaxError("Invalid code generated: "+a)}valueToCode(e,o,a){if(isNaN(a))throw TypeError("Expecting valid order from block: "+e.type);var d=e.getInputTargetBlock(o);if(!d&&!e.getInput(o))throw ReferenceError(`Input "${o}" doesn't exist on "${e.type}"`);if(!d||(o=this.blockToCode(d),o===""))return"";if(!Array.isArray(o))throw TypeError(`Expecting tuple from value block: ${d.type} See developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information`);if(e=o[0],o=o[1],isNaN(o))throw TypeError("Expecting valid order from value block: "+d.type);if(!e)return"";d=!1;var M=Math.floor(a);const oe=Math.floor(o);if(M<=oe&&(M!==oe||M!==0&&M!==99)){for(d=!0,M=0;M<this.ORDER_OVERRIDES.length;M++)if(this.ORDER_OVERRIDES[M][0]===a&&this.ORDER_OVERRIDES[M][1]===o){d=!1;break}}return d&&(e="("+e+")"),e}statementToCode(e,o){const a=e.getInputTargetBlock(o);if(!a&&!e.getInput(o))throw ReferenceError(`Input "${o}" doesn't exist on "${e.type}"`);if(e=this.blockToCode(a),typeof e!="string")throw TypeError("Expecting code from statement block: "+(a&&a.type));return e&&(e=this.prefixLines(e,this.INDENT)),e}addLoopTrap(e,o){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,o),this.INDENT)+e),this.STATEMENT_SUFFIX&&!o.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,o),this.INDENT)+e),this.STATEMENT_PREFIX&&!o.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,o),this.INDENT)),e}injectId(e,o){return o=o.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+o+"'")}addReservedWords(e){this.RESERVED_WORDS_+=e+","}provideFunction_(e,o){if(!this.definitions_[e]){const a=this.nameDB_.getDistinctName(e,r.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[e]=a,Array.isArray(o)&&(o=o.join(`
`)),o=o.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,a);let d;for(;d!==o;)d=o,o=o.replace(/^(( {2})*) {2}/gm,"$1\0");o=o.replace(/\0/g,this.INDENT),this.definitions_[e]=o}return this.functionNames_[e]}getVariableName(e){return this.getName(e,r.NameType$$module$build$src$core$names.VARIABLE)}getProcedureName(e){return this.getName(e,r.NameType$$module$build$src$core$names.PROCEDURE)}getName(e,o){if(!this.nameDB_)throw Error("Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.");return this.nameDB_.getName(e,o)}init(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(e,o,a){return o}finish(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}scrubNakedValue(e){return e}},w$={},w$.CodeGenerator=r.CodeGenerator$$module$build$src$core$generator;var id=class extends dc{constructor(e){super(e)}setMetrics_(e){if(this.isVisible()){var o=this.workspace_.getMetricsManager(),a=o.getScrollMetrics(),d=o.getViewMetrics();o=o.getAbsoluteMetrics(),typeof e.y=="number"&&(this.workspace_.scrollY=-(a.top+(a.height-d.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+o.left,this.workspace_.scrollY+o.top)}}getX(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const o=e.getAbsoluteMetrics(),a=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===mi.LEFT?e.width:a.width-this.getWidth():this.toolboxPosition_===mi.LEFT?0:a.width:this.toolboxPosition_===mi.LEFT?0:a.width+o.left-this.getWidth()}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height;var o=this.getWidth()-this.CORNER_RADIUS;this.setBackgroundPath(o,e.height-2*this.CORNER_RADIUS),e=this.getX(),o=this.getY(),this.positionAt_(this.getWidth(),this.getHeight(),e,o)}}setBackgroundPath(e,o){const a=this.toolboxPosition_===mi.RIGHT;var d=e+this.CORNER_RADIUS;d=["M "+(a?d:0)+",0"],d.push("h",a?-e:e),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,a?0:1,a?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("v",Math.max(0,o)),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,a?0:1,a?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("h",a?e:-e),d.push("z"),this.svgBackground_.setAttribute("d",d.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setY(0)}wheel_(e){var o=je(e);if(o.y){const a=this.workspace_.getMetricsManager(),d=a.getScrollMetrics();o=a.getViewMetrics().top-d.top+o.y;let M;(M=this.workspace_.scrollbar)==null||M.setY(o),R0(this.workspace_),Wt()}e.preventDefault(),e.stopPropagation()}layout_(e){this.workspace_.scale=this.targetWorkspace.scale;var o=this.MARGIN;const a=this.RTL?o:o+this.tabWidth_;for(const d of e)d.getElement().moveBy(a,o),o+=d.getElement().getBoundingRectangle().getHeight()}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const o=this.dragAngleRange_;return e<o&&e>-o||e<-180+o||e>180-o}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),o=e.left;return this.toolboxPosition_===mi.LEFT?new ci(-1e9,1e9,-1e9,o+e.width):new ci(-1e9,1e9,o,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=this.getContents().reduce((o,a)=>Math.max(o,a.getElement().getBoundingRectangle().getWidth()),0);if(e+=this.MARGIN*1.5+this.tabWidth_,e*=this.workspace_.scale,e+=Js.scrollbarThickness,this.getWidth()!==e){if(this.RTL)for(const o of this.getContents()){const a=o.getElement().getBoundingRectangle().left,d=e/this.workspace_.scale-o.getElement().getBoundingRectangle().getWidth()-this.MARGIN-this.tabWidth_;o.getElement().moveBy(d-a,0)}this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==mi.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};id.registryName="verticalFlyout",i(Yn.FLYOUTS_VERTICAL_TOOLBOX,B0,id);var T$=class extends dc{constructor(e){super(e),this.horizontalLayout=!0}setMetrics_(e){if(this.isVisible()){var o=this.workspace_.getMetricsManager(),a=o.getScrollMetrics(),d=o.getViewMetrics();o=o.getAbsoluteMetrics(),typeof e.x=="number"&&(this.workspace_.scrollX=-(a.left+(a.width-d.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+o.left,this.workspace_.scrollY+o.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const o=e.getAbsoluteMetrics(),a=e.getViewMetrics();e=e.getToolboxMetrics();const d=this.toolboxPosition_===mi.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?d?e.height:a.height-this.getHeight():d?0:a.height:d?0:a.height+o.top-this.getHeight()}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,e=e.width-2*this.CORNER_RADIUS;var o=this.getHeight()-this.CORNER_RADIUS;this.setBackgroundPath(e,o),e=this.getX(),o=this.getY(),this.positionAt_(this.getWidth(),this.getHeight(),e,o)}}setBackgroundPath(e,o){const a=this.toolboxPosition_===mi.TOP,d=["M 0,"+(a?0:this.CORNER_RADIUS)];a?(d.push("h",e+2*this.CORNER_RADIUS),d.push("v",o),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("h",-e),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),d.push("h",e),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("v",o),d.push("h",-e-2*this.CORNER_RADIUS)),d.push("z"),this.svgBackground_.setAttribute("d",d.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setX(this.RTL?1/0:0)}wheel_(e){var o=je(e);if(o=o.x||o.y){const a=this.workspace_.getMetricsManager(),d=a.getScrollMetrics();o=a.getViewMetrics().left-d.left+o;let M;(M=this.workspace_.scrollbar)==null||M.setX(o),R0(this.workspace_),Wt()}e.preventDefault(),e.stopPropagation()}layout_(e){this.workspace_.scale=this.targetWorkspace.scale;const o=this.MARGIN;let a=o+this.tabWidth_;this.RTL&&(e=e.reverse());for(const d of e)e=d.getElement().getBoundingRectangle(),e=this.RTL?a+e.getWidth():a,d.getElement().moveBy(e,o),a+=d.getElement().getBoundingRectangle().getWidth()}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const o=this.dragAngleRange_;return e<90+o&&e>90-o||e>-90-o&&e<-90+o}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),o=e.top;return this.toolboxPosition_===mi.TOP?new ci(-1e9,o+e.height,-1e9,1e9):new ci(o,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=this.getContents().reduce((o,a)=>Math.max(o,a.getElement().getBoundingRectangle().getHeight()),0);e+=this.MARGIN*1.5,e*=this.workspace_.scale,e+=Js.scrollbarThickness,this.getHeight()!==e&&(this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==mi.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets())}};i(Yn.FLYOUTS_HORIZONTAL_TOOLBOX,B0,T$);var D5=class extends jo{constructor(e,o,a,d,M){super(cs.SKIP_SETUP),this.defaultType="",this.variableTypes=[],this.variable=null,this.SERIALIZABLE=!0,this.menuGenerator_=D5.dropdownCreate,this.defaultVariableName=typeof e=="string"?e:"",this.size_=new pi(0,0),e!==cs.SKIP_SETUP&&(M?this.configure_(M):this.setTypes(a,d),o&&this.setValidator(o))}configure_(e){super.configure_(e),this.setTypes(e.variableTypes,e.defaultType)}initModel(){var e=this.getSourceBlock();if(!e)throw new fo;this.variable||(e=r.getOrCreateVariablePackage$$module$build$src$core$variables(e.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(e.getId()))}initView(){super.initView(),ut(this.fieldGroup_,"blocklyVariableField")}shouldAddBorderRect_(){const e=this.getSourceBlock();if(!e)throw new fo;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||e.type!=="variables_get")}fromXml(e){var o=this.getSourceBlock();if(!o)throw new fo;const a=e.getAttribute("id"),d=e.textContent,M=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(o=r.getOrCreateVariablePackage$$module$build$src$core$variables(o.workspace,a,d,M),M!==null&&M!==o.getType())throw Error("Serialized variable type with id '"+o.getId()+"' had type "+o.getType()+", and does not match variable field that references it: "+Cs(e)+".");this.setValue(o.getId())}toXml(e){return this.initModel(),e.id=this.variable.getId(),e.textContent=this.variable.getName(),this.variable.getType()&&e.setAttribute("variabletype",this.variable.getType()),e}saveState(e){var o=this.saveLegacyState(D5);return o!==null||(this.initModel(),o={id:this.variable.getId()},e&&(o.name=this.variable.getName(),o.type=this.variable.getType())),o}loadState(e){const o=this.getSourceBlock();if(!o)throw new fo;this.loadLegacyState(D5,e)||(e=r.getOrCreateVariablePackage$$module$build$src$core$variables(o.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}setSourceBlock(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(e)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.getName():""}getVariable(){return this.variable}getDefaultType(){return this.defaultType}getValidator(){return this.variable?this.validator_:null}doClassValidation_(e){if(e===null)return null;var o=this.getSourceBlock();if(!o)throw new fo;return o=r.getVariable$$module$build$src$core$variables(o.workspace,e),o?(o=o.getType(),this.typeIsAllowed(o)?e:(console.warn("Variable type doesn't match this field!  Type was "+o),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}doValueUpdate_(e){const o=this.getSourceBlock();if(!o)throw new fo;this.variable=r.getVariable$$module$build$src$core$variables(o.workspace,e),super.doValueUpdate_(e)}typeIsAllowed(e){const o=this.getVariableTypes();if(!o)return!0;for(let a=0;a<o.length;a++)if(e===o[a])return!0;return!1}getVariableTypes(){if(this.variableTypes)return this.variableTypes;if(!this.sourceBlock_||this.sourceBlock_.isDeadOrDying())return[""];let e=this.sourceBlock_.workspace.getVariableMap().getTypes();if(this.sourceBlock_.isInFlyout){const o=this.sourceBlock_.workspace.getPotentialVariableMap();if(!o)return e;e=Array.from(new Set([...e,...o.getTypes()]))}return e}setTypes(e=null,o=""){var a=this.getText();if(Array.isArray(e)){if(e.length===0)throw Error(`'variableTypes' of field variable ${a} was an empty list. If you want to include all variable types, pass 'null' instead.`);a=!1;for(let d=0;d<e.length;d++)e[d]===o&&(a=!0);if(!a)throw Error("Invalid default type '"+o+"' in the definition of a FieldVariable")}else if(e!==null)throw Error(`'variableTypes' was not an array or null in the definition of FieldVariable ${a}`);this.defaultType=o,this.variableTypes=e}refreshVariableName(){this.forceRerender()}onItemSelected_(e,o){if(e=o.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===w5&&this.variable){r.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,this.variable);return}if(e===T5&&this.variable){e=this.variable.getWorkspace(),r.deleteVariable$$module$build$src$core$variables(e,this.variable,this.sourceBlock_);return}}this.setValue(e)}referencesVariables(){return!0}static fromJson(e){return new this(ii(e.variable),void 0,void 0,void 0,e)}static dropdownCreate(){if(!this.variable)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const e=this.getText();let o=[];var a=this.getSourceBlock();if(a&&!a.isDeadOrDying()){a=a.workspace;const oe=this.getVariableTypes();for(let at=0;at<oe.length;at++){const qt=oe[at],Wn=a.getVariableMap().getVariablesOfType(qt);if(o=o.concat(Wn),a.isFlyout){var d=void 0,M=void 0;o=o.concat((M=(d=a.getPotentialVariableMap())==null?void 0:d.getVariablesOfType(qt))!=null?M:[])}}}for(o.sort(Vn),d=[],M=0;M<o.length;M++)d[M]=[o[M].getName(),o[M].getId()];return d.push([r.Msg$$module$build$src$core$msg.RENAME_VARIABLE,w5]),r.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&d.push([r.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",e),T5]),d}};T0("field_variable",D5);var sd=class extends L3{constructor(e,o,a,d,M,oe){super(cs.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces=null,this.spellcheck_=!1,e!==cs.SKIP_SETUP&&(oe?this.configure_(oe):this.setConstraints(o,a,d),this.setValue(e),M&&this.setValidator(M))}configure_(e){super.configure_(e),this.setMinInternal(e.min),this.setMaxInternal(e.max),this.setPrecisionInternal(e.precision)}setConstraints(e,o,a){this.setMinInternal(e),this.setMaxInternal(o),this.setPrecisionInternal(a),this.setValue(this.getValue())}setMin(e){this.setMinInternal(e),this.setValue(this.getValue())}setMinInternal(e){e==null?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))}getMin(){return this.min_}setMax(e){this.setMaxInternal(e),this.setValue(this.getValue())}setMaxInternal(e){e==null?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))}getMax(){return this.max_}setPrecision(e){this.setPrecisionInternal(e),this.setValue(this.getValue())}setPrecisionInternal(e){this.precision_=Number(e)||0;let o=String(this.precision_);o.includes("e")&&(o=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));const a=o.indexOf(".");this.decimalPlaces=a===-1?e?0:null:o.length-a-1}getPrecision(){return this.precision_}doClassValidation_(e){return e===null||(e=`${e}`.replace(/O/gi,"0"),e=e.replace(/,/g,""),e=e.replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e))?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),this.decimalPlaces!==null&&(e=Number(e.toFixed(this.decimalPlaces))),e)}widgetCreate_(){const e=super.widgetCreate_();return this.min_>-1/0&&(e.min=`${this.min_}`,mr(e,qs.VALUEMIN,this.min_)),this.max_<1/0&&(e.max=`${this.max_}`,mr(e,qs.VALUEMAX,this.max_)),e}initView(){super.initView(),this.fieldGroup_&&ut(this.fieldGroup_,"blocklyNumberField")}static fromJson(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}};T0("field_number",sd),sd.prototype.DEFAULT_VALUE=0;var E$=class extends v1{constructor(e,o,a){super(String(e??""),o,a),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(e){return new this(ii(e.text),void 0,e)}};T0("field_label_serializable",E$);var Jh=class extends cs{constructor(e,o,a){super(cs.SKIP_SETUP),this.SERIALIZABLE=!0,this.value_=this.value_,this.checkChar=Jh.CHECK_CHAR,e!==cs.SKIP_SETUP&&(a&&this.configure_(a),this.setValue(e),o&&this.setValidator(o))}configure_(e){super.configure_(e),e.checkCharacter&&(this.checkChar=e.checkCharacter)}saveState(){const e=this.saveLegacyState(Jh);return e!==null?e:this.getValueBoolean()}initView(){super.initView();const e=this.getTextElement();ut(this.fieldGroup_,"blocklyCheckboxField"),e.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(e){this.checkChar=e||Jh.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(e){return e===!0||e==="TRUE"?"TRUE":e===!1||e==="FALSE"?"FALSE":null}doValueUpdate_(e){this.value_=this.convertValueToBool(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool(this.value_))}convertValueToBool(e){return typeof e=="string"?e==="TRUE":!!e}static fromJson(e){return new this(e.checked,void 0,e)}};Jh.CHECK_CHAR="",T0("field_checkbox",Jh),Jh.prototype.DEFAULT_VALUE=!1;var S$=class{constructor(e,o){this.draggable=e,this.workspace=o,this.dragTarget=null,this.startLoc=e.getRelativeToSurfaceXY()}onDragStart(e){r.getGroup$$module$build$src$core$events$utils()||r.setGroup$$module$build$src$core$events$utils(!0),this.draggable.startDrag(e)}onDrag(e,o){this.moveDraggable(e,o),o=this.getRoot(this.draggable),ms(o)&&o.setDeleteStyle(this.wouldDeleteDraggable(e,o)),this.updateDragTarget(e)}updateDragTarget(e){e=this.workspace.getDragTarget(e);const o=this.getRoot(this.draggable);if(this.dragTarget!==e){let a;(a=this.dragTarget)==null||a.onDragExit(o),e?.onDragEnter(o)}e?.onDragOver(o),this.dragTarget=e}moveDraggable(e,o){o=this.pixelsToWorkspaceUnits(o),o=Qn.sum(this.startLoc,o),this.draggable.drag(o,e)}wouldDeleteDraggable(e,o){return(e=this.workspace.getDragTarget(e))&&this.workspace.getComponentManager().hasCapability(e.id,ns.Capability.DELETE_AREA)?e.wouldDelete(o):!1}onDragEnd(e){const o=r.getGroup$$module$build$src$core$events$utils();var a=this.workspace.getDragTarget(e);const d=this.getRoot(this.draggable);if(a){let M;(M=this.dragTarget)==null||M.onDrop(d)}this.shouldReturnToStart(e,d)&&this.draggable.revertDrag(),(a=ms(d)&&this.wouldDeleteDraggable(e,d))&&this.draggable instanceof Ss&&Pt(this.draggable.getRootBlock()),this.draggable.endDrag(e),a&&ms(d)&&(r.setGroup$$module$build$src$core$events$utils(o),d.dispose()),r.setGroup$$module$build$src$core$events$utils(!1),!a&&Re(this.draggable)&&r.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.draggable)}getRoot(e){return e instanceof Ss?e.getRootBlock():e}shouldReturnToStart(e,o){return(e=this.workspace.getDragTarget(e))?e.shouldPreventMove(o):!1}pixelsToWorkspaceUnits(e){return e=new Qn(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}};i(Yn.BLOCK_DRAGGER,B0,S$);var B5={};B5.BlockDragStrategy=Gh,B5.BubbleDragStrategy=T3,B5.CommentDragStrategy=r8,B5.Dragger=S$;var od=class extends Yi{constructor(e,o,a){super(e?e.workspace.id:void 0),this.type=Mn.BLOCK_DRAG,e&&(this.blockId=e.id,this.isStart=o,this.blocks=a)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.blockId===void 0)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new od),o.isStart=e.isStart,o.blockId=e.blockId,o.blocks=e.blocks,o}};i(Yn.EVENT,Mn.BLOCK_DRAG,od);var ld=class extends nc{constructor(e,o,a,d){super(e),this.type=Mn.BLOCK_FIELD_INTERMEDIATE_CHANGE,this.recordUndo=!1,e&&(this.name=o,this.oldValue=a,this.newValue=d)}toJson(){const e=super.toJson();if(!this.name)throw Error("The changed field name is undefined. Either pass a name to the constructor, or call fromJson.");return e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new ld),o.name=e.name,o.oldValue=e.oldValue,o.newValue=e.newValue,o}isNull(){return this.oldValue===this.newValue}run(e){var o=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(o=o.getBlockById(this.blockId),!o)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");e=e?this.newValue:this.oldValue,(o=o.getField(this.name))?o.setValue(e):console.warn("Can't set non-existent field: "+this.name)}};i(Yn.EVENT,Mn.BLOCK_FIELD_INTERMEDIATE_CHANGE,ld);var ad=class extends nc{constructor(e){super(e),this.type=Mn.BLOCK_MOVE,e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}toJson(){const e=super.toJson();return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate=`${Math.round(this.oldCoordinate.x)}, ${Math.round(this.oldCoordinate.y)}`),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate=`${Math.round(this.newCoordinate.x)}, ${Math.round(this.newCoordinate.y)}`),this.reason&&(e.reason=this.reason),this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new ad),o.oldParentId=e.oldParentId,o.oldInputName=e.oldInputName,e.oldCoordinate&&(a=e.oldCoordinate.split(","),o.oldCoordinate=new Qn(Number(a[0]),Number(a[1]))),o.newParentId=e.newParentId,o.newInputName=e.newInputName,e.newCoordinate&&(a=e.newCoordinate.split(","),o.newCoordinate=new Qn(Number(a[0]),Number(a[1]))),e.reason!==void 0&&(o.reason=e.reason),e.recordUndo!==void 0&&(o.recordUndo=e.recordUndo),o}recordNew(){const e=this.currentLocation();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}setReason(e){this.reason=e}currentLocation(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var o=e.getBlockById(this.blockId);if(!o)throw Error("The block associated with the block move event could not be found");e={};const a=o.getParent();return a?(e.parentId=a.id,(o=a.getInputWithBlock(o))&&(e.inputName=o.name)):e.coordinate=o.getRelativeToSurfaceXY(),e}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&Qn.equals(this.oldCoordinate,this.newCoordinate)}run(e){var o=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var a=o.getBlockById(this.blockId);if(a){var d=e?this.newParentId:this.oldParentId,M=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,d){var oe=o.getBlockById(d);if(!oe){console.warn("Can't connect to non-existent block: "+d);return}}if(a.getParent()&&a.unplug(),e)M=a.getRelativeToSurfaceXY(),a.moveBy(e.x-M.x,e.y-M.y,this.reason);else{o=a.outputConnection,(!o||a.previousConnection&&a.previousConnection.isConnected())&&(o=a.previousConnection);let at,qt;a=(qt=o)==null?void 0:qt.type,M?(a=oe.getInput(M))&&(at=a.connection):a===Or.PREVIOUS_STATEMENT&&(at=oe.nextConnection),at&&o?o.connect(at):console.warn("Can't connect to non-existent input: "+M)}}else console.warn("Can't move non-existent block: "+this.blockId)}};i(Yn.EVENT,Mn.BLOCK_MOVE,ad);var ud=class extends Yi{constructor(e,o,a){super(e?e.workspace.id:void 0),this.type=Mn.BUBBLE_OPEN,e&&(this.blockId=e.id,this.isOpen=o,this.bubbleType=a)}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new ud),o.isOpen=e.isOpen,o.bubbleType=e.bubbleType,o.blockId=e.blockId,o}},cd;(function(e){e.MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning"})(cd||(cd={})),i(Yn.EVENT,Mn.BUBBLE_OPEN,ud);var vc=class extends Oa{constructor(e){super(),this.isBlank=!e,e&&(this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=r.getGroup$$module$build$src$core$events$utils(),this.recordUndo=qe())}toJson(){const e=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new vc),o.commentId=e.commentId,o}static CommentCreateDeleteHelper(e,o){const a=e.getEventWorkspace_();if(o){if(!e.json)throw Error("Encountered a comment event without proper json");Pn(e.json,a)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(o=a.getCommentById(e.commentId))?o.dispose():console.warn("Can't delete non-existent comment: "+e.commentId)}}},hd=class extends vc{constructor(e,o,a){super(e),this.type=Mn.COMMENT_CHANGE,e&&(this.oldContents_=typeof o>"u"?"":o,this.newContents_=typeof a>"u"?"":a)}toJson(){const e=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new hd),o.oldContents_=e.oldContents,o.newContents_=e.newContents,o}isNull(){return this.oldContents_===this.newContents_}run(e){var o=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(o=o.getCommentById(this.commentId)){var a=e?this.newContents_:this.oldContents_;if(a===void 0)throw Error(e?"The new contents is undefined. Either pass a value to the constructor, or call fromJson":"The old contents is undefined. Either pass a value to the constructor, or call fromJson");o.setText(a)}else console.warn("Can't change non-existent comment: "+this.commentId)}};i(Yn.EVENT,Mn.COMMENT_CHANGE,hd);var fd=class extends vc{constructor(e,o){super(e),this.newCollapsed=o,this.type=Mn.COMMENT_COLLAPSE}toJson(){const e=super.toJson();if(this.newCollapsed===void 0)throw Error("The new collapse value undefined. Either call recordNew, or call fromJson");return e.newCollapsed=this.newCollapsed,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new fd),o.newCollapsed=e.newCollapsed,o}run(e){var o=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(o=o.getCommentById(this.commentId))?o.setCollapsed(e?!!this.newCollapsed:!this.newCollapsed):console.warn("Can't collapse or uncollapse non-existent comment: "+this.commentId)}};i(Yn.EVENT,Mn.COMMENT_COLLAPSE,fd);var dd=class extends vc{constructor(e){super(e),this.type=Mn.COMMENT_CREATE,e&&(this.xml=f0(e),this.json=Ke(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=Cs(this.xml),e.json=this.json,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new dd),o.xml=r.textToDom$$module$build$src$core$utils$xml(e.xml),o.json=e.json,o}run(e){vc.CommentCreateDeleteHelper(this,e)}};i(Yn.EVENT,Mn.COMMENT_CREATE,dd);var pd=class extends vc{constructor(e){super(e),this.type=Mn.COMMENT_DELETE,e&&(this.xml=f0(e),this.json=Ke(e,{addCoordinates:!0}))}run(e){vc.CommentCreateDeleteHelper(this,!e)}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=Cs(this.xml),e.json=this.json,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new pd),o.xml=r.textToDom$$module$build$src$core$utils$xml(e.xml),o.json=e.json,o}};i(Yn.EVENT,Mn.COMMENT_DELETE,pd);var md=class extends Yi{constructor(e,o){super(e?e.workspace.id:void 0),this.type=Mn.COMMENT_DRAG,e&&(this.commentId=e.id,this.isStart=o)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.commentId===void 0)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.isStart=this.isStart,e.commentId=this.commentId,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new md),o.isStart=e.isStart,o.commentId=e.commentId,o}};i(Yn.EVENT,Mn.COMMENT_DRAG,md);var gd=class extends vc{constructor(e){super(e),this.type=Mn.COMMENT_MOVE,e&&(this.comment_=e,this.oldCoordinate_=e.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setReason(e){this.reason=e}setOldCoordinate(e){this.oldCoordinate_=e}toJson(){const e=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, ${Math.round(this.oldCoordinate_.y)}`,e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new gd),a=e.oldCoordinate.split(","),o.oldCoordinate_=new Qn(Number(a[0]),Number(a[1])),a=e.newCoordinate.split(","),o.newCoordinate_=new Qn(Number(a[0]),Number(a[1])),o}isNull(){return Qn.equals(this.oldCoordinate_,this.newCoordinate_)}run(e){var o=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(o=o.getCommentById(this.commentId)){if(e=e?this.newCoordinate_:this.oldCoordinate_,!e)throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");o.moveTo(e)}else console.warn("Can't move non-existent comment: "+this.commentId)}};i(Yn.EVENT,Mn.COMMENT_MOVE,gd);var vd=class extends vc{constructor(e){super(e),this.type=Mn.COMMENT_RESIZE,e&&(this.oldSize=e.getSize())}recordCurrentSizeAsNewSize(){if(this.newSize)throw Error("Tried to record the new size of a comment on the same event twice.");var e=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(e=e.getCommentById(this.commentId),!e)throw Error("The comment associated with the comment resize event could not be found");this.newSize=e.getSize()}toJson(){const e=super.toJson();if(!this.oldSize)throw Error("The old comment size is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newSize)throw Error("The new comment size is undefined. Either call recordCurrentSizeAsNewSize, or call fromJson");return e.oldWidth=Math.round(this.oldSize.width),e.oldHeight=Math.round(this.oldSize.height),e.newWidth=Math.round(this.newSize.width),e.newHeight=Math.round(this.newSize.height),e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new vd),o.oldSize=new pi(e.oldWidth,e.oldHeight),o.newSize=new pi(e.newWidth,e.newHeight),o}isNull(){return pi.equals(this.oldSize,this.newSize)}run(e){var o=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(o=o.getCommentById(this.commentId)){if(e=e?this.newSize:this.oldSize,!e)throw Error("Either oldSize or newSize is undefined. Either pass a comment to the constructor and call recordCurrentSizeAsNewSize, or call fromJson");o.setSize(e)}else console.warn("Can't resize non-existent comment: "+this.commentId)}};i(Yn.EVENT,Mn.COMMENT_RESIZE,vd);var $d=class extends Yi{constructor(e,o,a){super(a),this.type=Mn.TOOLBOX_ITEM_SELECT,this.oldItem=e??void 0,this.newItem=o??void 0}toJson(){const e=super.toJson();return e.oldItem=this.oldItem,e.newItem=this.newItem,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new $d),o.oldItem=e.oldItem,o.newItem=e.newItem,o}};i(Yn.EVENT,Mn.TOOLBOX_ITEM_SELECT,$d);var bd=class extends I3{constructor(e,o,a){super(e),this.oldType=o,this.newType=a,this.type=Mn.VAR_TYPE_CHANGE}toJson(){const e=super.toJson();if(!this.oldType||!this.newType)throw Error("The variable's types are undefined. Either pass them to the constructor, or call fromJson");return e.oldType=this.oldType,e.newType=this.newType,e}static fromJson(e,o,a){return o=super.fromJson(e,o,a??new bd),o.oldType=e.oldType,o.newType=e.newType,o}run(e){const o=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldType||!this.newType)throw Error("The variable's types are undefined. Either pass them to the constructor, or call fromJson");const a=o.getVariableMap().getVariableById(this.varId);a&&(e?o.getVariableMap().changeVariableType(a,this.newType):o.getVariableMap().changeVariableType(a,this.oldType))}};i(Yn.EVENT,Mn.VAR_TYPE_CHANGE,bd);var x$=class extends Oa{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.type=Mn.FINISHED_LOADING,this.isBlank=!!e,e&&(this.workspaceId=e.id)}};i(Yn.EVENT,Mn.FINISHED_LOADING,x$);var C$,M$,k$,A$,N$,I$,O$,R$,L$,D$,B$,P$,F$,U$,z$,H$,V$,G$,q$,W$,j$,X$,Y$,K$,Ar;r.BLOCK_CHANGE$$module$build$src$core$events$events=Mn.BLOCK_CHANGE,r.BLOCK_CREATE$$module$build$src$core$events$events=Mn.BLOCK_CREATE,r.BLOCK_DELETE$$module$build$src$core$events$events=Mn.BLOCK_DELETE,C$=Mn.BLOCK_DRAG,r.BLOCK_MOVE$$module$build$src$core$events$events=Mn.BLOCK_MOVE,M$=Mn.BLOCK_FIELD_INTERMEDIATE_CHANGE,k$=Mn.BUBBLE_OPEN,A$=Mn.BLOCK_CHANGE,N$=Mn.CLICK,I$=Mn.COMMENT_CHANGE,O$=Mn.COMMENT_CREATE,R$=Mn.COMMENT_DELETE,L$=Mn.COMMENT_MOVE,D$=Mn.COMMENT_RESIZE,B$=Mn.COMMENT_DRAG,P$=Mn.BLOCK_CREATE,F$=Mn.BLOCK_DELETE,U$=Mn.FINISHED_LOADING,z$=Mn.BLOCK_MOVE,H$=Mn.SELECTED,V$=Mn.THEME_CHANGE,G$=Mn.TOOLBOX_ITEM_SELECT,q$=Mn.TRASHCAN_OPEN,W$=Mn.UI,j$=Mn.VAR_CREATE,X$=Mn.VAR_DELETE,Y$=Mn.VAR_RENAME,K$=Mn.VIEWPORT_CHANGE,Ar={},Ar.Abstract=Oa,Ar.BLOCK_CHANGE=r.BLOCK_CHANGE$$module$build$src$core$events$events,Ar.BLOCK_CREATE=r.BLOCK_CREATE$$module$build$src$core$events$events,Ar.BLOCK_DELETE=r.BLOCK_DELETE$$module$build$src$core$events$events,Ar.BLOCK_DRAG=C$,Ar.BLOCK_FIELD_INTERMEDIATE_CHANGE=M$,Ar.BLOCK_MOVE=r.BLOCK_MOVE$$module$build$src$core$events$events,Ar.BUBBLE_OPEN=k$,Ar.BUMP_EVENTS=W6,Ar.BlockBase=nc,Ar.BlockChange=rc,Ar.BlockCreate=_3,Ar.BlockDelete=y5,Ar.BlockDrag=od,Ar.BlockFieldIntermediateChange=ld,Ar.BlockMove=ad,Ar.BubbleOpen=ud,Ar.BubbleType=cd,Ar.CHANGE=A$,Ar.CLICK=N$,Ar.COMMENT_CHANGE=I$,Ar.COMMENT_CREATE=O$,Ar.COMMENT_DELETE=R$,Ar.COMMENT_DRAG=B$,Ar.COMMENT_MOVE=L$,Ar.COMMENT_RESIZE=D$,Ar.CREATE=P$,Ar.Click=Q6,Ar.ClickTarget=e5,Ar.CommentBase=vc,Ar.CommentChange=hd,Ar.CommentCollapse=fd,Ar.CommentCreate=dd,Ar.CommentDelete=pd,Ar.CommentDrag=md,Ar.CommentMove=gd,Ar.CommentResize=vd,Ar.DELETE=F$,Ar.FINISHED_LOADING=U$,Ar.FinishedLoading=x$,Ar.MOVE=z$,Ar.SELECTED=H$,Ar.Selected=aa,Ar.THEME_CHANGE=V$,Ar.TOOLBOX_ITEM_SELECT=G$,Ar.TRASHCAN_OPEN=q$,Ar.ThemeChange=Hh,Ar.ToolboxItemSelect=$d,Ar.TrashcanOpen=Zf,Ar.UI=W$,Ar.UiBase=Yi,Ar.VAR_CREATE=j$,Ar.VAR_DELETE=X$,Ar.VAR_RENAME=Y$,Ar.VIEWPORT_CHANGE=K$,Ar.VarBase=I3,Ar.VarCreate=Yf,Ar.VarDelete=Kf,Ar.VarRename=Jf,Ar.VarTypeChange=bd,Ar.ViewportChange=v5,Ar.clearPendingUndo=Ge,Ar.disable=r.disable$$module$build$src$core$events$utils,Ar.disableOrphans=Ht,Ar.enable=r.enable$$module$build$src$core$events$utils,Ar.filter=Ft,Ar.fire=de,Ar.fromJson=yt,Ar.get=Ut,Ar.getDescendantIds=nt,Ar.getGroup=r.getGroup$$module$build$src$core$events$utils,Ar.getRecordUndo=qe,Ar.isEnabled=et,Ar.setGroup=r.setGroup$$module$build$src$core$events$utils,Ar.setRecordUndo=r.setRecordUndo$$module$build$src$core$events$utils;var $c={};$c.BottomRow=m$,$c.ConstantProvider=d$,$c.Drawer=p$,$c.PathObject=b$,$c.RenderInfo=$$,$c.Renderer=rd,$c.RightConnectionShape=g$,$c.StatementInput=_8,$c.TopRow=v$,V4();var l0={};l0.registerCleanup=A4,l0.registerCollapse=I4,l0.registerCollapseExpandBlock=$h,l0.registerComment=o2,l0.registerCommentCreate=z4,l0.registerCommentDelete=F4,l0.registerCommentDuplicate=U4,l0.registerCommentOptions=D6,l0.registerDefaultOptions=V4,l0.registerDelete=B4,l0.registerDeleteAll=Xu,l0.registerDisable=L6,l0.registerDuplicate=s2,l0.registerExpand=O4,l0.registerHelp=P4,l0.registerInline=D4,l0.registerRedo=vh,l0.registerUndo=k4;var yd="button",J$=class{load(e,o){return e=new Yo(o.getWorkspace(),o.targetWorkspace,e,!1),e.show(),new R2(e,yd)}gapForItem(e,o){return o}disposeItem(e){e=e.getElement(),e instanceof Yo&&e.dispose()}getType(){return yd}};i(Yn.FLYOUT_INFLATER,yd,J$);var P5={};P5.Bubble=hs,P5.MiniWorkspaceBubble=za,P5.TextBubble=E5,P5.TextInputBubble=M0;var Sk="WORKSPACE_AT_BLOCK_CAPACITY",_d="block",Z$=class{constructor(){this.permanentlyDisabledBlocks=new Set,this.listeners=new Map,this.capacityWrapper=this.filterFlyoutBasedOnCapacity.bind(this)}load(e,o){return this.setFlyout(o),e=this.createBlock(e,o.getWorkspace()),e.isEnabled()?this.updateStateBasedOnCapacity(e):this.permanentlyDisabledBlocks.add(e),e.getDescendants(!1).forEach(a=>a.isInFlyout=!0),this.addBlockListeners(e),new R2(e,_d)}createBlock(e,o){return e.blockxml?(e=typeof e.blockxml=="string"?r.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,o=Ml(e,o)):(e.enabled===void 0&&(e.enabled=e.disabled!=="true"&&e.disabled!==!0),e.disabledReasons===void 0&&e.enabled===!1&&(e.disabledReasons=[li]),"x"in e&&delete e.x,"y"in e&&delete e.y,o=Bi(e,o)),o}gapForItem(e,o){let a;return e.gap?a=parseInt(String(e.gap)):e.blockxml&&(e=typeof e.blockxml=="string"?r.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,a=parseInt(e.getAttribute("gap"))),!a||isNaN(a)?o:a}disposeItem(e){e=e.getElement(),e instanceof Ss&&(this.removeListeners(e.id),e.dispose(!1,!1))}removeListeners(e){let o;((o=this.listeners.get(e))!=null?o:[]).forEach(a=>Ce(a)),this.listeners.delete(e)}setFlyout(e){if(this.flyout!==e){if(this.flyout){let a;(a=this.flyout.targetWorkspace)==null||a.removeChangeListener(this.capacityWrapper)}this.flyout=e;var o;(o=this.flyout.targetWorkspace)==null||o.addChangeListener(this.capacityWrapper)}}updateStateBasedOnCapacity(e){let o,a;const d=(o=this.flyout)==null||(a=o.targetWorkspace)==null?void 0:a.isCapacityAvailable(Ye(e));for(;e;)e.setDisabledReason(!d,Sk),e=e.getNextBlock()}addBlockListeners(e){const o=[];o.push(le(e.getSvgRoot(),"pointerdown",e,a=>{let d,M;const oe=(d=this.flyout)==null||(M=d.targetWorkspace)==null?void 0:M.getGesture(a);oe&&this.flyout&&(oe.setStartBlock(e),oe.handleFlyoutStart(a,this.flyout))})),o.push(te(e.getSvgRoot(),"pointermove",null,()=>{let a,d;!((a=this.flyout)==null||(d=a.targetWorkspace)==null)&&d.isDragging()||e.addSelect()})),o.push(te(e.getSvgRoot(),"pointerleave",null,()=>{let a,d;!((a=this.flyout)==null||(d=a.targetWorkspace)==null)&&d.isDragging()||e.removeSelect()})),this.listeners.set(e.id,o)}filterFlyoutBasedOnCapacity(e){!this.flyout||e&&e.type!==Mn.BLOCK_CREATE&&e.type!==Mn.BLOCK_DELETE||this.flyout.getWorkspace().getTopBlocks(!1).forEach(o=>{this.permanentlyDisabledBlocks.has(o)||this.updateStateBasedOnCapacity(o)})}getType(){return _d}};i(Yn.FLYOUT_INFLATER,_d,Z$);var Q$=class extends kn{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(e){return super.getCSS_(e).concat([`${e} .blocklyInsertionMarker>.blocklyPathLight,`,`${e} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"])}},eb=class{constructor(e){this.inlineSteps_=this.steps_="",this.info_=e,this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+`
`+this.inlineSteps_}drawTopCorner(e){this.steps_+=ls(e.xPos,this.info_.startY);for(let o=0,a;a=e.elements[o];o++)rn.isLeftSquareCorner(a)?this.steps_+=this.highlightConstants_.START_POINT:rn.isLeftRoundedCorner(a)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):rn.isPreviousConnection(a)?this.steps_+=this.notchPaths_.pathLeft:rn.isHat(a)?this.steps_+=this.startPaths_.path(this.RTL_):rn.isSpacer(a)&&a.width!==0&&(this.steps_+=_("H",a.xPos+a.width-this.highlightOffset));this.steps_+=_("H",e.xPos+e.width-this.highlightOffset)}drawJaggedEdge_(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+_("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(e){const o=e.getLastInput();if(this.RTL_){const a=e.height-o.connectionHeight;this.steps_+=xo(o.xPos+o.width-this.highlightOffset,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+_("v",a)}else this.steps_+=xo(o.xPos+o.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(e){const o=e.getLastInput();if(o)if(this.RTL_){const a=e.height-2*this.insideCornerPaths_.height;this.steps_+=xo(o.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+_("v",a)+this.insideCornerPaths_.pathBottom(this.RTL_)+L0(e.width-o.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=xo(o.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+L0(e.width-o.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(e){const o=e.xPos+e.width-this.highlightOffset;e instanceof ti&&e.followsStatement&&(this.steps_+=_("H",o)),this.RTL_&&(this.steps_+=_("H",o),e.height>this.highlightOffset&&(this.steps_+=_("V",e.yPos+e.height-this.highlightOffset)))}drawBottomRow(e){if(this.RTL_)this.steps_+=_("V",e.baseline-this.highlightOffset);else{const o=this.info_.bottomRow.elements[0];rn.isLeftSquareCorner(o)?this.steps_+=xo(e.xPos+this.highlightOffset,e.baseline-this.highlightOffset):rn.isLeftRoundedCorner(o)&&(this.steps_+=xo(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=xo(this.info_.startX,e):(this.steps_+=xo(this.info_.startX+this.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=_("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,rn.isLeftRoundedCorner(e.elements[0])?this.steps_+=_("V",this.outsideCornerPaths_.height):this.steps_+=_("V",e.capline+this.highlightOffset))}drawInlineInput(e){const o=this.highlightOffset,a=e.xPos+e.connectionWidth;var d=e.centerline-e.height/2;const M=e.width-e.connectionWidth,oe=d+o;this.RTL_?(d=e.connectionOffsetY-o,e=e.height-(e.connectionOffsetY+e.connectionHeight)+o,this.inlineSteps_+=xo(a-o,oe)+_("v",d)+this.puzzleTabPaths_.pathDown(this.RTL_)+_("v",e)+_("h",M)):this.inlineSteps_+=xo(e.xPos+e.width+o,oe)+_("v",e.height)+_("h",-M)+xo(a,d+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},tb=class extends Jn{constructor(e,o){super(e,o),this.highlighter_=new eb(o)}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights();const e=this.block_.pathObject;e.setPath(this.outlinePath_+`
`+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(e){this.highlighter_.drawJaggedEdge_(e),super.drawJaggedEdge_(e)}drawValueInput_(e){this.highlighter_.drawValueInput(e),super.drawValueInput_(e)}drawStatementInput_(e){this.highlighter_.drawStatementInput(e),super.drawStatementInput_(e)}drawRightSideRow_(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=_("H",e.xPos+e.width)+_("V",e.yPos+e.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(e){this.highlighter_.drawInlineInput(e),super.drawInlineInput_(e)}positionInlineInputConnection_(e){const o=e.centerline-e.height/2;if(e.connectionModel){let a=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(a*=-1),e.connectionModel.setOffsetInBlock(a,o+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(e){const o=e.getLastInput();if(o!=null&&o.connectionModel){let a=e.xPos+e.statementEdge+o.notchOffset;a=this.info_.RTL?a*-1:a+this.constants_.DARK_PATH_OFFSET,o.connectionModel.setOffsetInBlock(a,e.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(e){const o=e.getLastInput();if(o&&o.connectionModel){let a=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(a*=-1),o.connectionModel.setOffsetInBlock(a,e.yPos)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const o=e.connection,a=o.xPos;o.connectionModel.setOffsetInBlock((this.info_.RTL?-a:a)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}},nb=class{constructor(e){this.OFFSET=.5,this.constantProvider=e,this.START_POINT=ls(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){const e=this.constantProvider.CORNER_RADIUS,o=this.OFFSET,a=(1-Math.SQRT1_2)*(e+o)-o,d=ls(a,a)+C("a","0 0,0",e,Hr(-a-o,e-a)),M=C("a","0 0,0",e+o,Hr(e+o,e+o)),oe=ls(a,-a)+C("a","0 0,0",e+o,Hr(e-a,a+o));return{width:e+o,height:e,pathTop(at){return at?d:""},pathBottom(at){return at?M:oe}}}makeOutsideCorner(){const e=this.constantProvider.CORNER_RADIUS,o=this.OFFSET,a=(1-Math.SQRT1_2)*(e-o)+o,d=ls(a,a)+C("a","0 0,1",e-o,Hr(e-a,-a+o)),M=ls(o,e)+C("a","0 0,1",e-o,Hr(e,-e+o)),oe=-a,at=ls(a,oe)+C("a","0 0,1",e-o,Hr(-a+o,-oe-e));return{height:e,topLeft(qt){return qt?d:M},bottomLeft(){return at}}}makePuzzleTab(){const e=this.constantProvider.TAB_WIDTH,o=this.constantProvider.TAB_HEIGHT,a=ls(-2,-o+2.5+.9)+L0(e*-.45,-2.1),d=_("v",2.5)+ls(-e*.97,2.5)+S0("q",[Hr(-e*.05,10),Hr(e*.3,9.5)])+ls(e*.67,-1.9)+_("v",2.5),M=_("v",-1.5)+ls(e*-.92,-.5)+S0("q",[Hr(e*-.19,-5.5),Hr(0,-11)])+ls(e*.92,1),oe=ls(-5,o-.7)+L0(e*.46,-2.1);return{width:e,height:o,pathUp(at){return at?a:M},pathDown(at){return at?d:oe}}}makeNotch(){return{pathLeft:_("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:L0(5.1,2.6)+ls(-10.2,6.8)+L0(5.1,2.6),height:12,width:10.2}}makeStartHat(){const e=this.constantProvider.START_HAT.height,o=ls(25,-8.7)+S0("c",[Hr(29.7,-6.2),Hr(57.2,-.5),Hr(75,8.7)]),a=S0("c",[Hr(17.8,-9.2),Hr(45.3,-14.9),Hr(75,-8.7)])+xo(100.5,e+.5);return{path(d){return d?o:a}}}},rb=class extends Qt{constructor(e,o){super(e,o),this.constants_=e,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},ib=class extends yn{constructor(e,o){super(e,o),this.constants_=e,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},sb=class extends Xr{constructor(e,o){super(e,o),this.renderer_=e}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof j0||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(e,o){this.isInline&&e instanceof r.ValueInput$$module$build$src$core$inputs$value_input?(o.elements.push(new rb(this.constants_,e)),o.hasInlineInput=!0):e instanceof j0?(o.elements.push(new ib(this.constants_,e)),o.hasStatement=!0):e instanceof r.ValueInput$$module$build$src$core$inputs$value_input?(o.elements.push(new E(this.constants_,e)),o.hasExternalInput=!0):(e instanceof k0||e instanceof vl)&&(o.minHeight=Math.max(o.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),o.hasDummyInput=!0),this.isInline||o.align!==null||(o.align=e.align)}addElemSpacing_(){let e=!1;for(let a=0,d;d=this.rows[a];a++)d.hasExternalInput&&(e=!0);for(let a=0,d;d=this.rows[a];a++){var o=d.elements;if(d.elements=[],d.startsWithElemSpacer()&&d.elements.push(new At(this.constants_,this.getInRowSpacing_(null,o[0]))),o.length){for(let M=0;M<o.length-1;M++){d.elements.push(o[M]);const oe=this.getInRowSpacing_(o[M],o[M+1]);d.elements.push(new At(this.constants_,oe))}d.elements.push(o[o.length-1]),d.endsWithElemSpacer()&&(o=this.getInRowSpacing_(o[o.length-1],null),e&&d.hasDummyInput&&(o+=this.constants_.TAB_WIDTH),d.elements.push(new At(this.constants_,o)))}}}getInRowSpacing_(e,o){if(!e)return o&&rn.isField(o)&&o.isEditable?this.constants_.MEDIUM_PADDING:o&&rn.isInlineInput(o)?this.constants_.MEDIUM_LARGE_PADDING:o&&rn.isStatementInput(o)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!rn.isInput(e)&&(!o||rn.isStatementInput(o)))return rn.isField(e)&&e.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:rn.isIcon(e)?this.constants_.LARGE_PADDING*2+1:rn.isHat(e)?this.constants_.NO_PADDING:rn.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:rn.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:rn.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(rn.isInput(e)&&!o){if(rn.isExternalInput(e))return this.constants_.NO_PADDING;if(rn.isInlineInput(e))return this.constants_.LARGE_PADDING;if(rn.isStatementInput(e))return this.constants_.NO_PADDING}if(!rn.isInput(e)&&o&&rn.isInput(o)){if(rn.isField(e)&&e.isEditable){if(rn.isInlineInput(o)||rn.isExternalInput(o))return this.constants_.SMALL_PADDING}else{if(rn.isInlineInput(o)||rn.isExternalInput(o))return this.constants_.MEDIUM_LARGE_PADDING;if(rn.isStatementInput(o))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(rn.isIcon(e)&&o&&!rn.isInput(o))return this.constants_.LARGE_PADDING;if(rn.isInlineInput(e)&&o&&rn.isField(o))return o.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(rn.isLeftSquareCorner(e)&&o){if(rn.isHat(o))return this.constants_.NO_PADDING;if(rn.isPreviousConnection(o))return o.notchOffset;if(rn.isNextConnection(o))return o.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(rn.isLeftRoundedCorner(e)&&o){if(rn.isPreviousConnection(o))return o.notchOffset-this.constants_.CORNER_RADIUS;if(rn.isNextConnection(o))return o.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return rn.isField(e)&&o&&rn.isField(o)&&e.isEditable===o.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:o&&rn.isJaggedEdge(o)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,o){return rn.isTopRow(e)&&rn.isBottomRow(o)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:rn.isTopRow(e)||rn.isBottomRow(o)?this.constants_.NO_PADDING:e.hasExternalInput&&o.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&o.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&o.hasStatement||!e.hasStatement&&o.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,o){if(rn.isSpacer(o))return e.yPos+o.height/2;if(rn.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,rn.isNextConnection(o)?e+o.height/2:e-o.height/2;if(rn.isTopRow(e))return rn.isHat(o)?e.capline-o.height/2:e.capline+o.height/2;let a=e.yPos;return rn.isField(o)||rn.isIcon(o)?(a+=o.height/2,(e.hasInlineInput||e.hasStatement)&&o.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(a+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):a=rn.isInlineInput(o)?a+o.height/2:a+e.height/2,a}alignRowElements_(){if(this.isInline){var e=0,o=new WeakMap,a=null;for(let d=this.rows.length-1,M;M=this.rows[d];d--)o.set(M,e),rn.isInputRow(M)&&(M.hasStatement&&this.alignStatementRow_(M),a&&a.hasStatement&&M.width<a.width?o.set(M,a.width):e=M.hasStatement?M.width:Math.max(e,M.width),a=M);e=0;for(let d=0,M;M=this.rows[d];d++)M.hasStatement?e=this.getDesiredRowWidth_(M):rn.isSpacer(M)?M.width=Math.max(e,o.get(M)):(a=M.width,e=Math.max(e,o.get(M))-a,e>0&&this.addAlignmentPadding_(M,e),e=M.width)}else super.alignRowElements_()}getDesiredRowWidth_(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(e)}finalize_(){let e=0,o=0;for(let d=0,M;M=this.rows[d];d++){M.yPos=o,M.xPos=this.startX,o+=M.height,e=Math.max(e,M.widthWithConnectedBlocks);var a=o-this.topRow.ascenderHeight;M===this.bottomRow&&a<this.constants_.MIN_BLOCK_HEIGHT&&(a=this.constants_.MIN_BLOCK_HEIGHT-a,this.bottomRow.height+=a,o+=a),this.recordElemPositions_(M)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(a=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,a.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=o-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=o+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},ob=class extends Gi{constructor(e,o,a){super(e,o,a),this.constants=a,this.colourDark="#000000",this.svgPathDark=Me(Tn.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=Me(Tn.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}setHighlightPath(e){this.svgPathLight.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(e),this.svgPath.setAttribute("stroke","none")}setStyle(e){this.style=e,this.colourDark=So("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(e){super.updateHighlighted(e),this.svgPathLight.style.display=e?"none":"inline"}updateShadow_(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(e){super.updateDisabled_(e),e&&this.svgPath.setAttribute("stroke","none")}},lb=class extends Vr{constructor(e){super(e),this.highlightConstants=null}init(e,o){super.init(e,o),this.highlightConstants=this.makeHighlightConstants_(),this.highlightConstants.init()}refreshDom(e,o,a){super.refreshDom(e,o,a),this.getHighlightConstants().init()}makeConstants_(){return new Q$}makeRenderInfo_(e){return new sb(this,e)}makeDrawer_(e,o){return new tb(e,o)}makePathObject(e,o){return new ob(e,o,this.getConstants())}makeHighlightConstants_(){return new nb(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants}};dl("geras",lb);var bc={};bc.ConstantProvider=Q$,bc.Drawer=tb,bc.HighlightConstantProvider=nb,bc.Highlighter=eb,bc.InlineInput=rb,bc.PathObject=ob,bc.RenderInfo=sb,bc.Renderer=lb,bc.StatementInput=ib;var ab=class extends Xr{constructor(e,o){super(e,o)}getRenderer(){return this.renderer_}addElemSpacing_(){let e=!1;for(var o=0;o<this.rows.length;o++)if(this.rows[o].hasExternalInput){e=!0;break}for(o=0;o<this.rows.length;o++){const d=this.rows[o];var a=d.elements;if(d.elements=[],d.startsWithElemSpacer()&&d.elements.push(new At(this.constants_,this.getInRowSpacing_(null,a[0]))),a.length){for(let M=0;M<a.length-1;M++){d.elements.push(a[M]);const oe=this.getInRowSpacing_(a[M],a[M+1]);d.elements.push(new At(this.constants_,oe))}d.elements.push(a[a.length-1]),d.endsWithElemSpacer()&&(a=this.getInRowSpacing_(a[a.length-1],null),e&&d.hasDummyInput&&(a+=this.constants_.TAB_WIDTH),d.elements.push(new At(this.constants_,a)))}}}getInRowSpacing_(e,o){if(!e)return o&&rn.isField(o)&&o.isEditable?this.constants_.MEDIUM_PADDING:o&&rn.isInlineInput(o)?this.constants_.MEDIUM_LARGE_PADDING:o&&rn.isStatementInput(o)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!rn.isInput(e)&&!o)return rn.isField(e)&&e.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:rn.isIcon(e)?this.constants_.LARGE_PADDING*2+1:rn.isHat(e)?this.constants_.NO_PADDING:rn.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:rn.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:rn.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(rn.isInput(e)&&!o){if(rn.isExternalInput(e))return this.constants_.NO_PADDING;if(rn.isInlineInput(e))return this.constants_.LARGE_PADDING;if(rn.isStatementInput(e))return this.constants_.NO_PADDING}if(!rn.isInput(e)&&o&&rn.isInput(o)){if(rn.isField(e)&&e.isEditable){if(rn.isInlineInput(o)||rn.isExternalInput(o))return this.constants_.SMALL_PADDING}else{if(rn.isInlineInput(o)||rn.isExternalInput(o))return this.constants_.MEDIUM_LARGE_PADDING;if(rn.isStatementInput(o))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(rn.isIcon(e)&&o&&!rn.isInput(o))return this.constants_.LARGE_PADDING;if(rn.isInlineInput(e)&&o&&rn.isField(o))return o.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(rn.isLeftSquareCorner(e)&&o){if(rn.isHat(o))return this.constants_.NO_PADDING;if(rn.isPreviousConnection(o)||rn.isNextConnection(o))return o.notchOffset}return rn.isLeftRoundedCorner(e)&&o?o.notchOffset-this.constants_.CORNER_RADIUS:rn.isField(e)&&o&&rn.isField(o)&&e.isEditable===o.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:o&&rn.isJaggedEdge(o)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,o){return rn.isTopRow(e)&&rn.isBottomRow(o)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:rn.isTopRow(e)||rn.isBottomRow(o)?this.constants_.NO_PADDING:e.hasExternalInput&&o.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&o.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&o.hasStatement||e.hasDummyInput||o.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,o){if(rn.isSpacer(o))return e.yPos+o.height/2;if(rn.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,rn.isNextConnection(o)?e+o.height/2:e-o.height/2;if(rn.isTopRow(e))return rn.isHat(o)?e.capline-o.height/2:e.capline+o.height/2;let a=e.yPos;return a=rn.isField(o)&&e.hasStatement?a+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+o.height/2):a+e.height/2}finalize_(){let e=0,o=0;for(var a=0;a<this.rows.length;a++){const M=this.rows[a];M.yPos=o,M.xPos=this.startX,o+=M.height,e=Math.max(e,M.widthWithConnectedBlocks);var d=o-this.topRow.ascenderHeight;M===this.bottomRow&&d<this.constants_.MIN_BLOCK_HEIGHT&&(d=this.constants_.MIN_BLOCK_HEIGHT-d,this.bottomRow.height+=d,o+=d),this.recordElemPositions_(M)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(a=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,a.getHeightWidth().width)),this.bottomRow.baseline=o-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=o,this.startY=this.topRow.capline}},ub=class extends Vr{constructor(e){super(e)}makeRenderInfo_(e){return new ab(this,e)}};dl("thrasos",ub);var wd={};wd.RenderInfo=ab,wd.Renderer=ub;var xk={colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},Ck={colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}},Mk=new p1("zelos",xk,Ck),kk={Classic:Vh,Zelos:Mk},Td=class{constructor(e,o,a){this.id_=e.toolboxitemid||_e(),this.level_=(this.parent_=a||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=o,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(e){}getFocusableElement(){const e=this.getDiv();if(!e)throw Error("Trying to access toolbox item before DOM is initialized.");if(!(e instanceof HTMLElement))throw Error("Toolbox item div is unexpectedly not an HTML element.");return e}getFocusableTree(){return this.parentToolbox_}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}},Iu=class extends Td{constructor(e,o,a){super(e,o,a),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),this.toolboxItemDef_.hidden==="true"&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategoryContainer",row:"blocklyToolboxCategory",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyToolboxCategoryIcon",label:"blocklyToolboxCategoryLabel",contents:"blocklyToolboxCategoryGroup",selected:"blocklyToolboxSelected",openicon:"blocklyToolboxCategoryIconOpen",closedicon:"blocklyToolboxCategoryIconClosed"}}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(let o=0;o<e.length;o++){const a=e[o];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(a)}}parseCategoryDef_(e){this.name_="name"in e?ii(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),Hn(this.htmlDiv_,U0.TREEITEM),mr(this.htmlDiv_,qs.SELECTED,!1),mr(this.htmlDiv_,qs.LEVEL,this.level_+1),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),Hn(this.iconDom_,U0.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);const e=this.labelDom_.getAttribute("id");return e&&mr(this.htmlDiv_,qs.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){const e=document.createElement("div");e.tabIndex=-1,e.id=this.getId();const o=this.cssConfig_.container;return o&&ut(e,o),e}createRowContainer_(){const e=document.createElement("div");var o=this.cssConfig_.row;return o&&ut(e,o),o=`${Iu.nestedPadding*this.getLevel()}px`,this.workspace_.RTL?e.style.paddingRight=o:e.style.paddingLeft=o,e}createRowContentsContainer_(){const e=document.createElement("div"),o=this.cssConfig_.rowcontentcontainer;return o&&ut(e,o),e}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const o=this.cssConfig_.icon;o&&ut(e,o)}return e.style.display="inline-block",e}createLabelDom_(e){const o=document.createElement("span");return o.setAttribute("id",this.getId()+".label"),o.textContent=e,(e=this.cssConfig_.label)&&ut(o,e),o}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(e){e&&(e=Iu.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}getColour_(e){const o=e.categorystyle||e.categoryStyle;if((e=e.colour)&&o)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(o)return this.getColourfromStyle(o);if(e)return this.parseColour(e)}return""}getColourfromStyle(e){var o=this.workspace_.getTheme();if(e&&o){if((o=o.categoryStyles[e])&&o.colour)return this.parseColour(o.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour(e){if(e=ii(e),e==null||e==="")return"";var o=Number(e);return isNaN(o)?(o=xt(e))?o:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):Ro(o)}openIcon_(e){if(e){var o=this.cssConfig_.closedicon;o&&en(e,o),(o=this.cssConfig_.openicon)&&ut(e,o)}}closeIcon_(e){if(e){var o=this.cssConfig_.openicon;o&&en(e,o),(o=this.cssConfig_.closedicon)&&ut(e,o)}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let e=this;for(;e.getParent();)if(e=e.getParent(),!e.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(e){}setSelected(e){if(this.rowDiv_){var o=this.cssConfig_.selected;if(e){const a=this.parseColour(Iu.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||a,o&&ut(this.rowDiv_,o)}else this.rowDiv_.style.backgroundColor="",o&&nn(this.rowDiv_,o);mr(this.htmlDiv_,qs.SELECTED,e)}}setDisabled(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",`${e}`),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(e){this.flyoutItems_=[],this.toolboxItemDef_=typeof e=="string"?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:p(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){se(this.htmlDiv_)}};Iu.registrationName="category",Iu.nestedPadding=19,Iu.borderWidth=8,Iu.defaultBackgroundColour="#57e",$n(`
.blocklyToolboxCategory:not(.blocklyToolboxSelected):hover {
  background-color: rgba(255, 255, 255, .2);
}

.blocklyToolbox[layout="h"] .blocklyToolboxCategoryContainer {
  margin: 1px 5px 1px 0;
}

.blocklyToolbox[dir="RTL"][layout="h"] .blocklyToolboxCategoryContainer {
  margin: 1px 0 1px 5px;
}

.blocklyToolboxCategory {
  height: 22px;
  line-height: 22px;
  margin-bottom: 3px;
  padding-right: 8px;
  white-space: nowrap;
}

.blocklyToolbox[dir="RTL"] .blocklyToolboxCategory {
  margin-left: 8px;
  padding-right: 0;
}

.blocklyToolboxCategoryIcon {
  background-image: url(<<<PATH>>>/sprites.png);
  height: 16px;
  vertical-align: middle;
  visibility: hidden;
  width: 16px;
}

.blocklyToolboxCategoryIconClosed {
  background-position: -32px -1px;
}

.blocklyToolbox[dir="RTL"] .blocklyToolboxCategoryIconClosed {
  background-position: 0 -1px;
}

.blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {
  background-position: -32px -17px;
}

.blocklyToolbox[dir="RTL"] .blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {
  background-position: 0 -17px;
}

.blocklyToolboxCategoryIconOpen {
  background-position: -16px -1px;
}

.blocklyToolboxSelected>.blocklyToolboxCategoryIconOpen {
  background-position: -16px -17px;
}

.blocklyToolboxCategoryLabel {
  cursor: default;
  font: 16px sans-serif;
  padding: 0 3px;
  vertical-align: middle;
}

.blocklyToolboxDelete .blocklyToolboxCategoryLabel {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxSelected .blocklyToolboxCategoryLabel {
  color: #fff;
}
`),i(Yn.TOOLBOX_ITEM,Iu.registrationName,Iu);var F5=class extends Td{constructor(e,o){super(e,o),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv=null,Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}init(){this.createDom_()}createDom_(){const e=document.createElement("div");e.tabIndex=-1,e.id=this.getId();const o=this.cssConfig_.container;return o&&ut(e,o),this.htmlDiv=e}getDiv(){return this.htmlDiv}dispose(){se(this.htmlDiv)}};F5.registrationName="sep",$n(`
.blocklyTreeSeparator {
  border-bottom: solid #e5e5e5 1px;
  height: 0;
  margin: 5px 0;
}

.blocklyToolbox[layout="h"] .blocklyTreeSeparator {
  border-right: solid #e5e5e5 1px;
  border-bottom: none;
  height: auto;
  margin: 0 5px 0 5px;
  padding: 5px 0;
  width: 0;
}
`),i(Yn.TOOLBOX_ITEM,F5.registrationName,F5);var D3=class extends Iu{constructor(e,o,a){super(e,o,a),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){const e=super.makeDefaultCssConfig_();return e.contents="blocklyToolboxCategoryGroup",e}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else{const o=e.contents;if(o){this.flyoutItems_=[],e=!0;for(let a=0;a<o.length;a++){const d=o[a];!g(Yn.TOOLBOX_ITEM,d.kind)||d.kind.toLowerCase()===F5.registrationName&&e?(this.flyoutItems_.push(d),e=!0):(this.createToolboxItem(d),e=!1)}}}}createToolboxItem(e){let o=e.kind;o.toUpperCase()==="CATEGORY"&&me(e)&&(o=D3.registrationName),e=new(y(Yn.TOOLBOX_ITEM,o))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}init(){super.init(),this.setExpanded(this.toolboxItemDef_.expanded==="true"||this.toolboxItemDef_.expanded===!0)}createDom_(){super.createDom_();const e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),Hn(this.subcategoriesDiv_,U0.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.closeIcon_(this.iconDom_),mr(this.htmlDiv_,qs.EXPANDED,!1),this.htmlDiv_}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const o=this.cssConfig_.icon;o&&ut(e,o),e.style.visibility="visible"}return e.style.display="inline-block",e}createSubCategoriesDom_(e){const o=document.createElement("div");o.style.display="none";var a=this.cssConfig_.contents;for(a&&ut(o,a),a=0;a<e.length;a++){const d=e[a];d.init();const M=d.getDiv();if(o.appendChild(M),d.getClickTarget){let oe;(oe=d.getClickTarget())==null||oe.setAttribute("id",d.getId())}}return o}setExpanded(e){if(this.expanded_!==e){if(this.expanded_=e)this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_);else{let o;(o=this.parentToolbox_.getFlyout())==null||o.setVisible(!1),this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)}mr(this.htmlDiv_,qs.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize()}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none";const o=this.getChildToolboxItems();for(let a=0;a<o.length;a++)o[a].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(e){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};D3.registrationName="collapsibleCategory",i(Yn.TOOLBOX_ITEM,D3.registrationName,D3);var cb=class extends O2{constructor(e){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.height_=this.width_=0,this.flyout=null,this.contents=new Map,this.previouslySelectedItem_=this.selectedItem_=null,this.boundEvents_=[],this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout=e.options.horizontalLayout,this.RTL=e.options.RTL,this.toolboxPosition=e.options.toolboxPosition}onShortcut(e){return!1}init(){var e=this.workspace_;const o=e.getParentSvg();this.flyout=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_);const a=this.flyout.createDom("svg");ut(a,"blocklyToolboxFlyout"),Ae(a,o),this.setVisible(!0),this.flyout.init(e),this.render(this.toolboxDef_),e=e.getThemeManager(),e.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:ns.ComponentWeight.TOOLBOX_WEIGHT,capabilities:[ns.Capability.AUTOHIDEABLE,ns.Capability.DELETE_AREA,ns.Capability.DRAG_TARGET]}),r.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,!0)}createDom_(e){e=e.getParentSvg();const o=this.createContainer_();return o.id=_e(),this.contentsDiv_=this.createContentsContainer_(),Hn(this.contentsDiv_,U0.TREE),o.appendChild(this.contentsDiv_),e.parentNode.insertBefore(o,e),this.attachEvents_(o,this.contentsDiv_),o}createContainer_(){const e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),ut(e,"blocklyToolbox"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}createContentsContainer_(){const e=document.createElement("div");return ut(e,"blocklyToolboxCategoryGroup"),this.isHorizontal()&&(e.style.flexDirection="row"),e}attachEvents_(e,o){e=le(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),o=le(o,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(o)}onClick_(e){if(ce(e)||e.target===this.HtmlDiv)Y().hideChaff(!1);else{var o=e.target.getAttribute("id");o&&(o=this.getToolboxItemById(o),o.isSelectable()&&(this.setSelectedItem(o),o.onClick(e))),Y().hideChaff(!0)}K()}onKeyDown_(e){let o=!1;switch(e.key){case"ArrowDown":o=this.selectNext();break;case"ArrowUp":o=this.selectPrevious();break;case"ArrowLeft":o=this.selectParent();break;case"ArrowRight":o=this.selectChild();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),o=!0);break;default:o=!1}!o&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(o=this.selectedItem_.onKeyDown(e)),o&&e.preventDefault()}createFlyout_(){const e=this.workspace_,o=e.copyOptionsForFlyout();return o.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?w(Yn.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):w(Yn.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(o)}render(e){this.toolboxDef_=e,this.contents.forEach(o=>o.dispose()),this.contents.clear(),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}renderContents_(e){const o=document.createDocumentFragment();for(let a=0;a<e.length;a++)this.createToolboxItem(e[a],o);this.contentsDiv_.appendChild(o)}createToolboxItem(e,o){var a=e.kind;a.toUpperCase()==="CATEGORY"&&me(e)&&(a=D3.registrationName),(a=y(Yn.TOOLBOX_ITEM,a.toLowerCase()))&&(e=new a(e,this),e.init(),this.addToolboxItem_(e),(a=e.getDiv())&&o.appendChild(a),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}addToolboxItem_(e){if(this.contents.set(e.getId(),e),e.isCollapsible()){e=e.getChildToolboxItems();for(let o=0;o<e.length;o++)this.addToolboxItem_(e[o])}}getToolboxItems(){return[...this.contents.values()]}addStyle(e){e&&this.HtmlDiv&&ut(this.HtmlDiv,e)}removeStyle(e){e&&this.HtmlDiv&&nn(this.HtmlDiv,e)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect();const o=e.top,a=o+e.height,d=e.left;return e=d+e.width,this.toolboxPosition===mi.TOP?new ci(-1e7,a,-1e7,1e7):this.toolboxPosition===mi.BOTTOM?new ci(o,1e7,-1e7,1e7):this.toolboxPosition===mi.LEFT?new ci(-1e7,1e7,-1e7,e):new ci(-1e7,1e7,d,1e7)}wouldDelete(e){return e instanceof Ss?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(ms(e)&&e.isDeletable()),this.wouldDelete_}onDragEnter(e){this.updateCursorDeleteStyle_(!0)}onDragExit(e){this.updateCursorDeleteStyle_(!1)}onDrop(e){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(e){const o=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(o):this.removeStyle(o)}getToolboxItemById(e){return this.contents.get(e)||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout}position(){const e=this.workspace_.getMetrics(),o=this.HtmlDiv;o&&(this.horizontalLayout?(o.style.left="0",o.style.height="auto",o.style.width="100%",this.height_=o.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===mi.TOP?o.style.top="0":o.style.bottom="0"):(this.toolboxPosition===mi.RIGHT?o.style.right="0":o.style.left="0",o.style.height="100%",this.width_=o.offsetWidth,this.height_=e.viewHeight),this.flyout.position())}handleToolboxItemResize(){const e=this.workspace_;var o=this.HtmlDiv.getBoundingClientRect();const a=this.getFlyout(),d=this.toolboxPosition===mi.LEFT?e.scrollX+o.width+(a!=null&&a.isVisible()?a.getWidth():0):e.scrollX;o=this.toolboxPosition===mi.TOP?e.scrollY+o.height+(a!=null&&a.isVisible()?a.getHeight():0):e.scrollY,e.translate(d,o),ve(e)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){this.contents.forEach(e=>{e.refreshTheme&&e.refreshTheme()})}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout.show(this.selectedItem_.getContents())}setVisible(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}autoHide(e){!e&&this.flyout&&this.flyout.autoClose&&this.clearSelection()}setSelectedItem(e){const o=this.selectedItem_;!e&&!o||e&&!P6(e)||(this.shouldDeselectItem_(o,e)&&o!==null&&this.deselectItem_(o),this.shouldSelectItem_(o,e)&&e!==null&&this.selectItem_(o,e),this.updateFlyout_(o,e),this.fireSelectEvent(o,e))}shouldDeselectItem_(e,o){return e!==null&&(!e.isCollapsible()||e!==o)}shouldSelectItem_(e,o){return o!==null&&o!==e}deselectItem_(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),mr(this.contentsDiv_,qs.ACTIVEDESCENDANT,"")}selectItem_(e,o){this.selectedItem_=o,this.previouslySelectedItem_=e,o.setSelected(!0),mr(this.contentsDiv_,qs.ACTIVEDESCENDANT,o.getId())}selectItemByPosition(e){(e=this.getToolboxItems()[e])&&this.setSelectedItem(e)}updateFlyout_(e,o){o&&(e!==o||o.isCollapsible())&&o.getContents().length?(this.flyout.show(o.getContents()),this.flyout.scrollToStart()):this.flyout.hide()}fireSelectEvent(e,o){const a=e&&e.getName();let d=o&&o.getName();e===o&&(d=null),e=new(Ut(Mn.TOOLBOX_ITEM_SELECT))(a,d,this.workspace_.id),de(e)}selectParent(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1}selectChild(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;const e=this.selectedItem_;return e.isExpanded()?this.selectNext():e.toggleExpanded(),!0}selectNext(){if(!this.selectedItem_)return!1;const e=[...this.contents.values()];let o=e.indexOf(this.selectedItem_)+1;if(o>-1&&o<e.length){let a=e[o];for(;a&&!a.isSelectable();)a=e[++o];if(a&&a.isSelectable())return this.setSelectedItem(a),!0}return!1}selectPrevious(){if(!this.selectedItem_)return!1;const e=[...this.contents.values()];let o=e.indexOf(this.selectedItem_)-1;if(o>-1&&o<e.length){let a=e[o];for(;a&&!a.isSelectable();)a=e[--o];if(a&&a.isSelectable())return this.setSelectedItem(a),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout.dispose(),this.contents.forEach(e=>e.dispose());for(let e=0;e<this.boundEvents_.length;e++)Ce(this.boundEvents_[e]);this.boundEvents_=[],this.contents.clear(),this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),se(this.HtmlDiv)),r.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}getFocusableElement(){if(!this.HtmlDiv)throw Error("Toolbox DOM has not yet been created.");return this.HtmlDiv}getFocusableTree(){return this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(e){if(!e||e===this){let o;return(o=this.getToolboxItems().find(a=>a.isSelectable()))!=null?o:null}return null}getNestedTrees(){return[]}lookUpFocusableNode(e){return this.getToolboxItemById(e)}onTreeFocus(e,o){e!==this?this.getSelectedItem()!==e&&this.setSelectedItem(e):this.clearSelection()}onTreeBlur(e){let o;e&&e===((o=this.flyout)==null?void 0:o.getWorkspace())||this.autoHide(!1)}};$n(`
.blocklyToolboxDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxGrab {
  cursor: url("<<<PATH>>>/handclosed.cur"), auto;
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* Category tree in Toolbox. */
.blocklyToolbox {
  box-sizing: border-box;
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  background-color: #ddd;
  overflow-x: visible;
  overflow-y: auto;
  padding: 4px 0 4px 0;
  position: absolute;
  z-index: 70;  /* so blocks go under toolbox when dragging */
  -webkit-tap-highlight-color: transparent;  /* issue #1345 */
}

.blocklyToolboxCategoryGroup {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
}

.blocklyToolboxCategoryGroup:focus {
  outline: none;
}
`),i(Yn.TOOLBOX,B0,cb);var Ak="12.3.1",Nk=Or.INPUT_VALUE,Ik=Or.OUTPUT_VALUE,Ok=Or.NEXT_STATEMENT,Rk=Or.PREVIOUS_STATEMENT,Lk=mi.TOP,Dk=mi.BOTTOM,Bk=mi.LEFT,Pk=mi.RIGHT;N3.prototype.newBlock=function(e,o){return new ua(this,e,o)},X0.prototype.newBlock=function(e,o){return new Ss(this,e,o)},N3.prototype.newComment=function(e){return new k2(this,e)},X0.prototype.newComment=function(e){return new Il(this,e)},X0.newTrashcan=function(e){return new o$(e)},za.prototype.newWorkspaceSvg=function(e){return new X0(e)},r.Names$$module$build$src$core$names.prototype.populateProcedures=function(e){e=Do(e),e=e[0].concat(e[1]);for(let o=0;o<e.length;o++)this.getName(e[o][0],r.Names$$module$build$src$core$names.NameType.PROCEDURE)};var Nn={};return Nn.Block=ua,Nn.BlockFlyoutInflater=Z$,Nn.BlockNavigationPolicy=x5,Nn.BlockSvg=Ss,Nn.Blocks=Vs,Nn.ButtonFlyoutInflater=J$,Nn.COLLAPSED_FIELD_NAME=Ci,Nn.COLLAPSED_INPUT_NAME=us,Nn.COLLAPSE_CHARS=s8,Nn.CodeGenerator=r.CodeGenerator$$module$build$src$core$generator,Nn.CollapsibleToolboxCategory=D3,Nn.ComponentManager=ns,Nn.Connection=Vi,Nn.ConnectionChecker=m8,Nn.ConnectionDB=Cu,Nn.ConnectionNavigationPolicy=M5,Nn.ConnectionType=Or,Nn.ContextMenu=xu,Nn.ContextMenuItems=l0,Nn.ContextMenuRegistry=gi,Nn.Css=r1,Nn.DELETE_VARIABLE_ID=T5,Nn.DeleteArea=O2,Nn.DragTarget=a8,Nn.DropDownDiv=i0,Nn.Events=Ar,Nn.Extensions=Ol,Nn.Field=cs,Nn.FieldCheckbox=Jh,Nn.FieldDropdown=jo,Nn.FieldImage=Kh,Nn.FieldLabel=v1,Nn.FieldLabelSerializable=E$,Nn.FieldNavigationPolicy=k5,Nn.FieldNumber=sd,Nn.FieldTextInput=r.FieldTextInput$$module$build$src$core$field_textinput,Nn.FieldVariable=D5,Nn.Flyout=dc,Nn.FlyoutButton=Yo,Nn.FlyoutButtonNavigationPolicy=u8,Nn.FlyoutItem=R2,Nn.FlyoutMetricsManager=qh,Nn.FlyoutNavigationPolicy=D2,Nn.FlyoutNavigator=Mu,Nn.FlyoutSeparator=x3,Nn.FlyoutSeparatorNavigationPolicy=S5,Nn.FocusManager=Go,Nn.FocusableTreeTraverser=Bo,Nn.Generator=r.CodeGenerator$$module$build$src$core$generator,Nn.Gesture=Xh,Nn.Grid=F2,Nn.HorizontalFlyout=T$,Nn.INPUT_VALUE=Nk,Nn.Input=b1,Nn.InsertionMarkerPreviewer=y$,Nn.KeyboardNavigationController=ku,Nn.LabelFlyoutInflater=f$,Nn.LineCursor=U2,Nn.Marker=p8,Nn.MarkerManager=z2,Nn.Menu=i5,Nn.MenuItem=i3,Nn.MetricsManager=L2,Nn.Msg=r.Msg$$module$build$src$core$msg,Nn.NEXT_STATEMENT=Ok,Nn.Names=r.Names$$module$build$src$core$names,Nn.Navigator=Wh,Nn.OPPOSITE_TYPE=$1,Nn.OUTPUT_VALUE=Ik,Nn.Options=la,Nn.PREVIOUS_STATEMENT=Rk,Nn.PROCEDURE_CATEGORY_NAME=Yh,Nn.Procedures=Ko,Nn.RENAME_VARIABLE_ID=w5,Nn.RenderedConnection=Xo,Nn.Scrollbar=Js,Nn.ScrollbarPair=Ga,Nn.SeparatorFlyoutInflater=P2,Nn.ShortcutItems=gc,Nn.ShortcutRegistry=vs,Nn.TOOLBOX_AT_BOTTOM=Dk,Nn.TOOLBOX_AT_LEFT=Bk,Nn.TOOLBOX_AT_RIGHT=Pk,Nn.TOOLBOX_AT_TOP=Lk,Nn.Theme=p1,Nn.ThemeManager=Di,Nn.Themes=kk,Nn.Toast=Ao,Nn.Toolbox=cb,Nn.ToolboxCategory=Iu,Nn.ToolboxItem=Td,Nn.ToolboxSeparator=F5,Nn.Tooltip=G0,Nn.Touch=Yu,Nn.Trashcan=o$,Nn.UnattachedFieldError=fo,Nn.VARIABLE_CATEGORY_NAME=Nh,Nn.VARIABLE_DYNAMIC_CATEGORY_NAME=Ji,Nn.VERSION=Ak,Nn.VariableMap=s$,Nn.VariableModel=i$,Nn.Variables=Zs,Nn.VariablesDynamic=A0,Nn.VerticalFlyout=id,Nn.WidgetDiv=ml,Nn.Workspace=N3,Nn.WorkspaceAudio=r$,Nn.WorkspaceDragger=O5,Nn.WorkspaceNavigationPolicy=I5,Nn.WorkspaceSvg=X0,Nn.Xml=s0,Nn.ZoomControls=La,Nn.blockAnimations=fc,Nn.blockRendering=Rr,Nn.browserEvents=ka,Nn.bubbles=P5,Nn.bumpObjects=I2,Nn.clipboard=Nu,Nn.comments=H2,Nn.common=co,Nn.config=r.config$$module$build$src$core$config,Nn.constants=Ts,Nn.defineBlocksWithJsonArray=we,Nn.dialog=z0,Nn.dragging=B5,Nn.fieldRegistry=w3,Nn.geras=bc,Nn.getFocusManager=r.getFocusManager$$module$build$src$core$focus_manager,Nn.getMainWorkspace=Y,Nn.getSelected=Je,Nn.hasBubble=zl,Nn.hideChaff=q7,Nn.icons=Au,Nn.inject=k6,Nn.inputs=V2,Nn.isCopyable=Zc,Nn.isDeletable=ms,Nn.isDraggable=Xi,Nn.isIcon=ot,Nn.isObservable=ws,Nn.isPaster=G4,Nn.isRenderedElement=B6,Nn.isSelectable=ke,Nn.isSerializable=Er,Nn.isVariableBackedParameterModel=cn,Nn.keyboardNavigationController=k3,Nn.layers=Wf,Nn.navigateBlock=zs,Nn.navigateStacks=Os,Nn.procedures=Ko,Nn.registry=vu,Nn.renderManagement=sa,Nn.serialization=Ek,Nn.setLocale=wu,Nn.setParentContainer=zt,Nn.svgResize=ve,Nn.thrasos=wd,Nn.uiPosition=ko,Nn.utils=Ms,Nn.zelos=$c,Nn.__namespace__=r,Nn})})(Q8)),Q8.exports}var lA=x7();const aA=Pl(lA),{Block:eY,BlockFlyoutInflater:tY,BlockNavigationPolicy:nY,BlockSvg:rY,Blocks:iY,ButtonFlyoutInflater:sY,COLLAPSED_FIELD_NAME:oY,COLLAPSED_INPUT_NAME:lY,COLLAPSE_CHARS:aY,CodeGenerator:uY,CollapsibleToolboxCategory:cY,ComponentManager:hY,Connection:fY,ConnectionChecker:dY,ConnectionDB:pY,ConnectionNavigationPolicy:mY,ConnectionType:gY,ContextMenu:vY,ContextMenuItems:$Y,ContextMenuRegistry:bY,Css:yY,DELETE_VARIABLE_ID:_Y,DeleteArea:wY,DragTarget:TY,DropDownDiv:EY,Events:SY,Extensions:xY,Field:CY,FieldCheckbox:MY,FieldDropdown:kY,FieldImage:AY,FieldLabel:NY,FieldLabelSerializable:IY,FieldNavigationPolicy:OY,FieldNumber:RY,FieldTextInput:LY,FieldVariable:DY,Flyout:BY,FlyoutButton:PY,FlyoutButtonNavigationPolicy:FY,FlyoutItem:UY,FlyoutMetricsManager:zY,FlyoutNavigationPolicy:HY,FlyoutNavigator:VY,FlyoutSeparator:GY,FlyoutSeparatorNavigationPolicy:qY,FocusManager:WY,FocusableTreeTraverser:jY,Generator:XY,Gesture:YY,Grid:KY,HorizontalFlyout:JY,INPUT_VALUE:ZY,Input:QY,InsertionMarkerPreviewer:eK,KeyboardNavigationController:tK,LabelFlyoutInflater:nK,LineCursor:rK,Marker:iK,MarkerManager:sK,Menu:oK,MenuItem:lK,MetricsManager:aK,Msg:uK,NEXT_STATEMENT:cK,Names:hK,Navigator:fK,OPPOSITE_TYPE:dK,OUTPUT_VALUE:pK,Options:mK,PREVIOUS_STATEMENT:gK,PROCEDURE_CATEGORY_NAME:vK,Procedures:$K,RENAME_VARIABLE_ID:bK,RenderedConnection:yK,Scrollbar:_K,ScrollbarPair:wK,SeparatorFlyoutInflater:TK,ShortcutItems:EK,ShortcutRegistry:SK,TOOLBOX_AT_BOTTOM:xK,TOOLBOX_AT_LEFT:CK,TOOLBOX_AT_RIGHT:MK,TOOLBOX_AT_TOP:kK,Theme:AK,ThemeManager:NK,Themes:IK,Toast:OK,Toolbox:RK,ToolboxCategory:LK,ToolboxItem:DK,ToolboxSeparator:BK,Tooltip:PK,Touch:FK,Trashcan:UK,UnattachedFieldError:zK,VARIABLE_CATEGORY_NAME:HK,VARIABLE_DYNAMIC_CATEGORY_NAME:VK,VERSION:GK,VariableMap:qK,VariableModel:WK,Variables:jK,VariablesDynamic:XK,VerticalFlyout:YK,WidgetDiv:KK,Workspace:JK,WorkspaceAudio:ZK,WorkspaceDragger:QK,WorkspaceNavigationPolicy:eJ,WorkspaceSvg:tJ,Xml:t7,ZoomControls:nJ,blockAnimations:rJ,blockRendering:iJ,browserEvents:sJ,bubbles:oJ,bumpObjects:lJ,clipboard:aJ,comments:uJ,common:cJ,config:hJ,constants:fJ,defineBlocksWithJsonArray:dJ,dialog:pJ,dragging:mJ,fieldRegistry:gJ,geras:vJ,getFocusManager:$J,getMainWorkspace:bJ,getSelected:yJ,hasBubble:_J,hideChaff:wJ,icons:TJ,inject:uA,inputs:EJ,isCopyable:SJ,isDeletable:xJ,isDraggable:CJ,isIcon:MJ,isObservable:kJ,isPaster:AJ,isRenderedElement:NJ,isSelectable:IJ,isSerializable:OJ,isVariableBackedParameterModel:RJ,keyboardNavigationController:LJ,layers:DJ,navigateBlock:BJ,navigateStacks:PJ,procedures:FJ,registry:UJ,renderManagement:zJ,serialization:ZT,setLocale:HJ,setParentContainer:VJ,svgResize:GJ,thrasos:qJ,uiPosition:WJ,utils:cA,zelos:jJ}=aA;function hA(t,s){var r=null,i=null,u=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];i=function(){r=null,t.apply(void 0,f)},r!=null&&clearTimeout(r),r=window.setTimeout(i,s)},h=function(){r!=null&&(clearTimeout(r),i&&i())};return[u,h]}var y9=function(){return y9=Object.assign||function(t){for(var s,r=1,i=arguments.length;r<i;r++){s=arguments[r];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(t[u]=s[u])}return t},y9.apply(this,arguments)};function fA(t,s,r){try{return s.getAllBlocks(!1).length>0?void 0:(t7.domToWorkspace(cA.xml.textToDom(t),s),!0)}catch(i){return r&&r(i),!1}}function dA(t,s,r){try{return ZT.workspaces.load(t,s),!0}catch(i){return r&&r(i),!1}}var pA=function(t){var s=t.ref,r=t.initialXml,i=t.initialJson,u=t.toolboxConfiguration,h=t.workspaceConfiguration,f=t.onWorkspaceChange,g=t.onImportXmlError,y=t.onImportError,$=t.onInject,T=t.onDispose;y=y??g;var w=io.useState(null),I=w[0],A=w[1],K=io.useState(r||null),ne=K[0],he=K[1],V=io.useState(i||null),le=V[0],te=V[1],Ce=io.useState(!1),Oe=Ce[0],ce=Ce[1],Be=io.useState(!1),je=Be[0],_e=Be[1],b=io.useRef(h);io.useEffect(function(){b.current=h},[h]);var O=io.useRef(u);io.useEffect(function(){O.current=u,u&&I&&!h?.readOnly&&I.updateToolbox(u)},[u,I,h]);var N=io.useRef($),R=io.useRef(T);io.useEffect(function(){N.current=$},[$]),io.useEffect(function(){R.current=T},[T]);var B=io.useCallback(function(j){f&&f(j)},[f]);return io.useEffect(function(){if(s.current){var j=uA(s.current,y9(y9({},b.current),{toolbox:O.current}));A(j),ce(!1),_e(!1),N.current&&N.current(j);var J=R.current;return function(){j.dispose(),J&&J(j)}}},[s]),io.useEffect(function(){I&&!je&&B(I)},[B,je,I]),io.useEffect(function(){if(I!=null){var j=function(){B(I)};return I.addChangeListener(j),function(){I.removeChangeListener(j)}}},[I,B]),io.useEffect(function(){if(I!=null){var j=hA(function(){var Ne=t7.domToText(t7.workspaceToDom(I));if(Ne!==ne){var qe=ZT.workspaces.save(I);te(qe),he(Ne)}},200),J=j[0],fe=j[1];return I.addChangeListener(J),function(){I.removeChangeListener(J),fe()}}},[I,ne]),io.useEffect(function(){if(ne&&I&&!Oe){var j=fA(ne,I,y);j||he(null),ce(!0)}else if(le&&I&&!Oe){var j=dA(le,I,y);j||te(null);var J=t7.domToText(t7.workspaceToDom(I));he(J),ce(!0)}},[le,ne,I,Oe,y]),{workspace:I,xml:ne,json:le}},Id={exports:{}},Od,Mb;function mA(){if(Mb)return Od;Mb=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Od=t,Od}var Rd,kb;function gA(){if(kb)return Rd;kb=1;var t=mA();function s(){}function r(){}return r.resetWarningCache=s,Rd=function(){function i(f,g,y,$,T,w){if(w!==t){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}i.isRequired=i;function u(){return i}var h={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:u,element:i,elementType:i,instanceOf:u,node:i,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:r,resetWarningCache:s};return h.PropTypes=h,h},Rd}var Ab;function QT(){return Ab||(Ab=1,Id.exports=gA()()),Id.exports}var vA=QT();const Wa=Pl(vA);var $A={initialXml:Wa.string,initialJson:Wa.object,toolboxConfiguration:Wa.object,workspaceConfiguration:Wa.object,className:Wa.string,onWorkspaceChange:Wa.func,onImportXmlError:Wa.func,onImportError:Wa.func,onXmlChange:Wa.func,onJsonChange:Wa.func,onInject:Wa.func,onDispose:Wa.func};function cg(t){var s=t.initialXml,r=t.initialJson,i=t.toolboxConfiguration,u=t.workspaceConfiguration,h=t.className,f=t.onWorkspaceChange,g=t.onXmlChange,y=t.onJsonChange,$=t.onImportXmlError,T=t.onImportError,w=t.onInject,I=t.onDispose,A=io.useRef(null),K=pA({ref:A,initialXml:s,initialJson:r,toolboxConfiguration:i,workspaceConfiguration:u,onWorkspaceChange:f,onImportXmlError:$,onImportError:T,onInject:w,onDispose:I}),ne=K.xml,he=K.json,V=io.useRef(g);io.useEffect(function(){V.current=g},[g]);var le=io.useRef(y);return io.useEffect(function(){le.current=y},[y]),io.useEffect(function(){V.current&&ne&&V.current(ne),le.current&&he&&le.current(he)},[ne,he]),mt.jsx("div",{className:h,ref:A})}cg.propTypes=$A;var e9={exports:{}},t9={exports:{}},bA=t9.exports,Nb;function yA(){return Nb||(Nb=1,(function(t,s){(function(r,i){t.exports=i()})(bA,function(){var r=r||{Msg:Object.create(null)};return r.Msg.ADD_COMMENT="Add Comment",r.Msg.ALT_KEY="Alt",r.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",r.Msg.CHANGE_VALUE_TITLE="Change value:",r.Msg.CHROME_OS="ChromeOS",r.Msg.CLEAN_UP="Clean up Blocks",r.Msg.CLOSE="Close",r.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",r.Msg.COLLAPSE_ALL="Collapse Blocks",r.Msg.COLLAPSE_BLOCK="Collapse Block",r.Msg.COLOUR_BLEND_COLOUR1="colour 1",r.Msg.COLOUR_BLEND_COLOUR2="colour 2",r.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",r.Msg.COLOUR_BLEND_RATIO="ratio",r.Msg.COLOUR_BLEND_TITLE="blend",r.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",r.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",r.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",r.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",r.Msg.COLOUR_RANDOM_TITLE="random colour",r.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",r.Msg.COLOUR_RGB_BLUE="blue",r.Msg.COLOUR_RGB_GREEN="green",r.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",r.Msg.COLOUR_RGB_RED="red",r.Msg.COLOUR_RGB_TITLE="colour with",r.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",r.Msg.COMMAND_KEY=" Command",r.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",r.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",r.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",r.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",r.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",r.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",r.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",r.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",r.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",r.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",r.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",r.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",r.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",r.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",r.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",r.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",r.Msg.CONTROLS_IF_MSG_ELSE="else",r.Msg.CONTROLS_IF_MSG_ELSEIF="else if",r.Msg.CONTROLS_IF_MSG_IF="if",r.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",r.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",r.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",r.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",r.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",r.Msg.CONTROLS_REPEAT_INPUT_DO="do",r.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",r.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",r.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",r.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",r.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",r.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",r.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",r.Msg.CONTROL_KEY="Ctrl",r.Msg.COPY_SHORTCUT="Copy",r.Msg.CUT_SHORTCUT="Cut",r.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",r.Msg.DELETE_BLOCK="Delete Block",r.Msg.DELETE_VARIABLE="Delete the '%1' variable",r.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",r.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",r.Msg.DIALOG_CANCEL="Cancel",r.Msg.DIALOG_OK="OK",r.Msg.DISABLE_BLOCK="Disable Block",r.Msg.DUPLICATE_BLOCK="Duplicate",r.Msg.DUPLICATE_COMMENT="Duplicate Comment",r.Msg.EDIT_BLOCK_CONTENTS="Edit Block contents",r.Msg.ENABLE_BLOCK="Enable Block",r.Msg.EXPAND_ALL="Expand Blocks",r.Msg.EXPAND_BLOCK="Expand Block",r.Msg.EXTERNAL_INPUTS="External Inputs",r.Msg.HELP="Help",r.Msg.HELP_PROMPT="Press %1 for help on keyboard controls",r.Msg.INLINE_INPUTS="Inline Inputs",r.Msg.KEYBOARD_NAV_CONSTRAINED_MOVE_HINT="Use the arrow keys to move, then %1 to accept the position",r.Msg.KEYBOARD_NAV_COPIED_HINT="Copied. Press %1 to paste.",r.Msg.KEYBOARD_NAV_CUT_HINT="Cut. Press %1 to paste.",r.Msg.KEYBOARD_NAV_UNCONSTRAINED_MOVE_HINT="Hold %1 and use arrow keys to move freely, then %2 to accept the position",r.Msg.LINUX="Linux",r.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",r.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",r.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",r.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",r.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",r.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",r.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",r.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",r.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",r.Msg.LISTS_GET_INDEX_FIRST="first",r.Msg.LISTS_GET_INDEX_FROM_END="# from end",r.Msg.LISTS_GET_INDEX_FROM_START="#",r.Msg.LISTS_GET_INDEX_GET="get",r.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",r.Msg.LISTS_GET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",r.Msg.LISTS_GET_INDEX_LAST="last",r.Msg.LISTS_GET_INDEX_RANDOM="random",r.Msg.LISTS_GET_INDEX_REMOVE="remove",r.Msg.LISTS_GET_INDEX_TAIL="",r.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",r.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",r.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",r.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",r.Msg.LISTS_GET_SUBLIST_END_LAST="to last",r.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",r.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",r.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",r.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",r.Msg.LISTS_GET_SUBLIST_TAIL="",r.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",r.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",r.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",r.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",r.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#finding-items-in-a-list",r.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",r.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",r.Msg.LISTS_INLIST="in list",r.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",r.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",r.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",r.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",r.Msg.LISTS_LENGTH_TITLE="length of %1",r.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",r.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",r.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",r.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",r.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",r.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",r.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",r.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",r.Msg.LISTS_SET_INDEX_INPUT_TO="as",r.Msg.LISTS_SET_INDEX_INSERT="insert at",r.Msg.LISTS_SET_INDEX_SET="set",r.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",r.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",r.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",r.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",r.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",r.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",r.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",r.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",r.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",r.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",r.Msg.LISTS_SORT_ORDER_DESCENDING="descending",r.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",r.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",r.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",r.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",r.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",r.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",r.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",r.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",r.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",r.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",r.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",r.Msg.LOGIC_BOOLEAN_FALSE="false",r.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",r.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",r.Msg.LOGIC_BOOLEAN_TRUE="true",r.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",r.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",r.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",r.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",r.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",r.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",r.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",r.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",r.Msg.LOGIC_NEGATE_TITLE="not %1",r.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",r.Msg.LOGIC_NULL="null",r.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",r.Msg.LOGIC_NULL_TOOLTIP="Returns null.",r.Msg.LOGIC_OPERATION_AND="and",r.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",r.Msg.LOGIC_OPERATION_OR="or",r.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",r.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",r.Msg.LOGIC_TERNARY_CONDITION="test",r.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",r.Msg.LOGIC_TERNARY_IF_FALSE="if false",r.Msg.LOGIC_TERNARY_IF_TRUE="if true",r.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",r.Msg.MAC_OS="macOS",r.Msg.MATH_ADDITION_SYMBOL="+",r.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",r.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",r.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",r.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",r.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",r.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",r.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",r.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",r.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",r.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",r.Msg.MATH_CHANGE_TITLE="change %1 by %2",r.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",r.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",r.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants:  (3.141), e (2.718),  (1.618), sqrt(2) (1.414), sqrt() (0.707), or  (infinity).",r.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",r.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",r.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",r.Msg.MATH_DIVISION_SYMBOL="",r.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",r.Msg.MATH_IS_EVEN="is even",r.Msg.MATH_IS_NEGATIVE="is negative",r.Msg.MATH_IS_ODD="is odd",r.Msg.MATH_IS_POSITIVE="is positive",r.Msg.MATH_IS_PRIME="is prime",r.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",r.Msg.MATH_IS_WHOLE="is whole",r.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",r.Msg.MATH_MODULO_TITLE="remainder of %1  %2",r.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",r.Msg.MATH_MULTIPLICATION_SYMBOL="",r.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",r.Msg.MATH_NUMBER_TOOLTIP="A number.",r.Msg.MATH_ONLIST_HELPURL="",r.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",r.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",r.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",r.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",r.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",r.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",r.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",r.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",r.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",r.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",r.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",r.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",r.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",r.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",r.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",r.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",r.Msg.MATH_POWER_SYMBOL="^",r.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",r.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",r.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",r.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",r.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",r.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",r.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",r.Msg.MATH_ROUND_OPERATOR_ROUND="round",r.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",r.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",r.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",r.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",r.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",r.Msg.MATH_SINGLE_OP_ROOT="square root",r.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",r.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",r.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",r.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",r.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",r.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",r.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",r.Msg.MATH_SUBTRACTION_SYMBOL="-",r.Msg.MATH_TRIG_ACOS="acos",r.Msg.MATH_TRIG_ASIN="asin",r.Msg.MATH_TRIG_ATAN="atan",r.Msg.MATH_TRIG_COS="cos",r.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",r.Msg.MATH_TRIG_SIN="sin",r.Msg.MATH_TRIG_TAN="tan",r.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",r.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",r.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",r.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",r.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",r.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",r.Msg.MOVE_BLOCK="Move Block",r.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",r.Msg.NEW_NUMBER_VARIABLE="Create number variable...",r.Msg.NEW_STRING_VARIABLE="Create string variable...",r.Msg.NEW_VARIABLE="Create variable...",r.Msg.NEW_VARIABLE_TITLE="New variable name:",r.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",r.Msg.OPTION_KEY=" Option",r.Msg.ORDINAL_NUMBER_SUFFIX="",r.Msg.PASTE_SHORTCUT="Paste",r.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",r.Msg.PROCEDURES_BEFORE_PARAMS="with:",r.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",r.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",r.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",r.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",r.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",r.Msg.PROCEDURES_CALL_DISABLED_DEF_WARNING="Can't run the user-defined function '%1' because the definition block is disabled.",r.Msg.PROCEDURES_CREATE_DO="Create '%1'",r.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",r.Msg.PROCEDURES_DEFNORETURN_DO="",r.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",r.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",r.Msg.PROCEDURES_DEFNORETURN_TITLE="to",r.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",r.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",r.Msg.PROCEDURES_DEFRETURN_RETURN="return",r.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",r.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",r.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",r.Msg.PROCEDURES_IFRETURN_HELPURL="https://c2.com/cgi/wiki?GuardClause",r.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",r.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",r.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",r.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",r.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",r.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",r.Msg.REDO="Redo",r.Msg.REMOVE_COMMENT="Remove Comment",r.Msg.RENAME_VARIABLE="Rename variable...",r.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",r.Msg.SHORTCUTS_CODE_NAVIGATION="Code navigation",r.Msg.SHORTCUTS_EDITING="Editing",r.Msg.SHORTCUTS_GENERAL="General",r.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",r.Msg.TEXT_APPEND_TITLE="to %1 append text %2",r.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",r.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",r.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",r.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",r.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",r.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",r.Msg.TEXT_CHARAT_FIRST="get first letter",r.Msg.TEXT_CHARAT_FROM_END="get letter # from end",r.Msg.TEXT_CHARAT_FROM_START="get letter #",r.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",r.Msg.TEXT_CHARAT_LAST="get last letter",r.Msg.TEXT_CHARAT_RANDOM="get random letter",r.Msg.TEXT_CHARAT_TAIL="",r.Msg.TEXT_CHARAT_TITLE="in text %1 %2",r.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",r.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",r.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",r.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",r.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",r.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",r.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",r.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",r.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",r.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",r.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",r.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",r.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",r.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",r.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",r.Msg.TEXT_GET_SUBSTRING_TAIL="",r.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",r.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",r.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",r.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",r.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",r.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",r.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",r.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",r.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",r.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",r.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",r.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",r.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",r.Msg.TEXT_LENGTH_TITLE="length of %1",r.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",r.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",r.Msg.TEXT_PRINT_TITLE="print %1",r.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",r.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",r.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",r.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",r.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",r.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",r.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",r.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",r.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",r.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",r.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",r.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",r.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",r.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",r.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",r.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",r.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",r.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",r.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",r.Msg.TODAY="Today",r.Msg.UNDO="Undo",r.Msg.UNKNOWN="Unknown",r.Msg.UNNAMED_KEY="unnamed",r.Msg.VARIABLES_DEFAULT_NAME="item",r.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",r.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",r.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",r.Msg.VARIABLES_SET="set %1 to %2",r.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",r.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",r.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",r.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",r.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",r.Msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER="A variable named '%1' already exists as a parameter in the procedure '%2'.",r.Msg.WINDOWS="Windows",r.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",r.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",r.Msg.CONTROLS_FOREACH_INPUT_DO=r.Msg.CONTROLS_REPEAT_INPUT_DO,r.Msg.CONTROLS_FOR_INPUT_DO=r.Msg.CONTROLS_REPEAT_INPUT_DO,r.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=r.Msg.CONTROLS_IF_MSG_ELSEIF,r.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=r.Msg.CONTROLS_IF_MSG_ELSE,r.Msg.CONTROLS_IF_IF_TITLE_IF=r.Msg.CONTROLS_IF_MSG_IF,r.Msg.CONTROLS_IF_MSG_THEN=r.Msg.CONTROLS_REPEAT_INPUT_DO,r.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=r.Msg.CONTROLS_REPEAT_INPUT_DO,r.Msg.LISTS_CREATE_WITH_ITEM_TITLE=r.Msg.VARIABLES_DEFAULT_NAME,r.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=r.Msg.LISTS_INLIST,r.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=r.Msg.LISTS_INLIST,r.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=r.Msg.LISTS_INLIST,r.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=r.Msg.LISTS_INLIST,r.Msg.MATH_CHANGE_TITLE_ITEM=r.Msg.VARIABLES_DEFAULT_NAME,r.Msg.PROCEDURES_DEFRETURN_COMMENT=r.Msg.PROCEDURES_DEFNORETURN_COMMENT,r.Msg.PROCEDURES_DEFRETURN_DO=r.Msg.PROCEDURES_DEFNORETURN_DO,r.Msg.PROCEDURES_DEFRETURN_PROCEDURE=r.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,r.Msg.PROCEDURES_DEFRETURN_TITLE=r.Msg.PROCEDURES_DEFNORETURN_TITLE,r.Msg.TEXT_APPEND_VARIABLE=r.Msg.VARIABLES_DEFAULT_NAME,r.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=r.Msg.VARIABLES_DEFAULT_NAME,r.Msg.COLOUR_HUE="20",r.Msg.LISTS_HUE="260",r.Msg.LOGIC_HUE="210",r.Msg.LOOPS_HUE="120",r.Msg.MATH_HUE="230",r.Msg.PROCEDURES_HUE="290",r.Msg.TEXTS_HUE="160",r.Msg.VARIABLES_DYNAMIC_HUE="310",r.Msg.VARIABLES_HUE="330",r.Msg})})(t9)),t9.exports}var n9={exports:{}},_A=n9.exports,Ib;function wA(){return Ib||(Ib=1,(function(t,s){(function(r,i){t.exports=i(x7())})(_A,function(r){var i=r.__namespace__,u=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),h={customContextMenu:function(Y){if(this.isInFlyout)(this.type==="variables_get_dynamic"||this.type==="variables_get_reporter_dynamic")&&(Je={text:i.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:f(this)},Fe=this.getField("VAR").getText(),Fe={text:i.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",Fe),enabled:!0,callback:g(this)},Y.unshift(Je),Y.unshift(Fe));else{if(this.type==="variables_get_dynamic")var Ee="variables_set_dynamic",Je=i.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else Ee="variables_get_dynamic",Je=i.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var Fe=this.getField("VAR");Ee={type:Ee,fields:{VAR:Fe.saveState(!0)}},Y.push({enabled:this.workspace.remainingCapacity()>0,text:Je.replace("%1",Fe.getText()),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,Ee)})}},onchange:function(Y){Y=this.getFieldValue("VAR"),Y=i.getVariable$$module$build$src$core$variables(this.workspace,Y),this.type==="variables_get_dynamic"?this.outputConnection.setCheck(Y.getType()):this.getInput("VALUE").connection.setCheck(Y.getType())}},f=function(Y){return function(){const Ee=Y.workspace,Je=Y.getField("VAR").getVariable();i.renameVariable$$module$build$src$core$variables(Ee,Je)}},g=function(Y){return function(){const Ee=Y.getField("VAR").getVariable();Ee&&i.deleteVariable$$module$build$src$core$variables(Ee.getWorkspace(),Ee,Y)}};i.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter",h),i.defineBlocks$$module$build$src$core$common(u);var y={blocks:u},$=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),T={customContextMenu:function(Y){if(this.isInFlyout)(this.type==="variables_get"||this.type==="variables_get_reporter")&&(Je={text:i.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:w(this)},Fe=this.getField("VAR").getText(),Fe={text:i.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",Fe),enabled:!0,callback:I(this)},Y.unshift(Je),Y.unshift(Fe));else{if(this.type==="variables_get")var Ee="variables_set",Je=i.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else Ee="variables_get",Je=i.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var Fe=this.getField("VAR");Ee={type:Ee,fields:{VAR:Fe.saveState(!0)}},Y.push({enabled:this.workspace.remainingCapacity()>0,text:Je.replace("%1",Fe.getText()),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,Ee)})}}},w=function(Y){return function(){const Ee=Y.workspace,Je=Y.getField("VAR").getVariable();i.renameVariable$$module$build$src$core$variables(Ee,Je)}},I=function(Y){return function(){const Ee=Y.getField("VAR").getVariable();Ee&&i.deleteVariable$$module$build$src$core$variables(Ee.getWorkspace(),Ee,Y)}};i.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter",T),i.defineBlocks$$module$build$src$core$common($);var A={blocks:$},K=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),ne={init:function(){this.WHERE_OPTIONS_1=[[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);const Y=Ee=>{const Je=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+Ee]});return Je.setValidator(function(Fe){const Lt=this.getValue();Fe=Fe==="FROM_START"||Fe==="FROM_END",Fe!==(Lt==="FROM_START"||Lt==="FROM_END")&&this.getSourceBlock().updateAt_(Ee,Fe)}),Je};this.appendDummyInput("WHERE1_INPUT").appendField(Y(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(Y(2),"WHERE2"),this.appendDummyInput("AT2"),i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const Y=i.createElement$$module$build$src$core$utils$xml("mutation");var Ee=this.getInput("AT1")instanceof i.ValueInput$$module$build$src$core$inputs$value_input;return Y.setAttribute("at1",`${Ee}`),Ee=this.getInput("AT2")instanceof i.ValueInput$$module$build$src$core$inputs$value_input,Y.setAttribute("at2",`${Ee}`),Y},domToMutation:function(Y){const Ee=Y.getAttribute("at1")==="true";Y=Y.getAttribute("at2")==="true",this.updateAt_(1,Ee),this.updateAt_(2,Y)},updateAt_:function(Y,Ee){this.removeInput("AT"+Y),this.removeInput("ORDINAL"+Y,!0),Ee?(this.appendValueInput("AT"+Y).setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+Y).appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+Y),Y===2&&i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL)),Y===1&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT"))}};K.text_getSubstring=ne,K.text_changeCase={init:function(){const Y=[[i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:Y}),"CASE"),this.setOutput(!0,"String"),this.setTooltip(i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}},K.text_trim={init:function(){const Y=[[i.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[i.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[i.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:Y}),"MODE"),this.setOutput(!0,"String"),this.setTooltip(i.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}},K.text_print={init:function(){this.jsonInit({message0:i.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:i.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:i.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};var he={updateType_:function(Y){this.outputConnection.setCheck(Y==="NUMBER"?"Number":"String")},mutationToDom:function(){const Y=i.createElement$$module$build$src$core$utils$xml("mutation");return Y.setAttribute("type",this.getFieldValue("TYPE")),Y},domToMutation:function(Y){this.updateType_(Y.getAttribute("type"))}};K.text_prompt_ext=Object.assign({},he,{init:function(){var Y=[[i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),Y=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:Y}),Y.setValidator(Ee=>{this.updateType_(Ee)}),this.appendValueInput("TEXT").appendField(Y,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),K.text_prompt=Object.assign({},he,{init:function(){this.mixin(V);var Y=[[i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),Y=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:Y}),Y.setValidator(Ee=>{this.updateType_(Ee)}),this.appendDummyInput().appendField(Y,"TYPE").appendField(this.newQuote_(!0)).appendField(i.fromJson$$module$build$src$core$field_registry({type:"field_input",text:""}),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),K.text_count={init:function(){this.jsonInit({message0:i.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:i.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:i.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}},K.text_replace={init:function(){this.jsonInit({message0:i.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:i.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:i.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}},K.text_reverse={init:function(){this.jsonInit({message0:i.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:i.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:i.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};var V={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(Y){for(let Ee=0,Je;Je=this.inputList[Ee];Ee++)for(let Fe=0,Lt;Lt=Je.fieldRow[Fe];Fe++)if(Y===Lt.name){Je.insertFieldAt(Fe,this.newQuote_(!0)),Je.insertFieldAt(Fe+2,this.newQuote_(!1));return}console.warn('field named "'+Y+'" not found in '+this.toDevString())},newQuote_:function(Y){return Y=this.RTL?!Y:Y,i.fromJson$$module$build$src$core$field_registry({type:"field_image",src:Y?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,height:this.QUOTE_IMAGE_HEIGHT,alt:Y?"":""})}},le=function(){this.mixin(V),this.quoteField_("TEXT")},te={itemCount_:0,mutationToDom:function(){const Y=i.createElement$$module$build$src$core$utils$xml("mutation");return Y.setAttribute("items",`${this.itemCount_}`),Y},domToMutation:function(Y){this.itemCount_=parseInt(Y.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(Y){this.itemCount_=Y.itemCount,this.updateShape_()},decompose:function(Y){const Ee=Y.newBlock("text_create_join_container");Ee.initSvg();let Je=Ee.getInput("STACK").connection;for(let Fe=0;Fe<this.itemCount_;Fe++){const Lt=Y.newBlock("text_create_join_item");Lt.initSvg(),Je.connect(Lt.previousConnection),Je=Lt.nextConnection}return Ee},compose:function(Y){var Ee=Y.getInputTargetBlock("STACK");for(Y=[];Ee;)Ee.isInsertionMarker()||Y.push(Ee.valueConnection_),Ee=Ee.getNextBlock();for(Ee=0;Ee<this.itemCount_;Ee++){const Je=this.getInput("ADD"+Ee).connection.targetConnection;Je&&!Y.includes(Je)&&Je.disconnect()}for(this.itemCount_=Y.length,this.updateShape_(),Ee=0;Ee<this.itemCount_;Ee++){let Je;(Je=Y[Ee])==null||Je.reconnect(this,"ADD"+Ee)}},saveConnections:function(Y){Y=Y.getInputTargetBlock("STACK");let Ee=0;for(;Y;){if(Y.isInsertionMarker()){Y=Y.getNextBlock();continue}const Je=this.getInput("ADD"+Ee);Y.valueConnection_=Je&&Je.connection.targetConnection,Y=Y.getNextBlock(),Ee++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var Y=0;Y<this.itemCount_;Y++)if(!this.getInput("ADD"+Y)){const Ee=this.appendValueInput("ADD"+Y).setAlign(i.Align$$module$build$src$core$inputs$align.RIGHT);Y===0&&Ee.appendField(i.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(Y=this.itemCount_;this.getInput("ADD"+Y);Y++)this.removeInput("ADD"+Y)}},Ce=function(){this.mixin(V),this.itemCount_=2,this.updateShape_(),this.setMutator(new i.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"],this))};i.register$$module$build$src$core$extensions("text_append_tooltip",i.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var Oe=function(){this.setTooltip(()=>i.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))},ce={isAt_:!1,mutationToDom:function(){const Y=i.createElement$$module$build$src$core$utils$xml("mutation");return Y.setAttribute("at",`${this.isAt_}`),Y},domToMutation:function(Y){Y=Y.getAttribute("at")!=="false",this.updateAt_(Y)},updateAt_:function(Y){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),Y&&(this.appendValueInput("AT").setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)),i.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL)),this.isAt_=Y}},Be=function(){this.getField("WHERE").setValidator(function(Y){Y=Y==="FROM_START"||Y==="FROM_END";const Ee=this.getSourceBlock();Y!==Ee.isAt_&&Ee.updateAt_(Y)}),this.updateAt_(!0),this.setTooltip(()=>{var Y=this.getFieldValue("WHERE");let Ee=i.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;return(Y==="FROM_START"||Y==="FROM_END")&&(Y=Y==="FROM_START"?i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(Ee+="  "+Y.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),Ee})};i.register$$module$build$src$core$extensions("text_indexOf_tooltip",Oe),i.register$$module$build$src$core$extensions("text_quotes",le),i.registerMixin$$module$build$src$core$extensions("quote_image_mixin",V),i.registerMutator$$module$build$src$core$extensions("text_join_mutator",te,Ce),i.registerMutator$$module$build$src$core$extensions("text_charAt_mutator",ce,Be),i.defineBlocks$$module$build$src$core$common(K);var je={blocks:K},_e={},b={setStatements_:function(Y){this.hasStatements_!==Y&&(Y?(this.appendStatementInput("STACK").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=Y)},updateParams_:function(){let Y="";this.arguments_.length&&(Y=i.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),i.disable$$module$build$src$core$events$utils();try{this.setFieldValue(Y,"PARAMS")}finally{i.enable$$module$build$src$core$events$utils()}},mutationToDom:function(Y){const Ee=i.createElement$$module$build$src$core$utils$xml("mutation");Y&&Ee.setAttribute("name",this.getFieldValue("NAME"));for(let Je=0;Je<this.argumentVarModels_.length;Je++){const Fe=i.createElement$$module$build$src$core$utils$xml("arg"),Lt=this.argumentVarModels_[Je];Fe.setAttribute("name",Lt.getName()),Fe.setAttribute("varid",Lt.getId()),Y&&this.paramIds_&&Fe.setAttribute("paramId",this.paramIds_[Je]),Ee.appendChild(Fe)}return this.hasStatements_||Ee.setAttribute("statements","false"),Ee},domToMutation:function(Y){this.arguments_=[],this.argumentVarModels_=[];for(let Je=0,Fe;Fe=Y.childNodes[Je];Je++)if(Fe.nodeName.toLowerCase()==="arg"){var Ee=Fe;const Lt=Ee.getAttribute("name");Ee=Ee.getAttribute("varid")||Ee.getAttribute("varId"),this.arguments_.push(Lt),Ee=i.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,Ee,Lt,""),Ee!==null?this.argumentVarModels_.push(Ee):console.log(`Failed to create a variable named "${Lt}", ignoring.`)}this.updateParams_(),i.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(Y.getAttribute("statements")!=="false")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const Y=Object.create(null);if(this.argumentVarModels_.length){Y.params=[];for(let Ee=0;Ee<this.argumentVarModels_.length;Ee++)Y.params.push({name:this.argumentVarModels_[Ee].getName(),id:this.argumentVarModels_[Ee].getId()})}return this.hasStatements_||(Y.hasStatements=!1),Y},loadExtraState:function(Y){if(this.arguments_=[],this.argumentVarModels_=[],Y.params)for(let Je=0;Je<Y.params.length;Je++){var Ee=Y.params[Je];Ee=i.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,Ee.id,Ee.name,""),this.arguments_.push(Ee.getName()),this.argumentVarModels_.push(Ee)}this.updateParams_(),i.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(Y.hasStatements!==!1)},decompose:function(Y){const Ee=i.createElement$$module$build$src$core$utils$xml("block");Ee.setAttribute("type","procedures_mutatorcontainer");var Je=i.createElement$$module$build$src$core$utils$xml("statement");Je.setAttribute("name","STACK"),Ee.appendChild(Je);for(let Lt=0;Lt<this.arguments_.length;Lt++){const Bt=i.createElement$$module$build$src$core$utils$xml("block");Bt.setAttribute("type","procedures_mutatorarg");var Fe=i.createElement$$module$build$src$core$utils$xml("field");Fe.setAttribute("name","NAME");const zt=i.createTextNode$$module$build$src$core$utils$xml(this.arguments_[Lt]);Fe.appendChild(zt),Bt.appendChild(Fe),Fe=i.createElement$$module$build$src$core$utils$xml("next"),Bt.appendChild(Fe),Je.appendChild(Bt),Je=Fe}return Y=i.domToBlock$$module$build$src$core$xml(Ee,Y),this.type==="procedures_defreturn"?Y.setFieldValue(this.hasStatements_,"STATEMENTS"):Y.removeInput("STATEMENT_INPUT"),i.mutateCallers$$module$build$src$core$procedures(this),Y},compose:function(Y){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let Ee=Y.getInputTargetBlock("STACK");for(;Ee&&!Ee.isInsertionMarker();){var Je=Ee.getFieldValue("NAME");this.arguments_.push(Je),Je=this.workspace.getVariable(Je,""),this.argumentVarModels_.push(Je),this.paramIds_.push(Ee.id),Ee=Ee.nextConnection&&Ee.nextConnection.targetBlock()}if(this.updateParams_(),i.mutateCallers$$module$build$src$core$procedures(this),Y=Y.getFieldValue("STATEMENTS"),Y!==null&&(Y=Y==="TRUE",this.hasStatements_!==Y))if(Y){this.setStatements_(!0);var Fe;(Fe=this.statementConnection_)==null||Fe.reconnect(this,"STACK"),this.statementConnection_=null}else Fe=this.getInput("STACK").connection,(this.statementConnection_=Fe.targetConnection)&&(Fe=Fe.targetBlock(),Fe.unplug(),Fe.bumpNeighbours()),this.setStatements_(!1)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(Y,Ee){var Je=this.workspace.getVariableById(Y);if(Je.getType()===""){Je=Je.getName(),Ee=this.workspace.getVariableById(Ee);var Fe=!1;for(let Lt=0;Lt<this.argumentVarModels_.length;Lt++)this.argumentVarModels_[Lt].getId()===Y&&(this.arguments_[Lt]=Ee.getName(),this.argumentVarModels_[Lt]=Ee,Fe=!0);Fe&&(this.displayRenamedVar_(Je,Ee.getName()),i.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(Y){const Ee=Y.getName();let Je=!1,Fe;for(let Lt=0;Lt<this.argumentVarModels_.length;Lt++)this.argumentVarModels_[Lt].getId()===Y.getId()&&(Fe=this.arguments_[Lt],this.arguments_[Lt]=Ee,Je=!0);Je&&(this.displayRenamedVar_(Fe,Ee),i.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(Y,Ee){this.updateParams_();var Je=this.getIcon(i.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(Je&&Je.bubbleIsVisible()){Je=Je.getWorkspace().getAllBlocks(!1);for(let Fe=0,Lt;Lt=Je[Fe];Fe++)Lt.type==="procedures_mutatorarg"&&i.Names$$module$build$src$core$names.equals(Y,Lt.getFieldValue("NAME"))&&Lt.setFieldValue(Ee,"NAME")}},customContextMenu:function(Y){if(!this.isInFlyout){var Ee=this.getFieldValue("NAME"),Je={type:this.callType_,extraState:{name:Ee,params:this.arguments_}};if(Y.push({enabled:!0,text:i.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1",Ee),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,Je)}),!this.isCollapsed())for(Ee=0;Ee<this.argumentVarModels_.length;Ee++){Je=this.argumentVarModels_[Ee];const Fe={type:"variables_get",fields:{VAR:{name:Je.getName(),id:Je.getId(),type:Je.getType()}}};Y.push({enabled:!0,text:i.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",Je.getName()),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,Fe)})}}}};_e.procedures_defnoreturn=Object.assign({},b,{init:function(){var Y=i.findLegalName$$module$build$src$core$procedures("",this);Y=i.fromJson$$module$build$src$core$field_registry({type:"field_input",text:Y}),Y.setValidator(i.rename$$module$build$src$core$procedures),Y.setSpellcheck(!1),this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(Y,"NAME").appendField("","PARAMS"),this.setMutator(new i.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),_e.procedures_defreturn=Object.assign({},b,{init:function(){var Y=i.findLegalName$$module$build$src$core$procedures("",this);Y=i.fromJson$$module$build$src$core$field_registry({type:"field_input",text:Y}),Y.setValidator(i.rename$$module$build$src$core$procedures),Y.setSpellcheck(!1),this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(Y,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(i.Align$$module$build$src$core$inputs$align.RIGHT).appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new i.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"});var O={init:function(){this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField(i.fromJson$$module$build$src$core$field_registry({type:"field_checkbox",checked:!0}),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}};_e.procedures_mutatorcontainer=O;var N=class extends i.FieldTextInput$$module$build$src$core$field_textinput{constructor(){super(...arguments),this.editingInteractively=!1}showEditor_(Y){super.showEditor_(Y),this.editingInteractively=!0,this.editingVariable=void 0}onFinishEditing_(Y){super.onFinishEditing_(Y),this.editingInteractively=!1}},R={init:function(){const Y=new N(i.DEFAULT_ARG$$module$build$src$core$procedures,this.validator_);this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(Y,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1},validator_:function(Y){var Ee=this.getSourceBlock();const Je=Ee.workspace.getRootWorkspace();if(Y=Y.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!Y)return null;const Fe=(Ee.workspace.targetWorkspace||Ee.workspace).getAllBlocks(!1),Lt=Y.toLowerCase();for(let Bt=0;Bt<Fe.length;Bt++){if(Fe[Bt].id===this.getSourceBlock().id)continue;const zt=Fe[Bt].getFieldValue("NAME");if(zt&&zt.toLowerCase()===Lt)return null}return Ee.isInFlyout||((Ee=Je.getVariable(Y,""))&&Ee.getName()!==Y&&Je.renameVariableById(Ee.getId(),Y),Ee||(this.editingInteractively?this.editingVariable?Je.renameVariableById(this.editingVariable.getId(),Y):this.editingVariable=Je.createVariable(Y,""):Je.createVariable(Y,""))),Y}};_e.procedures_mutatorarg=R;var B="DISABLED_PROCEDURE_DEFINITION",j={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(Y,Ee){i.Names$$module$build$src$core$names.equals(Y,this.getProcedureCall())&&(this.setFieldValue(Ee,"NAME"),this.setTooltip((this.outputConnection?i.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:i.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",Ee)))},setProcedureParameters_:function(Y,Ee){var Je=i.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);if((Je=(Je=Je&&Je.getIcon(i.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&Je.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),Y.join(`
`)===this.arguments_.join(`
`))this.quarkIds_=Ee;else{if(Ee.length!==Y.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);for(let Lt=0;Lt<this.arguments_.length;Lt++){var Fe=this.getInput("ARG"+Lt);Fe&&(Fe=Fe.connection.targetConnection,this.quarkConnections_[this.quarkIds_[Lt]]=Fe,Je&&Fe&&!Ee.includes(this.quarkIds_[Lt])&&(Fe.disconnect(),Fe.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(Y),this.argumentVarModels_=[],Y=0;Y<this.arguments_.length;Y++)Je=i.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[Y],""),this.argumentVarModels_.push(Je);if(this.updateShape_(),this.quarkIds_=Ee){for(Ee=0;Ee<this.arguments_.length;Ee++)if(Y=this.quarkIds_[Ee],Y in this.quarkConnections_){let Lt;(Lt=this.quarkConnections_[Y])!=null&&Lt.reconnect(this,"ARG"+Ee)||delete this.quarkConnections_[Y]}}}},updateShape_:function(){for(var Y=0;Y<this.arguments_.length;Y++){var Ee=this.getField("ARGNAME"+Y);if(Ee){i.disable$$module$build$src$core$events$utils();try{Ee.setValue(this.arguments_[Y])}finally{i.enable$$module$build$src$core$events$utils()}}else Ee=i.fromJson$$module$build$src$core$field_registry({type:"field_label",text:this.arguments_[Y]}),this.appendValueInput("ARG"+Y).setAlign(i.Align$$module$build$src$core$inputs$align.RIGHT).appendField(Ee,"ARGNAME"+Y)}for(Y=this.arguments_.length;this.getInput("ARG"+Y);Y++)this.removeInput("ARG"+Y);(Y=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||Y.appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"):this.getField("WITH")&&Y.removeField("WITH"))},mutationToDom:function(){const Y=i.createElement$$module$build$src$core$utils$xml("mutation");Y.setAttribute("name",this.getProcedureCall());for(let Ee=0;Ee<this.arguments_.length;Ee++){const Je=i.createElement$$module$build$src$core$utils$xml("arg");Je.setAttribute("name",this.arguments_[Ee]),Y.appendChild(Je)}return Y},domToMutation:function(Y){var Ee=Y.getAttribute("name");this.renameProcedure(this.getProcedureCall(),Ee),Ee=[];const Je=[];for(let Fe=0,Lt;Lt=Y.childNodes[Fe];Fe++)Lt.nodeName.toLowerCase()==="arg"&&(Ee.push(Lt.getAttribute("name")),Je.push(Lt.getAttribute("paramId")));this.setProcedureParameters_(Ee,Je)},saveExtraState:function(){const Y=Object.create(null);return Y.name=this.getProcedureCall(),this.arguments_.length&&(Y.params=this.arguments_),Y},loadExtraState:function(Y){if(this.renameProcedure(this.getProcedureCall(),Y.name),Y=Y.params){const Ee=[];Ee.length=Y.length,Ee.fill(null),this.setProcedureParameters_(Y,Ee)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(Y){if(this.workspace&&!this.workspace.isFlyout&&Y.recordUndo)if(Y.type===i.BLOCK_CREATE$$module$build$src$core$events$events&&Y.ids.includes(this.id)){var Ee=this.getProcedureCall(),Je=i.getDefinition$$module$build$src$core$procedures(Ee,this.workspace);if(!Je||Je.type===this.defType_&&JSON.stringify(Je.getVars())===JSON.stringify(this.arguments_)||(Je=null),Je)Je.isEnabled()||(this.setDisabledReason(!0,B),this.setWarningText(i.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",Ee)));else{i.setGroup$$module$build$src$core$events$utils(Y.group),Y=i.createElement$$module$build$src$core$utils$xml("xml"),Ee=i.createElement$$module$build$src$core$utils$xml("block"),Ee.setAttribute("type",this.defType_),Je=this.getRelativeToSurfaceXY();var Fe=Je.y+i.config$$module$build$src$core$config.snapRadius*2;Ee.setAttribute("x",`${Je.x+i.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`),Ee.setAttribute("y",`${Fe}`),Je=this.mutationToDom(),Ee.appendChild(Je),Je=i.createElement$$module$build$src$core$utils$xml("field"),Je.setAttribute("name","NAME"),Fe=this.getProcedureCall();const Lt=i.findLegalName$$module$build$src$core$procedures(Fe,this);Fe!==Lt&&this.renameProcedure(Fe,Lt),Je.appendChild(i.createTextNode$$module$build$src$core$utils$xml(Fe)),Ee.appendChild(Je),Y.appendChild(Ee),i.domToWorkspace$$module$build$src$core$xml(Y,this.workspace),i.setGroup$$module$build$src$core$events$utils(!1)}}else Y.type===i.BLOCK_DELETE$$module$build$src$core$events$events?(Ee=this.getProcedureCall(),i.getDefinition$$module$build$src$core$procedures(Ee,this.workspace)||(i.setGroup$$module$build$src$core$events$utils(Y.group),this.dispose(!0),i.setGroup$$module$build$src$core$events$utils(!1))):Y.type===i.BLOCK_CHANGE$$module$build$src$core$events$events&&Y.element==="disabled"&&(Ee=this.getProcedureCall(),(Fe=i.getDefinition$$module$build$src$core$procedures(Ee,this.workspace))&&Fe.id===Y.blockId&&((Je=i.getGroup$$module$build$src$core$events$utils())&&console.log("Saw an existing group while responding to a definition change"),i.setGroup$$module$build$src$core$events$utils(Y.group),Y=Fe.isEnabled(),this.setDisabledReason(!Y,B),this.setWarningText(Y?null:i.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",Ee)),i.setGroup$$module$build$src$core$events$utils(Je)))},customContextMenu:function(Y){if(this.workspace.isMovable()){var Ee=this.getProcedureCall(),Je=this.workspace;Y.push({enabled:!0,text:i.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const Fe=i.getDefinition$$module$build$src$core$procedures(Ee,Je);Fe&&(Je.centerOnBlock(Fe.id),i.getFocusManager$$module$build$src$core$focus_manager().focusNode(Fe))}})}}};_e.procedures_callnoreturn=Object.assign({},j,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defnoreturn"}),_e.procedures_callreturn=Object.assign({},j,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defreturn"});var J="UNPARENTED_IFRETURN",fe={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(i.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){const Y=i.createElement$$module$build$src$core$utils$xml("mutation");return Y.setAttribute("value",String(Number(this.hasReturnValue_))),Y},domToMutation:function(Y){this.hasReturnValue_=Y.getAttribute("value")==="1",this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(Y){if(!(this.workspace.isDragging&&this.workspace.isDragging()||Y.type!==i.BLOCK_MOVE$$module$build$src$core$events$events&&Y.type!==i.BLOCK_CREATE$$module$build$src$core$events$events)){Y=!1;var Ee=this;do{if(this.FUNCTION_TYPES.includes(Ee.type)){Y=!0;break}Ee=Ee.getSurroundParent()}while(Ee);if(Y?(Ee.type==="procedures_defnoreturn"&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):Ee.type!=="procedures_defreturn"||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(i.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING),!this.isInFlyout)try{i.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!Y,J)}finally{i.setRecordUndo$$module$build$src$core$events$utils(!0)}}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};_e.procedures_ifreturn=fe,i.defineBlocks$$module$build$src$core$common(_e);var Ne={blocks:_e},qe=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["","PI"],["e","E"],["","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt()","SQRT1_2"],["","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),de={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};i.register$$module$build$src$core$extensions("math_op_tooltip",i.buildTooltipForDropdown$$module$build$src$core$extensions("OP",de));var xe={mutationToDom:function(){const Y=i.createElement$$module$build$src$core$utils$xml("mutation"),Ee=this.getFieldValue("PROPERTY")==="DIVISIBLE_BY";return Y.setAttribute("divisor_input",String(Ee)),Y},domToMutation:function(Y){Y=Y.getAttribute("divisor_input")==="true",this.updateShape_(Y)},updateShape_:function(Y){const Ee=this.getInput("DIVISOR");Y?Ee||this.appendValueInput("DIVISOR").setCheck("Number"):Ee&&this.removeInput("DIVISOR")}},gt=function(){this.getField("PROPERTY").setValidator(function(Y){Y=Y==="DIVISIBLE_BY",this.getSourceBlock().updateShape_(Y)})};i.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator",xe,gt),i.register$$module$build$src$core$extensions("math_change_tooltip",i.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var ze={updateType_:function(Y){Y==="MODE"?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){const Y=i.createElement$$module$build$src$core$utils$xml("mutation");return Y.setAttribute("op",this.getFieldValue("OP")),Y},domToMutation:function(Y){if(Y=Y.getAttribute("op"),Y===null)throw new TypeError("xmlElement had no op attribute");this.updateType_(Y)}},Ft=function(){this.getField("OP").setValidator((function(Y){this.updateType_(Y)}).bind(this))};i.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator",ze,Ft),i.defineBlocks$$module$build$src$core$common(qe);var Ge={blocks:qe},et=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),Ct={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};i.register$$module$build$src$core$extensions("controls_whileUntil_tooltip",i.buildTooltipForDropdown$$module$build$src$core$extensions("MODE",Ct));var nt={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};i.register$$module$build$src$core$extensions("controls_flow_tooltip",i.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW",nt));var yt={customContextMenu:function(Y){if(!this.isInFlyout){var Ee=this.getField("VAR"),Je=Ee.getVariable().getName();this.isCollapsed()||Je===null||(Ee={type:"variables_get",fields:{VAR:Ee.saveState(!0)}},Y.push({enabled:!0,text:i.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",Je),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,Ee)}))}}};i.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock",yt),i.register$$module$build$src$core$extensions("controls_for_tooltip",i.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),i.register$$module$build$src$core$extensions("controls_forEach_tooltip",i.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));var Ut=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]),Ht="CONTROL_FLOW_NOT_IN_LOOP",Me={getSurroundLoop:function(){let Y=this;do{if(Ut.has(Y.type))return Y;Y=Y.getSurroundParent()}while(Y);return null},onchange:function(Y){const Ee=this.workspace;if(Ee.isDragging&&!Ee.isDragging()&&(Y.type===i.BLOCK_MOVE$$module$build$src$core$events$events||Y.type===i.BLOCK_CREATE$$module$build$src$core$events$events)&&(Y=!!this.getSurroundLoop(),this.setWarningText(Y?null:i.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout))try{i.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!Y,Ht)}finally{i.setRecordUndo$$module$build$src$core$events$utils(!0)}}};i.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check",Me),i.defineBlocks$$module$build$src$core$common(et);var ut={blocks:et,loopTypes:Ut},en=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["","NEQ"],["<","LT"],["","LTE"],[">","GT"],["","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),nn={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};i.register$$module$build$src$core$extensions("logic_op_tooltip",i.buildTooltipForDropdown$$module$build$src$core$extensions("OP",nn));var De={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const Y=i.createElement$$module$build$src$core$utils$xml("mutation");return this.elseifCount_&&Y.setAttribute("elseif",String(this.elseifCount_)),this.elseCount_&&Y.setAttribute("else","1"),Y},domToMutation:function(Y){this.elseifCount_=parseInt(Y.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(Y.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const Y=Object.create(null);return this.elseifCount_&&(Y.elseIfCount=this.elseifCount_),this.elseCount_&&(Y.hasElse=!0),Y},loadExtraState:function(Y){this.elseifCount_=Y.elseIfCount||0,this.elseCount_=Y.hasElse?1:0,this.updateShape_()},decompose:function(Y){const Ee=Y.newBlock("controls_if_if");Ee.initSvg();let Je=Ee.nextConnection;for(let Fe=1;Fe<=this.elseifCount_;Fe++){const Lt=Y.newBlock("controls_if_elseif");Lt.initSvg(),Je.connect(Lt.previousConnection),Je=Lt.nextConnection}return this.elseCount_&&(Y=Y.newBlock("controls_if_else"),Y.initSvg(),Je.connect(Y.previousConnection)),Ee},compose:function(Y){Y=Y.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;const Ee=[null],Je=[null];let Fe=null;for(;Y;){if(!Y.isInsertionMarker())switch(Y.type){case"controls_if_elseif":this.elseifCount_++,Ee.push(Y.valueConnection_),Je.push(Y.statementConnection_);break;case"controls_if_else":this.elseCount_++,Fe=Y.statementConnection_;break;default:throw TypeError("Unknown block type: "+Y.type)}Y=Y.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(Ee,Je,Fe)},saveConnections:function(Y){Y=Y.nextConnection.targetBlock();let Ee=1;for(;Y;){if(!Y.isInsertionMarker())switch(Y.type){case"controls_if_elseif":var Je=this.getInput("IF"+Ee);const Fe=this.getInput("DO"+Ee);Y.valueConnection_=Je&&Je.connection.targetConnection,Y.statementConnection_=Fe&&Fe.connection.targetConnection,Ee++;break;case"controls_if_else":Je=this.getInput("ELSE"),Y.statementConnection_=Je&&Je.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+Y.type)}Y=Y.getNextBlock()}},rebuildShape_:function(){const Y=[null],Ee=[null];let Je=null;this.getInput("ELSE")&&(Je=this.getInput("ELSE").connection.targetConnection);for(let Fe=1;this.getInput("IF"+Fe);Fe++){const Lt=this.getInput("IF"+Fe),Bt=this.getInput("DO"+Fe);Y.push(Lt.connection.targetConnection),Ee.push(Bt.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(Y,Ee,Je)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var Y=1;this.getInput("IF"+Y);Y++)this.removeInput("IF"+Y),this.removeInput("DO"+Y);for(Y=1;Y<=this.elseifCount_;Y++)this.appendValueInput("IF"+Y).setCheck("Boolean").appendField(i.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+Y).appendField(i.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(i.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(Y,Ee,Je){for(let Fe=1;Fe<=this.elseifCount_;Fe++){let Lt;(Lt=Y[Fe])==null||Lt.reconnect(this,"IF"+Fe);let Bt;(Bt=Ee[Fe])==null||Bt.reconnect(this,"DO"+Fe)}Je?.reconnect(this,"ELSE")}};i.registerMutator$$module$build$src$core$extensions("controls_if_mutator",De,null,["controls_if_elseif","controls_if_else"]);var se=function(){this.setTooltip((function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return i.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return i.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return i.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return i.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;return""}).bind(this))};i.register$$module$build$src$core$extensions("controls_if_tooltip",se);var Ae={onchange:function(Y){this.prevBlocks_||(this.prevBlocks_=[null,null]);var Ee=this.getInputTargetBlock("A");const Je=this.getInputTargetBlock("B");Ee&&Je&&!this.workspace.connectionChecker.doTypeChecks(Ee.outputConnection,Je.outputConnection)&&(i.setGroup$$module$build$src$core$events$utils(Y.group),Y=this.prevBlocks_[0],Y!==Ee&&(Ee.unplug(),!Y||Y.isDisposed()||Y.isShadow()||this.getInput("A").connection.connect(Y.outputConnection)),Ee=this.prevBlocks_[1],Ee!==Je&&(Je.unplug(),!Ee||Ee.isDisposed()||Ee.isShadow()||this.getInput("B").connection.connect(Ee.outputConnection)),this.bumpNeighbours(),i.setGroup$$module$build$src$core$events$utils(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},lt=function(){this.mixin(Ae)};i.register$$module$build$src$core$extensions("logic_compare",lt);var Qe={prevParentConnection_:null,onchange:function(Y){const Ee=this.getInputTargetBlock("THEN"),Je=this.getInputTargetBlock("ELSE"),Fe=this.outputConnection.targetConnection;if((Ee||Je)&&Fe)for(let Lt=0;Lt<2;Lt++){const Bt=Lt===1?Ee:Je;Bt&&!Bt.workspace.connectionChecker.doTypeChecks(Bt.outputConnection,Fe)&&(i.setGroup$$module$build$src$core$events$utils(Y.group),Fe===this.prevParentConnection_?(this.unplug(),Fe.getSourceBlock().bumpNeighbours()):(Bt.unplug(),Bt.bumpNeighbours()),i.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=Fe}};i.registerMixin$$module$build$src$core$extensions("logic_ternary",Qe),i.defineBlocks$$module$build$src$core$common(en);var Tt={blocks:en},Et=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),Vt={init:function(){this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new i.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"],this)),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const Y=i.createElement$$module$build$src$core$utils$xml("mutation");return Y.setAttribute("items",String(this.itemCount_)),Y},domToMutation:function(Y){if(Y=Y.getAttribute("items"),!Y)throw new TypeError("element did not have items");this.itemCount_=parseInt(Y,10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(Y){this.itemCount_=Y.itemCount,this.updateShape_()},decompose:function(Y){const Ee=Y.newBlock("lists_create_with_container");Ee.initSvg();let Je=Ee.getInput("STACK").connection;for(let Fe=0;Fe<this.itemCount_;Fe++){const Lt=Y.newBlock("lists_create_with_item");if(Lt.initSvg(),!Lt.previousConnection)throw Error("itemBlock has no previousConnection");Je.connect(Lt.previousConnection),Je=Lt.nextConnection}return Ee},compose:function(Y){var Ee=Y.getInputTargetBlock("STACK");for(Y=[];Ee;)Ee.isInsertionMarker()||Y.push(Ee.valueConnection_),Ee=Ee.getNextBlock();for(Ee=0;Ee<this.itemCount_;Ee++){const Je=this.getInput("ADD"+Ee).connection.targetConnection;Je&&!Y.includes(Je)&&Je.disconnect()}for(this.itemCount_=Y.length,this.updateShape_(),Ee=0;Ee<this.itemCount_;Ee++){let Je;(Je=Y[Ee])==null||Je.reconnect(this,"ADD"+Ee)}},saveConnections:function(Y){Y=Y.getInputTargetBlock("STACK");let Ee=0;for(;Y;){if(Y.isInsertionMarker()){Y=Y.getNextBlock();continue}const Je=this.getInput("ADD"+Ee);let Fe;Y.valueConnection_=(Fe=Je)==null?void 0:Fe.connection.targetConnection,Y=Y.getNextBlock(),Ee++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(i.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var Y=0;Y<this.itemCount_;Y++)if(!this.getInput("ADD"+Y)){const Ee=this.appendValueInput("ADD"+Y).setAlign(i.Align$$module$build$src$core$inputs$align.RIGHT);Y===0&&Ee.appendField(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(Y=this.itemCount_;this.getInput("ADD"+Y);Y++)this.removeInput("ADD"+Y)}};Et.lists_create_with=Vt;var rt={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}};Et.lists_create_with_container=rt;var P={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}};Et.lists_create_with_item=P;var Re={init:function(){var Y=[[i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,"FIRST"],[i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,"LAST"]];if(this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST),Y=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:Y}),!Y)throw Error("field_dropdown not found");this.appendValueInput("FIND").appendField(Y,"END"),this.setInputsInline(!0),this.setTooltip(()=>i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))}};Et.lists_indexOf=Re;var ke={init:function(){var Y=[[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,"GET"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),Y=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:Y}),Y.setValidator(function(Ee){Ee=Ee==="REMOVE",this.getSourceBlock().updateStatement_(Ee)}),this.appendValueInput("VALUE").setCheck("Array").appendField(i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(Y,"MODE").appendField("","SPACE"),Y=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS}),Y.setValidator(function(Ee){const Je=this.getValue();Ee=Ee==="FROM_START"||Ee==="FROM_END",Ee!==(Je==="FROM_START"||Je==="FROM_END")&&this.getSourceBlock().updateAt_(Ee)}),this.appendDummyInput().appendField(Y,"WHERE"),this.appendDummyInput("AT"),i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0),this.setTooltip(()=>{const Ee=this.getFieldValue("MODE"),Je=this.getFieldValue("WHERE");let Fe="";switch(Ee+" "+Je){case"GET FROM_START":case"GET FROM_END":Fe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":Fe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":Fe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":Fe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":Fe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":Fe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":Fe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":Fe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":Fe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":Fe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":Fe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":Fe=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return(Je==="FROM_START"||Je==="FROM_END")&&(Fe+="  "+(Je==="FROM_START"?i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),Fe})},mutationToDom:function(){const Y=i.createElement$$module$build$src$core$utils$xml("mutation");Y.setAttribute("statement",String(!this.outputConnection));const Ee=this.getInput("AT")instanceof i.ValueInput$$module$build$src$core$inputs$value_input;return Y.setAttribute("at",String(Ee)),Y},domToMutation:function(Y){const Ee=Y.getAttribute("statement")==="true";this.updateStatement_(Ee),Y=Y.getAttribute("at")!=="false",this.updateAt_(Y)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(Y){Y.isStatement?this.updateStatement_(!0):typeof Y=="string"&&this.domToMutation(i.textToDom$$module$build$src$core$utils$xml(Y))},updateStatement_:function(Y){Y!==!this.outputConnection&&(this.unplug(!0,!0),Y?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(Y){this.removeInput("AT"),this.removeInput("ORDINAL",!0),Y?(this.appendValueInput("AT").setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};Et.lists_getIndex=ke;var ht={init:function(){var Y=[[i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,"SET"],[i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST),Y=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:Y}),this.appendDummyInput().appendField(Y,"MODE").appendField("","SPACE"),Y=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS}),Y.setValidator(function(Ee){const Je=this.getValue();Ee=Ee==="FROM_START"||Ee==="FROM_END",Ee!==(Je==="FROM_START"||Je==="FROM_END")&&this.getSourceBlock().updateAt_(Ee)}),this.appendDummyInput().appendField(Y,"WHERE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0),this.setTooltip(()=>{const Ee=this.getFieldValue("MODE"),Je=this.getFieldValue("WHERE");let Fe="";switch(Ee+" "+Je){case"SET FROM_START":case"SET FROM_END":Fe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":Fe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":Fe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":Fe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":Fe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":Fe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":Fe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":Fe=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return(Je==="FROM_START"||Je==="FROM_END")&&(Fe+="  "+i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),Fe})},mutationToDom:function(){const Y=i.createElement$$module$build$src$core$utils$xml("mutation"),Ee=this.getInput("AT")instanceof i.ValueInput$$module$build$src$core$inputs$value_input;return Y.setAttribute("at",String(Ee)),Y},domToMutation:function(Y){Y=Y.getAttribute("at")!=="false",this.updateAt_(Y)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(Y){this.removeInput("AT"),this.removeInput("ORDINAL",!0),Y?(this.appendValueInput("AT").setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO")}};Et.lists_setIndex=ht;var Mt={init:function(){this.WHERE_OPTIONS_1=[[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);const Y=Ee=>{const Je=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+Ee]});return Je.setValidator(function(Fe){const Lt=this.getValue();Fe=Fe==="FROM_START"||Fe==="FROM_END",Fe!==(Lt==="FROM_START"||Lt==="FROM_END")&&this.getSourceBlock().updateAt_(Ee,Fe)}),Je};this.appendDummyInput("WHERE1_INPUT").appendField(Y(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(Y(2),"WHERE2"),this.appendDummyInput("AT2"),i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const Y=i.createElement$$module$build$src$core$utils$xml("mutation");var Ee=this.getInput("AT1")instanceof i.ValueInput$$module$build$src$core$inputs$value_input;return Y.setAttribute("at1",String(Ee)),Ee=this.getInput("AT2")instanceof i.ValueInput$$module$build$src$core$inputs$value_input,Y.setAttribute("at2",String(Ee)),Y},domToMutation:function(Y){const Ee=Y.getAttribute("at1")==="true";Y=Y.getAttribute("at2")==="true",this.updateAt_(1,Ee),this.updateAt_(2,Y)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(Y,Ee){this.removeInput("AT"+Y),this.removeInput("ORDINAL"+Y,!0),Ee?(this.appendValueInput("AT"+Y).setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+Y).appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+Y),Y===1&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT")),i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};Et.lists_getSublist=Mt,Et.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},Et.lists_split={init:function(){const Y=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:[[i.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[i.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]]});if(!Y)throw Error("field_dropdown not found");Y.setValidator(Ee=>{this.updateType_(Ee)}),this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(Y,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(i.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(()=>{const Ee=this.getFieldValue("MODE");if(Ee==="SPLIT")return i.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(Ee==="JOIN")return i.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+Ee)})},updateType_:function(Y){if(this.getFieldValue("MODE")!==Y){const Ee=this.getInput("INPUT").connection;Ee.setShadowDom(null);const Je=Ee.targetBlock();Je&&(Ee.disconnect(),Je.isShadow()?Je.dispose(!1):this.bumpNeighbours())}Y==="SPLIT"?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){const Y=i.createElement$$module$build$src$core$utils$xml("mutation");return Y.setAttribute("mode",this.getFieldValue("MODE")),Y},domToMutation:function(Y){this.updateType_(Y.getAttribute("mode"))},saveExtraState:function(){return{mode:this.getFieldValue("MODE")}},loadExtraState:function(Y){this.updateType_(Y.mode)}},i.defineBlocks$$module$build$src$core$common(Et);var Ot={blocks:Et},wt=Object.assign({},Et,en,et,qe,_e,K,$,u),ft={blocks:wt,lists:Ot,logic:Tt,loops:ut,math:Ge,procedures:Ne,texts:je,variables:A,variablesDynamic:y};return ft.__namespace__=i,ft})})(n9)),n9.exports}var TA=e9.exports,Ob;function EA(){return Ob||(Ob=1,(function(t,s){(function(r,i){t.exports=i(x7(),yA(),wA())})(TA,function(r,i,u){return r.setLocale(i),r})})(e9)),e9.exports}var SA=EA();const xA=Pl(SA),{Block:XJ,BlockFlyoutInflater:YJ,BlockNavigationPolicy:KJ,BlockSvg:JJ,Blocks:Ld,ButtonFlyoutInflater:ZJ,COLLAPSED_FIELD_NAME:QJ,COLLAPSED_INPUT_NAME:eZ,COLLAPSE_CHARS:tZ,CodeGenerator:nZ,CollapsibleToolboxCategory:rZ,ComponentManager:iZ,Connection:sZ,ConnectionChecker:oZ,ConnectionDB:lZ,ConnectionNavigationPolicy:aZ,ConnectionType:uZ,ContextMenu:cZ,ContextMenuItems:hZ,ContextMenuRegistry:fZ,Css:dZ,DELETE_VARIABLE_ID:pZ,DeleteArea:mZ,DragTarget:gZ,DropDownDiv:vZ,Events:Rb,Extensions:$Z,Field:bZ,FieldCheckbox:yZ,FieldDropdown:_Z,FieldImage:wZ,FieldLabel:TZ,FieldLabelSerializable:EZ,FieldNavigationPolicy:SZ,FieldNumber:xZ,FieldTextInput:CZ,FieldVariable:MZ,Flyout:kZ,FlyoutButton:AZ,FlyoutButtonNavigationPolicy:NZ,FlyoutItem:IZ,FlyoutMetricsManager:OZ,FlyoutNavigationPolicy:RZ,FlyoutNavigator:LZ,FlyoutSeparator:DZ,FlyoutSeparatorNavigationPolicy:BZ,FocusManager:PZ,FocusableTreeTraverser:FZ,Generator:UZ,Gesture:zZ,Grid:HZ,HorizontalFlyout:VZ,INPUT_VALUE:GZ,Input:qZ,InsertionMarkerPreviewer:WZ,KeyboardNavigationController:jZ,LabelFlyoutInflater:XZ,LineCursor:YZ,Marker:KZ,MarkerManager:JZ,Menu:ZZ,MenuItem:QZ,MetricsManager:eQ,Msg:tQ,NEXT_STATEMENT:nQ,Names:rQ,Navigator:iQ,OPPOSITE_TYPE:sQ,OUTPUT_VALUE:oQ,Options:lQ,PREVIOUS_STATEMENT:aQ,PROCEDURE_CATEGORY_NAME:uQ,Procedures:cQ,RENAME_VARIABLE_ID:hQ,RenderedConnection:fQ,Scrollbar:dQ,ScrollbarPair:pQ,SeparatorFlyoutInflater:mQ,ShortcutItems:gQ,ShortcutRegistry:vQ,TOOLBOX_AT_BOTTOM:$Q,TOOLBOX_AT_LEFT:bQ,TOOLBOX_AT_RIGHT:yQ,TOOLBOX_AT_TOP:_Q,Theme:wQ,ThemeManager:TQ,Themes:EQ,Toast:SQ,Toolbox:xQ,ToolboxCategory:CQ,ToolboxItem:MQ,ToolboxSeparator:kQ,Tooltip:AQ,Touch:NQ,Trashcan:IQ,UnattachedFieldError:OQ,VARIABLE_CATEGORY_NAME:RQ,VARIABLE_DYNAMIC_CATEGORY_NAME:LQ,VERSION:DQ,VariableMap:BQ,VariableModel:PQ,Variables:FQ,VariablesDynamic:UQ,VerticalFlyout:zQ,WidgetDiv:HQ,Workspace:CA,WorkspaceAudio:VQ,WorkspaceDragger:GQ,WorkspaceNavigationPolicy:qQ,WorkspaceSvg:WQ,Xml:eE,ZoomControls:jQ,blockAnimations:XQ,blockRendering:YQ,browserEvents:KQ,bubbles:JQ,bumpObjects:ZQ,clipboard:QQ,comments:eee,common:tee,config:nee,constants:ree,defineBlocksWithJsonArray:H5,dialog:iee,dragging:see,fieldRegistry:oee,geras:lee,getFocusManager:aee,getMainWorkspace:uee,getSelected:cee,hasBubble:hee,hideChaff:fee,icons:dee,inject:pee,inputs:mee,isCopyable:gee,isDeletable:vee,isDraggable:$ee,isIcon:bee,isObservable:yee,isPaster:_ee,isRenderedElement:wee,isSelectable:Tee,isSerializable:Eee,isVariableBackedParameterModel:See,keyboardNavigationController:xee,layers:Cee,navigateBlock:Mee,navigateStacks:kee,procedures:Aee,registry:Nee,renderManagement:Iee,serialization:Oee,setLocale:Ree,setParentContainer:Lee,svgResize:ym,thrasos:Dee,uiPosition:Bee,utils:tE,zelos:Pee}=xA;var r9={exports:{}},MA=r9.exports,Lb;function kA(){return Lb||(Lb=1,(function(t,s){(function(r,i){t.exports=i(x7())})(MA,function(r){var i=r.__namespace__,u=function(X,we){return["[]",P.ATOMIC]},h=function(X,we){const tt=Array(X.itemCount_);for(let St=0;St<X.itemCount_;St++)tt[St]=we.valueToCode(X,"ADD"+St,P.NONE)||"null";return["["+tt.join(", ")+"]",P.ATOMIC]},f=function(X,we){const tt=we.provideFunction_("listsRepeat",`
function ${we.FUNCTION_NAME_PLACEHOLDER_}(value, n) {
  var array = [];
  for (var i = 0; i < n; i++) {
    array[i] = value;
  }
  return array;
}
`),St=we.valueToCode(X,"ITEM",P.NONE)||"null";return X=we.valueToCode(X,"NUM",P.NONE)||"0",[tt+"("+St+", "+X+")",P.FUNCTION_CALL]},g=function(X,we){return[(we.valueToCode(X,"VALUE",P.MEMBER)||"[]")+".length",P.MEMBER]},y=function(X,we){return["!"+(we.valueToCode(X,"VALUE",P.MEMBER)||"[]")+".length",P.LOGICAL_NOT]},$=function(X,we){const tt=X.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",St=we.valueToCode(X,"FIND",P.NONE)||"''";return we=(we.valueToCode(X,"VALUE",P.MEMBER)||"[]")+"."+tt+"("+St+")",X.workspace.options.oneBasedIndex?[we+" + 1",P.ADDITION]:[we,P.FUNCTION_CALL]},T=function(X,we){const tt=X.getFieldValue("MODE")||"GET",St=X.getFieldValue("WHERE")||"FROM_START";var Zt=we.valueToCode(X,"VALUE",St==="RANDOM"?P.NONE:P.MEMBER)||"[]";switch(St){case"FIRST":if(tt==="GET")return[Zt+"[0]",P.MEMBER];if(tt==="GET_REMOVE")return[Zt+".shift()",P.MEMBER];if(tt==="REMOVE")return Zt+`.shift();
`;break;case"LAST":if(tt==="GET")return[Zt+".slice(-1)[0]",P.MEMBER];if(tt==="GET_REMOVE")return[Zt+".pop()",P.MEMBER];if(tt==="REMOVE")return Zt+`.pop();
`;break;case"FROM_START":if(X=we.getAdjusted(X,"AT"),tt==="GET")return[Zt+"["+X+"]",P.MEMBER];if(tt==="GET_REMOVE")return[Zt+".splice("+X+", 1)[0]",P.FUNCTION_CALL];if(tt==="REMOVE")return Zt+".splice("+X+`, 1);
`;break;case"FROM_END":if(X=we.getAdjusted(X,"AT",1,!0),tt==="GET")return[Zt+".slice("+X+")[0]",P.FUNCTION_CALL];if(tt==="GET_REMOVE")return[Zt+".splice("+X+", 1)[0]",P.FUNCTION_CALL];if(tt==="REMOVE")return Zt+".splice("+X+", 1);";break;case"RANDOM":if(Zt=we.provideFunction_("listsGetRandomItem",`
function ${we.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {
  var x = Math.floor(Math.random() * list.length);
  if (remove) {
    return list.splice(x, 1)[0];
  } else {
    return list[x];
  }
}
`)+"("+Zt+", "+(tt!=="GET")+")",tt==="GET"||tt==="GET_REMOVE")return[Zt,P.FUNCTION_CALL];if(tt==="REMOVE")return Zt+`;
`}throw Error("Unhandled combination (lists_getIndex).")},w=function(X,we){function tt(){if(St.match(/^\w+$/))return"";const sr=we.nameDB_.getDistinctName("tmpList",i.NameType$$module$build$src$core$names.VARIABLE),wr="var "+sr+" = "+St+`;
`;return St=sr,wr}let St=we.valueToCode(X,"LIST",P.MEMBER)||"[]";const Zt=X.getFieldValue("MODE")||"GET";var $n=X.getFieldValue("WHERE")||"FROM_START";const pn=we.valueToCode(X,"TO",P.ASSIGNMENT)||"null";switch($n){case"FIRST":if(Zt==="SET")return St+"[0] = "+pn+`;
`;if(Zt==="INSERT")return St+".unshift("+pn+`);
`;break;case"LAST":if(Zt==="SET")return tt()+(St+"["+St+".length - 1] = "+pn+`;
`);if(Zt==="INSERT")return St+".push("+pn+`);
`;break;case"FROM_START":if(X=we.getAdjusted(X,"AT"),Zt==="SET")return St+"["+X+"] = "+pn+`;
`;if(Zt==="INSERT")return St+".splice("+X+", 0, "+pn+`);
`;break;case"FROM_END":if(X=we.getAdjusted(X,"AT",1,!1,P.SUBTRACTION),$n=tt(),Zt==="SET")return $n+(St+"["+St+".length - "+X+"] = "+pn+`;
`);if(Zt==="INSERT")return $n+(St+".splice("+St+".length - "+X+", 0, "+pn+`);
`);break;case"RANDOM":if(X=tt(),$n=we.nameDB_.getDistinctName("tmpX",i.NameType$$module$build$src$core$names.VARIABLE),X+="var "+$n+" = Math.floor(Math.random() * "+St+`.length);
`,Zt==="SET")return X+(St+"["+$n+"] = "+pn+`;
`);if(Zt==="INSERT")return X+(St+".splice("+$n+", 0, "+pn+`);
`)}throw Error("Unhandled combination (lists_setIndex).")},I=function(X,we){var tt={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"},St=we.valueToCode(X,"LIST",P.MEMBER)||"[]";const Zt=X.getFieldValue("WHERE1"),$n=X.getFieldValue("WHERE2");if(Zt==="FIRST"&&$n==="LAST")St+=".slice(0)";else if(St.match(/^\w+$/)||Zt!=="FROM_END"&&$n==="FROM_START"){switch(Zt){case"FROM_START":tt=we.getAdjusted(X,"AT1");break;case"FROM_END":tt=we.getAdjusted(X,"AT1",1,!1,P.SUBTRACTION),tt=St+".length - "+tt;break;case"FIRST":tt="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch($n){case"FROM_START":we=we.getAdjusted(X,"AT2",1);break;case"FROM_END":we=we.getAdjusted(X,"AT2",0,!1,P.SUBTRACTION),we=St+".length - "+we;break;case"LAST":we=St+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}St=St+".slice("+tt+", "+we+")"}else{const pn=we.getAdjusted(X,"AT1");X=we.getAdjusted(X,"AT2"),St=we.provideFunction_("subsequence"+tt[Zt]+tt[$n],`
function ${we.FUNCTION_NAME_PLACEHOLDER_}(sequence${Zt==="FROM_END"||Zt==="FROM_START"?", at1":""}${$n==="FROM_END"||$n==="FROM_START"?", at2":""}) {
  var start = ${ke("sequence",Zt,"at1")};
  var end = ${ke("sequence",$n,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+St+(Zt==="FROM_END"||Zt==="FROM_START"?", "+pn:"")+($n==="FROM_END"||$n==="FROM_START"?", "+X:"")+")"}return[St,P.FUNCTION_CALL]},A=function(X,we){const tt=we.valueToCode(X,"LIST",P.FUNCTION_CALL)||"[]",St=X.getFieldValue("DIRECTION")==="1"?1:-1;return X=X.getFieldValue("TYPE"),we=we.provideFunction_("listsGetSortCompare",`
function ${we.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {
  var compareFuncs = {
    'NUMERIC': function(a, b) {
        return Number(a) - Number(b); },
    'TEXT': function(a, b) {
        return String(a) > String(b) ? 1 : -1; },
    'IGNORE_CASE': function(a, b) {
        return String(a).toLowerCase() > String(b).toLowerCase() ? 1 : -1; },
  };
  var compare = compareFuncs[type];
  return function(a, b) { return compare(a, b) * direction; };
}
      `),[tt+".slice().sort("+we+'("'+X+'", '+St+"))",P.FUNCTION_CALL]},K=function(X,we){let tt=we.valueToCode(X,"INPUT",P.MEMBER);if(we=we.valueToCode(X,"DELIM",P.NONE)||"''",X=X.getFieldValue("MODE"),X==="SPLIT")tt||(tt="''"),X="split";else if(X==="JOIN")tt||(tt="[]"),X="join";else throw Error("Unknown mode: "+X);return[tt+"."+X+"("+we+")",P.FUNCTION_CALL]},ne=function(X,we){return[(we.valueToCode(X,"LIST",P.FUNCTION_CALL)||"[]")+".slice().reverse()",P.FUNCTION_CALL]},he=function(X,we){var tt=0;let St="";we.STATEMENT_PREFIX&&(St+=we.injectId(we.STATEMENT_PREFIX,X));do{const Zt=we.valueToCode(X,"IF"+tt,P.NONE)||"false";let $n=we.statementToCode(X,"DO"+tt);we.STATEMENT_SUFFIX&&($n=we.prefixLines(we.injectId(we.STATEMENT_SUFFIX,X),we.INDENT)+$n),St+=(tt>0?" else ":"")+"if ("+Zt+`) {
`+$n+"}",tt++}while(X.getInput("IF"+tt));return(X.getInput("ELSE")||we.STATEMENT_SUFFIX)&&(tt=X.getInput("ELSE")?we.statementToCode(X,"ELSE"):"",we.STATEMENT_SUFFIX&&(tt=we.prefixLines(we.injectId(we.STATEMENT_SUFFIX,X),we.INDENT)+tt),St+=` else {
`+tt+"}"),St+`
`},V=function(X,we){const tt={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[X.getFieldValue("OP")],St=tt==="=="||tt==="!="?P.EQUALITY:P.RELATIONAL,Zt=we.valueToCode(X,"A",St)||"0";return X=we.valueToCode(X,"B",St)||"0",[Zt+" "+tt+" "+X,St]},le=function(X,we){const tt=X.getFieldValue("OP")==="AND"?"&&":"||",St=tt==="&&"?P.LOGICAL_AND:P.LOGICAL_OR;let Zt=we.valueToCode(X,"A",St);return X=we.valueToCode(X,"B",St),Zt||X?(we=tt==="&&"?"true":"false",Zt||(Zt=we),X||(X=we)):X=Zt="false",[Zt+" "+tt+" "+X,St]},te=function(X,we){const tt=P.LOGICAL_NOT;return["!"+(we.valueToCode(X,"BOOL",tt)||"true"),tt]},Ce=function(X,we){return[X.getFieldValue("BOOL")==="TRUE"?"true":"false",P.ATOMIC]},Oe=function(X,we){return["null",P.ATOMIC]},ce=function(X,we){const tt=we.valueToCode(X,"IF",P.CONDITIONAL)||"false",St=we.valueToCode(X,"THEN",P.CONDITIONAL)||"null";return X=we.valueToCode(X,"ELSE",P.CONDITIONAL)||"null",[tt+" ? "+St+" : "+X,P.CONDITIONAL]},Be=function(X,we){let tt;tt=X.getField("TIMES")?String(Number(X.getFieldValue("TIMES"))):we.valueToCode(X,"TIMES",P.ASSIGNMENT)||"0";let St=we.statementToCode(X,"DO");St=we.addLoopTrap(St,X),X="";const Zt=we.nameDB_.getDistinctName("count",i.NameType$$module$build$src$core$names.VARIABLE);let $n=tt;return tt.match(/^\w+$/)||i.isNumber$$module$build$src$core$utils$string(tt)||($n=we.nameDB_.getDistinctName("repeat_end",i.NameType$$module$build$src$core$names.VARIABLE),X+="var "+$n+" = "+tt+`;
`),X+("for (var "+Zt+" = 0; "+Zt+" < "+$n+"; "+Zt+`++) {
`+St+`}
`)},je=function(X,we){const tt=X.getFieldValue("MODE")==="UNTIL";let St=we.valueToCode(X,"BOOL",tt?P.LOGICAL_NOT:P.NONE)||"false",Zt=we.statementToCode(X,"DO");return Zt=we.addLoopTrap(Zt,X),tt&&(St="!"+St),"while ("+St+`) {
`+Zt+`}
`},_e=function(X,we){var tt=we.getVariableName(X.getFieldValue("VAR")),St=we.valueToCode(X,"FROM",P.ASSIGNMENT)||"0",Zt=we.valueToCode(X,"TO",P.ASSIGNMENT)||"0";const $n=we.valueToCode(X,"BY",P.ASSIGNMENT)||"1";let pn=we.statementToCode(X,"DO");if(pn=we.addLoopTrap(pn,X),i.isNumber$$module$build$src$core$utils$string(St)&&i.isNumber$$module$build$src$core$utils$string(Zt)&&i.isNumber$$module$build$src$core$utils$string($n))we=Number(St)<=Number(Zt),X="for ("+tt+" = "+St+"; "+tt+(we?" <= ":" >= ")+Zt+"; "+tt,tt=Math.abs(Number($n)),X=tt===1?X+(we?"++":"--"):X+((we?" += ":" -= ")+tt),X+=`) {
`+pn+`}
`;else{X="";let sr=St;St.match(/^\w+$/)||i.isNumber$$module$build$src$core$utils$string(St)||(sr=we.nameDB_.getDistinctName(tt+"_start",i.NameType$$module$build$src$core$names.VARIABLE),X+="var "+sr+" = "+St+`;
`),St=Zt,Zt.match(/^\w+$/)||i.isNumber$$module$build$src$core$utils$string(Zt)||(St=we.nameDB_.getDistinctName(tt+"_end",i.NameType$$module$build$src$core$names.VARIABLE),X+="var "+St+" = "+Zt+`;
`),Zt=we.nameDB_.getDistinctName(tt+"_inc",i.NameType$$module$build$src$core$names.VARIABLE),X+="var "+Zt+" = ",X=i.isNumber$$module$build$src$core$utils$string($n)?X+(Math.abs(Number($n))+`;
`):X+("Math.abs("+$n+`);
`),X+="if ("+sr+" > "+St+`) {
`,X+=we.INDENT+Zt+" = -"+Zt+`;
`,X=X+`}
for (`+(tt+" = "+sr+"; "+Zt+" >= 0 ? "+tt+" <= "+St+" : "+tt+" >= "+St+"; "+tt+" += "+Zt+`) {
`+pn+`}
`)}return X},b=function(X,we){const tt=we.getVariableName(X.getFieldValue("VAR"));var St=we.valueToCode(X,"LIST",P.ASSIGNMENT)||"[]";let Zt=we.statementToCode(X,"DO");Zt=we.addLoopTrap(Zt,X),X="";let $n=St;return St.match(/^\w+$/)||($n=we.nameDB_.getDistinctName(tt+"_list",i.NameType$$module$build$src$core$names.VARIABLE),X+="var "+$n+" = "+St+`;
`),St=we.nameDB_.getDistinctName(tt+"_index",i.NameType$$module$build$src$core$names.VARIABLE),Zt=we.INDENT+tt+" = "+$n+"["+St+`];
`+Zt,X+("for (var "+St+" in "+$n+`) {
`+Zt+`}
`)},O=function(X,we){let tt="";if(we.STATEMENT_PREFIX&&(tt+=we.injectId(we.STATEMENT_PREFIX,X)),we.STATEMENT_SUFFIX&&(tt+=we.injectId(we.STATEMENT_SUFFIX,X)),we.STATEMENT_PREFIX){const St=X.getSurroundLoop();St&&!St.suppressPrefixSuffix&&(tt+=we.injectId(we.STATEMENT_PREFIX,St))}switch(X.getFieldValue("FLOW")){case"BREAK":return tt+`break;
`;case"CONTINUE":return tt+`continue;
`}throw Error("Unknown flow statement.")},N=function(X,we){return X=Number(X.getFieldValue("NUM")),[String(X),X>=0?P.ATOMIC:P.UNARY_NEGATION]},R=function(X,we){var tt={ADD:[" + ",P.ADDITION],MINUS:[" - ",P.SUBTRACTION],MULTIPLY:[" * ",P.MULTIPLICATION],DIVIDE:[" / ",P.DIVISION],POWER:[null,P.NONE]}[X.getFieldValue("OP")];const St=tt[0];tt=tt[1];const Zt=we.valueToCode(X,"A",tt)||"0";return X=we.valueToCode(X,"B",tt)||"0",St?[Zt+St+X,tt]:["Math.pow("+Zt+", "+X+")",P.FUNCTION_CALL]},B=function(X,we){const tt=X.getFieldValue("OP");let St;if(tt==="NEG")return X=we.valueToCode(X,"NUM",P.UNARY_NEGATION)||"0",X[0]==="-"&&(X=" "+X),["-"+X,P.UNARY_NEGATION];switch(X=tt==="SIN"||tt==="COS"||tt==="TAN"?we.valueToCode(X,"NUM",P.DIVISION)||"0":we.valueToCode(X,"NUM",P.NONE)||"0",tt){case"ABS":St="Math.abs("+X+")";break;case"ROOT":St="Math.sqrt("+X+")";break;case"LN":St="Math.log("+X+")";break;case"EXP":St="Math.exp("+X+")";break;case"POW10":St="Math.pow(10,"+X+")";break;case"ROUND":St="Math.round("+X+")";break;case"ROUNDUP":St="Math.ceil("+X+")";break;case"ROUNDDOWN":St="Math.floor("+X+")";break;case"SIN":St="Math.sin("+X+" / 180 * Math.PI)";break;case"COS":St="Math.cos("+X+" / 180 * Math.PI)";break;case"TAN":St="Math.tan("+X+" / 180 * Math.PI)"}if(St)return[St,P.FUNCTION_CALL];switch(tt){case"LOG10":St="Math.log("+X+") / Math.log(10)";break;case"ASIN":St="Math.asin("+X+") / Math.PI * 180";break;case"ACOS":St="Math.acos("+X+") / Math.PI * 180";break;case"ATAN":St="Math.atan("+X+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+tt)}return[St,P.DIVISION]},j=function(X,we){return{PI:["Math.PI",P.MEMBER],E:["Math.E",P.MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",P.DIVISION],SQRT2:["Math.SQRT2",P.MEMBER],SQRT1_2:["Math.SQRT1_2",P.MEMBER],INFINITY:["Infinity",P.ATOMIC]}[X.getFieldValue("CONSTANT")]},J=function(X,we){var tt={EVEN:[" % 2 === 0",P.MODULUS,P.EQUALITY],ODD:[" % 2 === 1",P.MODULUS,P.EQUALITY],WHOLE:[" % 1 === 0",P.MODULUS,P.EQUALITY],POSITIVE:[" > 0",P.RELATIONAL,P.RELATIONAL],NEGATIVE:[" < 0",P.RELATIONAL,P.RELATIONAL],DIVISIBLE_BY:[null,P.MODULUS,P.EQUALITY],PRIME:[null,P.NONE,P.FUNCTION_CALL]};const St=X.getFieldValue("PROPERTY"),[Zt,$n,pn]=tt[St];return tt=we.valueToCode(X,"NUMBER_TO_CHECK",$n)||"0",St==="PRIME"?X=we.provideFunction_("mathIsPrime",`
function ${we.FUNCTION_NAME_PLACEHOLDER_}(n) {
  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  if (n == 2 || n == 3) {
    return true;
  }
  // False if n is NaN, negative, is 1, or not whole.
  // And false if n is divisible by 2 or 3.
  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {
    return false;
  }
  // Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {
    if (n % (x - 1) === 0 || n % (x + 1) === 0) {
      return false;
    }
  }
  return true;
}
`)+"("+tt+")":St==="DIVISIBLE_BY"?(X=we.valueToCode(X,"DIVISOR",P.MODULUS)||"0",X=tt+" % "+X+" === 0"):X=tt+Zt,[X,pn]},fe=function(X,we){const tt=we.valueToCode(X,"DELTA",P.ADDITION)||"0";return X=we.getVariableName(X.getFieldValue("VAR")),X+" = (typeof "+X+" === 'number' ? "+X+" : 0) + "+tt+`;
`},Ne=function(X,we){var tt=X.getFieldValue("OP");switch(tt){case"SUM":X=we.valueToCode(X,"LIST",P.MEMBER)||"[]",X+=".reduce(function(x, y) {return x + y;}, 0)";break;case"MIN":X=we.valueToCode(X,"LIST",P.NONE)||"[]",X="Math.min.apply(null, "+X+")";break;case"MAX":X=we.valueToCode(X,"LIST",P.NONE)||"[]",X="Math.max.apply(null, "+X+")";break;case"AVERAGE":tt=we.provideFunction_("mathMean",`
function ${we.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;
}
`),X=we.valueToCode(X,"LIST",P.NONE)||"[]",X=tt+"("+X+")";break;case"MEDIAN":tt=we.provideFunction_("mathMedian",`
function ${we.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  var localList = myList.filter(function (x) {return typeof x === 'number';});
  if (!localList.length) return null;
  localList.sort(function(a, b) {return b - a;});
  if (localList.length % 2 === 0) {
    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;
  } else {
    return localList[(localList.length - 1) / 2];
  }
}
`),X=we.valueToCode(X,"LIST",P.NONE)||"[]",X=tt+"("+X+")";break;case"MODE":tt=we.provideFunction_("mathModes",`
function ${we.FUNCTION_NAME_PLACEHOLDER_}(values) {
  var modes = [];
  var counts = [];
  var maxCount = 0;
  for (var i = 0; i < values.length; i++) {
    var value = values[i];
    var found = false;
    var thisCount;
    for (var j = 0; j < counts.length; j++) {
      if (counts[j][0] === value) {
        thisCount = ++counts[j][1];
        found = true;
        break;
      }
    }
    if (!found) {
      counts.push([value, 1]);
      thisCount = 1;
    }
    maxCount = Math.max(thisCount, maxCount);
  }
  for (var j = 0; j < counts.length; j++) {
    if (counts[j][1] === maxCount) {
      modes.push(counts[j][0]);
    }
  }
  return modes;
}
`),X=we.valueToCode(X,"LIST",P.NONE)||"[]",X=tt+"("+X+")";break;case"STD_DEV":tt=we.provideFunction_("mathStandardDeviation",`
function ${we.FUNCTION_NAME_PLACEHOLDER_}(numbers) {
  var n = numbers.length;
  if (!n) return null;
  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;
  var variance = 0;
  for (var j = 0; j < n; j++) {
    variance += Math.pow(numbers[j] - mean, 2);
  }
  variance /= n;
  return Math.sqrt(variance);
}
`),X=we.valueToCode(X,"LIST",P.NONE)||"[]",X=tt+"("+X+")";break;case"RANDOM":tt=we.provideFunction_("mathRandomList",`
function ${we.FUNCTION_NAME_PLACEHOLDER_}(list) {
  var x = Math.floor(Math.random() * list.length);
  return list[x];
}
`),X=we.valueToCode(X,"LIST",P.NONE)||"[]",X=tt+"("+X+")";break;default:throw Error("Unknown operator: "+tt)}return[X,P.FUNCTION_CALL]},qe=function(X,we){const tt=we.valueToCode(X,"DIVIDEND",P.MODULUS)||"0";return X=we.valueToCode(X,"DIVISOR",P.MODULUS)||"0",[tt+" % "+X,P.MODULUS]},de=function(X,we){const tt=we.valueToCode(X,"VALUE",P.NONE)||"0",St=we.valueToCode(X,"LOW",P.NONE)||"0";return X=we.valueToCode(X,"HIGH",P.NONE)||"Infinity",["Math.min(Math.max("+tt+", "+St+"), "+X+")",P.FUNCTION_CALL]},xe=function(X,we){const tt=we.valueToCode(X,"FROM",P.NONE)||"0";return X=we.valueToCode(X,"TO",P.NONE)||"0",[we.provideFunction_("mathRandomInt",`
function ${we.FUNCTION_NAME_PLACEHOLDER_}(a, b) {
  if (a > b) {
    // Swap a and b to ensure a is smaller.
    var c = a;
    a = b;
    b = c;
  }
  return Math.floor(Math.random() * (b - a + 1) + a);
}
`)+"("+tt+", "+X+")",P.FUNCTION_CALL]},gt=function(X,we){return["Math.random()",P.FUNCTION_CALL]},ze=function(X,we){const tt=we.valueToCode(X,"X",P.NONE)||"0";return["Math.atan2("+(we.valueToCode(X,"Y",P.NONE)||"0")+", "+tt+") / Math.PI * 180",P.DIVISION]},Ft=function(X,we){const tt=we.getProcedureName(X.getFieldValue("NAME"));var St="";we.STATEMENT_PREFIX&&(St+=we.injectId(we.STATEMENT_PREFIX,X)),we.STATEMENT_SUFFIX&&(St+=we.injectId(we.STATEMENT_SUFFIX,X)),St&&(St=we.prefixLines(St,we.INDENT));let Zt="";we.INFINITE_LOOP_TRAP&&(Zt=we.prefixLines(we.injectId(we.INFINITE_LOOP_TRAP,X),we.INDENT));let $n="";X.getInput("STACK")&&($n=we.statementToCode(X,"STACK"));let pn="";X.getInput("RETURN")&&(pn=we.valueToCode(X,"RETURN",P.NONE)||"");let sr="";$n&&pn&&(sr=St),pn&&(pn=we.INDENT+"return "+pn+`;
`);const wr=[],jn=X.getVars();for(let En=0;En<jn.length;En++)wr[En]=we.getVariableName(jn[En]);return St="function "+tt+"("+wr.join(", ")+`) {
`+St+Zt+$n+sr+pn+"}",St=we.scrub_(X,St),we.definitions_["%"+tt]=St,null},Ge=function(X,we){const tt=we.getProcedureName(X.getFieldValue("NAME")),St=[],Zt=X.getVars();for(let $n=0;$n<Zt.length;$n++)St[$n]=we.valueToCode(X,"ARG"+$n,P.NONE)||"null";return[tt+"("+St.join(", ")+")",P.FUNCTION_CALL]},et=function(X,we){return we.forBlock.procedures_callreturn(X,we)[0]+`;
`},Ct=function(X,we){let tt="if ("+(we.valueToCode(X,"CONDITION",P.NONE)||"false")+`) {
`;return we.STATEMENT_SUFFIX&&(tt+=we.prefixLines(we.injectId(we.STATEMENT_SUFFIX,X),we.INDENT)),X.hasReturnValue_?(X=we.valueToCode(X,"VALUE",P.NONE)||"null",tt+=we.INDENT+"return "+X+`;
`):tt+=we.INDENT+`return;
`,tt+`}
`},nt=function(X,we){return[we.quote_(X.getFieldValue("TEXT")),P.ATOMIC]},yt=function(X,we){switch(X.itemCount_){case 0:return["''",P.ATOMIC];case 1:return X=we.valueToCode(X,"ADD0",P.NONE)||"''",Ee(X);case 2:var tt=we.valueToCode(X,"ADD0",P.NONE)||"''";return X=we.valueToCode(X,"ADD1",P.NONE)||"''",[Ee(tt)[0]+" + "+Ee(X)[0],P.ADDITION];default:tt=Array(X.itemCount_);for(let St=0;St<X.itemCount_;St++)tt[St]=we.valueToCode(X,"ADD"+St,P.NONE)||"''";return["["+tt.join(",")+"].join('')",P.FUNCTION_CALL]}},Ut=function(X,we){const tt=we.getVariableName(X.getFieldValue("VAR"));return X=we.valueToCode(X,"TEXT",P.NONE)||"''",tt+" += "+Ee(X)[0]+`;
`},Ht=function(X,we){return[(we.valueToCode(X,"VALUE",P.MEMBER)||"''")+".length",P.MEMBER]},Me=function(X,we){return["!"+(we.valueToCode(X,"VALUE",P.MEMBER)||"''")+".length",P.LOGICAL_NOT]},ut=function(X,we){const tt=X.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",St=we.valueToCode(X,"FIND",P.NONE)||"''";return we=(we.valueToCode(X,"VALUE",P.MEMBER)||"''")+"."+tt+"("+St+")",X.workspace.options.oneBasedIndex?[we+" + 1",P.ADDITION]:[we,P.FUNCTION_CALL]},en=function(X,we){const tt=X.getFieldValue("WHERE")||"FROM_START",St=we.valueToCode(X,"VALUE",tt==="RANDOM"?P.NONE:P.MEMBER)||"''";switch(tt){case"FIRST":return[St+".charAt(0)",P.FUNCTION_CALL];case"LAST":return[St+".slice(-1)",P.FUNCTION_CALL];case"FROM_START":return X=we.getAdjusted(X,"AT"),[St+".charAt("+X+")",P.FUNCTION_CALL];case"FROM_END":return X=we.getAdjusted(X,"AT",1,!0),[St+".slice("+X+").charAt(0)",P.FUNCTION_CALL];case"RANDOM":return[we.provideFunction_("textRandomLetter",`
function ${we.FUNCTION_NAME_PLACEHOLDER_}(text) {
  var x = Math.floor(Math.random() * text.length);
  return text[x];
}
`)+"("+St+")",P.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},nn=function(X,we){var tt={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};const St=X.getFieldValue("WHERE1"),Zt=X.getFieldValue("WHERE2");var $n=St!=="FROM_END"&&St!=="LAST"&&Zt!=="FROM_END"&&Zt!=="LAST",pn=we.valueToCode(X,"STRING",$n?P.MEMBER:P.NONE)||"''";if(St==="FIRST"&&Zt==="LAST")return[pn,P.NONE];if(pn.match(/^'?\w+'?$/)||$n){switch(St){case"FROM_START":tt=we.getAdjusted(X,"AT1");break;case"FROM_END":tt=we.getAdjusted(X,"AT1",1,!1,P.SUBTRACTION),tt=pn+".length - "+tt;break;case"FIRST":tt="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(Zt){case"FROM_START":we=we.getAdjusted(X,"AT2",1);break;case"FROM_END":we=we.getAdjusted(X,"AT2",0,!1,P.SUBTRACTION),we=pn+".length - "+we;break;case"LAST":we=pn+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}pn=pn+".slice("+tt+", "+we+")"}else $n=we.getAdjusted(X,"AT1"),X=we.getAdjusted(X,"AT2"),pn=we.provideFunction_("subsequence"+tt[St]+tt[Zt],`
function ${we.FUNCTION_NAME_PLACEHOLDER_}(sequence${St==="FROM_END"||St==="FROM_START"?", at1":""}${Zt==="FROM_END"||Zt==="FROM_START"?", at2":""}) {
  var start = ${Je("sequence",St,"at1")};
  var end = ${Je("sequence",Zt,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+pn+(St==="FROM_END"||St==="FROM_START"?", "+$n:"")+(Zt==="FROM_END"||Zt==="FROM_START"?", "+X:"")+")";return[pn,P.FUNCTION_CALL]},De=function(X,we){const tt={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[X.getFieldValue("CASE")];return X=we.valueToCode(X,"TEXT",tt?P.MEMBER:P.NONE)||"''",[tt?X+tt:we.provideFunction_("textToTitleCase",`
function ${we.FUNCTION_NAME_PLACEHOLDER_}(str) {
  return str.replace(/\\S+/g,
      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});
}
`)+"("+X+")",P.FUNCTION_CALL]},se=function(X,we){const tt={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[X.getFieldValue("MODE")];return[(we.valueToCode(X,"TEXT",P.MEMBER)||"''")+tt,P.FUNCTION_CALL]},Ae=function(X,we){return"window.alert("+(we.valueToCode(X,"TEXT",P.NONE)||"''")+`);
`},lt=function(X,we){return we="window.prompt("+(X.getField("TEXT")?we.quote_(X.getFieldValue("TEXT")):we.valueToCode(X,"TEXT",P.NONE)||"''")+")",X.getFieldValue("TYPE")==="NUMBER"&&(we="Number("+we+")"),[we,P.FUNCTION_CALL]},Qe=function(X,we){const tt=we.valueToCode(X,"TEXT",P.NONE)||"''";return X=we.valueToCode(X,"SUB",P.NONE)||"''",[we.provideFunction_("textCount",`
function ${we.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle) {
  if (needle.length === 0) {
    return haystack.length + 1;
  } else {
    return haystack.split(needle).length - 1;
  }
}
`)+"("+tt+", "+X+")",P.FUNCTION_CALL]},Tt=function(X,we){const tt=we.valueToCode(X,"TEXT",P.NONE)||"''",St=we.valueToCode(X,"FROM",P.NONE)||"''";return X=we.valueToCode(X,"TO",P.NONE)||"''",[we.provideFunction_("textReplace",`
function ${we.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle, replacement) {
  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')
                 .replace(/\\x08/g, '\\\\x08');
  return haystack.replace(new RegExp(needle, 'g'), replacement);
}
`)+"("+tt+", "+St+", "+X+")",P.FUNCTION_CALL]},Et=function(X,we){return[(we.valueToCode(X,"TEXT",P.MEMBER)||"''")+".split('').reverse().join('')",P.FUNCTION_CALL]},Vt=function(X,we){return[we.getVariableName(X.getFieldValue("VAR")),P.ATOMIC]},rt=function(X,we){const tt=we.valueToCode(X,"VALUE",P.ASSIGNMENT)||"0";return we.getVariableName(X.getFieldValue("VAR"))+" = "+tt+`;
`},P;(function(X){X[X.ATOMIC=0]="ATOMIC",X[X.NEW=1.1]="NEW",X[X.MEMBER=1.2]="MEMBER",X[X.FUNCTION_CALL=2]="FUNCTION_CALL",X[X.INCREMENT=3]="INCREMENT",X[X.DECREMENT=3]="DECREMENT",X[X.BITWISE_NOT=4.1]="BITWISE_NOT",X[X.UNARY_PLUS=4.2]="UNARY_PLUS",X[X.UNARY_NEGATION=4.3]="UNARY_NEGATION",X[X.LOGICAL_NOT=4.4]="LOGICAL_NOT",X[X.TYPEOF=4.5]="TYPEOF",X[X.VOID=4.6]="VOID",X[X.DELETE=4.7]="DELETE",X[X.AWAIT=4.8]="AWAIT",X[X.EXPONENTIATION=5]="EXPONENTIATION",X[X.MULTIPLICATION=5.1]="MULTIPLICATION",X[X.DIVISION=5.2]="DIVISION",X[X.MODULUS=5.3]="MODULUS",X[X.SUBTRACTION=6.1]="SUBTRACTION",X[X.ADDITION=6.2]="ADDITION",X[X.BITWISE_SHIFT=7]="BITWISE_SHIFT",X[X.RELATIONAL=8]="RELATIONAL",X[X.IN=8]="IN",X[X.INSTANCEOF=8]="INSTANCEOF",X[X.EQUALITY=9]="EQUALITY",X[X.BITWISE_AND=10]="BITWISE_AND",X[X.BITWISE_XOR=11]="BITWISE_XOR",X[X.BITWISE_OR=12]="BITWISE_OR",X[X.LOGICAL_AND=13]="LOGICAL_AND",X[X.LOGICAL_OR=14]="LOGICAL_OR",X[X.CONDITIONAL=15]="CONDITIONAL",X[X.ASSIGNMENT=16]="ASSIGNMENT",X[X.YIELD=17]="YIELD",X[X.COMMA=18]="COMMA",X[X.NONE=99]="NONE"})(P||(P={}));var Re=class extends i.CodeGenerator$$module$build$src$core$generator{constructor(X="JavaScript"){super(X),this.ORDER_OVERRIDES=[[P.FUNCTION_CALL,P.MEMBER],[P.FUNCTION_CALL,P.FUNCTION_CALL],[P.MEMBER,P.MEMBER],[P.MEMBER,P.FUNCTION_CALL],[P.LOGICAL_NOT,P.LOGICAL_NOT],[P.MULTIPLICATION,P.MULTIPLICATION],[P.ADDITION,P.ADDITION],[P.LOGICAL_AND,P.LOGICAL_AND],[P.LOGICAL_OR,P.LOGICAL_OR]],this.isInitialized=!1;for(const we in P)X=P[we],typeof X!="string"&&(this["ORDER_"+we]=X);this.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(globalThis).join(","))}init(X){super.init(X),this.nameDB_?this.nameDB_.reset():this.nameDB_=new i.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(X.getVariableMap()),this.nameDB_.populateVariables(X),this.nameDB_.populateProcedures(X);const we=[];var tt=i.allDeveloperVariables$$module$build$src$core$variables(X);for(let St=0;St<tt.length;St++)we.push(this.nameDB_.getName(tt[St],i.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));for(X=i.allUsedVarModels$$module$build$src$core$variables(X),tt=0;tt<X.length;tt++)we.push(this.nameDB_.getName(X[tt].getId(),i.NameType$$module$build$src$core$names.VARIABLE));we.length&&(this.definitions_.variables="var "+we.join(", ")+";"),this.isInitialized=!0}finish(X){const we=Object.values(this.definitions_);return super.finish(X),this.isInitialized=!1,this.nameDB_.reset(),we.join(`

`)+`


`+X}scrubNakedValue(X){return X+`;
`}quote_(X){return X=X.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`).replace(/'/g,"\\'"),"'"+X+"'"}multiline_quote_(X){return X.split(/\n/g).map(this.quote_).join(` + '\\n' +
`)}scrub_(X,we,tt=!1){let St="";if(!X.outputConnection||!X.outputConnection.targetConnection){var Zt=X.getCommentText();Zt&&(Zt=i.wrap$$module$build$src$core$utils$string(Zt,this.COMMENT_WRAP-3),St+=this.prefixLines(Zt+`
`,"// "));for(let $n=0;$n<X.inputList.length;$n++)X.inputList[$n].type===i.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(Zt=X.inputList[$n].connection.targetBlock())&&(Zt=this.allNestedComments(Zt))&&(St+=this.prefixLines(Zt,"// "))}return X=X.nextConnection&&X.nextConnection.targetBlock(),tt=tt?"":this.blockToCode(X),St+we+tt}getAdjusted(X,we,tt=0,St=!1,Zt=P.NONE){X.workspace.options.oneBasedIndex&&tt--;const $n=X.workspace.options.oneBasedIndex?"1":"0";let pn=Zt;return tt>0?pn=P.ADDITION:tt<0?pn=P.SUBTRACTION:St&&(pn=P.UNARY_NEGATION),X=this.valueToCode(X,we,pn)||$n,tt===0&&!St?X:i.isNumber$$module$build$src$core$utils$string(X)?(X=String(Number(X)+tt),St&&(X=String(-Number(X))),X):(tt>0?X=`${X} + ${tt}`:tt<0&&(X=`${X} - ${-tt}`),St&&(X=tt?`-(${X})`:`-${X}`),Math.floor(Zt)>=Math.floor(pn)&&(X=`(${X})`),X)}},ke=function(X,we,tt){return we==="FIRST"?"0":we==="FROM_END"?X+".length - 1 - "+tt:we==="LAST"?X+".length - 1":tt},ht={};ht.lists_create_empty=u,ht.lists_create_with=h,ht.lists_getIndex=T,ht.lists_getSublist=I,ht.lists_indexOf=$,ht.lists_isEmpty=y,ht.lists_length=g,ht.lists_repeat=f,ht.lists_reverse=ne,ht.lists_setIndex=w,ht.lists_sort=A,ht.lists_split=K;var Mt={};Mt.controls_if=he,Mt.controls_ifelse=he,Mt.logic_boolean=Ce,Mt.logic_compare=V,Mt.logic_negate=te,Mt.logic_null=Oe,Mt.logic_operation=le,Mt.logic_ternary=ce;var Ot={};Ot.controls_flow_statements=O,Ot.controls_for=_e,Ot.controls_forEach=b,Ot.controls_repeat=Be,Ot.controls_repeat_ext=Be,Ot.controls_whileUntil=je;var wt={};wt.math_arithmetic=R,wt.math_atan2=ze,wt.math_change=fe,wt.math_constant=j,wt.math_constrain=de,wt.math_modulo=qe,wt.math_number=N,wt.math_number_property=J,wt.math_on_list=Ne,wt.math_random_float=gt,wt.math_random_int=xe,wt.math_round=B,wt.math_single=B,wt.math_trig=B;var ft={};ft.procedures_callnoreturn=et,ft.procedures_callreturn=Ge,ft.procedures_defnoreturn=Ft,ft.procedures_defreturn=Ft,ft.procedures_ifreturn=Ct;var Y=/^\s*'([^']|\\')*'\s*$/,Ee=function(X){return Y.test(X)?[X,P.ATOMIC]:["String("+X+")",P.FUNCTION_CALL]},Je=function(X,we,tt){return we==="FIRST"?"0":we==="FROM_END"?X+".length - 1 - "+tt:we==="LAST"?X+".length - 1":tt},Fe={};Fe.text=nt,Fe.text_append=Ut,Fe.text_changeCase=De,Fe.text_charAt=en,Fe.text_count=Qe,Fe.text_getSubstring=nn,Fe.text_indexOf=ut,Fe.text_isEmpty=Me,Fe.text_join=yt,Fe.text_length=Ht,Fe.text_print=Ae,Fe.text_prompt=lt,Fe.text_prompt_ext=lt,Fe.text_replace=Tt,Fe.text_reverse=Et,Fe.text_trim=se;var Lt={};Lt.variables_get=Vt,Lt.variables_set=rt;var Bt={};Bt.variables_get_dynamic=Vt,Bt.variables_set_dynamic=rt;var zt=new Re,ve=Object.assign({},ht,Mt,Ot,wt,ft,Fe,Lt,Bt);for(const X in ve)zt.forBlock[X]=ve[X];var Ye={};return Ye.JavascriptGenerator=Re,Ye.Order=P,Ye.javascriptGenerator=zt,Ye.__namespace__=i,Ye})})(r9)),r9.exports}var AA=kA();const NA=Pl(AA),{JavascriptGenerator:Fee,Order:Uee,javascriptGenerator:xr}=NA,Db="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIj48Y2lyY2xlIGN4PSIxMCIgY3k9IjEwIiByPSIzIiBmaWxsPSJ3aGl0ZSIvPjxjaXJjbGUgY3g9IjEwIiBjeT0iMTAiIHI9IjEwIiBmaWxsPSJub25lIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIG9wYWNpdHk9IjAuNSI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgZnJvbT0iMyIgdG89IjEwIiBkdXI9IjEuNXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIi8+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgZnJvbT0iMSIgdG89IjAiIGR1cj0iMS41cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiLz48L2NpcmNsZT48L3N2Zz4=";let Bb=!1;const hg=()=>{if(Bb)return;Bb=!0,console.log(" Enregistrement global des blocs (V9 - Fix Infinity)..."),H5([{type:"maze_move_forward",message0:"Avancer ",previousStatement:null,nextStatement:null,colour:160},{type:"maze_turn",message0:"Pivoter %1 ",args0:[{type:"field_dropdown",name:"DIR",options:[[" gauche ","LEFT"],[" droite ","RIGHT"]]}],previousStatement:null,nextStatement:null,colour:160},{type:"maze_forever",message0:"Rpter jusqu'  %1",args0:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:120},{type:"maze_if",message0:"Si chemin %1 %2 %3 faire %4",args0:[{type:"field_dropdown",name:"DIR",options:[["devant ","AHEAD"],[" gauche ","LEFT"],[" droite ","RIGHT"]]},{type:"field_image",src:Db,width:15,height:15,alt:"Radar"},{type:"input_dummy"},{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:210},{type:"maze_if_else",message0:"Si chemin %1 %2 %3 faire %4 sinon %5",args0:[{type:"field_dropdown",name:"DIR",options:[["devant ","AHEAD"],[" gauche ","LEFT"],[" droite ","RIGHT"]]},{type:"field_image",src:Db,width:15,height:15,alt:"Radar"},{type:"input_dummy"},{type:"input_statement",name:"DO"},{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,colour:210}]),xr.forBlock.maze_move_forward=s=>`actions.push({type: "MOVE", id: "${s.id}"}); api.move();
`,xr.forBlock.maze_turn=s=>`actions.push({type: "TURN_${s.getFieldValue("DIR")}", id: "${s.id}"}); api.turn('${s.getFieldValue("DIR")}');
`,xr.forBlock.maze_forever=s=>`while (!api.isDone() && api.safeCheck()) { actions.push({type: "LOOP_CHECK", id: "${s.id}"}); ${xr.statementToCode(s,"DO")} }
`,xr.forBlock.maze_if=s=>`actions.push({type: "SCAN", dir: "${s.getFieldValue("DIR")}", id: "${s.id}"}); if (api.isPath('${s.getFieldValue("DIR")}')) {
${xr.statementToCode(s,"DO")}}
`,xr.forBlock.maze_if_else=s=>`actions.push({type: "SCAN", dir: "${s.getFieldValue("DIR")}", id: "${s.id}"}); if (api.isPath('${s.getFieldValue("DIR")}')) {
${xr.statementToCode(s,"DO")}} else {
${xr.statementToCode(s,"ELSE")}}
`,H5([{type:"turtle_move",message0:"avancer  de %1 pas",args0:[{type:"input_value",name:"VALUE",check:"Number"}],previousStatement:null,nextStatement:null,colour:160},{type:"turtle_turn",message0:"pivoter %1 de %2 degrs ",args0:[{type:"field_dropdown",name:"DIR",options:[[" gauche","LEFT"],[" droite","RIGHT"]]},{type:"input_value",name:"VALUE",check:"Number"}],previousStatement:null,nextStatement:null,colour:160},{type:"turtle_pen",message0:"stylo %1",args0:[{type:"field_dropdown",name:"STATE",options:[["lev ","UP"],["baiss ","DOWN"]]}],previousStatement:null,nextStatement:null,colour:160},{type:"turtle_color",message0:"couleur %1",args0:[{type:"field_colour",name:"COLOR",colour:"#ff0000"}],previousStatement:null,nextStatement:null,colour:160}]),xr.forBlock.turtle_move=s=>`actions.push({type: 'MOVE', id: "${s.id}", dist: ${xr.valueToCode(s,"VALUE",xr.ORDER_ATOMIC)||"0"}});
`,xr.forBlock.turtle_turn=s=>`actions.push({type: 'TURN', id: "${s.id}", angle: ${s.getFieldValue("DIR")==="LEFT"?"-":""}${xr.valueToCode(s,"VALUE",xr.ORDER_ATOMIC)||"0"}});
`,xr.forBlock.turtle_pen=s=>`actions.push({type: 'PEN', id: "${s.id}", state: '${s.getFieldValue("STATE")}'});
`,xr.forBlock.turtle_color=s=>`actions.push({type: 'COLOR', id: "${s.id}", color: '${s.getFieldValue("COLOR")}'});
`,xr.forBlock.variables_set=s=>`try { ${s.getField("VAR").getText()} = ${xr.valueToCode(s,"VALUE",xr.ORDER_ATOMIC)||"0"}; actions.push({type: 'SET', id: "${s.id}", var: '${s.getField("VAR").getText()}', val: ${s.getField("VAR").getText()}}); } catch(e) { console.error(e); }
`,Ld.text_print||H5([{type:"text_print",message0:"afficher %1",args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,colour:160}]),xr.forBlock.text_print=s=>`actions.push({type: 'PRINT', id: "${s.id}", msg: ${xr.valueToCode(s,"TEXT",xr.ORDER_NONE)||"''"}});
`,Ld.system_var_get||(Ld.system_var_get={init:function(){this.jsonInit({message0:"%1",args0:[{type:"field_label_serializable",name:"VAR_NAME",text:"VAR"}],output:null,colour:60,editable:!1})}}),xr.forBlock.system_var_get=s=>[s.getField("VAR_NAME").getText(),xr.ORDER_ATOMIC],H5([{type:"equation_op_both",message0:"Aux deux cts %1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["Ajouter +","ADD"],["Soustraire -","SUB"],["Multiplier ","MUL"],["Diviser /","DIV"]]},{type:"input_value",name:"VAL"}],previousStatement:null,nextStatement:null,colour:230},{type:"equation_term_x",message0:"%1 x",args0:[{type:"field_number",name:"COEFF",value:1,precision:1}],output:null,colour:230},{type:"equation_verify",message0:"Vrifier si x = %1",args0:[{type:"input_value",name:"VAL",check:"Number"}],previousStatement:null,nextStatement:null,colour:100},{type:"equation_solution_state",message0:"Conclusion : %1",args0:[{type:"field_dropdown",name:"STATE",options:[["Pas de solution ","NO_SOLUTION"],["Infinit de solutions (Tout x)","INFINITE"]]}],previousStatement:null,nextStatement:null,colour:100}]),xr.forBlock.equation_op_both=s=>{const r=s.getFieldValue("OP"),i=xr.valueToCode(s,"VAL",xr.ORDER_ATOMIC)||"0";return`actions.push({ type: 'OP_BOTH', operator: '${{ADD:"+",SUB:"-",MUL:"*",DIV:"/"}[r]}', value: ${i} });
`},xr.forBlock.equation_term_x=s=>[`"${s.getFieldValue("COEFF")}*x"`,xr.ORDER_ATOMIC],xr.forBlock.equation_verify=s=>`actions.push({ type: 'VERIFY', value: ${xr.valueToCode(s,"VAL",xr.ORDER_ATOMIC)||"0"} });
`,xr.forBlock.equation_solution_state=s=>`actions.push({ type: 'DECLARE_SOLUTION', kind: '${s.getFieldValue("STATE")}' });
`,H5([{type:"equation_solution_s",message0:"Solution S = %1",args0:[{type:"input_value",name:"INTERVAL"}],previousStatement:null,nextStatement:null,colour:290},{type:"equation_interval",message0:"%1 %2 ; %3 %4",args0:[{type:"field_dropdown",name:"L_BRACKET",options:[["[","["],["]","]"]]},{type:"input_value",name:"MIN"},{type:"input_value",name:"MAX"},{type:"field_dropdown",name:"R_BRACKET",options:[["]","]"],["[","["]]}],output:null,colour:290,inputsInline:!0},{type:"math_infinity",message0:"%1 ",args0:[{type:"field_dropdown",name:"SIGN",options:[["+","POS"],["-","NEG"]]}],output:"Number",colour:230}]),xr.forBlock.equation_solution_s=s=>`actions.push({ type: 'DECLARE_INTERVAL', interval: ${xr.valueToCode(s,"INTERVAL",xr.ORDER_ATOMIC)||"null"} });
`,xr.forBlock.equation_interval=s=>{const r=s.getFieldValue("L_BRACKET"),i=s.getFieldValue("R_BRACKET"),u=xr.valueToCode(s,"MIN",xr.ORDER_ATOMIC)||"0",h=xr.valueToCode(s,"MAX",xr.ORDER_ATOMIC)||"0";return[`{ left: '${r}', right: '${i}', min: '${u}', max: '${h}' }`,xr.ORDER_ATOMIC]},xr.forBlock.math_infinity=s=>[`${s.getFieldValue("SIGN")==="NEG"?"-":""}Infinity`,xr.ORDER_ATOMIC];const t=(s,r)=>{const i=s.getFieldValue("WHERE")||"FROM_START";let u="0";switch(i){case"FIRST":u="0";break;case"LAST":u=`${r}.length - 1`;break;case"FROM_START":u=String(xr.valueToCode(s,"AT",xr.ORDER_NONE)||"1").match(/^\d+$/)?parseInt(xr.valueToCode(s,"AT",xr.ORDER_NONE)||"1",10)-1:`(${xr.valueToCode(s,"AT",xr.ORDER_NONE)||"1"} - 1)`;break;case"FROM_END":u=`${r}.length - ${xr.valueToCode(s,"AT",xr.ORDER_NONE)||"1"}`;break;case"RANDOM":u=`Math.floor(Math.random() * ${r}.length)`;break}return u};xr.forBlock.lists_create_with=s=>{const r=new Array(s.itemCount_);for(let i=0;i<s.itemCount_;i++)r[i]=xr.valueToCode(s,"ADD"+i,xr.ORDER_NONE)||"0";return["["+r.join(", ")+"]",xr.ORDER_ATOMIC]},xr.forBlock.lists_getIndex=s=>[`${xr.valueToCode(s,"VALUE",xr.ORDER_MEMBER)||"[]"}[${t(s,xr.valueToCode(s,"VALUE",xr.ORDER_MEMBER)||"[]")}]`,xr.ORDER_MEMBER],xr.forBlock.lists_setIndex=s=>`${xr.valueToCode(s,"LIST",xr.ORDER_MEMBER)||"[]"}[${t(s,xr.valueToCode(s,"LIST",xr.ORDER_MEMBER)||"[]")}] = ${xr.valueToCode(s,"TO",xr.ORDER_ASSIGNMENT)||"null"};
actions.push({type: 'SET', id: "${s.id}", var: '${xr.valueToCode(s,"LIST",xr.ORDER_MEMBER)||"[]"}', val: ${xr.valueToCode(s,"LIST",xr.ORDER_MEMBER)||"[]"}});
`,xr.forBlock.lists_length=s=>[`${xr.valueToCode(s,"VALUE",xr.ORDER_MEMBER)||"[]"}.length`,xr.ORDER_MEMBER]},w8={maze_move_forward:'<block type="maze_move_forward"></block>',maze_forever:'<block type="maze_forever"></block>',maze_if:'<block type="maze_if"></block>',maze_if_else:'<block type="maze_if_else"></block>',maze_turn:'<block type="maze_turn"><field name="DIR">LEFT</field></block><block type="maze_turn"><field name="DIR">RIGHT</field></block>',turtle_move:'<block type="turtle_move"><value name="VALUE"><shadow type="math_number"><field name="NUM">50</field></shadow></value></block>',turtle_turn:'<block type="turtle_turn"><value name="VALUE"><shadow type="math_number"><field name="NUM">90</field></shadow></value></block>',turtle_pen:'<block type="turtle_pen"><field name="STATE">UP</field></block><block type="turtle_pen"><field name="STATE">DOWN</field></block>',turtle_color:'<block type="turtle_color"><field name="COLOR">#ff0000</field></block>',equation_op_both:'<block type="equation_op_both"><value name="VAL"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block>',equation_term_x:'<block type="equation_term_x"><field name="COEFF">1</field></block>',equation_verify:'<block type="equation_verify"><value name="VAL"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block>',equation_solution_state:'<block type="equation_solution_state"></block>',equation_solution_s:'<block type="equation_solution_s"></block>',equation_interval:`
    <block type="equation_interval">
        <value name="MIN">
            <shadow type="math_infinity">
                <field name="SIGN">NEG</field> 
            </shadow>
        </value>
        <value name="MAX">
            <shadow type="math_number">
                <field name="NUM">0</field>
            </shadow>
        </value>
    </block>
  `,math_infinity:'<block type="math_infinity"></block>',controls_repeat_ext:'<block type="controls_repeat_ext"><value name="TIMES"><shadow type="math_number"><field name="NUM">5</field></shadow></value></block>',controls_whileUntil:'<block type="controls_whileUntil"></block>',controls_if:'<block type="controls_if"></block>',logic_compare:'<block type="logic_compare"></block>',logic_operation:'<block type="logic_operation"></block>',math_number:'<block type="math_number"></block>',math_arithmetic:'<block type="math_arithmetic"><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block>',math_modulo:'<block type="math_modulo"><value name="DIVIDEND"><shadow type="math_number"><field name="NUM">10</field></shadow></value><value name="DIVISOR"><shadow type="math_number"><field name="NUM">2</field></shadow></value></block>',math_random_int:'<block type="math_random_int"><value name="FROM"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="TO"><shadow type="math_number"><field name="NUM">100</field></shadow></value></block>',lists_create_with:'<block type="lists_create_with"><mutation items="3"></mutation></block>',lists_getIndex:'<block type="lists_getIndex"></block>',lists_setIndex:'<block type="lists_setIndex"></block>',lists_length:'<block type="lists_length"></block>',text_print:'<block type="text_print"></block>',text_prompt_ext:'<block type="text_prompt_ext"><value name="TEXT"><shadow type="text"><field name="TEXT">?</field></shadow></value></block>',variables_get:'<block type="variables_get"></block>',variables_set:'<block type="variables_set"></block>'},IA={maze_move_forward:"Avancer ",maze_turn:"Pivoter ",maze_if:"Si chemin... ",maze_if_else:"Si... Sinon... ",maze_forever:"Rpter jusqu' ",turtle_move:"Avancer ",turtle_turn:"Pivoter ",turtle_pen:"Stylo ",turtle_color:"Couleur ",controls_repeat_ext:"Rpter N fois",controls_whileUntil:"Rpter tant que",controls_if:"Si... Alors",logic_compare:"Comparaison",logic_operation:"Oprateur",math_number:"Nombre",math_arithmetic:"Calcul",math_modulo:"Reste",math_random_int:"Alatoire",text_print:"Afficher",text_prompt_ext:"Demander",lists_create_with:"Crer liste",lists_getIndex:"Lire lment",lists_setIndex:"Modifier lment",lists_length:"Longueur liste",variables_set:"Dfinir variable",variables_get:"Lire variable",equation_op_both:"Opration quation",equation_term_x:"Terme X (ax)",equation_verify:"Vrifier si x = ?",equation_solution_state:"Conclure sur les solutions",equation_solution_s:"Solution S = ...",equation_interval:"Intervalle [ ; ]",math_infinity:"Infini ()"},nE={MAZE:["Mouvements","Capteurs","Logique"],TURTLE:["Tortue","Logique","Mathmatiques","Variables"],MATH:["Mathmatiques","Listes","Variables","Interactions","Logique"],EQUATION:["Algbre"]},p7={Mouvements:["maze_move_forward","maze_turn"],Capteurs:["maze_if","maze_if_else","maze_forever"],Tortue:["turtle_move","turtle_turn","turtle_pen","turtle_color"],Logique:["controls_repeat_ext","controls_whileUntil","controls_if","logic_compare","logic_operation"],Mathmatiques:["math_number","math_arithmetic","math_modulo","math_random_int"],Listes:["lists_create_with","lists_getIndex","lists_setIndex","lists_length"],Variables:["variables_set"],Interactions:["text_print","text_prompt_ext"],Algbre:["equation_op_both","equation_term_x","equation_verify","equation_solution_state","equation_solution_s","equation_interval","math_infinity","math_number"]},C7=(t,s,r=[],i=[])=>rE(t,s,r,i),OA=(t,s,r=[],i=[])=>{const u=nE[t]||[];let h=[];return u.forEach(f=>{p7[f]&&(h=[...h,...p7[f]])}),rE(h,s,r,i,!0)},rE=(t,s,r,i,u=!1)=>{let h="",f=new Set(t||[]);const g=(t||[]).length,y=u||g>=6;let $=!1,T="";if(s&&Object.keys(s).length>0){const I=Object.keys(s).filter(A=>!r.includes(A));I.length>0&&(I.forEach(A=>{i.includes(A)?T+=`<block type="system_var_get"><field name="VAR_NAME">${A}</field></block>`:(T+=`<block type="variables_get"><field name="VAR">${A}</field></block>`,f.has("variables_set")&&(T+=`<block type="variables_set"><field name="VAR">${A}</field></block>`))}),T&&(y?(h+=`<category name="Variables" colour="330">${T}</category>`,$=!0):h+=T,T="",f.delete("variables_set"),f.delete("variables_get")))}Object.entries(p7).forEach(([I,A])=>{const K=A.filter(he=>f.has(he));if(K.length===0&&!u)return;const ne=u?A:K;if(ne.length>0){let he="";if(ne.forEach(V=>{w8[V]&&(he+=w8[V],f.delete(V))}),y){let V="0";I==="Mouvements"&&(V="120"),I==="Tortue"&&(V="160"),I==="Logique"&&(V="210"),I==="Mathmatiques"&&(V="230"),I==="Listes"&&(V="260"),I==="Interactions"&&(V="160"),I==="Algbre"&&(V="290"),h+=`<category name="${I}" colour="${V}">${he}</category>`,$=!0}else h+=he}});let w=T;return f.forEach(I=>{w8[I]&&(w+=w8[I])}),$?w&&(h+=`<category name=" Divers" colour="0">${w}</category>`):h+=w,{xml:`<xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">${h}</xml>`,hasCategories:$}};function RA({levelData:t,onUpdate:s}){const r=br.useRef(null),[i,u]=br.useState("START"),[h,f]=br.useState(!1);br.useEffect(()=>{const V=setTimeout(()=>{try{hg(),f(!0)}catch(le){console.error(le)}},10);return()=>clearTimeout(V)},[]);const g={scrollbars:!0,trashcan:!0,readOnly:!1,zoom:{controls:!0,wheel:!0,startScale:.9}},y=t.type||"MAZE",$=br.useMemo(()=>C7(t.allowedBlocks,t.inputs,t.hiddenVars,t.lockedVars),[t.allowedBlocks,t.inputs,t.hiddenVars,t.lockedVars]),T=br.useMemo(()=>OA(y,t.inputs,t.hiddenVars,t.lockedVars),[y,t.inputs,t.hiddenVars,t.lockedVars]),w=i==="SOLUTION"?T:$,I=`${t.id}-${y}-${i}-${w.hasCategories?"CAT":"FLY"}`,A=V=>{r.current=V,window.setTimeout(()=>ym(V),0)};br.useEffect(()=>{r.current&&h&&r.current.updateToolbox(w.xml)},[w,h]);const K=V=>{const le=t.allowedBlocks||[],te=le.includes(V)?le.filter(Ce=>Ce!==V):[...le,V];s({...t,allowedBlocks:te})},ne=V=>{const le=p7[V]||[],te=t.allowedBlocks||[],Oe=le.every(ce=>te.includes(ce))?te.filter(ce=>!le.includes(ce)):[...te,...le.filter(ce=>!te.includes(ce))];s({...t,allowedBlocks:Oe})},he=nE[y]||[];return h?mt.jsxs("div",{className:"flex flex-col h-full gap-4",children:[mt.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 h-[60%] min-h-[450px]",children:[mt.jsx("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden relative flex flex-col",children:mt.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[y==="MAZE"&&mt.jsx(eA,{levelData:t,onUpdate:s}),y==="TURTLE"&&mt.jsx(nA,{levelData:t,onUpdate:s}),y==="MATH"&&mt.jsx(tA,{levelData:t,onUpdate:s}),y==="EQUATION"&&mt.jsx(sA,{levelData:t,onUpdate:s})]})}),mt.jsxs("div",{className:"w-full lg:w-80 flex-shrink-0 bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col overflow-hidden",children:[mt.jsx("div",{className:"p-3 border-b border-slate-100 bg-slate-50/50",children:mt.jsxs("h4",{className:"m-0 text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[mt.jsx("span",{children:""})," Proprits"]})}),mt.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar space-y-5",children:[mt.jsxs("div",{children:[mt.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase",children:"Consigne"}),mt.jsx("textarea",{value:t.instruction||"",onChange:V=>s({...t,instruction:V.target.value}),className:"w-full h-24 p-2 text-sm text-slate-700 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none bg-slate-50 focus:bg-white",placeholder:"Instructions en Markdown..."})]}),mt.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100 flex justify-between items-center",children:[mt.jsx("label",{className:"text-xs font-bold text-emerald-600",children:" Objectif (Par)"}),mt.jsxs("div",{className:"flex items-center gap-2",children:[mt.jsx("input",{type:"number",min:"1",value:t.maxBlocks||5,onChange:V=>s({...t,maxBlocks:parseInt(V.target.value)}),className:"w-14 p-1 text-center font-bold text-sm text-slate-700 border border-slate-200 rounded focus:ring-2 focus:ring-emerald-500"}),mt.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"blocs"})]})]}),mt.jsxs("div",{children:[mt.jsx("h4",{className:"text-[10px] font-bold text-slate-400 mb-2 uppercase border-t border-slate-100 pt-3",children:" Toolbox lve"}),mt.jsx("div",{className:"space-y-1",children:he.map(V=>{const le=p7[V]||[],te=t.allowedBlocks||[],Ce=le.every(ce=>te.includes(ce)),Oe=le.some(ce=>te.includes(ce))&&!Ce;return V==="Variables"&&(!t.inputs||Object.keys(t.inputs).length===0)?null:mt.jsxs("details",{open:Ce||Oe,className:"group border border-slate-100 rounded-lg overflow-hidden bg-white",children:[mt.jsxs("summary",{className:"flex items-center justify-between p-2 bg-slate-50/80 cursor-pointer select-none hover:bg-slate-100",children:[mt.jsx("span",{className:"text-xs font-bold text-slate-600",children:V}),mt.jsx("input",{type:"checkbox",checked:Ce,ref:ce=>{ce&&(ce.indeterminate=Oe)},onChange:ce=>{ce.stopPropagation(),ne(V)},className:"w-3.5 h-3.5 rounded text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"})]}),mt.jsx("div",{className:"p-2 space-y-1",children:le.map(ce=>mt.jsx("div",{className:"flex items-center hover:bg-blue-50/50 p-1 rounded transition-colors",children:mt.jsxs("label",{className:"flex-1 cursor-pointer flex items-center text-[11px] text-slate-500 gap-2",children:[mt.jsx("input",{type:"checkbox",checked:te.includes(ce),onChange:()=>K(ce),className:"w-3.5 h-3.5 rounded text-blue-600 focus:ring-blue-500 border-gray-300"}),IA[ce]||ce]})},ce))})]},V)})})]})]})]})]}),mt.jsxs("div",{className:"flex-1 flex flex-col bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden min-h-[300px]",children:[mt.jsx("div",{className:"flex border-b border-slate-100 bg-slate-50",children:[{id:"START",label:" Code lve (Dpart)",color:"blue"},{id:"SOLUTION",label:" Solution Prof",color:"emerald"}].map(V=>mt.jsx("button",{onClick:()=>u(V.id),className:`
                        flex-1 py-2 text-xs font-bold uppercase tracking-wider transition-all
                        ${i===V.id?`text-${V.color}-600 bg-white border-t-2 border-${V.color}-500`:"text-slate-400 hover:text-slate-600 hover:bg-slate-100"}
                    `,children:V.label},V.id))}),mt.jsx("div",{className:`flex-1 relative ${i==="SOLUTION"?"bg-emerald-50/30":"bg-white"}`,children:mt.jsx("div",{className:"absolute inset-0 blockly-container-custom",children:mt.jsx(cg,{className:"blockly-div w-full h-full",toolboxConfiguration:w.xml,workspaceConfiguration:g,initialXml:i==="START"?t.startBlocks||"<xml></xml>":t.solutionBlocks||"<xml></xml>",onXmlChange:V=>{s(i==="START"?{...t,startBlocks:V}:{...t,solutionBlocks:V})},onInject:A},I)})})]})]}):mt.jsx("div",{className:"p-10 text-center text-slate-400 animate-pulse",children:"Chargement de l'diteur..."})}const T8=[{id:"MAZE",label:"Labyrinthe",icon:"",defaultBlocks:["maze_move_forward","maze_turn","maze_forever","maze_if"]},{id:"TURTLE",label:"Tortue",icon:"",defaultBlocks:["turtle_move","turtle_turn","turtle_pen","turtle_color","controls_repeat_ext"]},{id:"MATH",label:"Labo",icon:"",defaultBlocks:["variables_set","math_number","math_arithmetic","text_print"]},{id:"EQUATION",label:"quation",icon:"",defaultBlocks:["equation_op_both","math_number"]}],LA={MAZE:"",TURTLE:"",MATH:"",EQUATION:""};function DA(){const[t,s]=br.useState(()=>{const te=localStorage.getItem("blokaly_builder_autosave");if(te)try{return JSON.parse(te)}catch(Ce){console.error(Ce)}return{title:"Ma Nouvelle Campagne",levels:[{id:1,type:"MAZE",grid:Q0.defaultGrid,startPos:{x:1,y:1},maxBlocks:5,allowedBlocks:T8[0].defaultBlocks}]}}),[r,i]=br.useState(0),u=br.useRef(null),h=br.useRef(null),f=br.useRef(null);br.useEffect(()=>{localStorage.setItem("blokaly_builder_autosave",JSON.stringify(t))},[t]);const g=te=>{const Ce=[...t.levels];Ce[r]=te,s({...t,levels:Ce})},y=te=>{const Ce=t.levels[r];if(Ce.type===te)return;const Oe=T8.find(Be=>Be.id===te);let ce={};te==="MAZE"?ce={grid:Q0.defaultGrid,startPos:{x:1,y:1,dir:1},maxBlocks:10}:te==="TURTLE"?ce={startPos:{x:0,y:0,dir:0},maxBlocks:10,grid:void 0}:te==="MATH"?ce={maxBlocks:20,startPos:void 0}:te==="EQUATION"&&(ce={equation:{a:2,b:4,c:0,d:10,lhs:"2*x+4",rhs:"10"},maxBlocks:5}),confirm(`Passer en mode ${Oe.label} ? Cela rinitialisera ce niveau.`)&&g({...Ce,type:te,allowedBlocks:Oe.defaultBlocks,startBlocks:"<xml></xml>",solutionBlocks:"<xml></xml>",...ce})},$=(te,Ce)=>{u.current=Ce},T=(te,Ce)=>{h.current=Ce,te.preventDefault()},w=()=>{const te=u.current,Ce=h.current;if(te!==null&&Ce!==null&&te!==Ce){const Oe=[...t.levels],ce=Oe[te];Oe.splice(te,1),Oe.splice(Ce,0,ce),s({...t,levels:Oe}),i(Ce)}u.current=null,h.current=null},I=()=>{const te=T8[0],Ce={id:Date.now(),type:te.id,grid:Q0.defaultGrid,startPos:{x:1,y:1},maxBlocks:10,allowedBlocks:te.defaultBlocks};s({...t,levels:[...t.levels,Ce]}),i(t.levels.length)},A=te=>{const Ce={...JSON.parse(JSON.stringify(t.levels[te])),id:Date.now()},Oe=[...t.levels];Oe.splice(te+1,0,Ce),s({...t,levels:Oe}),i(te+1)},K=te=>{if(t.levels.length<=1)return alert("Impossible de supprimer le dernier niveau !");const Ce=t.levels.filter((Oe,ce)=>ce!==te);s({...t,levels:Ce}),te<=r&&i(Math.max(0,r-1))},ne=()=>{const te=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),Ce=document.createElement("a");Ce.href=URL.createObjectURL(te),Ce.download=`${t.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.blokaly.json`,Ce.click()},he=te=>{const Ce=te.target.files[0];if(!Ce)return;const Oe=new FileReader;Oe.onload=ce=>{try{const Be=JSON.parse(ce.target.result);if(!Be.levels||!Array.isArray(Be.levels))throw new Error("Format invalide (pas de niveaux)");confirm(`Charger la campagne "${Be.title||"Sans titre"}" ?`)&&(s(Be),i(0))}catch(Be){alert("Erreur lors du chargement : "+Be.message)}},Oe.readAsText(Ce),te.target.value=null},V=()=>{const te=new URL(window.location.href);te.search=`?data=${JT.compressToEncodedURIComponent(JSON.stringify(t))}&preview=1`,window.open(te.toString(),"_blank")},le=t.levels[r];return mt.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-50 font-sans",children:[mt.jsxs("div",{className:"w-64 bg-slate-900 text-white flex flex-col border-r border-slate-800 flex-shrink-0 z-20",children:[mt.jsxs("div",{className:"p-6 bg-slate-950 border-b border-slate-800",children:[mt.jsx("label",{className:"text-xs uppercase font-bold text-slate-500 tracking-wider mb-1 block",children:"Campagne"}),mt.jsx("input",{type:"text",value:t.title,onChange:te=>s({...t,title:te.target.value}),className:"bg-transparent border-none text-lg font-bold text-white w-full focus:ring-0 placeholder-slate-600 p-0",placeholder:"Titre..."})]}),mt.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-1",children:t.levels.map((te,Ce)=>mt.jsxs("div",{draggable:!0,onDragStart:Oe=>$(Oe,Ce),onDragEnter:Oe=>T(Oe,Ce),onDragEnd:w,onDragOver:Oe=>Oe.preventDefault(),onClick:()=>i(Ce),className:`group flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all border border-transparent ${Ce===r?"bg-blue-600 text-white shadow-md":"text-slate-400 hover:bg-slate-800"}`,children:[mt.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[mt.jsx("span",{className:"cursor-grab opacity-50",children:""}),mt.jsx("span",{className:"text-lg",children:LA[te.type]||""}),mt.jsxs("span",{className:"truncate text-sm font-medium",children:["Niveau ",Ce+1]})]}),mt.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100",children:[mt.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),A(Ce)},className:"p-1 hover:bg-white/20 rounded",title:"Dupliquer",children:""}),t.levels.length>1&&mt.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),K(Ce)},className:"p-1 hover:bg-red-500/20 text-red-400 rounded",title:"Supprimer",children:""})]})]},te.id))}),mt.jsxs("div",{className:"p-4 bg-slate-950 border-t border-slate-800 flex flex-col gap-2",children:[mt.jsxs("button",{onClick:I,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded font-bold text-xs flex justify-center gap-2",children:[mt.jsx("span",{children:"+"})," Nouveau Niveau"]}),mt.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[mt.jsx("button",{onClick:ne,className:"py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded text-xs transition-colors",children:" Export"}),mt.jsx("button",{onClick:()=>f.current.click(),className:"py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded text-xs transition-colors",children:" Import"})]}),mt.jsx("input",{type:"file",ref:f,className:"hidden",onChange:he,accept:".json"})]})]}),mt.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[mt.jsxs("div",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 shadow-sm z-10 shrink-0",children:[mt.jsxs("div",{className:"flex items-center gap-6",children:[mt.jsxs("h2",{className:"text-lg font-bold text-slate-700 whitespace-nowrap",children:["Niveau ",r+1]}),mt.jsx("div",{className:"flex bg-slate-100 p-1 rounded-lg border border-slate-200",children:T8.map(te=>{const Ce=le?.type===te.id;return mt.jsxs("button",{onClick:()=>y(te.id),className:`
                                flex items-center gap-2 px-3 py-1.5 rounded-md text-xs font-bold transition-all
                                ${Ce?"bg-white text-blue-600 shadow-sm ring-1 ring-black/5":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"}
                            `,children:[mt.jsx("span",{children:te.icon}),mt.jsx("span",{className:"hidden xl:inline",children:te.label})]},te.id)})})]}),mt.jsx("button",{onClick:V,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-bold text-xs shadow transition-all flex items-center gap-2",children:" TESTER"})]}),mt.jsx("div",{className:"flex-1 overflow-hidden p-6 bg-slate-50",children:le?mt.jsx(RA,{levelData:le,onUpdate:g},le.id):mt.jsx("div",{className:"flex h-full items-center justify-center text-slate-400",children:"Slectionnez un niveau..."})})]})]})}var i9={exports:{}},BA=i9.exports,Pb;function PA(){return Pb||(Pb=1,(function(t,s){(function(r,i){t.exports=i(x7())})(BA,function(r){var i=r.__namespace__,u=function(ve,Ye){return["[]",P.ATOMIC]},h=function(ve,Ye){const X=Array(ve.itemCount_);for(let we=0;we<ve.itemCount_;we++)X[we]=Ye.valueToCode(ve,"ADD"+we,P.NONE)||"None";return["["+X.join(", ")+"]",P.ATOMIC]},f=function(ve,Ye){const X=Ye.valueToCode(ve,"ITEM",P.NONE)||"None";return ve=Ye.valueToCode(ve,"NUM",P.MULTIPLICATIVE)||"0",["["+X+"] * "+ve,P.MULTIPLICATIVE]},g=function(ve,Ye){return["len("+(Ye.valueToCode(ve,"VALUE",P.NONE)||"[]")+")",P.FUNCTION_CALL]},y=function(ve,Ye){return["not len("+(Ye.valueToCode(ve,"VALUE",P.NONE)||"[]")+")",P.LOGICAL_NOT]},$=function(ve,Ye){const X=Ye.valueToCode(ve,"FIND",P.NONE)||"[]",we=Ye.valueToCode(ve,"VALUE",P.NONE)||"''";let tt=" -1",St="",Zt=" - 1";return ve.workspace.options.oneBasedIndex&&(tt=" 0",St=" + 1",Zt=""),[(ve.getFieldValue("END")==="FIRST"?Ye.provideFunction_("first_index",`
def ${Ye.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):
  try: index = my_list.index(elem)${St}
  except: index =${tt}
  return index
`):Ye.provideFunction_("last_index",`
def ${Ye.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):
  try: index = len(my_list) - my_list[::-1].index(elem)${Zt}
  except: index =${tt}
  return index
`))+"("+we+", "+X+")",P.FUNCTION_CALL]},T=function(ve,Ye){const X=ve.getFieldValue("MODE")||"GET",we=ve.getFieldValue("WHERE")||"FROM_START";var tt=Ye.valueToCode(ve,"VALUE",we==="RANDOM"?P.NONE:P.MEMBER)||"[]";switch(we){case"FIRST":if(X==="GET")return[tt+"[0]",P.MEMBER];if(X==="GET_REMOVE")return[tt+".pop(0)",P.FUNCTION_CALL];if(X==="REMOVE")return tt+`.pop(0)
`;break;case"LAST":if(X==="GET")return[tt+"[-1]",P.MEMBER];if(X==="GET_REMOVE")return[tt+".pop()",P.FUNCTION_CALL];if(X==="REMOVE")return tt+`.pop()
`;break;case"FROM_START":if(ve=Ye.getAdjustedInt(ve,"AT"),X==="GET")return[tt+"["+ve+"]",P.MEMBER];if(X==="GET_REMOVE")return[tt+".pop("+ve+")",P.FUNCTION_CALL];if(X==="REMOVE")return tt+".pop("+ve+`)
`;break;case"FROM_END":if(ve=Ye.getAdjustedInt(ve,"AT",1,!0),X==="GET")return[tt+"["+ve+"]",P.MEMBER];if(X==="GET_REMOVE")return[tt+".pop("+ve+")",P.FUNCTION_CALL];if(X==="REMOVE")return tt+".pop("+ve+`)
`;break;case"RANDOM":if(Ye.definitions_.import_random="import random",X==="GET")return["random.choice("+tt+")",P.FUNCTION_CALL];if(tt=Ye.provideFunction_("lists_remove_random_item",`
def ${Ye.FUNCTION_NAME_PLACEHOLDER_}(myList):
  x = int(random.random() * len(myList))
  return myList.pop(x)
`)+"("+tt+")",X==="GET_REMOVE")return[tt,P.FUNCTION_CALL];if(X==="REMOVE")return tt+`
`}throw Error("Unhandled combination (lists_getIndex).")},w=function(ve,Ye){let X=Ye.valueToCode(ve,"LIST",P.MEMBER)||"[]";const we=ve.getFieldValue("MODE")||"GET";var tt=ve.getFieldValue("WHERE")||"FROM_START";const St=Ye.valueToCode(ve,"TO",P.NONE)||"None";switch(tt){case"FIRST":if(we==="SET")return X+"[0] = "+St+`
`;if(we==="INSERT")return X+".insert(0, "+St+`)
`;break;case"LAST":if(we==="SET")return X+"[-1] = "+St+`
`;if(we==="INSERT")return X+".append("+St+`)
`;break;case"FROM_START":if(Ye=Ye.getAdjustedInt(ve,"AT"),we==="SET")return X+"["+Ye+"] = "+St+`
`;if(we==="INSERT")return X+".insert("+Ye+", "+St+`)
`;break;case"FROM_END":if(Ye=Ye.getAdjustedInt(ve,"AT",1,!0),we==="SET")return X+"["+Ye+"] = "+St+`
`;if(we==="INSERT")return X+".insert("+Ye+", "+St+`)
`;break;case"RANDOM":if(Ye.definitions_.import_random="import random",X.match(/^\w+$/)?ve="":(ve=Ye.nameDB_.getDistinctName("tmp_list",i.NameType$$module$build$src$core$names.VARIABLE),tt=ve+" = "+X+`
`,X=ve,ve=tt),Ye=Ye.nameDB_.getDistinctName("tmp_x",i.NameType$$module$build$src$core$names.VARIABLE),ve+=Ye+" = int(random.random() * len("+X+`))
`,we==="SET")return ve+(X+"["+Ye+"] = "+St+`
`);if(we==="INSERT")return ve+(X+".insert("+Ye+", "+St+`)
`)}throw Error("Unhandled combination (lists_setIndex).")},I=function(ve,Ye){const X=Ye.valueToCode(ve,"LIST",P.MEMBER)||"[]";var we=ve.getFieldValue("WHERE1");const tt=ve.getFieldValue("WHERE2");switch(we){case"FROM_START":we=Ye.getAdjustedInt(ve,"AT1"),we===0&&(we="");break;case"FROM_END":we=Ye.getAdjustedInt(ve,"AT1",1,!0);break;case"FIRST":we="";break;default:throw Error("Unhandled option (lists_getSublist)")}switch(tt){case"FROM_START":ve=Ye.getAdjustedInt(ve,"AT2",1);break;case"FROM_END":ve=Ye.getAdjustedInt(ve,"AT2",0,!0),i.isNumber$$module$build$src$core$utils$string(String(ve))?ve===0&&(ve=""):(Ye.definitions_.import_sys="import sys",ve+=" or sys.maxsize");break;case"LAST":ve="";break;default:throw Error("Unhandled option (lists_getSublist)")}return[X+"["+we+" : "+ve+"]",P.MEMBER]},A=function(ve,Ye){const X=Ye.valueToCode(ve,"LIST",P.NONE)||"[]",we=ve.getFieldValue("TYPE");return ve=ve.getFieldValue("DIRECTION")==="1"?"False":"True",[Ye.provideFunction_("lists_sort",`
def ${Ye.FUNCTION_NAME_PLACEHOLDER_}(my_list, type, reverse):
  def try_float(s):
    try:
      return float(s)
    except:
      return 0
  key_funcs = {
    "NUMERIC": try_float,
    "TEXT": str,
    "IGNORE_CASE": lambda s: str(s).lower()
  }
  key_func = key_funcs[type]
  list_cpy = list(my_list)
  return sorted(list_cpy, key=key_func, reverse=reverse)
`)+"("+X+', "'+we+'", '+ve+")",P.FUNCTION_CALL]},K=function(ve,Ye){var X=ve.getFieldValue("MODE");if(X==="SPLIT")X=Ye.valueToCode(ve,"INPUT",P.MEMBER)||"''",ve=Ye.valueToCode(ve,"DELIM",P.NONE),ve=X+".split("+ve+")";else if(X==="JOIN")X=Ye.valueToCode(ve,"INPUT",P.NONE)||"[]",ve=(Ye.valueToCode(ve,"DELIM",P.MEMBER)||"''")+".join("+X+")";else throw Error("Unknown mode: "+X);return[ve,P.FUNCTION_CALL]},ne=function(ve,Ye){return["list(reversed("+(Ye.valueToCode(ve,"LIST",P.NONE)||"[]")+"))",P.FUNCTION_CALL]},he=function(ve,Ye){let X=0,we="",tt,St;Ye.STATEMENT_PREFIX&&(we+=Ye.injectId(Ye.STATEMENT_PREFIX,ve));do St=Ye.valueToCode(ve,"IF"+X,P.NONE)||"False",tt=Ye.statementToCode(ve,"DO"+X)||Ye.PASS,Ye.STATEMENT_SUFFIX&&(tt=Ye.prefixLines(Ye.injectId(Ye.STATEMENT_SUFFIX,ve),Ye.INDENT)+tt),we+=(X===0?"if ":"elif ")+St+`:
`+tt,X++;while(ve.getInput("IF"+X));return(ve.getInput("ELSE")||Ye.STATEMENT_SUFFIX)&&(tt=ve.getInput("ELSE")&&Ye.statementToCode(ve,"ELSE")||Ye.PASS,Ye.STATEMENT_SUFFIX&&(tt=Ye.prefixLines(Ye.injectId(Ye.STATEMENT_SUFFIX,ve),Ye.INDENT)+tt),we+=`else:
`+tt),we},V=function(ve,Ye){const X={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[ve.getFieldValue("OP")],we=P.RELATIONAL,tt=Ye.valueToCode(ve,"A",we)||"0";return ve=Ye.valueToCode(ve,"B",we)||"0",[tt+" "+X+" "+ve,we]},le=function(ve,Ye){const X=ve.getFieldValue("OP")==="AND"?"and":"or",we=X==="and"?P.LOGICAL_AND:P.LOGICAL_OR;let tt=Ye.valueToCode(ve,"A",we);return ve=Ye.valueToCode(ve,"B",we),tt||ve?(Ye=X==="and"?"True":"False",tt||(tt=Ye),ve||(ve=Ye)):ve=tt="False",[tt+" "+X+" "+ve,we]},te=function(ve,Ye){return["not "+(Ye.valueToCode(ve,"BOOL",P.LOGICAL_NOT)||"True"),P.LOGICAL_NOT]},Ce=function(ve,Ye){return[ve.getFieldValue("BOOL")==="TRUE"?"True":"False",P.ATOMIC]},Oe=function(ve,Ye){return["None",P.ATOMIC]},ce=function(ve,Ye){const X=Ye.valueToCode(ve,"IF",P.CONDITIONAL)||"False",we=Ye.valueToCode(ve,"THEN",P.CONDITIONAL)||"None";return ve=Ye.valueToCode(ve,"ELSE",P.CONDITIONAL)||"None",[we+" if "+X+" else "+ve,P.CONDITIONAL]},Be=function(ve,Ye){let X;X=ve.getField("TIMES")?String(parseInt(ve.getFieldValue("TIMES"),10)):Ye.valueToCode(ve,"TIMES",P.NONE)||"0",X=i.isNumber$$module$build$src$core$utils$string(X)?parseInt(X,10):"int("+X+")";let we=Ye.statementToCode(ve,"DO");return we=Ye.addLoopTrap(we,ve)||Ye.PASS,"for "+Ye.nameDB_.getDistinctName("count",i.NameType$$module$build$src$core$names.VARIABLE)+" in range("+X+`):
`+we},je=function(ve,Ye){const X=ve.getFieldValue("MODE")==="UNTIL";let we=Ye.valueToCode(ve,"BOOL",X?P.LOGICAL_NOT:P.NONE)||"False",tt=Ye.statementToCode(ve,"DO");return tt=Ye.addLoopTrap(tt,ve)||Ye.PASS,X&&(we="not "+we),"while "+we+`:
`+tt},_e=function(ve,Ye){const X=Ye.getVariableName(ve.getFieldValue("VAR"));var we=Ye.valueToCode(ve,"FROM",P.NONE)||"0",tt=Ye.valueToCode(ve,"TO",P.NONE)||"0",St=Ye.valueToCode(ve,"BY",P.NONE)||"1";let Zt=Ye.statementToCode(ve,"DO");Zt=Ye.addLoopTrap(Zt,ve)||Ye.PASS;let $n="";ve=function(){return Ye.provideFunction_("upRange",`
def ${Ye.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):
  while start <= stop:
    yield start
    start += abs(step)
`)};const pn=function(){return Ye.provideFunction_("downRange",`
def ${Ye.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):
  while start >= stop:
    yield start
    start -= abs(step)
`)};if(i.isNumber$$module$build$src$core$utils$string(we)&&i.isNumber$$module$build$src$core$utils$string(tt)&&i.isNumber$$module$build$src$core$utils$string(St))we=Number(we),tt=Number(tt),St=Math.abs(Number(St)),we%1===0&&tt%1===0&&St%1===0?(we<=tt?(tt++,ve=we===0&&St===1?tt:we+", "+tt,St!==1&&(ve+=", "+St)):(tt--,ve=we+", "+tt+", -"+St),ve="range("+ve+")"):(ve=we<tt?ve():pn(),ve+="("+we+", "+tt+", "+St+")");else{const sr=function(wr,jn){return i.isNumber$$module$build$src$core$utils$string(wr)?wr=String(Number(wr)):wr.match(/^\w+$/)||(jn=Ye.nameDB_.getDistinctName(X+jn,i.NameType$$module$build$src$core$names.VARIABLE),$n+=jn+" = "+wr+`
`,wr=jn),wr};we=sr(we,"_start"),tt=sr(tt,"_end"),St=sr(St,"_inc"),typeof we=="number"&&typeof tt=="number"?(ve=we<tt?ve():pn(),ve+="("+we+", "+tt+", "+St+")"):ve="("+we+" <= "+tt+") and "+ve()+"("+we+", "+tt+", "+St+") or "+pn()+"("+we+", "+tt+", "+St+")"}return $n+="for "+X+" in "+ve+`:
`+Zt},b=function(ve,Ye){const X=Ye.getVariableName(ve.getFieldValue("VAR")),we=Ye.valueToCode(ve,"LIST",P.RELATIONAL)||"[]";let tt=Ye.statementToCode(ve,"DO");return tt=Ye.addLoopTrap(tt,ve)||Ye.PASS,"for "+X+" in "+we+`:
`+tt},O=function(ve,Ye){let X="";if(Ye.STATEMENT_PREFIX&&(X+=Ye.injectId(Ye.STATEMENT_PREFIX,ve)),Ye.STATEMENT_SUFFIX&&(X+=Ye.injectId(Ye.STATEMENT_SUFFIX,ve)),Ye.STATEMENT_PREFIX){const we=ve.getSurroundLoop();we&&!we.suppressPrefixSuffix&&(X+=Ye.injectId(Ye.STATEMENT_PREFIX,we))}switch(ve.getFieldValue("FLOW")){case"BREAK":return X+`break
`;case"CONTINUE":return X+`continue
`}throw Error("Unknown flow statement.")},N=function(ve,Ye){return ve=Number(ve.getFieldValue("NUM")),ve===1/0?['float("inf")',P.FUNCTION_CALL]:ve===-1/0?['-float("inf")',P.UNARY_SIGN]:[String(ve),ve<0?P.UNARY_SIGN:P.ATOMIC]},R=function(ve,Ye){var X={ADD:[" + ",P.ADDITIVE],MINUS:[" - ",P.ADDITIVE],MULTIPLY:[" * ",P.MULTIPLICATIVE],DIVIDE:[" / ",P.MULTIPLICATIVE],POWER:[" ** ",P.EXPONENTIATION]}[ve.getFieldValue("OP")];const we=X[0];X=X[1];const tt=Ye.valueToCode(ve,"A",X)||"0";return ve=Ye.valueToCode(ve,"B",X)||"0",[tt+we+ve,X]},B=function(ve,Ye){const X=ve.getFieldValue("OP");let we;if(X==="NEG")return we=Ye.valueToCode(ve,"NUM",P.UNARY_SIGN)||"0",["-"+we,P.UNARY_SIGN];switch(Ye.definitions_.import_math="import math",ve=X==="SIN"||X==="COS"||X==="TAN"?Ye.valueToCode(ve,"NUM",P.MULTIPLICATIVE)||"0":Ye.valueToCode(ve,"NUM",P.NONE)||"0",X){case"ABS":we="math.fabs("+ve+")";break;case"ROOT":we="math.sqrt("+ve+")";break;case"LN":we="math.log("+ve+")";break;case"LOG10":we="math.log10("+ve+")";break;case"EXP":we="math.exp("+ve+")";break;case"POW10":we="math.pow(10,"+ve+")";break;case"ROUND":we="round("+ve+")";break;case"ROUNDUP":we="math.ceil("+ve+")";break;case"ROUNDDOWN":we="math.floor("+ve+")";break;case"SIN":we="math.sin("+ve+" / 180.0 * math.pi)";break;case"COS":we="math.cos("+ve+" / 180.0 * math.pi)";break;case"TAN":we="math.tan("+ve+" / 180.0 * math.pi)"}if(we)return[we,P.FUNCTION_CALL];switch(X){case"ASIN":we="math.asin("+ve+") / math.pi * 180";break;case"ACOS":we="math.acos("+ve+") / math.pi * 180";break;case"ATAN":we="math.atan("+ve+") / math.pi * 180";break;default:throw Error("Unknown math operator: "+X)}return[we,P.MULTIPLICATIVE]},j=function(ve,Ye){const X={PI:["math.pi",P.MEMBER],E:["math.e",P.MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",P.MULTIPLICATIVE],SQRT2:["math.sqrt(2)",P.MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",P.MEMBER],INFINITY:["float('inf')",P.ATOMIC]};return ve=ve.getFieldValue("CONSTANT"),ve!=="INFINITY"&&(Ye.definitions_.import_math="import math"),X[ve]},J=function(ve,Ye){var X={EVEN:[" % 2 == 0",P.MULTIPLICATIVE,P.RELATIONAL],ODD:[" % 2 == 1",P.MULTIPLICATIVE,P.RELATIONAL],WHOLE:[" % 1 == 0",P.MULTIPLICATIVE,P.RELATIONAL],POSITIVE:[" > 0",P.RELATIONAL,P.RELATIONAL],NEGATIVE:[" < 0",P.RELATIONAL,P.RELATIONAL],DIVISIBLE_BY:[null,P.MULTIPLICATIVE,P.RELATIONAL],PRIME:[null,P.NONE,P.FUNCTION_CALL]};const we=ve.getFieldValue("PROPERTY"),[tt,St,Zt]=X[we];if(X=Ye.valueToCode(ve,"NUMBER_TO_CHECK",St)||"0",we==="PRIME")Ye.definitions_.import_math="import math",Ye.definitions_.from_numbers_import_Number="from numbers import Number",ve=Ye.provideFunction_("math_isPrime",`
def ${Ye.FUNCTION_NAME_PLACEHOLDER_}(n):
  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  # If n is not a number but a string, try parsing it.
  if not isinstance(n, Number):
    try:
      n = float(n)
    except:
      return False
  if n == 2 or n == 3:
    return True
  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.
  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:
    return False
  # Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for x in range(6, int(math.sqrt(n)) + 2, 6):
    if n % (x - 1) == 0 or n % (x + 1) == 0:
      return False
  return True
`)+"("+X+")";else if(we==="DIVISIBLE_BY"){if(ve=Ye.valueToCode(ve,"DIVISOR",P.MULTIPLICATIVE)||"0",ve==="0")return["False",P.ATOMIC];ve=X+" % "+ve+" == 0"}else ve=X+tt;return[ve,Zt]},fe=function(ve,Ye){Ye.definitions_.from_numbers_import_Number="from numbers import Number";const X=Ye.valueToCode(ve,"DELTA",P.ADDITIVE)||"0";return ve=Ye.getVariableName(ve.getFieldValue("VAR")),ve+" = ("+ve+" if isinstance("+ve+", Number) else 0) + "+X+`
`},Ne=function(ve,Ye){const X=ve.getFieldValue("OP");switch(ve=Ye.valueToCode(ve,"LIST",P.NONE)||"[]",X){case"SUM":Ye="sum("+ve+")";break;case"MIN":Ye="min("+ve+")";break;case"MAX":Ye="max("+ve+")";break;case"AVERAGE":Ye.definitions_.from_numbers_import_Number="from numbers import Number",Ye=Ye.provideFunction_("math_mean",`
def ${Ye.FUNCTION_NAME_PLACEHOLDER_}(myList):
  localList = [e for e in myList if isinstance(e, Number)]
  if not localList: return
  return float(sum(localList)) / len(localList)
`)+"("+ve+")";break;case"MEDIAN":Ye.definitions_.from_numbers_import_Number="from numbers import Number",Ye=Ye.provideFunction_("math_median",`
def ${Ye.FUNCTION_NAME_PLACEHOLDER_}(myList):
  localList = sorted([e for e in myList if isinstance(e, Number)])
  if not localList: return
  if len(localList) % 2 == 0:
    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0
  else:
    return localList[(len(localList) - 1) // 2]
`)+"("+ve+")";break;case"MODE":Ye=Ye.provideFunction_("math_modes",`
def ${Ye.FUNCTION_NAME_PLACEHOLDER_}(some_list):
  modes = []
  # Using a lists of [item, count] to keep count rather than dict
  # to avoid "unhashable" errors when the counted item is itself a list or dict.
  counts = []
  maxCount = 1
  for item in some_list:
    found = False
    for count in counts:
      if count[0] == item:
        count[1] += 1
        maxCount = max(maxCount, count[1])
        found = True
    if not found:
      counts.append([item, 1])
  for counted_item, item_count in counts:
    if item_count == maxCount:
      modes.append(counted_item)
  return modes
`)+"("+ve+")";break;case"STD_DEV":Ye.definitions_.import_math="import math",Ye=Ye.provideFunction_("math_standard_deviation",`
def ${Ye.FUNCTION_NAME_PLACEHOLDER_}(numbers):
  n = len(numbers)
  if n == 0: return
  mean = float(sum(numbers)) / n
  variance = sum((x - mean) ** 2 for x in numbers) / n
  return math.sqrt(variance)
`)+"("+ve+")";break;case"RANDOM":Ye.definitions_.import_random="import random",Ye="random.choice("+ve+")";break;default:throw Error("Unknown operator: "+X)}return[Ye,P.FUNCTION_CALL]},qe=function(ve,Ye){const X=Ye.valueToCode(ve,"DIVIDEND",P.MULTIPLICATIVE)||"0";return ve=Ye.valueToCode(ve,"DIVISOR",P.MULTIPLICATIVE)||"0",[X+" % "+ve,P.MULTIPLICATIVE]},de=function(ve,Ye){const X=Ye.valueToCode(ve,"VALUE",P.NONE)||"0",we=Ye.valueToCode(ve,"LOW",P.NONE)||"0";return ve=Ye.valueToCode(ve,"HIGH",P.NONE)||"float('inf')",["min(max("+X+", "+we+"), "+ve+")",P.FUNCTION_CALL]},xe=function(ve,Ye){Ye.definitions_.import_random="import random";const X=Ye.valueToCode(ve,"FROM",P.NONE)||"0";return ve=Ye.valueToCode(ve,"TO",P.NONE)||"0",["random.randint("+X+", "+ve+")",P.FUNCTION_CALL]},gt=function(ve,Ye){return Ye.definitions_.import_random="import random",["random.random()",P.FUNCTION_CALL]},ze=function(ve,Ye){Ye.definitions_.import_math="import math";const X=Ye.valueToCode(ve,"X",P.NONE)||"0";return["math.atan2("+(Ye.valueToCode(ve,"Y",P.NONE)||"0")+", "+X+") / math.pi * 180",P.MULTIPLICATIVE]},Ft=function(ve,Ye){var X=[],we=ve.workspace,tt=i.allUsedVarModels$$module$build$src$core$variables(we)||[];for(var St of tt)tt=St.getName(),ve.getVars().includes(tt)||X.push(Ye.getVariableName(tt));for(we=i.allDeveloperVariables$$module$build$src$core$variables(we),St=0;St<we.length;St++)X.push(Ye.nameDB_.getName(we[St],i.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));we=X.length?Ye.INDENT+"global "+X.join(", ")+`
`:"",X=Ye.getProcedureName(ve.getFieldValue("NAME")),St="",Ye.STATEMENT_PREFIX&&(St+=Ye.injectId(Ye.STATEMENT_PREFIX,ve)),Ye.STATEMENT_SUFFIX&&(St+=Ye.injectId(Ye.STATEMENT_SUFFIX,ve)),St&&(St=Ye.prefixLines(St,Ye.INDENT)),tt="",Ye.INFINITE_LOOP_TRAP&&(tt=Ye.prefixLines(Ye.injectId(Ye.INFINITE_LOOP_TRAP,ve),Ye.INDENT));let Zt="";ve.getInput("STACK")&&(Zt=Ye.statementToCode(ve,"STACK"));let $n="";ve.getInput("RETURN")&&($n=Ye.valueToCode(ve,"RETURN",P.NONE)||"");let pn="";Zt&&$n&&(pn=St),$n?$n=Ye.INDENT+"return "+$n+`
`:Zt||(Zt=Ye.PASS);const sr=[],wr=ve.getVars();for(let jn=0;jn<wr.length;jn++)sr[jn]=Ye.getVariableName(wr[jn]);return we="def "+X+"("+sr.join(", ")+`):
`+we+St+tt+Zt+pn+$n,we=Ye.scrub_(ve,we),Ye.definitions_["%"+X]=we,null},Ge=function(ve,Ye){const X=Ye.getProcedureName(ve.getFieldValue("NAME")),we=[],tt=ve.getVars();for(let St=0;St<tt.length;St++)we[St]=Ye.valueToCode(ve,"ARG"+St,P.NONE)||"None";return[X+"("+we.join(", ")+")",P.FUNCTION_CALL]},et=function(ve,Ye){return Ye.forBlock.procedures_callreturn(ve,Ye)[0]+`
`},Ct=function(ve,Ye){let X="if "+(Ye.valueToCode(ve,"CONDITION",P.NONE)||"False")+`:
`;return Ye.STATEMENT_SUFFIX&&(X+=Ye.prefixLines(Ye.injectId(Ye.STATEMENT_SUFFIX,ve),Ye.INDENT)),ve.hasReturnValue_?(ve=Ye.valueToCode(ve,"VALUE",P.NONE)||"None",X+=Ye.INDENT+"return "+ve+`
`):X+=Ye.INDENT+`return
`,X},nt=function(ve,Ye){return[Ye.quote_(ve.getFieldValue("TEXT")),P.ATOMIC]},yt=function(ve,Ye){switch(ve.itemCount_){case 0:return["''",P.ATOMIC];case 1:return ve=Ye.valueToCode(ve,"ADD0",P.NONE)||"''",Y(ve);case 2:var X=Ye.valueToCode(ve,"ADD0",P.NONE)||"''";return ve=Ye.valueToCode(ve,"ADD1",P.NONE)||"''",[Y(X)[0]+" + "+Y(ve)[0],P.ADDITIVE];default:X=[];for(let we=0;we<ve.itemCount_;we++)X[we]=Ye.valueToCode(ve,"ADD"+we,P.NONE)||"''";return ve=Ye.nameDB_.getDistinctName("x",i.NameType$$module$build$src$core$names.VARIABLE),["''.join([str("+ve+") for "+ve+" in ["+X.join(", ")+"]])",P.FUNCTION_CALL]}},Ut=function(ve,Ye){const X=Ye.getVariableName(ve.getFieldValue("VAR"));return ve=Ye.valueToCode(ve,"TEXT",P.NONE)||"''",X+" = str("+X+") + "+Y(ve)[0]+`
`},Ht=function(ve,Ye){return["len("+(Ye.valueToCode(ve,"VALUE",P.NONE)||"''")+")",P.FUNCTION_CALL]},Me=function(ve,Ye){return["not len("+(Ye.valueToCode(ve,"VALUE",P.NONE)||"''")+")",P.LOGICAL_NOT]},ut=function(ve,Ye){const X=ve.getFieldValue("END")==="FIRST"?"find":"rfind",we=Ye.valueToCode(ve,"FIND",P.NONE)||"''";return Ye=(Ye.valueToCode(ve,"VALUE",P.MEMBER)||"''")+"."+X+"("+we+")",ve.workspace.options.oneBasedIndex?[Ye+" + 1",P.ADDITIVE]:[Ye,P.FUNCTION_CALL]},en=function(ve,Ye){const X=ve.getFieldValue("WHERE")||"FROM_START",we=Ye.valueToCode(ve,"VALUE",X==="RANDOM"?P.NONE:P.MEMBER)||"''";switch(X){case"FIRST":return[we+"[0]",P.MEMBER];case"LAST":return[we+"[-1]",P.MEMBER];case"FROM_START":return ve=Ye.getAdjustedInt(ve,"AT"),[we+"["+ve+"]",P.MEMBER];case"FROM_END":return ve=Ye.getAdjustedInt(ve,"AT",1,!0),[we+"["+ve+"]",P.MEMBER];case"RANDOM":return Ye.definitions_.import_random="import random",[Ye.provideFunction_("text_random_letter",`
def ${Ye.FUNCTION_NAME_PLACEHOLDER_}(text):
  x = int(random.random() * len(text))
  return text[x]
`)+"("+we+")",P.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},nn=function(ve,Ye){var X=ve.getFieldValue("WHERE1");const we=ve.getFieldValue("WHERE2"),tt=Ye.valueToCode(ve,"STRING",P.MEMBER)||"''";switch(X){case"FROM_START":X=Ye.getAdjustedInt(ve,"AT1"),X===0&&(X="");break;case"FROM_END":X=Ye.getAdjustedInt(ve,"AT1",1,!0);break;case"FIRST":X="";break;default:throw Error("Unhandled option (text_getSubstring)")}switch(we){case"FROM_START":ve=Ye.getAdjustedInt(ve,"AT2",1);break;case"FROM_END":ve=Ye.getAdjustedInt(ve,"AT2",0,!0),i.isNumber$$module$build$src$core$utils$string(String(ve))?ve===0&&(ve=""):(Ye.definitions_.import_sys="import sys",ve+=" or sys.maxsize");break;case"LAST":ve="";break;default:throw Error("Unhandled option (text_getSubstring)")}return[tt+"["+X+" : "+ve+"]",P.MEMBER]},De=function(ve,Ye){const X={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[ve.getFieldValue("CASE")];return[(Ye.valueToCode(ve,"TEXT",P.MEMBER)||"''")+X,P.FUNCTION_CALL]},se=function(ve,Ye){const X={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[ve.getFieldValue("MODE")];return[(Ye.valueToCode(ve,"TEXT",P.MEMBER)||"''")+X,P.FUNCTION_CALL]},Ae=function(ve,Ye){return"print("+(Ye.valueToCode(ve,"TEXT",P.NONE)||"''")+`)
`},lt=function(ve,Ye){var X=Ye.provideFunction_("text_prompt",`
def ${Ye.FUNCTION_NAME_PLACEHOLDER_}(msg):
  try:
    return raw_input(msg)
  except NameError:
    return input(msg)
`);return Ye=ve.getField("TEXT")?Ye.quote_(ve.getFieldValue("TEXT")):Ye.valueToCode(ve,"TEXT",P.NONE)||"''",X=X+"("+Ye+")",ve.getFieldValue("TYPE")==="NUMBER"&&(X="float("+X+")"),[X,P.FUNCTION_CALL]},Qe=function(ve,Ye){const X=Ye.valueToCode(ve,"TEXT",P.MEMBER)||"''";return ve=Ye.valueToCode(ve,"SUB",P.NONE)||"''",[X+".count("+ve+")",P.FUNCTION_CALL]},Tt=function(ve,Ye){const X=Ye.valueToCode(ve,"TEXT",P.MEMBER)||"''",we=Ye.valueToCode(ve,"FROM",P.NONE)||"''";return ve=Ye.valueToCode(ve,"TO",P.NONE)||"''",[X+".replace("+we+", "+ve+")",P.MEMBER]},Et=function(ve,Ye){return[(Ye.valueToCode(ve,"TEXT",P.MEMBER)||"''")+"[::-1]",P.MEMBER]},Vt=function(ve,Ye){return[Ye.getVariableName(ve.getFieldValue("VAR")),P.ATOMIC]},rt=function(ve,Ye){const X=Ye.valueToCode(ve,"VALUE",P.NONE)||"0";return Ye.getVariableName(ve.getFieldValue("VAR"))+" = "+X+`
`},P;(function(ve){ve[ve.ATOMIC=0]="ATOMIC",ve[ve.COLLECTION=1]="COLLECTION",ve[ve.STRING_CONVERSION=1]="STRING_CONVERSION",ve[ve.MEMBER=2.1]="MEMBER",ve[ve.FUNCTION_CALL=2.2]="FUNCTION_CALL",ve[ve.EXPONENTIATION=3]="EXPONENTIATION",ve[ve.UNARY_SIGN=4]="UNARY_SIGN",ve[ve.BITWISE_NOT=4]="BITWISE_NOT",ve[ve.MULTIPLICATIVE=5]="MULTIPLICATIVE",ve[ve.ADDITIVE=6]="ADDITIVE",ve[ve.BITWISE_SHIFT=7]="BITWISE_SHIFT",ve[ve.BITWISE_AND=8]="BITWISE_AND",ve[ve.BITWISE_XOR=9]="BITWISE_XOR",ve[ve.BITWISE_OR=10]="BITWISE_OR",ve[ve.RELATIONAL=11]="RELATIONAL",ve[ve.LOGICAL_NOT=12]="LOGICAL_NOT",ve[ve.LOGICAL_AND=13]="LOGICAL_AND",ve[ve.LOGICAL_OR=14]="LOGICAL_OR",ve[ve.CONDITIONAL=15]="CONDITIONAL",ve[ve.LAMBDA=16]="LAMBDA",ve[ve.NONE=99]="NONE"})(P||(P={}));var Re=class extends i.CodeGenerator$$module$build$src$core$generator{constructor(ve="Python"){super(ve),this.ORDER_OVERRIDES=[[P.FUNCTION_CALL,P.MEMBER],[P.FUNCTION_CALL,P.FUNCTION_CALL],[P.MEMBER,P.MEMBER],[P.MEMBER,P.FUNCTION_CALL],[P.LOGICAL_NOT,P.LOGICAL_NOT],[P.LOGICAL_AND,P.LOGICAL_AND],[P.LOGICAL_OR,P.LOGICAL_OR]],this.PASS="",this.isInitialized=!1;for(const Ye in P)ve=P[Ye],typeof ve!="string"&&(this["ORDER_"+Ye]=ve);this.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip")}init(ve){super.init(ve),this.PASS=this.INDENT+`pass
`,this.nameDB_?this.nameDB_.reset():this.nameDB_=new i.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(ve.getVariableMap()),this.nameDB_.populateVariables(ve),this.nameDB_.populateProcedures(ve);const Ye=[];var X=i.allDeveloperVariables$$module$build$src$core$variables(ve);for(let we=0;we<X.length;we++)Ye.push(this.nameDB_.getName(X[we],i.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE)+" = None");for(ve=i.allUsedVarModels$$module$build$src$core$variables(ve),X=0;X<ve.length;X++)Ye.push(this.getVariableName(ve[X].getId())+" = None");this.definitions_.variables=Ye.join(`
`),this.isInitialized=!0}finish(ve){const Ye=[],X=[];for(let we in this.definitions_){const tt=this.definitions_[we];tt.match(/^(from\s+\S+\s+)?import\s+\S+/)?Ye.push(tt):X.push(tt)}return ve=super.finish(ve),this.isInitialized=!1,this.nameDB_.reset(),(Ye.join(`
`)+`

`+X.join(`

`)).replace(/\n\n+/g,`

`).replace(/\n*$/,`


`)+ve}scrubNakedValue(ve){return ve+`
`}quote_(ve){ve=ve.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`);let Ye="'";return ve.includes("'")&&(ve.includes('"')?ve=ve.replace(/'/g,"\\'"):Ye='"'),Ye+ve+Ye}multiline_quote_(ve){return ve.split(/\n/g).map(this.quote_).join(` + '\\n' + 
`)}scrub_(ve,Ye,X=!1){let we="";if(!ve.outputConnection||!ve.outputConnection.targetConnection){var tt=ve.getCommentText();tt&&(tt=i.wrap$$module$build$src$core$utils$string(tt,this.COMMENT_WRAP-3),we+=this.prefixLines(tt+`
`,"# "));for(let St=0;St<ve.inputList.length;St++)ve.inputList[St].type===i.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(tt=ve.inputList[St].connection.targetBlock())&&(tt=this.allNestedComments(tt))&&(we+=this.prefixLines(tt,"# "))}return ve=ve.nextConnection&&ve.nextConnection.targetBlock(),X=X?"":this.blockToCode(ve),we+Ye+X}getAdjustedInt(ve,Ye,X=0,we=!1){ve.workspace.options.oneBasedIndex&&X--;const tt=ve.workspace.options.oneBasedIndex?"1":"0";return ve=this.valueToCode(ve,Ye,X?P.ADDITIVE:P.NONE)||tt,i.isNumber$$module$build$src$core$utils$string(ve)?(ve=parseInt(ve,10)+X,we&&(ve=-ve)):(ve=X>0?"int("+ve+" + "+X+")":X<0?"int("+ve+" - "+-X+")":"int("+ve+")",we&&(ve="-"+ve)),ve}},ke={};ke.lists_create_empty=u,ke.lists_create_with=h,ke.lists_getIndex=T,ke.lists_getSublist=I,ke.lists_indexOf=$,ke.lists_isEmpty=y,ke.lists_length=g,ke.lists_repeat=f,ke.lists_reverse=ne,ke.lists_setIndex=w,ke.lists_sort=A,ke.lists_split=K;var ht={};ht.controls_if=he,ht.controls_ifelse=he,ht.logic_boolean=Ce,ht.logic_compare=V,ht.logic_negate=te,ht.logic_null=Oe,ht.logic_operation=le,ht.logic_ternary=ce;var Mt={};Mt.controls_flow_statements=O,Mt.controls_for=_e,Mt.controls_forEach=b,Mt.controls_repeat=Be,Mt.controls_repeat_ext=Be,Mt.controls_whileUntil=je;var Ot={};Ot.math_arithmetic=R,Ot.math_atan2=ze,Ot.math_change=fe,Ot.math_constant=j,Ot.math_constrain=de,Ot.math_modulo=qe,Ot.math_number=N,Ot.math_number_property=J,Ot.math_on_list=Ne,Ot.math_random_float=gt,Ot.math_random_int=xe,Ot.math_round=B,Ot.math_single=B,Ot.math_trig=B;var wt={};wt.procedures_callnoreturn=et,wt.procedures_callreturn=Ge,wt.procedures_defnoreturn=Ft,wt.procedures_defreturn=Ft,wt.procedures_ifreturn=Ct;var ft=/^\s*'([^']|\\')*'\s*$/,Y=function(ve){return ft.test(ve)?[ve,P.ATOMIC]:["str("+ve+")",P.FUNCTION_CALL]},Ee={};Ee.text=nt,Ee.text_append=Ut,Ee.text_changeCase=De,Ee.text_charAt=en,Ee.text_count=Qe,Ee.text_getSubstring=nn,Ee.text_indexOf=ut,Ee.text_isEmpty=Me,Ee.text_join=yt,Ee.text_length=Ht,Ee.text_print=Ae,Ee.text_prompt=lt,Ee.text_prompt_ext=lt,Ee.text_replace=Tt,Ee.text_reverse=Et,Ee.text_trim=se;var Je={};Je.variables_get=Vt,Je.variables_set=rt;var Fe={};Fe.variables_get_dynamic=Vt,Fe.variables_set_dynamic=rt;var Lt=new Re;Lt.addReservedWords("math,random,Number");var Bt=Object.assign({},ke,ht,Mt,Ot,wt,Ee,Je,Fe);for(const ve in Bt)Lt.forBlock[ve]=Bt[ve];var zt={};return zt.Order=P,zt.PythonGenerator=Re,zt.pythonGenerator=Lt,zt.__namespace__=i,zt})})(i9)),i9.exports}var FA=PA();const UA=Pl(FA),{Order:zee,PythonGenerator:Hee,pythonGenerator:$s}=UA,zA={position:"absolute",width:"100%",height:"100%",top:0,left:0,backgroundColor:"rgba(46, 204, 113, 0.5)",borderRadius:"50%",animation:"radarPing 0.5s ease-out forwards",zIndex:5},HA=`
@keyframes radarPing {
  0% { transform: scale(0.2); opacity: 0.8; }
  100% { transform: scale(1.5); opacity: 0; }
}
`;function VA({grid:t,playerPos:s,playerDir:r,lastAction:i}){const u=r*90+90,h=t.length,f=t[0].length,g=i&&i.type==="SCAN";let y=null;const $=T=>(T%4+4)%4;if(g)if(i.dir==="SELF")y={x:s.x,y:s.y};else{const T=$(r);let w=T;i.dir==="LEFT"&&(w=(T+3)%4),i.dir==="RIGHT"&&(w=(T+1)%4);let I=0,A=0;w===0&&(I=1),w===1&&(A=1),w===2&&(I=-1),w===3&&(A=-1),y={x:s.x+I,y:s.y+A}}return mt.jsxs("div",{style:E8.container,children:[mt.jsx("style",{children:HA}),mt.jsx("div",{style:{...E8.grid,gridTemplateColumns:`repeat(${f}, 1fr)`,aspectRatio:`${f} / ${h}`},children:t.map((T,w)=>T.map((I,A)=>{const K=s.x===A&&s.y===w,ne=y&&y.x===A&&y.y===w,he=`min(40px, ${60/Math.max(h,f)}vmin)`;return mt.jsxs("div",{style:E8.cell,children:[mt.jsx("span",{style:{zIndex:1,fontSize:he},children:Q0.THEME[I]||""}),K&&mt.jsx("div",{style:{...E8.player,transform:`rotate(${u}deg)`,fontSize:he},children:Q0.THEME.PLAYER}),ne&&mt.jsx("div",{style:zA},i._uid)]},`${w}-${A}`)}))})]})}const E8={container:{display:"flex",justifyContent:"center",alignItems:"center",background:"#2c3e50",padding:"10px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.3)",width:"100%",height:"100%",overflow:"hidden"},grid:{display:"grid",gap:"1px",backgroundColor:"#34495e",border:"4px solid #34495e",width:"auto",height:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"},cell:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",background:"#ecf0f1",overflow:"visible"},player:{position:"absolute",zIndex:10,transition:"transform 0.2s ease, top 0.2s ease, left 0.2s ease",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"}},iE={id:"MAZE",RenderComponent:VA,registerBlocks:(t,s)=>{},getToolboxXML:(t,s,r,i)=>C7(t,s,r,i),executeStep:(t,s,r)=>{const i=t||{x:r.startPos?.x||0,y:r.startPos?.y||1,dir:r.startPos?.dir!==void 0?r.startPos.dir:0};if(!s)return{newState:i,status:"RUNNING"};let{x:u,y:h,dir:f}=i,g="RUNNING";const y=typeof s=="object"&&s.type?s.type:s,$=T=>(T%4+4)%4;if(y==="MOVE"){let T=u,w=h;const I=$(f);I===0?T++:I===1?w++:I===2?T--:I===3&&w--;const A=Q0.checkMove(r.grid||Q0.defaultGrid,T,w);A==="OK"||A==="WIN"?(u=T,h=w,A==="WIN"&&(g="WIN")):g="LOST"}else y&&y.startsWith("TURN_")&&(f=y.split("_")[1]==="LEFT"?f-1:f+1);return{newState:{x:u,y:h,dir:f},status:g}}};function GA({state:t,history:s,hiddenVars:r}){const i=t?.variables||{},u=s||[],h=r||[],f=Object.entries(i).filter(([y])=>!h.includes(y)),g=({value:y})=>Array.isArray(y)?mt.jsxs("div",{style:{display:"flex",gap:"2px",marginTop:"5px"},children:[y.map(($,T)=>mt.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[mt.jsx("div",{style:{border:"1px solid #2c3e50",padding:"4px 8px",minWidth:"20px",textAlign:"center",background:"#fff",fontSize:"1.2rem",fontWeight:"bold"},children:$}),mt.jsx("div",{style:{fontSize:"0.6rem",color:"#7f8c8d"},children:T})]},T)),y.length===0&&mt.jsx("span",{style:{fontStyle:"italic",color:"#aaa"},children:"Vide []"})]}):mt.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#2c3e50"},children:y});return mt.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",padding:"10px",boxSizing:"border-box",gap:"15px",background:"#2c3e50"},children:[mt.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",justifyContent:"center",alignContent:"flex-start",minHeight:"130px"},children:[f.map(([y,$])=>{const T=Array.isArray($);return mt.jsxs("div",{style:{background:"white",borderRadius:"8px",minWidth:T?"160px":"100px",height:"auto",minHeight:"120px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",padding:"10px",boxShadow:"0 4px 0 #bdc3c7",animation:"popIn 0.3s"},children:[mt.jsx("div",{style:{fontWeight:"bold",color:"#7f8c8d",borderBottom:"2px solid #eee",width:"100%",textAlign:"center",marginBottom:"5px"},children:y}),mt.jsx(g,{value:$}),mt.jsx("div",{style:{fontSize:"0.6rem",color:"#ccc",textTransform:"uppercase",marginTop:"5px"},children:T?`LISTE (${$.length})`:typeof $})]},y)}),f.length===0&&mt.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontStyle:"italic",marginTop:"20px"},children:Object.keys(i).length>0?"Mmoire masque ":"Mmoire vide"})]}),mt.jsxs("div",{style:{flex:1,background:"#ecf0f1",borderRadius:"8px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[mt.jsx("div",{style:{padding:"8px 15px",background:"#bdc3c7",fontWeight:"bold",color:"#2c3e50",fontSize:"0.9rem",borderBottom:"1px solid #95a5a6"},children:">_ Terminal / Historique"}),mt.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"10px",fontFamily:"monospace",fontSize:"0.9rem",background:"#222",color:"#2ecc71"},children:[u.map((y,$)=>mt.jsxs("div",{style:{marginBottom:"4px"},children:[mt.jsxs("span",{style:{color:"#555",marginRight:"10px"},children:[$+1,"."]}),y]},$)),mt.jsx("div",{style:{animation:"blink 1s infinite",display:"inline-block"},children:""})]})]}),mt.jsx("style",{children:"@keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } } @keyframes blink { 50% { opacity: 0; } }"})]})}const qA=(t,s)=>{if(Array.isArray(t)||Array.isArray(s))return JSON.stringify(t)===JSON.stringify(s);const r=String(t).replace(",",".").trim(),i=String(s).replace(",",".").trim(),u=parseFloat(r),h=parseFloat(i);return!isNaN(u)&&!isNaN(h)&&r!==""&&i!==""?Math.abs(u-h)<1e-6:r===i},WA={id:"MATH",RenderComponent:GA,registerBlocks:()=>{},getToolboxXML:(t,s,r,i)=>C7(t,s,r,i),executeStep:(t,s,r)=>{const i=t||{variables:{...r.inputs},logs:[]};if(!s)return{newState:i,status:"RUNNING"};const u={...i.variables},h=[...i.logs],f=r.hiddenVars||[],g=r.lockedVars||[];if(s.type==="SET")if(f.includes(s.var)||g.includes(s.var))h.push(` ERREUR : ${s.var} est protge.`);else{console.log(`[MathPlugin] SET ${s.var} =`,s.val),u[s.var]=s.val;let y=s.val;Array.isArray(s.val)&&(y=JSON.stringify(s.val)),h.push(` ${s.var} <- ${y}`)}else s.type==="PRINT"&&h.push(` ${s.msg}`);return{newState:{variables:u,logs:h},status:"RUNNING"}},checkVictory:(t,s)=>{const r=s.targets||{},i=Object.keys(r),u=t?.variables||{};return i.length===0?!1:i.map(f=>{const g=u[f];let y=r[f];if(typeof y=="string"&&y.startsWith("@")){const $=y.substring(1);s.inputs&&s.inputs[$]!==void 0&&(y=s.inputs[$])}return qA(g,y)}).every(f=>f===!0)}},G2=400,q2=400;function jA({state:t,playerPos:s,playerDir:r,modelLines:i}){const u=br.useRef(null),h=br.useRef(null),f=t?.x!==void 0?t.x:s?.x,g=t?.y!==void 0?t.y:s?.y,y=t?.dir!==void 0?t.dir:r,$=Number.isFinite(Number(f))?Number(f):0,T=Number.isFinite(Number(g))?Number(g):0,w=Number.isFinite(Number(y))?Number(y):0,I=t?.lines||[],A=V=>G2/2+V,K=V=>q2/2-V,ne=(V,le,te=null)=>{V.clearRect(0,0,G2,q2),V.lineCap="round",V.lineJoin="round",le&&le.forEach(Ce=>{V.beginPath(),V.strokeStyle=te||Ce.color||"#2c3e50",V.lineWidth=te?4:Ce.width||2,te&&(V.globalAlpha=.3),V.moveTo(A(Ce.x1),K(Ce.y1)),V.lineTo(A(Ce.x2),K(Ce.y2)),V.stroke(),te&&(V.globalAlpha=1)})};br.useEffect(()=>{if(h.current&&i){const V=h.current.getContext("2d");ne(V,i,"#95a5a6")}},[i]),br.useEffect(()=>{if(u.current){const V=u.current.getContext("2d");ne(V,I)}},[I]);const he=w;return mt.jsxs("div",{style:{position:"relative",width:G2,height:q2,background:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[mt.jsxs("svg",{width:"100%",height:"100%",style:{position:"absolute",top:0,left:0,zIndex:1},children:[mt.jsx("defs",{children:mt.jsx("pattern",{id:"grid",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:mt.jsx("path",{d:"M 50 0 L 0 0 0 50",fill:"none",stroke:"#f4f4f4",strokeWidth:"1"})})}),mt.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),mt.jsx("line",{x1:G2/2,y1:"0",x2:G2/2,y2:q2,stroke:"#ddd",strokeWidth:"1"}),mt.jsx("line",{x1:"0",y1:q2/2,x2:G2,y2:q2/2,stroke:"#ddd",strokeWidth:"1"})]}),mt.jsx("canvas",{ref:h,width:G2,height:q2,style:{position:"absolute",top:0,left:0,zIndex:2,pointerEvents:"none"}}),mt.jsx("canvas",{ref:u,width:G2,height:q2,style:{position:"absolute",top:0,left:0,zIndex:3}}),mt.jsx("div",{style:{position:"absolute",left:A($),top:K(T),width:"40px",height:"40px",marginLeft:"-20px",marginTop:"-20px",transform:`rotate(${he}deg)`,transformOrigin:"center center",zIndex:4,transition:"all 0.1s linear",pointerEvents:"none"},children:mt.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[mt.jsx("circle",{cx:"20",cy:"20",r:"12",stroke:"#2c3e50",strokeWidth:"3",fill:"rgba(255,255,255,0.8)"}),mt.jsx("path",{d:"M 34 20 L 26 15 L 26 25 Z",fill:"#2c3e50"})]})})]})}const XA={id:"TURTLE",RenderComponent:jA,registerBlocks:()=>{},getToolboxXML:t=>C7(t,null,[],[]),executeStep:(t,s,r)=>{const i=t||{x:r.startPos?.x||0,y:r.startPos?.y||0,dir:r.startPos?.dir!==void 0?r.startPos.dir:0,penDown:!0,color:"#2c3e50",lines:[]};if(!s)return{newState:i,status:"RUNNING"};let{x:u,y:h,dir:f,penDown:g,color:y,lines:$}=i;const T=[...$];if(s.type==="MOVE"){const w=parseFloat(s.dist),I=f*(Math.PI/180),A=u+w*Math.cos(I),K=h-w*Math.sin(I);g&&T.push({x1:u,y1:h,x2:A,y2:K,color:y}),u=A,h=K}else s.type==="TURN"?f+=parseFloat(s.angle):s.type==="PEN"?g=s.state==="DOWN":s.type==="COLOR"&&(y=s.color);return{newState:{x:u,y:h,dir:f,penDown:g,color:y,lines:T},status:"RUNNING"}},checkVictory:(t,s,r)=>{if(!r||r.length===0)return!1;const i=t?.lines||[],u=400,h=400,f=document.createElement("canvas");f.width=u,f.height=h;const g=f.getContext("2d"),y=document.createElement("canvas");y.width=u,y.height=h;const $=y.getContext("2d"),T=(he,V)=>{he.lineWidth=6,he.lineCap="round",he.strokeStyle="#000",V.forEach(le=>{he.beginPath();const te=Oe=>u/2+Oe,Ce=Oe=>h/2-Oe;he.moveTo(te(le.x1),Ce(le.y1)),he.lineTo(te(le.x2),Ce(le.y2)),he.stroke()})};T(g,r),T($,i);const w=g.getImageData(0,0,u,h).data,I=$.getImageData(0,0,u,h).data;let A=0,K=0;for(let he=3;he<w.length;he+=4)w[he]>50&&(K++,I[he]<50&&A++);return 1-A/(K||1)>.85}};var n7={exports:{}},s9={exports:{}},YA=s9.exports,Fb;function KA(){return Fb||(Fb=1,(function(t,s){(function(i,u){t.exports=u()})(typeof self<"u"?self:YA,function(){return(function(){var r={};(function(){r.d=function(S,_){for(var C in _)r.o(_,C)&&!r.o(S,C)&&Object.defineProperty(S,C,{enumerable:!0,get:_[C]})}})(),(function(){r.o=function(S,_){return Object.prototype.hasOwnProperty.call(S,_)}})();var i={};r.d(i,{default:function(){return L0}});class u{constructor(_,C){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let G="KaTeX parse error: "+_,pe,Ie;const ot=C&&C.loc;if(ot&&ot.start<=ot.end){const Pt=ot.lexer.input;pe=ot.start,Ie=ot.end,pe===Pt.length?G+=" at end of input: ":G+=" at position "+(pe+1)+": ";const Jt=Pt.slice(pe,Ie).replace(/[^]/g,"$&");let vn;pe>15?vn=""+Pt.slice(pe-15,pe):vn=Pt.slice(0,pe);let wn;Ie+15<Pt.length?wn=Pt.slice(Ie,Ie+15)+"":wn=Pt.slice(Ie),G+=vn+Jt+wn}const kt=new Error(G);return kt.name="ParseError",kt.__proto__=u.prototype,kt.position=pe,pe!=null&&Ie!=null&&(kt.length=Ie-pe),kt.rawMessage=_,kt}}u.prototype.__proto__=Error.prototype;var h=u;const f=function(S,_){return S===void 0?_:S},g=/([A-Z])/g,y=function(S){return S.replace(g,"-$1").toLowerCase()},$={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},T=/[&><"']/g;function w(S){return String(S).replace(T,_=>$[_])}const I=function(S){return S.type==="ordgroup"||S.type==="color"?S.body.length===1?I(S.body[0]):S:S.type==="font"?I(S.body):S},A=function(S){const _=I(S);return _.type==="mathord"||_.type==="textord"||_.type==="atom"},K=function(S){if(!S)throw new Error("Expected non-null, but got "+String(S));return S};var he={deflt:f,escape:w,hyphenate:y,getBaseElem:I,isCharacterBox:A,protocolFromUrl:function(S){const _=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(S);return _?_[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(_[1])?null:_[1].toLowerCase():"_relative"}};const V={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:S=>"#"+S},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(S,_)=>(_.push(S),_)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:S=>Math.max(0,S),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:S=>Math.max(0,S),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:S=>Math.max(0,S),cli:"-e, --max-expand <n>",cliProcessor:S=>S==="Infinity"?1/0:parseInt(S)},globalGroup:{type:"boolean",cli:!1}};function le(S){if(S.default)return S.default;const _=S.type,C=Array.isArray(_)?_[0]:_;if(typeof C!="string")return C.enum[0];switch(C){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class te{constructor(_){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,_=_||{};for(const C in V)if(V.hasOwnProperty(C)){const G=V[C];this[C]=_[C]!==void 0?G.processor?G.processor(_[C]):_[C]:le(G)}}reportNonstrict(_,C,G){let pe=this.strict;if(typeof pe=="function"&&(pe=pe(_,C,G)),!(!pe||pe==="ignore")){if(pe===!0||pe==="error")throw new h("LaTeX-incompatible input and strict mode is set to 'error': "+(C+" ["+_+"]"),G);pe==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(C+" ["+_+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+pe+"': "+C+" ["+_+"]"))}}useStrictBehavior(_,C,G){let pe=this.strict;if(typeof pe=="function")try{pe=pe(_,C,G)}catch{pe="error"}return!pe||pe==="ignore"?!1:pe===!0||pe==="error"?!0:pe==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(C+" ["+_+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+pe+"': "+C+" ["+_+"]")),!1)}isTrusted(_){if(_.url&&!_.protocol){const G=he.protocolFromUrl(_.url);if(G==null)return!1;_.protocol=G}return!!(typeof this.trust=="function"?this.trust(_):this.trust)}}class Ce{constructor(_,C,G){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=_,this.size=C,this.cramped=G}sup(){return R[B[this.id]]}sub(){return R[j[this.id]]}fracNum(){return R[J[this.id]]}fracDen(){return R[fe[this.id]]}cramp(){return R[Ne[this.id]]}text(){return R[qe[this.id]]}isTight(){return this.size>=2}}const Oe=0,ce=1,Be=2,je=3,_e=4,b=5,O=6,N=7,R=[new Ce(Oe,0,!1),new Ce(ce,0,!0),new Ce(Be,1,!1),new Ce(je,1,!0),new Ce(_e,2,!1),new Ce(b,2,!0),new Ce(O,3,!1),new Ce(N,3,!0)],B=[_e,b,_e,b,O,N,O,N],j=[b,b,b,b,N,N,N,N],J=[Be,je,_e,b,O,N,O,N],fe=[je,je,b,b,N,N,N,N],Ne=[ce,ce,je,je,b,b,N,N],qe=[Oe,ce,Be,je,Be,je,Be,je];var de={DISPLAY:R[Oe],TEXT:R[Be],SCRIPT:R[_e],SCRIPTSCRIPT:R[O]};const xe=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function gt(S){for(let _=0;_<xe.length;_++){const C=xe[_];for(let G=0;G<C.blocks.length;G++){const pe=C.blocks[G];if(S>=pe[0]&&S<=pe[1])return C.name}}return null}const ze=[];xe.forEach(S=>S.blocks.forEach(_=>ze.push(..._)));function Ft(S){for(let _=0;_<ze.length;_+=2)if(S>=ze[_]&&S<=ze[_+1])return!0;return!1}const Ge=80,et=function(S,_){return"M95,"+(622+S+_)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+S/2.075+" -"+S+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+S)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+S)+" "+_+"h400000v"+(40+S)+"h-400000z"},Ct=function(S,_){return"M263,"+(601+S+_)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+S/2.084+" -"+S+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+S)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+S)+" "+_+"h400000v"+(40+S)+"h-400000z"},nt=function(S,_){return"M983 "+(10+S+_)+`
l`+S/3.13+" -"+S+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+S)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+S)+" "+_+"h400000v"+(40+S)+"h-400000z"},yt=function(S,_){return"M424,"+(2398+S+_)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+S/4.223+" -"+S+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+S)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+S)+" "+_+`
h400000v`+(40+S)+"h-400000z"},Ut=function(S,_){return"M473,"+(2713+S+_)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+S/5.298+" -"+S+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+S)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+S)+" "+_+"h400000v"+(40+S)+"H1017.7z"},Ht=function(S){const _=S/2;return"M400000 "+S+" H0 L"+_+" 0 l65 45 L145 "+(S-80)+" H400000z"},Me=function(S,_,C){const G=C-54-_-S;return"M702 "+(S+_)+"H400000"+(40+S)+`
H742v`+G+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+_+"H400000v"+(40+S)+"H742z"},ut=function(S,_,C){_=1e3*_;let G="";switch(S){case"sqrtMain":G=et(_,Ge);break;case"sqrtSize1":G=Ct(_,Ge);break;case"sqrtSize2":G=nt(_,Ge);break;case"sqrtSize3":G=yt(_,Ge);break;case"sqrtSize4":G=Ut(_,Ge);break;case"sqrtTall":G=Me(_,Ge,C)}return G},en=function(S,_){switch(S){case"":return"M291 0 H417 V"+_+" H291z M291 0 H417 V"+_+" H291z";case"":return"M145 0 H188 V"+_+" H145z M145 0 H188 V"+_+" H145z";case"":return"M145 0 H188 V"+_+" H145z M145 0 H188 V"+_+" H145z"+("M367 0 H410 V"+_+" H367z M367 0 H410 V"+_+" H367z");case"":return"M457 0 H583 V"+_+" H457z M457 0 H583 V"+_+" H457z";case"":return"M319 0 H403 V"+_+" H319z M319 0 H403 V"+_+" H319z";case"":return"M263 0 H347 V"+_+" H263z M263 0 H347 V"+_+" H263z";case"":return"M384 0 H504 V"+_+" H384z M384 0 H504 V"+_+" H384z";case"":return"M312 0 H355 V"+_+" H312z M312 0 H355 V"+_+" H312z";case"":return"M257 0 H300 V"+_+" H257z M257 0 H300 V"+_+" H257z"+("M478 0 H521 V"+_+" H478z M478 0 H521 V"+_+" H478z");default:return""}},nn={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},De=function(S,_){switch(S){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+_+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+_+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+_+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+_+" v1759 h84z";case"vert":return"M145 15 v585 v"+_+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-_+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+_+" v585 h43z";case"doublevert":return"M145 15 v585 v"+_+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-_+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+_+` v585 h43z
M367 15 v585 v`+_+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-_+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+_+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+_+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+_+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+_+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+_+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+_+` v602 h84z
M403 1759 V0 H319 V1759 v`+_+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+_+` v602 h84z
M347 1759 V0 h-84 V1759 v`+_+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(_+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(_+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(_+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(_+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};var se={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const Ae={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},lt={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function Qe(S,_){se[S]=_}function Tt(S,_,C){if(!se[_])throw new Error("Font metrics not found for font: "+_+".");let G=S.charCodeAt(0),pe=se[_][G];if(!pe&&S[0]in lt&&(G=lt[S[0]].charCodeAt(0),pe=se[_][G]),!pe&&C==="text"&&Ft(G)&&(pe=se[_][77]),pe)return{depth:pe[0],height:pe[1],italic:pe[2],skew:pe[3],width:pe[4]}}const Et={};function Vt(S){let _;if(S>=5?_=0:S>=3?_=1:_=2,!Et[_]){const C=Et[_]={cssEmPerMu:Ae.quad[_]/18};for(const G in Ae)Ae.hasOwnProperty(G)&&(C[G]=Ae[G][_])}return Et[_]}const rt=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],P=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Re=function(S,_){return _.size<2?S:rt[S-1][_.size-1]};class ke{constructor(_){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=_.style,this.color=_.color,this.size=_.size||ke.BASESIZE,this.textSize=_.textSize||this.size,this.phantom=!!_.phantom,this.font=_.font||"",this.fontFamily=_.fontFamily||"",this.fontWeight=_.fontWeight||"",this.fontShape=_.fontShape||"",this.sizeMultiplier=P[this.size-1],this.maxSize=_.maxSize,this.minRuleThickness=_.minRuleThickness,this._fontMetrics=void 0}extend(_){const C={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const G in _)_.hasOwnProperty(G)&&(C[G]=_[G]);return new ke(C)}havingStyle(_){return this.style===_?this:this.extend({style:_,size:Re(this.textSize,_)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(_){return this.size===_&&this.textSize===_?this:this.extend({style:this.style.text(),size:_,textSize:_,sizeMultiplier:P[_-1]})}havingBaseStyle(_){_=_||this.style.text();const C=Re(ke.BASESIZE,_);return this.size===C&&this.textSize===ke.BASESIZE&&this.style===_?this:this.extend({style:_,size:C})}havingBaseSizing(){let _;switch(this.style.id){case 4:case 5:_=3;break;case 6:case 7:_=1;break;default:_=6}return this.extend({style:this.style.text(),size:_})}withColor(_){return this.extend({color:_})}withPhantom(){return this.extend({phantom:!0})}withFont(_){return this.extend({font:_})}withTextFontFamily(_){return this.extend({fontFamily:_,font:""})}withTextFontWeight(_){return this.extend({fontWeight:_,font:""})}withTextFontShape(_){return this.extend({fontShape:_,font:""})}sizingClasses(_){return _.size!==this.size?["sizing","reset-size"+_.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==ke.BASESIZE?["sizing","reset-size"+this.size,"size"+ke.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Vt(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}ke.BASESIZE=6;var ht=ke;const Mt={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Ot={ex:!0,em:!0,mu:!0},wt=function(S){return typeof S!="string"&&(S=S.unit),S in Mt||S in Ot||S==="ex"},ft=function(S,_){let C;if(S.unit in Mt)C=Mt[S.unit]/_.fontMetrics().ptPerEm/_.sizeMultiplier;else if(S.unit==="mu")C=_.fontMetrics().cssEmPerMu;else{let G;if(_.style.isTight()?G=_.havingStyle(_.style.text()):G=_,S.unit==="ex")C=G.fontMetrics().xHeight;else if(S.unit==="em")C=G.fontMetrics().quad;else throw new h("Invalid unit: '"+S.unit+"'");G!==_&&(C*=G.sizeMultiplier/_.sizeMultiplier)}return Math.min(S.number*C,_.maxSize)},Y=function(S){return+S.toFixed(4)+"em"},Ee=function(S){return S.filter(_=>_).join(" ")},Je=function(S,_,C){if(this.classes=S||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=C||{},_){_.style.isTight()&&this.classes.push("mtight");const G=_.getColor();G&&(this.style.color=G)}},Fe=function(S){const _=document.createElement(S);_.className=Ee(this.classes);for(const C in this.style)this.style.hasOwnProperty(C)&&(_.style[C]=this.style[C]);for(const C in this.attributes)this.attributes.hasOwnProperty(C)&&_.setAttribute(C,this.attributes[C]);for(let C=0;C<this.children.length;C++)_.appendChild(this.children[C].toNode());return _},Lt=/[\s"'>/=\x00-\x1f]/,Bt=function(S){let _="<"+S;this.classes.length&&(_+=' class="'+he.escape(Ee(this.classes))+'"');let C="";for(const G in this.style)this.style.hasOwnProperty(G)&&(C+=he.hyphenate(G)+":"+this.style[G]+";");C&&(_+=' style="'+he.escape(C)+'"');for(const G in this.attributes)if(this.attributes.hasOwnProperty(G)){if(Lt.test(G))throw new h("Invalid attribute name '"+G+"'");_+=" "+G+'="'+he.escape(this.attributes[G])+'"'}_+=">";for(let G=0;G<this.children.length;G++)_+=this.children[G].toMarkup();return _+="</"+S+">",_};class zt{constructor(_,C,G,pe){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Je.call(this,_,G,pe),this.children=C||[]}setAttribute(_,C){this.attributes[_]=C}hasClass(_){return this.classes.includes(_)}toNode(){return Fe.call(this,"span")}toMarkup(){return Bt.call(this,"span")}}class ve{constructor(_,C,G,pe){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Je.call(this,C,pe),this.children=G||[],this.setAttribute("href",_)}setAttribute(_,C){this.attributes[_]=C}hasClass(_){return this.classes.includes(_)}toNode(){return Fe.call(this,"a")}toMarkup(){return Bt.call(this,"a")}}class Ye{constructor(_,C,G){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=C,this.src=_,this.classes=["mord"],this.style=G}hasClass(_){return this.classes.includes(_)}toNode(){const _=document.createElement("img");_.src=this.src,_.alt=this.alt,_.className="mord";for(const C in this.style)this.style.hasOwnProperty(C)&&(_.style[C]=this.style[C]);return _}toMarkup(){let _='<img src="'+he.escape(this.src)+'"'+(' alt="'+he.escape(this.alt)+'"'),C="";for(const G in this.style)this.style.hasOwnProperty(G)&&(C+=he.hyphenate(G)+":"+this.style[G]+";");return C&&(_+=' style="'+he.escape(C)+'"'),_+="'/>",_}}const X={:"",:"",:"",:""};class we{constructor(_,C,G,pe,Ie,ot,kt,Pt){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=_,this.height=C||0,this.depth=G||0,this.italic=pe||0,this.skew=Ie||0,this.width=ot||0,this.classes=kt||[],this.style=Pt||{},this.maxFontSize=0;const Jt=gt(this.text.charCodeAt(0));Jt&&this.classes.push(Jt+"_fallback"),/[]/.test(this.text)&&(this.text=X[this.text])}hasClass(_){return this.classes.includes(_)}toNode(){const _=document.createTextNode(this.text);let C=null;this.italic>0&&(C=document.createElement("span"),C.style.marginRight=Y(this.italic)),this.classes.length>0&&(C=C||document.createElement("span"),C.className=Ee(this.classes));for(const G in this.style)this.style.hasOwnProperty(G)&&(C=C||document.createElement("span"),C.style[G]=this.style[G]);return C?(C.appendChild(_),C):_}toMarkup(){let _=!1,C="<span";this.classes.length&&(_=!0,C+=' class="',C+=he.escape(Ee(this.classes)),C+='"');let G="";this.italic>0&&(G+="margin-right:"+this.italic+"em;");for(const Ie in this.style)this.style.hasOwnProperty(Ie)&&(G+=he.hyphenate(Ie)+":"+this.style[Ie]+";");G&&(_=!0,C+=' style="'+he.escape(G)+'"');const pe=he.escape(this.text);return _?(C+=">",C+=pe,C+="</span>",C):pe}}class tt{constructor(_,C){this.children=void 0,this.attributes=void 0,this.children=_||[],this.attributes=C||{}}toNode(){const C=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const G in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,G)&&C.setAttribute(G,this.attributes[G]);for(let G=0;G<this.children.length;G++)C.appendChild(this.children[G].toNode());return C}toMarkup(){let _='<svg xmlns="http://www.w3.org/2000/svg"';for(const C in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,C)&&(_+=" "+C+'="'+he.escape(this.attributes[C])+'"');_+=">";for(let C=0;C<this.children.length;C++)_+=this.children[C].toMarkup();return _+="</svg>",_}}class St{constructor(_,C){this.pathName=void 0,this.alternate=void 0,this.pathName=_,this.alternate=C}toNode(){const C=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?C.setAttribute("d",this.alternate):C.setAttribute("d",nn[this.pathName]),C}toMarkup(){return this.alternate?'<path d="'+he.escape(this.alternate)+'"/>':'<path d="'+he.escape(nn[this.pathName])+'"/>'}}class Zt{constructor(_){this.attributes=void 0,this.attributes=_||{}}toNode(){const C=document.createElementNS("http://www.w3.org/2000/svg","line");for(const G in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,G)&&C.setAttribute(G,this.attributes[G]);return C}toMarkup(){let _="<line";for(const C in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,C)&&(_+=" "+C+'="'+he.escape(this.attributes[C])+'"');return _+="/>",_}}function $n(S){if(S instanceof we)return S;throw new Error("Expected symbolNode but got "+String(S)+".")}function pn(S){if(S instanceof zt)return S;throw new Error("Expected span<HtmlDomNode> but got "+String(S)+".")}const sr={bin:1,close:1,inner:1,open:1,punct:1,rel:1},wr={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},jn={math:{},text:{}};var En=jn;function re(S,_,C,G,pe,Ie){jn[S][pe]={font:_,group:C,replace:G},Ie&&G&&(jn[S][G]=jn[S][pe])}const Te="math",gn="text",F="main",ie="ams",x="accent-token",W="bin",ae="close",q="inner",ge="mathord",be="op-token",Le="open",st="punct",$e="rel",$t="spacing",Ue="textord";re(Te,F,$e,"","\\equiv",!0),re(Te,F,$e,"","\\prec",!0),re(Te,F,$e,"","\\succ",!0),re(Te,F,$e,"","\\sim",!0),re(Te,F,$e,"","\\perp"),re(Te,F,$e,"","\\preceq",!0),re(Te,F,$e,"","\\succeq",!0),re(Te,F,$e,"","\\simeq",!0),re(Te,F,$e,"","\\mid",!0),re(Te,F,$e,"","\\ll",!0),re(Te,F,$e,"","\\gg",!0),re(Te,F,$e,"","\\asymp",!0),re(Te,F,$e,"","\\parallel"),re(Te,F,$e,"","\\bowtie",!0),re(Te,F,$e,"","\\smile",!0),re(Te,F,$e,"","\\sqsubseteq",!0),re(Te,F,$e,"","\\sqsupseteq",!0),re(Te,F,$e,"","\\doteq",!0),re(Te,F,$e,"","\\frown",!0),re(Te,F,$e,"","\\ni",!0),re(Te,F,$e,"","\\propto",!0),re(Te,F,$e,"","\\vdash",!0),re(Te,F,$e,"","\\dashv",!0),re(Te,F,$e,"","\\owns"),re(Te,F,st,".","\\ldotp"),re(Te,F,st,"","\\cdotp"),re(Te,F,Ue,"#","\\#"),re(gn,F,Ue,"#","\\#"),re(Te,F,Ue,"&","\\&"),re(gn,F,Ue,"&","\\&"),re(Te,F,Ue,"","\\aleph",!0),re(Te,F,Ue,"","\\forall",!0),re(Te,F,Ue,"","\\hbar",!0),re(Te,F,Ue,"","\\exists",!0),re(Te,F,Ue,"","\\nabla",!0),re(Te,F,Ue,"","\\flat",!0),re(Te,F,Ue,"","\\ell",!0),re(Te,F,Ue,"","\\natural",!0),re(Te,F,Ue,"","\\clubsuit",!0),re(Te,F,Ue,"","\\wp",!0),re(Te,F,Ue,"","\\sharp",!0),re(Te,F,Ue,"","\\diamondsuit",!0),re(Te,F,Ue,"","\\Re",!0),re(Te,F,Ue,"","\\heartsuit",!0),re(Te,F,Ue,"","\\Im",!0),re(Te,F,Ue,"","\\spadesuit",!0),re(Te,F,Ue,"","\\S",!0),re(gn,F,Ue,"","\\S"),re(Te,F,Ue,"","\\P",!0),re(gn,F,Ue,"","\\P"),re(Te,F,Ue,"","\\dag"),re(gn,F,Ue,"","\\dag"),re(gn,F,Ue,"","\\textdagger"),re(Te,F,Ue,"","\\ddag"),re(gn,F,Ue,"","\\ddag"),re(gn,F,Ue,"","\\textdaggerdbl"),re(Te,F,ae,"","\\rmoustache",!0),re(Te,F,Le,"","\\lmoustache",!0),re(Te,F,ae,"","\\rgroup",!0),re(Te,F,Le,"","\\lgroup",!0),re(Te,F,W,"","\\mp",!0),re(Te,F,W,"","\\ominus",!0),re(Te,F,W,"","\\uplus",!0),re(Te,F,W,"","\\sqcap",!0),re(Te,F,W,"","\\ast"),re(Te,F,W,"","\\sqcup",!0),re(Te,F,W,"","\\bigcirc",!0),re(Te,F,W,"","\\bullet",!0),re(Te,F,W,"","\\ddagger"),re(Te,F,W,"","\\wr",!0),re(Te,F,W,"","\\amalg"),re(Te,F,W,"&","\\And"),re(Te,F,$e,"","\\longleftarrow",!0),re(Te,F,$e,"","\\Leftarrow",!0),re(Te,F,$e,"","\\Longleftarrow",!0),re(Te,F,$e,"","\\longrightarrow",!0),re(Te,F,$e,"","\\Rightarrow",!0),re(Te,F,$e,"","\\Longrightarrow",!0),re(Te,F,$e,"","\\leftrightarrow",!0),re(Te,F,$e,"","\\longleftrightarrow",!0),re(Te,F,$e,"","\\Leftrightarrow",!0),re(Te,F,$e,"","\\Longleftrightarrow",!0),re(Te,F,$e,"","\\mapsto",!0),re(Te,F,$e,"","\\longmapsto",!0),re(Te,F,$e,"","\\nearrow",!0),re(Te,F,$e,"","\\hookleftarrow",!0),re(Te,F,$e,"","\\hookrightarrow",!0),re(Te,F,$e,"","\\searrow",!0),re(Te,F,$e,"","\\leftharpoonup",!0),re(Te,F,$e,"","\\rightharpoonup",!0),re(Te,F,$e,"","\\swarrow",!0),re(Te,F,$e,"","\\leftharpoondown",!0),re(Te,F,$e,"","\\rightharpoondown",!0),re(Te,F,$e,"","\\nwarrow",!0),re(Te,F,$e,"","\\rightleftharpoons",!0),re(Te,ie,$e,"","\\nless",!0),re(Te,ie,$e,"","\\@nleqslant"),re(Te,ie,$e,"","\\@nleqq"),re(Te,ie,$e,"","\\lneq",!0),re(Te,ie,$e,"","\\lneqq",!0),re(Te,ie,$e,"","\\@lvertneqq"),re(Te,ie,$e,"","\\lnsim",!0),re(Te,ie,$e,"","\\lnapprox",!0),re(Te,ie,$e,"","\\nprec",!0),re(Te,ie,$e,"","\\npreceq",!0),re(Te,ie,$e,"","\\precnsim",!0),re(Te,ie,$e,"","\\precnapprox",!0),re(Te,ie,$e,"","\\nsim",!0),re(Te,ie,$e,"","\\@nshortmid"),re(Te,ie,$e,"","\\nmid",!0),re(Te,ie,$e,"","\\nvdash",!0),re(Te,ie,$e,"","\\nvDash",!0),re(Te,ie,$e,"","\\ntriangleleft"),re(Te,ie,$e,"","\\ntrianglelefteq",!0),re(Te,ie,$e,"","\\subsetneq",!0),re(Te,ie,$e,"","\\@varsubsetneq"),re(Te,ie,$e,"","\\subsetneqq",!0),re(Te,ie,$e,"","\\@varsubsetneqq"),re(Te,ie,$e,"","\\ngtr",!0),re(Te,ie,$e,"","\\@ngeqslant"),re(Te,ie,$e,"","\\@ngeqq"),re(Te,ie,$e,"","\\gneq",!0),re(Te,ie,$e,"","\\gneqq",!0),re(Te,ie,$e,"","\\@gvertneqq"),re(Te,ie,$e,"","\\gnsim",!0),re(Te,ie,$e,"","\\gnapprox",!0),re(Te,ie,$e,"","\\nsucc",!0),re(Te,ie,$e,"","\\nsucceq",!0),re(Te,ie,$e,"","\\succnsim",!0),re(Te,ie,$e,"","\\succnapprox",!0),re(Te,ie,$e,"","\\ncong",!0),re(Te,ie,$e,"","\\@nshortparallel"),re(Te,ie,$e,"","\\nparallel",!0),re(Te,ie,$e,"","\\nVDash",!0),re(Te,ie,$e,"","\\ntriangleright"),re(Te,ie,$e,"","\\ntrianglerighteq",!0),re(Te,ie,$e,"","\\@nsupseteqq"),re(Te,ie,$e,"","\\supsetneq",!0),re(Te,ie,$e,"","\\@varsupsetneq"),re(Te,ie,$e,"","\\supsetneqq",!0),re(Te,ie,$e,"","\\@varsupsetneqq"),re(Te,ie,$e,"","\\nVdash",!0),re(Te,ie,$e,"","\\precneqq",!0),re(Te,ie,$e,"","\\succneqq",!0),re(Te,ie,$e,"","\\@nsubseteqq"),re(Te,ie,W,"","\\unlhd"),re(Te,ie,W,"","\\unrhd"),re(Te,ie,$e,"","\\nleftarrow",!0),re(Te,ie,$e,"","\\nrightarrow",!0),re(Te,ie,$e,"","\\nLeftarrow",!0),re(Te,ie,$e,"","\\nRightarrow",!0),re(Te,ie,$e,"","\\nleftrightarrow",!0),re(Te,ie,$e,"","\\nLeftrightarrow",!0),re(Te,ie,$e,"","\\vartriangle"),re(Te,ie,Ue,"","\\hslash"),re(Te,ie,Ue,"","\\triangledown"),re(Te,ie,Ue,"","\\lozenge"),re(Te,ie,Ue,"","\\circledS"),re(Te,ie,Ue,"","\\circledR"),re(gn,ie,Ue,"","\\circledR"),re(Te,ie,Ue,"","\\measuredangle",!0),re(Te,ie,Ue,"","\\nexists"),re(Te,ie,Ue,"","\\mho"),re(Te,ie,Ue,"","\\Finv",!0),re(Te,ie,Ue,"","\\Game",!0),re(Te,ie,Ue,"","\\backprime"),re(Te,ie,Ue,"","\\blacktriangle"),re(Te,ie,Ue,"","\\blacktriangledown"),re(Te,ie,Ue,"","\\blacksquare"),re(Te,ie,Ue,"","\\blacklozenge"),re(Te,ie,Ue,"","\\bigstar"),re(Te,ie,Ue,"","\\sphericalangle",!0),re(Te,ie,Ue,"","\\complement",!0),re(Te,ie,Ue,"","\\eth",!0),re(gn,F,Ue,"",""),re(Te,ie,Ue,"","\\diagup"),re(Te,ie,Ue,"","\\diagdown"),re(Te,ie,Ue,"","\\square"),re(Te,ie,Ue,"","\\Box"),re(Te,ie,Ue,"","\\Diamond"),re(Te,ie,Ue,"","\\yen",!0),re(gn,ie,Ue,"","\\yen",!0),re(Te,ie,Ue,"","\\checkmark",!0),re(gn,ie,Ue,"","\\checkmark"),re(Te,ie,Ue,"","\\beth",!0),re(Te,ie,Ue,"","\\daleth",!0),re(Te,ie,Ue,"","\\gimel",!0),re(Te,ie,Ue,"","\\digamma",!0),re(Te,ie,Ue,"","\\varkappa"),re(Te,ie,Le,"","\\@ulcorner",!0),re(Te,ie,ae,"","\\@urcorner",!0),re(Te,ie,Le,"","\\@llcorner",!0),re(Te,ie,ae,"","\\@lrcorner",!0),re(Te,ie,$e,"","\\leqq",!0),re(Te,ie,$e,"","\\leqslant",!0),re(Te,ie,$e,"","\\eqslantless",!0),re(Te,ie,$e,"","\\lesssim",!0),re(Te,ie,$e,"","\\lessapprox",!0),re(Te,ie,$e,"","\\approxeq",!0),re(Te,ie,W,"","\\lessdot"),re(Te,ie,$e,"","\\lll",!0),re(Te,ie,$e,"","\\lessgtr",!0),re(Te,ie,$e,"","\\lesseqgtr",!0),re(Te,ie,$e,"","\\lesseqqgtr",!0),re(Te,ie,$e,"","\\doteqdot"),re(Te,ie,$e,"","\\risingdotseq",!0),re(Te,ie,$e,"","\\fallingdotseq",!0),re(Te,ie,$e,"","\\backsim",!0),re(Te,ie,$e,"","\\backsimeq",!0),re(Te,ie,$e,"","\\subseteqq",!0),re(Te,ie,$e,"","\\Subset",!0),re(Te,ie,$e,"","\\sqsubset",!0),re(Te,ie,$e,"","\\preccurlyeq",!0),re(Te,ie,$e,"","\\curlyeqprec",!0),re(Te,ie,$e,"","\\precsim",!0),re(Te,ie,$e,"","\\precapprox",!0),re(Te,ie,$e,"","\\vartriangleleft"),re(Te,ie,$e,"","\\trianglelefteq"),re(Te,ie,$e,"","\\vDash",!0),re(Te,ie,$e,"","\\Vvdash",!0),re(Te,ie,$e,"","\\smallsmile"),re(Te,ie,$e,"","\\smallfrown"),re(Te,ie,$e,"","\\bumpeq",!0),re(Te,ie,$e,"","\\Bumpeq",!0),re(Te,ie,$e,"","\\geqq",!0),re(Te,ie,$e,"","\\geqslant",!0),re(Te,ie,$e,"","\\eqslantgtr",!0),re(Te,ie,$e,"","\\gtrsim",!0),re(Te,ie,$e,"","\\gtrapprox",!0),re(Te,ie,W,"","\\gtrdot"),re(Te,ie,$e,"","\\ggg",!0),re(Te,ie,$e,"","\\gtrless",!0),re(Te,ie,$e,"","\\gtreqless",!0),re(Te,ie,$e,"","\\gtreqqless",!0),re(Te,ie,$e,"","\\eqcirc",!0),re(Te,ie,$e,"","\\circeq",!0),re(Te,ie,$e,"","\\triangleq",!0),re(Te,ie,$e,"","\\thicksim"),re(Te,ie,$e,"","\\thickapprox"),re(Te,ie,$e,"","\\supseteqq",!0),re(Te,ie,$e,"","\\Supset",!0),re(Te,ie,$e,"","\\sqsupset",!0),re(Te,ie,$e,"","\\succcurlyeq",!0),re(Te,ie,$e,"","\\curlyeqsucc",!0),re(Te,ie,$e,"","\\succsim",!0),re(Te,ie,$e,"","\\succapprox",!0),re(Te,ie,$e,"","\\vartriangleright"),re(Te,ie,$e,"","\\trianglerighteq"),re(Te,ie,$e,"","\\Vdash",!0),re(Te,ie,$e,"","\\shortmid"),re(Te,ie,$e,"","\\shortparallel"),re(Te,ie,$e,"","\\between",!0),re(Te,ie,$e,"","\\pitchfork",!0),re(Te,ie,$e,"","\\varpropto"),re(Te,ie,$e,"","\\blacktriangleleft"),re(Te,ie,$e,"","\\therefore",!0),re(Te,ie,$e,"","\\backepsilon"),re(Te,ie,$e,"","\\blacktriangleright"),re(Te,ie,$e,"","\\because",!0),re(Te,ie,$e,"","\\llless"),re(Te,ie,$e,"","\\gggtr"),re(Te,ie,W,"","\\lhd"),re(Te,ie,W,"","\\rhd"),re(Te,ie,$e,"","\\eqsim",!0),re(Te,F,$e,"","\\Join"),re(Te,ie,$e,"","\\Doteq",!0),re(Te,ie,W,"","\\dotplus",!0),re(Te,ie,W,"","\\smallsetminus"),re(Te,ie,W,"","\\Cap",!0),re(Te,ie,W,"","\\Cup",!0),re(Te,ie,W,"","\\doublebarwedge",!0),re(Te,ie,W,"","\\boxminus",!0),re(Te,ie,W,"","\\boxplus",!0),re(Te,ie,W,"","\\divideontimes",!0),re(Te,ie,W,"","\\ltimes",!0),re(Te,ie,W,"","\\rtimes",!0),re(Te,ie,W,"","\\leftthreetimes",!0),re(Te,ie,W,"","\\rightthreetimes",!0),re(Te,ie,W,"","\\curlywedge",!0),re(Te,ie,W,"","\\curlyvee",!0),re(Te,ie,W,"","\\circleddash",!0),re(Te,ie,W,"","\\circledast",!0),re(Te,ie,W,"","\\centerdot"),re(Te,ie,W,"","\\intercal",!0),re(Te,ie,W,"","\\doublecap"),re(Te,ie,W,"","\\doublecup"),re(Te,ie,W,"","\\boxtimes",!0),re(Te,ie,$e,"","\\dashrightarrow",!0),re(Te,ie,$e,"","\\dashleftarrow",!0),re(Te,ie,$e,"","\\leftleftarrows",!0),re(Te,ie,$e,"","\\leftrightarrows",!0),re(Te,ie,$e,"","\\Lleftarrow",!0),re(Te,ie,$e,"","\\twoheadleftarrow",!0),re(Te,ie,$e,"","\\leftarrowtail",!0),re(Te,ie,$e,"","\\looparrowleft",!0),re(Te,ie,$e,"","\\leftrightharpoons",!0),re(Te,ie,$e,"","\\curvearrowleft",!0),re(Te,ie,$e,"","\\circlearrowleft",!0),re(Te,ie,$e,"","\\Lsh",!0),re(Te,ie,$e,"","\\upuparrows",!0),re(Te,ie,$e,"","\\upharpoonleft",!0),re(Te,ie,$e,"","\\downharpoonleft",!0),re(Te,F,$e,"","\\origof",!0),re(Te,F,$e,"","\\imageof",!0),re(Te,ie,$e,"","\\multimap",!0),re(Te,ie,$e,"","\\leftrightsquigarrow",!0),re(Te,ie,$e,"","\\rightrightarrows",!0),re(Te,ie,$e,"","\\rightleftarrows",!0),re(Te,ie,$e,"","\\twoheadrightarrow",!0),re(Te,ie,$e,"","\\rightarrowtail",!0),re(Te,ie,$e,"","\\looparrowright",!0),re(Te,ie,$e,"","\\curvearrowright",!0),re(Te,ie,$e,"","\\circlearrowright",!0),re(Te,ie,$e,"","\\Rsh",!0),re(Te,ie,$e,"","\\downdownarrows",!0),re(Te,ie,$e,"","\\upharpoonright",!0),re(Te,ie,$e,"","\\downharpoonright",!0),re(Te,ie,$e,"","\\rightsquigarrow",!0),re(Te,ie,$e,"","\\leadsto"),re(Te,ie,$e,"","\\Rrightarrow",!0),re(Te,ie,$e,"","\\restriction"),re(Te,F,Ue,"","`"),re(Te,F,Ue,"$","\\$"),re(gn,F,Ue,"$","\\$"),re(gn,F,Ue,"$","\\textdollar"),re(Te,F,Ue,"%","\\%"),re(gn,F,Ue,"%","\\%"),re(Te,F,Ue,"_","\\_"),re(gn,F,Ue,"_","\\_"),re(gn,F,Ue,"_","\\textunderscore"),re(Te,F,Ue,"","\\angle",!0),re(Te,F,Ue,"","\\infty",!0),re(Te,F,Ue,"","\\prime"),re(Te,F,Ue,"","\\triangle"),re(Te,F,Ue,"","\\Gamma",!0),re(Te,F,Ue,"","\\Delta",!0),re(Te,F,Ue,"","\\Theta",!0),re(Te,F,Ue,"","\\Lambda",!0),re(Te,F,Ue,"","\\Xi",!0),re(Te,F,Ue,"","\\Pi",!0),re(Te,F,Ue,"","\\Sigma",!0),re(Te,F,Ue,"","\\Upsilon",!0),re(Te,F,Ue,"","\\Phi",!0),re(Te,F,Ue,"","\\Psi",!0),re(Te,F,Ue,"","\\Omega",!0),re(Te,F,Ue,"A",""),re(Te,F,Ue,"B",""),re(Te,F,Ue,"E",""),re(Te,F,Ue,"Z",""),re(Te,F,Ue,"H",""),re(Te,F,Ue,"I",""),re(Te,F,Ue,"K",""),re(Te,F,Ue,"M",""),re(Te,F,Ue,"N",""),re(Te,F,Ue,"O",""),re(Te,F,Ue,"P",""),re(Te,F,Ue,"T",""),re(Te,F,Ue,"X",""),re(Te,F,Ue,"","\\neg",!0),re(Te,F,Ue,"","\\lnot"),re(Te,F,Ue,"","\\top"),re(Te,F,Ue,"","\\bot"),re(Te,F,Ue,"","\\emptyset"),re(Te,ie,Ue,"","\\varnothing"),re(Te,F,ge,"","\\alpha",!0),re(Te,F,ge,"","\\beta",!0),re(Te,F,ge,"","\\gamma",!0),re(Te,F,ge,"","\\delta",!0),re(Te,F,ge,"","\\epsilon",!0),re(Te,F,ge,"","\\zeta",!0),re(Te,F,ge,"","\\eta",!0),re(Te,F,ge,"","\\theta",!0),re(Te,F,ge,"","\\iota",!0),re(Te,F,ge,"","\\kappa",!0),re(Te,F,ge,"","\\lambda",!0),re(Te,F,ge,"","\\mu",!0),re(Te,F,ge,"","\\nu",!0),re(Te,F,ge,"","\\xi",!0),re(Te,F,ge,"","\\omicron",!0),re(Te,F,ge,"","\\pi",!0),re(Te,F,ge,"","\\rho",!0),re(Te,F,ge,"","\\sigma",!0),re(Te,F,ge,"","\\tau",!0),re(Te,F,ge,"","\\upsilon",!0),re(Te,F,ge,"","\\phi",!0),re(Te,F,ge,"","\\chi",!0),re(Te,F,ge,"","\\psi",!0),re(Te,F,ge,"","\\omega",!0),re(Te,F,ge,"","\\varepsilon",!0),re(Te,F,ge,"","\\vartheta",!0),re(Te,F,ge,"","\\varpi",!0),re(Te,F,ge,"","\\varrho",!0),re(Te,F,ge,"","\\varsigma",!0),re(Te,F,ge,"","\\varphi",!0),re(Te,F,W,"","*",!0),re(Te,F,W,"+","+"),re(Te,F,W,"","-",!0),re(Te,F,W,"","\\cdot",!0),re(Te,F,W,"","\\circ",!0),re(Te,F,W,"","\\div",!0),re(Te,F,W,"","\\pm",!0),re(Te,F,W,"","\\times",!0),re(Te,F,W,"","\\cap",!0),re(Te,F,W,"","\\cup",!0),re(Te,F,W,"","\\setminus",!0),re(Te,F,W,"","\\land"),re(Te,F,W,"","\\lor"),re(Te,F,W,"","\\wedge",!0),re(Te,F,W,"","\\vee",!0),re(Te,F,Ue,"","\\surd"),re(Te,F,Le,"","\\langle",!0),re(Te,F,Le,"","\\lvert"),re(Te,F,Le,"","\\lVert"),re(Te,F,ae,"?","?"),re(Te,F,ae,"!","!"),re(Te,F,ae,"","\\rangle",!0),re(Te,F,ae,"","\\rvert"),re(Te,F,ae,"","\\rVert"),re(Te,F,$e,"=","="),re(Te,F,$e,":",":"),re(Te,F,$e,"","\\approx",!0),re(Te,F,$e,"","\\cong",!0),re(Te,F,$e,"","\\ge"),re(Te,F,$e,"","\\geq",!0),re(Te,F,$e,"","\\gets"),re(Te,F,$e,">","\\gt",!0),re(Te,F,$e,"","\\in",!0),re(Te,F,$e,"","\\@not"),re(Te,F,$e,"","\\subset",!0),re(Te,F,$e,"","\\supset",!0),re(Te,F,$e,"","\\subseteq",!0),re(Te,F,$e,"","\\supseteq",!0),re(Te,ie,$e,"","\\nsubseteq",!0),re(Te,ie,$e,"","\\nsupseteq",!0),re(Te,F,$e,"","\\models"),re(Te,F,$e,"","\\leftarrow",!0),re(Te,F,$e,"","\\le"),re(Te,F,$e,"","\\leq",!0),re(Te,F,$e,"<","\\lt",!0),re(Te,F,$e,"","\\rightarrow",!0),re(Te,F,$e,"","\\to"),re(Te,ie,$e,"","\\ngeq",!0),re(Te,ie,$e,"","\\nleq",!0),re(Te,F,$t,"","\\ "),re(Te,F,$t,"","\\space"),re(Te,F,$t,"","\\nobreakspace"),re(gn,F,$t,"","\\ "),re(gn,F,$t,""," "),re(gn,F,$t,"","\\space"),re(gn,F,$t,"","\\nobreakspace"),re(Te,F,$t,null,"\\nobreak"),re(Te,F,$t,null,"\\allowbreak"),re(Te,F,st,",",","),re(Te,F,st,";",";"),re(Te,ie,W,"","\\barwedge",!0),re(Te,ie,W,"","\\veebar",!0),re(Te,F,W,"","\\odot",!0),re(Te,F,W,"","\\oplus",!0),re(Te,F,W,"","\\otimes",!0),re(Te,F,Ue,"","\\partial",!0),re(Te,F,W,"","\\oslash",!0),re(Te,ie,W,"","\\circledcirc",!0),re(Te,ie,W,"","\\boxdot",!0),re(Te,F,W,"","\\bigtriangleup"),re(Te,F,W,"","\\bigtriangledown"),re(Te,F,W,"","\\dagger"),re(Te,F,W,"","\\diamond"),re(Te,F,W,"","\\star"),re(Te,F,W,"","\\triangleleft"),re(Te,F,W,"","\\triangleright"),re(Te,F,Le,"{","\\{"),re(gn,F,Ue,"{","\\{"),re(gn,F,Ue,"{","\\textbraceleft"),re(Te,F,ae,"}","\\}"),re(gn,F,Ue,"}","\\}"),re(gn,F,Ue,"}","\\textbraceright"),re(Te,F,Le,"{","\\lbrace"),re(Te,F,ae,"}","\\rbrace"),re(Te,F,Le,"[","\\lbrack",!0),re(gn,F,Ue,"[","\\lbrack",!0),re(Te,F,ae,"]","\\rbrack",!0),re(gn,F,Ue,"]","\\rbrack",!0),re(Te,F,Le,"(","\\lparen",!0),re(Te,F,ae,")","\\rparen",!0),re(gn,F,Ue,"<","\\textless",!0),re(gn,F,Ue,">","\\textgreater",!0),re(Te,F,Le,"","\\lfloor",!0),re(Te,F,ae,"","\\rfloor",!0),re(Te,F,Le,"","\\lceil",!0),re(Te,F,ae,"","\\rceil",!0),re(Te,F,Ue,"\\","\\backslash"),re(Te,F,Ue,"","|"),re(Te,F,Ue,"","\\vert"),re(gn,F,Ue,"|","\\textbar",!0),re(Te,F,Ue,"","\\|"),re(Te,F,Ue,"","\\Vert"),re(gn,F,Ue,"","\\textbardbl"),re(gn,F,Ue,"~","\\textasciitilde"),re(gn,F,Ue,"\\","\\textbackslash"),re(gn,F,Ue,"^","\\textasciicircum"),re(Te,F,$e,"","\\uparrow",!0),re(Te,F,$e,"","\\Uparrow",!0),re(Te,F,$e,"","\\downarrow",!0),re(Te,F,$e,"","\\Downarrow",!0),re(Te,F,$e,"","\\updownarrow",!0),re(Te,F,$e,"","\\Updownarrow",!0),re(Te,F,be,"","\\coprod"),re(Te,F,be,"","\\bigvee"),re(Te,F,be,"","\\bigwedge"),re(Te,F,be,"","\\biguplus"),re(Te,F,be,"","\\bigcap"),re(Te,F,be,"","\\bigcup"),re(Te,F,be,"","\\int"),re(Te,F,be,"","\\intop"),re(Te,F,be,"","\\iint"),re(Te,F,be,"","\\iiint"),re(Te,F,be,"","\\prod"),re(Te,F,be,"","\\sum"),re(Te,F,be,"","\\bigotimes"),re(Te,F,be,"","\\bigoplus"),re(Te,F,be,"","\\bigodot"),re(Te,F,be,"","\\oint"),re(Te,F,be,"","\\oiint"),re(Te,F,be,"","\\oiiint"),re(Te,F,be,"","\\bigsqcup"),re(Te,F,be,"","\\smallint"),re(gn,F,q,"","\\textellipsis"),re(Te,F,q,"","\\mathellipsis"),re(gn,F,q,"","\\ldots",!0),re(Te,F,q,"","\\ldots",!0),re(Te,F,q,"","\\@cdots",!0),re(Te,F,q,"","\\ddots",!0),re(Te,F,Ue,"","\\varvdots"),re(gn,F,Ue,"","\\varvdots"),re(Te,F,x,"","\\acute"),re(Te,F,x,"","\\grave"),re(Te,F,x,"","\\ddot"),re(Te,F,x,"~","\\tilde"),re(Te,F,x,"","\\bar"),re(Te,F,x,"","\\breve"),re(Te,F,x,"","\\check"),re(Te,F,x,"^","\\hat"),re(Te,F,x,"","\\vec"),re(Te,F,x,"","\\dot"),re(Te,F,x,"","\\mathring"),re(Te,F,ge,"","\\@imath"),re(Te,F,ge,"","\\@jmath"),re(Te,F,Ue,"",""),re(Te,F,Ue,"",""),re(gn,F,Ue,"","\\i",!0),re(gn,F,Ue,"","\\j",!0),re(gn,F,Ue,"","\\ss",!0),re(gn,F,Ue,"","\\ae",!0),re(gn,F,Ue,"","\\oe",!0),re(gn,F,Ue,"","\\o",!0),re(gn,F,Ue,"","\\AE",!0),re(gn,F,Ue,"","\\OE",!0),re(gn,F,Ue,"","\\O",!0),re(gn,F,x,"","\\'"),re(gn,F,x,"","\\`"),re(gn,F,x,"","\\^"),re(gn,F,x,"","\\~"),re(gn,F,x,"","\\="),re(gn,F,x,"","\\u"),re(gn,F,x,"","\\."),re(gn,F,x,"","\\c"),re(gn,F,x,"","\\r"),re(gn,F,x,"","\\v"),re(gn,F,x,"",'\\"'),re(gn,F,x,"","\\H"),re(gn,F,x,"","\\textcircled");const p={"--":!0,"---":!0,"``":!0,"''":!0};re(gn,F,Ue,"","--",!0),re(gn,F,Ue,"","\\textendash"),re(gn,F,Ue,"","---",!0),re(gn,F,Ue,"","\\textemdash"),re(gn,F,Ue,"","`",!0),re(gn,F,Ue,"","\\textquoteleft"),re(gn,F,Ue,"","'",!0),re(gn,F,Ue,"","\\textquoteright"),re(gn,F,Ue,"","``",!0),re(gn,F,Ue,"","\\textquotedblleft"),re(gn,F,Ue,"","''",!0),re(gn,F,Ue,"","\\textquotedblright"),re(Te,F,Ue,"","\\degree",!0),re(gn,F,Ue,"","\\degree"),re(gn,F,Ue,"","\\textdegree",!0),re(Te,F,Ue,"","\\pounds"),re(Te,F,Ue,"","\\mathsterling",!0),re(gn,F,Ue,"","\\pounds"),re(gn,F,Ue,"","\\textsterling",!0),re(Te,ie,Ue,"","\\maltese"),re(gn,ie,Ue,"","\\maltese");const D='0123456789/@."';for(let S=0;S<D.length;S++){const _=D.charAt(S);re(Te,F,Ue,_,_)}const Q='0123456789!@*()-=+";:?/.,';for(let S=0;S<Q.length;S++){const _=Q.charAt(S);re(gn,F,Ue,_,_)}const me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let S=0;S<me.length;S++){const _=me.charAt(S);re(Te,F,ge,_,_),re(gn,F,Ue,_,_)}re(Te,ie,Ue,"C",""),re(gn,ie,Ue,"C",""),re(Te,ie,Ue,"H",""),re(gn,ie,Ue,"H",""),re(Te,ie,Ue,"N",""),re(gn,ie,Ue,"N",""),re(Te,ie,Ue,"P",""),re(gn,ie,Ue,"P",""),re(Te,ie,Ue,"Q",""),re(gn,ie,Ue,"Q",""),re(Te,ie,Ue,"R",""),re(gn,ie,Ue,"R",""),re(Te,ie,Ue,"Z",""),re(gn,ie,Ue,"Z",""),re(Te,F,ge,"h",""),re(gn,F,ge,"h","");let He="";for(let S=0;S<me.length;S++){const _=me.charAt(S);He=String.fromCharCode(55349,56320+S),re(Te,F,ge,_,He),re(gn,F,Ue,_,He),He=String.fromCharCode(55349,56372+S),re(Te,F,ge,_,He),re(gn,F,Ue,_,He),He=String.fromCharCode(55349,56424+S),re(Te,F,ge,_,He),re(gn,F,Ue,_,He),He=String.fromCharCode(55349,56580+S),re(Te,F,ge,_,He),re(gn,F,Ue,_,He),He=String.fromCharCode(55349,56684+S),re(Te,F,ge,_,He),re(gn,F,Ue,_,He),He=String.fromCharCode(55349,56736+S),re(Te,F,ge,_,He),re(gn,F,Ue,_,He),He=String.fromCharCode(55349,56788+S),re(Te,F,ge,_,He),re(gn,F,Ue,_,He),He=String.fromCharCode(55349,56840+S),re(Te,F,ge,_,He),re(gn,F,Ue,_,He),He=String.fromCharCode(55349,56944+S),re(Te,F,ge,_,He),re(gn,F,Ue,_,He),S<26&&(He=String.fromCharCode(55349,56632+S),re(Te,F,ge,_,He),re(gn,F,Ue,_,He),He=String.fromCharCode(55349,56476+S),re(Te,F,ge,_,He),re(gn,F,Ue,_,He))}He="",re(Te,F,ge,"k",He),re(gn,F,Ue,"k",He);for(let S=0;S<10;S++){const _=S.toString();He=String.fromCharCode(55349,57294+S),re(Te,F,ge,_,He),re(gn,F,Ue,_,He),He=String.fromCharCode(55349,57314+S),re(Te,F,ge,_,He),re(gn,F,Ue,_,He),He=String.fromCharCode(55349,57324+S),re(Te,F,ge,_,He),re(gn,F,Ue,_,He),He=String.fromCharCode(55349,57334+S),re(Te,F,ge,_,He),re(gn,F,Ue,_,He)}const _t="";for(let S=0;S<_t.length;S++){const _=_t.charAt(S);re(Te,F,ge,_,_),re(gn,F,Ue,_,_)}const Gt=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],bt=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],un=function(S,_){const C=S.charCodeAt(0),G=S.charCodeAt(1),pe=(C-55296)*1024+(G-56320)+65536,Ie=_==="math"?0:1;if(119808<=pe&&pe<120484){const ot=Math.floor((pe-119808)/26);return[Gt[ot][2],Gt[ot][Ie]]}else if(120782<=pe&&pe<=120831){const ot=Math.floor((pe-120782)/10);return[bt[ot][2],bt[ot][Ie]]}else{if(pe===120485||pe===120486)return[Gt[0][2],Gt[0][Ie]];if(120486<pe&&pe<120782)return["",""];throw new h("Unsupported character: "+S)}};class Yt{constructor(_){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=_,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(_){return this.classes.includes(_)}toNode(){const _=document.createDocumentFragment();for(let C=0;C<this.children.length;C++)_.appendChild(this.children[C].toNode());return _}toMarkup(){let _="";for(let C=0;C<this.children.length;C++)_+=this.children[C].toMarkup();return _}toText(){const _=C=>C.toText();return this.children.map(_).join("")}}const fn=function(S,_,C){return En[C][S]&&En[C][S].replace&&(S=En[C][S].replace),{value:S,metrics:Tt(S,_,C)}},Un=function(S,_,C,G,pe){const Ie=fn(S,_,C),ot=Ie.metrics;S=Ie.value;let kt;if(ot){let Pt=ot.italic;(C==="text"||G&&G.font==="mathit")&&(Pt=0),kt=new we(S,ot.height,ot.depth,Pt,ot.skew,ot.width,pe)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+S+"' in style '"+_+"' and mode '"+C+"'")),kt=new we(S,0,0,0,0,0,pe);if(G){kt.maxFontSize=G.sizeMultiplier,G.style.isTight()&&kt.classes.push("mtight");const Pt=G.getColor();Pt&&(kt.style.color=Pt)}return kt},Xt=function(S,_,C,G){return G===void 0&&(G=[]),C.font==="boldsymbol"&&fn(S,"Main-Bold",_).metrics?Un(S,"Main-Bold",_,C,G.concat(["mathbf"])):S==="\\"||En[_][S].font==="main"?Un(S,"Main-Regular",_,C,G):Un(S,"AMS-Regular",_,C,G.concat(["amsrm"]))},Ke=function(S,_,C,G,pe){return pe!=="textord"&&fn(S,"Math-BoldItalic",_).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Pn=function(S,_,C){const G=S.mode,pe=S.text,Ie=["mord"],ot=G==="math"||G==="text"&&_.font,kt=ot?_.font:_.fontFamily;let Pt="",Jt="";if(pe.charCodeAt(0)===55349&&([Pt,Jt]=un(pe,G)),Pt.length>0)return Un(pe,Pt,G,_,Ie.concat(Jt));if(kt){let vn,wn;if(kt==="boldsymbol"){const Rn=Ke(pe,G,_,Ie,C);vn=Rn.fontName,wn=[Rn.fontClass]}else ot?(vn=Xe[kt].fontName,wn=[kt]):(vn=Se(kt,_.fontWeight,_.fontShape),wn=[kt,_.fontWeight,_.fontShape]);if(fn(pe,vn,G).metrics)return Un(pe,vn,G,_,Ie.concat(wn));if(p.hasOwnProperty(pe)&&vn.slice(0,10)==="Typewriter"){const Rn=[];for(let ir=0;ir<pe.length;ir++)Rn.push(Un(pe[ir],vn,G,_,Ie.concat(wn)));return ei(Rn)}}if(C==="mathord")return Un(pe,"Math-Italic",G,_,Ie.concat(["mathnormal"]));if(C==="textord"){const vn=En[G][pe]&&En[G][pe].font;if(vn==="ams"){const wn=Se("amsrm",_.fontWeight,_.fontShape);return Un(pe,wn,G,_,Ie.concat("amsrm",_.fontWeight,_.fontShape))}else if(vn==="main"||!vn){const wn=Se("textrm",_.fontWeight,_.fontShape);return Un(pe,wn,G,_,Ie.concat(_.fontWeight,_.fontShape))}else{const wn=Se(vn,_.fontWeight,_.fontShape);return Un(pe,wn,G,_,Ie.concat(wn,_.fontWeight,_.fontShape))}}else throw new Error("unexpected type: "+C+" in makeOrd")},er=(S,_)=>{if(Ee(S.classes)!==Ee(_.classes)||S.skew!==_.skew||S.maxFontSize!==_.maxFontSize)return!1;if(S.classes.length===1){const C=S.classes[0];if(C==="mbin"||C==="mord")return!1}for(const C in S.style)if(S.style.hasOwnProperty(C)&&S.style[C]!==_.style[C])return!1;for(const C in _.style)if(_.style.hasOwnProperty(C)&&S.style[C]!==_.style[C])return!1;return!0},nr=S=>{for(let _=0;_<S.length-1;_++){const C=S[_],G=S[_+1];C instanceof we&&G instanceof we&&er(C,G)&&(C.text+=G.text,C.height=Math.max(C.height,G.height),C.depth=Math.max(C.depth,G.depth),C.italic=G.italic,S.splice(_+1,1),_--)}return S},or=function(S){let _=0,C=0,G=0;for(let pe=0;pe<S.children.length;pe++){const Ie=S.children[pe];Ie.height>_&&(_=Ie.height),Ie.depth>C&&(C=Ie.depth),Ie.maxFontSize>G&&(G=Ie.maxFontSize)}S.height=_,S.depth=C,S.maxFontSize=G},Cn=function(S,_,C,G){const pe=new zt(S,_,C,G);return or(pe),pe},Hn=(S,_,C,G)=>new zt(S,_,C,G),mr=function(S,_,C){const G=Cn([S],[],_);return G.height=Math.max(C||_.fontMetrics().defaultRuleThickness,_.minRuleThickness),G.style.borderBottomWidth=Y(G.height),G.maxFontSize=1,G},Er=function(S,_,C,G){const pe=new ve(S,_,C,G);return or(pe),pe},ei=function(S){const _=new Yt(S);return or(_),_},hr=function(S,_){return S instanceof Yt?Cn([],[S],_):S},v=function(S){if(S.positionType==="individualShift"){const C=S.children,G=[C[0]],pe=-C[0].shift-C[0].elem.depth;let Ie=pe;for(let ot=1;ot<C.length;ot++){const kt=-C[ot].shift-Ie-C[ot].elem.depth,Pt=kt-(C[ot-1].elem.height+C[ot-1].elem.depth);Ie=Ie+kt,G.push({type:"kern",size:Pt}),G.push(C[ot])}return{children:G,depth:pe}}let _;if(S.positionType==="top"){let C=S.positionData;for(let G=0;G<S.children.length;G++){const pe=S.children[G];C-=pe.type==="kern"?pe.size:pe.elem.height+pe.elem.depth}_=C}else if(S.positionType==="bottom")_=-S.positionData;else{const C=S.children[0];if(C.type!=="elem")throw new Error('First child must have type "elem".');if(S.positionType==="shift")_=-C.elem.depth-S.positionData;else if(S.positionType==="firstBaseline")_=-C.elem.depth;else throw new Error("Invalid positionType "+S.positionType+".")}return{children:S.children,depth:_}},H=function(S,_){const{children:C,depth:G}=v(S);let pe=0;for(let ir=0;ir<C.length;ir++){const Nr=C[ir];if(Nr.type==="elem"){const Br=Nr.elem;pe=Math.max(pe,Br.maxFontSize,Br.height)}}pe+=2;const Ie=Cn(["pstrut"],[]);Ie.style.height=Y(pe);const ot=[];let kt=G,Pt=G,Jt=G;for(let ir=0;ir<C.length;ir++){const Nr=C[ir];if(Nr.type==="kern")Jt+=Nr.size;else{const Br=Nr.elem,wi=Nr.wrapperClasses||[],ui=Nr.wrapperStyle||{},di=Cn(wi,[Ie,Br],void 0,ui);di.style.top=Y(-pe-Jt-Br.depth),Nr.marginLeft&&(di.style.marginLeft=Nr.marginLeft),Nr.marginRight&&(di.style.marginRight=Nr.marginRight),ot.push(di),Jt+=Br.height+Br.depth}kt=Math.min(kt,Jt),Pt=Math.max(Pt,Jt)}const vn=Cn(["vlist"],ot);vn.style.height=Y(Pt);let wn;if(kt<0){const ir=Cn([],[]),Nr=Cn(["vlist"],[ir]);Nr.style.height=Y(-kt);const Br=Cn(["vlist-s"],[new we("")]);wn=[Cn(["vlist-r"],[vn,Br]),Cn(["vlist-r"],[Nr])]}else wn=[Cn(["vlist-r"],[vn])];const Rn=Cn(["vlist-t"],wn);return wn.length===2&&Rn.classes.push("vlist-t2"),Rn.height=Pt,Rn.depth=-kt,Rn},ue=(S,_)=>{const C=Cn(["mspace"],[],_),G=ft(S,_);return C.style.marginRight=Y(G),C},Se=function(S,_,C){let G="";switch(S){case"amsrm":G="AMS";break;case"textrm":G="Main";break;case"textsf":G="SansSerif";break;case"texttt":G="Typewriter";break;default:G=S}let pe;return _==="textbf"&&C==="textit"?pe="BoldItalic":_==="textbf"?pe="Bold":_==="textit"?pe="Italic":pe="Regular",G+"-"+pe},Xe={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},pt={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var Ze={fontMap:Xe,makeSymbol:Un,mathsym:Xt,makeSpan:Cn,makeSvgSpan:Hn,makeLineSpan:mr,makeAnchor:Er,makeFragment:ei,wrapFragment:hr,makeVList:H,makeOrd:Pn,makeGlue:ue,staticSvg:function(S,_){const[C,G,pe]=pt[S],Ie=new St(C),ot=new tt([Ie],{width:Y(G),height:Y(pe),style:"width:"+Y(G),viewBox:"0 0 "+1e3*G+" "+1e3*pe,preserveAspectRatio:"xMinYMin"}),kt=Hn(["overlay"],[ot],_);return kt.height=pe,kt.style.height=Y(pe),kt.style.width=Y(G),kt},svgData:pt,tryCombineChars:nr};const tn={number:3,unit:"mu"},an={number:4,unit:"mu"},ln={number:5,unit:"mu"},k={mord:{mop:tn,mbin:an,mrel:ln,minner:tn},mop:{mord:tn,mop:tn,mrel:ln,minner:tn},mbin:{mord:an,mop:an,mopen:an,minner:an},mrel:{mord:ln,mop:ln,mopen:ln,minner:ln},mopen:{},mclose:{mop:tn,mbin:an,mrel:ln,minner:tn},mpunct:{mord:tn,mop:tn,mrel:ln,mopen:tn,mclose:tn,mpunct:tn,minner:tn},minner:{mord:tn,mop:tn,mbin:an,mrel:ln,mopen:tn,mpunct:tn,minner:tn}},z={mord:{mop:tn},mop:{mord:tn,mop:tn},mbin:{},mrel:{},mopen:{},mclose:{mop:tn},mpunct:{},minner:{mop:tn}},We={},it={},Nt={};function Dt(S){let{type:_,names:C,props:G,handler:pe,htmlBuilder:Ie,mathmlBuilder:ot}=S;const kt={type:_,numArgs:G.numArgs,argTypes:G.argTypes,allowedInArgument:!!G.allowedInArgument,allowedInText:!!G.allowedInText,allowedInMath:G.allowedInMath===void 0?!0:G.allowedInMath,numOptionalArgs:G.numOptionalArgs||0,infix:!!G.infix,primitive:!!G.primitive,handler:pe};for(let Pt=0;Pt<C.length;++Pt)We[C[Pt]]=kt;_&&(Ie&&(it[_]=Ie),ot&&(Nt[_]=ot))}function cn(S){let{type:_,htmlBuilder:C,mathmlBuilder:G}=S;Dt({type:_,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:C,mathmlBuilder:G})}const Sn=function(S){return S.type==="ordgroup"&&S.body.length===1?S.body[0]:S},hn=function(S){return S.type==="ordgroup"?S.body:[S]},bn=Ze.makeSpan,zn=["leftmost","mbin","mopen","mrel","mop","mpunct"],xn=["rightmost","mrel","mclose","mpunct"],Ir={display:de.DISPLAY,text:de.TEXT,script:de.SCRIPT,scriptscript:de.SCRIPTSCRIPT},qn={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},mn=function(S,_,C,G){G===void 0&&(G=[null,null]);const pe=[];for(let Jt=0;Jt<S.length;Jt++){const vn=lr(S[Jt],_);if(vn instanceof Yt){const wn=vn.children;pe.push(...wn)}else pe.push(vn)}if(Ze.tryCombineChars(pe),!C)return pe;let Ie=_;if(S.length===1){const Jt=S[0];Jt.type==="sizing"?Ie=_.havingSize(Jt.size):Jt.type==="styling"&&(Ie=_.havingStyle(Ir[Jt.style]))}const ot=bn([G[0]||"leftmost"],[],_),kt=bn([G[1]||"rightmost"],[],_),Pt=C==="root";return dr(pe,(Jt,vn)=>{const wn=vn.classes[0],Rn=Jt.classes[0];wn==="mbin"&&xn.includes(Rn)?vn.classes[0]="mord":Rn==="mbin"&&zn.includes(wn)&&(Jt.classes[0]="mord")},{node:ot},kt,Pt),dr(pe,(Jt,vn)=>{const wn=fr(vn),Rn=fr(Jt),ir=wn&&Rn?Jt.hasClass("mtight")?z[wn][Rn]:k[wn][Rn]:null;if(ir)return Ze.makeGlue(ir,Ie)},{node:ot},kt,Pt),pe},dr=function(S,_,C,G,pe){G&&S.push(G);let Ie=0;for(;Ie<S.length;Ie++){const ot=S[Ie],kt=kr(ot);if(kt){dr(kt.children,_,C,null,pe);continue}const Pt=!ot.hasClass("mspace");if(Pt){const Jt=_(ot,C.node);Jt&&(C.insertAfter?C.insertAfter(Jt):(S.unshift(Jt),Ie++))}Pt?C.node=ot:pe&&ot.hasClass("newline")&&(C.node=bn(["leftmost"])),C.insertAfter=(Jt=>vn=>{S.splice(Jt+1,0,vn),Ie++})(Ie)}G&&S.pop()},kr=function(S){return S instanceof Yt||S instanceof ve||S instanceof zt&&S.hasClass("enclosing")?S:null},yr=function(S,_){const C=kr(S);if(C){const G=C.children;if(G.length){if(_==="right")return yr(G[G.length-1],"right");if(_==="left")return yr(G[0],"left")}}return S},fr=function(S,_){return S?(_&&(S=yr(S,_)),qn[S.classes[0]]||null):null},vr=function(S,_){const C=["nulldelimiter"].concat(S.baseSizingClasses());return bn(_.concat(C))},lr=function(S,_,C){if(!S)return bn();if(it[S.type]){let G=it[S.type](S,_);if(C&&_.size!==C.size){G=bn(_.sizingClasses(C),[G],_);const pe=_.sizeMultiplier/C.sizeMultiplier;G.height*=pe,G.depth*=pe}return G}else throw new h("Got group of unknown type: '"+S.type+"'")};function _r(S,_){const C=bn(["base"],S,_),G=bn(["strut"]);return G.style.height=Y(C.height+C.depth),C.depth&&(G.style.verticalAlign=Y(-C.depth)),C.children.unshift(G),C}function Dn(S,_){let C=null;S.length===1&&S[0].type==="tag"&&(C=S[0].tag,S=S[0].body);const G=mn(S,_,"root");let pe;G.length===2&&G[1].hasClass("tag")&&(pe=G.pop());const Ie=[];let ot=[];for(let Jt=0;Jt<G.length;Jt++)if(ot.push(G[Jt]),G[Jt].hasClass("mbin")||G[Jt].hasClass("mrel")||G[Jt].hasClass("allowbreak")){let vn=!1;for(;Jt<G.length-1&&G[Jt+1].hasClass("mspace")&&!G[Jt+1].hasClass("newline");)Jt++,ot.push(G[Jt]),G[Jt].hasClass("nobreak")&&(vn=!0);vn||(Ie.push(_r(ot,_)),ot=[])}else G[Jt].hasClass("newline")&&(ot.pop(),ot.length>0&&(Ie.push(_r(ot,_)),ot=[]),Ie.push(G[Jt]));ot.length>0&&Ie.push(_r(ot,_));let kt;C?(kt=_r(mn(C,_,!0)),kt.classes=["tag"],Ie.push(kt)):pe&&Ie.push(pe);const Pt=bn(["katex-html"],Ie);if(Pt.setAttribute("aria-hidden","true"),kt){const Jt=kt.children[0];Jt.style.height=Y(Pt.height+Pt.depth),Pt.depth&&(Jt.style.verticalAlign=Y(-Pt.depth))}return Pt}function Mr(S){return new Yt(S)}class cr{constructor(_,C,G){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=_,this.attributes={},this.children=C||[],this.classes=G||[]}setAttribute(_,C){this.attributes[_]=C}getAttribute(_){return this.attributes[_]}toNode(){const _=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const C in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,C)&&_.setAttribute(C,this.attributes[C]);this.classes.length>0&&(_.className=Ee(this.classes));for(let C=0;C<this.children.length;C++)if(this.children[C]instanceof Tr&&this.children[C+1]instanceof Tr){let G=this.children[C].toText()+this.children[++C].toText();for(;this.children[C+1]instanceof Tr;)G+=this.children[++C].toText();_.appendChild(new Tr(G).toNode())}else _.appendChild(this.children[C].toNode());return _}toMarkup(){let _="<"+this.type;for(const C in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,C)&&(_+=" "+C+'="',_+=he.escape(this.attributes[C]),_+='"');this.classes.length>0&&(_+=' class ="'+he.escape(Ee(this.classes))+'"'),_+=">";for(let C=0;C<this.children.length;C++)_+=this.children[C].toMarkup();return _+="</"+this.type+">",_}toText(){return this.children.map(_=>_.toText()).join("")}}class Tr{constructor(_){this.text=void 0,this.text=_}toNode(){return document.createTextNode(this.text)}toMarkup(){return he.escape(this.toText())}toText(){return this.text}}class Kr{constructor(_){this.width=void 0,this.character=void 0,this.width=_,_>=.05555&&_<=.05556?this.character="":_>=.1666&&_<=.1667?this.character="":_>=.2222&&_<=.2223?this.character="":_>=.2777&&_<=.2778?this.character="":_>=-.05556&&_<=-.05555?this.character="":_>=-.1667&&_<=-.1666?this.character="":_>=-.2223&&_<=-.2222?this.character="":_>=-.2778&&_<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const _=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return _.setAttribute("width",Y(this.width)),_}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Y(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Vn={MathNode:cr,TextNode:Tr,SpaceNode:Kr,newDocumentFragment:Mr};const Fr=function(S,_,C){return En[_][S]&&En[_][S].replace&&S.charCodeAt(0)!==55349&&!(p.hasOwnProperty(S)&&C&&(C.fontFamily&&C.fontFamily.slice(4,6)==="tt"||C.font&&C.font.slice(4,6)==="tt"))&&(S=En[_][S].replace),new Vn.TextNode(S)},Zr=function(S){return S.length===1?S[0]:new Vn.MathNode("mrow",S)},ss=function(S,_){if(_.fontFamily==="texttt")return"monospace";if(_.fontFamily==="textsf")return _.fontShape==="textit"&&_.fontWeight==="textbf"?"sans-serif-bold-italic":_.fontShape==="textit"?"sans-serif-italic":_.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(_.fontShape==="textit"&&_.fontWeight==="textbf")return"bold-italic";if(_.fontShape==="textit")return"italic";if(_.fontWeight==="textbf")return"bold";const C=_.font;if(!C||C==="mathnormal")return null;const G=S.mode;if(C==="mathit")return"italic";if(C==="boldsymbol")return S.type==="textord"?"bold":"bold-italic";if(C==="mathbf")return"bold";if(C==="mathbb")return"double-struck";if(C==="mathsfit")return"sans-serif-italic";if(C==="mathfrak")return"fraktur";if(C==="mathscr"||C==="mathcal")return"script";if(C==="mathsf")return"sans-serif";if(C==="mathtt")return"monospace";let pe=S.text;if(["\\imath","\\jmath"].includes(pe))return null;En[G][pe]&&En[G][pe].replace&&(pe=En[G][pe].replace);const Ie=Ze.fontMap[C].fontName;return Tt(pe,Ie,G)?Ze.fontMap[C].variant:null};function go(S){if(!S)return!1;if(S.type==="mi"&&S.children.length===1){const _=S.children[0];return _ instanceof Tr&&_.text==="."}else if(S.type==="mo"&&S.children.length===1&&S.getAttribute("separator")==="true"&&S.getAttribute("lspace")==="0em"&&S.getAttribute("rspace")==="0em"){const _=S.children[0];return _ instanceof Tr&&_.text===","}else return!1}const Wi=function(S,_,C){if(S.length===1){const Ie=yi(S[0],_);return C&&Ie instanceof cr&&Ie.type==="mo"&&(Ie.setAttribute("lspace","0em"),Ie.setAttribute("rspace","0em")),[Ie]}const G=[];let pe;for(let Ie=0;Ie<S.length;Ie++){const ot=yi(S[Ie],_);if(ot instanceof cr&&pe instanceof cr){if(ot.type==="mtext"&&pe.type==="mtext"&&ot.getAttribute("mathvariant")===pe.getAttribute("mathvariant")){pe.children.push(...ot.children);continue}else if(ot.type==="mn"&&pe.type==="mn"){pe.children.push(...ot.children);continue}else if(go(ot)&&pe.type==="mn"){pe.children.push(...ot.children);continue}else if(ot.type==="mn"&&go(pe))ot.children=[...pe.children,...ot.children],G.pop();else if((ot.type==="msup"||ot.type==="msub")&&ot.children.length>=1&&(pe.type==="mn"||go(pe))){const kt=ot.children[0];kt instanceof cr&&kt.type==="mn"&&(kt.children=[...pe.children,...kt.children],G.pop())}else if(pe.type==="mi"&&pe.children.length===1){const kt=pe.children[0];if(kt instanceof Tr&&kt.text===""&&(ot.type==="mo"||ot.type==="mi"||ot.type==="mn")){const Pt=ot.children[0];Pt instanceof Tr&&Pt.text.length>0&&(Pt.text=Pt.text.slice(0,1)+""+Pt.text.slice(1),G.pop())}}}G.push(ot),pe=ot}return G},Bs=function(S,_,C){return Zr(Wi(S,_,C))},yi=function(S,_){if(!S)return new Vn.MathNode("mrow");if(Nt[S.type])return Nt[S.type](S,_);throw new h("Got group of unknown type: '"+S.type+"'")};function ks(S,_,C,G,pe){const Ie=Wi(S,C);let ot;Ie.length===1&&Ie[0]instanceof cr&&["mrow","mtable"].includes(Ie[0].type)?ot=Ie[0]:ot=new Vn.MathNode("mrow",Ie);const kt=new Vn.MathNode("annotation",[new Vn.TextNode(_)]);kt.setAttribute("encoding","application/x-tex");const Pt=new Vn.MathNode("semantics",[ot,kt]),Jt=new Vn.MathNode("math",[Pt]);Jt.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),G&&Jt.setAttribute("display","block");const vn=pe?"katex":"katex-mathml";return Ze.makeSpan([vn],[Jt])}const oo=function(S){return new ht({style:S.displayMode?de.DISPLAY:de.TEXT,maxSize:S.maxSize,minRuleThickness:S.minRuleThickness})},Qo=function(S,_){if(_.displayMode){const C=["katex-display"];_.leqno&&C.push("leqno"),_.fleqn&&C.push("fleqn"),S=Ze.makeSpan(C,[S])}return S},es=function(S,_,C){const G=oo(C);let pe;if(C.output==="mathml")return ks(S,_,G,C.displayMode,!0);if(C.output==="html"){const Ie=Dn(S,G);pe=Ze.makeSpan(["katex"],[Ie])}else{const Ie=ks(S,_,G,C.displayMode,!1),ot=Dn(S,G);pe=Ze.makeSpan(["katex"],[Ie,ot])}return Qo(pe,C)},Bi=function(S,_,C){const G=oo(C),pe=Dn(S,G),Ie=Ze.makeSpan(["katex"],[pe]);return Qo(Ie,C)},c0={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Ps=function(S){const _=new Vn.MathNode("mo",[new Vn.TextNode(c0[S.replace(/^\\/,"")])]);return _.setAttribute("stretchy","true"),_},nl={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},vo=function(S){return S.type==="ordgroup"?S.body.length:1};var Uo={encloseSpan:function(S,_,C,G,pe){let Ie;const ot=S.height+S.depth+C+G;if(/fbox|color|angl/.test(_)){if(Ie=Ze.makeSpan(["stretchy",_],[],pe),_==="fbox"){const kt=pe.color&&pe.getColor();kt&&(Ie.style.borderColor=kt)}}else{const kt=[];/^[bx]cancel$/.test(_)&&kt.push(new Zt({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(_)&&kt.push(new Zt({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const Pt=new tt(kt,{width:"100%",height:Y(ot)});Ie=Ze.makeSvgSpan([],[Pt],pe)}return Ie.height=ot,Ie.style.height=Y(ot),Ie},mathMLnode:Ps,svgSpan:function(S,_){function C(){let ot=4e5;const kt=S.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(kt)){const Jt=vo(S.base);let vn,wn,Rn;if(Jt>5)kt==="widehat"||kt==="widecheck"?(vn=420,ot=2364,Rn=.42,wn=kt+"4"):(vn=312,ot=2340,Rn=.34,wn="tilde4");else{const Br=[1,1,2,2,3,3][Jt];kt==="widehat"||kt==="widecheck"?(ot=[0,1062,2364,2364,2364][Br],vn=[0,239,300,360,420][Br],Rn=[0,.24,.3,.3,.36,.42][Br],wn=kt+Br):(ot=[0,600,1033,2339,2340][Br],vn=[0,260,286,306,312][Br],Rn=[0,.26,.286,.3,.306,.34][Br],wn="tilde"+Br)}const ir=new St(wn),Nr=new tt([ir],{width:"100%",height:Y(Rn),viewBox:"0 0 "+ot+" "+vn,preserveAspectRatio:"none"});return{span:Ze.makeSvgSpan([],[Nr],_),minWidth:0,height:Rn}}else{const Pt=[],Jt=nl[kt],[vn,wn,Rn]=Jt,ir=Rn/1e3,Nr=vn.length;let Br,wi;if(Nr===1){const ui=Jt[3];Br=["hide-tail"],wi=[ui]}else if(Nr===2)Br=["halfarrow-left","halfarrow-right"],wi=["xMinYMin","xMaxYMin"];else if(Nr===3)Br=["brace-left","brace-center","brace-right"],wi=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Nr+" children.");for(let ui=0;ui<Nr;ui++){const di=new St(vn[ui]),zi=new tt([di],{width:"400em",height:Y(ir),viewBox:"0 0 "+ot+" "+Rn,preserveAspectRatio:wi[ui]+" slice"}),Oi=Ze.makeSvgSpan([Br[ui]],[zi],_);if(Nr===1)return{span:Oi,minWidth:wn,height:ir};Oi.style.height=Y(ir),Pt.push(Oi)}return{span:Ze.makeSpan(["stretchy"],Pt,_),minWidth:wn,height:ir}}}const{span:G,minWidth:pe,height:Ie}=C();return G.height=Ie,G.style.height=Y(Ie),pe>0&&(G.style.minWidth=Y(pe)),G}};function ai(S,_){if(!S||S.type!==_)throw new Error("Expected node of type "+_+", but got "+(S?"node of type "+S.type:String(S)));return S}function Fu(S){const _=ga(S);if(!_)throw new Error("Expected node of symbol group type, but got "+(S?"node of type "+S.type:String(S)));return _}function ga(S){return S&&(S.type==="atom"||wr.hasOwnProperty(S.type))?S:null}const ru=(S,_)=>{let C,G,pe;S&&S.type==="supsub"?(G=ai(S.base,"accent"),C=G.base,S.base=C,pe=pn(lr(S,_)),S.base=G):(G=ai(S,"accent"),C=G.base);const Ie=lr(C,_.havingCrampedStyle()),ot=G.isShifty&&he.isCharacterBox(C);let kt=0;if(ot){const Rn=he.getBaseElem(C),ir=lr(Rn,_.havingCrampedStyle());kt=$n(ir).skew}const Pt=G.label==="\\c";let Jt=Pt?Ie.height+Ie.depth:Math.min(Ie.height,_.fontMetrics().xHeight),vn;if(G.isStretchy)vn=Uo.svgSpan(G,_),vn=Ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Ie},{type:"elem",elem:vn,wrapperClasses:["svg-align"],wrapperStyle:kt>0?{width:"calc(100% - "+Y(2*kt)+")",marginLeft:Y(2*kt)}:void 0}]},_);else{let Rn,ir;G.label==="\\vec"?(Rn=Ze.staticSvg("vec",_),ir=Ze.svgData.vec[1]):(Rn=Ze.makeOrd({mode:G.mode,text:G.label},_,"textord"),Rn=$n(Rn),Rn.italic=0,ir=Rn.width,Pt&&(Jt+=Rn.depth)),vn=Ze.makeSpan(["accent-body"],[Rn]);const Nr=G.label==="\\textcircled";Nr&&(vn.classes.push("accent-full"),Jt=Ie.height);let Br=kt;Nr||(Br-=ir/2),vn.style.left=Y(Br),G.label==="\\textcircled"&&(vn.style.top=".2em"),vn=Ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Ie},{type:"kern",size:-Jt},{type:"elem",elem:vn}]},_)}const wn=Ze.makeSpan(["mord","accent"],[vn],_);return pe?(pe.children[0]=wn,pe.height=Math.max(wn.height,pe.height),pe.classes[0]="mord",pe):wn},Dc=(S,_)=>{const C=S.isStretchy?Uo.mathMLnode(S.label):new Vn.MathNode("mo",[Fr(S.label,S.mode)]),G=new Vn.MathNode("mover",[yi(S.base,_),C]);return G.setAttribute("accent","true"),G},zl=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(S=>"\\"+S).join("|"));Dt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(S,_)=>{const C=Sn(_[0]),G=!zl.test(S.funcName),pe=!G||S.funcName==="\\widehat"||S.funcName==="\\widetilde"||S.funcName==="\\widecheck";return{type:"accent",mode:S.parser.mode,label:S.funcName,isStretchy:G,isShifty:pe,base:C}},htmlBuilder:ru,mathmlBuilder:Dc}),Dt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(S,_)=>{const C=_[0];let G=S.parser.mode;return G==="math"&&(S.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+S.funcName+" works only in text mode"),G="text"),{type:"accent",mode:G,label:S.funcName,isStretchy:!1,isShifty:!0,base:C}},htmlBuilder:ru,mathmlBuilder:Dc}),Dt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(S,_)=>{let{parser:C,funcName:G}=S;const pe=_[0];return{type:"accentUnder",mode:C.mode,label:G,base:pe}},htmlBuilder:(S,_)=>{const C=lr(S.base,_),G=Uo.svgSpan(S,_),pe=S.label==="\\utilde"?.12:0,Ie=Ze.makeVList({positionType:"top",positionData:C.height,children:[{type:"elem",elem:G,wrapperClasses:["svg-align"]},{type:"kern",size:pe},{type:"elem",elem:C}]},_);return Ze.makeSpan(["mord","accentunder"],[Ie],_)},mathmlBuilder:(S,_)=>{const C=Uo.mathMLnode(S.label),G=new Vn.MathNode("munder",[yi(S.base,_),C]);return G.setAttribute("accentunder","true"),G}});const Hl=S=>{const _=new Vn.MathNode("mpadded",S?[S]:[]);return _.setAttribute("width","+0.6em"),_.setAttribute("lspace","0.3em"),_};Dt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(S,_,C){let{parser:G,funcName:pe}=S;return{type:"xArrow",mode:G.mode,label:pe,body:_[0],below:C[0]}},htmlBuilder(S,_){const C=_.style;let G=_.havingStyle(C.sup());const pe=Ze.wrapFragment(lr(S.body,G,_),_),Ie=S.label.slice(0,2)==="\\x"?"x":"cd";pe.classes.push(Ie+"-arrow-pad");let ot;S.below&&(G=_.havingStyle(C.sub()),ot=Ze.wrapFragment(lr(S.below,G,_),_),ot.classes.push(Ie+"-arrow-pad"));const kt=Uo.svgSpan(S,_),Pt=-_.fontMetrics().axisHeight+.5*kt.height;let Jt=-_.fontMetrics().axisHeight-.5*kt.height-.111;(pe.depth>.25||S.label==="\\xleftequilibrium")&&(Jt-=pe.depth);let vn;if(ot){const wn=-_.fontMetrics().axisHeight+ot.height+.5*kt.height+.111;vn=Ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:pe,shift:Jt},{type:"elem",elem:kt,shift:Pt},{type:"elem",elem:ot,shift:wn}]},_)}else vn=Ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:pe,shift:Jt},{type:"elem",elem:kt,shift:Pt}]},_);return vn.children[0].children[0].children[1].classes.push("svg-align"),Ze.makeSpan(["mrel","x-arrow"],[vn],_)},mathmlBuilder(S,_){const C=Uo.mathMLnode(S.label);C.setAttribute("minsize",S.label.charAt(0)==="x"?"1.75em":"3.0em");let G;if(S.body){const pe=Hl(yi(S.body,_));if(S.below){const Ie=Hl(yi(S.below,_));G=new Vn.MathNode("munderover",[C,Ie,pe])}else G=new Vn.MathNode("mover",[C,pe])}else if(S.below){const pe=Hl(yi(S.below,_));G=new Vn.MathNode("munder",[C,pe])}else G=Hl(),G=new Vn.MathNode("mover",[C,G]);return G}});const j1=Ze.makeSpan;function Vl(S,_){const C=mn(S.body,_,!0);return j1([S.mclass],C,_)}function iu(S,_){let C;const G=Wi(S.body,_);return S.mclass==="minner"?C=new Vn.MathNode("mpadded",G):S.mclass==="mord"?S.isCharacterBox?(C=G[0],C.type="mi"):C=new Vn.MathNode("mi",G):(S.isCharacterBox?(C=G[0],C.type="mo"):C=new Vn.MathNode("mo",G),S.mclass==="mbin"?(C.attributes.lspace="0.22em",C.attributes.rspace="0.22em"):S.mclass==="mpunct"?(C.attributes.lspace="0em",C.attributes.rspace="0.17em"):S.mclass==="mopen"||S.mclass==="mclose"?(C.attributes.lspace="0em",C.attributes.rspace="0em"):S.mclass==="minner"&&(C.attributes.lspace="0.0556em",C.attributes.width="+0.1111em")),C}Dt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(S,_){let{parser:C,funcName:G}=S;const pe=_[0];return{type:"mclass",mode:C.mode,mclass:"m"+G.slice(5),body:hn(pe),isCharacterBox:he.isCharacterBox(pe)}},htmlBuilder:Vl,mathmlBuilder:iu});const va=S=>{const _=S.type==="ordgroup"&&S.body.length?S.body[0]:S;return _.type==="atom"&&(_.family==="bin"||_.family==="rel")?"m"+_.family:"mord"};Dt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(S,_){let{parser:C}=S;return{type:"mclass",mode:C.mode,mclass:va(_[0]),body:hn(_[1]),isCharacterBox:he.isCharacterBox(_[1])}}}),Dt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(S,_){let{parser:C,funcName:G}=S;const pe=_[1],Ie=_[0];let ot;G!=="\\stackrel"?ot=va(pe):ot="mrel";const kt={type:"op",mode:pe.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:G!=="\\stackrel",body:hn(pe)},Pt={type:"supsub",mode:Ie.mode,base:kt,sup:G==="\\underset"?null:Ie,sub:G==="\\underset"?Ie:null};return{type:"mclass",mode:C.mode,mclass:ot,body:[Pt],isCharacterBox:he.isCharacterBox(Pt)}},htmlBuilder:Vl,mathmlBuilder:iu}),Dt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(S,_){let{parser:C}=S;return{type:"pmb",mode:C.mode,mclass:va(_[0]),body:hn(_[0])}},htmlBuilder(S,_){const C=mn(S.body,_,!0),G=Ze.makeSpan([S.mclass],C,_);return G.style.textShadow="0.02em 0.01em 0.04px",G},mathmlBuilder(S,_){const C=Wi(S.body,_),G=new Vn.MathNode("mstyle",C);return G.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),G}});const Bc={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Gl=()=>({type:"styling",body:[],mode:"math",style:"display"}),il=S=>S.type==="textord"&&S.text==="@",Pc=(S,_)=>(S.type==="mathord"||S.type==="atom")&&S.text===_;function Fc(S,_,C){const G=Bc[S];switch(G){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return C.callFunction(G,[_[0]],[_[1]]);case"\\uparrow":case"\\downarrow":{const pe=C.callFunction("\\\\cdleft",[_[0]],[]),Ie={type:"atom",text:G,mode:"math",family:"rel"},ot=C.callFunction("\\Big",[Ie],[]),kt=C.callFunction("\\\\cdright",[_[1]],[]),Pt={type:"ordgroup",mode:"math",body:[pe,ot,kt]};return C.callFunction("\\\\cdparent",[Pt],[])}case"\\\\cdlongequal":return C.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const pe={type:"textord",text:"\\Vert",mode:"math"};return C.callFunction("\\Big",[pe],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Uu(S){const _=[];for(S.gullet.beginGroup(),S.gullet.macros.set("\\cr","\\\\\\relax"),S.gullet.beginGroup();;){_.push(S.parseExpression(!1,"\\\\")),S.gullet.endGroup(),S.gullet.beginGroup();const Ie=S.fetch().text;if(Ie==="&"||Ie==="\\\\")S.consume();else if(Ie==="\\end"){_[_.length-1].length===0&&_.pop();break}else throw new h("Expected \\\\ or \\cr or \\end",S.nextToken)}let C=[];const G=[C];for(let Ie=0;Ie<_.length;Ie++){const ot=_[Ie];let kt=Gl();for(let Pt=0;Pt<ot.length;Pt++)if(!il(ot[Pt]))kt.body.push(ot[Pt]);else{C.push(kt),Pt+=1;const Jt=Fu(ot[Pt]).text,vn=new Array(2);if(vn[0]={type:"ordgroup",mode:"math",body:[]},vn[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(Jt)>-1))if("<>AV".indexOf(Jt)>-1)for(let ir=0;ir<2;ir++){let Nr=!0;for(let Br=Pt+1;Br<ot.length;Br++){if(Pc(ot[Br],Jt)){Nr=!1,Pt=Br;break}if(il(ot[Br]))throw new h("Missing a "+Jt+" character to complete a CD arrow.",ot[Br]);vn[ir].body.push(ot[Br])}if(Nr)throw new h("Missing a "+Jt+" character to complete a CD arrow.",ot[Pt])}else throw new h('Expected one of "<>AV=|." after @',ot[Pt]);const Rn={type:"styling",body:[Fc(Jt,vn,S)],mode:"math",style:"display"};C.push(Rn),kt=Gl()}Ie%2===0?C.push(kt):C.shift(),C=[],G.push(C)}S.gullet.endGroup(),S.gullet.endGroup();const pe=new Array(G[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:G,arraystretch:1,addJot:!0,rowGaps:[null],cols:pe,colSeparationType:"CD",hLinesBeforeRow:new Array(G.length+1).fill([])}}Dt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(S,_){let{parser:C,funcName:G}=S;return{type:"cdlabel",mode:C.mode,side:G.slice(4),label:_[0]}},htmlBuilder(S,_){const C=_.havingStyle(_.style.sup()),G=Ze.wrapFragment(lr(S.label,C,_),_);return G.classes.push("cd-label-"+S.side),G.style.bottom=Y(.8-G.depth),G.height=0,G.depth=0,G},mathmlBuilder(S,_){let C=new Vn.MathNode("mrow",[yi(S.label,_)]);return C=new Vn.MathNode("mpadded",[C]),C.setAttribute("width","0"),S.side==="left"&&C.setAttribute("lspace","-1width"),C.setAttribute("voffset","0.7em"),C=new Vn.MathNode("mstyle",[C]),C.setAttribute("displaystyle","false"),C.setAttribute("scriptlevel","1"),C}}),Dt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(S,_){let{parser:C}=S;return{type:"cdlabelparent",mode:C.mode,fragment:_[0]}},htmlBuilder(S,_){const C=Ze.wrapFragment(lr(S.fragment,_),_);return C.classes.push("cd-vert-arrow"),C},mathmlBuilder(S,_){return new Vn.MathNode("mrow",[yi(S.fragment,_)])}}),Dt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(S,_){let{parser:C}=S;const pe=ai(_[0],"ordgroup").body;let Ie="";for(let Pt=0;Pt<pe.length;Pt++){const Jt=ai(pe[Pt],"textord");Ie+=Jt.text}let ot=parseInt(Ie),kt;if(isNaN(ot))throw new h("\\@char has non-numeric argument "+Ie);if(ot<0||ot>=1114111)throw new h("\\@char with invalid code point "+Ie);return ot<=65535?kt=String.fromCharCode(ot):(ot-=65536,kt=String.fromCharCode((ot>>10)+55296,(ot&1023)+56320)),{type:"textord",mode:C.mode,text:kt}}});const su=(S,_)=>{const C=mn(S.body,_.withColor(S.color),!1);return Ze.makeFragment(C)},ou=(S,_)=>{const C=Wi(S.body,_.withColor(S.color)),G=new Vn.MathNode("mstyle",C);return G.setAttribute("mathcolor",S.color),G};Dt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(S,_){let{parser:C}=S;const G=ai(_[0],"color-token").color,pe=_[1];return{type:"color",mode:C.mode,color:G,body:hn(pe)}},htmlBuilder:su,mathmlBuilder:ou}),Dt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(S,_){let{parser:C,breakOnTokenText:G}=S;const pe=ai(_[0],"color-token").color;C.gullet.macros.set("\\current@color",pe);const Ie=C.parseExpression(!0,G);return{type:"color",mode:C.mode,color:pe,body:Ie}},htmlBuilder:su,mathmlBuilder:ou}),Dt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(S,_,C){let{parser:G}=S;const pe=G.gullet.future().text==="["?G.parseSizeGroup(!0):null,Ie=!G.settings.displayMode||!G.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:G.mode,newLine:Ie,size:pe&&ai(pe,"size").value}},htmlBuilder(S,_){const C=Ze.makeSpan(["mspace"],[],_);return S.newLine&&(C.classes.push("newline"),S.size&&(C.style.marginTop=Y(ft(S.size,_)))),C},mathmlBuilder(S,_){const C=new Vn.MathNode("mspace");return S.newLine&&(C.setAttribute("linebreak","newline"),S.size&&C.setAttribute("height",Y(ft(S.size,_)))),C}});const $a={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},sl=S=>{const _=S.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(_))throw new h("Expected a control sequence",S);return _},lu=S=>{let _=S.gullet.popToken();return _.text==="="&&(_=S.gullet.popToken(),_.text===" "&&(_=S.gullet.popToken())),_},zu=(S,_,C,G)=>{let pe=S.gullet.macros.get(C.text);pe==null&&(C.noexpand=!0,pe={tokens:[C],numArgs:0,unexpandable:!S.gullet.isExpandable(C.text)}),S.gullet.macros.set(_,pe,G)};Dt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(S){let{parser:_,funcName:C}=S;_.consumeSpaces();const G=_.fetch();if($a[G.text])return(C==="\\global"||C==="\\\\globallong")&&(G.text=$a[G.text]),ai(_.parseFunction(),"internal");throw new h("Invalid token after macro prefix",G)}}),Dt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(S){let{parser:_,funcName:C}=S,G=_.gullet.popToken();const pe=G.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(pe))throw new h("Expected a control sequence",G);let Ie=0,ot;const kt=[[]];for(;_.gullet.future().text!=="{";)if(G=_.gullet.popToken(),G.text==="#"){if(_.gullet.future().text==="{"){ot=_.gullet.future(),kt[Ie].push("{");break}if(G=_.gullet.popToken(),!/^[1-9]$/.test(G.text))throw new h('Invalid argument number "'+G.text+'"');if(parseInt(G.text)!==Ie+1)throw new h('Argument number "'+G.text+'" out of order');Ie++,kt.push([])}else{if(G.text==="EOF")throw new h("Expected a macro definition");kt[Ie].push(G.text)}let{tokens:Pt}=_.gullet.consumeArg();return ot&&Pt.unshift(ot),(C==="\\edef"||C==="\\xdef")&&(Pt=_.gullet.expandTokens(Pt),Pt.reverse()),_.gullet.macros.set(pe,{tokens:Pt,numArgs:Ie,delimiters:kt},C===$a[C]),{type:"internal",mode:_.mode}}}),Dt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(S){let{parser:_,funcName:C}=S;const G=sl(_.gullet.popToken());_.gullet.consumeSpaces();const pe=lu(_);return zu(_,G,pe,C==="\\\\globallet"),{type:"internal",mode:_.mode}}}),Dt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(S){let{parser:_,funcName:C}=S;const G=sl(_.gullet.popToken()),pe=_.gullet.popToken(),Ie=_.gullet.popToken();return zu(_,G,Ie,C==="\\\\globalfuture"),_.gullet.pushToken(Ie),_.gullet.pushToken(pe),{type:"internal",mode:_.mode}}});const I0=function(S,_,C){const G=En.math[S]&&En.math[S].replace,pe=Tt(G||S,_,C);if(!pe)throw new Error("Unsupported symbol "+S+" and font size "+_+".");return pe},L=function(S,_,C,G){const pe=C.havingBaseStyle(_),Ie=Ze.makeSpan(G.concat(pe.sizingClasses(C)),[S],C),ot=pe.sizeMultiplier/C.sizeMultiplier;return Ie.height*=ot,Ie.depth*=ot,Ie.maxFontSize=pe.sizeMultiplier,Ie},ee=function(S,_,C){const G=_.havingBaseStyle(C),pe=(1-_.sizeMultiplier/G.sizeMultiplier)*_.fontMetrics().axisHeight;S.classes.push("delimcenter"),S.style.top=Y(pe),S.height-=pe,S.depth+=pe},ct=function(S,_,C,G,pe,Ie){const ot=Ze.makeSymbol(S,"Main-Regular",pe,G),kt=L(ot,_,G,Ie);return C&&ee(kt,G,_),kt},It=function(S,_,C,G){return Ze.makeSymbol(S,"Size"+_+"-Regular",C,G)},Wt=function(S,_,C,G,pe,Ie){const ot=It(S,_,pe,G),kt=L(Ze.makeSpan(["delimsizing","size"+_],[ot],G),de.TEXT,G,Ie);return C&&ee(kt,G,de.TEXT),kt},sn=function(S,_,C){let G;return _==="Size1-Regular"?G="delim-size1":G="delim-size4",{type:"elem",elem:Ze.makeSpan(["delimsizinginner",G],[Ze.makeSpan([],[Ze.makeSymbol(S,_,C)])])}},_n=function(S,_,C){const G=se["Size4-Regular"][S.charCodeAt(0)]?se["Size4-Regular"][S.charCodeAt(0)][4]:se["Size1-Regular"][S.charCodeAt(0)][4],pe=new St("inner",en(S,Math.round(1e3*_))),Ie=new tt([pe],{width:Y(G),height:Y(_),style:"width:"+Y(G),viewBox:"0 0 "+1e3*G+" "+Math.round(1e3*_),preserveAspectRatio:"xMinYMin"}),ot=Ze.makeSvgSpan([],[Ie],C);return ot.height=_,ot.style.height=Y(_),ot.style.width=Y(G),{type:"elem",elem:ot}},Ln=.008,Zn={type:"kern",size:-1*Ln},tr=["|","\\lvert","\\rvert","\\vert"],Sr=["\\|","\\lVert","\\rVert","\\Vert"],Fn=function(S,_,C,G,pe,Ie){let ot,kt,Pt,Jt,vn="",wn=0;ot=Pt=Jt=S,kt=null;let Rn="Size1-Regular";S==="\\uparrow"?Pt=Jt="":S==="\\Uparrow"?Pt=Jt="":S==="\\downarrow"?ot=Pt="":S==="\\Downarrow"?ot=Pt="":S==="\\updownarrow"?(ot="\\uparrow",Pt="",Jt="\\downarrow"):S==="\\Updownarrow"?(ot="\\Uparrow",Pt="",Jt="\\Downarrow"):tr.includes(S)?(Pt="",vn="vert",wn=333):Sr.includes(S)?(Pt="",vn="doublevert",wn=556):S==="["||S==="\\lbrack"?(ot="",Pt="",Jt="",Rn="Size4-Regular",vn="lbrack",wn=667):S==="]"||S==="\\rbrack"?(ot="",Pt="",Jt="",Rn="Size4-Regular",vn="rbrack",wn=667):S==="\\lfloor"||S===""?(Pt=ot="",Jt="",Rn="Size4-Regular",vn="lfloor",wn=667):S==="\\lceil"||S===""?(ot="",Pt=Jt="",Rn="Size4-Regular",vn="lceil",wn=667):S==="\\rfloor"||S===""?(Pt=ot="",Jt="",Rn="Size4-Regular",vn="rfloor",wn=667):S==="\\rceil"||S===""?(ot="",Pt=Jt="",Rn="Size4-Regular",vn="rceil",wn=667):S==="("||S==="\\lparen"?(ot="",Pt="",Jt="",Rn="Size4-Regular",vn="lparen",wn=875):S===")"||S==="\\rparen"?(ot="",Pt="",Jt="",Rn="Size4-Regular",vn="rparen",wn=875):S==="\\{"||S==="\\lbrace"?(ot="",kt="",Jt="",Pt="",Rn="Size4-Regular"):S==="\\}"||S==="\\rbrace"?(ot="",kt="",Jt="",Pt="",Rn="Size4-Regular"):S==="\\lgroup"||S===""?(ot="",Jt="",Pt="",Rn="Size4-Regular"):S==="\\rgroup"||S===""?(ot="",Jt="",Pt="",Rn="Size4-Regular"):S==="\\lmoustache"||S===""?(ot="",Jt="",Pt="",Rn="Size4-Regular"):(S==="\\rmoustache"||S==="")&&(ot="",Jt="",Pt="",Rn="Size4-Regular");const ir=I0(ot,Rn,pe),Nr=ir.height+ir.depth,Br=I0(Pt,Rn,pe),wi=Br.height+Br.depth,ui=I0(Jt,Rn,pe),di=ui.height+ui.depth;let zi=0,Oi=1;if(kt!==null){const Hi=I0(kt,Rn,pe);zi=Hi.height+Hi.depth,Oi=2}const ms=Nr+di+zi,Us=Math.max(0,Math.ceil((_-ms)/(Oi*wi))),Os=ms+Us*Oi*wi;let zs=G.fontMetrics().axisHeight;C&&(zs*=G.sizeMultiplier);const Ti=Os/2-zs,ji=[];if(vn.length>0){const Hi=Os-Nr-di,ws=Math.round(Os*1e3),Do=De(vn,Math.round(Hi*1e3)),Ea=new St(vn,Do),Wu=(wn/1e3).toFixed(3)+"em",Kc=(ws/1e3).toFixed(3)+"em",Z1=new tt([Ea],{width:Wu,height:Kc,viewBox:"0 0 "+wn+" "+ws}),Ql=Ze.makeSvgSpan([],[Z1],G);Ql.height=ws/1e3,Ql.style.width=Wu,Ql.style.height=Kc,ji.push({type:"elem",elem:Ql})}else{if(ji.push(sn(Jt,Rn,pe)),ji.push(Zn),kt===null){const Hi=Os-Nr-di+2*Ln;ji.push(_n(Pt,Hi,G))}else{const Hi=(Os-Nr-di-zi)/2+2*Ln;ji.push(_n(Pt,Hi,G)),ji.push(Zn),ji.push(sn(kt,Rn,pe)),ji.push(Zn),ji.push(_n(Pt,Hi,G))}ji.push(Zn),ji.push(sn(ot,Rn,pe))}const Xi=G.havingBaseStyle(de.TEXT),as=Ze.makeVList({positionType:"bottom",positionData:Ti,children:ji},Xi);return L(Ze.makeSpan(["delimsizing","mult"],[as],Xi),de.TEXT,G,Ie)},Wr=80,zr=.08,jr=function(S,_,C,G,pe){const Ie=ut(S,G,C),ot=new St(S,Ie),kt=new tt([ot],{width:"400em",height:Y(_),viewBox:"0 0 400000 "+C,preserveAspectRatio:"xMinYMin slice"});return Ze.makeSvgSpan(["hide-tail"],[kt],pe)},Qr=function(S,_){const C=_.havingBaseSizing(),G=Pi("\\surd",S*C.sizeMultiplier,Ui,C);let pe=C.sizeMultiplier;const Ie=Math.max(0,_.minRuleThickness-_.fontMetrics().sqrtRuleThickness);let ot,kt=0,Pt=0,Jt=0,vn;return G.type==="small"?(Jt=1e3+1e3*Ie+Wr,S<1?pe=1:S<1.4&&(pe=.7),kt=(1+Ie+zr)/pe,Pt=(1+Ie)/pe,ot=jr("sqrtMain",kt,Jt,Ie,_),ot.style.minWidth="0.853em",vn=.833/pe):G.type==="large"?(Jt=(1e3+Wr)*Ur[G.size],Pt=(Ur[G.size]+Ie)/pe,kt=(Ur[G.size]+Ie+zr)/pe,ot=jr("sqrtSize"+G.size,kt,Jt,Ie,_),ot.style.minWidth="1.02em",vn=1/pe):(kt=S+Ie+zr,Pt=S+Ie,Jt=Math.floor(1e3*S+Ie)+Wr,ot=jr("sqrtTall",kt,Jt,Ie,_),ot.style.minWidth="0.742em",vn=1.056),ot.height=Pt,ot.style.height=Y(kt),{span:ot,advanceWidth:vn,ruleWidth:(_.fontMetrics().sqrtRuleThickness+Ie)*pe}},fi=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],Si=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],ar=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Ur=[0,1.2,1.8,2.4,3],_i=function(S,_,C,G,pe){if(S==="<"||S==="\\lt"||S===""?S="\\langle":(S===">"||S==="\\gt"||S==="")&&(S="\\rangle"),fi.includes(S)||ar.includes(S))return Wt(S,_,!1,C,G,pe);if(Si.includes(S))return Fn(S,Ur[_],!1,C,G,pe);throw new h("Illegal delimiter: '"+S+"'")},ri=[{type:"small",style:de.SCRIPTSCRIPT},{type:"small",style:de.SCRIPT},{type:"small",style:de.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Ii=[{type:"small",style:de.SCRIPTSCRIPT},{type:"small",style:de.SCRIPT},{type:"small",style:de.TEXT},{type:"stack"}],Ui=[{type:"small",style:de.SCRIPTSCRIPT},{type:"small",style:de.SCRIPT},{type:"small",style:de.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Ri=function(S){if(S.type==="small")return"Main-Regular";if(S.type==="large")return"Size"+S.size+"-Regular";if(S.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+S.type+"' here.")},Pi=function(S,_,C,G){const pe=Math.min(2,3-G.style.size);for(let Ie=pe;Ie<C.length&&C[Ie].type!=="stack";Ie++){const ot=I0(S,Ri(C[Ie]),"math");let kt=ot.height+ot.depth;if(C[Ie].type==="small"){const Pt=G.havingBaseStyle(C[Ie].style);kt*=Pt.sizeMultiplier}if(kt>_)return C[Ie]}return C[C.length-1]},Li=function(S,_,C,G,pe,Ie){S==="<"||S==="\\lt"||S===""?S="\\langle":(S===">"||S==="\\gt"||S==="")&&(S="\\rangle");let ot;ar.includes(S)?ot=ri:fi.includes(S)?ot=Ui:ot=Ii;const kt=Pi(S,_,ot,G);return kt.type==="small"?ct(S,kt.style,C,G,pe,Ie):kt.type==="large"?Wt(S,kt.size,C,G,pe,Ie):Fn(S,_,C,G,pe,Ie)};var xi={sqrtImage:Qr,sizedDelim:_i,sizeToMaxHeight:Ur,customSizedDelim:Li,leftRightDelim:function(S,_,C,G,pe,Ie){const ot=G.fontMetrics().axisHeight*G.sizeMultiplier,kt=901,Pt=5/G.fontMetrics().ptPerEm,Jt=Math.max(_-ot,C+ot),vn=Math.max(Jt/500*kt,2*Jt-Pt);return Li(S,vn,!0,G,pe,Ie)}};const ps={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Fs=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Ys(S,_){const C=ga(S);if(C&&Fs.includes(C.text))return C;throw C?new h("Invalid delimiter '"+C.text+"' after '"+_.funcName+"'",S):new h("Invalid delimiter type '"+S.type+"'",S)}Dt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(S,_)=>{const C=Ys(_[0],S);return{type:"delimsizing",mode:S.parser.mode,size:ps[S.funcName].size,mclass:ps[S.funcName].mclass,delim:C.text}},htmlBuilder:(S,_)=>S.delim==="."?Ze.makeSpan([S.mclass]):xi.sizedDelim(S.delim,S.size,_,S.mode,[S.mclass]),mathmlBuilder:S=>{const _=[];S.delim!=="."&&_.push(Fr(S.delim,S.mode));const C=new Vn.MathNode("mo",_);S.mclass==="mopen"||S.mclass==="mclose"?C.setAttribute("fence","true"):C.setAttribute("fence","false"),C.setAttribute("stretchy","true");const G=Y(xi.sizeToMaxHeight[S.size]);return C.setAttribute("minsize",G),C.setAttribute("maxsize",G),C}});function Qi(S){if(!S.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Dt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(S,_)=>{const C=S.parser.gullet.macros.get("\\current@color");if(C&&typeof C!="string")throw new h("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:S.parser.mode,delim:Ys(_[0],S).text,color:C}}}),Dt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(S,_)=>{const C=Ys(_[0],S),G=S.parser;++G.leftrightDepth;const pe=G.parseExpression(!1);--G.leftrightDepth,G.expect("\\right",!1);const Ie=ai(G.parseFunction(),"leftright-right");return{type:"leftright",mode:G.mode,body:pe,left:C.text,right:Ie.delim,rightColor:Ie.color}},htmlBuilder:(S,_)=>{Qi(S);const C=mn(S.body,_,!0,["mopen","mclose"]);let G=0,pe=0,Ie=!1;for(let Pt=0;Pt<C.length;Pt++)C[Pt].isMiddle?Ie=!0:(G=Math.max(C[Pt].height,G),pe=Math.max(C[Pt].depth,pe));G*=_.sizeMultiplier,pe*=_.sizeMultiplier;let ot;if(S.left==="."?ot=vr(_,["mopen"]):ot=xi.leftRightDelim(S.left,G,pe,_,S.mode,["mopen"]),C.unshift(ot),Ie)for(let Pt=1;Pt<C.length;Pt++){const vn=C[Pt].isMiddle;vn&&(C[Pt]=xi.leftRightDelim(vn.delim,G,pe,vn.options,S.mode,[]))}let kt;if(S.right===".")kt=vr(_,["mclose"]);else{const Pt=S.rightColor?_.withColor(S.rightColor):_;kt=xi.leftRightDelim(S.right,G,pe,Pt,S.mode,["mclose"])}return C.push(kt),Ze.makeSpan(["minner"],C,_)},mathmlBuilder:(S,_)=>{Qi(S);const C=Wi(S.body,_);if(S.left!=="."){const G=new Vn.MathNode("mo",[Fr(S.left,S.mode)]);G.setAttribute("fence","true"),C.unshift(G)}if(S.right!=="."){const G=new Vn.MathNode("mo",[Fr(S.right,S.mode)]);G.setAttribute("fence","true"),S.rightColor&&G.setAttribute("mathcolor",S.rightColor),C.push(G)}return Zr(C)}}),Dt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(S,_)=>{const C=Ys(_[0],S);if(!S.parser.leftrightDepth)throw new h("\\middle without preceding \\left",C);return{type:"middle",mode:S.parser.mode,delim:C.text}},htmlBuilder:(S,_)=>{let C;if(S.delim===".")C=vr(_,[]);else{C=xi.sizedDelim(S.delim,1,_,S.mode,[]);const G={delim:S.delim,options:_};C.isMiddle=G}return C},mathmlBuilder:(S,_)=>{const C=S.delim==="\\vert"||S.delim==="|"?Fr("|","text"):Fr(S.delim,S.mode),G=new Vn.MathNode("mo",[C]);return G.setAttribute("fence","true"),G.setAttribute("lspace","0.05em"),G.setAttribute("rspace","0.05em"),G}});const lo=(S,_)=>{const C=Ze.wrapFragment(lr(S.body,_),_),G=S.label.slice(1);let pe=_.sizeMultiplier,Ie,ot=0;const kt=he.isCharacterBox(S.body);if(G==="sout")Ie=Ze.makeSpan(["stretchy","sout"]),Ie.height=_.fontMetrics().defaultRuleThickness/pe,ot=-.5*_.fontMetrics().xHeight;else if(G==="phase"){const Jt=ft({number:.6,unit:"pt"},_),vn=ft({number:.35,unit:"ex"},_),wn=_.havingBaseSizing();pe=pe/wn.sizeMultiplier;const Rn=C.height+C.depth+Jt+vn;C.style.paddingLeft=Y(Rn/2+Jt);const ir=Math.floor(1e3*Rn*pe),Nr=Ht(ir),Br=new tt([new St("phase",Nr)],{width:"400em",height:Y(ir/1e3),viewBox:"0 0 400000 "+ir,preserveAspectRatio:"xMinYMin slice"});Ie=Ze.makeSvgSpan(["hide-tail"],[Br],_),Ie.style.height=Y(Rn),ot=C.depth+Jt+vn}else{/cancel/.test(G)?kt||C.classes.push("cancel-pad"):G==="angl"?C.classes.push("anglpad"):C.classes.push("boxpad");let Jt=0,vn=0,wn=0;/box/.test(G)?(wn=Math.max(_.fontMetrics().fboxrule,_.minRuleThickness),Jt=_.fontMetrics().fboxsep+(G==="colorbox"?0:wn),vn=Jt):G==="angl"?(wn=Math.max(_.fontMetrics().defaultRuleThickness,_.minRuleThickness),Jt=4*wn,vn=Math.max(0,.25-C.depth)):(Jt=kt?.2:0,vn=Jt),Ie=Uo.encloseSpan(C,G,Jt,vn,_),/fbox|boxed|fcolorbox/.test(G)?(Ie.style.borderStyle="solid",Ie.style.borderWidth=Y(wn)):G==="angl"&&wn!==.049&&(Ie.style.borderTopWidth=Y(wn),Ie.style.borderRightWidth=Y(wn)),ot=C.depth+vn,S.backgroundColor&&(Ie.style.backgroundColor=S.backgroundColor,S.borderColor&&(Ie.style.borderColor=S.borderColor))}let Pt;if(S.backgroundColor)Pt=Ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ie,shift:ot},{type:"elem",elem:C,shift:0}]},_);else{const Jt=/cancel|phase/.test(G)?["svg-align"]:[];Pt=Ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:C,shift:0},{type:"elem",elem:Ie,shift:ot,wrapperClasses:Jt}]},_)}return/cancel/.test(G)&&(Pt.height=C.height,Pt.depth=C.depth),/cancel/.test(G)&&!kt?Ze.makeSpan(["mord","cancel-lap"],[Pt],_):Ze.makeSpan(["mord"],[Pt],_)},Oo=(S,_)=>{let C=0;const G=new Vn.MathNode(S.label.indexOf("colorbox")>-1?"mpadded":"menclose",[yi(S.body,_)]);switch(S.label){case"\\cancel":G.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":G.setAttribute("notation","downdiagonalstrike");break;case"\\phase":G.setAttribute("notation","phasorangle");break;case"\\sout":G.setAttribute("notation","horizontalstrike");break;case"\\fbox":G.setAttribute("notation","box");break;case"\\angl":G.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(C=_.fontMetrics().fboxsep*_.fontMetrics().ptPerEm,G.setAttribute("width","+"+2*C+"pt"),G.setAttribute("height","+"+2*C+"pt"),G.setAttribute("lspace",C+"pt"),G.setAttribute("voffset",C+"pt"),S.label==="\\fcolorbox"){const pe=Math.max(_.fontMetrics().fboxrule,_.minRuleThickness);G.setAttribute("style","border: "+pe+"em solid "+String(S.borderColor))}break;case"\\xcancel":G.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return S.backgroundColor&&G.setAttribute("mathbackground",S.backgroundColor),G};Dt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(S,_,C){let{parser:G,funcName:pe}=S;const Ie=ai(_[0],"color-token").color,ot=_[1];return{type:"enclose",mode:G.mode,label:pe,backgroundColor:Ie,body:ot}},htmlBuilder:lo,mathmlBuilder:Oo}),Dt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(S,_,C){let{parser:G,funcName:pe}=S;const Ie=ai(_[0],"color-token").color,ot=ai(_[1],"color-token").color,kt=_[2];return{type:"enclose",mode:G.mode,label:pe,backgroundColor:ot,borderColor:Ie,body:kt}},htmlBuilder:lo,mathmlBuilder:Oo}),Dt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(S,_){let{parser:C}=S;return{type:"enclose",mode:C.mode,label:"\\fbox",body:_[0]}}}),Dt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(S,_){let{parser:C,funcName:G}=S;const pe=_[0];return{type:"enclose",mode:C.mode,label:G,body:pe}},htmlBuilder:lo,mathmlBuilder:Oo}),Dt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(S,_){let{parser:C}=S;return{type:"enclose",mode:C.mode,label:"\\angl",body:_[0]}}});const Ks={};function $i(S){let{type:_,names:C,props:G,handler:pe,htmlBuilder:Ie,mathmlBuilder:ot}=S;const kt={type:_,numArgs:G.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:pe};for(let Pt=0;Pt<C.length;++Pt)Ks[C[Pt]]=kt;Ie&&(it[_]=Ie),ot&&(Nt[_]=ot)}const Ns={};function xt(S,_){Ns[S]=_}class ts{constructor(_,C,G){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=_,this.start=C,this.end=G}static range(_,C){return C?!_||!_.loc||!C.loc||_.loc.lexer!==C.loc.lexer?null:new ts(_.loc.lexer,_.loc.start,C.loc.end):_&&_.loc}}class xs{constructor(_,C){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=_,this.loc=C}range(_,C){return new xs(C,ts.range(this,_))}}function O0(S){const _=[];S.consumeSpaces();let C=S.fetch().text;for(C==="\\relax"&&(S.consume(),S.consumeSpaces(),C=S.fetch().text);C==="\\hline"||C==="\\hdashline";)S.consume(),_.push(C==="\\hdashline"),S.consumeSpaces(),C=S.fetch().text;return _}const So=S=>{if(!S.parser.settings.displayMode)throw new h("{"+S.envName+"} can be used only in display mode.")};function Ro(S){if(S.indexOf("ed")===-1)return S.indexOf("*")===-1}function $o(S,_,C){let{hskipBeforeAndAfter:G,addJot:pe,cols:Ie,arraystretch:ot,colSeparationType:kt,autoTag:Pt,singleRow:Jt,emptySingleRow:vn,maxNumCols:wn,leqno:Rn}=_;if(S.gullet.beginGroup(),Jt||S.gullet.macros.set("\\cr","\\\\\\relax"),!ot){const Oi=S.gullet.expandMacroAsText("\\arraystretch");if(Oi==null)ot=1;else if(ot=parseFloat(Oi),!ot||ot<0)throw new h("Invalid \\arraystretch: "+Oi)}S.gullet.beginGroup();let ir=[];const Nr=[ir],Br=[],wi=[],ui=Pt!=null?[]:void 0;function di(){Pt&&S.gullet.macros.set("\\@eqnsw","1",!0)}function zi(){ui&&(S.gullet.macros.get("\\df@tag")?(ui.push(S.subparse([new xs("\\df@tag")])),S.gullet.macros.set("\\df@tag",void 0,!0)):ui.push(!!Pt&&S.gullet.macros.get("\\@eqnsw")==="1"))}for(di(),wi.push(O0(S));;){let Oi=S.parseExpression(!1,Jt?"\\end":"\\\\");S.gullet.endGroup(),S.gullet.beginGroup(),Oi={type:"ordgroup",mode:S.mode,body:Oi},C&&(Oi={type:"styling",mode:S.mode,style:C,body:[Oi]}),ir.push(Oi);const ms=S.fetch().text;if(ms==="&"){if(wn&&ir.length===wn){if(Jt||kt)throw new h("Too many tab characters: &",S.nextToken);S.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}S.consume()}else if(ms==="\\end"){zi(),ir.length===1&&Oi.type==="styling"&&Oi.body[0].body.length===0&&(Nr.length>1||!vn)&&Nr.pop(),wi.length<Nr.length+1&&wi.push([]);break}else if(ms==="\\\\"){S.consume();let Us;S.gullet.future().text!==" "&&(Us=S.parseSizeGroup(!0)),Br.push(Us?Us.value:null),zi(),wi.push(O0(S)),ir=[],Nr.push(ir),di()}else throw new h("Expected & or \\\\ or \\cr or \\end",S.nextToken)}return S.gullet.endGroup(),S.gullet.endGroup(),{type:"array",mode:S.mode,addJot:pe,arraystretch:ot,body:Nr,cols:Ie,rowGaps:Br,hskipBeforeAndAfter:G,hLinesBeforeRow:wi,colSeparationType:kt,tags:ui,leqno:Rn}}function Is(S){return S.slice(0,1)==="d"?"display":"text"}const ii=function(S,_){let C,G;const pe=S.body.length,Ie=S.hLinesBeforeRow;let ot=0,kt=new Array(pe);const Pt=[],Jt=Math.max(_.fontMetrics().arrayRuleWidth,_.minRuleThickness),vn=1/_.fontMetrics().ptPerEm;let wn=5*vn;S.colSeparationType&&S.colSeparationType==="small"&&(wn=.2778*(_.havingStyle(de.SCRIPT).sizeMultiplier/_.sizeMultiplier));const Rn=S.colSeparationType==="CD"?ft({number:3,unit:"ex"},_):12*vn,ir=3*vn,Nr=S.arraystretch*Rn,Br=.7*Nr,wi=.3*Nr;let ui=0;function di(Ti){for(let ji=0;ji<Ti.length;++ji)ji>0&&(ui+=.25),Pt.push({pos:ui,isDashed:Ti[ji]})}for(di(Ie[0]),C=0;C<S.body.length;++C){const Ti=S.body[C];let ji=Br,Xi=wi;ot<Ti.length&&(ot=Ti.length);const as=new Array(Ti.length);for(G=0;G<Ti.length;++G){const Do=lr(Ti[G],_);Xi<Do.depth&&(Xi=Do.depth),ji<Do.height&&(ji=Do.height),as[G]=Do}const Hi=S.rowGaps[C];let ws=0;Hi&&(ws=ft(Hi,_),ws>0&&(ws+=wi,Xi<ws&&(Xi=ws),ws=0)),S.addJot&&(Xi+=ir),as.height=ji,as.depth=Xi,ui+=ji,as.pos=ui,ui+=Xi+ws,kt[C]=as,di(Ie[C+1])}const zi=ui/2+_.fontMetrics().axisHeight,Oi=S.cols||[],ms=[];let Us,Os;const zs=[];if(S.tags&&S.tags.some(Ti=>Ti))for(C=0;C<pe;++C){const Ti=kt[C],ji=Ti.pos-zi,Xi=S.tags[C];let as;Xi===!0?as=Ze.makeSpan(["eqn-num"],[],_):Xi===!1?as=Ze.makeSpan([],[],_):as=Ze.makeSpan([],mn(Xi,_,!0),_),as.depth=Ti.depth,as.height=Ti.height,zs.push({type:"elem",elem:as,shift:ji})}for(G=0,Os=0;G<ot||Os<Oi.length;++G,++Os){let Ti=Oi[Os]||{},ji=!0;for(;Ti.type==="separator";){if(ji||(Us=Ze.makeSpan(["arraycolsep"],[]),Us.style.width=Y(_.fontMetrics().doubleRuleSep),ms.push(Us)),Ti.separator==="|"||Ti.separator===":"){const Hi=Ti.separator==="|"?"solid":"dashed",ws=Ze.makeSpan(["vertical-separator"],[],_);ws.style.height=Y(ui),ws.style.borderRightWidth=Y(Jt),ws.style.borderRightStyle=Hi,ws.style.margin="0 "+Y(-Jt/2);const Do=ui-zi;Do&&(ws.style.verticalAlign=Y(-Do)),ms.push(ws)}else throw new h("Invalid separator type: "+Ti.separator);Os++,Ti=Oi[Os]||{},ji=!1}if(G>=ot)continue;let Xi;(G>0||S.hskipBeforeAndAfter)&&(Xi=he.deflt(Ti.pregap,wn),Xi!==0&&(Us=Ze.makeSpan(["arraycolsep"],[]),Us.style.width=Y(Xi),ms.push(Us)));let as=[];for(C=0;C<pe;++C){const Hi=kt[C],ws=Hi[G];if(!ws)continue;const Do=Hi.pos-zi;ws.depth=Hi.depth,ws.height=Hi.height,as.push({type:"elem",elem:ws,shift:Do})}as=Ze.makeVList({positionType:"individualShift",children:as},_),as=Ze.makeSpan(["col-align-"+(Ti.align||"c")],[as]),ms.push(as),(G<ot-1||S.hskipBeforeAndAfter)&&(Xi=he.deflt(Ti.postgap,wn),Xi!==0&&(Us=Ze.makeSpan(["arraycolsep"],[]),Us.style.width=Y(Xi),ms.push(Us)))}if(kt=Ze.makeSpan(["mtable"],ms),Pt.length>0){const Ti=Ze.makeLineSpan("hline",_,Jt),ji=Ze.makeLineSpan("hdashline",_,Jt),Xi=[{type:"elem",elem:kt,shift:0}];for(;Pt.length>0;){const as=Pt.pop(),Hi=as.pos-zi;as.isDashed?Xi.push({type:"elem",elem:ji,shift:Hi}):Xi.push({type:"elem",elem:Ti,shift:Hi})}kt=Ze.makeVList({positionType:"individualShift",children:Xi},_)}if(zs.length===0)return Ze.makeSpan(["mord"],[kt],_);{let Ti=Ze.makeVList({positionType:"individualShift",children:zs},_);return Ti=Ze.makeSpan(["tag"],[Ti],_),Ze.makeFragment([kt,Ti])}},bo={c:"center ",l:"left ",r:"right "},os=function(S,_){const C=[],G=new Vn.MathNode("mtd",[],["mtr-glue"]),pe=new Vn.MathNode("mtd",[],["mml-eqn-num"]);for(let wn=0;wn<S.body.length;wn++){const Rn=S.body[wn],ir=[];for(let Nr=0;Nr<Rn.length;Nr++)ir.push(new Vn.MathNode("mtd",[yi(Rn[Nr],_)]));S.tags&&S.tags[wn]&&(ir.unshift(G),ir.push(G),S.leqno?ir.unshift(pe):ir.push(pe)),C.push(new Vn.MathNode("mtr",ir))}let Ie=new Vn.MathNode("mtable",C);const ot=S.arraystretch===.5?.1:.16+S.arraystretch-1+(S.addJot?.09:0);Ie.setAttribute("rowspacing",Y(ot));let kt="",Pt="";if(S.cols&&S.cols.length>0){const wn=S.cols;let Rn="",ir=!1,Nr=0,Br=wn.length;wn[0].type==="separator"&&(kt+="top ",Nr=1),wn[wn.length-1].type==="separator"&&(kt+="bottom ",Br-=1);for(let wi=Nr;wi<Br;wi++)wn[wi].type==="align"?(Pt+=bo[wn[wi].align],ir&&(Rn+="none "),ir=!0):wn[wi].type==="separator"&&ir&&(Rn+=wn[wi].separator==="|"?"solid ":"dashed ",ir=!1);Ie.setAttribute("columnalign",Pt.trim()),/[sd]/.test(Rn)&&Ie.setAttribute("columnlines",Rn.trim())}if(S.colSeparationType==="align"){const wn=S.cols||[];let Rn="";for(let ir=1;ir<wn.length;ir++)Rn+=ir%2?"0em ":"1em ";Ie.setAttribute("columnspacing",Rn.trim())}else S.colSeparationType==="alignat"||S.colSeparationType==="gather"?Ie.setAttribute("columnspacing","0em"):S.colSeparationType==="small"?Ie.setAttribute("columnspacing","0.2778em"):S.colSeparationType==="CD"?Ie.setAttribute("columnspacing","0.5em"):Ie.setAttribute("columnspacing","1em");let Jt="";const vn=S.hLinesBeforeRow;kt+=vn[0].length>0?"left ":"",kt+=vn[vn.length-1].length>0?"right ":"";for(let wn=1;wn<vn.length-1;wn++)Jt+=vn[wn].length===0?"none ":vn[wn][0]?"dashed ":"solid ";return/[sd]/.test(Jt)&&Ie.setAttribute("rowlines",Jt.trim()),kt!==""&&(Ie=new Vn.MathNode("menclose",[Ie]),Ie.setAttribute("notation",kt.trim())),S.arraystretch&&S.arraystretch<1&&(Ie=new Vn.MathNode("mstyle",[Ie]),Ie.setAttribute("scriptlevel","1")),Ie},Lo=function(S,_){S.envName.indexOf("ed")===-1&&So(S);const C=[],G=S.envName.indexOf("at")>-1?"alignat":"align",pe=S.envName==="split",Ie=$o(S.parser,{cols:C,addJot:!0,autoTag:pe?void 0:Ro(S.envName),emptySingleRow:!0,colSeparationType:G,maxNumCols:pe?2:void 0,leqno:S.parser.settings.leqno},"display");let ot,kt=0;const Pt={type:"ordgroup",mode:S.mode,body:[]};if(_[0]&&_[0].type==="ordgroup"){let vn="";for(let wn=0;wn<_[0].body.length;wn++){const Rn=ai(_[0].body[wn],"textord");vn+=Rn.text}ot=Number(vn),kt=ot*2}const Jt=!kt;Ie.body.forEach(function(vn){for(let wn=1;wn<vn.length;wn+=2){const Rn=ai(vn[wn],"styling");ai(Rn.body[0],"ordgroup").body.unshift(Pt)}if(Jt)kt<vn.length&&(kt=vn.length);else{const wn=vn.length/2;if(ot<wn)throw new h("Too many math in a row: "+("expected "+ot+", but got "+wn),vn[0])}});for(let vn=0;vn<kt;++vn){let wn="r",Rn=0;vn%2===1?wn="l":vn>0&&Jt&&(Rn=1),C[vn]={type:"align",align:wn,pregap:Rn,postgap:0}}return Ie.colSeparationType=Jt?"align":"alignat",Ie};$i({type:"array",names:["array","darray"],props:{numArgs:1},handler(S,_){const pe=(ga(_[0])?[_[0]]:ai(_[0],"ordgroup").body).map(function(ot){const Pt=Fu(ot).text;if("lcr".indexOf(Pt)!==-1)return{type:"align",align:Pt};if(Pt==="|")return{type:"separator",separator:"|"};if(Pt===":")return{type:"separator",separator:":"};throw new h("Unknown column alignment: "+Pt,ot)}),Ie={cols:pe,hskipBeforeAndAfter:!0,maxNumCols:pe.length};return $o(S.parser,Ie,Is(S.envName))},htmlBuilder:ii,mathmlBuilder:os}),$i({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(S){const _={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[S.envName.replace("*","")];let C="c";const G={hskipBeforeAndAfter:!1,cols:[{type:"align",align:C}]};if(S.envName.charAt(S.envName.length-1)==="*"){const ot=S.parser;if(ot.consumeSpaces(),ot.fetch().text==="["){if(ot.consume(),ot.consumeSpaces(),C=ot.fetch().text,"lcr".indexOf(C)===-1)throw new h("Expected l or c or r",ot.nextToken);ot.consume(),ot.consumeSpaces(),ot.expect("]"),ot.consume(),G.cols=[{type:"align",align:C}]}}const pe=$o(S.parser,G,Is(S.envName)),Ie=Math.max(0,...pe.body.map(ot=>ot.length));return pe.cols=new Array(Ie).fill({type:"align",align:C}),_?{type:"leftright",mode:S.mode,body:[pe],left:_[0],right:_[1],rightColor:void 0}:pe},htmlBuilder:ii,mathmlBuilder:os}),$i({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(S){const _={arraystretch:.5},C=$o(S.parser,_,"script");return C.colSeparationType="small",C},htmlBuilder:ii,mathmlBuilder:os}),$i({type:"array",names:["subarray"],props:{numArgs:1},handler(S,_){const pe=(ga(_[0])?[_[0]]:ai(_[0],"ordgroup").body).map(function(ot){const Pt=Fu(ot).text;if("lc".indexOf(Pt)!==-1)return{type:"align",align:Pt};throw new h("Unknown column alignment: "+Pt,ot)});if(pe.length>1)throw new h("{subarray} can contain only one column");let Ie={cols:pe,hskipBeforeAndAfter:!1,arraystretch:.5};if(Ie=$o(S.parser,Ie,"script"),Ie.body.length>0&&Ie.body[0].length>1)throw new h("{subarray} can contain only one column");return Ie},htmlBuilder:ii,mathmlBuilder:os}),$i({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(S){const _={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},C=$o(S.parser,_,Is(S.envName));return{type:"leftright",mode:S.mode,body:[C],left:S.envName.indexOf("r")>-1?".":"\\{",right:S.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ii,mathmlBuilder:os}),$i({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Lo,htmlBuilder:ii,mathmlBuilder:os}),$i({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(S){["gather","gather*"].includes(S.envName)&&So(S);const _={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Ro(S.envName),emptySingleRow:!0,leqno:S.parser.settings.leqno};return $o(S.parser,_,"display")},htmlBuilder:ii,mathmlBuilder:os}),$i({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Lo,htmlBuilder:ii,mathmlBuilder:os}),$i({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(S){So(S);const _={autoTag:Ro(S.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:S.parser.settings.leqno};return $o(S.parser,_,"display")},htmlBuilder:ii,mathmlBuilder:os}),$i({type:"array",names:["CD"],props:{numArgs:0},handler(S){return So(S),Uu(S.parser)},htmlBuilder:ii,mathmlBuilder:os}),xt("\\nonumber","\\gdef\\@eqnsw{0}"),xt("\\notag","\\nonumber"),Dt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(S,_){throw new h(S.funcName+" valid only within array environment")}});var ol=Ks;Dt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(S,_){let{parser:C,funcName:G}=S;const pe=_[0];if(pe.type!=="ordgroup")throw new h("Invalid environment name",pe);let Ie="";for(let ot=0;ot<pe.body.length;++ot)Ie+=ai(pe.body[ot],"textord").text;if(G==="\\begin"){if(!ol.hasOwnProperty(Ie))throw new h("No such environment: "+Ie,pe);const ot=ol[Ie],{args:kt,optArgs:Pt}=C.parseArguments("\\begin{"+Ie+"}",ot),Jt={mode:C.mode,envName:Ie,parser:C},vn=ot.handler(Jt,kt,Pt);C.expect("\\end",!1);const wn=C.nextToken,Rn=ai(C.parseFunction(),"environment");if(Rn.name!==Ie)throw new h("Mismatch: \\begin{"+Ie+"} matched by \\end{"+Rn.name+"}",wn);return vn}return{type:"environment",mode:C.mode,name:Ie,nameGroup:pe}}});const ql=(S,_)=>{const C=S.font,G=_.withFont(C);return lr(S.body,G)},y0=(S,_)=>{const C=S.font,G=_.withFont(C);return yi(S.body,G)},Uc={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Dt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(S,_)=>{let{parser:C,funcName:G}=S;const pe=Sn(_[0]);let Ie=G;return Ie in Uc&&(Ie=Uc[Ie]),{type:"font",mode:C.mode,font:Ie.slice(1),body:pe}},htmlBuilder:ql,mathmlBuilder:y0}),Dt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(S,_)=>{let{parser:C}=S;const G=_[0],pe=he.isCharacterBox(G);return{type:"mclass",mode:C.mode,mclass:va(G),body:[{type:"font",mode:C.mode,font:"boldsymbol",body:G}],isCharacterBox:pe}}}),Dt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(S,_)=>{let{parser:C,funcName:G,breakOnTokenText:pe}=S;const{mode:Ie}=C,ot=C.parseExpression(!0,pe),kt="math"+G.slice(1);return{type:"font",mode:Ie,font:kt,body:{type:"ordgroup",mode:C.mode,body:ot}}},htmlBuilder:ql,mathmlBuilder:y0});const ll=(S,_)=>{let C=_;return S==="display"?C=C.id>=de.SCRIPT.id?C.text():de.DISPLAY:S==="text"&&C.size===de.DISPLAY.size?C=de.TEXT:S==="script"?C=de.SCRIPT:S==="scriptscript"&&(C=de.SCRIPTSCRIPT),C},R0=(S,_)=>{const C=ll(S.size,_.style),G=C.fracNum(),pe=C.fracDen();let Ie;Ie=_.havingStyle(G);const ot=lr(S.numer,Ie,_);if(S.continued){const di=8.5/_.fontMetrics().ptPerEm,zi=3.5/_.fontMetrics().ptPerEm;ot.height=ot.height<di?di:ot.height,ot.depth=ot.depth<zi?zi:ot.depth}Ie=_.havingStyle(pe);const kt=lr(S.denom,Ie,_);let Pt,Jt,vn;S.hasBarLine?(S.barSize?(Jt=ft(S.barSize,_),Pt=Ze.makeLineSpan("frac-line",_,Jt)):Pt=Ze.makeLineSpan("frac-line",_),Jt=Pt.height,vn=Pt.height):(Pt=null,Jt=0,vn=_.fontMetrics().defaultRuleThickness);let wn,Rn,ir;C.size===de.DISPLAY.size||S.size==="display"?(wn=_.fontMetrics().num1,Jt>0?Rn=3*vn:Rn=7*vn,ir=_.fontMetrics().denom1):(Jt>0?(wn=_.fontMetrics().num2,Rn=vn):(wn=_.fontMetrics().num3,Rn=3*vn),ir=_.fontMetrics().denom2);let Nr;if(Pt){const di=_.fontMetrics().axisHeight;wn-ot.depth-(di+.5*Jt)<Rn&&(wn+=Rn-(wn-ot.depth-(di+.5*Jt))),di-.5*Jt-(kt.height-ir)<Rn&&(ir+=Rn-(di-.5*Jt-(kt.height-ir)));const zi=-(di-.5*Jt);Nr=Ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:kt,shift:ir},{type:"elem",elem:Pt,shift:zi},{type:"elem",elem:ot,shift:-wn}]},_)}else{const di=wn-ot.depth-(kt.height-ir);di<Rn&&(wn+=.5*(Rn-di),ir+=.5*(Rn-di)),Nr=Ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:kt,shift:ir},{type:"elem",elem:ot,shift:-wn}]},_)}Ie=_.havingStyle(C),Nr.height*=Ie.sizeMultiplier/_.sizeMultiplier,Nr.depth*=Ie.sizeMultiplier/_.sizeMultiplier;let Br;C.size===de.DISPLAY.size?Br=_.fontMetrics().delim1:C.size===de.SCRIPTSCRIPT.size?Br=_.havingStyle(de.SCRIPT).fontMetrics().delim2:Br=_.fontMetrics().delim2;let wi,ui;return S.leftDelim==null?wi=vr(_,["mopen"]):wi=xi.customSizedDelim(S.leftDelim,Br,!0,_.havingStyle(C),S.mode,["mopen"]),S.continued?ui=Ze.makeSpan([]):S.rightDelim==null?ui=vr(_,["mclose"]):ui=xi.customSizedDelim(S.rightDelim,Br,!0,_.havingStyle(C),S.mode,["mclose"]),Ze.makeSpan(["mord"].concat(Ie.sizingClasses(_)),[wi,Ze.makeSpan(["mfrac"],[Nr]),ui],_)},zc=(S,_)=>{let C=new Vn.MathNode("mfrac",[yi(S.numer,_),yi(S.denom,_)]);if(!S.hasBarLine)C.setAttribute("linethickness","0px");else if(S.barSize){const pe=ft(S.barSize,_);C.setAttribute("linethickness",Y(pe))}const G=ll(S.size,_.style);if(G.size!==_.style.size){C=new Vn.MathNode("mstyle",[C]);const pe=G.size===de.DISPLAY.size?"true":"false";C.setAttribute("displaystyle",pe),C.setAttribute("scriptlevel","0")}if(S.leftDelim!=null||S.rightDelim!=null){const pe=[];if(S.leftDelim!=null){const Ie=new Vn.MathNode("mo",[new Vn.TextNode(S.leftDelim.replace("\\",""))]);Ie.setAttribute("fence","true"),pe.push(Ie)}if(pe.push(C),S.rightDelim!=null){const Ie=new Vn.MathNode("mo",[new Vn.TextNode(S.rightDelim.replace("\\",""))]);Ie.setAttribute("fence","true"),pe.push(Ie)}return Zr(pe)}return C};Dt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(S,_)=>{let{parser:C,funcName:G}=S;const pe=_[0],Ie=_[1];let ot,kt=null,Pt=null,Jt="auto";switch(G){case"\\dfrac":case"\\frac":case"\\tfrac":ot=!0;break;case"\\\\atopfrac":ot=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":ot=!1,kt="(",Pt=")";break;case"\\\\bracefrac":ot=!1,kt="\\{",Pt="\\}";break;case"\\\\brackfrac":ot=!1,kt="[",Pt="]";break;default:throw new Error("Unrecognized genfrac command")}switch(G){case"\\dfrac":case"\\dbinom":Jt="display";break;case"\\tfrac":case"\\tbinom":Jt="text";break}return{type:"genfrac",mode:C.mode,continued:!1,numer:pe,denom:Ie,hasBarLine:ot,leftDelim:kt,rightDelim:Pt,size:Jt,barSize:null}},htmlBuilder:R0,mathmlBuilder:zc}),Dt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(S,_)=>{let{parser:C,funcName:G}=S;const pe=_[0],Ie=_[1];return{type:"genfrac",mode:C.mode,continued:!0,numer:pe,denom:Ie,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),Dt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(S){let{parser:_,funcName:C,token:G}=S,pe;switch(C){case"\\over":pe="\\frac";break;case"\\choose":pe="\\binom";break;case"\\atop":pe="\\\\atopfrac";break;case"\\brace":pe="\\\\bracefrac";break;case"\\brack":pe="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:_.mode,replaceWith:pe,token:G}}});const zo=["display","text","script","scriptscript"],Hc=function(S){let _=null;return S.length>0&&(_=S,_=_==="."?null:_),_};Dt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(S,_){let{parser:C}=S;const G=_[4],pe=_[5],Ie=Sn(_[0]),ot=Ie.type==="atom"&&Ie.family==="open"?Hc(Ie.text):null,kt=Sn(_[1]),Pt=kt.type==="atom"&&kt.family==="close"?Hc(kt.text):null,Jt=ai(_[2],"size");let vn,wn=null;Jt.isBlank?vn=!0:(wn=Jt.value,vn=wn.number>0);let Rn="auto",ir=_[3];if(ir.type==="ordgroup"){if(ir.body.length>0){const Nr=ai(ir.body[0],"textord");Rn=zo[Number(Nr.text)]}}else ir=ai(ir,"textord"),Rn=zo[Number(ir.text)];return{type:"genfrac",mode:C.mode,numer:G,denom:pe,continued:!1,hasBarLine:vn,barSize:wn,leftDelim:ot,rightDelim:Pt,size:Rn}},htmlBuilder:R0,mathmlBuilder:zc}),Dt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(S,_){let{parser:C,funcName:G,token:pe}=S;return{type:"infix",mode:C.mode,replaceWith:"\\\\abovefrac",size:ai(_[0],"size").value,token:pe}}}),Dt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(S,_)=>{let{parser:C,funcName:G}=S;const pe=_[0],Ie=K(ai(_[1],"infix").size),ot=_[2],kt=Ie.number>0;return{type:"genfrac",mode:C.mode,numer:pe,denom:ot,continued:!1,hasBarLine:kt,barSize:Ie,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:R0,mathmlBuilder:zc});const al=(S,_)=>{const C=_.style;let G,pe;S.type==="supsub"?(G=S.sup?lr(S.sup,_.havingStyle(C.sup()),_):lr(S.sub,_.havingStyle(C.sub()),_),pe=ai(S.base,"horizBrace")):pe=ai(S,"horizBrace");const Ie=lr(pe.base,_.havingBaseStyle(de.DISPLAY)),ot=Uo.svgSpan(pe,_);let kt;if(pe.isOver?(kt=Ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Ie},{type:"kern",size:.1},{type:"elem",elem:ot}]},_),kt.children[0].children[0].children[1].classes.push("svg-align")):(kt=Ze.makeVList({positionType:"bottom",positionData:Ie.depth+.1+ot.height,children:[{type:"elem",elem:ot},{type:"kern",size:.1},{type:"elem",elem:Ie}]},_),kt.children[0].children[0].children[0].classes.push("svg-align")),G){const Pt=Ze.makeSpan(["mord",pe.isOver?"mover":"munder"],[kt],_);pe.isOver?kt=Ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Pt},{type:"kern",size:.2},{type:"elem",elem:G}]},_):kt=Ze.makeVList({positionType:"bottom",positionData:Pt.depth+.2+G.height+G.depth,children:[{type:"elem",elem:G},{type:"kern",size:.2},{type:"elem",elem:Pt}]},_)}return Ze.makeSpan(["mord",pe.isOver?"mover":"munder"],[kt],_)};Dt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(S,_){let{parser:C,funcName:G}=S;return{type:"horizBrace",mode:C.mode,label:G,isOver:/^\\over/.test(G),base:_[0]}},htmlBuilder:al,mathmlBuilder:(S,_)=>{const C=Uo.mathMLnode(S.label);return new Vn.MathNode(S.isOver?"mover":"munder",[yi(S.base,_),C])}}),Dt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(S,_)=>{let{parser:C}=S;const G=_[1],pe=ai(_[0],"url").url;return C.settings.isTrusted({command:"\\href",url:pe})?{type:"href",mode:C.mode,href:pe,body:hn(G)}:C.formatUnsupportedCmd("\\href")},htmlBuilder:(S,_)=>{const C=mn(S.body,_,!1);return Ze.makeAnchor(S.href,[],C,_)},mathmlBuilder:(S,_)=>{let C=Bs(S.body,_);return C instanceof cr||(C=new cr("mrow",[C])),C.setAttribute("href",S.href),C}}),Dt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(S,_)=>{let{parser:C}=S;const G=ai(_[0],"url").url;if(!C.settings.isTrusted({command:"\\url",url:G}))return C.formatUnsupportedCmd("\\url");const pe=[];for(let ot=0;ot<G.length;ot++){let kt=G[ot];kt==="~"&&(kt="\\textasciitilde"),pe.push({type:"textord",mode:"text",text:kt})}const Ie={type:"text",mode:C.mode,font:"\\texttt",body:pe};return{type:"href",mode:C.mode,href:G,body:hn(Ie)}}}),Dt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(S,_){let{parser:C}=S;return{type:"hbox",mode:C.mode,body:hn(_[0])}},htmlBuilder(S,_){const C=mn(S.body,_,!1);return Ze.makeFragment(C)},mathmlBuilder(S,_){return new Vn.MathNode("mrow",Wi(S.body,_))}}),Dt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(S,_)=>{let{parser:C,funcName:G,token:pe}=S;const Ie=ai(_[0],"raw").string,ot=_[1];C.settings.strict&&C.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let kt;const Pt={};switch(G){case"\\htmlClass":Pt.class=Ie,kt={command:"\\htmlClass",class:Ie};break;case"\\htmlId":Pt.id=Ie,kt={command:"\\htmlId",id:Ie};break;case"\\htmlStyle":Pt.style=Ie,kt={command:"\\htmlStyle",style:Ie};break;case"\\htmlData":{const Jt=Ie.split(",");for(let vn=0;vn<Jt.length;vn++){const wn=Jt[vn].split("=");if(wn.length!==2)throw new h("Error parsing key-value for \\htmlData");Pt["data-"+wn[0].trim()]=wn[1].trim()}kt={command:"\\htmlData",attributes:Pt};break}default:throw new Error("Unrecognized html command")}return C.settings.isTrusted(kt)?{type:"html",mode:C.mode,attributes:Pt,body:hn(ot)}:C.formatUnsupportedCmd(G)},htmlBuilder:(S,_)=>{const C=mn(S.body,_,!1),G=["enclosing"];S.attributes.class&&G.push(...S.attributes.class.trim().split(/\s+/));const pe=Ze.makeSpan(G,C,_);for(const Ie in S.attributes)Ie!=="class"&&S.attributes.hasOwnProperty(Ie)&&pe.setAttribute(Ie,S.attributes[Ie]);return pe},mathmlBuilder:(S,_)=>Bs(S.body,_)}),Dt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(S,_)=>{let{parser:C}=S;return{type:"htmlmathml",mode:C.mode,html:hn(_[0]),mathml:hn(_[1])}},htmlBuilder:(S,_)=>{const C=mn(S.html,_,!1);return Ze.makeFragment(C)},mathmlBuilder:(S,_)=>Bs(S.mathml,_)});const ba=function(S){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(S))return{number:+S,unit:"bp"};{const _=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(S);if(!_)throw new h("Invalid size: '"+S+"' in \\includegraphics");const C={number:+(_[1]+_[2]),unit:_[3]};if(!wt(C))throw new h("Invalid unit: '"+C.unit+"' in \\includegraphics.");return C}};Dt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(S,_,C)=>{let{parser:G}=S,pe={number:0,unit:"em"},Ie={number:.9,unit:"em"},ot={number:0,unit:"em"},kt="";if(C[0]){const vn=ai(C[0],"raw").string.split(",");for(let wn=0;wn<vn.length;wn++){const Rn=vn[wn].split("=");if(Rn.length===2){const ir=Rn[1].trim();switch(Rn[0].trim()){case"alt":kt=ir;break;case"width":pe=ba(ir);break;case"height":Ie=ba(ir);break;case"totalheight":ot=ba(ir);break;default:throw new h("Invalid key: '"+Rn[0]+"' in \\includegraphics.")}}}}const Pt=ai(_[0],"url").url;return kt===""&&(kt=Pt,kt=kt.replace(/^.*[\\/]/,""),kt=kt.substring(0,kt.lastIndexOf("."))),G.settings.isTrusted({command:"\\includegraphics",url:Pt})?{type:"includegraphics",mode:G.mode,alt:kt,width:pe,height:Ie,totalheight:ot,src:Pt}:G.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(S,_)=>{const C=ft(S.height,_);let G=0;S.totalheight.number>0&&(G=ft(S.totalheight,_)-C);let pe=0;S.width.number>0&&(pe=ft(S.width,_));const Ie={height:Y(C+G)};pe>0&&(Ie.width=Y(pe)),G>0&&(Ie.verticalAlign=Y(-G));const ot=new Ye(S.src,S.alt,Ie);return ot.height=C,ot.depth=G,ot},mathmlBuilder:(S,_)=>{const C=new Vn.MathNode("mglyph",[]);C.setAttribute("alt",S.alt);const G=ft(S.height,_);let pe=0;if(S.totalheight.number>0&&(pe=ft(S.totalheight,_)-G,C.setAttribute("valign",Y(-pe))),C.setAttribute("height",Y(G+pe)),S.width.number>0){const Ie=ft(S.width,_);C.setAttribute("width",Y(Ie))}return C.setAttribute("src",S.src),C}}),Dt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(S,_){let{parser:C,funcName:G}=S;const pe=ai(_[0],"size");if(C.settings.strict){const Ie=G[1]==="m",ot=pe.value.unit==="mu";Ie?(ot||C.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+G+" supports only mu units, "+("not "+pe.value.unit+" units")),C.mode!=="math"&&C.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+G+" works only in math mode")):ot&&C.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+G+" doesn't support mu units")}return{type:"kern",mode:C.mode,dimension:pe.value}},htmlBuilder(S,_){return Ze.makeGlue(S.dimension,_)},mathmlBuilder(S,_){const C=ft(S.dimension,_);return new Vn.SpaceNode(C)}}),Dt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(S,_)=>{let{parser:C,funcName:G}=S;const pe=_[0];return{type:"lap",mode:C.mode,alignment:G.slice(5),body:pe}},htmlBuilder:(S,_)=>{let C;S.alignment==="clap"?(C=Ze.makeSpan([],[lr(S.body,_)]),C=Ze.makeSpan(["inner"],[C],_)):C=Ze.makeSpan(["inner"],[lr(S.body,_)]);const G=Ze.makeSpan(["fix"],[]);let pe=Ze.makeSpan([S.alignment],[C,G],_);const Ie=Ze.makeSpan(["strut"]);return Ie.style.height=Y(pe.height+pe.depth),pe.depth&&(Ie.style.verticalAlign=Y(-pe.depth)),pe.children.unshift(Ie),pe=Ze.makeSpan(["thinbox"],[pe],_),Ze.makeSpan(["mord","vbox"],[pe],_)},mathmlBuilder:(S,_)=>{const C=new Vn.MathNode("mpadded",[yi(S.body,_)]);if(S.alignment!=="rlap"){const G=S.alignment==="llap"?"-1":"-0.5";C.setAttribute("lspace",G+"width")}return C.setAttribute("width","0px"),C}}),Dt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(S,_){let{funcName:C,parser:G}=S;const pe=G.mode;G.switchMode("math");const Ie=C==="\\("?"\\)":"$",ot=G.parseExpression(!1,Ie);return G.expect(Ie),G.switchMode(pe),{type:"styling",mode:G.mode,style:"text",body:ot}}}),Dt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(S,_){throw new h("Mismatched "+S.funcName)}});const Wl=(S,_)=>{switch(_.style.size){case de.DISPLAY.size:return S.display;case de.TEXT.size:return S.text;case de.SCRIPT.size:return S.script;case de.SCRIPTSCRIPT.size:return S.scriptscript;default:return S.text}};Dt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(S,_)=>{let{parser:C}=S;return{type:"mathchoice",mode:C.mode,display:hn(_[0]),text:hn(_[1]),script:hn(_[2]),scriptscript:hn(_[3])}},htmlBuilder:(S,_)=>{const C=Wl(S,_),G=mn(C,_,!1);return Ze.makeFragment(G)},mathmlBuilder:(S,_)=>{const C=Wl(S,_);return Bs(C,_)}});const Hu=(S,_,C,G,pe,Ie,ot)=>{S=Ze.makeSpan([],[S]);const kt=C&&he.isCharacterBox(C);let Pt,Jt;if(_){const Rn=lr(_,G.havingStyle(pe.sup()),G);Jt={elem:Rn,kern:Math.max(G.fontMetrics().bigOpSpacing1,G.fontMetrics().bigOpSpacing3-Rn.depth)}}if(C){const Rn=lr(C,G.havingStyle(pe.sub()),G);Pt={elem:Rn,kern:Math.max(G.fontMetrics().bigOpSpacing2,G.fontMetrics().bigOpSpacing4-Rn.height)}}let vn;if(Jt&&Pt){const Rn=G.fontMetrics().bigOpSpacing5+Pt.elem.height+Pt.elem.depth+Pt.kern+S.depth+ot;vn=Ze.makeVList({positionType:"bottom",positionData:Rn,children:[{type:"kern",size:G.fontMetrics().bigOpSpacing5},{type:"elem",elem:Pt.elem,marginLeft:Y(-Ie)},{type:"kern",size:Pt.kern},{type:"elem",elem:S},{type:"kern",size:Jt.kern},{type:"elem",elem:Jt.elem,marginLeft:Y(Ie)},{type:"kern",size:G.fontMetrics().bigOpSpacing5}]},G)}else if(Pt){const Rn=S.height-ot;vn=Ze.makeVList({positionType:"top",positionData:Rn,children:[{type:"kern",size:G.fontMetrics().bigOpSpacing5},{type:"elem",elem:Pt.elem,marginLeft:Y(-Ie)},{type:"kern",size:Pt.kern},{type:"elem",elem:S}]},G)}else if(Jt){const Rn=S.depth+ot;vn=Ze.makeVList({positionType:"bottom",positionData:Rn,children:[{type:"elem",elem:S},{type:"kern",size:Jt.kern},{type:"elem",elem:Jt.elem,marginLeft:Y(Ie)},{type:"kern",size:G.fontMetrics().bigOpSpacing5}]},G)}else return S;const wn=[vn];if(Pt&&Ie!==0&&!kt){const Rn=Ze.makeSpan(["mspace"],[],G);Rn.style.marginRight=Y(Ie),wn.unshift(Rn)}return Ze.makeSpan(["mop","op-limits"],wn,G)},ya=["\\smallint"],jl=(S,_)=>{let C,G,pe=!1,Ie;S.type==="supsub"?(C=S.sup,G=S.sub,Ie=ai(S.base,"op"),pe=!0):Ie=ai(S,"op");const ot=_.style;let kt=!1;ot.size===de.DISPLAY.size&&Ie.symbol&&!ya.includes(Ie.name)&&(kt=!0);let Pt;if(Ie.symbol){const wn=kt?"Size2-Regular":"Size1-Regular";let Rn="";if((Ie.name==="\\oiint"||Ie.name==="\\oiiint")&&(Rn=Ie.name.slice(1),Ie.name=Rn==="oiint"?"\\iint":"\\iiint"),Pt=Ze.makeSymbol(Ie.name,wn,"math",_,["mop","op-symbol",kt?"large-op":"small-op"]),Rn.length>0){const ir=Pt.italic,Nr=Ze.staticSvg(Rn+"Size"+(kt?"2":"1"),_);Pt=Ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Pt,shift:0},{type:"elem",elem:Nr,shift:kt?.08:0}]},_),Ie.name="\\"+Rn,Pt.classes.unshift("mop"),Pt.italic=ir}}else if(Ie.body){const wn=mn(Ie.body,_,!0);wn.length===1&&wn[0]instanceof we?(Pt=wn[0],Pt.classes[0]="mop"):Pt=Ze.makeSpan(["mop"],wn,_)}else{const wn=[];for(let Rn=1;Rn<Ie.name.length;Rn++)wn.push(Ze.mathsym(Ie.name[Rn],Ie.mode,_));Pt=Ze.makeSpan(["mop"],wn,_)}let Jt=0,vn=0;return(Pt instanceof we||Ie.name==="\\oiint"||Ie.name==="\\oiiint")&&!Ie.suppressBaseShift&&(Jt=(Pt.height-Pt.depth)/2-_.fontMetrics().axisHeight,vn=Pt.italic),pe?Hu(Pt,C,G,_,ot,vn,Jt):(Jt&&(Pt.style.position="relative",Pt.style.top=Y(Jt)),Pt)},au=(S,_)=>{let C;if(S.symbol)C=new cr("mo",[Fr(S.name,S.mode)]),ya.includes(S.name)&&C.setAttribute("largeop","false");else if(S.body)C=new cr("mo",Wi(S.body,_));else{C=new cr("mi",[new Tr(S.name.slice(1))]);const G=new cr("mo",[Fr("","text")]);S.parentIsSupSub?C=new cr("mrow",[C,G]):C=Mr([C,G])}return C},_0={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Dt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(S,_)=>{let{parser:C,funcName:G}=S,pe=G;return pe.length===1&&(pe=_0[pe]),{type:"op",mode:C.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:pe}},htmlBuilder:jl,mathmlBuilder:au}),Dt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(S,_)=>{let{parser:C}=S;const G=_[0];return{type:"op",mode:C.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:hn(G)}},htmlBuilder:jl,mathmlBuilder:au});const uu={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Dt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(S){let{parser:_,funcName:C}=S;return{type:"op",mode:_.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:C}},htmlBuilder:jl,mathmlBuilder:au}),Dt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(S){let{parser:_,funcName:C}=S;return{type:"op",mode:_.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:C}},htmlBuilder:jl,mathmlBuilder:au}),Dt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(S){let{parser:_,funcName:C}=S,G=C;return G.length===1&&(G=uu[G]),{type:"op",mode:_.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:G}},htmlBuilder:jl,mathmlBuilder:au});const ul=(S,_)=>{let C,G,pe=!1,Ie;S.type==="supsub"?(C=S.sup,G=S.sub,Ie=ai(S.base,"operatorname"),pe=!0):Ie=ai(S,"operatorname");let ot;if(Ie.body.length>0){const kt=Ie.body.map(Jt=>{const vn=Jt.text;return typeof vn=="string"?{type:"textord",mode:Jt.mode,text:vn}:Jt}),Pt=mn(kt,_.withFont("mathrm"),!0);for(let Jt=0;Jt<Pt.length;Jt++){const vn=Pt[Jt];vn instanceof we&&(vn.text=vn.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}ot=Ze.makeSpan(["mop"],Pt,_)}else ot=Ze.makeSpan(["mop"],[],_);return pe?Hu(ot,C,G,_,_.style,0,0):ot};Dt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(S,_)=>{let{parser:C,funcName:G}=S;const pe=_[0];return{type:"operatorname",mode:C.mode,body:hn(pe),alwaysHandleSupSub:G==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:ul,mathmlBuilder:(S,_)=>{let C=Wi(S.body,_.withFont("mathrm")),G=!0;for(let ot=0;ot<C.length;ot++){const kt=C[ot];if(!(kt instanceof Vn.SpaceNode))if(kt instanceof Vn.MathNode)switch(kt.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const Pt=kt.children[0];kt.children.length===1&&Pt instanceof Vn.TextNode?Pt.text=Pt.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):G=!1;break}default:G=!1}else G=!1}if(G){const ot=C.map(kt=>kt.toText()).join("");C=[new Vn.TextNode(ot)]}const pe=new Vn.MathNode("mi",C);pe.setAttribute("mathvariant","normal");const Ie=new Vn.MathNode("mo",[Fr("","text")]);return S.parentIsSupSub?new Vn.MathNode("mrow",[pe,Ie]):Vn.newDocumentFragment([pe,Ie])}}),xt("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),cn({type:"ordgroup",htmlBuilder(S,_){return S.semisimple?Ze.makeFragment(mn(S.body,_,!1)):Ze.makeSpan(["mord"],mn(S.body,_,!0),_)},mathmlBuilder(S,_){return Bs(S.body,_,!0)}}),Dt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(S,_){let{parser:C}=S;const G=_[0];return{type:"overline",mode:C.mode,body:G}},htmlBuilder(S,_){const C=lr(S.body,_.havingCrampedStyle()),G=Ze.makeLineSpan("overline-line",_),pe=_.fontMetrics().defaultRuleThickness,Ie=Ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:C},{type:"kern",size:3*pe},{type:"elem",elem:G},{type:"kern",size:pe}]},_);return Ze.makeSpan(["mord","overline"],[Ie],_)},mathmlBuilder(S,_){const C=new Vn.MathNode("mo",[new Vn.TextNode("")]);C.setAttribute("stretchy","true");const G=new Vn.MathNode("mover",[yi(S.body,_),C]);return G.setAttribute("accent","true"),G}}),Dt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(S,_)=>{let{parser:C}=S;const G=_[0];return{type:"phantom",mode:C.mode,body:hn(G)}},htmlBuilder:(S,_)=>{const C=mn(S.body,_.withPhantom(),!1);return Ze.makeFragment(C)},mathmlBuilder:(S,_)=>{const C=Wi(S.body,_);return new Vn.MathNode("mphantom",C)}}),Dt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(S,_)=>{let{parser:C}=S;const G=_[0];return{type:"hphantom",mode:C.mode,body:G}},htmlBuilder:(S,_)=>{let C=Ze.makeSpan([],[lr(S.body,_.withPhantom())]);if(C.height=0,C.depth=0,C.children)for(let G=0;G<C.children.length;G++)C.children[G].height=0,C.children[G].depth=0;return C=Ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:C}]},_),Ze.makeSpan(["mord"],[C],_)},mathmlBuilder:(S,_)=>{const C=Wi(hn(S.body),_),G=new Vn.MathNode("mphantom",C),pe=new Vn.MathNode("mpadded",[G]);return pe.setAttribute("height","0px"),pe.setAttribute("depth","0px"),pe}}),Dt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(S,_)=>{let{parser:C}=S;const G=_[0];return{type:"vphantom",mode:C.mode,body:G}},htmlBuilder:(S,_)=>{const C=Ze.makeSpan(["inner"],[lr(S.body,_.withPhantom())]),G=Ze.makeSpan(["fix"],[]);return Ze.makeSpan(["mord","rlap"],[C,G],_)},mathmlBuilder:(S,_)=>{const C=Wi(hn(S.body),_),G=new Vn.MathNode("mphantom",C),pe=new Vn.MathNode("mpadded",[G]);return pe.setAttribute("width","0px"),pe}}),Dt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(S,_){let{parser:C}=S;const G=ai(_[0],"size").value,pe=_[1];return{type:"raisebox",mode:C.mode,dy:G,body:pe}},htmlBuilder(S,_){const C=lr(S.body,_),G=ft(S.dy,_);return Ze.makeVList({positionType:"shift",positionData:-G,children:[{type:"elem",elem:C}]},_)},mathmlBuilder(S,_){const C=new Vn.MathNode("mpadded",[yi(S.body,_)]),G=S.dy.number+S.dy.unit;return C.setAttribute("voffset",G),C}}),Dt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(S){let{parser:_}=S;return{type:"internal",mode:_.mode}}}),Dt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(S,_,C){let{parser:G}=S;const pe=C[0],Ie=ai(_[0],"size"),ot=ai(_[1],"size");return{type:"rule",mode:G.mode,shift:pe&&ai(pe,"size").value,width:Ie.value,height:ot.value}},htmlBuilder(S,_){const C=Ze.makeSpan(["mord","rule"],[],_),G=ft(S.width,_),pe=ft(S.height,_),Ie=S.shift?ft(S.shift,_):0;return C.style.borderRightWidth=Y(G),C.style.borderTopWidth=Y(pe),C.style.bottom=Y(Ie),C.width=G,C.height=pe+Ie,C.depth=-Ie,C.maxFontSize=pe*1.125*_.sizeMultiplier,C},mathmlBuilder(S,_){const C=ft(S.width,_),G=ft(S.height,_),pe=S.shift?ft(S.shift,_):0,Ie=_.color&&_.getColor()||"black",ot=new Vn.MathNode("mspace");ot.setAttribute("mathbackground",Ie),ot.setAttribute("width",Y(C)),ot.setAttribute("height",Y(G));const kt=new Vn.MathNode("mpadded",[ot]);return pe>=0?kt.setAttribute("height",Y(pe)):(kt.setAttribute("height",Y(pe)),kt.setAttribute("depth",Y(-pe))),kt.setAttribute("voffset",Y(pe)),kt}});function _a(S,_,C){const G=mn(S,_,!1),pe=_.sizeMultiplier/C.sizeMultiplier;for(let Ie=0;Ie<G.length;Ie++){const ot=G[Ie].classes.indexOf("sizing");ot<0?Array.prototype.push.apply(G[Ie].classes,_.sizingClasses(C)):G[Ie].classes[ot+1]==="reset-size"+_.size&&(G[Ie].classes[ot+1]="reset-size"+C.size),G[Ie].height*=pe,G[Ie].depth*=pe}return Ze.makeFragment(G)}const Ho=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];Dt({type:"sizing",names:Ho,props:{numArgs:0,allowedInText:!0},handler:(S,_)=>{let{breakOnTokenText:C,funcName:G,parser:pe}=S;const Ie=pe.parseExpression(!1,C);return{type:"sizing",mode:pe.mode,size:Ho.indexOf(G)+1,body:Ie}},htmlBuilder:(S,_)=>{const C=_.havingSize(S.size);return _a(S.body,C,_)},mathmlBuilder:(S,_)=>{const C=_.havingSize(S.size),G=Wi(S.body,C),pe=new Vn.MathNode("mstyle",G);return pe.setAttribute("mathsize",Y(C.sizeMultiplier)),pe}}),Dt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(S,_,C)=>{let{parser:G}=S,pe=!1,Ie=!1;const ot=C[0]&&ai(C[0],"ordgroup");if(ot){let Pt="";for(let Jt=0;Jt<ot.body.length;++Jt)if(Pt=ot.body[Jt].text,Pt==="t")pe=!0;else if(Pt==="b")Ie=!0;else{pe=!1,Ie=!1;break}}else pe=!0,Ie=!0;const kt=_[0];return{type:"smash",mode:G.mode,body:kt,smashHeight:pe,smashDepth:Ie}},htmlBuilder:(S,_)=>{const C=Ze.makeSpan([],[lr(S.body,_)]);if(!S.smashHeight&&!S.smashDepth)return C;if(S.smashHeight&&(C.height=0,C.children))for(let pe=0;pe<C.children.length;pe++)C.children[pe].height=0;if(S.smashDepth&&(C.depth=0,C.children))for(let pe=0;pe<C.children.length;pe++)C.children[pe].depth=0;const G=Ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:C}]},_);return Ze.makeSpan(["mord"],[G],_)},mathmlBuilder:(S,_)=>{const C=new Vn.MathNode("mpadded",[yi(S.body,_)]);return S.smashHeight&&C.setAttribute("height","0px"),S.smashDepth&&C.setAttribute("depth","0px"),C}}),Dt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(S,_,C){let{parser:G}=S;const pe=C[0],Ie=_[0];return{type:"sqrt",mode:G.mode,body:Ie,index:pe}},htmlBuilder(S,_){let C=lr(S.body,_.havingCrampedStyle());C.height===0&&(C.height=_.fontMetrics().xHeight),C=Ze.wrapFragment(C,_);const pe=_.fontMetrics().defaultRuleThickness;let Ie=pe;_.style.id<de.TEXT.id&&(Ie=_.fontMetrics().xHeight);let ot=pe+Ie/4;const kt=C.height+C.depth+ot+pe,{span:Pt,ruleWidth:Jt,advanceWidth:vn}=xi.sqrtImage(kt,_),wn=Pt.height-Jt;wn>C.height+C.depth+ot&&(ot=(ot+wn-C.height-C.depth)/2);const Rn=Pt.height-C.height-ot-Jt;C.style.paddingLeft=Y(vn);const ir=Ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:C,wrapperClasses:["svg-align"]},{type:"kern",size:-(C.height+Rn)},{type:"elem",elem:Pt},{type:"kern",size:Jt}]},_);if(S.index){const Nr=_.havingStyle(de.SCRIPTSCRIPT),Br=lr(S.index,Nr,_),wi=.6*(ir.height-ir.depth),ui=Ze.makeVList({positionType:"shift",positionData:-wi,children:[{type:"elem",elem:Br}]},_),di=Ze.makeSpan(["root"],[ui]);return Ze.makeSpan(["mord","sqrt"],[di,ir],_)}else return Ze.makeSpan(["mord","sqrt"],[ir],_)},mathmlBuilder(S,_){const{body:C,index:G}=S;return G?new Vn.MathNode("mroot",[yi(C,_),yi(G,_)]):new Vn.MathNode("msqrt",[yi(C,_)])}});const Cl={display:de.DISPLAY,text:de.TEXT,script:de.SCRIPT,scriptscript:de.SCRIPTSCRIPT};Dt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(S,_){let{breakOnTokenText:C,funcName:G,parser:pe}=S;const Ie=pe.parseExpression(!0,C),ot=G.slice(1,G.length-5);return{type:"styling",mode:pe.mode,style:ot,body:Ie}},htmlBuilder(S,_){const C=Cl[S.style],G=_.havingStyle(C).withFont("");return _a(S.body,G,_)},mathmlBuilder(S,_){const C=Cl[S.style],G=_.havingStyle(C),pe=Wi(S.body,G),Ie=new Vn.MathNode("mstyle",pe),kt={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[S.style];return Ie.setAttribute("scriptlevel",kt[0]),Ie.setAttribute("displaystyle",kt[1]),Ie}});const f0=function(S,_){const C=S.base;return C?C.type==="op"?C.limits&&(_.style.size===de.DISPLAY.size||C.alwaysHandleSupSub)?jl:null:C.type==="operatorname"?C.alwaysHandleSupSub&&(_.style.size===de.DISPLAY.size||C.limits)?ul:null:C.type==="accent"?he.isCharacterBox(C.base)?ru:null:C.type==="horizBrace"&&!S.sub===C.isOver?al:null:null};cn({type:"supsub",htmlBuilder(S,_){const C=f0(S,_);if(C)return C(S,_);const{base:G,sup:pe,sub:Ie}=S,ot=lr(G,_);let kt,Pt;const Jt=_.fontMetrics();let vn=0,wn=0;const Rn=G&&he.isCharacterBox(G);if(pe){const zi=_.havingStyle(_.style.sup());kt=lr(pe,zi,_),Rn||(vn=ot.height-zi.fontMetrics().supDrop*zi.sizeMultiplier/_.sizeMultiplier)}if(Ie){const zi=_.havingStyle(_.style.sub());Pt=lr(Ie,zi,_),Rn||(wn=ot.depth+zi.fontMetrics().subDrop*zi.sizeMultiplier/_.sizeMultiplier)}let ir;_.style===de.DISPLAY?ir=Jt.sup1:_.style.cramped?ir=Jt.sup3:ir=Jt.sup2;const Nr=_.sizeMultiplier,Br=Y(.5/Jt.ptPerEm/Nr);let wi=null;if(Pt){const zi=S.base&&S.base.type==="op"&&S.base.name&&(S.base.name==="\\oiint"||S.base.name==="\\oiiint");(ot instanceof we||zi)&&(wi=Y(-ot.italic))}let ui;if(kt&&Pt){vn=Math.max(vn,ir,kt.depth+.25*Jt.xHeight),wn=Math.max(wn,Jt.sub2);const Oi=4*Jt.defaultRuleThickness;if(vn-kt.depth-(Pt.height-wn)<Oi){wn=Oi-(vn-kt.depth)+Pt.height;const Us=.8*Jt.xHeight-(vn-kt.depth);Us>0&&(vn+=Us,wn-=Us)}const ms=[{type:"elem",elem:Pt,shift:wn,marginRight:Br,marginLeft:wi},{type:"elem",elem:kt,shift:-vn,marginRight:Br}];ui=Ze.makeVList({positionType:"individualShift",children:ms},_)}else if(Pt){wn=Math.max(wn,Jt.sub1,Pt.height-.8*Jt.xHeight);const zi=[{type:"elem",elem:Pt,marginLeft:wi,marginRight:Br}];ui=Ze.makeVList({positionType:"shift",positionData:wn,children:zi},_)}else if(kt)vn=Math.max(vn,ir,kt.depth+.25*Jt.xHeight),ui=Ze.makeVList({positionType:"shift",positionData:-vn,children:[{type:"elem",elem:kt,marginRight:Br}]},_);else throw new Error("supsub must have either sup or sub.");const di=fr(ot,"right")||"mord";return Ze.makeSpan([di],[ot,Ze.makeSpan(["msupsub"],[ui])],_)},mathmlBuilder(S,_){let C=!1,G,pe;S.base&&S.base.type==="horizBrace"&&(pe=!!S.sup,pe===S.base.isOver&&(C=!0,G=S.base.isOver)),S.base&&(S.base.type==="op"||S.base.type==="operatorname")&&(S.base.parentIsSupSub=!0);const Ie=[yi(S.base,_)];S.sub&&Ie.push(yi(S.sub,_)),S.sup&&Ie.push(yi(S.sup,_));let ot;if(C)ot=G?"mover":"munder";else if(S.sub)if(S.sup){const kt=S.base;kt&&kt.type==="op"&&kt.limits&&_.style===de.DISPLAY||kt&&kt.type==="operatorname"&&kt.alwaysHandleSupSub&&(_.style===de.DISPLAY||kt.limits)?ot="munderover":ot="msubsup"}else{const kt=S.base;kt&&kt.type==="op"&&kt.limits&&(_.style===de.DISPLAY||kt.alwaysHandleSupSub)||kt&&kt.type==="operatorname"&&kt.alwaysHandleSupSub&&(kt.limits||_.style===de.DISPLAY)?ot="munder":ot="msub"}else{const kt=S.base;kt&&kt.type==="op"&&kt.limits&&(_.style===de.DISPLAY||kt.alwaysHandleSupSub)||kt&&kt.type==="operatorname"&&kt.alwaysHandleSupSub&&(kt.limits||_.style===de.DISPLAY)?ot="mover":ot="msup"}return new Vn.MathNode(ot,Ie)}}),cn({type:"atom",htmlBuilder(S,_){return Ze.mathsym(S.text,S.mode,_,["m"+S.family])},mathmlBuilder(S,_){const C=new Vn.MathNode("mo",[Fr(S.text,S.mode)]);if(S.family==="bin"){const G=ss(S,_);G==="bold-italic"&&C.setAttribute("mathvariant",G)}else S.family==="punct"?C.setAttribute("separator","true"):(S.family==="open"||S.family==="close")&&C.setAttribute("stretchy","false");return C}});const w0={mi:"italic",mn:"normal",mtext:"normal"};cn({type:"mathord",htmlBuilder(S,_){return Ze.makeOrd(S,_,"mathord")},mathmlBuilder(S,_){const C=new Vn.MathNode("mi",[Fr(S.text,S.mode,_)]),G=ss(S,_)||"italic";return G!==w0[C.type]&&C.setAttribute("mathvariant",G),C}}),cn({type:"textord",htmlBuilder(S,_){return Ze.makeOrd(S,_,"textord")},mathmlBuilder(S,_){const C=Fr(S.text,S.mode,_),G=ss(S,_)||"normal";let pe;return S.mode==="text"?pe=new Vn.MathNode("mtext",[C]):/[0-9]/.test(S.text)?pe=new Vn.MathNode("mn",[C]):S.text==="\\prime"?pe=new Vn.MathNode("mo",[C]):pe=new Vn.MathNode("mi",[C]),G!==w0[pe.type]&&pe.setAttribute("mathvariant",G),pe}});const t0={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Gc={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};cn({type:"spacing",htmlBuilder(S,_){if(Gc.hasOwnProperty(S.text)){const C=Gc[S.text].className||"";if(S.mode==="text"){const G=Ze.makeOrd(S,_,"textord");return G.classes.push(C),G}else return Ze.makeSpan(["mspace",C],[Ze.mathsym(S.text,S.mode,_)],_)}else{if(t0.hasOwnProperty(S.text))return Ze.makeSpan(["mspace",t0[S.text]],[],_);throw new h('Unknown type of space "'+S.text+'"')}},mathmlBuilder(S,_){let C;if(Gc.hasOwnProperty(S.text))C=new Vn.MathNode("mtext",[new Vn.TextNode("")]);else{if(t0.hasOwnProperty(S.text))return new Vn.MathNode("mspace");throw new h('Unknown type of space "'+S.text+'"')}return C}});const qc=()=>{const S=new Vn.MathNode("mtd",[]);return S.setAttribute("width","50%"),S};cn({type:"tag",mathmlBuilder(S,_){const C=new Vn.MathNode("mtable",[new Vn.MathNode("mtr",[qc(),new Vn.MathNode("mtd",[Bs(S.body,_)]),qc(),new Vn.MathNode("mtd",[Bs(S.tag,_)])])]);return C.setAttribute("width","100%"),C}});const cl={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Wc={"\\textbf":"textbf","\\textmd":"textmd"},Cs={"\\textit":"textit","\\textup":"textup"},_s=(S,_)=>{const C=S.font;if(C){if(cl[C])return _.withTextFontFamily(cl[C]);if(Wc[C])return _.withTextFontWeight(Wc[C]);if(C==="\\emph")return _.fontShape==="textit"?_.withTextFontShape("textup"):_.withTextFontShape("textit")}else return _;return _.withTextFontShape(Cs[C])};Dt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(S,_){let{parser:C,funcName:G}=S;const pe=_[0];return{type:"text",mode:C.mode,body:hn(pe),font:G}},htmlBuilder(S,_){const C=_s(S,_),G=mn(S.body,C,!0);return Ze.makeSpan(["mord","text"],G,C)},mathmlBuilder(S,_){const C=_s(S,_);return Bs(S.body,C)}}),Dt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(S,_){let{parser:C}=S;return{type:"underline",mode:C.mode,body:_[0]}},htmlBuilder(S,_){const C=lr(S.body,_),G=Ze.makeLineSpan("underline-line",_),pe=_.fontMetrics().defaultRuleThickness,Ie=Ze.makeVList({positionType:"top",positionData:C.height,children:[{type:"kern",size:pe},{type:"elem",elem:G},{type:"kern",size:3*pe},{type:"elem",elem:C}]},_);return Ze.makeSpan(["mord","underline"],[Ie],_)},mathmlBuilder(S,_){const C=new Vn.MathNode("mo",[new Vn.TextNode("")]);C.setAttribute("stretchy","true");const G=new Vn.MathNode("munder",[yi(S.body,_),C]);return G.setAttribute("accentunder","true"),G}}),Dt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(S,_){let{parser:C}=S;return{type:"vcenter",mode:C.mode,body:_[0]}},htmlBuilder(S,_){const C=lr(S.body,_),G=_.fontMetrics().axisHeight,pe=.5*(C.height-G-(C.depth+G));return Ze.makeVList({positionType:"shift",positionData:pe,children:[{type:"elem",elem:C}]},_)},mathmlBuilder(S,_){return new Vn.MathNode("mpadded",[yi(S.body,_)],["vcenter"])}}),Dt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(S,_,C){throw new h("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(S,_){const C=ki(S),G=[],pe=_.havingStyle(_.style.text());for(let Ie=0;Ie<C.length;Ie++){let ot=C[Ie];ot==="~"&&(ot="\\textasciitilde"),G.push(Ze.makeSymbol(ot,"Typewriter-Regular",S.mode,pe,["mord","texttt"]))}return Ze.makeSpan(["mord","text"].concat(pe.sizingClasses(_)),Ze.tryCombineChars(G),pe)},mathmlBuilder(S,_){const C=new Vn.TextNode(ki(S)),G=new Vn.MathNode("mtext",[C]);return G.setAttribute("mathvariant","monospace"),G}});const ki=S=>S.body.replace(/ /g,S.star?"":"");var ao=We;const Ml=`[ \r
	]`,kl="\\\\[a-zA-Z@]+",uh="\\\\[^\uD800-\uDFFF]",ch="("+kl+")"+Ml+"*",cu=`\\\\(
|[ \r	]+
?)[ \r	]*`,Al="[-]",X1=new RegExp(Al+"+$"),hu="("+Ml+"+)|"+(cu+"|")+"([!-\\[\\]---]"+(Al+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Al+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+ch)+("|"+uh+")");class jc{constructor(_,C){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=_,this.settings=C,this.tokenRegex=new RegExp(hu,"g"),this.catcodes={"%":14,"~":13}}setCatcode(_,C){this.catcodes[_]=C}lex(){const _=this.input,C=this.tokenRegex.lastIndex;if(C===_.length)return new xs("EOF",new ts(this,C,C));const G=this.tokenRegex.exec(_);if(G===null||G.index!==C)throw new h("Unexpected character: '"+_[C]+"'",new xs(_[C],new ts(this,C,C+1)));const pe=G[6]||G[3]||(G[2]?"\\ ":" ");if(this.catcodes[pe]===14){const Ie=_.indexOf(`
`,this.tokenRegex.lastIndex);return Ie===-1?(this.tokenRegex.lastIndex=_.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=Ie+1,this.lex()}return new xs(pe,new ts(this,C,this.tokenRegex.lastIndex))}}class wa{constructor(_,C){_===void 0&&(_={}),C===void 0&&(C={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=C,this.builtins=_,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new h("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const _=this.undefStack.pop();for(const C in _)_.hasOwnProperty(C)&&(_[C]==null?delete this.current[C]:this.current[C]=_[C])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(_){return this.current.hasOwnProperty(_)||this.builtins.hasOwnProperty(_)}get(_){return this.current.hasOwnProperty(_)?this.current[_]:this.builtins[_]}set(_,C,G){if(G===void 0&&(G=!1),G){for(let pe=0;pe<this.undefStack.length;pe++)delete this.undefStack[pe][_];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][_]=C)}else{const pe=this.undefStack[this.undefStack.length-1];pe&&!pe.hasOwnProperty(_)&&(pe[_]=this.current[_])}C==null?delete this.current[_]:this.current[_]=C}}var Yl=Ns;xt("\\noexpand",function(S){const _=S.popToken();return S.isExpandable(_.text)&&(_.noexpand=!0,_.treatAsRelax=!0),{tokens:[_],numArgs:0}}),xt("\\expandafter",function(S){const _=S.popToken();return S.expandOnce(!0),{tokens:[_],numArgs:0}}),xt("\\@firstoftwo",function(S){return{tokens:S.consumeArgs(2)[0],numArgs:0}}),xt("\\@secondoftwo",function(S){return{tokens:S.consumeArgs(2)[1],numArgs:0}}),xt("\\@ifnextchar",function(S){const _=S.consumeArgs(3);S.consumeSpaces();const C=S.future();return _[0].length===1&&_[0][0].text===C.text?{tokens:_[1],numArgs:0}:{tokens:_[2],numArgs:0}}),xt("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),xt("\\TextOrMath",function(S){const _=S.consumeArgs(2);return S.mode==="text"?{tokens:_[0],numArgs:0}:{tokens:_[1],numArgs:0}});const fl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};xt("\\char",function(S){let _=S.popToken(),C,G="";if(_.text==="'")C=8,_=S.popToken();else if(_.text==='"')C=16,_=S.popToken();else if(_.text==="`")if(_=S.popToken(),_.text[0]==="\\")G=_.text.charCodeAt(1);else{if(_.text==="EOF")throw new h("\\char` missing argument");G=_.text.charCodeAt(0)}else C=10;if(C){if(G=fl[_.text],G==null||G>=C)throw new h("Invalid base-"+C+" digit "+_.text);let pe;for(;(pe=fl[S.future().text])!=null&&pe<C;)G*=C,G+=pe,S.popToken()}return"\\@char{"+G+"}"});const fu=(S,_,C,G)=>{let pe=S.consumeArg().tokens;if(pe.length!==1)throw new h("\\newcommand's first argument must be a macro name");const Ie=pe[0].text,ot=S.isDefined(Ie);if(ot&&!_)throw new h("\\newcommand{"+Ie+"} attempting to redefine "+(Ie+"; use \\renewcommand"));if(!ot&&!C)throw new h("\\renewcommand{"+Ie+"} when command "+Ie+" does not yet exist; use \\newcommand");let kt=0;if(pe=S.consumeArg().tokens,pe.length===1&&pe[0].text==="["){let Pt="",Jt=S.expandNextToken();for(;Jt.text!=="]"&&Jt.text!=="EOF";)Pt+=Jt.text,Jt=S.expandNextToken();if(!Pt.match(/^\s*[0-9]+\s*$/))throw new h("Invalid number of arguments: "+Pt);kt=parseInt(Pt),pe=S.consumeArg().tokens}return ot&&G||S.macros.set(Ie,{tokens:pe,numArgs:kt}),""};xt("\\newcommand",S=>fu(S,!1,!0,!1)),xt("\\renewcommand",S=>fu(S,!0,!1,!1)),xt("\\providecommand",S=>fu(S,!0,!0,!0)),xt("\\message",S=>{const _=S.consumeArgs(1)[0];return console.log(_.reverse().map(C=>C.text).join("")),""}),xt("\\errmessage",S=>{const _=S.consumeArgs(1)[0];return console.error(_.reverse().map(C=>C.text).join("")),""}),xt("\\show",S=>{const _=S.popToken(),C=_.text;return console.log(_,S.macros.get(C),ao[C],En.math[C],En.text[C]),""}),xt("\\bgroup","{"),xt("\\egroup","}"),xt("~","\\nobreakspace"),xt("\\lq","`"),xt("\\rq","'"),xt("\\aa","\\r a"),xt("\\AA","\\r A"),xt("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),xt("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),xt("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),xt("","\\mathscr{B}"),xt("","\\mathscr{E}"),xt("","\\mathscr{F}"),xt("","\\mathscr{H}"),xt("","\\mathscr{I}"),xt("","\\mathscr{L}"),xt("","\\mathscr{M}"),xt("","\\mathscr{R}"),xt("","\\mathfrak{C}"),xt("","\\mathfrak{H}"),xt("","\\mathfrak{Z}"),xt("\\Bbbk","\\Bbb{k}"),xt("","\\cdotp"),xt("\\llap","\\mathllap{\\textrm{#1}}"),xt("\\rlap","\\mathrlap{\\textrm{#1}}"),xt("\\clap","\\mathclap{\\textrm{#1}}"),xt("\\mathstrut","\\vphantom{(}"),xt("\\underbar","\\underline{\\text{#1}}"),xt("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),xt("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),xt("\\ne","\\neq"),xt("","\\neq"),xt("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),xt("","\\notin"),xt("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),xt("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),xt("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),xt("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),xt("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),xt("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),xt("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),xt("","\\perp"),xt("","\\mathclose{!\\mkern-0.8mu!}"),xt("","\\notni"),xt("","\\ulcorner"),xt("","\\urcorner"),xt("","\\llcorner"),xt("","\\lrcorner"),xt("","\\copyright"),xt("","\\textregistered"),xt("","\\textregistered"),xt("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),xt("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),xt("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),xt("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),xt("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),xt("","\\vdots"),xt("\\varGamma","\\mathit{\\Gamma}"),xt("\\varDelta","\\mathit{\\Delta}"),xt("\\varTheta","\\mathit{\\Theta}"),xt("\\varLambda","\\mathit{\\Lambda}"),xt("\\varXi","\\mathit{\\Xi}"),xt("\\varPi","\\mathit{\\Pi}"),xt("\\varSigma","\\mathit{\\Sigma}"),xt("\\varUpsilon","\\mathit{\\Upsilon}"),xt("\\varPhi","\\mathit{\\Phi}"),xt("\\varPsi","\\mathit{\\Psi}"),xt("\\varOmega","\\mathit{\\Omega}"),xt("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),xt("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),xt("\\boxed","\\fbox{$\\displaystyle{#1}$}"),xt("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),xt("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),xt("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),xt("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),xt("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");const T0={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};xt("\\dots",function(S){let _="\\dotso";const C=S.expandAfterFuture().text;return C in T0?_=T0[C]:(C.slice(0,4)==="\\not"||C in En.math&&["bin","rel"].includes(En.math[C].group))&&(_="\\dotsb"),_});const Kl={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};xt("\\dotso",function(S){return S.future().text in Kl?"\\ldots\\,":"\\ldots"}),xt("\\dotsc",function(S){const _=S.future().text;return _ in Kl&&_!==","?"\\ldots\\,":"\\ldots"}),xt("\\cdots",function(S){return S.future().text in Kl?"\\@cdots\\,":"\\@cdots"}),xt("\\dotsb","\\cdots"),xt("\\dotsm","\\cdots"),xt("\\dotsi","\\!\\cdots"),xt("\\dotsx","\\ldots\\,"),xt("\\DOTSI","\\relax"),xt("\\DOTSB","\\relax"),xt("\\DOTSX","\\relax"),xt("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),xt("\\,","\\tmspace+{3mu}{.1667em}"),xt("\\thinspace","\\,"),xt("\\>","\\mskip{4mu}"),xt("\\:","\\tmspace+{4mu}{.2222em}"),xt("\\medspace","\\:"),xt("\\;","\\tmspace+{5mu}{.2777em}"),xt("\\thickspace","\\;"),xt("\\!","\\tmspace-{3mu}{.1667em}"),xt("\\negthinspace","\\!"),xt("\\negmedspace","\\tmspace-{4mu}{.2222em}"),xt("\\negthickspace","\\tmspace-{5mu}{.277em}"),xt("\\enspace","\\kern.5em "),xt("\\enskip","\\hskip.5em\\relax"),xt("\\quad","\\hskip1em\\relax"),xt("\\qquad","\\hskip2em\\relax"),xt("\\tag","\\@ifstar\\tag@literal\\tag@paren"),xt("\\tag@paren","\\tag@literal{({#1})}"),xt("\\tag@literal",S=>{if(S.macros.get("\\df@tag"))throw new h("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),xt("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),xt("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),xt("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),xt("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),xt("\\newline","\\\\\\relax"),xt("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const Vu=Y(se["Main-Regular"][84][1]-.7*se["Main-Regular"][65][1]);xt("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Vu+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),xt("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Vu+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),xt("\\hspace","\\@ifstar\\@hspacer\\@hspace"),xt("\\@hspace","\\hskip #1\\relax"),xt("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),xt("\\ordinarycolon",":"),xt("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),xt("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),xt("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),xt("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),xt("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),xt("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),xt("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),xt("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),xt("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),xt("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),xt("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),xt("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),xt("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),xt("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),xt("","\\dblcolon"),xt("","\\eqcolon"),xt("","\\coloneqq"),xt("","\\eqqcolon"),xt("","\\Coloneqq"),xt("\\ratio","\\vcentcolon"),xt("\\coloncolon","\\dblcolon"),xt("\\colonequals","\\coloneqq"),xt("\\coloncolonequals","\\Coloneqq"),xt("\\equalscolon","\\eqqcolon"),xt("\\equalscoloncolon","\\Eqqcolon"),xt("\\colonminus","\\coloneq"),xt("\\coloncolonminus","\\Coloneq"),xt("\\minuscolon","\\eqcolon"),xt("\\minuscoloncolon","\\Eqcolon"),xt("\\coloncolonapprox","\\Colonapprox"),xt("\\coloncolonsim","\\Colonsim"),xt("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),xt("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),xt("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),xt("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),xt("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),xt("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),xt("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),xt("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),xt("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),xt("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),xt("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),xt("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),xt("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),xt("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}"),xt("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}"),xt("\\ngeqq","\\html@mathml{\\@ngeqq}{}"),xt("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}"),xt("\\nleqq","\\html@mathml{\\@nleqq}{}"),xt("\\nleqslant","\\html@mathml{\\@nleqslant}{}"),xt("\\nshortmid","\\html@mathml{\\@nshortmid}{}"),xt("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}"),xt("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}"),xt("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}"),xt("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}"),xt("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}"),xt("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}"),xt("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}"),xt("\\imath","\\html@mathml{\\@imath}{}"),xt("\\jmath","\\html@mathml{\\@jmath}{}"),xt("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),xt("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),xt("","\\llbracket"),xt("","\\rrbracket"),xt("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),xt("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),xt("","\\lBrace"),xt("","\\rBrace"),xt("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),xt("","\\minuso"),xt("\\darr","\\downarrow"),xt("\\dArr","\\Downarrow"),xt("\\Darr","\\Downarrow"),xt("\\lang","\\langle"),xt("\\rang","\\rangle"),xt("\\uarr","\\uparrow"),xt("\\uArr","\\Uparrow"),xt("\\Uarr","\\Uparrow"),xt("\\N","\\mathbb{N}"),xt("\\R","\\mathbb{R}"),xt("\\Z","\\mathbb{Z}"),xt("\\alef","\\aleph"),xt("\\alefsym","\\aleph"),xt("\\Alpha","\\mathrm{A}"),xt("\\Beta","\\mathrm{B}"),xt("\\bull","\\bullet"),xt("\\Chi","\\mathrm{X}"),xt("\\clubs","\\clubsuit"),xt("\\cnums","\\mathbb{C}"),xt("\\Complex","\\mathbb{C}"),xt("\\Dagger","\\ddagger"),xt("\\diamonds","\\diamondsuit"),xt("\\empty","\\emptyset"),xt("\\Epsilon","\\mathrm{E}"),xt("\\Eta","\\mathrm{H}"),xt("\\exist","\\exists"),xt("\\harr","\\leftrightarrow"),xt("\\hArr","\\Leftrightarrow"),xt("\\Harr","\\Leftrightarrow"),xt("\\hearts","\\heartsuit"),xt("\\image","\\Im"),xt("\\infin","\\infty"),xt("\\Iota","\\mathrm{I}"),xt("\\isin","\\in"),xt("\\Kappa","\\mathrm{K}"),xt("\\larr","\\leftarrow"),xt("\\lArr","\\Leftarrow"),xt("\\Larr","\\Leftarrow"),xt("\\lrarr","\\leftrightarrow"),xt("\\lrArr","\\Leftrightarrow"),xt("\\Lrarr","\\Leftrightarrow"),xt("\\Mu","\\mathrm{M}"),xt("\\natnums","\\mathbb{N}"),xt("\\Nu","\\mathrm{N}"),xt("\\Omicron","\\mathrm{O}"),xt("\\plusmn","\\pm"),xt("\\rarr","\\rightarrow"),xt("\\rArr","\\Rightarrow"),xt("\\Rarr","\\Rightarrow"),xt("\\real","\\Re"),xt("\\reals","\\mathbb{R}"),xt("\\Reals","\\mathbb{R}"),xt("\\Rho","\\mathrm{P}"),xt("\\sdot","\\cdot"),xt("\\sect","\\S"),xt("\\spades","\\spadesuit"),xt("\\sub","\\subset"),xt("\\sube","\\subseteq"),xt("\\supe","\\supseteq"),xt("\\Tau","\\mathrm{T}"),xt("\\thetasym","\\vartheta"),xt("\\weierp","\\wp"),xt("\\Zeta","\\mathrm{Z}"),xt("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),xt("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),xt("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),xt("\\bra","\\mathinner{\\langle{#1}|}"),xt("\\ket","\\mathinner{|{#1}\\rangle}"),xt("\\braket","\\mathinner{\\langle{#1}\\rangle}"),xt("\\Bra","\\left\\langle#1\\right|"),xt("\\Ket","\\left|#1\\right\\rangle");const E0=S=>_=>{const C=_.consumeArg().tokens,G=_.consumeArg().tokens,pe=_.consumeArg().tokens,Ie=_.consumeArg().tokens,ot=_.macros.get("|"),kt=_.macros.get("\\|");_.macros.beginGroup();const Pt=wn=>Rn=>{S&&(Rn.macros.set("|",ot),pe.length&&Rn.macros.set("\\|",kt));let ir=wn;return!wn&&pe.length&&Rn.future().text==="|"&&(Rn.popToken(),ir=!0),{tokens:ir?pe:G,numArgs:0}};_.macros.set("|",Pt(!1)),pe.length&&_.macros.set("\\|",Pt(!0));const Jt=_.consumeArg().tokens,vn=_.expandTokens([...Ie,...Jt,...C]);return _.macros.endGroup(),{tokens:vn.reverse(),numArgs:0}};xt("\\bra@ket",E0(!1)),xt("\\bra@set",E0(!0)),xt("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),xt("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),xt("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),xt("\\angln","{\\angl n}"),xt("\\blue","\\textcolor{##6495ed}{#1}"),xt("\\orange","\\textcolor{##ffa500}{#1}"),xt("\\pink","\\textcolor{##ff00af}{#1}"),xt("\\red","\\textcolor{##df0030}{#1}"),xt("\\green","\\textcolor{##28ae7b}{#1}"),xt("\\gray","\\textcolor{gray}{#1}"),xt("\\purple","\\textcolor{##9d38bd}{#1}"),xt("\\blueA","\\textcolor{##ccfaff}{#1}"),xt("\\blueB","\\textcolor{##80f6ff}{#1}"),xt("\\blueC","\\textcolor{##63d9ea}{#1}"),xt("\\blueD","\\textcolor{##11accd}{#1}"),xt("\\blueE","\\textcolor{##0c7f99}{#1}"),xt("\\tealA","\\textcolor{##94fff5}{#1}"),xt("\\tealB","\\textcolor{##26edd5}{#1}"),xt("\\tealC","\\textcolor{##01d1c1}{#1}"),xt("\\tealD","\\textcolor{##01a995}{#1}"),xt("\\tealE","\\textcolor{##208170}{#1}"),xt("\\greenA","\\textcolor{##b6ffb0}{#1}"),xt("\\greenB","\\textcolor{##8af281}{#1}"),xt("\\greenC","\\textcolor{##74cf70}{#1}"),xt("\\greenD","\\textcolor{##1fab54}{#1}"),xt("\\greenE","\\textcolor{##0d923f}{#1}"),xt("\\goldA","\\textcolor{##ffd0a9}{#1}"),xt("\\goldB","\\textcolor{##ffbb71}{#1}"),xt("\\goldC","\\textcolor{##ff9c39}{#1}"),xt("\\goldD","\\textcolor{##e07d10}{#1}"),xt("\\goldE","\\textcolor{##a75a05}{#1}"),xt("\\redA","\\textcolor{##fca9a9}{#1}"),xt("\\redB","\\textcolor{##ff8482}{#1}"),xt("\\redC","\\textcolor{##f9685d}{#1}"),xt("\\redD","\\textcolor{##e84d39}{#1}"),xt("\\redE","\\textcolor{##bc2612}{#1}"),xt("\\maroonA","\\textcolor{##ffbde0}{#1}"),xt("\\maroonB","\\textcolor{##ff92c6}{#1}"),xt("\\maroonC","\\textcolor{##ed5fa6}{#1}"),xt("\\maroonD","\\textcolor{##ca337c}{#1}"),xt("\\maroonE","\\textcolor{##9e034e}{#1}"),xt("\\purpleA","\\textcolor{##ddd7ff}{#1}"),xt("\\purpleB","\\textcolor{##c6b9fc}{#1}"),xt("\\purpleC","\\textcolor{##aa87ff}{#1}"),xt("\\purpleD","\\textcolor{##7854ab}{#1}"),xt("\\purpleE","\\textcolor{##543b78}{#1}"),xt("\\mintA","\\textcolor{##f5f9e8}{#1}"),xt("\\mintB","\\textcolor{##edf2df}{#1}"),xt("\\mintC","\\textcolor{##e0e5cc}{#1}"),xt("\\grayA","\\textcolor{##f6f7f7}{#1}"),xt("\\grayB","\\textcolor{##f0f1f2}{#1}"),xt("\\grayC","\\textcolor{##e3e5e6}{#1}"),xt("\\grayD","\\textcolor{##d6d8da}{#1}"),xt("\\grayE","\\textcolor{##babec2}{#1}"),xt("\\grayF","\\textcolor{##888d93}{#1}"),xt("\\grayG","\\textcolor{##626569}{#1}"),xt("\\grayH","\\textcolor{##3b3e40}{#1}"),xt("\\grayI","\\textcolor{##21242c}{#1}"),xt("\\kaBlue","\\textcolor{##314453}{#1}"),xt("\\kaGreen","\\textcolor{##71B307}{#1}");const yo={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Gu{constructor(_,C,G){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=C,this.expansionCount=0,this.feed(_),this.macros=new wa(Yl,C.macros),this.mode=G,this.stack=[]}feed(_){this.lexer=new jc(_,this.settings)}switchMode(_){this.mode=_}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(_){this.stack.push(_)}pushTokens(_){this.stack.push(..._)}scanArgument(_){let C,G,pe;if(_){if(this.consumeSpaces(),this.future().text!=="[")return null;C=this.popToken(),{tokens:pe,end:G}=this.consumeArg(["]"])}else({tokens:pe,start:C,end:G}=this.consumeArg());return this.pushToken(new xs("EOF",G.loc)),this.pushTokens(pe),new xs("",ts.range(C,G))}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(_){const C=[],G=_&&_.length>0;G||this.consumeSpaces();const pe=this.future();let Ie,ot=0,kt=0;do{if(Ie=this.popToken(),C.push(Ie),Ie.text==="{")++ot;else if(Ie.text==="}"){if(--ot,ot===-1)throw new h("Extra }",Ie)}else if(Ie.text==="EOF")throw new h("Unexpected end of input in a macro argument, expected '"+(_&&G?_[kt]:"}")+"'",Ie);if(_&&G)if((ot===0||ot===1&&_[kt]==="{")&&Ie.text===_[kt]){if(++kt,kt===_.length){C.splice(-kt,kt);break}}else kt=0}while(ot!==0||G);return pe.text==="{"&&C[C.length-1].text==="}"&&(C.pop(),C.shift()),C.reverse(),{tokens:C,start:pe,end:Ie}}consumeArgs(_,C){if(C){if(C.length!==_+1)throw new h("The length of delimiters doesn't match the number of args!");const pe=C[0];for(let Ie=0;Ie<pe.length;Ie++){const ot=this.popToken();if(pe[Ie]!==ot.text)throw new h("Use of the macro doesn't match its definition",ot)}}const G=[];for(let pe=0;pe<_;pe++)G.push(this.consumeArg(C&&C[pe+1]).tokens);return G}countExpansion(_){if(this.expansionCount+=_,this.expansionCount>this.settings.maxExpand)throw new h("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(_){const C=this.popToken(),G=C.text,pe=C.noexpand?null:this._getExpansion(G);if(pe==null||_&&pe.unexpandable){if(_&&pe==null&&G[0]==="\\"&&!this.isDefined(G))throw new h("Undefined control sequence: "+G);return this.pushToken(C),!1}this.countExpansion(1);let Ie=pe.tokens;const ot=this.consumeArgs(pe.numArgs,pe.delimiters);if(pe.numArgs){Ie=Ie.slice();for(let kt=Ie.length-1;kt>=0;--kt){let Pt=Ie[kt];if(Pt.text==="#"){if(kt===0)throw new h("Incomplete placeholder at end of macro body",Pt);if(Pt=Ie[--kt],Pt.text==="#")Ie.splice(kt+1,1);else if(/^[1-9]$/.test(Pt.text))Ie.splice(kt,2,...ot[+Pt.text-1]);else throw new h("Not a valid argument number",Pt)}}}return this.pushTokens(Ie),Ie.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const _=this.stack.pop();return _.treatAsRelax&&(_.text="\\relax"),_}throw new Error}expandMacro(_){return this.macros.has(_)?this.expandTokens([new xs(_)]):void 0}expandTokens(_){const C=[],G=this.stack.length;for(this.pushTokens(_);this.stack.length>G;)if(this.expandOnce(!0)===!1){const pe=this.stack.pop();pe.treatAsRelax&&(pe.noexpand=!1,pe.treatAsRelax=!1),C.push(pe)}return this.countExpansion(C.length),C}expandMacroAsText(_){const C=this.expandMacro(_);return C&&C.map(G=>G.text).join("")}_getExpansion(_){const C=this.macros.get(_);if(C==null)return C;if(_.length===1){const pe=this.lexer.catcodes[_];if(pe!=null&&pe!==13)return}const G=typeof C=="function"?C(this):C;if(typeof G=="string"){let pe=0;if(G.indexOf("#")!==-1){const Jt=G.replace(/##/g,"");for(;Jt.indexOf("#"+(pe+1))!==-1;)++pe}const Ie=new jc(G,this.settings),ot=[];let kt=Ie.lex();for(;kt.text!=="EOF";)ot.push(kt),kt=Ie.lex();return ot.reverse(),{tokens:ot,numArgs:pe}}return G}isDefined(_){return this.macros.has(_)||ao.hasOwnProperty(_)||En.math.hasOwnProperty(_)||En.text.hasOwnProperty(_)||yo.hasOwnProperty(_)}isExpandable(_){const C=this.macros.get(_);return C!=null?typeof C=="string"||typeof C=="function"||!C.unexpandable:ao.hasOwnProperty(_)&&!ao[_].primitive}}const qu=/^[]/,Xc=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Y1={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},hh={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class As{constructor(_,C){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Gu(_,C,this.mode),this.settings=C,this.leftrightDepth=0}expect(_,C){if(C===void 0&&(C=!0),this.fetch().text!==_)throw new h("Expected '"+_+"', got '"+this.fetch().text+"'",this.fetch());C&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(_){this.mode=_,this.gullet.switchMode(_)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const _=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),_}finally{this.gullet.endGroups()}}subparse(_){const C=this.nextToken;this.consume(),this.gullet.pushToken(new xs("}")),this.gullet.pushTokens(_);const G=this.parseExpression(!1);return this.expect("}"),this.nextToken=C,G}parseExpression(_,C){const G=[];for(;;){this.mode==="math"&&this.consumeSpaces();const pe=this.fetch();if(As.endOfExpression.indexOf(pe.text)!==-1||C&&pe.text===C||_&&ao[pe.text]&&ao[pe.text].infix)break;const Ie=this.parseAtom(C);if(Ie){if(Ie.type==="internal")continue}else break;G.push(Ie)}return this.mode==="text"&&this.formLigatures(G),this.handleInfixNodes(G)}handleInfixNodes(_){let C=-1,G;for(let pe=0;pe<_.length;pe++)if(_[pe].type==="infix"){if(C!==-1)throw new h("only one infix operator per group",_[pe].token);C=pe,G=_[pe].replaceWith}if(C!==-1&&G){let pe,Ie;const ot=_.slice(0,C),kt=_.slice(C+1);ot.length===1&&ot[0].type==="ordgroup"?pe=ot[0]:pe={type:"ordgroup",mode:this.mode,body:ot},kt.length===1&&kt[0].type==="ordgroup"?Ie=kt[0]:Ie={type:"ordgroup",mode:this.mode,body:kt};let Pt;return G==="\\\\abovefrac"?Pt=this.callFunction(G,[pe,_[C],Ie],[]):Pt=this.callFunction(G,[pe,Ie],[]),[Pt]}else return _}handleSupSubscript(_){const C=this.fetch(),G=C.text;this.consume(),this.consumeSpaces();let pe;do{var Ie;pe=this.parseGroup(_)}while(((Ie=pe)==null?void 0:Ie.type)==="internal");if(!pe)throw new h("Expected group after '"+G+"'",C);return pe}formatUnsupportedCmd(_){const C=[];for(let Ie=0;Ie<_.length;Ie++)C.push({type:"textord",mode:"text",text:_[Ie]});const G={type:"text",mode:this.mode,body:C};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[G]}}parseAtom(_){const C=this.parseGroup("atom",_);if(C?.type==="internal"||this.mode==="text")return C;let G,pe;for(;;){this.consumeSpaces();const Ie=this.fetch();if(Ie.text==="\\limits"||Ie.text==="\\nolimits"){if(C&&C.type==="op"){const ot=Ie.text==="\\limits";C.limits=ot,C.alwaysHandleSupSub=!0}else if(C&&C.type==="operatorname")C.alwaysHandleSupSub&&(C.limits=Ie.text==="\\limits");else throw new h("Limit controls must follow a math operator",Ie);this.consume()}else if(Ie.text==="^"){if(G)throw new h("Double superscript",Ie);G=this.handleSupSubscript("superscript")}else if(Ie.text==="_"){if(pe)throw new h("Double subscript",Ie);pe=this.handleSupSubscript("subscript")}else if(Ie.text==="'"){if(G)throw new h("Double superscript",Ie);const ot={type:"textord",mode:this.mode,text:"\\prime"},kt=[ot];for(this.consume();this.fetch().text==="'";)kt.push(ot),this.consume();this.fetch().text==="^"&&kt.push(this.handleSupSubscript("superscript")),G={type:"ordgroup",mode:this.mode,body:kt}}else if(Xc[Ie.text]){const ot=qu.test(Ie.text),kt=[];for(kt.push(new xs(Xc[Ie.text])),this.consume();;){const Jt=this.fetch().text;if(!Xc[Jt]||qu.test(Jt)!==ot)break;kt.unshift(new xs(Xc[Jt])),this.consume()}const Pt=this.subparse(kt);ot?pe={type:"ordgroup",mode:"math",body:Pt}:G={type:"ordgroup",mode:"math",body:Pt}}else break}return G||pe?{type:"supsub",mode:this.mode,base:C,sup:G,sub:pe}:C}parseFunction(_,C){const G=this.fetch(),pe=G.text,Ie=ao[pe];if(!Ie)return null;if(this.consume(),C&&C!=="atom"&&!Ie.allowedInArgument)throw new h("Got function '"+pe+"' with no arguments"+(C?" as "+C:""),G);if(this.mode==="text"&&!Ie.allowedInText)throw new h("Can't use function '"+pe+"' in text mode",G);if(this.mode==="math"&&Ie.allowedInMath===!1)throw new h("Can't use function '"+pe+"' in math mode",G);const{args:ot,optArgs:kt}=this.parseArguments(pe,Ie);return this.callFunction(pe,ot,kt,G,_)}callFunction(_,C,G,pe,Ie){const ot={funcName:_,parser:this,token:pe,breakOnTokenText:Ie},kt=ao[_];if(kt&&kt.handler)return kt.handler(ot,C,G);throw new h("No function handler for "+_)}parseArguments(_,C){const G=C.numArgs+C.numOptionalArgs;if(G===0)return{args:[],optArgs:[]};const pe=[],Ie=[];for(let ot=0;ot<G;ot++){let kt=C.argTypes&&C.argTypes[ot];const Pt=ot<C.numOptionalArgs;(C.primitive&&kt==null||C.type==="sqrt"&&ot===1&&Ie[0]==null)&&(kt="primitive");const Jt=this.parseGroupOfType("argument to '"+_+"'",kt,Pt);if(Pt)Ie.push(Jt);else if(Jt!=null)pe.push(Jt);else throw new h("Null argument, please report this as a bug")}return{args:pe,optArgs:Ie}}parseGroupOfType(_,C,G){switch(C){case"color":return this.parseColorGroup(G);case"size":return this.parseSizeGroup(G);case"url":return this.parseUrlGroup(G);case"math":case"text":return this.parseArgumentGroup(G,C);case"hbox":{const pe=this.parseArgumentGroup(G,"text");return pe!=null?{type:"styling",mode:pe.mode,body:[pe],style:"text"}:null}case"raw":{const pe=this.parseStringGroup("raw",G);return pe!=null?{type:"raw",mode:"text",string:pe.text}:null}case"primitive":{if(G)throw new h("A primitive argument cannot be optional");const pe=this.parseGroup(_);if(pe==null)throw new h("Expected group as "+_,this.fetch());return pe}case"original":case null:case void 0:return this.parseArgumentGroup(G);default:throw new h("Unknown group type as "+_,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(_,C){const G=this.gullet.scanArgument(C);if(G==null)return null;let pe="",Ie;for(;(Ie=this.fetch()).text!=="EOF";)pe+=Ie.text,this.consume();return this.consume(),G.text=pe,G}parseRegexGroup(_,C){const G=this.fetch();let pe=G,Ie="",ot;for(;(ot=this.fetch()).text!=="EOF"&&_.test(Ie+ot.text);)pe=ot,Ie+=pe.text,this.consume();if(Ie==="")throw new h("Invalid "+C+": '"+G.text+"'",G);return G.range(pe,Ie)}parseColorGroup(_){const C=this.parseStringGroup("color",_);if(C==null)return null;const G=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(C.text);if(!G)throw new h("Invalid color: '"+C.text+"'",C);let pe=G[0];return/^[0-9a-f]{6}$/i.test(pe)&&(pe="#"+pe),{type:"color-token",mode:this.mode,color:pe}}parseSizeGroup(_){let C,G=!1;if(this.gullet.consumeSpaces(),!_&&this.gullet.future().text!=="{"?C=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):C=this.parseStringGroup("size",_),!C)return null;!_&&C.text.length===0&&(C.text="0pt",G=!0);const pe=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(C.text);if(!pe)throw new h("Invalid size: '"+C.text+"'",C);const Ie={number:+(pe[1]+pe[2]),unit:pe[3]};if(!wt(Ie))throw new h("Invalid unit: '"+Ie.unit+"'",C);return{type:"size",mode:this.mode,value:Ie,isBlank:G}}parseUrlGroup(_){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const C=this.parseStringGroup("url",_);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),C==null)return null;const G=C.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:G}}parseArgumentGroup(_,C){const G=this.gullet.scanArgument(_);if(G==null)return null;const pe=this.mode;C&&this.switchMode(C),this.gullet.beginGroup();const Ie=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const ot={type:"ordgroup",mode:this.mode,loc:G.loc,body:Ie};return C&&this.switchMode(pe),ot}parseGroup(_,C){const G=this.fetch(),pe=G.text;let Ie;if(pe==="{"||pe==="\\begingroup"){this.consume();const ot=pe==="{"?"}":"\\endgroup";this.gullet.beginGroup();const kt=this.parseExpression(!1,ot),Pt=this.fetch();this.expect(ot),this.gullet.endGroup(),Ie={type:"ordgroup",mode:this.mode,loc:ts.range(G,Pt),body:kt,semisimple:pe==="\\begingroup"||void 0}}else if(Ie=this.parseFunction(C,_)||this.parseSymbol(),Ie==null&&pe[0]==="\\"&&!yo.hasOwnProperty(pe)){if(this.settings.throwOnError)throw new h("Undefined control sequence: "+pe,G);Ie=this.formatUnsupportedCmd(pe),this.consume()}return Ie}formLigatures(_){let C=_.length-1;for(let G=0;G<C;++G){const pe=_[G],Ie=pe.text;Ie==="-"&&_[G+1].text==="-"&&(G+1<C&&_[G+2].text==="-"?(_.splice(G,3,{type:"textord",mode:"text",loc:ts.range(pe,_[G+2]),text:"---"}),C-=2):(_.splice(G,2,{type:"textord",mode:"text",loc:ts.range(pe,_[G+1]),text:"--"}),C-=1)),(Ie==="'"||Ie==="`")&&_[G+1].text===Ie&&(_.splice(G,2,{type:"textord",mode:"text",loc:ts.range(pe,_[G+1]),text:Ie+Ie}),C-=1)}}parseSymbol(){const _=this.fetch();let C=_.text;if(/^\\verb[^a-zA-Z]/.test(C)){this.consume();let Ie=C.slice(5);const ot=Ie.charAt(0)==="*";if(ot&&(Ie=Ie.slice(1)),Ie.length<2||Ie.charAt(0)!==Ie.slice(-1))throw new h(`\\verb assertion failed --
                    please report what input caused this bug`);return Ie=Ie.slice(1,-1),{type:"verb",mode:"text",body:Ie,star:ot}}hh.hasOwnProperty(C[0])&&!En[this.mode][C[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+C[0]+'" used in math mode',_),C=hh[C[0]]+C.slice(1));const G=X1.exec(C);G&&(C=C.substring(0,G.index),C==="i"?C="":C==="j"&&(C=""));let pe;if(En[this.mode][C]){this.settings.strict&&this.mode==="math"&&_t.indexOf(C)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+C[0]+'" used in math mode',_);const Ie=En[this.mode][C].group,ot=ts.range(_);let kt;if(sr.hasOwnProperty(Ie)){const Pt=Ie;kt={type:"atom",mode:this.mode,family:Pt,loc:ot,text:C}}else kt={type:Ie,mode:this.mode,loc:ot,text:C};pe=kt}else if(C.charCodeAt(0)>=128)this.settings.strict&&(Ft(C.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+C[0]+'" used in math mode',_):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+C[0]+'"'+(" ("+C.charCodeAt(0)+")"),_)),pe={type:"textord",mode:"text",loc:ts.range(_),text:C};else return null;if(this.consume(),G)for(let Ie=0;Ie<G[0].length;Ie++){const ot=G[0][Ie];if(!Y1[ot])throw new h("Unknown accent ' "+ot+"'",_);const kt=Y1[ot][this.mode]||Y1[ot].text;if(!kt)throw new h("Accent "+ot+" unsupported in "+this.mode+" mode",_);pe={type:"accent",mode:this.mode,loc:ts.range(_),label:kt,isStretchy:!1,isShifty:!0,base:pe}}return pe}}As.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Jl=function(S,_){if(!(typeof S=="string"||S instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const C=new As(S,_);delete C.gullet.macros.current["\\df@tag"];let G=C.parse();if(delete C.gullet.macros.current["\\current@color"],delete C.gullet.macros.current["\\color"],C.gullet.macros.get("\\df@tag")){if(!_.displayMode)throw new h("\\tag works only in display equations");G=[{type:"tag",mode:"text",body:G,tag:C.subparse([new xs("\\df@tag")])}]}return G};let Zl=function(S,_,C){_.textContent="";const G=J1(S,C).toNode();_.appendChild(G)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Zl=function(){throw new h("KaTeX doesn't work in quirks mode.")});const K1=function(S,_){return J1(S,_).toMarkup()},du=function(S,_){const C=new te(_);return Jl(S,C)},Ta=function(S,_,C){if(C.throwOnError||!(S instanceof h))throw S;const G=Ze.makeSpan(["katex-error"],[new we(_)]);return G.setAttribute("title",S.toString()),G.setAttribute("style","color:"+C.errorColor),G},J1=function(S,_){const C=new te(_);try{const G=Jl(S,C);return es(G,S,C)}catch(G){return Ta(G,S,C)}};var ls={version:"0.16.25",render:Zl,renderToString:K1,ParseError:h,SETTINGS_SCHEMA:V,__parse:du,__renderToDomTree:J1,__renderToHTMLTree:function(S,_){const C=new te(_);try{const G=Jl(S,C);return Bi(G,S,C)}catch(G){return Ta(G,S,C)}},__setFontMetrics:Qe,__defineSymbol:re,__defineFunction:Dt,__defineMacro:xt,__domTree:{Span:zt,Anchor:ve,SymbolNode:we,SvgNode:tt,PathNode:St,LineNode:Zt}},L0=ls;return i=i.default,i})()})})(s9)),s9.exports}var JA=n7.exports,Ub;function ZA(){return Ub||(Ub=1,(function(t,s){(function(r,i){i(s,Q9(),QT(),KA())})(JA,function(r,i,u,h){Object.defineProperty(r,"__esModule",{value:!0});function f(he,V){for(var le in V)Object.defineProperty(he,le,{enumerable:!0,get:V[le]})}f(r,{BlockMath:()=>K,InlineMath:()=>ne}),i=$(i),u=g(u),h=g(h);function g(he){return he&&he.__esModule?he:{default:he}}function y(he){if(typeof WeakMap!="function")return null;var V=new WeakMap,le=new WeakMap;return(y=function(te){return te?le:V})(he)}function $(he,V){if(he&&he.__esModule)return he;if(he===null||typeof he!="object"&&typeof he!="function")return{default:he};var le=y(V);if(le&&le.has(he))return le.get(he);var te={},Ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Oe in he)if(Oe!=="default"&&Object.prototype.hasOwnProperty.call(he,Oe)){var ce=Ce?Object.getOwnPropertyDescriptor(he,Oe):null;ce&&(ce.get||ce.set)?Object.defineProperty(te,Oe,ce):te[Oe]=he[Oe]}return te.default=he,le&&le.set(he,te),te}const T=(he,{displayMode:V})=>{const le=({children:te,errorColor:Ce,math:Oe,renderError:ce})=>{const Be=Oe??te,{html:je,error:_e}=(0,i.useMemo)(()=>{try{return{html:h.default.renderToString(Be,{displayMode:V,errorColor:Ce,throwOnError:!!ce}),error:void 0}}catch(b){if(b instanceof h.default.ParseError||b instanceof TypeError)return{error:b};throw b}},[Be,Ce,ce]);return _e?ce?ce(_e):i.default.createElement(he,{html:`${_e.message}`}):i.default.createElement(he,{html:je})};return le.propTypes={children:u.default.string,errorColor:u.default.string,math:u.default.string,renderError:u.default.func},le},w={html:u.default.string.isRequired},I=({html:he})=>i.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:he}});I.propTypes=w;const A=({html:he})=>i.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:he}});A.propTypes=w;const K=T(I,{displayMode:!0}),ne=T(A,{displayMode:!1})})})(n7,n7.exports)),n7.exports}var B3=ZA(),Ou={},zb={},Hb;function QA(){return Hb||(Hb=1,typeof window<"u"&&(function(t,s){try{t.querySelector(":scope body")}catch{["querySelector","querySelectorAll"].forEach(function(i){const u=s[i];s[i]=function(h){if(/(^|,)\s*:scope/.test(h)){const f=this.id;this.id="ID_"+Date.now(),h=h.replace(/((^|,)\s*):scope/g,"$1#"+this.id);const g=t[i](h);return this.id=f,g}else return u.call(this,h)}})}})(window.document,Element.prototype)),zb}var Zh={};function Ei(t){return function(){return t}}const Vb=Math.abs,K0=Math.atan2,C1=Math.cos,eN=Math.max,n6=Math.min,Ll=Math.sin,so=Math.sqrt,J0=1e-12,Z2=Math.PI,_9=Z2/2,K2=2*Z2;function tN(t){return t>1?0:t<-1?Z2:Math.acos(t)}function Gb(t){return t>=1?_9:t<=-1?-_9:Math.asin(t)}const _m=Math.PI,wm=2*_m,n4=1e-6,nN=wm-n4;function sE(t){this._+=t[0];for(let s=1,r=t.length;s<r;++s)this._+=arguments[s]+t[s]}function rN(t){let s=Math.floor(t);if(!(s>=0))throw new Error(`invalid digits: ${t}`);if(s>15)return sE;const r=10**s;return function(i){this._+=i[0];for(let u=1,h=i.length;u<h;++u)this._+=Math.round(arguments[u]*r)/r+i[u]}}class iN{constructor(s){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=s==null?sE:rN(s)}moveTo(s,r){this._append`M${this._x0=this._x1=+s},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(s,r){this._append`L${this._x1=+s},${this._y1=+r}`}quadraticCurveTo(s,r,i,u){this._append`Q${+s},${+r},${this._x1=+i},${this._y1=+u}`}bezierCurveTo(s,r,i,u,h,f){this._append`C${+s},${+r},${+i},${+u},${this._x1=+h},${this._y1=+f}`}arcTo(s,r,i,u,h){if(s=+s,r=+r,i=+i,u=+u,h=+h,h<0)throw new Error(`negative radius: ${h}`);let f=this._x1,g=this._y1,y=i-s,$=u-r,T=f-s,w=g-r,I=T*T+w*w;if(this._x1===null)this._append`M${this._x1=s},${this._y1=r}`;else if(I>n4)if(!(Math.abs(w*y-$*T)>n4)||!h)this._append`L${this._x1=s},${this._y1=r}`;else{let A=i-f,K=u-g,ne=y*y+$*$,he=A*A+K*K,V=Math.sqrt(ne),le=Math.sqrt(I),te=h*Math.tan((_m-Math.acos((ne+I-he)/(2*V*le)))/2),Ce=te/le,Oe=te/V;Math.abs(Ce-1)>n4&&this._append`L${s+Ce*T},${r+Ce*w}`,this._append`A${h},${h},0,0,${+(w*A>T*K)},${this._x1=s+Oe*y},${this._y1=r+Oe*$}`}}arc(s,r,i,u,h,f){if(s=+s,r=+r,i=+i,f=!!f,i<0)throw new Error(`negative radius: ${i}`);let g=i*Math.cos(u),y=i*Math.sin(u),$=s+g,T=r+y,w=1^f,I=f?u-h:h-u;this._x1===null?this._append`M${$},${T}`:(Math.abs(this._x1-$)>n4||Math.abs(this._y1-T)>n4)&&this._append`L${$},${T}`,i&&(I<0&&(I=I%wm+wm),I>nN?this._append`A${i},${i},0,1,${w},${s-g},${r-y}A${i},${i},0,1,${w},${this._x1=$},${this._y1=T}`:I>n4&&this._append`A${i},${i},0,${+(I>=_m)},${w},${this._x1=s+i*Math.cos(h)},${this._y1=r+i*Math.sin(h)}`)}rect(s,r,i,u){this._append`M${this._x0=this._x1=+s},${this._y0=this._y1=+r}h${i=+i}v${+u}h${-i}Z`}toString(){return this._}}function M7(t){let s=3;return t.digits=function(r){if(!arguments.length)return s;if(r==null)s=null;else{const i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);s=i}return t},()=>new iN(s)}function sN(t){return t.innerRadius}function oN(t){return t.outerRadius}function lN(t){return t.startAngle}function aN(t){return t.endAngle}function uN(t){return t&&t.padAngle}function cN(t,s,r,i,u,h,f,g){var y=r-t,$=i-s,T=f-u,w=g-h,I=w*y-T*$;if(!(I*I<J0))return I=(T*(s-h)-w*(t-u))/I,[t+I*y,s+I*$]}function S8(t,s,r,i,u,h,f){var g=t-r,y=s-i,$=(f?h:-h)/so(g*g+y*y),T=$*y,w=-$*g,I=t+T,A=s+w,K=r+T,ne=i+w,he=(I+K)/2,V=(A+ne)/2,le=K-I,te=ne-A,Ce=le*le+te*te,Oe=u-h,ce=I*ne-K*A,Be=(te<0?-1:1)*so(eN(0,Oe*Oe*Ce-ce*ce)),je=(ce*te-le*Be)/Ce,_e=(-ce*le-te*Be)/Ce,b=(ce*te+le*Be)/Ce,O=(-ce*le+te*Be)/Ce,N=je-he,R=_e-V,B=b-he,j=O-V;return N*N+R*R>B*B+j*j&&(je=b,_e=O),{cx:je,cy:_e,x01:-T,y01:-w,x11:je*(u/Oe-1),y11:_e*(u/Oe-1)}}function hN(){var t=sN,s=oN,r=Ei(0),i=null,u=lN,h=aN,f=uN,g=null,y=M7($);function $(){var T,w,I=+t.apply(this,arguments),A=+s.apply(this,arguments),K=u.apply(this,arguments)-_9,ne=h.apply(this,arguments)-_9,he=Vb(ne-K),V=ne>K;if(g||(g=T=y()),A<I&&(w=A,A=I,I=w),!(A>J0))g.moveTo(0,0);else if(he>K2-J0)g.moveTo(A*C1(K),A*Ll(K)),g.arc(0,0,A,K,ne,!V),I>J0&&(g.moveTo(I*C1(ne),I*Ll(ne)),g.arc(0,0,I,ne,K,V));else{var le=K,te=ne,Ce=K,Oe=ne,ce=he,Be=he,je=f.apply(this,arguments)/2,_e=je>J0&&(i?+i.apply(this,arguments):so(I*I+A*A)),b=n6(Vb(A-I)/2,+r.apply(this,arguments)),O=b,N=b,R,B;if(_e>J0){var j=Gb(_e/I*Ll(je)),J=Gb(_e/A*Ll(je));(ce-=j*2)>J0?(j*=V?1:-1,Ce+=j,Oe-=j):(ce=0,Ce=Oe=(K+ne)/2),(Be-=J*2)>J0?(J*=V?1:-1,le+=J,te-=J):(Be=0,le=te=(K+ne)/2)}var fe=A*C1(le),Ne=A*Ll(le),qe=I*C1(Oe),de=I*Ll(Oe);if(b>J0){var xe=A*C1(te),gt=A*Ll(te),ze=I*C1(Ce),Ft=I*Ll(Ce),Ge;if(he<Z2)if(Ge=cN(fe,Ne,ze,Ft,xe,gt,qe,de)){var et=fe-Ge[0],Ct=Ne-Ge[1],nt=xe-Ge[0],yt=gt-Ge[1],Ut=1/Ll(tN((et*nt+Ct*yt)/(so(et*et+Ct*Ct)*so(nt*nt+yt*yt)))/2),Ht=so(Ge[0]*Ge[0]+Ge[1]*Ge[1]);O=n6(b,(I-Ht)/(Ut-1)),N=n6(b,(A-Ht)/(Ut+1))}else O=N=0}Be>J0?N>J0?(R=S8(ze,Ft,fe,Ne,A,N,V),B=S8(xe,gt,qe,de,A,N,V),g.moveTo(R.cx+R.x01,R.cy+R.y01),N<b?g.arc(R.cx,R.cy,N,K0(R.y01,R.x01),K0(B.y01,B.x01),!V):(g.arc(R.cx,R.cy,N,K0(R.y01,R.x01),K0(R.y11,R.x11),!V),g.arc(0,0,A,K0(R.cy+R.y11,R.cx+R.x11),K0(B.cy+B.y11,B.cx+B.x11),!V),g.arc(B.cx,B.cy,N,K0(B.y11,B.x11),K0(B.y01,B.x01),!V))):(g.moveTo(fe,Ne),g.arc(0,0,A,le,te,!V)):g.moveTo(fe,Ne),!(I>J0)||!(ce>J0)?g.lineTo(qe,de):O>J0?(R=S8(qe,de,xe,gt,I,-O,V),B=S8(fe,Ne,ze,Ft,I,-O,V),g.lineTo(R.cx+R.x01,R.cy+R.y01),O<b?g.arc(R.cx,R.cy,O,K0(R.y01,R.x01),K0(B.y01,B.x01),!V):(g.arc(R.cx,R.cy,O,K0(R.y01,R.x01),K0(R.y11,R.x11),!V),g.arc(0,0,I,K0(R.cy+R.y11,R.cx+R.x11),K0(B.cy+B.y11,B.cx+B.x11),V),g.arc(B.cx,B.cy,O,K0(B.y11,B.x11),K0(B.y01,B.x01),!V))):g.arc(0,0,I,Oe,Ce,V)}if(g.closePath(),T)return g=null,T+""||null}return $.centroid=function(){var T=(+t.apply(this,arguments)+ +s.apply(this,arguments))/2,w=(+u.apply(this,arguments)+ +h.apply(this,arguments))/2-Z2/2;return[C1(w)*T,Ll(w)*T]},$.innerRadius=function(T){return arguments.length?(t=typeof T=="function"?T:Ei(+T),$):t},$.outerRadius=function(T){return arguments.length?(s=typeof T=="function"?T:Ei(+T),$):s},$.cornerRadius=function(T){return arguments.length?(r=typeof T=="function"?T:Ei(+T),$):r},$.padRadius=function(T){return arguments.length?(i=T==null?null:typeof T=="function"?T:Ei(+T),$):i},$.startAngle=function(T){return arguments.length?(u=typeof T=="function"?T:Ei(+T),$):u},$.endAngle=function(T){return arguments.length?(h=typeof T=="function"?T:Ei(+T),$):h},$.padAngle=function(T){return arguments.length?(f=typeof T=="function"?T:Ei(+T),$):f},$.context=function(T){return arguments.length?(g=T??null,$):g},$}var fN=Array.prototype.slice;function ef(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function oE(t){this._context=t}oE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break;case 1:this._point=2;default:this._context.lineTo(t,s);break}}};function tf(t){return new oE(t)}function fg(t){return t[0]}function dg(t){return t[1]}function pg(t,s){var r=Ei(!0),i=null,u=tf,h=null,f=M7(g);t=typeof t=="function"?t:t===void 0?fg:Ei(t),s=typeof s=="function"?s:s===void 0?dg:Ei(s);function g(y){var $,T=(y=ef(y)).length,w,I=!1,A;for(i==null&&(h=u(A=f())),$=0;$<=T;++$)!($<T&&r(w=y[$],$,y))===I&&((I=!I)?h.lineStart():h.lineEnd()),I&&h.point(+t(w,$,y),+s(w,$,y));if(A)return h=null,A+""||null}return g.x=function(y){return arguments.length?(t=typeof y=="function"?y:Ei(+y),g):t},g.y=function(y){return arguments.length?(s=typeof y=="function"?y:Ei(+y),g):s},g.defined=function(y){return arguments.length?(r=typeof y=="function"?y:Ei(!!y),g):r},g.curve=function(y){return arguments.length?(u=y,i!=null&&(h=u(i)),g):u},g.context=function(y){return arguments.length?(y==null?i=h=null:h=u(i=y),g):i},g}function lE(t,s,r){var i=null,u=Ei(!0),h=null,f=tf,g=null,y=M7($);t=typeof t=="function"?t:t===void 0?fg:Ei(+t),s=typeof s=="function"?s:Ei(s===void 0?0:+s),r=typeof r=="function"?r:r===void 0?dg:Ei(+r);function $(w){var I,A,K,ne=(w=ef(w)).length,he,V=!1,le,te=new Array(ne),Ce=new Array(ne);for(h==null&&(g=f(le=y())),I=0;I<=ne;++I){if(!(I<ne&&u(he=w[I],I,w))===V)if(V=!V)A=I,g.areaStart(),g.lineStart();else{for(g.lineEnd(),g.lineStart(),K=I-1;K>=A;--K)g.point(te[K],Ce[K]);g.lineEnd(),g.areaEnd()}V&&(te[I]=+t(he,I,w),Ce[I]=+s(he,I,w),g.point(i?+i(he,I,w):te[I],r?+r(he,I,w):Ce[I]))}if(le)return g=null,le+""||null}function T(){return pg().defined(u).curve(f).context(h)}return $.x=function(w){return arguments.length?(t=typeof w=="function"?w:Ei(+w),i=null,$):t},$.x0=function(w){return arguments.length?(t=typeof w=="function"?w:Ei(+w),$):t},$.x1=function(w){return arguments.length?(i=w==null?null:typeof w=="function"?w:Ei(+w),$):i},$.y=function(w){return arguments.length?(s=typeof w=="function"?w:Ei(+w),r=null,$):s},$.y0=function(w){return arguments.length?(s=typeof w=="function"?w:Ei(+w),$):s},$.y1=function(w){return arguments.length?(r=w==null?null:typeof w=="function"?w:Ei(+w),$):r},$.lineX0=$.lineY0=function(){return T().x(t).y(s)},$.lineY1=function(){return T().x(t).y(r)},$.lineX1=function(){return T().x(i).y(s)},$.defined=function(w){return arguments.length?(u=typeof w=="function"?w:Ei(!!w),$):u},$.curve=function(w){return arguments.length?(f=w,h!=null&&(g=f(h)),$):f},$.context=function(w){return arguments.length?(w==null?h=g=null:g=f(h=w),$):h},$}function dN(t,s){return s<t?-1:s>t?1:s>=t?0:NaN}function pN(t){return t}function mN(){var t=pN,s=dN,r=null,i=Ei(0),u=Ei(K2),h=Ei(0);function f(g){var y,$=(g=ef(g)).length,T,w,I=0,A=new Array($),K=new Array($),ne=+i.apply(this,arguments),he=Math.min(K2,Math.max(-K2,u.apply(this,arguments)-ne)),V,le=Math.min(Math.abs(he)/$,h.apply(this,arguments)),te=le*(he<0?-1:1),Ce;for(y=0;y<$;++y)(Ce=K[A[y]=y]=+t(g[y],y,g))>0&&(I+=Ce);for(s!=null?A.sort(function(Oe,ce){return s(K[Oe],K[ce])}):r!=null&&A.sort(function(Oe,ce){return r(g[Oe],g[ce])}),y=0,w=I?(he-$*te)/I:0;y<$;++y,ne=V)T=A[y],Ce=K[T],V=ne+(Ce>0?Ce*w:0)+te,K[T]={data:g[T],index:y,value:Ce,startAngle:ne,endAngle:V,padAngle:le};return K}return f.value=function(g){return arguments.length?(t=typeof g=="function"?g:Ei(+g),f):t},f.sortValues=function(g){return arguments.length?(s=g,r=null,f):s},f.sort=function(g){return arguments.length?(r=g,s=null,f):r},f.startAngle=function(g){return arguments.length?(i=typeof g=="function"?g:Ei(+g),f):i},f.endAngle=function(g){return arguments.length?(u=typeof g=="function"?g:Ei(+g),f):u},f.padAngle=function(g){return arguments.length?(h=typeof g=="function"?g:Ei(+g),f):h},f}var aE=mg(tf);function uE(t){this._curve=t}uE.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,s){this._curve.point(s*Math.sin(t),s*-Math.cos(t))}};function mg(t){function s(r){return new uE(t(r))}return s._curve=t,s}function r7(t){var s=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(r){return arguments.length?s(mg(r)):s()._curve},t}function qb(){return r7(pg().curve(aE))}function Wb(){var t=lE().curve(aE),s=t.curve,r=t.lineX0,i=t.lineX1,u=t.lineY0,h=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return r7(r())},delete t.lineX0,t.lineEndAngle=function(){return r7(i())},delete t.lineX1,t.lineInnerRadius=function(){return r7(u())},delete t.lineY0,t.lineOuterRadius=function(){return r7(h())},delete t.lineY1,t.curve=function(f){return arguments.length?s(mg(f)):s()._curve},t}function i7(t,s){return[(s=+s)*Math.cos(t-=Math.PI/2),s*Math.sin(t)]}class cE{constructor(s,r){this._context=s,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(s,r){switch(s=+s,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(s,r):this._context.moveTo(s,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+s)/2,this._y0,this._x0,r,s,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,s,this._y0,s,r);break}}this._x0=s,this._y0=r}}class gN{constructor(s){this._context=s}lineStart(){this._point=0}lineEnd(){}point(s,r){if(s=+s,r=+r,this._point===0)this._point=1;else{const i=i7(this._x0,this._y0),u=i7(this._x0,this._y0=(this._y0+r)/2),h=i7(s,this._y0),f=i7(s,r);this._context.moveTo(...i),this._context.bezierCurveTo(...u,...h,...f)}this._x0=s,this._y0=r}}function hE(t){return new cE(t,!0)}function fE(t){return new cE(t,!1)}function vN(t){return new gN(t)}function $N(t){return t.source}function bN(t){return t.target}function nf(t){let s=$N,r=bN,i=fg,u=dg,h=null,f=null,g=M7(y);function y(){let $;const T=fN.call(arguments),w=s.apply(this,T),I=r.apply(this,T);if(h==null&&(f=t($=g())),f.lineStart(),T[0]=w,f.point(+i.apply(this,T),+u.apply(this,T)),T[0]=I,f.point(+i.apply(this,T),+u.apply(this,T)),f.lineEnd(),$)return f=null,$+""||null}return y.source=function($){return arguments.length?(s=$,y):s},y.target=function($){return arguments.length?(r=$,y):r},y.x=function($){return arguments.length?(i=typeof $=="function"?$:Ei(+$),y):i},y.y=function($){return arguments.length?(u=typeof $=="function"?$:Ei(+$),y):u},y.context=function($){return arguments.length?($==null?h=f=null:f=t(h=$),y):h},y}function yN(){return nf(hE)}function _N(){return nf(fE)}function wN(){const t=nf(vN);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const TN=so(3),dE={draw(t,s){const r=so(s+n6(s/28,.75))*.59436,i=r/2,u=i*TN;t.moveTo(0,r),t.lineTo(0,-r),t.moveTo(-u,-i),t.lineTo(u,i),t.moveTo(-u,i),t.lineTo(u,-i)}},rf={draw(t,s){const r=so(s/Z2);t.moveTo(r,0),t.arc(0,0,r,0,K2)}},pE={draw(t,s){const r=so(s/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},mE=so(1/3),EN=mE*2,gE={draw(t,s){const r=so(s/EN),i=r*mE;t.moveTo(0,-r),t.lineTo(i,0),t.lineTo(0,r),t.lineTo(-i,0),t.closePath()}},vE={draw(t,s){const r=so(s)*.62625;t.moveTo(0,-r),t.lineTo(r,0),t.lineTo(0,r),t.lineTo(-r,0),t.closePath()}},$E={draw(t,s){const r=so(s-n6(s/7,2))*.87559;t.moveTo(-r,0),t.lineTo(r,0),t.moveTo(0,r),t.lineTo(0,-r)}},bE={draw(t,s){const r=so(s),i=-r/2;t.rect(i,i,r,r)}},yE={draw(t,s){const r=so(s)*.4431;t.moveTo(r,r),t.lineTo(r,-r),t.lineTo(-r,-r),t.lineTo(-r,r),t.closePath()}},SN=.8908130915292852,_E=Ll(Z2/10)/Ll(7*Z2/10),xN=Ll(K2/10)*_E,CN=-C1(K2/10)*_E,wE={draw(t,s){const r=so(s*SN),i=xN*r,u=CN*r;t.moveTo(0,-r),t.lineTo(i,u);for(let h=1;h<5;++h){const f=K2*h/5,g=C1(f),y=Ll(f);t.lineTo(y*r,-g*r),t.lineTo(g*i-y*u,y*i+g*u)}t.closePath()}},Dd=so(3),TE={draw(t,s){const r=-so(s/(Dd*3));t.moveTo(0,r*2),t.lineTo(-Dd*r,-r),t.lineTo(Dd*r,-r),t.closePath()}},MN=so(3),EE={draw(t,s){const r=so(s)*.6824,i=r/2,u=r*MN/2;t.moveTo(0,-r),t.lineTo(u,i),t.lineTo(-u,i),t.closePath()}},ja=-.5,Xa=so(3)/2,Tm=1/so(12),kN=(Tm/2+1)*3,SE={draw(t,s){const r=so(s/kN),i=r/2,u=r*Tm,h=i,f=r*Tm+r,g=-h,y=f;t.moveTo(i,u),t.lineTo(h,f),t.lineTo(g,y),t.lineTo(ja*i-Xa*u,Xa*i+ja*u),t.lineTo(ja*h-Xa*f,Xa*h+ja*f),t.lineTo(ja*g-Xa*y,Xa*g+ja*y),t.lineTo(ja*i+Xa*u,ja*u-Xa*i),t.lineTo(ja*h+Xa*f,ja*f-Xa*h),t.lineTo(ja*g+Xa*y,ja*y-Xa*g),t.closePath()}},Em={draw(t,s){const r=so(s-n6(s/6,1.7))*.6189;t.moveTo(-r,-r),t.lineTo(r,r),t.moveTo(-r,r),t.lineTo(r,-r)}},jb=[rf,pE,gE,bE,wE,TE,SE],AN=[rf,$E,Em,EE,dE,yE,vE];function NN(t,s){let r=null,i=M7(u);t=typeof t=="function"?t:Ei(t||rf),s=typeof s=="function"?s:Ei(s===void 0?64:+s);function u(){let h;if(r||(r=h=i()),t.apply(this,arguments).draw(r,+s.apply(this,arguments)),h)return r=null,h+""||null}return u.type=function(h){return arguments.length?(t=typeof h=="function"?h:Ei(h),u):t},u.size=function(h){return arguments.length?(s=typeof h=="function"?h:Ei(+h),u):s},u.context=function(h){return arguments.length?(r=h??null,u):r},u}function Q2(){}function w9(t,s,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+s)/6,(t._y0+4*t._y1+r)/6)}function sf(t){this._context=t}sf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:w9(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:w9(this,t,s);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=s}};function IN(t){return new sf(t)}function xE(t){this._context=t}xE.prototype={areaStart:Q2,areaEnd:Q2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._x2=t,this._y2=s;break;case 1:this._point=2,this._x3=t,this._y3=s;break;case 2:this._point=3,this._x4=t,this._y4=s,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+s)/6);break;default:w9(this,t,s);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=s}};function ON(t){return new xE(t)}function CE(t){this._context=t}CE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+s)/6;this._line?this._context.lineTo(r,i):this._context.moveTo(r,i);break;case 3:this._point=4;default:w9(this,t,s);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=s}};function RN(t){return new CE(t)}function ME(t,s){this._basis=new sf(t),this._beta=s}ME.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,s=this._y,r=t.length-1;if(r>0)for(var i=t[0],u=s[0],h=t[r]-i,f=s[r]-u,g=-1,y;++g<=r;)y=g/r,this._basis.point(this._beta*t[g]+(1-this._beta)*(i+y*h),this._beta*s[g]+(1-this._beta)*(u+y*f));this._x=this._y=null,this._basis.lineEnd()},point:function(t,s){this._x.push(+t),this._y.push(+s)}};const LN=(function t(s){function r(i){return s===1?new sf(i):new ME(i,s)}return r.beta=function(i){return t(+i)},r})(.85);function T9(t,s,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-s),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function gg(t,s){this._context=t,this._k=(1-s)/6}gg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:T9(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break;case 1:this._point=2,this._x1=t,this._y1=s;break;case 2:this._point=3;default:T9(this,t,s);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=s}};const DN=(function t(s){function r(i){return new gg(i,s)}return r.tension=function(i){return t(+i)},r})(0);function vg(t,s){this._context=t,this._k=(1-s)/6}vg.prototype={areaStart:Q2,areaEnd:Q2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._x3=t,this._y3=s;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=s);break;case 2:this._point=3,this._x5=t,this._y5=s;break;default:T9(this,t,s);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=s}};const BN=(function t(s){function r(i){return new vg(i,s)}return r.tension=function(i){return t(+i)},r})(0);function $g(t,s){this._context=t,this._k=(1-s)/6}$g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:T9(this,t,s);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=s}};const PN=(function t(s){function r(i){return new $g(i,s)}return r.tension=function(i){return t(+i)},r})(0);function bg(t,s,r){var i=t._x1,u=t._y1,h=t._x2,f=t._y2;if(t._l01_a>J0){var g=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,y=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*g-t._x0*t._l12_2a+t._x2*t._l01_2a)/y,u=(u*g-t._y0*t._l12_2a+t._y2*t._l01_2a)/y}if(t._l23_a>J0){var $=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,T=3*t._l23_a*(t._l23_a+t._l12_a);h=(h*$+t._x1*t._l23_2a-s*t._l12_2a)/T,f=(f*$+t._y1*t._l23_2a-r*t._l12_2a)/T}t._context.bezierCurveTo(i,u,h,f,t._x2,t._y2)}function kE(t,s){this._context=t,this._alpha=s}kE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,s){if(t=+t,s=+s,this._point){var r=this._x2-t,i=this._y2-s;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break;case 1:this._point=2;break;case 2:this._point=3;default:bg(this,t,s);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=s}};const FN=(function t(s){function r(i){return s?new kE(i,s):new gg(i,0)}return r.alpha=function(i){return t(+i)},r})(.5);function AE(t,s){this._context=t,this._alpha=s}AE.prototype={areaStart:Q2,areaEnd:Q2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,s){if(t=+t,s=+s,this._point){var r=this._x2-t,i=this._y2-s;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=s;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=s);break;case 2:this._point=3,this._x5=t,this._y5=s;break;default:bg(this,t,s);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=s}};const UN=(function t(s){function r(i){return s?new AE(i,s):new vg(i,0)}return r.alpha=function(i){return t(+i)},r})(.5);function NE(t,s){this._context=t,this._alpha=s}NE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,s){if(t=+t,s=+s,this._point){var r=this._x2-t,i=this._y2-s;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bg(this,t,s);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=s}};const zN=(function t(s){function r(i){return s?new NE(i,s):new $g(i,0)}return r.alpha=function(i){return t(+i)},r})(.5);function IE(t){this._context=t}IE.prototype={areaStart:Q2,areaEnd:Q2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,s){t=+t,s=+s,this._point?this._context.lineTo(t,s):(this._point=1,this._context.moveTo(t,s))}};function HN(t){return new IE(t)}function Xb(t){return t<0?-1:1}function Yb(t,s,r){var i=t._x1-t._x0,u=s-t._x1,h=(t._y1-t._y0)/(i||u<0&&-0),f=(r-t._y1)/(u||i<0&&-0),g=(h*u+f*i)/(i+u);return(Xb(h)+Xb(f))*Math.min(Math.abs(h),Math.abs(f),.5*Math.abs(g))||0}function Kb(t,s){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-s)/2:s}function Bd(t,s,r){var i=t._x0,u=t._y0,h=t._x1,f=t._y1,g=(h-i)/3;t._context.bezierCurveTo(i+g,u+g*s,h-g,f-g*r,h,f)}function E9(t){this._context=t}E9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bd(this,this._t0,Kb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,s){var r=NaN;if(t=+t,s=+s,!(t===this._x1&&s===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break;case 1:this._point=2;break;case 2:this._point=3,Bd(this,Kb(this,r=Yb(this,t,s)),r);break;default:Bd(this,this._t0,r=Yb(this,t,s));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=s,this._t0=r}}};function OE(t){this._context=new RE(t)}(OE.prototype=Object.create(E9.prototype)).point=function(t,s){E9.prototype.point.call(this,s,t)};function RE(t){this._context=t}RE.prototype={moveTo:function(t,s){this._context.moveTo(s,t)},closePath:function(){this._context.closePath()},lineTo:function(t,s){this._context.lineTo(s,t)},bezierCurveTo:function(t,s,r,i,u,h){this._context.bezierCurveTo(s,t,i,r,h,u)}};function VN(t){return new E9(t)}function GN(t){return new OE(t)}function LE(t){this._context=t}LE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,s=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],s[0]):this._context.moveTo(t[0],s[0]),r===2)this._context.lineTo(t[1],s[1]);else for(var i=Jb(t),u=Jb(s),h=0,f=1;f<r;++h,++f)this._context.bezierCurveTo(i[0][h],u[0][h],i[1][h],u[1][h],t[f],s[f]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,s){this._x.push(+t),this._y.push(+s)}};function Jb(t){var s,r=t.length-1,i,u=new Array(r),h=new Array(r),f=new Array(r);for(u[0]=0,h[0]=2,f[0]=t[0]+2*t[1],s=1;s<r-1;++s)u[s]=1,h[s]=4,f[s]=4*t[s]+2*t[s+1];for(u[r-1]=2,h[r-1]=7,f[r-1]=8*t[r-1]+t[r],s=1;s<r;++s)i=u[s]/h[s-1],h[s]-=i,f[s]-=i*f[s-1];for(u[r-1]=f[r-1]/h[r-1],s=r-2;s>=0;--s)u[s]=(f[s]-u[s+1])/h[s];for(h[r-1]=(t[r]+u[r-1])/2,s=0;s<r-1;++s)h[s]=2*t[s+1]-u[s+1];return[u,h]}function qN(t){return new LE(t)}function of(t,s){this._context=t,this._t=s}of.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,s),this._context.lineTo(t,s);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,s)}break}}this._x=t,this._y=s}};function WN(t){return new of(t,.5)}function jN(t){return new of(t,0)}function XN(t){return new of(t,1)}function l6(t,s){if((f=t.length)>1)for(var r=1,i,u,h=t[s[0]],f,g=h.length;r<f;++r)for(u=h,h=t[s[r]],i=0;i<g;++i)h[i][1]+=h[i][0]=isNaN(u[i][1])?u[i][0]:u[i][1]}function a6(t){for(var s=t.length,r=new Array(s);--s>=0;)r[s]=s;return r}function YN(t,s){return t[s]}function KN(t){const s=[];return s.key=t,s}function JN(){var t=Ei([]),s=a6,r=l6,i=YN;function u(h){var f=Array.from(t.apply(this,arguments),KN),g,y=f.length,$=-1,T;for(const w of h)for(g=0,++$;g<y;++g)(f[g][$]=[0,+i(w,f[g].key,$,h)]).data=w;for(g=0,T=ef(s(f));g<y;++g)f[T[g]].index=g;return r(f,T),f}return u.keys=function(h){return arguments.length?(t=typeof h=="function"?h:Ei(Array.from(h)),u):t},u.value=function(h){return arguments.length?(i=typeof h=="function"?h:Ei(+h),u):i},u.order=function(h){return arguments.length?(s=h==null?a6:typeof h=="function"?h:Ei(Array.from(h)),u):s},u.offset=function(h){return arguments.length?(r=h??l6,u):r},u}function ZN(t,s){if((i=t.length)>0){for(var r,i,u=0,h=t[0].length,f;u<h;++u){for(f=r=0;r<i;++r)f+=t[r][u][1]||0;if(f)for(r=0;r<i;++r)t[r][u][1]/=f}l6(t,s)}}function QN(t,s){if((y=t.length)>0)for(var r,i=0,u,h,f,g,y,$=t[s[0]].length;i<$;++i)for(f=g=0,r=0;r<y;++r)(h=(u=t[s[r]][i])[1]-u[0])>0?(u[0]=f,u[1]=f+=h):h<0?(u[1]=g,u[0]=g+=h):(u[0]=0,u[1]=h)}function eI(t,s){if((u=t.length)>0){for(var r=0,i=t[s[0]],u,h=i.length;r<h;++r){for(var f=0,g=0;f<u;++f)g+=t[f][r][1]||0;i[r][1]+=i[r][0]=-g/2}l6(t,s)}}function tI(t,s){if(!(!((f=t.length)>0)||!((h=(u=t[s[0]]).length)>0))){for(var r=0,i=1,u,h,f;i<h;++i){for(var g=0,y=0,$=0;g<f;++g){for(var T=t[s[g]],w=T[i][1]||0,I=T[i-1][1]||0,A=(w-I)/2,K=0;K<g;++K){var ne=t[s[K]],he=ne[i][1]||0,V=ne[i-1][1]||0;A+=he-V}y+=w,$+=A*w}u[i-1][1]+=u[i-1][0]=r,y&&(r-=$/y)}u[i-1][1]+=u[i-1][0]=r,l6(t,s)}}function DE(t){var s=t.map(nI);return a6(t).sort(function(r,i){return s[r]-s[i]})}function nI(t){for(var s=-1,r=0,i=t.length,u,h=-1/0;++s<i;)(u=+t[s][1])>h&&(h=u,r=s);return r}function BE(t){var s=t.map(PE);return a6(t).sort(function(r,i){return s[r]-s[i]})}function PE(t){for(var s=0,r=-1,i=t.length,u;++r<i;)(u=+t[r][1])&&(s+=u);return s}function rI(t){return BE(t).reverse()}function iI(t){var s=t.length,r,i,u=t.map(PE),h=DE(t),f=0,g=0,y=[],$=[];for(r=0;r<s;++r)i=h[r],f<g?(f+=u[i],y.push(i)):(g+=u[i],$.push(i));return $.reverse().concat(y)}function sI(t){return a6(t).reverse()}const oI=Object.freeze(Object.defineProperty({__proto__:null,arc:hN,area:lE,areaRadial:Wb,curveBasis:IN,curveBasisClosed:ON,curveBasisOpen:RN,curveBumpX:hE,curveBumpY:fE,curveBundle:LN,curveCardinal:DN,curveCardinalClosed:BN,curveCardinalOpen:PN,curveCatmullRom:FN,curveCatmullRomClosed:UN,curveCatmullRomOpen:zN,curveLinear:tf,curveLinearClosed:HN,curveMonotoneX:VN,curveMonotoneY:GN,curveNatural:qN,curveStep:WN,curveStepAfter:XN,curveStepBefore:jN,line:pg,lineRadial:qb,link:nf,linkHorizontal:yN,linkRadial:wN,linkVertical:_N,pie:mN,pointRadial:i7,radialArea:Wb,radialLine:qb,stack:JN,stackOffsetDiverging:QN,stackOffsetExpand:ZN,stackOffsetNone:l6,stackOffsetSilhouette:eI,stackOffsetWiggle:tI,stackOrderAppearance:DE,stackOrderAscending:BE,stackOrderDescending:rI,stackOrderInsideOut:iI,stackOrderNone:a6,stackOrderReverse:sI,symbol:NN,symbolAsterisk:dE,symbolCircle:rf,symbolCross:pE,symbolDiamond:gE,symbolDiamond2:vE,symbolPlus:$E,symbolSquare:bE,symbolSquare2:yE,symbolStar:wE,symbolTimes:Em,symbolTriangle:TE,symbolTriangle2:EE,symbolWye:SE,symbolX:Em,symbols:jb,symbolsFill:jb,symbolsStroke:AN},Symbol.toStringTag,{value:"Module"})),lf=H1(oI);function lI(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function S9(t,s){if((r=(t=s?t.toExponential(s-1):t.toExponential()).indexOf("e"))<0)return null;var r,i=t.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+t.slice(r+1)]}function u6(t){return t=S9(Math.abs(t)),t?t[1]:NaN}function aI(t,s){return function(r,i){for(var u=r.length,h=[],f=0,g=t[0],y=0;u>0&&g>0&&(y+g+1>i&&(g=Math.max(1,i-y)),h.push(r.substring(u-=g,u+g)),!((y+=g+1)>i));)g=t[f=(f+1)%t.length];return h.reverse().join(s)}}function uI(t){return function(s){return s.replace(/[0-9]/g,function(r){return t[+r]})}}var cI=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function c6(t){if(!(s=cI.exec(t)))throw new Error("invalid format: "+t);var s;return new af({fill:s[1],align:s[2],sign:s[3],symbol:s[4],zero:s[5],width:s[6],comma:s[7],precision:s[8]&&s[8].slice(1),trim:s[9],type:s[10]})}c6.prototype=af.prototype;function af(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}af.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hI(t){e:for(var s=t.length,r=1,i=-1,u;r<s;++r)switch(t[r]){case".":i=u=r;break;case"0":i===0&&(i=r),u=r;break;default:if(!+t[r])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(u+1):t}var FE;function fI(t,s){var r=S9(t,s);if(!r)return t+"";var i=r[0],u=r[1],h=u-(FE=Math.max(-8,Math.min(8,Math.floor(u/3)))*3)+1,f=i.length;return h===f?i:h>f?i+new Array(h-f+1).join("0"):h>0?i.slice(0,h)+"."+i.slice(h):"0."+new Array(1-h).join("0")+S9(t,Math.max(0,s+h-1))[0]}function Zb(t,s){var r=S9(t,s);if(!r)return t+"";var i=r[0],u=r[1];return u<0?"0."+new Array(-u).join("0")+i:i.length>u+1?i.slice(0,u+1)+"."+i.slice(u+1):i+new Array(u-i.length+2).join("0")}const Qb={"%":(t,s)=>(t*100).toFixed(s),b:t=>Math.round(t).toString(2),c:t=>t+"",d:lI,e:(t,s)=>t.toExponential(s),f:(t,s)=>t.toFixed(s),g:(t,s)=>t.toPrecision(s),o:t=>Math.round(t).toString(8),p:(t,s)=>Zb(t*100,s),r:Zb,s:fI,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ey(t){return t}var ty=Array.prototype.map,ny=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function UE(t){var s=t.grouping===void 0||t.thousands===void 0?ey:aI(ty.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",u=t.decimal===void 0?".":t.decimal+"",h=t.numerals===void 0?ey:uI(ty.call(t.numerals,String)),f=t.percent===void 0?"%":t.percent+"",g=t.minus===void 0?"":t.minus+"",y=t.nan===void 0?"NaN":t.nan+"";function $(w){w=c6(w);var I=w.fill,A=w.align,K=w.sign,ne=w.symbol,he=w.zero,V=w.width,le=w.comma,te=w.precision,Ce=w.trim,Oe=w.type;Oe==="n"?(le=!0,Oe="g"):Qb[Oe]||(te===void 0&&(te=12),Ce=!0,Oe="g"),(he||I==="0"&&A==="=")&&(he=!0,I="0",A="=");var ce=ne==="$"?r:ne==="#"&&/[boxX]/.test(Oe)?"0"+Oe.toLowerCase():"",Be=ne==="$"?i:/[%p]/.test(Oe)?f:"",je=Qb[Oe],_e=/[defgprs%]/.test(Oe);te=te===void 0?6:/[gprs]/.test(Oe)?Math.max(1,Math.min(21,te)):Math.max(0,Math.min(20,te));function b(O){var N=ce,R=Be,B,j,J;if(Oe==="c")R=je(O)+R,O="";else{O=+O;var fe=O<0||1/O<0;if(O=isNaN(O)?y:je(Math.abs(O),te),Ce&&(O=hI(O)),fe&&+O==0&&K!=="+"&&(fe=!1),N=(fe?K==="("?K:g:K==="-"||K==="("?"":K)+N,R=(Oe==="s"?ny[8+FE/3]:"")+R+(fe&&K==="("?")":""),_e){for(B=-1,j=O.length;++B<j;)if(J=O.charCodeAt(B),48>J||J>57){R=(J===46?u+O.slice(B+1):O.slice(B))+R,O=O.slice(0,B);break}}}le&&!he&&(O=s(O,1/0));var Ne=N.length+O.length+R.length,qe=Ne<V?new Array(V-Ne+1).join(I):"";switch(le&&he&&(O=s(qe+O,qe.length?V-R.length:1/0),qe=""),A){case"<":O=N+O+R+qe;break;case"=":O=N+qe+O+R;break;case"^":O=qe.slice(0,Ne=qe.length>>1)+N+O+R+qe.slice(Ne);break;default:O=qe+N+O+R;break}return h(O)}return b.toString=function(){return w+""},b}function T(w,I){var A=$((w=c6(w),w.type="f",w)),K=Math.max(-8,Math.min(8,Math.floor(u6(I)/3)))*3,ne=Math.pow(10,-K),he=ny[8+K/3];return function(V){return A(ne*V)+he}}return{format:$,formatPrefix:T}}var x8,uf,yg;zE({thousands:",",grouping:[3],currency:["$",""]});function zE(t){return x8=UE(t),uf=x8.format,yg=x8.formatPrefix,x8}function HE(t){return Math.max(0,-u6(Math.abs(t)))}function VE(t,s){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(u6(s)/3)))*3-u6(Math.abs(t)))}function GE(t,s){return t=Math.abs(t),s=Math.abs(s)-t,Math.max(0,u6(s)-u6(t))+1}const dI=Object.freeze(Object.defineProperty({__proto__:null,FormatSpecifier:af,get format(){return uf},formatDefaultLocale:zE,formatLocale:UE,get formatPrefix(){return yg},formatSpecifier:c6,precisionFixed:HE,precisionPrefix:VE,precisionRound:GE},Symbol.toStringTag,{value:"Module"})),pI=H1(dI);function J2(t,s){return t==null||s==null?NaN:t<s?-1:t>s?1:t>=s?0:NaN}function mI(t,s){return t==null||s==null?NaN:s<t?-1:s>t?1:s>=t?0:NaN}function _g(t){let s,r,i;t.length!==2?(s=J2,r=(g,y)=>J2(t(g),y),i=(g,y)=>t(g)-y):(s=t===J2||t===mI?t:gI,r=t,i=t);function u(g,y,$=0,T=g.length){if($<T){if(s(y,y)!==0)return T;do{const w=$+T>>>1;r(g[w],y)<0?$=w+1:T=w}while($<T)}return $}function h(g,y,$=0,T=g.length){if($<T){if(s(y,y)!==0)return T;do{const w=$+T>>>1;r(g[w],y)<=0?$=w+1:T=w}while($<T)}return $}function f(g,y,$=0,T=g.length){const w=u(g,y,$,T-1);return w>$&&i(g[w-1],y)>-i(g[w],y)?w-1:w}return{left:u,center:f,right:h}}function gI(){return 0}function qE(t){return t===null?NaN:+t}function*vI(t,s){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const $I=_g(J2),k7=$I.right;_g(qE).center;class ry extends Map{constructor(s,r=_I){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),s!=null)for(const[i,u]of s)this.set(i,u)}get(s){return super.get(iy(this,s))}has(s){return super.has(iy(this,s))}set(s,r){return super.set(bI(this,s),r)}delete(s){return super.delete(yI(this,s))}}function iy({_intern:t,_key:s},r){const i=s(r);return t.has(i)?t.get(i):r}function bI({_intern:t,_key:s},r){const i=s(r);return t.has(i)?t.get(i):(t.set(i,r),r)}function yI({_intern:t,_key:s},r){const i=s(r);return t.has(i)&&(r=t.get(i),t.delete(i)),r}function _I(t){return t!==null&&typeof t=="object"?t.valueOf():t}function wI(t=J2){if(t===J2)return WE;if(typeof t!="function")throw new TypeError("compare is not a function");return(s,r)=>{const i=t(s,r);return i||i===0?i:(t(r,r)===0)-(t(s,s)===0)}}function WE(t,s){return(t==null||!(t>=t))-(s==null||!(s>=s))||(t<s?-1:t>s?1:0)}const TI=Math.sqrt(50),EI=Math.sqrt(10),SI=Math.sqrt(2);function x9(t,s,r){const i=(s-t)/Math.max(0,r),u=Math.floor(Math.log10(i)),h=i/Math.pow(10,u),f=h>=TI?10:h>=EI?5:h>=SI?2:1;let g,y,$;return u<0?($=Math.pow(10,-u)/f,g=Math.round(t*$),y=Math.round(s*$),g/$<t&&++g,y/$>s&&--y,$=-$):($=Math.pow(10,u)*f,g=Math.round(t/$),y=Math.round(s/$),g*$<t&&++g,y*$>s&&--y),y<g&&.5<=r&&r<2?x9(t,s,r*2):[g,y,$]}function Sm(t,s,r){if(s=+s,t=+t,r=+r,!(r>0))return[];if(t===s)return[t];const i=s<t,[u,h,f]=i?x9(s,t,r):x9(t,s,r);if(!(h>=u))return[];const g=h-u+1,y=new Array(g);if(i)if(f<0)for(let $=0;$<g;++$)y[$]=(h-$)/-f;else for(let $=0;$<g;++$)y[$]=(h-$)*f;else if(f<0)for(let $=0;$<g;++$)y[$]=(u+$)/-f;else for(let $=0;$<g;++$)y[$]=(u+$)*f;return y}function xm(t,s,r){return s=+s,t=+t,r=+r,x9(t,s,r)[2]}function Cm(t,s,r){s=+s,t=+t,r=+r;const i=s<t,u=i?xm(s,t,r):xm(t,s,r);return(i?-1:1)*(u<0?1/-u:u)}function sy(t,s){let r;for(const i of t)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);return r}function oy(t,s){let r;for(const i of t)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);return r}function jE(t,s,r=0,i=1/0,u){if(s=Math.floor(s),r=Math.floor(Math.max(0,r)),i=Math.floor(Math.min(t.length-1,i)),!(r<=s&&s<=i))return t;for(u=u===void 0?WE:wI(u);i>r;){if(i-r>600){const y=i-r+1,$=s-r+1,T=Math.log(y),w=.5*Math.exp(2*T/3),I=.5*Math.sqrt(T*w*(y-w)/y)*($-y/2<0?-1:1),A=Math.max(r,Math.floor(s-$*w/y+I)),K=Math.min(i,Math.floor(s+(y-$)*w/y+I));jE(t,s,A,K,u)}const h=t[s];let f=r,g=i;for(V5(t,r,s),u(t[i],h)>0&&V5(t,r,i);f<g;){for(V5(t,f,g),++f,--g;u(t[f],h)<0;)++f;for(;u(t[g],h)>0;)--g}u(t[r],h)===0?V5(t,r,g):(++g,V5(t,g,i)),g<=s&&(r=g+1),s<=g&&(i=g-1)}return t}function V5(t,s,r){const i=t[s];t[s]=t[r],t[r]=i}function xI(t,s,r){if(t=Float64Array.from(vI(t)),!(!(i=t.length)||isNaN(s=+s))){if(s<=0||i<2)return oy(t);if(s>=1)return sy(t);var i,u=(i-1)*s,h=Math.floor(u),f=sy(jE(t,h).subarray(0,h+1)),g=oy(t.subarray(h+1));return f+(g-f)*(u-h)}}function CI(t,s,r=qE){if(!(!(i=t.length)||isNaN(s=+s))){if(s<=0||i<2)return+r(t[0],0,t);if(s>=1)return+r(t[i-1],i-1,t);var i,u=(i-1)*s,h=Math.floor(u),f=+r(t[h],h,t),g=+r(t[h+1],h+1,t);return f+(g-f)*(u-h)}}function MI(t,s,r){t=+t,s=+s,r=(u=arguments.length)<2?(s=t,t=0,1):u<3?1:+r;for(var i=-1,u=Math.max(0,Math.ceil((s-t)/r))|0,h=new Array(u);++i<u;)h[i]=t+i*r;return h}function nu(t,s){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(s).domain(t);break}return this}function V1(t,s){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof s=="function"?this.interpolator(s):this.range(s);break}}return this}const Mm=Symbol("implicit");function wg(){var t=new ry,s=[],r=[],i=Mm;function u(h){let f=t.get(h);if(f===void 0){if(i!==Mm)return i;t.set(h,f=s.push(h)-1)}return r[f%r.length]}return u.domain=function(h){if(!arguments.length)return s.slice();s=[],t=new ry;for(const f of h)t.has(f)||t.set(f,s.push(f)-1);return u},u.range=function(h){return arguments.length?(r=Array.from(h),u):r.slice()},u.unknown=function(h){return arguments.length?(i=h,u):i},u.copy=function(){return wg(s,r).unknown(i)},nu.apply(u,arguments),u}function Tg(){var t=wg().unknown(void 0),s=t.domain,r=t.range,i=0,u=1,h,f,g=!1,y=0,$=0,T=.5;delete t.unknown;function w(){var I=s().length,A=u<i,K=A?u:i,ne=A?i:u;h=(ne-K)/Math.max(1,I-y+$*2),g&&(h=Math.floor(h)),K+=(ne-K-h*(I-y))*T,f=h*(1-y),g&&(K=Math.round(K),f=Math.round(f));var he=MI(I).map(function(V){return K+h*V});return r(A?he.reverse():he)}return t.domain=function(I){return arguments.length?(s(I),w()):s()},t.range=function(I){return arguments.length?([i,u]=I,i=+i,u=+u,w()):[i,u]},t.rangeRound=function(I){return[i,u]=I,i=+i,u=+u,g=!0,w()},t.bandwidth=function(){return f},t.step=function(){return h},t.round=function(I){return arguments.length?(g=!!I,w()):g},t.padding=function(I){return arguments.length?(y=Math.min(1,$=+I),w()):y},t.paddingInner=function(I){return arguments.length?(y=Math.min(1,I),w()):y},t.paddingOuter=function(I){return arguments.length?($=+I,w()):$},t.align=function(I){return arguments.length?(T=Math.max(0,Math.min(1,I)),w()):T},t.copy=function(){return Tg(s(),[i,u]).round(g).paddingInner(y).paddingOuter($).align(T)},nu.apply(w(),arguments)}function XE(t){var s=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return XE(s())},t}function kI(){return XE(Tg.apply(null,arguments).paddingInner(1))}function $6(t,s,r){t.prototype=s.prototype=r,r.constructor=t}function A7(t,s){var r=Object.create(t.prototype);for(var i in s)r[i]=s[i];return r}function ih(){}var a4=.7,h6=1/a4,r6="\\s*([+-]?\\d+)\\s*",m7="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AI=/^#([0-9a-f]{3,8})$/,NI=new RegExp(`^rgb\\(${r6},${r6},${r6}\\)$`),II=new RegExp(`^rgb\\(${Mc},${Mc},${Mc}\\)$`),OI=new RegExp(`^rgba\\(${r6},${r6},${r6},${m7}\\)$`),RI=new RegExp(`^rgba\\(${Mc},${Mc},${Mc},${m7}\\)$`),LI=new RegExp(`^hsl\\(${m7},${Mc},${Mc}\\)$`),DI=new RegExp(`^hsla\\(${m7},${Mc},${Mc},${m7}\\)$`),ly={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$6(ih,eh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ay,formatHex:ay,formatHex8:BI,formatHsl:PI,formatRgb:uy,toString:uy});function ay(){return this.rgb().formatHex()}function BI(){return this.rgb().formatHex8()}function PI(){return YE(this).formatHsl()}function uy(){return this.rgb().formatRgb()}function eh(t){var s,r;return t=(t+"").trim().toLowerCase(),(s=AI.exec(t))?(r=s[1].length,s=parseInt(s[1],16),r===6?cy(s):r===3?new v0(s>>8&15|s>>4&240,s>>4&15|s&240,(s&15)<<4|s&15,1):r===8?C8(s>>24&255,s>>16&255,s>>8&255,(s&255)/255):r===4?C8(s>>12&15|s>>8&240,s>>8&15|s>>4&240,s>>4&15|s&240,((s&15)<<4|s&15)/255):null):(s=NI.exec(t))?new v0(s[1],s[2],s[3],1):(s=II.exec(t))?new v0(s[1]*255/100,s[2]*255/100,s[3]*255/100,1):(s=OI.exec(t))?C8(s[1],s[2],s[3],s[4]):(s=RI.exec(t))?C8(s[1]*255/100,s[2]*255/100,s[3]*255/100,s[4]):(s=LI.exec(t))?dy(s[1],s[2]/100,s[3]/100,1):(s=DI.exec(t))?dy(s[1],s[2]/100,s[3]/100,s[4]):ly.hasOwnProperty(t)?cy(ly[t]):t==="transparent"?new v0(NaN,NaN,NaN,0):null}function cy(t){return new v0(t>>16&255,t>>8&255,t&255,1)}function C8(t,s,r,i){return i<=0&&(t=s=r=NaN),new v0(t,s,r,i)}function Eg(t){return t instanceof ih||(t=eh(t)),t?(t=t.rgb(),new v0(t.r,t.g,t.b,t.opacity)):new v0}function g7(t,s,r,i){return arguments.length===1?Eg(t):new v0(t,s,r,i??1)}function v0(t,s,r,i){this.r=+t,this.g=+s,this.b=+r,this.opacity=+i}$6(v0,g7,A7(ih,{brighter(t){return t=t==null?h6:Math.pow(h6,t),new v0(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?a4:Math.pow(a4,t),new v0(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new v0(o4(this.r),o4(this.g),o4(this.b),C9(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hy,formatHex:hy,formatHex8:FI,formatRgb:fy,toString:fy}));function hy(){return`#${i4(this.r)}${i4(this.g)}${i4(this.b)}`}function FI(){return`#${i4(this.r)}${i4(this.g)}${i4(this.b)}${i4((isNaN(this.opacity)?1:this.opacity)*255)}`}function fy(){const t=C9(this.opacity);return`${t===1?"rgb(":"rgba("}${o4(this.r)}, ${o4(this.g)}, ${o4(this.b)}${t===1?")":`, ${t})`}`}function C9(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function o4(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function i4(t){return t=o4(t),(t<16?"0":"")+t.toString(16)}function dy(t,s,r,i){return i<=0?t=s=r=NaN:r<=0||r>=1?t=s=NaN:s<=0&&(t=NaN),new Lu(t,s,r,i)}function YE(t){if(t instanceof Lu)return new Lu(t.h,t.s,t.l,t.opacity);if(t instanceof ih||(t=eh(t)),!t)return new Lu;if(t instanceof Lu)return t;t=t.rgb();var s=t.r/255,r=t.g/255,i=t.b/255,u=Math.min(s,r,i),h=Math.max(s,r,i),f=NaN,g=h-u,y=(h+u)/2;return g?(s===h?f=(r-i)/g+(r<i)*6:r===h?f=(i-s)/g+2:f=(s-r)/g+4,g/=y<.5?h+u:2-h-u,f*=60):g=y>0&&y<1?0:f,new Lu(f,g,y,t.opacity)}function M9(t,s,r,i){return arguments.length===1?YE(t):new Lu(t,s,r,i??1)}function Lu(t,s,r,i){this.h=+t,this.s=+s,this.l=+r,this.opacity=+i}$6(Lu,M9,A7(ih,{brighter(t){return t=t==null?h6:Math.pow(h6,t),new Lu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?a4:Math.pow(a4,t),new Lu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,s=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*s,u=2*r-i;return new v0(Pd(t>=240?t-240:t+120,u,i),Pd(t,u,i),Pd(t<120?t+240:t-120,u,i),this.opacity)},clamp(){return new Lu(py(this.h),M8(this.s),M8(this.l),C9(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=C9(this.opacity);return`${t===1?"hsl(":"hsla("}${py(this.h)}, ${M8(this.s)*100}%, ${M8(this.l)*100}%${t===1?")":`, ${t})`}`}}));function py(t){return t=(t||0)%360,t<0?t+360:t}function M8(t){return Math.max(0,Math.min(1,t||0))}function Pd(t,s,r){return(t<60?s+(r-s)*t/60:t<180?r:t<240?s+(r-s)*(240-t)/60:s)*255}const KE=Math.PI/180,JE=180/Math.PI,k9=18,ZE=.96422,QE=1,eS=.82521,tS=4/29,i6=6/29,nS=3*i6*i6,UI=i6*i6*i6;function rS(t){if(t instanceof Du)return new Du(t.l,t.a,t.b,t.opacity);if(t instanceof Ec)return sS(t);t instanceof v0||(t=Eg(t));var s=Hd(t.r),r=Hd(t.g),i=Hd(t.b),u=Fd((.2225045*s+.7168786*r+.0606169*i)/QE),h,f;return s===r&&r===i?h=f=u:(h=Fd((.4360747*s+.3850649*r+.1430804*i)/ZE),f=Fd((.0139322*s+.0971045*r+.7141733*i)/eS)),new Du(116*u-16,500*(h-u),200*(u-f),t.opacity)}function zI(t,s){return new Du(t,0,0,s??1)}function A9(t,s,r,i){return arguments.length===1?rS(t):new Du(t,s,r,i??1)}function Du(t,s,r,i){this.l=+t,this.a=+s,this.b=+r,this.opacity=+i}$6(Du,A9,A7(ih,{brighter(t){return new Du(this.l+k9*(t??1),this.a,this.b,this.opacity)},darker(t){return new Du(this.l-k9*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,s=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return s=ZE*Ud(s),t=QE*Ud(t),r=eS*Ud(r),new v0(zd(3.1338561*s-1.6168667*t-.4906146*r),zd(-.9787684*s+1.9161415*t+.033454*r),zd(.0719453*s-.2289914*t+1.4052427*r),this.opacity)}}));function Fd(t){return t>UI?Math.pow(t,1/3):t/nS+tS}function Ud(t){return t>i6?t*t*t:nS*(t-tS)}function zd(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Hd(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function iS(t){if(t instanceof Ec)return new Ec(t.h,t.c,t.l,t.opacity);if(t instanceof Du||(t=rS(t)),t.a===0&&t.b===0)return new Ec(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var s=Math.atan2(t.b,t.a)*JE;return new Ec(s<0?s+360:s,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function HI(t,s,r,i){return arguments.length===1?iS(t):new Ec(r,s,t,i??1)}function N9(t,s,r,i){return arguments.length===1?iS(t):new Ec(t,s,r,i??1)}function Ec(t,s,r,i){this.h=+t,this.c=+s,this.l=+r,this.opacity=+i}function sS(t){if(isNaN(t.h))return new Du(t.l,0,0,t.opacity);var s=t.h*KE;return new Du(t.l,Math.cos(s)*t.c,Math.sin(s)*t.c,t.opacity)}$6(Ec,N9,A7(ih,{brighter(t){return new Ec(this.h,this.c,this.l+k9*(t??1),this.opacity)},darker(t){return new Ec(this.h,this.c,this.l-k9*(t??1),this.opacity)},rgb(){return sS(this).rgb()}}));var oS=-.14861,Sg=1.78277,xg=-.29227,cf=-.90649,v7=1.97294,my=v7*cf,gy=v7*Sg,vy=Sg*xg-cf*oS;function VI(t){if(t instanceof l4)return new l4(t.h,t.s,t.l,t.opacity);t instanceof v0||(t=Eg(t));var s=t.r/255,r=t.g/255,i=t.b/255,u=(vy*i+my*s-gy*r)/(vy+my-gy),h=i-u,f=(v7*(r-u)-xg*h)/cf,g=Math.sqrt(f*f+h*h)/(v7*u*(1-u)),y=g?Math.atan2(f,h)*JE-120:NaN;return new l4(y<0?y+360:y,g,u,t.opacity)}function I9(t,s,r,i){return arguments.length===1?VI(t):new l4(t,s,r,i??1)}function l4(t,s,r,i){this.h=+t,this.s=+s,this.l=+r,this.opacity=+i}$6(l4,I9,A7(ih,{brighter(t){return t=t==null?h6:Math.pow(h6,t),new l4(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?a4:Math.pow(a4,t),new l4(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*KE,s=+this.l,r=isNaN(this.s)?0:this.s*s*(1-s),i=Math.cos(t),u=Math.sin(t);return new v0(255*(s+r*(oS*i+Sg*u)),255*(s+r*(xg*i+cf*u)),255*(s+r*(v7*i)),this.opacity)}}));const GI=Object.freeze(Object.defineProperty({__proto__:null,color:eh,cubehelix:I9,gray:zI,hcl:N9,hsl:M9,lab:A9,lch:HI,rgb:g7},Symbol.toStringTag,{value:"Module"}));function lS(t,s,r,i,u){var h=t*t,f=h*t;return((1-3*t+3*h-f)*s+(4-6*h+3*f)*r+(1+3*t+3*h-3*f)*i+f*u)/6}function aS(t){var s=t.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,s-1):Math.floor(r*s),u=t[i],h=t[i+1],f=i>0?t[i-1]:2*u-h,g=i<s-1?t[i+2]:2*h-u;return lS((r-i/s)*s,f,u,h,g)}}function uS(t){var s=t.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*s),u=t[(i+s-1)%s],h=t[i%s],f=t[(i+1)%s],g=t[(i+2)%s];return lS((r-i/s)*s,u,h,f,g)}}const hf=t=>()=>t;function cS(t,s){return function(r){return t+r*s}}function qI(t,s,r){return t=Math.pow(t,r),s=Math.pow(s,r)-t,r=1/r,function(i){return Math.pow(t+i*s,r)}}function ff(t,s){var r=s-t;return r?cS(t,r>180||r<-180?r-360*Math.round(r/360):r):hf(isNaN(t)?s:t)}function WI(t){return(t=+t)==1?$0:function(s,r){return r-s?qI(s,r,t):hf(isNaN(s)?r:s)}}function $0(t,s){var r=s-t;return r?cS(t,r):hf(isNaN(t)?s:t)}const $7=(function t(s){var r=WI(s);function i(u,h){var f=r((u=g7(u)).r,(h=g7(h)).r),g=r(u.g,h.g),y=r(u.b,h.b),$=$0(u.opacity,h.opacity);return function(T){return u.r=f(T),u.g=g(T),u.b=y(T),u.opacity=$(T),u+""}}return i.gamma=t,i})(1);function hS(t){return function(s){var r=s.length,i=new Array(r),u=new Array(r),h=new Array(r),f,g;for(f=0;f<r;++f)g=g7(s[f]),i[f]=g.r||0,u[f]=g.g||0,h[f]=g.b||0;return i=t(i),u=t(u),h=t(h),g.opacity=1,function(y){return g.r=i(y),g.g=u(y),g.b=h(y),g+""}}}var jI=hS(aS),XI=hS(uS);function Cg(t,s){s||(s=[]);var r=t?Math.min(s.length,t.length):0,i=s.slice(),u;return function(h){for(u=0;u<r;++u)i[u]=t[u]*(1-h)+s[u]*h;return i}}function fS(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function YI(t,s){return(fS(s)?Cg:dS)(t,s)}function dS(t,s){var r=s?s.length:0,i=t?Math.min(r,t.length):0,u=new Array(i),h=new Array(r),f;for(f=0;f<i;++f)u[f]=d4(t[f],s[f]);for(;f<r;++f)h[f]=s[f];return function(g){for(f=0;f<i;++f)h[f]=u[f](g);return h}}function pS(t,s){var r=new Date;return t=+t,s=+s,function(i){return r.setTime(t*(1-i)+s*i),r}}function Ka(t,s){return t=+t,s=+s,function(r){return t*(1-r)+s*r}}function mS(t,s){var r={},i={},u;(t===null||typeof t!="object")&&(t={}),(s===null||typeof s!="object")&&(s={});for(u in s)u in t?r[u]=d4(t[u],s[u]):i[u]=s[u];return function(h){for(u in r)i[u]=r[u](h);return i}}var km=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vd=new RegExp(km.source,"g");function KI(t){return function(){return t}}function JI(t){return function(s){return t(s)+""}}function Mg(t,s){var r=km.lastIndex=Vd.lastIndex=0,i,u,h,f=-1,g=[],y=[];for(t=t+"",s=s+"";(i=km.exec(t))&&(u=Vd.exec(s));)(h=u.index)>r&&(h=s.slice(r,h),g[f]?g[f]+=h:g[++f]=h),(i=i[0])===(u=u[0])?g[f]?g[f]+=u:g[++f]=u:(g[++f]=null,y.push({i:f,x:Ka(i,u)})),r=Vd.lastIndex;return r<s.length&&(h=s.slice(r),g[f]?g[f]+=h:g[++f]=h),g.length<2?y[0]?JI(y[0].x):KI(s):(s=y.length,function($){for(var T=0,w;T<s;++T)g[(w=y[T]).i]=w.x($);return g.join("")})}function d4(t,s){var r=typeof s,i;return s==null||r==="boolean"?hf(s):(r==="number"?Ka:r==="string"?(i=eh(s))?(s=i,$7):Mg:s instanceof eh?$7:s instanceof Date?pS:fS(s)?Cg:Array.isArray(s)?dS:typeof s.valueOf!="function"&&typeof s.toString!="function"||isNaN(s)?mS:Ka)(t,s)}function ZI(t){var s=t.length;return function(r){return t[Math.max(0,Math.min(s-1,Math.floor(r*s)))]}}function QI(t,s){var r=ff(+t,+s);return function(i){var u=r(i);return u-360*Math.floor(u/360)}}function df(t,s){return t=+t,s=+s,function(r){return Math.round(t*(1-r)+s*r)}}var $y=180/Math.PI,Am={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gS(t,s,r,i,u,h){var f,g,y;return(f=Math.sqrt(t*t+s*s))&&(t/=f,s/=f),(y=t*r+s*i)&&(r-=t*y,i-=s*y),(g=Math.sqrt(r*r+i*i))&&(r/=g,i/=g,y/=g),t*i<s*r&&(t=-t,s=-s,y=-y,f=-f),{translateX:u,translateY:h,rotate:Math.atan2(s,t)*$y,skewX:Math.atan(y)*$y,scaleX:f,scaleY:g}}var k8;function eO(t){const s=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return s.isIdentity?Am:gS(s.a,s.b,s.c,s.d,s.e,s.f)}function tO(t){return t==null||(k8||(k8=document.createElementNS("http://www.w3.org/2000/svg","g")),k8.setAttribute("transform",t),!(t=k8.transform.baseVal.consolidate()))?Am:(t=t.matrix,gS(t.a,t.b,t.c,t.d,t.e,t.f))}function vS(t,s,r,i){function u($){return $.length?$.pop()+" ":""}function h($,T,w,I,A,K){if($!==w||T!==I){var ne=A.push("translate(",null,s,null,r);K.push({i:ne-4,x:Ka($,w)},{i:ne-2,x:Ka(T,I)})}else(w||I)&&A.push("translate("+w+s+I+r)}function f($,T,w,I){$!==T?($-T>180?T+=360:T-$>180&&($+=360),I.push({i:w.push(u(w)+"rotate(",null,i)-2,x:Ka($,T)})):T&&w.push(u(w)+"rotate("+T+i)}function g($,T,w,I){$!==T?I.push({i:w.push(u(w)+"skewX(",null,i)-2,x:Ka($,T)}):T&&w.push(u(w)+"skewX("+T+i)}function y($,T,w,I,A,K){if($!==w||T!==I){var ne=A.push(u(A)+"scale(",null,",",null,")");K.push({i:ne-4,x:Ka($,w)},{i:ne-2,x:Ka(T,I)})}else(w!==1||I!==1)&&A.push(u(A)+"scale("+w+","+I+")")}return function($,T){var w=[],I=[];return $=t($),T=t(T),h($.translateX,$.translateY,T.translateX,T.translateY,w,I),f($.rotate,T.rotate,w,I),g($.skewX,T.skewX,w,I),y($.scaleX,$.scaleY,T.scaleX,T.scaleY,w,I),$=T=null,function(A){for(var K=-1,ne=I.length,he;++K<ne;)w[(he=I[K]).i]=he.x(A);return w.join("")}}}var $S=vS(eO,"px, ","px)","deg)"),bS=vS(tO,", ",")",")"),nO=1e-12;function by(t){return((t=Math.exp(t))+1/t)/2}function rO(t){return((t=Math.exp(t))-1/t)/2}function iO(t){return((t=Math.exp(2*t))-1)/(t+1)}const yS=(function t(s,r,i){function u(h,f){var g=h[0],y=h[1],$=h[2],T=f[0],w=f[1],I=f[2],A=T-g,K=w-y,ne=A*A+K*K,he,V;if(ne<nO)V=Math.log(I/$)/s,he=function(Be){return[g+Be*A,y+Be*K,$*Math.exp(s*Be*V)]};else{var le=Math.sqrt(ne),te=(I*I-$*$+i*ne)/(2*$*r*le),Ce=(I*I-$*$-i*ne)/(2*I*r*le),Oe=Math.log(Math.sqrt(te*te+1)-te),ce=Math.log(Math.sqrt(Ce*Ce+1)-Ce);V=(ce-Oe)/s,he=function(Be){var je=Be*V,_e=by(Oe),b=$/(r*le)*(_e*iO(s*je+Oe)-rO(Oe));return[g+b*A,y+b*K,$*_e/by(s*je+Oe)]}}return he.duration=V*1e3*s/Math.SQRT2,he}return u.rho=function(h){var f=Math.max(.001,+h),g=f*f,y=g*g;return t(f,g,y)},u})(Math.SQRT2,2,4);function _S(t){return function(s,r){var i=t((s=M9(s)).h,(r=M9(r)).h),u=$0(s.s,r.s),h=$0(s.l,r.l),f=$0(s.opacity,r.opacity);return function(g){return s.h=i(g),s.s=u(g),s.l=h(g),s.opacity=f(g),s+""}}}const sO=_S(ff);var oO=_S($0);function lO(t,s){var r=$0((t=A9(t)).l,(s=A9(s)).l),i=$0(t.a,s.a),u=$0(t.b,s.b),h=$0(t.opacity,s.opacity);return function(f){return t.l=r(f),t.a=i(f),t.b=u(f),t.opacity=h(f),t+""}}function wS(t){return function(s,r){var i=t((s=N9(s)).h,(r=N9(r)).h),u=$0(s.c,r.c),h=$0(s.l,r.l),f=$0(s.opacity,r.opacity);return function(g){return s.h=i(g),s.c=u(g),s.l=h(g),s.opacity=f(g),s+""}}}const aO=wS(ff);var uO=wS($0);function TS(t){return(function s(r){r=+r;function i(u,h){var f=t((u=I9(u)).h,(h=I9(h)).h),g=$0(u.s,h.s),y=$0(u.l,h.l),$=$0(u.opacity,h.opacity);return function(T){return u.h=f(T),u.s=g(T),u.l=y(Math.pow(T,r)),u.opacity=$(T),u+""}}return i.gamma=s,i})(1)}const cO=TS(ff);var hO=TS($0);function ES(t,s){s===void 0&&(s=t,t=d4);for(var r=0,i=s.length-1,u=s[0],h=new Array(i<0?0:i);r<i;)h[r]=t(u,u=s[++r]);return function(f){var g=Math.max(0,Math.min(i-1,Math.floor(f*=i)));return h[g](f-g)}}function fO(t,s){for(var r=new Array(s),i=0;i<s;++i)r[i]=t(i/(s-1));return r}const dO=Object.freeze(Object.defineProperty({__proto__:null,interpolate:d4,interpolateArray:YI,interpolateBasis:aS,interpolateBasisClosed:uS,interpolateCubehelix:cO,interpolateCubehelixLong:hO,interpolateDate:pS,interpolateDiscrete:ZI,interpolateHcl:aO,interpolateHclLong:uO,interpolateHsl:sO,interpolateHslLong:oO,interpolateHue:QI,interpolateLab:lO,interpolateNumber:Ka,interpolateNumberArray:Cg,interpolateObject:mS,interpolateRgb:$7,interpolateRgbBasis:jI,interpolateRgbBasisClosed:XI,interpolateRound:df,interpolateString:Mg,interpolateTransformCss:$S,interpolateTransformSvg:bS,interpolateZoom:yS,piecewise:ES,quantize:fO},Symbol.toStringTag,{value:"Module"}));function pO(t){return function(){return t}}function O9(t){return+t}var yy=[0,1];function wl(t){return t}function Nm(t,s){return(s-=t=+t)?function(r){return(r-t)/s}:pO(isNaN(s)?NaN:.5)}function mO(t,s){var r;return t>s&&(r=t,t=s,s=r),function(i){return Math.max(t,Math.min(s,i))}}function gO(t,s,r){var i=t[0],u=t[1],h=s[0],f=s[1];return u<i?(i=Nm(u,i),h=r(f,h)):(i=Nm(i,u),h=r(h,f)),function(g){return h(i(g))}}function vO(t,s,r){var i=Math.min(t.length,s.length)-1,u=new Array(i),h=new Array(i),f=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),s=s.slice().reverse());++f<i;)u[f]=Nm(t[f],t[f+1]),h[f]=r(s[f],s[f+1]);return function(g){var y=k7(t,g,1,i)-1;return h[y](u[y](g))}}function N7(t,s){return s.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pf(){var t=yy,s=yy,r=d4,i,u,h,f=wl,g,y,$;function T(){var I=Math.min(t.length,s.length);return f!==wl&&(f=mO(t[0],t[I-1])),g=I>2?vO:gO,y=$=null,w}function w(I){return I==null||isNaN(I=+I)?h:(y||(y=g(t.map(i),s,r)))(i(f(I)))}return w.invert=function(I){return f(u(($||($=g(s,t.map(i),Ka)))(I)))},w.domain=function(I){return arguments.length?(t=Array.from(I,O9),T()):t.slice()},w.range=function(I){return arguments.length?(s=Array.from(I),T()):s.slice()},w.rangeRound=function(I){return s=Array.from(I),r=df,T()},w.clamp=function(I){return arguments.length?(f=I?!0:wl,T()):f!==wl},w.interpolate=function(I){return arguments.length?(r=I,T()):r},w.unknown=function(I){return arguments.length?(h=I,w):h},function(I,A){return i=I,u=A,T()}}function kg(){return pf()(wl,wl)}function SS(t,s,r,i){var u=Cm(t,s,r),h;switch(i=c6(i??",f"),i.type){case"s":{var f=Math.max(Math.abs(t),Math.abs(s));return i.precision==null&&!isNaN(h=VE(u,f))&&(i.precision=h),yg(i,f)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(h=GE(u,Math.max(Math.abs(t),Math.abs(s))))&&(i.precision=h-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(h=HE(u))&&(i.precision=h-(i.type==="%")*2);break}}return uf(i)}function sh(t){var s=t.domain;return t.ticks=function(r){var i=s();return Sm(i[0],i[i.length-1],r??10)},t.tickFormat=function(r,i){var u=s();return SS(u[0],u[u.length-1],r??10,i)},t.nice=function(r){r==null&&(r=10);var i=s(),u=0,h=i.length-1,f=i[u],g=i[h],y,$,T=10;for(g<f&&($=f,f=g,g=$,$=u,u=h,h=$);T-- >0;){if($=xm(f,g,r),$===y)return i[u]=f,i[h]=g,s(i);if($>0)f=Math.floor(f/$)*$,g=Math.ceil(g/$)*$;else if($<0)f=Math.ceil(f*$)/$,g=Math.floor(g*$)/$;else break;y=$}return t},t}function xS(){var t=kg();return t.copy=function(){return N7(t,xS())},nu.apply(t,arguments),sh(t)}function CS(t){var s;function r(i){return i==null||isNaN(i=+i)?s:i}return r.invert=r,r.domain=r.range=function(i){return arguments.length?(t=Array.from(i,O9),r):t.slice()},r.unknown=function(i){return arguments.length?(s=i,r):s},r.copy=function(){return CS(t).unknown(s)},t=arguments.length?Array.from(t,O9):[0,1],sh(r)}function MS(t,s){t=t.slice();var r=0,i=t.length-1,u=t[r],h=t[i],f;return h<u&&(f=r,r=i,i=f,f=u,u=h,h=f),t[r]=s.floor(u),t[i]=s.ceil(h),t}function _y(t){return Math.log(t)}function wy(t){return Math.exp(t)}function $O(t){return-Math.log(-t)}function bO(t){return-Math.exp(-t)}function yO(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _O(t){return t===10?yO:t===Math.E?Math.exp:s=>Math.pow(t,s)}function wO(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),s=>Math.log(s)/t)}function Ty(t){return(s,r)=>-t(-s,r)}function Ag(t){const s=t(_y,wy),r=s.domain;let i=10,u,h;function f(){return u=wO(i),h=_O(i),r()[0]<0?(u=Ty(u),h=Ty(h),t($O,bO)):t(_y,wy),s}return s.base=function(g){return arguments.length?(i=+g,f()):i},s.domain=function(g){return arguments.length?(r(g),f()):r()},s.ticks=g=>{const y=r();let $=y[0],T=y[y.length-1];const w=T<$;w&&([$,T]=[T,$]);let I=u($),A=u(T),K,ne;const he=g==null?10:+g;let V=[];if(!(i%1)&&A-I<he){if(I=Math.floor(I),A=Math.ceil(A),$>0){for(;I<=A;++I)for(K=1;K<i;++K)if(ne=I<0?K/h(-I):K*h(I),!(ne<$)){if(ne>T)break;V.push(ne)}}else for(;I<=A;++I)for(K=i-1;K>=1;--K)if(ne=I>0?K/h(-I):K*h(I),!(ne<$)){if(ne>T)break;V.push(ne)}V.length*2<he&&(V=Sm($,T,he))}else V=Sm(I,A,Math.min(A-I,he)).map(h);return w?V.reverse():V},s.tickFormat=(g,y)=>{if(g==null&&(g=10),y==null&&(y=i===10?"s":","),typeof y!="function"&&(!(i%1)&&(y=c6(y)).precision==null&&(y.trim=!0),y=uf(y)),g===1/0)return y;const $=Math.max(1,i*g/s.ticks().length);return T=>{let w=T/h(Math.round(u(T)));return w*i<i-.5&&(w*=i),w<=$?y(T):""}},s.nice=()=>r(MS(r(),{floor:g=>h(Math.floor(u(g))),ceil:g=>h(Math.ceil(u(g)))})),s}function kS(){const t=Ag(pf()).domain([1,10]);return t.copy=()=>N7(t,kS()).base(t.base()),nu.apply(t,arguments),t}function Ey(t){return function(s){return Math.sign(s)*Math.log1p(Math.abs(s/t))}}function Sy(t){return function(s){return Math.sign(s)*Math.expm1(Math.abs(s))*t}}function Ng(t){var s=1,r=t(Ey(s),Sy(s));return r.constant=function(i){return arguments.length?t(Ey(s=+i),Sy(s)):s},sh(r)}function AS(){var t=Ng(pf());return t.copy=function(){return N7(t,AS()).constant(t.constant())},nu.apply(t,arguments)}function xy(t){return function(s){return s<0?-Math.pow(-s,t):Math.pow(s,t)}}function TO(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function EO(t){return t<0?-t*t:t*t}function Ig(t){var s=t(wl,wl),r=1;function i(){return r===1?t(wl,wl):r===.5?t(TO,EO):t(xy(r),xy(1/r))}return s.exponent=function(u){return arguments.length?(r=+u,i()):r},sh(s)}function Og(){var t=Ig(pf());return t.copy=function(){return N7(t,Og()).exponent(t.exponent())},nu.apply(t,arguments),t}function SO(){return Og.apply(null,arguments).exponent(.5)}function Cy(t){return Math.sign(t)*t*t}function xO(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function NS(){var t=kg(),s=[0,1],r=!1,i;function u(h){var f=xO(t(h));return isNaN(f)?i:r?Math.round(f):f}return u.invert=function(h){return t.invert(Cy(h))},u.domain=function(h){return arguments.length?(t.domain(h),u):t.domain()},u.range=function(h){return arguments.length?(t.range((s=Array.from(h,O9)).map(Cy)),u):s.slice()},u.rangeRound=function(h){return u.range(h).round(!0)},u.round=function(h){return arguments.length?(r=!!h,u):r},u.clamp=function(h){return arguments.length?(t.clamp(h),u):t.clamp()},u.unknown=function(h){return arguments.length?(i=h,u):i},u.copy=function(){return NS(t.domain(),s).round(r).clamp(t.clamp()).unknown(i)},nu.apply(u,arguments),sh(u)}function IS(){var t=[],s=[],r=[],i;function u(){var f=0,g=Math.max(1,s.length);for(r=new Array(g-1);++f<g;)r[f-1]=CI(t,f/g);return h}function h(f){return f==null||isNaN(f=+f)?i:s[k7(r,f)]}return h.invertExtent=function(f){var g=s.indexOf(f);return g<0?[NaN,NaN]:[g>0?r[g-1]:t[0],g<r.length?r[g]:t[t.length-1]]},h.domain=function(f){if(!arguments.length)return t.slice();t=[];for(let g of f)g!=null&&!isNaN(g=+g)&&t.push(g);return t.sort(J2),u()},h.range=function(f){return arguments.length?(s=Array.from(f),u()):s.slice()},h.unknown=function(f){return arguments.length?(i=f,h):i},h.quantiles=function(){return r.slice()},h.copy=function(){return IS().domain(t).range(s).unknown(i)},nu.apply(h,arguments)}function OS(){var t=0,s=1,r=1,i=[.5],u=[0,1],h;function f(y){return y!=null&&y<=y?u[k7(i,y,0,r)]:h}function g(){var y=-1;for(i=new Array(r);++y<r;)i[y]=((y+1)*s-(y-r)*t)/(r+1);return f}return f.domain=function(y){return arguments.length?([t,s]=y,t=+t,s=+s,g()):[t,s]},f.range=function(y){return arguments.length?(r=(u=Array.from(y)).length-1,g()):u.slice()},f.invertExtent=function(y){var $=u.indexOf(y);return $<0?[NaN,NaN]:$<1?[t,i[0]]:$>=r?[i[r-1],s]:[i[$-1],i[$]]},f.unknown=function(y){return arguments.length&&(h=y),f},f.thresholds=function(){return i.slice()},f.copy=function(){return OS().domain([t,s]).range(u).unknown(h)},nu.apply(sh(f),arguments)}function RS(){var t=[.5],s=[0,1],r,i=1;function u(h){return h!=null&&h<=h?s[k7(t,h,0,i)]:r}return u.domain=function(h){return arguments.length?(t=Array.from(h),i=Math.min(t.length,s.length-1),u):t.slice()},u.range=function(h){return arguments.length?(s=Array.from(h),i=Math.min(t.length,s.length-1),u):s.slice()},u.invertExtent=function(h){var f=s.indexOf(h);return[t[f-1],t[f]]},u.unknown=function(h){return arguments.length?(r=h,u):r},u.copy=function(){return RS().domain(t).range(s).unknown(r)},nu.apply(u,arguments)}const Gd=new Date,qd=new Date;function u0(t,s,r,i){function u(h){return t(h=arguments.length===0?new Date:new Date(+h)),h}return u.floor=h=>(t(h=new Date(+h)),h),u.ceil=h=>(t(h=new Date(h-1)),s(h,1),t(h),h),u.round=h=>{const f=u(h),g=u.ceil(h);return h-f<g-h?f:g},u.offset=(h,f)=>(s(h=new Date(+h),f==null?1:Math.floor(f)),h),u.range=(h,f,g)=>{const y=[];if(h=u.ceil(h),g=g==null?1:Math.floor(g),!(h<f)||!(g>0))return y;let $;do y.push($=new Date(+h)),s(h,g),t(h);while($<h&&h<f);return y},u.filter=h=>u0(f=>{if(f>=f)for(;t(f),!h(f);)f.setTime(f-1)},(f,g)=>{if(f>=f)if(g<0)for(;++g<=0;)for(;s(f,-1),!h(f););else for(;--g>=0;)for(;s(f,1),!h(f););}),r&&(u.count=(h,f)=>(Gd.setTime(+h),qd.setTime(+f),t(Gd),t(qd),Math.floor(r(Gd,qd))),u.every=h=>(h=Math.floor(h),!isFinite(h)||!(h>0)?null:h>1?u.filter(i?f=>i(f)%h===0:f=>u.count(0,f)%h===0):u)),u}const R9=u0(()=>{},(t,s)=>{t.setTime(+t+s)},(t,s)=>s-t);R9.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?u0(s=>{s.setTime(Math.floor(s/t)*t)},(s,r)=>{s.setTime(+s+r*t)},(s,r)=>(r-s)/t):R9);R9.range;const N1=1e3,Za=N1*60,I1=Za*60,L1=I1*24,Rg=L1*7,My=L1*30,Wd=L1*365,s4=u0(t=>{t.setTime(t-t.getMilliseconds())},(t,s)=>{t.setTime(+t+s*N1)},(t,s)=>(s-t)/N1,t=>t.getUTCSeconds());s4.range;const Lg=u0(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*N1)},(t,s)=>{t.setTime(+t+s*Za)},(t,s)=>(s-t)/Za,t=>t.getMinutes());Lg.range;const Dg=u0(t=>{t.setUTCSeconds(0,0)},(t,s)=>{t.setTime(+t+s*Za)},(t,s)=>(s-t)/Za,t=>t.getUTCMinutes());Dg.range;const Bg=u0(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*N1-t.getMinutes()*Za)},(t,s)=>{t.setTime(+t+s*I1)},(t,s)=>(s-t)/I1,t=>t.getHours());Bg.range;const Pg=u0(t=>{t.setUTCMinutes(0,0,0)},(t,s)=>{t.setTime(+t+s*I1)},(t,s)=>(s-t)/I1,t=>t.getUTCHours());Pg.range;const I7=u0(t=>t.setHours(0,0,0,0),(t,s)=>t.setDate(t.getDate()+s),(t,s)=>(s-t-(s.getTimezoneOffset()-t.getTimezoneOffset())*Za)/L1,t=>t.getDate()-1);I7.range;const mf=u0(t=>{t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCDate(t.getUTCDate()+s)},(t,s)=>(s-t)/L1,t=>t.getUTCDate()-1);mf.range;const LS=u0(t=>{t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCDate(t.getUTCDate()+s)},(t,s)=>(s-t)/L1,t=>Math.floor(t/L1));LS.range;function p4(t){return u0(s=>{s.setDate(s.getDate()-(s.getDay()+7-t)%7),s.setHours(0,0,0,0)},(s,r)=>{s.setDate(s.getDate()+r*7)},(s,r)=>(r-s-(r.getTimezoneOffset()-s.getTimezoneOffset())*Za)/Rg)}const gf=p4(0),L9=p4(1),CO=p4(2),MO=p4(3),f6=p4(4),kO=p4(5),AO=p4(6);gf.range;L9.range;CO.range;MO.range;f6.range;kO.range;AO.range;function m4(t){return u0(s=>{s.setUTCDate(s.getUTCDate()-(s.getUTCDay()+7-t)%7),s.setUTCHours(0,0,0,0)},(s,r)=>{s.setUTCDate(s.getUTCDate()+r*7)},(s,r)=>(r-s)/Rg)}const vf=m4(0),D9=m4(1),NO=m4(2),IO=m4(3),d6=m4(4),OO=m4(5),RO=m4(6);vf.range;D9.range;NO.range;IO.range;d6.range;OO.range;RO.range;const Fg=u0(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,s)=>{t.setMonth(t.getMonth()+s)},(t,s)=>s.getMonth()-t.getMonth()+(s.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Fg.range;const Ug=u0(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCMonth(t.getUTCMonth()+s)},(t,s)=>s.getUTCMonth()-t.getUTCMonth()+(s.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ug.range;const D1=u0(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,s)=>{t.setFullYear(t.getFullYear()+s)},(t,s)=>s.getFullYear()-t.getFullYear(),t=>t.getFullYear());D1.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:u0(s=>{s.setFullYear(Math.floor(s.getFullYear()/t)*t),s.setMonth(0,1),s.setHours(0,0,0,0)},(s,r)=>{s.setFullYear(s.getFullYear()+r*t)});D1.range;const B1=u0(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCFullYear(t.getUTCFullYear()+s)},(t,s)=>s.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());B1.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:u0(s=>{s.setUTCFullYear(Math.floor(s.getUTCFullYear()/t)*t),s.setUTCMonth(0,1),s.setUTCHours(0,0,0,0)},(s,r)=>{s.setUTCFullYear(s.getUTCFullYear()+r*t)});B1.range;function DS(t,s,r,i,u,h){const f=[[s4,1,N1],[s4,5,5*N1],[s4,15,15*N1],[s4,30,30*N1],[h,1,Za],[h,5,5*Za],[h,15,15*Za],[h,30,30*Za],[u,1,I1],[u,3,3*I1],[u,6,6*I1],[u,12,12*I1],[i,1,L1],[i,2,2*L1],[r,1,Rg],[s,1,My],[s,3,3*My],[t,1,Wd]];function g($,T,w){const I=T<$;I&&([$,T]=[T,$]);const A=w&&typeof w.range=="function"?w:y($,T,w),K=A?A.range($,+T+1):[];return I?K.reverse():K}function y($,T,w){const I=Math.abs(T-$)/w,A=_g(([,,he])=>he).right(f,I);if(A===f.length)return t.every(Cm($/Wd,T/Wd,w));if(A===0)return R9.every(Math.max(Cm($,T,w),1));const[K,ne]=f[I/f[A-1][2]<f[A][2]/I?A-1:A];return K.every(ne)}return[g,y]}const[LO,DO]=DS(B1,Ug,vf,LS,Pg,Dg),[BO,PO]=DS(D1,Fg,gf,I7,Bg,Lg);function jd(t){if(0<=t.y&&t.y<100){var s=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return s.setFullYear(t.y),s}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xd(t){if(0<=t.y&&t.y<100){var s=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return s.setUTCFullYear(t.y),s}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function G5(t,s,r){return{y:t,m:s,d:r,H:0,M:0,S:0,L:0}}function FO(t){var s=t.dateTime,r=t.date,i=t.time,u=t.periods,h=t.days,f=t.shortDays,g=t.months,y=t.shortMonths,$=q5(u),T=W5(u),w=q5(h),I=W5(h),A=q5(f),K=W5(f),ne=q5(g),he=W5(g),V=q5(y),le=W5(y),te={a:fe,A:Ne,b:qe,B:de,c:null,d:Ry,e:Ry,f:aR,g:$R,G:yR,H:sR,I:oR,j:lR,L:BS,m:uR,M:cR,p:xe,q:gt,Q:By,s:Py,S:hR,u:fR,U:dR,V:pR,w:mR,W:gR,x:null,X:null,y:vR,Y:bR,Z:_R,"%":Dy},Ce={a:ze,A:Ft,b:Ge,B:et,c:null,d:Ly,e:Ly,f:SR,g:LR,G:BR,H:wR,I:TR,j:ER,L:FS,m:xR,M:CR,p:Ct,q:nt,Q:By,s:Py,S:MR,u:kR,U:AR,V:NR,w:IR,W:OR,x:null,X:null,y:RR,Y:DR,Z:PR,"%":Dy},Oe={a:b,A:O,b:N,B:R,c:B,d:Iy,e:Iy,f:tR,g:Ny,G:Ay,H:Oy,I:Oy,j:JO,L:eR,m:KO,M:ZO,p:_e,q:YO,Q:rR,s:iR,S:QO,u:GO,U:qO,V:WO,w:VO,W:jO,x:j,X:J,y:Ny,Y:Ay,Z:XO,"%":nR};te.x=ce(r,te),te.X=ce(i,te),te.c=ce(s,te),Ce.x=ce(r,Ce),Ce.X=ce(i,Ce),Ce.c=ce(s,Ce);function ce(yt,Ut){return function(Ht){var Me=[],ut=-1,en=0,nn=yt.length,De,se,Ae;for(Ht instanceof Date||(Ht=new Date(+Ht));++ut<nn;)yt.charCodeAt(ut)===37&&(Me.push(yt.slice(en,ut)),(se=ky[De=yt.charAt(++ut)])!=null?De=yt.charAt(++ut):se=De==="e"?" ":"0",(Ae=Ut[De])&&(De=Ae(Ht,se)),Me.push(De),en=ut+1);return Me.push(yt.slice(en,ut)),Me.join("")}}function Be(yt,Ut){return function(Ht){var Me=G5(1900,void 0,1),ut=je(Me,yt,Ht+="",0),en,nn;if(ut!=Ht.length)return null;if("Q"in Me)return new Date(Me.Q);if("s"in Me)return new Date(Me.s*1e3+("L"in Me?Me.L:0));if(Ut&&!("Z"in Me)&&(Me.Z=0),"p"in Me&&(Me.H=Me.H%12+Me.p*12),Me.m===void 0&&(Me.m="q"in Me?Me.q:0),"V"in Me){if(Me.V<1||Me.V>53)return null;"w"in Me||(Me.w=1),"Z"in Me?(en=Xd(G5(Me.y,0,1)),nn=en.getUTCDay(),en=nn>4||nn===0?D9.ceil(en):D9(en),en=mf.offset(en,(Me.V-1)*7),Me.y=en.getUTCFullYear(),Me.m=en.getUTCMonth(),Me.d=en.getUTCDate()+(Me.w+6)%7):(en=jd(G5(Me.y,0,1)),nn=en.getDay(),en=nn>4||nn===0?L9.ceil(en):L9(en),en=I7.offset(en,(Me.V-1)*7),Me.y=en.getFullYear(),Me.m=en.getMonth(),Me.d=en.getDate()+(Me.w+6)%7)}else("W"in Me||"U"in Me)&&("w"in Me||(Me.w="u"in Me?Me.u%7:"W"in Me?1:0),nn="Z"in Me?Xd(G5(Me.y,0,1)).getUTCDay():jd(G5(Me.y,0,1)).getDay(),Me.m=0,Me.d="W"in Me?(Me.w+6)%7+Me.W*7-(nn+5)%7:Me.w+Me.U*7-(nn+6)%7);return"Z"in Me?(Me.H+=Me.Z/100|0,Me.M+=Me.Z%100,Xd(Me)):jd(Me)}}function je(yt,Ut,Ht,Me){for(var ut=0,en=Ut.length,nn=Ht.length,De,se;ut<en;){if(Me>=nn)return-1;if(De=Ut.charCodeAt(ut++),De===37){if(De=Ut.charAt(ut++),se=Oe[De in ky?Ut.charAt(ut++):De],!se||(Me=se(yt,Ht,Me))<0)return-1}else if(De!=Ht.charCodeAt(Me++))return-1}return Me}function _e(yt,Ut,Ht){var Me=$.exec(Ut.slice(Ht));return Me?(yt.p=T.get(Me[0].toLowerCase()),Ht+Me[0].length):-1}function b(yt,Ut,Ht){var Me=A.exec(Ut.slice(Ht));return Me?(yt.w=K.get(Me[0].toLowerCase()),Ht+Me[0].length):-1}function O(yt,Ut,Ht){var Me=w.exec(Ut.slice(Ht));return Me?(yt.w=I.get(Me[0].toLowerCase()),Ht+Me[0].length):-1}function N(yt,Ut,Ht){var Me=V.exec(Ut.slice(Ht));return Me?(yt.m=le.get(Me[0].toLowerCase()),Ht+Me[0].length):-1}function R(yt,Ut,Ht){var Me=ne.exec(Ut.slice(Ht));return Me?(yt.m=he.get(Me[0].toLowerCase()),Ht+Me[0].length):-1}function B(yt,Ut,Ht){return je(yt,s,Ut,Ht)}function j(yt,Ut,Ht){return je(yt,r,Ut,Ht)}function J(yt,Ut,Ht){return je(yt,i,Ut,Ht)}function fe(yt){return f[yt.getDay()]}function Ne(yt){return h[yt.getDay()]}function qe(yt){return y[yt.getMonth()]}function de(yt){return g[yt.getMonth()]}function xe(yt){return u[+(yt.getHours()>=12)]}function gt(yt){return 1+~~(yt.getMonth()/3)}function ze(yt){return f[yt.getUTCDay()]}function Ft(yt){return h[yt.getUTCDay()]}function Ge(yt){return y[yt.getUTCMonth()]}function et(yt){return g[yt.getUTCMonth()]}function Ct(yt){return u[+(yt.getUTCHours()>=12)]}function nt(yt){return 1+~~(yt.getUTCMonth()/3)}return{format:function(yt){var Ut=ce(yt+="",te);return Ut.toString=function(){return yt},Ut},parse:function(yt){var Ut=Be(yt+="",!1);return Ut.toString=function(){return yt},Ut},utcFormat:function(yt){var Ut=ce(yt+="",Ce);return Ut.toString=function(){return yt},Ut},utcParse:function(yt){var Ut=Be(yt+="",!0);return Ut.toString=function(){return yt},Ut}}}var ky={"-":"",_:" ",0:"0"},b0=/^\s*\d+/,UO=/^%/,zO=/[\\^$*+?|[\]().{}]/g;function ys(t,s,r){var i=t<0?"-":"",u=(i?-t:t)+"",h=u.length;return i+(h<r?new Array(r-h+1).join(s)+u:u)}function HO(t){return t.replace(zO,"\\$&")}function q5(t){return new RegExp("^(?:"+t.map(HO).join("|")+")","i")}function W5(t){return new Map(t.map((s,r)=>[s.toLowerCase(),r]))}function VO(t,s,r){var i=b0.exec(s.slice(r,r+1));return i?(t.w=+i[0],r+i[0].length):-1}function GO(t,s,r){var i=b0.exec(s.slice(r,r+1));return i?(t.u=+i[0],r+i[0].length):-1}function qO(t,s,r){var i=b0.exec(s.slice(r,r+2));return i?(t.U=+i[0],r+i[0].length):-1}function WO(t,s,r){var i=b0.exec(s.slice(r,r+2));return i?(t.V=+i[0],r+i[0].length):-1}function jO(t,s,r){var i=b0.exec(s.slice(r,r+2));return i?(t.W=+i[0],r+i[0].length):-1}function Ay(t,s,r){var i=b0.exec(s.slice(r,r+4));return i?(t.y=+i[0],r+i[0].length):-1}function Ny(t,s,r){var i=b0.exec(s.slice(r,r+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function XO(t,s,r){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(s.slice(r,r+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),r+i[0].length):-1}function YO(t,s,r){var i=b0.exec(s.slice(r,r+1));return i?(t.q=i[0]*3-3,r+i[0].length):-1}function KO(t,s,r){var i=b0.exec(s.slice(r,r+2));return i?(t.m=i[0]-1,r+i[0].length):-1}function Iy(t,s,r){var i=b0.exec(s.slice(r,r+2));return i?(t.d=+i[0],r+i[0].length):-1}function JO(t,s,r){var i=b0.exec(s.slice(r,r+3));return i?(t.m=0,t.d=+i[0],r+i[0].length):-1}function Oy(t,s,r){var i=b0.exec(s.slice(r,r+2));return i?(t.H=+i[0],r+i[0].length):-1}function ZO(t,s,r){var i=b0.exec(s.slice(r,r+2));return i?(t.M=+i[0],r+i[0].length):-1}function QO(t,s,r){var i=b0.exec(s.slice(r,r+2));return i?(t.S=+i[0],r+i[0].length):-1}function eR(t,s,r){var i=b0.exec(s.slice(r,r+3));return i?(t.L=+i[0],r+i[0].length):-1}function tR(t,s,r){var i=b0.exec(s.slice(r,r+6));return i?(t.L=Math.floor(i[0]/1e3),r+i[0].length):-1}function nR(t,s,r){var i=UO.exec(s.slice(r,r+1));return i?r+i[0].length:-1}function rR(t,s,r){var i=b0.exec(s.slice(r));return i?(t.Q=+i[0],r+i[0].length):-1}function iR(t,s,r){var i=b0.exec(s.slice(r));return i?(t.s=+i[0],r+i[0].length):-1}function Ry(t,s){return ys(t.getDate(),s,2)}function sR(t,s){return ys(t.getHours(),s,2)}function oR(t,s){return ys(t.getHours()%12||12,s,2)}function lR(t,s){return ys(1+I7.count(D1(t),t),s,3)}function BS(t,s){return ys(t.getMilliseconds(),s,3)}function aR(t,s){return BS(t,s)+"000"}function uR(t,s){return ys(t.getMonth()+1,s,2)}function cR(t,s){return ys(t.getMinutes(),s,2)}function hR(t,s){return ys(t.getSeconds(),s,2)}function fR(t){var s=t.getDay();return s===0?7:s}function dR(t,s){return ys(gf.count(D1(t)-1,t),s,2)}function PS(t){var s=t.getDay();return s>=4||s===0?f6(t):f6.ceil(t)}function pR(t,s){return t=PS(t),ys(f6.count(D1(t),t)+(D1(t).getDay()===4),s,2)}function mR(t){return t.getDay()}function gR(t,s){return ys(L9.count(D1(t)-1,t),s,2)}function vR(t,s){return ys(t.getFullYear()%100,s,2)}function $R(t,s){return t=PS(t),ys(t.getFullYear()%100,s,2)}function bR(t,s){return ys(t.getFullYear()%1e4,s,4)}function yR(t,s){var r=t.getDay();return t=r>=4||r===0?f6(t):f6.ceil(t),ys(t.getFullYear()%1e4,s,4)}function _R(t){var s=t.getTimezoneOffset();return(s>0?"-":(s*=-1,"+"))+ys(s/60|0,"0",2)+ys(s%60,"0",2)}function Ly(t,s){return ys(t.getUTCDate(),s,2)}function wR(t,s){return ys(t.getUTCHours(),s,2)}function TR(t,s){return ys(t.getUTCHours()%12||12,s,2)}function ER(t,s){return ys(1+mf.count(B1(t),t),s,3)}function FS(t,s){return ys(t.getUTCMilliseconds(),s,3)}function SR(t,s){return FS(t,s)+"000"}function xR(t,s){return ys(t.getUTCMonth()+1,s,2)}function CR(t,s){return ys(t.getUTCMinutes(),s,2)}function MR(t,s){return ys(t.getUTCSeconds(),s,2)}function kR(t){var s=t.getUTCDay();return s===0?7:s}function AR(t,s){return ys(vf.count(B1(t)-1,t),s,2)}function US(t){var s=t.getUTCDay();return s>=4||s===0?d6(t):d6.ceil(t)}function NR(t,s){return t=US(t),ys(d6.count(B1(t),t)+(B1(t).getUTCDay()===4),s,2)}function IR(t){return t.getUTCDay()}function OR(t,s){return ys(D9.count(B1(t)-1,t),s,2)}function RR(t,s){return ys(t.getUTCFullYear()%100,s,2)}function LR(t,s){return t=US(t),ys(t.getUTCFullYear()%100,s,2)}function DR(t,s){return ys(t.getUTCFullYear()%1e4,s,4)}function BR(t,s){var r=t.getUTCDay();return t=r>=4||r===0?d6(t):d6.ceil(t),ys(t.getUTCFullYear()%1e4,s,4)}function PR(){return"+0000"}function Dy(){return"%"}function By(t){return+t}function Py(t){return Math.floor(+t/1e3)}var P3,zS,HS;FR({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FR(t){return P3=FO(t),zS=P3.format,P3.parse,HS=P3.utcFormat,P3.utcParse,P3}function UR(t){return new Date(t)}function zR(t){return t instanceof Date?+t:+new Date(+t)}function zg(t,s,r,i,u,h,f,g,y,$){var T=kg(),w=T.invert,I=T.domain,A=$(".%L"),K=$(":%S"),ne=$("%I:%M"),he=$("%I %p"),V=$("%a %d"),le=$("%b %d"),te=$("%B"),Ce=$("%Y");function Oe(ce){return(y(ce)<ce?A:g(ce)<ce?K:f(ce)<ce?ne:h(ce)<ce?he:i(ce)<ce?u(ce)<ce?V:le:r(ce)<ce?te:Ce)(ce)}return T.invert=function(ce){return new Date(w(ce))},T.domain=function(ce){return arguments.length?I(Array.from(ce,zR)):I().map(UR)},T.ticks=function(ce){var Be=I();return t(Be[0],Be[Be.length-1],ce??10)},T.tickFormat=function(ce,Be){return Be==null?Oe:$(Be)},T.nice=function(ce){var Be=I();return(!ce||typeof ce.range!="function")&&(ce=s(Be[0],Be[Be.length-1],ce??10)),ce?I(MS(Be,ce)):T},T.copy=function(){return N7(T,zg(t,s,r,i,u,h,f,g,y,$))},T}function HR(){return nu.apply(zg(BO,PO,D1,Fg,gf,I7,Bg,Lg,s4,zS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VR(){return nu.apply(zg(LO,DO,B1,Ug,vf,mf,Pg,Dg,s4,HS).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $f(){var t=0,s=1,r,i,u,h,f=wl,g=!1,y;function $(w){return w==null||isNaN(w=+w)?y:f(u===0?.5:(w=(h(w)-r)*u,g?Math.max(0,Math.min(1,w)):w))}$.domain=function(w){return arguments.length?([t,s]=w,r=h(t=+t),i=h(s=+s),u=r===i?0:1/(i-r),$):[t,s]},$.clamp=function(w){return arguments.length?(g=!!w,$):g},$.interpolator=function(w){return arguments.length?(f=w,$):f};function T(w){return function(I){var A,K;return arguments.length?([A,K]=I,f=w(A,K),$):[f(0),f(1)]}}return $.range=T(d4),$.rangeRound=T(df),$.unknown=function(w){return arguments.length?(y=w,$):y},function(w){return h=w,r=w(t),i=w(s),u=r===i?0:1/(i-r),$}}function oh(t,s){return s.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function VS(){var t=sh($f()(wl));return t.copy=function(){return oh(t,VS())},V1.apply(t,arguments)}function GS(){var t=Ag($f()).domain([1,10]);return t.copy=function(){return oh(t,GS()).base(t.base())},V1.apply(t,arguments)}function qS(){var t=Ng($f());return t.copy=function(){return oh(t,qS()).constant(t.constant())},V1.apply(t,arguments)}function Hg(){var t=Ig($f());return t.copy=function(){return oh(t,Hg()).exponent(t.exponent())},V1.apply(t,arguments)}function GR(){return Hg.apply(null,arguments).exponent(.5)}function WS(){var t=[],s=wl;function r(i){if(i!=null&&!isNaN(i=+i))return s((k7(t,i,1)-1)/(t.length-1))}return r.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let u of i)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(J2),r},r.interpolator=function(i){return arguments.length?(s=i,r):s},r.range=function(){return t.map((i,u)=>s(u/(t.length-1)))},r.quantiles=function(i){return Array.from({length:i+1},(u,h)=>xI(t,h/i))},r.copy=function(){return WS(s).domain(t)},V1.apply(r,arguments)}function bf(){var t=0,s=.5,r=1,i=1,u,h,f,g,y,$=wl,T,w=!1,I;function A(ne){return isNaN(ne=+ne)?I:(ne=.5+((ne=+T(ne))-h)*(i*ne<i*h?g:y),$(w?Math.max(0,Math.min(1,ne)):ne))}A.domain=function(ne){return arguments.length?([t,s,r]=ne,u=T(t=+t),h=T(s=+s),f=T(r=+r),g=u===h?0:.5/(h-u),y=h===f?0:.5/(f-h),i=h<u?-1:1,A):[t,s,r]},A.clamp=function(ne){return arguments.length?(w=!!ne,A):w},A.interpolator=function(ne){return arguments.length?($=ne,A):$};function K(ne){return function(he){var V,le,te;return arguments.length?([V,le,te]=he,$=ES(ne,[V,le,te]),A):[$(0),$(.5),$(1)]}}return A.range=K(d4),A.rangeRound=K(df),A.unknown=function(ne){return arguments.length?(I=ne,A):I},function(ne){return T=ne,u=ne(t),h=ne(s),f=ne(r),g=u===h?0:.5/(h-u),y=h===f?0:.5/(f-h),i=h<u?-1:1,A}}function jS(){var t=sh(bf()(wl));return t.copy=function(){return oh(t,jS())},V1.apply(t,arguments)}function XS(){var t=Ag(bf()).domain([.1,1,10]);return t.copy=function(){return oh(t,XS()).base(t.base())},V1.apply(t,arguments)}function YS(){var t=Ng(bf());return t.copy=function(){return oh(t,YS()).constant(t.constant())},V1.apply(t,arguments)}function Vg(){var t=Ig(bf());return t.copy=function(){return oh(t,Vg()).exponent(t.exponent())},V1.apply(t,arguments)}function qR(){return Vg.apply(null,arguments).exponent(.5)}const WR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tg,scaleDiverging:jS,scaleDivergingLog:XS,scaleDivergingPow:Vg,scaleDivergingSqrt:qR,scaleDivergingSymlog:YS,scaleIdentity:CS,scaleImplicit:Mm,scaleLinear:xS,scaleLog:kS,scaleOrdinal:wg,scalePoint:kI,scalePow:Og,scaleQuantile:IS,scaleQuantize:OS,scaleRadial:NS,scaleSequential:VS,scaleSequentialLog:GS,scaleSequentialPow:Hg,scaleSequentialQuantile:WS,scaleSequentialSqrt:GR,scaleSequentialSymlog:qS,scaleSqrt:SO,scaleSymlog:AS,scaleThreshold:RS,scaleTime:HR,scaleUtc:VR,tickFormat:SS},Symbol.toStringTag,{value:"Module"})),jR=H1(WR);function XR(t){return t}var o9=1,l9=2,Im=3,s7=4,Fy=1e-6;function YR(t){return"translate("+t+",0)"}function KR(t){return"translate(0,"+t+")"}function JR(t){return s=>+t(s)}function ZR(t,s){return s=Math.max(0,t.bandwidth()-s*2)/2,t.round()&&(s=Math.round(s)),r=>+t(r)+s}function QR(){return!this.__axis}function yf(t,s){var r=[],i=null,u=null,h=6,f=6,g=3,y=typeof window<"u"&&window.devicePixelRatio>1?0:.5,$=t===o9||t===s7?-1:1,T=t===s7||t===l9?"x":"y",w=t===o9||t===Im?YR:KR;function I(A){var K=i??(s.ticks?s.ticks.apply(s,r):s.domain()),ne=u??(s.tickFormat?s.tickFormat.apply(s,r):XR),he=Math.max(h,0)+g,V=s.range(),le=+V[0]+y,te=+V[V.length-1]+y,Ce=(s.bandwidth?ZR:JR)(s.copy(),y),Oe=A.selection?A.selection():A,ce=Oe.selectAll(".domain").data([null]),Be=Oe.selectAll(".tick").data(K,s).order(),je=Be.exit(),_e=Be.enter().append("g").attr("class","tick"),b=Be.select("line"),O=Be.select("text");ce=ce.merge(ce.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Be=Be.merge(_e),b=b.merge(_e.append("line").attr("stroke","currentColor").attr(T+"2",$*h)),O=O.merge(_e.append("text").attr("fill","currentColor").attr(T,$*he).attr("dy",t===o9?"0em":t===Im?"0.71em":"0.32em")),A!==Oe&&(ce=ce.transition(A),Be=Be.transition(A),b=b.transition(A),O=O.transition(A),je=je.transition(A).attr("opacity",Fy).attr("transform",function(N){return isFinite(N=Ce(N))?w(N+y):this.getAttribute("transform")}),_e.attr("opacity",Fy).attr("transform",function(N){var R=this.parentNode.__axis;return w((R&&isFinite(R=R(N))?R:Ce(N))+y)})),je.remove(),ce.attr("d",t===s7||t===l9?f?"M"+$*f+","+le+"H"+y+"V"+te+"H"+$*f:"M"+y+","+le+"V"+te:f?"M"+le+","+$*f+"V"+y+"H"+te+"V"+$*f:"M"+le+","+y+"H"+te),Be.attr("opacity",1).attr("transform",function(N){return w(Ce(N)+y)}),b.attr(T+"2",$*h),O.attr(T,$*he).text(ne),Oe.filter(QR).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===l9?"start":t===s7?"end":"middle"),Oe.each(function(){this.__axis=Ce})}return I.scale=function(A){return arguments.length?(s=A,I):s},I.ticks=function(){return r=Array.from(arguments),I},I.tickArguments=function(A){return arguments.length?(r=A==null?[]:Array.from(A),I):r.slice()},I.tickValues=function(A){return arguments.length?(i=A==null?null:Array.from(A),I):i&&i.slice()},I.tickFormat=function(A){return arguments.length?(u=A,I):u},I.tickSize=function(A){return arguments.length?(h=f=+A,I):h},I.tickSizeInner=function(A){return arguments.length?(h=+A,I):h},I.tickSizeOuter=function(A){return arguments.length?(f=+A,I):f},I.tickPadding=function(A){return arguments.length?(g=+A,I):g},I.offset=function(A){return arguments.length?(y=+A,I):y},I}function eL(t){return yf(o9,t)}function tL(t){return yf(l9,t)}function nL(t){return yf(Im,t)}function rL(t){return yf(s7,t)}const iL=Object.freeze(Object.defineProperty({__proto__:null,axisBottom:nL,axisLeft:rL,axisRight:tL,axisTop:eL},Symbol.toStringTag,{value:"Module"})),sL=H1(iL);var oL={value:()=>{}};function Gg(){for(var t=0,s=arguments.length,r={},i;t<s;++t){if(!(i=arguments[t]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new a9(r)}function a9(t){this._=t}function lL(t,s){return t.trim().split(/^|\s+/).map(function(r){var i="",u=r.indexOf(".");if(u>=0&&(i=r.slice(u+1),r=r.slice(0,u)),r&&!s.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}a9.prototype=Gg.prototype={constructor:a9,on:function(t,s){var r=this._,i=lL(t+"",r),u,h=-1,f=i.length;if(arguments.length<2){for(;++h<f;)if((u=(t=i[h]).type)&&(u=aL(r[u],t.name)))return u;return}if(s!=null&&typeof s!="function")throw new Error("invalid callback: "+s);for(;++h<f;)if(u=(t=i[h]).type)r[u]=Uy(r[u],t.name,s);else if(s==null)for(u in r)r[u]=Uy(r[u],t.name,null);return this},copy:function(){var t={},s=this._;for(var r in s)t[r]=s[r].slice();return new a9(t)},call:function(t,s){if((u=arguments.length-2)>0)for(var r=new Array(u),i=0,u,h;i<u;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(h=this._[t],i=0,u=h.length;i<u;++i)h[i].value.apply(s,r)},apply:function(t,s,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],u=0,h=i.length;u<h;++u)i[u].value.apply(s,r)}};function aL(t,s){for(var r=0,i=t.length,u;r<i;++r)if((u=t[r]).name===s)return u.value}function Uy(t,s,r){for(var i=0,u=t.length;i<u;++i)if(t[i].name===s){t[i]=oL,t=t.slice(0,i).concat(t.slice(i+1));break}return r!=null&&t.push({name:s,value:r}),t}var Om="http://www.w3.org/1999/xhtml";const Rm={svg:"http://www.w3.org/2000/svg",xhtml:Om,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function O7(t){var s=t+="",r=s.indexOf(":");return r>=0&&(s=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),Rm.hasOwnProperty(s)?{space:Rm[s],local:t}:t}function uL(t){return function(){var s=this.ownerDocument,r=this.namespaceURI;return r===Om&&s.documentElement.namespaceURI===Om?s.createElement(t):s.createElementNS(r,t)}}function cL(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function _f(t){var s=O7(t);return(s.local?cL:uL)(s)}function hL(){}function wf(t){return t==null?hL:function(){return this.querySelector(t)}}function fL(t){typeof t!="function"&&(t=wf(t));for(var s=this._groups,r=s.length,i=new Array(r),u=0;u<r;++u)for(var h=s[u],f=h.length,g=i[u]=new Array(f),y,$,T=0;T<f;++T)(y=h[T])&&($=t.call(y,y.__data__,T,h))&&("__data__"in y&&($.__data__=y.__data__),g[T]=$);return new El(i,this._parents)}function KS(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function dL(){return[]}function qg(t){return t==null?dL:function(){return this.querySelectorAll(t)}}function pL(t){return function(){return KS(t.apply(this,arguments))}}function mL(t){typeof t=="function"?t=pL(t):t=qg(t);for(var s=this._groups,r=s.length,i=[],u=[],h=0;h<r;++h)for(var f=s[h],g=f.length,y,$=0;$<g;++$)(y=f[$])&&(i.push(t.call(y,y.__data__,$,f)),u.push(y));return new El(i,u)}function Wg(t){return function(){return this.matches(t)}}function JS(t){return function(s){return s.matches(t)}}var gL=Array.prototype.find;function vL(t){return function(){return gL.call(this.children,t)}}function $L(){return this.firstElementChild}function bL(t){return this.select(t==null?$L:vL(typeof t=="function"?t:JS(t)))}var yL=Array.prototype.filter;function _L(){return Array.from(this.children)}function wL(t){return function(){return yL.call(this.children,t)}}function TL(t){return this.selectAll(t==null?_L:wL(typeof t=="function"?t:JS(t)))}function EL(t){typeof t!="function"&&(t=Wg(t));for(var s=this._groups,r=s.length,i=new Array(r),u=0;u<r;++u)for(var h=s[u],f=h.length,g=i[u]=[],y,$=0;$<f;++$)(y=h[$])&&t.call(y,y.__data__,$,h)&&g.push(y);return new El(i,this._parents)}function ZS(t){return new Array(t.length)}function SL(){return new El(this._enter||this._groups.map(ZS),this._parents)}function B9(t,s){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=s}B9.prototype={constructor:B9,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,s){return this._parent.insertBefore(t,s)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function xL(t){return function(){return t}}function CL(t,s,r,i,u,h){for(var f=0,g,y=s.length,$=h.length;f<$;++f)(g=s[f])?(g.__data__=h[f],i[f]=g):r[f]=new B9(t,h[f]);for(;f<y;++f)(g=s[f])&&(u[f]=g)}function ML(t,s,r,i,u,h,f){var g,y,$=new Map,T=s.length,w=h.length,I=new Array(T),A;for(g=0;g<T;++g)(y=s[g])&&(I[g]=A=f.call(y,y.__data__,g,s)+"",$.has(A)?u[g]=y:$.set(A,y));for(g=0;g<w;++g)A=f.call(t,h[g],g,h)+"",(y=$.get(A))?(i[g]=y,y.__data__=h[g],$.delete(A)):r[g]=new B9(t,h[g]);for(g=0;g<T;++g)(y=s[g])&&$.get(I[g])===y&&(u[g]=y)}function kL(t){return t.__data__}function AL(t,s){if(!arguments.length)return Array.from(this,kL);var r=s?ML:CL,i=this._parents,u=this._groups;typeof t!="function"&&(t=xL(t));for(var h=u.length,f=new Array(h),g=new Array(h),y=new Array(h),$=0;$<h;++$){var T=i[$],w=u[$],I=w.length,A=NL(t.call(T,T&&T.__data__,$,i)),K=A.length,ne=g[$]=new Array(K),he=f[$]=new Array(K),V=y[$]=new Array(I);r(T,w,ne,he,V,A,s);for(var le=0,te=0,Ce,Oe;le<K;++le)if(Ce=ne[le]){for(le>=te&&(te=le+1);!(Oe=he[te])&&++te<K;);Ce._next=Oe||null}}return f=new El(f,i),f._enter=g,f._exit=y,f}function NL(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function IL(){return new El(this._exit||this._groups.map(ZS),this._parents)}function OL(t,s,r){var i=this.enter(),u=this,h=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),s!=null&&(u=s(u),u&&(u=u.selection())),r==null?h.remove():r(h),i&&u?i.merge(u).order():u}function RL(t){for(var s=t.selection?t.selection():t,r=this._groups,i=s._groups,u=r.length,h=i.length,f=Math.min(u,h),g=new Array(u),y=0;y<f;++y)for(var $=r[y],T=i[y],w=$.length,I=g[y]=new Array(w),A,K=0;K<w;++K)(A=$[K]||T[K])&&(I[K]=A);for(;y<u;++y)g[y]=r[y];return new El(g,this._parents)}function LL(){for(var t=this._groups,s=-1,r=t.length;++s<r;)for(var i=t[s],u=i.length-1,h=i[u],f;--u>=0;)(f=i[u])&&(h&&f.compareDocumentPosition(h)^4&&h.parentNode.insertBefore(f,h),h=f);return this}function DL(t){t||(t=BL);function s(w,I){return w&&I?t(w.__data__,I.__data__):!w-!I}for(var r=this._groups,i=r.length,u=new Array(i),h=0;h<i;++h){for(var f=r[h],g=f.length,y=u[h]=new Array(g),$,T=0;T<g;++T)($=f[T])&&(y[T]=$);y.sort(s)}return new El(u,this._parents).order()}function BL(t,s){return t<s?-1:t>s?1:t>=s?0:NaN}function PL(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function FL(){return Array.from(this)}function UL(){for(var t=this._groups,s=0,r=t.length;s<r;++s)for(var i=t[s],u=0,h=i.length;u<h;++u){var f=i[u];if(f)return f}return null}function zL(){let t=0;for(const s of this)++t;return t}function HL(){return!this.node()}function VL(t){for(var s=this._groups,r=0,i=s.length;r<i;++r)for(var u=s[r],h=0,f=u.length,g;h<f;++h)(g=u[h])&&t.call(g,g.__data__,h,u);return this}function GL(t){return function(){this.removeAttribute(t)}}function qL(t){return function(){this.removeAttributeNS(t.space,t.local)}}function WL(t,s){return function(){this.setAttribute(t,s)}}function jL(t,s){return function(){this.setAttributeNS(t.space,t.local,s)}}function XL(t,s){return function(){var r=s.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function YL(t,s){return function(){var r=s.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function KL(t,s){var r=O7(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((s==null?r.local?qL:GL:typeof s=="function"?r.local?YL:XL:r.local?jL:WL)(r,s))}function jg(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function JL(t){return function(){this.style.removeProperty(t)}}function ZL(t,s,r){return function(){this.style.setProperty(t,s,r)}}function QL(t,s,r){return function(){var i=s.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,r)}}function eD(t,s,r){return arguments.length>1?this.each((s==null?JL:typeof s=="function"?QL:ZL)(t,s,r??"")):u4(this.node(),t)}function u4(t,s){return t.style.getPropertyValue(s)||jg(t).getComputedStyle(t,null).getPropertyValue(s)}function tD(t){return function(){delete this[t]}}function nD(t,s){return function(){this[t]=s}}function rD(t,s){return function(){var r=s.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function iD(t,s){return arguments.length>1?this.each((s==null?tD:typeof s=="function"?rD:nD)(t,s)):this.node()[t]}function QS(t){return t.trim().split(/^|\s+/)}function Xg(t){return t.classList||new ex(t)}function ex(t){this._node=t,this._names=QS(t.getAttribute("class")||"")}ex.prototype={add:function(t){var s=this._names.indexOf(t);s<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var s=this._names.indexOf(t);s>=0&&(this._names.splice(s,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function tx(t,s){for(var r=Xg(t),i=-1,u=s.length;++i<u;)r.add(s[i])}function nx(t,s){for(var r=Xg(t),i=-1,u=s.length;++i<u;)r.remove(s[i])}function sD(t){return function(){tx(this,t)}}function oD(t){return function(){nx(this,t)}}function lD(t,s){return function(){(s.apply(this,arguments)?tx:nx)(this,t)}}function aD(t,s){var r=QS(t+"");if(arguments.length<2){for(var i=Xg(this.node()),u=-1,h=r.length;++u<h;)if(!i.contains(r[u]))return!1;return!0}return this.each((typeof s=="function"?lD:s?sD:oD)(r,s))}function uD(){this.textContent=""}function cD(t){return function(){this.textContent=t}}function hD(t){return function(){var s=t.apply(this,arguments);this.textContent=s??""}}function fD(t){return arguments.length?this.each(t==null?uD:(typeof t=="function"?hD:cD)(t)):this.node().textContent}function dD(){this.innerHTML=""}function pD(t){return function(){this.innerHTML=t}}function mD(t){return function(){var s=t.apply(this,arguments);this.innerHTML=s??""}}function gD(t){return arguments.length?this.each(t==null?dD:(typeof t=="function"?mD:pD)(t)):this.node().innerHTML}function vD(){this.nextSibling&&this.parentNode.appendChild(this)}function $D(){return this.each(vD)}function bD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yD(){return this.each(bD)}function _D(t){var s=typeof t=="function"?t:_f(t);return this.select(function(){return this.appendChild(s.apply(this,arguments))})}function wD(){return null}function TD(t,s){var r=typeof t=="function"?t:_f(t),i=s==null?wD:typeof s=="function"?s:wf(s);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function ED(){var t=this.parentNode;t&&t.removeChild(this)}function SD(){return this.each(ED)}function xD(){var t=this.cloneNode(!1),s=this.parentNode;return s?s.insertBefore(t,this.nextSibling):t}function CD(){var t=this.cloneNode(!0),s=this.parentNode;return s?s.insertBefore(t,this.nextSibling):t}function MD(t){return this.select(t?CD:xD)}function kD(t){return arguments.length?this.property("__data__",t):this.node().__data__}function AD(t){return function(s){t.call(this,s,this.__data__)}}function ND(t){return t.trim().split(/^|\s+/).map(function(s){var r="",i=s.indexOf(".");return i>=0&&(r=s.slice(i+1),s=s.slice(0,i)),{type:s,name:r}})}function ID(t){return function(){var s=this.__on;if(s){for(var r=0,i=-1,u=s.length,h;r<u;++r)h=s[r],(!t.type||h.type===t.type)&&h.name===t.name?this.removeEventListener(h.type,h.listener,h.options):s[++i]=h;++i?s.length=i:delete this.__on}}}function OD(t,s,r){return function(){var i=this.__on,u,h=AD(s);if(i){for(var f=0,g=i.length;f<g;++f)if((u=i[f]).type===t.type&&u.name===t.name){this.removeEventListener(u.type,u.listener,u.options),this.addEventListener(u.type,u.listener=h,u.options=r),u.value=s;return}}this.addEventListener(t.type,h,r),u={type:t.type,name:t.name,value:s,listener:h,options:r},i?i.push(u):this.__on=[u]}}function RD(t,s,r){var i=ND(t+""),u,h=i.length,f;if(arguments.length<2){var g=this.node().__on;if(g){for(var y=0,$=g.length,T;y<$;++y)for(u=0,T=g[y];u<h;++u)if((f=i[u]).type===T.type&&f.name===T.name)return T.value}return}for(g=s?OD:ID,u=0;u<h;++u)this.each(g(i[u],s,r));return this}function rx(t,s,r){var i=jg(t),u=i.CustomEvent;typeof u=="function"?u=new u(s,r):(u=i.document.createEvent("Event"),r?(u.initEvent(s,r.bubbles,r.cancelable),u.detail=r.detail):u.initEvent(s,!1,!1)),t.dispatchEvent(u)}function LD(t,s){return function(){return rx(this,t,s)}}function DD(t,s){return function(){return rx(this,t,s.apply(this,arguments))}}function BD(t,s){return this.each((typeof s=="function"?DD:LD)(t,s))}function*PD(){for(var t=this._groups,s=0,r=t.length;s<r;++s)for(var i=t[s],u=0,h=i.length,f;u<h;++u)(f=i[u])&&(yield f)}var Yg=[null];function El(t,s){this._groups=t,this._parents=s}function b6(){return new El([[document.documentElement]],Yg)}function FD(){return this}El.prototype=b6.prototype={constructor:El,select:fL,selectAll:mL,selectChild:bL,selectChildren:TL,filter:EL,data:AL,enter:SL,exit:IL,join:OL,merge:RL,selection:FD,order:LL,sort:DL,call:PL,nodes:FL,node:UL,size:zL,empty:HL,each:VL,attr:KL,style:eD,property:iD,classed:aD,text:fD,html:gD,raise:$D,lower:yD,append:_D,insert:TD,remove:SD,clone:MD,datum:kD,on:RD,dispatch:BD,[Symbol.iterator]:PD};function A1(t){return typeof t=="string"?new El([[document.querySelector(t)]],[document.documentElement]):new El([[t]],Yg)}function UD(t){return A1(_f(t).call(document.documentElement))}var zD=0;function ix(){return new Lm}function Lm(){this._="@"+(++zD).toString(36)}Lm.prototype=ix.prototype={constructor:Lm,get:function(t){for(var s=this._;!(s in t);)if(!(t=t.parentNode))return;return t[s]},set:function(t,s){return t[this._]=s},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function sx(t){let s;for(;s=t.sourceEvent;)t=s;return t}function M1(t,s){if(t=sx(t),s===void 0&&(s=t.currentTarget),s){var r=s.ownerSVGElement||s;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(s.getScreenCTM().inverse()),[i.x,i.y]}if(s.getBoundingClientRect){var u=s.getBoundingClientRect();return[t.clientX-u.left-s.clientLeft,t.clientY-u.top-s.clientTop]}}return[t.pageX,t.pageY]}function HD(t,s){return t.target&&(t=sx(t),s===void 0&&(s=t.currentTarget),t=t.touches||[t]),Array.from(t,r=>M1(r,s))}function VD(t){return typeof t=="string"?new El([document.querySelectorAll(t)],[document.documentElement]):new El([KS(t)],Yg)}const GD=Object.freeze(Object.defineProperty({__proto__:null,create:UD,creator:_f,local:ix,matcher:Wg,namespace:O7,namespaces:Rm,pointer:M1,pointers:HD,select:A1,selectAll:VD,selection:b6,selector:wf,selectorAll:qg,style:u4,window:jg},Symbol.toStringTag,{value:"Module"})),Dm={capture:!0,passive:!1};function Bm(t){t.preventDefault(),t.stopImmediatePropagation()}function qD(t){var s=t.document.documentElement,r=A1(t).on("dragstart.drag",Bm,Dm);"onselectstart"in s?r.on("selectstart.drag",Bm,Dm):(s.__noselect=s.style.MozUserSelect,s.style.MozUserSelect="none")}function WD(t,s){var r=t.document.documentElement,i=A1(t).on("dragstart.drag",null);s&&(i.on("click.drag",Bm,Dm),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var p6=0,o7=0,j5=0,ox=1e3,P9,l7,F9=0,c4=0,Tf=0,b7=typeof performance=="object"&&performance.now?performance:Date,lx=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Kg(){return c4||(lx(jD),c4=b7.now()+Tf)}function jD(){c4=0}function U9(){this._call=this._time=this._next=null}U9.prototype=ax.prototype={constructor:U9,restart:function(t,s,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?Kg():+r)+(s==null?0:+s),!this._next&&l7!==this&&(l7?l7._next=this:P9=this,l7=this),this._call=t,this._time=r,Pm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pm())}};function ax(t,s,r){var i=new U9;return i.restart(t,s,r),i}function XD(){Kg(),++p6;for(var t=P9,s;t;)(s=c4-t._time)>=0&&t._call.call(void 0,s),t=t._next;--p6}function zy(){c4=(F9=b7.now())+Tf,p6=o7=0;try{XD()}finally{p6=0,KD(),c4=0}}function YD(){var t=b7.now(),s=t-F9;s>ox&&(Tf-=s,F9=t)}function KD(){for(var t,s=P9,r,i=1/0;s;)s._call?(i>s._time&&(i=s._time),t=s,s=s._next):(r=s._next,s._next=null,s=t?t._next=r:P9=r);l7=t,Pm(i)}function Pm(t){if(!p6){o7&&(o7=clearTimeout(o7));var s=t-c4;s>24?(t<1/0&&(o7=setTimeout(zy,t-b7.now()-Tf)),j5&&(j5=clearInterval(j5))):(j5||(F9=b7.now(),j5=setInterval(YD,ox)),p6=1,lx(zy))}}function Hy(t,s,r){var i=new U9;return s=s==null?0:+s,i.restart(u=>{i.stop(),t(u+s)},s,r),i}var JD=Gg("start","end","cancel","interrupt"),ZD=[],ux=0,Vy=1,Fm=2,u9=3,Gy=4,Um=5,c9=6;function Ef(t,s,r,i,u,h){var f=t.__transition;if(!f)t.__transition={};else if(r in f)return;QD(t,r,{name:s,index:i,group:u,on:JD,tween:ZD,time:h.time,delay:h.delay,duration:h.duration,ease:h.ease,timer:null,state:ux})}function Jg(t,s){var r=Pu(t,s);if(r.state>ux)throw new Error("too late; already scheduled");return r}function kc(t,s){var r=Pu(t,s);if(r.state>u9)throw new Error("too late; already running");return r}function Pu(t,s){var r=t.__transition;if(!r||!(r=r[s]))throw new Error("transition not found");return r}function QD(t,s,r){var i=t.__transition,u;i[s]=r,r.timer=ax(h,0,r.time);function h($){r.state=Vy,r.timer.restart(f,r.delay,r.time),r.delay<=$&&f($-r.delay)}function f($){var T,w,I,A;if(r.state!==Vy)return y();for(T in i)if(A=i[T],A.name===r.name){if(A.state===u9)return Hy(f);A.state===Gy?(A.state=c9,A.timer.stop(),A.on.call("interrupt",t,t.__data__,A.index,A.group),delete i[T]):+T<s&&(A.state=c9,A.timer.stop(),A.on.call("cancel",t,t.__data__,A.index,A.group),delete i[T])}if(Hy(function(){r.state===u9&&(r.state=Gy,r.timer.restart(g,r.delay,r.time),g($))}),r.state=Fm,r.on.call("start",t,t.__data__,r.index,r.group),r.state===Fm){for(r.state=u9,u=new Array(I=r.tween.length),T=0,w=-1;T<I;++T)(A=r.tween[T].value.call(t,t.__data__,r.index,r.group))&&(u[++w]=A);u.length=w+1}}function g($){for(var T=$<r.duration?r.ease.call(null,$/r.duration):(r.timer.restart(y),r.state=Um,1),w=-1,I=u.length;++w<I;)u[w].call(t,T);r.state===Um&&(r.on.call("end",t,t.__data__,r.index,r.group),y())}function y(){r.state=c9,r.timer.stop(),delete i[s];for(var $ in i)return;delete t.__transition}}function h9(t,s){var r=t.__transition,i,u,h=!0,f;if(r){s=s==null?null:s+"";for(f in r){if((i=r[f]).name!==s){h=!1;continue}u=i.state>Fm&&i.state<Um,i.state=c9,i.timer.stop(),i.on.call(u?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete r[f]}h&&delete t.__transition}}function eB(t){return this.each(function(){h9(this,t)})}function tB(t,s){var r,i;return function(){var u=kc(this,t),h=u.tween;if(h!==r){i=r=h;for(var f=0,g=i.length;f<g;++f)if(i[f].name===s){i=i.slice(),i.splice(f,1);break}}u.tween=i}}function nB(t,s,r){var i,u;if(typeof r!="function")throw new Error;return function(){var h=kc(this,t),f=h.tween;if(f!==i){u=(i=f).slice();for(var g={name:s,value:r},y=0,$=u.length;y<$;++y)if(u[y].name===s){u[y]=g;break}y===$&&u.push(g)}h.tween=u}}function rB(t,s){var r=this._id;if(t+="",arguments.length<2){for(var i=Pu(this.node(),r).tween,u=0,h=i.length,f;u<h;++u)if((f=i[u]).name===t)return f.value;return null}return this.each((s==null?tB:nB)(r,t,s))}function Zg(t,s,r){var i=t._id;return t.each(function(){var u=kc(this,i);(u.value||(u.value={}))[s]=r.apply(this,arguments)}),function(u){return Pu(u,i).value[s]}}function cx(t,s){var r;return(typeof s=="number"?Ka:s instanceof eh?$7:(r=eh(s))?(s=r,$7):Mg)(t,s)}function iB(t){return function(){this.removeAttribute(t)}}function sB(t){return function(){this.removeAttributeNS(t.space,t.local)}}function oB(t,s,r){var i,u=r+"",h;return function(){var f=this.getAttribute(t);return f===u?null:f===i?h:h=s(i=f,r)}}function lB(t,s,r){var i,u=r+"",h;return function(){var f=this.getAttributeNS(t.space,t.local);return f===u?null:f===i?h:h=s(i=f,r)}}function aB(t,s,r){var i,u,h;return function(){var f,g=r(this),y;return g==null?void this.removeAttribute(t):(f=this.getAttribute(t),y=g+"",f===y?null:f===i&&y===u?h:(u=y,h=s(i=f,g)))}}function uB(t,s,r){var i,u,h;return function(){var f,g=r(this),y;return g==null?void this.removeAttributeNS(t.space,t.local):(f=this.getAttributeNS(t.space,t.local),y=g+"",f===y?null:f===i&&y===u?h:(u=y,h=s(i=f,g)))}}function cB(t,s){var r=O7(t),i=r==="transform"?bS:cx;return this.attrTween(t,typeof s=="function"?(r.local?uB:aB)(r,i,Zg(this,"attr."+t,s)):s==null?(r.local?sB:iB)(r):(r.local?lB:oB)(r,i,s))}function hB(t,s){return function(r){this.setAttribute(t,s.call(this,r))}}function fB(t,s){return function(r){this.setAttributeNS(t.space,t.local,s.call(this,r))}}function dB(t,s){var r,i;function u(){var h=s.apply(this,arguments);return h!==i&&(r=(i=h)&&fB(t,h)),r}return u._value=s,u}function pB(t,s){var r,i;function u(){var h=s.apply(this,arguments);return h!==i&&(r=(i=h)&&hB(t,h)),r}return u._value=s,u}function mB(t,s){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(s==null)return this.tween(r,null);if(typeof s!="function")throw new Error;var i=O7(t);return this.tween(r,(i.local?dB:pB)(i,s))}function gB(t,s){return function(){Jg(this,t).delay=+s.apply(this,arguments)}}function vB(t,s){return s=+s,function(){Jg(this,t).delay=s}}function $B(t){var s=this._id;return arguments.length?this.each((typeof t=="function"?gB:vB)(s,t)):Pu(this.node(),s).delay}function bB(t,s){return function(){kc(this,t).duration=+s.apply(this,arguments)}}function yB(t,s){return s=+s,function(){kc(this,t).duration=s}}function _B(t){var s=this._id;return arguments.length?this.each((typeof t=="function"?bB:yB)(s,t)):Pu(this.node(),s).duration}function wB(t,s){if(typeof s!="function")throw new Error;return function(){kc(this,t).ease=s}}function TB(t){var s=this._id;return arguments.length?this.each(wB(s,t)):Pu(this.node(),s).ease}function EB(t,s){return function(){var r=s.apply(this,arguments);if(typeof r!="function")throw new Error;kc(this,t).ease=r}}function SB(t){if(typeof t!="function")throw new Error;return this.each(EB(this._id,t))}function xB(t){typeof t!="function"&&(t=Wg(t));for(var s=this._groups,r=s.length,i=new Array(r),u=0;u<r;++u)for(var h=s[u],f=h.length,g=i[u]=[],y,$=0;$<f;++$)(y=h[$])&&t.call(y,y.__data__,$,h)&&g.push(y);return new P1(i,this._parents,this._name,this._id)}function CB(t){if(t._id!==this._id)throw new Error;for(var s=this._groups,r=t._groups,i=s.length,u=r.length,h=Math.min(i,u),f=new Array(i),g=0;g<h;++g)for(var y=s[g],$=r[g],T=y.length,w=f[g]=new Array(T),I,A=0;A<T;++A)(I=y[A]||$[A])&&(w[A]=I);for(;g<i;++g)f[g]=s[g];return new P1(f,this._parents,this._name,this._id)}function MB(t){return(t+"").trim().split(/^|\s+/).every(function(s){var r=s.indexOf(".");return r>=0&&(s=s.slice(0,r)),!s||s==="start"})}function kB(t,s,r){var i,u,h=MB(s)?Jg:kc;return function(){var f=h(this,t),g=f.on;g!==i&&(u=(i=g).copy()).on(s,r),f.on=u}}function AB(t,s){var r=this._id;return arguments.length<2?Pu(this.node(),r).on.on(t):this.each(kB(r,t,s))}function NB(t){return function(){var s=this.parentNode;for(var r in this.__transition)if(+r!==t)return;s&&s.removeChild(this)}}function IB(){return this.on("end.remove",NB(this._id))}function OB(t){var s=this._name,r=this._id;typeof t!="function"&&(t=wf(t));for(var i=this._groups,u=i.length,h=new Array(u),f=0;f<u;++f)for(var g=i[f],y=g.length,$=h[f]=new Array(y),T,w,I=0;I<y;++I)(T=g[I])&&(w=t.call(T,T.__data__,I,g))&&("__data__"in T&&(w.__data__=T.__data__),$[I]=w,Ef($[I],s,r,I,$,Pu(T,r)));return new P1(h,this._parents,s,r)}function RB(t){var s=this._name,r=this._id;typeof t!="function"&&(t=qg(t));for(var i=this._groups,u=i.length,h=[],f=[],g=0;g<u;++g)for(var y=i[g],$=y.length,T,w=0;w<$;++w)if(T=y[w]){for(var I=t.call(T,T.__data__,w,y),A,K=Pu(T,r),ne=0,he=I.length;ne<he;++ne)(A=I[ne])&&Ef(A,s,r,ne,I,K);h.push(I),f.push(T)}return new P1(h,f,s,r)}var LB=b6.prototype.constructor;function DB(){return new LB(this._groups,this._parents)}function BB(t,s){var r,i,u;return function(){var h=u4(this,t),f=(this.style.removeProperty(t),u4(this,t));return h===f?null:h===r&&f===i?u:u=s(r=h,i=f)}}function hx(t){return function(){this.style.removeProperty(t)}}function PB(t,s,r){var i,u=r+"",h;return function(){var f=u4(this,t);return f===u?null:f===i?h:h=s(i=f,r)}}function FB(t,s,r){var i,u,h;return function(){var f=u4(this,t),g=r(this),y=g+"";return g==null&&(y=g=(this.style.removeProperty(t),u4(this,t))),f===y?null:f===i&&y===u?h:(u=y,h=s(i=f,g))}}function UB(t,s){var r,i,u,h="style."+s,f="end."+h,g;return function(){var y=kc(this,t),$=y.on,T=y.value[h]==null?g||(g=hx(s)):void 0;($!==r||u!==T)&&(i=(r=$).copy()).on(f,u=T),y.on=i}}function zB(t,s,r){var i=(t+="")=="transform"?$S:cx;return s==null?this.styleTween(t,BB(t,i)).on("end.style."+t,hx(t)):typeof s=="function"?this.styleTween(t,FB(t,i,Zg(this,"style."+t,s))).each(UB(this._id,t)):this.styleTween(t,PB(t,i,s),r).on("end.style."+t,null)}function HB(t,s,r){return function(i){this.style.setProperty(t,s.call(this,i),r)}}function VB(t,s,r){var i,u;function h(){var f=s.apply(this,arguments);return f!==u&&(i=(u=f)&&HB(t,f,r)),i}return h._value=s,h}function GB(t,s,r){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(s==null)return this.tween(i,null);if(typeof s!="function")throw new Error;return this.tween(i,VB(t,s,r??""))}function qB(t){return function(){this.textContent=t}}function WB(t){return function(){var s=t(this);this.textContent=s??""}}function jB(t){return this.tween("text",typeof t=="function"?WB(Zg(this,"text",t)):qB(t==null?"":t+""))}function XB(t){return function(s){this.textContent=t.call(this,s)}}function YB(t){var s,r;function i(){var u=t.apply(this,arguments);return u!==r&&(s=(r=u)&&XB(u)),s}return i._value=t,i}function KB(t){var s="text";if(arguments.length<1)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,YB(t))}function JB(){for(var t=this._name,s=this._id,r=fx(),i=this._groups,u=i.length,h=0;h<u;++h)for(var f=i[h],g=f.length,y,$=0;$<g;++$)if(y=f[$]){var T=Pu(y,s);Ef(y,t,r,$,f,{time:T.time+T.delay+T.duration,delay:0,duration:T.duration,ease:T.ease})}return new P1(i,this._parents,t,r)}function ZB(){var t,s,r=this,i=r._id,u=r.size();return new Promise(function(h,f){var g={value:f},y={value:function(){--u===0&&h()}};r.each(function(){var $=kc(this,i),T=$.on;T!==t&&(s=(t=T).copy(),s._.cancel.push(g),s._.interrupt.push(g),s._.end.push(y)),$.on=s}),u===0&&h()})}var QB=0;function P1(t,s,r,i){this._groups=t,this._parents=s,this._name=r,this._id=i}function fx(){return++QB}var T1=b6.prototype;P1.prototype={constructor:P1,select:OB,selectAll:RB,selectChild:T1.selectChild,selectChildren:T1.selectChildren,filter:xB,merge:CB,selection:DB,transition:JB,call:T1.call,nodes:T1.nodes,node:T1.node,size:T1.size,empty:T1.empty,each:T1.each,on:AB,attr:cB,attrTween:mB,style:zB,styleTween:GB,text:jB,textTween:KB,remove:IB,tween:rB,delay:$B,duration:_B,ease:TB,easeVarying:SB,end:ZB,[Symbol.iterator]:T1[Symbol.iterator]};function eP(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var tP={time:null,delay:0,duration:250,ease:eP};function nP(t,s){for(var r;!(r=t.__transition)||!(r=r[s]);)if(!(t=t.parentNode))throw new Error(`transition ${s} not found`);return r}function rP(t){var s,r;t instanceof P1?(s=t._id,t=t._name):(s=fx(),(r=tP).time=Kg(),t=t==null?null:t+"");for(var i=this._groups,u=i.length,h=0;h<u;++h)for(var f=i[h],g=f.length,y,$=0;$<g;++$)(y=f[$])&&Ef(y,t,s,$,f,r||nP(y,s));return new P1(i,this._parents,t,s)}b6.prototype.interrupt=eB;b6.prototype.transition=rP;const A8=t=>()=>t;function iP(t,{sourceEvent:s,target:r,transform:i,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:s,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:u}})}function Sc(t,s,r){this.k=t,this.x=s,this.y=r}Sc.prototype={constructor:Sc,scale:function(t){return t===1?this:new Sc(this.k*t,this.x,this.y)},translate:function(t,s){return t===0&s===0?this:new Sc(this.k,this.x+this.k*t,this.y+this.k*s)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Sf=new Sc(1,0,0);dx.prototype=Sc.prototype;function dx(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Sf;return t.__zoom}function Yd(t){t.stopImmediatePropagation()}function X5(t){t.preventDefault(),t.stopImmediatePropagation()}function sP(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function oP(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function qy(){return this.__zoom||Sf}function lP(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function aP(){return navigator.maxTouchPoints||"ontouchstart"in this}function uP(t,s,r){var i=t.invertX(s[0][0])-r[0][0],u=t.invertX(s[1][0])-r[1][0],h=t.invertY(s[0][1])-r[0][1],f=t.invertY(s[1][1])-r[1][1];return t.translate(u>i?(i+u)/2:Math.min(0,i)||Math.max(0,u),f>h?(h+f)/2:Math.min(0,h)||Math.max(0,f))}function cP(){var t=sP,s=oP,r=uP,i=lP,u=aP,h=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],g=250,y=yS,$=Gg("start","zoom","end"),T,w,I,A=500,K=150,ne=0,he=10;function V(B){B.property("__zoom",qy).on("wheel.zoom",je,{passive:!1}).on("mousedown.zoom",_e).on("dblclick.zoom",b).filter(u).on("touchstart.zoom",O).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}V.transform=function(B,j,J,fe){var Ne=B.selection?B.selection():B;Ne.property("__zoom",qy),B!==Ne?Oe(B,j,J,fe):Ne.interrupt().each(function(){ce(this,arguments).event(fe).start().zoom(null,typeof j=="function"?j.apply(this,arguments):j).end()})},V.scaleBy=function(B,j,J,fe){V.scaleTo(B,function(){var Ne=this.__zoom.k,qe=typeof j=="function"?j.apply(this,arguments):j;return Ne*qe},J,fe)},V.scaleTo=function(B,j,J,fe){V.transform(B,function(){var Ne=s.apply(this,arguments),qe=this.__zoom,de=J==null?Ce(Ne):typeof J=="function"?J.apply(this,arguments):J,xe=qe.invert(de),gt=typeof j=="function"?j.apply(this,arguments):j;return r(te(le(qe,gt),de,xe),Ne,f)},J,fe)},V.translateBy=function(B,j,J,fe){V.transform(B,function(){return r(this.__zoom.translate(typeof j=="function"?j.apply(this,arguments):j,typeof J=="function"?J.apply(this,arguments):J),s.apply(this,arguments),f)},null,fe)},V.translateTo=function(B,j,J,fe,Ne){V.transform(B,function(){var qe=s.apply(this,arguments),de=this.__zoom,xe=fe==null?Ce(qe):typeof fe=="function"?fe.apply(this,arguments):fe;return r(Sf.translate(xe[0],xe[1]).scale(de.k).translate(typeof j=="function"?-j.apply(this,arguments):-j,typeof J=="function"?-J.apply(this,arguments):-J),qe,f)},fe,Ne)};function le(B,j){return j=Math.max(h[0],Math.min(h[1],j)),j===B.k?B:new Sc(j,B.x,B.y)}function te(B,j,J){var fe=j[0]-J[0]*B.k,Ne=j[1]-J[1]*B.k;return fe===B.x&&Ne===B.y?B:new Sc(B.k,fe,Ne)}function Ce(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function Oe(B,j,J,fe){B.on("start.zoom",function(){ce(this,arguments).event(fe).start()}).on("interrupt.zoom end.zoom",function(){ce(this,arguments).event(fe).end()}).tween("zoom",function(){var Ne=this,qe=arguments,de=ce(Ne,qe).event(fe),xe=s.apply(Ne,qe),gt=J==null?Ce(xe):typeof J=="function"?J.apply(Ne,qe):J,ze=Math.max(xe[1][0]-xe[0][0],xe[1][1]-xe[0][1]),Ft=Ne.__zoom,Ge=typeof j=="function"?j.apply(Ne,qe):j,et=y(Ft.invert(gt).concat(ze/Ft.k),Ge.invert(gt).concat(ze/Ge.k));return function(Ct){if(Ct===1)Ct=Ge;else{var nt=et(Ct),yt=ze/nt[2];Ct=new Sc(yt,gt[0]-nt[0]*yt,gt[1]-nt[1]*yt)}de.zoom(null,Ct)}})}function ce(B,j,J){return!J&&B.__zooming||new Be(B,j)}function Be(B,j){this.that=B,this.args=j,this.active=0,this.sourceEvent=null,this.extent=s.apply(B,j),this.taps=0}Be.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,j){return this.mouse&&B!=="mouse"&&(this.mouse[1]=j.invert(this.mouse[0])),this.touch0&&B!=="touch"&&(this.touch0[1]=j.invert(this.touch0[0])),this.touch1&&B!=="touch"&&(this.touch1[1]=j.invert(this.touch1[0])),this.that.__zoom=j,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var j=A1(this.that).datum();$.call(B,this.that,new iP(B,{sourceEvent:this.sourceEvent,target:V,transform:this.that.__zoom,dispatch:$}),j)}};function je(B,...j){if(!t.apply(this,arguments))return;var J=ce(this,j).event(B),fe=this.__zoom,Ne=Math.max(h[0],Math.min(h[1],fe.k*Math.pow(2,i.apply(this,arguments)))),qe=M1(B);if(J.wheel)(J.mouse[0][0]!==qe[0]||J.mouse[0][1]!==qe[1])&&(J.mouse[1]=fe.invert(J.mouse[0]=qe)),clearTimeout(J.wheel);else{if(fe.k===Ne)return;J.mouse=[qe,fe.invert(qe)],h9(this),J.start()}X5(B),J.wheel=setTimeout(de,K),J.zoom("mouse",r(te(le(fe,Ne),J.mouse[0],J.mouse[1]),J.extent,f));function de(){J.wheel=null,J.end()}}function _e(B,...j){if(I||!t.apply(this,arguments))return;var J=B.currentTarget,fe=ce(this,j,!0).event(B),Ne=A1(B.view).on("mousemove.zoom",gt,!0).on("mouseup.zoom",ze,!0),qe=M1(B,J),de=B.clientX,xe=B.clientY;qD(B.view),Yd(B),fe.mouse=[qe,this.__zoom.invert(qe)],h9(this),fe.start();function gt(Ft){if(X5(Ft),!fe.moved){var Ge=Ft.clientX-de,et=Ft.clientY-xe;fe.moved=Ge*Ge+et*et>ne}fe.event(Ft).zoom("mouse",r(te(fe.that.__zoom,fe.mouse[0]=M1(Ft,J),fe.mouse[1]),fe.extent,f))}function ze(Ft){Ne.on("mousemove.zoom mouseup.zoom",null),WD(Ft.view,fe.moved),X5(Ft),fe.event(Ft).end()}}function b(B,...j){if(t.apply(this,arguments)){var J=this.__zoom,fe=M1(B.changedTouches?B.changedTouches[0]:B,this),Ne=J.invert(fe),qe=J.k*(B.shiftKey?.5:2),de=r(te(le(J,qe),fe,Ne),s.apply(this,j),f);X5(B),g>0?A1(this).transition().duration(g).call(Oe,de,fe,B):A1(this).call(V.transform,de,fe,B)}}function O(B,...j){if(t.apply(this,arguments)){var J=B.touches,fe=J.length,Ne=ce(this,j,B.changedTouches.length===fe).event(B),qe,de,xe,gt;for(Yd(B),de=0;de<fe;++de)xe=J[de],gt=M1(xe,this),gt=[gt,this.__zoom.invert(gt),xe.identifier],Ne.touch0?!Ne.touch1&&Ne.touch0[2]!==gt[2]&&(Ne.touch1=gt,Ne.taps=0):(Ne.touch0=gt,qe=!0,Ne.taps=1+!!T);T&&(T=clearTimeout(T)),qe&&(Ne.taps<2&&(w=gt[0],T=setTimeout(function(){T=null},A)),h9(this),Ne.start())}}function N(B,...j){if(this.__zooming){var J=ce(this,j).event(B),fe=B.changedTouches,Ne=fe.length,qe,de,xe,gt;for(X5(B),qe=0;qe<Ne;++qe)de=fe[qe],xe=M1(de,this),J.touch0&&J.touch0[2]===de.identifier?J.touch0[0]=xe:J.touch1&&J.touch1[2]===de.identifier&&(J.touch1[0]=xe);if(de=J.that.__zoom,J.touch1){var ze=J.touch0[0],Ft=J.touch0[1],Ge=J.touch1[0],et=J.touch1[1],Ct=(Ct=Ge[0]-ze[0])*Ct+(Ct=Ge[1]-ze[1])*Ct,nt=(nt=et[0]-Ft[0])*nt+(nt=et[1]-Ft[1])*nt;de=le(de,Math.sqrt(Ct/nt)),xe=[(ze[0]+Ge[0])/2,(ze[1]+Ge[1])/2],gt=[(Ft[0]+et[0])/2,(Ft[1]+et[1])/2]}else if(J.touch0)xe=J.touch0[0],gt=J.touch0[1];else return;J.zoom("touch",r(te(de,xe,gt),J.extent,f))}}function R(B,...j){if(this.__zooming){var J=ce(this,j).event(B),fe=B.changedTouches,Ne=fe.length,qe,de;for(Yd(B),I&&clearTimeout(I),I=setTimeout(function(){I=null},A),qe=0;qe<Ne;++qe)de=fe[qe],J.touch0&&J.touch0[2]===de.identifier?delete J.touch0:J.touch1&&J.touch1[2]===de.identifier&&delete J.touch1;if(J.touch1&&!J.touch0&&(J.touch0=J.touch1,delete J.touch1),J.touch0)J.touch0[1]=this.__zoom.invert(J.touch0[0]);else if(J.end(),J.taps===2&&(de=M1(de,this),Math.hypot(w[0]-de[0],w[1]-de[1])<he)){var xe=A1(this).on("dblclick.zoom");xe&&xe.apply(this,arguments)}}}return V.wheelDelta=function(B){return arguments.length?(i=typeof B=="function"?B:A8(+B),V):i},V.filter=function(B){return arguments.length?(t=typeof B=="function"?B:A8(!!B),V):t},V.touchable=function(B){return arguments.length?(u=typeof B=="function"?B:A8(!!B),V):u},V.extent=function(B){return arguments.length?(s=typeof B=="function"?B:A8([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),V):s},V.scaleExtent=function(B){return arguments.length?(h[0]=+B[0],h[1]=+B[1],V):[h[0],h[1]]},V.translateExtent=function(B){return arguments.length?(f[0][0]=+B[0][0],f[1][0]=+B[1][0],f[0][1]=+B[0][1],f[1][1]=+B[1][1],V):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},V.constrain=function(B){return arguments.length?(r=B,V):r},V.duration=function(B){return arguments.length?(g=+B,V):g},V.interpolate=function(B){return arguments.length?(y=B,V):y},V.on=function(){var B=$.on.apply($,arguments);return B===$?V:B},V.clickDistance=function(B){return arguments.length?(ne=(B=+B)*B,V):Math.sqrt(ne)},V.tapDistance=function(B){return arguments.length?(he=+B,V):he},V}const hP=Object.freeze(Object.defineProperty({__proto__:null,ZoomTransform:Sc,zoom:cP,zoomIdentity:Sf,zoomTransform:dx},Symbol.toStringTag,{value:"Module"})),fP=H1(hP),Ac=H1(GD),dP=H1(dO);var N8={exports:{}},Wy;function pP(){if(Wy)return N8.exports;Wy=1;var t=typeof Reflect=="object"?Reflect:null,s=t&&typeof t.apply=="function"?t.apply:function(Oe,ce,Be){return Function.prototype.apply.call(Oe,ce,Be)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(Oe){return Object.getOwnPropertyNames(Oe).concat(Object.getOwnPropertySymbols(Oe))}:r=function(Oe){return Object.getOwnPropertyNames(Oe)};function i(Ce){console&&console.warn&&console.warn(Ce)}var u=Number.isNaN||function(Oe){return Oe!==Oe};function h(){h.init.call(this)}N8.exports=h,N8.exports.once=V,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var f=10;function g(Ce){if(typeof Ce!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Ce)}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(Ce){if(typeof Ce!="number"||Ce<0||u(Ce))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Ce+".");f=Ce}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(Oe){if(typeof Oe!="number"||Oe<0||u(Oe))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Oe+".");return this._maxListeners=Oe,this};function y(Ce){return Ce._maxListeners===void 0?h.defaultMaxListeners:Ce._maxListeners}h.prototype.getMaxListeners=function(){return y(this)},h.prototype.emit=function(Oe){for(var ce=[],Be=1;Be<arguments.length;Be++)ce.push(arguments[Be]);var je=Oe==="error",_e=this._events;if(_e!==void 0)je=je&&_e.error===void 0;else if(!je)return!1;if(je){var b;if(ce.length>0&&(b=ce[0]),b instanceof Error)throw b;var O=new Error("Unhandled error."+(b?" ("+b.message+")":""));throw O.context=b,O}var N=_e[Oe];if(N===void 0)return!1;if(typeof N=="function")s(N,this,ce);else for(var R=N.length,B=K(N,R),Be=0;Be<R;++Be)s(B[Be],this,ce);return!0};function $(Ce,Oe,ce,Be){var je,_e,b;if(g(ce),_e=Ce._events,_e===void 0?(_e=Ce._events=Object.create(null),Ce._eventsCount=0):(_e.newListener!==void 0&&(Ce.emit("newListener",Oe,ce.listener?ce.listener:ce),_e=Ce._events),b=_e[Oe]),b===void 0)b=_e[Oe]=ce,++Ce._eventsCount;else if(typeof b=="function"?b=_e[Oe]=Be?[ce,b]:[b,ce]:Be?b.unshift(ce):b.push(ce),je=y(Ce),je>0&&b.length>je&&!b.warned){b.warned=!0;var O=new Error("Possible EventEmitter memory leak detected. "+b.length+" "+String(Oe)+" listeners added. Use emitter.setMaxListeners() to increase limit");O.name="MaxListenersExceededWarning",O.emitter=Ce,O.type=Oe,O.count=b.length,i(O)}return Ce}h.prototype.addListener=function(Oe,ce){return $(this,Oe,ce,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(Oe,ce){return $(this,Oe,ce,!0)};function T(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w(Ce,Oe,ce){var Be={fired:!1,wrapFn:void 0,target:Ce,type:Oe,listener:ce},je=T.bind(Be);return je.listener=ce,Be.wrapFn=je,je}h.prototype.once=function(Oe,ce){return g(ce),this.on(Oe,w(this,Oe,ce)),this},h.prototype.prependOnceListener=function(Oe,ce){return g(ce),this.prependListener(Oe,w(this,Oe,ce)),this},h.prototype.removeListener=function(Oe,ce){var Be,je,_e,b,O;if(g(ce),je=this._events,je===void 0)return this;if(Be=je[Oe],Be===void 0)return this;if(Be===ce||Be.listener===ce)--this._eventsCount===0?this._events=Object.create(null):(delete je[Oe],je.removeListener&&this.emit("removeListener",Oe,Be.listener||ce));else if(typeof Be!="function"){for(_e=-1,b=Be.length-1;b>=0;b--)if(Be[b]===ce||Be[b].listener===ce){O=Be[b].listener,_e=b;break}if(_e<0)return this;_e===0?Be.shift():ne(Be,_e),Be.length===1&&(je[Oe]=Be[0]),je.removeListener!==void 0&&this.emit("removeListener",Oe,O||ce)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(Oe){var ce,Be,je;if(Be=this._events,Be===void 0)return this;if(Be.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Be[Oe]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Be[Oe]),this;if(arguments.length===0){var _e=Object.keys(Be),b;for(je=0;je<_e.length;++je)b=_e[je],b!=="removeListener"&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(ce=Be[Oe],typeof ce=="function")this.removeListener(Oe,ce);else if(ce!==void 0)for(je=ce.length-1;je>=0;je--)this.removeListener(Oe,ce[je]);return this};function I(Ce,Oe,ce){var Be=Ce._events;if(Be===void 0)return[];var je=Be[Oe];return je===void 0?[]:typeof je=="function"?ce?[je.listener||je]:[je]:ce?he(je):K(je,je.length)}h.prototype.listeners=function(Oe){return I(this,Oe,!0)},h.prototype.rawListeners=function(Oe){return I(this,Oe,!1)},h.listenerCount=function(Ce,Oe){return typeof Ce.listenerCount=="function"?Ce.listenerCount(Oe):A.call(Ce,Oe)},h.prototype.listenerCount=A;function A(Ce){var Oe=this._events;if(Oe!==void 0){var ce=Oe[Ce];if(typeof ce=="function")return 1;if(ce!==void 0)return ce.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function K(Ce,Oe){for(var ce=new Array(Oe),Be=0;Be<Oe;++Be)ce[Be]=Ce[Be];return ce}function ne(Ce,Oe){for(;Oe+1<Ce.length;Oe++)Ce[Oe]=Ce[Oe+1];Ce.pop()}function he(Ce){for(var Oe=new Array(Ce.length),ce=0;ce<Oe.length;++ce)Oe[ce]=Ce[ce].listener||Ce[ce];return Oe}function V(Ce,Oe){return new Promise(function(ce,Be){function je(b){Ce.removeListener(Oe,_e),Be(b)}function _e(){typeof Ce.removeListener=="function"&&Ce.removeListener("error",je),ce([].slice.call(arguments))}te(Ce,Oe,_e,{once:!0}),Oe!=="error"&&le(Ce,je,{once:!0})})}function le(Ce,Oe,ce){typeof Ce.on=="function"&&te(Ce,"error",Oe,ce)}function te(Ce,Oe,ce,Be){if(typeof Ce.on=="function")Be.once?Ce.once(Oe,ce):Ce.on(Oe,ce);else if(typeof Ce.addEventListener=="function")Ce.addEventListener(Oe,function je(_e){Be.once&&Ce.removeEventListener(Oe,je),ce(_e)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Ce)}return N8.exports}var I8={},jy;function mP(){if(jy)return I8;jy=1,Object.defineProperty(I8,"__esModule",{value:!0});const t=lf,s=Ac;function r(i){const u=i.owner.meta.xScale,h=i.owner.meta.yScale,f=(0,t.line)().x(function(g){return g[0]}).y(function(g){return g[1]});return function(g){g.each(function(){const $=(0,s.select)(this).selectAll("g.annotations").data(function(V){return V.annotations||[]}),T=$.enter().append("g").attr("class","annotations"),w=h.range(),I=u.range(),A=$.merge(T).selectAll("path").data(function(V){return"x"in V?[[[0,w[0]],[0,w[1]]]]:[[[I[0],0],[I[1],0]]]}),K=A.enter().append("path");A.merge(K).attr("stroke","#eee").attr("d",f),A.exit().remove();const ne=$.merge(T).selectAll("text").data(function(V){return[{text:V.text||"",hasX:"x"in V}]}),he=ne.enter().append("text");ne.merge(he).text(function(V){return V.text}).attr("y",function(V){return V.hasX?3:0}).attr("x",function(V){return V.hasX?0:3}).attr("dy",function(V){return V.hasX?5:-5}).attr("text-anchor",function(V){return V.hasX?"end":""}).attr("transform",function(V){return V.hasX?"rotate(-90)":""}),ne.exit().remove(),$.merge(T).attr("transform",function(V){return"x"in V?"translate("+u(V.x)+", 0)":"translate(0, "+h(V.y)+")"}),$.exit().remove()})}}return I8.default=r,I8}var F3={},U3={},z3={};const Qg=H1(GI);var Xy;function R7(){if(Xy)return z3;Xy=1,Object.defineProperty(z3,"__esModule",{value:!0}),z3.registerGraphType=void 0;const t=Qg,s={COLORS:["steelblue","red","#05b378","orange","#4040e8","yellow","brown","magenta","cyan"].map(function(i){return(0,t.hsl)(i)}),DEFAULT_WIDTH:550,DEFAULT_HEIGHT:350,DEFAULT_ITERATIONS:null,TIP_X_EPS:1,MAX_ITERATIONS:0,graphTypes:{}};s.MAX_ITERATIONS=s.DEFAULT_WIDTH*10;function r(i,u){if(Object.hasOwn(s.graphTypes,i))throw new Error(`registerGraphType: graphType ${i} is already registered.`);s.graphTypes[i]=u}return z3.registerGraphType=r,z3.default=s,z3}var Yy;function G1(){if(Yy)return U3;Yy=1;var t=U3&&U3.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(U3,"__esModule",{value:!0});const s=t(R7()),r={linspace:function(i,u,h){const f=(u-i)/(h-1);return Array.from({length:h},(g,y)=>i+f*y)},logspace:function(i,u,h){return this.linspace(i,u,h).map(f=>Math.pow(10,f))},isValidNumber:function(i){return typeof i=="number"&&!isNaN(i)},space:function(i,u,h){const f=u[0],g=u[1];return i.type==="log"?this.logspace(Math.log10(f),Math.log10(g),h):this.linspace(f,g,h)},getterSetter:function(i,u){const h=this;this[u]=function(f){return arguments.length?(i[u]=f,h):i[u]}},sgn:function(i){return i<0?-1:i>0?1:0},clamp:function(i,u,h){return i<u?u:i>h?h:i},color:function(i,u){const h=u%s.default.COLORS.length;return i.color||s.default.COLORS[h].hex()},infinity:function(){return 9007199254740991}};return U3.default=r,U3}var E1={},O8={exports:{}},Y5={},Kd,Ky;function px(){return Ky||(Ky=1,Kd={EOF:0,DELIMITER:1,NUMBER:2,STRING:3,SYMBOL:4}),Kd}var Jd,Jy;function mx(){if(Jy)return Jd;Jy=1;var t=px(),s={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},r={",":!0,"(":!0,")":!0,"[":!0,"]":!0,";":!0,"~":!0,"!":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0,"^":!0,"**":!0,"|":!0,"&":!0,"^|":!0,"=":!0,":":!0,"?":!0,"||":!0,"&&":!0,xor:!0,"==":!0,"!=":!0,"===":!0,"!==":!0,"<":!0,">":!0,">=":!0,"<=":!0,">>>":!0,"<<":!0,">>":!0};function i($){return $>="0"&&$<="9"}function u($){return $>="a"&&$<="z"||$>="A"&&$<="Z"||$==="$"||$==="_"}function h($){return $===" "||$==="\r"||$==="	"||$===`
`||$==="\v"||$===""}function f($){return r[$]}function g($){return $==="'"||$==='"'}function y(){}return y.prototype.throwError=function($,T){T=typeof T>"u"?this.index:T;var w=new Error($+" at index "+T);throw w.index=T,w.description=$,w},y.prototype.lex=function($){for(this.text=$,this.index=0,this.tokens=[];this.index<this.text.length;){for(;h(this.peek());)this.consume();var T=this.peek(),w=T+this.peek(1),I=w+this.peek(2);f(I)?(this.tokens.push({type:t.DELIMITER,value:I}),this.consume(),this.consume(),this.consume()):f(w)?(this.tokens.push({type:t.DELIMITER,value:w}),this.consume(),this.consume()):f(T)?(this.tokens.push({type:t.DELIMITER,value:T}),this.consume()):i(T)||T==="."&&i(this.peek(1))?this.tokens.push({type:t.NUMBER,value:this.readNumber()}):g(T)?this.tokens.push({type:t.STRING,value:this.readString()}):u(T)?this.tokens.push({type:t.SYMBOL,value:this.readIdentifier()}):this.throwError("unexpected character "+T)}return this.tokens.push({type:t.EOF}),this.tokens},y.prototype.peek=function($){if($=$||0,!(this.index+$>=this.text.length))return this.text.charAt(this.index+$)},y.prototype.consume=function(){var $=this.peek();return this.index+=1,$},y.prototype.readNumber=function(){var $="";if(this.peek()===".")$+=this.consume(),i(this.peek())||this.throwError("number expected");else{for(;i(this.peek());)$+=this.consume();this.peek()==="."&&($+=this.consume())}for(;i(this.peek());)$+=this.consume();if(this.peek()==="e"||this.peek()==="E")for($+=this.consume(),i(this.peek())||this.peek()==="+"||this.peek()==="-"||this.throwError(),(this.peek()==="+"||this.peek()==="-")&&($+=this.consume()),i(this.peek())||this.throwError("number expected");i(this.peek());)$+=this.consume();return $},y.prototype.readIdentifier=function(){for(var $="";u(this.peek())||i(this.peek());)$+=this.consume();return $},y.prototype.readString=function(){for(var $=this.consume(),T="",w;;){var I=this.consume();if(I||this.throwError("string is not closed"),w){if(I==="u"){var A=this.text.substring(this.index+1,this.index+5);A.match(/[\da-f]{4}/i)||this.throwError("invalid unicode escape"),this.index+=4,T+=String.fromCharCode(parseInt(A,16))}else{var K=s[I];K?T+=K:T+=I}w=!1}else{if(I===$)break;I==="\\"?w=!0:T+=I}}return T},Jd=y,Jd}var Zd,Zy;function Nc(){if(Zy)return Zd;Zy=1;function t(){}return t.prototype.type="Node",Zd=t,Zd}var Qd,Qy;function gx(){if(Qy)return Qd;Qy=1;var t=Nc(),s={number:!0,string:!0,boolean:!0,undefined:!0,null:!0};function r(i,u){if(!s[u])throw Error("unsupported type '"+u+"'");this.value=i,this.valueType=u}return r.prototype=Object.create(t.prototype),r.prototype.type="ConstantNode",Qd=r,Qd}var ep,e_;function vx(){if(e_)return ep;e_=1;var t=Nc();function s(r,i){this.op=r,this.args=i||[]}return s.prototype=Object.create(t.prototype),s.prototype.type="OperatorNode",ep=s,ep}var tp,t_;function $x(){if(t_)return tp;t_=1;var t=Nc();function s(r,i){this.op=r,this.argument=i}return s.prototype=Object.create(t.prototype),s.prototype.type="UnaryNode",tp=s,tp}var np,n_;function bx(){if(n_)return np;n_=1;var t=Nc();function s(r){this.name=r}return s.prototype=Object.create(t.prototype),s.prototype.type="SymbolNode",np=s,np}var rp,r_;function yx(){if(r_)return rp;r_=1;var t=Nc();function s(r,i){this.name=r,this.args=i}return s.prototype=Object.create(t.prototype),s.prototype.type="FunctionNode",rp=s,rp}var ip,i_;function _x(){if(i_)return ip;i_=1;var t=Nc();function s(r){this.nodes=r}return s.prototype=Object.create(t.prototype),s.prototype.type="ArrayNode",ip=s,ip}var sp,s_;function wx(){if(s_)return sp;s_=1;var t=Nc();function s(r,i,u){this.condition=r,this.trueExpr=i,this.falseExpr=u}return s.prototype=Object.create(t.prototype),s.prototype.type="ConditionalNode",sp=s,sp}var op,o_;function Tx(){if(o_)return op;o_=1;var t=Nc();function s(r,i){this.name=r,this.expr=i}return s.prototype=Object.create(t.prototype),s.prototype.type="AssignmentNode",op=s,op}var lp,l_;function Ex(){if(l_)return lp;l_=1;var t=Nc();function s(r){this.blocks=r}return s.prototype=Object.create(t.prototype),s.prototype.type="BlockNode",lp=s,lp}var ap,a_;function gP(){if(a_)return ap;a_=1;var t=px(),s=mx(),r=gx(),i=vx(),u=$x(),h=bx(),f=yx(),g=_x(),y=wx(),$=Tx(),T=Ex();function w(){this.lexer=new s,this.tokens=null}return w.prototype.current=function(){return this.tokens[0]},w.prototype.next=function(){return this.tokens[1]},w.prototype.peek=function(){if(this.tokens.length){for(var I=this.tokens[0],A=0;A<arguments.length;A+=1)if(I.value===arguments[A])return!0}},w.prototype.consume=function(I){return this.tokens.shift()},w.prototype.expect=function(I){if(!this.peek(I))throw Error("expected "+I);return this.consume()},w.prototype.isEOF=function(){return this.current().type===t.EOF},w.prototype.parse=function(I){return this.tokens=this.lexer.lex(I),this.program()},w.prototype.program=function(){for(var I=[];!this.isEOF();)I.push(this.assignment()),this.peek(";")&&this.consume();return this.end(),new T(I)},w.prototype.assignment=function(){var I=this.ternary();return I instanceof h&&this.peek("=")?(this.consume(),new $(I.name,this.assignment())):I},w.prototype.ternary=function(){var I=this.logicalOR();if(this.peek("?")){this.consume();var A=this.ternary();this.expect(":");var K=this.ternary();return new y(I,A,K)}return I},w.prototype.logicalOR=function(){var I=this.logicalXOR();if(this.peek("||")){var A=this.consume(),K=this.logicalOR();return new i(A.value,[I,K])}return I},w.prototype.logicalXOR=function(){var I=this.logicalAND();if(this.current().value==="xor"){var A=this.consume(),K=this.logicalXOR();return new i(A.value,[I,K])}return I},w.prototype.logicalAND=function(){var I=this.bitwiseOR();if(this.peek("&&")){var A=this.consume(),K=this.logicalAND();return new i(A.value,[I,K])}return I},w.prototype.bitwiseOR=function(){var I=this.bitwiseXOR();if(this.peek("|")){var A=this.consume(),K=this.bitwiseOR();return new i(A.value,[I,K])}return I},w.prototype.bitwiseXOR=function(){var I=this.bitwiseAND();if(this.peek("^|")){var A=this.consume(),K=this.bitwiseXOR();return new i(A.value,[I,K])}return I},w.prototype.bitwiseAND=function(){var I=this.relational();if(this.peek("&")){var A=this.consume(),K=this.bitwiseAND();return new i(A.value,[I,K])}return I},w.prototype.relational=function(){var I=this.shift();if(this.peek("==","===","!=","!==",">=","<=",">","<")){var A=this.consume(),K=this.shift();return new i(A.value,[I,K])}return I},w.prototype.shift=function(){var I=this.additive();if(this.peek(">>","<<",">>>")){var A=this.consume(),K=this.shift();return new i(A.value,[I,K])}return I},w.prototype.additive=function(){for(var I=this.multiplicative();this.peek("+","-");){var A=this.consume();I=new i(A.value,[I,this.multiplicative()])}return I},w.prototype.multiplicative=function(){for(var I,A,K=this.unary();this.peek("*","/","%");)I=this.consume(),K=new i(I.value,[K,this.unary()]);return this.current().type===t.SYMBOL||this.peek("(")||!(K.type instanceof r)&&this.current().type===t.NUMBER?(A=this.multiplicative(),new i("*",[K,A])):K},w.prototype.unary=function(){if(this.peek("-","+","~")){var I=this.consume(),A=this.unary();return new u(I.value,A)}return this.pow()},w.prototype.pow=function(){var I=this.factorial();if(this.peek("^","**")){var A=this.consume(),K=this.unary();return new i(A.value,[I,K])}return I},w.prototype.factorial=function(){var I=this.symbol();if(this.peek("!")){var A=this.consume();return new i(A.value,[I])}return I},w.prototype.symbol=function(){var I=this.current();if(I.type===t.SYMBOL){var A=this.consume(),K=this.functionCall(A);return K}return this.string()},w.prototype.functionCall=function(I){var A=I.value;if(this.peek("(")){this.consume();for(var K=[];!this.peek(")")&&!this.isEOF();)K.push(this.assignment()),this.peek(",")&&this.consume();return this.expect(")"),new f(A,K)}return new h(A)},w.prototype.string=function(){return this.current().type===t.STRING?new r(this.consume().value,"string"):this.array()},w.prototype.array=function(){if(this.peek("[")){this.consume();for(var I=[];!this.peek("]")&&!this.isEOF();)I.push(this.assignment()),this.peek(",")&&this.consume();return this.expect("]"),new g(I)}return this.number()},w.prototype.number=function(){var I=this.current();return I.type===t.NUMBER?new r(this.consume().value,"number"):this.parentheses()},w.prototype.parentheses=function(){var I=this.current();if(I.value==="("){this.consume();var A=this.assignment();return this.expect(")"),A}return this.end()},w.prototype.end=function(){var I=this.current();if(I.type!==t.EOF)throw Error("unexpected end of expression")},ap=w,ap}var up,u_;function vP(){return u_||(u_=1,up={ArrayNode:_x(),AssignmentNode:Tx(),BlockNode:Ex(),ConditionalNode:wx(),ConstantNode:gx(),FunctionNode:yx(),Node:Nc(),OperatorNode:vx(),SymbolNode:bx(),UnaryNode:$x()}),up}var c_;function xf(){return c_||(c_=1,Y5.Lexer=mx(),Y5.Parser=gP(),Y5.nodeTypes=vP()),Y5}var cp,h_;function L7(){if(h_)return cp;h_=1;var t=Object.prototype.hasOwnProperty,s=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,u=function($){return typeof Array.isArray=="function"?Array.isArray($):s.call($)==="[object Array]"},h=function($){if(!$||s.call($)!=="[object Object]")return!1;var T=t.call($,"constructor"),w=$.constructor&&$.constructor.prototype&&t.call($.constructor.prototype,"isPrototypeOf");if($.constructor&&!T&&!w)return!1;var I;for(I in $);return typeof I>"u"||t.call($,I)},f=function($,T){r&&T.name==="__proto__"?r($,T.name,{enumerable:!0,configurable:!0,value:T.newValue,writable:!0}):$[T.name]=T.newValue},g=function($,T){if(T==="__proto__")if(t.call($,T)){if(i)return i($,T).value}else return;return $[T]};return cp=function y(){var $,T,w,I,A,K,ne=arguments[0],he=1,V=arguments.length,le=!1;for(typeof ne=="boolean"&&(le=ne,ne=arguments[1]||{},he=2),(ne==null||typeof ne!="object"&&typeof ne!="function")&&(ne={});he<V;++he)if($=arguments[he],$!=null)for(T in $)w=g(ne,T),I=g($,T),ne!==I&&(le&&I&&(h(I)||(A=u(I)))?(A?(A=!1,K=w&&u(w)?w:[]):K=w&&h(w)?w:{},f(ne,{name:T,newValue:y(le,K,I)})):typeof I<"u"&&f(ne,{name:T,newValue:I}));return ne},cp}var hp,f_;function $P(){return f_||(f_=1,hp=function(t){var s=this,r=[];this.rawify(this.options.rawArrayExpressionElements,function(){r=t.nodes.map(function(u){return s.next(u)})});var i="["+r.join(",")+"]";return this.options.raw?i:this.options.factory+"("+i+")"}),hp}var fp,d_;function bP(){return d_||(d_=1,fp=function(t){return'scope["'+t.name+'"] = '+this.next(t.expr)}),fp}var dp,p_;function yP(){return p_||(p_=1,dp=function(t){var s="!!("+this.next(t.condition)+")",r=this.next(t.trueExpr),i=this.next(t.falseExpr);return"("+s+" ? ("+r+") : ("+i+") )"}),dp}var pp,m_;function _P(){return m_||(m_=1,pp=function(t){return this.options.raw?t.value:this.options.factory+"("+t.value+")"}),pp}var R8={exports:{}},g_;function wP(){if(g_)return R8.exports;g_=1;var t=xf().nodeTypes.SymbolNode,s=function(r){return"$$mathCodegen.functionProxy("+this.next(new t(r.name))+', "'+r.name+'")'};return R8.exports=function(r){var i=this,u=s.call(this,r),h=[];return this.rawify(this.options.rawCallExpressionElements,function(){h=r.args.map(function(f){return i.next(f)})}),u+"("+h.join(", ")+")"},R8.exports.functionProxy=s,R8.exports}var mp,v_;function TP(){return v_||(v_=1,mp={"+":"add","-":"sub","*":"mul","/":"div","^":"pow","%":"mod","!":"factorial","|":"bitwiseOR","^|":"bitwiseXOR","&":"bitwiseAND","||":"logicalOR",xor:"logicalXOR","&&":"logicalAND","<":"lessThan",">":"greaterThan","<=":"lessEqualThan",">=":"greaterEqualThan","===":"strictlyEqual","==":"equal","!==":"strictlyNotEqual","!=":"notEqual",">>":"shiftRight","<<":"shiftLeft",">>>":"unsignedRightShift"}),mp}var gp,$_;function EP(){if($_)return gp;$_=1;var t=TP();return gp=function(s){if(this.options.raw)return["("+this.next(s.args[0]),s.op,this.next(s.args[1])+")"].join(" ");var r=t[s.op];if(!r)throw TypeError("unidentified operator");return this.FunctionNode({name:r,args:s.args})},gp}var vp,b_;function SP(){return b_||(b_=1,vp=function(t){var s=t.name;return'$$mathCodegen.getProperty("'+s+'", scope, ns)'}),vp}var $p,y_;function xP(){return y_||(y_=1,$p={"+":"positive","-":"negative","~":"oneComplement"}),$p}var bp,__;function CP(){if(__)return bp;__=1;var t=xP();return bp=function(s){if(this.options.raw)return s.op+this.next(s.argument);if(!(s.op in t))throw new SyntaxError(s.op+" not implemented");var r=t[s.op];return this.FunctionNode({name:r,args:[s.argument]})},bp}var yp,w_;function MP(){if(w_)return yp;w_=1;var t=L7(),s={ArrayNode:$P(),AssignmentNode:bP(),ConditionalNode:yP(),ConstantNode:_P(),FunctionNode:wP(),OperatorNode:EP(),SymbolNode:SP(),UnaryNode:CP()},r=function(i,u){this.owner=i,this.options=t({factory:"ns.factory",raw:!1,rawArrayExpressionElements:!0,rawCallExpressionElements:!1},u)};return t(r.prototype,s),r.prototype.next=function(i){if(!(i.type in this))throw new TypeError("the node type "+i.type+" is not implemented");return this[i.type](i)},r.prototype.rawify=function(i,u){var h=this.options.raw;i&&(this.options.raw=!0),u(),i&&(this.options.raw=h)},yp=r,yp}var _p,T_;function kP(){if(T_)return _p;T_=1;var t=xf().Parser,s=MP(),r=L7();function i(u,h){this.statements=[],this.defs=h||{},this.interpreter=new s(this,u)}return i.prototype.setDefs=function(u){return this.defs=r(this.defs,u),this},i.prototype.compile=function(u){if(!u||!(typeof u=="object"||typeof u=="function"))throw TypeError("namespace must be an object");if(typeof u.factory!="function")throw TypeError("namespace.factory must be a function");this.defs.ns=u,this.defs.$$mathCodegen={getProperty:function($,T,w){if($ in T)return T[$];if($ in w)return w[$];throw SyntaxError('symbol "'+$+'" is undefined')},functionProxy:function($,T){if(typeof $!="function")throw SyntaxError('symbol "'+T+'" must be a function');return $}},this.defs.$$processScope=this.defs.$$processScope||function(){};var h=Object.keys(this.defs).map(function($){return"var "+$+' = defs["'+$+'"]'});if(!this.statements.length)throw Error("there are no statements saved in this generator, make sure you parse an expression before compiling it");this.statements[this.statements.length-1]="return "+this.statements[this.statements.length-1];var f=this.statements.join(";"),g=h.join(`
`)+`
`+["return {","  eval: function (scope) {","    scope = scope || {}","    $$processScope(scope)","    "+f,"  },","  code: '"+f+"'","}"].join(`
`),y=new Function("defs",g);return y(this.defs)},i.prototype.parse=function(u){var h=this,f=new t().parse(u);return this.statements=f.blocks.map(function(g){return h.interpreter.next(g)}),this},_p=i,_p}var wp,E_;function AP(){return E_||(E_=1,wp=kP()),wp}var Tp,S_;function NP(){return S_||(S_=1,Tp=function(){var t=Object.create(Math);return t.factory=function(s){if(typeof s!="number")throw new TypeError("built-in math factory only accepts numbers");return Number(s)},t.add=function(s,r){return s+r},t.sub=function(s,r){return s-r},t.mul=function(s,r){return s*r},t.div=function(s,r){return s/r},t.mod=function(s,r){return s%r},t.factorial=function(s){for(var r=1,i=2;i<=s;i+=1)r*=i;return r},t.nthRoot=function(s,r){var i=r<0;if(i&&(r=-r),r===0)throw new Error("Root must be non-zero");if(s<0&&Math.abs(r)%2!==1)throw new Error("Root must be odd when a is negative.");if(s===0)return 0;if(!isFinite(s))return i?0:s;var u=Math.pow(Math.abs(s),1/r);return u=s<0?-u:u,i?1/u:u},t.logicalOR=function(s,r){return s||r},t.logicalXOR=function(s,r){return s!=r},t.logicalAND=function(s,r){return s&&r},t.bitwiseOR=function(s,r){return s|r},t.bitwiseXOR=function(s,r){return s^r},t.bitwiseAND=function(s,r){return s&r},t.lessThan=function(s,r){return s<r},t.lessEqualThan=function(s,r){return s<=r},t.greaterThan=function(s,r){return s>r},t.greaterEqualThan=function(s,r){return s>=r},t.equal=function(s,r){return s==r},t.strictlyEqual=function(s,r){return s===r},t.notEqual=function(s,r){return s!=r},t.strictlyNotEqual=function(s,r){return s!==r},t.shiftRight=function(s,r){return s>>r},t.shiftLeft=function(s,r){return s<<r},t.unsignedRightShift=function(s,r){return s>>>r},t.negative=function(s){return-s},t.positive=function(s){return s},t}),Tp}var x_;function IP(){if(x_)return O8.exports;x_=1;var t=AP(),s=NP()();function r(i){Object.keys(i).forEach(function(u){var h=i[u];i[u]=s.factory(h)})}return O8.exports=function(i){return new t().setDefs({$$processScope:r}).parse(i).compile(s)},O8.exports.math=s,O8.exports}var Ep,C_;function OP(){return C_||(C_=1,Ep=IP()),Ep}var K5={exports:{}},Sp,M_;function RP(){return M_||(M_=1,Sp=function(t){var s=this,r=[];this.rawify(this.options.rawArrayExpressionElements,function(){r=t.nodes.map(function(u){return s.next(u)})});var i="["+r.join(",")+"]";return this.options.raw?i:this.options.factory+"("+i+")"}),Sp}var xp,k_;function LP(){return k_||(k_=1,xp=function(t){return'scope["'+t.name+'"] = '+this.next(t.expr)}),xp}var Cp,A_;function DP(){return A_||(A_=1,Cp=function(t){var s="!!("+this.next(t.condition)+")",r=this.next(t.trueExpr),i=this.next(t.falseExpr);return"("+s+" ? ("+r+") : ("+i+") )"}),Cp}var Mp,N_;function BP(){return N_||(N_=1,Mp=function(t){return this.options.raw?t.value:this.options.factory+"("+t.value+")"}),Mp}var L8={exports:{}},I_;function PP(){if(I_)return L8.exports;I_=1;var t=xf().nodeTypes.SymbolNode,s=function(r){return"$$mathCodegen.functionProxy("+this.next(new t(r.name))+', "'+r.name+'")'};return L8.exports=function(r){var i=this,u=s.call(this,r),h=[];return this.rawify(this.options.rawCallExpressionElements,function(){h=r.args.map(function(f){return i.next(f)})}),u+"("+h.join(", ")+")"},L8.exports.functionProxy=s,L8.exports}var kp,O_;function FP(){return O_||(O_=1,kp={"+":"add","-":"sub","*":"mul","/":"div","^":"pow","%":"mod","!":"factorial","|":"bitwiseOR","^|":"bitwiseXOR","&":"bitwiseAND","||":"logicalOR",xor:"logicalXOR","&&":"logicalAND","<":"lessThan",">":"greaterThan","<=":"lessEqualThan",">=":"greaterEqualThan","===":"strictlyEqual","==":"equal","!==":"strictlyNotEqual","!=":"notEqual",">>":"shiftRight","<<":"shiftLeft",">>>":"unsignedRightShift"}),kp}var Ap,R_;function UP(){if(R_)return Ap;R_=1;var t=FP();return Ap=function(s){if(this.options.raw)return["("+this.next(s.args[0]),s.op,this.next(s.args[1])+")"].join(" ");var r=t[s.op];if(!r)throw TypeError("unidentified operator");return this.FunctionNode({name:r,args:s.args})},Ap}var Np,L_;function zP(){return L_||(L_=1,Np=function(t){var s=t.name;return'$$mathCodegen.getProperty("'+s+'", scope, ns)'}),Np}var Ip,D_;function HP(){return D_||(D_=1,Ip={"+":"positive","-":"negative","~":"oneComplement"}),Ip}var Op,B_;function VP(){if(B_)return Op;B_=1;var t=HP();return Op=function(s){if(this.options.raw)return s.op+this.next(s.argument);if(!(s.op in t))throw new SyntaxError(s.op+" not implemented");var r=t[s.op];return this.FunctionNode({name:r,args:[s.argument]})},Op}var Rp,P_;function GP(){if(P_)return Rp;P_=1;var t=L7(),s={ArrayNode:RP(),AssignmentNode:LP(),ConditionalNode:DP(),ConstantNode:BP(),FunctionNode:PP(),OperatorNode:UP(),SymbolNode:zP(),UnaryNode:VP()},r=function(i,u){this.owner=i,this.options=t({factory:"ns.factory",raw:!1,rawArrayExpressionElements:!0,rawCallExpressionElements:!1,applyFactoryToScope:!1},u)};return t(r.prototype,s),r.prototype.next=function(i){if(!(i.type in this))throw new TypeError("the node type "+i.type+" is not implemented");return this[i.type](i)},r.prototype.rawify=function(i,u){var h=this.options.raw;i&&(this.options.raw=!0),u(),i&&(this.options.raw=h)},Rp=r,Rp}var Lp,F_;function qP(){if(F_)return Lp;F_=1;var t=xf().Parser,s=GP(),r=L7();function i(u,h){this.statements=[],this.defs=h||{},this.interpreter=new s(this,u)}return i.prototype.setDefs=function(u){return this.defs=r(this.defs,u),this},i.prototype.compile=function(u){var h=this;if(!u||!(typeof u=="object"||typeof u=="function"))throw TypeError("namespace must be an object");if(typeof u.factory!="function")throw TypeError("namespace.factory must be a function");this.defs.ns=u,this.defs.$$mathCodegen={getProperty:function(T,w,I){function A(K){return h.interpreter.options.applyFactoryToScope&&typeof K!="function"?I.factory(K):K}if(T in w)return A(w[T]);if(T in I)return A(I[T]);throw SyntaxError('symbol "'+T+'" is undefined')},functionProxy:function(T,w){if(typeof T!="function")throw SyntaxError('symbol "'+w+'" must be a function');return T}},this.defs.$$processScope=this.defs.$$processScope||function(){};var f=Object.keys(this.defs).map(function(T){return"var "+T+' = defs["'+T+'"]'});if(!this.statements.length)throw Error("there are no statements saved in this generator, make sure you parse an expression before compiling it");this.statements[this.statements.length-1]="return "+this.statements[this.statements.length-1];var g=this.statements.join(";"),y=f.join(`
`)+`
`+["return {","  eval: function (scope) {","    scope = scope || {}","    $$processScope(scope)","    "+g,"  },","  code: '"+g+"'","}"].join(`
`),$=new Function("defs",y);return $(this.defs)},i.prototype.parse=function(u){var h=this,f=new t().parse(u);return this.statements=f.blocks.map(function(g){return h.interpreter.next(g)}),this},Lp=i,Lp}var Dp,U_;function WP(){return U_||(U_=1,Dp=qP()),Dp}function z9(t){return typeof t=="object"&&typeof t.lo=="number"&&typeof t.hi=="number"}function ni(t){return t.lo>t.hi}function Cf(t){return t.lo===-1/0&&t.hi===1/0}function m6(t){return t.lo===t.hi}function y6(t){return ev(t,0)}function ev(t,s){return ni(t)?!1:t.lo<=s&&s<=t.hi}function Sx(t,s){return ni(t)?!0:!ni(s)&&s.lo<=t.lo&&t.hi<=s.hi}function Mf(t,s){return ni(t)||ni(s)?!1:t.lo<=s.lo&&s.lo<=t.hi||s.lo<=t.lo&&t.lo<=s.hi}const jP=Object.freeze(Object.defineProperty({__proto__:null,hasInterval:Sx,hasValue:ev,intervalsOverlap:Mf,isEmpty:ni,isInterval:z9,isSingleton:m6,isWhole:Cf,zeroIn:y6},Symbol.toStringTag,{value:"Module"}));var f9={exports:{}};f9.exports;var z_;function XP(){return z_||(z_=1,(function(t){var s=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),i=new Uint32Array(r.buffer);if(r[0]=1,s=!0,i[1]===1072693248){let K=function(V,le){return i[0]=V,i[1]=le,r[0]},ne=function(V){return r[0]=V,i[0]},he=function(V){return r[0]=V,i[1]};var h=K,f=ne,g=he;t.exports=function(le){return r[0]=le,[i[0],i[1]]},t.exports.pack=K,t.exports.lo=ne,t.exports.hi=he}else if(i[0]===1072693248){let K=function(V,le){return i[1]=V,i[0]=le,r[0]},ne=function(V){return r[0]=V,i[1]},he=function(V){return r[0]=V,i[0]};var y=K,$=ne,T=he;t.exports=function(le){return r[0]=le,[i[1],i[0]]},t.exports.pack=K,t.exports.lo=ne,t.exports.hi=he}else s=!1}if(!s){let K=function(V,le){return u.writeUInt32LE(V,0,!0),u.writeUInt32LE(le,4,!0),u.readDoubleLE(0,!0)},ne=function(V){return u.writeDoubleLE(V,0,!0),u.readUInt32LE(0,!0)},he=function(V){return u.writeDoubleLE(V,0,!0),u.readUInt32LE(4,!0)};var w=K,I=ne,A=he,u=new Buffer(8);t.exports=function(le){return u.writeDoubleLE(le,0,!0),[u.readUInt32LE(0,!0),u.readUInt32LE(4,!0)]},t.exports.pack=K,t.exports.lo=ne,t.exports.hi=he}t.exports.sign=function(K){return t.exports.hi(K)>>>31},t.exports.exponent=function(K){var ne=t.exports.hi(K);return(ne<<1>>>21)-1023},t.exports.fraction=function(K){var ne=t.exports.lo(K),he=t.exports.hi(K),V=he&(1<<20)-1;return he&2146435072&&(V+=1<<20),[ne,V]},t.exports.denormalized=function(K){var ne=t.exports.hi(K);return!(ne&2146435072)}})(f9)),f9.exports}var Bp,H_;function YP(){if(H_)return Bp;H_=1;var t=XP(),s=Math.pow(2,-1074),r=-1>>>0;Bp=i;function i(u,h){if(isNaN(u)||isNaN(h))return NaN;if(u===h)return u;if(u===0)return h<0?-s:s;var f=t.hi(u),g=t.lo(u);return h>u==u>0?g===r?(f+=1,g=0):g+=1:g===0?(g=r,f-=1):g-=1,t.pack(g,f)}return Bp}var KP=YP();const xx=Pl(KP);function JP(t){return t}function zm(t){return t===1/0?t:xx(t,-1/0)}function Hm(t){return t===-1/0?t:xx(t,1/0)}function V_(t){return t<0?Math.ceil(t):Math.floor(t)}const H3={prev:zm,next:Hm},Xn={safePrev:zm,safeNext:Hm,prev(t){return H3.prev(t)},next(t){return H3.next(t)},addLo(t,s){return Xn.prev(t+s)},addHi(t,s){return Xn.next(t+s)},subLo(t,s){return Xn.prev(t-s)},subHi(t,s){return Xn.next(t-s)},mulLo(t,s){return Xn.prev(t*s)},mulHi(t,s){return Xn.next(t*s)},divLo(t,s){return Xn.prev(t/s)},divHi(t,s){return Xn.next(t/s)},intLo(t){return V_(Xn.prev(t))},intHi(t){return V_(Xn.next(t))},logLo(t){return Xn.prev(Math.log(t))},logHi(t){return Xn.next(Math.log(t))},expLo(t){return Xn.prev(Math.exp(t))},expHi(t){return Xn.next(Math.exp(t))},sinLo(t){return Xn.prev(Math.sin(t))},sinHi(t){return Xn.next(Math.sin(t))},cosLo(t){return Xn.prev(Math.cos(t))},cosHi(t){return Xn.next(Math.cos(t))},tanLo(t){return Xn.prev(Math.tan(t))},tanHi(t){return Xn.next(Math.tan(t))},asinLo(t){return Xn.prev(Math.asin(t))},asinHi(t){return Xn.next(Math.asin(t))},acosLo(t){return Xn.prev(Math.acos(t))},acosHi(t){return Xn.next(Math.acos(t))},atanLo(t){return Xn.prev(Math.atan(t))},atanHi(t){return Xn.next(Math.atan(t))},sinhLo(t){return Xn.prev(Math.sinh(t))},sinhHi(t){return Xn.next(Math.sinh(t))},coshLo(t){return Xn.prev(Math.cosh(t))},coshHi(t){return Xn.next(Math.cosh(t))},tanhLo(t){return Xn.prev(Math.tanh(t))},tanhHi(t){return Xn.next(Math.tanh(t))},powLo(t,s){if(s%1!==0)return Xn.prev(Math.pow(t,s));let r=(s&1)===1?t:1;for(s>>=1;s>0;)t=Xn.mulLo(t,t),(s&1)===1&&(r=Xn.mulLo(t,r)),s>>=1;return r},powHi(t,s){if(s%1!==0)return Xn.next(Math.pow(t,s));let r=(s&1)===1?t:1;for(s>>=1;s>0;)t=Xn.mulHi(t,t),(s&1)===1&&(r=Xn.mulHi(t,r)),s>>=1;return r},sqrtLo(t){return Xn.prev(Math.sqrt(t))},sqrtHi(t){return Xn.next(Math.sqrt(t))},disable(){H3.next=H3.prev=JP},enable(){H3.next=Hm,H3.prev=zm}};class y7{constructor(s,r){if(this.lo=0,this.hi=0,!(this instanceof y7))return console.log("calling with new"),console.log(s,r),new y7(s,r);if(typeof s<"u"&&typeof r<"u"){if(z9(s)){if(!m6(s))throw new TypeError("Interval: interval `lo` must be a singleton");s=s.lo}if(z9(r)){if(!m6(r))throw TypeError("Interval: interval `hi` must be a singleton");r=r.hi}}else{if(typeof s<"u")return Array.isArray(s)?new qr(s[0],s[1]):new qr(s,s);s=r=0}this.assign(s,r)}singleton(s){return this.set(s,s)}bounded(s,r){return this.set(Xn.prev(s),Xn.next(r))}boundedSingleton(s){return this.bounded(s,s)}set(s,r){return this.lo=s,this.hi=r,this}assign(s,r){if(typeof s!="number"||typeof r!="number")throw TypeError("Interval#assign: arguments must be numbers");return isNaN(s)||isNaN(r)||s>r?this.setEmpty():this.set(s,r)}setEmpty(){return this.set(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)}setWhole(){return this.set(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)}open(s,r){return this.assign(Xn.safeNext(s),Xn.safePrev(r))}halfOpenLeft(s,r){return this.assign(Xn.safeNext(s),r)}halfOpenRight(s,r){return this.assign(s,Xn.safePrev(r))}toArray(){return[this.lo,this.hi]}clone(){return new qr().set(this.lo,this.hi)}}function ZP(t){function s(){for(var r=arguments.length,i=Array(r),u=0;u<r;u++)i[u]=arguments[u];return new(Function.prototype.bind.apply(t,[null].concat(i)))}return s.prototype=t.prototype,s}const qr=ZP(y7);qr.factory=qr;const D8=(3373259426+273688/(1<<21))/(1<<30),B8=(3373259426+273689/(1<<21))/(1<<30),Yr={PI_LOW:D8,PI_HIGH:B8,PI_HALF_LOW:D8/2,PI_HALF_HIGH:B8/2,PI_TWICE_LOW:D8*2,PI_TWICE_HIGH:B8*2,get E(){return new qr(Xn.prev(Math.E),Xn.next(Math.E))},get PI(){return new qr(D8,B8)},get PI_HALF(){return new qr(Yr.PI_HALF_LOW,Yr.PI_HALF_HIGH)},get PI_TWICE(){return new qr(Yr.PI_TWICE_LOW,Yr.PI_TWICE_HIGH)},get ZERO(){return new qr(0)},get ONE(){return new qr(1)},get WHOLE(){return new qr().setWhole()},get EMPTY(){return new qr().setEmpty()}};function Cx(t,s){return ni(t)?ni(s):!ni(s)&&t.lo===s.lo&&t.hi===s.hi}const QP=1e-7;function H9(t,s){if(!t)throw new Error(s||"assertion failed")}function G_(t,s){if(!isFinite(t))return H9(t===s,`[Infinity] expected ${t} to be ${s}`);H9(Math.abs(t-s)<QP,`expected ${t} to be close to ${s}`)}function tv(t,s){t=Array.isArray(t)?t:t.toArray(),s=Array.isArray(s)?s:s.toArray(),G_(t[0],s[0]),G_(t[1],s[1])}function Mx(t,s){tv(t,s),t=Array.isArray(t)?t:t.toArray(),s=Array.isArray(s)?s:s.toArray(),H9(t[0]<=s[0],`${t[0]} should be less/equal than ${s[0]}`),H9(s[1]<=t[1],`${s[1]} should be less/equal than ${t[1]}`)}function kx(t,s){return ni(t)?!ni(s):ni(s)||t.hi<s.lo||t.lo>s.hi}function nv(t,s){return ni(t)||ni(s)?!1:t.hi<s.lo}const Ax=nv;function rv(t,s){return ni(t)||ni(s)?!1:t.lo>s.hi}const Nx=rv;function iv(t,s){return ni(t)||ni(s)?!1:t.hi<=s.lo}const Ix=iv;function sv(t,s){return ni(t)||ni(s)?!1:t.lo>=s.hi}const Ox=sv,eF=Object.freeze(Object.defineProperty({__proto__:null,almostEqual:tv,assertIncludes:Mx,equal:Cx,geq:Ox,greaterEqualThan:sv,greaterThan:rv,gt:Nx,leq:Ix,lessEqualThan:iv,lessThan:nv,lt:Ax,notEqual:kx},Symbol.toStringTag,{value:"Module"}));function tF(t,s){const r=t.lo,i=t.hi,u=s.lo,h=s.hi,f=new qr;return i<0?h<0?(f.lo=Xn.divLo(i,u),f.hi=Xn.divHi(r,h)):(f.lo=Xn.divLo(r,u),f.hi=Xn.divHi(i,h)):r<0?h<0?(f.lo=Xn.divLo(i,h),f.hi=Xn.divHi(r,h)):(f.lo=Xn.divLo(r,u),f.hi=Xn.divHi(i,u)):h<0?(f.lo=Xn.divLo(i,h),f.hi=Xn.divHi(r,u)):(f.lo=Xn.divLo(r,h),f.hi=Xn.divHi(i,u)),f}function nF(t,s){return t.lo===0&&t.hi===0?t:y6(t)?Yr.WHOLE:t.hi<0?new qr(Number.NEGATIVE_INFINITY,Xn.divHi(t.hi,s)):new qr(Xn.divLo(t.lo,s),Number.POSITIVE_INFINITY)}function rF(t,s){return t.lo===0&&t.hi===0?t:y6(t)?Yr.WHOLE:t.hi<0?new qr(Xn.divLo(t.hi,s),Number.POSITIVE_INFINITY):new qr(Number.NEGATIVE_INFINITY,Xn.divHi(t.lo,s))}function iF(t){return t.lo===0&&t.hi===0?t:Yr.WHOLE}function Rx(t,s){return new qr(Xn.addLo(t.lo,s.lo),Xn.addHi(t.hi,s.hi))}function ov(t,s){return new qr(Xn.subLo(t.lo,s.hi),Xn.subHi(t.hi,s.lo))}const _6=ov;function lv(t,s){if(ni(t)||ni(s))return Yr.EMPTY;const r=t.lo,i=t.hi,u=s.lo,h=s.hi,f=new qr;return r<0?i>0?u<0?h>0?(f.lo=Math.min(Xn.mulLo(r,h),Xn.mulLo(i,u)),f.hi=Math.max(Xn.mulHi(r,u),Xn.mulHi(i,h))):(f.lo=Xn.mulLo(i,u),f.hi=Xn.mulHi(r,u)):h>0?(f.lo=Xn.mulLo(r,h),f.hi=Xn.mulHi(i,h)):(f.lo=0,f.hi=0):u<0?h>0?(f.lo=Xn.mulLo(r,h),f.hi=Xn.mulHi(r,u)):(f.lo=Xn.mulLo(i,h),f.hi=Xn.mulHi(r,u)):h>0?(f.lo=Xn.mulLo(r,h),f.hi=Xn.mulHi(i,u)):(f.lo=0,f.hi=0):i>0?u<0?h>0?(f.lo=Xn.mulLo(i,u),f.hi=Xn.mulHi(i,h)):(f.lo=Xn.mulLo(i,u),f.hi=Xn.mulHi(r,h)):h>0?(f.lo=Xn.mulLo(r,u),f.hi=Xn.mulHi(i,h)):(f.lo=0,f.hi=0):(f.lo=0,f.hi=0),f}const av=lv;function uv(t,s){return ni(t)||ni(s)?Yr.EMPTY:y6(s)?s.lo!==0?s.hi!==0?iF(t):rF(t,s.lo):s.hi!==0?nF(t,s.hi):Yr.EMPTY:tF(t,s)}const kf=uv;function Lx(t){return new qr(t.lo,t.hi)}function Af(t){return new qr(-t.hi,-t.lo)}const sF=Object.freeze(Object.defineProperty({__proto__:null,add:Rx,div:kf,divide:uv,mul:av,multiply:lv,negative:Af,positive:Lx,sub:_6,subtract:ov},Symbol.toStringTag,{value:"Module"}));function Nf(t,s){if(ni(t)||ni(s))return Yr.EMPTY;const r=t.lo<0?s.lo:s.hi;let i=t.lo/r;return i<0?i=Math.ceil(i):i=Math.floor(i),_6(t,av(s,new qr(i)))}function cv(t){return ni(t)?Yr.EMPTY:y6(t)?t.lo!==0?t.hi!==0?Yr.WHOLE:new qr(Number.NEGATIVE_INFINITY,Xn.divHi(1,t.lo)):t.hi!==0?new qr(Xn.divLo(1,t.hi),Number.POSITIVE_INFINITY):Yr.EMPTY:new qr(Xn.divLo(1,t.hi),Xn.divHi(1,t.lo))}function hv(t,s){if(ni(t))return Yr.EMPTY;if(typeof s=="object"){if(!m6(s))return Yr.EMPTY;s=s.lo}if(s===0)return t.lo===0&&t.hi===0?Yr.EMPTY:Yr.ONE;if(s<0)return hv(cv(t),-s);if(Number.isSafeInteger(s))if(t.hi<0){const r=Xn.powLo(-t.hi,s),i=Xn.powHi(-t.lo,s);return(s&1)===1?new qr(-i,-r):new qr(r,i)}else return t.lo<0?(s&1)===1?new qr(-Xn.powLo(-t.lo,s),Xn.powHi(t.hi,s)):new qr(0,Xn.powHi(Math.max(-t.lo,t.hi),s)):new qr(Xn.powLo(t.lo,s),Xn.powHi(t.hi,s));else return console.warn("power is not an integer, you should use nth-root instead, returning an empty interval"),Yr.EMPTY}function Dx(t){return fv(t,2)}function fv(t,s){if(ni(t)||s<0)return Yr.EMPTY;if(typeof s=="object"){if(!m6(s))return Yr.EMPTY;s=s.lo}const r=1/s;if(t.hi<0){if(Number.isSafeInteger(s)&&(s&1)===1){const i=Xn.powHi(-t.lo,r),u=Xn.powLo(-t.hi,r);return new qr(-i,-u)}return Yr.EMPTY}else if(t.lo<0){const i=Xn.powHi(t.hi,r);if(Number.isSafeInteger(s)&&(s&1)===1){const u=-Xn.powHi(-t.lo,r);return new qr(u,i)}return new qr(0,i)}else return new qr(Xn.powLo(t.lo,r),Xn.powHi(t.hi,r))}const oF=Object.freeze(Object.defineProperty({__proto__:null,fmod:Nf,multiplicativeInverse:cv,nthRoot:fv,pow:hv,sqrt:Dx},Symbol.toStringTag,{value:"Module"}));function Bx(t){return ni(t)?Yr.EMPTY:new qr(Xn.expLo(t.lo),Xn.expHi(t.hi))}function g4(t){if(ni(t))return Yr.EMPTY;const s=t.lo<=0?Number.NEGATIVE_INFINITY:Xn.logLo(t.lo);return new qr(s,Xn.logHi(t.hi))}const Px=g4,dv=g4(new qr(10,10));function Fx(t){return ni(t)?Yr.EMPTY:kf(g4(t),dv)}const pv=g4(new qr(2,2));function Ux(t){return ni(t)?Yr.EMPTY:kf(g4(t),pv)}function zx(t,s){const r=ni(t),i=ni(s);return r&&i?Yr.EMPTY:r?s.clone():i?t.clone():new qr(Math.min(t.lo,s.lo),Math.max(t.hi,s.hi))}function Hx(t,s){if(ni(t)||ni(s))return Yr.EMPTY;const r=Math.max(t.lo,s.lo),i=Math.min(t.hi,s.hi);return r<=i?new qr(r,i):Yr.EMPTY}function Vx(t,s){if(!Mf(t,s))throw Error("Interval#union: intervals do not overlap");return new qr(Math.min(t.lo,s.lo),Math.max(t.hi,s.hi))}function Gx(t,s){if(ni(t)||Cf(s))return Yr.EMPTY;if(Mf(t,s)){if(t.lo<s.lo&&s.hi<t.hi)throw Error("Interval.difference: difference creates multiple intervals");return s.lo<=t.lo&&s.hi===1/0||s.hi>=t.hi&&s.lo===-1/0?Yr.EMPTY:s.lo<=t.lo?new qr().halfOpenLeft(s.hi,t.hi):new qr().halfOpenRight(t.lo,s.lo)}return t.clone()}function If(t){return ni(t)?0:Xn.subHi(t.hi,t.lo)}const qx=If;function Wx(t){return ni(t)||Cf(t)?Yr.EMPTY:t.lo>=0?t.clone():t.hi<=0?Af(t):new qr(0,Math.max(-t.lo,t.hi))}function jx(t,s){const r=ni(t),i=ni(s);return r&&i?Yr.EMPTY:r?s.clone():i?t.clone():new qr(Math.max(t.lo,s.lo),Math.max(t.hi,s.hi))}function Xx(t,s){const r=ni(t),i=ni(s);return r&&i?Yr.EMPTY:r?s.clone():i?t.clone():new qr(Math.min(t.lo,s.lo),Math.min(t.hi,s.hi))}function Yx(t){return new qr().set(t.lo,t.hi)}const lF=Object.freeze(Object.defineProperty({__proto__:null,LOG_EXP_10:dv,LOG_EXP_2:pv,abs:Wx,clone:Yx,difference:Gx,exp:Bx,hull:zx,intersection:Hx,ln:Px,log:g4,log10:Fx,log2:Ux,max:jx,min:Xx,union:Vx,wid:qx,width:If},Symbol.toStringTag,{value:"Module"}));function mv(t){return!isFinite(t.lo)&&t.lo===t.hi}function Kx(t){if(t.lo<0)if(t.lo===-1/0)t.lo=0,t.hi=1/0;else{const s=Math.ceil(-t.lo/Yr.PI_TWICE_LOW);t.lo+=Yr.PI_TWICE_LOW*s,t.hi+=Yr.PI_TWICE_LOW*s}return t}function Of(t){if(ni(t)||mv(t))return Yr.EMPTY;const s=new qr().set(t.lo,t.hi);Kx(s);const r=Yr.PI_TWICE,i=Nf(s,r);if(If(i)>=r.lo)return new qr(-1,1);if(i.lo>=Yr.PI_HIGH){const y=Of(_6(i,Yr.PI));return Af(y)}const u=i.lo,h=i.hi,f=Xn.cosLo(h),g=Xn.cosHi(u);return h<=Yr.PI_LOW?new qr(f,g):h<=r.lo?new qr(-1,Math.max(f,g)):new qr(-1,1)}function Jx(t){return ni(t)||mv(t)?Yr.EMPTY:Of(_6(t,Yr.PI_HALF))}function Zx(t){if(ni(t)||mv(t))return Yr.EMPTY;const s=new qr().set(t.lo,t.hi);Kx(s);const r=Yr.PI;let i=Nf(s,r);return i.lo>=Yr.PI_HALF_LOW&&(i=_6(i,r)),i.lo<=-Yr.PI_HALF_LOW||i.hi>=Yr.PI_HALF_LOW?Yr.WHOLE:new qr(Xn.tanLo(i.lo),Xn.tanHi(i.hi))}function Qx(t){if(ni(t)||t.hi<-1||t.lo>1)return Yr.EMPTY;const s=t.lo<=-1?-Yr.PI_HALF_HIGH:Xn.asinLo(t.lo),r=t.hi>=1?Yr.PI_HALF_HIGH:Xn.asinHi(t.hi);return new qr(s,r)}function eC(t){if(ni(t)||t.hi<-1||t.lo>1)return Yr.EMPTY;const s=t.hi>=1?0:Xn.acosLo(t.hi),r=t.lo<=-1?Yr.PI_HIGH:Xn.acosHi(t.lo);return new qr(s,r)}function tC(t){return ni(t)?Yr.EMPTY:new qr(Xn.atanLo(t.lo),Xn.atanHi(t.hi))}function nC(t){return ni(t)?Yr.EMPTY:new qr(Xn.sinhLo(t.lo),Xn.sinhHi(t.hi))}function rC(t){return ni(t)?Yr.EMPTY:t.hi<0?new qr(Xn.coshLo(t.hi),Xn.coshHi(t.lo)):t.lo>=0?new qr(Xn.coshLo(t.lo),Xn.coshHi(t.hi)):new qr(1,Xn.coshHi(-t.lo>t.hi?t.lo:t.hi))}function iC(t){return ni(t)?Yr.EMPTY:new qr(Xn.tanhLo(t.lo),Xn.tanhHi(t.hi))}const aF=Object.freeze(Object.defineProperty({__proto__:null,acos:eC,asin:Qx,atan:tC,cos:Of,cosh:rC,sin:Jx,sinh:nC,tan:Zx,tanh:iC},Symbol.toStringTag,{value:"Module"})),uF=Object.assign(qr,Yr,Xn,lF,jP,eF,sF,oF,aF,{round:Xn}),cF=Object.freeze(Object.defineProperty({__proto__:null,Interval:y7,LOG_EXP_10:dv,LOG_EXP_2:pv,abs:Wx,acos:eC,add:Rx,almostEqual:tv,asin:Qx,assertIncludes:Mx,atan:tC,clone:Yx,constants:Yr,cos:Of,cosh:rC,default:uF,difference:Gx,div:kf,divide:uv,equal:Cx,exp:Bx,fmod:Nf,geq:Ox,greaterEqualThan:sv,greaterThan:rv,gt:Nx,hasInterval:Sx,hasValue:ev,hull:zx,intersection:Hx,intervalsOverlap:Mf,isEmpty:ni,isInterval:z9,isSingleton:m6,isWhole:Cf,leq:Ix,lessEqualThan:iv,lessThan:nv,ln:Px,log:g4,log10:Fx,log2:Ux,lt:Ax,max:jx,min:Xx,mul:av,multiplicativeInverse:cv,multiply:lv,negative:Af,notEqual:kx,nthRoot:fv,positive:Lx,pow:hv,round:Xn,sin:Jx,sinh:nC,sqrt:Dx,sub:_6,subtract:ov,tan:Zx,tanh:iC,union:Vx,wid:qx,width:If,zeroIn:y6},Symbol.toStringTag,{value:"Module"})),hF=H1(cF);var Pp,q_;function fF(){return q_||(q_=1,Pp=function(t){t.mod=t.fmod,t.lessThan=t.lt,t.lessEqualThan=t.leq,t.greaterThan=t.gt,t.greaterEqualThan=t.geq,t.strictlyEqual=t.equal,t.strictlyNotEqual=t.notEqual,t.logicalAND=function(s,r){return s&&r},t.logicalXOR=function(s,r){return s^r},t.logicalOR=function(s,r){return s||r}}),Pp}var Fp,W_;function dF(){return W_||(W_=1,Fp=function(t){return{disableRounding:function(){t.round.disable()},enableRounding:function(){t.round.enable()}}}),Fp}var j_;function pF(){if(j_)return K5.exports;j_=1;const t=WP(),s=hF.default;fF()(s);function r(i){Object.keys(i).forEach(function(u){const h=i[u];typeof h=="number"||Array.isArray(h)?i[u]=s.factory(h):typeof h=="object"&&"lo"in h&&"hi"in h&&(i[u]=s.factory(h.lo,h.hi))})}return K5.exports=function(i){return new t().setDefs({$$processScope:r}).parse(i).compile(s)},K5.exports.policies=dF()(s),K5.exports.Interval=s,K5.exports}var Up,X_;function sC(){return X_||(X_=1,Up=pF()),Up}var Y_;function h4(){if(Y_)return E1;Y_=1;var t=E1&&E1.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(E1,"__esModule",{value:!0}),E1.interval=E1.builtIn=void 0;const s=t(OP()),i={interval:t(sC()).default,builtIn:s.default};function u(){return typeof u7=="object"&&"math"in u7?u7.math:typeof window=="object"&&"math"in window?window.math:null}const h=u();h&&(i.builtIn=h.compile);function f($){function T(K){if(typeof K=="string"){const ne=i[$](K);return h&&$==="builtIn"?{eval:ne.evaluate||ne.eval}:ne}else{if(typeof K=="function")return{eval:K};throw Error("expression must be a string or a function")}}function w(K,ne){const he=K[ne],V=$+"_Expression_"+ne,le=$+"_Compiled_"+ne;he!==K[V]&&(K[V]=he,K[le]=T(he))}function I(K,ne){return K[$+"_Compiled_"+ne]}function A(K,ne,he){return w(K,ne),I(K,ne).eval(Object.assign({},K.scope||{},he))}return A}const g=f("builtIn");E1.builtIn=g;const y=f("interval");return E1.interval=y,E1}var K_;function mF(){if(K_)return F3;K_=1;var t=F3&&F3.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(F3,"__esModule",{value:!0});const s=lf,r=Ac,i=t(G1()),u=t(R7()),h=h4();function f(g){g=Object.assign({xLine:!1,yLine:!1,renderer:function(K,ne){return"("+K.toFixed(3)+", "+ne.toFixed(3)+")"},owner:null},g);const y=20,$=(0,s.line)().x(function(K){return K[0]}).y(function(K){return K[1]});function T(K,ne){return K.append("path").datum(ne).attr("stroke","grey").attr("stroke-dasharray","5,5").attr("opacity",.5).attr("d",$)}let w,I;function A(K){const ne=K.selectAll("g.tip").data(function(V){return[V]}),he=ne.enter().append("g").attr("class","tip").attr("clip-path","url(#function-plot-clip-"+g.owner.id+")");w=ne.merge(he).selectAll("g.inner-tip").data(function(V){return[V]}),I=w.enter().append("g").attr("class","inner-tip").style("display","none").each(function(){const V=(0,r.select)(this);T(V,[[0,-g.owner.meta.height-y],[0,g.owner.meta.height+y]]).attr("class","tip-x-line").style("display","none"),T(V,[[-g.owner.meta.width-y,0],[g.owner.meta.width+y,0]]).attr("class","tip-y-line").style("display","none"),V.append("circle").attr("r",3),V.append("text").attr("transform","translate(5,-5)")}),w.merge(I).selectAll(".tip-x-line").style("display",g.xLine?null:"none"),w.merge(I).selectAll(".tip-y-line").style("display",g.yLine?null:"none")}return A.move=function(K){let ne,he=1/0,V=-1,le,te;const Ce=w.merge(I),Oe=g.owner.meta,ce=Ce.datum().data,Be=Oe.xScale,je=Oe.yScale,_e=Oe.width,b=Oe.height,O=K.x,N=K.y;for(ne=0;ne<ce.length;ne+=1){if(ce[ne].skipTip||ce[ne].fnType!=="linear")continue;const R=ce[ne].range||[-i.default.infinity(),i.default.infinity()];let B;if(O>R[0]-u.default.TIP_X_EPS&&O<R[1]+u.default.TIP_X_EPS){try{B=(0,h.builtIn)(ce[ne],"fn",{x:O})}catch{}if(i.default.isValidNumber(B)){const j=Math.abs(B-N);j<he&&(he=j,V=ne)}}}if(V!==-1){le=O,ce[V].range&&(le=Math.max(le,ce[V].range[0]),le=Math.min(le,ce[V].range[1])),te=(0,h.builtIn)(ce[V],"fn",{x:le}),A.show(),g.owner.emit("tip:update",{x:le,y:te,index:V});const R=i.default.clamp(le,Be.invert(-y),Be.invert(_e+y)),B=i.default.clamp(te,je.invert(b+y),je.invert(-y)),j=i.default.color(ce[V],V);Ce.style("color","red"),Ce.attr("transform","translate("+Be(R)+","+je(B)+")"),Ce.select("circle").attr("fill",j),Ce.select("text").attr("fill",j).text(g.renderer(le,te,V))}else A.hide()},A.show=function(){w.merge(I).style("display",null)},A.hide=function(){w.merge(I).style("display","none")},Object.keys(g).forEach(function(K){i.default.getterSetter.call(A,g,K)}),A}return F3.default=f,F3}var V3={},G3={},ca={},q3={},W3={},Ya={},J_;function gF(){if(J_)return Ya;J_=1;var t=Ya&&Ya.__createBinding||(Object.create?(function(A,K,ne,he){he===void 0&&(he=ne);var V=Object.getOwnPropertyDescriptor(K,ne);(!V||("get"in V?!K.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return K[ne]}}),Object.defineProperty(A,he,V)}):(function(A,K,ne,he){he===void 0&&(he=ne),A[he]=K[ne]})),s=Ya&&Ya.__setModuleDefault||(Object.create?(function(A,K){Object.defineProperty(A,"default",{enumerable:!0,value:K})}):function(A,K){A.default=K}),r=Ya&&Ya.__importStar||function(A){if(A&&A.__esModule)return A;var K={};if(A!=null)for(var ne in A)ne!=="default"&&Object.prototype.hasOwnProperty.call(A,ne)&&t(K,A,ne);return s(K,A),K},i=Ya&&Ya.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(Ya,"__esModule",{value:!0});const u=r(sC()),h=h4(),f=i(G1());u.default.policies.disableRounding();function g(A){const K=f.default.space(A.xAxis,A.range,A.nSamples),ne=A.xScale,he=A.yScale,V=he.domain()[0],le=he.domain()[1],te=[];let Ce;for(Ce=0;Ce<K.length-1;Ce+=1){const Oe={lo:K[Ce],hi:K[Ce+1]},ce=(0,h.interval)(A.d,"fn",{x:Oe});!u.Interval.isEmpty(ce)&&!u.Interval.isWhole(ce)&&te.push([Oe,ce]),u.Interval.isWhole(ce)&&te.push(null)}for(Ce=1;Ce<te.length-1;Ce+=1)if(!te[Ce]){const Oe=te[Ce-1],ce=te[Ce+1];Oe&&ce&&!u.Interval.intervalsOverlap(Oe[1],ce[1])&&(Oe[1].lo>ce[1].hi&&(Oe[1].hi=Math.max(le,Oe[1].hi),ce[1].lo=Math.min(V,ce[1].lo)),Oe[1].hi<ce[1].lo&&(Oe[1].lo=Math.min(V,Oe[1].lo),ce[1].hi=Math.max(le,ce[1].hi)))}return te.scaledDx=ne(K[1])-ne(K[0]),[te]}let y;function $(A,K){return u.Interval.width(A)<y}function T(A,K,ne){const he=(0,h.interval)(ne,"fn",{x:A,y:K});if(!u.Interval.zeroIn(he))return this;if($(A))return this.push([A,K]),this;const le=A.lo+(A.hi-A.lo)/2,te=K.lo+(K.hi-K.lo)/2,Ce={lo:le,hi:A.hi},Oe={lo:A.lo,hi:le},ce={lo:te,hi:K.hi},Be={lo:K.lo,hi:te};T.call(this,Ce,ce,ne),T.call(this,Ce,Be,ne),T.call(this,Oe,ce,ne),T.call(this,Oe,Be,ne)}function w(A){const K=A.xScale,ne=A.xScale.domain(),he=A.yScale.domain(),V={lo:ne[0],hi:ne[1]},le={lo:he[0],hi:he[1]},te=[];return y=K.invert(1)-K.invert(0),T.call(te,V,le,A.d),te.scaledDx=1,[te]}const I=function(K){const ne={implicit:w,linear:g};if(!Object.hasOwn(ne,K.d.fnType))throw Error(K.d.fnType+" is not supported in the `interval` sampler");return ne[K.d.fnType].apply(null,arguments)};return Ya.default=I,Ya}var j3={},Z_;function vF(){if(Z_)return j3;Z_=1;var t=j3&&j3.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(j3,"__esModule",{value:!0});const s=t(G1()),r=h4();function i(w,I,A,K,ne){if(!ne)return{asymptote:!0,d0:w,d1:I};const he=10,V=w[0],le=I[0],te=s.default.linspace(V,le,he);let Ce,Oe;for(let ce=0;ce<he;ce+=1){const Be=te[ce],je=(0,r.builtIn)(A,"fn",{x:Be});if(Ce){const _e=je-Ce;if(s.default.sgn(_e)===K)return i([Oe,Ce],[Be,je],A,K,ne-1)}Ce=je,Oe=Be}return{asymptote:!1,d0:w,d1:I}}function u(w,I,A){let K;const ne=[],he=A.domain()[0]-s.default.infinity(),V=A.domain()[1]+s.default.infinity();let le=[I[0]],te=1,Ce=s.default.infinity();for(;te<I.length;){const Oe=I[te-1][1],Be=I[te][1]-Oe,je=s.default.sgn(Be);if(le.length>=2&&K!==je&&Math.abs(Be/Ce)>1){const _e=i(I[te-1],I[te],w,je,3);_e.asymptote?(I[te-1][0]=_e.d0[0],I[te-1][1]=s.default.clamp(_e.d0[1],he,V),ne.push(le),I[te][0]=_e.d1[0],I[te][1]=s.default.clamp(_e.d1[1],he,V),le=[I[te]]):le.push(I[te])}else le.push(I[te]);le.length>1&&(Ce=le[le.length-1][0]-le[le.length-2][0],K=je),++te}return le.length&&ne.push(le),ne}function h(w){const I=s.default.space(w.xAxis,w.range,w.nSamples),A=w.yScale.domain(),K=A[0]-s.default.infinity(),ne=A[1]+s.default.infinity(),he=[];for(let le=0;le<I.length;le+=1){const te=I[le];let Ce=(0,r.builtIn)(w.d,"fn",{x:te});s.default.isValidNumber(te)&&s.default.isValidNumber(Ce)&&(Ce=s.default.clamp(Ce,K,ne),he.push([te,Ce]))}return u(w.d,he,w.yScale)}function f(w){const I=w.d.range||[0,2*Math.PI],A=s.default.space(w.xAxis,I,w.nSamples),K=[];for(let ne=0;ne<A.length;ne+=1){const he=A[ne],V=(0,r.builtIn)(w.d,"x",{t:he}),le=(0,r.builtIn)(w.d,"y",{t:he});K.push([V,le])}return[K]}function g(w){const I=w.d.range||[-Math.PI,Math.PI],A=s.default.space(w.xAxis,I,w.nSamples),K=[];for(let ne=0;ne<A.length;ne+=1){const he=A[ne],V=(0,r.builtIn)(w.d,"r",{theta:he}),le=V*Math.cos(he),te=V*Math.sin(he);K.push([le,te])}return[K]}function y(w){return[w.d.points]}function $(w){const I=w.d;return I.offset=I.offset||[0,0],[[I.offset,[I.vector[0]+I.offset[0],I.vector[1]+I.offset[1]]]]}const T=function(I){const A={parametric:f,polar:g,points:y,vector:$,linear:h};if(!(I.d.fnType in A))throw Error(I.d.fnType+" is not supported in the `builtIn` sampler");return A[I.d.fnType].apply(null,arguments)};return j3.default=T,j3}var Q_;function gv(){if(Q_)return W3;Q_=1;var t=W3&&W3.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(W3,"__esModule",{value:!0});const s=t(R7()),r=t(gF()),i=t(vF());function u(f,g){const y=g.range||[-1/0,1/0],$=Math.max(f.domain()[0],y[0]),T=Math.min(f.domain()[1],y[1]);return[$,T]}function h(f,g){const y=u(f.meta.xScale,g);let $;if(g.sampler==="builtIn")$=i.default;else if(g.sampler==="interval")$=r.default;else throw new Error(`Invalid sampler function ${g.sampler}`);const T=g.nSamples||Math.min(s.default.MAX_ITERATIONS,s.default.DEFAULT_ITERATIONS||f.meta.width*2),w=$({d:g,range:y,xScale:f.meta.xScale,yScale:f.meta.yScale,xAxis:f.options.xAxis,yAxis:f.options.yAxis,nSamples:T});return f.emit("eval",w,g.index,g.isHelper),w}return W3.default=h,W3}var ew;function $F(){if(ew)return q3;ew=1;var t=q3&&q3.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(q3,"__esModule",{value:!0});const s=Ac,r=lf,i=t(G1()),u=t(gv());function h(f){function g(y){y.each(function($){const T=g.el=(0,s.select)(this),w=$.index,I=(0,u.default)(f,$),A=i.default.color($,w),K=T.selectAll(":scope > path.line").data(I),ne=f.meta.yScale.range();let he=ne[0],V=ne[1];const le=he-V;he+=le*1e6,V-=le*1e6,$.skipBoundsCheck&&(he=i.default.infinity(),V=-i.default.infinity());function te(je){return i.default.clamp(f.meta.yScale(je[1]),V,he)}const Ce=(0,r.line)().curve(r.curveLinear).x(function(je){return f.meta.xScale(je[0])}).y(te),Oe=(0,r.area)().x(function(je){return f.meta.xScale(je[0])}).y0(f.meta.yScale(0)).y1(te),ce=`line line-${w}`,Be=K.enter().append("path").attr("class",ce).attr("stroke-width",1).attr("stroke-linecap","round");K.merge(Be).each(function(){const je=(0,s.select)(this);let _e;if($.closed?(je.attr("fill",A),je.attr("fill-opacity",.3),_e=Oe):(je.attr("fill","none"),_e=Ce),je.attr("stroke",A).attr("marker-end",function(){return $.fnType==="vector"?"url(#"+f.markerId+")":null}).attr("d",_e),$.attr)for(const b in $.attr){let O=$.attr[b];b==="class"&&(O=`${ce} ${$.attr[b]}`),je.attr(b,O)}}),K.exit().remove()})}return g}return q3.default=h,q3}var X3={},tw;function bF(){if(tw)return X3;tw=1;var t=X3&&X3.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(X3,"__esModule",{value:!0});const s=Ac,r=t(gv()),i=t(G1());function u(h){let f;const g=h.meta.xScale,y=h.meta.yScale;function $(I,A,K,ne){if(K>ne){const le=K;K=ne,ne=le}const he=Math.min(A,ne),V=Math.max(I,K);return V>he?[-f,0]:[V,he]}const T=function(I,A){let K="";const ne=y.range(),he=Math.min.apply(Math,ne),V=Math.max.apply(Math,ne);for(let le=0,te=I.length;le<te;le+=1)if(I[le]){const Ce=I[le][0],Oe=I[le][1];let ce=Oe.lo,Be=Oe.hi;A&&(ce=Math.min(ce,0),Be=Math.max(Be,0));const je=g(Ce.lo)+I.scaledDx/2,_e=$(he,V,isFinite(Be)?y(Be):-1/0,isFinite(ce)?y(ce):1/0),b=_e[0],O=_e[1];K+=" M "+je+" "+b,K+=" v "+Math.max(O-b,f)}return K};function w(I){I.each(function(A){const K=w.el=(0,s.select)(this),ne=A.index,he=A.closed,V=(0,r.default)(h,A),le=K.selectAll(":scope > path.line").data(V);f=Math.max(V[0].scaledDx,1);const te=`line line-${ne}`,Ce=le.enter().append("path").attr("class",te).attr("fill","none"),Oe=le.merge(Ce).attr("stroke-width",f).attr("stroke",i.default.color(A,ne)).attr("opacity",he?.5:1).attr("d",function(ce){return T(ce,he)});if(A.attr)for(const ce in A.attr){let Be=A.attr[ce];ce==="class"&&(Be=`${te} ${A.attr[ce]}`),Oe.attr(ce,Be)}le.exit().remove()})}return w}return X3.default=u,X3}var Y3={},nw;function yF(){if(nw)return Y3;nw=1;var t=Y3&&Y3.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Y3,"__esModule",{value:!0});const s=Ac,r=Qg,i=t(G1()),u=t(gv());function h(f){const g=f.meta.xScale,y=f.meta.yScale;function $(T){T.each(function(w){let I,A;const K=w.index,ne=i.default.color(w,K),he=(0,u.default)(f,w),V=[];for(I=0;I<he.length;I+=1)for(A=0;A<he[I].length;A+=1)V.push(he[I][A]);const le=(0,s.select)(this).selectAll(":scope > circle.scatter").data(V),te=`scatter scatter-${K}`,Ce=le.enter().append("circle").attr("class",te),Oe=le.merge(Ce).attr("fill",(0,r.hsl)(ne.toString()).brighter(1.5).formatHex()).attr("stroke",ne).attr("opacity",.7).attr("r",1).attr("cx",function(ce){return g(ce[0])}).attr("cy",function(ce){return y(ce[1])});if(w.attr)for(const ce in w.attr){let Be=w.attr[ce];ce==="class"&&(Be=`${te} ${w.attr[ce]}`),Oe.attr(ce,Be)}le.exit().remove()})}return $}return Y3.default=h,Y3}var K3={},rw;function _F(){if(rw)return K3;rw=1;var t=K3&&K3.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(K3,"__esModule",{value:!0});const s=Ac,r=Qg,i=t(G1());function u(h){const f=h.meta.xScale,g=h.meta.yScale;function y($){$.each(function(T){T.sampler="builtIn",T.fnType="vector";const w=(0,s.select)(this).selectAll(":scope > text.fn-text").data([T.location]),I=w.enter().append("text").attr("class",`fn-text fn-text-${T.index}`),A=i.default.color(T,T.index),K=w.merge(I).attr("fill",(0,r.hsl)(A.toString()).brighter(1.5).formatHex()).attr("x",ne=>f(ne[0])).attr("y",ne=>g(ne[1])).text(()=>T.text);if(T.attr)for(const ne in T.attr)K.attr(ne,T.attr[ne]);w.exit().remove()})}return y}return K3.default=u,K3}var iw;function V9(){if(iw)return ca;iw=1;var t=ca&&ca.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(ca,"__esModule",{value:!0}),ca.text=ca.scatter=ca.interval=ca.polyline=void 0;const s=t($F());ca.polyline=s.default;const r=t(bF());ca.interval=r.default;const i=t(yF());ca.scatter=i.default;const u=t(_F());return ca.text=u.default,ca}var P8={},sw;function vv(){if(sw)return P8;sw=1,Object.defineProperty(P8,"__esModule",{value:!0});function t(s){return"graphType"in s||(s.graphType="interval"),"sampler"in s||(s.sampler=s.graphType!=="interval"?"builtIn":"interval"),"fnType"in s||(s.fnType="linear"),s}return P8.default=t,P8}var ow;function wF(){if(ow)return G3;ow=1;var t=G3&&G3.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(G3,"__esModule",{value:!0});const s=Ac,r=V9(),i=h4(),u=t(vv()),h=t(G1());function f(g){const y=(0,u.default)({isHelper:!0,skipTip:!0,skipBoundsCheck:!0,nSamples:2,graphType:"polyline"});function $(I){if(!I.derivative)return[];const A=typeof I.derivative.x0=="number"?I.derivative.x0:h.default.infinity();return y.index=I.index,y.scope={m:(0,i.builtIn)(I.derivative,"fn",{x:A}),x0:A,y0:(0,i.builtIn)(I,"fn",{x:A})},y.fn="m * (x - x0) + y0",[y]}function T(I){const A=this;I.derivative&&I.derivative.updateOnMouseMove&&!I.derivative.$$mouseListener&&(I.derivative.$$mouseListener=function({x:K}){I.derivative&&(I.derivative.x0=K),w(A)},g.on("tip:update",I.derivative.$$mouseListener))}const w=function(I){I.each(function(A){const K=(0,s.select)(this),ne=$.call(I,A);T.call(I,A);const he=K.selectAll("g.derivative").data(ne),V=he.enter().append("g").attr("class","derivative");he.merge(V).call((0,r.polyline)(g)),he.merge(V).selectAll("path").attr("opacity",.5),he.exit().remove()})};return w}return G3.default=f,G3}var J3={},lw;function TF(){if(lw)return J3;lw=1;var t=J3&&J3.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(J3,"__esModule",{value:!0});const s=Ac,r=h4(),i=t(vv()),u=V9(),h=t(G1());function f(g){const y=(0,i.default)({isHelper:!0,skipTip:!0,skipBoundsCheck:!0,nSamples:2,graphType:"polyline"});function $(ne){ne.m=(ne.y1-ne.y0)/(ne.x1-ne.x0)}function T(ne,he){if(!("x0"in he))throw Error("secant must have the property `x0` defined");he.scope=he.scope||{};const V=he.x0,le=typeof he.x1=="number"?he.x1:h.default.infinity();Object.assign(he.scope,{x0:V,x1:le,y0:(0,r.builtIn)(ne,"fn",{x:V}),y1:(0,r.builtIn)(ne,"fn",{x:le})}),$(he.scope)}function w(ne,he){T(ne,he),he.fn="m * (x - x0) + y0"}function I(ne,he){const V=this;he.updateOnMouseMove&&!he.$$mouseListener&&(he.$$mouseListener=function({x:le}){he.x1=le,T(ne,he),K(V)},g.on("tip:update",he.$$mouseListener))}function A(ne){const he=this,V=[];ne.secants=ne.secants||[];for(let le=0;le<ne.secants.length;le+=1){const te=ne.secants[le]=Object.assign({},y,ne.secants[le]);te.index=ne.index,te.fn||(w.call(he,ne,te),I.call(he,ne,te)),V.push(te)}return V}function K(ne){ne.each(function(he){const V=(0,s.select)(this),le=A.call(ne,he),te=V.selectAll("g.secant").data(le),Ce=te.enter().append("g").attr("class","secant");te.merge(Ce).call((0,u.polyline)(g)),te.merge(Ce).selectAll("path").attr("opacity",.5),te.exit().remove()})}return K}return J3.default=f,J3}var aw;function oC(){if(aw)return V3;aw=1;var t=V3&&V3.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(V3,"__esModule",{value:!0});const s=Ac,r=t(wF()),i=t(TF());function u(h){function f(g){g.each(function(){const y=(0,s.select)(this);y.call((0,r.default)(h)),y.call((0,i.default)(h))})}return f}return V3.default=u,V3}var uw;function EF(){if(uw)return Zh;uw=1;var t=Zh&&Zh.__importDefault||function(he){return he&&he.__esModule?he:{default:he}};Object.defineProperty(Zh,"__esModule",{value:!0}),Zh.Chart=void 0;const s=lf,r=pI,i=jR,u=sL,h=fP,f=Ac,g=dP,y=t(pP()),$=t(mP()),T=t(mF()),w=t(oC()),I=t(vv()),A=t(R7());function K(he){return he==="linear"?i.scaleLinear:i.scaleLog}class ne extends y.default.EventEmitter{constructor(V){super();const le=Math.random(),te=String.fromCharCode(Math.floor(le*26)+97);this.options=V,this.id=te+le.toString(16).substr(2),this.options.id=this.id,this.markerId=this.id+"-marker",ne.cache[this.id]=this,this.linkedGraphs=[this],this.meta={},this.setUpEventListeners()}build(){return this.internalVars(),this.drawGraphWrapper(),this}getDraggableNode(){return(0,f.select)(this.options.target).select(".zoom-and-drag").node()}getEmitInstance(){let V=this;const le=this.getDraggableNode();return le&&(V=le.instance),V}internalVars(){const V=this.meta.margin={left:40,right:20,top:20,bottom:20};this.options.title&&(this.meta.margin.top=40),this.meta.width=(this.options.width||A.default.DEFAULT_WIDTH)-V.left-V.right,this.meta.height=(this.options.height||A.default.DEFAULT_HEIGHT)-V.top-V.bottom,this.initializeAxes()}initializeAxes(){const V=this,le=(0,r.format)("~s");function te(Be){return Math.abs(Be)-Math.floor(Math.abs(Be))>0?Be.toString():le(Be)}function Ce(Be){const je=Be[1]-Be[0];return V.meta.height*je/V.meta.width}this.options.xAxis=this.options.xAxis||{},this.options.xAxis.type=this.options.xAxis.type||"linear",this.options.yAxis=this.options.yAxis||{},this.options.yAxis.type=this.options.yAxis.type||"linear";const Oe=this.meta.xDomain=(function(Be){if(Be.domain)return Be.domain;if(Be.type==="linear")return[-12/2,12/2];if(Be.type==="log")return[1,10];throw Error("axis type "+Be.type+" unsupported")})(this.options.xAxis),ce=this.meta.yDomain=(function(Be){if(Be.domain)return Be.domain;const je=Ce(Oe);if(Be.type==="linear")return[-je/2,je/2];if(Be.type==="log")return[1,10];throw Error("axis type "+Be.type+" unsupported")})(this.options.yAxis);this.meta.xScale||(this.meta.xScale=K(this.options.xAxis.type)()),this.meta.xScale.domain(Oe).range(this.options.xAxis.invert?[this.meta.width,0]:[0,this.meta.width]),this.meta.yScale||(this.meta.yScale=K(this.options.yAxis.type)()),this.meta.yScale.domain(ce).range(this.options.yAxis.invert?[0,this.meta.height]:[this.meta.height,0]),this.meta.xAxis||(this.meta.xAxis=(0,u.axisBottom)(this.meta.xScale)),this.meta.xAxis.tickSize(this.options.grid?-this.meta.height:0).tickFormat(te),this.meta.yAxis||(this.meta.yAxis=(0,u.axisLeft)(this.meta.yScale)),this.meta.yAxis.tickSize(this.options.grid?-this.meta.width:0).tickFormat(te),this.line=(0,s.line)().x(function(Be){return V.meta.xScale(Be[0])}).y(function(Be){return V.meta.yScale(Be[1])})}drawGraphWrapper(){const V=this.root=(0,f.select)(this.options.target).selectAll("svg").data([this.options]);this.root.enter=V.enter().append("svg").attr("class","function-plot").attr("font-size",this.getFontSize()),V.merge(this.root.enter).attr("width",this.meta.width+this.meta.margin.left+this.meta.margin.right).attr("height",this.meta.height+this.meta.margin.top+this.meta.margin.bottom),this.buildTitle(),this.buildLegend(),this.buildCanvas(),this.buildClip(),this.buildAxis(),this.buildAxisLabel();const le=this.tip=(0,T.default)(Object.assign(this.options.tip||{},{owner:this}));this.canvas.merge(this.canvas.enter).call(le),this.setUpPlugins(),this.draw(),this.buildZoomHelper()}buildTitle(){const V=this.root.merge(this.root.enter).selectAll("text.title").data(function(te){return[te.title].filter(Boolean)});V.enter().append("text").merge(V).attr("class","title").attr("y",this.meta.margin.top/2).attr("x",this.meta.margin.left+this.meta.width/2).attr("font-size",25).attr("text-anchor","middle").attr("alignment-baseline","middle").text(this.options.title),V.exit().remove()}buildLegend(){this.root.enter.append("text").attr("class","top-right-legend").attr("text-anchor","end"),this.root.merge(this.root.enter).select(".top-right-legend").attr("y",this.meta.margin.top/2).attr("x",this.meta.width+this.meta.margin.left)}buildCanvas(){const V=this.canvas=this.root.merge(this.root.enter).selectAll(".canvas").data(function(le){return[le]});this.canvas.enter=V.enter().append("g").attr("class","canvas")}buildClip(){const V=this.id,le=this.canvas.enter.append("defs");le.append("clipPath").attr("id","function-plot-clip-"+V).append("rect").attr("class","clip static-clip"),this.canvas.merge(this.canvas.enter).selectAll(".clip").attr("width",this.meta.width).attr("height",this.meta.height),le.append("clipPath").append("marker").attr("id",this.markerId).attr("viewBox","0 -5 10 10").attr("refX",10).attr("markerWidth",5).attr("markerHeight",5).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5L0,0").attr("stroke-width","0px").attr("fill-opacity",1).attr("fill","#777")}buildAxis(){const V=this.canvas.enter;V.append("g").attr("class","x axis"),V.append("g").attr("class","y axis"),this.canvas.merge(this.canvas.enter).select(".x.axis").attr("transform","translate(0,"+this.meta.height+")").call(this.meta.xAxis),this.canvas.merge(this.canvas.enter).select(".y.axis").call(this.meta.yAxis)}buildAxisLabel(){const V=this.canvas,le=V.merge(V.enter).selectAll("text.x.axis-label").data(function(ce){return[ce.xAxis.label].filter(Boolean)}),te=le.enter().append("text").attr("class","x axis-label").attr("text-anchor","end");le.merge(te).attr("x",this.meta.width).attr("y",this.meta.height-6).text(function(ce){return ce}),le.exit().remove();const Ce=V.merge(V.enter).selectAll("text.y.axis-label").data(function(ce){return[ce.yAxis.label].filter(Boolean)}),Oe=Ce.enter().append("text").attr("class","y axis-label").attr("y",6).attr("dy",".75em").attr("text-anchor","end").attr("transform","rotate(-90)");Ce.merge(Oe).text(function(ce){return ce}),Ce.exit().remove()}buildContent(){const V=this,le=this.canvas;le.merge(le.enter).attr("transform","translate("+this.meta.margin.left+","+this.meta.margin.top+")");const te=this.content=le.merge(le.enter).selectAll(":scope > g.content").data(function(Be){return[Be]}),Ce=te.enter().append("g").attr("clip-path","url(#function-plot-clip-"+this.id+")").attr("class","content");if(this.options.xAxis.type==="linear"){const Be=te.merge(Ce).selectAll(":scope > path.y.origin").data([[[0,this.meta.yScale.domain()[0]],[0,this.meta.yScale.domain()[1]]]]),je=Be.enter().append("path").attr("class","y origin").attr("stroke","black").attr("opacity",.2);Be.merge(je).attr("d",this.line)}if(this.options.yAxis.type==="linear"){const Be=te.merge(Ce).selectAll(":scope > path.x.origin").data([[[this.meta.xScale.domain()[0],0],[this.meta.xScale.domain()[1],0]]]),je=Be.enter().append("path").attr("class","x origin").attr("stroke","black").attr("opacity",.2);Be.merge(je).attr("d",this.line)}te.merge(Ce).call((0,$.default)({owner:V}));const Oe=te.merge(Ce).selectAll(":scope > g.graph").data(Be=>Be.data.map(I.default),Be=>Be.fn||Be.r||Be.x||Be.text);Oe.exit().remove();const ce=Oe.enter().append("g").attr("class","graph");Oe.merge(ce).each(function(Be,je){Be.index=je;const _e=(0,f.select)(this);_e.call(A.default.graphTypes[Be.graphType](V)),_e.call((0,w.default)(V))})}buildZoomHelper(){const V=this;this.meta.zoomBehavior||(this.meta.zoomBehavior=(0,h.zoom)().on("zoom",function(te){V.getEmitInstance().emit("all:zoom",te)}),V.meta.zoomBehavior.xScale=V.meta.xScale.copy(),V.meta.zoomBehavior.yScale=V.meta.yScale.copy()),V.meta.zoomBehavior.xScale.range(V.meta.xScale.range()),V.meta.zoomBehavior.yScale.range(V.meta.yScale.range()),this.canvas.enter.append("rect").call(this.meta.zoomBehavior).attr("class","zoom-and-drag").style("fill","none").style("pointer-events","all").on("mouseover",function(le){V.getEmitInstance().emit("all:mouseover",le)}).on("mouseout",function(le){V.getEmitInstance().emit("all:mouseout",le)}).on("mousemove",function(le){V.getEmitInstance().emit("all:mousemove",le)}),this.draggable=this.canvas.merge(this.canvas.enter).select(".zoom-and-drag").call(le=>{le.node()&&(le.node().instance=V)}).attr("width",this.meta.width).attr("height",this.meta.height)}setUpPlugins(){const V=this.options.plugins||[],le=this;V.forEach(function(te){te(le)})}addLink(){for(let V=0;V<arguments.length;V+=1)this.linkedGraphs.push(arguments[V])}updateAxes(){const V=this,le=V.canvas.merge(V.canvas.enter);if(le.select(".x.axis").call(V.meta.xAxis),this.options.xAxis.position==="sticky"){const te=this.meta.yScale.domain()[0],Ce=this.meta.yScale.domain()[1],Oe=(Ce+te)/2;let Be=this.meta.height/(Ce-te)*Oe+this.meta.height/2;Be=Be<0?0:Be,Be=Be>this.meta.height?this.meta.height:Be,le.select(".x.axis").attr("transform","translate(0,"+Be+")"),le.selectAll(".x.axis path, .x.axis line").attr("transform","translate(0,"+(this.meta.height/2-Be+this.meta.height/2)+")")}if(le.select(".y.axis").call(V.meta.yAxis),this.options.yAxis.position==="sticky"){const te=this.meta.xScale.domain()[0],Ce=this.meta.xScale.domain()[1],Oe=(Ce+te)/2;let Be=this.meta.width/(te-Ce)*Oe+this.meta.width/2;Be=Be<0?0:Be,Be=Be>this.meta.width?this.meta.width:Be,le.select(".y.axis").attr("transform","translate("+Be+",0)"),le.selectAll(".y.axis path, .y.axis line").attr("transform","translate("+-Be+",0)")}le.selectAll(".axis path, .axis line").attr("fill","none").attr("stroke","black").attr("shape-rendering","crispedges").attr("opacity",.1)}syncOptions(){this.options.xAxis.domain=this.meta.xScale.domain(),this.options.yAxis.domain=this.meta.yScale.domain()}getFontSize(){return Math.max(Math.max(this.meta.width,this.meta.height)/50,8)}draw(){const V=this;V.emit("before:draw"),V.syncOptions(),V.updateAxes(),V.buildContent(),V.emit("after:draw")}setUpEventListeners(){const V=this,le=this.getEmitInstance();le&&le.removeAllListeners();const te={mousemove:function(Oe){V.tip.move(Oe)},mouseover:function(){V.tip.show()},mouseout:function(){V.tip.hide()},zoom:function({transform:ce}){if(V.options.disableZoom)return;const Be=ce.rescaleX(V.meta.zoomBehavior.xScale).interpolate(g.interpolateRound),je=ce.rescaleY(V.meta.zoomBehavior.yScale).interpolate(g.interpolateRound);V.meta.xScale.domain(Be.domain()).range(Be.range()),V.meta.yScale.domain(je.domain()).range(je.range())},"tip:update":function({x:Oe,y:ce,index:Be}){const je=V.root.merge(V.root.enter).datum().data[Be],_e=je.title||"",b=je.renderer||function(N,R){return N.toFixed(3)+", "+R.toFixed(3)},O=[];_e&&O.push(_e),O.push(b(Oe,ce)),V.root.select(".top-right-legend").attr("fill",A.default.COLORS[Be]).text(O.join(" "))}},Ce={mousemove:function(Oe){const ce=(0,f.pointer)(Oe,V.draggable.node()),Be={x:V.meta.xScale.invert(ce[0]),y:V.meta.yScale.invert(ce[1])};V.linkedGraphs.forEach(function(je){je.emit("before:mousemove",Be),je.emit("mousemove",Be)})},zoom:function(Oe){V.linkedGraphs.forEach(function(ce){ce.draggable.node().__zoom=V.draggable.node().__zoom,ce.emit("zoom",Oe),ce.draw()}),V.emit("all:mousemove",Oe)}};Object.keys(te).forEach(function(Oe){!Ce[Oe]&&V.on("all:"+Oe,function(){const ce=Array.prototype.slice.call(arguments);V.linkedGraphs.forEach(function(Be){const je=ce.slice();je.unshift(Oe),Be.emit.apply(Be,je)})}),V.on(Oe,te[Oe])}),Object.keys(Ce).forEach(function(Oe){V.on("all:"+Oe,Ce[Oe])})}}return Zh.Chart=ne,ne.cache={},Zh}var zp={},cw;function SF(){return cw||(cw=1,Object.defineProperty(zp,"__esModule",{value:!0})),zp}var hw;function xF(){return hw||(hw=1,(function(t){var s=Ou&&Ou.__createBinding||(Object.create?(function(I,A,K,ne){ne===void 0&&(ne=K);var he=Object.getOwnPropertyDescriptor(A,K);(!he||("get"in he?!A.__esModule:he.writable||he.configurable))&&(he={enumerable:!0,get:function(){return A[K]}}),Object.defineProperty(I,ne,he)}):(function(I,A,K,ne){ne===void 0&&(ne=K),I[ne]=A[K]})),r=Ou&&Ou.__setModuleDefault||(Object.create?(function(I,A){Object.defineProperty(I,"default",{enumerable:!0,value:A})}):function(I,A){I.default=A}),i=Ou&&Ou.__importStar||function(I){if(I&&I.__esModule)return I;var A={};if(I!=null)for(var K in I)K!=="default"&&Object.prototype.hasOwnProperty.call(I,K)&&s(A,I,K);return r(A,I),A},u=Ou&&Ou.__exportStar||function(I,A){for(var K in I)K!=="default"&&!Object.prototype.hasOwnProperty.call(A,K)&&s(A,I,K)};Object.defineProperty(t,"__esModule",{value:!0}),t.GraphTypeScatter=t.GraphTypePolyline=t.GraphTypeInterval=t.EvalInterval=t.EvalBuiltIn=t.registerGraphType=t.Chart=void 0,QA();const h=EF();Object.defineProperty(t,"Chart",{enumerable:!0,get:function(){return h.Chart}});const f=i(R7());Object.defineProperty(t,"registerGraphType",{enumerable:!0,get:function(){return f.registerGraphType}});const g=V9(),y=i(h4());(0,f.registerGraphType)("polyline",g.polyline),(0,f.registerGraphType)("interval",g.interval),(0,f.registerGraphType)("scatter",g.scatter),(0,f.registerGraphType)("text",g.text);function $(I){I.data=I.data||[];let A=h.Chart.cache[I.id];return A||(A=new h.Chart(I)),A.build()}t.default=$,$.globals=f.default,$.$eval=y,$.graphTypes={interval:g.interval,polyline:g.polyline,scatter:g.scatter},u(SF(),t);var T=h4();Object.defineProperty(t,"EvalBuiltIn",{enumerable:!0,get:function(){return T.builtIn}}),Object.defineProperty(t,"EvalInterval",{enumerable:!0,get:function(){return T.interval}});var w=V9();Object.defineProperty(t,"GraphTypeInterval",{enumerable:!0,get:function(){return w.interval}}),Object.defineProperty(t,"GraphTypePolyline",{enumerable:!0,get:function(){return w.polyline}}),Object.defineProperty(t,"GraphTypeScatter",{enumerable:!0,get:function(){return w.scatter}}),u(oC(),t)})(Ou)),Ou}var CF=xF();const MF=Pl(CF);function kF({lhs:t,rhs:s,initialLhs:r,initialRhs:i,isVisible:u,isModified:h}){const f=br.useRef(null),g=br.useRef(null),[y,$]=br.useState(0),T=br.useDeferredValue(y),w=(I,A,K,ne,he,V)=>{if(I.current)try{const le=A.replace(/x/g,"x"),te=K.replace(/x/g,"x"),Ce=parseFloat(b9(A,{x:V}).evaluate().text()),Oe=parseFloat(b9(K,{x:V}).evaluate().text());MF({target:I.current,width:he,height:220,yAxis:{domain:[-10,20]},xAxis:{domain:[-10,10]},grid:!0,title:ne,data:[{fn:le,color:"#3b82f6",attr:{"stroke-width":3}},{fn:te,color:"#ef4444",attr:{"stroke-width":3}},{points:[[V,Ce]],fnType:"points",graphType:"scatter",color:"#3b82f6",attr:{r:5,"stroke-width":2,fill:"white"}},{points:[[V,Oe]],fnType:"points",graphType:"scatter",color:"#ef4444",attr:{r:5,"stroke-width":2,fill:"white"}}]})}catch(le){console.warn("Erreur de trac:",le)}};return br.useEffect(()=>{u&&(h?(w(f,r||"x",i||"0","Dpart",280,T),w(g,t,s,"tat Actuel",280,T)):w(g,t,s,"Analyse Graphique",500,T))},[u,t,s,r,i,h,T]),u?mt.jsxs("div",{className:"w-full bg-slate-50 rounded-2xl p-4 border border-slate-200 animate-in slide-in-from-top-4 fade-in duration-300",children:[mt.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-4",children:h?mt.jsxs(mt.Fragment,{children:[mt.jsx("div",{className:"overflow-hidden rounded-lg bg-white border border-slate-200 shadow-sm opacity-70 grayscale-[50%]",children:mt.jsx("div",{ref:f})}),mt.jsx("div",{className:"overflow-hidden rounded-lg bg-white border-2 border-blue-100 shadow-md",children:mt.jsx("div",{ref:g})})]}):mt.jsx("div",{className:"overflow-hidden rounded-lg bg-white border-2 border-blue-100 shadow-md",children:mt.jsx("div",{ref:g})})}),mt.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-white rounded-xl border border-slate-100 shadow-sm max-w-md mx-auto",children:[mt.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valeur x"}),mt.jsx("input",{type:"range",min:"-10",max:"10",step:"0.5",value:y,onChange:I=>$(parseFloat(I.target.value)),className:"flex-1 h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"}),mt.jsx("span",{className:"w-8 text-right font-mono font-bold text-indigo-600",children:y})]})]}):null}function AF({state:t}){const s=t||{lhs:"x",rhs:"0",sign:"=",initialLhs:"x",initialRhs:"0",history:[]},[r,i]=br.useState(s),[u,h]=br.useState(!1),[f,g]=br.useState(0),[y,$]=br.useState(!1),T=t?.implicit===!0,w=t?.showGraph===!0,I=(r.history||[]).length>0,A=te=>{if(!te)return"";let Ce=String(te);return T?(Ce=Ce.replace(/(\d)\s*\*\s*([a-zA-Z])/g,"$1$2"),Ce=Ce.replace(/\b1([a-zA-Z])/g,"$1"),Ce=Ce.replace(/\*/g,"\\times ")):Ce=Ce.replace(/\*/g,"\\times "),Ce},K=te=>te==="*"?"\\times":te==="/"?"\\div":te,ne=(te,Ce)=>{if(!te)return"";let ce=String(te).replace(/\*/g," \\times ");ce=ce.replace(/(\d)\s*x/g,"$1 \\times x");const je=`{\\color{#3498db}\\mathbf{${Ce<0?`(${Ce})`:Ce}}}`;return ce.replace(/x/g,je)};br.useEffect(()=>{if(t&&t.lastOp&&!t.lastOp.error){h(!0),g(0);const te=setTimeout(()=>{h(!1),i(t)},2e3);return()=>{clearTimeout(te),h(!1),i(t)}}else if(t&&t.verification){h(!1),i(t),g(1);const te=setTimeout(()=>g(2),1500),Ce=setTimeout(()=>g(3),3500),Oe=setTimeout(()=>{t.finalSolutionLatex&&g(4)},5e3);return()=>{clearTimeout(te),clearTimeout(Ce),clearTimeout(Oe)}}else t&&t.solutionState?(i(t),g(4)):t&&(h(!1),i(t),g(0))},[t]);let he=A(r.lhs),V=A(r.rhs);const le=String(r.sign||"=");if(u&&t.lastOp){const te=A(t.lastOp.val),Ce=`{\\color{#e74c3c} \\quad ${K(t.lastOp.op)} \\; ${te}}`;he=`${he} ${Ce}`,V=`${V} ${Ce}`}return mt.jsx("div",{className:"w-full h-full bg-white flex flex-col font-sans relative overflow-y-auto custom-scrollbar",children:mt.jsxs("div",{className:"flex-1 flex flex-col items-center py-6 px-4 gap-6",children:[mt.jsx("div",{className:"w-full overflow-x-auto flex justify-center pb-2",children:mt.jsxs("div",{className:"flex items-center gap-3 text-2xl md:text-3xl text-slate-700 whitespace-nowrap font-serif transition-all duration-500",children:[mt.jsx("div",{className:"bg-slate-50 px-4 py-3 rounded-xl border-b-4 border-blue-200 shadow-sm min-w-[80px] text-center",children:he?mt.jsx(B3.InlineMath,{math:he}):mt.jsx("span",{className:"text-slate-300",children:"?"})}),mt.jsx("div",{className:"text-slate-400 font-bold",children:mt.jsx(B3.InlineMath,{math:le})}),mt.jsx("div",{className:"bg-slate-50 px-4 py-3 rounded-xl border-b-4 border-red-200 shadow-sm min-w-[80px] text-center",children:V?mt.jsx(B3.InlineMath,{math:V}):mt.jsx("span",{className:"text-slate-300",children:"?"})})]})}),f>0&&t.verification&&mt.jsxs("div",{className:"w-full max-w-lg bg-white rounded-xl border-2 border-blue-100 p-0 overflow-hidden shadow-sm animate-in slide-in-from-top-4 duration-500",children:[mt.jsxs("div",{className:"bg-blue-50 px-4 py-2 border-b border-blue-100 flex justify-between items-center",children:[mt.jsx("span",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider",children:"Vrification"}),mt.jsxs("span",{className:"text-xs font-mono bg-white px-2 py-1 rounded text-blue-800 border border-blue-200",children:["x = ",t.verification.testVal]})]}),mt.jsxs("div",{className:"p-4 flex flex-col gap-4 text-sm",children:[mt.jsxs("div",{className:`flex items-center gap-3 ${f>=1?"opacity-100":"opacity-0"}`,children:[mt.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold",children:"1"}),mt.jsx("div",{className:"font-mono text-slate-500",children:mt.jsx(B3.InlineMath,{math:`${A(t.verification.originLhs)} ${t.verification.checkSign} ${A(t.verification.originRhs)}`})})]}),mt.jsxs("div",{className:`flex items-center gap-3 ${f>=2?"opacity-100":"opacity-0"}`,children:[mt.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-xs font-bold",children:"2"}),mt.jsx("div",{className:"font-mono",children:mt.jsx(B3.InlineMath,{math:`${ne(t.verification.originLhs,t.verification.testVal)} ${t.verification.checkSign} ${ne(t.verification.originRhs,t.verification.testVal)}`})})]}),mt.jsxs("div",{className:`flex items-center gap-3 ${f>=3?"opacity-100":"opacity-0"}`,children:[mt.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${t.verification.isCorrect?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:"3"}),mt.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[mt.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-2 rounded",children:[mt.jsxs("span",{className:"font-bold font-mono text-slate-700",children:[t.verification.valLhs," ",t.verification.checkSign," ",t.verification.valRhs]}),mt.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded uppercase ${t.verification.isCorrect?"bg-green-200 text-green-800":"bg-red-200 text-red-800"}`,children:t.verification.isCorrect?"VRAI":"FAUX"})]}),t.verification.feedbackMsg&&mt.jsxs("div",{className:"text-xs italic text-slate-500 bg-blue-50/50 p-2 rounded border border-blue-100",children:[" ",t.verification.feedbackMsg]})]})]})]})]}),t.finalSolutionLatex&&f===4&&mt.jsx("div",{className:"animate-in zoom-in duration-500 bg-emerald-50 text-emerald-900 px-6 py-3 rounded-xl border border-emerald-200 shadow-md mt-2",children:mt.jsx("div",{className:"text-2xl font-bold text-center",children:mt.jsx(B3.InlineMath,{math:t.finalSolutionLatex})})}),mt.jsx(kF,{lhs:r.lhs,rhs:r.rhs,initialLhs:r.initialLhs,initialRhs:r.initialRhs,isVisible:w&&y&&!t.finalSolutionLatex,isModified:I})]})})}var d9={exports:{}},fw={exports:{}},dw={exports:{}},pw;function p9(){return pw||(pw=1,(function(t){{var s=r4();m9()}(function(){var r=s.getCore(),i=r.PARSER,u=r.groups.N,h=r.groups.P,f=r.groups.S,g=r.groups.EX,y=r.groups.FN,$=r.groups.PL,T=r.groups.CP,w=r.groups.CB,I=r.Utils.keys,A=r.Utils.even,K=r.Utils.variables,ne=r.Utils.format,he=r.Utils.round,V=r.Frac,le=r.Utils.isInt,te=r.Symbol,Ce=r.Settings.CONST_HASH,Oe=r.Utils.importFunctions();r.Utils.evaluate;function ce(b,O,N){if(r.Utils.isSymbol(b))this.parse(b),this.variable=this.variable||O;else if(isNaN(b))typeof b=="string"&&this.parse(i.parse(b));else{if(N=N||0,O===void 0)throw new r.exceptions.InvalidVariableNameError("Polynomial expects a variable name when creating using order");this.coeffs=[],this.coeffs[N]=b,this.fill(b)}}ce.fromArray=function(b,O){if(typeof O>"u")throw new r.exceptions.InvalidVariableNameError("A variable name must be specified when creating polynomial from array");var N=new ce;return N.coeffs=b,N.variable=O,N},ce.fit=function(b,O,N,R,B,j){var J=new Array(B+1),fe=N-O;J[0]=O,J[B]=b,fe-=b*Math.pow(R,B);for(var Ne=B-1;Ne>0;Ne--){var qe=Math.pow(R,Ne),de=fe/qe,xe=Math.sign(de),gt=xe*Math.floor(Math.abs(de));fe-=gt*qe,J[Ne]=gt}if(fe!==0)return null;for(var Ne=0;Ne<J.length;Ne++)J[Ne]=new V(J[Ne]);return ce.fromArray(J,j)},ce.prototype={parse:function(b,O){if(this.variable=K(b)[0],!b.isPoly())throw r.exceptions.NerdamerTypeError("Polynomial Expected! Received "+r.Utils.text(b));if(O=O||[],b.power.absEquals(1)||(b=i.expand(b)),b.group===r.groups.N)O[0]=b.multiplier;else if(b.group===r.groups.S)O[b.power.toDecimal()]=b.multiplier;else for(var N in b.symbols){var R=b.symbols[N],B=R.power;if(r.Utils.isSymbol(B))throw new r.exceptions.NerdamerTypeError("power cannot be a Symbol");B=R.group===u?0:B.toDecimal(),R.symbols?this.parse(R,O):O[B]=R.multiplier}this.coeffs=O,this.fill()},fill:function(b){b=Number(b)||0;for(var O=this.coeffs.length,N=0;N<O;N++)this.coeffs[N]===void 0&&(this.coeffs[N]=new V(b));return this},trim:function(){for(var b=this.coeffs.length;b--;){var O=this.coeffs[b],N=O.equals(0);if(O&&N){if(b===0)break;this.coeffs.pop()}else break}return this},modP:function(b){for(var O=this.coeffs.length,N=0;N<O;N++){var R=this.coeffs[N];if(R<0){for(var B,j=N;j<O;j++)if(this.coeffs[j]>0){B=this.coeffs[j];break}if(B){for(j;j>N;j--)this.coeffs[j]=this.coeffs[j].subtract(new V(1)),this.coeffs[j-1]=this.coeffs[j-1].add(new V(b));R=this.coeffs[N]}}var J=R.mod(b),fe=R.subtract(J).divide(b);if(!fe.equals(0)){var Ne=N+1,qe=this.coeffs[Ne]||new V(0);qe=qe.add(fe),this.coeffs[Ne]=new V(qe),this.coeffs[N]=new V(J)}}return this},add:function(b){for(var O=Math.max(this.coeffs.length,b.coeffs.length),N=0;N<O;N++){var R=this.coeffs[N]||new V(0),B=b.coeffs[N]||new V(0);this.coeffs[N]=R.add(B)}return this},subtract:function(b){for(var O=Math.max(this.coeffs.length,b.coeffs.length),N=0;N<O;N++){var R=this.coeffs[N]||new V(0),B=b.coeffs[N]||new V(0);this.coeffs[N]=R.subtract(B)}return this},divide:function(b){for(var O=this.variable,N=r.Utils.arrayClone(this.coeffs),R=r.Utils.arrayClone(b.coeffs),B=N.length,j=R.length-1,J=[],fe=0;fe<B;fe++){var Ne=B-(fe+1),qe=Ne-j,de=N[Ne].divide(R[j]);if(qe<0)break;J[qe]=de;for(var xe=0;xe<=j;xe++)N[xe+qe]=N[xe+qe].subtract(R[xe].multiply(de))}var gt=ce.fromArray(N,O||"x").trim(),ze=ce.fromArray(J,O||"x");return[ze,gt]},multiply:function(b){for(var O=this.coeffs.length,N=b.coeffs.length,R=[],B=0;B<O;B++)for(var j=this.coeffs[B],J=0;J<N;J++){var fe=B+J,Ne=b.coeffs[J],qe=R[fe]||new V(0);R[fe]=qe.add(j.multiply(Ne))}return this.coeffs=R,this},isZero:function(){for(var b=this.coeffs.length,O=0;O<b;O++){var N=this.coeffs[O];if(!N.equals(0))return!1}return!0},sub:function(b){for(var O=new V(0),N=this.coeffs.length,R=0;R<N;R++){var B=this.coeffs[R];B.equals(0)||(O=O.add(B.multiply(new V(Math.pow(b,R)))))}return O},clone:function(){var b=new ce;return b.coeffs=this.coeffs,b.variable=this.variable,b},deg:function(){return this.trim(),this.coeffs.length-1},lc:function(){return this.coeffs[this.deg()].clone()},monic:function(){for(var b=this.lc(),O=this.coeffs.length,N=0;N<O;N++)this.coeffs[N]=this.coeffs[N].divide(b);return this},gcd:function(b){var O=this.coeffs.length-1,N=b.coeffs.length-1,R;if(O<N)return b.gcd(this);for(var B=this;!b.isZero();){var j=b.clone();B=B.clone(),R=B.divide(j),b=R[1],B=j}var J=r.Math2.QGCD.apply(null,B.coeffs);if(!J.equals(1))for(var fe=B.coeffs.length,Ne=0;Ne<fe;Ne++)B.coeffs[Ne]=B.coeffs[Ne].divide(J);return B},diff:function(){for(var b=[],O=this.coeffs.length,N=1;N<O;N++)b.push(this.coeffs[N].multiply(new V(N)));return this.coeffs=b,this},integrate:function(){for(var b=[0],O=this.coeffs.length,N=0;N<O;N++){var R=new V(N+1);b[R]=this.coeffs[N].divide(R)}return this.coeffs=b,this},gcf:function(b){for(var O=function(fe){for(var Ne=0;Ne<fe.length;Ne++)if(!fe[Ne].equals(0))return Ne},N=[],R=0;R<this.coeffs.length;R++){var B=this.coeffs[R];!B.equals(0)&&N.indexOf(B)===-1&&N.push(B)}var j=[r.Math2.QGCD.apply(void 0,N),O(this.coeffs)].toDecimal();if(b){var J=[];J[j[1]-1]=j[0],j=ce.fromArray(J,this.variable).fill()}return j},quad:function(b){var O=[];if(this.coeffs.length>3)throw new Error("Cannot calculate quadratic order of "+(this.coeffs.length-1));if(this.coeffs.length===0)throw new Error("Polynomial array has no terms");var N=this.coeffs[2]||0,R=this.coeffs[1]||0,B=this.coeffs[0],j=R*R-4*N*B;return j<0&&!b||(O[0]=(-R+Math.sqrt(j))/(2*N),O[1]=(-R-Math.sqrt(j))/(2*N)),O},squareFree:function(){for(var b=this.clone(),O=1,N=b.clone().diff(),R=b.clone().gcd(N),B=b.divide(R)[0],j=ce.fromArray([new V(1)],b.variable);!R.equalsNumber(1);){var J=B.gcd(R),fe=B.divide(J)[0];if(!fe.equalsNumber(1)&&O>1){for(var Ne=fe.clone(),qe=1;qe<O;qe++)Ne.multiply(fe.clone());fe=Ne}j=j.multiply(fe),O++,B=J,R=R.divide(J)[0]}return[j,B,O]},toSymbol:function(){var b=this.coeffs.length,O=this.variable;if(b===0)return new r.Symbol(0);for(var N=b-1,R="",B=0;B<b;B++){var j=B===N?"":"+",J=this.coeffs[B];J.equals(0)||(R+=J+"*"+O+"^"+B+j)}return i.parse(R)},equalsNumber:function(b){return this.trim(),this.coeffs.length===1&&this.coeffs[0].toDecimal()===String(b)},toString:function(){return this.toSymbol().toString()}},te.prototype.coeffs=function(b,O){O&&!this.isPoly(!0)&&i.error("Polynomial expected when requesting coefficients with order"),b=b||[];var N=this.clone().distributeMultiplier();if(N.isComposite())for(var R in N.symbols){var B=N.symbols[R];B.isComposite()?B.clone().distributeMultiplier().coeffs(b,O):O?b[B.isConstant()?0:B.power.toDecimal()]=B.multiplier:b.push(B.multiplier)}else if(O)b[N.isConstant(!0)?0:N.power.toDecimal()]=N.multiplier;else if(N.group===w&&N.isImaginary()){var j=new te(N.multiplier);N.each(function(fe){(fe.isConstant(!0)||fe.imaginary)&&(j=i.multiply(j,fe))}),b.push(j)}else b.push(N.multiplier);if(O)for(var J=0;J<b.length;J++)b[J]===void 0&&(b[J]=new te(0));return b},te.prototype.tBase=function(b){if(typeof b>"u")throw new Error("Symbol.tBase requires a map object!");for(var O=[],N=this.collectSymbols(null,null,null,!0),R=N.length,B=0;B<R;B++){var j=N[B],J=j.group,fe=new je(j.multiplier,[],b);if(J===w)for(var Ne in j.symbols){var qe=j.symbols[Ne];fe.terms[b[Ne]]=qe.power}else fe.terms[b[j.value]]=j.power;O.push(fe.fill()),fe.updateCount()}return O},te.prototype.altVar=function(b){var O=this.multiplier.toString(),N=this.power.toString();return(O==="1"?"":O+"*")+b+(N==="1"?"":"^"+N)},te.prototype.sameVars=function(b){if(!(this.symbols||this.group===b.group))return!1;for(var O in this.symbols){var N=this.symbols[O],R=b.symbols[O];if(!R||N.value!==R.value)return!1}return!0},te.prototype.groupTerms=function(b){b=String(b);var O,N,R,B=[];return this.each(function(j){if(j.group===$){R=j.groupTerms(b);for(var J=0;J<R.length;J++){var fe=R[J];fe&&(B[J]=fe)}}else O=r.Utils.decompose_fn(j,b,!0),N=O.x.value===b?Number(O.x.power):0,B[N]=i.add(B[N]||new te(0),O.a)}),B},te.prototype.collectFactors=function(){var b=[];return this.group===w?this.each(function(O){b.push(O.clone())}):b.push(this.clone()),b};function Be(){this.factors={},this.length=0}Be.prototype.getNumberSymbolics=function(){var b=0;return this.each(function(O){O.isConstant(!0)||b++}),b},Be.prototype.add=function(b){if(b.equals(0))return this;if(b.equals(-1)&&this.length>0){var O=r.Utils.firstObject(this.factors,null,!0);return this.add(i.symfunction(r.Settings.PARENTHESIS,[O.obj]).negate()),delete this.factors[O.key],this.length--,this}if(b.group===w){var N=this;b.multiplier.equals(1)||N.add(new te(b.multiplier)),b.each(function(j){N.add(j)})}else{this.preAdd&&(b=this.preAdd(b)),this.pFactor&&(b=i.pow(b,new te(this.pFactor)));var R=b.isConstant();if(R&&b.equals(1))return this;var B=R?b.value:b.text();B in this.factors?(this.factors[B]=i.multiply(this.factors[B],b),this.factors[B].equals(1)&&(delete this.factors[B],this.length--)):(this.factors[B]=b,this.length++)}return this},Be.prototype.toSymbol=function(){for(var b=new te(1),O=Object.values(this.factors).sort(function(J,fe){return J.group>fe.group}),N=0,R=O.length;N<R;N++){var B=O[N],j=B.power.equals(1)&&B.fname!==""?i.symfunction(r.PARENTHESIS,[B]):B;b=i.multiply(b,j)}return b.fname===""&&(b=te.unwrapPARENS(b)),b},Be.prototype.merge=function(b){for(var O in b)O in this.factors?this.factors[O]=i.multiply(this.factors[O],b[O]):this.factors[O]=b[O];return this},Be.prototype.each=function(b){for(var O in this.factors){var N=this.factors[O];N.fname===r.PARENTHESIS&&N.isLinear()&&(N=N.args[0]),b.call(this,N,O)}return this},Be.prototype.count=function(){return I(this.factors).length},Be.prototype.clean=function(){try{var b=r.Settings.CONST_HASH;this.factors[b].lessThan(0)&&(this.factors[b].equals(-1)?delete this.factors[b]:this.factors[b].negate(),this.each(function(O){O.negate()}))}catch{}},Be.prototype.toString=function(){return this.toSymbol().toString()};function je(b,O,N){this.terms=O||[],this.coeff=b,this.map=N,this.sum=new r.Frac(0),this.image=void 0}je.prototype.updateCount=function(){this.count=this.count||0;for(var b=0;b<this.terms.length;b++)this.terms[b].equals(0)||this.count++;return this},je.prototype.getVars=function(){for(var b=[],O=0;O<this.terms.length;O++){var N=this.terms[O];this.getRevMap(),N.equals(0)||b.push(this.rev_map[O])}return b.join(" ")},je.prototype.len=function(){return typeof this.count>"u"&&this.updateCount(),this.count},je.prototype.toSymbol=function(b){b=b||this.getRevMap();for(var O=new te(this.coeff),N=0;N<this.terms.length;N++){var R=b[N],B=this.terms[N];if(!(B.equals(0)||R===Ce)){var j=new te(R);j.power=B,O=i.multiply(O,j)}}return O},je.prototype.getRevMap=function(){if(this.rev_map)return this.rev_map;var b={};for(var O in this.map)b[this.map[O]]=O;return this.rev_map=b,b},je.prototype.generateImage=function(){return this.image=this.terms.join(" "),this},je.prototype.getImg=function(){return this.image||this.generateImage(),this.image},je.prototype.fill=function(){for(var b=this.map.length,O=0;O<b;O++)typeof this.terms[O]>"u"?this.terms[O]=new r.Frac(0):this.sum=this.sum.add(this.terms[O]);return this},je.prototype.divide=function(b){for(var O=this.coeff.divide(b.coeff),N=this.terms.length,R=new je(O,[],this.map),B=0;B<N;B++)R.terms[B]=this.terms[B].subtract(b.terms[B]),R.sum=R.sum.add(R.terms[B]);return R},je.prototype.multiply=function(b){for(var O=this.coeff.multiply(b.coeff),N=this.terms.length,R=new je(O,[],this.map),B=0;B<N;B++)R.terms[B]=this.terms[B].add(b.terms[B]),R.sum=R.sum.add(R.terms[B]);return R},je.prototype.isZero=function(){return this.coeff.equals(0)},je.prototype.toString=function(){return"{ coeff: "+this.coeff.toString()+", terms: ["+this.terms.join(",")+"]: sum: "+this.sum.toString()+", count: "+this.count+"}"},r.Utils.toMapObj=function(b){for(var O=0,N={},R=0;R<b.length;R++){var B=b[R];typeof N[B]>"u"&&(N[B]=O,O++)}return N.length=O,N},r.Utils.filledArray=function(b,O,N){for(var R=[];O--;)R[O]=N?new N(b):b;return R},r.Utils.arrSum=function(b){for(var O=0,N=b.length,R=0;R<N;R++)O+=b[R];return O},r.Utils.haveIntersection=function(b,O){var N;return O.length>b.length&&(N=O,O=b,b=N),b.some(function(R){return O.indexOf(R)>-1})},r.Utils.subFunctions=function(b,O){O=O||{};var N=[];return b.each(function(R){if(R.group===y||R.previousGroup===y){var B=r.Utils.text(R,"hash"),j=O[B];if(j)N.push(R.altVar(j));else{var J=R.fname+I(O).length;O[B]=J,N.push(R.altVar(J))}}else R.group===w||R.group===$||R.group===T?N.push(r.Utils.subFunctions(R,O)):N.push(R.text())}),b.group===T||b.group===$?b.altVar(r.Utils.inBrackets(N.join("+"))):b.group===w?b.altVar(r.Utils.inBrackets(N.join("*"))):b.text()},r.Utils.getFunctionsSubs=function(b){var O={};for(var N in b)O[b[N]]=i.parse(N);return O};var _e=r.Algebra={version:"1.4.6",proots:function(b,O){O=O||7;var N=0,R=[],B=function(ut,en,nn){for(var De=Me(ut,en,nn).concat(R),se=0;se<N;se++)De.unshift(0);return De};if(b instanceof te&&b.isPoly()){if(b.distributeMultiplier(),b.group===$){var j=r.Utils.arrayMin(I(b.symbols)),J=b.symbols[j].clone().toUnitMultiplier();b=i.expand(i.divide(b,J)),R.push(0)}if(b.group===r.groups.S)return[0];if(b.group===r.groups.PL)var xe=I(b.symbols),fe=r.Utils.arrayMin(xe),b=r.PARSER.divide(b,r.PARSER.parse(b.value+"^"+fe));for(var Ne=I(b.symbols).sort().pop(),qe=b.group===r.groups.PL?b.symbols:b.symbols[Ne],de=qe.group,xe=de===f?[qe.power.toDecimal()]:I(qe.symbols),gt=[],ze=r.Utils.arrayMax(xe),Ft=1;Ft<=ze;Ft++){var Ge=0;xe.indexOf(Ft+"")!==-1&&(de===f?Ge=qe.multiplier:Ge=qe.symbols[Ft].multiplier),gt.unshift(Ge)}return gt.push(b.symbols[Ce].multiplier),qe.group===f&&(gt[0]=qe.multiplier),B(gt,xe,ze)}else if(r.Utils.isArray(b)){for(var et=b,gt=[],xe=[],Ct=0,Ft=0;Ft<et.length;Ft++){for(var nt=et[Ft][0],yt=et[Ft][1],Ut=yt-Ct-1,Ht=0;Ht<Ut;Ht++)gt.unshift(0);gt.unshift(nt),yt!==0&&xe.push(yt),Ct=yt}var ze=Math.max.apply(void 0,xe);return B(gt,xe,ze)}else throw new r.exceptions.NerdamerTypeError("Cannot calculate roots. Symbol must be a polynomial!");function Me(ut,en,nn){var De=100,se=ut.slice(0);if(ut.unshift(nn),nn>De)throw new r.exceptions.ValueLimitExceededError("This utility accepts polynomials of degree up to "+De+". ");var Ae=[],lt={};for(lt.Degree=nn,Ft=0;Ft<nn;Ft++)Ae.push(0);var Qe=Ae.slice(0);function Tt(Je,Fe,Lt,Bt,zt,ve){zt[0]=ve.b=Bt[0],zt[1]=ve.a=-(Fe*ve.b)+Bt[1];for(var Ye=2;Ye<Je;Ye++)zt[Ye]=-(Fe*ve.a+Lt*ve.b)+Bt[Ye],ve.b=ve.a,ve.a=zt[Ye]}function Et(Je,Fe,Lt,Bt,zt,ve,Ye,X,we){var tt=new Object,St=3;return tt.b=tt.a=0,Tt(Fe,Ye,X,ve,we,tt),zt.c=tt.a,zt.d=tt.b,Math.abs(zt.c)<=100*Je*Math.abs(ve[Fe-1])&&Math.abs(zt.d)<=100*Je*Math.abs(ve[Fe-2])||(zt.h=X*Bt,Math.abs(zt.d)>=Math.abs(zt.c)?(St=2,zt.e=Lt/zt.d,zt.f=zt.c/zt.d,zt.g=Ye*Bt,zt.a3=zt.e*(zt.g+Lt)+zt.h*(Bt/zt.d),zt.a1=-Lt+zt.f*Bt,zt.a7=zt.h+(zt.f+Ye)*Lt):(St=1,zt.e=Lt/zt.c,zt.f=zt.d/zt.c,zt.g=zt.e*Ye,zt.a3=zt.e*Lt+(zt.g+zt.h/zt.c)*Bt,zt.a1=-(Lt*(zt.d/zt.c))+Bt,zt.a7=zt.g*zt.d+zt.h*zt.f+Lt)),St}function Vt(Je,Fe,Lt,Bt,zt,ve,Ye,X,we){var tt;if(Lt==3){Ye[1]=Ye[0]=0;for(var St=2;St<Fe;St++)Ye[St]=X[St-2];return}if(tt=Lt==1?zt:Bt,Math.abs(ve.a1)>10*Je*Math.abs(tt)){ve.a7/=ve.a1,ve.a3/=ve.a1,Ye[0]=we[0],Ye[1]=-(we[0]*ve.a7)+we[1];for(var St=2;St<Fe;St++)Ye[St]=-(we[St-1]*ve.a7)+X[St-2]*ve.a3+we[St]}else{Ye[0]=0,Ye[1]=-(we[0]*ve.a7);for(var St=2;St<Fe;St++)Ye[St]=-(we[St-1]*ve.a7)+X[St-2]*ve.a3}}function rt(Je,Fe,Lt,Bt,zt,ve,Ye,X,we,tt,St,Zt,$n,pn,sr,wr,jn){var En,re,Te,gn,F,ie,x,W,ae;Fe.b=Fe.a=0,Je!=3&&(Je!=2?(En=Lt+$n*Ye+Zt*tt,re=X+($n+pn*tt)*we):(En=(Lt+St)*tt+Zt,re=(tt+$n)*X+pn*we),Te=-(sr[wr-1]/jn[wr]),gn=-(sr[wr-2]+Te*jn[wr-1])/jn[wr],F=pn*gn*Bt,ie=Te*ve,x=Te*Te*zt,W=-(ie+x)+F,ae=-W+re+Te*En,ae!=0&&(Fe.a=-(($n*(x+ie)+pn*(Te*Bt+gn*ve))/ae)+$n,Fe.b=pn*(1+W/ae)))}function P(Je,Fe,Lt,Bt){var zt,ve,Ye;if(Bt.sr=Bt.si=Bt.lr=Bt.li=0,Je==0){Bt.sr=Fe!=0?-(Lt/Fe):Bt.sr;return}if(Lt==0){Bt.lr=-(Fe/Je);return}zt=Fe/2,Math.abs(zt)<Math.abs(Lt)?(Ye=Lt>=0?Je:-Je,Ye=-Ye+zt*(zt/Math.abs(Lt)),ve=Math.sqrt(Math.abs(Ye))*Math.sqrt(Math.abs(Lt))):(Ye=-(Je/zt*(Lt/zt))+1,ve=Math.sqrt(Math.abs(Ye))*Math.abs(zt)),Ye>=0?(ve=zt>=0?-ve:ve,Bt.lr=(-zt+ve)/Je,Bt.sr=Bt.lr!=0?Lt/Bt.lr/Je:Bt.sr):(Bt.lr=Bt.sr=-(zt/Je),Bt.si=Math.abs(ve/Je),Bt.li=-Bt.si)}function Re(Je,Fe,Lt,Bt,zt,ve,Ye,X,we,tt,St,Zt){var $n=new Object,pn,sr,wr,jn,En,re,Te,gn,F,ie,x,W=0,ae,q=0;Lt.NZ=0,re=Bt,gn=zt;do{if($n.li=$n.lr=$n.si=$n.sr=0,P(1,re,gn,$n),Lt.szr=$n.sr,Lt.szi=$n.si,Lt.lzr=$n.lr,Lt.lzi=$n.li,Math.abs(Math.abs(Lt.szr)-Math.abs(Lt.lzr))>.01*Math.abs(Lt.lzr))break;for(Tt(Ye,re,gn,we,ve,X),sr=Math.abs(-(Lt.szr*X.b)+X.a)+Math.abs(Lt.szi*X.b),ie=Math.sqrt(Math.abs(gn)),pn=2*Math.abs(ve[0]),En=-(Lt.szr*X.b),x=1;x<Fe;x++)pn=pn*ie+Math.abs(ve[x]);if(pn=pn*ie+Math.abs(En+X.a),pn=(9*pn+2*Math.abs(En)-7*(Math.abs(X.a+En)+ie*Math.abs(X.b)))*Je,sr<=20*pn){Lt.NZ=2;break}if(W++,W>20)break;if(W>=2&&jn<=.01&&sr>=wr&&!q){for(jn=jn<Je?Math.sqrt(Je):Math.sqrt(jn),re-=re*jn,gn+=gn*jn,Tt(Ye,re,gn,we,ve,X),x=0;x<5;x++)ae=Et(Je,Fe,X.a,X.b,St,Zt,re,gn,tt),Vt(Je,Fe,ae,X.a,X.b,St,Zt,tt,ve);q=1,W=0}wr=sr,ae=Et(Je,Fe,X.a,X.b,St,Zt,re,gn,tt),Vt(Je,Fe,ae,X.a,X.b,St,Zt,tt,ve),ae=Et(Je,Fe,X.a,X.b,St,Zt,re,gn,tt),rt(ae,X,X.a,St.a1,St.a3,St.a7,X.b,St.c,St.d,St.f,St.g,St.h,re,gn,Zt,Fe,we),Te=X.a,F=X.b,F!=0&&(jn=Math.abs((-gn+F)/F),re=Te,gn=F)}while(F!=0)}function ke(Je,Fe,Lt,Bt,zt,ve,Ye,X,we){var tt,St,Zt,$n,pn,sr,wr,jn,En,re,Te,gn=Bt-1;for(Fe.NZ=Te=En=0,wr=Lt.a;;){for(sr=zt[0],Ye[0]=sr,re=1;re<ve;re++)Ye[re]=sr=sr*wr+zt[re];for(Zt=Math.abs(sr),$n=Math.abs(wr),tt=.5*Math.abs(Ye[0]),re=1;re<ve;re++)tt=tt*$n+Math.abs(Ye[re]);if(Zt<=20*Je*(2*tt-Zt)){Fe.NZ=1,Fe.szr=wr,Fe.szi=0;break}if(Te++,Te>10)break;if(Te>=2&&Math.abs(jn)<=.001*Math.abs(-jn+wr)&&Zt>pn){En=1,Fe.a=wr;break}for(pn=Zt,we[0]=St=X[0],re=1;re<Bt;re++)we[re]=St=St*wr+X[re];if(Math.abs(St)>Math.abs(X[gn])*10*Je)for(jn=-(sr/St),X[0]=Ye[0],re=1;re<Bt;re++)X[re]=jn*we[re-1]+Ye[re];else for(X[0]=0,re=1;re<Bt;re++)X[re]=we[re-1];for(St=X[0],re=1;re<Bt;re++)St=St*wr+X[re];jn=Math.abs(St)>Math.abs(X[gn])*10*Je?-(sr/St):0,wr+=jn}return En}function ht(Je,Fe,Lt,Bt,zt,ve,Ye,X,we,tt,St,Zt){var $n=new Object,pn=new Object,sr=new Array(Fe),wr=new Array(Fe),jn,En,re,Te,gn,F,ie,x,W,ae,q,ge,be,Le,st,$e,$t,Ue,p,D=1,Q,me,He,_t,Gt,bt;for(Zt.NZ=0,Te=re=.25,gn=Bt,x=zt,$n.b=$n.a=0,Tt(we,St,zt,X,tt,$n),jn=$n.a,En=$n.b,pn.h=pn.g=pn.f=pn.e=pn.d=pn.c=pn.a7=pn.a3=pn.a1=0,_t=Et(Je,Ye,jn,En,pn,ve,St,zt,sr),Q=0;Q<Lt;Q++){if(Ue=1,Vt(Je,Ye,_t,jn,En,pn,ve,sr,tt),_t=Et(Je,Ye,jn,En,pn,ve,St,zt,sr),rt(_t,$n,jn,pn.a1,pn.a3,pn.a7,En,pn.c,pn.d,pn.f,pn.g,pn.h,St,zt,ve,Ye,X),st=$n.a,$t=$e=$n.b,ae=ve[Ye-1]!=0?-(X[Ye]/ve[Ye-1]):0,q=be=1,Q!=0&&_t!=3&&(be=$t!=0?Math.abs(($t-x)/$t):be,q=ae!=0?Math.abs((ae-gn)/ae):q,Le=be<ie?be*ie:1,ge=q<F?q*F:1,Gt=Le<Te?1:0,me=ge<re?1:0,me||Gt)){for(p=0;p<Ye;p++)wr[p]=ve[p];for(W=ae,He=bt=0;;){if(!(Ue&&(Ue=0)==0&&me&&(!Gt||ge<Le))){if(Re(Je,Ye,Zt,st,$e,tt,we,$n,X,sr,pn,ve),jn=$n.a,En=$n.b,Zt.NZ>0)return;if(D=bt=1,Te*=.25,He||!me)D=0;else for(p=0;p<Ye;p++)ve[p]=wr[p]}if(D!=0){if($n.a=W,D=ke(Je,Zt,$n,Ye,X,we,tt,ve,sr),W=$n.a,Zt.NZ>0)return;if(He=1,re*=.25,D!=0){st=-(W+W),$e=W*W;continue}}for(p=0;p<Ye;p++)ve[p]=wr[p];if(!Gt||bt)break}Tt(we,St,zt,X,tt,$n),jn=$n.a,En=$n.b,_t=Et(Je,Ye,jn,En,pn,ve,St,zt,sr)}x=$t,gn=ae,ie=be,F=q}}function Mt(Je,Fe,Lt,Bt){var zt=Je.Degree,ve=3.141592653589793/180,Ye=Math.LN2,X=Je.Degree+1,we=new Array(X),tt=new Array(X),St=new Array(X),Zt=new Array(X),$n=new Object,pn=new Object,sr,wr,jn,En,re,Te,gn,F,ie,x,W,ae,q,ge,be,Le,st,$e,$t,Ue,p,D,Q,me;ae=1;do wr=ae,ae/=2,q=1+ae;while(q>1);var He=Number.MIN_VALUE/wr,_t=Math.cos(94*ve),Gt=Math.sin(94*ve),bt=Math.sqrt(.5),un=-bt;for(pn.NZ=$t=0,pn.szr=pn.szi=pn.lzr=pn.lzi=0;Fe[zt]==0;)Lt[$t]=Bt[$t]=0,zt--,$t++;for(Q=zt+1;zt>=1;){if(zt<=2){zt<2?(Lt[Je.Degree-1]=-(Fe[1]/Fe[0]),Bt[Je.Degree-1]=0):($n.li=$n.lr=$n.si=$n.sr=0,P(Fe[0],Fe[1],Fe[2],$n),Lt[Je.Degree-2]=$n.sr,Bt[Je.Degree-2]=$n.si,Lt[Je.Degree-1]=$n.lr,Bt[Je.Degree-1]=$n.li);break}for(gn=0,F=Number.MAX_VALUE,Yt=0;Yt<Q;Yt++)x=Math.abs(Fe[Yt]),x>gn&&(gn=x),x!=0&&x<F&&(F=x);if(ie=He/F,(ie<=1&&gn>=10||ie>1&&Number.MAX_VALUE/ie>=gn)&&(ie=ie==0?Number.MIN_VALUE:ie,p=Math.floor(Math.log(ie)/Ye+.5),re=Math.pow(2,p),re!=1))for(Yt=0;Yt<Q;Yt++)Fe[Yt]*=re;for(var Yt=0;Yt<Q;Yt++)tt[Yt]=Math.abs(Fe[Yt]);tt[zt]=-tt[zt],D=zt-1,x=Math.exp((Math.log(-tt[zt])-Math.log(tt[0]))/zt),tt[D]!=0&&(W=-tt[zt]/tt[D],x=W<x?W:x),W=x;do{x=W,W=.1*x,Te=tt[0];for(var Yt=1;Yt<Q;Yt++)Te=Te*W+tt[Yt]}while(Te>0);En=x;do{jn=Te=tt[0];for(var Yt=1;Yt<zt;Yt++)Te=x*Te+tt[Yt],jn=x*jn+Te;Te=x*Te+tt[zt],En=Te/jn,x-=En}while(Math.abs(En/x)>.005);sr=x;for(var Yt=1;Yt<zt;Yt++)we[Yt]=(zt-Yt)*Fe[Yt]/zt;for(we[0]=Fe[0],ae=Fe[zt],q=Fe[D],me=we[D]==0?1:0,Ue=0;Ue<5;Ue++)if(ge=we[D],me){for(var Yt=0;Yt<D;Yt++)$t=D-Yt,we[$t]=we[$t-1];we[0]=0,me=we[D]==0?1:0}else{Le=-ae/ge;for(var Yt=0;Yt<D;Yt++)$t=D-Yt,we[$t]=Le*we[$t-1]+Fe[$t];we[0]=Fe[0],me=Math.abs(we[D])<=Math.abs(q)*wr*10?1:0}for(var Yt=0;Yt<zt;Yt++)Zt[Yt]=we[Yt];for(Ue=1;Ue<=20;Ue++)if($e=-(Gt*un)+_t*bt,un=Gt*bt+_t*un,bt=$e,be=sr*bt,st=-(2*be),ht(wr,X,20*Ue,be,sr,we,zt,Fe,Q,St,st,pn),pn.NZ!=0){$t=Je.Degree-zt,Lt[$t]=pn.szr,Bt[$t]=pn.szi,Q=Q-pn.NZ,zt=Q-1;for(var Yt=0;Yt<Q;Yt++)Fe[Yt]=St[Yt];pn.NZ!=1&&(Lt[$t+1]=pn.lzr,Bt[$t+1]=pn.lzi);break}else for(var Yt=0;Yt<zt;Yt++)we[Yt]=Zt[Yt];if(Ue>20){Je.Degree-=zt;break}}}Mt(lt,se,Qe,Ae);var Ot=Ae.length;for(Ft=0;Ft<Ot;Ft++){var wt=he(Ae[Ft],O+8),ft=he(Qe[Ft],O+8);ft=O-String(ft).length>2?ft:Qe[Ft];var Y=wt<0?"-":"";ft===0&&(ft=""),wt===0&&(wt=""),wt=Math.abs(wt)===1?Y+"i":wt?wt+"*i":"";var Ee=ft&&wt?ft+"+"+wt:ft+wt;Qe[Ft]=Ee.replace(/\+\-/g,"-")}return Qe}},roots:function(b){if(b.isConstant(!0,!0))return r.Utils.nroots(b);var O=_e.proots(b).map(function(N){return i.parse(N)});return r.Vector.fromArray(O)},froot:function(b,O,N){var R=function(B){for(var j=1e-12,J=N||r.Utils.build(r.Calculus.diff(b.clone())),fe=b instanceof Function?b:r.Utils.build(b),Ne=1e4,qe=!1,de=0;!qe;){var xe=B-fe(B)/J(B),gt=Math.abs(xe)-Math.abs(B),ze=Math.abs(gt);B=xe,ze<j?qe=!0:de>Ne&&(B=null,qe=!0),de++}return B};return R(Number(O))},quad:function(b,O,N){var R=function(B,j,J,fe){return i.parse("-("+j+"+"+fe+"*sqrt(("+j+")^2-4*("+B+")*("+J+")))/(2*"+B+")")};return[R(b,O,N,1),R(b,O,N,-1)]},sumProd:function(b,O){return _e.quad(-O,b,-1).map(function(N){return N.invert()})},coeffs:function(b,O,N){O=String(O),b=i.expand(b),N=N||[new te(0)],b.group===g&&b.contains(O,!0)&&i.error("Unable to get coefficients using expression "+b.toString());var R=K(b);if(R.length===1&&R[0]===O&&!b.isImaginary())for(var B=new ce(b).coeffs.map(function(xe){return new te(xe)}),j=0,J=B.length;j<J;j++){var fe=B[j],Ne=N[j];Ne&&(fe=i.add(Ne,fe)),N[j]=fe}else if(O||i.error("Polynomial contains more than one variable. Please specify which variable is to be used!"),R.indexOf(O)===-1)N[0]=i.add(b,N[0]);else if(N=N||[new te(0)],b.group===w){var qe=b.symbols[O];qe||i.error("Expression is not a polynomial!");var de=Number(qe.power);fe=i.divide(b.clone(),qe.clone()),(fe.contains(O,!0)||de<0||!le(de))&&i.error("Expression is not a polynomial!");var Ne=N[de];Ne&&(fe=i.add(Ne,fe)),N[de]=fe}else b.group===T&&b.each(function(xe){_e.coeffs(xe.clone(),O,N)},!0);for(var j=0,J=N.length;j<J;j++)typeof N[j]>"u"&&(N[j]=new te(0));return N},polyPowers:function(b,O,N){N=N||[];var R=R=b.group;if(R===$&&O===b.value)N=N.concat(I(b.symbols));else if(R===T)for(var B in b.symbols){var j=b.symbols[B],R=j.group,J=j.value;if(R===f&&O===J)N.push(j.power);else if(R===$||R===T)N=_e.polyPowers(j,O,N);else if(R===w&&j.contains(O)){var fe=j.symbols[O];fe&&N.push(fe.power)}else(R===u||O!==J)&&N.push(0)}else R===w&&b.contains(O)&&N.push(r.Utils.decompose_fn(b,O,!0).x.power);return r.Utils.arrayUnique(N).sort()},Factor:{split:function(b){var O=new te(1),N=new te(1);return _e.Factor.factor(b,new Be).each(function(R){var B=i.parse(R);R.isConstant(!0)?O=i.multiply(O,B):N=i.multiply(N,B)}),[O,N]},mix:function(b,O){for(var N=I(b),R=N.length,B=[],j=0;j<R;j++){for(var J=N[j],fe=b[J],Ne=B.length,qe=0;qe<Ne;qe++){var de=B[qe]*J;B.push(de),O&&B.push(-de)}for(var qe=1;qe<=fe;qe++)B.push(Math.pow(J,qe))}return B},common:function(b,O){try{if(b.group===T){for(var N=i.expand(b.clone(),!0).collectSymbols(null,null,function(de,xe){return(xe.length||1)-(de.length||1)}),R={},B=[],j=0;j<N.length;j++){var J=N[j];B.push(J.multiplier.clone()),J.each(function(de){var xe=Number(de.power);if(isNaN(xe))throw new Error("exiting");de.value in R?(xe<R[de.value][0]&&(R[de.value][0]=xe),R[de.value][1].push(de)):R[de.value]=[xe,[de]]})}var fe=new te(1);for(var Ne in R)R[Ne][1].length===N.length&&(fe=i.multiply(fe,i.pow(new te(Ne),new te(R[Ne][0]))));var qe=r.Math2.QGCD.apply(null,B);if(!qe.equals(1)){O.add(new te(qe));for(var j=0;j<N.length;j++)N[j].multiplier=N[j].multiplier.divide(qe)}if(!fe.equals(1)){O.add(fe),b=new te(0);for(var j=0;j<N.length;j++)b=i.add(b,i.divide(N[j],fe.clone()))}}}catch{}return b},zeroes:function(b,O){var N=function(){throw new r.exceptions.ValueLimitExceededError("Exiting")};try{var R,B,j,J,fe;b=i.expand(b.clone()),fe=b.toString(),R=K(b),j=new te(0);for(var Ne=[],qe=[],de=0,xe=R.length;de<R.length;de++){for(var gt={},ze=0;ze<xe;ze++)de!==ze&&(gt[R[ze]]=0);B=i.parse(fe,gt);var Ft=B.power;le(Ft)||N(),Ne.push(B),qe.push(B.power)}if(r.Utils.allSame(qe)){var Ge=b.length,et=Ne.length;et===2&&(J=new V(qe[0]/(Ge-1))),et===3&&(J=new V(qe[0]/Math.round((Math.sqrt(8*Ge-1)-3)/2)))}else J=r.Math2.QGCD.apply(null,qe);le(J)||N();for(var de=0;de<Ne.length;de++){var Ct=Ne[de],nt=Ct.power.clone().divide(J);Ct.multiplier=new V(Math.pow(Ct.multiplier,1/nt)),Ct.power=J.clone(),j=i.add(j,Ct)}if(j.group!==T)return b;for(;;){var yt=_e.div(b.clone(),j.clone());if(yt[1].equals(0)){if(b=yt[0],O.add(j.clone()),b.equals(1))break}else break}}catch{}return b},factor:function(b,O){if(b.isConstant())return r.Math2.factor(b);var N=i.parse(b),R=_e.Factor._factor(N,O);if(R.equals(b))return R;if(R.group===w){var B=new te(1),j=i.parse(R.power),J=i.parse(R.multiplier);R.toUnitMultiplier(),R.multiplier.lessThan(0)&&(B.negate(),R.negate()),R.each(function(fe){var Ne=i.parse(_e.Factor._factor(fe));Ne.group===w?(J=i.multiply(J,te.create(Ne.multiplier)),Ne.each(function(qe){var de=i.parse(_e.Factor._factor(qe));B=i.multiply(B,de),de.group===w&&(J=i.multiply(J,te.create(de.multiplier)))})):B=i.multiply(B,Ne)}),R=i.pow(i.multiply(J,B),j)}return R},quadFactor:function(b,O){if(b.isPoly()&&_e.degree(b.equals(2))){var N=r.Utils.variables(b)[0],R=_e.coeffs(b,N),B=_e.Factor._factor(R[2].clone());if(B.group===w){var j=B.collectSymbols();if(j.length>2)return b;var J=i.multiply(i.parse(R[0]),i.parse(j[0])),fe=i.parse(R[1]).negate(),Ne=i.parse(j[1]),qe=_e.quad(Ne,fe,J).filter(function(gt){if(r.Utils.isInt(gt))return gt});if(qe.length===1){var de=qe[0],xe=i.divide(R[0],i.parse(de));r.Utils.isInt(xe)&&(O.add(i.parse(ne("({0})*({1})+({2})",j[1],N,xe))),O.add(i.parse(ne("({0})*({1})+({2})",j[0],N,de))),b=new te(1))}}}return b},cubeFactor:function(b,O){if(b.isComposite()){var N=b.collectSymbols();if(N.length===2){var R=N[0].sign(),B=N[0].clone().abs(),j=N[1].sign(),J=N[1].clone().abs();if(B.isCube()&&J.isCube()){R<j&&([R,j]=[j,R],[B,J]=[J,B]);var fe=i.parse(B.getNth(3)),Ne=i.parse(J.getNth(3)),qe=i.multiply(i.expand(i.pow(B.clone().toUnitMultiplier(),i.parse("1/3"))),fe),de=i.multiply(i.expand(i.pow(J.clone().toUnitMultiplier(),i.parse("1/3"))),Ne);R===1&&j===-1?(O.add(i.parse(ne("(({0})-({1}))",qe,de))),O.add(i.parse(ne("(({0})^2+({0})*({1})+({1})^2)",qe,de))),b=te(1)):R===1&&j===1&&(O.add(i.parse(ne("(({0})+({1}))",qe,de))),O.add(i.parse(ne("(({0})^2-({0})*({1})+({1})^2)",qe,de))),b=te(1))}}}return b},_factor:function(b,O){if(b.group,b.group===y){var N=b.args[0];if(N.group===f&&N.isSimple())return b}else if(b.group===f&&b.isSimple())return b;if(b.group===T){b.distributeMultiplier(!0);var R=new te(0);b.each(function(Qe){(Qe.group===T&&Qe.power.greaterThan(1)||Qe.group===w)&&(Qe=i.expand(Qe)),R=i.add(R,Qe)}),R.power=b.power,b=R}b.group===y&&b.fname!=="sqrt"&&(b=r.Utils.evaluate(b));var B=b.clone();try{if(b.group===w){var Ge=i.parse(b.power),j,J,fe,Ne,qe,de;if(j=_e.Simplify.strip(b.getDenom()),J=_e.Simplify.strip(b.getNum()),fe=j.pop(),Ne=J.pop(),Ne.equals(b))return b;de=_e.Factor.factor(Ne),qe=_e.Factor.factor(fe);var xe=_e.Simplify.unstrip(J,de),gt=_e.Simplify.unstrip(j,qe),ze=i.divide(xe,gt);return ze}if(b.group===f)return b;if(b.isConstant()){if(b.equals(1))return b.clone();var Ft=r.Math2.factor(b);return Ft}var Ge=b.power.clone();if(le(Ge)&&!(Ge.lessThan(0)&&b.group===y)){var et=Ge.sign();b.toLinear(),O=O||new Be;var Ct={};b=i.parse(r.Utils.subFunctions(b,Ct)),I(Ct).length>0&&(O.preAdd=function(Tt){var Et=i.parse(Tt,r.Utils.getFunctionsSubs(Ct));return Et}),b.isLinear()||(O.pFactor=b.power.toString(),b.toLinear());var nt=K(b);b.isImaginary()&&nt.push(r.Settings.IMAGINARY);var yt=nt.length>1;if(yt){var Ut=!0,Ht=!0;if(b.each(function(Tt){Tt.group!==f&&(Ut=!1),Tt.multiplier.equals(1)||(Ht=!1)}),Ut&&Ht)return i.pow(i.parse(b,r.Utils.getFunctionsSubs(Ct)),i.parse(Ge))}var Me=new Be;b=_e.Factor.coeffFactor(b,Me),Me.each(function(Tt){A(Ge)&&Tt.lessThan(0)&&Tt.negate(),et<0&&Tt.invert(),O.add(Tt)});var ut=new Be;if(b=_e.Factor.powerFactor(b,ut),ut.each(function(Tt){et<0&&Tt.invert(),O.add(Tt)}),yt)b=_e.Factor.cubeFactor(b,O),b=_e.Factor.mfactor(b,O),O.each(function(Tt){et<0&&Tt.power.negate()});else{var en=nt[0];b=_e.Factor.squareFree(b,O,en);var nn=new Be;b=_e.Factor.trialAndError(b,nn,en);var De=nn.toSymbol();if(De.equals(B))return De;for(var se in nn.factors){var Ae=nn.factors[se];O.add(i.pow(Ae,i.parse(Ge)))}b.equals(B)&&(b=_e.Factor.quadFactor(b,O))}b=i.parse(b,r.Utils.getFunctionsSubs(Ct));var lt=O.length===1;O.add(i.pow(b,i.parse(Ge)));var ze=O.toSymbol();return lt&&b.equals(1)&&ze.isLinear()&&(ze=i.pow(ze,i.parse(Ge))),ze}return b}catch{return B}},reduce:function(b,O){if(b.group===T&&b.length===2){var N=b.collectSymbols().sort(function(xe,gt){return gt.multiplier-xe.multiplier});if(N[0].power.equals(N[1].power)){var R=i.parse(N[0].power),B=N[0].clone().toLinear(),j=N[1].clone().toLinear();O.add(i.add(B.clone(),j.clone())),j.negate();for(var J=Number(R),fe=new te(0),Ne=1;Ne<=J;Ne++){var qe=i.pow(B.clone(),i.subtract(R.clone(),new te(Ne))),de=i.pow(j.clone(),i.subtract(new te(Ne),new te(1)));fe=i.add(fe,i.multiply(qe,de))}return fe}}return b},squareFree:function(b,O,N){if(b.isConstant()||b.group===f)return b;var R=new ce(b,N),B=R.squareFree(),j=B[2];if(j!==1){var J=B[1].toSymbol();J.power=J.power.multiply(new V(j)),O.add(_e.Factor.factor(J));var fe=_e.Factor.squareFree(B[0].toSymbol(),O);return fe}return b},powerFactor:function(b,O){if(b.group!==$||b.previousGroup===g)return b;var N=I(b.symbols);if(!r.Utils.allNumeric(N))return b;var R=r.Utils.arrayMin(N),B=new te(0),j=i.parse(b.value+"^"+R);return b.each(function(J){J=i.divide(J,j.clone()),B=i.add(B,J)}),O.add(j),B},coeffFactor:function(b,O){if(b.isComposite()){var N=r.Math2.QGCD.apply(null,b.coeffs());if(!N.equals(1))b.each(function(J){J.isComposite()?J.each(function(fe){fe.multiplier=fe.multiplier.divide(N)}):J.multiplier=J.multiplier.divide(N)}),b.updateHash();else{var R=function(J){var fe;return J.group===w?(fe=0,J.each(function(Ne){fe+=Ne.power})):fe=Number(J.power),fe},B=b.collectSymbols(null,null,null,!0).sort(function(J,fe){return J.isConstant(!0)?1:fe.power-J.power}),j=B[0];(R(j)>R(B[1])||B[1].isConstant(!0))&&j.multiplier.lessThan(0)&&(O.add(new te(-1)),b.each(function(J){J.negate()},!0))}O&&O.add(new te(N))}return b},trialAndError:function(b,O,N){var R=b.clone();try{var B=[];if(b.isConstant()||b.group===f)return b;for(var j=new ce(b,N),J=j.coeffs[0],fe=r.Math2.ifactor(J),Ne=_e.proots(b),qe=0;qe<Ne.length;qe++){var de=Ne[qe],xe=1;if(!isNaN(de)){for(var gt in fe){var ze=r.Utils.round(Math.log(gt)/Math.log(Math.abs(de)),8);if(le(ze)){de=gt,xe=ze;break}}var Ft=new V(de),Ge=[new V(Ft.num).negate()];Ge[xe]=new V(Ft.den);var et=ce.fromArray(Ge,j.variable).fill(),Ct=j.divide(et);Ct[1].equalsNumber(0)&&(j=Ct[0],B.push(et.toSymbol()))}}return j.equalsNumber(1)||(j=_e.Factor.search(j,O)),B.forEach(function(nt){O.add(nt)}),j.toSymbol()}catch{return R}},search:function(b,O,N){N=N||10;var R=b.variable,B=function(yt,Ut,Ht,Me){var ut=ce.fit(yt,Ut,Ht,N,Me,R);if(ut&&ut.coeffs.length>1){var en=b.divide(ut);if(en[1].equalsNumber(0))return O.add(ut.toSymbol()),[en[0],ut]}return null},j=b.coeffs[0],J=r.Math2.ifactor(j),fe=b.lc(),Ne=r.Math2.ifactor(fe),qe=b.sub(N),de=r.Math2.ifactor(qe),xe=_e.Factor.mix(de,qe<0),gt=Math.ceil(b.coeffs.length/2),ze=fe.lessThan(0),Ft=j.lessThan(0);for(Ne[1]=1,J[1]=1;gt--;)for(var Ge in Ne)for(var et in J)for(var Ct=0;Ct<xe.length;Ct++){var nt=B(Ge,et,xe[Ct],gt);if(nt)return b=nt[0],r.Utils.isPrime(b.sub(N))||(b=_e.Factor.search(b,O)),b;nt||(ze&&Ft?nt=B(-Ge,-et,xe[Ct],gt):ze?nt=B(-Ge,et,xe[Ct],gt):Ft&&(nt=B(Ge,-et,xe[Ct],gt)))}return b},mSqfrFactor:function(b,O){if(b.group!==y)for(var N=K(b).reverse(),R=0;R<N.length;R++)do{if(N[R]===b.value){O.add(b),b=new te(1);continue}var B=r.Calculus.diff(b,N[R]),j=_e.Factor.coeffFactor(B);if(j.equals(0))break;var J=!0;if(j.isConstant()&&b.isComposite()&&b.each(function(qe){qe.multiplier%j!==0&&(J=!1)},!0),J){var fe=_e.div(b,j.clone()),Ne=fe[1].equals(0);if(b.equals(fe[0])&&fe[1].equals(0))break;if(fe[0].isConstant()){O.add(fe[0]);break}}else Ne=!1;Ne&&(O.add(fe[0]),b=j)}while(Ne);return b},sqdiff:function(b,O){if(b.isConstant("all"))return b;try{var N=function(de){return r.Utils.block("POSITIVE_MULTIPLIERS",function(){return te.unwrapPARENS(Oe.sqrt(Oe.abs(de)))},!0)},R=r.Utils.separate(b.clone()),B=[];for(var j in R)j!=="constants"&&B.push(R[j]);if(B.sort(function(de,xe){return xe.power-de.power}),B.length===2){var J,fe;if(J=B.pop(),fe=B.pop(),A(J.power)&&A(fe.power)&&J.sign()===fe.sign()&&J.group===f&&fe.group===f)throw new Error("Unable to factor");if(J.isComposite()&&fe.power.equals(2)){fe=N(fe);var Ne=_e.Factor.factor(i.add(J,R.constants));Ne.power.equals(2)&&(Ne.toLinear(),O.add(i.subtract(Ne.clone(),fe.clone())),O.add(i.add(Ne,fe)),b=new te(1))}else if(J=J.powSimp(),fe=fe.powSimp(),(J.group===f||J.fname==="")&&J.power.equals(2)&&(fe.group===f||fe.fname==="")&&fe.power.equals(2)&&!R.constants){if(J.multiplier.lessThan(0)){var qe=fe;fe=J,J=qe}J.multiplier.greaterThan(0)&&(J=N(J),fe=N(fe)),O.add(i.subtract(J.clone(),fe.clone())),O.add(i.add(J,fe)),b=new te(1)}}}catch{}return b},mfactor:function(b,O){if(b.group===y)if(b.fname==="sqrt"){var N=new Be,R=_e.Factor.common(b.args[0].clone(),N);R=_e.Factor.coeffFactor(R,N),b=i.multiply(i.symfunction("sqrt",[R]),i.parse(b.multiplier)),N.each(function(nn){b=i.multiply(b,i.parse(r.Utils.format("sqrt({0})",nn)))})}else O.add(b);else{b=_e.Factor.mSqfrFactor(b,O);for(var B=K(b),j=b.collectSymbols().map(function(nn){return te.unwrapSQRT(nn)}),J={},fe={},Ne=B.length,qe=j.length,de=0;de<Ne;de++){var xe=B[de];J[xe]=new te(0);for(var gt=0;gt<qe;gt++){var ze=j[gt];if(ze.contains(xe)){var Ft=ze.value===xe?ze.power.toDecimal():ze.symbols[xe].power.toDecimal();(!fe[xe]||Ft<fe[xe])&&(fe[xe]=Ft),J[xe]=i.add(J[xe],ze.clone())}}}for(var Ge in J){var et=i.parse(Ge+"^"+fe[Ge]),Ct=i.divide(J[Ge],et),nt=i.expand(Ct);if(nt.equals(1))break;var yt=_e.div(b.clone(),nt);if(yt[0].equals(0))break;if(yt[1].equals(0)){var Ut=!1;if(yt[0].each(function(nn){le(nn.multiplier)||(Ut=!0)}),Ut){yt[1]=i.expand(i.multiply(yt[1],nt));break}}var Ht=le(nt)&&nt.lessThan(0);if(yt[1].equals(0)&&!Ht){var Me=_e.div(b.clone(),yt[0].clone()),et=Me[0];if(et.equals(0)||(b=Me[1],et.equals(-1)&&!b.equals(0)))return b;var ut=yt[0];if(b.equals(ut)){var en=_e.Factor.reduce(ut,O);return b.equals(en)?en:_e.Factor.mfactor(en,O)}else if(O.add(ut),b.equals(0))return et;return et.isConstant("all")?(O.add(et),et):_e.Factor.mfactor(et,O)}}}return b=_e.Factor.sqdiff(b,O),b=_e.Factor.zeroes(b,O),b}},allLinear:function(b){for(var O=b.length,N=0;N<O;N++)if(!_e.isLinear(b[N]))return!1;return!0},isLinear:function(b){var O=!1,N=b.group;if(N===$||N===T){O=!0;for(var R in b.symbols){var B=b.symbols[R],j=B.group;if((j===y||j===g)&&(O=!1),j===w)O=K(B).length===1;else if(j===$||j===T)O=_e.isLinear(B);else if(B.group!==u&&B.power.toString()!=="1"){O=!1;break}}}else N===f&&b.power===1&&(O=!0);return O},gcd:function(){var b;if(arguments.length===1&&arguments[0]instanceof r.Vector?b=arguments[0].elements:b=r.Utils.arguments2Array(arguments),b.length===0)return new te(1);if(b.length===1)return b[0];for(var O=[],N=!1,R=0;R<b.length;R++)if(b[R].group===y&&b[R].fname==="gcd")b=b.concat(arguments[R].args),b.splice(R,1);else{var B=K(b[R]);if(r.Utils.haveIntersection(B,O)){N=!0;break}else O=O.concat(B)}if(N||O.length===0)if(b.every(function(J){return J.getDenom().equals(1)})){for(var j=b[0],R=1;R<b.length;R++)j=_e.gcd_(b[R],j);return j}else return i.divide(_e.gcd.apply(null,b.map(function(J){return J.getNum()})),_e.lcm.apply(null,b.map(function(J){return J.getDenom()})));else return i.symfunction("gcd",b)},gcd_:function(b,O){if((b.group===y||b.group===h)&&(b=r.Utils.block("PARSE2NUMBER",function(){return i.parse(b)})),O.group===y&&(O=r.Utils.block("PARSE2NUMBER",function(){return i.parse(O)})),b.isConstant()&&O.isConstant())return new te(r.Math2.QGCD(new V(+b),new V(+O)));var N=i.multiply(b.getDenom()||new te(1),O.getDenom()||new te(1)).invert();if(b=i.multiply(b.clone(),N.clone()),O=i.multiply(O.clone(),N.clone()),b=i.expand(b),O=i.expand(O),b.group===w||O.group===w){var R=i.divide(b.clone(),O.clone()),B=i.multiply(O.clone(),R.getDenom().invert());if(!B.equals(1))return B}if(b.group===g||O.group===g){var j=new te(r.Math2.GCD(b.multiplier,O.multiplier)),J=_e.gcd_(b.value===Ce?new te(1):i.parse(b.value),O.value===Ce?new te(1):i.parse(O.value)),fe=_e.gcd_(i.parse(b.power),i.parse(O.power));return i.multiply(j,i.pow(J,fe))}if(b.length<O.length){var B=b;b=O,O=B}var Ne=K(b),qe=K(O);if(Ne.length===qe.length&&Ne.length===1&&Ne[0]===qe[0]||Ne.length===1&&qe.length===0||Ne.length===0&&qe.length===1)return b=new ce(b),O=new ce(O),i.divide(b.gcd(O).toSymbol(),N);var de=[];b.each(function(ze){de.push(ze.multiplier)}),O.each(function(ze){de.push(ze.multiplier)});for(var xe;!O.equals(0);){var B=O.clone();if(b=b.clone(),xe=_e.div(b,B),O=xe[1],xe[0].equals(0))return i.divide(new te(r.Math2.QGCD(b.multiplier,O.multiplier)),N);b=B}var gt=r.Math2.QGCD.apply(void 0,de);return gt.equals(1)||b.each(function(ze){ze.multiplier=ze.multiplier.divide(gt)}),b.equals(1)&&!b.isConstant()&&!O.isConstant()?i.divide(i.symfunction("gcd",arguments),N):i.divide(b,N)},lcm:function(){var b;arguments.length===1?arguments[0]instanceof r.Vector?b=arguments[0].elements:i.error("lcm expects either 1 vector or 2 or more arguments"):b=r.Utils.arguments2Array(arguments);var O=b.reduce(function(j,J){return i.multiply(j,J.clone())},new te(1)),N=(function(j,J){J=Number(J);var fe=[],Ne,qe,de,xe=Math.pow(2,j.length);for(qe=J;qe<xe;qe++){Ne=[],de=j.length-1;do(qe&1<<de)!==0&&Ne.push(j[de]);while(de--);Ne.length===J&&fe.push(Ne)}return fe})(arguments,arguments.length-1).map(function(j){return j.reduce(function(J,fe){return i.multiply(J,fe.clone())},new te(1))}),R;b.every(function(j){return r.Utils.isVariableSymbol(j)})?R=i.symfunction("gcd",r.Utils.arrayUnique(N)):R=_e.gcd.apply(null,N);var B=i.divide(O,R);return B},divide:function(b,O){var N,R,B,j;return B=r.Algebra.Factor.factor(b.clone()),j=B.getDenom(),j.isConstant("all")?j=new te(1):b=i.expand(te.unwrapPARENS(i.multiply(B,j.clone()))),N=_e.div(b,O),R=i.divide(N[1],O),i.divide(i.add(N[0],R),j)},div:function(b,O){var N=[new te(0),b.clone()];try{if(O.isConstant("all"))return b.each(function(Ee){Ee.multiplier=Ee.multiplier.divide(O.multiplier)}),[b,new te(0)];if(b=i.expand(b),O=i.expand(O),b.group===f&&O.group===T){var R=b.value,B=r.Utils.decompose_fn(O.clone(),R,!0);if(b.isLinear()&&B.x&&B.x.isLinear()&&O.isLinear()){var j=te.create(b.multiplier);return[i.divide(j.clone(),B.a.clone()),i.divide(i.multiply(j,B.b),B.a).negate()]}}if(b.group===f&&O.group===f){var J=i.divide(b.clone(),O.clone());return J.isConstant()?[J,new te(0)]:[new te(0),b.clone()]}var fe=b.hasFunc(),Ne=O.hasFunc(),qe=!1;if(fe||Ne){qe=!0;var de={},b=i.parse(r.Utils.subFunctions(b,de)),O=i.parse(r.Utils.subFunctions(O,de)),xe=r.Utils.getFunctionsSubs(de)}var gt=r.Utils.arrayUnique(K(b).concat(K(O))),ze,Ft;if((b.isImaginary()||O.isImaginary())&&gt.push(r.Settings.IMAGINARY),gt.length===1){var Ge=new ce(b).divide(new ce(O));ze=Ge[0].toSymbol(),Ft=Ge[1].toSymbol()}else{gt.push(Ce);var et=function(Ee){for(var Je=new te(0),Fe=0;Fe<Ee.length;Fe++){var Lt=Ee[Fe].toSymbol();Je=i.add(Je,Lt)}return Je},Ct=function(Ee,Je){var Fe=Math.max.apply(null,Ee.terms),Lt=0,Bt;if(!Je){for(var zt=0;zt<Ee.terms.length;zt++)if(Ee.terms[zt].equals(Fe)&&(Bt=zt,Lt++),Lt>1)return}if(Je){for(zt=0;zt<Ee.terms.length;zt++)if(Ee.terms[zt].equals(Fe)){Bt=zt;break}}return[Fe,Bt,Ee]},nt=function(Ee,Je){Je=Je||0;var Fe=Ee[Je],Lt=Ee.length;if(Fe){for(var Bt=Ct(Fe),zt=Je+1;zt<Lt;zt++){var ve=Ee[zt],Ye=Fe.sum.equals(ve.sum);if(!Ye&&Bt)break;if(Ye){for(var X,we,tt,St,Zt=Fe.terms.length,$n=0;$n<Zt;$n++){var pn=Fe.terms[$n],sr=ve.terms[$n];(typeof X>"u"||pn.greaterThan(X))&&(X=pn,tt=$n),(typeof we>"u"||sr.greaterThan(we))&&(we=sr,St=$n)}var wr=X.subtract(ve.terms[tt]),jn=we.subtract(Fe.terms[St]);if(jn>wr){Bt=[we,St,ve];break}if(wr>jn){Bt=[X,tt,Fe];break}}else if(Bt=Ct(ve),Bt)break;Bt=Ct(ve)}if(!Bt)return Ct(Ee[0],!0);for(var En,re,zt=0;zt<ut.length;zt++){var Te=ut[zt].terms;if(re=Bt[1],re===Te.length-1)return;if(En=Te[re],!En.equals(0))break}return En.equals(0)?nt(Ee,++Je):Bt}},yt=r.Utils.toMapObj(gt),Ut=function(Ee,Je){return Je.sum.subtract(Ee.sum)},Ht=function(Ee,Je){if(!Ee||!Je)return!1;for(var Fe=0;Fe<Ee.terms.length;Fe++)if(Ee.terms[Fe].lessThan(Je.terms[Fe]))return!1;return!0},Me=b.tBase(yt).sort(Ut),ut=O.tBase(yt).sort(Ut),en=Ht(Me[0],ut[0])&&Me[0].count>ut[0].count?ut:Me,nn=nt(en),De=[];if(nn){var se=nn[1],Ae=function(Ee,Je){return Ee[0].sum.equals(Je[0].sum)?Ee.length>=Je.length:!0},lt=function(Ee,Je,Fe){for(var Lt=[],Bt=0;Bt<Ee.length;Bt++)for(var zt=Ee[Bt],ve=0;ve<zt.terms.length;ve++){var Ye=Lt[ve],X=zt.terms[ve];Bt===0?Lt[ve]=X:Ye&&!Ye.equals(X)&&(Lt[ve]=void 0)}for(var Bt=0;Bt<Lt.length;Bt++){var zt=Lt[Bt];if(zt&&!zt.equals(0))return Bt}return Fe},Qe=function(Ee,Je){var Fe=Ee.len(),Lt=Je.len(),Bt=Je.terms[se],zt=Ee.terms[se];return Lt>Fe&&Bt.greaterThan(zt)?Lt-Fe:Bt.subtract(zt)};se=lt(Me,ut,se),Me.sort(Qe),ut.sort(Qe);var Tt=ut[0],Et=Me[0],Vt=new je(new V(1),[],Et.map);if(Tt.sum.greaterThan(Et.sum)&&Et.len()>1)for(var rt=0;rt<Et.terms.length;rt++){var P=Tt.terms[rt].subtract(Et.terms[rt]);if(P.equals(0))Vt.terms[rt]=new V(0);else{var Re=P.add(new V(1));Vt.terms[rt]=P;for(var ke=0;ke<Me.length;ke++)Me[ke].terms[rt]=Me[ke].terms[rt].add(Re)}}for(var ht=Ht(Me[0],ut[0]),Mt=0,Ot=200;ht&&Ae(Me,ut);){if(Mt++>Ot)throw new r.exceptions.InfiniteLoopError("Unable to compute!");var Ge=Me[0].divide(ut[0]);De.push(Ge),Me.shift();for(var rt=1;rt<ut.length;rt++){var wt=ut[rt].multiply(Ge).generateImage(),ft=Me.length;ft===0&&(wt.coeff=wt.coeff.neg(),Me.push(wt),Me.sort(Qe));for(var ke=0;ke<ft;ke++){var Y=Me[ke];if(Y.getImg()===wt.getImg()){Y.coeff=Y.coeff.subtract(wt.coeff),Y.coeff.equals(0)&&(r.Utils.remove(Me,ke),ke--);break}ke===ft-1&&(wt.coeff=wt.coeff.neg(),Me.push(wt),Me.sort(Qe))}}if(ht=Ht(Me[0],ut[0]),!ht&&Me.length>=ut.length){for(var rt=1;rt<Me.length;rt++)if(ht=Ht(Me[rt],ut[0]),ht){Me.unshift(r.Utils.remove(Me,rt));break}}}}ze=et(De),Ft=et(Me),typeof Vt<"u"&&(Vt=Vt.toSymbol(),ze=i.divide(ze,Vt.clone()),Ft=i.divide(Ft,Vt))}return qe&&(ze=i.parse(ze.text(),xe),Ft=i.parse(Ft.text(),xe)),[ze,Ft]}catch{return N}},line:function(b,O,N){r.Utils.isArray(b)&&(b=r.Utils.convertToVector(b)),r.Utils.isArray(O)&&(O=r.Utils.convertToVector(O)),N=i.parse(N||"x"),(!r.Utils.isVector(b)||!r.Utils.isVector(O))&&i.error('Line expects a vector! Received "'+b+'" & "'+O+'"');var R=i.subtract(O.e(1).clone(),b.e(1).clone()),B=i.subtract(O.e(2).clone(),b.e(2).clone()),j=i.divide(B,R),J=i.multiply(N,j.clone()),fe=i.multiply(b.e(1).clone(),j);return i.add(i.subtract(J,fe),b.e(2).clone())},PartFrac:{createTemplate:function(b,O,N,R){b=_e.Factor.factor(b),b.each(function(et,Ct){if(et.group===y&&et.fname===""&&et.args[0].group===f){var nt=et.args[0];this.symbols?(delete this.symbols[Ct],this.symbols[nt.value]=nt):b=et.args[0]}});var B,j,J,fe,Ne,qe,de;B=O.collectFactors(),j=[],qe=[],de=new te(1);for(var xe=0;xe<B.length;xe++){var gt=te.unwrapPARENS(B[xe]);if(gt.power.greaterThan(1)){fe=Number(gt.power),J=gt.clone().toLinear(),Ne=Number(_e.degree(J,R));for(var ze=0;ze<fe;ze++){var Ft=i.pow(J.clone(),new te(ze+1));N.push(Ft.clone());var Ge=i.divide(b.clone(),Ft.clone());qe.push(Ne),j.push(Ge)}}else{Ne=Number(_e.degree(gt,R)),N.push(gt);var Ge=i.divide(b.clone(),gt.clone());Ge=i.expand(te.unwrapPARENS(Ge)),qe.push(Ne),j.push(Ge)}}return N=N.map(function(et){return i.multiply(et,de.clone())}),[N,j,qe]},partfrac:function(b,O,N){var R=K(b);O=O||i.parse(R[0]);try{var B,j,J,Ut,fe,Ne,qe,de,xe,gt,ze,Ft,Ge,et,Ct,nt,yt,Ut;if(B=i.expand(b.getNum()),j=i.expand(b.getDenom().toUnitMultiplier()),B.multiplier=b.multiplier,Ne=B.groupTerms(O),Number(_e.degree(B,O))>=Number(_e.degree(j,O))?(Ge=_e.div(B.clone(),i.expand(j.clone())),et=Ge[0],B=Ge[1],Ne=B.groupTerms(O)):et=new te(0),Number(_e.degree(j,O))===1){var Ht=i.divide(B,j);return N?[et,Ht]:i.add(et,Ht)}fe=_e.Factor.factor(j),yt=_e.PartFrac.createTemplate(j.clone(),fe,[],O),Ut=yt[0],Ct=yt[1],qe=yt[2],Ft=[Ne.length],de=[],J=[],nt=[];var Me,ut;Ct.map(function(Qe,Tt){Me=Ut[Tt],ut=qe[Tt];for(var Et=0;Et<ut;Et++){J.push(Me.clone());var Vt=te.create(O,Et),rt=i.expand(i.multiply(Qe,Vt.clone())).groupTerms(O),P=rt.length;Ft.push(P),de.push(rt),nt.push(Vt.clone())}}),xe=r.Utils.arrayMax(Ft),ze=new r.Matrix(r.Utils.fillHoles(Ne,xe)).transpose(),gt=new r.Matrix;for(var en=0;en<de.length;en++)gt.elements.push(r.Utils.fillHoles(de[en],xe));var nn=i.multiply(gt.transpose().invert(),ze),De=N?[et]:et;return nn.each(function(Qe,Tt){var Et=i.multiply(nt[Tt],i.divide(Qe,J[Tt]));N?De.push(Et):De=i.add(De,Et)}),De}catch{try{if(b.isComposite()){var se={};b.each(function(Tt){var Et=Tt.getDenom(),Vt=Tt.getNum(),rt=se[Et];se[Et]=rt?i.add(rt,Vt):Vt});var Ae=new te(0);for(var lt in se)Ae=i.add(Ae,i.divide(se[lt],i.parse(lt)));b=Ae}}catch{}}return b}},degree:function(b,O,N){if(N=N||{nd:[],sd:[],depth:0},!O){var R=K(b);if(R.length>1)throw new Error("You must specify the variable for multivariate polynomials!");if(R.length===0)return new te(0);O=i.parse(R[0])}var B=b.group;b.isComposite()?(b=b.clone(),b.distributeExponent(),b.each(function(J){N.depth++,_e.degree(J,O,N),N.depth--})):b.group===w?b.each(function(J){N.depth++,_e.degree(J,O,N),N.depth++}):B===g&&b.value===O.value?N.sd.push(b.power.clone()):B===f&&b.value===O.value?N.nd.push(i.parse(b.power)):N.nd.push(new te(0));var j=N.nd.length>0?r.Utils.arrayMax(N.nd):void 0;return N.depth===0&&N.sd.length>0?(j!==void 0&&N.sd.unshift(j),i.symfunction("max",N.sd)):(r.Utils.isSymbol(j)||(j=i.parse(j)),j)},sqComplete:function(b,O,N){r.Utils.isSymbol(O)||(O=i.parse(O));var R=function(Ge){throw Ge=Ge||"Stopping",new r.exceptions.ValueLimitExceededError(Ge)};b.isPoly(!0)||R("Must be a polynomial!");var B,j,J,fe,Ne,qe,de,xe,gt,ze,Ft;return gt=r.Utils.inBrackets,b=b.clone(),B=r.Algebra.degree(b,O),B.equals(2)||R("Cannot complete square for degree "+B),de=r.Algebra.coeffs(b,O),j=de[2],xe=de[1].sign(),J=i.divide(de[1],new te(2)),fe=i.pow(J.clone(),new te(2)),N?[j,J,Ne]:(Ft=Oe.sqrt(j),qe=i.divide(Oe.sqrt(fe),Ft.clone()),Ne=i.subtract(de[0],i.pow(qe.clone(),new te(2))),ze=i.parse(gt(Ft.clone()+"*"+O+(xe<0?"-":"+")+qe)),{a:ze,c:Ne,f:i.add(i.pow(ze.clone(),new te(2)),Ne.clone())})},Simplify:{strip:function(b){var O=i.parse(b.multiplier);b.toUnitMultiplier();var N=i.parse(b.power);return b.toLinear(),[O,N,b]},unstrip:function(b,O){var N=b[0],R=b[1];return i.multiply(N,i.pow(O,R))},complexSimp:function(b,O){var N,R,B,j,J,fe,Ne,qe,de;return fe=b.realpart(),qe=b.imagpart(),Ne=O.realpart(),de=O.imagpart(),N=i.multiply(fe.clone(),Ne.clone()),R=i.multiply(qe.clone(),de.clone()),B=i.multiply(Ne.clone(),qe),j=i.multiply(fe,de.clone()),J=i.add(i.pow(Ne,new te(2)),i.pow(de,new te(2))),i.divide(i.add(i.add(N,R),i.multiply(i.subtract(B,j),te.imaginary())),J)},trigSimp:function(b){if(b.containsFunction(["cos","sin","tan"])){b=b.clone();var O=_e.Simplify.strip(b);b=O.pop();var N=b.clone();if(b.group===T){var R=new te(0);b.each(function(fe){var Ne=_e.Simplify.trigSimp(fe.fnTransform());R=i.add(R,Ne)},!0),N=i.pow(i.multiply(new te(b.multiplier),R),new te(b.power))}else if(b.group===w){var B=b.getNum(),j=b.getDenom();if(B.fname==="sin"&&j.fname==="cos"&&B.args[0].equals(j.args[0])&&B.power.equals(j.power)&&(N=i.parse(r.Utils.format("({0})*({1})*tan({2})^({3})",j.multiplier,B.multiplier,B.args[0],B.power))),N.group===w){var J=new te(1);N.each(function(fe){fe.fname==="tan"&&(fe=i.parse(r.Utils.format("({0})*sin({1})^({2})/cos({1})^({2})",fe.multiplier,_e.Simplify.simplify(fe.args[0]),fe.power))),J=i.multiply(J,fe)}),N=J}}N=_e.Simplify.unstrip(O,N).distributeMultiplier(),b=N}return b},fracSimp:function(b){var O=b.getDenom(),N=b.getNum();if(N.isImaginary()&&O.isImaginary()&&(b=_e.Simplify.complexSimp(N,O)),b.isComposite()){b.power>1&&(b=i.expand(b));var R=b.collectSymbols(),B,j,J,fe,Ne,qe,de,xe,gt,ze,Ft,O,N;for(j=R.pop();R.length;)J=R.pop(),fe=i.parse(j.getDenom()),Ne=i.parse(J.getDenom()),qe=j.getNum(),de=J.getNum(),Ft=i.multiply(fe.clone(),Ne.clone()),gt=i.multiply(qe,Ne),ze=i.multiply(de,fe),xe=i.add(gt,ze),j=i.divide(xe,Ft);return O=i.expand(j.getDenom()),N=i.expand(j.getNum()),N.isImaginary()&&O.isImaginary()?B=_e.Simplify.complexSimp(N,O):B=i.divide(N,O),B.equals(b)?b:_e.Simplify.simplify(B)}return b},ratSimp:function(b){if(b.group===w){var O=b.getDenom(),N=b.getNum().distributeMultiplier(),R=_e.Simplify.fracSimp(O),B=_e.Simplify.fracSimp(N);b=i.divide(B,R)}return b},sqrtSimp:function(b,O){var N;if(b.isSQRT()){var R=_e.Factor.factor(b.args[0].clone()),B=i.parse(R.multiplier),j=B.sign(),N=i.sqrt(B.abs()),J;if(le(N)){if(R.group===w){var fe=new te(1);R.each(function(de){if(de.group===u){var xe=i.sqrt(de.clone());le(xe)?N=i.multiply(N,xe):fe=i.multiply(fe,de)}else fe=i.multiply(fe,de)});var Ne=i.multiply(fe,i.parse(j));J=i.sqrt(Ne.clone()),J.isImaginary&&(J=i.sqrt(i.expand(Ne.clone())))}else J=i.sqrt(R.clone().toUnitMultiplier());return i.multiply(N,J)}}else b.isComposite()&&b.isLinear()?(N=new te(0),b.each(function(qe){N=i.add(N,_e.Simplify.sqrtSimp(qe))},!0),N=i.multiply(N,i.parse(b.multiplier))):b.group===w&&(N=i.parse(b.multiplier),b.each(function(qe){var de=_e.Simplify.sqrtSimp(qe);N=i.multiply(N,de)},!0),N=i.pow(N,i.parse(b.power)));return N||i.parse(b)},patternSub:function(b){var O={},N=function(B){var j=!1;return B.each(function(J){J.group===T?j=!0:J.symbols&&(j=N(J))}),j},R=function(B){B.each(function(j){if(!(!j.symbols&&j.group!==y)){if(N(j))R(j);else if(!O[j.value]){var J=r.Utils.getU(b);O[j.value]=J,b=b.sub(j.value,J)}}},!0)};return R(b),[b,O]},simplify:function(b){var O=_e.Simplify.strip(b);if(b=O.pop(),b=_e.Simplify.fracSimp(b),b.isConstant()||b.group===r.groups.S){O.push(b);var N=_e.Simplify.unstrip(O,b);return N}var R=b.clone();if(R=_e.Simplify.trigSimp(R),R=_e.Simplify.ratSimp(R),R=_e.Factor.factor(R),R.group===r.groups.CP&&R.isLinear()){var B=R.multiplier.clone();R.toUnitMultiplier();var j=new te(0);R.each(function(fe){var Ne=_e.Simplify.simplify(fe);j=i.add(j,Ne)}),R=j,j.multiplier=j.multiplier.multiply(B)}var J=_e.Simplify.unstrip(O,R);return J}},Classes:{Polynomial:ce,Factors:Be,MVTerm:je}};r.Expression.prototype.simplify=function(){return _e.Simplify.simplify(this.symbol)},s.useAlgebraDiv=function(){var b=_e.divideFn=i.divide,O=0;i.divide=function(N,R){O++;var B;return O===1?B=r.Algebra.divide(N,R):B=b(N,R),O=0,B}},s.useParserDiv=function(){_e.divideFn&&(i.divide=_e.divideFn),delete _e.divideFn},s.register([{name:"factor",visible:!0,numargs:1,build:function(){return _e.Factor.factor}},{name:"simplify",visible:!0,numargs:1,build:function(){return _e.Simplify.simplify}},{name:"gcd",visible:!0,numargs:[1],build:function(){return _e.gcd}},{name:"lcm",visible:!0,numargs:[1],build:function(){return _e.lcm}},{name:"roots",visible:!0,numargs:-1,build:function(){return _e.roots}},{name:"divide",visible:!0,numargs:2,build:function(){return _e.divide}},{name:"div",visible:!0,numargs:2,build:function(){return _e.div}},{name:"partfrac",visible:!0,numargs:[1,2],build:function(){return _e.PartFrac.partfrac}},{name:"deg",visible:!0,numargs:[1,2],build:function(){return _e.degree}},{name:"coeffs",visible:!0,numargs:[1,2],build:function(){var b=function(){var O=_e.coeffs.apply(_e,arguments);return new r.Vector(O)};return b}},{name:"line",visible:!0,numargs:[2,3],build:function(){return _e.line}},{name:"sqcomp",visible:!0,numargs:[1,2],build:function(){var b=function(O,N){try{N=N||K(O)[0];var R=_e.sqComplete(O.clone(),N);return R.f}catch{return O}};return b}}]),s.updateAPI()})()})()),dw.exports}var mw;function m9(){return mw||(mw=1,(function(t){if(typeof s>"u"){var s=r4();p9()}(function(){var r=s.getCore(),i=r.PARSER,u=r.Frac,h=r.Settings,f=r.Utils.isSymbol,he=r.groups.FN,g=r.Symbol,y=r.Utils.text,$=r.Utils.inBrackets,T=r.Utils.isInt,w=r.Utils.format,I=r.Utils.even,A=r.Utils.evaluate,K=r.groups.N,ne=r.groups.S,he=r.groups.FN,V=r.groups.PL,le=r.groups.CP,te=r.groups.CB,Ce=r.groups.EX,Oe=r.groups.P,ce=h.LOG,Be="exp",je="abs",_e="sqrt",b="sin",O="cos",N="tan",R="sec",B="csc",j="cot",J="asin",fe="acos",Ne="atan",qe="asec",de="acsc",xe="acot",gt="sinh",ze="cosh",Ft="tanh",Ge="csch",et="sech",Ct="coth",nt="asech",yt="acsch",Ut="acoth";function Ht(Ae){this.message=Ae||""}Ht.prototype=new Error,g.prototype.hasIntegral=function(){return this.containsFunction("integrate")},g.prototype.fnTransform=function(){if(this.group!==he)return this;var Ae,lt=this.args[0],Qe=new g(this.multiplier),Tt=this.clone().toUnitMultiplier();if(this.isLinear())switch(this.fname){case gt:Ae=i.parse(w("(e^({0})-e^(-({0})))/2",lt));break;case ze:Ae=i.parse(w("(e^({0})+e^(-({0})))/2",lt));break;case Ft:Ae=i.parse(w("(e^({0})-e^(-({0})))/(e^({0})+e^(-({0})))",lt));break;case N:Ae=i.parse(w("sin({0})/cos({0})",lt));break;case B:Ae=i.parse(w("1/sin({0})",lt));break;case R:Ae=i.parse(w("1/cos({0})",lt));break;default:Ae=Tt}else if(this.power.equals(2))switch(this.fname){case b:Ae=i.parse(w("1/2-cos(2*({0}))/2",lt));break;case O:Ae=i.parse(w("1/2+cos(2*({0}))/2",lt));break;case N:Ae=i.parse(w("sin({0})^2/cos({0})^2",lt));break;case ze:Ae=i.parse(w("1/2+cosh(2*({0}))/2",lt));break;case gt:Ae=i.parse(w("-1/2+cosh(2*({0}))/2",lt));break;case Ft:Ae=i.parse(w("(1+cosh(2*({0})))/(-1+cosh(2*({0})))",lt));break;case R:Ae=i.parse(w("(1-cos(2*({0})))/(1+cos(2*({0})))+1",lt));break;default:Ae=Tt}else if(this.fname===R)Ae=i.parse(w("1/cos({0})^({1})",this.args[0],this.power));else if(this.fname===B)Ae=i.parse(w("1/sin({0})^({1})",this.args[0],this.power));else if(this.fname===N)this.power.lessThan(0)?Ae=i.parse(w("cos({0})^(-({1}))/sin({0})^({1})",this.args[0],this.power.negate())):Ae=i.parse(w("sin({0})^({1})/cos({0})^({1})",this.args[0],this.power));else if(this.fname===b&&this.power.lessThan(0))Ae=i.parse(w("csc({0})^(-({1}))",this.args[0],this.power.negate()));else if(this.fname===O&&this.power.lessThan(0))Ae=i.parse(w("sec({0})^(-({1}))",this.args[0],this.power.negate()));else if(this.fname===b&&this.power.equals(3))Ae=i.parse(w("(3*sin({0})-sin(3*({0})))/4",this.args[0]));else if(this.fname===O&&this.power.equals(3))Ae=i.parse(w("(cos(3*({0}))+3*cos({0}))/4",this.args[0]));else if((this.fname===O||this.fname===b)&&I(this.power)){var Et=this.power/2,Vt=i.pow(this.clone().toLinear(),i.parse(2)).fnTransform(),rt=i.expand(i.pow(Vt,i.parse(Et)));Ae=new g(0),rt.each(function(P){var Re=P.fnTransform();Ae=i.add(Ae,Re)},!0)}else Ae=Tt;return i.multiply(Ae,Qe)},g.prototype.hasTrig=function(){if(this.isConstant(!0)||this.group===ne)return!1;if(this.fname&&(r.Utils.in_trig(this.fname)||r.Utils.in_inverse_trig(this.fname)))return!0;if(this.symbols){for(var Ae in this.symbols)if(this.symbols[Ae].hasTrig())return!0}return!1},r.Expression.prototype.hasIntegral=function(){return this.symbol.hasIntegral()},r.Utils.toCommonDenominator=function(Ae){if(Ae.isComposite()&&Ae.isLinear()){var lt=new g(Ae.multiplier),Qe=new g(1),Tt=new g(0);Ae.each(function(Vt){Qe=i.multiply(Qe,Vt.getDenom())},!0),Ae.each(function(Vt){var rt=Vt.getNum(),P=Vt.getDenom(),Re=i.multiply(rt,i.divide(Qe.clone(),P));Tt=i.add(Tt,Re)});var Et=i.multiply(lt,r.Algebra.divide(i.expand(Tt),i.expand(Qe)));return Et}return Ae},r.Utils.in_inverse_trig=function(Ae){var lt=[J,fe,Ne,de,qe,xe];return lt.indexOf(Ae)!==-1},r.Utils.in_trig=function(Ae){var lt=[O,b,N,R,B,j];return lt.indexOf(Ae)!==-1},r.Utils.in_htrig=function(Ae){var lt=[gt,ze,Ft,yt,nt,Ut];return lt.indexOf(Ae)!==-1},r.Matrix.jacobian=function(Ae,lt){var Qe=new r.Matrix;return lt||(lt=r.Utils.arrayGetVariables(Ae)),lt.forEach(function(Tt,Et){Ae.forEach(function(Vt,rt){var P=r.Calculus.diff(Vt.clone(),Tt);Qe.set(rt,Et,P)})}),Qe},r.Matrix.prototype.max=function(){var Ae=new g(0);return this.each(function(lt){var Qe=lt.abs();Qe.gt(Ae)&&(Ae=Qe)}),Ae},r.Matrix.cMatrix=function(Ae,lt){var Qe=new r.Matrix;return lt.forEach(function(Tt,Et){Qe.set(Et,0,i.parse(Ae))}),Qe};var Me=r.Utils.all_functions=function(Ae){for(var lt=0,Qe=Ae.length;lt<Qe;lt++)if(Ae[lt].group!==he)return!1;return!0},ut=r.Utils.cosAsinBtranform=function(Ae,lt){var Qe,Tt;return Qe=Ae.args[0],Tt=lt.args[0],i.parse(w("(sin(({0})+({1}))-sin(({0})-({1})))/2",Qe,Tt))},en=r.Utils.cosAsinAtranform=function(Ae,lt){if(Number(lt.power)!==1)return i.multiply(Ae,lt);var Qe;return Qe=Ae.args[0],i.parse(w("(sin(2*({0})))/2",Qe))},nn=r.Utils.cosAsinBtranform=function(Ae,lt){var Qe,Tt;return Qe=Ae.args[0],Tt=lt.args[0],i.parse(w("(cos(({0})+({1}))-cos(({0})-({1})))/2",Qe,Tt))},De=r.Utils.trigTransform=function(Ae){for(var lt={},Qe,Tt,Et=new g(1),Vt=0,rt=Ae.length;Vt<rt;Vt++)if(Qe=Ae[Vt],Qe.group===he){var P=Qe.fname;P===O&&lt[b]?(lt[b].args[0].toString()!==Qe.args[0].toString()?Tt=ut(Qe,lt[b]):Tt=en(Qe,lt[b]),delete lt[b],Et=i.multiply(Et,Tt)):P===b&&lt[O]?(lt[O].args[0].toString()!==Qe.args[0].toString()?Tt=ut(Qe,lt[O]):Tt=en(Qe,lt[O]),delete lt[O],Et=i.multiply(Et,Tt)):P===b&&lt[b]?(lt[b].args[0].toString()!==Qe.args[0].toString()?(Tt=nn(Qe,lt[b]),delete lt[b]):(Tt=i.multiply(Qe,lt[b]),delete lt[b]),Et=Tt):lt[P]=Qe}else Et=i.multiply(Et,Qe);for(var Re in lt)Et=i.multiply(Et,lt[Re]);return Et};r.Settings.integration_depth=10,r.Settings.max_lim_depth=10;var se=r.Calculus={version:"1.4.6",sum:function(Ae,lt,Qe,Tt){if(lt.group!==r.groups.S)throw new r.exceptions.NerdamerTypeError("Index must be symbol. "+y(lt)+" provided");lt=lt.value;var Et;if(r.Utils.isNumericSymbol(Qe)&&r.Utils.isNumericSymbol(Tt)){var Vt=Tt-Qe<200?"":"PARSE2NUMBER";Qe=Number(Qe),Tt=Number(Tt),Et=r.Utils.block(Vt,function(){for(var rt=Ae.text(),P={"~":!0},Re=new r.Symbol(0),ke=Qe;ke<=Tt;ke++){P[lt]=new g(ke);var ht=i.parse(rt,P);Re=i.add(Re,ht)}return Re})}else Et=i.symfunction("sum",arguments);return Et},product:function(Ae,lt,Qe,Tt){if(lt.group!==r.groups.S)throw new r.exceptions.NerdamerTypeError("Index must be symbol. "+y(lt)+" provided");lt=lt.value;var Et;if(r.Utils.isNumericSymbol(Qe)&&r.Utils.isNumericSymbol(Tt)){var Vt=Tt-Qe<200?"":"PARSE2NUMBER";Et=r.Utils.block(Vt,function(){Qe=Number(Qe),Tt=Number(Tt.multiplier);for(var rt=Ae.text(),P={},Re=new r.Symbol(1),ke=Qe;ke<=Tt;ke++)P[lt]=new g(ke),Re=i.multiply(Re,i.parse(rt,P));return Re})}else Et=i.symfunction("product",arguments);return Et},diff:function(Ae,lt,Qe){if(r.Utils.isVector(Ae)){var Tt=new r.Vector([]);return Ae.each(function(ft){Tt.elements.push(se.diff(ft,lt,Qe))}),Tt}else if(r.Utils.isMatrix(Ae)){var Et=new r.Matrix;return Ae.each(function(ft,Y,Ee){Et.set(Y,Ee,se.diff(ft,lt,Qe))}),Et}var Vt=f(lt)?lt.text():lt;if(Qe=f(Qe)?Qe.multiplier:Qe||1,Vt===void 0&&(Vt=r.Utils.variables(Ae)[0]),Ae.group===he&&Ae.fname===_e){var rt=Ae.args[0],P=Ae.power.clone();(rt.group!==K||rt.group!==Oe)&&(rt.power=f(rt.power)?i.multiply(rt.power,i.multiply(new g(1/2)),P):rt.power.multiply(new u(.5)).multiply(P),rt.multiplier=rt.multiplier.multiply(Ae.multiplier)),Ae=rt}if(Ae.group===he&&!f(Ae.power)){var Re=Mt(i.parse(Ae)),ke=se.diff(Ae.args[0].clone(),Vt);Ae=i.multiply(Re,ke)}else Ae=Mt(Ae);return Qe>1&&(Qe--,Ae=se.diff(Ae,lt,Qe)),Ae;function ht(ft){return(ft.value===Vt||ft.contains(Vt,!0))&&(ft.multiplier=ft.multiplier.multiply(ft.power),ft.power=ft.power.subtract(new u(1)),ft.power.equals(0)&&(ft=g(ft.multiplier))),ft}function Mt(ft){var Y=ft.group,Ee,Je;if(Y===K||Y===ne&&ft.value!==Vt||Y===Oe)ft=g(0);else if(Y===ne)ft=ht(ft);else if(Y===te){var Fe=ft.multiplier.clone();ft.toUnitMultiplier();var Lt=i.multiply(wt(ft),ht(ft));return Lt.multiplier=Lt.multiplier.multiply(Fe),Lt}else if(Y===he&&ft.power.equals(1))switch(ft.fname){case ce:Je=ft.clone(),ft=ft.args[0].clone(),ft.power=ft.power.negate(),ft.multiplier=Je.multiplier.divide(ft.multiplier);break;case O:ft.fname=b,ft.multiplier.negate();break;case b:ft.fname=O;break;case N:ft.fname=R,ft.power=new u(2);break;case R:ft=Ot(ft,N);break;case B:ft=Ot(ft,"-cot");break;case j:ft.fname=B,ft.multiplier.negate(),ft.power=new u(2);break;case J:ft=i.parse("(sqrt(1-("+y(ft.args[0])+")^2))^(-1)");break;case fe:ft=i.parse("-(sqrt(1-("+y(ft.args[0])+")^2))^(-1)");break;case Ne:ft=i.parse("(1+("+y(ft.args[0])+")^2)^(-1)");break;case je:Fe=ft.multiplier.clone(),ft.toUnitMultiplier(),Ee=ft.args[0].clone(),Ee.toUnitMultiplier(),ft=i.parse($(y(ft.args[0]))+"/abs"+$(y(Ee))),ft.multiplier=Fe;break;case"parens":ft=g(1);break;case"cosh":ft.fname="sinh";break;case"sinh":ft.fname="cosh";break;case Ft:ft.fname=et,ft.power=new u(2);break;case et:ft=Ot(ft,"-tanh");break;case Ge:var Bt=String(ft.args[0]);return i.parse("-coth("+Bt+")*csch("+Bt+")");case Ct:var Bt=String(ft.args[0]);return i.parse("-csch("+Bt+")^2");case"asinh":ft=i.parse("(sqrt(1+("+y(ft.args[0])+")^2))^(-1)");break;case"acosh":ft=i.parse("(sqrt(-1+("+y(ft.args[0])+")^2))^(-1)");break;case"atanh":ft=i.parse("(1-("+y(ft.args[0])+")^2)^(-1)");break;case nt:var Bt=String(ft.args[0]);ft=i.parse("-1/(sqrt(1/("+Bt+")^2-1)*("+Bt+")^2)");break;case Ut:ft=i.parse("-1/(("+ft.args[0]+")^2-1)");break;case yt:var Bt=String(ft.args[0]);ft=i.parse("-1/(sqrt(1/("+Bt+")^2+1)*("+Bt+")^2)");break;case qe:var Bt=String(ft.args[0]);ft=i.parse("1/(sqrt(1-1/("+Bt+")^2)*("+Bt+")^2)");break;case de:var Bt=String(ft.args[0]);ft=i.parse("-1/(sqrt(1-1/("+Bt+")^2)*("+Bt+")^2)");break;case xe:ft=i.parse("-1/(("+ft.args[0]+")^2+1)");break;case"S":var Bt=String(ft.args[0]);ft=i.parse("sin((pi*("+Bt+")^2)/2)");break;case"C":var Bt=String(ft.args[0]);ft=i.parse("cos((pi*("+Bt+")^2)/2)");break;case"Si":var Bt=ft.args[0];ft=i.parse("sin("+Bt+")/("+Bt+")");break;case"Shi":var Bt=ft.args[0];ft=i.parse("sinh("+Bt+")/("+Bt+")");break;case"Ci":var Bt=ft.args[0];ft=i.parse("cos("+Bt+")/("+Bt+")");break;case"Chi":var Bt=ft.args[0];ft=i.parse("cosh("+Bt+")/("+Bt+")");break;case"Ei":var Bt=ft.args[0];ft=i.parse("e^("+Bt+")/("+Bt+")");break;case"Li":var Bt=ft.args[0];ft=i.parse("1/"+h.LOG+"("+Bt+")");break;case"erf":ft=i.parse("(2*e^(-("+ft.args[0]+")^2))/sqrt(pi)");break;case"atan2":var zt=String(ft.args[0]),ve=String(ft.args[1]);ft=i.parse("("+ve+")/(("+ve+")^2+("+zt+")^2)");break;case"sign":ft=new g(0);break;case"sinc":ft=i.parse(w("(({0})*cos({0})-sin({0}))*({0})^(-2)",ft.args[0]));break;case h.LOG10:ft=i.parse("1/(("+ft.args[0]+")*"+h.LOG+"(10))");break;default:ft=i.symfunction("diff",[ft,lt])}else if(Y===Ce||Y===he&&f(ft.power)){var Ye;Y===Ce?Ye=ft.value:Y===he&&ft.contains(Vt)?Ye=ft.fname+$(y(ft.args[0])):Ye=ft.value+$(y(ft.args[0])),i.multiply(i.parse(ce+$(Ye)),ft.power.clone()),Ee=se.diff(i.multiply(i.parse(ce+$(Ye)),ft.power.clone()),Vt),ft=i.multiply(ft,Ee)}else if(Y===he&&!ft.power.equals(1))Ee=ft.clone(),Ee.toLinear(),Ee.toUnitMultiplier(),ft=i.multiply(ht(ft.clone()),Mt(Ee));else if(Y===le||Y===V){var X=ft.clone(),we=new g(0);for(var tt in ft.symbols)we=i.add(we,se.diff(ft.symbols[tt].clone(),Vt));ft=i.multiply(ht(X),we)}return ft.updateHash(),ft}function Ot(ft,Y,Ee){return i.multiply(ft,i.parse(Y+$(y(ft.args[0]))))}function wt(ft){for(var Y=ft.collectSymbols(),Ee=new g(0),Je=Y.length,Fe=0;Fe<Je;Fe++){for(var Lt=se.diff(Y[Fe].clone(),Vt),Bt=0;Bt<Je;Bt++)Fe!==Bt&&(Lt=i.multiply(Lt,Y[Bt].clone()));Ee=i.add(Ee,Lt)}return Ee}},integration:{u_substitution:function(Ae,lt){function Qe(ve,Ye,X){var we=se.diff(Ye,lt),tt=X?X(ve,Ye):i.divide(ve.clone(),we);return tt.contains(lt,!0)?null:tt}function Tt(ve,Ye){var X=se.integrate(i.symfunction(ve,[new g(Re)]),Re,0);return X=X.sub(new g(Re),Ye),X.updateHash(),X}var Et=Ae[0].clone(),Vt=Ae[1].clone(),rt=Et.group,P=Vt.group,Re="__u__",ke;if(rt===he&&P!==he){var ht=Et.args[0];if(ke=Qe(Vt,ht.clone()),ke)return i.multiply(ke,Tt(Et.fname,ht));if(ke=Qe(Vt,Et),ke)return se.integration.poly_integrate(Et)}else if(P===he&&rt!==he){var ht=Vt.args[0];if(ke=Qe(Et,ht.clone()),ke)return i.multiply(ke,Tt(Vt.fname,ht))}else if(rt===he&&P===he){if(ke=Qe(Et.clone(),Vt.clone()),ke||(ke=Qe(Vt.clone(),Et.clone()),ke))return i.multiply(se.integration.poly_integrate(Vt),ke)}else if(rt===Ce&&P!==Ce){var Mt=Et.power;if(ke=Qe(Vt,Mt.clone()),!ke){var Ot=se.integration.decompose_arg(Mt.clone(),lt),wt=se.diff(Ot[2].clone(),lt),ft=se.integration.decompose_arg(wt.clone(),lt);if(i.multiply(Ot[1],ft[1]).power.equals(Vt.power)){var Y=i.divide(Ot[0].clone(),ft[0].clone()),Ee=i.multiply(Y.clone(),i.pow(new g(Et.value),i.multiply(Ot[0],new g(Re))));return Ee=i.multiply(Ee,new g(Re)),se.integration.by_parts(Ee,Re,0,{}).sub(Re,Ot[1].clone())}}var Je=se.integrate(Et.sub(Mt.clone(),new g(Re)),Re,0),Fe=i.multiply(Je.sub(new g(Re),Mt),ke);return Fe}else if(P===Ce&&rt!==Ce){var Mt=Vt.power;ke=Qe(Et,Mt.clone());var Je=se.integrate(Vt.sub(Mt,new g(Re)),Re,0);return i.multiply(Je.sub(new g(Re),Mt),ke)}else if(Et.isComposite()||Vt.isComposite()){var Lt=function(ve,Ye){var X=se.diff(Ye,lt),we=r.Algebra.Factor.factor(ve),tt=r.Algebra.Factor.factor(X),St=i.divide(we,tt);return St},Bt=Et.isComposite()?Et.clone().toLinear():Et.clone(),zt=Vt.isComposite()?Vt.clone().toLinear():Vt.clone();if(ke=Qe(Bt.clone(),zt.clone(),Lt),ke)return i.multiply(se.integration.poly_integrate(Vt),ke);if(ke=Qe(zt.clone(),Bt.clone(),Lt),ke)return i.multiply(se.integration.poly_integrate(Et),ke)}},poly_integrate:function(Ae){var lt=Ae.power.toString(),Qe=Ae.multiplier.toDecimal(),Tt=Ae.toUnitMultiplier().toLinear();return Number(lt)===-1?i.multiply(new g(Qe),i.symfunction(ce,[Tt])):i.parse(w("({0})*({1})^(({2})+1)/(({2})+1)",Qe,Tt,lt))},stop:function(Ae){throw Ae=Ae||"Unable to compute integral!",r.Utils.warn(Ae),new Ht(Ae)},partial_fraction:function(Ae,lt,Qe,Tt){f(lt)||(lt=i.parse(lt));var Et,Vt;return Et=new g(0),Vt=r.Algebra.PartFrac.partfrac(Ae,lt),Vt.group===te&&Vt.isLinear()?(Vt.each(function(rt){rt.isLinear()||se.integration.stop()}),Vt.each(function(rt){Et=i.add(Et,se.integrate(rt,lt,Qe,Tt))})):Et=i.add(Et,se.integrate(Vt,lt,Qe,Tt)),Et},get_udv:function(Ae){var lt=[[],[],[],[],[]],Qe=function(ht){var Mt=ht.group;if(Mt===he){var Ot=ht.fname;r.Utils.in_trig(Ot)||r.Utils.in_htrig(Ot)?lt[3].push(ht):r.Utils.in_inverse_trig(Ot)?lt[1].push(ht):Ot===ce?lt[0].push(ht):se.integration.stop()}else Mt===ne||ht.isComposite()&&ht.isLinear()||Mt===te&&ht.isLinear()?lt[2].push(ht):Mt===Ce||ht.isComposite()&&!ht.isLinear()?lt[4].push(ht):se.integration.stop()};Ae.group===te?Ae.each(function(ht){Qe(g.unwrapSQRT(ht,!0))}):Qe(Ae);for(var Tt,Et=new g(1),Vt=0;Vt<5;Vt++){var rt=lt[Vt],P,Re=rt.length;if(Re>0){if(Re>1){P=new g(1);for(var ke=0;ke<Re;ke++)P=i.multiply(P,rt[ke].clone())}else P=rt[0].clone();Tt?Et=i.multiply(Et,P):(Tt=P,Tt.multiplier=Tt.multiplier.multiply(Ae.multiplier))}}return[Tt,Et]},trig_sub:function(Ae,lt,Qe,Tt,Et,Vt){Et=Et||se.integration.decompose_arg(Ae.clone().toLinear(),lt),Et[3],Et[2];var rt=Et[0],P=Et[1];if(P.power.equals(2)&&rt.greaterThan(0)){var Re=r.Utils.getU(Ae),ke=i.parse(N+$(Re)),ht=i.parse(R+$(Re)+"^2"),Mt=i.multiply(Ae.sub(P,ke),ht),Ot=se.integrate(Mt,Re,Qe,Tt).sub(ke,P);return r.Utils.clearU(ke),Ot}},by_parts:function(Ae,lt,Qe,Tt){Tt.previous=Tt.previous||[];var Et,Vt,rt,P,Re,ke,ht,Mt,Ot,wt,ft,Y;if(Et=se.integration.get_udv(Ae),Vt=Et[0],rt=Et[1],P=g.unwrapSQRT(i.expand(se.diff(Vt.clone(),lt)),!0),ft=P.clone().stripVar(lt),P=i.divide(P,ft.clone()),Re=se.integrate(rt.clone(),lt,Qe||0),ke=i.multiply(Re.clone(),P),Y=ke.toString(),Tt.previous.indexOf(Y)!==-1&&r.Utils.in_trig(Vt.fname)&&rt.isE())return Tt.is_cyclic=!0,new g(1);if(Tt.previous.push(Y),ht=i.multiply(Vt,Re),wt=ke.multiplier.clone(),ke.toUnitMultiplier(),Ot=i.multiply(se.integrate(ke.clone(),lt,Qe,Tt),ft),Ot.multiplier=Ot.multiplier.multiply(wt),Mt=i.subtract(ht,Ot),Tt.is_cyclic&&(Tt.previous.pop(),Tt.previous.length===0)){Mt=i.expand(Mt);var Ee=new g(0);Mt.each(function(Je){Je.contains(lt)||(Ee=i.add(Ee,Je.clone()))}),Mt=i.divide(i.subtract(Mt,Ee.clone()),i.subtract(new g(1),Ee))}return Mt},decompose_arg:r.Utils.decompose_fn},integrate:function(Ae,lt,Qe,Tt){if(!lt){var Et=r.Utils.variables(Ae);Et.length===1&&(lt=Et[0]),lt=lt||"x"}if(r.Utils.isVector(Ae)){var Vt=new r.Vector([]);return Ae.each(function(rt){Vt.elements.push(se.integrate(rt,lt))}),Vt}return isNaN(lt)||i.error("variable expected but received "+lt),Ae.isConstant(!0)?i.multiply(Ae.clone(),i.parse(lt)):(Tt=Tt||{},r.Utils.block("PARSE2NUMBER",function(){Qe=Qe||0;var rt=f(lt)?lt.toString():lt,P=g.unwrapSQRT(Ae.clone(),!0),Re=P.group,ke;try{if(++Qe>r.Settings.integration_depth&&se.integration.stop("Maximum depth reached. Exiting!"),!P.contains(rt,!0))ke=i.multiply(P.clone(),i.parse(rt));else if(Re===ne)ke=se.integration.poly_integrate(P,rt,Qe);else if(Re===Ce)if(P.previousGroup===he&&!(P.fname==="sqrt"||P.fname===h.PARENTHESIS)&&se.integration.stop(),P.contains(rt)&&P.previousGroup!==he)if(P.power.contains(rt))se.integration.stop();else{var ht=se.diff(P.clone().toLinear(),rt);ht.contains(rt)&&se.integration.stop(),ke=se.integration.poly_integrate(P,rt,Qe)}else{var Mt=se.diff(P.power.clone(),rt);if(Mt.contains(rt)){var Ot=Mt.stripVar(rt),wt=i.divide(Mt.clone(),Ot.clone());if(wt.group===ne&&wt.isLinear())return Ot.multiplier=Ot.multiplier.divide(new u(2)),i.parse(w("({2})*(sqrt(pi)*erf(sqrt(-{0})*{1}))/(2*sqrt(-{0}))",Ot,rt,P.multiplier));se.integration.stop()}if(P.isE())Mt.isLinear()?ke=P:Mt.isE()&&Mt.power.group===ne&&Mt.power.power.equals(1)?ke=i.multiply(i.symfunction("Ei",[P.power.clone()]),P.power):se.integration.stop();else{var ft=i.symfunction(ce,[i.parse(P.value)]);ke=i.divide(P,ft)}ke=i.divide(ke,Mt)}else if(P.isComposite()&&P.isLinear()){var Y=i.parse(P.multiplier);P.toUnitMultiplier(),ke=new g(0),P.each(function(es){ke=i.add(ke,se.integrate(es,rt,Qe))}),ke=i.multiply(Y,ke)}else if(Re===le)if(P.power.greaterThan(1)&&(P=i.expand(P)),P.power.equals(1))ke=new g(0),P.each(function(es){ke=i.add(ke,se.integrate(es,rt,Qe))},!0);else{var Ee=Number(P.power),Y=P.multiplier.clone();P.toUnitMultiplier();var Je=P.clone().toLinear(),Fe=se.integration.decompose_arg(Je,rt),Lt=Fe[3],Bt=Fe[2],Mt=Fe[0],wt=Fe[1];if(Ee===-1&&wt.group!==V&&wt.power.equals(2)){var zt=T(Lt)?Lt>0:!0;if(wt.group===ne&&wt.power.equals(2)&&zt){var ve=function(nl){var vo=new g(1);return nl.each(function(e0){vo=i.multiply(vo,e0.fname==="abs"?e0.args[0]:e0)}),vo},Ye=Mt.clone(),X=Lt.clone();Ye=i.pow(Ye,new g(1/2)),X=i.pow(X,new g(1/2));var ft=i.multiply(ve(X),ve(Ye)),we=i.symfunction(Ne,[i.divide(i.multiply(Mt,wt.toLinear()),ft.clone())]);ke=i.divide(we,ft)}else if(wt.group===ne&&wt.isLinear())ke=i.divide(se.integration.poly_integrate(P),Mt);else if(wt.power.equals(4)){var Ye,X,tt,St,Zt,$n,pn,sr,wr,jn,En,re,Te=$;Ye=i.parse(_e+Te(Mt)+"*"+rt+"^2"),X=i.parse(_e+Te(2)+"*"+Te(Mt)+"^"+Te("1/4")+"*"+Te(Lt)+"^"+Te("1/4")+"*"+rt),tt=i.parse(_e+Te(Lt)),pn=i.add(i.add(Ye.clone(),X.clone()),tt.clone()),sr=i.add(i.subtract(Ye,X),tt),St=i.parse(_e+Te(2)+"*"+Te(Lt)+"^"+Te("3/4")),Zt=i.parse(_e+Te(Lt)+"*"+Te(Lt)+"^"+Te("1/4")+"*"+rt),$n=i.parse("2*"+Te(Lt)+"*"+_e+Te(2)+"*"+Te(Lt)+"^"+Te("1/4")),En=i.divide(i.subtract(St.clone(),Zt.clone()),i.multiply($n.clone(),sr)),re=i.divide(i.add(St,Zt),i.multiply($n,pn.clone())),ke=i.add(se.integrate(En,rt,Qe,Tt),se.integrate(re,rt,Qe,Tt))}else ke=se.integration.partial_fraction(P,rt,Qe)}else if(Ee===-1/2)if(wt.group===ne&&wt.power.equals(2))if(Bt.multiplier.lessThan(0)&&!Lt.multiplier.lessThan(0))if(Mt.negate(),Lt.isConstant()&&Mt.isConstant()){var ft=i.symfunction(_e,[Mt.clone()]),gn=i.symfunction(_e,[i.multiply(Mt.clone(),Lt)]);ke=i.divide(i.symfunction(J,[i.divide(Bt.toLinear(),gn)]),ft)}else{var F=i.symfunction(_e,[Mt]),ie=i.multiply(F.clone(),wt.clone().toLinear());ke=i.divide(i.symfunction(Ne,[i.divide(ie,i.symfunction(_e,[Je.clone()]))]),F)}else se.integration.stop();else se.integration.stop();else if(Ee===1/2&&wt.power.equals(2)&&Mt.greaterThan(0))se.integration.stop();else if(wt.isLinear()&&wt.group!==V)ke=i.divide(se.integration.poly_integrate(P),Mt);else if(wt.power.equals(2)&&Mt.greaterThan(0)){var x,W,ae,q,st,$e,ge,be,Le;x=i.parse(_e+$(Mt)),W=i.parse(_e+$(Lt)),ae=i.multiply(x.clone(),W.clone()).invert(),q=i.pow(Lt,new g(P.power)),Le=r.Utils.getU(P),ge=i.multiply(ae,wt.clone().toLinear()),be=i.parse(Ne+$(ge));var st=(Math.abs(P.power)-1)*2,$e=se.integrate(i.parse(O+$(Le)+"^"+st));return r.Utils.clearU(Le),i.multiply($e.sub(Le,be),q)}else if(P.group!==te&&!P.power.lessThan(0))ke=se.integration.by_parts(P,rt,Qe,Tt);else{var we=P.clone().toLinear(),$t=r.Algebra.Factor.factor(we),Ue=$t.toString()!==we.toString();if(r.Algebra.degree(we,i.parse(rt)).equals(2)&&!Ue)try{var pn,p,ge,D;D=r.Algebra.sqComplete(we,rt),ge=r.Utils.getU(we),pn=D.f.sub(D.a,ge),p=i.pow(pn,i.parse(P.power)),ke=se.integrate(p,ge).sub(ge,D.a)}catch{se.integration.stop()}else ke=se.integration.partial_fraction(P,rt,Qe,Tt)}ke.multiplier=ke.multiplier.multiply(Y)}else if(Re===he){var Q=P.args[0],Y=P.multiplier.clone();P.toUnitMultiplier();var Fe=se.integration.decompose_arg(Q,rt),Mt=Fe[0],wt=Fe[1],me=P.fname;if(me===ce||me===J||me===fe||me===Ne&&wt.isLinear()){var Ee=P.power.toString();if(T(Ee)&&(Qe=Qe-Ee),!Q.isComposite())ke=i.multiply(i.parse(Y),se.integration.by_parts(P,rt,Qe,Tt));else{var ge=r.Utils.getU(P),we=i.pow(i.parse(ce+$(ge)),new g(Ee)),He=se.diff(Q,rt),_t=i.multiply(we,He),$e=se.integrate(_t,ge,Qe,Tt);ke=i.multiply(i.parse(Y),$e.sub(ge,Q))}}else if(me===N&&P.power.lessThan(0)){var Gt=P.clone();return Gt.power.negate(),Gt.fname=j,i.multiply(i.parse(Y),se.integrate(Gt,rt,Qe))}else{if(!Mt.contains(rt,!0)&&P.isLinear())if(me===je){var wt=i.divide(Q.clone(),Mt.clone());if(wt.group===ne&&!wt.power.lessThan(0))if(r.Utils.even(wt.power))ke=se.integrate(Q,rt,Qe);else{var bt=se.integrate(wt,rt,Qe);bt.power=bt.power.subtract(new u(1)),ke=i.multiply(i.multiply(i.symfunction(je,[wt.toLinear()]),bt),Mt)}else se.integration.stop()}else{var un=P.args[0].group,Yt=se.integration.decompose_arg(Q,rt);switch((!(un===le||un===ne||un===te)||!Yt[1].power.equals(1)||Q.hasFunc())&&se.integration.stop(),me){case O:ke=i.symfunction(b,[Q]);break;case b:ke=i.symfunction(O,[Q]),ke.negate();break;case N:ke=i.parse(w(h.LOG+"(sec({0}))",Q));break;case R:ke=i.parse(w(h.LOG+"(tan({0})+sec({0}))",Q));break;case B:ke=i.parse(w("-"+h.LOG+"(csc({0})+cot({0}))",Q));break;case j:ke=i.parse(w(h.LOG+"(sin({0}))",Q));break;case gt:ke=i.symfunction(ze,[Q]);break;case ze:ke=i.symfunction(gt,[Q]);break;case Ft:ke=i.parse(w(h.LOG+"(cosh({0}))",Q));break;case qe:ke=se.integration.by_parts(P,rt,Qe,Tt);break;case de:ke=se.integration.by_parts(P,rt,Qe,Tt);break;case xe:ke=se.integration.by_parts(P,rt,Qe,Tt);break;case nt:ke=se.integration.by_parts(P,rt,Qe,Tt);break;case yt:ke=se.integration.by_parts(P,rt,Qe,Tt);break;case Ut:ke=se.integration.by_parts(P,rt,Qe,Tt);break;case et:ke=i.parse(w("atan(sinh({0}))",Q));break;case Ge:ke=i.parse(w(h.LOG+"(tanh(({0})/2))",Q));break;case Ct:ke=i.parse(w(h.LOG+"(sinh({0}))",Q));break;case Be:ke=se.integrate(i.parse(w("e^({0})",Q)),rt,Qe);break;case"S":var Q=P.args[0].clone(),Un=se.integration.decompose_arg(Q,rt),Xt=Un[1],Ke=Un[0],fn=Un[3];ke=i.parse(w("(cos((1/2)*pi*(({1})+({0})*({2}))^2)+pi*(({1})+({0})*({2}))*S(({1})+({0})*({2})))/(({0})*pi)",Ke,fn,wt));break;case"C":var Q=P.args[0].clone(),Un=se.integration.decompose_arg(Q,rt),Xt=Un[1],Ke=Un[0],fn=Un[3];ke=i.parse(w("(pi*(({1})+({0})*({2}))*C(({1})+({0})*({2}))-sin((1/2)*pi*(({1})+({0})*({2}))^2))/(({0})*pi)",Ke,fn,Xt));break;case"erf":var Q=P.args[0].clone(),Un=se.integration.decompose_arg(Q,rt),Xt=Un[1],Ke=Un[0];ke=i.parse(w("e^(-(({2}))^2)/(({0})*sqrt(pi))+(1/({0})+({1}))*erf(({2}))",Ke,Xt,Q));break;case"sign":ke=i.multiply(P.clone(),Q.clone());break;default:se.integration.stop()}ke=i.divide(ke,Mt)}else if(wt.isLinear())if(me===O||me===b){var Ee=Number(P.power);if(Ee<0)P.fname=me===b?B:R,P.invert().updateHash(),ke=se.integrate(P,rt,Qe);else{var Q=P.args[0],Pn=P.clone(),er=P.clone(),nr=new g((Ee-1)/Ee),or=i.multiply(Mt.clone(),new g(Ee)).invert();Pn.power=Pn.power.subtract(new u(1)),er.power=er.power.subtract(new u(2));var ht=i.symfunction(me===O?b:O,[Q.clone()]);me===b&&ht.negate(),ke=i.add(i.multiply(i.multiply(or,Pn),ht),i.multiply(nr,se.integrate(i.parse(er),rt,Qe)))}}else if(me===N||me===j){if(P.args[0].isLinear(rt)){var st=P.power.subtract(new u(1)).toString(),Cn=P.clone().toUnitMultiplier(),Hn=i.parse(w((me===j?"-":"")+"1/({2}*{0})*{3}({1})^({0})",st,Q,Mt,me));Cn.power=Cn.power.subtract(new u(2)),Cn.power.equals(0)&&(Cn=i.parse(Cn)),ke=i.subtract(Hn,se.integrate(Cn,rt,Qe))}}else if(me===R||me===B){var mr=P.power.subtract(new u(1)).toString(),Er=P.power.subtract(new u(2)).toString(),sr=me===R?N:j,Cn=P.clone().toUnitMultiplier(),ei=w((me===B?"-":"")+"1/({0}*{1})*{4}({3})^({2})*{5}({3})",Mt,mr,Er,Q,me,sr),Hn=i.parse(ei);Cn.power=Cn.power.subtract(new u(2)),Cn.power.equals(0)&&(Cn=i.parse(Cn)),ke=i.add(Hn,i.multiply(new g(Er/mr),se.integrate(Cn,rt,Qe)))}else(me===ze||me===gt)&&P.power.equals(2)?ke=se.integrate(P.fnTransform(),rt,Qe):se.integration.stop();else se.integration.stop();ke.multiplier=ke.multiplier.multiply(Y)}}else if(Re===V)ke=se.integration.partial_fraction(P,rt,Qe);else if(Re===te){var hr=P.getDenom();hr.group===ne&&(P=i.expand(P));var v=P.stripVar(rt),H=i.divide(P.clone(),v.clone());if(v.contains(rt)&&(H=i.multiply(H,v),v=new g(1)),H.group!==te){if(H.equals(1))return se.integrate(i.expand(P),rt,Qe);H.clone().toLinear().isPoly(!0)&&r.Utils.variables(H).length>1&&(H=r.Algebra.Factor.factor(H)),ke=se.integrate(H,rt,Qe)}else{var ue=H.collectSymbols().sort(function(es,Bi){return es.group===Bi.group?Number(es.power)===Number(Bi.power)?es<Bi?1:-1:Bi.power-es.power:Bi.group-es.group}).map(function(es){var Bi=g.unwrapSQRT(es,!0);return Bi.fname===Be?i.parse(w("({1})*e^({0})",Bi.args[0],Bi.multiplier)):Bi}),Se=ue.length;if(P.power<0){if(Se===2)return se.integrate(i.expand(P),rt,Qe,Tt)}else if(Se===2){try{ke=se.integration.u_substitution(ue,rt)}catch{}if(!ke){var Xe=ue[0].group,pt=ue[1].group,dt=ue[0],Ze=ue[1],tn=dt.fname,an=Ze.fname;if(P=i.multiply(dt.clone(),Ze.clone()),Xe===he&&pt===he)if(tn===ce||an===ce)ke=se.integration.by_parts(P.clone(),rt,Qe,Tt);else{ue.sort(function(Bi,c0){return c0.fname>Bi.fname});var ln=dt.args[0];(!ln.isLinear()||!(ln.group===le||ln.group===te||ln.group===ne))&&se.integration.stop();var Fe=se.integration.decompose_arg(ln,rt);wt=Fe[1],Mt=Fe[0],wt.isLinear()||se.integration.stop();var k=Ze.args[0];if(ln.equals(k))if(tn===b&&an===O||tn===O&&an===b)if(dt.power.lessThan(0)&&se.integration.stop(),tn===b&&dt.power.add(Ze.power).equals(0))dt.fname=N,dt.updateHash(),ke=se.integrate(dt,rt,Qe);else if(I(dt.power)&&an===O&&Ze.power.lessThan(0)){var st=Number(dt.power)/2,z=i.parse(w("(1-cos({0})^2)^({1})",dt.args[0],st));ke=se.integrate(i.expand(i.multiply(z,Ze.clone())),rt,Qe,Tt)}else if(I(dt.power)&&an===b&&Ze.power.lessThan(0)){var st=Number(dt.power)/2,z=i.parse(w("(1-sin({0})^2)^({1})",dt.args[0],st));ke=se.integrate(i.expand(i.multiply(z,Ze.clone())),rt,Qe,Tt)}else{var We=r.Utils.even(dt.power),it=r.Utils.even(Ze.power);if(ke=new g(0),!We||!it){var ge,Cn,cn;We?(ge=dt,Cn=Ze):(ge=Ze,Cn=dt);var Nt=ge.fname===O?-1:1,st=Cn.power,Dt=(st-1)/2,cn=i.parse("(1-"+ge.fname+r.Utils.inBrackets(ln)+"^2)^"+Dt),Gt=i.expand(i.multiply(new g(Nt),i.multiply(ge.clone(),cn)));Gt.each(function(vo){ke=i.add(ke,se.integration.poly_integrate(vo.clone()))})}else{var Sn=function(vo){var e0=vo.power,rl=e0/2,Uo;return vo.fname===O?Uo="((1/2)+(cos(2*("+vo.args[0]+"))/2))^"+rl:Uo="((1/2)-(cos(2*("+vo.args[0]+"))/2))^"+rl,i.parse(Uo)},Mt=Sn(dt),Lt=Sn(Ze),ht=i.multiply(Mt,Lt),Gt=i.expand(ht);return Gt.each(function(vo){ke=i.add(ke,se.integrate(vo,rt,Qe))}),i.multiply(ke,v)}}else if(tn===R&&an===N&&wt.isLinear()&&Ze.isLinear())ke=i.parse(w("sec({0})^({1})/({1})",dt.args[0],dt.power));else if(tn===N&&an===R&&wt.isLinear())if(dt.isLinear()&&Ze.isLinear())ke=i.divide(i.symfunction(R,[ln.clone()]),Mt);else if(I(dt.power)){var Ee=Number(dt.power)/2,ht=i.parse(w("(sec({0})^2-1)^({1})",dt.args[0],Ee));ke=se.integrate(i.expand(i.multiply(ht,Ze)),rt,Qe)}else se.integration.stop();else if(tn===R&&an===O)dt.fname=O,dt.invert().updateHash(),ke=se.integrate(i.multiply(dt,Ze),rt,Qe);else if(tn===b&&an===B)Ze.fname=b,Ze.invert().updateHash(),ke=se.integrate(i.multiply(dt,Ze),rt,Qe);else if(tn===N&&(an===O||an===b)&&Ze.power.lessThan(0)){var ht=i.multiply(dt.fnTransform(),Ze);ke=se.integrate(i.expand(ht),rt,Qe)}else{var ht=i.multiply(dt.fnTransform(),Ze.fnTransform());ke=se.integrate(i.expand(ht),rt,Qe)}else if((tn===b||tn===O)&&(an===b||an===O))if(dt.isLinear()&&Ze.isLinear())if(dt.args[0].isLinear()&&Ze.args[0].isLinear()){var Bt,hn;an===b?(Bt=dt.args[0],hn=Ze.args[0]):(hn=dt.args[0],Bt=Ze.args[0]),we=i.parse(w("(sin(({1})+({0}))+sin(({1})-({0})))/2",Bt.toString(),hn.toString())),ke=se.integrate(we,rt,Qe)}else{var bn=De(ue);ke=se.integrate(i.expand(bn),rt,Qe)}else{var bn=new g(1);ue.map(function(Ps){var nl=Ps.fnTransform();bn=i.multiply(bn,nl)});var ht=i.expand(bn);ke=se.integrate(ht,rt,Qe),ke.hasIntegral()&&(ke=se.integrate(De(bn.collectSymbols()),rt,Qe))}else se.integration.stop()}else if(Xe===he&&pt===ne){var zn=dt.isLinear();if(dt.fname===O&&zn&&Ze.power.equals(-1))ke=i.symfunction("Ci",[dt.args[0]]);else if(dt.fname===O&&Ze.power.equals(-1))ke=se.integrate(i.multiply(dt.fnTransform(),Ze.clone()),rt,Qe);else if(dt.fname===ze&&zn&&Ze.power.equals(-1))ke=i.symfunction("Chi",[dt.args[0]]);else if(dt.fname===ze&&Ze.power.equals(-1))ke=se.integrate(i.multiply(dt.fnTransform(),Ze.clone()),rt,Qe);else if(dt.fname===b&&zn&&Ze.power.equals(-1))ke=i.symfunction("Si",[dt.args[0]]);else if(dt.fname===b&&Ze.power.equals(-1))ke=se.integrate(i.multiply(dt.fnTransform(),Ze.clone()),rt,Qe);else if(dt.fname===gt&&zn&&Ze.power.equals(-1))ke=i.symfunction("Shi",[dt.args[0]]);else if(dt.fname===gt&&Ze.power.equals(-1))ke=se.integrate(i.multiply(dt.fnTransform(),Ze.clone()),rt,Qe);else if(dt.fname===ce&&Ze.power.equals(-1))ke=se.integration.poly_integrate(dt,rt,Qe);else if(dt.fname==="erf"){if(Ze.power.equals(1)){var Un=se.integration.decompose_arg(dt.args[0],rt),Ke=Un[0],Xt=Un[1],Q=dt.args[0].toString();ke=i.parse(w("(e^(-(({2}))^2)*(sqrt(pi)*e^((({2}))^2)*(2*({0})^2*({1})^2-3)*erf(({2}))+2*({0})*({1})-2))/(4*sqrt(pi)*({0})^2)",Ke,Xt,Q))}}else ke=se.integration.by_parts(P,rt,Qe,Tt)}else if(Xe===Ce&&pt===ne){var wt=tn===ce?se.integration.decompose_arg(dt.args[0],rt)[1]:null;dt.isE()&&(dt.power.group===ne||dt.power.group===te)&&Ze.power.equals(-1)?ke=i.symfunction("Ei",[dt.power.clone()]):tn===ce&&wt.value===Ze.value?ke=se.integration.poly_integrate(dt,rt,Qe):ke=se.integration.by_parts(P,rt,Qe,Tt)}else if(Xe===V&&pt===ne){if(Ze.value===dt.value&&dt.power.equals(-1)){var xn=Math.min.apply(null,r.Utils.keys(dt.symbols)),Ir=Math.min(xn,Ze.power),qn=Ze.clone();qn.power=new u(Ir),Ze=i.divide(Ze,qn.clone());var ht=new g(0);dt.each(function(Bi){ht=i.add(ht,i.divide(Bi.clone(),qn.clone()))}),ht.multiplier=dt.multiplier,P=i.divide(Ze,ht)}else P=i.expand(P);ke=se.integration.partial_fraction(P,rt,Qe)}else if(Xe===le&&pt===ne){var we=dt.clone().toLinear(),mn=r.Algebra.degree(we,i.parse(rt)).equals(1);if(dt.power.equals(-1/2)){var Fe=se.integration.decompose_arg(dt.clone().toLinear(),rt),Mt=Fe[0].negate(),wt=Fe[1],Lt=Fe[3],dr=Number(dt.power),kr=Number(Ze.power);if(T(kr)&&r.Utils.even(kr)&&wt.power.equals(2)){var yr=i.divide(i.multiply(i.pow(Lt.clone(),new g(2)),i.symfunction(_e,[i.divide(Lt.clone(),Mt.clone())])),i.pow(Mt.clone(),new g(2)));yr=i.multiply(yr,i.symfunction(_e,[Lt]).invert());var fr=i.parse("sin(u)");fr.power=fr.power.multiply(Ze.power);var $e=se.integrate(fr,"u",Qe),vr=i.parse(J+"("+_e+"("+Mt+"/"+Lt+")*"+rt+")");ke=i.multiply(yr,$e.sub(new g("u"),vr))}else if(dr===-1/2){var lr=function(vo,e0){var rl=i.parse(se.integrate(vo,rt,Qe,Tt).sub(rt,w(e0,rt)));if(!rl.hasIntegral())return rl};kr===-1?ke=lr(i.expand(i.expand(i.pow(i.multiply(dt.invert(),Ze.invert()),new g(2)))).invert(),"sqrt(1-1/({0})^2)"):kr===-2&&(ke=lr(i.sqrt(i.expand(i.divide(i.pow(P,new g(2)).invert(),i.pow(new g(rt),new g(2))).negate())).invert(),"sqrt(1-1/({0})^2)"))}}else if(dt.power.equals(-1)&&Ze.isLinear()&&mn)ke=se.integration.partial_fraction(P,rt,Qe);else if(!dt.power.lessThan(0)&&T(dt.power)){var _r=i.expand(dt);ke=new g(0),_r.each(function(Bi){Bi.group===V?Bi.each(function(c0){ke=i.add(ke,se.integrate(i.multiply(Ze.clone(),c0),rt,Qe))}):ke=i.add(ke,se.integrate(i.multiply(Ze.clone(),Bi),rt,Qe))})}else if(dt.power.lessThan(-2))ke=se.integration.by_parts(P,rt,Qe,Tt);else if(dt.power.lessThan(0)&&Ze.power.greaterThan(1)){var Fe=se.integration.decompose_arg(dt.clone().toLinear(),rt),Mt=Fe[0].negate(),wt=Fe[1],Lt=Fe[3],Je=dt.clone().toLinear();if(wt.group!==V&&wt.isLinear()){var Ee=Number(Ze.power),He="_u_",ge=new g(He),Dn=i.expand(i.divide(i.pow(i.subtract(ge.clone(),Lt.clone()),new g(Ee)),ge.clone())),Mr={};Mr[He]=Je;var cr=i.parse(Dn,Mr);ke=se.integrate(cr,rt,0)}else if(Ze.power.greaterThan(wt.power)||Ze.power.equals(wt.power)){var Tr=new r.Algebra.Classes.Factors;dt=r.Algebra.Factor.coeffFactor(dt.invert(),Tr);var Kr=r.Algebra.divide(Ze,dt);Kr.group!==te?(ke=new g(0),Kr.each(function(e0){ke=i.add(ke,se.integrate(e0,rt,Qe))}),Tr.each(function(e0){ke=i.divide(ke,e0)}),ke=i.expand(ke)):ke=se.integration.by_parts(P,rt,Qe,Tt)}else ke=se.integration.partial_fraction(P,rt,Qe)}else if(dt.power.den.equals(2)){var Un=se.integration.decompose_arg(dt.clone().toLinear(),rt),Mt=Un[3],wt=Un[1],Lt=Un[0],hn=Un[2];if(wt.power.equals(2)&&Lt.lessThan(0)){Mt.equals(1)||(v=i.multiply(v,i.pow(Mt,new g(2))));var ge=rt,yr=i.divide(i.pow(Lt.clone().negate(),new g(1/2)),i.pow(Mt,new g(1/2))),He=i.symfunction(O,[new g(ge)]),Vn=i.pow(i.symfunction(O,[new g(ge)]),new g(dt.power.num)),Fr=i.pow(i.symfunction(b,[new g(ge)]),new g(Ze.power)),Zr=i.multiply(i.multiply(Vn,He),Fr),$e=se.integrate(Zr,ge,Qe);ke=$e.sub(ge,i.symfunction(J,[i.multiply(new g(rt),yr)]))}else ke=se.integration.partial_fraction(P,rt,Qe,Tt)}else mn&&(ke=se.integration.partial_fraction(P,rt,Qe))}else if(dt.isComposite()&&Ze.isComposite())if(ke=new g(0),dt.power.greaterThan(0)&&Ze.power.greaterThan(0)){var Gt=i.expand(P);Gt.each(function(Bi){ke=i.add(ke,se.integrate(Bi,rt,Qe))},!0)}else{var dr=Number(dt.power),kr=Number(Ze.power);if(dr<0&&kr>0){var ht=dt;dt=Ze,Ze=ht}dr===-1&&kr===-1?ke=se.integration.partial_fraction(P,rt):dt.each(function(c0){var Ps=i.multiply(c0,Ze.clone()),nl=se.integrate(Ps,rt,Qe);ke=i.add(ke,nl)})}else if(Xe===le&&ue[0].power.greaterThan(0))dt=i.expand(dt),ke=new g(0),dt.each(function(es){ke=i.add(ke,se.integrate(i.multiply(es,Ze.clone()),rt,Qe))},!0);else if(Xe===he&&pt===Ce&&r.Utils.in_htrig(dt.fname))dt=dt.fnTransform(),ke=se.integrate(i.expand(i.multiply(dt,Ze)),rt,Qe);else if(Xe===he&&pt===le||pt===he&&Xe===le){if(pt===he&&Xe===le){var ht=dt;dt=Ze,Ze=ht}var He,ss,Ee,nr,go,Wi;if(He=g.unwrapSQRT(se.diff(dt.clone(),rt),!0),ss=g.unwrapSQRT(Ze,!0),He.power.equals(ss.power)){if(Ee=new g(Ze.power),go=He.clone().toLinear(),Wi=Ze.clone().toLinear(),nr=r.Algebra.divide(go.toLinear(),Wi),nr.isConstant()){var Bs=i.pow(nr,Ee.negate());ke=i.multiply(Bs,se.integration.poly_integrate(dt.clone()))}}else ke=se.integration.by_parts(P,rt,Qe,Tt)}else{var yi=dt.clone().toLinear(),ks=Ze.clone().toLinear();Xe===Ce&&pt===Ce&&dt.power.contains(rt)&&Ze.power.contains(rt)&&!yi.contains(rt)&&!ks.contains(rt)?ke=i.parse(w("(({0})^(({2})*({4}))*({1})^(({3})*({4})))/(log(({0})^({2}))+log(({1})^({3})))",yi.toString(),ks.toString(),dt.power.multiplier.toString(),Ze.power.multiplier.toString(),rt)):ke=se.integration.by_parts(P,rt,Qe,Tt)}}}else if(Se===3&&(ue[2].group===ne&&ue[2].power.lessThan(2)||ue[0].group===le)){var oo=ue[0];if(oo.group===le){oo.power.greaterThan(1)&&(oo=i.expand(oo));var Cn=i.multiply(ue[1],ue[2]);ke=new g(0),oo.each(function(Bi){var c0=i.multiply(Bi,Cn.clone()),Ps=se.integrate(c0,rt,Qe);ke=i.add(ke,Ps)},!0)}else ke=se.integration.by_parts(P,rt,Qe,Tt)}else if(Me(ue)){for(var ht=new g(1),Qo=0,Se=ue.length;Qo<Se;Qo++)ht=i.multiply(ht,ue[Qo].fnTransform());ht=i.expand(ht),ke=se.integrate(ht,rt,Qe)}else{var bn=De(ue);ke=se.integrate(i.expand(bn),rt,Qe)}}ke=i.multiply(ke,v)}if(ke)return ke}catch(es){if(!(es instanceof Ht||es instanceof r.exceptions.DivisionByZero))throw es}return i.symfunction("integrate",[Ae,lt])},!1))},defint:function(Ae,lt,Qe,Tt){Tt=Tt||"x";var Et=function(ft,Y,Ee){try{return i.parse(ft,Y)}catch{var Je=se.Limit.limit(ft,Tt,Ee);return Je}},Vt=r.Utils.variables(Ae),rt=Ae.hasTrig(),P,Re;if(Vt.length===1&&!Tt&&(Tt=Vt[0]),rt||(Re=se.integrate(Ae,Tt)),!rt&&!Re.hasIntegral()){var ke={},ht={},Mt,Ot;ke[Tt]=Qe,ht[Tt]=lt,Mt=Et(Re,ke,Qe),Ot=Et(Re,ht,lt),P=i.subtract(Mt,Ot)}else if(Vt.length===1&&lt.isConstant()&&Qe.isConstant()){var wt=r.Utils.build(Ae);P=new g(r.Math2.num_integrate(wt,Number(lt),Number(Qe)))}else P=i.symfunction("defint",[Ae,lt,Qe,Tt]);return P},Limit:{interval:function(Ae,lt){return i.parse(w("[{0}, {1}]",Ae,lt))},diverges:function(){return se.Limit.interval("-Infinity","Infinity")},divide:function(Ae,lt,Qe,Tt,Et){if(!(Et++>h.max_lim_depth)){Ae.clone();var Vt=lt.clone();if(lt.fname===je){var rt=Ae.sign(),P=Tt.sign();if(Tt.isInfinity)return i.multiply(new g(rt),new g(P));if(Tt.equals(0)){var Re=i.parse(Ae.multiplier),ke=i.parse(lt.multiplier);return i.divide(i.multiply(Re,se.Limit.interval("-1","1")),ke)}else se.Limit.diverges()}var ht=function(zt){if(r.Utils.isVector(zt)){for(var ve=0;ve<zt.elements.length;ve++)if(!zt.elements[ve].isInfinity)return!1;return!0}return zt.isInfinity},Mt=function(zt,ve){return r.Utils.isVector(zt)?!1:zt.equals(ve)},Ot;do{var wt=A(se.Limit.limit(Ae.clone(),Qe,Tt,Et)),ft=A(se.Limit.limit(lt.clone(),Qe,Tt,Et)),Y=ht(wt)&&ht(ft)||Mt(wt,0)&&Mt(ft,0);if(Y){var Ee=se.diff(Ae.clone(),Qe),Je=se.diff(lt.clone(),Qe),Fe=i.expand(i.divide(Ee,Je));Ae=Fe.getNum(),lt=Fe.getDenom()}}while(Y);var Lt=ft.equals(0),Bt=Number(Vt.power);return Tt.isConstant(!0)&&Lt?Ot=g.infinity(r.Utils.even(Bt)&&wt.lessThan(0)?-1:void 0):Lt?Ot=se.Limit.diverges():Ot=i.divide(wt,ft),Ot}},rewriteToLog:function(Ae){var lt=Ae.power.clone();return Ae.toLinear(),i.pow(new g("e"),i.multiply(lt,i.symfunction(h.LOG+"",[Ae])))},getSubbed:function(Ae,lt,Qe){var Tt;Ae.group===Ce&&(Ae=se.rewriteToLog(Ae));try{Tt=Ae.sub(lt,Qe)}catch{Tt=Ae}return Tt},isInterval:function(Ae){return r.Utils.isVector(Ae)},isConvergent:function(Ae){return!(se.Limit.isInterval(Ae)&&Ae.elements[0].isInfinity&&Ae.elements[1].isInfinity||Ae.containsFunction("limit"))},limit:function(Ae,lt,Qe,Tt){if(Ae.isLinear()&&Ae.isComposite()){var Et=new g(0);return Ae.each(function(F){Et=i.add(Et,se.Limit.limit(F,lt,Qe,Tt))},!0),Et}if(Ae=r.Algebra.Simplify.simplify(Ae),Tt=Tt||1,!(Tt++>h.max_lim_depth)){var Vt=i.parse(Ae.multiplier);Ae.toUnitMultiplier();try{var rt;if(Ae.isConstant(!0))rt=Ae;else{var P={};P[lt]=Qe;try{var Re=i.parse(Ae.sub(lt,Qe),P);(Re.isConstant(!0)||Re.isInfinity)&&(rt=Re)}catch{}if(!rt){var ke=Ae.getNum(),ht=Ae.getDenom();if(ht.isConstant(!0)){if(Ae.group===Ce){var Mt=Ae.clone().toLinear(),Ot=Ae.power.clone(),wt=Mt.getNum(),ft=Mt.getDenom(),Y=r.Utils.decompose_fn(ft,lt,!0);if(wt.group===ne&&wt.multiplier.isOne()&&Y.ax.group===ne&&Y.b.isConstant(!0)&&Y.a.isOne()&&Y.b.isConstant(!0))rt=i.parse(w("(1/e^({0}))",Y.b));else{var Ee=se.Limit.rewriteToLog(Ae.clone()),Je=Ee.power.clone(),Fe=Ee.clone().toLinear(),Lt=se.Limit.limit(Fe,lt,Qe,Tt),Bt=se.Limit.limit(Je,lt,Qe,Tt);rt=i.pow(Lt,Bt)}}else if(Ae.group===he&&Ae.args.length===1){var zt,ve=se.Limit.limit(Ae.args[0],lt,Qe,Tt);if(r.Utils.isVector(ve))return rt=ve.map(function(F){var ie=Ae.clone();return ie.args[0]=F,se.Limit.limit(i.symfunction(Ae.fname,[F]),lt,Qe,Tt)}),i.multiply(Vt,rt);if(ve.isConstant(!0)){var Ye=i.symfunction(Ae.fname,[ve]);try{A(Ye),zt=!0}catch{zt=!1}}if(zt)rt=Ye;else if(se.Limit.isConvergent(ve)){if(Ae.fname===ce)switch(ve.toString()){case"0":rt=g.infinity().negate();break;case"Infinity":rt=g.infinity();break;case"-Infinity":rt=g.infinity();break}else if((Ae.fname===O||Ae.fname===b)&&Qe.isInfinity)rt=se.Limit.interval(-1,1);else if(Ae.fname===N){var X=Ae.args[0],we=X.getNum(),tt=X.getDenom(),St=we.toUnitMultiplier();(Qe.isInfinity||St.equals("pi")&&tt.equals(2))&&(rt=divergent())}else if(Ae.fname===h.FACTORIAL&&ve.isInfinity)return g.infinity()}}else if(Ae.group===ne){if(Ae.power>0)return i.parse(Ae,P);r.Utils.even(Ae.power)?rt=g.infinity():rt=se.Limit.diverges()}else if(Ae.group===te){var Zt,$n,pn=Ae.collectSymbols().sort(function(ie,x){return ie.group-x.group}),Mt=pn.pop();for(Zt=A(se.Limit.limit(Mt,lt,Qe,Tt));pn.length;){var sr=pn.pop();$n=A(se.Limit.limit(sr,lt,Qe,Tt)),Zt.isInfinity||!se.Limit.isConvergent(Zt)&&$n.equals(0)||Zt.equals(0)&&se.Limit.isConvergent($n)?(sr.containsFunction(ce)&&(sr=[Mt,Mt=sr][0]),sr.invert(),Zt.isInfinity&&$n.isInfinity?Zt=g.infinity():Zt=se.Limit.divide(Mt,sr,lt,Qe,Tt)):(Zt=i.multiply(Zt,$n),Mt=i.multiply(Mt,sr))}rt=Zt}else if(Ae.isComposite()){var wr;Ae.isLinear()||(Ae=i.expand(Ae)),rt=new g(0);for(var pn=Ae.collectSymbols().sort(function(ie,x){return x.group-ie.group}),jn=[],En=new g(0),re=0,Te=pn.length;re<Te;re++){var gn=pn[re].clone();gn.group===he||gn.group===te&&gn.hasFunc()?En=i.add(En,gn):jn.push(gn)}jn.unshift(En),jn.length!==1&&(pn=jn);for(var re=0,Te=pn.length;re<Te;re++){var gn=pn[re];try{wr=se.Limit.limit(gn,lt,Qe,Tt)}catch{wr=se.Limit.diverges()}try{rt=i.add(rt,wr)}catch{if(Tt++>h.max_lim_depth)return;rt=se.Limit.limit(se.diff(Ae,lt),lt,Qe,Tt)}}}}else rt=se.Limit.divide(ke,ht,lt,Qe,Tt)}}rt||(rt=i.symfunction("limit",[Ae,lt,Qe]))}catch{rt=i.symfunction("limit",[Ae,lt,Qe])}return i.multiply(Vt,rt)}}},Fresnel:{S:function(Ae){return Ae.isConstant(!0)?se.defint(i.parse("sin(pi*x^2/2)"),g(0),Ae,"x"):i.symfunction("S",arguments)},C:function(Ae){return Ae.isConstant(!0)?se.defint(i.parse("cos(pi*x^2/2)"),g(0),Ae,"x"):i.symfunction("C",arguments)}}};s.register([{name:"diff",visible:!0,numargs:[1,3],build:function(){return se.diff}},{name:"sum",visible:!0,numargs:4,build:function(){return se.sum}},{name:"product",visible:!0,numargs:4,build:function(){return se.product}},{name:"integrate",visible:!0,numargs:[1,2],build:function(){return se.integrate}},{name:"defint",visible:!0,numargs:[3,4],build:function(){return se.defint}},{name:"S",visible:!0,numargs:1,build:function(){return se.Fresnel.S}},{name:"C",visible:!0,numargs:1,build:function(){return se.Fresnel.C}},{name:"limit",visible:!0,numargs:[3,4],build:function(){return se.Limit.limit}}]),s.updateAPI()})()})()),fw.exports}var NF=d9.exports,gw;function IF(){return gw||(gw=1,(function(t){var s=(function(jn){var i=new W,u=jn.bigInt,h=jn.bigDec;h.set({precision:250});var f={},g=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083],y={},$={callPeekers:!1,init_primes:1e3,exclude:[],suppress_errors:!1,PARSE2NUMBER:!1,SAFE:!1,IMAGINARY:"i",FUNCTION_MODULES:[Math],ALLOW_CHARS:[""],USE_MULTICHARACTER_VARS:!0,POWER_OPERATOR:"^",VALIDATION_REGEX:/^[a-z_ABEZHIKMNoOPTX][0-9a-z_ABEZHIKMNoOPTX]*$/i,IMPLIED_MULTIPLICATION_REGEX:/([\+\-\/\*]*[0-9]+)([a-z_ABEZHIKMNoOPTX]+[\+\-\/\*]*)/gi,ALIASES:{:"pi","":"Infinity"},POSITIVE_MULTIPLIERS:!1,CACHE:{},SILENCE_WARNINGS:!1,PRECISION:21,EXPRESSION_DECP:19,DEFAULT_DECP:16,VECTOR:"vector",PARENTHESIS:"parens",SQRT:"sqrt",ABS:"abs",FACTORIAL:"factorial",DOUBLEFACTORIAL:"dfactorial",LONG_PI:"3.14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196",LONG_E:"2.71828182845904523536028747135266249775724709369995957496696762772407663035354759457138217852516642742746639193200305992181741359662904357290033429526059563073813232862794349076323382988075319525101901",PI:Math.PI,E:Math.E,LOG:"log",LOG10:"log10",LOG10_LATEX:"log_{10}",MAX_EXP:2e5,SCIENTIFIC_MAX_DECIMAL_PLACES:14,SCIENTIFIC_IGNORE_ZERO_EXPONENTS:!0};(function(){$.CACHE.roots={};for(var p=2;p<=40;p++)for(var D=2;D<=40;D++){var Q=u(p).pow(D);$.CACHE.roots[Q+"-"+D]=p}})();function T(p){function D(Q){this.name=p,this.message=Q!==void 0?Q:"",(Q=new Error(this.message)).name=this.name,this.stack=Q.stack}return D.prototype=Object.create(Error.prototype),D}function w(p){return Ne.indexOf(p)!==-1}function I(p){return p instanceof gn}function A(p){return(p=nt(p)?p.multiplier:p).lessThan(0)}function K(p){return Math.min.apply(void 0,p)}function ne(p,D){if(nn(p))for(var Q=p.length,me=0;me<Q;me++)D.call(p,me);else for(var He in p)p.hasOwnProperty(He)&&D.call(p,He)}function he(p){for(var D=p.length,Q=[],me=0;me<D;me++){var He=p[me];Q.indexOf(He)===-1&&Q.push(He)}return Q}function V(p){for(var D=g[g.length-1]||2;D<p;D++)Ge(D)&&g.push(D)}var le=f.N=1,te=f.P=2,Ce=f.S=3,Oe=f.EX=4,ce=f.FN=5,Be=f.PL=6,je=f.CB=7,_e=f.CP=8,b=$.CONST_HASH="#",O=$.PARENTHESIS,N=$.SQRT,R=$.ABS,B=$.FACTORIAL,j=$.DOUBLEFACTORIAL,J=[],fe={},Ne=[],qe=[],de=function(p,D){if(!$.suppress_errors)throw new(D||Error)(p)},xe=function(p){for(var D=p[0],Q=1,me=p.length;Q<me;Q++)if(!p[Q].equals(D))return!1;return!0},gt=function(p){qe.push(p),$.SHOW_WARNINGS&&console&&console.warn&&console.warn(p)},ze=function(p,D){if(D=D||"variable",$.ALLOW_CHARS.indexOf(p)===-1&&!$.VALIDATION_REGEX.test(p))throw new Zt(p+" is not a valid "+D+" name")},Ft=function(p){var D,Q,me,He=Math.sign(p);return p=Math.abs(p),/\d+\.?\d*e[\+\-]*\d+/i.test(p)&&(me=(me=(Q=String(p).toLowerCase().split("e")).pop())/(D=Math.abs(me)),Q=Q[0].split("."),p=me==-1?(D-=Q[0].length)<0?Q[0].slice(0,D)+"."+Q[0].slice(D)+(Q.length===2?Q[1]:""):"0."+new Array(D+1).join("0")+Q.join(""):((me=Q[1])&&(D-=me.length),D<0?Q[0]+me.slice(0,D)+"."+me.slice(D):Q.join("")+new Array(D+1).join("0"))),He<0?"-"+p:p},Ge=function(p){for(var D=Math.floor(Math.sqrt(p)),Q=2;Q<=D;Q++)if(p%Q==0)return!1;return!0},et=function(p){return/^\d+\.?\d*$/.test(p)},Ct=function(p){return nt(p)?Ct(p.multiplier.toDecimal()):p%1!=0},nt=function(p){return p instanceof x},yt=function(p,D,Q){if(Q=Q||{c:[],add:function(bt){this.c.indexOf(bt)===-1&&isNaN(bt)&&this.c.push(bt)}},nt(p)){var me=p.group,He=p.previousGroup;if(me===Oe&&yt(p.power,D,Q),me===_e||me===je||He===_e||He===je)for(var _t in p.symbols)yt(p.symbols[_t],D,Q);else if(me===Ce||He===Ce)p.value!=="e"&&p.value!=="pi"&&p.value!==$.IMAGINARY&&Q.add(p.value);else if(me===Be||He===Be)yt(Tt(p.symbols),D,Q);else if(me===Oe)isNaN(p.value)||Q.add(p.value),yt(p.power,D,Q);else if(me===ce&&!D)for(var Gt=0;Gt<p.args.length;Gt++)yt(p.args[Gt],D,Q)}return Q.c.sort()},Ut=function(p,D){p=i.expand(p),D=D||{};function Q(me,He){D[me]||(D[me]=new x(0)),D[me]=i.add(D[me],He.clone())}return p.each(function(me){if(me.isConstant("all"))Q("constants",me);else if(me.group===Ce)Q(me.value,me);else if(me.group!==ce||me.fname!==R&&me.fname!==""){if(me.group===Oe||me.group===ce)throw new Error("Unable to separate. Term cannot be a function!");Q(yt(me).join(" "),me)}else Ut(me.args[0])}),D},Ht=function(p){return p instanceof ge},Me=function(p){return p instanceof be},ut=function(p){return p instanceof Le},en=function(p){return p.group===le||p.group===te},nn=function(p){return Array.isArray(p)},De=function(p){return/^[-+]?\d+e?\+?\d*$/gim.test(p.toString())},se=function(p){return p&&String(p)},Ae=function(p){return"("+p+")"},lt=function(){var p=[].slice.call(arguments);return p.shift().replace(/{(\d+)}/g,function(D,Q){return Q=p[Q],typeof Q=="function"?Q():Q})},Qe=Object.keys,Tt=function(p,D,Q){for(var me in p)break;return D?me:Q?{key:me,obj:p[me]}:p[me]},Et=function(p,D,Q){return ze(p),w(p)?null:(D=D||yt(i.parse(Q)),i.functions[p]=[i.mapped_function,D.length,{name:p,params:D,body:Q}],Q)},Vt=function(p,D,Q){var me,He;return D=String(D),p.group===_e?(He=i.expand(p.clone()).stripVar(D),me=i.subtract(p.clone(),He.clone()),He=He):me=p.clone(),p=me.stripVar(D),D=i.divide(me.clone(),p.clone()),He=He||new x(0),Q?{a:p,x:D,ax:me,b:He}:[p,D,me,He]},rt=function(p,D){return De(p)?p>=Number.MAX_VALUE?p.toString():Number(p):(D=D===void 0?14:D,Math.round(p*Math.pow(10,D))/Math.pow(10,D))},P=function(p){return p%2==0},Re=function(p){return 1/(p%1)%2==0},ke=function(p,D){var Q=typeof D;Q=="function"&&Q!="undefined"||(D=function(un,Yt){return un===Yt});for(var me=[];p.length;){var He=p[0];if(p.length===1){me.push(He);break}var _t=[];me.push(He);for(var Gt=1;Gt<p.length;Gt++){var bt=p[Gt];D(He,bt)||_t.push(bt)}p=_t}return me},$t=function(p){function D(Q){Ne.indexOf(Q)===-1&&Ne.push(Q)}typeof p=="string"?D(p):ne(p,function(Q){D(Q)})},ht=function(p,D){var Q;return nn(p)?Q=p.splice(D,1)[0]:(Q=p[D],delete p[D]),Q},Mt=function(p,D,Q,me){var He=$[p];return $[p]=Q===void 0||!!Q,me=D.call(me),$[p]=He,me},Ot=function(p){return[].slice.call(p)},wt=function(p,D){return Mt("PARSE2NUMBER",function(){return i.parse(p,D)},!0)},ft=function(p){if(nn(p)){for(var D=new ge([]),Q=0;Q<p.length;Q++)D.elements.push(ft(p[Q]));return D}return nt(p)?p:i.parse(p)},Y=function(p){for(var D=0;D<p.length;D++)if(p[D].group!==le)return!1;return!0},Ee=function(p){for(var D=0;D<p.length;D++)if(!p[D].isPi()&&!p[D].isE()&&!p[D].isConstant(!0))return!1;return!0},Je=function(p,D,Q){(D.isComposite()&&!p.isComposite()||D.isLinear()&&!p.isLinear())&&([p,D]=[D,p]);var me=new x(0);return p.isLinear()?p.each(function(He){var _t;D.isComposite()?D.isLinear()?D.each(function(Gt){Gt=i.multiply(i.parse(He),i.parse(Gt)),Gt=i.expand(i.parse(Gt),Q),me=i.add(me,Gt)},!0):me=i.add(me,i.multiply(He,i.parse(D))):(_t=i.multiply(i.parse(He),i.parse(D)),me=i.add(me,i.expand(_t,Q)))},!0):me=i.multiply(p,D),me},Fe=T("DivisionByZero"),Lt=T("ParseError"),Bt=T("UndefinedError"),zt=T("OutOfFunctionDomainError"),ve=T("MaximumIterationsReached"),Ye=T("NerdamerTypeError"),X=T("ParityError"),we=T("OperatorError"),tt=T("OutOfRangeError"),St=T("DimensionError"),Zt=T("InvalidVariableNameError"),$n=T("ValueLimitExceededError"),pn=T("NerdamerValueError"),sr=T("SolveError"),jn=T("InfiniteLoopError"),wr=T("UnexpectedTokenError"),jn={DivisionByZero:Fe,ParseError:Lt,OutOfFunctionDomainError:zt,UndefinedError:Bt,MaximumIterationsReached:ve,NerdamerTypeError:Ye,ParityError:X,OperatorError:we,OutOfRangeError:tt,DimensionError:St,InvalidVariableNameError:Zt,ValueLimitExceededError:$n,NerdamerValueError:pn,SolveError:sr,InfiniteLoopError:jn,UnexpectedTokenError:wr},En={csc:function(p){return 1/Math.sin(p)},sec:function(p){return 1/Math.cos(p)},cot:function(p){return 1/Math.tan(p)},acsc:function(p){return Math.asin(1/p)},asec:function(p){return Math.acos(1/p)},acot:function(p){return Math.PI/2-Math.atan(p)},erf:function(p){var D=1/(1+.5*Math.abs(p)),D=1-D*Math.exp(-p*p-1.26551223+D*(1.00002368+D*(.37409196+D*(.09678418+D*(D*(.27886807+D*(D*(1.48851587+D*(.17087277*D-.82215223))-1.13520398))-.18628806)))));return 0<=p?D:-D},diff:function(p){return function(D){return(p(D+.001)-p(D-.001))/.002}},median:function(...p){p.sort(function(Q,me){return Q-me});var D=Math.floor(p.length/2);return p.length%2?p[D]:(p[D-1]+p[D])/2},fromContinued:function(p){for(var D=p.fractions.slice(),Q=1/D.pop(),me=0,He=D.length;me<He;me++)Q=1/(D.pop()+Q);return p.sign*(p.whole+Q)},continuedFraction:function(p,D){D=D||20;for(var Q=Math.sign(p),me=Math.abs(p),He=Math.floor(me),_t=me-He,Gt=0,bt=!1,un={whole:He,sign:Q,fractions:[]};!bt&&_t!==0;){var Yt=1/_t,fn=Math.floor(Yt);if(1e7<fn&&En.fromContinued(un)-p<=Number.EPSILON)break;un.fractions.push(fn),((_t=Yt-fn)<=1e-14||D-1<=Gt)&&(bt=!0),Gt++}return Q=un.fractions.length-1,un.fractions[Q]===1&&(un.fractions.pop(),un.fractions[--Q]++),un},bigpow:function(p,D){p instanceof ie||(p=ie.create(p)),D instanceof ie||(D=ie.create(D));var Q,me=new ie(0);return D.isInteger()?(me.num=p.num.pow(D.toString()),me.den=p.den.pow(D.toString())):(Q=ie.create(Math.pow(p.num,D.num)),p=ie.create(Math.pow(p.den,D.num)),me.num=En.nthroot(Q,D.den.toString()),me.den=En.nthroot(p,D.den)),me},gamma:function(p){var D=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(p<.5)return Math.PI/(Math.sin(Math.PI*p)*En.gamma(1-p));--p;for(var Q=D[0],me=1;me<9;me++)Q+=D[me]/(p+me);var He=p+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(He,p+.5)*Math.exp(-He)*Q},bigfactorial:function(p){for(var D=new u(1),Q=2;Q<=p;Q++)D=D.times(Q);return new ie(D)},bigLog:function(p){var D=["-253631954333118718762629409109262279926288908775918712466601196032/39970093576053625963957478139049824030906352922262642968060706375","0","24553090145869607172412918483124184864289170814122579923404694986469653261608528681589949629750677407356463601998534945057511664951799678336/35422621391945757431676178435630229283255250779216421054188228659061954317501699707236864189383591478024245495110561124597124995986978302375","369017335340917140706044240090243368728616279239227943871048759140274862131699550043150713059889196223917527172547/335894053932612728969975338549993764554481173661218585876475837409922537622385232776657791604345125227005476864000","24606853025626737903121303930100462245506322607985779603220820323211395607931699126390918477501325805513849611930008427268176602460462988972957593458726734897129954728102144/17750092415977639787139561330326170936321452137635322313122938207611787444311735251389066106937796085669460151963285086542745859461943369606018450213014148175716400146484375","399073568781976806715759409052286641738926636328983929439450824555613704676637191564699164303012247386095942144825603522401740680808466858044/247958349743620302021733249049411604982786755454514947379317600613433680222511897950658049325685140346169718465773927872179874971908848116625","1468102989495846944084741146947295378041808701256909016224309866143294556551407470861354311593351276612463858816796714569499021375899793849136855085849133702029337910502448189055357182595424959360/819363879309286303497217527375463120404739098260200279520788950777458900438307356738082930586032462601215802636320993648007907724899611296693997216938989854861043298494990214825163523387600982777","5896704855274661767824574093605344871722790278354431422729640950821239030785642943033153793245906863203822369276271050164634206965056233097479117980782641839669/3030306850569309344013726745100070601277982132543905537366562638553198167007159067544789592089960911065181606283478843359856123992707598685058297067179343872000","76631772943534985713873427262830314617912556928476573358548256872141516989538374761909611879922349479420014771499018155447198112155515453671128814488139633810493264352294560043912066253026059140653027326566801398784/36852092933388988649396042883218509607503204211148493545892849595498822817623842579026942621098851631842754395231561679671400197056377380063233740202370686144673585955581403046886083948450136247134308381940165804875","3159076083816399509754948610929467278257473888282947311280653574634802580912280940686954763313882823327077171624015737719617373932318151594325834524000275847475866299387913048/1437757485694188822758304467756419845842037623148461107362957994816554782989250555362514354661961482939226272309026092009962414616417412938087494467254146002233028411865234375","22266067259907364984531611601870291368272674573653403965630628996687370994139884833897773468149149664829922302484782423514167405397665098388400450149078982462318781750661005833037235183394221496186539779712428265837926417581952/9670030144664428565128962309657100138096047028794689249320859276197340398920725569428532293373676415359965773460364494998334259893079003125373872108770534788283842907318071170285038777091588292539102269617376180390982915567375","14604654564989239958569331443385369522850975185358647132770022716433280072271007767111036877803328768910274400515590151934676819262085211828028638417329558229123989556376108454497813055/6090614019162516693013973409650613208227889078878781039105047015752493519149314227721984436973374032279421344818329285207124280297611253861173835238379831004010748379874393292231671808","1901241885407696031217292877862925220917660047127261026827869027159993239567933534052663335498281439239753018507182016153657409777749792228538380379703411298411623469292891476969894084838876001545818141543890273256985768690847587711270930688/765116019778838839812655402103512685695769161212360553099732689795578904762091216998790589926057819838537805856579109910198553330075924857419395160755642371550113347465300208422126945265887065434116781678702741657275181694851670325469434625","139459806786604751793737926146840623607010208216289543036026206208962059593900745886202214788747453279179283344350478734275973878932538430194363355795823581315329311220701640235653288975569812161436/54371368534412517053056101353618694718215711767266376573138772968257303578467926450212293233332401067673270853953399269852376592855992724934941173346260129257754416412476202526978443681584633116375","1045669091124493070709683241190022970908640501171378776604126771144008324358233819560649021940145166254659028524319517244711645162132513416238958170819347361185944945680269442845829390112062101255500836072082817820950448463314034677353723256969344/396228259004446234921310936915931611736815598535963504660076315228798989932959459406702091180060429080345146735173591749448509810270759531977278642135591672189002006272326131885315743181289970885337574780897529347356567086535505950450897216796875","9912919238915437302006264477931031611447467070103973106567538528951878797932559935860738745374437522819124347510590800370471910492338584284092534264608801221235029062881964101996762011296996851893455828946521/3660537472668264151218961634689665210933936249986285290553357254224360417386515311493310199319523687171757653216994741150377508234317025158302057758196429623723072084157928224798322861732880034847243894784000","9263710175433181746575186369318246002919895649622127410824041370079225200282403368319370743363303164313395723904510539050157032684710468364067204876434546848634842333436957245275217583248805993142227630297924119330553308466662488683624783307023014909360640/3341177182697517248552428837661919299725031035849865632511882688786226888137634168024976033652753689210700218163621739078534353578510364301481093730054725078138658805025014615651043313990684347632166030359086885561104034510990826655289288319840595753002771","5116082230713622171832327542439052727465114322479570603905499496221224653983960598946033081212909066917137546065542953865612718836914393275681318667667521726785633638189373998191090501201427906618075889744489190209584/1805752553736060443820406101277706970767657006346276183748749630179442318063568286372320188433843729960294965366346522303898609655762491623098453269916163621089005711823488749297418113474056676109581110715068124438875","246569125619713282434448566970352231845414317018379160824176638351574938993535464763890962336882760882398479702237564384291290459961036068916857265499633061660562532011248501476114401629839742058389195725393702000011860799793778295606988057303225493814005789533570432/85307063020836305797178273029353623060860009152114361453434032434699636078115114412588719432277441055049132559782203988387794711585368296817222565434951256788867244687081233632650953850383220864394261763844194948389861147622944651546912394593164406926489862036343375","133672026303452911046163998480860917119290576658330909785707604886881155606725822685088929236266583416708668502760907677019598002175122453170574729028452721476464728566191464897928696630979863154661704374206171469014225143/45398130975270785045482567762871405072140548998125471025451666500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","6041693953360002800224091673336562508913199995987479264605216252220579740134601435770085920869376641180763419907442721705887169884230643795126568815123647603047739799302562095542459344811429882053086550900803768964612193941424128649976704727183797495759082741166938351872/2016766992122395667828553277997478570503475626107286343497917705446132017125079612756035254750822860815515899557855166824523851779156336235294914777307802256439645525835223691751931866188957324792276149549076500784191791380803500156776088683900346065830066370370083309875","705868391597244582764749229356331441978820024796066870551110486625729826111158236686696326058778874201639006234449557592353247542995871491078308187261304930042019640830629526023972693107193897009168955674240659026247094657679060/231848642748474339277532000336338632910990823562381469441716922006107433404523316252618490265927265734670539384485699132080062215196462178933963957679882342083893417545858074378754089719547920901917516016346211301054206383643383","101832160604157943093944673541651013907278188571533075311673249923948856034633446617630054761681006062910980371900782781226979391765818325065031889334563981235894369036439929651260587335544056975715076598739977065390678221999918899003881778449092038750712969437519295878491018112/32944277910571666002449086492515464541550138004002141571670657643770713783329063548790202120805341989608877739811787937782240802963962520261844114327432160788193314874913687387269408387417806176202979244637915812905426565263196954203487934225589622864145960079736633434831996625","10655703119271468913597640479490594180964700448340778168715956712130636958373270202484276402718566314881119559090842449610957974112230306343486091910217340665146602598568991520563987490686996746558858366002301982443029430290679385551/3398412687366638541233365137084722368200311117891192348532156645374786104142009695796409107380345795998400850838706661851176885183144928701608654514812261697598380070746520197171576610572921007069104300695592751543563472456384512000","1903039332876763837419920240543738799531131775028971323439870868730321221615515008394327723508670975623498588291298064320786970626232668956372004004897872810230178526101184611242511193415796638694370503100219710864543168952682617801833318493436174387568067811938490953495819438108686336/598806534367503338307287246320963280558134937382149405305466709787179429317914803617527827862441615350396864359976273212272586892074799651088317544101755361439294687323233086696182687664637422796995789967075271448560870681210580691574924544896656175563265378514188341796398162841796875","525573915563826130963525826191411949262846916750432019596028344808298471293378917508549164993368392834023782480702893643486699787870059946429810070222126260200026332874480239090370088123833491499400991181659445914352500247596757005142623368/163278727324937389095822405034435687776345799835442022795533783889356344755225815267819508608559076191292900367982490827396869405536484846115955581043091229202052407483776587687967125885665493681707461345895999542381476164157058393971431375","9263815657177858787273494705338516861045771674838057329170239610953039987023429736752079544014780707408666628475997291124805562998227296677616204140605356257712022384368492575381355563976330347792504605666631512343447560301417325154003481040250148561839861837778597346623630046623751094400/2843321709948499955095590862256744532227698001408929142548057792217790532624003190447363578048562448168721539177458065482170148482375585867230123873178100117094533143052886527452665480614620123764036974180917207421482431983407742154634391264619615289225747664532332469783301704643254076601","407959339726114455622180187758753007349209016396248763075759257357925636039752474207685682218422721827857994768023399625060206708378433960993946156803948655098667156937949174400873748557248801874735834957795040139401560494087476967548060208243867/123780218751812156744401121690996305978134694678934447237402511116731459214498784497436358160964198336874043702652746834763131444030185151143987331404604087778514863973633941401826334750268416015224906056576641018962863645043976537664227639296000","2547676391598917379516698439971914695230548782904479778605691338364453606537643088857116141939170899135026552016969320061900926954008522781162186995856580955090548471448276736878300717869625651893741316530109438876067419826217901657017506157997588944233677467357220316084583383623602865379325184/764562034757392298786420374672266498815021229519853724850874576419885380830752931701831256959159800764672605004880389358601658343203513177084389490286723240185146570925957286083025676875197029662038213216541352875570101363668917766225709569356861275434470568767077844675593176178611021135573625","186545352286463730559933346565311535598243666022232037054735807289501173444103692309735768703898330430135399033529355360391658728987379385732098960609744313878477967971557204207043802935782878745271859468248704012618254203101767841517569443555143252/55399179641621656233589820996143825959365789093262978988289445625153099592463372579496245442338653053662134699646413817866770218574795378644415019944304868289119443774932782235638737888469746745621382139263856603239588594078668393194675445556640625","664884440164786473344854955309049113269357314957985265728106924238588705533437169796551912202931185746193155801905841712503407258166135075966280435780812714252670362202091663287095423712596462690753468682634261029392794173636943978404002804413009590005984736612421172979101972556772005594499779860608/195485517776407145286424460448995460754674039560651791192647586550615878988380153730602665795647187884543361218962125172808792176382956599256188706636727418572541254480798303566840010217729386905041217793614214518363859058348249961790104618910877813067510758225302884815410347238200133693756493703875","2614957283934314904315471338485451166053664494383241929385424599389309215073267052860464009981063483440201193771607520572077231889699858482582363845275452280606276949653970992719332472370351170732899676316967244504534154616036371979031399425846100527685/761493664432749089312665480773496290658029971027686543404885407644062485746072719559288231362060149626237939029641098328278650939665665969011529293869562636656650999759724704272743235210867676873525147820749560155294022488994426729939894753293900972032","124843380518493746761140367283007507854364503961156704095198010255465940085534099747297600085903814014415830785663764373057896014399822131175202342399536439284123918855893825207202244831315575594886675813256448846863723093240955901916229136393454605455444105444987028391748121054399538064686074523506176/36022228212051654395480210378626648518430280334458144892889271272122662467638331091863215146548048144675657239846337165813938424387499358852301016926312083940212100001220180762189978024821166744964908871443681332664798940660421469519997746775275873085770018269706847741064037876137315001228315806659875","827992369063043155578730871896750570951766628472810506926098505028264552046829097082095665194000002802661600196840639204300804225352337632259980703832713031790922485730615305441309917696044954289187837653933158950774246017223571461858939407386087081525130831392/236805932823686534991153393869288530368011574665859226704279685567723830696754821658770176385138917722808377962346690757191122309876922069867472518117628639913077442806147910884267694879089753138429767401700283014143248445966474839193628309668702223994071394625","17347276886878323736540051321582548724378497839789943634071026331001588645519865992773157565595886250230140452154269197770615097377486013097979087647774513500701793885978192218455687078883766086309728287172567466406449372659680040183273634701092561727514713494914793425407149186041796935055187281744386432/4919325621804683623339606849970832094714371903709195539440424738973575902329797546592497378000858196173718145883783709223158260700365224756081275272021856393735663399552166737690038832550853145831185979094979556715294990257315369124065787473707136464772247917156232366320267601622617803514003753662109375","137984231830526866236186357461458917020538108058615632801298091031540729111527734872044790487396302545910108285921421417358113055522725197998483383380192391312304647004240060970929072498293210057120617332323445379424867965764749534125081131327565507524502163460761/38810445792642817561168950890315210470940006613819790543653745327778579787694809782601777514116858514049585074667085399925278459138508514838268321349069481334967221455722811414399738756151414906092225265355449011152267068726417045644222323488445626292574879744000","746567120547823334914136339633766098626636643449144032626270358619125402826113269699709721071135471625588981126637674402048519990010499180844665151971356149292818375448504122545400227696621572263621729512461528550588108384619064912224884465737417596190735966915167530332762203074440688676123756162572829692160/208334337057923929636884170505570363171441147899816815785150954417598643614152856767186132467069365605496210036171429712485182162940460120834349006784956522600679357307849981862006710239311750261522832996877712350330290831638640913932265004107623954913155144975252743257846945609734368518424172846119306643431","64649371728330695076928013661001819989330953381731372450140483779536126948957993261299287753791770622512248630224724990234903928056275080682537641377393210728546364176267034339221558641084730052304770498929958838997239635790469536857863963589118888238069738647239076/17903951498200212327802847425913723358452100686246224008745414214690047078122925247086521362329833307849817944645647750649290248110509395628305970523384831671737569872597295947593410067364379687588919135621621162007748635920864926867870502568935739725312687094047375","2454918942158003099688922026016393688092399295166304634317616773083386087532869193458590448918958337530406410803840837646465522656670050113548208618655070231274778592766244282964463702354872753657766121825196898916725498553882689210280080206627916046484942827487726300822318764058084323314109595329304407466188383616/674880185931325925966586583820010578979699141814417326552629206140252348822939845006845669570885271576698771404162512001549922909048916000017837898649100825976232784446638776021483802989797501705685620612986771521390439936066527738682396560462899753657942715306792783283782238662155922082005591512296007820682995125","74018558041066162916454010680594042518462756234254788158141115244349044958441521749277686851928706433556285971088455226217644009628399441967508838553345152310730562224910795446341601049647392069373970101491741830623078126344928804029524181578945586663110848142571149861/20204153620006780689923328634586091101021423979622170579036140596085566172775051595588438592742563923428900864000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","2127032036758045513335690185608563023954009095206088224487365541995326714285119384743928987635752931664240752323937321097955456543854943206092931247498833001499955456190701695430459583885125382086777607021670447795321669948733328973350279846928613949120929250312666393359442423066212311060931469017737106028339882830848/576612418511902928757340062840968526862381326698309578771238715462180282212422302261044980131594522407066369222998903808960617461164985318633518680304995784614308979881735537678182134128319596636920719106506829571072447362052319438091347699720147003209417806230149598345068078717948025207635448205253184540936478445125","35289653975561083576641954928762116897061274899517309102784750384002335187117263273488751066569234386120759866204372398611196356888479036949053282301027789530999737306501029700128744408015642211359442183943916106790666114870974212159410284751571905275610921784716184508440/9503006066880728386808143045924119024212377150217533250562188228062174064693375135306438120385877320162710918716613546077156389583384656340709638430674364232343609717735574035535102953482366914421205216675248471695111720986346092738728929878538430662191272737183832556131","102633551023964794485575491065909467125458972250222581133681080524371507544152979467328048718122409841060527545925136196267751819689935599599321090571687632103850847605493223603751038996548520557330016046032671961857623066292962260173840972332108111505971231021442896036760967107060309991355545554631003681544611731245475968/27459658121882266328752886605529964804078316737648012166874496015808620265471203512606463219297059547428855195782384236337998738233668399173746663289852416697917397644234441300570212555870401420579737973722145663287124151049692290432756231390864184491891697469874600345958989433125942336757049639797225309327019275689074625","10034393558388390065766795008210457368713365491566387292163814915435906649268119060550511145023450790393353937124495488860451123302412204483570913557762460385297770427946219119911920640306914453207097103853766023934602534502476962159682750262143380527529536498215384467975023/2667919902603322771586358077760621955455470781865624844984169443739075976572061827709528710108877015489050369589117491611045518221354793418884447632063538994046714401229510497599783726376490260140723032102883617341970952663947646017489439179953454964374887388652792446976000","248528145263843375390386172800048509380966183384567983242213959113927668429802237067505890436957693495616107089384741585283620097982859345081736730899912519273262934785992235852866637878831878448348444611412764161078458068549719800733237024285525816723480868704742804077255242682077291713092790250511567621735004237450946304/65676865669148624809340872151906045781446981664561196686217551358486802274698228825404698950974939545099727242259547145392352658637333562345477931951890984276718673618736565926663528625796412420753961231404680876558659735251469326707567479071881966875336951133475135427640218972722939427821842173216282390058040618896484375","7805448718805635696495809414501206964843262114470109146341305656318015059743127114324245035489577134938579856003956861881125856595981500593426840968087618241785931128978516340812066502964561231235073012672356530509663384739132686548934288703179479011016719045530855033205271548/2050525178024039744126592505352202216905491833360272553169520915020715464206141942151086176509423406413311520838568324134077402841030113427309725873344806030836314500267104070131451720947531994814710189000076651895520222646974590481497382830325485174899169093049299764813276375","3355325071293197839434119105039673324264765809771192815982246040415580387729382404624613875653005261578877047405365032178619450963731719777167015959920645055600439987161800547901539269321100559393048973255388860193948274255340335876890491746900991668165565729269698196233805991206691196045182214641935483083662356666996922240/876402579119117579582569839757462461050855174353108858954282915644790659429341853404829661899850841645529640454766173209897510988090318303454542547519850473808789222552969933222203420847859171250332350076509996295844203965564448154484566493395403967626596213792922784509892086361572955175655987334882030766001799867659814117","218871061991045868372866381545267589365410350294028138778572466235486397478028823720846191998825628156716190463263492304639890659254282445466806224943413446008645087186307985343574807361972238230520975439736199291019544576443791916302825193643774360055545186783819367378492631806297/56849560726416896431557940314760680962653658127458002233782028041537121216487790008085876994020812492987733987414743604239935223783349870516284048368761617736127892160849065895223288023531930411718807065209903593668117085505482007061969339237404945180379460053180570404846043136000","5008685108365226931582937964451700746853986170633433728409171904803795018146152804690759530990140552460596075588463394200510044617816085275660078502126507209302951286606953039953843685800941558212440519542602092919776366067720586295390886070120828199562643208637974347390938772070049344991272621102622931576339988103674070876518912/1293888539680354282541277646947380627241979967611883341823378331667976045287311988103163380651334828012840330710760757271860219584371109472132211215957402251594055009937397184768184517621978947384029376766290498101728971145633139541827544539988344772578184316843734267915665730981857376872622787627370859411909330227080697966353375","15388340113525711660227566446101909585796746979396093776960989868457211684028149502578116456785221720682202816140911944661051001675127262774824593420825587319436537346311831003212424497488485098543512314062112948777572038731823948224734505930748371522309451168088057190162878224801232/3954220582960831691377435160890656173654063611768428458807273708040518769541211737927975894584024448193835165167801976423275767590502552964407494549049777006346189436817215329891530811451811864579644894987864267389290848598289794977382504890216219362031324635609053075313568115234375","5099039333987561374222193551155323470675617979816941646196895589439391685938046865391119484510329634015275893520725135141878751153360264368353595348921951280561029028912953500944814771064409611917475818956659775131751121312316084465321917769679881052144364834485866477379437705913911371481828140817759401117780199246301705600020671104/1303503600297679371136943454060319958680553228879031326679449263682048703103464872914972900105569835004878963701599765030590097739639045890060548760692125546754294514068052902543220382104483822438283040090444827980927544440984823535260277595466339403795403200720622852069244768910603820007632395190204569927612348189089161551951106625","4902837141334073026145827027361937996261324349722726869116185158777439337041263482852376194988371853413467559557923410949898048139830183335197992754748294810838187068126867611615800383834975563313220497573778480109264178673389149671194149749735833378557143135481387904961537942569904075/1247045310545991266291285730016853118981099516935251861146038369985109288084420528171217942065832292739130145780833406014673689119563698528225048800794718789218267628507713621235056538202070171596177775095071513194885568843375526804796016261173388452184505503341132236719484809714335744","38114743522716832107917466438257616720476488812538316101658139632867788464381862291240727309611460187159930652186486096300862388591521625093237019662273764387591494074792574929490381910446287947994150655077877204446864004067956087975012773988833339521775463977233068498404144221045837190392670308437391686081418318624745039402145439223552/9647001083383999453668111809775451078976046488746916070976218645431946648087171586252172936600115032316383427265217993193444199863138429602138841976586190525451324093772097241349417938578878934577091671046050326087898259692917931230974174799815198493279413438192301437068820185757869608523761456160341754512329264442115351926967120404125","573695055225225727008803730767518906490704995929177617646275646884555707960986625481944101622708415415988844740028718027554452662358957933526173824325955904005404113684003841990198157072540659184995738719040024647370869010473254071681533880576462368600901824622431045529064651675640055917092/144509482511118816399089096021290587489594541280398871255876563615464628718527634679330291741479135415168539765887291789615790513527330600394937614433502341116068305347468133950204152174094704092402978083370792135432486240914953928188835819767755172666693219213868545854371103120604946200875","23876960329653589647925126180903391687666378233201794403339630995420215267415575142266707357255726330536094448314199602616026935251126469221925945960901748679919435908556550271504767784553484434363646489174587463466333864577705745452492395785557425904735048180164697040313528831173448025400634629163795223739061661461986923675833880378496/5986312408594306954013526197465608559068621248896320652512228238115589875514604632230098997609482248000888567135685167138762172475788060284232459813998201719590208742091697294562538265829954186149162974972471533202880368317237508987477069872431064075005305838801862900501819963793062041081601844759452202282545840716920793056488037109375","58168289917567723171226992383559866214094157894992327555495441698028867727845766488121900626912848698952863438654895252811583144479300382761129433911280049009362667380001406579175563745824368613319103673817094498117944856004415812877213722455299491145649879676787079744410765053845551958756701/14517067289347903655500020160671113450349743650636953726251191692074385521975132268313263723831804150872238173602847065423463131917373356798750100313145228608894881457107689499956903046984443545789053438946050974567665049237414588435796381674590098629779384355275820782532479708807512981504000","728621890568281859295409481422447012528302594365693410763821707074444799793690738137592101239862736313347273167450056625929591960610208335290882047413011571781161008296084630072829079783328937418641417642857196346026366370059522990813537731394823630207433267854616768658990289454635793326766697884798538576055949457122067828153655416688640/181030730759516991863708593747964787874073354051675597050399087612142539517308720603687322924426591889179726492403913356461908748733972707460063017057809060190437917851790767968877215795679844983288935075688219234885360839984681619084834228226744165610073685719017596630302462070188937998558312507638434329299017584329479516410907786681093","86855946923438322218622470067224691860808273886184997065663554841573982963995340977083049132518812923329423480393306918856650577072525633920456721265953575424233701929892019410099166322511413146891121248381648145391642571638857576890568882512129960291171866772665863159474602604647289052079991768/21485753507365901947528588896402264670781310878547726104482740647554738151100954835784115119035980523529677083504495839730499664052882400915208251594384038810917282207449860876251558307288700200910747338758723324686939379138206117634546981163355060740270734146780942696291669461182599512320099625","2158989152301022938148680102142188531448821359505188055264665167313418619665693092337665573150374231484840948447637297247277576415460889296724813940128955070240137590073233263168835678714131062764247434144994737610229909964847568491446606012581370840699582055341626266533733744293929658949697805855362114229666626620766245630122333733703618176/531794915405164005613733454597931482878479882704956110685223892325074211694837836221759995948610212818642789132749082430059593652854659130217225506942675608692701447738732031302987802196501895840510235161825501235133794449421919927396142470196961877376701957829921152848178076410141813926924749057304222282687697297216661687583257901415465125","139432548574396829074586704387656697097760057897628994548358619815052936481650396157428747411173567801047221928593253479330480454469358220685854351236980383914223693722868233819483137401339800304943891968050399345430243790898955416907228948287367356990263740207046902209563417267686591994743547621/34201151688775214071963206765436083445901621442002061707492082843232231754829227303539041286301398668437202547003300396162741375435703188500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","11008517174872833286150985180322584448162884832099344969609291070844193524816852920942383850580217443209402836100467940651581092350600329145627967515818684442171571156446321228596914355704205623857871497315955269266498229823278800717909321269179839084452384509142712677235552103459737790674103994445173074670347080506698168482564009465276165824768/2689223396936080856855299215659204161946704205931885125148201643087176556822542895325191478283706585400237901215485150928036895428721912118467760766508162631903585126377676412573187912443878232521444786090510891599171741773242011017926658231638022943018461086517502584854390836347781674626615709751386455292026775663545470794167629144456268750125","16108638074211260588800537540680707641986073914251424878121255234668558067988171568946079848860335948991834525552515669040163026131919804987340113244760738846884911038097907756220945883750502673899084880578229601870882631165510396775126850307838505063922101682333806284668762825609556049426829531780/3919363961344261777100658318137884299575193089462944554282218278496298610828757650104922583359642384253066896538203596057302203635134833545580869871333892935330950583664400555463557735723364497947986885146043017010159347046389604172186788902608216894094289769850517098027486468084407618748895626853","34420755849180279597302103726180110022640946692592540634353734157479505420320000324260530767186132260970572450489530034440214259559325114511265075416512316229177952140217732655405289808326341696986755141965043719344169685611217958619102774617224847284122901023774956887687026904767714958090256282893003000752947427857703259704682455375442735857024/8342030311716679826889917494957593165464748884572298173556257652389845294530325764837124998293398445804458613956489096007564811101361266196542129764287084823604897187311540561857741285793447174119667215803837719660675298308873496219385226998078648428368061868944322478384684509466965129972030932418920415308276430355882329457342937549162000252625","345888075261020004071220843714060353763382280664960929903544964118831237876694384053904571498830068831026644303797377762345709976595360421502594656308937649239978525713471393570536680412814805076323426256584504251728507416368609420882442293831684681071553766603478479006495757222912500012444787804577811/83505703731469734628961395063481893801938371516752417759131774530720075262459158384433785006689548434701904106312038822969658455364219435022841597243178757423598248565463985786213156556523685666430799283870548238467817226915680747412191245046634279766450629886904716776719219698922088211154187845632000","1061717830619177527082296723099890392273896386613997004874669053445943252046748251883532634529759169500795452576392700472771365240996842610207274128102329096619028487369622001737128463631016494371635687841733644339636164570819431573829173533941056258744442930643735587780907310433371453992062647737259587563398111688659657406089003293576961475848704/255359631537215747979895955806995352799574790340218399351168178555478073997876110889483456972687438702262017800167048243754141722496276537685853311434069991222324039005160057724073156957530106623908696241268268096879569794431919729620178375212905203484165745866913773304319069321426245521467122472046370356725530914587807274074293673038482666015625","274122944106300296738399632684955400761495830361663966466225652918683099779465438024846903286816813856490888796372134557295699980528187779624865098445756013563535339056233912394908544185885547842235097677765325396255649207317018754967666450708249125316192200151505568416495274671679500594656671785202496/65687592621976546250581560102201535533608158256953087745856906437400149205693427285162333502528793675585022025602144243543064185647792948495372442630333800126269123531636800213405254045262127593759539706750242430153456891792533267948231185296091297979933562727112487057234422009426868531651634706262125","7842680480716516803148821198697967237136721860017131244266974996267074742248599085253569637183007740566941125452215834642683053334607896723447140851344501084122965014242091312411884985569341166545074688756440728922408743841592658677792796881188604773469108807869960161395759837407978596679911066586626885830991556090978327508459276025943279064965688960/1872528612245648675720382138045071131304652050696842872529163720558126655075937845539792108048310219395746259570506175902206215101518698490144716531697689534559827422735649881381597761684154409796315455445459537515308174919488497154409643876490472215352056502193150125644288086294418253309947229151074464928874881827227706992859640236086417889990541889","5300824422251242070074569186825929119848111723012841627275830216301188228660779008353049603527567784119877706984722171178137272986345560485784907345500893648715341273841147320288851034078863843374665850852481747000237834238703248634174397792745914847774297223176674917912406659831206869442510948965571661/1261140476013707338477604677428573831791396352814802149994640617701773078174882455512668089072441176857892331468691160991310474734143842336092636848492066592397892638052212250229129355009939118431643425836944282456647571558383755315238500832868535816144280088644939696339160092963629012001958205063168000","2220223718762215584659309059880106334425515875615107369399767892051551634000614327272260081056973863669004224981561870246078120862256383581012183852291444462730018546753183156982897386563561418424093883164027305254176874653780425452987066512563140531367766900610414277825262239199580925879453806414860409441845631158680721091621460775043562065815179617536/526383206607841251253861841374779803798480623722760367843070466043030228662340154304405180907941079883976168609082254331465595267209149963786388600028701073430773581228212441424400748220833542964971495005714483235359479470452593264280645360131482713147116366500300066771223383007216182988263355451923333319170174755334598973202740108032097242475554128875","521891797109626296684891455959263713257353500867652268541535940159815152120871142196535233326890353914761242025931373491906127275561002910157909306979093246574207104081108188995072105948138299097848175016082947174156278439986705241571619793059501724269644447572323501261424770743329858038040685313621446524/123310256826873923765604825413207481739886340225713108649758575106598510022338480189649787216845041382860899099250547657534972156328080736149239332330143771138115695598493059325064119176038137294863053148618656356436332991079150723235214278848602671333076219529535123842212129829931654967367649078369140625","66086044538329677372986118727999622900471937619891337714357792768200341519193500393739322894033303245376225584865369486696276607060432449792893028061817203932068085863800494054274423512956136695211796751845295921015953538329385253280866669403169919614982155350899648626481405781514434761541281229159396787287553493046927448595964103589100429722948913403008/15562137339474350565671240515273666798063901504051979980452491653975250630723677279081058884163396938548780856293034775459223871281049026140999055923743471466471830572672766633086347312178711643724485955576579988182546105048041649947277672869613992334541438784737993706482731696809943027528882927942967419447250586964258807454003775693567366165507144866375","335377615394100148751647837967017467711612297170079949298328061159559939969228226474615711044891085626519877634842694983669611974807129333052471799687426665556738316626171408219730853872410792831871526174987402129691897433888027072807302411474690613948951673562473758814664346259109886876538510453475290967835/78715592752271462306588358880337347638000605031000575876214116610339827495261512281635361568951675037834544811575026718101166562072917855004822606752296233435017284127594847656529606648345533195437635894948829857913798336356647286032372695130461573940500785137424365840081503133157308796505622439791698116608","20090879701618729602554170716780970848925039917987945471322994867171660307998603515745066411687983450400412739285577269751603921163835619296822801840348319742203974023505186187060251544248644338412667631232247108675504629538319425769464277309915502144443973397371136256151336255138506001292355330875114245901820438821732843540725116728866301271466614762497024/4700223519410528857298732096729483544820841497820611795617923063440946097326817340637303431283005509904481323205480729806879570430868897342398783028649633951362398196137429076844504529051072393709154483678349272930361110568616112723747726853614661953537957117231900032044221535502745676310313569997665352252492568100075191900969170979460298189170486601502625","2904778979985524171206573028445379872240558084236464200857594814631031581387804621371822074061289363372523364167184697785570324832815972970658633551879143187709707164796663015180877412717910872234647704536817108676736661804878068078543241390828229923424191204586313620612539678930999769543756218765870513049986792/677408099044823641581658869221044375312077929976719183424865834811543737800956896926637625166844372424044003929341361734886232742770909683021563822987505236295727478159938135467975522336774471915167606673489722102077041330652185811196423400701795791669780695158730756241178262962515917389382302757366325768069625","31270155809329751863885224732454397292230969002004953832354065319735530624996254695453061851449600345977646455072512400760539747054003851289540339425848681804190284451253462663731135337775088379954403740058084949675460445909826322297817535400604180338201322667139062500269285493417563095365899631360901732684124930296643108551710704785906431324876072470231424/7269578038000504017073007978844992319987411732848567116655821196644382777088703228960020894756722675887473977480537577509061256138261063926845643360849217556370868752909531088361229374467207196928745673402380473721018157327193509586295879051411183657185176812738231456253321187419224704301236205478184115996135940848503487199394612616742961108684539794921875","432538822079707760382094121020421735679118830363764570640789368235407853152380328891350816400541189148550353337874309885334920995713154225799660601389784410911658967499100610376065640785585342035058364676314084595283850213942576431310823836792440218271879354669291052589804956435743500204185107215929849054782893113/100246574739326291035824954677502591279343311051719151327066341370995390423713403739043396503785261917771859220535505691760472395306543276314938287868734009582906895763073519374099272340577921671298878837400921045252035507925021904954445172372479744465666760762909731237634082051855588025732494461939980856983552000","1914333673689206389116942789116917579088664511118582610293383428712902211612554212779880638065888518488492298586641997844141510832940409501694726851666478650414191249534733087933879981733561565249818572204932715347752949087800778646065986244657260832234479202201129845117955957242616947361016603702640821256099895469088229339240402478576285854783063612307200/442333801076281757298117784528962837115323835962460661601905131618341609371649347131724700192551574625400701487125984359494804828935577124602622582550626336986871791407398609915208114339012374456785705161994343348351473385887949809051796407340988735853810174589261300681030826392672282630613354461927208579993042968520650313621522933214063366558703422757071","5704691626402072213006354545292364761246893919997531024861408248746241619817955824682639582830486790618668221530365426203424888737658778881721063941495350237419723855000515747725926735319471480027293210991869255971365522170749568996651406002311020883635577590045650037569906001924971041810547543163363976464780729932/1314240362076792592671773873754757443276256223533339004339330559325754574023619698171225777585408160438834449576526997055649849875516310105297894855264038450585295422343454458568152668980131977005808840141079502436391909349182185596381509091427752151860204235071122788499996991078935216686010888734471173124487937875","451219364084386208718456142329444023337343409261545444643031014769484085278440612677813682892926852469540118625738238137458321112005189595703619178533263706811689687213128887082197330137502064260105387500552856851972124172206996205919556553246133218441769325133725631665593372188755090094541462474970525820334385058333756591222492801647110594428922046641945259392/103648250172203340865458115839764297558925693061798169434516001775068769911768281084188883278842546791612199025413573394167639925287068809631958006622842716869211374513136766899877504136929177267362862319748507372147243911522667591375015611312165464514308451222180272935398828092646393830572838772085366567154646425598388620105539619174837489536378605144891769625","1591076564577634575701791393842535460875733974464805197283632670013516183281542903377750304419996681222758401497321278555686661981435637461350320471258386388843198706277657208526372100698700615835733712519332548607115875288787602084336341594576426630670911478276101702119972195558314357975365863803265163991961173/364433108410193393847203348728981296285742202617988970384277162225847256295865554341611171460436362780497179090329831885853324392923449579538286804729856000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","5307507148709435807261229345132535134848030343901300324623409721698217134932866488937772986386501538026693956121121771089740095760486362654754229904633476234090792827930433598453200536551779789049352131005222659995845427680686677324963223653949277037520711609343166926627713758990384011274777087968799793410506391884872456420041494598273703914689586637995139580794368/1212244290381524115082005575105703496583315188540177702780216570265159923654197746388568151706509243638302707511238539845531608313334248788980188054651601536067740709977678222790481348003085034888244447626347312094586389347535167903408519024105748523384932942441843118813819781347089702286481924493361058339731949844620763272778960860509570622673048786968660129650125","3046577098843580578619955603029073328361298436129791931304665777036152915858575282362742008136721284817899542475666054101957899858138590963789072530710775790433466847100422875906866496318804986202089528198912098377828580031852152997907433335176267300286466072997014023120087988748396598176622765923059385876855303940720/693911859077752895978833241338902695755528613729508555938416419864772385336777924892434701804078893822446727762077537955240605927550548046309823051841326355655848406646248595628715185413852040295631448250459076043816328082561248420925930431777502622148019371383254316636979070731427737764160145097293260938978413488819","155310926743873343426312607182060072939030765297630534544899230213054714482456829198485999782086944271490229412707980997432528653509945301574794242118433868747172279224118534460563400440670015323324602117517342201640016853927923976796453577048995243600967202462466681112804476672348206491490513419336308575442086511015101999847896197546900512764233674747415844045184/35278162986589659300679088538176070649273991865663041616088851923111175518405117391134863644540911005782372831496121355954470744169969774540892096320978686548284501139861783292226140413769665461494668479430833892857992401391262903582109993838728281915806394747833588629467613308837196269424421131934859079260185052081536487462257809987002198437182539441349474426375","46729591025621874782758519074451728476386657576036360734358719976400940301493939192083339293779149127132651616972817165172116269307276487158069293114860391502484125554406945249728802484128756924044633825692779783425628292959170597009935305429239702926898931975023598456207165067568919757902764815108751735753431153581849/10585868084079030838651390738371141142245086465033459640458366146849314274285871375459898014414833295804139979016362796357043372316321872357817727821559232353993714062535883074661734509440994664726425399880995133711038483607773782532430879196405793694658185175583691180757783597895616920432527125993118171361116684288000","3736372348124144720852190769710129461145889011598636925228657393934132828633132357232883470466940330848177425542748100211498184494252714616379450272611850068867816250209867530921278645286769418080018709947826876461419654782341309127709703626401211996255743831998918894661053669189312375159058718767082163156988766821194002596331826150321864927832618126580509732359424/844176851007504003627016945212023239308348428094023437269532743221937069345682900884618378849283002998220513307273333096775669556093005637615012750733216460458689282791632437851364674879152695438589692227159038555722539345972833161146108367329370564838671791241431125003401861887477969954740544092178721327724620450947646209914621007186497081420384347438812255859375","1258774755828991281578968023382624723772927642002016270484090409043454336040857926581316994594109169123354553321469500848146015719851609220423736153365139804086413284787598253618361769125996755159571523632747129480387254164008968993734442164892486441152227433281625391753702577143985047832519062595123255569172968685060844/283659859661671181526547833415653453506477950678651675193210969173130116121017723360258249430884213011988678011357458727603413521688184521573094783291496368005697481333739504490647194454695504722542014845706216224432373442438242355188461951883454664693262684873988061018976711201351382163527093784753398257094429403691625","84932063355292829988908961192574710493098897148701473172754949846455626381329456661808566365329266898990829247446356970454502007127269708487563279536825277374133681167235811080298134899629580318813382668399644553111080625918213250223197440426147821225593304993621451053135332451997633132772608233430131400186571793929377129211228689703376067763625568623535588709576320/19089978133324852910950469658566458037096027722326716800113107848115231563787455584278193954518442601810776347091253561956877155673550458955562102935555510392954425196165785410319126098393353878286400877305164869548380670204577544630353859009177051698096136470072137579698473017257397949994722015089768745013713383769765609613514021200888647472804720456494757423299627","802638881530832431828249604040579750916118423833791608589560402449036920165704012070349537114920882938466635598602387718300074733476150548724726460209016834416094317724261857969955414000155807312852092720310159572547644569797512233899495300028159721348599816083166712365215075728968005941610056018023633235372936903015771583/179951197386119079732438617407921535065140503043429174394605652913879982486051627760652197484142547447000508189455126493868229565647284332735552462525598465192073558793335913005459266977086104359621022691931002488052727597513413492393525660272900161375677499228252863529934576881596384036401784035248649026076581302370304000","25208742399375362881099811032135575360109715964024747212026245529087599633280142314962581193303683759605084995818253124445773115574470717199218828756449187055537877478033129862600982068782249943150019637186466260707552416433010545437321814115233841687700051830170191107127799355485920046505591193770164750886037885397478191534797655616745528343172318318678405576430544896/5637713398995569614196397857525646325234056219513202928587580534159596897880731043336790273040813044077153051260989730372846713618900145444802234629922717464041261370803598799826604841654608724727320798324006129524610666235998113655193642594744544226880944882342204407750193512869672849910003246504052298022468012594459974209940607450480609190841893267203392880360823875","732332637178584560220688900268566130246820235956768724845747830959547501950765063982943061181526237061809052444110437930100210105274824607344902764184151030827266142225894655531497849161692760385938786736436977268616029862577293984376170905024712952813234949508186306774257035535805330366742322777611063402455261391021097128/163377988152179636922409938163005948596822656868040662831003991395905185823836089887990201522673196719628247106777881741843786365701135555917263285268753605514812568258179391272113405920369587922702002732667842511108732068683407168090725712401954314293193572654347237716691784386690948494003094992876867763698101043701171875","22391374854299462107923583267570593886002658786775211597896252879708753450794332301142909715845151746786016535157797023153041007263258732991465037648536702217273897876864351559736449481285518249846264600935543582562018874574655740660800634883403597181876364712521253650744197321080655028374602772696770227741610874399454362583980465225235674816785988164157351243193265401728/4983275997188967758382167867656806681565521964135131710678447245984239733544941881418957694612909599261843693554043504855207170782744518943778096768859337980470219783210191765678908537645270392500777411134164918803949155037581108678968701961544979451081836872425574123683574475790997414488641534074873248802450108535183413970057319247033379016606809226547805269752123746375","21252344995592269775107236774689012760750850598567799560343535731251766780016530978663079386453430272698006977668063208502408607227544322945446079708000304179073184745623740466334127867464883762843346619853325415963062181018736410570113171387891518398846617197097407612852037905687899800932343156979591740310928257766081697645/4718515378484509142377558412184183991357747235892194234377932213613746008373918923611236346330189287336493794499188640380975364991548794341177060325509698404571318037298112293926833877103554546466055612498927474225619680186119313129604319096374924037870803554153458104225741255753314955115645304948564151765516183663634546688","76703085666560609319365659209445044957052359500745196718269665234646121134787807938680787341023203786904308047981099228357850016602203539979246579454229078497537148799349353250167621935384193502383187510928609818011142642954550330069991570983902841318203794113898871515702445720207144863877026526025447819537396146822201819435536435835285098485990260677737192230985069824/16989892821104122916312992616665764943723222199277412857053896319814438961475117951904867066845412639236790762432996309717924037467863024360211163971190006272168845197000304328480920483651558672879967350982199768255256753110375467976246339260326422891913564151453729285191351273342206198366624882195135056176502724912849575385576554208844814085228696838834665339811027625","40153831166521391225489894857551838468150576827129133168972859441122728710165233865309084872159583787083130713473702296122465319276461991457173085312407612757280915853584698420083436946976844240063731333638150599017886937783470942007376523947840104246927580254612991191040951001539641947153847776050138532219595746056076776809812/8873576113581065493273519627544307418139908640325227196912114520903505426722086265723900326735989771660987609604507503750212298754414472822477243293638486047313990878348820573874809636084574108909615044524663712495422565151340037564156235745628465172219286664653343193162657374410926171153516871765680561505768223660055617934625","200736374277835272485186523480177159453030082779872429648449412313247640312479214261681899286513818912991945046297334418102711629933437654377760028476767482162031641781499114859553677502002901248124750539270235098492377826240319766677856465093871367817683734079621359186477306173620331748496369122143019303740252461824523590096923561928354020960176605008889579578495073283712/44259440065125442964014453739391594153290923937737136823355312892557975399035370631521014554980129291582486968083228888083079118116286312583989433037097397252506140224404130371160608365777625538148303917306340620019882928744151294738308047800711028158277500317134537540772759486365658024194428796846364486187105343266398338060080611643110071184992193593643605709075927734375","488459049325494693259159444507437983381645757291858092983371672334043029615965882574409808932509285079401239403272414271652617474184321852388397021836909585659327974611273820676128650810907598106588433939541654215766888212287311943387232664417347883717203611092450971786083806323404432266197250919880225892099146722474124874256523/107455855466267410923480140898552598306699341366032095904938430084768624148829473848763761936703072253841751966906142283640379336131083461646777390874405323298406517250231389493084918065243079819898691146841695350589992171102939046740169198394671965069747042621265775948217054519855346617967866614303497258042439052681849864192000","8430374068596413768975326329313648683222744787097373111477788794692418932056901235174019333392845529821722488982447683794746518712070635063397464904489452840169472596494433874412726723065560358405027764015273789053064830528919091414531400589850704395887250756457780868677553068164933299802944396576360356896758745030955907258232257358056931680617626606715393885378887657377280/1850480358582748412767893656294669486390769246349349706200869446679212812264400876685764762211659843658541567071977813110496329850010288179702589501255367345935389050373021591572539260951149696801665953123597521983257852207280970577287472932167362521740230973547070264273850381896786822127290397075758780174083415923482640313277341120938690594859118603017930500014640169211239","58273615882491925540881784328370957720539797010816130007322211512070634295154626813477498607761260613353633996451797686143131893884559909668805628269959901044961666535533876340116728982072626875010391195372759135469446048394835148654407846242721443845351855234347422256700864370273092971804207514736924787577569355949601385705517152/12763172138328432984573837529764902730448666594097466544652830703737195804747682450548488162227364538052585484418491914323658215406327363805353540266048943197822838925184942600367647278764952826664684839953902567694832690683467635727409976388280092262839126779730168889686628630302519063225007497707028600865624133968363921915016625","2685278694947152969468407055109959900160804835228466214479525891103128459065131221736713585038130737099067040196326815283171857977706979990467444622550497565521863441617001097354649972660183038850033950647594754644997436624623325003537308428828750008305464174443210079059253920383411910911594636045517662796811001285984447671371943267419151220518726940455756833040934506414133888/586864816044968996825907488721678304211296267371936463272955488077666796280028127333229453342355554450708284934221461946991556216095213627059047984199091625921432110913096253352065238765240063555347292393427726758010888546427415276046238297382474708612526770055488323003698641493939145624184943388159614111350839555141202024991876221874110644879676602924730506882384603409121625","27700345710264347957758638741952394530538598225904772664391173119594616680996031886665218221392453628824570256438960349220263575741495285780845399187013582169907518462437966962923592601721119258663490655013419675469864809004562272799012227293974254329929404036071055528766397079743200179924243479370594973626764330855493789112414191/6040997839051213541001279276287478343874107660287651711609067205111574718442229224212245187655300348484144001298428958025052162253854676210451657425437588244676589965820312500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","80160269787574270953020489212619791839643207793889009503234879683494928396231769167082355143564723274576166638869430572977442020236299319718643894871736539109822173538266278165276591962215927816541165548699380129014840956895931285215480350321259054359835472320394089646764361802445068798451796525897304221529850133401768027469126408090577121172238802281079916258951770135485696/17444957084936455555074876721808241311651668802091828589911310253709517226715880722948267977560381436307152342821304525073651379763144281678911047276389231713860392794975453518107055568765009486973017341479560154792340888780337029481646046233967923289468141293699236815196553819373828280398488966665994092877680860643266914861837639322607761804740256920429518434353839878280875","2352816897072623416220002134476921108405735955266703519252095150412419264317091785317803024028565851487861978477208755211589867803009700996828082850796103789009194767813611798769297617674631277847910238088040257037678126316866517601388289837575778165301828137259948173292658462765645645868094197736382683775415645307647043205988394700/510973411316690313485681833991645423802776865720580280058344111363363091616558230182669376841383375321912553771027107891991318313938505988903735114191313214327683449514676737796942389784957658395806951715454372568523597420866050825822028817422805046287798054682484158011143949412956697442991898914560191411624040490122951328364833797","6403295584873165688372907494046202150046769667837790834896334486679541887567517050446119511695248926941383207478170182650927368177009669717288184903306689332746127845953193587519575304974203099873732502605739219028995266139383163062837007982999189114810534856227848568800302527760100163350814120545587074865568436789021082619398126713943637898657861949091545516403987546145915409024/1387794272010111535893205703999712437783041553900341112488641528986385462810448493444968969845352401058333929711237978223214186693177251566069419805757440174840170213159651962686467523533938145629444468366235554597245713128812532716616087753947246800626006504878203666972651384731498770435755225220796872155249202960801768048854869001310722927230237083418017482134588865244642658875","82993247683514419570466529457059660634483860665557779709153549045427987672829778520201315148149878525274005978368939092115193636113741972236218502664881450367443614971109677363668874484696543982239492409231870942414193419634675024621942196087473557914167832058111113476295926250739099284241826553737074679953551191767148712684157318697/17950946423927357725787689855263532224005643859095168852729513034456208872420513601894508438640531171097082516559962755244698695622824386001219435651555513795509616906355363573638916895074349491513539093024980575852693293474288638209680085037286354050958859425647536735341886663074581909148323105020337857959651624760873736590065664000","584891611376763781852144397260140844977346305541197362434227194779766612939978629636198589818106137319267243431810481928639442343946346034433828599323416877248326356345631611148749005937144684862502198147087702668524450709118588741606955966569427636630159793409544653944608958808602551061186799401212712216156799273254257486955348236914237644151956226336750212957092204830385441792/126256710861549838395499078249922986417488985866522660521294610280820007499099176190820291214370699289977888813109514854178180265382471972583921477022411657285850911270389720508719377071949050253246021921916685716353393018411683757067093259101151481189635423399611625009617884983318141463140199839724797412514785751549277231259345923662499623640886881048572831787168979644775390625","4743054867460856425399742072925732465660626340183690464743217147109403130730445842673866624947360862438925194786600531200056131309608642363389833474026007798643235346104937733349791667694862514383520689594596660275306247615314272223660862212527346572811422915223417783887717426641317921972456913534338708745549252254865615725859881457906376/1021840037832289788284691535543138164288462770384961802287250236519983887262771944174557087207566030730743075334169628971336358708580124427857321953981475719503574867471090607795242192417162791762511940848493176847925838738242153177311649130718886794249673254183907621449520415060660496225939963471753122766421338241291756892571824984344625","3784664074155769467702999785016514468281913375341134899878893061325465790589101335015569840325786070795267055386681356241209412947116340524588831510768864231937929260236754881829005065056310226407358204278658699999612596866156294195316867934035877283950841910726224355461522065773816109849107487214275801829843762482082803559183694631856772777313673086715631547326400170962722842240/813783281473223559981291694175087508812520505931454895884442580280342455516154674683217348039336712901850738745276445107477919518905155156380620466135946654952837573797479076027688866326359448543065305071605591497778941561986579230698384305536224430794233462949056326864499827444363206162251104552740175503996670997705423888382328014210171324376593090187604268086334796245552762333","1946671258536842642381655747294621776070051525209940130115769153666368932042152311477746728678182920842238801763565726086459485050237860693394471644023999467670017470376746609892484192072297938254898880354014176373253875722410186683852253828299669530022166361304397631667133689128358365296701757782382475692465977794960109690362462330857/417774039698408581013003883929127512062321623871486379101498968145670269174833505080260389860863417408848209525427705249526516766731427603641806256289098209429110794311660844125377702016056984573671024035213045475132134896835814746425864304907974005950155657789157496389234919107772201305672421982198984613601511388413381215220924416000","328578487723377153600821813410631465225159589727320893988991729306688663770697528156625398176929288628930496338036815910669579019719633124832162035588583242320537435554101841406566009219059042888412893352417446437227440076869427577701706713564212185163005644118869496869980925214424591264870388237079776503547314587137721633918824664946974571838634860386893404364499977966899068777016064/70382695927096628347637455030970644630942872888311870124896575877585692281624151103204551947776906510366521972834357031777287506848887607457751667816514216907338309372900327919413372044625602555866294337672022362865161523684052940126509854895320132828009551012639156341878073682501185688461720664801829933689280752623773789373199210473995823367199793407048741191786377993390965297664875","2617201476921368517857942326432090876874414269689140439151907982631768946799200744678055980827789859579196832718849393046147656447672531861353456343821196812881882023188898815179947651274131166835133965629115749368441605680383605331300030886676081418867305170012032824011912531673468215561506423833911621270680104083533917562622600478548/559567121085534865189976875600841717161617153776904752351231210970240323460800785728739412474960421770806162360125774000625035522428160837855944215417821324758873127567654244465281354654299068546570789547691342609793050301258532586131013585959164719533123826201937801986942606844854123769532447570107525081084531848318874835968017578125","636225736038986537559880265988431731529837451289737542395494683393492040808565905376235074534207026537145408562785279823547657299565440309510931336394031904920056464959974743525662459433889398003683078967642651812081450227654478095420306880762753401111260630654049389197602389949892636943971690212484981672010398108426002137114819838399222096538921225458913266993881960732663394566024064/135776510176793971074115131648637508758953050390591773574951317807919051619690313331192027871176160424663811116849856489187562728496099757910540362703888937768555824513740118941387831822900198029266206334350448626733139136083404404120210893986654422850183837974770675600952078956326317698998103770833069712616832650406225828969036781514645731022616236082175582937900731419575337473384125","266695771933124633677367149389643417608461366874310588884377151539325854547826373711099517873721616543570605935954334944030816383858485296542260152894035979141266909050267414072982042090341712035518685997484257326212454742816979806460287972757626105526907510197321350895873473656215941034605746494172316089636216915825022339855304925515685/56811706665210352283362623728191218698295056176625217939528332247537278605113496147630185544004654583441448319260578659922931798845493756189402805173037491645434052737405379674607517658118427614090338938517963215812444779184193933749520313676564187507594274551791388039139409235056119788261689087831209441779870873305232021728002651979776","3511806683161697708497547617957719390189982761002154386881580160856792742952365159764830433511949678304281539875366378131195670004345568047690216126001067194904446295336734931691743477531830892015690816210752795806120303198745685394015161323982229908105397857791180342330098240702332072396030780386362735967021055250450666535422528637737695053315137238368787607412459874094164027214953984/746741569878639983491390741637813989978804202898438708743258000150996080386381281307609038830698579358879333079215327202911977568726258527646560497079622703052765164031089590965199628534477381843079892123440214378949632707668935001371616475282883095939750704292616758568964786737752325652839226013335092148777788733453702438432279149298482004122593243860829060557386699231448957232420125","499543951252504651717279461487337168721376180441322735807713499521878076780205427598086756686061009718016175215146305489885835839673419698751530207404115002383180054704927695269921072232395828258826213554806570423602966743337801741633869267620843626804016742412046844770601322513184123515405692795346790813502805238635003099976693786012816/106032986203682550514602969462803214831559442358811656484036951559991322084935692953211120289352600484987931812632505499612220494311324679562152078883141464406938524087376964935494245010636163705698220308243980789514815579319533341929989455211613890905485981353837321342730307819060825125980500975023479813757024395422041501208805339176375","8540849722242122835873311629952985285477986765819584558233324868363310302206006773828897816547299245727087876984857726652932481899766510637403577175623031467933486823994040576431755172220921921877192006685053572215922347418846423419683723609799729359551828522978186208983138345476801247634773975311405913274552616037005854836040162212761099347518242200807692224460514057530656658616850816/1809694575992816440924165741094996511361288430727981159314194000585536832192004274726651828760263522962868944612215633976203596150606503849595633388319338251977160257979846235995654357082321611719654136058257458753105122024859078420173515189641515736029725847315662215778251370398007468665986604529263071981040014321717598469319370651877296085250322599247141397427185438573360443115234375","51377057693118720457387330519321684810411289582445982078756989158447711080414032055843805733348558621949380554029375294451303430269197115810494758213980833379214402452992657502777067850631862453239349835215260705131864911194740832694498014048717871429797341104227759557199716944554347879767916801106279081864127192611546757627038037780244683/10867246748205139797826516105458406878398263495890048637741584969144406206902037615496936724683237700974333817527350121106320991054058406504571347680049945745432432384570515723033245430148177097144850158758462968940525568041926860856763884474605057056550146491001458649244094211354153171337463406192651150028767064600270112838159624568832000","2517199821548153657910904242290029026229621935918771922146425373057248090467388430999870036608278542449661971830076845113363443421757278612394167195431759807908413353743377586893872930828548256216510734912027450642648789925142482023713336937258932978503310551945630359646777080073329099268529064437120002567758664419443374110941824106727218341795100740316967386497091058915066147604481280/531524260324016969370728057738851340792702640911631807178654723224511108065633433027773388768889035083734041289308124943130099580765995149865288328550751289346866467755881013217287175392101334538392596956248952430438673292186779006015549928829953979591250274457658042926539541422697852390294886719770034058916886894408015624288115732154492554105512936468520265305162358665491880968652687","937159485027553069020805864547349554547661693803137696125140510201297417077233061462068930061915381468160677500445535971818609631674361074587732183297775728389124966713749450996643183965795829780345678634356741756033039293590264355732129789110416943789326482663579413229893878422643110852069225671783017610387570935863228248464396615988222968188/197552642195166614912991396771845374656891854357948006221100585931656016640982345159207601253599235265353060942313995345483862152489766993442419668492877390774016299878943454249209917002169480134131612530977452579520564400124908392339263545911443803619972765231094502745980083350567509014991735227390978850048088378721210219321877150756855372125","5119346675109082499980756672052066247676641510661024682574296075659671743397880591881419516307292610449161239233139088348510165442597278965718490070997173182184417648987611422446347235659085092530927312760229499083348217392125906851921500360553758600756698605047197529446594606336369425040236883171542367713951500007600355406492128741649090501989105696576697387613035366083536629358444229248/1077349190930018641197987339365056771667455373500846354778079878558146320193384166982231171317419356136237346389570422332278447217033773023556383420372685049620361481309067017697564760747047839930422553324681218253359586320952896352245366885171583221864112040038531116947187482413031483309534553461613717398523132176948321964066833901215878133594739833910960843185464241840039390204295097875","58469980853327028628854378052548435225264353747414624620847476036979290604604988637469977624105451959796142112200285366199247075503424204044884512269071061176877225315884188402954249683107639777479663275428465242905314418930053869461904934138752031124685541853599407727446896558064252696813370692668496452783003306386669962110734257851955001481/12284458784412533668960387046583440199646081362484321078872891438551639470826582933879934711861551014258493898870867541349962531447724393381011633785884743889445407749238183080941846528000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","632694338036291086868292541736272151517212971647680989553388199374739841494700315711180961760384484042159533979873604395621016272772109619401112452105475906812313548587880899058905419220497456502543971131226430775692744506047039958551641270070996110661036371362526401525207493270590999387476275629412687473362310414634469788979236895300129227082421021999210841384596617452097273320509348159488/132710874087075221626157136110978536488168313127228703025408943153782802265472978945703742152954881438058373686972477195846162708986982742647038014147903817539418442869011995988024638278746664230046452545499722614320284478925059527086663455478374200352375121910000967044366831275681254530914306064535110528723482282501358749001657608122307686482720926189537227492041135055090784059994118192625","2022422468242151190347511883185841333968390991430363660248687284021524206079162212007263606819387821055183192871951076644707111802972354128011904720586729919826758651167984507804867954970064938022106484656560866447290934136610214175516487579122328055482392137619829739560923807880779865442016530712986750711199998190148885726144596663143651240/423528009127070458603837580844559347493775236970253513203186912091140251858605354218715508091394564000304400858761758838182654201653901408046974668599216804223721114331085507752600832390227068985693006017591304916519540245902645712532993889000048992026931475754508248265356181099817467608863068068953756055334213584649136541490530849577363647","150542201776735231618709653388506394887777837646651406023174643241783006776019388336318216053045300417086929061565868663031237502137150880313922488106751241006715449458736723129545400133450376339156062387859536289694727635468338235084533552501618659272047966040838509286942825414463511175531001410923014751124732748099355476332649458471135027773371541572374016038525336728276024676601778299264/31475618522527975728853391146702172347290819252268551219771201846701658848754300838383637247014705706066050673096278897933831272607774110183488615338021656923433335661890414740664480671162459271850877855521869741833030384682549648626038314686632195158507693321505500888988183270276134667071014075017317692121986144742473139078857816578133693776368882596780120407949076129685719314703426278875","162664351499283182546788129866259011542529017155637405328005084357078048074065548349602626724265307733005745244338982661090506394708170105916177679714664432754153795772811389612700051002336719842784098507498286260450939289109123759859710248621544296008356071415713931721102824434964336667980062728653562369697289761913925215639430496443820411811651/33956433298509232632327667206936379248172049619640091186698677954874297837764235300806836350019565970550533206216590639008637925266405524715041372407701947953283803854153876844320283735281209725651036513491246238622967031979233265136280687995181375582844780830517825595245506321879177965868747546127685256867456319112247572348416655367667187712000","27228583713734183629451808889147559240254570554044667607519238865891084165382075658707675405673276615039702916443152954157535195508033284355580742761569101934821088036084480297442018005972653124248838420021440899368869744141698556359295489470499243402799483082406238128875386939389123336303631993557844565927960009744780823166462314116039469622216263221278402673028225214534859076857413557466368/5675134787340359276387085910732530678163604187009567576895331134521132071092293139167824957253050637085885426100206370974479279292804959049999647539684766632278449357893560561608633329561385765035738071726214510832066885156767060324427330401967034889966727638276371320401053302413136551142103678412692111973028587922399670456670380189570979581674699102934733563330382821732200682163238525390625","1340937726818688387636018677960518622106989311577445614347061615417831160296369500704524022869612973331444242000788110133157689786976834913297544087249593601420972111789552905846168933014570399562460789075871112224533723259660967481288525220689577290386781169316008987012566216235876842757183233207943071523447855623001920854571597886491163165150556/279054368814522483241446594911968519760869180429079780837994812436395792594449929617293503975169489945136244602350941695478861584261665582123038340824700224583170270427163469762789603657025958695551448477050958557681299495041994050951692916032501884523150972841782658389836059236040091605838583126400660344344601879969354053137568588338096589095875","8910951660339249479517731530773509037034977353457185453617569046885132434552771722727442649095007828468878374139001808825741829728375370140505088133244952288239619141544661695065318568074863317054989982620944602245967155400712702259180443238473885690297281525960618905625084639870407113029712510345262279507055197024677292523214467306898573956604928730377318210588837126450942086527893437954864000/1851573255256476362977604759655284263358595254392797078730401113550522214182030016660458780180636930591149034499142464357511158868625309442843792189394292787657774627425816694628839987456477799348874853555586931850788645677998004186437300173080088839930384424797706381282430208961565555953254145002318893188197561315855286173276564036402546798318351229978103276843822345004757661005876638005274037","84997663352987536417038496128111159210386455419431137931308301989414462311135708114322046234708053448098538629166672456703651524480738219822858469100454933583774404032968304328859365484249897913676382909050450855222567147661842184538302991526635974158862033287154321908483007506326807469239745851379559259262425675035790574846229470041596801343087041/17634687575122715507915388096857069366146981156897230620371714518707518105157483283253374797127075689236298114335734874553183291806268149747826050838089931351158483980735336772879045027213982661634865556129548356487722537193914986994283729746578044621115589195066212043187229606921062007047940293972381121200723292297716621231320254309060321476608000","1648849257486312935416274009474520589799750757877252390543329851029437452988499485179026845292068377957697884739052491455807688429630524210823560524122596610276957537756142278585091315141096146341773982302888007751632401090642472506538817998043326415693840862261701364114923327286462650797963969289743571514890723145251583881752876340628073395708716735192690808352188867334842743895738955762067968/341580411902962140529547622267381834425264893226447658723654120920549166416114849731588552578626041597847002946105459812230979900480135423787717825697955152193526724029890829615845314765605770060975538542976523177976182401820926854406945392167140347444433885786340415437006775075196031433365827874254477351374236932624514469241634422312990555534789607377023339236417434574755566856489013828206625","4899626659231633406569362199187192352933567344960498139854460545644210119722856870634652562532083546344965166340063297647520613455037240144734014575196764021102614748218834054157165781057405100578668000290493431869797883155764963238760612333048336953434663867580862692267574574465371615023999531030446250351305046572267686566999209229202587258144318592/1013522377571209303732207048597964555261512342860326827024786500686692475697570284120359840724596444209277948648863014479460188496587721578075151793081823795161404110811480269106846359964436993190293615381593756076515012514100289406862487971220020752628653845345780766244842386136740768474703009091552043945843632199999007070800871588289737701416015625","362903847358088423032098939589019598036593525722040887883164115981767777873860799955715587436566233010543937498922435963385091400670303956612881974450548904906949032005878241638546734597308786514086678561900713741746905742866635779432216761799371793260025549698865319760786921444505323758235164807966277024031605673481480590193724980659448692487108892154809490199414370023696404259691299614147712/74959603173756091922435708504751461448318819548943586676159545028063979695880930926805574951275602951047845904770828900645717477098988124553474616764040938121171776556999069351772286262529729056288451037717198273521810585868307402693261479298923209587143468206907278220909447483738730657438961435587752873879244136801168836767273934997417156543866722171766794171623224855358640156858606843576125","8521348154958613550574095745596657249924328336262127244827955886474742319277424381360677655239017583606851483318951440691757875270001283229585075137091617073509041644097526047127618954293881264113694362598157456878784814696577083997902588926421675843291157049153701100218784481406086810264243143337016042301806376864424632290226377881206765051896745/1757584673254145109614914862134217345456065873908262753169404848658913774363650863904627183104777337461445063704655164325930891269843669860409763569362863600932267319335889540453302785099532688264425988677082044905948179153286276609910158854349711054144968131934713419772852663860893241364433872853338630216232313607969790083448433666334742108176384","1802461420562646993856730082999823508145602238125054717836501201545920604020389361370931345491160549787411668288359013059160331370751496329806488246135100776263777863399096485894306306621852596694700845918608199329091852956315870664531614358379176680326508877329862713333336188556181470928613423972314983964578645688876556351433429494008513812136152576866650152623510296911708111085518974142728903424/371238439252064016214448115231139360835481920731625321084601566992497057371416121407293286027832357816257507287295719261141426130159269433199862002841433235955835172774430690352481806933860390015899973299268361513643524088242973968537595085600335021120523852420135081643310663869327371821064862449426404044951571585406092523478861879148545678639697679215289523234342337347529225543852787599016265125","88795280670112240977945082069219541902481768504536167808816453021962616596410396813316064685579412429940019071114917828928080181638058444302439626425155946562362550070187433083541414569447612195370911498321149367969974762244140788494955146280201020345849385865084095189982291190135293114489407801749533448443222584092575861096946605418438181411489276/18262596223069549313969288693970246663726147886364354584825624311486557881239003216971630599389642752648815377795018130449384513824927138566203714891090017787258920529990523519479383032564209629983810866231367438270859421572641494420831435563580050954867101292568399107965982704216434467243223964964535464624988344342084084237484262612100980519602625","752911409358158070688133336918078236438086521781731735123294741731669530734909563155732092406099003582749182967246236657021875488130304108082404134004381196925042617909108654109138702993903561036987511410396567636331465803949049946947888490287210013788802287247422993384874670368649616782837096233384279817294778916419067404863458318451722971117669642134894906235066332205740872938406767767019265664/154635332883086377656813458754577288834216641577439356891585125701020579768315520324293435008561626926046988056302745604248220408154454267643222328696606367409715369481567213640103076112146615938180089303294709009813772509602954514391675152597458428326644988225555987883250642389550531163153338541870029415077982539614784206119074702022117790679351778993541426110436276530890609137713909149169921875","15286089077439918584953144558775765002061832952090847117286473868694909713791678395221438112006475047633028543501632631679316850512797978594476229228325228403849089079675681042224057234415951253954044235099139983386056610384489202589484570852048157272551098909455253037561994944665563291526597323199530997923272894119350512727802414680772513760081360291/3135161418037836259442831302977219750614726139657718770206960776514822107155928800694375522572523712277389679035632531727155957120566617736817225541673148354829212969778664144907503411589126111888917929495106029890532891919001138770210977012708107496187227751496980000137223047079127096028939624830654227758737339725345681745847598157538483308068864000","17723482381737693269787076798246423310802126092500438681864673375704464394105734049099094818738115345706100191580982712146882034618103161268453808819471603805345990162762722549964406042295355916458624836894291267553138041035528315839108252422478610879301656207772491548742981990469454529537049123948604931661837539943536878260665617524824604291547373872716194154198824107266275716083848262625068958720/3630091565725887087605600771358216927099748013831912080380983545872077197366172619225751217619097657405660172801849926220948413919823038425519006413005998509677472226729295278652284861834178791332630676772284971762683579047508016687969040658592436230062049051143001484384767836353233324570686249824980508520186643477313941054900197268584495128610811273834192099099592687485176400539748616360799518357","39160514032490258389003214587901781721548011632821053230881239001436341012396166857515197251499460842954863342641015306304854226194551189224721257664420778416733889030680295206179109679627522113592373938602737416822981698362363553492610842201005420727750505681358595340127099855823746410663750133019743170700888375554918213182862789028531284364877435896/8009919337434786244380818390213546866794958389603666737562053423775386173149395943310276429895991903753441584557917565343673605019989336264748588735390182130334278887642569515202100870042209261561001627386525182096090194076839370589780431326097965428311786635366819094633651297179987340498215947144870164066409654464551017761658775207392803825996394875","18188388167811476762477659006849121912679763597132233588170406666718758511478154418948855160838212151370453213943784067796172102916618102024199200086478021533171984254799008541948973652219533819511807681148179806051835318645591102296256347927018942348574774821478499092054497390790734798143983945096982240517058861467440217558586822663985584775920517755909444876443211404222400335500608733284461685888/3715278241795087610941547133490827711133909145414878217965273061493740719983191775105550559905283733134189195190321643965858771461560130864714477448011225816210219450040558581571206711791272284197614810026220745160693898421068168630870850392739817340370146186703867097982858560347971281142766235850971837330222970900661653800041795020382847588362774677568059355238174402415384788280852059532958121625","46353430636874284402376008361176880938798775506236714098123916668545331718677407145199311191108199195405139575147933283523305343027297808443653460575141799729554209181454676876263582758919969948546918471128299522715691694855904535448703118221685887195383025133924852224568922999317583667985459047407473419196367812949579858081181660610155317911318937349/9455890179897829052705408931064120820559254220394152447502395298827357144081378513080398823188243663943177539817982481713456798757563952162598464929784370305696420245648035222083207596797327498500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","13607414211126412689435920170832779523235279308039712294681570127241403406455725064605210473923965685858012114332021572088551127762628892611459785625407107300355287623761046438724706918300976102581928643740596336865698485838431972050267114940079353996100620311097561405192365496385584164725035842307146351211183443267583872067352881387294766804298681841402861626441205037637282007810811602289501477350144/2772205947240095684743358245950494400934136973845543049938212403703005150954425087866758842625041409060217562878157900197951382737615822655863548356735553650755342108183641353142157728364469706919993519071329069805875834057743793434164720370026073143626055293058601124362130539040404491770346043977106988100969901297669523170508321703496903672333781306743488573086901583022550356345156457496396749797875","23264350093315690507131500726914401771633259602904894387312742275462601574788485574913195967854009886824436237740789910851843045306673524324611130536719802717912615609109285261163220007241492964833933975789257681755002054890453747803418465119567389315754801791950553304034666399677630030683759466627797123971742061866928213780452325847848901682792886840980/4733430508316851445525799359992627142007028326865116523033957869609125212251136452396410236930025876982265915963089597825393317909648054808274488356887197933393799241941120691826916741647173843634076299630884655997401370400734954098249519111198509015387869462198674657171808841005212058822254513429836457539629035675822719720295352508916898476137111981397","538960934807826161927564251064896730663918579817797131801326848839524373936888402762331254883505157846659830555799909822861853145306547699817986010353774500545305596630924815657016569444824389893996399550343022444937690798126189162954188680257730893424775303801562327757655350002001080811866451425665301674688928515041429654624970707803336800125648742168380676815769457467038849213225206824671025803392/109517448833211208909213522579666376007937648875042608355810687327424621469323788799169718267715808580775296460944943658428295481347915131091297305260674731651980547668762317138753250458639043477453950774629862540017034566407286963562574188172753764978963685535201028286359818524519980885827473904574840285411260037264057197155527809916623487144493019982419606308144576939532055057697567269576800542875","24451481554350251656598350124163983489544445991992661049829014268366250968046589127810466483349378560701491445658725080497078590986743512397927747885285095846398852574219367580068049729894667374214861939897557930527646930793431512683750733092448862551580494245486308114129295467976874843852138144539250235632985676953662288536669286915983261820949386845806781/4962240683851186225340479316959605207278948397833849899236383273145853045488131674290332609876751222112917095096150531825255611911377071887145019702433883343849119017643117746273523770961304609989779231048095665388209125939879595509516490230961558353074751312876252070889983946768175488341370453053495319823381943793679003096504200440997908071027962806272000","166591964685609920525429719961758335887941461052357297159523350448241484106515158310298216150030768812873781356326923214637847449893575074813991141092681107583183275003570804134461187213143832123628701876041315736048451374824101256980832991214945762266748755723551899001458245164317581617731332466039757786839492869211248064662857987111284518155462148044812626055842061283907063784492325693994911811072/33765943466859756347231737285768516240749714264564410814839966011490233598006227246396923594069488496368994857718734549787000213944990695920130591750377483911116845697231074543526982580529937081378303555262933800375576494067959129682770065443667091668104132884375840812635624862495548888467575848428463895756394050252457592540570490061561616914443009224917652440212112452400106121785938739776611328125","142464729519206642943985715465196065680101634264787375740459792619754842396453535646509170066091478069799080172299369994438836484938378991283020978342879057271045033903518255546705211647900945143546293360496661466657600494787228476009216508124736254967761901224547269496682078470378676865981855568197705507111970901389105723589666709580851611656838285777566736/28839643075889294346635430272525349651555039807615358795334663734940126053968249608601725991946342449660829847322517564370606746964714098508298705743689729306507554363954348780144675937510900983622836770223945538844314468550644543502501484521561567788992156632892028591678742014134130878101553633195551605796158103033794695984958987367799607407626319024034625","380457154857422076784416625436182734840012277442496600178664323821064977485271288502806124740204295811759917468598315932331219906040253463960961995849761235911145436552991677050565022181516596464968316292789048809559129516930574340710998611088996508613850407294743457197519091160170604426002924022923388338999324182261954685794522778833029950214443271526469607532589775916381786492089432407550224137344640/76922142291839859196033215395526448408989799722090330866256930898223012427332209054699494033511478050536463051459450844520020426942553107946282832072826069342120835351421637970462054707566481086202287686453371483126873188020538661871147778312986131920021929455276187425940666580158173676284545586944833678819622895550345083175685846944633982680908505900099388037050135210936852210263717185637166725605577","79999800708369666670693340813609265988600461251844239982904928629083975986385235816587497657678297663151298709076884516168798694292862559083730259839524968813932151813233366175091317046758260934357096757322369138747731224414176608247605314668045838769433811781490030635374856042786947109101585097035794969502111354126773165391577217071956928171336060247633607/16154850265413610119312596299635391433380319311682208755390341659152160578366244774029302281068833963848811596545791104919556346810193385001196395489740571188884873246131813864782581356887110499639544662322008824704830818136660544673293865921754569356583698951612797219776290835161780326945625621758204931298948625885081325268123344406261740843197232316416000","26517014004241498798848003208133111307300592620947908933072661812816683085261359696887064436611747292468717739609776825664344064024535028242737616786238200200498291226984541942836459188328346609549239724653950302145388877472274074665166631509490297630344351573245265440164082334092997307729007429218385933622623935704482371360985836659823269511115937443161532987660855490906546130131716829909388620539153152/5348257529530073524280989257577050878033239486885664777340947102417077875628238501791711336803418503616042922880218860266611595594400020206192599559925169589023339295256084579966533260861249529670141854632965231468533448709363477120437277477668173149958267956654411822360053335695956270719680086524322530514249891157439878407417971839744392044064720476417844056346174795601710447583861127956455406902139625","71197348290771978405602732839537012310626009318133570890482364371056186523989330157966045289127980687764218363064941391483781008265266963537623770685390148810455244349859354857421474277963009857011653865476081389968122418691934354122230780300833008753686234433642072919923583176333668289998661499146617277981691372057042930131717336250309680764289256080895092/14342680993892886303954853579883363225921109635079605392320944523109187641283117181461662846411912306480691901515655220490850586434947504504317080144378185989596578890875561336496479576651516902048606328604696610314441229321219627021610788398730173161473456954861916116391687748151443335513249810808309201830214153565966339609616397865465842187404632568359375","342401018754023891059352629509715357053454506037284788725127073168445189422181540408896452651232759821766616850264122591225331120588918865882061344322996688880669665450231982002597398732201789017495427566260651180470635467002453249479483900268320570004293679361696197905823690145326531180324429318916092471863347575533714871355651558610515931373080997536792242278529575700808878786732127630024064418468916608/68894647682461956089382461406499759613691148650738957016015844830333168307020284281532026442272618372290646283794122772122665531108484704223311663270836645399554940741928358317884620420886609705267248656765357348477857852684140561714900614303731786621656041881975328169543884661780531057279582784036689401206706069028229798913082362331334839997133771880514515972024899408556517159759907883793675672065360125","190286571838805495686895463752492174798162827967490343625540320679760700551286395956241059969689020885714190883323266375067607282890063444652926151862650426323339187596278760962390404656342309737428214493422028545912504503974763216230927196187743439226243880933947417760147785405444976177822143722569696182520826218120595298059020305548681823408268556482981325/38242608291912408815838081993045123864617058390583394828737640036167893859507494091864963383596867701436244007905770284939991912884465101575490548813894148831966132970730263562113961685364216989999844961688441914455435934703797359360780356482629495214859917249465567846934284121032247250332634283689409883499295469118485912489058982596725212975311140618764288","15345379701153714436938289567639102307887273898834051456693981514956329731572600026866162286097662958712922836383881840211072389867463987895894067288699955858337488812343674818565432780224654423872618380928462939482247900055572079914753652915184313685270722583926261499687728814560680092231526501970431280783177357735398580700300402036873780385926225005561766822479878280891130232036389707452005183370152749056/3080426623087819678602049171756961824196425548529619576972793653585089380165862889092832375934535464160425580449193072125955685099151500755278763306599307218302635233595329082702148677300945556130106197481236122437978375963261172524503625593066102601042060541617791008722569799735202779005407381267021641545644264334109052258081225159748043792288699674153722046659880085850980843460715080965607434114275256125","36443601662144279337033484452272105547257065463167427418525882851507989449375452076227652634440476502702584889057376829320548464677623038648843251719168810701744338735202853412651160681259533015293997501525430222870696235141468274274064390273214484922080219643095978640300874086585386991338440415203863901714217818222666715642467237183267303214471854472286478344/7307237990148312451155090506264642657872224684879860008436735430879314349554023096366846856470375025555139219961666754780864835035902856314981482268319886395881809659368275720375576152008289949085453326722156553603358879420820012964006978808113307340321824660484441618487292138631579616351777191144073820686595597986548374588839763719082323114663844043046087375","1575294930860663922843149113097927168024893739962464327016763741314068438447271326302129681931564068796631337571133444163024224071270063174829664848259482066723104251718808936762938249028582992557822551950212098797718627418782376027133576209718376784834456568694813577764300716139817031545408608110880973380162736536313173329973171844528083756524804574267826691156368696436273087171467254161930265910972517504/315498546654512047637461608750018349421492986465373840347519942494904200733840189483934245529561231604050629653992944140351106887747105945984325466452136415067807666316202346895657914393512001212656936450425268507235863153258769360296536050028695266363553141327896064944506216017933135251875087069031098099192325817395958019524956320840925176589616439477134480262100237057953933117460110224783420562744140625","7692057599553133417225997786980128299372439542315125030077404519679450372805989755158000864378924877036225189784045171045139667691524763609840822628706422918926410377185494048355128046783294954373197082851501927410350313585640237550107070936498164597231431242858771457898152684298047446530220873884022213114819556822050178579707210264243087257050468000092842761/1538814487241112760739561704846381585063002784795057066438330325566843108114787083741788078680861495340026117682606689156065008672344707615420501964123121620401073675430690541617930520947170306763541251152854304975131871537939618684186766168376514664494488691311397307418298556185724993104760692216619178358268934740746932420562664234738576394742559349407744000","15190836470550557926140012263310230378455340797095100474720776113765300081463960235506950799869073894127884189857505951314428810423734978025409205413789025720642609035117121385453856877706229778165533034683130064865256448444765902482146676668197546098809055341050873494446231793312407516463576380102073171090898973046611572020564659042146465345334273595086941562425006763960197801018796906114925005810069684480/3035556598829526968124942916297025416522606357010637652635799096498208643970273828496655227572100159414352020909846298817521082538898702393916708804775798552206401718323929157863173504795127180177622667376867235806208021329981136637175570409791442328468473111768140746895005561471574356889047981458002257872092408771959478275534098789982899056118498417649167444480913552548249005268380838457505944462494874581","2923754549090941424546974281011770689534961442264350984393235983189168024079617848190236639328676436485460311093391982825027512234467853098757486086492333410753919927528867817406389678461354257841007722472106464785557179844602277350411593959136520732862935740433163383885526249897183805981219416420390137516812715245569037561966929572448247077578419534651990827044/583599691615378545100950777601104007812792435102945248411439102112424251478512952087517463400054567832353967731887062349496616445419782499817548928078665212077449420216892583997505908858360011413290038645573504472422610780073975450391707084016931661068694024023083417126286468909117254531307085545768412513447197205482285022417611018126886491416133665625891075125","441922815213568908489589193556560586318864326425397702047965372289295962228254658331201274291697626694859414786292266008476137667843874780506886929181835469302142365772763129838217316953835831059616268288399119642314758261677639945004547833810080700127847214666763863338091523753898362699222880772298183760217731228628442782431573977490761665091005756534420789258276075174436091798475838370152192077494553263232/88113527373573049332749294663402406454524640221866407165839162576979477138694653404281889227416977618913249275712917582743426231744980461918772793673202077716234026090308791893409200158969108910565467273725064769890443408324386897017825489615600787634985397885230455168591240328585041836771921929567914891379235573982442311269392541694564675053636078990836491104116280492254795616055818375774141667319774630875","91197133767962483852278456285591810579974783077874307589555559715577599604626819245000672929518645004771085106770784762994476973842713035791487204122653245797126906189270204029735872508462106527240320932458036231707311992868347221176460407003487373754014365881209649632547685657666691589606571865740595829983849941049450471212387808617247938941417000965198123059467/18163679611214677813643455199979098261849405189805364986036911945012016248297645596270602508015864371788974684317239728239847888960155365342460843559658233069613218442910226128113196984801126248862273503232000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","733396724434554481470656964167233690851279923085197144879644750437402627936723531635898542414136943003236478432848965516925891956615111678444586384493883113385335463639674699443808084827715994137410743992130712903997815471369201406683862985677774155704267039224546352414417632475628136460919900347977754644214725932476856018335195927604771408949980634142255497812566866795799230501026066145434755838336990365184/145912495644159810313026420025053989609942265686388630266226856650796088768164358961644113076809511566125145395699271530802891523741636707532676065833327082092521989958971154798465784847092870457944857590623097781956884297103961713362268264159015928554707158239398721416218953003215109202771651993622244788505649098445109438104466256408060944298437033058380804126574878377874459371251056800895394904459469832875","167606423853658713615749101123336326908381619586838606922565378505211386185130407423587264776519589295420758009764678759213587906216543160801059029133457062067529468464636376639307690657945597847080706144898920305379653754920571797771178341550808041652360635584401789901525709166172283390177673009483341826911179861584213314395893323035527116283758445038413646757280/33310364848744488727470761889861069993071965180756187311178124887286133554324042422503263994717993129539448310743598138364172889305532401505890384806078790034557049074169245078416704866867380089103064821732673967120808611636618526737138435792818828990403374766228037003927569643972203993263329403469747342204808360947840103843317533210523853631711601450617095736473","22466735478643771803624909352181817912387732117378538284107485621001246177152644141853604633676939694208131243081227668237716194316732125445041260568403752325416203858329469477774720998849334961751541191761521224644520742691981372782009394826739249604257098248751626957528543558542443122470657230835176462612530464044652140581367666271771882198747182114685116336512604038833327707163107207664705120728068987996560512/4460342260599110071819142535903990817893424192972341872394014748315090430999224107274777695306032783105944721337053156074851240201179902835353097683269298594190456286888326067932777720561181760369783486872666974623910515795208353605697065447942804414120030678603538761538385793829787734830129764152263691296719726909633580318897787729004972323599773548689272008712427926734258913271101899780538635213826239542884125","1972862002066252798837977155272535342727415329632252213508267781390870646909686724955861608046325765650407340102472833428905279473185818898693854344138403744757857928883601637909604082588338869612221777263582365745419719805587946558326048087138197694016224613118304623864709183681172362693106460535117459192992832969130895829916210933710820035479169562970982784580861/391262854245936198649509275719624152305206807261382621390946060636032376057385723427601113233050260359684153963520782285097664628279596618521963444574543409076428660874564026651742234728997339844161514273669735686516761239076529088145208958938384732800586298943281728435207452253170935715239392534815683367114290676180839217919539381651841151674859715992309727232000","25408691426286653276004556426513401767718328640048945917745783225459709487487356095164164652218100925888847689099153320777389381851598236046402124684511968385325107497047025485302333503075085562533472482645023963717347867696861885363417595298751490212495932766872748125111115039311507374363000062513977436921772096443948159289707996749061007112458126301618769295162649600673247799961118662602756889448152517364992/5033870770817104909025512331238419776407331281944565644457345507262881100618908405924951559853352841154730802006750688581603270849880756026262217651685813584900300357685874044482329601894134443542753690048962260914642678445058891387041919581376195543193199307524572671344323361282633828144708683536721118910549933336800461248338059209853766305058943888965279863852107507075916981165164543199352920055389404296875","616565940481577765011174617619124841631603944267256178093555235591208387588894068005162766513720546626399308168923904625210748051788652328072241494243040185611373035059619136712559505023703153194815611268503291295059648269772663939137446253437248541496631852986499688052678961495116210133458596866684413931188348798244969797973846568160999564540652111599082181871436/122025682149627484528651507368051367620578469392233875493556828623437869650284356703295836998178256875766319508797903923638967073687991229708051285605187358616531926112736402511567721889845693991963610192161413692928378708223712791930113386840109729368772998347036090902364801014045328348830748307179590755723160142468563977011700764517880467116766150322736003147125","979882056834583241477188686550561625289337025747787132773853690143359657519481397575561812727394470125172272246774578404543257210124412718725081536309818383310896102958167337333430555168671327992395916735022711297435263157670501117734412587691271084981140167017421900852550822579410636184333142944411060788723653596377015359036101170054828623669169047118551010102258802465554033173968468183492058271365801755986560/193732066620504775981759812703028757608600125742477178751189607602983198559778039141192492589734277739017909889924488699372940787977794555519474807920198944109549023547259912324279741006975129518191081373554817584214941629021088206977532599055014150433581544599721903881284581257812850697423350805715586436114842183295730680490110793225514602133304729484547181740290534056445482186430729398701311563285494964645419","1138059441890428903336718712159907364975959482163004276901676063186939296217569849990951930955270849692775077813359573394435924934540269310629731801376134549169322946310756738187834128956671195358413024062230774111935109203207768898525882417078119314003162592087920755572050993355843681931139257303484526223461840939880759908449181135029327442039666513325916729112853/224777393704985303260433439401503507705148576727364388720387174977154204629336985298082893443205223017966145098064861566754244624732671470935725326043491911142467178027013112527668183783450932992534517827863293825061296257420183669383719043873666284378647952385401303733274771042385666436214517205678674213118374889121542369996042313879258622144464565403138392064000","614262617634904509410555695398092190166323289787703954329113412647342230855826568873946233136303566178604275296873234926652080462259552775254755109931312516616838091852915397846984381183732773411263828600108443070778861986849272794442105107285234729077818614332155890946804257724112143631642663084660012362691100872465148864413343598067567142977134846266425075195546265101720326272502009234689388355365794889444257557504/121200854655310345878069155190734381476914416893031941761756379148622591310152793328910334357724762079139509813381997287954319983165971628429295803162563856219211627796200599196263868781937234015821367575512548522790158101892507996780675863234181700253545912643548466256938936835469646114659598727592390628209362096738343417775009361678599075671154405137663077798419897932404104579113056038271753988669813988076515476125","106893445531995430131837569895703697604978445859412739331042151546083234373443601923983714252801103551874986033841637079479794895452077803182698291822629713500021995241940133037200268381793282318691568234728329378829301282121562652452936297422136961147432559766896143081059518238234777055931999714973999553456547746825617168005650221542417216291412324174772893635832/21070287546583154895102927029203125577385528350171457634203261197137238923923245382493868134869009844094435068284335909266152042903157700510534904847257436666980671067329084409346149729385625108233234542133838924281113454526471855573271066865534480974484196644173270141056470857666632902827625475719738076524047736123182255306429677688129231682978570461273193359375","1112742798776748551928744983308584493817112400536084744850969025063360679785378789764875076529575583792571198510306186417773101346425704969671256564494135750783642910394213727189639661184379341961737135764570942961692159177189753139209638929302928699705042832922774012622017270172331722295881412111812933593370743210214549038212395941675257558442878012136484052827439007483777859391215222647499741572327725689840850048/219121905514652575155579185322367175400669386131891843382447432851122462422992147756333729893028362013318264155489537138133372703295804002840920402482110260590055749843170064921843460498824128274420925357547023876488939786863662801268798987685503391058250902634999352652063668663245829496836853509616873246554292796823779397317819134891873583857621623143253788854530146303641400986028503534408870194989478421253057625","983995170259637497940121707857673268620603982844439610076334749792119502557380361624096960070148627663305171311646851566811683351232268240169848810658089698606409195744471343416197434926513684882439596141368794175162315633192028977211909698595778839497844847281262559899914504080092844816319298286511436690429175757804604673752838786852277255064434365401871903307643705/193579499709739777577893639665643417521924510242119561765932078835121983190401762561436208758210519231103767232899529457440602166918701550386152070813526760823513884391055054076485295945972185402977095815609448651316824455250005505410192101148149284756928250258632031981439345164037318129987999546683113483700660879431801728391911161900686707231543216283304182063038464","30691013076836380319652884848585431917439358375118437035944950498156836885409110087616602043242747413728866747975631727566613593257623099549583001362246649928075859944695060947434885707102684568632559339383409378997568182445019183928058902445738702610436187907199482604867148445903921474846103586253320950728989228898324829144701782792767763794895137313050381112872972806712570559942583906619373159053654481250809168128/6031936190594376585238407905469035598668211679521553144958053099463931217856780171872253258738635531385711702176347575597387389685526098889278278029314982721284691198967204664771178761416891317672705719303088746953644978471289001577698554025410820041497108311270431130911021653860874238212040640737171103823631718483572464361276703378587106311153455557896527384426327053165214814954154328483257657424873929502112904625","33633002641218571027682690377239300567277297301791434890431645909447040830457253186262970747405514897340315490970846553666201190386457221846694126637998462873786334837901001833771510353365825087187582807843940479192544772559118293851131234910638705258664901225494129023244916125545283621607920983287799648992632814461828998517949449887522866259724675318233522060729654796/6603800575190864815125307817934327053530311915572323544225173935830559756077637251538096164499112411672913910767032482188570876526606118068929913515497400397562722669603861813453418621246538114872330536044519242663538662076583511078523573320035084744399535581216815034837553165853576616422592790103728141443697362408727056813977234078214386771115586436985105038873998875","9090550743395453237608373761422705922989356346696677314277463900103283296889488490217663400349361962695279888433677856471792856853109469433355422802663947305503479561493033851081993247556828544308258821557994512133708656174864544457143793106703578476914924328960109390350040954158797845288786321215010324565010420734044059968931558099077932776525974187717655105951506223649947806568984848883258144616897526257038550656/1783219994432430133950472014582130883873515063182143523712063859964133099770763874744121895885645346884371273930727450069430704145915261127061538288702855011220545530326588799412076879985026006593893648911637986337776174555198865379578424838210466703683642106934154603710587408512357351455891557594977191641529451749437270208258072920514602243985184744955476557012910446023911358037761232253615162335336208343505859375","396226087129511787616470716244996965529391571019620342657409150252952330537366537352182763477820160355931003174946109480036915624974500187179367618457008802667089004678925595775249725629495848146669773574395699032785024522882892752987825063933573399691764866816284097232869198405981830106568826923407996367321353003569052419999880089180418759265274331299787468134974811/77651132902382550540201641628906752945078964002822585000619340261128555048628863996784740469908853602590877726845475670110127527874088625214912598995012971630852593597027649154487264595100300180591016581254965295280089902497540043916128232871685159131211213497239568483141031137909208031392464815187505714066235868748950184065923236670418822911614780061752905170944000","1288523130900767412477856952035690867153496584747510253984686336382980221603917538996138294311274357713893956725672062832264871415025750136690143411884111580335458539824573239771267043414225271729141508235839982033182605445173050590151912297720800168687369852280323356691345317649445843078291369394324862039143247087442309135074453265658730028145500871559458519282433012494054724678302957276371418936282902434203225600/252284450515080370603949213084529993395050575951188044032908270470514999880554862449223347761507020354321422785760279154913310488296485989979706208254206974075438570521939826124860483842758137231373182496438568202110337751291106165654945352183167578675508602832478752400011567482434301614269579368882858973850914513870297071866544875650189106576672289734326492492059816669288907018095832842249738081022227281715919357","559506782175368748187145067236900803925823792088293851453005882621173124590368101213652371965740365119375069053747415415684193092607523211636912074219215053809881814859129515591479780669511533619258835199715146655774919418434080807837587396115955105126806762961292429904380132116986984435528307613054828929294602185927322238461491059740342387266084431988727321711184308176/109446188216864405154936682374609448082436347600301765944233278303643744736544109262794383069197271409398615846380701459882784547857821831816863216080069944818453908760476475874319791512782445408136169878207358663250499628002971644430164185578966399908622640732411885568638054229180673755690889471388585521113862492432946110902070139679164884208988489955874131206343597375","365842109776085256207829452385781129402656684569922320812625438296958174120084800064669048017227033185969596458778213306152397766619692644694641677223213185977626940193107608138827771259334379895020377700759789774994800008933137569543592829220611543060189849601828342989023692876182148818363689293009174358168826340010491728715549904988196347316703985894355217235339548078187164176255405596310602921647203428200269666176/71497266937783826306774367225149833789788300609530680399994804704196212252148324552193149332755057982662844988588678159610516634667597707204818296457616315484973288944637139939912166034691155272078609876888919170894915224022982785138928008133003473320018151370486895637936102520353951511525996197267572355782608352075229547764732602557133494648237258900273354364050662921889937355682486287799239363976556848320046933875","59378684894605773397070783936113244261297966863668546282887298999811950599772732377979382620766180662159460666220894896896564357533604962977968843474062092083279165837424210591042655271577974272394203253875965589611493384384257117088518521598379301169916060951350650621757237206805037261878212424267780312614942173870651684587166691539909068452932891649554575072205080763/11593916877920131260484148322810317629326850763057953025674154928920977965095141485536566217873796019006709247938019404840440511433467040918770165456925609124166970862430104329357419669175323763143377917913760028500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","440706629842402075137926797732405268015915199334341565218443748798479563505125605478061664327658137598204192554352688830679475840386882350034150077506804799859586772904929402683276898098601814091430598259347980573084686932949502809068565420937301632494387691284902026088950093888426872222813857928092871267130505744095697172494119689779474840037266295586359244899477781345249657455186847452249040895151288114085352974933708544/85971876318334010542313048056773419567285701852816309711738644074302467763075671531248793080425349570584102078764464196653843973936119037322000695949209283327606280423406302517302874806092835694196353778161663338667091195199032831587897410329509487165187753418615356836636352319310103639079123698118997500068644500893282438137614420288839230827096109835206605385673197123994357393257304049093683934224826006704198171592304125","13220371178312284248107863849287558696210741535280184003301555188086761767176560823174196915070378763091889333203635784037294769747641959860810039816533609140662043493962707445564057197150603226797446933532133956054671103942520142568674339411250001585991743608723150284270101326419464088290151483823061613403673956918458456165552482913079283537536214967294211244361353060/2576683013797055224377707713704899315377379548630511095136568220145808780162671473907260623503552385384482723173913562423316997528913651044277418227616447815609873991028073011738113927961824632868956802271260292075825561646156680740323686126811928372672670917332613490241615850953660246271541592056143611581223295045062157404996958100136358649109693659623847024011265147","1538372578072246705266078247950089219881197139399081643650271348770110178217959856819170325400476655944115553238940541695152110949081675985299189913515975242840473616169775880272489805123124548256666658584129873597192213080038937409046114908719298170078476325423466734429870048697383304265342125425087105698152643145531760853127801123272389134514333752173173161562273487752064850461823726948588221913540799816489566883798912/299566102446745552813544808169323270315327122249327394279467999308669285416179486075255023523726449428151807672528368606071047812907935426406886253284580296349349558797128593446316786243666290649442956134448480598303527795996222703837663605600624271807461605295956674925277658331760000117761013381199880905748188151556184620779667670278558839116983636972680749836497346863752662521197700717702790359162307617024566689271625","281696937222363685333688097915539146272117417024070728031063821781398985795813333650547982965341298894634762289669256129805545549280355643122501181852136332529515756074502902204877664395456278205770206019663082511098956468724829475220996427130295010430751942126263620206886404244432409164651524408198286831329682605959881993845189585640874220032515465014097345759490750307207/54806274927935495596891312029173862473687610099325998583092091915101265393157631244775387832621032230434007486602816972765210205596482942091518459849775458089575743699797096697542306049628939919466378189656065461708686421130956996965004776108499273871055615413566043083634090083096967567965373203683231171594922347812966905149873265654962896456451681332216735396249206784000","228506238533410805238253122961471637501498406104430046727793420497895852412513560203475440156216063574654372726194215013407325207763369075250819386897086702757125418327084312933061738392406321003231853349865003322697360659712771167066453430309997639548320673279964210730701373707765051246595806673865646607841876463608039111252607452843372970797479959213447237540830563469297144446069689149549515457318899981763489792/44418759813188470246596822974281932219088697005123285598909329328419879212164564561558656547678211265529803086702843380128457744445765859393426675396393053094588240457569380155526179040891009717323059641035189017918495485630657360525410506453554255734005459614858972904374739673834145083512160883402151636664208253116362089211658645312778404886460203600762546810897889629330022309705583438699250109493732452392578125","2396110297187570506257836426251930521245117960980667897194680897478996322590925380310917400763581787981992131769075961259393685331523600287377841990678117113566991100720996059187144934569703045966210306282348527729533806882408323961336166190162075154579344185244957673138372347997134388801085788353482276257401005734929059700346687783400772331280644647089520646562669857652648/465370154262863030800729180763091967573522779260407615567563274096037297593764955820626213827962697601334935773802201919483657310282236100250543992334865461800976838791035335861420892967699843608855185710753433852279737724446294443337363478679601049432404435672469098850676302728116369979460222148206944323730586138087862719386327396334468302608499235112520318322763857676375","1188272888075247520453568790651819187486389546755745961952033150576243575862120569399808467067800830890874391487822723879717525264875722720416173276963170672622214121308038530968291758445510982186014289745026439477197148445087614813262170975056866881909056450023324743409114115141145340480846088869807540798073417035168139476153897066325127540609756310068558610112731607522096096821938163134080426356894899245575410494080/230586762395914863625709048789913840511134004337945700368117795195769576856434588144361459740833007125516905017415184787078710001969815416281381427387949263792200577791644278234661952852149216540491852757174842146376788280677956350901082838474705227642420261641783722891948710833898248566893322144435457967452449965772543077421407816225704952270697016152452032506898311260979594550143344971416786595888053149375287120733","1072184299258468249004114536023934869518152618369895613271618698908405514630154819453979477077738526673716264830106745031385951736108376866253955319711026042389282009348594845497252059906901748860111986811345742998968284077119165082435598381810306691078037018432766116865792677955520465319184311529667642995217214507658693259694586107847099911341219913576038605872218680562047/207882129535607118520818565811162643811811563516006836924341123976848022970024793004700710992938987476728640943834012473687892481059618823520721737479364352887178017866425027953255856440099446112508663603319745066750522936408781591578321031173620445865113295407603090322283539974563690157418931060565698315406021569491751612761888641141446406531645379264720684248398299136000","158094023904374464057702010126993231151433474361820266584020400101533651587072432728050776506672527718975042616651177034635188178967462982926261516748842073587981953038445977514446838733557926696939591069712397947055261777416704028506441173540338327591514650398349069348381309688677335132100441905603664282735310299686268721634369502296867409514777359935022301425165750780988231639828675424239931533849896744198012747670272/30626384366513923671063955469537776291182594080083494737341604579575446319190916924682809546024369330706012653799783122328775875399363759308193432327358837772825609356553955350401725689682838701996446404559005896479618311357573203081153855961484398360670837599853294627153740224543175497655414585918231215639906924313779933211774291565425360415684556655021031131349317390382320286092667852173815259422737956767922154798375","12216278924286401897470540169822542417611356797676160128176706721343511598951866107858729405615631246003458062949723290192242594609994613705183460814797527214549142043573863947658832694800184691222426521703728394203722420336773310908687071670107794543022567943478843065246011544888390757810534211554666736239506503613750756246364621509359804902243487113673014588325806249988332/2364584127734680580481708368927921125934330000162935118371174269642831409084634375654239735054363928748162229294829526339927907778510530444646754603322373712788147193691037688552857183116332292048731726305451516954679277320777955342295564000586923227775208580772868590742136150431152495718132142742153643081187691849828217592954519485869135930755646768375299870967864990234375","578939195017447864385837341975558679292903716580114421030538728778491606282153588930983966100514147976321305616196463174070345884292672842497715966933722088536619333912687108737657068701352918582656105418491672377271304970407730786932913490869797471081081431072836814581099271832696990064828717287258860166842791984158634684078346453202928137987930328826212011774670396356151265781053547412633310327737900786639842674288716416/111966291649651600701875186827360807558960817589719096407887999108024557254221008849510152469119211567152616745769256123968832250104006560061907741567034087109512483357851919402017950812795426393415409198268246337542639470834168040295134130657073201020340432236723824670803498949071870597039309004562024033656488150406105175401372709011082725359382691270659245312133919518760328422827067578306005644825927050994860723405473375","8041514821545833865350873212853873042112343327573364523948780030849543753072688526717886590013028227714585965095216381829914996539132359247488639692828639170075726301411777307168737667077730792892326979446426349813642680537699905651125068091362135055902152994216233622733424128982011248923051410141033146604688083721413402395290842738021365861670415833356403364696759583009635/1553937833499559104910551811592138833189892464446761247731330672284191313590708439680460540329836344767557599746234213006493842842879398684745864919973051635127080738612248150108793397855113122368507483429209127035263504194847798809612278864438287815470711036548695032421148125849669175729331459149833945183228413961985381338162155596008680906676498435954178226973272371625984","12059659399309169167301353842123191409306995788633965680414620302285606896146667751472818541537183787935352700725982053536032930866708413010971856856768384974849695774437178790890015242323873769697407411558706626105140596160049735605389301414460825674631122462760014451298494875244754354054447697502521388381253293175367558014453865905104467382184997528879171136492277222127399012368677604910497789360212571238146627048080568400384/2328494054002703067219004484782931471919751585969487160602269605916676223315055450845942763690581877771159615428854802721943114463834992106300185328876910271612375509166975628540839858771078495267566008071532876816826751069408153323840515037497664871689085370699991860738368371510578076683395101062439493831773194498579620513073693022191702398601471237166387045790480861932005012807234071429628725981935147069738988682858417182625","683009426705008850682549700382901603742691705123356866338951397347368059105140826655486518416578697931244347554322654428162554903861783227680935341690740579867651545205562690172425016836559678937794312287639193745517811234257062356826622207475918293015140472942579713388671782202262396642735640315948612572908444501108579457520714632371056288874351015666995549139003946314085696/131769214246522869780429817236150406548549044658474416909806179734873399109656411633488099249198882165279745627038984487365589625562901914030850178330133080409420340227179447548044572594184601425691821617928130423410997853384425373999967759499571890326740433081063424903098252502791477854302204200941376983295622430177445507316706609802292121282957519571162158620971952084486375","1418116259749091420309271913909337143756589314597557128553117870573928055109322864794169592355058370891251425125187770724828108988587888087023982451205475980371440423992838481547236638456717520835668859093413956339261802305597694403381021863258753441889536361061407579332570493634254542013337999844407181346815549594836374497512447969751514466481466717590255369810506813543577735080228718660747940956248427356785784199073569408/273368882980516556922532339653303822104510203916024760371844491705599093435133738774975538364241630079468712981056336655766117378160822393876348755370711942273876284944422610974149712212944211513462921649872232656449940987552227525504529710373144228818606127541937831103642415534318303187393593236209298242574677293352798419428712873685798636474667204083938875672934235816396371477146089168375198141802684403955936431884765625","546411077581845999248238069684194831621691193366466972898628141511422317954477211865167402284211971296286346492698354214043840080181702652132835681239302798339667835439189275457116051279366194551632712819028177402221815140045210690908631767786711675029194359998826252332434573121740830827417293557234891406021102083555472155479148332697839972702631641910213821827820374586459319/105246945889799140338072754365901705544530661781295362563214285953881890233987516230568663143342952799036341701952267011236663118111226623815975847494372076420199418712941018288738590264475520229651370015377608638075866459684692488079223686296541020897904588347083045723167762682959422858996673894180805702299907478685374065593161226849447131100462022089783265346597553176576000","2398330640958841474772606439916070050977544535580605737383995160447105736276950196885906408317628083110923322157113892928963237845914017845444295040924101784423382681801754191301860383927129006953354739240926643562987838836997453985855576402628166875869041032631651591871962852884189548538272285387092843044669499688035134181859376665409767886188304314888753894905317929877238322615838524354191263502347881033855441181420399360/461588070868590122892265681879734295007029130965626060552783760068897000195207878227714842617470320231527222074701444349530952699708435668339712860464533455345665068841333232359698449088497137068713309811942968433868609329301082001752617420002377892756821532220676085014874112083615054550278903960627185675459015343606391094523511117705747842645927349130302549554534056269331809016770715819934970200483161548527932617036185253","6041015879424725383006424536130409209607854044642113747266098198777011981328765528361630516108680392500990580908509403483891763219659726090675140672989657743882183951954294745396417829943469201306594018454995862321821016087416840247422350906412007336103086620396467456181771583200365740253389107968122850063607085957109965406634738740996318415514360956028575560979203447735121436/1161752799109428422288020947061281540989708937450568100764830251908850596717606701047413407636907934320789870175907792017513896999208892282137299070761467096211814586909598705615312819596495636017728313513520193786266452836805291464826226833593878504804389728477191170027729963773716267868284479768397603444919008915279522376004326398403851684761808785381609370767169521034383625","13240077436443988749179508462267267187169441948722358165090554769250505713747934643200804819418670147225695324432684266924694524337920816452346599774452681831320005286326986675907899608537972384924882996757503264622991355949039882526389342174307168805166215838138277557052303430492669193939212362638263582899713198716541723383138016564027766560215944409353427176135895982596327685665844815618402881202645610620284792793420780517248/2544223084468158291883698813309541801455311468982232546872485444308211415529998472787377800559884210837213042932180479090277285630234238711851480232520137856848809986631784843528381778520727465146661792797924458540957133423665746229799675650290296217658444899605236550972043549278128087645211909479009099766619355677984218929672461506691980442071860591767266913041147587815452007726513853820116629482732060593116624596368806566625","1953999166296955830935495158735359200362904181792947794529339487489730042568305997099959302322956898299616194932283060554261566410988618045107398092345476532371402134206635235570281738377188438407703089325315446371127042537576093536896282955524842632708645655481028161471313608974238110718242273935956977555610147714316158486553633871312187084618154014921190595222799283957140353/375191165084882521037046014569185165885459082629136124177286500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"];if(D[p])return ie.quick.apply(null,D[p].split("/"));p=new ie(p);for(var bt=new ie(0),Q=p.subtract(new ie(1)),me=p.add(new ie(1)),He=0;He<80;He++)var _t=new ie(2*He+1),Gt=En.bigpow(Q.divide(me),_t),Gt=_t.clone().invert().multiply(Gt),bt=bt.add(Gt);return bt.multiply(new ie(2))},factorial:function(p){var D=p%1==0;if(D&&p<0)return NaN;if(!D)return En.gamma(p+1);for(var Q=1,me=2;me<=p;me++)Q*=me;return Q},dfactorial:function(p){if(De(p)){var D=p%2==0,Q=D?p/2:(p+1)/2,me=new ie(1);if(D)for(var He=1;He<=Q;He++)me=me.multiply(new ie(2).multiply(new ie(He)));else for(He=1;He<=Q;He++)me=me.multiply(new ie(2).multiply(new ie(He)).subtract(new ie(1)))}else me=Math.pow(2,(1+2*p-Math.cos(Math.PI*p))/4)*Math.pow(Math.PI,(Math.cos(Math.PI*p)-1)/4)*En.gamma(1+p/2);return me},GCD:function(){for(var p=he([].slice.call(arguments).map(function(He){return Math.abs(He)})).sort(),D=Math.abs(p.shift()),Q=p.length;0<Q--;)for(var me=Math.abs(p.shift());;){if((D%=me)===0){D=me;break}if((me%=D)===0)break}return D},QGCD:function(){for(var p=[].slice.call(arguments),D=p[0],Q=1;Q<p.length;Q++){var me=p[Q],He=D.isNegative()&&me.isNegative()?-1:1,D=me.gcd(D);He<0&&D.negate()}return D},LCM:function(p,D){return p*D/En.GCD(p,D)},pow:function(p,D){return p<0&&Math.abs(D)<1?1/D%2==0?NaN:-Math.pow(Math.abs(p),D):Math.pow(p,D)},factor:function(p){p=Number(p);var D=Math.sign(p);p=Math.abs(p);var Q,me=En.ifactor(p),He=new x;for(Q in He.symbols={},He.group=je,me){var _t=new x(1);_t.group=te,_t.value=Q,_t.power=new x(me[Q]),He.symbols[Q]=_t}return He.updateHash(),p===1&&(He=new x(p)),D<0&&He.negate(),He},sfactor:function(p,D){D=D||{};var Q=Math.floor(Math.sqrt(p));g[g.length-1]<Q&&p<1e6&&V(Q);for(var me=g.length,He=0;He<me;He++)for(var _t=g[He];p%_t==0;)p/=_t,D[_t]=(D[_t]||0)+1;return 1<p&&(D[p]=1),D},ifactor:function(p){var D=new u(p);if((p=String(p))==="0")return{0:1};var Q=(p=new u(p)).sign?-1:1;p=p.abs();var me={};if(p.lt("65536"))me=En.sfactor(p,me);else{var He=function(un){un.isPrime()?me[un]=(me[un]||0)+1:me=En.sfactor(un,me)};try{for(var _t=1e3,Gt=0;!p.abs().equals(1);){if(p.isPrime()){He(p);break}var bt=(function un(Yt){for(var fn=new u(Yt),Un=2,Xt=new u(Yt),Ke=new u(1);Ke.equals(1);){for(var Pn=0;Pn<=Un&&Ke.equals(1);Pn++){if(Gt++>_t)throw new Error("stopping");Xt=Xt.pow(2).add(1).mod(p),Ke=u.gcd(Xt.minus(fn).abs(),p)}Un*=2,fn=Xt}return Ke.equals(p)?un(Yt+1):Ke})(2);He(bt),p=p.divide(bt)}}catch{me={},He(D)}}return Q==-1&&(Q=K(Qe(me)),me["-"+Q]=me[Q],delete me[Q]),me},boxfactor:function(p,D){D=D||200;for(var Q,me,He=Math.floor(5/12*p),_t=0,Gt=!1;Q=Math.floor(p/He),(me=p%He)!=0;){if(Gt)return[p,1];He=Math.max(me,He-me),Gt=D<++_t}return[Q,He,_t]},fib:function(p){var D=Math.sign(p);p=Math.abs(p);for(var D=P(p)?D:Math.abs(D),Q=0,me=1,He=1,_t=2;_t<=p;_t++)He=Q+me,Q=me,me=He;return He*D},mod:function(p,D){return p%D},integer_part:function(p){return Math.sign(p)*Math.floor(Math.abs(p))},simpson:function(p,D,Q,me){function He(Un,Xt,Ke){var Pn=Un(Xt);return Pn=isNaN(Pn)?Un(Ke===1?Xt+1e-12:Xt-1e-12):Pn}me=me||1e-4;var _t=Math.abs(Math.floor((Q-D)/me));_t%2!=0&&_t++;for(var Gt=(Q-D)/_t,bt=He(p,D,1),un=!1,Yt=D+Gt,fn=1;fn<_t;fn++)bt+=(un?2:4)*He(p,Yt,1),un=!un,Yt+=Gt;return(bt+He(p,Yt,2))*(Gt/3)},num_integrate:function(p,D,Q,me,He){if(He<0)throw new Error("max depth cannot be negative");function _t(bt,un,Yt,nr,Un){var Xt={maxDepthCount:0,nanEncountered:!1};nr===void 0&&(nr=1e-9),Un===void 0&&(Un=45);var Ke=bt(un),Pn=bt(.5*(un+Yt)),er=bt(Yt),nr=(function or(Cn,Hn,mr,Er,ei,hr,v,H,ue,Se,Xe){if(Xe.nanEncountered)return NaN;var pt,dt,Ze,tn=mr-Hn,an=Cn(Hn+.25*tn),ln=Cn(mr-.25*tn);if(isNaN(an))Xe.nanEncountered=!0;else if(isNaN(ln))Xe.nanEncountered=!0;else if(v=((dt=(Ze=tn*(Er+4*an+ei)/12)+(pt=tn*(ei+4*ln+hr)/12))-v)/15,!(Xe.maxDepthCount>1e3*ue))return ue<Se?(Xe.maxDepthCount++,dt+v):Math.abs(v)<H?dt+v:(Ze=or(Cn,Hn,tn=Hn+.5*tn,Er,an,ei,Ze,.5*H,ue,Se+1,Xe),isNaN(Ze)?(Xe.nanEncountered=!0,NaN):(Se=or(Cn,tn,mr,ei,ln,hr,pt,.5*H,ue,Se+1,Xe),isNaN(Se)?(Xe.nanEncountered=!0,NaN):Ze+Se))})(bt,un,Yt,Ke,Pn,er,(Ke+4*Pn+er)*(Yt-un)/6,nr,Un,1,Xt);if(0<Xt.maxDepthCount&&gt("integrate-adaptive-simpson: Warning: maximum recursion depth ("+Un+") reached "+Xt.maxDepthCount+" times"),Xt.nanEncountered)throw new Error("Function does not converge over interval!");return nr}var Gt;try{Gt=_t(p,D,Q,me,He)}catch{return En.simpson(p,D,Q)}return rt(Gt,12)},Ci:function(p){for(var D=0,Q=1;Q<20;Q++){var me=2*Q;D+=Math.pow(-1,Q)*Math.pow(p,me)/(me*En.factorial(me))}return Math.log(p)+.5772156649015329+D},Si:function(p){for(var D=0,Q=0;Q<20;Q++){var me=2*Q;D+=Math.pow(-1,Q)*Math.pow(p,1+me)/((1+me)*En.factorial(1+me))}return D},Ei:function(p){if(Number(p)===0)return-1/0;for(var D=0,Q=1;Q<30;Q++)D+=Math.pow(p,Q)/(Q*En.factorial(Q));return .5772156649015329+Math.abs(Math.log(p))+D},Shi:function(p){for(var D,Q,me=0,He=0;He<30;He++)Q=1+(D=2*He),me+=Math.pow(p,Q)/(Q*Q*En.factorial(D));return me},Chi:function(p){var D=function(Q){return(Math.cosh(Q)-1)/Q};return Math.log(p)+.5772156649015329+En.num_integrate(D,.002,p,.001)},Li:function(p){return En.Ei(En.bigLog(p))},gamma_incomplete:function(p,D){for(var Q=p-1,me=0,D=D||0,He=0;He<Q;He++)me+=Math.pow(D,He)/En.factorial(He);return En.factorial(Q)*Math.exp(-D)*me},step:function(p){return 0<p?1:p<0?0:.5},rect:function(p){return(p=Math.abs(p))===.5?p:.5<p?0:1},sinc:function(p){return p.equals(0)?1:Math.sin(p)/p},tri:function(p){return 1<=(p=Math.abs(p))?0:1-p},nthroot:function(p,D){if(p instanceof ie||(p=new ie(p.toString())),(D=D instanceof ie?D:new ie(D.toString())).equals(1))return p;var Q=p.divide(new ie(2)),me=new ie(1e-15),He=D.clone().invert(),_t=D.subtract(new ie(1));do{var Gt=En.bigpow(Q,_t),bt=He.multiply(p.divide(Gt).subtract(Q)).toDecimal(25),Gt=ie.create(bt);if(un)break;var Q=Q.add(Gt),bt=Gt.toDecimal(),un=!!Yt&&Yt===bt,Yt=bt}while(Gt.abs().gte(me));return Q},sqrt:function(p){var D,Q,me;p instanceof ie||(p=new ie(p));var He=0,_t=!1,Gt=new ie(1e-20),bt=p.divide(new ie(2));do if(1e3<He)throw new Error("Unable to calculate square root for "+p);while(bt=bt.add(p.divide(bt)).divide(new ie(2)),bt=new ie(bt.decimal(30)),D=p.subtract(bt.multiply(bt)),me=!!Q&&Q.equals(D),(D.clone().abs().lessThan(Gt)||me)&&(_t=!0),Q=D,He++,!_t);return bt}};function re(p,D,Q,me){var He=D==="hash",_t=void 0,Gt=He?void 0:D,bt=Gt==="decimal"||Gt==="decimals";function un(Er){switch(D){case"decimals":case"decimal":return _t=_t||function(k){return!1},Er.valueOf();case"recurring":_t=_t||function(k){return k.indexOf("'")!==-1};var ln=Er.toString();if((an=/^-?\d+(?:\/\d+)?$/.exec(ln)).length===0)return ln;var Ze=an[0].split("/"),ei=!1,hr=Number(Ze[0]);hr<0&&(hr=-hr,ei=!0);var v=(v=Number(Ze[1]))||1,H=10*(hr-(tn=Math.floor(hr/v))*v);for(tn=tn.toString()+".";H&&H<v;)H*=10,tn+="0";for(var ue="",Se=[],Xe=0;;){if(Se[H]!==void 0)return(ei?"-":"")+(tn+ue.slice(0,Se[H])+"'"+ue.slice(Se[H])+"'").replace("'0'","").replace(/\.$/,"");var pt=Math.floor(H/v),dt=H-pt*v;Se[H]=Xe,ue+=pt.toString(),Xe+=1,H=10*dt}case"mixed":if(_t=_t||function(k){return k.indexOf("/")!==-1},ln=Er.toString(),(an=/^-?\d+(?:\/\d+)?$/.exec(ln)).length===0)return ln;var Ze=an[0].split("/"),ln=new u(Ze[0]),an=new u(Ze[1]);an.equals(0)&&(an=new u(1));var ln=ln.divmod(an),tn=ln.quotient,an=ln.remainder,ln=Ze[0][0]==="-"||tn.equals(0)||an.equals(0)?"":"+";return(tn.equals(0)?"":tn.toString())+ln+(an.equals(0)?"":an.toString()+"/"+Ze[1]);case"scientific":return _t=_t||function(k){return!1},new F(Er.valueOf()).toString($.SCIENTIFIC_MAX_DECIMAL_PLACES);default:return _t=_t||function(k){return k.indexOf("/")!==-1},Er.toString()}}if(bt&&me===void 0&&(me=$.DEFAULT_DECP),nt(p)){var Yt,fn,Un="",Xt="",Ke="",Pn=p.group||Q,er=p.value;switch(He||((Yt=un(p.multiplier))=="-1"&&String(p.multiplier)==="-1"&&(Ke="-",Yt="1"),Yt!="1"&&(Un=Yt),(fn=p.power?un(p.power):"")!="1"&&(Xt=nt(fn)?re(fn,Gt):fn)),Pn){case le:var Un="",or=me&&bt?p.multiplier.toDecimal(me):un(p.multiplier),er=String(p.multiplier)=="-1"?"1":or,Xt="";break;case Be:er=p.collectSymbols().map(function(v){return v=re(v,Gt,Q,me),v=v=="0"?"":v}).sort().join("+").replace(/\+\-/g,"-");break;case _e:er=p.collectSymbols().map(function(v){return v=re(v,Gt,Q,me),v=v=="0"?"":v}).sort().join("+").replace(/\+\-/g,"-");break;case je:er=p.collectSymbols(function(v){var H=v.group;return(H===Be||H===_e)&&v.power.equals(1)&&v.multiplier.equals(1)?Ae(re(v,Gt)):re(v,Gt)}).join("*");break;case Oe:var nr=p.previousGroup,or=p.power.group;nr===Be&&(er=p.collectSymbols(re,Gt).join("+").replace("+-","-")),nr===le||nr===Ce||nr===ce||He||(er=Ae(er)),or!==_e&&or!==je&&or!==Be&&p.power.multiplier.toString()=="1"||!Xt||(Xt=Ae(Xt))}Pn===ce&&(er=p.fname+Ae(p.args.map(function(Er){return re(Er,Gt)}).join(","))),Pn===ce&&p.fname in y&&(Yt=re(p.args[0]),fn=re(p.args[1]),p.args[0].isComposite()&&(Yt=Ae(Yt)),p.args[1].isComposite()&&(fn=Ae(fn)),er=Yt+y[p.fname]+fn),Xt&&Pn!==Oe&&_t(Xt)&&(Xt=Ae(Xt)),((Pn===_e||Pn===Be)&&(Un&&Un!="1"||Ke==="-")||(Pn===je||Pn===_e||Pn===Be)&&Xt&&Xt!="1"||!He&&Pn===te&&er==-1||p.fname===O)&&(er=Ae(er));var Cn=Ke+(Un=me&&(D==="decimal"||D==="decimals"&&Un)?rt(Un,me):Un);if(Un&&_t(Un)&&(Cn=Ae(Cn)),Un&&(Cn+="*"),Xt=Xt<0?Ae(Xt):Xt){if(er==="e"&&$.E_TO_EXP)return Cn+"exp"+Ae(Xt);Xt=$.POWER_OPERATOR+Xt}return Pn=Cn+(er=Pn===Oe&&er.charAt(0)==="-"?Ae(er):er),(Pn=p.parens?Ae(Pn):Pn)+Xt}if(Ht(p)){for(var Hn=p.elements.length,Cn=[],mr=0;mr<Hn;mr++)Cn.push(p.elements[mr].text(D));return"["+Cn.join(",")+"]"}try{return p.toString()}catch{return""}}function Te(p){if(Ge(p))return[p];for(var D=p,Q=1,me=[];Q<D;){var He=p/Q,_t=Math.floor(He);if(He-_t<=2220446049250313e-31&&1<Q){if(Ge(Q)&&(g.indexOf(Q)===-1&&g.push(Q),me.push(Q)),Ge(_t)){me.push(_t);break}D=_t}Q++}return me.sort(function(Gt,bt){return Gt-bt})}function gn(p){this.symbol=p}function F(p){return this instanceof F?((p=String(p===void 0?0:p)).startsWith("-")?(this.sign=-1,p=p.substr(1,p.length)):this.sign=1,F.isScientific(p)?this.fromScientific(p):this.convert(p),this):new F(p)}function ie(p){if(p instanceof ie)return p;if(p===void 0)return this;try{if(De(p))try{this.num=u(p),this.den=u(1)}catch{return ie.simple(p)}else{var D=p instanceof h?ae.quickConversion(p):ae.convert(p);this.num=new u(D[0]),this.den=new u(D[1])}}catch{return ie.simple(p)}}function x(p){var D=p==="Infinity";return this instanceof x?(p instanceof h&&(p=p.toString()),/^(\-?\+?\d+)\.?\d*e?\-?\+?\d*/i.test(p)||p instanceof h?(this.group=le,this.value=b,this.multiplier=new ie(p)):(this.group=Ce,ze(p),this.value=p,this.multiplier=new ie(1),this.imaginary=p===$.IMAGINARY,this.isInfinity=D),this.power=new ie(1),this):new x(p)}function W(){var p=this,D={},Q={names:[],actions:[]};function me(k,z){this.start=k,this.end=z}function He(){this.elements=[]}function _t(k,z,We){if(this.type=z,this.value=k,We!==void 0&&(this.column=We+1),z===_t.OPERATOR){var it,Nt=Yt[k];for(it in Nt)this[it]=Nt[it]}else z===_t.FUNCTION&&(this.precedence=_t.MAX_PRECEDENCE,this.leftAssoc=!1)}me.prototype.isConstant=function(){return this.start.isConstant()&&this.end.isConstant()},me.prototype.text=function(){return re(this.start)+":"+re(this.end)},He.prototype.append=function(k){this.elements.push(k)},He.prototype.getItems=function(){return this.elements},He.prototype.toString=function(){return p.pretty_print(this.elements)},He.create=function(k){var z=new He;return k&&z.append(k),z},_t.prototype.toString=function(){return this.value},_t.prototype.toString=function(){return this.is_prefix?"`"+this.value:this.value},_t.OPERATOR="OPERATOR",_t.VARIABLE_OR_LITERAL="VARIABLE_OR_LITERAL",_t.FUNCTION="FUNCTION",_t.UNIT="UNIT",_t.KEYWORD="KEYWORD",_t.MAX_PRECEDENCE=999,this.classes={Collection:He,Slice:me,Token:_t};var Gt={prec:void 0,cos:function(k,it){var We=p.parse(Math.cos(k)*Math.cosh(it)),it=p.parse(Math.sin(k)*Math.sinh(it));return p.subtract(We,p.multiply(it,x.imaginary()))},sin:function(k,it){var We=p.parse(Math.sin(k)*Math.cosh(it)),it=p.parse(Math.cos(k)*Math.sinh(it));return p.subtract(We,p.multiply(it,x.imaginary()))},tan:function(k,it){var We=p.parse(Math.sin(2*k)/(Math.cos(2*k)+Math.cosh(2*it))),it=p.parse(Math.sinh(2*it)/(Math.cos(2*k)+Math.cosh(2*it)));return p.add(We,p.multiply(it,x.imaginary()))},sec:function(k,z){return z=this.removeDen(this.cos(k,z)),p.subtract(z[0],p.multiply(z[1],x.imaginary()))},csc:function(k,z){return z=this.removeDen(this.sin(k,z)),p.add(z[0],p.multiply(z[1],x.imaginary()))},cot:function(k,z){return z=this.removeDen(this.tan(k,z)),p.subtract(z[0],p.multiply(z[1],x.imaginary()))},acos:function(We,it){var We=this.fromArray([We,it]),it=p.pow(We.clone(),new x(2)),it=p.expand(it),it=p.multiply(Hn(p.subtract(new x(1),it)),x.imaginary()),it=Xe(p.expand(p.add(We.clone(),it)));return p.expand(p.multiply(x.imaginary().negate(),it))},asin:function(k,z){return p.subtract(p.parse("pi/2"),this.acos(k,z))},atan:function(We,it){if(We.equals(0)&&(it.equals(1)||it.equals(-1)))return p.parse(`${x.infinity()}*${$.IMAGINARY}*${it}`);var We=Gt.fromArray([We,it]),it=p.expand(p.multiply(x.imaginary(),We.clone())),We=Xe(p.expand(p.subtract(new x(1),it.clone()))),it=Xe(p.expand(p.add(new x(1),it.clone())));return p.expand(p.multiply(p.divide(x.imaginary(),new x(2)),p.subtract(We,it)))},asec:function(k,z){return z=this.removeDen([k,z]),z[1].negate(),this.acos.apply(this,z)},acsc:function(k,z){return z=this.removeDen([k,z]),z[1].negate(),this.asin.apply(this,z)},acot:function(k,z){return z=this.removeDen([k,z]),z[1].negate(),this.atan.apply(this,z)},cosh:function(k,it){var We=p.parse(Math.cosh(k)*Math.cos(it)),it=p.parse(Math.sinh(k)*Math.sin(it));return p.add(We,p.multiply(it,x.imaginary()))},sinh:function(k,it){var We=p.parse(Math.sinh(k)*Math.cos(it)),it=p.parse(Math.cosh(k)*Math.sin(it));return p.add(We,p.multiply(it,x.imaginary()))},tanh:function(it,z){var We=p.parse(Math.sinh(2*it)/(Math.cos(2*z)+Math.cosh(2*it))),it=p.parse(Math.sin(2*z)/(Math.cos(2*z)+Math.cosh(2*it)));return p.subtract(We,p.multiply(it,x.imaginary()))},sech:function(k,z){return z=this.removeDen(this.cosh(k,z)),p.subtract(z[0],p.multiply(z[1],x.imaginary()))},csch:function(k,z){return z=this.removeDen(this.sinh(k,z)),p.subtract(z[0],p.multiply(z[1],x.imaginary()))},coth:function(k,z){return z=this.removeDen(this.tanh(k,z)),p.add(z[0],p.multiply(z[1],x.imaginary()))},acosh:function(it,Nt){var We=this.fromArray([it,Nt]),it=Hn(p.add(We.clone(),new x(1))),Nt=Hn(p.subtract(We.clone(),new x(1)));return p.expand(Xe(p.add(We,p.expand(p.multiply(it,Nt)))))},asinh:function(k,z){return k=this.fromArray([k,z]),z=Hn(p.add(new x(1),p.expand(p.pow(k.clone(),new x(2))))),p.expand(Xe(p.add(k,z)))},atanh:function(it,We){var it=this.fromArray([it,We]),We=Xe(p.add(it.clone(),new x(1))),it=Xe(p.subtract(new x(1),it));return p.expand(p.divide(p.subtract(We,it),new x(2)))},asech:function(k,z){return z=this.removeDen([k,z]),z[1].negate(),this.acosh.apply(this,z)},acsch:function(k,z){return z=this.removeDen([k,z]),z[1].negate(),this.asinh.apply(this,z)},acoth:function(k,z){return z=this.removeDen([k,z]),z[1].negate(),this.atanh.apply(this,z)},sqrt:function(it){var We=it.realpart(),z=it.imagpart(),it=x.hyp(We,z),We=p.add(We.clone(),it),it=Hn(p.multiply(new x(2),We.clone()));return p.add(p.divide(We.clone(),it.clone()),p.multiply(p.divide(z,it),x.imaginary()))},log:function(it,z){var We=Xe(x.hyp(it,z)),it=$.USE_BIG?x(h.atan2(z.multiplier.toDecimal(),it.multiplier.toDecimal())):Math.atan2(z,it),it=p.parse(it);return p.add(We,p.multiply(x.imaginary(),it))},erf(k,z){return p.symfunction("erf",[k])},removeDen:function(it){var z,We=nn(it)?(z=it[0],it[1]):(z=it.realpart(),it.imagpart()),it=Math.pow(z,2)+Math.pow(We,2);return[p.parse(z/it),p.parse(We/it)]},fromArray:function(k){return p.add(k[0],p.multiply(x.imaginary(),k[1]))},evaluate:function(k,z){var We,it,Nt=k.power.sign();return k.power=k.power.abs(),k.power.greaterThan(1)&&(k=p.expand(k)),it=Nt<0?(We=(it=this.removeDen(k))[0],it[1]):(We=k.realpart(),k.imagpart()),We.isConstant("all")&&it.isConstant("all")?this[z].call(this,We,it):p.symfunction(z,[k])}},bt=this.trig={cos:function(k){if(k.equals("pi")&&k.multiplier.den.equals(2))return new x(0);if($.PARSE2NUMBER){if(k.equals(new x($.PI/2)))return new x(0);if(k.isConstant())return $.USE_BIG?new x(h.cos(k.multiplier.toDecimal())):new x(Math.cos(k.valueOf()));if(k.isImaginary())return Gt.evaluate(k,"cos")}if(k.equals(0))return new x(1);var z,We=!1,it=dt(k.multiplier.toDecimal()),Nt=k.multiplier.abs();return k.multiplier=Nt,k.isPi()&&k.isLinear()&&(De(Nt)?z=new x(P(Nt)?1:-1):(Number(Nt.num),(Nt=Number(Nt.den))===2?z=new x(0):Nt===3?(z=p.parse("1/2"),We=!0):Nt===4?(z=p.parse("1/sqrt(2)"),We=!0):Nt===6?(z=p.parse("sqrt(3)/2"),We=!0):z=p.symfunction("cos",[k]))),!We||it!==2&&it!==3||z.negate(),z=z||p.symfunction("cos",[k])},sin:function(k){if($.PARSE2NUMBER){if(k.isConstant())return k%Math.PI==0?new x(0):$.USE_BIG?new x(h.sin(k.multiplier.toDecimal())):new x(Math.sin(k.valueOf()));if(k.isImaginary())return Gt.evaluate(k,"sin")}if(k.equals(0))return new x(0);var z,We=!1,it=dt(k.multiplier.toDecimal()),Nt=k.multiplier.sign(),Dt=k.multiplier.abs();return k.multiplier=Dt,k.equals("pi")?z=new x(0):k.isPi()&&k.isLinear()&&(De(Dt)?z=new x(0):(Dt.num,(Dt=Dt.den)==2?(z=new x(1),We=!0):Dt==3?(z=p.parse("sqrt(3)/2"),We=!0):Dt==4?(z=p.parse("1/sqrt(2)"),We=!0):Dt==6?(z=p.parse("1/2"),We=!0):z=p.multiply(new x(Nt),p.symfunction("sin",[k])))),z=z||p.multiply(new x(Nt),p.symfunction("sin",[k])),!We||it!==3&&it!==4||z.negate(),z},tan:function(k){if($.PARSE2NUMBER){if(k%Math.PI==0&&k.isLinear())return new x(0);if(k.isConstant())return $.USE_BIG?new x(h.tan(k.multiplier.toDecimal())):new x(Math.tan(k.valueOf()));if(k.isImaginary())return Gt.evaluate(k,"tan")}var z,We=!1,it=dt(k.multiplier.toDecimal()),Nt=k.multiplier;if(k.multiplier=Nt,k.isPi()&&k.isLinear())if(De(Nt))z=new x(0);else{if(Nt.num,Nt=Nt.den,Nt==2)throw new Bt("tan is undefined for "+k.toString());Nt==3?(z=p.parse("sqrt(3)"),We=!0):Nt==4?(z=new x(1),We=!0):Nt==6?(z=p.parse("1/sqrt(3)"),We=!0):z=p.symfunction("tan",[k])}return z=z||p.symfunction("tan",[k]),!We||it!==2&&it!==4||z.negate(),z},sec:function(k){if($.PARSE2NUMBER)return k.isConstant()?$.USE_BIG?new x(new h(1).dividedBy(h.cos(k.multiplier.toDecimal()))):new x(En.sec(k.valueOf())):k.isImaginary()?Gt.evaluate(k,"sec"):p.parse(lt("1/cos({0})",k));var z,We=!1,it=dt(k.multiplier.toDecimal()),Nt=k.multiplier.abs();if(k.multiplier=Nt,k.isPi()&&k.isLinear())if(De(Nt))z=new x(P(Nt)?1:-1);else{if(Nt.num,Nt=Nt.den,Nt==2)throw new Bt("sec is undefined for "+k.toString());Nt==3?(z=new x(2),We=!0):Nt==4?(z=p.parse("sqrt(2)"),We=!0):Nt==6?(z=p.parse("2/sqrt(3)"),We=!0):z=p.symfunction("sec",[k])}return!We||it!==2&&it!==3||z.negate(),z=z||p.symfunction("sec",[k])},csc:function(k){if($.PARSE2NUMBER)return k.isConstant()?$.USE_BIG?new x(new h(1).dividedBy(h.sin(k.multiplier.toDecimal()))):new x(En.csc(k.valueOf())):k.isImaginary()?Gt.evaluate(k,"csc"):p.parse(lt("1/sin({0})",k));var z,We=!1,it=dt(k.multiplier.toDecimal()),Nt=k.multiplier.sign(),Dt=k.multiplier.abs();if(k.multiplier=Dt,k.isPi()&&k.isLinear()){if(De(Dt))throw new Bt("csc is undefined for "+k.toString());Dt.num,Dt=Dt.den,Dt==2?(z=new x(1),We=!0):Dt==3?(z=p.parse("2/sqrt(3)"),We=!0):Dt==4?(z=p.parse("sqrt(2)"),We=!0):Dt==6?(z=new x(2),We=!0):z=p.multiply(new x(Nt),p.symfunction("csc",[k]))}return z=z||p.multiply(new x(Nt),p.symfunction("csc",[k])),!We||it!==3&&it!==4||z.negate(),z},cot:function(k){if($.PARSE2NUMBER)return k%(Math.PI/2)==0?new x(0):k.isConstant()?$.USE_BIG?new x(new h(1).dividedBy(h.tan(k.multiplier.toDecimal()))):new x(En.cot(k.valueOf())):k.isImaginary()?Gt.evaluate(k,"cot"):p.parse(lt("1/tan({0})",k));var z,We=!1,it=dt(k.multiplier.toDecimal()),Nt=k.multiplier;if(k.multiplier=Nt,k.isPi()&&k.isLinear()){if(De(Nt))throw new Bt("cot is undefined for "+k.toString());Nt.num,Nt=Nt.den,Nt==2?z=new x(0):Nt==3?(z=p.parse("1/sqrt(3)"),We=!0):Nt==4?(z=new x(1),We=!0):Nt==6?(z=p.parse("sqrt(3)"),We=!0):z=p.symfunction("cot",[k])}return z=z||p.symfunction("cot",[k]),!We||it!==2&&it!==4||z.negate(),z},acos:function(k){if($.PARSE2NUMBER){if(k.isConstant()){if(k.gt(1)||k.lt(-1)){var z=k.toString();return tn(wt(`pi/2-asin(${z})`))}return $.USE_BIG?new x(h.acos(k.multiplier.toDecimal())):new x(Math.acos(k.valueOf()))}if(k.isImaginary())return Gt.evaluate(k,"acos")}return p.symfunction("acos",arguments)},asin:function(k){if($.PARSE2NUMBER){if(k.isConstant()){if(k.gt(1)||k.lt(-1)){var z=$.IMAGINARY,We=k.multiplier.toDecimal();return tn(wt(`${z}*log(sqrt(1-${We}^2)-${z}*${We})`))}return $.USE_BIG?new x(h.asin(k.multiplier.toDecimal())):new x(Math.asin(k.valueOf()))}if(k.isImaginary())return Gt.evaluate(k,"asin")}return p.symfunction("asin",arguments)},atan:function(k){var z;if(k.equals(0))z=new x(0);else{if($.PARSE2NUMBER)return k.isConstant()?$.USE_BIG?new x(h.atan(k.multiplier.toDecimal())):new x(Math.atan(k.valueOf())):k.isImaginary()?Gt.evaluate(k,"atan"):p.symfunction("atan",arguments);z=k.equals(-1)?p.parse("-pi/4"):p.symfunction("atan",arguments)}return z},asec:function(k){if($.PARSE2NUMBER){if(k.equals(0))throw new zt("Input is out of the domain of sec!");if(k.isConstant())return bt.acos(k.invert());if(k.isImaginary())return Gt.evaluate(k,"asec")}return p.symfunction("asec",arguments)},acsc:function(k){if($.PARSE2NUMBER){if(k.isConstant())return bt.asin(k.invert());if(k.isImaginary())return Gt.evaluate(k,"acsc")}return p.symfunction("acsc",arguments)},acot:function(k){if($.PARSE2NUMBER){if(k.isConstant())return new p.add(p.parse("pi/2"),bt.atan(k).negate());if(k.isImaginary())return Gt.evaluate(k,"acot")}return p.symfunction("acot",arguments)},atan2:function(k,z){if(k.equals(0)&&z.equals(0))throw new Bt("atan2 is undefined for 0, 0");return $.PARSE2NUMBER&&k.isConstant()&&z.isConstant()?new x(Math.atan2(k,z)):p.symfunction("atan2",arguments)}},un=this.trigh={cosh:function(k){if($.PARSE2NUMBER){if(k.isConstant())return new x(Math.cosh(k.valueOf()));if(k.isImaginary())return Gt.evaluate(k,"cosh")}return p.symfunction("cosh",arguments)},sinh:function(k){if($.PARSE2NUMBER){if(k.isConstant())return new x(Math.sinh(k.valueOf()));if(k.isImaginary())return Gt.evaluate(k,"sinh")}return p.symfunction("sinh",arguments)},tanh:function(k){if($.PARSE2NUMBER){if(k.isConstant())return new x(Math.tanh(k.valueOf()));if(k.isImaginary())return Gt.evaluate(k,"tanh")}return p.symfunction("tanh",arguments)},sech:function(k){return $.PARSE2NUMBER?k.isConstant()?new x(Math.sech(k.valueOf())):k.isImaginary()?Gt.evaluate(k,"sech"):p.parse(lt("1/cosh({0})",k)):p.symfunction("sech",arguments)},csch:function(k){return $.PARSE2NUMBER?k.isConstant()?new x(Math.csch(k.valueOf())):k.isImaginary()?Gt.evaluate(k,"csch"):p.parse(lt("1/sinh({0})",k)):p.symfunction("csch",arguments)},coth:function(k){return $.PARSE2NUMBER?k.isConstant()?new x(Math.coth(k.valueOf())):k.isImaginary()?Gt.evaluate(k,"coth"):p.parse(lt("1/tanh({0})",k)):p.symfunction("coth",arguments)},acosh:function(k){return k=$.PARSE2NUMBER&&k.isImaginary()?Gt.evaluate(k,"acosh"):$.PARSE2NUMBER?wt(p.parse(lt($.LOG+"(({0})+sqrt(({0})^2-1))",k.toString()))):p.symfunction("acosh",arguments),k},asinh:function(k){return k=$.PARSE2NUMBER&&k.isImaginary()?Gt.evaluate(k,"asinh"):$.PARSE2NUMBER?wt(p.parse(lt($.LOG+"(({0})+sqrt(({0})^2+1))",k.toString()))):p.symfunction("asinh",arguments),k},atanh:function(k){return k=$.PARSE2NUMBER&&k.isImaginary()?Gt.evaluate(k,"atanh"):$.PARSE2NUMBER?wt(p.parse(lt("(1/2)*"+$.LOG+"((1+({0}))/(1-({0})))",k.toString()))):p.symfunction("atanh",arguments),k},asech:function(k){return k=$.PARSE2NUMBER&&k.isImaginary()?Gt.evaluate(k,"asech"):$.PARSE2NUMBER?wt(Xe(p.add(k.clone().invert(),Hn(p.subtract(p.pow(k,new x(-2)),new x(1)))))):p.symfunction("asech",arguments),k},acsch:function(k){return k=$.PARSE2NUMBER&&k.isImaginary()?Gt.evaluate(k,"acsch"):$.PARSE2NUMBER?wt(p.parse(lt($.LOG+"((1+sqrt(1+({0})^2))/({0}))",k.toString()))):p.symfunction("acsch",arguments),k},acoth:function(k){return k=$.PARSE2NUMBER&&k.isImaginary()?Gt.evaluate(k,"acoth"):$.PARSE2NUMBER?k.equals(1)?x.infinity():wt(p.divide(Xe(p.divide(p.add(k.clone(),new x(1)),p.subtract(k.clone(),new x(1)))),new x(2))):p.symfunction("acoth",arguments),k}},Yt={"\\":{precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!(this.units={}),leftAssoc:!0,operation:function(k){return k}},"!!":{precedence:7,operator:"!!",action:"dfactorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(k){return p.symfunction($.DOUBLEFACTORIAL,[k])}},"!":{precedence:7,operator:"!",action:"factorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:nr},"^":{precedence:6,operator:"^",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"**":{precedence:6,operator:"**",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"%":{precedence:4,operator:"%",action:"percent",prefix:!1,postfix:!0,leftAssoc:!0,overloaded:!0,overloadAction:"mod",overloadLeftAssoc:!1,operation:function(k){return p.divide(k,new x(100))}},"*":{precedence:4,operator:"*",action:"multiply",prefix:!1,postfix:!1,leftAssoc:!1},"/":{precedence:4,operator:"/",action:"divide",prefix:!1,postfix:!1,leftAssoc:!1},"+":{precedence:3,operator:"+",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(k){return k}},plus:{precedence:3,operator:"plus",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(k){return k}},"-":{precedence:3,operator:"-",action:"subtract",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(k){return k.negate()}},"=":{precedence:2,operator:"=",action:"equals",prefix:!1,postfix:!1,leftAssoc:!1},"==":{precedence:1,operator:"==",action:"eq",prefix:!1,postfix:!1,leftAssoc:!1},"<":{precedence:1,operator:"<",action:"lt",prefix:!1,postfix:!1,leftAssoc:!1},"<=":{precedence:1,operator:"<=",action:"lte",prefix:!1,postfix:!1,leftAssoc:!1},">":{precedence:1,operator:">",action:"gt",prefix:!1,postfix:!1,leftAssoc:!1},"=>":{precedence:1,operator:"=>",action:"gte",prefix:!1,postfix:!1,leftAssoc:!1},",":{precedence:0,operator:",",action:"comma",prefix:!1,postfix:!1,leftAssoc:!1},":":{precedence:0,operator:",",action:"assign",prefix:!1,postfix:!1,leftAssoc:!1,vectorFn:"slice"},":=":{precedence:0,operator:",",action:"function_assign",prefix:!1,postfix:!1,leftAssoc:!0}},fn={"(":{type:"round",id:1,is_open:!0,is_close:!1},")":{type:"round",id:2,is_open:!1,is_close:!0},"[":{type:"square",id:3,is_open:!0,is_close:!1,maps_to:"vector"},"]":{type:"square",id:4,is_open:!1,is_close:!0},"{":{type:"curly",id:5,is_open:!0,is_close:!1,maps_to:"Set"},"}":{type:"curly",id:6,is_open:!1,is_close:!0}},Un=this.functions={cos:[bt.cos,1],sin:[bt.sin,1],tan:[bt.tan,1],sec:[bt.sec,1],csc:[bt.csc,1],cot:[bt.cot,1],acos:[bt.acos,1],asin:[bt.asin,1],atan:[bt.atan,1],arccos:[bt.acos,1],arcsin:[bt.asin,1],arctan:[bt.atan,1],asec:[bt.asec,1],acsc:[bt.acsc,1],acot:[bt.acot,1],atan2:[bt.atan2,2],acoth:[un.acoth,1],asech:[un.asech,1],acsch:[un.acsch,1],sinh:[un.sinh,1],cosh:[un.cosh,1],tanh:[un.tanh,1],asinh:[un.asinh,1],sech:[un.sech,1],csch:[un.csch,1],coth:[un.coth,1],acosh:[un.acosh,1],atanh:[un.atanh,1],log10:[,1],exp:[function(k){return k.fname===$.LOG&&k.isLinear()?p.pow(k.args[0],x.create(k.multiplier)):p.parse(lt("e^({0})",k))},1],radians:[function(k){return p.parse(lt("({0})*pi/180",k))},1],degrees:[function(k){return p.parse(lt("({0})*180/pi",k))},1],min:[function(){var k=[].slice.call(arguments);return xe(k)?k[0]:Y(k)?new x(Math.min.apply(null,k)):$.SYMBOLIC_MIN_MAX&&Ee(k)?Se("min",k):p.symfunction("min",k)},-1],max:[function(){var k=[].slice.call(arguments);return xe(k)?k[0]:Y(k)?new x(Math.max.apply(null,k)):$.SYMBOLIC_MIN_MAX&&Ee(k)?Se("max",k):p.symfunction("max",k)},-1],erf:[,1],floor:[,1],ceil:[,1],trunc:[,1],Si:[,1],step:[,1],rect:[,1],sinc:[function(k){return $.PARSE2NUMBER?k.isConstant()?new x(En.sinc(k)):p.parse(lt("sin({0})/({0})",k)):p.symfunction("sinc",[k])},1],tri:[,1],sign:[function(k){return k.isConstant(!0)?new x(Math.sign(wt(k))):p.symfunction("sign",arguments)},1],Ci:[,1],Ei:[,1],Shi:[,1],Chi:[,1],Li:[,1],fib:[,1],fact:[nr,1],factorial:[nr,1],continued_fraction:[function(k,z){return k=wt(k),k.isConstant()?(k=En.continuedFraction(k,z),z=ge.fromArray(k.fractions.map(function(We){return new x(We)})),ge.fromArray([new x(k.sign),new x(k.whole),z])):p.symfunction("continued_fraction",arguments)},[1,2]],dfactorial:[,1],gamma_incomplete:[,[1,2]],round:[pt,[1,2]],scientific:[function(k,z){return k.scientific=z||10,k},[1,2]],mod:[or,2],pfactor:[ei,1],vector:[function(){return new ge([].slice.call(arguments))},-1],matrix:[function(){return be.fromArray(arguments)},-1],Set:[function(){return Le.fromArray(arguments)},-1],imatrix:[function(k){return be.identity(k)},-1],parens:[function(k){return $.PARSE2NUMBER?k:p.symfunction("parens",[k])},-1],sqrt:[Hn,1],cbrt:[mr,1],nthroot:[Er,2],log:[Xe,[1,2]],expand:[function(k,z){return tn(k,z=z||{expand_denominator:!0,expand_functions:!0})},1],abs:[er,1],invert:[function(k){if(Me(k))return k.invert();de("invert expects a matrix")},1],determinant:[function(k){return Me(k)?k.determinant():k},1],size:[function(k){var z;return Me(k)?z=[new x(k.cols()),new x(k.rows())]:Ht(k)||ut(k)?z=new x(k.elements.length):de("size expects a matrix or a vector"),z},1],transpose:[function(k){if(Me(k))return k.transpose();de("function transpose expects a matrix")},1],dot:[function(k,z){if(Ht(k)&&Ht(z))return k.dot(z);de("function dot expects 2 vectors")},2],cross:[function(k,z){if(Ht(k)&&Ht(z))return k.cross(z);de("function cross expects 2 vectors")},2],vecget:[function(k,z){return z.isConstant()&&De(z)?k.elements[z]:p.symfunction("vecget",arguments)},2],vecset:[function(k,z,We){return z.isConstant?(k.elements[z]=We,k):p.symfunction("vecset",arguments)},3],vectrim:[function(k,z){return z=z===void 0?1e-14:z,k=k.clone(),z=Number(z),k.elements.sort(function(We,it){return it.group-We.group}),k.elements=ke(k.elements,function(We,it){return Number(p.subtract(wt(We),wt(it)).abs())<=z}),k},[1,2]],matget:[function(k,z,We){return z.isConstant()&&We.isConstant()?k.elements[z][We]:p.symfunction("matget",arguments)},3],matset:[function(k,z,We,it){return k.elements[z][We]=it,k},4],matgetrow:[function(k,z){return z.isConstant()?new be(k.elements[z]):p.symfunction("matgetrow",arguments)},2],matsetrow:[function(k,z,We){if(!z.isConstant())return p.symfunction("matsetrow",arguments);if(k.elements[z].length!==We.elements.length)throw new St("Matrix row must match row dimensions!");return k=k.clone(),k.elements[z]=We.clone().elements,k},3],matgetcol:[function(k,z){if(!z.isConstant())return p.symfunction("matgetcol",arguments);z=Number(z);var We=be.fromArray([]);return k.each(function(it,Nt,Dt){Dt===z&&We.elements.push([it.clone()])}),We},2],matsetcol:[function(k,z,We){if(!z.isConstant())return p.symfunction("matsetcol",arguments);if(z=Number(z),k.rows()!==We.elements.length)throw new St("Matrix columns must match number of columns!");return We.each(function(it,Nt){k.set(Nt-1,z,it.elements[0].clone())}),k},3],rationalize:[Cn,1],IF:[function(k,z,We){return typeof k!="boolean"&&en(k)&&(k=!!Number(k)),k?z:We},3],is_in:[function(k,z){if(Me(k)){for(var We=0,it=k.rows();We<it;We++)for(var Nt=0,Dt=k.cols();Nt<Dt;Nt++)if(k.elements[We][Nt].equals(z))return new x(1)}else if(k.elements){for(We=0,it=k.elements.length;We<it;We++)if(k.elements[We].equals(z))return new x(1)}return new x(0)},2],realpart:[hr,1],imagpart:[v,1],conjugate:[H,1],arg:[ue,1],polarform:[function(k){var z;return z=x.toPolarFormArray(k),k=z[1],z=z[0],k=p.parse(lt("e^({0}*({1}))",$.IMAGINARY,k)),p.multiply(z,k)},1],rectform:[function(k){var z,We,it,Nt,Dt,cn=k.clone();try{return z=Vt(k,"e",!0),We=p.divide(z.x.power,x.imaginary()),it=wt(bt.tan(We)),p.pow(z.a,new x(2)),Nt=it.getDenom(!0),Dt=it.getNum(),x.hyp(Dt,Nt).equals(z.a)?p.add(Nt,p.multiply(x.imaginary(),Dt)):cn}catch{return cn}},1],sort:[function(k,z){z=z?z.toString():"asc";var We=function(it){return it.group===le?it.multiplier:it.group===ce?it.fname===""?We(it.args[0]):it.fname:it.group===Ce?it.power:it.value};return new ge((Ht(k)?k.elements:k.collectSymbols()).sort(function(it,Nt){return it=We(it),Nt=We(Nt),z==="desc"?Nt-it:it-Nt}))},[1,2]],integer_part:[,1],union:[function(k,z){return k.union(z)},2],contains:[function(k,z){return k.contains(z)},2],intersection:[function(k,z){return k.intersection(z)},2],difference:[function(k,z){return k.difference(z)},2],intersects:[function(k,z){return new x(Number(k.intersects(z)))},2],is_subset:[function(k,z){return new x(Number(k.is_subset(z)))},2],print:[function(){Ot(arguments).map(function(k){console.log(k.toString())})},-1]};this.error=de,this.override=function(k,z){D[k]||(D[k]=[]),D[k].push(this[k]),this[k]=z},this.restore=function(k){this[k]&&(this[k]=D[k].pop())},this.extend=function(k,z,We){var it,Nt=this;typeof this[k]=="function"&&typeof z=="function"&&(it=this[k],this[k]=function(Dt,cn){return nt(Dt)&&nt(cn)&&!We?it.call(Nt,Dt,cn):z.call(Nt,Dt,cn,it)})},this.symfunction=function(k,z){var We=new x(k);return We.group=ce,typeof z=="object"&&(z=[].slice.call(z)),We.args=z,We.fname=k===O?"":k,We.updateHash(),We},this.callfunction=function(k,z,We){var it=Un[k];it||de("Nerdamer currently does not support the function "+k);var Nt,Dt=it[1]||We,cn=it[0];z instanceof Array||(z=z!==void 0?[z]:[]),Dt!==-1&&(Nt=(Sn=nn(Dt))?Dt[0]:Dt,We=Sn?Dt[1]:Dt,Dt=k+" requires a {0} of {1} arguments. {2} provided!",(Sn=z.length)<Nt&&de(lt(Dt,"minimum",Nt,Sn)),We<Sn&&de(lt(Dt,"maximum",We,Sn)));var Sn=Y(z);return cn?cn.apply(it[2],z):(cn=(function(hn){for(var bn=$.FUNCTION_MODULES,zn=bn.length,xn=0;xn<zn;xn++){var Ir=bn[xn];if(hn in Ir)return Ir[hn]}de("The function "+hn+" is undefined!")})(k),$.PARSE2NUMBER&&Sn?Ze(cn.apply(cn,z)):p.symfunction(k,z))},this.operator_filter_regex=(un="^\\"+Object.keys(Yt).filter(function(k){if(k.length===1)return k}).join("\\"),new RegExp("(["+un+"])\\s+(["+un+"])")),this.setOperator=function(k,z,We){var it=k.operator;if(Yt[it]=k,z&&(this[k.action]=z),p[it]=k.operation,k.action||k.prefix||k.postif||(k.action=it),We==="over"||We==="under"){var Nt,Dt=k.precedence;for(Nt in Yt){var cn=Yt[Nt];(We==="over"?cn.precedence>=Dt:cn.precedence>Dt)&&cn.precedence++}}},this.getOperator=function(k){return Yt[k]},this.aliasOperator=function(k,z){var We,it={},Nt=Yt[k];for(We in Nt)it[We]=Nt[We];it.operator=z,this.setOperator(it)},this.getOperators=function(){return Yt},this.getBrackets=function(){return fn};function Xt(k){this.type=k.type,this.value=k.value,this.left=k.left,this.right=k.right}this.initConstants=function(){this.CONSTANTS={E:new x($.E),PI:new x($.PI)}},this.pretty_print=function(k){if(Array.isArray(k)){var z=k.map(We=>p.pretty_print(We)).join(", ");return k.type==="vector"?"vector<"+z+">":"("+z+")"}return k.toString()},this.peekers={pre_operator:[],post_operator:[],pre_function:[],post_function:[]},this.callPeekers=function(k){if($.callPeekers)for(var z=this.peekers[k],We=Ot(arguments).slice(1).map(se),it=0;it<z.length;it++)z[it].apply(null,We)},this.tokenize=function(k){for(var z in k=(k=String(k)).trim().replace(/\s+/g," "),fn){var We=new RegExp(fn[z].is_close?"\\s+\\"+z:"\\"+z+"\\s+","g");k=k.replace(We,z)}for(var it=0,Nt=k.length,Dt=0,cn=[],Sn=[cn],hn=Sn[0],bn=0,zn=[],xn=!1,Ir=function(cr,Tr){var Kr=[];cr!==void 0&&(Kr.type=cr),Kr.column=Tr,Sn.push(Kr),hn.push(Kr),hn=Kr,bn++},qn=function(){Sn.pop(),hn=Sn[--bn]},mn=function(cr,Tr){(Tr=Tr===void 0?k.substring(Dt,cr):Tr)in p.units?hn.push(new _t(Tr,_t.UNIT,Dt)):Tr!==""&&hn.push(new _t(Tr,_t.VARIABLE_OR_LITERAL,Dt))},dr=function(cr){hn.push(new _t(cr,_t.FUNCTION,Dt))},kr=function(cr){Dt=cr+1};it<Nt;it++){var yr=k.charAt(it);if(yr in Yt){mn(it);var fr=hn[0]&&et(hn[0]);xn&&Dt<it&&yr!==","&&!(fr&&yr==="*")&&(xn=!1,qn()),kr(it+1);var vr=(function(Tr){for(var Kr=(Tr=Tr!==void 0?Tr:it)+1;k.charAt(Kr++)in Yt;);return k.substring(Tr,Kr-1)})(it),it=(Dt=Dt+vr.length-2)-1;hn.push.apply(hn,(function(Tr){for(var Kr=it-Tr.length,Vn=[],Wi=Tr.charAt(0),Fr=1,Zr=Tr.length;Fr<Zr;Fr++)var ss=Tr.charAt(Fr),go=Wi+ss,Wi=go in Yt?go:(Vn.push(new _t(Wi,_t.OPERATOR,Kr+Fr)),ss);return Vn.push(new _t(Wi,_t.OPERATOR,Kr+Fr)),Vn})(vr))}else if(yr in fn){var lr,_r=fn[yr];if(_r.is_open)zn.push([_r,Dt]),(lr=k.substring(Dt,it))in Un?dr(lr):lr!==""&&hn.push(new _t(lr,_t.VARIABLE_OR_LITERAL,Dt)),Ir(_r.maps_to,it);else if(_r.is_close){var Dn=zn.pop();if(!Dn)throw new X("Missing open bracket for bracket at: "+(it+1));if(Dn[0].id!==_r.id-1)throw new X("Parity error");mn(it),qn()}kr(it)}else yr===" "&&(Dn=k.substring(Dt,it),_r=k.charAt(it+1),xn?(Dn in Yt?hn.push(new _t(Dn,_t.OPERATOR,it)):(mn(void 0,Dn),qn(),((yr=_r in Yt)&&Yt[_r].value==="-"||!yr)&&hn.push(new _t("*",_t.OPERATOR,it))),xn=!1):(lr=k.substring(Dt,it))in Un?(xn=!0,dr(lr),Ir()):lr in Yt?hn.push(new _t(lr,_t.OPERATOR,it)):(mn(void 0,lr),_r=k.charAt(it+1),Dn===""||_r===""||Dn in Yt||_r in Yt||hn.push(new _t("*",_t.OPERATOR,it))),kr(it))}if(zn.length){var Mr=zn.pop();throw new X("Missing closed bracket for bracket at "+(Mr[1]+1))}return mn(it),cn},this.toRPN=function(k){for(var z=k.type,We=k.length,it=[],Nt=[],Dt=[],cn=function(dr,kr){for(;dr.length;)kr.push(dr.pop())},Sn=0;Sn<We;Sn++){var hn=k[Sn];if(hn.type!==_t.OPERATOR)break;if(!hn.prefix)throw new we("Not a prefix operator");hn.is_prefix=!0,Nt.push(hn)}for(;Sn<We;Sn++){var bn=k[Sn];if(bn.type===_t.OPERATOR){var zn=bn;for(zn.overloaded&&(qn=k[Sn+1])&&qn.type===_t.VARIABLE_OR_LITERAL&&(zn.postfix=!1,zn.action=zn.overloadAction,zn.leftAssoc=zn.overloadLeftAssoc);Nt.length;){var xn=Nt[Nt.length-1];if(!(xn.precedence>zn.precedence||!zn.leftAssoc&&xn.precedence===zn.precedence))break;it.push(Nt.pop())}if((z==="vector"||z==="set")&&"vectorFn"in zn&&(zn.action=zn.vectorFn),zn.postfix){var Ir=k[Sn-1];if(!Ir)throw new we("Unexpected prefix operator '"+bn.value+"'! at "+bn.column);if(Ir.type===_t.OPERATOR&&!Ir.postfix)throw new we("Unexpected prefix operator '"+Ir.value+"'! at "+Ir.column)}else do{var qn,mn=!!(qn=k[Sn+1])&&qn.type===_t.OPERATOR;if(mn){if(!qn.prefix)throw new we("A prefix operator was expected at "+qn.column);qn.is_prefix=!0,Dt.push(qn),Sn++}}while(mn);for((zn.is_prefix?Dt:Nt).push(zn);Dt.length&&(zn.leftAssoc||!zn.leftAssoc&&Dt[Dt.length-1].precedence>=zn.precedence);)Nt.push(Dt.pop())}else bn.type===_t.VARIABLE_OR_LITERAL?(it.length===0&&cn(Dt,Nt),it.push(bn),(Ir=Nt[Nt.length-1])&&Ir.leftAssoc||cn(Dt,it)):bn.type===_t.FUNCTION?Nt.push(bn):bn.type===_t.UNIT&&it.push(bn);Array.isArray(bn)&&(it.push(this.toRPN(bn)),bn.type&&it.push(new _t(bn.type,_t.FUNCTION,bn.column)))}return cn(Nt,it),cn(Dt,it),it},this.parseRPN=function(k,z){try{for(var We in z=z||{})z[We]=p.parse(z[We],{});$.PARSE2NUMBER&&("e"in z||(z.e=new x($.E)),"pi"in z||(z.pi=new x($.PI)));for(var it=[],Nt=0,Dt=k.length;Nt<Dt;Nt++){var cn=k[Nt];if(cn=Array.isArray(cn)?this.parseRPN(cn,z):cn)if(cn.type===_t.OPERATOR)if(cn.is_prefix||cn.postfix)it.push(cn.operation(it.pop()));else{var Sn=it.pop(),hn=it.pop();if(hn===void 0)throw new we(cn+" is not a valid postfix operator at "+cn.column);var bn=cn.action==="comma";hn instanceof Le&&!bn&&(hn=ge.fromSet(hn)),Sn instanceof Le&&!bn&&(Sn=ge.fromSet(Sn)),this.callPeekers("pre_operator",hn,Sn,cn);var zn=p[cn.action](hn,Sn);this.callPeekers("post_operator",zn,hn,Sn,cn),it.push(zn)}else if(cn.type===_t.FUNCTION){var xn=it.pop(),Ir=xn.parent;xn instanceof He||(xn=He.create(xn));var qn=cn.value,mn=xn.getItems();this.callPeekers("pre_function",qn,mn);var dr=p.callfunction(qn,mn);this.callPeekers("post_function",dr,qn,mn);var kr=it[it.length-1],yr=k[Nt+1];if(!(yr&&yr.type===_t.OPERATOR&&yr.value===",")&&dr instanceof ge&&kr&&kr.elements&&!(kr instanceof He)){var fr=it.pop(),vr=dr.elements[0];if(vr.isConstant())if(vr instanceof me)it.push(ge.fromArray(fr.elements.slice(vr.start,vr.end)));else{var lr=Number(vr),_r=fr.elements.length;if((lr=lr<0?_r+lr:lr)<0||_r<=lr)throw new tt("Index out of range "+(cn.column+1));var Dn=fr.elements[lr];fr.getter=lr,Dn.parent=fr,it.push(Dn)}else fr.getter=vr,it.push(fr),it.push(dr)}else Ir&&(dr.parent=Ir),it.push(dr)}else{var Mr,cr=cn.value;cr in $.ALIASES?cn=p.parse($.ALIASES[cn]):cn.type===_t.VARIABLE_OR_LITERAL?cn=new x(cr):cn.type===_t.UNIT&&((cn=new x(cr)).isUnit=!0),cr in p.CONSTANTS?(Mr=cn,cn=new x(p.CONSTANTS[cr])):cr in z&&cr!==z[cr].toString()?(Mr=cn,cn=z[cr].clone()):cr in fe&&(Mr=cn,cn=fe[cr].clone()),Mr&&(cn.subbed=Mr),it.push(cn)}}var Tr=it[0];if(["undefined","string","number"].indexOf(typeof Tr)!==-1)throw new wr("Unexpected token!");return Tr}catch(Kr){throw[zt].forEach(function(Vn){if(Kr instanceof Vn)throw new Vn(Kr.message+": "+cn.column)}),new Lt(Kr.message+": "+cn.column)}},Xt.prototype.toString=function(){var k=this.left?this.left.toString()+"---":"",z=this.right?"---"+this.right.toString():"";return k+"("+this.value+")"+z},Xt.prototype.toHTML=function(k,z){k=k||0,z=z===void 0?4:z;function We(cn){return" ".repeat(z*cn)}var Dt="",it=this.left?We(k+1)+`<li>
`+this.left.toHTML(k+2,z)+We(k+1)+`</li> 
`:"",Nt=this.right?We(k+1)+`<li>
`+this.right.toHTML(k+2,z)+We(k+1)+`</li>
`:"",Dt=We(k)+'<div class="'+this.type.toLowerCase()+'"><span>'+this.value+"</span></div>"+We(k)+`
`;return(it||Nt)&&(Dt+=We(k)+`<ul>
`+it+Nt+We(k)+`</ul>
`),Dt+=""},this.tree=function(k){for(var z=[],We=0;We<k.length;We++){var it=k[We];if(Array.isArray(it))it=this.tree(it),z.push(it);else if(it.type===_t.OPERATOR)it.is_prefix||it.postfix?(Dt=it.is_prefix?"left":"right",Nt=z.pop(),(it=new Xt(it))[Dt]=Nt):((it=new Xt(it)).right=z.pop(),it.left=z.pop()),z.push(it);else if(it.type===_t.FUNCTION){it=new Xt(it);var Nt,Dt=z.pop();if(it.right=Dt,it.value==="object"&&(Nt=z[z.length-1])){for(;Nt.right;)Nt=Nt.right;Nt.right=it;continue}z.push(it)}else z.push(new Xt(it))}return z[0]},this.parse=function(k,z){return k=(function(We){We=String(We);for(var it=0;it<Q.actions.length;it++)We=Q.actions[it].call(this,We);for(We=We.replace(/\s+/g," "),We=(We=/e/gi.test(We)?We.replace(/\-*\d+\.*\d*e\+?\-?\d+/gi,function(Nt){return Ft(Nt)}):We).replace($.IMPLIED_MULTIPLICATION_REGEX,function(){var Nt=arguments[4],Dt=arguments[1],cn=arguments[2],Sn=arguments[3],hn="",bn="*";return Dt+(bn=(hn=Nt.charAt(Sn).match(/[\+\-\/\*]/)?hn:Nt.charAt(Sn-1)).match(/[a-z]/i)?"":bn)+cn}).replace(/([a-z0-9_]+)/gi,function(Nt,Dt){return!($.USE_MULTICHARACTER_VARS!==!1||Dt in Un)&&isNaN(Dt)?Dt.split("").join("*"):Dt}).replace(/\)\(/g,")*(")||"0";We!==(We=We.replace(/([a-z0-9_]+)(\()|(\))([a-z0-9]+)/gi,function(Nt,Dt,cn,Sn,hn){return Sn=Dt||Sn,hn=cn||hn,Sn in Un?Sn+hn:Sn+"*"+hn})););return We})(k),z=z||{},k=this.tokenize(k),k=this.toRPN(k),this.parseRPN(k,z)},this.toObject=function(k){var z=function(We){for(var it=[],Nt=0,Dt=We.length;Nt<Dt;Nt++){var cn,Sn=We[Nt],hn=Sn.value;Sn.type===_t.VARIABLE_OR_LITERAL?it.push(new x(hn)):Sn.type===_t.FUNCTION?(Nt++,(cn=p.symfunction(hn,z(We[Nt]))).isConversion=!0,it.push(cn)):Sn.type===_t.OPERATOR?it.push(hn):it.push(z(Sn))}return it};return z(p.tokenize(k))};function Ke(k){for(var z=0,We=[[]],it=0,Nt=k.length;it<Nt;it++)k[it]===","?We[++z]=[]:We[z].push(k[it]);return We}function Pn(k){return k.replace(/^\\left\((.+)\\right\)$/g,function(z,We){return We||z})}function er(k){if(k.isInfinity)return x.infinity();if(k.multiplier.lessThan(0)&&k.multiplier.negate(),k.isImaginary()){var z=k.realpart(),We=k.imagpart();if(z.isConstant()&&We.isConstant())return Hn(p.add(p.pow(z,new x(2)),p.pow(We,new x(2))))}else if(en(k)||P(k.power))return k;var it;return k.isComposite()&&(it=[],k.each(function(Nt){it.push(Nt.multiplier)}),En.QGCD.apply(null,it).lessThan(0)&&(k.multiplier=k.multiplier.multiply(new ie(-1)),k.distributeMultiplier())),We=p.parse(k.multiplier),k.toUnitMultiplier(),p.multiply(We,p.symfunction(R,[k]))}function nr(k){if(Ht(k)){var z=new ge;return k.each(function(cn,Sn){z.set(Sn-1,nr(cn))}),z}if(Me(k)){var We=new be;return k.each(function(cn,Sn,hn){We.set(Sn,hn,nr(cn))}),We}if($.PARSE2NUMBER&&k.isConstant())return Ze(De(k)?En.bigfactorial(k):En.gamma(k.multiplier.add(new ie(1)).toDecimal()));if(k.isConstant()&&k.getDenom().equals(2)){var it,Nt=k.getNum(),Dt=k.multiplier.isNegative()?(Dt=p.subtract(Nt.negate(),new x(1)).multiplier.divide(new ie(2)),it=p.pow(new x(-4),new x(Dt)).multiplier.multiply(En.bigfactorial(Dt)),En.bigfactorial(new ie(2).multiply(Dt))):(Dt=p.add(Nt,new x(1)).multiplier.divide(new ie(2)),it=En.bigfactorial(new ie(2).multiply(Dt)),p.pow(new x(4),new x(Dt)).multiplier.multiply(En.bigfactorial(Dt))),Dt=it.divide(Dt);return p.multiply(p.parse("sqrt(pi)"),new x(Dt))}return p.symfunction(B,[k])}function or(k,z){if(k.isConstant()&&z.isConstant()){var We=new x(1);return We.multiplier=We.multiplier.multiply(k.multiplier.mod(z.multiplier)),We}return We=p.divide(k.clone(),z.clone()),De(We)?new x(0):p.symfunction("mod",[k,z])}function Cn(k){if(k.isComposite()){var z,We,it,Nt,Dt=new x(0);return k.each(function(cn){it=cn.getNum(),Nt=cn.getDenom(),We=Dt.getNum(),z=Dt.getDenom(),We=p.multiply(Nt,We),it=p.multiply(it,z),it=p.expand(p.add(We,it)),Nt=p.multiply(z,Nt),Dt=p.divide(it,Nt)},!0),Dt}return k}function Hn(k){if((k=nt(k)?k:p.parse(k)).group===Oe)return p.symfunction(N,[k]);var z=(k=k.fname===""&&k.power.equals(1)?k.args[0]:k).multiplier.sign()<0;if($.PARSE2NUMBER){if(k.isConstant()&&!z)return new x(h.sqrt(k.multiplier.toDecimal()));if(k.isImaginary())return Gt.sqrt(k);if(k.group===Ce)return p.symfunction("sqrt",[k])}var We,it=k.isConstant();if(k.group===je&&k.isLinear()){var Nt=Hn(x(k.multiplier));for(cn in k.symbols){var Dt=k.symbols[cn];Nt=p.multiply(Nt,Hn(Dt))}bn=Nt}else if(k.fname===N){var cn=k.args[0],hn=k.multiplier;cn.setPower(k.power.multiply(new ie(.25))),bn=cn,hn.equals(1)||(bn=p.multiply(Hn(p.parse(hn)),bn))}else if(k.power.isInteger())if(k.multiplier<0&&k.group===Ce)var Sn=p.parse(k.multiplier).negate(),hn=p.parse(k).toUnitMultiplier().negate(),bn=p.multiply(p.symfunction($.SQRT,[hn]),Hn(Sn));else{Sn=k.power.sign(),k.power=k.power.abs(),it&&k.multiplier.lessThan(0)&&(We=x.imaginary(),k.multiplier=k.multiplier.abs());var zn=k.multiplier.toDecimal(),it=Math.abs(zn),it=Math.sqrt(it);if(De(it))Nt=new x(it);else if(De(zn)){var xn=En.ifactor(zn),Ir=1;for(Dt in xn){var qn,mn=(dr=xn[Dt])-dr%2;mn&&(qn=Math.pow(Dt,mn),Ir*=Math.pow(Dt,mn/2),zn/=qn)}Nt=p.multiply(p.symfunction(N,[new x(zn)]),new x(Ir))}else{for(var dr,kr=[new x(k.multiplier.num),new x(k.multiplier.den)],yr=[new x(1),new x(1)],fr=[new x(1),new x(1)],vr=0;vr<2;vr++)ei(dr=kr[vr]).each(function(cr){var Dn=(cr=x.unwrapPARENS(cr)).clone().toLinear(),Mr=Number(cr.power),cr=Mr%2;yr[vr]=p.multiply(yr[vr],p.pow(Dn,new x((Mr-cr)/2))),fr[vr]=p.multiply(fr[vr],Hn(p.pow(Dn,new x(cr))))});Nt=p.divide(p.multiply(yr[0],fr[0]),p.multiply(yr[1],fr[1]))}bn=(k=k.toUnitMultiplier(!0)).isOne()?k:P(k.power.toString())?p.pow(k.clone(),new x(.5)):p.symfunction(N,[k]),Sn<0&&bn.power.negate(),Nt&&(bn=p.multiply(Nt,bn)),We&&(bn=p.multiply(We,bn))}else k.setPower(k.power.multiply(new ie(.5))),bn=k;return z&&$.PARSE2NUMBER?p.parse(bn):bn}function mr(Nt){if(Nt.isConstant(!0))return Er(Nt,new x(3));var z,We=Nt.power/3,it=p.pow(p.parse(Nt.multiplier),new x(1/3)),Nt=Nt.toUnitMultiplier();return De(We)?z=p.pow(Nt.toLinear(),p.parse(We)):Nt.group===je?(z=new x(1),Nt.each(function(Dt){z=p.multiply(z,mr(Dt))})):z=p.symfunction("cbrt",[Nt]),p.multiply(it,z)}function Er(k,z,We,it){if((z=wt(p.parse(z))).equals(0))throw new Bt("Unable to calculate nthroots of zero");if(k<0&&P(z))throw new Error("Cannot calculate nthroot of negative number for even powers");if(!k.isConstant(!0))return p.symfunction("nthroot",arguments);it===void 0&&(it=!0),We=We||25;var Nt=(k=k.group!==le?wt(k):k).sign();if(Nt<0&&(k=er(k)),De(k)&&z.isConstant()){var Dt,z=k<18446744073709552e3?ie.create(Math.pow(k,1/z)):En.nthroot(k,z);return it&&(Dt=new x(z)),Dt=new x(z.toDecimal(We)),p.multiply(new x(Nt),Dt)}}function ei(k){if(k.greaterThan(9999999999998891e26)||k.equals(-1))return k;if(k.equals(Math.PI))return new x(Math.PI);if((k=wt(k.clone())).isConstant()){var z=new x(1),We=k.toString();if(De(We)){var it,Nt=En.ifactor(We);for(it in Nt)var Dt=Nt[it],z=p.multiply(z,p.symfunction("parens",[new x(it).setPower(new ie(Dt))]))}else We=ei(new x(k.multiplier.num)),k=ei(new x(k.multiplier.den)),z=p.multiply(p.symfunction("parens",[We]),p.symfunction("parens",[k]).invert())}else z=p.symfunction("pfactor",arguments);return z}function hr(k){return k.realpart()}function v(k){return k.imagpart()}function H(We){var z=We.realpart(),We=We.imagpart();return p.add(z,p.multiply(We.negate(),x.imaginary()))}function ue(We){var z=We.realpart(),We=We.imagpart();return z.isConstant()&&We.isConstant()?We.equals(0)&&z.equals(-1)?p.parse("pi"):We.equals(1)&&z.equals(0)?p.parse("pi/2"):We.equals(1)&&z.equals(1)?p.parse("pi/4"):new x(Math.atan2(We,z)):p.symfunction("atan2",[We,z])}function Se(k,z){var We,it;for(z.map(function(Nt){Nt.numVal=wt(Nt).multiplier});;){if((it=z.length)<2)return z[0];We=z.pop(),it=z[it-2],(k==="min"?We.numVal<it.numVal:We.numVal>it.numVal)&&(z.pop(),z.push(We))}}function Xe(k,z){if(k.equals(1))return new x(0);var We,it,Nt;if(k.fname===N&&k.multiplier.equals(1))return We=p.divide(Xe(k.args[0]),new x(2)),k.power.sign()<0&&We.negate(),We;if(k.equals(0))throw new Bt($.LOG+"(0) is undefined!");return k.isImaginary()?Gt.evaluate(k,$.LOG):(k.isConstant()&&z!==void 0&&z.isConstant()?We=new x(Math.log(k)/Math.log(z)):k.group===Oe&&k.power.multiplier.lessThan(0)||k.power.toString()==="-1"?(k.power.negate(),We=Xe(k).negate()):k.value==="e"&&k.multiplier.equals(1)?(z=k.power,We=nt(z)?z:new x(z)):k.group===ce&&k.fname==="exp"?(Nt=k.args[0],We=k.multiplier.equals(1)?p.multiply(Nt,new x(k.power)):p.symfunction($.LOG,[k])):$.PARSE2NUMBER&&en(k)?((k=p.parse(k)).multiplier.lessThan(0)&&(k.negate(),it=p.multiply(new x(Math.PI),new x("i"))),We=new x(Math.log(k.multiplier.toDecimal())),it&&(We=p.add(We,it))):(k.power.equals(1)||k.contains("e")||(Nt=k.group===Oe?k.power:new x(k.power),k.toLinear()),We=1<arguments.length&&xe(arguments)?new x(1):p.symfunction($.LOG,arguments),Nt&&(We=p.multiply(Nt,We))),We)}function pt(k,z){var We=z&&z.isConstant()||z===void 0;if(k.isConstant()&&We){var it,We=k;return z&&z.lessThan(0)&&(z=er(z),We=(it=Number(k).toExponential().toString().split("e"))[0],it=it[1]),z=new x(rt(We,Number(z||0))),p.multiply(z,p.pow(new x(10),new x(it||0)))}return p.symfunction("round",arguments)}function dt(k){return k%=2,0<=(k=k<0?2+k:k)&&k<=.5?1:.5<k&&k<=1?2:1<k&&k<=1.5?3:4}function Ze(k){if(!isFinite(k)){var z=Math.sign(k),We=new x(String(Math.abs(k)));return We.multiplier=We.multiplier.multiply(new ie(z)),We}if(nt(k))return k;if(typeof k=="number")try{k=ie.simple(k)}catch{k=new ie(k)}return We=new x(0),We.multiplier=k,We}function tn(k,z){if(Array.isArray(k))return k.map(function(qn){return tn(qn,z)});if(z=z||{},k.group===ce&&k.fname===""){var We=tn(k.args[0],z),it=tn(p.pow(We,p.parse(k.power)),z);return p.multiply(p.parse(k.multiplier),it).distributeMultiplier()}if([le,te,Ce].indexOf(k.group)!==-1)return k;it=k.clone();try{var Nt,Dt,cn,Sn=k.multiplier.toString(),hn=Number(k.power),bn=k;if(k.isComposite()&&De(k.power)&&0<k.power){var zn=hn-1,We=new x(0);k.each(function(mn){We=p.add(We,tn(p.parse(mn),z))});for(var xn=p.parse(We),Ir=0;Ir<zn;Ir++)xn=Je(xn,We,z);bn=p.multiply(p.parse(Sn),xn).distributeMultiplier()}else k.group===ce&&z.expand_functions===!0?(Nt=[],k.args.forEach(function(qn){Nt.push(tn(qn,z))}),bn=p.pow(p.symfunction(k.fname,Nt),p.parse(k.power)),bn=p.multiply(bn,p.parse(k.multiplier))):k.isComposite()&&De(k.power)&&k.power<0&&z.expand_denominator===!0?(k=k.invert(),(bn=tn(k,z)).invert()):k.group===je?(Dt=function(qn){switch(qn.group){case _e:return 0;case Be:return 1;case je:return 2;case ce:return 3;default:return 4}},cn=k.collectSymbols().sort(function(qn,mn){return Dt(mn)-Dt(qn)}).map(function(qn){return tn(p.pow(qn,p.parse(hn)),z)}),We=cn.pop(),(bn=We.isComposite()&&We.isLinear()?(cn.forEach(function(qn){We=Je(We,qn,z)}),We.isComposite()?(1<We.power&&(We=tn(p.pow(We,p.parse(We.power)),z)),p.multiply(p.parse(Sn),We).distributeMultiplier()):We):(bn=We,cn.forEach(function(qn){bn=p.multiply(bn,qn)}),p.multiply(bn,p.parse(Sn)).distributeMultiplier())).group===je&&(bn=p.parse(bn))):bn=k;return bn}catch{return it}return it}function an(We){if(nt(We.power)||!We.power.absEquals(.5))return We;var z=We.power.sign(),We=Hn(We.group===te?new x(We.value):We.toLinear());return z<0&&We.invert(),We}this.toTeX=function(k,z){var We=(z=z||{}).decimals===!0?"decimals":void 0,Dt=typeof k=="string"?this.toObject(k):k,it=[],Nt=z.cdot===void 0?"\\cdot":z.cdot,Dt=(function(_r){for(var Dn=[];_r.length;){var Mr,cr,Tr=_r.shift(),Kr=_r[0],Vn=nn(Kr),Fr=Kr==="-";Tr==="^"&&(Kr==="+"?_r.shift():Vn&&Kr[0]==="+"&&Kr.shift(),Vn&&Kr.length===1&&_r.unshift(_r.shift()[0])),Tr==="^"&&(Vn&&Kr[0]==="-"||Fr)?(Mr=Dn.pop(),cr="1",(Fr=Dn[Dn.length-1])==="*"?(Dn.pop(),cr=Dn.pop()):nn(Fr)&&(cr=Dn.pop()),Dn.push(cr,"/",Mr,Tr),(Vn?Kr:_r).shift(),Vn&&Kr.length===1&&Dn.push(_r.shift()[0])):Dn.push(Tr)}return Dn})(Dt);if(nn(Dt)){for(var cn,Sn,hn=[],bn=0;bn<Dt.length;bn++)cn=Dt[bn],Dt[bn+1]==="^"?(Sn=Dt[bn+2],hn.push(q.braces(this.toTeX([cn]))+"^"+q.braces(this.toTeX([Sn]))),bn+=2):hn.push(cn);Dt=hn}for(var bn=0,zn=Dt.length;bn<zn;bn++){var xn=Dt[bn];if(nt(xn=xn==="*"?Nt:xn))if(xn.group===ce){var Ir,qn=xn.fname;if(qn===N)dr="\\sqrt"+q.braces(this.toTeX(xn.args));else if(qn===R)dr=q.brackets(this.toTeX(xn.args),"abs");else if(qn===O)dr=q.brackets(this.toTeX(xn.args),"parens");else if(qn===$.LOG10)dr="\\"+$.LOG10_LATEX+"\\left( "+this.toTeX(xn.args)+"\\right)";else if(qn==="integrate")var mn=Ke(xn.args),dr="\\int "+(kr=q.braces(this.toTeX(mn[0])))+"\\, d"+(yr=this.toTeX(mn[1]));else if(qn==="defint"){var mn=Ke(xn.args),kr=q.braces(this.toTeX(mn[0])),yr=this.toTeX(mn[3]);dr="\\int\\limits_{"+this.toTeX(mn[1])+"}^{"+this.toTeX(mn[2])+"} "+kr+"\\, d"+yr}else if(qn==="diff"){if(mn=Ke(xn.args),yr="",kr=q.braces(this.toTeX(mn[0])),mn.length===1){for(var fr=[],vr=0;vr<mn[0].length;vr++)mn[0][vr].group===3&&fr.push(mn[0][vr].value);fr.sort(),yr=0<fr.length?"\\frac{d}{d "+fr[0]+"}":"\\frac{d}{d x}"}else yr=mn.length===2?"\\frac{d}{d "+mn[1]+"}":"\\frac{d^{"+mn[2]+"}}{d "+this.toTeX(mn[1])+"^{"+mn[2]+"}}";dr=yr+"\\left("+kr+"\\right)"}else if(qn==="sum"||qn==="product"){var lr=[[],[],[],[]],vr=0;for(bn=0;bn<xn.args.length;bn++)xn.args[bn]!==","?lr[vr].push(xn.args[bn]):vr++;dr=(qn==="sum"?"\\sum_":"\\prod_")+q.braces(this.toTeX(lr[1])+" = "+this.toTeX(lr[2])),dr+="^"+q.braces(this.toTeX(lr[3]))+q.braces(this.toTeX(lr[0]))}else dr=qn==="limit"?(Ir=Ke(xn.args).map(function(Dn){return Array.isArray(Dn)?p.toTeX(Dn.join("")):p.toTeX(String(Dn))}),"\\lim_"+q.braces(Ir[1]+"\\to "+Ir[2])+" "+q.braces(Ir[0])):qn===B||qn===j?this.toTeX(xn.args)+(qn===B?"!":"!!"):q.latex(xn,We);it.push(dr)}else it.push(q.latex(xn,We));else nn(xn)?it.push(q.brackets(this.toTeX(xn))):xn==="/"?it.push(q.frac(Pn(it.pop()),Pn(this.toTeX([Dt[++bn]])))):it.push(xn)}return it.join(" ")},this.expand=tn,this.round=pt,this.clean=function k(z){var We,it,Nt,Dt,cn,Sn,hn,bn=z.group;return bn===_e?(it=z.getNum(),Nt=z.getDenom()||new x(1),Dt=Number(z.power),cn=new x(1),Math.abs(Dt)===1&&(Nt.each(function(zn){zn.group===je?cn=p.multiply(cn,k(zn.getDenom())):zn.power.lessThan(0)&&(cn=p.multiply(cn,k(zn.clone().toUnitMultiplier())))}),Sn=new x(0),Nt.each(function(zn){Sn=p.add(p.divide(zn,cn.clone()),Sn)}),cn.invert(),it.isComposite()?(hn=new x(0),it.each(function(zn){hn=p.add(p.multiply(k(zn),cn.clone()),hn)})):hn=p.multiply(cn,it),We=p.divide(hn,Sn))):bn===je?(We=new x(1),z.each(function(zn){We=p.multiply(We,p.clean(zn))})):bn===ce&&z.args.length===1&&z.args[0].isConstant()&&(We=Mt("PARSE2NUMBER",function(){return p.parse(z)},!0)),We=We||z},this.sqrt=Hn,this.cbrt=mr,this.abs=er,this.log=Xe,this.rationalize=Cn,this.nthroot=Er,this.arg=ue,this.conjugate=H,this.imagpart=v,this.realpart=hr,this.getFunction=function(k){return Un[k][0]},this.addPreprocessor=function(k,z,We,it){var Nt=Q.names,Dt=Q.actions;if(typeof z!="function")throw new PreprocessorError("Incorrect parameters. Function expected!");We?it?(Nt.splice(We,0,k),Dt.splice(We,0,z)):(Nt[We]=k,Dt[We]=z):(Nt.push(k),Dt.push(z))},this.getPreprocessors=function(){for(var k={},z=0,We=k.names.length;z<We;z++)k[k.names[z]]={order:z,action:k.actions[z]};return k},this.removePreprocessor=function(k,z){k=Q.names.indexOf(k),z?(ht(Q.names,k),ht(Q.actions,k)):(Q.names[k]=void 0,Q.actions[k]=void 0)},this.mapped_function=function(){for(var k={},z=this.params,We=0;We<z.length;We++)k[z[We]]=String(arguments[We]);return p.parse(this.body,k)},this.add=function(k,z){var We=nt(k),it=nt(z);if(We&&it){if(k.unit||z.unit)return p.Unit.add(k,z);if(k.isInfinity||z.isInfinity){var zn=k.multiplier.lessThan(0),xn=z.multiplier.lessThan(0);if(k.isInfinity&&z.isInfinity&&zn!==xn)throw new Bt("("+k+")+("+z+") is not defined!");var Ir=x.infinity();return xn&&Ir.negate(),Ir}if(k.isComposite()&&k.isLinear()&&z.isComposite()&&z.isLinear()&&(k.distributeMultiplier(),z.distributeMultiplier(),z.length>k.length&&k.group===z.group&&([k,z]=[z,k])),k.multiplier.equals(0))return z;if(z.multiplier.equals(0))return k;if(k.isConstant()&&z.isConstant()&&$.PARSE2NUMBER)return hn=new x(k.multiplier.add(z.multiplier).toDecimal($.PRECISION));var Nt=k.group,Dt=z.group,dr=k.power.toString(),mn=z.power.toString();if(Nt<Dt||Nt===Dt&&mn<dr&&0<mn)return this.add(z,k);Nt===je&&Dt===Be&&k.value===z.value&&(fr=k,Nt=(k=z).group,Dt=(z=fr).group,dr=k.power.toString(),mn=z.power.toString());var cn,Sn,hn,bn=dr===mn,zn=k.value,xn=z.value,Ir=k.isComposite(),dr=z.isComposite();if(Ir&&(cn=re(k,"hash")),dr&&(Sn=re(z,"hash")),Nt===_e&&Dt===_e&&z.isLinear()&&!k.isLinear()&&cn!==Sn)return this.add(z,k);Nt===Be&&Dt===Be&&(zn=cn,xn=Sn);var qn,mn=Nt===te&&Dt===le,dr=k.value===z.multiplier.toString(),dr=zn===xn||cn===Sn&&cn!==void 0||mn&&dr;if(dr&&bn&&Nt===Dt)if(mn&&(z=z.convert(te)),Nt!==Be||Dt!==Ce&&Dt!==te)if((hn=k).multiplier.isOne()&&z.multiplier.isOne()&&Nt===_e&&k.isLinear()&&z.isLinear())for(var kr in z.symbols){var yr=z.symbols[kr];hn.attach(yr)}else hn.multiplier=hn.multiplier.add(z.multiplier);else k.distributeMultiplier(),hn=k.attach(z);else if(dr&&Nt!==Be)Nt===_e&&Dt===Be?(z.insert(k,"add"),hn=z):(hn=x.shell(Be).attach([k,z])).value=Nt===Be?cn:zn;else if(Ir&&k.isLinear())if(zn=Nt===Dt,Ir=Nt===Be&&Dt===Be,Ir&&(zn=k.value===z.value),k.distributeMultiplier(),z.isComposite()&&z.isLinear()&&zn){for(var kr in z.distributeMultiplier(),z.symbols)yr=z.symbols[kr],k.attach(yr);hn=k}else Ir&&k.value!==Sn||Nt===Be&&!dr?(hn=x.shell(_e).attach([k,z])).updateHash():hn=k.attach(z);else Nt===ce&&k.fname===N&&Dt!==Oe&&z.power.equals(.5)&&(qn=z.multiplier.clone(),(z=Hn(z.toUnitMultiplier().toLinear())).multiplier=qn),k.length===2&&z.length===2&&P(k.power)&&P(z.power)?hn=p.add(tn(k),tn(z)):(hn=x.shell(_e).attach([k,z])).updateHash();return(hn=hn.multiplier.equals(0)?new x(0):hn).length===1&&(qn=hn.multiplier,(hn=Tt(hn.symbols)).multiplier=hn.multiplier.multiply(qn)),hn}it&&!We&&(fr=k,k=z,z=fr,fr=it,it=We,We=fr);var fr=Me(z);if(We&&fr){var vr=new be;z.eachElement(function(_r,Dn,Mr){vr.set(Dn,Mr,p.add(k.clone(),_r))}),z=vr}else if(Me(k)&&fr)z=k.add(z);else if(We&&Ht(z))z.each(function(_r,Dn){z.elements[--Dn]=p.add(k.clone(),z.elements[Dn])});else if(Ht(k)&&Ht(z))z.each(function(_r,Dn){z.elements[--Dn]=p.add(k.elements[Dn],z.elements[Dn])});else{if(Ht(k)&&Me(z))return p.add(z,k);if(Me(k)&&Ht(z)){if(z.elements.length===k.rows()){var vr=new be,lr=k.cols();return z.each(function(Dn,Mr){for(var cr=[],Tr=0;Tr<lr;Tr++)cr.push(p.add(k.elements[Mr-1][Tr].clone(),Dn.clone()));vr.elements.push(cr)}),vr}de("Dimensions must match!")}}return z},this.subtract=function(k,z){var We=nt(k),it=nt(z);if(We&&it)return k.unit||z.unit?p.Unit.subtract(k,z):this.add(k,z.negate());if(it&&Ht(k))z=k.map(function(cn){return p.subtract(cn,z.clone())});else if(We&&Ht(z))z=z.map(function(cn){return p.subtract(k.clone(),cn)});else if(Ht(k)&&Ht(z))k.dimensions()===z.dimensions()?z=k.subtract(z):p.error("Unable to subtract vectors. Dimensions do not match.");else if(Me(k)&&Ht(z)){if(z.elements.length===k.rows()){var Nt=new be,Dt=k.cols();return z.each(function(cn,Sn){for(var hn=[],bn=0;bn<Dt;bn++)hn.push(p.subtract(k.elements[Sn-1][bn].clone(),cn.clone()));Nt.elements.push(hn)}),Nt}de("Dimensions must match!")}else{if(Ht(k)&&Me(z)){var Nt=z.clone().negate();return p.add(Nt,k)}Me(k)&&Me(z)?z=k.subtract(z):Me(k)&&it?(Nt=new be,k.each(function(cn,Sn,hn){Nt.set(Sn,hn,p.subtract(cn,z.clone()))}),z=Nt):We&&Me(z)&&(Nt=new be,z.each(function(cn,Sn,hn){Nt.set(Sn,hn,p.subtract(k.clone(),cn))}),z=Nt)}return z},this.multiply=function(k,z){var We=nt(k),it=nt(z);if(We&&z instanceof He)return z.elements.push(k),z;if(We&&it){if(z.isUnit){var mn=k.clone();return k.unit=z,mn}if(k.unit||z.unit)return p.Unit.multiply(k,z);if(k.isInfinity||z.isInfinity){if(k.equals(0)||z.equals(0))throw new Bt(k+"*"+z+" is undefined!");if(z.power.lessThan(0)){if(k.isInfinity)throw new Bt("Infinity/Infinity is not defined!");return new x(0)}var xn=k.multiplier.multiply(z.multiplier).sign(),zn=x.infinity();if(k.isConstant()||z.isConstant()||k.isInfinity&&z.isInfinity)return xn<0&&zn.negate(),zn}if(k.isConstant()&&z.isConstant()&&$.PARSE2NUMBER)return new x(hn=new h(k.multiplier.toDecimal()).times(new h(z.multiplier.toDecimal())).toFixed());if(k.isOne())return z.clone();if(z.isOne())return k.clone();if(k.multiplier.equals(0)||z.multiplier.equals(0))return new x(0);if(z.group>k.group&&z.group!==_e)return this.multiply(z,k);k.group===je&&z.group===Be&&k.value===z.value&&(hn=k,k=z,z=hn);var Nt=k.group,Dt=z.group,cn=z.multiplier.num,Sn=z.multiplier.den;Nt!==ce||k.fname!==N||z.isConstant()||k.args[0].value!==z.value||k.args[0].multiplier.lessThan(0)?Nt===ce&&k.fname===N&&k.multiplier.equals(1)&&k.power.equals(-1)&&z.isConstant()&&k.args[0].equals(z)&&(k=p.symfunction(N,[z.clone()]),z=new x(1)):(qn=k.power,Ir=p.parse(k.multiplier),(k=p.multiply(Ir,k.args[0].clone())).setPower(new ie(.5).multiply(qn)),Nt=k.group);var hn,bn=k.value,zn=z.value,xn=new ie(k.sign()),Ir=Nt===te&&Dt===le&&z.multiplier.equals(k.value),qn=(Ir?new ie(1).multiply(k.multiplier):k.multiplier.multiply(z.multiplier)).abs(),mn=k.clone().toUnitMultiplier();if(z=z.clone().toUnitMultiplier(!0),Nt===ce&&Dt===ce){var dr=k.args[0].clone(),kr=z.args[0].clone();if(k.fname===N&&z.fname===N&&k.isLinear()&&z.isLinear()){var yr=p.divide(dr,kr).invert();yr.gt(1)&&De(yr)&&(mn=p.multiply(k.args[0].clone(),Hn(yr.clone())),z=new x(1))}else if(k.fname===B&&z.fname===B&&!dr.isConstant()&&!kr.isConstant()&&z.power<0&&(yr=p.subtract(dr.clone(),kr.clone()),yr.isConstant()))if(hn=new x(1),yr<0){for(var fr=0,vr=Math.abs(yr);fr<=vr;fr++){var lr=p.add(dr.clone(),new x(fr));hn=p.multiply(hn,lr)}mn=p.multiply(p.pow(dr,new x(k.power)),p.pow(hn,new x(z.power))),z=new x(1)}else{for(fr=0,vr=Math.abs(yr);fr<=vr;fr++)lr=p.add(kr.clone(),new x(fr)),hn=p.multiply(hn,lr);mn=p.multiply(p.pow(hn,new x(k.power)),p.pow(kr,new x(z.power))),z=new x(1)}}if(bn===zn&&Nt===Be&&Nt===Dt&&(bn=k.text("hash"),zn=z.text("hash")),(bn=Dt===Oe&&z.previousGroup===Be&&Nt===Be?re(k,"hash",Oe):bn)!==zn&&!Ir||Nt===Be&&(Dt===Ce||Dt===te||Dt===ce)||Nt===Be&&Dt===je)if(Nt===je&&k.isLinear())if(Dt===je&&z.distributeExponent(),Dt===je&&z.isLinear()){for(var lr in z.symbols){var _r=z.symbols[lr];mn=mn.combine(_r)}mn.multiplier=mn.multiplier.multiply(z.multiplier)}else mn.combine(z);else Nt!==le?Nt===je?(mn.distributeExponent(),mn.combine(z)):z.isOne()||(cr=z.multiplier.clone(),z.toUnitMultiplier(),(mn=x.shell(je).combine([mn,z])).multiplier=mn.multiplier.multiply(cr)):mn=z.clone().toUnitMultiplier();else{var Dn=k.power,Mr=z.power,cr=nt(Dn),Tr=nt(Mr),Tr=cr||Tr;Nt===Be&&Dt!==Be&&z.previousGroup!==Be&&Dn.equals(1)?(mn=new x(0),k.each(function(Fr){mn=p.add(mn,p.multiply(Fr,z.clone()))},!0)):(mn.power=Tr?p.add(nt(Dn)?Dn:new x(Dn),nt(Mr)?Mr:new x(Mr)):Nt===le?Dn:Dn.add(Mr),mn.power.equals(0)&&(mn=mn.convert(le)),Tr&&mn.convert(Oe),k.imaginary&&z.imaginary&&P(mn.power%2)&&(mn=new x(1),qn.negate()),mn.group!==Oe&&mn.previousGroup&&(mn.previousGroup=void 0),mn.multiplier=mn.multiplier.multiply(z.multiplier))}return mn.group===te&&(Nt=Math.log(mn.value),Dn=Math.log(cn)/Nt,Mr=Math.log(Sn)/Nt,Tr=qn.num/cn,Nt=qn.den/Sn,Dn!=0&&De(Dn)&&De(Tr)&&(mn.power=mn.power.add(new ie(Dn)),qn.num/=cn),Mr!=0&&De(Mr)&&De(Nt)&&(mn.power=mn.power.subtract(new ie(Mr)),qn.den/=Sn)),mn.length===1&&(hn=mn.multiplier,(mn=Tt(mn.symbols)).multiplier=mn.multiplier.multiply(hn)),Sn=mn.power.toString(),P(Sn)&&mn.fname===N?(xn*=mn.sign(),Sn=mn.power,mn=mn.args[0],mn=p.multiply(new x(qn),p.pow(mn,new x(Sn.divide(new ie(2))))),xn<0&&mn.negate()):(mn.multiplier=mn.multiplier.multiply(qn).multiply(xn),mn.group===_e&&mn.isImaginary()&&mn.distributeMultiplier()),mn=mn.group===te&&De(mn.power.toDecimal())?mn.convert(le):mn}if(it&&!We&&(hn=k,k=z,z=hn,hn=it,it=We,We=hn),xn=Me(z),it=Me(k),We&&xn){var Kr=new be;z.eachElement(function(Fr,Zr,ss){Kr.set(Zr,ss,p.multiply(k.clone(),Fr))}),z=Kr}else if(it&&xn)z=k.multiply(z);else if(We&&Ht(z))z.each(function(Fr,Zr){z.elements[--Zr]=p.multiply(k.clone(),z.elements[Zr])});else if(Ht(k)&&Ht(z))z.each(function(Fr,Zr){z.elements[--Zr]=p.multiply(k.elements[Zr],z.elements[Zr])});else{if(Ht(k)&&Me(z))return this.multiply(z,k);if(Me(k)&&Ht(z)){if(z.elements.length===k.rows()){var Kr=new be,Vn=k.cols();return z.each(function(Zr,ss){for(var go=[],Wi=0;Wi<Vn;Wi++)go.push(p.multiply(k.elements[ss-1][Wi].clone(),Zr.clone()));Kr.elements.push(go)}),Kr}de("Dimensions must match!")}}return z},this.divide=function(k,z){var We=nt(k),it=nt(z);if(We&&it){if(k.unit||z.unit)return p.Unit.divide(k,z);if(z.equals(0))throw new Fe("Division by zero not allowed!");return k.isConstant()&&z.isConstant()?(Nt=k.clone()).multiplier=Nt.multiplier.divide(z.multiplier):(z.invert(),Nt=p.multiply(k,z)),Nt}var Nt,Dt,cn=Ht(k),Sn=Ht(z);return We&&Sn?z=z.map(function(hn){return p.divide(k.clone(),hn)}):cn&&it?z=k.map(function(hn){return p.divide(hn,z.clone())}):cn&&Sn?k.dimensions()===z.dimensions()?z=z.map(function(hn,bn){return p.divide(k.elements[--bn],hn)}):p.error("Cannot divide vectors. Dimensions do not match!"):(Nt=Me(k),cn=Me(z),Nt&&it?(Dt=new be,k.eachElement(function(hn,bn,zn){Dt.set(bn,zn,p.divide(hn,z.clone()))}),z=Dt):We&&cn?(Dt=new be,z.eachElement(function(hn,bn,zn){Dt.set(bn,zn,p.divide(k.clone(),hn))}),z=Dt):Nt&&cn?(Dt=new be,k.rows()===z.rows()&&k.cols()===z.cols()?(k.eachElement(function(hn,bn,zn){Dt.set(bn,zn,p.divide(hn,z.elements[bn][zn]))}),z=Dt):p.error("Dimensions do not match!")):Nt&&Sn&&(k.cols()===z.dimensions()?(Dt=new be,k.eachElement(function(hn,bn,zn){Dt.set(bn,zn,p.divide(hn,z.elements[bn].clone()))}),z=Dt):p.error("Unable to divide matrix by vector."))),z},this.pow=function(k,z){var We,it=nt(k),Nt=nt(z);if(it&&Nt){if(k.unit||z.unit)return p.Unit.pow(k,z);if(k.group===ce&&k.fname===R&&P(z)){var zn=k.multiplier.clone(),bn=p.pow(k.args[0],z);return bn.multiplier=zn,bn}if(k.isInfinity||z.isInfinity){if(k.isInfinity&&z.isInfinity)throw new Bt("("+k+")^("+z+") is undefined!");if(k.isConstant()&&z.isInfinity){if(k.equals(0)){if(z.lessThan(0))throw new Bt("0^Infinity is undefined!");return new x(0)}if(k.equals(1))throw new Bt("1^"+z.toString()+" is undefined!");if(z.lessThan(0))return new x(0);if(!k.lessThan(0))return x.infinity()}if(k.isInfinity&&z.isConstant()){if(z.equals(0))throw new Bt(k+"^0 is undefined!");return z.lessThan(0)?new x(0):p.multiply(x.infinity(),p.pow(new x(k.sign()),z.clone()))}}var xn=k.equals(0),Dt=z.equals(0);if(xn&&Dt)throw new Bt("0^0 is undefined!");if(xn&&z.isConstant()&&z.multiplier.greaterThan(0))return new x(0);if(Dt)return new x(1);var cn,Sn=z.isConstant(),hn=k.isConstant(),bn=z.isInteger(),zn=k.multiplier,xn=k.clone();if(hn&&Sn&&k.equals(0)&&z.lessThan(0))throw new Bt("Division by zero is not allowed!");if($.PARSE2NUMBER&&hn&&Sn&&k.sign()<0&&Re(z)){var Ir=Math.PI*z;return lr=new x(Math.cos(Ir)),yr=p.multiply(x.imaginary(),new x(Math.sin(Ir))),p.add(lr,yr)}if($.PARSE2NUMBER&&k.isImaginary()&&Sn&&De(z)&&!z.lessThan(0)&&(lr=k.realpart(),yr=k.imagpart(),lr.isConstant("all")&&yr.isConstant("all")))return Dt=$.USE_BIG?x(h.atan2(kr.multiplier.toDecimal(),vr.multiplier.toDecimal()).times(z.toString())):Math.atan2(yr,lr)*z,cn=new x(Dt),vr=p.pow(x.hyp(lr,yr),z),Ir=p.multiply(vr.clone(),p.trig.cos(cn.clone())),Dt=p.multiply(vr,p.trig.sin(cn)),p.add(Ir,p.multiply(x.imaginary(),Dt));if(xn.toUnitMultiplier(),xn.group!==ce||xn.fname!==N||Sn?(Vn=zn.sign(),Re(z)&&Vn<0&&(xn.negate(),(xn=p.symfunction(O,[xn])).negate()),xn.multiplyPower(z)):((Mr=xn.args[0]).multiplyPower(new x(.5)),Mr.multiplier.multiply(xn.multiplier),Mr.multiplyPower(z),xn=Mr),hn&&Sn&&$.PARSE2NUMBER)Vn<0&&(k.negate(),mn=z.multiplier.den.equals(2)?new x($.IMAGINARY):De(z.multiplier)?P(z.multiplier)?new x(1):new x(-1):P(z.multiplier.den)?p.pow(p.symfunction(O,[new x(Vn)]),z.clone()):new x(Math.pow(Vn,z.multiplier.num))),xn=new x(Math.pow(k.multiplier.toDecimal(),z.multiplier.toDecimal())),mn&&(xn=p.multiply(xn,mn));else if(bn&&!zn.equals(1)){if(z.abs().gt($.MAX_EXP))return z.sign()<0?new x(0):x.infinity();var qn=z.multiplier.toDecimal(),mn=Math.sign(qn);qn=Math.abs(qn);var dr=new ie(1);dr.num=zn.num.pow(qn),dr.den=zn.den.pow(qn),mn<0&&dr.invert(),xn.multiplier=xn.multiplier.multiply(dr)}else{var kr,yr,fr,vr,lr,_r,Dn,Mr,cr,Tr,Kr,Vn=k.sign();z.isConstant()&&k.isConstant()&&!z.multiplier.den.equals(1)&&Vn<0?xn=z.multiplier.den.equals(2)?(kr=new x($.IMAGINARY),k.negate(),z.lessThan(0)&&(kr.negate(),z.negate()),p.multiply(p.pow(k,z),kr)):((fr=k.clone()).multiplier.negate(),xn=p.pow(p.symfunction(O,[new x(Vn)]),z.clone()),dr=p.pow(new x(fr.multiplier.num),z.clone()),kr=p.pow(new x(fr.multiplier.den),z.clone()),vr=p.divide(dr,kr),p.multiply(xn,vr)):$.PARSE2NUMBER&&z.isImaginary()?(lr=z.realpart(),yr=z.imagpart(),fr=k.clone().toLinear(),vr=p.pow(fr.clone(),lr),cr=Xe(fr.clone()),lr=bt.cos(p.multiply(yr.clone(),cr)),cr=p.multiply(bt.sin(p.multiply(yr,Xe(fr))),x.imaginary()),xn=p.multiply(vr,p.add(lr,cr)),xn=p.expand(p.parse(xn))):(_r=an(new x((cr=k.group===le&&Vn<0)?zn.num:Math.abs(zn.num)).setPower(z.clone())),Dn=an(new x(zn.den).setPower(z.clone()).invert()),k.imaginary&&(bn?(Mr=Math.sign(z),qn=er(z),xn=new x(P(Tr=qn%4)?-1:$.IMAGINARY),(Tr===0||Mr<0&&Tr===1||0<Mr&&Tr===3)&&xn.negate()):(bn=z.multiplier.multiply(ie.quick(1,2)),Mr=Math.pow(-1,bn.num),xn=P(bn.den)?new x(-1).setPower(bn,!0):new x(Mr))),Vn<0&&!cr&&xn.negate(),Sn&&k.group!==Oe&&(Vn=P(z.multiplier.den),cr=P(k.power),Tr=xn.power.toDecimal(),Sn=P(Tr),Vn&&cr&&!Sn&&(xn=Tr===1?p.symfunction(R,[xn]):De(Tr)?p.multiply(p.symfunction(R,[xn.clone().toLinear()]),xn.clone().setPower(new ie(Tr-1))):(qn=xn.power,p.symfunction(R,[xn.toLinear()]).setPower(qn)),$.POSITIVE_MULTIPLIERS&&xn.fname===R&&(xn=xn.args[0]))),z.equals(2)&&xn.group===je&&(Kr=new x(1),xn.each(function(Fr){Kr=p.multiply(Kr,p.pow(Fr,z))}),xn=Kr))}return xn=an(xn),(xn=_r&&Dn?p.multiply(xn,(function(Fr){if(Fr.group===te){var Zr=Fr.value,ss=Te(Zr)[0];if(!ss)return gt("Unable to compute prime factors. This should not happen. Please review and report."),Fr;if(Zr=new ie(Math.log(Zr)/Math.log(ss)).multiply(Fr.power),Zr.den>Fr.power.den)return Fr;Fr=De(Zr)?x(Math.pow(ss,Zr)):new x(ss).setPower(Zr)}return Fr})(p.multiply(_r,Dn))):xn).fname===N?(Dn=((_r=xn.group===Oe)?xn.power.multiplier:xn.power).toString(),P(Dn)&&(_r=_r?p.divide(xn.power,new x(2)):new x(xn.power.divide(new ie(2))),zn=xn.multiplier,(xn=p.pow(xn.args[0],_r)).multiplier=xn.multiplier.multiply(zn))):!$.IGNORE_E&&xn.isE()&&xn.group===Oe&&xn.power.contains("pi")&&xn.power.contains($.IMAGINARY)&&z.group===je&&(cn=z.stripVar($.IMAGINARY),xn=p.add(bt.cos(cn),p.multiply(x.imaginary(),bt.sin(cn)))),xn}return Ht(k)&&Nt?k=k.map(function(Fr){return p.pow(Fr,z.clone())}):Me(k)&&Nt?(We=new be,k.eachElement(function(Fr,Zr,ss){We.set(Zr,ss,p.pow(Fr,z.clone()))}),k=We):it&&Me(z)&&(We=new be,z.eachElement(function(Fr,Zr,ss){We.set(Zr,ss,p.pow(k.clone(),Fr))}),k=We),k},this.comma=function(k,z){return(k=k instanceof He?k:He.create(k)).append(z),k},this.mod=or,this.slice=function(k,z){return new me(k,z)},this.equals=function(k,z){return k.group===Ce||k.isLinear()||de("Cannot set equality for "+k.toString()),fe[k.value]=z.clone(),z},this.percent=function(k){return p.divide(k,new x(100))},this.assign=function(k,z){if(k instanceof He&&z instanceof He)return k.elements.map(function(it,Nt){return p.assign(it,z.elements[Nt])}),ge.fromArray(z.elements);if(k.parent){var We=k.parent;return We.elements[We.getter]=z,delete We.getter,We}if(k.group!==Ce)throw new pn("Cannot complete operation. Incorrect LH value for "+k);return fe[k.value]=z},this.function_assign=function(k,z){var We=k.elements.pop();return Et(We,k.elements,z)};function ln(k){return new x(k===!0?1:0)}this.eq=function(k,z){return ln(k.equals(z))},this.gt=function(k,z){return ln(k.gt(z))},this.gte=function(k,z){return ln(k.gte(z))},this.lt=function(k,z){return ln(k.lt(z))},this.lte=function(k,z){return ln(k.lte(z))},this.factorial=function(k){return this.symfunction(B,[k])},this.dfactorial=function(k){return this.symfunction(j,[k])}}$.FUNCTION_MODULES.push(En),$t(En),Math.sign=Math.sign||function(p){return(p=+p)==0||isNaN(p)?p:0<p?1:-1},Math.cosh=Math.cosh||function(p){return p=Math.exp(p),(p+1/p)/2},Math.sech=Math.sech||function(p){return 1/Math.cosh(p)},Math.csch=Math.csch||function(p){return 1/Math.sinh(p)},Math.coth=Math.coth||function(p){return 1/Math.tanh(p)},Math.sinh=Math.sinh||function(p){return p=Math.exp(p),(p-1/p)/2},Math.tanh=Math.tanh||function(p){return p===1/0?1:p===-1/0?-1:(p=Math.exp(2*p),(p-1)/(p+1))},Math.asinh=Math.asinh||function(p){return p===-1/0?p:Math.log(p+Math.sqrt(p*p+1))},Math.acosh=Math.acosh||function(p){return Math.log(p+Math.sqrt(p*p-1))},Math.atanh=Math.atanh||function(p){return Math.log((1+p)/(1-p))/2},Math.log10=Math.log10||function(p){return Math.log(p)*Math.LOG10E},Math.trunc=Math.trunc||function(p){return isNaN(p)?NaN:0<p?Math.floor(p):Math.ceil(p)},Te(314146179365),gn.getExpression=function(p,D){return p!=="last"&&p||(p=J.length),p=J[(p=p==="first"?1:p)-1],p&&new gn(p)},(gn.prototype={text:function(p,D){return D=D||$.EXPRESSION_DECP,p=p||"decimals",this.symbol.text_?this.symbol.text_(p):re(this.symbol,p,void 0,D)},latex:function(p){return this.symbol.latex?this.symbol.latex(p):q.latex(this.symbol,p)},valueOf:function(){return this.symbol.valueOf()},evaluate:function(){if(Ht(this.symbol)&&this.symbol.dimensions()===0)return this;var p,D=arguments[0],Q=1;typeof D=="string"?p=D.charAt(0)==="%"?gn.getExpression(D.substr(1)).text():D:D instanceof gn||nt(D)?p=D.text():(p=this.symbol.text(),Q--);var me=arguments[Q]||{};return new gn(Mt("PARSE2NUMBER",function(){return i.parse(p,me)},!0))},buildFunction:function(p){return st.build(this.symbol,p)},isNumber:function(){return en(this.symbol)},isInfinity:function(){return Math.abs(this.symbol.multiplier)===1/0},isImaginary:function(){return wt(i.parse(this.symbol)).isImaginary()},variables:function(){return yt(this.symbol)},toString:function(){try{return nn(this.symbol)?"["+this.symbol.toString()+"]":this.symbol.toString()}catch{return""}},toDecimal:function(p){return $.precision=p,p=re(this.symbol,"decimals"),$.precision=void 0,p},isFraction:function(){return Ct(this.symbol)},isPolynomial:function(){return this.symbol.isPoly()},sub:function(p,D){return new gn(this.symbol.sub(i.parse(p),i.parse(D)))},operation:function(p,D){return I(D)?D=D.symbol:nt(D)||(D=i.parse(D)),new gn(i[p](this.symbol.clone(),D.clone()))},add:function(p){return this.operation("add",p)},subtract:function(p){return this.operation("subtract",p)},multiply:function(p){return this.operation("multiply",p)},divide:function(p){return this.operation("divide",p)},pow:function(p){return this.operation("pow",p)},expand:function(){return new gn(i.expand(this.symbol))},each:function(p,D){if(this.symbol.each)this.symbol.each(p,D);else if(nn(this.symbol))for(D=0;D<this.symbol.length;D++)p.call(this.symbol,this.symbol[D],D);else p.call(this.symbol)},eq:function(p){nt(p)||(p=i.parse(p));try{return i.subtract(this.symbol.clone(),p).equals(0)}catch{return!1}},lt:function(p){nt(p)||(p=i.parse(p));try{return wt(i.subtract(this.symbol.clone(),p)).lessThan(0)}catch{return!1}},gt:function(p){nt(p)||(p=i.parse(p));try{return wt(i.subtract(this.symbol.clone(),p)).greaterThan(0)}catch{return!1}},gte:function(p){return this.gt(p)||this.eq(p)},lte:function(p){return this.lt(p)||this.eq(p)},numerator:function(){return new gn(this.symbol.getNum())},denominator:function(){return new gn(this.symbol.getDenom())},hasFunction:function(p){return this.symbol.containsFunction(p)},contains:function(p){return this.symbol.contains(p)}}).toTeX=gn.prototype.latex,F.prototype={fromScientific:function(p){return p=String(p).toLowerCase().split("e"),this.coeff=p[0],this.exponent=p[1],this},convert:function(He){var _t=He.split("."),D=_t[0]||"",Q=_t[1]||"",D=F.removeLeadingZeroes(D),Q=F.removeTrailingZeroes(Q),me=D.length,He=D+Q,_t=F.leadingZeroes(He).length;return this.exponent=me-(_t+1),He=F.removeLeadingZeroes(He),this.coeff=He.charAt(0)+"."+(He.substr(1,He.length)||"0"),He=this.coeff.split(".")[1]||"",this.decp=He==="0"?0:He.length,this.dec=Q,this.wholes=D,this},round:function(p){var D,Q,me=this.copy();return(p=Number(p))===0?me.coeff=me.coeff.charAt(0):(D=this.coeff.substring(0,p+1),p=(Q=this.coeff.substring(p+1,p+3)).charAt(0),4<Q.charAt(1)&&p++,me.coeff=D+p),me},copy:function(){var p=new F(0);return p.coeff=this.coeff,p.exponent=this.exponent,p.sign=this.sign,p},toString:function(p){var D;return D=$.SCIENTIFIC_IGNORE_ZERO_EXPONENTS&&this.exponent===0&&this.decp<p?this.decp===0?this.wholes:this.coeff:(D=p===void 0?this.coeff:F.round(this.coeff,Math.min(p,this.decp||1)),this.exponent===0?D:D+"e"+this.exponent),(this.sign===-1?"-":"")+D}},F.isScientific=function(p){return/\d+\.?\d*e[\+\-]*\d+/i.test(p)},F.leadingZeroes=function(p){return p=p.match(/^(0*).*$/),p?p[1]:""},F.removeLeadingZeroes=function(p){return p=p.match(/^0*(.*)$/),p?p[1]:""},F.removeTrailingZeroes=function(p){var D=p.match(/0*$/);return D?p.substring(0,p.length-D[0].length):""},F.round=function(p,D){return p=rt(p,D),D-=String(p).split(".").pop().length,0<D&&(p+=new Array(1+D).join(0)),p},ie.create=function(Q){if(Q instanceof ie)return Q;var D=(Q=Q.toString()).charAt(0)==="-",Q=new ie(Q=D?Q.substr(1,Q.length-1):Q);return D&&Q.negate(),Q},ie.isFrac=function(p){return p instanceof ie},ie.quick=function(p,D){var Q=new ie;return Q.num=new u(p),Q.den=new u(D),Q},ie.simple=function(p){for(var D=String(Ft(p)).split("."),p=D.join(""),Q=1,me=(D[1]||"").length,He=0;He<me;He++)Q+="0";return ie.quick(p,Q).simplify()},ie.prototype={multiply:function(p){if(this.isOne())return p.clone();if(p.isOne())return this.clone();var D=this.clone();return D.num=D.num.multiply(p.num),D.den=D.den.multiply(p.den),D.simplify()},divide:function(p){if(p.equals(0))throw new Fe("Division by zero not allowed!");return this.clone().multiply(p.clone().invert()).simplify()},subtract:function(p){return this.clone().add(p.clone().neg())},neg:function(){return this.num=this.num.multiply(-1),this},add:function(_t){var D=this.den,Q=_t.den,me=this.clone(),He=me.num,_t=_t.num;return D.equals(Q)?me.num=He.add(_t):(me.num=He.multiply(Q).add(_t.multiply(D)),me.den=D.multiply(Q)),me.simplify()},mod:function(Q){var D=this.clone(),Q=Q.clone();return D.num=D.num.multiply(Q.den),D.den=D.den.multiply(Q.den),Q.num=Q.num.multiply(this.den),Q.den=Q.den.multiply(this.den),D.num=D.num.mod(Q.num),D.simplify()},simplify:function(){var p=u.gcd(this.num,this.den);return this.num=this.num.divide(p),this.den=this.den.divide(p),this},clone:function(){var p=new ie;return p.num=new u(this.num),p.den=new u(this.den),p},decimal:function(p){var D=this.num.isNegative()?"-":"";if(this.num.equals(this.den))return"1";p=p||$.PRECISION,p++;for(var Q=[],me=this.num.abs(),He=this.den,_t=0;_t<p;_t++){var Gt=me.divide(He),bt=me.subtract(Gt.multiply(He));if(Q.push(Gt),bt.equals(0))break;me=bt.times(10)}var un=Q.shift();if(Q.length===0)return D+un.toString();if(_t===p){for(var Yt=[],_t=0;_t<2;_t++)Yt.unshift(Q.pop());Q.push(Math.round(Yt.join(".")))}return D+(un.toString()+"."+Q.join(""))},toDecimal:function(p){return(p=p||$.PRECISION)?this.decimal(p):this.num/this.den},qcompare:function(p){return[this.num.multiply(p.den),p.num.multiply(this.den)]},equals:function(p){return isNaN(p)||(p=new ie(p)),p=this.qcompare(p),p[0].equals(p[1])},absEquals:function(p){return isNaN(p)||(p=new ie(p)),p=this.qcompare(p),p[0].abs().equals(p[1])},greaterThan:function(p){return isNaN(p)||(p=new ie(p)),p=this.qcompare(p),p[0].gt(p[1])},gte:function(p){return this.greaterThan(p)||this.equals(p)},lte:function(p){return this.lessThan(p)||this.equals(p)},lessThan:function(p){return isNaN(p)||(p=new ie(p)),p=this.qcompare(p),p[0].lt(p[1])},isInteger:function(){return this.den.equals(1)},negate:function(){return this.num=this.num.multiply(-1),this},invert:function(){var p,D=this.den;return this.num.equals(0)||(p=this.num.isNegative(),this.den=this.num.abs(),this.num=D,p&&(this.num=this.num.multiply(-1))),this},isOne:function(){return this.num.equals(1)&&this.den.equals(1)},sign:function(){return this.num.isNegative()?-1:1},abs:function(){return this.num=this.num.abs(),this},gcd:function(p){return ie.quick(u.gcd(p.num,this.num),u.lcm(p.den,this.den))},toString:function(){return this.den.equals(1)?this.num.toString():this.num.toString()+"/"+this.den.toString()},valueOf:function(){return $.USE_BIG?new h(this.num.toString()).div(new h(this.den.toString())):this.num/this.den},isNegative:function(){return this.toDecimal()<0}},x.imaginary=function(){var p=new x($.IMAGINARY);return p.imaginary=!0,p},x.infinity=function(p){var D=new x("Infinity");return p===-1&&D.negate(),D},x.shell=function(p,D){return D=new x(D),D.group=p,D.symbols={},D.length=0,D},x.unwrapSQRT=function(p,D){var Q,me=p.power;return p.fname===N&&(p.isLinear()||D)&&((Q=p.args[0].clone()).power=Q.power.multiply(new ie(.5)),Q.multiplier=Q.multiplier.multiply(p.multiplier),p=Q,D&&(p.power=me.multiply(new ie(.5)))),p},x.hyp=function(p,D){return p=p||new x(0),D=D||new x(0),i.sqrt(i.add(i.pow(p.clone(),new x(2)),i.pow(D.clone(),new x(2))))},x.toPolarFormArray=function(Q){var D=Q.realpart(),Q=Q.imagpart();return[x.hyp(D,Q),D.equals(0)?i.parse("pi/2"):i.trig.atan(i.divide(Q,D))]},x.unwrapPARENS=function(p){if(p.fname!=="")return p;var D=p.args[0];return D.power=D.power.multiply(p.power),D.multiplier=D.multiplier.multiply(p.multiplier),p.fname===""?x.unwrapPARENS(D):D},x.create=function(p,D){return i.parse("("+p+")^("+(D=D===void 0?1:D)+")")},x.prototype={getNth:function(p){var D=wt(i.pow(i.parse(this.multiplier),i.parse(p).invert())),Q=i.parse(rt(D));return wt(i.pow(Q,i.parse(p))).equals(i.parse(this.multiplier))?Q:D},isToNth:function(p){var D,Q=this.getNth(p),Q=De(Q);return this.group===je?(D=!0,this.each(function(me){me.isToNth(p)||(D=!1)})):D=this.group===le||De(i.divide(i.parse(this.power),i.parse(p))),Q&&D},isSquare:function(){return this.isToNth(2)},isCube:function(){return this.isToNth(3)},isSimple:function(){return this.power.equals(1)&&this.multiplier.equals(1)},powSimp:function(){if(this.group!==je)return this.clone();var p=[],me=this.multiplier.sign();this.each(function(fn){if(fn=fn.power,nt(fn)||fn.equals(1))return this.clone();p.push(fn)});var D,Q=new ie(K(p)),me=this.multiplier.sign(),He=this.multiplier.clone().abs(),_t=En.ifactor(He),Gt=new ie(1),bt=new ie(1);for(D in _t){var un=new ie(_t[D]);un.lessThan(Q)||(un=un.divide(Q).subtract(new ie(1)),bt=bt.multiply(new ie(D))),Gt=Gt.multiply(i.parse(Ae(D)+"^"+Ae(un)).multiplier)}var Yt=new x(bt);return this.each(function(fn){(fn=fn.clone()).power=fn.power.divide(Q),Yt=i.multiply(Yt,fn)}),He=i.symfunction(O,[Yt]),He.power=Q,He.multiplier=me<0?Gt.negate():Gt,He},equals:function(p){return nt(p)||(p=new x(p)),this.value===p.value&&this.power.equals(p.power)&&this.multiplier.equals(p.multiplier)&&this.group===p.group},abs:function(){var p=this.clone();return p.multiplier.abs(),p},gt:function(p){return nt(p)||(p=new x(p)),this.isConstant()&&p.isConstant()&&this.multiplier.greaterThan(p.multiplier)},gte:function(p){return nt(p)||(p=new x(p)),this.equals(p)||this.isConstant()&&p.isConstant()&&this.multiplier.greaterThan(p.multiplier)},lt:function(p){return nt(p)||(p=new x(p)),this.isConstant()&&p.isConstant()&&this.multiplier.lessThan(p.multiplier)},lte:function(p){return nt(p)||(p=new x(p)),this.equals(p)||this.isConstant()&&p.isConstant()&&this.multiplier.lessThan(p.multiplier)},isPoly:function(p){var D=this.group,Q=this.power;if(!De(Q)||Q<0)return!1;if(D===le||D===Ce||this.isConstant(!0))return!0;if(Q=yt(this),D===je&&Q.length===1){var me=Q[0];if(!me)return!0;for(_t in this.symbols){var He=this.symbols[_t];if(He.group===ce&&!He.args[0].isConstant()||!He.contains(me)&&!He.isConstant(!0))return!1}return!0}if(this.isComposite()||D===je&&p){if(!p&&1<Q.length)return!1;for(var _t in this.symbols)if(!this.symbols[_t].isPoly(p))return!1;return!0}return!1},stripVar:function(p,D){var Q;return this.group!==Be&&this.group!==Ce||this.value!==p?this.group===je&&this.isLinear()?(Q=new x(1),this.each(function(me){me.contains(p,!0)||(Q=i.multiply(Q,me.clone()))}),Q.multiplier=Q.multiplier.multiply(this.multiplier)):this.group!==_e||this.isLinear()?this.group===_e&&this.isLinear()?(Q=new x(0),this.each(function(me){me.contains(p)||((me=me.clone()).multiplier=me.multiplier.multiply(this.multiplier),Q=i.add(Q,me))}),Q.equals(0)&&(Q=new x(this.multiplier))):Q=this.group===Oe&&this.power.contains(p,!0)||this.group===ce&&this.contains(p)?new x(this.multiplier):this.clone():Q=new x(this.multiplier):Q=new x(D?0:this.multiplier),Q},toArray:function(p,D){D=D||{arr:[],add:function(Gt,bt){var un=this.arr[bt];this.arr[bt]=un?i.add(un,Gt):Gt}};var Q=this.group;if(Q===Ce&&this.contains(p))D.add(new x(this.multiplier),this.power);else if(Q===je){var me=this.stripVar(p),He=i.divide(this.clone(),me.clone()),He=He.isConstant()?0:He.power;D.add(me,He)}else if(Q===Be&&this.value===p)this.each(function(Gt,bt){D.add(Gt.stripVar(p),bt)});else if(Q===_e)this.each(function(Gt){Gt.toArray(p,D)});else{if(this.contains(p))throw new Ye("Cannot convert to array! Exiting");D.add(this.clone(),0)}D=D.arr;for(var _t=0;_t<D.length;_t++)D[_t]||(D[_t]=new x(0));return D},hasFunc:function(p){var D=this.group===ce||this.group===Oe;if(D&&!p||D&&this.contains(p))return!0;if(this.symbols){for(var Q in this.symbols)if(this.symbols[Q].hasFunc(p))return!0}return!1},sub:function(p,D){p=nt(p)?p.clone():i.parse(p),D=nt(D)?D.clone():i.parse(D),p.group!==le&&p.group!==te||de("Cannot substitute a number. Must be a variable");var Q,me=!1,He=p.multiplier.equals(1),_t=this.multiplier.clone();if(this.value===p.value&&(this.group!==Be&&p.group!==Be||this.group===Be&&p.group===Be))(He||p.multiplier.equals(this.multiplier))&&(p.isLinear()?Q=D:p.power.equals(this.power)&&(Q=D,me=!0),p.multiplier.equals(this.multiplier)&&(_t=new ie(1)));else if(this.group===je||this.previousGroup===je)Q=new x(1),this.each(function(Xt){Xt=i.parse(Xt.sub(p,D)),Q=i.multiply(Q,Xt)});else if(this.isComposite()){var Gt=this.clone();if(p.isComposite()&&Gt.isComposite()&&Gt.isLinear()&&p.isLinear()){var bt,un=function(Xt,Ke){for(var Pn in Xt.symbols)if(Pn=Xt.symbols[Pn],Pn.isComposite()&&un(Pn,Ke)||Pn.equals(Ke))return!0;return!1};for(bt in p.symbols)if(!un(Gt,p.symbols[bt]))return Gt.clone();Q=i.add(i.subtract(Gt.clone(),p),D)}else Q=new x(0),Gt.each(function(Xt){Q=i.add(Q,Xt.sub(p,D))})}else if(this.group===Oe)Q=i.parse(this.value).sub(p,D);else if(this.group===ce){for(var Yt=[],fn=0;fn<this.args.length;fn++){var Un=this.args[fn];nt(Un)||(Un=i.parse(Un)),Yt.push(Un.sub(p,D))}Q=i.symfunction(this.fname,Yt)}return Q?(me||(me=this.group===Oe?this.power.sub(p,D):i.parse(this.power),Q=i.pow(Q,me)),Q.multiplier=Q.multiplier.multiply(_t),Q):this.clone()},isMonomial:function(){if(this.group===Ce)return!0;if(this.group!==je)return!1;for(var p in this.symbols)if(this.symbols[p].group!==Ce)return!1;return!0},isPi:function(){return this.group===Ce&&this.value==="pi"},sign:function(){return this.multiplier.sign()},isE:function(){return this.value==="e"},isSQRT:function(){return this.fname===N},isConstant:function(p,D){if(D&&this.group===je){for(var Q in this.symbols)if(this.symbols[Q].isConstant(!0))return!0}if(p==="functions"&&this.isComposite()){var me=!0;return this.each(function(_t){_t.isConstant(p,D)||(me=!1)},!0),me}if(p==="all"&&(this.isPi()||this.isE()))return!0;if(p&&this.group===ce){for(var He=0;He<this.args.length;He++)if(!this.args[He].isConstant(p))return!1;return!0}return p?en(this):this.value===b},isImaginary:function(){if(this.imaginary)return!0;if(this.symbols){for(var p in this.symbols)if(this.symbols[p].isImaginary())return!0}return!1},realpart:function(){if(this.isConstant())return this.clone();if(this.imaginary)return new x(0);if(this.isComposite()){var p=new x(0);return this.each(function(D){p=i.add(p,D.realpart())}),p}return this.isImaginary()?new x(0):this.clone()},imagpart:function(){if(this.group===Ce&&this.isImaginary())return new x(this.multiplier);if(this.isComposite()){var p=new x(0);return this.each(function(D){p=i.add(p,D.imagpart())}),p}return this.group===je?this.stripVar($.IMAGINARY):new x(0)},isInteger:function(){return this.isConstant()&&this.multiplier.isInteger()},isLinear:function(p){if(p){if(this.isConstant())return!0;if(this.group===Ce)return this.value!==p||this.power.equals(1);if(this.isComposite()&&this.power.equals(1)){for(var D in this.symbols)if(!this.symbols[D].isLinear(p))return!1;return!0}return this.group===je&&this.symbols[p]?this.symbols[p].isLinear(p):!1}return this.power.equals(1)},containsFunction:function(p){if(typeof p=="string"&&(p=[p]),this.group===ce&&p.indexOf(this.fname)!==-1)return!0;if(this.symbols){for(var D in this.symbols)if(this.symbols[D].containsFunction(p))return!0}return!1},multiplyPower:function(p){if(this.group===le&&this.multiplier.equals(1))return this;var D,Q=this.power;return this.group!==Oe&&p.group===le?(D=p.multiplier,this.group!==le||D.isInteger()||this.convert(te),this.power=Q.equals(1)?D.clone():Q.multiply(D),this.group===te&&De(this.power)&&(this.value=Math.pow(this.value,this.power),this.toLinear(),this.convert(le))):(this.group!==Oe&&(Q=new x(Q),this.convert(Oe)),this.power=i.multiply(Q,p)),this},setPower:function(p,D){return this.group===le&&this.multiplier.equals(1)||(this.group!==Oe||nt(p)?(Q=!1,nt(p)&&(p.group===le?p=p.multiplier:Q=!0),Q=Q?Oe:te,this.power=p,this.group===le&&Q&&this.convert(Q,D)):(this.group=this.previousGroup,delete this.previousGroup,this.group===le?(this.multiplier=new ie(this.value),this.value=b):this.power=p)),this;var Q},isInverse:function(){return this.group===Oe?this.power.multiplier.lessThan(0):this.power<0},clone:function(p){var D,Q=p||new x(0),me=["value","group","length","previousGroup","imaginary","fname","args","isInfinity","scientific"],He=me.length;if(this.symbols)for(var _t in Q.symbols={},this.symbols)Q.symbols[_t]=this.symbols[_t].clone();for(D=0;D<He;D++)this[me[D]]!==void 0&&(Q[me[D]]=this[me[D]]);return Q.power=this.power.clone(),Q.multiplier=this.multiplier.clone(),this.isConversion&&(Q.isConversion=this.isConversion),this.isUnit&&(Q.isUnit=this.isUnit),Q},toUnitMultiplier:function(p){return this.multiplier.num=new u(this.multiplier.num.isNegative()&&p?-1:1),this.multiplier.den=new u(1),this},toLinear:function(){return this.power.equals(1)||this.setPower(new ie(1)),this},each:function(p,D){if(this.symbols)for(var Q in this.symbols){var me=this.symbols[Q];if(me.group===Be&&D)for(var He in me.symbols)p.call(Q,me.symbols[He],He);else p.call(this,me,Q)}else p.call(this,this,this.value)},valueOf:function(){return this.group===le?this.multiplier.valueOf():this.power===0?1:this.multiplier===0?0:re(this,"decimals")},contains:function(p,D){p=String(p);var Q=this.group;if(this.value===p)return!0;if(this.symbols){for(var me in this.symbols)if(this.symbols[me].contains(p,D))return!0}if(Q===ce||this.previousGroup===ce){for(var He=0;He<this.args.length;He++)if(this.args[He].contains(p,D))return!0}return Q===Oe&&(D&&this.power.contains(p,D)||this.value===p)?!0:this.value===p},negate:function(){return this.multiplier.negate(),this.group!==_e&&this.group!==Be||this.distributeMultiplier(),this},invert:function(p,D){return p||(this.multiplier=this.multiplier.invert()),nt(this.power)?this.power.negate():this.group===je&&D?this.each(function(Q){return Q.invert()}):this.power&&this.group!==le&&this.power.negate(),this},distributeMultiplier:function(p){if(p=p?this.power.absEquals(1):this.power.equals(1),this.symbols&&p&&this.group!==je&&!this.multiplier.equals(1)){for(var D in this.symbols)D=this.symbols[D],D.multiplier=D.multiplier.multiply(this.multiplier),D.distributeMultiplier();this.toUnitMultiplier()}return this},distributeExponent:function(){if(!this.power.equals(1)){var p,D=this.power;for(p in this.symbols){var Q=this.symbols[p];Q.group===Oe?Q.power=i.multiply(Q.power,new x(D)):this.symbols[p].power=this.symbols[p].power.multiply(D)}this.toLinear()}return this},convert:function(p,D){var Q;return ce<p?(Q=this.clone(),this.symbols={},(p===je?Q:this).toUnitMultiplier(),this.group===ce&&(Q.args=this.args,delete this.args,delete this.fname),this.isImgSymbol&&delete this.isImgSymbol,this.toLinear(),this.symbols[Q.keyForGroup(p)]=Q,this.group=p,this.length=1):p===Oe?this.group===le&&this.multiplier.equals(1)||(this.group!==Oe&&(this.previousGroup=this.group),this.group===le?(this.value=this.multiplier.num.toString(),this.toUnitMultiplier()):this.value=re(this,"hash"),this.group=Oe):p===le?(Q=this.multiplier.toDecimal(),this.symbols&&(this.symbols=void 0),new x(this.group===te?Q*Math.pow(this.value,this.power):Q).clone(this)):p===te&&this.group===le&&(this.value=D?this.multiplier.num.toString():Math.abs(this.multiplier.num.toString()),this.toUnitMultiplier(!D),this.group=te),this},insert:function(p,D){var Q,me;return nt(p)||de("Object "+p+" is not of type Symbol!"),this.symbols&&(me=this.group,ce<me&&(me=(Q=p.keyForGroup(me))in this.symbols&&this.symbols[Q],D==="add"?(D=Q,me?(this.symbols[D]=i.add(me,p),this.symbols[D].multiplier.equals(0)&&(delete this.symbols[D],this.length--,this.length===0&&(this.convert(le),this.multiplier=new ie(0)))):(this.symbols[Q]=p,this.length++)):(p.group===te&&De(p.power)&&p.convert(le),p.group!==Oe?(this.multiplier=this.multiplier.multiply(p.multiplier),p.toUnitMultiplier()):(p.parens=p.multiplier.lessThan(0),this.multiplier=this.multiplier.multiply(p.multiplier.clone().abs()),p.toUnitMultiplier(!0)),me&&((p=i.multiply(ht(this.symbols,Q),p)).isConstant()&&(this.multiplier=this.multiplier.multiply(p.multiplier),p=new x(1)),this.length--),p.isOne(!0)?p.multiplier.lessThan(0)&&this.negate():(this.symbols[Q]=p,this.length++)),this.length===0&&this.convert(le),this.group!==_e&&this.group!==je||this.updateHash())),this},attach:function(p){if(nn(p)){for(var D=0;D<p.length;D++)this.insert(p[D],"add");return this}return this.insert(p,"add")},combine:function(p){if(nn(p)){for(var D=0;D<p.length;D++)this.insert(p[D],"multiply");return this}return this.insert(p,"multiply")},updateHash:function(){if(this.group!==le)if(this.group===ce){for(var p="",D=this.args,Q=this.fname===O,me=0;me<D.length;me++)p+=(me===0?"":",")+re(D[me]);var He=Q?"":this.fname;this.value=He+(Q?p:Ae(p))}else this.group!==Ce&&this.group!==Be&&(this.value=re(this,"hash"))},keyForGroup:function(p){var D,Q=this.group;if(Q===le)D=this.value;else if(Q===Ce||Q===te)D=p===Be?this.power.toDecimal():this.value;else if(Q===ce)D=p===Be?this.power.toDecimal():re(this,"hash");else{if(Q===Be)return D=p===je?re(this,"hash"):p===_e?this.power.equals(1)?this.value:Ae(re(this,"hash"))+$.POWER_OPERATOR+this.power.toDecimal():p===Be?this.power.toString():this.value;Q===_e?(p===_e&&(D=re(this,"hash")),D=p===Be?this.power.toDecimal():this.value):Q===je?D=p===Be?this.power.toDecimal():re(this,"hash"):Q===Oe&&(D=p===Be?re(this.power):re(this,"hash"))}return D},collectSymbols:function(p,D,Q,me){var He=[];if(this.symbols)for(var _t in this.symbols)_t=this.symbols[_t],!me||_t.group!==Be&&_t.group!==_e?He.push(p?p(_t,D):_t):He=He.concat(_t.collectSymbols());else He.push(this);return He.sort(Q=Q===null?void 0:Q)},latex:function(p){return q.latex(this,p)},text:function(p){return re(this,p)},isOne:function(p){return this.group===le?this.multiplier[p?"absEquals":"equals"](1):this.power.equals(0)},isComposite:function(){var p=this.group,D=this.previousGroup;return p===_e||p===Be||D===Be||D===_e},isCombination:function(){var p=this.group,D=this.previousGroup;return p===je||D===je},lessThan:function(p){return this.multiplier.lessThan(p)},greaterThan:function(p){return nt(p)||(p=new x(p)),!(!this.isConstant(!0)||!p.isConstant(!0))&&this.multiplier.greaterThan(p.multiplier)},getDenom:function(){var p=this.clone();if((p=this.group===je&&this.power.lessThan(0)?i.expand(p):p).power.lessThan(0)||p.group===Oe&&p.power.multiplier.lessThan(0)){var D,Q=i.parse(p.multiplier.den);(D=p.toUnitMultiplier()).power.negate(),D=i.multiply(Q,D)}else if(p.group===je)for(var me in D=i.parse(p.multiplier.den),p.symbols){var He=p.symbols[me];(He.power<0||He.group===Oe&&He.power.multiplier.lessThan(0))&&(D=i.multiply(D,p.symbols[me].clone().invert()))}else D=i.parse(p.multiplier.den);return D},getNum:function(){var p,D=this.clone();return(D=D.group===je&&D.power.lessThan(0)?i.expand(D):D).power.greaterThan(0)&&D.group!==je||D.group===Oe&&D.power.multiplier.greaterThan(0)?p=i.multiply(i.parse(D.multiplier.num),D.toUnitMultiplier()):D.group===je?(p=i.parse(D.multiplier.num),D.each(function(Q){(0<Q.power||Q.group===Oe&&0<Q.power.multiplier)&&(p=i.multiply(p,Q.clone()))})):p=i.parse(D.multiplier.num),p},toString:function(){return this.text()}};var ae={convert:function(p,D){var Q,me,He,_t;return p===0?_t=[0,1]:p<1e-6||1e20<p?(Q=this.quickConversion(Number(p)))[1]<=1e20?(He=p/(me=Math.abs(p)),(_t=this.fullConversion(me.toFixed((Q[1]+"").length-1)))[0]=_t[0]*He):_t=Q:_t=this.fullConversion(p),_t},quickConversion:function(p){return(function(D){F.isScientific(D)&&(D=Ft(D));var Q=(me=(D=(me="",(D=(Q=typeof(Q=D)!="string"?Q.toString():Q).charAt(0))==="-"?(Q=Q.substr(1,Q.length),me="-"):D==="+"&&(Q=Q.substr(1,Q.length)),{sign:me,value:Q})).value.split(".")).length===1?me[0]:me[0]+me[1],me=me[1]?me[1].length:0,me=`1${"0".repeat(me)}`;return Q!=="0"&&(Q=Q.replace(/^0+/,"")),[D.sign+Q,me]})(p)},fullConversion:function(p){for(var D=!1,Q=0,me=1,He=1,_t=0,Gt=0,bt=p;!D;){1e4<++Gt&&(D=!0);var fn=Math.floor(bt),un=Q+fn*He,Yt=me+fn*_t,fn=bt-fn;fn<1e-16&&(D=!0),bt=1/fn,Q=He,me=_t,He=un,_t=Yt,(Math.abs(un/Yt-p)<1e-16||30<Gt)&&(D=!0)}return[un,Yt]}},q={parser:(function(){var p,D=["classes","setOperator","getOperators","getBrackets","tokenize","toRPN","tree","units"],Q=new W;for(p in Q)D.indexOf(p)===-1&&delete Q[p];return Q.setOperator({precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(me){return me}}),Q.setOperator({precedence:8,operator:"\\,",action:"slash_comma",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(me){return me}}),Q.getBrackets()["{"].maps_to=void 0,Q})(),space:"~",dot:" \\cdot ",latex:function(p,D){if((p=p.clone?p.clone():p)instanceof i.classes.Collection&&(p=p.elements),nn(p)){for(var Q=[],me=0;me<p.length;me++){var He=p[me];nt(He)||(He=i.parse(He)),Q.push(this.latex(He,D))}return this.brackets(Q.join(", "),"square")}if(Me(p)){for(var _t=`\\begin{pmatrix}
`,me=0;me<p.elements.length;me++){for(var Gt=[],bt=p.elements[me],un=0;un<bt.length;un++)Gt.push(this.latex(bt[un],D));_t+=Gt.join(" & "),me<p.elements.length-1&&(_t+=`\\\\
`)}return _t+="\\end{pmatrix}"}if(Ht(p)){for(_t="\\left[",me=0;me<p.elements.length;me++)_t+=this.latex(p.elements[me],D)+" "+(me!==p.elements.length-1?",\\,":"");return _t+="\\right]"}if(ut(p)){for(_t="\\{",me=0;me<p.elements.length;me++)_t+=this.latex(p.elements[me],D)+" "+(me!==p.elements.length-1?",\\,":"");return _t+="\\}"}var Yt,fn=D==="decimal"||D==="decimals",Un=(p=p.clone()).power,Xt=A(Un),Ke=p.multiplier.lessThan(0);if(p.group===te&&fn)return String(p.multiplier.toDecimal()*Math.pow(p.value,p.power.toDecimal()));p.multiplier=p.multiplier.abs(),Yt=fn?[String(p.multiplier.toDecimal()),""]:[p.multiplier.num,p.multiplier.den];var Pn,er=this.value(p,Xt,D,Ke);return Xt&&Un.negate(),fn?(Pn=nt(Un)?q.latex(Un,D):String(Un.toDecimal()),String(Pn)==="1"&&(Pn="")):Pn=nt(Un)?this.latex(Un,D):this.formatFrac(Un,!0),Un=["",""],Un[Xt?1:0]=Pn,((Ke?"-":"")+this.set(Yt,er,Un,p.group===je)).replace(/\+\-/gi,"-")},greek:{alpha:"\\alpha",beta:"\\beta",gamma:"\\gamma",delta:"\\delta",epsilon:"\\epsilon",zeta:"\\zeta",eta:"\\eta",theta:"\\theta",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",mu:"\\mu",nu:"\\nu",xi:"\\xi",omnikron:"\\omnikron",pi:"\\pi",rho:"\\rho",sigma:"\\sigma",tau:"\\tau",upsilon:"\\upsilon",phi:"\\phi",chi:"\\chi",psi:"\\psi",omega:"\\omega",Gamma:"\\Gamma",Delta:"\\Delta",Epsilon:"\\Epsilon",Theta:"\\Theta",Lambda:"\\Lambda",Xi:"\\Xi",Pi:"\\Pi",Sigma:"\\Sigma",Phi:"\\Phi",Psi:"\\Psi",Omega:"\\Omega"},symbols:{arccos:"\\arccos",cos:"\\cos",csc:"\\csc",exp:"\\exp",ker:"\\ker",limsup:"\\limsup",min:"\\min",sinh:"\\sinh",arcsin:"\\arcsin",cosh:"\\cosh",deg:"\\deg",gcd:"\\gcd",lg:"\\lg",ln:"\\ln",Pr:"\\Pr",sqrt:"\\sqrt",sup:"\\sup",arctan:"\\arctan",cot:"\\cot",det:"\\det",hom:"\\hom",lim:"\\lim",log:"\\log",LN:"\\LN",sec:"\\sec",tan:"\\tan",arg:"\\arg",coth:"\\coth",dim:"\\dim",inf:"\\inf",liminf:"\\liminf",max:"\\max",sin:"\\sin",tanh:"\\tanh"},value:function(p,D,Q,me){var He,_t,Gt,bt,un,Yt,fn=p.group,Un=p.previousGroup,Xt=["",""],Ke=D?1:0;if(p.isInfinity)Xt[Ke]="\\infty";else if(fn===Ce||fn===te||Un===Ce||Un===te||Un===le){(ue=this.formatSubscripts(p.value)).replace&&(ue=ue.replace(/(.+)_$/,"$1\\_"));var Pn=String(ue).split("_"),D=this.greek[Pn[0]];D&&(Pn[0]=D,ue=Pn.join("_")),(p=this.symbols[Pn[0]])&&(Pn[0]=p,ue=Pn.join("_")),Xt[Ke]=ue}else if(fn===ce||Un===ce){for(var er,nr,or,Cn,Hn=[],Pn=p.fname,mr=0;mr<p.args.length;mr++){var Er,ei=typeof(Er=p.args[mr])=="string"?Er:this.latex(Er,Q);Hn.push(ei)}Pn===N?Xt[Ke]="\\sqrt"+this.braces(Hn.join(",")):Pn===R?Xt[Ke]=this.brackets(Hn.join(","),"abs"):Pn===O?Xt[Ke]=this.brackets(Hn.join(","),"parens"):Pn==="limit"?Xt[Ke]=" \\lim\\limits_{"+Hn[1]+" \\to "+Hn[2]+"} "+Hn[0]:Pn==="integrate"?Xt[Ke]="\\int"+this.braces(Hn[0])+this.braces("d"+Hn[1]):Pn==="defint"?Xt[Ke]="\\int\\limits_"+this.braces(Hn[1])+"^"+this.braces(Hn[2])+" "+Hn[0]+" d"+Hn[3]:Pn===B||Pn===j?((Er=p.args[0]).power.equals(1)&&(Er.isComposite()||Er.isCombination())&&(Hn[0]=this.brackets(Hn[0])),Xt[Ke]=Hn[0]+(Pn===B?"!":"!!")):Pn==="floor"?Xt[Ke]="\\left \\lfloor"+this.braces(Hn[0])+"\\right \\rfloor":Pn==="ceil"?Xt[Ke]="\\left \\lceil"+this.braces(Hn[0])+"\\right \\rceil":Pn===$.LOG&&1<Hn.length?Xt[Ke]="\\mathrm"+this.braces($.LOG)+"_"+this.braces(Hn[1])+this.brackets(Hn[0]):Pn===$.LOG10?Xt[Ke]="\\mathrm"+this.braces($.LOG)+"_"+this.braces(10)+this.brackets(Hn[0]):Pn==="sum"?(er=Hn[0],nr=Hn[1],or=Hn[2],Cn=Hn[3],Xt[Ke]="\\sum\\limits_{"+this.braces(nr)+"="+this.braces(or)+"}^"+this.braces(Cn)+" "+this.braces(er)):Pn==="product"?(er=Hn[0],nr=Hn[1],or=Hn[2],Cn=Hn[3],Xt[Ke]="\\prod\\limits_{"+this.braces(nr)+"="+this.braces(or)+"}^"+this.braces(Cn)+" "+this.braces(er)):Pn==="nthroot"?Xt[Ke]="\\sqrt["+Hn[1]+"]"+this.braces(Hn[0]):Pn==="mod"?Xt[Ke]=Hn[0]+" \\bmod "+Hn[1]:Pn==="realpart"?Xt[Ke]="\\operatorname{Re}"+this.brackets(Hn[0]):Pn==="imagpart"?Xt[Ke]="\\operatorname{Im}"+this.brackets(Hn[0]):(Pn=Pn!==""?"\\mathrm"+this.braces(Pn.replace(/_/g,"\\_")):"",p.isConversion?Xt[Ke]=Pn+this.brackets(Hn.join(""),"parens"):Xt[Ke]=Pn+this.brackets(Hn.join(","),"parens"))}else if(p.isComposite()){for(var hr=p.collectSymbols().sort(fn===_e||Un===_e?function(Xe,pt){return pt.group-Xe.group}:function(Xe,pt){return Xe=nt(Xe.power)?-1:Xe.power,(nt(pt.power)?-1:pt.power)-Xe}),v=[],H=hr.length,mr=0;mr<H;mr++)v.push(q.latex(hr[mr],Q));var ue=v.join("+");Xt[Ke]=p.isLinear()&&p.multiplier.equals(1)&&!me?ue:this.brackets(ue,"parens")}else fn!==je&&Un!==Oe&&Un!==je||(fn===je&&p.distributeExponent(),He=[],_t=[],Gt=[],bt=[],Yt=un=0,fn=function(Se,Xe,pt){if(1<pt&&0<Xe.length)for(var dt=Xe.length,Ze=0;Ze<dt;Ze++){var tn=Xe[Ze],an=Se[tn];/^\\left\(.+\\right\)\^\{.+\}$/g.test(an)||/^\\left\(.+\\right\)$/g.test(an)||(Se[tn]=q.brackets(an,"parens"))}return Se},p.each(function(Se){var Xe;A(Se.power)?(Xe=q.latex(Se.invert(),Q),Yt++,Se.isComposite()&&(p.multiplier.den!=1&&Math.abs(Se.power)==1&&(Xe=q.brackets(Xe,"parens")),Gt.push(He.length)),He.push(Xe)):(Xe=q.latex(Se,Q),un++,Se.isComposite()&&(p.multiplier.num!=1&&Math.abs(Se.power)==1&&(Xe=q.brackets(Xe,"parens")),bt.push(_t.length)),_t.push(Xe))}),fn(_t,bt,un),Xt[0]=_t.join(this.dot),fn(He,Gt,Yt),Xt[1]=He.join(this.dot));return Xt},set:function(un,Yt,bt,me){function He(fn){return/^\\left\(.+\\right\)$/.test(fn)}var _t;bt=bt&&this.formatP(bt),me&&(_t=bt[0],bt[0]=""),Yt=this.merge(Yt,bt);var Gt=un[0],bt=un[1],un=Yt[0],Yt=Yt[1];return un&&Number(Gt)===1&&(Gt=""),Number(bt)===1&&(bt=""),un=this.join(Gt,un,He(un)?"":this.dot),Yt=this.join(bt,Yt,He(Yt)?"":this.dot),un&&Yt?(Yt=this.frac(un,Yt),Yt=me&&_t?this.brackets(Yt)+_t:Yt):un},merge:function(p,D){for(var Q=[],me=0;me<2;me++)Q[me]=p[me]+D[me];return Q},join:function(p,D,Q){return p||D?p&&!D?p:D&&!p?D:p+Q+D:""},formatSubscripts:function(p){for(var D=p.toString().split("_"),Q="";1<D.length;)0<D.length&&(Q="_"+this.braces(D.pop()+Q));return D[0]+Q},formatP:function(p){for(var D=0;D<2;D++){var Q=p[D];Q&&(p[D]="^"+this.braces(Q))}return p},formatFrac:function(me,D){var Q=me.num.toString(),me=me.den.toString();return D&&Q==="1"&&me==="1"?"":me==="1"?Q:this.frac(Q,me)},frac:function(p,D){return"\\frac"+this.braces(p)+this.braces(D)},braces:function(p){return"{"+p+"}"},brackets:function(p,D){return D={parens:["(",")"],square:["[","]"],brace:["{","}"],abs:["|","|"],angle:["\\langle","\\rangle"]}[D=D||"parens"],"\\left"+D[0]+p+"\\right"+D[1]},filterTokens:function(p){var D=[];nn(p)&&(D.type=p.type);for(var Q=["\\","left","right","big","Big","large","Large"],me=0,He=p.length;me<He;me++){var _t=p[me],Gt=p[me+1];_t.value==="\\"&&Gt.value==="\\"?D.push(_t):nn(_t)?D.push(q.filterTokens(_t)):Q.indexOf(_t.value)===-1&&D.push(_t)}return D},parse:function(p){function D(nr){return _t[nr===void 0?++bt:bt+=nr]}function Q(){return q.parse(D())}function me(nr){return nr in Gt?Gt[nr]:nr==="*"&&_t[bt+1].value==="&"?(D(2),","):nr==="&"?(D(),","):nr==="\\"?"],[":nr}var He="",_t=this.filterTokens(p),Gt={cdot:"",times:"",infty:"Infinity"},bt=0;for(un=_t.length;bt<un;bt++){var un,Yt,fn,Un,Xt,Ke,Pn,er=_t[bt];er.value==="frac"?He+=Q()+"/"+Q():er.value in q.symbols?er.value===N&&_t[bt+1].type==="vector"&&_t[bt+2].type==="Set"?(Xt=Q(),He+=Q()+"^"+Ae("1/"+Xt)):He+=er.value+Q():er.value==="int"?(Ke=Q(),bt++,fn=me((fn=D().value).substring(1,fn.length)),He+="integrate"+Ae(Ke+","+fn)):er.value==="int_"?(un=Q(),bt++,(Yt=D().value)===void 0&&(bt--,Yt=Q()),Ke=Q(),(fn=(fn=D().value)===","?D().value:fn)==="differentialD"&&(bt++,fn=D().value),fn==="mathrm"&&(bt++,fn=D().value),He+="defint"+Ae(Ke+","+un+","+Yt+","+fn)):er.value&&er.value.startsWith("int_")?(un=er.value.replace("int_",""),console.log("uppernow"),bt++,(Yt=D().value)===void 0&&(bt--,Yt=Q()),Ke=Q(),(fn=(fn=D().value)===","?D().value:fn)==="differentialD"&&(bt++,fn=D().value),fn==="mathrm"&&(bt++,fn=D().value),He+="defint"+Ae(Ke+","+un+","+Yt+","+fn)):er.value==="mathrm"?He+=(Ke=_t[++bt][0].value)+Q():er.value==="sum_"||er.value==="prod_"?(Un=er.value==="sum_"?"sum":"product",Pn=D(),bt++,Xt=Q(),Ke=Q(),He+=Un+Ae([Ke,me(Pn[0]),me(Pn[2]),me(Xt)].join(","))):er.value==="lim_"?(Pn=D(),He+="limit"+Ae([Q(),me(Pn[0]),me(Pn[2])].join(","))):er.value==="begin"?(Pn=D(),Array.isArray(Pn)&&Pn[0].value==="matrix"&&(He+="matrix([")):er.value==="end"?(Pn=D(),Array.isArray(Pn)&&Pn[0].value==="matrix"&&(He+="])")):Array.isArray(er)?He+=me(q.parse(er)):He+=me(er.value.toString())}return Ae(He)}};function ge(p){Ht(p)?this.elements=p.items.slice(0):nn(p)?this.elements=p.slice(0):this.elements=[].slice.call(arguments)}function be(){var p=arguments,D=p.length,Q=[];if(Me(p))for(Gt=0;Gt<D;Gt++)Q.push(p[Gt].slice(0));else for(var me,He,_t,Gt=0;Gt<D;Gt++)me=p[Gt],Ht(me)&&(me=me.elements),_t=(me=nn(me)?me:[me]).length,He&&He!==_t&&de("Unable to create Matrix. Row dimensions do not match!"),Q.push(me),He=_t;this.elements=Q}function Le(p){if(this.elements=[],p=Ht(p)?p:ge.fromArray(arguments))for(var D=p.elements,Q=0,me=D.length;Q<me;Q++)this.add(D[Q])}ge.arrayPrefill=function(p,D){var Q=[];D=D||0;for(var me=0;me<p;me++)Q[me]=D;return Q},ge.fromArray=function(p){var D=new ge;return D.elements=p,D},ge.fromSet=function(p){return ge.fromArray(p.elements)},ge.prototype={custom:!0,e:function(p){return p<1||p>this.elements.length?null:this.elements[p-1]},set:function(p,D){nt(D)||(D=new x(D)),this.elements[p]=D},dimensions:function(){return this.elements.length},modulus:function(){return Mt("SAFE",function(){return i.pow(this.dot(this.clone()),new x(.5))},void 0,this)},eql:function(p){var D=this.elements.length,Q=p.elements||p;if(D!==Q.length)return!1;do if(Math.abs(i.subtract(this.elements[D-1],Q[D-1]).valueOf())>PRECISION)return!1;while(--D);return!0},clone:function(){for(var p=new ge,D=this.elements.length,Q=0;Q<D;Q++)p.elements.push(this.elements[Q].clone());return this.getter&&(p.getter=this.getter.clone()),p},map:function(p){var D=[];return this.each(function(Q,me){D.push(p(Q,me))}),new ge(D)},each:function(p){for(var D,Q=this.elements.length,me=Q;p(this.elements[D=me-Q],1+D),--Q;);},toUnitVector:function(){return Mt("SAFE",function(){var p=this.modulus();return p.valueOf()===0?this.clone():this.map(function(D){return i.divide(D,p)})},void 0,this)},angleFrom:function(p){return Mt("SAFE",function(){var D=p.elements||p;if(this.elements.length!==D.length)return null;var Q=new x(0),me=new x(0),He=new x(0);this.each(function(bt,un){Q=i.add(Q,i.multiply(bt,D[un-1])),me=i.add(me,i.multiply(bt,bt)),He=i.add(He,i.multiply(D[un-1],D[un-1]))});var me=i.pow(me,new x(.5)),He=i.pow(He,new x(.5)),Gt=i.multiply(me,He);if(Gt.valueOf()===0)return null;var _t=i.divide(Q,Gt),Gt=_t.valueOf();return Gt<-1&&(_t=-1),1<Gt&&(_t=1),new x(Math.acos(_t))},void 0,this)},isParallelTo:function(p){return p=this.angleFrom(p).valueOf(),p===null?null:p<=PRECISION},isAntiparallelTo:function(p){return p=this.angleFrom(p).valueOf(),p===null?null:Math.abs(p-Math.PI)<=PRECISION},isPerpendicularTo:function(p){return p=this.dot(p),p===null?null:Math.abs(p)<=PRECISION},add:function(p){return Mt("SAFE",function(){var D=p.elements||p;return this.elements.length!==D.length?null:this.map(function(Q,me){return i.add(Q,D[me-1])})},void 0,this)},subtract:function(p){return Mt("SAFE",function(){var D=p.elements||p;return this.elements.length!==D.length?null:this.map(function(Q,me){return i.subtract(Q,D[me-1])})},void 0,this)},multiply:function(p){return this.map(function(D){return D.clone()*p.clone()})},x:function(p){return this.multiply(p)},dot:function(p){return Mt("SAFE",function(){var D=p.elements||p,Q=new x(0),me=this.elements.length;if(me!==D.length)return null;for(;Q=i.add(Q,i.multiply(this.elements[me-1],D[me-1])),--me;);return Q},void 0,this)},cross:function(p){var D=p.elements||p;if(this.elements.length!==3||D.length!==3)return null;var Q=this.elements;return Mt("SAFE",function(){return new ge([i.subtract(i.multiply(Q[1],D[2]),i.multiply(Q[2],D[1])),i.subtract(i.multiply(Q[2],D[0]),i.multiply(Q[0],D[2])),i.subtract(i.multiply(Q[0],D[1]),i.multiply(Q[1],D[0]))])},void 0,this)},max:function(){for(var p,D=0,Q=this.elements.length,me=Q;p=me-Q,Math.abs(this.elements[p].valueOf())>Math.abs(D.valueOf())&&(D=this.elements[p]),--Q;);return D},magnitude:function(){var p=new x(0);return this.each(function(D){p=i.add(p,i.pow(D,new x(2)))}),i.sqrt(p)},indexOf:function(p){for(var D,Q=null,me=this.elements.length,He=me;D=He-me,Q===null&&this.elements[D].valueOf()===p.valueOf()&&(Q=1+D),--me;);return Q},text:function(p){return re(this)},toString:function(){return this.text()},latex:function(p){for(var D=[],Q=0;Q<this.elements.length;Q++)D.push(q.latex.call(q,this.elements[Q],p));return"["+D.join(", ")+"]"}},be.identity=function(p){for(var D=new be,Q=0;Q<p;Q++){D.elements.push([]);for(var me=0;me<p;me++)D.set(Q,me,new x(Q===me?1:0))}return D},be.fromArray=function(p){function D(Q){return be.apply(this,Q)}return D.prototype=be.prototype,new D(p)},be.zeroMatrix=function(p,D){for(var Q=new be,me=0;me<p;me++)Q.elements.push(ge.arrayPrefill(D,new x(0)));return Q},(be.prototype={custom:!0,get:function(p,D){if(this.elements[p])return this.elements[p][D]},map:function(p,D){var Q=new be;return this.each(function(me,He,_t){Q.set(He,_t,p.call(Q,me),D)}),Q},set:function(p,D,Q,me){this.elements[p]||(this.elements[p]=[]),this.elements[p][D]=me||nt(Q)?Q:new x(Q)},cols:function(){return this.elements[0].length},rows:function(){return this.elements.length},row:function(p){return!p||p>this.cols()?[]:this.elements[p-1]},col:function(p){var D=this.rows(),Q=[];if(p>this.cols()||!p)return Q;for(var me=0;me<D;me++)Q.push(this.elements[me][p-1]);return Q},eachElement:function(p){for(var D,Q=this.rows(),me=this.cols(),He=0;He<Q;He++)for(D=0;D<me;D++)p.call(this,this.elements[He][D],He,D)},determinant:function(){if(!this.isSquare())return null;for(var p,D=this.toRightTriangular(),Q=D.elements[0][0],me=D.elements.length-1,He=me;Q=i.multiply(Q,D.elements[p=He-me+1][p]),--me;);return Q},isSquare:function(){return this.elements.length===this.elements[0].length},isSingular:function(){return this.isSquare()&&this.determinant()===0},augment:function(p){var D=this.rows();D!==p.rows()&&de("Cannot augment matrix. Rows don't match.");for(var Q=0;Q<D;Q++)this.elements[Q]=this.elements[Q].concat(p.elements[Q]);return this},clone:function(){for(var p=this.rows(),D=this.cols(),Q=new be,me=0;me<p;me++){Q.elements[me]=[];for(var He=0;He<D;He++){var _t=this.elements[me][He];Q.elements[me][He]=nt(_t)?_t.clone():_t}}return Q},invert:function(){return this.isSquare()||de("Matrix is not square!"),Mt("SAFE",function(){var p,D,Q,me,He,_t,Gt,bt=this.elements.length,un=bt,Yt=be.identity(bt),fn=this.augment(Yt).toRightTriangular(),Un=fn.elements[0].length,Xt=[];do{for(He=[],Q=Un,Xt[p=bt-1]=[],_t=fn.elements[p][p];Gt=i.divide(fn.elements[p][me=Un-Q],_t.clone()),He.push(Gt),un<=me&&Xt[p].push(Gt),--Q;);for(fn.elements[p]=He,D=0;D<p;D++){for(He=[],Q=Un;He.push(i.subtract(fn.elements[D][me=Un-Q].clone(),i.multiply(fn.elements[p][me].clone(),fn.elements[D][p].clone()))),--Q;);fn.elements[D]=He}}while(--bt);return be.fromArray(Xt)},void 0,this)},toRightTriangular:function(){return Mt("SAFE",function(){var p,D,Q,me=this.clone(),He=this.elements.length,_t=He,Gt=this.elements[0].length;do{if(me.elements[D=_t-He][D].valueOf()===0){for(var bt=1+D;bt<_t;bt++)if((p=me.elements[bt][D])&&p.valueOf()!==0){for(Yt=[],fn=Gt;Yt.push(i.add(me.elements[D][Q=Gt-fn].clone(),me.elements[bt][Q].clone())),--fn;);me.elements[D]=Yt;break}}if(me.elements[D][D].valueOf()!==0)for(bt=1+D;bt<_t;bt++){for(var un=i.divide(me.elements[bt][D].clone(),me.elements[D][D].clone()),Yt=[],fn=Gt;Yt.push((Q=Gt-fn)<=D?new x(0):i.subtract(me.elements[bt][Q].clone(),i.multiply(me.elements[D][Q].clone(),un.clone()))),--fn;);me.elements[bt]=Yt}}while(--He);return me},void 0,this)},transpose:function(){var p,D,Q,me=this.elements.length,He=this.elements[0].length,_t=new be,Gt=He;do for(_t.elements[p=He-Gt]=[],D=me;_t.elements[p][Q=me-D]=this.elements[Q][p].clone(),--D;);while(--Gt);return _t},canMultiplyFromLeft:function(p){return p=(Me(p)?p.elements:p).length,this.elements[0].length===p},sameSize:function(p){return this.rows()===p.rows()&&this.cols()===p.cols()},multiply:function(p){return Mt("SAFE",function(){var D=p.elements||p;if(!this.canMultiplyFromLeft(D)){if(this.sameSize(p)){for(var Q=new be,me=this.rows(),He=0;He<me;He++){var _t=i.multiply(new ge(this.elements[He]),new ge(p.elements[He]));Q.elements[He]=_t.elements}return Q}return null}var Gt,bt,un,Yt,fn,Un=this.elements.length,Xt=Un,Ke=D[0].length,Pn=this.elements[0].length,er=[];do{er[He=Xt-Un]=[],Gt=Ke;do for(bt=Ke-Gt,un=new x(0),Yt=Pn;un=i.add(un,i.multiply(this.elements[He][fn=Pn-Yt],D[fn][bt])),--Yt;);while(er[He][bt]=un,--Gt)}while(--Un);return be.fromArray(er)},void 0,this)},add:function(p,D){var Q=new be;return this.sameSize(p)&&this.eachElement(function(me,He,_t){var Gt=i.add(me.clone(),p.elements[He][_t].clone());D&&(Gt=D.call(Q,Gt,me,p.elements[He][_t])),Q.set(He,_t,Gt)}),Q},subtract:function(p,D){var Q=new be;return this.sameSize(p)&&this.eachElement(function(me,He,_t){var Gt=i.subtract(me.clone(),p.elements[He][_t].clone());D&&(Gt=D.call(Q,Gt,me,p.elements[He][_t])),Q.set(He,_t,Gt)}),Q},negate:function(){return this.each(function(p){return p.negate()}),this},toVector:function(){if(this.rows()!==1&&this.cols()!==1)return this;var p=new ge;return p.elements=this.elements,p},toString:function(p,D){for(var Q=this.rows(),me=[],He=0;He<Q;He++)me.push("["+this.elements[He].map(function(_t){var Gt=D?_t.multiplier.toDecimal():_t.toString();return _t!==void 0?Gt:""}).join(",")+"]");return"matrix"+Ae(me.join(","))},text:function(){return"matrix("+this.elements.toString("")+")"},latex:function(p){var D=this.cols(),Q=this.elements;return lt("\\begin{vmatrix}{0}\\end{vmatrix}",function(){var me,He=[];for(me in Q){for(var _t=[],Gt=0;Gt<D;Gt++)_t.push(q.latex.call(q,Q[me][Gt],p));He.push(_t.join(" & "))}return He.join(" \\cr ")})}}).each=be.prototype.eachElement,Le.fromArray=function(p){function D(Q){return Le.apply(this,Q)}return D.prototype=Le.prototype,new D(p)},Le.prototype={add:function(p){this.contains(p)||this.elements.push(p.clone())},contains:function(p){for(var D=0;D<this.elements.length;D++){var Q=this.elements[D];if(p.equals(Q))return!0}return!1},each:function(p){for(var D=this.elements,Q=new Le,me=0,He=D.length;me<He;me++){var _t=D[me];p.call(this,_t,Q,me)}return Q},clone:function(){var p=new Le;return this.each(function(D){p.add(D.clone())}),p},union:function(p){var D=this.clone();return p.each(function(Q){D.add(Q)}),D},difference:function(p){var D=this.clone();return p.each(function(Q){D.remove(Q)}),D},remove:function(p){for(var D=0,Q=this.elements.length;D<Q;D++)if(this.elements[D].equals(p))return ht(this.elements,D),!0;return!1},intersection:function(p){var D=new Le,Q=this;return p.each(function(me){Q.contains(me)&&D.add(me)}),D},intersects:function(p){return 0<this.intersection(p).elements.length},is_subset:function(p){for(var D=p.elements,Q=0,me=D.length;Q<me;Q++)if(!this.contains(D[Q]))return!1;return!0},toString:function(){return"{"+this.elements.join(",")+"}"}};var st={dependencies:{_rename:{"Math2.factorial":"factorial"},factorial:{"Math2.gamma":En.gamma},gamma_incomplete:{"Math2.factorial":En.factorial},Li:{"Math2.Ei":En.Ei,"Math2.bigLog":En.bigLog,Frac:ie},Ci:{"Math2.factorial":En.factorial},Ei:{"Math2.factorial":En.factorial},Si:{"Math2.factorial":En.factorial},Shi:{"Math2.factorial":En.factorial},Chi:{isInt:De,nround:rt,"Math2.num_integrate":En.num_integrate},factor:{"Math2.ifactor":En.ifactor,Symbol:x},num_integrate:{"Math2.simpson":En.simpson,nround:rt},fib:{even:P}},reformat:{diff:function(me,D){var Q=me.args[1].toString(),me="var f = "+st.build(me.args[0].toString(),[Q])+";";return D[1]+="var diff = "+En.diff.toString()+";",D[1]+=me,["diff(f)("+Q+")",D]}},getProperName:function(p){return{continued_fraction:"continuedFraction"}[p]||p},compileDependencies:function(p,D){var Q,me,He=st.dependencies[p],_t=D&&D[1]?D[1]:"",Gt=D&&D[0]?D[0]:{};for(Q in He)typeof He[Q]!="object"&&(_t+="var "+(1<(me=Q.split(".")).length?me[1]:me[0])+"="+He[Q]+";",Gt[Q]=me.pop());return[Gt,_t]},getArgsDeps:function(p,D){for(var Q=p.args,me=0;me<Q.length;me++)p.args[me].each(function(He){He.group===ce&&(D=st.compileDependencies(He.fname,D))});return D},build:function(p,D){p=Mt("PARSE2NUMBER",function(){return i.parse(p)},!0);var Q=yt(p),me=[],He=[],_t=function(Yt,fn){Yt.fname===""&&(Yt=x.unwrapPARENS(Yt)),fn=fn||[];function Un(Cn){return Cn=Cn in Math?"Math."+Cn:(Cn=st.getProperName(Cn),me.indexOf(Cn)===-1&&(fn.push("var "+Cn+" = "+En[Cn].toString()+"; "),me.push(Cn)),Cn),Cn+=Ae(Yt.args.map(function(Hn){return _t(Hn,fn)[0]}).join(","))}var Xt,Ke,Pn=[],er=Yt.group,nr="",or=function(mr){var Hn,mr=mr===je?"*":"+",Er=[];for(Hn in Yt.symbols){var ei=Yt.symbols[Hn],hr=_t(ei,fn)[0];ei.isComposite()&&(hr=Ae(hr)),Er.push(hr)}return mr=Er.join(mr),mr=mr&&!Yt.multiplier.equals(1)?Ae(mr):mr};return er===le?Pn.push(Yt.multiplier.toDecimal()):Yt.multiplier.equals(-1)?nr="-":Yt.multiplier.equals(1)||Pn.push(Yt.multiplier.toDecimal()),er===Ce||er===te?Xt=Yt.value:er===ce?(He=st.compileDependencies(Yt.fname,He),He=st.getArgsDeps(Yt,He),Xt=st.reformat[Yt.fname]?(Ke=st.reformat[Yt.fname](Yt,He),He=Ke[1],Ke[0]):Un(Yt.fname)):er===Oe?(er=Yt.previousGroup)===le||er===Ce?Xt=Yt.value:er===ce?(Xt=Un(Yt.fname),He=st.compileDependencies(Yt.fname,He),He=st.getArgsDeps(Yt,He)):Xt=or(Yt.previousGroup):Xt=or(Yt.group),Yt.group===le||Yt.power.equals(1)||(or=_t(i.parse(Yt.power)),fn.push(or[1]),Xt="Math.pow"+Ae(Xt+","+or[0])),Xt&&Pn.push(nr+Xt),[Pn.join("*"),fn.join("").replace(/\n+\s+/g," ")]};D&&(Q=D);var Gt,bt=_t(p);for(Gt in He[0]){var un=He[0][Gt];bt[1]=bt[1].replace(Gt,un),He[1]=He[1].replace(Gt,un)}return new Function(Q,(He[1]||"")+bt[1]+" return "+bt[0]+";")}};$t(i.CONSTANTS),$t(i.functions),i.initConstants(),i.error||(i.error=de),$.LOG_FNS={log:i.functions.log,log10:i.functions.log10};function $e(p,D,Q,me){var He=!1,_t=/^([a-z_][a-z\d\_]*)\(([a-z_,\s]*)\):=(.+)$/gi.exec(p);return _t?s.setFunction(_t[1],_t[2].split(","),_t[3]):(p instanceof gn&&(p=p.toString()),(Q=nn(Q)?Q:Q===void 0?[]:[Q]).forEach(function(Gt){var bt;Gt!=="numer"?(bt=i.functions[Q])&&bt[1]===1&&(p=`${Gt}(${p})`):He=!0}),_t=Mt("PARSE2NUMBER",function(){return i.parse(p,D)},He||$.PARSE2NUMBER),me?J[me-1]=_t:J.push(_t),new gn(_t))}var $t={allSame:xe,allNumeric:function(p){for(var D=0;D<p.length;D++)if(!et(p[D]))return!1;return!0},arguments2Array:Ot,arrayAddSlices:function(p,D){D=D||20;var Q=[];Q.push(p[0]);for(var me=0;me<p.length-1;me++)for(var He=p[me],_t=(p[me+1]-He)/D,Gt=0;Gt<D;Gt++)Q.push(He+=_t);return Q},arrayClone:function(p){for(var D=[],Q=p.length,me=0;me<Q;me++)D[me]=p[me].clone();return D},arrayMax:function(p){return Math.max.apply(void 0,p)},arrayMin:K,arrayEqual:function(p,D){if(p.sort(),D.sort(),p.length!==D.length)return!1;for(var Q=0;Q<p.length;Q++)if(p[Q]!==D[Q])return!1;return!0},arrayUnique:he,arrayGetVariables:function(p){for(var D=yt(p[0],null,null),Q=1,me=p.length;Q<me;Q++)D=D.concat(yt(p[Q]));return D=he(D).sort()},arraySum:function(p,D){for(var He=new x(0),Q=0;Q<p.length;Q++)var me=p[Q],He=i.add(He,nt(me)?me:i.parse(me));return D?Number(He):He},block:Mt,build:st.build,clearU:function(p){p=Ne.indexOf(p),p!==-1&&(Ne[p]=void 0)},comboSort:function(p,D){for(var Q=p.length,me=[],He=0;He<p.length;He++)me.push([p[He],D[He]]);me.sort(function(bt,un){return bt[0]-un[0]});for(var _t=[],Gt=[],He=0;He<Q;He++)_t.push(me[He][0]),Gt.push(me[He][1]);return[_t,Gt]},compare:function(p,D,Q){for(var me,He={},_t=0;_t<Q.length;_t++)He[Q[_t]]=new x(Math.floor(5*Math.random())+1);return Mt("PARSE2NUMBER",function(){me=i.parse(p,He).equals(i.parse(D,He))}),me},convertToVector:ft,customError:T,customType:function(p){return p!==void 0&&p.custom},decompose_fn:Vt,each:ne,evaluate:wt,even:P,evenFraction:Re,fillHoles:function(p,D){D=D||p.length;for(var Q=0;Q<D;Q++)p[Q]||(p[Q]=new x(0));return p},firstObject:Tt,format:lt,generatePrimes:V,getCoeffs:function(p,D,Q){var me=[];p.each(function(un){var Gt,bt=un.contains(D)?(Gt=un.stripVar(D),i.divide(un.clone(),Gt.clone()).power.toDecimal()):(Gt=un,0),un=me[bt];me[bt]=un?i.add(un,Gt):Gt},!0);for(var He=0;He<me.length;He++)me[He]||(me[He]=new x(0));return me},getU:function(p){for(var D="u",Q=0,me=yt(p);Ne.indexOf(D)!==-1||me.indexOf(D)!==-1;)D="u"+Q++;for(var He=0,_t=Ne.length;He<=_t;He++)if(!Ne[He]){Ne[He]=D;break}return D},importFunctions:function(){var p,D={};for(p in i.functions)D[p]=i.functions[p][0];return D},inBrackets:Ae,isArray:nn,isExpression:I,isFraction:Ct,isInt:De,isMatrix:Me,isNegative:A,isNumericSymbol:en,isPrime:Ge,isReserved:w,isSymbol:nt,isVariableSymbol:function(p){return p.group===Ce&&p.multiplier.equals(1)&&p.power.equals(1)},isVector:Ht,keys:Qe,knownVariable:function(p,D){var Q={};return Q[p]=D,Q},nroots:function(p){var D,Q;if(p.group===ce&&p.fname===""?(D=x.unwrapPARENS(i.parse(p).toLinear()),Q=i.parse(p.power)):p.group===te&&(D=i.parse(p.value),Q=i.parse(p.power)),D&&Q&&D.group===le&&Q.group===le&&D.multiplier.isNegative()){for(var me=[],He=x.toPolarFormArray(wt(p))[0],_t=i.arg(D),Gt=Q.multiplier.den.toString(),bt=Q.multiplier.num.toString(),un=0;un<Gt;un++){var Yt=wt(i.parse(lt("(({0})+2*pi*({1}))/({2})",_t,un,Gt))).multiplier.toDecimal();me.push(wt(i.parse(lt("(({0})^({1})*(cos({3})+({2})*sin({3})))^({4})",He,Gt,$.IMAGINARY,Yt,bt))))}return ge.fromArray(me)}return p.isConstant(!0,!0)?(D=p.sign(),_t=wt(p.abs()),me=[(Q=i.sqrt(_t)).clone(),Q.negate()],D<0&&(me=me.map(function(fn){return i.multiply(fn,x.imaginary())}))):me=[i.parse(p)],ge.fromArray(me)},remove:ht,reserveNames:$t,range:function(p,D,Q){var me=[];Q=Q||1;for(var He=p;He<=D;He++)me.push(He*Q);return me},round:rt,sameSign:function(p,D){return p<0==D<0},scientificToDecimal:Ft,separate:Ut,stringReplace:function(p,D,Q,me){return p.substr(0,D)+me+p.substr(Q,p.length)},text:re,validateName:ze,variables:yt,warn:gt},Ue={groups:f,Symbol:x,Expression:gn,Frac:ie,Vector:ge,Matrix:be,Parser:W,Scientific:F,Fraction:ae,Math2:En,LaTeX:q,Utils:$t,PARSER:i,PARENTHESIS:O,Settings:$,err:de,bigInt:u,bigDec:h,exceptions:jn};return $e.rpn=function(p){return i.tokenize(i.toRPN(p))},$e.convertToLaTeX=function(p,D){return i.toTeX(p,D)},$e.convertFromLaTeX=function(p){return p=q.parse(i.tokenize(p)),new gn(i.parse(p))},$e.version=function(p){if(p)try{return Ue[p].version}catch{return"No module named "+p+" found!"}return"1.1.13"},$e.getWarnings=function(){return qe},$e.setConstant=function(p,D){if(ze(p),!w(p))if(D==="delete"||D==="")delete i.CONSTANTS[p];else{if(isNaN(D))throw new Ye("Constant must be a number!");i.CONSTANTS[p]=D}return this},$e.getConstant=function(p){return String(i.constant[p])},$e.setFunction=Et,$e.getCore=function(){return Ue},$e.getExpression=$e.getEquation=gn.getExpression,$e.reserved=function(p){return p?Ne:Ne.join(", ")},$e.clear=function(p,D){return p==="all"?J=[]:p==="last"?J.pop():p==="first"?J.shift():(p=p?p-1:J.length,D===!0?J[p]=void 0:ht(J,p)),this},$e.flush=function(){return this.clear("all"),this},$e.expressions=function(p,D,Q){for(var me=p?{}:[],He=0;He<J.length;He++){var _t=D?q.latex(J[He],Q):re(J[He],Q);p?me[He+1]=_t:me.push(_t)}return me},$e.register=function(p){var D=this.getCore();if(nn(p))for(var Q=0;Q<p.length;Q++)p&&this.register(p[Q]);else if(p&&$.exclude.indexOf(p.name)===-1){if(p.dependencies){for(Q=0;Q<p.dependencies.length;Q++)if(!D[p.dependencies[Q]])throw new Error(lt("{0} requires {1} to be loaded!",p.name,p.dependencies[Q]))}var me=p.parent,He=p.build.call(D);me&&(D[me]||(D[p.parent]={}),(me==="nerdamer"?this:D[me])[p.name]=He),p.visible&&(i.functions[p.name]=[He,p.numargs])}},$e.validateName=ze,$e.validVarName=function(p){try{return ze(p),Ne.indexOf(p)===-1}catch{return!1}},$e.supported=function(){return Qe(i.functions)},$e.numEquations=$e.numExpressions=function(){return J.length},$e.setVar=function(p,D){return ze(p),p in i.CONSTANTS&&de("Cannot set value for constant "+p),D==="delete"||D===""?delete fe[p]:fe[p]=nt(D)?D:i.parse(D),this},$e.getVar=function(p){return fe[p]},$e.clearVars=function(){return fe={},this},$e.load=function(p){return p.call(this),this},$e.getVars=function(p,D){var Q={};if((p=p||"text")==="object")Q=fe;else for(var me in fe)p==="latex"?Q[me]=fe[me].latex(D):p==="text"&&(Q[me]=fe[me].text(D));return Q},$e.set=function(p,D){if(typeof p=="object")for(var Q in p)$e.set(Q,p[Q]);["SAFE"].indexOf(p)!==-1&&de("Cannot modify setting: "+p),p==="PRECISION"?(h.set({precision:D}),21<($.PRECISION=D)&&this.set("USE_BIG",!0)):p==="USE_LN"&&D===!0?($.LOG="LN",$.LOG10="log",i.functions.log=$.LOG_FNS.log10,i.functions.log[0]=function(me){return me.isConstant()?new x(Math.log10(me)):i.symfunction($.LOG10,[me])},i.functions.LN=$.LOG_FNS.log,delete i.functions.log10):$[p]=D},$e.get=function(p){return $[p]},$e.updateAPI=function(p){for(var D in i.functions)D in $e&&!p||($e[D]=(function(Q){return function(){for(var me=[].slice.call(arguments),He=0;He<me.length;He++)me[He]=i.parse(me[He]);return new gn(Mt("PARSE2NUMBER",function(){return i.callfunction(Q,me)}))}})(D))},$e.replaceFunction=function(p,D,He){var me=i.functions[p],He=He===void 0?me[1]:He;i.functions[p]=[D.call(void 0,me[0],Ue),He]},$e.setOperator=function(p,D){i.setOperator(p,D)},$e.getOperator=function(p){return i.getOperator(p)},$e.aliasOperator=function(p,D){i.aliasOperator(p,D)},$e.tree=function(p){return i.tree(i.toRPN(i.tokenize(p)))},$e.htmlTree=function(p,D){return`<div class="tree">
    <ul>
        <li>
`+this.tree(p).toHTML(3,D)+`
        </li>
    </ul>
</div>`},$e.addPeeker=function(p,D){i.peekers[p]&&i.peekers[p].push(D)},$e.removePeeker=function(p,D){ht(i.peekers[p],D)},$e.parse=function(p){return String(p).split(";").map(function(D){return i.parse(D)})},$e.updateAPI(),$e})({bigInt:(function(){var r=(function(i){var u=1e7,h=7,f=9007199254740992,g=A(f),y=Math.log(f);function $(De,se){return De===void 0?$[0]:se===void 0||+se==10?en(De):nt(De,se)}function T(De,se){this.value=De,this.sign=se,this.isSmall=!1}function w(De){this.value=De,this.sign=De<0,this.isSmall=!0}function I(De){return-f<De&&De<f}function A(De){return De<1e7?[De]:De<1e14?[De%1e7,Math.floor(De/1e7)]:[De%1e7,Math.floor(De/1e7)%1e7,Math.floor(De/1e14)]}function K(De){ne(De);var se=De.length;if(se<4&&B(De,g)<0)switch(se){case 0:return 0;case 1:return De[0];case 2:return De[0]+De[1]*u;default:return De[0]+(De[1]+De[2]*u)*u}return De}function ne(De){for(var se=De.length;De[--se]===0;);De.length=se+1}function he(De){for(var se=new Array(De),Ae=-1;++Ae<De;)se[Ae]=0;return se}function V(De){return 0<De?Math.floor(De):Math.ceil(De)}function le(De,se){for(var Ae,lt=De.length,Qe=se.length,Tt=new Array(lt),Et=0,Vt=u,rt=0;rt<Qe;rt++)Ae=De[rt]+se[rt]+Et,Tt[rt]=Ae-(Et=Vt<=Ae?1:0)*Vt;for(;rt<lt;)Ae=De[rt]+Et,Tt[rt++]=Ae-(Et=Ae===Vt?1:0)*Vt;return 0<Et&&Tt.push(Et),Tt}function te(De,se){return De.length>=se.length?le(De,se):le(se,De)}function Ce(De,se){for(var Ae,lt=De.length,Qe=new Array(lt),Tt=u,Et=0;Et<lt;Et++)Ae=De[Et]-Tt+se,se=Math.floor(Ae/Tt),Qe[Et]=Ae-se*Tt,se+=1;for(;0<se;)Qe[Et++]=se%Tt,se=Math.floor(se/Tt);return Qe}function Oe(De,se){for(var Ae,lt=De.length,Qe=se.length,Tt=new Array(lt),Et=0,Vt=u,rt=0;rt<Qe;rt++)Et=(Ae=De[rt]-Et-se[rt])<0?(Ae+=Vt,1):0,Tt[rt]=Ae;for(rt=Qe;rt<lt;rt++){if(!((Ae=De[rt]-Et)<0)){Tt[rt++]=Ae;break}Ae+=Vt,Tt[rt]=Ae}for(;rt<lt;rt++)Tt[rt]=De[rt];return ne(Tt),Tt}function ce(De,se,Ae){for(var lt,Qe=De.length,Tt=new Array(Qe),Et=-se,Vt=u,rt=0;rt<Qe;rt++)lt=De[rt]+Et,Et=Math.floor(lt/Vt),Tt[rt]=(lt%=Vt)<0?lt+Vt:lt;return typeof(Tt=K(Tt))=="number"?new w(Tt=Ae?-Tt:Tt):new T(Tt,Ae)}function Be(De,se){for(var Ae,lt,Qe=De.length,Tt=se.length,Et=he(Qe+Tt),Vt=u,rt=0;rt<Qe;++rt)for(var P=De[rt],Re=0;Re<Tt;++Re)Ae=P*se[Re]+Et[rt+Re],lt=Math.floor(Ae/Vt),Et[rt+Re]=Ae-lt*Vt,Et[rt+Re+1]+=lt;return ne(Et),Et}function je(De,se){for(var Ae,lt=De.length,Qe=new Array(lt),Tt=u,Et=0,Vt=0;Vt<lt;Vt++)Ae=De[Vt]*se+Et,Et=Math.floor(Ae/Tt),Qe[Vt]=Ae-Et*Tt;for(;0<Et;)Qe[Vt++]=Et%Tt,Et=Math.floor(Et/Tt);return Qe}function _e(De,se){for(var Ae=[];0<se--;)Ae.push(0);return Ae.concat(De)}function b(De,se,Ae){return new T(De<u?je(se,De):Be(se,A(De)),Ae)}function O(De){for(var se,Ae=De.length,lt=he(Ae+Ae),Qe=u,Tt=0;Tt<Ae;Tt++){for(var Et,Vt=0-(Et=De[Tt])*Et,rt=Tt;rt<Ae;rt++)se=Et*De[rt]*2+lt[Tt+rt]+Vt,Vt=Math.floor(se/Qe),lt[Tt+rt]=se-Vt*Qe;lt[Tt+Ae]=Vt}return ne(lt),lt}function N(De,se){for(var Ae,lt=De.length,Qe=he(lt),Tt=u,Et=0,Vt=lt-1;0<=Vt;--Vt)Et=(Ae=Et*Tt+De[Vt])-(Ae=V(Ae/se))*se,Qe[Vt]=0|Ae;return[Qe,0|Et]}function R(rt,se){var Et=en(se),Ae=rt.value,lt=Et.value;if(lt===0)throw new Error("Cannot divide by zero");if(rt.isSmall)return Et.isSmall?[new w(V(Ae/lt)),new w(Ae%lt)]:[$[0],rt];if(Et.isSmall){if(lt===1)return[rt,$[0]];if(lt==-1)return[rt.negate(),$[0]];var Qe=Math.abs(lt);if(Qe<u){var Tt=K((Vt=N(Ae,Qe))[0]),se=Vt[1];return rt.sign&&(se=-se),typeof Tt=="number"?[new w(Tt=rt.sign!==Et.sign?-Tt:Tt),new w(se)]:[new T(Tt,rt.sign!==Et.sign),new w(se)]}lt=A(Qe)}if(Qe=B(Ae,lt),Qe===-1)return[$[0],rt];if(Qe===0)return[$[rt.sign===Et.sign?1:-1],$[0]];Tt=(Vt=(Ae.length+lt.length<=200?function(P,Re){var ke,ht,Mt,Ot,wt,ft,Y,Ee=P.length,Je=Re.length,Fe=u,Lt=he(Re.length),Bt=Re[Je-1],zt=Math.ceil(Fe/(2*Bt)),ve=je(P,zt),Ye=je(Re,zt);for(ve.length<=Ee&&ve.push(0),Ye.push(0),Bt=Ye[Je-1],ht=Ee-Je;0<=ht;ht--){for(ke=Fe-1,ve[ht+Je]!==Bt&&(ke=Math.floor((ve[ht+Je]*Fe+ve[ht+Je-1])/Bt)),ft=Ye.length,wt=Ot=Mt=0;wt<ft;wt++)Mt+=ke*Ye[wt],Y=Math.floor(Mt/Fe),Ot+=ve[ht+wt]-(Mt-Y*Fe),Mt=Y,Ot=Ot<0?(ve[ht+wt]=Ot+Fe,-1):(ve[ht+wt]=Ot,0);for(;Ot!==0;){for(--ke,wt=Mt=0;wt<ft;wt++)Mt=(Mt+=ve[ht+wt]-Fe+Ye[wt])<0?(ve[ht+wt]=Mt+Fe,0):(ve[ht+wt]=Mt,1);Ot+=Mt}Lt[ht]=ke}return ve=N(ve,zt)[0],[K(Lt),K(ve)]}:function(P,Re){for(var ke,ht,Mt,Ot,wt,ft=P.length,Y=Re.length,Ee=[],Je=[],Fe=u;ft;)if(Je.unshift(P[--ft]),ne(Je),B(Je,Re)<0)Ee.push(0);else{for(Mt=Je[(ht=Je.length)-1]*Fe+Je[ht-2],Ot=Re[Y-1]*Fe+Re[Y-2],Y<ht&&(Mt=(Mt+1)*Fe),ke=Math.ceil(Mt/Ot);!(B(wt=je(Re,ke),Je)<=0)&&--ke;);Ee.push(ke),Je=Oe(Je,wt)}return Ee.reverse(),[K(Ee),K(Je)]})(Ae,lt))[0];var Et=rt.sign!==Et.sign,Vt=Vt[1],rt=rt.sign;return[Tt=typeof Tt=="number"?new w(Tt=Et?-Tt:Tt):new T(Tt,Et),Vt=typeof Vt=="number"?new w(Vt=rt?-Vt:Vt):new T(Vt,rt)]}function B(De,se){if(De.length!==se.length)return De.length>se.length?1:-1;for(var Ae=De.length-1;0<=Ae;Ae--)if(De[Ae]!==se[Ae])return De[Ae]>se[Ae]?1:-1;return 0}function j(De){return De=De.abs(),!De.isUnit()&&(!!(De.equals(2)||De.equals(3)||De.equals(5))||!(De.isEven()||De.isDivisibleBy(3)||De.isDivisibleBy(5))&&(!!De.lesser(49)||void 0))}function J(De,se){for(var Ae,lt,Qe,Tt=De.prev(),Et=Tt,Vt=0;Et.isEven();)Et=Et.divide(2),Vt++;e:for(lt=0;lt<se.length;lt++)if(!De.lesser(se[lt])&&!(Qe=r(se[lt]).modPow(Et,De)).equals($[1])&&!Qe.equals(Tt)){for(Ae=Vt-1;Ae!=0;Ae--){if((Qe=Qe.square().mod(De)).isUnit())return!1;if(Qe.equals(Tt))continue e}return!1}return!0}T.prototype=Object.create($.prototype),w.prototype=Object.create($.prototype),T.prototype.plus=T.prototype.add=function(lt){var se=en(lt);if(this.sign!==se.sign)return this.subtract(se.negate());var Ae=this.value,lt=se.value;return se.isSmall?new T(Ce(Ae,Math.abs(lt)),this.sign):new T(te(Ae,lt),this.sign)},w.prototype.plus=w.prototype.add=function(De){var se=en(De),Ae=this.value;if(Ae<0!==se.sign)return this.subtract(se.negate());if(De=se.value,se.isSmall){if(I(Ae+De))return new w(Ae+De);De=A(Math.abs(De))}return new T(Ce(De,Math.abs(Ae)),Ae<0)},T.prototype.minus=T.prototype.subtract=function(Qe){var se=en(Qe);if(this.sign!==se.sign)return this.add(se.negate());var Ae,lt=this.value,Qe=se.value;return se.isSmall?ce(lt,Math.abs(Qe),this.sign):(se=lt,lt=Qe,Qe=this.sign,0<=B(se,lt)?Ae=Oe(se,lt):(Ae=Oe(lt,se),Qe=!Qe),typeof(Ae=K(Ae))=="number"?new w(Ae=Qe?-Ae:Ae):new T(Ae,Qe))},w.prototype.minus=w.prototype.subtract=function(De){var se=en(De),Ae=this.value;return Ae<0!==se.sign?this.add(se.negate()):(De=se.value,se.isSmall?new w(Ae-De):ce(De,Math.abs(Ae),0<=Ae))},T.prototype.negate=function(){return new T(this.value,!this.sign)},w.prototype.negate=function(){var De=this.sign,se=new w(-this.value);return se.sign=!De,se},T.prototype.abs=function(){return new T(this.value,!1)},w.prototype.abs=function(){return new w(Math.abs(this.value))},T.prototype.times=T.prototype.multiply=function(Tt){var se,Ae=en(Tt),lt=this.value,Qe=Ae.value,Tt=this.sign!==Ae.sign;if(Ae.isSmall){if(Qe===0)return $[0];if(Qe===1)return this;if(Qe===-1)return this.negate();if((se=Math.abs(Qe))<u)return new T(je(lt,se),Tt);Qe=A(se)}return Ae=lt.length,se=Qe.length,new T((0<-.012*Ae-.012*se+15e-6*Ae*se?function Et(ht,Mt){if((wt=Math.max(ht.length,Mt.length))<=30)return Be(ht,Mt);var wt=Math.ceil(wt/2),P=ht.slice(wt),Re=ht.slice(0,wt),Ot=Mt.slice(wt),ke=Mt.slice(0,wt),ht=Et(Re,ke),Mt=Et(P,Ot),Ot=Et(te(Re,P),te(ke,Ot)),wt=te(te(ht,_e(Oe(Oe(Ot,ht),Mt),wt)),_e(Mt,2*wt));return ne(wt),wt}:Be)(lt,Qe),Tt)},w.prototype._multiplyBySmall=function(De){return I(De.value*this.value)?new w(De.value*this.value):b(Math.abs(De.value),A(Math.abs(this.value)),this.sign!==De.sign)},T.prototype._multiplyBySmall=function(De){return De.value===0?$[0]:De.value===1?this:De.value===-1?this.negate():b(Math.abs(De.value),this.value,this.sign!==De.sign)},w.prototype.times=w.prototype.multiply=function(De){return en(De)._multiplyBySmall(this)},T.prototype.square=function(){return new T(O(this.value),!1)},w.prototype.square=function(){var De=this.value*this.value;return I(De)?new w(De):new T(O(A(Math.abs(this.value))),!1)},w.prototype.divmod=T.prototype.divmod=function(De){return De=R(this,De),{quotient:De[0],remainder:De[1]}},w.prototype.over=w.prototype.divide=T.prototype.over=T.prototype.divide=function(De){return R(this,De)[0]},w.prototype.remainder=w.prototype.mod=T.prototype.remainder=T.prototype.mod=function(De){return R(this,De)[1]},T.prototype.pow=function(Tt){var se,Ae,lt,Qe=en(Tt),Tt=this.value,Et=Qe.value;if(Et===0)return $[1];if(Tt===0)return $[0];if(Tt===1)return $[1];if(Tt===-1)return Qe.isEven()?$[1]:$[-1];if(Qe.sign)return $[0];if(!Qe.isSmall)throw new Error("The exponent "+Qe.toString()+" is too large.");if(this.isSmall&&I(se=Math.pow(Tt,Et)))return new w(V(se));for(Ae=this,lt=$[1];!0&Et&&(lt=lt.times(Ae),--Et),Et!==0;)Et/=2,Ae=Ae.square();return lt},w.prototype.pow=T.prototype.pow,w.prototype.modPow=T.prototype.modPow=function(De,se){if(De=en(De),(se=en(se)).isZero())throw new Error("Cannot take modPow with modulus 0");for(var Ae=$[1],lt=this.mod(se);De.isPositive();){if(lt.isZero())return $[0];De.isOdd()&&(Ae=Ae.multiply(lt).mod(se)),De=De.divide(2),lt=lt.square().mod(se)}return Ae},T.prototype.compareAbs=function(lt){var se=en(lt),Ae=this.value,lt=se.value;return se.isSmall?1:B(Ae,lt)},w.prototype.compareAbs=function(lt){var se=en(lt),Ae=Math.abs(this.value),lt=se.value;return se.isSmall?Ae===(lt=Math.abs(lt))?0:lt<Ae?1:-1:-1},T.prototype.compareTo=T.prototype.compare=function(lt){if(lt===1/0)return-1;if(lt===-1/0)return 1;var se=en(lt),Ae=this.value,lt=se.value;return this.sign!==se.sign?se.sign?1:-1:se.isSmall?this.sign?-1:1:B(Ae,lt)*(this.sign?-1:1)},w.prototype.compareTo=w.prototype.compare=function(lt){if(lt===1/0)return-1;if(lt===-1/0)return 1;var se=en(lt),Ae=this.value,lt=se.value;return se.isSmall?Ae==lt?0:lt<Ae?1:-1:Ae<0!==se.sign?Ae<0?-1:1:Ae<0?1:-1},w.prototype.eq=w.prototype.equals=T.prototype.eq=T.prototype.equals=function(De){return this.compare(De)===0},w.prototype.neq=w.prototype.notEquals=T.prototype.neq=T.prototype.notEquals=function(De){return this.compare(De)!==0},w.prototype.gt=w.prototype.greater=T.prototype.gt=T.prototype.greater=function(De){return 0<this.compare(De)},w.prototype.lt=w.prototype.lesser=T.prototype.lt=T.prototype.lesser=function(De){return this.compare(De)<0},w.prototype.geq=w.prototype.greaterOrEquals=T.prototype.geq=T.prototype.greaterOrEquals=function(De){return 0<=this.compare(De)},w.prototype.leq=w.prototype.lesserOrEquals=T.prototype.leq=T.prototype.lesserOrEquals=function(De){return this.compare(De)<=0},T.prototype.isEven=function(){return(1&this.value[0])==0},w.prototype.isEven=function(){return(1&this.value)==0},T.prototype.isOdd=function(){return(1&this.value[0])==1},w.prototype.isOdd=function(){return(1&this.value)==1},T.prototype.isPositive=function(){return!this.sign},w.prototype.isPositive=function(){return 0<this.value},T.prototype.isNegative=function(){return this.sign},w.prototype.isNegative=function(){return this.value<0},T.prototype.isUnit=function(){return!1},w.prototype.isUnit=function(){return Math.abs(this.value)===1},T.prototype.isZero=function(){return!1},w.prototype.isZero=function(){return this.value===0},w.prototype.isDivisibleBy=T.prototype.isDivisibleBy=function(Ae){var se=en(Ae),Ae=se.value;return Ae!==0&&(Ae===1||(Ae===2?this.isEven():this.mod(se).equals($[0])))},w.prototype.isPrime=T.prototype.isPrime=function(De){var Ae=j(this);if(Ae!==i)return Ae;var se=this.abs(),Ae=se.bitLength();if(Ae<=64)return J(se,[2,325,9375,28178,450775,9780504,1795265022]);for(var Ae=Math.log(2)*Ae,lt=Math.ceil(De===!0?2*Math.pow(Ae,2):Ae),Qe=[],Tt=0;Tt<lt;Tt++)Qe.push(r(Tt+2));return J(se,Qe)},w.prototype.isProbablePrime=T.prototype.isProbablePrime=function(De){var se=j(this);if(se!==i)return se;for(var Ae=this.abs(),lt=De===i?5:De,Qe=[],Tt=0;Tt<lt;Tt++)Qe.push(r.randBetween(2,Ae.minus(2)));return J(Ae,Qe)},w.prototype.modInv=T.prototype.modInv=function(De){for(var se,Ae,lt=r.zero,Qe=r.one,Tt=en(De),Et=this.abs();!Et.equals(r.zero);)se=Tt.divide(Et),Ae=Tt,Tt=Et,Qe=lt.subtract(se.multiply(lt=Qe)),Et=Ae.subtract(se.multiply(Et));if(!Tt.equals(1))throw new Error(this.toString()+" and "+De.toString()+" are not co-prime");return lt.compare(0)===-1&&(lt=lt.add(De)),this.isNegative()?lt.negate():lt},T.prototype.next=function(){var De=this.value;return this.sign?ce(De,1,this.sign):new T(Ce(De,1),this.sign)},w.prototype.next=function(){var De=this.value;return De+1<f?new w(De+1):new T(g,!1)},T.prototype.prev=function(){var De=this.value;return this.sign?new T(Ce(De,1),!0):ce(De,1,this.sign)},w.prototype.prev=function(){var De=this.value;return-f<De-1?new w(De-1):new T(g,!0)};for(var fe=[1];2*fe[fe.length-1]<=u;)fe.push(2*fe[fe.length-1]);var Ne=fe.length,qe=fe[Ne-1];function de(De){return(typeof De=="number"||typeof De=="string")&&+Math.abs(De)<=u||De instanceof T&&De.value.length<=1}function xe(De,se,Ae){se=en(se);for(var lt=De.isNegative(),Qe=se.isNegative(),Tt=lt?De.not():De,Et=Qe?se.not():se,Vt=0,rt=0,P=null,Re=null,ke=[];!Tt.isZero()||!Et.isZero();)Vt=(P=R(Tt,qe))[1].toJSNumber(),lt&&(Vt=qe-1-Vt),rt=(Re=R(Et,qe))[1].toJSNumber(),Tt=P[0],Et=Re[0],ke.push(Ae(Vt,rt=Qe?qe-1-rt:rt));for(var ht=Ae(lt?1:0,Qe?1:0)!==0?r(-1):r(0),Mt=ke.length-1;0<=Mt;--Mt)ht=ht.multiply(qe).add(r(ke[Mt]));return ht}w.prototype.shiftLeft=T.prototype.shiftLeft=function(De){if(!de(De))throw new Error(String(De)+" is too large for shifting.");if((De=+De)<0)return this.shiftRight(-De);var se=this;if(se.isZero())return se;for(;Ne<=De;)se=se.multiply(qe),De-=Ne-1;return se.multiply(fe[De])},w.prototype.shiftRight=T.prototype.shiftRight=function(De){var se;if(!de(De))throw new Error(String(De)+" is too large for shifting.");if((De=+De)<0)return this.shiftLeft(-De);for(var Ae=this;Ne<=De;){if(Ae.isZero()||Ae.isNegative()&&Ae.isUnit())return Ae;Ae=(se=R(Ae,qe))[1].isNegative()?se[0].prev():se[0],De-=Ne-1}return(se=R(Ae,fe[De]))[1].isNegative()?se[0].prev():se[0]},w.prototype.not=T.prototype.not=function(){return this.negate().prev()},w.prototype.and=T.prototype.and=function(De){return xe(this,De,function(se,Ae){return se&Ae})},w.prototype.or=T.prototype.or=function(De){return xe(this,De,function(se,Ae){return se|Ae})},w.prototype.xor=T.prototype.xor=function(De){return xe(this,De,function(se,Ae){return se^Ae})};var gt=1<<30,ze=(u&-u)*(u&-u)|gt;function Ft(De){return De=De.value,De=typeof De=="number"?De|gt:De[0]+De[1]*u|ze,De&-De}function Ge(De,se){return De=en(De),se=en(se),De.greater(se)?De:se}function et(De,se){return De=en(De),se=en(se),De.lesser(se)?De:se}function Ct(De,se){if(De=en(De).abs(),se=en(se).abs(),De.equals(se))return De;if(De.isZero())return se;if(se.isZero())return De;for(var Ae,lt,Qe=$[1];De.isEven()&&se.isEven();)Ae=Math.min(Ft(De),Ft(se)),De=De.divide(Ae),se=se.divide(Ae),Qe=Qe.multiply(Ae);for(;De.isEven();)De=De.divide(Ft(De));do for(;se.isEven();)se=se.divide(Ft(se));while(De.greater(se)&&(lt=se,se=De,De=lt),!(se=se.subtract(De)).isZero());return Qe.isUnit()?De:De.multiply(Qe)}w.prototype.bitLength=T.prototype.bitLength=function(){var De=this;return(De=De.compareTo(r(0))<0?De.negate().subtract(r(1)):De).compareTo(r(0))===0?r(0):r((function se(Ae,lt){if(lt.compareTo(Ae)<=0){var Tt=se(Ae,lt.square(lt)),Qe=Tt.p,Tt=Tt.e,lt=Qe.multiply(lt);return lt.compareTo(Ae)<=0?{p:lt,e:2*Tt+1}:{p:Qe,e:2*Tt}}return{p:r(1),e:0}})(De,r(2)).e).add(r(1))};var nt=function(De,se){for(var Ae=De.length,lt=Math.abs(se),Qe=0;Qe<Ae;Qe++){var Tt=De[Qe].toLowerCase();if(Tt!=="-"&&/[a-z0-9]/.test(Tt)){if(/[0-9]/.test(Tt)&&lt<=+Tt){if(Tt!=="1"||lt!==1)throw new Error(Tt+" is not a valid digit in base "+se+".")}else if(Tt.charCodeAt(0)-87>=lt)throw new Error(Tt+" is not a valid digit in base "+se+".")}}if(2<=se&&se<=36&&Ae<=y/Math.log(se)){var Vt=parseInt(De,se);if(isNaN(Vt))throw new Error(Tt+" is not a valid digit in base "+se+".");return new w(parseInt(De,se))}se=en(se);var Et=[],Vt=De[0]==="-";for(Qe=Vt?1:0;Qe<De.length;Qe++){var rt=(Tt=De[Qe].toLowerCase()).charCodeAt(0);if(48<=rt&&rt<=57)Et.push(en(Tt));else if(97<=rt&&rt<=122)Et.push(en(Tt.charCodeAt(0)-87));else{if(Tt!=="<")throw new Error(Tt+" is not a valid character");for(rt=Qe;De[++Qe]!==">";);Et.push(en(De.slice(rt+1,Qe)))}}return yt(Et,se,Vt)};function yt(De,se,Ae){for(var lt=$[0],Qe=$[1],Tt=De.length-1;0<=Tt;Tt--)lt=lt.add(De[Tt].times(Qe)),Qe=Qe.times(se);return Ae?lt.negate():lt}function Ut(De){return De<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(De):"<"+De+">"}function Ht(De,se){if((se=r(se)).isZero()){if(De.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(se.equals(-1)){if(De.isZero())return{value:[0],isNegative:!1};if(De.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-De)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var Ae=Array.apply(null,Array(+De-1)).map(Array.prototype.valueOf,[0,1]);return Ae.unshift([1]),{value:[].concat.apply([],Ae),isNegative:!1}}if(Ae=!1,De.isNegative()&&se.isPositive()&&(Ae=!0,De=De.abs()),se.equals(1))return De.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+De)).map(Number.prototype.valueOf,1),isNegative:Ae};for(var lt=[],Qe=De;Qe.isNegative()||0<=Qe.compareAbs(se);){var Qe=(Tt=Qe.divmod(se)).quotient,Tt=Tt.remainder;Tt.isNegative()&&(Tt=se.minus(Tt).abs(),Qe=Qe.next()),lt.push(Tt.toJSNumber())}return lt.push(Qe.toJSNumber()),{value:lt.reverse(),isNegative:Ae}}function Me(De,se){return se=Ht(De,se),(se.isNegative?"-":"")+se.value.map(Ut).join("")}function ut(De){if(I(+De)){var se=+De;if(se===V(se))return new w(se);throw new Error("Invalid integer: "+De)}var Ae=De[0]==="-",lt=(De=Ae?De.slice(1):De).split(/e/i);if(2<lt.length)throw new Error("Invalid integer: "+lt.join("e"));if(lt.length===2){var Qe=lt[1];if((Qe=+(Qe=Qe[0]==="+"?Qe.slice(1):Qe))!==V(Qe)||!I(Qe))throw new Error("Invalid integer: "+Qe+" is not a valid exponent.");if(se=lt[0],lt=se.indexOf("."),0<=lt&&(Qe-=se.length-lt-1,se=se.slice(0,lt)+se.slice(lt+1)),Qe<0)throw new Error("Cannot include negative exponent part for integers");De=se+=new Array(Qe+1).join("0")}if(!/^([0-9][0-9]*)$/.test(De))throw new Error("Invalid integer: "+De);for(var Tt=[],Et=De.length,Vt=h,rt=Et-Vt;0<Et;)Tt.push(+De.slice(rt,Et)),(rt-=Vt)<0&&(rt=0),Et-=Vt;return ne(Tt),new T(Tt,Ae)}function en(De){return typeof De=="number"?(function(se){if(I(se)){if(se!==V(se))throw new Error(se+" is not an integer.");return new w(se)}return ut(se.toString())})(De):typeof De=="string"?ut(De):De}T.prototype.toArray=function(De){return Ht(this,De)},w.prototype.toArray=function(De){return Ht(this,De)},T.prototype.toString=function(De){if((De=De===i?10:De)!==10)return Me(this,De);for(var se,Ae=this.value,lt=Ae.length,Qe=String(Ae[--lt]);0<=--lt;)se=String(Ae[lt]),Qe+="0000000".slice(se.length)+se;return(this.sign?"-":"")+Qe},w.prototype.toString=function(De){return(De=De===i?10:De)!=10?Me(this,De):String(this.value)},T.prototype.toJSON=w.prototype.toJSON=function(){return this.toString()},T.prototype.toJSNumber=T.prototype.valueOf=function(){return parseInt(this.toString(),10)},w.prototype.toJSNumber=w.prototype.valueOf=function(){return this.value};for(var nn=0;nn<1e3;nn++)$[nn]=new w(nn),0<nn&&($[-nn]=new w(-nn));return $.one=$[1],$.zero=$[0],$.minusOne=$[-1],$.max=Ge,$.min=et,$.gcd=Ct,$.lcm=function(De,se){return De=en(De).abs(),se=en(se).abs(),De.divide(Ct(De,se)).multiply(se)},$.isInstance=function(De){return De instanceof T||De instanceof w},$.randBetween=function(De,se){var Ae=et(De=en(De),se=en(se)),lt=Ge(De,se).subtract(Ae).add(1);if(lt.isSmall)return Ae.add(Math.floor(Math.random()*lt));for(var Qe=[],Tt=!0,Et=lt.value.length-1;0<=Et;Et--){var Vt=Tt?lt.value[Et]:u,rt=V(Math.random()*Vt);Qe.unshift(rt),rt<Vt&&(Tt=!1)}return Qe=K(Qe),Ae.add(typeof Qe=="number"?new w(Qe):new T(Qe,!1))},$.fromArray=function(De,se,Ae){return yt(De.map(en),en(se||10),Ae)},$})();return t.hasOwnProperty("exports")&&(t.exports=r),r})(),bigDec:(function(r){var i,u,h,f,g=9e15,y=1e9,$="0123456789abcdef",T="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",w="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",I={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-g,maxE:g,crypto:!1},A=!0,K="[DecimalError] ",ne=K+"Invalid argument: ",he=K+"Precision limit exceeded",V=K+"crypto unavailable",le=Math.floor,te=Math.pow,Ce=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Oe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ce=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Be=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,je=1e7,_e=7,b=T.length-1,O=w.length-1,N={name:"[object Decimal]"};function R(x){var W,ae,q,ge=x.length-1,be="",Le=x[0];if(0<ge){for(be+=Le,W=1;W<ge;W++)q=x[W]+"",(ae=_e-q.length)&&(be+=Ct(ae)),be+=q;Le=x[W],(ae=_e-(q=Le+"").length)&&(be+=Ct(ae))}else if(Le===0)return"0";for(;Le%10==0;)Le/=10;return be+Le}function B(x,W,ae){if(x!==~~x||x<W||ae<x)throw Error(ne+x)}function j(x,W,ae,q){for(var ge,be,Le=x[0];10<=Le;Le/=10)--W;return--W<0?(W+=_e,ge=0):(ge=Math.ceil((W+1)/_e),W%=_e),Le=te(10,_e-W),be=x[ge]%Le|0,q==null?W<3?(W==0?be=be/100|0:W==1&&(be=be/10|0),ae<4&&be==99999||3<ae&&be==49999||be==5e4||be==0):(ae<4&&be+1==Le||3<ae&&be+1==Le/2)&&(x[ge+1]/Le/100|0)==te(10,W-2)-1||(be==Le/2||be==0)&&(x[ge+1]/Le/100|0)==0:W<4?(W==0?be=be/1e3|0:W==1?be=be/100|0:W==2&&(be=be/10|0),(q||ae<4)&&be==9999||!q&&3<ae&&be==4999):((q||ae<4)&&be+1==Le||!q&&3<ae&&be+1==Le/2)&&(x[ge+1]/Le/1e3|0)==te(10,W-3)-1}function J(x,W,ae){for(var q,ge,be=[0],Le=0,st=x.length;Le<st;){for(ge=be.length;ge--;)be[ge]*=W;for(be[0]+=$.indexOf(x.charAt(Le++)),q=0;q<be.length;q++)be[q]>ae-1&&(be[q+1]===void 0&&(be[q+1]=0),be[q+1]+=be[q]/ae|0,be[q]%=ae)}return be.reverse()}N.absoluteValue=N.abs=function(){var x=new this.constructor(this);return x.s<0&&(x.s=1),xe(x)},N.ceil=function(){return xe(new this.constructor(this),this.e+1,2)},N.comparedTo=N.cmp=function(x){var W,ae,q=this,ge=q.d,be=(x=new q.constructor(x)).d,Le=q.s,st=x.s;if(!ge||!be)return Le&&st?Le!==st?Le:ge===be?0:!ge^Le<0?1:-1:NaN;if(!ge[0]||!be[0])return ge[0]?Le:be[0]?-st:0;if(Le!==st)return Le;if(q.e!==x.e)return q.e>x.e^Le<0?1:-1;for(W=0,ae=(q=ge.length)<(x=be.length)?q:x;W<ae;++W)if(ge[W]!==be[W])return ge[W]>be[W]^Le<0?1:-1;return q===x?0:x<q^Le<0?1:-1},N.cosine=N.cos=function(){var x,W,ae=this,q=ae.constructor;return ae.d?ae.d[0]?(x=q.precision,W=q.rounding,q.precision=x+Math.max(ae.e,ae.sd())+_e,q.rounding=1,ae=(function(ge,be){var Le,st=be.d.length,st=st<32?(1/De(4,Le=Math.ceil(st/3))).toString():(Le=16,"2.3283064365386962890625e-10");ge.precision+=Le,be=nn(ge,1,be.times(st),new ge(1));for(var $e=Le;$e--;){var $t=be.times(be);be=$t.times($t).minus($t).times(8).plus(1)}return ge.precision-=Le,be})(q,se(q,ae)),q.precision=x,q.rounding=W,xe(f==2||f==3?ae.neg():ae,x,W,!0)):new q(1):new q(NaN)},N.cubeRoot=N.cbrt=function(){var x,W,ae,q,ge,be,Le,st,$e,$t,Ue=this,p=Ue.constructor;if(!Ue.isFinite()||Ue.isZero())return new p(Ue);for(A=!1,(be=Ue.s*te(Ue.s*Ue,.3333333333333333))&&Math.abs(be)!=1/0?q=new p(be.toString()):(ae=R(Ue.d),(be=((x=Ue.e)-ae.length+1)%3)&&(ae+=be==1||be==-2?"0":"00"),be=te(ae,.3333333333333333),x=le((x+1)/3)-(x%3==(x<0?-1:2)),(q=new p(ae=be==1/0?"5e"+x:(ae=be.toExponential()).slice(0,ae.indexOf("e")+1)+x)).s=Ue.s),Le=(x=p.precision)+3;;)if($t=($e=(st=q).times(st).times(st)).plus(Ue),q=fe($t.plus(Ue).times(st),$t.plus($e),Le+2,1),R(st.d).slice(0,Le)===(ae=R(q.d)).slice(0,Le)){if((ae=ae.slice(Le-3,Le+1))!="9999"&&(ge||ae!="4999")){+ae&&(+ae.slice(1)||ae.charAt(0)!="5")||(xe(q,x+1,1),W=!q.times(q).times(q).eq(Ue));break}if(!ge&&(xe(st,x+1,0),st.times(st).times(st).eq(Ue))){q=st;break}Le+=4,ge=1}return A=!0,xe(q,x,p.rounding,W)},N.decimalPlaces=N.dp=function(){var x,W=this.d,ae=NaN;if(W){if(ae=((x=W.length-1)-le(this.e/_e))*_e,x=W[x])for(;x%10==0;x/=10)ae--;ae<0&&(ae=0)}return ae},N.dividedBy=N.div=function(x){return fe(this,new this.constructor(x))},N.dividedToIntegerBy=N.divToInt=function(x){var W=this.constructor;return xe(fe(this,new W(x),0,1,1),W.precision,W.rounding)},N.equals=N.eq=function(x){return this.cmp(x)===0},N.floor=function(){return xe(new this.constructor(this),this.e+1,3)},N.greaterThan=N.gt=function(x){return 0<this.cmp(x)},N.greaterThanOrEqualTo=N.gte=function(x){return x=this.cmp(x),x==1||x===0},N.hyperbolicCosine=N.cosh=function(){var x,W,ae,q=(st=this).constructor,ge=new q(1);if(!st.isFinite())return new q(st.s?1/0:NaN);if(st.isZero())return ge;W=q.precision,ae=q.rounding,q.precision=W+Math.max(st.e,st.sd())+4,q.rounding=1;for(var be,Le=(Le=st.d.length)<32?(1/De(4,x=Math.ceil(Le/3))).toString():(x=16,"2.3283064365386962890625e-10"),st=nn(q,1,st.times(Le),new q(1),!0),$e=x,$t=new q(8);$e--;)be=st.times(st),st=ge.minus(be.times($t.minus(be.times($t))));return xe(st,q.precision=W,q.rounding=ae,!0)},N.hyperbolicSine=N.sinh=function(){var x,W,ae,q=(Le=this).constructor;if(!Le.isFinite()||Le.isZero())return new q(Le);if(x=q.precision,W=q.rounding,q.precision=x+Math.max(Le.e,Le.sd())+4,q.rounding=1,(ae=Le.d.length)<3)Le=nn(q,2,Le,Le,!0);else for(var ge,be=16<(be=1.4*Math.sqrt(ae))?16:0|be,Le=nn(q,2,Le=Le.times(1/De(5,be)),Le,!0),st=new q(5),$e=new q(16),$t=new q(20);be--;)ge=Le.times(Le),Le=Le.times(st.plus(ge.times($e.times(ge).plus($t))));return xe(Le,q.precision=x,q.rounding=W,!0)},N.hyperbolicTangent=N.tanh=function(){var x,W,ae=this,q=ae.constructor;return ae.isFinite()?ae.isZero()?new q(ae):(x=q.precision,W=q.rounding,q.precision=x+7,q.rounding=1,fe(ae.sinh(),ae.cosh(),q.precision=x,q.rounding=W)):new q(ae.s)},N.inverseCosine=N.acos=function(){var x=this,W=x.constructor,ae=x.abs().cmp(1),q=W.precision,ge=W.rounding;return ae!==-1?ae===0?x.isNeg()?Ge(W,q,ge):new W(0):new W(NaN):x.isZero()?Ge(W,q+4,ge).times(.5):(W.precision=q+6,W.rounding=1,x=x.asin(),ae=Ge(W,q+4,ge).times(.5),W.precision=q,W.rounding=ge,ae.minus(x))},N.inverseHyperbolicCosine=N.acosh=function(){var x,W,ae=this,q=ae.constructor;return ae.lte(1)?new q(ae.eq(1)?0:NaN):ae.isFinite()?(x=q.precision,W=q.rounding,q.precision=x+Math.max(Math.abs(ae.e),ae.sd())+4,q.rounding=1,A=!1,ae=ae.times(ae).minus(1).sqrt().plus(ae),A=!0,q.precision=x,q.rounding=W,ae.ln()):new q(ae)},N.inverseHyperbolicSine=N.asinh=function(){var x,W,ae=this,q=ae.constructor;return!ae.isFinite()||ae.isZero()?new q(ae):(x=q.precision,W=q.rounding,q.precision=x+2*Math.max(Math.abs(ae.e),ae.sd())+6,q.rounding=1,A=!1,ae=ae.times(ae).plus(1).sqrt().plus(ae),A=!0,q.precision=x,q.rounding=W,ae.ln())},N.inverseHyperbolicTangent=N.atanh=function(){var x,W,ae,q=this,ge=q.constructor;return q.isFinite()?0<=q.e?new ge(q.abs().eq(1)?q.s/0:q.isZero()?q:NaN):(x=ge.precision,W=ge.rounding,ae=q.sd(),Math.max(ae,x)<2*-q.e-1?xe(new ge(q),x,W,!0):(ge.precision=ae=ae-q.e,q=fe(q.plus(1),new ge(1).minus(q),ae+x,1),ge.precision=x+4,ge.rounding=1,q=q.ln(),ge.precision=x,ge.rounding=W,q.times(.5))):new ge(NaN)},N.inverseSine=N.asin=function(){var x,W,ae,q=this,ge=q.constructor;return q.isZero()?new ge(q):(x=q.abs().cmp(1),W=ge.precision,ae=ge.rounding,x!==-1?x===0?((x=Ge(ge,W+4,ae).times(.5)).s=q.s,x):new ge(NaN):(ge.precision=W+6,ge.rounding=1,q=q.div(new ge(1).minus(q.times(q)).sqrt().plus(1)).atan(),ge.precision=W,ge.rounding=ae,q.times(2)))},N.inverseTangent=N.atan=function(){var x,W,ae,q,ge,be,Le,st,$e,$t=this,Ue=$t.constructor,p=Ue.precision,D=Ue.rounding;if($t.isFinite()){if($t.isZero())return new Ue($t);if($t.abs().eq(1)&&p+4<=O)return(Le=Ge(Ue,p+4,D).times(.25)).s=$t.s,Le}else{if(!$t.s)return new Ue(NaN);if(p+4<=O)return(Le=Ge(Ue,p+4,D).times(.5)).s=$t.s,Le}for(Ue.precision=st=p+10,Ue.rounding=1,x=ae=Math.min(28,st/_e+2|0);x;--x)$t=$t.div($t.times($t).plus(1).sqrt().plus(1));for(A=!1,W=Math.ceil(st/_e),q=1,$e=$t.times($t),Le=new Ue($t),ge=$t;x!==-1;)if(ge=ge.times($e),be=Le.minus(ge.div(q+=2)),ge=ge.times($e),(Le=be.plus(ge.div(q+=2))).d[W]!==void 0)for(x=W;Le.d[x]===be.d[x]&&x--;);return ae&&(Le=Le.times(2<<ae-1)),A=!0,xe(Le,Ue.precision=p,Ue.rounding=D,!0)},N.isFinite=function(){return!!this.d},N.isInteger=N.isInt=function(){return!!this.d&&le(this.e/_e)>this.d.length-2},N.isNaN=function(){return!this.s},N.isNegative=N.isNeg=function(){return this.s<0},N.isPositive=N.isPos=function(){return 0<this.s},N.isZero=function(){return!!this.d&&this.d[0]===0},N.lessThan=N.lt=function(x){return this.cmp(x)<0},N.lessThanOrEqualTo=N.lte=function(x){return this.cmp(x)<1},N.logarithm=N.log=function(x){var W,ae,q,ge,be,Le,st,$e,$t=this.constructor,Ue=$t.precision,p=$t.rounding;if(x==null)x=new $t(10),W=!0;else{if(ae=(x=new $t(x)).d,x.s<0||!ae||!ae[0]||x.eq(1))return new $t(NaN);W=x.eq(10)}if(ae=this.d,this.s<0||!ae||!ae[0]||this.eq(1))return new $t(ae&&!ae[0]?-1/0:this.s!=1?NaN:ae?0:1/0);if(W)if(1<ae.length)be=!0;else{for(ge=ae[0];ge%10==0;)ge/=10;be=ge!==1}if(A=!1,Le=Me(this,st=Ue+5),q=W?Ft($t,st+10):Me(x,st),j(($e=fe(Le,q,st,1)).d,ge=Ue,p))do if(Le=Me(this,st+=10),q=W?Ft($t,st+10):Me(x,st),$e=fe(Le,q,st,1),!be){+R($e.d).slice(ge+1,ge+15)+1==1e14&&($e=xe($e,Ue+1,0));break}while(j($e.d,ge+=10,p));return A=!0,xe($e,Ue,p)},N.minus=N.sub=function(x){var W,ae,q,ge,be,Le,st,$e,$t,Ue,p,D=this,Q=D.constructor;if(x=new Q(x),!D.d||!x.d)return D.s&&x.s?D.d?x.s=-x.s:x=new Q(x.d||D.s!==x.s?D:NaN):x=new Q(NaN),x;if(D.s!=x.s)return x.s=-x.s,D.plus(x);if($t=D.d,p=x.d,st=Q.precision,$e=Q.rounding,!$t[0]||!p[0]){if(p[0])x.s=-x.s;else{if(!$t[0])return new Q($e===3?-0:0);x=new Q(D)}return A?xe(x,st,$e):x}if(ae=le(x.e/_e),D=le(D.e/_e),$t=$t.slice(),be=D-ae){for(Le=(Ue=be<0)?(W=$t,be=-be,p.length):(W=p,ae=D,$t.length),be>(q=Math.max(Math.ceil(st/_e),Le)+2)&&(be=q,W.length=1),W.reverse(),q=be;q--;)W.push(0);W.reverse()}else{for((Ue=(q=$t.length)<(Le=p.length))&&(Le=q),q=0;q<Le;q++)if($t[q]!=p[q]){Ue=$t[q]<p[q];break}be=0}for(Ue&&(W=$t,$t=p,p=W,x.s=-x.s),Le=$t.length,q=p.length-Le;0<q;--q)$t[Le++]=0;for(q=p.length;be<q;){if($t[--q]<p[q]){for(ge=q;ge&&$t[--ge]===0;)$t[ge]=je-1;--$t[ge],$t[q]+=je}$t[q]-=p[q]}for(;$t[--Le]===0;)$t.pop();for(;$t[0]===0;$t.shift())--ae;return $t[0]?(x.d=$t,x.e=ze($t,ae),A?xe(x,st,$e):x):new Q($e===3?-0:0)},N.modulo=N.mod=function(x){var W,ae=this,q=ae.constructor;return x=new q(x),!ae.d||!x.s||x.d&&!x.d[0]?new q(NaN):!x.d||ae.d&&!ae.d[0]?xe(new q(ae),q.precision,q.rounding):(A=!1,q.modulo==9?(W=fe(ae,x.abs(),0,3,1)).s*=x.s:W=fe(ae,x,0,q.modulo,1),W=W.times(x),A=!0,ae.minus(W))},N.naturalExponential=N.exp=function(){return Ht(this)},N.naturalLogarithm=N.ln=function(){return Me(this)},N.negated=N.neg=function(){var x=new this.constructor(this);return x.s=-x.s,xe(x)},N.plus=N.add=function(x){var W,ae,q,ge,be,Le,st,$e,$t=this,Ue=$t.constructor;if(x=new Ue(x),!$t.d||!x.d)return $t.s&&x.s?$t.d||(x=new Ue(x.d||$t.s===x.s?$t:NaN)):x=new Ue(NaN),x;if($t.s!=x.s)return x.s=-x.s,$t.minus(x);if(st=$t.d,$e=x.d,be=Ue.precision,Le=Ue.rounding,!st[0]||!$e[0])return $e[0]||(x=new Ue($t)),A?xe(x,be,Le):x;if(Ue=le($t.e/_e),$t=le(x.e/_e),st=st.slice(),q=Ue-$t){for(ge=q<0?(ae=st,q=-q,$e.length):(ae=$e,$t=Ue,st.length),q>(ge=(Ue=Math.ceil(be/_e))>ge?Ue+1:ge+1)&&(q=ge,ae.length=1),ae.reverse();q--;)ae.push(0);ae.reverse()}for((ge=st.length)-(q=$e.length)<0&&(q=ge,ae=$e,$e=st,st=ae),W=0;q;)W=(st[--q]=st[q]+$e[q]+W)/je|0,st[q]%=je;for(W&&(st.unshift(W),++$t),ge=st.length;st[--ge]==0;)st.pop();return x.d=st,x.e=ze(st,$t),A?xe(x,be,Le):x},N.precision=N.sd=function(x){var W;if(x!==void 0&&x!==!!x&&x!==1&&x!==0)throw Error(ne+x);return this.d?(W=et(this.d),x&&this.e+1>W&&(W=this.e+1)):W=NaN,W},N.round=function(){var x=this.constructor;return xe(new x(this),this.e+1,x.rounding)},N.sine=N.sin=function(){var x,W,ae=this,q=ae.constructor;return ae.isFinite()?ae.isZero()?new q(ae):(x=q.precision,W=q.rounding,q.precision=x+Math.max(ae.e,ae.sd())+_e,q.rounding=1,ae=(function(ge,be){var Le,st=be.d.length;if(st<3)return nn(ge,2,be,be);Le=16<(Le=1.4*Math.sqrt(st))?16:0|Le,be=nn(ge,2,be=be.times(1/De(5,Le)),be);for(var $e,$t=new ge(5),Ue=new ge(16),p=new ge(20);Le--;)$e=be.times(be),be=be.times($t.plus($e.times(Ue.times($e).minus(p))));return be})(q,se(q,ae)),q.precision=x,q.rounding=W,xe(2<f?ae.neg():ae,x,W,!0)):new q(NaN)},N.squareRoot=N.sqrt=function(){var x,W,ae,q,ge,be,Le=this,st=Le.d,$e=Le.e,$t=Le.s,Ue=Le.constructor;if($t!==1||!st||!st[0])return new Ue(!$t||$t<0&&(!st||st[0])?NaN:st?Le:1/0);for(A=!1,q=($t=Math.sqrt(+Le))==0||$t==1/0?(((W=R(st)).length+$e)%2==0&&(W+="0"),$t=Math.sqrt(W),$e=le(($e+1)/2)-($e<0||$e%2),new Ue(W=$t==1/0?"5e"+$e:(W=$t.toExponential()).slice(0,W.indexOf("e")+1)+$e)):new Ue($t.toString()),ae=($e=Ue.precision)+3;;)if(q=(be=q).plus(fe(Le,be,ae+2,1)).times(.5),R(be.d).slice(0,ae)===(W=R(q.d)).slice(0,ae)){if((W=W.slice(ae-3,ae+1))!="9999"&&(ge||W!="4999")){+W&&(+W.slice(1)||W.charAt(0)!="5")||(xe(q,$e+1,1),x=!q.times(q).eq(Le));break}if(!ge&&(xe(be,$e+1,0),be.times(be).eq(Le))){q=be;break}ae+=4,ge=1}return A=!0,xe(q,$e,Ue.rounding,x)},N.tangent=N.tan=function(){var x,W,ae=this,q=ae.constructor;return ae.isFinite()?ae.isZero()?new q(ae):(x=q.precision,W=q.rounding,q.precision=x+10,q.rounding=1,(ae=ae.sin()).s=1,ae=fe(ae,new q(1).minus(ae.times(ae)).sqrt(),x+10,0),q.precision=x,q.rounding=W,xe(f==2||f==4?ae.neg():ae,x,W,!0)):new q(NaN)},N.times=N.mul=function(x){var W,ae,q,ge,be,Le,st,$e,$t,Ue=this.constructor,p=this.d,D=(x=new Ue(x)).d;if(x.s*=this.s,!(p&&p[0]&&D&&D[0]))return new Ue(!x.s||p&&!p[0]&&!D||D&&!D[0]&&!p?NaN:p&&D?0*x.s:x.s/0);for(ae=le(this.e/_e)+le(x.e/_e),($e=p.length)<($t=D.length)&&(be=p,p=D,D=be,Le=$e,$e=$t,$t=Le),be=[],q=Le=$e+$t;q--;)be.push(0);for(q=$t;0<=--q;){for(W=0,ge=$e+q;q<ge;)st=be[ge]+D[q]*p[ge-q-1]+W,be[ge--]=st%je|0,W=st/je|0;be[ge]=(be[ge]+W)%je|0}for(;!be[--Le];)be.pop();return W?++ae:be.shift(),x.d=be,x.e=ze(be,ae),A?xe(x,Ue.precision,Ue.rounding):x},N.toBinary=function(x,W){return Ae(this,2,x,W)},N.toDecimalPlaces=N.toDP=function(x,W){var ae=this.constructor,q=new ae(this);return x===void 0?q:(B(x,0,y),W===void 0?W=ae.rounding:B(W,0,8),xe(q,x+q.e+1,W))},N.toExponential=function(ge,W){var ae=this,q=ae.constructor,ge=ge===void 0?gt(ae,!0):(B(ge,0,y),W===void 0?W=q.rounding:B(W,0,8),gt(ae=xe(new q(ae),ge+1,W),!0,ge+1));return ae.isNeg()&&!ae.isZero()?"-"+ge:ge},N.toFixed=function(x,W){var ae=this,q=ae.constructor,ge=x===void 0?gt(ae):(B(x,0,y),W===void 0?W=q.rounding:B(W,0,8),gt(ge=xe(new q(ae),x+ae.e+1,W),!1,x+ge.e+1));return ae.isNeg()&&!ae.isZero()?"-"+ge:ge},N.toFraction=function(x){var W,ae,q,ge,be,Le,st,$e,$t,Ue,p=this,D=p.d,Q=p.constructor;if(!D)return new Q(p);if($e=ae=new Q(1),q=st=new Q(0),$t=(be=(W=new Q(q)).e=et(D)-p.e-1)%_e,W.d[0]=te(10,$t<0?_e+$t:$t),x==null)x=0<be?W:$e;else{if(!(Le=new Q(x)).isInt()||Le.lt($e))throw Error(ne+Le);x=Le.gt(W)?0<be?W:$e:Le}for(A=!1,Le=new Q(R(D)),$t=Q.precision,Q.precision=be=D.length*_e*2;Ue=fe(Le,W,0,1,1),(ge=ae.plus(Ue.times(q))).cmp(x)!=1;)ae=q,q=ge,$e=st.plus(Ue.times(ge=$e)),st=ge,W=Le.minus(Ue.times(ge=W)),Le=ge;return ge=fe(x.minus(ae),q,0,1,1),st=st.plus(ge.times($e)),ae=ae.plus(ge.times(q)),st.s=$e.s=p.s,p=fe($e,q,be,1).minus(p).abs().cmp(fe(st,ae,be,1).minus(p).abs())<1?[$e,q]:[st,ae],Q.precision=$t,A=!0,p},N.toHexadecimal=N.toHex=function(x,W){return Ae(this,16,x,W)},N.toNearest=function(x,W){var ae=(q=this).constructor,q=new ae(q);if(x==null){if(!q.d)return q;x=new ae(1),W=ae.rounding}else{if(x=new ae(x),W===void 0?W=ae.rounding:B(W,0,8),!q.d)return x.s?q:x;if(!x.d)return x.s&&(x.s=q.s),x}return x.d[0]?(A=!1,q=fe(q,x,0,W,1).times(x),A=!0,xe(q)):(x.s=q.s,q=x),q},N.toNumber=function(){return+this},N.toOctal=function(x,W){return Ae(this,8,x,W)},N.toPower=N.pow=function(x){var W,ae,q,ge,be,Le,st=this,$e=st.constructor,$t=+(x=new $e(x));if(!(st.d&&x.d&&st.d[0]&&x.d[0]))return new $e(te(+st,$t));if((st=new $e(st)).eq(1))return st;if(q=$e.precision,be=$e.rounding,x.eq(1))return xe(st,q,be);if((W=le(x.e/_e))>=x.d.length-1&&(ae=$t<0?-$t:$t)<=9007199254740991)return ge=nt($e,st,ae,q),x.s<0?new $e(1).div(ge):xe(ge,q,be);if((Le=st.s)<0){if(W<x.d.length-1)return new $e(NaN);if((1&x.d[W])==0&&(Le=1),st.e==0&&st.d[0]==1&&st.d.length==1)return st.s=Le,st}return(W=(ae=te(+st,$t))!=0&&isFinite(ae)?new $e(ae+"").e:le($t*(Math.log("0."+R(st.d))/Math.LN10+st.e+1)))>$e.maxE+1||W<$e.minE-1?new $e(0<W?Le/0:0):(A=!1,$e.rounding=st.s=1,ae=Math.min(12,(W+"").length),(ge=Ht(x.times(Me(st,q+ae)),q)).d&&j((ge=xe(ge,q+5,1)).d,q,be)&&+R((ge=xe(Ht(x.times(Me(st,(W=q+10)+ae)),W),W+5,1)).d).slice(q+1,q+15)+1==1e14&&(ge=xe(ge,q+1,0)),ge.s=Le,A=!0,xe(ge,q,$e.rounding=be))},N.toPrecision=function(ge,W){var ae=this,q=ae.constructor,ge=ge===void 0?gt(ae,ae.e<=q.toExpNeg||ae.e>=q.toExpPos):(B(ge,1,y),W===void 0?W=q.rounding:B(W,0,8),gt(ae=xe(new q(ae),ge,W),ge<=ae.e||ae.e<=q.toExpNeg,ge));return ae.isNeg()&&!ae.isZero()?"-"+ge:ge},N.toSignificantDigits=N.toSD=function(x,W){var ae=this.constructor;return x===void 0?(x=ae.precision,W=ae.rounding):(B(x,1,y),W===void 0?W=ae.rounding:B(W,0,8)),xe(new ae(this),x,W)},N.toString=function(){var x=this.constructor,x=gt(this,this.e<=x.toExpNeg||this.e>=x.toExpPos);return this.isNeg()&&!this.isZero()?"-"+x:x},N.truncated=N.trunc=function(){return xe(new this.constructor(this),this.e+1,1)},N.valueOf=N.toJSON=function(){var x=this.constructor,x=gt(this,this.e<=x.toExpNeg||this.e>=x.toExpPos);return this.isNeg()?"-"+x:x};var fe=function(x,W,ae,q,ge,be){var Le,st,$e,$t,Ue,p,D,Q,me,He,_t,Gt,bt,un,Yt,fn,Un,Xt,Ke,Pn=x.constructor,er=x.s==W.s?1:-1,nr=x.d,or=W.d;if(!(nr&&nr[0]&&or&&or[0]))return new Pn(x.s&&W.s&&(nr?!or||nr[0]!=or[0]:or)?nr&&nr[0]==0||!or?0*er:er/0:NaN);for(st=be?(Ue=1,x.e-W.e):(be=je,le(x.e/(Ue=_e))-le(W.e/Ue)),Xt=or.length,fn=nr.length,me=(er=new Pn(er)).d=[],$e=0;or[$e]==(nr[$e]||0);$e++);if(or[$e]>(nr[$e]||0)&&st--,ae==null?(bt=ae=Pn.precision,q=Pn.rounding):bt=ge?ae+(x.e-W.e)+1:ae,bt<0)me.push(1),p=!0;else{if(bt=bt/Ue+2|0,$e=0,Xt==1){for(or=or[$t=0],bt++;($e<fn||$t)&&bt--;$e++)un=$t*be+(nr[$e]||0),me[$e]=un/or|0,$t=un%or|0;p=$t||$e<fn}else{for(1<($t=be/(or[0]+1)|0)&&(or=Ne(or,$t,be),nr=Ne(nr,$t,be),Xt=or.length,fn=nr.length),_t=(He=nr.slice(0,Yt=Xt)).length;_t<Xt;)He[_t++]=0;for((Ke=or.slice()).unshift(0),Un=or[0],or[1]>=be/2&&++Un;$t=0,(Le=qe(or,He,Xt,_t))<0?(Gt=He[0],1<($t=(Gt=Xt!=_t?Gt*be+(He[1]||0):Gt)/Un|0)?(Le=qe(D=Ne(or,$t=be<=$t?be-1:$t,be),He,Q=D.length,_t=He.length))==1&&($t--,de(D,Xt<Q?Ke:or,Q,be)):($t==0&&(Le=$t=1),D=or.slice()),(Q=D.length)<_t&&D.unshift(0),de(He,D,_t,be),Le==-1&&(Le=qe(or,He,Xt,_t=He.length))<1&&($t++,de(He,Xt<_t?Ke:or,_t,be)),_t=He.length):Le===0&&($t++,He=[0]),me[$e++]=$t,Le&&He[0]?He[_t++]=nr[Yt]||0:(He=[nr[Yt]],_t=1),(Yt++<fn||He[0]!==void 0)&&bt--;);p=He[0]!==void 0}me[0]||me.shift()}if(Ue==1)er.e=st,u=p;else{for($e=1,$t=me[0];10<=$t;$t/=10)$e++;er.e=$e+st*Ue-1,xe(er,ge?ae+er.e+1:ae,q,p)}return er};function Ne(x,W,ae){var q,ge=0,be=x.length;for(x=x.slice();be--;)q=x[be]*W+ge,x[be]=q%ae|0,ge=q/ae|0;return ge&&x.unshift(ge),x}function qe(x,W,ae,q){var ge,be;if(ae!=q)be=q<ae?1:-1;else for(ge=be=0;ge<ae;ge++)if(x[ge]!=W[ge]){be=x[ge]>W[ge]?1:-1;break}return be}function de(x,W,ae,q){for(var ge=0;ae--;)x[ae]-=ge,ge=x[ae]<W[ae]?1:0,x[ae]=ge*q+x[ae]-W[ae];for(;!x[0]&&1<x.length;)x.shift()}function xe(x,W,ae,q){var ge,be,Le,st,$e,$t,Ue,p,D=x.constructor;e:if(W!=null){if(!(Ue=x.d))return x;for(ge=1,st=Ue[0];10<=st;st/=10)ge++;if((be=W-ge)<0)be+=_e,$e=($t=Ue[p=0])/te(10,ge-(Le=W)-1)%10|0;else if((p=Math.ceil((be+1)/_e))>=(st=Ue.length)){if(!q)break e;for(;st++<=p;)Ue.push(0);$t=$e=0,Le=(be%=_e)-_e+(ge=1)}else{for($t=st=Ue[p],ge=1;10<=st;st/=10)ge++;$e=(Le=(be%=_e)-_e+ge)<0?0:$t/te(10,ge-Le-1)%10|0}if(q=q||W<0||Ue[p+1]!==void 0||(Le<0?$t:$t%te(10,ge-Le-1)),$e=ae<4?($e||q)&&(ae==0||ae==(x.s<0?3:2)):5<$e||$e==5&&(ae==4||q||ae==6&&(0<be?0<Le?$t/te(10,ge-Le):0:Ue[p-1])%10&1||ae==(x.s<0?8:7)),W<1||!Ue[0])return Ue.length=0,$e?(W-=x.e+1,Ue[0]=te(10,(_e-W%_e)%_e),x.e=-W||0):Ue[0]=x.e=0,x;if(be==0?(Ue.length=p,st=1,p--):(Ue.length=p+1,st=te(10,_e-be),Ue[p]=0<Le?($t/te(10,ge-Le)%te(10,Le)|0)*st:0),$e)for(;;){if(p==0){for(be=1,Le=Ue[0];10<=Le;Le/=10)be++;for(Le=Ue[0]+=st,st=1;10<=Le;Le/=10)st++;be!=st&&(x.e++,Ue[0]==je&&(Ue[0]=1));break}if(Ue[p]+=st,Ue[p]!=je)break;Ue[p--]=0,st=1}for(be=Ue.length;Ue[--be]===0;)Ue.pop()}return A&&(x.e>D.maxE?(x.d=null,x.e=NaN):x.e<D.minE&&(x.e=0,x.d=[0])),x}function gt(x,W,ae){if(!x.isFinite())return ut(x);var q,ge=x.e,be=R(x.d),Le=be.length;return W?(ae&&0<(q=ae-Le)?be=be.charAt(0)+"."+be.slice(1)+Ct(q):1<Le&&(be=be.charAt(0)+"."+be.slice(1)),be=be+(x.e<0?"e":"e+")+x.e):ge<0?(be="0."+Ct(-ge-1)+be,ae&&0<(q=ae-Le)&&(be+=Ct(q))):Le<=ge?(be+=Ct(ge+1-Le),ae&&0<(q=ae-ge-1)&&(be=be+"."+Ct(q))):((q=ge+1)<Le&&(be=be.slice(0,q)+"."+be.slice(q)),ae&&0<(q=ae-Le)&&(ge+1===Le&&(be+="."),be+=Ct(q))),be}function ze(x,W){var ae=x[0];for(W*=_e;10<=ae;ae/=10)W++;return W}function Ft(x,W,ae){if(b<W)throw A=!0,ae&&(x.precision=ae),Error(he);return xe(new x(T),W,1,!0)}function Ge(x,W,ae){if(O<W)throw Error(he);return xe(new x(w),W,ae,!0)}function et(x){var W=x.length-1,ae=W*_e+1;if(W=x[W]){for(;W%10==0;W/=10)ae--;for(W=x[0];10<=W;W/=10)ae++}return ae}function Ct(x){for(var W="";x--;)W+="0";return W}function nt(x,W,ae,q){var ge,be=new x(1),Le=Math.ceil(q/_e+4);for(A=!1;;){if(ae%2&&lt((be=be.times(W)).d,Le)&&(ge=!0),(ae=le(ae/2))===0){ae=be.d.length-1,ge&&be.d[ae]===0&&++be.d[ae];break}lt((W=W.times(W)).d,Le)}return A=!0,be}function yt(x){return 1&x.d[x.d.length-1]}function Ut(x,W,ae){for(var q,ge=new x(W[0]),be=0;++be<W.length;){if(!(q=new x(W[be])).s){ge=q;break}ge[ae](q)&&(ge=q)}return ge}function Ht(x,W){var ae,q,ge,be,Le,st,$e,$t=0,Ue=0,p=0,D=x.constructor,Q=D.rounding,me=D.precision;if(!x.d||!x.d[0]||17<x.e)return new D(x.d?x.d[0]?x.s<0?0:1/0:1:x.s?x.s<0?0:x:NaN);for($e=W??(A=!1,me),st=new D(.03125);-2<x.e;)x=x.times(st),p+=5;for($e+=q=Math.log(te(2,p))/Math.LN10*2+5|0,ae=be=Le=new D(1),D.precision=$e;;){if(be=xe(be.times(x),$e,1),ae=ae.times(++Ue),R((st=Le.plus(fe(be,ae,$e,1))).d).slice(0,$e)===R(Le.d).slice(0,$e)){for(ge=p;ge--;)Le=xe(Le.times(Le),$e,1);if(W!=null)return D.precision=me,Le;if(!($t<3&&j(Le.d,$e-q,Q,$t)))return xe(Le,D.precision=me,Q,A=!0);D.precision=$e+=10,ae=be=st=new D(1),Ue=0,$t++}Le=st}}function Me(x,W){var ae,q,ge,be,Le,st,$e,$t,Ue,p,D,Q=1,me=x,He=me.d,_t=me.constructor,Gt=_t.rounding,bt=_t.precision;if(me.s<0||!He||!He[0]||!me.e&&He[0]==1&&He.length==1)return new _t(He&&!He[0]?-1/0:me.s!=1?NaN:He?0:me);if(Ue=W??(A=!1,bt),_t.precision=Ue+=10,q=(ae=R(He)).charAt(0),!(Math.abs(be=me.e)<15e14))return $t=Ft(_t,Ue+2,bt).times(be+""),me=Me(new _t(q+"."+ae.slice(1)),Ue-10).plus($t),_t.precision=bt,W==null?xe(me,bt,Gt,A=!0):me;for(;q<7&&q!=1||q==1&&3<ae.charAt(1);)q=(ae=R((me=me.times(x)).d)).charAt(0),Q++;for(be=me.e,1<q?(me=new _t("0."+ae),be++):me=new _t(q+"."+ae.slice(1)),$e=Le=me=fe((p=me).minus(1),me.plus(1),Ue,1),D=xe(me.times(me),Ue,1),ge=3;;){if(Le=xe(Le.times(D),Ue,1),R(($t=$e.plus(fe(Le,new _t(ge),Ue,1))).d).slice(0,Ue)===R($e.d).slice(0,Ue)){if($e=$e.times(2),be!==0&&($e=$e.plus(Ft(_t,Ue+2,bt).times(be+""))),$e=fe($e,new _t(Q),Ue,1),W!=null)return _t.precision=bt,$e;if(!j($e.d,Ue-10,Gt,st))return xe($e,_t.precision=bt,Gt,A=!0);_t.precision=Ue+=10,$t=Le=me=fe(p.minus(1),p.plus(1),Ue,1),D=xe(me.times(me),Ue,1),ge=st=1}$e=$t,ge+=2}}function ut(x){return String(x.s*x.s/0)}function en(x,W){var ae,q,ge;for(0<(q=(W=-1<(ae=W.indexOf("."))?W.replace(".",""):W).search(/e/i))?(ae<0&&(ae=q),ae+=+W.slice(q+1),W=W.substring(0,q)):ae<0&&(ae=W.length),q=0;W.charCodeAt(q)===48;q++);for(ge=W.length;W.charCodeAt(ge-1)===48;--ge);if(W=W.slice(q,ge)){if(ge-=q,x.e=ae=ae-q-1,x.d=[],q=(ae+1)%_e,ae<0&&(q+=_e),q<ge){for(q&&x.d.push(+W.slice(0,q)),ge-=_e;q<ge;)x.d.push(+W.slice(q,q+=_e));W=W.slice(q),q=_e-W.length}else q-=ge;for(;q--;)W+="0";x.d.push(+W),A&&(x.e>x.constructor.maxE?(x.d=null,x.e=NaN):x.e<x.constructor.minE&&(x.e=0,x.d=[0]))}else x.e=0,x.d=[0];return x}function nn(x,W,ae,q,ge){var be,Le,st,$e,$t=x.precision,Ue=Math.ceil($t/_e);for(A=!1,$e=ae.times(ae),st=new x(q);;){if(Le=fe(st.times($e),new x(W++*W++),$t,1),st=ge?q.plus(Le):q.minus(Le),q=fe(Le.times($e),new x(W++*W++),$t,1),(Le=st.plus(q)).d[Ue]!==void 0){for(be=Ue;Le.d[be]===st.d[be]&&be--;);if(be==-1)break}be=st,st=q,q=Le,Le=be}return A=!0,Le.d.length=Ue+1,Le}function De(x,W){for(var ae=x;--W;)ae*=x;return ae}function se(x,W){var ae=W.s<0,q=Ge(x,x.precision,1),ge=q.times(.5);if((W=W.abs()).lte(ge))return f=ae?4:1,W;if((x=W.divToInt(q)).isZero())f=ae?3:2;else{if((W=W.minus(x.times(q))).lte(ge))return f=yt(x)?ae?2:3:ae?4:1,W;f=yt(x)?ae?1:4:ae?3:2}return W.minus(q).abs()}function Ae(x,W,ae,q){var ge,be,Le,st,$e,$t,Ue,p,D=x.constructor,Q=ae!==void 0;if(Q?(B(ae,1,y),q===void 0?q=D.rounding:B(q,0,8)):(ae=D.precision,q=D.rounding),x.isFinite()){for(Q?(ge=2,W==16?ae=4*ae-3:W==8&&(ae=3*ae-2)):ge=W,0<=(Le=($t=gt(x)).indexOf("."))&&($t=$t.replace(".",""),(p=new D(1)).e=$t.length-Le,p.d=J(gt(p),10,ge),p.e=p.d.length),be=st=(Ue=J($t,10,ge)).length;Ue[--st]==0;)Ue.pop();if(Ue[0]){if(Le<0?be--:((x=new D(x)).d=Ue,x.e=be,Ue=(x=fe(x,p,ae,q,0,ge)).d,be=x.e,$e=u),Le=Ue[ae],p=ge/2,$e=$e||Ue[ae+1]!==void 0,$e=q<4?(Le!==void 0||$e)&&(q===0||q===(x.s<0?3:2)):p<Le||Le===p&&(q===4||$e||q===6&&1&Ue[ae-1]||q===(x.s<0?8:7)),Ue.length=ae,$e)for(;++Ue[--ae]>ge-1;)Ue[ae]=0,ae||(++be,Ue.unshift(1));for(st=Ue.length;!Ue[st-1];--st);for(Le=0,$t="";Le<st;Le++)$t+=$.charAt(Ue[Le]);if(Q){if(1<st)if(W==16||W==8){for(Le=W==16?4:3,--st;st%Le;st++)$t+="0";for(st=(Ue=J($t,ge,W)).length;!Ue[st-1];--st);for(Le=1,$t="1.";Le<st;Le++)$t+=$.charAt(Ue[Le])}else $t=$t.charAt(0)+"."+$t.slice(1);$t=$t+(be<0?"p":"p+")+be}else if(be<0){for(;++be;)$t="0"+$t;$t="0."+$t}else if(++be>st)for(be-=st;be--;)$t+="0";else be<st&&($t=$t.slice(0,be)+"."+$t.slice(be))}else $t=Q?"0p+0":"0";$t=(W==16?"0x":W==2?"0b":W==8?"0o":"")+$t}else $t=ut(x);return x.s<0?"-"+$t:$t}function lt(x,W){return x.length>W&&(x.length=W,1)}function Qe(x){return new this(x).abs()}function Tt(x){return new this(x).acos()}function Et(x){return new this(x).acosh()}function Vt(x,W){return new this(x).plus(W)}function rt(x){return new this(x).asin()}function P(x){return new this(x).asinh()}function Re(x){return new this(x).atan()}function ke(x){return new this(x).atanh()}function ht(x,W){x=new this(x),W=new this(W);var ae,q=this.precision,ge=this.rounding,be=q+4;return x.s&&W.s?x.d||W.d?!W.d||x.isZero()?(ae=W.s<0?Ge(this,q,ge):new this(0)).s=x.s:!x.d||W.isZero()?(ae=Ge(this,be,1).times(.5)).s=x.s:ae=W.s<0?(this.precision=be,this.rounding=1,ae=this.atan(fe(x,W,be,1)),W=Ge(this,be,1),this.precision=q,this.rounding=ge,x.s<0?ae.minus(W):ae.plus(W)):this.atan(fe(x,W,be,1)):(ae=Ge(this,be,1).times(0<W.s?.25:.75)).s=x.s:ae=new this(NaN),ae}function Mt(x){return new this(x).cbrt()}function Ot(x){return xe(x=new this(x),x.e+1,2)}function wt(x){if(!x||typeof x!="object")throw Error(K+"Object expected");for(var W,ae,q=x.defaults===!0,ge=["precision",1,y,"rounding",0,8,"toExpNeg",-g,0,"toExpPos",0,g,"maxE",0,g,"minE",-g,0,"modulo",0,9],be=0;be<ge.length;be+=3)if(W=ge[be],q&&(this[W]=I[W]),(ae=x[W])!==void 0){if(!(le(ae)===ae&&ge[be+1]<=ae&&ae<=ge[be+2]))throw Error(ne+W+": "+ae);this[W]=ae}if(W="crypto",q&&(this[W]=I[W]),(ae=x[W])!==void 0){if(ae!==!0&&ae!==!1&&ae!==0&&ae!==1)throw Error(ne+W+": "+ae);if(ae){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(V);this[W]=!0}else this[W]=!1}return this}function ft(x){return new this(x).cos()}function Y(x){return new this(x).cosh()}function Ee(x,W){return new this(x).div(W)}function Je(x){return new this(x).exp()}function Fe(x){return xe(x=new this(x),x.e+1,3)}function Lt(){var x,W,ae=new this(0);for(A=!1,x=0;x<arguments.length;)if((W=new this(arguments[x++])).d)ae.d&&(ae=ae.plus(W.times(W)));else{if(W.s)return A=!0,new this(1/0);ae=W}return A=!0,ae.sqrt()}function Bt(x){return x instanceof i||x&&x.name==="[object Decimal]"||!1}function zt(x){return new this(x).ln()}function ve(x,W){return new this(x).log(W)}function Ye(x){return new this(x).log(2)}function X(x){return new this(x).log(10)}function we(){return Ut(this,arguments,"lt")}function tt(){return Ut(this,arguments,"gt")}function St(x,W){return new this(x).mod(W)}function Zt(x,W){return new this(x).mul(W)}function $n(x,W){return new this(x).pow(W)}function pn(x){var W,ae,q,ge,be=0,Le=new this(1),st=[];if(x===void 0?x=this.precision:B(x,1,y),q=Math.ceil(x/_e),this.crypto)if(crypto.getRandomValues)for(W=crypto.getRandomValues(new Uint32Array(q));be<q;)429e7<=(ge=W[be])?W[be]=crypto.getRandomValues(new Uint32Array(1))[0]:st[be++]=ge%1e7;else{if(!crypto.randomBytes)throw Error(V);for(W=crypto.randomBytes(q*=4);be<q;)214e7<=(ge=W[be]+(W[be+1]<<8)+(W[be+2]<<16)+((127&W[be+3])<<24))?crypto.randomBytes(4).copy(W,be):(st.push(ge%1e7),be+=4);be=q/4}else for(;be<q;)st[be++]=1e7*Math.random()|0;for(q=st[--be],x%=_e,q&&x&&(ge=te(10,_e-x),st[be]=(q/ge|0)*ge);st[be]===0;be--)st.pop();if(be<0)st=[ae=0];else{for(ae=-1;st[0]===0;ae-=_e)st.shift();for(q=1,ge=st[0];10<=ge;ge/=10)q++;q<_e&&(ae-=_e-q)}return Le.e=ae,Le.d=st,Le}function sr(x){return xe(x=new this(x),x.e+1,this.rounding)}function wr(x){return(x=new this(x)).d?x.d[0]?x.s:0*x.s:x.s||NaN}function jn(x){return new this(x).sin()}function En(x){return new this(x).sinh()}function re(x){return new this(x).sqrt()}function Te(x,W){return new this(x).sub(W)}function gn(x){return new this(x).tan()}function F(x){return new this(x).tanh()}function ie(x){return xe(x=new this(x),x.e+1,1)}return(i=(function x(W){var ae,q,ge;function be(Le){var st,$e,$t,Ue=this;if(!(Ue instanceof be))return new be(Le);if(Le instanceof(Ue.constructor=be))return Ue.s=Le.s,void(A?!Le.d||Le.e>be.maxE?(Ue.e=NaN,Ue.d=null):Le.e<be.minE?(Ue.e=0,Ue.d=[0]):(Ue.e=Le.e,Ue.d=Le.d.slice()):(Ue.e=Le.e,Ue.d=Le.d&&Le.d.slice()));if(($t=typeof Le)=="number"){if(Le===0)return Ue.s=1/Le<0?-1:1,Ue.e=0,void(Ue.d=[0]);if(Le<0?(Le=-Le,Ue.s=-1):Ue.s=1,Le===~~Le&&Le<1e7){for(st=0,$e=Le;10<=$e;$e/=10)st++;return void(A?be.maxE<st?(Ue.e=NaN,Ue.d=null):st<be.minE?(Ue.e=0,Ue.d=[0]):(Ue.e=st,Ue.d=[Le]):(Ue.e=st,Ue.d=[Le]))}return 0*Le!=0?(Le||(Ue.s=NaN),Ue.e=NaN,void(Ue.d=null)):en(Ue,Le.toString())}if($t!="string")throw Error(ne+Le);return($e=Le.charCodeAt(0))===45?(Le=Le.slice(1),Ue.s=-1):($e===43&&(Le=Le.slice(1)),Ue.s=1),(Be.test(Le)?en:function(p,D){var Q,me,He,_t,Gt,bt,un,Yt;if(D==="Infinity"||D==="NaN")return+D||(p.s=NaN),p.e=NaN,p.d=null,p;if(Oe.test(D))Yt=16,D=D.toLowerCase();else if(Ce.test(D))Yt=2;else{if(!ce.test(D))throw Error(ne+D);Yt=8}for(_t=0<=(He=(D=0<(He=D.search(/p/i))?(bt=+D.slice(He+1),D.substring(2,He)):D.slice(2)).indexOf(".")),Q=p.constructor,_t&&(He=(Gt=(D=D.replace(".","")).length)-He,me=nt(Q,new Q(Yt),He,2*He)),He=Yt=(un=J(D,Yt,je)).length-1;un[He]===0;--He)un.pop();return He<0?new Q(0*p.s):(p.e=ze(un,Yt),p.d=un,A=!1,_t&&(p=fe(p,me,4*Gt)),bt&&(p=p.times(Math.abs(bt)<54?te(2,bt):i.pow(2,bt))),A=!0,p)})(Ue,Le)}if(be.prototype=N,be.ROUND_UP=0,be.ROUND_DOWN=1,be.ROUND_CEIL=2,be.ROUND_FLOOR=3,be.ROUND_HALF_UP=4,be.ROUND_HALF_DOWN=5,be.ROUND_HALF_EVEN=6,be.ROUND_HALF_CEIL=7,be.ROUND_HALF_FLOOR=8,be.EUCLID=9,be.config=be.set=wt,be.clone=x,be.isDecimal=Bt,be.abs=Qe,be.acos=Tt,be.acosh=Et,be.add=Vt,be.asin=rt,be.asinh=P,be.atan=Re,be.atanh=ke,be.atan2=ht,be.cbrt=Mt,be.ceil=Ot,be.cos=ft,be.cosh=Y,be.div=Ee,be.exp=Je,be.floor=Fe,be.hypot=Lt,be.ln=zt,be.log=ve,be.log10=X,be.log2=Ye,be.max=we,be.min=tt,be.mod=St,be.mul=Zt,be.pow=$n,be.random=pn,be.round=sr,be.sign=wr,be.sin=jn,be.sinh=En,be.sqrt=re,be.sub=Te,be.tan=gn,be.tanh=F,be.trunc=ie,(W=W===void 0?{}:W)&&W.defaults!==!0)for(ge=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],ae=0;ae<ge.length;)W.hasOwnProperty(q=ge[ae++])||(W[q]=this[q]);return be.config(W),be})(I)).default=i.Decimal=i,T=new i(T),w=new i(w),t.exports?(typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(N[Symbol.for("nodejs.util.inspect.custom")]=N.toString,N[Symbol.toStringTag]="Decimal"),t.exports=i):(r=r||(typeof self<"u"&&self&&self.self==self?self:window),h=r.Decimal,i.noConflict=function(){return r.Decimal=h,i},r.Decimal=i),i})(NF)});t.exports=s,s=r4(),m9(),(function(){var r=s.getCore(),i=r.PARSER,u=r.groups.N,h=r.groups.P,f=r.groups.S,g=r.groups.EX,y=r.groups.FN,$=r.groups.PL,T=r.groups.CP,w=r.groups.CB,I=r.Utils.keys,A=r.Utils.even,K=r.Utils.variables,ne=r.Utils.format,he=r.Utils.round,V=r.Frac,le=r.Utils.isInt,te=r.Symbol,Ce=r.Settings.CONST_HASH,Oe=r.Utils.importFunctions();r.Utils.evaluate;function ce(b,O,N){if(r.Utils.isSymbol(b))this.parse(b),this.variable=this.variable||O;else if(isNaN(b))typeof b=="string"&&this.parse(i.parse(b));else{if(N=N||0,O===void 0)throw new r.exceptions.InvalidVariableNameError("Polynomial expects a variable name when creating using order");this.coeffs=[],this.coeffs[N]=b,this.fill(b)}}function Be(){this.factors={},this.length=0}function je(b,O,N){this.terms=O||[],this.coeff=b,this.map=N,this.sum=new r.Frac(0),this.image=void 0}ce.fromArray=function(b,O){if(O===void 0)throw new r.exceptions.InvalidVariableNameError("A variable name must be specified when creating polynomial from array");var N=new ce;return N.coeffs=b,N.variable=O,N},ce.fit=function(b,O,N,R,B,j){var J=new Array(B+1),fe=N-O;J[0]=O,fe-=(J[B]=b)*Math.pow(R,B);for(var Ne=B-1;0<Ne;Ne--){var qe=Math.pow(R,Ne),de=fe/qe,de=Math.sign(de)*Math.floor(Math.abs(de));fe-=de*qe,J[Ne]=de}if(fe!==0)return null;for(Ne=0;Ne<J.length;Ne++)J[Ne]=new V(J[Ne]);return ce.fromArray(J,j)},ce.prototype={parse:function(b,O){if(this.variable=K(b)[0],!b.isPoly())throw r.exceptions.NerdamerTypeError("Polynomial Expected! Received "+r.Utils.text(b));if(O=O||[],(b=b.power.absEquals(1)?b:i.expand(b)).group===r.groups.N)O[0]=b.multiplier;else if(b.group===r.groups.S)O[b.power.toDecimal()]=b.multiplier;else for(var N in b.symbols){var R=b.symbols[N],N=R.power;if(r.Utils.isSymbol(N))throw new r.exceptions.NerdamerTypeError("power cannot be a Symbol");N=R.group===u?0:N.toDecimal(),R.symbols?this.parse(R,O):O[N]=R.multiplier}this.coeffs=O,this.fill()},fill:function(b){b=Number(b)||0;for(var O=this.coeffs.length,N=0;N<O;N++)this.coeffs[N]===void 0&&(this.coeffs[N]=new V(b));return this},trim:function(){for(var b=this.coeffs.length;b--;){var O=this.coeffs[b],N=O.equals(0);if(!O||!N||b===0)break;this.coeffs.pop()}return this},modP:function(b){for(var O=this.coeffs.length,N=0;N<O;N++){var R=this.coeffs[N];if(R<0){for(var B,j=N;j<O;j++)if(0<this.coeffs[j]){B=this.coeffs[j];break}if(B){for(;N<j;j--)this.coeffs[j]=this.coeffs[j].subtract(new V(1)),this.coeffs[j-1]=this.coeffs[j-1].add(new V(b));R=this.coeffs[N]}}var J,fe=R.mod(b),Ne=R.subtract(fe).divide(b);Ne.equals(0)||(R=(R=this.coeffs[J=N+1]||new V(0)).add(Ne),this.coeffs[J]=new V(R),this.coeffs[N]=new V(fe))}return this},add:function(b){for(var O=Math.max(this.coeffs.length,b.coeffs.length),N=0;N<O;N++){var R=this.coeffs[N]||new V(0),B=b.coeffs[N]||new V(0);this.coeffs[N]=R.add(B)}return this},subtract:function(b){for(var O=Math.max(this.coeffs.length,b.coeffs.length),N=0;N<O;N++){var R=this.coeffs[N]||new V(0),B=b.coeffs[N]||new V(0);this.coeffs[N]=R.subtract(B)}return this},divide:function(b){for(var O=this.variable,N=r.Utils.arrayClone(this.coeffs),R=r.Utils.arrayClone(b.coeffs),B=N.length,j=R.length-1,J=[],fe=0;fe<B;fe++){var Ne=B-(fe+1),qe=Ne-j,de=N[Ne].divide(R[j]);if(qe<0)break;J[qe]=de;for(var xe=0;xe<=j;xe++)N[xe+qe]=N[xe+qe].subtract(R[xe].multiply(de))}return b=ce.fromArray(N,O||"x").trim(),[ce.fromArray(J,O||"x"),b]},multiply:function(b){for(var O=this.coeffs.length,N=b.coeffs.length,R=[],B=0;B<O;B++)for(var j=this.coeffs[B],J=0;J<N;J++){var fe=B+J,Ne=b.coeffs[J],qe=R[fe]||new V(0);R[fe]=qe.add(j.multiply(Ne))}return this.coeffs=R,this},isZero:function(){for(var b=this.coeffs.length,O=0;O<b;O++)if(!this.coeffs[O].equals(0))return!1;return!0},sub:function(b){for(var O=new V(0),N=this.coeffs.length,R=0;R<N;R++){var B=this.coeffs[R];B.equals(0)||(O=O.add(B.multiply(new V(Math.pow(b,R)))))}return O},clone:function(){var b=new ce;return b.coeffs=this.coeffs,b.variable=this.variable,b},deg:function(){return this.trim(),this.coeffs.length-1},lc:function(){return this.coeffs[this.deg()].clone()},monic:function(){for(var b=this.lc(),O=this.coeffs.length,N=0;N<O;N++)this.coeffs[N]=this.coeffs[N].divide(b);return this},gcd:function(b){if(this.coeffs.length-1<b.coeffs.length-1)return b.gcd(this);for(var O=this;!b.isZero();){var N=b.clone();b=(O=O.clone()).divide(N)[1],O=N}var R=r.Math2.QGCD.apply(null,O.coeffs);if(!R.equals(1))for(var B=O.coeffs.length,j=0;j<B;j++)O.coeffs[j]=O.coeffs[j].divide(R);return O},diff:function(){for(var b=[],O=this.coeffs.length,N=1;N<O;N++)b.push(this.coeffs[N].multiply(new V(N)));return this.coeffs=b,this},integrate:function(){for(var b=[0],O=this.coeffs.length,N=0;N<O;N++){var R=new V(N+1);b[R]=this.coeffs[N].divide(R)}return this.coeffs=b,this},gcf:function(b){for(var O=[],N=0;N<this.coeffs.length;N++){var R=this.coeffs[N];R.equals(0)||O.indexOf(R)!==-1||O.push(R)}var B=[r.Math2.QGCD.apply(void 0,O),(function(j){for(var J=0;J<j.length;J++)if(!j[J].equals(0))return J})(this.coeffs)].toDecimal();return b&&((b=[])[B[1]-1]=B[0],B=ce.fromArray(b,this.variable).fill()),B},quad:function(b){var O=[];if(3<this.coeffs.length)throw new Error("Cannot calculate quadratic order of "+(this.coeffs.length-1));if(this.coeffs.length===0)throw new Error("Polynomial array has no terms");var N=this.coeffs[2]||0,R=this.coeffs[1]||0,B=R*R-4*N*this.coeffs[0];return B<0&&!b||(O[0]=(-R+Math.sqrt(B))/(2*N),O[1]=(-R-Math.sqrt(B))/(2*N)),O},squareFree:function(){for(var b=this.clone(),O=1,N=b.clone().diff(),R=b.clone().gcd(N),B=b.divide(R)[0],j=ce.fromArray([new V(1)],b.variable);!R.equalsNumber(1);){var J=B.gcd(R),fe=B.divide(J)[0];if(!fe.equalsNumber(1)&&1<O){for(var Ne=fe.clone(),qe=1;qe<O;qe++)Ne.multiply(fe.clone());fe=Ne}j=j.multiply(fe),O++,R=R.divide(B=J)[0]}return[j,B,O]},toSymbol:function(){var b=this.coeffs.length,O=this.variable;if(b===0)return new r.Symbol(0);for(var N=b-1,R="",B=0;B<b;B++){var j=B===N?"":"+",J=this.coeffs[B];J.equals(0)||(R+=J+"*"+O+"^"+B+j)}return i.parse(R)},equalsNumber:function(b){return this.trim(),this.coeffs.length===1&&this.coeffs[0].toDecimal()===String(b)},toString:function(){return this.toSymbol().toString()}},te.prototype.coeffs=function(b,O){O&&!this.isPoly(!0)&&i.error("Polynomial expected when requesting coefficients with order"),b=b||[];var N,R=this.clone().distributeMultiplier();if(R.isComposite())for(var B in R.symbols)B=R.symbols[B],B.isComposite()?B.clone().distributeMultiplier().coeffs(b,O):O?b[B.isConstant()?0:B.power.toDecimal()]=B.multiplier:b.push(B.multiplier);else O?b[R.isConstant(!0)?0:R.power.toDecimal()]=R.multiplier:R.group===w&&R.isImaginary()?(N=new te(R.multiplier),R.each(function(J){(J.isConstant(!0)||J.imaginary)&&(N=i.multiply(N,J))}),b.push(N)):b.push(R.multiplier);if(O)for(var j=0;j<b.length;j++)b[j]===void 0&&(b[j]=new te(0));return b},te.prototype.tBase=function(b){if(b===void 0)throw new Error("Symbol.tBase requires a map object!");for(var O=[],N=this.collectSymbols(null,null,null,!0),R=N.length,B=0;B<R;B++){var j=N[B],J=j.group,fe=new je(j.multiplier,[],b);if(J===w)for(var Ne in j.symbols){var qe=j.symbols[Ne];fe.terms[b[Ne]]=qe.power}else fe.terms[b[j.value]]=j.power;O.push(fe.fill()),fe.updateCount()}return O},te.prototype.altVar=function(b){var O=this.multiplier.toString(),N=this.power.toString();return(O==="1"?"":O+"*")+b+(N==="1"?"":"^"+N)},te.prototype.sameVars=function(b){if(!this.symbols&&this.group!==b.group)return!1;for(var O in this.symbols){var N=this.symbols[O],O=b.symbols[O];if(!O||N.value!==O.value)return!1}return!0},te.prototype.groupTerms=function(b){var O,N,R;b=String(b);var B=[];return this.each(function(j){if(j.group===$){R=j.groupTerms(b);for(var J=0;J<R.length;J++){var fe=R[J];fe&&(B[J]=fe)}}else O=r.Utils.decompose_fn(j,b,!0),N=O.x.value===b?Number(O.x.power):0,B[N]=i.add(B[N]||new te(0),O.a)}),B},te.prototype.collectFactors=function(){var b=[];return this.group===w?this.each(function(O){b.push(O.clone())}):b.push(this.clone()),b},Be.prototype.getNumberSymbolics=function(){var b=0;return this.each(function(O){O.isConstant(!0)||b++}),b},Be.prototype.add=function(b){if(b.equals(0))return this;if(b.equals(-1)&&0<this.length){var O=r.Utils.firstObject(this.factors,null,!0);return this.add(i.symfunction(r.Settings.PARENTHESIS,[O.obj]).negate()),delete this.factors[O.key],this.length--,this}if(b.group===w){var N=this;b.multiplier.equals(1)||N.add(new te(b.multiplier)),b.each(function(R){N.add(R)})}else{if(this.preAdd&&(b=this.preAdd(b)),O=(b=this.pFactor?i.pow(b,new te(this.pFactor)):b).isConstant(),O&&b.equals(1))return this;O=O?b.value:b.text(),O in this.factors?(this.factors[O]=i.multiply(this.factors[O],b),this.factors[O].equals(1)&&(delete this.factors[O],this.length--)):(this.factors[O]=b,this.length++)}return this},Be.prototype.toSymbol=function(){for(var B=new te(1),b=Object.values(this.factors).sort(function(j,J){return j.group>J.group}),O=0,N=b.length;O<N;O++)var R=b[O],R=R.power.equals(1)&&R.fname!==""?i.symfunction(r.PARENTHESIS,[R]):R,B=i.multiply(B,R);return B=B.fname===""?te.unwrapPARENS(B):B},Be.prototype.merge=function(b){for(var O in b)O in this.factors?this.factors[O]=i.multiply(this.factors[O],b[O]):this.factors[O]=b[O];return this},Be.prototype.each=function(b){for(var O in this.factors){var N=this.factors[O];N.fname===r.PARENTHESIS&&N.isLinear()&&(N=N.args[0]),b.call(this,N,O)}return this},Be.prototype.count=function(){return I(this.factors).length},Be.prototype.clean=function(){try{var b=r.Settings.CONST_HASH;this.factors[b].lessThan(0)&&(this.factors[b].equals(-1)?delete this.factors[b]:this.factors[b].negate(),this.each(function(O){O.negate()}))}catch{}},Be.prototype.toString=function(){return this.toSymbol().toString()},je.prototype.updateCount=function(){this.count=this.count||0;for(var b=0;b<this.terms.length;b++)this.terms[b].equals(0)||this.count++;return this},je.prototype.getVars=function(){for(var b=[],O=0;O<this.terms.length;O++){var N=this.terms[O];this.getRevMap(),N.equals(0)||b.push(this.rev_map[O])}return b.join(" ")},je.prototype.len=function(){return this.count===void 0&&this.updateCount(),this.count},je.prototype.toSymbol=function(b){b=b||this.getRevMap();for(var O=new te(this.coeff),N=0;N<this.terms.length;N++){var R=b[N],B=this.terms[N];B.equals(0)||R===Ce||((R=new te(R)).power=B,O=i.multiply(O,R))}return O},je.prototype.getRevMap=function(){if(this.rev_map)return this.rev_map;var b,O={};for(b in this.map)O[this.map[b]]=b;return this.rev_map=O},je.prototype.generateImage=function(){return this.image=this.terms.join(" "),this},je.prototype.getImg=function(){return this.image||this.generateImage(),this.image},je.prototype.fill=function(){for(var b=this.map.length,O=0;O<b;O++)this.terms[O]===void 0?this.terms[O]=new r.Frac(0):this.sum=this.sum.add(this.terms[O]);return this},je.prototype.divide=function(b){for(var O=this.coeff.divide(b.coeff),N=this.terms.length,R=new je(O,[],this.map),B=0;B<N;B++)R.terms[B]=this.terms[B].subtract(b.terms[B]),R.sum=R.sum.add(R.terms[B]);return R},je.prototype.multiply=function(b){for(var O=this.coeff.multiply(b.coeff),N=this.terms.length,R=new je(O,[],this.map),B=0;B<N;B++)R.terms[B]=this.terms[B].add(b.terms[B]),R.sum=R.sum.add(R.terms[B]);return R},je.prototype.isZero=function(){return this.coeff.equals(0)},je.prototype.toString=function(){return"{ coeff: "+this.coeff.toString()+", terms: ["+this.terms.join(",")+"]: sum: "+this.sum.toString()+", count: "+this.count+"}"},r.Utils.toMapObj=function(b){for(var O=0,N={},R=0;R<b.length;R++){var B=b[R];N[B]===void 0&&(N[B]=O,O++)}return N.length=O,N},r.Utils.filledArray=function(b,O,N){for(var R=[];O--;)R[O]=N?new N(b):b;return R},r.Utils.arrSum=function(b){for(var O=0,N=b.length,R=0;R<N;R++)O+=b[R];return O},r.Utils.haveIntersection=function(b,O){var N;return O.length>b.length&&(N=O,O=b,b=N),b.some(function(R){return-1<O.indexOf(R)})},r.Utils.subFunctions=function(b,O){O=O||{};var N=[];return b.each(function(R){var B,j;R.group===y||R.previousGroup===y?(B=r.Utils.text(R,"hash"),(j=O[B])||(j=R.fname+I(O).length,O[B]=j),N.push(R.altVar(j))):R.group===w||R.group===$||R.group===T?N.push(r.Utils.subFunctions(R,O)):N.push(R.text())}),b.group===T||b.group===$?b.altVar(r.Utils.inBrackets(N.join("+"))):b.group===w?b.altVar(r.Utils.inBrackets(N.join("*"))):b.text()},r.Utils.getFunctionsSubs=function(b){var O,N={};for(O in b)N[b[O]]=i.parse(O);return N};var _e=r.Algebra={version:"1.4.6",proots:function(b,O){O=O||7;function N(yt,Ut,Ht){for(var Me=(function(Ae,nn){var De=Ae.slice(0);if(Ae.unshift(nn),100<nn)throw new r.exceptions.ValueLimitExceededError("This utility accepts polynomials of degree up to 100. ");var se=[],Ae={};for(Ae.Degree=nn,xe=0;xe<nn;xe++)se.push(0);var lt=se.slice(0);function Qe(Ot,wt,ft,Y,Ee,Je){Ee[0]=Je.b=Y[0],Ee[1]=Je.a=-(wt*Je.b)+Y[1];for(var Fe=2;Fe<Ot;Fe++)Ee[Fe]=-(wt*Je.a+ft*Je.b)+Y[Fe],Je.b=Je.a,Je.a=Ee[Fe]}function Tt(Ot,wt,ft,Y,Ee,Je,Fe,Lt,Bt){var zt=new Object,ve=3;return zt.b=zt.a=0,Qe(wt,Fe,Lt,Je,Bt,zt),Ee.c=zt.a,Ee.d=zt.b,Math.abs(Ee.c)<=100*Ot*Math.abs(Je[wt-1])&&Math.abs(Ee.d)<=100*Ot*Math.abs(Je[wt-2])||(Ee.h=Lt*Y,Math.abs(Ee.d)>=Math.abs(Ee.c)?(ve=2,Ee.e=ft/Ee.d,Ee.f=Ee.c/Ee.d,Ee.g=Fe*Y,Ee.a3=Ee.e*(Ee.g+ft)+Ee.h*(Y/Ee.d),Ee.a1=-ft+Ee.f*Y,Ee.a7=Ee.h+(Ee.f+Fe)*ft):(ve=1,Ee.e=ft/Ee.c,Ee.f=Ee.d/Ee.c,Ee.g=Ee.e*Fe,Ee.a3=Ee.e*ft+(Ee.g+Ee.h/Ee.c)*Y,Ee.a1=-(ft*(Ee.d/Ee.c))+Y,Ee.a7=Ee.g*Ee.d+Ee.h*Ee.f+ft)),ve}function Et(Ot,wt,ft,Y,Ee,Je,Fe,Lt,Bt){if(ft!=3)if(Y=ft==1?Ee:Y,Math.abs(Je.a1)>10*Ot*Math.abs(Y))for(Je.a7/=Je.a1,Je.a3/=Je.a1,Fe[0]=Bt[0],Fe[1]=-(Bt[0]*Je.a7)+Bt[1],zt=2;zt<wt;zt++)Fe[zt]=-(Bt[zt-1]*Je.a7)+Lt[zt-2]*Je.a3+Bt[zt];else for(Fe[0]=0,Fe[1]=-(Bt[0]*Je.a7),zt=2;zt<wt;zt++)Fe[zt]=-(Bt[zt-1]*Je.a7)+Lt[zt-2]*Je.a3;else{Fe[1]=Fe[0]=0;for(var zt=2;zt<wt;zt++)Fe[zt]=Lt[zt-2]}}function Vt(Ot,wt,ft,Y,Ee,Je,Fe,Lt,Bt,zt,ve,Ye,X,we,tt,St,Zt){var $n;wt.b=wt.a=0,Ot!=3&&(Lt=Ot!=2?($n=ft+X*Fe+Ye*zt,Lt+(X+we*zt)*Bt):($n=(ft+ve)*zt+Ye,(zt+X)*Lt+we*Bt),Bt=-(tt[St-1]/Zt[St]),($n=-(Ee=we*(tt=-(tt[St-2]+Bt*Zt[St-1])/Zt[St])*Y-((Zt=Bt*Je)+(St=Bt*Bt*Ee)))+Lt+Bt*$n)!=0&&(wt.a=-(X*(St+Zt)+we*(Bt*Y+tt*Je))/$n+X,wt.b=we*(1+Ee/$n)))}function rt(Ot,wt,ft,Y){var Ee,Je,Fe;(Y.sr=Y.si=Y.lr=Y.li=0)!=Ot?ft!=0?(Ee=wt/2,Je=Math.abs(Ee)<Math.abs(ft)?(Fe=-(Fe=0<=ft?Ot:-Ot)+Ee*(Ee/Math.abs(ft)),Math.sqrt(Math.abs(Fe))*Math.sqrt(Math.abs(ft))):(Fe=-Ot/Ee*(ft/Ee)+1,Math.sqrt(Math.abs(Fe))*Math.abs(Ee)),0<=Fe?(Y.lr=(-Ee+(Je=0<=Ee?-Je:Je))/Ot,Y.sr=Y.lr!=0?ft/Y.lr/Ot:Y.sr):(Y.lr=Y.sr=-Ee/Ot,Y.si=Math.abs(Je/Ot),Y.li=-Y.si)):Y.lr=-wt/Ot:Y.sr=wt!=0?-ft/wt:Y.sr}function P(Ot,wt,ft,Y,Ee,Je,Fe,Lt,Bt,zt,ve,Ye){var X,we,tt,St,Zt,$n,pn,sr,wr,jn,En,re,Te,gn,F,ie,x,W,ae,q,ge,be,Le,st,$e,$t=new Object,Ue=new Object,p=new Array(wt),D=new Array(wt),Q=1;for(Ye.NZ=0,St=tt=.25,Zt=Y,sr=Ee,$t.b=$t.a=0,Qe(Bt,ve,Ee,Lt,zt,$t),X=$t.a,we=$t.b,Ue.h=Ue.g=Ue.f=Ue.e=Ue.d=Ue.c=Ue.a7=Ue.a3=Ue.a1=0,Le=Tt(Ot,Fe,X,we,Ue,Je,ve,Ee,p),q=0;q<ft;q++){if(W=1,Et(Ot,Fe,Le,X,we,Ue,Je,p,zt),Vt(Le=Tt(Ot,Fe,X,we,Ue,Je,ve,Ee,p),$t,X,Ue.a1,Ue.a3,Ue.a7,we,Ue.c,Ue.d,Ue.f,Ue.g,Ue.h,ve,Ee,Je,Fe,Lt),F=$t.a,x=ie=$t.b,jn=Je[Fe-1]!=0?-(Lt[Fe]/Je[Fe-1]):0,En=Te=1,q!=0&&Le!=3&&(st=(gn=(Te=x!=0?Math.abs((x-sr)/x):Te)<pn?Te*pn:1)<St?1:0,(ge=(re=(En=jn!=0?Math.abs((jn-Zt)/jn):En)<$n?En*$n:1)<tt?1:0)||st)){for(ae=0;ae<Fe;ae++)D[ae]=Je[ae];for(wr=jn,be=$e=0;;){if(!W||(W=0)!=0||!ge||st&&!(re<gn)){if((function(me,He,_t,Gt,bt,un,Yt,fn,Un,Xt,Ke,Pn){var er,nr,or,Cn,Hn,mr,Er,ei,hr,v=new Object,H=0,ue=0;_t.NZ=0,Cn=Gt,mr=bt;do{if(v.li=v.lr=v.si=v.sr=0,rt(1,Cn,mr,v),_t.szr=v.sr,_t.szi=v.si,_t.lzr=v.lr,_t.lzi=v.li,Math.abs(Math.abs(_t.szr)-Math.abs(_t.lzr))>.01*Math.abs(_t.lzr))break;for(Qe(Yt,Cn,mr,Un,un,fn),Er=Math.abs(-(_t.szr*fn.b)+fn.a)+Math.abs(_t.szi*fn.b),ei=Math.sqrt(Math.abs(mr)),er=2*Math.abs(un[0]),Hn=-(_t.szr*fn.b),hr=1;hr<He;hr++)er=er*ei+Math.abs(un[hr]);if(Er<=20*(er=(9*(er=er*ei+Math.abs(Hn+fn.a))+2*Math.abs(Hn)-7*(Math.abs(fn.a+Hn)+ei*Math.abs(fn.b)))*me)){_t.NZ=2;break}if(20<++H)break;if(2<=H&&or<=.01&&nr<=Er&&!ue){for(Qe(Yt,Cn-=Cn*(or=or<me?Math.sqrt(me):Math.sqrt(or)),mr+=mr*or,Un,un,fn),hr=0;hr<5;hr++)Et(me,He,Tt(me,He,fn.a,fn.b,Ke,Pn,Cn,mr,Xt),fn.a,fn.b,Ke,Pn,Xt,un);ue=1,H=0}}while(nr=Er,Et(me,He,Tt(me,He,fn.a,fn.b,Ke,Pn,Cn,mr,Xt),fn.a,fn.b,Ke,Pn,Xt,un),Vt(Tt(me,He,fn.a,fn.b,Ke,Pn,Cn,mr,Xt),fn,fn.a,Ke.a1,Ke.a3,Ke.a7,fn.b,Ke.c,Ke.d,Ke.f,Ke.g,Ke.h,Cn,mr,Pn,He,Un),Hn=fn.a,(Er=fn.b)!=0&&(or=Math.abs((-mr+Er)/Er),Cn=Hn,mr=Er),Er!=0)})(Ot,Fe,Ye,F,ie,zt,Bt,$t,Lt,p,Ue,Je),X=$t.a,we=$t.b,0<Ye.NZ)return;if(Q=$e=1,St*=.25,be||!ge)Q=0;else for(ae=0;ae<Fe;ae++)Je[ae]=D[ae]}if(Q!=0){if($t.a=wr,Q=(function(me,He,_t,Gt,bt,un,Yt,fn,Un){var Xt,Ke,Pn,er,nr,or,Cn,Hn,mr,Er,ei,hr=Gt-1;for(He.NZ=ei=mr=0,Cn=_t.a;;){for(or=bt[0],Yt[0]=or,Er=1;Er<un;Er++)Yt[Er]=or=or*Cn+bt[Er];for(Pn=Math.abs(or),er=Math.abs(Cn),Xt=.5*Math.abs(Yt[0]),Er=1;Er<un;Er++)Xt=Xt*er+Math.abs(Yt[Er]);if(Pn<=20*me*(2*Xt-Pn)){He.NZ=1,He.szr=Cn,He.szi=0;break}if(10<++ei)break;if(2<=ei&&Math.abs(Hn)<=.001*Math.abs(-Hn+Cn)&&nr<Pn){mr=1,He.a=Cn;break}for(nr=Pn,Un[0]=Ke=fn[0],Er=1;Er<Gt;Er++)Un[Er]=Ke=Ke*Cn+fn[Er];if(Math.abs(Ke)>10*Math.abs(fn[hr])*me)for(Hn=-or/Ke,fn[0]=Yt[0],Er=1;Er<Gt;Er++)fn[Er]=Hn*Un[Er-1]+Yt[Er];else for(fn[0]=0,Er=1;Er<Gt;Er++)fn[Er]=Un[Er-1];for(Ke=fn[0],Er=1;Er<Gt;Er++)Ke=Ke*Cn+fn[Er];Cn+=Hn=Math.abs(Ke)>10*Math.abs(fn[hr])*me?-or/Ke:0}return mr})(Ot,Ye,$t,Fe,Lt,Bt,zt,Je,p),wr=$t.a,0<Ye.NZ)return;if(be=1,tt*=.25,Q!=0){F=-(wr+wr),ie=wr*wr;continue}}for(ae=0;ae<Fe;ae++)Je[ae]=D[ae];if(!st||$e)break}Qe(Bt,ve,Ee,Lt,zt,$t),Le=Tt(Ot,Fe,X=$t.a,we=$t.b,Ue,Je,ve,Ee,p)}sr=x,Zt=jn,pn=Te,$n=En}}(function(Ot,wt,ft,Y){for(var Ee,Je,Fe,Lt,Bt,zt,ve,Ye,X,we,tt,St,Zt,$n,pn=Ot.Degree,sr=.017453292519943295,wr=Math.LN2,jn=Ot.Degree+1,En=new Array(jn),re=new Array(jn),Te=new Array(jn),gn=new Array(jn),F=new Object,ie=new Object,x=1;Ee=x,1<(zt=1+(x/=2)););var W=Number.MIN_VALUE/Ee,ae=Math.cos(94*sr),q=Math.sin(94*sr),ge=Math.sqrt(.5),be=-ge;for(ie.NZ=X=0,ie.szr=ie.szi=ie.lzr=ie.lzi=0;wt[pn]==0;)ft[X]=Y[X]=0,pn--,X++;for(Zt=pn+1;1<=pn;){if(pn<=2){pn<2?(ft[Ot.Degree-1]=-(wt[1]/wt[0]),Y[Ot.Degree-1]=0):(rt(wt[F.li=F.lr=F.si=F.sr=0],wt[1],wt[2],F),ft[Ot.Degree-2]=F.sr,Y[Ot.Degree-2]=F.si,ft[Ot.Degree-1]=F.lr,Y[Ot.Degree-1]=F.li);break}for(Lt=0,Bt=Number.MAX_VALUE,Le=0;Le<Zt;Le++)Lt<(st=Math.abs(wt[Le]))&&(Lt=st),st!=0&&st<Bt&&(Bt=st);if(((tt=W/Bt)<=1&&10<=Lt||1<tt&&Number.MAX_VALUE/tt>=Lt)&&(tt=tt==0?Number.MIN_VALUE:tt,tt=Math.floor(Math.log(tt)/wr+.5),(Fe=Math.pow(2,tt))!=1))for(Le=0;Le<Zt;Le++)wt[Le]*=Fe;for(var Le=0;Le<Zt;Le++)re[Le]=Math.abs(wt[Le]);re[pn]=-re[pn],St=pn-1,st=Math.exp((Math.log(-re[pn])-Math.log(re[0]))/pn),$e=st=re[St]!=0&&($e=-re[pn]/re[St])<st?$e:st;do for(var st,$e=.1*(st=$e),$t=re[0],Le=1;Le<Zt;Le++)$t=$t*$e+re[Le];while(0<$t);do for(var Ue=$t=re[0],Le=1;Le<pn;Le++)Ue=st*Ue+($t=st*$t+re[Le]);while(st-=Je=($t=st*$t+re[pn])/Ue,.005<Math.abs(Je/st));for(var p=st,Le=1;Le<pn;Le++)En[Le]=(pn-Le)*wt[Le]/pn;for(En[0]=wt[0],x=wt[pn],zt=wt[St],$n=En[St]==0?1:0,we=0;we<5;we++)if(ve=En[St],$n){for(Le=0;Le<St;Le++)En[X=St-Le]=En[X-1];$n=(En[0]=0)==En[St]?1:0}else{for(var D=-x/ve,Le=0;Le<St;Le++)En[X=St-Le]=D*En[X-1]+wt[X];En[0]=wt[0],$n=Math.abs(En[St])<=Math.abs(zt)*Ee*10?1:0}for(Le=0;Le<pn;Le++)gn[Le]=En[Le];for(we=1;we<=20;we++){if(Ye=-q*be+ae*ge,be=q*ge+ae*be,P(Ee,jn,20*we,Ye=p*(ge=Ye),p,En,pn,wt,Zt,Te,-2*Ye,ie),ie.NZ!=0){for(ft[X=Ot.Degree-pn]=ie.szr,Y[X]=ie.szi,pn=(Zt-=ie.NZ)-1,Le=0;Le<Zt;Le++)wt[Le]=Te[Le];ie.NZ!=1&&(ft[X+1]=ie.lzr,Y[X+1]=ie.lzi);break}for(Le=0;Le<pn;Le++)En[Le]=gn[Le]}if(20<we){Ot.Degree-=pn;break}}})(Ae,De,lt,se);var Re=se.length;for(xe=0;xe<Re;xe++){var ke=he(se[xe],O+8),ht=he(lt[xe],O+8);ht=2<O-String(ht).length?ht:lt[xe];var Mt=ke<0?"-":"";ht===0&&(ht=""),ke===0&&(ke=""),ke=Math.abs(ke)===1?Mt+"i":ke?ke+"*i":"",ke=ht&&ke?ht+"+"+ke:ht+ke,lt[xe]=ke.replace(/\+\-/g,"-")}return lt})(yt,Ht).concat(B),ut=0;ut<0;ut++)Me.unshift(0);return Me}var R,B=[];if(b instanceof te&&b.isPoly()){if(b.distributeMultiplier(),b.group===$&&(R=r.Utils.arrayMin(I(b.symbols)),R=b.symbols[R].clone().toUnitMultiplier(),b=i.expand(i.divide(b,R)),B.push(0)),b.group===r.groups.S)return[0];b.group===r.groups.PL&&(Ne=I(b.symbols),j=r.Utils.arrayMin(Ne),b=r.PARSER.divide(b,r.PARSER.parse(b.value+"^"+j)));for(var j=I(b.symbols).sort().pop(),J=b.group===r.groups.PL?b.symbols:b.symbols[j],fe=J.group,Ne=fe===f?[J.power.toDecimal()]:I(J.symbols),qe=[],de=r.Utils.arrayMax(Ne),xe=1;xe<=de;xe++){var gt=0;Ne.indexOf(xe+"")!==-1&&(gt=(fe===f?J:J.symbols[xe]).multiplier),qe.unshift(gt)}return qe.push(b.symbols[Ce].multiplier),J.group===f&&(qe[0]=J.multiplier),N(qe,0,de)}if(r.Utils.isArray(b)){for(var ze=b,qe=[],Ne=[],Ft=0,xe=0;xe<ze.length;xe++){for(var Ge=ze[xe][0],et=ze[xe][1],Ct=et-Ft-1,nt=0;nt<Ct;nt++)qe.unshift(0);qe.unshift(Ge),et!==0&&Ne.push(et),Ft=et}return N(qe,0,de=Math.max.apply(void 0,Ne))}throw new r.exceptions.NerdamerTypeError("Cannot calculate roots. Symbol must be a polynomial!")},roots:function(b){return b.isConstant(!0,!0)?r.Utils.nroots(b):(b=_e.proots(b).map(function(O){return i.parse(O)}),r.Vector.fromArray(b))},froot:function(b,O,N){return(function(R){for(var B=N||r.Utils.build(r.Calculus.diff(b.clone())),j=b instanceof Function?b:r.Utils.build(b),J=!1,fe=0;!J;){var Ne=R-j(R)/B(R),qe=Math.abs(Ne)-Math.abs(R);R=Ne,Math.abs(qe)<1e-12?J=!0:1e4<fe&&(J=!(R=null)),fe++}return R})(Number(O))},quad:function(b,O,N){function R(B,j,J,fe){return i.parse("-("+j+"+"+fe+"*sqrt(("+j+")^2-4*("+B+")*("+J+")))/(2*"+B+")")}return[R(b,O,N,1),R(b,O,N,-1)]},sumProd:function(b,O){return _e.quad(-O,b,-1).map(function(N){return N.invert()})},coeffs:function(b,O,N){O=String(O),b=i.expand(b),N=N||[new te(0)],b.group===g&&b.contains(O,!0)&&i.error("Unable to get coefficients using expression "+b.toString());var R,B=K(b);if(B.length!==1||B[0]!==O||b.isImaginary())O||i.error("Polynomial contains more than one variable. Please specify which variable is to be used!"),B.indexOf(O)===-1?N[0]=i.add(b,N[0]):(N=N||[new te(0)],b.group===w?((R=b.symbols[O])||i.error("Expression is not a polynomial!"),B=Number(R.power),((qe=i.divide(b.clone(),R.clone())).contains(O,!0)||B<0||!le(B))&&i.error("Expression is not a polynomial!"),(Ne=N[B])&&(qe=i.add(Ne,qe)),N[B]=qe):b.group===T&&b.each(function(de){_e.coeffs(de.clone(),O,N)},!0));else for(var j=new ce(b).coeffs.map(function(de){return new te(de)}),J=0,fe=j.length;J<fe;J++){var Ne,qe=j[J];(Ne=N[J])&&(qe=i.add(Ne,qe)),N[J]=qe}for(J=0,fe=N.length;J<fe;J++)N[J]===void 0&&(N[J]=new te(0));return N},polyPowers:function(b,O,N){if(N=N||[],(j=b.group)===$&&O===b.value)N=N.concat(I(b.symbols));else if(j===T)for(var R in b.symbols){var B=b.symbols[R],j=B.group,R=B.value;j===f&&O===R?N.push(B.power):j===$||j===T?N=_e.polyPowers(B,O,N):j===w&&B.contains(O)?(B=B.symbols[O])&&N.push(B.power):j!==u&&O===R||N.push(0)}else j===w&&b.contains(O)&&N.push(r.Utils.decompose_fn(b,O,!0).x.power);return r.Utils.arrayUnique(N).sort()},Factor:{split:function(b){var O=new te(1),N=new te(1);return _e.Factor.factor(b,new Be).each(function(R){var B=i.parse(R);R.isConstant(!0)?O=i.multiply(O,B):N=i.multiply(N,B)}),[O,N]},mix:function(b,O){for(var N=I(b),R=N.length,B=[],j=0;j<R;j++){for(var J=N[j],fe=b[J],Ne=B.length,qe=0;qe<Ne;qe++){var de=B[qe]*J;B.push(de),O&&B.push(-de)}for(qe=1;qe<=fe;qe++)B.push(Math.pow(J,qe))}return B},common:function(b,O){try{if(b.group===T){for(var N=i.expand(b.clone(),!0).collectSymbols(null,null,function(de,xe){return(xe.length||1)-(de.length||1)}),R={},B=[],j=0;j<N.length;j++){var J=N[j];B.push(J.multiplier.clone()),J.each(function(de){var xe=Number(de.power);if(isNaN(xe))throw new Error("exiting");de.value in R?(xe<R[de.value][0]&&(R[de.value][0]=xe),R[de.value][1].push(de)):R[de.value]=[xe,[de]]})}var fe,Ne=new te(1);for(fe in R)R[fe][1].length===N.length&&(Ne=i.multiply(Ne,i.pow(new te(fe),new te(R[fe][0]))));var qe=r.Math2.QGCD.apply(null,B);if(!qe.equals(1))for(O.add(new te(qe)),j=0;j<N.length;j++)N[j].multiplier=N[j].multiplier.divide(qe);if(!Ne.equals(1))for(O.add(Ne),b=new te(0),j=0;j<N.length;j++)b=i.add(b,i.divide(N[j],Ne.clone()))}}catch{}return b},zeroes:function(b,O){function N(){throw new r.exceptions.ValueLimitExceededError("Exiting")}try{for(var R,B,j,J=(b=i.expand(b.clone())).toString(),fe=K(b),Ne=new te(0),qe=[],de=[],xe=0,gt=fe.length;xe<fe.length;xe++){for(var ze={},Ft=0;Ft<gt;Ft++)xe!==Ft&&(ze[fe[Ft]]=0);var Ge,et=(Ge=i.parse(J,ze)).power;le(et)||N(),qe.push(Ge),de.push(Ge.power)}for(r.Utils.allSame(de)?(B=b.length,(j=qe.length)===2&&(R=new V(de[0]/(B-1))),j===3&&(R=new V(de[0]/Math.round((Math.sqrt(8*B-1)-3)/2)))):R=r.Math2.QGCD.apply(null,de),le(R)||N(),xe=0;xe<qe.length;xe++){var Ct=qe[xe],nt=Ct.power.clone().divide(R);Ct.multiplier=new V(Math.pow(Ct.multiplier,1/nt)),Ct.power=R.clone(),Ne=i.add(Ne,Ct)}if(Ne.group!==T)return b;for(;;){var yt=_e.div(b.clone(),Ne.clone());if(!yt[1].equals(0)||(b=yt[0],O.add(Ne.clone()),b.equals(1)))break}}catch{}return b},factor:function(b,j){if(b.isConstant())return r.Math2.factor(b);var N,R,B=i.parse(b),j=_e.Factor._factor(B,j);return j.equals(b)||j.group===w&&(N=new te(1),b=i.parse(j.power),R=i.parse(j.multiplier),j.toUnitMultiplier(),j.multiplier.lessThan(0)&&(N.negate(),j.negate()),j.each(function(J){J=i.parse(_e.Factor._factor(J)),J.group===w?(R=i.multiply(R,te.create(J.multiplier)),J.each(function(fe){fe=i.parse(_e.Factor._factor(fe)),N=i.multiply(N,fe),fe.group===w&&(R=i.multiply(R,te.create(fe.multiplier)))})):N=i.multiply(N,J)}),j=i.pow(i.multiply(R,N),b)),j},quadFactor:function(b,O){if(b.isPoly()&&_e.degree(b.equals(2))){var N=r.Utils.variables(b)[0],R=_e.coeffs(b,N),B=_e.Factor._factor(R[2].clone());if(B.group===w){var j=B.collectSymbols();if(2<j.length)return b;var fe=i.multiply(i.parse(R[0]),i.parse(j[0])),J=i.parse(R[1]).negate(),B=i.parse(j[1]),fe=_e.quad(B,J,fe).filter(function(qe){if(r.Utils.isInt(qe))return qe});fe.length===1&&(fe=fe[0],R=i.divide(R[0],i.parse(fe)),r.Utils.isInt(R)&&(O.add(i.parse(ne("({0})*({1})+({2})",j[1],N,R))),O.add(i.parse(ne("({0})*({1})+({2})",j[0],N,fe))),b=new te(1)))}}return b},cubeFactor:function(b,O){var N,R,B,j,J,fe;return!b.isComposite()||(fe=b.collectSymbols()).length===2&&(N=fe[0].sign(),R=fe[0].clone().abs(),B=fe[1].sign(),j=fe[1].clone().abs(),R.isCube()&&j.isCube()&&(N<B&&([N,B]=[B,N],[R,j]=[j,R]),J=i.parse(R.getNth(3)),fe=i.parse(j.getNth(3)),J=i.multiply(i.expand(i.pow(R.clone().toUnitMultiplier(),i.parse("1/3"))),J),fe=i.multiply(i.expand(i.pow(j.clone().toUnitMultiplier(),i.parse("1/3"))),fe),N===1&&B===-1?(O.add(i.parse(ne("(({0})-({1}))",J,fe))),O.add(i.parse(ne("(({0})^2+({0})*({1})+({1})^2)",J,fe))),b=te(1)):N===1&&B===1&&(O.add(i.parse(ne("(({0})+({1}))",J,fe))),O.add(i.parse(ne("(({0})^2-({0})*({1})+({1})^2)",J,fe))),b=te(1)))),b},_factor:function(b,O){var N;if(b.group,b.group===y){var R=b.args[0];if(R.group===f&&R.isSimple())return b}else if(b.group===f&&b.isSimple())return b;b.group===T&&(b.distributeMultiplier(!0),N=new te(0),b.each(function(Ae){(Ae.group===T&&Ae.power.greaterThan(1)||Ae.group===w)&&(Ae=i.expand(Ae)),N=i.add(N,Ae)}),N.power=b.power,b=N),R=(b=b.group===y&&b.fname!=="sqrt"?r.Utils.evaluate(b):b).clone();try{if(b.group===w){var B=i.parse(b.power),j=_e.Simplify.strip(b.getDenom()),J=_e.Simplify.strip(b.getNum()),fe=j.pop(),Ne=J.pop();if(Ne.equals(b))return b;var qe=_e.Factor.factor(Ne),de=_e.Factor.factor(fe),xe=_e.Simplify.unstrip(J,qe),gt=_e.Simplify.unstrip(j,de);return se=i.divide(xe,gt)}if(b.group===f)return b;if(b.isConstant())return b.equals(1)?b.clone():r.Math2.factor(b);if(B=b.power.clone(),!le(B)||B.lessThan(0)&&b.group===y)return b;var ze=B.sign();b.toLinear(),O=O||new Be;var Ft={};b=i.parse(r.Utils.subFunctions(b,Ft)),0<I(Ft).length&&(O.preAdd=function(Ae){return i.parse(Ae,r.Utils.getFunctionsSubs(Ft))}),b.isLinear()||(O.pFactor=b.power.toString(),b.toLinear());var Ge=K(b);b.isImaginary()&&Ge.push(r.Settings.IMAGINARY);var et=1<Ge.length;if(et){var Ct=!0,nt=!0;if(b.each(function(Ae){Ae.group!==f&&(Ct=!1),Ae.multiplier.equals(1)||(nt=!1)}),Ct&&nt)return i.pow(i.parse(b,r.Utils.getFunctionsSubs(Ft)),i.parse(B))}var yt=new Be;b=_e.Factor.coeffFactor(b,yt),yt.each(function(Ae){A(B)&&Ae.lessThan(0)&&Ae.negate(),ze<0&&Ae.invert(),O.add(Ae)});var Ut=new Be;if(b=_e.Factor.powerFactor(b,Ut),Ut.each(function(Ae){ze<0&&Ae.invert(),O.add(Ae)}),et)b=_e.Factor.cubeFactor(b,O),b=_e.Factor.mfactor(b,O),O.each(function(Ae){ze<0&&Ae.power.negate()});else{var Ht=Ge[0];b=_e.Factor.squareFree(b,O,Ht);var Me=new Be;b=_e.Factor.trialAndError(b,Me,Ht);var ut,en=Me.toSymbol();if(en.equals(R))return en;for(ut in Me.factors){var nn=Me.factors[ut];O.add(i.pow(nn,i.parse(B)))}b.equals(R)&&(b=_e.Factor.quadFactor(b,O))}b=i.parse(b,r.Utils.getFunctionsSubs(Ft));var De=O.length===1;O.add(i.pow(b,i.parse(B)));var se=O.toSymbol();return se=De&&b.equals(1)&&se.isLinear()?i.pow(se,i.parse(B)):se}catch{return R}},reduce:function(b,O){if(b.group===T&&b.length===2){var N=b.collectSymbols().sort(function(xe,gt){return gt.multiplier-xe.multiplier});if(N[0].power.equals(N[1].power)){var R=i.parse(N[0].power),B=N[0].clone().toLinear(),j=N[1].clone().toLinear();O.add(i.add(B.clone(),j.clone())),j.negate();for(var J=Number(R),de=new te(0),fe=1;fe<=J;fe++)var Ne=i.pow(B.clone(),i.subtract(R.clone(),new te(fe))),qe=i.pow(j.clone(),i.subtract(new te(fe),new te(1))),de=i.add(de,i.multiply(Ne,qe));return de}}return b},squareFree:function(b,O,B){if(b.isConstant()||b.group===f)return b;var R=new ce(b,B).squareFree(),B=R[2];return B===1?b:(b=R[1].toSymbol(),b.power=b.power.multiply(new V(B)),O.add(_e.Factor.factor(b)),_e.Factor.squareFree(R[0].toSymbol(),O))},powerFactor:function(b,O){if(b.group!==$||b.previousGroup===g)return b;var N=I(b.symbols);if(!r.Utils.allNumeric(N))return b;var N=r.Utils.arrayMin(N),R=new te(0),B=i.parse(b.value+"^"+N);return b.each(function(j){j=i.divide(j,B.clone()),R=i.add(R,j)}),O.add(B),R},coeffFactor:function(b,O){var N,R,B,j;return b.isComposite()&&((N=r.Math2.QGCD.apply(null,b.coeffs())).equals(1)?((R=function(J){var fe;return J.group===w?(fe=0,J.each(function(Ne){fe+=Ne.power})):fe=Number(J.power),fe})(j=(B=b.collectSymbols(null,null,null,!0).sort(function(J,fe){return J.isConstant(!0)?1:fe.power-J.power}))[0])>R(B[1])||B[1].isConstant(!0))&&j.multiplier.lessThan(0)&&(O.add(new te(-1)),b.each(function(J){J.negate()},!0)):(b.each(function(J){J.isComposite()?J.each(function(fe){fe.multiplier=fe.multiplier.divide(N)}):J.multiplier=J.multiplier.divide(N)}),b.updateHash()),O&&O.add(new te(N))),b},trialAndError:function(b,O,N){var R=b.clone();try{var B=[];if(b.isConstant()||b.group===f)return b;for(var j=new ce(b,N),J=j.coeffs[0],fe=r.Math2.ifactor(J),Ne=_e.proots(b),qe=0;qe<Ne.length;qe++){var de=Ne[qe],xe=1;if(!isNaN(de)){for(var gt in fe){var ze=r.Utils.round(Math.log(gt)/Math.log(Math.abs(de)),8);if(le(ze)){de=gt,xe=ze;break}}var Ft=new V(de),Ge=[new V(Ft.num).negate()];Ge[xe]=new V(Ft.den);var et=ce.fromArray(Ge,j.variable).fill(),Ct=j.divide(et);Ct[1].equalsNumber(0)&&(j=Ct[0],B.push(et.toSymbol()))}}return j.equalsNumber(1)||(j=_e.Factor.search(j,O)),B.forEach(function(nt){O.add(nt)}),j.toSymbol()}catch{return R}},search:function(b,O,N){N=N||10;function R(yt,Ut,Ht,Me){return(Ht=ce.fit(yt,Ut,Ht,N,Me,B))&&1<Ht.coeffs.length&&(Me=b.divide(Ht),Me[1].equalsNumber(0))?(O.add(Ht.toSymbol()),[Me[0],Ht]):null}var B=b.variable,j=b.coeffs[0],J=r.Math2.ifactor(j),fe=b.lc(),Ne=r.Math2.ifactor(fe),qe=b.sub(N),de=r.Math2.ifactor(qe),xe=_e.Factor.mix(de,qe<0),gt=Math.ceil(b.coeffs.length/2),ze=fe.lessThan(0),Ft=j.lessThan(0);for(J[Ne[1]=1]=1;gt--;)for(var Ge in Ne)for(var et in J)for(var Ct=0;Ct<xe.length;Ct++){var nt=R(Ge,et,xe[Ct],gt);if(nt)return b=nt[0],b=r.Utils.isPrime(b.sub(N))?b:_e.Factor.search(b,O);nt||(ze&&Ft?nt=R(-Ge,-et,xe[Ct],gt):ze?nt=R(-Ge,et,xe[Ct],gt):Ft&&(nt=R(Ge,-et,xe[Ct],gt)))}return b},mSqfrFactor:function(b,O){if(b.group!==y)for(var N=K(b).reverse(),R=0;R<N.length;R++)do if(N[R]!==b.value){var B=r.Calculus.diff(b,N[R]),j=_e.Factor.coeffFactor(B);if(j.equals(0))break;var J=!0;if(j.isConstant()&&b.isComposite()&&b.each(function(qe){qe.multiplier%j!=0&&(J=!1)},!0),J){var fe=_e.div(b,j.clone()),Ne=fe[1].equals(0);if(b.equals(fe[0])&&fe[1].equals(0))break;if(fe[0].isConstant()){O.add(fe[0]);break}}else Ne=!1;Ne&&(O.add(fe[0]),b=j)}else O.add(b),b=new te(1);while(Ne);return b},sqdiff:function(b,O){if(b.isConstant("all"))return b;try{var N,R,B,j,J,fe=function(de){return r.Utils.block("POSITIVE_MULTIPLIERS",function(){return te.unwrapPARENS(Oe.sqrt(Oe.abs(de)))},!0)},Ne=r.Utils.separate(b.clone()),qe=[];for(N in Ne)N!=="constants"&&qe.push(Ne[N]);if(qe.sort(function(de,xe){return xe.power-de.power}),qe.length===2){if(J=qe.pop(),R=qe.pop(),A(J.power)&&A(R.power)&&J.sign()===R.sign()&&J.group===f&&R.group===f)throw new Error("Unable to factor");J.isComposite()&&R.power.equals(2)?(R=fe(R),(B=_e.Factor.factor(i.add(J,Ne.constants))).power.equals(2)&&(B.toLinear(),O.add(i.subtract(B.clone(),R.clone())),O.add(i.add(B,R)),b=new te(1))):(J=J.powSimp(),R=R.powSimp(),J.group!==f&&J.fname!==""||!J.power.equals(2)||R.group!==f&&R.fname!==""||!R.power.equals(2)||Ne.constants||(J.multiplier.lessThan(0)&&(j=R,R=J,J=j),J.multiplier.greaterThan(0)&&(J=fe(J),R=fe(R)),O.add(i.subtract(J.clone(),R.clone())),O.add(i.add(J,R)),b=new te(1)))}}catch{}return b},mfactor:function(b,O){if(b.group===y){var N,R;b.fname==="sqrt"?(N=new Be,R=_e.Factor.common(b.args[0].clone(),N),R=_e.Factor.coeffFactor(R,N),b=i.multiply(i.symfunction("sqrt",[R]),i.parse(b.multiplier)),N.each(function(Ut){b=i.multiply(b,i.parse(r.Utils.format("sqrt({0})",Ut)))})):O.add(b)}else{b=_e.Factor.mSqfrFactor(b,O);for(var B,j=K(b),J=b.collectSymbols().map(function(Ut){return te.unwrapSQRT(Ut)}),fe={},Ne={},qe=j.length,de=J.length,xe=0;xe<qe;xe++){var gt=j[xe];fe[gt]=new te(0);for(var ze=0;ze<de;ze++){var Ft,Ge=J[ze];Ge.contains(gt)&&(Ft=(Ge.value===gt?Ge:Ge.symbols[gt]).power.toDecimal(),(!Ne[gt]||Ft<Ne[gt])&&(Ne[gt]=Ft),fe[gt]=i.add(fe[gt],Ge.clone()))}}for(B in fe){var et=i.parse(B+"^"+Ne[B]),Ct=i.divide(fe[B],et),nt=i.expand(Ct);if(nt.equals(1)||(Ct=_e.div(b.clone(),nt),Ct[0].equals(0)))break;if(Ct[1].equals(0)){var yt=!1;if(Ct[0].each(function(Ut){le(Ut.multiplier)||(yt=!0)}),yt){Ct[1]=i.expand(i.multiply(Ct[1],nt));break}}if(nt=le(nt)&&nt.lessThan(0),Ct[1].equals(0)&&!nt)return nt=_e.div(b.clone(),Ct[0].clone()),(et=nt[0]).equals(0)||(b=nt[1],et.equals(-1)&&!b.equals(0))?b:(nt=Ct[0],b.equals(nt)?(Ct=_e.Factor.reduce(nt,O),b.equals(Ct)?Ct:_e.Factor.mfactor(Ct,O)):(O.add(nt),b.equals(0)?et:et.isConstant("all")?(O.add(et),et):_e.Factor.mfactor(et,O)))}}return b=_e.Factor.sqdiff(b,O),b=_e.Factor.zeroes(b,O)}},allLinear:function(b){for(var O=b.length,N=0;N<O;N++)if(!_e.isLinear(b[N]))return!1;return!0},isLinear:function(b){var O=!1,N=b.group;if(N===$||N===T)for(var R in O=!0,b.symbols){var B=b.symbols[R],R=B.group;if(R!==y&&R!==g||(O=!1),R===w)O=K(B).length===1;else if(R===$||R===T)O=_e.isLinear(B);else if(B.group!==u&&B.power.toString()!=="1"){O=!1;break}}else N===f&&b.power===1&&(O=!0);return O},gcd:function(){var b=arguments.length===1&&arguments[0]instanceof r.Vector?arguments[0].elements:r.Utils.arguments2Array(arguments);if(b.length===0)return new te(1);if(b.length===1)return b[0];for(var O=[],N=!1,R=0;R<b.length;R++)if(b[R].group===y&&b[R].fname==="gcd")(b=b.concat(arguments[R].args)).splice(R,1);else{var B=K(b[R]);if(r.Utils.haveIntersection(B,O)){N=!0;break}O=O.concat(B)}if(N||O.length===0){if(b.every(function(J){return J.getDenom().equals(1)})){for(var j=b[0],R=1;R<b.length;R++)j=_e.gcd_(b[R],j);return j}return i.divide(_e.gcd.apply(null,b.map(function(J){return J.getNum()})),_e.lcm.apply(null,b.map(function(J){return J.getDenom()})))}return i.symfunction("gcd",b)},gcd_:function(b,O){if(b.group!==y&&b.group!==h||(b=r.Utils.block("PARSE2NUMBER",function(){return i.parse(b)})),O.group===y&&(O=r.Utils.block("PARSE2NUMBER",function(){return i.parse(O)})),b.isConstant()&&O.isConstant())return new te(r.Math2.QGCD(new V(+b),new V(+O)));var N=i.multiply(b.getDenom()||new te(1),O.getDenom()||new te(1)).invert();if(b=i.multiply(b.clone(),N.clone()),O=i.multiply(O.clone(),N.clone()),b=i.expand(b),O=i.expand(O),b.group===w||O.group===w){var R=i.divide(b.clone(),O.clone());if(!(Ne=i.multiply(O.clone(),R.getDenom().invert())).equals(1))return Ne}if(b.group===g||O.group===g){var R=new te(r.Math2.GCD(b.multiplier,O.multiplier)),B=_e.gcd_(b.value===Ce?new te(1):i.parse(b.value),O.value===Ce?new te(1):i.parse(O.value)),j=_e.gcd_(i.parse(b.power),i.parse(O.power));return i.multiply(R,i.pow(B,j))}if(b.length<O.length&&(Ne=b,b=O,O=Ne),B=K(b),j=K(O),B.length===j.length&&B.length===1&&B[0]===j[0]||B.length===1&&j.length===0||B.length===0&&j.length===1)return b=new ce(b),O=new ce(O),i.divide(b.gcd(O).toSymbol(),N);var J,fe=[];for(b.each(function(de){fe.push(de.multiplier)}),O.each(function(de){fe.push(de.multiplier)});!O.equals(0);){var Ne=O.clone();if(b=b.clone(),J=_e.div(b,Ne),O=J[1],J[0].equals(0))return i.divide(new te(r.Math2.QGCD(b.multiplier,O.multiplier)),N);b=Ne}var qe=r.Math2.QGCD.apply(void 0,fe);return qe.equals(1)||b.each(function(de){de.multiplier=de.multiplier.divide(qe)}),!b.equals(1)||b.isConstant()||O.isConstant()?i.divide(b,N):i.divide(i.symfunction("gcd",arguments),N)},lcm:function(){var b;arguments.length===1?arguments[0]instanceof r.Vector?b=arguments[0].elements:i.error("lcm expects either 1 vector or 2 or more arguments"):b=r.Utils.arguments2Array(arguments);var O=b.reduce(function(R,B){return i.multiply(R,B.clone())},new te(1)),N=(function(R,B){B=Number(B);for(var j,J,fe=[],Ne=Math.pow(2,R.length),qe=B;qe<Ne;qe++){for(j=[],J=R.length-1;(qe&1<<J)!=0&&j.push(R[J]),J--;);j.length===B&&fe.push(j)}return fe})(arguments,arguments.length-1).map(function(R){return R.reduce(function(B,j){return i.multiply(B,j.clone())},new te(1))}),N=b.every(function(R){return r.Utils.isVariableSymbol(R)})?i.symfunction("gcd",r.Utils.arrayUnique(N)):_e.gcd.apply(null,N);return i.divide(O,N)},divide:function(b,O){var N=r.Algebra.Factor.factor(b.clone()),R=N.getDenom();return R.isConstant("all")?R=new te(1):b=i.expand(te.unwrapPARENS(i.multiply(N,R.clone()))),b=_e.div(b,O),O=i.divide(b[1],O),i.divide(i.add(b[0],O),R)},div:function(b,O){var N,R,B=[new te(0),b.clone()];try{if(O.isConstant("all"))return b.each(function(Y){Y.multiplier=Y.multiplier.divide(O.multiplier)}),[b,new te(0)];if(b=i.expand(b),O=i.expand(O),b.group===f&&O.group===T){var j=b.value,J=r.Utils.decompose_fn(O.clone(),j,!0);if(b.isLinear()&&J.x&&J.x.isLinear()&&O.isLinear()){var fe=te.create(b.multiplier);return[i.divide(fe.clone(),J.a.clone()),i.divide(i.multiply(fe,J.b),J.a).negate()]}}if(b.group===f&&O.group===f){var Ne=i.divide(b.clone(),O.clone());return Ne.isConstant()?[Ne,new te(0)]:[new te(0),b.clone()]}var qe,de,xe=b.hasFunc(),gt=O.hasFunc(),ze=!1;(xe||gt)&&(ze=!0,qe={},b=i.parse(r.Utils.subFunctions(b,qe)),O=i.parse(r.Utils.subFunctions(O,qe)),de=r.Utils.getFunctionsSubs(qe));var Ft=r.Utils.arrayUnique(K(b).concat(K(O)));if((b.isImaginary()||O.isImaginary())&&Ft.push(r.Settings.IMAGINARY),Ft.length===1)var Ge=(Mt=new ce(b).divide(new ce(O)))[0].toSymbol(),et=Mt[1].toSymbol();else{Ft.push(Ce);var Ct=function(Y){for(var Fe=new te(0),Ee=0;Ee<Y.length;Ee++)var Je=Y[Ee].toSymbol(),Fe=i.add(Fe,Je);return Fe},nt=function(Y,Ee){var Je,Fe=Math.max.apply(null,Y.terms),Lt=0;if(!Ee){for(var Bt=0;Bt<Y.terms.length;Bt++)if(Y.terms[Bt].equals(Fe)&&(Je=Bt,Lt++),1<Lt)return}if(Ee){for(Bt=0;Bt<Y.terms.length;Bt++)if(Y.terms[Bt].equals(Fe)){Je=Bt;break}}return[Fe,Je,Y]},yt=function(Y,Ee){var Je=Y[Ee=Ee||0],Fe=Y.length;if(Je){for(var Lt,Bt=nt(Je),zt=Ee+1;zt<Fe;zt++){var ve=Y[zt],Ye=Je.sum.equals(ve.sum);if(!Ye&&Bt)break;if(Ye){for(var X,we,tt,St,Zt=Je.terms.length,$n=0;$n<Zt;$n++){var pn=Je.terms[$n],sr=ve.terms[$n];X!==void 0&&!pn.greaterThan(X)||(X=pn,tt=$n),we!==void 0&&!sr.greaterThan(we)||(we=sr,St=$n)}var wr=X.subtract(ve.terms[tt]),Ye=we.subtract(Je.terms[St]);if(wr<Ye){Bt=[we,St,ve];break}if(Ye<wr){Bt=[X,tt,Je];break}}else if(Bt=nt(ve))break;Bt=nt(ve)}if(!Bt)return nt(Y[0],!0);for(zt=0;zt<en.length;zt++){var jn,En=en[zt].terms;if((jn=Bt[1])===En.length-1)return;if(!(Lt=En[jn]).equals(0))break}return Lt.equals(0)?yt(Y,++Ee):Bt}},Ut=r.Utils.toMapObj(Ft),Ht=function(Y,Ee){return Ee.sum.subtract(Y.sum)},Me=function(Y,Ee){if(!Y||!Ee)return!1;for(var Je=0;Je<Y.terms.length;Je++)if(Y.terms[Je].lessThan(Ee.terms[Je]))return!1;return!0},ut=b.tBase(Ut).sort(Ht),en=O.tBase(Ut).sort(Ht),nn=Me(ut[0],en[0])&&ut[0].count>en[0].count?en:ut,De=yt(nn),se=[];if(De){var lt=De[1],Ae=function(Bt,Lt){var Je=Bt.len(),Fe=Lt.len(),Lt=Lt.terms[lt],Bt=Bt.terms[lt];return Je<Fe&&Lt.greaterThan(Bt)?Fe-Je:Lt.subtract(Bt)},lt=(function(Y,Ee){for(var Je=[],Fe=0;Fe<Y.length;Fe++)for(var Lt=Y[Fe],Bt=0;Bt<Lt.terms.length;Bt++){var zt=Je[Bt],ve=Lt.terms[Bt];Fe===0?Je[Bt]=ve:zt&&!zt.equals(ve)&&(Je[Bt]=void 0)}for(Fe=0;Fe<Je.length;Fe++)if((Lt=Je[Fe])&&!Lt.equals(0))return Fe;return Ee})(ut,lt);ut.sort(Ae),en.sort(Ae);var Qe=en[0],Tt=ut[0],Et=new je(new V(1),[],Tt.map);if(Qe.sum.greaterThan(Tt.sum)&&1<Tt.len())for(var Vt=0;Vt<Tt.terms.length;Vt++){var rt=Qe.terms[Vt].subtract(Tt.terms[Vt]);if(rt.equals(0))Et.terms[Vt]=new V(0);else{var P=rt.add(new V(1));Et.terms[Vt]=rt;for(var Re=0;Re<ut.length;Re++)ut[Re].terms[Vt]=ut[Re].terms[Vt].add(P)}}for(var ke=Me(ut[0],en[0]),ht=0;ke&&(R=en,!(N=ut)[0].sum.equals(R[0].sum)||N.length>=R.length);){if(200<ht++)throw new r.exceptions.InfiniteLoopError("Unable to compute!");var Mt=ut[0].divide(en[0]);for(se.push(Mt),ut.shift(),Vt=1;Vt<en.length;Vt++){var Ot=en[Vt].multiply(Mt).generateImage(),wt=ut.length;for(wt===0&&(Ot.coeff=Ot.coeff.neg(),ut.push(Ot),ut.sort(Ae)),Re=0;Re<wt;Re++){var ft=ut[Re];if(ft.getImg()===Ot.getImg()){ft.coeff=ft.coeff.subtract(Ot.coeff),ft.coeff.equals(0)&&(r.Utils.remove(ut,Re),Re--);break}Re===wt-1&&(Ot.coeff=Ot.coeff.neg(),ut.push(Ot),ut.sort(Ae))}}if(!(ke=Me(ut[0],en[0]))&&ut.length>=en.length){for(Vt=1;Vt<ut.length;Vt++)if(ke=Me(ut[Vt],en[0])){ut.unshift(r.Utils.remove(ut,Vt));break}}}}Ge=Ct(se),et=Ct(ut),Et!==void 0&&(Et=Et.toSymbol(),Ge=i.divide(Ge,Et.clone()),et=i.divide(et,Et))}return ze&&(Ge=i.parse(Ge.text(),de),et=i.parse(et.text(),de)),[Ge,et]}catch{return B}},line:function(b,R,B){r.Utils.isArray(b)&&(b=r.Utils.convertToVector(b)),r.Utils.isArray(R)&&(R=r.Utils.convertToVector(R)),B=i.parse(B||"x"),r.Utils.isVector(b)&&r.Utils.isVector(R)||i.error('Line expects a vector! Received "'+b+'" & "'+R+'"');var j=i.subtract(R.e(1).clone(),b.e(1).clone()),R=i.subtract(R.e(2).clone(),b.e(2).clone()),j=i.divide(R,j),B=i.multiply(B,j.clone()),j=i.multiply(b.e(1).clone(),j);return i.add(i.subtract(B,j),b.e(2).clone())},PartFrac:{createTemplate:function(b,O,N,R){(b=_e.Factor.factor(b)).each(function(et,Ct){var nt;et.group===y&&et.fname===""&&et.args[0].group===f&&(nt=et.args[0],this.symbols?(delete this.symbols[Ct],this.symbols[nt.value]=nt):b=et.args[0])});for(var B=O.collectFactors(),j=[],J=[],fe=new te(1),Ne=0;Ne<B.length;Ne++){var qe=te.unwrapPARENS(B[Ne]);if(qe.power.greaterThan(1))for(var de=Number(qe.power),xe=qe.clone().toLinear(),gt=Number(_e.degree(xe,R)),ze=0;ze<de;ze++){var Ft=i.pow(xe.clone(),new te(ze+1));N.push(Ft.clone());var Ge=i.divide(b.clone(),Ft.clone());J.push(gt),j.push(Ge)}else gt=Number(_e.degree(qe,R)),N.push(qe),Ge=i.divide(b.clone(),qe.clone()),Ge=i.expand(te.unwrapPARENS(Ge)),J.push(gt),j.push(Ge)}return[N=N.map(function(et){return i.multiply(et,fe.clone())}),j,J]},partfrac:function(b,O,N){var R=K(b);O=O||i.parse(R[0]);try{var B,j,J,fe,Ne,qe,de,xe,gt,ze,Ft,Ge,et,Ct,nt=i.expand(b.getNum()),yt=i.expand(b.getDenom().toUnitMultiplier());if(nt.multiplier=b.multiplier,J=nt.groupTerms(O),Number(_e.degree(nt,O))>=Number(_e.degree(yt,O))?(xe=(de=_e.div(nt.clone(),i.expand(yt.clone())))[0],J=(nt=de[1]).groupTerms(O)):xe=new te(0),Number(_e.degree(yt,O))===1){var Ut=i.divide(nt,yt);return N?[xe,Ut]:i.add(xe,Ut)}j=_e.Factor.factor(yt),Ft=_e.PartFrac.createTemplate(yt.clone(),j,[],O),Ge=Ft[0],gt=Ft[1],fe=Ft[2],qe=[J.length],Ne=[],B=[],ze=[],gt.map(function(Qe,Tt){et=Ge[Tt],Ct=fe[Tt];for(var Et=0;Et<Ct;Et++){B.push(et.clone());var Vt=te.create(O,Et),rt=i.expand(i.multiply(Qe,Vt.clone())).groupTerms(O),P=rt.length;qe.push(P),Ne.push(rt),ze.push(Vt.clone())}});for(var Ht=r.Utils.arrayMax(qe),Me=new r.Matrix(r.Utils.fillHoles(J,Ht)).transpose(),ut=new r.Matrix,en=0;en<Ne.length;en++)ut.elements.push(r.Utils.fillHoles(Ne[en],Ht));var nn=i.multiply(ut.transpose().invert(),Me),De=N?[xe]:xe;return nn.each(function(Qe,Tt){Tt=i.multiply(ze[Tt],i.divide(Qe,B[Tt])),N?De.push(Tt):De=i.add(De,Tt)}),De}catch{try{if(b.isComposite()){var se={};b.each(function(rt){var Et=rt.getDenom(),Vt=rt.getNum(),rt=se[Et];se[Et]=rt?i.add(rt,Vt):Vt});var Ae,lt=new te(0);for(Ae in se)lt=i.add(lt,i.divide(se[Ae],i.parse(Ae)));b=lt}}catch{}}return b}},degree:function(b,O,N){if(N=N||{nd:[],sd:[],depth:0},!O){var R=K(b);if(1<R.length)throw new Error("You must specify the variable for multivariate polynomials!");if(R.length===0)return new te(0);O=i.parse(R[0])}return R=b.group,b.isComposite()?((b=b.clone()).distributeExponent(),b.each(function(B){N.depth++,_e.degree(B,O,N),N.depth--})):b.group===w?b.each(function(B){N.depth++,_e.degree(B,O,N),N.depth++}):R===g&&b.value===O.value?N.sd.push(b.power.clone()):R===f&&b.value===O.value?N.nd.push(i.parse(b.power)):N.nd.push(new te(0)),b=0<N.nd.length?r.Utils.arrayMax(N.nd):void 0,N.depth===0&&0<N.sd.length?(b!==void 0&&N.sd.unshift(b),i.symfunction("max",N.sd)):r.Utils.isSymbol(b)?b:i.parse(b)},sqComplete:function(b,O,N){r.Utils.isSymbol(O)||(O=i.parse(O));var R,B,j,J,fe,Ne=function(qe){throw new r.exceptions.ValueLimitExceededError(qe=qe||"Stopping")};return b.isPoly(!0)||Ne("Must be a polynomial!"),J=r.Utils.inBrackets,b=b.clone(),(R=r.Algebra.degree(b,O)).equals(2)||Ne("Cannot complete square for degree "+R),fe=(j=r.Algebra.coeffs(b,O))[2],Ne=j[1].sign(),R=i.divide(j[1],new te(2)),b=i.pow(R.clone(),new te(2)),N?[fe,R,B]:(fe=Oe.sqrt(fe),b=i.divide(Oe.sqrt(b),fe.clone()),B=i.subtract(j[0],i.pow(b.clone(),new te(2))),{a:b=i.parse(J(fe.clone()+"*"+O+(Ne<0?"-":"+")+b)),c:B,f:i.add(i.pow(b.clone(),new te(2)),B.clone())})},Simplify:{strip:function(b){var O=i.parse(b.multiplier);b.toUnitMultiplier();var N=i.parse(b.power);return b.toLinear(),[O,N,b]},unstrip:function(R,O){var N=R[0],R=R[1];return i.multiply(N,i.pow(O,R))},complexSimp:function(R,B){var J=R.realpart(),j=R.imagpart(),N=B.realpart(),fe=B.imagpart(),R=i.multiply(J.clone(),N.clone()),B=i.multiply(j.clone(),fe.clone()),j=i.multiply(N.clone(),j),J=i.multiply(J,fe.clone()),fe=i.add(i.pow(N,new te(2)),i.pow(fe,new te(2)));return i.divide(i.add(i.add(R,B),i.multiply(i.subtract(j,J),te.imaginary())),fe)},trigSimp:function(b){var O,N,R,B,j,J;return b.containsFunction(["cos","sin","tan"])&&(b=b.clone(),N=(b=(O=_e.Simplify.strip(b)).pop()).clone(),b.group===T?(R=new te(0),b.each(function(fe){fe=_e.Simplify.trigSimp(fe.fnTransform()),R=i.add(R,fe)},!0),N=i.pow(i.multiply(new te(b.multiplier),R),new te(b.power))):b.group===w&&(B=b.getNum(),j=b.getDenom(),(N=B.fname==="sin"&&j.fname==="cos"&&B.args[0].equals(j.args[0])&&B.power.equals(j.power)?i.parse(r.Utils.format("({0})*({1})*tan({2})^({3})",j.multiplier,B.multiplier,B.args[0],B.power)):N).group===w&&(J=new te(1),N.each(function(fe){fe.fname==="tan"&&(fe=i.parse(r.Utils.format("({0})*sin({1})^({2})/cos({1})^({2})",fe.multiplier,_e.Simplify.simplify(fe.args[0]),fe.power))),J=i.multiply(J,fe)}),N=J)),b=N=_e.Simplify.unstrip(O,N).distributeMultiplier()),b},fracSimp:function(b){var O=b.getDenom();if((b=(fe=b.getNum()).isImaginary()&&O.isImaginary()?_e.Simplify.complexSimp(fe,O):b).isComposite()){for(var N,R,B,j,J,fe,Ne=(b=1<b.power?i.expand(b):b).collectSymbols(),qe=Ne.pop();Ne.length;)J=Ne.pop(),j=i.parse(qe.getDenom()),B=i.parse(J.getDenom()),N=qe.getNum(),R=J.getNum(),J=i.multiply(j.clone(),B.clone()),B=i.multiply(N,B),j=i.multiply(R,j),j=i.add(B,j),qe=i.divide(j,J);return O=i.expand(qe.getDenom()),(O=(fe=i.expand(qe.getNum())).isImaginary()&&O.isImaginary()?_e.Simplify.complexSimp(fe,O):i.divide(fe,O)).equals(b)?b:_e.Simplify.simplify(O)}return b},ratSimp:function(b){var O,N;return b.group===w&&(O=b.getDenom(),N=b.getNum().distributeMultiplier(),O=_e.Simplify.fracSimp(O),N=_e.Simplify.fracSimp(N),b=i.divide(N,O)),b},sqrtSimp:function(b,O){if(b.isSQRT()){var N,R,B=_e.Factor.factor(b.args[0].clone()),j=i.parse(B.multiplier),J=j.sign(),fe=i.sqrt(j.abs());if(le(fe))return B.group===w?(N=new te(1),B.each(function(Ne){var qe;Ne.group===u?(qe=i.sqrt(Ne.clone()),le(qe)?fe=i.multiply(fe,qe):N=i.multiply(N,Ne)):N=i.multiply(N,Ne)}),J=i.multiply(N,i.parse(J)),(R=i.sqrt(J.clone())).isImaginary&&(R=i.sqrt(i.expand(J.clone())))):R=i.sqrt(B.clone().toUnitMultiplier()),i.multiply(fe,R)}else b.isComposite()&&b.isLinear()?(fe=new te(0),b.each(function(Ne){fe=i.add(fe,_e.Simplify.sqrtSimp(Ne))},!0),fe=i.multiply(fe,i.parse(b.multiplier))):b.group===w&&(fe=i.parse(b.multiplier),b.each(function(Ne){Ne=_e.Simplify.sqrtSimp(Ne),fe=i.multiply(fe,Ne)},!0),fe=i.pow(fe,i.parse(b.power)));return fe||i.parse(b)},patternSub:function(b){var O={},N=function(B){var j=!1;return B.each(function(J){J.group===T?j=!0:J.symbols&&(j=N(J))}),j},R=function(B){B.each(function(j){var J;!j.symbols&&j.group!==y||(N(j)?R(j):O[j.value]||(J=r.Utils.getU(b),O[j.value]=J,b=b.sub(j.value,J)))},!0)};return R(b),[b,O]},simplify:function(b){var O=_e.Simplify.strip(b);if(b=O.pop(),(b=_e.Simplify.fracSimp(b)).isConstant()||b.group===r.groups.S)return O.push(b),_e.Simplify.unstrip(O,b);var N,R=b.clone(),R=_e.Simplify.trigSimp(R);return R=_e.Simplify.ratSimp(R),(R=_e.Factor.factor(R)).group===r.groups.CP&&R.isLinear()&&(b=R.multiplier.clone(),R.toUnitMultiplier(),N=new te(0),R.each(function(B){B=_e.Simplify.simplify(B),N=i.add(N,B)}),(R=N).multiplier=N.multiplier.multiply(b)),_e.Simplify.unstrip(O,R)}},Classes:{Polynomial:ce,Factors:Be,MVTerm:je}};r.Expression.prototype.simplify=function(){return _e.Simplify.simplify(this.symbol)},s.useAlgebraDiv=function(){var b=_e.divideFn=i.divide,O=0;i.divide=function(N,R){return R=++O===1?r.Algebra.divide(N,R):b(N,R),O=0,R}},s.useParserDiv=function(){_e.divideFn&&(i.divide=_e.divideFn),delete _e.divideFn},s.register([{name:"factor",visible:!0,numargs:1,build:function(){return _e.Factor.factor}},{name:"simplify",visible:!0,numargs:1,build:function(){return _e.Simplify.simplify}},{name:"gcd",visible:!0,numargs:[1],build:function(){return _e.gcd}},{name:"lcm",visible:!0,numargs:[1],build:function(){return _e.lcm}},{name:"roots",visible:!0,numargs:-1,build:function(){return _e.roots}},{name:"divide",visible:!0,numargs:2,build:function(){return _e.divide}},{name:"div",visible:!0,numargs:2,build:function(){return _e.div}},{name:"partfrac",visible:!0,numargs:[1,2],build:function(){return _e.PartFrac.partfrac}},{name:"deg",visible:!0,numargs:[1,2],build:function(){return _e.degree}},{name:"coeffs",visible:!0,numargs:[1,2],build:function(){return function(){var b=_e.coeffs.apply(_e,arguments);return new r.Vector(b)}}},{name:"line",visible:!0,numargs:[2,3],build:function(){return _e.line}},{name:"sqcomp",visible:!0,numargs:[1,2],build:function(){return function(b,O){try{return O=O||K(b)[0],_e.sqComplete(b.clone(),O).f}catch{return b}}}}]),s.updateAPI()})(),s===void 0&&(s=r4(),p9()),(function(){var r=s.getCore(),i=r.PARSER,u=r.Frac,h=r.Settings,f=r.Utils.isSymbol,he=r.groups.FN,g=r.Symbol,y=r.Utils.text,$=r.Utils.inBrackets,T=r.Utils.isInt,w=r.Utils.format,I=r.Utils.even,A=r.Utils.evaluate,K=r.groups.N,ne=r.groups.S,he=r.groups.FN,V=r.groups.PL,le=r.groups.CP,te=r.groups.CB,Ce=r.groups.EX,Oe=r.groups.P,ce=h.LOG,Be="sqrt",je="sin",_e="cos",b="tan",O="sec",N="csc",R="cot",B="asin",j="atan",J="sinh",fe="cosh",Ne="tanh";function qe(et){this.message=et||""}qe.prototype=new Error,g.prototype.hasIntegral=function(){return this.containsFunction("integrate")},g.prototype.fnTransform=function(){if(this.group!==he)return this;var et,Ct,nt,yt=this.args[0],Ut=new g(this.multiplier),Ht=this.clone().toUnitMultiplier();if(this.isLinear())switch(this.fname){case J:nt=i.parse(w("(e^({0})-e^(-({0})))/2",yt));break;case fe:nt=i.parse(w("(e^({0})+e^(-({0})))/2",yt));break;case Ne:nt=i.parse(w("(e^({0})-e^(-({0})))/(e^({0})+e^(-({0})))",yt));break;case b:nt=i.parse(w("sin({0})/cos({0})",yt));break;case N:nt=i.parse(w("1/sin({0})",yt));break;case O:nt=i.parse(w("1/cos({0})",yt));break;default:nt=Ht}else if(this.power.equals(2))switch(this.fname){case je:nt=i.parse(w("1/2-cos(2*({0}))/2",yt));break;case _e:nt=i.parse(w("1/2+cos(2*({0}))/2",yt));break;case b:nt=i.parse(w("sin({0})^2/cos({0})^2",yt));break;case fe:nt=i.parse(w("1/2+cosh(2*({0}))/2",yt));break;case J:nt=i.parse(w("-1/2+cosh(2*({0}))/2",yt));break;case Ne:nt=i.parse(w("(1+cosh(2*({0})))/(-1+cosh(2*({0})))",yt));break;case O:nt=i.parse(w("(1-cos(2*({0})))/(1+cos(2*({0})))+1",yt));break;default:nt=Ht}else this.fname===O?nt=i.parse(w("1/cos({0})^({1})",this.args[0],this.power)):this.fname===N?nt=i.parse(w("1/sin({0})^({1})",this.args[0],this.power)):this.fname===b?nt=this.power.lessThan(0)?i.parse(w("cos({0})^(-({1}))/sin({0})^({1})",this.args[0],this.power.negate())):i.parse(w("sin({0})^({1})/cos({0})^({1})",this.args[0],this.power)):this.fname===je&&this.power.lessThan(0)?nt=i.parse(w("csc({0})^(-({1}))",this.args[0],this.power.negate())):this.fname===_e&&this.power.lessThan(0)?nt=i.parse(w("sec({0})^(-({1}))",this.args[0],this.power.negate())):this.fname===je&&this.power.equals(3)?nt=i.parse(w("(3*sin({0})-sin(3*({0})))/4",this.args[0])):this.fname===_e&&this.power.equals(3)?nt=i.parse(w("(cos(3*({0}))+3*cos({0}))/4",this.args[0])):this.fname!==_e&&this.fname!==je||!I(this.power)?nt=Ht:(Ct=this.power/2,et=i.pow(this.clone().toLinear(),i.parse(2)).fnTransform(),Ct=i.expand(i.pow(et,i.parse(Ct))),nt=new g(0),Ct.each(function(Me){Me=Me.fnTransform(),nt=i.add(nt,Me)},!0));return i.multiply(nt,Ut)},g.prototype.hasTrig=function(){if(this.isConstant(!0)||this.group===ne)return!1;if(this.fname&&(r.Utils.in_trig(this.fname)||r.Utils.in_inverse_trig(this.fname)))return!0;if(this.symbols){for(var et in this.symbols)if(this.symbols[et].hasTrig())return!0}return!1},r.Expression.prototype.hasIntegral=function(){return this.symbol.hasIntegral()},r.Utils.toCommonDenominator=function(et){if(et.isComposite()&&et.isLinear()){var Ct=new g(et.multiplier),nt=new g(1),yt=new g(0);return et.each(function(Ut){nt=i.multiply(nt,Ut.getDenom())},!0),et.each(function(Me){var Ht=Me.getNum(),Me=Me.getDenom(),Me=i.multiply(Ht,i.divide(nt.clone(),Me));yt=i.add(yt,Me)}),i.multiply(Ct,r.Algebra.divide(i.expand(yt),i.expand(nt)))}return et},r.Utils.in_inverse_trig=function(et){return[B,"acos",j,"acsc","asec","acot"].indexOf(et)!==-1},r.Utils.in_trig=function(et){return[_e,je,b,O,N,R].indexOf(et)!==-1},r.Utils.in_htrig=function(et){return[J,fe,Ne,"acsch","asech","acoth"].indexOf(et)!==-1},r.Matrix.jacobian=function(et,Ct){var nt=new r.Matrix;return(Ct=Ct||r.Utils.arrayGetVariables(et)).forEach(function(yt,Ut){et.forEach(function(Ht,Me){Ht=r.Calculus.diff(Ht.clone(),yt),nt.set(Me,Ut,Ht)})}),nt},r.Matrix.prototype.max=function(){var et=new g(0);return this.each(function(Ct){Ct=Ct.abs(),Ct.gt(et)&&(et=Ct)}),et},r.Matrix.cMatrix=function(et,Ct){var nt=new r.Matrix;return Ct.forEach(function(yt,Ut){nt.set(Ut,0,i.parse(et))}),nt};var de=r.Utils.all_functions=function(et){for(var Ct=0,nt=et.length;Ct<nt;Ct++)if(et[Ct].group!==he)return!1;return!0},xe=r.Utils.cosAsinBtranform=function(et,Ct){return et=et.args[0],Ct=Ct.args[0],i.parse(w("(sin(({0})+({1}))-sin(({0})-({1})))/2",et,Ct))},gt=r.Utils.cosAsinAtranform=function(et,Ct){return Number(Ct.power)!==1?i.multiply(et,Ct):(et=et.args[0],i.parse(w("(sin(2*({0})))/2",et)))},ze=r.Utils.cosAsinBtranform=function(et,Ct){return et=et.args[0],Ct=Ct.args[0],i.parse(w("(cos(({0})+({1}))-cos(({0})-({1})))/2",et,Ct))},Ft=r.Utils.trigTransform=function(et){for(var Ct,nt,yt,Ut,Ht={},Me=new g(1),ut=0,en=et.length;ut<en;ut++)(yt=et[ut]).group===he?(nt=yt.fname)===_e&&Ht.sin?(Ct=(Ht.sin.args[0].toString()!==yt.args[0].toString()?xe:gt)(yt,Ht.sin),delete Ht.sin,Me=i.multiply(Me,Ct)):nt===je&&Ht.cos?(Ct=(Ht.cos.args[0].toString()!==yt.args[0].toString()?xe:gt)(yt,Ht.cos),delete Ht.cos,Me=i.multiply(Me,Ct)):nt===je&&Ht.sin?(Ct=Ht.sin.args[0].toString()!==yt.args[0].toString()?ze(yt,Ht.sin):i.multiply(yt,Ht.sin),delete Ht.sin,Me=Ct):Ht[nt]=yt:Me=i.multiply(Me,yt);for(Ut in Ht)Me=i.multiply(Me,Ht[Ut]);return Me};r.Settings.integration_depth=10,r.Settings.max_lim_depth=10;var Ge=r.Calculus={version:"1.4.6",sum:function(et,Ct,nt,yt){if(Ct.group!==r.groups.S)throw new r.exceptions.NerdamerTypeError("Index must be symbol. "+y(Ct)+" provided");var Ut;return Ct=Ct.value,r.Utils.isNumericSymbol(nt)&&r.Utils.isNumericSymbol(yt)?(Ut=yt-nt<200?"":"PARSE2NUMBER",nt=Number(nt),yt=Number(yt),r.Utils.block(Ut,function(){for(var Ht=et.text(),Me={"~":!0},ut=new r.Symbol(0),en=nt;en<=yt;en++){Me[Ct]=new g(en);var nn=i.parse(Ht,Me),ut=i.add(ut,nn)}return ut})):i.symfunction("sum",arguments)},product:function(et,Ct,nt,yt){if(Ct.group!==r.groups.S)throw new r.exceptions.NerdamerTypeError("Index must be symbol. "+y(Ct)+" provided");return Ct=Ct.value,r.Utils.isNumericSymbol(nt)&&r.Utils.isNumericSymbol(yt)?r.Utils.block(yt-nt<200?"":"PARSE2NUMBER",function(){nt=Number(nt),yt=Number(yt.multiplier);for(var Ut=et.text(),Ht={},Me=new r.Symbol(1),ut=nt;ut<=yt;ut++)Ht[Ct]=new g(ut),Me=i.multiply(Me,i.parse(Ut,Ht));return Me}):i.symfunction("product",arguments)},diff:function(et,Ct,nt){if(r.Utils.isVector(et)){var yt=new r.Vector([]);return et.each(function(se){yt.elements.push(Ge.diff(se,Ct,nt))}),yt}if(r.Utils.isMatrix(et)){var Ut=new r.Matrix;return et.each(function(se,Ae,lt){Ut.set(Ae,lt,Ge.diff(se,Ct,nt))}),Ut}var Ht,Me,ut=f(Ct)?Ct.text():Ct;return nt=f(nt)?nt.multiplier:nt||1,ut===void 0&&(ut=r.Utils.variables(et)[0]),et.group===he&&et.fname===Be&&(Me=et.args[0],Ht=et.power.clone(),Me.group===K&&Me.group===Oe||(Me.power=f(Me.power)?i.multiply(Me.power,i.multiply(new g(.5)),Ht):Me.power.multiply(new u(.5)).multiply(Ht),Me.multiplier=Me.multiplier.multiply(et.multiplier)),et=Me),et=et.group!==he||f(et.power)?nn(et):(Ht=nn(i.parse(et)),Me=Ge.diff(et.args[0].clone(),ut),i.multiply(Ht,Me)),et=1<nt?Ge.diff(et,Ct,--nt):et;function en(se){return se.value!==ut&&!se.contains(ut,!0)||(se.multiplier=se.multiplier.multiply(se.power),se.power=se.power.subtract(new u(1)),se.power.equals(0)&&(se=g(se.multiplier))),se}function nn(se){var Ae=se.group;if(Ae===K||Ae===ne&&se.value!==ut||Ae===Oe)se=g(0);else if(Ae===ne)se=en(se);else{if(Ae===te){var lt=se.multiplier.clone();se.toUnitMultiplier();var Qe=i.multiply((function(Re){for(var ke=Re.collectSymbols(),ht=new g(0),Mt=ke.length,Ot=0;Ot<Mt;Ot++){for(var wt=Ge.diff(ke[Ot].clone(),ut),ft=0;ft<Mt;ft++)Ot!==ft&&(wt=i.multiply(wt,ke[ft].clone()));ht=i.add(ht,wt)}return ht})(se),en(se));return Qe.multiplier=Qe.multiplier.multiply(lt),Qe}if(Ae===he&&se.power.equals(1))switch(se.fname){case ce:Tt=se.clone(),(se=se.args[0].clone()).power=se.power.negate(),se.multiplier=Tt.multiplier.divide(se.multiplier);break;case _e:se.fname=je,se.multiplier.negate();break;case je:se.fname=_e;break;case b:se.fname=O,se.power=new u(2);break;case O:se=De(se,b);break;case N:se=De(se,"-cot");break;case R:se.fname=N,se.multiplier.negate(),se.power=new u(2);break;case B:se=i.parse("(sqrt(1-("+y(se.args[0])+")^2))^(-1)");break;case"acos":se=i.parse("-(sqrt(1-("+y(se.args[0])+")^2))^(-1)");break;case j:se=i.parse("(1+("+y(se.args[0])+")^2)^(-1)");break;case"abs":lt=se.multiplier.clone(),se.toUnitMultiplier(),(Vt=se.args[0].clone()).toUnitMultiplier(),(se=i.parse($(y(se.args[0]))+"/abs"+$(y(Vt)))).multiplier=lt;break;case"parens":se=g(1);break;case"cosh":se.fname="sinh";break;case"sinh":se.fname="cosh";break;case Ne:se.fname="sech",se.power=new u(2);break;case"sech":se=De(se,"-tanh");break;case"csch":var Et=String(se.args[0]);return i.parse("-coth("+Et+")*csch("+Et+")");case"coth":return Et=String(se.args[0]),i.parse("-csch("+Et+")^2");case"asinh":se=i.parse("(sqrt(1+("+y(se.args[0])+")^2))^(-1)");break;case"acosh":se=i.parse("(sqrt(-1+("+y(se.args[0])+")^2))^(-1)");break;case"atanh":se=i.parse("(1-("+y(se.args[0])+")^2)^(-1)");break;case"asech":Et=String(se.args[0]),se=i.parse("-1/(sqrt(1/("+Et+")^2-1)*("+Et+")^2)");break;case"acoth":se=i.parse("-1/(("+se.args[0]+")^2-1)");break;case"acsch":Et=String(se.args[0]),se=i.parse("-1/(sqrt(1/("+Et+")^2+1)*("+Et+")^2)");break;case"asec":Et=String(se.args[0]),se=i.parse("1/(sqrt(1-1/("+Et+")^2)*("+Et+")^2)");break;case"acsc":Et=String(se.args[0]),se=i.parse("-1/(sqrt(1-1/("+Et+")^2)*("+Et+")^2)");break;case"acot":se=i.parse("-1/(("+se.args[0]+")^2+1)");break;case"S":Et=String(se.args[0]),se=i.parse("sin((pi*("+Et+")^2)/2)");break;case"C":Et=String(se.args[0]),se=i.parse("cos((pi*("+Et+")^2)/2)");break;case"Si":Et=se.args[0],se=i.parse("sin("+Et+")/("+Et+")");break;case"Shi":Et=se.args[0],se=i.parse("sinh("+Et+")/("+Et+")");break;case"Ci":Et=se.args[0],se=i.parse("cos("+Et+")/("+Et+")");break;case"Chi":Et=se.args[0],se=i.parse("cosh("+Et+")/("+Et+")");break;case"Ei":Et=se.args[0],se=i.parse("e^("+Et+")/("+Et+")");break;case"Li":Et=se.args[0],se=i.parse("1/"+h.LOG+"("+Et+")");break;case"erf":se=i.parse("(2*e^(-("+se.args[0]+")^2))/sqrt(pi)");break;case"atan2":var Tt=String(se.args[0]),Et=String(se.args[1]);se=i.parse("("+Et+")/(("+Et+")^2+("+Tt+")^2)");break;case"sign":se=new g(0);break;case"sinc":se=i.parse(w("(({0})*cos({0})-sin({0}))*({0})^(-2)",se.args[0]));break;case h.LOG10:se=i.parse("1/(("+se.args[0]+")*"+h.LOG+"(10))");break;default:se=i.symfunction("diff",[se,Ct])}else if(Ae===Ce||Ae===he&&f(se.power)){var Qe=Ae===Ce?se.value:Ae===he&&se.contains(ut)?se.fname+$(y(se.args[0])):se.value+$(y(se.args[0])),Vt=(i.multiply(i.parse(ce+$(Qe)),se.power.clone()),Ge.diff(i.multiply(i.parse(ce+$(Qe)),se.power.clone()),ut));se=i.multiply(se,Vt)}else if(Ae!==he||se.power.equals(1)){if(Ae===le||Ae===V){var rt,Ae=se.clone(),P=new g(0);for(rt in se.symbols)P=i.add(P,Ge.diff(se.symbols[rt].clone(),ut));se=i.multiply(en(Ae),P)}}else(Vt=se.clone()).toLinear(),Vt.toUnitMultiplier(),se=i.multiply(en(se.clone()),nn(Vt))}return se.updateHash(),se}function De(se,Ae,lt){return i.multiply(se,i.parse(Ae+$(y(se.args[0]))))}},integration:{u_substitution:function(en,Ct){function nt(lt,Qe,Tt){var Et=Ge.diff(Qe,Ct),Et=Tt?Tt(lt,Qe):i.divide(lt.clone(),Et);return Et.contains(Ct,!0)?null:Et}function yt(lt,Qe){return lt=Ge.integrate(i.symfunction(lt,[new g(nn)]),nn,0),(lt=lt.sub(new g(nn),Qe)).updateHash(),lt}var Ut,Ht=en[0].clone(),Me=en[1].clone(),ut=Ht.group,en=Me.group,nn="__u__";if(ut===he&&en!==he)return(Ut=nt(Me,(se=Ht.args[0]).clone()))?i.multiply(Ut,yt(Ht.fname,se)):(Ut=nt(Me,Ht))?Ge.integration.poly_integrate(Ht):void 0;if(en===he&&ut!==he){if(Ut=nt(Ht,(se=Me.args[0]).clone()))return i.multiply(Ut,yt(Me.fname,se))}else{if(ut===he&&en===he)return(Ut=nt(Ht.clone(),Me.clone()))||(Ut=nt(Me.clone(),Ht.clone()))?i.multiply(Ge.integration.poly_integrate(Me),Ut):void 0;if(ut===Ce&&en!==Ce){if(!(Ut=nt(Me,(Ae=Ht.power).clone()))){var De=Ge.integration.decompose_arg(Ae.clone(),Ct),se=Ge.diff(De[2].clone(),Ct),se=Ge.integration.decompose_arg(se.clone(),Ct);if(i.multiply(De[1],se[1]).power.equals(Me.power))return se=i.divide(De[0].clone(),se[0].clone()),se=i.multiply(se.clone(),i.pow(new g(Ht.value),i.multiply(De[0],new g(nn)))),se=i.multiply(se,new g(nn)),Ge.integration.by_parts(se,nn,0,{}).sub(nn,De[1].clone())}return De=Ge.integrate(Ht.sub(Ae.clone(),new g(nn)),nn,0),i.multiply(De.sub(new g(nn),Ae),Ut)}if(en===Ce&&ut!==Ce)return Ut=nt(Ht,(Ae=Me.power).clone()),De=Ge.integrate(Me.sub(Ae,new g(nn)),nn,0),i.multiply(De.sub(new g(nn),Ae),Ut);if(Ht.isComposite()||Me.isComposite()){var ut=function(Tt,Et){return Et=Ge.diff(Et,Ct),Tt=r.Algebra.Factor.factor(Tt),Et=r.Algebra.Factor.factor(Et),i.divide(Tt,Et)},De=Ht.isComposite()?Ht.clone().toLinear():Ht.clone(),Ae=Me.isComposite()?Me.clone().toLinear():Me.clone();return(Ut=nt(De.clone(),Ae.clone(),ut))?i.multiply(Ge.integration.poly_integrate(Me),Ut):(Ut=nt(Ae.clone(),De.clone(),ut))?i.multiply(Ge.integration.poly_integrate(Ht),Ut):void 0}}},poly_integrate:function(yt){var Ct=yt.power.toString(),nt=yt.multiplier.toDecimal(),yt=yt.toUnitMultiplier().toLinear();return Number(Ct)===-1?i.multiply(new g(nt),i.symfunction(ce,[yt])):i.parse(w("({0})*({1})^(({2})+1)/(({2})+1)",nt,yt,Ct))},stop:function(et){throw r.Utils.warn(et=et||"Unable to compute integral!"),new qe(et)},partial_fraction:function(et,Ct,nt,yt){var Ut;return f(Ct)||(Ct=i.parse(Ct)),Ut=new g(0),(et=r.Algebra.PartFrac.partfrac(et,Ct)).group===te&&et.isLinear()?(et.each(function(Ht){Ht.isLinear()||Ge.integration.stop()}),et.each(function(Ht){Ut=i.add(Ut,Ge.integrate(Ht,Ct,nt,yt))})):Ut=i.add(Ut,Ge.integrate(et,Ct,nt,yt)),Ut},get_udv:function(et){function Ct(De){var se,Ae=De.group;Ae===he?(se=De.fname,r.Utils.in_trig(se)||r.Utils.in_htrig(se)?nt[3].push(De):r.Utils.in_inverse_trig(se)?nt[1].push(De):se===ce?nt[0].push(De):Ge.integration.stop()):Ae===ne||De.isComposite()&&De.isLinear()||Ae===te&&De.isLinear()?nt[2].push(De):Ae===Ce||De.isComposite()&&!De.isLinear()?nt[4].push(De):Ge.integration.stop()}var nt=[[],[],[],[],[]];et.group===te?et.each(function(De){Ct(g.unwrapSQRT(De,!0))}):Ct(et);for(var yt,Ut=new g(1),Ht=0;Ht<5;Ht++){var Me=nt[Ht],ut=Me.length;if(0<ut){if(1<ut)for(var en=new g(1),nn=0;nn<ut;nn++)en=i.multiply(en,Me[nn].clone());else en=Me[0].clone();yt?Ut=i.multiply(Ut,en):(yt=en).multiplier=yt.multiplier.multiply(et.multiplier)}}return[yt,Ut]},trig_sub:function(et,Ct,nt,yt,Ut,Ht){(Ut=Ut||Ge.integration.decompose_arg(et.clone().toLinear(),Ct))[3],Ut[2];var Me=Ut[0],ut=Ut[1];if(ut.power.equals(2)&&Me.greaterThan(0))return Ct=r.Utils.getU(et),Ut=i.parse(b+$(Ct)),Me=i.parse(O+$(Ct)+"^2"),Me=i.multiply(et.sub(ut,Ut),Me),ut=Ge.integrate(Me,Ct,nt,yt).sub(Ut,ut),r.Utils.clearU(Ut),ut},by_parts:function(et,Ct,nt,yt){var Ut,Ht,Me,ut,en,nn;return yt.previous=yt.previous||[],Me=(Ht=Ge.integration.get_udv(et))[0],Ut=Ht[1],en=(ut=g.unwrapSQRT(i.expand(Ge.diff(Me.clone(),Ct)),!0)).clone().stripVar(Ct),ut=i.divide(ut,en.clone()),et=Ge.integrate(Ut.clone(),Ct,nt||0),ut=(Ht=i.multiply(et.clone(),ut)).toString(),yt.previous.indexOf(ut)!==-1&&r.Utils.in_trig(Me.fname)&&Ut.isE()?(yt.is_cyclic=!0,new g(1)):(yt.previous.push(ut),Me=i.multiply(Me,et),et=Ht.multiplier.clone(),Ht.toUnitMultiplier(),(en=i.multiply(Ge.integrate(Ht.clone(),Ct,nt,yt),en)).multiplier=en.multiplier.multiply(et),en=i.subtract(Me,en),yt.is_cyclic&&(yt.previous.pop(),yt.previous.length===0&&(en=i.expand(en),nn=new g(0),en.each(function(De){De.contains(Ct)||(nn=i.add(nn,De.clone()))}),en=i.divide(i.subtract(en,nn.clone()),i.subtract(new g(1),nn)))),en)},decompose_arg:r.Utils.decompose_fn},integrate:function(et,Ct,nt,yt){var Ut;if(Ct||(Ut=r.Utils.variables(et),Ct=(Ct=Ut.length===1?Ut[0]:Ct)||"x"),r.Utils.isVector(et)){var Ht=new r.Vector([]);return et.each(function(Me){Ht.elements.push(Ge.integrate(Me,Ct))}),Ht}return isNaN(Ct)||i.error("variable expected but received "+Ct),et.isConstant(!0)?i.multiply(et.clone(),i.parse(Ct)):(yt=yt||{},r.Utils.block("PARSE2NUMBER",function(){nt=nt||0;var Me,ut=f(Ct)?Ct.toString():Ct,en=(bt=g.unwrapSQRT(et.clone(),!0)).group;try{if(++nt>r.Settings.integration_depth&&Ge.integration.stop("Maximum depth reached. Exiting!"),bt.contains(ut,!0)){if(en===ne)Me=Ge.integration.poly_integrate(bt,ut,nt);else if(en===Ce)if(bt.previousGroup===he&&bt.fname!=="sqrt"&&bt.fname!==h.PARENTHESIS&&Ge.integration.stop(),bt.contains(ut)&&bt.previousGroup!==he)bt.power.contains(ut)?Ge.integration.stop():((qn=Ge.diff(bt.clone().toLinear(),ut)).contains(ut)&&Ge.integration.stop(),Me=Ge.integration.poly_integrate(bt,ut,nt));else{if((rt=Ge.diff(bt.power.clone(),ut)).contains(ut)){var nn=rt.stripVar(ut);if((P=i.divide(rt.clone(),nn.clone())).group===ne&&P.isLinear())return nn.multiplier=nn.multiplier.divide(new u(2)),i.parse(w("({2})*(sqrt(pi)*erf(sqrt(-{0})*{1}))/(2*sqrt(-{0}))",nn,ut,bt.multiplier));Ge.integration.stop()}bt.isE()?rt.isLinear()?Me=bt:rt.isE()&&rt.power.group===ne&&rt.power.power.equals(1)?Me=i.multiply(i.symfunction("Ei",[bt.power.clone()]),bt.power):Ge.integration.stop():(ke=i.symfunction(ce,[i.parse(bt.value)]),Me=i.divide(bt,ke)),Me=i.divide(Me,rt)}else if(bt.isComposite()&&bt.isLinear()){var De=i.parse(bt.multiplier);bt.toUnitMultiplier(),Me=new g(0),bt.each(function(Dn){Me=i.add(Me,Ge.integrate(Dn,ut,nt))}),Me=i.multiply(De,Me)}else if(en===le)if((bt=bt.power.greaterThan(1)?i.expand(bt):bt).power.equals(1))Me=new g(0),bt.each(function(Dn){Me=i.add(Me,Ge.integrate(Dn,ut,nt))},!0);else{var se=Number(bt.power),De=bt.multiplier.clone();bt.toUnitMultiplier();var Ae,lt,Qe,Tt=bt.clone().toLinear(),Et=(Nt=Ge.integration.decompose_arg(Tt,ut))[3],Vt=Nt[2],rt=Nt[0],P=Nt[1];if(se===-1&&P.group!==V&&P.power.equals(2)){var Re,ke,ht,Mt,Ot,wt,ft,Y,Ee,Je,Fe,Lt=!T(Et)||0<Et;Me=P.group===ne&&P.power.equals(2)&&Lt?(Re=function(Mr){var cr=new g(1);return Mr.each(function(Tr){cr=i.multiply(cr,Tr.fname==="abs"?Tr.args[0]:Tr)}),cr},ht=rt.clone(),Mt=Et.clone(),ht=i.pow(ht,new g(.5)),Mt=i.pow(Mt,new g(.5)),ke=i.multiply(Re(Mt),Re(ht)),Zt=i.symfunction(j,[i.divide(i.multiply(rt,P.toLinear()),ke.clone())]),i.divide(Zt,ke)):P.group===ne&&P.isLinear()?i.divide(Ge.integration.poly_integrate(bt),rt):P.power.equals(4)?(Fe=$,ht=i.parse(Be+Fe(rt)+"*"+ut+"^2"),Mt=i.parse(Be+Fe(2)+"*"+Fe(rt)+"^"+Fe("1/4")+"*"+Fe(Et)+"^"+Fe("1/4")+"*"+ut),Ot=i.parse(Be+Fe(Et)),pn=i.add(i.add(ht.clone(),Mt.clone()),Ot.clone()),ie=i.add(i.subtract(ht,Mt),Ot),wt=i.parse(Be+Fe(2)+"*"+Fe(Et)+"^"+Fe("3/4")),ft=i.parse(Be+Fe(Et)+"*"+Fe(Et)+"^"+Fe("1/4")+"*"+ut),Y=i.parse("2*"+Fe(Et)+"*"+Be+Fe(2)+"*"+Fe(Et)+"^"+Fe("1/4")),Ee=i.divide(i.subtract(wt.clone(),ft.clone()),i.multiply(Y.clone(),ie)),Je=i.divide(i.add(wt,ft),i.multiply(Y,pn.clone())),i.add(Ge.integrate(Ee,ut,nt,yt),Ge.integrate(Je,ut,nt,yt))):Ge.integration.partial_fraction(bt,ut,nt)}else if(se===-.5)P.group===ne&&P.power.equals(2)&&Vt.multiplier.lessThan(0)&&!Et.multiplier.lessThan(0)?(rt.negate(),Me=Et.isConstant()&&rt.isConstant()?(ke=i.symfunction(Be,[rt.clone()]),Ae=i.symfunction(Be,[i.multiply(rt.clone(),Et)]),i.divide(i.symfunction(B,[i.divide(Vt.toLinear(),Ae)]),ke)):(lt=i.symfunction(Be,[rt]),Qe=i.multiply(lt.clone(),P.clone().toLinear()),i.divide(i.symfunction(j,[i.divide(Qe,i.symfunction(Be,[Tt.clone()]))]),lt))):Ge.integration.stop();else if(se===.5&&P.power.equals(2)&&rt.greaterThan(0))Ge.integration.stop();else if(P.isLinear()&&P.group!==V)Me=i.divide(Ge.integration.poly_integrate(bt),rt);else{if(P.power.equals(2)&&rt.greaterThan(0)){var Bt=i.parse(Be+$(rt)),zt=i.parse(Be+$(Et)),ve=i.multiply(Bt.clone(),zt.clone()).invert(),Ye=i.pow(Et,new g(bt.power)),X=r.Utils.getU(bt);bn=i.multiply(ve,P.clone().toLinear());var we=i.parse(j+$(bn)),tt=2*(Math.abs(bt.power)-1),St=Ge.integrate(i.parse(_e+$(X)+"^"+tt));return r.Utils.clearU(X),i.multiply(St.sub(X,we),Ye)}if(bt.group===te||bt.power.lessThan(0)){var Zt=bt.clone().toLinear(),$n=r.Algebra.Factor.factor(Zt).toString()!==Zt.toString();if(r.Algebra.degree(Zt,i.parse(ut)).equals(2)&&!$n)try{var pn,sr,wr=r.Algebra.sqComplete(Zt,ut);bn=r.Utils.getU(Zt),pn=wr.f.sub(wr.a,bn),sr=i.pow(pn,i.parse(bt.power)),Me=Ge.integrate(sr,bn).sub(bn,wr.a)}catch{Ge.integration.stop()}else Me=Ge.integration.partial_fraction(bt,ut,nt,yt)}else Me=Ge.integration.by_parts(bt,ut,nt,yt)}Me.multiplier=Me.multiplier.multiply(De)}else if(en===he){var jn=bt.args[0],De=bt.multiplier.clone();bt.toUnitMultiplier();var En,re,Te,gn,F,ie,x,W,ae,rt=(Nt=Ge.integration.decompose_arg(jn,ut))[0],P=Nt[1],q=bt.fname;if(q===ce||q===B||q==="acos"||q===j&&P.isLinear()){var ge,se=bt.power.toString();T(se)&&(nt-=se),Me=jn.isComposite()?(bn=r.Utils.getU(bt),Zt=i.pow(i.parse(ce+$(bn)),new g(se)),H=Ge.diff(jn,ut),ge=i.multiply(Zt,H),St=Ge.integrate(ge,bn,nt,yt),i.multiply(i.parse(De),St.sub(bn,jn))):i.multiply(i.parse(De),Ge.integration.by_parts(bt,ut,nt,yt))}else{if(q===b&&bt.power.lessThan(0))return(mn=bt.clone()).power.negate(),mn.fname=R,i.multiply(i.parse(De),Ge.integrate(mn,ut,nt));if(!rt.contains(ut,!0)&&bt.isLinear())if(q==="abs")(P=i.divide(jn.clone(),rt.clone())).group!==ne||P.power.lessThan(0)?Ge.integration.stop():Me=r.Utils.even(P.power)?Ge.integrate(jn,ut,nt):((ae=Ge.integrate(P,ut,nt)).power=ae.power.subtract(new u(1)),i.multiply(i.multiply(i.symfunction("abs",[P.toLinear()]),ae),rt));else{var be=bt.args[0].group,Le=Ge.integration.decompose_arg(jn,ut);switch((be!==le&&be!==ne&&be!==te||!Le[1].power.equals(1)||jn.hasFunc())&&Ge.integration.stop(),q){case _e:Me=i.symfunction(je,[jn]);break;case je:(Me=i.symfunction(_e,[jn])).negate();break;case b:Me=i.parse(w(h.LOG+"(sec({0}))",jn));break;case O:Me=i.parse(w(h.LOG+"(tan({0})+sec({0}))",jn));break;case N:Me=i.parse(w("-"+h.LOG+"(csc({0})+cot({0}))",jn));break;case R:Me=i.parse(w(h.LOG+"(sin({0}))",jn));break;case J:Me=i.symfunction(fe,[jn]);break;case fe:Me=i.symfunction(J,[jn]);break;case Ne:Me=i.parse(w(h.LOG+"(cosh({0}))",jn));break;case"asec":case"acsc":case"acot":case"asech":case"acsch":case"acoth":Me=Ge.integration.by_parts(bt,ut,nt,yt);break;case"sech":Me=i.parse(w("atan(sinh({0}))",jn));break;case"csch":Me=i.parse(w(h.LOG+"(tanh(({0})/2))",jn));break;case"coth":Me=i.parse(w(h.LOG+"(sinh({0}))",jn));break;case"exp":Me=Ge.integrate(i.parse(w("e^({0})",jn)),ut,nt);break;case"S":var jn=bt.args[0].clone(),st=(Cn=Ge.integration.decompose_arg(jn,ut))[1],$e=Cn[0],$t=Cn[3];Me=i.parse(w("(cos((1/2)*pi*(({1})+({0})*({2}))^2)+pi*(({1})+({0})*({2}))*S(({1})+({0})*({2})))/(({0})*pi)",$e,$t,P));break;case"C":jn=bt.args[0].clone(),st=(Cn=Ge.integration.decompose_arg(jn,ut))[1],$e=Cn[0],$t=Cn[3],Me=i.parse(w("(pi*(({1})+({0})*({2}))*C(({1})+({0})*({2}))-sin((1/2)*pi*(({1})+({0})*({2}))^2))/(({0})*pi)",$e,$t,st));break;case"erf":jn=bt.args[0].clone(),st=(Cn=Ge.integration.decompose_arg(jn,ut))[1],$e=Cn[0],Me=i.parse(w("e^(-(({2}))^2)/(({0})*sqrt(pi))+(1/({0})+({1}))*erf(({2}))",$e,st,jn));break;case"sign":Me=i.multiply(bt.clone(),jn.clone());break;default:Ge.integration.stop()}Me=i.divide(Me,rt)}else P.isLinear()?q===_e||q===je?(se=Number(bt.power),Me=se<0?(bt.fname=q===je?N:O,bt.invert().updateHash(),Ge.integrate(bt,ut,nt)):(jn=bt.args[0],En=bt.clone(),re=bt.clone(),Se=new g((se-1)/se),Te=i.multiply(rt.clone(),new g(se)).invert(),En.power=En.power.subtract(new u(1)),re.power=re.power.subtract(new u(2)),qn=i.symfunction(q===_e?je:_e,[jn.clone()]),q===je&&qn.negate(),i.add(i.multiply(i.multiply(Te,En),qn),i.multiply(Se,Ge.integrate(i.parse(re),ut,nt))))):q===b||q===R?bt.args[0].isLinear(ut)&&(tt=bt.power.subtract(new u(1)).toString(),fr=bt.clone().toUnitMultiplier(),W=i.parse(w((q===R?"-":"")+"1/({2}*{0})*{3}({1})^({0})",tt,jn,rt,q)),fr.power=fr.power.subtract(new u(2)),fr.power.equals(0)&&(fr=i.parse(fr)),Me=i.subtract(W,Ge.integrate(fr,ut,nt))):q===O||q===N?(gn=bt.power.subtract(new u(1)).toString(),F=bt.power.subtract(new u(2)).toString(),ie=q===O?b:R,fr=bt.clone().toUnitMultiplier(),x=w((q===N?"-":"")+"1/({0}*{1})*{4}({3})^({2})*{5}({3})",rt,gn,F,jn,q,ie),W=i.parse(x),fr.power=fr.power.subtract(new u(2)),fr.power.equals(0)&&(fr=i.parse(fr)),Me=i.add(W,i.multiply(new g(F/gn),Ge.integrate(fr,ut,nt)))):q!==fe&&q!==J||!bt.power.equals(2)?Ge.integration.stop():Me=Ge.integrate(bt.fnTransform(),ut,nt):Ge.integration.stop();Me.multiplier=Me.multiplier.multiply(De)}}else if(en===V)Me=Ge.integration.partial_fraction(bt,ut,nt);else if(en===te){var Ue=(bt=bt.getDenom().group===ne?i.expand(bt):bt).stripVar(ut),p=i.divide(bt.clone(),Ue.clone());if(Ue.contains(ut)&&(p=i.multiply(p,Ue),Ue=new g(1)),p.group!==te){if(p.equals(1))return Ge.integrate(i.expand(bt),ut,nt);p.clone().toLinear().isPoly(!0)&&1<r.Utils.variables(p).length&&(p=r.Algebra.Factor.factor(p)),Me=Ge.integrate(p,ut,nt)}else{var D=p.collectSymbols().sort(function(Dn,Mr){return Dn.group===Mr.group?Number(Dn.power)===Number(Mr.power)?Dn<Mr?1:-1:Mr.power-Dn.power:Mr.group-Dn.group}).map(function(Dn){return Dn=g.unwrapSQRT(Dn,!0),Dn.fname==="exp"?i.parse(w("({1})*e^({0})",Dn.args[0],Dn.multiplier)):Dn}),Q=D.length;if(bt.power<0){if(Q===2)return Ge.integrate(i.expand(bt),ut,nt,yt)}else if(Q===2){try{Me=Ge.integration.u_substitution(D,ut)}catch{}if(!Me){var me,He,_t,Gt,bt,un,Yt,fn,Un,Xt,Ke,Pn,er,nr,or,Cn,Hn,mr,Er,ei,hr,v,H,ue,Se,Xe,pt,dt,Ze,tn,an=D[0].group,ln=D[1].group,k=D[0],z=D[1],We=k.fname,it=z.fname;if(bt=i.multiply(k.clone(),z.clone()),an===he&&ln===he)if(We===ce||it===ce)Me=Ge.integration.by_parts(bt.clone(),ut,nt,yt);else{D.sort(function(Dn,Mr){return Mr.fname>Dn.fname});var Nt,Dt=k.args[0];Dt.isLinear()&&(Dt.group===le||Dt.group===te||Dt.group===ne)||Ge.integration.stop(),P=(Nt=Ge.integration.decompose_arg(Dt,ut))[1],rt=Nt[0],P.isLinear()||Ge.integration.stop();var cn,Sn=z.args[0];if(Dt.equals(Sn))if(We===je&&it===_e||We===_e&&it===je)if(k.power.lessThan(0)&&Ge.integration.stop(),We===je&&k.power.add(z.power).equals(0))k.fname=b,k.updateHash(),Me=Ge.integrate(k,ut,nt);else if(I(k.power)&&it===_e&&z.power.lessThan(0)){var tt=Number(k.power)/2,hn=i.parse(w("(1-cos({0})^2)^({1})",k.args[0],tt));Me=Ge.integrate(i.expand(i.multiply(hn,z.clone())),ut,nt,yt)}else if(I(k.power)&&it===je&&z.power.lessThan(0))tt=Number(k.power)/2,hn=i.parse(w("(1-sin({0})^2)^({1})",k.args[0],tt)),Me=Ge.integrate(i.expand(i.multiply(hn,z.clone())),ut,nt,yt);else{var bn,zn=r.Utils.even(k.power),xn=r.Utils.even(z.power);if(Me=new g(0),zn&&xn){var Ir=function(cr){var Tr=cr.power/2,Tr=cr.fname===_e?"((1/2)+(cos(2*("+cr.args[0]+"))/2))^"+Tr:"((1/2)-(cos(2*("+cr.args[0]+"))/2))^"+Tr;return i.parse(Tr)},rt=Ir(k),Et=Ir(z),qn=i.multiply(rt,Et);return(mn=i.expand(qn)).each(function(cr){Me=i.add(Me,Ge.integrate(cr,ut,nt))}),i.multiply(Me,Ue)}fr=zn?(bn=k,z):(bn=z,k);var mn,dr=bn.fname===_e?-1:1,kr=((tt=fr.power)-1)/2,yr=i.parse("(1-"+bn.fname+r.Utils.inBrackets(Dt)+"^2)^"+kr);(mn=i.expand(i.multiply(new g(dr),i.multiply(bn.clone(),yr)))).each(function(Dn){Me=i.add(Me,Ge.integration.poly_integrate(Dn.clone()))})}else We===O&&it===b&&P.isLinear()&&z.isLinear()?Me=i.parse(w("sec({0})^({1})/({1})",k.args[0],k.power)):We===b&&it===O&&P.isLinear()?k.isLinear()&&z.isLinear()?Me=i.divide(i.symfunction(O,[Dt.clone()]),rt):I(k.power)?(se=Number(k.power)/2,qn=i.parse(w("(sec({0})^2-1)^({1})",k.args[0],se)),Me=Ge.integrate(i.expand(i.multiply(qn,z)),ut,nt)):Ge.integration.stop():Me=We===O&&it===_e?(k.fname=_e,k.invert().updateHash(),Ge.integrate(i.multiply(k,z),ut,nt)):We===je&&it===N?(z.fname=je,z.invert().updateHash(),Ge.integrate(i.multiply(k,z),ut,nt)):(qn=We!==b||it!==_e&&it!==je||!z.power.lessThan(0)?i.multiply(k.fnTransform(),z.fnTransform()):i.multiply(k.fnTransform(),z),Ge.integrate(i.expand(qn),ut,nt));else We!==je&&We!==_e||it!==je&&it!==_e?Ge.integration.stop():k.isLinear()&&z.isLinear()?Me=k.args[0].isLinear()&&z.args[0].isLinear()?(it===je?(Vt=k.args[0],cn=z.args[0]):(cn=k.args[0],Vt=z.args[0]),Zt=i.parse(w("(sin(({1})+({0}))+sin(({1})-({0})))/2",Vt.toString(),cn.toString())),Ge.integrate(Zt,ut,nt)):(_r=Ft(D),Ge.integrate(i.expand(_r),ut,nt)):(_r=new g(1),D.map(function(Dn){Dn=Dn.fnTransform(),_r=i.multiply(_r,Dn)}),qn=i.expand(_r),(Me=Ge.integrate(qn,ut,nt)).hasIntegral()&&(Me=Ge.integrate(Ft(_r.collectSymbols()),ut,nt)))}else an===he&&ln===ne?(me=k.isLinear(),k.fname===_e&&me&&z.power.equals(-1)?Me=i.symfunction("Ci",[k.args[0]]):k.fname===_e&&z.power.equals(-1)?Me=Ge.integrate(i.multiply(k.fnTransform(),z.clone()),ut,nt):k.fname===fe&&me&&z.power.equals(-1)?Me=i.symfunction("Chi",[k.args[0]]):k.fname===fe&&z.power.equals(-1)?Me=Ge.integrate(i.multiply(k.fnTransform(),z.clone()),ut,nt):k.fname===je&&me&&z.power.equals(-1)?Me=i.symfunction("Si",[k.args[0]]):k.fname===je&&z.power.equals(-1)?Me=Ge.integrate(i.multiply(k.fnTransform(),z.clone()),ut,nt):k.fname===J&&me&&z.power.equals(-1)?Me=i.symfunction("Shi",[k.args[0]]):k.fname===J&&z.power.equals(-1)?Me=Ge.integrate(i.multiply(k.fnTransform(),z.clone()),ut,nt):k.fname===ce&&z.power.equals(-1)?Me=Ge.integration.poly_integrate(k,ut,nt):k.fname==="erf"?z.power.equals(1)&&($e=(Cn=Ge.integration.decompose_arg(k.args[0],ut))[0],st=Cn[1],jn=k.args[0].toString(),Me=i.parse(w("(e^(-(({2}))^2)*(sqrt(pi)*e^((({2}))^2)*(2*({0})^2*({1})^2-3)*erf(({2}))+2*({0})*({1})-2))/(4*sqrt(pi)*({0})^2)",$e,st,jn))):Me=Ge.integration.by_parts(bt,ut,nt,yt)):an===Ce&&ln===ne?(P=We===ce?Ge.integration.decompose_arg(k.args[0],ut)[1]:null,Me=k.isE()&&(k.power.group===ne||k.power.group===te)&&z.power.equals(-1)?i.symfunction("Ei",[k.power.clone()]):We===ce&&P.value===z.value?Ge.integration.poly_integrate(k,ut,nt):Ge.integration.by_parts(bt,ut,nt,yt)):an===V&&ln===ne?(bt=z.value===k.value&&k.power.equals(-1)?(He=Math.min.apply(null,r.Utils.keys(k.symbols)),_t=Math.min(He,z.power),(Gt=z.clone()).power=new u(_t),z=i.divide(z,Gt.clone()),qn=new g(0),k.each(function(Dn){qn=i.add(qn,i.divide(Dn.clone(),Gt.clone()))}),qn.multiplier=k.multiplier,i.divide(z,qn)):i.expand(bt),Me=Ge.integration.partial_fraction(bt,ut,nt)):an===le&&ln===ne?(Zt=k.clone().toLinear(),un=r.Algebra.degree(Zt,i.parse(ut)).equals(1),k.power.equals(-.5)?(rt=(Nt=Ge.integration.decompose_arg(k.clone().toLinear(),ut))[0].negate(),P=Nt[1],Et=Nt[3],hr=Number(k.power),v=Number(z.power),T(v)&&r.Utils.even(v)&&P.power.equals(2)?(Hn=i.divide(i.multiply(i.pow(Et.clone(),new g(2)),i.symfunction(Be,[i.divide(Et.clone(),rt.clone())])),i.pow(rt.clone(),new g(2))),Hn=i.multiply(Hn,i.symfunction(Be,[Et]).invert()),(Yt=i.parse("sin(u)")).power=Yt.power.multiply(z.power),St=Ge.integrate(Yt,"u",nt),fn=i.parse("asin(sqrt("+rt+"/"+Et+")*"+ut+")"),Me=i.multiply(Hn,St.sub(new g("u"),fn))):hr===-.5&&(Un=function(Dn,Mr){if(Mr=i.parse(Ge.integrate(Dn,ut,nt,yt).sub(ut,w(Mr,ut))),!Mr.hasIntegral())return Mr},v===-1?Me=Un(i.expand(i.expand(i.pow(i.multiply(k.invert(),z.invert()),new g(2)))).invert(),"sqrt(1-1/({0})^2)"):v===-2&&(Me=Un(i.sqrt(i.expand(i.divide(i.pow(bt,new g(2)).invert(),i.pow(new g(ut),new g(2))).negate())).invert(),"sqrt(1-1/({0})^2)")))):k.power.equals(-1)&&z.isLinear()&&un?Me=Ge.integration.partial_fraction(bt,ut,nt):!k.power.lessThan(0)&&T(k.power)?(Xt=i.expand(k),Me=new g(0),Xt.each(function(Dn){Dn.group===V?Dn.each(function(Mr){Me=i.add(Me,Ge.integrate(i.multiply(z.clone(),Mr),ut,nt))}):Me=i.add(Me,Ge.integrate(i.multiply(z.clone(),Dn),ut,nt))})):k.power.lessThan(-2)?Me=Ge.integration.by_parts(bt,ut,nt,yt):k.power.lessThan(0)&&z.power.greaterThan(1)?(rt=(Nt=Ge.integration.decompose_arg(k.clone().toLinear(),ut))[0].negate(),P=Nt[1],Et=Nt[3],Tt=k.clone().toLinear(),Me=P.group!==V&&P.isLinear()?(se=Number(z.power),bn=new g(H="_u_"),Ke=i.expand(i.divide(i.pow(i.subtract(bn.clone(),Et.clone()),new g(se)),bn.clone())),(Pn={})[H]=Tt,er=i.parse(Ke,Pn),Ge.integrate(er,ut,0)):z.power.greaterThan(P.power)||z.power.equals(P.power)?(nr=new r.Algebra.Classes.Factors,k=r.Algebra.Factor.coeffFactor(k.invert(),nr),(or=r.Algebra.divide(z,k)).group!==te?(Me=new g(0),or.each(function(Dn){Me=i.add(Me,Ge.integrate(Dn,ut,nt))}),nr.each(function(Dn){Me=i.divide(Me,Dn)}),i.expand(Me)):Ge.integration.by_parts(bt,ut,nt,yt)):Ge.integration.partial_fraction(bt,ut,nt)):k.power.den.equals(2)?(rt=(Cn=Ge.integration.decompose_arg(k.clone().toLinear(),ut))[3],P=Cn[1],Et=Cn[0],cn=Cn[2],Me=P.power.equals(2)&&Et.lessThan(0)?(rt.equals(1)||(Ue=i.multiply(Ue,i.pow(rt,new g(2)))),bn=ut,Hn=i.divide(i.pow(Et.clone().negate(),new g(.5)),i.pow(rt,new g(.5))),H=i.symfunction(_e,[new g(bn)]),mr=i.pow(i.symfunction(_e,[new g(bn)]),new g(k.power.num)),Er=i.pow(i.symfunction(je,[new g(bn)]),new g(z.power)),ei=i.multiply(i.multiply(mr,H),Er),(St=Ge.integrate(ei,bn,nt)).sub(bn,i.symfunction(B,[i.multiply(new g(ut),Hn)]))):Ge.integration.partial_fraction(bt,ut,nt,yt)):un&&(Me=Ge.integration.partial_fraction(bt,ut,nt))):k.isComposite()&&z.isComposite()?(Me=new g(0),k.power.greaterThan(0)&&z.power.greaterThan(0)?(mn=i.expand(bt)).each(function(Dn){Me=i.add(Me,Ge.integrate(Dn,ut,nt))},!0):(hr=Number(k.power),v=Number(z.power),hr<0&&0<v&&(qn=k,k=z,z=qn),hr===-1&&v===-1?Me=Ge.integration.partial_fraction(bt,ut):k.each(function(Dn){Dn=i.multiply(Dn,z.clone()),Dn=Ge.integrate(Dn,ut,nt),Me=i.add(Me,Dn)}))):an===le&&D[0].power.greaterThan(0)?(k=i.expand(k),Me=new g(0),k.each(function(Dn){Me=i.add(Me,Ge.integrate(i.multiply(Dn,z.clone()),ut,nt))},!0)):an===he&&ln===Ce&&r.Utils.in_htrig(k.fname)?(k=k.fnTransform(),Me=Ge.integrate(i.expand(i.multiply(k,z)),ut,nt)):an===he&&ln===le||ln===he&&an===le?(ln===he&&an===le&&(qn=k,k=z,z=qn),H=g.unwrapSQRT(Ge.diff(k.clone(),ut),!0),ue=g.unwrapSQRT(z,!0),H.power.equals(ue.power)?(se=new g(z.power),Xe=H.clone().toLinear(),pt=z.clone().toLinear(),(Se=r.Algebra.divide(Xe.toLinear(),pt)).isConstant()&&(dt=i.pow(Se,se.negate()),Me=i.multiply(dt,Ge.integration.poly_integrate(k.clone())))):Me=Ge.integration.by_parts(bt,ut,nt,yt)):(Ze=k.clone().toLinear(),tn=z.clone().toLinear(),Me=an===Ce&&ln===Ce&&k.power.contains(ut)&&z.power.contains(ut)&&!Ze.contains(ut)&&!tn.contains(ut)?i.parse(w("(({0})^(({2})*({4}))*({1})^(({3})*({4})))/(log(({0})^({2}))+log(({1})^({3})))",Ze.toString(),tn.toString(),k.power.multiplier.toString(),z.power.multiplier.toString(),ut)):Ge.integration.by_parts(bt,ut,nt,yt))}}else if(Q===3&&(D[2].group===ne&&D[2].power.lessThan(2)||D[0].group===le)){var fr,vr=D[0];vr.group===le?(vr.power.greaterThan(1)&&(vr=i.expand(vr)),fr=i.multiply(D[1],D[2]),Me=new g(0),vr.each(function(Dn){Dn=i.multiply(Dn,fr.clone()),Dn=Ge.integrate(Dn,ut,nt),Me=i.add(Me,Dn)},!0)):Me=Ge.integration.by_parts(bt,ut,nt,yt)}else if(de(D)){for(var qn=new g(1),lr=0,Q=D.length;lr<Q;lr++)qn=i.multiply(qn,D[lr].fnTransform());qn=i.expand(qn),Me=Ge.integrate(qn,ut,nt)}else{var _r=Ft(D);Me=Ge.integrate(i.expand(_r),ut,nt)}}Me=i.multiply(Me,Ue)}}else Me=i.multiply(bt.clone(),i.parse(ut));if(Me)return Me}catch(Dn){if(!(Dn instanceof qe||Dn instanceof r.exceptions.DivisionByZero))throw Dn}return i.symfunction("integrate",[et,Ct])},!1))},defint:function(et,Ct,nt,yt){yt=yt||"x";function Ut(nn,De,se){try{return i.parse(nn,De)}catch{return Ge.Limit.limit(nn,yt,se)}}var Ht,Me,ut=r.Utils.variables(et),en=et.hasTrig();return ut.length!==1||yt||(yt=ut[0]),en||(Ht=Ge.integrate(et,yt)),en||Ht.hasIntegral()?ut.length===1&&Ct.isConstant()&&nt.isConstant()?(Me=r.Utils.build(et),new g(r.Math2.num_integrate(Me,Number(Ct),Number(nt)))):i.symfunction("defint",[et,Ct,nt,yt]):(Me={},(et={})[yt]=nt,Me[yt]=Ct,nt=Ut(Ht,et,nt),Ct=Ut(Ht,Me,Ct),i.subtract(nt,Ct))},Limit:{interval:function(et,Ct){return i.parse(w("[{0}, {1}]",et,Ct))},diverges:function(){return Ge.Limit.interval("-Infinity","Infinity")},divide:function(et,Ct,nt,yt,Ut){if(!(Ut++>h.max_lim_depth)){et.clone();var Ht=Ct.clone();if(Ct.fname==="abs"){var Me=et.sign(),ut=yt.sign();if(yt.isInfinity)return i.multiply(new g(Me),new g(ut));if(yt.equals(0)){var ut=i.parse(et.multiplier),en=i.parse(Ct.multiplier);return i.divide(i.multiply(ut,Ge.Limit.interval("-1","1")),en)}Ge.Limit.diverges()}var nn=function(Et){if(r.Utils.isVector(Et)){for(var Vt=0;Vt<Et.elements.length;Vt++)if(!Et.elements[Vt].isInfinity)return!1;return!0}return Et.isInfinity},De=function(Et,Vt){return!r.Utils.isVector(Et)&&Et.equals(Vt)};do var se,Ae,lt=A(Ge.Limit.limit(et.clone(),nt,yt,Ut)),Qe=A(Ge.Limit.limit(Ct.clone(),nt,yt,Ut)),Tt=nn(lt)&&nn(Qe)||De(lt,0)&&De(Qe,0);while(Tt&&(se=Ge.diff(et.clone(),nt),Ae=Ge.diff(Ct.clone(),nt),et=(Ae=i.expand(i.divide(se,Ae))).getNum(),Ct=Ae.getDenom()),Tt);return en=Qe.equals(0),Ht=Number(Ht.power),yt.isConstant(!0)&&en?g.infinity(r.Utils.even(Ht)&&lt.lessThan(0)?-1:void 0):en?Ge.Limit.diverges():i.divide(lt,Qe)}},rewriteToLog:function(et){var Ct=et.power.clone();return et.toLinear(),i.pow(new g("e"),i.multiply(Ct,i.symfunction(h.LOG+"",[et])))},getSubbed:function(et,Ct,nt){var yt;et.group===Ce&&(et=Ge.rewriteToLog(et));try{yt=et.sub(Ct,nt)}catch{yt=et}return yt},isInterval:function(et){return r.Utils.isVector(et)},isConvergent:function(et){return!(Ge.Limit.isInterval(et)&&et.elements[0].isInfinity&&et.elements[1].isInfinity||et.containsFunction("limit"))},limit:function(et,Ct,nt,yt){if(et.isLinear()&&et.isComposite()){var Ut=new g(0);return et.each(function(we){Ut=i.add(Ut,Ge.Limit.limit(we,Ct,nt,yt))},!0),Ut}if(et=r.Algebra.Simplify.simplify(et),yt=yt||1,!(yt++>h.max_lim_depth)){var Ht=i.parse(et.multiplier);et.toUnitMultiplier();try{if(et.isConstant(!0))Et=et;else{var Me={};Me[Ct]=nt;try{var ut=i.parse(et.sub(Ct,nt),Me);(ut.isConstant(!0)||ut.isInfinity)&&(Et=ut)}catch{}if(!Et){var en,nn=et.getNum(),De=et.getDenom();if(De.isConstant(!0)){if(et.group===Ce){var se,Ae,lt,Qe,Tt,Et,Vt=et.clone().toLinear(),rt=(et.power.clone(),Vt.getNum()),P=Vt.getDenom(),Re=r.Utils.decompose_fn(P,Ct,!0);Et=rt.group===ne&&rt.multiplier.isOne()&&Re.ax.group===ne&&Re.b.isConstant(!0)&&Re.a.isOne()&&Re.b.isConstant(!0)?i.parse(w("(1/e^({0}))",Re.b)):(Ae=(se=Ge.Limit.rewriteToLog(et.clone())).power.clone(),lt=se.clone().toLinear(),Qe=Ge.Limit.limit(lt,Ct,nt,yt),Tt=Ge.Limit.limit(Ae,Ct,nt,yt),i.pow(Qe,Tt))}else if(et.group===he&&et.args.length===1){var ke,ht=Ge.Limit.limit(et.args[0],Ct,nt,yt);if(r.Utils.isVector(ht))return Et=ht.map(function(we){return et.clone().args[0]=we,Ge.Limit.limit(i.symfunction(et.fname,[we]),Ct,nt,yt)}),i.multiply(Ht,Et);if(ht.isConstant(!0)){var Mt=i.symfunction(et.fname,[ht]);try{A(Mt),ke=!0}catch{ke=!1}}if(ke)Et=Mt;else if(Ge.Limit.isConvergent(ht))if(et.fname===ce)switch(ht.toString()){case"0":Et=g.infinity().negate();break;case"Infinity":case"-Infinity":Et=g.infinity()}else if(et.fname!==_e&&et.fname!==je||!nt.isInfinity){if(et.fname===b){var Ot=et.args[0],wt=Ot.getNum(),ft=Ot.getDenom(),Y=wt.toUnitMultiplier();(nt.isInfinity||Y.equals("pi")&&ft.equals(2))&&(Et=divergent())}else if(et.fname===h.FACTORIAL&&ht.isInfinity)return g.infinity()}else Et=Ge.Limit.interval(-1,1)}else if(et.group===ne){if(0<et.power)return i.parse(et,Me);Et=r.Utils.even(et.power)?g.infinity():Ge.Limit.diverges()}else if(et.group===te){for(var Vt=(Lt=et.collectSymbols().sort(function(tt,St){return tt.group-St.group})).pop(),Ee=A(Ge.Limit.limit(Vt,Ct,nt,yt));Lt.length;){var Je=Lt.pop(),Fe=A(Ge.Limit.limit(Je,Ct,nt,yt));Ee.isInfinity||!Ge.Limit.isConvergent(Ee)&&Fe.equals(0)||Ee.equals(0)&&Ge.Limit.isConvergent(Fe)?((Je=Je.containsFunction(ce)?[Vt,Vt=Je][0]:Je).invert(),Ee=Ee.isInfinity&&Fe.isInfinity?g.infinity():Ge.Limit.divide(Vt,Je,Ct,nt,yt)):(Ee=i.multiply(Ee,Fe),Vt=i.multiply(Vt,Je))}Et=Ee}else if(et.isComposite()){et.isLinear()||(et=i.expand(et)),Et=new g(0);for(var Lt=et.collectSymbols().sort(function(we,tt){return tt.group-we.group}),Bt=[],zt=new g(0),ve=0,Ye=Lt.length;ve<Ye;ve++)(X=Lt[ve].clone()).group===he||X.group===te&&X.hasFunc()?zt=i.add(zt,X):Bt.push(X);for(Bt.unshift(zt),Bt.length!==1&&(Lt=Bt),ve=0,Ye=Lt.length;ve<Ye;ve++){var X=Lt[ve];try{en=Ge.Limit.limit(X,Ct,nt,yt)}catch{en=Ge.Limit.diverges()}try{Et=i.add(Et,en)}catch{if(yt++>h.max_lim_depth)return;Et=Ge.Limit.limit(Ge.diff(et,Ct),Ct,nt,yt)}}}}else Et=Ge.Limit.divide(nn,De,Ct,nt,yt)}}Et=Et||i.symfunction("limit",[et,Ct,nt])}catch{Et=i.symfunction("limit",[et,Ct,nt])}return i.multiply(Ht,Et)}}},Fresnel:{S:function(et){return et.isConstant(!0)?Ge.defint(i.parse("sin(pi*x^2/2)"),g(0),et,"x"):i.symfunction("S",arguments)},C:function(et){return et.isConstant(!0)?Ge.defint(i.parse("cos(pi*x^2/2)"),g(0),et,"x"):i.symfunction("C",arguments)}}};s.register([{name:"diff",visible:!0,numargs:[1,3],build:function(){return Ge.diff}},{name:"sum",visible:!0,numargs:4,build:function(){return Ge.sum}},{name:"product",visible:!0,numargs:4,build:function(){return Ge.product}},{name:"integrate",visible:!0,numargs:[1,2],build:function(){return Ge.integrate}},{name:"defint",visible:!0,numargs:[3,4],build:function(){return Ge.defint}},{name:"S",visible:!0,numargs:1,build:function(){return Ge.Fresnel.S}},{name:"C",visible:!0,numargs:1,build:function(){return Ge.Fresnel.C}},{name:"limit",visible:!0,numargs:[3,4],build:function(){return Ge.Limit.limit}}]),s.updateAPI()})(),s=r4(),m9(),p9(),(function(){var r,i=s.getCore(),u=i.PARSER,h=i.Algebra,f=i.Calculus,g=f.integration.decompose_arg,y=i.Utils.evaluate,$=i.Utils.remove,T=i.Utils.format,w=i.Utils.build,I=i.Utils.knownVariable,A=i.Symbol,K=i.Utils.isSymbol,ne=i.Utils.variables,he=i.groups.S,V=i.groups.PL,le=i.groups.CB,te=i.groups.CP,Ce=i.groups.FN,Oe=i.Settings,ce=i.Utils.range,Be=i.Utils.isArray;function je(R,B){if(B.isConstant()&&R.isConstant()&&!R.equals(B)||R.equals(i.Settings.IMAGINARY)&&B.isConstant(!0)||B.equals(i.Settings.IMAGINARY)&&R.isConstant(!0))throw new i.exceptions.NerdamerValueError(R.toString()+" does not equal "+B.toString());this.LHS=R,this.RHS=B}i.Settings.SOLVE_RADIUS=1e3,i.Settings.ROOTS_PER_SIDE=10,i.Settings.make_pi_conversions=!1,i.Settings.STEP_SIZE=.1,i.Settings.EPSILON=1e-13,i.Settings.MAX_NEWTON_ITERATIONS=200,i.Settings.MAX_NON_LINEAR_TRIES=12,i.Settings.NON_LINEAR_JUMP_AT=50,i.Settings.NON_LINEAR_JUMP_SIZE=100,i.Settings.NON_LINEAR_START=.01,i.Settings.NEWTON_SLICES=200,i.Settings.NEWTON_EPSILON=2*Number.EPSILON,i.Settings.SOLUTION_PROXIMITY=1e-14,i.Settings.FILTER_SOLUTIONS=!0,i.Settings.MAX_SOLVE_DEPTH=10,i.Settings.ZERO_EPSILON=1e-9,i.Settings.MAX_BISECTION_ITER=2e3,i.Settings.BI_SECTION_EPSILON=1e-12,i.Symbol.prototype.hasTrig=function(){return this.containsFunction(["cos","sin","tan","cot","csc","sec"])},i.Symbol.prototype.hasNegativeTerms=function(){if(this.isComposite())for(var R in this.symbols){var B=this.symbols[R];if(B.group===V&&B.hasNegativeTerms()||this.symbols[R].power.lessThan(0))return!0}return!1},je.prototype={toString:function(){return this.LHS.toString()+"="+this.RHS.toString()},text:function(R){return this.LHS.text(R)+"="+this.RHS.text(R)},toLHS:function(R){var B=(j=(R=R===void 0)?this.removeDenom():this.clone()).LHS,j=j.RHS;return B.isConstant(!0)&&!j.isConstant(!0)&&([B,j]=[j,B]),j=u.subtract(B,j),new je(R?u.expand(j):j,new A(0)).removeDenom().LHS},removeDenom:function(){var R=this.LHS.clone(),B=this.RHS.clone(),j=u.multiply(R.getDenom(),B.getDenom());if(R=u.expand(u.multiply(R,j.clone())),(B=u.expand(u.multiply(B,j))).group===te&&B.group!==te&&(J=R,R=B,B=J),R.group===le){var J=new A(R.multiplier),fe=B.clone();R.each(function(xe){xe.power.lessThan(0)?fe=u.divide(fe,xe):J=u.multiply(J,xe)}),R=J,B=fe}else if(R.group===te)for(var Ne in R.symbols){var qe=R.symbols[Ne];if(qe.group===le){for(var de in qe.symbols)if(de=qe.symbols[de],de.power.lessThan(0))return new je(u.expand(u.multiply(de.clone().toLinear(),R)),u.expand(u.multiply(de.clone().toLinear(),B)))}}return new je(R,B)},clone:function(){return new je(this.LHS.clone(),this.RHS.clone())},sub:function(R,B){var j=this.clone();return j.LHS=j.LHS.sub(R.clone(),B.clone()),j.RHS=j.RHS.sub(R.clone(),B.clone()),j},isZero:function(){return i.Utils.evaluate(this.toLHS()).equals(0)},latex:function(R){return[this.LHS.latex(R),this.RHS.latex(R)].join("=")}},u.equals=function(R,B){return new je(R,B)},r=u.functions.simplify[0],u.functions.simplify[0]=function(R){return R instanceof je?(R.LHS=r(R.LHS),R.RHS=r(R.RHS),R):r(R)},i.Expression.prototype.equals=function(R){return R instanceof i.Expression&&(R=R.symbol),new je(this.symbol,R)},i.Expression.prototype.solveFor=function(R){var B;if(this.symbol instanceof je){if(this.symbol.LHS.isConstant()&&this.symbol.RHS.equals(R))return new i.Expression(this.symbol.LHS);if(this.symbol.RHS.isConstant()&&this.symbol.LHS.equals(R))return new i.Expression(this.symbol.RHS);B=this.symbol.toLHS()}else B=this.symbol;return N(B,R).map(function(j){return new i.Expression(j)})},i.Expression.prototype.expand=function(){if(this.symbol instanceof je){var R=this.symbol.clone();return R.RHS=u.expand(R.RHS),R.LHS=u.expand(R.LHS),new i.Expression(R)}return new i.Expression(u.expand(this.symbol))},i.Expression.prototype.variables=function(){return this.symbol instanceof je?i.Utils.arrayUnique(ne(this.symbol.LHS).concat(ne(this.symbol.RHS))):ne(this.symbol)};function _e(R,B){return u.equals(R,B)}i.Equation=je;var b=i.Utils.checkAll=function(R,B){for(var j=0;j<R.length;j++)if(B(R[j]))return!1;return!0},O=i.Solve={version:"2.0.3",solutions:[],solve:function(R,B){return B=N(R,String(B)),new i.Vector(B)},toLHS:function(R,B){return K(R)?R:(R instanceof je||((j=R.split("="))[1]=j[1]||"0",R=new je(u.parse(j[0]),u.parse(j[1]))),R.toLHS(B));var j},solveCircle:function(R,B){for(var j=B.map(function(Ge){return u.parse(Ge)}),J=[],fe=[],Ne=0;Ne<R.length;Ne++){for(var qe=[],de=0;de<j.length;de++)qe.push(Number(i.Algebra.degree(R[Ne],j[de])));qe.push(i.Utils.arraySum(qe,!0)),J.push(qe)}var xe,gt,ze=R[0],Ft=R[1];return J[0][2]>J[1][2]&&([Ft,ze]=[ze,Ft],[J[1],J[0]]=[J[0],J[1]]),J[0][0]===1&&J[0][2]===2&&J[1][0]===2&&J[1][2]===4&&(xe=B[0],gt=B[1],B=N(u.parse(Ft,I(xe,N(u.parse(ze),xe)[0])),gt).map(function(Ge){return Ge.toString()}),Ft=[N(u.parse(ze,I(gt,B[0])))[0].toString()],B[1]&&Ft.push(N(u.parse(ze,I(gt,B[1])))[0].toString()),Oe.SOLUTIONS_AS_OBJECT?((fe={})[xe]=Ft,fe[gt]=B):(B.unshift(gt),Ft.unshift(xe),fe=[Ft,B])),fe},solveNonLinearSystem:function(R,B,j){if(B<0)return[];j=j===void 0?i.Settings.NON_LINEAR_START:j;var et=i.Settings.MAX_NON_LINEAR_TRIES,J=Math.floor(et/2);B=B===void 0?et:B;var fe,Ne,qe,de,xe,gt=i.Settings.NON_LINEAR_JUMP_AT,ze=i.Settings.NON_LINEAR_JUMP_SIZE,Ft=!0,Ge=i.Utils.arrayGetVariables(R),et=i.Matrix.jacobian(R,Ge,function(nn){return w(nn,Ge)},!0),Ct=i.Settings.MAX_NEWTON_ITERATIONS,nt=R.map(function(nn){return w(nn,Ge)}),yt=et.map(function(nn){return w(nn,Ge)},!0),Ut=i.Matrix.cMatrix(0,Ge),Ht=i.Matrix.cMatrix(j,Ge),Me=0;do{if(Ct<Me)break;fe=(function(nn,De){return nn.map(function(se,Ae){return Number(De.get(Ae,0))})})(Ge,Ht),de=Ht.clone(),nt.forEach(function(nn,De){Ht.set(De,0,nn.apply(null,fe))});var ut=new i.Matrix;if(yt.each(function(nn,De,se){nn=nn.apply(null,fe),ut.set(De,se,nn)}),ut=ut.invert(),xe=(Ne=u.multiply(ut,Ht).negate()).subtract(Ut,function(nn){return u.parse(Number(nn))}),Ut=de.add(Ne,function(nn){return u.parse(Number(nn))}),Ht=Ut,gt<=Me&&1<qe){B===J&&(j=0);var en=J<B?1:-1;return n=B%Math.floor(J)+1,j+=en*n*ze,O.solveNonLinearSystem(R,--B,j)}}while(en=qe,Me++,qe=xe.max(),Number(qe)!==Number(en)&&Number(qe)>=Number.EPSILON);return Ft?O.systemSolutions(Ht,Ge,!0,function(nn){return i.Utils.round(Number(nn),14)}):[]},systemSolutions:function(R,B,j,J){var fe=i.Settings.SOLUTIONS_AS_OBJECT?{}:[];return R.each(function(Ne,qe){var de=(j?u.expand(Ne):Ne).valueOf();J&&(de=J.call(Ne,de)),qe=B[qe],i.Settings.SOLUTIONS_AS_OBJECT?fe[qe]=de:fe.push([qe,de])}),fe},solveSystemBySubstitution:function(R){var B=ne(R[0]),j=ne(R[1]);return R.length===2&&B.length===2&&i.Utils.arrayEqual(B,j)?O.solveCircle(R,B):[]},solveSystem:function(R,B){for(var j=0;j<R.length;j++)R[j]=O.toLHS(R[j]);var J,fe=R.length,Ne=new i.Matrix,qe=new i.Matrix,de=!1;if(B===void 0){if(!h.allLinear(R))try{return O.solveNonLinearSystem(R)}catch(Ae){if(Ae instanceof i.exceptions.DivisionByZero)return O.solveSystemBySubstitution(R)}if((J=i.Utils.arrayGetVariables(R)).length===1){var xe,gt=0;do var ze=R[gt].clone();while(0<gt&&(ze=ze.sub(J[0],xe[0])),xe=N(ze,J[0]),++gt<R.length);return Oe.SOLUTIONS_AS_OBJECT?(et={})[J[0]]=xe:et=xe.length===0?xe:[J[0],xe],et}if(J.length<R.length){for(var Ft=[],gt=R.length,j=0;j<gt-1;j++)Ft.push(u.parse(R[j]));var Ge={},et=O.solveSystem(Ft,J);Array.isArray(et)?et.forEach(function(Ae){Ge[Ae[0]]=Ae[1]}):Ge=et;for(var Ct=!0,j=gt-1;j<gt;j++)u.parse(R[j],Ge).equals(0)||(Ct=!1);if(Ct)return et}for(j=0;j<J.length;j++)s.setVar(J[j],"delete");for(j=0;j<fe;j++){for(var ze=R[j],nt=0;nt<J.length;nt++){var yt=J[nt],Ut=[];ze.each(function(lt){lt.contains(yt)&&(Ut=Ut.concat(lt.coeffs()))});var Ht=i.Utils.arraySum(Ut);Ne.set(j,nt,Ht)}var Me=ze.clone();J.map(function(Ae){Me=Me.stripVar(Ae,!0)}),qe.set(j,0,Me.negate())}}else for(J=B,de=!0,j=0;j<fe;j++){for(qe.set(j,0,new A(0)),ze=u.expand(R[j]).collectSymbols(),nt=0;nt<B.length;nt++){Ne.set(j,nt,new A(0));for(var yt=B[nt],ut=0;ut<ze.length;ut++){for(var en,nn=ze[ut],De=!1,se=0;se<B.length;se++)nn.contains(B[se])&&(De&&i.err("Multiple variables found for term "+nn),De=!0);nn.contains(yt)&&(en=g($(ze,ut),yt),Ne.set(j,nt,u.add(Ne.get(j,nt),en[0])))}}for(ut=0;ut<ze.length;ut++)qe.set(j,0,u.add(qe.get(j,0),ze[ut]))}if(J.length!==R.length||Ne.determinant().equals(0))throw new i.exceptions.SolveError("System does not have a distinct solution");return et=(Ne=Ne.invert()).multiply(qe),i.Utils.isArray(B)&&et.each(function(Ae){return Ae.negate()}),O.systemSolutions(et,J,de)},quad:function(R,B,j){return R=u.subtract(u.pow(B.clone(),A(2)),u.multiply(u.multiply(j.clone(),R.clone()),A(4))),R=u.expand(R),R=u.pow(R,A(.5)),j=u.parse(u.multiply(new A(2),j.clone())),[u.parse(T("(-({0})+({1}))/({2})",B,R,j)),u.parse(T("(-({0})-({1}))/({2})",B,R,j))]},cubic:function(R,B,j,J){return J=J.text(),j=j.text(),B=B.text(),R=`(-(${j})^3/(27*(${J})^3)+(${j})*(${B})/(6*(${J})^2)-(${R.text()})/(2*(${J})))`,B=`((${B})/(3*(${J}))-(${j})^2/(9*(${J})^2))`,j=`((${R})+sqrt((${R})^2+(${B})^3))^(1/3)+((${R})-sqrt((${R})^2+(${B})^3))^(1/3)-(${`(${j})/(3*(${J}))`})`,J="1/2+sqrt(3)/2*i",[u.parse(j),u.parse(`(${j})(${J})`),u.parse(`(${j})(${J})^2`)]},quartic:function(R,B,j,J,fe){var Ne,qe,de;return i.Utils.arrayUnique(ne(fe).concat(ne(J)).concat(ne(j)).concat(ne(B)).concat(ne(R))).map(function(xe){}),fe=fe.toString(),J=J.toString(),j=j.toString(),B=B.toString(),R=R.toString(),Ne=u.parse(T("(8*({0})*({2})-3*({1})^2)/(8*({0})^2)",fe,J,j)).toString(),qe=u.parse(T("(({1})^3-4*({0})*({1})*({2})+8*({0})^2*({3}))/(8*({0})^3)",fe,J,j,B)).toString(),de=u.parse(T("12*({0})*({4})-3*({1})*({3})+({2})^2",fe,J,j,B,R)).toString(),R=u.parse(T("2*({2})^3-9*({1})*({2})*({3})+27*({1})^2*({4})+27*({0})*({3})^2-72*({0})*({2})*({4})",fe,J,j,B,R)).toString(),R=u.parse(T("((({1})+(({1})^2-4*({0})^3)^(1/2))/2)^(1/3)",de,R)).toString(),he=u.parse(T("(1/2)*(-(2/3)*({1})+(1/(3*({0}))*(({2})+(({3})/({2})))))^(1/2)",fe,Ne,R,de)).toString(),[u.parse(T("-(({1})/(4*({0})))-({4})+(1/2)*sqrt(-4*({4})^2-2*({2})+(({3})/({4})))",fe,J,Ne,qe,he)),u.parse(T("-(({1})/(4*({0})))-({4})-(1/2)*sqrt(-4*({4})^2-2*({2})+(({3})/({4})))",fe,J,Ne,qe,he)),u.parse(T("-(({1})/(4*({0})))+({4})+(1/2)*sqrt(-4*({4})^2-2*({2})-(({3})/({4})))",fe,J,Ne,qe,he)),u.parse(T("-(({1})/(4*({0})))+({4})-(1/2)*sqrt(-4*({4})^2-2*({2})-(({3})/({4})))",fe,J,Ne,qe,he))]},divideAndConquer:function(J,B){var j=[],J=i.Algebra.Factor.factor(J);return J.group===le&&J.each(function(fe){fe=A.unwrapPARENS(fe),j=j.concat(N(fe,B))}),j},csolve:function(R,B){return i.Utils.block("IGNORE_E",function(){var j=[],J=i.Utils.decompose_fn(R,B,!0);if(J.x.group===he)for(var fe,Ne=u.parse(J.x.power),qe=Number(Ne),de=u.pow(u.divide(J.b.negate(),J.a),Ne.invert()),de=(J=A.toPolarFormArray(de))[0],xe=(J[1],de.toString()),gt=(Ne.toString(),0);gt<qe;gt++)fe=T("({0})*e^(2*{1}*pi*{2}*{3})",xe,gt,Ne,i.Settings.IMAGINARY),fe=u.parse(fe),j.push(fe);return j},!0)},getPoints:function(R,B,j){B=B||.01,j=j||[];var J=w(R),fe=Math.round(0),de=J(fe),Ne=de/Math.abs(de),qe=i.Settings.ROOTS_PER_SIDE,de=qe;return j.push(Math.floor(fe/2)),j.push(Math.abs(fe)),j.push(fe),R.each(function(xe){xe.containsFunction(i.Settings.LOG)&&j.push(.1)}),R=ce(-i.Settings.SOLVE_RADIUS,fe,B),fe=ce(fe,i.Settings.SOLVE_RADIUS,B),B=function(xe,gt){for(var ze,Ft,Ge,et=[],Ct=0,nt=xe.length;Ct<nt;Ct++)ze=xe[Ct],Ge=(Ft=J(ze))/Math.abs(Ft),isNaN(Ft)||!isFinite(Ft)||et.length>gt||(Ge!==Ne&&et.push(ze),Ne=Ge);j=j.concat(et)},B(R,de),B(fe,qe),j},bisection:function(R,B){var j=R-1,J=R+1;if(Math.sign(B(j))!==Math.sign(B(J))){var fe,Ne,qe=0;do if(fe=Math.abs(J-j),qe++>i.Settings.MAX_BISECTION_ITER||isNaN(fe))return;while(Ne=(j+J)/2,0<B(j)*B(Ne)?j=Ne:J=Ne,fe>=Oe.EPSILON);var de=(j+J)/2,R=B(de);if(!isNaN(R)&&Math.abs(R)<=i.Settings.BI_SECTION_EPSILON)return i.Utils.round(de,13)}},Newton:function(R,B,j){var J=i.Settings.MAX_NEWTON_ITERATIONS,fe=0,Ne=R;do{var de=B(Ne);if(Ne===0&&de===0){qe=0;break}if(J<++fe)return;var qe=Ne-de/j(Ne),de=Math.abs(qe-Ne),Ne=qe}while(de>Oe.NEWTON_EPSILON);if(Math.abs(B(qe))<=Oe.EPSILON)return qe},rewrite:function(R,B,j){var J,fe;B=B||new A(0),R.isComposite()&&R.isLinear()?(J=[],fe=[],R.each(function(xe){((xe=xe.clone()).fname==="sqrt"&&xe.contains(j)?J:fe).push(xe)},!0),J.length===1&&(B=u.expand(u.pow(u.subtract(B,i.Utils.arraySum(fe)),new A(2))),R=u.expand(u.pow(A.unwrapSQRT(J[0]),new A(2))))):R=A.unwrapSQRT(u.expand(R));var Ne=0,qe=R.length;if(R.group===te&&R.contains(j)&&R.isLinear()){R.distributeMultiplier();var de=new A(0);return R.each(function(xe){xe.contains(j)?(Ne++,de=u.add(de,xe.clone())):B=u.subtract(B,xe.clone())}),R=de,Ne!==qe?O.rewrite(R,B,j):[R,B]}if(R.group===le&&R.contains(j)&&R.isLinear())return R.multiplier.lessThan(0)&&(R.multiplier=R.multiplier.multiply(new i.Frac(-1)),B.multiplier=B.multiplier.multiply(new i.Frac(-1))),B.equals(0)?new A(0):(de=new A(1),R.each(function(xe){xe.contains(j)?de=u.multiply(de,xe.clone()):B=u.divide(B,xe.clone())}),O.rewrite(R=de,B,j));if(!R.isLinear()&&R.contains(j))return qe=u.parse(R.power.clone().invert()),R=u.pow(R,qe.clone()),B=u.pow(u.expand(B),qe.clone()),O.rewrite(R,B,j);if(R.group===Ce||R.group===he||R.group===V)return[R,B]},sqrtSolve:function(R,B){var j=new A(0),J=new A(0);if(R.isComposite()&&(R.each(function(Ne){Ne.fname==="sqrt"&&Ne.contains(B)?j=u.add(j,Ne.clone()):J=u.add(J,Ne.clone())}),!j.equals(0))){var fe=u.expand(u.multiply(u.parse(R.multiplier),u.subtract(u.pow(J,new A(2)),u.pow(j,new A(2)))));return N(fe,B).filter(function(Ne){if(Ne.isImaginary())return Ne;var qe={};return qe[B]=Ne,y(R,qe).equals(0)?Ne:void 0})}}},N=function(R,B,j,J,fe){if(J=J||0,J++>Oe.MAX_SOLVE_DEPTH)return j;if(R instanceof je){if(R.isZero())return[new A(0)];if(R.LHS.equals(B)&&!R.RHS.contains(B))return[R.RHS];if(R.RHS.equals(B)&&!R.LHS.contains(B))return[R.LHS]}if(R instanceof i.Vector&&(R=R.elements),B=B||"x",Be(R))return O.solveSystem.apply(void 0,arguments);j=j||[];var Ne={},gt={};if(gt[B]=0,K(R)&&y(R.getDenom(),gt).equals(0)===!0)return j;var qe=function(Fe,Lt){var Bt,zt=K(Fe);Fe===void 0||typeof Fe=="number"&&isNaN(Fe)||(Be(Fe)?Fe.forEach(function(ve){qe(ve)}):Fe.valueOf()!=="null"&&(typeof i.Settings.PRE_ADD_SOLUTION=="function"&&(Fe=i.Settings.PRE_ADD_SOLUTION(Fe)),zt||(Fe=u.parse(Fe)),i.Settings.make_pi_conversions&&Lt&&(zt=(Bt=u.divide(Fe.clone(),new A(Math.PI))).multiplier,Lt=Math.abs(zt.num),zt=Math.abs(zt.den),Lt<10&&zt<10&&(Fe=u.multiply(Bt,new A("pi")))),Bt=Fe.toString(),Ne[Bt]||j.push(Fe),Ne[Bt]=!0))};if(R.group===he&&R.contains(B)){try{var ze={};ze[B]=0,y(fe,ze,"numer"),qe(new A(0))}catch{}return j}if(R.group===le){var Ut=R.getNum();if(Ut.group!==le)return N(Ut,B,j,J,fe);var de=String(B);return Ut.each(function(Lt){Lt.contains(de)&&N(Lt,B,j,J,R)}),j}R.group===Ce&&R.fname==="sqrt"&&(R=u.pow(A.unwrapSQRT(R),new A(2)));var xe=(i.Utils.isSymbol(R)?R:O.toLHS(R,!1)).getNum(),gt=i.Utils.variables(xe),ze=gt.length;if((xe=i.Utils.isInt(xe.power)&&0<xe.power?u.parse(xe).toLinear():xe).group===he||xe.group===le&&xe.contains(B))return[new A(0)];function Ft(Fe){var Lt=new A(0),Bt=new A(0);return Fe.each(function(zt){zt.contains(B,!0)?Lt=u.add(Lt,zt.clone()):Bt=u.subtract(Bt,zt.clone())}),[Lt,Bt]}var Ge,et={},Ct=function(Fe){var Lt=(Fe=u.expand(Fe,{expand_denominator:!0,expand_functions:!0})).clone();if(Fe.symbols)for(var Bt in Fe.symbols){var zt=Fe.symbols[Bt],ve=zt.getDenom();if(!ve.isConstant(!0)&&Fe.isComposite()){var Ye=new A(0);return Fe.each(function(pn){Ye=u.add(Ye,u.multiply(pn,ve.clone()))}),Ct(u.multiply(u.parse(Fe.multiplier),Ye))}var X=g(zt,B),we=X[1].fname===i.Settings.SQRT,tt=A.unwrapSQRT(X[1]),Bt=tt.power.clone();if(!K(Bt)&&!Bt.equals(.5))if(Bt.den.gt(1)){if(we)return Fe=u.subtract(Fe,zt.clone()),Fe=u.add(Fe,u.multiply(X[0].clone(),tt)),Ct(Fe);tt=et[Bt.den],et[Bt.den]=tt?tt++:1}else{if(Bt.sign()===-1){var St=u.parse(B+"^"+Math.abs(Bt));return Fe.each(function(pn,sr){pn.contains(B)&&(Fe.symbols[sr]=u.multiply(pn,St.clone()))}),et={},Ct(u.parse(Fe))}if(zt.group===V&&(zt=i.Utils.arrayMin(i.Utils.keys(zt.symbols)),zt<0)){var St=u.parse(B+"^"+Math.abs(zt)),Zt=new A(0);return Lt.each(function(sr){Zt=u.add(Zt,u.multiply(sr.clone(),St.clone()))},!0),Zt}}}return Fe};if(O.inverseFunctionSolve=function(Fe,Lt,Bt){var zt=g(Lt.args[0],B);if(zt[1].group===he)return u.divide(u.symfunction(Fe,[u.divide(Bt,u.parse(Lt.multiplier))]),zt[0])},(xe=Ct(xe)).equals(0))return[xe];var nt,yt,Ut=i.Utils.keys(et);if(Ut.length===1&&(Ge=Ut[0],xe.each(function(Fe,Lt){var Bt,zt;!Fe.contains(B)||(Fe=(zt=(Bt=g(Fe,B))[1]).power).den.gt(1)&&(zt.power=Fe.multiply(new i.Frac(Ge)),xe.symbols[Lt]=u.multiply(zt,Bt[0]))}),xe=u.parse(xe)),qe(O.sqrtSolve(xe,B)),ze===1)if(xe.isPoly(!0)){var Ht=new i.Algebra.Classes.Factors;if(i.Algebra.Factor.factor(xe,Ht),1<Ht.getNumberSymbolics())for(var Me in Ht.factors)qe(N(Ht.factors[Me],B));else{var ut,en,nn=(ut=i.Utils.getCoeffs(xe,B)).length-1,ze=!1;gt[0]===B&&(b(ut,function(Lt){return Lt.group!==i.groups.N})&&(gt=i.Algebra.proots(xe),b(gt,function(Lt){return!i.Utils.isInt(Lt)})&&(ze=!0,gt.map(function(Lt){qe(new A(Lt))}))),ze||((R=u.parse(R))instanceof i.Equation&&(R=R.toLHS()),nn===1?qe(u.divide(ut[0],ut[1].negate())):nn===2?qe(u.expand(O.quad.apply(void 0,ut))):nn===3?(j=[],en=i.Algebra.Factor.factor(R),0<(j=[]).length?qe(j):qe(O.cubic.apply(void 0,ut))):h.proots(xe).map(qe)))}}else try{for(var De,se,Ae=xe.hasTrig(),lt=O.getPoints(xe,.1),Qe=O.getPoints(xe,.05),Tt=O.getPoints(xe,.01),P=i.Utils.arrayUnique(lt.concat(Qe).concat(Tt)).sort(function(Lt,Bt){return Lt-Bt}),Et=w(xe.clone()),Vt=[],rt=0;rt<P.length;rt++)De=P[rt],(se=O.bisection(De,Et))!==void 0?qe(se,Ae):Vt.push(De);var P=Vt,Re=f.diff(xe.clone()),ke=w(Re);for(rt=0;rt<P.length;rt++)De=P[rt],qe(O.Newton(De,Et,ke),Ae);j.sort()}catch(Fe){console.log(Fe)}else if(!xe.hasFunc(B)&&xe.isComposite())try{if((en=i.Algebra.Factor.factor(xe.clone())).group===le)en.each(function(Fe){qe(N(Fe,B))});else{switch(nn=(ut=i.Utils.getCoeffs(xe,B)).length-1){case 0:var ht,Mt,Ot,wt=(ht=Ft(xe))[0],ft=ht[1];wt.group===i.groups.EX&&(Ot=`${Mt=i.Settings.LOG}((${ft})/(${wt.multiplier}))/${Mt}(${wt.value})/${wt.power.multiplier}`,qe(u.parse(Ot)));break;case 1:qe(u.divide(ut[0],ut[1].negate()));break;case 2:qe(O.quad.apply(void 0,ut));break;case 3:qe(O.cubic.apply(void 0,ut));break;case 4:qe(O.quartic.apply(void 0,ut));break;default:qe(O.csolve(xe,B)),j.length===0&&qe(O.divideAndConquer(xe,B))}j.length===0&&qe(N(en,B,j,J))}}catch{}else try{var Y,Ee=O.rewrite(xe,null,B),wt=Ee[0],ft=Ee[1];if(wt.group===Ce)wt.fname==="abs"?qe([ft.clone(),ft.negate()]):wt.fname==="sin"?qe(O.inverseFunctionSolve("asin",wt,ft)):wt.fname==="cos"?qe(O.inverseFunctionSolve("acos",wt,ft)):wt.fname==="tan"?qe(O.inverseFunctionSolve("atan",wt,ft)):wt.fname===i.Settings.LOG?(Me=(Y=g(wt.args[0],B))[1]).group===he&&(xe=new je(Me,ft=u.divide(u.subtract(u.pow(1<wt.args.length?wt.args[1]:new A("e"),u.divide(ft,u.parse(wt.multiplier))),Y[3]),Y[0])).toLHS(),qe(N(xe,B))):qe(u.subtract(wt,ft));else{var Je=new je(wt,ft).toLHS();if(Je.equals(xe))throw new Error("Stopping. No stop condition exists");qe(N(Je,B))}}catch{try{xe.group===le?qe(0):xe.group===te&&(wt=(ht=Ft(xe))[0],ft=ht[1],wt.group===i.groups.EX&&wt.value===B&&(nt=wt.power.clone().invert(),qe(u.pow(ft,nt))))}catch{}}return Ge&&(j=j.map(function(Fe){return u.pow(Fe,new A(Ge))})),K(R)&&(yt={},j=j.filter(function(Fe){try{yt[B]=Fe;var Lt=Number(y(R,yt));return isNaN(Lt),!0}catch{return!1}})),j};s.register([{name:"solveEquations",parent:"nerdamer",numargs:-1,visible:!0,build:function(){return N}},{name:"solve",parent:"Solve",numargs:2,visible:!0,build:function(){return i.Solve.solve}},{name:"setEquation",parent:"Solve",visible:!0,build:function(){return _e}}]),s.updateAPI()})(),s=r4(),m9(),p9(),(function(){var r=s.getCore(),i=r.PARSER,u=r.Symbol,h=r.Utils.format,f=r.Utils.isVector,g=r.Utils.isArray,y=(r.Vector,r.groups.S),$=(r.groups.EX,r.groups.CP),T=r.groups.CB,w=r.groups.FN;r.Settings.Laplace_integration_depth=40,u.prototype.findFunction=function(A){if(this.group===w&&this.fname===A)return this.clone();var K;if(this.symbols){for(var ne in this.symbols)if(K=this.symbols[ne].findFunction(A))break}return K};var I=r.Extra={version:"1.4.2",LaPlace:{transform:function(A,K,ne){A=A.clone(),K=K.toString();var he=(A=u.unwrapSQRT(A,!0)).stripVar(K),V=A.group;if((A=i.divide(A,he.clone())).isConstant()||!A.contains(K,!0))te=i.parse(h("({0})/({1})",A,ne));else if(V===y&&r.Utils.isInt(A.power))var le=String(A.power),te=i.parse(h("factorial({0})/({1})^({0}+1)",le,ne));else if(A.group===y&&A.power.equals(.5))te=i.parse(h("sqrt(pi)/(2*({0})^(3/2))",ne));else if(A.isComposite())te=new u(0),A.each(function(ce){te=i.add(te,I.LaPlace.transform(ce,K,ne))},!0);else if(!A.isE()||A.power.group!==y&&A.power.group!==T)if(A.group!==w||["sin","cos","sinh","cosh"].indexOf(A.fname)===-1||A.args[0].group!==y&&A.args[0].group!==T){var Ce,le=r.Settings.integration_depth<r.Settings.Laplace_integration_depth;le&&(Ce=r.Settings.integration_depth,r.Settings.integration_depth=r.Settings.Laplace_integration_depth),r.Utils.block("PARSE2NUMBER",function(){var Be=K,je=A.sub(K,Be),je=i.parse("e^(-"+ne+"*"+Be+")*"+je);if((te=r.Calculus.integrate(je,Be)).hasIntegral())return i.symfunction("laplace",arguments);te=te.sub(K,0),te=(te=i.expand(i.multiply(te,new u(-1)))).sub(Be,K)},!1),te=r.Utils.block("PARSE2NUMBER",function(){return i.parse(te)},!0),le&&(r.Settings.integration_depth=Ce)}else switch(Oe=A.args[0].stripVar(K),A.fname){case"sin":te=i.parse(h("({0})/(({1})^2+({0})^2)",Oe,ne));break;case"cos":te=i.parse(h("({1})/(({1})^2+({0})^2)",Oe,ne));break;case"sinh":te=i.parse(h("({0})/(({1})^2-({0})^2)",Oe,ne));break;case"cosh":te=i.parse(h("({1})/(({1})^2-({0})^2)",Oe,ne))}else{var Oe=A.power.stripVar(K);te=i.parse(h("1/(({1})-({0}))",Oe,ne))}return i.multiply(te,he)},inverse:function(A,K,ne){var he=A.clone();return r.Utils.block("POSITIVE_MULTIPLIERS",function(){if((A=A.group===T?r.Algebra.PartFrac.partfrac(i.expand(A),K):A).group===y||A.group===T||A.isComposite()){var V,le,te,Ce,Oe,ce,Be,je,_e,b,O,N,R,B,j,J=function(){(ce=i.multiply(ce,V)).multiplier=ce.multiplier.multiply(A.multiplier),ce=i.divide(ce,Ce.a)},fe=A.multiplier.clone();if(A.toUnitMultiplier(),V=A.getNum(),(le=A.getDenom().toUnitMultiplier()).group===$?(Oe=le.power.clone(),le.toLinear()):Oe=new r.Frac(1),te=K.toString(),Ce=r.Utils.decompose_fn(le,te,!0),r.Utils.decompose_fn(i.expand(V.clone()),te,!0),V.multiplier=V.multiplier.multiply(fe),(le.group===y||le.group===T)&&Ce.x.value===te&&Ce.b.equals(0)&&r.Utils.isInt(Ce.x.power))N=Ce.x.power-1,R=r.Math2.factorial(N),ce=i.divide(i.pow(ne,new u(N)),new u(R)),J();else if(le.group===$&&Oe.equals(1))Ce.x.group===r.groups.PL&&r.Algebra.degree(le).equals(2)?(_e=r.Algebra.sqComplete(le,te),b=r.Utils.getU(le),B=r.Utils.decompose_fn(_e.a,te,!0).b,O=I.LaPlace.inverse(i.parse(`1/((${b})^2+(${_e.c}))`),b,ne),ce=i.multiply(O,i.parse(`(${fe})*e^(-(${B})*(${ne}))`))):Ce.x.isLinear()&&!V.contains(te)?(ne=i.divide(ne,Ce.a.clone()),ce=i.parse(h("(({0})^({3}-1)*e^(-(({2})*({0}))/({1})))/(({4})*({1})^({3}))",ne,Ce.a,Ce.b,Oe,R=(N=Oe-1)===0||N===1?"1":`(${Oe}-1)!`)),J()):Ce.x.group===y&&Ce.x.power.equals(2)&&(V.contains(te)?(B=new u(1),V.group===T&&(Be=new u(1),V.each(function(ze){ze.contains(te)?Be=i.multiply(Be,ze):B=i.multiply(B,ze)}),V=Be),_e=(je=r.Utils.decompose_fn(V,te,!0)).a,b=je.b,O=_e.containsFunction("sin"),N=_e.containsFunction("cos"),R=b.containsFunction("cos"),J=b.containsFunction("sin"),je.x.value===te&&je.x.isLinear()&&!(O&&R||N||J)?ce=i.parse(h("(({1})*cos((sqrt(({2})*({3}))*({0}))/({2})))/({2})",ne,je.a,Ce.a,Ce.b)):O&&R&&(O=_e.findFunction("sin"),R=b.findFunction("cos"),O.args[0].equals(R.args[0])&&!O.args[0].contains(te)&&(Ne=i.divide(b,R.toUnitMultiplier()).toString(),R=O.args[0].toString(),j=Ce.b,O=i.divide(_e,O.toUnitMultiplier()),ce=i.parse(h("(({1})*({2})*cos({3})*sin(sqrt({4})*({0})))/sqrt({4})+({1})*sin({3})*({5})*cos(sqrt({4})*({0}))",ne,B,Ne,R,j,O))))):ce=i.parse(h("(({1})*sin((sqrt(({2})*({3}))*({0}))/({2})))/sqrt(({2})*({3}))",ne,V,Ce.a,Ce.b)));else if(Ce.x.power.num&&Ce.x.power.num.equals(3)&&Ce.x.power.den.equals(2)&&V.contains("sqrt(pi)")&&!V.contains(te)&&V.isLinear()){var Ne=i.divide(V.clone(),i.parse("sqrt(pi)"));ce=i.parse(h("(2*({2})*sqrt({0}))/({1})",ne,Ce.a,Ne,V))}else if(Oe.equals(2)&&Ce.x.power.equals(2))if(V.contains(te))if((je=r.Utils.decompose_fn(i.expand(V.clone()),te,!0)).x.isComposite()){var qe=[],de=V.collectSymbols(function(ze){ze=u.unwrapPARENS(ze);var Ft=r.Utils.decompose_fn(ze,te,!0);return Ft.symbol=ze,Ft}).sort(function(ze,Ft){return ze=ze.x.value!==te?0:ze.x.power,(Ft.x.value!==te?0:Ft.x.power)-ze});B=new u(-1);for(var xe=0;xe<de.length;xe++){var gt=de[xe];gt.x.value===te?qe.push(gt):B=i.multiply(B,gt.symbol)}qe[0].x.power.equals(2)&&qe[1].x.power.equals(1)&&qe[1].b.equals(0)&&!qe[0].b.equals(0)&&(Ne=qe[0].a.negate(),ce=i.parse(h("-(({1})*({2})*({5})*({0})*sin((sqrt(({4})*({5}))*({0}))/({4})))/(2*({4})^2*sqrt(({4})*({5})))-(({1})*({3})*({0})*sin((sqrt(({4})*({5}))*({0}))/({4})))/(2*({4})*sqrt(({4})*({5})))+(({1})*({2})*cos((sqrt(({4})*({5}))*({0}))/({4})))/({4})^2",ne,B,Ne,qe[0].b,Ce.a,Ce.b)))}else je.x.isLinear()?(B=i.divide(je.a,new u(2)),ce=i.parse(h("(({1})*({0})*sin((sqrt(({2})*({3}))*({0}))/({2})))/(({2})*sqrt(({2})*({3})))",ne,B,Ce.a,Ce.b))):je.x.power.equals(2)&&(ce=je.b.equals(0)?(B=i.divide(je.a,new u(2)),i.parse(h("(({1})*sin((sqrt(({2})*({3}))*({0}))/({2})))/(({2})*sqrt(({2})*({3})))+(({1})*({0})*cos((sqrt(({2})*({3}))*({0}))/({2})))/({2})^2",ne,B,Ce.a,Ce.b))):(B=i.divide(je.a,new u(2)),j=je.b.negate(),i.parse(h("-((({2})*({4})-2*({1})*({3}))*sin((sqrt(({2})*({3}))*({0}))/({2})))/(2*({2})*({3})*sqrt(({2})*({3})))+(({4})*({0})*cos((sqrt(({2})*({3}))*({0}))/({2})))/(2*({2})*({3}))+(({1})*({0})*cos((sqrt(({2})*({3}))*({0}))/({2})))/({2})^2",ne,B,Ce.a,Ce.b,j))));else B=i.divide(V,new u(2)),ce=i.parse(h("(({1})*sin((sqrt(({2})*({3}))*({0}))/({2})))/(({3})*sqrt(({2})*({3})))-(({1})*({0})*cos((sqrt(({2})*({3}))*({0}))/({2})))/(({2})*({3}))",ne,B,Ce.a,Ce.b));else A.isComposite()&&(Oe.equals(2)&&Ce.x.group===y?ce=i.parse(`(${fe})*(${ne})*e^(-(${Ce.b})*(${ne}))`):(ce=new u(0),A.each(function(ze){ce=i.add(ce,I.LaPlace.inverse(ze,K,ne))},!0)))}return ce=ce||i.symfunction("ilt",[he,K,ne])},!0)}},Statistics:{frequencyMap:function(A){for(var K={},ne=0,he=A.length;ne<he;ne++){var V=A[ne].toString();K[V]||(K[V]=0),K[V]++}return K},sort:function(A){return A.sort(function(K,ne){return K.isConstant()&&ne.isConstant()||i.error("Unable to sort! All values must be numeric"),K.multiplier.subtract(ne.multiplier)})},count:function(A){return new u(A.length)},sum:function(A,K){for(var le=new u(0),ne=0,he=A.length;ne<he;ne++)var V=A[ne].clone(),le=K?i.add(i.pow(i.subtract(V,K.clone()),new u(2)),le):i.add(V,le);return le},mean:function(){var A=[].slice.call(arguments);return f(A[0])?I.Statistics.mean.apply(this,A[0].elements):i.divide(I.Statistics.sum(A),I.Statistics.count(A))},median:function(){var A=[].slice.call(arguments);if(f(A[0]))return I.Statistics.median.apply(this,A[0].elements);try{var K,ne,he=I.Statistics.sort(A),V=A.length;ne=r.Utils.even(V)?(K=V/2,I.Statistics.mean(he[K-1],he[K])):he[Math.floor(V/2)]}catch{ne=i.symfunction("median",A)}return ne},mode:function(){var A=[].slice.call(arguments);if(f(A[0]))return I.Statistics.mode.apply(this,A[0].elements);var K=I.Statistics.frequencyMap(A);if(r.Utils.keys(K).length===1)te=A[0];else{var ne,he={};for(ne in K){var V,le=K[ne];le in he?(V=he[le],g(V)?V.push(ne):he[le]=[ne,he[le]]):he[le]=ne}var A=he[Math.max.apply(null,r.Utils.keys(he))],te=g(A)?i.symfunction("mode",A.sort()):i.parse(A)}return te},gVariance:function(A,K){var ne=I.Statistics.mean.apply(I.Statistics,K),ne=I.Statistics.sum(K,ne);return i.multiply(A,ne)},variance:function(){var A=[].slice.call(arguments);if(f(A[0]))return I.Statistics.variance.apply(this,A[0].elements);var K=i.divide(new u(1),I.Statistics.count(A));return I.Statistics.gVariance(K,A)},sampleVariance:function(){var A=[].slice.call(arguments);if(f(A[0]))return I.Statistics.sampleVariance.apply(this,A[0].elements);var K=i.divide(new u(1),i.subtract(I.Statistics.count(A),new u(1)));return I.Statistics.gVariance(K,A)},standardDeviation:function(){var A=[].slice.call(arguments);return f(A[0])?I.Statistics.standardDeviation.apply(this,A[0].elements):i.pow(I.Statistics.variance.apply(I.Statistics,A),new u(.5))},sampleStandardDeviation:function(){var A=[].slice.call(arguments);return f(A[0])?I.Statistics.sampleStandardDeviation.apply(this,A[0].elements):i.pow(I.Statistics.sampleVariance.apply(I.Statistics,A),new u(.5))},zScore:function(A,K,ne){return i.divide(i.subtract(A,K),ne)}},Units:{table:{foot:"12 inch",meter:"100 cm",decimeter:"10 cm"}}};s.register([{name:"laplace",visible:!0,numargs:3,build:function(){return I.LaPlace.transform}},{name:"ilt",visible:!0,numargs:3,build:function(){return I.LaPlace.inverse}},{name:"mean",visible:!0,numargs:-1,build:function(){return I.Statistics.mean}},{name:"median",visible:!0,numargs:-1,build:function(){return I.Statistics.median}},{name:"mode",visible:!0,numargs:-1,build:function(){return I.Statistics.mode}},{name:"smpvar",visible:!0,numargs:-1,build:function(){return I.Statistics.sampleVariance}},{name:"variance",visible:!0,numargs:-1,build:function(){return I.Statistics.variance}},{name:"smpstdev",visible:!0,numargs:-1,build:function(){return I.Statistics.sampleStandardDeviation}},{name:"stdev",visible:!0,numargs:-1,build:function(){return I.Statistics.standardDeviation}},{name:"zscore",visible:!0,numargs:3,build:function(){return I.Statistics.zScore}}]),s.updateAPI()})(),t.exports=s})(d9)),d9.exports}var OF=IF();const S1=Pl(OF),RF={id:"EQUATION",RenderComponent:AF,getToolboxXML:t=>C7(t),executeStep:(t,s,r)=>{const i=t||{lhs:r.equation?.lhs||"x",rhs:r.equation?.rhs||"0",initialLhs:r.equation?.lhs||"x",initialRhs:r.equation?.rhs||"0",sign:r.equation?.sign||"=",initialSign:r.equation?.sign||"=",implicit:r.equation?.implicit||!1,history:[],verification:null,solutionState:null,finalSolutionLatex:null};if(!s)return{newState:i,status:"RUNNING"};let{lhs:u,rhs:h,history:f,sign:g}=i;if(s.type==="OP_BOTH"){const y=s.value,$=s.operator;if($==="/"&&(y==0||y==="0"))return{newState:{...i,lastOp:{error:"Division par zro !"}},status:"RUNNING"};let T=g;const w=parseFloat(y);($==="*"||$==="/")&&w<0&&(g==="<"?T=">":g===">"?T="<":g==="\\leq"?T="\\geq":g==="\\geq"&&(T="\\leq"));const I=`(${u}) ${$} (${y})`,A=`(${h}) ${$} (${y})`,K=S1(I).text(),ne=S1(A).text(),he=[...f,{lhs:K,rhs:ne,op:$,val:y,sign:T}];return{newState:{...i,lhs:K,rhs:ne,sign:T,history:he,lastOp:{op:$,val:y,rawLhs:I,rawRhs:A},verification:null,solutionState:null,finalSolutionLatex:null},status:"RUNNING"}}if(s.type==="VERIFY"){const y=s.value,$=i.initialLhs,T=i.initialRhs,w=i.initialSign,I=parseFloat(S1($,{x:y}).evaluate().text()),A=parseFloat(S1(T,{x:y}).evaluate().text()),K=1e-4,ne=Math.abs(I-A)<K;let he=!1;w==="="?he=ne:w==="<"?he=I<A-K:w===">"?he=I>A+K:w==="\\leq"?he=I<=A+K:w==="\\geq"&&(he=I>=A-K);let V="";w!=="="&&(ne?he?V=" Vrai  la frontire : INCLURE (Crochet ferm).":V=" Faux  la frontire : EXCLURE (Crochet ouvert).":V=he?"Vrai (dans la solution).":"Faux (hors solution).");let le=null;return he&&w==="="&&(le=`S = \\{ ${y} \\}`),{newState:{...i,verification:{testVal:y,originLhs:$,originRhs:T,valLhs:I,valRhs:A,isCorrect:he,checkSign:w,feedbackMsg:V},finalSolutionLatex:le,lastOp:null},status:"RUNNING"}}if(s.type==="DECLARE_INTERVAL"){const y=s.interval;if(!y)return{newState:i,status:"RUNNING"};const $=`${i.initialLhs} - (${i.initialRhs})`,T=S1($).simplify().text(),w=S1(T).evaluate({x:0}).text(),I=S1(T).evaluate({x:1}).text(),A=parseFloat(w),ne=parseFloat(I)-A,he=ne===0?0:-A/ne,V=i.initialSign,le=y.min==="-Infinity"?-1/0:parseFloat(y.min),te=y.max==="Infinity"?1/0:parseFloat(y.max),Ce=Math.abs(le-he)<.01,Oe=Math.abs(te-he)<.01;let ce=le===-1/0&&Oe||te===1/0&&Ce,Be=!1;if(ce){let R=le===-1/0?te-1:le+1;const B=parseFloat(S1(i.initialLhs,{x:R}).evaluate().text()),j=parseFloat(S1(i.initialRhs,{x:R}).evaluate().text());V==="<"?Be=B<j:V===">"?Be=B>j:V==="\\leq"?Be=B<=j:V==="\\geq"&&(Be=B>=j)}le===-1/0?y.right:y.left;const je=ce&&Be;let _e="Bravo !";ce?Be||(_e="L'intervalle est dans le mauvais sens."):_e=`Erreur de frontire (attendu : ${he.toFixed(2)})`;const b=le===-1/0?"-\\infty":le,O=te===1/0?"+\\infty":te,N=`S = ${y.left} ${b} ; ${O} ${y.right}`;return{newState:{...i,solutionState:{kind:"INTERVAL",isSuccess:je,msg:_e},finalSolutionLatex:je?N:null,lastOp:null},status:"RUNNING"}}return s.type==="DECLARE_SOLUTION"?{newState:i,status:"RUNNING"}:{newState:i,status:"RUNNING"}},checkVictory:t=>t?!!t.finalSolutionLatex:!1};function LF({isOpen:t,stats:s,token:r,status:i,onReplay:u,onMenu:h,onNext:f}){if(!t)return null;const g=i==="WON",y=i==="FAILED",$=i==="LOST";let T="Niveau Termin !",w=s.stars===3?" Code Parfait !":" Tu peux optimiser...",I="text-emerald-600",A="";y?(T="Presque...",w="Le rsultat ne correspond pas au modle.",I="text-amber-500",A=""):$&&(T="Ae !",w="Le robot a rencontr un obstacle.",I="text-red-500",A="");const K=()=>g?mt.jsx("div",{className:"flex justify-center gap-2 mb-6",children:[0,1,2].map(ne=>mt.jsx("span",{className:`text-5xl transition-all duration-500 ${ne<s.stars?"text-yellow-400 drop-shadow-lg scale-110":"text-slate-200"}`,children:""},ne))}):mt.jsx("div",{className:"text-6xl mb-4 grayscale opacity-50",children:A});return mt.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:mt.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md text-center transform transition-all scale-100 border border-white/20",children:[mt.jsx("h1",{className:`text-3xl font-extrabold mb-2 ${I} drop-shadow-sm`,children:T}),mt.jsx("div",{className:"my-4",children:K()}),mt.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-100 mb-6",children:[g?mt.jsxs("p",{className:"text-slate-600 font-medium",children:[" Blocs utiliss : ",mt.jsx("strong",{className:"text-slate-900 text-lg",children:s.blockCount})," ",mt.jsxs("span",{className:"text-slate-400",children:["/ ",s.target]})]}):mt.jsx("p",{className:"font-bold text-slate-500",children:"Essaie encore !"}),mt.jsx("p",{className:"text-sm text-slate-400 mt-1",children:w})]}),g&&mt.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-100 rounded-lg text-left",children:[mt.jsx("p",{className:"text-xs font-bold text-blue-400 uppercase mb-2",children:" Code de preuve :"}),mt.jsx("div",{className:"font-mono text-xs bg-white p-2 rounded border border-blue-200 text-slate-600 break-all select-all",children:r})]}),mt.jsxs("div",{className:"flex gap-3 justify-center",children:[mt.jsx("button",{onClick:u,className:"flex-1 py-3 px-4 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-xl font-bold transition-colors",children:" Rejouer"}),mt.jsx("button",{onClick:h,className:"flex-1 py-3 px-4 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-xl font-bold transition-colors",children:" Menu"}),g&&f&&mt.jsx("button",{onClick:f,className:"flex-[1.5] py-3 px-4 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl font-bold shadow-lg shadow-emerald-200 transition-all hover:-translate-y-0.5",children:" Suivant"})]})]})})}function vw(t){const s=[],r=String(t||"");let i=r.indexOf(","),u=0,h=!1;for(;!h;){i===-1&&(i=r.length,h=!0);const f=r.slice(u,i).trim();(f||!h)&&s.push(f),u=i+1,i=r.indexOf(",",u)}return s}function DF(t,s){const r={};return(t[t.length-1]===""?[...t,""]:t).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const BF=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,PF=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,FF={};function $w(t,s){return(FF.jsx?PF:BF).test(t)}const UF=/[ \t\n\f\r]/g;function zF(t){return typeof t=="object"?t.type==="text"?bw(t.value):!1:bw(t)}function bw(t){return t.replace(UF,"")===""}class D7{constructor(s,r,i){this.normal=r,this.property=s,i&&(this.space=i)}}D7.prototype.normal={};D7.prototype.property={};D7.prototype.space=void 0;function lC(t,s){const r={},i={};for(const u of t)Object.assign(r,u.property),Object.assign(i,u.normal);return new D7(r,i,s)}function _7(t){return t.toLowerCase()}class Fl{constructor(s,r){this.attribute=r,this.property=s}}Fl.prototype.attribute="";Fl.prototype.booleanish=!1;Fl.prototype.boolean=!1;Fl.prototype.commaOrSpaceSeparated=!1;Fl.prototype.commaSeparated=!1;Fl.prototype.defined=!1;Fl.prototype.mustUseProperty=!1;Fl.prototype.number=!1;Fl.prototype.overloadedBoolean=!1;Fl.prototype.property="";Fl.prototype.spaceSeparated=!1;Fl.prototype.space=void 0;let HF=0;const Ai=v4(),Jo=v4(),Vm=v4(),$r=v4(),Qs=v4(),s6=v4(),ha=v4();function v4(){return 2**++HF}const Gm=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ai,booleanish:Jo,commaOrSpaceSeparated:ha,commaSeparated:s6,number:$r,overloadedBoolean:Vm,spaceSeparated:Qs},Symbol.toStringTag,{value:"Module"})),Hp=Object.keys(Gm);class $v extends Fl{constructor(s,r,i,u){let h=-1;if(super(s,r),yw(this,"space",u),typeof i=="number")for(;++h<Hp.length;){const f=Hp[h];yw(this,Hp[h],(i&Gm[f])===Gm[f])}}}$v.prototype.defined=!0;function yw(t,s,r){r&&(t[s]=r)}function w6(t){const s={},r={};for(const[i,u]of Object.entries(t.properties)){const h=new $v(i,t.transform(t.attributes||{},i),u,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(h.mustUseProperty=!0),s[i]=h,r[_7(i)]=i,r[_7(h.attribute)]=i}return new D7(s,r,t.space)}const aC=w6({properties:{ariaActiveDescendant:null,ariaAtomic:Jo,ariaAutoComplete:null,ariaBusy:Jo,ariaChecked:Jo,ariaColCount:$r,ariaColIndex:$r,ariaColSpan:$r,ariaControls:Qs,ariaCurrent:null,ariaDescribedBy:Qs,ariaDetails:null,ariaDisabled:Jo,ariaDropEffect:Qs,ariaErrorMessage:null,ariaExpanded:Jo,ariaFlowTo:Qs,ariaGrabbed:Jo,ariaHasPopup:null,ariaHidden:Jo,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qs,ariaLevel:$r,ariaLive:null,ariaModal:Jo,ariaMultiLine:Jo,ariaMultiSelectable:Jo,ariaOrientation:null,ariaOwns:Qs,ariaPlaceholder:null,ariaPosInSet:$r,ariaPressed:Jo,ariaReadOnly:Jo,ariaRelevant:null,ariaRequired:Jo,ariaRoleDescription:Qs,ariaRowCount:$r,ariaRowIndex:$r,ariaRowSpan:$r,ariaSelected:Jo,ariaSetSize:$r,ariaSort:null,ariaValueMax:$r,ariaValueMin:$r,ariaValueNow:$r,ariaValueText:null,role:null},transform(t,s){return s==="role"?s:"aria-"+s.slice(4).toLowerCase()}});function uC(t,s){return s in t?t[s]:s}function cC(t,s){return uC(t,s.toLowerCase())}const VF=w6({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:s6,acceptCharset:Qs,accessKey:Qs,action:null,allow:null,allowFullScreen:Ai,allowPaymentRequest:Ai,allowUserMedia:Ai,alt:null,as:null,async:Ai,autoCapitalize:null,autoComplete:Qs,autoFocus:Ai,autoPlay:Ai,blocking:Qs,capture:null,charSet:null,checked:Ai,cite:null,className:Qs,cols:$r,colSpan:null,content:null,contentEditable:Jo,controls:Ai,controlsList:Qs,coords:$r|s6,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ai,defer:Ai,dir:null,dirName:null,disabled:Ai,download:Vm,draggable:Jo,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ai,formTarget:null,headers:Qs,height:$r,hidden:Vm,high:$r,href:null,hrefLang:null,htmlFor:Qs,httpEquiv:Qs,id:null,imageSizes:null,imageSrcSet:null,inert:Ai,inputMode:null,integrity:null,is:null,isMap:Ai,itemId:null,itemProp:Qs,itemRef:Qs,itemScope:Ai,itemType:Qs,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ai,low:$r,manifest:null,max:null,maxLength:$r,media:null,method:null,min:null,minLength:$r,multiple:Ai,muted:Ai,name:null,nonce:null,noModule:Ai,noValidate:Ai,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ai,optimum:$r,pattern:null,ping:Qs,placeholder:null,playsInline:Ai,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ai,referrerPolicy:null,rel:Qs,required:Ai,reversed:Ai,rows:$r,rowSpan:$r,sandbox:Qs,scope:null,scoped:Ai,seamless:Ai,selected:Ai,shadowRootClonable:Ai,shadowRootDelegatesFocus:Ai,shadowRootMode:null,shape:null,size:$r,sizes:null,slot:null,span:$r,spellCheck:Jo,src:null,srcDoc:null,srcLang:null,srcSet:null,start:$r,step:null,style:null,tabIndex:$r,target:null,title:null,translate:null,type:null,typeMustMatch:Ai,useMap:null,value:Jo,width:$r,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Qs,axis:null,background:null,bgColor:null,border:$r,borderColor:null,bottomMargin:$r,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ai,declare:Ai,event:null,face:null,frame:null,frameBorder:null,hSpace:$r,leftMargin:$r,link:null,longDesc:null,lowSrc:null,marginHeight:$r,marginWidth:$r,noResize:Ai,noHref:Ai,noShade:Ai,noWrap:Ai,object:null,profile:null,prompt:null,rev:null,rightMargin:$r,rules:null,scheme:null,scrolling:Jo,standby:null,summary:null,text:null,topMargin:$r,valueType:null,version:null,vAlign:null,vLink:null,vSpace:$r,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ai,disableRemotePlayback:Ai,prefix:null,property:null,results:$r,security:null,unselectable:null},space:"html",transform:cC}),GF=w6({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ha,accentHeight:$r,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:$r,amplitude:$r,arabicForm:null,ascent:$r,attributeName:null,attributeType:null,azimuth:$r,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:$r,by:null,calcMode:null,capHeight:$r,className:Qs,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:$r,diffuseConstant:$r,direction:null,display:null,dur:null,divisor:$r,dominantBaseline:null,download:Ai,dx:null,dy:null,edgeMode:null,editable:null,elevation:$r,enableBackground:null,end:null,event:null,exponent:$r,externalResourcesRequired:null,fill:null,fillOpacity:$r,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:s6,g2:s6,glyphName:s6,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:$r,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:$r,horizOriginX:$r,horizOriginY:$r,id:null,ideographic:$r,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:$r,k:$r,k1:$r,k2:$r,k3:$r,k4:$r,kernelMatrix:ha,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:$r,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:$r,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:$r,overlineThickness:$r,paintOrder:null,panose1:null,path:null,pathLength:$r,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qs,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:$r,pointsAtY:$r,pointsAtZ:$r,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ha,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ha,rev:ha,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ha,requiredFeatures:ha,requiredFonts:ha,requiredFormats:ha,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:$r,specularExponent:$r,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:$r,strikethroughThickness:$r,string:null,stroke:null,strokeDashArray:ha,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:$r,strokeOpacity:$r,strokeWidth:null,style:null,surfaceScale:$r,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ha,tabIndex:$r,tableValues:null,target:null,targetX:$r,targetY:$r,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ha,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:$r,underlineThickness:$r,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:$r,values:null,vAlphabetic:$r,vMathematical:$r,vectorEffect:null,vHanging:$r,vIdeographic:$r,version:null,vertAdvY:$r,vertOriginX:$r,vertOriginY:$r,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:$r,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:uC}),hC=w6({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,s){return"xlink:"+s.slice(5).toLowerCase()}}),fC=w6({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:cC}),dC=w6({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,s){return"xml:"+s.slice(3).toLowerCase()}}),qF={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},WF=/[A-Z]/g,_w=/-[a-z]/g,jF=/^data[-\w.:]+$/i;function pC(t,s){const r=_7(s);let i=s,u=Fl;if(r in t.normal)return t.property[t.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&jF.test(s)){if(s.charAt(4)==="-"){const h=s.slice(5).replace(_w,YF);i="data"+h.charAt(0).toUpperCase()+h.slice(1)}else{const h=s.slice(4);if(!_w.test(h)){let f=h.replace(WF,XF);f.charAt(0)!=="-"&&(f="-"+f),s="data"+f}}u=$v}return new u(i,s)}function XF(t){return"-"+t.toLowerCase()}function YF(t){return t.charAt(1).toUpperCase()}const mC=lC([aC,VF,hC,fC,dC],"html"),Rf=lC([aC,GF,hC,fC,dC],"svg");function ww(t){const s=String(t||"").trim();return s?s.split(/[ \t\n\r\f]+/g):[]}function KF(t){return t.join(" ").trim()}var Z3={},Vp,Tw;function JF(){if(Tw)return Vp;Tw=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,s=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,u=/^:\s*/,h=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,f=/^[;\s]*/,g=/^\s+|\s+$/g,y=`
`,$="/",T="*",w="",I="comment",A="declaration";function K(he,V){if(typeof he!="string")throw new TypeError("First argument must be a string");if(!he)return[];V=V||{};var le=1,te=1;function Ce(B){var j=B.match(s);j&&(le+=j.length);var J=B.lastIndexOf(y);te=~J?B.length-J:te+B.length}function Oe(){var B={line:le,column:te};return function(j){return j.position=new ce(B),_e(),j}}function ce(B){this.start=B,this.end={line:le,column:te},this.source=V.source}ce.prototype.content=he;function Be(B){var j=new Error(V.source+":"+le+":"+te+": "+B);if(j.reason=B,j.filename=V.source,j.line=le,j.column=te,j.source=he,!V.silent)throw j}function je(B){var j=B.exec(he);if(j){var J=j[0];return Ce(J),he=he.slice(J.length),j}}function _e(){je(r)}function b(B){var j;for(B=B||[];j=O();)j!==!1&&B.push(j);return B}function O(){var B=Oe();if(!($!=he.charAt(0)||T!=he.charAt(1))){for(var j=2;w!=he.charAt(j)&&(T!=he.charAt(j)||$!=he.charAt(j+1));)++j;if(j+=2,w===he.charAt(j-1))return Be("End of comment missing");var J=he.slice(2,j-2);return te+=2,Ce(J),he=he.slice(j),te+=2,B({type:I,comment:J})}}function N(){var B=Oe(),j=je(i);if(j){if(O(),!je(u))return Be("property missing ':'");var J=je(h),fe=B({type:A,property:ne(j[0].replace(t,w)),value:J?ne(J[0].replace(t,w)):w});return je(f),fe}}function R(){var B=[];b(B);for(var j;j=N();)j!==!1&&(B.push(j),b(B));return B}return _e(),R()}function ne(he){return he?he.replace(g,w):w}return Vp=K,Vp}var Ew;function ZF(){if(Ew)return Z3;Ew=1;var t=Z3&&Z3.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Z3,"__esModule",{value:!0}),Z3.default=r;const s=t(JF());function r(i,u){let h=null;if(!i||typeof i!="string")return h;const f=(0,s.default)(i),g=typeof u=="function";return f.forEach(y=>{if(y.type!=="declaration")return;const{property:$,value:T}=y;g?u($,T,y):T&&(h=h||{},h[$]=T)}),h}return Z3}var J5={},Sw;function QF(){if(Sw)return J5;Sw=1,Object.defineProperty(J5,"__esModule",{value:!0}),J5.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,s=/-([a-z])/g,r=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,u=/^-(ms)-/,h=function($){return!$||r.test($)||t.test($)},f=function($,T){return T.toUpperCase()},g=function($,T){return"".concat(T,"-")},y=function($,T){return T===void 0&&(T={}),h($)?$:($=$.toLowerCase(),T.reactCompat?$=$.replace(u,g):$=$.replace(i,g),$.replace(s,f))};return J5.camelCase=y,J5}var Z5,xw;function eU(){if(xw)return Z5;xw=1;var t=Z5&&Z5.__importDefault||function(u){return u&&u.__esModule?u:{default:u}},s=t(ZF()),r=QF();function i(u,h){var f={};return!u||typeof u!="string"||(0,s.default)(u,function(g,y){g&&y&&(f[(0,r.camelCase)(g,h)]=y)}),f}return i.default=i,Z5=i,Z5}var tU=eU();const nU=Pl(tU),gC=vC("end"),bv=vC("start");function vC(t){return s;function s(r){const i=r&&r.position&&r.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function rU(t){const s=bv(t),r=gC(t);if(s&&r)return{start:s,end:r}}function c7(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Cw(t.position):"start"in t||"end"in t?Cw(t):"line"in t||"column"in t?qm(t):""}function qm(t){return Mw(t&&t.line)+":"+Mw(t&&t.column)}function Cw(t){return qm(t&&t.start)+"-"+qm(t&&t.end)}function Mw(t){return t&&typeof t=="number"?t:1}class tl extends Error{constructor(s,r,i){super(),typeof r=="string"&&(i=r,r=void 0);let u="",h={},f=!1;if(r&&("line"in r&&"column"in r?h={place:r}:"start"in r&&"end"in r?h={place:r}:"type"in r?h={ancestors:[r],place:r.position}:h={...r}),typeof s=="string"?u=s:!h.cause&&s&&(f=!0,u=s.message,h.cause=s),!h.ruleId&&!h.source&&typeof i=="string"){const y=i.indexOf(":");y===-1?h.ruleId=i:(h.source=i.slice(0,y),h.ruleId=i.slice(y+1))}if(!h.place&&h.ancestors&&h.ancestors){const y=h.ancestors[h.ancestors.length-1];y&&(h.place=y.position)}const g=h.place&&"start"in h.place?h.place.start:h.place;this.ancestors=h.ancestors||void 0,this.cause=h.cause||void 0,this.column=g?g.column:void 0,this.fatal=void 0,this.file="",this.message=u,this.line=g?g.line:void 0,this.name=c7(h.place)||"1:1",this.place=h.place||void 0,this.reason=this.message,this.ruleId=h.ruleId||void 0,this.source=h.source||void 0,this.stack=f&&h.cause&&typeof h.cause.stack=="string"?h.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}tl.prototype.file="";tl.prototype.name="";tl.prototype.reason="";tl.prototype.message="";tl.prototype.stack="";tl.prototype.column=void 0;tl.prototype.line=void 0;tl.prototype.ancestors=void 0;tl.prototype.cause=void 0;tl.prototype.fatal=void 0;tl.prototype.place=void 0;tl.prototype.ruleId=void 0;tl.prototype.source=void 0;const yv={}.hasOwnProperty,iU=new Map,sU=/[A-Z]/g,oU=new Set(["table","tbody","thead","tfoot","tr"]),lU=new Set(["td","th"]),$C="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function aU(t,s){if(!s||s.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=s.filePath||void 0;let i;if(s.development){if(typeof s.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=gU(r,s.jsxDEV)}else{if(typeof s.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof s.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=mU(r,s.jsx,s.jsxs)}const u={Fragment:s.Fragment,ancestors:[],components:s.components||{},create:i,elementAttributeNameCase:s.elementAttributeNameCase||"react",evaluater:s.createEvaluater?s.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:s.ignoreInvalidStyle||!1,passKeys:s.passKeys!==!1,passNode:s.passNode||!1,schema:s.space==="svg"?Rf:mC,stylePropertyNameCase:s.stylePropertyNameCase||"dom",tableCellAlignToStyle:s.tableCellAlignToStyle!==!1},h=bC(u,t,void 0);return h&&typeof h!="string"?h:u.create(t,u.Fragment,{children:h||void 0},void 0)}function bC(t,s,r){if(s.type==="element")return uU(t,s,r);if(s.type==="mdxFlowExpression"||s.type==="mdxTextExpression")return cU(t,s);if(s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement")return fU(t,s,r);if(s.type==="mdxjsEsm")return hU(t,s);if(s.type==="root")return dU(t,s,r);if(s.type==="text")return pU(t,s)}function uU(t,s,r){const i=t.schema;let u=i;s.tagName.toLowerCase()==="svg"&&i.space==="html"&&(u=Rf,t.schema=u),t.ancestors.push(s);const h=_C(t,s.tagName,!1),f=vU(t,s);let g=wv(t,s);return oU.has(s.tagName)&&(g=g.filter(function(y){return typeof y=="string"?!zF(y):!0})),yC(t,f,h,s),_v(f,g),t.ancestors.pop(),t.schema=i,t.create(s,h,f,r)}function cU(t,s){if(s.data&&s.data.estree&&t.evaluater){const i=s.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}w7(t,s.position)}function hU(t,s){if(s.data&&s.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(s.data.estree);w7(t,s.position)}function fU(t,s,r){const i=t.schema;let u=i;s.name==="svg"&&i.space==="html"&&(u=Rf,t.schema=u),t.ancestors.push(s);const h=s.name===null?t.Fragment:_C(t,s.name,!0),f=$U(t,s),g=wv(t,s);return yC(t,f,h,s),_v(f,g),t.ancestors.pop(),t.schema=i,t.create(s,h,f,r)}function dU(t,s,r){const i={};return _v(i,wv(t,s)),t.create(s,t.Fragment,i,r)}function pU(t,s){return s.value}function yC(t,s,r,i){typeof r!="string"&&r!==t.Fragment&&t.passNode&&(s.node=i)}function _v(t,s){if(s.length>0){const r=s.length>1?s:s[0];r&&(t.children=r)}}function mU(t,s,r){return i;function i(u,h,f,g){const $=Array.isArray(f.children)?r:s;return g?$(h,f,g):$(h,f)}}function gU(t,s){return r;function r(i,u,h,f){const g=Array.isArray(h.children),y=bv(i);return s(u,h,f,g,{columnNumber:y?y.column-1:void 0,fileName:t,lineNumber:y?y.line:void 0},void 0)}}function vU(t,s){const r={};let i,u;for(u in s.properties)if(u!=="children"&&yv.call(s.properties,u)){const h=bU(t,u,s.properties[u]);if(h){const[f,g]=h;t.tableCellAlignToStyle&&f==="align"&&typeof g=="string"&&lU.has(s.tagName)?i=g:r[f]=g}}if(i){const h=r.style||(r.style={});h[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return r}function $U(t,s){const r={};for(const i of s.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const h=i.data.estree.body[0];h.type;const f=h.expression;f.type;const g=f.properties[0];g.type,Object.assign(r,t.evaluater.evaluateExpression(g.argument))}else w7(t,s.position);else{const u=i.name;let h;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const g=i.value.data.estree.body[0];g.type,h=t.evaluater.evaluateExpression(g.expression)}else w7(t,s.position);else h=i.value===null?!0:i.value;r[u]=h}return r}function wv(t,s){const r=[];let i=-1;const u=t.passKeys?new Map:iU;for(;++i<s.children.length;){const h=s.children[i];let f;if(t.passKeys){const y=h.type==="element"?h.tagName:h.type==="mdxJsxFlowElement"||h.type==="mdxJsxTextElement"?h.name:void 0;if(y){const $=u.get(y)||0;f=y+"-"+$,u.set(y,$+1)}}const g=bC(t,h,f);g!==void 0&&r.push(g)}return r}function bU(t,s,r){const i=pC(t.schema,s);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=i.commaSeparated?DF(r):KF(r)),i.property==="style"){let u=typeof r=="object"?r:yU(t,String(r));return t.stylePropertyNameCase==="css"&&(u=_U(u)),["style",u]}return[t.elementAttributeNameCase==="react"&&i.space?qF[i.property]||i.property:i.attribute,r]}}function yU(t,s){try{return nU(s,{reactCompat:!0})}catch(r){if(t.ignoreInvalidStyle)return{};const i=r,u=new tl("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw u.file=t.filePath||void 0,u.url=$C+"#cannot-parse-style-attribute",u}}function _C(t,s,r){let i;if(!r)i={type:"Literal",value:s};else if(s.includes(".")){const u=s.split(".");let h=-1,f;for(;++h<u.length;){const g=$w(u[h])?{type:"Identifier",name:u[h]}:{type:"Literal",value:u[h]};f=f?{type:"MemberExpression",object:f,property:g,computed:!!(h&&g.type==="Literal"),optional:!1}:g}i=f}else i=$w(s)&&!/^[a-z]/.test(s)?{type:"Identifier",name:s}:{type:"Literal",value:s};if(i.type==="Literal"){const u=i.value;return yv.call(t.components,u)?t.components[u]:u}if(t.evaluater)return t.evaluater.evaluateExpression(i);w7(t)}function w7(t,s){const r=new tl("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:s,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=$C+"#cannot-handle-mdx-estrees-without-createevaluater",r}function _U(t){const s={};let r;for(r in t)yv.call(t,r)&&(s[wU(r)]=t[r]);return s}function wU(t){let s=t.replace(sU,TU);return s.slice(0,3)==="ms-"&&(s="-"+s),s}function TU(t){return"-"+t.toLowerCase()}const Gp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},EU={};function Tv(t,s){const r=EU,i=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,u=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return wC(t,i,u)}function wC(t,s,r){if(SU(t)){if("value"in t)return t.type==="html"&&!r?"":t.value;if(s&&"alt"in t&&t.alt)return t.alt;if("children"in t)return kw(t.children,s,r)}return Array.isArray(t)?kw(t,s,r):""}function kw(t,s,r){const i=[];let u=-1;for(;++u<t.length;)i[u]=wC(t[u],s,r);return i.join("")}function SU(t){return!!(t&&typeof t=="object")}const Aw=document.createElement("i");function Ev(t){const s="&"+t+";";Aw.innerHTML=s;const r=Aw.textContent;return r.charCodeAt(r.length-1)===59&&t!=="semi"||r===s?!1:r}function da(t,s,r,i){const u=t.length;let h=0,f;if(s<0?s=-s>u?0:u+s:s=s>u?u:s,r=r>0?r:0,i.length<1e4)f=Array.from(i),f.unshift(s,r),t.splice(...f);else for(r&&t.splice(s,r);h<i.length;)f=i.slice(h,h+1e4),f.unshift(s,0),t.splice(...f),h+=1e4,s+=1e4}function Ja(t,s){return t.length>0?(da(t,t.length,0,s),t):s}const Nw={}.hasOwnProperty;function TC(t){const s={};let r=-1;for(;++r<t.length;)xU(s,t[r]);return s}function xU(t,s){let r;for(r in s){const u=(Nw.call(t,r)?t[r]:void 0)||(t[r]={}),h=s[r];let f;if(h)for(f in h){Nw.call(u,f)||(u[f]=[]);const g=h[f];CU(u[f],Array.isArray(g)?g:g?[g]:[])}}}function CU(t,s){let r=-1;const i=[];for(;++r<s.length;)(s[r].add==="after"?t:i).push(s[r]);da(t,0,0,i)}function EC(t,s){const r=Number.parseInt(t,s);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Bu(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const _l=lh(/[A-Za-z]/),el=lh(/[\dA-Za-z]/),MU=lh(/[#-'*+\--9=?A-Z^-~]/);function G9(t){return t!==null&&(t<32||t===127)}const Wm=lh(/\d/),kU=lh(/[\dA-Fa-f]/),AU=lh(/[!-/:-@[-`{-~]/);function Jr(t){return t!==null&&t<-2}function js(t){return t!==null&&(t<0||t===32)}function qi(t){return t===-2||t===-1||t===32}const Lf=lh(new RegExp("\\p{P}|\\p{S}","u")),f4=lh(/\s/);function lh(t){return s;function s(r){return r!==null&&r>-1&&t.test(String.fromCharCode(r))}}function T6(t){const s=[];let r=-1,i=0,u=0;for(;++r<t.length;){const h=t.charCodeAt(r);let f="";if(h===37&&el(t.charCodeAt(r+1))&&el(t.charCodeAt(r+2)))u=2;else if(h<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(h))||(f=String.fromCharCode(h));else if(h>55295&&h<57344){const g=t.charCodeAt(r+1);h<56320&&g>56319&&g<57344?(f=String.fromCharCode(h,g),u=1):f=""}else f=String.fromCharCode(h);f&&(s.push(t.slice(i,r),encodeURIComponent(f)),i=r+u+1,f=""),u&&(r+=u,u=0)}return s.join("")+t.slice(i)}function Fi(t,s,r,i){const u=i?i-1:Number.POSITIVE_INFINITY;let h=0;return f;function f(y){return qi(y)?(t.enter(r),g(y)):s(y)}function g(y){return qi(y)&&h++<u?(t.consume(y),g):(t.exit(r),s(y))}}const NU={tokenize:IU};function IU(t){const s=t.attempt(this.parser.constructs.contentInitial,i,u);let r;return s;function i(g){if(g===null){t.consume(g);return}return t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),Fi(t,s,"linePrefix")}function u(g){return t.enter("paragraph"),h(g)}function h(g){const y=t.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=y),r=y,f(g)}function f(g){if(g===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(g);return}return Jr(g)?(t.consume(g),t.exit("chunkText"),h):(t.consume(g),f)}}const OU={tokenize:RU},Iw={tokenize:LU};function RU(t){const s=this,r=[];let i=0,u,h,f;return g;function g(te){if(i<r.length){const Ce=r[i];return s.containerState=Ce[1],t.attempt(Ce[0].continuation,y,$)(te)}return $(te)}function y(te){if(i++,s.containerState._closeFlow){s.containerState._closeFlow=void 0,u&&le();const Ce=s.events.length;let Oe=Ce,ce;for(;Oe--;)if(s.events[Oe][0]==="exit"&&s.events[Oe][1].type==="chunkFlow"){ce=s.events[Oe][1].end;break}V(i);let Be=Ce;for(;Be<s.events.length;)s.events[Be][1].end={...ce},Be++;return da(s.events,Oe+1,0,s.events.slice(Ce)),s.events.length=Be,$(te)}return g(te)}function $(te){if(i===r.length){if(!u)return I(te);if(u.currentConstruct&&u.currentConstruct.concrete)return K(te);s.interrupt=!!(u.currentConstruct&&!u._gfmTableDynamicInterruptHack)}return s.containerState={},t.check(Iw,T,w)(te)}function T(te){return u&&le(),V(i),I(te)}function w(te){return s.parser.lazy[s.now().line]=i!==r.length,f=s.now().offset,K(te)}function I(te){return s.containerState={},t.attempt(Iw,A,K)(te)}function A(te){return i++,r.push([s.currentConstruct,s.containerState]),I(te)}function K(te){if(te===null){u&&le(),V(0),t.consume(te);return}return u=u||s.parser.flow(s.now()),t.enter("chunkFlow",{_tokenizer:u,contentType:"flow",previous:h}),ne(te)}function ne(te){if(te===null){he(t.exit("chunkFlow"),!0),V(0),t.consume(te);return}return Jr(te)?(t.consume(te),he(t.exit("chunkFlow")),i=0,s.interrupt=void 0,g):(t.consume(te),ne)}function he(te,Ce){const Oe=s.sliceStream(te);if(Ce&&Oe.push(null),te.previous=h,h&&(h.next=te),h=te,u.defineSkip(te.start),u.write(Oe),s.parser.lazy[te.start.line]){let ce=u.events.length;for(;ce--;)if(u.events[ce][1].start.offset<f&&(!u.events[ce][1].end||u.events[ce][1].end.offset>f))return;const Be=s.events.length;let je=Be,_e,b;for(;je--;)if(s.events[je][0]==="exit"&&s.events[je][1].type==="chunkFlow"){if(_e){b=s.events[je][1].end;break}_e=!0}for(V(i),ce=Be;ce<s.events.length;)s.events[ce][1].end={...b},ce++;da(s.events,je+1,0,s.events.slice(Be)),s.events.length=ce}}function V(te){let Ce=r.length;for(;Ce-- >te;){const Oe=r[Ce];s.containerState=Oe[1],Oe[0].exit.call(s,t)}r.length=te}function le(){u.write([null]),h=void 0,u=void 0,s.containerState._closeFlow=void 0}}function LU(t,s,r){return Fi(t,t.attempt(this.parser.constructs.document,s,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function g6(t){if(t===null||js(t)||f4(t))return 1;if(Lf(t))return 2}function Df(t,s,r){const i=[];let u=-1;for(;++u<t.length;){const h=t[u].resolveAll;h&&!i.includes(h)&&(s=h(s,r),i.push(h))}return s}const jm={name:"attention",resolveAll:DU,tokenize:BU};function DU(t,s){let r=-1,i,u,h,f,g,y,$,T;for(;++r<t.length;)if(t[r][0]==="enter"&&t[r][1].type==="attentionSequence"&&t[r][1]._close){for(i=r;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&s.sliceSerialize(t[i][1]).charCodeAt(0)===s.sliceSerialize(t[r][1]).charCodeAt(0)){if((t[i][1]._close||t[r][1]._open)&&(t[r][1].end.offset-t[r][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[r][1].end.offset-t[r][1].start.offset)%3))continue;y=t[i][1].end.offset-t[i][1].start.offset>1&&t[r][1].end.offset-t[r][1].start.offset>1?2:1;const w={...t[i][1].end},I={...t[r][1].start};Ow(w,-y),Ow(I,y),f={type:y>1?"strongSequence":"emphasisSequence",start:w,end:{...t[i][1].end}},g={type:y>1?"strongSequence":"emphasisSequence",start:{...t[r][1].start},end:I},h={type:y>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[r][1].start}},u={type:y>1?"strong":"emphasis",start:{...f.start},end:{...g.end}},t[i][1].end={...f.start},t[r][1].start={...g.end},$=[],t[i][1].end.offset-t[i][1].start.offset&&($=Ja($,[["enter",t[i][1],s],["exit",t[i][1],s]])),$=Ja($,[["enter",u,s],["enter",f,s],["exit",f,s],["enter",h,s]]),$=Ja($,Df(s.parser.constructs.insideSpan.null,t.slice(i+1,r),s)),$=Ja($,[["exit",h,s],["enter",g,s],["exit",g,s],["exit",u,s]]),t[r][1].end.offset-t[r][1].start.offset?(T=2,$=Ja($,[["enter",t[r][1],s],["exit",t[r][1],s]])):T=0,da(t,i-1,r-i+3,$),r=i+$.length-T-2;break}}for(r=-1;++r<t.length;)t[r][1].type==="attentionSequence"&&(t[r][1].type="data");return t}function BU(t,s){const r=this.parser.constructs.attentionMarkers.null,i=this.previous,u=g6(i);let h;return f;function f(y){return h=y,t.enter("attentionSequence"),g(y)}function g(y){if(y===h)return t.consume(y),g;const $=t.exit("attentionSequence"),T=g6(y),w=!T||T===2&&u||r.includes(y),I=!u||u===2&&T||r.includes(i);return $._open=!!(h===42?w:w&&(u||!I)),$._close=!!(h===42?I:I&&(T||!w)),s(y)}}function Ow(t,s){t.column+=s,t.offset+=s,t._bufferIndex+=s}const PU={name:"autolink",tokenize:FU};function FU(t,s,r){let i=0;return u;function u(A){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),h}function h(A){return _l(A)?(t.consume(A),f):A===64?r(A):$(A)}function f(A){return A===43||A===45||A===46||el(A)?(i=1,g(A)):$(A)}function g(A){return A===58?(t.consume(A),i=0,y):(A===43||A===45||A===46||el(A))&&i++<32?(t.consume(A),g):(i=0,$(A))}function y(A){return A===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.exit("autolink"),s):A===null||A===32||A===60||G9(A)?r(A):(t.consume(A),y)}function $(A){return A===64?(t.consume(A),T):MU(A)?(t.consume(A),$):r(A)}function T(A){return el(A)?w(A):r(A)}function w(A){return A===46?(t.consume(A),i=0,T):A===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.exit("autolink"),s):I(A)}function I(A){if((A===45||el(A))&&i++<63){const K=A===45?I:w;return t.consume(A),K}return r(A)}}const B7={partial:!0,tokenize:UU};function UU(t,s,r){return i;function i(h){return qi(h)?Fi(t,u,"linePrefix")(h):u(h)}function u(h){return h===null||Jr(h)?s(h):r(h)}}const SC={continuation:{tokenize:HU},exit:VU,name:"blockQuote",tokenize:zU};function zU(t,s,r){const i=this;return u;function u(f){if(f===62){const g=i.containerState;return g.open||(t.enter("blockQuote",{_container:!0}),g.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(f),t.exit("blockQuoteMarker"),h}return r(f)}function h(f){return qi(f)?(t.enter("blockQuotePrefixWhitespace"),t.consume(f),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),s):(t.exit("blockQuotePrefix"),s(f))}}function HU(t,s,r){const i=this;return u;function u(f){return qi(f)?Fi(t,h,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f):h(f)}function h(f){return t.attempt(SC,s,r)(f)}}function VU(t){t.exit("blockQuote")}const xC={name:"characterEscape",tokenize:GU};function GU(t,s,r){return i;function i(h){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(h),t.exit("escapeMarker"),u}function u(h){return AU(h)?(t.enter("characterEscapeValue"),t.consume(h),t.exit("characterEscapeValue"),t.exit("characterEscape"),s):r(h)}}const CC={name:"characterReference",tokenize:qU};function qU(t,s,r){const i=this;let u=0,h,f;return g;function g(w){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(w),t.exit("characterReferenceMarker"),y}function y(w){return w===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(w),t.exit("characterReferenceMarkerNumeric"),$):(t.enter("characterReferenceValue"),h=31,f=el,T(w))}function $(w){return w===88||w===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(w),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),h=6,f=kU,T):(t.enter("characterReferenceValue"),h=7,f=Wm,T(w))}function T(w){if(w===59&&u){const I=t.exit("characterReferenceValue");return f===el&&!Ev(i.sliceSerialize(I))?r(w):(t.enter("characterReferenceMarker"),t.consume(w),t.exit("characterReferenceMarker"),t.exit("characterReference"),s)}return f(w)&&u++<h?(t.consume(w),T):r(w)}}const Rw={partial:!0,tokenize:jU},Lw={concrete:!0,name:"codeFenced",tokenize:WU};function WU(t,s,r){const i=this,u={partial:!0,tokenize:Oe};let h=0,f=0,g;return y;function y(ce){return $(ce)}function $(ce){const Be=i.events[i.events.length-1];return h=Be&&Be[1].type==="linePrefix"?Be[2].sliceSerialize(Be[1],!0).length:0,g=ce,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),T(ce)}function T(ce){return ce===g?(f++,t.consume(ce),T):f<3?r(ce):(t.exit("codeFencedFenceSequence"),qi(ce)?Fi(t,w,"whitespace")(ce):w(ce))}function w(ce){return ce===null||Jr(ce)?(t.exit("codeFencedFence"),i.interrupt?s(ce):t.check(Rw,ne,Ce)(ce)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),I(ce))}function I(ce){return ce===null||Jr(ce)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),w(ce)):qi(ce)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Fi(t,A,"whitespace")(ce)):ce===96&&ce===g?r(ce):(t.consume(ce),I)}function A(ce){return ce===null||Jr(ce)?w(ce):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),K(ce))}function K(ce){return ce===null||Jr(ce)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),w(ce)):ce===96&&ce===g?r(ce):(t.consume(ce),K)}function ne(ce){return t.attempt(u,Ce,he)(ce)}function he(ce){return t.enter("lineEnding"),t.consume(ce),t.exit("lineEnding"),V}function V(ce){return h>0&&qi(ce)?Fi(t,le,"linePrefix",h+1)(ce):le(ce)}function le(ce){return ce===null||Jr(ce)?t.check(Rw,ne,Ce)(ce):(t.enter("codeFlowValue"),te(ce))}function te(ce){return ce===null||Jr(ce)?(t.exit("codeFlowValue"),le(ce)):(t.consume(ce),te)}function Ce(ce){return t.exit("codeFenced"),s(ce)}function Oe(ce,Be,je){let _e=0;return b;function b(j){return ce.enter("lineEnding"),ce.consume(j),ce.exit("lineEnding"),O}function O(j){return ce.enter("codeFencedFence"),qi(j)?Fi(ce,N,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):N(j)}function N(j){return j===g?(ce.enter("codeFencedFenceSequence"),R(j)):je(j)}function R(j){return j===g?(_e++,ce.consume(j),R):_e>=f?(ce.exit("codeFencedFenceSequence"),qi(j)?Fi(ce,B,"whitespace")(j):B(j)):je(j)}function B(j){return j===null||Jr(j)?(ce.exit("codeFencedFence"),Be(j)):je(j)}}}function jU(t,s,r){const i=this;return u;function u(f){return f===null?r(f):(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),h)}function h(f){return i.parser.lazy[i.now().line]?r(f):s(f)}}const qp={name:"codeIndented",tokenize:YU},XU={partial:!0,tokenize:KU};function YU(t,s,r){const i=this;return u;function u($){return t.enter("codeIndented"),Fi(t,h,"linePrefix",5)($)}function h($){const T=i.events[i.events.length-1];return T&&T[1].type==="linePrefix"&&T[2].sliceSerialize(T[1],!0).length>=4?f($):r($)}function f($){return $===null?y($):Jr($)?t.attempt(XU,f,y)($):(t.enter("codeFlowValue"),g($))}function g($){return $===null||Jr($)?(t.exit("codeFlowValue"),f($)):(t.consume($),g)}function y($){return t.exit("codeIndented"),s($)}}function KU(t,s,r){const i=this;return u;function u(f){return i.parser.lazy[i.now().line]?r(f):Jr(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),u):Fi(t,h,"linePrefix",5)(f)}function h(f){const g=i.events[i.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?s(f):Jr(f)?u(f):r(f)}}const JU={name:"codeText",previous:QU,resolve:ZU,tokenize:ez};function ZU(t){let s=t.length-4,r=3,i,u;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[s][1].type==="lineEnding"||t[s][1].type==="space")){for(i=r;++i<s;)if(t[i][1].type==="codeTextData"){t[r][1].type="codeTextPadding",t[s][1].type="codeTextPadding",r+=2,s-=2;break}}for(i=r-1,s++;++i<=s;)u===void 0?i!==s&&t[i][1].type!=="lineEnding"&&(u=i):(i===s||t[i][1].type==="lineEnding")&&(t[u][1].type="codeTextData",i!==u+2&&(t[u][1].end=t[i-1][1].end,t.splice(u+2,i-u-2),s-=i-u-2,i=u+2),u=void 0);return t}function QU(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ez(t,s,r){let i=0,u,h;return f;function f(w){return t.enter("codeText"),t.enter("codeTextSequence"),g(w)}function g(w){return w===96?(t.consume(w),i++,g):(t.exit("codeTextSequence"),y(w))}function y(w){return w===null?r(w):w===32?(t.enter("space"),t.consume(w),t.exit("space"),y):w===96?(h=t.enter("codeTextSequence"),u=0,T(w)):Jr(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),y):(t.enter("codeTextData"),$(w))}function $(w){return w===null||w===32||w===96||Jr(w)?(t.exit("codeTextData"),y(w)):(t.consume(w),$)}function T(w){return w===96?(t.consume(w),u++,T):u===i?(t.exit("codeTextSequence"),t.exit("codeText"),s(w)):(h.type="codeTextData",$(w))}}class tz{constructor(s){this.left=s?[...s]:[],this.right=[]}get(s){if(s<0||s>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+s+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return s<this.left.length?this.left[s]:this.right[this.right.length-s+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(s,r){const i=r??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(s,i):s>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-s+this.left.length).reverse():this.left.slice(s).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(s,r,i){const u=r||0;this.setCursor(Math.trunc(s));const h=this.right.splice(this.right.length-u,Number.POSITIVE_INFINITY);return i&&Q5(this.left,i),h.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(s){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(s)}pushMany(s){this.setCursor(Number.POSITIVE_INFINITY),Q5(this.left,s)}unshift(s){this.setCursor(0),this.right.push(s)}unshiftMany(s){this.setCursor(0),Q5(this.right,s.reverse())}setCursor(s){if(!(s===this.left.length||s>this.left.length&&this.right.length===0||s<0&&this.left.length===0))if(s<this.left.length){const r=this.left.splice(s,Number.POSITIVE_INFINITY);Q5(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-s,Number.POSITIVE_INFINITY);Q5(this.left,r.reverse())}}}function Q5(t,s){let r=0;if(s.length<1e4)t.push(...s);else for(;r<s.length;)t.push(...s.slice(r,r+1e4)),r+=1e4}function MC(t){const s={};let r=-1,i,u,h,f,g,y,$;const T=new tz(t);for(;++r<T.length;){for(;r in s;)r=s[r];if(i=T.get(r),r&&i[1].type==="chunkFlow"&&T.get(r-1)[1].type==="listItemPrefix"&&(y=i[1]._tokenizer.events,h=0,h<y.length&&y[h][1].type==="lineEndingBlank"&&(h+=2),h<y.length&&y[h][1].type==="content"))for(;++h<y.length&&y[h][1].type!=="content";)y[h][1].type==="chunkText"&&(y[h][1]._isInFirstContentOfListItem=!0,h++);if(i[0]==="enter")i[1].contentType&&(Object.assign(s,nz(T,r)),r=s[r],$=!0);else if(i[1]._container){for(h=r,u=void 0;h--;)if(f=T.get(h),f[1].type==="lineEnding"||f[1].type==="lineEndingBlank")f[0]==="enter"&&(u&&(T.get(u)[1].type="lineEndingBlank"),f[1].type="lineEnding",u=h);else if(!(f[1].type==="linePrefix"||f[1].type==="listItemIndent"))break;u&&(i[1].end={...T.get(u)[1].start},g=T.slice(u,r),g.unshift(i),T.splice(u,r-u+1,g))}}return da(t,0,Number.POSITIVE_INFINITY,T.slice(0)),!$}function nz(t,s){const r=t.get(s)[1],i=t.get(s)[2];let u=s-1;const h=[];let f=r._tokenizer;f||(f=i.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(f._contentTypeTextTrailing=!0));const g=f.events,y=[],$={};let T,w,I=-1,A=r,K=0,ne=0;const he=[ne];for(;A;){for(;t.get(++u)[1]!==A;);h.push(u),A._tokenizer||(T=i.sliceStream(A),A.next||T.push(null),w&&f.defineSkip(A.start),A._isInFirstContentOfListItem&&(f._gfmTasklistFirstContentOfListItem=!0),f.write(T),A._isInFirstContentOfListItem&&(f._gfmTasklistFirstContentOfListItem=void 0)),w=A,A=A.next}for(A=r;++I<g.length;)g[I][0]==="exit"&&g[I-1][0]==="enter"&&g[I][1].type===g[I-1][1].type&&g[I][1].start.line!==g[I][1].end.line&&(ne=I+1,he.push(ne),A._tokenizer=void 0,A.previous=void 0,A=A.next);for(f.events=[],A?(A._tokenizer=void 0,A.previous=void 0):he.pop(),I=he.length;I--;){const V=g.slice(he[I],he[I+1]),le=h.pop();y.push([le,le+V.length-1]),t.splice(le,2,V)}for(y.reverse(),I=-1;++I<y.length;)$[K+y[I][0]]=K+y[I][1],K+=y[I][1]-y[I][0]-1;return $}const rz={resolve:sz,tokenize:oz},iz={partial:!0,tokenize:lz};function sz(t){return MC(t),t}function oz(t,s){let r;return i;function i(g){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),u(g)}function u(g){return g===null?h(g):Jr(g)?t.check(iz,f,h)(g):(t.consume(g),u)}function h(g){return t.exit("chunkContent"),t.exit("content"),s(g)}function f(g){return t.consume(g),t.exit("chunkContent"),r.next=t.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,u}}function lz(t,s,r){const i=this;return u;function u(f){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Fi(t,h,"linePrefix")}function h(f){if(f===null||Jr(f))return r(f);const g=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?s(f):t.interrupt(i.parser.constructs.flow,r,s)(f)}}function kC(t,s,r,i,u,h,f,g,y){const $=y||Number.POSITIVE_INFINITY;let T=0;return w;function w(V){return V===60?(t.enter(i),t.enter(u),t.enter(h),t.consume(V),t.exit(h),I):V===null||V===32||V===41||G9(V)?r(V):(t.enter(i),t.enter(f),t.enter(g),t.enter("chunkString",{contentType:"string"}),ne(V))}function I(V){return V===62?(t.enter(h),t.consume(V),t.exit(h),t.exit(u),t.exit(i),s):(t.enter(g),t.enter("chunkString",{contentType:"string"}),A(V))}function A(V){return V===62?(t.exit("chunkString"),t.exit(g),I(V)):V===null||V===60||Jr(V)?r(V):(t.consume(V),V===92?K:A)}function K(V){return V===60||V===62||V===92?(t.consume(V),A):A(V)}function ne(V){return!T&&(V===null||V===41||js(V))?(t.exit("chunkString"),t.exit(g),t.exit(f),t.exit(i),s(V)):T<$&&V===40?(t.consume(V),T++,ne):V===41?(t.consume(V),T--,ne):V===null||V===32||V===40||G9(V)?r(V):(t.consume(V),V===92?he:ne)}function he(V){return V===40||V===41||V===92?(t.consume(V),ne):ne(V)}}function AC(t,s,r,i,u,h){const f=this;let g=0,y;return $;function $(A){return t.enter(i),t.enter(u),t.consume(A),t.exit(u),t.enter(h),T}function T(A){return g>999||A===null||A===91||A===93&&!y||A===94&&!g&&"_hiddenFootnoteSupport"in f.parser.constructs?r(A):A===93?(t.exit(h),t.enter(u),t.consume(A),t.exit(u),t.exit(i),s):Jr(A)?(t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),T):(t.enter("chunkString",{contentType:"string"}),w(A))}function w(A){return A===null||A===91||A===93||Jr(A)||g++>999?(t.exit("chunkString"),T(A)):(t.consume(A),y||(y=!qi(A)),A===92?I:w)}function I(A){return A===91||A===92||A===93?(t.consume(A),g++,w):w(A)}}function NC(t,s,r,i,u,h){let f;return g;function g(I){return I===34||I===39||I===40?(t.enter(i),t.enter(u),t.consume(I),t.exit(u),f=I===40?41:I,y):r(I)}function y(I){return I===f?(t.enter(u),t.consume(I),t.exit(u),t.exit(i),s):(t.enter(h),$(I))}function $(I){return I===f?(t.exit(h),y(f)):I===null?r(I):Jr(I)?(t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),Fi(t,$,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),T(I))}function T(I){return I===f||I===null||Jr(I)?(t.exit("chunkString"),$(I)):(t.consume(I),I===92?w:T)}function w(I){return I===f||I===92?(t.consume(I),T):T(I)}}function h7(t,s){let r;return i;function i(u){return Jr(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),r=!0,i):qi(u)?Fi(t,i,r?"linePrefix":"lineSuffix")(u):s(u)}}const az={name:"definition",tokenize:cz},uz={partial:!0,tokenize:hz};function cz(t,s,r){const i=this;let u;return h;function h(A){return t.enter("definition"),f(A)}function f(A){return AC.call(i,t,g,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(A)}function g(A){return u=Bu(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),A===58?(t.enter("definitionMarker"),t.consume(A),t.exit("definitionMarker"),y):r(A)}function y(A){return js(A)?h7(t,$)(A):$(A)}function $(A){return kC(t,T,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(A)}function T(A){return t.attempt(uz,w,w)(A)}function w(A){return qi(A)?Fi(t,I,"whitespace")(A):I(A)}function I(A){return A===null||Jr(A)?(t.exit("definition"),i.parser.defined.push(u),s(A)):r(A)}}function hz(t,s,r){return i;function i(g){return js(g)?h7(t,u)(g):r(g)}function u(g){return NC(t,h,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(g)}function h(g){return qi(g)?Fi(t,f,"whitespace")(g):f(g)}function f(g){return g===null||Jr(g)?s(g):r(g)}}const fz={name:"hardBreakEscape",tokenize:dz};function dz(t,s,r){return i;function i(h){return t.enter("hardBreakEscape"),t.consume(h),u}function u(h){return Jr(h)?(t.exit("hardBreakEscape"),s(h)):r(h)}}const pz={name:"headingAtx",resolve:mz,tokenize:gz};function mz(t,s){let r=t.length-2,i=3,u,h;return t[i][1].type==="whitespace"&&(i+=2),r-2>i&&t[r][1].type==="whitespace"&&(r-=2),t[r][1].type==="atxHeadingSequence"&&(i===r-1||r-4>i&&t[r-2][1].type==="whitespace")&&(r-=i+1===r?2:4),r>i&&(u={type:"atxHeadingText",start:t[i][1].start,end:t[r][1].end},h={type:"chunkText",start:t[i][1].start,end:t[r][1].end,contentType:"text"},da(t,i,r-i+1,[["enter",u,s],["enter",h,s],["exit",h,s],["exit",u,s]])),t}function gz(t,s,r){let i=0;return u;function u(T){return t.enter("atxHeading"),h(T)}function h(T){return t.enter("atxHeadingSequence"),f(T)}function f(T){return T===35&&i++<6?(t.consume(T),f):T===null||js(T)?(t.exit("atxHeadingSequence"),g(T)):r(T)}function g(T){return T===35?(t.enter("atxHeadingSequence"),y(T)):T===null||Jr(T)?(t.exit("atxHeading"),s(T)):qi(T)?Fi(t,g,"whitespace")(T):(t.enter("atxHeadingText"),$(T))}function y(T){return T===35?(t.consume(T),y):(t.exit("atxHeadingSequence"),g(T))}function $(T){return T===null||T===35||js(T)?(t.exit("atxHeadingText"),g(T)):(t.consume(T),$)}}const vz=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Dw=["pre","script","style","textarea"],$z={concrete:!0,name:"htmlFlow",resolveTo:_z,tokenize:wz},bz={partial:!0,tokenize:Ez},yz={partial:!0,tokenize:Tz};function _z(t){let s=t.length;for(;s--&&!(t[s][0]==="enter"&&t[s][1].type==="htmlFlow"););return s>1&&t[s-2][1].type==="linePrefix"&&(t[s][1].start=t[s-2][1].start,t[s+1][1].start=t[s-2][1].start,t.splice(s-2,2)),t}function wz(t,s,r){const i=this;let u,h,f,g,y;return $;function $(ze){return T(ze)}function T(ze){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(ze),w}function w(ze){return ze===33?(t.consume(ze),I):ze===47?(t.consume(ze),h=!0,ne):ze===63?(t.consume(ze),u=3,i.interrupt?s:de):_l(ze)?(t.consume(ze),f=String.fromCharCode(ze),he):r(ze)}function I(ze){return ze===45?(t.consume(ze),u=2,A):ze===91?(t.consume(ze),u=5,g=0,K):_l(ze)?(t.consume(ze),u=4,i.interrupt?s:de):r(ze)}function A(ze){return ze===45?(t.consume(ze),i.interrupt?s:de):r(ze)}function K(ze){const Ft="CDATA[";return ze===Ft.charCodeAt(g++)?(t.consume(ze),g===Ft.length?i.interrupt?s:N:K):r(ze)}function ne(ze){return _l(ze)?(t.consume(ze),f=String.fromCharCode(ze),he):r(ze)}function he(ze){if(ze===null||ze===47||ze===62||js(ze)){const Ft=ze===47,Ge=f.toLowerCase();return!Ft&&!h&&Dw.includes(Ge)?(u=1,i.interrupt?s(ze):N(ze)):vz.includes(f.toLowerCase())?(u=6,Ft?(t.consume(ze),V):i.interrupt?s(ze):N(ze)):(u=7,i.interrupt&&!i.parser.lazy[i.now().line]?r(ze):h?le(ze):te(ze))}return ze===45||el(ze)?(t.consume(ze),f+=String.fromCharCode(ze),he):r(ze)}function V(ze){return ze===62?(t.consume(ze),i.interrupt?s:N):r(ze)}function le(ze){return qi(ze)?(t.consume(ze),le):b(ze)}function te(ze){return ze===47?(t.consume(ze),b):ze===58||ze===95||_l(ze)?(t.consume(ze),Ce):qi(ze)?(t.consume(ze),te):b(ze)}function Ce(ze){return ze===45||ze===46||ze===58||ze===95||el(ze)?(t.consume(ze),Ce):Oe(ze)}function Oe(ze){return ze===61?(t.consume(ze),ce):qi(ze)?(t.consume(ze),Oe):te(ze)}function ce(ze){return ze===null||ze===60||ze===61||ze===62||ze===96?r(ze):ze===34||ze===39?(t.consume(ze),y=ze,Be):qi(ze)?(t.consume(ze),ce):je(ze)}function Be(ze){return ze===y?(t.consume(ze),y=null,_e):ze===null||Jr(ze)?r(ze):(t.consume(ze),Be)}function je(ze){return ze===null||ze===34||ze===39||ze===47||ze===60||ze===61||ze===62||ze===96||js(ze)?Oe(ze):(t.consume(ze),je)}function _e(ze){return ze===47||ze===62||qi(ze)?te(ze):r(ze)}function b(ze){return ze===62?(t.consume(ze),O):r(ze)}function O(ze){return ze===null||Jr(ze)?N(ze):qi(ze)?(t.consume(ze),O):r(ze)}function N(ze){return ze===45&&u===2?(t.consume(ze),J):ze===60&&u===1?(t.consume(ze),fe):ze===62&&u===4?(t.consume(ze),xe):ze===63&&u===3?(t.consume(ze),de):ze===93&&u===5?(t.consume(ze),qe):Jr(ze)&&(u===6||u===7)?(t.exit("htmlFlowData"),t.check(bz,gt,R)(ze)):ze===null||Jr(ze)?(t.exit("htmlFlowData"),R(ze)):(t.consume(ze),N)}function R(ze){return t.check(yz,B,gt)(ze)}function B(ze){return t.enter("lineEnding"),t.consume(ze),t.exit("lineEnding"),j}function j(ze){return ze===null||Jr(ze)?R(ze):(t.enter("htmlFlowData"),N(ze))}function J(ze){return ze===45?(t.consume(ze),de):N(ze)}function fe(ze){return ze===47?(t.consume(ze),f="",Ne):N(ze)}function Ne(ze){if(ze===62){const Ft=f.toLowerCase();return Dw.includes(Ft)?(t.consume(ze),xe):N(ze)}return _l(ze)&&f.length<8?(t.consume(ze),f+=String.fromCharCode(ze),Ne):N(ze)}function qe(ze){return ze===93?(t.consume(ze),de):N(ze)}function de(ze){return ze===62?(t.consume(ze),xe):ze===45&&u===2?(t.consume(ze),de):N(ze)}function xe(ze){return ze===null||Jr(ze)?(t.exit("htmlFlowData"),gt(ze)):(t.consume(ze),xe)}function gt(ze){return t.exit("htmlFlow"),s(ze)}}function Tz(t,s,r){const i=this;return u;function u(f){return Jr(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),h):r(f)}function h(f){return i.parser.lazy[i.now().line]?r(f):s(f)}}function Ez(t,s,r){return i;function i(u){return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),t.attempt(B7,s,r)}}const Sz={name:"htmlText",tokenize:xz};function xz(t,s,r){const i=this;let u,h,f;return g;function g(de){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(de),y}function y(de){return de===33?(t.consume(de),$):de===47?(t.consume(de),Oe):de===63?(t.consume(de),te):_l(de)?(t.consume(de),je):r(de)}function $(de){return de===45?(t.consume(de),T):de===91?(t.consume(de),h=0,K):_l(de)?(t.consume(de),le):r(de)}function T(de){return de===45?(t.consume(de),A):r(de)}function w(de){return de===null?r(de):de===45?(t.consume(de),I):Jr(de)?(f=w,fe(de)):(t.consume(de),w)}function I(de){return de===45?(t.consume(de),A):w(de)}function A(de){return de===62?J(de):de===45?I(de):w(de)}function K(de){const xe="CDATA[";return de===xe.charCodeAt(h++)?(t.consume(de),h===xe.length?ne:K):r(de)}function ne(de){return de===null?r(de):de===93?(t.consume(de),he):Jr(de)?(f=ne,fe(de)):(t.consume(de),ne)}function he(de){return de===93?(t.consume(de),V):ne(de)}function V(de){return de===62?J(de):de===93?(t.consume(de),V):ne(de)}function le(de){return de===null||de===62?J(de):Jr(de)?(f=le,fe(de)):(t.consume(de),le)}function te(de){return de===null?r(de):de===63?(t.consume(de),Ce):Jr(de)?(f=te,fe(de)):(t.consume(de),te)}function Ce(de){return de===62?J(de):te(de)}function Oe(de){return _l(de)?(t.consume(de),ce):r(de)}function ce(de){return de===45||el(de)?(t.consume(de),ce):Be(de)}function Be(de){return Jr(de)?(f=Be,fe(de)):qi(de)?(t.consume(de),Be):J(de)}function je(de){return de===45||el(de)?(t.consume(de),je):de===47||de===62||js(de)?_e(de):r(de)}function _e(de){return de===47?(t.consume(de),J):de===58||de===95||_l(de)?(t.consume(de),b):Jr(de)?(f=_e,fe(de)):qi(de)?(t.consume(de),_e):J(de)}function b(de){return de===45||de===46||de===58||de===95||el(de)?(t.consume(de),b):O(de)}function O(de){return de===61?(t.consume(de),N):Jr(de)?(f=O,fe(de)):qi(de)?(t.consume(de),O):_e(de)}function N(de){return de===null||de===60||de===61||de===62||de===96?r(de):de===34||de===39?(t.consume(de),u=de,R):Jr(de)?(f=N,fe(de)):qi(de)?(t.consume(de),N):(t.consume(de),B)}function R(de){return de===u?(t.consume(de),u=void 0,j):de===null?r(de):Jr(de)?(f=R,fe(de)):(t.consume(de),R)}function B(de){return de===null||de===34||de===39||de===60||de===61||de===96?r(de):de===47||de===62||js(de)?_e(de):(t.consume(de),B)}function j(de){return de===47||de===62||js(de)?_e(de):r(de)}function J(de){return de===62?(t.consume(de),t.exit("htmlTextData"),t.exit("htmlText"),s):r(de)}function fe(de){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(de),t.exit("lineEnding"),Ne}function Ne(de){return qi(de)?Fi(t,qe,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(de):qe(de)}function qe(de){return t.enter("htmlTextData"),f(de)}}const Sv={name:"labelEnd",resolveAll:Az,resolveTo:Nz,tokenize:Iz},Cz={tokenize:Oz},Mz={tokenize:Rz},kz={tokenize:Lz};function Az(t){let s=-1;const r=[];for(;++s<t.length;){const i=t[s][1];if(r.push(t[s]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const u=i.type==="labelImage"?4:2;i.type="data",s+=u}}return t.length!==r.length&&da(t,0,t.length,r),t}function Nz(t,s){let r=t.length,i=0,u,h,f,g;for(;r--;)if(u=t[r][1],h){if(u.type==="link"||u.type==="labelLink"&&u._inactive)break;t[r][0]==="enter"&&u.type==="labelLink"&&(u._inactive=!0)}else if(f){if(t[r][0]==="enter"&&(u.type==="labelImage"||u.type==="labelLink")&&!u._balanced&&(h=r,u.type!=="labelLink")){i=2;break}}else u.type==="labelEnd"&&(f=r);const y={type:t[h][1].type==="labelLink"?"link":"image",start:{...t[h][1].start},end:{...t[t.length-1][1].end}},$={type:"label",start:{...t[h][1].start},end:{...t[f][1].end}},T={type:"labelText",start:{...t[h+i+2][1].end},end:{...t[f-2][1].start}};return g=[["enter",y,s],["enter",$,s]],g=Ja(g,t.slice(h+1,h+i+3)),g=Ja(g,[["enter",T,s]]),g=Ja(g,Df(s.parser.constructs.insideSpan.null,t.slice(h+i+4,f-3),s)),g=Ja(g,[["exit",T,s],t[f-2],t[f-1],["exit",$,s]]),g=Ja(g,t.slice(f+1)),g=Ja(g,[["exit",y,s]]),da(t,h,t.length,g),t}function Iz(t,s,r){const i=this;let u=i.events.length,h,f;for(;u--;)if((i.events[u][1].type==="labelImage"||i.events[u][1].type==="labelLink")&&!i.events[u][1]._balanced){h=i.events[u][1];break}return g;function g(I){return h?h._inactive?w(I):(f=i.parser.defined.includes(Bu(i.sliceSerialize({start:h.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(I),t.exit("labelMarker"),t.exit("labelEnd"),y):r(I)}function y(I){return I===40?t.attempt(Cz,T,f?T:w)(I):I===91?t.attempt(Mz,T,f?$:w)(I):f?T(I):w(I)}function $(I){return t.attempt(kz,T,w)(I)}function T(I){return s(I)}function w(I){return h._balanced=!0,r(I)}}function Oz(t,s,r){return i;function i(w){return t.enter("resource"),t.enter("resourceMarker"),t.consume(w),t.exit("resourceMarker"),u}function u(w){return js(w)?h7(t,h)(w):h(w)}function h(w){return w===41?T(w):kC(t,f,g,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(w)}function f(w){return js(w)?h7(t,y)(w):T(w)}function g(w){return r(w)}function y(w){return w===34||w===39||w===40?NC(t,$,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(w):T(w)}function $(w){return js(w)?h7(t,T)(w):T(w)}function T(w){return w===41?(t.enter("resourceMarker"),t.consume(w),t.exit("resourceMarker"),t.exit("resource"),s):r(w)}}function Rz(t,s,r){const i=this;return u;function u(g){return AC.call(i,t,h,f,"reference","referenceMarker","referenceString")(g)}function h(g){return i.parser.defined.includes(Bu(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?s(g):r(g)}function f(g){return r(g)}}function Lz(t,s,r){return i;function i(h){return t.enter("reference"),t.enter("referenceMarker"),t.consume(h),t.exit("referenceMarker"),u}function u(h){return h===93?(t.enter("referenceMarker"),t.consume(h),t.exit("referenceMarker"),t.exit("reference"),s):r(h)}}const Dz={name:"labelStartImage",resolveAll:Sv.resolveAll,tokenize:Bz};function Bz(t,s,r){const i=this;return u;function u(g){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(g),t.exit("labelImageMarker"),h}function h(g){return g===91?(t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelImage"),f):r(g)}function f(g){return g===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(g):s(g)}}const Pz={name:"labelStartLink",resolveAll:Sv.resolveAll,tokenize:Fz};function Fz(t,s,r){const i=this;return u;function u(f){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelLink"),h}function h(f){return f===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(f):s(f)}}const Wp={name:"lineEnding",tokenize:Uz};function Uz(t,s){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Fi(t,s,"linePrefix")}}const g9={name:"thematicBreak",tokenize:zz};function zz(t,s,r){let i=0,u;return h;function h($){return t.enter("thematicBreak"),f($)}function f($){return u=$,g($)}function g($){return $===u?(t.enter("thematicBreakSequence"),y($)):i>=3&&($===null||Jr($))?(t.exit("thematicBreak"),s($)):r($)}function y($){return $===u?(t.consume($),i++,y):(t.exit("thematicBreakSequence"),qi($)?Fi(t,g,"whitespace")($):g($))}}const Rl={continuation:{tokenize:qz},exit:jz,name:"list",tokenize:Gz},Hz={partial:!0,tokenize:Xz},Vz={partial:!0,tokenize:Wz};function Gz(t,s,r){const i=this,u=i.events[i.events.length-1];let h=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0,f=0;return g;function g(A){const K=i.containerState.type||(A===42||A===43||A===45?"listUnordered":"listOrdered");if(K==="listUnordered"?!i.containerState.marker||A===i.containerState.marker:Wm(A)){if(i.containerState.type||(i.containerState.type=K,t.enter(K,{_container:!0})),K==="listUnordered")return t.enter("listItemPrefix"),A===42||A===45?t.check(g9,r,$)(A):$(A);if(!i.interrupt||A===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),y(A)}return r(A)}function y(A){return Wm(A)&&++f<10?(t.consume(A),y):(!i.interrupt||f<2)&&(i.containerState.marker?A===i.containerState.marker:A===41||A===46)?(t.exit("listItemValue"),$(A)):r(A)}function $(A){return t.enter("listItemMarker"),t.consume(A),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||A,t.check(B7,i.interrupt?r:T,t.attempt(Hz,I,w))}function T(A){return i.containerState.initialBlankLine=!0,h++,I(A)}function w(A){return qi(A)?(t.enter("listItemPrefixWhitespace"),t.consume(A),t.exit("listItemPrefixWhitespace"),I):r(A)}function I(A){return i.containerState.size=h+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,s(A)}}function qz(t,s,r){const i=this;return i.containerState._closeFlow=void 0,t.check(B7,u,h);function u(g){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Fi(t,s,"listItemIndent",i.containerState.size+1)(g)}function h(g){return i.containerState.furtherBlankLines||!qi(g)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,f(g)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(Vz,s,f)(g))}function f(g){return i.containerState._closeFlow=!0,i.interrupt=void 0,Fi(t,t.attempt(Rl,s,r),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g)}}function Wz(t,s,r){const i=this;return Fi(t,u,"listItemIndent",i.containerState.size+1);function u(h){const f=i.events[i.events.length-1];return f&&f[1].type==="listItemIndent"&&f[2].sliceSerialize(f[1],!0).length===i.containerState.size?s(h):r(h)}}function jz(t){t.exit(this.containerState.type)}function Xz(t,s,r){const i=this;return Fi(t,u,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function u(h){const f=i.events[i.events.length-1];return!qi(h)&&f&&f[1].type==="listItemPrefixWhitespace"?s(h):r(h)}}const Bw={name:"setextUnderline",resolveTo:Yz,tokenize:Kz};function Yz(t,s){let r=t.length,i,u,h;for(;r--;)if(t[r][0]==="enter"){if(t[r][1].type==="content"){i=r;break}t[r][1].type==="paragraph"&&(u=r)}else t[r][1].type==="content"&&t.splice(r,1),!h&&t[r][1].type==="definition"&&(h=r);const f={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[u][1].type="setextHeadingText",h?(t.splice(u,0,["enter",f,s]),t.splice(h+1,0,["exit",t[i][1],s]),t[i][1].end={...t[h][1].end}):t[i][1]=f,t.push(["exit",f,s]),t}function Kz(t,s,r){const i=this;let u;return h;function h($){let T=i.events.length,w;for(;T--;)if(i.events[T][1].type!=="lineEnding"&&i.events[T][1].type!=="linePrefix"&&i.events[T][1].type!=="content"){w=i.events[T][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||w)?(t.enter("setextHeadingLine"),u=$,f($)):r($)}function f($){return t.enter("setextHeadingLineSequence"),g($)}function g($){return $===u?(t.consume($),g):(t.exit("setextHeadingLineSequence"),qi($)?Fi(t,y,"lineSuffix")($):y($))}function y($){return $===null||Jr($)?(t.exit("setextHeadingLine"),s($)):r($)}}const Jz={tokenize:Zz};function Zz(t){const s=this,r=t.attempt(B7,i,t.attempt(this.parser.constructs.flowInitial,u,Fi(t,t.attempt(this.parser.constructs.flow,u,t.attempt(rz,u)),"linePrefix")));return r;function i(h){if(h===null){t.consume(h);return}return t.enter("lineEndingBlank"),t.consume(h),t.exit("lineEndingBlank"),s.currentConstruct=void 0,r}function u(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),s.currentConstruct=void 0,r}}const Qz={resolveAll:OC()},eH=IC("string"),tH=IC("text");function IC(t){return{resolveAll:OC(t==="text"?nH:void 0),tokenize:s};function s(r){const i=this,u=this.parser.constructs[t],h=r.attempt(u,f,g);return f;function f(T){return $(T)?h(T):g(T)}function g(T){if(T===null){r.consume(T);return}return r.enter("data"),r.consume(T),y}function y(T){return $(T)?(r.exit("data"),h(T)):(r.consume(T),y)}function $(T){if(T===null)return!0;const w=u[T];let I=-1;if(w)for(;++I<w.length;){const A=w[I];if(!A.previous||A.previous.call(i,i.previous))return!0}return!1}}}function OC(t){return s;function s(r,i){let u=-1,h;for(;++u<=r.length;)h===void 0?r[u]&&r[u][1].type==="data"&&(h=u,u++):(!r[u]||r[u][1].type!=="data")&&(u!==h+2&&(r[h][1].end=r[u-1][1].end,r.splice(h+2,u-h-2),u=h+2),h=void 0);return t?t(r,i):r}}function nH(t,s){let r=0;for(;++r<=t.length;)if((r===t.length||t[r][1].type==="lineEnding")&&t[r-1][1].type==="data"){const i=t[r-1][1],u=s.sliceStream(i);let h=u.length,f=-1,g=0,y;for(;h--;){const $=u[h];if(typeof $=="string"){for(f=$.length;$.charCodeAt(f-1)===32;)g++,f--;if(f)break;f=-1}else if($===-2)y=!0,g++;else if($!==-1){h++;break}}if(s._contentTypeTextTrailing&&r===t.length&&(g=0),g){const $={type:r===t.length||y||g<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:h?f:i.start._bufferIndex+f,_index:i.start._index+h,line:i.end.line,column:i.end.column-g,offset:i.end.offset-g},end:{...i.end}};i.end={...$.start},i.start.offset===i.end.offset?Object.assign(i,$):(t.splice(r,0,["enter",$,s],["exit",$,s]),r+=2)}r++}return t}const rH={42:Rl,43:Rl,45:Rl,48:Rl,49:Rl,50:Rl,51:Rl,52:Rl,53:Rl,54:Rl,55:Rl,56:Rl,57:Rl,62:SC},iH={91:az},sH={[-2]:qp,[-1]:qp,32:qp},oH={35:pz,42:g9,45:[Bw,g9],60:$z,61:Bw,95:g9,96:Lw,126:Lw},lH={38:CC,92:xC},aH={[-5]:Wp,[-4]:Wp,[-3]:Wp,33:Dz,38:CC,42:jm,60:[PU,Sz],91:Pz,92:[fz,xC],93:Sv,95:jm,96:JU},uH={null:[jm,Qz]},cH={null:[42,95]},hH={null:[]},fH=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:cH,contentInitial:iH,disable:hH,document:rH,flow:oH,flowInitial:sH,insideSpan:uH,string:lH,text:aH},Symbol.toStringTag,{value:"Module"}));function dH(t,s,r){let i={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const u={},h=[];let f=[],g=[];const y={attempt:Be(Oe),check:Be(ce),consume:le,enter:te,exit:Ce,interrupt:Be(ce,{interrupt:!0})},$={code:null,containerState:{},defineSkip:ne,events:[],now:K,parser:t,previous:null,sliceSerialize:I,sliceStream:A,write:w};let T=s.tokenize.call($,y);return s.resolveAll&&h.push(s),$;function w(O){return f=Ja(f,O),he(),f[f.length-1]!==null?[]:(je(s,0),$.events=Df(h,$.events,$),$.events)}function I(O,N){return mH(A(O),N)}function A(O){return pH(f,O)}function K(){const{_bufferIndex:O,_index:N,line:R,column:B,offset:j}=i;return{_bufferIndex:O,_index:N,line:R,column:B,offset:j}}function ne(O){u[O.line]=O.column,b()}function he(){let O;for(;i._index<f.length;){const N=f[i._index];if(typeof N=="string")for(O=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===O&&i._bufferIndex<N.length;)V(N.charCodeAt(i._bufferIndex));else V(N)}}function V(O){T=T(O)}function le(O){Jr(O)?(i.line++,i.column=1,i.offset+=O===-3?2:1,b()):O!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===f[i._index].length&&(i._bufferIndex=-1,i._index++)),$.previous=O}function te(O,N){const R=N||{};return R.type=O,R.start=K(),$.events.push(["enter",R,$]),g.push(R),R}function Ce(O){const N=g.pop();return N.end=K(),$.events.push(["exit",N,$]),N}function Oe(O,N){je(O,N.from)}function ce(O,N){N.restore()}function Be(O,N){return R;function R(B,j,J){let fe,Ne,qe,de;return Array.isArray(B)?gt(B):"tokenize"in B?gt([B]):xe(B);function xe(et){return Ct;function Ct(nt){const yt=nt!==null&&et[nt],Ut=nt!==null&&et.null,Ht=[...Array.isArray(yt)?yt:yt?[yt]:[],...Array.isArray(Ut)?Ut:Ut?[Ut]:[]];return gt(Ht)(nt)}}function gt(et){return fe=et,Ne=0,et.length===0?J:ze(et[Ne])}function ze(et){return Ct;function Ct(nt){return de=_e(),qe=et,et.partial||($.currentConstruct=et),et.name&&$.parser.constructs.disable.null.includes(et.name)?Ge():et.tokenize.call(N?Object.assign(Object.create($),N):$,y,Ft,Ge)(nt)}}function Ft(et){return O(qe,de),j}function Ge(et){return de.restore(),++Ne<fe.length?ze(fe[Ne]):J}}}function je(O,N){O.resolveAll&&!h.includes(O)&&h.push(O),O.resolve&&da($.events,N,$.events.length-N,O.resolve($.events.slice(N),$)),O.resolveTo&&($.events=O.resolveTo($.events,$))}function _e(){const O=K(),N=$.previous,R=$.currentConstruct,B=$.events.length,j=Array.from(g);return{from:B,restore:J};function J(){i=O,$.previous=N,$.currentConstruct=R,$.events.length=B,g=j,b()}}function b(){i.line in u&&i.column<2&&(i.column=u[i.line],i.offset+=u[i.line]-1)}}function pH(t,s){const r=s.start._index,i=s.start._bufferIndex,u=s.end._index,h=s.end._bufferIndex;let f;if(r===u)f=[t[r].slice(i,h)];else{if(f=t.slice(r,u),i>-1){const g=f[0];typeof g=="string"?f[0]=g.slice(i):f.shift()}h>0&&f.push(t[u].slice(0,h))}return f}function mH(t,s){let r=-1;const i=[];let u;for(;++r<t.length;){const h=t[r];let f;if(typeof h=="string")f=h;else switch(h){case-5:{f="\r";break}case-4:{f=`
`;break}case-3:{f=`\r
`;break}case-2:{f=s?" ":"	";break}case-1:{if(!s&&u)continue;f=" ";break}default:f=String.fromCharCode(h)}u=h===-2,i.push(f)}return i.join("")}function gH(t){const i={constructs:TC([fH,...(t||{}).extensions||[]]),content:u(NU),defined:[],document:u(OU),flow:u(Jz),lazy:{},string:u(eH),text:u(tH)};return i;function u(h){return f;function f(g){return dH(i,h,g)}}}function vH(t){for(;!MC(t););return t}const Pw=/[\0\t\n\r]/g;function $H(){let t=1,s="",r=!0,i;return u;function u(h,f,g){const y=[];let $,T,w,I,A;for(h=s+(typeof h=="string"?h.toString():new TextDecoder(f||void 0).decode(h)),w=0,s="",r&&(h.charCodeAt(0)===65279&&w++,r=void 0);w<h.length;){if(Pw.lastIndex=w,$=Pw.exec(h),I=$&&$.index!==void 0?$.index:h.length,A=h.charCodeAt(I),!$){s=h.slice(w);break}if(A===10&&w===I&&i)y.push(-3),i=void 0;else switch(i&&(y.push(-5),i=void 0),w<I&&(y.push(h.slice(w,I)),t+=I-w),A){case 0:{y.push(65533),t++;break}case 9:{for(T=Math.ceil(t/4)*4,y.push(-2);t++<T;)y.push(-1);break}case 10:{y.push(-4),t=1;break}default:i=!0,t=1}w=I+1}return g&&(i&&y.push(-5),s&&y.push(s),y.push(null)),y}}const bH=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function yH(t){return t.replace(bH,_H)}function _H(t,s,r){if(s)return s;if(r.charCodeAt(0)===35){const u=r.charCodeAt(1),h=u===120||u===88;return EC(r.slice(h?2:1),h?16:10)}return Ev(r)||t}const RC={}.hasOwnProperty;function wH(t,s,r){return typeof s!="string"&&(r=s,s=void 0),TH(r)(vH(gH(r).document().write($H()(t,s,!0))))}function TH(t){const s={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:h(lt),autolinkProtocol:_e,autolinkEmail:_e,atxHeading:h(nn),blockQuote:h(Ut),characterEscape:_e,characterReference:_e,codeFenced:h(Ht),codeFencedFenceInfo:f,codeFencedFenceMeta:f,codeIndented:h(Ht,f),codeText:h(Me,f),codeTextData:_e,data:_e,codeFlowValue:_e,definition:h(ut),definitionDestinationString:f,definitionLabelString:f,definitionTitleString:f,emphasis:h(en),hardBreakEscape:h(De),hardBreakTrailing:h(De),htmlFlow:h(se,f),htmlFlowData:_e,htmlText:h(se,f),htmlTextData:_e,image:h(Ae),label:f,link:h(lt),listItem:h(Tt),listItemValue:I,listOrdered:h(Qe,w),listUnordered:h(Qe),paragraph:h(Et),reference:ze,referenceString:f,resourceDestinationString:f,resourceTitleString:f,setextHeading:h(nn),strong:h(Vt),thematicBreak:h(P)},exit:{atxHeading:y(),atxHeadingSequence:Oe,autolink:y(),autolinkEmail:yt,autolinkProtocol:nt,blockQuote:y(),characterEscapeValue:b,characterReferenceMarkerHexadecimal:Ge,characterReferenceMarkerNumeric:Ge,characterReferenceValue:et,characterReference:Ct,codeFenced:y(he),codeFencedFence:ne,codeFencedFenceInfo:A,codeFencedFenceMeta:K,codeFlowValue:b,codeIndented:y(V),codeText:y(j),codeTextData:b,data:b,definition:y(),definitionDestinationString:Ce,definitionLabelString:le,definitionTitleString:te,emphasis:y(),hardBreakEscape:y(N),hardBreakTrailing:y(N),htmlFlow:y(R),htmlFlowData:b,htmlText:y(B),htmlTextData:b,image:y(fe),label:qe,labelText:Ne,lineEnding:O,link:y(J),listItem:y(),listOrdered:y(),listUnordered:y(),paragraph:y(),referenceString:Ft,resourceDestinationString:de,resourceTitleString:xe,resource:gt,setextHeading:y(je),setextHeadingLineSequence:Be,setextHeadingText:ce,strong:y(),thematicBreak:y()}};LC(s,(t||{}).mdastExtensions||[]);const r={};return i;function i(Re){let ke={type:"root",children:[]};const ht={stack:[ke],tokenStack:[],config:s,enter:g,exit:$,buffer:f,resume:T,data:r},Mt=[];let Ot=-1;for(;++Ot<Re.length;)if(Re[Ot][1].type==="listOrdered"||Re[Ot][1].type==="listUnordered")if(Re[Ot][0]==="enter")Mt.push(Ot);else{const wt=Mt.pop();Ot=u(Re,wt,Ot)}for(Ot=-1;++Ot<Re.length;){const wt=s[Re[Ot][0]];RC.call(wt,Re[Ot][1].type)&&wt[Re[Ot][1].type].call(Object.assign({sliceSerialize:Re[Ot][2].sliceSerialize},ht),Re[Ot][1])}if(ht.tokenStack.length>0){const wt=ht.tokenStack[ht.tokenStack.length-1];(wt[1]||Fw).call(ht,void 0,wt[0])}for(ke.position={start:W2(Re.length>0?Re[0][1].start:{line:1,column:1,offset:0}),end:W2(Re.length>0?Re[Re.length-2][1].end:{line:1,column:1,offset:0})},Ot=-1;++Ot<s.transforms.length;)ke=s.transforms[Ot](ke)||ke;return ke}function u(Re,ke,ht){let Mt=ke-1,Ot=-1,wt=!1,ft,Y,Ee,Je;for(;++Mt<=ht;){const Fe=Re[Mt];switch(Fe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Fe[0]==="enter"?Ot++:Ot--,Je=void 0;break}case"lineEndingBlank":{Fe[0]==="enter"&&(ft&&!Je&&!Ot&&!Ee&&(Ee=Mt),Je=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Je=void 0}if(!Ot&&Fe[0]==="enter"&&Fe[1].type==="listItemPrefix"||Ot===-1&&Fe[0]==="exit"&&(Fe[1].type==="listUnordered"||Fe[1].type==="listOrdered")){if(ft){let Lt=Mt;for(Y=void 0;Lt--;){const Bt=Re[Lt];if(Bt[1].type==="lineEnding"||Bt[1].type==="lineEndingBlank"){if(Bt[0]==="exit")continue;Y&&(Re[Y][1].type="lineEndingBlank",wt=!0),Bt[1].type="lineEnding",Y=Lt}else if(!(Bt[1].type==="linePrefix"||Bt[1].type==="blockQuotePrefix"||Bt[1].type==="blockQuotePrefixWhitespace"||Bt[1].type==="blockQuoteMarker"||Bt[1].type==="listItemIndent"))break}Ee&&(!Y||Ee<Y)&&(ft._spread=!0),ft.end=Object.assign({},Y?Re[Y][1].start:Fe[1].end),Re.splice(Y||Mt,0,["exit",ft,Fe[2]]),Mt++,ht++}if(Fe[1].type==="listItemPrefix"){const Lt={type:"listItem",_spread:!1,start:Object.assign({},Fe[1].start),end:void 0};ft=Lt,Re.splice(Mt,0,["enter",Lt,Fe[2]]),Mt++,ht++,Ee=void 0,Je=!0}}}return Re[ke][1]._spread=wt,ht}function h(Re,ke){return ht;function ht(Mt){g.call(this,Re(Mt),Mt),ke&&ke.call(this,Mt)}}function f(){this.stack.push({type:"fragment",children:[]})}function g(Re,ke,ht){this.stack[this.stack.length-1].children.push(Re),this.stack.push(Re),this.tokenStack.push([ke,ht||void 0]),Re.position={start:W2(ke.start),end:void 0}}function y(Re){return ke;function ke(ht){Re&&Re.call(this,ht),$.call(this,ht)}}function $(Re,ke){const ht=this.stack.pop(),Mt=this.tokenStack.pop();if(Mt)Mt[0].type!==Re.type&&(ke?ke.call(this,Re,Mt[0]):(Mt[1]||Fw).call(this,Re,Mt[0]));else throw new Error("Cannot close `"+Re.type+"` ("+c7({start:Re.start,end:Re.end})+"): its not open");ht.position.end=W2(Re.end)}function T(){return Tv(this.stack.pop())}function w(){this.data.expectingFirstListItemValue=!0}function I(Re){if(this.data.expectingFirstListItemValue){const ke=this.stack[this.stack.length-2];ke.start=Number.parseInt(this.sliceSerialize(Re),10),this.data.expectingFirstListItemValue=void 0}}function A(){const Re=this.resume(),ke=this.stack[this.stack.length-1];ke.lang=Re}function K(){const Re=this.resume(),ke=this.stack[this.stack.length-1];ke.meta=Re}function ne(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function he(){const Re=this.resume(),ke=this.stack[this.stack.length-1];ke.value=Re.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function V(){const Re=this.resume(),ke=this.stack[this.stack.length-1];ke.value=Re.replace(/(\r?\n|\r)$/g,"")}function le(Re){const ke=this.resume(),ht=this.stack[this.stack.length-1];ht.label=ke,ht.identifier=Bu(this.sliceSerialize(Re)).toLowerCase()}function te(){const Re=this.resume(),ke=this.stack[this.stack.length-1];ke.title=Re}function Ce(){const Re=this.resume(),ke=this.stack[this.stack.length-1];ke.url=Re}function Oe(Re){const ke=this.stack[this.stack.length-1];if(!ke.depth){const ht=this.sliceSerialize(Re).length;ke.depth=ht}}function ce(){this.data.setextHeadingSlurpLineEnding=!0}function Be(Re){const ke=this.stack[this.stack.length-1];ke.depth=this.sliceSerialize(Re).codePointAt(0)===61?1:2}function je(){this.data.setextHeadingSlurpLineEnding=void 0}function _e(Re){const ht=this.stack[this.stack.length-1].children;let Mt=ht[ht.length-1];(!Mt||Mt.type!=="text")&&(Mt=rt(),Mt.position={start:W2(Re.start),end:void 0},ht.push(Mt)),this.stack.push(Mt)}function b(Re){const ke=this.stack.pop();ke.value+=this.sliceSerialize(Re),ke.position.end=W2(Re.end)}function O(Re){const ke=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ht=ke.children[ke.children.length-1];ht.position.end=W2(Re.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&s.canContainEols.includes(ke.type)&&(_e.call(this,Re),b.call(this,Re))}function N(){this.data.atHardBreak=!0}function R(){const Re=this.resume(),ke=this.stack[this.stack.length-1];ke.value=Re}function B(){const Re=this.resume(),ke=this.stack[this.stack.length-1];ke.value=Re}function j(){const Re=this.resume(),ke=this.stack[this.stack.length-1];ke.value=Re}function J(){const Re=this.stack[this.stack.length-1];if(this.data.inReference){const ke=this.data.referenceType||"shortcut";Re.type+="Reference",Re.referenceType=ke,delete Re.url,delete Re.title}else delete Re.identifier,delete Re.label;this.data.referenceType=void 0}function fe(){const Re=this.stack[this.stack.length-1];if(this.data.inReference){const ke=this.data.referenceType||"shortcut";Re.type+="Reference",Re.referenceType=ke,delete Re.url,delete Re.title}else delete Re.identifier,delete Re.label;this.data.referenceType=void 0}function Ne(Re){const ke=this.sliceSerialize(Re),ht=this.stack[this.stack.length-2];ht.label=yH(ke),ht.identifier=Bu(ke).toLowerCase()}function qe(){const Re=this.stack[this.stack.length-1],ke=this.resume(),ht=this.stack[this.stack.length-1];if(this.data.inReference=!0,ht.type==="link"){const Mt=Re.children;ht.children=Mt}else ht.alt=ke}function de(){const Re=this.resume(),ke=this.stack[this.stack.length-1];ke.url=Re}function xe(){const Re=this.resume(),ke=this.stack[this.stack.length-1];ke.title=Re}function gt(){this.data.inReference=void 0}function ze(){this.data.referenceType="collapsed"}function Ft(Re){const ke=this.resume(),ht=this.stack[this.stack.length-1];ht.label=ke,ht.identifier=Bu(this.sliceSerialize(Re)).toLowerCase(),this.data.referenceType="full"}function Ge(Re){this.data.characterReferenceType=Re.type}function et(Re){const ke=this.sliceSerialize(Re),ht=this.data.characterReferenceType;let Mt;ht?(Mt=EC(ke,ht==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Mt=Ev(ke);const Ot=this.stack[this.stack.length-1];Ot.value+=Mt}function Ct(Re){const ke=this.stack.pop();ke.position.end=W2(Re.end)}function nt(Re){b.call(this,Re);const ke=this.stack[this.stack.length-1];ke.url=this.sliceSerialize(Re)}function yt(Re){b.call(this,Re);const ke=this.stack[this.stack.length-1];ke.url="mailto:"+this.sliceSerialize(Re)}function Ut(){return{type:"blockquote",children:[]}}function Ht(){return{type:"code",lang:null,meta:null,value:""}}function Me(){return{type:"inlineCode",value:""}}function ut(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function en(){return{type:"emphasis",children:[]}}function nn(){return{type:"heading",depth:0,children:[]}}function De(){return{type:"break"}}function se(){return{type:"html",value:""}}function Ae(){return{type:"image",title:null,url:"",alt:null}}function lt(){return{type:"link",title:null,url:"",children:[]}}function Qe(Re){return{type:"list",ordered:Re.type==="listOrdered",start:null,spread:Re._spread,children:[]}}function Tt(Re){return{type:"listItem",spread:Re._spread,checked:null,children:[]}}function Et(){return{type:"paragraph",children:[]}}function Vt(){return{type:"strong",children:[]}}function rt(){return{type:"text",value:""}}function P(){return{type:"thematicBreak"}}}function W2(t){return{line:t.line,column:t.column,offset:t.offset}}function LC(t,s){let r=-1;for(;++r<s.length;){const i=s[r];Array.isArray(i)?LC(t,i):EH(t,i)}}function EH(t,s){let r;for(r in s)if(RC.call(s,r))switch(r){case"canContainEols":{const i=s[r];i&&t[r].push(...i);break}case"transforms":{const i=s[r];i&&t[r].push(...i);break}case"enter":case"exit":{const i=s[r];i&&Object.assign(t[r],i);break}}}function Fw(t,s){throw t?new Error("Cannot close `"+t.type+"` ("+c7({start:t.start,end:t.end})+"): a different token (`"+s.type+"`, "+c7({start:s.start,end:s.end})+") is open"):new Error("Cannot close document, a token (`"+s.type+"`, "+c7({start:s.start,end:s.end})+") is still open")}function SH(t){const s=this;s.parser=r;function r(i){return wH(i,{...s.data("settings"),...t,extensions:s.data("micromarkExtensions")||[],mdastExtensions:s.data("fromMarkdownExtensions")||[]})}}function xH(t,s){const r={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(s),!0)};return t.patch(s,r),t.applyData(s,r)}function CH(t,s){const r={type:"element",tagName:"br",properties:{},children:[]};return t.patch(s,r),[t.applyData(s,r),{type:"text",value:`
`}]}function MH(t,s){const r=s.value?s.value+`
`:"",i={};s.lang&&(i.className=["language-"+s.lang]);let u={type:"element",tagName:"code",properties:i,children:[{type:"text",value:r}]};return s.meta&&(u.data={meta:s.meta}),t.patch(s,u),u=t.applyData(s,u),u={type:"element",tagName:"pre",properties:{},children:[u]},t.patch(s,u),u}function kH(t,s){const r={type:"element",tagName:"del",properties:{},children:t.all(s)};return t.patch(s,r),t.applyData(s,r)}function AH(t,s){const r={type:"element",tagName:"em",properties:{},children:t.all(s)};return t.patch(s,r),t.applyData(s,r)}function NH(t,s){const r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(s.identifier).toUpperCase(),u=T6(i.toLowerCase()),h=t.footnoteOrder.indexOf(i);let f,g=t.footnoteCounts.get(i);g===void 0?(g=0,t.footnoteOrder.push(i),f=t.footnoteOrder.length):f=h+1,g+=1,t.footnoteCounts.set(i,g);const y={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+u,id:r+"fnref-"+u+(g>1?"-"+g:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(f)}]};t.patch(s,y);const $={type:"element",tagName:"sup",properties:{},children:[y]};return t.patch(s,$),t.applyData(s,$)}function IH(t,s){const r={type:"element",tagName:"h"+s.depth,properties:{},children:t.all(s)};return t.patch(s,r),t.applyData(s,r)}function OH(t,s){if(t.options.allowDangerousHtml){const r={type:"raw",value:s.value};return t.patch(s,r),t.applyData(s,r)}}function DC(t,s){const r=s.referenceType;let i="]";if(r==="collapsed"?i+="[]":r==="full"&&(i+="["+(s.label||s.identifier)+"]"),s.type==="imageReference")return[{type:"text",value:"!["+s.alt+i}];const u=t.all(s),h=u[0];h&&h.type==="text"?h.value="["+h.value:u.unshift({type:"text",value:"["});const f=u[u.length-1];return f&&f.type==="text"?f.value+=i:u.push({type:"text",value:i}),u}function RH(t,s){const r=String(s.identifier).toUpperCase(),i=t.definitionById.get(r);if(!i)return DC(t,s);const u={src:T6(i.url||""),alt:s.alt};i.title!==null&&i.title!==void 0&&(u.title=i.title);const h={type:"element",tagName:"img",properties:u,children:[]};return t.patch(s,h),t.applyData(s,h)}function LH(t,s){const r={src:T6(s.url)};s.alt!==null&&s.alt!==void 0&&(r.alt=s.alt),s.title!==null&&s.title!==void 0&&(r.title=s.title);const i={type:"element",tagName:"img",properties:r,children:[]};return t.patch(s,i),t.applyData(s,i)}function DH(t,s){const r={type:"text",value:s.value.replace(/\r?\n|\r/g," ")};t.patch(s,r);const i={type:"element",tagName:"code",properties:{},children:[r]};return t.patch(s,i),t.applyData(s,i)}function BH(t,s){const r=String(s.identifier).toUpperCase(),i=t.definitionById.get(r);if(!i)return DC(t,s);const u={href:T6(i.url||"")};i.title!==null&&i.title!==void 0&&(u.title=i.title);const h={type:"element",tagName:"a",properties:u,children:t.all(s)};return t.patch(s,h),t.applyData(s,h)}function PH(t,s){const r={href:T6(s.url)};s.title!==null&&s.title!==void 0&&(r.title=s.title);const i={type:"element",tagName:"a",properties:r,children:t.all(s)};return t.patch(s,i),t.applyData(s,i)}function FH(t,s,r){const i=t.all(s),u=r?UH(r):BC(s),h={},f=[];if(typeof s.checked=="boolean"){const T=i[0];let w;T&&T.type==="element"&&T.tagName==="p"?w=T:(w={type:"element",tagName:"p",properties:{},children:[]},i.unshift(w)),w.children.length>0&&w.children.unshift({type:"text",value:" "}),w.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:s.checked,disabled:!0},children:[]}),h.className=["task-list-item"]}let g=-1;for(;++g<i.length;){const T=i[g];(u||g!==0||T.type!=="element"||T.tagName!=="p")&&f.push({type:"text",value:`
`}),T.type==="element"&&T.tagName==="p"&&!u?f.push(...T.children):f.push(T)}const y=i[i.length-1];y&&(u||y.type!=="element"||y.tagName!=="p")&&f.push({type:"text",value:`
`});const $={type:"element",tagName:"li",properties:h,children:f};return t.patch(s,$),t.applyData(s,$)}function UH(t){let s=!1;if(t.type==="list"){s=t.spread||!1;const r=t.children;let i=-1;for(;!s&&++i<r.length;)s=BC(r[i])}return s}function BC(t){const s=t.spread;return s??t.children.length>1}function zH(t,s){const r={},i=t.all(s);let u=-1;for(typeof s.start=="number"&&s.start!==1&&(r.start=s.start);++u<i.length;){const f=i[u];if(f.type==="element"&&f.tagName==="li"&&f.properties&&Array.isArray(f.properties.className)&&f.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const h={type:"element",tagName:s.ordered?"ol":"ul",properties:r,children:t.wrap(i,!0)};return t.patch(s,h),t.applyData(s,h)}function HH(t,s){const r={type:"element",tagName:"p",properties:{},children:t.all(s)};return t.patch(s,r),t.applyData(s,r)}function VH(t,s){const r={type:"root",children:t.wrap(t.all(s))};return t.patch(s,r),t.applyData(s,r)}function GH(t,s){const r={type:"element",tagName:"strong",properties:{},children:t.all(s)};return t.patch(s,r),t.applyData(s,r)}function qH(t,s){const r=t.all(s),i=r.shift(),u=[];if(i){const f={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(s.children[0],f),u.push(f)}if(r.length>0){const f={type:"element",tagName:"tbody",properties:{},children:t.wrap(r,!0)},g=bv(s.children[1]),y=gC(s.children[s.children.length-1]);g&&y&&(f.position={start:g,end:y}),u.push(f)}const h={type:"element",tagName:"table",properties:{},children:t.wrap(u,!0)};return t.patch(s,h),t.applyData(s,h)}function WH(t,s,r){const i=r?r.children:void 0,h=(i?i.indexOf(s):1)===0?"th":"td",f=r&&r.type==="table"?r.align:void 0,g=f?f.length:s.children.length;let y=-1;const $=[];for(;++y<g;){const w=s.children[y],I={},A=f?f[y]:void 0;A&&(I.align=A);let K={type:"element",tagName:h,properties:I,children:[]};w&&(K.children=t.all(w),t.patch(w,K),K=t.applyData(w,K)),$.push(K)}const T={type:"element",tagName:"tr",properties:{},children:t.wrap($,!0)};return t.patch(s,T),t.applyData(s,T)}function jH(t,s){const r={type:"element",tagName:"td",properties:{},children:t.all(s)};return t.patch(s,r),t.applyData(s,r)}const Uw=9,zw=32;function XH(t){const s=String(t),r=/\r?\n|\r/g;let i=r.exec(s),u=0;const h=[];for(;i;)h.push(Hw(s.slice(u,i.index),u>0,!0),i[0]),u=i.index+i[0].length,i=r.exec(s);return h.push(Hw(s.slice(u),u>0,!1)),h.join("")}function Hw(t,s,r){let i=0,u=t.length;if(s){let h=t.codePointAt(i);for(;h===Uw||h===zw;)i++,h=t.codePointAt(i)}if(r){let h=t.codePointAt(u-1);for(;h===Uw||h===zw;)u--,h=t.codePointAt(u-1)}return u>i?t.slice(i,u):""}function YH(t,s){const r={type:"text",value:XH(String(s.value))};return t.patch(s,r),t.applyData(s,r)}function KH(t,s){const r={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(s,r),t.applyData(s,r)}const JH={blockquote:xH,break:CH,code:MH,delete:kH,emphasis:AH,footnoteReference:NH,heading:IH,html:OH,imageReference:RH,image:LH,inlineCode:DH,linkReference:BH,link:PH,listItem:FH,list:zH,paragraph:HH,root:VH,strong:GH,table:qH,tableCell:jH,tableRow:WH,text:YH,thematicBreak:KH,toml:F8,yaml:F8,definition:F8,footnoteDefinition:F8};function F8(){}const PC=-1,Bf=0,f7=1,q9=2,xv=3,Cv=4,Mv=5,kv=6,FC=7,UC=8,Vw=typeof self=="object"?self:globalThis,ZH=(t,s)=>{const r=(u,h)=>(t.set(h,u),u),i=u=>{if(t.has(u))return t.get(u);const[h,f]=s[u];switch(h){case Bf:case PC:return r(f,u);case f7:{const g=r([],u);for(const y of f)g.push(i(y));return g}case q9:{const g=r({},u);for(const[y,$]of f)g[i(y)]=i($);return g}case xv:return r(new Date(f),u);case Cv:{const{source:g,flags:y}=f;return r(new RegExp(g,y),u)}case Mv:{const g=r(new Map,u);for(const[y,$]of f)g.set(i(y),i($));return g}case kv:{const g=r(new Set,u);for(const y of f)g.add(i(y));return g}case FC:{const{name:g,message:y}=f;return r(new Vw[g](y),u)}case UC:return r(BigInt(f),u);case"BigInt":return r(Object(BigInt(f)),u);case"ArrayBuffer":return r(new Uint8Array(f).buffer,f);case"DataView":{const{buffer:g}=new Uint8Array(f);return r(new DataView(g),f)}}return r(new Vw[h](f),u)};return i},Gw=t=>ZH(new Map,t)(0),Q3="",{toString:QH}={},{keys:eV}=Object,e7=t=>{const s=typeof t;if(s!=="object"||!t)return[Bf,s];const r=QH.call(t).slice(8,-1);switch(r){case"Array":return[f7,Q3];case"Object":return[q9,Q3];case"Date":return[xv,Q3];case"RegExp":return[Cv,Q3];case"Map":return[Mv,Q3];case"Set":return[kv,Q3];case"DataView":return[f7,r]}return r.includes("Array")?[f7,r]:r.includes("Error")?[FC,r]:[q9,r]},U8=([t,s])=>t===Bf&&(s==="function"||s==="symbol"),tV=(t,s,r,i)=>{const u=(f,g)=>{const y=i.push(f)-1;return r.set(g,y),y},h=f=>{if(r.has(f))return r.get(f);let[g,y]=e7(f);switch(g){case Bf:{let T=f;switch(y){case"bigint":g=UC,T=f.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+y);T=null;break;case"undefined":return u([PC],f)}return u([g,T],f)}case f7:{if(y){let I=f;return y==="DataView"?I=new Uint8Array(f.buffer):y==="ArrayBuffer"&&(I=new Uint8Array(f)),u([y,[...I]],f)}const T=[],w=u([g,T],f);for(const I of f)T.push(h(I));return w}case q9:{if(y)switch(y){case"BigInt":return u([y,f.toString()],f);case"Boolean":case"Number":case"String":return u([y,f.valueOf()],f)}if(s&&"toJSON"in f)return h(f.toJSON());const T=[],w=u([g,T],f);for(const I of eV(f))(t||!U8(e7(f[I])))&&T.push([h(I),h(f[I])]);return w}case xv:return u([g,f.toISOString()],f);case Cv:{const{source:T,flags:w}=f;return u([g,{source:T,flags:w}],f)}case Mv:{const T=[],w=u([g,T],f);for(const[I,A]of f)(t||!(U8(e7(I))||U8(e7(A))))&&T.push([h(I),h(A)]);return w}case kv:{const T=[],w=u([g,T],f);for(const I of f)(t||!U8(e7(I)))&&T.push(h(I));return w}}const{message:$}=f;return u([g,{name:y,message:$}],f)};return h},qw=(t,{json:s,lossy:r}={})=>{const i=[];return tV(!(s||r),!!s,new Map,i)(t),i},W9=typeof structuredClone=="function"?(t,s)=>s&&("json"in s||"lossy"in s)?Gw(qw(t,s)):structuredClone(t):(t,s)=>Gw(qw(t,s));function nV(t,s){const r=[{type:"text",value:""}];return s>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(s)}]}),r}function rV(t,s){return"Back to reference "+(t+1)+(s>1?"-"+s:"")}function iV(t){const s=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=t.options.footnoteBackContent||nV,i=t.options.footnoteBackLabel||rV,u=t.options.footnoteLabel||"Footnotes",h=t.options.footnoteLabelTagName||"h2",f=t.options.footnoteLabelProperties||{className:["sr-only"]},g=[];let y=-1;for(;++y<t.footnoteOrder.length;){const $=t.footnoteById.get(t.footnoteOrder[y]);if(!$)continue;const T=t.all($),w=String($.identifier).toUpperCase(),I=T6(w.toLowerCase());let A=0;const K=[],ne=t.footnoteCounts.get(w);for(;ne!==void 0&&++A<=ne;){K.length>0&&K.push({type:"text",value:" "});let le=typeof r=="string"?r:r(y,A);typeof le=="string"&&(le={type:"text",value:le}),K.push({type:"element",tagName:"a",properties:{href:"#"+s+"fnref-"+I+(A>1?"-"+A:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(y,A),className:["data-footnote-backref"]},children:Array.isArray(le)?le:[le]})}const he=T[T.length-1];if(he&&he.type==="element"&&he.tagName==="p"){const le=he.children[he.children.length-1];le&&le.type==="text"?le.value+=" ":he.children.push({type:"text",value:" "}),he.children.push(...K)}else T.push(...K);const V={type:"element",tagName:"li",properties:{id:s+"fn-"+I},children:t.wrap(T,!0)};t.patch($,V),g.push(V)}if(g.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:h,properties:{...W9(f),id:"footnote-label"},children:[{type:"text",value:u}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(g,!0)},{type:"text",value:`
`}]}}const P7=(function(t){if(t==null)return aV;if(typeof t=="function")return Pf(t);if(typeof t=="object")return Array.isArray(t)?sV(t):oV(t);if(typeof t=="string")return lV(t);throw new Error("Expected function, string, or object as test")});function sV(t){const s=[];let r=-1;for(;++r<t.length;)s[r]=P7(t[r]);return Pf(i);function i(...u){let h=-1;for(;++h<s.length;)if(s[h].apply(this,u))return!0;return!1}}function oV(t){const s=t;return Pf(r);function r(i){const u=i;let h;for(h in t)if(u[h]!==s[h])return!1;return!0}}function lV(t){return Pf(s);function s(r){return r&&r.type===t}}function Pf(t){return s;function s(r,i,u){return!!(uV(r)&&t.call(this,r,typeof i=="number"?i:void 0,u||void 0))}}function aV(){return!0}function uV(t){return t!==null&&typeof t=="object"&&"type"in t}const zC=[],cV=!0,Xm=!1,HC="skip";function Av(t,s,r,i){let u;typeof s=="function"&&typeof r!="function"?(i=r,r=s):u=s;const h=P7(u),f=i?-1:1;g(t,void 0,[])();function g(y,$,T){const w=y&&typeof y=="object"?y:{};if(typeof w.type=="string"){const A=typeof w.tagName=="string"?w.tagName:typeof w.name=="string"?w.name:void 0;Object.defineProperty(I,"name",{value:"node ("+(y.type+(A?"<"+A+">":""))+")"})}return I;function I(){let A=zC,K,ne,he;if((!s||h(y,$,T[T.length-1]||void 0))&&(A=hV(r(y,T)),A[0]===Xm))return A;if("children"in y&&y.children){const V=y;if(V.children&&A[0]!==HC)for(ne=(i?V.children.length:-1)+f,he=T.concat(V);ne>-1&&ne<V.children.length;){const le=V.children[ne];if(K=g(le,ne,he)(),K[0]===Xm)return K;ne=typeof K[1]=="number"?K[1]:ne+f}}return A}}}function hV(t){return Array.isArray(t)?t:typeof t=="number"?[cV,t]:t==null?zC:[t]}function Nv(t,s,r,i){let u,h,f;typeof s=="function"&&typeof r!="function"?(h=void 0,f=s,u=r):(h=s,f=r,u=i),Av(t,h,g,u);function g(y,$){const T=$[$.length-1],w=T?T.children.indexOf(y):void 0;return f(y,w,T)}}const Ym={}.hasOwnProperty,fV={};function dV(t,s){const r=s||fV,i=new Map,u=new Map,h=new Map,f={...JH,...r.handlers},g={all:$,applyData:mV,definitionById:i,footnoteById:u,footnoteCounts:h,footnoteOrder:[],handlers:f,one:y,options:r,patch:pV,wrap:vV};return Nv(t,function(T){if(T.type==="definition"||T.type==="footnoteDefinition"){const w=T.type==="definition"?i:u,I=String(T.identifier).toUpperCase();w.has(I)||w.set(I,T)}}),g;function y(T,w){const I=T.type,A=g.handlers[I];if(Ym.call(g.handlers,I)&&A)return A(g,T,w);if(g.options.passThrough&&g.options.passThrough.includes(I)){if("children"in T){const{children:ne,...he}=T,V=W9(he);return V.children=g.all(T),V}return W9(T)}return(g.options.unknownHandler||gV)(g,T,w)}function $(T){const w=[];if("children"in T){const I=T.children;let A=-1;for(;++A<I.length;){const K=g.one(I[A],T);if(K){if(A&&I[A-1].type==="break"&&(!Array.isArray(K)&&K.type==="text"&&(K.value=Ww(K.value)),!Array.isArray(K)&&K.type==="element")){const ne=K.children[0];ne&&ne.type==="text"&&(ne.value=Ww(ne.value))}Array.isArray(K)?w.push(...K):w.push(K)}}}return w}}function pV(t,s){t.position&&(s.position=rU(t))}function mV(t,s){let r=s;if(t&&t.data){const i=t.data.hName,u=t.data.hChildren,h=t.data.hProperties;if(typeof i=="string")if(r.type==="element")r.tagName=i;else{const f="children"in r?r.children:[r];r={type:"element",tagName:i,properties:{},children:f}}r.type==="element"&&h&&Object.assign(r.properties,W9(h)),"children"in r&&r.children&&u!==null&&u!==void 0&&(r.children=u)}return r}function gV(t,s){const r=s.data||{},i="value"in s&&!(Ym.call(r,"hProperties")||Ym.call(r,"hChildren"))?{type:"text",value:s.value}:{type:"element",tagName:"div",properties:{},children:t.all(s)};return t.patch(s,i),t.applyData(s,i)}function vV(t,s){const r=[];let i=-1;for(s&&r.push({type:"text",value:`
`});++i<t.length;)i&&r.push({type:"text",value:`
`}),r.push(t[i]);return s&&t.length>0&&r.push({type:"text",value:`
`}),r}function Ww(t){let s=0,r=t.charCodeAt(s);for(;r===9||r===32;)s++,r=t.charCodeAt(s);return t.slice(s)}function jw(t,s){const r=dV(t,s),i=r.one(t,void 0),u=iV(r),h=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return u&&h.children.push({type:"text",value:`
`},u),h}function $V(t,s){return t&&"run"in t?async function(r,i){const u=jw(r,{file:i,...s});await t.run(u,i)}:function(r,i){return jw(r,{file:i,...t||s})}}function Xw(t){if(t)throw t}var bV=L7();const jp=Pl(bV);function Km(t){if(typeof t!="object"||t===null)return!1;const s=Object.getPrototypeOf(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function yV(){const t=[],s={run:r,use:i};return s;function r(...u){let h=-1;const f=u.pop();if(typeof f!="function")throw new TypeError("Expected function as last argument, not "+f);g(null,...u);function g(y,...$){const T=t[++h];let w=-1;if(y){f(y);return}for(;++w<u.length;)($[w]===null||$[w]===void 0)&&($[w]=u[w]);u=$,T?_V(T,g)(...$):f(null,...$)}}function i(u){if(typeof u!="function")throw new TypeError("Expected `middelware` to be a function, not "+u);return t.push(u),s}}function _V(t,s){let r;return i;function i(...f){const g=t.length>f.length;let y;g&&f.push(u);try{y=t.apply(this,f)}catch($){const T=$;if(g&&r)throw T;return u(T)}g||(y&&y.then&&typeof y.then=="function"?y.then(h,u):y instanceof Error?u(y):h(y))}function u(f,...g){r||(r=!0,s(f,...g))}function h(f){u(null,f)}}const wc={basename:wV,dirname:TV,extname:EV,join:SV,sep:"/"};function wV(t,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');F7(t);let r=0,i=-1,u=t.length,h;if(s===void 0||s.length===0||s.length>t.length){for(;u--;)if(t.codePointAt(u)===47){if(h){r=u+1;break}}else i<0&&(h=!0,i=u+1);return i<0?"":t.slice(r,i)}if(s===t)return"";let f=-1,g=s.length-1;for(;u--;)if(t.codePointAt(u)===47){if(h){r=u+1;break}}else f<0&&(h=!0,f=u+1),g>-1&&(t.codePointAt(u)===s.codePointAt(g--)?g<0&&(i=u):(g=-1,i=f));return r===i?i=f:i<0&&(i=t.length),t.slice(r,i)}function TV(t){if(F7(t),t.length===0)return".";let s=-1,r=t.length,i;for(;--r;)if(t.codePointAt(r)===47){if(i){s=r;break}}else i||(i=!0);return s<0?t.codePointAt(0)===47?"/":".":s===1&&t.codePointAt(0)===47?"//":t.slice(0,s)}function EV(t){F7(t);let s=t.length,r=-1,i=0,u=-1,h=0,f;for(;s--;){const g=t.codePointAt(s);if(g===47){if(f){i=s+1;break}continue}r<0&&(f=!0,r=s+1),g===46?u<0?u=s:h!==1&&(h=1):u>-1&&(h=-1)}return u<0||r<0||h===0||h===1&&u===r-1&&u===i+1?"":t.slice(u,r)}function SV(...t){let s=-1,r;for(;++s<t.length;)F7(t[s]),t[s]&&(r=r===void 0?t[s]:r+"/"+t[s]);return r===void 0?".":xV(r)}function xV(t){F7(t);const s=t.codePointAt(0)===47;let r=CV(t,!s);return r.length===0&&!s&&(r="."),r.length>0&&t.codePointAt(t.length-1)===47&&(r+="/"),s?"/"+r:r}function CV(t,s){let r="",i=0,u=-1,h=0,f=-1,g,y;for(;++f<=t.length;){if(f<t.length)g=t.codePointAt(f);else{if(g===47)break;g=47}if(g===47){if(!(u===f-1||h===1))if(u!==f-1&&h===2){if(r.length<2||i!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(y=r.lastIndexOf("/"),y!==r.length-1){y<0?(r="",i=0):(r=r.slice(0,y),i=r.length-1-r.lastIndexOf("/")),u=f,h=0;continue}}else if(r.length>0){r="",i=0,u=f,h=0;continue}}s&&(r=r.length>0?r+"/..":"..",i=2)}else r.length>0?r+="/"+t.slice(u+1,f):r=t.slice(u+1,f),i=f-u-1;u=f,h=0}else g===46&&h>-1?h++:h=-1}return r}function F7(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const MV={cwd:kV};function kV(){return"/"}function Jm(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function AV(t){if(typeof t=="string")t=new URL(t);else if(!Jm(t)){const s=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw s.code="ERR_INVALID_ARG_TYPE",s}if(t.protocol!=="file:"){const s=new TypeError("The URL must be of scheme file");throw s.code="ERR_INVALID_URL_SCHEME",s}return NV(t)}function NV(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const s=t.pathname;let r=-1;for(;++r<s.length;)if(s.codePointAt(r)===37&&s.codePointAt(r+1)===50){const i=s.codePointAt(r+2);if(i===70||i===102){const u=new TypeError("File URL path must not include encoded / characters");throw u.code="ERR_INVALID_FILE_URL_PATH",u}}return decodeURIComponent(s)}const Xp=["history","path","basename","stem","extname","dirname"];class VC{constructor(s){let r;s?Jm(s)?r={path:s}:typeof s=="string"||IV(s)?r={value:s}:r=s:r={},this.cwd="cwd"in r?"":MV.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Xp.length;){const h=Xp[i];h in r&&r[h]!==void 0&&r[h]!==null&&(this[h]=h==="history"?[...r[h]]:r[h])}let u;for(u in r)Xp.includes(u)||(this[u]=r[u])}get basename(){return typeof this.path=="string"?wc.basename(this.path):void 0}set basename(s){Kp(s,"basename"),Yp(s,"basename"),this.path=wc.join(this.dirname||"",s)}get dirname(){return typeof this.path=="string"?wc.dirname(this.path):void 0}set dirname(s){Yw(this.basename,"dirname"),this.path=wc.join(s||"",this.basename)}get extname(){return typeof this.path=="string"?wc.extname(this.path):void 0}set extname(s){if(Yp(s,"extname"),Yw(this.dirname,"extname"),s){if(s.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(s.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=wc.join(this.dirname,this.stem+(s||""))}get path(){return this.history[this.history.length-1]}set path(s){Jm(s)&&(s=AV(s)),Kp(s,"path"),this.path!==s&&this.history.push(s)}get stem(){return typeof this.path=="string"?wc.basename(this.path,this.extname):void 0}set stem(s){Kp(s,"stem"),Yp(s,"stem"),this.path=wc.join(this.dirname||"",s+(this.extname||""))}fail(s,r,i){const u=this.message(s,r,i);throw u.fatal=!0,u}info(s,r,i){const u=this.message(s,r,i);return u.fatal=void 0,u}message(s,r,i){const u=new tl(s,r,i);return this.path&&(u.name=this.path+":"+u.name,u.file=this.path),u.fatal=!1,this.messages.push(u),u}toString(s){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(s||void 0).decode(this.value)}}function Yp(t,s){if(t&&t.includes(wc.sep))throw new Error("`"+s+"` cannot be a path: did not expect `"+wc.sep+"`")}function Kp(t,s){if(!t)throw new Error("`"+s+"` cannot be empty")}function Yw(t,s){if(!t)throw new Error("Setting `"+s+"` requires `path` to be set too")}function IV(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const OV=(function(t){const i=this.constructor.prototype,u=i[t],h=function(){return u.apply(h,arguments)};return Object.setPrototypeOf(h,i),h}),RV={}.hasOwnProperty;class Iv extends OV{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=yV()}copy(){const s=new Iv;let r=-1;for(;++r<this.attachers.length;){const i=this.attachers[r];s.use(...i)}return s.data(jp(!0,{},this.namespace)),s}data(s,r){return typeof s=="string"?arguments.length===2?(Qp("data",this.frozen),this.namespace[s]=r,this):RV.call(this.namespace,s)&&this.namespace[s]||void 0:s?(Qp("data",this.frozen),this.namespace=s,this):this.namespace}freeze(){if(this.frozen)return this;const s=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const u=r.call(s,...i);typeof u=="function"&&this.transformers.use(u)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(s){this.freeze();const r=z8(s),i=this.parser||this.Parser;return Jp("parse",i),i(String(r),r)}process(s,r){const i=this;return this.freeze(),Jp("process",this.parser||this.Parser),Zp("process",this.compiler||this.Compiler),r?u(void 0,r):new Promise(u);function u(h,f){const g=z8(s),y=i.parse(g);i.run(y,g,function(T,w,I){if(T||!w||!I)return $(T);const A=w,K=i.stringify(A,I);BV(K)?I.value=K:I.result=K,$(T,I)});function $(T,w){T||!w?f(T):h?h(w):r(void 0,w)}}}processSync(s){let r=!1,i;return this.freeze(),Jp("processSync",this.parser||this.Parser),Zp("processSync",this.compiler||this.Compiler),this.process(s,u),Jw("processSync","process",r),i;function u(h,f){r=!0,Xw(h),i=f}}run(s,r,i){Kw(s),this.freeze();const u=this.transformers;return!i&&typeof r=="function"&&(i=r,r=void 0),i?h(void 0,i):new Promise(h);function h(f,g){const y=z8(r);u.run(s,y,$);function $(T,w,I){const A=w||s;T?g(T):f?f(A):i(void 0,A,I)}}}runSync(s,r){let i=!1,u;return this.run(s,r,h),Jw("runSync","run",i),u;function h(f,g){Xw(f),u=g,i=!0}}stringify(s,r){this.freeze();const i=z8(r),u=this.compiler||this.Compiler;return Zp("stringify",u),Kw(s),u(s,i)}use(s,...r){const i=this.attachers,u=this.namespace;if(Qp("use",this.frozen),s!=null)if(typeof s=="function")y(s,r);else if(typeof s=="object")Array.isArray(s)?g(s):f(s);else throw new TypeError("Expected usable value, not `"+s+"`");return this;function h($){if(typeof $=="function")y($,[]);else if(typeof $=="object")if(Array.isArray($)){const[T,...w]=$;y(T,w)}else f($);else throw new TypeError("Expected usable value, not `"+$+"`")}function f($){if(!("plugins"in $)&&!("settings"in $))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");g($.plugins),$.settings&&(u.settings=jp(!0,u.settings,$.settings))}function g($){let T=-1;if($!=null)if(Array.isArray($))for(;++T<$.length;){const w=$[T];h(w)}else throw new TypeError("Expected a list of plugins, not `"+$+"`")}function y($,T){let w=-1,I=-1;for(;++w<i.length;)if(i[w][0]===$){I=w;break}if(I===-1)i.push([$,...T]);else if(T.length>0){let[A,...K]=T;const ne=i[I][1];Km(ne)&&Km(A)&&(A=jp(!0,ne,A)),i[I]=[$,A,...K]}}}}const LV=new Iv().freeze();function Jp(t,s){if(typeof s!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Zp(t,s){if(typeof s!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Qp(t,s){if(s)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Kw(t){if(!Km(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Jw(t,s,r){if(!r)throw new Error("`"+t+"` finished async. Use `"+s+"` instead")}function z8(t){return DV(t)?t:new VC(t)}function DV(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function BV(t){return typeof t=="string"||PV(t)}function PV(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const FV="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Zw=[],Qw={allowDangerousHtml:!0},UV=/^(https?|ircs?|mailto|xmpp)$/i,zV=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function HV(t){const s=VV(t),r=GV(t);return qV(s.runSync(s.parse(r),r),t)}function VV(t){const s=t.rehypePlugins||Zw,r=t.remarkPlugins||Zw,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Qw}:Qw;return LV().use(SH).use(r).use($V,i).use(s)}function GV(t){const s=t.children||"",r=new VC;return typeof s=="string"&&(r.value=s),r}function qV(t,s){const r=s.allowedElements,i=s.allowElement,u=s.components,h=s.disallowedElements,f=s.skipHtml,g=s.unwrapDisallowed,y=s.urlTransform||WV;for(const T of zV)Object.hasOwn(s,T.from)&&(""+T.from+(T.to?"use `"+T.to+"` instead":"remove it")+FV+T.id,void 0);return Nv(t,$),aU(t,{Fragment:mt.Fragment,components:u,ignoreInvalidStyle:!0,jsx:mt.jsx,jsxs:mt.jsxs,passKeys:!0,passNode:!0});function $(T,w,I){if(T.type==="raw"&&I&&typeof w=="number")return f?I.children.splice(w,1):I.children[w]={type:"text",value:T.value},w;if(T.type==="element"){let A;for(A in Gp)if(Object.hasOwn(Gp,A)&&Object.hasOwn(T.properties,A)){const K=T.properties[A],ne=Gp[A];(ne===null||ne.includes(T.tagName))&&(T.properties[A]=y(String(K||""),A,T))}}if(T.type==="element"){let A=r?!r.includes(T.tagName):h?h.includes(T.tagName):!1;if(!A&&i&&typeof w=="number"&&(A=!i(T,w,I)),A&&I&&typeof w=="number")return g&&T.children?I.children.splice(w,1,...T.children):I.children.splice(w,1),w}}}function WV(t){const s=t.indexOf(":"),r=t.indexOf("?"),i=t.indexOf("#"),u=t.indexOf("/");return s===-1||u!==-1&&s>u||r!==-1&&s>r||i!==-1&&s>i||UV.test(t.slice(0,s))?t:""}function GC(t,s){const r=String(t);let i=r.indexOf(s),u=i,h=0,f=0;if(typeof s!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===u?++h>f&&(f=h):h=1,u=i+s.length,i=r.indexOf(s,u);return f}function jV(){return{enter:{mathFlow:t,mathFlowFenceMeta:s,mathText:h},exit:{mathFlow:u,mathFlowFence:i,mathFlowFenceMeta:r,mathFlowValue:g,mathText:f,mathTextData:g}};function t(y){const $={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[$]}},y)}function s(){this.buffer()}function r(){const y=this.resume(),$=this.stack[this.stack.length-1];$.type,$.meta=y}function i(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function u(y){const $=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),T=this.stack[this.stack.length-1];T.type,this.exit(y),T.value=$;const w=T.data.hChildren[0];w.type,w.tagName,w.children.push({type:"text",value:$}),this.data.mathFlowInside=void 0}function h(y){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},y),this.buffer()}function f(y){const $=this.resume(),T=this.stack[this.stack.length-1];T.type,this.exit(y),T.value=$,T.data.hChildren.push({type:"text",value:$})}function g(y){this.config.enter.data.call(this,y),this.config.exit.data.call(this,y)}}function XV(t){let s=(t||{}).singleDollarTextMath;return s==null&&(s=!0),i.peek=u,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:s?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:r,inlineMath:i}};function r(h,f,g,y){const $=h.value||"",T=g.createTracker(y),w="$".repeat(Math.max(GC($,"$")+1,2)),I=g.enter("mathFlow");let A=T.move(w);if(h.meta){const K=g.enter("mathFlowMeta");A+=T.move(g.safe(h.meta,{after:`
`,before:A,encode:["$"],...T.current()})),K()}return A+=T.move(`
`),$&&(A+=T.move($+`
`)),A+=T.move(w),I(),A}function i(h,f,g){let y=h.value||"",$=1;for(s||$++;new RegExp("(^|[^$])"+"\\$".repeat($)+"([^$]|$)").test(y);)$++;const T="$".repeat($);/[^ \r\n]/.test(y)&&(/^[ \r\n]/.test(y)&&/[ \r\n]$/.test(y)||/^\$|\$$/.test(y))&&(y=" "+y+" ");let w=-1;for(;++w<g.unsafe.length;){const I=g.unsafe[w];if(!I.atBreak)continue;const A=g.compilePattern(I);let K;for(;K=A.exec(y);){let ne=K.index;y.codePointAt(ne)===10&&y.codePointAt(ne-1)===13&&ne--,y=y.slice(0,ne)+" "+y.slice(K.index+1)}}return T+y+T}function u(){return"$"}}const YV={tokenize:KV,concrete:!0,name:"mathFlow"},eT={tokenize:JV,partial:!0};function KV(t,s,r){const i=this,u=i.events[i.events.length-1],h=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0;let f=0;return g;function g(le){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),y(le)}function y(le){return le===36?(t.consume(le),f++,y):f<2?r(le):(t.exit("mathFlowFenceSequence"),Fi(t,$,"whitespace")(le))}function $(le){return le===null||Jr(le)?w(le):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),T(le))}function T(le){return le===null||Jr(le)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),w(le)):le===36?r(le):(t.consume(le),T)}function w(le){return t.exit("mathFlowFence"),i.interrupt?s(le):t.attempt(eT,I,he)(le)}function I(le){return t.attempt({tokenize:V,partial:!0},he,A)(le)}function A(le){return(h?Fi(t,K,"linePrefix",h+1):K)(le)}function K(le){return le===null?he(le):Jr(le)?t.attempt(eT,I,he)(le):(t.enter("mathFlowValue"),ne(le))}function ne(le){return le===null||Jr(le)?(t.exit("mathFlowValue"),K(le)):(t.consume(le),ne)}function he(le){return t.exit("mathFlow"),s(le)}function V(le,te,Ce){let Oe=0;return Fi(le,ce,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function ce(_e){return le.enter("mathFlowFence"),le.enter("mathFlowFenceSequence"),Be(_e)}function Be(_e){return _e===36?(Oe++,le.consume(_e),Be):Oe<f?Ce(_e):(le.exit("mathFlowFenceSequence"),Fi(le,je,"whitespace")(_e))}function je(_e){return _e===null||Jr(_e)?(le.exit("mathFlowFence"),te(_e)):Ce(_e)}}}function JV(t,s,r){const i=this;return u;function u(f){return f===null?s(f):(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),h)}function h(f){return i.parser.lazy[i.now().line]?r(f):s(f)}}function ZV(t){let r=(t||{}).singleDollarTextMath;return r==null&&(r=!0),{tokenize:i,resolve:QV,previous:eG,name:"mathText"};function i(u,h,f){let g=0,y,$;return T;function T(ne){return u.enter("mathText"),u.enter("mathTextSequence"),w(ne)}function w(ne){return ne===36?(u.consume(ne),g++,w):g<2&&!r?f(ne):(u.exit("mathTextSequence"),I(ne))}function I(ne){return ne===null?f(ne):ne===36?($=u.enter("mathTextSequence"),y=0,K(ne)):ne===32?(u.enter("space"),u.consume(ne),u.exit("space"),I):Jr(ne)?(u.enter("lineEnding"),u.consume(ne),u.exit("lineEnding"),I):(u.enter("mathTextData"),A(ne))}function A(ne){return ne===null||ne===32||ne===36||Jr(ne)?(u.exit("mathTextData"),I(ne)):(u.consume(ne),A)}function K(ne){return ne===36?(u.consume(ne),y++,K):y===g?(u.exit("mathTextSequence"),u.exit("mathText"),h(ne)):($.type="mathTextData",A(ne))}}}function QV(t){let s=t.length-4,r=3,i,u;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[s][1].type==="lineEnding"||t[s][1].type==="space")){for(i=r;++i<s;)if(t[i][1].type==="mathTextData"){t[s][1].type="mathTextPadding",t[r][1].type="mathTextPadding",r+=2,s-=2;break}}for(i=r-1,s++;++i<=s;)u===void 0?i!==s&&t[i][1].type!=="lineEnding"&&(u=i):(i===s||t[i][1].type==="lineEnding")&&(t[u][1].type="mathTextData",i!==u+2&&(t[u][1].end=t[i-1][1].end,t.splice(u+2,i-u-2),s-=i-u-2,i=u+2),u=void 0);return t}function eG(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function tG(t){return{flow:{36:YV},text:{36:ZV(t)}}}class Bl{constructor(s,r,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=s,this.start=r,this.end=i}static range(s,r){return r?!s||!s.loc||!r.loc||s.loc.lexer!==r.loc.lexer?null:new Bl(s.loc.lexer,s.loc.start,r.loc.end):s&&s.loc}}class pa{constructor(s,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=s,this.loc=r}range(s,r){return new pa(r,Bl.range(this,s))}}class gr{constructor(s,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+s,u,h,f=r&&r.loc;if(f&&f.start<=f.end){var g=f.lexer.input;u=f.start,h=f.end,u===g.length?i+=" at end of input: ":i+=" at position "+(u+1)+": ";var y=g.slice(u,h).replace(/[^]/g,"$&"),$;u>15?$=""+g.slice(u-15,u):$=g.slice(0,u);var T;h+15<g.length?T=g.slice(h,h+15)+"":T=g.slice(h),i+=$+y+T}var w=new Error(i);return w.name="ParseError",w.__proto__=gr.prototype,w.position=u,u!=null&&h!=null&&(w.length=h-u),w.rawMessage=s,w}}gr.prototype.__proto__=Error.prototype;var nG=function(s,r){return s===void 0?r:s},rG=/([A-Z])/g,iG=function(s){return s.replace(rG,"-$1").toLowerCase()},sG={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},oG=/[&><"']/g;function lG(t){return String(t).replace(oG,s=>sG[s])}var qC=function t(s){return s.type==="ordgroup"||s.type==="color"?s.body.length===1?t(s.body[0]):s:s.type==="font"?t(s.body):s},aG=function(s){var r=qC(s);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},uG=function(s){if(!s)throw new Error("Expected non-null, but got "+String(s));return s},cG=function(s){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(s);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},bs={deflt:nG,escape:lG,hyphenate:iG,getBaseElem:qC,isCharacterBox:aG,protocolFromUrl:cG},v9={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,s)=>(s.push(t),s)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function hG(t){if(t.default)return t.default;var s=t.type,r=Array.isArray(s)?s[0]:s;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Ov{constructor(s){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,s=s||{};for(var r in v9)if(v9.hasOwnProperty(r)){var i=v9[r];this[r]=s[r]!==void 0?i.processor?i.processor(s[r]):s[r]:hG(i)}}reportNonstrict(s,r,i){var u=this.strict;if(typeof u=="function"&&(u=u(s,r,i)),!(!u||u==="ignore")){if(u===!0||u==="error")throw new gr("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+s+"]"),i);u==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+s+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+u+"': "+r+" ["+s+"]"))}}useStrictBehavior(s,r,i){var u=this.strict;if(typeof u=="function")try{u=u(s,r,i)}catch{u="error"}return!u||u==="ignore"?!1:u===!0||u==="error"?!0:u==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+s+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+u+"': "+r+" ["+s+"]")),!1)}isTrusted(s){if(s.url&&!s.protocol){var r=bs.protocolFromUrl(s.url);if(r==null)return!1;s.protocol=r}var i=typeof this.trust=="function"?this.trust(s):this.trust;return!!i}}class j2{constructor(s,r,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=s,this.size=r,this.cramped=i}sup(){return Tc[fG[this.id]]}sub(){return Tc[dG[this.id]]}fracNum(){return Tc[pG[this.id]]}fracDen(){return Tc[mG[this.id]]}cramp(){return Tc[gG[this.id]]}text(){return Tc[vG[this.id]]}isTight(){return this.size>=2}}var Rv=0,j9=1,o6=2,O1=3,T7=4,Qa=5,v6=6,Tl=7,Tc=[new j2(Rv,0,!1),new j2(j9,0,!0),new j2(o6,1,!1),new j2(O1,1,!0),new j2(T7,2,!1),new j2(Qa,2,!0),new j2(v6,3,!1),new j2(Tl,3,!0)],fG=[T7,Qa,T7,Qa,v6,Tl,v6,Tl],dG=[Qa,Qa,Qa,Qa,Tl,Tl,Tl,Tl],pG=[o6,O1,T7,Qa,v6,Tl,v6,Tl],mG=[O1,O1,Qa,Qa,Tl,Tl,Tl,Tl],gG=[j9,j9,O1,O1,Qa,Qa,Tl,Tl],vG=[Rv,j9,o6,O1,o6,O1,o6,O1],oi={DISPLAY:Tc[Rv],TEXT:Tc[o6],SCRIPT:Tc[T7],SCRIPTSCRIPT:Tc[v6]},Zm=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function $G(t){for(var s=0;s<Zm.length;s++)for(var r=Zm[s],i=0;i<r.blocks.length;i++){var u=r.blocks[i];if(t>=u[0]&&t<=u[1])return r.name}return null}var $9=[];Zm.forEach(t=>t.blocks.forEach(s=>$9.push(...s)));function WC(t){for(var s=0;s<$9.length;s+=2)if(t>=$9[s]&&t<=$9[s+1])return!0;return!1}var e6=80,bG=function(s,r){return"M95,"+(622+s+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+s/2.075+" -"+s+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+s)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+s)+" "+r+"h400000v"+(40+s)+"h-400000z"},yG=function(s,r){return"M263,"+(601+s+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+s/2.084+" -"+s+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+s)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+s)+" "+r+"h400000v"+(40+s)+"h-400000z"},_G=function(s,r){return"M983 "+(10+s+r)+`
l`+s/3.13+" -"+s+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+s)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+s)+" "+r+"h400000v"+(40+s)+"h-400000z"},wG=function(s,r){return"M424,"+(2398+s+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+s/4.223+" -"+s+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+s)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+s)+" "+r+`
h400000v`+(40+s)+"h-400000z"},TG=function(s,r){return"M473,"+(2713+s+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+s/5.298+" -"+s+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+s)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+s)+" "+r+"h400000v"+(40+s)+"H1017.7z"},EG=function(s){var r=s/2;return"M400000 "+s+" H0 L"+r+" 0 l65 45 L145 "+(s-80)+" H400000z"},SG=function(s,r,i){var u=i-54-r-s;return"M702 "+(s+r)+"H400000"+(40+s)+`
H742v`+u+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+s)+"H742z"},xG=function(s,r,i){r=1e3*r;var u="";switch(s){case"sqrtMain":u=bG(r,e6);break;case"sqrtSize1":u=yG(r,e6);break;case"sqrtSize2":u=_G(r,e6);break;case"sqrtSize3":u=wG(r,e6);break;case"sqrtSize4":u=TG(r,e6);break;case"sqrtTall":u=SG(r,e6,i)}return u},CG=function(s,r){switch(s){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},tT={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},MG=function(s,r){switch(s){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let U7=class{constructor(s){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=s,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(s){return this.classes.includes(s)}toNode(){for(var s=document.createDocumentFragment(),r=0;r<this.children.length;r++)s.appendChild(this.children[r].toNode());return s}toMarkup(){for(var s="",r=0;r<this.children.length;r++)s+=this.children[r].toMarkup();return s}toText(){var s=r=>r.toText();return this.children.map(s).join("")}};var xc={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},H8={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},nT={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function kG(t,s){xc[t]=s}function Lv(t,s,r){if(!xc[s])throw new Error("Font metrics not found for font: "+s+".");var i=t.charCodeAt(0),u=xc[s][i];if(!u&&t[0]in nT&&(i=nT[t[0]].charCodeAt(0),u=xc[s][i]),!u&&r==="text"&&WC(i)&&(u=xc[s][77]),u)return{depth:u[0],height:u[1],italic:u[2],skew:u[3],width:u[4]}}var em={};function AG(t){var s;if(t>=5?s=0:t>=3?s=1:s=2,!em[s]){var r=em[s]={cssEmPerMu:H8.quad[s]/18};for(var i in H8)H8.hasOwnProperty(i)&&(r[i]=H8[i][s])}return em[s]}var NG=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],rT=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],iT=function(s,r){return r.size<2?s:NG[s-1][r.size-1]};class k1{constructor(s){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=s.style,this.color=s.color,this.size=s.size||k1.BASESIZE,this.textSize=s.textSize||this.size,this.phantom=!!s.phantom,this.font=s.font||"",this.fontFamily=s.fontFamily||"",this.fontWeight=s.fontWeight||"",this.fontShape=s.fontShape||"",this.sizeMultiplier=rT[this.size-1],this.maxSize=s.maxSize,this.minRuleThickness=s.minRuleThickness,this._fontMetrics=void 0}extend(s){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in s)s.hasOwnProperty(i)&&(r[i]=s[i]);return new k1(r)}havingStyle(s){return this.style===s?this:this.extend({style:s,size:iT(this.textSize,s)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(s){return this.size===s&&this.textSize===s?this:this.extend({style:this.style.text(),size:s,textSize:s,sizeMultiplier:rT[s-1]})}havingBaseStyle(s){s=s||this.style.text();var r=iT(k1.BASESIZE,s);return this.size===r&&this.textSize===k1.BASESIZE&&this.style===s?this:this.extend({style:s,size:r})}havingBaseSizing(){var s;switch(this.style.id){case 4:case 5:s=3;break;case 6:case 7:s=1;break;default:s=6}return this.extend({style:this.style.text(),size:s})}withColor(s){return this.extend({color:s})}withPhantom(){return this.extend({phantom:!0})}withFont(s){return this.extend({font:s})}withTextFontFamily(s){return this.extend({fontFamily:s,font:""})}withTextFontWeight(s){return this.extend({fontWeight:s,font:""})}withTextFontShape(s){return this.extend({fontShape:s,font:""})}sizingClasses(s){return s.size!==this.size?["sizing","reset-size"+s.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==k1.BASESIZE?["sizing","reset-size"+this.size,"size"+k1.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=AG(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}k1.BASESIZE=6;var Qm={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},IG={ex:!0,em:!0,mu:!0},jC=function(s){return typeof s!="string"&&(s=s.unit),s in Qm||s in IG||s==="ex"},Eo=function(s,r){var i;if(s.unit in Qm)i=Qm[s.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(s.unit==="mu")i=r.fontMetrics().cssEmPerMu;else{var u;if(r.style.isTight()?u=r.havingStyle(r.style.text()):u=r,s.unit==="ex")i=u.fontMetrics().xHeight;else if(s.unit==="em")i=u.fontMetrics().quad;else throw new gr("Invalid unit: '"+s.unit+"'");u!==r&&(i*=u.sizeMultiplier/r.sizeMultiplier)}return Math.min(s.number*i,r.maxSize)},Cr=function(s){return+s.toFixed(4)+"em"},th=function(s){return s.filter(r=>r).join(" ")},XC=function(s,r,i){if(this.classes=s||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},r){r.style.isTight()&&this.classes.push("mtight");var u=r.getColor();u&&(this.style.color=u)}},YC=function(s){var r=document.createElement(s);r.className=th(this.classes);for(var i in this.style)this.style.hasOwnProperty(i)&&(r.style[i]=this.style[i]);for(var u in this.attributes)this.attributes.hasOwnProperty(u)&&r.setAttribute(u,this.attributes[u]);for(var h=0;h<this.children.length;h++)r.appendChild(this.children[h].toNode());return r},OG=/[\s"'>/=\x00-\x1f]/,KC=function(s){var r="<"+s;this.classes.length&&(r+=' class="'+bs.escape(th(this.classes))+'"');var i="";for(var u in this.style)this.style.hasOwnProperty(u)&&(i+=bs.hyphenate(u)+":"+this.style[u]+";");i&&(r+=' style="'+bs.escape(i)+'"');for(var h in this.attributes)if(this.attributes.hasOwnProperty(h)){if(OG.test(h))throw new gr("Invalid attribute name '"+h+"'");r+=" "+h+'="'+bs.escape(this.attributes[h])+'"'}r+=">";for(var f=0;f<this.children.length;f++)r+=this.children[f].toMarkup();return r+="</"+s+">",r};class z7{constructor(s,r,i,u){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,XC.call(this,s,i,u),this.children=r||[]}setAttribute(s,r){this.attributes[s]=r}hasClass(s){return this.classes.includes(s)}toNode(){return YC.call(this,"span")}toMarkup(){return KC.call(this,"span")}}class Dv{constructor(s,r,i,u){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,XC.call(this,r,u),this.children=i||[],this.setAttribute("href",s)}setAttribute(s,r){this.attributes[s]=r}hasClass(s){return this.classes.includes(s)}toNode(){return YC.call(this,"a")}toMarkup(){return KC.call(this,"a")}}class RG{constructor(s,r,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=s,this.classes=["mord"],this.style=i}hasClass(s){return this.classes.includes(s)}toNode(){var s=document.createElement("img");s.src=this.src,s.alt=this.alt,s.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(s.style[r]=this.style[r]);return s}toMarkup(){var s='<img src="'+bs.escape(this.src)+'"'+(' alt="'+bs.escape(this.alt)+'"'),r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=bs.hyphenate(i)+":"+this.style[i]+";");return r&&(s+=' style="'+bs.escape(r)+'"'),s+="'/>",s}}var LG={:"",:"",:"",:""};class eu{constructor(s,r,i,u,h,f,g,y){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=s,this.height=r||0,this.depth=i||0,this.italic=u||0,this.skew=h||0,this.width=f||0,this.classes=g||[],this.style=y||{},this.maxFontSize=0;var $=$G(this.text.charCodeAt(0));$&&this.classes.push($+"_fallback"),/[]/.test(this.text)&&(this.text=LG[this.text])}hasClass(s){return this.classes.includes(s)}toNode(){var s=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=Cr(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=th(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(r=r||document.createElement("span"),r.style[i]=this.style[i]);return r?(r.appendChild(s),r):s}toMarkup(){var s=!1,r="<span";this.classes.length&&(s=!0,r+=' class="',r+=bs.escape(th(this.classes)),r+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var u in this.style)this.style.hasOwnProperty(u)&&(i+=bs.hyphenate(u)+":"+this.style[u]+";");i&&(s=!0,r+=' style="'+bs.escape(i)+'"');var h=bs.escape(this.text);return s?(r+=">",r+=h,r+="</span>",r):h}}class F1{constructor(s,r){this.children=void 0,this.attributes=void 0,this.children=s||[],this.attributes=r||{}}toNode(){var s="http://www.w3.org/2000/svg",r=document.createElementNS(s,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&r.setAttribute(i,this.attributes[i]);for(var u=0;u<this.children.length;u++)r.appendChild(this.children[u].toNode());return r}toMarkup(){var s='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(s+=" "+r+'="'+bs.escape(this.attributes[r])+'"');s+=">";for(var i=0;i<this.children.length;i++)s+=this.children[i].toMarkup();return s+="</svg>",s}}class nh{constructor(s,r){this.pathName=void 0,this.alternate=void 0,this.pathName=s,this.alternate=r}toNode(){var s="http://www.w3.org/2000/svg",r=document.createElementNS(s,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",tT[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+bs.escape(this.alternate)+'"/>':'<path d="'+bs.escape(tT[this.pathName])+'"/>'}}class eg{constructor(s){this.attributes=void 0,this.attributes=s||{}}toNode(){var s="http://www.w3.org/2000/svg",r=document.createElementNS(s,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&r.setAttribute(i,this.attributes[i]);return r}toMarkup(){var s="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(s+=" "+r+'="'+bs.escape(this.attributes[r])+'"');return s+="/>",s}}function sT(t){if(t instanceof eu)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function DG(t){if(t instanceof z7)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var BG={bin:1,close:1,inner:1,open:1,punct:1,rel:1},PG={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},eo={math:{},text:{}};function ye(t,s,r,i,u,h){eo[t][u]={font:s,group:r,replace:i},h&&i&&(eo[t][i]=eo[t][u])}var Pe="math",ur="text",vt="main",jt="ams",mo="accent-token",Pr="bin",Sl="close",E6="inner",si="mathord",Zo="op-token",ma="open",Ff="punct",Kt="rel",q1="spacing",dn="textord";ye(Pe,vt,Kt,"","\\equiv",!0);ye(Pe,vt,Kt,"","\\prec",!0);ye(Pe,vt,Kt,"","\\succ",!0);ye(Pe,vt,Kt,"","\\sim",!0);ye(Pe,vt,Kt,"","\\perp");ye(Pe,vt,Kt,"","\\preceq",!0);ye(Pe,vt,Kt,"","\\succeq",!0);ye(Pe,vt,Kt,"","\\simeq",!0);ye(Pe,vt,Kt,"","\\mid",!0);ye(Pe,vt,Kt,"","\\ll",!0);ye(Pe,vt,Kt,"","\\gg",!0);ye(Pe,vt,Kt,"","\\asymp",!0);ye(Pe,vt,Kt,"","\\parallel");ye(Pe,vt,Kt,"","\\bowtie",!0);ye(Pe,vt,Kt,"","\\smile",!0);ye(Pe,vt,Kt,"","\\sqsubseteq",!0);ye(Pe,vt,Kt,"","\\sqsupseteq",!0);ye(Pe,vt,Kt,"","\\doteq",!0);ye(Pe,vt,Kt,"","\\frown",!0);ye(Pe,vt,Kt,"","\\ni",!0);ye(Pe,vt,Kt,"","\\propto",!0);ye(Pe,vt,Kt,"","\\vdash",!0);ye(Pe,vt,Kt,"","\\dashv",!0);ye(Pe,vt,Kt,"","\\owns");ye(Pe,vt,Ff,".","\\ldotp");ye(Pe,vt,Ff,"","\\cdotp");ye(Pe,vt,dn,"#","\\#");ye(ur,vt,dn,"#","\\#");ye(Pe,vt,dn,"&","\\&");ye(ur,vt,dn,"&","\\&");ye(Pe,vt,dn,"","\\aleph",!0);ye(Pe,vt,dn,"","\\forall",!0);ye(Pe,vt,dn,"","\\hbar",!0);ye(Pe,vt,dn,"","\\exists",!0);ye(Pe,vt,dn,"","\\nabla",!0);ye(Pe,vt,dn,"","\\flat",!0);ye(Pe,vt,dn,"","\\ell",!0);ye(Pe,vt,dn,"","\\natural",!0);ye(Pe,vt,dn,"","\\clubsuit",!0);ye(Pe,vt,dn,"","\\wp",!0);ye(Pe,vt,dn,"","\\sharp",!0);ye(Pe,vt,dn,"","\\diamondsuit",!0);ye(Pe,vt,dn,"","\\Re",!0);ye(Pe,vt,dn,"","\\heartsuit",!0);ye(Pe,vt,dn,"","\\Im",!0);ye(Pe,vt,dn,"","\\spadesuit",!0);ye(Pe,vt,dn,"","\\S",!0);ye(ur,vt,dn,"","\\S");ye(Pe,vt,dn,"","\\P",!0);ye(ur,vt,dn,"","\\P");ye(Pe,vt,dn,"","\\dag");ye(ur,vt,dn,"","\\dag");ye(ur,vt,dn,"","\\textdagger");ye(Pe,vt,dn,"","\\ddag");ye(ur,vt,dn,"","\\ddag");ye(ur,vt,dn,"","\\textdaggerdbl");ye(Pe,vt,Sl,"","\\rmoustache",!0);ye(Pe,vt,ma,"","\\lmoustache",!0);ye(Pe,vt,Sl,"","\\rgroup",!0);ye(Pe,vt,ma,"","\\lgroup",!0);ye(Pe,vt,Pr,"","\\mp",!0);ye(Pe,vt,Pr,"","\\ominus",!0);ye(Pe,vt,Pr,"","\\uplus",!0);ye(Pe,vt,Pr,"","\\sqcap",!0);ye(Pe,vt,Pr,"","\\ast");ye(Pe,vt,Pr,"","\\sqcup",!0);ye(Pe,vt,Pr,"","\\bigcirc",!0);ye(Pe,vt,Pr,"","\\bullet",!0);ye(Pe,vt,Pr,"","\\ddagger");ye(Pe,vt,Pr,"","\\wr",!0);ye(Pe,vt,Pr,"","\\amalg");ye(Pe,vt,Pr,"&","\\And");ye(Pe,vt,Kt,"","\\longleftarrow",!0);ye(Pe,vt,Kt,"","\\Leftarrow",!0);ye(Pe,vt,Kt,"","\\Longleftarrow",!0);ye(Pe,vt,Kt,"","\\longrightarrow",!0);ye(Pe,vt,Kt,"","\\Rightarrow",!0);ye(Pe,vt,Kt,"","\\Longrightarrow",!0);ye(Pe,vt,Kt,"","\\leftrightarrow",!0);ye(Pe,vt,Kt,"","\\longleftrightarrow",!0);ye(Pe,vt,Kt,"","\\Leftrightarrow",!0);ye(Pe,vt,Kt,"","\\Longleftrightarrow",!0);ye(Pe,vt,Kt,"","\\mapsto",!0);ye(Pe,vt,Kt,"","\\longmapsto",!0);ye(Pe,vt,Kt,"","\\nearrow",!0);ye(Pe,vt,Kt,"","\\hookleftarrow",!0);ye(Pe,vt,Kt,"","\\hookrightarrow",!0);ye(Pe,vt,Kt,"","\\searrow",!0);ye(Pe,vt,Kt,"","\\leftharpoonup",!0);ye(Pe,vt,Kt,"","\\rightharpoonup",!0);ye(Pe,vt,Kt,"","\\swarrow",!0);ye(Pe,vt,Kt,"","\\leftharpoondown",!0);ye(Pe,vt,Kt,"","\\rightharpoondown",!0);ye(Pe,vt,Kt,"","\\nwarrow",!0);ye(Pe,vt,Kt,"","\\rightleftharpoons",!0);ye(Pe,jt,Kt,"","\\nless",!0);ye(Pe,jt,Kt,"","\\@nleqslant");ye(Pe,jt,Kt,"","\\@nleqq");ye(Pe,jt,Kt,"","\\lneq",!0);ye(Pe,jt,Kt,"","\\lneqq",!0);ye(Pe,jt,Kt,"","\\@lvertneqq");ye(Pe,jt,Kt,"","\\lnsim",!0);ye(Pe,jt,Kt,"","\\lnapprox",!0);ye(Pe,jt,Kt,"","\\nprec",!0);ye(Pe,jt,Kt,"","\\npreceq",!0);ye(Pe,jt,Kt,"","\\precnsim",!0);ye(Pe,jt,Kt,"","\\precnapprox",!0);ye(Pe,jt,Kt,"","\\nsim",!0);ye(Pe,jt,Kt,"","\\@nshortmid");ye(Pe,jt,Kt,"","\\nmid",!0);ye(Pe,jt,Kt,"","\\nvdash",!0);ye(Pe,jt,Kt,"","\\nvDash",!0);ye(Pe,jt,Kt,"","\\ntriangleleft");ye(Pe,jt,Kt,"","\\ntrianglelefteq",!0);ye(Pe,jt,Kt,"","\\subsetneq",!0);ye(Pe,jt,Kt,"","\\@varsubsetneq");ye(Pe,jt,Kt,"","\\subsetneqq",!0);ye(Pe,jt,Kt,"","\\@varsubsetneqq");ye(Pe,jt,Kt,"","\\ngtr",!0);ye(Pe,jt,Kt,"","\\@ngeqslant");ye(Pe,jt,Kt,"","\\@ngeqq");ye(Pe,jt,Kt,"","\\gneq",!0);ye(Pe,jt,Kt,"","\\gneqq",!0);ye(Pe,jt,Kt,"","\\@gvertneqq");ye(Pe,jt,Kt,"","\\gnsim",!0);ye(Pe,jt,Kt,"","\\gnapprox",!0);ye(Pe,jt,Kt,"","\\nsucc",!0);ye(Pe,jt,Kt,"","\\nsucceq",!0);ye(Pe,jt,Kt,"","\\succnsim",!0);ye(Pe,jt,Kt,"","\\succnapprox",!0);ye(Pe,jt,Kt,"","\\ncong",!0);ye(Pe,jt,Kt,"","\\@nshortparallel");ye(Pe,jt,Kt,"","\\nparallel",!0);ye(Pe,jt,Kt,"","\\nVDash",!0);ye(Pe,jt,Kt,"","\\ntriangleright");ye(Pe,jt,Kt,"","\\ntrianglerighteq",!0);ye(Pe,jt,Kt,"","\\@nsupseteqq");ye(Pe,jt,Kt,"","\\supsetneq",!0);ye(Pe,jt,Kt,"","\\@varsupsetneq");ye(Pe,jt,Kt,"","\\supsetneqq",!0);ye(Pe,jt,Kt,"","\\@varsupsetneqq");ye(Pe,jt,Kt,"","\\nVdash",!0);ye(Pe,jt,Kt,"","\\precneqq",!0);ye(Pe,jt,Kt,"","\\succneqq",!0);ye(Pe,jt,Kt,"","\\@nsubseteqq");ye(Pe,jt,Pr,"","\\unlhd");ye(Pe,jt,Pr,"","\\unrhd");ye(Pe,jt,Kt,"","\\nleftarrow",!0);ye(Pe,jt,Kt,"","\\nrightarrow",!0);ye(Pe,jt,Kt,"","\\nLeftarrow",!0);ye(Pe,jt,Kt,"","\\nRightarrow",!0);ye(Pe,jt,Kt,"","\\nleftrightarrow",!0);ye(Pe,jt,Kt,"","\\nLeftrightarrow",!0);ye(Pe,jt,Kt,"","\\vartriangle");ye(Pe,jt,dn,"","\\hslash");ye(Pe,jt,dn,"","\\triangledown");ye(Pe,jt,dn,"","\\lozenge");ye(Pe,jt,dn,"","\\circledS");ye(Pe,jt,dn,"","\\circledR");ye(ur,jt,dn,"","\\circledR");ye(Pe,jt,dn,"","\\measuredangle",!0);ye(Pe,jt,dn,"","\\nexists");ye(Pe,jt,dn,"","\\mho");ye(Pe,jt,dn,"","\\Finv",!0);ye(Pe,jt,dn,"","\\Game",!0);ye(Pe,jt,dn,"","\\backprime");ye(Pe,jt,dn,"","\\blacktriangle");ye(Pe,jt,dn,"","\\blacktriangledown");ye(Pe,jt,dn,"","\\blacksquare");ye(Pe,jt,dn,"","\\blacklozenge");ye(Pe,jt,dn,"","\\bigstar");ye(Pe,jt,dn,"","\\sphericalangle",!0);ye(Pe,jt,dn,"","\\complement",!0);ye(Pe,jt,dn,"","\\eth",!0);ye(ur,vt,dn,"","");ye(Pe,jt,dn,"","\\diagup");ye(Pe,jt,dn,"","\\diagdown");ye(Pe,jt,dn,"","\\square");ye(Pe,jt,dn,"","\\Box");ye(Pe,jt,dn,"","\\Diamond");ye(Pe,jt,dn,"","\\yen",!0);ye(ur,jt,dn,"","\\yen",!0);ye(Pe,jt,dn,"","\\checkmark",!0);ye(ur,jt,dn,"","\\checkmark");ye(Pe,jt,dn,"","\\beth",!0);ye(Pe,jt,dn,"","\\daleth",!0);ye(Pe,jt,dn,"","\\gimel",!0);ye(Pe,jt,dn,"","\\digamma",!0);ye(Pe,jt,dn,"","\\varkappa");ye(Pe,jt,ma,"","\\@ulcorner",!0);ye(Pe,jt,Sl,"","\\@urcorner",!0);ye(Pe,jt,ma,"","\\@llcorner",!0);ye(Pe,jt,Sl,"","\\@lrcorner",!0);ye(Pe,jt,Kt,"","\\leqq",!0);ye(Pe,jt,Kt,"","\\leqslant",!0);ye(Pe,jt,Kt,"","\\eqslantless",!0);ye(Pe,jt,Kt,"","\\lesssim",!0);ye(Pe,jt,Kt,"","\\lessapprox",!0);ye(Pe,jt,Kt,"","\\approxeq",!0);ye(Pe,jt,Pr,"","\\lessdot");ye(Pe,jt,Kt,"","\\lll",!0);ye(Pe,jt,Kt,"","\\lessgtr",!0);ye(Pe,jt,Kt,"","\\lesseqgtr",!0);ye(Pe,jt,Kt,"","\\lesseqqgtr",!0);ye(Pe,jt,Kt,"","\\doteqdot");ye(Pe,jt,Kt,"","\\risingdotseq",!0);ye(Pe,jt,Kt,"","\\fallingdotseq",!0);ye(Pe,jt,Kt,"","\\backsim",!0);ye(Pe,jt,Kt,"","\\backsimeq",!0);ye(Pe,jt,Kt,"","\\subseteqq",!0);ye(Pe,jt,Kt,"","\\Subset",!0);ye(Pe,jt,Kt,"","\\sqsubset",!0);ye(Pe,jt,Kt,"","\\preccurlyeq",!0);ye(Pe,jt,Kt,"","\\curlyeqprec",!0);ye(Pe,jt,Kt,"","\\precsim",!0);ye(Pe,jt,Kt,"","\\precapprox",!0);ye(Pe,jt,Kt,"","\\vartriangleleft");ye(Pe,jt,Kt,"","\\trianglelefteq");ye(Pe,jt,Kt,"","\\vDash",!0);ye(Pe,jt,Kt,"","\\Vvdash",!0);ye(Pe,jt,Kt,"","\\smallsmile");ye(Pe,jt,Kt,"","\\smallfrown");ye(Pe,jt,Kt,"","\\bumpeq",!0);ye(Pe,jt,Kt,"","\\Bumpeq",!0);ye(Pe,jt,Kt,"","\\geqq",!0);ye(Pe,jt,Kt,"","\\geqslant",!0);ye(Pe,jt,Kt,"","\\eqslantgtr",!0);ye(Pe,jt,Kt,"","\\gtrsim",!0);ye(Pe,jt,Kt,"","\\gtrapprox",!0);ye(Pe,jt,Pr,"","\\gtrdot");ye(Pe,jt,Kt,"","\\ggg",!0);ye(Pe,jt,Kt,"","\\gtrless",!0);ye(Pe,jt,Kt,"","\\gtreqless",!0);ye(Pe,jt,Kt,"","\\gtreqqless",!0);ye(Pe,jt,Kt,"","\\eqcirc",!0);ye(Pe,jt,Kt,"","\\circeq",!0);ye(Pe,jt,Kt,"","\\triangleq",!0);ye(Pe,jt,Kt,"","\\thicksim");ye(Pe,jt,Kt,"","\\thickapprox");ye(Pe,jt,Kt,"","\\supseteqq",!0);ye(Pe,jt,Kt,"","\\Supset",!0);ye(Pe,jt,Kt,"","\\sqsupset",!0);ye(Pe,jt,Kt,"","\\succcurlyeq",!0);ye(Pe,jt,Kt,"","\\curlyeqsucc",!0);ye(Pe,jt,Kt,"","\\succsim",!0);ye(Pe,jt,Kt,"","\\succapprox",!0);ye(Pe,jt,Kt,"","\\vartriangleright");ye(Pe,jt,Kt,"","\\trianglerighteq");ye(Pe,jt,Kt,"","\\Vdash",!0);ye(Pe,jt,Kt,"","\\shortmid");ye(Pe,jt,Kt,"","\\shortparallel");ye(Pe,jt,Kt,"","\\between",!0);ye(Pe,jt,Kt,"","\\pitchfork",!0);ye(Pe,jt,Kt,"","\\varpropto");ye(Pe,jt,Kt,"","\\blacktriangleleft");ye(Pe,jt,Kt,"","\\therefore",!0);ye(Pe,jt,Kt,"","\\backepsilon");ye(Pe,jt,Kt,"","\\blacktriangleright");ye(Pe,jt,Kt,"","\\because",!0);ye(Pe,jt,Kt,"","\\llless");ye(Pe,jt,Kt,"","\\gggtr");ye(Pe,jt,Pr,"","\\lhd");ye(Pe,jt,Pr,"","\\rhd");ye(Pe,jt,Kt,"","\\eqsim",!0);ye(Pe,vt,Kt,"","\\Join");ye(Pe,jt,Kt,"","\\Doteq",!0);ye(Pe,jt,Pr,"","\\dotplus",!0);ye(Pe,jt,Pr,"","\\smallsetminus");ye(Pe,jt,Pr,"","\\Cap",!0);ye(Pe,jt,Pr,"","\\Cup",!0);ye(Pe,jt,Pr,"","\\doublebarwedge",!0);ye(Pe,jt,Pr,"","\\boxminus",!0);ye(Pe,jt,Pr,"","\\boxplus",!0);ye(Pe,jt,Pr,"","\\divideontimes",!0);ye(Pe,jt,Pr,"","\\ltimes",!0);ye(Pe,jt,Pr,"","\\rtimes",!0);ye(Pe,jt,Pr,"","\\leftthreetimes",!0);ye(Pe,jt,Pr,"","\\rightthreetimes",!0);ye(Pe,jt,Pr,"","\\curlywedge",!0);ye(Pe,jt,Pr,"","\\curlyvee",!0);ye(Pe,jt,Pr,"","\\circleddash",!0);ye(Pe,jt,Pr,"","\\circledast",!0);ye(Pe,jt,Pr,"","\\centerdot");ye(Pe,jt,Pr,"","\\intercal",!0);ye(Pe,jt,Pr,"","\\doublecap");ye(Pe,jt,Pr,"","\\doublecup");ye(Pe,jt,Pr,"","\\boxtimes",!0);ye(Pe,jt,Kt,"","\\dashrightarrow",!0);ye(Pe,jt,Kt,"","\\dashleftarrow",!0);ye(Pe,jt,Kt,"","\\leftleftarrows",!0);ye(Pe,jt,Kt,"","\\leftrightarrows",!0);ye(Pe,jt,Kt,"","\\Lleftarrow",!0);ye(Pe,jt,Kt,"","\\twoheadleftarrow",!0);ye(Pe,jt,Kt,"","\\leftarrowtail",!0);ye(Pe,jt,Kt,"","\\looparrowleft",!0);ye(Pe,jt,Kt,"","\\leftrightharpoons",!0);ye(Pe,jt,Kt,"","\\curvearrowleft",!0);ye(Pe,jt,Kt,"","\\circlearrowleft",!0);ye(Pe,jt,Kt,"","\\Lsh",!0);ye(Pe,jt,Kt,"","\\upuparrows",!0);ye(Pe,jt,Kt,"","\\upharpoonleft",!0);ye(Pe,jt,Kt,"","\\downharpoonleft",!0);ye(Pe,vt,Kt,"","\\origof",!0);ye(Pe,vt,Kt,"","\\imageof",!0);ye(Pe,jt,Kt,"","\\multimap",!0);ye(Pe,jt,Kt,"","\\leftrightsquigarrow",!0);ye(Pe,jt,Kt,"","\\rightrightarrows",!0);ye(Pe,jt,Kt,"","\\rightleftarrows",!0);ye(Pe,jt,Kt,"","\\twoheadrightarrow",!0);ye(Pe,jt,Kt,"","\\rightarrowtail",!0);ye(Pe,jt,Kt,"","\\looparrowright",!0);ye(Pe,jt,Kt,"","\\curvearrowright",!0);ye(Pe,jt,Kt,"","\\circlearrowright",!0);ye(Pe,jt,Kt,"","\\Rsh",!0);ye(Pe,jt,Kt,"","\\downdownarrows",!0);ye(Pe,jt,Kt,"","\\upharpoonright",!0);ye(Pe,jt,Kt,"","\\downharpoonright",!0);ye(Pe,jt,Kt,"","\\rightsquigarrow",!0);ye(Pe,jt,Kt,"","\\leadsto");ye(Pe,jt,Kt,"","\\Rrightarrow",!0);ye(Pe,jt,Kt,"","\\restriction");ye(Pe,vt,dn,"","`");ye(Pe,vt,dn,"$","\\$");ye(ur,vt,dn,"$","\\$");ye(ur,vt,dn,"$","\\textdollar");ye(Pe,vt,dn,"%","\\%");ye(ur,vt,dn,"%","\\%");ye(Pe,vt,dn,"_","\\_");ye(ur,vt,dn,"_","\\_");ye(ur,vt,dn,"_","\\textunderscore");ye(Pe,vt,dn,"","\\angle",!0);ye(Pe,vt,dn,"","\\infty",!0);ye(Pe,vt,dn,"","\\prime");ye(Pe,vt,dn,"","\\triangle");ye(Pe,vt,dn,"","\\Gamma",!0);ye(Pe,vt,dn,"","\\Delta",!0);ye(Pe,vt,dn,"","\\Theta",!0);ye(Pe,vt,dn,"","\\Lambda",!0);ye(Pe,vt,dn,"","\\Xi",!0);ye(Pe,vt,dn,"","\\Pi",!0);ye(Pe,vt,dn,"","\\Sigma",!0);ye(Pe,vt,dn,"","\\Upsilon",!0);ye(Pe,vt,dn,"","\\Phi",!0);ye(Pe,vt,dn,"","\\Psi",!0);ye(Pe,vt,dn,"","\\Omega",!0);ye(Pe,vt,dn,"A","");ye(Pe,vt,dn,"B","");ye(Pe,vt,dn,"E","");ye(Pe,vt,dn,"Z","");ye(Pe,vt,dn,"H","");ye(Pe,vt,dn,"I","");ye(Pe,vt,dn,"K","");ye(Pe,vt,dn,"M","");ye(Pe,vt,dn,"N","");ye(Pe,vt,dn,"O","");ye(Pe,vt,dn,"P","");ye(Pe,vt,dn,"T","");ye(Pe,vt,dn,"X","");ye(Pe,vt,dn,"","\\neg",!0);ye(Pe,vt,dn,"","\\lnot");ye(Pe,vt,dn,"","\\top");ye(Pe,vt,dn,"","\\bot");ye(Pe,vt,dn,"","\\emptyset");ye(Pe,jt,dn,"","\\varnothing");ye(Pe,vt,si,"","\\alpha",!0);ye(Pe,vt,si,"","\\beta",!0);ye(Pe,vt,si,"","\\gamma",!0);ye(Pe,vt,si,"","\\delta",!0);ye(Pe,vt,si,"","\\epsilon",!0);ye(Pe,vt,si,"","\\zeta",!0);ye(Pe,vt,si,"","\\eta",!0);ye(Pe,vt,si,"","\\theta",!0);ye(Pe,vt,si,"","\\iota",!0);ye(Pe,vt,si,"","\\kappa",!0);ye(Pe,vt,si,"","\\lambda",!0);ye(Pe,vt,si,"","\\mu",!0);ye(Pe,vt,si,"","\\nu",!0);ye(Pe,vt,si,"","\\xi",!0);ye(Pe,vt,si,"","\\omicron",!0);ye(Pe,vt,si,"","\\pi",!0);ye(Pe,vt,si,"","\\rho",!0);ye(Pe,vt,si,"","\\sigma",!0);ye(Pe,vt,si,"","\\tau",!0);ye(Pe,vt,si,"","\\upsilon",!0);ye(Pe,vt,si,"","\\phi",!0);ye(Pe,vt,si,"","\\chi",!0);ye(Pe,vt,si,"","\\psi",!0);ye(Pe,vt,si,"","\\omega",!0);ye(Pe,vt,si,"","\\varepsilon",!0);ye(Pe,vt,si,"","\\vartheta",!0);ye(Pe,vt,si,"","\\varpi",!0);ye(Pe,vt,si,"","\\varrho",!0);ye(Pe,vt,si,"","\\varsigma",!0);ye(Pe,vt,si,"","\\varphi",!0);ye(Pe,vt,Pr,"","*",!0);ye(Pe,vt,Pr,"+","+");ye(Pe,vt,Pr,"","-",!0);ye(Pe,vt,Pr,"","\\cdot",!0);ye(Pe,vt,Pr,"","\\circ",!0);ye(Pe,vt,Pr,"","\\div",!0);ye(Pe,vt,Pr,"","\\pm",!0);ye(Pe,vt,Pr,"","\\times",!0);ye(Pe,vt,Pr,"","\\cap",!0);ye(Pe,vt,Pr,"","\\cup",!0);ye(Pe,vt,Pr,"","\\setminus",!0);ye(Pe,vt,Pr,"","\\land");ye(Pe,vt,Pr,"","\\lor");ye(Pe,vt,Pr,"","\\wedge",!0);ye(Pe,vt,Pr,"","\\vee",!0);ye(Pe,vt,dn,"","\\surd");ye(Pe,vt,ma,"","\\langle",!0);ye(Pe,vt,ma,"","\\lvert");ye(Pe,vt,ma,"","\\lVert");ye(Pe,vt,Sl,"?","?");ye(Pe,vt,Sl,"!","!");ye(Pe,vt,Sl,"","\\rangle",!0);ye(Pe,vt,Sl,"","\\rvert");ye(Pe,vt,Sl,"","\\rVert");ye(Pe,vt,Kt,"=","=");ye(Pe,vt,Kt,":",":");ye(Pe,vt,Kt,"","\\approx",!0);ye(Pe,vt,Kt,"","\\cong",!0);ye(Pe,vt,Kt,"","\\ge");ye(Pe,vt,Kt,"","\\geq",!0);ye(Pe,vt,Kt,"","\\gets");ye(Pe,vt,Kt,">","\\gt",!0);ye(Pe,vt,Kt,"","\\in",!0);ye(Pe,vt,Kt,"","\\@not");ye(Pe,vt,Kt,"","\\subset",!0);ye(Pe,vt,Kt,"","\\supset",!0);ye(Pe,vt,Kt,"","\\subseteq",!0);ye(Pe,vt,Kt,"","\\supseteq",!0);ye(Pe,jt,Kt,"","\\nsubseteq",!0);ye(Pe,jt,Kt,"","\\nsupseteq",!0);ye(Pe,vt,Kt,"","\\models");ye(Pe,vt,Kt,"","\\leftarrow",!0);ye(Pe,vt,Kt,"","\\le");ye(Pe,vt,Kt,"","\\leq",!0);ye(Pe,vt,Kt,"<","\\lt",!0);ye(Pe,vt,Kt,"","\\rightarrow",!0);ye(Pe,vt,Kt,"","\\to");ye(Pe,jt,Kt,"","\\ngeq",!0);ye(Pe,jt,Kt,"","\\nleq",!0);ye(Pe,vt,q1,"","\\ ");ye(Pe,vt,q1,"","\\space");ye(Pe,vt,q1,"","\\nobreakspace");ye(ur,vt,q1,"","\\ ");ye(ur,vt,q1,""," ");ye(ur,vt,q1,"","\\space");ye(ur,vt,q1,"","\\nobreakspace");ye(Pe,vt,q1,null,"\\nobreak");ye(Pe,vt,q1,null,"\\allowbreak");ye(Pe,vt,Ff,",",",");ye(Pe,vt,Ff,";",";");ye(Pe,jt,Pr,"","\\barwedge",!0);ye(Pe,jt,Pr,"","\\veebar",!0);ye(Pe,vt,Pr,"","\\odot",!0);ye(Pe,vt,Pr,"","\\oplus",!0);ye(Pe,vt,Pr,"","\\otimes",!0);ye(Pe,vt,dn,"","\\partial",!0);ye(Pe,vt,Pr,"","\\oslash",!0);ye(Pe,jt,Pr,"","\\circledcirc",!0);ye(Pe,jt,Pr,"","\\boxdot",!0);ye(Pe,vt,Pr,"","\\bigtriangleup");ye(Pe,vt,Pr,"","\\bigtriangledown");ye(Pe,vt,Pr,"","\\dagger");ye(Pe,vt,Pr,"","\\diamond");ye(Pe,vt,Pr,"","\\star");ye(Pe,vt,Pr,"","\\triangleleft");ye(Pe,vt,Pr,"","\\triangleright");ye(Pe,vt,ma,"{","\\{");ye(ur,vt,dn,"{","\\{");ye(ur,vt,dn,"{","\\textbraceleft");ye(Pe,vt,Sl,"}","\\}");ye(ur,vt,dn,"}","\\}");ye(ur,vt,dn,"}","\\textbraceright");ye(Pe,vt,ma,"{","\\lbrace");ye(Pe,vt,Sl,"}","\\rbrace");ye(Pe,vt,ma,"[","\\lbrack",!0);ye(ur,vt,dn,"[","\\lbrack",!0);ye(Pe,vt,Sl,"]","\\rbrack",!0);ye(ur,vt,dn,"]","\\rbrack",!0);ye(Pe,vt,ma,"(","\\lparen",!0);ye(Pe,vt,Sl,")","\\rparen",!0);ye(ur,vt,dn,"<","\\textless",!0);ye(ur,vt,dn,">","\\textgreater",!0);ye(Pe,vt,ma,"","\\lfloor",!0);ye(Pe,vt,Sl,"","\\rfloor",!0);ye(Pe,vt,ma,"","\\lceil",!0);ye(Pe,vt,Sl,"","\\rceil",!0);ye(Pe,vt,dn,"\\","\\backslash");ye(Pe,vt,dn,"","|");ye(Pe,vt,dn,"","\\vert");ye(ur,vt,dn,"|","\\textbar",!0);ye(Pe,vt,dn,"","\\|");ye(Pe,vt,dn,"","\\Vert");ye(ur,vt,dn,"","\\textbardbl");ye(ur,vt,dn,"~","\\textasciitilde");ye(ur,vt,dn,"\\","\\textbackslash");ye(ur,vt,dn,"^","\\textasciicircum");ye(Pe,vt,Kt,"","\\uparrow",!0);ye(Pe,vt,Kt,"","\\Uparrow",!0);ye(Pe,vt,Kt,"","\\downarrow",!0);ye(Pe,vt,Kt,"","\\Downarrow",!0);ye(Pe,vt,Kt,"","\\updownarrow",!0);ye(Pe,vt,Kt,"","\\Updownarrow",!0);ye(Pe,vt,Zo,"","\\coprod");ye(Pe,vt,Zo,"","\\bigvee");ye(Pe,vt,Zo,"","\\bigwedge");ye(Pe,vt,Zo,"","\\biguplus");ye(Pe,vt,Zo,"","\\bigcap");ye(Pe,vt,Zo,"","\\bigcup");ye(Pe,vt,Zo,"","\\int");ye(Pe,vt,Zo,"","\\intop");ye(Pe,vt,Zo,"","\\iint");ye(Pe,vt,Zo,"","\\iiint");ye(Pe,vt,Zo,"","\\prod");ye(Pe,vt,Zo,"","\\sum");ye(Pe,vt,Zo,"","\\bigotimes");ye(Pe,vt,Zo,"","\\bigoplus");ye(Pe,vt,Zo,"","\\bigodot");ye(Pe,vt,Zo,"","\\oint");ye(Pe,vt,Zo,"","\\oiint");ye(Pe,vt,Zo,"","\\oiiint");ye(Pe,vt,Zo,"","\\bigsqcup");ye(Pe,vt,Zo,"","\\smallint");ye(ur,vt,E6,"","\\textellipsis");ye(Pe,vt,E6,"","\\mathellipsis");ye(ur,vt,E6,"","\\ldots",!0);ye(Pe,vt,E6,"","\\ldots",!0);ye(Pe,vt,E6,"","\\@cdots",!0);ye(Pe,vt,E6,"","\\ddots",!0);ye(Pe,vt,dn,"","\\varvdots");ye(ur,vt,dn,"","\\varvdots");ye(Pe,vt,mo,"","\\acute");ye(Pe,vt,mo,"","\\grave");ye(Pe,vt,mo,"","\\ddot");ye(Pe,vt,mo,"~","\\tilde");ye(Pe,vt,mo,"","\\bar");ye(Pe,vt,mo,"","\\breve");ye(Pe,vt,mo,"","\\check");ye(Pe,vt,mo,"^","\\hat");ye(Pe,vt,mo,"","\\vec");ye(Pe,vt,mo,"","\\dot");ye(Pe,vt,mo,"","\\mathring");ye(Pe,vt,si,"","\\@imath");ye(Pe,vt,si,"","\\@jmath");ye(Pe,vt,dn,"","");ye(Pe,vt,dn,"","");ye(ur,vt,dn,"","\\i",!0);ye(ur,vt,dn,"","\\j",!0);ye(ur,vt,dn,"","\\ss",!0);ye(ur,vt,dn,"","\\ae",!0);ye(ur,vt,dn,"","\\oe",!0);ye(ur,vt,dn,"","\\o",!0);ye(ur,vt,dn,"","\\AE",!0);ye(ur,vt,dn,"","\\OE",!0);ye(ur,vt,dn,"","\\O",!0);ye(ur,vt,mo,"","\\'");ye(ur,vt,mo,"","\\`");ye(ur,vt,mo,"","\\^");ye(ur,vt,mo,"","\\~");ye(ur,vt,mo,"","\\=");ye(ur,vt,mo,"","\\u");ye(ur,vt,mo,"","\\.");ye(ur,vt,mo,"","\\c");ye(ur,vt,mo,"","\\r");ye(ur,vt,mo,"","\\v");ye(ur,vt,mo,"",'\\"');ye(ur,vt,mo,"","\\H");ye(ur,vt,mo,"","\\textcircled");var JC={"--":!0,"---":!0,"``":!0,"''":!0};ye(ur,vt,dn,"","--",!0);ye(ur,vt,dn,"","\\textendash");ye(ur,vt,dn,"","---",!0);ye(ur,vt,dn,"","\\textemdash");ye(ur,vt,dn,"","`",!0);ye(ur,vt,dn,"","\\textquoteleft");ye(ur,vt,dn,"","'",!0);ye(ur,vt,dn,"","\\textquoteright");ye(ur,vt,dn,"","``",!0);ye(ur,vt,dn,"","\\textquotedblleft");ye(ur,vt,dn,"","''",!0);ye(ur,vt,dn,"","\\textquotedblright");ye(Pe,vt,dn,"","\\degree",!0);ye(ur,vt,dn,"","\\degree");ye(ur,vt,dn,"","\\textdegree",!0);ye(Pe,vt,dn,"","\\pounds");ye(Pe,vt,dn,"","\\mathsterling",!0);ye(ur,vt,dn,"","\\pounds");ye(ur,vt,dn,"","\\textsterling",!0);ye(Pe,jt,dn,"","\\maltese");ye(ur,jt,dn,"","\\maltese");var oT='0123456789/@."';for(var tm=0;tm<oT.length;tm++){var lT=oT.charAt(tm);ye(Pe,vt,dn,lT,lT)}var aT='0123456789!@*()-=+";:?/.,';for(var nm=0;nm<aT.length;nm++){var uT=aT.charAt(nm);ye(ur,vt,dn,uT,uT)}var X9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var rm=0;rm<X9.length;rm++){var V8=X9.charAt(rm);ye(Pe,vt,si,V8,V8),ye(ur,vt,dn,V8,V8)}ye(Pe,jt,dn,"C","");ye(ur,jt,dn,"C","");ye(Pe,jt,dn,"H","");ye(ur,jt,dn,"H","");ye(Pe,jt,dn,"N","");ye(ur,jt,dn,"N","");ye(Pe,jt,dn,"P","");ye(ur,jt,dn,"P","");ye(Pe,jt,dn,"Q","");ye(ur,jt,dn,"Q","");ye(Pe,jt,dn,"R","");ye(ur,jt,dn,"R","");ye(Pe,jt,dn,"Z","");ye(ur,jt,dn,"Z","");ye(Pe,vt,si,"h","");ye(ur,vt,si,"h","");var hi="";for(var yl=0;yl<X9.length;yl++){var Io=X9.charAt(yl);hi=String.fromCharCode(55349,56320+yl),ye(Pe,vt,si,Io,hi),ye(ur,vt,dn,Io,hi),hi=String.fromCharCode(55349,56372+yl),ye(Pe,vt,si,Io,hi),ye(ur,vt,dn,Io,hi),hi=String.fromCharCode(55349,56424+yl),ye(Pe,vt,si,Io,hi),ye(ur,vt,dn,Io,hi),hi=String.fromCharCode(55349,56580+yl),ye(Pe,vt,si,Io,hi),ye(ur,vt,dn,Io,hi),hi=String.fromCharCode(55349,56684+yl),ye(Pe,vt,si,Io,hi),ye(ur,vt,dn,Io,hi),hi=String.fromCharCode(55349,56736+yl),ye(Pe,vt,si,Io,hi),ye(ur,vt,dn,Io,hi),hi=String.fromCharCode(55349,56788+yl),ye(Pe,vt,si,Io,hi),ye(ur,vt,dn,Io,hi),hi=String.fromCharCode(55349,56840+yl),ye(Pe,vt,si,Io,hi),ye(ur,vt,dn,Io,hi),hi=String.fromCharCode(55349,56944+yl),ye(Pe,vt,si,Io,hi),ye(ur,vt,dn,Io,hi),yl<26&&(hi=String.fromCharCode(55349,56632+yl),ye(Pe,vt,si,Io,hi),ye(ur,vt,dn,Io,hi),hi=String.fromCharCode(55349,56476+yl),ye(Pe,vt,si,Io,hi),ye(ur,vt,dn,Io,hi))}hi="";ye(Pe,vt,si,"k",hi);ye(ur,vt,dn,"k",hi);for(var Qh=0;Qh<10;Qh++){var X2=Qh.toString();hi=String.fromCharCode(55349,57294+Qh),ye(Pe,vt,si,X2,hi),ye(ur,vt,dn,X2,hi),hi=String.fromCharCode(55349,57314+Qh),ye(Pe,vt,si,X2,hi),ye(ur,vt,dn,X2,hi),hi=String.fromCharCode(55349,57324+Qh),ye(Pe,vt,si,X2,hi),ye(ur,vt,dn,X2,hi),hi=String.fromCharCode(55349,57334+Qh),ye(Pe,vt,si,X2,hi),ye(ur,vt,dn,X2,hi)}var tg="";for(var im=0;im<tg.length;im++){var G8=tg.charAt(im);ye(Pe,vt,si,G8,G8),ye(ur,vt,dn,G8,G8)}var q8=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],cT=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],FG=function(s,r){var i=s.charCodeAt(0),u=s.charCodeAt(1),h=(i-55296)*1024+(u-56320)+65536,f=r==="math"?0:1;if(119808<=h&&h<120484){var g=Math.floor((h-119808)/26);return[q8[g][2],q8[g][f]]}else if(120782<=h&&h<=120831){var y=Math.floor((h-120782)/10);return[cT[y][2],cT[y][f]]}else{if(h===120485||h===120486)return[q8[0][2],q8[0][f]];if(120486<h&&h<120782)return["",""];throw new gr("Unsupported character: "+s)}},Uf=function(s,r,i){return eo[i][s]&&eo[i][s].replace&&(s=eo[i][s].replace),{value:s,metrics:Lv(s,r,i)}},Ru=function(s,r,i,u,h){var f=Uf(s,r,i),g=f.metrics;s=f.value;var y;if(g){var $=g.italic;(i==="text"||u&&u.font==="mathit")&&($=0),y=new eu(s,g.height,g.depth,$,g.skew,g.width,h)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+s+"' in style '"+r+"' and mode '"+i+"'")),y=new eu(s,0,0,0,0,0,h);if(u){y.maxFontSize=u.sizeMultiplier,u.style.isTight()&&y.classes.push("mtight");var T=u.getColor();T&&(y.style.color=T)}return y},UG=function(s,r,i,u){return u===void 0&&(u=[]),i.font==="boldsymbol"&&Uf(s,"Main-Bold",r).metrics?Ru(s,"Main-Bold",r,i,u.concat(["mathbf"])):s==="\\"||eo[r][s].font==="main"?Ru(s,"Main-Regular",r,i,u):Ru(s,"AMS-Regular",r,i,u.concat(["amsrm"]))},zG=function(s,r,i,u,h){return h!=="textord"&&Uf(s,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},HG=function(s,r,i){var u=s.mode,h=s.text,f=["mord"],g=u==="math"||u==="text"&&r.font,y=g?r.font:r.fontFamily,$="",T="";if(h.charCodeAt(0)===55349&&([$,T]=FG(h,u)),$.length>0)return Ru(h,$,u,r,f.concat(T));if(y){var w,I;if(y==="boldsymbol"){var A=zG(h,u,r,f,i);w=A.fontName,I=[A.fontClass]}else g?(w=eM[y].fontName,I=[y]):(w=W8(y,r.fontWeight,r.fontShape),I=[y,r.fontWeight,r.fontShape]);if(Uf(h,w,u).metrics)return Ru(h,w,u,r,f.concat(I));if(JC.hasOwnProperty(h)&&w.slice(0,10)==="Typewriter"){for(var K=[],ne=0;ne<h.length;ne++)K.push(Ru(h[ne],w,u,r,f.concat(I)));return QC(K)}}if(i==="mathord")return Ru(h,"Math-Italic",u,r,f.concat(["mathnormal"]));if(i==="textord"){var he=eo[u][h]&&eo[u][h].font;if(he==="ams"){var V=W8("amsrm",r.fontWeight,r.fontShape);return Ru(h,V,u,r,f.concat("amsrm",r.fontWeight,r.fontShape))}else if(he==="main"||!he){var le=W8("textrm",r.fontWeight,r.fontShape);return Ru(h,le,u,r,f.concat(r.fontWeight,r.fontShape))}else{var te=W8(he,r.fontWeight,r.fontShape);return Ru(h,te,u,r,f.concat(te,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+i+" in makeOrd")},VG=(t,s)=>{if(th(t.classes)!==th(s.classes)||t.skew!==s.skew||t.maxFontSize!==s.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var i in t.style)if(t.style.hasOwnProperty(i)&&t.style[i]!==s.style[i])return!1;for(var u in s.style)if(s.style.hasOwnProperty(u)&&t.style[u]!==s.style[u])return!1;return!0},GG=t=>{for(var s=0;s<t.length-1;s++){var r=t[s],i=t[s+1];r instanceof eu&&i instanceof eu&&VG(r,i)&&(r.text+=i.text,r.height=Math.max(r.height,i.height),r.depth=Math.max(r.depth,i.depth),r.italic=i.italic,t.splice(s+1,1),s--)}return t},Bv=function(s){for(var r=0,i=0,u=0,h=0;h<s.children.length;h++){var f=s.children[h];f.height>r&&(r=f.height),f.depth>i&&(i=f.depth),f.maxFontSize>u&&(u=f.maxFontSize)}s.height=r,s.depth=i,s.maxFontSize=u},Dl=function(s,r,i,u){var h=new z7(s,r,i,u);return Bv(h),h},ZC=(t,s,r,i)=>new z7(t,s,r,i),qG=function(s,r,i){var u=Dl([s],[],r);return u.height=Math.max(i||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),u.style.borderBottomWidth=Cr(u.height),u.maxFontSize=1,u},WG=function(s,r,i,u){var h=new Dv(s,r,i,u);return Bv(h),h},QC=function(s){var r=new U7(s);return Bv(r),r},jG=function(s,r){return s instanceof U7?Dl([],[s],r):s},XG=function(s){if(s.positionType==="individualShift"){for(var r=s.children,i=[r[0]],u=-r[0].shift-r[0].elem.depth,h=u,f=1;f<r.length;f++){var g=-r[f].shift-h-r[f].elem.depth,y=g-(r[f-1].elem.height+r[f-1].elem.depth);h=h+g,i.push({type:"kern",size:y}),i.push(r[f])}return{children:i,depth:u}}var $;if(s.positionType==="top"){for(var T=s.positionData,w=0;w<s.children.length;w++){var I=s.children[w];T-=I.type==="kern"?I.size:I.elem.height+I.elem.depth}$=T}else if(s.positionType==="bottom")$=-s.positionData;else{var A=s.children[0];if(A.type!=="elem")throw new Error('First child must have type "elem".');if(s.positionType==="shift")$=-A.elem.depth-s.positionData;else if(s.positionType==="firstBaseline")$=-A.elem.depth;else throw new Error("Invalid positionType "+s.positionType+".")}return{children:s.children,depth:$}},YG=function(s,r){for(var{children:i,depth:u}=XG(s),h=0,f=0;f<i.length;f++){var g=i[f];if(g.type==="elem"){var y=g.elem;h=Math.max(h,y.maxFontSize,y.height)}}h+=2;var $=Dl(["pstrut"],[]);$.style.height=Cr(h);for(var T=[],w=u,I=u,A=u,K=0;K<i.length;K++){var ne=i[K];if(ne.type==="kern")A+=ne.size;else{var he=ne.elem,V=ne.wrapperClasses||[],le=ne.wrapperStyle||{},te=Dl(V,[$,he],void 0,le);te.style.top=Cr(-h-A-he.depth),ne.marginLeft&&(te.style.marginLeft=ne.marginLeft),ne.marginRight&&(te.style.marginRight=ne.marginRight),T.push(te),A+=he.height+he.depth}w=Math.min(w,A),I=Math.max(I,A)}var Ce=Dl(["vlist"],T);Ce.style.height=Cr(I);var Oe;if(w<0){var ce=Dl([],[]),Be=Dl(["vlist"],[ce]);Be.style.height=Cr(-w);var je=Dl(["vlist-s"],[new eu("")]);Oe=[Dl(["vlist-r"],[Ce,je]),Dl(["vlist-r"],[Be])]}else Oe=[Dl(["vlist-r"],[Ce])];var _e=Dl(["vlist-t"],Oe);return Oe.length===2&&_e.classes.push("vlist-t2"),_e.height=I,_e.depth=-w,_e},KG=(t,s)=>{var r=Dl(["mspace"],[],s),i=Eo(t,s);return r.style.marginRight=Cr(i),r},W8=function(s,r,i){var u="";switch(s){case"amsrm":u="AMS";break;case"textrm":u="Main";break;case"textsf":u="SansSerif";break;case"texttt":u="Typewriter";break;default:u=s}var h;return r==="textbf"&&i==="textit"?h="BoldItalic":r==="textbf"?h="Bold":r==="textit"?h="Italic":h="Regular",u+"-"+h},eM={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},tM={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},JG=function(s,r){var[i,u,h]=tM[s],f=new nh(i),g=new F1([f],{width:Cr(u),height:Cr(h),style:"width:"+Cr(u),viewBox:"0 0 "+1e3*u+" "+1e3*h,preserveAspectRatio:"xMinYMin"}),y=ZC(["overlay"],[g],r);return y.height=h,y.style.height=Cr(h),y.style.width=Cr(u),y},On={fontMap:eM,makeSymbol:Ru,mathsym:UG,makeSpan:Dl,makeSvgSpan:ZC,makeLineSpan:qG,makeAnchor:WG,makeFragment:QC,wrapFragment:jG,makeVList:YG,makeOrd:HG,makeGlue:KG,staticSvg:JG,svgData:tM,tryCombineChars:GG},To={number:3,unit:"mu"},e4={number:4,unit:"mu"},x1={number:5,unit:"mu"},ZG={mord:{mop:To,mbin:e4,mrel:x1,minner:To},mop:{mord:To,mop:To,mrel:x1,minner:To},mbin:{mord:e4,mop:e4,mopen:e4,minner:e4},mrel:{mord:x1,mop:x1,mopen:x1,minner:x1},mopen:{},mclose:{mop:To,mbin:e4,mrel:x1,minner:To},mpunct:{mord:To,mop:To,mrel:x1,mopen:To,mclose:To,mpunct:To,minner:To},minner:{mord:To,mop:To,mbin:e4,mrel:x1,mopen:To,mpunct:To,minner:To}},QG={mord:{mop:To},mop:{mord:To,mop:To},mbin:{},mrel:{},mopen:{},mclose:{mop:To},mpunct:{},minner:{mop:To}},nM={},Y9={},K9={};function Lr(t){for(var{type:s,names:r,props:i,handler:u,htmlBuilder:h,mathmlBuilder:f}=t,g={type:s,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:u},y=0;y<r.length;++y)nM[r[y]]=g;s&&(h&&(Y9[s]=h),f&&(K9[s]=f))}function $4(t){var{type:s,htmlBuilder:r,mathmlBuilder:i}=t;Lr({type:s,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:i})}var J9=function(s){return s.type==="ordgroup"&&s.body.length===1?s.body[0]:s},Fo=function(s){return s.type==="ordgroup"?s.body:[s]},U1=On.makeSpan,eq=["leftmost","mbin","mopen","mrel","mop","mpunct"],tq=["rightmost","mrel","mclose","mpunct"],nq={display:oi.DISPLAY,text:oi.TEXT,script:oi.SCRIPT,scriptscript:oi.SCRIPTSCRIPT},rq={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},a0=function(s,r,i,u){u===void 0&&(u=[null,null]);for(var h=[],f=0;f<s.length;f++){var g=ds(s[f],r);if(g instanceof U7){var y=g.children;h.push(...y)}else h.push(g)}if(On.tryCombineChars(h),!i)return h;var $=r;if(s.length===1){var T=s[0];T.type==="sizing"?$=r.havingSize(T.size):T.type==="styling"&&($=r.havingStyle(nq[T.style]))}var w=U1([u[0]||"leftmost"],[],r),I=U1([u[1]||"rightmost"],[],r),A=i==="root";return hT(h,(K,ne)=>{var he=ne.classes[0],V=K.classes[0];he==="mbin"&&tq.includes(V)?ne.classes[0]="mord":V==="mbin"&&eq.includes(he)&&(K.classes[0]="mord")},{node:w},I,A),hT(h,(K,ne)=>{var he=ng(ne),V=ng(K),le=he&&V?K.hasClass("mtight")?QG[he][V]:ZG[he][V]:null;if(le)return On.makeGlue(le,$)},{node:w},I,A),h},hT=function t(s,r,i,u,h){u&&s.push(u);for(var f=0;f<s.length;f++){var g=s[f],y=rM(g);if(y){t(y.children,r,i,null,h);continue}var $=!g.hasClass("mspace");if($){var T=r(g,i.node);T&&(i.insertAfter?i.insertAfter(T):(s.unshift(T),f++))}$?i.node=g:h&&g.hasClass("newline")&&(i.node=U1(["leftmost"])),i.insertAfter=(w=>I=>{s.splice(w+1,0,I),f++})(f)}u&&s.pop()},rM=function(s){return s instanceof U7||s instanceof Dv||s instanceof z7&&s.hasClass("enclosing")?s:null},iq=function t(s,r){var i=rM(s);if(i){var u=i.children;if(u.length){if(r==="right")return t(u[u.length-1],"right");if(r==="left")return t(u[0],"left")}}return s},ng=function(s,r){return s?(r&&(s=iq(s,r)),rq[s.classes[0]]||null):null},E7=function(s,r){var i=["nulldelimiter"].concat(s.baseSizingClasses());return U1(r.concat(i))},ds=function(s,r,i){if(!s)return U1();if(Y9[s.type]){var u=Y9[s.type](s,r);if(i&&r.size!==i.size){u=U1(r.sizingClasses(i),[u],r);var h=r.sizeMultiplier/i.sizeMultiplier;u.height*=h,u.depth*=h}return u}else throw new gr("Got group of unknown type: '"+s.type+"'")};function j8(t,s){var r=U1(["base"],t,s),i=U1(["strut"]);return i.style.height=Cr(r.height+r.depth),r.depth&&(i.style.verticalAlign=Cr(-r.depth)),r.children.unshift(i),r}function rg(t,s){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var i=a0(t,s,"root"),u;i.length===2&&i[1].hasClass("tag")&&(u=i.pop());for(var h=[],f=[],g=0;g<i.length;g++)if(f.push(i[g]),i[g].hasClass("mbin")||i[g].hasClass("mrel")||i[g].hasClass("allowbreak")){for(var y=!1;g<i.length-1&&i[g+1].hasClass("mspace")&&!i[g+1].hasClass("newline");)g++,f.push(i[g]),i[g].hasClass("nobreak")&&(y=!0);y||(h.push(j8(f,s)),f=[])}else i[g].hasClass("newline")&&(f.pop(),f.length>0&&(h.push(j8(f,s)),f=[]),h.push(i[g]));f.length>0&&h.push(j8(f,s));var $;r?($=j8(a0(r,s,!0)),$.classes=["tag"],h.push($)):u&&h.push(u);var T=U1(["katex-html"],h);if(T.setAttribute("aria-hidden","true"),$){var w=$.children[0];w.style.height=Cr(T.height+T.depth),T.depth&&(w.style.verticalAlign=Cr(-T.depth))}return T}function iM(t){return new U7(t)}class fa{constructor(s,r,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=s,this.attributes={},this.children=r||[],this.classes=i||[]}setAttribute(s,r){this.attributes[s]=r}getAttribute(s){return this.attributes[s]}toNode(){var s=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&s.setAttribute(r,this.attributes[r]);this.classes.length>0&&(s.className=th(this.classes));for(var i=0;i<this.children.length;i++)if(this.children[i]instanceof Cc&&this.children[i+1]instanceof Cc){for(var u=this.children[i].toText()+this.children[++i].toText();this.children[i+1]instanceof Cc;)u+=this.children[++i].toText();s.appendChild(new Cc(u).toNode())}else s.appendChild(this.children[i].toNode());return s}toMarkup(){var s="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(s+=" "+r+'="',s+=bs.escape(this.attributes[r]),s+='"');this.classes.length>0&&(s+=' class ="'+bs.escape(th(this.classes))+'"'),s+=">";for(var i=0;i<this.children.length;i++)s+=this.children[i].toMarkup();return s+="</"+this.type+">",s}toText(){return this.children.map(s=>s.toText()).join("")}}class Cc{constructor(s){this.text=void 0,this.text=s}toNode(){return document.createTextNode(this.text)}toMarkup(){return bs.escape(this.toText())}toText(){return this.text}}class sq{constructor(s){this.width=void 0,this.character=void 0,this.width=s,s>=.05555&&s<=.05556?this.character="":s>=.1666&&s<=.1667?this.character="":s>=.2222&&s<=.2223?this.character="":s>=.2777&&s<=.2778?this.character="":s>=-.05556&&s<=-.05555?this.character="":s>=-.1667&&s<=-.1666?this.character="":s>=-.2223&&s<=-.2222?this.character="":s>=-.2778&&s<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var s=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return s.setAttribute("width",Cr(this.width)),s}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Cr(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var pr={MathNode:fa,TextNode:Cc,SpaceNode:sq,newDocumentFragment:iM},tu=function(s,r,i){return eo[r][s]&&eo[r][s].replace&&s.charCodeAt(0)!==55349&&!(JC.hasOwnProperty(s)&&i&&(i.fontFamily&&i.fontFamily.slice(4,6)==="tt"||i.font&&i.font.slice(4,6)==="tt"))&&(s=eo[r][s].replace),new pr.TextNode(s)},Pv=function(s){return s.length===1?s[0]:new pr.MathNode("mrow",s)},Fv=function(s,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var i=r.font;if(!i||i==="mathnormal")return null;var u=s.mode;if(i==="mathit")return"italic";if(i==="boldsymbol")return s.type==="textord"?"bold":"bold-italic";if(i==="mathbf")return"bold";if(i==="mathbb")return"double-struck";if(i==="mathsfit")return"sans-serif-italic";if(i==="mathfrak")return"fraktur";if(i==="mathscr"||i==="mathcal")return"script";if(i==="mathsf")return"sans-serif";if(i==="mathtt")return"monospace";var h=s.text;if(["\\imath","\\jmath"].includes(h))return null;eo[u][h]&&eo[u][h].replace&&(h=eo[u][h].replace);var f=On.fontMap[i].fontName;return Lv(h,f,u)?On.fontMap[i].variant:null};function sm(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var s=t.children[0];return s instanceof Cc&&s.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var r=t.children[0];return r instanceof Cc&&r.text===","}else return!1}var Ul=function(s,r,i){if(s.length===1){var u=Xs(s[0],r);return i&&u instanceof fa&&u.type==="mo"&&(u.setAttribute("lspace","0em"),u.setAttribute("rspace","0em")),[u]}for(var h=[],f,g=0;g<s.length;g++){var y=Xs(s[g],r);if(y instanceof fa&&f instanceof fa){if(y.type==="mtext"&&f.type==="mtext"&&y.getAttribute("mathvariant")===f.getAttribute("mathvariant")){f.children.push(...y.children);continue}else if(y.type==="mn"&&f.type==="mn"){f.children.push(...y.children);continue}else if(sm(y)&&f.type==="mn"){f.children.push(...y.children);continue}else if(y.type==="mn"&&sm(f))y.children=[...f.children,...y.children],h.pop();else if((y.type==="msup"||y.type==="msub")&&y.children.length>=1&&(f.type==="mn"||sm(f))){var $=y.children[0];$ instanceof fa&&$.type==="mn"&&($.children=[...f.children,...$.children],h.pop())}else if(f.type==="mi"&&f.children.length===1){var T=f.children[0];if(T instanceof Cc&&T.text===""&&(y.type==="mo"||y.type==="mi"||y.type==="mn")){var w=y.children[0];w instanceof Cc&&w.text.length>0&&(w.text=w.text.slice(0,1)+""+w.text.slice(1),h.pop())}}}h.push(y),f=y}return h},rh=function(s,r,i){return Pv(Ul(s,r,i))},Xs=function(s,r){if(!s)return new pr.MathNode("mrow");if(K9[s.type]){var i=K9[s.type](s,r);return i}else throw new gr("Got group of unknown type: '"+s.type+"'")};function fT(t,s,r,i,u){var h=Ul(t,r),f;h.length===1&&h[0]instanceof fa&&["mrow","mtable"].includes(h[0].type)?f=h[0]:f=new pr.MathNode("mrow",h);var g=new pr.MathNode("annotation",[new pr.TextNode(s)]);g.setAttribute("encoding","application/x-tex");var y=new pr.MathNode("semantics",[f,g]),$=new pr.MathNode("math",[y]);$.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&$.setAttribute("display","block");var T=u?"katex":"katex-mathml";return On.makeSpan([T],[$])}var sM=function(s){return new k1({style:s.displayMode?oi.DISPLAY:oi.TEXT,maxSize:s.maxSize,minRuleThickness:s.minRuleThickness})},oM=function(s,r){if(r.displayMode){var i=["katex-display"];r.leqno&&i.push("leqno"),r.fleqn&&i.push("fleqn"),s=On.makeSpan(i,[s])}return s},oq=function(s,r,i){var u=sM(i),h;if(i.output==="mathml")return fT(s,r,u,i.displayMode,!0);if(i.output==="html"){var f=rg(s,u);h=On.makeSpan(["katex"],[f])}else{var g=fT(s,r,u,i.displayMode,!1),y=rg(s,u);h=On.makeSpan(["katex"],[g,y])}return oM(h,i)},lq=function(s,r,i){var u=sM(i),h=rg(s,u),f=On.makeSpan(["katex"],[h]);return oM(f,i)},aq={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},uq=function(s){var r=new pr.MathNode("mo",[new pr.TextNode(aq[s.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},cq={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},hq=function(s){return s.type==="ordgroup"?s.body.length:1},fq=function(s,r){function i(){var g=4e5,y=s.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(y)){var $=s,T=hq($.base),w,I,A;if(T>5)y==="widehat"||y==="widecheck"?(w=420,g=2364,A=.42,I=y+"4"):(w=312,g=2340,A=.34,I="tilde4");else{var K=[1,1,2,2,3,3][T];y==="widehat"||y==="widecheck"?(g=[0,1062,2364,2364,2364][K],w=[0,239,300,360,420][K],A=[0,.24,.3,.3,.36,.42][K],I=y+K):(g=[0,600,1033,2339,2340][K],w=[0,260,286,306,312][K],A=[0,.26,.286,.3,.306,.34][K],I="tilde"+K)}var ne=new nh(I),he=new F1([ne],{width:"100%",height:Cr(A),viewBox:"0 0 "+g+" "+w,preserveAspectRatio:"none"});return{span:On.makeSvgSpan([],[he],r),minWidth:0,height:A}}else{var V=[],le=cq[y],[te,Ce,Oe]=le,ce=Oe/1e3,Be=te.length,je,_e;if(Be===1){var b=le[3];je=["hide-tail"],_e=[b]}else if(Be===2)je=["halfarrow-left","halfarrow-right"],_e=["xMinYMin","xMaxYMin"];else if(Be===3)je=["brace-left","brace-center","brace-right"],_e=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Be+" children.");for(var O=0;O<Be;O++){var N=new nh(te[O]),R=new F1([N],{width:"400em",height:Cr(ce),viewBox:"0 0 "+g+" "+Oe,preserveAspectRatio:_e[O]+" slice"}),B=On.makeSvgSpan([je[O]],[R],r);if(Be===1)return{span:B,minWidth:Ce,height:ce};B.style.height=Cr(ce),V.push(B)}return{span:On.makeSpan(["stretchy"],V,r),minWidth:Ce,height:ce}}}var{span:u,minWidth:h,height:f}=i();return u.height=f,u.style.height=Cr(f),h>0&&(u.style.minWidth=Cr(h)),u},dq=function(s,r,i,u,h){var f,g=s.height+s.depth+i+u;if(/fbox|color|angl/.test(r)){if(f=On.makeSpan(["stretchy",r],[],h),r==="fbox"){var y=h.color&&h.getColor();y&&(f.style.borderColor=y)}}else{var $=[];/^[bx]cancel$/.test(r)&&$.push(new eg({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&$.push(new eg({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var T=new F1($,{width:"100%",height:Cr(g)});f=On.makeSvgSpan([],[T],h)}return f.height=g,f.style.height=Cr(g),f},z1={encloseSpan:dq,mathMLnode:uq,svgSpan:fq};function Ni(t,s){if(!t||t.type!==s)throw new Error("Expected node of type "+s+", but got "+(t?"node of type "+t.type:String(t)));return t}function Uv(t){var s=zf(t);if(!s)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return s}function zf(t){return t&&(t.type==="atom"||PG.hasOwnProperty(t.type))?t:null}var zv=(t,s)=>{var r,i,u;t&&t.type==="supsub"?(i=Ni(t.base,"accent"),r=i.base,t.base=r,u=DG(ds(t,s)),t.base=i):(i=Ni(t,"accent"),r=i.base);var h=ds(r,s.havingCrampedStyle()),f=i.isShifty&&bs.isCharacterBox(r),g=0;if(f){var y=bs.getBaseElem(r),$=ds(y,s.havingCrampedStyle());g=sT($).skew}var T=i.label==="\\c",w=T?h.height+h.depth:Math.min(h.height,s.fontMetrics().xHeight),I;if(i.isStretchy)I=z1.svgSpan(i,s),I=On.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"elem",elem:I,wrapperClasses:["svg-align"],wrapperStyle:g>0?{width:"calc(100% - "+Cr(2*g)+")",marginLeft:Cr(2*g)}:void 0}]},s);else{var A,K;i.label==="\\vec"?(A=On.staticSvg("vec",s),K=On.svgData.vec[1]):(A=On.makeOrd({mode:i.mode,text:i.label},s,"textord"),A=sT(A),A.italic=0,K=A.width,T&&(w+=A.depth)),I=On.makeSpan(["accent-body"],[A]);var ne=i.label==="\\textcircled";ne&&(I.classes.push("accent-full"),w=h.height);var he=g;ne||(he-=K/2),I.style.left=Cr(he),i.label==="\\textcircled"&&(I.style.top=".2em"),I=On.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:-w},{type:"elem",elem:I}]},s)}var V=On.makeSpan(["mord","accent"],[I],s);return u?(u.children[0]=V,u.height=Math.max(V.height,u.height),u.classes[0]="mord",u):V},lM=(t,s)=>{var r=t.isStretchy?z1.mathMLnode(t.label):new pr.MathNode("mo",[tu(t.label,t.mode)]),i=new pr.MathNode("mover",[Xs(t.base,s),r]);return i.setAttribute("accent","true"),i},pq=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Lr({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,s)=>{var r=J9(s[0]),i=!pq.test(t.funcName),u=!i||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:i,isShifty:u,base:r}},htmlBuilder:zv,mathmlBuilder:lM});Lr({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,s)=>{var r=s[0],i=t.parser.mode;return i==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:zv,mathmlBuilder:lM});Lr({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,s)=>{var{parser:r,funcName:i}=t,u=s[0];return{type:"accentUnder",mode:r.mode,label:i,base:u}},htmlBuilder:(t,s)=>{var r=ds(t.base,s),i=z1.svgSpan(t,s),u=t.label==="\\utilde"?.12:0,h=On.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:u},{type:"elem",elem:r}]},s);return On.makeSpan(["mord","accentunder"],[h],s)},mathmlBuilder:(t,s)=>{var r=z1.mathMLnode(t.label),i=new pr.MathNode("munder",[Xs(t.base,s),r]);return i.setAttribute("accentunder","true"),i}});var X8=t=>{var s=new pr.MathNode("mpadded",t?[t]:[]);return s.setAttribute("width","+0.6em"),s.setAttribute("lspace","0.3em"),s};Lr({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,s,r){var{parser:i,funcName:u}=t;return{type:"xArrow",mode:i.mode,label:u,body:s[0],below:r[0]}},htmlBuilder(t,s){var r=s.style,i=s.havingStyle(r.sup()),u=On.wrapFragment(ds(t.body,i,s),s),h=t.label.slice(0,2)==="\\x"?"x":"cd";u.classes.push(h+"-arrow-pad");var f;t.below&&(i=s.havingStyle(r.sub()),f=On.wrapFragment(ds(t.below,i,s),s),f.classes.push(h+"-arrow-pad"));var g=z1.svgSpan(t,s),y=-s.fontMetrics().axisHeight+.5*g.height,$=-s.fontMetrics().axisHeight-.5*g.height-.111;(u.depth>.25||t.label==="\\xleftequilibrium")&&($-=u.depth);var T;if(f){var w=-s.fontMetrics().axisHeight+f.height+.5*g.height+.111;T=On.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:$},{type:"elem",elem:g,shift:y},{type:"elem",elem:f,shift:w}]},s)}else T=On.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:$},{type:"elem",elem:g,shift:y}]},s);return T.children[0].children[0].children[1].classes.push("svg-align"),On.makeSpan(["mrel","x-arrow"],[T],s)},mathmlBuilder(t,s){var r=z1.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(t.body){var u=X8(Xs(t.body,s));if(t.below){var h=X8(Xs(t.below,s));i=new pr.MathNode("munderover",[r,h,u])}else i=new pr.MathNode("mover",[r,u])}else if(t.below){var f=X8(Xs(t.below,s));i=new pr.MathNode("munder",[r,f])}else i=X8(),i=new pr.MathNode("mover",[r,i]);return i}});var mq=On.makeSpan;function aM(t,s){var r=a0(t.body,s,!0);return mq([t.mclass],r,s)}function uM(t,s){var r,i=Ul(t.body,s);return t.mclass==="minner"?r=new pr.MathNode("mpadded",i):t.mclass==="mord"?t.isCharacterBox?(r=i[0],r.type="mi"):r=new pr.MathNode("mi",i):(t.isCharacterBox?(r=i[0],r.type="mo"):r=new pr.MathNode("mo",i),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}Lr({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,s){var{parser:r,funcName:i}=t,u=s[0];return{type:"mclass",mode:r.mode,mclass:"m"+i.slice(5),body:Fo(u),isCharacterBox:bs.isCharacterBox(u)}},htmlBuilder:aM,mathmlBuilder:uM});var Hf=t=>{var s=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return s.type==="atom"&&(s.family==="bin"||s.family==="rel")?"m"+s.family:"mord"};Lr({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,s){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:Hf(s[0]),body:Fo(s[1]),isCharacterBox:bs.isCharacterBox(s[1])}}});Lr({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,s){var{parser:r,funcName:i}=t,u=s[1],h=s[0],f;i!=="\\stackrel"?f=Hf(u):f="mrel";var g={type:"op",mode:u.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:Fo(u)},y={type:"supsub",mode:h.mode,base:g,sup:i==="\\underset"?null:h,sub:i==="\\underset"?h:null};return{type:"mclass",mode:r.mode,mclass:f,body:[y],isCharacterBox:bs.isCharacterBox(y)}},htmlBuilder:aM,mathmlBuilder:uM});Lr({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,s){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:Hf(s[0]),body:Fo(s[0])}},htmlBuilder(t,s){var r=a0(t.body,s,!0),i=On.makeSpan([t.mclass],r,s);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(t,s){var r=Ul(t.body,s),i=new pr.MathNode("mstyle",r);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var gq={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},dT=()=>({type:"styling",body:[],mode:"math",style:"display"}),pT=t=>t.type==="textord"&&t.text==="@",vq=(t,s)=>(t.type==="mathord"||t.type==="atom")&&t.text===s;function $q(t,s,r){var i=gq[t];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(i,[s[0]],[s[1]]);case"\\uparrow":case"\\downarrow":{var u=r.callFunction("\\\\cdleft",[s[0]],[]),h={type:"atom",text:i,mode:"math",family:"rel"},f=r.callFunction("\\Big",[h],[]),g=r.callFunction("\\\\cdright",[s[1]],[]),y={type:"ordgroup",mode:"math",body:[u,f,g]};return r.callFunction("\\\\cdparent",[y],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var $={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[$],[])}default:return{type:"textord",text:" ",mode:"math"}}}function bq(t){var s=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){s.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){s[s.length-1].length===0&&s.pop();break}else throw new gr("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var i=[],u=[i],h=0;h<s.length;h++){for(var f=s[h],g=dT(),y=0;y<f.length;y++)if(!pT(f[y]))g.body.push(f[y]);else{i.push(g),y+=1;var $=Uv(f[y]).text,T=new Array(2);if(T[0]={type:"ordgroup",mode:"math",body:[]},T[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf($)>-1))if("<>AV".indexOf($)>-1)for(var w=0;w<2;w++){for(var I=!0,A=y+1;A<f.length;A++){if(vq(f[A],$)){I=!1,y=A;break}if(pT(f[A]))throw new gr("Missing a "+$+" character to complete a CD arrow.",f[A]);T[w].body.push(f[A])}if(I)throw new gr("Missing a "+$+" character to complete a CD arrow.",f[y])}else throw new gr('Expected one of "<>AV=|." after @',f[y]);var K=$q($,T,t),ne={type:"styling",body:[K],mode:"math",style:"display"};i.push(ne),g=dT()}h%2===0?i.push(g):i.shift(),i=[],u.push(i)}t.gullet.endGroup(),t.gullet.endGroup();var he=new Array(u[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:u,arraystretch:1,addJot:!0,rowGaps:[null],cols:he,colSeparationType:"CD",hLinesBeforeRow:new Array(u.length+1).fill([])}}Lr({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,s){var{parser:r,funcName:i}=t;return{type:"cdlabel",mode:r.mode,side:i.slice(4),label:s[0]}},htmlBuilder(t,s){var r=s.havingStyle(s.style.sup()),i=On.wrapFragment(ds(t.label,r,s),s);return i.classes.push("cd-label-"+t.side),i.style.bottom=Cr(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(t,s){var r=new pr.MathNode("mrow",[Xs(t.label,s)]);return r=new pr.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new pr.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});Lr({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,s){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:s[0]}},htmlBuilder(t,s){var r=On.wrapFragment(ds(t.fragment,s),s);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,s){return new pr.MathNode("mrow",[Xs(t.fragment,s)])}});Lr({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,s){for(var{parser:r}=t,i=Ni(s[0],"ordgroup"),u=i.body,h="",f=0;f<u.length;f++){var g=Ni(u[f],"textord");h+=g.text}var y=parseInt(h),$;if(isNaN(y))throw new gr("\\@char has non-numeric argument "+h);if(y<0||y>=1114111)throw new gr("\\@char with invalid code point "+h);return y<=65535?$=String.fromCharCode(y):(y-=65536,$=String.fromCharCode((y>>10)+55296,(y&1023)+56320)),{type:"textord",mode:r.mode,text:$}}});var cM=(t,s)=>{var r=a0(t.body,s.withColor(t.color),!1);return On.makeFragment(r)},hM=(t,s)=>{var r=Ul(t.body,s.withColor(t.color)),i=new pr.MathNode("mstyle",r);return i.setAttribute("mathcolor",t.color),i};Lr({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,s){var{parser:r}=t,i=Ni(s[0],"color-token").color,u=s[1];return{type:"color",mode:r.mode,color:i,body:Fo(u)}},htmlBuilder:cM,mathmlBuilder:hM});Lr({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,s){var{parser:r,breakOnTokenText:i}=t,u=Ni(s[0],"color-token").color;r.gullet.macros.set("\\current@color",u);var h=r.parseExpression(!0,i);return{type:"color",mode:r.mode,color:u,body:h}},htmlBuilder:cM,mathmlBuilder:hM});Lr({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,s,r){var{parser:i}=t,u=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,h=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:h,size:u&&Ni(u,"size").value}},htmlBuilder(t,s){var r=On.makeSpan(["mspace"],[],s);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=Cr(Eo(t.size,s)))),r},mathmlBuilder(t,s){var r=new pr.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",Cr(Eo(t.size,s)))),r}});var ig={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},fM=t=>{var s=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(s))throw new gr("Expected a control sequence",t);return s},yq=t=>{var s=t.gullet.popToken();return s.text==="="&&(s=t.gullet.popToken(),s.text===" "&&(s=t.gullet.popToken())),s},dM=(t,s,r,i)=>{var u=t.gullet.macros.get(r.text);u==null&&(r.noexpand=!0,u={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(s,u,i)};Lr({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:s,funcName:r}=t;s.consumeSpaces();var i=s.fetch();if(ig[i.text])return(r==="\\global"||r==="\\\\globallong")&&(i.text=ig[i.text]),Ni(s.parseFunction(),"internal");throw new gr("Invalid token after macro prefix",i)}});Lr({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:s,funcName:r}=t,i=s.gullet.popToken(),u=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(u))throw new gr("Expected a control sequence",i);for(var h=0,f,g=[[]];s.gullet.future().text!=="{";)if(i=s.gullet.popToken(),i.text==="#"){if(s.gullet.future().text==="{"){f=s.gullet.future(),g[h].push("{");break}if(i=s.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new gr('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==h+1)throw new gr('Argument number "'+i.text+'" out of order');h++,g.push([])}else{if(i.text==="EOF")throw new gr("Expected a macro definition");g[h].push(i.text)}var{tokens:y}=s.gullet.consumeArg();return f&&y.unshift(f),(r==="\\edef"||r==="\\xdef")&&(y=s.gullet.expandTokens(y),y.reverse()),s.gullet.macros.set(u,{tokens:y,numArgs:h,delimiters:g},r===ig[r]),{type:"internal",mode:s.mode}}});Lr({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:s,funcName:r}=t,i=fM(s.gullet.popToken());s.gullet.consumeSpaces();var u=yq(s);return dM(s,i,u,r==="\\\\globallet"),{type:"internal",mode:s.mode}}});Lr({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:s,funcName:r}=t,i=fM(s.gullet.popToken()),u=s.gullet.popToken(),h=s.gullet.popToken();return dM(s,i,h,r==="\\\\globalfuture"),s.gullet.pushToken(h),s.gullet.pushToken(u),{type:"internal",mode:s.mode}}});var a7=function(s,r,i){var u=eo.math[s]&&eo.math[s].replace,h=Lv(u||s,r,i);if(!h)throw new Error("Unsupported symbol "+s+" and font size "+r+".");return h},Hv=function(s,r,i,u){var h=i.havingBaseStyle(r),f=On.makeSpan(u.concat(h.sizingClasses(i)),[s],i),g=h.sizeMultiplier/i.sizeMultiplier;return f.height*=g,f.depth*=g,f.maxFontSize=h.sizeMultiplier,f},pM=function(s,r,i){var u=r.havingBaseStyle(i),h=(1-r.sizeMultiplier/u.sizeMultiplier)*r.fontMetrics().axisHeight;s.classes.push("delimcenter"),s.style.top=Cr(h),s.height-=h,s.depth+=h},_q=function(s,r,i,u,h,f){var g=On.makeSymbol(s,"Main-Regular",h,u),y=Hv(g,r,u,f);return i&&pM(y,u,r),y},wq=function(s,r,i,u){return On.makeSymbol(s,"Size"+r+"-Regular",i,u)},mM=function(s,r,i,u,h,f){var g=wq(s,r,h,u),y=Hv(On.makeSpan(["delimsizing","size"+r],[g],u),oi.TEXT,u,f);return i&&pM(y,u,oi.TEXT),y},om=function(s,r,i){var u;r==="Size1-Regular"?u="delim-size1":u="delim-size4";var h=On.makeSpan(["delimsizinginner",u],[On.makeSpan([],[On.makeSymbol(s,r,i)])]);return{type:"elem",elem:h}},lm=function(s,r,i){var u=xc["Size4-Regular"][s.charCodeAt(0)]?xc["Size4-Regular"][s.charCodeAt(0)][4]:xc["Size1-Regular"][s.charCodeAt(0)][4],h=new nh("inner",CG(s,Math.round(1e3*r))),f=new F1([h],{width:Cr(u),height:Cr(r),style:"width:"+Cr(u),viewBox:"0 0 "+1e3*u+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),g=On.makeSvgSpan([],[f],i);return g.height=r,g.style.height=Cr(r),g.style.width=Cr(u),{type:"elem",elem:g}},sg=.008,Y8={type:"kern",size:-1*sg},Tq=["|","\\lvert","\\rvert","\\vert"],Eq=["\\|","\\lVert","\\rVert","\\Vert"],gM=function(s,r,i,u,h,f){var g,y,$,T,w="",I=0;g=$=T=s,y=null;var A="Size1-Regular";s==="\\uparrow"?$=T="":s==="\\Uparrow"?$=T="":s==="\\downarrow"?g=$="":s==="\\Downarrow"?g=$="":s==="\\updownarrow"?(g="\\uparrow",$="",T="\\downarrow"):s==="\\Updownarrow"?(g="\\Uparrow",$="",T="\\Downarrow"):Tq.includes(s)?($="",w="vert",I=333):Eq.includes(s)?($="",w="doublevert",I=556):s==="["||s==="\\lbrack"?(g="",$="",T="",A="Size4-Regular",w="lbrack",I=667):s==="]"||s==="\\rbrack"?(g="",$="",T="",A="Size4-Regular",w="rbrack",I=667):s==="\\lfloor"||s===""?($=g="",T="",A="Size4-Regular",w="lfloor",I=667):s==="\\lceil"||s===""?(g="",$=T="",A="Size4-Regular",w="lceil",I=667):s==="\\rfloor"||s===""?($=g="",T="",A="Size4-Regular",w="rfloor",I=667):s==="\\rceil"||s===""?(g="",$=T="",A="Size4-Regular",w="rceil",I=667):s==="("||s==="\\lparen"?(g="",$="",T="",A="Size4-Regular",w="lparen",I=875):s===")"||s==="\\rparen"?(g="",$="",T="",A="Size4-Regular",w="rparen",I=875):s==="\\{"||s==="\\lbrace"?(g="",y="",T="",$="",A="Size4-Regular"):s==="\\}"||s==="\\rbrace"?(g="",y="",T="",$="",A="Size4-Regular"):s==="\\lgroup"||s===""?(g="",T="",$="",A="Size4-Regular"):s==="\\rgroup"||s===""?(g="",T="",$="",A="Size4-Regular"):s==="\\lmoustache"||s===""?(g="",T="",$="",A="Size4-Regular"):(s==="\\rmoustache"||s==="")&&(g="",T="",$="",A="Size4-Regular");var K=a7(g,A,h),ne=K.height+K.depth,he=a7($,A,h),V=he.height+he.depth,le=a7(T,A,h),te=le.height+le.depth,Ce=0,Oe=1;if(y!==null){var ce=a7(y,A,h);Ce=ce.height+ce.depth,Oe=2}var Be=ne+te+Ce,je=Math.max(0,Math.ceil((r-Be)/(Oe*V))),_e=Be+je*Oe*V,b=u.fontMetrics().axisHeight;i&&(b*=u.sizeMultiplier);var O=_e/2-b,N=[];if(w.length>0){var R=_e-ne-te,B=Math.round(_e*1e3),j=MG(w,Math.round(R*1e3)),J=new nh(w,j),fe=(I/1e3).toFixed(3)+"em",Ne=(B/1e3).toFixed(3)+"em",qe=new F1([J],{width:fe,height:Ne,viewBox:"0 0 "+I+" "+B}),de=On.makeSvgSpan([],[qe],u);de.height=B/1e3,de.style.width=fe,de.style.height=Ne,N.push({type:"elem",elem:de})}else{if(N.push(om(T,A,h)),N.push(Y8),y===null){var xe=_e-ne-te+2*sg;N.push(lm($,xe,u))}else{var gt=(_e-ne-te-Ce)/2+2*sg;N.push(lm($,gt,u)),N.push(Y8),N.push(om(y,A,h)),N.push(Y8),N.push(lm($,gt,u))}N.push(Y8),N.push(om(g,A,h))}var ze=u.havingBaseStyle(oi.TEXT),Ft=On.makeVList({positionType:"bottom",positionData:O,children:N},ze);return Hv(On.makeSpan(["delimsizing","mult"],[Ft],ze),oi.TEXT,u,f)},am=80,um=.08,cm=function(s,r,i,u,h){var f=xG(s,u,i),g=new nh(s,f),y=new F1([g],{width:"400em",height:Cr(r),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return On.makeSvgSpan(["hide-tail"],[y],h)},Sq=function(s,r){var i=r.havingBaseSizing(),u=yM("\\surd",s*i.sizeMultiplier,bM,i),h=i.sizeMultiplier,f=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),g,y=0,$=0,T=0,w;return u.type==="small"?(T=1e3+1e3*f+am,s<1?h=1:s<1.4&&(h=.7),y=(1+f+um)/h,$=(1+f)/h,g=cm("sqrtMain",y,T,f,r),g.style.minWidth="0.853em",w=.833/h):u.type==="large"?(T=(1e3+am)*d7[u.size],$=(d7[u.size]+f)/h,y=(d7[u.size]+f+um)/h,g=cm("sqrtSize"+u.size,y,T,f,r),g.style.minWidth="1.02em",w=1/h):(y=s+f+um,$=s+f,T=Math.floor(1e3*s+f)+am,g=cm("sqrtTall",y,T,f,r),g.style.minWidth="0.742em",w=1.056),g.height=$,g.style.height=Cr(y),{span:g,advanceWidth:w,ruleWidth:(r.fontMetrics().sqrtRuleThickness+f)*h}},vM=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],xq=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],$M=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],d7=[0,1.2,1.8,2.4,3],Cq=function(s,r,i,u,h){if(s==="<"||s==="\\lt"||s===""?s="\\langle":(s===">"||s==="\\gt"||s==="")&&(s="\\rangle"),vM.includes(s)||$M.includes(s))return mM(s,r,!1,i,u,h);if(xq.includes(s))return gM(s,d7[r],!1,i,u,h);throw new gr("Illegal delimiter: '"+s+"'")},Mq=[{type:"small",style:oi.SCRIPTSCRIPT},{type:"small",style:oi.SCRIPT},{type:"small",style:oi.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],kq=[{type:"small",style:oi.SCRIPTSCRIPT},{type:"small",style:oi.SCRIPT},{type:"small",style:oi.TEXT},{type:"stack"}],bM=[{type:"small",style:oi.SCRIPTSCRIPT},{type:"small",style:oi.SCRIPT},{type:"small",style:oi.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Aq=function(s){if(s.type==="small")return"Main-Regular";if(s.type==="large")return"Size"+s.size+"-Regular";if(s.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+s.type+"' here.")},yM=function(s,r,i,u){for(var h=Math.min(2,3-u.style.size),f=h;f<i.length&&i[f].type!=="stack";f++){var g=a7(s,Aq(i[f]),"math"),y=g.height+g.depth;if(i[f].type==="small"){var $=u.havingBaseStyle(i[f].style);y*=$.sizeMultiplier}if(y>r)return i[f]}return i[i.length-1]},_M=function(s,r,i,u,h,f){s==="<"||s==="\\lt"||s===""?s="\\langle":(s===">"||s==="\\gt"||s==="")&&(s="\\rangle");var g;$M.includes(s)?g=Mq:vM.includes(s)?g=bM:g=kq;var y=yM(s,r,g,u);return y.type==="small"?_q(s,y.style,i,u,h,f):y.type==="large"?mM(s,y.size,i,u,h,f):gM(s,r,i,u,h,f)},Nq=function(s,r,i,u,h,f){var g=u.fontMetrics().axisHeight*u.sizeMultiplier,y=901,$=5/u.fontMetrics().ptPerEm,T=Math.max(r-g,i+g),w=Math.max(T/500*y,2*T-$);return _M(s,w,!0,u,h,f)},R1={sqrtImage:Sq,sizedDelim:Cq,sizeToMaxHeight:d7,customSizedDelim:_M,leftRightDelim:Nq},mT={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Iq=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Vf(t,s){var r=zf(t);if(r&&Iq.includes(r.text))return r;throw r?new gr("Invalid delimiter '"+r.text+"' after '"+s.funcName+"'",t):new gr("Invalid delimiter type '"+t.type+"'",t)}Lr({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,s)=>{var r=Vf(s[0],t);return{type:"delimsizing",mode:t.parser.mode,size:mT[t.funcName].size,mclass:mT[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,s)=>t.delim==="."?On.makeSpan([t.mclass]):R1.sizedDelim(t.delim,t.size,s,t.mode,[t.mclass]),mathmlBuilder:t=>{var s=[];t.delim!=="."&&s.push(tu(t.delim,t.mode));var r=new pr.MathNode("mo",s);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var i=Cr(R1.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",i),r.setAttribute("maxsize",i),r}});function gT(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Lr({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,s)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new gr("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Vf(s[0],t).text,color:r}}});Lr({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,s)=>{var r=Vf(s[0],t),i=t.parser;++i.leftrightDepth;var u=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var h=Ni(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:u,left:r.text,right:h.delim,rightColor:h.color}},htmlBuilder:(t,s)=>{gT(t);for(var r=a0(t.body,s,!0,["mopen","mclose"]),i=0,u=0,h=!1,f=0;f<r.length;f++)r[f].isMiddle?h=!0:(i=Math.max(r[f].height,i),u=Math.max(r[f].depth,u));i*=s.sizeMultiplier,u*=s.sizeMultiplier;var g;if(t.left==="."?g=E7(s,["mopen"]):g=R1.leftRightDelim(t.left,i,u,s,t.mode,["mopen"]),r.unshift(g),h)for(var y=1;y<r.length;y++){var $=r[y],T=$.isMiddle;T&&(r[y]=R1.leftRightDelim(T.delim,i,u,T.options,t.mode,[]))}var w;if(t.right===".")w=E7(s,["mclose"]);else{var I=t.rightColor?s.withColor(t.rightColor):s;w=R1.leftRightDelim(t.right,i,u,I,t.mode,["mclose"])}return r.push(w),On.makeSpan(["minner"],r,s)},mathmlBuilder:(t,s)=>{gT(t);var r=Ul(t.body,s);if(t.left!=="."){var i=new pr.MathNode("mo",[tu(t.left,t.mode)]);i.setAttribute("fence","true"),r.unshift(i)}if(t.right!=="."){var u=new pr.MathNode("mo",[tu(t.right,t.mode)]);u.setAttribute("fence","true"),t.rightColor&&u.setAttribute("mathcolor",t.rightColor),r.push(u)}return Pv(r)}});Lr({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,s)=>{var r=Vf(s[0],t);if(!t.parser.leftrightDepth)throw new gr("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,s)=>{var r;if(t.delim===".")r=E7(s,[]);else{r=R1.sizedDelim(t.delim,1,s,t.mode,[]);var i={delim:t.delim,options:s};r.isMiddle=i}return r},mathmlBuilder:(t,s)=>{var r=t.delim==="\\vert"||t.delim==="|"?tu("|","text"):tu(t.delim,t.mode),i=new pr.MathNode("mo",[r]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var Vv=(t,s)=>{var r=On.wrapFragment(ds(t.body,s),s),i=t.label.slice(1),u=s.sizeMultiplier,h,f=0,g=bs.isCharacterBox(t.body);if(i==="sout")h=On.makeSpan(["stretchy","sout"]),h.height=s.fontMetrics().defaultRuleThickness/u,f=-.5*s.fontMetrics().xHeight;else if(i==="phase"){var y=Eo({number:.6,unit:"pt"},s),$=Eo({number:.35,unit:"ex"},s),T=s.havingBaseSizing();u=u/T.sizeMultiplier;var w=r.height+r.depth+y+$;r.style.paddingLeft=Cr(w/2+y);var I=Math.floor(1e3*w*u),A=EG(I),K=new F1([new nh("phase",A)],{width:"400em",height:Cr(I/1e3),viewBox:"0 0 400000 "+I,preserveAspectRatio:"xMinYMin slice"});h=On.makeSvgSpan(["hide-tail"],[K],s),h.style.height=Cr(w),f=r.depth+y+$}else{/cancel/.test(i)?g||r.classes.push("cancel-pad"):i==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var ne=0,he=0,V=0;/box/.test(i)?(V=Math.max(s.fontMetrics().fboxrule,s.minRuleThickness),ne=s.fontMetrics().fboxsep+(i==="colorbox"?0:V),he=ne):i==="angl"?(V=Math.max(s.fontMetrics().defaultRuleThickness,s.minRuleThickness),ne=4*V,he=Math.max(0,.25-r.depth)):(ne=g?.2:0,he=ne),h=z1.encloseSpan(r,i,ne,he,s),/fbox|boxed|fcolorbox/.test(i)?(h.style.borderStyle="solid",h.style.borderWidth=Cr(V)):i==="angl"&&V!==.049&&(h.style.borderTopWidth=Cr(V),h.style.borderRightWidth=Cr(V)),f=r.depth+he,t.backgroundColor&&(h.style.backgroundColor=t.backgroundColor,t.borderColor&&(h.style.borderColor=t.borderColor))}var le;if(t.backgroundColor)le=On.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:f},{type:"elem",elem:r,shift:0}]},s);else{var te=/cancel|phase/.test(i)?["svg-align"]:[];le=On.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:h,shift:f,wrapperClasses:te}]},s)}return/cancel/.test(i)&&(le.height=r.height,le.depth=r.depth),/cancel/.test(i)&&!g?On.makeSpan(["mord","cancel-lap"],[le],s):On.makeSpan(["mord"],[le],s)},Gv=(t,s)=>{var r=0,i=new pr.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Xs(t.body,s)]);switch(t.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=s.fontMetrics().fboxsep*s.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*r+"pt"),i.setAttribute("height","+"+2*r+"pt"),i.setAttribute("lspace",r+"pt"),i.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var u=Math.max(s.fontMetrics().fboxrule,s.minRuleThickness);i.setAttribute("style","border: "+u+"em solid "+String(t.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&i.setAttribute("mathbackground",t.backgroundColor),i};Lr({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,s,r){var{parser:i,funcName:u}=t,h=Ni(s[0],"color-token").color,f=s[1];return{type:"enclose",mode:i.mode,label:u,backgroundColor:h,body:f}},htmlBuilder:Vv,mathmlBuilder:Gv});Lr({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,s,r){var{parser:i,funcName:u}=t,h=Ni(s[0],"color-token").color,f=Ni(s[1],"color-token").color,g=s[2];return{type:"enclose",mode:i.mode,label:u,backgroundColor:f,borderColor:h,body:g}},htmlBuilder:Vv,mathmlBuilder:Gv});Lr({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,s){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:s[0]}}});Lr({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,s){var{parser:r,funcName:i}=t,u=s[0];return{type:"enclose",mode:r.mode,label:i,body:u}},htmlBuilder:Vv,mathmlBuilder:Gv});Lr({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,s){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:s[0]}}});var wM={};function Ic(t){for(var{type:s,names:r,props:i,handler:u,htmlBuilder:h,mathmlBuilder:f}=t,g={type:s,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:u},y=0;y<r.length;++y)wM[r[y]]=g;h&&(Y9[s]=h),f&&(K9[s]=f)}var TM={};function Rt(t,s){TM[t]=s}function vT(t){var s=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),s.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return s}var Gf=t=>{var s=t.parser.settings;if(!s.displayMode)throw new gr("{"+t.envName+"} can be used only in display mode.")};function qv(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function ah(t,s,r){var{hskipBeforeAndAfter:i,addJot:u,cols:h,arraystretch:f,colSeparationType:g,autoTag:y,singleRow:$,emptySingleRow:T,maxNumCols:w,leqno:I}=s;if(t.gullet.beginGroup(),$||t.gullet.macros.set("\\cr","\\\\\\relax"),!f){var A=t.gullet.expandMacroAsText("\\arraystretch");if(A==null)f=1;else if(f=parseFloat(A),!f||f<0)throw new gr("Invalid \\arraystretch: "+A)}t.gullet.beginGroup();var K=[],ne=[K],he=[],V=[],le=y!=null?[]:void 0;function te(){y&&t.gullet.macros.set("\\@eqnsw","1",!0)}function Ce(){le&&(t.gullet.macros.get("\\df@tag")?(le.push(t.subparse([new pa("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):le.push(!!y&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(te(),V.push(vT(t));;){var Oe=t.parseExpression(!1,$?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),Oe={type:"ordgroup",mode:t.mode,body:Oe},r&&(Oe={type:"styling",mode:t.mode,style:r,body:[Oe]}),K.push(Oe);var ce=t.fetch().text;if(ce==="&"){if(w&&K.length===w){if($||g)throw new gr("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(ce==="\\end"){Ce(),K.length===1&&Oe.type==="styling"&&Oe.body[0].body.length===0&&(ne.length>1||!T)&&ne.pop(),V.length<ne.length+1&&V.push([]);break}else if(ce==="\\\\"){t.consume();var Be=void 0;t.gullet.future().text!==" "&&(Be=t.parseSizeGroup(!0)),he.push(Be?Be.value:null),Ce(),V.push(vT(t)),K=[],ne.push(K),te()}else throw new gr("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:u,arraystretch:f,body:ne,cols:h,rowGaps:he,hskipBeforeAndAfter:i,hLinesBeforeRow:V,colSeparationType:g,tags:le,leqno:I}}function Wv(t){return t.slice(0,1)==="d"?"display":"text"}var Oc=function(s,r){var i,u,h=s.body.length,f=s.hLinesBeforeRow,g=0,y=new Array(h),$=[],T=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),w=1/r.fontMetrics().ptPerEm,I=5*w;if(s.colSeparationType&&s.colSeparationType==="small"){var A=r.havingStyle(oi.SCRIPT).sizeMultiplier;I=.2778*(A/r.sizeMultiplier)}var K=s.colSeparationType==="CD"?Eo({number:3,unit:"ex"},r):12*w,ne=3*w,he=s.arraystretch*K,V=.7*he,le=.3*he,te=0;function Ce(Ae){for(var lt=0;lt<Ae.length;++lt)lt>0&&(te+=.25),$.push({pos:te,isDashed:Ae[lt]})}for(Ce(f[0]),i=0;i<s.body.length;++i){var Oe=s.body[i],ce=V,Be=le;g<Oe.length&&(g=Oe.length);var je=new Array(Oe.length);for(u=0;u<Oe.length;++u){var _e=ds(Oe[u],r);Be<_e.depth&&(Be=_e.depth),ce<_e.height&&(ce=_e.height),je[u]=_e}var b=s.rowGaps[i],O=0;b&&(O=Eo(b,r),O>0&&(O+=le,Be<O&&(Be=O),O=0)),s.addJot&&(Be+=ne),je.height=ce,je.depth=Be,te+=ce,je.pos=te,te+=Be+O,y[i]=je,Ce(f[i+1])}var N=te/2+r.fontMetrics().axisHeight,R=s.cols||[],B=[],j,J,fe=[];if(s.tags&&s.tags.some(Ae=>Ae))for(i=0;i<h;++i){var Ne=y[i],qe=Ne.pos-N,de=s.tags[i],xe=void 0;de===!0?xe=On.makeSpan(["eqn-num"],[],r):de===!1?xe=On.makeSpan([],[],r):xe=On.makeSpan([],a0(de,r,!0),r),xe.depth=Ne.depth,xe.height=Ne.height,fe.push({type:"elem",elem:xe,shift:qe})}for(u=0,J=0;u<g||J<R.length;++u,++J){for(var gt=R[J]||{},ze=!0;gt.type==="separator";){if(ze||(j=On.makeSpan(["arraycolsep"],[]),j.style.width=Cr(r.fontMetrics().doubleRuleSep),B.push(j)),gt.separator==="|"||gt.separator===":"){var Ft=gt.separator==="|"?"solid":"dashed",Ge=On.makeSpan(["vertical-separator"],[],r);Ge.style.height=Cr(te),Ge.style.borderRightWidth=Cr(T),Ge.style.borderRightStyle=Ft,Ge.style.margin="0 "+Cr(-T/2);var et=te-N;et&&(Ge.style.verticalAlign=Cr(-et)),B.push(Ge)}else throw new gr("Invalid separator type: "+gt.separator);J++,gt=R[J]||{},ze=!1}if(!(u>=g)){var Ct=void 0;(u>0||s.hskipBeforeAndAfter)&&(Ct=bs.deflt(gt.pregap,I),Ct!==0&&(j=On.makeSpan(["arraycolsep"],[]),j.style.width=Cr(Ct),B.push(j)));var nt=[];for(i=0;i<h;++i){var yt=y[i],Ut=yt[u];if(Ut){var Ht=yt.pos-N;Ut.depth=yt.depth,Ut.height=yt.height,nt.push({type:"elem",elem:Ut,shift:Ht})}}nt=On.makeVList({positionType:"individualShift",children:nt},r),nt=On.makeSpan(["col-align-"+(gt.align||"c")],[nt]),B.push(nt),(u<g-1||s.hskipBeforeAndAfter)&&(Ct=bs.deflt(gt.postgap,I),Ct!==0&&(j=On.makeSpan(["arraycolsep"],[]),j.style.width=Cr(Ct),B.push(j)))}}if(y=On.makeSpan(["mtable"],B),$.length>0){for(var Me=On.makeLineSpan("hline",r,T),ut=On.makeLineSpan("hdashline",r,T),en=[{type:"elem",elem:y,shift:0}];$.length>0;){var nn=$.pop(),De=nn.pos-N;nn.isDashed?en.push({type:"elem",elem:ut,shift:De}):en.push({type:"elem",elem:Me,shift:De})}y=On.makeVList({positionType:"individualShift",children:en},r)}if(fe.length===0)return On.makeSpan(["mord"],[y],r);var se=On.makeVList({positionType:"individualShift",children:fe},r);return se=On.makeSpan(["tag"],[se],r),On.makeFragment([y,se])},Oq={c:"center ",l:"left ",r:"right "},Rc=function(s,r){for(var i=[],u=new pr.MathNode("mtd",[],["mtr-glue"]),h=new pr.MathNode("mtd",[],["mml-eqn-num"]),f=0;f<s.body.length;f++){for(var g=s.body[f],y=[],$=0;$<g.length;$++)y.push(new pr.MathNode("mtd",[Xs(g[$],r)]));s.tags&&s.tags[f]&&(y.unshift(u),y.push(u),s.leqno?y.unshift(h):y.push(h)),i.push(new pr.MathNode("mtr",y))}var T=new pr.MathNode("mtable",i),w=s.arraystretch===.5?.1:.16+s.arraystretch-1+(s.addJot?.09:0);T.setAttribute("rowspacing",Cr(w));var I="",A="";if(s.cols&&s.cols.length>0){var K=s.cols,ne="",he=!1,V=0,le=K.length;K[0].type==="separator"&&(I+="top ",V=1),K[K.length-1].type==="separator"&&(I+="bottom ",le-=1);for(var te=V;te<le;te++)K[te].type==="align"?(A+=Oq[K[te].align],he&&(ne+="none "),he=!0):K[te].type==="separator"&&he&&(ne+=K[te].separator==="|"?"solid ":"dashed ",he=!1);T.setAttribute("columnalign",A.trim()),/[sd]/.test(ne)&&T.setAttribute("columnlines",ne.trim())}if(s.colSeparationType==="align"){for(var Ce=s.cols||[],Oe="",ce=1;ce<Ce.length;ce++)Oe+=ce%2?"0em ":"1em ";T.setAttribute("columnspacing",Oe.trim())}else s.colSeparationType==="alignat"||s.colSeparationType==="gather"?T.setAttribute("columnspacing","0em"):s.colSeparationType==="small"?T.setAttribute("columnspacing","0.2778em"):s.colSeparationType==="CD"?T.setAttribute("columnspacing","0.5em"):T.setAttribute("columnspacing","1em");var Be="",je=s.hLinesBeforeRow;I+=je[0].length>0?"left ":"",I+=je[je.length-1].length>0?"right ":"";for(var _e=1;_e<je.length-1;_e++)Be+=je[_e].length===0?"none ":je[_e][0]?"dashed ":"solid ";return/[sd]/.test(Be)&&T.setAttribute("rowlines",Be.trim()),I!==""&&(T=new pr.MathNode("menclose",[T]),T.setAttribute("notation",I.trim())),s.arraystretch&&s.arraystretch<1&&(T=new pr.MathNode("mstyle",[T]),T.setAttribute("scriptlevel","1")),T},EM=function(s,r){s.envName.indexOf("ed")===-1&&Gf(s);var i=[],u=s.envName.indexOf("at")>-1?"alignat":"align",h=s.envName==="split",f=ah(s.parser,{cols:i,addJot:!0,autoTag:h?void 0:qv(s.envName),emptySingleRow:!0,colSeparationType:u,maxNumCols:h?2:void 0,leqno:s.parser.settings.leqno},"display"),g,y=0,$={type:"ordgroup",mode:s.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var T="",w=0;w<r[0].body.length;w++){var I=Ni(r[0].body[w],"textord");T+=I.text}g=Number(T),y=g*2}var A=!y;f.body.forEach(function(V){for(var le=1;le<V.length;le+=2){var te=Ni(V[le],"styling"),Ce=Ni(te.body[0],"ordgroup");Ce.body.unshift($)}if(A)y<V.length&&(y=V.length);else{var Oe=V.length/2;if(g<Oe)throw new gr("Too many math in a row: "+("expected "+g+", but got "+Oe),V[0])}});for(var K=0;K<y;++K){var ne="r",he=0;K%2===1?ne="l":K>0&&A&&(he=1),i[K]={type:"align",align:ne,pregap:he,postgap:0}}return f.colSeparationType=A?"align":"alignat",f};Ic({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,s){var r=zf(s[0]),i=r?[s[0]]:Ni(s[0],"ordgroup").body,u=i.map(function(f){var g=Uv(f),y=g.text;if("lcr".indexOf(y)!==-1)return{type:"align",align:y};if(y==="|")return{type:"separator",separator:"|"};if(y===":")return{type:"separator",separator:":"};throw new gr("Unknown column alignment: "+y,f)}),h={cols:u,hskipBeforeAndAfter:!0,maxNumCols:u.length};return ah(t.parser,h,Wv(t.envName))},htmlBuilder:Oc,mathmlBuilder:Rc});Ic({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var s={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var u=t.parser;if(u.consumeSpaces(),u.fetch().text==="["){if(u.consume(),u.consumeSpaces(),r=u.fetch().text,"lcr".indexOf(r)===-1)throw new gr("Expected l or c or r",u.nextToken);u.consume(),u.consumeSpaces(),u.expect("]"),u.consume(),i.cols=[{type:"align",align:r}]}}var h=ah(t.parser,i,Wv(t.envName)),f=Math.max(0,...h.body.map(g=>g.length));return h.cols=new Array(f).fill({type:"align",align:r}),s?{type:"leftright",mode:t.mode,body:[h],left:s[0],right:s[1],rightColor:void 0}:h},htmlBuilder:Oc,mathmlBuilder:Rc});Ic({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var s={arraystretch:.5},r=ah(t.parser,s,"script");return r.colSeparationType="small",r},htmlBuilder:Oc,mathmlBuilder:Rc});Ic({type:"array",names:["subarray"],props:{numArgs:1},handler(t,s){var r=zf(s[0]),i=r?[s[0]]:Ni(s[0],"ordgroup").body,u=i.map(function(f){var g=Uv(f),y=g.text;if("lc".indexOf(y)!==-1)return{type:"align",align:y};throw new gr("Unknown column alignment: "+y,f)});if(u.length>1)throw new gr("{subarray} can contain only one column");var h={cols:u,hskipBeforeAndAfter:!1,arraystretch:.5};if(h=ah(t.parser,h,"script"),h.body.length>0&&h.body[0].length>1)throw new gr("{subarray} can contain only one column");return h},htmlBuilder:Oc,mathmlBuilder:Rc});Ic({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var s={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=ah(t.parser,s,Wv(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Oc,mathmlBuilder:Rc});Ic({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:EM,htmlBuilder:Oc,mathmlBuilder:Rc});Ic({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&Gf(t);var s={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:qv(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return ah(t.parser,s,"display")},htmlBuilder:Oc,mathmlBuilder:Rc});Ic({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:EM,htmlBuilder:Oc,mathmlBuilder:Rc});Ic({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Gf(t);var s={autoTag:qv(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return ah(t.parser,s,"display")},htmlBuilder:Oc,mathmlBuilder:Rc});Ic({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Gf(t),bq(t.parser)},htmlBuilder:Oc,mathmlBuilder:Rc});Rt("\\nonumber","\\gdef\\@eqnsw{0}");Rt("\\notag","\\nonumber");Lr({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,s){throw new gr(t.funcName+" valid only within array environment")}});var $T=wM;Lr({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,s){var{parser:r,funcName:i}=t,u=s[0];if(u.type!=="ordgroup")throw new gr("Invalid environment name",u);for(var h="",f=0;f<u.body.length;++f)h+=Ni(u.body[f],"textord").text;if(i==="\\begin"){if(!$T.hasOwnProperty(h))throw new gr("No such environment: "+h,u);var g=$T[h],{args:y,optArgs:$}=r.parseArguments("\\begin{"+h+"}",g),T={mode:r.mode,envName:h,parser:r},w=g.handler(T,y,$);r.expect("\\end",!1);var I=r.nextToken,A=Ni(r.parseFunction(),"environment");if(A.name!==h)throw new gr("Mismatch: \\begin{"+h+"} matched by \\end{"+A.name+"}",I);return w}return{type:"environment",mode:r.mode,name:h,nameGroup:u}}});var SM=(t,s)=>{var r=t.font,i=s.withFont(r);return ds(t.body,i)},xM=(t,s)=>{var r=t.font,i=s.withFont(r);return Xs(t.body,i)},bT={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Lr({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,s)=>{var{parser:r,funcName:i}=t,u=J9(s[0]),h=i;return h in bT&&(h=bT[h]),{type:"font",mode:r.mode,font:h.slice(1),body:u}},htmlBuilder:SM,mathmlBuilder:xM});Lr({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,s)=>{var{parser:r}=t,i=s[0],u=bs.isCharacterBox(i);return{type:"mclass",mode:r.mode,mclass:Hf(i),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:i}],isCharacterBox:u}}});Lr({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,s)=>{var{parser:r,funcName:i,breakOnTokenText:u}=t,{mode:h}=r,f=r.parseExpression(!0,u),g="math"+i.slice(1);return{type:"font",mode:h,font:g,body:{type:"ordgroup",mode:r.mode,body:f}}},htmlBuilder:SM,mathmlBuilder:xM});var CM=(t,s)=>{var r=s;return t==="display"?r=r.id>=oi.SCRIPT.id?r.text():oi.DISPLAY:t==="text"&&r.size===oi.DISPLAY.size?r=oi.TEXT:t==="script"?r=oi.SCRIPT:t==="scriptscript"&&(r=oi.SCRIPTSCRIPT),r},jv=(t,s)=>{var r=CM(t.size,s.style),i=r.fracNum(),u=r.fracDen(),h;h=s.havingStyle(i);var f=ds(t.numer,h,s);if(t.continued){var g=8.5/s.fontMetrics().ptPerEm,y=3.5/s.fontMetrics().ptPerEm;f.height=f.height<g?g:f.height,f.depth=f.depth<y?y:f.depth}h=s.havingStyle(u);var $=ds(t.denom,h,s),T,w,I;t.hasBarLine?(t.barSize?(w=Eo(t.barSize,s),T=On.makeLineSpan("frac-line",s,w)):T=On.makeLineSpan("frac-line",s),w=T.height,I=T.height):(T=null,w=0,I=s.fontMetrics().defaultRuleThickness);var A,K,ne;r.size===oi.DISPLAY.size||t.size==="display"?(A=s.fontMetrics().num1,w>0?K=3*I:K=7*I,ne=s.fontMetrics().denom1):(w>0?(A=s.fontMetrics().num2,K=I):(A=s.fontMetrics().num3,K=3*I),ne=s.fontMetrics().denom2);var he;if(T){var le=s.fontMetrics().axisHeight;A-f.depth-(le+.5*w)<K&&(A+=K-(A-f.depth-(le+.5*w))),le-.5*w-($.height-ne)<K&&(ne+=K-(le-.5*w-($.height-ne)));var te=-(le-.5*w);he=On.makeVList({positionType:"individualShift",children:[{type:"elem",elem:$,shift:ne},{type:"elem",elem:T,shift:te},{type:"elem",elem:f,shift:-A}]},s)}else{var V=A-f.depth-($.height-ne);V<K&&(A+=.5*(K-V),ne+=.5*(K-V)),he=On.makeVList({positionType:"individualShift",children:[{type:"elem",elem:$,shift:ne},{type:"elem",elem:f,shift:-A}]},s)}h=s.havingStyle(r),he.height*=h.sizeMultiplier/s.sizeMultiplier,he.depth*=h.sizeMultiplier/s.sizeMultiplier;var Ce;r.size===oi.DISPLAY.size?Ce=s.fontMetrics().delim1:r.size===oi.SCRIPTSCRIPT.size?Ce=s.havingStyle(oi.SCRIPT).fontMetrics().delim2:Ce=s.fontMetrics().delim2;var Oe,ce;return t.leftDelim==null?Oe=E7(s,["mopen"]):Oe=R1.customSizedDelim(t.leftDelim,Ce,!0,s.havingStyle(r),t.mode,["mopen"]),t.continued?ce=On.makeSpan([]):t.rightDelim==null?ce=E7(s,["mclose"]):ce=R1.customSizedDelim(t.rightDelim,Ce,!0,s.havingStyle(r),t.mode,["mclose"]),On.makeSpan(["mord"].concat(h.sizingClasses(s)),[Oe,On.makeSpan(["mfrac"],[he]),ce],s)},Xv=(t,s)=>{var r=new pr.MathNode("mfrac",[Xs(t.numer,s),Xs(t.denom,s)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var i=Eo(t.barSize,s);r.setAttribute("linethickness",Cr(i))}var u=CM(t.size,s.style);if(u.size!==s.style.size){r=new pr.MathNode("mstyle",[r]);var h=u.size===oi.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",h),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var f=[];if(t.leftDelim!=null){var g=new pr.MathNode("mo",[new pr.TextNode(t.leftDelim.replace("\\",""))]);g.setAttribute("fence","true"),f.push(g)}if(f.push(r),t.rightDelim!=null){var y=new pr.MathNode("mo",[new pr.TextNode(t.rightDelim.replace("\\",""))]);y.setAttribute("fence","true"),f.push(y)}return Pv(f)}return r};Lr({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,s)=>{var{parser:r,funcName:i}=t,u=s[0],h=s[1],f,g=null,y=null,$="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":f=!0;break;case"\\\\atopfrac":f=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":f=!1,g="(",y=")";break;case"\\\\bracefrac":f=!1,g="\\{",y="\\}";break;case"\\\\brackfrac":f=!1,g="[",y="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":$="display";break;case"\\tfrac":case"\\tbinom":$="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:u,denom:h,hasBarLine:f,leftDelim:g,rightDelim:y,size:$,barSize:null}},htmlBuilder:jv,mathmlBuilder:Xv});Lr({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,s)=>{var{parser:r,funcName:i}=t,u=s[0],h=s[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:u,denom:h,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Lr({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:s,funcName:r,token:i}=t,u;switch(r){case"\\over":u="\\frac";break;case"\\choose":u="\\binom";break;case"\\atop":u="\\\\atopfrac";break;case"\\brace":u="\\\\bracefrac";break;case"\\brack":u="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:s.mode,replaceWith:u,token:i}}});var yT=["display","text","script","scriptscript"],_T=function(s){var r=null;return s.length>0&&(r=s,r=r==="."?null:r),r};Lr({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,s){var{parser:r}=t,i=s[4],u=s[5],h=J9(s[0]),f=h.type==="atom"&&h.family==="open"?_T(h.text):null,g=J9(s[1]),y=g.type==="atom"&&g.family==="close"?_T(g.text):null,$=Ni(s[2],"size"),T,w=null;$.isBlank?T=!0:(w=$.value,T=w.number>0);var I="auto",A=s[3];if(A.type==="ordgroup"){if(A.body.length>0){var K=Ni(A.body[0],"textord");I=yT[Number(K.text)]}}else A=Ni(A,"textord"),I=yT[Number(A.text)];return{type:"genfrac",mode:r.mode,numer:i,denom:u,continued:!1,hasBarLine:T,barSize:w,leftDelim:f,rightDelim:y,size:I}},htmlBuilder:jv,mathmlBuilder:Xv});Lr({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,s){var{parser:r,funcName:i,token:u}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:Ni(s[0],"size").value,token:u}}});Lr({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,s)=>{var{parser:r,funcName:i}=t,u=s[0],h=uG(Ni(s[1],"infix").size),f=s[2],g=h.number>0;return{type:"genfrac",mode:r.mode,numer:u,denom:f,continued:!1,hasBarLine:g,barSize:h,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:jv,mathmlBuilder:Xv});var MM=(t,s)=>{var r=s.style,i,u;t.type==="supsub"?(i=t.sup?ds(t.sup,s.havingStyle(r.sup()),s):ds(t.sub,s.havingStyle(r.sub()),s),u=Ni(t.base,"horizBrace")):u=Ni(t,"horizBrace");var h=ds(u.base,s.havingBaseStyle(oi.DISPLAY)),f=z1.svgSpan(u,s),g;if(u.isOver?(g=On.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:.1},{type:"elem",elem:f}]},s),g.children[0].children[0].children[1].classes.push("svg-align")):(g=On.makeVList({positionType:"bottom",positionData:h.depth+.1+f.height,children:[{type:"elem",elem:f},{type:"kern",size:.1},{type:"elem",elem:h}]},s),g.children[0].children[0].children[0].classes.push("svg-align")),i){var y=On.makeSpan(["mord",u.isOver?"mover":"munder"],[g],s);u.isOver?g=On.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y},{type:"kern",size:.2},{type:"elem",elem:i}]},s):g=On.makeVList({positionType:"bottom",positionData:y.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:y}]},s)}return On.makeSpan(["mord",u.isOver?"mover":"munder"],[g],s)},Rq=(t,s)=>{var r=z1.mathMLnode(t.label);return new pr.MathNode(t.isOver?"mover":"munder",[Xs(t.base,s),r])};Lr({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,s){var{parser:r,funcName:i}=t;return{type:"horizBrace",mode:r.mode,label:i,isOver:/^\\over/.test(i),base:s[0]}},htmlBuilder:MM,mathmlBuilder:Rq});Lr({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,s)=>{var{parser:r}=t,i=s[1],u=Ni(s[0],"url").url;return r.settings.isTrusted({command:"\\href",url:u})?{type:"href",mode:r.mode,href:u,body:Fo(i)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,s)=>{var r=a0(t.body,s,!1);return On.makeAnchor(t.href,[],r,s)},mathmlBuilder:(t,s)=>{var r=rh(t.body,s);return r instanceof fa||(r=new fa("mrow",[r])),r.setAttribute("href",t.href),r}});Lr({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,s)=>{var{parser:r}=t,i=Ni(s[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:i}))return r.formatUnsupportedCmd("\\url");for(var u=[],h=0;h<i.length;h++){var f=i[h];f==="~"&&(f="\\textasciitilde"),u.push({type:"textord",mode:"text",text:f})}var g={type:"text",mode:r.mode,font:"\\texttt",body:u};return{type:"href",mode:r.mode,href:i,body:Fo(g)}}});Lr({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,s){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:Fo(s[0])}},htmlBuilder(t,s){var r=a0(t.body,s,!1);return On.makeFragment(r)},mathmlBuilder(t,s){return new pr.MathNode("mrow",Ul(t.body,s))}});Lr({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,s)=>{var{parser:r,funcName:i,token:u}=t,h=Ni(s[0],"raw").string,f=s[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var g,y={};switch(i){case"\\htmlClass":y.class=h,g={command:"\\htmlClass",class:h};break;case"\\htmlId":y.id=h,g={command:"\\htmlId",id:h};break;case"\\htmlStyle":y.style=h,g={command:"\\htmlStyle",style:h};break;case"\\htmlData":{for(var $=h.split(","),T=0;T<$.length;T++){var w=$[T].split("=");if(w.length!==2)throw new gr("Error parsing key-value for \\htmlData");y["data-"+w[0].trim()]=w[1].trim()}g={command:"\\htmlData",attributes:y};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(g)?{type:"html",mode:r.mode,attributes:y,body:Fo(f)}:r.formatUnsupportedCmd(i)},htmlBuilder:(t,s)=>{var r=a0(t.body,s,!1),i=["enclosing"];t.attributes.class&&i.push(...t.attributes.class.trim().split(/\s+/));var u=On.makeSpan(i,r,s);for(var h in t.attributes)h!=="class"&&t.attributes.hasOwnProperty(h)&&u.setAttribute(h,t.attributes[h]);return u},mathmlBuilder:(t,s)=>rh(t.body,s)});Lr({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,s)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:Fo(s[0]),mathml:Fo(s[1])}},htmlBuilder:(t,s)=>{var r=a0(t.html,s,!1);return On.makeFragment(r)},mathmlBuilder:(t,s)=>rh(t.mathml,s)});var hm=function(s){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(s))return{number:+s,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(s);if(!r)throw new gr("Invalid size: '"+s+"' in \\includegraphics");var i={number:+(r[1]+r[2]),unit:r[3]};if(!jC(i))throw new gr("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};Lr({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,s,r)=>{var{parser:i}=t,u={number:0,unit:"em"},h={number:.9,unit:"em"},f={number:0,unit:"em"},g="";if(r[0])for(var y=Ni(r[0],"raw").string,$=y.split(","),T=0;T<$.length;T++){var w=$[T].split("=");if(w.length===2){var I=w[1].trim();switch(w[0].trim()){case"alt":g=I;break;case"width":u=hm(I);break;case"height":h=hm(I);break;case"totalheight":f=hm(I);break;default:throw new gr("Invalid key: '"+w[0]+"' in \\includegraphics.")}}}var A=Ni(s[0],"url").url;return g===""&&(g=A,g=g.replace(/^.*[\\/]/,""),g=g.substring(0,g.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:A})?{type:"includegraphics",mode:i.mode,alt:g,width:u,height:h,totalheight:f,src:A}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,s)=>{var r=Eo(t.height,s),i=0;t.totalheight.number>0&&(i=Eo(t.totalheight,s)-r);var u=0;t.width.number>0&&(u=Eo(t.width,s));var h={height:Cr(r+i)};u>0&&(h.width=Cr(u)),i>0&&(h.verticalAlign=Cr(-i));var f=new RG(t.src,t.alt,h);return f.height=r,f.depth=i,f},mathmlBuilder:(t,s)=>{var r=new pr.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var i=Eo(t.height,s),u=0;if(t.totalheight.number>0&&(u=Eo(t.totalheight,s)-i,r.setAttribute("valign",Cr(-u))),r.setAttribute("height",Cr(i+u)),t.width.number>0){var h=Eo(t.width,s);r.setAttribute("width",Cr(h))}return r.setAttribute("src",t.src),r}});Lr({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,s){var{parser:r,funcName:i}=t,u=Ni(s[0],"size");if(r.settings.strict){var h=i[1]==="m",f=u.value.unit==="mu";h?(f||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+u.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):f&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:u.value}},htmlBuilder(t,s){return On.makeGlue(t.dimension,s)},mathmlBuilder(t,s){var r=Eo(t.dimension,s);return new pr.SpaceNode(r)}});Lr({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,s)=>{var{parser:r,funcName:i}=t,u=s[0];return{type:"lap",mode:r.mode,alignment:i.slice(5),body:u}},htmlBuilder:(t,s)=>{var r;t.alignment==="clap"?(r=On.makeSpan([],[ds(t.body,s)]),r=On.makeSpan(["inner"],[r],s)):r=On.makeSpan(["inner"],[ds(t.body,s)]);var i=On.makeSpan(["fix"],[]),u=On.makeSpan([t.alignment],[r,i],s),h=On.makeSpan(["strut"]);return h.style.height=Cr(u.height+u.depth),u.depth&&(h.style.verticalAlign=Cr(-u.depth)),u.children.unshift(h),u=On.makeSpan(["thinbox"],[u],s),On.makeSpan(["mord","vbox"],[u],s)},mathmlBuilder:(t,s)=>{var r=new pr.MathNode("mpadded",[Xs(t.body,s)]);if(t.alignment!=="rlap"){var i=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",i+"width")}return r.setAttribute("width","0px"),r}});Lr({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,s){var{funcName:r,parser:i}=t,u=i.mode;i.switchMode("math");var h=r==="\\("?"\\)":"$",f=i.parseExpression(!1,h);return i.expect(h),i.switchMode(u),{type:"styling",mode:i.mode,style:"text",body:f}}});Lr({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,s){throw new gr("Mismatched "+t.funcName)}});var wT=(t,s)=>{switch(s.style.size){case oi.DISPLAY.size:return t.display;case oi.TEXT.size:return t.text;case oi.SCRIPT.size:return t.script;case oi.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Lr({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,s)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:Fo(s[0]),text:Fo(s[1]),script:Fo(s[2]),scriptscript:Fo(s[3])}},htmlBuilder:(t,s)=>{var r=wT(t,s),i=a0(r,s,!1);return On.makeFragment(i)},mathmlBuilder:(t,s)=>{var r=wT(t,s);return rh(r,s)}});var kM=(t,s,r,i,u,h,f)=>{t=On.makeSpan([],[t]);var g=r&&bs.isCharacterBox(r),y,$;if(s){var T=ds(s,i.havingStyle(u.sup()),i);$={elem:T,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-T.depth)}}if(r){var w=ds(r,i.havingStyle(u.sub()),i);y={elem:w,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-w.height)}}var I;if($&&y){var A=i.fontMetrics().bigOpSpacing5+y.elem.height+y.elem.depth+y.kern+t.depth+f;I=On.makeVList({positionType:"bottom",positionData:A,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:y.elem,marginLeft:Cr(-h)},{type:"kern",size:y.kern},{type:"elem",elem:t},{type:"kern",size:$.kern},{type:"elem",elem:$.elem,marginLeft:Cr(h)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(y){var K=t.height-f;I=On.makeVList({positionType:"top",positionData:K,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:y.elem,marginLeft:Cr(-h)},{type:"kern",size:y.kern},{type:"elem",elem:t}]},i)}else if($){var ne=t.depth+f;I=On.makeVList({positionType:"bottom",positionData:ne,children:[{type:"elem",elem:t},{type:"kern",size:$.kern},{type:"elem",elem:$.elem,marginLeft:Cr(h)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return t;var he=[I];if(y&&h!==0&&!g){var V=On.makeSpan(["mspace"],[],i);V.style.marginRight=Cr(h),he.unshift(V)}return On.makeSpan(["mop","op-limits"],he,i)},AM=["\\smallint"],S6=(t,s)=>{var r,i,u=!1,h;t.type==="supsub"?(r=t.sup,i=t.sub,h=Ni(t.base,"op"),u=!0):h=Ni(t,"op");var f=s.style,g=!1;f.size===oi.DISPLAY.size&&h.symbol&&!AM.includes(h.name)&&(g=!0);var y;if(h.symbol){var $=g?"Size2-Regular":"Size1-Regular",T="";if((h.name==="\\oiint"||h.name==="\\oiiint")&&(T=h.name.slice(1),h.name=T==="oiint"?"\\iint":"\\iiint"),y=On.makeSymbol(h.name,$,"math",s,["mop","op-symbol",g?"large-op":"small-op"]),T.length>0){var w=y.italic,I=On.staticSvg(T+"Size"+(g?"2":"1"),s);y=On.makeVList({positionType:"individualShift",children:[{type:"elem",elem:y,shift:0},{type:"elem",elem:I,shift:g?.08:0}]},s),h.name="\\"+T,y.classes.unshift("mop"),y.italic=w}}else if(h.body){var A=a0(h.body,s,!0);A.length===1&&A[0]instanceof eu?(y=A[0],y.classes[0]="mop"):y=On.makeSpan(["mop"],A,s)}else{for(var K=[],ne=1;ne<h.name.length;ne++)K.push(On.mathsym(h.name[ne],h.mode,s));y=On.makeSpan(["mop"],K,s)}var he=0,V=0;return(y instanceof eu||h.name==="\\oiint"||h.name==="\\oiiint")&&!h.suppressBaseShift&&(he=(y.height-y.depth)/2-s.fontMetrics().axisHeight,V=y.italic),u?kM(y,r,i,s,f,V,he):(he&&(y.style.position="relative",y.style.top=Cr(he)),y)},H7=(t,s)=>{var r;if(t.symbol)r=new fa("mo",[tu(t.name,t.mode)]),AM.includes(t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new fa("mo",Ul(t.body,s));else{r=new fa("mi",[new Cc(t.name.slice(1))]);var i=new fa("mo",[tu("","text")]);t.parentIsSupSub?r=new fa("mrow",[r,i]):r=iM([r,i])}return r},Lq={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Lr({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,s)=>{var{parser:r,funcName:i}=t,u=i;return u.length===1&&(u=Lq[u]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:u}},htmlBuilder:S6,mathmlBuilder:H7});Lr({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,s)=>{var{parser:r}=t,i=s[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Fo(i)}},htmlBuilder:S6,mathmlBuilder:H7});var Dq={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Lr({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:s,funcName:r}=t;return{type:"op",mode:s.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:S6,mathmlBuilder:H7});Lr({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:s,funcName:r}=t;return{type:"op",mode:s.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:S6,mathmlBuilder:H7});Lr({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:s,funcName:r}=t,i=r;return i.length===1&&(i=Dq[i]),{type:"op",mode:s.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:S6,mathmlBuilder:H7});var NM=(t,s)=>{var r,i,u=!1,h;t.type==="supsub"?(r=t.sup,i=t.sub,h=Ni(t.base,"operatorname"),u=!0):h=Ni(t,"operatorname");var f;if(h.body.length>0){for(var g=h.body.map(w=>{var I=w.text;return typeof I=="string"?{type:"textord",mode:w.mode,text:I}:w}),y=a0(g,s.withFont("mathrm"),!0),$=0;$<y.length;$++){var T=y[$];T instanceof eu&&(T.text=T.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}f=On.makeSpan(["mop"],y,s)}else f=On.makeSpan(["mop"],[],s);return u?kM(f,r,i,s,s.style,0,0):f},Bq=(t,s)=>{for(var r=Ul(t.body,s.withFont("mathrm")),i=!0,u=0;u<r.length;u++){var h=r[u];if(!(h instanceof pr.SpaceNode))if(h instanceof pr.MathNode)switch(h.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var f=h.children[0];h.children.length===1&&f instanceof pr.TextNode?f.text=f.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var g=r.map(T=>T.toText()).join("");r=[new pr.TextNode(g)]}var y=new pr.MathNode("mi",r);y.setAttribute("mathvariant","normal");var $=new pr.MathNode("mo",[tu("","text")]);return t.parentIsSupSub?new pr.MathNode("mrow",[y,$]):pr.newDocumentFragment([y,$])};Lr({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,s)=>{var{parser:r,funcName:i}=t,u=s[0];return{type:"operatorname",mode:r.mode,body:Fo(u),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:NM,mathmlBuilder:Bq});Rt("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");$4({type:"ordgroup",htmlBuilder(t,s){return t.semisimple?On.makeFragment(a0(t.body,s,!1)):On.makeSpan(["mord"],a0(t.body,s,!0),s)},mathmlBuilder(t,s){return rh(t.body,s,!0)}});Lr({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,s){var{parser:r}=t,i=s[0];return{type:"overline",mode:r.mode,body:i}},htmlBuilder(t,s){var r=ds(t.body,s.havingCrampedStyle()),i=On.makeLineSpan("overline-line",s),u=s.fontMetrics().defaultRuleThickness,h=On.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*u},{type:"elem",elem:i},{type:"kern",size:u}]},s);return On.makeSpan(["mord","overline"],[h],s)},mathmlBuilder(t,s){var r=new pr.MathNode("mo",[new pr.TextNode("")]);r.setAttribute("stretchy","true");var i=new pr.MathNode("mover",[Xs(t.body,s),r]);return i.setAttribute("accent","true"),i}});Lr({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,s)=>{var{parser:r}=t,i=s[0];return{type:"phantom",mode:r.mode,body:Fo(i)}},htmlBuilder:(t,s)=>{var r=a0(t.body,s.withPhantom(),!1);return On.makeFragment(r)},mathmlBuilder:(t,s)=>{var r=Ul(t.body,s);return new pr.MathNode("mphantom",r)}});Lr({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,s)=>{var{parser:r}=t,i=s[0];return{type:"hphantom",mode:r.mode,body:i}},htmlBuilder:(t,s)=>{var r=On.makeSpan([],[ds(t.body,s.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var i=0;i<r.children.length;i++)r.children[i].height=0,r.children[i].depth=0;return r=On.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},s),On.makeSpan(["mord"],[r],s)},mathmlBuilder:(t,s)=>{var r=Ul(Fo(t.body),s),i=new pr.MathNode("mphantom",r),u=new pr.MathNode("mpadded",[i]);return u.setAttribute("height","0px"),u.setAttribute("depth","0px"),u}});Lr({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,s)=>{var{parser:r}=t,i=s[0];return{type:"vphantom",mode:r.mode,body:i}},htmlBuilder:(t,s)=>{var r=On.makeSpan(["inner"],[ds(t.body,s.withPhantom())]),i=On.makeSpan(["fix"],[]);return On.makeSpan(["mord","rlap"],[r,i],s)},mathmlBuilder:(t,s)=>{var r=Ul(Fo(t.body),s),i=new pr.MathNode("mphantom",r),u=new pr.MathNode("mpadded",[i]);return u.setAttribute("width","0px"),u}});Lr({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,s){var{parser:r}=t,i=Ni(s[0],"size").value,u=s[1];return{type:"raisebox",mode:r.mode,dy:i,body:u}},htmlBuilder(t,s){var r=ds(t.body,s),i=Eo(t.dy,s);return On.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:r}]},s)},mathmlBuilder(t,s){var r=new pr.MathNode("mpadded",[Xs(t.body,s)]),i=t.dy.number+t.dy.unit;return r.setAttribute("voffset",i),r}});Lr({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:s}=t;return{type:"internal",mode:s.mode}}});Lr({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,s,r){var{parser:i}=t,u=r[0],h=Ni(s[0],"size"),f=Ni(s[1],"size");return{type:"rule",mode:i.mode,shift:u&&Ni(u,"size").value,width:h.value,height:f.value}},htmlBuilder(t,s){var r=On.makeSpan(["mord","rule"],[],s),i=Eo(t.width,s),u=Eo(t.height,s),h=t.shift?Eo(t.shift,s):0;return r.style.borderRightWidth=Cr(i),r.style.borderTopWidth=Cr(u),r.style.bottom=Cr(h),r.width=i,r.height=u+h,r.depth=-h,r.maxFontSize=u*1.125*s.sizeMultiplier,r},mathmlBuilder(t,s){var r=Eo(t.width,s),i=Eo(t.height,s),u=t.shift?Eo(t.shift,s):0,h=s.color&&s.getColor()||"black",f=new pr.MathNode("mspace");f.setAttribute("mathbackground",h),f.setAttribute("width",Cr(r)),f.setAttribute("height",Cr(i));var g=new pr.MathNode("mpadded",[f]);return u>=0?g.setAttribute("height",Cr(u)):(g.setAttribute("height",Cr(u)),g.setAttribute("depth",Cr(-u))),g.setAttribute("voffset",Cr(u)),g}});function IM(t,s,r){for(var i=a0(t,s,!1),u=s.sizeMultiplier/r.sizeMultiplier,h=0;h<i.length;h++){var f=i[h].classes.indexOf("sizing");f<0?Array.prototype.push.apply(i[h].classes,s.sizingClasses(r)):i[h].classes[f+1]==="reset-size"+s.size&&(i[h].classes[f+1]="reset-size"+r.size),i[h].height*=u,i[h].depth*=u}return On.makeFragment(i)}var TT=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Pq=(t,s)=>{var r=s.havingSize(t.size);return IM(t.body,r,s)};Lr({type:"sizing",names:TT,props:{numArgs:0,allowedInText:!0},handler:(t,s)=>{var{breakOnTokenText:r,funcName:i,parser:u}=t,h=u.parseExpression(!1,r);return{type:"sizing",mode:u.mode,size:TT.indexOf(i)+1,body:h}},htmlBuilder:Pq,mathmlBuilder:(t,s)=>{var r=s.havingSize(t.size),i=Ul(t.body,r),u=new pr.MathNode("mstyle",i);return u.setAttribute("mathsize",Cr(r.sizeMultiplier)),u}});Lr({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,s,r)=>{var{parser:i}=t,u=!1,h=!1,f=r[0]&&Ni(r[0],"ordgroup");if(f)for(var g="",y=0;y<f.body.length;++y){var $=f.body[y];if(g=$.text,g==="t")u=!0;else if(g==="b")h=!0;else{u=!1,h=!1;break}}else u=!0,h=!0;var T=s[0];return{type:"smash",mode:i.mode,body:T,smashHeight:u,smashDepth:h}},htmlBuilder:(t,s)=>{var r=On.makeSpan([],[ds(t.body,s)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var u=0;u<r.children.length;u++)r.children[u].depth=0;var h=On.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},s);return On.makeSpan(["mord"],[h],s)},mathmlBuilder:(t,s)=>{var r=new pr.MathNode("mpadded",[Xs(t.body,s)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});Lr({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,s,r){var{parser:i}=t,u=r[0],h=s[0];return{type:"sqrt",mode:i.mode,body:h,index:u}},htmlBuilder(t,s){var r=ds(t.body,s.havingCrampedStyle());r.height===0&&(r.height=s.fontMetrics().xHeight),r=On.wrapFragment(r,s);var i=s.fontMetrics(),u=i.defaultRuleThickness,h=u;s.style.id<oi.TEXT.id&&(h=s.fontMetrics().xHeight);var f=u+h/4,g=r.height+r.depth+f+u,{span:y,ruleWidth:$,advanceWidth:T}=R1.sqrtImage(g,s),w=y.height-$;w>r.height+r.depth+f&&(f=(f+w-r.height-r.depth)/2);var I=y.height-r.height-f-$;r.style.paddingLeft=Cr(T);var A=On.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+I)},{type:"elem",elem:y},{type:"kern",size:$}]},s);if(t.index){var K=s.havingStyle(oi.SCRIPTSCRIPT),ne=ds(t.index,K,s),he=.6*(A.height-A.depth),V=On.makeVList({positionType:"shift",positionData:-he,children:[{type:"elem",elem:ne}]},s),le=On.makeSpan(["root"],[V]);return On.makeSpan(["mord","sqrt"],[le,A],s)}else return On.makeSpan(["mord","sqrt"],[A],s)},mathmlBuilder(t,s){var{body:r,index:i}=t;return i?new pr.MathNode("mroot",[Xs(r,s),Xs(i,s)]):new pr.MathNode("msqrt",[Xs(r,s)])}});var ET={display:oi.DISPLAY,text:oi.TEXT,script:oi.SCRIPT,scriptscript:oi.SCRIPTSCRIPT};Lr({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,s){var{breakOnTokenText:r,funcName:i,parser:u}=t,h=u.parseExpression(!0,r),f=i.slice(1,i.length-5);return{type:"styling",mode:u.mode,style:f,body:h}},htmlBuilder(t,s){var r=ET[t.style],i=s.havingStyle(r).withFont("");return IM(t.body,i,s)},mathmlBuilder(t,s){var r=ET[t.style],i=s.havingStyle(r),u=Ul(t.body,i),h=new pr.MathNode("mstyle",u),f={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},g=f[t.style];return h.setAttribute("scriptlevel",g[0]),h.setAttribute("displaystyle",g[1]),h}});var Fq=function(s,r){var i=s.base;if(i)if(i.type==="op"){var u=i.limits&&(r.style.size===oi.DISPLAY.size||i.alwaysHandleSupSub);return u?S6:null}else if(i.type==="operatorname"){var h=i.alwaysHandleSupSub&&(r.style.size===oi.DISPLAY.size||i.limits);return h?NM:null}else{if(i.type==="accent")return bs.isCharacterBox(i.base)?zv:null;if(i.type==="horizBrace"){var f=!s.sub;return f===i.isOver?MM:null}else return null}else return null};$4({type:"supsub",htmlBuilder(t,s){var r=Fq(t,s);if(r)return r(t,s);var{base:i,sup:u,sub:h}=t,f=ds(i,s),g,y,$=s.fontMetrics(),T=0,w=0,I=i&&bs.isCharacterBox(i);if(u){var A=s.havingStyle(s.style.sup());g=ds(u,A,s),I||(T=f.height-A.fontMetrics().supDrop*A.sizeMultiplier/s.sizeMultiplier)}if(h){var K=s.havingStyle(s.style.sub());y=ds(h,K,s),I||(w=f.depth+K.fontMetrics().subDrop*K.sizeMultiplier/s.sizeMultiplier)}var ne;s.style===oi.DISPLAY?ne=$.sup1:s.style.cramped?ne=$.sup3:ne=$.sup2;var he=s.sizeMultiplier,V=Cr(.5/$.ptPerEm/he),le=null;if(y){var te=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(f instanceof eu||te)&&(le=Cr(-f.italic))}var Ce;if(g&&y){T=Math.max(T,ne,g.depth+.25*$.xHeight),w=Math.max(w,$.sub2);var Oe=$.defaultRuleThickness,ce=4*Oe;if(T-g.depth-(y.height-w)<ce){w=ce-(T-g.depth)+y.height;var Be=.8*$.xHeight-(T-g.depth);Be>0&&(T+=Be,w-=Be)}var je=[{type:"elem",elem:y,shift:w,marginRight:V,marginLeft:le},{type:"elem",elem:g,shift:-T,marginRight:V}];Ce=On.makeVList({positionType:"individualShift",children:je},s)}else if(y){w=Math.max(w,$.sub1,y.height-.8*$.xHeight);var _e=[{type:"elem",elem:y,marginLeft:le,marginRight:V}];Ce=On.makeVList({positionType:"shift",positionData:w,children:_e},s)}else if(g)T=Math.max(T,ne,g.depth+.25*$.xHeight),Ce=On.makeVList({positionType:"shift",positionData:-T,children:[{type:"elem",elem:g,marginRight:V}]},s);else throw new Error("supsub must have either sup or sub.");var b=ng(f,"right")||"mord";return On.makeSpan([b],[f,On.makeSpan(["msupsub"],[Ce])],s)},mathmlBuilder(t,s){var r=!1,i,u;t.base&&t.base.type==="horizBrace"&&(u=!!t.sup,u===t.base.isOver&&(r=!0,i=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var h=[Xs(t.base,s)];t.sub&&h.push(Xs(t.sub,s)),t.sup&&h.push(Xs(t.sup,s));var f;if(r)f=i?"mover":"munder";else if(t.sub)if(t.sup){var $=t.base;$&&$.type==="op"&&$.limits&&s.style===oi.DISPLAY||$&&$.type==="operatorname"&&$.alwaysHandleSupSub&&(s.style===oi.DISPLAY||$.limits)?f="munderover":f="msubsup"}else{var y=t.base;y&&y.type==="op"&&y.limits&&(s.style===oi.DISPLAY||y.alwaysHandleSupSub)||y&&y.type==="operatorname"&&y.alwaysHandleSupSub&&(y.limits||s.style===oi.DISPLAY)?f="munder":f="msub"}else{var g=t.base;g&&g.type==="op"&&g.limits&&(s.style===oi.DISPLAY||g.alwaysHandleSupSub)||g&&g.type==="operatorname"&&g.alwaysHandleSupSub&&(g.limits||s.style===oi.DISPLAY)?f="mover":f="msup"}return new pr.MathNode(f,h)}});$4({type:"atom",htmlBuilder(t,s){return On.mathsym(t.text,t.mode,s,["m"+t.family])},mathmlBuilder(t,s){var r=new pr.MathNode("mo",[tu(t.text,t.mode)]);if(t.family==="bin"){var i=Fv(t,s);i==="bold-italic"&&r.setAttribute("mathvariant",i)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var OM={mi:"italic",mn:"normal",mtext:"normal"};$4({type:"mathord",htmlBuilder(t,s){return On.makeOrd(t,s,"mathord")},mathmlBuilder(t,s){var r=new pr.MathNode("mi",[tu(t.text,t.mode,s)]),i=Fv(t,s)||"italic";return i!==OM[r.type]&&r.setAttribute("mathvariant",i),r}});$4({type:"textord",htmlBuilder(t,s){return On.makeOrd(t,s,"textord")},mathmlBuilder(t,s){var r=tu(t.text,t.mode,s),i=Fv(t,s)||"normal",u;return t.mode==="text"?u=new pr.MathNode("mtext",[r]):/[0-9]/.test(t.text)?u=new pr.MathNode("mn",[r]):t.text==="\\prime"?u=new pr.MathNode("mo",[r]):u=new pr.MathNode("mi",[r]),i!==OM[u.type]&&u.setAttribute("mathvariant",i),u}});var fm={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},dm={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};$4({type:"spacing",htmlBuilder(t,s){if(dm.hasOwnProperty(t.text)){var r=dm[t.text].className||"";if(t.mode==="text"){var i=On.makeOrd(t,s,"textord");return i.classes.push(r),i}else return On.makeSpan(["mspace",r],[On.mathsym(t.text,t.mode,s)],s)}else{if(fm.hasOwnProperty(t.text))return On.makeSpan(["mspace",fm[t.text]],[],s);throw new gr('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,s){var r;if(dm.hasOwnProperty(t.text))r=new pr.MathNode("mtext",[new pr.TextNode("")]);else{if(fm.hasOwnProperty(t.text))return new pr.MathNode("mspace");throw new gr('Unknown type of space "'+t.text+'"')}return r}});var ST=()=>{var t=new pr.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};$4({type:"tag",mathmlBuilder(t,s){var r=new pr.MathNode("mtable",[new pr.MathNode("mtr",[ST(),new pr.MathNode("mtd",[rh(t.body,s)]),ST(),new pr.MathNode("mtd",[rh(t.tag,s)])])]);return r.setAttribute("width","100%"),r}});var xT={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},CT={"\\textbf":"textbf","\\textmd":"textmd"},Uq={"\\textit":"textit","\\textup":"textup"},MT=(t,s)=>{var r=t.font;if(r){if(xT[r])return s.withTextFontFamily(xT[r]);if(CT[r])return s.withTextFontWeight(CT[r]);if(r==="\\emph")return s.fontShape==="textit"?s.withTextFontShape("textup"):s.withTextFontShape("textit")}else return s;return s.withTextFontShape(Uq[r])};Lr({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,s){var{parser:r,funcName:i}=t,u=s[0];return{type:"text",mode:r.mode,body:Fo(u),font:i}},htmlBuilder(t,s){var r=MT(t,s),i=a0(t.body,r,!0);return On.makeSpan(["mord","text"],i,r)},mathmlBuilder(t,s){var r=MT(t,s);return rh(t.body,r)}});Lr({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,s){var{parser:r}=t;return{type:"underline",mode:r.mode,body:s[0]}},htmlBuilder(t,s){var r=ds(t.body,s),i=On.makeLineSpan("underline-line",s),u=s.fontMetrics().defaultRuleThickness,h=On.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:u},{type:"elem",elem:i},{type:"kern",size:3*u},{type:"elem",elem:r}]},s);return On.makeSpan(["mord","underline"],[h],s)},mathmlBuilder(t,s){var r=new pr.MathNode("mo",[new pr.TextNode("")]);r.setAttribute("stretchy","true");var i=new pr.MathNode("munder",[Xs(t.body,s),r]);return i.setAttribute("accentunder","true"),i}});Lr({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,s){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:s[0]}},htmlBuilder(t,s){var r=ds(t.body,s),i=s.fontMetrics().axisHeight,u=.5*(r.height-i-(r.depth+i));return On.makeVList({positionType:"shift",positionData:u,children:[{type:"elem",elem:r}]},s)},mathmlBuilder(t,s){return new pr.MathNode("mpadded",[Xs(t.body,s)],["vcenter"])}});Lr({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,s,r){throw new gr("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,s){for(var r=kT(t),i=[],u=s.havingStyle(s.style.text()),h=0;h<r.length;h++){var f=r[h];f==="~"&&(f="\\textasciitilde"),i.push(On.makeSymbol(f,"Typewriter-Regular",t.mode,u,["mord","texttt"]))}return On.makeSpan(["mord","text"].concat(u.sizingClasses(s)),On.tryCombineChars(i),u)},mathmlBuilder(t,s){var r=new pr.TextNode(kT(t)),i=new pr.MathNode("mtext",[r]);return i.setAttribute("mathvariant","monospace"),i}});var kT=t=>t.body.replace(/ /g,t.star?"":""),Y2=nM,RM=`[ \r
	]`,zq="\\\\[a-zA-Z@]+",Hq="\\\\[^\uD800-\uDFFF]",Vq="("+zq+")"+RM+"*",Gq=`\\\\(
|[ \r	]+
?)[ \r	]*`,og="[-]",qq=new RegExp(og+"+$"),Wq="("+RM+"+)|"+(Gq+"|")+"([!-\\[\\]---]"+(og+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(og+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Vq)+("|"+Hq+")");class AT{constructor(s,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=s,this.settings=r,this.tokenRegex=new RegExp(Wq,"g"),this.catcodes={"%":14,"~":13}}setCatcode(s,r){this.catcodes[s]=r}lex(){var s=this.input,r=this.tokenRegex.lastIndex;if(r===s.length)return new pa("EOF",new Bl(this,r,r));var i=this.tokenRegex.exec(s);if(i===null||i.index!==r)throw new gr("Unexpected character: '"+s[r]+"'",new pa(s[r],new Bl(this,r,r+1)));var u=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[u]===14){var h=s.indexOf(`
`,this.tokenRegex.lastIndex);return h===-1?(this.tokenRegex.lastIndex=s.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=h+1,this.lex()}return new pa(u,new Bl(this,r,this.tokenRegex.lastIndex))}}class jq{constructor(s,r){s===void 0&&(s={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=s,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new gr("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var s=this.undefStack.pop();for(var r in s)s.hasOwnProperty(r)&&(s[r]==null?delete this.current[r]:this.current[r]=s[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(s){return this.current.hasOwnProperty(s)||this.builtins.hasOwnProperty(s)}get(s){return this.current.hasOwnProperty(s)?this.current[s]:this.builtins[s]}set(s,r,i){if(i===void 0&&(i=!1),i){for(var u=0;u<this.undefStack.length;u++)delete this.undefStack[u][s];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][s]=r)}else{var h=this.undefStack[this.undefStack.length-1];h&&!h.hasOwnProperty(s)&&(h[s]=this.current[s])}r==null?delete this.current[s]:this.current[s]=r}}var Xq=TM;Rt("\\noexpand",function(t){var s=t.popToken();return t.isExpandable(s.text)&&(s.noexpand=!0,s.treatAsRelax=!0),{tokens:[s],numArgs:0}});Rt("\\expandafter",function(t){var s=t.popToken();return t.expandOnce(!0),{tokens:[s],numArgs:0}});Rt("\\@firstoftwo",function(t){var s=t.consumeArgs(2);return{tokens:s[0],numArgs:0}});Rt("\\@secondoftwo",function(t){var s=t.consumeArgs(2);return{tokens:s[1],numArgs:0}});Rt("\\@ifnextchar",function(t){var s=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return s[0].length===1&&s[0][0].text===r.text?{tokens:s[1],numArgs:0}:{tokens:s[2],numArgs:0}});Rt("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");Rt("\\TextOrMath",function(t){var s=t.consumeArgs(2);return t.mode==="text"?{tokens:s[0],numArgs:0}:{tokens:s[1],numArgs:0}});var NT={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Rt("\\char",function(t){var s=t.popToken(),r,i="";if(s.text==="'")r=8,s=t.popToken();else if(s.text==='"')r=16,s=t.popToken();else if(s.text==="`")if(s=t.popToken(),s.text[0]==="\\")i=s.text.charCodeAt(1);else{if(s.text==="EOF")throw new gr("\\char` missing argument");i=s.text.charCodeAt(0)}else r=10;if(r){if(i=NT[s.text],i==null||i>=r)throw new gr("Invalid base-"+r+" digit "+s.text);for(var u;(u=NT[t.future().text])!=null&&u<r;)i*=r,i+=u,t.popToken()}return"\\@char{"+i+"}"});var Yv=(t,s,r,i)=>{var u=t.consumeArg().tokens;if(u.length!==1)throw new gr("\\newcommand's first argument must be a macro name");var h=u[0].text,f=t.isDefined(h);if(f&&!s)throw new gr("\\newcommand{"+h+"} attempting to redefine "+(h+"; use \\renewcommand"));if(!f&&!r)throw new gr("\\renewcommand{"+h+"} when command "+h+" does not yet exist; use \\newcommand");var g=0;if(u=t.consumeArg().tokens,u.length===1&&u[0].text==="["){for(var y="",$=t.expandNextToken();$.text!=="]"&&$.text!=="EOF";)y+=$.text,$=t.expandNextToken();if(!y.match(/^\s*[0-9]+\s*$/))throw new gr("Invalid number of arguments: "+y);g=parseInt(y),u=t.consumeArg().tokens}return f&&i||t.macros.set(h,{tokens:u,numArgs:g}),""};Rt("\\newcommand",t=>Yv(t,!1,!0,!1));Rt("\\renewcommand",t=>Yv(t,!0,!1,!1));Rt("\\providecommand",t=>Yv(t,!0,!0,!0));Rt("\\message",t=>{var s=t.consumeArgs(1)[0];return console.log(s.reverse().map(r=>r.text).join("")),""});Rt("\\errmessage",t=>{var s=t.consumeArgs(1)[0];return console.error(s.reverse().map(r=>r.text).join("")),""});Rt("\\show",t=>{var s=t.popToken(),r=s.text;return console.log(s,t.macros.get(r),Y2[r],eo.math[r],eo.text[r]),""});Rt("\\bgroup","{");Rt("\\egroup","}");Rt("~","\\nobreakspace");Rt("\\lq","`");Rt("\\rq","'");Rt("\\aa","\\r a");Rt("\\AA","\\r A");Rt("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");Rt("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");Rt("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");Rt("","\\mathscr{B}");Rt("","\\mathscr{E}");Rt("","\\mathscr{F}");Rt("","\\mathscr{H}");Rt("","\\mathscr{I}");Rt("","\\mathscr{L}");Rt("","\\mathscr{M}");Rt("","\\mathscr{R}");Rt("","\\mathfrak{C}");Rt("","\\mathfrak{H}");Rt("","\\mathfrak{Z}");Rt("\\Bbbk","\\Bbb{k}");Rt("","\\cdotp");Rt("\\llap","\\mathllap{\\textrm{#1}}");Rt("\\rlap","\\mathrlap{\\textrm{#1}}");Rt("\\clap","\\mathclap{\\textrm{#1}}");Rt("\\mathstrut","\\vphantom{(}");Rt("\\underbar","\\underline{\\text{#1}}");Rt("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');Rt("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");Rt("\\ne","\\neq");Rt("","\\neq");Rt("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");Rt("","\\notin");Rt("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");Rt("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");Rt("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");Rt("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");Rt("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");Rt("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");Rt("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");Rt("","\\perp");Rt("","\\mathclose{!\\mkern-0.8mu!}");Rt("","\\notni");Rt("","\\ulcorner");Rt("","\\urcorner");Rt("","\\llcorner");Rt("","\\lrcorner");Rt("","\\copyright");Rt("","\\textregistered");Rt("","\\textregistered");Rt("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');Rt("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');Rt("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');Rt("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');Rt("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");Rt("","\\vdots");Rt("\\varGamma","\\mathit{\\Gamma}");Rt("\\varDelta","\\mathit{\\Delta}");Rt("\\varTheta","\\mathit{\\Theta}");Rt("\\varLambda","\\mathit{\\Lambda}");Rt("\\varXi","\\mathit{\\Xi}");Rt("\\varPi","\\mathit{\\Pi}");Rt("\\varSigma","\\mathit{\\Sigma}");Rt("\\varUpsilon","\\mathit{\\Upsilon}");Rt("\\varPhi","\\mathit{\\Phi}");Rt("\\varPsi","\\mathit{\\Psi}");Rt("\\varOmega","\\mathit{\\Omega}");Rt("\\substack","\\begin{subarray}{c}#1\\end{subarray}");Rt("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");Rt("\\boxed","\\fbox{$\\displaystyle{#1}$}");Rt("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");Rt("\\implies","\\DOTSB\\;\\Longrightarrow\\;");Rt("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");Rt("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");Rt("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var IT={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Rt("\\dots",function(t){var s="\\dotso",r=t.expandAfterFuture().text;return r in IT?s=IT[r]:(r.slice(0,4)==="\\not"||r in eo.math&&["bin","rel"].includes(eo.math[r].group))&&(s="\\dotsb"),s});var Kv={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Rt("\\dotso",function(t){var s=t.future().text;return s in Kv?"\\ldots\\,":"\\ldots"});Rt("\\dotsc",function(t){var s=t.future().text;return s in Kv&&s!==","?"\\ldots\\,":"\\ldots"});Rt("\\cdots",function(t){var s=t.future().text;return s in Kv?"\\@cdots\\,":"\\@cdots"});Rt("\\dotsb","\\cdots");Rt("\\dotsm","\\cdots");Rt("\\dotsi","\\!\\cdots");Rt("\\dotsx","\\ldots\\,");Rt("\\DOTSI","\\relax");Rt("\\DOTSB","\\relax");Rt("\\DOTSX","\\relax");Rt("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");Rt("\\,","\\tmspace+{3mu}{.1667em}");Rt("\\thinspace","\\,");Rt("\\>","\\mskip{4mu}");Rt("\\:","\\tmspace+{4mu}{.2222em}");Rt("\\medspace","\\:");Rt("\\;","\\tmspace+{5mu}{.2777em}");Rt("\\thickspace","\\;");Rt("\\!","\\tmspace-{3mu}{.1667em}");Rt("\\negthinspace","\\!");Rt("\\negmedspace","\\tmspace-{4mu}{.2222em}");Rt("\\negthickspace","\\tmspace-{5mu}{.277em}");Rt("\\enspace","\\kern.5em ");Rt("\\enskip","\\hskip.5em\\relax");Rt("\\quad","\\hskip1em\\relax");Rt("\\qquad","\\hskip2em\\relax");Rt("\\tag","\\@ifstar\\tag@literal\\tag@paren");Rt("\\tag@paren","\\tag@literal{({#1})}");Rt("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new gr("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});Rt("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");Rt("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");Rt("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");Rt("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");Rt("\\newline","\\\\\\relax");Rt("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var LM=Cr(xc["Main-Regular"][84][1]-.7*xc["Main-Regular"][65][1]);Rt("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+LM+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");Rt("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+LM+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");Rt("\\hspace","\\@ifstar\\@hspacer\\@hspace");Rt("\\@hspace","\\hskip #1\\relax");Rt("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");Rt("\\ordinarycolon",":");Rt("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");Rt("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');Rt("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');Rt("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');Rt("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');Rt("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');Rt("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');Rt("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');Rt("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');Rt("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');Rt("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');Rt("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');Rt("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');Rt("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');Rt("","\\dblcolon");Rt("","\\eqcolon");Rt("","\\coloneqq");Rt("","\\eqqcolon");Rt("","\\Coloneqq");Rt("\\ratio","\\vcentcolon");Rt("\\coloncolon","\\dblcolon");Rt("\\colonequals","\\coloneqq");Rt("\\coloncolonequals","\\Coloneqq");Rt("\\equalscolon","\\eqqcolon");Rt("\\equalscoloncolon","\\Eqqcolon");Rt("\\colonminus","\\coloneq");Rt("\\coloncolonminus","\\Coloneq");Rt("\\minuscolon","\\eqcolon");Rt("\\minuscoloncolon","\\Eqcolon");Rt("\\coloncolonapprox","\\Colonapprox");Rt("\\coloncolonsim","\\Colonsim");Rt("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Rt("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");Rt("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Rt("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");Rt("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");Rt("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");Rt("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");Rt("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");Rt("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");Rt("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");Rt("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");Rt("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");Rt("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");Rt("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");Rt("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");Rt("\\ngeqq","\\html@mathml{\\@ngeqq}{}");Rt("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");Rt("\\nleqq","\\html@mathml{\\@nleqq}{}");Rt("\\nleqslant","\\html@mathml{\\@nleqslant}{}");Rt("\\nshortmid","\\html@mathml{\\@nshortmid}{}");Rt("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");Rt("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");Rt("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");Rt("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");Rt("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");Rt("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");Rt("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");Rt("\\imath","\\html@mathml{\\@imath}{}");Rt("\\jmath","\\html@mathml{\\@jmath}{}");Rt("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");Rt("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");Rt("","\\llbracket");Rt("","\\rrbracket");Rt("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");Rt("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");Rt("","\\lBrace");Rt("","\\rBrace");Rt("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");Rt("","\\minuso");Rt("\\darr","\\downarrow");Rt("\\dArr","\\Downarrow");Rt("\\Darr","\\Downarrow");Rt("\\lang","\\langle");Rt("\\rang","\\rangle");Rt("\\uarr","\\uparrow");Rt("\\uArr","\\Uparrow");Rt("\\Uarr","\\Uparrow");Rt("\\N","\\mathbb{N}");Rt("\\R","\\mathbb{R}");Rt("\\Z","\\mathbb{Z}");Rt("\\alef","\\aleph");Rt("\\alefsym","\\aleph");Rt("\\Alpha","\\mathrm{A}");Rt("\\Beta","\\mathrm{B}");Rt("\\bull","\\bullet");Rt("\\Chi","\\mathrm{X}");Rt("\\clubs","\\clubsuit");Rt("\\cnums","\\mathbb{C}");Rt("\\Complex","\\mathbb{C}");Rt("\\Dagger","\\ddagger");Rt("\\diamonds","\\diamondsuit");Rt("\\empty","\\emptyset");Rt("\\Epsilon","\\mathrm{E}");Rt("\\Eta","\\mathrm{H}");Rt("\\exist","\\exists");Rt("\\harr","\\leftrightarrow");Rt("\\hArr","\\Leftrightarrow");Rt("\\Harr","\\Leftrightarrow");Rt("\\hearts","\\heartsuit");Rt("\\image","\\Im");Rt("\\infin","\\infty");Rt("\\Iota","\\mathrm{I}");Rt("\\isin","\\in");Rt("\\Kappa","\\mathrm{K}");Rt("\\larr","\\leftarrow");Rt("\\lArr","\\Leftarrow");Rt("\\Larr","\\Leftarrow");Rt("\\lrarr","\\leftrightarrow");Rt("\\lrArr","\\Leftrightarrow");Rt("\\Lrarr","\\Leftrightarrow");Rt("\\Mu","\\mathrm{M}");Rt("\\natnums","\\mathbb{N}");Rt("\\Nu","\\mathrm{N}");Rt("\\Omicron","\\mathrm{O}");Rt("\\plusmn","\\pm");Rt("\\rarr","\\rightarrow");Rt("\\rArr","\\Rightarrow");Rt("\\Rarr","\\Rightarrow");Rt("\\real","\\Re");Rt("\\reals","\\mathbb{R}");Rt("\\Reals","\\mathbb{R}");Rt("\\Rho","\\mathrm{P}");Rt("\\sdot","\\cdot");Rt("\\sect","\\S");Rt("\\spades","\\spadesuit");Rt("\\sub","\\subset");Rt("\\sube","\\subseteq");Rt("\\supe","\\supseteq");Rt("\\Tau","\\mathrm{T}");Rt("\\thetasym","\\vartheta");Rt("\\weierp","\\wp");Rt("\\Zeta","\\mathrm{Z}");Rt("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");Rt("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");Rt("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");Rt("\\bra","\\mathinner{\\langle{#1}|}");Rt("\\ket","\\mathinner{|{#1}\\rangle}");Rt("\\braket","\\mathinner{\\langle{#1}\\rangle}");Rt("\\Bra","\\left\\langle#1\\right|");Rt("\\Ket","\\left|#1\\right\\rangle");var DM=t=>s=>{var r=s.consumeArg().tokens,i=s.consumeArg().tokens,u=s.consumeArg().tokens,h=s.consumeArg().tokens,f=s.macros.get("|"),g=s.macros.get("\\|");s.macros.beginGroup();var y=w=>I=>{t&&(I.macros.set("|",f),u.length&&I.macros.set("\\|",g));var A=w;if(!w&&u.length){var K=I.future();K.text==="|"&&(I.popToken(),A=!0)}return{tokens:A?u:i,numArgs:0}};s.macros.set("|",y(!1)),u.length&&s.macros.set("\\|",y(!0));var $=s.consumeArg().tokens,T=s.expandTokens([...h,...$,...r]);return s.macros.endGroup(),{tokens:T.reverse(),numArgs:0}};Rt("\\bra@ket",DM(!1));Rt("\\bra@set",DM(!0));Rt("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");Rt("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");Rt("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");Rt("\\angln","{\\angl n}");Rt("\\blue","\\textcolor{##6495ed}{#1}");Rt("\\orange","\\textcolor{##ffa500}{#1}");Rt("\\pink","\\textcolor{##ff00af}{#1}");Rt("\\red","\\textcolor{##df0030}{#1}");Rt("\\green","\\textcolor{##28ae7b}{#1}");Rt("\\gray","\\textcolor{gray}{#1}");Rt("\\purple","\\textcolor{##9d38bd}{#1}");Rt("\\blueA","\\textcolor{##ccfaff}{#1}");Rt("\\blueB","\\textcolor{##80f6ff}{#1}");Rt("\\blueC","\\textcolor{##63d9ea}{#1}");Rt("\\blueD","\\textcolor{##11accd}{#1}");Rt("\\blueE","\\textcolor{##0c7f99}{#1}");Rt("\\tealA","\\textcolor{##94fff5}{#1}");Rt("\\tealB","\\textcolor{##26edd5}{#1}");Rt("\\tealC","\\textcolor{##01d1c1}{#1}");Rt("\\tealD","\\textcolor{##01a995}{#1}");Rt("\\tealE","\\textcolor{##208170}{#1}");Rt("\\greenA","\\textcolor{##b6ffb0}{#1}");Rt("\\greenB","\\textcolor{##8af281}{#1}");Rt("\\greenC","\\textcolor{##74cf70}{#1}");Rt("\\greenD","\\textcolor{##1fab54}{#1}");Rt("\\greenE","\\textcolor{##0d923f}{#1}");Rt("\\goldA","\\textcolor{##ffd0a9}{#1}");Rt("\\goldB","\\textcolor{##ffbb71}{#1}");Rt("\\goldC","\\textcolor{##ff9c39}{#1}");Rt("\\goldD","\\textcolor{##e07d10}{#1}");Rt("\\goldE","\\textcolor{##a75a05}{#1}");Rt("\\redA","\\textcolor{##fca9a9}{#1}");Rt("\\redB","\\textcolor{##ff8482}{#1}");Rt("\\redC","\\textcolor{##f9685d}{#1}");Rt("\\redD","\\textcolor{##e84d39}{#1}");Rt("\\redE","\\textcolor{##bc2612}{#1}");Rt("\\maroonA","\\textcolor{##ffbde0}{#1}");Rt("\\maroonB","\\textcolor{##ff92c6}{#1}");Rt("\\maroonC","\\textcolor{##ed5fa6}{#1}");Rt("\\maroonD","\\textcolor{##ca337c}{#1}");Rt("\\maroonE","\\textcolor{##9e034e}{#1}");Rt("\\purpleA","\\textcolor{##ddd7ff}{#1}");Rt("\\purpleB","\\textcolor{##c6b9fc}{#1}");Rt("\\purpleC","\\textcolor{##aa87ff}{#1}");Rt("\\purpleD","\\textcolor{##7854ab}{#1}");Rt("\\purpleE","\\textcolor{##543b78}{#1}");Rt("\\mintA","\\textcolor{##f5f9e8}{#1}");Rt("\\mintB","\\textcolor{##edf2df}{#1}");Rt("\\mintC","\\textcolor{##e0e5cc}{#1}");Rt("\\grayA","\\textcolor{##f6f7f7}{#1}");Rt("\\grayB","\\textcolor{##f0f1f2}{#1}");Rt("\\grayC","\\textcolor{##e3e5e6}{#1}");Rt("\\grayD","\\textcolor{##d6d8da}{#1}");Rt("\\grayE","\\textcolor{##babec2}{#1}");Rt("\\grayF","\\textcolor{##888d93}{#1}");Rt("\\grayG","\\textcolor{##626569}{#1}");Rt("\\grayH","\\textcolor{##3b3e40}{#1}");Rt("\\grayI","\\textcolor{##21242c}{#1}");Rt("\\kaBlue","\\textcolor{##314453}{#1}");Rt("\\kaGreen","\\textcolor{##71B307}{#1}");var BM={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Yq{constructor(s,r,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(s),this.macros=new jq(Xq,r.macros),this.mode=i,this.stack=[]}feed(s){this.lexer=new AT(s,this.settings)}switchMode(s){this.mode=s}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(s){this.stack.push(s)}pushTokens(s){this.stack.push(...s)}scanArgument(s){var r,i,u;if(s){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:u,end:i}=this.consumeArg(["]"])}else({tokens:u,start:r,end:i}=this.consumeArg());return this.pushToken(new pa("EOF",i.loc)),this.pushTokens(u),new pa("",Bl.range(r,i))}consumeSpaces(){for(;;){var s=this.future();if(s.text===" ")this.stack.pop();else break}}consumeArg(s){var r=[],i=s&&s.length>0;i||this.consumeSpaces();var u=this.future(),h,f=0,g=0;do{if(h=this.popToken(),r.push(h),h.text==="{")++f;else if(h.text==="}"){if(--f,f===-1)throw new gr("Extra }",h)}else if(h.text==="EOF")throw new gr("Unexpected end of input in a macro argument, expected '"+(s&&i?s[g]:"}")+"'",h);if(s&&i)if((f===0||f===1&&s[g]==="{")&&h.text===s[g]){if(++g,g===s.length){r.splice(-g,g);break}}else g=0}while(f!==0||i);return u.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:u,end:h}}consumeArgs(s,r){if(r){if(r.length!==s+1)throw new gr("The length of delimiters doesn't match the number of args!");for(var i=r[0],u=0;u<i.length;u++){var h=this.popToken();if(i[u]!==h.text)throw new gr("Use of the macro doesn't match its definition",h)}}for(var f=[],g=0;g<s;g++)f.push(this.consumeArg(r&&r[g+1]).tokens);return f}countExpansion(s){if(this.expansionCount+=s,this.expansionCount>this.settings.maxExpand)throw new gr("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(s){var r=this.popToken(),i=r.text,u=r.noexpand?null:this._getExpansion(i);if(u==null||s&&u.unexpandable){if(s&&u==null&&i[0]==="\\"&&!this.isDefined(i))throw new gr("Undefined control sequence: "+i);return this.pushToken(r),!1}this.countExpansion(1);var h=u.tokens,f=this.consumeArgs(u.numArgs,u.delimiters);if(u.numArgs){h=h.slice();for(var g=h.length-1;g>=0;--g){var y=h[g];if(y.text==="#"){if(g===0)throw new gr("Incomplete placeholder at end of macro body",y);if(y=h[--g],y.text==="#")h.splice(g+1,1);else if(/^[1-9]$/.test(y.text))h.splice(g,2,...f[+y.text-1]);else throw new gr("Not a valid argument number",y)}}}return this.pushTokens(h),h.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var s=this.stack.pop();return s.treatAsRelax&&(s.text="\\relax"),s}throw new Error}expandMacro(s){return this.macros.has(s)?this.expandTokens([new pa(s)]):void 0}expandTokens(s){var r=[],i=this.stack.length;for(this.pushTokens(s);this.stack.length>i;)if(this.expandOnce(!0)===!1){var u=this.stack.pop();u.treatAsRelax&&(u.noexpand=!1,u.treatAsRelax=!1),r.push(u)}return this.countExpansion(r.length),r}expandMacroAsText(s){var r=this.expandMacro(s);return r&&r.map(i=>i.text).join("")}_getExpansion(s){var r=this.macros.get(s);if(r==null)return r;if(s.length===1){var i=this.lexer.catcodes[s];if(i!=null&&i!==13)return}var u=typeof r=="function"?r(this):r;if(typeof u=="string"){var h=0;if(u.indexOf("#")!==-1)for(var f=u.replace(/##/g,"");f.indexOf("#"+(h+1))!==-1;)++h;for(var g=new AT(u,this.settings),y=[],$=g.lex();$.text!=="EOF";)y.push($),$=g.lex();y.reverse();var T={tokens:y,numArgs:h};return T}return u}isDefined(s){return this.macros.has(s)||Y2.hasOwnProperty(s)||eo.math.hasOwnProperty(s)||eo.text.hasOwnProperty(s)||BM.hasOwnProperty(s)}isExpandable(s){var r=this.macros.get(s);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Y2.hasOwnProperty(s)&&!Y2[s].primitive}}var OT=/^[]/,K8=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),pm={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},RT={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class qf{constructor(s,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Yq(s,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(s,r){if(r===void 0&&(r=!0),this.fetch().text!==s)throw new gr("Expected '"+s+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(s){this.mode=s,this.gullet.switchMode(s)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var s=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),s}finally{this.gullet.endGroups()}}subparse(s){var r=this.nextToken;this.consume(),this.gullet.pushToken(new pa("}")),this.gullet.pushTokens(s);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,i}parseExpression(s,r){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var u=this.fetch();if(qf.endOfExpression.indexOf(u.text)!==-1||r&&u.text===r||s&&Y2[u.text]&&Y2[u.text].infix)break;var h=this.parseAtom(r);if(h){if(h.type==="internal")continue}else break;i.push(h)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(s){for(var r=-1,i,u=0;u<s.length;u++)if(s[u].type==="infix"){if(r!==-1)throw new gr("only one infix operator per group",s[u].token);r=u,i=s[u].replaceWith}if(r!==-1&&i){var h,f,g=s.slice(0,r),y=s.slice(r+1);g.length===1&&g[0].type==="ordgroup"?h=g[0]:h={type:"ordgroup",mode:this.mode,body:g},y.length===1&&y[0].type==="ordgroup"?f=y[0]:f={type:"ordgroup",mode:this.mode,body:y};var $;return i==="\\\\abovefrac"?$=this.callFunction(i,[h,s[r],f],[]):$=this.callFunction(i,[h,f],[]),[$]}else return s}handleSupSubscript(s){var r=this.fetch(),i=r.text;this.consume(),this.consumeSpaces();var u;do{var h;u=this.parseGroup(s)}while(((h=u)==null?void 0:h.type)==="internal");if(!u)throw new gr("Expected group after '"+i+"'",r);return u}formatUnsupportedCmd(s){for(var r=[],i=0;i<s.length;i++)r.push({type:"textord",mode:"text",text:s[i]});var u={type:"text",mode:this.mode,body:r},h={type:"color",mode:this.mode,color:this.settings.errorColor,body:[u]};return h}parseAtom(s){var r=this.parseGroup("atom",s);if(r?.type==="internal"||this.mode==="text")return r;for(var i,u;;){this.consumeSpaces();var h=this.fetch();if(h.text==="\\limits"||h.text==="\\nolimits"){if(r&&r.type==="op"){var f=h.text==="\\limits";r.limits=f,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=h.text==="\\limits");else throw new gr("Limit controls must follow a math operator",h);this.consume()}else if(h.text==="^"){if(i)throw new gr("Double superscript",h);i=this.handleSupSubscript("superscript")}else if(h.text==="_"){if(u)throw new gr("Double subscript",h);u=this.handleSupSubscript("subscript")}else if(h.text==="'"){if(i)throw new gr("Double superscript",h);var g={type:"textord",mode:this.mode,text:"\\prime"},y=[g];for(this.consume();this.fetch().text==="'";)y.push(g),this.consume();this.fetch().text==="^"&&y.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:y}}else if(K8[h.text]){var $=OT.test(h.text),T=[];for(T.push(new pa(K8[h.text])),this.consume();;){var w=this.fetch().text;if(!K8[w]||OT.test(w)!==$)break;T.unshift(new pa(K8[w])),this.consume()}var I=this.subparse(T);$?u={type:"ordgroup",mode:"math",body:I}:i={type:"ordgroup",mode:"math",body:I}}else break}return i||u?{type:"supsub",mode:this.mode,base:r,sup:i,sub:u}:r}parseFunction(s,r){var i=this.fetch(),u=i.text,h=Y2[u];if(!h)return null;if(this.consume(),r&&r!=="atom"&&!h.allowedInArgument)throw new gr("Got function '"+u+"' with no arguments"+(r?" as "+r:""),i);if(this.mode==="text"&&!h.allowedInText)throw new gr("Can't use function '"+u+"' in text mode",i);if(this.mode==="math"&&h.allowedInMath===!1)throw new gr("Can't use function '"+u+"' in math mode",i);var{args:f,optArgs:g}=this.parseArguments(u,h);return this.callFunction(u,f,g,i,s)}callFunction(s,r,i,u,h){var f={funcName:s,parser:this,token:u,breakOnTokenText:h},g=Y2[s];if(g&&g.handler)return g.handler(f,r,i);throw new gr("No function handler for "+s)}parseArguments(s,r){var i=r.numArgs+r.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var u=[],h=[],f=0;f<i;f++){var g=r.argTypes&&r.argTypes[f],y=f<r.numOptionalArgs;(r.primitive&&g==null||r.type==="sqrt"&&f===1&&h[0]==null)&&(g="primitive");var $=this.parseGroupOfType("argument to '"+s+"'",g,y);if(y)h.push($);else if($!=null)u.push($);else throw new gr("Null argument, please report this as a bug")}return{args:u,optArgs:h}}parseGroupOfType(s,r,i){switch(r){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,r);case"hbox":{var u=this.parseArgumentGroup(i,"text");return u!=null?{type:"styling",mode:u.mode,body:[u],style:"text"}:null}case"raw":{var h=this.parseStringGroup("raw",i);return h!=null?{type:"raw",mode:"text",string:h.text}:null}case"primitive":{if(i)throw new gr("A primitive argument cannot be optional");var f=this.parseGroup(s);if(f==null)throw new gr("Expected group as "+s,this.fetch());return f}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new gr("Unknown group type as "+s,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(s,r){var i=this.gullet.scanArgument(r);if(i==null)return null;for(var u="",h;(h=this.fetch()).text!=="EOF";)u+=h.text,this.consume();return this.consume(),i.text=u,i}parseRegexGroup(s,r){for(var i=this.fetch(),u=i,h="",f;(f=this.fetch()).text!=="EOF"&&s.test(h+f.text);)u=f,h+=u.text,this.consume();if(h==="")throw new gr("Invalid "+r+": '"+i.text+"'",i);return i.range(u,h)}parseColorGroup(s){var r=this.parseStringGroup("color",s);if(r==null)return null;var i=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!i)throw new gr("Invalid color: '"+r.text+"'",r);var u=i[0];return/^[0-9a-f]{6}$/i.test(u)&&(u="#"+u),{type:"color-token",mode:this.mode,color:u}}parseSizeGroup(s){var r,i=!1;if(this.gullet.consumeSpaces(),!s&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",s),!r)return null;!s&&r.text.length===0&&(r.text="0pt",i=!0);var u=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!u)throw new gr("Invalid size: '"+r.text+"'",r);var h={number:+(u[1]+u[2]),unit:u[3]};if(!jC(h))throw new gr("Invalid unit: '"+h.unit+"'",r);return{type:"size",mode:this.mode,value:h,isBlank:i}}parseUrlGroup(s){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",s);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var i=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(s,r){var i=this.gullet.scanArgument(s);if(i==null)return null;var u=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var h=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var f={type:"ordgroup",mode:this.mode,loc:i.loc,body:h};return r&&this.switchMode(u),f}parseGroup(s,r){var i=this.fetch(),u=i.text,h;if(u==="{"||u==="\\begingroup"){this.consume();var f=u==="{"?"}":"\\endgroup";this.gullet.beginGroup();var g=this.parseExpression(!1,f),y=this.fetch();this.expect(f),this.gullet.endGroup(),h={type:"ordgroup",mode:this.mode,loc:Bl.range(i,y),body:g,semisimple:u==="\\begingroup"||void 0}}else if(h=this.parseFunction(r,s)||this.parseSymbol(),h==null&&u[0]==="\\"&&!BM.hasOwnProperty(u)){if(this.settings.throwOnError)throw new gr("Undefined control sequence: "+u,i);h=this.formatUnsupportedCmd(u),this.consume()}return h}formLigatures(s){for(var r=s.length-1,i=0;i<r;++i){var u=s[i],h=u.text;h==="-"&&s[i+1].text==="-"&&(i+1<r&&s[i+2].text==="-"?(s.splice(i,3,{type:"textord",mode:"text",loc:Bl.range(u,s[i+2]),text:"---"}),r-=2):(s.splice(i,2,{type:"textord",mode:"text",loc:Bl.range(u,s[i+1]),text:"--"}),r-=1)),(h==="'"||h==="`")&&s[i+1].text===h&&(s.splice(i,2,{type:"textord",mode:"text",loc:Bl.range(u,s[i+1]),text:h+h}),r-=1)}}parseSymbol(){var s=this.fetch(),r=s.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var i=r.slice(5),u=i.charAt(0)==="*";if(u&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new gr(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:u}}RT.hasOwnProperty(r[0])&&!eo[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',s),r=RT[r[0]]+r.slice(1));var h=qq.exec(r);h&&(r=r.substring(0,h.index),r==="i"?r="":r==="j"&&(r=""));var f;if(eo[this.mode][r]){this.settings.strict&&this.mode==="math"&&tg.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',s);var g=eo[this.mode][r].group,y=Bl.range(s),$;if(BG.hasOwnProperty(g)){var T=g;$={type:"atom",mode:this.mode,family:T,loc:y,text:r}}else $={type:g,mode:this.mode,loc:y,text:r};f=$}else if(r.charCodeAt(0)>=128)this.settings.strict&&(WC(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',s):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),s)),f={type:"textord",mode:"text",loc:Bl.range(s),text:r};else return null;if(this.consume(),h)for(var w=0;w<h[0].length;w++){var I=h[0][w];if(!pm[I])throw new gr("Unknown accent ' "+I+"'",s);var A=pm[I][this.mode]||pm[I].text;if(!A)throw new gr("Accent "+I+" unsupported in "+this.mode+" mode",s);f={type:"accent",mode:this.mode,loc:Bl.range(s),label:A,isStretchy:!1,isShifty:!0,base:f}}return f}}qf.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Jv=function(s,r){if(!(typeof s=="string"||s instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new qf(s,r);delete i.gullet.macros.current["\\df@tag"];var u=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new gr("\\tag works only in display equations");u=[{type:"tag",mode:"text",body:u,tag:i.subparse([new pa("\\df@tag")])}]}return u},PM=function(s,r,i){r.textContent="";var u=Zv(s,i).toNode();r.appendChild(u)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),PM=function(){throw new gr("KaTeX doesn't work in quirks mode.")});var Kq=function(s,r){var i=Zv(s,r).toMarkup();return i},Jq=function(s,r){var i=new Ov(r);return Jv(s,i)},FM=function(s,r,i){if(i.throwOnError||!(s instanceof gr))throw s;var u=On.makeSpan(["katex-error"],[new eu(r)]);return u.setAttribute("title",s.toString()),u.setAttribute("style","color:"+i.errorColor),u},Zv=function(s,r){var i=new Ov(r);try{var u=Jv(s,i);return oq(u,s,i)}catch(h){return FM(h,s,i)}},Zq=function(s,r){var i=new Ov(r);try{var u=Jv(s,i);return lq(u,s,i)}catch(h){return FM(h,s,i)}},Qq="0.16.25",eW={Span:z7,Anchor:Dv,SymbolNode:eu,SvgNode:F1,PathNode:nh,LineNode:eg},LT={version:Qq,render:PM,renderToString:Kq,ParseError:gr,SETTINGS_SCHEMA:v9,__parse:Jq,__renderToDomTree:Zv,__renderToHTMLTree:Zq,__setFontMetrics:kG,__defineSymbol:ye,__defineFunction:Lr,__defineMacro:Rt,__domTree:eW};const tW={};function nW(t){const s=this,r=t||tW,i=s.data(),u=i.micromarkExtensions||(i.micromarkExtensions=[]),h=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),f=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);u.push(tG(r)),h.push(jV()),f.push(XV(r))}const DT=/[#.]/g;function rW(t,s){const r=t||"",i={};let u=0,h,f;for(;u<r.length;){DT.lastIndex=u;const g=DT.exec(r),y=r.slice(u,g?g.index:r.length);y&&(h?h==="#"?i.id=y:Array.isArray(i.className)?i.className.push(y):i.className=[y]:f=y,u+=y.length),g&&(h=g[0],u++)}return{type:"element",tagName:f||s||"div",properties:i,children:[]}}function UM(t,s,r){const i=r?lW(r):void 0;function u(h,f,...g){let y;if(h==null){y={type:"root",children:[]};const $=f;g.unshift($)}else{y=rW(h,s);const $=y.tagName.toLowerCase(),T=i?i.get($):void 0;if(y.tagName=T||$,iW(f))g.unshift(f);else for(const[w,I]of Object.entries(f))sW(t,y.properties,w,I)}for(const $ of g)lg(y.children,$);return y.type==="element"&&y.tagName==="template"&&(y.content={type:"root",children:y.children},y.children=[]),y}return u}function iW(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const s=t,r=Object.keys(t);for(const i of r){const u=s[i];if(u&&typeof u=="object"){if(!Array.isArray(u))return!0;const h=u;for(const f of h)if(typeof f!="number"&&typeof f!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function sW(t,s,r,i){const u=pC(t,r);let h;if(i!=null){if(typeof i=="number"){if(Number.isNaN(i))return;h=i}else typeof i=="boolean"?h=i:typeof i=="string"?u.spaceSeparated?h=ww(i):u.commaSeparated?h=vw(i):u.commaOrSpaceSeparated?h=ww(vw(i).join(" ")):h=BT(u,u.property,i):Array.isArray(i)?h=[...i]:h=u.property==="style"?oW(i):String(i);if(Array.isArray(h)){const f=[];for(const g of h)f.push(BT(u,u.property,g));h=f}u.property==="className"&&Array.isArray(s.className)&&(h=s.className.concat(h)),s[u.property]=h}}function lg(t,s){if(s!=null)if(typeof s=="number"||typeof s=="string")t.push({type:"text",value:String(s)});else if(Array.isArray(s))for(const r of s)lg(t,r);else if(typeof s=="object"&&"type"in s)s.type==="root"?lg(t,s.children):t.push(s);else throw new Error("Expected node, nodes, or string, got `"+s+"`")}function BT(t,s,r){if(typeof r=="string"){if(t.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((t.boolean||t.overloadedBoolean)&&(r===""||_7(r)===_7(s)))return!0}return r}function oW(t){const s=[];for(const[r,i]of Object.entries(t))s.push([r,i].join(": "));return s.join("; ")}function lW(t){const s=new Map;for(const r of t)s.set(r.toLowerCase(),r);return s}const aW=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],uW=UM(mC,"div"),cW=UM(Rf,"g",aW),mm={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function hW(t,s){return zM(t,{})||{type:"root",children:[]}}function zM(t,s){const r=fW(t,s);return r&&s.afterTransform&&s.afterTransform(t,r),r}function fW(t,s){switch(t.nodeType){case 1:return gW(t,s);case 3:return pW(t);case 8:return mW(t);case 9:return PT(t,s);case 10:return dW();case 11:return PT(t,s);default:return}}function PT(t,s){return{type:"root",children:HM(t,s)}}function dW(){return{type:"doctype"}}function pW(t){return{type:"text",value:t.nodeValue||""}}function mW(t){return{type:"comment",value:t.nodeValue||""}}function gW(t,s){const r=t.namespaceURI,i=r===mm.svg?cW:uW,u=r===mm.html?t.tagName.toLowerCase():t.tagName,h=r===mm.html&&u==="template"?t.content:t,f=t.getAttributeNames(),g={};let y=-1;for(;++y<f.length;)g[f[y]]=t.getAttribute(f[y])||"";return i(u,g,HM(h,s))}function HM(t,s){const r=t.childNodes,i=[];let u=-1;for(;++u<r.length;){const h=zM(r[u],s);h!==void 0&&i.push(h)}return i}new DOMParser;function vW(t,s){const r=$W(t);return hW(r)}function $W(t){const s=document.createElement("template");return s.innerHTML=t,s.content}const FT=(function(t,s,r){const i=P7(r);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof s=="number"){if(s<0||s===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(s=t.children.indexOf(s),s<0)throw new Error("Expected child node or index");for(;++s<t.children.length;)if(i(t.children[s],s,t))return t.children[s]}),b4=(function(t){if(t==null)return _W;if(typeof t=="string")return yW(t);if(typeof t=="object")return bW(t);if(typeof t=="function")return Qv(t);throw new Error("Expected function, string, or array as `test`")});function bW(t){const s=[];let r=-1;for(;++r<t.length;)s[r]=b4(t[r]);return Qv(i);function i(...u){let h=-1;for(;++h<s.length;)if(s[h].apply(this,u))return!0;return!1}}function yW(t){return Qv(s);function s(r){return r.tagName===t}}function Qv(t){return s;function s(r,i,u){return!!(wW(r)&&t.call(this,r,typeof i=="number"?i:void 0,u||void 0))}}function _W(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function wW(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const UT=/\n/g,zT=/[\t ]+/g,ag=b4("br"),HT=b4(AW),TW=b4("p"),VT=b4("tr"),EW=b4(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",kW,NW]),VM=b4(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function SW(t,s){const r=s||{},i="children"in t?t.children:[],u=VM(t),h=WM(t,{whitespace:r.whitespace||"normal"}),f=[];(t.type==="text"||t.type==="comment")&&f.push(...qM(t,{breakBefore:!0,breakAfter:!0}));let g=-1;for(;++g<i.length;)f.push(...GM(i[g],t,{whitespace:h,breakBefore:g?void 0:u,breakAfter:g<i.length-1?ag(i[g+1]):u}));const y=[];let $;for(g=-1;++g<f.length;){const T=f[g];typeof T=="number"?$!==void 0&&T>$&&($=T):T&&($!==void 0&&$>-1&&y.push(`
`.repeat($)||" "),$=-1,y.push(T))}return y.join("")}function GM(t,s,r){return t.type==="element"?xW(t,s,r):t.type==="text"?r.whitespace==="normal"?qM(t,r):CW(t):[]}function xW(t,s,r){const i=WM(t,r),u=t.children||[];let h=-1,f=[];if(EW(t))return f;let g,y;for(ag(t)||VT(t)&&FT(s,t,VT)?y=`
`:TW(t)?(g=2,y=2):VM(t)&&(g=1,y=1);++h<u.length;)f=f.concat(GM(u[h],t,{whitespace:i,breakBefore:h?void 0:g,breakAfter:h<u.length-1?ag(u[h+1]):y}));return HT(t)&&FT(s,t,HT)&&f.push("	"),g&&f.unshift(g),y&&f.push(y),f}function qM(t,s){const r=String(t.value),i=[],u=[];let h=0;for(;h<=r.length;){UT.lastIndex=h;const y=UT.exec(r),$=y&&"index"in y?y.index:r.length;i.push(MW(r.slice(h,$).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),h===0?s.breakBefore:!0,$===r.length?s.breakAfter:!0)),h=$+1}let f=-1,g;for(;++f<i.length;)i[f].charCodeAt(i[f].length-1)===8203||f<i.length-1&&i[f+1].charCodeAt(0)===8203?(u.push(i[f]),g=void 0):i[f]?(typeof g=="number"&&u.push(g),u.push(i[f]),g=0):(f===0||f===i.length-1)&&u.push(0);return u}function CW(t){return[String(t.value)]}function MW(t,s,r){const i=[];let u=0,h;for(;u<t.length;){zT.lastIndex=u;const f=zT.exec(t);h=f?f.index:t.length,!u&&!h&&f&&!s&&i.push(""),u!==h&&i.push(t.slice(u,h)),u=f?h+f[0].length:h}return u!==h&&!r&&i.push(""),i.join(" ")}function WM(t,s){if(t.type==="element"){const r=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":s.whitespace;case"textarea":return"pre-wrap"}}return s.whitespace}function kW(t){return!!(t.properties||{}).hidden}function AW(t){return t.tagName==="td"||t.tagName==="th"}function NW(t){return t.tagName==="dialog"&&!(t.properties||{}).open}const IW={},OW=[];function RW(t){const s=t||IW;return function(r,i){Av(r,"element",function(u,h){const f=Array.isArray(u.properties.className)?u.properties.className:OW,g=f.includes("language-math"),y=f.includes("math-display"),$=f.includes("math-inline");let T=y;if(!g&&!y&&!$)return;let w=h[h.length-1],I=u;if(u.tagName==="code"&&g&&w&&w.type==="element"&&w.tagName==="pre"&&(I=w,w=h[h.length-2],T=!0),!w)return;const A=SW(I,{whitespace:"pre"});let K;try{K=LT.renderToString(A,{...s,displayMode:T,throwOnError:!0})}catch(he){const V=he,le=V.name.toLowerCase();i.message("Could not render math with KaTeX",{ancestors:[...h,u],cause:V,place:u.position,ruleId:le,source:"rehype-katex"});try{K=LT.renderToString(A,{...s,displayMode:T,strict:"ignore",throwOnError:!1})}catch{K=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(s.errorColor||"#cc0000"),title:String(he)},children:[{type:"text",value:A}]}]}}typeof K=="string"&&(K=vW(K).children);const ne=w.children.indexOf(I);return w.children.splice(ne,1,...K),HC})}}function GT(t,s){const r=String(t);if(typeof s!="string")throw new TypeError("Expected character");let i=0,u=r.indexOf(s);for(;u!==-1;)i++,u=r.indexOf(s,u+s.length);return i}function LW(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function DW(t,s,r){const u=P7((r||{}).ignore||[]),h=BW(s);let f=-1;for(;++f<h.length;)Av(t,"text",g);function g($,T){let w=-1,I;for(;++w<T.length;){const A=T[w],K=I?I.children:void 0;if(u(A,K?K.indexOf(A):void 0,I))return;I=A}if(I)return y($,T)}function y($,T){const w=T[T.length-1],I=h[f][0],A=h[f][1];let K=0;const he=w.children.indexOf($);let V=!1,le=[];I.lastIndex=0;let te=I.exec($.value);for(;te;){const Ce=te.index,Oe={index:te.index,input:te.input,stack:[...T,$]};let ce=A(...te,Oe);if(typeof ce=="string"&&(ce=ce.length>0?{type:"text",value:ce}:void 0),ce===!1?I.lastIndex=Ce+1:(K!==Ce&&le.push({type:"text",value:$.value.slice(K,Ce)}),Array.isArray(ce)?le.push(...ce):ce&&le.push(ce),K=Ce+te[0].length,V=!0),!I.global)break;te=I.exec($.value)}return V?(K<$.value.length&&le.push({type:"text",value:$.value.slice(K)}),w.children.splice(he,1,...le)):le=[$],he+le.length}}function BW(t){const s=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<r.length;){const u=r[i];s.push([PW(u[0]),FW(u[1])])}return s}function PW(t){return typeof t=="string"?new RegExp(LW(t),"g"):t}function FW(t){return typeof t=="function"?t:function(){return t}}const gm="phrasing",vm=["autolink","link","image","label"];function UW(){return{transforms:[jW],enter:{literalAutolink:HW,literalAutolinkEmail:$m,literalAutolinkHttp:$m,literalAutolinkWww:$m},exit:{literalAutolink:WW,literalAutolinkEmail:qW,literalAutolinkHttp:VW,literalAutolinkWww:GW}}}function zW(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:gm,notInConstruct:vm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:gm,notInConstruct:vm},{character:":",before:"[ps]",after:"\\/",inConstruct:gm,notInConstruct:vm}]}}function HW(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function $m(t){this.config.enter.autolinkProtocol.call(this,t)}function VW(t){this.config.exit.autolinkProtocol.call(this,t)}function GW(t){this.config.exit.data.call(this,t);const s=this.stack[this.stack.length-1];s.type,s.url="http://"+this.sliceSerialize(t)}function qW(t){this.config.exit.autolinkEmail.call(this,t)}function WW(t){this.exit(t)}function jW(t){DW(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,XW],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),YW]],{ignore:["link","linkReference"]})}function XW(t,s,r,i,u){let h="";if(!jM(u)||(/^w/i.test(s)&&(r=s+r,s="",h="http://"),!KW(r)))return!1;const f=JW(r+i);if(!f[0])return!1;const g={type:"link",title:null,url:h+s+f[0],children:[{type:"text",value:s+f[0]}]};return f[1]?[g,{type:"text",value:f[1]}]:g}function YW(t,s,r,i){return!jM(i,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+s+"@"+r,children:[{type:"text",value:s+"@"+r}]}}function KW(t){const s=t.split(".");return!(s.length<2||s[s.length-1]&&(/_/.test(s[s.length-1])||!/[a-zA-Z\d]/.test(s[s.length-1]))||s[s.length-2]&&(/_/.test(s[s.length-2])||!/[a-zA-Z\d]/.test(s[s.length-2])))}function JW(t){const s=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!s)return[t,void 0];t=t.slice(0,s.index);let r=s[0],i=r.indexOf(")");const u=GT(t,"(");let h=GT(t,")");for(;i!==-1&&u>h;)t+=r.slice(0,i+1),r=r.slice(i+1),i=r.indexOf(")"),h++;return[t,r]}function jM(t,s){const r=t.input.charCodeAt(t.index-1);return(t.index===0||f4(r)||Lf(r))&&(!s||r!==47)}XM.peek=oj;function ZW(){this.buffer()}function QW(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function ej(){this.buffer()}function tj(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function nj(t){const s=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Bu(this.sliceSerialize(t)).toLowerCase(),r.label=s}function rj(t){this.exit(t)}function ij(t){const s=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Bu(this.sliceSerialize(t)).toLowerCase(),r.label=s}function sj(t){this.exit(t)}function oj(){return"["}function XM(t,s,r,i){const u=r.createTracker(i);let h=u.move("[^");const f=r.enter("footnoteReference"),g=r.enter("reference");return h+=u.move(r.safe(r.associationId(t),{after:"]",before:h})),g(),f(),h+=u.move("]"),h}function lj(){return{enter:{gfmFootnoteCallString:ZW,gfmFootnoteCall:QW,gfmFootnoteDefinitionLabelString:ej,gfmFootnoteDefinition:tj},exit:{gfmFootnoteCallString:nj,gfmFootnoteCall:rj,gfmFootnoteDefinitionLabelString:ij,gfmFootnoteDefinition:sj}}}function aj(t){let s=!1;return t&&t.firstLineBlank&&(s=!0),{handlers:{footnoteDefinition:r,footnoteReference:XM},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(i,u,h,f){const g=h.createTracker(f);let y=g.move("[^");const $=h.enter("footnoteDefinition"),T=h.enter("label");return y+=g.move(h.safe(h.associationId(i),{before:y,after:"]"})),T(),y+=g.move("]:"),i.children&&i.children.length>0&&(g.shift(4),y+=g.move((s?`
`:" ")+h.indentLines(h.containerFlow(i,g.current()),s?YM:uj))),$(),y}}function uj(t,s,r){return s===0?t:YM(t,s,r)}function YM(t,s,r){return(r?"":"    ")+t}const cj=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];KM.peek=mj;function hj(){return{canContainEols:["delete"],enter:{strikethrough:dj},exit:{strikethrough:pj}}}function fj(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:cj}],handlers:{delete:KM}}}function dj(t){this.enter({type:"delete",children:[]},t)}function pj(t){this.exit(t)}function KM(t,s,r,i){const u=r.createTracker(i),h=r.enter("strikethrough");let f=u.move("~~");return f+=r.containerPhrasing(t,{...u.current(),before:f,after:"~"}),f+=u.move("~~"),h(),f}function mj(){return"~"}function gj(t){return t.length}function vj(t,s){const r=s||{},i=(r.align||[]).concat(),u=r.stringLength||gj,h=[],f=[],g=[],y=[];let $=0,T=-1;for(;++T<t.length;){const ne=[],he=[];let V=-1;for(t[T].length>$&&($=t[T].length);++V<t[T].length;){const le=$j(t[T][V]);if(r.alignDelimiters!==!1){const te=u(le);he[V]=te,(y[V]===void 0||te>y[V])&&(y[V]=te)}ne.push(le)}f[T]=ne,g[T]=he}let w=-1;if(typeof i=="object"&&"length"in i)for(;++w<$;)h[w]=qT(i[w]);else{const ne=qT(i);for(;++w<$;)h[w]=ne}w=-1;const I=[],A=[];for(;++w<$;){const ne=h[w];let he="",V="";ne===99?(he=":",V=":"):ne===108?he=":":ne===114&&(V=":");let le=r.alignDelimiters===!1?1:Math.max(1,y[w]-he.length-V.length);const te=he+"-".repeat(le)+V;r.alignDelimiters!==!1&&(le=he.length+le+V.length,le>y[w]&&(y[w]=le),A[w]=le),I[w]=te}f.splice(1,0,I),g.splice(1,0,A),T=-1;const K=[];for(;++T<f.length;){const ne=f[T],he=g[T];w=-1;const V=[];for(;++w<$;){const le=ne[w]||"";let te="",Ce="";if(r.alignDelimiters!==!1){const Oe=y[w]-(he[w]||0),ce=h[w];ce===114?te=" ".repeat(Oe):ce===99?Oe%2?(te=" ".repeat(Oe/2+.5),Ce=" ".repeat(Oe/2-.5)):(te=" ".repeat(Oe/2),Ce=te):Ce=" ".repeat(Oe)}r.delimiterStart!==!1&&!w&&V.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&le==="")&&(r.delimiterStart!==!1||w)&&V.push(" "),r.alignDelimiters!==!1&&V.push(te),V.push(le),r.alignDelimiters!==!1&&V.push(Ce),r.padding!==!1&&V.push(" "),(r.delimiterEnd!==!1||w!==$-1)&&V.push("|")}K.push(r.delimiterEnd===!1?V.join("").replace(/ +$/,""):V.join(""))}return K.join(`
`)}function $j(t){return t==null?"":String(t)}function qT(t){const s=typeof t=="string"?t.codePointAt(0):0;return s===67||s===99?99:s===76||s===108?108:s===82||s===114?114:0}function bj(t,s,r,i){const u=r.enter("blockquote"),h=r.createTracker(i);h.move("> "),h.shift(2);const f=r.indentLines(r.containerFlow(t,h.current()),yj);return u(),f}function yj(t,s,r){return">"+(r?"":" ")+t}function _j(t,s){return WT(t,s.inConstruct,!0)&&!WT(t,s.notInConstruct,!1)}function WT(t,s,r){if(typeof s=="string"&&(s=[s]),!s||s.length===0)return r;let i=-1;for(;++i<s.length;)if(t.includes(s[i]))return!0;return!1}function jT(t,s,r,i){let u=-1;for(;++u<r.unsafe.length;)if(r.unsafe[u].character===`
`&&_j(r.stack,r.unsafe[u]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function wj(t,s){return!!(s.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Tj(t){const s=t.options.fence||"`";if(s!=="`"&&s!=="~")throw new Error("Cannot serialize code with `"+s+"` for `options.fence`, expected `` ` `` or `~`");return s}function Ej(t,s,r,i){const u=Tj(r),h=t.value||"",f=u==="`"?"GraveAccent":"Tilde";if(wj(t,r)){const w=r.enter("codeIndented"),I=r.indentLines(h,Sj);return w(),I}const g=r.createTracker(i),y=u.repeat(Math.max(GC(h,u)+1,3)),$=r.enter("codeFenced");let T=g.move(y);if(t.lang){const w=r.enter(`codeFencedLang${f}`);T+=g.move(r.safe(t.lang,{before:T,after:" ",encode:["`"],...g.current()})),w()}if(t.lang&&t.meta){const w=r.enter(`codeFencedMeta${f}`);T+=g.move(" "),T+=g.move(r.safe(t.meta,{before:T,after:`
`,encode:["`"],...g.current()})),w()}return T+=g.move(`
`),h&&(T+=g.move(h+`
`)),T+=g.move(y),$(),T}function Sj(t,s,r){return(r?"":"    ")+t}function e$(t){const s=t.options.quote||'"';if(s!=='"'&&s!=="'")throw new Error("Cannot serialize title with `"+s+"` for `options.quote`, expected `\"`, or `'`");return s}function xj(t,s,r,i){const u=e$(r),h=u==='"'?"Quote":"Apostrophe",f=r.enter("definition");let g=r.enter("label");const y=r.createTracker(i);let $=y.move("[");return $+=y.move(r.safe(r.associationId(t),{before:$,after:"]",...y.current()})),$+=y.move("]: "),g(),!t.url||/[\0- \u007F]/.test(t.url)?(g=r.enter("destinationLiteral"),$+=y.move("<"),$+=y.move(r.safe(t.url,{before:$,after:">",...y.current()})),$+=y.move(">")):(g=r.enter("destinationRaw"),$+=y.move(r.safe(t.url,{before:$,after:t.title?" ":`
`,...y.current()}))),g(),t.title&&(g=r.enter(`title${h}`),$+=y.move(" "+u),$+=y.move(r.safe(t.title,{before:$,after:u,...y.current()})),$+=y.move(u),g()),f(),$}function Cj(t){const s=t.options.emphasis||"*";if(s!=="*"&&s!=="_")throw new Error("Cannot serialize emphasis with `"+s+"` for `options.emphasis`, expected `*`, or `_`");return s}function S7(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Z9(t,s,r){const i=g6(t),u=g6(s);return i===void 0?u===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:u===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?u===void 0?{inside:!1,outside:!1}:u===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:u===void 0?{inside:!1,outside:!1}:u===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}JM.peek=Mj;function JM(t,s,r,i){const u=Cj(r),h=r.enter("emphasis"),f=r.createTracker(i),g=f.move(u);let y=f.move(r.containerPhrasing(t,{after:u,before:g,...f.current()}));const $=y.charCodeAt(0),T=Z9(i.before.charCodeAt(i.before.length-1),$,u);T.inside&&(y=S7($)+y.slice(1));const w=y.charCodeAt(y.length-1),I=Z9(i.after.charCodeAt(0),w,u);I.inside&&(y=y.slice(0,-1)+S7(w));const A=f.move(u);return h(),r.attentionEncodeSurroundingInfo={after:I.outside,before:T.outside},g+y+A}function Mj(t,s,r){return r.options.emphasis||"*"}function kj(t,s){let r=!1;return Nv(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return r=!0,Xm}),!!((!t.depth||t.depth<3)&&Tv(t)&&(s.options.setext||r))}function Aj(t,s,r,i){const u=Math.max(Math.min(6,t.depth||1),1),h=r.createTracker(i);if(kj(t,r)){const T=r.enter("headingSetext"),w=r.enter("phrasing"),I=r.containerPhrasing(t,{...h.current(),before:`
`,after:`
`});return w(),T(),I+`
`+(u===1?"=":"-").repeat(I.length-(Math.max(I.lastIndexOf("\r"),I.lastIndexOf(`
`))+1))}const f="#".repeat(u),g=r.enter("headingAtx"),y=r.enter("phrasing");h.move(f+" ");let $=r.containerPhrasing(t,{before:"# ",after:`
`,...h.current()});return/^[\t ]/.test($)&&($=S7($.charCodeAt(0))+$.slice(1)),$=$?f+" "+$:f,r.options.closeAtx&&($+=" "+f),y(),g(),$}ZM.peek=Nj;function ZM(t){return t.value||""}function Nj(){return"<"}QM.peek=Ij;function QM(t,s,r,i){const u=e$(r),h=u==='"'?"Quote":"Apostrophe",f=r.enter("image");let g=r.enter("label");const y=r.createTracker(i);let $=y.move("![");return $+=y.move(r.safe(t.alt,{before:$,after:"]",...y.current()})),$+=y.move("]("),g(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(g=r.enter("destinationLiteral"),$+=y.move("<"),$+=y.move(r.safe(t.url,{before:$,after:">",...y.current()})),$+=y.move(">")):(g=r.enter("destinationRaw"),$+=y.move(r.safe(t.url,{before:$,after:t.title?" ":")",...y.current()}))),g(),t.title&&(g=r.enter(`title${h}`),$+=y.move(" "+u),$+=y.move(r.safe(t.title,{before:$,after:u,...y.current()})),$+=y.move(u),g()),$+=y.move(")"),f(),$}function Ij(){return"!"}ek.peek=Oj;function ek(t,s,r,i){const u=t.referenceType,h=r.enter("imageReference");let f=r.enter("label");const g=r.createTracker(i);let y=g.move("![");const $=r.safe(t.alt,{before:y,after:"]",...g.current()});y+=g.move($+"]["),f();const T=r.stack;r.stack=[],f=r.enter("reference");const w=r.safe(r.associationId(t),{before:y,after:"]",...g.current()});return f(),r.stack=T,h(),u==="full"||!$||$!==w?y+=g.move(w+"]"):u==="shortcut"?y=y.slice(0,-1):y+=g.move("]"),y}function Oj(){return"!"}tk.peek=Rj;function tk(t,s,r){let i=t.value||"",u="`",h=-1;for(;new RegExp("(^|[^`])"+u+"([^`]|$)").test(i);)u+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++h<r.unsafe.length;){const f=r.unsafe[h],g=r.compilePattern(f);let y;if(f.atBreak)for(;y=g.exec(i);){let $=y.index;i.charCodeAt($)===10&&i.charCodeAt($-1)===13&&$--,i=i.slice(0,$)+" "+i.slice(y.index+1)}}return u+i+u}function Rj(){return"`"}function nk(t,s){const r=Tv(t);return!!(!s.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(r===t.url||"mailto:"+r===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}rk.peek=Lj;function rk(t,s,r,i){const u=e$(r),h=u==='"'?"Quote":"Apostrophe",f=r.createTracker(i);let g,y;if(nk(t,r)){const T=r.stack;r.stack=[],g=r.enter("autolink");let w=f.move("<");return w+=f.move(r.containerPhrasing(t,{before:w,after:">",...f.current()})),w+=f.move(">"),g(),r.stack=T,w}g=r.enter("link"),y=r.enter("label");let $=f.move("[");return $+=f.move(r.containerPhrasing(t,{before:$,after:"](",...f.current()})),$+=f.move("]("),y(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(y=r.enter("destinationLiteral"),$+=f.move("<"),$+=f.move(r.safe(t.url,{before:$,after:">",...f.current()})),$+=f.move(">")):(y=r.enter("destinationRaw"),$+=f.move(r.safe(t.url,{before:$,after:t.title?" ":")",...f.current()}))),y(),t.title&&(y=r.enter(`title${h}`),$+=f.move(" "+u),$+=f.move(r.safe(t.title,{before:$,after:u,...f.current()})),$+=f.move(u),y()),$+=f.move(")"),g(),$}function Lj(t,s,r){return nk(t,r)?"<":"["}ik.peek=Dj;function ik(t,s,r,i){const u=t.referenceType,h=r.enter("linkReference");let f=r.enter("label");const g=r.createTracker(i);let y=g.move("[");const $=r.containerPhrasing(t,{before:y,after:"]",...g.current()});y+=g.move($+"]["),f();const T=r.stack;r.stack=[],f=r.enter("reference");const w=r.safe(r.associationId(t),{before:y,after:"]",...g.current()});return f(),r.stack=T,h(),u==="full"||!$||$!==w?y+=g.move(w+"]"):u==="shortcut"?y=y.slice(0,-1):y+=g.move("]"),y}function Dj(){return"["}function t$(t){const s=t.options.bullet||"*";if(s!=="*"&&s!=="+"&&s!=="-")throw new Error("Cannot serialize items with `"+s+"` for `options.bullet`, expected `*`, `+`, or `-`");return s}function Bj(t){const s=t$(t),r=t.options.bulletOther;if(!r)return s==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===s)throw new Error("Expected `bullet` (`"+s+"`) and `bulletOther` (`"+r+"`) to be different");return r}function Pj(t){const s=t.options.bulletOrdered||".";if(s!=="."&&s!==")")throw new Error("Cannot serialize items with `"+s+"` for `options.bulletOrdered`, expected `.` or `)`");return s}function sk(t){const s=t.options.rule||"*";if(s!=="*"&&s!=="-"&&s!=="_")throw new Error("Cannot serialize rules with `"+s+"` for `options.rule`, expected `*`, `-`, or `_`");return s}function Fj(t,s,r,i){const u=r.enter("list"),h=r.bulletCurrent;let f=t.ordered?Pj(r):t$(r);const g=t.ordered?f==="."?")":".":Bj(r);let y=s&&r.bulletLastUsed?f===r.bulletLastUsed:!1;if(!t.ordered){const T=t.children?t.children[0]:void 0;if((f==="*"||f==="-")&&T&&(!T.children||!T.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(y=!0),sk(r)===f&&T){let w=-1;for(;++w<t.children.length;){const I=t.children[w];if(I&&I.type==="listItem"&&I.children&&I.children[0]&&I.children[0].type==="thematicBreak"){y=!0;break}}}}y&&(f=g),r.bulletCurrent=f;const $=r.containerFlow(t,i);return r.bulletLastUsed=f,r.bulletCurrent=h,u(),$}function Uj(t){const s=t.options.listItemIndent||"one";if(s!=="tab"&&s!=="one"&&s!=="mixed")throw new Error("Cannot serialize items with `"+s+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return s}function zj(t,s,r,i){const u=Uj(r);let h=r.bulletCurrent||t$(r);s&&s.type==="list"&&s.ordered&&(h=(typeof s.start=="number"&&s.start>-1?s.start:1)+(r.options.incrementListMarker===!1?0:s.children.indexOf(t))+h);let f=h.length+1;(u==="tab"||u==="mixed"&&(s&&s.type==="list"&&s.spread||t.spread))&&(f=Math.ceil(f/4)*4);const g=r.createTracker(i);g.move(h+" ".repeat(f-h.length)),g.shift(f);const y=r.enter("listItem"),$=r.indentLines(r.containerFlow(t,g.current()),T);return y(),$;function T(w,I,A){return I?(A?"":" ".repeat(f))+w:(A?h:h+" ".repeat(f-h.length))+w}}function Hj(t,s,r,i){const u=r.enter("paragraph"),h=r.enter("phrasing"),f=r.containerPhrasing(t,i);return h(),u(),f}const Vj=P7(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Gj(t,s,r,i){return(t.children.some(function(f){return Vj(f)})?r.containerPhrasing:r.containerFlow).call(r,t,i)}function qj(t){const s=t.options.strong||"*";if(s!=="*"&&s!=="_")throw new Error("Cannot serialize strong with `"+s+"` for `options.strong`, expected `*`, or `_`");return s}ok.peek=Wj;function ok(t,s,r,i){const u=qj(r),h=r.enter("strong"),f=r.createTracker(i),g=f.move(u+u);let y=f.move(r.containerPhrasing(t,{after:u,before:g,...f.current()}));const $=y.charCodeAt(0),T=Z9(i.before.charCodeAt(i.before.length-1),$,u);T.inside&&(y=S7($)+y.slice(1));const w=y.charCodeAt(y.length-1),I=Z9(i.after.charCodeAt(0),w,u);I.inside&&(y=y.slice(0,-1)+S7(w));const A=f.move(u+u);return h(),r.attentionEncodeSurroundingInfo={after:I.outside,before:T.outside},g+y+A}function Wj(t,s,r){return r.options.strong||"*"}function jj(t,s,r,i){return r.safe(t.value,i)}function Xj(t){const s=t.options.ruleRepetition||3;if(s<3)throw new Error("Cannot serialize rules with repetition `"+s+"` for `options.ruleRepetition`, expected `3` or more");return s}function Yj(t,s,r){const i=(sk(r)+(r.options.ruleSpaces?" ":"")).repeat(Xj(r));return r.options.ruleSpaces?i.slice(0,-1):i}const lk={blockquote:bj,break:jT,code:Ej,definition:xj,emphasis:JM,hardBreak:jT,heading:Aj,html:ZM,image:QM,imageReference:ek,inlineCode:tk,link:rk,linkReference:ik,list:Fj,listItem:zj,paragraph:Hj,root:Gj,strong:ok,text:jj,thematicBreak:Yj};function Kj(){return{enter:{table:Jj,tableData:XT,tableHeader:XT,tableRow:Qj},exit:{codeText:eX,table:Zj,tableData:bm,tableHeader:bm,tableRow:bm}}}function Jj(t){const s=t._align;this.enter({type:"table",align:s.map(function(r){return r==="none"?null:r}),children:[]},t),this.data.inTable=!0}function Zj(t){this.exit(t),this.data.inTable=void 0}function Qj(t){this.enter({type:"tableRow",children:[]},t)}function bm(t){this.exit(t)}function XT(t){this.enter({type:"tableCell",children:[]},t)}function eX(t){let s=this.resume();this.data.inTable&&(s=s.replace(/\\([\\|])/g,tX));const r=this.stack[this.stack.length-1];r.type,r.value=s,this.exit(t)}function tX(t,s){return s==="|"?s:t}function nX(t){const s=t||{},r=s.tableCellPadding,i=s.tablePipeAlign,u=s.stringLength,h=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:I,table:f,tableCell:y,tableRow:g}};function f(A,K,ne,he){return $(T(A,ne,he),A.align)}function g(A,K,ne,he){const V=w(A,ne,he),le=$([V]);return le.slice(0,le.indexOf(`
`))}function y(A,K,ne,he){const V=ne.enter("tableCell"),le=ne.enter("phrasing"),te=ne.containerPhrasing(A,{...he,before:h,after:h});return le(),V(),te}function $(A,K){return vj(A,{align:K,alignDelimiters:i,padding:r,stringLength:u})}function T(A,K,ne){const he=A.children;let V=-1;const le=[],te=K.enter("table");for(;++V<he.length;)le[V]=w(he[V],K,ne);return te(),le}function w(A,K,ne){const he=A.children;let V=-1;const le=[],te=K.enter("tableRow");for(;++V<he.length;)le[V]=y(he[V],A,K,ne);return te(),le}function I(A,K,ne){let he=lk.inlineCode(A,K,ne);return ne.stack.includes("tableCell")&&(he=he.replace(/\|/g,"\\$&")),he}}function rX(){return{exit:{taskListCheckValueChecked:YT,taskListCheckValueUnchecked:YT,paragraph:sX}}}function iX(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:oX}}}function YT(t){const s=this.stack[this.stack.length-2];s.type,s.checked=t.type==="taskListCheckValueChecked"}function sX(t){const s=this.stack[this.stack.length-2];if(s&&s.type==="listItem"&&typeof s.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const i=r.children[0];if(i&&i.type==="text"){const u=s.children;let h=-1,f;for(;++h<u.length;){const g=u[h];if(g.type==="paragraph"){f=g;break}}f===r&&(i.value=i.value.slice(1),i.value.length===0?r.children.shift():r.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,r.position.start=Object.assign({},i.position.start)))}}this.exit(t)}function oX(t,s,r,i){const u=t.children[0],h=typeof t.checked=="boolean"&&u&&u.type==="paragraph",f="["+(t.checked?"x":" ")+"] ",g=r.createTracker(i);h&&g.move(f);let y=lk.listItem(t,s,r,{...i,...g.current()});return h&&(y=y.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,$)),y;function $(T){return T+f}}function lX(){return[UW(),lj(),hj(),Kj(),rX()]}function aX(t){return{extensions:[zW(),aj(t),fj(),nX(t),iX()]}}const uX={tokenize:mX,partial:!0},ak={tokenize:gX,partial:!0},uk={tokenize:vX,partial:!0},ck={tokenize:$X,partial:!0},cX={tokenize:bX,partial:!0},hk={name:"wwwAutolink",tokenize:dX,previous:dk},fk={name:"protocolAutolink",tokenize:pX,previous:pk},W1={name:"emailAutolink",tokenize:fX,previous:mk},Lc={};function hX(){return{text:Lc}}let t4=48;for(;t4<123;)Lc[t4]=W1,t4++,t4===58?t4=65:t4===91&&(t4=97);Lc[43]=W1;Lc[45]=W1;Lc[46]=W1;Lc[95]=W1;Lc[72]=[W1,fk];Lc[104]=[W1,fk];Lc[87]=[W1,hk];Lc[119]=[W1,hk];function fX(t,s,r){const i=this;let u,h;return f;function f(w){return!ug(w)||!mk.call(i,i.previous)||n$(i.events)?r(w):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),g(w))}function g(w){return ug(w)?(t.consume(w),g):w===64?(t.consume(w),y):r(w)}function y(w){return w===46?t.check(cX,T,$)(w):w===45||w===95||el(w)?(h=!0,t.consume(w),y):T(w)}function $(w){return t.consume(w),u=!0,y}function T(w){return h&&u&&_l(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),s(w)):r(w)}}function dX(t,s,r){const i=this;return u;function u(f){return f!==87&&f!==119||!dk.call(i,i.previous)||n$(i.events)?r(f):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(uX,t.attempt(ak,t.attempt(uk,h),r),r)(f))}function h(f){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),s(f)}}function pX(t,s,r){const i=this;let u="",h=!1;return f;function f(w){return(w===72||w===104)&&pk.call(i,i.previous)&&!n$(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),u+=String.fromCodePoint(w),t.consume(w),g):r(w)}function g(w){if(_l(w)&&u.length<5)return u+=String.fromCodePoint(w),t.consume(w),g;if(w===58){const I=u.toLowerCase();if(I==="http"||I==="https")return t.consume(w),y}return r(w)}function y(w){return w===47?(t.consume(w),h?$:(h=!0,y)):r(w)}function $(w){return w===null||G9(w)||js(w)||f4(w)||Lf(w)?r(w):t.attempt(ak,t.attempt(uk,T),r)(w)}function T(w){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),s(w)}}function mX(t,s,r){let i=0;return u;function u(f){return(f===87||f===119)&&i<3?(i++,t.consume(f),u):f===46&&i===3?(t.consume(f),h):r(f)}function h(f){return f===null?r(f):s(f)}}function gX(t,s,r){let i,u,h;return f;function f($){return $===46||$===95?t.check(ck,y,g)($):$===null||js($)||f4($)||$!==45&&Lf($)?y($):(h=!0,t.consume($),f)}function g($){return $===95?i=!0:(u=i,i=void 0),t.consume($),f}function y($){return u||i||!h?r($):s($)}}function vX(t,s){let r=0,i=0;return u;function u(f){return f===40?(r++,t.consume(f),u):f===41&&i<r?h(f):f===33||f===34||f===38||f===39||f===41||f===42||f===44||f===46||f===58||f===59||f===60||f===63||f===93||f===95||f===126?t.check(ck,s,h)(f):f===null||js(f)||f4(f)?s(f):(t.consume(f),u)}function h(f){return f===41&&i++,t.consume(f),u}}function $X(t,s,r){return i;function i(g){return g===33||g===34||g===39||g===41||g===42||g===44||g===46||g===58||g===59||g===63||g===95||g===126?(t.consume(g),i):g===38?(t.consume(g),h):g===93?(t.consume(g),u):g===60||g===null||js(g)||f4(g)?s(g):r(g)}function u(g){return g===null||g===40||g===91||js(g)||f4(g)?s(g):i(g)}function h(g){return _l(g)?f(g):r(g)}function f(g){return g===59?(t.consume(g),i):_l(g)?(t.consume(g),f):r(g)}}function bX(t,s,r){return i;function i(h){return t.consume(h),u}function u(h){return el(h)?r(h):s(h)}}function dk(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||js(t)}function pk(t){return!_l(t)}function mk(t){return!(t===47||ug(t))}function ug(t){return t===43||t===45||t===46||t===95||el(t)}function n$(t){let s=t.length,r=!1;for(;s--;){const i=t[s][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){r=!0;break}if(i._gfmAutolinkLiteralWalkedInto){r=!1;break}}return t.length>0&&!r&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const yX={tokenize:MX,partial:!0};function _X(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:SX,continuation:{tokenize:xX},exit:CX}},text:{91:{name:"gfmFootnoteCall",tokenize:EX},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:wX,resolveTo:TX}}}}function wX(t,s,r){const i=this;let u=i.events.length;const h=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let f;for(;u--;){const y=i.events[u][1];if(y.type==="labelImage"){f=y;break}if(y.type==="gfmFootnoteCall"||y.type==="labelLink"||y.type==="label"||y.type==="image"||y.type==="link")break}return g;function g(y){if(!f||!f._balanced)return r(y);const $=Bu(i.sliceSerialize({start:f.end,end:i.now()}));return $.codePointAt(0)!==94||!h.includes($.slice(1))?r(y):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(y),t.exit("gfmFootnoteCallLabelMarker"),s(y))}}function TX(t,s){let r=t.length;for(;r--;)if(t[r][1].type==="labelImage"&&t[r][0]==="enter"){t[r][1];break}t[r+1][1].type="data",t[r+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[r+3][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"gfmFootnoteCallMarker",start:Object.assign({},t[r+3][1].end),end:Object.assign({},t[r+3][1].end)};u.end.column++,u.end.offset++,u.end._bufferIndex++;const h={type:"gfmFootnoteCallString",start:Object.assign({},u.end),end:Object.assign({},t[t.length-1][1].start)},f={type:"chunkString",contentType:"string",start:Object.assign({},h.start),end:Object.assign({},h.end)},g=[t[r+1],t[r+2],["enter",i,s],t[r+3],t[r+4],["enter",u,s],["exit",u,s],["enter",h,s],["enter",f,s],["exit",f,s],["exit",h,s],t[t.length-2],t[t.length-1],["exit",i,s]];return t.splice(r,t.length-r+1,...g),t}function EX(t,s,r){const i=this,u=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let h=0,f;return g;function g(w){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(w),t.exit("gfmFootnoteCallLabelMarker"),y}function y(w){return w!==94?r(w):(t.enter("gfmFootnoteCallMarker"),t.consume(w),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",$)}function $(w){if(h>999||w===93&&!f||w===null||w===91||js(w))return r(w);if(w===93){t.exit("chunkString");const I=t.exit("gfmFootnoteCallString");return u.includes(Bu(i.sliceSerialize(I)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(w),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),s):r(w)}return js(w)||(f=!0),h++,t.consume(w),w===92?T:$}function T(w){return w===91||w===92||w===93?(t.consume(w),h++,$):$(w)}}function SX(t,s,r){const i=this,u=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let h,f=0,g;return y;function y(K){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(K),t.exit("gfmFootnoteDefinitionLabelMarker"),$}function $(K){return K===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(K),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",T):r(K)}function T(K){if(f>999||K===93&&!g||K===null||K===91||js(K))return r(K);if(K===93){t.exit("chunkString");const ne=t.exit("gfmFootnoteDefinitionLabelString");return h=Bu(i.sliceSerialize(ne)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(K),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),I}return js(K)||(g=!0),f++,t.consume(K),K===92?w:T}function w(K){return K===91||K===92||K===93?(t.consume(K),f++,T):T(K)}function I(K){return K===58?(t.enter("definitionMarker"),t.consume(K),t.exit("definitionMarker"),u.includes(h)||u.push(h),Fi(t,A,"gfmFootnoteDefinitionWhitespace")):r(K)}function A(K){return s(K)}}function xX(t,s,r){return t.check(B7,s,t.attempt(yX,s,r))}function CX(t){t.exit("gfmFootnoteDefinition")}function MX(t,s,r){const i=this;return Fi(t,u,"gfmFootnoteDefinitionIndent",5);function u(h){const f=i.events[i.events.length-1];return f&&f[1].type==="gfmFootnoteDefinitionIndent"&&f[2].sliceSerialize(f[1],!0).length===4?s(h):r(h)}}function kX(t){let r=(t||{}).singleTilde;const i={name:"strikethrough",tokenize:h,resolveAll:u};return r==null&&(r=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function u(f,g){let y=-1;for(;++y<f.length;)if(f[y][0]==="enter"&&f[y][1].type==="strikethroughSequenceTemporary"&&f[y][1]._close){let $=y;for(;$--;)if(f[$][0]==="exit"&&f[$][1].type==="strikethroughSequenceTemporary"&&f[$][1]._open&&f[y][1].end.offset-f[y][1].start.offset===f[$][1].end.offset-f[$][1].start.offset){f[y][1].type="strikethroughSequence",f[$][1].type="strikethroughSequence";const T={type:"strikethrough",start:Object.assign({},f[$][1].start),end:Object.assign({},f[y][1].end)},w={type:"strikethroughText",start:Object.assign({},f[$][1].end),end:Object.assign({},f[y][1].start)},I=[["enter",T,g],["enter",f[$][1],g],["exit",f[$][1],g],["enter",w,g]],A=g.parser.constructs.insideSpan.null;A&&da(I,I.length,0,Df(A,f.slice($+1,y),g)),da(I,I.length,0,[["exit",w,g],["enter",f[y][1],g],["exit",f[y][1],g],["exit",T,g]]),da(f,$-1,y-$+3,I),y=$+I.length-2;break}}for(y=-1;++y<f.length;)f[y][1].type==="strikethroughSequenceTemporary"&&(f[y][1].type="data");return f}function h(f,g,y){const $=this.previous,T=this.events;let w=0;return I;function I(K){return $===126&&T[T.length-1][1].type!=="characterEscape"?y(K):(f.enter("strikethroughSequenceTemporary"),A(K))}function A(K){const ne=g6($);if(K===126)return w>1?y(K):(f.consume(K),w++,A);if(w<2&&!r)return y(K);const he=f.exit("strikethroughSequenceTemporary"),V=g6(K);return he._open=!V||V===2&&!!ne,he._close=!ne||ne===2&&!!V,g(K)}}}class AX{constructor(){this.map=[]}add(s,r,i){NX(this,s,r,i)}consume(s){if(this.map.sort(function(h,f){return h[0]-f[0]}),this.map.length===0)return;let r=this.map.length;const i=[];for(;r>0;)r-=1,i.push(s.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),s.length=this.map[r][0];i.push(s.slice()),s.length=0;let u=i.pop();for(;u;){for(const h of u)s.push(h);u=i.pop()}this.map.length=0}}function NX(t,s,r,i){let u=0;if(!(r===0&&i.length===0)){for(;u<t.map.length;){if(t.map[u][0]===s){t.map[u][1]+=r,t.map[u][2].push(...i);return}u+=1}t.map.push([s,r,i])}}function IX(t,s){let r=!1;const i=[];for(;s<t.length;){const u=t[s];if(r){if(u[0]==="enter")u[1].type==="tableContent"&&i.push(t[s+1][1].type==="tableDelimiterMarker"?"left":"none");else if(u[1].type==="tableContent"){if(t[s-1][1].type==="tableDelimiterMarker"){const h=i.length-1;i[h]=i[h]==="left"?"center":"right"}}else if(u[1].type==="tableDelimiterRow")break}else u[0]==="enter"&&u[1].type==="tableDelimiterRow"&&(r=!0);s+=1}return i}function OX(){return{flow:{null:{name:"table",tokenize:RX,resolveAll:LX}}}}function RX(t,s,r){const i=this;let u=0,h=0,f;return g;function g(b){let O=i.events.length-1;for(;O>-1;){const B=i.events[O][1].type;if(B==="lineEnding"||B==="linePrefix")O--;else break}const N=O>-1?i.events[O][1].type:null,R=N==="tableHead"||N==="tableRow"?ce:y;return R===ce&&i.parser.lazy[i.now().line]?r(b):R(b)}function y(b){return t.enter("tableHead"),t.enter("tableRow"),$(b)}function $(b){return b===124||(f=!0,h+=1),T(b)}function T(b){return b===null?r(b):Jr(b)?h>1?(h=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),A):r(b):qi(b)?Fi(t,T,"whitespace")(b):(h+=1,f&&(f=!1,u+=1),b===124?(t.enter("tableCellDivider"),t.consume(b),t.exit("tableCellDivider"),f=!0,T):(t.enter("data"),w(b)))}function w(b){return b===null||b===124||js(b)?(t.exit("data"),T(b)):(t.consume(b),b===92?I:w)}function I(b){return b===92||b===124?(t.consume(b),w):w(b)}function A(b){return i.interrupt=!1,i.parser.lazy[i.now().line]?r(b):(t.enter("tableDelimiterRow"),f=!1,qi(b)?Fi(t,K,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):K(b))}function K(b){return b===45||b===58?he(b):b===124?(f=!0,t.enter("tableCellDivider"),t.consume(b),t.exit("tableCellDivider"),ne):Oe(b)}function ne(b){return qi(b)?Fi(t,he,"whitespace")(b):he(b)}function he(b){return b===58?(h+=1,f=!0,t.enter("tableDelimiterMarker"),t.consume(b),t.exit("tableDelimiterMarker"),V):b===45?(h+=1,V(b)):b===null||Jr(b)?Ce(b):Oe(b)}function V(b){return b===45?(t.enter("tableDelimiterFiller"),le(b)):Oe(b)}function le(b){return b===45?(t.consume(b),le):b===58?(f=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(b),t.exit("tableDelimiterMarker"),te):(t.exit("tableDelimiterFiller"),te(b))}function te(b){return qi(b)?Fi(t,Ce,"whitespace")(b):Ce(b)}function Ce(b){return b===124?K(b):b===null||Jr(b)?!f||u!==h?Oe(b):(t.exit("tableDelimiterRow"),t.exit("tableHead"),s(b)):Oe(b)}function Oe(b){return r(b)}function ce(b){return t.enter("tableRow"),Be(b)}function Be(b){return b===124?(t.enter("tableCellDivider"),t.consume(b),t.exit("tableCellDivider"),Be):b===null||Jr(b)?(t.exit("tableRow"),s(b)):qi(b)?Fi(t,Be,"whitespace")(b):(t.enter("data"),je(b))}function je(b){return b===null||b===124||js(b)?(t.exit("data"),Be(b)):(t.consume(b),b===92?_e:je)}function _e(b){return b===92||b===124?(t.consume(b),je):je(b)}}function LX(t,s){let r=-1,i=!0,u=0,h=[0,0,0,0],f=[0,0,0,0],g=!1,y=0,$,T,w;const I=new AX;for(;++r<t.length;){const A=t[r],K=A[1];A[0]==="enter"?K.type==="tableHead"?(g=!1,y!==0&&(KT(I,s,y,$,T),T=void 0,y=0),$={type:"table",start:Object.assign({},K.start),end:Object.assign({},K.end)},I.add(r,0,[["enter",$,s]])):K.type==="tableRow"||K.type==="tableDelimiterRow"?(i=!0,w=void 0,h=[0,0,0,0],f=[0,r+1,0,0],g&&(g=!1,T={type:"tableBody",start:Object.assign({},K.start),end:Object.assign({},K.end)},I.add(r,0,[["enter",T,s]])),u=K.type==="tableDelimiterRow"?2:T?3:1):u&&(K.type==="data"||K.type==="tableDelimiterMarker"||K.type==="tableDelimiterFiller")?(i=!1,f[2]===0&&(h[1]!==0&&(f[0]=f[1],w=J8(I,s,h,u,void 0,w),h=[0,0,0,0]),f[2]=r)):K.type==="tableCellDivider"&&(i?i=!1:(h[1]!==0&&(f[0]=f[1],w=J8(I,s,h,u,void 0,w)),h=f,f=[h[1],r,0,0])):K.type==="tableHead"?(g=!0,y=r):K.type==="tableRow"||K.type==="tableDelimiterRow"?(y=r,h[1]!==0?(f[0]=f[1],w=J8(I,s,h,u,r,w)):f[1]!==0&&(w=J8(I,s,f,u,r,w)),u=0):u&&(K.type==="data"||K.type==="tableDelimiterMarker"||K.type==="tableDelimiterFiller")&&(f[3]=r)}for(y!==0&&KT(I,s,y,$,T),I.consume(s.events),r=-1;++r<s.events.length;){const A=s.events[r];A[0]==="enter"&&A[1].type==="table"&&(A[1]._align=IX(s.events,r))}return t}function J8(t,s,r,i,u,h){const f=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",g="tableContent";r[0]!==0&&(h.end=Object.assign({},t6(s.events,r[0])),t.add(r[0],0,[["exit",h,s]]));const y=t6(s.events,r[1]);if(h={type:f,start:Object.assign({},y),end:Object.assign({},y)},t.add(r[1],0,[["enter",h,s]]),r[2]!==0){const $=t6(s.events,r[2]),T=t6(s.events,r[3]),w={type:g,start:Object.assign({},$),end:Object.assign({},T)};if(t.add(r[2],0,[["enter",w,s]]),i!==2){const I=s.events[r[2]],A=s.events[r[3]];if(I[1].end=Object.assign({},A[1].end),I[1].type="chunkText",I[1].contentType="text",r[3]>r[2]+1){const K=r[2]+1,ne=r[3]-r[2]-1;t.add(K,ne,[])}}t.add(r[3]+1,0,[["exit",w,s]])}return u!==void 0&&(h.end=Object.assign({},t6(s.events,u)),t.add(u,0,[["exit",h,s]]),h=void 0),h}function KT(t,s,r,i,u){const h=[],f=t6(s.events,r);u&&(u.end=Object.assign({},f),h.push(["exit",u,s])),i.end=Object.assign({},f),h.push(["exit",i,s]),t.add(r+1,0,h)}function t6(t,s){const r=t[s],i=r[0]==="enter"?"start":"end";return r[1][i]}const DX={name:"tasklistCheck",tokenize:PX};function BX(){return{text:{91:DX}}}function PX(t,s,r){const i=this;return u;function u(y){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?r(y):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(y),t.exit("taskListCheckMarker"),h)}function h(y){return js(y)?(t.enter("taskListCheckValueUnchecked"),t.consume(y),t.exit("taskListCheckValueUnchecked"),f):y===88||y===120?(t.enter("taskListCheckValueChecked"),t.consume(y),t.exit("taskListCheckValueChecked"),f):r(y)}function f(y){return y===93?(t.enter("taskListCheckMarker"),t.consume(y),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),g):r(y)}function g(y){return Jr(y)?s(y):qi(y)?t.check({tokenize:FX},s,r)(y):r(y)}}function FX(t,s,r){return Fi(t,i,"whitespace");function i(u){return u===null?r(u):s(u)}}function UX(t){return TC([hX(),_X(),kX(t),OX(),BX()])}const zX={};function HX(t){const s=this,r=t||zX,i=s.data(),u=i.micromarkExtensions||(i.micromarkExtensions=[]),h=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),f=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);u.push(UX(r)),h.push(lX()),f.push(aX(r))}function VX({title:t,content:s,isCollapsed:r,onToggle:i}){return mt.jsxs("div",{className:`
        relative flex flex-col flex-shrink-0 bg-white border-r border-slate-200 shadow-[4px_0_24px_rgba(0,0,0,0.05)]
        transition-all duration-300 ease-in-out 
        z-50  /* <--- Augmentation drastique du z-index pour passer au-dessus de Blockly */
        ${r?"w-12":"w-96"}
      `,children:[mt.jsx("button",{onClick:i,className:`absolute -right-3 top-6 z-50 w-6 h-6 flex items-center justify-center 
                   bg-white border border-slate-200 rounded-full shadow-md text-slate-500 
                   hover:text-blue-600 hover:scale-110 transition-all cursor-pointer`,title:r?"Ouvrir":"Fermer",children:mt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:`w-3 h-3 transition-transform ${r?"rotate-180":""}`,children:mt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),!r&&mt.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[mt.jsx("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 backdrop-blur-sm",children:mt.jsxs("h2",{className:"m-0 text-xl font-bold text-slate-800 flex items-center gap-2",children:[mt.jsx("span",{className:"text-2xl",children:""})," ",t||"Mission"]})}),mt.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:mt.jsxs("div",{className:"prose prose-slate prose-p:text-slate-600 prose-headings:text-slate-800 prose-strong:text-indigo-600 prose-code:text-pink-500 prose-code:bg-pink-50 prose-code:px-1 prose-code:rounded prose-table:border-collapse prose-th:border prose-th:border-slate-200 prose-th:p-2 prose-td:border prose-td:border-slate-200 prose-td:p-2 text-sm leading-relaxed",children:["              ",s?mt.jsx(HV,{remarkPlugins:[nW,HX],rehypePlugins:[RW],children:s}):mt.jsx("p",{className:"text-slate-400 italic text-center mt-10",children:"Aucune consigne pour ce niveau."})]})})]}),r&&mt.jsx("div",{onClick:i,className:"h-full flex items-center justify-center cursor-pointer hover:bg-slate-50 transition-colors",children:mt.jsxs("div",{className:"writing-vertical-rl rotate-180 font-bold text-slate-400 tracking-widest text-xs uppercase flex items-center gap-2",children:[mt.jsx("span",{children:"CONSIGNE"}),mt.jsx("span",{className:"text-lg",children:""})]})}),mt.jsx("style",{children:`
        .writing-vertical-rl { writing-mode: vertical-rl; }
        /* Scrollbar fine pour Chrome/Safari/Edge */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 20px; }
      `})]})}const GX=()=>{$s.forBlock.equation_op_both=t=>{const s=t.getFieldValue("OP"),r=$s.valueToCode(t,"VAL",$s.ORDER_ATOMIC)||"0";return`# Opration sur les deux membres
equation.appliquer('${{ADD:"+",SUB:"-",MUL:"*",DIV:"/"}[s]}', ${r})
`},$s.forBlock.equation_term_x=t=>[`"${t.getFieldValue("COEFF")}*x"`,$s.ORDER_ATOMIC],$s.forBlock.equation_verify=t=>`equation.verifier(${$s.valueToCode(t,"VAL",$s.ORDER_ATOMIC)||"0"})
`,$s.forBlock.equation_solution_state=t=>`equation.conclure('${t.getFieldValue("STATE")==="NO_SOLUTION"?"pas_de_solution":"infinite_solutions"}')
`,$s.forBlock.maze_move_forward=()=>`robot.avancer()
`,$s.forBlock.maze_turn=t=>`robot.pivoter('${t.getFieldValue("DIR")==="LEFT"?"gauche":"droite"}')
`,$s.forBlock.maze_forever=t=>`while not robot.est_arrive():
${$s.statementToCode(t,"DO")||`  pass
`}`,$s.forBlock.maze_if=t=>`if robot.chemin_disponible('${t.getFieldValue("DIR")}'):
${$s.statementToCode(t,"DO")||`  pass
`}`,$s.forBlock.maze_if_else=t=>`if robot.chemin_disponible('${t.getFieldValue("DIR")}'):
${$s.statementToCode(t,"DO")||`  pass
`}else:
${$s.statementToCode(t,"ELSE")||`  pass
`}`,$s.forBlock.turtle_move=t=>`tortue.avancer(${$s.valueToCode(t,"VALUE",$s.ORDER_NONE)||"0"})
`,$s.forBlock.turtle_turn=t=>t.getFieldValue("DIR")==="LEFT"?`tortue.gauche(${$s.valueToCode(t,"VALUE",$s.ORDER_NONE)||"0"})
`:`tortue.droite(${$s.valueToCode(t,"VALUE",$s.ORDER_NONE)||"0"})
`,$s.forBlock.turtle_pen=t=>t.getFieldValue("STATE")==="UP"?`tortue.lever_stylo()
`:`tortue.baisser_stylo()
`,$s.forBlock.turtle_color=t=>`tortue.couleur('${t.getFieldValue("COLOR")}')
`,$s.forBlock.text_print=t=>`print(${$s.valueToCode(t,"TEXT",$s.ORDER_NONE)||"''"})
`},qX=(t,s)=>{const r=new Date().getHours(),i=`LVL:${t}|ST:${s.stars}|BL:${s.blocks}`;let u=0;for(let h=0;h<i.length;h++){const f=i.charCodeAt(h);u=(u<<5)-u+f+r,u=u&u}return`${i}|#${Math.abs(u).toString(16)}`};function WX(t,s,r){const[i,u]=br.useState(50),[h,f]=br.useState(null),[g,y]=br.useState("IDLE"),[$,T]=br.useState([]),[w,I]=br.useState({stars:0,blockCount:0,target:0}),[A,K]=br.useState(""),[ne,he]=br.useState(null),[V,le]=br.useState(0),[te,Ce]=br.useState(0),Oe=br.useRef(null),ce=br.useRef([]),Be=br.useRef(0),je=br.useRef(null);br.useEffect(()=>{if(!r.solutionBlocks||s.id!=="TURTLE"){T([]);return}const xe=setTimeout(()=>{try{const gt=new CA,ze=tE.xml.textToDom(r.solutionBlocks);eE.domToWorkspace(ze,gt),xr.init(gt);const Ft=xr.workspaceToCode(gt),Ge=[];new Function("actions",Ft)(Ge);let et=null;Ge.forEach(Ct=>{et=s.executeStep(et,Ct,r).newState}),et?.lines&&T(et.lines),gt.dispose()}catch(gt){console.error("Erreur modle:",gt)}},50);return()=>clearTimeout(xe)},[r.solutionBlocks,s,r]);const _e=br.useCallback(()=>s.executeStep(null,null,r).newState,[s,r]),b=br.useCallback(xe=>{const gt=r.maxBlocks||5;let ze=1;xe<=gt?ze=3:xe<=Math.ceil(gt*1.5)&&(ze=2),I({stars:ze,blockCount:xe,target:gt});const Ft=qX(r.id||1,{stars:ze,blocks:xe});K(Ft),y("WON")},[r]),O=br.useCallback(()=>{I({stars:0,blockCount:t.current?.getAllBlocks(!1).length||0,target:r.maxBlocks}),y("FAILED")},[r]),N=br.useCallback(()=>{Oe.current&&clearTimeout(Oe.current),y("IDLE"),f(null),he(null),je.current=null,Be.current=0,le(0),t.current&&t.current.highlightBlock(null)},[t]),R=br.useCallback(()=>{ce.current=[],Ce(0),N()},[N]),B=br.useCallback(()=>{const xe=ce.current,gt=Be.current;if(gt>=xe.length)return!1;const ze=xe[gt];if(he({...ze,_uid:gt}),le(gt+1),ze.id&&t.current&&t.current.highlightBlock(ze.id),ze.type==="SCAN")return Be.current+=1,!0;const Ft=s.executeStep(je.current,ze,r);if(je.current=Ft.newState,f(Ft.newState),Be.current+=1,Ft.status==="WIN"){const Ge=r.type==="EQUATION"?3e3:500;return setTimeout(()=>b(t.current.getAllBlocks(!1).length),Ge),!1}else if(Ft.status==="LOST")return setTimeout(()=>y("LOST"),500),!1;if(Be.current>=xe.length){t.current&&t.current.highlightBlock(null);const Ge=r.type==="EQUATION"?3e3:500;return setTimeout(()=>{let et=!1;s.checkVictory&&(et=s.checkVictory(je.current,r,$)),et?b(t.current.getAllBlocks(!1).length):O()},Ge),!1}return!0},[s,r,$,b,O,t]),j=br.useCallback(()=>{if(B()){let gt=Math.max(5,(100-i)*10);r.type==="EQUATION"&&(gt=Math.max(gt,3e3));const ze=ce.current[Be.current-1];ze&&ze.type==="SCAN"&&(gt=Math.max(gt,500)),Oe.current=setTimeout(j,gt)}},[B,i,r.type]),J=br.useCallback(xe=>{if(Oe.current&&clearTimeout(Oe.current),y("PAUSED"),xe<=0){f(null),he(null),je.current=null,Be.current=0,le(0),t.current&&t.current.highlightBlock(null);return}let gt=_e();const ze=ce.current;for(let Ft=0;Ft<xe&&!(Ft>=ze.length);Ft++){const Ge=ze[Ft];gt=s.executeStep(gt,Ge,r).newState,Ft===xe-1&&(Ge.id&&t.current&&t.current.highlightBlock(Ge.id),he(Ge))}je.current=gt,f(gt),Be.current=xe,le(xe)},[_e,s,r,t]),fe=br.useCallback(()=>{if(!t.current)return!1;xr.init(t.current);const xe=xr.workspaceToCode(t.current);let gt="";r.inputs&&Object.entries(r.inputs).forEach(([Ct,nt])=>gt+=`var ${Ct} = ${JSON.stringify(nt)};
`);let ze={x:r.startPos.x,y:r.startPos.y,dir:r.startPos.dir!==void 0?r.startPos.dir:0},Ft=0;const Ge=1e3,et={move:()=>{let Ct=ze.x,nt=ze.y;ze.dir===0?Ct++:ze.dir===1?nt++:ze.dir===2?Ct--:ze.dir===3&&nt--,Q0.checkMove(r.grid,Ct,nt)!=="WALL"&&(ze.x=Ct,ze.y=nt)},turn:Ct=>{const nt=Ct;ze.dir=nt==="LEFT"?(ze.dir+3)%4:(ze.dir+1)%4},isPath:Ct=>Q0.look(r.grid,ze.x,ze.y,ze.dir,Ct),isDone:()=>Q0.checkMove(r.grid,ze.x,ze.y)==="WIN",safeCheck:()=>(Ft++,!(Ft>Ge))};try{const Ct=[];return new Function("actions","api",gt+xe)(Ct,et),ce.current=Ct,Ce(Ct.length),!0}catch(Ct){return alert("Erreur excution : "+Ct.message),!1}},[t,r]),Ne=br.useCallback(()=>{if(g==="PAUSED"){y("RUNNING"),j();return}N(),setTimeout(()=>{fe()&&(y("RUNNING"),j())},0)},[j,N,g,fe]),qe=br.useCallback(()=>{Oe.current&&clearTimeout(Oe.current),y("PAUSED")},[]),de=br.useCallback(()=>{g==="IDLE"||g==="WON"||g==="FAILED"||g==="LOST"?(N(),setTimeout(()=>{fe()&&(y("PAUSED"),B())},0)):(g==="RUNNING"&&qe(),B(),g!=="WON"&&g!=="FAILED"&&g!=="LOST"&&y("PAUSED"))},[g,B,qe,fe,N]);return{speed:i,setSpeed:u,engineState:h,gameState:g,solutionLines:$,gameStats:w,proofToken:A,run:Ne,reset:N,pause:qe,stepForward:de,lastAction:ne,currentStep:V,totalSteps:te,goToStep:J,clearSimulation:R}}const jX={MAZE:iE,MATH:WA,TURTLE:XA,EQUATION:RF},XX={collapse:!0,comments:!0,disable:!0,maxBlocks:1/0,trashcan:!0,horizontalLayout:!1,toolboxPosition:"start",css:!0,media:"https://blockly-demo.appspot.com/static/media/",rtl:!1,scrollbars:!0,oneBasedIndex:!0,zoom:{controls:!0,wheel:!0,startScale:1}};function YX({levelData:t,onWin:s,levelIndex:r,onNextLevel:i}){const u=jX[t?.type]||iE,h=u.RenderComponent,[f,g]=br.useState(!0),[y,$]=br.useState(!1),[T,w]=br.useState(""),[I,A]=br.useState(!1),[K,ne]=br.useState(40),[he,V]=br.useState(!1),le=br.useRef(null),te=br.useRef(null),Ce=br.useRef(null),Oe=br.useMemo(()=>({...t,grid:t?.grid||Q0.defaultGrid,startPos:{x:Number(t?.startPos?.x)||0,y:Number(t?.startPos?.y)||0,dir:Number(t?.startPos?.dir)||0},solutionBlocks:t?.solutionBlocks||null,allowedBlocks:t?.allowedBlocks,inputs:t?.inputs,hiddenVars:t?.hiddenVars,lockedVars:t?.lockedVars,id:t?.id,instruction:t?.instruction,startBlocks:t?.startBlocks,maxBlocks:t?.maxBlocks}),[t]),{speed:ce,setSpeed:Be,engineState:je,gameState:_e,solutionLines:b,gameStats:O,proofToken:N,run:R,reset:B,pause:j,stepForward:J,lastAction:fe,currentStep:Ne,totalSteps:qe,goToStep:de,clearSimulation:xe}=WX(le,u,Oe),gt=br.useMemo(()=>({x:Oe.startPos.x,y:Oe.startPos.y,dir:Oe.startPos.dir}),[Oe.startPos]);br.useEffect(()=>{_e==="WON"&&s&&s(O)},[_e,s,O]),br.useEffect(()=>{const yt=setTimeout(()=>{try{hg(),GX(),A(!0)}catch{}},10);return()=>clearTimeout(yt)},[]);const ze=br.useMemo(()=>{const yt=u.getToolboxXML(Oe.allowedBlocks,Oe.inputs,Oe.hiddenVars,Oe.lockedVars);return yt.xml||yt},[u,Oe]),Ft=()=>{if(le.current)try{const yt=$s.workspaceToCode(le.current);w(yt||"# Ajoute des blocs pour voir le code...")}catch(yt){w("# Erreur gnration : "+yt.message)}},Ge=yt=>{if(le.current=yt,xr.init(yt),yt.addChangeListener(Ut=>{Ut.type===Rb.UI||Ut.type===Rb.FINISHED_LOADING||(xe(),y&&Ft())}),yt.updateToolbox(ze),Oe.startBlocks)try{const Ut=tE.xml.textToDom(Oe.startBlocks);eE.domToWorkspace(Ut,yt)}catch{}window.setTimeout(()=>ym(yt),0)};br.useEffect(()=>{y&&Ft()},[y]),br.useEffect(()=>{le.current&&I&&le.current.updateToolbox(ze)},[ze,I]),br.useEffect(()=>{if(!Ce.current)return;const yt=new ResizeObserver(()=>{le.current&&ym(le.current)});return yt.observe(Ce.current),()=>yt.disconnect()},[I]);const et=yt=>{V(!0),yt.preventDefault()};br.useEffect(()=>{const yt=Ht=>{if(!he||!te.current)return;const Me=te.current.getBoundingClientRect(),ut=(Me.right-Ht.clientX)/Me.width*100;ne(Math.min(70,Math.max(20,ut)))},Ut=()=>{V(!1)};return he&&(window.addEventListener("mousemove",yt),window.addEventListener("mouseup",Ut)),()=>{window.removeEventListener("mousemove",yt),window.removeEventListener("mouseup",Ut)}},[he]);const Ct={grid:Oe.grid,playerPos:je?{x:je.x,y:je.y}:gt,playerDir:je?je.dir:gt.dir,state:je||{variables:Oe.inputs,...Oe.equation||{}},history:je?.logs,hiddenVars:Oe.hiddenVars||[],modelLines:b,lastAction:fe};if(!I)return mt.jsx("div",{className:"flex h-full items-center justify-center text-slate-400",children:"Chargement..."});const nt=r!==void 0?`Niveau ${r+1}`:`Niveau ${Oe.id}`;return mt.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[mt.jsxs("div",{className:"h-16 bg-white border-b border-slate-200 px-6 flex items-center justify-between shadow-sm z-20 flex-shrink-0",children:[mt.jsxs("div",{className:"flex items-center gap-3",children:[_e==="RUNNING"?mt.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-amber-100 text-amber-700 hover:bg-amber-200 rounded-lg font-bold transition-colors",children:[mt.jsx("span",{children:""})," Pause"]}):mt.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 rounded-lg font-bold transition-colors shadow-sm hover:shadow-md",children:[mt.jsx("span",{children:""})," ",_e==="PAUSED"?"Reprendre":"Excuter"]}),mt.jsxs("button",{onClick:J,className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-lg font-medium transition-colors",title:"Pas  pas",children:[" ",mt.jsx("span",{className:"hidden sm:inline",children:"Pas  pas"})]}),mt.jsx("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 text-slate-500 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Rinitialiser",children:""})]}),mt.jsxs("div",{className:"flex items-center gap-4",children:[mt.jsxs("button",{onClick:()=>$(!y),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-bold border transition-all
                    ${y?"bg-yellow-50 border-yellow-300 text-yellow-700 shadow-inner":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}
                `,children:[mt.jsx("span",{children:""})," ",mt.jsx("span",{className:"hidden md:inline",children:"Code Python"})]}),mt.jsxs("div",{className:"flex items-center gap-3 bg-slate-100 px-4 py-2 rounded-full",children:[mt.jsx("span",{className:"text-lg",children:""}),mt.jsx("input",{type:"range",min:"0",max:"100",value:ce,onChange:yt=>Be(Number(yt.target.value)),className:"w-24 h-2 bg-slate-300 rounded-lg appearance-none cursor-pointer accent-blue-600"}),mt.jsx("span",{className:"text-lg",children:""})]})]})]}),mt.jsxs("div",{ref:te,className:"flex flex-1 overflow-hidden relative",style:{cursor:he?"col-resize":"auto"},children:[mt.jsx(VX,{title:nt,content:Oe.instruction,isCollapsed:!f,onToggle:()=>g(!f)}),mt.jsx("div",{ref:Ce,className:"flex-1 min-w-0 bg-slate-50 relative flex flex-col",children:mt.jsxs("div",{className:"flex-1 relative",children:[mt.jsx(cg,{className:"blockly-div absolute inset-0",toolboxConfiguration:ze,workspaceConfiguration:XX,onInject:Ge},`${Oe.id}-${u.id}-${JSON.stringify(Oe.allowedBlocks||[])}`),he&&mt.jsx("div",{className:"absolute inset-0 z-50 bg-transparent"})]})}),mt.jsx("div",{onMouseDown:et,className:"w-2 bg-slate-200 hover:bg-blue-400 cursor-col-resize z-30 flex items-center justify-center transition-colors flex-shrink-0",children:mt.jsx("div",{className:"h-8 w-1 bg-slate-400 rounded-full"})}),mt.jsxs("div",{style:{width:`${K}%`},className:"bg-slate-800 flex flex-col shadow-inner flex-shrink-0 relative border-l border-slate-700",children:[mt.jsx("div",{className:"flex-1 relative overflow-hidden",children:y?mt.jsxs("div",{className:"absolute inset-0 bg-[#1e1e1e] p-6 overflow-auto font-mono text-sm text-gray-300",children:[mt.jsxs("h3",{className:"text-yellow-500 font-bold mb-4 flex items-center gap-2 border-b border-gray-700 pb-2",children:[mt.jsx("span",{children:""})," Code Python gnr"]}),mt.jsx("pre",{className:"whitespace-pre-wrap font-mono leading-relaxed",children:T})]}):mt.jsx("div",{className:"w-full h-full flex items-center justify-center",children:mt.jsx(h,{...Ct})})}),!y&&qe>0&&mt.jsxs("div",{className:"h-16 bg-slate-900 border-t border-slate-700 px-4 flex items-center gap-4 shrink-0 animate-in slide-in-from-bottom duration-300",children:[mt.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase w-12",children:"Temps"}),mt.jsx("input",{type:"range",min:"0",max:qe,value:Ne,onChange:yt=>de(parseInt(yt.target.value)),className:"flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500",title:`tape ${Ne} / ${qe}`}),mt.jsxs("span",{className:"text-xs font-mono text-blue-400 font-bold w-12 text-right",children:[Ne,"/",qe]})]}),he&&mt.jsx("div",{className:"absolute inset-0 z-50 bg-transparent"})]}),mt.jsx(LF,{isOpen:_e==="WON"||_e==="LOST"||_e==="FAILED",status:_e,stats:O,token:N,onReplay:()=>{B()},onMenu:()=>window.location.reload(),onNext:i})]})]})}function KX({campaign:t,progress:s,onSelectLevel:r}){return mt.jsxs("div",{style:{padding:"40px",maxWidth:"800px",margin:"0 auto",fontFamily:"sans-serif"},children:[mt.jsxs("h1",{style:{textAlign:"center",color:"#2c3e50",fontSize:"2.5rem"},children:[" ",t.title||"Aventure Blokaly"]}),mt.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"20px",marginTop:"40px"},children:t.levels.map((i,u)=>{const h=s[u-1],f=u===0||h&&h.stars>0,g=s[u],y=g?g.stars:0;return mt.jsxs("button",{disabled:!f,onClick:()=>r(u),style:{aspectRatio:"1/1",background:f?y===3?"#2ecc71":"#f1c40f":"#bdc3c7",border:"none",borderRadius:"15px",cursor:f?"pointer":"not-allowed",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",opacity:f?1:.6,transition:"transform 0.2s"},children:[mt.jsx("span",{style:{fontSize:"2rem",marginBottom:"10px"},children:f?y>0?"":"":""}),mt.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"white"},children:["Niveau ",u+1]}),f&&mt.jsxs("div",{style:{marginTop:"10px",color:"white",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:["".repeat(y),"".repeat(3-y)]})]},u)})})]})}const Z0={api:null,isActive:!1,findAPI:t=>{let s=0;for(;t.API==null&&t.parent!=null&&t.parent!=t&&s<10;)s++,t=t.parent;return t.API},init:()=>{try{const t=Z0.findAPI(window);if(t&&(Z0.api=t,t.LMSInitialize("")==="true"))return console.log(" SCORM: Connect !"),Z0.isActive=!0,t.LMSSetValue("cmi.core.score.min","0"),t.LMSSetValue("cmi.core.score.max","100"),t.LMSSetValue("cmi.core.lesson_status","incomplete"),t.LMSCommit(""),!0}catch{console.warn("SCORM introuvable (Mode local ?)")}return!1},setScore:t=>{if(!Z0.isActive||!Z0.api)return;const s=Math.round(t*100);console.log(` SCORM: Envoi note ${s}/100`),Z0.api.LMSSetValue("cmi.core.score.raw",s),s>=100?Z0.api.LMSSetValue("cmi.core.lesson_status","passed"):Z0.api.LMSSetValue("cmi.core.lesson_status","incomplete"),Z0.api.LMSCommit("")},terminate:()=>{Z0.isActive&&Z0.api&&(console.log(" SCORM: Dconnexion."),Z0.api.LMSFinish(""),Z0.isActive=!1)}};function JX({campaign:t,ltiConfig:s,isTeacherMode:r}){const i=t.levels?t:{title:"Campagne",levels:[t]},[u,h]=br.useState(-1),[f,g]=br.useState(()=>{const w=localStorage.getItem("blokaly_progress");if(w)try{return JSON.parse(w)}catch(I){console.error("Erreur lecture sauvegarde",I)}return{}});br.useEffect(()=>(!s&&!r&&Z0.init(),()=>Z0.terminate()),[s,r]);const y=br.useCallback(w=>{g(I=>{const A={...I,[u]:{stars:w.stars}};localStorage.setItem("blokaly_progress",JSON.stringify(A));const K=i.levels.length;let ne=0;Object.values(A).forEach(le=>ne+=le.stars);const he=K*3,V=he>0?ne/he:0;return Z0.setScore(V),A})},[u,i]),$=br.useCallback(()=>{u<i.levels.length-1?h(w=>w+1):h(-1)},[u,i]),T=()=>h(-1);return u===-1?mt.jsxs("div",{className:"min-h-screen bg-slate-100 font-sans",children:[mt.jsxs("div",{className:"bg-slate-800 text-white p-4 flex justify-between items-center shadow-md",children:[r?mt.jsx("button",{onClick:()=>window.location.href=window.location.pathname,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm font-bold transition-colors",children:" Retour diteur"}):mt.jsx("span",{className:"font-bold text-slate-400",children:"Blokaly 974"}),s&&mt.jsx("span",{className:"bg-emerald-600 px-2 py-1 rounded text-xs font-bold",children:"Mode Not (LTI)"})]}),mt.jsx(KX,{campaign:i,progress:f,onSelectLevel:h})]}):mt.jsxs("div",{className:"h-screen flex flex-col font-sans bg-slate-50",children:[mt.jsxs("div",{className:"h-14 bg-slate-900 text-white flex items-center justify-between px-6 shadow-md z-30",children:[mt.jsxs("div",{className:"flex items-center gap-4",children:[mt.jsxs("button",{onClick:T,className:"text-slate-400 hover:text-white transition-colors flex items-center gap-2 text-sm font-bold",children:[mt.jsx("span",{children:""})," Menu"]}),mt.jsx("div",{className:"h-4 w-px bg-slate-700 mx-2"}),mt.jsxs("span",{className:"font-bold text-lg tracking-wide",children:["Niveau ",u+1]})]}),mt.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wider font-bold",children:s?" Suivi Activ":"Mode Entranement"})]}),mt.jsx(YX,{levelData:i.levels[u],levelIndex:u,onWin:y,onNextLevel:$},u)]})}function ZX({onFileLoaded:t}){const s=br.useRef(null),r=i=>{const u=i.target.files[0];if(!u)return;const h=new FileReader;h.onload=f=>{try{const g=JSON.parse(f.target.result);t(g)}catch(g){alert("Fichier invalide : "+g.message)}},h.readAsText(u)};return mt.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-100 via-blue-50 to-indigo-100 font-sans p-4",children:[mt.jsxs("div",{className:"bg-white/80 backdrop-blur-lg border border-white/50 p-10 rounded-2xl shadow-2xl max-w-lg w-full text-center transition-all hover:shadow-indigo-200/50",children:[mt.jsxs("h1",{className:"text-5xl font-extrabold text-slate-800 mb-2 tracking-tight",children:[" Blokaly ",mt.jsx("span",{className:"text-blue-600",children:"974"})]}),mt.jsx("p",{className:"text-slate-500 text-lg mb-10 font-medium",children:"La plateforme d'algorithmique pour le collge."}),mt.jsxs("div",{className:"mb-8",children:[mt.jsx("h3",{className:"text-sm uppercase tracking-wide text-slate-400 font-bold mb-3",children:"J'ai un fichier d'exercice"}),mt.jsxs("button",{onClick:()=>s.current.click(),className:`w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold py-4 px-6 rounded-xl shadow-lg 
                       transform transition-all duration-200 hover:scale-[1.02] hover:shadow-blue-500/30 active:scale-95 flex items-center justify-center gap-2`,children:[mt.jsx("span",{className:"text-xl",children:""})," Charger un fichier .blokaly"]}),mt.jsx("input",{type:"file",accept:".json",ref:s,style:{display:"none"},onChange:r})]}),mt.jsxs("div",{className:"mb-8",children:[mt.jsx("h3",{className:"text-sm uppercase tracking-wide text-slate-400 font-bold mb-3",children:"Dcouvrir"}),mt.jsx("div",{className:"flex flex-col gap-3",children:mt.jsx("button",{onClick:()=>window.location.href="?url=examples/campagne_de_tests.blokaly.json",className:`w-full bg-white border border-slate-200 text-slate-700 font-semibold py-3 px-4 rounded-xl
                           hover:bg-slate-50 hover:border-blue-300 transition-colors duration-200 flex items-center justify-center gap-2`,children:" Campagne Dmo (Maze & Tortue)"})})]}),mt.jsx("div",{className:"mt-12 pt-6 border-t border-slate-100",children:mt.jsxs("details",{className:"group",children:[mt.jsx("summary",{className:"text-xs text-slate-300 cursor-pointer list-none select-none transition-colors hover:text-slate-400",children:"( Accs Enseignant )"}),mt.jsxs("div",{className:"mt-4 pb-2 animate-in fade-in slide-in-from-top-2 duration-300",children:[mt.jsx("p",{className:"text-xs text-slate-400 mb-3",children:"Crer ou modifier des parcours pdagogiques :"}),mt.jsx("button",{onClick:()=>window.location.href="?mode=editor",className:`bg-slate-100 text-slate-500 border border-slate-200 py-2 px-6 rounded-lg text-sm font-bold
                               hover:bg-slate-200 hover:text-slate-700 transition-colors`,children:" Ouvrir l'Atelier"})]})]})})]}),mt.jsx("style",{children:`
        details > summary::-webkit-details-marker { display: none; }
      `})]})}function QX(){const[t,s]=br.useState("loading"),[r,i]=br.useState(null),[u,h]=br.useState(null),[f,g]=br.useState(!1),y=$=>{i($),s("runner")};return br.useEffect(()=>{const $=new URLSearchParams(window.location.search),T=$.get("data"),w=$.get("url"),I=$.get("lti_token"),A=$.get("api_grade"),K=$.get("preview"),ne=$.get("mode")==="editor";(async()=>{try{if(K&&g(!0),I&&w){console.log(" Mode LTI"),h({token:I,apiUrl:A});const V=await fetch(w);if(!V.ok)throw new Error("URL campagne invalide");i(await V.json()),s("runner")}else if(w){console.log(" Mode Lien JSON");const V=await fetch(w);if(!V.ok)throw new Error("Fichier introuvable");i(await V.json()),s("runner")}else if(T){console.log(" Mode LZString");const V=JT.decompressFromEncodedURIComponent(T);i(JSON.parse(V)),s("runner")}else ne?(console.log(" Mode diteur"),s("builder")):(console.log(" Accueil"),s("home"))}catch(V){console.error("Erreur init:",V),alert("Erreur : "+V.message),s("home")}})()},[]),t==="loading"?mt.jsx("div",{style:{padding:20,textAlign:"center"},children:"Chargement..."}):mt.jsxs("div",{className:"App",children:[t==="home"&&mt.jsx(ZX,{onFileLoaded:y}),t==="builder"&&mt.jsx(DA,{}),t==="runner"&&mt.jsx(JX,{campaign:r,ltiConfig:u,isTeacherMode:f})]})}hg();Jk.createRoot(document.getElementById("root")).render(mt.jsx(QX,{}));
